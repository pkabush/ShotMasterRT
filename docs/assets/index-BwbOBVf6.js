(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const u of a.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function n(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(s){if(s.ep)return;s.ep=!0;const a=n(s);fetch(s.href,a)}})();function ml(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var tp={exports:{}},Pa={};var W0;function UN(){if(W0)return Pa;W0=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(i,s,a){var u=null;if(a!==void 0&&(u=""+a),s.key!==void 0&&(u=""+s.key),"key"in s){a={};for(var f in s)f!=="key"&&(a[f]=s[f])}else a=s;return s=a.ref,{$$typeof:t,type:i,key:u,ref:s!==void 0?s:null,props:a}}return Pa.Fragment=e,Pa.jsx=n,Pa.jsxs=n,Pa}var Z0;function PN(){return Z0||(Z0=1,tp.exports=UN()),tp.exports}var C=PN(),np={exports:{}},Ae={};var j0;function LN(){if(j0)return Ae;j0=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),u=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),_=Symbol.for("react.activity"),S=Symbol.iterator;function T(N){return N===null||typeof N!="object"?null:(N=S&&N[S]||N["@@iterator"],typeof N=="function"?N:null)}var A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,R={};function D(N,Y,ne){this.props=N,this.context=Y,this.refs=R,this.updater=ne||A}D.prototype.isReactComponent={},D.prototype.setState=function(N,Y){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,Y,"setState")},D.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function U(){}U.prototype=D.prototype;function O(N,Y,ne){this.props=N,this.context=Y,this.refs=R,this.updater=ne||A}var L=O.prototype=new U;L.constructor=O,w(L,D.prototype),L.isPureReactComponent=!0;var z=Array.isArray;function $(){}var V={H:null,A:null,T:null,S:null},W=Object.prototype.hasOwnProperty;function Q(N,Y,ne){var ie=ne.ref;return{$$typeof:t,type:N,key:Y,ref:ie!==void 0?ie:null,props:ne}}function te(N,Y){return Q(N.type,Y,N.props)}function ee(N){return typeof N=="object"&&N!==null&&N.$$typeof===t}function ce(N){var Y={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(ne){return Y[ne]})}var se=/\/+/g;function Se(N,Y){return typeof N=="object"&&N!==null&&N.key!=null?ce(""+N.key):Y.toString(36)}function Me(N){switch(N.status){case"fulfilled":return N.value;case"rejected":throw N.reason;default:switch(typeof N.status=="string"?N.then($,$):(N.status="pending",N.then(function(Y){N.status==="pending"&&(N.status="fulfilled",N.value=Y)},function(Y){N.status==="pending"&&(N.status="rejected",N.reason=Y)})),N.status){case"fulfilled":return N.value;case"rejected":throw N.reason}}throw N}function k(N,Y,ne,ie,de){var Ee=typeof N;(Ee==="undefined"||Ee==="boolean")&&(N=null);var Ne=!1;if(N===null)Ne=!0;else switch(Ee){case"bigint":case"string":case"number":Ne=!0;break;case"object":switch(N.$$typeof){case t:case e:Ne=!0;break;case v:return Ne=N._init,k(Ne(N._payload),Y,ne,ie,de)}}if(Ne)return de=de(N),Ne=ie===""?"."+Se(N,0):ie,z(de)?(ne="",Ne!=null&&(ne=Ne.replace(se,"$&/")+"/"),k(de,Y,ne,"",function(Dn){return Dn})):de!=null&&(ee(de)&&(de=te(de,ne+(de.key==null||N&&N.key===de.key?"":(""+de.key).replace(se,"$&/")+"/")+Ne)),Y.push(de)),1;Ne=0;var Ze=ie===""?".":ie+":";if(z(N))for(var $e=0;$e<N.length;$e++)ie=N[$e],Ee=Ze+Se(ie,$e),Ne+=k(ie,Y,ne,Ee,de);else if($e=T(N),typeof $e=="function")for(N=$e.call(N),$e=0;!(ie=N.next()).done;)ie=ie.value,Ee=Ze+Se(ie,$e++),Ne+=k(ie,Y,ne,Ee,de);else if(Ee==="object"){if(typeof N.then=="function")return k(Me(N),Y,ne,ie,de);throw Y=String(N),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return Ne}function Z(N,Y,ne){if(N==null)return N;var ie=[],de=0;return k(N,ie,"","",function(Ee){return Y.call(ne,Ee,de++)}),ie}function ae(N){if(N._status===-1){var Y=N._result;Y=Y(),Y.then(function(ne){(N._status===0||N._status===-1)&&(N._status=1,N._result=ne)},function(ne){(N._status===0||N._status===-1)&&(N._status=2,N._result=ne)}),N._status===-1&&(N._status=0,N._result=Y)}if(N._status===1)return N._result.default;throw N._result}var be=typeof reportError=="function"?reportError:function(N){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof N=="object"&&N!==null&&typeof N.message=="string"?String(N.message):String(N),error:N});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",N);return}console.error(N)},ye={map:Z,forEach:function(N,Y,ne){Z(N,function(){Y.apply(this,arguments)},ne)},count:function(N){var Y=0;return Z(N,function(){Y++}),Y},toArray:function(N){return Z(N,function(Y){return Y})||[]},only:function(N){if(!ee(N))throw Error("React.Children.only expected to receive a single React element child.");return N}};return Ae.Activity=_,Ae.Children=ye,Ae.Component=D,Ae.Fragment=n,Ae.Profiler=s,Ae.PureComponent=O,Ae.StrictMode=i,Ae.Suspense=p,Ae.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=V,Ae.__COMPILER_RUNTIME={__proto__:null,c:function(N){return V.H.useMemoCache(N)}},Ae.cache=function(N){return function(){return N.apply(null,arguments)}},Ae.cacheSignal=function(){return null},Ae.cloneElement=function(N,Y,ne){if(N==null)throw Error("The argument must be a React element, but you passed "+N+".");var ie=w({},N.props),de=N.key;if(Y!=null)for(Ee in Y.key!==void 0&&(de=""+Y.key),Y)!W.call(Y,Ee)||Ee==="key"||Ee==="__self"||Ee==="__source"||Ee==="ref"&&Y.ref===void 0||(ie[Ee]=Y[Ee]);var Ee=arguments.length-2;if(Ee===1)ie.children=ne;else if(1<Ee){for(var Ne=Array(Ee),Ze=0;Ze<Ee;Ze++)Ne[Ze]=arguments[Ze+2];ie.children=Ne}return Q(N.type,de,ie)},Ae.createContext=function(N){return N={$$typeof:u,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null},N.Provider=N,N.Consumer={$$typeof:a,_context:N},N},Ae.createElement=function(N,Y,ne){var ie,de={},Ee=null;if(Y!=null)for(ie in Y.key!==void 0&&(Ee=""+Y.key),Y)W.call(Y,ie)&&ie!=="key"&&ie!=="__self"&&ie!=="__source"&&(de[ie]=Y[ie]);var Ne=arguments.length-2;if(Ne===1)de.children=ne;else if(1<Ne){for(var Ze=Array(Ne),$e=0;$e<Ne;$e++)Ze[$e]=arguments[$e+2];de.children=Ze}if(N&&N.defaultProps)for(ie in Ne=N.defaultProps,Ne)de[ie]===void 0&&(de[ie]=Ne[ie]);return Q(N,Ee,de)},Ae.createRef=function(){return{current:null}},Ae.forwardRef=function(N){return{$$typeof:f,render:N}},Ae.isValidElement=ee,Ae.lazy=function(N){return{$$typeof:v,_payload:{_status:-1,_result:N},_init:ae}},Ae.memo=function(N,Y){return{$$typeof:h,type:N,compare:Y===void 0?null:Y}},Ae.startTransition=function(N){var Y=V.T,ne={};V.T=ne;try{var ie=N(),de=V.S;de!==null&&de(ne,ie),typeof ie=="object"&&ie!==null&&typeof ie.then=="function"&&ie.then($,be)}catch(Ee){be(Ee)}finally{Y!==null&&ne.types!==null&&(Y.types=ne.types),V.T=Y}},Ae.unstable_useCacheRefresh=function(){return V.H.useCacheRefresh()},Ae.use=function(N){return V.H.use(N)},Ae.useActionState=function(N,Y,ne){return V.H.useActionState(N,Y,ne)},Ae.useCallback=function(N,Y){return V.H.useCallback(N,Y)},Ae.useContext=function(N){return V.H.useContext(N)},Ae.useDebugValue=function(){},Ae.useDeferredValue=function(N,Y){return V.H.useDeferredValue(N,Y)},Ae.useEffect=function(N,Y){return V.H.useEffect(N,Y)},Ae.useEffectEvent=function(N){return V.H.useEffectEvent(N)},Ae.useId=function(){return V.H.useId()},Ae.useImperativeHandle=function(N,Y,ne){return V.H.useImperativeHandle(N,Y,ne)},Ae.useInsertionEffect=function(N,Y){return V.H.useInsertionEffect(N,Y)},Ae.useLayoutEffect=function(N,Y){return V.H.useLayoutEffect(N,Y)},Ae.useMemo=function(N,Y){return V.H.useMemo(N,Y)},Ae.useOptimistic=function(N,Y){return V.H.useOptimistic(N,Y)},Ae.useReducer=function(N,Y,ne){return V.H.useReducer(N,Y,ne)},Ae.useRef=function(N){return V.H.useRef(N)},Ae.useState=function(N){return V.H.useState(N)},Ae.useSyncExternalStore=function(N,Y,ne){return V.H.useSyncExternalStore(N,Y,ne)},Ae.useTransition=function(){return V.H.useTransition()},Ae.version="19.2.1",Ae}var eS;function ff(){return eS||(eS=1,np.exports=LN()),np.exports}var x=ff();const _t=ml(x);var ip={exports:{}},La={},op={exports:{}},rp={};var tS;function kN(){return tS||(tS=1,(function(t){function e(k,Z){var ae=k.length;k.push(Z);e:for(;0<ae;){var be=ae-1>>>1,ye=k[be];if(0<s(ye,Z))k[be]=Z,k[ae]=ye,ae=be;else break e}}function n(k){return k.length===0?null:k[0]}function i(k){if(k.length===0)return null;var Z=k[0],ae=k.pop();if(ae!==Z){k[0]=ae;e:for(var be=0,ye=k.length,N=ye>>>1;be<N;){var Y=2*(be+1)-1,ne=k[Y],ie=Y+1,de=k[ie];if(0>s(ne,ae))ie<ye&&0>s(de,ne)?(k[be]=de,k[ie]=ae,be=ie):(k[be]=ne,k[Y]=ae,be=Y);else if(ie<ye&&0>s(de,ae))k[be]=de,k[ie]=ae,be=ie;else break e}}return Z}function s(k,Z){var ae=k.sortIndex-Z.sortIndex;return ae!==0?ae:k.id-Z.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var u=Date,f=u.now();t.unstable_now=function(){return u.now()-f}}var p=[],h=[],v=1,_=null,S=3,T=!1,A=!1,w=!1,R=!1,D=typeof setTimeout=="function"?setTimeout:null,U=typeof clearTimeout=="function"?clearTimeout:null,O=typeof setImmediate<"u"?setImmediate:null;function L(k){for(var Z=n(h);Z!==null;){if(Z.callback===null)i(h);else if(Z.startTime<=k)i(h),Z.sortIndex=Z.expirationTime,e(p,Z);else break;Z=n(h)}}function z(k){if(w=!1,L(k),!A)if(n(p)!==null)A=!0,$||($=!0,ce());else{var Z=n(h);Z!==null&&Me(z,Z.startTime-k)}}var $=!1,V=-1,W=5,Q=-1;function te(){return R?!0:!(t.unstable_now()-Q<W)}function ee(){if(R=!1,$){var k=t.unstable_now();Q=k;var Z=!0;try{e:{A=!1,w&&(w=!1,U(V),V=-1),T=!0;var ae=S;try{t:{for(L(k),_=n(p);_!==null&&!(_.expirationTime>k&&te());){var be=_.callback;if(typeof be=="function"){_.callback=null,S=_.priorityLevel;var ye=be(_.expirationTime<=k);if(k=t.unstable_now(),typeof ye=="function"){_.callback=ye,L(k),Z=!0;break t}_===n(p)&&i(p),L(k)}else i(p);_=n(p)}if(_!==null)Z=!0;else{var N=n(h);N!==null&&Me(z,N.startTime-k),Z=!1}}break e}finally{_=null,S=ae,T=!1}Z=void 0}}finally{Z?ce():$=!1}}}var ce;if(typeof O=="function")ce=function(){O(ee)};else if(typeof MessageChannel<"u"){var se=new MessageChannel,Se=se.port2;se.port1.onmessage=ee,ce=function(){Se.postMessage(null)}}else ce=function(){D(ee,0)};function Me(k,Z){V=D(function(){k(t.unstable_now())},Z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(k){k.callback=null},t.unstable_forceFrameRate=function(k){0>k||125<k?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):W=0<k?Math.floor(1e3/k):5},t.unstable_getCurrentPriorityLevel=function(){return S},t.unstable_next=function(k){switch(S){case 1:case 2:case 3:var Z=3;break;default:Z=S}var ae=S;S=Z;try{return k()}finally{S=ae}},t.unstable_requestPaint=function(){R=!0},t.unstable_runWithPriority=function(k,Z){switch(k){case 1:case 2:case 3:case 4:case 5:break;default:k=3}var ae=S;S=k;try{return Z()}finally{S=ae}},t.unstable_scheduleCallback=function(k,Z,ae){var be=t.unstable_now();switch(typeof ae=="object"&&ae!==null?(ae=ae.delay,ae=typeof ae=="number"&&0<ae?be+ae:be):ae=be,k){case 1:var ye=-1;break;case 2:ye=250;break;case 5:ye=1073741823;break;case 4:ye=1e4;break;default:ye=5e3}return ye=ae+ye,k={id:v++,callback:Z,priorityLevel:k,startTime:ae,expirationTime:ye,sortIndex:-1},ae>be?(k.sortIndex=ae,e(h,k),n(p)===null&&k===n(h)&&(w?(U(V),V=-1):w=!0,Me(z,ae-be))):(k.sortIndex=ye,e(p,k),A||T||(A=!0,$||($=!0,ce()))),k},t.unstable_shouldYield=te,t.unstable_wrapCallback=function(k){var Z=S;return function(){var ae=S;S=Z;try{return k.apply(this,arguments)}finally{S=ae}}}})(rp)),rp}var nS;function BN(){return nS||(nS=1,op.exports=kN()),op.exports}var sp={exports:{}},Nt={};var iS;function HN(){if(iS)return Nt;iS=1;var t=ff();function e(p){var h="https://react.dev/errors/"+p;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)h+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+p+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},s=Symbol.for("react.portal");function a(p,h,v){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:_==null?null:""+_,children:p,containerInfo:h,implementation:v}}var u=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(p,h){if(p==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return Nt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Nt.createPortal=function(p,h){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(e(299));return a(p,h,null,v)},Nt.flushSync=function(p){var h=u.T,v=i.p;try{if(u.T=null,i.p=2,p)return p()}finally{u.T=h,i.p=v,i.d.f()}},Nt.preconnect=function(p,h){typeof p=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,i.d.C(p,h))},Nt.prefetchDNS=function(p){typeof p=="string"&&i.d.D(p)},Nt.preinit=function(p,h){if(typeof p=="string"&&h&&typeof h.as=="string"){var v=h.as,_=f(v,h.crossOrigin),S=typeof h.integrity=="string"?h.integrity:void 0,T=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;v==="style"?i.d.S(p,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:_,integrity:S,fetchPriority:T}):v==="script"&&i.d.X(p,{crossOrigin:_,integrity:S,fetchPriority:T,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},Nt.preinitModule=function(p,h){if(typeof p=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var v=f(h.as,h.crossOrigin);i.d.M(p,{crossOrigin:v,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&i.d.M(p)},Nt.preload=function(p,h){if(typeof p=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var v=h.as,_=f(v,h.crossOrigin);i.d.L(p,v,{crossOrigin:_,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},Nt.preloadModule=function(p,h){if(typeof p=="string")if(h){var v=f(h.as,h.crossOrigin);i.d.m(p,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:v,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else i.d.m(p)},Nt.requestFormReset=function(p){i.d.r(p)},Nt.unstable_batchedUpdates=function(p,h){return p(h)},Nt.useFormState=function(p,h,v){return u.H.useFormState(p,h,v)},Nt.useFormStatus=function(){return u.H.useHostTransitionStatus()},Nt.version="19.2.1",Nt}var oS;function Tb(){if(oS)return sp.exports;oS=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),sp.exports=HN(),sp.exports}var rS;function VN(){if(rS)return La;rS=1;var t=BN(),e=ff(),n=Tb();function i(o){var r="https://react.dev/errors/"+o;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)r+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+o+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function a(o){var r=o,l=o;if(o.alternate)for(;r.return;)r=r.return;else{o=r;do r=o,(r.flags&4098)!==0&&(l=r.return),o=r.return;while(o)}return r.tag===3?l:null}function u(o){if(o.tag===13){var r=o.memoizedState;if(r===null&&(o=o.alternate,o!==null&&(r=o.memoizedState)),r!==null)return r.dehydrated}return null}function f(o){if(o.tag===31){var r=o.memoizedState;if(r===null&&(o=o.alternate,o!==null&&(r=o.memoizedState)),r!==null)return r.dehydrated}return null}function p(o){if(a(o)!==o)throw Error(i(188))}function h(o){var r=o.alternate;if(!r){if(r=a(o),r===null)throw Error(i(188));return r!==o?null:o}for(var l=o,c=r;;){var g=l.return;if(g===null)break;var y=g.alternate;if(y===null){if(c=g.return,c!==null){l=c;continue}break}if(g.child===y.child){for(y=g.child;y;){if(y===l)return p(g),o;if(y===c)return p(g),r;y=y.sibling}throw Error(i(188))}if(l.return!==c.return)l=g,c=y;else{for(var E=!1,b=g.child;b;){if(b===l){E=!0,l=g,c=y;break}if(b===c){E=!0,c=g,l=y;break}b=b.sibling}if(!E){for(b=y.child;b;){if(b===l){E=!0,l=y,c=g;break}if(b===c){E=!0,c=y,l=g;break}b=b.sibling}if(!E)throw Error(i(189))}}if(l.alternate!==c)throw Error(i(190))}if(l.tag!==3)throw Error(i(188));return l.stateNode.current===l?o:r}function v(o){var r=o.tag;if(r===5||r===26||r===27||r===6)return o;for(o=o.child;o!==null;){if(r=v(o),r!==null)return r;o=o.sibling}return null}var _=Object.assign,S=Symbol.for("react.element"),T=Symbol.for("react.transitional.element"),A=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),R=Symbol.for("react.strict_mode"),D=Symbol.for("react.profiler"),U=Symbol.for("react.consumer"),O=Symbol.for("react.context"),L=Symbol.for("react.forward_ref"),z=Symbol.for("react.suspense"),$=Symbol.for("react.suspense_list"),V=Symbol.for("react.memo"),W=Symbol.for("react.lazy"),Q=Symbol.for("react.activity"),te=Symbol.for("react.memo_cache_sentinel"),ee=Symbol.iterator;function ce(o){return o===null||typeof o!="object"?null:(o=ee&&o[ee]||o["@@iterator"],typeof o=="function"?o:null)}var se=Symbol.for("react.client.reference");function Se(o){if(o==null)return null;if(typeof o=="function")return o.$$typeof===se?null:o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case w:return"Fragment";case D:return"Profiler";case R:return"StrictMode";case z:return"Suspense";case $:return"SuspenseList";case Q:return"Activity"}if(typeof o=="object")switch(o.$$typeof){case A:return"Portal";case O:return o.displayName||"Context";case U:return(o._context.displayName||"Context")+".Consumer";case L:var r=o.render;return o=o.displayName,o||(o=r.displayName||r.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case V:return r=o.displayName||null,r!==null?r:Se(o.type)||"Memo";case W:r=o._payload,o=o._init;try{return Se(o(r))}catch{}}return null}var Me=Array.isArray,k=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Z=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae={pending:!1,data:null,method:null,action:null},be=[],ye=-1;function N(o){return{current:o}}function Y(o){0>ye||(o.current=be[ye],be[ye]=null,ye--)}function ne(o,r){ye++,be[ye]=o.current,o.current=r}var ie=N(null),de=N(null),Ee=N(null),Ne=N(null);function Ze(o,r){switch(ne(Ee,r),ne(de,o),ne(ie,null),r.nodeType){case 9:case 11:o=(o=r.documentElement)&&(o=o.namespaceURI)?S0(o):0;break;default:if(o=r.tagName,r=r.namespaceURI)r=S0(r),o=E0(r,o);else switch(o){case"svg":o=1;break;case"math":o=2;break;default:o=0}}Y(ie),ne(ie,o)}function $e(){Y(ie),Y(de),Y(Ee)}function Dn(o){o.memoizedState!==null&&ne(Ne,o);var r=ie.current,l=E0(r,o.type);r!==l&&(ne(de,o),ne(ie,l))}function Kn(o){de.current===o&&(Y(ie),Y(de)),Ne.current===o&&(Y(Ne),Ia._currentValue=ae)}var Fi,li;function Bt(o){if(Fi===void 0)try{throw Error()}catch(l){var r=l.stack.trim().match(/\n( *(at )?)/);Fi=r&&r[1]||"",li=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Fi+o+li}var Xe=!1;function ui(o,r){if(!o||Xe)return"";Xe=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(r){var X=function(){throw Error()};if(Object.defineProperty(X.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(X,[])}catch(F){var q=F}Reflect.construct(o,[],X)}else{try{X.call()}catch(F){q=F}o.call(X.prototype)}}else{try{throw Error()}catch(F){q=F}(X=o())&&typeof X.catch=="function"&&X.catch(function(){})}}catch(F){if(F&&q&&typeof F.stack=="string")return[F.stack,q.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var g=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");g&&g.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=c.DetermineComponentFrameRoot(),E=y[0],b=y[1];if(E&&b){var M=E.split(`
`),H=b.split(`
`);for(g=c=0;c<M.length&&!M[c].includes("DetermineComponentFrameRoot");)c++;for(;g<H.length&&!H[g].includes("DetermineComponentFrameRoot");)g++;if(c===M.length||g===H.length)for(c=M.length-1,g=H.length-1;1<=c&&0<=g&&M[c]!==H[g];)g--;for(;1<=c&&0<=g;c--,g--)if(M[c]!==H[g]){if(c!==1||g!==1)do if(c--,g--,0>g||M[c]!==H[g]){var J=`
`+M[c].replace(" at new "," at ");return o.displayName&&J.includes("<anonymous>")&&(J=J.replace("<anonymous>",o.displayName)),J}while(1<=c&&0<=g);break}}}finally{Xe=!1,Error.prepareStackTrace=l}return(l=o?o.displayName||o.name:"")?Bt(l):""}function zi(o,r){switch(o.tag){case 26:case 27:case 5:return Bt(o.type);case 16:return Bt("Lazy");case 13:return o.child!==r&&r!==null?Bt("Suspense Fallback"):Bt("Suspense");case 19:return Bt("SuspenseList");case 0:case 15:return ui(o.type,!1);case 11:return ui(o.type.render,!1);case 1:return ui(o.type,!0);case 31:return Bt("Activity");default:return""}}function Pl(o){try{var r="",l=null;do r+=zi(o,l),l=o,o=o.return;while(o);return r}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}var Vs=Object.prototype.hasOwnProperty,On=t.unstable_scheduleCallback,Ji=t.unstable_cancelCallback,Ll=t.unstable_shouldYield,kl=t.unstable_requestPaint,Et=t.unstable_now,Bl=t.unstable_getCurrentPriorityLevel,Gs=t.unstable_ImmediatePriority,qs=t.unstable_UserBlockingPriority,Po=t.unstable_NormalPriority,mx=t.unstable_LowPriority,ev=t.unstable_IdlePriority,gx=t.log,vx=t.unstable_setDisableYieldValue,$s=null,Xt=null;function Yi(o){if(typeof gx=="function"&&vx(o),Xt&&typeof Xt.setStrictMode=="function")try{Xt.setStrictMode($s,o)}catch{}}var Qt=Math.clz32?Math.clz32:Sx,yx=Math.log,_x=Math.LN2;function Sx(o){return o>>>=0,o===0?32:31-(yx(o)/_x|0)|0}var Hl=256,Vl=262144,Gl=4194304;function Lo(o){var r=o&42;if(r!==0)return r;switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return o&261888;case 262144:case 524288:case 1048576:case 2097152:return o&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return o&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return o}}function ql(o,r,l){var c=o.pendingLanes;if(c===0)return 0;var g=0,y=o.suspendedLanes,E=o.pingedLanes;o=o.warmLanes;var b=c&134217727;return b!==0?(c=b&~y,c!==0?g=Lo(c):(E&=b,E!==0?g=Lo(E):l||(l=b&~o,l!==0&&(g=Lo(l))))):(b=c&~y,b!==0?g=Lo(b):E!==0?g=Lo(E):l||(l=c&~o,l!==0&&(g=Lo(l)))),g===0?0:r!==0&&r!==g&&(r&y)===0&&(y=g&-g,l=r&-r,y>=l||y===32&&(l&4194048)!==0)?r:g}function Fs(o,r){return(o.pendingLanes&~(o.suspendedLanes&~o.pingedLanes)&r)===0}function Ex(o,r){switch(o){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function tv(){var o=Gl;return Gl<<=1,(Gl&62914560)===0&&(Gl=4194304),o}function $f(o){for(var r=[],l=0;31>l;l++)r.push(o);return r}function zs(o,r){o.pendingLanes|=r,r!==268435456&&(o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0)}function Tx(o,r,l,c,g,y){var E=o.pendingLanes;o.pendingLanes=l,o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0,o.expiredLanes&=l,o.entangledLanes&=l,o.errorRecoveryDisabledLanes&=l,o.shellSuspendCounter=0;var b=o.entanglements,M=o.expirationTimes,H=o.hiddenUpdates;for(l=E&~l;0<l;){var J=31-Qt(l),X=1<<J;b[J]=0,M[J]=-1;var q=H[J];if(q!==null)for(H[J]=null,J=0;J<q.length;J++){var F=q[J];F!==null&&(F.lane&=-536870913)}l&=~X}c!==0&&nv(o,c,0),y!==0&&g===0&&o.tag!==0&&(o.suspendedLanes|=y&~(E&~r))}function nv(o,r,l){o.pendingLanes|=r,o.suspendedLanes&=~r;var c=31-Qt(r);o.entangledLanes|=r,o.entanglements[c]=o.entanglements[c]|1073741824|l&261930}function iv(o,r){var l=o.entangledLanes|=r;for(o=o.entanglements;l;){var c=31-Qt(l),g=1<<c;g&r|o[c]&r&&(o[c]|=r),l&=~g}}function ov(o,r){var l=r&-r;return l=(l&42)!==0?1:Ff(l),(l&(o.suspendedLanes|r))!==0?0:l}function Ff(o){switch(o){case 2:o=1;break;case 8:o=4;break;case 32:o=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:o=128;break;case 268435456:o=134217728;break;default:o=0}return o}function zf(o){return o&=-o,2<o?8<o?(o&134217727)!==0?32:268435456:8:2}function rv(){var o=Z.p;return o!==0?o:(o=window.event,o===void 0?32:F0(o.type))}function sv(o,r){var l=Z.p;try{return Z.p=o,r()}finally{Z.p=l}}var Ki=Math.random().toString(36).slice(2),Tt="__reactFiber$"+Ki,Ht="__reactProps$"+Ki,Sr="__reactContainer$"+Ki,Jf="__reactEvents$"+Ki,bx="__reactListeners$"+Ki,Ax="__reactHandles$"+Ki,av="__reactResources$"+Ki,Js="__reactMarker$"+Ki;function Yf(o){delete o[Tt],delete o[Ht],delete o[Jf],delete o[bx],delete o[Ax]}function Er(o){var r=o[Tt];if(r)return r;for(var l=o.parentNode;l;){if(r=l[Sr]||l[Tt]){if(l=r.alternate,r.child!==null||l!==null&&l.child!==null)for(o=x0(o);o!==null;){if(l=o[Tt])return l;o=x0(o)}return r}o=l,l=o.parentNode}return null}function Tr(o){if(o=o[Tt]||o[Sr]){var r=o.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return o}return null}function Ys(o){var r=o.tag;if(r===5||r===26||r===27||r===6)return o.stateNode;throw Error(i(33))}function br(o){var r=o[av];return r||(r=o[av]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function mt(o){o[Js]=!0}var lv=new Set,uv={};function ko(o,r){Ar(o,r),Ar(o+"Capture",r)}function Ar(o,r){for(uv[o]=r,o=0;o<r.length;o++)lv.add(r[o])}var Cx=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),cv={},fv={};function wx(o){return Vs.call(fv,o)?!0:Vs.call(cv,o)?!1:Cx.test(o)?fv[o]=!0:(cv[o]=!0,!1)}function $l(o,r,l){if(wx(r))if(l===null)o.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":o.removeAttribute(r);return;case"boolean":var c=r.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){o.removeAttribute(r);return}}o.setAttribute(r,""+l)}}function Fl(o,r,l){if(l===null)o.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(r);return}o.setAttribute(r,""+l)}}function ci(o,r,l,c){if(c===null)o.removeAttribute(l);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(l);return}o.setAttributeNS(r,l,""+c)}}function dn(o){switch(typeof o){case"bigint":case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function dv(o){var r=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Rx(o,r,l){var c=Object.getOwnPropertyDescriptor(o.constructor.prototype,r);if(!o.hasOwnProperty(r)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var g=c.get,y=c.set;return Object.defineProperty(o,r,{configurable:!0,get:function(){return g.call(this)},set:function(E){l=""+E,y.call(this,E)}}),Object.defineProperty(o,r,{enumerable:c.enumerable}),{getValue:function(){return l},setValue:function(E){l=""+E},stopTracking:function(){o._valueTracker=null,delete o[r]}}}}function Kf(o){if(!o._valueTracker){var r=dv(o)?"checked":"value";o._valueTracker=Rx(o,r,""+o[r])}}function hv(o){if(!o)return!1;var r=o._valueTracker;if(!r)return!0;var l=r.getValue(),c="";return o&&(c=dv(o)?o.checked?"true":"false":o.value),o=c,o!==l?(r.setValue(o),!0):!1}function zl(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}var xx=/[\n"\\]/g;function hn(o){return o.replace(xx,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function Xf(o,r,l,c,g,y,E,b){o.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?o.type=E:o.removeAttribute("type"),r!=null?E==="number"?(r===0&&o.value===""||o.value!=r)&&(o.value=""+dn(r)):o.value!==""+dn(r)&&(o.value=""+dn(r)):E!=="submit"&&E!=="reset"||o.removeAttribute("value"),r!=null?Qf(o,E,dn(r)):l!=null?Qf(o,E,dn(l)):c!=null&&o.removeAttribute("value"),g==null&&y!=null&&(o.defaultChecked=!!y),g!=null&&(o.checked=g&&typeof g!="function"&&typeof g!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?o.name=""+dn(b):o.removeAttribute("name")}function pv(o,r,l,c,g,y,E,b){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(o.type=y),r!=null||l!=null){if(!(y!=="submit"&&y!=="reset"||r!=null)){Kf(o);return}l=l!=null?""+dn(l):"",r=r!=null?""+dn(r):l,b||r===o.value||(o.value=r),o.defaultValue=r}c=c??g,c=typeof c!="function"&&typeof c!="symbol"&&!!c,o.checked=b?o.checked:!!c,o.defaultChecked=!!c,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(o.name=E),Kf(o)}function Qf(o,r,l){r==="number"&&zl(o.ownerDocument)===o||o.defaultValue===""+l||(o.defaultValue=""+l)}function Cr(o,r,l,c){if(o=o.options,r){r={};for(var g=0;g<l.length;g++)r["$"+l[g]]=!0;for(l=0;l<o.length;l++)g=r.hasOwnProperty("$"+o[l].value),o[l].selected!==g&&(o[l].selected=g),g&&c&&(o[l].defaultSelected=!0)}else{for(l=""+dn(l),r=null,g=0;g<o.length;g++){if(o[g].value===l){o[g].selected=!0,c&&(o[g].defaultSelected=!0);return}r!==null||o[g].disabled||(r=o[g])}r!==null&&(r.selected=!0)}}function mv(o,r,l){if(r!=null&&(r=""+dn(r),r!==o.value&&(o.value=r),l==null)){o.defaultValue!==r&&(o.defaultValue=r);return}o.defaultValue=l!=null?""+dn(l):""}function gv(o,r,l,c){if(r==null){if(c!=null){if(l!=null)throw Error(i(92));if(Me(c)){if(1<c.length)throw Error(i(93));c=c[0]}l=c}l==null&&(l=""),r=l}l=dn(r),o.defaultValue=l,c=o.textContent,c===l&&c!==""&&c!==null&&(o.value=c),Kf(o)}function wr(o,r){if(r){var l=o.firstChild;if(l&&l===o.lastChild&&l.nodeType===3){l.nodeValue=r;return}}o.textContent=r}var Mx=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function vv(o,r,l){var c=r.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?c?o.setProperty(r,""):r==="float"?o.cssFloat="":o[r]="":c?o.setProperty(r,l):typeof l!="number"||l===0||Mx.has(r)?r==="float"?o.cssFloat=l:o[r]=(""+l).trim():o[r]=l+"px"}function yv(o,r,l){if(r!=null&&typeof r!="object")throw Error(i(62));if(o=o.style,l!=null){for(var c in l)!l.hasOwnProperty(c)||r!=null&&r.hasOwnProperty(c)||(c.indexOf("--")===0?o.setProperty(c,""):c==="float"?o.cssFloat="":o[c]="");for(var g in r)c=r[g],r.hasOwnProperty(g)&&l[g]!==c&&vv(o,g,c)}else for(var y in r)r.hasOwnProperty(y)&&vv(o,y,r[y])}function Wf(o){if(o.indexOf("-")===-1)return!1;switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Nx=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ix=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Jl(o){return Ix.test(""+o)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":o}function fi(){}var Zf=null;function jf(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var Rr=null,xr=null;function _v(o){var r=Tr(o);if(r&&(o=r.stateNode)){var l=o[Ht]||null;e:switch(o=r.stateNode,r.type){case"input":if(Xf(o,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),r=l.name,l.type==="radio"&&r!=null){for(l=o;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+hn(""+r)+'"][type="radio"]'),r=0;r<l.length;r++){var c=l[r];if(c!==o&&c.form===o.form){var g=c[Ht]||null;if(!g)throw Error(i(90));Xf(c,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(r=0;r<l.length;r++)c=l[r],c.form===o.form&&hv(c)}break e;case"textarea":mv(o,l.value,l.defaultValue);break e;case"select":r=l.value,r!=null&&Cr(o,!!l.multiple,r,!1)}}}var ed=!1;function Sv(o,r,l){if(ed)return o(r,l);ed=!0;try{var c=o(r);return c}finally{if(ed=!1,(Rr!==null||xr!==null)&&(Ou(),Rr&&(r=Rr,o=xr,xr=Rr=null,_v(r),o)))for(r=0;r<o.length;r++)_v(o[r])}}function Ks(o,r){var l=o.stateNode;if(l===null)return null;var c=l[Ht]||null;if(c===null)return null;l=c[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(o=o.type,c=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!c;break e;default:o=!1}if(o)return null;if(l&&typeof l!="function")throw Error(i(231,r,typeof l));return l}var di=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),td=!1;if(di)try{var Xs={};Object.defineProperty(Xs,"passive",{get:function(){td=!0}}),window.addEventListener("test",Xs,Xs),window.removeEventListener("test",Xs,Xs)}catch{td=!1}var Xi=null,nd=null,Yl=null;function Ev(){if(Yl)return Yl;var o,r=nd,l=r.length,c,g="value"in Xi?Xi.value:Xi.textContent,y=g.length;for(o=0;o<l&&r[o]===g[o];o++);var E=l-o;for(c=1;c<=E&&r[l-c]===g[y-c];c++);return Yl=g.slice(o,1<c?1-c:void 0)}function Kl(o){var r=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&r===13&&(o=13)):o=r,o===10&&(o=13),32<=o||o===13?o:0}function Xl(){return!0}function Tv(){return!1}function Vt(o){function r(l,c,g,y,E){this._reactName=l,this._targetInst=g,this.type=c,this.nativeEvent=y,this.target=E,this.currentTarget=null;for(var b in o)o.hasOwnProperty(b)&&(l=o[b],this[b]=l?l(y):y[b]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?Xl:Tv,this.isPropagationStopped=Tv,this}return _(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Xl)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Xl)},persist:function(){},isPersistent:Xl}),r}var Bo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ql=Vt(Bo),Qs=_({},Bo,{view:0,detail:0}),Dx=Vt(Qs),id,od,Ws,Wl=_({},Qs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:sd,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==Ws&&(Ws&&o.type==="mousemove"?(id=o.screenX-Ws.screenX,od=o.screenY-Ws.screenY):od=id=0,Ws=o),id)},movementY:function(o){return"movementY"in o?o.movementY:od}}),bv=Vt(Wl),Ox=_({},Wl,{dataTransfer:0}),Ux=Vt(Ox),Px=_({},Qs,{relatedTarget:0}),rd=Vt(Px),Lx=_({},Bo,{animationName:0,elapsedTime:0,pseudoElement:0}),kx=Vt(Lx),Bx=_({},Bo,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),Hx=Vt(Bx),Vx=_({},Bo,{data:0}),Av=Vt(Vx),Gx={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},qx={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},$x={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Fx(o){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(o):(o=$x[o])?!!r[o]:!1}function sd(){return Fx}var zx=_({},Qs,{key:function(o){if(o.key){var r=Gx[o.key]||o.key;if(r!=="Unidentified")return r}return o.type==="keypress"?(o=Kl(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?qx[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:sd,charCode:function(o){return o.type==="keypress"?Kl(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?Kl(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),Jx=Vt(zx),Yx=_({},Wl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Cv=Vt(Yx),Kx=_({},Qs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:sd}),Xx=Vt(Kx),Qx=_({},Bo,{propertyName:0,elapsedTime:0,pseudoElement:0}),Wx=Vt(Qx),Zx=_({},Wl,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),jx=Vt(Zx),eM=_({},Bo,{newState:0,oldState:0}),tM=Vt(eM),nM=[9,13,27,32],ad=di&&"CompositionEvent"in window,Zs=null;di&&"documentMode"in document&&(Zs=document.documentMode);var iM=di&&"TextEvent"in window&&!Zs,wv=di&&(!ad||Zs&&8<Zs&&11>=Zs),Rv=" ",xv=!1;function Mv(o,r){switch(o){case"keyup":return nM.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Nv(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var Mr=!1;function oM(o,r){switch(o){case"compositionend":return Nv(r);case"keypress":return r.which!==32?null:(xv=!0,Rv);case"textInput":return o=r.data,o===Rv&&xv?null:o;default:return null}}function rM(o,r){if(Mr)return o==="compositionend"||!ad&&Mv(o,r)?(o=Ev(),Yl=nd=Xi=null,Mr=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return wv&&r.locale!=="ko"?null:r.data;default:return null}}var sM={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Iv(o){var r=o&&o.nodeName&&o.nodeName.toLowerCase();return r==="input"?!!sM[o.type]:r==="textarea"}function Dv(o,r,l,c){Rr?xr?xr.push(c):xr=[c]:Rr=c,r=Vu(r,"onChange"),0<r.length&&(l=new Ql("onChange","change",null,l,c),o.push({event:l,listeners:r}))}var js=null,ea=null;function aM(o){p0(o,0)}function Zl(o){var r=Ys(o);if(hv(r))return o}function Ov(o,r){if(o==="change")return r}var Uv=!1;if(di){var ld;if(di){var ud="oninput"in document;if(!ud){var Pv=document.createElement("div");Pv.setAttribute("oninput","return;"),ud=typeof Pv.oninput=="function"}ld=ud}else ld=!1;Uv=ld&&(!document.documentMode||9<document.documentMode)}function Lv(){js&&(js.detachEvent("onpropertychange",kv),ea=js=null)}function kv(o){if(o.propertyName==="value"&&Zl(ea)){var r=[];Dv(r,ea,o,jf(o)),Sv(aM,r)}}function lM(o,r,l){o==="focusin"?(Lv(),js=r,ea=l,js.attachEvent("onpropertychange",kv)):o==="focusout"&&Lv()}function uM(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return Zl(ea)}function cM(o,r){if(o==="click")return Zl(r)}function fM(o,r){if(o==="input"||o==="change")return Zl(r)}function dM(o,r){return o===r&&(o!==0||1/o===1/r)||o!==o&&r!==r}var Wt=typeof Object.is=="function"?Object.is:dM;function ta(o,r){if(Wt(o,r))return!0;if(typeof o!="object"||o===null||typeof r!="object"||r===null)return!1;var l=Object.keys(o),c=Object.keys(r);if(l.length!==c.length)return!1;for(c=0;c<l.length;c++){var g=l[c];if(!Vs.call(r,g)||!Wt(o[g],r[g]))return!1}return!0}function Bv(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function Hv(o,r){var l=Bv(o);o=0;for(var c;l;){if(l.nodeType===3){if(c=o+l.textContent.length,o<=r&&c>=r)return{node:l,offset:r-o};o=c}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Bv(l)}}function Vv(o,r){return o&&r?o===r?!0:o&&o.nodeType===3?!1:r&&r.nodeType===3?Vv(o,r.parentNode):"contains"in o?o.contains(r):o.compareDocumentPosition?!!(o.compareDocumentPosition(r)&16):!1:!1}function Gv(o){o=o!=null&&o.ownerDocument!=null&&o.ownerDocument.defaultView!=null?o.ownerDocument.defaultView:window;for(var r=zl(o.document);r instanceof o.HTMLIFrameElement;){try{var l=typeof r.contentWindow.location.href=="string"}catch{l=!1}if(l)o=r.contentWindow;else break;r=zl(o.document)}return r}function cd(o){var r=o&&o.nodeName&&o.nodeName.toLowerCase();return r&&(r==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||r==="textarea"||o.contentEditable==="true")}var hM=di&&"documentMode"in document&&11>=document.documentMode,Nr=null,fd=null,na=null,dd=!1;function qv(o,r,l){var c=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;dd||Nr==null||Nr!==zl(c)||(c=Nr,"selectionStart"in c&&cd(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),na&&ta(na,c)||(na=c,c=Vu(fd,"onSelect"),0<c.length&&(r=new Ql("onSelect","select",null,r,l),o.push({event:r,listeners:c}),r.target=Nr)))}function Ho(o,r){var l={};return l[o.toLowerCase()]=r.toLowerCase(),l["Webkit"+o]="webkit"+r,l["Moz"+o]="moz"+r,l}var Ir={animationend:Ho("Animation","AnimationEnd"),animationiteration:Ho("Animation","AnimationIteration"),animationstart:Ho("Animation","AnimationStart"),transitionrun:Ho("Transition","TransitionRun"),transitionstart:Ho("Transition","TransitionStart"),transitioncancel:Ho("Transition","TransitionCancel"),transitionend:Ho("Transition","TransitionEnd")},hd={},$v={};di&&($v=document.createElement("div").style,"AnimationEvent"in window||(delete Ir.animationend.animation,delete Ir.animationiteration.animation,delete Ir.animationstart.animation),"TransitionEvent"in window||delete Ir.transitionend.transition);function Vo(o){if(hd[o])return hd[o];if(!Ir[o])return o;var r=Ir[o],l;for(l in r)if(r.hasOwnProperty(l)&&l in $v)return hd[o]=r[l];return o}var Fv=Vo("animationend"),zv=Vo("animationiteration"),Jv=Vo("animationstart"),pM=Vo("transitionrun"),mM=Vo("transitionstart"),gM=Vo("transitioncancel"),Yv=Vo("transitionend"),Kv=new Map,pd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");pd.push("scrollEnd");function Un(o,r){Kv.set(o,r),ko(r,[o])}var jl=typeof reportError=="function"?reportError:function(o){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof o=="object"&&o!==null&&typeof o.message=="string"?String(o.message):String(o),error:o});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",o);return}console.error(o)},pn=[],Dr=0,md=0;function eu(){for(var o=Dr,r=md=Dr=0;r<o;){var l=pn[r];pn[r++]=null;var c=pn[r];pn[r++]=null;var g=pn[r];pn[r++]=null;var y=pn[r];if(pn[r++]=null,c!==null&&g!==null){var E=c.pending;E===null?g.next=g:(g.next=E.next,E.next=g),c.pending=g}y!==0&&Xv(l,g,y)}}function tu(o,r,l,c){pn[Dr++]=o,pn[Dr++]=r,pn[Dr++]=l,pn[Dr++]=c,md|=c,o.lanes|=c,o=o.alternate,o!==null&&(o.lanes|=c)}function gd(o,r,l,c){return tu(o,r,l,c),nu(o)}function Go(o,r){return tu(o,null,null,r),nu(o)}function Xv(o,r,l){o.lanes|=l;var c=o.alternate;c!==null&&(c.lanes|=l);for(var g=!1,y=o.return;y!==null;)y.childLanes|=l,c=y.alternate,c!==null&&(c.childLanes|=l),y.tag===22&&(o=y.stateNode,o===null||o._visibility&1||(g=!0)),o=y,y=y.return;return o.tag===3?(y=o.stateNode,g&&r!==null&&(g=31-Qt(l),o=y.hiddenUpdates,c=o[g],c===null?o[g]=[r]:c.push(r),r.lane=l|536870912),y):null}function nu(o){if(50<Aa)throw Aa=0,Ch=null,Error(i(185));for(var r=o.return;r!==null;)o=r,r=o.return;return o.tag===3?o.stateNode:null}var Or={};function vM(o,r,l,c){this.tag=o,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Zt(o,r,l,c){return new vM(o,r,l,c)}function vd(o){return o=o.prototype,!(!o||!o.isReactComponent)}function hi(o,r){var l=o.alternate;return l===null?(l=Zt(o.tag,r,o.key,o.mode),l.elementType=o.elementType,l.type=o.type,l.stateNode=o.stateNode,l.alternate=o,o.alternate=l):(l.pendingProps=r,l.type=o.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=o.flags&65011712,l.childLanes=o.childLanes,l.lanes=o.lanes,l.child=o.child,l.memoizedProps=o.memoizedProps,l.memoizedState=o.memoizedState,l.updateQueue=o.updateQueue,r=o.dependencies,l.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},l.sibling=o.sibling,l.index=o.index,l.ref=o.ref,l.refCleanup=o.refCleanup,l}function Qv(o,r){o.flags&=65011714;var l=o.alternate;return l===null?(o.childLanes=0,o.lanes=r,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=l.childLanes,o.lanes=l.lanes,o.child=l.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=l.memoizedProps,o.memoizedState=l.memoizedState,o.updateQueue=l.updateQueue,o.type=l.type,r=l.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),o}function iu(o,r,l,c,g,y){var E=0;if(c=o,typeof o=="function")vd(o)&&(E=1);else if(typeof o=="string")E=TN(o,l,ie.current)?26:o==="html"||o==="head"||o==="body"?27:5;else e:switch(o){case Q:return o=Zt(31,l,r,g),o.elementType=Q,o.lanes=y,o;case w:return qo(l.children,g,y,r);case R:E=8,g|=24;break;case D:return o=Zt(12,l,r,g|2),o.elementType=D,o.lanes=y,o;case z:return o=Zt(13,l,r,g),o.elementType=z,o.lanes=y,o;case $:return o=Zt(19,l,r,g),o.elementType=$,o.lanes=y,o;default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case O:E=10;break e;case U:E=9;break e;case L:E=11;break e;case V:E=14;break e;case W:E=16,c=null;break e}E=29,l=Error(i(130,o===null?"null":typeof o,"")),c=null}return r=Zt(E,l,r,g),r.elementType=o,r.type=c,r.lanes=y,r}function qo(o,r,l,c){return o=Zt(7,o,c,r),o.lanes=l,o}function yd(o,r,l){return o=Zt(6,o,null,r),o.lanes=l,o}function Wv(o){var r=Zt(18,null,null,0);return r.stateNode=o,r}function _d(o,r,l){return r=Zt(4,o.children!==null?o.children:[],o.key,r),r.lanes=l,r.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},r}var Zv=new WeakMap;function mn(o,r){if(typeof o=="object"&&o!==null){var l=Zv.get(o);return l!==void 0?l:(r={value:o,source:r,stack:Pl(r)},Zv.set(o,r),r)}return{value:o,source:r,stack:Pl(r)}}var Ur=[],Pr=0,ou=null,ia=0,gn=[],vn=0,Qi=null,Xn=1,Qn="";function pi(o,r){Ur[Pr++]=ia,Ur[Pr++]=ou,ou=o,ia=r}function jv(o,r,l){gn[vn++]=Xn,gn[vn++]=Qn,gn[vn++]=Qi,Qi=o;var c=Xn;o=Qn;var g=32-Qt(c)-1;c&=~(1<<g),l+=1;var y=32-Qt(r)+g;if(30<y){var E=g-g%5;y=(c&(1<<E)-1).toString(32),c>>=E,g-=E,Xn=1<<32-Qt(r)+g|l<<g|c,Qn=y+o}else Xn=1<<y|l<<g|c,Qn=o}function Sd(o){o.return!==null&&(pi(o,1),jv(o,1,0))}function Ed(o){for(;o===ou;)ou=Ur[--Pr],Ur[Pr]=null,ia=Ur[--Pr],Ur[Pr]=null;for(;o===Qi;)Qi=gn[--vn],gn[vn]=null,Qn=gn[--vn],gn[vn]=null,Xn=gn[--vn],gn[vn]=null}function ey(o,r){gn[vn++]=Xn,gn[vn++]=Qn,gn[vn++]=Qi,Xn=r.id,Qn=r.overflow,Qi=o}var bt=null,je=null,Pe=!1,Wi=null,yn=!1,Td=Error(i(519));function Zi(o){var r=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw oa(mn(r,o)),Td}function ty(o){var r=o.stateNode,l=o.type,c=o.memoizedProps;switch(r[Tt]=o,r[Ht]=c,l){case"dialog":De("cancel",r),De("close",r);break;case"iframe":case"object":case"embed":De("load",r);break;case"video":case"audio":for(l=0;l<wa.length;l++)De(wa[l],r);break;case"source":De("error",r);break;case"img":case"image":case"link":De("error",r),De("load",r);break;case"details":De("toggle",r);break;case"input":De("invalid",r),pv(r,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0);break;case"select":De("invalid",r);break;case"textarea":De("invalid",r),gv(r,c.value,c.defaultValue,c.children)}l=c.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||r.textContent===""+l||c.suppressHydrationWarning===!0||y0(r.textContent,l)?(c.popover!=null&&(De("beforetoggle",r),De("toggle",r)),c.onScroll!=null&&De("scroll",r),c.onScrollEnd!=null&&De("scrollend",r),c.onClick!=null&&(r.onclick=fi),r=!0):r=!1,r||Zi(o,!0)}function ny(o){for(bt=o.return;bt;)switch(bt.tag){case 5:case 31:case 13:yn=!1;return;case 27:case 3:yn=!0;return;default:bt=bt.return}}function Lr(o){if(o!==bt)return!1;if(!Pe)return ny(o),Pe=!0,!1;var r=o.tag,l;if((l=r!==3&&r!==27)&&((l=r===5)&&(l=o.type,l=!(l!=="form"&&l!=="button")||Vh(o.type,o.memoizedProps)),l=!l),l&&je&&Zi(o),ny(o),r===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(i(317));je=R0(o)}else if(r===31){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(i(317));je=R0(o)}else r===27?(r=je,ho(o.type)?(o=zh,zh=null,je=o):je=r):je=bt?Sn(o.stateNode.nextSibling):null;return!0}function $o(){je=bt=null,Pe=!1}function bd(){var o=Wi;return o!==null&&(Ft===null?Ft=o:Ft.push.apply(Ft,o),Wi=null),o}function oa(o){Wi===null?Wi=[o]:Wi.push(o)}var Ad=N(null),Fo=null,mi=null;function ji(o,r,l){ne(Ad,r._currentValue),r._currentValue=l}function gi(o){o._currentValue=Ad.current,Y(Ad)}function Cd(o,r,l){for(;o!==null;){var c=o.alternate;if((o.childLanes&r)!==r?(o.childLanes|=r,c!==null&&(c.childLanes|=r)):c!==null&&(c.childLanes&r)!==r&&(c.childLanes|=r),o===l)break;o=o.return}}function wd(o,r,l,c){var g=o.child;for(g!==null&&(g.return=o);g!==null;){var y=g.dependencies;if(y!==null){var E=g.child;y=y.firstContext;e:for(;y!==null;){var b=y;y=g;for(var M=0;M<r.length;M++)if(b.context===r[M]){y.lanes|=l,b=y.alternate,b!==null&&(b.lanes|=l),Cd(y.return,l,o),c||(E=null);break e}y=b.next}}else if(g.tag===18){if(E=g.return,E===null)throw Error(i(341));E.lanes|=l,y=E.alternate,y!==null&&(y.lanes|=l),Cd(E,l,o),E=null}else E=g.child;if(E!==null)E.return=g;else for(E=g;E!==null;){if(E===o){E=null;break}if(g=E.sibling,g!==null){g.return=E.return,E=g;break}E=E.return}g=E}}function kr(o,r,l,c){o=null;for(var g=r,y=!1;g!==null;){if(!y){if((g.flags&524288)!==0)y=!0;else if((g.flags&262144)!==0)break}if(g.tag===10){var E=g.alternate;if(E===null)throw Error(i(387));if(E=E.memoizedProps,E!==null){var b=g.type;Wt(g.pendingProps.value,E.value)||(o!==null?o.push(b):o=[b])}}else if(g===Ne.current){if(E=g.alternate,E===null)throw Error(i(387));E.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(o!==null?o.push(Ia):o=[Ia])}g=g.return}o!==null&&wd(r,o,l,c),r.flags|=262144}function ru(o){for(o=o.firstContext;o!==null;){if(!Wt(o.context._currentValue,o.memoizedValue))return!0;o=o.next}return!1}function zo(o){Fo=o,mi=null,o=o.dependencies,o!==null&&(o.firstContext=null)}function At(o){return iy(Fo,o)}function su(o,r){return Fo===null&&zo(o),iy(o,r)}function iy(o,r){var l=r._currentValue;if(r={context:r,memoizedValue:l,next:null},mi===null){if(o===null)throw Error(i(308));mi=r,o.dependencies={lanes:0,firstContext:r},o.flags|=524288}else mi=mi.next=r;return l}var yM=typeof AbortController<"u"?AbortController:function(){var o=[],r=this.signal={aborted:!1,addEventListener:function(l,c){o.push(c)}};this.abort=function(){r.aborted=!0,o.forEach(function(l){return l()})}},_M=t.unstable_scheduleCallback,SM=t.unstable_NormalPriority,at={$$typeof:O,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Rd(){return{controller:new yM,data:new Map,refCount:0}}function ra(o){o.refCount--,o.refCount===0&&_M(SM,function(){o.controller.abort()})}var sa=null,xd=0,Br=0,Hr=null;function EM(o,r){if(sa===null){var l=sa=[];xd=0,Br=Ih(),Hr={status:"pending",value:void 0,then:function(c){l.push(c)}}}return xd++,r.then(oy,oy),r}function oy(){if(--xd===0&&sa!==null){Hr!==null&&(Hr.status="fulfilled");var o=sa;sa=null,Br=0,Hr=null;for(var r=0;r<o.length;r++)(0,o[r])()}}function TM(o,r){var l=[],c={status:"pending",value:null,reason:null,then:function(g){l.push(g)}};return o.then(function(){c.status="fulfilled",c.value=r;for(var g=0;g<l.length;g++)(0,l[g])(r)},function(g){for(c.status="rejected",c.reason=g,g=0;g<l.length;g++)(0,l[g])(void 0)}),c}var ry=k.S;k.S=function(o,r){q_=Et(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&EM(o,r),ry!==null&&ry(o,r)};var Jo=N(null);function Md(){var o=Jo.current;return o!==null?o:Qe.pooledCache}function au(o,r){r===null?ne(Jo,Jo.current):ne(Jo,r.pool)}function sy(){var o=Md();return o===null?null:{parent:at._currentValue,pool:o}}var Vr=Error(i(460)),Nd=Error(i(474)),lu=Error(i(542)),uu={then:function(){}};function ay(o){return o=o.status,o==="fulfilled"||o==="rejected"}function ly(o,r,l){switch(l=o[l],l===void 0?o.push(r):l!==r&&(r.then(fi,fi),r=l),r.status){case"fulfilled":return r.value;case"rejected":throw o=r.reason,cy(o),o;default:if(typeof r.status=="string")r.then(fi,fi);else{if(o=Qe,o!==null&&100<o.shellSuspendCounter)throw Error(i(482));o=r,o.status="pending",o.then(function(c){if(r.status==="pending"){var g=r;g.status="fulfilled",g.value=c}},function(c){if(r.status==="pending"){var g=r;g.status="rejected",g.reason=c}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw o=r.reason,cy(o),o}throw Ko=r,Vr}}function Yo(o){try{var r=o._init;return r(o._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(Ko=l,Vr):l}}var Ko=null;function uy(){if(Ko===null)throw Error(i(459));var o=Ko;return Ko=null,o}function cy(o){if(o===Vr||o===lu)throw Error(i(483))}var Gr=null,aa=0;function cu(o){var r=aa;return aa+=1,Gr===null&&(Gr=[]),ly(Gr,o,r)}function la(o,r){r=r.props.ref,o.ref=r!==void 0?r:null}function fu(o,r){throw r.$$typeof===S?Error(i(525)):(o=Object.prototype.toString.call(r),Error(i(31,o==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":o)))}function fy(o){function r(P,I){if(o){var B=P.deletions;B===null?(P.deletions=[I],P.flags|=16):B.push(I)}}function l(P,I){if(!o)return null;for(;I!==null;)r(P,I),I=I.sibling;return null}function c(P){for(var I=new Map;P!==null;)P.key!==null?I.set(P.key,P):I.set(P.index,P),P=P.sibling;return I}function g(P,I){return P=hi(P,I),P.index=0,P.sibling=null,P}function y(P,I,B){return P.index=B,o?(B=P.alternate,B!==null?(B=B.index,B<I?(P.flags|=67108866,I):B):(P.flags|=67108866,I)):(P.flags|=1048576,I)}function E(P){return o&&P.alternate===null&&(P.flags|=67108866),P}function b(P,I,B,K){return I===null||I.tag!==6?(I=yd(B,P.mode,K),I.return=P,I):(I=g(I,B),I.return=P,I)}function M(P,I,B,K){var pe=B.type;return pe===w?J(P,I,B.props.children,K,B.key):I!==null&&(I.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===W&&Yo(pe)===I.type)?(I=g(I,B.props),la(I,B),I.return=P,I):(I=iu(B.type,B.key,B.props,null,P.mode,K),la(I,B),I.return=P,I)}function H(P,I,B,K){return I===null||I.tag!==4||I.stateNode.containerInfo!==B.containerInfo||I.stateNode.implementation!==B.implementation?(I=_d(B,P.mode,K),I.return=P,I):(I=g(I,B.children||[]),I.return=P,I)}function J(P,I,B,K,pe){return I===null||I.tag!==7?(I=qo(B,P.mode,K,pe),I.return=P,I):(I=g(I,B),I.return=P,I)}function X(P,I,B){if(typeof I=="string"&&I!==""||typeof I=="number"||typeof I=="bigint")return I=yd(""+I,P.mode,B),I.return=P,I;if(typeof I=="object"&&I!==null){switch(I.$$typeof){case T:return B=iu(I.type,I.key,I.props,null,P.mode,B),la(B,I),B.return=P,B;case A:return I=_d(I,P.mode,B),I.return=P,I;case W:return I=Yo(I),X(P,I,B)}if(Me(I)||ce(I))return I=qo(I,P.mode,B,null),I.return=P,I;if(typeof I.then=="function")return X(P,cu(I),B);if(I.$$typeof===O)return X(P,su(P,I),B);fu(P,I)}return null}function q(P,I,B,K){var pe=I!==null?I.key:null;if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return pe!==null?null:b(P,I,""+B,K);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case T:return B.key===pe?M(P,I,B,K):null;case A:return B.key===pe?H(P,I,B,K):null;case W:return B=Yo(B),q(P,I,B,K)}if(Me(B)||ce(B))return pe!==null?null:J(P,I,B,K,null);if(typeof B.then=="function")return q(P,I,cu(B),K);if(B.$$typeof===O)return q(P,I,su(P,B),K);fu(P,B)}return null}function F(P,I,B,K,pe){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return P=P.get(B)||null,b(I,P,""+K,pe);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case T:return P=P.get(K.key===null?B:K.key)||null,M(I,P,K,pe);case A:return P=P.get(K.key===null?B:K.key)||null,H(I,P,K,pe);case W:return K=Yo(K),F(P,I,B,K,pe)}if(Me(K)||ce(K))return P=P.get(B)||null,J(I,P,K,pe,null);if(typeof K.then=="function")return F(P,I,B,cu(K),pe);if(K.$$typeof===O)return F(P,I,B,su(I,K),pe);fu(I,K)}return null}function le(P,I,B,K){for(var pe=null,Be=null,fe=I,we=I=0,Ue=null;fe!==null&&we<B.length;we++){fe.index>we?(Ue=fe,fe=null):Ue=fe.sibling;var He=q(P,fe,B[we],K);if(He===null){fe===null&&(fe=Ue);break}o&&fe&&He.alternate===null&&r(P,fe),I=y(He,I,we),Be===null?pe=He:Be.sibling=He,Be=He,fe=Ue}if(we===B.length)return l(P,fe),Pe&&pi(P,we),pe;if(fe===null){for(;we<B.length;we++)fe=X(P,B[we],K),fe!==null&&(I=y(fe,I,we),Be===null?pe=fe:Be.sibling=fe,Be=fe);return Pe&&pi(P,we),pe}for(fe=c(fe);we<B.length;we++)Ue=F(fe,P,we,B[we],K),Ue!==null&&(o&&Ue.alternate!==null&&fe.delete(Ue.key===null?we:Ue.key),I=y(Ue,I,we),Be===null?pe=Ue:Be.sibling=Ue,Be=Ue);return o&&fe.forEach(function(yo){return r(P,yo)}),Pe&&pi(P,we),pe}function ge(P,I,B,K){if(B==null)throw Error(i(151));for(var pe=null,Be=null,fe=I,we=I=0,Ue=null,He=B.next();fe!==null&&!He.done;we++,He=B.next()){fe.index>we?(Ue=fe,fe=null):Ue=fe.sibling;var yo=q(P,fe,He.value,K);if(yo===null){fe===null&&(fe=Ue);break}o&&fe&&yo.alternate===null&&r(P,fe),I=y(yo,I,we),Be===null?pe=yo:Be.sibling=yo,Be=yo,fe=Ue}if(He.done)return l(P,fe),Pe&&pi(P,we),pe;if(fe===null){for(;!He.done;we++,He=B.next())He=X(P,He.value,K),He!==null&&(I=y(He,I,we),Be===null?pe=He:Be.sibling=He,Be=He);return Pe&&pi(P,we),pe}for(fe=c(fe);!He.done;we++,He=B.next())He=F(fe,P,we,He.value,K),He!==null&&(o&&He.alternate!==null&&fe.delete(He.key===null?we:He.key),I=y(He,I,we),Be===null?pe=He:Be.sibling=He,Be=He);return o&&fe.forEach(function(ON){return r(P,ON)}),Pe&&pi(P,we),pe}function Ke(P,I,B,K){if(typeof B=="object"&&B!==null&&B.type===w&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case T:e:{for(var pe=B.key;I!==null;){if(I.key===pe){if(pe=B.type,pe===w){if(I.tag===7){l(P,I.sibling),K=g(I,B.props.children),K.return=P,P=K;break e}}else if(I.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===W&&Yo(pe)===I.type){l(P,I.sibling),K=g(I,B.props),la(K,B),K.return=P,P=K;break e}l(P,I);break}else r(P,I);I=I.sibling}B.type===w?(K=qo(B.props.children,P.mode,K,B.key),K.return=P,P=K):(K=iu(B.type,B.key,B.props,null,P.mode,K),la(K,B),K.return=P,P=K)}return E(P);case A:e:{for(pe=B.key;I!==null;){if(I.key===pe)if(I.tag===4&&I.stateNode.containerInfo===B.containerInfo&&I.stateNode.implementation===B.implementation){l(P,I.sibling),K=g(I,B.children||[]),K.return=P,P=K;break e}else{l(P,I);break}else r(P,I);I=I.sibling}K=_d(B,P.mode,K),K.return=P,P=K}return E(P);case W:return B=Yo(B),Ke(P,I,B,K)}if(Me(B))return le(P,I,B,K);if(ce(B)){if(pe=ce(B),typeof pe!="function")throw Error(i(150));return B=pe.call(B),ge(P,I,B,K)}if(typeof B.then=="function")return Ke(P,I,cu(B),K);if(B.$$typeof===O)return Ke(P,I,su(P,B),K);fu(P,B)}return typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint"?(B=""+B,I!==null&&I.tag===6?(l(P,I.sibling),K=g(I,B),K.return=P,P=K):(l(P,I),K=yd(B,P.mode,K),K.return=P,P=K),E(P)):l(P,I)}return function(P,I,B,K){try{aa=0;var pe=Ke(P,I,B,K);return Gr=null,pe}catch(fe){if(fe===Vr||fe===lu)throw fe;var Be=Zt(29,fe,null,P.mode);return Be.lanes=K,Be.return=P,Be}finally{}}}var Xo=fy(!0),dy=fy(!1),eo=!1;function Id(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Dd(o,r){o=o.updateQueue,r.updateQueue===o&&(r.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,callbacks:null})}function to(o){return{lane:o,tag:0,payload:null,callback:null,next:null}}function no(o,r,l){var c=o.updateQueue;if(c===null)return null;if(c=c.shared,(qe&2)!==0){var g=c.pending;return g===null?r.next=r:(r.next=g.next,g.next=r),c.pending=r,r=nu(o),Xv(o,null,l),r}return tu(o,c,r,l),nu(o)}function ua(o,r,l){if(r=r.updateQueue,r!==null&&(r=r.shared,(l&4194048)!==0)){var c=r.lanes;c&=o.pendingLanes,l|=c,r.lanes=l,iv(o,l)}}function Od(o,r){var l=o.updateQueue,c=o.alternate;if(c!==null&&(c=c.updateQueue,l===c)){var g=null,y=null;if(l=l.firstBaseUpdate,l!==null){do{var E={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};y===null?g=y=E:y=y.next=E,l=l.next}while(l!==null);y===null?g=y=r:y=y.next=r}else g=y=r;l={baseState:c.baseState,firstBaseUpdate:g,lastBaseUpdate:y,shared:c.shared,callbacks:c.callbacks},o.updateQueue=l;return}o=l.lastBaseUpdate,o===null?l.firstBaseUpdate=r:o.next=r,l.lastBaseUpdate=r}var Ud=!1;function ca(){if(Ud){var o=Hr;if(o!==null)throw o}}function fa(o,r,l,c){Ud=!1;var g=o.updateQueue;eo=!1;var y=g.firstBaseUpdate,E=g.lastBaseUpdate,b=g.shared.pending;if(b!==null){g.shared.pending=null;var M=b,H=M.next;M.next=null,E===null?y=H:E.next=H,E=M;var J=o.alternate;J!==null&&(J=J.updateQueue,b=J.lastBaseUpdate,b!==E&&(b===null?J.firstBaseUpdate=H:b.next=H,J.lastBaseUpdate=M))}if(y!==null){var X=g.baseState;E=0,J=H=M=null,b=y;do{var q=b.lane&-536870913,F=q!==b.lane;if(F?(Oe&q)===q:(c&q)===q){q!==0&&q===Br&&(Ud=!0),J!==null&&(J=J.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});e:{var le=o,ge=b;q=r;var Ke=l;switch(ge.tag){case 1:if(le=ge.payload,typeof le=="function"){X=le.call(Ke,X,q);break e}X=le;break e;case 3:le.flags=le.flags&-65537|128;case 0:if(le=ge.payload,q=typeof le=="function"?le.call(Ke,X,q):le,q==null)break e;X=_({},X,q);break e;case 2:eo=!0}}q=b.callback,q!==null&&(o.flags|=64,F&&(o.flags|=8192),F=g.callbacks,F===null?g.callbacks=[q]:F.push(q))}else F={lane:q,tag:b.tag,payload:b.payload,callback:b.callback,next:null},J===null?(H=J=F,M=X):J=J.next=F,E|=q;if(b=b.next,b===null){if(b=g.shared.pending,b===null)break;F=b,b=F.next,F.next=null,g.lastBaseUpdate=F,g.shared.pending=null}}while(!0);J===null&&(M=X),g.baseState=M,g.firstBaseUpdate=H,g.lastBaseUpdate=J,y===null&&(g.shared.lanes=0),ao|=E,o.lanes=E,o.memoizedState=X}}function hy(o,r){if(typeof o!="function")throw Error(i(191,o));o.call(r)}function py(o,r){var l=o.callbacks;if(l!==null)for(o.callbacks=null,o=0;o<l.length;o++)hy(l[o],r)}var qr=N(null),du=N(0);function my(o,r){o=Ci,ne(du,o),ne(qr,r),Ci=o|r.baseLanes}function Pd(){ne(du,Ci),ne(qr,qr.current)}function Ld(){Ci=du.current,Y(qr),Y(du)}var jt=N(null),_n=null;function io(o){var r=o.alternate;ne(rt,rt.current&1),ne(jt,o),_n===null&&(r===null||qr.current!==null||r.memoizedState!==null)&&(_n=o)}function kd(o){ne(rt,rt.current),ne(jt,o),_n===null&&(_n=o)}function gy(o){o.tag===22?(ne(rt,rt.current),ne(jt,o),_n===null&&(_n=o)):oo()}function oo(){ne(rt,rt.current),ne(jt,jt.current)}function en(o){Y(jt),_n===o&&(_n=null),Y(rt)}var rt=N(0);function hu(o){for(var r=o;r!==null;){if(r.tag===13){var l=r.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||$h(l)||Fh(l)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===o)break;for(;r.sibling===null;){if(r.return===null||r.return===o)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var vi=0,Ce=null,Je=null,lt=null,pu=!1,$r=!1,Qo=!1,mu=0,da=0,Fr=null,bM=0;function it(){throw Error(i(321))}function Bd(o,r){if(r===null)return!1;for(var l=0;l<r.length&&l<o.length;l++)if(!Wt(o[l],r[l]))return!1;return!0}function Hd(o,r,l,c,g,y){return vi=y,Ce=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,k.H=o===null||o.memoizedState===null?jy:eh,Qo=!1,y=l(c,g),Qo=!1,$r&&(y=yy(r,l,c,g)),vy(o),y}function vy(o){k.H=ma;var r=Je!==null&&Je.next!==null;if(vi=0,lt=Je=Ce=null,pu=!1,da=0,Fr=null,r)throw Error(i(300));o===null||ut||(o=o.dependencies,o!==null&&ru(o)&&(ut=!0))}function yy(o,r,l,c){Ce=o;var g=0;do{if($r&&(Fr=null),da=0,$r=!1,25<=g)throw Error(i(301));if(g+=1,lt=Je=null,o.updateQueue!=null){var y=o.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}k.H=e_,y=r(l,c)}while($r);return y}function AM(){var o=k.H,r=o.useState()[0];return r=typeof r.then=="function"?ha(r):r,o=o.useState()[0],(Je!==null?Je.memoizedState:null)!==o&&(Ce.flags|=1024),r}function Vd(){var o=mu!==0;return mu=0,o}function Gd(o,r,l){r.updateQueue=o.updateQueue,r.flags&=-2053,o.lanes&=~l}function qd(o){if(pu){for(o=o.memoizedState;o!==null;){var r=o.queue;r!==null&&(r.pending=null),o=o.next}pu=!1}vi=0,lt=Je=Ce=null,$r=!1,da=mu=0,Fr=null}function Ut(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return lt===null?Ce.memoizedState=lt=o:lt=lt.next=o,lt}function st(){if(Je===null){var o=Ce.alternate;o=o!==null?o.memoizedState:null}else o=Je.next;var r=lt===null?Ce.memoizedState:lt.next;if(r!==null)lt=r,Je=o;else{if(o===null)throw Ce.alternate===null?Error(i(467)):Error(i(310));Je=o,o={memoizedState:Je.memoizedState,baseState:Je.baseState,baseQueue:Je.baseQueue,queue:Je.queue,next:null},lt===null?Ce.memoizedState=lt=o:lt=lt.next=o}return lt}function gu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ha(o){var r=da;return da+=1,Fr===null&&(Fr=[]),o=ly(Fr,o,r),r=Ce,(lt===null?r.memoizedState:lt.next)===null&&(r=r.alternate,k.H=r===null||r.memoizedState===null?jy:eh),o}function vu(o){if(o!==null&&typeof o=="object"){if(typeof o.then=="function")return ha(o);if(o.$$typeof===O)return At(o)}throw Error(i(438,String(o)))}function $d(o){var r=null,l=Ce.updateQueue;if(l!==null&&(r=l.memoCache),r==null){var c=Ce.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(r={data:c.data.map(function(g){return g.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),l===null&&(l=gu(),Ce.updateQueue=l),l.memoCache=r,l=r.data[r.index],l===void 0)for(l=r.data[r.index]=Array(o),c=0;c<o;c++)l[c]=te;return r.index++,l}function yi(o,r){return typeof r=="function"?r(o):r}function yu(o){var r=st();return Fd(r,Je,o)}function Fd(o,r,l){var c=o.queue;if(c===null)throw Error(i(311));c.lastRenderedReducer=l;var g=o.baseQueue,y=c.pending;if(y!==null){if(g!==null){var E=g.next;g.next=y.next,y.next=E}r.baseQueue=g=y,c.pending=null}if(y=o.baseState,g===null)o.memoizedState=y;else{r=g.next;var b=E=null,M=null,H=r,J=!1;do{var X=H.lane&-536870913;if(X!==H.lane?(Oe&X)===X:(vi&X)===X){var q=H.revertLane;if(q===0)M!==null&&(M=M.next={lane:0,revertLane:0,gesture:null,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null}),X===Br&&(J=!0);else if((vi&q)===q){H=H.next,q===Br&&(J=!0);continue}else X={lane:0,revertLane:H.revertLane,gesture:null,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},M===null?(b=M=X,E=y):M=M.next=X,Ce.lanes|=q,ao|=q;X=H.action,Qo&&l(y,X),y=H.hasEagerState?H.eagerState:l(y,X)}else q={lane:X,revertLane:H.revertLane,gesture:H.gesture,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},M===null?(b=M=q,E=y):M=M.next=q,Ce.lanes|=X,ao|=X;H=H.next}while(H!==null&&H!==r);if(M===null?E=y:M.next=b,!Wt(y,o.memoizedState)&&(ut=!0,J&&(l=Hr,l!==null)))throw l;o.memoizedState=y,o.baseState=E,o.baseQueue=M,c.lastRenderedState=y}return g===null&&(c.lanes=0),[o.memoizedState,c.dispatch]}function zd(o){var r=st(),l=r.queue;if(l===null)throw Error(i(311));l.lastRenderedReducer=o;var c=l.dispatch,g=l.pending,y=r.memoizedState;if(g!==null){l.pending=null;var E=g=g.next;do y=o(y,E.action),E=E.next;while(E!==g);Wt(y,r.memoizedState)||(ut=!0),r.memoizedState=y,r.baseQueue===null&&(r.baseState=y),l.lastRenderedState=y}return[y,c]}function _y(o,r,l){var c=Ce,g=st(),y=Pe;if(y){if(l===void 0)throw Error(i(407));l=l()}else l=r();var E=!Wt((Je||g).memoizedState,l);if(E&&(g.memoizedState=l,ut=!0),g=g.queue,Kd(Ty.bind(null,c,g,o),[o]),g.getSnapshot!==r||E||lt!==null&&lt.memoizedState.tag&1){if(c.flags|=2048,zr(9,{destroy:void 0},Ey.bind(null,c,g,l,r),null),Qe===null)throw Error(i(349));y||(vi&127)!==0||Sy(c,r,l)}return l}function Sy(o,r,l){o.flags|=16384,o={getSnapshot:r,value:l},r=Ce.updateQueue,r===null?(r=gu(),Ce.updateQueue=r,r.stores=[o]):(l=r.stores,l===null?r.stores=[o]:l.push(o))}function Ey(o,r,l,c){r.value=l,r.getSnapshot=c,by(r)&&Ay(o)}function Ty(o,r,l){return l(function(){by(r)&&Ay(o)})}function by(o){var r=o.getSnapshot;o=o.value;try{var l=r();return!Wt(o,l)}catch{return!0}}function Ay(o){var r=Go(o,2);r!==null&&zt(r,o,2)}function Jd(o){var r=Ut();if(typeof o=="function"){var l=o;if(o=l(),Qo){Yi(!0);try{l()}finally{Yi(!1)}}}return r.memoizedState=r.baseState=o,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:yi,lastRenderedState:o},r}function Cy(o,r,l,c){return o.baseState=l,Fd(o,Je,typeof c=="function"?c:yi)}function CM(o,r,l,c,g){if(Eu(o))throw Error(i(485));if(o=r.action,o!==null){var y={payload:g,action:o,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){y.listeners.push(E)}};k.T!==null?l(!0):y.isTransition=!1,c(y),l=r.pending,l===null?(y.next=r.pending=y,wy(r,y)):(y.next=l.next,r.pending=l.next=y)}}function wy(o,r){var l=r.action,c=r.payload,g=o.state;if(r.isTransition){var y=k.T,E={};k.T=E;try{var b=l(g,c),M=k.S;M!==null&&M(E,b),Ry(o,r,b)}catch(H){Yd(o,r,H)}finally{y!==null&&E.types!==null&&(y.types=E.types),k.T=y}}else try{y=l(g,c),Ry(o,r,y)}catch(H){Yd(o,r,H)}}function Ry(o,r,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(c){xy(o,r,c)},function(c){return Yd(o,r,c)}):xy(o,r,l)}function xy(o,r,l){r.status="fulfilled",r.value=l,My(r),o.state=l,r=o.pending,r!==null&&(l=r.next,l===r?o.pending=null:(l=l.next,r.next=l,wy(o,l)))}function Yd(o,r,l){var c=o.pending;if(o.pending=null,c!==null){c=c.next;do r.status="rejected",r.reason=l,My(r),r=r.next;while(r!==c)}o.action=null}function My(o){o=o.listeners;for(var r=0;r<o.length;r++)(0,o[r])()}function Ny(o,r){return r}function Iy(o,r){if(Pe){var l=Qe.formState;if(l!==null){e:{var c=Ce;if(Pe){if(je){t:{for(var g=je,y=yn;g.nodeType!==8;){if(!y){g=null;break t}if(g=Sn(g.nextSibling),g===null){g=null;break t}}y=g.data,g=y==="F!"||y==="F"?g:null}if(g){je=Sn(g.nextSibling),c=g.data==="F!";break e}}Zi(c)}c=!1}c&&(r=l[0])}}return l=Ut(),l.memoizedState=l.baseState=r,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ny,lastRenderedState:r},l.queue=c,l=Qy.bind(null,Ce,c),c.dispatch=l,c=Jd(!1),y=jd.bind(null,Ce,!1,c.queue),c=Ut(),g={state:r,dispatch:null,action:o,pending:null},c.queue=g,l=CM.bind(null,Ce,g,y,l),g.dispatch=l,c.memoizedState=o,[r,l,!1]}function Dy(o){var r=st();return Oy(r,Je,o)}function Oy(o,r,l){if(r=Fd(o,r,Ny)[0],o=yu(yi)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var c=ha(r)}catch(E){throw E===Vr?lu:E}else c=r;r=st();var g=r.queue,y=g.dispatch;return l!==r.memoizedState&&(Ce.flags|=2048,zr(9,{destroy:void 0},wM.bind(null,g,l),null)),[c,y,o]}function wM(o,r){o.action=r}function Uy(o){var r=st(),l=Je;if(l!==null)return Oy(r,l,o);st(),r=r.memoizedState,l=st();var c=l.queue.dispatch;return l.memoizedState=o,[r,c,!1]}function zr(o,r,l,c){return o={tag:o,create:l,deps:c,inst:r,next:null},r=Ce.updateQueue,r===null&&(r=gu(),Ce.updateQueue=r),l=r.lastEffect,l===null?r.lastEffect=o.next=o:(c=l.next,l.next=o,o.next=c,r.lastEffect=o),o}function Py(){return st().memoizedState}function _u(o,r,l,c){var g=Ut();Ce.flags|=o,g.memoizedState=zr(1|r,{destroy:void 0},l,c===void 0?null:c)}function Su(o,r,l,c){var g=st();c=c===void 0?null:c;var y=g.memoizedState.inst;Je!==null&&c!==null&&Bd(c,Je.memoizedState.deps)?g.memoizedState=zr(r,y,l,c):(Ce.flags|=o,g.memoizedState=zr(1|r,y,l,c))}function Ly(o,r){_u(8390656,8,o,r)}function Kd(o,r){Su(2048,8,o,r)}function RM(o){Ce.flags|=4;var r=Ce.updateQueue;if(r===null)r=gu(),Ce.updateQueue=r,r.events=[o];else{var l=r.events;l===null?r.events=[o]:l.push(o)}}function ky(o){var r=st().memoizedState;return RM({ref:r,nextImpl:o}),function(){if((qe&2)!==0)throw Error(i(440));return r.impl.apply(void 0,arguments)}}function By(o,r){return Su(4,2,o,r)}function Hy(o,r){return Su(4,4,o,r)}function Vy(o,r){if(typeof r=="function"){o=o();var l=r(o);return function(){typeof l=="function"?l():r(null)}}if(r!=null)return o=o(),r.current=o,function(){r.current=null}}function Gy(o,r,l){l=l!=null?l.concat([o]):null,Su(4,4,Vy.bind(null,r,o),l)}function Xd(){}function qy(o,r){var l=st();r=r===void 0?null:r;var c=l.memoizedState;return r!==null&&Bd(r,c[1])?c[0]:(l.memoizedState=[o,r],o)}function $y(o,r){var l=st();r=r===void 0?null:r;var c=l.memoizedState;if(r!==null&&Bd(r,c[1]))return c[0];if(c=o(),Qo){Yi(!0);try{o()}finally{Yi(!1)}}return l.memoizedState=[c,r],c}function Qd(o,r,l){return l===void 0||(vi&1073741824)!==0&&(Oe&261930)===0?o.memoizedState=r:(o.memoizedState=l,o=F_(),Ce.lanes|=o,ao|=o,l)}function Fy(o,r,l,c){return Wt(l,r)?l:qr.current!==null?(o=Qd(o,l,c),Wt(o,r)||(ut=!0),o):(vi&42)===0||(vi&1073741824)!==0&&(Oe&261930)===0?(ut=!0,o.memoizedState=l):(o=F_(),Ce.lanes|=o,ao|=o,r)}function zy(o,r,l,c,g){var y=Z.p;Z.p=y!==0&&8>y?y:8;var E=k.T,b={};k.T=b,jd(o,!1,r,l);try{var M=g(),H=k.S;if(H!==null&&H(b,M),M!==null&&typeof M=="object"&&typeof M.then=="function"){var J=TM(M,c);pa(o,r,J,on(o))}else pa(o,r,c,on(o))}catch(X){pa(o,r,{then:function(){},status:"rejected",reason:X},on())}finally{Z.p=y,E!==null&&b.types!==null&&(E.types=b.types),k.T=E}}function xM(){}function Wd(o,r,l,c){if(o.tag!==5)throw Error(i(476));var g=Jy(o).queue;zy(o,g,r,ae,l===null?xM:function(){return Yy(o),l(c)})}function Jy(o){var r=o.memoizedState;if(r!==null)return r;r={memoizedState:ae,baseState:ae,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:yi,lastRenderedState:ae},next:null};var l={};return r.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:yi,lastRenderedState:l},next:null},o.memoizedState=r,o=o.alternate,o!==null&&(o.memoizedState=r),r}function Yy(o){var r=Jy(o);r.next===null&&(r=o.alternate.memoizedState),pa(o,r.next.queue,{},on())}function Zd(){return At(Ia)}function Ky(){return st().memoizedState}function Xy(){return st().memoizedState}function MM(o){for(var r=o.return;r!==null;){switch(r.tag){case 24:case 3:var l=on();o=to(l);var c=no(r,o,l);c!==null&&(zt(c,r,l),ua(c,r,l)),r={cache:Rd()},o.payload=r;return}r=r.return}}function NM(o,r,l){var c=on();l={lane:c,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Eu(o)?Wy(r,l):(l=gd(o,r,l,c),l!==null&&(zt(l,o,c),Zy(l,r,c)))}function Qy(o,r,l){var c=on();pa(o,r,l,c)}function pa(o,r,l,c){var g={lane:c,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(Eu(o))Wy(r,g);else{var y=o.alternate;if(o.lanes===0&&(y===null||y.lanes===0)&&(y=r.lastRenderedReducer,y!==null))try{var E=r.lastRenderedState,b=y(E,l);if(g.hasEagerState=!0,g.eagerState=b,Wt(b,E))return tu(o,r,g,0),Qe===null&&eu(),!1}catch{}finally{}if(l=gd(o,r,g,c),l!==null)return zt(l,o,c),Zy(l,r,c),!0}return!1}function jd(o,r,l,c){if(c={lane:2,revertLane:Ih(),gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},Eu(o)){if(r)throw Error(i(479))}else r=gd(o,l,c,2),r!==null&&zt(r,o,2)}function Eu(o){var r=o.alternate;return o===Ce||r!==null&&r===Ce}function Wy(o,r){$r=pu=!0;var l=o.pending;l===null?r.next=r:(r.next=l.next,l.next=r),o.pending=r}function Zy(o,r,l){if((l&4194048)!==0){var c=r.lanes;c&=o.pendingLanes,l|=c,r.lanes=l,iv(o,l)}}var ma={readContext:At,use:vu,useCallback:it,useContext:it,useEffect:it,useImperativeHandle:it,useLayoutEffect:it,useInsertionEffect:it,useMemo:it,useReducer:it,useRef:it,useState:it,useDebugValue:it,useDeferredValue:it,useTransition:it,useSyncExternalStore:it,useId:it,useHostTransitionStatus:it,useFormState:it,useActionState:it,useOptimistic:it,useMemoCache:it,useCacheRefresh:it};ma.useEffectEvent=it;var jy={readContext:At,use:vu,useCallback:function(o,r){return Ut().memoizedState=[o,r===void 0?null:r],o},useContext:At,useEffect:Ly,useImperativeHandle:function(o,r,l){l=l!=null?l.concat([o]):null,_u(4194308,4,Vy.bind(null,r,o),l)},useLayoutEffect:function(o,r){return _u(4194308,4,o,r)},useInsertionEffect:function(o,r){_u(4,2,o,r)},useMemo:function(o,r){var l=Ut();r=r===void 0?null:r;var c=o();if(Qo){Yi(!0);try{o()}finally{Yi(!1)}}return l.memoizedState=[c,r],c},useReducer:function(o,r,l){var c=Ut();if(l!==void 0){var g=l(r);if(Qo){Yi(!0);try{l(r)}finally{Yi(!1)}}}else g=r;return c.memoizedState=c.baseState=g,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:g},c.queue=o,o=o.dispatch=NM.bind(null,Ce,o),[c.memoizedState,o]},useRef:function(o){var r=Ut();return o={current:o},r.memoizedState=o},useState:function(o){o=Jd(o);var r=o.queue,l=Qy.bind(null,Ce,r);return r.dispatch=l,[o.memoizedState,l]},useDebugValue:Xd,useDeferredValue:function(o,r){var l=Ut();return Qd(l,o,r)},useTransition:function(){var o=Jd(!1);return o=zy.bind(null,Ce,o.queue,!0,!1),Ut().memoizedState=o,[!1,o]},useSyncExternalStore:function(o,r,l){var c=Ce,g=Ut();if(Pe){if(l===void 0)throw Error(i(407));l=l()}else{if(l=r(),Qe===null)throw Error(i(349));(Oe&127)!==0||Sy(c,r,l)}g.memoizedState=l;var y={value:l,getSnapshot:r};return g.queue=y,Ly(Ty.bind(null,c,y,o),[o]),c.flags|=2048,zr(9,{destroy:void 0},Ey.bind(null,c,y,l,r),null),l},useId:function(){var o=Ut(),r=Qe.identifierPrefix;if(Pe){var l=Qn,c=Xn;l=(c&~(1<<32-Qt(c)-1)).toString(32)+l,r="_"+r+"R_"+l,l=mu++,0<l&&(r+="H"+l.toString(32)),r+="_"}else l=bM++,r="_"+r+"r_"+l.toString(32)+"_";return o.memoizedState=r},useHostTransitionStatus:Zd,useFormState:Iy,useActionState:Iy,useOptimistic:function(o){var r=Ut();r.memoizedState=r.baseState=o;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=l,r=jd.bind(null,Ce,!0,l),l.dispatch=r,[o,r]},useMemoCache:$d,useCacheRefresh:function(){return Ut().memoizedState=MM.bind(null,Ce)},useEffectEvent:function(o){var r=Ut(),l={impl:o};return r.memoizedState=l,function(){if((qe&2)!==0)throw Error(i(440));return l.impl.apply(void 0,arguments)}}},eh={readContext:At,use:vu,useCallback:qy,useContext:At,useEffect:Kd,useImperativeHandle:Gy,useInsertionEffect:By,useLayoutEffect:Hy,useMemo:$y,useReducer:yu,useRef:Py,useState:function(){return yu(yi)},useDebugValue:Xd,useDeferredValue:function(o,r){var l=st();return Fy(l,Je.memoizedState,o,r)},useTransition:function(){var o=yu(yi)[0],r=st().memoizedState;return[typeof o=="boolean"?o:ha(o),r]},useSyncExternalStore:_y,useId:Ky,useHostTransitionStatus:Zd,useFormState:Dy,useActionState:Dy,useOptimistic:function(o,r){var l=st();return Cy(l,Je,o,r)},useMemoCache:$d,useCacheRefresh:Xy};eh.useEffectEvent=ky;var e_={readContext:At,use:vu,useCallback:qy,useContext:At,useEffect:Kd,useImperativeHandle:Gy,useInsertionEffect:By,useLayoutEffect:Hy,useMemo:$y,useReducer:zd,useRef:Py,useState:function(){return zd(yi)},useDebugValue:Xd,useDeferredValue:function(o,r){var l=st();return Je===null?Qd(l,o,r):Fy(l,Je.memoizedState,o,r)},useTransition:function(){var o=zd(yi)[0],r=st().memoizedState;return[typeof o=="boolean"?o:ha(o),r]},useSyncExternalStore:_y,useId:Ky,useHostTransitionStatus:Zd,useFormState:Uy,useActionState:Uy,useOptimistic:function(o,r){var l=st();return Je!==null?Cy(l,Je,o,r):(l.baseState=o,[o,l.queue.dispatch])},useMemoCache:$d,useCacheRefresh:Xy};e_.useEffectEvent=ky;function th(o,r,l,c){r=o.memoizedState,l=l(c,r),l=l==null?r:_({},r,l),o.memoizedState=l,o.lanes===0&&(o.updateQueue.baseState=l)}var nh={enqueueSetState:function(o,r,l){o=o._reactInternals;var c=on(),g=to(c);g.payload=r,l!=null&&(g.callback=l),r=no(o,g,c),r!==null&&(zt(r,o,c),ua(r,o,c))},enqueueReplaceState:function(o,r,l){o=o._reactInternals;var c=on(),g=to(c);g.tag=1,g.payload=r,l!=null&&(g.callback=l),r=no(o,g,c),r!==null&&(zt(r,o,c),ua(r,o,c))},enqueueForceUpdate:function(o,r){o=o._reactInternals;var l=on(),c=to(l);c.tag=2,r!=null&&(c.callback=r),r=no(o,c,l),r!==null&&(zt(r,o,l),ua(r,o,l))}};function t_(o,r,l,c,g,y,E){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(c,y,E):r.prototype&&r.prototype.isPureReactComponent?!ta(l,c)||!ta(g,y):!0}function n_(o,r,l,c){o=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(l,c),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(l,c),r.state!==o&&nh.enqueueReplaceState(r,r.state,null)}function Wo(o,r){var l=r;if("ref"in r){l={};for(var c in r)c!=="ref"&&(l[c]=r[c])}if(o=o.defaultProps){l===r&&(l=_({},l));for(var g in o)l[g]===void 0&&(l[g]=o[g])}return l}function i_(o){jl(o)}function o_(o){console.error(o)}function r_(o){jl(o)}function Tu(o,r){try{var l=o.onUncaughtError;l(r.value,{componentStack:r.stack})}catch(c){setTimeout(function(){throw c})}}function s_(o,r,l){try{var c=o.onCaughtError;c(l.value,{componentStack:l.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function ih(o,r,l){return l=to(l),l.tag=3,l.payload={element:null},l.callback=function(){Tu(o,r)},l}function a_(o){return o=to(o),o.tag=3,o}function l_(o,r,l,c){var g=l.type.getDerivedStateFromError;if(typeof g=="function"){var y=c.value;o.payload=function(){return g(y)},o.callback=function(){s_(r,l,c)}}var E=l.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(o.callback=function(){s_(r,l,c),typeof g!="function"&&(lo===null?lo=new Set([this]):lo.add(this));var b=c.stack;this.componentDidCatch(c.value,{componentStack:b!==null?b:""})})}function IM(o,r,l,c,g){if(l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(r=l.alternate,r!==null&&kr(r,l,g,!0),l=jt.current,l!==null){switch(l.tag){case 31:case 13:return _n===null?Uu():l.alternate===null&&ot===0&&(ot=3),l.flags&=-257,l.flags|=65536,l.lanes=g,c===uu?l.flags|=16384:(r=l.updateQueue,r===null?l.updateQueue=new Set([c]):r.add(c),xh(o,c,g)),!1;case 22:return l.flags|=65536,c===uu?l.flags|=16384:(r=l.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([c])},l.updateQueue=r):(l=r.retryQueue,l===null?r.retryQueue=new Set([c]):l.add(c)),xh(o,c,g)),!1}throw Error(i(435,l.tag))}return xh(o,c,g),Uu(),!1}if(Pe)return r=jt.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=g,c!==Td&&(o=Error(i(422),{cause:c}),oa(mn(o,l)))):(c!==Td&&(r=Error(i(423),{cause:c}),oa(mn(r,l))),o=o.current.alternate,o.flags|=65536,g&=-g,o.lanes|=g,c=mn(c,l),g=ih(o.stateNode,c,g),Od(o,g),ot!==4&&(ot=2)),!1;var y=Error(i(520),{cause:c});if(y=mn(y,l),ba===null?ba=[y]:ba.push(y),ot!==4&&(ot=2),r===null)return!0;c=mn(c,l),l=r;do{switch(l.tag){case 3:return l.flags|=65536,o=g&-g,l.lanes|=o,o=ih(l.stateNode,c,o),Od(l,o),!1;case 1:if(r=l.type,y=l.stateNode,(l.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(lo===null||!lo.has(y))))return l.flags|=65536,g&=-g,l.lanes|=g,g=a_(g),l_(g,o,l,c),Od(l,g),!1}l=l.return}while(l!==null);return!1}var oh=Error(i(461)),ut=!1;function Ct(o,r,l,c){r.child=o===null?dy(r,null,l,c):Xo(r,o.child,l,c)}function u_(o,r,l,c,g){l=l.render;var y=r.ref;if("ref"in c){var E={};for(var b in c)b!=="ref"&&(E[b]=c[b])}else E=c;return zo(r),c=Hd(o,r,l,E,y,g),b=Vd(),o!==null&&!ut?(Gd(o,r,g),_i(o,r,g)):(Pe&&b&&Sd(r),r.flags|=1,Ct(o,r,c,g),r.child)}function c_(o,r,l,c,g){if(o===null){var y=l.type;return typeof y=="function"&&!vd(y)&&y.defaultProps===void 0&&l.compare===null?(r.tag=15,r.type=y,f_(o,r,y,c,g)):(o=iu(l.type,null,c,r,r.mode,g),o.ref=r.ref,o.return=r,r.child=o)}if(y=o.child,!dh(o,g)){var E=y.memoizedProps;if(l=l.compare,l=l!==null?l:ta,l(E,c)&&o.ref===r.ref)return _i(o,r,g)}return r.flags|=1,o=hi(y,c),o.ref=r.ref,o.return=r,r.child=o}function f_(o,r,l,c,g){if(o!==null){var y=o.memoizedProps;if(ta(y,c)&&o.ref===r.ref)if(ut=!1,r.pendingProps=c=y,dh(o,g))(o.flags&131072)!==0&&(ut=!0);else return r.lanes=o.lanes,_i(o,r,g)}return rh(o,r,l,c,g)}function d_(o,r,l,c){var g=c.children,y=o!==null?o.memoizedState:null;if(o===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.mode==="hidden"){if((r.flags&128)!==0){if(y=y!==null?y.baseLanes|l:l,o!==null){for(c=r.child=o.child,g=0;c!==null;)g=g|c.lanes|c.childLanes,c=c.sibling;c=g&~y}else c=0,r.child=null;return h_(o,r,y,l,c)}if((l&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},o!==null&&au(r,y!==null?y.cachePool:null),y!==null?my(r,y):Pd(),gy(r);else return c=r.lanes=536870912,h_(o,r,y!==null?y.baseLanes|l:l,l,c)}else y!==null?(au(r,y.cachePool),my(r,y),oo(),r.memoizedState=null):(o!==null&&au(r,null),Pd(),oo());return Ct(o,r,g,l),r.child}function ga(o,r){return o!==null&&o.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function h_(o,r,l,c,g){var y=Md();return y=y===null?null:{parent:at._currentValue,pool:y},r.memoizedState={baseLanes:l,cachePool:y},o!==null&&au(r,null),Pd(),gy(r),o!==null&&kr(o,r,c,!0),r.childLanes=g,null}function bu(o,r){return r=Cu({mode:r.mode,children:r.children},o.mode),r.ref=o.ref,o.child=r,r.return=o,r}function p_(o,r,l){return Xo(r,o.child,null,l),o=bu(r,r.pendingProps),o.flags|=2,en(r),r.memoizedState=null,o}function DM(o,r,l){var c=r.pendingProps,g=(r.flags&128)!==0;if(r.flags&=-129,o===null){if(Pe){if(c.mode==="hidden")return o=bu(r,c),r.lanes=536870912,ga(null,o);if(kd(r),(o=je)?(o=w0(o,yn),o=o!==null&&o.data==="&"?o:null,o!==null&&(r.memoizedState={dehydrated:o,treeContext:Qi!==null?{id:Xn,overflow:Qn}:null,retryLane:536870912,hydrationErrors:null},l=Wv(o),l.return=r,r.child=l,bt=r,je=null)):o=null,o===null)throw Zi(r);return r.lanes=536870912,null}return bu(r,c)}var y=o.memoizedState;if(y!==null){var E=y.dehydrated;if(kd(r),g)if(r.flags&256)r.flags&=-257,r=p_(o,r,l);else if(r.memoizedState!==null)r.child=o.child,r.flags|=128,r=null;else throw Error(i(558));else if(ut||kr(o,r,l,!1),g=(l&o.childLanes)!==0,ut||g){if(c=Qe,c!==null&&(E=ov(c,l),E!==0&&E!==y.retryLane))throw y.retryLane=E,Go(o,E),zt(c,o,E),oh;Uu(),r=p_(o,r,l)}else o=y.treeContext,je=Sn(E.nextSibling),bt=r,Pe=!0,Wi=null,yn=!1,o!==null&&ey(r,o),r=bu(r,c),r.flags|=4096;return r}return o=hi(o.child,{mode:c.mode,children:c.children}),o.ref=r.ref,r.child=o,o.return=r,o}function Au(o,r){var l=r.ref;if(l===null)o!==null&&o.ref!==null&&(r.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(i(284));(o===null||o.ref!==l)&&(r.flags|=4194816)}}function rh(o,r,l,c,g){return zo(r),l=Hd(o,r,l,c,void 0,g),c=Vd(),o!==null&&!ut?(Gd(o,r,g),_i(o,r,g)):(Pe&&c&&Sd(r),r.flags|=1,Ct(o,r,l,g),r.child)}function m_(o,r,l,c,g,y){return zo(r),r.updateQueue=null,l=yy(r,c,l,g),vy(o),c=Vd(),o!==null&&!ut?(Gd(o,r,y),_i(o,r,y)):(Pe&&c&&Sd(r),r.flags|=1,Ct(o,r,l,y),r.child)}function g_(o,r,l,c,g){if(zo(r),r.stateNode===null){var y=Or,E=l.contextType;typeof E=="object"&&E!==null&&(y=At(E)),y=new l(c,y),r.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=nh,r.stateNode=y,y._reactInternals=r,y=r.stateNode,y.props=c,y.state=r.memoizedState,y.refs={},Id(r),E=l.contextType,y.context=typeof E=="object"&&E!==null?At(E):Or,y.state=r.memoizedState,E=l.getDerivedStateFromProps,typeof E=="function"&&(th(r,l,E,c),y.state=r.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(E=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),E!==y.state&&nh.enqueueReplaceState(y,y.state,null),fa(r,c,y,g),ca(),y.state=r.memoizedState),typeof y.componentDidMount=="function"&&(r.flags|=4194308),c=!0}else if(o===null){y=r.stateNode;var b=r.memoizedProps,M=Wo(l,b);y.props=M;var H=y.context,J=l.contextType;E=Or,typeof J=="object"&&J!==null&&(E=At(J));var X=l.getDerivedStateFromProps;J=typeof X=="function"||typeof y.getSnapshotBeforeUpdate=="function",b=r.pendingProps!==b,J||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(b||H!==E)&&n_(r,y,c,E),eo=!1;var q=r.memoizedState;y.state=q,fa(r,c,y,g),ca(),H=r.memoizedState,b||q!==H||eo?(typeof X=="function"&&(th(r,l,X,c),H=r.memoizedState),(M=eo||t_(r,l,M,c,q,H,E))?(J||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(r.flags|=4194308)):(typeof y.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=c,r.memoizedState=H),y.props=c,y.state=H,y.context=E,c=M):(typeof y.componentDidMount=="function"&&(r.flags|=4194308),c=!1)}else{y=r.stateNode,Dd(o,r),E=r.memoizedProps,J=Wo(l,E),y.props=J,X=r.pendingProps,q=y.context,H=l.contextType,M=Or,typeof H=="object"&&H!==null&&(M=At(H)),b=l.getDerivedStateFromProps,(H=typeof b=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(E!==X||q!==M)&&n_(r,y,c,M),eo=!1,q=r.memoizedState,y.state=q,fa(r,c,y,g),ca();var F=r.memoizedState;E!==X||q!==F||eo||o!==null&&o.dependencies!==null&&ru(o.dependencies)?(typeof b=="function"&&(th(r,l,b,c),F=r.memoizedState),(J=eo||t_(r,l,J,c,q,F,M)||o!==null&&o.dependencies!==null&&ru(o.dependencies))?(H||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(c,F,M),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(c,F,M)),typeof y.componentDidUpdate=="function"&&(r.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof y.componentDidUpdate!="function"||E===o.memoizedProps&&q===o.memoizedState||(r.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||E===o.memoizedProps&&q===o.memoizedState||(r.flags|=1024),r.memoizedProps=c,r.memoizedState=F),y.props=c,y.state=F,y.context=M,c=J):(typeof y.componentDidUpdate!="function"||E===o.memoizedProps&&q===o.memoizedState||(r.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||E===o.memoizedProps&&q===o.memoizedState||(r.flags|=1024),c=!1)}return y=c,Au(o,r),c=(r.flags&128)!==0,y||c?(y=r.stateNode,l=c&&typeof l.getDerivedStateFromError!="function"?null:y.render(),r.flags|=1,o!==null&&c?(r.child=Xo(r,o.child,null,g),r.child=Xo(r,null,l,g)):Ct(o,r,l,g),r.memoizedState=y.state,o=r.child):o=_i(o,r,g),o}function v_(o,r,l,c){return $o(),r.flags|=256,Ct(o,r,l,c),r.child}var sh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ah(o){return{baseLanes:o,cachePool:sy()}}function lh(o,r,l){return o=o!==null?o.childLanes&~l:0,r&&(o|=nn),o}function y_(o,r,l){var c=r.pendingProps,g=!1,y=(r.flags&128)!==0,E;if((E=y)||(E=o!==null&&o.memoizedState===null?!1:(rt.current&2)!==0),E&&(g=!0,r.flags&=-129),E=(r.flags&32)!==0,r.flags&=-33,o===null){if(Pe){if(g?io(r):oo(),(o=je)?(o=w0(o,yn),o=o!==null&&o.data!=="&"?o:null,o!==null&&(r.memoizedState={dehydrated:o,treeContext:Qi!==null?{id:Xn,overflow:Qn}:null,retryLane:536870912,hydrationErrors:null},l=Wv(o),l.return=r,r.child=l,bt=r,je=null)):o=null,o===null)throw Zi(r);return Fh(o)?r.lanes=32:r.lanes=536870912,null}var b=c.children;return c=c.fallback,g?(oo(),g=r.mode,b=Cu({mode:"hidden",children:b},g),c=qo(c,g,l,null),b.return=r,c.return=r,b.sibling=c,r.child=b,c=r.child,c.memoizedState=ah(l),c.childLanes=lh(o,E,l),r.memoizedState=sh,ga(null,c)):(io(r),uh(r,b))}var M=o.memoizedState;if(M!==null&&(b=M.dehydrated,b!==null)){if(y)r.flags&256?(io(r),r.flags&=-257,r=ch(o,r,l)):r.memoizedState!==null?(oo(),r.child=o.child,r.flags|=128,r=null):(oo(),b=c.fallback,g=r.mode,c=Cu({mode:"visible",children:c.children},g),b=qo(b,g,l,null),b.flags|=2,c.return=r,b.return=r,c.sibling=b,r.child=c,Xo(r,o.child,null,l),c=r.child,c.memoizedState=ah(l),c.childLanes=lh(o,E,l),r.memoizedState=sh,r=ga(null,c));else if(io(r),Fh(b)){if(E=b.nextSibling&&b.nextSibling.dataset,E)var H=E.dgst;E=H,c=Error(i(419)),c.stack="",c.digest=E,oa({value:c,source:null,stack:null}),r=ch(o,r,l)}else if(ut||kr(o,r,l,!1),E=(l&o.childLanes)!==0,ut||E){if(E=Qe,E!==null&&(c=ov(E,l),c!==0&&c!==M.retryLane))throw M.retryLane=c,Go(o,c),zt(E,o,c),oh;$h(b)||Uu(),r=ch(o,r,l)}else $h(b)?(r.flags|=192,r.child=o.child,r=null):(o=M.treeContext,je=Sn(b.nextSibling),bt=r,Pe=!0,Wi=null,yn=!1,o!==null&&ey(r,o),r=uh(r,c.children),r.flags|=4096);return r}return g?(oo(),b=c.fallback,g=r.mode,M=o.child,H=M.sibling,c=hi(M,{mode:"hidden",children:c.children}),c.subtreeFlags=M.subtreeFlags&65011712,H!==null?b=hi(H,b):(b=qo(b,g,l,null),b.flags|=2),b.return=r,c.return=r,c.sibling=b,r.child=c,ga(null,c),c=r.child,b=o.child.memoizedState,b===null?b=ah(l):(g=b.cachePool,g!==null?(M=at._currentValue,g=g.parent!==M?{parent:M,pool:M}:g):g=sy(),b={baseLanes:b.baseLanes|l,cachePool:g}),c.memoizedState=b,c.childLanes=lh(o,E,l),r.memoizedState=sh,ga(o.child,c)):(io(r),l=o.child,o=l.sibling,l=hi(l,{mode:"visible",children:c.children}),l.return=r,l.sibling=null,o!==null&&(E=r.deletions,E===null?(r.deletions=[o],r.flags|=16):E.push(o)),r.child=l,r.memoizedState=null,l)}function uh(o,r){return r=Cu({mode:"visible",children:r},o.mode),r.return=o,o.child=r}function Cu(o,r){return o=Zt(22,o,null,r),o.lanes=0,o}function ch(o,r,l){return Xo(r,o.child,null,l),o=uh(r,r.pendingProps.children),o.flags|=2,r.memoizedState=null,o}function __(o,r,l){o.lanes|=r;var c=o.alternate;c!==null&&(c.lanes|=r),Cd(o.return,r,l)}function fh(o,r,l,c,g,y){var E=o.memoizedState;E===null?o.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:c,tail:l,tailMode:g,treeForkCount:y}:(E.isBackwards=r,E.rendering=null,E.renderingStartTime=0,E.last=c,E.tail=l,E.tailMode=g,E.treeForkCount=y)}function S_(o,r,l){var c=r.pendingProps,g=c.revealOrder,y=c.tail;c=c.children;var E=rt.current,b=(E&2)!==0;if(b?(E=E&1|2,r.flags|=128):E&=1,ne(rt,E),Ct(o,r,c,l),c=Pe?ia:0,!b&&o!==null&&(o.flags&128)!==0)e:for(o=r.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&__(o,l,r);else if(o.tag===19)__(o,l,r);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===r)break e;for(;o.sibling===null;){if(o.return===null||o.return===r)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}switch(g){case"forwards":for(l=r.child,g=null;l!==null;)o=l.alternate,o!==null&&hu(o)===null&&(g=l),l=l.sibling;l=g,l===null?(g=r.child,r.child=null):(g=l.sibling,l.sibling=null),fh(r,!1,g,l,y,c);break;case"backwards":case"unstable_legacy-backwards":for(l=null,g=r.child,r.child=null;g!==null;){if(o=g.alternate,o!==null&&hu(o)===null){r.child=g;break}o=g.sibling,g.sibling=l,l=g,g=o}fh(r,!0,l,null,y,c);break;case"together":fh(r,!1,null,null,void 0,c);break;default:r.memoizedState=null}return r.child}function _i(o,r,l){if(o!==null&&(r.dependencies=o.dependencies),ao|=r.lanes,(l&r.childLanes)===0)if(o!==null){if(kr(o,r,l,!1),(l&r.childLanes)===0)return null}else return null;if(o!==null&&r.child!==o.child)throw Error(i(153));if(r.child!==null){for(o=r.child,l=hi(o,o.pendingProps),r.child=l,l.return=r;o.sibling!==null;)o=o.sibling,l=l.sibling=hi(o,o.pendingProps),l.return=r;l.sibling=null}return r.child}function dh(o,r){return(o.lanes&r)!==0?!0:(o=o.dependencies,!!(o!==null&&ru(o)))}function OM(o,r,l){switch(r.tag){case 3:Ze(r,r.stateNode.containerInfo),ji(r,at,o.memoizedState.cache),$o();break;case 27:case 5:Dn(r);break;case 4:Ze(r,r.stateNode.containerInfo);break;case 10:ji(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,kd(r),null;break;case 13:var c=r.memoizedState;if(c!==null)return c.dehydrated!==null?(io(r),r.flags|=128,null):(l&r.child.childLanes)!==0?y_(o,r,l):(io(r),o=_i(o,r,l),o!==null?o.sibling:null);io(r);break;case 19:var g=(o.flags&128)!==0;if(c=(l&r.childLanes)!==0,c||(kr(o,r,l,!1),c=(l&r.childLanes)!==0),g){if(c)return S_(o,r,l);r.flags|=128}if(g=r.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),ne(rt,rt.current),c)break;return null;case 22:return r.lanes=0,d_(o,r,l,r.pendingProps);case 24:ji(r,at,o.memoizedState.cache)}return _i(o,r,l)}function E_(o,r,l){if(o!==null)if(o.memoizedProps!==r.pendingProps)ut=!0;else{if(!dh(o,l)&&(r.flags&128)===0)return ut=!1,OM(o,r,l);ut=(o.flags&131072)!==0}else ut=!1,Pe&&(r.flags&1048576)!==0&&jv(r,ia,r.index);switch(r.lanes=0,r.tag){case 16:e:{var c=r.pendingProps;if(o=Yo(r.elementType),r.type=o,typeof o=="function")vd(o)?(c=Wo(o,c),r.tag=1,r=g_(null,r,o,c,l)):(r.tag=0,r=rh(null,r,o,c,l));else{if(o!=null){var g=o.$$typeof;if(g===L){r.tag=11,r=u_(null,r,o,c,l);break e}else if(g===V){r.tag=14,r=c_(null,r,o,c,l);break e}}throw r=Se(o)||o,Error(i(306,r,""))}}return r;case 0:return rh(o,r,r.type,r.pendingProps,l);case 1:return c=r.type,g=Wo(c,r.pendingProps),g_(o,r,c,g,l);case 3:e:{if(Ze(r,r.stateNode.containerInfo),o===null)throw Error(i(387));c=r.pendingProps;var y=r.memoizedState;g=y.element,Dd(o,r),fa(r,c,null,l);var E=r.memoizedState;if(c=E.cache,ji(r,at,c),c!==y.cache&&wd(r,[at],l,!0),ca(),c=E.element,y.isDehydrated)if(y={element:c,isDehydrated:!1,cache:E.cache},r.updateQueue.baseState=y,r.memoizedState=y,r.flags&256){r=v_(o,r,c,l);break e}else if(c!==g){g=mn(Error(i(424)),r),oa(g),r=v_(o,r,c,l);break e}else{switch(o=r.stateNode.containerInfo,o.nodeType){case 9:o=o.body;break;default:o=o.nodeName==="HTML"?o.ownerDocument.body:o}for(je=Sn(o.firstChild),bt=r,Pe=!0,Wi=null,yn=!0,l=dy(r,null,c,l),r.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if($o(),c===g){r=_i(o,r,l);break e}Ct(o,r,c,l)}r=r.child}return r;case 26:return Au(o,r),o===null?(l=D0(r.type,null,r.pendingProps,null))?r.memoizedState=l:Pe||(l=r.type,o=r.pendingProps,c=Gu(Ee.current).createElement(l),c[Tt]=r,c[Ht]=o,wt(c,l,o),mt(c),r.stateNode=c):r.memoizedState=D0(r.type,o.memoizedProps,r.pendingProps,o.memoizedState),null;case 27:return Dn(r),o===null&&Pe&&(c=r.stateNode=M0(r.type,r.pendingProps,Ee.current),bt=r,yn=!0,g=je,ho(r.type)?(zh=g,je=Sn(c.firstChild)):je=g),Ct(o,r,r.pendingProps.children,l),Au(o,r),o===null&&(r.flags|=4194304),r.child;case 5:return o===null&&Pe&&((g=c=je)&&(c=uN(c,r.type,r.pendingProps,yn),c!==null?(r.stateNode=c,bt=r,je=Sn(c.firstChild),yn=!1,g=!0):g=!1),g||Zi(r)),Dn(r),g=r.type,y=r.pendingProps,E=o!==null?o.memoizedProps:null,c=y.children,Vh(g,y)?c=null:E!==null&&Vh(g,E)&&(r.flags|=32),r.memoizedState!==null&&(g=Hd(o,r,AM,null,null,l),Ia._currentValue=g),Au(o,r),Ct(o,r,c,l),r.child;case 6:return o===null&&Pe&&((o=l=je)&&(l=cN(l,r.pendingProps,yn),l!==null?(r.stateNode=l,bt=r,je=null,o=!0):o=!1),o||Zi(r)),null;case 13:return y_(o,r,l);case 4:return Ze(r,r.stateNode.containerInfo),c=r.pendingProps,o===null?r.child=Xo(r,null,c,l):Ct(o,r,c,l),r.child;case 11:return u_(o,r,r.type,r.pendingProps,l);case 7:return Ct(o,r,r.pendingProps,l),r.child;case 8:return Ct(o,r,r.pendingProps.children,l),r.child;case 12:return Ct(o,r,r.pendingProps.children,l),r.child;case 10:return c=r.pendingProps,ji(r,r.type,c.value),Ct(o,r,c.children,l),r.child;case 9:return g=r.type._context,c=r.pendingProps.children,zo(r),g=At(g),c=c(g),r.flags|=1,Ct(o,r,c,l),r.child;case 14:return c_(o,r,r.type,r.pendingProps,l);case 15:return f_(o,r,r.type,r.pendingProps,l);case 19:return S_(o,r,l);case 31:return DM(o,r,l);case 22:return d_(o,r,l,r.pendingProps);case 24:return zo(r),c=At(at),o===null?(g=Md(),g===null&&(g=Qe,y=Rd(),g.pooledCache=y,y.refCount++,y!==null&&(g.pooledCacheLanes|=l),g=y),r.memoizedState={parent:c,cache:g},Id(r),ji(r,at,g)):((o.lanes&l)!==0&&(Dd(o,r),fa(r,null,null,l),ca()),g=o.memoizedState,y=r.memoizedState,g.parent!==c?(g={parent:c,cache:c},r.memoizedState=g,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=g),ji(r,at,c)):(c=y.cache,ji(r,at,c),c!==g.cache&&wd(r,[at],l,!0))),Ct(o,r,r.pendingProps.children,l),r.child;case 29:throw r.pendingProps}throw Error(i(156,r.tag))}function Si(o){o.flags|=4}function hh(o,r,l,c,g){if((r=(o.mode&32)!==0)&&(r=!1),r){if(o.flags|=16777216,(g&335544128)===g)if(o.stateNode.complete)o.flags|=8192;else if(K_())o.flags|=8192;else throw Ko=uu,Nd}else o.flags&=-16777217}function T_(o,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)o.flags&=-16777217;else if(o.flags|=16777216,!k0(r))if(K_())o.flags|=8192;else throw Ko=uu,Nd}function wu(o,r){r!==null&&(o.flags|=4),o.flags&16384&&(r=o.tag!==22?tv():536870912,o.lanes|=r,Xr|=r)}function va(o,r){if(!Pe)switch(o.tailMode){case"hidden":r=o.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?o.tail=null:l.sibling=null;break;case"collapsed":l=o.tail;for(var c=null;l!==null;)l.alternate!==null&&(c=l),l=l.sibling;c===null?r||o.tail===null?o.tail=null:o.tail.sibling=null:c.sibling=null}}function et(o){var r=o.alternate!==null&&o.alternate.child===o.child,l=0,c=0;if(r)for(var g=o.child;g!==null;)l|=g.lanes|g.childLanes,c|=g.subtreeFlags&65011712,c|=g.flags&65011712,g.return=o,g=g.sibling;else for(g=o.child;g!==null;)l|=g.lanes|g.childLanes,c|=g.subtreeFlags,c|=g.flags,g.return=o,g=g.sibling;return o.subtreeFlags|=c,o.childLanes=l,r}function UM(o,r,l){var c=r.pendingProps;switch(Ed(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return et(r),null;case 1:return et(r),null;case 3:return l=r.stateNode,c=null,o!==null&&(c=o.memoizedState.cache),r.memoizedState.cache!==c&&(r.flags|=2048),gi(at),$e(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(o===null||o.child===null)&&(Lr(r)?Si(r):o===null||o.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,bd())),et(r),null;case 26:var g=r.type,y=r.memoizedState;return o===null?(Si(r),y!==null?(et(r),T_(r,y)):(et(r),hh(r,g,null,c,l))):y?y!==o.memoizedState?(Si(r),et(r),T_(r,y)):(et(r),r.flags&=-16777217):(o=o.memoizedProps,o!==c&&Si(r),et(r),hh(r,g,o,c,l)),null;case 27:if(Kn(r),l=Ee.current,g=r.type,o!==null&&r.stateNode!=null)o.memoizedProps!==c&&Si(r);else{if(!c){if(r.stateNode===null)throw Error(i(166));return et(r),null}o=ie.current,Lr(r)?ty(r):(o=M0(g,c,l),r.stateNode=o,Si(r))}return et(r),null;case 5:if(Kn(r),g=r.type,o!==null&&r.stateNode!=null)o.memoizedProps!==c&&Si(r);else{if(!c){if(r.stateNode===null)throw Error(i(166));return et(r),null}if(y=ie.current,Lr(r))ty(r);else{var E=Gu(Ee.current);switch(y){case 1:y=E.createElementNS("http://www.w3.org/2000/svg",g);break;case 2:y=E.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;default:switch(g){case"svg":y=E.createElementNS("http://www.w3.org/2000/svg",g);break;case"math":y=E.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;case"script":y=E.createElement("div"),y.innerHTML="<script><\/script>",y=y.removeChild(y.firstChild);break;case"select":y=typeof c.is=="string"?E.createElement("select",{is:c.is}):E.createElement("select"),c.multiple?y.multiple=!0:c.size&&(y.size=c.size);break;default:y=typeof c.is=="string"?E.createElement(g,{is:c.is}):E.createElement(g)}}y[Tt]=r,y[Ht]=c;e:for(E=r.child;E!==null;){if(E.tag===5||E.tag===6)y.appendChild(E.stateNode);else if(E.tag!==4&&E.tag!==27&&E.child!==null){E.child.return=E,E=E.child;continue}if(E===r)break e;for(;E.sibling===null;){if(E.return===null||E.return===r)break e;E=E.return}E.sibling.return=E.return,E=E.sibling}r.stateNode=y;e:switch(wt(y,g,c),g){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}c&&Si(r)}}return et(r),hh(r,r.type,o===null?null:o.memoizedProps,r.pendingProps,l),null;case 6:if(o&&r.stateNode!=null)o.memoizedProps!==c&&Si(r);else{if(typeof c!="string"&&r.stateNode===null)throw Error(i(166));if(o=Ee.current,Lr(r)){if(o=r.stateNode,l=r.memoizedProps,c=null,g=bt,g!==null)switch(g.tag){case 27:case 5:c=g.memoizedProps}o[Tt]=r,o=!!(o.nodeValue===l||c!==null&&c.suppressHydrationWarning===!0||y0(o.nodeValue,l)),o||Zi(r,!0)}else o=Gu(o).createTextNode(c),o[Tt]=r,r.stateNode=o}return et(r),null;case 31:if(l=r.memoizedState,o===null||o.memoizedState!==null){if(c=Lr(r),l!==null){if(o===null){if(!c)throw Error(i(318));if(o=r.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(i(557));o[Tt]=r}else $o(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;et(r),o=!1}else l=bd(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=l),o=!0;if(!o)return r.flags&256?(en(r),r):(en(r),null);if((r.flags&128)!==0)throw Error(i(558))}return et(r),null;case 13:if(c=r.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(g=Lr(r),c!==null&&c.dehydrated!==null){if(o===null){if(!g)throw Error(i(318));if(g=r.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(i(317));g[Tt]=r}else $o(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;et(r),g=!1}else g=bd(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=g),g=!0;if(!g)return r.flags&256?(en(r),r):(en(r),null)}return en(r),(r.flags&128)!==0?(r.lanes=l,r):(l=c!==null,o=o!==null&&o.memoizedState!==null,l&&(c=r.child,g=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(g=c.alternate.memoizedState.cachePool.pool),y=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(y=c.memoizedState.cachePool.pool),y!==g&&(c.flags|=2048)),l!==o&&l&&(r.child.flags|=8192),wu(r,r.updateQueue),et(r),null);case 4:return $e(),o===null&&Ph(r.stateNode.containerInfo),et(r),null;case 10:return gi(r.type),et(r),null;case 19:if(Y(rt),c=r.memoizedState,c===null)return et(r),null;if(g=(r.flags&128)!==0,y=c.rendering,y===null)if(g)va(c,!1);else{if(ot!==0||o!==null&&(o.flags&128)!==0)for(o=r.child;o!==null;){if(y=hu(o),y!==null){for(r.flags|=128,va(c,!1),o=y.updateQueue,r.updateQueue=o,wu(r,o),r.subtreeFlags=0,o=l,l=r.child;l!==null;)Qv(l,o),l=l.sibling;return ne(rt,rt.current&1|2),Pe&&pi(r,c.treeForkCount),r.child}o=o.sibling}c.tail!==null&&Et()>Iu&&(r.flags|=128,g=!0,va(c,!1),r.lanes=4194304)}else{if(!g)if(o=hu(y),o!==null){if(r.flags|=128,g=!0,o=o.updateQueue,r.updateQueue=o,wu(r,o),va(c,!0),c.tail===null&&c.tailMode==="hidden"&&!y.alternate&&!Pe)return et(r),null}else 2*Et()-c.renderingStartTime>Iu&&l!==536870912&&(r.flags|=128,g=!0,va(c,!1),r.lanes=4194304);c.isBackwards?(y.sibling=r.child,r.child=y):(o=c.last,o!==null?o.sibling=y:r.child=y,c.last=y)}return c.tail!==null?(o=c.tail,c.rendering=o,c.tail=o.sibling,c.renderingStartTime=Et(),o.sibling=null,l=rt.current,ne(rt,g?l&1|2:l&1),Pe&&pi(r,c.treeForkCount),o):(et(r),null);case 22:case 23:return en(r),Ld(),c=r.memoizedState!==null,o!==null?o.memoizedState!==null!==c&&(r.flags|=8192):c&&(r.flags|=8192),c?(l&536870912)!==0&&(r.flags&128)===0&&(et(r),r.subtreeFlags&6&&(r.flags|=8192)):et(r),l=r.updateQueue,l!==null&&wu(r,l.retryQueue),l=null,o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(l=o.memoizedState.cachePool.pool),c=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(c=r.memoizedState.cachePool.pool),c!==l&&(r.flags|=2048),o!==null&&Y(Jo),null;case 24:return l=null,o!==null&&(l=o.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),gi(at),et(r),null;case 25:return null;case 30:return null}throw Error(i(156,r.tag))}function PM(o,r){switch(Ed(r),r.tag){case 1:return o=r.flags,o&65536?(r.flags=o&-65537|128,r):null;case 3:return gi(at),$e(),o=r.flags,(o&65536)!==0&&(o&128)===0?(r.flags=o&-65537|128,r):null;case 26:case 27:case 5:return Kn(r),null;case 31:if(r.memoizedState!==null){if(en(r),r.alternate===null)throw Error(i(340));$o()}return o=r.flags,o&65536?(r.flags=o&-65537|128,r):null;case 13:if(en(r),o=r.memoizedState,o!==null&&o.dehydrated!==null){if(r.alternate===null)throw Error(i(340));$o()}return o=r.flags,o&65536?(r.flags=o&-65537|128,r):null;case 19:return Y(rt),null;case 4:return $e(),null;case 10:return gi(r.type),null;case 22:case 23:return en(r),Ld(),o!==null&&Y(Jo),o=r.flags,o&65536?(r.flags=o&-65537|128,r):null;case 24:return gi(at),null;case 25:return null;default:return null}}function b_(o,r){switch(Ed(r),r.tag){case 3:gi(at),$e();break;case 26:case 27:case 5:Kn(r);break;case 4:$e();break;case 31:r.memoizedState!==null&&en(r);break;case 13:en(r);break;case 19:Y(rt);break;case 10:gi(r.type);break;case 22:case 23:en(r),Ld(),o!==null&&Y(Jo);break;case 24:gi(at)}}function ya(o,r){try{var l=r.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var g=c.next;l=g;do{if((l.tag&o)===o){c=void 0;var y=l.create,E=l.inst;c=y(),E.destroy=c}l=l.next}while(l!==g)}}catch(b){ze(r,r.return,b)}}function ro(o,r,l){try{var c=r.updateQueue,g=c!==null?c.lastEffect:null;if(g!==null){var y=g.next;c=y;do{if((c.tag&o)===o){var E=c.inst,b=E.destroy;if(b!==void 0){E.destroy=void 0,g=r;var M=l,H=b;try{H()}catch(J){ze(g,M,J)}}}c=c.next}while(c!==y)}}catch(J){ze(r,r.return,J)}}function A_(o){var r=o.updateQueue;if(r!==null){var l=o.stateNode;try{py(r,l)}catch(c){ze(o,o.return,c)}}}function C_(o,r,l){l.props=Wo(o.type,o.memoizedProps),l.state=o.memoizedState;try{l.componentWillUnmount()}catch(c){ze(o,r,c)}}function _a(o,r){try{var l=o.ref;if(l!==null){switch(o.tag){case 26:case 27:case 5:var c=o.stateNode;break;case 30:c=o.stateNode;break;default:c=o.stateNode}typeof l=="function"?o.refCleanup=l(c):l.current=c}}catch(g){ze(o,r,g)}}function Wn(o,r){var l=o.ref,c=o.refCleanup;if(l!==null)if(typeof c=="function")try{c()}catch(g){ze(o,r,g)}finally{o.refCleanup=null,o=o.alternate,o!=null&&(o.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(g){ze(o,r,g)}else l.current=null}function w_(o){var r=o.type,l=o.memoizedProps,c=o.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":l.autoFocus&&c.focus();break e;case"img":l.src?c.src=l.src:l.srcSet&&(c.srcset=l.srcSet)}}catch(g){ze(o,o.return,g)}}function ph(o,r,l){try{var c=o.stateNode;iN(c,o.type,l,r),c[Ht]=r}catch(g){ze(o,o.return,g)}}function R_(o){return o.tag===5||o.tag===3||o.tag===26||o.tag===27&&ho(o.type)||o.tag===4}function mh(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||R_(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.tag===27&&ho(o.type)||o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function gh(o,r,l){var c=o.tag;if(c===5||c===6)o=o.stateNode,r?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(o,r):(r=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,r.appendChild(o),l=l._reactRootContainer,l!=null||r.onclick!==null||(r.onclick=fi));else if(c!==4&&(c===27&&ho(o.type)&&(l=o.stateNode,r=null),o=o.child,o!==null))for(gh(o,r,l),o=o.sibling;o!==null;)gh(o,r,l),o=o.sibling}function Ru(o,r,l){var c=o.tag;if(c===5||c===6)o=o.stateNode,r?l.insertBefore(o,r):l.appendChild(o);else if(c!==4&&(c===27&&ho(o.type)&&(l=o.stateNode),o=o.child,o!==null))for(Ru(o,r,l),o=o.sibling;o!==null;)Ru(o,r,l),o=o.sibling}function x_(o){var r=o.stateNode,l=o.memoizedProps;try{for(var c=o.type,g=r.attributes;g.length;)r.removeAttributeNode(g[0]);wt(r,c,l),r[Tt]=o,r[Ht]=l}catch(y){ze(o,o.return,y)}}var Ei=!1,ct=!1,vh=!1,M_=typeof WeakSet=="function"?WeakSet:Set,gt=null;function LM(o,r){if(o=o.containerInfo,Bh=Ku,o=Gv(o),cd(o)){if("selectionStart"in o)var l={start:o.selectionStart,end:o.selectionEnd};else e:{l=(l=o.ownerDocument)&&l.defaultView||window;var c=l.getSelection&&l.getSelection();if(c&&c.rangeCount!==0){l=c.anchorNode;var g=c.anchorOffset,y=c.focusNode;c=c.focusOffset;try{l.nodeType,y.nodeType}catch{l=null;break e}var E=0,b=-1,M=-1,H=0,J=0,X=o,q=null;t:for(;;){for(var F;X!==l||g!==0&&X.nodeType!==3||(b=E+g),X!==y||c!==0&&X.nodeType!==3||(M=E+c),X.nodeType===3&&(E+=X.nodeValue.length),(F=X.firstChild)!==null;)q=X,X=F;for(;;){if(X===o)break t;if(q===l&&++H===g&&(b=E),q===y&&++J===c&&(M=E),(F=X.nextSibling)!==null)break;X=q,q=X.parentNode}X=F}l=b===-1||M===-1?null:{start:b,end:M}}else l=null}l=l||{start:0,end:0}}else l=null;for(Hh={focusedElem:o,selectionRange:l},Ku=!1,gt=r;gt!==null;)if(r=gt,o=r.child,(r.subtreeFlags&1028)!==0&&o!==null)o.return=r,gt=o;else for(;gt!==null;){switch(r=gt,y=r.alternate,o=r.flags,r.tag){case 0:if((o&4)!==0&&(o=r.updateQueue,o=o!==null?o.events:null,o!==null))for(l=0;l<o.length;l++)g=o[l],g.ref.impl=g.nextImpl;break;case 11:case 15:break;case 1:if((o&1024)!==0&&y!==null){o=void 0,l=r,g=y.memoizedProps,y=y.memoizedState,c=l.stateNode;try{var le=Wo(l.type,g);o=c.getSnapshotBeforeUpdate(le,y),c.__reactInternalSnapshotBeforeUpdate=o}catch(ge){ze(l,l.return,ge)}}break;case 3:if((o&1024)!==0){if(o=r.stateNode.containerInfo,l=o.nodeType,l===9)qh(o);else if(l===1)switch(o.nodeName){case"HEAD":case"HTML":case"BODY":qh(o);break;default:o.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((o&1024)!==0)throw Error(i(163))}if(o=r.sibling,o!==null){o.return=r.return,gt=o;break}gt=r.return}}function N_(o,r,l){var c=l.flags;switch(l.tag){case 0:case 11:case 15:bi(o,l),c&4&&ya(5,l);break;case 1:if(bi(o,l),c&4)if(o=l.stateNode,r===null)try{o.componentDidMount()}catch(E){ze(l,l.return,E)}else{var g=Wo(l.type,r.memoizedProps);r=r.memoizedState;try{o.componentDidUpdate(g,r,o.__reactInternalSnapshotBeforeUpdate)}catch(E){ze(l,l.return,E)}}c&64&&A_(l),c&512&&_a(l,l.return);break;case 3:if(bi(o,l),c&64&&(o=l.updateQueue,o!==null)){if(r=null,l.child!==null)switch(l.child.tag){case 27:case 5:r=l.child.stateNode;break;case 1:r=l.child.stateNode}try{py(o,r)}catch(E){ze(l,l.return,E)}}break;case 27:r===null&&c&4&&x_(l);case 26:case 5:bi(o,l),r===null&&c&4&&w_(l),c&512&&_a(l,l.return);break;case 12:bi(o,l);break;case 31:bi(o,l),c&4&&O_(o,l);break;case 13:bi(o,l),c&4&&U_(o,l),c&64&&(o=l.memoizedState,o!==null&&(o=o.dehydrated,o!==null&&(l=zM.bind(null,l),fN(o,l))));break;case 22:if(c=l.memoizedState!==null||Ei,!c){r=r!==null&&r.memoizedState!==null||ct,g=Ei;var y=ct;Ei=c,(ct=r)&&!y?Ai(o,l,(l.subtreeFlags&8772)!==0):bi(o,l),Ei=g,ct=y}break;case 30:break;default:bi(o,l)}}function I_(o){var r=o.alternate;r!==null&&(o.alternate=null,I_(r)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(r=o.stateNode,r!==null&&Yf(r)),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}var tt=null,Gt=!1;function Ti(o,r,l){for(l=l.child;l!==null;)D_(o,r,l),l=l.sibling}function D_(o,r,l){if(Xt&&typeof Xt.onCommitFiberUnmount=="function")try{Xt.onCommitFiberUnmount($s,l)}catch{}switch(l.tag){case 26:ct||Wn(l,r),Ti(o,r,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:ct||Wn(l,r);var c=tt,g=Gt;ho(l.type)&&(tt=l.stateNode,Gt=!1),Ti(o,r,l),xa(l.stateNode),tt=c,Gt=g;break;case 5:ct||Wn(l,r);case 6:if(c=tt,g=Gt,tt=null,Ti(o,r,l),tt=c,Gt=g,tt!==null)if(Gt)try{(tt.nodeType===9?tt.body:tt.nodeName==="HTML"?tt.ownerDocument.body:tt).removeChild(l.stateNode)}catch(y){ze(l,r,y)}else try{tt.removeChild(l.stateNode)}catch(y){ze(l,r,y)}break;case 18:tt!==null&&(Gt?(o=tt,A0(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,l.stateNode),is(o)):A0(tt,l.stateNode));break;case 4:c=tt,g=Gt,tt=l.stateNode.containerInfo,Gt=!0,Ti(o,r,l),tt=c,Gt=g;break;case 0:case 11:case 14:case 15:ro(2,l,r),ct||ro(4,l,r),Ti(o,r,l);break;case 1:ct||(Wn(l,r),c=l.stateNode,typeof c.componentWillUnmount=="function"&&C_(l,r,c)),Ti(o,r,l);break;case 21:Ti(o,r,l);break;case 22:ct=(c=ct)||l.memoizedState!==null,Ti(o,r,l),ct=c;break;default:Ti(o,r,l)}}function O_(o,r){if(r.memoizedState===null&&(o=r.alternate,o!==null&&(o=o.memoizedState,o!==null))){o=o.dehydrated;try{is(o)}catch(l){ze(r,r.return,l)}}}function U_(o,r){if(r.memoizedState===null&&(o=r.alternate,o!==null&&(o=o.memoizedState,o!==null&&(o=o.dehydrated,o!==null))))try{is(o)}catch(l){ze(r,r.return,l)}}function kM(o){switch(o.tag){case 31:case 13:case 19:var r=o.stateNode;return r===null&&(r=o.stateNode=new M_),r;case 22:return o=o.stateNode,r=o._retryCache,r===null&&(r=o._retryCache=new M_),r;default:throw Error(i(435,o.tag))}}function xu(o,r){var l=kM(o);r.forEach(function(c){if(!l.has(c)){l.add(c);var g=JM.bind(null,o,c);c.then(g,g)}})}function qt(o,r){var l=r.deletions;if(l!==null)for(var c=0;c<l.length;c++){var g=l[c],y=o,E=r,b=E;e:for(;b!==null;){switch(b.tag){case 27:if(ho(b.type)){tt=b.stateNode,Gt=!1;break e}break;case 5:tt=b.stateNode,Gt=!1;break e;case 3:case 4:tt=b.stateNode.containerInfo,Gt=!0;break e}b=b.return}if(tt===null)throw Error(i(160));D_(y,E,g),tt=null,Gt=!1,y=g.alternate,y!==null&&(y.return=null),g.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)P_(r,o),r=r.sibling}var Pn=null;function P_(o,r){var l=o.alternate,c=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:qt(r,o),$t(o),c&4&&(ro(3,o,o.return),ya(3,o),ro(5,o,o.return));break;case 1:qt(r,o),$t(o),c&512&&(ct||l===null||Wn(l,l.return)),c&64&&Ei&&(o=o.updateQueue,o!==null&&(c=o.callbacks,c!==null&&(l=o.shared.hiddenCallbacks,o.shared.hiddenCallbacks=l===null?c:l.concat(c))));break;case 26:var g=Pn;if(qt(r,o),$t(o),c&512&&(ct||l===null||Wn(l,l.return)),c&4){var y=l!==null?l.memoizedState:null;if(c=o.memoizedState,l===null)if(c===null)if(o.stateNode===null){e:{c=o.type,l=o.memoizedProps,g=g.ownerDocument||g;t:switch(c){case"title":y=g.getElementsByTagName("title")[0],(!y||y[Js]||y[Tt]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=g.createElement(c),g.head.insertBefore(y,g.querySelector("head > title"))),wt(y,c,l),y[Tt]=o,mt(y),c=y;break e;case"link":var E=P0("link","href",g).get(c+(l.href||""));if(E){for(var b=0;b<E.length;b++)if(y=E[b],y.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&y.getAttribute("rel")===(l.rel==null?null:l.rel)&&y.getAttribute("title")===(l.title==null?null:l.title)&&y.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){E.splice(b,1);break t}}y=g.createElement(c),wt(y,c,l),g.head.appendChild(y);break;case"meta":if(E=P0("meta","content",g).get(c+(l.content||""))){for(b=0;b<E.length;b++)if(y=E[b],y.getAttribute("content")===(l.content==null?null:""+l.content)&&y.getAttribute("name")===(l.name==null?null:l.name)&&y.getAttribute("property")===(l.property==null?null:l.property)&&y.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&y.getAttribute("charset")===(l.charSet==null?null:l.charSet)){E.splice(b,1);break t}}y=g.createElement(c),wt(y,c,l),g.head.appendChild(y);break;default:throw Error(i(468,c))}y[Tt]=o,mt(y),c=y}o.stateNode=c}else L0(g,o.type,o.stateNode);else o.stateNode=U0(g,c,o.memoizedProps);else y!==c?(y===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):y.count--,c===null?L0(g,o.type,o.stateNode):U0(g,c,o.memoizedProps)):c===null&&o.stateNode!==null&&ph(o,o.memoizedProps,l.memoizedProps)}break;case 27:qt(r,o),$t(o),c&512&&(ct||l===null||Wn(l,l.return)),l!==null&&c&4&&ph(o,o.memoizedProps,l.memoizedProps);break;case 5:if(qt(r,o),$t(o),c&512&&(ct||l===null||Wn(l,l.return)),o.flags&32){g=o.stateNode;try{wr(g,"")}catch(le){ze(o,o.return,le)}}c&4&&o.stateNode!=null&&(g=o.memoizedProps,ph(o,g,l!==null?l.memoizedProps:g)),c&1024&&(vh=!0);break;case 6:if(qt(r,o),$t(o),c&4){if(o.stateNode===null)throw Error(i(162));c=o.memoizedProps,l=o.stateNode;try{l.nodeValue=c}catch(le){ze(o,o.return,le)}}break;case 3:if(Fu=null,g=Pn,Pn=qu(r.containerInfo),qt(r,o),Pn=g,$t(o),c&4&&l!==null&&l.memoizedState.isDehydrated)try{is(r.containerInfo)}catch(le){ze(o,o.return,le)}vh&&(vh=!1,L_(o));break;case 4:c=Pn,Pn=qu(o.stateNode.containerInfo),qt(r,o),$t(o),Pn=c;break;case 12:qt(r,o),$t(o);break;case 31:qt(r,o),$t(o),c&4&&(c=o.updateQueue,c!==null&&(o.updateQueue=null,xu(o,c)));break;case 13:qt(r,o),$t(o),o.child.flags&8192&&o.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(Nu=Et()),c&4&&(c=o.updateQueue,c!==null&&(o.updateQueue=null,xu(o,c)));break;case 22:g=o.memoizedState!==null;var M=l!==null&&l.memoizedState!==null,H=Ei,J=ct;if(Ei=H||g,ct=J||M,qt(r,o),ct=J,Ei=H,$t(o),c&8192)e:for(r=o.stateNode,r._visibility=g?r._visibility&-2:r._visibility|1,g&&(l===null||M||Ei||ct||Zo(o)),l=null,r=o;;){if(r.tag===5||r.tag===26){if(l===null){M=l=r;try{if(y=M.stateNode,g)E=y.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{b=M.stateNode;var X=M.memoizedProps.style,q=X!=null&&X.hasOwnProperty("display")?X.display:null;b.style.display=q==null||typeof q=="boolean"?"":(""+q).trim()}}catch(le){ze(M,M.return,le)}}}else if(r.tag===6){if(l===null){M=r;try{M.stateNode.nodeValue=g?"":M.memoizedProps}catch(le){ze(M,M.return,le)}}}else if(r.tag===18){if(l===null){M=r;try{var F=M.stateNode;g?C0(F,!0):C0(M.stateNode,!1)}catch(le){ze(M,M.return,le)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===o)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===o)break e;for(;r.sibling===null;){if(r.return===null||r.return===o)break e;l===r&&(l=null),r=r.return}l===r&&(l=null),r.sibling.return=r.return,r=r.sibling}c&4&&(c=o.updateQueue,c!==null&&(l=c.retryQueue,l!==null&&(c.retryQueue=null,xu(o,l))));break;case 19:qt(r,o),$t(o),c&4&&(c=o.updateQueue,c!==null&&(o.updateQueue=null,xu(o,c)));break;case 30:break;case 21:break;default:qt(r,o),$t(o)}}function $t(o){var r=o.flags;if(r&2){try{for(var l,c=o.return;c!==null;){if(R_(c)){l=c;break}c=c.return}if(l==null)throw Error(i(160));switch(l.tag){case 27:var g=l.stateNode,y=mh(o);Ru(o,y,g);break;case 5:var E=l.stateNode;l.flags&32&&(wr(E,""),l.flags&=-33);var b=mh(o);Ru(o,b,E);break;case 3:case 4:var M=l.stateNode.containerInfo,H=mh(o);gh(o,H,M);break;default:throw Error(i(161))}}catch(J){ze(o,o.return,J)}o.flags&=-3}r&4096&&(o.flags&=-4097)}function L_(o){if(o.subtreeFlags&1024)for(o=o.child;o!==null;){var r=o;L_(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),o=o.sibling}}function bi(o,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)N_(o,r.alternate,r),r=r.sibling}function Zo(o){for(o=o.child;o!==null;){var r=o;switch(r.tag){case 0:case 11:case 14:case 15:ro(4,r,r.return),Zo(r);break;case 1:Wn(r,r.return);var l=r.stateNode;typeof l.componentWillUnmount=="function"&&C_(r,r.return,l),Zo(r);break;case 27:xa(r.stateNode);case 26:case 5:Wn(r,r.return),Zo(r);break;case 22:r.memoizedState===null&&Zo(r);break;case 30:Zo(r);break;default:Zo(r)}o=o.sibling}}function Ai(o,r,l){for(l=l&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var c=r.alternate,g=o,y=r,E=y.flags;switch(y.tag){case 0:case 11:case 15:Ai(g,y,l),ya(4,y);break;case 1:if(Ai(g,y,l),c=y,g=c.stateNode,typeof g.componentDidMount=="function")try{g.componentDidMount()}catch(H){ze(c,c.return,H)}if(c=y,g=c.updateQueue,g!==null){var b=c.stateNode;try{var M=g.shared.hiddenCallbacks;if(M!==null)for(g.shared.hiddenCallbacks=null,g=0;g<M.length;g++)hy(M[g],b)}catch(H){ze(c,c.return,H)}}l&&E&64&&A_(y),_a(y,y.return);break;case 27:x_(y);case 26:case 5:Ai(g,y,l),l&&c===null&&E&4&&w_(y),_a(y,y.return);break;case 12:Ai(g,y,l);break;case 31:Ai(g,y,l),l&&E&4&&O_(g,y);break;case 13:Ai(g,y,l),l&&E&4&&U_(g,y);break;case 22:y.memoizedState===null&&Ai(g,y,l),_a(y,y.return);break;case 30:break;default:Ai(g,y,l)}r=r.sibling}}function yh(o,r){var l=null;o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(l=o.memoizedState.cachePool.pool),o=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),o!==l&&(o!=null&&o.refCount++,l!=null&&ra(l))}function _h(o,r){o=null,r.alternate!==null&&(o=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==o&&(r.refCount++,o!=null&&ra(o))}function Ln(o,r,l,c){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)k_(o,r,l,c),r=r.sibling}function k_(o,r,l,c){var g=r.flags;switch(r.tag){case 0:case 11:case 15:Ln(o,r,l,c),g&2048&&ya(9,r);break;case 1:Ln(o,r,l,c);break;case 3:Ln(o,r,l,c),g&2048&&(o=null,r.alternate!==null&&(o=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==o&&(r.refCount++,o!=null&&ra(o)));break;case 12:if(g&2048){Ln(o,r,l,c),o=r.stateNode;try{var y=r.memoizedProps,E=y.id,b=y.onPostCommit;typeof b=="function"&&b(E,r.alternate===null?"mount":"update",o.passiveEffectDuration,-0)}catch(M){ze(r,r.return,M)}}else Ln(o,r,l,c);break;case 31:Ln(o,r,l,c);break;case 13:Ln(o,r,l,c);break;case 23:break;case 22:y=r.stateNode,E=r.alternate,r.memoizedState!==null?y._visibility&2?Ln(o,r,l,c):Sa(o,r):y._visibility&2?Ln(o,r,l,c):(y._visibility|=2,Jr(o,r,l,c,(r.subtreeFlags&10256)!==0||!1)),g&2048&&yh(E,r);break;case 24:Ln(o,r,l,c),g&2048&&_h(r.alternate,r);break;default:Ln(o,r,l,c)}}function Jr(o,r,l,c,g){for(g=g&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var y=o,E=r,b=l,M=c,H=E.flags;switch(E.tag){case 0:case 11:case 15:Jr(y,E,b,M,g),ya(8,E);break;case 23:break;case 22:var J=E.stateNode;E.memoizedState!==null?J._visibility&2?Jr(y,E,b,M,g):Sa(y,E):(J._visibility|=2,Jr(y,E,b,M,g)),g&&H&2048&&yh(E.alternate,E);break;case 24:Jr(y,E,b,M,g),g&&H&2048&&_h(E.alternate,E);break;default:Jr(y,E,b,M,g)}r=r.sibling}}function Sa(o,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var l=o,c=r,g=c.flags;switch(c.tag){case 22:Sa(l,c),g&2048&&yh(c.alternate,c);break;case 24:Sa(l,c),g&2048&&_h(c.alternate,c);break;default:Sa(l,c)}r=r.sibling}}var Ea=8192;function Yr(o,r,l){if(o.subtreeFlags&Ea)for(o=o.child;o!==null;)B_(o,r,l),o=o.sibling}function B_(o,r,l){switch(o.tag){case 26:Yr(o,r,l),o.flags&Ea&&o.memoizedState!==null&&bN(l,Pn,o.memoizedState,o.memoizedProps);break;case 5:Yr(o,r,l);break;case 3:case 4:var c=Pn;Pn=qu(o.stateNode.containerInfo),Yr(o,r,l),Pn=c;break;case 22:o.memoizedState===null&&(c=o.alternate,c!==null&&c.memoizedState!==null?(c=Ea,Ea=16777216,Yr(o,r,l),Ea=c):Yr(o,r,l));break;default:Yr(o,r,l)}}function H_(o){var r=o.alternate;if(r!==null&&(o=r.child,o!==null)){r.child=null;do r=o.sibling,o.sibling=null,o=r;while(o!==null)}}function Ta(o){var r=o.deletions;if((o.flags&16)!==0){if(r!==null)for(var l=0;l<r.length;l++){var c=r[l];gt=c,G_(c,o)}H_(o)}if(o.subtreeFlags&10256)for(o=o.child;o!==null;)V_(o),o=o.sibling}function V_(o){switch(o.tag){case 0:case 11:case 15:Ta(o),o.flags&2048&&ro(9,o,o.return);break;case 3:Ta(o);break;case 12:Ta(o);break;case 22:var r=o.stateNode;o.memoizedState!==null&&r._visibility&2&&(o.return===null||o.return.tag!==13)?(r._visibility&=-3,Mu(o)):Ta(o);break;default:Ta(o)}}function Mu(o){var r=o.deletions;if((o.flags&16)!==0){if(r!==null)for(var l=0;l<r.length;l++){var c=r[l];gt=c,G_(c,o)}H_(o)}for(o=o.child;o!==null;){switch(r=o,r.tag){case 0:case 11:case 15:ro(8,r,r.return),Mu(r);break;case 22:l=r.stateNode,l._visibility&2&&(l._visibility&=-3,Mu(r));break;default:Mu(r)}o=o.sibling}}function G_(o,r){for(;gt!==null;){var l=gt;switch(l.tag){case 0:case 11:case 15:ro(8,l,r);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var c=l.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:ra(l.memoizedState.cache)}if(c=l.child,c!==null)c.return=l,gt=c;else e:for(l=o;gt!==null;){c=gt;var g=c.sibling,y=c.return;if(I_(c),c===l){gt=null;break e}if(g!==null){g.return=y,gt=g;break e}gt=y}}}var BM={getCacheForType:function(o){var r=At(at),l=r.data.get(o);return l===void 0&&(l=o(),r.data.set(o,l)),l},cacheSignal:function(){return At(at).controller.signal}},HM=typeof WeakMap=="function"?WeakMap:Map,qe=0,Qe=null,Ie=null,Oe=0,Fe=0,tn=null,so=!1,Kr=!1,Sh=!1,Ci=0,ot=0,ao=0,jo=0,Eh=0,nn=0,Xr=0,ba=null,Ft=null,Th=!1,Nu=0,q_=0,Iu=1/0,Du=null,lo=null,dt=0,uo=null,Qr=null,wi=0,bh=0,Ah=null,$_=null,Aa=0,Ch=null;function on(){return(qe&2)!==0&&Oe!==0?Oe&-Oe:k.T!==null?Ih():rv()}function F_(){if(nn===0)if((Oe&536870912)===0||Pe){var o=Vl;Vl<<=1,(Vl&3932160)===0&&(Vl=262144),nn=o}else nn=536870912;return o=jt.current,o!==null&&(o.flags|=32),nn}function zt(o,r,l){(o===Qe&&(Fe===2||Fe===9)||o.cancelPendingCommit!==null)&&(Wr(o,0),co(o,Oe,nn,!1)),zs(o,l),((qe&2)===0||o!==Qe)&&(o===Qe&&((qe&2)===0&&(jo|=l),ot===4&&co(o,Oe,nn,!1)),Zn(o))}function z_(o,r,l){if((qe&6)!==0)throw Error(i(327));var c=!l&&(r&127)===0&&(r&o.expiredLanes)===0||Fs(o,r),g=c?qM(o,r):Rh(o,r,!0),y=c;do{if(g===0){Kr&&!c&&co(o,r,0,!1);break}else{if(l=o.current.alternate,y&&!VM(l)){g=Rh(o,r,!1),y=!1;continue}if(g===2){if(y=r,o.errorRecoveryDisabledLanes&y)var E=0;else E=o.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){r=E;e:{var b=o;g=ba;var M=b.current.memoizedState.isDehydrated;if(M&&(Wr(b,E).flags|=256),E=Rh(b,E,!1),E!==2){if(Sh&&!M){b.errorRecoveryDisabledLanes|=y,jo|=y,g=4;break e}y=Ft,Ft=g,y!==null&&(Ft===null?Ft=y:Ft.push.apply(Ft,y))}g=E}if(y=!1,g!==2)continue}}if(g===1){Wr(o,0),co(o,r,0,!0);break}e:{switch(c=o,y=g,y){case 0:case 1:throw Error(i(345));case 4:if((r&4194048)!==r)break;case 6:co(c,r,nn,!so);break e;case 2:Ft=null;break;case 3:case 5:break;default:throw Error(i(329))}if((r&62914560)===r&&(g=Nu+300-Et(),10<g)){if(co(c,r,nn,!so),ql(c,0,!0)!==0)break e;wi=r,c.timeoutHandle=T0(J_.bind(null,c,l,Ft,Du,Th,r,nn,jo,Xr,so,y,"Throttled",-0,0),g);break e}J_(c,l,Ft,Du,Th,r,nn,jo,Xr,so,y,null,-0,0)}}break}while(!0);Zn(o)}function J_(o,r,l,c,g,y,E,b,M,H,J,X,q,F){if(o.timeoutHandle=-1,X=r.subtreeFlags,X&8192||(X&16785408)===16785408){X={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:fi},B_(r,y,X);var le=(y&62914560)===y?Nu-Et():(y&4194048)===y?q_-Et():0;if(le=AN(X,le),le!==null){wi=y,o.cancelPendingCommit=le(e0.bind(null,o,r,y,l,c,g,E,b,M,J,X,null,q,F)),co(o,y,E,!H);return}}e0(o,r,y,l,c,g,E,b,M)}function VM(o){for(var r=o;;){var l=r.tag;if((l===0||l===11||l===15)&&r.flags&16384&&(l=r.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var c=0;c<l.length;c++){var g=l[c],y=g.getSnapshot;g=g.value;try{if(!Wt(y(),g))return!1}catch{return!1}}if(l=r.child,r.subtreeFlags&16384&&l!==null)l.return=r,r=l;else{if(r===o)break;for(;r.sibling===null;){if(r.return===null||r.return===o)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function co(o,r,l,c){r&=~Eh,r&=~jo,o.suspendedLanes|=r,o.pingedLanes&=~r,c&&(o.warmLanes|=r),c=o.expirationTimes;for(var g=r;0<g;){var y=31-Qt(g),E=1<<y;c[y]=-1,g&=~E}l!==0&&nv(o,l,r)}function Ou(){return(qe&6)===0?(Ca(0),!1):!0}function wh(){if(Ie!==null){if(Fe===0)var o=Ie.return;else o=Ie,mi=Fo=null,qd(o),Gr=null,aa=0,o=Ie;for(;o!==null;)b_(o.alternate,o),o=o.return;Ie=null}}function Wr(o,r){var l=o.timeoutHandle;l!==-1&&(o.timeoutHandle=-1,sN(l)),l=o.cancelPendingCommit,l!==null&&(o.cancelPendingCommit=null,l()),wi=0,wh(),Qe=o,Ie=l=hi(o.current,null),Oe=r,Fe=0,tn=null,so=!1,Kr=Fs(o,r),Sh=!1,Xr=nn=Eh=jo=ao=ot=0,Ft=ba=null,Th=!1,(r&8)!==0&&(r|=r&32);var c=o.entangledLanes;if(c!==0)for(o=o.entanglements,c&=r;0<c;){var g=31-Qt(c),y=1<<g;r|=o[g],c&=~y}return Ci=r,eu(),l}function Y_(o,r){Ce=null,k.H=ma,r===Vr||r===lu?(r=uy(),Fe=3):r===Nd?(r=uy(),Fe=4):Fe=r===oh?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,tn=r,Ie===null&&(ot=1,Tu(o,mn(r,o.current)))}function K_(){var o=jt.current;return o===null?!0:(Oe&4194048)===Oe?_n===null:(Oe&62914560)===Oe||(Oe&536870912)!==0?o===_n:!1}function X_(){var o=k.H;return k.H=ma,o===null?ma:o}function Q_(){var o=k.A;return k.A=BM,o}function Uu(){ot=4,so||(Oe&4194048)!==Oe&&jt.current!==null||(Kr=!0),(ao&134217727)===0&&(jo&134217727)===0||Qe===null||co(Qe,Oe,nn,!1)}function Rh(o,r,l){var c=qe;qe|=2;var g=X_(),y=Q_();(Qe!==o||Oe!==r)&&(Du=null,Wr(o,r)),r=!1;var E=ot;e:do try{if(Fe!==0&&Ie!==null){var b=Ie,M=tn;switch(Fe){case 8:wh(),E=6;break e;case 3:case 2:case 9:case 6:jt.current===null&&(r=!0);var H=Fe;if(Fe=0,tn=null,Zr(o,b,M,H),l&&Kr){E=0;break e}break;default:H=Fe,Fe=0,tn=null,Zr(o,b,M,H)}}GM(),E=ot;break}catch(J){Y_(o,J)}while(!0);return r&&o.shellSuspendCounter++,mi=Fo=null,qe=c,k.H=g,k.A=y,Ie===null&&(Qe=null,Oe=0,eu()),E}function GM(){for(;Ie!==null;)W_(Ie)}function qM(o,r){var l=qe;qe|=2;var c=X_(),g=Q_();Qe!==o||Oe!==r?(Du=null,Iu=Et()+500,Wr(o,r)):Kr=Fs(o,r);e:do try{if(Fe!==0&&Ie!==null){r=Ie;var y=tn;t:switch(Fe){case 1:Fe=0,tn=null,Zr(o,r,y,1);break;case 2:case 9:if(ay(y)){Fe=0,tn=null,Z_(r);break}r=function(){Fe!==2&&Fe!==9||Qe!==o||(Fe=7),Zn(o)},y.then(r,r);break e;case 3:Fe=7;break e;case 4:Fe=5;break e;case 7:ay(y)?(Fe=0,tn=null,Z_(r)):(Fe=0,tn=null,Zr(o,r,y,7));break;case 5:var E=null;switch(Ie.tag){case 26:E=Ie.memoizedState;case 5:case 27:var b=Ie;if(E?k0(E):b.stateNode.complete){Fe=0,tn=null;var M=b.sibling;if(M!==null)Ie=M;else{var H=b.return;H!==null?(Ie=H,Pu(H)):Ie=null}break t}}Fe=0,tn=null,Zr(o,r,y,5);break;case 6:Fe=0,tn=null,Zr(o,r,y,6);break;case 8:wh(),ot=6;break e;default:throw Error(i(462))}}$M();break}catch(J){Y_(o,J)}while(!0);return mi=Fo=null,k.H=c,k.A=g,qe=l,Ie!==null?0:(Qe=null,Oe=0,eu(),ot)}function $M(){for(;Ie!==null&&!Ll();)W_(Ie)}function W_(o){var r=E_(o.alternate,o,Ci);o.memoizedProps=o.pendingProps,r===null?Pu(o):Ie=r}function Z_(o){var r=o,l=r.alternate;switch(r.tag){case 15:case 0:r=m_(l,r,r.pendingProps,r.type,void 0,Oe);break;case 11:r=m_(l,r,r.pendingProps,r.type.render,r.ref,Oe);break;case 5:qd(r);default:b_(l,r),r=Ie=Qv(r,Ci),r=E_(l,r,Ci)}o.memoizedProps=o.pendingProps,r===null?Pu(o):Ie=r}function Zr(o,r,l,c){mi=Fo=null,qd(r),Gr=null,aa=0;var g=r.return;try{if(IM(o,g,r,l,Oe)){ot=1,Tu(o,mn(l,o.current)),Ie=null;return}}catch(y){if(g!==null)throw Ie=g,y;ot=1,Tu(o,mn(l,o.current)),Ie=null;return}r.flags&32768?(Pe||c===1?o=!0:Kr||(Oe&536870912)!==0?o=!1:(so=o=!0,(c===2||c===9||c===3||c===6)&&(c=jt.current,c!==null&&c.tag===13&&(c.flags|=16384))),j_(r,o)):Pu(r)}function Pu(o){var r=o;do{if((r.flags&32768)!==0){j_(r,so);return}o=r.return;var l=UM(r.alternate,r,Ci);if(l!==null){Ie=l;return}if(r=r.sibling,r!==null){Ie=r;return}Ie=r=o}while(r!==null);ot===0&&(ot=5)}function j_(o,r){do{var l=PM(o.alternate,o);if(l!==null){l.flags&=32767,Ie=l;return}if(l=o.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!r&&(o=o.sibling,o!==null)){Ie=o;return}Ie=o=l}while(o!==null);ot=6,Ie=null}function e0(o,r,l,c,g,y,E,b,M){o.cancelPendingCommit=null;do Lu();while(dt!==0);if((qe&6)!==0)throw Error(i(327));if(r!==null){if(r===o.current)throw Error(i(177));if(y=r.lanes|r.childLanes,y|=md,Tx(o,l,y,E,b,M),o===Qe&&(Ie=Qe=null,Oe=0),Qr=r,uo=o,wi=l,bh=y,Ah=g,$_=c,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(o.callbackNode=null,o.callbackPriority=0,YM(Po,function(){return r0(),null})):(o.callbackNode=null,o.callbackPriority=0),c=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||c){c=k.T,k.T=null,g=Z.p,Z.p=2,E=qe,qe|=4;try{LM(o,r,l)}finally{qe=E,Z.p=g,k.T=c}}dt=1,t0(),n0(),i0()}}function t0(){if(dt===1){dt=0;var o=uo,r=Qr,l=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||l){l=k.T,k.T=null;var c=Z.p;Z.p=2;var g=qe;qe|=4;try{P_(r,o);var y=Hh,E=Gv(o.containerInfo),b=y.focusedElem,M=y.selectionRange;if(E!==b&&b&&b.ownerDocument&&Vv(b.ownerDocument.documentElement,b)){if(M!==null&&cd(b)){var H=M.start,J=M.end;if(J===void 0&&(J=H),"selectionStart"in b)b.selectionStart=H,b.selectionEnd=Math.min(J,b.value.length);else{var X=b.ownerDocument||document,q=X&&X.defaultView||window;if(q.getSelection){var F=q.getSelection(),le=b.textContent.length,ge=Math.min(M.start,le),Ke=M.end===void 0?ge:Math.min(M.end,le);!F.extend&&ge>Ke&&(E=Ke,Ke=ge,ge=E);var P=Hv(b,ge),I=Hv(b,Ke);if(P&&I&&(F.rangeCount!==1||F.anchorNode!==P.node||F.anchorOffset!==P.offset||F.focusNode!==I.node||F.focusOffset!==I.offset)){var B=X.createRange();B.setStart(P.node,P.offset),F.removeAllRanges(),ge>Ke?(F.addRange(B),F.extend(I.node,I.offset)):(B.setEnd(I.node,I.offset),F.addRange(B))}}}}for(X=[],F=b;F=F.parentNode;)F.nodeType===1&&X.push({element:F,left:F.scrollLeft,top:F.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<X.length;b++){var K=X[b];K.element.scrollLeft=K.left,K.element.scrollTop=K.top}}Ku=!!Bh,Hh=Bh=null}finally{qe=g,Z.p=c,k.T=l}}o.current=r,dt=2}}function n0(){if(dt===2){dt=0;var o=uo,r=Qr,l=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||l){l=k.T,k.T=null;var c=Z.p;Z.p=2;var g=qe;qe|=4;try{N_(o,r.alternate,r)}finally{qe=g,Z.p=c,k.T=l}}dt=3}}function i0(){if(dt===4||dt===3){dt=0,kl();var o=uo,r=Qr,l=wi,c=$_;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?dt=5:(dt=0,Qr=uo=null,o0(o,o.pendingLanes));var g=o.pendingLanes;if(g===0&&(lo=null),zf(l),r=r.stateNode,Xt&&typeof Xt.onCommitFiberRoot=="function")try{Xt.onCommitFiberRoot($s,r,void 0,(r.current.flags&128)===128)}catch{}if(c!==null){r=k.T,g=Z.p,Z.p=2,k.T=null;try{for(var y=o.onRecoverableError,E=0;E<c.length;E++){var b=c[E];y(b.value,{componentStack:b.stack})}}finally{k.T=r,Z.p=g}}(wi&3)!==0&&Lu(),Zn(o),g=o.pendingLanes,(l&261930)!==0&&(g&42)!==0?o===Ch?Aa++:(Aa=0,Ch=o):Aa=0,Ca(0)}}function o0(o,r){(o.pooledCacheLanes&=r)===0&&(r=o.pooledCache,r!=null&&(o.pooledCache=null,ra(r)))}function Lu(){return t0(),n0(),i0(),r0()}function r0(){if(dt!==5)return!1;var o=uo,r=bh;bh=0;var l=zf(wi),c=k.T,g=Z.p;try{Z.p=32>l?32:l,k.T=null,l=Ah,Ah=null;var y=uo,E=wi;if(dt=0,Qr=uo=null,wi=0,(qe&6)!==0)throw Error(i(331));var b=qe;if(qe|=4,V_(y.current),k_(y,y.current,E,l),qe=b,Ca(0,!1),Xt&&typeof Xt.onPostCommitFiberRoot=="function")try{Xt.onPostCommitFiberRoot($s,y)}catch{}return!0}finally{Z.p=g,k.T=c,o0(o,r)}}function s0(o,r,l){r=mn(l,r),r=ih(o.stateNode,r,2),o=no(o,r,2),o!==null&&(zs(o,2),Zn(o))}function ze(o,r,l){if(o.tag===3)s0(o,o,l);else for(;r!==null;){if(r.tag===3){s0(r,o,l);break}else if(r.tag===1){var c=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(lo===null||!lo.has(c))){o=mn(l,o),l=a_(2),c=no(r,l,2),c!==null&&(l_(l,c,r,o),zs(c,2),Zn(c));break}}r=r.return}}function xh(o,r,l){var c=o.pingCache;if(c===null){c=o.pingCache=new HM;var g=new Set;c.set(r,g)}else g=c.get(r),g===void 0&&(g=new Set,c.set(r,g));g.has(l)||(Sh=!0,g.add(l),o=FM.bind(null,o,r,l),r.then(o,o))}function FM(o,r,l){var c=o.pingCache;c!==null&&c.delete(r),o.pingedLanes|=o.suspendedLanes&l,o.warmLanes&=~l,Qe===o&&(Oe&l)===l&&(ot===4||ot===3&&(Oe&62914560)===Oe&&300>Et()-Nu?(qe&2)===0&&Wr(o,0):Eh|=l,Xr===Oe&&(Xr=0)),Zn(o)}function a0(o,r){r===0&&(r=tv()),o=Go(o,r),o!==null&&(zs(o,r),Zn(o))}function zM(o){var r=o.memoizedState,l=0;r!==null&&(l=r.retryLane),a0(o,l)}function JM(o,r){var l=0;switch(o.tag){case 31:case 13:var c=o.stateNode,g=o.memoizedState;g!==null&&(l=g.retryLane);break;case 19:c=o.stateNode;break;case 22:c=o.stateNode._retryCache;break;default:throw Error(i(314))}c!==null&&c.delete(r),a0(o,l)}function YM(o,r){return On(o,r)}var ku=null,jr=null,Mh=!1,Bu=!1,Nh=!1,fo=0;function Zn(o){o!==jr&&o.next===null&&(jr===null?ku=jr=o:jr=jr.next=o),Bu=!0,Mh||(Mh=!0,XM())}function Ca(o,r){if(!Nh&&Bu){Nh=!0;do for(var l=!1,c=ku;c!==null;){if(o!==0){var g=c.pendingLanes;if(g===0)var y=0;else{var E=c.suspendedLanes,b=c.pingedLanes;y=(1<<31-Qt(42|o)+1)-1,y&=g&~(E&~b),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(l=!0,f0(c,y))}else y=Oe,y=ql(c,c===Qe?y:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(y&3)===0||Fs(c,y)||(l=!0,f0(c,y));c=c.next}while(l);Nh=!1}}function KM(){l0()}function l0(){Bu=Mh=!1;var o=0;fo!==0&&rN()&&(o=fo);for(var r=Et(),l=null,c=ku;c!==null;){var g=c.next,y=u0(c,r);y===0?(c.next=null,l===null?ku=g:l.next=g,g===null&&(jr=l)):(l=c,(o!==0||(y&3)!==0)&&(Bu=!0)),c=g}dt!==0&&dt!==5||Ca(o),fo!==0&&(fo=0)}function u0(o,r){for(var l=o.suspendedLanes,c=o.pingedLanes,g=o.expirationTimes,y=o.pendingLanes&-62914561;0<y;){var E=31-Qt(y),b=1<<E,M=g[E];M===-1?((b&l)===0||(b&c)!==0)&&(g[E]=Ex(b,r)):M<=r&&(o.expiredLanes|=b),y&=~b}if(r=Qe,l=Oe,l=ql(o,o===r?l:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),c=o.callbackNode,l===0||o===r&&(Fe===2||Fe===9)||o.cancelPendingCommit!==null)return c!==null&&c!==null&&Ji(c),o.callbackNode=null,o.callbackPriority=0;if((l&3)===0||Fs(o,l)){if(r=l&-l,r===o.callbackPriority)return r;switch(c!==null&&Ji(c),zf(l)){case 2:case 8:l=qs;break;case 32:l=Po;break;case 268435456:l=ev;break;default:l=Po}return c=c0.bind(null,o),l=On(l,c),o.callbackPriority=r,o.callbackNode=l,r}return c!==null&&c!==null&&Ji(c),o.callbackPriority=2,o.callbackNode=null,2}function c0(o,r){if(dt!==0&&dt!==5)return o.callbackNode=null,o.callbackPriority=0,null;var l=o.callbackNode;if(Lu()&&o.callbackNode!==l)return null;var c=Oe;return c=ql(o,o===Qe?c:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),c===0?null:(z_(o,c,r),u0(o,Et()),o.callbackNode!=null&&o.callbackNode===l?c0.bind(null,o):null)}function f0(o,r){if(Lu())return null;z_(o,r,!0)}function XM(){aN(function(){(qe&6)!==0?On(Gs,KM):l0()})}function Ih(){if(fo===0){var o=Br;o===0&&(o=Hl,Hl<<=1,(Hl&261888)===0&&(Hl=256)),fo=o}return fo}function d0(o){return o==null||typeof o=="symbol"||typeof o=="boolean"?null:typeof o=="function"?o:Jl(""+o)}function h0(o,r){var l=r.ownerDocument.createElement("input");return l.name=r.name,l.value=r.value,o.id&&l.setAttribute("form",o.id),r.parentNode.insertBefore(l,r),o=new FormData(o),l.parentNode.removeChild(l),o}function QM(o,r,l,c,g){if(r==="submit"&&l&&l.stateNode===g){var y=d0((g[Ht]||null).action),E=c.submitter;E&&(r=(r=E[Ht]||null)?d0(r.formAction):E.getAttribute("formAction"),r!==null&&(y=r,E=null));var b=new Ql("action","action",null,c,g);o.push({event:b,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(fo!==0){var M=E?h0(g,E):new FormData(g);Wd(l,{pending:!0,data:M,method:g.method,action:y},null,M)}}else typeof y=="function"&&(b.preventDefault(),M=E?h0(g,E):new FormData(g),Wd(l,{pending:!0,data:M,method:g.method,action:y},y,M))},currentTarget:g}]})}}for(var Dh=0;Dh<pd.length;Dh++){var Oh=pd[Dh],WM=Oh.toLowerCase(),ZM=Oh[0].toUpperCase()+Oh.slice(1);Un(WM,"on"+ZM)}Un(Fv,"onAnimationEnd"),Un(zv,"onAnimationIteration"),Un(Jv,"onAnimationStart"),Un("dblclick","onDoubleClick"),Un("focusin","onFocus"),Un("focusout","onBlur"),Un(pM,"onTransitionRun"),Un(mM,"onTransitionStart"),Un(gM,"onTransitionCancel"),Un(Yv,"onTransitionEnd"),Ar("onMouseEnter",["mouseout","mouseover"]),Ar("onMouseLeave",["mouseout","mouseover"]),Ar("onPointerEnter",["pointerout","pointerover"]),Ar("onPointerLeave",["pointerout","pointerover"]),ko("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ko("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ko("onBeforeInput",["compositionend","keypress","textInput","paste"]),ko("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ko("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ko("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var wa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),jM=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(wa));function p0(o,r){r=(r&4)!==0;for(var l=0;l<o.length;l++){var c=o[l],g=c.event;c=c.listeners;e:{var y=void 0;if(r)for(var E=c.length-1;0<=E;E--){var b=c[E],M=b.instance,H=b.currentTarget;if(b=b.listener,M!==y&&g.isPropagationStopped())break e;y=b,g.currentTarget=H;try{y(g)}catch(J){jl(J)}g.currentTarget=null,y=M}else for(E=0;E<c.length;E++){if(b=c[E],M=b.instance,H=b.currentTarget,b=b.listener,M!==y&&g.isPropagationStopped())break e;y=b,g.currentTarget=H;try{y(g)}catch(J){jl(J)}g.currentTarget=null,y=M}}}}function De(o,r){var l=r[Jf];l===void 0&&(l=r[Jf]=new Set);var c=o+"__bubble";l.has(c)||(m0(r,o,2,!1),l.add(c))}function Uh(o,r,l){var c=0;r&&(c|=4),m0(l,o,c,r)}var Hu="_reactListening"+Math.random().toString(36).slice(2);function Ph(o){if(!o[Hu]){o[Hu]=!0,lv.forEach(function(l){l!=="selectionchange"&&(jM.has(l)||Uh(l,!1,o),Uh(l,!0,o))});var r=o.nodeType===9?o:o.ownerDocument;r===null||r[Hu]||(r[Hu]=!0,Uh("selectionchange",!1,r))}}function m0(o,r,l,c){switch(F0(r)){case 2:var g=RN;break;case 8:g=xN;break;default:g=Qh}l=g.bind(null,r,l,o),g=void 0,!td||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(g=!0),c?g!==void 0?o.addEventListener(r,l,{capture:!0,passive:g}):o.addEventListener(r,l,!0):g!==void 0?o.addEventListener(r,l,{passive:g}):o.addEventListener(r,l,!1)}function Lh(o,r,l,c,g){var y=c;if((r&1)===0&&(r&2)===0&&c!==null)e:for(;;){if(c===null)return;var E=c.tag;if(E===3||E===4){var b=c.stateNode.containerInfo;if(b===g)break;if(E===4)for(E=c.return;E!==null;){var M=E.tag;if((M===3||M===4)&&E.stateNode.containerInfo===g)return;E=E.return}for(;b!==null;){if(E=Er(b),E===null)return;if(M=E.tag,M===5||M===6||M===26||M===27){c=y=E;continue e}b=b.parentNode}}c=c.return}Sv(function(){var H=y,J=jf(l),X=[];e:{var q=Kv.get(o);if(q!==void 0){var F=Ql,le=o;switch(o){case"keypress":if(Kl(l)===0)break e;case"keydown":case"keyup":F=Jx;break;case"focusin":le="focus",F=rd;break;case"focusout":le="blur",F=rd;break;case"beforeblur":case"afterblur":F=rd;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":F=bv;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":F=Ux;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":F=Xx;break;case Fv:case zv:case Jv:F=kx;break;case Yv:F=Wx;break;case"scroll":case"scrollend":F=Dx;break;case"wheel":F=jx;break;case"copy":case"cut":case"paste":F=Hx;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":F=Cv;break;case"toggle":case"beforetoggle":F=tM}var ge=(r&4)!==0,Ke=!ge&&(o==="scroll"||o==="scrollend"),P=ge?q!==null?q+"Capture":null:q;ge=[];for(var I=H,B;I!==null;){var K=I;if(B=K.stateNode,K=K.tag,K!==5&&K!==26&&K!==27||B===null||P===null||(K=Ks(I,P),K!=null&&ge.push(Ra(I,K,B))),Ke)break;I=I.return}0<ge.length&&(q=new F(q,le,null,l,J),X.push({event:q,listeners:ge}))}}if((r&7)===0){e:{if(q=o==="mouseover"||o==="pointerover",F=o==="mouseout"||o==="pointerout",q&&l!==Zf&&(le=l.relatedTarget||l.fromElement)&&(Er(le)||le[Sr]))break e;if((F||q)&&(q=J.window===J?J:(q=J.ownerDocument)?q.defaultView||q.parentWindow:window,F?(le=l.relatedTarget||l.toElement,F=H,le=le?Er(le):null,le!==null&&(Ke=a(le),ge=le.tag,le!==Ke||ge!==5&&ge!==27&&ge!==6)&&(le=null)):(F=null,le=H),F!==le)){if(ge=bv,K="onMouseLeave",P="onMouseEnter",I="mouse",(o==="pointerout"||o==="pointerover")&&(ge=Cv,K="onPointerLeave",P="onPointerEnter",I="pointer"),Ke=F==null?q:Ys(F),B=le==null?q:Ys(le),q=new ge(K,I+"leave",F,l,J),q.target=Ke,q.relatedTarget=B,K=null,Er(J)===H&&(ge=new ge(P,I+"enter",le,l,J),ge.target=B,ge.relatedTarget=Ke,K=ge),Ke=K,F&&le)t:{for(ge=eN,P=F,I=le,B=0,K=P;K;K=ge(K))B++;K=0;for(var pe=I;pe;pe=ge(pe))K++;for(;0<B-K;)P=ge(P),B--;for(;0<K-B;)I=ge(I),K--;for(;B--;){if(P===I||I!==null&&P===I.alternate){ge=P;break t}P=ge(P),I=ge(I)}ge=null}else ge=null;F!==null&&g0(X,q,F,ge,!1),le!==null&&Ke!==null&&g0(X,Ke,le,ge,!0)}}e:{if(q=H?Ys(H):window,F=q.nodeName&&q.nodeName.toLowerCase(),F==="select"||F==="input"&&q.type==="file")var Be=Ov;else if(Iv(q))if(Uv)Be=fM;else{Be=uM;var fe=lM}else F=q.nodeName,!F||F.toLowerCase()!=="input"||q.type!=="checkbox"&&q.type!=="radio"?H&&Wf(H.elementType)&&(Be=Ov):Be=cM;if(Be&&(Be=Be(o,H))){Dv(X,Be,l,J);break e}fe&&fe(o,q,H),o==="focusout"&&H&&q.type==="number"&&H.memoizedProps.value!=null&&Qf(q,"number",q.value)}switch(fe=H?Ys(H):window,o){case"focusin":(Iv(fe)||fe.contentEditable==="true")&&(Nr=fe,fd=H,na=null);break;case"focusout":na=fd=Nr=null;break;case"mousedown":dd=!0;break;case"contextmenu":case"mouseup":case"dragend":dd=!1,qv(X,l,J);break;case"selectionchange":if(hM)break;case"keydown":case"keyup":qv(X,l,J)}var we;if(ad)e:{switch(o){case"compositionstart":var Ue="onCompositionStart";break e;case"compositionend":Ue="onCompositionEnd";break e;case"compositionupdate":Ue="onCompositionUpdate";break e}Ue=void 0}else Mr?Mv(o,l)&&(Ue="onCompositionEnd"):o==="keydown"&&l.keyCode===229&&(Ue="onCompositionStart");Ue&&(wv&&l.locale!=="ko"&&(Mr||Ue!=="onCompositionStart"?Ue==="onCompositionEnd"&&Mr&&(we=Ev()):(Xi=J,nd="value"in Xi?Xi.value:Xi.textContent,Mr=!0)),fe=Vu(H,Ue),0<fe.length&&(Ue=new Av(Ue,o,null,l,J),X.push({event:Ue,listeners:fe}),we?Ue.data=we:(we=Nv(l),we!==null&&(Ue.data=we)))),(we=iM?oM(o,l):rM(o,l))&&(Ue=Vu(H,"onBeforeInput"),0<Ue.length&&(fe=new Av("onBeforeInput","beforeinput",null,l,J),X.push({event:fe,listeners:Ue}),fe.data=we)),QM(X,o,H,l,J)}p0(X,r)})}function Ra(o,r,l){return{instance:o,listener:r,currentTarget:l}}function Vu(o,r){for(var l=r+"Capture",c=[];o!==null;){var g=o,y=g.stateNode;if(g=g.tag,g!==5&&g!==26&&g!==27||y===null||(g=Ks(o,l),g!=null&&c.unshift(Ra(o,g,y)),g=Ks(o,r),g!=null&&c.push(Ra(o,g,y))),o.tag===3)return c;o=o.return}return[]}function eN(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5&&o.tag!==27);return o||null}function g0(o,r,l,c,g){for(var y=r._reactName,E=[];l!==null&&l!==c;){var b=l,M=b.alternate,H=b.stateNode;if(b=b.tag,M!==null&&M===c)break;b!==5&&b!==26&&b!==27||H===null||(M=H,g?(H=Ks(l,y),H!=null&&E.unshift(Ra(l,H,M))):g||(H=Ks(l,y),H!=null&&E.push(Ra(l,H,M)))),l=l.return}E.length!==0&&o.push({event:r,listeners:E})}var tN=/\r\n?/g,nN=/\u0000|\uFFFD/g;function v0(o){return(typeof o=="string"?o:""+o).replace(tN,`
`).replace(nN,"")}function y0(o,r){return r=v0(r),v0(o)===r}function Ye(o,r,l,c,g,y){switch(l){case"children":typeof c=="string"?r==="body"||r==="textarea"&&c===""||wr(o,c):(typeof c=="number"||typeof c=="bigint")&&r!=="body"&&wr(o,""+c);break;case"className":Fl(o,"class",c);break;case"tabIndex":Fl(o,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":Fl(o,l,c);break;case"style":yv(o,c,y);break;case"data":if(r!=="object"){Fl(o,"data",c);break}case"src":case"href":if(c===""&&(r!=="a"||l!=="href")){o.removeAttribute(l);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){o.removeAttribute(l);break}c=Jl(""+c),o.setAttribute(l,c);break;case"action":case"formAction":if(typeof c=="function"){o.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(l==="formAction"?(r!=="input"&&Ye(o,r,"name",g.name,g,null),Ye(o,r,"formEncType",g.formEncType,g,null),Ye(o,r,"formMethod",g.formMethod,g,null),Ye(o,r,"formTarget",g.formTarget,g,null)):(Ye(o,r,"encType",g.encType,g,null),Ye(o,r,"method",g.method,g,null),Ye(o,r,"target",g.target,g,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){o.removeAttribute(l);break}c=Jl(""+c),o.setAttribute(l,c);break;case"onClick":c!=null&&(o.onclick=fi);break;case"onScroll":c!=null&&De("scroll",o);break;case"onScrollEnd":c!=null&&De("scrollend",o);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(i(61));if(l=c.__html,l!=null){if(g.children!=null)throw Error(i(60));o.innerHTML=l}}break;case"multiple":o.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":o.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){o.removeAttribute("xlink:href");break}l=Jl(""+c),o.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?o.setAttribute(l,""+c):o.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?o.setAttribute(l,""):o.removeAttribute(l);break;case"capture":case"download":c===!0?o.setAttribute(l,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?o.setAttribute(l,c):o.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?o.setAttribute(l,c):o.removeAttribute(l);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?o.removeAttribute(l):o.setAttribute(l,c);break;case"popover":De("beforetoggle",o),De("toggle",o),$l(o,"popover",c);break;case"xlinkActuate":ci(o,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":ci(o,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":ci(o,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":ci(o,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":ci(o,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":ci(o,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":ci(o,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":ci(o,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":ci(o,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":$l(o,"is",c);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=Nx.get(l)||l,$l(o,l,c))}}function kh(o,r,l,c,g,y){switch(l){case"style":yv(o,c,y);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(i(61));if(l=c.__html,l!=null){if(g.children!=null)throw Error(i(60));o.innerHTML=l}}break;case"children":typeof c=="string"?wr(o,c):(typeof c=="number"||typeof c=="bigint")&&wr(o,""+c);break;case"onScroll":c!=null&&De("scroll",o);break;case"onScrollEnd":c!=null&&De("scrollend",o);break;case"onClick":c!=null&&(o.onclick=fi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!uv.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(g=l.endsWith("Capture"),r=l.slice(2,g?l.length-7:void 0),y=o[Ht]||null,y=y!=null?y[l]:null,typeof y=="function"&&o.removeEventListener(r,y,g),typeof c=="function")){typeof y!="function"&&y!==null&&(l in o?o[l]=null:o.hasAttribute(l)&&o.removeAttribute(l)),o.addEventListener(r,c,g);break e}l in o?o[l]=c:c===!0?o.setAttribute(l,""):$l(o,l,c)}}}function wt(o,r,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":De("error",o),De("load",o);var c=!1,g=!1,y;for(y in l)if(l.hasOwnProperty(y)){var E=l[y];if(E!=null)switch(y){case"src":c=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,r));default:Ye(o,r,y,E,l,null)}}g&&Ye(o,r,"srcSet",l.srcSet,l,null),c&&Ye(o,r,"src",l.src,l,null);return;case"input":De("invalid",o);var b=y=E=g=null,M=null,H=null;for(c in l)if(l.hasOwnProperty(c)){var J=l[c];if(J!=null)switch(c){case"name":g=J;break;case"type":E=J;break;case"checked":M=J;break;case"defaultChecked":H=J;break;case"value":y=J;break;case"defaultValue":b=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(i(137,r));break;default:Ye(o,r,c,J,l,null)}}pv(o,y,b,M,H,E,g,!1);return;case"select":De("invalid",o),c=E=y=null;for(g in l)if(l.hasOwnProperty(g)&&(b=l[g],b!=null))switch(g){case"value":y=b;break;case"defaultValue":E=b;break;case"multiple":c=b;default:Ye(o,r,g,b,l,null)}r=y,l=E,o.multiple=!!c,r!=null?Cr(o,!!c,r,!1):l!=null&&Cr(o,!!c,l,!0);return;case"textarea":De("invalid",o),y=g=c=null;for(E in l)if(l.hasOwnProperty(E)&&(b=l[E],b!=null))switch(E){case"value":c=b;break;case"defaultValue":g=b;break;case"children":y=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(i(91));break;default:Ye(o,r,E,b,l,null)}gv(o,c,g,y);return;case"option":for(M in l)if(l.hasOwnProperty(M)&&(c=l[M],c!=null))switch(M){case"selected":o.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:Ye(o,r,M,c,l,null)}return;case"dialog":De("beforetoggle",o),De("toggle",o),De("cancel",o),De("close",o);break;case"iframe":case"object":De("load",o);break;case"video":case"audio":for(c=0;c<wa.length;c++)De(wa[c],o);break;case"image":De("error",o),De("load",o);break;case"details":De("toggle",o);break;case"embed":case"source":case"link":De("error",o),De("load",o);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(H in l)if(l.hasOwnProperty(H)&&(c=l[H],c!=null))switch(H){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,r));default:Ye(o,r,H,c,l,null)}return;default:if(Wf(r)){for(J in l)l.hasOwnProperty(J)&&(c=l[J],c!==void 0&&kh(o,r,J,c,l,void 0));return}}for(b in l)l.hasOwnProperty(b)&&(c=l[b],c!=null&&Ye(o,r,b,c,l,null))}function iN(o,r,l,c){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,y=null,E=null,b=null,M=null,H=null,J=null;for(F in l){var X=l[F];if(l.hasOwnProperty(F)&&X!=null)switch(F){case"checked":break;case"value":break;case"defaultValue":M=X;default:c.hasOwnProperty(F)||Ye(o,r,F,null,c,X)}}for(var q in c){var F=c[q];if(X=l[q],c.hasOwnProperty(q)&&(F!=null||X!=null))switch(q){case"type":y=F;break;case"name":g=F;break;case"checked":H=F;break;case"defaultChecked":J=F;break;case"value":E=F;break;case"defaultValue":b=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(i(137,r));break;default:F!==X&&Ye(o,r,q,F,c,X)}}Xf(o,E,b,M,H,J,y,g);return;case"select":F=E=b=q=null;for(y in l)if(M=l[y],l.hasOwnProperty(y)&&M!=null)switch(y){case"value":break;case"multiple":F=M;default:c.hasOwnProperty(y)||Ye(o,r,y,null,c,M)}for(g in c)if(y=c[g],M=l[g],c.hasOwnProperty(g)&&(y!=null||M!=null))switch(g){case"value":q=y;break;case"defaultValue":b=y;break;case"multiple":E=y;default:y!==M&&Ye(o,r,g,y,c,M)}r=b,l=E,c=F,q!=null?Cr(o,!!l,q,!1):!!c!=!!l&&(r!=null?Cr(o,!!l,r,!0):Cr(o,!!l,l?[]:"",!1));return;case"textarea":F=q=null;for(b in l)if(g=l[b],l.hasOwnProperty(b)&&g!=null&&!c.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:Ye(o,r,b,null,c,g)}for(E in c)if(g=c[E],y=l[E],c.hasOwnProperty(E)&&(g!=null||y!=null))switch(E){case"value":q=g;break;case"defaultValue":F=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(i(91));break;default:g!==y&&Ye(o,r,E,g,c,y)}mv(o,q,F);return;case"option":for(var le in l)if(q=l[le],l.hasOwnProperty(le)&&q!=null&&!c.hasOwnProperty(le))switch(le){case"selected":o.selected=!1;break;default:Ye(o,r,le,null,c,q)}for(M in c)if(q=c[M],F=l[M],c.hasOwnProperty(M)&&q!==F&&(q!=null||F!=null))switch(M){case"selected":o.selected=q&&typeof q!="function"&&typeof q!="symbol";break;default:Ye(o,r,M,q,c,F)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ge in l)q=l[ge],l.hasOwnProperty(ge)&&q!=null&&!c.hasOwnProperty(ge)&&Ye(o,r,ge,null,c,q);for(H in c)if(q=c[H],F=l[H],c.hasOwnProperty(H)&&q!==F&&(q!=null||F!=null))switch(H){case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(i(137,r));break;default:Ye(o,r,H,q,c,F)}return;default:if(Wf(r)){for(var Ke in l)q=l[Ke],l.hasOwnProperty(Ke)&&q!==void 0&&!c.hasOwnProperty(Ke)&&kh(o,r,Ke,void 0,c,q);for(J in c)q=c[J],F=l[J],!c.hasOwnProperty(J)||q===F||q===void 0&&F===void 0||kh(o,r,J,q,c,F);return}}for(var P in l)q=l[P],l.hasOwnProperty(P)&&q!=null&&!c.hasOwnProperty(P)&&Ye(o,r,P,null,c,q);for(X in c)q=c[X],F=l[X],!c.hasOwnProperty(X)||q===F||q==null&&F==null||Ye(o,r,X,q,c,F)}function _0(o){switch(o){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function oN(){if(typeof performance.getEntriesByType=="function"){for(var o=0,r=0,l=performance.getEntriesByType("resource"),c=0;c<l.length;c++){var g=l[c],y=g.transferSize,E=g.initiatorType,b=g.duration;if(y&&b&&_0(E)){for(E=0,b=g.responseEnd,c+=1;c<l.length;c++){var M=l[c],H=M.startTime;if(H>b)break;var J=M.transferSize,X=M.initiatorType;J&&_0(X)&&(M=M.responseEnd,E+=J*(M<b?1:(b-H)/(M-H)))}if(--c,r+=8*(y+E)/(g.duration/1e3),o++,10<o)break}}if(0<o)return r/o/1e6}return navigator.connection&&(o=navigator.connection.downlink,typeof o=="number")?o:5}var Bh=null,Hh=null;function Gu(o){return o.nodeType===9?o:o.ownerDocument}function S0(o){switch(o){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function E0(o,r){if(o===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return o===1&&r==="foreignObject"?0:o}function Vh(o,r){return o==="textarea"||o==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Gh=null;function rN(){var o=window.event;return o&&o.type==="popstate"?o===Gh?!1:(Gh=o,!0):(Gh=null,!1)}var T0=typeof setTimeout=="function"?setTimeout:void 0,sN=typeof clearTimeout=="function"?clearTimeout:void 0,b0=typeof Promise=="function"?Promise:void 0,aN=typeof queueMicrotask=="function"?queueMicrotask:typeof b0<"u"?function(o){return b0.resolve(null).then(o).catch(lN)}:T0;function lN(o){setTimeout(function(){throw o})}function ho(o){return o==="head"}function A0(o,r){var l=r,c=0;do{var g=l.nextSibling;if(o.removeChild(l),g&&g.nodeType===8)if(l=g.data,l==="/$"||l==="/&"){if(c===0){o.removeChild(g),is(r);return}c--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")c++;else if(l==="html")xa(o.ownerDocument.documentElement);else if(l==="head"){l=o.ownerDocument.head,xa(l);for(var y=l.firstChild;y;){var E=y.nextSibling,b=y.nodeName;y[Js]||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&y.rel.toLowerCase()==="stylesheet"||l.removeChild(y),y=E}}else l==="body"&&xa(o.ownerDocument.body);l=g}while(l);is(r)}function C0(o,r){var l=o;o=0;do{var c=l.nextSibling;if(l.nodeType===1?r?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(r?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),c&&c.nodeType===8)if(l=c.data,l==="/$"){if(o===0)break;o--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||o++;l=c}while(l)}function qh(o){var r=o.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var l=r;switch(r=r.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":qh(l),Yf(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}o.removeChild(l)}}function uN(o,r,l,c){for(;o.nodeType===1;){var g=l;if(o.nodeName.toLowerCase()!==r.toLowerCase()){if(!c&&(o.nodeName!=="INPUT"||o.type!=="hidden"))break}else if(c){if(!o[Js])switch(r){case"meta":if(!o.hasAttribute("itemprop"))break;return o;case"link":if(y=o.getAttribute("rel"),y==="stylesheet"&&o.hasAttribute("data-precedence"))break;if(y!==g.rel||o.getAttribute("href")!==(g.href==null||g.href===""?null:g.href)||o.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||o.getAttribute("title")!==(g.title==null?null:g.title))break;return o;case"style":if(o.hasAttribute("data-precedence"))break;return o;case"script":if(y=o.getAttribute("src"),(y!==(g.src==null?null:g.src)||o.getAttribute("type")!==(g.type==null?null:g.type)||o.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&y&&o.hasAttribute("async")&&!o.hasAttribute("itemprop"))break;return o;default:return o}}else if(r==="input"&&o.type==="hidden"){var y=g.name==null?null:""+g.name;if(g.type==="hidden"&&o.getAttribute("name")===y)return o}else return o;if(o=Sn(o.nextSibling),o===null)break}return null}function cN(o,r,l){if(r==="")return null;for(;o.nodeType!==3;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!l||(o=Sn(o.nextSibling),o===null))return null;return o}function w0(o,r){for(;o.nodeType!==8;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!r||(o=Sn(o.nextSibling),o===null))return null;return o}function $h(o){return o.data==="$?"||o.data==="$~"}function Fh(o){return o.data==="$!"||o.data==="$?"&&o.ownerDocument.readyState!=="loading"}function fN(o,r){var l=o.ownerDocument;if(o.data==="$~")o._reactRetry=r;else if(o.data!=="$?"||l.readyState!=="loading")r();else{var c=function(){r(),l.removeEventListener("DOMContentLoaded",c)};l.addEventListener("DOMContentLoaded",c),o._reactRetry=c}}function Sn(o){for(;o!=null;o=o.nextSibling){var r=o.nodeType;if(r===1||r===3)break;if(r===8){if(r=o.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return o}var zh=null;function R0(o){o=o.nextSibling;for(var r=0;o;){if(o.nodeType===8){var l=o.data;if(l==="/$"||l==="/&"){if(r===0)return Sn(o.nextSibling);r--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||r++}o=o.nextSibling}return null}function x0(o){o=o.previousSibling;for(var r=0;o;){if(o.nodeType===8){var l=o.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(r===0)return o;r--}else l!=="/$"&&l!=="/&"||r++}o=o.previousSibling}return null}function M0(o,r,l){switch(r=Gu(l),o){case"html":if(o=r.documentElement,!o)throw Error(i(452));return o;case"head":if(o=r.head,!o)throw Error(i(453));return o;case"body":if(o=r.body,!o)throw Error(i(454));return o;default:throw Error(i(451))}}function xa(o){for(var r=o.attributes;r.length;)o.removeAttributeNode(r[0]);Yf(o)}var En=new Map,N0=new Set;function qu(o){return typeof o.getRootNode=="function"?o.getRootNode():o.nodeType===9?o:o.ownerDocument}var Ri=Z.d;Z.d={f:dN,r:hN,D:pN,C:mN,L:gN,m:vN,X:_N,S:yN,M:SN};function dN(){var o=Ri.f(),r=Ou();return o||r}function hN(o){var r=Tr(o);r!==null&&r.tag===5&&r.type==="form"?Yy(r):Ri.r(o)}var es=typeof document>"u"?null:document;function I0(o,r,l){var c=es;if(c&&typeof r=="string"&&r){var g=hn(r);g='link[rel="'+o+'"][href="'+g+'"]',typeof l=="string"&&(g+='[crossorigin="'+l+'"]'),N0.has(g)||(N0.add(g),o={rel:o,crossOrigin:l,href:r},c.querySelector(g)===null&&(r=c.createElement("link"),wt(r,"link",o),mt(r),c.head.appendChild(r)))}}function pN(o){Ri.D(o),I0("dns-prefetch",o,null)}function mN(o,r){Ri.C(o,r),I0("preconnect",o,r)}function gN(o,r,l){Ri.L(o,r,l);var c=es;if(c&&o&&r){var g='link[rel="preload"][as="'+hn(r)+'"]';r==="image"&&l&&l.imageSrcSet?(g+='[imagesrcset="'+hn(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(g+='[imagesizes="'+hn(l.imageSizes)+'"]')):g+='[href="'+hn(o)+'"]';var y=g;switch(r){case"style":y=ts(o);break;case"script":y=ns(o)}En.has(y)||(o=_({rel:"preload",href:r==="image"&&l&&l.imageSrcSet?void 0:o,as:r},l),En.set(y,o),c.querySelector(g)!==null||r==="style"&&c.querySelector(Ma(y))||r==="script"&&c.querySelector(Na(y))||(r=c.createElement("link"),wt(r,"link",o),mt(r),c.head.appendChild(r)))}}function vN(o,r){Ri.m(o,r);var l=es;if(l&&o){var c=r&&typeof r.as=="string"?r.as:"script",g='link[rel="modulepreload"][as="'+hn(c)+'"][href="'+hn(o)+'"]',y=g;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=ns(o)}if(!En.has(y)&&(o=_({rel:"modulepreload",href:o},r),En.set(y,o),l.querySelector(g)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(Na(y)))return}c=l.createElement("link"),wt(c,"link",o),mt(c),l.head.appendChild(c)}}}function yN(o,r,l){Ri.S(o,r,l);var c=es;if(c&&o){var g=br(c).hoistableStyles,y=ts(o);r=r||"default";var E=g.get(y);if(!E){var b={loading:0,preload:null};if(E=c.querySelector(Ma(y)))b.loading=5;else{o=_({rel:"stylesheet",href:o,"data-precedence":r},l),(l=En.get(y))&&Jh(o,l);var M=E=c.createElement("link");mt(M),wt(M,"link",o),M._p=new Promise(function(H,J){M.onload=H,M.onerror=J}),M.addEventListener("load",function(){b.loading|=1}),M.addEventListener("error",function(){b.loading|=2}),b.loading|=4,$u(E,r,c)}E={type:"stylesheet",instance:E,count:1,state:b},g.set(y,E)}}}function _N(o,r){Ri.X(o,r);var l=es;if(l&&o){var c=br(l).hoistableScripts,g=ns(o),y=c.get(g);y||(y=l.querySelector(Na(g)),y||(o=_({src:o,async:!0},r),(r=En.get(g))&&Yh(o,r),y=l.createElement("script"),mt(y),wt(y,"link",o),l.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},c.set(g,y))}}function SN(o,r){Ri.M(o,r);var l=es;if(l&&o){var c=br(l).hoistableScripts,g=ns(o),y=c.get(g);y||(y=l.querySelector(Na(g)),y||(o=_({src:o,async:!0,type:"module"},r),(r=En.get(g))&&Yh(o,r),y=l.createElement("script"),mt(y),wt(y,"link",o),l.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},c.set(g,y))}}function D0(o,r,l,c){var g=(g=Ee.current)?qu(g):null;if(!g)throw Error(i(446));switch(o){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(r=ts(l.href),l=br(g).hoistableStyles,c=l.get(r),c||(c={type:"style",instance:null,count:0,state:null},l.set(r,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){o=ts(l.href);var y=br(g).hoistableStyles,E=y.get(o);if(E||(g=g.ownerDocument||g,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(o,E),(y=g.querySelector(Ma(o)))&&!y._p&&(E.instance=y,E.state.loading=5),En.has(o)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},En.set(o,l),y||EN(g,o,l,E.state))),r&&c===null)throw Error(i(528,""));return E}if(r&&c!==null)throw Error(i(529,""));return null;case"script":return r=l.async,l=l.src,typeof l=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=ns(l),l=br(g).hoistableScripts,c=l.get(r),c||(c={type:"script",instance:null,count:0,state:null},l.set(r,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,o))}}function ts(o){return'href="'+hn(o)+'"'}function Ma(o){return'link[rel="stylesheet"]['+o+"]"}function O0(o){return _({},o,{"data-precedence":o.precedence,precedence:null})}function EN(o,r,l,c){o.querySelector('link[rel="preload"][as="style"]['+r+"]")?c.loading=1:(r=o.createElement("link"),c.preload=r,r.addEventListener("load",function(){return c.loading|=1}),r.addEventListener("error",function(){return c.loading|=2}),wt(r,"link",l),mt(r),o.head.appendChild(r))}function ns(o){return'[src="'+hn(o)+'"]'}function Na(o){return"script[async]"+o}function U0(o,r,l){if(r.count++,r.instance===null)switch(r.type){case"style":var c=o.querySelector('style[data-href~="'+hn(l.href)+'"]');if(c)return r.instance=c,mt(c),c;var g=_({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return c=(o.ownerDocument||o).createElement("style"),mt(c),wt(c,"style",g),$u(c,l.precedence,o),r.instance=c;case"stylesheet":g=ts(l.href);var y=o.querySelector(Ma(g));if(y)return r.state.loading|=4,r.instance=y,mt(y),y;c=O0(l),(g=En.get(g))&&Jh(c,g),y=(o.ownerDocument||o).createElement("link"),mt(y);var E=y;return E._p=new Promise(function(b,M){E.onload=b,E.onerror=M}),wt(y,"link",c),r.state.loading|=4,$u(y,l.precedence,o),r.instance=y;case"script":return y=ns(l.src),(g=o.querySelector(Na(y)))?(r.instance=g,mt(g),g):(c=l,(g=En.get(y))&&(c=_({},l),Yh(c,g)),o=o.ownerDocument||o,g=o.createElement("script"),mt(g),wt(g,"link",c),o.head.appendChild(g),r.instance=g);case"void":return null;default:throw Error(i(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(c=r.instance,r.state.loading|=4,$u(c,l.precedence,o));return r.instance}function $u(o,r,l){for(var c=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=c.length?c[c.length-1]:null,y=g,E=0;E<c.length;E++){var b=c[E];if(b.dataset.precedence===r)y=b;else if(y!==g)break}y?y.parentNode.insertBefore(o,y.nextSibling):(r=l.nodeType===9?l.head:l,r.insertBefore(o,r.firstChild))}function Jh(o,r){o.crossOrigin==null&&(o.crossOrigin=r.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=r.referrerPolicy),o.title==null&&(o.title=r.title)}function Yh(o,r){o.crossOrigin==null&&(o.crossOrigin=r.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=r.referrerPolicy),o.integrity==null&&(o.integrity=r.integrity)}var Fu=null;function P0(o,r,l){if(Fu===null){var c=new Map,g=Fu=new Map;g.set(l,c)}else g=Fu,c=g.get(l),c||(c=new Map,g.set(l,c));if(c.has(o))return c;for(c.set(o,null),l=l.getElementsByTagName(o),g=0;g<l.length;g++){var y=l[g];if(!(y[Js]||y[Tt]||o==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var E=y.getAttribute(r)||"";E=o+E;var b=c.get(E);b?b.push(y):c.set(E,[y])}}return c}function L0(o,r,l){o=o.ownerDocument||o,o.head.insertBefore(l,r==="title"?o.querySelector("head > title"):null)}function TN(o,r,l){if(l===1||r.itemProp!=null)return!1;switch(o){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return o=r.disabled,typeof r.precedence=="string"&&o==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function k0(o){return!(o.type==="stylesheet"&&(o.state.loading&3)===0)}function bN(o,r,l,c){if(l.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var g=ts(c.href),y=r.querySelector(Ma(g));if(y){r=y._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(o.count++,o=zu.bind(o),r.then(o,o)),l.state.loading|=4,l.instance=y,mt(y);return}y=r.ownerDocument||r,c=O0(c),(g=En.get(g))&&Jh(c,g),y=y.createElement("link"),mt(y);var E=y;E._p=new Promise(function(b,M){E.onload=b,E.onerror=M}),wt(y,"link",c),l.instance=y}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(l,r),(r=l.state.preload)&&(l.state.loading&3)===0&&(o.count++,l=zu.bind(o),r.addEventListener("load",l),r.addEventListener("error",l))}}var Kh=0;function AN(o,r){return o.stylesheets&&o.count===0&&Yu(o,o.stylesheets),0<o.count||0<o.imgCount?function(l){var c=setTimeout(function(){if(o.stylesheets&&Yu(o,o.stylesheets),o.unsuspend){var y=o.unsuspend;o.unsuspend=null,y()}},6e4+r);0<o.imgBytes&&Kh===0&&(Kh=62500*oN());var g=setTimeout(function(){if(o.waitingForImages=!1,o.count===0&&(o.stylesheets&&Yu(o,o.stylesheets),o.unsuspend)){var y=o.unsuspend;o.unsuspend=null,y()}},(o.imgBytes>Kh?50:800)+r);return o.unsuspend=l,function(){o.unsuspend=null,clearTimeout(c),clearTimeout(g)}}:null}function zu(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Yu(this,this.stylesheets);else if(this.unsuspend){var o=this.unsuspend;this.unsuspend=null,o()}}}var Ju=null;function Yu(o,r){o.stylesheets=null,o.unsuspend!==null&&(o.count++,Ju=new Map,r.forEach(CN,o),Ju=null,zu.call(o))}function CN(o,r){if(!(r.state.loading&4)){var l=Ju.get(o);if(l)var c=l.get(null);else{l=new Map,Ju.set(o,l);for(var g=o.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<g.length;y++){var E=g[y];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(l.set(E.dataset.precedence,E),c=E)}c&&l.set(null,c)}g=r.instance,E=g.getAttribute("data-precedence"),y=l.get(E)||c,y===c&&l.set(null,g),l.set(E,g),this.count++,c=zu.bind(this),g.addEventListener("load",c),g.addEventListener("error",c),y?y.parentNode.insertBefore(g,y.nextSibling):(o=o.nodeType===9?o.head:o,o.insertBefore(g,o.firstChild)),r.state.loading|=4}}var Ia={$$typeof:O,Provider:null,Consumer:null,_currentValue:ae,_currentValue2:ae,_threadCount:0};function wN(o,r,l,c,g,y,E,b,M){this.tag=1,this.containerInfo=o,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=$f(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=$f(0),this.hiddenUpdates=$f(null),this.identifierPrefix=c,this.onUncaughtError=g,this.onCaughtError=y,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=M,this.incompleteTransitions=new Map}function B0(o,r,l,c,g,y,E,b,M,H,J,X){return o=new wN(o,r,l,E,M,H,J,X,b),r=1,y===!0&&(r|=24),y=Zt(3,null,null,r),o.current=y,y.stateNode=o,r=Rd(),r.refCount++,o.pooledCache=r,r.refCount++,y.memoizedState={element:c,isDehydrated:l,cache:r},Id(y),o}function H0(o){return o?(o=Or,o):Or}function V0(o,r,l,c,g,y){g=H0(g),c.context===null?c.context=g:c.pendingContext=g,c=to(r),c.payload={element:l},y=y===void 0?null:y,y!==null&&(c.callback=y),l=no(o,c,r),l!==null&&(zt(l,o,r),ua(l,o,r))}function G0(o,r){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var l=o.retryLane;o.retryLane=l!==0&&l<r?l:r}}function Xh(o,r){G0(o,r),(o=o.alternate)&&G0(o,r)}function q0(o){if(o.tag===13||o.tag===31){var r=Go(o,67108864);r!==null&&zt(r,o,67108864),Xh(o,67108864)}}function $0(o){if(o.tag===13||o.tag===31){var r=on();r=Ff(r);var l=Go(o,r);l!==null&&zt(l,o,r),Xh(o,r)}}var Ku=!0;function RN(o,r,l,c){var g=k.T;k.T=null;var y=Z.p;try{Z.p=2,Qh(o,r,l,c)}finally{Z.p=y,k.T=g}}function xN(o,r,l,c){var g=k.T;k.T=null;var y=Z.p;try{Z.p=8,Qh(o,r,l,c)}finally{Z.p=y,k.T=g}}function Qh(o,r,l,c){if(Ku){var g=Wh(c);if(g===null)Lh(o,r,c,Xu,l),z0(o,c);else if(NN(g,o,r,l,c))c.stopPropagation();else if(z0(o,c),r&4&&-1<MN.indexOf(o)){for(;g!==null;){var y=Tr(g);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var E=Lo(y.pendingLanes);if(E!==0){var b=y;for(b.pendingLanes|=2,b.entangledLanes|=2;E;){var M=1<<31-Qt(E);b.entanglements[1]|=M,E&=~M}Zn(y),(qe&6)===0&&(Iu=Et()+500,Ca(0))}}break;case 31:case 13:b=Go(y,2),b!==null&&zt(b,y,2),Ou(),Xh(y,2)}if(y=Wh(c),y===null&&Lh(o,r,c,Xu,l),y===g)break;g=y}g!==null&&c.stopPropagation()}else Lh(o,r,c,null,l)}}function Wh(o){return o=jf(o),Zh(o)}var Xu=null;function Zh(o){if(Xu=null,o=Er(o),o!==null){var r=a(o);if(r===null)o=null;else{var l=r.tag;if(l===13){if(o=u(r),o!==null)return o;o=null}else if(l===31){if(o=f(r),o!==null)return o;o=null}else if(l===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;o=null}else r!==o&&(o=null)}}return Xu=o,null}function F0(o){switch(o){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Bl()){case Gs:return 2;case qs:return 8;case Po:case mx:return 32;case ev:return 268435456;default:return 32}default:return 32}}var jh=!1,po=null,mo=null,go=null,Da=new Map,Oa=new Map,vo=[],MN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function z0(o,r){switch(o){case"focusin":case"focusout":po=null;break;case"dragenter":case"dragleave":mo=null;break;case"mouseover":case"mouseout":go=null;break;case"pointerover":case"pointerout":Da.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Oa.delete(r.pointerId)}}function Ua(o,r,l,c,g,y){return o===null||o.nativeEvent!==y?(o={blockedOn:r,domEventName:l,eventSystemFlags:c,nativeEvent:y,targetContainers:[g]},r!==null&&(r=Tr(r),r!==null&&q0(r)),o):(o.eventSystemFlags|=c,r=o.targetContainers,g!==null&&r.indexOf(g)===-1&&r.push(g),o)}function NN(o,r,l,c,g){switch(r){case"focusin":return po=Ua(po,o,r,l,c,g),!0;case"dragenter":return mo=Ua(mo,o,r,l,c,g),!0;case"mouseover":return go=Ua(go,o,r,l,c,g),!0;case"pointerover":var y=g.pointerId;return Da.set(y,Ua(Da.get(y)||null,o,r,l,c,g)),!0;case"gotpointercapture":return y=g.pointerId,Oa.set(y,Ua(Oa.get(y)||null,o,r,l,c,g)),!0}return!1}function J0(o){var r=Er(o.target);if(r!==null){var l=a(r);if(l!==null){if(r=l.tag,r===13){if(r=u(l),r!==null){o.blockedOn=r,sv(o.priority,function(){$0(l)});return}}else if(r===31){if(r=f(l),r!==null){o.blockedOn=r,sv(o.priority,function(){$0(l)});return}}else if(r===3&&l.stateNode.current.memoizedState.isDehydrated){o.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}o.blockedOn=null}function Qu(o){if(o.blockedOn!==null)return!1;for(var r=o.targetContainers;0<r.length;){var l=Wh(o.nativeEvent);if(l===null){l=o.nativeEvent;var c=new l.constructor(l.type,l);Zf=c,l.target.dispatchEvent(c),Zf=null}else return r=Tr(l),r!==null&&q0(r),o.blockedOn=l,!1;r.shift()}return!0}function Y0(o,r,l){Qu(o)&&l.delete(r)}function IN(){jh=!1,po!==null&&Qu(po)&&(po=null),mo!==null&&Qu(mo)&&(mo=null),go!==null&&Qu(go)&&(go=null),Da.forEach(Y0),Oa.forEach(Y0)}function Wu(o,r){o.blockedOn===r&&(o.blockedOn=null,jh||(jh=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,IN)))}var Zu=null;function K0(o){Zu!==o&&(Zu=o,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Zu===o&&(Zu=null);for(var r=0;r<o.length;r+=3){var l=o[r],c=o[r+1],g=o[r+2];if(typeof c!="function"){if(Zh(c||l)===null)continue;break}var y=Tr(l);y!==null&&(o.splice(r,3),r-=3,Wd(y,{pending:!0,data:g,method:l.method,action:c},c,g))}}))}function is(o){function r(M){return Wu(M,o)}po!==null&&Wu(po,o),mo!==null&&Wu(mo,o),go!==null&&Wu(go,o),Da.forEach(r),Oa.forEach(r);for(var l=0;l<vo.length;l++){var c=vo[l];c.blockedOn===o&&(c.blockedOn=null)}for(;0<vo.length&&(l=vo[0],l.blockedOn===null);)J0(l),l.blockedOn===null&&vo.shift();if(l=(o.ownerDocument||o).$$reactFormReplay,l!=null)for(c=0;c<l.length;c+=3){var g=l[c],y=l[c+1],E=g[Ht]||null;if(typeof y=="function")E||K0(l);else if(E){var b=null;if(y&&y.hasAttribute("formAction")){if(g=y,E=y[Ht]||null)b=E.formAction;else if(Zh(g)!==null)continue}else b=E.action;typeof b=="function"?l[c+1]=b:(l.splice(c,3),c-=3),K0(l)}}}function X0(){function o(y){y.canIntercept&&y.info==="react-transition"&&y.intercept({handler:function(){return new Promise(function(E){return g=E})},focusReset:"manual",scroll:"manual"})}function r(){g!==null&&(g(),g=null),c||setTimeout(l,20)}function l(){if(!c&&!navigation.transition){var y=navigation.currentEntry;y&&y.url!=null&&navigation.navigate(y.url,{state:y.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var c=!1,g=null;return navigation.addEventListener("navigate",o),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(l,100),function(){c=!0,navigation.removeEventListener("navigate",o),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),g!==null&&(g(),g=null)}}}function ep(o){this._internalRoot=o}ju.prototype.render=ep.prototype.render=function(o){var r=this._internalRoot;if(r===null)throw Error(i(409));var l=r.current,c=on();V0(l,c,o,r,null,null)},ju.prototype.unmount=ep.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var r=o.containerInfo;V0(o.current,2,null,o,null,null),Ou(),r[Sr]=null}};function ju(o){this._internalRoot=o}ju.prototype.unstable_scheduleHydration=function(o){if(o){var r=rv();o={blockedOn:null,target:o,priority:r};for(var l=0;l<vo.length&&r!==0&&r<vo[l].priority;l++);vo.splice(l,0,o),l===0&&J0(o)}};var Q0=e.version;if(Q0!=="19.2.1")throw Error(i(527,Q0,"19.2.1"));Z.findDOMNode=function(o){var r=o._reactInternals;if(r===void 0)throw typeof o.render=="function"?Error(i(188)):(o=Object.keys(o).join(","),Error(i(268,o)));return o=h(r),o=o!==null?v(o):null,o=o===null?null:o.stateNode,o};var DN={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:k,reconcilerVersion:"19.2.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ec=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ec.isDisabled&&ec.supportsFiber)try{$s=ec.inject(DN),Xt=ec}catch{}}return La.createRoot=function(o,r){if(!s(o))throw Error(i(299));var l=!1,c="",g=i_,y=o_,E=r_;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(c=r.identifierPrefix),r.onUncaughtError!==void 0&&(g=r.onUncaughtError),r.onCaughtError!==void 0&&(y=r.onCaughtError),r.onRecoverableError!==void 0&&(E=r.onRecoverableError)),r=B0(o,1,!1,null,null,l,c,null,g,y,E,X0),o[Sr]=r.current,Ph(o),new ep(r)},La.hydrateRoot=function(o,r,l){if(!s(o))throw Error(i(299));var c=!1,g="",y=i_,E=o_,b=r_,M=null;return l!=null&&(l.unstable_strictMode===!0&&(c=!0),l.identifierPrefix!==void 0&&(g=l.identifierPrefix),l.onUncaughtError!==void 0&&(y=l.onUncaughtError),l.onCaughtError!==void 0&&(E=l.onCaughtError),l.onRecoverableError!==void 0&&(b=l.onRecoverableError),l.formState!==void 0&&(M=l.formState)),r=B0(o,1,!0,r,l??null,c,g,M,y,E,b,X0),r.context=H0(null),l=r.current,c=on(),c=Ff(c),g=to(c),g.callback=null,no(l,g,c),l=c,r.current.lanes=l,zs(r,l),Zn(r),o[Sr]=r.current,Ph(o),new ju(r)},La.version="19.2.1",La}var sS;function GN(){if(sS)return ip.exports;sS=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),ip.exports=VN(),ip.exports}var qN=GN();function ke(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];throw new Error(typeof t=="number"?"[MobX] minified error nr: "+t+(n.length?" "+n.map(String).join(","):"")+". Find the full error at: https://github.com/mobxjs/mobx/blob/main/packages/mobx/src/errors.ts":"[MobX] "+t)}var $N={};function df(){return typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:$N}var bb=Object.assign,kc=Object.getOwnPropertyDescriptor,ii=Object.defineProperty,gl=Object.prototype,Fp=[];Object.freeze(Fp);var Ab={};Object.freeze(Ab);var FN=typeof Proxy<"u",zN=Object.toString();function Cb(){FN||ke("Proxy not available")}function wb(t){var e=!1;return function(){if(!e)return e=!0,t.apply(this,arguments)}}var gs=function(){};function Fn(t){return typeof t=="function"}function ar(t){var e=typeof t;switch(e){case"string":case"symbol":case"number":return!0}return!1}function hf(t){return t!==null&&typeof t=="object"}function ki(t){if(!hf(t))return!1;var e=Object.getPrototypeOf(t);if(e==null)return!0;var n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n.toString()===zN}function Rb(t){var e=t?.constructor;return e?e.name==="GeneratorFunction"||e.displayName==="GeneratorFunction":!1}function vl(t,e,n){ii(t,e,{enumerable:!1,writable:!0,configurable:!0,value:n})}function xb(t,e,n){ii(t,e,{enumerable:!1,writable:!1,configurable:!0,value:n})}function xo(t,e){var n="isMobX"+t;return e.prototype[n]=!0,function(i){return hf(i)&&i[n]===!0}}function Is(t){return t!=null&&Object.prototype.toString.call(t)==="[object Map]"}function JN(t){var e=Object.getPrototypeOf(t),n=Object.getPrototypeOf(e),i=Object.getPrototypeOf(n);return i===null}function Ii(t){return t!=null&&Object.prototype.toString.call(t)==="[object Set]"}var Mb=typeof Object.getOwnPropertySymbols<"u";function YN(t){var e=Object.keys(t);if(!Mb)return e;var n=Object.getOwnPropertySymbols(t);return n.length?[].concat(e,n.filter(function(i){return gl.propertyIsEnumerable.call(t,i)})):e}var As=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Mb?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:Object.getOwnPropertyNames;function Nb(t){return t===null?null:typeof t=="object"?""+t:t}function Ui(t,e){return gl.hasOwnProperty.call(t,e)}var KN=Object.getOwnPropertyDescriptors||function(e){var n={};return As(e).forEach(function(i){n[i]=kc(e,i)}),n};function ln(t,e){return!!(t&e)}function un(t,e,n){return n?t|=e:t&=~e,t}function aS(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,i=Array(e);n<e;n++)i[n]=t[n];return i}function XN(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,WN(i.key),i)}}function Ds(t,e,n){return e&&XN(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function vs(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n)return(n=n.call(t)).next.bind(n);if(Array.isArray(t)||(n=ZN(t))||e){n&&(t=n);var i=0;return function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lr(){return lr=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},lr.apply(null,arguments)}function Ib(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,zp(t,e)}function zp(t,e){return zp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},zp(t,e)}function QN(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function WN(t){var e=QN(t,"string");return typeof e=="symbol"?e:e+""}function ZN(t,e){if(t){if(typeof t=="string")return aS(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?aS(t,e):void 0}}var ti=Symbol("mobx-stored-annotations");function oi(t){function e(n,i){if(_l(i))return t.decorate_20223_(n,i);yl(n,i,t)}return Object.assign(e,t)}function yl(t,e,n){Ui(t,ti)||vl(t,ti,lr({},t[ti])),rI(n)||(t[ti][e]=n)}function jN(t){return Ui(t,ti)||vl(t,ti,lr({},t[ti])),t[ti]}function _l(t){return typeof t=="object"&&typeof t.kind=="string"}var ve=Symbol("mobx administration"),Mo=(function(){function t(n){n===void 0&&(n="Atom"),this.name_=void 0,this.flags_=0,this.observers_=new Set,this.lastAccessedBy_=0,this.lowestObserverState_=Ve.NOT_TRACKING_,this.onBOL=void 0,this.onBUOL=void 0,this.name_=n}var e=t.prototype;return e.onBO=function(){this.onBOL&&this.onBOL.forEach(function(i){return i()})},e.onBUO=function(){this.onBUOL&&this.onBUOL.forEach(function(i){return i()})},e.reportObserved=function(){return Kb(this)},e.reportChanged=function(){An(),Xb(this),Cn()},e.toString=function(){return this.name_},Ds(t,[{key:"isBeingObserved",get:function(){return ln(this.flags_,t.isBeingObservedMask_)},set:function(i){this.flags_=un(this.flags_,t.isBeingObservedMask_,i)}},{key:"isPendingUnobservation",get:function(){return ln(this.flags_,t.isPendingUnobservationMask_)},set:function(i){this.flags_=un(this.flags_,t.isPendingUnobservationMask_,i)}},{key:"diffValue",get:function(){return ln(this.flags_,t.diffValueMask_)?1:0},set:function(i){this.flags_=un(this.flags_,t.diffValueMask_,i===1)}}])})();Mo.isBeingObservedMask_=1;Mo.isPendingUnobservationMask_=2;Mo.diffValueMask_=4;var zm=xo("Atom",Mo);function Db(t,e,n){e===void 0&&(e=gs),n===void 0&&(n=gs);var i=new Mo(t);return e!==gs&&lD(i,e),n!==gs&&tA(i,n),i}function eI(t,e){return hA(t,e)}function tI(t,e){return Object.is?Object.is(t,e):t===e?t!==0||1/t===1/e:t!==t&&e!==e}var Bc={structural:eI,default:tI};function ur(t,e,n){return Qm(t)?t:Array.isArray(t)?yt.array(t,{name:n}):ki(t)?yt.object(t,void 0,{name:n}):Is(t)?yt.map(t,{name:n}):Ii(t)?yt.set(t,{name:n}):typeof t=="function"&&!Cs(t)&&!ll(t)?Rb(t)?ws(t):al(n,t):t}function nI(t,e,n){if(t==null||wl(t)||Cl(t)||Io(t)||Hn(t))return t;if(Array.isArray(t))return yt.array(t,{name:n,deep:!1});if(ki(t))return yt.object(t,void 0,{name:n,deep:!1});if(Is(t))return yt.map(t,{name:n,deep:!1});if(Ii(t))return yt.set(t,{name:n,deep:!1})}function pf(t){return t}function iI(t,e){return hA(t,e)?e:t}var oI="override";function rI(t){return t.annotationType_===oI}function Sl(t,e){return{annotationType_:t,options_:e,make_:sI,extend_:aI,decorate_20223_:lI}}function sI(t,e,n,i){var s;if((s=this.options_)!=null&&s.bound)return this.extend_(t,e,n,!1)===null?0:1;if(i===t.target_)return this.extend_(t,e,n,!1)===null?0:2;if(Cs(n.value))return 1;var a=Ob(t,this,e,n,!1);return ii(i,e,a),2}function aI(t,e,n,i){var s=Ob(t,this,e,n);return t.defineProperty_(e,s,i)}function lI(t,e){var n=e.kind,i=e.name,s=e.addInitializer,a=this,u=function(h){var v,_,S,T;return cr((v=(_=a.options_)==null?void 0:_.name)!=null?v:i.toString(),h,(S=(T=a.options_)==null?void 0:T.autoAction)!=null?S:!1)};if(n=="field")return function(p){var h,v=p;return Cs(v)||(v=u(v)),(h=a.options_)!=null&&h.bound&&(v=v.bind(this),v.isMobxAction=!0),v};if(n=="method"){var f;return Cs(t)||(t=u(t)),(f=this.options_)!=null&&f.bound&&s(function(){var p=this,h=p[i].bind(p);h.isMobxAction=!0,p[i]=h}),t}ke("Cannot apply '"+a.annotationType_+"' to '"+String(i)+"' (kind: "+n+"):"+(`
'`+a.annotationType_+"' can only be used on properties with a function value."))}function uI(t,e,n,i){e.annotationType_,i.value}function Ob(t,e,n,i,s){var a,u,f,p,h,v,_;s===void 0&&(s=oe.safeDescriptors),uI(t,e,n,i);var S=i.value;if((a=e.options_)!=null&&a.bound){var T;S=S.bind((T=t.proxy_)!=null?T:t.target_)}return{value:cr((u=(f=e.options_)==null?void 0:f.name)!=null?u:n.toString(),S,(p=(h=e.options_)==null?void 0:h.autoAction)!=null?p:!1,(v=e.options_)!=null&&v.bound?(_=t.proxy_)!=null?_:t.target_:void 0),configurable:s?t.isPlainObject_:!0,enumerable:!1,writable:!s}}function Ub(t,e){return{annotationType_:t,options_:e,make_:cI,extend_:fI,decorate_20223_:dI}}function cI(t,e,n,i){var s;if(i===t.target_)return this.extend_(t,e,n,!1)===null?0:2;if((s=this.options_)!=null&&s.bound&&(!Ui(t.target_,e)||!ll(t.target_[e]))&&this.extend_(t,e,n,!1)===null)return 0;if(ll(n.value))return 1;var a=Pb(t,this,e,n,!1,!1);return ii(i,e,a),2}function fI(t,e,n,i){var s,a=Pb(t,this,e,n,(s=this.options_)==null?void 0:s.bound);return t.defineProperty_(e,a,i)}function dI(t,e){var n,i=e.name,s=e.addInitializer;return ll(t)||(t=ws(t)),(n=this.options_)!=null&&n.bound&&s(function(){var a=this,u=a[i].bind(a);u.isMobXFlow=!0,a[i]=u}),t}function hI(t,e,n,i){e.annotationType_,i.value}function Pb(t,e,n,i,s,a){a===void 0&&(a=oe.safeDescriptors),hI(t,e,n,i);var u=i.value;if(ll(u)||(u=ws(u)),s){var f;u=u.bind((f=t.proxy_)!=null?f:t.target_),u.isMobXFlow=!0}return{value:u,configurable:a?t.isPlainObject_:!0,enumerable:!1,writable:!a}}function Jm(t,e){return{annotationType_:t,options_:e,make_:pI,extend_:mI,decorate_20223_:gI}}function pI(t,e,n){return this.extend_(t,e,n,!1)===null?0:1}function mI(t,e,n,i){return vI(t,this,e,n),t.defineComputedProperty_(e,lr({},this.options_,{get:n.get,set:n.set}),i)}function gI(t,e){var n=this,i=e.name,s=e.addInitializer;return s(function(){var a=vr(this)[ve],u=lr({},n.options_,{get:t,context:this});u.name||(u.name="ObservableObject."+i.toString()),a.values_.set(i,new zn(u))}),function(){return this[ve].getObservablePropValue_(i)}}function vI(t,e,n,i){e.annotationType_,i.get}function mf(t,e){return{annotationType_:t,options_:e,make_:yI,extend_:_I,decorate_20223_:SI}}function yI(t,e,n){return this.extend_(t,e,n,!1)===null?0:1}function _I(t,e,n,i){var s,a;return EI(t,this),t.defineObservableProperty_(e,n.value,(s=(a=this.options_)==null?void 0:a.enhancer)!=null?s:ur,i)}function SI(t,e){var n=this,i=e.kind,s=e.name,a=new WeakSet;function u(f,p){var h,v,_=vr(f)[ve],S=new Co(p,(h=(v=n.options_)==null?void 0:v.enhancer)!=null?h:ur,"ObservableObject."+s.toString(),!1);_.values_.set(s,S),a.add(f)}if(i=="accessor")return{get:function(){return a.has(this)||u(this,t.get.call(this)),this[ve].getObservablePropValue_(s)},set:function(p){return a.has(this)||u(this,p),this[ve].setObservablePropValue_(s,p)},init:function(p){return a.has(this)||u(this,p),p}}}function EI(t,e,n,i){e.annotationType_}var TI="true",bI=Lb();function Lb(t){return{annotationType_:TI,options_:t,make_:AI,extend_:CI,decorate_20223_:wI}}function AI(t,e,n,i){var s,a;if(n.get)return gf.make_(t,e,n,i);if(n.set){var u=Cs(n.set)?n.set:cr(e.toString(),n.set);return i===t.target_?t.defineProperty_(e,{configurable:oe.safeDescriptors?t.isPlainObject_:!0,set:u})===null?0:2:(ii(i,e,{configurable:!0,set:u}),2)}if(i!==t.target_&&typeof n.value=="function"){var f;if(Rb(n.value)){var p,h=(p=this.options_)!=null&&p.autoBind?ws.bound:ws;return h.make_(t,e,n,i)}var v=(f=this.options_)!=null&&f.autoBind?al.bound:al;return v.make_(t,e,n,i)}var _=((s=this.options_)==null?void 0:s.deep)===!1?yt.ref:yt;if(typeof n.value=="function"&&(a=this.options_)!=null&&a.autoBind){var S;n.value=n.value.bind((S=t.proxy_)!=null?S:t.target_)}return _.make_(t,e,n,i)}function CI(t,e,n,i){var s,a;if(n.get)return gf.extend_(t,e,n,i);if(n.set)return t.defineProperty_(e,{configurable:oe.safeDescriptors?t.isPlainObject_:!0,set:cr(e.toString(),n.set)},i);if(typeof n.value=="function"&&(s=this.options_)!=null&&s.autoBind){var u;n.value=n.value.bind((u=t.proxy_)!=null?u:t.target_)}var f=((a=this.options_)==null?void 0:a.deep)===!1?yt.ref:yt;return f.extend_(t,e,n,i)}function wI(t,e){ke("'"+this.annotationType_+"' cannot be used as a decorator")}var RI="observable",xI="observable.ref",MI="observable.shallow",NI="observable.struct",kb={deep:!0,name:void 0,defaultDecorator:void 0,proxy:!0};Object.freeze(kb);function tc(t){return t||kb}var Jp=mf(RI),II=mf(xI,{enhancer:pf}),DI=mf(MI,{enhancer:nI}),OI=mf(NI,{enhancer:iI}),Bb=oi(Jp);function nc(t){return t.deep===!0?ur:t.deep===!1?pf:PI(t.defaultDecorator)}function UI(t){var e;return t?(e=t.defaultDecorator)!=null?e:Lb(t):void 0}function PI(t){var e,n;return t&&(e=(n=t.options_)==null?void 0:n.enhancer)!=null?e:ur}function Hb(t,e,n){if(_l(e))return Jp.decorate_20223_(t,e);if(ar(e)){yl(t,e,Jp);return}return Qm(t)?t:ki(t)?yt.object(t,e,n):Array.isArray(t)?yt.array(t,e):Is(t)?yt.map(t,e):Ii(t)?yt.set(t,e):typeof t=="object"&&t!==null?t:yt.box(t,e)}bb(Hb,Bb);var LI={box:function(e,n){var i=tc(n);return new Co(e,nc(i),i.name,!0,i.equals)},array:function(e,n){var i=tc(n);return(oe.useProxies===!1||i.proxy===!1?OD:bD)(e,nc(i),i.name)},map:function(e,n){var i=tc(n);return new aA(e,nc(i),i.name)},set:function(e,n){var i=tc(n);return new lA(e,nc(i),i.name)},object:function(e,n,i){return Do(function(){return iA(oe.useProxies===!1||i?.proxy===!1?vr({},i):_D({},i),e,n)})},ref:oi(II),shallow:oi(DI),deep:Bb,struct:oi(OI)},yt=bb(Hb,LI),Vb="computed",kI="computed.struct",Yp=Jm(Vb),BI=Jm(kI,{equals:Bc.structural}),gf=function(e,n){if(_l(n))return Yp.decorate_20223_(e,n);if(ar(n))return yl(e,n,Yp);if(ki(e))return oi(Jm(Vb,e));var i=ki(n)?n:{};return i.get=e,i.name||(i.name=e.name||""),new zn(i)};Object.assign(gf,Yp);gf.struct=oi(BI);var lS,uS,Hc=0,HI=1,VI=(lS=(uS=kc(function(){},"name"))==null?void 0:uS.configurable)!=null?lS:!1,cS={value:"action",configurable:!0,writable:!1,enumerable:!1};function cr(t,e,n,i){n===void 0&&(n=!1);function s(){return Gb(t,n,e,i||this,arguments)}return s.isMobxAction=!0,s.toString=function(){return e.toString()},VI&&(cS.value=t,ii(s,"name",cS)),s}function Gb(t,e,n,i,s){var a=GI(t,e);try{return n.apply(i,s)}catch(u){throw a.error_=u,u}finally{qI(a)}}function GI(t,e,n,i){var s=!1,a=0,u=oe.trackingDerivation,f=!e||!u;An();var p=oe.allowStateChanges;f&&(gr(),p=Ym(!0));var h=Xm(!0),v={runAsAction_:f,prevDerivation_:u,prevAllowStateChanges_:p,prevAllowStateReads_:h,notifySpy_:s,startTime_:a,actionId_:HI++,parentActionId_:Hc};return Hc=v.actionId_,v}function qI(t){Hc!==t.actionId_&&ke(30),Hc=t.parentActionId_,t.error_!==void 0&&(oe.suppressReactionErrors=!0),Km(t.prevAllowStateChanges_),ja(t.prevAllowStateReads_),Cn(),t.runAsAction_&&Pi(t.prevDerivation_),oe.suppressReactionErrors=!1}function Ym(t){var e=oe.allowStateChanges;return oe.allowStateChanges=t,e}function Km(t){oe.allowStateChanges=t}var Co=(function(t){function e(i,s,a,u,f){var p;return a===void 0&&(a="ObservableValue"),f===void 0&&(f=Bc.default),p=t.call(this,a)||this,p.enhancer=void 0,p.name_=void 0,p.equals=void 0,p.hasUnreportedChange_=!1,p.interceptors_=void 0,p.changeListeners_=void 0,p.value_=void 0,p.dehancer=void 0,p.enhancer=s,p.name_=a,p.equals=f,p.value_=s(i,void 0,a),p}Ib(e,t);var n=e.prototype;return n.dehanceValue=function(s){return this.dehancer!==void 0?this.dehancer(s):s},n.set=function(s){this.value_,s=this.prepareNewValue_(s),s!==oe.UNCHANGED&&this.setNewValue_(s)},n.prepareNewValue_=function(s){if(Tn(this)){var a=bn(this,{object:this,type:ri,newValue:s});if(!a)return oe.UNCHANGED;s=a.newValue}return s=this.enhancer(s,this.value_,this.name_),this.equals(this.value_,s)?oe.UNCHANGED:s},n.setNewValue_=function(s){var a=this.value_;this.value_=s,this.reportChanged(),Vn(this)&&Gn(this,{type:ri,object:this,newValue:s,oldValue:a})},n.get=function(){return this.reportObserved(),this.dehanceValue(this.value_)},n.intercept_=function(s){return bl(this,s)},n.observe_=function(s,a){return a&&s({observableKind:"value",debugObjectName:this.name_,object:this,type:ri,newValue:this.value_,oldValue:void 0}),Al(this,s)},n.raw=function(){return this.value_},n.toJSON=function(){return this.get()},n.toString=function(){return this.name_+"["+this.value_+"]"},n.valueOf=function(){return Nb(this.get())},n[Symbol.toPrimitive]=function(){return this.valueOf()},e})(Mo),$I=xo("ObservableValue",Co),zn=(function(){function t(n){this.dependenciesState_=Ve.NOT_TRACKING_,this.observing_=[],this.newObserving_=null,this.observers_=new Set,this.runId_=0,this.lastAccessedBy_=0,this.lowestObserverState_=Ve.UP_TO_DATE_,this.unboundDepsCount_=0,this.value_=new Gc(null),this.name_=void 0,this.triggeredBy_=void 0,this.flags_=0,this.derivation=void 0,this.setter_=void 0,this.isTracing_=Vc.NONE,this.scope_=void 0,this.equals_=void 0,this.requiresReaction_=void 0,this.keepAlive_=void 0,this.onBOL=void 0,this.onBUOL=void 0,n.get||ke(31),this.derivation=n.get,this.name_=n.name||"ComputedValue",n.set&&(this.setter_=cr("ComputedValue-setter",n.set)),this.equals_=n.equals||(n.compareStructural||n.struct?Bc.structural:Bc.default),this.scope_=n.context,this.requiresReaction_=n.requiresReaction,this.keepAlive_=!!n.keepAlive}var e=t.prototype;return e.onBecomeStale_=function(){KI(this)},e.onBO=function(){this.onBOL&&this.onBOL.forEach(function(i){return i()})},e.onBUO=function(){this.onBUOL&&this.onBUOL.forEach(function(i){return i()})},e.get=function(){if(this.isComputing&&ke(32,this.name_,this.derivation),oe.inBatch===0&&this.observers_.size===0&&!this.keepAlive_)Kp(this)&&(this.warnAboutUntrackedRead_(),An(),this.value_=this.computeValue_(!1),Cn());else if(Kb(this),Kp(this)){var i=oe.trackingContext;this.keepAlive_&&!i&&(oe.trackingContext=this),this.trackAndCompute()&&YI(this),oe.trackingContext=i}var s=this.value_;if(Tc(s))throw s.cause;return s},e.set=function(i){if(this.setter_){this.isRunningSetter&&ke(33,this.name_),this.isRunningSetter=!0;try{this.setter_.call(this.scope_,i)}finally{this.isRunningSetter=!1}}else ke(34,this.name_)},e.trackAndCompute=function(){var i=this.value_,s=this.dependenciesState_===Ve.NOT_TRACKING_,a=this.computeValue_(!0),u=s||Tc(i)||Tc(a)||!this.equals_(i,a);return u&&(this.value_=a),u},e.computeValue_=function(i){this.isComputing=!0;var s=Ym(!1),a;if(i)a=qb(this,this.derivation,this.scope_);else if(oe.disableErrorBoundaries===!0)a=this.derivation.call(this.scope_);else try{a=this.derivation.call(this.scope_)}catch(u){a=new Gc(u)}return Km(s),this.isComputing=!1,a},e.suspend_=function(){this.keepAlive_||(Xp(this),this.value_=void 0)},e.observe_=function(i,s){var a=this,u=!0,f=void 0;return iD(function(){var p=a.get();if(!u||s){var h=gr();i({observableKind:"computed",debugObjectName:a.name_,type:ri,object:a,newValue:p,oldValue:f}),Pi(h)}u=!1,f=p})},e.warnAboutUntrackedRead_=function(){},e.toString=function(){return this.name_+"["+this.derivation.toString()+"]"},e.valueOf=function(){return Nb(this.get())},e[Symbol.toPrimitive]=function(){return this.valueOf()},Ds(t,[{key:"isComputing",get:function(){return ln(this.flags_,t.isComputingMask_)},set:function(i){this.flags_=un(this.flags_,t.isComputingMask_,i)}},{key:"isRunningSetter",get:function(){return ln(this.flags_,t.isRunningSetterMask_)},set:function(i){this.flags_=un(this.flags_,t.isRunningSetterMask_,i)}},{key:"isBeingObserved",get:function(){return ln(this.flags_,t.isBeingObservedMask_)},set:function(i){this.flags_=un(this.flags_,t.isBeingObservedMask_,i)}},{key:"isPendingUnobservation",get:function(){return ln(this.flags_,t.isPendingUnobservationMask_)},set:function(i){this.flags_=un(this.flags_,t.isPendingUnobservationMask_,i)}},{key:"diffValue",get:function(){return ln(this.flags_,t.diffValueMask_)?1:0},set:function(i){this.flags_=un(this.flags_,t.diffValueMask_,i===1)}}])})();zn.isComputingMask_=1;zn.isRunningSetterMask_=2;zn.isBeingObservedMask_=4;zn.isPendingUnobservationMask_=8;zn.diffValueMask_=16;var El=xo("ComputedValue",zn),Ve;(function(t){t[t.NOT_TRACKING_=-1]="NOT_TRACKING_",t[t.UP_TO_DATE_=0]="UP_TO_DATE_",t[t.POSSIBLY_STALE_=1]="POSSIBLY_STALE_",t[t.STALE_=2]="STALE_"})(Ve||(Ve={}));var Vc;(function(t){t[t.NONE=0]="NONE",t[t.LOG=1]="LOG",t[t.BREAK=2]="BREAK"})(Vc||(Vc={}));var Gc=function(e){this.cause=void 0,this.cause=e};function Tc(t){return t instanceof Gc}function Kp(t){switch(t.dependenciesState_){case Ve.UP_TO_DATE_:return!1;case Ve.NOT_TRACKING_:case Ve.STALE_:return!0;case Ve.POSSIBLY_STALE_:{for(var e=Xm(!0),n=gr(),i=t.observing_,s=i.length,a=0;a<s;a++){var u=i[a];if(El(u)){if(oe.disableErrorBoundaries)u.get();else try{u.get()}catch{return Pi(n),ja(e),!0}if(t.dependenciesState_===Ve.STALE_)return Pi(n),ja(e),!0}}return Fb(t),Pi(n),ja(e),!1}}}function qb(t,e,n){var i=Xm(!0);Fb(t),t.newObserving_=new Array(t.runId_===0?100:t.observing_.length),t.unboundDepsCount_=0,t.runId_=++oe.runId;var s=oe.trackingDerivation;oe.trackingDerivation=t,oe.inBatch++;var a;if(oe.disableErrorBoundaries===!0)a=e.call(n);else try{a=e.call(n)}catch(u){a=new Gc(u)}return oe.inBatch--,oe.trackingDerivation=s,FI(t),ja(i),a}function FI(t){for(var e=t.observing_,n=t.observing_=t.newObserving_,i=Ve.UP_TO_DATE_,s=0,a=t.unboundDepsCount_,u=0;u<a;u++){var f=n[u];f.diffValue===0&&(f.diffValue=1,s!==u&&(n[s]=f),s++),f.dependenciesState_>i&&(i=f.dependenciesState_)}for(n.length=s,t.newObserving_=null,a=e.length;a--;){var p=e[a];p.diffValue===0&&Jb(p,t),p.diffValue=0}for(;s--;){var h=n[s];h.diffValue===1&&(h.diffValue=0,JI(h,t))}i!==Ve.UP_TO_DATE_&&(t.dependenciesState_=i,t.onBecomeStale_())}function Xp(t){var e=t.observing_;t.observing_=[];for(var n=e.length;n--;)Jb(e[n],t);t.dependenciesState_=Ve.NOT_TRACKING_}function $b(t){var e=gr();try{return t()}finally{Pi(e)}}function gr(){var t=oe.trackingDerivation;return oe.trackingDerivation=null,t}function Pi(t){oe.trackingDerivation=t}function Xm(t){var e=oe.allowStateReads;return oe.allowStateReads=t,e}function ja(t){oe.allowStateReads=t}function Fb(t){if(t.dependenciesState_!==Ve.UP_TO_DATE_){t.dependenciesState_=Ve.UP_TO_DATE_;for(var e=t.observing_,n=e.length;n--;)e[n].lowestObserverState_=Ve.UP_TO_DATE_}}var bc=function(){this.version=6,this.UNCHANGED={},this.trackingDerivation=null,this.trackingContext=null,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!1,this.allowStateReads=!0,this.enforceActions=!0,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1,this.useProxies=!0,this.verifyProxies=!1,this.safeDescriptors=!0},Ac=!0,zb=!1,oe=(function(){var t=df();return t.__mobxInstanceCount>0&&!t.__mobxGlobals&&(Ac=!1),t.__mobxGlobals&&t.__mobxGlobals.version!==new bc().version&&(Ac=!1),Ac?t.__mobxGlobals?(t.__mobxInstanceCount+=1,t.__mobxGlobals.UNCHANGED||(t.__mobxGlobals.UNCHANGED={}),t.__mobxGlobals):(t.__mobxInstanceCount=1,t.__mobxGlobals=new bc):(setTimeout(function(){zb||ke(35)},1),new bc)})();function zI(){if((oe.pendingReactions.length||oe.inBatch||oe.isRunningReactions)&&ke(36),zb=!0,Ac){var t=df();--t.__mobxInstanceCount===0&&(t.__mobxGlobals=void 0),oe=new bc}}function JI(t,e){t.observers_.add(e),t.lowestObserverState_>e.dependenciesState_&&(t.lowestObserverState_=e.dependenciesState_)}function Jb(t,e){t.observers_.delete(e),t.observers_.size===0&&Yb(t)}function Yb(t){t.isPendingUnobservation===!1&&(t.isPendingUnobservation=!0,oe.pendingUnobservations.push(t))}function An(){oe.inBatch++}function Cn(){if(--oe.inBatch===0){Qb();for(var t=oe.pendingUnobservations,e=0;e<t.length;e++){var n=t[e];n.isPendingUnobservation=!1,n.observers_.size===0&&(n.isBeingObserved&&(n.isBeingObserved=!1,n.onBUO()),n instanceof zn&&n.suspend_())}oe.pendingUnobservations=[]}}function Kb(t){var e=oe.trackingDerivation;return e!==null?(e.runId_!==t.lastAccessedBy_&&(t.lastAccessedBy_=e.runId_,e.newObserving_[e.unboundDepsCount_++]=t,!t.isBeingObserved&&oe.trackingContext&&(t.isBeingObserved=!0,t.onBO())),t.isBeingObserved):(t.observers_.size===0&&oe.inBatch>0&&Yb(t),!1)}function Xb(t){t.lowestObserverState_!==Ve.STALE_&&(t.lowestObserverState_=Ve.STALE_,t.observers_.forEach(function(e){e.dependenciesState_===Ve.UP_TO_DATE_&&e.onBecomeStale_(),e.dependenciesState_=Ve.STALE_}))}function YI(t){t.lowestObserverState_!==Ve.STALE_&&(t.lowestObserverState_=Ve.STALE_,t.observers_.forEach(function(e){e.dependenciesState_===Ve.POSSIBLY_STALE_?e.dependenciesState_=Ve.STALE_:e.dependenciesState_===Ve.UP_TO_DATE_&&(t.lowestObserverState_=Ve.UP_TO_DATE_)}))}function KI(t){t.lowestObserverState_===Ve.UP_TO_DATE_&&(t.lowestObserverState_=Ve.POSSIBLY_STALE_,t.observers_.forEach(function(e){e.dependenciesState_===Ve.UP_TO_DATE_&&(e.dependenciesState_=Ve.POSSIBLY_STALE_,e.onBecomeStale_())}))}var Bi=(function(){function t(n,i,s,a){n===void 0&&(n="Reaction"),this.name_=void 0,this.onInvalidate_=void 0,this.errorHandler_=void 0,this.requiresObservable_=void 0,this.observing_=[],this.newObserving_=[],this.dependenciesState_=Ve.NOT_TRACKING_,this.runId_=0,this.unboundDepsCount_=0,this.flags_=0,this.isTracing_=Vc.NONE,this.name_=n,this.onInvalidate_=i,this.errorHandler_=s,this.requiresObservable_=a}var e=t.prototype;return e.onBecomeStale_=function(){this.schedule_()},e.schedule_=function(){this.isScheduled||(this.isScheduled=!0,oe.pendingReactions.push(this),Qb())},e.runReaction_=function(){if(!this.isDisposed){An(),this.isScheduled=!1;var i=oe.trackingContext;if(oe.trackingContext=this,Kp(this)){this.isTrackPending=!0;try{this.onInvalidate_()}catch(s){this.reportExceptionInDerivation_(s)}}oe.trackingContext=i,Cn()}},e.track=function(i){if(!this.isDisposed){An(),this.isRunning=!0;var s=oe.trackingContext;oe.trackingContext=this;var a=qb(this,i,void 0);oe.trackingContext=s,this.isRunning=!1,this.isTrackPending=!1,this.isDisposed&&Xp(this),Tc(a)&&this.reportExceptionInDerivation_(a.cause),Cn()}},e.reportExceptionInDerivation_=function(i){var s=this;if(this.errorHandler_){this.errorHandler_(i,this);return}if(oe.disableErrorBoundaries)throw i;var a="[mobx] uncaught error in '"+this+"'";oe.suppressReactionErrors||console.error(a,i),oe.globalReactionErrorHandlers.forEach(function(u){return u(i,s)})},e.dispose=function(){this.isDisposed||(this.isDisposed=!0,this.isRunning||(An(),Xp(this),Cn()))},e.getDisposer_=function(i){var s=this,a=function u(){s.dispose(),i==null||i.removeEventListener==null||i.removeEventListener("abort",u)};return i==null||i.addEventListener==null||i.addEventListener("abort",a),a[ve]=this,"dispose"in Symbol&&typeof Symbol.dispose=="symbol"&&(a[Symbol.dispose]=a),a},e.toString=function(){return"Reaction["+this.name_+"]"},e.trace=function(i){},Ds(t,[{key:"isDisposed",get:function(){return ln(this.flags_,t.isDisposedMask_)},set:function(i){this.flags_=un(this.flags_,t.isDisposedMask_,i)}},{key:"isScheduled",get:function(){return ln(this.flags_,t.isScheduledMask_)},set:function(i){this.flags_=un(this.flags_,t.isScheduledMask_,i)}},{key:"isTrackPending",get:function(){return ln(this.flags_,t.isTrackPendingMask_)},set:function(i){this.flags_=un(this.flags_,t.isTrackPendingMask_,i)}},{key:"isRunning",get:function(){return ln(this.flags_,t.isRunningMask_)},set:function(i){this.flags_=un(this.flags_,t.isRunningMask_,i)}},{key:"diffValue",get:function(){return ln(this.flags_,t.diffValueMask_)?1:0},set:function(i){this.flags_=un(this.flags_,t.diffValueMask_,i===1)}}])})();Bi.isDisposedMask_=1;Bi.isScheduledMask_=2;Bi.isTrackPendingMask_=4;Bi.isRunningMask_=8;Bi.diffValueMask_=16;var XI=100,Qp=function(e){return e()};function Qb(){oe.inBatch>0||oe.isRunningReactions||Qp(QI)}function QI(){oe.isRunningReactions=!0;for(var t=oe.pendingReactions,e=0;t.length>0;){++e===XI&&(console.error("[mobx] cycle in reaction: "+t[0]),t.splice(0));for(var n=t.splice(0),i=0,s=n.length;i<s;i++)n[i].runReaction_()}oe.isRunningReactions=!1}var qc=xo("Reaction",Bi);function WI(t){var e=Qp;Qp=function(i){return t(function(){return e(i)})}}function el(){return!1}function ZI(t){return console.warn("[mobx.spy] Is a no-op in production builds"),function(){}}var Wb="action",jI="action.bound",Zb="autoAction",eD="autoAction.bound",jb="<unnamed action>",Wp=Sl(Wb),tD=Sl(jI,{bound:!0}),Zp=Sl(Zb,{autoAction:!0}),nD=Sl(eD,{autoAction:!0,bound:!0});function eA(t){var e=function(i,s){if(Fn(i))return cr(i.name||jb,i,t);if(Fn(s))return cr(i,s,t);if(_l(s))return(t?Zp:Wp).decorate_20223_(i,s);if(ar(s))return yl(i,s,t?Zp:Wp);if(ar(i))return oi(Sl(t?Zb:Wb,{name:i,autoAction:t}))};return e}var ys=eA(!1);Object.assign(ys,Wp);var al=eA(!0);Object.assign(al,Zp);ys.bound=oi(tD);al.bound=oi(nD);function nt(t){return Gb(t.name||jb,!1,t,this,void 0)}function Cs(t){return Fn(t)&&t.isMobxAction===!0}function iD(t,e){var n,i,s,a;e===void 0&&(e=Ab);var u=(n=(i=e)==null?void 0:i.name)!=null?n:"Autorun",f=!e.scheduler&&!e.delay,p;if(f)p=new Bi(u,function(){this.track(_)},e.onError,e.requiresObservable);else{var h=rD(e),v=!1;p=new Bi(u,function(){v||(v=!0,h(function(){v=!1,p.isDisposed||p.track(_)}))},e.onError,e.requiresObservable)}function _(){t(p)}return(s=e)!=null&&(s=s.signal)!=null&&s.aborted||p.schedule_(),p.getDisposer_((a=e)==null?void 0:a.signal)}var oD=function(e){return e()};function rD(t){return t.scheduler?t.scheduler:t.delay?function(e){return setTimeout(e,t.delay)}:oD}var sD="onBO",aD="onBUO";function lD(t,e,n){return nA(sD,t,e,n)}function tA(t,e,n){return nA(aD,t,e,n)}function nA(t,e,n,i){var s=zc(e),a=Fn(i)?i:n,u=t+"L";return s[u]?s[u].add(a):s[u]=new Set([a]),function(){var f=s[u];f&&(f.delete(a),f.size===0&&delete s[u])}}var uD="never",ic="always",cD="observed";function fD(t){t.isolateGlobalState===!0&&zI();var e=t.useProxies,n=t.enforceActions;if(e!==void 0&&(oe.useProxies=e===ic?!0:e===uD?!1:typeof Proxy<"u"),e==="ifavailable"&&(oe.verifyProxies=!0),n!==void 0){var i=n===ic?ic:n===cD;oe.enforceActions=i,oe.allowStateChanges=!(i===!0||i===ic)}["computedRequiresReaction","reactionRequiresObservable","observableRequiresReaction","disableErrorBoundaries","safeDescriptors"].forEach(function(s){s in t&&(oe[s]=!!t[s])}),oe.allowStateReads=!oe.observableRequiresReaction,t.reactionScheduler&&WI(t.reactionScheduler)}function iA(t,e,n,i){var s=KN(e);return Do(function(){var a=vr(t,i)[ve];As(s).forEach(function(u){a.extend_(u,s[u],n&&u in n?n[u]:!0)})}),t}function dD(t,e){return oA(zc(t,e))}function oA(t){var e={name:t.name_};return t.observing_&&t.observing_.length>0&&(e.dependencies=hD(t.observing_).map(oA)),e}function hD(t){return Array.from(new Set(t))}var pD=0;function rA(){this.message="FLOW_CANCELLED"}rA.prototype=Object.create(Error.prototype);var ap=Ub("flow"),mD=Ub("flow.bound",{bound:!0}),ws=Object.assign(function(e,n){if(_l(n))return ap.decorate_20223_(e,n);if(ar(n))return yl(e,n,ap);var i=e,s=i.name||"<unnamed flow>",a=function(){var f=this,p=arguments,h=++pD,v=ys(s+" - runid: "+h+" - init",i).apply(f,p),_,S=void 0,T=new Promise(function(A,w){var R=0;_=w;function D(L){S=void 0;var z;try{z=ys(s+" - runid: "+h+" - yield "+R++,v.next).call(v,L)}catch($){return w($)}O(z)}function U(L){S=void 0;var z;try{z=ys(s+" - runid: "+h+" - yield "+R++,v.throw).call(v,L)}catch($){return w($)}O(z)}function O(L){if(Fn(L?.then)){L.then(O,w);return}return L.done?A(L.value):(S=Promise.resolve(L.value),S.then(D,U))}D(void 0)});return T.cancel=ys(s+" - runid: "+h+" - cancel",function(){try{S&&fS(S);var A=v.return(void 0),w=Promise.resolve(A.value);w.then(gs,gs),fS(w),_(new rA)}catch(R){_(R)}}),T};return a.isMobXFlow=!0,a},ap);ws.bound=oi(mD);function fS(t){Fn(t.cancel)&&t.cancel()}function ll(t){return t?.isMobXFlow===!0}function gD(t,e){return t?wl(t)||!!t[ve]||zm(t)||qc(t)||El(t):!1}function Qm(t){return gD(t)}function vD(t){if(wl(t))return t[ve].ownKeys_();ke(38)}function oc(t,e,n){return t.set(e,n),n}function fs(t,e){if(t==null||typeof t!="object"||t instanceof Date||!Qm(t))return t;if($I(t)||El(t))return fs(t.get(),e);if(e.has(t))return e.get(t);if(Cl(t)){var n=oc(e,t,new Array(t.length));return t.forEach(function(u,f){n[f]=fs(u,e)}),n}if(Hn(t)){var i=oc(e,t,new Set);return t.forEach(function(u){i.add(fs(u,e))}),i}if(Io(t)){var s=oc(e,t,new Map);return t.forEach(function(u,f){s.set(f,fs(u,e))}),s}else{var a=oc(e,t,{});return vD(t).forEach(function(u){gl.propertyIsEnumerable.call(t,u)&&(a[u]=fs(t[u],e))}),a}}function Tl(t,e){return fs(t,new Map)}function Di(t,e){e===void 0&&(e=void 0),An();try{return t.apply(e)}finally{Cn()}}function os(t){return t[ve]}var yD={has:function(e,n){return os(e).has_(n)},get:function(e,n){return os(e).get_(n)},set:function(e,n,i){var s;return ar(n)?(s=os(e).set_(n,i,!0))!=null?s:!0:!1},deleteProperty:function(e,n){var i;return ar(n)?(i=os(e).delete_(n,!0))!=null?i:!0:!1},defineProperty:function(e,n,i){var s;return(s=os(e).defineProperty_(n,i))!=null?s:!0},ownKeys:function(e){return os(e).ownKeys_()},preventExtensions:function(e){ke(13)}};function _D(t,e){var n,i;return Cb(),t=vr(t,e),(i=(n=t[ve]).proxy_)!=null?i:n.proxy_=new Proxy(t,yD)}function Tn(t){return t.interceptors_!==void 0&&t.interceptors_.length>0}function bl(t,e){var n=t.interceptors_||(t.interceptors_=[]);return n.push(e),wb(function(){var i=n.indexOf(e);i!==-1&&n.splice(i,1)})}function bn(t,e){var n=gr();try{for(var i=[].concat(t.interceptors_||[]),s=0,a=i.length;s<a&&(e=i[s](e),e&&!e.type&&ke(14),!!e);s++);return e}finally{Pi(n)}}function Vn(t){return t.changeListeners_!==void 0&&t.changeListeners_.length>0}function Al(t,e){var n=t.changeListeners_||(t.changeListeners_=[]);return n.push(e),wb(function(){var i=n.indexOf(e);i!==-1&&n.splice(i,1)})}function Gn(t,e){var n=gr(),i=t.changeListeners_;if(i){i=i.slice();for(var s=0,a=i.length;s<a;s++)i[s](e);Pi(n)}}function SD(t,e,n){return Do(function(){var i,s=vr(t,n)[ve];(i=e)!=null||(e=jN(t)),As(e).forEach(function(a){return s.make_(a,e[a])})}),t}var lp=Symbol("mobx-keys");function No(t,e,n){return ki(t)?iA(t,t,e,n):(Do(function(){var i=vr(t,n)[ve];if(!t[lp]){var s=Object.getPrototypeOf(t),a=new Set([].concat(As(t),As(s)));a.delete("constructor"),a.delete(ve),vl(s,lp,a)}t[lp].forEach(function(u){return i.make_(u,e&&u in e?e[u]:!0)})}),t)}var dS="splice",ri="update",ED=1e4,TD={get:function(e,n){var i=e[ve];return n===ve?i:n==="length"?i.getArrayLength_():typeof n=="string"&&!isNaN(n)?i.get_(parseInt(n)):Ui($c,n)?$c[n]:e[n]},set:function(e,n,i){var s=e[ve];return n==="length"&&s.setArrayLength_(i),typeof n=="symbol"||isNaN(n)?e[n]=i:s.set_(parseInt(n),i),!0},preventExtensions:function(){ke(15)}},Wm=(function(){function t(n,i,s,a){n===void 0&&(n="ObservableArray"),this.owned_=void 0,this.legacyMode_=void 0,this.atom_=void 0,this.values_=[],this.interceptors_=void 0,this.changeListeners_=void 0,this.enhancer_=void 0,this.dehancer=void 0,this.proxy_=void 0,this.lastKnownLength_=0,this.owned_=s,this.legacyMode_=a,this.atom_=new Mo(n),this.enhancer_=function(u,f){return i(u,f,"ObservableArray[..]")}}var e=t.prototype;return e.dehanceValue_=function(i){return this.dehancer!==void 0?this.dehancer(i):i},e.dehanceValues_=function(i){return this.dehancer!==void 0&&i.length>0?i.map(this.dehancer):i},e.intercept_=function(i){return bl(this,i)},e.observe_=function(i,s){return s===void 0&&(s=!1),s&&i({observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:"splice",index:0,added:this.values_.slice(),addedCount:this.values_.length,removed:[],removedCount:0}),Al(this,i)},e.getArrayLength_=function(){return this.atom_.reportObserved(),this.values_.length},e.setArrayLength_=function(i){(typeof i!="number"||isNaN(i)||i<0)&&ke("Out of range: "+i);var s=this.values_.length;if(i!==s)if(i>s){for(var a=new Array(i-s),u=0;u<i-s;u++)a[u]=void 0;this.spliceWithArray_(s,0,a)}else this.spliceWithArray_(i,s-i)},e.updateArrayLength_=function(i,s){i!==this.lastKnownLength_&&ke(16),this.lastKnownLength_+=s,this.legacyMode_&&s>0&&dA(i+s+1)},e.spliceWithArray_=function(i,s,a){var u=this;this.atom_;var f=this.values_.length;if(i===void 0?i=0:i>f?i=f:i<0&&(i=Math.max(0,f+i)),arguments.length===1?s=f-i:s==null?s=0:s=Math.max(0,Math.min(s,f-i)),a===void 0&&(a=Fp),Tn(this)){var p=bn(this,{object:this.proxy_,type:dS,index:i,removedCount:s,added:a});if(!p)return Fp;s=p.removedCount,a=p.added}if(a=a.length===0?a:a.map(function(_){return u.enhancer_(_,void 0)}),this.legacyMode_){var h=a.length-s;this.updateArrayLength_(f,h)}var v=this.spliceItemsIntoValues_(i,s,a);return(s!==0||a.length!==0)&&this.notifyArraySplice_(i,a,v),this.dehanceValues_(v)},e.spliceItemsIntoValues_=function(i,s,a){if(a.length<ED){var u;return(u=this.values_).splice.apply(u,[i,s].concat(a))}else{var f=this.values_.slice(i,i+s),p=this.values_.slice(i+s);this.values_.length+=a.length-s;for(var h=0;h<a.length;h++)this.values_[i+h]=a[h];for(var v=0;v<p.length;v++)this.values_[i+a.length+v]=p[v];return f}},e.notifyArrayChildUpdate_=function(i,s,a){var u=!this.owned_&&el(),f=Vn(this),p=f||u?{observableKind:"array",object:this.proxy_,type:ri,debugObjectName:this.atom_.name_,index:i,newValue:s,oldValue:a}:null;this.atom_.reportChanged(),f&&Gn(this,p)},e.notifyArraySplice_=function(i,s,a){var u=!this.owned_&&el(),f=Vn(this),p=f||u?{observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:dS,index:i,removed:a,added:s,removedCount:a.length,addedCount:s.length}:null;this.atom_.reportChanged(),f&&Gn(this,p)},e.get_=function(i){if(this.legacyMode_&&i>=this.values_.length){console.warn("[mobx] Out of bounds read: "+i);return}return this.atom_.reportObserved(),this.dehanceValue_(this.values_[i])},e.set_=function(i,s){var a=this.values_;if(this.legacyMode_&&i>a.length&&ke(17,i,a.length),i<a.length){this.atom_;var u=a[i];if(Tn(this)){var f=bn(this,{type:ri,object:this.proxy_,index:i,newValue:s});if(!f)return;s=f.newValue}s=this.enhancer_(s,u);var p=s!==u;p&&(a[i]=s,this.notifyArrayChildUpdate_(i,s,u))}else{for(var h=new Array(i+1-a.length),v=0;v<h.length-1;v++)h[v]=void 0;h[h.length-1]=s,this.spliceWithArray_(a.length,0,h)}},t})();function bD(t,e,n,i){return n===void 0&&(n="ObservableArray"),i===void 0&&(i=!1),Cb(),Do(function(){var s=new Wm(n,e,i,!1);xb(s.values_,ve,s);var a=new Proxy(s.values_,TD);return s.proxy_=a,t&&t.length&&s.spliceWithArray_(0,0,t),a})}var $c={clear:function(){return this.splice(0)},replace:function(e){var n=this[ve];return n.spliceWithArray_(0,n.values_.length,e)},toJSON:function(){return this.slice()},splice:function(e,n){for(var i=arguments.length,s=new Array(i>2?i-2:0),a=2;a<i;a++)s[a-2]=arguments[a];var u=this[ve];switch(arguments.length){case 0:return[];case 1:return u.spliceWithArray_(e);case 2:return u.spliceWithArray_(e,n)}return u.spliceWithArray_(e,n,s)},spliceWithArray:function(e,n,i){return this[ve].spliceWithArray_(e,n,i)},push:function(){for(var e=this[ve],n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return e.spliceWithArray_(e.values_.length,0,i),e.values_.length},pop:function(){return this.splice(Math.max(this[ve].values_.length-1,0),1)[0]},shift:function(){return this.splice(0,1)[0]},unshift:function(){for(var e=this[ve],n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return e.spliceWithArray_(0,0,i),e.values_.length},reverse:function(){return oe.trackingDerivation&&ke(37,"reverse"),this.replace(this.slice().reverse()),this},sort:function(){oe.trackingDerivation&&ke(37,"sort");var e=this.slice();return e.sort.apply(e,arguments),this.replace(e),this},remove:function(e){var n=this[ve],i=n.dehanceValues_(n.values_).indexOf(e);return i>-1?(this.splice(i,1),!0):!1}};We("at",fn);We("concat",fn);We("flat",fn);We("includes",fn);We("indexOf",fn);We("join",fn);We("lastIndexOf",fn);We("slice",fn);We("toString",fn);We("toLocaleString",fn);We("toSorted",fn);We("toSpliced",fn);We("with",fn);We("every",Jn);We("filter",Jn);We("find",Jn);We("findIndex",Jn);We("findLast",Jn);We("findLastIndex",Jn);We("flatMap",Jn);We("forEach",Jn);We("map",Jn);We("some",Jn);We("toReversed",Jn);We("reduce",sA);We("reduceRight",sA);function We(t,e){typeof Array.prototype[t]=="function"&&($c[t]=e(t))}function fn(t){return function(){var e=this[ve];e.atom_.reportObserved();var n=e.dehanceValues_(e.values_);return n[t].apply(n,arguments)}}function Jn(t){return function(e,n){var i=this,s=this[ve];s.atom_.reportObserved();var a=s.dehanceValues_(s.values_);return a[t](function(u,f){return e.call(n,u,f,i)})}}function sA(t){return function(){var e=this,n=this[ve];n.atom_.reportObserved();var i=n.dehanceValues_(n.values_),s=arguments[0];return arguments[0]=function(a,u,f){return s(a,u,f,e)},i[t].apply(i,arguments)}}var AD=xo("ObservableArrayAdministration",Wm);function Cl(t){return hf(t)&&AD(t[ve])}var CD={},To="add",Fc="delete",aA=(function(){function t(n,i,s){var a=this;i===void 0&&(i=ur),s===void 0&&(s="ObservableMap"),this.enhancer_=void 0,this.name_=void 0,this[ve]=CD,this.data_=void 0,this.hasMap_=void 0,this.keysAtom_=void 0,this.interceptors_=void 0,this.changeListeners_=void 0,this.dehancer=void 0,this.enhancer_=i,this.name_=s,Fn(Map)||ke(18),Do(function(){a.keysAtom_=Db("ObservableMap.keys()"),a.data_=new Map,a.hasMap_=new Map,n&&a.merge(n)})}var e=t.prototype;return e.has_=function(i){return this.data_.has(i)},e.has=function(i){var s=this;if(!oe.trackingDerivation)return this.has_(i);var a=this.hasMap_.get(i);if(!a){var u=a=new Co(this.has_(i),pf,"ObservableMap.key?",!1);this.hasMap_.set(i,u),tA(u,function(){return s.hasMap_.delete(i)})}return a.get()},e.set=function(i,s){var a=this.has_(i);if(Tn(this)){var u=bn(this,{type:a?ri:To,object:this,newValue:s,name:i});if(!u)return this;s=u.newValue}return a?this.updateValue_(i,s):this.addValue_(i,s),this},e.delete=function(i){var s=this;if(this.keysAtom_,Tn(this)){var a=bn(this,{type:Fc,object:this,name:i});if(!a)return!1}if(this.has_(i)){var u=el(),f=Vn(this),p=f||u?{observableKind:"map",debugObjectName:this.name_,type:Fc,object:this,oldValue:this.data_.get(i).value_,name:i}:null;return Di(function(){var h;s.keysAtom_.reportChanged(),(h=s.hasMap_.get(i))==null||h.setNewValue_(!1);var v=s.data_.get(i);v.setNewValue_(void 0),s.data_.delete(i)}),f&&Gn(this,p),!0}return!1},e.updateValue_=function(i,s){var a=this.data_.get(i);if(s=a.prepareNewValue_(s),s!==oe.UNCHANGED){var u=el(),f=Vn(this),p=f||u?{observableKind:"map",debugObjectName:this.name_,type:ri,object:this,oldValue:a.value_,name:i,newValue:s}:null;a.setNewValue_(s),f&&Gn(this,p)}},e.addValue_=function(i,s){var a=this;this.keysAtom_,Di(function(){var h,v=new Co(s,a.enhancer_,"ObservableMap.key",!1);a.data_.set(i,v),s=v.value_,(h=a.hasMap_.get(i))==null||h.setNewValue_(!0),a.keysAtom_.reportChanged()});var u=el(),f=Vn(this),p=f||u?{observableKind:"map",debugObjectName:this.name_,type:To,object:this,name:i,newValue:s}:null;f&&Gn(this,p)},e.get=function(i){return this.has(i)?this.dehanceValue_(this.data_.get(i).get()):this.dehanceValue_(void 0)},e.dehanceValue_=function(i){return this.dehancer!==void 0?this.dehancer(i):i},e.keys=function(){return this.keysAtom_.reportObserved(),this.data_.keys()},e.values=function(){var i=this,s=this.keys();return hS({next:function(){var u=s.next(),f=u.done,p=u.value;return{done:f,value:f?void 0:i.get(p)}}})},e.entries=function(){var i=this,s=this.keys();return hS({next:function(){var u=s.next(),f=u.done,p=u.value;return{done:f,value:f?void 0:[p,i.get(p)]}}})},e[Symbol.iterator]=function(){return this.entries()},e.forEach=function(i,s){for(var a=vs(this),u;!(u=a()).done;){var f=u.value,p=f[0],h=f[1];i.call(s,h,p,this)}},e.merge=function(i){var s=this;return Io(i)&&(i=new Map(i)),Di(function(){ki(i)?YN(i).forEach(function(a){return s.set(a,i[a])}):Array.isArray(i)?i.forEach(function(a){var u=a[0],f=a[1];return s.set(u,f)}):Is(i)?(JN(i)||ke(19,i),i.forEach(function(a,u){return s.set(u,a)})):i!=null&&ke(20,i)}),this},e.clear=function(){var i=this;Di(function(){$b(function(){for(var s=vs(i.keys()),a;!(a=s()).done;){var u=a.value;i.delete(u)}})})},e.replace=function(i){var s=this;return Di(function(){for(var a=wD(i),u=new Map,f=!1,p=vs(s.data_.keys()),h;!(h=p()).done;){var v=h.value;if(!a.has(v)){var _=s.delete(v);if(_)f=!0;else{var S=s.data_.get(v);u.set(v,S)}}}for(var T=vs(a.entries()),A;!(A=T()).done;){var w=A.value,R=w[0],D=w[1],U=s.data_.has(R);if(s.set(R,D),s.data_.has(R)){var O=s.data_.get(R);u.set(R,O),U||(f=!0)}}if(!f)if(s.data_.size!==u.size)s.keysAtom_.reportChanged();else for(var L=s.data_.keys(),z=u.keys(),$=L.next(),V=z.next();!$.done;){if($.value!==V.value){s.keysAtom_.reportChanged();break}$=L.next(),V=z.next()}s.data_=u}),this},e.toString=function(){return"[object ObservableMap]"},e.toJSON=function(){return Array.from(this)},e.observe_=function(i,s){return Al(this,i)},e.intercept_=function(i){return bl(this,i)},Ds(t,[{key:"size",get:function(){return this.keysAtom_.reportObserved(),this.data_.size}},{key:Symbol.toStringTag,get:function(){return"Map"}}])})(),Io=xo("ObservableMap",aA);function hS(t){return t[Symbol.toStringTag]="MapIterator",jm(t)}function wD(t){if(Is(t)||Io(t))return t;if(Array.isArray(t))return new Map(t);if(ki(t)){var e=new Map;for(var n in t)e.set(n,t[n]);return e}else return ke(21,t)}var RD={},lA=(function(){function t(n,i,s){var a=this;i===void 0&&(i=ur),s===void 0&&(s="ObservableSet"),this.name_=void 0,this[ve]=RD,this.data_=new Set,this.atom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.dehancer=void 0,this.enhancer_=void 0,this.name_=s,Fn(Set)||ke(22),this.enhancer_=function(u,f){return i(u,f,s)},Do(function(){a.atom_=Db(a.name_),n&&a.replace(n)})}var e=t.prototype;return e.dehanceValue_=function(i){return this.dehancer!==void 0?this.dehancer(i):i},e.clear=function(){var i=this;Di(function(){$b(function(){for(var s=vs(i.data_.values()),a;!(a=s()).done;){var u=a.value;i.delete(u)}})})},e.forEach=function(i,s){for(var a=vs(this),u;!(u=a()).done;){var f=u.value;i.call(s,f,f,this)}},e.add=function(i){var s=this;if(this.atom_,Tn(this)){var a=bn(this,{type:To,object:this,newValue:i});if(!a)return this;i=a.newValue}if(!this.has(i)){Di(function(){s.data_.add(s.enhancer_(i,void 0)),s.atom_.reportChanged()});var u=!1,f=Vn(this),p=f||u?{observableKind:"set",debugObjectName:this.name_,type:To,object:this,newValue:i}:null;f&&Gn(this,p)}return this},e.delete=function(i){var s=this;if(Tn(this)){var a=bn(this,{type:Fc,object:this,oldValue:i});if(!a)return!1}if(this.has(i)){var u=!1,f=Vn(this),p=f||u?{observableKind:"set",debugObjectName:this.name_,type:Fc,object:this,oldValue:i}:null;return Di(function(){s.atom_.reportChanged(),s.data_.delete(i)}),f&&Gn(this,p),!0}return!1},e.has=function(i){return this.atom_.reportObserved(),this.data_.has(this.dehanceValue_(i))},e.entries=function(){var i=this.values();return pS({next:function(){var a=i.next(),u=a.value,f=a.done;return f?{value:void 0,done:f}:{value:[u,u],done:f}}})},e.keys=function(){return this.values()},e.values=function(){this.atom_.reportObserved();var i=this,s=this.data_.values();return pS({next:function(){var u=s.next(),f=u.value,p=u.done;return p?{value:void 0,done:p}:{value:i.dehanceValue_(f),done:p}}})},e.intersection=function(i){if(Ii(i)&&!Hn(i))return i.intersection(this);var s=new Set(this);return s.intersection(i)},e.union=function(i){if(Ii(i)&&!Hn(i))return i.union(this);var s=new Set(this);return s.union(i)},e.difference=function(i){return new Set(this).difference(i)},e.symmetricDifference=function(i){if(Ii(i)&&!Hn(i))return i.symmetricDifference(this);var s=new Set(this);return s.symmetricDifference(i)},e.isSubsetOf=function(i){return new Set(this).isSubsetOf(i)},e.isSupersetOf=function(i){return new Set(this).isSupersetOf(i)},e.isDisjointFrom=function(i){if(Ii(i)&&!Hn(i))return i.isDisjointFrom(this);var s=new Set(this);return s.isDisjointFrom(i)},e.replace=function(i){var s=this;return Hn(i)&&(i=new Set(i)),Di(function(){Array.isArray(i)?(s.clear(),i.forEach(function(a){return s.add(a)})):Ii(i)?(s.clear(),i.forEach(function(a){return s.add(a)})):i!=null&&ke("Cannot initialize set from "+i)}),this},e.observe_=function(i,s){return Al(this,i)},e.intercept_=function(i){return bl(this,i)},e.toJSON=function(){return Array.from(this)},e.toString=function(){return"[object ObservableSet]"},e[Symbol.iterator]=function(){return this.values()},Ds(t,[{key:"size",get:function(){return this.atom_.reportObserved(),this.data_.size}},{key:Symbol.toStringTag,get:function(){return"Set"}}])})(),Hn=xo("ObservableSet",lA);function pS(t){return t[Symbol.toStringTag]="SetIterator",jm(t)}var mS=Object.create(null),gS="remove",uA=(function(){function t(n,i,s,a){i===void 0&&(i=new Map),a===void 0&&(a=bI),this.target_=void 0,this.values_=void 0,this.name_=void 0,this.defaultAnnotation_=void 0,this.keysAtom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.proxy_=void 0,this.isPlainObject_=void 0,this.appliedAnnotations_=void 0,this.pendingKeys_=void 0,this.target_=n,this.values_=i,this.name_=s,this.defaultAnnotation_=a,this.keysAtom_=new Mo("ObservableObject.keys"),this.isPlainObject_=ki(this.target_)}var e=t.prototype;return e.getObservablePropValue_=function(i){return this.values_.get(i).get()},e.setObservablePropValue_=function(i,s){var a=this.values_.get(i);if(a instanceof zn)return a.set(s),!0;if(Tn(this)){var u=bn(this,{type:ri,object:this.proxy_||this.target_,name:i,newValue:s});if(!u)return null;s=u.newValue}if(s=a.prepareNewValue_(s),s!==oe.UNCHANGED){var f=Vn(this),p=!1,h=f||p?{type:ri,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,oldValue:a.value_,name:i,newValue:s}:null;a.setNewValue_(s),f&&Gn(this,h)}return!0},e.get_=function(i){return oe.trackingDerivation&&!Ui(this.target_,i)&&this.has_(i),this.target_[i]},e.set_=function(i,s,a){return a===void 0&&(a=!1),Ui(this.target_,i)?this.values_.has(i)?this.setObservablePropValue_(i,s):a?Reflect.set(this.target_,i,s):(this.target_[i]=s,!0):this.extend_(i,{value:s,enumerable:!0,writable:!0,configurable:!0},this.defaultAnnotation_,a)},e.has_=function(i){if(!oe.trackingDerivation)return i in this.target_;this.pendingKeys_||(this.pendingKeys_=new Map);var s=this.pendingKeys_.get(i);return s||(s=new Co(i in this.target_,pf,"ObservableObject.key?",!1),this.pendingKeys_.set(i,s)),s.get()},e.make_=function(i,s){if(s===!0&&(s=this.defaultAnnotation_),s!==!1){if(!(i in this.target_)){var a;if((a=this.target_[ti])!=null&&a[i])return;ke(1,s.annotationType_,this.name_+"."+i.toString())}for(var u=this.target_;u&&u!==gl;){var f=kc(u,i);if(f){var p=s.make_(this,i,f,u);if(p===0)return;if(p===1)break}u=Object.getPrototypeOf(u)}yS(this,s,i)}},e.extend_=function(i,s,a,u){if(u===void 0&&(u=!1),a===!0&&(a=this.defaultAnnotation_),a===!1)return this.defineProperty_(i,s,u);var f=a.extend_(this,i,s,u);return f&&yS(this,a,i),f},e.defineProperty_=function(i,s,a){a===void 0&&(a=!1),this.keysAtom_;try{An();var u=this.delete_(i);if(!u)return u;if(Tn(this)){var f=bn(this,{object:this.proxy_||this.target_,name:i,type:To,newValue:s.value});if(!f)return null;var p=f.newValue;s.value!==p&&(s=lr({},s,{value:p}))}if(a){if(!Reflect.defineProperty(this.target_,i,s))return!1}else ii(this.target_,i,s);this.notifyPropertyAddition_(i,s.value)}finally{Cn()}return!0},e.defineObservableProperty_=function(i,s,a,u){u===void 0&&(u=!1),this.keysAtom_;try{An();var f=this.delete_(i);if(!f)return f;if(Tn(this)){var p=bn(this,{object:this.proxy_||this.target_,name:i,type:To,newValue:s});if(!p)return null;s=p.newValue}var h=vS(i),v={configurable:oe.safeDescriptors?this.isPlainObject_:!0,enumerable:!0,get:h.get,set:h.set};if(u){if(!Reflect.defineProperty(this.target_,i,v))return!1}else ii(this.target_,i,v);var _=new Co(s,a,"ObservableObject.key",!1);this.values_.set(i,_),this.notifyPropertyAddition_(i,_.value_)}finally{Cn()}return!0},e.defineComputedProperty_=function(i,s,a){a===void 0&&(a=!1),this.keysAtom_;try{An();var u=this.delete_(i);if(!u)return u;if(Tn(this)){var f=bn(this,{object:this.proxy_||this.target_,name:i,type:To,newValue:void 0});if(!f)return null}s.name||(s.name="ObservableObject.key"),s.context=this.proxy_||this.target_;var p=vS(i),h={configurable:oe.safeDescriptors?this.isPlainObject_:!0,enumerable:!1,get:p.get,set:p.set};if(a){if(!Reflect.defineProperty(this.target_,i,h))return!1}else ii(this.target_,i,h);this.values_.set(i,new zn(s)),this.notifyPropertyAddition_(i,void 0)}finally{Cn()}return!0},e.delete_=function(i,s){if(s===void 0&&(s=!1),this.keysAtom_,!Ui(this.target_,i))return!0;if(Tn(this)){var a=bn(this,{object:this.proxy_||this.target_,name:i,type:gS});if(!a)return null}try{var u;An();var f=Vn(this),p=!1,h=this.values_.get(i),v=void 0;if(!h&&(f||p)){var _;v=(_=kc(this.target_,i))==null?void 0:_.value}if(s){if(!Reflect.deleteProperty(this.target_,i))return!1}else delete this.target_[i];if(h&&(this.values_.delete(i),h instanceof Co&&(v=h.value_),Xb(h)),this.keysAtom_.reportChanged(),(u=this.pendingKeys_)==null||(u=u.get(i))==null||u.set(i in this.target_),f||p){var S={type:gS,observableKind:"object",object:this.proxy_||this.target_,debugObjectName:this.name_,oldValue:v,name:i};f&&Gn(this,S)}}finally{Cn()}return!0},e.observe_=function(i,s){return Al(this,i)},e.intercept_=function(i){return bl(this,i)},e.notifyPropertyAddition_=function(i,s){var a,u=Vn(this),f=!1;if(u||f){var p=u||f?{type:To,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,name:i,newValue:s}:null;u&&Gn(this,p)}(a=this.pendingKeys_)==null||(a=a.get(i))==null||a.set(!0),this.keysAtom_.reportChanged()},e.ownKeys_=function(){return this.keysAtom_.reportObserved(),As(this.target_)},e.keys_=function(){return this.keysAtom_.reportObserved(),Object.keys(this.target_)},t})();function vr(t,e){var n;if(Ui(t,ve))return t;var i=(n=e?.name)!=null?n:"ObservableObject",s=new uA(t,new Map,String(i),UI(e));return vl(t,ve,s),t}var xD=xo("ObservableObjectAdministration",uA);function vS(t){return mS[t]||(mS[t]={get:function(){return this[ve].getObservablePropValue_(t)},set:function(n){return this[ve].setObservablePropValue_(t,n)}})}function wl(t){return hf(t)?xD(t[ve]):!1}function yS(t,e,n){var i;(i=t.target_[ti])==null||delete i[n]}var MD=fA(0),ND=(function(){var t=!1,e={};return Object.defineProperty(e,"0",{set:function(){t=!0}}),Object.create(e)[0]=1,t===!1})(),up=0,cA=function(){};function ID(t,e){Object.setPrototypeOf?Object.setPrototypeOf(t.prototype,e):t.prototype.__proto__!==void 0?t.prototype.__proto__=e:t.prototype=e}ID(cA,Array.prototype);var Zm=(function(t){function e(i,s,a,u){var f;return a===void 0&&(a="ObservableArray"),u===void 0&&(u=!1),f=t.call(this)||this,Do(function(){var p=new Wm(a,s,u,!0);p.proxy_=f,xb(f,ve,p),i&&i.length&&f.spliceWithArray(0,0,i),ND&&Object.defineProperty(f,"0",MD)}),f}Ib(e,t);var n=e.prototype;return n.concat=function(){this[ve].atom_.reportObserved();for(var s=arguments.length,a=new Array(s),u=0;u<s;u++)a[u]=arguments[u];return Array.prototype.concat.apply(this.slice(),a.map(function(f){return Cl(f)?f.slice():f}))},n[Symbol.iterator]=function(){var i=this,s=0;return jm({next:function(){return s<i.length?{value:i[s++],done:!1}:{done:!0,value:void 0}}})},Ds(e,[{key:"length",get:function(){return this[ve].getArrayLength_()},set:function(s){this[ve].setArrayLength_(s)}},{key:Symbol.toStringTag,get:function(){return"Array"}}])})(cA);Object.entries($c).forEach(function(t){var e=t[0],n=t[1];e!=="concat"&&vl(Zm.prototype,e,n)});function fA(t){return{enumerable:!1,configurable:!0,get:function(){return this[ve].get_(t)},set:function(n){this[ve].set_(t,n)}}}function DD(t){ii(Zm.prototype,""+t,fA(t))}function dA(t){if(t>up){for(var e=up;e<t+100;e++)DD(e);up=t}}dA(1e3);function OD(t,e,n){return new Zm(t,e,n)}function zc(t,e){if(typeof t=="object"&&t!==null){if(Cl(t))return e!==void 0&&ke(23),t[ve].atom_;if(Hn(t))return t.atom_;if(Io(t)){if(e===void 0)return t.keysAtom_;var n=t.data_.get(e)||t.hasMap_.get(e);return n||ke(25,e,jp(t)),n}if(wl(t)){if(!e)return ke(26);var i=t[ve].values_.get(e);return i||ke(27,e,jp(t)),i}if(zm(t)||El(t)||qc(t))return t}else if(Fn(t)&&qc(t[ve]))return t[ve];ke(28)}function UD(t,e){if(t||ke(29),zm(t)||El(t)||qc(t)||Io(t)||Hn(t))return t;if(t[ve])return t[ve];ke(24,t)}function jp(t,e){var n;if(e!==void 0)n=zc(t,e);else{if(Cs(t))return t.name;wl(t)||Io(t)||Hn(t)?n=UD(t):n=zc(t)}return n.name_}function Do(t){var e=gr(),n=Ym(!0);An();try{return t()}finally{Cn(),Km(n),Pi(e)}}var _S=gl.toString;function hA(t,e,n){return n===void 0&&(n=-1),em(t,e,n)}function em(t,e,n,i,s){if(t===e)return t!==0||1/t===1/e;if(t==null||e==null)return!1;if(t!==t)return e!==e;var a=typeof t;if(a!=="function"&&a!=="object"&&typeof e!="object")return!1;var u=_S.call(t);if(u!==_S.call(e))return!1;switch(u){case"[object RegExp]":case"[object String]":return""+t==""+e;case"[object Number]":return+t!=+t?+e!=+e:+t==0?1/+t===1/e:+t==+e;case"[object Date]":case"[object Boolean]":return+t==+e;case"[object Symbol]":return typeof Symbol<"u"&&Symbol.valueOf.call(t)===Symbol.valueOf.call(e);case"[object Map]":case"[object Set]":n>=0&&n++;break}t=SS(t),e=SS(e);var f=u==="[object Array]";if(!f){if(typeof t!="object"||typeof e!="object")return!1;var p=t.constructor,h=e.constructor;if(p!==h&&!(Fn(p)&&p instanceof p&&Fn(h)&&h instanceof h)&&"constructor"in t&&"constructor"in e)return!1}if(n===0)return!1;n<0&&(n=-1),i=i||[],s=s||[];for(var v=i.length;v--;)if(i[v]===t)return s[v]===e;if(i.push(t),s.push(e),f){if(v=t.length,v!==e.length)return!1;for(;v--;)if(!em(t[v],e[v],n-1,i,s))return!1}else{var _=Object.keys(t),S=_.length;if(Object.keys(e).length!==S)return!1;for(var T=0;T<S;T++){var A=_[T];if(!(Ui(e,A)&&em(t[A],e[A],n-1,i,s)))return!1}}return i.pop(),s.pop(),!0}function SS(t){return Cl(t)?t.slice():Is(t)||Io(t)||Ii(t)||Hn(t)?Array.from(t.entries()):t}var ES,PD=((ES=df().Iterator)==null?void 0:ES.prototype)||{};function jm(t){return t[Symbol.iterator]=LD,Object.assign(Object.create(PD),t)}function LD(){return this}["Symbol","Map","Set"].forEach(function(t){var e=df();typeof e[t]>"u"&&ke("MobX requires global '"+t+"' to be available or polyfilled")});typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__=="object"&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:ZI,extras:{getDebugName:jp},$mobx:ve});if(!x.useState)throw new Error("mobx-react-lite requires React with Hooks support");if(!SD)throw new Error("mobx-react-lite@3 requires mobx at least version 6 to be available");var pA=Tb();const _s=ml(pA);function kD(t){t()}function BD(t){t||(t=kD),fD({reactionScheduler:t})}function HD(t){return dD(t)}var VD=1e4,GD=1e4,qD=(function(){function t(e){var n=this;Object.defineProperty(this,"finalize",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"registrations",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),Object.defineProperty(this,"sweepTimeout",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sweep",{enumerable:!0,configurable:!0,writable:!0,value:function(i){i===void 0&&(i=VD),clearTimeout(n.sweepTimeout),n.sweepTimeout=void 0;var s=Date.now();n.registrations.forEach(function(a,u){s-a.registeredAt>=i&&(n.finalize(a.value),n.registrations.delete(u))}),n.registrations.size>0&&n.scheduleSweep()}}),Object.defineProperty(this,"finalizeAllImmediately",{enumerable:!0,configurable:!0,writable:!0,value:function(){n.sweep(0)}})}return Object.defineProperty(t.prototype,"register",{enumerable:!1,configurable:!0,writable:!0,value:function(e,n,i){this.registrations.set(i,{value:n,registeredAt:Date.now()}),this.scheduleSweep()}}),Object.defineProperty(t.prototype,"unregister",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this.registrations.delete(e)}}),Object.defineProperty(t.prototype,"scheduleSweep",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.sweepTimeout===void 0&&(this.sweepTimeout=setTimeout(this.sweep,GD))}}),t})(),$D=typeof FinalizationRegistry<"u"?FinalizationRegistry:qD,tm=new $D(function(t){var e;(e=t.reaction)===null||e===void 0||e.dispose(),t.reaction=null}),cp={exports:{}},fp={};var TS;function FD(){if(TS)return fp;TS=1;var t=ff();function e(_,S){return _===S&&(_!==0||1/_===1/S)||_!==_&&S!==S}var n=typeof Object.is=="function"?Object.is:e,i=t.useState,s=t.useEffect,a=t.useLayoutEffect,u=t.useDebugValue;function f(_,S){var T=S(),A=i({inst:{value:T,getSnapshot:S}}),w=A[0].inst,R=A[1];return a(function(){w.value=T,w.getSnapshot=S,p(w)&&R({inst:w})},[_,T,S]),s(function(){return p(w)&&R({inst:w}),_(function(){p(w)&&R({inst:w})})},[_]),u(T),T}function p(_){var S=_.getSnapshot;_=_.value;try{var T=S();return!n(_,T)}catch{return!0}}function h(_,S){return S()}var v=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?h:f;return fp.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:v,fp}var bS;function zD(){return bS||(bS=1,cp.exports=FD()),cp.exports}var JD=zD();function AS(t){t.reaction=new Bi("observer".concat(t.name),function(){var e;t.stateVersion=Symbol(),(e=t.onStoreChange)===null||e===void 0||e.call(t)})}function YD(t,e){e===void 0&&(e="observed");var n=_t.useRef(null);if(!n.current){var i={reaction:null,onStoreChange:null,stateVersion:Symbol(),name:e,subscribe:function(f){return tm.unregister(i),i.onStoreChange=f,i.reaction||(AS(i),i.stateVersion=Symbol()),function(){var p;i.onStoreChange=null,(p=i.reaction)===null||p===void 0||p.dispose(),i.reaction=null}},getSnapshot:function(){return i.stateVersion}};n.current=i}var s=n.current;s.reaction||(AS(s),tm.register(n,s,s)),_t.useDebugValue(s.reaction,HD),JD.useSyncExternalStore(s.subscribe,s.getSnapshot,s.getSnapshot);var a,u;if(s.reaction.track(function(){try{a=t()}catch(f){u=f}}),u)throw u;return a}var dp,hp,mA=typeof Symbol=="function"&&Symbol.for,KD=(hp=(dp=Object.getOwnPropertyDescriptor(function(){},"name"))===null||dp===void 0?void 0:dp.configurable)!==null&&hp!==void 0?hp:!1,CS=mA?Symbol.for("react.forward_ref"):typeof x.forwardRef=="function"&&x.forwardRef(function(t){return null}).$$typeof,wS=mA?Symbol.for("react.memo"):typeof x.memo=="function"&&x.memo(function(t){return null}).$$typeof;function kt(t,e){var n;if(wS&&t.$$typeof===wS)throw new Error("[mobx-react-lite] You are trying to use `observer` on a function component wrapped in either another `observer` or `React.memo`. The observer already applies 'React.memo' for you.");var i=(n=void 0)!==null&&n!==void 0?n:!1,s=t,a=t.displayName||t.name;if(CS&&t.$$typeof===CS&&(i=!0,s=t.render,typeof s!="function"))throw new Error("[mobx-react-lite] `render` property of ForwardRef was not a function");var u=function(f,p){return YD(function(){return s(f,p)},a)};return u.displayName=t.displayName,KD&&Object.defineProperty(u,"name",{value:t.name,writable:!0,configurable:!0}),t.contextTypes&&(u.contextTypes=t.contextTypes),i&&(u=x.forwardRef(u)),u=x.memo(u),QD(t,u),u}var XD={$$typeof:!0,render:!0,compare:!0,type:!0,displayName:!0};function QD(t,e){Object.keys(t).forEach(function(n){XD[n]||Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}var pp;BD(pA.unstable_batchedUpdates);pp=tm.finalizeAllImmediately;var mp={exports:{}};var RS;function WD(){return RS||(RS=1,(function(t){(function(){var e={}.hasOwnProperty;function n(){for(var a="",u=0;u<arguments.length;u++){var f=arguments[u];f&&(a=s(a,i(f)))}return a}function i(a){if(typeof a=="string"||typeof a=="number")return a;if(typeof a!="object")return"";if(Array.isArray(a))return n.apply(null,a);if(a.toString!==Object.prototype.toString&&!a.toString.toString().includes("[native code]"))return a.toString();var u="";for(var f in a)e.call(a,f)&&a[f]&&(u=s(u,f));return u}function s(a,u){return u?a?a+" "+u:a+u:a}t.exports?(n.default=n,t.exports=n):window.classNames=n})()})(mp)),mp.exports}var ZD=WD();const Re=ml(ZD);function nm(){return nm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},nm.apply(null,arguments)}function gA(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)!==-1)continue;n[i]=t[i]}return n}function xS(t){return"default"+t.charAt(0).toUpperCase()+t.substr(1)}function jD(t){var e=e1(t,"string");return typeof e=="symbol"?e:String(e)}function e1(t,e){if(typeof t!="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function t1(t,e,n){var i=x.useRef(t!==void 0),s=x.useState(e),a=s[0],u=s[1],f=t!==void 0,p=i.current;return i.current=f,!f&&p&&a!==e&&u(e),[f?t:a,x.useCallback(function(h){for(var v=arguments.length,_=new Array(v>1?v-1:0),S=1;S<v;S++)_[S-1]=arguments[S];n&&n.apply(void 0,[h].concat(_)),u(h)},[n])]}function eg(t,e){return Object.keys(e).reduce(function(n,i){var s,a=n,u=a[xS(i)],f=a[i],p=gA(a,[xS(i),i].map(jD)),h=e[i],v=t1(f,u,t[h]),_=v[0],S=v[1];return nm({},p,(s={},s[i]=_,s[h]=S,s))},t)}function im(t,e){return im=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},im(t,e)}function n1(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,im(t,e)}const i1=["xxl","xl","lg","md","sm","xs"],o1="xs",Rl=x.createContext({prefixes:{},breakpoints:i1,minBreakpoint:o1}),{Consumer:b$,Provider:A$}=Rl;function Le(t,e){const{prefixes:n}=x.useContext(Rl);return t||n[e]||e}function vA(){const{breakpoints:t}=x.useContext(Rl);return t}function yA(){const{minBreakpoint:t}=x.useContext(Rl);return t}function r1(){const{dir:t}=x.useContext(Rl);return t==="rtl"}function vf(t){return t&&t.ownerDocument||document}function s1(t){var e=vf(t);return e&&e.defaultView||window}function a1(t,e){return s1(t).getComputedStyle(t,e)}var l1=/([A-Z])/g;function u1(t){return t.replace(l1,"-$1").toLowerCase()}var c1=/^ms-/;function rc(t){return u1(t).replace(c1,"-ms-")}var f1=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function d1(t){return!!(t&&f1.test(t))}function Li(t,e){var n="",i="";if(typeof e=="string")return t.style.getPropertyValue(rc(e))||a1(t).getPropertyValue(rc(e));Object.keys(e).forEach(function(s){var a=e[s];!a&&a!==0?t.style.removeProperty(rc(s)):d1(s)?i+=s+"("+a+") ":n+=rc(s)+": "+a+";"}),i&&(n+="transform: "+i+";"),t.style.cssText+=";"+n}var gp={exports:{}},vp,MS;function h1(){if(MS)return vp;MS=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return vp=t,vp}var yp,NS;function p1(){if(NS)return yp;NS=1;var t=h1();function e(){}function n(){}return n.resetWarningCache=e,yp=function(){function i(u,f,p,h,v,_){if(_!==t){var S=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw S.name="Invariant Violation",S}}i.isRequired=i;function s(){return i}var a={array:i,bigint:i,bool:i,func:i,number:i,object:i,string:i,symbol:i,any:i,arrayOf:s,element:i,elementType:i,instanceOf:s,node:i,objectOf:s,oneOf:s,oneOfType:s,shape:s,exact:s,checkPropTypes:n,resetWarningCache:e};return a.PropTypes=a,a},yp}var IS;function m1(){return IS||(IS=1,gp.exports=p1()()),gp.exports}var g1=m1();const _p=ml(g1),DS={disabled:!1},_A=_t.createContext(null);var v1=function(e){return e.scrollTop},Ga="unmounted",Eo="exited",Bn="entering",Oi="entered",ul="exiting",Gi=(function(t){n1(e,t);function e(i,s){var a;a=t.call(this,i,s)||this;var u=s,f=u&&!u.isMounting?i.enter:i.appear,p;return a.appearStatus=null,i.in?f?(p=Eo,a.appearStatus=Bn):p=Oi:i.unmountOnExit||i.mountOnEnter?p=Ga:p=Eo,a.state={status:p},a.nextCallback=null,a}e.getDerivedStateFromProps=function(s,a){var u=s.in;return u&&a.status===Ga?{status:Eo}:null};var n=e.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(s){var a=null;if(s!==this.props){var u=this.state.status;this.props.in?u!==Bn&&u!==Oi&&(a=Bn):(u===Bn||u===Oi)&&(a=ul)}this.updateStatus(!1,a)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var s=this.props.timeout,a,u,f;return a=u=f=s,s!=null&&typeof s!="number"&&(a=s.exit,u=s.enter,f=s.appear!==void 0?s.appear:u),{exit:a,enter:u,appear:f}},n.updateStatus=function(s,a){if(s===void 0&&(s=!1),a!==null)if(this.cancelNextCallback(),a===Bn){if(this.props.unmountOnExit||this.props.mountOnEnter){var u=this.props.nodeRef?this.props.nodeRef.current:_s.findDOMNode(this);u&&v1(u)}this.performEnter(s)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Eo&&this.setState({status:Ga})},n.performEnter=function(s){var a=this,u=this.props.enter,f=this.context?this.context.isMounting:s,p=this.props.nodeRef?[f]:[_s.findDOMNode(this),f],h=p[0],v=p[1],_=this.getTimeouts(),S=f?_.appear:_.enter;if(!s&&!u||DS.disabled){this.safeSetState({status:Oi},function(){a.props.onEntered(h)});return}this.props.onEnter(h,v),this.safeSetState({status:Bn},function(){a.props.onEntering(h,v),a.onTransitionEnd(S,function(){a.safeSetState({status:Oi},function(){a.props.onEntered(h,v)})})})},n.performExit=function(){var s=this,a=this.props.exit,u=this.getTimeouts(),f=this.props.nodeRef?void 0:_s.findDOMNode(this);if(!a||DS.disabled){this.safeSetState({status:Eo},function(){s.props.onExited(f)});return}this.props.onExit(f),this.safeSetState({status:ul},function(){s.props.onExiting(f),s.onTransitionEnd(u.exit,function(){s.safeSetState({status:Eo},function(){s.props.onExited(f)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(s,a){a=this.setNextCallback(a),this.setState(s,a)},n.setNextCallback=function(s){var a=this,u=!0;return this.nextCallback=function(f){u&&(u=!1,a.nextCallback=null,s(f))},this.nextCallback.cancel=function(){u=!1},this.nextCallback},n.onTransitionEnd=function(s,a){this.setNextCallback(a);var u=this.props.nodeRef?this.props.nodeRef.current:_s.findDOMNode(this),f=s==null&&!this.props.addEndListener;if(!u||f){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var p=this.props.nodeRef?[this.nextCallback]:[u,this.nextCallback],h=p[0],v=p[1];this.props.addEndListener(h,v)}s!=null&&setTimeout(this.nextCallback,s)},n.render=function(){var s=this.state.status;if(s===Ga)return null;var a=this.props,u=a.children;a.in,a.mountOnEnter,a.unmountOnExit,a.appear,a.enter,a.exit,a.timeout,a.addEndListener,a.onEnter,a.onEntering,a.onEntered,a.onExit,a.onExiting,a.onExited,a.nodeRef;var f=gA(a,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return _t.createElement(_A.Provider,{value:null},typeof u=="function"?u(s,f):_t.cloneElement(_t.Children.only(u),f))},e})(_t.Component);Gi.contextType=_A;Gi.propTypes={};function rs(){}Gi.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:rs,onEntering:rs,onEntered:rs,onExit:rs,onExiting:rs,onExited:rs};Gi.UNMOUNTED=Ga;Gi.EXITED=Eo;Gi.ENTERING=Bn;Gi.ENTERED=Oi;Gi.EXITING=ul;function y1(t){return t.code==="Escape"||t.keyCode===27}function _1(){const t=x.version.split(".");return{major:+t[0],minor:+t[1],patch:+t[2]}}function Os(t){if(!t||typeof t=="function")return null;const{major:e}=_1();return e>=19?t.props.ref:t.ref}const yf=!!(typeof window<"u"&&window.document&&window.document.createElement);var om=!1,rm=!1;try{var Sp={get passive(){return om=!0},get once(){return rm=om=!0}};yf&&(window.addEventListener("test",Sp,Sp),window.removeEventListener("test",Sp,!0))}catch{}function SA(t,e,n,i){if(i&&typeof i!="boolean"&&!rm){var s=i.once,a=i.capture,u=n;!rm&&s&&(u=n.__once||function f(p){this.removeEventListener(e,f,a),n.call(this,p)},n.__once=u),t.addEventListener(e,u,om?i:a)}t.addEventListener(e,n,i)}function S1(t,e,n,i){var s=i&&typeof i!="boolean"?i.capture:i;t.removeEventListener(e,n,s),n.__once&&t.removeEventListener(e,n.__once,s)}function bo(t,e,n,i){return SA(t,e,n,i),function(){S1(t,e,n,i)}}function E1(t,e,n,i){if(i===void 0&&(i=!0),t){var s=document.createEvent("HTMLEvents");s.initEvent(e,n,i),t.dispatchEvent(s)}}function T1(t){var e=Li(t,"transitionDuration")||"",n=e.indexOf("ms")===-1?1e3:1;return parseFloat(e)*n}function b1(t,e,n){n===void 0&&(n=5);var i=!1,s=setTimeout(function(){i||E1(t,"transitionend",!0)},e+n),a=bo(t,"transitionend",function(){i=!0},{once:!0});return function(){clearTimeout(s),a()}}function A1(t,e,n,i){n==null&&(n=T1(t)||0);var s=b1(t,n,i),a=bo(t,"transitionend",e);return function(){s(),a()}}function OS(t,e){const n=Li(t,e)||"",i=n.indexOf("ms")===-1?1e3:1;return parseFloat(n)*i}function tg(t,e){const n=OS(t,"transitionDuration"),i=OS(t,"transitionDelay"),s=A1(t,a=>{a.target===t&&(s(),e(a))},n+i)}function ka(...t){return t.filter(e=>e!=null).reduce((e,n)=>{if(typeof n!="function")throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return e===null?n:function(...s){e.apply(this,s),n.apply(this,s)}},null)}function EA(t){t.offsetHeight}const US=t=>!t||typeof t=="function"?t:e=>{t.current=e};function C1(t,e){const n=US(t),i=US(e);return s=>{n&&n(s),i&&i(s)}}function ng(t,e){return x.useMemo(()=>C1(t,e),[t,e])}function w1(t){return t&&"setState"in t?_s.findDOMNode(t):t??null}const _f=_t.forwardRef(({onEnter:t,onEntering:e,onEntered:n,onExit:i,onExiting:s,onExited:a,addEndListener:u,children:f,childRef:p,...h},v)=>{const _=x.useRef(null),S=ng(_,p),T=$=>{S(w1($))},A=$=>V=>{$&&_.current&&$(_.current,V)},w=x.useCallback(A(t),[t]),R=x.useCallback(A(e),[e]),D=x.useCallback(A(n),[n]),U=x.useCallback(A(i),[i]),O=x.useCallback(A(s),[s]),L=x.useCallback(A(a),[a]),z=x.useCallback(A(u),[u]);return C.jsx(Gi,{ref:v,...h,onEnter:w,onEntered:D,onEntering:R,onExit:U,onExited:L,onExiting:O,addEndListener:z,nodeRef:_,children:typeof f=="function"?($,V)=>f($,{...V,ref:T}):_t.cloneElement(f,{ref:T})})});_f.displayName="TransitionWrapper";const R1={height:["marginTop","marginBottom"],width:["marginLeft","marginRight"]};function x1(t,e){const n=`offset${t[0].toUpperCase()}${t.slice(1)}`,i=e[n],s=R1[t];return i+parseInt(Li(e,s[0]),10)+parseInt(Li(e,s[1]),10)}const M1={[Eo]:"collapse",[ul]:"collapsing",[Bn]:"collapsing",[Oi]:"collapse show"},TA=_t.forwardRef(({onEnter:t,onEntering:e,onEntered:n,onExit:i,onExiting:s,className:a,children:u,dimension:f="height",in:p=!1,timeout:h=300,mountOnEnter:v=!1,unmountOnExit:_=!1,appear:S=!1,getDimensionValue:T=x1,...A},w)=>{const R=typeof f=="function"?f():f,D=x.useMemo(()=>ka($=>{$.style[R]="0"},t),[R,t]),U=x.useMemo(()=>ka($=>{const V=`scroll${R[0].toUpperCase()}${R.slice(1)}`;$.style[R]=`${$[V]}px`},e),[R,e]),O=x.useMemo(()=>ka($=>{$.style[R]=null},n),[R,n]),L=x.useMemo(()=>ka($=>{$.style[R]=`${T(R,$)}px`,EA($)},i),[i,T,R]),z=x.useMemo(()=>ka($=>{$.style[R]=null},s),[R,s]);return C.jsx(_f,{ref:w,addEndListener:tg,...A,"aria-expanded":A.role?p:null,onEnter:D,onEntering:U,onEntered:O,onExit:L,onExiting:z,childRef:Os(u),in:p,timeout:h,mountOnEnter:v,unmountOnExit:_,appear:S,children:($,V)=>_t.cloneElement(u,{...V,className:Re(a,u.props.className,M1[$],R==="width"&&"collapse-horizontal")})})});TA.displayName="Collapse";function N1(t){const e=x.useRef(t);return x.useEffect(()=>{e.current=t},[t]),e}function xl(t){const e=N1(t);return x.useCallback(function(...n){return e.current&&e.current(...n)},[e])}const ig=(t=>x.forwardRef((e,n)=>C.jsx("div",{...e,ref:n,className:Re(e.className,t)})));function I1(){return x.useState(null)}function D1(t){const e=x.useRef(t);return x.useEffect(()=>{e.current=t},[t]),e}function It(t){const e=D1(t);return x.useCallback(function(...n){return e.current&&e.current(...n)},[e])}function O1(t,e,n,i=!1){const s=It(n);x.useEffect(()=>{const a=typeof t=="function"?t():t;return a.addEventListener(e,s,i),()=>a.removeEventListener(e,s,i)},[t])}function bA(){const t=x.useRef(!0),e=x.useRef(()=>t.current);return x.useEffect(()=>(t.current=!0,()=>{t.current=!1}),[]),e.current}function AA(t){const e=x.useRef(null);return x.useEffect(()=>{e.current=t}),e.current}const U1=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",P1=typeof document<"u",PS=P1||U1?x.useLayoutEffect:x.useEffect,L1=["as","disabled"];function k1(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)>=0)continue;n[i]=t[i]}return n}function B1(t){return!t||t.trim()==="#"}function og({tagName:t,disabled:e,href:n,target:i,rel:s,role:a,onClick:u,tabIndex:f=0,type:p}){t||(n!=null||i!=null||s!=null?t="a":t="button");const h={tagName:t};if(t==="button")return[{type:p||"button",disabled:e},h];const v=S=>{if((e||t==="a"&&B1(n))&&S.preventDefault(),e){S.stopPropagation();return}u?.(S)},_=S=>{S.key===" "&&(S.preventDefault(),v(S))};return t==="a"&&(n||(n="#"),e&&(n=void 0)),[{role:a??"button",disabled:void 0,tabIndex:e?void 0:f,href:n,target:t==="a"?i:void 0,"aria-disabled":e||void 0,rel:t==="a"?s:void 0,onClick:v,onKeyDown:_},h]}const rg=x.forwardRef((t,e)=>{let{as:n,disabled:i}=t,s=k1(t,L1);const[a,{tagName:u}]=og(Object.assign({tagName:n,disabled:i},s));return C.jsx(u,Object.assign({},s,a,{ref:e}))});rg.displayName="Button";const H1=["onKeyDown"];function V1(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)>=0)continue;n[i]=t[i]}return n}function G1(t){return!t||t.trim()==="#"}const sg=x.forwardRef((t,e)=>{let{onKeyDown:n}=t,i=V1(t,H1);const[s]=og(Object.assign({tagName:"a"},i)),a=It(u=>{s.onKeyDown(u),n?.(u)});return G1(i.href)||i.role==="button"?C.jsx("a",Object.assign({ref:e},i,s,{onKeyDown:a})):C.jsx("a",Object.assign({ref:e},i,{onKeyDown:n}))});sg.displayName="Anchor";const q1={[Bn]:"show",[Oi]:"show"},CA=x.forwardRef(({className:t,children:e,transitionClasses:n={},onEnter:i,...s},a)=>{const u={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,...s},f=x.useCallback((p,h)=>{EA(p),i?.(p,h)},[i]);return C.jsx(_f,{ref:a,addEndListener:tg,...u,onEnter:f,childRef:Os(e),children:(p,h)=>x.cloneElement(e,{...h,className:Re("fade",t,e.props.className,q1[p],n[p])})})});CA.displayName="Fade";const $1={"aria-label":_p.string,onClick:_p.func,variant:_p.oneOf(["white"])},ag=x.forwardRef(({className:t,variant:e,"aria-label":n="Close",...i},s)=>C.jsx("button",{ref:s,type:"button",className:Re("btn-close",e&&`btn-close-${e}`,t),"aria-label":n,...i}));ag.displayName="CloseButton";ag.propTypes=$1;const wA=x.forwardRef(({as:t,bsPrefix:e,variant:n="primary",size:i,active:s=!1,disabled:a=!1,className:u,...f},p)=>{const h=Le(e,"btn"),[v,{tagName:_}]=og({tagName:t,disabled:a,...f}),S=_;return C.jsx(S,{...v,...f,ref:p,disabled:a,className:Re(u,h,s&&"active",n&&`${h}-${n}`,i&&`${h}-${i}`,f.href&&a&&"disabled")})});wA.displayName="Button";const lg=x.forwardRef(({className:t,bsPrefix:e,as:n="div",...i},s)=>(e=Le(e,"card-body"),C.jsx(n,{ref:s,className:Re(t,e),...i})));lg.displayName="CardBody";const RA=x.forwardRef(({className:t,bsPrefix:e,as:n="div",...i},s)=>(e=Le(e,"card-footer"),C.jsx(n,{ref:s,className:Re(t,e),...i})));RA.displayName="CardFooter";const ug=x.createContext(null);ug.displayName="CardHeaderContext";const xA=x.forwardRef(({bsPrefix:t,className:e,as:n="div",...i},s)=>{const a=Le(t,"card-header"),u=x.useMemo(()=>({cardHeaderBsPrefix:a}),[a]);return C.jsx(ug.Provider,{value:u,children:C.jsx(n,{ref:s,...i,className:Re(e,a)})})});xA.displayName="CardHeader";const MA=x.forwardRef(({bsPrefix:t,className:e,variant:n,as:i="img",...s},a)=>{const u=Le(t,"card-img");return C.jsx(i,{ref:a,className:Re(n?`${u}-${n}`:u,e),...s})});MA.displayName="CardImg";const NA=x.forwardRef(({className:t,bsPrefix:e,as:n="div",...i},s)=>(e=Le(e,"card-img-overlay"),C.jsx(n,{ref:s,className:Re(t,e),...i})));NA.displayName="CardImgOverlay";const IA=x.forwardRef(({className:t,bsPrefix:e,as:n="a",...i},s)=>(e=Le(e,"card-link"),C.jsx(n,{ref:s,className:Re(t,e),...i})));IA.displayName="CardLink";const F1=ig("h6"),DA=x.forwardRef(({className:t,bsPrefix:e,as:n=F1,...i},s)=>(e=Le(e,"card-subtitle"),C.jsx(n,{ref:s,className:Re(t,e),...i})));DA.displayName="CardSubtitle";const OA=x.forwardRef(({className:t,bsPrefix:e,as:n="p",...i},s)=>(e=Le(e,"card-text"),C.jsx(n,{ref:s,className:Re(t,e),...i})));OA.displayName="CardText";const z1=ig("h5"),UA=x.forwardRef(({className:t,bsPrefix:e,as:n=z1,...i},s)=>(e=Le(e,"card-title"),C.jsx(n,{ref:s,className:Re(t,e),...i})));UA.displayName="CardTitle";const PA=x.forwardRef(({bsPrefix:t,className:e,bg:n,text:i,border:s,body:a=!1,children:u,as:f="div",...p},h)=>{const v=Le(t,"card");return C.jsx(f,{ref:h,...p,className:Re(e,v,n&&`bg-${n}`,i&&`text-${i}`,s&&`border-${s}`),children:a?C.jsx(lg,{children:u}):u})});PA.displayName="Card";const sc=Object.assign(PA,{Img:MA,Title:UA,Subtitle:DA,Body:lg,Link:IA,Text:OA,Header:xA,Footer:RA,ImgOverlay:NA});function J1({as:t,bsPrefix:e,className:n,...i}){e=Le(e,"col");const s=vA(),a=yA(),u=[],f=[];return s.forEach(p=>{const h=i[p];delete i[p];let v,_,S;typeof h=="object"&&h!=null?{span:v,offset:_,order:S}=h:v=h;const T=p!==a?`-${p}`:"";v&&u.push(v===!0?`${e}${T}`:`${e}${T}-${v}`),S!=null&&f.push(`order${T}-${S}`),_!=null&&f.push(`offset${T}-${_}`)}),[{...i,className:Re(n,...u,...f)},{as:t,bsPrefix:e,spans:u}]}const LA=x.forwardRef((t,e)=>{const[{className:n,...i},{as:s="div",bsPrefix:a,spans:u}]=J1(t);return C.jsx(s,{...i,ref:e,className:Re(n,!u.length&&a)})});LA.displayName="Col";const kA=x.forwardRef(({bsPrefix:t,fluid:e=!1,as:n="div",className:i,...s},a)=>{const u=Le(t,"container"),f=typeof e=="string"?`-${e}`:"-fluid";return C.jsx(n,{ref:a,...s,className:Re(i,e?`${u}${f}`:u)})});kA.displayName="Container";var Y1=Function.prototype.bind.call(Function.prototype.call,[].slice);function Ni(t,e){return Y1(t.querySelectorAll(e))}function K1(t,e,n){const i=x.useRef(t!==void 0),[s,a]=x.useState(e),u=t!==void 0,f=i.current;return i.current=u,!u&&f&&s!==e&&a(e),[u?t:s,x.useCallback((...p)=>{const[h,...v]=p;let _=n?.(h,...v);return a(h),_},[n])]}function BA(){const[,t]=x.useReducer(e=>e+1,0);return t}const Sf=x.createContext(null);var LS=Object.prototype.hasOwnProperty;function kS(t,e,n){for(n of t.keys())if(tl(n,e))return n}function tl(t,e){var n,i,s;if(t===e)return!0;if(t&&e&&(n=t.constructor)===e.constructor){if(n===Date)return t.getTime()===e.getTime();if(n===RegExp)return t.toString()===e.toString();if(n===Array){if((i=t.length)===e.length)for(;i--&&tl(t[i],e[i]););return i===-1}if(n===Set){if(t.size!==e.size)return!1;for(i of t)if(s=i,s&&typeof s=="object"&&(s=kS(e,s),!s)||!e.has(s))return!1;return!0}if(n===Map){if(t.size!==e.size)return!1;for(i of t)if(s=i[0],s&&typeof s=="object"&&(s=kS(e,s),!s)||!tl(i[1],e.get(s)))return!1;return!0}if(n===ArrayBuffer)t=new Uint8Array(t),e=new Uint8Array(e);else if(n===DataView){if((i=t.byteLength)===e.byteLength)for(;i--&&t.getInt8(i)===e.getInt8(i););return i===-1}if(ArrayBuffer.isView(t)){if((i=t.byteLength)===e.byteLength)for(;i--&&t[i]===e[i];);return i===-1}if(!n||typeof t=="object"){i=0;for(n in t)if(LS.call(t,n)&&++i&&!LS.call(e,n)||!(n in e)||!tl(t[n],e[n]))return!1;return Object.keys(e).length===i}}return t!==t&&e!==e}function X1(t){const e=bA();return[t[0],x.useCallback(n=>{if(e())return t[1](n)},[e,t[1]])]}var Yt="top",xn="bottom",Mn="right",Kt="left",cg="auto",Ml=[Yt,xn,Mn,Kt],Rs="start",cl="end",Q1="clippingParents",HA="viewport",Ba="popper",W1="reference",BS=Ml.reduce(function(t,e){return t.concat([e+"-"+Rs,e+"-"+cl])},[]),VA=[].concat(Ml,[cg]).reduce(function(t,e){return t.concat([e,e+"-"+Rs,e+"-"+cl])},[]),Z1="beforeRead",j1="read",eO="afterRead",tO="beforeMain",nO="main",iO="afterMain",oO="beforeWrite",rO="write",sO="afterWrite",aO=[Z1,j1,eO,tO,nO,iO,oO,rO,sO];function si(t){return t.split("-")[0]}function cn(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function fr(t){var e=cn(t).Element;return t instanceof e||t instanceof Element}function ai(t){var e=cn(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function fg(t){if(typeof ShadowRoot>"u")return!1;var e=cn(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}var rr=Math.max,Jc=Math.min,xs=Math.round;function sm(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function GA(){return!/^((?!chrome|android).)*safari/i.test(sm())}function Ms(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!1);var i=t.getBoundingClientRect(),s=1,a=1;e&&ai(t)&&(s=t.offsetWidth>0&&xs(i.width)/t.offsetWidth||1,a=t.offsetHeight>0&&xs(i.height)/t.offsetHeight||1);var u=fr(t)?cn(t):window,f=u.visualViewport,p=!GA()&&n,h=(i.left+(p&&f?f.offsetLeft:0))/s,v=(i.top+(p&&f?f.offsetTop:0))/a,_=i.width/s,S=i.height/a;return{width:_,height:S,top:v,right:h+_,bottom:v+S,left:h,x:h,y:v}}function dg(t){var e=Ms(t),n=t.offsetWidth,i=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-i)<=1&&(i=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:i}}function qA(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&fg(n)){var i=e;do{if(i&&t.isSameNode(i))return!0;i=i.parentNode||i.host}while(i)}return!1}function Ro(t){return t?(t.nodeName||"").toLowerCase():null}function Hi(t){return cn(t).getComputedStyle(t)}function lO(t){return["table","td","th"].indexOf(Ro(t))>=0}function Oo(t){return((fr(t)?t.ownerDocument:t.document)||window.document).documentElement}function Ef(t){return Ro(t)==="html"?t:t.assignedSlot||t.parentNode||(fg(t)?t.host:null)||Oo(t)}function HS(t){return!ai(t)||Hi(t).position==="fixed"?null:t.offsetParent}function uO(t){var e=/firefox/i.test(sm()),n=/Trident/i.test(sm());if(n&&ai(t)){var i=Hi(t);if(i.position==="fixed")return null}var s=Ef(t);for(fg(s)&&(s=s.host);ai(s)&&["html","body"].indexOf(Ro(s))<0;){var a=Hi(s);if(a.transform!=="none"||a.perspective!=="none"||a.contain==="paint"||["transform","perspective"].indexOf(a.willChange)!==-1||e&&a.willChange==="filter"||e&&a.filter&&a.filter!=="none")return s;s=s.parentNode}return null}function Nl(t){for(var e=cn(t),n=HS(t);n&&lO(n)&&Hi(n).position==="static";)n=HS(n);return n&&(Ro(n)==="html"||Ro(n)==="body"&&Hi(n).position==="static")?e:n||uO(t)||e}function hg(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function nl(t,e,n){return rr(t,Jc(e,n))}function cO(t,e,n){var i=nl(t,e,n);return i>n?n:i}function $A(){return{top:0,right:0,bottom:0,left:0}}function FA(t){return Object.assign({},$A(),t)}function zA(t,e){return e.reduce(function(n,i){return n[i]=t,n},{})}var fO=function(e,n){return e=typeof e=="function"?e(Object.assign({},n.rects,{placement:n.placement})):e,FA(typeof e!="number"?e:zA(e,Ml))};function dO(t){var e,n=t.state,i=t.name,s=t.options,a=n.elements.arrow,u=n.modifiersData.popperOffsets,f=si(n.placement),p=hg(f),h=[Kt,Mn].indexOf(f)>=0,v=h?"height":"width";if(!(!a||!u)){var _=fO(s.padding,n),S=dg(a),T=p==="y"?Yt:Kt,A=p==="y"?xn:Mn,w=n.rects.reference[v]+n.rects.reference[p]-u[p]-n.rects.popper[v],R=u[p]-n.rects.reference[p],D=Nl(a),U=D?p==="y"?D.clientHeight||0:D.clientWidth||0:0,O=w/2-R/2,L=_[T],z=U-S[v]-_[A],$=U/2-S[v]/2+O,V=nl(L,$,z),W=p;n.modifiersData[i]=(e={},e[W]=V,e.centerOffset=V-$,e)}}function hO(t){var e=t.state,n=t.options,i=n.element,s=i===void 0?"[data-popper-arrow]":i;s!=null&&(typeof s=="string"&&(s=e.elements.popper.querySelector(s),!s)||qA(e.elements.popper,s)&&(e.elements.arrow=s))}const pO={name:"arrow",enabled:!0,phase:"main",fn:dO,effect:hO,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Ns(t){return t.split("-")[1]}var mO={top:"auto",right:"auto",bottom:"auto",left:"auto"};function gO(t,e){var n=t.x,i=t.y,s=e.devicePixelRatio||1;return{x:xs(n*s)/s||0,y:xs(i*s)/s||0}}function VS(t){var e,n=t.popper,i=t.popperRect,s=t.placement,a=t.variation,u=t.offsets,f=t.position,p=t.gpuAcceleration,h=t.adaptive,v=t.roundOffsets,_=t.isFixed,S=u.x,T=S===void 0?0:S,A=u.y,w=A===void 0?0:A,R=typeof v=="function"?v({x:T,y:w}):{x:T,y:w};T=R.x,w=R.y;var D=u.hasOwnProperty("x"),U=u.hasOwnProperty("y"),O=Kt,L=Yt,z=window;if(h){var $=Nl(n),V="clientHeight",W="clientWidth";if($===cn(n)&&($=Oo(n),Hi($).position!=="static"&&f==="absolute"&&(V="scrollHeight",W="scrollWidth")),$=$,s===Yt||(s===Kt||s===Mn)&&a===cl){L=xn;var Q=_&&$===z&&z.visualViewport?z.visualViewport.height:$[V];w-=Q-i.height,w*=p?1:-1}if(s===Kt||(s===Yt||s===xn)&&a===cl){O=Mn;var te=_&&$===z&&z.visualViewport?z.visualViewport.width:$[W];T-=te-i.width,T*=p?1:-1}}var ee=Object.assign({position:f},h&&mO),ce=v===!0?gO({x:T,y:w},cn(n)):{x:T,y:w};if(T=ce.x,w=ce.y,p){var se;return Object.assign({},ee,(se={},se[L]=U?"0":"",se[O]=D?"0":"",se.transform=(z.devicePixelRatio||1)<=1?"translate("+T+"px, "+w+"px)":"translate3d("+T+"px, "+w+"px, 0)",se))}return Object.assign({},ee,(e={},e[L]=U?w+"px":"",e[O]=D?T+"px":"",e.transform="",e))}function vO(t){var e=t.state,n=t.options,i=n.gpuAcceleration,s=i===void 0?!0:i,a=n.adaptive,u=a===void 0?!0:a,f=n.roundOffsets,p=f===void 0?!0:f,h={placement:si(e.placement),variation:Ns(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:s,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,VS(Object.assign({},h,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:u,roundOffsets:p})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,VS(Object.assign({},h,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:p})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const yO={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:vO,data:{}};var ac={passive:!0};function _O(t){var e=t.state,n=t.instance,i=t.options,s=i.scroll,a=s===void 0?!0:s,u=i.resize,f=u===void 0?!0:u,p=cn(e.elements.popper),h=[].concat(e.scrollParents.reference,e.scrollParents.popper);return a&&h.forEach(function(v){v.addEventListener("scroll",n.update,ac)}),f&&p.addEventListener("resize",n.update,ac),function(){a&&h.forEach(function(v){v.removeEventListener("scroll",n.update,ac)}),f&&p.removeEventListener("resize",n.update,ac)}}const SO={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:_O,data:{}};var EO={left:"right",right:"left",bottom:"top",top:"bottom"};function Cc(t){return t.replace(/left|right|bottom|top/g,function(e){return EO[e]})}var TO={start:"end",end:"start"};function GS(t){return t.replace(/start|end/g,function(e){return TO[e]})}function pg(t){var e=cn(t),n=e.pageXOffset,i=e.pageYOffset;return{scrollLeft:n,scrollTop:i}}function mg(t){return Ms(Oo(t)).left+pg(t).scrollLeft}function bO(t,e){var n=cn(t),i=Oo(t),s=n.visualViewport,a=i.clientWidth,u=i.clientHeight,f=0,p=0;if(s){a=s.width,u=s.height;var h=GA();(h||!h&&e==="fixed")&&(f=s.offsetLeft,p=s.offsetTop)}return{width:a,height:u,x:f+mg(t),y:p}}function AO(t){var e,n=Oo(t),i=pg(t),s=(e=t.ownerDocument)==null?void 0:e.body,a=rr(n.scrollWidth,n.clientWidth,s?s.scrollWidth:0,s?s.clientWidth:0),u=rr(n.scrollHeight,n.clientHeight,s?s.scrollHeight:0,s?s.clientHeight:0),f=-i.scrollLeft+mg(t),p=-i.scrollTop;return Hi(s||n).direction==="rtl"&&(f+=rr(n.clientWidth,s?s.clientWidth:0)-a),{width:a,height:u,x:f,y:p}}function gg(t){var e=Hi(t),n=e.overflow,i=e.overflowX,s=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+s+i)}function JA(t){return["html","body","#document"].indexOf(Ro(t))>=0?t.ownerDocument.body:ai(t)&&gg(t)?t:JA(Ef(t))}function il(t,e){var n;e===void 0&&(e=[]);var i=JA(t),s=i===((n=t.ownerDocument)==null?void 0:n.body),a=cn(i),u=s?[a].concat(a.visualViewport||[],gg(i)?i:[]):i,f=e.concat(u);return s?f:f.concat(il(Ef(u)))}function am(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function CO(t,e){var n=Ms(t,!1,e==="fixed");return n.top=n.top+t.clientTop,n.left=n.left+t.clientLeft,n.bottom=n.top+t.clientHeight,n.right=n.left+t.clientWidth,n.width=t.clientWidth,n.height=t.clientHeight,n.x=n.left,n.y=n.top,n}function qS(t,e,n){return e===HA?am(bO(t,n)):fr(e)?CO(e,n):am(AO(Oo(t)))}function wO(t){var e=il(Ef(t)),n=["absolute","fixed"].indexOf(Hi(t).position)>=0,i=n&&ai(t)?Nl(t):t;return fr(i)?e.filter(function(s){return fr(s)&&qA(s,i)&&Ro(s)!=="body"}):[]}function RO(t,e,n,i){var s=e==="clippingParents"?wO(t):[].concat(e),a=[].concat(s,[n]),u=a[0],f=a.reduce(function(p,h){var v=qS(t,h,i);return p.top=rr(v.top,p.top),p.right=Jc(v.right,p.right),p.bottom=Jc(v.bottom,p.bottom),p.left=rr(v.left,p.left),p},qS(t,u,i));return f.width=f.right-f.left,f.height=f.bottom-f.top,f.x=f.left,f.y=f.top,f}function YA(t){var e=t.reference,n=t.element,i=t.placement,s=i?si(i):null,a=i?Ns(i):null,u=e.x+e.width/2-n.width/2,f=e.y+e.height/2-n.height/2,p;switch(s){case Yt:p={x:u,y:e.y-n.height};break;case xn:p={x:u,y:e.y+e.height};break;case Mn:p={x:e.x+e.width,y:f};break;case Kt:p={x:e.x-n.width,y:f};break;default:p={x:e.x,y:e.y}}var h=s?hg(s):null;if(h!=null){var v=h==="y"?"height":"width";switch(a){case Rs:p[h]=p[h]-(e[v]/2-n[v]/2);break;case cl:p[h]=p[h]+(e[v]/2-n[v]/2);break}}return p}function fl(t,e){e===void 0&&(e={});var n=e,i=n.placement,s=i===void 0?t.placement:i,a=n.strategy,u=a===void 0?t.strategy:a,f=n.boundary,p=f===void 0?Q1:f,h=n.rootBoundary,v=h===void 0?HA:h,_=n.elementContext,S=_===void 0?Ba:_,T=n.altBoundary,A=T===void 0?!1:T,w=n.padding,R=w===void 0?0:w,D=FA(typeof R!="number"?R:zA(R,Ml)),U=S===Ba?W1:Ba,O=t.rects.popper,L=t.elements[A?U:S],z=RO(fr(L)?L:L.contextElement||Oo(t.elements.popper),p,v,u),$=Ms(t.elements.reference),V=YA({reference:$,element:O,placement:s}),W=am(Object.assign({},O,V)),Q=S===Ba?W:$,te={top:z.top-Q.top+D.top,bottom:Q.bottom-z.bottom+D.bottom,left:z.left-Q.left+D.left,right:Q.right-z.right+D.right},ee=t.modifiersData.offset;if(S===Ba&&ee){var ce=ee[s];Object.keys(te).forEach(function(se){var Se=[Mn,xn].indexOf(se)>=0?1:-1,Me=[Yt,xn].indexOf(se)>=0?"y":"x";te[se]+=ce[Me]*Se})}return te}function xO(t,e){e===void 0&&(e={});var n=e,i=n.placement,s=n.boundary,a=n.rootBoundary,u=n.padding,f=n.flipVariations,p=n.allowedAutoPlacements,h=p===void 0?VA:p,v=Ns(i),_=v?f?BS:BS.filter(function(A){return Ns(A)===v}):Ml,S=_.filter(function(A){return h.indexOf(A)>=0});S.length===0&&(S=_);var T=S.reduce(function(A,w){return A[w]=fl(t,{placement:w,boundary:s,rootBoundary:a,padding:u})[si(w)],A},{});return Object.keys(T).sort(function(A,w){return T[A]-T[w]})}function MO(t){if(si(t)===cg)return[];var e=Cc(t);return[GS(t),e,GS(e)]}function NO(t){var e=t.state,n=t.options,i=t.name;if(!e.modifiersData[i]._skip){for(var s=n.mainAxis,a=s===void 0?!0:s,u=n.altAxis,f=u===void 0?!0:u,p=n.fallbackPlacements,h=n.padding,v=n.boundary,_=n.rootBoundary,S=n.altBoundary,T=n.flipVariations,A=T===void 0?!0:T,w=n.allowedAutoPlacements,R=e.options.placement,D=si(R),U=D===R,O=p||(U||!A?[Cc(R)]:MO(R)),L=[R].concat(O).reduce(function(ie,de){return ie.concat(si(de)===cg?xO(e,{placement:de,boundary:v,rootBoundary:_,padding:h,flipVariations:A,allowedAutoPlacements:w}):de)},[]),z=e.rects.reference,$=e.rects.popper,V=new Map,W=!0,Q=L[0],te=0;te<L.length;te++){var ee=L[te],ce=si(ee),se=Ns(ee)===Rs,Se=[Yt,xn].indexOf(ce)>=0,Me=Se?"width":"height",k=fl(e,{placement:ee,boundary:v,rootBoundary:_,altBoundary:S,padding:h}),Z=Se?se?Mn:Kt:se?xn:Yt;z[Me]>$[Me]&&(Z=Cc(Z));var ae=Cc(Z),be=[];if(a&&be.push(k[ce]<=0),f&&be.push(k[Z]<=0,k[ae]<=0),be.every(function(ie){return ie})){Q=ee,W=!1;break}V.set(ee,be)}if(W)for(var ye=A?3:1,N=function(de){var Ee=L.find(function(Ne){var Ze=V.get(Ne);if(Ze)return Ze.slice(0,de).every(function($e){return $e})});if(Ee)return Q=Ee,"break"},Y=ye;Y>0;Y--){var ne=N(Y);if(ne==="break")break}e.placement!==Q&&(e.modifiersData[i]._skip=!0,e.placement=Q,e.reset=!0)}}const IO={name:"flip",enabled:!0,phase:"main",fn:NO,requiresIfExists:["offset"],data:{_skip:!1}};function $S(t,e,n){return n===void 0&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function FS(t){return[Yt,Mn,xn,Kt].some(function(e){return t[e]>=0})}function DO(t){var e=t.state,n=t.name,i=e.rects.reference,s=e.rects.popper,a=e.modifiersData.preventOverflow,u=fl(e,{elementContext:"reference"}),f=fl(e,{altBoundary:!0}),p=$S(u,i),h=$S(f,s,a),v=FS(p),_=FS(h);e.modifiersData[n]={referenceClippingOffsets:p,popperEscapeOffsets:h,isReferenceHidden:v,hasPopperEscaped:_},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":v,"data-popper-escaped":_})}const OO={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:DO};function UO(t,e,n){var i=si(t),s=[Kt,Yt].indexOf(i)>=0?-1:1,a=typeof n=="function"?n(Object.assign({},e,{placement:t})):n,u=a[0],f=a[1];return u=u||0,f=(f||0)*s,[Kt,Mn].indexOf(i)>=0?{x:f,y:u}:{x:u,y:f}}function PO(t){var e=t.state,n=t.options,i=t.name,s=n.offset,a=s===void 0?[0,0]:s,u=VA.reduce(function(v,_){return v[_]=UO(_,e.rects,a),v},{}),f=u[e.placement],p=f.x,h=f.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=p,e.modifiersData.popperOffsets.y+=h),e.modifiersData[i]=u}const LO={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:PO};function kO(t){var e=t.state,n=t.name;e.modifiersData[n]=YA({reference:e.rects.reference,element:e.rects.popper,placement:e.placement})}const BO={name:"popperOffsets",enabled:!0,phase:"read",fn:kO,data:{}};function HO(t){return t==="x"?"y":"x"}function VO(t){var e=t.state,n=t.options,i=t.name,s=n.mainAxis,a=s===void 0?!0:s,u=n.altAxis,f=u===void 0?!1:u,p=n.boundary,h=n.rootBoundary,v=n.altBoundary,_=n.padding,S=n.tether,T=S===void 0?!0:S,A=n.tetherOffset,w=A===void 0?0:A,R=fl(e,{boundary:p,rootBoundary:h,padding:_,altBoundary:v}),D=si(e.placement),U=Ns(e.placement),O=!U,L=hg(D),z=HO(L),$=e.modifiersData.popperOffsets,V=e.rects.reference,W=e.rects.popper,Q=typeof w=="function"?w(Object.assign({},e.rects,{placement:e.placement})):w,te=typeof Q=="number"?{mainAxis:Q,altAxis:Q}:Object.assign({mainAxis:0,altAxis:0},Q),ee=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,ce={x:0,y:0};if($){if(a){var se,Se=L==="y"?Yt:Kt,Me=L==="y"?xn:Mn,k=L==="y"?"height":"width",Z=$[L],ae=Z+R[Se],be=Z-R[Me],ye=T?-W[k]/2:0,N=U===Rs?V[k]:W[k],Y=U===Rs?-W[k]:-V[k],ne=e.elements.arrow,ie=T&&ne?dg(ne):{width:0,height:0},de=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:$A(),Ee=de[Se],Ne=de[Me],Ze=nl(0,V[k],ie[k]),$e=O?V[k]/2-ye-Ze-Ee-te.mainAxis:N-Ze-Ee-te.mainAxis,Dn=O?-V[k]/2+ye+Ze+Ne+te.mainAxis:Y+Ze+Ne+te.mainAxis,Kn=e.elements.arrow&&Nl(e.elements.arrow),Fi=Kn?L==="y"?Kn.clientTop||0:Kn.clientLeft||0:0,li=(se=ee?.[L])!=null?se:0,Bt=Z+$e-li-Fi,Xe=Z+Dn-li,ui=nl(T?Jc(ae,Bt):ae,Z,T?rr(be,Xe):be);$[L]=ui,ce[L]=ui-Z}if(f){var zi,Pl=L==="x"?Yt:Kt,Vs=L==="x"?xn:Mn,On=$[z],Ji=z==="y"?"height":"width",Ll=On+R[Pl],kl=On-R[Vs],Et=[Yt,Kt].indexOf(D)!==-1,Bl=(zi=ee?.[z])!=null?zi:0,Gs=Et?Ll:On-V[Ji]-W[Ji]-Bl+te.altAxis,qs=Et?On+V[Ji]+W[Ji]-Bl-te.altAxis:kl,Po=T&&Et?cO(Gs,On,qs):nl(T?Gs:Ll,On,T?qs:kl);$[z]=Po,ce[z]=Po-On}e.modifiersData[i]=ce}}const GO={name:"preventOverflow",enabled:!0,phase:"main",fn:VO,requiresIfExists:["offset"]};function qO(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function $O(t){return t===cn(t)||!ai(t)?pg(t):qO(t)}function FO(t){var e=t.getBoundingClientRect(),n=xs(e.width)/t.offsetWidth||1,i=xs(e.height)/t.offsetHeight||1;return n!==1||i!==1}function zO(t,e,n){n===void 0&&(n=!1);var i=ai(e),s=ai(e)&&FO(e),a=Oo(e),u=Ms(t,s,n),f={scrollLeft:0,scrollTop:0},p={x:0,y:0};return(i||!i&&!n)&&((Ro(e)!=="body"||gg(a))&&(f=$O(e)),ai(e)?(p=Ms(e,!0),p.x+=e.clientLeft,p.y+=e.clientTop):a&&(p.x=mg(a))),{x:u.left+f.scrollLeft-p.x,y:u.top+f.scrollTop-p.y,width:u.width,height:u.height}}function JO(t){var e=new Map,n=new Set,i=[];t.forEach(function(a){e.set(a.name,a)});function s(a){n.add(a.name);var u=[].concat(a.requires||[],a.requiresIfExists||[]);u.forEach(function(f){if(!n.has(f)){var p=e.get(f);p&&s(p)}}),i.push(a)}return t.forEach(function(a){n.has(a.name)||s(a)}),i}function YO(t){var e=JO(t);return aO.reduce(function(n,i){return n.concat(e.filter(function(s){return s.phase===i}))},[])}function KO(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}function XO(t){var e=t.reduce(function(n,i){var s=n[i.name];return n[i.name]=s?Object.assign({},s,i,{options:Object.assign({},s.options,i.options),data:Object.assign({},s.data,i.data)}):i,n},{});return Object.keys(e).map(function(n){return e[n]})}var zS={placement:"bottom",modifiers:[],strategy:"absolute"};function JS(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(i){return!(i&&typeof i.getBoundingClientRect=="function")})}function QO(t){t===void 0&&(t={});var e=t,n=e.defaultModifiers,i=n===void 0?[]:n,s=e.defaultOptions,a=s===void 0?zS:s;return function(f,p,h){h===void 0&&(h=a);var v={placement:"bottom",orderedModifiers:[],options:Object.assign({},zS,a),modifiersData:{},elements:{reference:f,popper:p},attributes:{},styles:{}},_=[],S=!1,T={state:v,setOptions:function(D){var U=typeof D=="function"?D(v.options):D;w(),v.options=Object.assign({},a,v.options,U),v.scrollParents={reference:fr(f)?il(f):f.contextElement?il(f.contextElement):[],popper:il(p)};var O=YO(XO([].concat(i,v.options.modifiers)));return v.orderedModifiers=O.filter(function(L){return L.enabled}),A(),T.update()},forceUpdate:function(){if(!S){var D=v.elements,U=D.reference,O=D.popper;if(JS(U,O)){v.rects={reference:zO(U,Nl(O),v.options.strategy==="fixed"),popper:dg(O)},v.reset=!1,v.placement=v.options.placement,v.orderedModifiers.forEach(function(te){return v.modifiersData[te.name]=Object.assign({},te.data)});for(var L=0;L<v.orderedModifiers.length;L++){if(v.reset===!0){v.reset=!1,L=-1;continue}var z=v.orderedModifiers[L],$=z.fn,V=z.options,W=V===void 0?{}:V,Q=z.name;typeof $=="function"&&(v=$({state:v,options:W,name:Q,instance:T})||v)}}}},update:KO(function(){return new Promise(function(R){T.forceUpdate(),R(v)})}),destroy:function(){w(),S=!0}};if(!JS(f,p))return T;T.setOptions(h).then(function(R){!S&&h.onFirstUpdate&&h.onFirstUpdate(R)});function A(){v.orderedModifiers.forEach(function(R){var D=R.name,U=R.options,O=U===void 0?{}:U,L=R.effect;if(typeof L=="function"){var z=L({state:v,name:D,instance:T,options:O}),$=function(){};_.push(z||$)}})}function w(){_.forEach(function(R){return R()}),_=[]}return T}}const WO=QO({defaultModifiers:[OO,BO,yO,SO,LO,IO,GO,pO]}),ZO=["enabled","placement","strategy","modifiers"];function jO(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)>=0)continue;n[i]=t[i]}return n}const eU={name:"applyStyles",enabled:!1,phase:"afterWrite",fn:()=>{}},tU={name:"ariaDescribedBy",enabled:!0,phase:"afterWrite",effect:({state:t})=>()=>{const{reference:e,popper:n}=t.elements;if("removeAttribute"in e){const i=(e.getAttribute("aria-describedby")||"").split(",").filter(s=>s.trim()!==n.id);i.length?e.setAttribute("aria-describedby",i.join(",")):e.removeAttribute("aria-describedby")}},fn:({state:t})=>{var e;const{popper:n,reference:i}=t.elements,s=(e=n.getAttribute("role"))==null?void 0:e.toLowerCase();if(n.id&&s==="tooltip"&&"setAttribute"in i){const a=i.getAttribute("aria-describedby");if(a&&a.split(",").indexOf(n.id)!==-1)return;i.setAttribute("aria-describedby",a?`${a},${n.id}`:n.id)}}},nU=[];function iU(t,e,n={}){let{enabled:i=!0,placement:s="bottom",strategy:a="absolute",modifiers:u=nU}=n,f=jO(n,ZO);const p=x.useRef(u),h=x.useRef(),v=x.useCallback(()=>{var R;(R=h.current)==null||R.update()},[]),_=x.useCallback(()=>{var R;(R=h.current)==null||R.forceUpdate()},[]),[S,T]=X1(x.useState({placement:s,update:v,forceUpdate:_,attributes:{},styles:{popper:{},arrow:{}}})),A=x.useMemo(()=>({name:"updateStateModifier",enabled:!0,phase:"write",requires:["computeStyles"],fn:({state:R})=>{const D={},U={};Object.keys(R.elements).forEach(O=>{D[O]=R.styles[O],U[O]=R.attributes[O]}),T({state:R,styles:D,attributes:U,update:v,forceUpdate:_,placement:R.placement})}}),[v,_,T]),w=x.useMemo(()=>(tl(p.current,u)||(p.current=u),p.current),[u]);return x.useEffect(()=>{!h.current||!i||h.current.setOptions({placement:s,strategy:a,modifiers:[...w,A,eU]})},[a,s,A,i,w]),x.useEffect(()=>{if(!(!i||t==null||e==null))return h.current=WO(t,e,Object.assign({},f,{placement:s,strategy:a,modifiers:[...w,tU,A]})),()=>{h.current!=null&&(h.current.destroy(),h.current=void 0,T(R=>Object.assign({},R,{attributes:{},styles:{popper:{}}})))}},[i,t,e]),S}function Yc(t,e){if(t.contains)return t.contains(e);if(t.compareDocumentPosition)return t===e||!!(t.compareDocumentPosition(e)&16)}var Ep,YS;function oU(){if(YS)return Ep;YS=1;var t=function(){};return Ep=t,Ep}var rU=oU();const sU=ml(rU),KS=()=>{};function aU(t){return t.button===0}function lU(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}const Tp=t=>t&&("current"in t?t.current:t),XS={click:"mousedown",mouseup:"mousedown",pointerup:"pointerdown"};function uU(t,e=KS,{disabled:n,clickTrigger:i="click"}={}){const s=x.useRef(!1),a=x.useRef(!1),u=x.useCallback(h=>{const v=Tp(t);sU(!!v,"ClickOutside captured a close event but does not have a ref to compare it to. useClickOutside(), should be passed a ref that resolves to a DOM node"),s.current=!v||lU(h)||!aU(h)||!!Yc(v,h.target)||a.current,a.current=!1},[t]),f=It(h=>{const v=Tp(t);v&&Yc(v,h.target)?a.current=!0:a.current=!1}),p=It(h=>{s.current||e(h)});x.useEffect(()=>{var h,v;if(n||t==null)return;const _=vf(Tp(t)),S=_.defaultView||window;let T=(h=S.event)!=null?h:(v=S.parent)==null?void 0:v.event,A=null;XS[i]&&(A=bo(_,XS[i],f,!0));const w=bo(_,i,u,!0),R=bo(_,i,U=>{if(U===T){T=void 0;return}p(U)});let D=[];return"ontouchstart"in _.documentElement&&(D=[].slice.call(_.body.children).map(U=>bo(U,"mousemove",KS))),()=>{A?.(),w(),R(),D.forEach(U=>U())}},[t,n,i,u,f,p])}function cU(t){const e={};return Array.isArray(t)?(t?.forEach(n=>{e[n.name]=n}),e):t||e}function fU(t={}){return Array.isArray(t)?t:Object.keys(t).map(e=>(t[e].name=e,t[e]))}function dU({enabled:t,enableEvents:e,placement:n,flip:i,offset:s,fixed:a,containerPadding:u,arrowElement:f,popperConfig:p={}}){var h,v,_,S,T;const A=cU(p.modifiers);return Object.assign({},p,{placement:n,enabled:t,strategy:a?"fixed":p.strategy,modifiers:fU(Object.assign({},A,{eventListeners:{enabled:e,options:(h=A.eventListeners)==null?void 0:h.options},preventOverflow:Object.assign({},A.preventOverflow,{options:u?Object.assign({padding:u},(v=A.preventOverflow)==null?void 0:v.options):(_=A.preventOverflow)==null?void 0:_.options}),offset:{options:Object.assign({offset:s},(S=A.offset)==null?void 0:S.options)},arrow:Object.assign({},A.arrow,{enabled:!!f,options:Object.assign({},(T=A.arrow)==null?void 0:T.options,{element:f})}),flip:Object.assign({enabled:!!i},A.flip)}))})}const hU=["children","usePopper"];function pU(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)>=0)continue;n[i]=t[i]}return n}const mU=()=>{};function KA(t={}){const e=x.useContext(Sf),[n,i]=I1(),s=x.useRef(!1),{flip:a,offset:u,rootCloseEvent:f,fixed:p=!1,placement:h,popperConfig:v={},enableEventListeners:_=!0,usePopper:S=!!e}=t,T=e?.show==null?!!t.show:e.show;T&&!s.current&&(s.current=!0);const A=$=>{e?.toggle(!1,$)},{placement:w,setMenu:R,menuElement:D,toggleElement:U}=e||{},O=iU(U,D,dU({placement:h||w||"bottom-start",enabled:S,enableEvents:_??T,offset:u,flip:a,fixed:p,arrowElement:n,popperConfig:v})),L=Object.assign({ref:R||mU,"aria-labelledby":U?.id},O.attributes.popper,{style:O.styles.popper}),z={show:T,placement:w,hasShown:s.current,toggle:e?.toggle,popper:S?O:null,arrowProps:S?Object.assign({ref:i},O.attributes.arrow,{style:O.styles.arrow}):{}};return uU(D,A,{clickTrigger:f,disabled:!T}),[L,z]}function XA(t){let{children:e,usePopper:n=!0}=t,i=pU(t,hU);const[s,a]=KA(Object.assign({},i,{usePopper:n}));return C.jsx(C.Fragment,{children:e(s,a)})}XA.displayName="DropdownMenu";const QA={prefix:String(Math.round(Math.random()*1e10)),current:0},WA=_t.createContext(QA),gU=_t.createContext(!1);let bp=new WeakMap;function vU(t=!1){let e=x.useContext(WA),n=x.useRef(null);if(n.current===null&&!t){var i,s;let a=(s=_t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED)===null||s===void 0||(i=s.ReactCurrentOwner)===null||i===void 0?void 0:i.current;if(a){let u=bp.get(a);u==null?bp.set(a,{id:e.current,state:a.memoizedState}):a.memoizedState!==u.state&&(e.current=u.id,bp.delete(a))}n.current=++e.current}return n.current}function yU(t){let e=x.useContext(WA),n=vU(!!t),i=`react-aria${e.prefix}`;return t||`${i}-${n}`}function _U(t){let e=_t.useId(),[n]=x.useState(AU()),i=n?"react-aria":`react-aria${QA.prefix}`;return t||`${i}-${e}`}const SU=typeof _t.useId=="function"?_U:yU;function EU(){return!1}function TU(){return!0}function bU(t){return()=>{}}function AU(){return typeof _t.useSyncExternalStore=="function"?_t.useSyncExternalStore(bU,EU,TU):x.useContext(gU)}const ZA=t=>{var e;return((e=t.getAttribute("role"))==null?void 0:e.toLowerCase())==="menu"},QS=()=>{};function jA(){const t=SU(),{show:e=!1,toggle:n=QS,setToggle:i,menuElement:s}=x.useContext(Sf)||{},a=x.useCallback(f=>{n(!e,f)},[e,n]),u={id:t,ref:i||QS,onClick:a,"aria-expanded":!!e};return s&&ZA(s)&&(u["aria-haspopup"]=!0),[u,{show:e,toggle:n}]}function eC({children:t}){const[e,n]=jA();return C.jsx(C.Fragment,{children:t(e,n)})}eC.displayName="DropdownToggle";const dr=x.createContext(null),dl=(t,e=null)=>t!=null?String(t):e||null,Tf=x.createContext(null);Tf.displayName="NavContext";const CU="data-rr-ui-",wU="rrUi";function Us(t){return`${CU}${t}`}function RU(t){return`${wU}${t}`}const xU=["eventKey","disabled","onClick","active","as"];function MU(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)>=0)continue;n[i]=t[i]}return n}function tC({key:t,href:e,active:n,disabled:i,onClick:s}){const a=x.useContext(dr),u=x.useContext(Tf),{activeKey:f}=u||{},p=dl(t,e),h=n==null&&t!=null?dl(f)===p:n;return[{onClick:It(_=>{i||(s?.(_),a&&!_.isPropagationStopped()&&a(p,_))}),"aria-disabled":i||void 0,"aria-selected":h,[Us("dropdown-item")]:""},{isActive:h}]}const nC=x.forwardRef((t,e)=>{let{eventKey:n,disabled:i,onClick:s,active:a,as:u=rg}=t,f=MU(t,xU);const[p]=tC({key:n,href:f.href,disabled:i,onClick:s,active:a});return C.jsx(u,Object.assign({},f,{ref:e},p))});nC.displayName="DropdownItem";const iC=x.createContext(yf?window:void 0);iC.Provider;function bf(){return x.useContext(iC)}function WS(){const t=BA(),e=x.useRef(null),n=x.useCallback(i=>{e.current=i,t()},[t]);return[e,n]}function Il({defaultShow:t,show:e,onSelect:n,onToggle:i,itemSelector:s=`* [${Us("dropdown-item")}]`,focusFirstItemOnShow:a,placement:u="bottom-start",children:f}){const p=bf(),[h,v]=K1(e,t,i),[_,S]=WS(),T=_.current,[A,w]=WS(),R=A.current,D=AA(h),U=x.useRef(null),O=x.useRef(!1),L=x.useContext(dr),z=x.useCallback((ee,ce,se=ce?.type)=>{v(ee,{originalEvent:ce,source:se})},[v]),$=It((ee,ce)=>{n?.(ee,ce),z(!1,ce,"select"),ce.isPropagationStopped()||L?.(ee,ce)}),V=x.useMemo(()=>({toggle:z,placement:u,show:h,menuElement:T,toggleElement:R,setMenu:S,setToggle:w}),[z,u,h,T,R,S,w]);T&&D&&!h&&(O.current=T.contains(T.ownerDocument.activeElement));const W=It(()=>{R&&R.focus&&R.focus()}),Q=It(()=>{const ee=U.current;let ce=a;if(ce==null&&(ce=_.current&&ZA(_.current)?"keyboard":!1),ce===!1||ce==="keyboard"&&!/^key.+$/.test(ee))return;const se=Ni(_.current,s)[0];se&&se.focus&&se.focus()});x.useEffect(()=>{h?Q():O.current&&(O.current=!1,W())},[h,O,W,Q]),x.useEffect(()=>{U.current=null});const te=(ee,ce)=>{if(!_.current)return null;const se=Ni(_.current,s);let Se=se.indexOf(ee)+ce;return Se=Math.max(0,Math.min(Se,se.length)),se[Se]};return O1(x.useCallback(()=>p.document,[p]),"keydown",ee=>{var ce,se;const{key:Se}=ee,Me=ee.target,k=(ce=_.current)==null?void 0:ce.contains(Me),Z=(se=A.current)==null?void 0:se.contains(Me);if(/input|textarea/i.test(Me.tagName)&&(Se===" "||Se!=="Escape"&&k||Se==="Escape"&&Me.type==="search")||!k&&!Z||Se==="Tab"&&(!_.current||!h))return;U.current=ee.type;const be={originalEvent:ee,source:ee.type};switch(Se){case"ArrowUp":{const ye=te(Me,-1);ye&&ye.focus&&ye.focus(),ee.preventDefault();return}case"ArrowDown":if(ee.preventDefault(),!h)v(!0,be);else{const ye=te(Me,1);ye&&ye.focus&&ye.focus()}return;case"Tab":SA(Me.ownerDocument,"keyup",ye=>{var N;(ye.key==="Tab"&&!ye.target||!((N=_.current)!=null&&N.contains(ye.target)))&&v(!1,be)},{once:!0});break;case"Escape":Se==="Escape"&&(ee.preventDefault(),ee.stopPropagation()),v(!1,be);break}}),C.jsx(dr.Provider,{value:$,children:C.jsx(Sf.Provider,{value:V,children:f})})}Il.displayName="Dropdown";Il.Menu=XA;Il.Toggle=eC;Il.Item=nC;const vg=x.createContext({});vg.displayName="DropdownContext";const oC=x.forwardRef(({className:t,bsPrefix:e,as:n="hr",role:i="separator",...s},a)=>(e=Le(e,"dropdown-divider"),C.jsx(n,{ref:a,className:Re(t,e),role:i,...s})));oC.displayName="DropdownDivider";const rC=x.forwardRef(({className:t,bsPrefix:e,as:n="div",role:i="heading",...s},a)=>(e=Le(e,"dropdown-header"),C.jsx(n,{ref:a,className:Re(t,e),role:i,...s})));rC.displayName="DropdownHeader";const sC=x.forwardRef(({bsPrefix:t,className:e,eventKey:n,disabled:i=!1,onClick:s,active:a,as:u=sg,...f},p)=>{const h=Le(t,"dropdown-item"),[v,_]=tC({key:n,href:f.href,disabled:i,onClick:s,active:a});return C.jsx(u,{...f,...v,ref:p,className:Re(e,h,_.isActive&&"active",i&&"disabled")})});sC.displayName="DropdownItem";const aC=x.forwardRef(({className:t,bsPrefix:e,as:n="span",...i},s)=>(e=Le(e,"dropdown-item-text"),C.jsx(n,{ref:s,className:Re(t,e),...i})));aC.displayName="DropdownItemText";const NU=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",IU=typeof document<"u",lC=IU||NU?x.useLayoutEffect:x.useEffect,yg=x.createContext(null);yg.displayName="InputGroupContext";const yr=x.createContext(null);yr.displayName="NavbarContext";function uC(t,e){return t}function cC(t,e,n){const i=n?"top-end":"top-start",s=n?"top-start":"top-end",a=n?"bottom-end":"bottom-start",u=n?"bottom-start":"bottom-end",f=n?"right-start":"left-start",p=n?"right-end":"left-end",h=n?"left-start":"right-start",v=n?"left-end":"right-end";let _=t?u:a;return e==="up"?_=t?s:i:e==="end"?_=t?v:h:e==="start"?_=t?p:f:e==="down-centered"?_="bottom":e==="up-centered"&&(_="top"),_}const fC=x.forwardRef(({bsPrefix:t,className:e,align:n,rootCloseEvent:i,flip:s=!0,show:a,renderOnMount:u,as:f="div",popperConfig:p,variant:h,...v},_)=>{let S=!1;const T=x.useContext(yr),A=Le(t,"dropdown-menu"),{align:w,drop:R,isRTL:D}=x.useContext(vg);n=n||w;const U=x.useContext(yg),O=[];if(n)if(typeof n=="object"){const ee=Object.keys(n);if(ee.length){const ce=ee[0],se=n[ce];S=se==="start",O.push(`${A}-${ce}-${se}`)}}else n==="end"&&(S=!0);const L=cC(S,R,D),[z,{hasShown:$,popper:V,show:W,toggle:Q}]=KA({flip:s,rootCloseEvent:i,show:a,usePopper:!T&&O.length===0,offset:[0,2],popperConfig:p,placement:L});if(z.ref=ng(uC(_),z.ref),lC(()=>{W&&V?.update()},[W]),!$&&!u&&!U)return null;typeof f!="string"&&(z.show=W,z.close=()=>Q?.(!1),z.align=n);let te=v.style;return V!=null&&V.placement&&(te={...v.style,...z.style},v["x-placement"]=V.placement),C.jsx(f,{...v,...z,style:te,...(O.length||T)&&{"data-bs-popper":"static"},className:Re(e,A,W&&"show",S&&`${A}-end`,h&&`${A}-${h}`,...O)})});fC.displayName="DropdownMenu";const dC=x.forwardRef(({bsPrefix:t,split:e,className:n,childBsPrefix:i,as:s=wA,...a},u)=>{const f=Le(t,"dropdown-toggle"),p=x.useContext(Sf);i!==void 0&&(a.bsPrefix=i);const[h]=jA();return h.ref=ng(h.ref,uC(u)),C.jsx(s,{className:Re(n,f,e&&`${f}-split`,p?.show&&"show"),...h,...a})});dC.displayName="DropdownToggle";const hC=x.forwardRef((t,e)=>{const{bsPrefix:n,drop:i="down",show:s,className:a,align:u="start",onSelect:f,onToggle:p,focusFirstItemOnShow:h,as:v="div",navbar:_,autoClose:S=!0,...T}=eg(t,{show:"onToggle"}),A=x.useContext(yg),w=Le(n,"dropdown"),R=r1(),D=V=>S===!1?V==="click":S==="inside"?V!=="rootClose":S==="outside"?V!=="select":!0,U=xl((V,W)=>{var Q;!((Q=W.originalEvent)==null||(Q=Q.target)==null)&&Q.classList.contains("dropdown-toggle")&&W.source==="mousedown"||(W.originalEvent.currentTarget===document&&(W.source!=="keydown"||W.originalEvent.key==="Escape")&&(W.source="rootClose"),D(W.source)&&p?.(V,W))}),L=cC(u==="end",i,R),z=x.useMemo(()=>({align:u,drop:i,isRTL:R}),[u,i,R]),$={down:w,"down-centered":`${w}-center`,up:"dropup","up-centered":"dropup-center dropup",end:"dropend",start:"dropstart"};return C.jsx(vg.Provider,{value:z,children:C.jsx(Il,{placement:L,show:s,onSelect:f,onToggle:U,focusFirstItemOnShow:h,itemSelector:`.${w}-item:not(.disabled):not(:disabled)`,children:A?T.children:C.jsx(v,{...T,ref:e,className:Re(a,s&&"show",$[i])})})})});hC.displayName="Dropdown";const lc=Object.assign(hC,{Toggle:dC,Menu:fC,Item:sC,ItemText:aC,Divider:oC,Header:rC}),ZS=t=>!t||typeof t=="function"?t:e=>{t.current=e};function DU(t,e){const n=ZS(t),i=ZS(e);return s=>{n&&n(s),i&&i(s)}}function Af(t,e){return x.useMemo(()=>DU(t,e),[t,e])}const pC=x.createContext(null),OU=["as","active","eventKey"];function UU(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)>=0)continue;n[i]=t[i]}return n}function mC({key:t,onClick:e,active:n,id:i,role:s,disabled:a}){const u=x.useContext(dr),f=x.useContext(Tf),p=x.useContext(pC);let h=n;const v={role:s};if(f){!s&&f.role==="tablist"&&(v.role="tab");const _=f.getControllerId(t??null),S=f.getControlledId(t??null);v[Us("event-key")]=t,v.id=_||i,h=n==null&&t!=null?f.activeKey===t:n,(h||!(p!=null&&p.unmountOnExit)&&!(p!=null&&p.mountOnEnter))&&(v["aria-controls"]=S)}return v.role==="tab"&&(v["aria-selected"]=h,h||(v.tabIndex=-1),a&&(v.tabIndex=-1,v["aria-disabled"]=!0)),v.onClick=It(_=>{a||(e?.(_),t!=null&&u&&!_.isPropagationStopped()&&u(t,_))}),[v,{isActive:h}]}const gC=x.forwardRef((t,e)=>{let{as:n=rg,active:i,eventKey:s}=t,a=UU(t,OU);const[u,f]=mC(Object.assign({key:dl(s,a.href),active:i},a));return u[Us("active")]=f.isActive,C.jsx(n,Object.assign({},a,u,{ref:e}))});gC.displayName="NavItem";const PU=["as","onSelect","activeKey","role","onKeyDown"];function LU(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)>=0)continue;n[i]=t[i]}return n}const jS=()=>{},eE=Us("event-key"),vC=x.forwardRef((t,e)=>{let{as:n="div",onSelect:i,activeKey:s,role:a,onKeyDown:u}=t,f=LU(t,PU);const p=BA(),h=x.useRef(!1),v=x.useContext(dr),_=x.useContext(pC);let S,T;_&&(a=a||"tablist",s=_.activeKey,S=_.getControlledId,T=_.getControllerId);const A=x.useRef(null),w=O=>{const L=A.current;if(!L)return null;const z=Ni(L,`[${eE}]:not([aria-disabled=true])`),$=L.querySelector("[aria-selected=true]");if(!$||$!==document.activeElement)return null;const V=z.indexOf($);if(V===-1)return null;let W=V+O;return W>=z.length&&(W=0),W<0&&(W=z.length-1),z[W]},R=(O,L)=>{O!=null&&(i?.(O,L),v?.(O,L))},D=O=>{if(u?.(O),!_)return;let L;switch(O.key){case"ArrowLeft":case"ArrowUp":L=w(-1);break;case"ArrowRight":case"ArrowDown":L=w(1);break;default:return}L&&(O.preventDefault(),R(L.dataset[RU("EventKey")]||null,O),h.current=!0,p())};x.useEffect(()=>{if(A.current&&h.current){const O=A.current.querySelector(`[${eE}][aria-selected=true]`);O?.focus()}h.current=!1});const U=Af(e,A);return C.jsx(dr.Provider,{value:R,children:C.jsx(Tf.Provider,{value:{role:a,activeKey:dl(s),getControlledId:S||jS,getControllerId:T||jS},children:C.jsx(n,Object.assign({},f,{onKeyDown:D,ref:U,role:a}))})})});vC.displayName="Nav";const kU=Object.assign(vC,{Item:gC});function Ap(t){t===void 0&&(t=vf());try{var e=t.activeElement;return!e||!e.nodeName?null:e}catch{return t.body}}function BU(t){const e=x.useRef(t);return e.current=t,e}function HU(t){const e=BU(t);x.useEffect(()=>()=>e.current(),[])}function VU(t=document){const e=t.defaultView;return Math.abs(e.innerWidth-t.documentElement.clientWidth)}const tE=Us("modal-open");class _g{constructor({ownerDocument:e,handleContainerOverflow:n=!0,isRTL:i=!1}={}){this.handleContainerOverflow=n,this.isRTL=i,this.modals=[],this.ownerDocument=e}getScrollbarWidth(){return VU(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes(e){}removeModalAttributes(e){}setContainerStyle(e){const n={overflow:"hidden"},i=this.isRTL?"paddingLeft":"paddingRight",s=this.getElement();e.style={overflow:s.style.overflow,[i]:s.style[i]},e.scrollBarWidth&&(n[i]=`${parseInt(Li(s,i)||"0",10)+e.scrollBarWidth}px`),s.setAttribute(tE,""),Li(s,n)}reset(){[...this.modals].forEach(e=>this.remove(e))}removeContainerStyle(e){const n=this.getElement();n.removeAttribute(tE),Object.assign(n.style,e.style)}add(e){let n=this.modals.indexOf(e);return n!==-1||(n=this.modals.length,this.modals.push(e),this.setModalAttributes(e),n!==0)||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),n}remove(e){const n=this.modals.indexOf(e);n!==-1&&(this.modals.splice(n,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(e))}isTopModal(e){return!!this.modals.length&&this.modals[this.modals.length-1]===e}}const Cp=(t,e)=>yf?t==null?(e||vf()).body:(typeof t=="function"&&(t=t()),t&&"current"in t&&(t=t.current),t&&("nodeType"in t||t.getBoundingClientRect)?t:null):null;function GU(t,e){const n=bf(),[i,s]=x.useState(()=>Cp(t,n?.document));if(!i){const a=Cp(t);a&&s(a)}return x.useEffect(()=>{},[e,i]),x.useEffect(()=>{const a=Cp(t);a!==i&&s(a)},[t,i]),i}function qU({children:t,in:e,onExited:n,mountOnEnter:i,unmountOnExit:s}){const a=x.useRef(null),u=x.useRef(e),f=It(n);x.useEffect(()=>{e?u.current=!0:f(a.current)},[e,f]);const p=Af(a,Os(t)),h=x.cloneElement(t,{ref:p});return e?h:s||!u.current&&i?null:h}const $U=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children"];function FU(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)>=0)continue;n[i]=t[i]}return n}function zU(t){let{onEnter:e,onEntering:n,onEntered:i,onExit:s,onExiting:a,onExited:u,addEndListener:f,children:p}=t,h=FU(t,$U);const v=x.useRef(null),_=Af(v,Os(p)),S=L=>z=>{L&&v.current&&L(v.current,z)},T=x.useCallback(S(e),[e]),A=x.useCallback(S(n),[n]),w=x.useCallback(S(i),[i]),R=x.useCallback(S(s),[s]),D=x.useCallback(S(a),[a]),U=x.useCallback(S(u),[u]),O=x.useCallback(S(f),[f]);return Object.assign({},h,{nodeRef:v},e&&{onEnter:T},n&&{onEntering:A},i&&{onEntered:w},s&&{onExit:R},a&&{onExiting:D},u&&{onExited:U},f&&{addEndListener:O},{children:typeof p=="function"?(L,z)=>p(L,Object.assign({},z,{ref:_})):x.cloneElement(p,{ref:_})})}const JU=["component"];function YU(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)>=0)continue;n[i]=t[i]}return n}const KU=x.forwardRef((t,e)=>{let{component:n}=t,i=YU(t,JU);const s=zU(i);return C.jsx(n,Object.assign({ref:e},s))});function XU({in:t,onTransition:e}){const n=x.useRef(null),i=x.useRef(!0),s=It(e);return PS(()=>{if(!n.current)return;let a=!1;return s({in:t,element:n.current,initial:i.current,isStale:()=>a}),()=>{a=!0}},[t,s]),PS(()=>(i.current=!1,()=>{i.current=!0}),[]),n}function QU({children:t,in:e,onExited:n,onEntered:i,transition:s}){const[a,u]=x.useState(!e);e&&a&&u(!1);const f=XU({in:!!e,onTransition:h=>{const v=()=>{h.isStale()||(h.in?i?.(h.element,h.initial):(u(!0),n?.(h.element)))};Promise.resolve(s(h)).then(v,_=>{throw h.in||u(!0),_})}}),p=Af(f,Os(t));return a&&!e?null:x.cloneElement(t,{ref:p})}function nE(t,e,n){return t?C.jsx(KU,Object.assign({},n,{component:t})):e?C.jsx(QU,Object.assign({},n,{transition:e})):C.jsx(qU,Object.assign({},n))}const WU=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];function ZU(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)>=0)continue;n[i]=t[i]}return n}let wp;function jU(t){return wp||(wp=new _g({ownerDocument:t?.document})),wp}function eP(t){const e=bf(),n=t||jU(e),i=x.useRef({dialog:null,backdrop:null});return Object.assign(i.current,{add:()=>n.add(i.current),remove:()=>n.remove(i.current),isTopModal:()=>n.isTopModal(i.current),setDialogRef:x.useCallback(s=>{i.current.dialog=s},[]),setBackdropRef:x.useCallback(s=>{i.current.backdrop=s},[])})}const yC=x.forwardRef((t,e)=>{let{show:n=!1,role:i="dialog",className:s,style:a,children:u,backdrop:f=!0,keyboard:p=!0,onBackdropClick:h,onEscapeKeyDown:v,transition:_,runTransition:S,backdropTransition:T,runBackdropTransition:A,autoFocus:w=!0,enforceFocus:R=!0,restoreFocus:D=!0,restoreFocusOptions:U,renderDialog:O,renderBackdrop:L=Xe=>C.jsx("div",Object.assign({},Xe)),manager:z,container:$,onShow:V,onHide:W=()=>{},onExit:Q,onExited:te,onExiting:ee,onEnter:ce,onEntering:se,onEntered:Se}=t,Me=ZU(t,WU);const k=bf(),Z=GU($),ae=eP(z),be=bA(),ye=AA(n),[N,Y]=x.useState(!n),ne=x.useRef(null);x.useImperativeHandle(e,()=>ae,[ae]),yf&&!ye&&n&&(ne.current=Ap(k?.document)),n&&N&&Y(!1);const ie=It(()=>{if(ae.add(),Dn.current=bo(document,"keydown",Ze),$e.current=bo(document,"focus",()=>setTimeout(Ee),!0),V&&V(),w){var Xe,ui;const zi=Ap((Xe=(ui=ae.dialog)==null?void 0:ui.ownerDocument)!=null?Xe:k?.document);ae.dialog&&zi&&!Yc(ae.dialog,zi)&&(ne.current=zi,ae.dialog.focus())}}),de=It(()=>{if(ae.remove(),Dn.current==null||Dn.current(),$e.current==null||$e.current(),D){var Xe;(Xe=ne.current)==null||Xe.focus==null||Xe.focus(U),ne.current=null}});x.useEffect(()=>{!n||!Z||ie()},[n,Z,ie]),x.useEffect(()=>{N&&de()},[N,de]),HU(()=>{de()});const Ee=It(()=>{if(!R||!be()||!ae.isTopModal())return;const Xe=Ap(k?.document);ae.dialog&&Xe&&!Yc(ae.dialog,Xe)&&ae.dialog.focus()}),Ne=It(Xe=>{Xe.target===Xe.currentTarget&&(h?.(Xe),f===!0&&W())}),Ze=It(Xe=>{p&&y1(Xe)&&ae.isTopModal()&&(v?.(Xe),Xe.defaultPrevented||W())}),$e=x.useRef(),Dn=x.useRef(),Kn=(...Xe)=>{Y(!0),te?.(...Xe)};if(!Z)return null;const Fi=Object.assign({role:i,ref:ae.setDialogRef,"aria-modal":i==="dialog"?!0:void 0},Me,{style:a,className:s,tabIndex:-1});let li=O?O(Fi):C.jsx("div",Object.assign({},Fi,{children:x.cloneElement(u,{role:"document"})}));li=nE(_,S,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!n,onExit:Q,onExiting:ee,onExited:Kn,onEnter:ce,onEntering:se,onEntered:Se,children:li});let Bt=null;return f&&(Bt=L({ref:ae.setBackdropRef,onClick:Ne}),Bt=nE(T,A,{in:!!n,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:Bt})),C.jsx(C.Fragment,{children:_s.createPortal(C.jsxs(C.Fragment,{children:[Bt,li]}),Z)})});yC.displayName="Modal";const tP=Object.assign(yC,{Manager:_g});function nP(t,e){return t.classList?t.classList.contains(e):(" "+(t.className.baseVal||t.className)+" ").indexOf(" "+e+" ")!==-1}function iP(t,e){t.classList?t.classList.add(e):nP(t,e)||(typeof t.className=="string"?t.className=t.className+" "+e:t.setAttribute("class",(t.className&&t.className.baseVal||"")+" "+e))}function iE(t,e){return t.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function oP(t,e){t.classList?t.classList.remove(e):typeof t.className=="string"?t.className=iE(t.className,e):t.setAttribute("class",iE(t.className&&t.className.baseVal||"",e))}const ss={FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top",NAVBAR_TOGGLER:".navbar-toggler"};class _C extends _g{adjustAndStore(e,n,i){const s=n.style[e];n.dataset[e]=s,Li(n,{[e]:`${parseFloat(Li(n,e))+i}px`})}restore(e,n){const i=n.dataset[e];i!==void 0&&(delete n.dataset[e],Li(n,{[e]:i}))}setContainerStyle(e){super.setContainerStyle(e);const n=this.getElement();if(iP(n,"modal-open"),!e.scrollBarWidth)return;const i=this.isRTL?"paddingLeft":"paddingRight",s=this.isRTL?"marginLeft":"marginRight";Ni(n,ss.FIXED_CONTENT).forEach(a=>this.adjustAndStore(i,a,e.scrollBarWidth)),Ni(n,ss.STICKY_CONTENT).forEach(a=>this.adjustAndStore(s,a,-e.scrollBarWidth)),Ni(n,ss.NAVBAR_TOGGLER).forEach(a=>this.adjustAndStore(s,a,e.scrollBarWidth))}removeContainerStyle(e){super.removeContainerStyle(e);const n=this.getElement();oP(n,"modal-open");const i=this.isRTL?"paddingLeft":"paddingRight",s=this.isRTL?"marginLeft":"marginRight";Ni(n,ss.FIXED_CONTENT).forEach(a=>this.restore(i,a)),Ni(n,ss.STICKY_CONTENT).forEach(a=>this.restore(s,a)),Ni(n,ss.NAVBAR_TOGGLER).forEach(a=>this.restore(s,a))}}let Rp;function rP(t){return Rp||(Rp=new _C(t)),Rp}const SC=x.createContext({onHide(){}}),EC=x.forwardRef(({closeLabel:t="Close",closeVariant:e,closeButton:n=!1,onHide:i,children:s,...a},u)=>{const f=x.useContext(SC),p=xl(()=>{f?.onHide(),i?.()});return C.jsxs("div",{ref:u,...a,children:[s,n&&C.jsx(ag,{"aria-label":t,variant:e,onClick:p})]})});EC.displayName="AbstractModalHeader";const TC=x.forwardRef(({className:t,bsPrefix:e,as:n="div",...i},s)=>(e=Le(e,"nav-item"),C.jsx(n,{ref:s,className:Re(t,e),...i})));TC.displayName="NavItem";const bC=x.forwardRef(({bsPrefix:t,className:e,as:n=sg,active:i,eventKey:s,disabled:a=!1,...u},f)=>{t=Le(t,"nav-link");const[p,h]=mC({key:dl(s,u.href),active:i,disabled:a,...u});return C.jsx(n,{...u,...p,ref:f,disabled:a,className:Re(e,t,a&&"disabled",h.isActive&&"active")})});bC.displayName="NavLink";const AC=x.forwardRef((t,e)=>{const{as:n="div",bsPrefix:i,variant:s,fill:a=!1,justify:u=!1,navbar:f,navbarScroll:p,className:h,activeKey:v,..._}=eg(t,{activeKey:"onSelect"}),S=Le(i,"nav");let T,A,w=!1;const R=x.useContext(yr),D=x.useContext(ug);return R?(T=R.bsPrefix,w=f??!0):D&&({cardHeaderBsPrefix:A}=D),C.jsx(kU,{as:n,ref:e,activeKey:v,className:Re(h,{[S]:!w,[`${T}-nav`]:w,[`${T}-nav-scroll`]:w&&p,[`${A}-${s}`]:!!A,[`${S}-${s}`]:!!s,[`${S}-fill`]:a,[`${S}-justified`]:u}),..._})});AC.displayName="Nav";const sP=Object.assign(AC,{Item:TC,Link:bC}),CC=x.forwardRef(({bsPrefix:t,className:e,as:n,...i},s)=>{t=Le(t,"navbar-brand");const a=n||(i.href?"a":"span");return C.jsx(a,{...i,ref:s,className:Re(e,t)})});CC.displayName="NavbarBrand";const wC=x.forwardRef(({children:t,bsPrefix:e,...n},i)=>{e=Le(e,"navbar-collapse");const s=x.useContext(yr);return C.jsx(TA,{in:!!(s&&s.expanded),...n,children:C.jsx("div",{ref:i,className:e,children:t})})});wC.displayName="NavbarCollapse";const RC=x.forwardRef(({bsPrefix:t,className:e,children:n,label:i="Toggle navigation",as:s="button",onClick:a,...u},f)=>{t=Le(t,"navbar-toggler");const{onToggle:p,expanded:h}=x.useContext(yr)||{},v=xl(_=>{a&&a(_),p&&p()});return s==="button"&&(u.type="button"),C.jsx(s,{...u,ref:f,onClick:v,"aria-label":i,className:Re(e,t,!h&&"collapsed"),children:n||C.jsx("span",{className:`${t}-icon`})})});RC.displayName="NavbarToggle";const lm=new WeakMap,oE=(t,e)=>{if(!t||!e)return;const n=lm.get(e)||new Map;lm.set(e,n);let i=n.get(t);return i||(i=e.matchMedia(t),i.refCount=0,n.set(i.media,i)),i};function aP(t,e=typeof window>"u"?void 0:window){const n=oE(t,e),[i,s]=x.useState(()=>n?n.matches:!1);return lC(()=>{let a=oE(t,e);if(!a)return s(!1);let u=lm.get(e);const f=()=>{s(a.matches)};return a.refCount++,a.addListener(f),f(),()=>{a.removeListener(f),a.refCount--,a.refCount<=0&&u?.delete(a.media),a=void 0}},[t]),i}function lP(t){const e=Object.keys(t);function n(f,p){return f===p?p:f?`${f} and ${p}`:p}function i(f){return e[Math.min(e.indexOf(f)+1,e.length-1)]}function s(f){const p=i(f);let h=t[p];return typeof h=="number"?h=`${h-.2}px`:h=`calc(${h} - 0.2px)`,`(max-width: ${h})`}function a(f){let p=t[f];return typeof p=="number"&&(p=`${p}px`),`(min-width: ${p})`}function u(f,p,h){let v;typeof f=="object"?(v=f,h=p,p=!0):(p=p||!0,v={[f]:p});let _=x.useMemo(()=>Object.entries(v).reduce((S,[T,A])=>((A==="up"||A===!0)&&(S=n(S,a(T))),(A==="down"||A===!0)&&(S=n(S,s(T))),S),""),[JSON.stringify(v)]);return aP(_,h)}return u}const uP=lP({xs:0,sm:576,md:768,lg:992,xl:1200,xxl:1400}),xC=x.forwardRef(({className:t,bsPrefix:e,as:n="div",...i},s)=>(e=Le(e,"offcanvas-body"),C.jsx(n,{ref:s,className:Re(t,e),...i})));xC.displayName="OffcanvasBody";const cP={[Bn]:"show",[Oi]:"show"},MC=x.forwardRef(({bsPrefix:t,className:e,children:n,in:i=!1,mountOnEnter:s=!1,unmountOnExit:a=!1,appear:u=!1,...f},p)=>(t=Le(t,"offcanvas"),C.jsx(_f,{ref:p,addEndListener:tg,in:i,mountOnEnter:s,unmountOnExit:a,appear:u,...f,childRef:Os(n),children:(h,v)=>x.cloneElement(n,{...v,className:Re(e,n.props.className,(h===Bn||h===ul)&&`${t}-toggling`,cP[h])})})));MC.displayName="OffcanvasToggling";const NC=x.forwardRef(({bsPrefix:t,className:e,closeLabel:n="Close",closeButton:i=!1,...s},a)=>(t=Le(t,"offcanvas-header"),C.jsx(EC,{ref:a,...s,className:Re(e,t),closeLabel:n,closeButton:i})));NC.displayName="OffcanvasHeader";const fP=ig("h5"),IC=x.forwardRef(({className:t,bsPrefix:e,as:n=fP,...i},s)=>(e=Le(e,"offcanvas-title"),C.jsx(n,{ref:s,className:Re(t,e),...i})));IC.displayName="OffcanvasTitle";function dP(t){return C.jsx(MC,{...t})}function hP(t){return C.jsx(CA,{...t})}const DC=x.forwardRef(({bsPrefix:t,className:e,children:n,"aria-labelledby":i,placement:s="start",responsive:a,show:u=!1,backdrop:f=!0,keyboard:p=!0,scroll:h=!1,onEscapeKeyDown:v,onShow:_,onHide:S,container:T,autoFocus:A=!0,enforceFocus:w=!0,restoreFocus:R=!0,restoreFocusOptions:D,onEntered:U,onExit:O,onExiting:L,onEnter:z,onEntering:$,onExited:V,backdropClassName:W,manager:Q,renderStaticNode:te=!1,...ee},ce)=>{const se=x.useRef();t=Le(t,"offcanvas");const[Se,Me]=x.useState(!1),k=xl(S),Z=uP(a||"xs","up");x.useEffect(()=>{Me(a?u&&!Z:u)},[u,a,Z]);const ae=x.useMemo(()=>({onHide:k}),[k]);function be(){return Q||(h?(se.current||(se.current=new _C({handleContainerOverflow:!1})),se.current):rP())}const ye=(ie,...de)=>{ie&&(ie.style.visibility="visible"),z?.(ie,...de)},N=(ie,...de)=>{ie&&(ie.style.visibility=""),V?.(...de)},Y=x.useCallback(ie=>C.jsx("div",{...ie,className:Re(`${t}-backdrop`,W)}),[W,t]),ne=ie=>C.jsx("div",{...ie,...ee,className:Re(e,a?`${t}-${a}`:t,`${t}-${s}`),"aria-labelledby":i,children:n});return C.jsxs(C.Fragment,{children:[!Se&&(a||te)&&ne({}),C.jsx(SC.Provider,{value:ae,children:C.jsx(tP,{show:Se,ref:ce,backdrop:f,container:T,keyboard:p,autoFocus:A,enforceFocus:w&&!h,restoreFocus:R,restoreFocusOptions:D,onEscapeKeyDown:v,onShow:_,onHide:k,onEnter:ye,onEntering:$,onEntered:U,onExit:O,onExiting:L,onExited:N,manager:be(),transition:dP,backdropTransition:hP,renderBackdrop:Y,renderDialog:ne})})]})});DC.displayName="Offcanvas";const pP=Object.assign(DC,{Body:xC,Header:NC,Title:IC}),OC=x.forwardRef(({onHide:t,...e},n)=>{const i=x.useContext(yr),s=xl(()=>{i==null||i.onToggle==null||i.onToggle(),t?.()});return C.jsx(pP,{ref:n,show:!!(i!=null&&i.expanded),...e,renderStaticNode:!0,onHide:s})});OC.displayName="NavbarOffcanvas";const UC=x.forwardRef(({className:t,bsPrefix:e,as:n="span",...i},s)=>(e=Le(e,"navbar-text"),C.jsx(n,{ref:s,className:Re(t,e),...i})));UC.displayName="NavbarText";const PC=x.forwardRef((t,e)=>{const{bsPrefix:n,expand:i=!0,variant:s="light",bg:a,fixed:u,sticky:f,className:p,as:h="nav",expanded:v,onToggle:_,onSelect:S,collapseOnSelect:T=!1,...A}=eg(t,{expanded:"onToggle"}),w=Le(n,"navbar"),R=x.useCallback((...O)=>{S?.(...O),T&&v&&_?.(!1)},[S,T,v,_]);A.role===void 0&&h!=="nav"&&(A.role="navigation");let D=`${w}-expand`;typeof i=="string"&&(D=`${D}-${i}`);const U=x.useMemo(()=>({onToggle:()=>_?.(!v),bsPrefix:w,expanded:!!v,expand:i}),[w,v,i,_]);return C.jsx(yr.Provider,{value:U,children:C.jsx(dr.Provider,{value:R,children:C.jsx(h,{ref:e,...A,className:Re(p,w,i&&D,s&&`${w}-${s}`,a&&`bg-${a}`,f&&`sticky-${f}`,u&&`fixed-${u}`)})})})});PC.displayName="Navbar";const rE=Object.assign(PC,{Brand:CC,Collapse:wC,Offcanvas:OC,Text:UC,Toggle:RC}),LC=x.forwardRef(({bsPrefix:t,className:e,as:n="div",...i},s)=>{const a=Le(t,"row"),u=vA(),f=yA(),p=`${a}-cols`,h=[];return u.forEach(v=>{const _=i[v];delete i[v];let S;_!=null&&typeof _=="object"?{cols:S}=_:S=_;const T=v!==f?`-${v}`:"";S!=null&&h.push(`${p}${T}-${S}`)}),C.jsx(n,{ref:s,...i,className:Re(e,a,...h)})});LC.displayName="Row";const kC=x.forwardRef(({bsPrefix:t,variant:e,animation:n="border",size:i,as:s="div",className:a,...u},f)=>{t=Le(t,"spinner");const p=`${t}-${n}`;return C.jsx(s,{ref:f,...u,className:Re(a,p,i&&`${p}-${i}`,e&&`text-${e}`)})});kC.displayName="Spinner";const BC=({name:t,onClick:e,subItems:n})=>{const[i,s]=x.useState(!1);return C.jsxs("div",{onMouseEnter:()=>s(!0),onMouseLeave:()=>s(!1),style:{position:"relative"},children:[C.jsxs("div",{className:"dropdown-item d-flex justify-content-between",style:{cursor:"pointer"},onClick:e,children:[t," ",n?C.jsx("span",{children:""}):null]}),n&&i&&C.jsx("div",{className:"dropdown-menu show",style:{position:"absolute",top:0,left:"100%",minWidth:"180px",zIndex:1e3},children:n.map((a,u)=>C.jsx(BC,{name:a.name,onClick:a.onClick,subItems:a.subItems},u))})]})},as=({title:t,items:e,onClick:n})=>{const[i,s]=x.useState(!1),a=e&&e.length>0;return C.jsxs("div",{className:"nav-item dropdown",onMouseEnter:()=>s(!0),onMouseLeave:()=>s(!1),style:{position:"relative"},children:[C.jsx("span",{className:"nav-link dropdown-toggle",style:{cursor:a||n?"pointer":"default"},onClick:()=>{n&&n()},children:t}),i&&a&&C.jsx("div",{className:"dropdown-menu show",style:{minWidth:"180px"},children:e.map((u,f)=>C.jsx(BC,{...u},f))})]})};class hr{fileHandle;data;constructor(e,n){this.fileHandle=e,this.data=yt(n),No(this)}static async create(e,n,i={}){try{const s=await e.getFileHandle(n,{create:!0}),u=await(await s.getFile()).text(),f=u.trim()===""?{...i}:{...i,...JSON.parse(u)};return new hr(s,f)}catch(s){console.error("Error loading JSON:",s);const a=await e.getFileHandle(n,{create:!0});return new hr(a,{...i})}}async save(){try{let e=await this.fileHandle.queryPermission({mode:"readwrite"});if(e!=="granted"&&(e=await this.fileHandle.requestPermission({mode:"readwrite"})),e!=="granted")throw new Error("No permission to write file");const n=await this.fileHandle.createWritable();await n.write(JSON.stringify(this.data,null,2)),await n.close()}catch(e){console.error("Error saving JSON:",e)}}async updateField(e,n){nt(()=>{this.data[e]=n}),await this.save()}}class pr{handle;urlObject=null;base64Data=null;constructor(e){this.handle=e}async getUrlObject(){if(!this.urlObject)try{const e=await this.handle.getFile();this.urlObject=URL.createObjectURL(e)}catch(e){console.error("Failed to create object URL for file:",e),this.urlObject=""}return this.urlObject}revokeUrl(){this.urlObject&&(URL.revokeObjectURL(this.urlObject),this.urlObject=null)}static async fromUrl(e,n){try{const i=await fetch(e);if(!i.ok)throw new Error(`Failed to fetch image: ${i.statusText}`);const s=await i.blob(),a=e.split("/");let u=a[a.length-1];const f=await n.getFileHandle(u,{create:!0}),p=await f.createWritable();return await p.write(s),await p.close(),new pr(f)}catch(i){throw console.error("Failed to create LocalImage from URL:",i),i}}async delete(e){try{this.revokeUrl(),await e.removeEntry(this.handle.name)}catch(n){throw console.error("Failed to delete image file:",n),n}}async getBase64(){if(this.base64Data)return this.base64Data;try{const e=await this.handle.getFile(),n=await e.arrayBuffer(),i=e.type||"image/png",s=mP(n);return this.base64Data={rawBase64:s,mime:i},this.base64Data}catch(e){return console.error("Failed to create Base64 from file:",e),{rawBase64:"",mime:"image/png"}}}static async fromBase64(e,n,i){try{let s=e.rawBase64;const a=`data:${e.mime};base64,`;s.startsWith(a)&&(s=s.slice(a.length));const u=atob(s),f=u.length,p=new Uint8Array(f);for(let S=0;S<f;S++)p[S]=u.charCodeAt(S);const h=await n.getFileHandle(i,{create:!0}),v=await h.createWritable();await v.write(p),await v.close();const _=new pr(h);return _.base64Data=e,_}catch(s){throw console.error("Failed to create LocalImage from Base64:",s),s}}}function mP(t){let e="";const n=new Uint8Array(t),i=n.byteLength;for(let s=0;s<i;s++)e+=String.fromCharCode(n[s]);return btoa(e)}var gP={};let vP,yP;function _P(){return{geminiUrl:vP,vertexUrl:yP}}function SP(t,e,n,i){var s,a;if(!t?.baseUrl){const u=_P();return e?(s=u.vertexUrl)!==null&&s!==void 0?s:n:(a=u.geminiUrl)!==null&&a!==void 0?a:i}return t.baseUrl}class qi{}function re(t,e){const n=/\{([^}]+)\}/g;return t.replace(n,(i,s)=>{if(Object.prototype.hasOwnProperty.call(e,s)){const a=e[s];return a!=null?String(a):""}else throw new Error(`Key '${s}' not found in valueMap.`)})}function m(t,e,n){for(let a=0;a<e.length-1;a++){const u=e[a];if(u.endsWith("[]")){const f=u.slice(0,-2);if(!(f in t))if(Array.isArray(n))t[f]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${u}`);if(Array.isArray(t[f])){const p=t[f];if(Array.isArray(n))for(let h=0;h<p.length;h++){const v=p[h];m(v,e.slice(a+1),n[h])}else for(const h of p)m(h,e.slice(a+1),n)}return}else if(u.endsWith("[0]")){const f=u.slice(0,-3);f in t||(t[f]=[{}]);const p=t[f];m(p[0],e.slice(a+1),n);return}(!t[u]||typeof t[u]!="object")&&(t[u]={}),t=t[u]}const i=e[e.length-1],s=t[i];if(s!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===s)return;if(typeof s=="object"&&typeof n=="object"&&s!==null&&n!==null)Object.assign(s,n);else throw new Error(`Cannot set value for an existing key. Key: ${i}`)}else i==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(t,n):t[i]=n}function d(t,e,n=void 0){try{if(e.length===1&&e[0]==="_self")return t;for(let i=0;i<e.length;i++){if(typeof t!="object"||t===null)return n;const s=e[i];if(s.endsWith("[]")){const a=s.slice(0,-2);if(a in t){const u=t[a];return Array.isArray(u)?u.map(f=>d(f,e.slice(i+1),n)):n}else return n}else t=t[s]}return t}catch(i){if(i instanceof TypeError)return n;throw i}}function EP(t,e){for(const[n,i]of Object.entries(e)){const s=n.split("."),a=i.split("."),u=new Set;let f=-1;for(let p=0;p<s.length;p++)if(s[p]==="*"){f=p;break}if(f!==-1&&a.length>f)for(let p=f;p<a.length;p++){const h=a[p];h!=="*"&&!h.endsWith("[]")&&!h.endsWith("[0]")&&u.add(h)}um(t,s,a,0,u)}}function um(t,e,n,i,s){if(i>=e.length||typeof t!="object"||t===null)return;const a=e[i];if(a.endsWith("[]")){const u=a.slice(0,-2),f=t;if(u in f&&Array.isArray(f[u]))for(const p of f[u])um(p,e,n,i+1,s)}else if(a==="*"){if(typeof t=="object"&&t!==null&&!Array.isArray(t)){const u=t,f=Object.keys(u).filter(h=>!h.startsWith("_")&&!s.has(h)),p={};for(const h of f)p[h]=u[h];for(const[h,v]of Object.entries(p)){const _=[];for(const S of n.slice(i))S==="*"?_.push(h):_.push(S);m(u,_,v)}for(const h of f)delete u[h]}}else{const u=t;a in u&&um(u[a],e,n,i+1,s)}}function Sg(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}function TP(t){const e={},n=d(t,["operationName"]);n!=null&&m(e,["operationName"],n);const i=d(t,["resourceName"]);return i!=null&&m(e,["_url","resourceName"],i),e}function bP(t){const e={},n=d(t,["name"]);n!=null&&m(e,["name"],n);const i=d(t,["metadata"]);i!=null&&m(e,["metadata"],i);const s=d(t,["done"]);s!=null&&m(e,["done"],s);const a=d(t,["error"]);a!=null&&m(e,["error"],a);const u=d(t,["response","generateVideoResponse"]);return u!=null&&m(e,["response"],CP(u)),e}function AP(t){const e={},n=d(t,["name"]);n!=null&&m(e,["name"],n);const i=d(t,["metadata"]);i!=null&&m(e,["metadata"],i);const s=d(t,["done"]);s!=null&&m(e,["done"],s);const a=d(t,["error"]);a!=null&&m(e,["error"],a);const u=d(t,["response"]);return u!=null&&m(e,["response"],wP(u)),e}function CP(t){const e={},n=d(t,["generatedSamples"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(u=>RP(u))),m(e,["generatedVideos"],a)}const i=d(t,["raiMediaFilteredCount"]);i!=null&&m(e,["raiMediaFilteredCount"],i);const s=d(t,["raiMediaFilteredReasons"]);return s!=null&&m(e,["raiMediaFilteredReasons"],s),e}function wP(t){const e={},n=d(t,["videos"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(u=>xP(u))),m(e,["generatedVideos"],a)}const i=d(t,["raiMediaFilteredCount"]);i!=null&&m(e,["raiMediaFilteredCount"],i);const s=d(t,["raiMediaFilteredReasons"]);return s!=null&&m(e,["raiMediaFilteredReasons"],s),e}function RP(t){const e={},n=d(t,["video"]);return n!=null&&m(e,["video"],UP(n)),e}function xP(t){const e={},n=d(t,["_self"]);return n!=null&&m(e,["video"],PP(n)),e}function MP(t){const e={},n=d(t,["operationName"]);return n!=null&&m(e,["_url","operationName"],n),e}function NP(t){const e={},n=d(t,["operationName"]);return n!=null&&m(e,["_url","operationName"],n),e}function IP(t){const e={},n=d(t,["name"]);n!=null&&m(e,["name"],n);const i=d(t,["metadata"]);i!=null&&m(e,["metadata"],i);const s=d(t,["done"]);s!=null&&m(e,["done"],s);const a=d(t,["error"]);a!=null&&m(e,["error"],a);const u=d(t,["response"]);return u!=null&&m(e,["response"],DP(u)),e}function DP(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const i=d(t,["parent"]);i!=null&&m(e,["parent"],i);const s=d(t,["documentName"]);return s!=null&&m(e,["documentName"],s),e}function HC(t){const e={},n=d(t,["name"]);n!=null&&m(e,["name"],n);const i=d(t,["metadata"]);i!=null&&m(e,["metadata"],i);const s=d(t,["done"]);s!=null&&m(e,["done"],s);const a=d(t,["error"]);a!=null&&m(e,["error"],a);const u=d(t,["response"]);return u!=null&&m(e,["response"],OP(u)),e}function OP(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const i=d(t,["parent"]);i!=null&&m(e,["parent"],i);const s=d(t,["documentName"]);return s!=null&&m(e,["documentName"],s),e}function UP(t){const e={},n=d(t,["uri"]);n!=null&&m(e,["uri"],n);const i=d(t,["encodedVideo"]);i!=null&&m(e,["videoBytes"],Sg(i));const s=d(t,["encoding"]);return s!=null&&m(e,["mimeType"],s),e}function PP(t){const e={},n=d(t,["gcsUri"]);n!=null&&m(e,["uri"],n);const i=d(t,["bytesBase64Encoded"]);i!=null&&m(e,["videoBytes"],Sg(i));const s=d(t,["mimeType"]);return s!=null&&m(e,["mimeType"],s),e}var sE;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(sE||(sE={}));var aE;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(aE||(aE={}));var lE;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(lE||(lE={}));var Ao;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(Ao||(Ao={}));var uE;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(uE||(uE={}));var cE;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(cE||(cE={}));var fE;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(fE||(fE={}));var dE;(function(t){t.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",t.HTTP_IN_QUERY="HTTP_IN_QUERY",t.HTTP_IN_HEADER="HTTP_IN_HEADER",t.HTTP_IN_PATH="HTTP_IN_PATH",t.HTTP_IN_BODY="HTTP_IN_BODY",t.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(dE||(dE={}));var hE;(function(t){t.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",t.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",t.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",t.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(hE||(hE={}));var pE;(function(t){t.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",t.LOW="LOW",t.HIGH="HIGH"})(pE||(pE={}));var mE;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(mE||(mE={}));var gE;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(gE||(gE={}));var vE;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(vE||(vE={}));var yE;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",t.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",t.NO_IMAGE="NO_IMAGE",t.IMAGE_RECITATION="IMAGE_RECITATION",t.IMAGE_OTHER="IMAGE_OTHER"})(yE||(yE={}));var _E;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(_E||(_E={}));var SE;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(SE||(SE={}));var EE;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",t.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",t.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(EE||(EE={}));var TE;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY",t.MODEL_ARMOR="MODEL_ARMOR",t.JAILBREAK="JAILBREAK"})(TE||(TE={}));var bE;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(bE||(bE={}));var Kc;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(Kc||(Kc={}));var AE;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(AE||(AE={}));var CE;(function(t){t.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",t.TUNING_MODE_FULL="TUNING_MODE_FULL",t.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(CE||(CE={}));var wE;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(wE||(wE={}));var cm;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(cm||(cm={}));var RE;(function(t){t.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",t.TUNING_TASK_I2V="TUNING_TASK_I2V",t.TUNING_TASK_T2V="TUNING_TASK_T2V",t.TUNING_TASK_R2V="TUNING_TASK_R2V"})(RE||(RE={}));var xE;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(xE||(xE={}));var ME;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(ME||(ME={}));var NE;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(NE||(NE={}));var IE;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(IE||(IE={}));var DE;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(DE||(DE={}));var OE;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE",t.VALIDATED="VALIDATED"})(OE||(OE={}));var UE;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(UE||(UE={}));var PE;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(PE||(PE={}));var LE;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(LE||(LE={}));var kE;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(kE||(kE={}));var BE;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(BE||(BE={}));var HE;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(HE||(HE={}));var VE;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(VE||(VE={}));var GE;(function(t){t.FOREGROUND="FOREGROUND",t.BACKGROUND="BACKGROUND",t.PROMPT="PROMPT",t.SEMANTIC="SEMANTIC",t.INTERACTIVE="INTERACTIVE"})(GE||(GE={}));var qE;(function(t){t.ASSET="ASSET",t.STYLE="STYLE"})(qE||(qE={}));var $E;(function(t){t.INSERT="INSERT",t.REMOVE="REMOVE",t.REMOVE_STATIC="REMOVE_STATIC",t.OUTPAINT="OUTPAINT"})($E||($E={}));var FE;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(FE||(FE={}));var zE;(function(t){t.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",t.PREFERENCE_TUNING="PREFERENCE_TUNING"})(zE||(zE={}));var JE;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.STATE_PENDING="STATE_PENDING",t.STATE_ACTIVE="STATE_ACTIVE",t.STATE_FAILED="STATE_FAILED"})(JE||(JE={}));var YE;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(YE||(YE={}));var KE;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED"})(KE||(KE={}));var XE;(function(t){t.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.RESPONSE_REJECTED="RESPONSE_REJECTED",t.NEED_MORE_INPUT="NEED_MORE_INPUT"})(XE||(XE={}));var QE;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(QE||(QE={}));var WE;(function(t){t.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",t.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",t.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(WE||(WE={}));var ZE;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(ZE||(ZE={}));var jE;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(jE||(jE={}));var eT;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(eT||(eT={}));var tT;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(tT||(tT={}));var nT;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(nT||(nT={}));var iT;(function(t){t.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",t.QUALITY="QUALITY",t.DIVERSITY="DIVERSITY",t.VOCALIZATION="VOCALIZATION"})(iT||(iT={}));var Ss;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(Ss||(Ss={}));class fm{constructor(e){const n={};for(const i of e.headers.entries())n[i[0]]=i[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class Ha{get text(){var e,n,i,s,a,u,f,p;if(((s=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||s===void 0?void 0:s.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let h="",v=!1;const _=[];for(const S of(p=(f=(u=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||u===void 0?void 0:u.content)===null||f===void 0?void 0:f.parts)!==null&&p!==void 0?p:[]){for(const[T,A]of Object.entries(S))T!=="text"&&T!=="thought"&&T!=="thoughtSignature"&&(A!==null||A!==void 0)&&_.push(T);if(typeof S.text=="string"){if(typeof S.thought=="boolean"&&S.thought)continue;v=!0,h+=S.text}}return _.length>0&&console.warn(`there are non-text parts ${_} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),v?h:void 0}get data(){var e,n,i,s,a,u,f,p;if(((s=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||s===void 0?void 0:s.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let h="";const v=[];for(const _ of(p=(f=(u=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||u===void 0?void 0:u.content)===null||f===void 0?void 0:f.parts)!==null&&p!==void 0?p:[]){for(const[S,T]of Object.entries(_))S!=="inlineData"&&(T!==null||T!==void 0)&&v.push(S);_.inlineData&&typeof _.inlineData.data=="string"&&(h+=atob(_.inlineData.data))}return v.length>0&&console.warn(`there are non-data parts ${v} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),h.length>0?btoa(h):void 0}get functionCalls(){var e,n,i,s,a,u,f,p;if(((s=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||s===void 0?void 0:s.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const h=(p=(f=(u=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||u===void 0?void 0:u.content)===null||f===void 0?void 0:f.parts)===null||p===void 0?void 0:p.filter(v=>v.functionCall).map(v=>v.functionCall).filter(v=>v!==void 0);if(h?.length!==0)return h}get executableCode(){var e,n,i,s,a,u,f,p,h;if(((s=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||s===void 0?void 0:s.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const v=(p=(f=(u=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||u===void 0?void 0:u.content)===null||f===void 0?void 0:f.parts)===null||p===void 0?void 0:p.filter(_=>_.executableCode).map(_=>_.executableCode).filter(_=>_!==void 0);if(v?.length!==0)return(h=v?.[0])===null||h===void 0?void 0:h.code}get codeExecutionResult(){var e,n,i,s,a,u,f,p,h;if(((s=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||s===void 0?void 0:s.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const v=(p=(f=(u=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||u===void 0?void 0:u.content)===null||f===void 0?void 0:f.parts)===null||p===void 0?void 0:p.filter(_=>_.codeExecutionResult).map(_=>_.codeExecutionResult).filter(_=>_!==void 0);if(v?.length!==0)return(h=v?.[0])===null||h===void 0?void 0:h.output}}class oT{}class rT{}class LP{}class kP{}class BP{}class HP{}class sT{}class aT{}class lT{}class VP{}class Xc{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const i=new Xc;let s;const a=e;return n?s=AP(a):s=bP(a),Object.assign(i,s),i}}class uT{}class cT{}class fT{}class dT{}class GP{}class qP{}class $P{}class Eg{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const i=new Eg,a=IP(e);return Object.assign(i,a),i}}class FP{}class zP{}class JP{}class hT{}class YP{get text(){var e,n,i;let s="",a=!1;const u=[];for(const f of(i=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&i!==void 0?i:[]){for(const[p,h]of Object.entries(f))p!=="text"&&p!=="thought"&&h!==null&&u.push(p);if(typeof f.text=="string"){if(typeof f.thought=="boolean"&&f.thought)continue;a=!0,s+=f.text}}return u.length>0&&console.warn(`there are non-text parts ${u} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),a?s:void 0}get data(){var e,n,i;let s="";const a=[];for(const u of(i=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&i!==void 0?i:[]){for(const[f,p]of Object.entries(u))f!=="inlineData"&&p!==null&&a.push(f);u.inlineData&&typeof u.inlineData.data=="string"&&(s+=atob(u.inlineData.data))}return a.length>0&&console.warn(`there are non-data parts ${a} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),s.length>0?btoa(s):void 0}}class KP{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class Tg{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const i=new Tg,a=HC(e);return Object.assign(i,a),i}}function Ge(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function VC(t,e){const n=Ge(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function GC(t){return Array.isArray(t)?t.map(e=>Qc(e)):[Qc(t)]}function Qc(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function qC(t){const e=Qc(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function $C(t){const e=Qc(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function pT(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function FC(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>pT(e)):[pT(t)]}function dm(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function mT(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function gT(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function Ot(t){if(t==null)throw new Error("ContentUnion is required");return dm(t)?t:{role:"user",parts:FC(t)}}function bg(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{const i=Ot(n);return i.parts&&i.parts.length>0&&i.parts[0].text!==void 0?[i.parts[0].text]:[]});if(t.isVertexAI()){const n=Ot(e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>Ot(n)):[Ot(e)]}function Rn(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(mT(t)||gT(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[Ot(t)]}const e=[],n=[],i=dm(t[0]);for(const s of t){const a=dm(s);if(a!=i)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(a)e.push(s);else{if(mT(s)||gT(s))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(s)}}return i||e.push({role:"user",parts:FC(n)}),e}function XP(t,e){t.includes("null")&&(e.nullable=!0);const n=t.filter(i=>i!=="null");if(n.length===1)e.type=Object.values(Ao).includes(n[0].toUpperCase())?n[0].toUpperCase():Ao.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const i of n)e.anyOf.push({type:Object.values(Ao).includes(i.toUpperCase())?i.toUpperCase():Ao.TYPE_UNSPECIFIED})}}function Ts(t){const e={},n=["items"],i=["anyOf"],s=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const a=t.anyOf;a!=null&&a.length==2&&(a[0].type==="null"?(e.nullable=!0,t=a[1]):a[1].type==="null"&&(e.nullable=!0,t=a[0])),t.type instanceof Array&&XP(t.type,e);for(const[u,f]of Object.entries(t))if(f!=null)if(u=="type"){if(f==="null")throw new Error("type: null can not be the only possible type for the field.");if(f instanceof Array)continue;e.type=Object.values(Ao).includes(f.toUpperCase())?f.toUpperCase():Ao.TYPE_UNSPECIFIED}else if(n.includes(u))e[u]=Ts(f);else if(i.includes(u)){const p=[];for(const h of f){if(h.type=="null"){e.nullable=!0;continue}p.push(Ts(h))}e[u]=p}else if(s.includes(u)){const p={};for(const[h,v]of Object.entries(f))p[h]=Ts(v);e[u]=p}else{if(u==="additionalProperties")continue;e[u]=f}return e}function Ag(t){return Ts(t)}function Cg(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function wg(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function Ps(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=Ts(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=Ts(e.response));return t}function Ls(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const n of t)e.push(n);return e}function QP(t,e,n,i=1){const s=!e.startsWith(`${n}/`)&&e.split("/").length===i;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:s?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:s?`${n}/${e}`:e}function $i(t,e){if(typeof e!="string")throw new Error("name must be a string");return QP(t,e,"cachedContents")}function zC(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function Uo(t){return Sg(t)}function WP(t){return t!=null&&typeof t=="object"&&"name"in t}function ZP(t){return t!=null&&typeof t=="object"&&"video"in t}function jP(t){return t!=null&&typeof t=="object"&&"uri"in t}function JC(t){var e;let n;if(WP(t)&&(n=t.name),!(jP(t)&&(n=t.uri,n===void 0))&&!(ZP(t)&&(n=(e=t.video)===null||e===void 0?void 0:e.uri,n===void 0))){if(typeof t=="string"&&(n=t),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const s=n.split("files/")[1].match(/[a-z0-9]+/);if(s===null)throw new Error(`Could not extract file name from URI ${n}`);n=s[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function YC(t,e){let n;return t.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function KC(t){for(const e of["models","tunedModels","publisherModels"])if(eL(t,e))return t[e];return[]}function eL(t,e){return t!==null&&typeof t=="object"&&e in t}function tL(t,e={}){const n=t,i={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(i.responseJsonSchema=n.outputSchema),e.behavior&&(i.behavior=e.behavior),{functionDeclarations:[i]}}function nL(t,e={}){const n=[],i=new Set;for(const s of t){const a=s.name;if(i.has(a))throw new Error(`Duplicate function name ${a} found in MCP tools. Please ensure function names are unique.`);i.add(a);const u=tL(s,e);u.functionDeclarations&&n.push(...u.functionDeclarations)}return{functionDeclarations:n}}function XC(t,e){let n;if(typeof e=="string")if(t.isVertexAI())if(e.startsWith("gs://"))n={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))n={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))n={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(t.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:e}}else n=e;const i=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,s=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(t.isVertexAI()){if(s>0||i!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(i>0||s!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function iL(t){if(typeof t!="string")return t;const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function QC(t){if(typeof t!="object"||t===null)return{};const e=t,n=e.inlinedResponses;if(typeof n!="object"||n===null)return t;const s=n.inlinedResponses;if(!Array.isArray(s)||s.length===0)return t;let a=!1;for(const u of s){if(typeof u!="object"||u===null)continue;const p=u.response;if(typeof p!="object"||p===null)continue;if(p.embedding!==void 0){a=!0;break}}return a&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),t}function ks(t,e){const n=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function WC(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}function oL(t){const e={},n=d(t,["responsesFile"]);n!=null&&m(e,["fileName"],n);const i=d(t,["inlinedResponses","inlinedResponses"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(u=>BL(u))),m(e,["inlinedResponses"],a)}const s=d(t,["inlinedEmbedContentResponses","inlinedResponses"]);if(s!=null){let a=s;Array.isArray(a)&&(a=a.map(u=>u)),m(e,["inlinedEmbedContentResponses"],a)}return e}function rL(t){const e={},n=d(t,["predictionsFormat"]);n!=null&&m(e,["format"],n);const i=d(t,["gcsDestination","outputUriPrefix"]);i!=null&&m(e,["gcsUri"],i);const s=d(t,["bigqueryDestination","outputUri"]);return s!=null&&m(e,["bigqueryUri"],s),e}function sL(t){const e={},n=d(t,["format"]);n!=null&&m(e,["predictionsFormat"],n);const i=d(t,["gcsUri"]);i!=null&&m(e,["gcsDestination","outputUriPrefix"],i);const s=d(t,["bigqueryUri"]);if(s!=null&&m(e,["bigqueryDestination","outputUri"],s),d(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(d(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(d(t,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function wc(t){const e={},n=d(t,["name"]);n!=null&&m(e,["name"],n);const i=d(t,["metadata","displayName"]);i!=null&&m(e,["displayName"],i);const s=d(t,["metadata","state"]);s!=null&&m(e,["state"],WC(s));const a=d(t,["metadata","createTime"]);a!=null&&m(e,["createTime"],a);const u=d(t,["metadata","endTime"]);u!=null&&m(e,["endTime"],u);const f=d(t,["metadata","updateTime"]);f!=null&&m(e,["updateTime"],f);const p=d(t,["metadata","model"]);p!=null&&m(e,["model"],p);const h=d(t,["metadata","output"]);return h!=null&&m(e,["dest"],oL(QC(h))),e}function hm(t){const e={},n=d(t,["name"]);n!=null&&m(e,["name"],n);const i=d(t,["displayName"]);i!=null&&m(e,["displayName"],i);const s=d(t,["state"]);s!=null&&m(e,["state"],WC(s));const a=d(t,["error"]);a!=null&&m(e,["error"],a);const u=d(t,["createTime"]);u!=null&&m(e,["createTime"],u);const f=d(t,["startTime"]);f!=null&&m(e,["startTime"],f);const p=d(t,["endTime"]);p!=null&&m(e,["endTime"],p);const h=d(t,["updateTime"]);h!=null&&m(e,["updateTime"],h);const v=d(t,["model"]);v!=null&&m(e,["model"],v);const _=d(t,["inputConfig"]);_!=null&&m(e,["src"],aL(_));const S=d(t,["outputConfig"]);S!=null&&m(e,["dest"],rL(QC(S)));const T=d(t,["completionStats"]);return T!=null&&m(e,["completionStats"],T),e}function aL(t){const e={},n=d(t,["instancesFormat"]);n!=null&&m(e,["format"],n);const i=d(t,["gcsSource","uris"]);i!=null&&m(e,["gcsUri"],i);const s=d(t,["bigquerySource","inputUri"]);return s!=null&&m(e,["bigqueryUri"],s),e}function lL(t,e){const n={};if(d(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(d(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(d(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const i=d(e,["fileName"]);i!=null&&m(n,["fileName"],i);const s=d(e,["inlinedRequests"]);if(s!=null){let a=s;Array.isArray(a)&&(a=a.map(u=>kL(t,u))),m(n,["requests","requests"],a)}return n}function uL(t){const e={},n=d(t,["format"]);n!=null&&m(e,["instancesFormat"],n);const i=d(t,["gcsUri"]);i!=null&&m(e,["gcsSource","uris"],i);const s=d(t,["bigqueryUri"]);if(s!=null&&m(e,["bigquerySource","inputUri"],s),d(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(d(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function cL(t){const e={},n=d(t,["data"]);if(n!=null&&m(e,["data"],n),d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=d(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}function fL(t,e){const n={},i=d(e,["name"]);return i!=null&&m(n,["_url","name"],ks(t,i)),n}function dL(t,e){const n={},i=d(e,["name"]);return i!=null&&m(n,["_url","name"],ks(t,i)),n}function hL(t){const e={},n=d(t,["content"]);n!=null&&m(e,["content"],n);const i=d(t,["citationMetadata"]);i!=null&&m(e,["citationMetadata"],pL(i));const s=d(t,["tokenCount"]);s!=null&&m(e,["tokenCount"],s);const a=d(t,["finishReason"]);a!=null&&m(e,["finishReason"],a);const u=d(t,["avgLogprobs"]);u!=null&&m(e,["avgLogprobs"],u);const f=d(t,["groundingMetadata"]);f!=null&&m(e,["groundingMetadata"],f);const p=d(t,["index"]);p!=null&&m(e,["index"],p);const h=d(t,["logprobsResult"]);h!=null&&m(e,["logprobsResult"],h);const v=d(t,["safetyRatings"]);if(v!=null){let S=v;Array.isArray(S)&&(S=S.map(T=>T)),m(e,["safetyRatings"],S)}const _=d(t,["urlContextMetadata"]);return _!=null&&m(e,["urlContextMetadata"],_),e}function pL(t){const e={},n=d(t,["citationSources"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>s)),m(e,["citations"],i)}return e}function ZC(t){const e={},n=d(t,["parts"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(a=>zL(a))),m(e,["parts"],s)}const i=d(t,["role"]);return i!=null&&m(e,["role"],i),e}function mL(t,e){const n={},i=d(t,["displayName"]);if(e!==void 0&&i!=null&&m(e,["batch","displayName"],i),d(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function gL(t,e){const n={},i=d(t,["displayName"]);e!==void 0&&i!=null&&m(e,["displayName"],i);const s=d(t,["dest"]);return e!==void 0&&s!=null&&m(e,["outputConfig"],sL(iL(s))),n}function vT(t,e){const n={},i=d(e,["model"]);i!=null&&m(n,["_url","model"],Ge(t,i));const s=d(e,["src"]);s!=null&&m(n,["batch","inputConfig"],lL(t,XC(t,s)));const a=d(e,["config"]);return a!=null&&mL(a,n),n}function vL(t,e){const n={},i=d(e,["model"]);i!=null&&m(n,["model"],Ge(t,i));const s=d(e,["src"]);s!=null&&m(n,["inputConfig"],uL(XC(t,s)));const a=d(e,["config"]);return a!=null&&gL(a,n),n}function yL(t,e){const n={},i=d(t,["displayName"]);return e!==void 0&&i!=null&&m(e,["batch","displayName"],i),n}function _L(t,e){const n={},i=d(e,["model"]);i!=null&&m(n,["_url","model"],Ge(t,i));const s=d(e,["src"]);s!=null&&m(n,["batch","inputConfig"],wL(t,s));const a=d(e,["config"]);return a!=null&&yL(a,n),n}function SL(t,e){const n={},i=d(e,["name"]);return i!=null&&m(n,["_url","name"],ks(t,i)),n}function EL(t,e){const n={},i=d(e,["name"]);return i!=null&&m(n,["_url","name"],ks(t,i)),n}function TL(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const i=d(t,["name"]);i!=null&&m(e,["name"],i);const s=d(t,["done"]);s!=null&&m(e,["done"],s);const a=d(t,["error"]);return a!=null&&m(e,["error"],a),e}function bL(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const i=d(t,["name"]);i!=null&&m(e,["name"],i);const s=d(t,["done"]);s!=null&&m(e,["done"],s);const a=d(t,["error"]);return a!=null&&m(e,["error"],a),e}function AL(t,e){const n={},i=d(e,["contents"]);if(i!=null){let a=bg(t,i);Array.isArray(a)&&(a=a.map(u=>u)),m(n,["requests[]","request","content"],a)}const s=d(e,["config"]);return s!=null&&(m(n,["_self"],CL(s,n)),EP(n,{"requests[].*":"requests[].request.*"})),n}function CL(t,e){const n={},i=d(t,["taskType"]);e!==void 0&&i!=null&&m(e,["requests[]","taskType"],i);const s=d(t,["title"]);e!==void 0&&s!=null&&m(e,["requests[]","title"],s);const a=d(t,["outputDimensionality"]);if(e!==void 0&&a!=null&&m(e,["requests[]","outputDimensionality"],a),d(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(d(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function wL(t,e){const n={},i=d(e,["fileName"]);i!=null&&m(n,["file_name"],i);const s=d(e,["inlinedRequests"]);return s!=null&&m(n,["requests"],AL(t,s)),n}function RL(t){const e={};if(d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=d(t,["fileUri"]);n!=null&&m(e,["fileUri"],n);const i=d(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}function xL(t){const e={},n=d(t,["id"]);n!=null&&m(e,["id"],n);const i=d(t,["args"]);i!=null&&m(e,["args"],i);const s=d(t,["name"]);if(s!=null&&m(e,["name"],s),d(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(d(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function ML(t){const e={},n=d(t,["mode"]);n!=null&&m(e,["mode"],n);const i=d(t,["allowedFunctionNames"]);if(i!=null&&m(e,["allowedFunctionNames"],i),d(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function NL(t,e,n){const i={},s=d(e,["systemInstruction"]);n!==void 0&&s!=null&&m(n,["systemInstruction"],ZC(Ot(s)));const a=d(e,["temperature"]);a!=null&&m(i,["temperature"],a);const u=d(e,["topP"]);u!=null&&m(i,["topP"],u);const f=d(e,["topK"]);f!=null&&m(i,["topK"],f);const p=d(e,["candidateCount"]);p!=null&&m(i,["candidateCount"],p);const h=d(e,["maxOutputTokens"]);h!=null&&m(i,["maxOutputTokens"],h);const v=d(e,["stopSequences"]);v!=null&&m(i,["stopSequences"],v);const _=d(e,["responseLogprobs"]);_!=null&&m(i,["responseLogprobs"],_);const S=d(e,["logprobs"]);S!=null&&m(i,["logprobs"],S);const T=d(e,["presencePenalty"]);T!=null&&m(i,["presencePenalty"],T);const A=d(e,["frequencyPenalty"]);A!=null&&m(i,["frequencyPenalty"],A);const w=d(e,["seed"]);w!=null&&m(i,["seed"],w);const R=d(e,["responseMimeType"]);R!=null&&m(i,["responseMimeType"],R);const D=d(e,["responseSchema"]);D!=null&&m(i,["responseSchema"],Ag(D));const U=d(e,["responseJsonSchema"]);if(U!=null&&m(i,["responseJsonSchema"],U),d(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(d(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const O=d(e,["safetySettings"]);if(n!==void 0&&O!=null){let se=O;Array.isArray(se)&&(se=se.map(Se=>JL(Se))),m(n,["safetySettings"],se)}const L=d(e,["tools"]);if(n!==void 0&&L!=null){let se=Ls(L);Array.isArray(se)&&(se=se.map(Se=>KL(Ps(Se)))),m(n,["tools"],se)}const z=d(e,["toolConfig"]);if(n!==void 0&&z!=null&&m(n,["toolConfig"],YL(z)),d(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const $=d(e,["cachedContent"]);n!==void 0&&$!=null&&m(n,["cachedContent"],$i(t,$));const V=d(e,["responseModalities"]);V!=null&&m(i,["responseModalities"],V);const W=d(e,["mediaResolution"]);W!=null&&m(i,["mediaResolution"],W);const Q=d(e,["speechConfig"]);if(Q!=null&&m(i,["speechConfig"],Cg(Q)),d(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const te=d(e,["thinkingConfig"]);te!=null&&m(i,["thinkingConfig"],te);const ee=d(e,["imageConfig"]);ee!=null&&m(i,["imageConfig"],LL(ee));const ce=d(e,["enableEnhancedCivicAnswers"]);return ce!=null&&m(i,["enableEnhancedCivicAnswers"],ce),i}function IL(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const i=d(t,["candidates"]);if(i!=null){let p=i;Array.isArray(p)&&(p=p.map(h=>hL(h))),m(e,["candidates"],p)}const s=d(t,["modelVersion"]);s!=null&&m(e,["modelVersion"],s);const a=d(t,["promptFeedback"]);a!=null&&m(e,["promptFeedback"],a);const u=d(t,["responseId"]);u!=null&&m(e,["responseId"],u);const f=d(t,["usageMetadata"]);return f!=null&&m(e,["usageMetadata"],f),e}function DL(t,e){const n={},i=d(e,["name"]);return i!=null&&m(n,["_url","name"],ks(t,i)),n}function OL(t,e){const n={},i=d(e,["name"]);return i!=null&&m(n,["_url","name"],ks(t,i)),n}function UL(t){const e={};if(d(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=d(t,["enableWidget"]);return n!=null&&m(e,["enableWidget"],n),e}function PL(t){const e={};if(d(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(d(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=d(t,["timeRangeFilter"]);return n!=null&&m(e,["timeRangeFilter"],n),e}function LL(t){const e={},n=d(t,["aspectRatio"]);n!=null&&m(e,["aspectRatio"],n);const i=d(t,["imageSize"]);if(i!=null&&m(e,["imageSize"],i),d(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(d(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function kL(t,e){const n={},i=d(e,["model"]);i!=null&&m(n,["request","model"],Ge(t,i));const s=d(e,["contents"]);if(s!=null){let f=Rn(s);Array.isArray(f)&&(f=f.map(p=>ZC(p))),m(n,["request","contents"],f)}const a=d(e,["metadata"]);a!=null&&m(n,["metadata"],a);const u=d(e,["config"]);return u!=null&&m(n,["request","generationConfig"],NL(t,u,d(n,["request"],{}))),n}function BL(t){const e={},n=d(t,["response"]);n!=null&&m(e,["response"],IL(n));const i=d(t,["error"]);return i!=null&&m(e,["error"],i),e}function HL(t,e){const n={},i=d(t,["pageSize"]);e!==void 0&&i!=null&&m(e,["_query","pageSize"],i);const s=d(t,["pageToken"]);if(e!==void 0&&s!=null&&m(e,["_query","pageToken"],s),d(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function VL(t,e){const n={},i=d(t,["pageSize"]);e!==void 0&&i!=null&&m(e,["_query","pageSize"],i);const s=d(t,["pageToken"]);e!==void 0&&s!=null&&m(e,["_query","pageToken"],s);const a=d(t,["filter"]);return e!==void 0&&a!=null&&m(e,["_query","filter"],a),n}function GL(t){const e={},n=d(t,["config"]);return n!=null&&HL(n,e),e}function qL(t){const e={},n=d(t,["config"]);return n!=null&&VL(n,e),e}function $L(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const i=d(t,["nextPageToken"]);i!=null&&m(e,["nextPageToken"],i);const s=d(t,["operations"]);if(s!=null){let a=s;Array.isArray(a)&&(a=a.map(u=>wc(u))),m(e,["batchJobs"],a)}return e}function FL(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const i=d(t,["nextPageToken"]);i!=null&&m(e,["nextPageToken"],i);const s=d(t,["batchPredictionJobs"]);if(s!=null){let a=s;Array.isArray(a)&&(a=a.map(u=>hm(u))),m(e,["batchJobs"],a)}return e}function zL(t){const e={},n=d(t,["mediaResolution"]);n!=null&&m(e,["mediaResolution"],n);const i=d(t,["codeExecutionResult"]);i!=null&&m(e,["codeExecutionResult"],i);const s=d(t,["executableCode"]);s!=null&&m(e,["executableCode"],s);const a=d(t,["fileData"]);a!=null&&m(e,["fileData"],RL(a));const u=d(t,["functionCall"]);u!=null&&m(e,["functionCall"],xL(u));const f=d(t,["functionResponse"]);f!=null&&m(e,["functionResponse"],f);const p=d(t,["inlineData"]);p!=null&&m(e,["inlineData"],cL(p));const h=d(t,["text"]);h!=null&&m(e,["text"],h);const v=d(t,["thought"]);v!=null&&m(e,["thought"],v);const _=d(t,["thoughtSignature"]);_!=null&&m(e,["thoughtSignature"],_);const S=d(t,["videoMetadata"]);return S!=null&&m(e,["videoMetadata"],S),e}function JL(t){const e={},n=d(t,["category"]);if(n!=null&&m(e,["category"],n),d(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const i=d(t,["threshold"]);return i!=null&&m(e,["threshold"],i),e}function YL(t){const e={},n=d(t,["functionCallingConfig"]);n!=null&&m(e,["functionCallingConfig"],ML(n));const i=d(t,["retrievalConfig"]);return i!=null&&m(e,["retrievalConfig"],i),e}function KL(t){const e={},n=d(t,["functionDeclarations"]);if(n!=null){let v=n;Array.isArray(v)&&(v=v.map(_=>_)),m(e,["functionDeclarations"],v)}if(d(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=d(t,["googleSearchRetrieval"]);i!=null&&m(e,["googleSearchRetrieval"],i);const s=d(t,["computerUse"]);s!=null&&m(e,["computerUse"],s);const a=d(t,["fileSearch"]);a!=null&&m(e,["fileSearch"],a);const u=d(t,["codeExecution"]);if(u!=null&&m(e,["codeExecution"],u),d(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const f=d(t,["googleMaps"]);f!=null&&m(e,["googleMaps"],UL(f));const p=d(t,["googleSearch"]);p!=null&&m(e,["googleSearch"],PL(p));const h=d(t,["urlContext"]);return h!=null&&m(e,["urlContext"],h),e}var Vi;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents",t.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",t.PAGED_ITEM_DOCUMENTS="documents"})(Vi||(Vi={}));class _r{constructor(e,n,i,s){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,i,s)}init(e,n,i){var s,a;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n?.sdkHttpResponse,this.idxInternal=0;let u={config:{}};!i||Object.keys(i).length===0?u={config:{}}:typeof i=="object"?u=Object.assign({},i):u=i,u.config&&(u.config.pageToken=n.nextPageToken),this.paramsInternal=u,this.pageInternalSize=(a=(s=u.config)===null||s===void 0?void 0:s.pageSize)!==null&&a!==void 0?a:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}let XL=class extends qi{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new _r(Vi.PAGED_ITEM_BATCH_JOBS,i=>this.listInternal(i),await this.listInternal(n),n),this.create=async n=>(this.apiClient.isVertexAI()&&(n.config=this.formatDestination(n.src,n.config)),this.createInternal(n)),this.createEmbeddings=async n=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(n)}}createInlinedGenerateContentRequest(e){const n=vT(this.apiClient,e),i=n._url,s=re("{model}:batchGenerateContent",i),f=n.batch.inputConfig.requests,p=f.requests,h=[];for(const v of p){const _=Object.assign({},v);if(_.systemInstruction){const S=_.systemInstruction;delete _.systemInstruction;const T=_.request;T.systemInstruction=S,_.request=T}h.push(_)}return f.requests=h,delete n.config,delete n._url,delete n._query,{path:s,body:n}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,n){const i=n?Object.assign({},n):{},s=Date.now().toString();if(i.displayName||(i.displayName=`genaiBatchJob_${s}`),i.dest===void 0){const a=this.getGcsUri(e),u=this.getBigqueryUri(e);if(a)a.endsWith(".jsonl")?i.dest=`${a.slice(0,-6)}/dest`:i.dest=`${a}_dest_${s}`;else if(u)i.dest=`${u}_dest_${s}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return i}async createInternal(e){var n,i,s,a;let u,f="",p={};if(this.apiClient.isVertexAI()){const h=vL(this.apiClient,e);return f=re("batchPredictionJobs",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json()),u.then(v=>hm(v))}else{const h=vT(this.apiClient,e);return f=re("{model}:batchGenerateContent",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),u.then(v=>wc(v))}}async createEmbeddingsInternal(e){var n,i;let s,a="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=_L(this.apiClient,e);return a=re("{model}:asyncBatchEmbedContent",f._url),u=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),s.then(p=>wc(p))}}async get(e){var n,i,s,a;let u,f="",p={};if(this.apiClient.isVertexAI()){const h=OL(this.apiClient,e);return f=re("batchPredictionJobs/{name}",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json()),u.then(v=>hm(v))}else{const h=DL(this.apiClient,e);return f=re("batches/{name}",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),u.then(v=>wc(v))}}async cancel(e){var n,i,s,a;let u="",f={};if(this.apiClient.isVertexAI()){const p=dL(this.apiClient,e);u=re("batchPredictionJobs/{name}:cancel",p._url),f=p._query,delete p._url,delete p._query,await this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal})}else{const p=fL(this.apiClient,e);u=re("batches/{name}:cancel",p._url),f=p._query,delete p._url,delete p._query,await this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal})}}async listInternal(e){var n,i,s,a;let u,f="",p={};if(this.apiClient.isVertexAI()){const h=qL(e);return f=re("batchPredictionJobs",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),u.then(v=>{const _=FL(v),S=new hT;return Object.assign(S,_),S})}else{const h=GL(e);return f=re("batches",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),u.then(v=>{const _=$L(v),S=new hT;return Object.assign(S,_),S})}}async delete(e){var n,i,s,a;let u,f="",p={};if(this.apiClient.isVertexAI()){const h=EL(this.apiClient,e);return f=re("batchPredictionJobs/{name}",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),u.then(v=>bL(v))}else{const h=SL(this.apiClient,e);return f=re("batches/{name}",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),u.then(v=>TL(v))}}};function QL(t){const e={},n=d(t,["data"]);if(n!=null&&m(e,["data"],n),d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=d(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}function yT(t){const e={},n=d(t,["parts"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(a=>_k(a))),m(e,["parts"],s)}const i=d(t,["role"]);return i!=null&&m(e,["role"],i),e}function WL(t,e){const n={},i=d(t,["ttl"]);e!==void 0&&i!=null&&m(e,["ttl"],i);const s=d(t,["expireTime"]);e!==void 0&&s!=null&&m(e,["expireTime"],s);const a=d(t,["displayName"]);e!==void 0&&a!=null&&m(e,["displayName"],a);const u=d(t,["contents"]);if(e!==void 0&&u!=null){let v=Rn(u);Array.isArray(v)&&(v=v.map(_=>yT(_))),m(e,["contents"],v)}const f=d(t,["systemInstruction"]);e!==void 0&&f!=null&&m(e,["systemInstruction"],yT(Ot(f)));const p=d(t,["tools"]);if(e!==void 0&&p!=null){let v=p;Array.isArray(v)&&(v=v.map(_=>Ek(_))),m(e,["tools"],v)}const h=d(t,["toolConfig"]);if(e!==void 0&&h!=null&&m(e,["toolConfig"],Sk(h)),d(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function ZL(t,e){const n={},i=d(t,["ttl"]);e!==void 0&&i!=null&&m(e,["ttl"],i);const s=d(t,["expireTime"]);e!==void 0&&s!=null&&m(e,["expireTime"],s);const a=d(t,["displayName"]);e!==void 0&&a!=null&&m(e,["displayName"],a);const u=d(t,["contents"]);if(e!==void 0&&u!=null){let _=Rn(u);Array.isArray(_)&&(_=_.map(S=>S)),m(e,["contents"],_)}const f=d(t,["systemInstruction"]);e!==void 0&&f!=null&&m(e,["systemInstruction"],Ot(f));const p=d(t,["tools"]);if(e!==void 0&&p!=null){let _=p;Array.isArray(_)&&(_=_.map(S=>Tk(S))),m(e,["tools"],_)}const h=d(t,["toolConfig"]);e!==void 0&&h!=null&&m(e,["toolConfig"],h);const v=d(t,["kmsKeyName"]);return e!==void 0&&v!=null&&m(e,["encryption_spec","kmsKeyName"],v),n}function jL(t,e){const n={},i=d(e,["model"]);i!=null&&m(n,["model"],VC(t,i));const s=d(e,["config"]);return s!=null&&WL(s,n),n}function ek(t,e){const n={},i=d(e,["model"]);i!=null&&m(n,["model"],VC(t,i));const s=d(e,["config"]);return s!=null&&ZL(s,n),n}function tk(t,e){const n={},i=d(e,["name"]);return i!=null&&m(n,["_url","name"],$i(t,i)),n}function nk(t,e){const n={},i=d(e,["name"]);return i!=null&&m(n,["_url","name"],$i(t,i)),n}function ik(t){const e={},n=d(t,["sdkHttpResponse"]);return n!=null&&m(e,["sdkHttpResponse"],n),e}function ok(t){const e={},n=d(t,["sdkHttpResponse"]);return n!=null&&m(e,["sdkHttpResponse"],n),e}function rk(t){const e={};if(d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=d(t,["fileUri"]);n!=null&&m(e,["fileUri"],n);const i=d(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}function sk(t){const e={},n=d(t,["id"]);n!=null&&m(e,["id"],n);const i=d(t,["args"]);i!=null&&m(e,["args"],i);const s=d(t,["name"]);if(s!=null&&m(e,["name"],s),d(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(d(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function ak(t){const e={},n=d(t,["mode"]);n!=null&&m(e,["mode"],n);const i=d(t,["allowedFunctionNames"]);if(i!=null&&m(e,["allowedFunctionNames"],i),d(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function lk(t){const e={};if(d(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=d(t,["description"]);n!=null&&m(e,["description"],n);const i=d(t,["name"]);i!=null&&m(e,["name"],i);const s=d(t,["parameters"]);s!=null&&m(e,["parameters"],s);const a=d(t,["parametersJsonSchema"]);a!=null&&m(e,["parametersJsonSchema"],a);const u=d(t,["response"]);u!=null&&m(e,["response"],u);const f=d(t,["responseJsonSchema"]);return f!=null&&m(e,["responseJsonSchema"],f),e}function uk(t,e){const n={},i=d(e,["name"]);return i!=null&&m(n,["_url","name"],$i(t,i)),n}function ck(t,e){const n={},i=d(e,["name"]);return i!=null&&m(n,["_url","name"],$i(t,i)),n}function fk(t){const e={};if(d(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=d(t,["enableWidget"]);return n!=null&&m(e,["enableWidget"],n),e}function dk(t){const e={};if(d(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(d(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=d(t,["timeRangeFilter"]);return n!=null&&m(e,["timeRangeFilter"],n),e}function hk(t,e){const n={},i=d(t,["pageSize"]);e!==void 0&&i!=null&&m(e,["_query","pageSize"],i);const s=d(t,["pageToken"]);return e!==void 0&&s!=null&&m(e,["_query","pageToken"],s),n}function pk(t,e){const n={},i=d(t,["pageSize"]);e!==void 0&&i!=null&&m(e,["_query","pageSize"],i);const s=d(t,["pageToken"]);return e!==void 0&&s!=null&&m(e,["_query","pageToken"],s),n}function mk(t){const e={},n=d(t,["config"]);return n!=null&&hk(n,e),e}function gk(t){const e={},n=d(t,["config"]);return n!=null&&pk(n,e),e}function vk(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const i=d(t,["nextPageToken"]);i!=null&&m(e,["nextPageToken"],i);const s=d(t,["cachedContents"]);if(s!=null){let a=s;Array.isArray(a)&&(a=a.map(u=>u)),m(e,["cachedContents"],a)}return e}function yk(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const i=d(t,["nextPageToken"]);i!=null&&m(e,["nextPageToken"],i);const s=d(t,["cachedContents"]);if(s!=null){let a=s;Array.isArray(a)&&(a=a.map(u=>u)),m(e,["cachedContents"],a)}return e}function _k(t){const e={},n=d(t,["mediaResolution"]);n!=null&&m(e,["mediaResolution"],n);const i=d(t,["codeExecutionResult"]);i!=null&&m(e,["codeExecutionResult"],i);const s=d(t,["executableCode"]);s!=null&&m(e,["executableCode"],s);const a=d(t,["fileData"]);a!=null&&m(e,["fileData"],rk(a));const u=d(t,["functionCall"]);u!=null&&m(e,["functionCall"],sk(u));const f=d(t,["functionResponse"]);f!=null&&m(e,["functionResponse"],f);const p=d(t,["inlineData"]);p!=null&&m(e,["inlineData"],QL(p));const h=d(t,["text"]);h!=null&&m(e,["text"],h);const v=d(t,["thought"]);v!=null&&m(e,["thought"],v);const _=d(t,["thoughtSignature"]);_!=null&&m(e,["thoughtSignature"],_);const S=d(t,["videoMetadata"]);return S!=null&&m(e,["videoMetadata"],S),e}function Sk(t){const e={},n=d(t,["functionCallingConfig"]);n!=null&&m(e,["functionCallingConfig"],ak(n));const i=d(t,["retrievalConfig"]);return i!=null&&m(e,["retrievalConfig"],i),e}function Ek(t){const e={},n=d(t,["functionDeclarations"]);if(n!=null){let v=n;Array.isArray(v)&&(v=v.map(_=>_)),m(e,["functionDeclarations"],v)}if(d(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=d(t,["googleSearchRetrieval"]);i!=null&&m(e,["googleSearchRetrieval"],i);const s=d(t,["computerUse"]);s!=null&&m(e,["computerUse"],s);const a=d(t,["fileSearch"]);a!=null&&m(e,["fileSearch"],a);const u=d(t,["codeExecution"]);if(u!=null&&m(e,["codeExecution"],u),d(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const f=d(t,["googleMaps"]);f!=null&&m(e,["googleMaps"],fk(f));const p=d(t,["googleSearch"]);p!=null&&m(e,["googleSearch"],dk(p));const h=d(t,["urlContext"]);return h!=null&&m(e,["urlContext"],h),e}function Tk(t){const e={},n=d(t,["functionDeclarations"]);if(n!=null){let _=n;Array.isArray(_)&&(_=_.map(S=>lk(S))),m(e,["functionDeclarations"],_)}const i=d(t,["retrieval"]);i!=null&&m(e,["retrieval"],i);const s=d(t,["googleSearchRetrieval"]);s!=null&&m(e,["googleSearchRetrieval"],s);const a=d(t,["computerUse"]);if(a!=null&&m(e,["computerUse"],a),d(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const u=d(t,["codeExecution"]);u!=null&&m(e,["codeExecution"],u);const f=d(t,["enterpriseWebSearch"]);f!=null&&m(e,["enterpriseWebSearch"],f);const p=d(t,["googleMaps"]);p!=null&&m(e,["googleMaps"],p);const h=d(t,["googleSearch"]);h!=null&&m(e,["googleSearch"],h);const v=d(t,["urlContext"]);return v!=null&&m(e,["urlContext"],v),e}function bk(t,e){const n={},i=d(t,["ttl"]);e!==void 0&&i!=null&&m(e,["ttl"],i);const s=d(t,["expireTime"]);return e!==void 0&&s!=null&&m(e,["expireTime"],s),n}function Ak(t,e){const n={},i=d(t,["ttl"]);e!==void 0&&i!=null&&m(e,["ttl"],i);const s=d(t,["expireTime"]);return e!==void 0&&s!=null&&m(e,["expireTime"],s),n}function Ck(t,e){const n={},i=d(e,["name"]);i!=null&&m(n,["_url","name"],$i(t,i));const s=d(e,["config"]);return s!=null&&bk(s,n),n}function wk(t,e){const n={},i=d(e,["name"]);i!=null&&m(n,["_url","name"],$i(t,i));const s=d(e,["config"]);return s!=null&&Ak(s,n),n}class Rk extends qi{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new _r(Vi.PAGED_ITEM_CACHED_CONTENTS,i=>this.listInternal(i),await this.listInternal(n),n)}async create(e){var n,i,s,a;let u,f="",p={};if(this.apiClient.isVertexAI()){const h=ek(this.apiClient,e);return f=re("cachedContents",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json()),u.then(v=>v)}else{const h=jL(this.apiClient,e);return f=re("cachedContents",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),u.then(v=>v)}}async get(e){var n,i,s,a;let u,f="",p={};if(this.apiClient.isVertexAI()){const h=ck(this.apiClient,e);return f=re("{name}",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json()),u.then(v=>v)}else{const h=uk(this.apiClient,e);return f=re("{name}",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),u.then(v=>v)}}async delete(e){var n,i,s,a;let u,f="",p={};if(this.apiClient.isVertexAI()){const h=nk(this.apiClient,e);return f=re("{name}",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),u.then(v=>{const _=ok(v),S=new fT;return Object.assign(S,_),S})}else{const h=tk(this.apiClient,e);return f=re("{name}",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),u.then(v=>{const _=ik(v),S=new fT;return Object.assign(S,_),S})}}async update(e){var n,i,s,a;let u,f="",p={};if(this.apiClient.isVertexAI()){const h=wk(this.apiClient,e);return f=re("{name}",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json()),u.then(v=>v)}else{const h=Ck(this.apiClient,e);return f=re("{name}",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),u.then(v=>v)}}async listInternal(e){var n,i,s,a;let u,f="",p={};if(this.apiClient.isVertexAI()){const h=gk(e);return f=re("cachedContents",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),u.then(v=>{const _=yk(v),S=new dT;return Object.assign(S,_),S})}else{const h=mk(e);return f=re("cachedContents",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),u.then(v=>{const _=vk(v),S=new dT;return Object.assign(S,_),S})}}}function Wc(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(t);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(t,i[s])&&(n[i[s]]=t[i[s]]);return n}function _T(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Te(t){return this instanceof Te?(this.v=t,this):new Te(t)}function qn(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=n.apply(t,e||[]),s,a=[];return s=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),f("next"),f("throw"),f("return",u),s[Symbol.asyncIterator]=function(){return this},s;function u(T){return function(A){return Promise.resolve(A).then(T,_)}}function f(T,A){i[T]&&(s[T]=function(w){return new Promise(function(R,D){a.push([T,w,R,D])>1||p(T,w)})},A&&(s[T]=A(s[T])))}function p(T,A){try{h(i[T](A))}catch(w){S(a[0][3],w)}}function h(T){T.value instanceof Te?Promise.resolve(T.value.v).then(v,_):S(a[0][2],T)}function v(T){p("next",T)}function _(T){p("throw",T)}function S(T,A){T(A),a.shift(),a.length&&p(a[0][0],a[0][1])}}function $n(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof _T=="function"?_T(t):t[Symbol.iterator](),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(a){n[a]=t[a]&&function(u){return new Promise(function(f,p){u=t[a](u),s(f,p,u.done,u.value)})}}function s(a,u,f,p){Promise.resolve(p).then(function(h){a({value:h,done:f})},u)}}function xk(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:jC(n)}function jC(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function Mk(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function ST(t){if(t===void 0||t.length===0)return[];const e=[],n=t.length;let i=0;for(;i<n;)if(t[i].role==="user")e.push(t[i]),i++;else{const s=[];let a=!0;for(;i<n&&t[i].role==="model";)s.push(t[i]),a&&!jC(t[i])&&(a=!1),i++;a?e.push(...s):e.pop()}return e}class Nk{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new Ik(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}let Ik=class{constructor(e,n,i,s={},a=[]){this.apiClient=e,this.modelsModule=n,this.model=i,this.config=s,this.history=a,this.sendPromise=Promise.resolve(),Mk(a)}async sendMessage(e){var n;await this.sendPromise;const i=Ot(e.message),s=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(i),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var a,u,f;const p=await s,h=(u=(a=p.candidates)===null||a===void 0?void 0:a[0])===null||u===void 0?void 0:u.content,v=p.automaticFunctionCallingHistory,_=this.getHistory(!0).length;let S=[];v!=null&&(S=(f=v.slice(_))!==null&&f!==void 0?f:[]);const T=h?[h]:[];this.recordHistory(i,T,S)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),s}async sendMessageStream(e){var n;await this.sendPromise;const i=Ot(e.message),s=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(i),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=s.then(()=>{}).catch(()=>{});const a=await s;return this.processStreamResponse(a,i)}getHistory(e=!1){const n=e?ST(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){return qn(this,arguments,function*(){var s,a,u,f,p,h;const v=[];try{for(var _=!0,S=$n(e),T;T=yield Te(S.next()),s=T.done,!s;_=!0){f=T.value,_=!1;const A=f;if(xk(A)){const w=(h=(p=A.candidates)===null||p===void 0?void 0:p[0])===null||h===void 0?void 0:h.content;w!==void 0&&v.push(w)}yield yield Te(A)}}catch(A){a={error:A}}finally{try{!_&&!s&&(u=S.return)&&(yield Te(u.call(S)))}finally{if(a)throw a.error}}this.recordHistory(n,v)})}recordHistory(e,n,i){let s=[];n.length>0&&n.every(a=>a.role!==void 0)?s=n:s.push({role:"model",parts:[]}),i&&i.length>0?this.history.push(...ST(i)):this.history.push(e),this.history.push(...s)}};class Cf extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,Cf.prototype)}}function Dk(t){const e={},n=d(t,["file"]);return n!=null&&m(e,["file"],n),e}function Ok(t){const e={},n=d(t,["sdkHttpResponse"]);return n!=null&&m(e,["sdkHttpResponse"],n),e}function Uk(t){const e={},n=d(t,["name"]);return n!=null&&m(e,["_url","file"],JC(n)),e}function Pk(t){const e={},n=d(t,["sdkHttpResponse"]);return n!=null&&m(e,["sdkHttpResponse"],n),e}function Lk(t){const e={},n=d(t,["name"]);return n!=null&&m(e,["_url","file"],JC(n)),e}function kk(t,e){const n={},i=d(t,["pageSize"]);e!==void 0&&i!=null&&m(e,["_query","pageSize"],i);const s=d(t,["pageToken"]);return e!==void 0&&s!=null&&m(e,["_query","pageToken"],s),n}function Bk(t){const e={},n=d(t,["config"]);return n!=null&&kk(n,e),e}function Hk(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const i=d(t,["nextPageToken"]);i!=null&&m(e,["nextPageToken"],i);const s=d(t,["files"]);if(s!=null){let a=s;Array.isArray(a)&&(a=a.map(u=>u)),m(e,["files"],a)}return e}let Vk=class extends qi{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new _r(Vi.PAGED_ITEM_FILES,i=>this.listInternal(i),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>n)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var n,i;let s,a="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=Bk(e);return a=re("files",f._url),u=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:p.headers},v})),s.then(p=>{const h=Hk(p),v=new FP;return Object.assign(v,h),v})}}async createInternal(e){var n,i;let s,a="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=Dk(e);return a=re("upload/v1beta/files",f._url),u=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),s.then(p=>{const h=Ok(p),v=new zP;return Object.assign(v,h),v})}}async get(e){var n,i;let s,a="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=Lk(e);return a=re("files/{file}",f._url),u=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),s.then(p=>p)}}async delete(e){var n,i;let s,a="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=Uk(e);return a=re("files/{file}",f._url),u=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:p.headers},v})),s.then(p=>{const h=Pk(p),v=new JP;return Object.assign(v,h),v})}}};function Rc(t){const e={},n=d(t,["data"]);if(n!=null&&m(e,["data"],n),d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=d(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}function Gk(t){const e={},n=d(t,["parts"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(a=>iB(a))),m(e,["parts"],s)}const i=d(t,["role"]);return i!=null&&m(e,["role"],i),e}function qk(t){const e={};if(d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=d(t,["fileUri"]);n!=null&&m(e,["fileUri"],n);const i=d(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}function $k(t){const e={},n=d(t,["id"]);n!=null&&m(e,["id"],n);const i=d(t,["args"]);i!=null&&m(e,["args"],i);const s=d(t,["name"]);if(s!=null&&m(e,["name"],s),d(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(d(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Fk(t){const e={};if(d(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=d(t,["description"]);n!=null&&m(e,["description"],n);const i=d(t,["name"]);i!=null&&m(e,["name"],i);const s=d(t,["parameters"]);s!=null&&m(e,["parameters"],s);const a=d(t,["parametersJsonSchema"]);a!=null&&m(e,["parametersJsonSchema"],a);const u=d(t,["response"]);u!=null&&m(e,["response"],u);const f=d(t,["responseJsonSchema"]);return f!=null&&m(e,["responseJsonSchema"],f),e}function zk(t){const e={},n=d(t,["modelSelectionConfig"]);n!=null&&m(e,["modelConfig"],n);const i=d(t,["responseJsonSchema"]);i!=null&&m(e,["responseJsonSchema"],i);const s=d(t,["audioTimestamp"]);s!=null&&m(e,["audioTimestamp"],s);const a=d(t,["candidateCount"]);a!=null&&m(e,["candidateCount"],a);const u=d(t,["enableAffectiveDialog"]);u!=null&&m(e,["enableAffectiveDialog"],u);const f=d(t,["frequencyPenalty"]);f!=null&&m(e,["frequencyPenalty"],f);const p=d(t,["logprobs"]);p!=null&&m(e,["logprobs"],p);const h=d(t,["maxOutputTokens"]);h!=null&&m(e,["maxOutputTokens"],h);const v=d(t,["mediaResolution"]);v!=null&&m(e,["mediaResolution"],v);const _=d(t,["presencePenalty"]);_!=null&&m(e,["presencePenalty"],_);const S=d(t,["responseLogprobs"]);S!=null&&m(e,["responseLogprobs"],S);const T=d(t,["responseMimeType"]);T!=null&&m(e,["responseMimeType"],T);const A=d(t,["responseModalities"]);A!=null&&m(e,["responseModalities"],A);const w=d(t,["responseSchema"]);w!=null&&m(e,["responseSchema"],w);const R=d(t,["routingConfig"]);R!=null&&m(e,["routingConfig"],R);const D=d(t,["seed"]);D!=null&&m(e,["seed"],D);const U=d(t,["speechConfig"]);U!=null&&m(e,["speechConfig"],ew(U));const O=d(t,["stopSequences"]);O!=null&&m(e,["stopSequences"],O);const L=d(t,["temperature"]);L!=null&&m(e,["temperature"],L);const z=d(t,["thinkingConfig"]);z!=null&&m(e,["thinkingConfig"],z);const $=d(t,["topK"]);$!=null&&m(e,["topK"],$);const V=d(t,["topP"]);if(V!=null&&m(e,["topP"],V),d(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function Jk(t){const e={};if(d(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=d(t,["enableWidget"]);return n!=null&&m(e,["enableWidget"],n),e}function Yk(t){const e={};if(d(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(d(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=d(t,["timeRangeFilter"]);return n!=null&&m(e,["timeRangeFilter"],n),e}function Kk(t,e){const n={},i=d(t,["generationConfig"]);e!==void 0&&i!=null&&m(e,["setup","generationConfig"],i);const s=d(t,["responseModalities"]);e!==void 0&&s!=null&&m(e,["setup","generationConfig","responseModalities"],s);const a=d(t,["temperature"]);e!==void 0&&a!=null&&m(e,["setup","generationConfig","temperature"],a);const u=d(t,["topP"]);e!==void 0&&u!=null&&m(e,["setup","generationConfig","topP"],u);const f=d(t,["topK"]);e!==void 0&&f!=null&&m(e,["setup","generationConfig","topK"],f);const p=d(t,["maxOutputTokens"]);e!==void 0&&p!=null&&m(e,["setup","generationConfig","maxOutputTokens"],p);const h=d(t,["mediaResolution"]);e!==void 0&&h!=null&&m(e,["setup","generationConfig","mediaResolution"],h);const v=d(t,["seed"]);e!==void 0&&v!=null&&m(e,["setup","generationConfig","seed"],v);const _=d(t,["speechConfig"]);e!==void 0&&_!=null&&m(e,["setup","generationConfig","speechConfig"],wg(_));const S=d(t,["thinkingConfig"]);e!==void 0&&S!=null&&m(e,["setup","generationConfig","thinkingConfig"],S);const T=d(t,["enableAffectiveDialog"]);e!==void 0&&T!=null&&m(e,["setup","generationConfig","enableAffectiveDialog"],T);const A=d(t,["systemInstruction"]);e!==void 0&&A!=null&&m(e,["setup","systemInstruction"],Gk(Ot(A)));const w=d(t,["tools"]);if(e!==void 0&&w!=null){let $=Ls(w);Array.isArray($)&&($=$.map(V=>rB(Ps(V)))),m(e,["setup","tools"],$)}const R=d(t,["sessionResumption"]);e!==void 0&&R!=null&&m(e,["setup","sessionResumption"],oB(R));const D=d(t,["inputAudioTranscription"]);e!==void 0&&D!=null&&m(e,["setup","inputAudioTranscription"],D);const U=d(t,["outputAudioTranscription"]);e!==void 0&&U!=null&&m(e,["setup","outputAudioTranscription"],U);const O=d(t,["realtimeInputConfig"]);e!==void 0&&O!=null&&m(e,["setup","realtimeInputConfig"],O);const L=d(t,["contextWindowCompression"]);e!==void 0&&L!=null&&m(e,["setup","contextWindowCompression"],L);const z=d(t,["proactivity"]);if(e!==void 0&&z!=null&&m(e,["setup","proactivity"],z),d(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function Xk(t,e){const n={},i=d(t,["generationConfig"]);e!==void 0&&i!=null&&m(e,["setup","generationConfig"],zk(i));const s=d(t,["responseModalities"]);e!==void 0&&s!=null&&m(e,["setup","generationConfig","responseModalities"],s);const a=d(t,["temperature"]);e!==void 0&&a!=null&&m(e,["setup","generationConfig","temperature"],a);const u=d(t,["topP"]);e!==void 0&&u!=null&&m(e,["setup","generationConfig","topP"],u);const f=d(t,["topK"]);e!==void 0&&f!=null&&m(e,["setup","generationConfig","topK"],f);const p=d(t,["maxOutputTokens"]);e!==void 0&&p!=null&&m(e,["setup","generationConfig","maxOutputTokens"],p);const h=d(t,["mediaResolution"]);e!==void 0&&h!=null&&m(e,["setup","generationConfig","mediaResolution"],h);const v=d(t,["seed"]);e!==void 0&&v!=null&&m(e,["setup","generationConfig","seed"],v);const _=d(t,["speechConfig"]);e!==void 0&&_!=null&&m(e,["setup","generationConfig","speechConfig"],ew(wg(_)));const S=d(t,["thinkingConfig"]);e!==void 0&&S!=null&&m(e,["setup","generationConfig","thinkingConfig"],S);const T=d(t,["enableAffectiveDialog"]);e!==void 0&&T!=null&&m(e,["setup","generationConfig","enableAffectiveDialog"],T);const A=d(t,["systemInstruction"]);e!==void 0&&A!=null&&m(e,["setup","systemInstruction"],Ot(A));const w=d(t,["tools"]);if(e!==void 0&&w!=null){let V=Ls(w);Array.isArray(V)&&(V=V.map(W=>sB(Ps(W)))),m(e,["setup","tools"],V)}const R=d(t,["sessionResumption"]);e!==void 0&&R!=null&&m(e,["setup","sessionResumption"],R);const D=d(t,["inputAudioTranscription"]);e!==void 0&&D!=null&&m(e,["setup","inputAudioTranscription"],D);const U=d(t,["outputAudioTranscription"]);e!==void 0&&U!=null&&m(e,["setup","outputAudioTranscription"],U);const O=d(t,["realtimeInputConfig"]);e!==void 0&&O!=null&&m(e,["setup","realtimeInputConfig"],O);const L=d(t,["contextWindowCompression"]);e!==void 0&&L!=null&&m(e,["setup","contextWindowCompression"],L);const z=d(t,["proactivity"]);e!==void 0&&z!=null&&m(e,["setup","proactivity"],z);const $=d(t,["explicitVadSignal"]);return e!==void 0&&$!=null&&m(e,["setup","explicitVadSignal"],$),n}function Qk(t,e){const n={},i=d(e,["model"]);i!=null&&m(n,["setup","model"],Ge(t,i));const s=d(e,["config"]);return s!=null&&m(n,["config"],Kk(s,n)),n}function Wk(t,e){const n={},i=d(e,["model"]);i!=null&&m(n,["setup","model"],Ge(t,i));const s=d(e,["config"]);return s!=null&&m(n,["config"],Xk(s,n)),n}function Zk(t){const e={},n=d(t,["musicGenerationConfig"]);return n!=null&&m(e,["musicGenerationConfig"],n),e}function jk(t){const e={},n=d(t,["weightedPrompts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>s)),m(e,["weightedPrompts"],i)}return e}function eB(t){const e={},n=d(t,["media"]);if(n!=null){let h=GC(n);Array.isArray(h)&&(h=h.map(v=>Rc(v))),m(e,["mediaChunks"],h)}const i=d(t,["audio"]);i!=null&&m(e,["audio"],Rc($C(i)));const s=d(t,["audioStreamEnd"]);s!=null&&m(e,["audioStreamEnd"],s);const a=d(t,["video"]);a!=null&&m(e,["video"],Rc(qC(a)));const u=d(t,["text"]);u!=null&&m(e,["text"],u);const f=d(t,["activityStart"]);f!=null&&m(e,["activityStart"],f);const p=d(t,["activityEnd"]);return p!=null&&m(e,["activityEnd"],p),e}function tB(t){const e={},n=d(t,["media"]);if(n!=null){let h=GC(n);Array.isArray(h)&&(h=h.map(v=>v)),m(e,["mediaChunks"],h)}const i=d(t,["audio"]);i!=null&&m(e,["audio"],$C(i));const s=d(t,["audioStreamEnd"]);s!=null&&m(e,["audioStreamEnd"],s);const a=d(t,["video"]);a!=null&&m(e,["video"],qC(a));const u=d(t,["text"]);u!=null&&m(e,["text"],u);const f=d(t,["activityStart"]);f!=null&&m(e,["activityStart"],f);const p=d(t,["activityEnd"]);return p!=null&&m(e,["activityEnd"],p),e}function nB(t){const e={},n=d(t,["setupComplete"]);n!=null&&m(e,["setupComplete"],n);const i=d(t,["serverContent"]);i!=null&&m(e,["serverContent"],i);const s=d(t,["toolCall"]);s!=null&&m(e,["toolCall"],s);const a=d(t,["toolCallCancellation"]);a!=null&&m(e,["toolCallCancellation"],a);const u=d(t,["usageMetadata"]);u!=null&&m(e,["usageMetadata"],aB(u));const f=d(t,["goAway"]);f!=null&&m(e,["goAway"],f);const p=d(t,["sessionResumptionUpdate"]);p!=null&&m(e,["sessionResumptionUpdate"],p);const h=d(t,["voiceActivityDetectionSignal"]);return h!=null&&m(e,["voiceActivityDetectionSignal"],h),e}function iB(t){const e={},n=d(t,["mediaResolution"]);n!=null&&m(e,["mediaResolution"],n);const i=d(t,["codeExecutionResult"]);i!=null&&m(e,["codeExecutionResult"],i);const s=d(t,["executableCode"]);s!=null&&m(e,["executableCode"],s);const a=d(t,["fileData"]);a!=null&&m(e,["fileData"],qk(a));const u=d(t,["functionCall"]);u!=null&&m(e,["functionCall"],$k(u));const f=d(t,["functionResponse"]);f!=null&&m(e,["functionResponse"],f);const p=d(t,["inlineData"]);p!=null&&m(e,["inlineData"],Rc(p));const h=d(t,["text"]);h!=null&&m(e,["text"],h);const v=d(t,["thought"]);v!=null&&m(e,["thought"],v);const _=d(t,["thoughtSignature"]);_!=null&&m(e,["thoughtSignature"],_);const S=d(t,["videoMetadata"]);return S!=null&&m(e,["videoMetadata"],S),e}function oB(t){const e={},n=d(t,["handle"]);if(n!=null&&m(e,["handle"],n),d(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function ew(t){const e={},n=d(t,["voiceConfig"]);n!=null&&m(e,["voiceConfig"],n);const i=d(t,["languageCode"]);if(i!=null&&m(e,["languageCode"],i),d(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return e}function rB(t){const e={},n=d(t,["functionDeclarations"]);if(n!=null){let v=n;Array.isArray(v)&&(v=v.map(_=>_)),m(e,["functionDeclarations"],v)}if(d(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=d(t,["googleSearchRetrieval"]);i!=null&&m(e,["googleSearchRetrieval"],i);const s=d(t,["computerUse"]);s!=null&&m(e,["computerUse"],s);const a=d(t,["fileSearch"]);a!=null&&m(e,["fileSearch"],a);const u=d(t,["codeExecution"]);if(u!=null&&m(e,["codeExecution"],u),d(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const f=d(t,["googleMaps"]);f!=null&&m(e,["googleMaps"],Jk(f));const p=d(t,["googleSearch"]);p!=null&&m(e,["googleSearch"],Yk(p));const h=d(t,["urlContext"]);return h!=null&&m(e,["urlContext"],h),e}function sB(t){const e={},n=d(t,["functionDeclarations"]);if(n!=null){let _=n;Array.isArray(_)&&(_=_.map(S=>Fk(S))),m(e,["functionDeclarations"],_)}const i=d(t,["retrieval"]);i!=null&&m(e,["retrieval"],i);const s=d(t,["googleSearchRetrieval"]);s!=null&&m(e,["googleSearchRetrieval"],s);const a=d(t,["computerUse"]);if(a!=null&&m(e,["computerUse"],a),d(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const u=d(t,["codeExecution"]);u!=null&&m(e,["codeExecution"],u);const f=d(t,["enterpriseWebSearch"]);f!=null&&m(e,["enterpriseWebSearch"],f);const p=d(t,["googleMaps"]);p!=null&&m(e,["googleMaps"],p);const h=d(t,["googleSearch"]);h!=null&&m(e,["googleSearch"],h);const v=d(t,["urlContext"]);return v!=null&&m(e,["urlContext"],v),e}function aB(t){const e={},n=d(t,["promptTokenCount"]);n!=null&&m(e,["promptTokenCount"],n);const i=d(t,["cachedContentTokenCount"]);i!=null&&m(e,["cachedContentTokenCount"],i);const s=d(t,["candidatesTokenCount"]);s!=null&&m(e,["responseTokenCount"],s);const a=d(t,["toolUsePromptTokenCount"]);a!=null&&m(e,["toolUsePromptTokenCount"],a);const u=d(t,["thoughtsTokenCount"]);u!=null&&m(e,["thoughtsTokenCount"],u);const f=d(t,["totalTokenCount"]);f!=null&&m(e,["totalTokenCount"],f);const p=d(t,["promptTokensDetails"]);if(p!=null){let T=p;Array.isArray(T)&&(T=T.map(A=>A)),m(e,["promptTokensDetails"],T)}const h=d(t,["cacheTokensDetails"]);if(h!=null){let T=h;Array.isArray(T)&&(T=T.map(A=>A)),m(e,["cacheTokensDetails"],T)}const v=d(t,["candidatesTokensDetails"]);if(v!=null){let T=v;Array.isArray(T)&&(T=T.map(A=>A)),m(e,["responseTokensDetails"],T)}const _=d(t,["toolUsePromptTokensDetails"]);if(_!=null){let T=_;Array.isArray(T)&&(T=T.map(A=>A)),m(e,["toolUsePromptTokensDetails"],T)}const S=d(t,["trafficType"]);return S!=null&&m(e,["trafficType"],S),e}function lB(t){const e={},n=d(t,["data"]);if(n!=null&&m(e,["data"],n),d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=d(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}function uB(t){const e={},n=d(t,["content"]);n!=null&&m(e,["content"],n);const i=d(t,["citationMetadata"]);i!=null&&m(e,["citationMetadata"],cB(i));const s=d(t,["tokenCount"]);s!=null&&m(e,["tokenCount"],s);const a=d(t,["finishReason"]);a!=null&&m(e,["finishReason"],a);const u=d(t,["avgLogprobs"]);u!=null&&m(e,["avgLogprobs"],u);const f=d(t,["groundingMetadata"]);f!=null&&m(e,["groundingMetadata"],f);const p=d(t,["index"]);p!=null&&m(e,["index"],p);const h=d(t,["logprobsResult"]);h!=null&&m(e,["logprobsResult"],h);const v=d(t,["safetyRatings"]);if(v!=null){let S=v;Array.isArray(S)&&(S=S.map(T=>T)),m(e,["safetyRatings"],S)}const _=d(t,["urlContextMetadata"]);return _!=null&&m(e,["urlContextMetadata"],_),e}function cB(t){const e={},n=d(t,["citationSources"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>s)),m(e,["citations"],i)}return e}function fB(t,e){const n={},i=d(e,["model"]);i!=null&&m(n,["_url","model"],Ge(t,i));const s=d(e,["contents"]);if(s!=null){let a=Rn(s);Array.isArray(a)&&(a=a.map(u=>u)),m(n,["contents"],a)}return n}function dB(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const i=d(t,["tokensInfo"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>a)),m(e,["tokensInfo"],s)}return e}function hB(t){const e={},n=d(t,["values"]);n!=null&&m(e,["values"],n);const i=d(t,["statistics"]);return i!=null&&m(e,["statistics"],pB(i)),e}function pB(t){const e={},n=d(t,["truncated"]);n!=null&&m(e,["truncated"],n);const i=d(t,["token_count"]);return i!=null&&m(e,["tokenCount"],i),e}function wf(t){const e={},n=d(t,["parts"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(a=>b2(a))),m(e,["parts"],s)}const i=d(t,["role"]);return i!=null&&m(e,["role"],i),e}function mB(t){const e={},n=d(t,["controlType"]);n!=null&&m(e,["controlType"],n);const i=d(t,["enableControlImageComputation"]);return i!=null&&m(e,["computeControl"],i),e}function gB(t){const e={};if(d(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(d(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(d(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function vB(t,e){const n={},i=d(t,["systemInstruction"]);e!==void 0&&i!=null&&m(e,["systemInstruction"],Ot(i));const s=d(t,["tools"]);if(e!==void 0&&s!=null){let u=s;Array.isArray(u)&&(u=u.map(f=>rw(f))),m(e,["tools"],u)}const a=d(t,["generationConfig"]);return e!==void 0&&a!=null&&m(e,["generationConfig"],l2(a)),n}function yB(t,e){const n={},i=d(e,["model"]);i!=null&&m(n,["_url","model"],Ge(t,i));const s=d(e,["contents"]);if(s!=null){let u=Rn(s);Array.isArray(u)&&(u=u.map(f=>wf(f))),m(n,["contents"],u)}const a=d(e,["config"]);return a!=null&&gB(a),n}function _B(t,e){const n={},i=d(e,["model"]);i!=null&&m(n,["_url","model"],Ge(t,i));const s=d(e,["contents"]);if(s!=null){let u=Rn(s);Array.isArray(u)&&(u=u.map(f=>f)),m(n,["contents"],u)}const a=d(e,["config"]);return a!=null&&vB(a,n),n}function SB(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const i=d(t,["totalTokens"]);i!=null&&m(e,["totalTokens"],i);const s=d(t,["cachedContentTokenCount"]);return s!=null&&m(e,["cachedContentTokenCount"],s),e}function EB(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const i=d(t,["totalTokens"]);return i!=null&&m(e,["totalTokens"],i),e}function TB(t,e){const n={},i=d(e,["model"]);return i!=null&&m(n,["_url","name"],Ge(t,i)),n}function bB(t,e){const n={},i=d(e,["model"]);return i!=null&&m(n,["_url","name"],Ge(t,i)),n}function AB(t){const e={},n=d(t,["sdkHttpResponse"]);return n!=null&&m(e,["sdkHttpResponse"],n),e}function CB(t){const e={},n=d(t,["sdkHttpResponse"]);return n!=null&&m(e,["sdkHttpResponse"],n),e}function wB(t,e){const n={},i=d(t,["outputGcsUri"]);e!==void 0&&i!=null&&m(e,["parameters","storageUri"],i);const s=d(t,["negativePrompt"]);e!==void 0&&s!=null&&m(e,["parameters","negativePrompt"],s);const a=d(t,["numberOfImages"]);e!==void 0&&a!=null&&m(e,["parameters","sampleCount"],a);const u=d(t,["aspectRatio"]);e!==void 0&&u!=null&&m(e,["parameters","aspectRatio"],u);const f=d(t,["guidanceScale"]);e!==void 0&&f!=null&&m(e,["parameters","guidanceScale"],f);const p=d(t,["seed"]);e!==void 0&&p!=null&&m(e,["parameters","seed"],p);const h=d(t,["safetyFilterLevel"]);e!==void 0&&h!=null&&m(e,["parameters","safetySetting"],h);const v=d(t,["personGeneration"]);e!==void 0&&v!=null&&m(e,["parameters","personGeneration"],v);const _=d(t,["includeSafetyAttributes"]);e!==void 0&&_!=null&&m(e,["parameters","includeSafetyAttributes"],_);const S=d(t,["includeRaiReason"]);e!==void 0&&S!=null&&m(e,["parameters","includeRaiReason"],S);const T=d(t,["language"]);e!==void 0&&T!=null&&m(e,["parameters","language"],T);const A=d(t,["outputMimeType"]);e!==void 0&&A!=null&&m(e,["parameters","outputOptions","mimeType"],A);const w=d(t,["outputCompressionQuality"]);e!==void 0&&w!=null&&m(e,["parameters","outputOptions","compressionQuality"],w);const R=d(t,["addWatermark"]);e!==void 0&&R!=null&&m(e,["parameters","addWatermark"],R);const D=d(t,["labels"]);e!==void 0&&D!=null&&m(e,["labels"],D);const U=d(t,["editMode"]);e!==void 0&&U!=null&&m(e,["parameters","editMode"],U);const O=d(t,["baseSteps"]);return e!==void 0&&O!=null&&m(e,["parameters","editConfig","baseSteps"],O),n}function RB(t,e){const n={},i=d(e,["model"]);i!=null&&m(n,["_url","model"],Ge(t,i));const s=d(e,["prompt"]);s!=null&&m(n,["instances[0]","prompt"],s);const a=d(e,["referenceImages"]);if(a!=null){let f=a;Array.isArray(f)&&(f=f.map(p=>M2(p))),m(n,["instances[0]","referenceImages"],f)}const u=d(e,["config"]);return u!=null&&wB(u,n),n}function xB(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const i=d(t,["predictions"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>Rf(a))),m(e,["generatedImages"],s)}return e}function MB(t,e){const n={},i=d(t,["taskType"]);e!==void 0&&i!=null&&m(e,["requests[]","taskType"],i);const s=d(t,["title"]);e!==void 0&&s!=null&&m(e,["requests[]","title"],s);const a=d(t,["outputDimensionality"]);if(e!==void 0&&a!=null&&m(e,["requests[]","outputDimensionality"],a),d(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(d(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function NB(t,e){const n={},i=d(t,["taskType"]);e!==void 0&&i!=null&&m(e,["instances[]","task_type"],i);const s=d(t,["title"]);e!==void 0&&s!=null&&m(e,["instances[]","title"],s);const a=d(t,["outputDimensionality"]);e!==void 0&&a!=null&&m(e,["parameters","outputDimensionality"],a);const u=d(t,["mimeType"]);e!==void 0&&u!=null&&m(e,["instances[]","mimeType"],u);const f=d(t,["autoTruncate"]);return e!==void 0&&f!=null&&m(e,["parameters","autoTruncate"],f),n}function IB(t,e){const n={},i=d(e,["model"]);i!=null&&m(n,["_url","model"],Ge(t,i));const s=d(e,["contents"]);if(s!=null){let f=bg(t,s);Array.isArray(f)&&(f=f.map(p=>p)),m(n,["requests[]","content"],f)}const a=d(e,["config"]);a!=null&&MB(a,n);const u=d(e,["model"]);return u!==void 0&&m(n,["requests[]","model"],Ge(t,u)),n}function DB(t,e){const n={},i=d(e,["model"]);i!=null&&m(n,["_url","model"],Ge(t,i));const s=d(e,["contents"]);if(s!=null){let u=bg(t,s);Array.isArray(u)&&(u=u.map(f=>f)),m(n,["instances[]","content"],u)}const a=d(e,["config"]);return a!=null&&NB(a,n),n}function OB(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const i=d(t,["embeddings"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(u=>u)),m(e,["embeddings"],a)}const s=d(t,["metadata"]);return s!=null&&m(e,["metadata"],s),e}function UB(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const i=d(t,["predictions[]","embeddings"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(u=>hB(u))),m(e,["embeddings"],a)}const s=d(t,["metadata"]);return s!=null&&m(e,["metadata"],s),e}function PB(t){const e={},n=d(t,["endpoint"]);n!=null&&m(e,["name"],n);const i=d(t,["deployedModelId"]);return i!=null&&m(e,["deployedModelId"],i),e}function LB(t){const e={};if(d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=d(t,["fileUri"]);n!=null&&m(e,["fileUri"],n);const i=d(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}function kB(t){const e={},n=d(t,["id"]);n!=null&&m(e,["id"],n);const i=d(t,["args"]);i!=null&&m(e,["args"],i);const s=d(t,["name"]);if(s!=null&&m(e,["name"],s),d(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(d(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function BB(t){const e={},n=d(t,["mode"]);n!=null&&m(e,["mode"],n);const i=d(t,["allowedFunctionNames"]);if(i!=null&&m(e,["allowedFunctionNames"],i),d(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function HB(t){const e={};if(d(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=d(t,["description"]);n!=null&&m(e,["description"],n);const i=d(t,["name"]);i!=null&&m(e,["name"],i);const s=d(t,["parameters"]);s!=null&&m(e,["parameters"],s);const a=d(t,["parametersJsonSchema"]);a!=null&&m(e,["parametersJsonSchema"],a);const u=d(t,["response"]);u!=null&&m(e,["response"],u);const f=d(t,["responseJsonSchema"]);return f!=null&&m(e,["responseJsonSchema"],f),e}function VB(t,e,n){const i={},s=d(e,["systemInstruction"]);n!==void 0&&s!=null&&m(n,["systemInstruction"],wf(Ot(s)));const a=d(e,["temperature"]);a!=null&&m(i,["temperature"],a);const u=d(e,["topP"]);u!=null&&m(i,["topP"],u);const f=d(e,["topK"]);f!=null&&m(i,["topK"],f);const p=d(e,["candidateCount"]);p!=null&&m(i,["candidateCount"],p);const h=d(e,["maxOutputTokens"]);h!=null&&m(i,["maxOutputTokens"],h);const v=d(e,["stopSequences"]);v!=null&&m(i,["stopSequences"],v);const _=d(e,["responseLogprobs"]);_!=null&&m(i,["responseLogprobs"],_);const S=d(e,["logprobs"]);S!=null&&m(i,["logprobs"],S);const T=d(e,["presencePenalty"]);T!=null&&m(i,["presencePenalty"],T);const A=d(e,["frequencyPenalty"]);A!=null&&m(i,["frequencyPenalty"],A);const w=d(e,["seed"]);w!=null&&m(i,["seed"],w);const R=d(e,["responseMimeType"]);R!=null&&m(i,["responseMimeType"],R);const D=d(e,["responseSchema"]);D!=null&&m(i,["responseSchema"],Ag(D));const U=d(e,["responseJsonSchema"]);if(U!=null&&m(i,["responseJsonSchema"],U),d(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(d(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const O=d(e,["safetySettings"]);if(n!==void 0&&O!=null){let se=O;Array.isArray(se)&&(se=se.map(Se=>N2(Se))),m(n,["safetySettings"],se)}const L=d(e,["tools"]);if(n!==void 0&&L!=null){let se=Ls(L);Array.isArray(se)&&(se=se.map(Se=>k2(Ps(Se)))),m(n,["tools"],se)}const z=d(e,["toolConfig"]);if(n!==void 0&&z!=null&&m(n,["toolConfig"],L2(z)),d(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const $=d(e,["cachedContent"]);n!==void 0&&$!=null&&m(n,["cachedContent"],$i(t,$));const V=d(e,["responseModalities"]);V!=null&&m(i,["responseModalities"],V);const W=d(e,["mediaResolution"]);W!=null&&m(i,["mediaResolution"],W);const Q=d(e,["speechConfig"]);if(Q!=null&&m(i,["speechConfig"],Cg(Q)),d(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const te=d(e,["thinkingConfig"]);te!=null&&m(i,["thinkingConfig"],te);const ee=d(e,["imageConfig"]);ee!=null&&m(i,["imageConfig"],h2(ee));const ce=d(e,["enableEnhancedCivicAnswers"]);return ce!=null&&m(i,["enableEnhancedCivicAnswers"],ce),i}function GB(t,e,n){const i={},s=d(e,["systemInstruction"]);n!==void 0&&s!=null&&m(n,["systemInstruction"],Ot(s));const a=d(e,["temperature"]);a!=null&&m(i,["temperature"],a);const u=d(e,["topP"]);u!=null&&m(i,["topP"],u);const f=d(e,["topK"]);f!=null&&m(i,["topK"],f);const p=d(e,["candidateCount"]);p!=null&&m(i,["candidateCount"],p);const h=d(e,["maxOutputTokens"]);h!=null&&m(i,["maxOutputTokens"],h);const v=d(e,["stopSequences"]);v!=null&&m(i,["stopSequences"],v);const _=d(e,["responseLogprobs"]);_!=null&&m(i,["responseLogprobs"],_);const S=d(e,["logprobs"]);S!=null&&m(i,["logprobs"],S);const T=d(e,["presencePenalty"]);T!=null&&m(i,["presencePenalty"],T);const A=d(e,["frequencyPenalty"]);A!=null&&m(i,["frequencyPenalty"],A);const w=d(e,["seed"]);w!=null&&m(i,["seed"],w);const R=d(e,["responseMimeType"]);R!=null&&m(i,["responseMimeType"],R);const D=d(e,["responseSchema"]);D!=null&&m(i,["responseSchema"],Ag(D));const U=d(e,["responseJsonSchema"]);U!=null&&m(i,["responseJsonSchema"],U);const O=d(e,["routingConfig"]);O!=null&&m(i,["routingConfig"],O);const L=d(e,["modelSelectionConfig"]);L!=null&&m(i,["modelConfig"],L);const z=d(e,["safetySettings"]);if(n!==void 0&&z!=null){let k=z;Array.isArray(k)&&(k=k.map(Z=>Z)),m(n,["safetySettings"],k)}const $=d(e,["tools"]);if(n!==void 0&&$!=null){let k=Ls($);Array.isArray(k)&&(k=k.map(Z=>rw(Ps(Z)))),m(n,["tools"],k)}const V=d(e,["toolConfig"]);n!==void 0&&V!=null&&m(n,["toolConfig"],V);const W=d(e,["labels"]);n!==void 0&&W!=null&&m(n,["labels"],W);const Q=d(e,["cachedContent"]);n!==void 0&&Q!=null&&m(n,["cachedContent"],$i(t,Q));const te=d(e,["responseModalities"]);te!=null&&m(i,["responseModalities"],te);const ee=d(e,["mediaResolution"]);ee!=null&&m(i,["mediaResolution"],ee);const ce=d(e,["speechConfig"]);ce!=null&&m(i,["speechConfig"],ow(Cg(ce)));const se=d(e,["audioTimestamp"]);se!=null&&m(i,["audioTimestamp"],se);const Se=d(e,["thinkingConfig"]);Se!=null&&m(i,["thinkingConfig"],Se);const Me=d(e,["imageConfig"]);if(Me!=null&&m(i,["imageConfig"],p2(Me)),d(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return i}function ET(t,e){const n={},i=d(e,["model"]);i!=null&&m(n,["_url","model"],Ge(t,i));const s=d(e,["contents"]);if(s!=null){let u=Rn(s);Array.isArray(u)&&(u=u.map(f=>wf(f))),m(n,["contents"],u)}const a=d(e,["config"]);return a!=null&&m(n,["generationConfig"],VB(t,a,n)),n}function TT(t,e){const n={},i=d(e,["model"]);i!=null&&m(n,["_url","model"],Ge(t,i));const s=d(e,["contents"]);if(s!=null){let u=Rn(s);Array.isArray(u)&&(u=u.map(f=>f)),m(n,["contents"],u)}const a=d(e,["config"]);return a!=null&&m(n,["generationConfig"],GB(t,a,n)),n}function bT(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const i=d(t,["candidates"]);if(i!=null){let p=i;Array.isArray(p)&&(p=p.map(h=>uB(h))),m(e,["candidates"],p)}const s=d(t,["modelVersion"]);s!=null&&m(e,["modelVersion"],s);const a=d(t,["promptFeedback"]);a!=null&&m(e,["promptFeedback"],a);const u=d(t,["responseId"]);u!=null&&m(e,["responseId"],u);const f=d(t,["usageMetadata"]);return f!=null&&m(e,["usageMetadata"],f),e}function AT(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const i=d(t,["candidates"]);if(i!=null){let h=i;Array.isArray(h)&&(h=h.map(v=>v)),m(e,["candidates"],h)}const s=d(t,["createTime"]);s!=null&&m(e,["createTime"],s);const a=d(t,["modelVersion"]);a!=null&&m(e,["modelVersion"],a);const u=d(t,["promptFeedback"]);u!=null&&m(e,["promptFeedback"],u);const f=d(t,["responseId"]);f!=null&&m(e,["responseId"],f);const p=d(t,["usageMetadata"]);return p!=null&&m(e,["usageMetadata"],p),e}function qB(t,e){const n={};if(d(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(d(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const i=d(t,["numberOfImages"]);e!==void 0&&i!=null&&m(e,["parameters","sampleCount"],i);const s=d(t,["aspectRatio"]);e!==void 0&&s!=null&&m(e,["parameters","aspectRatio"],s);const a=d(t,["guidanceScale"]);if(e!==void 0&&a!=null&&m(e,["parameters","guidanceScale"],a),d(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const u=d(t,["safetyFilterLevel"]);e!==void 0&&u!=null&&m(e,["parameters","safetySetting"],u);const f=d(t,["personGeneration"]);e!==void 0&&f!=null&&m(e,["parameters","personGeneration"],f);const p=d(t,["includeSafetyAttributes"]);e!==void 0&&p!=null&&m(e,["parameters","includeSafetyAttributes"],p);const h=d(t,["includeRaiReason"]);e!==void 0&&h!=null&&m(e,["parameters","includeRaiReason"],h);const v=d(t,["language"]);e!==void 0&&v!=null&&m(e,["parameters","language"],v);const _=d(t,["outputMimeType"]);e!==void 0&&_!=null&&m(e,["parameters","outputOptions","mimeType"],_);const S=d(t,["outputCompressionQuality"]);if(e!==void 0&&S!=null&&m(e,["parameters","outputOptions","compressionQuality"],S),d(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(d(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const T=d(t,["imageSize"]);if(e!==void 0&&T!=null&&m(e,["parameters","sampleImageSize"],T),d(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function $B(t,e){const n={},i=d(t,["outputGcsUri"]);e!==void 0&&i!=null&&m(e,["parameters","storageUri"],i);const s=d(t,["negativePrompt"]);e!==void 0&&s!=null&&m(e,["parameters","negativePrompt"],s);const a=d(t,["numberOfImages"]);e!==void 0&&a!=null&&m(e,["parameters","sampleCount"],a);const u=d(t,["aspectRatio"]);e!==void 0&&u!=null&&m(e,["parameters","aspectRatio"],u);const f=d(t,["guidanceScale"]);e!==void 0&&f!=null&&m(e,["parameters","guidanceScale"],f);const p=d(t,["seed"]);e!==void 0&&p!=null&&m(e,["parameters","seed"],p);const h=d(t,["safetyFilterLevel"]);e!==void 0&&h!=null&&m(e,["parameters","safetySetting"],h);const v=d(t,["personGeneration"]);e!==void 0&&v!=null&&m(e,["parameters","personGeneration"],v);const _=d(t,["includeSafetyAttributes"]);e!==void 0&&_!=null&&m(e,["parameters","includeSafetyAttributes"],_);const S=d(t,["includeRaiReason"]);e!==void 0&&S!=null&&m(e,["parameters","includeRaiReason"],S);const T=d(t,["language"]);e!==void 0&&T!=null&&m(e,["parameters","language"],T);const A=d(t,["outputMimeType"]);e!==void 0&&A!=null&&m(e,["parameters","outputOptions","mimeType"],A);const w=d(t,["outputCompressionQuality"]);e!==void 0&&w!=null&&m(e,["parameters","outputOptions","compressionQuality"],w);const R=d(t,["addWatermark"]);e!==void 0&&R!=null&&m(e,["parameters","addWatermark"],R);const D=d(t,["labels"]);e!==void 0&&D!=null&&m(e,["labels"],D);const U=d(t,["imageSize"]);e!==void 0&&U!=null&&m(e,["parameters","sampleImageSize"],U);const O=d(t,["enhancePrompt"]);return e!==void 0&&O!=null&&m(e,["parameters","enhancePrompt"],O),n}function FB(t,e){const n={},i=d(e,["model"]);i!=null&&m(n,["_url","model"],Ge(t,i));const s=d(e,["prompt"]);s!=null&&m(n,["instances[0]","prompt"],s);const a=d(e,["config"]);return a!=null&&qB(a,n),n}function zB(t,e){const n={},i=d(e,["model"]);i!=null&&m(n,["_url","model"],Ge(t,i));const s=d(e,["prompt"]);s!=null&&m(n,["instances[0]","prompt"],s);const a=d(e,["config"]);return a!=null&&$B(a,n),n}function JB(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const i=d(t,["predictions"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(u=>o2(u))),m(e,["generatedImages"],a)}const s=d(t,["positivePromptSafetyAttributes"]);return s!=null&&m(e,["positivePromptSafetyAttributes"],nw(s)),e}function YB(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const i=d(t,["predictions"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(u=>Rf(u))),m(e,["generatedImages"],a)}const s=d(t,["positivePromptSafetyAttributes"]);return s!=null&&m(e,["positivePromptSafetyAttributes"],iw(s)),e}function KB(t,e){const n={},i=d(t,["numberOfVideos"]);if(e!==void 0&&i!=null&&m(e,["parameters","sampleCount"],i),d(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(d(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const s=d(t,["durationSeconds"]);if(e!==void 0&&s!=null&&m(e,["parameters","durationSeconds"],s),d(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const a=d(t,["aspectRatio"]);e!==void 0&&a!=null&&m(e,["parameters","aspectRatio"],a);const u=d(t,["resolution"]);e!==void 0&&u!=null&&m(e,["parameters","resolution"],u);const f=d(t,["personGeneration"]);if(e!==void 0&&f!=null&&m(e,["parameters","personGeneration"],f),d(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const p=d(t,["negativePrompt"]);e!==void 0&&p!=null&&m(e,["parameters","negativePrompt"],p);const h=d(t,["enhancePrompt"]);if(e!==void 0&&h!=null&&m(e,["parameters","enhancePrompt"],h),d(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const v=d(t,["lastFrame"]);e!==void 0&&v!=null&&m(e,["instances[0]","lastFrame"],xf(v));const _=d(t,["referenceImages"]);if(e!==void 0&&_!=null){let S=_;Array.isArray(S)&&(S=S.map(T=>Q2(T))),m(e,["instances[0]","referenceImages"],S)}if(d(t,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(d(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function XB(t,e){const n={},i=d(t,["numberOfVideos"]);e!==void 0&&i!=null&&m(e,["parameters","sampleCount"],i);const s=d(t,["outputGcsUri"]);e!==void 0&&s!=null&&m(e,["parameters","storageUri"],s);const a=d(t,["fps"]);e!==void 0&&a!=null&&m(e,["parameters","fps"],a);const u=d(t,["durationSeconds"]);e!==void 0&&u!=null&&m(e,["parameters","durationSeconds"],u);const f=d(t,["seed"]);e!==void 0&&f!=null&&m(e,["parameters","seed"],f);const p=d(t,["aspectRatio"]);e!==void 0&&p!=null&&m(e,["parameters","aspectRatio"],p);const h=d(t,["resolution"]);e!==void 0&&h!=null&&m(e,["parameters","resolution"],h);const v=d(t,["personGeneration"]);e!==void 0&&v!=null&&m(e,["parameters","personGeneration"],v);const _=d(t,["pubsubTopic"]);e!==void 0&&_!=null&&m(e,["parameters","pubsubTopic"],_);const S=d(t,["negativePrompt"]);e!==void 0&&S!=null&&m(e,["parameters","negativePrompt"],S);const T=d(t,["enhancePrompt"]);e!==void 0&&T!=null&&m(e,["parameters","enhancePrompt"],T);const A=d(t,["generateAudio"]);e!==void 0&&A!=null&&m(e,["parameters","generateAudio"],A);const w=d(t,["lastFrame"]);e!==void 0&&w!=null&&m(e,["instances[0]","lastFrame"],Yn(w));const R=d(t,["referenceImages"]);if(e!==void 0&&R!=null){let O=R;Array.isArray(O)&&(O=O.map(L=>W2(L))),m(e,["instances[0]","referenceImages"],O)}const D=d(t,["mask"]);e!==void 0&&D!=null&&m(e,["instances[0]","mask"],X2(D));const U=d(t,["compressionQuality"]);return e!==void 0&&U!=null&&m(e,["parameters","compressionQuality"],U),n}function QB(t){const e={},n=d(t,["name"]);n!=null&&m(e,["name"],n);const i=d(t,["metadata"]);i!=null&&m(e,["metadata"],i);const s=d(t,["done"]);s!=null&&m(e,["done"],s);const a=d(t,["error"]);a!=null&&m(e,["error"],a);const u=d(t,["response","generateVideoResponse"]);return u!=null&&m(e,["response"],e2(u)),e}function WB(t){const e={},n=d(t,["name"]);n!=null&&m(e,["name"],n);const i=d(t,["metadata"]);i!=null&&m(e,["metadata"],i);const s=d(t,["done"]);s!=null&&m(e,["done"],s);const a=d(t,["error"]);a!=null&&m(e,["error"],a);const u=d(t,["response"]);return u!=null&&m(e,["response"],t2(u)),e}function ZB(t,e){const n={},i=d(e,["model"]);i!=null&&m(n,["_url","model"],Ge(t,i));const s=d(e,["prompt"]);s!=null&&m(n,["instances[0]","prompt"],s);const a=d(e,["image"]);a!=null&&m(n,["instances[0]","image"],xf(a));const u=d(e,["video"]);u!=null&&m(n,["instances[0]","video"],sw(u));const f=d(e,["source"]);f!=null&&n2(f,n);const p=d(e,["config"]);return p!=null&&KB(p,n),n}function jB(t,e){const n={},i=d(e,["model"]);i!=null&&m(n,["_url","model"],Ge(t,i));const s=d(e,["prompt"]);s!=null&&m(n,["instances[0]","prompt"],s);const a=d(e,["image"]);a!=null&&m(n,["instances[0]","image"],Yn(a));const u=d(e,["video"]);u!=null&&m(n,["instances[0]","video"],aw(u));const f=d(e,["source"]);f!=null&&i2(f,n);const p=d(e,["config"]);return p!=null&&XB(p,n),n}function e2(t){const e={},n=d(t,["generatedSamples"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(u=>s2(u))),m(e,["generatedVideos"],a)}const i=d(t,["raiMediaFilteredCount"]);i!=null&&m(e,["raiMediaFilteredCount"],i);const s=d(t,["raiMediaFilteredReasons"]);return s!=null&&m(e,["raiMediaFilteredReasons"],s),e}function t2(t){const e={},n=d(t,["videos"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(u=>a2(u))),m(e,["generatedVideos"],a)}const i=d(t,["raiMediaFilteredCount"]);i!=null&&m(e,["raiMediaFilteredCount"],i);const s=d(t,["raiMediaFilteredReasons"]);return s!=null&&m(e,["raiMediaFilteredReasons"],s),e}function n2(t,e){const n={},i=d(t,["prompt"]);e!==void 0&&i!=null&&m(e,["instances[0]","prompt"],i);const s=d(t,["image"]);e!==void 0&&s!=null&&m(e,["instances[0]","image"],xf(s));const a=d(t,["video"]);return e!==void 0&&a!=null&&m(e,["instances[0]","video"],sw(a)),n}function i2(t,e){const n={},i=d(t,["prompt"]);e!==void 0&&i!=null&&m(e,["instances[0]","prompt"],i);const s=d(t,["image"]);e!==void 0&&s!=null&&m(e,["instances[0]","image"],Yn(s));const a=d(t,["video"]);return e!==void 0&&a!=null&&m(e,["instances[0]","video"],aw(a)),n}function o2(t){const e={},n=d(t,["_self"]);n!=null&&m(e,["image"],m2(n));const i=d(t,["raiFilteredReason"]);i!=null&&m(e,["raiFilteredReason"],i);const s=d(t,["_self"]);return s!=null&&m(e,["safetyAttributes"],nw(s)),e}function Rf(t){const e={},n=d(t,["_self"]);n!=null&&m(e,["image"],tw(n));const i=d(t,["raiFilteredReason"]);i!=null&&m(e,["raiFilteredReason"],i);const s=d(t,["_self"]);s!=null&&m(e,["safetyAttributes"],iw(s));const a=d(t,["prompt"]);return a!=null&&m(e,["enhancedPrompt"],a),e}function r2(t){const e={},n=d(t,["_self"]);n!=null&&m(e,["mask"],tw(n));const i=d(t,["labels"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>a)),m(e,["labels"],s)}return e}function s2(t){const e={},n=d(t,["video"]);return n!=null&&m(e,["video"],Y2(n)),e}function a2(t){const e={},n=d(t,["_self"]);return n!=null&&m(e,["video"],K2(n)),e}function l2(t){const e={},n=d(t,["modelSelectionConfig"]);n!=null&&m(e,["modelConfig"],n);const i=d(t,["responseJsonSchema"]);i!=null&&m(e,["responseJsonSchema"],i);const s=d(t,["audioTimestamp"]);s!=null&&m(e,["audioTimestamp"],s);const a=d(t,["candidateCount"]);a!=null&&m(e,["candidateCount"],a);const u=d(t,["enableAffectiveDialog"]);u!=null&&m(e,["enableAffectiveDialog"],u);const f=d(t,["frequencyPenalty"]);f!=null&&m(e,["frequencyPenalty"],f);const p=d(t,["logprobs"]);p!=null&&m(e,["logprobs"],p);const h=d(t,["maxOutputTokens"]);h!=null&&m(e,["maxOutputTokens"],h);const v=d(t,["mediaResolution"]);v!=null&&m(e,["mediaResolution"],v);const _=d(t,["presencePenalty"]);_!=null&&m(e,["presencePenalty"],_);const S=d(t,["responseLogprobs"]);S!=null&&m(e,["responseLogprobs"],S);const T=d(t,["responseMimeType"]);T!=null&&m(e,["responseMimeType"],T);const A=d(t,["responseModalities"]);A!=null&&m(e,["responseModalities"],A);const w=d(t,["responseSchema"]);w!=null&&m(e,["responseSchema"],w);const R=d(t,["routingConfig"]);R!=null&&m(e,["routingConfig"],R);const D=d(t,["seed"]);D!=null&&m(e,["seed"],D);const U=d(t,["speechConfig"]);U!=null&&m(e,["speechConfig"],ow(U));const O=d(t,["stopSequences"]);O!=null&&m(e,["stopSequences"],O);const L=d(t,["temperature"]);L!=null&&m(e,["temperature"],L);const z=d(t,["thinkingConfig"]);z!=null&&m(e,["thinkingConfig"],z);const $=d(t,["topK"]);$!=null&&m(e,["topK"],$);const V=d(t,["topP"]);if(V!=null&&m(e,["topP"],V),d(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function u2(t,e){const n={},i=d(e,["model"]);return i!=null&&m(n,["_url","name"],Ge(t,i)),n}function c2(t,e){const n={},i=d(e,["model"]);return i!=null&&m(n,["_url","name"],Ge(t,i)),n}function f2(t){const e={};if(d(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=d(t,["enableWidget"]);return n!=null&&m(e,["enableWidget"],n),e}function d2(t){const e={};if(d(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(d(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=d(t,["timeRangeFilter"]);return n!=null&&m(e,["timeRangeFilter"],n),e}function h2(t){const e={},n=d(t,["aspectRatio"]);n!=null&&m(e,["aspectRatio"],n);const i=d(t,["imageSize"]);if(i!=null&&m(e,["imageSize"],i),d(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(d(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function p2(t){const e={},n=d(t,["aspectRatio"]);n!=null&&m(e,["aspectRatio"],n);const i=d(t,["imageSize"]);i!=null&&m(e,["imageSize"],i);const s=d(t,["outputMimeType"]);s!=null&&m(e,["imageOutputOptions","mimeType"],s);const a=d(t,["outputCompressionQuality"]);return a!=null&&m(e,["imageOutputOptions","compressionQuality"],a),e}function m2(t){const e={},n=d(t,["bytesBase64Encoded"]);n!=null&&m(e,["imageBytes"],Uo(n));const i=d(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}function tw(t){const e={},n=d(t,["gcsUri"]);n!=null&&m(e,["gcsUri"],n);const i=d(t,["bytesBase64Encoded"]);i!=null&&m(e,["imageBytes"],Uo(i));const s=d(t,["mimeType"]);return s!=null&&m(e,["mimeType"],s),e}function xf(t){const e={};if(d(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=d(t,["imageBytes"]);n!=null&&m(e,["bytesBase64Encoded"],Uo(n));const i=d(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}function Yn(t){const e={},n=d(t,["gcsUri"]);n!=null&&m(e,["gcsUri"],n);const i=d(t,["imageBytes"]);i!=null&&m(e,["bytesBase64Encoded"],Uo(i));const s=d(t,["mimeType"]);return s!=null&&m(e,["mimeType"],s),e}function g2(t,e,n){const i={},s=d(e,["pageSize"]);n!==void 0&&s!=null&&m(n,["_query","pageSize"],s);const a=d(e,["pageToken"]);n!==void 0&&a!=null&&m(n,["_query","pageToken"],a);const u=d(e,["filter"]);n!==void 0&&u!=null&&m(n,["_query","filter"],u);const f=d(e,["queryBase"]);return n!==void 0&&f!=null&&m(n,["_url","models_url"],YC(t,f)),i}function v2(t,e,n){const i={},s=d(e,["pageSize"]);n!==void 0&&s!=null&&m(n,["_query","pageSize"],s);const a=d(e,["pageToken"]);n!==void 0&&a!=null&&m(n,["_query","pageToken"],a);const u=d(e,["filter"]);n!==void 0&&u!=null&&m(n,["_query","filter"],u);const f=d(e,["queryBase"]);return n!==void 0&&f!=null&&m(n,["_url","models_url"],YC(t,f)),i}function y2(t,e){const n={},i=d(e,["config"]);return i!=null&&g2(t,i,n),n}function _2(t,e){const n={},i=d(e,["config"]);return i!=null&&v2(t,i,n),n}function S2(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const i=d(t,["nextPageToken"]);i!=null&&m(e,["nextPageToken"],i);const s=d(t,["_self"]);if(s!=null){let a=KC(s);Array.isArray(a)&&(a=a.map(u=>pm(u))),m(e,["models"],a)}return e}function E2(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const i=d(t,["nextPageToken"]);i!=null&&m(e,["nextPageToken"],i);const s=d(t,["_self"]);if(s!=null){let a=KC(s);Array.isArray(a)&&(a=a.map(u=>mm(u))),m(e,["models"],a)}return e}function T2(t){const e={},n=d(t,["maskMode"]);n!=null&&m(e,["maskMode"],n);const i=d(t,["segmentationClasses"]);i!=null&&m(e,["maskClasses"],i);const s=d(t,["maskDilation"]);return s!=null&&m(e,["dilation"],s),e}function pm(t){const e={},n=d(t,["name"]);n!=null&&m(e,["name"],n);const i=d(t,["displayName"]);i!=null&&m(e,["displayName"],i);const s=d(t,["description"]);s!=null&&m(e,["description"],s);const a=d(t,["version"]);a!=null&&m(e,["version"],a);const u=d(t,["_self"]);u!=null&&m(e,["tunedModelInfo"],B2(u));const f=d(t,["inputTokenLimit"]);f!=null&&m(e,["inputTokenLimit"],f);const p=d(t,["outputTokenLimit"]);p!=null&&m(e,["outputTokenLimit"],p);const h=d(t,["supportedGenerationMethods"]);h!=null&&m(e,["supportedActions"],h);const v=d(t,["temperature"]);v!=null&&m(e,["temperature"],v);const _=d(t,["maxTemperature"]);_!=null&&m(e,["maxTemperature"],_);const S=d(t,["topP"]);S!=null&&m(e,["topP"],S);const T=d(t,["topK"]);T!=null&&m(e,["topK"],T);const A=d(t,["thinking"]);return A!=null&&m(e,["thinking"],A),e}function mm(t){const e={},n=d(t,["name"]);n!=null&&m(e,["name"],n);const i=d(t,["displayName"]);i!=null&&m(e,["displayName"],i);const s=d(t,["description"]);s!=null&&m(e,["description"],s);const a=d(t,["versionId"]);a!=null&&m(e,["version"],a);const u=d(t,["deployedModels"]);if(u!=null){let _=u;Array.isArray(_)&&(_=_.map(S=>PB(S))),m(e,["endpoints"],_)}const f=d(t,["labels"]);f!=null&&m(e,["labels"],f);const p=d(t,["_self"]);p!=null&&m(e,["tunedModelInfo"],H2(p));const h=d(t,["defaultCheckpointId"]);h!=null&&m(e,["defaultCheckpointId"],h);const v=d(t,["checkpoints"]);if(v!=null){let _=v;Array.isArray(_)&&(_=_.map(S=>S)),m(e,["checkpoints"],_)}return e}function b2(t){const e={},n=d(t,["mediaResolution"]);n!=null&&m(e,["mediaResolution"],n);const i=d(t,["codeExecutionResult"]);i!=null&&m(e,["codeExecutionResult"],i);const s=d(t,["executableCode"]);s!=null&&m(e,["executableCode"],s);const a=d(t,["fileData"]);a!=null&&m(e,["fileData"],LB(a));const u=d(t,["functionCall"]);u!=null&&m(e,["functionCall"],kB(u));const f=d(t,["functionResponse"]);f!=null&&m(e,["functionResponse"],f);const p=d(t,["inlineData"]);p!=null&&m(e,["inlineData"],lB(p));const h=d(t,["text"]);h!=null&&m(e,["text"],h);const v=d(t,["thought"]);v!=null&&m(e,["thought"],v);const _=d(t,["thoughtSignature"]);_!=null&&m(e,["thoughtSignature"],_);const S=d(t,["videoMetadata"]);return S!=null&&m(e,["videoMetadata"],S),e}function A2(t){const e={},n=d(t,["productImage"]);return n!=null&&m(e,["image"],Yn(n)),e}function C2(t,e){const n={},i=d(t,["numberOfImages"]);e!==void 0&&i!=null&&m(e,["parameters","sampleCount"],i);const s=d(t,["baseSteps"]);e!==void 0&&s!=null&&m(e,["parameters","baseSteps"],s);const a=d(t,["outputGcsUri"]);e!==void 0&&a!=null&&m(e,["parameters","storageUri"],a);const u=d(t,["seed"]);e!==void 0&&u!=null&&m(e,["parameters","seed"],u);const f=d(t,["safetyFilterLevel"]);e!==void 0&&f!=null&&m(e,["parameters","safetySetting"],f);const p=d(t,["personGeneration"]);e!==void 0&&p!=null&&m(e,["parameters","personGeneration"],p);const h=d(t,["addWatermark"]);e!==void 0&&h!=null&&m(e,["parameters","addWatermark"],h);const v=d(t,["outputMimeType"]);e!==void 0&&v!=null&&m(e,["parameters","outputOptions","mimeType"],v);const _=d(t,["outputCompressionQuality"]);e!==void 0&&_!=null&&m(e,["parameters","outputOptions","compressionQuality"],_);const S=d(t,["enhancePrompt"]);e!==void 0&&S!=null&&m(e,["parameters","enhancePrompt"],S);const T=d(t,["labels"]);return e!==void 0&&T!=null&&m(e,["labels"],T),n}function w2(t,e){const n={},i=d(e,["model"]);i!=null&&m(n,["_url","model"],Ge(t,i));const s=d(e,["source"]);s!=null&&x2(s,n);const a=d(e,["config"]);return a!=null&&C2(a,n),n}function R2(t){const e={},n=d(t,["predictions"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>Rf(s))),m(e,["generatedImages"],i)}return e}function x2(t,e){const n={},i=d(t,["prompt"]);e!==void 0&&i!=null&&m(e,["instances[0]","prompt"],i);const s=d(t,["personImage"]);e!==void 0&&s!=null&&m(e,["instances[0]","personImage","image"],Yn(s));const a=d(t,["productImages"]);if(e!==void 0&&a!=null){let u=a;Array.isArray(u)&&(u=u.map(f=>A2(f))),m(e,["instances[0]","productImages"],u)}return n}function M2(t){const e={},n=d(t,["referenceImage"]);n!=null&&m(e,["referenceImage"],Yn(n));const i=d(t,["referenceId"]);i!=null&&m(e,["referenceId"],i);const s=d(t,["referenceType"]);s!=null&&m(e,["referenceType"],s);const a=d(t,["maskImageConfig"]);a!=null&&m(e,["maskImageConfig"],T2(a));const u=d(t,["controlImageConfig"]);u!=null&&m(e,["controlImageConfig"],mB(u));const f=d(t,["styleImageConfig"]);f!=null&&m(e,["styleImageConfig"],f);const p=d(t,["subjectImageConfig"]);return p!=null&&m(e,["subjectImageConfig"],p),e}function nw(t){const e={},n=d(t,["safetyAttributes","categories"]);n!=null&&m(e,["categories"],n);const i=d(t,["safetyAttributes","scores"]);i!=null&&m(e,["scores"],i);const s=d(t,["contentType"]);return s!=null&&m(e,["contentType"],s),e}function iw(t){const e={},n=d(t,["safetyAttributes","categories"]);n!=null&&m(e,["categories"],n);const i=d(t,["safetyAttributes","scores"]);i!=null&&m(e,["scores"],i);const s=d(t,["contentType"]);return s!=null&&m(e,["contentType"],s),e}function N2(t){const e={},n=d(t,["category"]);if(n!=null&&m(e,["category"],n),d(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const i=d(t,["threshold"]);return i!=null&&m(e,["threshold"],i),e}function I2(t){const e={},n=d(t,["image"]);return n!=null&&m(e,["image"],Yn(n)),e}function D2(t,e){const n={},i=d(t,["mode"]);e!==void 0&&i!=null&&m(e,["parameters","mode"],i);const s=d(t,["maxPredictions"]);e!==void 0&&s!=null&&m(e,["parameters","maxPredictions"],s);const a=d(t,["confidenceThreshold"]);e!==void 0&&a!=null&&m(e,["parameters","confidenceThreshold"],a);const u=d(t,["maskDilation"]);e!==void 0&&u!=null&&m(e,["parameters","maskDilation"],u);const f=d(t,["binaryColorThreshold"]);e!==void 0&&f!=null&&m(e,["parameters","binaryColorThreshold"],f);const p=d(t,["labels"]);return e!==void 0&&p!=null&&m(e,["labels"],p),n}function O2(t,e){const n={},i=d(e,["model"]);i!=null&&m(n,["_url","model"],Ge(t,i));const s=d(e,["source"]);s!=null&&P2(s,n);const a=d(e,["config"]);return a!=null&&D2(a,n),n}function U2(t){const e={},n=d(t,["predictions"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>r2(s))),m(e,["generatedMasks"],i)}return e}function P2(t,e){const n={},i=d(t,["prompt"]);e!==void 0&&i!=null&&m(e,["instances[0]","prompt"],i);const s=d(t,["image"]);e!==void 0&&s!=null&&m(e,["instances[0]","image"],Yn(s));const a=d(t,["scribbleImage"]);return e!==void 0&&a!=null&&m(e,["instances[0]","scribble"],I2(a)),n}function ow(t){const e={},n=d(t,["voiceConfig"]);n!=null&&m(e,["voiceConfig"],n);const i=d(t,["languageCode"]);if(i!=null&&m(e,["languageCode"],i),d(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return e}function L2(t){const e={},n=d(t,["functionCallingConfig"]);n!=null&&m(e,["functionCallingConfig"],BB(n));const i=d(t,["retrievalConfig"]);return i!=null&&m(e,["retrievalConfig"],i),e}function k2(t){const e={},n=d(t,["functionDeclarations"]);if(n!=null){let v=n;Array.isArray(v)&&(v=v.map(_=>_)),m(e,["functionDeclarations"],v)}if(d(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=d(t,["googleSearchRetrieval"]);i!=null&&m(e,["googleSearchRetrieval"],i);const s=d(t,["computerUse"]);s!=null&&m(e,["computerUse"],s);const a=d(t,["fileSearch"]);a!=null&&m(e,["fileSearch"],a);const u=d(t,["codeExecution"]);if(u!=null&&m(e,["codeExecution"],u),d(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const f=d(t,["googleMaps"]);f!=null&&m(e,["googleMaps"],f2(f));const p=d(t,["googleSearch"]);p!=null&&m(e,["googleSearch"],d2(p));const h=d(t,["urlContext"]);return h!=null&&m(e,["urlContext"],h),e}function rw(t){const e={},n=d(t,["functionDeclarations"]);if(n!=null){let _=n;Array.isArray(_)&&(_=_.map(S=>HB(S))),m(e,["functionDeclarations"],_)}const i=d(t,["retrieval"]);i!=null&&m(e,["retrieval"],i);const s=d(t,["googleSearchRetrieval"]);s!=null&&m(e,["googleSearchRetrieval"],s);const a=d(t,["computerUse"]);if(a!=null&&m(e,["computerUse"],a),d(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const u=d(t,["codeExecution"]);u!=null&&m(e,["codeExecution"],u);const f=d(t,["enterpriseWebSearch"]);f!=null&&m(e,["enterpriseWebSearch"],f);const p=d(t,["googleMaps"]);p!=null&&m(e,["googleMaps"],p);const h=d(t,["googleSearch"]);h!=null&&m(e,["googleSearch"],h);const v=d(t,["urlContext"]);return v!=null&&m(e,["urlContext"],v),e}function B2(t){const e={},n=d(t,["baseModel"]);n!=null&&m(e,["baseModel"],n);const i=d(t,["createTime"]);i!=null&&m(e,["createTime"],i);const s=d(t,["updateTime"]);return s!=null&&m(e,["updateTime"],s),e}function H2(t){const e={},n=d(t,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&m(e,["baseModel"],n);const i=d(t,["createTime"]);i!=null&&m(e,["createTime"],i);const s=d(t,["updateTime"]);return s!=null&&m(e,["updateTime"],s),e}function V2(t,e){const n={},i=d(t,["displayName"]);e!==void 0&&i!=null&&m(e,["displayName"],i);const s=d(t,["description"]);e!==void 0&&s!=null&&m(e,["description"],s);const a=d(t,["defaultCheckpointId"]);return e!==void 0&&a!=null&&m(e,["defaultCheckpointId"],a),n}function G2(t,e){const n={},i=d(t,["displayName"]);e!==void 0&&i!=null&&m(e,["displayName"],i);const s=d(t,["description"]);e!==void 0&&s!=null&&m(e,["description"],s);const a=d(t,["defaultCheckpointId"]);return e!==void 0&&a!=null&&m(e,["defaultCheckpointId"],a),n}function q2(t,e){const n={},i=d(e,["model"]);i!=null&&m(n,["_url","name"],Ge(t,i));const s=d(e,["config"]);return s!=null&&V2(s,n),n}function $2(t,e){const n={},i=d(e,["model"]);i!=null&&m(n,["_url","model"],Ge(t,i));const s=d(e,["config"]);return s!=null&&G2(s,n),n}function F2(t,e){const n={},i=d(t,["outputGcsUri"]);e!==void 0&&i!=null&&m(e,["parameters","storageUri"],i);const s=d(t,["safetyFilterLevel"]);e!==void 0&&s!=null&&m(e,["parameters","safetySetting"],s);const a=d(t,["personGeneration"]);e!==void 0&&a!=null&&m(e,["parameters","personGeneration"],a);const u=d(t,["includeRaiReason"]);e!==void 0&&u!=null&&m(e,["parameters","includeRaiReason"],u);const f=d(t,["outputMimeType"]);e!==void 0&&f!=null&&m(e,["parameters","outputOptions","mimeType"],f);const p=d(t,["outputCompressionQuality"]);e!==void 0&&p!=null&&m(e,["parameters","outputOptions","compressionQuality"],p);const h=d(t,["enhanceInputImage"]);e!==void 0&&h!=null&&m(e,["parameters","upscaleConfig","enhanceInputImage"],h);const v=d(t,["imagePreservationFactor"]);e!==void 0&&v!=null&&m(e,["parameters","upscaleConfig","imagePreservationFactor"],v);const _=d(t,["labels"]);e!==void 0&&_!=null&&m(e,["labels"],_);const S=d(t,["numberOfImages"]);e!==void 0&&S!=null&&m(e,["parameters","sampleCount"],S);const T=d(t,["mode"]);return e!==void 0&&T!=null&&m(e,["parameters","mode"],T),n}function z2(t,e){const n={},i=d(e,["model"]);i!=null&&m(n,["_url","model"],Ge(t,i));const s=d(e,["image"]);s!=null&&m(n,["instances[0]","image"],Yn(s));const a=d(e,["upscaleFactor"]);a!=null&&m(n,["parameters","upscaleConfig","upscaleFactor"],a);const u=d(e,["config"]);return u!=null&&F2(u,n),n}function J2(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const i=d(t,["predictions"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>Rf(a))),m(e,["generatedImages"],s)}return e}function Y2(t){const e={},n=d(t,["uri"]);n!=null&&m(e,["uri"],n);const i=d(t,["encodedVideo"]);i!=null&&m(e,["videoBytes"],Uo(i));const s=d(t,["encoding"]);return s!=null&&m(e,["mimeType"],s),e}function K2(t){const e={},n=d(t,["gcsUri"]);n!=null&&m(e,["uri"],n);const i=d(t,["bytesBase64Encoded"]);i!=null&&m(e,["videoBytes"],Uo(i));const s=d(t,["mimeType"]);return s!=null&&m(e,["mimeType"],s),e}function X2(t){const e={},n=d(t,["image"]);n!=null&&m(e,["_self"],Yn(n));const i=d(t,["maskMode"]);return i!=null&&m(e,["maskMode"],i),e}function Q2(t){const e={},n=d(t,["image"]);n!=null&&m(e,["image"],xf(n));const i=d(t,["referenceType"]);return i!=null&&m(e,["referenceType"],i),e}function W2(t){const e={},n=d(t,["image"]);n!=null&&m(e,["image"],Yn(n));const i=d(t,["referenceType"]);return i!=null&&m(e,["referenceType"],i),e}function sw(t){const e={},n=d(t,["uri"]);n!=null&&m(e,["uri"],n);const i=d(t,["videoBytes"]);i!=null&&m(e,["encodedVideo"],Uo(i));const s=d(t,["mimeType"]);return s!=null&&m(e,["encoding"],s),e}function aw(t){const e={},n=d(t,["uri"]);n!=null&&m(e,["gcsUri"],n);const i=d(t,["videoBytes"]);i!=null&&m(e,["bytesBase64Encoded"],Uo(i));const s=d(t,["mimeType"]);return s!=null&&m(e,["mimeType"],s),e}function Z2(t,e){const n={},i=d(t,["displayName"]);return e!==void 0&&i!=null&&m(e,["displayName"],i),n}function j2(t){const e={},n=d(t,["config"]);return n!=null&&Z2(n,e),e}function eH(t,e){const n={},i=d(t,["force"]);return e!==void 0&&i!=null&&m(e,["_query","force"],i),n}function tH(t){const e={},n=d(t,["name"]);n!=null&&m(e,["_url","name"],n);const i=d(t,["config"]);return i!=null&&eH(i,e),e}function nH(t){const e={},n=d(t,["name"]);return n!=null&&m(e,["_url","name"],n),e}function iH(t,e){const n={},i=d(t,["customMetadata"]);if(e!==void 0&&i!=null){let a=i;Array.isArray(a)&&(a=a.map(u=>u)),m(e,["customMetadata"],a)}const s=d(t,["chunkingConfig"]);return e!==void 0&&s!=null&&m(e,["chunkingConfig"],s),n}function oH(t){const e={},n=d(t,["name"]);n!=null&&m(e,["name"],n);const i=d(t,["metadata"]);i!=null&&m(e,["metadata"],i);const s=d(t,["done"]);s!=null&&m(e,["done"],s);const a=d(t,["error"]);a!=null&&m(e,["error"],a);const u=d(t,["response"]);return u!=null&&m(e,["response"],sH(u)),e}function rH(t){const e={},n=d(t,["fileSearchStoreName"]);n!=null&&m(e,["_url","file_search_store_name"],n);const i=d(t,["fileName"]);i!=null&&m(e,["fileName"],i);const s=d(t,["config"]);return s!=null&&iH(s,e),e}function sH(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const i=d(t,["parent"]);i!=null&&m(e,["parent"],i);const s=d(t,["documentName"]);return s!=null&&m(e,["documentName"],s),e}function aH(t,e){const n={},i=d(t,["pageSize"]);e!==void 0&&i!=null&&m(e,["_query","pageSize"],i);const s=d(t,["pageToken"]);return e!==void 0&&s!=null&&m(e,["_query","pageToken"],s),n}function lH(t){const e={},n=d(t,["config"]);return n!=null&&aH(n,e),e}function uH(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const i=d(t,["nextPageToken"]);i!=null&&m(e,["nextPageToken"],i);const s=d(t,["fileSearchStores"]);if(s!=null){let a=s;Array.isArray(a)&&(a=a.map(u=>u)),m(e,["fileSearchStores"],a)}return e}function lw(t,e){const n={},i=d(t,["mimeType"]);e!==void 0&&i!=null&&m(e,["mimeType"],i);const s=d(t,["displayName"]);e!==void 0&&s!=null&&m(e,["displayName"],s);const a=d(t,["customMetadata"]);if(e!==void 0&&a!=null){let f=a;Array.isArray(f)&&(f=f.map(p=>p)),m(e,["customMetadata"],f)}const u=d(t,["chunkingConfig"]);return e!==void 0&&u!=null&&m(e,["chunkingConfig"],u),n}function cH(t){const e={},n=d(t,["fileSearchStoreName"]);n!=null&&m(e,["_url","file_search_store_name"],n);const i=d(t,["config"]);return i!=null&&lw(i,e),e}function fH(t){const e={},n=d(t,["sdkHttpResponse"]);return n!=null&&m(e,["sdkHttpResponse"],n),e}const dH="Content-Type",hH="X-Server-Timeout",pH="User-Agent",gm="x-goog-api-client",mH="1.33.0",gH=`google-genai-sdk/${mH}`,vH="v1beta1",yH="v1beta";class _H{constructor(e){var n,i;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const s={};this.clientOptions.vertexai?(s.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:vH,s.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(s.apiVersion=(i=this.clientOptions.apiVersion)!==null&&i!==void 0?i:yH,s.baseUrl="https://generativelanguage.googleapis.com/"),s.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=s,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(s,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const i=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&i.push(e.apiVersion),i.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,i){const s=[this.getRequestUrlInternal(n)];return i&&s.push(this.getBaseResourcePath()),e!==""&&s.push(e),new URL(`${s.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const i=this.shouldPrependVertexProjectPath(e),s=this.constructUrl(e.path,n,i);if(e.queryParams)for(const[u,f]of Object.entries(e.queryParams))s.searchParams.append(u,String(f));let a={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else a.body=e.body;return a=await this.includeExtraHttpOptionsToRequestInit(a,n,s.toString(),e.abortSignal),this.unaryApiCall(s,a,e.httpMethod)}patchHttpOptions(e,n){const i=JSON.parse(JSON.stringify(e));for(const[s,a]of Object.entries(n))typeof a=="object"?i[s]=Object.assign(Object.assign({},i[s]),a):a!==void 0&&(i[s]=a);return i}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const i=this.shouldPrependVertexProjectPath(e),s=this.constructUrl(e.path,n,i);(!s.searchParams.has("alt")||s.searchParams.get("alt")!=="sse")&&s.searchParams.set("alt","sse");let a={};return a.body=e.body,a=await this.includeExtraHttpOptionsToRequestInit(a,n,s.toString(),e.abortSignal),this.streamApiCall(s,a,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,i,s){if(n&&n.timeout||s){const a=new AbortController,u=a.signal;if(n.timeout&&n?.timeout>0){const f=setTimeout(()=>a.abort(),n.timeout);f&&typeof f.unref=="function"&&f.unref()}s&&s.addEventListener("abort",()=>{a.abort()}),e.signal=u}return n&&n.extraBody!==null&&SH(e,n.extraBody),e.headers=await this.getHeadersInternal(n,i),e}async unaryApiCall(e,n,i){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:i})).then(async s=>(await CT(s),new fm(s))).catch(s=>{throw s instanceof Error?s:new Error(JSON.stringify(s))})}async streamApiCall(e,n,i){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:i})).then(async s=>(await CT(s),this.processStreamResponse(s))).catch(s=>{throw s instanceof Error?s:new Error(JSON.stringify(s))})}processStreamResponse(e){return qn(this,arguments,function*(){var i;const s=(i=e?.body)===null||i===void 0?void 0:i.getReader(),a=new TextDecoder("utf-8");if(!s)throw new Error("Response body is empty");try{let u="";const f="data:",p=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:h,value:v}=yield Te(s.read());if(h){if(u.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const _=a.decode(v,{stream:!0});try{const A=JSON.parse(_);if("error"in A){const w=JSON.parse(JSON.stringify(A.error)),R=w.status,D=w.code,U=`got status: ${R}. ${JSON.stringify(A)}`;if(D>=400&&D<600)throw new Cf({message:U,status:D})}}catch(A){if(A.name==="ApiError")throw A}u+=_;let S=-1,T=0;for(;;){S=-1,T=0;for(const R of p){const D=u.indexOf(R);D!==-1&&(S===-1||D<S)&&(S=D,T=R.length)}if(S===-1)break;const A=u.substring(0,S);u=u.substring(S+T);const w=A.trim();if(w.startsWith(f)){const R=w.substring(f.length).trim();try{const D=new Response(R,{headers:e?.headers,status:e?.status,statusText:e?.statusText});yield yield Te(new fm(D))}catch(D){throw new Error(`exception parsing stream chunk ${R}. ${D}`)}}}}}finally{s.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(i=>{throw new Error(`exception ${i} sending request`)})}getDefaultHeaders(){const e={},n=gH+" "+this.clientOptions.userAgentExtra;return e[pH]=n,e[gm]=n,e[dH]="application/json",e}async getHeadersInternal(e,n){const i=new Headers;if(e&&e.headers){for(const[s,a]of Object.entries(e.headers))i.append(s,a);e.timeout&&e.timeout>0&&i.append(hH,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(i,n),i}getFileName(e){var n;let i="";return typeof e=="string"&&(i=e.replace(/[/\\]+$/,""),i=(n=i.split(/[/\\]/).pop())!==null&&n!==void 0?n:""),i}async uploadFile(e,n){var i;const s={};n!=null&&(s.mimeType=n.mimeType,s.name=n.name,s.displayName=n.displayName),s.name&&!s.name.startsWith("files/")&&(s.name=`files/${s.name}`);const a=this.clientOptions.uploader,u=await a.stat(e);s.sizeBytes=String(u.size);const f=(i=n?.mimeType)!==null&&i!==void 0?i:u.type;if(f===void 0||f==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");s.mimeType=f;const p={file:s},h=this.getFileName(e),v=re("upload/v1beta/files",p._url),_=await this.fetchUploadUrl(v,s.sizeBytes,s.mimeType,h,p,n?.httpOptions);return a.upload(e,_,this)}async uploadFileToFileSearchStore(e,n,i){var s;const a=this.clientOptions.uploader,u=await a.stat(n),f=String(u.size),p=(s=i?.mimeType)!==null&&s!==void 0?s:u.type;if(p===void 0||p==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const h=`upload/v1beta/${e}:uploadToFileSearchStore`,v=this.getFileName(n),_={};i!=null&&lw(i,_);const S=await this.fetchUploadUrl(h,f,p,v,_,i?.httpOptions);return a.uploadToFileSearchStore(n,S,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n,i,s,a,u){var f;let p={};u?p=u:p={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n}`,"X-Goog-Upload-Header-Content-Type":`${i}`},s?{"X-Goog-Upload-File-Name":s}:{})};const h=await this.request({path:e,body:JSON.stringify(a),httpMethod:"POST",httpOptions:p});if(!h||!h?.headers)throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const v=(f=h?.headers)===null||f===void 0?void 0:f["x-goog-upload-url"];if(v===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return v}}async function CT(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const n=t.status;let i;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?i=await t.json():i={error:{message:await t.text(),code:t.status,status:t.statusText}};const s=JSON.stringify(i);throw n>=400&&n<600?new Cf({message:s,status:n}):new Error(s)}}function SH(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof t.body=="string"&&t.body.length>0)try{const a=JSON.parse(t.body);if(typeof a=="object"&&a!==null&&!Array.isArray(a))n=a;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function i(a,u){const f=Object.assign({},a);for(const p in u)if(Object.prototype.hasOwnProperty.call(u,p)){const h=u[p],v=f[p];h&&typeof h=="object"&&!Array.isArray(h)&&v&&typeof v=="object"&&!Array.isArray(v)?f[p]=i(v,h):(v&&h&&typeof v!=typeof h&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${p}". Original type: ${typeof v}, New type: ${typeof h}. Overwriting.`),f[p]=h)}return f}const s=i(n,e);t.body=JSON.stringify(s)}const EH="mcp_used/unknown";let TH=!1;function uw(t){for(const e of t)if(bH(e)||typeof e=="object"&&"inputSchema"in e)return!0;return TH}function cw(t){var e;const n=(e=t[gm])!==null&&e!==void 0?e:"";t[gm]=(n+` ${EH}`).trimStart()}function bH(t){return t!==null&&typeof t=="object"&&t instanceof Rg}function AH(t){return qn(this,arguments,function*(n,i=100){let s,a=0;for(;a<i;){const u=yield Te(n.listTools({cursor:s}));for(const f of u.tools)yield yield Te(f),a++;if(!u.nextCursor)break;s=u.nextCursor}})}class Rg{constructor(e=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=n}static create(e,n){return new Rg(e,n)}async initialize(){var e,n,i,s;if(this.mcpTools.length>0)return;const a={},u=[];for(const v of this.mcpClients)try{for(var f=!0,p=(n=void 0,$n(AH(v))),h;h=await p.next(),e=h.done,!e;f=!0){s=h.value,f=!1;const _=s;u.push(_);const S=_.name;if(a[S])throw new Error(`Duplicate function name ${S} found in MCP tools. Please ensure function names are unique.`);a[S]=v}}catch(_){n={error:_}}finally{try{!f&&!e&&(i=p.return)&&await i.call(p)}finally{if(n)throw n.error}}this.mcpTools=u,this.functionNameToMcpClient=a}async tool(){return await this.initialize(),nL(this.mcpTools,this.config)}async callTool(e){await this.initialize();const n=[];for(const i of e)if(i.name in this.functionNameToMcpClient){const s=this.functionNameToMcpClient[i.name];let a;this.config.timeout&&(a={timeout:this.config.timeout});const u=await s.callTool({name:i.name,arguments:i.args},void 0,a);n.push({functionResponse:{name:i.name,response:u.isError?{error:u}:u}})}return n}}async function CH(t,e,n){const i=new KP;let s;n.data instanceof Blob?s=JSON.parse(await n.data.text()):s=JSON.parse(n.data),Object.assign(i,s),e(i)}class wH{constructor(e,n,i){this.apiClient=e,this.auth=n,this.webSocketFactory=i}async connect(e){var n,i;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const s=this.apiClient.getWebsocketBaseUrl(),a=this.apiClient.getApiVersion(),u=MH(this.apiClient.getDefaultHeaders()),f=this.apiClient.getApiKey(),p=`${s}/ws/google.ai.generativelanguage.${a}.GenerativeService.BidiGenerateMusic?key=${f}`;let h=()=>{};const v=new Promise(O=>{h=O}),_=e.callbacks,S=function(){h({})},T=this.apiClient,A={onopen:S,onmessage:O=>{CH(T,_.onmessage,O)},onerror:(n=_?.onerror)!==null&&n!==void 0?n:function(O){},onclose:(i=_?.onclose)!==null&&i!==void 0?i:function(O){}},w=this.webSocketFactory.create(p,xH(u),A);w.connect(),await v;const U={setup:{model:Ge(this.apiClient,e.model)}};return w.send(JSON.stringify(U)),new RH(w,this.apiClient)}}class RH{constructor(e,n){this.conn=e,this.apiClient=n}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=jk(e);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const n=Zk(e);this.conn.send(JSON.stringify(n))}sendPlaybackControl(e){const n={playbackControl:e};this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(Ss.PLAY)}pause(){this.sendPlaybackControl(Ss.PAUSE)}stop(){this.sendPlaybackControl(Ss.STOP)}resetContext(){this.sendPlaybackControl(Ss.RESET_CONTEXT)}close(){this.conn.close()}}function xH(t){const e={};return t.forEach((n,i)=>{e[i]=n}),e}function MH(t){const e=new Headers;for(const[n,i]of Object.entries(t))e.append(n,i);return e}const NH="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function IH(t,e,n){const i=new YP;let s;n.data instanceof Blob?s=await n.data.text():n.data instanceof ArrayBuffer?s=new TextDecoder().decode(n.data):s=n.data;const a=JSON.parse(s);if(t.isVertexAI()){const u=nB(a);Object.assign(i,u)}else Object.assign(i,a);e(i)}class DH{constructor(e,n,i){this.apiClient=e,this.auth=n,this.webSocketFactory=i,this.music=new wH(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,i,s,a,u,f;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const p=this.apiClient.getWebsocketBaseUrl(),h=this.apiClient.getApiVersion();let v;const _=this.apiClient.getHeaders();e.config&&e.config.tools&&uw(e.config.tools)&&cw(_);const S=LH(_);if(this.apiClient.isVertexAI())v=`${p}/ws/google.cloud.aiplatform.${h}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(S,v);else{const Q=this.apiClient.getApiKey();let te="BidiGenerateContent",ee="key";Q?.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),h!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),te="BidiGenerateContentConstrained",ee="access_token"),v=`${p}/ws/google.ai.generativelanguage.${h}.GenerativeService.${te}?${ee}=${Q}`}let T=()=>{};const A=new Promise(Q=>{T=Q}),w=e.callbacks,R=function(){var Q;(Q=w?.onopen)===null||Q===void 0||Q.call(w),T({})},D=this.apiClient,U={onopen:R,onmessage:Q=>{IH(D,w.onmessage,Q)},onerror:(n=w?.onerror)!==null&&n!==void 0?n:function(Q){},onclose:(i=w?.onclose)!==null&&i!==void 0?i:function(Q){}},O=this.webSocketFactory.create(v,PH(S),U);O.connect(),await A;let L=Ge(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&L.startsWith("publishers/")){const Q=this.apiClient.getProject(),te=this.apiClient.getLocation();L=`projects/${Q}/locations/${te}/`+L}let z={};this.apiClient.isVertexAI()&&((s=e.config)===null||s===void 0?void 0:s.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[Kc.AUDIO]}:e.config.responseModalities=[Kc.AUDIO]),!((a=e.config)===null||a===void 0)&&a.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const $=(f=(u=e.config)===null||u===void 0?void 0:u.tools)!==null&&f!==void 0?f:[],V=[];for(const Q of $)if(this.isCallableTool(Q)){const te=Q;V.push(await te.tool())}else V.push(Q);V.length>0&&(e.config.tools=V);const W={model:L,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?z=Wk(this.apiClient,W):z=Qk(this.apiClient,W),delete z.config,O.send(JSON.stringify(z)),new UH(O,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const OH={turnComplete:!0};class UH{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let i=[];try{i=Rn(n.turns),e.isVertexAI()||(i=i.map(s=>wf(s)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:i,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let i=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?i=n.functionResponses:i=[n.functionResponses],i.length===0)throw new Error("functionResponses is required.");for(const a of i){if(typeof a!="object"||a===null||!("name"in a)||!("response"in a))throw new Error(`Could not parse function response, type '${typeof a}'.`);if(!e.isVertexAI()&&!("id"in a))throw new Error(NH)}return{toolResponse:{functionResponses:i}}}sendClientContent(e){e=Object.assign(Object.assign({},OH),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:tB(e)}:n={realtimeInput:eB(e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function PH(t){const e={};return t.forEach((n,i)=>{e[i]=n}),e}function LH(t){const e=new Headers;for(const[n,i]of Object.entries(t))e.append(n,i);return e}const wT=10;function RT(t){var e,n,i;if(!((e=t?.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let s=!1;for(const u of(n=t?.tools)!==null&&n!==void 0?n:[])if(bs(u)){s=!0;break}if(!s)return!0;const a=(i=t?.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls;return a&&(a<0||!Number.isInteger(a))||a==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",a),!0):!1}function bs(t){return"callTool"in t&&typeof t.callTool=="function"}function kH(t){var e,n,i;return(i=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(s=>bs(s)))!==null&&i!==void 0?i:!1}function xT(t){var e;const n=[];return!((e=t?.config)===null||e===void 0)&&e.tools&&t.config.tools.forEach((i,s)=>{if(bs(i))return;const a=i;a.functionDeclarations&&a.functionDeclarations.length>0&&n.push(s)}),n}function MT(t){var e;return!(!((e=t?.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}let BH=class extends qi{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>{var i,s,a,u,f;const p=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!kH(n)||RT(n.config))return await this.generateContentInternal(p);const h=xT(n);if(h.length>0){const w=h.map(R=>`tools[${R}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${w}.`)}let v,_;const S=Rn(p.contents),T=(a=(s=(i=p.config)===null||i===void 0?void 0:i.automaticFunctionCalling)===null||s===void 0?void 0:s.maximumRemoteCalls)!==null&&a!==void 0?a:wT;let A=0;for(;A<T&&(v=await this.generateContentInternal(p),!(!v.functionCalls||v.functionCalls.length===0));){const w=v.candidates[0].content,R=[];for(const D of(f=(u=n.config)===null||u===void 0?void 0:u.tools)!==null&&f!==void 0?f:[])if(bs(D)){const O=await D.callTool(v.functionCalls);R.push(...O)}A++,_={role:"user",parts:R},p.contents=Rn(p.contents),p.contents.push(w),p.contents.push(_),MT(p.config)&&(S.push(w),S.push(_))}return MT(p.config)&&(v.automaticFunctionCallingHistory=S),v},this.generateContentStream=async n=>{var i,s,a,u,f;if(this.maybeMoveToResponseJsonSchem(n),RT(n.config)){const _=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(_)}const p=xT(n);if(p.length>0){const _=p.map(S=>`tools[${S}]`).join(", ");throw new Error(`Incompatible tools found at ${_}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const h=(a=(s=(i=n?.config)===null||i===void 0?void 0:i.toolConfig)===null||s===void 0?void 0:s.functionCallingConfig)===null||a===void 0?void 0:a.streamFunctionCallArguments,v=(f=(u=n?.config)===null||u===void 0?void 0:u.automaticFunctionCalling)===null||f===void 0?void 0:f.disable;if(h&&!v)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(i=>{var s;let a;const u=[];if(i?.generatedImages)for(const p of i.generatedImages)p&&p?.safetyAttributes&&((s=p?.safetyAttributes)===null||s===void 0?void 0:s.contentType)==="Positive Prompt"?a=p?.safetyAttributes:u.push(p);let f;return a?f={generatedImages:u,positivePromptSafetyAttributes:a,sdkHttpResponse:i.sdkHttpResponse}:f={generatedImages:u,sdkHttpResponse:i.sdkHttpResponse},f}),this.list=async n=>{var i;const u={config:Object.assign(Object.assign({},{queryBase:!0}),n?.config)};if(this.apiClient.isVertexAI()&&!u.config.queryBase){if(!((i=u.config)===null||i===void 0)&&i.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");u.config.filter="labels.tune-type:*"}return new _r(Vi.PAGED_ITEM_MODELS,f=>this.listInternal(f),await this.listInternal(u),u)},this.editImage=async n=>{const i={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(i.referenceImages=n.referenceImages.map(s=>s.toReferenceImageAPI())),await this.editImageInternal(i)},this.upscaleImage=async n=>{let i={numberOfImages:1,mode:"upscale"};n.config&&(i=Object.assign(Object.assign({},i),n.config));const s={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:i};return await this.upscaleImageInternal(s)},this.generateVideos=async n=>{var i,s,a,u,f,p;if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((i=n.video)===null||i===void 0)&&i.uri&&(!((s=n.video)===null||s===void 0)&&s.videoBytes)?n.video={uri:n.video.uri,mimeType:n.video.mimeType}:!((u=(a=n.source)===null||a===void 0?void 0:a.video)===null||u===void 0)&&u.uri&&(!((p=(f=n.source)===null||f===void 0?void 0:f.video)===null||p===void 0)&&p.videoBytes)&&(n.source.video={uri:n.source.video.uri,mimeType:n.source.video.mimeType})),await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var n,i,s;const a=(n=e.config)===null||n===void 0?void 0:n.tools;if(!a)return e;const u=await Promise.all(a.map(async p=>bs(p)?await p.tool():p)),f={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:u})};if(f.config.tools=u,e.config&&e.config.tools&&uw(e.config.tools)){const p=(s=(i=e.config.httpOptions)===null||i===void 0?void 0:i.headers)!==null&&s!==void 0?s:{};let h=Object.assign({},p);Object.keys(h).length===0&&(h=this.apiClient.getDefaultHeaders()),cw(h),f.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:h})}return f}async initAfcToolsMap(e){var n,i,s;const a=new Map;for(const u of(i=(n=e.config)===null||n===void 0?void 0:n.tools)!==null&&i!==void 0?i:[])if(bs(u)){const f=u,p=await f.tool();for(const h of(s=p.functionDeclarations)!==null&&s!==void 0?s:[]){if(!h.name)throw new Error("Function declaration name is required.");if(a.has(h.name))throw new Error(`Duplicate tool declaration name: ${h.name}`);a.set(h.name,f)}}return a}async processAfcStream(e){var n,i,s;const a=(s=(i=(n=e.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&s!==void 0?s:wT;let u=!1,f=0;const p=await this.initAfcToolsMap(e);return(function(h,v,_){return qn(this,arguments,function*(){for(var S,T,A,w,R,D;f<a;){u&&(f++,u=!1);const z=yield Te(h.processParamsMaybeAddMcpUsage(_)),$=yield Te(h.generateContentStreamInternal(z)),V=[],W=[];try{for(var U=!0,O=(T=void 0,$n($)),L;L=yield Te(O.next()),S=L.done,!S;U=!0){w=L.value,U=!1;const Q=w;if(yield yield Te(Q),Q.candidates&&(!((R=Q.candidates[0])===null||R===void 0)&&R.content)){W.push(Q.candidates[0].content);for(const te of(D=Q.candidates[0].content.parts)!==null&&D!==void 0?D:[])if(f<a&&te.functionCall){if(!te.functionCall.name)throw new Error("Function call name was not returned by the model.");if(v.has(te.functionCall.name)){const ee=yield Te(v.get(te.functionCall.name).callTool([te.functionCall]));V.push(...ee)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${v.keys()}, mising tool: ${te.functionCall.name}`)}}}}catch(Q){T={error:Q}}finally{try{!U&&!S&&(A=O.return)&&(yield Te(A.call(O)))}finally{if(T)throw T.error}}if(V.length>0){u=!0;const Q=new Ha;Q.candidates=[{content:{role:"user",parts:V}}],yield yield Te(Q);const te=[];te.push(...W),te.push({role:"user",parts:V});const ee=Rn(_.contents).concat(te);_.contents=ee}else break}})})(this,p,e)}async generateContentInternal(e){var n,i,s,a;let u,f="",p={};if(this.apiClient.isVertexAI()){const h=TT(this.apiClient,e);return f=re("{model}:generateContent",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),u.then(v=>{const _=AT(v),S=new Ha;return Object.assign(S,_),S})}else{const h=ET(this.apiClient,e);return f=re("{model}:generateContent",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),u.then(v=>{const _=bT(v),S=new Ha;return Object.assign(S,_),S})}}async generateContentStreamInternal(e){var n,i,s,a;let u,f="",p={};if(this.apiClient.isVertexAI()){const h=TT(this.apiClient,e);return f=re("{model}:streamGenerateContent?alt=sse",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.requestStream({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}),u.then(function(_){return qn(this,arguments,function*(){var S,T,A,w;try{for(var R=!0,D=$n(_),U;U=yield Te(D.next()),S=U.done,!S;R=!0){w=U.value,R=!1;const O=w,L=AT(yield Te(O.json()));L.sdkHttpResponse={headers:O.headers};const z=new Ha;Object.assign(z,L),yield yield Te(z)}}catch(O){T={error:O}}finally{try{!R&&!S&&(A=D.return)&&(yield Te(A.call(D)))}finally{if(T)throw T.error}}})})}else{const h=ET(this.apiClient,e);return f=re("{model}:streamGenerateContent?alt=sse",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.requestStream({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}),u.then(function(_){return qn(this,arguments,function*(){var S,T,A,w;try{for(var R=!0,D=$n(_),U;U=yield Te(D.next()),S=U.done,!S;R=!0){w=U.value,R=!1;const O=w,L=bT(yield Te(O.json()));L.sdkHttpResponse={headers:O.headers};const z=new Ha;Object.assign(z,L),yield yield Te(z)}}catch(O){T={error:O}}finally{try{!R&&!S&&(A=D.return)&&(yield Te(A.call(D)))}finally{if(T)throw T.error}}})})}}async embedContent(e){var n,i,s,a;let u,f="",p={};if(this.apiClient.isVertexAI()){const h=DB(this.apiClient,e);return f=re("{model}:predict",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),u.then(v=>{const _=UB(v),S=new oT;return Object.assign(S,_),S})}else{const h=IB(this.apiClient,e);return f=re("{model}:batchEmbedContents",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),u.then(v=>{const _=OB(v),S=new oT;return Object.assign(S,_),S})}}async generateImagesInternal(e){var n,i,s,a;let u,f="",p={};if(this.apiClient.isVertexAI()){const h=zB(this.apiClient,e);return f=re("{model}:predict",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),u.then(v=>{const _=YB(v),S=new rT;return Object.assign(S,_),S})}else{const h=FB(this.apiClient,e);return f=re("{model}:predict",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),u.then(v=>{const _=JB(v),S=new rT;return Object.assign(S,_),S})}}async editImageInternal(e){var n,i;let s,a="",u={};if(this.apiClient.isVertexAI()){const f=RB(this.apiClient,e);return a=re("{model}:predict",f._url),u=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:p.headers},v})),s.then(p=>{const h=xB(p),v=new LP;return Object.assign(v,h),v})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,i;let s,a="",u={};if(this.apiClient.isVertexAI()){const f=z2(this.apiClient,e);return a=re("{model}:predict",f._url),u=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:p.headers},v})),s.then(p=>{const h=J2(p),v=new kP;return Object.assign(v,h),v})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var n,i;let s,a="",u={};if(this.apiClient.isVertexAI()){const f=w2(this.apiClient,e);return a=re("{model}:predict",f._url),u=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),s.then(p=>{const h=R2(p),v=new BP;return Object.assign(v,h),v})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var n,i;let s,a="",u={};if(this.apiClient.isVertexAI()){const f=O2(this.apiClient,e);return a=re("{model}:predict",f._url),u=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),s.then(p=>{const h=U2(p),v=new HP;return Object.assign(v,h),v})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,i,s,a;let u,f="",p={};if(this.apiClient.isVertexAI()){const h=c2(this.apiClient,e);return f=re("{name}",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json()),u.then(v=>mm(v))}else{const h=u2(this.apiClient,e);return f=re("{name}",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),u.then(v=>pm(v))}}async listInternal(e){var n,i,s,a;let u,f="",p={};if(this.apiClient.isVertexAI()){const h=_2(this.apiClient,e);return f=re("{models_url}",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),u.then(v=>{const _=E2(v),S=new sT;return Object.assign(S,_),S})}else{const h=y2(this.apiClient,e);return f=re("{models_url}",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),u.then(v=>{const _=S2(v),S=new sT;return Object.assign(S,_),S})}}async update(e){var n,i,s,a;let u,f="",p={};if(this.apiClient.isVertexAI()){const h=$2(this.apiClient,e);return f=re("{model}",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json()),u.then(v=>mm(v))}else{const h=q2(this.apiClient,e);return f=re("{name}",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),u.then(v=>pm(v))}}async delete(e){var n,i,s,a;let u,f="",p={};if(this.apiClient.isVertexAI()){const h=bB(this.apiClient,e);return f=re("{name}",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),u.then(v=>{const _=CB(v),S=new aT;return Object.assign(S,_),S})}else{const h=TB(this.apiClient,e);return f=re("{name}",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),u.then(v=>{const _=AB(v),S=new aT;return Object.assign(S,_),S})}}async countTokens(e){var n,i,s,a;let u,f="",p={};if(this.apiClient.isVertexAI()){const h=_B(this.apiClient,e);return f=re("{model}:countTokens",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),u.then(v=>{const _=EB(v),S=new lT;return Object.assign(S,_),S})}else{const h=yB(this.apiClient,e);return f=re("{model}:countTokens",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),u.then(v=>{const _=SB(v),S=new lT;return Object.assign(S,_),S})}}async computeTokens(e){var n,i;let s,a="",u={};if(this.apiClient.isVertexAI()){const f=fB(this.apiClient,e);return a=re("{model}:computeTokens",f._url),u=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:p.headers},v})),s.then(p=>{const h=dB(p),v=new VP;return Object.assign(v,h),v})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var n,i,s,a;let u,f="",p={};if(this.apiClient.isVertexAI()){const h=jB(this.apiClient,e);return f=re("{model}:predictLongRunning",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json()),u.then(v=>{const _=WB(v),S=new Xc;return Object.assign(S,_),S})}else{const h=ZB(this.apiClient,e);return f=re("{model}:predictLongRunning",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),u.then(v=>{const _=QB(v),S=new Xc;return Object.assign(S,_),S})}}};class HH extends qi{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const n=e.operation,i=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const s=n.name.split("/operations/")[0];let a;i&&"httpOptions"in i&&(a=i.httpOptions);const u=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:s,config:{httpOptions:a}});return n._fromAPIResponse({apiResponse:u,_isVertexAI:!0})}else{const s=await this.getVideosOperationInternal({operationName:n.name,config:i});return n._fromAPIResponse({apiResponse:s,_isVertexAI:!1})}}async get(e){const n=e.operation,i=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const s=n.name.split("/operations/")[0];let a;i&&"httpOptions"in i&&(a=i.httpOptions);const u=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:s,config:{httpOptions:a}});return n._fromAPIResponse({apiResponse:u,_isVertexAI:!0})}else{const s=await this.getVideosOperationInternal({operationName:n.name,config:i});return n._fromAPIResponse({apiResponse:s,_isVertexAI:!1})}}async getVideosOperationInternal(e){var n,i,s,a;let u,f="",p={};if(this.apiClient.isVertexAI()){const h=NP(e);return f=re("{operationName}",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json()),u}else{const h=MP(e);return f=re("{operationName}",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),u}}async fetchPredictVideosOperationInternal(e){var n,i;let s,a="",u={};if(this.apiClient.isVertexAI()){const f=TP(e);return a=re("{resourceName}:fetchPredictOperation",f._url),u=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),s}else throw new Error("This method is only supported by the Vertex AI.")}}function VH(t){const e={},n=d(t,["data"]);if(n!=null&&m(e,["data"],n),d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=d(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}function GH(t){const e={},n=d(t,["parts"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(a=>QH(a))),m(e,["parts"],s)}const i=d(t,["role"]);return i!=null&&m(e,["role"],i),e}function qH(t,e,n){const i={},s=d(e,["expireTime"]);n!==void 0&&s!=null&&m(n,["expireTime"],s);const a=d(e,["newSessionExpireTime"]);n!==void 0&&a!=null&&m(n,["newSessionExpireTime"],a);const u=d(e,["uses"]);n!==void 0&&u!=null&&m(n,["uses"],u);const f=d(e,["liveConnectConstraints"]);n!==void 0&&f!=null&&m(n,["bidiGenerateContentSetup"],XH(t,f));const p=d(e,["lockAdditionalFields"]);return n!==void 0&&p!=null&&m(n,["fieldMask"],p),i}function $H(t,e){const n={},i=d(e,["config"]);return i!=null&&m(n,["config"],qH(t,i,n)),n}function FH(t){const e={};if(d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=d(t,["fileUri"]);n!=null&&m(e,["fileUri"],n);const i=d(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}function zH(t){const e={},n=d(t,["id"]);n!=null&&m(e,["id"],n);const i=d(t,["args"]);i!=null&&m(e,["args"],i);const s=d(t,["name"]);if(s!=null&&m(e,["name"],s),d(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(d(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function JH(t){const e={};if(d(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=d(t,["enableWidget"]);return n!=null&&m(e,["enableWidget"],n),e}function YH(t){const e={};if(d(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(d(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=d(t,["timeRangeFilter"]);return n!=null&&m(e,["timeRangeFilter"],n),e}function KH(t,e){const n={},i=d(t,["generationConfig"]);e!==void 0&&i!=null&&m(e,["setup","generationConfig"],i);const s=d(t,["responseModalities"]);e!==void 0&&s!=null&&m(e,["setup","generationConfig","responseModalities"],s);const a=d(t,["temperature"]);e!==void 0&&a!=null&&m(e,["setup","generationConfig","temperature"],a);const u=d(t,["topP"]);e!==void 0&&u!=null&&m(e,["setup","generationConfig","topP"],u);const f=d(t,["topK"]);e!==void 0&&f!=null&&m(e,["setup","generationConfig","topK"],f);const p=d(t,["maxOutputTokens"]);e!==void 0&&p!=null&&m(e,["setup","generationConfig","maxOutputTokens"],p);const h=d(t,["mediaResolution"]);e!==void 0&&h!=null&&m(e,["setup","generationConfig","mediaResolution"],h);const v=d(t,["seed"]);e!==void 0&&v!=null&&m(e,["setup","generationConfig","seed"],v);const _=d(t,["speechConfig"]);e!==void 0&&_!=null&&m(e,["setup","generationConfig","speechConfig"],wg(_));const S=d(t,["thinkingConfig"]);e!==void 0&&S!=null&&m(e,["setup","generationConfig","thinkingConfig"],S);const T=d(t,["enableAffectiveDialog"]);e!==void 0&&T!=null&&m(e,["setup","generationConfig","enableAffectiveDialog"],T);const A=d(t,["systemInstruction"]);e!==void 0&&A!=null&&m(e,["setup","systemInstruction"],GH(Ot(A)));const w=d(t,["tools"]);if(e!==void 0&&w!=null){let $=Ls(w);Array.isArray($)&&($=$.map(V=>ZH(Ps(V)))),m(e,["setup","tools"],$)}const R=d(t,["sessionResumption"]);e!==void 0&&R!=null&&m(e,["setup","sessionResumption"],WH(R));const D=d(t,["inputAudioTranscription"]);e!==void 0&&D!=null&&m(e,["setup","inputAudioTranscription"],D);const U=d(t,["outputAudioTranscription"]);e!==void 0&&U!=null&&m(e,["setup","outputAudioTranscription"],U);const O=d(t,["realtimeInputConfig"]);e!==void 0&&O!=null&&m(e,["setup","realtimeInputConfig"],O);const L=d(t,["contextWindowCompression"]);e!==void 0&&L!=null&&m(e,["setup","contextWindowCompression"],L);const z=d(t,["proactivity"]);if(e!==void 0&&z!=null&&m(e,["setup","proactivity"],z),d(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function XH(t,e){const n={},i=d(e,["model"]);i!=null&&m(n,["setup","model"],Ge(t,i));const s=d(e,["config"]);return s!=null&&m(n,["config"],KH(s,n)),n}function QH(t){const e={},n=d(t,["mediaResolution"]);n!=null&&m(e,["mediaResolution"],n);const i=d(t,["codeExecutionResult"]);i!=null&&m(e,["codeExecutionResult"],i);const s=d(t,["executableCode"]);s!=null&&m(e,["executableCode"],s);const a=d(t,["fileData"]);a!=null&&m(e,["fileData"],FH(a));const u=d(t,["functionCall"]);u!=null&&m(e,["functionCall"],zH(u));const f=d(t,["functionResponse"]);f!=null&&m(e,["functionResponse"],f);const p=d(t,["inlineData"]);p!=null&&m(e,["inlineData"],VH(p));const h=d(t,["text"]);h!=null&&m(e,["text"],h);const v=d(t,["thought"]);v!=null&&m(e,["thought"],v);const _=d(t,["thoughtSignature"]);_!=null&&m(e,["thoughtSignature"],_);const S=d(t,["videoMetadata"]);return S!=null&&m(e,["videoMetadata"],S),e}function WH(t){const e={},n=d(t,["handle"]);if(n!=null&&m(e,["handle"],n),d(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function ZH(t){const e={},n=d(t,["functionDeclarations"]);if(n!=null){let v=n;Array.isArray(v)&&(v=v.map(_=>_)),m(e,["functionDeclarations"],v)}if(d(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=d(t,["googleSearchRetrieval"]);i!=null&&m(e,["googleSearchRetrieval"],i);const s=d(t,["computerUse"]);s!=null&&m(e,["computerUse"],s);const a=d(t,["fileSearch"]);a!=null&&m(e,["fileSearch"],a);const u=d(t,["codeExecution"]);if(u!=null&&m(e,["codeExecution"],u),d(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const f=d(t,["googleMaps"]);f!=null&&m(e,["googleMaps"],JH(f));const p=d(t,["googleSearch"]);p!=null&&m(e,["googleSearch"],YH(p));const h=d(t,["urlContext"]);return h!=null&&m(e,["urlContext"],h),e}function jH(t){const e=[];for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const i=t[n];if(typeof i=="object"&&i!=null&&Object.keys(i).length>0){const s=Object.keys(i).map(a=>`${n}.${a}`);e.push(...s)}else e.push(n)}return e.join(",")}function eV(t,e){let n=null;const i=t.bidiGenerateContentSetup;if(typeof i=="object"&&i!==null&&"setup"in i){const a=i.setup;typeof a=="object"&&a!==null?(t.bidiGenerateContentSetup=a,n=a):delete t.bidiGenerateContentSetup}else i!==void 0&&delete t.bidiGenerateContentSetup;const s=t.fieldMask;if(n){const a=jH(n);if(Array.isArray(e?.lockAdditionalFields)&&e?.lockAdditionalFields.length===0)a?t.fieldMask=a:delete t.fieldMask;else if(e?.lockAdditionalFields&&e.lockAdditionalFields.length>0&&s!==null&&Array.isArray(s)&&s.length>0){const u=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let f=[];s.length>0&&(f=s.map(h=>u.includes(h)?`generationConfig.${h}`:h));const p=[];a&&p.push(a),f.length>0&&p.push(...f),p.length>0?t.fieldMask=p.join(","):delete t.fieldMask}else delete t.fieldMask}else s!==null&&Array.isArray(s)&&s.length>0?t.fieldMask=s.join(","):delete t.fieldMask;return t}class tV extends qi{constructor(e){super(),this.apiClient=e}async create(e){var n,i;let s,a="",u={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const f=$H(this.apiClient,e);a=re("auth_tokens",f._url),u=f._query,delete f.config,delete f._url,delete f._query;const p=eV(f,e.config);return s=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),s.then(h=>h)}}}function nV(t,e){const n={},i=d(t,["force"]);return e!==void 0&&i!=null&&m(e,["_query","force"],i),n}function iV(t){const e={},n=d(t,["name"]);n!=null&&m(e,["_url","name"],n);const i=d(t,["config"]);return i!=null&&nV(i,e),e}function oV(t){const e={},n=d(t,["name"]);return n!=null&&m(e,["_url","name"],n),e}function rV(t,e){const n={},i=d(t,["pageSize"]);e!==void 0&&i!=null&&m(e,["_query","pageSize"],i);const s=d(t,["pageToken"]);return e!==void 0&&s!=null&&m(e,["_query","pageToken"],s),n}function sV(t){const e={},n=d(t,["parent"]);n!=null&&m(e,["_url","parent"],n);const i=d(t,["config"]);return i!=null&&rV(i,e),e}function aV(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const i=d(t,["nextPageToken"]);i!=null&&m(e,["nextPageToken"],i);const s=d(t,["documents"]);if(s!=null){let a=s;Array.isArray(a)&&(a=a.map(u=>u)),m(e,["documents"],a)}return e}class lV extends qi{constructor(e){super(),this.apiClient=e,this.list=async n=>new _r(Vi.PAGED_ITEM_DOCUMENTS,i=>this.listInternal({parent:n.parent,config:i.config}),await this.listInternal(n),n)}async get(e){var n,i;let s,a="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=oV(e);return a=re("{name}",f._url),u=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),s.then(p=>p)}}async delete(e){var n,i;let s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=iV(e);s=re("{name}",u._url),a=u._query,delete u._url,delete u._query,await this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal})}}async listInternal(e){var n,i;let s,a="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=sV(e);return a=re("{parent}/documents",f._url),u=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),s.then(p=>{const h=aV(p),v=new GP;return Object.assign(v,h),v})}}}class uV extends qi{constructor(e,n=new lV(e)){super(),this.apiClient=e,this.documents=n,this.list=async(i={})=>new _r(Vi.PAGED_ITEM_FILE_SEARCH_STORES,s=>this.listInternal(s),await this.listInternal(i),i)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var n,i;let s,a="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=j2(e);return a=re("fileSearchStores",f._url),u=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),s.then(p=>p)}}async get(e){var n,i;let s,a="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=nH(e);return a=re("{name}",f._url),u=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),s.then(p=>p)}}async delete(e){var n,i;let s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=tH(e);s=re("{name}",u._url),a=u._query,delete u._url,delete u._query,await this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal})}}async listInternal(e){var n,i;let s,a="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=lH(e);return a=re("fileSearchStores",f._url),u=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),s.then(p=>{const h=uH(p),v=new qP;return Object.assign(v,h),v})}}async uploadToFileSearchStoreInternal(e){var n,i;let s,a="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=cH(e);return a=re("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",f._url),u=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),s.then(p=>{const h=fH(p),v=new $P;return Object.assign(v,h),v})}}async importFile(e){var n,i;let s,a="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=rH(e);return a=re("{file_search_store_name}:importFile",f._url),u=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),s.then(p=>{const h=oH(p),v=new Eg;return Object.assign(v,h),v})}}}let fw=function(){const{crypto:t}=globalThis;if(t?.randomUUID)return fw=t.randomUUID.bind(t),t.randomUUID();const e=new Uint8Array(1),n=t?()=>t.getRandomValues(e)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,i=>(+i^n()&15>>+i/4).toString(16))};const cV=()=>fw();function vm(t){return typeof t=="object"&&t!==null&&("name"in t&&t.name==="AbortError"||"message"in t&&String(t.message).includes("FetchRequestCanceledException"))}const ym=t=>{if(t instanceof Error)return t;if(typeof t=="object"&&t!==null){try{if(Object.prototype.toString.call(t)==="[object Error]"){const e=new Error(t.message,t.cause?{cause:t.cause}:{});return t.stack&&(e.stack=t.stack),t.cause&&!e.cause&&(e.cause=t.cause),t.name&&(e.name=t.name),e}}catch{}try{return new Error(JSON.stringify(t))}catch{}}return new Error(t)};class Nn extends Error{}let In=class _m extends Nn{constructor(e,n,i,s){super(`${_m.makeMessage(e,n,i)}`),this.status=e,this.headers=s,this.error=n}static makeMessage(e,n,i){const s=n?.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):i;return e&&s?`${e} ${s}`:e?`${e} status code (no body)`:s||"(no status code or body)"}static generate(e,n,i,s){if(!e||!s)return new Mf({message:i,cause:ym(n)});const a=n;return e===400?new hw(e,a,i,s):e===401?new pw(e,a,i,s):e===403?new mw(e,a,i,s):e===404?new gw(e,a,i,s):e===409?new vw(e,a,i,s):e===422?new yw(e,a,i,s):e===429?new _w(e,a,i,s):e>=500?new Sw(e,a,i,s):new _m(e,a,i,s)}},Sm=class extends In{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}},Mf=class extends In{constructor({message:e,cause:n}){super(void 0,void 0,e||"Connection error.",void 0),n&&(this.cause=n)}},dw=class extends Mf{constructor({message:e}={}){super({message:e??"Request timed out."})}},hw=class extends In{},pw=class extends In{},mw=class extends In{},gw=class extends In{},vw=class extends In{},yw=class extends In{},_w=class extends In{},Sw=class extends In{};const fV=/^[a-z][a-z0-9+.-]*:/i,dV=t=>fV.test(t);let Em=t=>(Em=Array.isArray,Em(t));const hV=Em;let pV=hV;const NT=pV;function mV(t){if(!t)return!0;for(const e in t)return!1;return!0}function gV(t,e){return Object.prototype.hasOwnProperty.call(t,e)}const vV=(t,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new Nn(`${t} must be an integer`);if(e<0)throw new Nn(`${t} must be a positive integer`);return e},yV=t=>{try{return JSON.parse(t)}catch{return}};const _V=t=>new Promise(e=>setTimeout(e,t));const ds="0.0.1";function SV(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const EV=()=>{var t,e,n,i,s;const a=SV();if(a==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ds,"X-Stainless-OS":DT(Deno.build.os),"X-Stainless-Arch":IT(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(e=(t=Deno.version)===null||t===void 0?void 0:t.deno)!==null&&e!==void 0?e:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ds,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(a==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ds,"X-Stainless-OS":DT((n=globalThis.process.platform)!==null&&n!==void 0?n:"unknown"),"X-Stainless-Arch":IT((i=globalThis.process.arch)!==null&&i!==void 0?i:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(s=globalThis.process.version)!==null&&s!==void 0?s:"unknown"};const u=TV();return u?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ds,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${u.browser}`,"X-Stainless-Runtime-Version":u.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ds,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function TV(){if(typeof navigator>"u"||!navigator)return null;const t=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:n}of t){const i=n.exec(navigator.userAgent);if(i){const s=i[1]||0,a=i[2]||0,u=i[3]||0;return{browser:e,version:`${s}.${a}.${u}`}}}return null}const IT=t=>t==="x32"?"x32":t==="x86_64"||t==="x64"?"x64":t==="arm"?"arm":t==="aarch64"||t==="arm64"?"arm64":t?`other:${t}`:"unknown",DT=t=>(t=t.toLowerCase(),t.includes("ios")?"iOS":t==="android"?"Android":t==="darwin"?"MacOS":t==="win32"?"Windows":t==="freebsd"?"FreeBSD":t==="openbsd"?"OpenBSD":t==="linux"?"Linux":t?`Other:${t}`:"Unknown");let uc;const bV=()=>uc??(uc=EV());function AV(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function Ew(...t){const e=globalThis.ReadableStream;if(typeof e>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new e(...t)}function CV(t){let e=Symbol.asyncIterator in t?t[Symbol.asyncIterator]():t[Symbol.iterator]();return Ew({start(){},async pull(n){const{done:i,value:s}=await e.next();i?n.close():n.enqueue(s)},async cancel(){var n;await((n=e.return)===null||n===void 0?void 0:n.call(e))}})}function Tw(t){if(t[Symbol.asyncIterator])return t;const e=t.getReader();return{async next(){try{const n=await e.read();return n?.done&&e.releaseLock(),n}catch(n){throw e.releaseLock(),n}},async return(){const n=e.cancel();return e.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function wV(t){var e,n;if(t===null||typeof t!="object")return;if(t[Symbol.asyncIterator]){await((n=(e=t[Symbol.asyncIterator]()).return)===null||n===void 0?void 0:n.call(e));return}const i=t.getReader(),s=i.cancel();i.releaseLock(),await s}const RV=({headers:t,body:e})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(e)});const bw=()=>{var t;if(typeof File>"u"){const{process:e}=globalThis,n=typeof((t=e?.versions)===null||t===void 0?void 0:t.node)=="string"&&parseInt(e.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(n?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function xp(t,e,n){return bw(),new File(t,e??"unknown_file",n)}function xV(t){return(typeof t=="object"&&t!==null&&("name"in t&&t.name&&String(t.name)||"url"in t&&t.url&&String(t.url)||"filename"in t&&t.filename&&String(t.filename)||"path"in t&&t.path&&String(t.path))||"").split(/[\\/]/).pop()||void 0}const MV=t=>t!=null&&typeof t=="object"&&typeof t[Symbol.asyncIterator]=="function";const Aw=t=>t!=null&&typeof t=="object"&&typeof t.size=="number"&&typeof t.type=="string"&&typeof t.text=="function"&&typeof t.slice=="function"&&typeof t.arrayBuffer=="function",NV=t=>t!=null&&typeof t=="object"&&typeof t.name=="string"&&typeof t.lastModified=="number"&&Aw(t),IV=t=>t!=null&&typeof t=="object"&&typeof t.url=="string"&&typeof t.blob=="function";async function DV(t,e,n){if(bw(),t=await t,NV(t))return t instanceof File?t:xp([await t.arrayBuffer()],t.name);if(IV(t)){const s=await t.blob();return e||(e=new URL(t.url).pathname.split(/[\\/]/).pop()),xp(await Tm(s),e,n)}const i=await Tm(t);if(e||(e=xV(t)),!n?.type){const s=i.find(a=>typeof a=="object"&&"type"in a&&a.type);typeof s=="string"&&(n=Object.assign(Object.assign({},n),{type:s}))}return xp(i,e,n)}async function Tm(t){var e,n,i,s,a;let u=[];if(typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer)u.push(t);else if(Aw(t))u.push(t instanceof Blob?t:await t.arrayBuffer());else if(MV(t))try{for(var f=!0,p=$n(t),h;h=await p.next(),e=h.done,!e;f=!0){s=h.value,f=!1;const v=s;u.push(...await Tm(v))}}catch(v){n={error:v}}finally{try{!f&&!e&&(i=p.return)&&await i.call(p)}finally{if(n)throw n.error}}else{const v=(a=t?.constructor)===null||a===void 0?void 0:a.name;throw new Error(`Unexpected data type: ${typeof t}${v?`; constructor: ${v}`:""}${OV(t)}`)}return u}function OV(t){return typeof t!="object"||t===null?"":`; props: [${Object.getOwnPropertyNames(t).map(n=>`"${n}"`).join(", ")}]`}let Cw=class{constructor(e){this._client=e}};Cw._key=[];function ww(t){return t.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const OT=Object.freeze(Object.create(null)),UV=(t=ww)=>(function(n,...i){if(n.length===1)return n[0];let s=!1;const a=[],u=n.reduce((v,_,S)=>{var T,A,w;/[?#]/.test(_)&&(s=!0);const R=i[S];let D=(s?encodeURIComponent:t)(""+R);return S!==i.length&&(R==null||typeof R=="object"&&R.toString===((w=Object.getPrototypeOf((A=Object.getPrototypeOf((T=R.hasOwnProperty)!==null&&T!==void 0?T:OT))!==null&&A!==void 0?A:OT))===null||w===void 0?void 0:w.toString))&&(D=R+"",a.push({start:v.length+_.length,length:D.length,error:`Value of type ${Object.prototype.toString.call(R).slice(8,-1)} is not a valid path parameter`})),v+_+(S===i.length?"":D)},""),f=u.split(/[?#]/,1)[0],p=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let h;for(;(h=p.exec(f))!==null;)a.push({start:h.index,length:h[0].length,error:`Value "${h[0]}" can't be safely passed as a path parameter`});if(a.sort((v,_)=>v.start-_.start),a.length>0){let v=0;const _=a.reduce((S,T)=>{const A=" ".repeat(T.start-v),w="^".repeat(T.length);return v=T.start+T.length,S+A+w},"");throw new Nn(`Path parameters result in path with invalid segments:
${a.map(S=>S.error).join(`
`)}
${u}
${_}`)}return u}),cc=UV(ww);class Rw extends Cw{create(e,n){var i;const{api_version:s=this._client.apiVersion}=e,a=Wc(e,["api_version"]);if("model"in a&&"agent_config"in a)throw new Nn("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in a&&"generation_config"in a)throw new Nn("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(cc`/${s}/interactions`,Object.assign(Object.assign({body:a},n),{stream:(i=e.stream)!==null&&i!==void 0?i:!1}))}delete(e,n={},i){const{api_version:s=this._client.apiVersion}=n??{};return this._client.delete(cc`/${s}/interactions/${e}`,i)}cancel(e,n={},i){const{api_version:s=this._client.apiVersion}=n??{};return this._client.post(cc`/${s}/interactions/${e}/cancel`,i)}get(e,n={},i){var s;const a=n??{},{api_version:u=this._client.apiVersion}=a,f=Wc(a,["api_version"]);return this._client.get(cc`/${u}/interactions/${e}`,Object.assign(Object.assign({query:f},i),{stream:(s=n?.stream)!==null&&s!==void 0?s:!1}))}}Rw._key=Object.freeze(["interactions"]);class xw extends Rw{}function PV(t){let e=0;for(const s of t)e+=s.length;const n=new Uint8Array(e);let i=0;for(const s of t)n.set(s,i),i+=s.length;return n}let fc;function xg(t){let e;return(fc??(e=new globalThis.TextEncoder,fc=e.encode.bind(e)))(t)}let dc;function UT(t){let e;return(dc??(e=new globalThis.TextDecoder,dc=e.decode.bind(e)))(t)}let Nf=class{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(e){if(e==null)return[];const n=e instanceof ArrayBuffer?new Uint8Array(e):typeof e=="string"?xg(e):e;this.buffer=PV([this.buffer,n]);const i=[];let s;for(;(s=LV(this.buffer,this.carriageReturnIndex))!=null;){if(s.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=s.index;continue}if(this.carriageReturnIndex!=null&&(s.index!==this.carriageReturnIndex+1||s.carriage)){i.push(UT(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const a=this.carriageReturnIndex!==null?s.preceding-1:s.preceding,u=UT(this.buffer.subarray(0,a));i.push(u),this.buffer=this.buffer.subarray(s.index),this.carriageReturnIndex=null}return i}flush(){return this.buffer.length?this.decode(`
`):[]}};Nf.NEWLINE_CHARS=new Set([`
`,"\r"]);Nf.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function LV(t,e){for(let s=e??0;s<t.length;s++){if(t[s]===10)return{preceding:s,index:s+1,carriage:!1};if(t[s]===13)return{preceding:s,index:s+1,carriage:!0}}return null}function kV(t){for(let i=0;i<t.length-1;i++){if(t[i]===10&&t[i+1]===10||t[i]===13&&t[i+1]===13)return i+2;if(t[i]===13&&t[i+1]===10&&i+3<t.length&&t[i+2]===13&&t[i+3]===10)return i+4}return-1}const Zc={off:0,error:200,warn:300,info:400,debug:500},PT=(t,e,n)=>{if(t){if(gV(Zc,t))return t;Lt(n).warn(`${e} was set to ${JSON.stringify(t)}, expected one of ${JSON.stringify(Object.keys(Zc))}`)}};function qa(){}function hc(t,e,n){return!e||Zc[t]>Zc[n]?qa:e[t].bind(e)}const BV={error:qa,warn:qa,info:qa,debug:qa};let LT=new WeakMap;function Lt(t){var e;const n=t.logger,i=(e=t.logLevel)!==null&&e!==void 0?e:"off";if(!n)return BV;const s=LT.get(n);if(s&&s[0]===i)return s[1];const a={error:hc("error",n,i),warn:hc("warn",n,i),info:hc("info",n,i),debug:hc("debug",n,i)};return LT.set(n,[i,a]),a}const er=t=>(t.options&&(t.options=Object.assign({},t.options),delete t.options.headers),t.headers&&(t.headers=Object.fromEntries((t.headers instanceof Headers?[...t.headers]:Object.entries(t.headers)).map(([e,n])=>[e,e.toLowerCase()==="x-goog-api-key"||e.toLowerCase()==="authorization"||e.toLowerCase()==="cookie"||e.toLowerCase()==="set-cookie"?"***":n]))),"retryOfRequestLogID"in t&&(t.retryOfRequestLogID&&(t.retryOf=t.retryOfRequestLogID),delete t.retryOfRequestLogID),t);let HV=class $a{constructor(e,n,i){this.iterator=e,this.controller=n,this.client=i}static fromSSEResponse(e,n,i){let s=!1;const a=i?Lt(i):console;function u(){return qn(this,arguments,function*(){var p,h,v,_;if(s)throw new Nn("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");s=!0;let S=!1;try{try{for(var T=!0,A=$n(VV(e,n)),w;w=yield Te(A.next()),p=w.done,!p;T=!0){_=w.value,T=!1;const R=_;if(!S)if(R.data.startsWith("[DONE]")){S=!0;continue}else try{yield yield Te(JSON.parse(R.data))}catch(D){throw a.error("Could not parse message into JSON:",R.data),a.error("From chunk:",R.raw),D}}}catch(R){h={error:R}}finally{try{!T&&!p&&(v=A.return)&&(yield Te(v.call(A)))}finally{if(h)throw h.error}}S=!0}catch(R){if(vm(R))return yield Te(void 0);throw R}finally{S||n.abort()}})}return new $a(u,n,i)}static fromReadableStream(e,n,i){let s=!1;function a(){return qn(this,arguments,function*(){var p,h,v,_;const S=new Nf,T=Tw(e);try{for(var A=!0,w=$n(T),R;R=yield Te(w.next()),p=R.done,!p;A=!0){_=R.value,A=!1;const D=_;for(const U of S.decode(D))yield yield Te(U)}}catch(D){h={error:D}}finally{try{!A&&!p&&(v=w.return)&&(yield Te(v.call(w)))}finally{if(h)throw h.error}}for(const D of S.flush())yield yield Te(D)})}function u(){return qn(this,arguments,function*(){var p,h,v,_;if(s)throw new Nn("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");s=!0;let S=!1;try{try{for(var T=!0,A=$n(a()),w;w=yield Te(A.next()),p=w.done,!p;T=!0){_=w.value,T=!1;const R=_;S||R&&(yield yield Te(JSON.parse(R)))}}catch(R){h={error:R}}finally{try{!T&&!p&&(v=A.return)&&(yield Te(v.call(A)))}finally{if(h)throw h.error}}S=!0}catch(R){if(vm(R))return yield Te(void 0);throw R}finally{S||n.abort()}})}return new $a(u,n,i)}[Symbol.asyncIterator](){return this.iterator()}tee(){const e=[],n=[],i=this.iterator(),s=a=>({next:()=>{if(a.length===0){const u=i.next();e.push(u),n.push(u)}return a.shift()}});return[new $a(()=>s(e),this.controller,this.client),new $a(()=>s(n),this.controller,this.client)]}toReadableStream(){const e=this;let n;return Ew({async start(){n=e[Symbol.asyncIterator]()},async pull(i){try{const{value:s,done:a}=await n.next();if(a)return i.close();const u=xg(JSON.stringify(s)+`
`);i.enqueue(u)}catch(s){i.error(s)}},async cancel(){var i;await((i=n.return)===null||i===void 0?void 0:i.call(n))}})}};function VV(t,e){return qn(this,arguments,function*(){var i,s,a,u;if(!t.body)throw e.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new Nn("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new Nn("Attempted to iterate over a response with no body");const f=new qV,p=new Nf,h=Tw(t.body);try{for(var v=!0,_=$n(GV(h)),S;S=yield Te(_.next()),i=S.done,!i;v=!0){u=S.value,v=!1;const T=u;for(const A of p.decode(T)){const w=f.decode(A);w&&(yield yield Te(w))}}}catch(T){s={error:T}}finally{try{!v&&!i&&(a=_.return)&&(yield Te(a.call(_)))}finally{if(s)throw s.error}}for(const T of p.flush()){const A=f.decode(T);A&&(yield yield Te(A))}})}function GV(t){return qn(this,arguments,function*(){var n,i,s,a;let u=new Uint8Array;try{for(var f=!0,p=$n(t),h;h=yield Te(p.next()),n=h.done,!n;f=!0){a=h.value,f=!1;const v=a;if(v==null)continue;const _=v instanceof ArrayBuffer?new Uint8Array(v):typeof v=="string"?xg(v):v;let S=new Uint8Array(u.length+_.length);S.set(u),S.set(_,u.length),u=S;let T;for(;(T=kV(u))!==-1;)yield yield Te(u.slice(0,T)),u=u.slice(T)}}catch(v){i={error:v}}finally{try{!f&&!n&&(s=p.return)&&(yield Te(s.call(p)))}finally{if(i)throw i.error}}u.length>0&&(yield yield Te(u))})}let qV=class{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const a={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],a}if(this.chunks.push(e),e.startsWith(":"))return null;let[n,i,s]=$V(e,":");return s.startsWith(" ")&&(s=s.substring(1)),n==="event"?this.event=s:n==="data"&&this.data.push(s),null}};function $V(t,e){const n=t.indexOf(e);return n!==-1?[t.substring(0,n),e,t.substring(n+e.length)]:[t,"",""]}async function FV(t,e){const{response:n,requestLogID:i,retryOfRequestLogID:s,startTime:a}=e,u=await(async()=>{var f;if(e.options.stream)return Lt(t).debug("response",n.status,n.url,n.headers,n.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(n,e.controller,t):HV.fromSSEResponse(n,e.controller,t);if(n.status===204)return null;if(e.options.__binaryResponse)return n;const p=n.headers.get("content-type"),h=(f=p?.split(";")[0])===null||f===void 0?void 0:f.trim();return h?.includes("application/json")||h?.endsWith("+json")?await n.json():await n.text()})();return Lt(t).debug(`[${i}] response parsed`,er({retryOfRequestLogID:s,url:n.url,status:n.status,body:u,durationMs:Date.now()-a})),u}let zV=class Mw extends Promise{constructor(e,n,i=FV){super(s=>{s(null)}),this.responsePromise=n,this.parseResponse=i,this.client=e}_thenUnwrap(e){return new Mw(this.client,this.responsePromise,async(n,i)=>e(await this.parseResponse(n,i),i))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:n}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(e=>this.parseResponse(this.client,e))),this.parsedPromise}then(e,n){return this.parse().then(e,n)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}};const Nw=Symbol("brand.privateNullableHeaders");function*JV(t){if(!t)return;if(Nw in t){const{values:i,nulls:s}=t;yield*i.entries();for(const a of s)yield[a,null];return}let e=!1,n;t instanceof Headers?n=t.entries():NT(t)?n=t:(e=!0,n=Object.entries(t??{}));for(let i of n){const s=i[0];if(typeof s!="string")throw new TypeError("expected header name to be a string");const a=NT(i[1])?i[1]:[i[1]];let u=!1;for(const f of a)f!==void 0&&(e&&!u&&(u=!0,yield[s,null]),yield[s,f])}}const Mp=t=>{const e=new Headers,n=new Set;for(const i of t){const s=new Set;for(const[a,u]of JV(i)){const f=a.toLowerCase();s.has(f)||(e.delete(a),s.add(f)),u===null?(e.delete(a),n.add(f)):(e.append(a,u),n.delete(f))}}return{[Nw]:!0,values:e,nulls:n}};const Np=t=>{var e,n,i,s,a,u;if(typeof globalThis.process<"u")return(i=(n=(e=gP)===null||e===void 0?void 0:e[t])===null||n===void 0?void 0:n.trim())!==null&&i!==void 0?i:void 0;if(typeof globalThis.Deno<"u")return(u=(a=(s=globalThis.Deno.env)===null||s===void 0?void 0:s.get)===null||a===void 0?void 0:a.call(s,t))===null||u===void 0?void 0:u.trim()};var Iw;class If{constructor(e){var n,i,s,a,u,f,p,h=e===void 0?{}:e,{baseURL:v=Np("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:_=(n=Np("GEMINI_API_KEY"))!==null&&n!==void 0?n:null,apiVersion:S="v1beta"}=h,T=Wc(h,["baseURL","apiKey","apiVersion"]);const A=Object.assign(Object.assign({apiKey:_,apiVersion:S},T),{baseURL:v||"https://generativelanguage.googleapis.com"});this.baseURL=A.baseURL,this.timeout=(i=A.timeout)!==null&&i!==void 0?i:If.DEFAULT_TIMEOUT,this.logger=(s=A.logger)!==null&&s!==void 0?s:console;const w="warn";this.logLevel=w,this.logLevel=(u=(a=PT(A.logLevel,"ClientOptions.logLevel",this))!==null&&a!==void 0?a:PT(Np("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&u!==void 0?u:w,this.fetchOptions=A.fetchOptions,this.maxRetries=(f=A.maxRetries)!==null&&f!==void 0?f:2,this.fetch=(p=A.fetch)!==null&&p!==void 0?p:AV(),this.encoder=RV,this._options=A,this.apiKey=_,this.apiVersion=S}withOptions(e){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),e))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:e,nulls:n}){if(!(this.apiKey&&e.get("x-goog-api-key"))&&!n.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(e){if(this.apiKey!=null)return Mp([{"x-goog-api-key":this.apiKey}])}stringifyQuery(e){return Object.entries(e).filter(([n,i])=>typeof i<"u").map(([n,i])=>{if(typeof i=="string"||typeof i=="number"||typeof i=="boolean")return`${encodeURIComponent(n)}=${encodeURIComponent(i)}`;if(i===null)return`${encodeURIComponent(n)}=`;throw new Nn(`Cannot stringify type ${typeof i}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${ds}`}defaultIdempotencyKey(){return`stainless-node-retry-${cV()}`}makeStatusError(e,n,i,s){return In.generate(e,n,i,s)}buildURL(e,n,i){const s=!this.baseURLOverridden()&&i||this.baseURL,a=dV(e)?new URL(e):new URL(s+(s.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),u=this.defaultQuery();return mV(u)||(n=Object.assign(Object.assign({},u),n)),typeof n=="object"&&n&&!Array.isArray(n)&&(a.search=this.stringifyQuery(n)),a.toString()}async prepareOptions(e){}async prepareRequest(e,{url:n,options:i}){}get(e,n){return this.methodRequest("get",e,n)}post(e,n){return this.methodRequest("post",e,n)}patch(e,n){return this.methodRequest("patch",e,n)}put(e,n){return this.methodRequest("put",e,n)}delete(e,n){return this.methodRequest("delete",e,n)}methodRequest(e,n,i){return this.request(Promise.resolve(i).then(s=>Object.assign({method:e,path:n},s)))}request(e,n=null){return new zV(this,this.makeRequest(e,n,void 0))}async makeRequest(e,n,i){var s,a,u;const f=await e,p=(s=f.maxRetries)!==null&&s!==void 0?s:this.maxRetries;n==null&&(n=p),await this.prepareOptions(f);const{req:h,url:v,timeout:_}=await this.buildRequest(f,{retryCount:p-n});await this.prepareRequest(h,{url:v,options:f});const S="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),T=i===void 0?"":`, retryOf: ${i}`,A=Date.now();if(Lt(this).debug(`[${S}] sending request`,er({retryOfRequestLogID:i,method:f.method,url:v,options:f,headers:h.headers})),!((a=f.signal)===null||a===void 0)&&a.aborted)throw new Sm;const w=new AbortController,R=await this.fetchWithTimeout(v,h,_,w).catch(ym),D=Date.now();if(R instanceof globalThis.Error){const O=`retrying, ${n} attempts remaining`;if(!((u=f.signal)===null||u===void 0)&&u.aborted)throw new Sm;const L=vm(R)||/timed? ?out/i.test(String(R)+("cause"in R?String(R.cause):""));if(n)return Lt(this).info(`[${S}] connection ${L?"timed out":"failed"} - ${O}`),Lt(this).debug(`[${S}] connection ${L?"timed out":"failed"} (${O})`,er({retryOfRequestLogID:i,url:v,durationMs:D-A,message:R.message})),this.retryRequest(f,n,i??S);throw Lt(this).info(`[${S}] connection ${L?"timed out":"failed"} - error; no more retries left`),Lt(this).debug(`[${S}] connection ${L?"timed out":"failed"} (error; no more retries left)`,er({retryOfRequestLogID:i,url:v,durationMs:D-A,message:R.message})),L?new dw:new Mf({cause:R})}const U=`[${S}${T}] ${h.method} ${v} ${R.ok?"succeeded":"failed"} with status ${R.status} in ${D-A}ms`;if(!R.ok){const O=await this.shouldRetry(R);if(n&&O){const Q=`retrying, ${n} attempts remaining`;return await wV(R.body),Lt(this).info(`${U} - ${Q}`),Lt(this).debug(`[${S}] response error (${Q})`,er({retryOfRequestLogID:i,url:R.url,status:R.status,headers:R.headers,durationMs:D-A})),this.retryRequest(f,n,i??S,R.headers)}const L=O?"error; no more retries left":"error; not retryable";Lt(this).info(`${U} - ${L}`);const z=await R.text().catch(Q=>ym(Q).message),$=yV(z),V=$?void 0:z;throw Lt(this).debug(`[${S}] response error (${L})`,er({retryOfRequestLogID:i,url:R.url,status:R.status,headers:R.headers,message:V,durationMs:Date.now()-A})),this.makeStatusError(R.status,$,V,R.headers)}return Lt(this).info(U),Lt(this).debug(`[${S}] response start`,er({retryOfRequestLogID:i,url:R.url,status:R.status,headers:R.headers,durationMs:D-A})),{response:R,options:f,controller:w,requestLogID:S,retryOfRequestLogID:i,startTime:A}}async fetchWithTimeout(e,n,i,s){const a=n||{},{signal:u,method:f}=a,p=Wc(a,["signal","method"]);u&&u.addEventListener("abort",()=>s.abort());const h=setTimeout(()=>s.abort(),i),v=globalThis.ReadableStream&&p.body instanceof globalThis.ReadableStream||typeof p.body=="object"&&p.body!==null&&Symbol.asyncIterator in p.body,_=Object.assign(Object.assign(Object.assign({signal:s.signal},v?{duplex:"half"}:{}),{method:"GET"}),p);f&&(_.method=f.toUpperCase());try{return await this.fetch.call(void 0,e,_)}finally{clearTimeout(h)}}async shouldRetry(e){const n=e.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,n,i,s){var a;let u;const f=s?.get("retry-after-ms");if(f){const h=parseFloat(f);Number.isNaN(h)||(u=h)}const p=s?.get("retry-after");if(p&&!u){const h=parseFloat(p);Number.isNaN(h)?u=Date.parse(p)-Date.now():u=h*1e3}if(!(u&&0<=u&&u<60*1e3)){const h=(a=e.maxRetries)!==null&&a!==void 0?a:this.maxRetries;u=this.calculateDefaultRetryTimeoutMillis(n,h)}return await _V(u),this.makeRequest(e,n-1,i)}calculateDefaultRetryTimeoutMillis(e,n){const a=n-e,u=Math.min(.5*Math.pow(2,a),8),f=1-Math.random()*.25;return u*f*1e3}async buildRequest(e,{retryCount:n=0}={}){var i,s,a;const u=Object.assign({},e),{method:f,path:p,query:h,defaultBaseURL:v}=u,_=this.buildURL(p,h,v);"timeout"in u&&vV("timeout",u.timeout),u.timeout=(i=u.timeout)!==null&&i!==void 0?i:this.timeout;const{bodyHeaders:S,body:T}=this.buildBody({options:u}),A=await this.buildHeaders({options:e,method:f,bodyHeaders:S,retryCount:n});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:f,headers:A},u.signal&&{signal:u.signal}),globalThis.ReadableStream&&T instanceof globalThis.ReadableStream&&{duplex:"half"}),T&&{body:T}),(s=this.fetchOptions)!==null&&s!==void 0?s:{}),(a=u.fetchOptions)!==null&&a!==void 0?a:{}),url:_,timeout:u.timeout}}async buildHeaders({options:e,method:n,bodyHeaders:i,retryCount:s}){let a={};this.idempotencyHeader&&n!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),a[this.idempotencyHeader]=e.idempotencyKey);const u=Mp([a,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(s)},e.timeout?{"X-Stainless-Timeout":String(Math.trunc(e.timeout/1e3))}:{}),bV()),await this.authHeaders(e),this._options.defaultHeaders,i,e.headers]);return this.validateHeaders(u),u.values}buildBody({options:{body:e,headers:n}}){if(!e)return{bodyHeaders:void 0,body:void 0};const i=Mp([n]);return ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof DataView||typeof e=="string"&&i.values.has("content-type")||globalThis.Blob&&e instanceof globalThis.Blob||e instanceof FormData||e instanceof URLSearchParams||globalThis.ReadableStream&&e instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:e}:typeof e=="object"&&(Symbol.asyncIterator in e||Symbol.iterator in e&&"next"in e&&typeof e.next=="function")?{bodyHeaders:void 0,body:CV(e)}:this.encoder({body:e,headers:i})}}If.DEFAULT_TIMEOUT=6e4;class St extends If{constructor(){super(...arguments),this.interactions=new xw(this)}}Iw=St;St.GeminiNextGenAPIClient=Iw;St.GeminiNextGenAPIClientError=Nn;St.APIError=In;St.APIConnectionError=Mf;St.APIConnectionTimeoutError=dw;St.APIUserAbortError=Sm;St.NotFoundError=gw;St.ConflictError=vw;St.RateLimitError=_w;St.BadRequestError=hw;St.AuthenticationError=pw;St.InternalServerError=Sw;St.PermissionDeniedError=mw;St.UnprocessableEntityError=yw;St.toFile=DV;St.Interactions=xw;function YV(t,e){const n={},i=d(t,["name"]);return i!=null&&m(n,["_url","name"],i),n}function KV(t,e){const n={},i=d(t,["name"]);return i!=null&&m(n,["_url","name"],i),n}function XV(t,e){const n={},i=d(t,["sdkHttpResponse"]);return i!=null&&m(n,["sdkHttpResponse"],i),n}function QV(t,e){const n={},i=d(t,["sdkHttpResponse"]);return i!=null&&m(n,["sdkHttpResponse"],i),n}function WV(t,e,n){const i={};if(d(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const s=d(t,["tunedModelDisplayName"]);if(e!==void 0&&s!=null&&m(e,["displayName"],s),d(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const a=d(t,["epochCount"]);e!==void 0&&a!=null&&m(e,["tuningTask","hyperparameters","epochCount"],a);const u=d(t,["learningRateMultiplier"]);if(u!=null&&m(i,["tuningTask","hyperparameters","learningRateMultiplier"],u),d(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(d(t,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(d(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const f=d(t,["batchSize"]);e!==void 0&&f!=null&&m(e,["tuningTask","hyperparameters","batchSize"],f);const p=d(t,["learningRate"]);if(e!==void 0&&p!=null&&m(e,["tuningTask","hyperparameters","learningRate"],p),d(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(d(t,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return i}function ZV(t,e,n){const i={};let s=d(n,["config","method"]);if(s===void 0&&(s="SUPERVISED_FINE_TUNING"),s==="SUPERVISED_FINE_TUNING"){const T=d(t,["validationDataset"]);e!==void 0&&T!=null&&m(e,["supervisedTuningSpec"],kT(T))}else if(s==="PREFERENCE_TUNING"){const T=d(t,["validationDataset"]);e!==void 0&&T!=null&&m(e,["preferenceOptimizationSpec"],kT(T))}const a=d(t,["tunedModelDisplayName"]);e!==void 0&&a!=null&&m(e,["tunedModelDisplayName"],a);const u=d(t,["description"]);e!==void 0&&u!=null&&m(e,["description"],u);let f=d(n,["config","method"]);if(f===void 0&&(f="SUPERVISED_FINE_TUNING"),f==="SUPERVISED_FINE_TUNING"){const T=d(t,["epochCount"]);e!==void 0&&T!=null&&m(e,["supervisedTuningSpec","hyperParameters","epochCount"],T)}else if(f==="PREFERENCE_TUNING"){const T=d(t,["epochCount"]);e!==void 0&&T!=null&&m(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],T)}let p=d(n,["config","method"]);if(p===void 0&&(p="SUPERVISED_FINE_TUNING"),p==="SUPERVISED_FINE_TUNING"){const T=d(t,["learningRateMultiplier"]);e!==void 0&&T!=null&&m(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],T)}else if(p==="PREFERENCE_TUNING"){const T=d(t,["learningRateMultiplier"]);e!==void 0&&T!=null&&m(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],T)}let h=d(n,["config","method"]);if(h===void 0&&(h="SUPERVISED_FINE_TUNING"),h==="SUPERVISED_FINE_TUNING"){const T=d(t,["exportLastCheckpointOnly"]);e!==void 0&&T!=null&&m(e,["supervisedTuningSpec","exportLastCheckpointOnly"],T)}else if(h==="PREFERENCE_TUNING"){const T=d(t,["exportLastCheckpointOnly"]);e!==void 0&&T!=null&&m(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],T)}let v=d(n,["config","method"]);if(v===void 0&&(v="SUPERVISED_FINE_TUNING"),v==="SUPERVISED_FINE_TUNING"){const T=d(t,["adapterSize"]);e!==void 0&&T!=null&&m(e,["supervisedTuningSpec","hyperParameters","adapterSize"],T)}else if(v==="PREFERENCE_TUNING"){const T=d(t,["adapterSize"]);e!==void 0&&T!=null&&m(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],T)}if(d(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(d(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const _=d(t,["labels"]);e!==void 0&&_!=null&&m(e,["labels"],_);const S=d(t,["beta"]);return e!==void 0&&S!=null&&m(e,["preferenceOptimizationSpec","hyperParameters","beta"],S),i}function jV(t,e){const n={},i=d(t,["baseModel"]);i!=null&&m(n,["baseModel"],i);const s=d(t,["preTunedModel"]);s!=null&&m(n,["preTunedModel"],s);const a=d(t,["trainingDataset"]);a!=null&&cG(a);const u=d(t,["config"]);return u!=null&&WV(u,n),n}function eG(t,e){const n={},i=d(t,["baseModel"]);i!=null&&m(n,["baseModel"],i);const s=d(t,["preTunedModel"]);s!=null&&m(n,["preTunedModel"],s);const a=d(t,["trainingDataset"]);a!=null&&fG(a,n,e);const u=d(t,["config"]);return u!=null&&ZV(u,n,e),n}function tG(t,e){const n={},i=d(t,["name"]);return i!=null&&m(n,["_url","name"],i),n}function nG(t,e){const n={},i=d(t,["name"]);return i!=null&&m(n,["_url","name"],i),n}function iG(t,e,n){const i={},s=d(t,["pageSize"]);e!==void 0&&s!=null&&m(e,["_query","pageSize"],s);const a=d(t,["pageToken"]);e!==void 0&&a!=null&&m(e,["_query","pageToken"],a);const u=d(t,["filter"]);return e!==void 0&&u!=null&&m(e,["_query","filter"],u),i}function oG(t,e,n){const i={},s=d(t,["pageSize"]);e!==void 0&&s!=null&&m(e,["_query","pageSize"],s);const a=d(t,["pageToken"]);e!==void 0&&a!=null&&m(e,["_query","pageToken"],a);const u=d(t,["filter"]);return e!==void 0&&u!=null&&m(e,["_query","filter"],u),i}function rG(t,e){const n={},i=d(t,["config"]);return i!=null&&iG(i,n),n}function sG(t,e){const n={},i=d(t,["config"]);return i!=null&&oG(i,n),n}function aG(t,e){const n={},i=d(t,["sdkHttpResponse"]);i!=null&&m(n,["sdkHttpResponse"],i);const s=d(t,["nextPageToken"]);s!=null&&m(n,["nextPageToken"],s);const a=d(t,["tunedModels"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(f=>Dw(f))),m(n,["tuningJobs"],u)}return n}function lG(t,e){const n={},i=d(t,["sdkHttpResponse"]);i!=null&&m(n,["sdkHttpResponse"],i);const s=d(t,["nextPageToken"]);s!=null&&m(n,["nextPageToken"],s);const a=d(t,["tuningJobs"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(f=>bm(f))),m(n,["tuningJobs"],u)}return n}function uG(t,e){const n={},i=d(t,["name"]);i!=null&&m(n,["model"],i);const s=d(t,["name"]);return s!=null&&m(n,["endpoint"],s),n}function cG(t,e){const n={};if(d(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(d(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const i=d(t,["examples"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>a)),m(n,["examples","examples"],s)}return n}function fG(t,e,n){const i={};let s=d(n,["config","method"]);if(s===void 0&&(s="SUPERVISED_FINE_TUNING"),s==="SUPERVISED_FINE_TUNING"){const u=d(t,["gcsUri"]);e!==void 0&&u!=null&&m(e,["supervisedTuningSpec","trainingDatasetUri"],u)}else if(s==="PREFERENCE_TUNING"){const u=d(t,["gcsUri"]);e!==void 0&&u!=null&&m(e,["preferenceOptimizationSpec","trainingDatasetUri"],u)}let a=d(n,["config","method"]);if(a===void 0&&(a="SUPERVISED_FINE_TUNING"),a==="SUPERVISED_FINE_TUNING"){const u=d(t,["vertexDatasetResource"]);e!==void 0&&u!=null&&m(e,["supervisedTuningSpec","trainingDatasetUri"],u)}else if(a==="PREFERENCE_TUNING"){const u=d(t,["vertexDatasetResource"]);e!==void 0&&u!=null&&m(e,["preferenceOptimizationSpec","trainingDatasetUri"],u)}if(d(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return i}function Dw(t,e){const n={},i=d(t,["sdkHttpResponse"]);i!=null&&m(n,["sdkHttpResponse"],i);const s=d(t,["name"]);s!=null&&m(n,["name"],s);const a=d(t,["state"]);a!=null&&m(n,["state"],zC(a));const u=d(t,["createTime"]);u!=null&&m(n,["createTime"],u);const f=d(t,["tuningTask","startTime"]);f!=null&&m(n,["startTime"],f);const p=d(t,["tuningTask","completeTime"]);p!=null&&m(n,["endTime"],p);const h=d(t,["updateTime"]);h!=null&&m(n,["updateTime"],h);const v=d(t,["description"]);v!=null&&m(n,["description"],v);const _=d(t,["baseModel"]);_!=null&&m(n,["baseModel"],_);const S=d(t,["_self"]);return S!=null&&m(n,["tunedModel"],uG(S)),n}function bm(t,e){const n={},i=d(t,["sdkHttpResponse"]);i!=null&&m(n,["sdkHttpResponse"],i);const s=d(t,["name"]);s!=null&&m(n,["name"],s);const a=d(t,["state"]);a!=null&&m(n,["state"],zC(a));const u=d(t,["createTime"]);u!=null&&m(n,["createTime"],u);const f=d(t,["startTime"]);f!=null&&m(n,["startTime"],f);const p=d(t,["endTime"]);p!=null&&m(n,["endTime"],p);const h=d(t,["updateTime"]);h!=null&&m(n,["updateTime"],h);const v=d(t,["error"]);v!=null&&m(n,["error"],v);const _=d(t,["description"]);_!=null&&m(n,["description"],_);const S=d(t,["baseModel"]);S!=null&&m(n,["baseModel"],S);const T=d(t,["tunedModel"]);T!=null&&m(n,["tunedModel"],T);const A=d(t,["preTunedModel"]);A!=null&&m(n,["preTunedModel"],A);const w=d(t,["supervisedTuningSpec"]);w!=null&&m(n,["supervisedTuningSpec"],w);const R=d(t,["preferenceOptimizationSpec"]);R!=null&&m(n,["preferenceOptimizationSpec"],R);const D=d(t,["tuningDataStats"]);D!=null&&m(n,["tuningDataStats"],D);const U=d(t,["encryptionSpec"]);U!=null&&m(n,["encryptionSpec"],U);const O=d(t,["partnerModelTuningSpec"]);O!=null&&m(n,["partnerModelTuningSpec"],O);const L=d(t,["customBaseModel"]);L!=null&&m(n,["customBaseModel"],L);const z=d(t,["experiment"]);z!=null&&m(n,["experiment"],z);const $=d(t,["labels"]);$!=null&&m(n,["labels"],$);const V=d(t,["outputUri"]);V!=null&&m(n,["outputUri"],V);const W=d(t,["pipelineJob"]);W!=null&&m(n,["pipelineJob"],W);const Q=d(t,["serviceAccount"]);Q!=null&&m(n,["serviceAccount"],Q);const te=d(t,["tunedModelDisplayName"]);te!=null&&m(n,["tunedModelDisplayName"],te);const ee=d(t,["veoTuningSpec"]);return ee!=null&&m(n,["veoTuningSpec"],ee),n}function dG(t,e){const n={},i=d(t,["sdkHttpResponse"]);i!=null&&m(n,["sdkHttpResponse"],i);const s=d(t,["name"]);s!=null&&m(n,["name"],s);const a=d(t,["metadata"]);a!=null&&m(n,["metadata"],a);const u=d(t,["done"]);u!=null&&m(n,["done"],u);const f=d(t,["error"]);return f!=null&&m(n,["error"],f),n}function kT(t,e){const n={},i=d(t,["gcsUri"]);i!=null&&m(n,["validationDatasetUri"],i);const s=d(t,["vertexDatasetResource"]);return s!=null&&m(n,["validationDatasetUri"],s),n}class hG extends qi{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new _r(Vi.PAGED_ITEM_TUNING_JOBS,i=>this.listInternal(i),await this.listInternal(n),n),this.get=async n=>await this.getInternal(n),this.tune=async n=>{var i;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const s={tunedModelName:n.baseModel};!((i=n.config)===null||i===void 0)&&i.preTunedModelCheckpointId&&(s.checkpointId=n.config.preTunedModelCheckpointId);const a=Object.assign(Object.assign({},n),{preTunedModel:s});return a.baseModel=void 0,await this.tuneInternal(a)}else{const s=Object.assign({},n);return await this.tuneInternal(s)}else{const s=Object.assign({},n),a=await this.tuneMldevInternal(s);let u="";return a.metadata!==void 0&&a.metadata.tunedModel!==void 0?u=a.metadata.tunedModel:a.name!==void 0&&a.name.includes("/operations/")&&(u=a.name.split("/operations/")[0]),{name:u,state:cm.JOB_STATE_QUEUED}}}}async getInternal(e){var n,i,s,a;let u,f="",p={};if(this.apiClient.isVertexAI()){const h=nG(e);return f=re("{name}",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),u.then(v=>bm(v))}else{const h=tG(e);return f=re("{name}",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),u.then(v=>Dw(v))}}async listInternal(e){var n,i,s,a;let u,f="",p={};if(this.apiClient.isVertexAI()){const h=sG(e);return f=re("tuningJobs",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),u.then(v=>{const _=lG(v),S=new uT;return Object.assign(S,_),S})}else{const h=rG(e);return f=re("tunedModels",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),u.then(v=>{const _=aG(v),S=new uT;return Object.assign(S,_),S})}}async cancel(e){var n,i,s,a;let u,f="",p={};if(this.apiClient.isVertexAI()){const h=KV(e);return f=re("{name}:cancel",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),u.then(v=>{const _=QV(v),S=new cT;return Object.assign(S,_),S})}else{const h=YV(e);return f=re("{name}:cancel",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),u.then(v=>{const _=XV(v),S=new cT;return Object.assign(S,_),S})}}async tuneInternal(e){var n,i;let s,a="",u={};if(this.apiClient.isVertexAI()){const f=eG(e,e);return a=re("tuningJobs",f._url),u=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:p.headers},v})),s.then(p=>bm(p))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,i;let s,a="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=jV(e);return a=re("tunedModels",f._url),u=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:p.headers},v})),s.then(p=>dG(p))}}}class pG{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const mG=1024*1024*8,gG=3,vG=1e3,yG=2,jc="x-goog-upload-status";async function _G(t,e,n){var i;const s=await Ow(t,e,n),a=await s?.json();if(((i=s?.headers)===null||i===void 0?void 0:i[jc])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return a.file}async function SG(t,e,n){var i;const s=await Ow(t,e,n),a=await s?.json();if(((i=s?.headers)===null||i===void 0?void 0:i[jc])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const u=HC(a),f=new Tg;return Object.assign(f,u),f}async function Ow(t,e,n){var i,s;let a=0,u=0,f=new fm(new Response),p="upload";for(a=t.size;u<a;){const h=Math.min(mG,a-u),v=t.slice(u,u+h);u+h>=a&&(p+=", finalize");let _=0,S=vG;for(;_<gG&&(f=await n.request({path:"",body:v,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":p,"X-Goog-Upload-Offset":String(u),"Content-Length":String(h)}}}),!(!((i=f?.headers)===null||i===void 0)&&i[jc]));)_++,await TG(S),S=S*yG;if(u+=h,((s=f?.headers)===null||s===void 0?void 0:s[jc])!=="active")break;if(a<=u)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return f}async function EG(t){return{size:t.size,type:t.type}}function TG(t){return new Promise(e=>setTimeout(e,t))}class bG{async upload(e,n,i){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await _G(e,n,i)}async uploadToFileSearchStore(e,n,i){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await SG(e,n,i)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await EG(e)}}class AG{create(e,n,i){return new CG(e,n,i)}}class CG{constructor(e,n,i){this.url=e,this.headers=n,this.callbacks=i}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}const BT="x-goog-api-key";class wG{constructor(e){this.apiKey=e}async addAuthHeaders(e,n){if(e.get(BT)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(BT,this.apiKey)}}}const RG="gl-node/";class xG{get interactions(){if(this._interactions!==void 0)return this._interactions;if(console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions."),this.vertexai)throw new Error("This version of the GenAI SDK does not support Vertex AI API for interactions.");const e=this.httpOptions;e?.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const n=new St({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:e?.timeout});return this._interactions=n.interactions,this._interactions}constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;const i=SP(e.httpOptions,e.vertexai,void 0,void 0);i&&(e.httpOptions?e.httpOptions.baseUrl=i:e.httpOptions={baseUrl:i}),this.apiVersion=e.apiVersion,this.httpOptions=e.httpOptions;const s=new wG(this.apiKey);this.apiClient=new _H({auth:s,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:RG+"web",uploader:new bG,downloader:new pG}),this.models=new BH(this.apiClient),this.live=new DH(this.apiClient,s,new AG),this.batches=new XL(this.apiClient),this.chats=new Nk(this.models,this.apiClient),this.caches=new Rk(this.apiClient),this.files=new Vk(this.apiClient),this.operations=new HH(this.apiClient),this.authTokens=new tV(this.apiClient),this.tunings=new hG(this.apiClient),this.fileSearchStores=new uV(this.apiClient)}}let Ip=class extends Error{};class Am{static getApiKey=null;static setApiKey=null;static getGenAI(){const e=this.getApiKey?.()||"";if(!e)throw new Ip("No Google API key set");return new xG({apiKey:e})}static async txt2txt(e){try{const n=this.getGenAI(),i={},s=await n.models.generateContent({model:"gemini-2.5-flash",contents:e,config:i});return console.log("RES TEXT",s.text),s.text}catch(n){console.error("Goo Err Response",n);const i=n?.message||"";if(i.includes("API key not valid")||i.includes("API_KEY_INVALID")||n instanceof Ip)return this.showKeyPromptWindow(),null;throw n}}static async img2img(e,n){try{const i=this.getGenAI(),s=[{text:e}];if(n?.length)for(const h of n)!h?.rawBase64||!h?.mime||s.push({inlineData:{data:h.rawBase64,mimeType:h.mime}});const a={model:"gemini-2.5-flash-image",contents:s,config:{imageConfig:{aspectRatio:"9:16",response_modalities:["Image"]}}};console.log("Gemini Payload",a);const u=await i.models.generateContent(a);console.log("GEMINI RES",u);const p=(u?.candidates??[])[0]?.content?.parts??[];for(const h of p)if(h.inlineData){const v=h.inlineData.data,_=h.inlineData.mimeType||"image/png";return{base64Obj:{rawBase64:v,mime:_},id:u.responseId}}return null}catch(i){const s=i?.message||"";if(s.includes("API key not valid")||s.includes("API_KEY_INVALID")||i instanceof Ip)return this.showKeyPromptWindow(),null;throw console.error("img2img error",i),i}}static showKeyPromptWindow(){const e=window.prompt("Your Google API key is missing or invalid. Please enter a valid key:");e?this.setApiKey?.(e):console.warn("User did not provide a valid API key.")}}class HT{folder;scene;shotJson=null;images=[];srcImage=null;resultsFolder=null;is_generating=!1;constructor(e,n){this.folder=e,this.scene=n,No(this)}async load(){try{this.shotJson=await hr.create(this.folder,"shotinfo.json"),this.images=[],this.srcImage=null;try{this.resultsFolder=await this.folder.getDirectoryHandle("results",{create:!0});for await(const[e,n]of this.resultsFolder.entries())if(n.kind==="file"){const i=new pr(n);this.images.push(i),this.shotJson.data?.srcImage&&e===this.shotJson.data.srcImage&&(this.srcImage=i)}}catch(e){console.warn("No results folder found or failed to read:",e),this.resultsFolder=null}}catch(e){console.error("Error loading shot:",this.folder.name,e),this.shotJson=null,this.images=[],this.srcImage=null,this.resultsFolder=null}}setSrcImage(e){this.srcImage=e,this.shotJson?.data&&(this.shotJson.data.srcImage=e?.handle.name,this.shotJson.save())}async delete(){if(!this.scene?.folder){console.error("Cannot delete shot: scene folder not set");return}try{await this.scene.folder.removeEntry(this.folder.name,{recursive:!0}),nt(()=>{this.scene.shots=this.scene.shots.filter(e=>e!==this)})}catch(e){console.error("Failed to delete shot:",e)}}addImage(e){this.images.push(e),this.srcImage||this.setSrcImage(e)}removeImage(e){this.images=this.images.filter(n=>n!==e),this.srcImage===e&&this.setSrcImage(null)}async GenerateImage(){if(!this.resultsFolder){console.warn("Results folder not set. Attempting to create one...");try{this.resultsFolder=await this.folder.getDirectoryHandle("results",{create:!0})}catch(i){console.error("Failed to create results folder:",i);return}}nt(()=>{this.is_generating=!0});const e=[];for(const i of this.scene.getTags())try{const s=await i.image.getBase64();e.push(s)}catch(s){console.warn("Failed to load tag image:",i.path,s)}const n=this.shotJson?.data.prompt;try{const i=await Am.img2img(n||"",e);if(i&&i.base64Obj?.rawBase64){const s=await pr.fromBase64({rawBase64:i.base64Obj.rawBase64,mime:i.base64Obj.mime},this.resultsFolder,`${i.id}.png`);this.addImage(s)}else console.warn("No valid image returned from GoogleAI.img2img")}catch(i){console.error("GenerateImage failed:",i)}finally{nt(()=>{this.is_generating=!1})}}log(){console.log(Tl(this))}}function _e(t,e,n,i,s){if(typeof e=="function"?t!==e||!0:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,n),n}function G(t,e,n,i){if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?i:n==="a"?i.call(t):i?i.value:e.get(t)}let Uw=function(){const{crypto:t}=globalThis;if(t?.randomUUID)return Uw=t.randomUUID.bind(t),t.randomUUID();const e=new Uint8Array(1),n=t?()=>t.getRandomValues(e)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,i=>(+i^n()&15>>+i/4).toString(16))};function Cm(t){return typeof t=="object"&&t!==null&&("name"in t&&t.name==="AbortError"||"message"in t&&String(t.message).includes("FetchRequestCanceledException"))}const wm=t=>{if(t instanceof Error)return t;if(typeof t=="object"&&t!==null){try{if(Object.prototype.toString.call(t)==="[object Error]"){const e=new Error(t.message,t.cause?{cause:t.cause}:{});return t.stack&&(e.stack=t.stack),t.cause&&!e.cause&&(e.cause=t.cause),t.name&&(e.name=t.name),e}}catch{}try{return new Error(JSON.stringify(t))}catch{}}return new Error(t)};class me extends Error{}class Mt extends me{constructor(e,n,i,s){super(`${Mt.makeMessage(e,n,i)}`),this.status=e,this.headers=s,this.requestID=s?.get("x-request-id"),this.error=n;const a=n;this.code=a?.code,this.param=a?.param,this.type=a?.type}static makeMessage(e,n,i){const s=n?.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):i;return e&&s?`${e} ${s}`:e?`${e} status code (no body)`:s||"(no status code or body)"}static generate(e,n,i,s){if(!e||!s)return new Df({message:i,cause:wm(n)});const a=n?.error;return e===400?new Pw(e,a,i,s):e===401?new Lw(e,a,i,s):e===403?new kw(e,a,i,s):e===404?new Bw(e,a,i,s):e===409?new Hw(e,a,i,s):e===422?new Vw(e,a,i,s):e===429?new Gw(e,a,i,s):e>=500?new qw(e,a,i,s):new Mt(e,a,i,s)}}class wn extends Mt{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}}class Df extends Mt{constructor({message:e,cause:n}){super(void 0,void 0,e||"Connection error.",void 0),n&&(this.cause=n)}}class Mg extends Df{constructor({message:e}={}){super({message:e??"Request timed out."})}}class Pw extends Mt{}class Lw extends Mt{}class kw extends Mt{}class Bw extends Mt{}class Hw extends Mt{}class Vw extends Mt{}class Gw extends Mt{}class qw extends Mt{}class $w extends me{constructor(){super("Could not parse response content as the length limit was reached")}}class Fw extends me{constructor(){super("Could not parse response content as the request was rejected by the content filter")}}class Fa extends Error{constructor(e){super(e)}}const MG=/^[a-z][a-z0-9+.-]*:/i,NG=t=>MG.test(t);let Jt=t=>(Jt=Array.isArray,Jt(t)),VT=Jt;function zw(t){return typeof t!="object"?{}:t??{}}function IG(t){if(!t)return!0;for(const e in t)return!1;return!0}function DG(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Dp(t){return t!=null&&typeof t=="object"&&!Array.isArray(t)}const OG=(t,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new me(`${t} must be an integer`);if(e<0)throw new me(`${t} must be a positive integer`);return e},UG=t=>{try{return JSON.parse(t)}catch{return}},Dl=t=>new Promise(e=>setTimeout(e,t)),hs="6.10.0",PG=()=>typeof window<"u"&&typeof window.document<"u"&&typeof navigator<"u";function LG(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const kG=()=>{const t=LG();if(t==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":hs,"X-Stainless-OS":qT(Deno.build.os),"X-Stainless-Arch":GT(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:Deno.version?.deno??"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":hs,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(t==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":hs,"X-Stainless-OS":qT(globalThis.process.platform??"unknown"),"X-Stainless-Arch":GT(globalThis.process.arch??"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":globalThis.process.version??"unknown"};const e=BG();return e?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":hs,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${e.browser}`,"X-Stainless-Runtime-Version":e.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":hs,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function BG(){if(typeof navigator>"u"||!navigator)return null;const t=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:n}of t){const i=n.exec(navigator.userAgent);if(i){const s=i[1]||0,a=i[2]||0,u=i[3]||0;return{browser:e,version:`${s}.${a}.${u}`}}}return null}const GT=t=>t==="x32"?"x32":t==="x86_64"||t==="x64"?"x64":t==="arm"?"arm":t==="aarch64"||t==="arm64"?"arm64":t?`other:${t}`:"unknown",qT=t=>(t=t.toLowerCase(),t.includes("ios")?"iOS":t==="android"?"Android":t==="darwin"?"MacOS":t==="win32"?"Windows":t==="freebsd"?"FreeBSD":t==="openbsd"?"OpenBSD":t==="linux"?"Linux":t?`Other:${t}`:"Unknown");let $T;const HG=()=>$T??($T=kG());function VG(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new OpenAI({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function Jw(...t){const e=globalThis.ReadableStream;if(typeof e>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new e(...t)}function Yw(t){let e=Symbol.asyncIterator in t?t[Symbol.asyncIterator]():t[Symbol.iterator]();return Jw({start(){},async pull(n){const{done:i,value:s}=await e.next();i?n.close():n.enqueue(s)},async cancel(){await e.return?.()}})}function Kw(t){if(t[Symbol.asyncIterator])return t;const e=t.getReader();return{async next(){try{const n=await e.read();return n?.done&&e.releaseLock(),n}catch(n){throw e.releaseLock(),n}},async return(){const n=e.cancel();return e.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function GG(t){if(t===null||typeof t!="object")return;if(t[Symbol.asyncIterator]){await t[Symbol.asyncIterator]().return?.();return}const e=t.getReader(),n=e.cancel();e.releaseLock(),await n}const qG=({headers:t,body:e})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(e)}),Xw="RFC3986",Qw=t=>String(t),FT={RFC1738:t=>String(t).replace(/%20/g,"+"),RFC3986:Qw},$G="RFC1738";let Rm=(t,e)=>(Rm=Object.hasOwn??Function.prototype.call.bind(Object.prototype.hasOwnProperty),Rm(t,e));const jn=(()=>{const t=[];for(let e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t})(),Op=1024,FG=(t,e,n,i,s)=>{if(t.length===0)return t;let a=t;if(typeof t=="symbol"?a=Symbol.prototype.toString.call(t):typeof t!="string"&&(a=String(t)),n==="iso-8859-1")return escape(a).replace(/%u[0-9a-f]{4}/gi,function(f){return"%26%23"+parseInt(f.slice(2),16)+"%3B"});let u="";for(let f=0;f<a.length;f+=Op){const p=a.length>=Op?a.slice(f,f+Op):a,h=[];for(let v=0;v<p.length;++v){let _=p.charCodeAt(v);if(_===45||_===46||_===95||_===126||_>=48&&_<=57||_>=65&&_<=90||_>=97&&_<=122||s===$G&&(_===40||_===41)){h[h.length]=p.charAt(v);continue}if(_<128){h[h.length]=jn[_];continue}if(_<2048){h[h.length]=jn[192|_>>6]+jn[128|_&63];continue}if(_<55296||_>=57344){h[h.length]=jn[224|_>>12]+jn[128|_>>6&63]+jn[128|_&63];continue}v+=1,_=65536+((_&1023)<<10|p.charCodeAt(v)&1023),h[h.length]=jn[240|_>>18]+jn[128|_>>12&63]+jn[128|_>>6&63]+jn[128|_&63]}u+=h.join("")}return u};function zG(t){return!t||typeof t!="object"?!1:!!(t.constructor&&t.constructor.isBuffer&&t.constructor.isBuffer(t))}function zT(t,e){if(Jt(t)){const n=[];for(let i=0;i<t.length;i+=1)n.push(e(t[i]));return n}return e(t)}const Ww={brackets(t){return String(t)+"[]"},comma:"comma",indices(t,e){return String(t)+"["+e+"]"},repeat(t){return String(t)}},Zw=function(t,e){Array.prototype.push.apply(t,Jt(e)?e:[e])};let JT;const pt={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:FG,encodeValuesOnly:!1,format:Xw,formatter:Qw,indices:!1,serializeDate(t){return(JT??(JT=Function.prototype.call.bind(Date.prototype.toISOString)))(t)},skipNulls:!1,strictNullHandling:!1};function JG(t){return typeof t=="string"||typeof t=="number"||typeof t=="boolean"||typeof t=="symbol"||typeof t=="bigint"}const Up={};function jw(t,e,n,i,s,a,u,f,p,h,v,_,S,T,A,w,R,D){let U=t,O=D,L=0,z=!1;for(;(O=O.get(Up))!==void 0&&!z;){const te=O.get(t);if(L+=1,typeof te<"u"){if(te===L)throw new RangeError("Cyclic object value");z=!0}typeof O.get(Up)>"u"&&(L=0)}if(typeof h=="function"?U=h(e,U):U instanceof Date?U=S?.(U):n==="comma"&&Jt(U)&&(U=zT(U,function(te){return te instanceof Date?S?.(te):te})),U===null){if(a)return p&&!w?p(e,pt.encoder,R,"key",T):e;U=""}if(JG(U)||zG(U)){if(p){const te=w?e:p(e,pt.encoder,R,"key",T);return[A?.(te)+"="+A?.(p(U,pt.encoder,R,"value",T))]}return[A?.(e)+"="+A?.(String(U))]}const $=[];if(typeof U>"u")return $;let V;if(n==="comma"&&Jt(U))w&&p&&(U=zT(U,p)),V=[{value:U.length>0?U.join(",")||null:void 0}];else if(Jt(h))V=h;else{const te=Object.keys(U);V=v?te.sort(v):te}const W=f?String(e).replace(/\./g,"%2E"):String(e),Q=i&&Jt(U)&&U.length===1?W+"[]":W;if(s&&Jt(U)&&U.length===0)return Q+"[]";for(let te=0;te<V.length;++te){const ee=V[te],ce=typeof ee=="object"&&typeof ee.value<"u"?ee.value:U[ee];if(u&&ce===null)continue;const se=_&&f?ee.replace(/\./g,"%2E"):ee,Se=Jt(U)?typeof n=="function"?n(Q,se):Q:Q+(_?"."+se:"["+se+"]");D.set(t,L);const Me=new WeakMap;Me.set(Up,D),Zw($,jw(ce,Se,n,i,s,a,u,f,n==="comma"&&w&&Jt(U)?null:p,h,v,_,S,T,A,w,R,Me))}return $}function YG(t=pt){if(typeof t.allowEmptyArrays<"u"&&typeof t.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof t.encodeDotInKeys<"u"&&typeof t.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(t.encoder!==null&&typeof t.encoder<"u"&&typeof t.encoder!="function")throw new TypeError("Encoder has to be a function.");const e=t.charset||pt.charset;if(typeof t.charset<"u"&&t.charset!=="utf-8"&&t.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");let n=Xw;if(typeof t.format<"u"){if(!Rm(FT,t.format))throw new TypeError("Unknown format option provided.");n=t.format}const i=FT[n];let s=pt.filter;(typeof t.filter=="function"||Jt(t.filter))&&(s=t.filter);let a;if(t.arrayFormat&&t.arrayFormat in Ww?a=t.arrayFormat:"indices"in t?a=t.indices?"indices":"repeat":a=pt.arrayFormat,"commaRoundTrip"in t&&typeof t.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");const u=typeof t.allowDots>"u"?t.encodeDotInKeys?!0:pt.allowDots:!!t.allowDots;return{addQueryPrefix:typeof t.addQueryPrefix=="boolean"?t.addQueryPrefix:pt.addQueryPrefix,allowDots:u,allowEmptyArrays:typeof t.allowEmptyArrays=="boolean"?!!t.allowEmptyArrays:pt.allowEmptyArrays,arrayFormat:a,charset:e,charsetSentinel:typeof t.charsetSentinel=="boolean"?t.charsetSentinel:pt.charsetSentinel,commaRoundTrip:!!t.commaRoundTrip,delimiter:typeof t.delimiter>"u"?pt.delimiter:t.delimiter,encode:typeof t.encode=="boolean"?t.encode:pt.encode,encodeDotInKeys:typeof t.encodeDotInKeys=="boolean"?t.encodeDotInKeys:pt.encodeDotInKeys,encoder:typeof t.encoder=="function"?t.encoder:pt.encoder,encodeValuesOnly:typeof t.encodeValuesOnly=="boolean"?t.encodeValuesOnly:pt.encodeValuesOnly,filter:s,format:n,formatter:i,serializeDate:typeof t.serializeDate=="function"?t.serializeDate:pt.serializeDate,skipNulls:typeof t.skipNulls=="boolean"?t.skipNulls:pt.skipNulls,sort:typeof t.sort=="function"?t.sort:null,strictNullHandling:typeof t.strictNullHandling=="boolean"?t.strictNullHandling:pt.strictNullHandling}}function KG(t,e={}){let n=t;const i=YG(e);let s,a;typeof i.filter=="function"?(a=i.filter,n=a("",n)):Jt(i.filter)&&(a=i.filter,s=a);const u=[];if(typeof n!="object"||n===null)return"";const f=Ww[i.arrayFormat],p=f==="comma"&&i.commaRoundTrip;s||(s=Object.keys(n)),i.sort&&s.sort(i.sort);const h=new WeakMap;for(let S=0;S<s.length;++S){const T=s[S];i.skipNulls&&n[T]===null||Zw(u,jw(n[T],T,f,p,i.allowEmptyArrays,i.strictNullHandling,i.skipNulls,i.encodeDotInKeys,i.encode?i.encoder:null,i.filter,i.sort,i.allowDots,i.serializeDate,i.format,i.formatter,i.encodeValuesOnly,i.charset,h))}const v=u.join(i.delimiter);let _=i.addQueryPrefix===!0?"?":"";return i.charsetSentinel&&(i.charset==="iso-8859-1"?_+="utf8=%26%2310003%3B&":_+="utf8=%E2%9C%93&"),v.length>0?_+v:""}function XG(t){let e=0;for(const s of t)e+=s.length;const n=new Uint8Array(e);let i=0;for(const s of t)n.set(s,i),i+=s.length;return n}let YT;function Ng(t){let e;return(YT??(e=new globalThis.TextEncoder,YT=e.encode.bind(e)))(t)}let KT;function XT(t){let e;return(KT??(e=new globalThis.TextDecoder,KT=e.decode.bind(e)))(t)}var rn,sn;class Of{constructor(){rn.set(this,void 0),sn.set(this,void 0),_e(this,rn,new Uint8Array),_e(this,sn,null)}decode(e){if(e==null)return[];const n=e instanceof ArrayBuffer?new Uint8Array(e):typeof e=="string"?Ng(e):e;_e(this,rn,XG([G(this,rn,"f"),n]));const i=[];let s;for(;(s=QG(G(this,rn,"f"),G(this,sn,"f")))!=null;){if(s.carriage&&G(this,sn,"f")==null){_e(this,sn,s.index);continue}if(G(this,sn,"f")!=null&&(s.index!==G(this,sn,"f")+1||s.carriage)){i.push(XT(G(this,rn,"f").subarray(0,G(this,sn,"f")-1))),_e(this,rn,G(this,rn,"f").subarray(G(this,sn,"f"))),_e(this,sn,null);continue}const a=G(this,sn,"f")!==null?s.preceding-1:s.preceding,u=XT(G(this,rn,"f").subarray(0,a));i.push(u),_e(this,rn,G(this,rn,"f").subarray(s.index)),_e(this,sn,null)}return i}flush(){return G(this,rn,"f").length?this.decode(`
`):[]}}rn=new WeakMap,sn=new WeakMap;Of.NEWLINE_CHARS=new Set([`
`,"\r"]);Of.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function QG(t,e){for(let s=e??0;s<t.length;s++){if(t[s]===10)return{preceding:s,index:s+1,carriage:!1};if(t[s]===13)return{preceding:s,index:s+1,carriage:!0}}return null}function WG(t){for(let i=0;i<t.length-1;i++){if(t[i]===10&&t[i+1]===10||t[i]===13&&t[i+1]===13)return i+2;if(t[i]===13&&t[i+1]===10&&i+3<t.length&&t[i+2]===13&&t[i+3]===10)return i+4}return-1}const ef={off:0,error:200,warn:300,info:400,debug:500},QT=(t,e,n)=>{if(t){if(DG(ef,t))return t;Rt(n).warn(`${e} was set to ${JSON.stringify(t)}, expected one of ${JSON.stringify(Object.keys(ef))}`)}};function za(){}function pc(t,e,n){return!e||ef[t]>ef[n]?za:e[t].bind(e)}const ZG={error:za,warn:za,info:za,debug:za};let WT=new WeakMap;function Rt(t){const e=t.logger,n=t.logLevel??"off";if(!e)return ZG;const i=WT.get(e);if(i&&i[0]===n)return i[1];const s={error:pc("error",e,n),warn:pc("warn",e,n),info:pc("info",e,n),debug:pc("debug",e,n)};return WT.set(e,[n,s]),s}const tr=t=>(t.options&&(t.options={...t.options},delete t.options.headers),t.headers&&(t.headers=Object.fromEntries((t.headers instanceof Headers?[...t.headers]:Object.entries(t.headers)).map(([e,n])=>[e,e.toLowerCase()==="authorization"||e.toLowerCase()==="cookie"||e.toLowerCase()==="set-cookie"?"***":n]))),"retryOfRequestLogID"in t&&(t.retryOfRequestLogID&&(t.retryOf=t.retryOfRequestLogID),delete t.retryOfRequestLogID),t);var Va;class ni{constructor(e,n,i){this.iterator=e,Va.set(this,void 0),this.controller=n,_e(this,Va,i)}static fromSSEResponse(e,n,i){let s=!1;const a=i?Rt(i):console;async function*u(){if(s)throw new me("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");s=!0;let f=!1;try{for await(const p of jG(e,n))if(!f){if(p.data.startsWith("[DONE]")){f=!0;continue}if(p.event===null||!p.event.startsWith("thread.")){let h;try{h=JSON.parse(p.data)}catch(v){throw a.error("Could not parse message into JSON:",p.data),a.error("From chunk:",p.raw),v}if(h&&h.error)throw new Mt(void 0,h.error,void 0,e.headers);yield h}else{let h;try{h=JSON.parse(p.data)}catch(v){throw console.error("Could not parse message into JSON:",p.data),console.error("From chunk:",p.raw),v}if(p.event=="error")throw new Mt(void 0,h.error,h.message,void 0);yield{event:p.event,data:h}}}f=!0}catch(p){if(Cm(p))return;throw p}finally{f||n.abort()}}return new ni(u,n,i)}static fromReadableStream(e,n,i){let s=!1;async function*a(){const f=new Of,p=Kw(e);for await(const h of p)for(const v of f.decode(h))yield v;for(const h of f.flush())yield h}async function*u(){if(s)throw new me("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");s=!0;let f=!1;try{for await(const p of a())f||p&&(yield JSON.parse(p));f=!0}catch(p){if(Cm(p))return;throw p}finally{f||n.abort()}}return new ni(u,n,i)}[(Va=new WeakMap,Symbol.asyncIterator)](){return this.iterator()}tee(){const e=[],n=[],i=this.iterator(),s=a=>({next:()=>{if(a.length===0){const u=i.next();e.push(u),n.push(u)}return a.shift()}});return[new ni(()=>s(e),this.controller,G(this,Va,"f")),new ni(()=>s(n),this.controller,G(this,Va,"f"))]}toReadableStream(){const e=this;let n;return Jw({async start(){n=e[Symbol.asyncIterator]()},async pull(i){try{const{value:s,done:a}=await n.next();if(a)return i.close();const u=Ng(JSON.stringify(s)+`
`);i.enqueue(u)}catch(s){i.error(s)}},async cancel(){await n.return?.()}})}}async function*jG(t,e){if(!t.body)throw e.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new me("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new me("Attempted to iterate over a response with no body");const n=new tq,i=new Of,s=Kw(t.body);for await(const a of eq(s))for(const u of i.decode(a)){const f=n.decode(u);f&&(yield f)}for(const a of i.flush()){const u=n.decode(a);u&&(yield u)}}async function*eq(t){let e=new Uint8Array;for await(const n of t){if(n==null)continue;const i=n instanceof ArrayBuffer?new Uint8Array(n):typeof n=="string"?Ng(n):n;let s=new Uint8Array(e.length+i.length);s.set(e),s.set(i,e.length),e=s;let a;for(;(a=WG(e))!==-1;)yield e.slice(0,a),e=e.slice(a)}e.length>0&&(yield e)}class tq{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const a={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],a}if(this.chunks.push(e),e.startsWith(":"))return null;let[n,i,s]=nq(e,":");return s.startsWith(" ")&&(s=s.substring(1)),n==="event"?this.event=s:n==="data"&&this.data.push(s),null}}function nq(t,e){const n=t.indexOf(e);return n!==-1?[t.substring(0,n),e,t.substring(n+e.length)]:[t,"",""]}async function eR(t,e){const{response:n,requestLogID:i,retryOfRequestLogID:s,startTime:a}=e,u=await(async()=>{if(e.options.stream)return Rt(t).debug("response",n.status,n.url,n.headers,n.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(n,e.controller,t):ni.fromSSEResponse(n,e.controller,t);if(n.status===204)return null;if(e.options.__binaryResponse)return n;const p=n.headers.get("content-type")?.split(";")[0]?.trim();if(p?.includes("application/json")||p?.endsWith("+json")){const _=await n.json();return tR(_,n)}return await n.text()})();return Rt(t).debug(`[${i}] response parsed`,tr({retryOfRequestLogID:s,url:n.url,status:n.status,body:u,durationMs:Date.now()-a})),u}function tR(t,e){return!t||typeof t!="object"||Array.isArray(t)?t:Object.defineProperty(t,"_request_id",{value:e.headers.get("x-request-id"),enumerable:!1})}var Ja;class Uf extends Promise{constructor(e,n,i=eR){super(s=>{s(null)}),this.responsePromise=n,this.parseResponse=i,Ja.set(this,void 0),_e(this,Ja,e)}_thenUnwrap(e){return new Uf(G(this,Ja,"f"),this.responsePromise,async(n,i)=>tR(e(await this.parseResponse(n,i),i),i.response))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:n,request_id:n.headers.get("x-request-id")}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(e=>this.parseResponse(G(this,Ja,"f"),e))),this.parsedPromise}then(e,n){return this.parse().then(e,n)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}Ja=new WeakMap;var mc;class Ig{constructor(e,n,i,s){mc.set(this,void 0),_e(this,mc,e),this.options=s,this.response=n,this.body=i}hasNextPage(){return this.getPaginatedItems().length?this.nextPageRequestOptions()!=null:!1}async getNextPage(){const e=this.nextPageRequestOptions();if(!e)throw new me("No next page expected; please check `.hasNextPage()` before calling `.getNextPage()`.");return await G(this,mc,"f").requestAPIList(this.constructor,e)}async*iterPages(){let e=this;for(yield e;e.hasNextPage();)e=await e.getNextPage(),yield e}async*[(mc=new WeakMap,Symbol.asyncIterator)](){for await(const e of this.iterPages())for(const n of e.getPaginatedItems())yield n}}class iq extends Uf{constructor(e,n,i){super(e,n,async(s,a)=>new i(s,a.response,await eR(s,a),a.options))}async*[Symbol.asyncIterator](){const e=await this;for await(const n of e)yield n}}class Pf extends Ig{constructor(e,n,i,s){super(e,n,i,s),this.data=i.data||[],this.object=i.object}getPaginatedItems(){return this.data??[]}nextPageRequestOptions(){return null}}class ft extends Ig{constructor(e,n,i,s){super(e,n,i,s),this.data=i.data||[],this.has_more=i.has_more||!1}getPaginatedItems(){return this.data??[]}hasNextPage(){return this.has_more===!1?!1:super.hasNextPage()}nextPageRequestOptions(){const e=this.getPaginatedItems(),n=e[e.length-1]?.id;return n?{...this.options,query:{...zw(this.options.query),after:n}}:null}}class tf extends Ig{constructor(e,n,i,s){super(e,n,i,s),this.data=i.data||[],this.has_more=i.has_more||!1,this.last_id=i.last_id||""}getPaginatedItems(){return this.data??[]}hasNextPage(){return this.has_more===!1?!1:super.hasNextPage()}nextPageRequestOptions(){const e=this.last_id;return e?{...this.options,query:{...zw(this.options.query),after:e}}:null}}const nR=()=>{if(typeof File>"u"){const{process:t}=globalThis,e=typeof t?.versions?.node=="string"&&parseInt(t.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(e?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function ol(t,e,n){return nR(),new File(t,e??"unknown_file",n)}function xc(t){return(typeof t=="object"&&t!==null&&("name"in t&&t.name&&String(t.name)||"url"in t&&t.url&&String(t.url)||"filename"in t&&t.filename&&String(t.filename)||"path"in t&&t.path&&String(t.path))||"").split(/[\\/]/).pop()||void 0}const Dg=t=>t!=null&&typeof t=="object"&&typeof t[Symbol.asyncIterator]=="function",ZT=async(t,e)=>xm(t.body)?{...t,body:await iR(t.body,e)}:t,mr=async(t,e)=>({...t,body:await iR(t.body,e)}),jT=new WeakMap;function oq(t){const e=typeof t=="function"?t:t.fetch,n=jT.get(e);if(n)return n;const i=(async()=>{try{const s="Response"in e?e.Response:(await e("data:,")).constructor,a=new FormData;return a.toString()!==await new s(a).text()}catch{return!0}})();return jT.set(e,i),i}const iR=async(t,e)=>{if(!await oq(e))throw new TypeError("The provided fetch function does not support file uploads with the current global FormData class.");const n=new FormData;return await Promise.all(Object.entries(t||{}).map(([i,s])=>Mm(n,i,s))),n},oR=t=>t instanceof Blob&&"name"in t,rq=t=>typeof t=="object"&&t!==null&&(t instanceof Response||Dg(t)||oR(t)),xm=t=>{if(rq(t))return!0;if(Array.isArray(t))return t.some(xm);if(t&&typeof t=="object"){for(const e in t)if(xm(t[e]))return!0}return!1},Mm=async(t,e,n)=>{if(n!==void 0){if(n==null)throw new TypeError(`Received null for "${e}"; to pass null in FormData, you must use the string 'null'`);if(typeof n=="string"||typeof n=="number"||typeof n=="boolean")t.append(e,String(n));else if(n instanceof Response)t.append(e,ol([await n.blob()],xc(n)));else if(Dg(n))t.append(e,ol([await new Response(Yw(n)).blob()],xc(n)));else if(oR(n))t.append(e,n,xc(n));else if(Array.isArray(n))await Promise.all(n.map(i=>Mm(t,e+"[]",i)));else if(typeof n=="object")await Promise.all(Object.entries(n).map(([i,s])=>Mm(t,`${e}[${i}]`,s)));else throw new TypeError(`Invalid value given to form, expected a string, number, boolean, object, Array, File or Blob but got ${n} instead`)}},rR=t=>t!=null&&typeof t=="object"&&typeof t.size=="number"&&typeof t.type=="string"&&typeof t.text=="function"&&typeof t.slice=="function"&&typeof t.arrayBuffer=="function",sq=t=>t!=null&&typeof t=="object"&&typeof t.name=="string"&&typeof t.lastModified=="number"&&rR(t),aq=t=>t!=null&&typeof t=="object"&&typeof t.url=="string"&&typeof t.blob=="function";async function lq(t,e,n){if(nR(),t=await t,sq(t))return t instanceof File?t:ol([await t.arrayBuffer()],t.name);if(aq(t)){const s=await t.blob();return e||(e=new URL(t.url).pathname.split(/[\\/]/).pop()),ol(await Nm(s),e,n)}const i=await Nm(t);if(e||(e=xc(t)),!n?.type){const s=i.find(a=>typeof a=="object"&&"type"in a&&a.type);typeof s=="string"&&(n={...n,type:s})}return ol(i,e,n)}async function Nm(t){let e=[];if(typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer)e.push(t);else if(rR(t))e.push(t instanceof Blob?t:await t.arrayBuffer());else if(Dg(t))for await(const n of t)e.push(...await Nm(n));else{const n=t?.constructor?.name;throw new Error(`Unexpected data type: ${typeof t}${n?`; constructor: ${n}`:""}${uq(t)}`)}return e}function uq(t){return typeof t!="object"||t===null?"":`; props: [${Object.getOwnPropertyNames(t).map(n=>`"${n}"`).join(", ")}]`}class he{constructor(e){this._client=e}}function sR(t){return t.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const eb=Object.freeze(Object.create(null)),cq=(t=sR)=>function(n,...i){if(n.length===1)return n[0];let s=!1;const a=[],u=n.reduce((v,_,S)=>{/[?#]/.test(_)&&(s=!0);const T=i[S];let A=(s?encodeURIComponent:t)(""+T);return S!==i.length&&(T==null||typeof T=="object"&&T.toString===Object.getPrototypeOf(Object.getPrototypeOf(T.hasOwnProperty??eb)??eb)?.toString)&&(A=T+"",a.push({start:v.length+_.length,length:A.length,error:`Value of type ${Object.prototype.toString.call(T).slice(8,-1)} is not a valid path parameter`})),v+_+(S===i.length?"":A)},""),f=u.split(/[?#]/,1)[0],p=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let h;for(;(h=p.exec(f))!==null;)a.push({start:h.index,length:h[0].length,error:`Value "${h[0]}" can't be safely passed as a path parameter`});if(a.sort((v,_)=>v.start-_.start),a.length>0){let v=0;const _=a.reduce((S,T)=>{const A=" ".repeat(T.start-v),w="^".repeat(T.length);return v=T.start+T.length,S+A+w},"");throw new me(`Path parameters result in path with invalid segments:
${a.map(S=>S.error).join(`
`)}
${u}
${_}`)}return u},j=cq(sR);let aR=class extends he{list(e,n={},i){return this._client.getAPIList(j`/chat/completions/${e}/messages`,ft,{query:n,...i})}};function nf(t){return t!==void 0&&"function"in t&&t.function!==void 0}function Og(t){return t?.$brand==="auto-parseable-response-format"}function Ol(t){return t?.$brand==="auto-parseable-tool"}function fq(t,e){return!e||!lR(e)?{...t,choices:t.choices.map(n=>(uR(n.message.tool_calls),{...n,message:{...n.message,parsed:null,...n.message.tool_calls?{tool_calls:n.message.tool_calls}:void 0}}))}:Ug(t,e)}function Ug(t,e){const n=t.choices.map(i=>{if(i.finish_reason==="length")throw new $w;if(i.finish_reason==="content_filter")throw new Fw;return uR(i.message.tool_calls),{...i,message:{...i.message,...i.message.tool_calls?{tool_calls:i.message.tool_calls?.map(s=>hq(e,s))??void 0}:void 0,parsed:i.message.content&&!i.message.refusal?dq(e,i.message.content):null}}});return{...t,choices:n}}function dq(t,e){return t.response_format?.type!=="json_schema"?null:t.response_format?.type==="json_schema"?"$parseRaw"in t.response_format?t.response_format.$parseRaw(e):JSON.parse(e):null}function hq(t,e){const n=t.tools?.find(i=>nf(i)&&i.function?.name===e.function.name);return{...e,function:{...e.function,parsed_arguments:Ol(n)?n.$parseRaw(e.function.arguments):n?.function.strict?JSON.parse(e.function.arguments):null}}}function pq(t,e){if(!t||!("tools"in t)||!t.tools)return!1;const n=t.tools?.find(i=>nf(i)&&i.function?.name===e.function.name);return nf(n)&&(Ol(n)||n?.function.strict||!1)}function lR(t){return Og(t.response_format)?!0:t.tools?.some(e=>Ol(e)||e.type==="function"&&e.function.strict===!0)??!1}function uR(t){for(const e of t||[])if(e.type!=="function")throw new me(`Currently only \`function\` tool calls are supported; Received \`${e.type}\``)}function mq(t){for(const e of t??[]){if(e.type!=="function")throw new me(`Currently only \`function\` tool types support auto-parsing; Received \`${e.type}\``);if(e.function.strict!==!0)throw new me(`The \`${e.function.name}\` tool is not marked with \`strict: true\`. Only strict function tools can be auto-parsed`)}}const of=t=>t?.role==="assistant",cR=t=>t?.role==="tool";var Im,Mc,Nc,Ya,Ka,Ic,Xa,Mi,Qa,rf,sf,ps,fR;class Pg{constructor(){Im.add(this),this.controller=new AbortController,Mc.set(this,void 0),Nc.set(this,()=>{}),Ya.set(this,()=>{}),Ka.set(this,void 0),Ic.set(this,()=>{}),Xa.set(this,()=>{}),Mi.set(this,{}),Qa.set(this,!1),rf.set(this,!1),sf.set(this,!1),ps.set(this,!1),_e(this,Mc,new Promise((e,n)=>{_e(this,Nc,e,"f"),_e(this,Ya,n,"f")})),_e(this,Ka,new Promise((e,n)=>{_e(this,Ic,e,"f"),_e(this,Xa,n,"f")})),G(this,Mc,"f").catch(()=>{}),G(this,Ka,"f").catch(()=>{})}_run(e){setTimeout(()=>{e().then(()=>{this._emitFinal(),this._emit("end")},G(this,Im,"m",fR).bind(this))},0)}_connected(){this.ended||(G(this,Nc,"f").call(this),this._emit("connect"))}get ended(){return G(this,Qa,"f")}get errored(){return G(this,rf,"f")}get aborted(){return G(this,sf,"f")}abort(){this.controller.abort()}on(e,n){return(G(this,Mi,"f")[e]||(G(this,Mi,"f")[e]=[])).push({listener:n}),this}off(e,n){const i=G(this,Mi,"f")[e];if(!i)return this;const s=i.findIndex(a=>a.listener===n);return s>=0&&i.splice(s,1),this}once(e,n){return(G(this,Mi,"f")[e]||(G(this,Mi,"f")[e]=[])).push({listener:n,once:!0}),this}emitted(e){return new Promise((n,i)=>{_e(this,ps,!0),e!=="error"&&this.once("error",i),this.once(e,n)})}async done(){_e(this,ps,!0),await G(this,Ka,"f")}_emit(e,...n){if(G(this,Qa,"f"))return;e==="end"&&(_e(this,Qa,!0),G(this,Ic,"f").call(this));const i=G(this,Mi,"f")[e];if(i&&(G(this,Mi,"f")[e]=i.filter(s=>!s.once),i.forEach(({listener:s})=>s(...n))),e==="abort"){const s=n[0];!G(this,ps,"f")&&!i?.length&&Promise.reject(s),G(this,Ya,"f").call(this,s),G(this,Xa,"f").call(this,s),this._emit("end");return}if(e==="error"){const s=n[0];!G(this,ps,"f")&&!i?.length&&Promise.reject(s),G(this,Ya,"f").call(this,s),G(this,Xa,"f").call(this,s),this._emit("end")}}_emitFinal(){}}Mc=new WeakMap,Nc=new WeakMap,Ya=new WeakMap,Ka=new WeakMap,Ic=new WeakMap,Xa=new WeakMap,Mi=new WeakMap,Qa=new WeakMap,rf=new WeakMap,sf=new WeakMap,ps=new WeakMap,Im=new WeakSet,fR=function(e){if(_e(this,rf,!0),e instanceof Error&&e.name==="AbortError"&&(e=new wn),e instanceof wn)return _e(this,sf,!0),this._emit("abort",e);if(e instanceof me)return this._emit("error",e);if(e instanceof Error){const n=new me(e.message);return n.cause=e,this._emit("error",n)}return this._emit("error",new me(String(e)))};function gq(t){return typeof t.parse=="function"}var Pt,Dm,af,Om,Um,Pm,dR,hR;const vq=10;class pR extends Pg{constructor(){super(...arguments),Pt.add(this),this._chatCompletions=[],this.messages=[]}_addChatCompletion(e){this._chatCompletions.push(e),this._emit("chatCompletion",e);const n=e.choices[0]?.message;return n&&this._addMessage(n),e}_addMessage(e,n=!0){if("content"in e||(e.content=null),this.messages.push(e),n){if(this._emit("message",e),cR(e)&&e.content)this._emit("functionToolCallResult",e.content);else if(of(e)&&e.tool_calls)for(const i of e.tool_calls)i.type==="function"&&this._emit("functionToolCall",i.function)}}async finalChatCompletion(){await this.done();const e=this._chatCompletions[this._chatCompletions.length-1];if(!e)throw new me("stream ended without producing a ChatCompletion");return e}async finalContent(){return await this.done(),G(this,Pt,"m",Dm).call(this)}async finalMessage(){return await this.done(),G(this,Pt,"m",af).call(this)}async finalFunctionToolCall(){return await this.done(),G(this,Pt,"m",Om).call(this)}async finalFunctionToolCallResult(){return await this.done(),G(this,Pt,"m",Um).call(this)}async totalUsage(){return await this.done(),G(this,Pt,"m",Pm).call(this)}allChatCompletions(){return[...this._chatCompletions]}_emitFinal(){const e=this._chatCompletions[this._chatCompletions.length-1];e&&this._emit("finalChatCompletion",e);const n=G(this,Pt,"m",af).call(this);n&&this._emit("finalMessage",n);const i=G(this,Pt,"m",Dm).call(this);i&&this._emit("finalContent",i);const s=G(this,Pt,"m",Om).call(this);s&&this._emit("finalFunctionToolCall",s);const a=G(this,Pt,"m",Um).call(this);a!=null&&this._emit("finalFunctionToolCallResult",a),this._chatCompletions.some(u=>u.usage)&&this._emit("totalUsage",G(this,Pt,"m",Pm).call(this))}async _createChatCompletion(e,n,i){const s=i?.signal;s&&(s.aborted&&this.controller.abort(),s.addEventListener("abort",()=>this.controller.abort())),G(this,Pt,"m",dR).call(this,n);const a=await e.chat.completions.create({...n,stream:!1},{...i,signal:this.controller.signal});return this._connected(),this._addChatCompletion(Ug(a,n))}async _runChatCompletion(e,n,i){for(const s of n.messages)this._addMessage(s,!1);return await this._createChatCompletion(e,n,i)}async _runTools(e,n,i){const s="tool",{tool_choice:a="auto",stream:u,...f}=n,p=typeof a!="string"&&a.type==="function"&&a?.function?.name,{maxChatCompletions:h=vq}=i||{},v=n.tools.map(T=>{if(Ol(T)){if(!T.$callback)throw new me("Tool given to `.runTools()` that does not have an associated function");return{type:"function",function:{function:T.$callback,name:T.function.name,description:T.function.description||"",parameters:T.function.parameters,parse:T.$parseRaw,strict:!0}}}return T}),_={};for(const T of v)T.type==="function"&&(_[T.function.name||T.function.function.name]=T.function);const S="tools"in n?v.map(T=>T.type==="function"?{type:"function",function:{name:T.function.name||T.function.function.name,parameters:T.function.parameters,description:T.function.description,strict:T.function.strict}}:T):void 0;for(const T of n.messages)this._addMessage(T,!1);for(let T=0;T<h;++T){const w=(await this._createChatCompletion(e,{...f,tool_choice:a,tools:S,messages:[...this.messages]},i)).choices[0]?.message;if(!w)throw new me("missing message in ChatCompletion response");if(!w.tool_calls?.length)return;for(const R of w.tool_calls){if(R.type!=="function")continue;const D=R.id,{name:U,arguments:O}=R.function,L=_[U];if(L){if(p&&p!==U){const W=`Invalid tool_call: ${JSON.stringify(U)}. ${JSON.stringify(p)} requested. Please try again`;this._addMessage({role:s,tool_call_id:D,content:W});continue}}else{const W=`Invalid tool_call: ${JSON.stringify(U)}. Available options are: ${Object.keys(_).map(Q=>JSON.stringify(Q)).join(", ")}. Please try again`;this._addMessage({role:s,tool_call_id:D,content:W});continue}let z;try{z=gq(L)?await L.parse(O):O}catch(W){const Q=W instanceof Error?W.message:String(W);this._addMessage({role:s,tool_call_id:D,content:Q});continue}const $=await L.function(z,this),V=G(this,Pt,"m",hR).call(this,$);if(this._addMessage({role:s,tool_call_id:D,content:V}),p)return}}}}Pt=new WeakSet,Dm=function(){return G(this,Pt,"m",af).call(this).content??null},af=function(){let e=this.messages.length;for(;e-- >0;){const n=this.messages[e];if(of(n))return{...n,content:n.content??null,refusal:n.refusal??null}}throw new me("stream ended without producing a ChatCompletionMessage with role=assistant")},Om=function(){for(let e=this.messages.length-1;e>=0;e--){const n=this.messages[e];if(of(n)&&n?.tool_calls?.length)return n.tool_calls.filter(i=>i.type==="function").at(-1)?.function}},Um=function(){for(let e=this.messages.length-1;e>=0;e--){const n=this.messages[e];if(cR(n)&&n.content!=null&&typeof n.content=="string"&&this.messages.some(i=>i.role==="assistant"&&i.tool_calls?.some(s=>s.type==="function"&&s.id===n.tool_call_id)))return n.content}},Pm=function(){const e={completion_tokens:0,prompt_tokens:0,total_tokens:0};for(const{usage:n}of this._chatCompletions)n&&(e.completion_tokens+=n.completion_tokens,e.prompt_tokens+=n.prompt_tokens,e.total_tokens+=n.total_tokens);return e},dR=function(e){if(e.n!=null&&e.n>1)throw new me("ChatCompletion convenience helpers only support n=1 at this time. To use n>1, please use chat.completions.create() directly.")},hR=function(e){return typeof e=="string"?e:e===void 0?"undefined":JSON.stringify(e)};class Lg extends pR{static runTools(e,n,i){const s=new Lg,a={...i,headers:{...i?.headers,"X-Stainless-Helper-Method":"runTools"}};return s._run(()=>s._runTools(e,n,a)),s}_addMessage(e,n=!0){super._addMessage(e,n),of(e)&&e.content&&this._emit("content",e.content)}}const mR=1,gR=2,vR=4,yR=8,_R=16,SR=32,ER=64,TR=128,bR=256,AR=TR|bR,CR=_R|SR|AR|ER,wR=mR|gR|CR,RR=vR|yR,yq=wR|RR,vt={STR:mR,NUM:gR,ARR:vR,OBJ:yR,NULL:_R,BOOL:SR,NAN:ER,INFINITY:TR,MINUS_INFINITY:bR,INF:AR,SPECIAL:CR,ATOM:wR,COLLECTION:RR,ALL:yq};class _q extends Error{}class Sq extends Error{}function Eq(t,e=vt.ALL){if(typeof t!="string")throw new TypeError(`expecting str, got ${typeof t}`);if(!t.trim())throw new Error(`${t} is empty`);return Tq(t.trim(),e)}const Tq=(t,e)=>{const n=t.length;let i=0;const s=S=>{throw new _q(`${S} at position ${i}`)},a=S=>{throw new Sq(`${S} at position ${i}`)},u=()=>(_(),i>=n&&s("Unexpected end of input"),t[i]==='"'?f():t[i]==="{"?p():t[i]==="["?h():t.substring(i,i+4)==="null"||vt.NULL&e&&n-i<4&&"null".startsWith(t.substring(i))?(i+=4,null):t.substring(i,i+4)==="true"||vt.BOOL&e&&n-i<4&&"true".startsWith(t.substring(i))?(i+=4,!0):t.substring(i,i+5)==="false"||vt.BOOL&e&&n-i<5&&"false".startsWith(t.substring(i))?(i+=5,!1):t.substring(i,i+8)==="Infinity"||vt.INFINITY&e&&n-i<8&&"Infinity".startsWith(t.substring(i))?(i+=8,1/0):t.substring(i,i+9)==="-Infinity"||vt.MINUS_INFINITY&e&&1<n-i&&n-i<9&&"-Infinity".startsWith(t.substring(i))?(i+=9,-1/0):t.substring(i,i+3)==="NaN"||vt.NAN&e&&n-i<3&&"NaN".startsWith(t.substring(i))?(i+=3,NaN):v()),f=()=>{const S=i;let T=!1;for(i++;i<n&&(t[i]!=='"'||T&&t[i-1]==="\\");)T=t[i]==="\\"?!T:!1,i++;if(t.charAt(i)=='"')try{return JSON.parse(t.substring(S,++i-Number(T)))}catch(A){a(String(A))}else if(vt.STR&e)try{return JSON.parse(t.substring(S,i-Number(T))+'"')}catch{return JSON.parse(t.substring(S,t.lastIndexOf("\\"))+'"')}s("Unterminated string literal")},p=()=>{i++,_();const S={};try{for(;t[i]!=="}";){if(_(),i>=n&&vt.OBJ&e)return S;const T=f();_(),i++;try{const A=u();Object.defineProperty(S,T,{value:A,writable:!0,enumerable:!0,configurable:!0})}catch(A){if(vt.OBJ&e)return S;throw A}_(),t[i]===","&&i++}}catch{if(vt.OBJ&e)return S;s("Expected '}' at end of object")}return i++,S},h=()=>{i++;const S=[];try{for(;t[i]!=="]";)S.push(u()),_(),t[i]===","&&i++}catch{if(vt.ARR&e)return S;s("Expected ']' at end of array")}return i++,S},v=()=>{if(i===0){t==="-"&&vt.NUM&e&&s("Not sure what '-' is");try{return JSON.parse(t)}catch(T){if(vt.NUM&e)try{return t[t.length-1]==="."?JSON.parse(t.substring(0,t.lastIndexOf("."))):JSON.parse(t.substring(0,t.lastIndexOf("e")))}catch{}a(String(T))}}const S=i;for(t[i]==="-"&&i++;t[i]&&!",]}".includes(t[i]);)i++;i==n&&!(vt.NUM&e)&&s("Unterminated number literal");try{return JSON.parse(t.substring(S,i))}catch{t.substring(S,i)==="-"&&vt.NUM&e&&s("Not sure what '-' is");try{return JSON.parse(t.substring(S,t.lastIndexOf("e")))}catch(A){a(String(A))}}},_=()=>{for(;i<n&&` 
\r	`.includes(t[i]);)i++};return u()},tb=t=>Eq(t,vt.ALL^vt.NUM);var ht,xi,ls,_o,Pp,gc,Lp,kp,Bp,vc,Hp,nb;class hl extends pR{constructor(e){super(),ht.add(this),xi.set(this,void 0),ls.set(this,void 0),_o.set(this,void 0),_e(this,xi,e),_e(this,ls,[])}get currentChatCompletionSnapshot(){return G(this,_o,"f")}static fromReadableStream(e){const n=new hl(null);return n._run(()=>n._fromReadableStream(e)),n}static createChatCompletion(e,n,i){const s=new hl(n);return s._run(()=>s._runChatCompletion(e,{...n,stream:!0},{...i,headers:{...i?.headers,"X-Stainless-Helper-Method":"stream"}})),s}async _createChatCompletion(e,n,i){super._createChatCompletion;const s=i?.signal;s&&(s.aborted&&this.controller.abort(),s.addEventListener("abort",()=>this.controller.abort())),G(this,ht,"m",Pp).call(this);const a=await e.chat.completions.create({...n,stream:!0},{...i,signal:this.controller.signal});this._connected();for await(const u of a)G(this,ht,"m",Lp).call(this,u);if(a.controller.signal?.aborted)throw new wn;return this._addChatCompletion(G(this,ht,"m",vc).call(this))}async _fromReadableStream(e,n){const i=n?.signal;i&&(i.aborted&&this.controller.abort(),i.addEventListener("abort",()=>this.controller.abort())),G(this,ht,"m",Pp).call(this),this._connected();const s=ni.fromReadableStream(e,this.controller);let a;for await(const u of s)a&&a!==u.id&&this._addChatCompletion(G(this,ht,"m",vc).call(this)),G(this,ht,"m",Lp).call(this,u),a=u.id;if(s.controller.signal?.aborted)throw new wn;return this._addChatCompletion(G(this,ht,"m",vc).call(this))}[(xi=new WeakMap,ls=new WeakMap,_o=new WeakMap,ht=new WeakSet,Pp=function(){this.ended||_e(this,_o,void 0)},gc=function(n){let i=G(this,ls,"f")[n.index];return i||(i={content_done:!1,refusal_done:!1,logprobs_content_done:!1,logprobs_refusal_done:!1,done_tool_calls:new Set,current_tool_call_index:null},G(this,ls,"f")[n.index]=i,i)},Lp=function(n){if(this.ended)return;const i=G(this,ht,"m",nb).call(this,n);this._emit("chunk",n,i);for(const s of n.choices){const a=i.choices[s.index];s.delta.content!=null&&a.message?.role==="assistant"&&a.message?.content&&(this._emit("content",s.delta.content,a.message.content),this._emit("content.delta",{delta:s.delta.content,snapshot:a.message.content,parsed:a.message.parsed})),s.delta.refusal!=null&&a.message?.role==="assistant"&&a.message?.refusal&&this._emit("refusal.delta",{delta:s.delta.refusal,snapshot:a.message.refusal}),s.logprobs?.content!=null&&a.message?.role==="assistant"&&this._emit("logprobs.content.delta",{content:s.logprobs?.content,snapshot:a.logprobs?.content??[]}),s.logprobs?.refusal!=null&&a.message?.role==="assistant"&&this._emit("logprobs.refusal.delta",{refusal:s.logprobs?.refusal,snapshot:a.logprobs?.refusal??[]});const u=G(this,ht,"m",gc).call(this,a);a.finish_reason&&(G(this,ht,"m",Bp).call(this,a),u.current_tool_call_index!=null&&G(this,ht,"m",kp).call(this,a,u.current_tool_call_index));for(const f of s.delta.tool_calls??[])u.current_tool_call_index!==f.index&&(G(this,ht,"m",Bp).call(this,a),u.current_tool_call_index!=null&&G(this,ht,"m",kp).call(this,a,u.current_tool_call_index)),u.current_tool_call_index=f.index;for(const f of s.delta.tool_calls??[]){const p=a.message.tool_calls?.[f.index];p?.type&&(p?.type==="function"?this._emit("tool_calls.function.arguments.delta",{name:p.function?.name,index:f.index,arguments:p.function.arguments,parsed_arguments:p.function.parsed_arguments,arguments_delta:f.function?.arguments??""}):(p?.type,void 0))}}},kp=function(n,i){if(G(this,ht,"m",gc).call(this,n).done_tool_calls.has(i))return;const a=n.message.tool_calls?.[i];if(!a)throw new Error("no tool call snapshot");if(!a.type)throw new Error("tool call snapshot missing `type`");if(a.type==="function"){const u=G(this,xi,"f")?.tools?.find(f=>nf(f)&&f.function.name===a.function.name);this._emit("tool_calls.function.arguments.done",{name:a.function.name,index:i,arguments:a.function.arguments,parsed_arguments:Ol(u)?u.$parseRaw(a.function.arguments):u?.function.strict?JSON.parse(a.function.arguments):null})}else a.type},Bp=function(n){const i=G(this,ht,"m",gc).call(this,n);if(n.message.content&&!i.content_done){i.content_done=!0;const s=G(this,ht,"m",Hp).call(this);this._emit("content.done",{content:n.message.content,parsed:s?s.$parseRaw(n.message.content):null})}n.message.refusal&&!i.refusal_done&&(i.refusal_done=!0,this._emit("refusal.done",{refusal:n.message.refusal})),n.logprobs?.content&&!i.logprobs_content_done&&(i.logprobs_content_done=!0,this._emit("logprobs.content.done",{content:n.logprobs.content})),n.logprobs?.refusal&&!i.logprobs_refusal_done&&(i.logprobs_refusal_done=!0,this._emit("logprobs.refusal.done",{refusal:n.logprobs.refusal}))},vc=function(){if(this.ended)throw new me("stream has ended, this shouldn't happen");const n=G(this,_o,"f");if(!n)throw new me("request ended without sending any chunks");return _e(this,_o,void 0),_e(this,ls,[]),bq(n,G(this,xi,"f"))},Hp=function(){const n=G(this,xi,"f")?.response_format;return Og(n)?n:null},nb=function(n){var i,s,a,u;let f=G(this,_o,"f");const{choices:p,...h}=n;f?Object.assign(f,h):f=_e(this,_o,{...h,choices:[]});for(const{delta:v,finish_reason:_,index:S,logprobs:T=null,...A}of n.choices){let w=f.choices[S];if(w||(w=f.choices[S]={finish_reason:_,index:S,message:{},logprobs:T,...A}),T)if(!w.logprobs)w.logprobs=Object.assign({},T);else{const{content:$,refusal:V,...W}=T;Object.assign(w.logprobs,W),$&&((i=w.logprobs).content??(i.content=[]),w.logprobs.content.push(...$)),V&&((s=w.logprobs).refusal??(s.refusal=[]),w.logprobs.refusal.push(...V))}if(_&&(w.finish_reason=_,G(this,xi,"f")&&lR(G(this,xi,"f")))){if(_==="length")throw new $w;if(_==="content_filter")throw new Fw}if(Object.assign(w,A),!v)continue;const{content:R,refusal:D,function_call:U,role:O,tool_calls:L,...z}=v;if(Object.assign(w.message,z),D&&(w.message.refusal=(w.message.refusal||"")+D),O&&(w.message.role=O),U&&(w.message.function_call?(U.name&&(w.message.function_call.name=U.name),U.arguments&&((a=w.message.function_call).arguments??(a.arguments=""),w.message.function_call.arguments+=U.arguments)):w.message.function_call=U),R&&(w.message.content=(w.message.content||"")+R,!w.message.refusal&&G(this,ht,"m",Hp).call(this)&&(w.message.parsed=tb(w.message.content))),L){w.message.tool_calls||(w.message.tool_calls=[]);for(const{index:$,id:V,type:W,function:Q,...te}of L){const ee=(u=w.message.tool_calls)[$]??(u[$]={});Object.assign(ee,te),V&&(ee.id=V),W&&(ee.type=W),Q&&(ee.function??(ee.function={name:Q.name??"",arguments:""})),Q?.name&&(ee.function.name=Q.name),Q?.arguments&&(ee.function.arguments+=Q.arguments,pq(G(this,xi,"f"),ee)&&(ee.function.parsed_arguments=tb(ee.function.arguments)))}}}return f},Symbol.asyncIterator)](){const e=[],n=[];let i=!1;return this.on("chunk",s=>{const a=n.shift();a?a.resolve(s):e.push(s)}),this.on("end",()=>{i=!0;for(const s of n)s.resolve(void 0);n.length=0}),this.on("abort",s=>{i=!0;for(const a of n)a.reject(s);n.length=0}),this.on("error",s=>{i=!0;for(const a of n)a.reject(s);n.length=0}),{next:async()=>e.length?{value:e.shift(),done:!1}:i?{value:void 0,done:!0}:new Promise((a,u)=>n.push({resolve:a,reject:u})).then(a=>a?{value:a,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}toReadableStream(){return new ni(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}}function bq(t,e){const{id:n,choices:i,created:s,model:a,system_fingerprint:u,...f}=t,p={...f,id:n,choices:i.map(({message:h,finish_reason:v,index:_,logprobs:S,...T})=>{if(!v)throw new me(`missing finish_reason for choice ${_}`);const{content:A=null,function_call:w,tool_calls:R,...D}=h,U=h.role;if(!U)throw new me(`missing role for choice ${_}`);if(w){const{arguments:O,name:L}=w;if(O==null)throw new me(`missing function_call.arguments for choice ${_}`);if(!L)throw new me(`missing function_call.name for choice ${_}`);return{...T,message:{content:A,function_call:{arguments:O,name:L},role:U,refusal:h.refusal??null},finish_reason:v,index:_,logprobs:S}}return R?{...T,index:_,finish_reason:v,logprobs:S,message:{...D,role:U,content:A,refusal:h.refusal??null,tool_calls:R.map((O,L)=>{const{function:z,type:$,id:V,...W}=O,{arguments:Q,name:te,...ee}=z||{};if(V==null)throw new me(`missing choices[${_}].tool_calls[${L}].id
${yc(t)}`);if($==null)throw new me(`missing choices[${_}].tool_calls[${L}].type
${yc(t)}`);if(te==null)throw new me(`missing choices[${_}].tool_calls[${L}].function.name
${yc(t)}`);if(Q==null)throw new me(`missing choices[${_}].tool_calls[${L}].function.arguments
${yc(t)}`);return{...W,id:V,type:$,function:{...ee,name:te,arguments:Q}}})}}:{...T,message:{...D,content:A,role:U,refusal:h.refusal??null},finish_reason:v,index:_,logprobs:S}}),created:s,model:a,object:"chat.completion",...u?{system_fingerprint:u}:{}};return fq(p,e)}function yc(t){return JSON.stringify(t)}class lf extends hl{static fromReadableStream(e){const n=new lf(null);return n._run(()=>n._fromReadableStream(e)),n}static runTools(e,n,i){const s=new lf(n),a={...i,headers:{...i?.headers,"X-Stainless-Helper-Method":"runTools"}};return s._run(()=>s._runTools(e,n,a)),s}}let kg=class extends he{constructor(){super(...arguments),this.messages=new aR(this._client)}create(e,n){return this._client.post("/chat/completions",{body:e,...n,stream:e.stream??!1})}retrieve(e,n){return this._client.get(j`/chat/completions/${e}`,n)}update(e,n,i){return this._client.post(j`/chat/completions/${e}`,{body:n,...i})}list(e={},n){return this._client.getAPIList("/chat/completions",ft,{query:e,...n})}delete(e,n){return this._client.delete(j`/chat/completions/${e}`,n)}parse(e,n){return mq(e.tools),this._client.chat.completions.create(e,{...n,headers:{...n?.headers,"X-Stainless-Helper-Method":"chat.completions.parse"}})._thenUnwrap(i=>Ug(i,e))}runTools(e,n){return e.stream?lf.runTools(this._client,e,n):Lg.runTools(this._client,e,n)}stream(e,n){return hl.createChatCompletion(this._client,e,n)}};kg.Messages=aR;class Bg extends he{constructor(){super(...arguments),this.completions=new kg(this._client)}}Bg.Completions=kg;const xR=Symbol("brand.privateNullableHeaders");function*Aq(t){if(!t)return;if(xR in t){const{values:i,nulls:s}=t;yield*i.entries();for(const a of s)yield[a,null];return}let e=!1,n;t instanceof Headers?n=t.entries():VT(t)?n=t:(e=!0,n=Object.entries(t??{}));for(let i of n){const s=i[0];if(typeof s!="string")throw new TypeError("expected header name to be a string");const a=VT(i[1])?i[1]:[i[1]];let u=!1;for(const f of a)f!==void 0&&(e&&!u&&(u=!0,yield[s,null]),yield[s,f])}}const ue=t=>{const e=new Headers,n=new Set;for(const i of t){const s=new Set;for(const[a,u]of Aq(i)){const f=a.toLowerCase();s.has(f)||(e.delete(a),s.add(f)),u===null?(e.delete(a),n.add(f)):(e.append(a,u),n.delete(f))}}return{[xR]:!0,values:e,nulls:n}};class MR extends he{create(e,n){return this._client.post("/audio/speech",{body:e,...n,headers:ue([{Accept:"application/octet-stream"},n?.headers]),__binaryResponse:!0})}}class NR extends he{create(e,n){return this._client.post("/audio/transcriptions",mr({body:e,...n,stream:e.stream??!1,__metadata:{model:e.model}},this._client))}}class IR extends he{create(e,n){return this._client.post("/audio/translations",mr({body:e,...n,__metadata:{model:e.model}},this._client))}}class Ul extends he{constructor(){super(...arguments),this.transcriptions=new NR(this._client),this.translations=new IR(this._client),this.speech=new MR(this._client)}}Ul.Transcriptions=NR;Ul.Translations=IR;Ul.Speech=MR;class DR extends he{create(e,n){return this._client.post("/batches",{body:e,...n})}retrieve(e,n){return this._client.get(j`/batches/${e}`,n)}list(e={},n){return this._client.getAPIList("/batches",ft,{query:e,...n})}cancel(e,n){return this._client.post(j`/batches/${e}/cancel`,n)}}class OR extends he{create(e,n){return this._client.post("/assistants",{body:e,...n,headers:ue([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}retrieve(e,n){return this._client.get(j`/assistants/${e}`,{...n,headers:ue([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}update(e,n,i){return this._client.post(j`/assistants/${e}`,{body:n,...i,headers:ue([{"OpenAI-Beta":"assistants=v2"},i?.headers])})}list(e={},n){return this._client.getAPIList("/assistants",ft,{query:e,...n,headers:ue([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}delete(e,n){return this._client.delete(j`/assistants/${e}`,{...n,headers:ue([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}}let UR=class extends he{create(e,n){return this._client.post("/realtime/sessions",{body:e,...n,headers:ue([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}};class PR extends he{create(e,n){return this._client.post("/realtime/transcription_sessions",{body:e,...n,headers:ue([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}}let Lf=class extends he{constructor(){super(...arguments),this.sessions=new UR(this._client),this.transcriptionSessions=new PR(this._client)}};Lf.Sessions=UR;Lf.TranscriptionSessions=PR;class LR extends he{create(e,n){return this._client.post("/chatkit/sessions",{body:e,...n,headers:ue([{"OpenAI-Beta":"chatkit_beta=v1"},n?.headers])})}cancel(e,n){return this._client.post(j`/chatkit/sessions/${e}/cancel`,{...n,headers:ue([{"OpenAI-Beta":"chatkit_beta=v1"},n?.headers])})}}let kR=class extends he{retrieve(e,n){return this._client.get(j`/chatkit/threads/${e}`,{...n,headers:ue([{"OpenAI-Beta":"chatkit_beta=v1"},n?.headers])})}list(e={},n){return this._client.getAPIList("/chatkit/threads",tf,{query:e,...n,headers:ue([{"OpenAI-Beta":"chatkit_beta=v1"},n?.headers])})}delete(e,n){return this._client.delete(j`/chatkit/threads/${e}`,{...n,headers:ue([{"OpenAI-Beta":"chatkit_beta=v1"},n?.headers])})}listItems(e,n={},i){return this._client.getAPIList(j`/chatkit/threads/${e}/items`,tf,{query:n,...i,headers:ue([{"OpenAI-Beta":"chatkit_beta=v1"},i?.headers])})}};class kf extends he{constructor(){super(...arguments),this.sessions=new LR(this._client),this.threads=new kR(this._client)}}kf.Sessions=LR;kf.Threads=kR;class BR extends he{create(e,n,i){return this._client.post(j`/threads/${e}/messages`,{body:n,...i,headers:ue([{"OpenAI-Beta":"assistants=v2"},i?.headers])})}retrieve(e,n,i){const{thread_id:s}=n;return this._client.get(j`/threads/${s}/messages/${e}`,{...i,headers:ue([{"OpenAI-Beta":"assistants=v2"},i?.headers])})}update(e,n,i){const{thread_id:s,...a}=n;return this._client.post(j`/threads/${s}/messages/${e}`,{body:a,...i,headers:ue([{"OpenAI-Beta":"assistants=v2"},i?.headers])})}list(e,n={},i){return this._client.getAPIList(j`/threads/${e}/messages`,ft,{query:n,...i,headers:ue([{"OpenAI-Beta":"assistants=v2"},i?.headers])})}delete(e,n,i){const{thread_id:s}=n;return this._client.delete(j`/threads/${s}/messages/${e}`,{...i,headers:ue([{"OpenAI-Beta":"assistants=v2"},i?.headers])})}}class HR extends he{retrieve(e,n,i){const{thread_id:s,run_id:a,...u}=n;return this._client.get(j`/threads/${s}/runs/${a}/steps/${e}`,{query:u,...i,headers:ue([{"OpenAI-Beta":"assistants=v2"},i?.headers])})}list(e,n,i){const{thread_id:s,...a}=n;return this._client.getAPIList(j`/threads/${s}/runs/${e}/steps`,ft,{query:a,...i,headers:ue([{"OpenAI-Beta":"assistants=v2"},i?.headers])})}}const Cq=t=>{if(typeof Buffer<"u"){const e=Buffer.from(t,"base64");return Array.from(new Float32Array(e.buffer,e.byteOffset,e.length/Float32Array.BYTES_PER_ELEMENT))}else{const e=atob(t),n=e.length,i=new Uint8Array(n);for(let s=0;s<n;s++)i[s]=e.charCodeAt(s);return Array.from(new Float32Array(i.buffer))}};var wq={};const us=t=>{if(typeof globalThis.process<"u")return wq?.[t]?.trim()??void 0;if(typeof globalThis.Deno<"u")return globalThis.Deno.env?.get?.(t)?.trim()};var xt,ir,Lm,ei,Dc,kn,or,Es,nr,uf,an,Oc,Uc,rl,Wa,Za,ib,ob,rb,sb,ab,lb,ub;class sl extends Pg{constructor(){super(...arguments),xt.add(this),Lm.set(this,[]),ei.set(this,{}),Dc.set(this,{}),kn.set(this,void 0),or.set(this,void 0),Es.set(this,void 0),nr.set(this,void 0),uf.set(this,void 0),an.set(this,void 0),Oc.set(this,void 0),Uc.set(this,void 0),rl.set(this,void 0)}[(Lm=new WeakMap,ei=new WeakMap,Dc=new WeakMap,kn=new WeakMap,or=new WeakMap,Es=new WeakMap,nr=new WeakMap,uf=new WeakMap,an=new WeakMap,Oc=new WeakMap,Uc=new WeakMap,rl=new WeakMap,xt=new WeakSet,Symbol.asyncIterator)](){const e=[],n=[];let i=!1;return this.on("event",s=>{const a=n.shift();a?a.resolve(s):e.push(s)}),this.on("end",()=>{i=!0;for(const s of n)s.resolve(void 0);n.length=0}),this.on("abort",s=>{i=!0;for(const a of n)a.reject(s);n.length=0}),this.on("error",s=>{i=!0;for(const a of n)a.reject(s);n.length=0}),{next:async()=>e.length?{value:e.shift(),done:!1}:i?{value:void 0,done:!0}:new Promise((a,u)=>n.push({resolve:a,reject:u})).then(a=>a?{value:a,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}static fromReadableStream(e){const n=new ir;return n._run(()=>n._fromReadableStream(e)),n}async _fromReadableStream(e,n){const i=n?.signal;i&&(i.aborted&&this.controller.abort(),i.addEventListener("abort",()=>this.controller.abort())),this._connected();const s=ni.fromReadableStream(e,this.controller);for await(const a of s)G(this,xt,"m",Wa).call(this,a);if(s.controller.signal?.aborted)throw new wn;return this._addRun(G(this,xt,"m",Za).call(this))}toReadableStream(){return new ni(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}static createToolAssistantStream(e,n,i,s){const a=new ir;return a._run(()=>a._runToolAssistantStream(e,n,i,{...s,headers:{...s?.headers,"X-Stainless-Helper-Method":"stream"}})),a}async _createToolAssistantStream(e,n,i,s){const a=s?.signal;a&&(a.aborted&&this.controller.abort(),a.addEventListener("abort",()=>this.controller.abort()));const u={...i,stream:!0},f=await e.submitToolOutputs(n,u,{...s,signal:this.controller.signal});this._connected();for await(const p of f)G(this,xt,"m",Wa).call(this,p);if(f.controller.signal?.aborted)throw new wn;return this._addRun(G(this,xt,"m",Za).call(this))}static createThreadAssistantStream(e,n,i){const s=new ir;return s._run(()=>s._threadAssistantStream(e,n,{...i,headers:{...i?.headers,"X-Stainless-Helper-Method":"stream"}})),s}static createAssistantStream(e,n,i,s){const a=new ir;return a._run(()=>a._runAssistantStream(e,n,i,{...s,headers:{...s?.headers,"X-Stainless-Helper-Method":"stream"}})),a}currentEvent(){return G(this,Oc,"f")}currentRun(){return G(this,Uc,"f")}currentMessageSnapshot(){return G(this,kn,"f")}currentRunStepSnapshot(){return G(this,rl,"f")}async finalRunSteps(){return await this.done(),Object.values(G(this,ei,"f"))}async finalMessages(){return await this.done(),Object.values(G(this,Dc,"f"))}async finalRun(){if(await this.done(),!G(this,or,"f"))throw Error("Final run was not received.");return G(this,or,"f")}async _createThreadAssistantStream(e,n,i){const s=i?.signal;s&&(s.aborted&&this.controller.abort(),s.addEventListener("abort",()=>this.controller.abort()));const a={...n,stream:!0},u=await e.createAndRun(a,{...i,signal:this.controller.signal});this._connected();for await(const f of u)G(this,xt,"m",Wa).call(this,f);if(u.controller.signal?.aborted)throw new wn;return this._addRun(G(this,xt,"m",Za).call(this))}async _createAssistantStream(e,n,i,s){const a=s?.signal;a&&(a.aborted&&this.controller.abort(),a.addEventListener("abort",()=>this.controller.abort()));const u={...i,stream:!0},f=await e.create(n,u,{...s,signal:this.controller.signal});this._connected();for await(const p of f)G(this,xt,"m",Wa).call(this,p);if(f.controller.signal?.aborted)throw new wn;return this._addRun(G(this,xt,"m",Za).call(this))}static accumulateDelta(e,n){for(const[i,s]of Object.entries(n)){if(!e.hasOwnProperty(i)){e[i]=s;continue}let a=e[i];if(a==null){e[i]=s;continue}if(i==="index"||i==="type"){e[i]=s;continue}if(typeof a=="string"&&typeof s=="string")a+=s;else if(typeof a=="number"&&typeof s=="number")a+=s;else if(Dp(a)&&Dp(s))a=this.accumulateDelta(a,s);else if(Array.isArray(a)&&Array.isArray(s)){if(a.every(u=>typeof u=="string"||typeof u=="number")){a.push(...s);continue}for(const u of s){if(!Dp(u))throw new Error(`Expected array delta entry to be an object but got: ${u}`);const f=u.index;if(f==null)throw console.error(u),new Error("Expected array delta entry to have an `index` property");if(typeof f!="number")throw new Error(`Expected array delta entry \`index\` property to be a number but got ${f}`);const p=a[f];p==null?a.push(u):a[f]=this.accumulateDelta(p,u)}continue}else throw Error(`Unhandled record type: ${i}, deltaValue: ${s}, accValue: ${a}`);e[i]=a}return e}_addRun(e){return e}async _threadAssistantStream(e,n,i){return await this._createThreadAssistantStream(n,e,i)}async _runAssistantStream(e,n,i,s){return await this._createAssistantStream(n,e,i,s)}async _runToolAssistantStream(e,n,i,s){return await this._createToolAssistantStream(n,e,i,s)}}ir=sl,Wa=function(e){if(!this.ended)switch(_e(this,Oc,e),G(this,xt,"m",rb).call(this,e),e.event){case"thread.created":break;case"thread.run.created":case"thread.run.queued":case"thread.run.in_progress":case"thread.run.requires_action":case"thread.run.completed":case"thread.run.incomplete":case"thread.run.failed":case"thread.run.cancelling":case"thread.run.cancelled":case"thread.run.expired":G(this,xt,"m",ub).call(this,e);break;case"thread.run.step.created":case"thread.run.step.in_progress":case"thread.run.step.delta":case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":G(this,xt,"m",ob).call(this,e);break;case"thread.message.created":case"thread.message.in_progress":case"thread.message.delta":case"thread.message.completed":case"thread.message.incomplete":G(this,xt,"m",ib).call(this,e);break;case"error":throw new Error("Encountered an error event in event processing - errors should be processed earlier")}},Za=function(){if(this.ended)throw new me("stream has ended, this shouldn't happen");if(!G(this,or,"f"))throw Error("Final run has not been received");return G(this,or,"f")},ib=function(e){const[n,i]=G(this,xt,"m",ab).call(this,e,G(this,kn,"f"));_e(this,kn,n),G(this,Dc,"f")[n.id]=n;for(const s of i){const a=n.content[s.index];a?.type=="text"&&this._emit("textCreated",a.text)}switch(e.event){case"thread.message.created":this._emit("messageCreated",e.data);break;case"thread.message.in_progress":break;case"thread.message.delta":if(this._emit("messageDelta",e.data.delta,n),e.data.delta.content)for(const s of e.data.delta.content){if(s.type=="text"&&s.text){let a=s.text,u=n.content[s.index];if(u&&u.type=="text")this._emit("textDelta",a,u.text);else throw Error("The snapshot associated with this text delta is not text or missing")}if(s.index!=G(this,Es,"f")){if(G(this,nr,"f"))switch(G(this,nr,"f").type){case"text":this._emit("textDone",G(this,nr,"f").text,G(this,kn,"f"));break;case"image_file":this._emit("imageFileDone",G(this,nr,"f").image_file,G(this,kn,"f"));break}_e(this,Es,s.index)}_e(this,nr,n.content[s.index])}break;case"thread.message.completed":case"thread.message.incomplete":if(G(this,Es,"f")!==void 0){const s=e.data.content[G(this,Es,"f")];if(s)switch(s.type){case"image_file":this._emit("imageFileDone",s.image_file,G(this,kn,"f"));break;case"text":this._emit("textDone",s.text,G(this,kn,"f"));break}}G(this,kn,"f")&&this._emit("messageDone",e.data),_e(this,kn,void 0)}},ob=function(e){const n=G(this,xt,"m",sb).call(this,e);switch(_e(this,rl,n),e.event){case"thread.run.step.created":this._emit("runStepCreated",e.data);break;case"thread.run.step.delta":const i=e.data.delta;if(i.step_details&&i.step_details.type=="tool_calls"&&i.step_details.tool_calls&&n.step_details.type=="tool_calls")for(const a of i.step_details.tool_calls)a.index==G(this,uf,"f")?this._emit("toolCallDelta",a,n.step_details.tool_calls[a.index]):(G(this,an,"f")&&this._emit("toolCallDone",G(this,an,"f")),_e(this,uf,a.index),_e(this,an,n.step_details.tool_calls[a.index]),G(this,an,"f")&&this._emit("toolCallCreated",G(this,an,"f")));this._emit("runStepDelta",e.data.delta,n);break;case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":_e(this,rl,void 0),e.data.step_details.type=="tool_calls"&&G(this,an,"f")&&(this._emit("toolCallDone",G(this,an,"f")),_e(this,an,void 0)),this._emit("runStepDone",e.data,n);break}},rb=function(e){G(this,Lm,"f").push(e),this._emit("event",e)},sb=function(e){switch(e.event){case"thread.run.step.created":return G(this,ei,"f")[e.data.id]=e.data,e.data;case"thread.run.step.delta":let n=G(this,ei,"f")[e.data.id];if(!n)throw Error("Received a RunStepDelta before creation of a snapshot");let i=e.data;if(i.delta){const s=ir.accumulateDelta(n,i.delta);G(this,ei,"f")[e.data.id]=s}return G(this,ei,"f")[e.data.id];case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":case"thread.run.step.in_progress":G(this,ei,"f")[e.data.id]=e.data;break}if(G(this,ei,"f")[e.data.id])return G(this,ei,"f")[e.data.id];throw new Error("No snapshot available")},ab=function(e,n){let i=[];switch(e.event){case"thread.message.created":return[e.data,i];case"thread.message.delta":if(!n)throw Error("Received a delta with no existing snapshot (there should be one from message creation)");let s=e.data;if(s.delta.content)for(const a of s.delta.content)if(a.index in n.content){let u=n.content[a.index];n.content[a.index]=G(this,xt,"m",lb).call(this,a,u)}else n.content[a.index]=a,i.push(a);return[n,i];case"thread.message.in_progress":case"thread.message.completed":case"thread.message.incomplete":if(n)return[n,i];throw Error("Received thread message event with no existing snapshot")}throw Error("Tried to accumulate a non-message event")},lb=function(e,n){return ir.accumulateDelta(n,e)},ub=function(e){switch(_e(this,Uc,e.data),e.event){case"thread.run.created":break;case"thread.run.queued":break;case"thread.run.in_progress":break;case"thread.run.requires_action":case"thread.run.cancelled":case"thread.run.failed":case"thread.run.completed":case"thread.run.expired":case"thread.run.incomplete":_e(this,or,e.data),G(this,an,"f")&&(this._emit("toolCallDone",G(this,an,"f")),_e(this,an,void 0));break}};let Hg=class extends he{constructor(){super(...arguments),this.steps=new HR(this._client)}create(e,n,i){const{include:s,...a}=n;return this._client.post(j`/threads/${e}/runs`,{query:{include:s},body:a,...i,headers:ue([{"OpenAI-Beta":"assistants=v2"},i?.headers]),stream:n.stream??!1})}retrieve(e,n,i){const{thread_id:s}=n;return this._client.get(j`/threads/${s}/runs/${e}`,{...i,headers:ue([{"OpenAI-Beta":"assistants=v2"},i?.headers])})}update(e,n,i){const{thread_id:s,...a}=n;return this._client.post(j`/threads/${s}/runs/${e}`,{body:a,...i,headers:ue([{"OpenAI-Beta":"assistants=v2"},i?.headers])})}list(e,n={},i){return this._client.getAPIList(j`/threads/${e}/runs`,ft,{query:n,...i,headers:ue([{"OpenAI-Beta":"assistants=v2"},i?.headers])})}cancel(e,n,i){const{thread_id:s}=n;return this._client.post(j`/threads/${s}/runs/${e}/cancel`,{...i,headers:ue([{"OpenAI-Beta":"assistants=v2"},i?.headers])})}async createAndPoll(e,n,i){const s=await this.create(e,n,i);return await this.poll(s.id,{thread_id:e},i)}createAndStream(e,n,i){return sl.createAssistantStream(e,this._client.beta.threads.runs,n,i)}async poll(e,n,i){const s=ue([i?.headers,{"X-Stainless-Poll-Helper":"true","X-Stainless-Custom-Poll-Interval":i?.pollIntervalMs?.toString()??void 0}]);for(;;){const{data:a,response:u}=await this.retrieve(e,n,{...i,headers:{...i?.headers,...s}}).withResponse();switch(a.status){case"queued":case"in_progress":case"cancelling":let f=5e3;if(i?.pollIntervalMs)f=i.pollIntervalMs;else{const p=u.headers.get("openai-poll-after-ms");if(p){const h=parseInt(p);isNaN(h)||(f=h)}}await Dl(f);break;case"requires_action":case"incomplete":case"cancelled":case"completed":case"failed":case"expired":return a}}}stream(e,n,i){return sl.createAssistantStream(e,this._client.beta.threads.runs,n,i)}submitToolOutputs(e,n,i){const{thread_id:s,...a}=n;return this._client.post(j`/threads/${s}/runs/${e}/submit_tool_outputs`,{body:a,...i,headers:ue([{"OpenAI-Beta":"assistants=v2"},i?.headers]),stream:n.stream??!1})}async submitToolOutputsAndPoll(e,n,i){const s=await this.submitToolOutputs(e,n,i);return await this.poll(s.id,n,i)}submitToolOutputsStream(e,n,i){return sl.createToolAssistantStream(e,this._client.beta.threads.runs,n,i)}};Hg.Steps=HR;class Bf extends he{constructor(){super(...arguments),this.runs=new Hg(this._client),this.messages=new BR(this._client)}create(e={},n){return this._client.post("/threads",{body:e,...n,headers:ue([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}retrieve(e,n){return this._client.get(j`/threads/${e}`,{...n,headers:ue([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}update(e,n,i){return this._client.post(j`/threads/${e}`,{body:n,...i,headers:ue([{"OpenAI-Beta":"assistants=v2"},i?.headers])})}delete(e,n){return this._client.delete(j`/threads/${e}`,{...n,headers:ue([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}createAndRun(e,n){return this._client.post("/threads/runs",{body:e,...n,headers:ue([{"OpenAI-Beta":"assistants=v2"},n?.headers]),stream:e.stream??!1})}async createAndRunPoll(e,n){const i=await this.createAndRun(e,n);return await this.runs.poll(i.id,{thread_id:i.thread_id},n)}createAndRunStream(e,n){return sl.createThreadAssistantStream(e,this._client.beta.threads,n)}}Bf.Runs=Hg;Bf.Messages=BR;class Bs extends he{constructor(){super(...arguments),this.realtime=new Lf(this._client),this.chatkit=new kf(this._client),this.assistants=new OR(this._client),this.threads=new Bf(this._client)}}Bs.Realtime=Lf;Bs.ChatKit=kf;Bs.Assistants=OR;Bs.Threads=Bf;class VR extends he{create(e,n){return this._client.post("/completions",{body:e,...n,stream:e.stream??!1})}}class GR extends he{retrieve(e,n,i){const{container_id:s}=n;return this._client.get(j`/containers/${s}/files/${e}/content`,{...i,headers:ue([{Accept:"application/binary"},i?.headers]),__binaryResponse:!0})}}let Vg=class extends he{constructor(){super(...arguments),this.content=new GR(this._client)}create(e,n,i){return this._client.post(j`/containers/${e}/files`,mr({body:n,...i},this._client))}retrieve(e,n,i){const{container_id:s}=n;return this._client.get(j`/containers/${s}/files/${e}`,i)}list(e,n={},i){return this._client.getAPIList(j`/containers/${e}/files`,ft,{query:n,...i})}delete(e,n,i){const{container_id:s}=n;return this._client.delete(j`/containers/${s}/files/${e}`,{...i,headers:ue([{Accept:"*/*"},i?.headers])})}};Vg.Content=GR;class Gg extends he{constructor(){super(...arguments),this.files=new Vg(this._client)}create(e,n){return this._client.post("/containers",{body:e,...n})}retrieve(e,n){return this._client.get(j`/containers/${e}`,n)}list(e={},n){return this._client.getAPIList("/containers",ft,{query:e,...n})}delete(e,n){return this._client.delete(j`/containers/${e}`,{...n,headers:ue([{Accept:"*/*"},n?.headers])})}}Gg.Files=Vg;class qR extends he{create(e,n,i){const{include:s,...a}=n;return this._client.post(j`/conversations/${e}/items`,{query:{include:s},body:a,...i})}retrieve(e,n,i){const{conversation_id:s,...a}=n;return this._client.get(j`/conversations/${s}/items/${e}`,{query:a,...i})}list(e,n={},i){return this._client.getAPIList(j`/conversations/${e}/items`,tf,{query:n,...i})}delete(e,n,i){const{conversation_id:s}=n;return this._client.delete(j`/conversations/${s}/items/${e}`,i)}}class qg extends he{constructor(){super(...arguments),this.items=new qR(this._client)}create(e={},n){return this._client.post("/conversations",{body:e,...n})}retrieve(e,n){return this._client.get(j`/conversations/${e}`,n)}update(e,n,i){return this._client.post(j`/conversations/${e}`,{body:n,...i})}delete(e,n){return this._client.delete(j`/conversations/${e}`,n)}}qg.Items=qR;class $R extends he{create(e,n){const i=!!e.encoding_format;let s=i?e.encoding_format:"base64";i&&Rt(this._client).debug("embeddings/user defined encoding_format:",e.encoding_format);const a=this._client.post("/embeddings",{body:{...e,encoding_format:s},...n});return i?a:(Rt(this._client).debug("embeddings/decoding base64 embeddings from base64"),a._thenUnwrap(u=>(u&&u.data&&u.data.forEach(f=>{const p=f.embedding;f.embedding=Cq(p)}),u)))}}class FR extends he{retrieve(e,n,i){const{eval_id:s,run_id:a}=n;return this._client.get(j`/evals/${s}/runs/${a}/output_items/${e}`,i)}list(e,n,i){const{eval_id:s,...a}=n;return this._client.getAPIList(j`/evals/${s}/runs/${e}/output_items`,ft,{query:a,...i})}}class $g extends he{constructor(){super(...arguments),this.outputItems=new FR(this._client)}create(e,n,i){return this._client.post(j`/evals/${e}/runs`,{body:n,...i})}retrieve(e,n,i){const{eval_id:s}=n;return this._client.get(j`/evals/${s}/runs/${e}`,i)}list(e,n={},i){return this._client.getAPIList(j`/evals/${e}/runs`,ft,{query:n,...i})}delete(e,n,i){const{eval_id:s}=n;return this._client.delete(j`/evals/${s}/runs/${e}`,i)}cancel(e,n,i){const{eval_id:s}=n;return this._client.post(j`/evals/${s}/runs/${e}`,i)}}$g.OutputItems=FR;class Fg extends he{constructor(){super(...arguments),this.runs=new $g(this._client)}create(e,n){return this._client.post("/evals",{body:e,...n})}retrieve(e,n){return this._client.get(j`/evals/${e}`,n)}update(e,n,i){return this._client.post(j`/evals/${e}`,{body:n,...i})}list(e={},n){return this._client.getAPIList("/evals",ft,{query:e,...n})}delete(e,n){return this._client.delete(j`/evals/${e}`,n)}}Fg.Runs=$g;let zR=class extends he{create(e,n){return this._client.post("/files",mr({body:e,...n},this._client))}retrieve(e,n){return this._client.get(j`/files/${e}`,n)}list(e={},n){return this._client.getAPIList("/files",ft,{query:e,...n})}delete(e,n){return this._client.delete(j`/files/${e}`,n)}content(e,n){return this._client.get(j`/files/${e}/content`,{...n,headers:ue([{Accept:"application/binary"},n?.headers]),__binaryResponse:!0})}async waitForProcessing(e,{pollInterval:n=5e3,maxWait:i=1800*1e3}={}){const s=new Set(["processed","error","deleted"]),a=Date.now();let u=await this.retrieve(e);for(;!u.status||!s.has(u.status);)if(await Dl(n),u=await this.retrieve(e),Date.now()-a>i)throw new Mg({message:`Giving up on waiting for file ${e} to finish processing after ${i} milliseconds.`});return u}};class JR extends he{}let YR=class extends he{run(e,n){return this._client.post("/fine_tuning/alpha/graders/run",{body:e,...n})}validate(e,n){return this._client.post("/fine_tuning/alpha/graders/validate",{body:e,...n})}};class zg extends he{constructor(){super(...arguments),this.graders=new YR(this._client)}}zg.Graders=YR;class KR extends he{create(e,n,i){return this._client.getAPIList(j`/fine_tuning/checkpoints/${e}/permissions`,Pf,{body:n,method:"post",...i})}retrieve(e,n={},i){return this._client.get(j`/fine_tuning/checkpoints/${e}/permissions`,{query:n,...i})}delete(e,n,i){const{fine_tuned_model_checkpoint:s}=n;return this._client.delete(j`/fine_tuning/checkpoints/${s}/permissions/${e}`,i)}}let Jg=class extends he{constructor(){super(...arguments),this.permissions=new KR(this._client)}};Jg.Permissions=KR;class XR extends he{list(e,n={},i){return this._client.getAPIList(j`/fine_tuning/jobs/${e}/checkpoints`,ft,{query:n,...i})}}class Yg extends he{constructor(){super(...arguments),this.checkpoints=new XR(this._client)}create(e,n){return this._client.post("/fine_tuning/jobs",{body:e,...n})}retrieve(e,n){return this._client.get(j`/fine_tuning/jobs/${e}`,n)}list(e={},n){return this._client.getAPIList("/fine_tuning/jobs",ft,{query:e,...n})}cancel(e,n){return this._client.post(j`/fine_tuning/jobs/${e}/cancel`,n)}listEvents(e,n={},i){return this._client.getAPIList(j`/fine_tuning/jobs/${e}/events`,ft,{query:n,...i})}pause(e,n){return this._client.post(j`/fine_tuning/jobs/${e}/pause`,n)}resume(e,n){return this._client.post(j`/fine_tuning/jobs/${e}/resume`,n)}}Yg.Checkpoints=XR;class Hs extends he{constructor(){super(...arguments),this.methods=new JR(this._client),this.jobs=new Yg(this._client),this.checkpoints=new Jg(this._client),this.alpha=new zg(this._client)}}Hs.Methods=JR;Hs.Jobs=Yg;Hs.Checkpoints=Jg;Hs.Alpha=zg;class QR extends he{}class Kg extends he{constructor(){super(...arguments),this.graderModels=new QR(this._client)}}Kg.GraderModels=QR;class WR extends he{createVariation(e,n){return this._client.post("/images/variations",mr({body:e,...n},this._client))}edit(e,n){return this._client.post("/images/edits",mr({body:e,...n,stream:e.stream??!1},this._client))}generate(e,n){return this._client.post("/images/generations",{body:e,...n,stream:e.stream??!1})}}class ZR extends he{retrieve(e,n){return this._client.get(j`/models/${e}`,n)}list(e){return this._client.getAPIList("/models",Pf,e)}delete(e,n){return this._client.delete(j`/models/${e}`,n)}}class jR extends he{create(e,n){return this._client.post("/moderations",{body:e,...n})}}class ex extends he{accept(e,n,i){return this._client.post(j`/realtime/calls/${e}/accept`,{body:n,...i,headers:ue([{Accept:"*/*"},i?.headers])})}hangup(e,n){return this._client.post(j`/realtime/calls/${e}/hangup`,{...n,headers:ue([{Accept:"*/*"},n?.headers])})}refer(e,n,i){return this._client.post(j`/realtime/calls/${e}/refer`,{body:n,...i,headers:ue([{Accept:"*/*"},i?.headers])})}reject(e,n={},i){return this._client.post(j`/realtime/calls/${e}/reject`,{body:n,...i,headers:ue([{Accept:"*/*"},i?.headers])})}}class tx extends he{create(e,n){return this._client.post("/realtime/client_secrets",{body:e,...n})}}class Hf extends he{constructor(){super(...arguments),this.clientSecrets=new tx(this._client),this.calls=new ex(this._client)}}Hf.ClientSecrets=tx;Hf.Calls=ex;function Rq(t,e){return!e||!Mq(e)?{...t,output_parsed:null,output:t.output.map(n=>n.type==="function_call"?{...n,parsed_arguments:null}:n.type==="message"?{...n,content:n.content.map(i=>({...i,parsed:null}))}:n)}:nx(t,e)}function nx(t,e){const n=t.output.map(s=>{if(s.type==="function_call")return{...s,parsed_arguments:Dq(e,s)};if(s.type==="message"){const a=s.content.map(u=>u.type==="output_text"?{...u,parsed:xq(e,u.text)}:u);return{...s,content:a}}return s}),i=Object.assign({},t,{output:n});return Object.getOwnPropertyDescriptor(t,"output_text")||km(i),Object.defineProperty(i,"output_parsed",{enumerable:!0,get(){for(const s of i.output)if(s.type==="message"){for(const a of s.content)if(a.type==="output_text"&&a.parsed!==null)return a.parsed}return null}}),i}function xq(t,e){return t.text?.format?.type!=="json_schema"?null:"$parseRaw"in t.text?.format?(t.text?.format).$parseRaw(e):JSON.parse(e)}function Mq(t){return!!Og(t.text?.format)}function Nq(t){return t?.$brand==="auto-parseable-tool"}function Iq(t,e){return t.find(n=>n.type==="function"&&n.name===e)}function Dq(t,e){const n=Iq(t.tools??[],e.name);return{...e,...e,parsed_arguments:Nq(n)?n.$parseRaw(e.arguments):n?.strict?JSON.parse(e.arguments):null}}function km(t){const e=[];for(const n of t.output)if(n.type==="message")for(const i of n.content)i.type==="output_text"&&e.push(i.text);t.output_text=e.join("")}var cs,_c,So,Sc,cb,fb,db,hb;class Xg extends Pg{constructor(e){super(),cs.add(this),_c.set(this,void 0),So.set(this,void 0),Sc.set(this,void 0),_e(this,_c,e)}static createResponse(e,n,i){const s=new Xg(n);return s._run(()=>s._createOrRetrieveResponse(e,n,{...i,headers:{...i?.headers,"X-Stainless-Helper-Method":"stream"}})),s}async _createOrRetrieveResponse(e,n,i){const s=i?.signal;s&&(s.aborted&&this.controller.abort(),s.addEventListener("abort",()=>this.controller.abort())),G(this,cs,"m",cb).call(this);let a,u=null;"response_id"in n?(a=await e.responses.retrieve(n.response_id,{stream:!0},{...i,signal:this.controller.signal,stream:!0}),u=n.starting_after??null):a=await e.responses.create({...n,stream:!0},{...i,signal:this.controller.signal}),this._connected();for await(const f of a)G(this,cs,"m",fb).call(this,f,u);if(a.controller.signal?.aborted)throw new wn;return G(this,cs,"m",db).call(this)}[(_c=new WeakMap,So=new WeakMap,Sc=new WeakMap,cs=new WeakSet,cb=function(){this.ended||_e(this,So,void 0)},fb=function(n,i){if(this.ended)return;const s=(u,f)=>{(i==null||f.sequence_number>i)&&this._emit(u,f)},a=G(this,cs,"m",hb).call(this,n);switch(s("event",n),n.type){case"response.output_text.delta":{const u=a.output[n.output_index];if(!u)throw new me(`missing output at index ${n.output_index}`);if(u.type==="message"){const f=u.content[n.content_index];if(!f)throw new me(`missing content at index ${n.content_index}`);if(f.type!=="output_text")throw new me(`expected content to be 'output_text', got ${f.type}`);s("response.output_text.delta",{...n,snapshot:f.text})}break}case"response.function_call_arguments.delta":{const u=a.output[n.output_index];if(!u)throw new me(`missing output at index ${n.output_index}`);u.type==="function_call"&&s("response.function_call_arguments.delta",{...n,snapshot:u.arguments});break}default:s(n.type,n);break}},db=function(){if(this.ended)throw new me("stream has ended, this shouldn't happen");const n=G(this,So,"f");if(!n)throw new me("request ended without sending any events");_e(this,So,void 0);const i=Oq(n,G(this,_c,"f"));return _e(this,Sc,i),i},hb=function(n){let i=G(this,So,"f");if(!i){if(n.type!=="response.created")throw new me(`When snapshot hasn't been set yet, expected 'response.created' event, got ${n.type}`);return i=_e(this,So,n.response),i}switch(n.type){case"response.output_item.added":{i.output.push(n.item);break}case"response.content_part.added":{const s=i.output[n.output_index];if(!s)throw new me(`missing output at index ${n.output_index}`);const a=s.type,u=n.part;a==="message"&&u.type!=="reasoning_text"?s.content.push(u):a==="reasoning"&&u.type==="reasoning_text"&&(s.content||(s.content=[]),s.content.push(u));break}case"response.output_text.delta":{const s=i.output[n.output_index];if(!s)throw new me(`missing output at index ${n.output_index}`);if(s.type==="message"){const a=s.content[n.content_index];if(!a)throw new me(`missing content at index ${n.content_index}`);if(a.type!=="output_text")throw new me(`expected content to be 'output_text', got ${a.type}`);a.text+=n.delta}break}case"response.function_call_arguments.delta":{const s=i.output[n.output_index];if(!s)throw new me(`missing output at index ${n.output_index}`);s.type==="function_call"&&(s.arguments+=n.delta);break}case"response.reasoning_text.delta":{const s=i.output[n.output_index];if(!s)throw new me(`missing output at index ${n.output_index}`);if(s.type==="reasoning"){const a=s.content?.[n.content_index];if(!a)throw new me(`missing content at index ${n.content_index}`);if(a.type!=="reasoning_text")throw new me(`expected content to be 'reasoning_text', got ${a.type}`);a.text+=n.delta}break}case"response.completed":{_e(this,So,n.response);break}}return i},Symbol.asyncIterator)](){const e=[],n=[];let i=!1;return this.on("event",s=>{const a=n.shift();a?a.resolve(s):e.push(s)}),this.on("end",()=>{i=!0;for(const s of n)s.resolve(void 0);n.length=0}),this.on("abort",s=>{i=!0;for(const a of n)a.reject(s);n.length=0}),this.on("error",s=>{i=!0;for(const a of n)a.reject(s);n.length=0}),{next:async()=>e.length?{value:e.shift(),done:!1}:i?{value:void 0,done:!0}:new Promise((a,u)=>n.push({resolve:a,reject:u})).then(a=>a?{value:a,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}async finalResponse(){await this.done();const e=G(this,Sc,"f");if(!e)throw new me("stream ended without producing a ChatCompletion");return e}}function Oq(t,e){return Rq(t,e)}class ix extends he{list(e,n={},i){return this._client.getAPIList(j`/responses/${e}/input_items`,ft,{query:n,...i})}}class ox extends he{count(e={},n){return this._client.post("/responses/input_tokens",{body:e,...n})}}class Vf extends he{constructor(){super(...arguments),this.inputItems=new ix(this._client),this.inputTokens=new ox(this._client)}create(e,n){return this._client.post("/responses",{body:e,...n,stream:e.stream??!1})._thenUnwrap(i=>("object"in i&&i.object==="response"&&km(i),i))}retrieve(e,n={},i){return this._client.get(j`/responses/${e}`,{query:n,...i,stream:n?.stream??!1})._thenUnwrap(s=>("object"in s&&s.object==="response"&&km(s),s))}delete(e,n){return this._client.delete(j`/responses/${e}`,{...n,headers:ue([{Accept:"*/*"},n?.headers])})}parse(e,n){return this._client.responses.create(e,n)._thenUnwrap(i=>nx(i,e))}stream(e,n){return Xg.createResponse(this._client,e,n)}cancel(e,n){return this._client.post(j`/responses/${e}/cancel`,n)}compact(e={},n){return this._client.post("/responses/compact",{body:e,...n})}}Vf.InputItems=ix;Vf.InputTokens=ox;class rx extends he{create(e,n,i){return this._client.post(j`/uploads/${e}/parts`,mr({body:n,...i},this._client))}}class Qg extends he{constructor(){super(...arguments),this.parts=new rx(this._client)}create(e,n){return this._client.post("/uploads",{body:e,...n})}cancel(e,n){return this._client.post(j`/uploads/${e}/cancel`,n)}complete(e,n,i){return this._client.post(j`/uploads/${e}/complete`,{body:n,...i})}}Qg.Parts=rx;const Uq=async t=>{const e=await Promise.allSettled(t),n=e.filter(s=>s.status==="rejected");if(n.length){for(const s of n)console.error(s.reason);throw new Error(`${n.length} promise(s) failed - see the above errors`)}const i=[];for(const s of e)s.status==="fulfilled"&&i.push(s.value);return i};class sx extends he{create(e,n,i){return this._client.post(j`/vector_stores/${e}/file_batches`,{body:n,...i,headers:ue([{"OpenAI-Beta":"assistants=v2"},i?.headers])})}retrieve(e,n,i){const{vector_store_id:s}=n;return this._client.get(j`/vector_stores/${s}/file_batches/${e}`,{...i,headers:ue([{"OpenAI-Beta":"assistants=v2"},i?.headers])})}cancel(e,n,i){const{vector_store_id:s}=n;return this._client.post(j`/vector_stores/${s}/file_batches/${e}/cancel`,{...i,headers:ue([{"OpenAI-Beta":"assistants=v2"},i?.headers])})}async createAndPoll(e,n,i){const s=await this.create(e,n);return await this.poll(e,s.id,i)}listFiles(e,n,i){const{vector_store_id:s,...a}=n;return this._client.getAPIList(j`/vector_stores/${s}/file_batches/${e}/files`,ft,{query:a,...i,headers:ue([{"OpenAI-Beta":"assistants=v2"},i?.headers])})}async poll(e,n,i){const s=ue([i?.headers,{"X-Stainless-Poll-Helper":"true","X-Stainless-Custom-Poll-Interval":i?.pollIntervalMs?.toString()??void 0}]);for(;;){const{data:a,response:u}=await this.retrieve(n,{vector_store_id:e},{...i,headers:s}).withResponse();switch(a.status){case"in_progress":let f=5e3;if(i?.pollIntervalMs)f=i.pollIntervalMs;else{const p=u.headers.get("openai-poll-after-ms");if(p){const h=parseInt(p);isNaN(h)||(f=h)}}await Dl(f);break;case"failed":case"cancelled":case"completed":return a}}}async uploadAndPoll(e,{files:n,fileIds:i=[]},s){if(n==null||n.length==0)throw new Error("No `files` provided to process. If you've already uploaded files you should use `.createAndPoll()` instead");const a=s?.maxConcurrency??5,u=Math.min(a,n.length),f=this._client,p=n.values(),h=[...i];async function v(S){for(let T of S){const A=await f.files.create({file:T,purpose:"assistants"},s);h.push(A.id)}}const _=Array(u).fill(p).map(v);return await Uq(_),await this.createAndPoll(e,{file_ids:h})}}class ax extends he{create(e,n,i){return this._client.post(j`/vector_stores/${e}/files`,{body:n,...i,headers:ue([{"OpenAI-Beta":"assistants=v2"},i?.headers])})}retrieve(e,n,i){const{vector_store_id:s}=n;return this._client.get(j`/vector_stores/${s}/files/${e}`,{...i,headers:ue([{"OpenAI-Beta":"assistants=v2"},i?.headers])})}update(e,n,i){const{vector_store_id:s,...a}=n;return this._client.post(j`/vector_stores/${s}/files/${e}`,{body:a,...i,headers:ue([{"OpenAI-Beta":"assistants=v2"},i?.headers])})}list(e,n={},i){return this._client.getAPIList(j`/vector_stores/${e}/files`,ft,{query:n,...i,headers:ue([{"OpenAI-Beta":"assistants=v2"},i?.headers])})}delete(e,n,i){const{vector_store_id:s}=n;return this._client.delete(j`/vector_stores/${s}/files/${e}`,{...i,headers:ue([{"OpenAI-Beta":"assistants=v2"},i?.headers])})}async createAndPoll(e,n,i){const s=await this.create(e,n,i);return await this.poll(e,s.id,i)}async poll(e,n,i){const s=ue([i?.headers,{"X-Stainless-Poll-Helper":"true","X-Stainless-Custom-Poll-Interval":i?.pollIntervalMs?.toString()??void 0}]);for(;;){const a=await this.retrieve(n,{vector_store_id:e},{...i,headers:s}).withResponse(),u=a.data;switch(u.status){case"in_progress":let f=5e3;if(i?.pollIntervalMs)f=i.pollIntervalMs;else{const p=a.response.headers.get("openai-poll-after-ms");if(p){const h=parseInt(p);isNaN(h)||(f=h)}}await Dl(f);break;case"failed":case"completed":return u}}}async upload(e,n,i){const s=await this._client.files.create({file:n,purpose:"assistants"},i);return this.create(e,{file_id:s.id},i)}async uploadAndPoll(e,n,i){const s=await this.upload(e,n,i);return await this.poll(e,s.id,i)}content(e,n,i){const{vector_store_id:s}=n;return this._client.getAPIList(j`/vector_stores/${s}/files/${e}/content`,Pf,{...i,headers:ue([{"OpenAI-Beta":"assistants=v2"},i?.headers])})}}class Gf extends he{constructor(){super(...arguments),this.files=new ax(this._client),this.fileBatches=new sx(this._client)}create(e,n){return this._client.post("/vector_stores",{body:e,...n,headers:ue([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}retrieve(e,n){return this._client.get(j`/vector_stores/${e}`,{...n,headers:ue([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}update(e,n,i){return this._client.post(j`/vector_stores/${e}`,{body:n,...i,headers:ue([{"OpenAI-Beta":"assistants=v2"},i?.headers])})}list(e={},n){return this._client.getAPIList("/vector_stores",ft,{query:e,...n,headers:ue([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}delete(e,n){return this._client.delete(j`/vector_stores/${e}`,{...n,headers:ue([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}search(e,n,i){return this._client.getAPIList(j`/vector_stores/${e}/search`,Pf,{body:n,method:"post",...i,headers:ue([{"OpenAI-Beta":"assistants=v2"},i?.headers])})}}Gf.Files=ax;Gf.FileBatches=sx;class lx extends he{create(e,n){return this._client.post("/videos",ZT({body:e,...n},this._client))}retrieve(e,n){return this._client.get(j`/videos/${e}`,n)}list(e={},n){return this._client.getAPIList("/videos",tf,{query:e,...n})}delete(e,n){return this._client.delete(j`/videos/${e}`,n)}downloadContent(e,n={},i){return this._client.get(j`/videos/${e}/content`,{query:n,...i,headers:ue([{Accept:"application/binary"},i?.headers]),__binaryResponse:!0})}remix(e,n,i){return this._client.post(j`/videos/${e}/remix`,ZT({body:n,...i},this._client))}}var ms,ux,Pc;class cx extends he{constructor(){super(...arguments),ms.add(this)}async unwrap(e,n,i=this._client.webhookSecret,s=300){return await this.verifySignature(e,n,i,s),JSON.parse(e)}async verifySignature(e,n,i=this._client.webhookSecret,s=300){if(typeof crypto>"u"||typeof crypto.subtle.importKey!="function"||typeof crypto.subtle.verify!="function")throw new Error("Webhook signature verification is only supported when the `crypto` global is defined");G(this,ms,"m",ux).call(this,i);const a=ue([n]).values,u=G(this,ms,"m",Pc).call(this,a,"webhook-signature"),f=G(this,ms,"m",Pc).call(this,a,"webhook-timestamp"),p=G(this,ms,"m",Pc).call(this,a,"webhook-id"),h=parseInt(f,10);if(isNaN(h))throw new Fa("Invalid webhook timestamp format");const v=Math.floor(Date.now()/1e3);if(v-h>s)throw new Fa("Webhook timestamp is too old");if(h>v+s)throw new Fa("Webhook timestamp is too new");const _=u.split(" ").map(w=>w.startsWith("v1,")?w.substring(3):w),S=i.startsWith("whsec_")?Buffer.from(i.replace("whsec_",""),"base64"):Buffer.from(i,"utf-8"),T=p?`${p}.${f}.${e}`:`${f}.${e}`,A=await crypto.subtle.importKey("raw",S,{name:"HMAC",hash:"SHA-256"},!1,["verify"]);for(const w of _)try{const R=Buffer.from(w,"base64");if(await crypto.subtle.verify("HMAC",A,R,new TextEncoder().encode(T)))return}catch{continue}throw new Fa("The given webhook signature does not match the expected signature")}}ms=new WeakSet,ux=function(e){if(typeof e!="string"||e.length===0)throw new Error("The webhook secret must either be set using the env var, OPENAI_WEBHOOK_SECRET, on the client class, OpenAI({ webhookSecret: '123' }), or passed to this function")},Pc=function(e,n){if(!e)throw new Error("Headers are required");const i=e.get(n);if(i==null)throw new Error(`Missing required header: ${n}`);return i};var Bm,Wg,Lc,fx;class xe{constructor({baseURL:e=us("OPENAI_BASE_URL"),apiKey:n=us("OPENAI_API_KEY"),organization:i=us("OPENAI_ORG_ID")??null,project:s=us("OPENAI_PROJECT_ID")??null,webhookSecret:a=us("OPENAI_WEBHOOK_SECRET")??null,...u}={}){if(Bm.add(this),Lc.set(this,void 0),this.completions=new VR(this),this.chat=new Bg(this),this.embeddings=new $R(this),this.files=new zR(this),this.images=new WR(this),this.audio=new Ul(this),this.moderations=new jR(this),this.models=new ZR(this),this.fineTuning=new Hs(this),this.graders=new Kg(this),this.vectorStores=new Gf(this),this.webhooks=new cx(this),this.beta=new Bs(this),this.batches=new DR(this),this.uploads=new Qg(this),this.responses=new Vf(this),this.realtime=new Hf(this),this.conversations=new qg(this),this.evals=new Fg(this),this.containers=new Gg(this),this.videos=new lx(this),n===void 0)throw new me("Missing credentials. Please pass an `apiKey`, or set the `OPENAI_API_KEY` environment variable.");const f={apiKey:n,organization:i,project:s,webhookSecret:a,...u,baseURL:e||"https://api.openai.com/v1"};if(!f.dangerouslyAllowBrowser&&PG())throw new me(`It looks like you're running in a browser-like environment.

This is disabled by default, as it risks exposing your secret API credentials to attackers.
If you understand the risks and have appropriate mitigations in place,
you can set the \`dangerouslyAllowBrowser\` option to \`true\`, e.g.,

new OpenAI({ apiKey, dangerouslyAllowBrowser: true });

https://help.openai.com/en/articles/5112595-best-practices-for-api-key-safety
`);this.baseURL=f.baseURL,this.timeout=f.timeout??Wg.DEFAULT_TIMEOUT,this.logger=f.logger??console;const p="warn";this.logLevel=p,this.logLevel=QT(f.logLevel,"ClientOptions.logLevel",this)??QT(us("OPENAI_LOG"),"process.env['OPENAI_LOG']",this)??p,this.fetchOptions=f.fetchOptions,this.maxRetries=f.maxRetries??2,this.fetch=f.fetch??VG(),_e(this,Lc,qG),this._options=f,this.apiKey=typeof n=="string"?n:"Missing Key",this.organization=i,this.project=s,this.webhookSecret=a}withOptions(e){return new this.constructor({...this._options,baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,organization:this.organization,project:this.project,webhookSecret:this.webhookSecret,...e})}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:e,nulls:n}){}async authHeaders(e){return ue([{Authorization:`Bearer ${this.apiKey}`}])}stringifyQuery(e){return KG(e,{arrayFormat:"brackets"})}getUserAgent(){return`${this.constructor.name}/JS ${hs}`}defaultIdempotencyKey(){return`stainless-node-retry-${Uw()}`}makeStatusError(e,n,i,s){return Mt.generate(e,n,i,s)}async _callApiKey(){const e=this._options.apiKey;if(typeof e!="function")return!1;let n;try{n=await e()}catch(i){throw i instanceof me?i:new me(`Failed to get token from 'apiKey' function: ${i.message}`,{cause:i})}if(typeof n!="string"||!n)throw new me(`Expected 'apiKey' function argument to return a string but it returned ${n}`);return this.apiKey=n,!0}buildURL(e,n,i){const s=!G(this,Bm,"m",fx).call(this)&&i||this.baseURL,a=NG(e)?new URL(e):new URL(s+(s.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),u=this.defaultQuery();return IG(u)||(n={...u,...n}),typeof n=="object"&&n&&!Array.isArray(n)&&(a.search=this.stringifyQuery(n)),a.toString()}async prepareOptions(e){await this._callApiKey()}async prepareRequest(e,{url:n,options:i}){}get(e,n){return this.methodRequest("get",e,n)}post(e,n){return this.methodRequest("post",e,n)}patch(e,n){return this.methodRequest("patch",e,n)}put(e,n){return this.methodRequest("put",e,n)}delete(e,n){return this.methodRequest("delete",e,n)}methodRequest(e,n,i){return this.request(Promise.resolve(i).then(s=>({method:e,path:n,...s})))}request(e,n=null){return new Uf(this,this.makeRequest(e,n,void 0))}async makeRequest(e,n,i){const s=await e,a=s.maxRetries??this.maxRetries;n==null&&(n=a),await this.prepareOptions(s);const{req:u,url:f,timeout:p}=await this.buildRequest(s,{retryCount:a-n});await this.prepareRequest(u,{url:f,options:s});const h="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),v=i===void 0?"":`, retryOf: ${i}`,_=Date.now();if(Rt(this).debug(`[${h}] sending request`,tr({retryOfRequestLogID:i,method:s.method,url:f,options:s,headers:u.headers})),s.signal?.aborted)throw new wn;const S=new AbortController,T=await this.fetchWithTimeout(f,u,p,S).catch(wm),A=Date.now();if(T instanceof globalThis.Error){const D=`retrying, ${n} attempts remaining`;if(s.signal?.aborted)throw new wn;const U=Cm(T)||/timed? ?out/i.test(String(T)+("cause"in T?String(T.cause):""));if(n)return Rt(this).info(`[${h}] connection ${U?"timed out":"failed"} - ${D}`),Rt(this).debug(`[${h}] connection ${U?"timed out":"failed"} (${D})`,tr({retryOfRequestLogID:i,url:f,durationMs:A-_,message:T.message})),this.retryRequest(s,n,i??h);throw Rt(this).info(`[${h}] connection ${U?"timed out":"failed"} - error; no more retries left`),Rt(this).debug(`[${h}] connection ${U?"timed out":"failed"} (error; no more retries left)`,tr({retryOfRequestLogID:i,url:f,durationMs:A-_,message:T.message})),U?new Mg:new Df({cause:T})}const w=[...T.headers.entries()].filter(([D])=>D==="x-request-id").map(([D,U])=>", "+D+": "+JSON.stringify(U)).join(""),R=`[${h}${v}${w}] ${u.method} ${f} ${T.ok?"succeeded":"failed"} with status ${T.status} in ${A-_}ms`;if(!T.ok){const D=await this.shouldRetry(T);if(n&&D){const V=`retrying, ${n} attempts remaining`;return await GG(T.body),Rt(this).info(`${R} - ${V}`),Rt(this).debug(`[${h}] response error (${V})`,tr({retryOfRequestLogID:i,url:T.url,status:T.status,headers:T.headers,durationMs:A-_})),this.retryRequest(s,n,i??h,T.headers)}const U=D?"error; no more retries left":"error; not retryable";Rt(this).info(`${R} - ${U}`);const O=await T.text().catch(V=>wm(V).message),L=UG(O),z=L?void 0:O;throw Rt(this).debug(`[${h}] response error (${U})`,tr({retryOfRequestLogID:i,url:T.url,status:T.status,headers:T.headers,message:z,durationMs:Date.now()-_})),this.makeStatusError(T.status,L,z,T.headers)}return Rt(this).info(R),Rt(this).debug(`[${h}] response start`,tr({retryOfRequestLogID:i,url:T.url,status:T.status,headers:T.headers,durationMs:A-_})),{response:T,options:s,controller:S,requestLogID:h,retryOfRequestLogID:i,startTime:_}}getAPIList(e,n,i){return this.requestAPIList(n,{method:"get",path:e,...i})}requestAPIList(e,n){const i=this.makeRequest(n,null,void 0);return new iq(this,i,e)}async fetchWithTimeout(e,n,i,s){const{signal:a,method:u,...f}=n||{};a&&a.addEventListener("abort",()=>s.abort());const p=setTimeout(()=>s.abort(),i),h=globalThis.ReadableStream&&f.body instanceof globalThis.ReadableStream||typeof f.body=="object"&&f.body!==null&&Symbol.asyncIterator in f.body,v={signal:s.signal,...h?{duplex:"half"}:{},method:"GET",...f};u&&(v.method=u.toUpperCase());try{return await this.fetch.call(void 0,e,v)}finally{clearTimeout(p)}}async shouldRetry(e){const n=e.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,n,i,s){let a;const u=s?.get("retry-after-ms");if(u){const p=parseFloat(u);Number.isNaN(p)||(a=p)}const f=s?.get("retry-after");if(f&&!a){const p=parseFloat(f);Number.isNaN(p)?a=Date.parse(f)-Date.now():a=p*1e3}if(!(a&&0<=a&&a<60*1e3)){const p=e.maxRetries??this.maxRetries;a=this.calculateDefaultRetryTimeoutMillis(n,p)}return await Dl(a),this.makeRequest(e,n-1,i)}calculateDefaultRetryTimeoutMillis(e,n){const a=n-e,u=Math.min(.5*Math.pow(2,a),8),f=1-Math.random()*.25;return u*f*1e3}async buildRequest(e,{retryCount:n=0}={}){const i={...e},{method:s,path:a,query:u,defaultBaseURL:f}=i,p=this.buildURL(a,u,f);"timeout"in i&&OG("timeout",i.timeout),i.timeout=i.timeout??this.timeout;const{bodyHeaders:h,body:v}=this.buildBody({options:i}),_=await this.buildHeaders({options:e,method:s,bodyHeaders:h,retryCount:n});return{req:{method:s,headers:_,...i.signal&&{signal:i.signal},...globalThis.ReadableStream&&v instanceof globalThis.ReadableStream&&{duplex:"half"},...v&&{body:v},...this.fetchOptions??{},...i.fetchOptions??{}},url:p,timeout:i.timeout}}async buildHeaders({options:e,method:n,bodyHeaders:i,retryCount:s}){let a={};this.idempotencyHeader&&n!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),a[this.idempotencyHeader]=e.idempotencyKey);const u=ue([a,{Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(s),...e.timeout?{"X-Stainless-Timeout":String(Math.trunc(e.timeout/1e3))}:{},...HG(),"OpenAI-Organization":this.organization,"OpenAI-Project":this.project},await this.authHeaders(e),this._options.defaultHeaders,i,e.headers]);return this.validateHeaders(u),u.values}buildBody({options:{body:e,headers:n}}){if(!e)return{bodyHeaders:void 0,body:void 0};const i=ue([n]);return ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof DataView||typeof e=="string"&&i.values.has("content-type")||globalThis.Blob&&e instanceof globalThis.Blob||e instanceof FormData||e instanceof URLSearchParams||globalThis.ReadableStream&&e instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:e}:typeof e=="object"&&(Symbol.asyncIterator in e||Symbol.iterator in e&&"next"in e&&typeof e.next=="function")?{bodyHeaders:void 0,body:Yw(e)}:G(this,Lc,"f").call(this,{body:e,headers:i})}}Wg=xe,Lc=new WeakMap,Bm=new WeakSet,fx=function(){return this.baseURL!=="https://api.openai.com/v1"};xe.OpenAI=Wg;xe.DEFAULT_TIMEOUT=6e5;xe.OpenAIError=me;xe.APIError=Mt;xe.APIConnectionError=Df;xe.APIConnectionTimeoutError=Mg;xe.APIUserAbortError=wn;xe.NotFoundError=Bw;xe.ConflictError=Hw;xe.RateLimitError=Gw;xe.BadRequestError=Pw;xe.AuthenticationError=Lw;xe.InternalServerError=qw;xe.PermissionDeniedError=kw;xe.UnprocessableEntityError=Vw;xe.InvalidWebhookSignatureError=Fa;xe.toFile=lq;xe.Completions=VR;xe.Chat=Bg;xe.Embeddings=$R;xe.Files=zR;xe.Images=WR;xe.Audio=Ul;xe.Moderations=jR;xe.Models=ZR;xe.FineTuning=Hs;xe.Graders=Kg;xe.VectorStores=Gf;xe.Webhooks=cx;xe.Beta=Bs;xe.Batches=DR;xe.Uploads=Qg;xe.Responses=Vf;xe.Realtime=Hf;xe.Conversations=qg;xe.Evals=Fg;xe.Containers=Gg;xe.Videos=lx;class pb extends Error{}const Pq=["gpt-4o-mini","gpt-5.1","gpt-5-mini","gpt-5-nano","gpt-5"];class cf{static getApiKey=null;static setApiKey=null;static getClient(){const e=this.getApiKey?.()||"";if(!e)throw new pb("No OpenAI API key set");return new xe({apiKey:e,dangerouslyAllowBrowser:!0})}static async txt2txt(e,n,i="gpt-4o-mini",s){try{const a=this.getClient(),u=[];n&&u.push({role:"system",content:n}),e&&u.push({role:"user",content:[{type:"input_text",text:e}]}),s&&console.log(s);const f={model:i,input:u};console.log("GPT Payload:",f);const h=(await a.responses.create(f)).output_text;return console.log("GPT Response TEXT:",{text:h}),h}catch(a){if(console.error("ChatGPT Error:",a),(a?.message||"").includes("Incorrect API key provided")||a instanceof pb){const f=window.prompt("Your OpenAI API key is missing or invalid. Please enter a valid key:");return f?this.setApiKey?.(f):console.warn("User did not provide a valid API key."),null}throw a}}}class Lq{rootHandle=null;project=null;data={};constructor(e=null,n=null){this.rootHandle=e,this.project=n,No(this)}async load(){if(this.rootHandle)try{const e={};for await(const n of this.rootHandle.values()){if(n.kind!=="directory")continue;const i=n.name,s=n,a={};for await(const u of s.values()){if(u.kind!=="directory")continue;const f=u.name,p=u,h=[];for await(const v of p.values()){if(v.kind!=="file"||!v.name.match(/\.(png|jpg|jpeg|webp|gif)$/i))continue;const _=v,S=`${i}/${f}/${_.name}`;h.push(new kq(_,p,S,this))}a[f]=h}e[i]=a}nt(()=>{this.data=e})}catch(e){console.error("Error loading artbook:",e),nt(()=>{this.data={}})}}getTag(e){if(!e)return null;const n=e.split("/");if(n.length<3)return null;const[i,s,a]=n,u=this.data[i];if(!u)return null;const f=u[s];return f&&f.find(h=>h.handle.name===a)||null}log(){console.log(Tl(this))}getJson(){const e={};for(const[n,i]of Object.entries(this.data)){e[n]={};for(const[s,a]of Object.entries(i))e[n][s]=a.map(u=>u.handle.name)}return e}}class kq{handle;folder;image;artInfo=null;path;artbook;constructor(e,n,i,s=null){this.handle=e,this.folder=n,this.image=new pr(e),this.path=i,this.artbook=s,No(this)}async getArtInfo(){if(this.artInfo)return this.artInfo;try{const e=await hr.create(this.folder,this.handle.name+".json");nt(()=>{this.artInfo=e})}catch(e){console.warn("Unable to load art info for:",this.handle.name,e)}return this.artInfo}}class mb{folder;sceneJson=null;shots=[];project=null;is_generating_shotsjson=!1;is_generating_tags=!1;constructor(e,n=null){this.folder=e,this.project=n,No(this)}async load(){try{this.sceneJson=await hr.create(this.folder,"sceneinfo.json",{tags:[],shotsjson:"",script:""}),this.shots=[];for await(const e of this.folder.values())if(e.kind==="directory"){const n=new HT(e,this);await n.load(),this.shots.push(n)}}catch(e){console.error("Error loading scene:",e),this.sceneJson=null,this.shots=[]}}removeTag(e){this.sceneJson?.data?.tags&&(this.sceneJson.data.tags=this.sceneJson.data.tags.filter(n=>n!==e),this.sceneJson.save())}async delete(){if(!this.project?.rootDirHandle){console.error("Cannot delete scene: project root not set");return}try{await(await this.project.rootDirHandle.getDirectoryHandle("SCENES")).removeEntry(this.folder.name,{recursive:!0}),nt(()=>{this.project&&(this.project.scenes=this.project.scenes.filter(n=>n!==this))})}catch(e){console.error("Failed to delete scene:",e)}}async createShot(e){if(!this.folder)return console.error("No scene folder available"),null;const n=this.shots.find(i=>i.folder.name===e);if(n)return n;try{const i=await this.folder.getDirectoryHandle(e,{create:!0}),s=new HT(i,this);return await s.load(),nt(()=>{const a=this.shots.findIndex(u=>u.folder.name.localeCompare(e)>0);a===-1?this.shots.push(s):this.shots.splice(a,0,s)}),s}catch(i){return console.error("Failed to create shot:",i),null}}get finishedShotsNum(){return this.shots.filter(e=>e.shotJson?.data?.finished).length}async generateShotsJson(){if(!this.sceneJson?.data?.script)return null;nt(()=>{this.is_generating_shotsjson=!0});const e=this.sceneJson.data.script,n=`
${this.project?.projinfo?.data?.split_shot_prompt}

SCRIPT:
${e}
`,i="You are a helpful assistant. Always respond using ONLY valid JSON. Do not write explanations. Do not wrap the JSON in backticks. The entire response must be a valid JSON object.";try{return await cf.txt2txt(n,i,this.project?.projinfo?.data.gpt_model)}catch(s){return console.error("Error generating shots JSON:",s),null}finally{nt(()=>{this.is_generating_shotsjson=!1})}}async createShotsFromShotsJson(){if(!this.sceneJson?.data?.shotsjson){console.warn("No shots JSON found in scene.");return}let e;try{e=JSON.parse(this.sceneJson.data.shotsjson)}catch(n){console.error("Invalid shots JSON:",n),alert("Error: The shots JSON is invalid. Please check the format.");return}for(const n of Object.keys(e)){const i=e[n];if(!i||typeof i!="object"){console.warn(`Skipping invalid shot data for key: ${n}`);continue}try{const s=await this.createShot(n);if(!s){console.error(`Failed to create shot ${n}`);continue}s.shotJson&&(Object.assign(s.shotJson.data,i),await s.shotJson.save())}catch(s){console.error(`Error creating shot ${n}:`,s)}}}log(){console.log(Tl(this))}getTags(){if(!this.sceneJson?.data?.tags||!this.project?.artbook)return[];const e=[];for(const n of this.sceneJson.data.tags){const i=this.project.artbook.getTag(n);i&&e.push(i)}return e}get tags(){return this.getTags()}async generateTags(){nt(()=>{this.is_generating_tags=!0});const e=`
${this.project?.projinfo?.data?.generate_tags_prompt}

SCRIPT:
${this.sceneJson?.data.script}

SHOTS JSON:
${this.sceneJson?.data.shotsjson}

REFS DICTIONARY:
${JSON.stringify(this.project?.artbook?.getJson(),null,2)}

`,n="You are a helpful assistant. Do not write explanations. ";try{const i=await cf.txt2txt(e,n,this.project?.projinfo?.data.gpt_model);for(const s of i?.split(`
`)||[]){const a=s.trim();a&&(console.log("Adding Tag: ",a),this.addTag(a))}return i}catch(i){return console.error("Error generating tags:",i),null}finally{nt(()=>{this.is_generating_tags=!1})}}addTag(e){nt(()=>{this.sceneJson?.data.tags.includes(e)||(this.project?.artbook?.getTag(e)?(this.sceneJson?.data.tags.push(e),this.sceneJson?.save()):console.log("Tag not found: ",e))})}}const Hm=(t,e)=>e.some(n=>t instanceof n);let gb,vb;function Bq(){return gb||(gb=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Hq(){return vb||(vb=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Vm=new WeakMap,Vp=new WeakMap,qf=new WeakMap;function Vq(t){const e=new Promise((n,i)=>{const s=()=>{t.removeEventListener("success",a),t.removeEventListener("error",u)},a=()=>{n(sr(t.result)),s()},u=()=>{i(t.error),s()};t.addEventListener("success",a),t.addEventListener("error",u)});return qf.set(e,t),e}function Gq(t){if(Vm.has(t))return;const e=new Promise((n,i)=>{const s=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",u),t.removeEventListener("abort",u)},a=()=>{n(),s()},u=()=>{i(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",a),t.addEventListener("error",u),t.addEventListener("abort",u)});Vm.set(t,e)}let Gm={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Vm.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return sr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function dx(t){Gm=t(Gm)}function qq(t){return Hq().includes(t)?function(...e){return t.apply(qm(this),e),sr(this.request)}:function(...e){return sr(t.apply(qm(this),e))}}function $q(t){return typeof t=="function"?qq(t):(t instanceof IDBTransaction&&Gq(t),Hm(t,Bq())?new Proxy(t,Gm):t)}function sr(t){if(t instanceof IDBRequest)return Vq(t);if(Vp.has(t))return Vp.get(t);const e=$q(t);return e!==t&&(Vp.set(t,e),qf.set(e,t)),e}const qm=t=>qf.get(t);function Fq(t,e,{blocked:n,upgrade:i,blocking:s,terminated:a}={}){const u=indexedDB.open(t,e),f=sr(u);return i&&u.addEventListener("upgradeneeded",p=>{i(sr(u.result),p.oldVersion,p.newVersion,sr(u.transaction),p)}),n&&u.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),f.then(p=>{a&&p.addEventListener("close",()=>a()),s&&p.addEventListener("versionchange",h=>s(h.oldVersion,h.newVersion,h))}).catch(()=>{}),f}const zq=["get","getKey","getAll","getAllKeys","count"],Jq=["put","add","delete","clear"],Gp=new Map;function yb(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Gp.get(e))return Gp.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,s=Jq.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(s||zq.includes(n)))return;const a=async function(u,...f){const p=this.transaction(u,s?"readwrite":"readonly");let h=p.store;return i&&(h=h.index(f.shift())),(await Promise.all([h[n](...f),s&&p.done]))[0]};return Gp.set(e,a),a}dx(t=>({...t,get:(e,n,i)=>yb(e,n)||t.get(e,n,i),has:(e,n)=>!!yb(e,n)||t.has(e,n)}));const Yq=["continue","continuePrimaryKey","advance"],_b={},$m=new WeakMap,hx=new WeakMap,Kq={get(t,e){if(!Yq.includes(e))return t[e];let n=_b[e];return n||(n=_b[e]=function(...i){$m.set(this,hx.get(this)[e](...i))}),n}};async function*Xq(...t){let e=this;if(e instanceof IDBCursor||(e=await e.openCursor(...t)),!e)return;e=e;const n=new Proxy(e,Kq);for(hx.set(n,e),qf.set(n,qm(e));e;)yield n,e=await($m.get(n)||e.continue()),$m.delete(n)}function Sb(t,e){return e===Symbol.asyncIterator&&Hm(t,[IDBIndex,IDBObjectStore,IDBCursor])||e==="iterate"&&Hm(t,[IDBIndex,IDBObjectStore])}dx(t=>({...t,get(e,n,i){return Sb(e,n)?Xq:t.get(e,n,i)},has(e,n){return Sb(e,n)||t.has(e,n)}}));const Qq="ShotMasterRE",Ec="settings";class Wq{db=null;data={id:"settings",lastOpenedFolder:null,recentFolders:[],api_keys:{}};constructor(){No(this.data)}async getDB(){return this.db?this.db:(this.db=await Fq(Qq,1,{upgrade(e){e.objectStoreNames.contains(Ec)||e.createObjectStore(Ec,{keyPath:"id"})}}),this.db)}async load(){const n=await(await this.getDB()).get(Ec,"settings");return n&&nt(()=>{Object.assign(this.data,n)}),this.data}async save(){const e=await this.getDB(),n=Tl(this.data);await e.put(Ec,n)}async update(e){nt(()=>e(this.data)),await this.save()}}class Zq{fileHandle;text="";scenes=new Map;project=null;constructor(e,n=null){this.fileHandle=e,this.project=n,No(this,{},{autoBind:!0})}async load(){const e=await this.fileHandle.getFile();this.text=(await e.text()).replace(/\r\n/g,`
`),this.splitIntoScenes()}async save(){const e=await this.fileHandle.createWritable();await e.write(this.text),await e.close()}setText(e){this.text=e,this.splitIntoScenes()}splitIntoScenes(){this.scenes.clear();const e=/^SC_[^\n]{1,32}$/gm,n=[...this.text.matchAll(e)];if(n.length===0){this.scenes.set("",this.text);return}for(let i=0;i<n.length;i++){const s=n[i][0],a=n[i].index;if(i===0&&a>0){const p=this.text.slice(0,a);this.scenes.set("",p)}const u=i+1<n.length?n[i+1].index:this.text.length,f=this.text.slice(a,u);this.scenes.set(s,f)}}get sortedSceneKeys(){return Array.from(this.scenes.keys()).sort((e,n)=>e.localeCompare(n))}joinScenes(){let e="";for(const n of this.sortedSceneKeys)e+=this.scenes.get(n);return e}setSceneText(e,n){this.scenes.set(e,n),this.text=this.joinScenes(),this.splitIntoScenes()}async createScenes(){if(!this.project){console.error("Script has no project reference");return}for(const e of this.sortedSceneKeys){if(e==="")continue;const n=this.scenes.get(e)??"";try{const i=await this.project.createScene(e);if(!i){console.error(`Failed to create scene ${e}`);continue}i.sceneJson&&(i.sceneJson.data.script=n,await i.sceneJson.save())}catch(i){console.error(`Error creating scene ${e}:`,i)}}}}const jq={gpt_model:"gpt-4o-mini",describe_prompt:"        . ",generate_tags_prompt:`
     (SCRIPT)     (SHOTS JSON)        REFS DICTIONARY     .

     ,        ,      :
  ENV/ROOM1/Night.png
  CHAR/VICTOR/Portrait.png


  `,split_shot_prompt:`
       ,            json,     json   :
{
  "SHOT_010" : 
    {
    "prompt" : "     ", 
    "camera" : "focal length, shot type", 
    "action_description" : "     ", 
    },

}`};class e${rootDirHandle=null;scenes=[];artbook=null;script=null;userSettingsDB=new Wq;projinfo=null;currentView={type:"none"};selectedScene=null;constructor(e=null){this.rootDirHandle=e,No(this)}async loadFromFolder(e){e&&(this.rootDirHandle=e,nt(async()=>{this.userSettingsDB.data.lastOpenedFolder=e,(await Promise.all(this.userSettingsDB.data.recentFolders.map(async i=>{try{return await i.isSameEntry(e)}catch{return!1}}))).includes(!0)||(this.userSettingsDB.data.recentFolders.push(e),this.userSettingsDB.data.recentFolders=this.userSettingsDB.data.recentFolders.slice(-5)),await this.userSettingsDB.save(),this.projinfo=await hr.create(this.rootDirHandle,"projinfo.json",jq)}),await Promise.all([this.loadScenes(),this.loadArtbook(),this.loadScript()]))}async loadScenes(){if(this.rootDirHandle)try{const e=await this.rootDirHandle.getDirectoryHandle("SCENES",{create:!0}),n=[];for await(const i of e.values())if(i.kind==="directory"){const s=new mb(i,this);await s.load(),n.push(s)}nt(()=>{this.scenes=n})}catch(e){console.error("Error loading scenes:",e),nt(()=>{this.scenes=[]})}}async loadArtbook(){if(this.rootDirHandle)try{const e=await this.rootDirHandle.getDirectoryHandle("REFS",{create:!0}),n=new Lq(e,this);await n.load(),nt(()=>{this.artbook=n})}catch(e){console.error("Error loading artbook:",e),nt(()=>{this.artbook=null})}}async loadScript(){if(this.rootDirHandle)try{const e=await this.rootDirHandle.getFileHandle("script.txt",{create:!0}),n=new Zq(e,this);await n.load(),nt(()=>{this.script=n})}catch(e){console.error("Error loading script:",e),nt(()=>{this.script=null})}}async loadDB(){await this.userSettingsDB.load(),Am.getApiKey=()=>this.userSettingsDB.data.api_keys.Google_API_KEY||null,Am.setApiKey=async e=>{await this.userSettingsDB.update(n=>{n.api_keys.Google_API_KEY=e})},cf.getApiKey=()=>this.userSettingsDB.data.api_keys.GPT_API_KEY||null,cf.setApiKey=async e=>{await this.userSettingsDB.update(n=>{n.api_keys.GPT_API_KEY=e})}}async createScene(e){if(!this.rootDirHandle)return console.error("No project folder open"),null;const n=this.scenes.find(i=>i.folder.name===e);if(n)return n;try{const s=await(await this.rootDirHandle.getDirectoryHandle("SCENES",{create:!0})).getDirectoryHandle(e,{create:!0}),a=new mb(s,this);return await a.load(),nt(()=>{const u=this.scenes.findIndex(f=>f.folder.name.localeCompare(a.folder.name)>0);u===-1?this.scenes.push(a):this.scenes.splice(u,0,a)}),a}catch(i){return console.error("Failed to create scene:",i),null}}log(){console.log(Tl(this))}setView(e,n=null){this.currentView=e,this.selectedScene=n}}const t$=({onOpenFolder:t,recentFolders:e,onOpenRecent:n,project:i})=>{const s=[{name:"Open",onClick:t},{name:"Recent",subItems:e.length?e.map(f=>({name:f.name,onClick:()=>n(f)})):[{name:"No Recent"}]}],a=[{name:"Undo"},{name:"Redo"}],u=[{name:"About"}];return C.jsx(rE,{expand:"lg",children:C.jsxs(kA,{fluid:!0,children:[C.jsx(rE.Brand,{children:"ShotMasterRT"}),C.jsxs(sP,{className:"me-auto",style:{userSelect:"none"},children:[C.jsx(as,{title:"File",items:s}),C.jsx(as,{title:"Edit",items:a}),C.jsx(as,{title:"Help",items:u}),C.jsx(as,{title:"Settings",onClick:()=>i.setView({type:"settings"})}),C.jsx(as,{title:"Script",onClick:()=>i.setView({type:"script"})}),C.jsx(as,{title:"Artbook",onClick:()=>i.setView({type:"artbook"})})]})]})})},n$=kt(({scene:t})=>{const e=()=>{!t||!t.sceneJson||t.project?.setView({type:"scene"},t)};return C.jsxs("li",{className:"d-flex justify-content-between align-items-center py-1 px-2",style:{cursor:"pointer"},onClick:e,children:[C.jsx("span",{children:t.folder.name}),C.jsxs("span",{className:"text-muted",children:[t.finishedShotsNum," / ",t.shots.length]})]})}),Dt=({onClick:t,label:e="Click",className:n=""})=>C.jsx("button",{className:`btn btn-sm btn-outline-secondary ${n}`,onClick:t,children:e}),i$=kt(({project:t})=>{if(!t)return C.jsx("div",{children:"No Project Opened"});const e=async()=>{const i=prompt("Enter new scene name");i&&await t.createScene(i)},n=t.rootDirHandle?.name||"No Project Opened";return C.jsxs("div",{style:{width:"200px",borderRight:"1px solid #ced4da",padding:"10px",display:"flex",flexDirection:"column"},children:[C.jsx("h5",{style:{flexShrink:0,marginBottom:8},children:n}),C.jsx(Dt,{label:"+ Add Scene",onClick:e,className:"mb-2"}),C.jsx("ul",{className:"list-unstyled",style:{margin:0,padding:0,overflowY:"auto",maxHeight:"calc(100vh - 100px)"},children:t.scenes.map((i,s)=>C.jsx(n$,{scene:i},s))})]})});class Eb extends x.Component{constructor(e){super(e),this.state={value:e.value}}handleChange=e=>{const n=e.target.value;this.setState({value:n}),this.props.onChange(n)};render(){const{label:e}=this.props,{value:n}=this.state;return C.jsxs("div",{style:{display:"flex",alignItems:"center",marginBottom:12},children:[C.jsx("label",{style:{marginRight:8,minWidth:120},children:e}),C.jsx("input",{type:"text",value:n,onChange:this.handleChange,style:{flexGrow:1,padding:6}})]})}}const Zg=({label:t="Section",children:e,defaultCollapsed:n=!1,className:i="",headerExtra:s})=>{const[a,u]=x.useState(n);return C.jsxs("div",{className:`border rounded p-2 mb-2 ${i}`,children:[C.jsxs("div",{className:"d-flex align-items-center justify-content-between mb-2",children:[C.jsxs("div",{className:"d-flex align-items-center",children:[C.jsx("button",{className:"btn btn-sm btn-outline-secondary me-2",onClick:()=>u(!a),children:a?"":""}),C.jsx("strong",{children:t})]}),s&&!a&&C.jsx("div",{children:s})]}),!a&&C.jsx("div",{children:e})]})},Fm=({label:t,initialText:e,onSave:n,onEdit:i,fitHeight:s=!1,headerExtra:a})=>{const[u,f]=x.useState(e),[p,h]=x.useState(e),[v,_]=x.useState(!1),[S,T]=x.useState(!1),A=x.useRef(null);x.useEffect(()=>{f(e),h(e),s&&A.current&&(A.current.style.height="auto",A.current.style.height=`${A.current.scrollHeight}px`)},[e,s]);const w=u!==p,R=O=>{f(O),i&&i(O)},D=async()=>{n&&(T(!0),await n(u),h(u),T(!1))};x.useEffect(()=>{if(!v||!w)return;const O=setTimeout(()=>D(),1e3);return()=>clearTimeout(O)},[u,v,w]),x.useEffect(()=>{s&&A.current&&(A.current.style.height="auto",A.current.style.height=`${A.current.scrollHeight}px`)},[u,s]);const U=C.jsxs("div",{className:"d-flex align-items-center gap-2",children:[a&&C.jsx(C.Fragment,{children:a}),C.jsx("button",{className:"btn btn-primary btn-sm",disabled:S||!w||!n,onClick:D,children:S?"Saving...":w?"Save*":"Save"}),C.jsxs("label",{className:"d-flex align-items-center gap-1 mb-0",children:[C.jsx("input",{type:"checkbox",checked:v,onChange:O=>_(O.target.checked)}),"Auto-save"]})]});return C.jsx(Zg,{label:t,headerExtra:U,children:C.jsx("textarea",{ref:A,className:"form-control",style:{fontFamily:"monospace",overflowY:"auto",maxHeight:"800px"},value:u,onChange:O=>R(O.target.value)})})},wo=kt(({localJson:t,field:e,fitHeight:n=!1,headerExtra:i})=>{const s=async a=>{await t.updateField(e,a)};return C.jsx(Fm,{label:e,initialText:t.data[e]??"",onSave:s,fitHeight:n,headerExtra:i})}),pl=({tabs:t})=>{const e=Object.keys(t),[n,i]=x.useState(e[0]);return C.jsxs("div",{children:[C.jsx("ul",{className:"nav nav-tabs",children:e.map(s=>C.jsx("li",{className:"nav-item",children:C.jsx("button",{className:`nav-link ${n===s?"active":""}`,onClick:()=>i(s),children:s})},s))}),C.jsx("div",{className:"tab-content p-3 border border-top-0",children:C.jsx("div",{className:"tab-pane fade show active",children:t[n]})})]})};function o$({items:t,currentItem:e,onPicked:n,labelRenderer:i,className:s=""}){return C.jsxs(lc,{className:s,children:[C.jsx(lc.Toggle,{variant:"outline-secondary",size:"sm",children:i?i(e):String(e)}),C.jsx(lc.Menu,{children:t.map((a,u)=>C.jsx(lc.Item,{onClick:()=>n(a),children:i?i(a):String(a)},u))})]})}const r$=kt(({project:t})=>{const{userSettingsDB:e}=t;if(!e)return null;const n=t.projinfo?{"  ":C.jsx(wo,{localJson:t.projinfo,field:"split_shot_prompt",fitHeight:!0})," ":C.jsx(wo,{localJson:t.projinfo,field:"generate_tags_prompt",fitHeight:!0})}:{};return C.jsxs("div",{style:{padding:20},children:[C.jsx("h3",{children:"API Keys"}),C.jsx(Dt,{onClick:()=>{t.log()},label:"LOG Project"}),C.jsx(Eb,{label:"GPT API Key",value:e.data.api_keys.GPT_API_KEY||"",onChange:async i=>{await e.update(s=>{s.api_keys.GPT_API_KEY=i})}}),C.jsx(Eb,{label:"Google API Key",value:e.data.api_keys.Google_API_KEY||"",onChange:async i=>{await e.update(s=>{s.api_keys.Google_API_KEY=i})}}),C.jsx("div",{children:C.jsx(o$,{items:Pq,currentItem:t.projinfo?.data.gpt_model,onPicked:i=>{t.projinfo?.updateField("gpt_model",i)}})}),C.jsx("h2",{children:"Prompts"}),Object.keys(n).length>0&&C.jsx(pl,{tabs:n})]})}),s$=kt(({project:t})=>{if(!t.script)return C.jsx("div",{children:"No script loaded in project."});const e=async s=>{t.script.setText(s),await t.script.save()},n={};for(const s of t.script.sortedSceneKeys)n[s||"Intro"]=C.jsx(Fm,{label:s||"Intro",initialText:t.script.scenes.get(s),onSave:async a=>{t.script.setSceneText(s,a),await t.script.save()},fitHeight:!0});const i=async()=>{try{await t.script.createScenes(),alert("Scenes created successfully!")}catch(s){console.error("Error creating scenes:",s),alert("Failed to create scenes. See console for details.")}};return C.jsxs("div",{style:{padding:"1rem"},children:[C.jsx("h4",{children:"Script"}),C.jsx(Dt,{label:"Create Scenes from Script",onClick:i,className:"mb-2"}),C.jsx(pl,{tabs:{"Full Script":C.jsx(Fm,{label:"Full Script",initialText:t.script.text,onSave:e,fitHeight:!0}),Scenes:C.jsx(pl,{tabs:n})}})]})}),a$=kt(({art:t,onClose:e})=>{const[n,i]=x.useState(null),[s,a]=x.useState(!0);x.useEffect(()=>{let f=!0,p=t;a(!0),i(null);async function h(){const v=await p.image.getUrlObject();if(!f||t!==p)return;i(v);const _=await p.getArtInfo();!f||t!==p||(p.artInfo=_,a(!1))}return h(),()=>{f=!1}},[t]);const u=t.handle.name;return s?C.jsx("div",{children:"Loading art info..."}):C.jsxs("div",{className:"art-info-card",style:{border:"1px solid #ccc",padding:"1rem",borderRadius:"8px"},children:[C.jsxs("div",{className:"card-header",style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[C.jsx("strong",{children:u}),C.jsx("button",{onClick:e,style:{cursor:"pointer",border:"none",background:"transparent",fontSize:"1.2rem"},children:""})]}),n?C.jsx("img",{src:n,className:"preview-img",style:{maxWidth:"1000px",width:"auto",maxHeight:"1000px",objectFit:"contain",borderRadius:"4px",display:"block",marginBottom:"1rem"}}):C.jsx("div",{style:{padding:"4rem",textAlign:"center"},children:C.jsx("span",{children:"Loading image..."})}),t.artInfo&&C.jsx(wo,{localJson:t.artInfo,field:"prompt",fitHeight:!0})]})}),l$=kt(({artbook:t})=>{const[e,n]=x.useState(null);if(!Object.keys(t.data).length)return C.jsx("div",{children:"No Artbook content found."});const i=({art:f})=>{const[p,h]=x.useState(null);return x.useEffect(()=>{let v=!0;return f.image.getUrlObject().then(_=>{v&&h(_)}),()=>{v=!1}},[f]),C.jsx(LA,{xs:6,md:3,lg:2,style:{marginBottom:"1rem"},children:C.jsxs(sc,{onClick:()=>n(f),style:{cursor:"pointer"},children:[p?C.jsx(sc.Img,{variant:"top",src:p}):C.jsx("div",{style:{padding:"2rem",textAlign:"center"},children:C.jsx(kC,{animation:"border"})}),C.jsx(sc.Body,{children:C.jsx(sc.Text,{style:{fontSize:"0.8rem"},children:f.handle.name})})]})})},s=(f,p)=>C.jsxs("div",{style:{marginBottom:"2rem"},children:[C.jsx("h5",{children:f}),C.jsx(LC,{children:p.map(h=>C.jsx(i,{art:h},h.handle.name))}),e&&p.includes(e)&&C.jsx("div",{style:{marginTop:"1rem"},children:C.jsx(a$,{art:e,onClose:()=>n(null)})})]},f),a=f=>C.jsxs("div",{style:{padding:"1rem"},children:[Object.entries(f).map(([p,h])=>s(p,h)),C.jsx("div",{style:{height:"500px"}})]}),u={};for(const f in t.data)u[f]=a(t.data[f]);return C.jsxs("div",{style:{padding:"1rem"},children:[C.jsx("h2",{className:"mb-3",children:"Artbook"}),C.jsx(pl,{tabs:u})]})}),u$=kt(({art:t,scene:e})=>{const[n,i]=x.useState(null);if(x.useEffect(()=>{t.getArtInfo();let a=!0;return(async()=>{const f=await t.image.getUrlObject();a&&i(f||null)})(),()=>{a=!1,t.image.revokeUrl()}},[t]),!n)return null;const s=()=>{e.removeTag(t.path)};return C.jsxs("div",{className:"d-flex align-items-center justify-content-between",children:[C.jsxs("div",{className:"d-flex align-items-center",children:[C.jsx("img",{src:n,alt:t.handle.name,style:{width:40,height:40,objectFit:"cover",marginRight:8}}),C.jsxs("div",{children:[C.jsx("div",{children:t.handle.name}),C.jsx("small",{className:"text-muted",children:t.path}),t.artInfo&&C.jsx("div",{children:C.jsx("small",{children:t.artInfo.data?.description||""})})]})]}),C.jsx(Dt,{onClick:s,label:"X"})]})}),qp=({label:t,children:e,direction:n="down",className:i,style:s})=>{const[a,u]=x.useState(!1),f=()=>{switch(n){case"right":return{top:0,left:"calc(100% - 2px)"};case"left":return{top:0,right:"calc(100% - 2px)"};default:return{top:"100%",left:0}}};return C.jsxs("div",{className:`position-relative ${i||""}`,style:{margin:0,padding:0,...s},onMouseEnter:()=>u(!0),onMouseLeave:()=>u(!1),children:[C.jsx("div",{className:"px-2 py-1 hover-bg-light",style:{cursor:"pointer",whiteSpace:"nowrap",width:"100%"},children:t}),a&&C.jsx("div",{className:"border shadow",style:{position:"absolute",backgroundColor:"var(--bs-body-bg)",zIndex:20,minWidth:150,display:"flex",flexDirection:"column",padding:0,...f()},children:e})]})},c$=({art:t,onClick:e})=>{const[n,i]=x.useState("");return x.useEffect(()=>{let s=!0;return t.image.getUrlObject().then(a=>{s&&i(a)}),()=>{s=!1,t.image.revokeUrl()}},[t]),C.jsxs("div",{className:"px-2 py-1 hover-bg-light d-flex align-items-center",style:{cursor:"pointer",gap:6},onClick:e,children:[n&&C.jsx("img",{src:n,alt:t.handle.name,style:{width:36,height:36,objectFit:"cover",borderRadius:2}}),C.jsx("span",{children:t.handle.name})]})},jg=({onClick:t,label:e="Click",className:n="",is_loading:i=!1})=>C.jsx(Dt,{onClick:t,className:`${n} ${i?"disabled":""}`,label:C.jsxs("span",{className:"d-flex align-items-center justify-content-center",children:[C.jsx("span",{className:"spinner-border spinner-border-sm me-2",role:"status","aria-hidden":"true",style:{animation:i?void 0:"none",borderColor:i?void 0:"#6c757d"}}),C.jsx("span",{children:e})]})}),f$=kt(({scene:t})=>{if(!t.sceneJson||!t.sceneJson.data)return null;const e=t.sceneJson.data.tags,n=t.project?.artbook,i=a=>{t.addTag(a)};if(!n)return null;const s=a=>Object.entries(a).map(([u,f])=>C.jsx(qp,{label:u,direction:"left",children:Object.entries(f).map(([p,h])=>C.jsx(qp,{label:p,direction:"left",children:h.map(v=>C.jsx(c$,{art:v,onClick:()=>i(v.path)},v.path))},p))},u));return C.jsx(Zg,{label:"Tags",headerExtra:C.jsxs("div",{className:"d-flex align-items-center gap-2",children:[C.jsx(qp,{label:"+ Add Tag",direction:"down",children:s(n.data)}),C.jsx(jg,{onClick:()=>{t.generateTags()},className:"btn-outline-success",label:"Generate Tags",is_loading:t.is_generating_tags}),C.jsx(Dt,{onClick:()=>t.project?.artbook?.log(),label:"Log"})]}),children:e.length?C.jsx("ul",{className:"list-group list-group-flush",children:e.map((a,u)=>{const f=n.getTag(a);return f?C.jsx("li",{className:"list-group-item",children:C.jsx(u$,{art:f,scene:t})},u):null})}):C.jsx("div",{children:"No tags yet."})})}),d$=kt(({scene:t})=>{if(!t.sceneJson)return C.jsx("div",{children:"No scene data available."});const e=async()=>{const s=await t.generateShotsJson();await t.sceneJson?.updateField("shotsjson",s)},n=async()=>{window.confirm(`Are you sure you want to delete scene "${t.folder.name}"?`)&&await t.delete()},i=async()=>{t.createShotsFromShotsJson()};return C.jsxs("div",{children:[C.jsxs("div",{style:{marginBottom:"10px"},children:[C.jsx(Dt,{onClick:n,label:"Delete Scene",className:"btn-outline-danger"}),C.jsx(Dt,{onClick:()=>t.log(),label:"LOG"})]}),C.jsx(wo,{localJson:t.sceneJson,field:"script",fitHeight:!0,headerExtra:C.jsx(jg,{onClick:e,className:"btn-outline-success",label:"Split Into Shots GPT",is_loading:t.is_generating_shotsjson})}),C.jsx(wo,{localJson:t.sceneJson,field:"shotsjson",fitHeight:!0,headerExtra:C.jsx(Dt,{onClick:i,label:"Create Shots"})}),C.jsx(f$,{scene:t})]})}),px=({label:t,value:e,onToggle:n,useIndicator:i=!1})=>i?C.jsx("div",{onClick:()=>n(!e),style:{width:"16px",height:"16px",borderRadius:"50%",backgroundColor:e?"green":"transparent",border:"2px solid green",cursor:"pointer"}}):C.jsx("button",{className:`btn btn-sm ${e?"btn-success":"btn-outline-secondary"}`,onClick:()=>n(!e),children:t}),$p="https://cdn.pixabay.com/photo/2021/05/09/06/07/dog-6240043_1280.jpg",h$=kt(({shot:t,isSelected:e,onClick:n})=>{const[i,s]=x.useState($p);return x.useEffect(()=>{let a=!1;return(async()=>{if(t.srcImage)try{const f=await t.srcImage.getUrlObject();!a&&f&&s(f)}catch(f){console.error("Failed to load srcImage URL:",f),a||s($p)}else s($p)})(),()=>{a=!0}},[t.srcImage]),C.jsxs("div",{className:"flex-shrink-0 border rounded position-relative d-flex align-items-center justify-content-center",style:{height:"100%",cursor:"pointer",borderWidth:e?2:1,borderColor:e?"#0d6efd":"#dee2e6"},onClick:()=>n(t),children:[C.jsx("img",{src:i,alt:t.folder.name,className:"img-fluid",style:{height:"100%",width:"auto",objectFit:"contain",display:"block"}}),C.jsx("div",{className:"position-absolute text-white px-1",style:{bottom:0,left:0,backgroundColor:"rgba(0,0,0,0.5)",fontSize:"0.75rem",borderTopRightRadius:"4px"},children:t.folder.name}),C.jsx("div",{className:"position-absolute",style:{top:2,right:2},onClick:a=>a.stopPropagation(),children:C.jsx(px,{label:"Finished",value:!!t.shotJson?.data?.finished,useIndicator:!0,onToggle:a=>{t.shotJson&&t.shotJson.updateField("finished",a)}})})]})}),p$=({initialHeight:t=80,minHeight:e=30,children:n})=>{const[i,s]=x.useState(t),a=x.useRef(null),u=x.useRef(!1),f=_=>{u.current=!0,_.preventDefault()},p=_=>{if(!u.current||!a.current)return;const S=a.current.getBoundingClientRect(),T=_.clientY-S.top;T>e&&s(T)},h=()=>{u.current=!1};x.useEffect(()=>(window.addEventListener("mousemove",p),window.addEventListener("mouseup",h),()=>{window.removeEventListener("mousemove",p),window.removeEventListener("mouseup",h)}),[]);const v=6;return C.jsxs("div",{ref:a,className:"position-relative",style:{height:`${i}px`},children:[C.jsx("div",{style:{height:"100%",paddingBottom:`${v}px`,boxSizing:"border-box"},children:n}),C.jsx("div",{style:{position:"absolute",bottom:0,left:0,right:0,height:`${v}px`,cursor:"ns-resize",zIndex:10,backgroundColor:"#0d6efd",opacity:.5},onMouseDown:f})]})},m$=({label:t="Media Gallery",children:e,defaultCollapsed:n=!1,className:i="",headerExtra:s})=>C.jsx(Zg,{label:t,defaultCollapsed:n,className:i,headerExtra:s,children:C.jsx("div",{className:"d-flex flex-wrap gap-2",children:e})}),g$=({localImage:t,height:e=150,topRightExtra:n})=>{const[i,s]=x.useState(null),[a,u]=x.useState(!1);return x.useEffect(()=>{let f=!0;return(async()=>{try{const h=await t.getUrlObject();f&&h&&s(h)}catch(h){console.error("Error loading LocalImage",h)}})(),()=>{f=!1}},[t]),i?C.jsxs("div",{className:"position-relative d-inline-block border rounded",style:{height:`${e}px`,cursor:"pointer"},onMouseEnter:()=>u(!0),onMouseLeave:()=>u(!1),children:[C.jsx("img",{src:i,alt:"Media",className:"img-fluid",style:{height:`${e}px`,width:"auto",objectFit:"contain",display:"block"}}),n&&a&&C.jsx("div",{className:"position-absolute",style:{top:"5px",right:"5px",zIndex:10,display:"flex",gap:"5px"},children:n})]}):C.jsx("div",{className:"d-flex align-items-center justify-content-center border rounded p-2",style:{height:`${e}px`,width:"auto"},children:"Loading..."})},v$=kt(({shot:t})=>{if(!t.shotJson)return C.jsx("div",{children:"Loading shot info..."});const e=200,n=t.images??[],i=async()=>{window.confirm(`Are you sure you want to delete shot "${t.folder.name}"?`)&&await t.delete()};return C.jsx("div",{className:"card mb-2",children:C.jsxs("div",{className:"card-body",children:[C.jsxs("div",{className:"d-flex align-items-center justify-content-between mb-2",children:[C.jsx("strong",{children:t.folder.name}),C.jsxs("div",{className:"d-flex gap-2",children:[C.jsx(px,{label:"Finished",value:!!t.shotJson.data?.finished,onToggle:s=>{t.shotJson&&t.shotJson.updateField("finished",s)}}),C.jsx(Dt,{onClick:()=>{t.log()},label:"Log Shot"}),C.jsx(Dt,{onClick:i,label:"Delete Shot",className:"btn-outline-danger"})]})]}),C.jsx(wo,{localJson:t.shotJson,field:"prompt",fitHeight:!0}),C.jsx(wo,{localJson:t.shotJson,field:"camera",fitHeight:!0}),C.jsx(wo,{localJson:t.shotJson,field:"action_description",fitHeight:!0}),C.jsx(m$,{label:"Shot Results",headerExtra:C.jsxs(C.Fragment,{children:[C.jsx(jg,{label:"Generate",className:"btn-outline-success",onClick:async()=>{t.GenerateImage()},is_loading:t.is_generating}),C.jsx(Dt,{label:"Import URL",onClick:async()=>{try{const s=await navigator.clipboard.readText();if(s&&(s.startsWith("http://")||s.startsWith("https://"))){console.log("Importing URL from clipboard:",s);const a=await pr.fromUrl(s,t.resultsFolder);t.addImage(a)}else alert("Clipboard does not contain a valid URL.")}catch(s){console.error("Failed to read clipboard:",s),alert("Failed to access clipboard.")}}})]}),children:n.map((s,a)=>C.jsx(g$,{localImage:s,height:e,topRightExtra:C.jsxs(C.Fragment,{children:[C.jsx(Dt,{onClick:()=>t.setSrcImage(s),label:"Pick"}),C.jsx(Dt,{onClick:async()=>{if(window.confirm("Delete this image?"))try{await s.delete(t.resultsFolder),t.removeImage(s)}catch(u){console.error("Failed to delete image:",u),alert("Failed to delete image.")}},label:"Delete",className:"btn-outline-danger"})]})},a))})]})})}),y$=kt(({scene:t})=>{const[e,n]=x.useState(null);x.useEffect(()=>{n(null)},[t]);const i=async()=>{const s=prompt("Enter new shot name:");if(!s)return;const a=await t.createShot(s);a&&n(a)};return C.jsxs("div",{className:"d-flex flex-column gap-3",children:[C.jsx(p$,{initialHeight:200,children:C.jsxs("div",{className:"d-flex overflow-auto gap-2 h-100",children:[t.shots.map(s=>C.jsx(h$,{shot:s,isSelected:e===s,onClick:n},s.folder.name)),C.jsx("div",{className:"mt-2",children:C.jsx(Dt,{label:"+ Add Shot",onClick:i})})]})}),C.jsx("div",{children:C.jsx(Dt,{onClick:()=>{for(const s of t.shots)s.srcImage||s.GenerateImage()},label:"Generate ALL"})}),e&&C.jsx(v$,{shot:e})]})}),_$=kt(({project:t})=>{switch(t.currentView.type){case"settings":return C.jsx(r$,{project:t});case"script":return C.jsx(s$,{project:t});case"artbook":return t.artbook?C.jsx(l$,{artbook:t.artbook}):C.jsx("div",{children:"No Artbook found."});case"scene":if(!t.selectedScene)return null;const e=t.selectedScene;return C.jsxs("div",{children:[C.jsx("h2",{children:e.folder.name}),C.jsx(pl,{tabs:{Scene:C.jsx(d$,{scene:e}),Shots:C.jsx(y$,{scene:e})}})]});default:return null}}),S$=kt(()=>{const[t]=x.useState(()=>new e$(null)),e=async()=>{try{const i=await window.showDirectoryPicker();await t.loadFromFolder(i)}catch(i){console.error(i)}},n=async i=>{let s=await i.queryPermission({mode:"readwrite"});s!=="granted"&&(s=await i.requestPermission({mode:"readwrite"})),s==="granted"&&await t.loadFromFolder(i)};return x.useEffect(()=>{(async()=>{if(await t.loadDB(),t.userSettingsDB.data.lastOpenedFolder){const s=t.userSettingsDB.data.lastOpenedFolder;let a=await s.queryPermission({mode:"readwrite"});a!=="granted"&&(a=await s.requestPermission({mode:"readwrite"})),a==="granted"&&await t.loadFromFolder(s)}})()},[]),C.jsxs("div",{style:{minHeight:"100vh"},children:[C.jsx(t$,{onOpenFolder:e,recentFolders:t.userSettingsDB.data.recentFolders,onOpenRecent:n,project:t}),C.jsxs("div",{style:{display:"flex",height:"calc(100vh - 56px)"},children:[C.jsx(i$,{project:t}),C.jsx("div",{className:"flex-grow-1 p-3",children:C.jsx(_$,{project:t})})]})]})}),E$=x.createContext(void 0),T$=({children:t})=>{const[e,n]=x.useState(null);return C.jsx(E$.Provider,{value:{contentArea:e,setContentArea:n},children:t})};qN.createRoot(document.getElementById("root")).render(C.jsx(x.StrictMode,{children:C.jsx(T$,{children:C.jsx(S$,{})})}));
