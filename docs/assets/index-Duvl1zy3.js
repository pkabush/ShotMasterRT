function VP(t,e){for(var n=0;n<e.length;n++){const i=e[n];if(typeof i!="string"&&!Array.isArray(i)){for(const r in i)if(r!=="default"&&!(r in t)){const a=Object.getOwnPropertyDescriptor(i,r);a&&Object.defineProperty(t,r,a.get?a:{enumerable:!0,get:()=>i[r]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const a of r)if(a.type==="childList")for(const u of a.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function n(r){const a={};return r.integrity&&(a.integrity=r.integrity),r.referrerPolicy&&(a.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?a.credentials="include":r.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(r){if(r.ep)return;r.ep=!0;const a=n(r);fetch(r.href,a)}})();function Eu(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Xm={exports:{}},Pl={};var kE;function zP(){if(kE)return Pl;kE=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(i,r,a){var u=null;if(a!==void 0&&(u=""+a),r.key!==void 0&&(u=""+r.key),"key"in r){a={};for(var c in r)c!=="key"&&(a[c]=r[c])}else a=r;return r=a.ref,{$$typeof:t,type:i,key:u,ref:r!==void 0?r:null,props:a}}return Pl.Fragment=e,Pl.jsx=n,Pl.jsxs=n,Pl}var LE;function qP(){return LE||(LE=1,Xm.exports=zP()),Xm.exports}var E=qP(),Wm={exports:{}},xe={};var UE;function JP(){if(UE)return xe;UE=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),u=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),y=Symbol.for("react.activity"),S=Symbol.iterator;function b(k){return k===null||typeof k!="object"?null:(k=S&&k[S]||k["@@iterator"],typeof k=="function"?k:null)}var T={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,x={};function M(k,j,se){this.props=k,this.context=j,this.refs=x,this.updater=se||T}M.prototype.isReactComponent={},M.prototype.setState=function(k,j){if(typeof k!="object"&&typeof k!="function"&&k!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,k,j,"setState")},M.prototype.forceUpdate=function(k){this.updater.enqueueForceUpdate(this,k,"forceUpdate")};function I(){}I.prototype=M.prototype;function N(k,j,se){this.props=k,this.context=j,this.refs=x,this.updater=se||T}var D=N.prototype=new I;D.constructor=N,A(D,M.prototype),D.isPureReactComponent=!0;var L=Array.isArray;function U(){}var O={H:null,A:null,T:null,S:null},q=Object.prototype.hasOwnProperty;function J(k,j,se){var le=se.ref;return{$$typeof:t,type:k,key:j,ref:le!==void 0?le:null,props:se}}function Y(k,j){return J(k.type,j,k.props)}function W(k){return typeof k=="object"&&k!==null&&k.$$typeof===t}function re(k){var j={"=":"=0",":":"=2"};return"$"+k.replace(/[=:]/g,function(se){return j[se]})}var ie=/\/+/g;function ae(k,j){return typeof k=="object"&&k!==null&&k.key!=null?re(""+k.key):j.toString(36)}function de(k){switch(k.status){case"fulfilled":return k.value;case"rejected":throw k.reason;default:switch(typeof k.status=="string"?k.then(U,U):(k.status="pending",k.then(function(j){k.status==="pending"&&(k.status="fulfilled",k.value=j)},function(j){k.status==="pending"&&(k.status="rejected",k.reason=j)})),k.status){case"fulfilled":return k.value;case"rejected":throw k.reason}}throw k}function F(k,j,se,le,me){var be=typeof k;(be==="undefined"||be==="boolean")&&(k=null);var ve=!1;if(k===null)ve=!0;else switch(be){case"bigint":case"string":case"number":ve=!0;break;case"object":switch(k.$$typeof){case t:case e:ve=!0;break;case m:return ve=k._init,F(ve(k._payload),j,se,le,me)}}if(ve)return me=me(k),ve=le===""?"."+ae(k,0):le,L(me)?(se="",ve!=null&&(se=ve.replace(ie,"$&/")+"/"),F(me,j,se,"",function(rn){return rn})):me!=null&&(W(me)&&(me=Y(me,se+(me.key==null||k&&k.key===me.key?"":(""+me.key).replace(ie,"$&/")+"/")+ve)),j.push(me)),1;ve=0;var ze=le===""?".":le+":";if(L(k))for(var qe=0;qe<k.length;qe++)le=k[qe],be=ze+ae(le,qe),ve+=F(le,j,se,be,me);else if(qe=b(k),typeof qe=="function")for(k=qe.call(k),qe=0;!(le=k.next()).done;)le=le.value,be=ze+ae(le,qe++),ve+=F(le,j,se,be,me);else if(be==="object"){if(typeof k.then=="function")return F(de(k),j,se,le,me);throw j=String(k),Error("Objects are not valid as a React child (found: "+(j==="[object Object]"?"object with keys {"+Object.keys(k).join(", ")+"}":j)+"). If you meant to render a collection of children, use an array instead.")}return ve}function Q(k,j,se){if(k==null)return k;var le=[],me=0;return F(k,le,"","",function(be){return j.call(se,be,me++)}),le}function ee(k){if(k._status===-1){var j=k._result;j=j(),j.then(function(se){(k._status===0||k._status===-1)&&(k._status=1,k._result=se)},function(se){(k._status===0||k._status===-1)&&(k._status=2,k._result=se)}),k._status===-1&&(k._status=0,k._result=j)}if(k._status===1)return k._result.default;throw k._result}var ne=typeof reportError=="function"?reportError:function(k){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var j=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof k=="object"&&k!==null&&typeof k.message=="string"?String(k.message):String(k),error:k});if(!window.dispatchEvent(j))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",k);return}console.error(k)},ce={map:Q,forEach:function(k,j,se){Q(k,function(){j.apply(this,arguments)},se)},count:function(k){var j=0;return Q(k,function(){j++}),j},toArray:function(k){return Q(k,function(j){return j})||[]},only:function(k){if(!W(k))throw Error("React.Children.only expected to receive a single React element child.");return k}};return xe.Activity=y,xe.Children=ce,xe.Component=M,xe.Fragment=n,xe.Profiler=r,xe.PureComponent=N,xe.StrictMode=i,xe.Suspense=p,xe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=O,xe.__COMPILER_RUNTIME={__proto__:null,c:function(k){return O.H.useMemoCache(k)}},xe.cache=function(k){return function(){return k.apply(null,arguments)}},xe.cacheSignal=function(){return null},xe.cloneElement=function(k,j,se){if(k==null)throw Error("The argument must be a React element, but you passed "+k+".");var le=A({},k.props),me=k.key;if(j!=null)for(be in j.key!==void 0&&(me=""+j.key),j)!q.call(j,be)||be==="key"||be==="__self"||be==="__source"||be==="ref"&&j.ref===void 0||(le[be]=j[be]);var be=arguments.length-2;if(be===1)le.children=se;else if(1<be){for(var ve=Array(be),ze=0;ze<be;ze++)ve[ze]=arguments[ze+2];le.children=ve}return J(k.type,me,le)},xe.createContext=function(k){return k={$$typeof:u,_currentValue:k,_currentValue2:k,_threadCount:0,Provider:null,Consumer:null},k.Provider=k,k.Consumer={$$typeof:a,_context:k},k},xe.createElement=function(k,j,se){var le,me={},be=null;if(j!=null)for(le in j.key!==void 0&&(be=""+j.key),j)q.call(j,le)&&le!=="key"&&le!=="__self"&&le!=="__source"&&(me[le]=j[le]);var ve=arguments.length-2;if(ve===1)me.children=se;else if(1<ve){for(var ze=Array(ve),qe=0;qe<ve;qe++)ze[qe]=arguments[qe+2];me.children=ze}if(k&&k.defaultProps)for(le in ve=k.defaultProps,ve)me[le]===void 0&&(me[le]=ve[le]);return J(k,be,me)},xe.createRef=function(){return{current:null}},xe.forwardRef=function(k){return{$$typeof:c,render:k}},xe.isValidElement=W,xe.lazy=function(k){return{$$typeof:m,_payload:{_status:-1,_result:k},_init:ee}},xe.memo=function(k,j){return{$$typeof:d,type:k,compare:j===void 0?null:j}},xe.startTransition=function(k){var j=O.T,se={};O.T=se;try{var le=k(),me=O.S;me!==null&&me(se,le),typeof le=="object"&&le!==null&&typeof le.then=="function"&&le.then(U,ne)}catch(be){ne(be)}finally{j!==null&&se.types!==null&&(j.types=se.types),O.T=j}},xe.unstable_useCacheRefresh=function(){return O.H.useCacheRefresh()},xe.use=function(k){return O.H.use(k)},xe.useActionState=function(k,j,se){return O.H.useActionState(k,j,se)},xe.useCallback=function(k,j){return O.H.useCallback(k,j)},xe.useContext=function(k){return O.H.useContext(k)},xe.useDebugValue=function(){},xe.useDeferredValue=function(k,j){return O.H.useDeferredValue(k,j)},xe.useEffect=function(k,j){return O.H.useEffect(k,j)},xe.useEffectEvent=function(k){return O.H.useEffectEvent(k)},xe.useId=function(){return O.H.useId()},xe.useImperativeHandle=function(k,j,se){return O.H.useImperativeHandle(k,j,se)},xe.useInsertionEffect=function(k,j){return O.H.useInsertionEffect(k,j)},xe.useLayoutEffect=function(k,j){return O.H.useLayoutEffect(k,j)},xe.useMemo=function(k,j){return O.H.useMemo(k,j)},xe.useOptimistic=function(k,j){return O.H.useOptimistic(k,j)},xe.useReducer=function(k,j,se){return O.H.useReducer(k,j,se)},xe.useRef=function(k){return O.H.useRef(k)},xe.useState=function(k){return O.H.useState(k)},xe.useSyncExternalStore=function(k,j,se){return O.H.useSyncExternalStore(k,j,se)},xe.useTransition=function(){return O.H.useTransition()},xe.version="19.2.1",xe}var BE;function jd(){return BE||(BE=1,Wm.exports=JP()),Wm.exports}var w=jd();const tt=Eu(w),HA=VP({__proto__:null,default:tt},[w]);var Qm={exports:{}},kl={},Zm={exports:{}},eg={};var FE;function KP(){return FE||(FE=1,(function(t){function e(F,Q){var ee=F.length;F.push(Q);e:for(;0<ee;){var ne=ee-1>>>1,ce=F[ne];if(0<r(ce,Q))F[ne]=Q,F[ee]=ce,ee=ne;else break e}}function n(F){return F.length===0?null:F[0]}function i(F){if(F.length===0)return null;var Q=F[0],ee=F.pop();if(ee!==Q){F[0]=ee;e:for(var ne=0,ce=F.length,k=ce>>>1;ne<k;){var j=2*(ne+1)-1,se=F[j],le=j+1,me=F[le];if(0>r(se,ee))le<ce&&0>r(me,se)?(F[ne]=me,F[le]=ee,ne=le):(F[ne]=se,F[j]=ee,ne=j);else if(le<ce&&0>r(me,ee))F[ne]=me,F[le]=ee,ne=le;else break e}}return Q}function r(F,Q){var ee=F.sortIndex-Q.sortIndex;return ee!==0?ee:F.id-Q.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var u=Date,c=u.now();t.unstable_now=function(){return u.now()-c}}var p=[],d=[],m=1,y=null,S=3,b=!1,T=!1,A=!1,x=!1,M=typeof setTimeout=="function"?setTimeout:null,I=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;function D(F){for(var Q=n(d);Q!==null;){if(Q.callback===null)i(d);else if(Q.startTime<=F)i(d),Q.sortIndex=Q.expirationTime,e(p,Q);else break;Q=n(d)}}function L(F){if(A=!1,D(F),!T)if(n(p)!==null)T=!0,U||(U=!0,re());else{var Q=n(d);Q!==null&&de(L,Q.startTime-F)}}var U=!1,O=-1,q=5,J=-1;function Y(){return x?!0:!(t.unstable_now()-J<q)}function W(){if(x=!1,U){var F=t.unstable_now();J=F;var Q=!0;try{e:{T=!1,A&&(A=!1,I(O),O=-1),b=!0;var ee=S;try{t:{for(D(F),y=n(p);y!==null&&!(y.expirationTime>F&&Y());){var ne=y.callback;if(typeof ne=="function"){y.callback=null,S=y.priorityLevel;var ce=ne(y.expirationTime<=F);if(F=t.unstable_now(),typeof ce=="function"){y.callback=ce,D(F),Q=!0;break t}y===n(p)&&i(p),D(F)}else i(p);y=n(p)}if(y!==null)Q=!0;else{var k=n(d);k!==null&&de(L,k.startTime-F),Q=!1}}break e}finally{y=null,S=ee,b=!1}Q=void 0}}finally{Q?re():U=!1}}}var re;if(typeof N=="function")re=function(){N(W)};else if(typeof MessageChannel<"u"){var ie=new MessageChannel,ae=ie.port2;ie.port1.onmessage=W,re=function(){ae.postMessage(null)}}else re=function(){M(W,0)};function de(F,Q){O=M(function(){F(t.unstable_now())},Q)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(F){F.callback=null},t.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):q=0<F?Math.floor(1e3/F):5},t.unstable_getCurrentPriorityLevel=function(){return S},t.unstable_next=function(F){switch(S){case 1:case 2:case 3:var Q=3;break;default:Q=S}var ee=S;S=Q;try{return F()}finally{S=ee}},t.unstable_requestPaint=function(){x=!0},t.unstable_runWithPriority=function(F,Q){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var ee=S;S=F;try{return Q()}finally{S=ee}},t.unstable_scheduleCallback=function(F,Q,ee){var ne=t.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?ne+ee:ne):ee=ne,F){case 1:var ce=-1;break;case 2:ce=250;break;case 5:ce=1073741823;break;case 4:ce=1e4;break;default:ce=5e3}return ce=ee+ce,F={id:m++,callback:Q,priorityLevel:F,startTime:ee,expirationTime:ce,sortIndex:-1},ee>ne?(F.sortIndex=ee,e(d,F),n(p)===null&&F===n(d)&&(A?(I(O),O=-1):A=!0,de(L,ee-ne))):(F.sortIndex=ce,e(p,F),T||b||(T=!0,U||(U=!0,re()))),F},t.unstable_shouldYield=Y,t.unstable_wrapCallback=function(F){var Q=S;return function(){var ee=S;S=Q;try{return F.apply(this,arguments)}finally{S=ee}}}})(eg)),eg}var $E;function jP(){return $E||($E=1,Zm.exports=KP()),Zm.exports}var tg={exports:{}},Lt={};var HE;function YP(){if(HE)return Lt;HE=1;var t=jd();function e(p){var d="https://react.dev/errors/"+p;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)d+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+p+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},r=Symbol.for("react.portal");function a(p,d,m){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:y==null?null:""+y,children:p,containerInfo:d,implementation:m}}var u=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(p,d){if(p==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return Lt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Lt.createPortal=function(p,d){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(e(299));return a(p,d,null,m)},Lt.flushSync=function(p){var d=u.T,m=i.p;try{if(u.T=null,i.p=2,p)return p()}finally{u.T=d,i.p=m,i.d.f()}},Lt.preconnect=function(p,d){typeof p=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,i.d.C(p,d))},Lt.prefetchDNS=function(p){typeof p=="string"&&i.d.D(p)},Lt.preinit=function(p,d){if(typeof p=="string"&&d&&typeof d.as=="string"){var m=d.as,y=c(m,d.crossOrigin),S=typeof d.integrity=="string"?d.integrity:void 0,b=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;m==="style"?i.d.S(p,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:y,integrity:S,fetchPriority:b}):m==="script"&&i.d.X(p,{crossOrigin:y,integrity:S,fetchPriority:b,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},Lt.preinitModule=function(p,d){if(typeof p=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var m=c(d.as,d.crossOrigin);i.d.M(p,{crossOrigin:m,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&i.d.M(p)},Lt.preload=function(p,d){if(typeof p=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var m=d.as,y=c(m,d.crossOrigin);i.d.L(p,m,{crossOrigin:y,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},Lt.preloadModule=function(p,d){if(typeof p=="string")if(d){var m=c(d.as,d.crossOrigin);i.d.m(p,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:m,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else i.d.m(p)},Lt.requestFormReset=function(p){i.d.r(p)},Lt.unstable_batchedUpdates=function(p,d){return p(d)},Lt.useFormState=function(p,d,m){return u.H.useFormState(p,d,m)},Lt.useFormStatus=function(){return u.H.useHostTransitionStatus()},Lt.version="19.2.1",Lt}var GE;function GA(){if(GE)return tg.exports;GE=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),tg.exports=YP(),tg.exports}var VE;function XP(){if(VE)return kl;VE=1;var t=jP(),e=jd(),n=GA();function i(o){var s="https://react.dev/errors/"+o;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)s+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+o+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function a(o){var s=o,l=o;if(o.alternate)for(;s.return;)s=s.return;else{o=s;do s=o,(s.flags&4098)!==0&&(l=s.return),o=s.return;while(o)}return s.tag===3?l:null}function u(o){if(o.tag===13){var s=o.memoizedState;if(s===null&&(o=o.alternate,o!==null&&(s=o.memoizedState)),s!==null)return s.dehydrated}return null}function c(o){if(o.tag===31){var s=o.memoizedState;if(s===null&&(o=o.alternate,o!==null&&(s=o.memoizedState)),s!==null)return s.dehydrated}return null}function p(o){if(a(o)!==o)throw Error(i(188))}function d(o){var s=o.alternate;if(!s){if(s=a(o),s===null)throw Error(i(188));return s!==o?null:o}for(var l=o,f=s;;){var v=l.return;if(v===null)break;var _=v.alternate;if(_===null){if(f=v.return,f!==null){l=f;continue}break}if(v.child===_.child){for(_=v.child;_;){if(_===l)return p(v),o;if(_===f)return p(v),s;_=_.sibling}throw Error(i(188))}if(l.return!==f.return)l=v,f=_;else{for(var C=!1,R=v.child;R;){if(R===l){C=!0,l=v,f=_;break}if(R===f){C=!0,f=v,l=_;break}R=R.sibling}if(!C){for(R=_.child;R;){if(R===l){C=!0,l=_,f=v;break}if(R===f){C=!0,f=_,l=v;break}R=R.sibling}if(!C)throw Error(i(189))}}if(l.alternate!==f)throw Error(i(190))}if(l.tag!==3)throw Error(i(188));return l.stateNode.current===l?o:s}function m(o){var s=o.tag;if(s===5||s===26||s===27||s===6)return o;for(o=o.child;o!==null;){if(s=m(o),s!==null)return s;o=o.sibling}return null}var y=Object.assign,S=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),T=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),x=Symbol.for("react.strict_mode"),M=Symbol.for("react.profiler"),I=Symbol.for("react.consumer"),N=Symbol.for("react.context"),D=Symbol.for("react.forward_ref"),L=Symbol.for("react.suspense"),U=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),q=Symbol.for("react.lazy"),J=Symbol.for("react.activity"),Y=Symbol.for("react.memo_cache_sentinel"),W=Symbol.iterator;function re(o){return o===null||typeof o!="object"?null:(o=W&&o[W]||o["@@iterator"],typeof o=="function"?o:null)}var ie=Symbol.for("react.client.reference");function ae(o){if(o==null)return null;if(typeof o=="function")return o.$$typeof===ie?null:o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case A:return"Fragment";case M:return"Profiler";case x:return"StrictMode";case L:return"Suspense";case U:return"SuspenseList";case J:return"Activity"}if(typeof o=="object")switch(o.$$typeof){case T:return"Portal";case N:return o.displayName||"Context";case I:return(o._context.displayName||"Context")+".Consumer";case D:var s=o.render;return o=o.displayName,o||(o=s.displayName||s.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case O:return s=o.displayName||null,s!==null?s:ae(o.type)||"Memo";case q:s=o._payload,o=o._init;try{return ae(o(s))}catch{}}return null}var de=Array.isArray,F=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Q=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ee={pending:!1,data:null,method:null,action:null},ne=[],ce=-1;function k(o){return{current:o}}function j(o){0>ce||(o.current=ne[ce],ne[ce]=null,ce--)}function se(o,s){ce++,ne[ce]=o.current,o.current=s}var le=k(null),me=k(null),be=k(null),ve=k(null);function ze(o,s){switch(se(be,s),se(me,o),se(le,null),s.nodeType){case 9:case 11:o=(o=s.documentElement)&&(o=o.namespaceURI)?oE(o):0;break;default:if(o=s.tagName,s=s.namespaceURI)s=oE(s),o=rE(s,o);else switch(o){case"svg":o=1;break;case"math":o=2;break;default:o=0}}j(le),se(le,o)}function qe(){j(le),j(me),j(be)}function rn(o){o.memoizedState!==null&&se(ve,o);var s=le.current,l=rE(s,o.type);s!==l&&(se(me,o),se(le,l))}function Cn(o){me.current===o&&(j(le),j(me)),ve.current===o&&(j(ve),Nl._currentValue=ee)}var pi,qt;function Jt(o){if(pi===void 0)try{throw Error()}catch(l){var s=l.stack.trim().match(/\n( *(at )?)/);pi=s&&s[1]||"",qt=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+pi+o+qt}var Ze=!1;function Ui(o,s){if(!o||Ze)return"";Ze=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var f={DetermineComponentFrameRoot:function(){try{if(s){var te=function(){throw Error()};if(Object.defineProperty(te.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(te,[])}catch(K){var z=K}Reflect.construct(o,[],te)}else{try{te.call()}catch(K){z=K}o.call(te.prototype)}}else{try{throw Error()}catch(K){z=K}(te=o())&&typeof te.catch=="function"&&te.catch(function(){})}}catch(K){if(K&&z&&typeof K.stack=="string")return[K.stack,z.stack]}return[null,null]}};f.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var v=Object.getOwnPropertyDescriptor(f.DetermineComponentFrameRoot,"name");v&&v.configurable&&Object.defineProperty(f.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var _=f.DetermineComponentFrameRoot(),C=_[0],R=_[1];if(C&&R){var P=C.split(`
`),G=R.split(`
`);for(v=f=0;f<P.length&&!P[f].includes("DetermineComponentFrameRoot");)f++;for(;v<G.length&&!G[v].includes("DetermineComponentFrameRoot");)v++;if(f===P.length||v===G.length)for(f=P.length-1,v=G.length-1;1<=f&&0<=v&&P[f]!==G[v];)v--;for(;1<=f&&0<=v;f--,v--)if(P[f]!==G[v]){if(f!==1||v!==1)do if(f--,v--,0>v||P[f]!==G[v]){var X=`
`+P[f].replace(" at new "," at ");return o.displayName&&X.includes("<anonymous>")&&(X=X.replace("<anonymous>",o.displayName)),X}while(1<=f&&0<=v);break}}}finally{Ze=!1,Error.prepareStackTrace=l}return(l=o?o.displayName||o.name:"")?Jt(l):""}function Eo(o,s){switch(o.tag){case 26:case 27:case 5:return Jt(o.type);case 16:return Jt("Lazy");case 13:return o.child!==s&&s!==null?Jt("Suspense Fallback"):Jt("Suspense");case 19:return Jt("SuspenseList");case 0:case 15:return Ui(o.type,!1);case 11:return Ui(o.type.render,!1);case 1:return Ui(o.type,!0);case 31:return Jt("Activity");default:return""}}function Xu(o){try{var s="",l=null;do s+=Eo(o,l),l=o,o=o.return;while(o);return s}catch(f){return`
Error generating stack: `+f.message+`
`+f.stack}}var Fa=Object.prototype.hasOwnProperty,jn=t.unstable_scheduleCallback,wo=t.unstable_cancelCallback,Wu=t.unstable_shouldYield,Qu=t.unstable_requestPaint,At=t.unstable_now,Zu=t.unstable_getCurrentPriorityLevel,$a=t.unstable_ImmediatePriority,Ha=t.unstable_UserBlockingPriority,mr=t.unstable_NormalPriority,CO=t.unstable_LowPriority,B_=t.unstable_IdlePriority,TO=t.log,AO=t.unstable_setDisableYieldValue,Ga=null,sn=null;function Co(o){if(typeof TO=="function"&&AO(o),sn&&typeof sn.setStrictMode=="function")try{sn.setStrictMode(Ga,o)}catch{}}var an=Math.clz32?Math.clz32:MO,xO=Math.log,RO=Math.LN2;function MO(o){return o>>>=0,o===0?32:31-(xO(o)/RO|0)|0}var ec=256,tc=262144,nc=4194304;function gr(o){var s=o&42;if(s!==0)return s;switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return o&261888;case 262144:case 524288:case 1048576:case 2097152:return o&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return o&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return o}}function ic(o,s,l){var f=o.pendingLanes;if(f===0)return 0;var v=0,_=o.suspendedLanes,C=o.pingedLanes;o=o.warmLanes;var R=f&134217727;return R!==0?(f=R&~_,f!==0?v=gr(f):(C&=R,C!==0?v=gr(C):l||(l=R&~o,l!==0&&(v=gr(l))))):(R=f&~_,R!==0?v=gr(R):C!==0?v=gr(C):l||(l=f&~o,l!==0&&(v=gr(l)))),v===0?0:s!==0&&s!==v&&(s&_)===0&&(_=v&-v,l=s&-s,_>=l||_===32&&(l&4194048)!==0)?s:v}function Va(o,s){return(o.pendingLanes&~(o.suspendedLanes&~o.pingedLanes)&s)===0}function NO(o,s){switch(o){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function F_(){var o=nc;return nc<<=1,(nc&62914560)===0&&(nc=4194304),o}function Bp(o){for(var s=[],l=0;31>l;l++)s.push(o);return s}function za(o,s){o.pendingLanes|=s,s!==268435456&&(o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0)}function IO(o,s,l,f,v,_){var C=o.pendingLanes;o.pendingLanes=l,o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0,o.expiredLanes&=l,o.entangledLanes&=l,o.errorRecoveryDisabledLanes&=l,o.shellSuspendCounter=0;var R=o.entanglements,P=o.expirationTimes,G=o.hiddenUpdates;for(l=C&~l;0<l;){var X=31-an(l),te=1<<X;R[X]=0,P[X]=-1;var z=G[X];if(z!==null)for(G[X]=null,X=0;X<z.length;X++){var K=z[X];K!==null&&(K.lane&=-536870913)}l&=~te}f!==0&&$_(o,f,0),_!==0&&v===0&&o.tag!==0&&(o.suspendedLanes|=_&~(C&~s))}function $_(o,s,l){o.pendingLanes|=s,o.suspendedLanes&=~s;var f=31-an(s);o.entangledLanes|=s,o.entanglements[f]=o.entanglements[f]|1073741824|l&261930}function H_(o,s){var l=o.entangledLanes|=s;for(o=o.entanglements;l;){var f=31-an(l),v=1<<f;v&s|o[f]&s&&(o[f]|=s),l&=~v}}function G_(o,s){var l=s&-s;return l=(l&42)!==0?1:Fp(l),(l&(o.suspendedLanes|s))!==0?0:l}function Fp(o){switch(o){case 2:o=1;break;case 8:o=4;break;case 32:o=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:o=128;break;case 268435456:o=134217728;break;default:o=0}return o}function $p(o){return o&=-o,2<o?8<o?(o&134217727)!==0?32:268435456:8:2}function V_(){var o=Q.p;return o!==0?o:(o=window.event,o===void 0?32:RE(o.type))}function z_(o,s){var l=Q.p;try{return Q.p=o,s()}finally{Q.p=l}}var To=Math.random().toString(36).slice(2),xt="__reactFiber$"+To,Kt="__reactProps$"+To,as="__reactContainer$"+To,Hp="__reactEvents$"+To,DO="__reactListeners$"+To,OO="__reactHandles$"+To,q_="__reactResources$"+To,qa="__reactMarker$"+To;function Gp(o){delete o[xt],delete o[Kt],delete o[Hp],delete o[DO],delete o[OO]}function ls(o){var s=o[xt];if(s)return s;for(var l=o.parentNode;l;){if(s=l[as]||l[xt]){if(l=s.alternate,s.child!==null||l!==null&&l.child!==null)for(o=dE(o);o!==null;){if(l=o[xt])return l;o=dE(o)}return s}o=l,l=o.parentNode}return null}function us(o){if(o=o[xt]||o[as]){var s=o.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return o}return null}function Ja(o){var s=o.tag;if(s===5||s===26||s===27||s===6)return o.stateNode;throw Error(i(33))}function cs(o){var s=o[q_];return s||(s=o[q_]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function bt(o){o[qa]=!0}var J_=new Set,K_={};function vr(o,s){fs(o,s),fs(o+"Capture",s)}function fs(o,s){for(K_[o]=s,o=0;o<s.length;o++)J_.add(s[o])}var PO=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),j_={},Y_={};function kO(o){return Fa.call(Y_,o)?!0:Fa.call(j_,o)?!1:PO.test(o)?Y_[o]=!0:(j_[o]=!0,!1)}function oc(o,s,l){if(kO(s))if(l===null)o.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":o.removeAttribute(s);return;case"boolean":var f=s.toLowerCase().slice(0,5);if(f!=="data-"&&f!=="aria-"){o.removeAttribute(s);return}}o.setAttribute(s,""+l)}}function rc(o,s,l){if(l===null)o.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(s);return}o.setAttribute(s,""+l)}}function Bi(o,s,l,f){if(f===null)o.removeAttribute(l);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(l);return}o.setAttributeNS(s,l,""+f)}}function Tn(o){switch(typeof o){case"bigint":case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function X_(o){var s=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function LO(o,s,l){var f=Object.getOwnPropertyDescriptor(o.constructor.prototype,s);if(!o.hasOwnProperty(s)&&typeof f<"u"&&typeof f.get=="function"&&typeof f.set=="function"){var v=f.get,_=f.set;return Object.defineProperty(o,s,{configurable:!0,get:function(){return v.call(this)},set:function(C){l=""+C,_.call(this,C)}}),Object.defineProperty(o,s,{enumerable:f.enumerable}),{getValue:function(){return l},setValue:function(C){l=""+C},stopTracking:function(){o._valueTracker=null,delete o[s]}}}}function Vp(o){if(!o._valueTracker){var s=X_(o)?"checked":"value";o._valueTracker=LO(o,s,""+o[s])}}function W_(o){if(!o)return!1;var s=o._valueTracker;if(!s)return!0;var l=s.getValue(),f="";return o&&(f=X_(o)?o.checked?"true":"false":o.value),o=f,o!==l?(s.setValue(o),!0):!1}function sc(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}var UO=/[\n"\\]/g;function An(o){return o.replace(UO,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function zp(o,s,l,f,v,_,C,R){o.name="",C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?o.type=C:o.removeAttribute("type"),s!=null?C==="number"?(s===0&&o.value===""||o.value!=s)&&(o.value=""+Tn(s)):o.value!==""+Tn(s)&&(o.value=""+Tn(s)):C!=="submit"&&C!=="reset"||o.removeAttribute("value"),s!=null?qp(o,C,Tn(s)):l!=null?qp(o,C,Tn(l)):f!=null&&o.removeAttribute("value"),v==null&&_!=null&&(o.defaultChecked=!!_),v!=null&&(o.checked=v&&typeof v!="function"&&typeof v!="symbol"),R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"?o.name=""+Tn(R):o.removeAttribute("name")}function Q_(o,s,l,f,v,_,C,R){if(_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(o.type=_),s!=null||l!=null){if(!(_!=="submit"&&_!=="reset"||s!=null)){Vp(o);return}l=l!=null?""+Tn(l):"",s=s!=null?""+Tn(s):l,R||s===o.value||(o.value=s),o.defaultValue=s}f=f??v,f=typeof f!="function"&&typeof f!="symbol"&&!!f,o.checked=R?o.checked:!!f,o.defaultChecked=!!f,C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"&&(o.name=C),Vp(o)}function qp(o,s,l){s==="number"&&sc(o.ownerDocument)===o||o.defaultValue===""+l||(o.defaultValue=""+l)}function ds(o,s,l,f){if(o=o.options,s){s={};for(var v=0;v<l.length;v++)s["$"+l[v]]=!0;for(l=0;l<o.length;l++)v=s.hasOwnProperty("$"+o[l].value),o[l].selected!==v&&(o[l].selected=v),v&&f&&(o[l].defaultSelected=!0)}else{for(l=""+Tn(l),s=null,v=0;v<o.length;v++){if(o[v].value===l){o[v].selected=!0,f&&(o[v].defaultSelected=!0);return}s!==null||o[v].disabled||(s=o[v])}s!==null&&(s.selected=!0)}}function Z_(o,s,l){if(s!=null&&(s=""+Tn(s),s!==o.value&&(o.value=s),l==null)){o.defaultValue!==s&&(o.defaultValue=s);return}o.defaultValue=l!=null?""+Tn(l):""}function e0(o,s,l,f){if(s==null){if(f!=null){if(l!=null)throw Error(i(92));if(de(f)){if(1<f.length)throw Error(i(93));f=f[0]}l=f}l==null&&(l=""),s=l}l=Tn(s),o.defaultValue=l,f=o.textContent,f===l&&f!==""&&f!==null&&(o.value=f),Vp(o)}function ps(o,s){if(s){var l=o.firstChild;if(l&&l===o.lastChild&&l.nodeType===3){l.nodeValue=s;return}}o.textContent=s}var BO=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function t0(o,s,l){var f=s.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?f?o.setProperty(s,""):s==="float"?o.cssFloat="":o[s]="":f?o.setProperty(s,l):typeof l!="number"||l===0||BO.has(s)?s==="float"?o.cssFloat=l:o[s]=(""+l).trim():o[s]=l+"px"}function n0(o,s,l){if(s!=null&&typeof s!="object")throw Error(i(62));if(o=o.style,l!=null){for(var f in l)!l.hasOwnProperty(f)||s!=null&&s.hasOwnProperty(f)||(f.indexOf("--")===0?o.setProperty(f,""):f==="float"?o.cssFloat="":o[f]="");for(var v in s)f=s[v],s.hasOwnProperty(v)&&l[v]!==f&&t0(o,v,f)}else for(var _ in s)s.hasOwnProperty(_)&&t0(o,_,s[_])}function Jp(o){if(o.indexOf("-")===-1)return!1;switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var FO=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),$O=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ac(o){return $O.test(""+o)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":o}function Fi(){}var Kp=null;function jp(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var hs=null,ms=null;function i0(o){var s=us(o);if(s&&(o=s.stateNode)){var l=o[Kt]||null;e:switch(o=s.stateNode,s.type){case"input":if(zp(o,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),s=l.name,l.type==="radio"&&s!=null){for(l=o;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+An(""+s)+'"][type="radio"]'),s=0;s<l.length;s++){var f=l[s];if(f!==o&&f.form===o.form){var v=f[Kt]||null;if(!v)throw Error(i(90));zp(f,v.value,v.defaultValue,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name)}}for(s=0;s<l.length;s++)f=l[s],f.form===o.form&&W_(f)}break e;case"textarea":Z_(o,l.value,l.defaultValue);break e;case"select":s=l.value,s!=null&&ds(o,!!l.multiple,s,!1)}}}var Yp=!1;function o0(o,s,l){if(Yp)return o(s,l);Yp=!0;try{var f=o(s);return f}finally{if(Yp=!1,(hs!==null||ms!==null)&&(jc(),hs&&(s=hs,o=ms,ms=hs=null,i0(s),o)))for(s=0;s<o.length;s++)i0(o[s])}}function Ka(o,s){var l=o.stateNode;if(l===null)return null;var f=l[Kt]||null;if(f===null)return null;l=f[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(o=o.type,f=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!f;break e;default:o=!1}if(o)return null;if(l&&typeof l!="function")throw Error(i(231,s,typeof l));return l}var $i=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Xp=!1;if($i)try{var ja={};Object.defineProperty(ja,"passive",{get:function(){Xp=!0}}),window.addEventListener("test",ja,ja),window.removeEventListener("test",ja,ja)}catch{Xp=!1}var Ao=null,Wp=null,lc=null;function r0(){if(lc)return lc;var o,s=Wp,l=s.length,f,v="value"in Ao?Ao.value:Ao.textContent,_=v.length;for(o=0;o<l&&s[o]===v[o];o++);var C=l-o;for(f=1;f<=C&&s[l-f]===v[_-f];f++);return lc=v.slice(o,1<f?1-f:void 0)}function uc(o){var s=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&s===13&&(o=13)):o=s,o===10&&(o=13),32<=o||o===13?o:0}function cc(){return!0}function s0(){return!1}function jt(o){function s(l,f,v,_,C){this._reactName=l,this._targetInst=v,this.type=f,this.nativeEvent=_,this.target=C,this.currentTarget=null;for(var R in o)o.hasOwnProperty(R)&&(l=o[R],this[R]=l?l(_):_[R]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?cc:s0,this.isPropagationStopped=s0,this}return y(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=cc)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=cc)},persist:function(){},isPersistent:cc}),s}var yr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},fc=jt(yr),Ya=y({},yr,{view:0,detail:0}),HO=jt(Ya),Qp,Zp,Xa,dc=y({},Ya,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:th,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==Xa&&(Xa&&o.type==="mousemove"?(Qp=o.screenX-Xa.screenX,Zp=o.screenY-Xa.screenY):Zp=Qp=0,Xa=o),Qp)},movementY:function(o){return"movementY"in o?o.movementY:Zp}}),a0=jt(dc),GO=y({},dc,{dataTransfer:0}),VO=jt(GO),zO=y({},Ya,{relatedTarget:0}),eh=jt(zO),qO=y({},yr,{animationName:0,elapsedTime:0,pseudoElement:0}),JO=jt(qO),KO=y({},yr,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),jO=jt(KO),YO=y({},yr,{data:0}),l0=jt(YO),XO={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},WO={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},QO={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ZO(o){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(o):(o=QO[o])?!!s[o]:!1}function th(){return ZO}var e1=y({},Ya,{key:function(o){if(o.key){var s=XO[o.key]||o.key;if(s!=="Unidentified")return s}return o.type==="keypress"?(o=uc(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?WO[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:th,charCode:function(o){return o.type==="keypress"?uc(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?uc(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),t1=jt(e1),n1=y({},dc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),u0=jt(n1),i1=y({},Ya,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:th}),o1=jt(i1),r1=y({},yr,{propertyName:0,elapsedTime:0,pseudoElement:0}),s1=jt(r1),a1=y({},dc,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),l1=jt(a1),u1=y({},yr,{newState:0,oldState:0}),c1=jt(u1),f1=[9,13,27,32],nh=$i&&"CompositionEvent"in window,Wa=null;$i&&"documentMode"in document&&(Wa=document.documentMode);var d1=$i&&"TextEvent"in window&&!Wa,c0=$i&&(!nh||Wa&&8<Wa&&11>=Wa),f0=" ",d0=!1;function p0(o,s){switch(o){case"keyup":return f1.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function h0(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var gs=!1;function p1(o,s){switch(o){case"compositionend":return h0(s);case"keypress":return s.which!==32?null:(d0=!0,f0);case"textInput":return o=s.data,o===f0&&d0?null:o;default:return null}}function h1(o,s){if(gs)return o==="compositionend"||!nh&&p0(o,s)?(o=r0(),lc=Wp=Ao=null,gs=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return c0&&s.locale!=="ko"?null:s.data;default:return null}}var m1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function m0(o){var s=o&&o.nodeName&&o.nodeName.toLowerCase();return s==="input"?!!m1[o.type]:s==="textarea"}function g0(o,s,l,f){hs?ms?ms.push(f):ms=[f]:hs=f,s=tf(s,"onChange"),0<s.length&&(l=new fc("onChange","change",null,l,f),o.push({event:l,listeners:s}))}var Qa=null,Za=null;function g1(o){Qb(o,0)}function pc(o){var s=Ja(o);if(W_(s))return o}function v0(o,s){if(o==="change")return s}var y0=!1;if($i){var ih;if($i){var oh="oninput"in document;if(!oh){var _0=document.createElement("div");_0.setAttribute("oninput","return;"),oh=typeof _0.oninput=="function"}ih=oh}else ih=!1;y0=ih&&(!document.documentMode||9<document.documentMode)}function S0(){Qa&&(Qa.detachEvent("onpropertychange",b0),Za=Qa=null)}function b0(o){if(o.propertyName==="value"&&pc(Za)){var s=[];g0(s,Za,o,jp(o)),o0(g1,s)}}function v1(o,s,l){o==="focusin"?(S0(),Qa=s,Za=l,Qa.attachEvent("onpropertychange",b0)):o==="focusout"&&S0()}function y1(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return pc(Za)}function _1(o,s){if(o==="click")return pc(s)}function S1(o,s){if(o==="input"||o==="change")return pc(s)}function b1(o,s){return o===s&&(o!==0||1/o===1/s)||o!==o&&s!==s}var ln=typeof Object.is=="function"?Object.is:b1;function el(o,s){if(ln(o,s))return!0;if(typeof o!="object"||o===null||typeof s!="object"||s===null)return!1;var l=Object.keys(o),f=Object.keys(s);if(l.length!==f.length)return!1;for(f=0;f<l.length;f++){var v=l[f];if(!Fa.call(s,v)||!ln(o[v],s[v]))return!1}return!0}function E0(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function w0(o,s){var l=E0(o);o=0;for(var f;l;){if(l.nodeType===3){if(f=o+l.textContent.length,o<=s&&f>=s)return{node:l,offset:s-o};o=f}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=E0(l)}}function C0(o,s){return o&&s?o===s?!0:o&&o.nodeType===3?!1:s&&s.nodeType===3?C0(o,s.parentNode):"contains"in o?o.contains(s):o.compareDocumentPosition?!!(o.compareDocumentPosition(s)&16):!1:!1}function T0(o){o=o!=null&&o.ownerDocument!=null&&o.ownerDocument.defaultView!=null?o.ownerDocument.defaultView:window;for(var s=sc(o.document);s instanceof o.HTMLIFrameElement;){try{var l=typeof s.contentWindow.location.href=="string"}catch{l=!1}if(l)o=s.contentWindow;else break;s=sc(o.document)}return s}function rh(o){var s=o&&o.nodeName&&o.nodeName.toLowerCase();return s&&(s==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||s==="textarea"||o.contentEditable==="true")}var E1=$i&&"documentMode"in document&&11>=document.documentMode,vs=null,sh=null,tl=null,ah=!1;function A0(o,s,l){var f=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;ah||vs==null||vs!==sc(f)||(f=vs,"selectionStart"in f&&rh(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),tl&&el(tl,f)||(tl=f,f=tf(sh,"onSelect"),0<f.length&&(s=new fc("onSelect","select",null,s,l),o.push({event:s,listeners:f}),s.target=vs)))}function _r(o,s){var l={};return l[o.toLowerCase()]=s.toLowerCase(),l["Webkit"+o]="webkit"+s,l["Moz"+o]="moz"+s,l}var ys={animationend:_r("Animation","AnimationEnd"),animationiteration:_r("Animation","AnimationIteration"),animationstart:_r("Animation","AnimationStart"),transitionrun:_r("Transition","TransitionRun"),transitionstart:_r("Transition","TransitionStart"),transitioncancel:_r("Transition","TransitionCancel"),transitionend:_r("Transition","TransitionEnd")},lh={},x0={};$i&&(x0=document.createElement("div").style,"AnimationEvent"in window||(delete ys.animationend.animation,delete ys.animationiteration.animation,delete ys.animationstart.animation),"TransitionEvent"in window||delete ys.transitionend.transition);function Sr(o){if(lh[o])return lh[o];if(!ys[o])return o;var s=ys[o],l;for(l in s)if(s.hasOwnProperty(l)&&l in x0)return lh[o]=s[l];return o}var R0=Sr("animationend"),M0=Sr("animationiteration"),N0=Sr("animationstart"),w1=Sr("transitionrun"),C1=Sr("transitionstart"),T1=Sr("transitioncancel"),I0=Sr("transitionend"),D0=new Map,uh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");uh.push("scrollEnd");function Yn(o,s){D0.set(o,s),vr(s,[o])}var hc=typeof reportError=="function"?reportError:function(o){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof o=="object"&&o!==null&&typeof o.message=="string"?String(o.message):String(o),error:o});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",o);return}console.error(o)},xn=[],_s=0,ch=0;function mc(){for(var o=_s,s=ch=_s=0;s<o;){var l=xn[s];xn[s++]=null;var f=xn[s];xn[s++]=null;var v=xn[s];xn[s++]=null;var _=xn[s];if(xn[s++]=null,f!==null&&v!==null){var C=f.pending;C===null?v.next=v:(v.next=C.next,C.next=v),f.pending=v}_!==0&&O0(l,v,_)}}function gc(o,s,l,f){xn[_s++]=o,xn[_s++]=s,xn[_s++]=l,xn[_s++]=f,ch|=f,o.lanes|=f,o=o.alternate,o!==null&&(o.lanes|=f)}function fh(o,s,l,f){return gc(o,s,l,f),vc(o)}function br(o,s){return gc(o,null,null,s),vc(o)}function O0(o,s,l){o.lanes|=l;var f=o.alternate;f!==null&&(f.lanes|=l);for(var v=!1,_=o.return;_!==null;)_.childLanes|=l,f=_.alternate,f!==null&&(f.childLanes|=l),_.tag===22&&(o=_.stateNode,o===null||o._visibility&1||(v=!0)),o=_,_=_.return;return o.tag===3?(_=o.stateNode,v&&s!==null&&(v=31-an(l),o=_.hiddenUpdates,f=o[v],f===null?o[v]=[s]:f.push(s),s.lane=l|536870912),_):null}function vc(o){if(50<wl)throw wl=0,Sm=null,Error(i(185));for(var s=o.return;s!==null;)o=s,s=o.return;return o.tag===3?o.stateNode:null}var Ss={};function A1(o,s,l,f){this.tag=o,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function un(o,s,l,f){return new A1(o,s,l,f)}function dh(o){return o=o.prototype,!(!o||!o.isReactComponent)}function Hi(o,s){var l=o.alternate;return l===null?(l=un(o.tag,s,o.key,o.mode),l.elementType=o.elementType,l.type=o.type,l.stateNode=o.stateNode,l.alternate=o,o.alternate=l):(l.pendingProps=s,l.type=o.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=o.flags&65011712,l.childLanes=o.childLanes,l.lanes=o.lanes,l.child=o.child,l.memoizedProps=o.memoizedProps,l.memoizedState=o.memoizedState,l.updateQueue=o.updateQueue,s=o.dependencies,l.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},l.sibling=o.sibling,l.index=o.index,l.ref=o.ref,l.refCleanup=o.refCleanup,l}function P0(o,s){o.flags&=65011714;var l=o.alternate;return l===null?(o.childLanes=0,o.lanes=s,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=l.childLanes,o.lanes=l.lanes,o.child=l.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=l.memoizedProps,o.memoizedState=l.memoizedState,o.updateQueue=l.updateQueue,o.type=l.type,s=l.dependencies,o.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),o}function yc(o,s,l,f,v,_){var C=0;if(f=o,typeof o=="function")dh(o)&&(C=1);else if(typeof o=="string")C=IP(o,l,le.current)?26:o==="html"||o==="head"||o==="body"?27:5;else e:switch(o){case J:return o=un(31,l,s,v),o.elementType=J,o.lanes=_,o;case A:return Er(l.children,v,_,s);case x:C=8,v|=24;break;case M:return o=un(12,l,s,v|2),o.elementType=M,o.lanes=_,o;case L:return o=un(13,l,s,v),o.elementType=L,o.lanes=_,o;case U:return o=un(19,l,s,v),o.elementType=U,o.lanes=_,o;default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case N:C=10;break e;case I:C=9;break e;case D:C=11;break e;case O:C=14;break e;case q:C=16,f=null;break e}C=29,l=Error(i(130,o===null?"null":typeof o,"")),f=null}return s=un(C,l,s,v),s.elementType=o,s.type=f,s.lanes=_,s}function Er(o,s,l,f){return o=un(7,o,f,s),o.lanes=l,o}function ph(o,s,l){return o=un(6,o,null,s),o.lanes=l,o}function k0(o){var s=un(18,null,null,0);return s.stateNode=o,s}function hh(o,s,l){return s=un(4,o.children!==null?o.children:[],o.key,s),s.lanes=l,s.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},s}var L0=new WeakMap;function Rn(o,s){if(typeof o=="object"&&o!==null){var l=L0.get(o);return l!==void 0?l:(s={value:o,source:s,stack:Xu(s)},L0.set(o,s),s)}return{value:o,source:s,stack:Xu(s)}}var bs=[],Es=0,_c=null,nl=0,Mn=[],Nn=0,xo=null,hi=1,mi="";function Gi(o,s){bs[Es++]=nl,bs[Es++]=_c,_c=o,nl=s}function U0(o,s,l){Mn[Nn++]=hi,Mn[Nn++]=mi,Mn[Nn++]=xo,xo=o;var f=hi;o=mi;var v=32-an(f)-1;f&=~(1<<v),l+=1;var _=32-an(s)+v;if(30<_){var C=v-v%5;_=(f&(1<<C)-1).toString(32),f>>=C,v-=C,hi=1<<32-an(s)+v|l<<v|f,mi=_+o}else hi=1<<_|l<<v|f,mi=o}function mh(o){o.return!==null&&(Gi(o,1),U0(o,1,0))}function gh(o){for(;o===_c;)_c=bs[--Es],bs[Es]=null,nl=bs[--Es],bs[Es]=null;for(;o===xo;)xo=Mn[--Nn],Mn[Nn]=null,mi=Mn[--Nn],Mn[Nn]=null,hi=Mn[--Nn],Mn[Nn]=null}function B0(o,s){Mn[Nn++]=hi,Mn[Nn++]=mi,Mn[Nn++]=xo,hi=s.id,mi=s.overflow,xo=o}var Rt=null,it=null,Le=!1,Ro=null,In=!1,vh=Error(i(519));function Mo(o){var s=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw il(Rn(s,o)),vh}function F0(o){var s=o.stateNode,l=o.type,f=o.memoizedProps;switch(s[xt]=o,s[Kt]=f,l){case"dialog":Oe("cancel",s),Oe("close",s);break;case"iframe":case"object":case"embed":Oe("load",s);break;case"video":case"audio":for(l=0;l<Tl.length;l++)Oe(Tl[l],s);break;case"source":Oe("error",s);break;case"img":case"image":case"link":Oe("error",s),Oe("load",s);break;case"details":Oe("toggle",s);break;case"input":Oe("invalid",s),Q_(s,f.value,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name,!0);break;case"select":Oe("invalid",s);break;case"textarea":Oe("invalid",s),e0(s,f.value,f.defaultValue,f.children)}l=f.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||s.textContent===""+l||f.suppressHydrationWarning===!0||nE(s.textContent,l)?(f.popover!=null&&(Oe("beforetoggle",s),Oe("toggle",s)),f.onScroll!=null&&Oe("scroll",s),f.onScrollEnd!=null&&Oe("scrollend",s),f.onClick!=null&&(s.onclick=Fi),s=!0):s=!1,s||Mo(o,!0)}function $0(o){for(Rt=o.return;Rt;)switch(Rt.tag){case 5:case 31:case 13:In=!1;return;case 27:case 3:In=!0;return;default:Rt=Rt.return}}function ws(o){if(o!==Rt)return!1;if(!Le)return $0(o),Le=!0,!1;var s=o.tag,l;if((l=s!==3&&s!==27)&&((l=s===5)&&(l=o.type,l=!(l!=="form"&&l!=="button")||km(o.type,o.memoizedProps)),l=!l),l&&it&&Mo(o),$0(o),s===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(i(317));it=fE(o)}else if(s===31){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(i(317));it=fE(o)}else s===27?(s=it,Vo(o.type)?(o=$m,$m=null,it=o):it=s):it=Rt?On(o.stateNode.nextSibling):null;return!0}function wr(){it=Rt=null,Le=!1}function yh(){var o=Ro;return o!==null&&(Qt===null?Qt=o:Qt.push.apply(Qt,o),Ro=null),o}function il(o){Ro===null?Ro=[o]:Ro.push(o)}var _h=k(null),Cr=null,Vi=null;function No(o,s,l){se(_h,s._currentValue),s._currentValue=l}function zi(o){o._currentValue=_h.current,j(_h)}function Sh(o,s,l){for(;o!==null;){var f=o.alternate;if((o.childLanes&s)!==s?(o.childLanes|=s,f!==null&&(f.childLanes|=s)):f!==null&&(f.childLanes&s)!==s&&(f.childLanes|=s),o===l)break;o=o.return}}function bh(o,s,l,f){var v=o.child;for(v!==null&&(v.return=o);v!==null;){var _=v.dependencies;if(_!==null){var C=v.child;_=_.firstContext;e:for(;_!==null;){var R=_;_=v;for(var P=0;P<s.length;P++)if(R.context===s[P]){_.lanes|=l,R=_.alternate,R!==null&&(R.lanes|=l),Sh(_.return,l,o),f||(C=null);break e}_=R.next}}else if(v.tag===18){if(C=v.return,C===null)throw Error(i(341));C.lanes|=l,_=C.alternate,_!==null&&(_.lanes|=l),Sh(C,l,o),C=null}else C=v.child;if(C!==null)C.return=v;else for(C=v;C!==null;){if(C===o){C=null;break}if(v=C.sibling,v!==null){v.return=C.return,C=v;break}C=C.return}v=C}}function Cs(o,s,l,f){o=null;for(var v=s,_=!1;v!==null;){if(!_){if((v.flags&524288)!==0)_=!0;else if((v.flags&262144)!==0)break}if(v.tag===10){var C=v.alternate;if(C===null)throw Error(i(387));if(C=C.memoizedProps,C!==null){var R=v.type;ln(v.pendingProps.value,C.value)||(o!==null?o.push(R):o=[R])}}else if(v===ve.current){if(C=v.alternate,C===null)throw Error(i(387));C.memoizedState.memoizedState!==v.memoizedState.memoizedState&&(o!==null?o.push(Nl):o=[Nl])}v=v.return}o!==null&&bh(s,o,l,f),s.flags|=262144}function Sc(o){for(o=o.firstContext;o!==null;){if(!ln(o.context._currentValue,o.memoizedValue))return!0;o=o.next}return!1}function Tr(o){Cr=o,Vi=null,o=o.dependencies,o!==null&&(o.firstContext=null)}function Mt(o){return H0(Cr,o)}function bc(o,s){return Cr===null&&Tr(o),H0(o,s)}function H0(o,s){var l=s._currentValue;if(s={context:s,memoizedValue:l,next:null},Vi===null){if(o===null)throw Error(i(308));Vi=s,o.dependencies={lanes:0,firstContext:s},o.flags|=524288}else Vi=Vi.next=s;return l}var x1=typeof AbortController<"u"?AbortController:function(){var o=[],s=this.signal={aborted:!1,addEventListener:function(l,f){o.push(f)}};this.abort=function(){s.aborted=!0,o.forEach(function(l){return l()})}},R1=t.unstable_scheduleCallback,M1=t.unstable_NormalPriority,pt={$$typeof:N,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Eh(){return{controller:new x1,data:new Map,refCount:0}}function ol(o){o.refCount--,o.refCount===0&&R1(M1,function(){o.controller.abort()})}var rl=null,wh=0,Ts=0,As=null;function N1(o,s){if(rl===null){var l=rl=[];wh=0,Ts=Am(),As={status:"pending",value:void 0,then:function(f){l.push(f)}}}return wh++,s.then(G0,G0),s}function G0(){if(--wh===0&&rl!==null){As!==null&&(As.status="fulfilled");var o=rl;rl=null,Ts=0,As=null;for(var s=0;s<o.length;s++)(0,o[s])()}}function I1(o,s){var l=[],f={status:"pending",value:null,reason:null,then:function(v){l.push(v)}};return o.then(function(){f.status="fulfilled",f.value=s;for(var v=0;v<l.length;v++)(0,l[v])(s)},function(v){for(f.status="rejected",f.reason=v,v=0;v<l.length;v++)(0,l[v])(void 0)}),f}var V0=F.S;F.S=function(o,s){Ab=At(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&N1(o,s),V0!==null&&V0(o,s)};var Ar=k(null);function Ch(){var o=Ar.current;return o!==null?o:et.pooledCache}function Ec(o,s){s===null?se(Ar,Ar.current):se(Ar,s.pool)}function z0(){var o=Ch();return o===null?null:{parent:pt._currentValue,pool:o}}var xs=Error(i(460)),Th=Error(i(474)),wc=Error(i(542)),Cc={then:function(){}};function q0(o){return o=o.status,o==="fulfilled"||o==="rejected"}function J0(o,s,l){switch(l=o[l],l===void 0?o.push(s):l!==s&&(s.then(Fi,Fi),s=l),s.status){case"fulfilled":return s.value;case"rejected":throw o=s.reason,j0(o),o;default:if(typeof s.status=="string")s.then(Fi,Fi);else{if(o=et,o!==null&&100<o.shellSuspendCounter)throw Error(i(482));o=s,o.status="pending",o.then(function(f){if(s.status==="pending"){var v=s;v.status="fulfilled",v.value=f}},function(f){if(s.status==="pending"){var v=s;v.status="rejected",v.reason=f}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw o=s.reason,j0(o),o}throw Rr=s,xs}}function xr(o){try{var s=o._init;return s(o._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(Rr=l,xs):l}}var Rr=null;function K0(){if(Rr===null)throw Error(i(459));var o=Rr;return Rr=null,o}function j0(o){if(o===xs||o===wc)throw Error(i(483))}var Rs=null,sl=0;function Tc(o){var s=sl;return sl+=1,Rs===null&&(Rs=[]),J0(Rs,o,s)}function al(o,s){s=s.props.ref,o.ref=s!==void 0?s:null}function Ac(o,s){throw s.$$typeof===S?Error(i(525)):(o=Object.prototype.toString.call(s),Error(i(31,o==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":o)))}function Y0(o){function s($,B){if(o){var H=$.deletions;H===null?($.deletions=[B],$.flags|=16):H.push(B)}}function l($,B){if(!o)return null;for(;B!==null;)s($,B),B=B.sibling;return null}function f($){for(var B=new Map;$!==null;)$.key!==null?B.set($.key,$):B.set($.index,$),$=$.sibling;return B}function v($,B){return $=Hi($,B),$.index=0,$.sibling=null,$}function _($,B,H){return $.index=H,o?(H=$.alternate,H!==null?(H=H.index,H<B?($.flags|=67108866,B):H):($.flags|=67108866,B)):($.flags|=1048576,B)}function C($){return o&&$.alternate===null&&($.flags|=67108866),$}function R($,B,H,Z){return B===null||B.tag!==6?(B=ph(H,$.mode,Z),B.return=$,B):(B=v(B,H),B.return=$,B)}function P($,B,H,Z){var _e=H.type;return _e===A?X($,B,H.props.children,Z,H.key):B!==null&&(B.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===q&&xr(_e)===B.type)?(B=v(B,H.props),al(B,H),B.return=$,B):(B=yc(H.type,H.key,H.props,null,$.mode,Z),al(B,H),B.return=$,B)}function G($,B,H,Z){return B===null||B.tag!==4||B.stateNode.containerInfo!==H.containerInfo||B.stateNode.implementation!==H.implementation?(B=hh(H,$.mode,Z),B.return=$,B):(B=v(B,H.children||[]),B.return=$,B)}function X($,B,H,Z,_e){return B===null||B.tag!==7?(B=Er(H,$.mode,Z,_e),B.return=$,B):(B=v(B,H),B.return=$,B)}function te($,B,H){if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return B=ph(""+B,$.mode,H),B.return=$,B;if(typeof B=="object"&&B!==null){switch(B.$$typeof){case b:return H=yc(B.type,B.key,B.props,null,$.mode,H),al(H,B),H.return=$,H;case T:return B=hh(B,$.mode,H),B.return=$,B;case q:return B=xr(B),te($,B,H)}if(de(B)||re(B))return B=Er(B,$.mode,H,null),B.return=$,B;if(typeof B.then=="function")return te($,Tc(B),H);if(B.$$typeof===N)return te($,bc($,B),H);Ac($,B)}return null}function z($,B,H,Z){var _e=B!==null?B.key:null;if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return _e!==null?null:R($,B,""+H,Z);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case b:return H.key===_e?P($,B,H,Z):null;case T:return H.key===_e?G($,B,H,Z):null;case q:return H=xr(H),z($,B,H,Z)}if(de(H)||re(H))return _e!==null?null:X($,B,H,Z,null);if(typeof H.then=="function")return z($,B,Tc(H),Z);if(H.$$typeof===N)return z($,B,bc($,H),Z);Ac($,H)}return null}function K($,B,H,Z,_e){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return $=$.get(H)||null,R(B,$,""+Z,_e);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case b:return $=$.get(Z.key===null?H:Z.key)||null,P(B,$,Z,_e);case T:return $=$.get(Z.key===null?H:Z.key)||null,G(B,$,Z,_e);case q:return Z=xr(Z),K($,B,H,Z,_e)}if(de(Z)||re(Z))return $=$.get(H)||null,X(B,$,Z,_e,null);if(typeof Z.then=="function")return K($,B,H,Tc(Z),_e);if(Z.$$typeof===N)return K($,B,H,bc(B,Z),_e);Ac(B,Z)}return null}function pe($,B,H,Z){for(var _e=null,$e=null,ge=B,Me=B=0,ke=null;ge!==null&&Me<H.length;Me++){ge.index>Me?(ke=ge,ge=null):ke=ge.sibling;var He=z($,ge,H[Me],Z);if(He===null){ge===null&&(ge=ke);break}o&&ge&&He.alternate===null&&s($,ge),B=_(He,B,Me),$e===null?_e=He:$e.sibling=He,$e=He,ge=ke}if(Me===H.length)return l($,ge),Le&&Gi($,Me),_e;if(ge===null){for(;Me<H.length;Me++)ge=te($,H[Me],Z),ge!==null&&(B=_(ge,B,Me),$e===null?_e=ge:$e.sibling=ge,$e=ge);return Le&&Gi($,Me),_e}for(ge=f(ge);Me<H.length;Me++)ke=K(ge,$,Me,H[Me],Z),ke!==null&&(o&&ke.alternate!==null&&ge.delete(ke.key===null?Me:ke.key),B=_(ke,B,Me),$e===null?_e=ke:$e.sibling=ke,$e=ke);return o&&ge.forEach(function(jo){return s($,jo)}),Le&&Gi($,Me),_e}function Ee($,B,H,Z){if(H==null)throw Error(i(151));for(var _e=null,$e=null,ge=B,Me=B=0,ke=null,He=H.next();ge!==null&&!He.done;Me++,He=H.next()){ge.index>Me?(ke=ge,ge=null):ke=ge.sibling;var jo=z($,ge,He.value,Z);if(jo===null){ge===null&&(ge=ke);break}o&&ge&&jo.alternate===null&&s($,ge),B=_(jo,B,Me),$e===null?_e=jo:$e.sibling=jo,$e=jo,ge=ke}if(He.done)return l($,ge),Le&&Gi($,Me),_e;if(ge===null){for(;!He.done;Me++,He=H.next())He=te($,He.value,Z),He!==null&&(B=_(He,B,Me),$e===null?_e=He:$e.sibling=He,$e=He);return Le&&Gi($,Me),_e}for(ge=f(ge);!He.done;Me++,He=H.next())He=K(ge,$,Me,He.value,Z),He!==null&&(o&&He.alternate!==null&&ge.delete(He.key===null?Me:He.key),B=_(He,B,Me),$e===null?_e=He:$e.sibling=He,$e=He);return o&&ge.forEach(function(GP){return s($,GP)}),Le&&Gi($,Me),_e}function Qe($,B,H,Z){if(typeof H=="object"&&H!==null&&H.type===A&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case b:e:{for(var _e=H.key;B!==null;){if(B.key===_e){if(_e=H.type,_e===A){if(B.tag===7){l($,B.sibling),Z=v(B,H.props.children),Z.return=$,$=Z;break e}}else if(B.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===q&&xr(_e)===B.type){l($,B.sibling),Z=v(B,H.props),al(Z,H),Z.return=$,$=Z;break e}l($,B);break}else s($,B);B=B.sibling}H.type===A?(Z=Er(H.props.children,$.mode,Z,H.key),Z.return=$,$=Z):(Z=yc(H.type,H.key,H.props,null,$.mode,Z),al(Z,H),Z.return=$,$=Z)}return C($);case T:e:{for(_e=H.key;B!==null;){if(B.key===_e)if(B.tag===4&&B.stateNode.containerInfo===H.containerInfo&&B.stateNode.implementation===H.implementation){l($,B.sibling),Z=v(B,H.children||[]),Z.return=$,$=Z;break e}else{l($,B);break}else s($,B);B=B.sibling}Z=hh(H,$.mode,Z),Z.return=$,$=Z}return C($);case q:return H=xr(H),Qe($,B,H,Z)}if(de(H))return pe($,B,H,Z);if(re(H)){if(_e=re(H),typeof _e!="function")throw Error(i(150));return H=_e.call(H),Ee($,B,H,Z)}if(typeof H.then=="function")return Qe($,B,Tc(H),Z);if(H.$$typeof===N)return Qe($,B,bc($,H),Z);Ac($,H)}return typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint"?(H=""+H,B!==null&&B.tag===6?(l($,B.sibling),Z=v(B,H),Z.return=$,$=Z):(l($,B),Z=ph(H,$.mode,Z),Z.return=$,$=Z),C($)):l($,B)}return function($,B,H,Z){try{sl=0;var _e=Qe($,B,H,Z);return Rs=null,_e}catch(ge){if(ge===xs||ge===wc)throw ge;var $e=un(29,ge,null,$.mode);return $e.lanes=Z,$e.return=$,$e}finally{}}}var Mr=Y0(!0),X0=Y0(!1),Io=!1;function Ah(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function xh(o,s){o=o.updateQueue,s.updateQueue===o&&(s.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,callbacks:null})}function Do(o){return{lane:o,tag:0,payload:null,callback:null,next:null}}function Oo(o,s,l){var f=o.updateQueue;if(f===null)return null;if(f=f.shared,(Je&2)!==0){var v=f.pending;return v===null?s.next=s:(s.next=v.next,v.next=s),f.pending=s,s=vc(o),O0(o,null,l),s}return gc(o,f,s,l),vc(o)}function ll(o,s,l){if(s=s.updateQueue,s!==null&&(s=s.shared,(l&4194048)!==0)){var f=s.lanes;f&=o.pendingLanes,l|=f,s.lanes=l,H_(o,l)}}function Rh(o,s){var l=o.updateQueue,f=o.alternate;if(f!==null&&(f=f.updateQueue,l===f)){var v=null,_=null;if(l=l.firstBaseUpdate,l!==null){do{var C={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};_===null?v=_=C:_=_.next=C,l=l.next}while(l!==null);_===null?v=_=s:_=_.next=s}else v=_=s;l={baseState:f.baseState,firstBaseUpdate:v,lastBaseUpdate:_,shared:f.shared,callbacks:f.callbacks},o.updateQueue=l;return}o=l.lastBaseUpdate,o===null?l.firstBaseUpdate=s:o.next=s,l.lastBaseUpdate=s}var Mh=!1;function ul(){if(Mh){var o=As;if(o!==null)throw o}}function cl(o,s,l,f){Mh=!1;var v=o.updateQueue;Io=!1;var _=v.firstBaseUpdate,C=v.lastBaseUpdate,R=v.shared.pending;if(R!==null){v.shared.pending=null;var P=R,G=P.next;P.next=null,C===null?_=G:C.next=G,C=P;var X=o.alternate;X!==null&&(X=X.updateQueue,R=X.lastBaseUpdate,R!==C&&(R===null?X.firstBaseUpdate=G:R.next=G,X.lastBaseUpdate=P))}if(_!==null){var te=v.baseState;C=0,X=G=P=null,R=_;do{var z=R.lane&-536870913,K=z!==R.lane;if(K?(Pe&z)===z:(f&z)===z){z!==0&&z===Ts&&(Mh=!0),X!==null&&(X=X.next={lane:0,tag:R.tag,payload:R.payload,callback:null,next:null});e:{var pe=o,Ee=R;z=s;var Qe=l;switch(Ee.tag){case 1:if(pe=Ee.payload,typeof pe=="function"){te=pe.call(Qe,te,z);break e}te=pe;break e;case 3:pe.flags=pe.flags&-65537|128;case 0:if(pe=Ee.payload,z=typeof pe=="function"?pe.call(Qe,te,z):pe,z==null)break e;te=y({},te,z);break e;case 2:Io=!0}}z=R.callback,z!==null&&(o.flags|=64,K&&(o.flags|=8192),K=v.callbacks,K===null?v.callbacks=[z]:K.push(z))}else K={lane:z,tag:R.tag,payload:R.payload,callback:R.callback,next:null},X===null?(G=X=K,P=te):X=X.next=K,C|=z;if(R=R.next,R===null){if(R=v.shared.pending,R===null)break;K=R,R=K.next,K.next=null,v.lastBaseUpdate=K,v.shared.pending=null}}while(!0);X===null&&(P=te),v.baseState=P,v.firstBaseUpdate=G,v.lastBaseUpdate=X,_===null&&(v.shared.lanes=0),Bo|=C,o.lanes=C,o.memoizedState=te}}function W0(o,s){if(typeof o!="function")throw Error(i(191,o));o.call(s)}function Q0(o,s){var l=o.callbacks;if(l!==null)for(o.callbacks=null,o=0;o<l.length;o++)W0(l[o],s)}var Ms=k(null),xc=k(0);function Z0(o,s){o=Zi,se(xc,o),se(Ms,s),Zi=o|s.baseLanes}function Nh(){se(xc,Zi),se(Ms,Ms.current)}function Ih(){Zi=xc.current,j(Ms),j(xc)}var cn=k(null),Dn=null;function Po(o){var s=o.alternate;se(ft,ft.current&1),se(cn,o),Dn===null&&(s===null||Ms.current!==null||s.memoizedState!==null)&&(Dn=o)}function Dh(o){se(ft,ft.current),se(cn,o),Dn===null&&(Dn=o)}function eS(o){o.tag===22?(se(ft,ft.current),se(cn,o),Dn===null&&(Dn=o)):ko()}function ko(){se(ft,ft.current),se(cn,cn.current)}function fn(o){j(cn),Dn===o&&(Dn=null),j(ft)}var ft=k(0);function Rc(o){for(var s=o;s!==null;){if(s.tag===13){var l=s.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||Bm(l)||Fm(l)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===o)break;for(;s.sibling===null;){if(s.return===null||s.return===o)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var qi=0,Re=null,Xe=null,ht=null,Mc=!1,Ns=!1,Nr=!1,Nc=0,fl=0,Is=null,D1=0;function lt(){throw Error(i(321))}function Oh(o,s){if(s===null)return!1;for(var l=0;l<s.length&&l<o.length;l++)if(!ln(o[l],s[l]))return!1;return!0}function Ph(o,s,l,f,v,_){return qi=_,Re=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,F.H=o===null||o.memoizedState===null?US:Yh,Nr=!1,_=l(f,v),Nr=!1,Ns&&(_=nS(s,l,f,v)),tS(o),_}function tS(o){F.H=hl;var s=Xe!==null&&Xe.next!==null;if(qi=0,ht=Xe=Re=null,Mc=!1,fl=0,Is=null,s)throw Error(i(300));o===null||mt||(o=o.dependencies,o!==null&&Sc(o)&&(mt=!0))}function nS(o,s,l,f){Re=o;var v=0;do{if(Ns&&(Is=null),fl=0,Ns=!1,25<=v)throw Error(i(301));if(v+=1,ht=Xe=null,o.updateQueue!=null){var _=o.updateQueue;_.lastEffect=null,_.events=null,_.stores=null,_.memoCache!=null&&(_.memoCache.index=0)}F.H=BS,_=s(l,f)}while(Ns);return _}function O1(){var o=F.H,s=o.useState()[0];return s=typeof s.then=="function"?dl(s):s,o=o.useState()[0],(Xe!==null?Xe.memoizedState:null)!==o&&(Re.flags|=1024),s}function kh(){var o=Nc!==0;return Nc=0,o}function Lh(o,s,l){s.updateQueue=o.updateQueue,s.flags&=-2053,o.lanes&=~l}function Uh(o){if(Mc){for(o=o.memoizedState;o!==null;){var s=o.queue;s!==null&&(s.pending=null),o=o.next}Mc=!1}qi=0,ht=Xe=Re=null,Ns=!1,fl=Nc=0,Is=null}function $t(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ht===null?Re.memoizedState=ht=o:ht=ht.next=o,ht}function dt(){if(Xe===null){var o=Re.alternate;o=o!==null?o.memoizedState:null}else o=Xe.next;var s=ht===null?Re.memoizedState:ht.next;if(s!==null)ht=s,Xe=o;else{if(o===null)throw Re.alternate===null?Error(i(467)):Error(i(310));Xe=o,o={memoizedState:Xe.memoizedState,baseState:Xe.baseState,baseQueue:Xe.baseQueue,queue:Xe.queue,next:null},ht===null?Re.memoizedState=ht=o:ht=ht.next=o}return ht}function Ic(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function dl(o){var s=fl;return fl+=1,Is===null&&(Is=[]),o=J0(Is,o,s),s=Re,(ht===null?s.memoizedState:ht.next)===null&&(s=s.alternate,F.H=s===null||s.memoizedState===null?US:Yh),o}function Dc(o){if(o!==null&&typeof o=="object"){if(typeof o.then=="function")return dl(o);if(o.$$typeof===N)return Mt(o)}throw Error(i(438,String(o)))}function Bh(o){var s=null,l=Re.updateQueue;if(l!==null&&(s=l.memoCache),s==null){var f=Re.alternate;f!==null&&(f=f.updateQueue,f!==null&&(f=f.memoCache,f!=null&&(s={data:f.data.map(function(v){return v.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),l===null&&(l=Ic(),Re.updateQueue=l),l.memoCache=s,l=s.data[s.index],l===void 0)for(l=s.data[s.index]=Array(o),f=0;f<o;f++)l[f]=Y;return s.index++,l}function Ji(o,s){return typeof s=="function"?s(o):s}function Oc(o){var s=dt();return Fh(s,Xe,o)}function Fh(o,s,l){var f=o.queue;if(f===null)throw Error(i(311));f.lastRenderedReducer=l;var v=o.baseQueue,_=f.pending;if(_!==null){if(v!==null){var C=v.next;v.next=_.next,_.next=C}s.baseQueue=v=_,f.pending=null}if(_=o.baseState,v===null)o.memoizedState=_;else{s=v.next;var R=C=null,P=null,G=s,X=!1;do{var te=G.lane&-536870913;if(te!==G.lane?(Pe&te)===te:(qi&te)===te){var z=G.revertLane;if(z===0)P!==null&&(P=P.next={lane:0,revertLane:0,gesture:null,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null}),te===Ts&&(X=!0);else if((qi&z)===z){G=G.next,z===Ts&&(X=!0);continue}else te={lane:0,revertLane:G.revertLane,gesture:null,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},P===null?(R=P=te,C=_):P=P.next=te,Re.lanes|=z,Bo|=z;te=G.action,Nr&&l(_,te),_=G.hasEagerState?G.eagerState:l(_,te)}else z={lane:te,revertLane:G.revertLane,gesture:G.gesture,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},P===null?(R=P=z,C=_):P=P.next=z,Re.lanes|=te,Bo|=te;G=G.next}while(G!==null&&G!==s);if(P===null?C=_:P.next=R,!ln(_,o.memoizedState)&&(mt=!0,X&&(l=As,l!==null)))throw l;o.memoizedState=_,o.baseState=C,o.baseQueue=P,f.lastRenderedState=_}return v===null&&(f.lanes=0),[o.memoizedState,f.dispatch]}function $h(o){var s=dt(),l=s.queue;if(l===null)throw Error(i(311));l.lastRenderedReducer=o;var f=l.dispatch,v=l.pending,_=s.memoizedState;if(v!==null){l.pending=null;var C=v=v.next;do _=o(_,C.action),C=C.next;while(C!==v);ln(_,s.memoizedState)||(mt=!0),s.memoizedState=_,s.baseQueue===null&&(s.baseState=_),l.lastRenderedState=_}return[_,f]}function iS(o,s,l){var f=Re,v=dt(),_=Le;if(_){if(l===void 0)throw Error(i(407));l=l()}else l=s();var C=!ln((Xe||v).memoizedState,l);if(C&&(v.memoizedState=l,mt=!0),v=v.queue,Vh(sS.bind(null,f,v,o),[o]),v.getSnapshot!==s||C||ht!==null&&ht.memoizedState.tag&1){if(f.flags|=2048,Ds(9,{destroy:void 0},rS.bind(null,f,v,l,s),null),et===null)throw Error(i(349));_||(qi&127)!==0||oS(f,s,l)}return l}function oS(o,s,l){o.flags|=16384,o={getSnapshot:s,value:l},s=Re.updateQueue,s===null?(s=Ic(),Re.updateQueue=s,s.stores=[o]):(l=s.stores,l===null?s.stores=[o]:l.push(o))}function rS(o,s,l,f){s.value=l,s.getSnapshot=f,aS(s)&&lS(o)}function sS(o,s,l){return l(function(){aS(s)&&lS(o)})}function aS(o){var s=o.getSnapshot;o=o.value;try{var l=s();return!ln(o,l)}catch{return!0}}function lS(o){var s=br(o,2);s!==null&&Zt(s,o,2)}function Hh(o){var s=$t();if(typeof o=="function"){var l=o;if(o=l(),Nr){Co(!0);try{l()}finally{Co(!1)}}}return s.memoizedState=s.baseState=o,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ji,lastRenderedState:o},s}function uS(o,s,l,f){return o.baseState=l,Fh(o,Xe,typeof f=="function"?f:Ji)}function P1(o,s,l,f,v){if(Lc(o))throw Error(i(485));if(o=s.action,o!==null){var _={payload:v,action:o,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(C){_.listeners.push(C)}};F.T!==null?l(!0):_.isTransition=!1,f(_),l=s.pending,l===null?(_.next=s.pending=_,cS(s,_)):(_.next=l.next,s.pending=l.next=_)}}function cS(o,s){var l=s.action,f=s.payload,v=o.state;if(s.isTransition){var _=F.T,C={};F.T=C;try{var R=l(v,f),P=F.S;P!==null&&P(C,R),fS(o,s,R)}catch(G){Gh(o,s,G)}finally{_!==null&&C.types!==null&&(_.types=C.types),F.T=_}}else try{_=l(v,f),fS(o,s,_)}catch(G){Gh(o,s,G)}}function fS(o,s,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(f){dS(o,s,f)},function(f){return Gh(o,s,f)}):dS(o,s,l)}function dS(o,s,l){s.status="fulfilled",s.value=l,pS(s),o.state=l,s=o.pending,s!==null&&(l=s.next,l===s?o.pending=null:(l=l.next,s.next=l,cS(o,l)))}function Gh(o,s,l){var f=o.pending;if(o.pending=null,f!==null){f=f.next;do s.status="rejected",s.reason=l,pS(s),s=s.next;while(s!==f)}o.action=null}function pS(o){o=o.listeners;for(var s=0;s<o.length;s++)(0,o[s])()}function hS(o,s){return s}function mS(o,s){if(Le){var l=et.formState;if(l!==null){e:{var f=Re;if(Le){if(it){t:{for(var v=it,_=In;v.nodeType!==8;){if(!_){v=null;break t}if(v=On(v.nextSibling),v===null){v=null;break t}}_=v.data,v=_==="F!"||_==="F"?v:null}if(v){it=On(v.nextSibling),f=v.data==="F!";break e}}Mo(f)}f=!1}f&&(s=l[0])}}return l=$t(),l.memoizedState=l.baseState=s,f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:hS,lastRenderedState:s},l.queue=f,l=PS.bind(null,Re,f),f.dispatch=l,f=Hh(!1),_=jh.bind(null,Re,!1,f.queue),f=$t(),v={state:s,dispatch:null,action:o,pending:null},f.queue=v,l=P1.bind(null,Re,v,_,l),v.dispatch=l,f.memoizedState=o,[s,l,!1]}function gS(o){var s=dt();return vS(s,Xe,o)}function vS(o,s,l){if(s=Fh(o,s,hS)[0],o=Oc(Ji)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var f=dl(s)}catch(C){throw C===xs?wc:C}else f=s;s=dt();var v=s.queue,_=v.dispatch;return l!==s.memoizedState&&(Re.flags|=2048,Ds(9,{destroy:void 0},k1.bind(null,v,l),null)),[f,_,o]}function k1(o,s){o.action=s}function yS(o){var s=dt(),l=Xe;if(l!==null)return vS(s,l,o);dt(),s=s.memoizedState,l=dt();var f=l.queue.dispatch;return l.memoizedState=o,[s,f,!1]}function Ds(o,s,l,f){return o={tag:o,create:l,deps:f,inst:s,next:null},s=Re.updateQueue,s===null&&(s=Ic(),Re.updateQueue=s),l=s.lastEffect,l===null?s.lastEffect=o.next=o:(f=l.next,l.next=o,o.next=f,s.lastEffect=o),o}function _S(){return dt().memoizedState}function Pc(o,s,l,f){var v=$t();Re.flags|=o,v.memoizedState=Ds(1|s,{destroy:void 0},l,f===void 0?null:f)}function kc(o,s,l,f){var v=dt();f=f===void 0?null:f;var _=v.memoizedState.inst;Xe!==null&&f!==null&&Oh(f,Xe.memoizedState.deps)?v.memoizedState=Ds(s,_,l,f):(Re.flags|=o,v.memoizedState=Ds(1|s,_,l,f))}function SS(o,s){Pc(8390656,8,o,s)}function Vh(o,s){kc(2048,8,o,s)}function L1(o){Re.flags|=4;var s=Re.updateQueue;if(s===null)s=Ic(),Re.updateQueue=s,s.events=[o];else{var l=s.events;l===null?s.events=[o]:l.push(o)}}function bS(o){var s=dt().memoizedState;return L1({ref:s,nextImpl:o}),function(){if((Je&2)!==0)throw Error(i(440));return s.impl.apply(void 0,arguments)}}function ES(o,s){return kc(4,2,o,s)}function wS(o,s){return kc(4,4,o,s)}function CS(o,s){if(typeof s=="function"){o=o();var l=s(o);return function(){typeof l=="function"?l():s(null)}}if(s!=null)return o=o(),s.current=o,function(){s.current=null}}function TS(o,s,l){l=l!=null?l.concat([o]):null,kc(4,4,CS.bind(null,s,o),l)}function zh(){}function AS(o,s){var l=dt();s=s===void 0?null:s;var f=l.memoizedState;return s!==null&&Oh(s,f[1])?f[0]:(l.memoizedState=[o,s],o)}function xS(o,s){var l=dt();s=s===void 0?null:s;var f=l.memoizedState;if(s!==null&&Oh(s,f[1]))return f[0];if(f=o(),Nr){Co(!0);try{o()}finally{Co(!1)}}return l.memoizedState=[f,s],f}function qh(o,s,l){return l===void 0||(qi&1073741824)!==0&&(Pe&261930)===0?o.memoizedState=s:(o.memoizedState=l,o=Rb(),Re.lanes|=o,Bo|=o,l)}function RS(o,s,l,f){return ln(l,s)?l:Ms.current!==null?(o=qh(o,l,f),ln(o,s)||(mt=!0),o):(qi&42)===0||(qi&1073741824)!==0&&(Pe&261930)===0?(mt=!0,o.memoizedState=l):(o=Rb(),Re.lanes|=o,Bo|=o,s)}function MS(o,s,l,f,v){var _=Q.p;Q.p=_!==0&&8>_?_:8;var C=F.T,R={};F.T=R,jh(o,!1,s,l);try{var P=v(),G=F.S;if(G!==null&&G(R,P),P!==null&&typeof P=="object"&&typeof P.then=="function"){var X=I1(P,f);pl(o,s,X,hn(o))}else pl(o,s,f,hn(o))}catch(te){pl(o,s,{then:function(){},status:"rejected",reason:te},hn())}finally{Q.p=_,C!==null&&R.types!==null&&(C.types=R.types),F.T=C}}function U1(){}function Jh(o,s,l,f){if(o.tag!==5)throw Error(i(476));var v=NS(o).queue;MS(o,v,s,ee,l===null?U1:function(){return IS(o),l(f)})}function NS(o){var s=o.memoizedState;if(s!==null)return s;s={memoizedState:ee,baseState:ee,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ji,lastRenderedState:ee},next:null};var l={};return s.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ji,lastRenderedState:l},next:null},o.memoizedState=s,o=o.alternate,o!==null&&(o.memoizedState=s),s}function IS(o){var s=NS(o);s.next===null&&(s=o.alternate.memoizedState),pl(o,s.next.queue,{},hn())}function Kh(){return Mt(Nl)}function DS(){return dt().memoizedState}function OS(){return dt().memoizedState}function B1(o){for(var s=o.return;s!==null;){switch(s.tag){case 24:case 3:var l=hn();o=Do(l);var f=Oo(s,o,l);f!==null&&(Zt(f,s,l),ll(f,s,l)),s={cache:Eh()},o.payload=s;return}s=s.return}}function F1(o,s,l){var f=hn();l={lane:f,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Lc(o)?kS(s,l):(l=fh(o,s,l,f),l!==null&&(Zt(l,o,f),LS(l,s,f)))}function PS(o,s,l){var f=hn();pl(o,s,l,f)}function pl(o,s,l,f){var v={lane:f,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(Lc(o))kS(s,v);else{var _=o.alternate;if(o.lanes===0&&(_===null||_.lanes===0)&&(_=s.lastRenderedReducer,_!==null))try{var C=s.lastRenderedState,R=_(C,l);if(v.hasEagerState=!0,v.eagerState=R,ln(R,C))return gc(o,s,v,0),et===null&&mc(),!1}catch{}finally{}if(l=fh(o,s,v,f),l!==null)return Zt(l,o,f),LS(l,s,f),!0}return!1}function jh(o,s,l,f){if(f={lane:2,revertLane:Am(),gesture:null,action:f,hasEagerState:!1,eagerState:null,next:null},Lc(o)){if(s)throw Error(i(479))}else s=fh(o,l,f,2),s!==null&&Zt(s,o,2)}function Lc(o){var s=o.alternate;return o===Re||s!==null&&s===Re}function kS(o,s){Ns=Mc=!0;var l=o.pending;l===null?s.next=s:(s.next=l.next,l.next=s),o.pending=s}function LS(o,s,l){if((l&4194048)!==0){var f=s.lanes;f&=o.pendingLanes,l|=f,s.lanes=l,H_(o,l)}}var hl={readContext:Mt,use:Dc,useCallback:lt,useContext:lt,useEffect:lt,useImperativeHandle:lt,useLayoutEffect:lt,useInsertionEffect:lt,useMemo:lt,useReducer:lt,useRef:lt,useState:lt,useDebugValue:lt,useDeferredValue:lt,useTransition:lt,useSyncExternalStore:lt,useId:lt,useHostTransitionStatus:lt,useFormState:lt,useActionState:lt,useOptimistic:lt,useMemoCache:lt,useCacheRefresh:lt};hl.useEffectEvent=lt;var US={readContext:Mt,use:Dc,useCallback:function(o,s){return $t().memoizedState=[o,s===void 0?null:s],o},useContext:Mt,useEffect:SS,useImperativeHandle:function(o,s,l){l=l!=null?l.concat([o]):null,Pc(4194308,4,CS.bind(null,s,o),l)},useLayoutEffect:function(o,s){return Pc(4194308,4,o,s)},useInsertionEffect:function(o,s){Pc(4,2,o,s)},useMemo:function(o,s){var l=$t();s=s===void 0?null:s;var f=o();if(Nr){Co(!0);try{o()}finally{Co(!1)}}return l.memoizedState=[f,s],f},useReducer:function(o,s,l){var f=$t();if(l!==void 0){var v=l(s);if(Nr){Co(!0);try{l(s)}finally{Co(!1)}}}else v=s;return f.memoizedState=f.baseState=v,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:v},f.queue=o,o=o.dispatch=F1.bind(null,Re,o),[f.memoizedState,o]},useRef:function(o){var s=$t();return o={current:o},s.memoizedState=o},useState:function(o){o=Hh(o);var s=o.queue,l=PS.bind(null,Re,s);return s.dispatch=l,[o.memoizedState,l]},useDebugValue:zh,useDeferredValue:function(o,s){var l=$t();return qh(l,o,s)},useTransition:function(){var o=Hh(!1);return o=MS.bind(null,Re,o.queue,!0,!1),$t().memoizedState=o,[!1,o]},useSyncExternalStore:function(o,s,l){var f=Re,v=$t();if(Le){if(l===void 0)throw Error(i(407));l=l()}else{if(l=s(),et===null)throw Error(i(349));(Pe&127)!==0||oS(f,s,l)}v.memoizedState=l;var _={value:l,getSnapshot:s};return v.queue=_,SS(sS.bind(null,f,_,o),[o]),f.flags|=2048,Ds(9,{destroy:void 0},rS.bind(null,f,_,l,s),null),l},useId:function(){var o=$t(),s=et.identifierPrefix;if(Le){var l=mi,f=hi;l=(f&~(1<<32-an(f)-1)).toString(32)+l,s="_"+s+"R_"+l,l=Nc++,0<l&&(s+="H"+l.toString(32)),s+="_"}else l=D1++,s="_"+s+"r_"+l.toString(32)+"_";return o.memoizedState=s},useHostTransitionStatus:Kh,useFormState:mS,useActionState:mS,useOptimistic:function(o){var s=$t();s.memoizedState=s.baseState=o;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=l,s=jh.bind(null,Re,!0,l),l.dispatch=s,[o,s]},useMemoCache:Bh,useCacheRefresh:function(){return $t().memoizedState=B1.bind(null,Re)},useEffectEvent:function(o){var s=$t(),l={impl:o};return s.memoizedState=l,function(){if((Je&2)!==0)throw Error(i(440));return l.impl.apply(void 0,arguments)}}},Yh={readContext:Mt,use:Dc,useCallback:AS,useContext:Mt,useEffect:Vh,useImperativeHandle:TS,useInsertionEffect:ES,useLayoutEffect:wS,useMemo:xS,useReducer:Oc,useRef:_S,useState:function(){return Oc(Ji)},useDebugValue:zh,useDeferredValue:function(o,s){var l=dt();return RS(l,Xe.memoizedState,o,s)},useTransition:function(){var o=Oc(Ji)[0],s=dt().memoizedState;return[typeof o=="boolean"?o:dl(o),s]},useSyncExternalStore:iS,useId:DS,useHostTransitionStatus:Kh,useFormState:gS,useActionState:gS,useOptimistic:function(o,s){var l=dt();return uS(l,Xe,o,s)},useMemoCache:Bh,useCacheRefresh:OS};Yh.useEffectEvent=bS;var BS={readContext:Mt,use:Dc,useCallback:AS,useContext:Mt,useEffect:Vh,useImperativeHandle:TS,useInsertionEffect:ES,useLayoutEffect:wS,useMemo:xS,useReducer:$h,useRef:_S,useState:function(){return $h(Ji)},useDebugValue:zh,useDeferredValue:function(o,s){var l=dt();return Xe===null?qh(l,o,s):RS(l,Xe.memoizedState,o,s)},useTransition:function(){var o=$h(Ji)[0],s=dt().memoizedState;return[typeof o=="boolean"?o:dl(o),s]},useSyncExternalStore:iS,useId:DS,useHostTransitionStatus:Kh,useFormState:yS,useActionState:yS,useOptimistic:function(o,s){var l=dt();return Xe!==null?uS(l,Xe,o,s):(l.baseState=o,[o,l.queue.dispatch])},useMemoCache:Bh,useCacheRefresh:OS};BS.useEffectEvent=bS;function Xh(o,s,l,f){s=o.memoizedState,l=l(f,s),l=l==null?s:y({},s,l),o.memoizedState=l,o.lanes===0&&(o.updateQueue.baseState=l)}var Wh={enqueueSetState:function(o,s,l){o=o._reactInternals;var f=hn(),v=Do(f);v.payload=s,l!=null&&(v.callback=l),s=Oo(o,v,f),s!==null&&(Zt(s,o,f),ll(s,o,f))},enqueueReplaceState:function(o,s,l){o=o._reactInternals;var f=hn(),v=Do(f);v.tag=1,v.payload=s,l!=null&&(v.callback=l),s=Oo(o,v,f),s!==null&&(Zt(s,o,f),ll(s,o,f))},enqueueForceUpdate:function(o,s){o=o._reactInternals;var l=hn(),f=Do(l);f.tag=2,s!=null&&(f.callback=s),s=Oo(o,f,l),s!==null&&(Zt(s,o,l),ll(s,o,l))}};function FS(o,s,l,f,v,_,C){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(f,_,C):s.prototype&&s.prototype.isPureReactComponent?!el(l,f)||!el(v,_):!0}function $S(o,s,l,f){o=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(l,f),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(l,f),s.state!==o&&Wh.enqueueReplaceState(s,s.state,null)}function Ir(o,s){var l=s;if("ref"in s){l={};for(var f in s)f!=="ref"&&(l[f]=s[f])}if(o=o.defaultProps){l===s&&(l=y({},l));for(var v in o)l[v]===void 0&&(l[v]=o[v])}return l}function HS(o){hc(o)}function GS(o){console.error(o)}function VS(o){hc(o)}function Uc(o,s){try{var l=o.onUncaughtError;l(s.value,{componentStack:s.stack})}catch(f){setTimeout(function(){throw f})}}function zS(o,s,l){try{var f=o.onCaughtError;f(l.value,{componentStack:l.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(v){setTimeout(function(){throw v})}}function Qh(o,s,l){return l=Do(l),l.tag=3,l.payload={element:null},l.callback=function(){Uc(o,s)},l}function qS(o){return o=Do(o),o.tag=3,o}function JS(o,s,l,f){var v=l.type.getDerivedStateFromError;if(typeof v=="function"){var _=f.value;o.payload=function(){return v(_)},o.callback=function(){zS(s,l,f)}}var C=l.stateNode;C!==null&&typeof C.componentDidCatch=="function"&&(o.callback=function(){zS(s,l,f),typeof v!="function"&&(Fo===null?Fo=new Set([this]):Fo.add(this));var R=f.stack;this.componentDidCatch(f.value,{componentStack:R!==null?R:""})})}function $1(o,s,l,f,v){if(l.flags|=32768,f!==null&&typeof f=="object"&&typeof f.then=="function"){if(s=l.alternate,s!==null&&Cs(s,l,v,!0),l=cn.current,l!==null){switch(l.tag){case 31:case 13:return Dn===null?Yc():l.alternate===null&&ut===0&&(ut=3),l.flags&=-257,l.flags|=65536,l.lanes=v,f===Cc?l.flags|=16384:(s=l.updateQueue,s===null?l.updateQueue=new Set([f]):s.add(f),wm(o,f,v)),!1;case 22:return l.flags|=65536,f===Cc?l.flags|=16384:(s=l.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([f])},l.updateQueue=s):(l=s.retryQueue,l===null?s.retryQueue=new Set([f]):l.add(f)),wm(o,f,v)),!1}throw Error(i(435,l.tag))}return wm(o,f,v),Yc(),!1}if(Le)return s=cn.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=v,f!==vh&&(o=Error(i(422),{cause:f}),il(Rn(o,l)))):(f!==vh&&(s=Error(i(423),{cause:f}),il(Rn(s,l))),o=o.current.alternate,o.flags|=65536,v&=-v,o.lanes|=v,f=Rn(f,l),v=Qh(o.stateNode,f,v),Rh(o,v),ut!==4&&(ut=2)),!1;var _=Error(i(520),{cause:f});if(_=Rn(_,l),El===null?El=[_]:El.push(_),ut!==4&&(ut=2),s===null)return!0;f=Rn(f,l),l=s;do{switch(l.tag){case 3:return l.flags|=65536,o=v&-v,l.lanes|=o,o=Qh(l.stateNode,f,o),Rh(l,o),!1;case 1:if(s=l.type,_=l.stateNode,(l.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(Fo===null||!Fo.has(_))))return l.flags|=65536,v&=-v,l.lanes|=v,v=qS(v),JS(v,o,l,f),Rh(l,v),!1}l=l.return}while(l!==null);return!1}var Zh=Error(i(461)),mt=!1;function Nt(o,s,l,f){s.child=o===null?X0(s,null,l,f):Mr(s,o.child,l,f)}function KS(o,s,l,f,v){l=l.render;var _=s.ref;if("ref"in f){var C={};for(var R in f)R!=="ref"&&(C[R]=f[R])}else C=f;return Tr(s),f=Ph(o,s,l,C,_,v),R=kh(),o!==null&&!mt?(Lh(o,s,v),Ki(o,s,v)):(Le&&R&&mh(s),s.flags|=1,Nt(o,s,f,v),s.child)}function jS(o,s,l,f,v){if(o===null){var _=l.type;return typeof _=="function"&&!dh(_)&&_.defaultProps===void 0&&l.compare===null?(s.tag=15,s.type=_,YS(o,s,_,f,v)):(o=yc(l.type,null,f,s,s.mode,v),o.ref=s.ref,o.return=s,s.child=o)}if(_=o.child,!am(o,v)){var C=_.memoizedProps;if(l=l.compare,l=l!==null?l:el,l(C,f)&&o.ref===s.ref)return Ki(o,s,v)}return s.flags|=1,o=Hi(_,f),o.ref=s.ref,o.return=s,s.child=o}function YS(o,s,l,f,v){if(o!==null){var _=o.memoizedProps;if(el(_,f)&&o.ref===s.ref)if(mt=!1,s.pendingProps=f=_,am(o,v))(o.flags&131072)!==0&&(mt=!0);else return s.lanes=o.lanes,Ki(o,s,v)}return em(o,s,l,f,v)}function XS(o,s,l,f){var v=f.children,_=o!==null?o.memoizedState:null;if(o===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),f.mode==="hidden"){if((s.flags&128)!==0){if(_=_!==null?_.baseLanes|l:l,o!==null){for(f=s.child=o.child,v=0;f!==null;)v=v|f.lanes|f.childLanes,f=f.sibling;f=v&~_}else f=0,s.child=null;return WS(o,s,_,l,f)}if((l&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},o!==null&&Ec(s,_!==null?_.cachePool:null),_!==null?Z0(s,_):Nh(),eS(s);else return f=s.lanes=536870912,WS(o,s,_!==null?_.baseLanes|l:l,l,f)}else _!==null?(Ec(s,_.cachePool),Z0(s,_),ko(),s.memoizedState=null):(o!==null&&Ec(s,null),Nh(),ko());return Nt(o,s,v,l),s.child}function ml(o,s){return o!==null&&o.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function WS(o,s,l,f,v){var _=Ch();return _=_===null?null:{parent:pt._currentValue,pool:_},s.memoizedState={baseLanes:l,cachePool:_},o!==null&&Ec(s,null),Nh(),eS(s),o!==null&&Cs(o,s,f,!0),s.childLanes=v,null}function Bc(o,s){return s=$c({mode:s.mode,children:s.children},o.mode),s.ref=o.ref,o.child=s,s.return=o,s}function QS(o,s,l){return Mr(s,o.child,null,l),o=Bc(s,s.pendingProps),o.flags|=2,fn(s),s.memoizedState=null,o}function H1(o,s,l){var f=s.pendingProps,v=(s.flags&128)!==0;if(s.flags&=-129,o===null){if(Le){if(f.mode==="hidden")return o=Bc(s,f),s.lanes=536870912,ml(null,o);if(Dh(s),(o=it)?(o=cE(o,In),o=o!==null&&o.data==="&"?o:null,o!==null&&(s.memoizedState={dehydrated:o,treeContext:xo!==null?{id:hi,overflow:mi}:null,retryLane:536870912,hydrationErrors:null},l=k0(o),l.return=s,s.child=l,Rt=s,it=null)):o=null,o===null)throw Mo(s);return s.lanes=536870912,null}return Bc(s,f)}var _=o.memoizedState;if(_!==null){var C=_.dehydrated;if(Dh(s),v)if(s.flags&256)s.flags&=-257,s=QS(o,s,l);else if(s.memoizedState!==null)s.child=o.child,s.flags|=128,s=null;else throw Error(i(558));else if(mt||Cs(o,s,l,!1),v=(l&o.childLanes)!==0,mt||v){if(f=et,f!==null&&(C=G_(f,l),C!==0&&C!==_.retryLane))throw _.retryLane=C,br(o,C),Zt(f,o,C),Zh;Yc(),s=QS(o,s,l)}else o=_.treeContext,it=On(C.nextSibling),Rt=s,Le=!0,Ro=null,In=!1,o!==null&&B0(s,o),s=Bc(s,f),s.flags|=4096;return s}return o=Hi(o.child,{mode:f.mode,children:f.children}),o.ref=s.ref,s.child=o,o.return=s,o}function Fc(o,s){var l=s.ref;if(l===null)o!==null&&o.ref!==null&&(s.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(i(284));(o===null||o.ref!==l)&&(s.flags|=4194816)}}function em(o,s,l,f,v){return Tr(s),l=Ph(o,s,l,f,void 0,v),f=kh(),o!==null&&!mt?(Lh(o,s,v),Ki(o,s,v)):(Le&&f&&mh(s),s.flags|=1,Nt(o,s,l,v),s.child)}function ZS(o,s,l,f,v,_){return Tr(s),s.updateQueue=null,l=nS(s,f,l,v),tS(o),f=kh(),o!==null&&!mt?(Lh(o,s,_),Ki(o,s,_)):(Le&&f&&mh(s),s.flags|=1,Nt(o,s,l,_),s.child)}function eb(o,s,l,f,v){if(Tr(s),s.stateNode===null){var _=Ss,C=l.contextType;typeof C=="object"&&C!==null&&(_=Mt(C)),_=new l(f,_),s.memoizedState=_.state!==null&&_.state!==void 0?_.state:null,_.updater=Wh,s.stateNode=_,_._reactInternals=s,_=s.stateNode,_.props=f,_.state=s.memoizedState,_.refs={},Ah(s),C=l.contextType,_.context=typeof C=="object"&&C!==null?Mt(C):Ss,_.state=s.memoizedState,C=l.getDerivedStateFromProps,typeof C=="function"&&(Xh(s,l,C,f),_.state=s.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof _.getSnapshotBeforeUpdate=="function"||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(C=_.state,typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount(),C!==_.state&&Wh.enqueueReplaceState(_,_.state,null),cl(s,f,_,v),ul(),_.state=s.memoizedState),typeof _.componentDidMount=="function"&&(s.flags|=4194308),f=!0}else if(o===null){_=s.stateNode;var R=s.memoizedProps,P=Ir(l,R);_.props=P;var G=_.context,X=l.contextType;C=Ss,typeof X=="object"&&X!==null&&(C=Mt(X));var te=l.getDerivedStateFromProps;X=typeof te=="function"||typeof _.getSnapshotBeforeUpdate=="function",R=s.pendingProps!==R,X||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(R||G!==C)&&$S(s,_,f,C),Io=!1;var z=s.memoizedState;_.state=z,cl(s,f,_,v),ul(),G=s.memoizedState,R||z!==G||Io?(typeof te=="function"&&(Xh(s,l,te,f),G=s.memoizedState),(P=Io||FS(s,l,P,f,z,G,C))?(X||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(s.flags|=4194308)):(typeof _.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=f,s.memoizedState=G),_.props=f,_.state=G,_.context=C,f=P):(typeof _.componentDidMount=="function"&&(s.flags|=4194308),f=!1)}else{_=s.stateNode,xh(o,s),C=s.memoizedProps,X=Ir(l,C),_.props=X,te=s.pendingProps,z=_.context,G=l.contextType,P=Ss,typeof G=="object"&&G!==null&&(P=Mt(G)),R=l.getDerivedStateFromProps,(G=typeof R=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(C!==te||z!==P)&&$S(s,_,f,P),Io=!1,z=s.memoizedState,_.state=z,cl(s,f,_,v),ul();var K=s.memoizedState;C!==te||z!==K||Io||o!==null&&o.dependencies!==null&&Sc(o.dependencies)?(typeof R=="function"&&(Xh(s,l,R,f),K=s.memoizedState),(X=Io||FS(s,l,X,f,z,K,P)||o!==null&&o.dependencies!==null&&Sc(o.dependencies))?(G||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(f,K,P),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(f,K,P)),typeof _.componentDidUpdate=="function"&&(s.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof _.componentDidUpdate!="function"||C===o.memoizedProps&&z===o.memoizedState||(s.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||C===o.memoizedProps&&z===o.memoizedState||(s.flags|=1024),s.memoizedProps=f,s.memoizedState=K),_.props=f,_.state=K,_.context=P,f=X):(typeof _.componentDidUpdate!="function"||C===o.memoizedProps&&z===o.memoizedState||(s.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||C===o.memoizedProps&&z===o.memoizedState||(s.flags|=1024),f=!1)}return _=f,Fc(o,s),f=(s.flags&128)!==0,_||f?(_=s.stateNode,l=f&&typeof l.getDerivedStateFromError!="function"?null:_.render(),s.flags|=1,o!==null&&f?(s.child=Mr(s,o.child,null,v),s.child=Mr(s,null,l,v)):Nt(o,s,l,v),s.memoizedState=_.state,o=s.child):o=Ki(o,s,v),o}function tb(o,s,l,f){return wr(),s.flags|=256,Nt(o,s,l,f),s.child}var tm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function nm(o){return{baseLanes:o,cachePool:z0()}}function im(o,s,l){return o=o!==null?o.childLanes&~l:0,s&&(o|=pn),o}function nb(o,s,l){var f=s.pendingProps,v=!1,_=(s.flags&128)!==0,C;if((C=_)||(C=o!==null&&o.memoizedState===null?!1:(ft.current&2)!==0),C&&(v=!0,s.flags&=-129),C=(s.flags&32)!==0,s.flags&=-33,o===null){if(Le){if(v?Po(s):ko(),(o=it)?(o=cE(o,In),o=o!==null&&o.data!=="&"?o:null,o!==null&&(s.memoizedState={dehydrated:o,treeContext:xo!==null?{id:hi,overflow:mi}:null,retryLane:536870912,hydrationErrors:null},l=k0(o),l.return=s,s.child=l,Rt=s,it=null)):o=null,o===null)throw Mo(s);return Fm(o)?s.lanes=32:s.lanes=536870912,null}var R=f.children;return f=f.fallback,v?(ko(),v=s.mode,R=$c({mode:"hidden",children:R},v),f=Er(f,v,l,null),R.return=s,f.return=s,R.sibling=f,s.child=R,f=s.child,f.memoizedState=nm(l),f.childLanes=im(o,C,l),s.memoizedState=tm,ml(null,f)):(Po(s),om(s,R))}var P=o.memoizedState;if(P!==null&&(R=P.dehydrated,R!==null)){if(_)s.flags&256?(Po(s),s.flags&=-257,s=rm(o,s,l)):s.memoizedState!==null?(ko(),s.child=o.child,s.flags|=128,s=null):(ko(),R=f.fallback,v=s.mode,f=$c({mode:"visible",children:f.children},v),R=Er(R,v,l,null),R.flags|=2,f.return=s,R.return=s,f.sibling=R,s.child=f,Mr(s,o.child,null,l),f=s.child,f.memoizedState=nm(l),f.childLanes=im(o,C,l),s.memoizedState=tm,s=ml(null,f));else if(Po(s),Fm(R)){if(C=R.nextSibling&&R.nextSibling.dataset,C)var G=C.dgst;C=G,f=Error(i(419)),f.stack="",f.digest=C,il({value:f,source:null,stack:null}),s=rm(o,s,l)}else if(mt||Cs(o,s,l,!1),C=(l&o.childLanes)!==0,mt||C){if(C=et,C!==null&&(f=G_(C,l),f!==0&&f!==P.retryLane))throw P.retryLane=f,br(o,f),Zt(C,o,f),Zh;Bm(R)||Yc(),s=rm(o,s,l)}else Bm(R)?(s.flags|=192,s.child=o.child,s=null):(o=P.treeContext,it=On(R.nextSibling),Rt=s,Le=!0,Ro=null,In=!1,o!==null&&B0(s,o),s=om(s,f.children),s.flags|=4096);return s}return v?(ko(),R=f.fallback,v=s.mode,P=o.child,G=P.sibling,f=Hi(P,{mode:"hidden",children:f.children}),f.subtreeFlags=P.subtreeFlags&65011712,G!==null?R=Hi(G,R):(R=Er(R,v,l,null),R.flags|=2),R.return=s,f.return=s,f.sibling=R,s.child=f,ml(null,f),f=s.child,R=o.child.memoizedState,R===null?R=nm(l):(v=R.cachePool,v!==null?(P=pt._currentValue,v=v.parent!==P?{parent:P,pool:P}:v):v=z0(),R={baseLanes:R.baseLanes|l,cachePool:v}),f.memoizedState=R,f.childLanes=im(o,C,l),s.memoizedState=tm,ml(o.child,f)):(Po(s),l=o.child,o=l.sibling,l=Hi(l,{mode:"visible",children:f.children}),l.return=s,l.sibling=null,o!==null&&(C=s.deletions,C===null?(s.deletions=[o],s.flags|=16):C.push(o)),s.child=l,s.memoizedState=null,l)}function om(o,s){return s=$c({mode:"visible",children:s},o.mode),s.return=o,o.child=s}function $c(o,s){return o=un(22,o,null,s),o.lanes=0,o}function rm(o,s,l){return Mr(s,o.child,null,l),o=om(s,s.pendingProps.children),o.flags|=2,s.memoizedState=null,o}function ib(o,s,l){o.lanes|=s;var f=o.alternate;f!==null&&(f.lanes|=s),Sh(o.return,s,l)}function sm(o,s,l,f,v,_){var C=o.memoizedState;C===null?o.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:f,tail:l,tailMode:v,treeForkCount:_}:(C.isBackwards=s,C.rendering=null,C.renderingStartTime=0,C.last=f,C.tail=l,C.tailMode=v,C.treeForkCount=_)}function ob(o,s,l){var f=s.pendingProps,v=f.revealOrder,_=f.tail;f=f.children;var C=ft.current,R=(C&2)!==0;if(R?(C=C&1|2,s.flags|=128):C&=1,se(ft,C),Nt(o,s,f,l),f=Le?nl:0,!R&&o!==null&&(o.flags&128)!==0)e:for(o=s.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&ib(o,l,s);else if(o.tag===19)ib(o,l,s);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break e;for(;o.sibling===null;){if(o.return===null||o.return===s)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}switch(v){case"forwards":for(l=s.child,v=null;l!==null;)o=l.alternate,o!==null&&Rc(o)===null&&(v=l),l=l.sibling;l=v,l===null?(v=s.child,s.child=null):(v=l.sibling,l.sibling=null),sm(s,!1,v,l,_,f);break;case"backwards":case"unstable_legacy-backwards":for(l=null,v=s.child,s.child=null;v!==null;){if(o=v.alternate,o!==null&&Rc(o)===null){s.child=v;break}o=v.sibling,v.sibling=l,l=v,v=o}sm(s,!0,l,null,_,f);break;case"together":sm(s,!1,null,null,void 0,f);break;default:s.memoizedState=null}return s.child}function Ki(o,s,l){if(o!==null&&(s.dependencies=o.dependencies),Bo|=s.lanes,(l&s.childLanes)===0)if(o!==null){if(Cs(o,s,l,!1),(l&s.childLanes)===0)return null}else return null;if(o!==null&&s.child!==o.child)throw Error(i(153));if(s.child!==null){for(o=s.child,l=Hi(o,o.pendingProps),s.child=l,l.return=s;o.sibling!==null;)o=o.sibling,l=l.sibling=Hi(o,o.pendingProps),l.return=s;l.sibling=null}return s.child}function am(o,s){return(o.lanes&s)!==0?!0:(o=o.dependencies,!!(o!==null&&Sc(o)))}function G1(o,s,l){switch(s.tag){case 3:ze(s,s.stateNode.containerInfo),No(s,pt,o.memoizedState.cache),wr();break;case 27:case 5:rn(s);break;case 4:ze(s,s.stateNode.containerInfo);break;case 10:No(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,Dh(s),null;break;case 13:var f=s.memoizedState;if(f!==null)return f.dehydrated!==null?(Po(s),s.flags|=128,null):(l&s.child.childLanes)!==0?nb(o,s,l):(Po(s),o=Ki(o,s,l),o!==null?o.sibling:null);Po(s);break;case 19:var v=(o.flags&128)!==0;if(f=(l&s.childLanes)!==0,f||(Cs(o,s,l,!1),f=(l&s.childLanes)!==0),v){if(f)return ob(o,s,l);s.flags|=128}if(v=s.memoizedState,v!==null&&(v.rendering=null,v.tail=null,v.lastEffect=null),se(ft,ft.current),f)break;return null;case 22:return s.lanes=0,XS(o,s,l,s.pendingProps);case 24:No(s,pt,o.memoizedState.cache)}return Ki(o,s,l)}function rb(o,s,l){if(o!==null)if(o.memoizedProps!==s.pendingProps)mt=!0;else{if(!am(o,l)&&(s.flags&128)===0)return mt=!1,G1(o,s,l);mt=(o.flags&131072)!==0}else mt=!1,Le&&(s.flags&1048576)!==0&&U0(s,nl,s.index);switch(s.lanes=0,s.tag){case 16:e:{var f=s.pendingProps;if(o=xr(s.elementType),s.type=o,typeof o=="function")dh(o)?(f=Ir(o,f),s.tag=1,s=eb(null,s,o,f,l)):(s.tag=0,s=em(null,s,o,f,l));else{if(o!=null){var v=o.$$typeof;if(v===D){s.tag=11,s=KS(null,s,o,f,l);break e}else if(v===O){s.tag=14,s=jS(null,s,o,f,l);break e}}throw s=ae(o)||o,Error(i(306,s,""))}}return s;case 0:return em(o,s,s.type,s.pendingProps,l);case 1:return f=s.type,v=Ir(f,s.pendingProps),eb(o,s,f,v,l);case 3:e:{if(ze(s,s.stateNode.containerInfo),o===null)throw Error(i(387));f=s.pendingProps;var _=s.memoizedState;v=_.element,xh(o,s),cl(s,f,null,l);var C=s.memoizedState;if(f=C.cache,No(s,pt,f),f!==_.cache&&bh(s,[pt],l,!0),ul(),f=C.element,_.isDehydrated)if(_={element:f,isDehydrated:!1,cache:C.cache},s.updateQueue.baseState=_,s.memoizedState=_,s.flags&256){s=tb(o,s,f,l);break e}else if(f!==v){v=Rn(Error(i(424)),s),il(v),s=tb(o,s,f,l);break e}else{switch(o=s.stateNode.containerInfo,o.nodeType){case 9:o=o.body;break;default:o=o.nodeName==="HTML"?o.ownerDocument.body:o}for(it=On(o.firstChild),Rt=s,Le=!0,Ro=null,In=!0,l=X0(s,null,f,l),s.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(wr(),f===v){s=Ki(o,s,l);break e}Nt(o,s,f,l)}s=s.child}return s;case 26:return Fc(o,s),o===null?(l=gE(s.type,null,s.pendingProps,null))?s.memoizedState=l:Le||(l=s.type,o=s.pendingProps,f=nf(be.current).createElement(l),f[xt]=s,f[Kt]=o,It(f,l,o),bt(f),s.stateNode=f):s.memoizedState=gE(s.type,o.memoizedProps,s.pendingProps,o.memoizedState),null;case 27:return rn(s),o===null&&Le&&(f=s.stateNode=pE(s.type,s.pendingProps,be.current),Rt=s,In=!0,v=it,Vo(s.type)?($m=v,it=On(f.firstChild)):it=v),Nt(o,s,s.pendingProps.children,l),Fc(o,s),o===null&&(s.flags|=4194304),s.child;case 5:return o===null&&Le&&((v=f=it)&&(f=yP(f,s.type,s.pendingProps,In),f!==null?(s.stateNode=f,Rt=s,it=On(f.firstChild),In=!1,v=!0):v=!1),v||Mo(s)),rn(s),v=s.type,_=s.pendingProps,C=o!==null?o.memoizedProps:null,f=_.children,km(v,_)?f=null:C!==null&&km(v,C)&&(s.flags|=32),s.memoizedState!==null&&(v=Ph(o,s,O1,null,null,l),Nl._currentValue=v),Fc(o,s),Nt(o,s,f,l),s.child;case 6:return o===null&&Le&&((o=l=it)&&(l=_P(l,s.pendingProps,In),l!==null?(s.stateNode=l,Rt=s,it=null,o=!0):o=!1),o||Mo(s)),null;case 13:return nb(o,s,l);case 4:return ze(s,s.stateNode.containerInfo),f=s.pendingProps,o===null?s.child=Mr(s,null,f,l):Nt(o,s,f,l),s.child;case 11:return KS(o,s,s.type,s.pendingProps,l);case 7:return Nt(o,s,s.pendingProps,l),s.child;case 8:return Nt(o,s,s.pendingProps.children,l),s.child;case 12:return Nt(o,s,s.pendingProps.children,l),s.child;case 10:return f=s.pendingProps,No(s,s.type,f.value),Nt(o,s,f.children,l),s.child;case 9:return v=s.type._context,f=s.pendingProps.children,Tr(s),v=Mt(v),f=f(v),s.flags|=1,Nt(o,s,f,l),s.child;case 14:return jS(o,s,s.type,s.pendingProps,l);case 15:return YS(o,s,s.type,s.pendingProps,l);case 19:return ob(o,s,l);case 31:return H1(o,s,l);case 22:return XS(o,s,l,s.pendingProps);case 24:return Tr(s),f=Mt(pt),o===null?(v=Ch(),v===null&&(v=et,_=Eh(),v.pooledCache=_,_.refCount++,_!==null&&(v.pooledCacheLanes|=l),v=_),s.memoizedState={parent:f,cache:v},Ah(s),No(s,pt,v)):((o.lanes&l)!==0&&(xh(o,s),cl(s,null,null,l),ul()),v=o.memoizedState,_=s.memoizedState,v.parent!==f?(v={parent:f,cache:f},s.memoizedState=v,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=v),No(s,pt,f)):(f=_.cache,No(s,pt,f),f!==v.cache&&bh(s,[pt],l,!0))),Nt(o,s,s.pendingProps.children,l),s.child;case 29:throw s.pendingProps}throw Error(i(156,s.tag))}function ji(o){o.flags|=4}function lm(o,s,l,f,v){if((s=(o.mode&32)!==0)&&(s=!1),s){if(o.flags|=16777216,(v&335544128)===v)if(o.stateNode.complete)o.flags|=8192;else if(Db())o.flags|=8192;else throw Rr=Cc,Th}else o.flags&=-16777217}function sb(o,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)o.flags&=-16777217;else if(o.flags|=16777216,!bE(s))if(Db())o.flags|=8192;else throw Rr=Cc,Th}function Hc(o,s){s!==null&&(o.flags|=4),o.flags&16384&&(s=o.tag!==22?F_():536870912,o.lanes|=s,Ls|=s)}function gl(o,s){if(!Le)switch(o.tailMode){case"hidden":s=o.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?o.tail=null:l.sibling=null;break;case"collapsed":l=o.tail;for(var f=null;l!==null;)l.alternate!==null&&(f=l),l=l.sibling;f===null?s||o.tail===null?o.tail=null:o.tail.sibling=null:f.sibling=null}}function ot(o){var s=o.alternate!==null&&o.alternate.child===o.child,l=0,f=0;if(s)for(var v=o.child;v!==null;)l|=v.lanes|v.childLanes,f|=v.subtreeFlags&65011712,f|=v.flags&65011712,v.return=o,v=v.sibling;else for(v=o.child;v!==null;)l|=v.lanes|v.childLanes,f|=v.subtreeFlags,f|=v.flags,v.return=o,v=v.sibling;return o.subtreeFlags|=f,o.childLanes=l,s}function V1(o,s,l){var f=s.pendingProps;switch(gh(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ot(s),null;case 1:return ot(s),null;case 3:return l=s.stateNode,f=null,o!==null&&(f=o.memoizedState.cache),s.memoizedState.cache!==f&&(s.flags|=2048),zi(pt),qe(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(o===null||o.child===null)&&(ws(s)?ji(s):o===null||o.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,yh())),ot(s),null;case 26:var v=s.type,_=s.memoizedState;return o===null?(ji(s),_!==null?(ot(s),sb(s,_)):(ot(s),lm(s,v,null,f,l))):_?_!==o.memoizedState?(ji(s),ot(s),sb(s,_)):(ot(s),s.flags&=-16777217):(o=o.memoizedProps,o!==f&&ji(s),ot(s),lm(s,v,o,f,l)),null;case 27:if(Cn(s),l=be.current,v=s.type,o!==null&&s.stateNode!=null)o.memoizedProps!==f&&ji(s);else{if(!f){if(s.stateNode===null)throw Error(i(166));return ot(s),null}o=le.current,ws(s)?F0(s):(o=pE(v,f,l),s.stateNode=o,ji(s))}return ot(s),null;case 5:if(Cn(s),v=s.type,o!==null&&s.stateNode!=null)o.memoizedProps!==f&&ji(s);else{if(!f){if(s.stateNode===null)throw Error(i(166));return ot(s),null}if(_=le.current,ws(s))F0(s);else{var C=nf(be.current);switch(_){case 1:_=C.createElementNS("http://www.w3.org/2000/svg",v);break;case 2:_=C.createElementNS("http://www.w3.org/1998/Math/MathML",v);break;default:switch(v){case"svg":_=C.createElementNS("http://www.w3.org/2000/svg",v);break;case"math":_=C.createElementNS("http://www.w3.org/1998/Math/MathML",v);break;case"script":_=C.createElement("div"),_.innerHTML="<script><\/script>",_=_.removeChild(_.firstChild);break;case"select":_=typeof f.is=="string"?C.createElement("select",{is:f.is}):C.createElement("select"),f.multiple?_.multiple=!0:f.size&&(_.size=f.size);break;default:_=typeof f.is=="string"?C.createElement(v,{is:f.is}):C.createElement(v)}}_[xt]=s,_[Kt]=f;e:for(C=s.child;C!==null;){if(C.tag===5||C.tag===6)_.appendChild(C.stateNode);else if(C.tag!==4&&C.tag!==27&&C.child!==null){C.child.return=C,C=C.child;continue}if(C===s)break e;for(;C.sibling===null;){if(C.return===null||C.return===s)break e;C=C.return}C.sibling.return=C.return,C=C.sibling}s.stateNode=_;e:switch(It(_,v,f),v){case"button":case"input":case"select":case"textarea":f=!!f.autoFocus;break e;case"img":f=!0;break e;default:f=!1}f&&ji(s)}}return ot(s),lm(s,s.type,o===null?null:o.memoizedProps,s.pendingProps,l),null;case 6:if(o&&s.stateNode!=null)o.memoizedProps!==f&&ji(s);else{if(typeof f!="string"&&s.stateNode===null)throw Error(i(166));if(o=be.current,ws(s)){if(o=s.stateNode,l=s.memoizedProps,f=null,v=Rt,v!==null)switch(v.tag){case 27:case 5:f=v.memoizedProps}o[xt]=s,o=!!(o.nodeValue===l||f!==null&&f.suppressHydrationWarning===!0||nE(o.nodeValue,l)),o||Mo(s,!0)}else o=nf(o).createTextNode(f),o[xt]=s,s.stateNode=o}return ot(s),null;case 31:if(l=s.memoizedState,o===null||o.memoizedState!==null){if(f=ws(s),l!==null){if(o===null){if(!f)throw Error(i(318));if(o=s.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(i(557));o[xt]=s}else wr(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;ot(s),o=!1}else l=yh(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=l),o=!0;if(!o)return s.flags&256?(fn(s),s):(fn(s),null);if((s.flags&128)!==0)throw Error(i(558))}return ot(s),null;case 13:if(f=s.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(v=ws(s),f!==null&&f.dehydrated!==null){if(o===null){if(!v)throw Error(i(318));if(v=s.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(i(317));v[xt]=s}else wr(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;ot(s),v=!1}else v=yh(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=v),v=!0;if(!v)return s.flags&256?(fn(s),s):(fn(s),null)}return fn(s),(s.flags&128)!==0?(s.lanes=l,s):(l=f!==null,o=o!==null&&o.memoizedState!==null,l&&(f=s.child,v=null,f.alternate!==null&&f.alternate.memoizedState!==null&&f.alternate.memoizedState.cachePool!==null&&(v=f.alternate.memoizedState.cachePool.pool),_=null,f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(_=f.memoizedState.cachePool.pool),_!==v&&(f.flags|=2048)),l!==o&&l&&(s.child.flags|=8192),Hc(s,s.updateQueue),ot(s),null);case 4:return qe(),o===null&&Nm(s.stateNode.containerInfo),ot(s),null;case 10:return zi(s.type),ot(s),null;case 19:if(j(ft),f=s.memoizedState,f===null)return ot(s),null;if(v=(s.flags&128)!==0,_=f.rendering,_===null)if(v)gl(f,!1);else{if(ut!==0||o!==null&&(o.flags&128)!==0)for(o=s.child;o!==null;){if(_=Rc(o),_!==null){for(s.flags|=128,gl(f,!1),o=_.updateQueue,s.updateQueue=o,Hc(s,o),s.subtreeFlags=0,o=l,l=s.child;l!==null;)P0(l,o),l=l.sibling;return se(ft,ft.current&1|2),Le&&Gi(s,f.treeForkCount),s.child}o=o.sibling}f.tail!==null&&At()>Jc&&(s.flags|=128,v=!0,gl(f,!1),s.lanes=4194304)}else{if(!v)if(o=Rc(_),o!==null){if(s.flags|=128,v=!0,o=o.updateQueue,s.updateQueue=o,Hc(s,o),gl(f,!0),f.tail===null&&f.tailMode==="hidden"&&!_.alternate&&!Le)return ot(s),null}else 2*At()-f.renderingStartTime>Jc&&l!==536870912&&(s.flags|=128,v=!0,gl(f,!1),s.lanes=4194304);f.isBackwards?(_.sibling=s.child,s.child=_):(o=f.last,o!==null?o.sibling=_:s.child=_,f.last=_)}return f.tail!==null?(o=f.tail,f.rendering=o,f.tail=o.sibling,f.renderingStartTime=At(),o.sibling=null,l=ft.current,se(ft,v?l&1|2:l&1),Le&&Gi(s,f.treeForkCount),o):(ot(s),null);case 22:case 23:return fn(s),Ih(),f=s.memoizedState!==null,o!==null?o.memoizedState!==null!==f&&(s.flags|=8192):f&&(s.flags|=8192),f?(l&536870912)!==0&&(s.flags&128)===0&&(ot(s),s.subtreeFlags&6&&(s.flags|=8192)):ot(s),l=s.updateQueue,l!==null&&Hc(s,l.retryQueue),l=null,o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(l=o.memoizedState.cachePool.pool),f=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(f=s.memoizedState.cachePool.pool),f!==l&&(s.flags|=2048),o!==null&&j(Ar),null;case 24:return l=null,o!==null&&(l=o.memoizedState.cache),s.memoizedState.cache!==l&&(s.flags|=2048),zi(pt),ot(s),null;case 25:return null;case 30:return null}throw Error(i(156,s.tag))}function z1(o,s){switch(gh(s),s.tag){case 1:return o=s.flags,o&65536?(s.flags=o&-65537|128,s):null;case 3:return zi(pt),qe(),o=s.flags,(o&65536)!==0&&(o&128)===0?(s.flags=o&-65537|128,s):null;case 26:case 27:case 5:return Cn(s),null;case 31:if(s.memoizedState!==null){if(fn(s),s.alternate===null)throw Error(i(340));wr()}return o=s.flags,o&65536?(s.flags=o&-65537|128,s):null;case 13:if(fn(s),o=s.memoizedState,o!==null&&o.dehydrated!==null){if(s.alternate===null)throw Error(i(340));wr()}return o=s.flags,o&65536?(s.flags=o&-65537|128,s):null;case 19:return j(ft),null;case 4:return qe(),null;case 10:return zi(s.type),null;case 22:case 23:return fn(s),Ih(),o!==null&&j(Ar),o=s.flags,o&65536?(s.flags=o&-65537|128,s):null;case 24:return zi(pt),null;case 25:return null;default:return null}}function ab(o,s){switch(gh(s),s.tag){case 3:zi(pt),qe();break;case 26:case 27:case 5:Cn(s);break;case 4:qe();break;case 31:s.memoizedState!==null&&fn(s);break;case 13:fn(s);break;case 19:j(ft);break;case 10:zi(s.type);break;case 22:case 23:fn(s),Ih(),o!==null&&j(Ar);break;case 24:zi(pt)}}function vl(o,s){try{var l=s.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var v=f.next;l=v;do{if((l.tag&o)===o){f=void 0;var _=l.create,C=l.inst;f=_(),C.destroy=f}l=l.next}while(l!==v)}}catch(R){je(s,s.return,R)}}function Lo(o,s,l){try{var f=s.updateQueue,v=f!==null?f.lastEffect:null;if(v!==null){var _=v.next;f=_;do{if((f.tag&o)===o){var C=f.inst,R=C.destroy;if(R!==void 0){C.destroy=void 0,v=s;var P=l,G=R;try{G()}catch(X){je(v,P,X)}}}f=f.next}while(f!==_)}}catch(X){je(s,s.return,X)}}function lb(o){var s=o.updateQueue;if(s!==null){var l=o.stateNode;try{Q0(s,l)}catch(f){je(o,o.return,f)}}}function ub(o,s,l){l.props=Ir(o.type,o.memoizedProps),l.state=o.memoizedState;try{l.componentWillUnmount()}catch(f){je(o,s,f)}}function yl(o,s){try{var l=o.ref;if(l!==null){switch(o.tag){case 26:case 27:case 5:var f=o.stateNode;break;case 30:f=o.stateNode;break;default:f=o.stateNode}typeof l=="function"?o.refCleanup=l(f):l.current=f}}catch(v){je(o,s,v)}}function gi(o,s){var l=o.ref,f=o.refCleanup;if(l!==null)if(typeof f=="function")try{f()}catch(v){je(o,s,v)}finally{o.refCleanup=null,o=o.alternate,o!=null&&(o.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(v){je(o,s,v)}else l.current=null}function cb(o){var s=o.type,l=o.memoizedProps,f=o.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":l.autoFocus&&f.focus();break e;case"img":l.src?f.src=l.src:l.srcSet&&(f.srcset=l.srcSet)}}catch(v){je(o,o.return,v)}}function um(o,s,l){try{var f=o.stateNode;dP(f,o.type,l,s),f[Kt]=s}catch(v){je(o,o.return,v)}}function fb(o){return o.tag===5||o.tag===3||o.tag===26||o.tag===27&&Vo(o.type)||o.tag===4}function cm(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||fb(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.tag===27&&Vo(o.type)||o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function fm(o,s,l){var f=o.tag;if(f===5||f===6)o=o.stateNode,s?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(o,s):(s=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,s.appendChild(o),l=l._reactRootContainer,l!=null||s.onclick!==null||(s.onclick=Fi));else if(f!==4&&(f===27&&Vo(o.type)&&(l=o.stateNode,s=null),o=o.child,o!==null))for(fm(o,s,l),o=o.sibling;o!==null;)fm(o,s,l),o=o.sibling}function Gc(o,s,l){var f=o.tag;if(f===5||f===6)o=o.stateNode,s?l.insertBefore(o,s):l.appendChild(o);else if(f!==4&&(f===27&&Vo(o.type)&&(l=o.stateNode),o=o.child,o!==null))for(Gc(o,s,l),o=o.sibling;o!==null;)Gc(o,s,l),o=o.sibling}function db(o){var s=o.stateNode,l=o.memoizedProps;try{for(var f=o.type,v=s.attributes;v.length;)s.removeAttributeNode(v[0]);It(s,f,l),s[xt]=o,s[Kt]=l}catch(_){je(o,o.return,_)}}var Yi=!1,gt=!1,dm=!1,pb=typeof WeakSet=="function"?WeakSet:Set,Et=null;function q1(o,s){if(o=o.containerInfo,Om=cf,o=T0(o),rh(o)){if("selectionStart"in o)var l={start:o.selectionStart,end:o.selectionEnd};else e:{l=(l=o.ownerDocument)&&l.defaultView||window;var f=l.getSelection&&l.getSelection();if(f&&f.rangeCount!==0){l=f.anchorNode;var v=f.anchorOffset,_=f.focusNode;f=f.focusOffset;try{l.nodeType,_.nodeType}catch{l=null;break e}var C=0,R=-1,P=-1,G=0,X=0,te=o,z=null;t:for(;;){for(var K;te!==l||v!==0&&te.nodeType!==3||(R=C+v),te!==_||f!==0&&te.nodeType!==3||(P=C+f),te.nodeType===3&&(C+=te.nodeValue.length),(K=te.firstChild)!==null;)z=te,te=K;for(;;){if(te===o)break t;if(z===l&&++G===v&&(R=C),z===_&&++X===f&&(P=C),(K=te.nextSibling)!==null)break;te=z,z=te.parentNode}te=K}l=R===-1||P===-1?null:{start:R,end:P}}else l=null}l=l||{start:0,end:0}}else l=null;for(Pm={focusedElem:o,selectionRange:l},cf=!1,Et=s;Et!==null;)if(s=Et,o=s.child,(s.subtreeFlags&1028)!==0&&o!==null)o.return=s,Et=o;else for(;Et!==null;){switch(s=Et,_=s.alternate,o=s.flags,s.tag){case 0:if((o&4)!==0&&(o=s.updateQueue,o=o!==null?o.events:null,o!==null))for(l=0;l<o.length;l++)v=o[l],v.ref.impl=v.nextImpl;break;case 11:case 15:break;case 1:if((o&1024)!==0&&_!==null){o=void 0,l=s,v=_.memoizedProps,_=_.memoizedState,f=l.stateNode;try{var pe=Ir(l.type,v);o=f.getSnapshotBeforeUpdate(pe,_),f.__reactInternalSnapshotBeforeUpdate=o}catch(Ee){je(l,l.return,Ee)}}break;case 3:if((o&1024)!==0){if(o=s.stateNode.containerInfo,l=o.nodeType,l===9)Um(o);else if(l===1)switch(o.nodeName){case"HEAD":case"HTML":case"BODY":Um(o);break;default:o.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((o&1024)!==0)throw Error(i(163))}if(o=s.sibling,o!==null){o.return=s.return,Et=o;break}Et=s.return}}function hb(o,s,l){var f=l.flags;switch(l.tag){case 0:case 11:case 15:Wi(o,l),f&4&&vl(5,l);break;case 1:if(Wi(o,l),f&4)if(o=l.stateNode,s===null)try{o.componentDidMount()}catch(C){je(l,l.return,C)}else{var v=Ir(l.type,s.memoizedProps);s=s.memoizedState;try{o.componentDidUpdate(v,s,o.__reactInternalSnapshotBeforeUpdate)}catch(C){je(l,l.return,C)}}f&64&&lb(l),f&512&&yl(l,l.return);break;case 3:if(Wi(o,l),f&64&&(o=l.updateQueue,o!==null)){if(s=null,l.child!==null)switch(l.child.tag){case 27:case 5:s=l.child.stateNode;break;case 1:s=l.child.stateNode}try{Q0(o,s)}catch(C){je(l,l.return,C)}}break;case 27:s===null&&f&4&&db(l);case 26:case 5:Wi(o,l),s===null&&f&4&&cb(l),f&512&&yl(l,l.return);break;case 12:Wi(o,l);break;case 31:Wi(o,l),f&4&&vb(o,l);break;case 13:Wi(o,l),f&4&&yb(o,l),f&64&&(o=l.memoizedState,o!==null&&(o=o.dehydrated,o!==null&&(l=eP.bind(null,l),SP(o,l))));break;case 22:if(f=l.memoizedState!==null||Yi,!f){s=s!==null&&s.memoizedState!==null||gt,v=Yi;var _=gt;Yi=f,(gt=s)&&!_?Qi(o,l,(l.subtreeFlags&8772)!==0):Wi(o,l),Yi=v,gt=_}break;case 30:break;default:Wi(o,l)}}function mb(o){var s=o.alternate;s!==null&&(o.alternate=null,mb(s)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(s=o.stateNode,s!==null&&Gp(s)),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}var st=null,Yt=!1;function Xi(o,s,l){for(l=l.child;l!==null;)gb(o,s,l),l=l.sibling}function gb(o,s,l){if(sn&&typeof sn.onCommitFiberUnmount=="function")try{sn.onCommitFiberUnmount(Ga,l)}catch{}switch(l.tag){case 26:gt||gi(l,s),Xi(o,s,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:gt||gi(l,s);var f=st,v=Yt;Vo(l.type)&&(st=l.stateNode,Yt=!1),Xi(o,s,l),xl(l.stateNode),st=f,Yt=v;break;case 5:gt||gi(l,s);case 6:if(f=st,v=Yt,st=null,Xi(o,s,l),st=f,Yt=v,st!==null)if(Yt)try{(st.nodeType===9?st.body:st.nodeName==="HTML"?st.ownerDocument.body:st).removeChild(l.stateNode)}catch(_){je(l,s,_)}else try{st.removeChild(l.stateNode)}catch(_){je(l,s,_)}break;case 18:st!==null&&(Yt?(o=st,lE(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,l.stateNode),zs(o)):lE(st,l.stateNode));break;case 4:f=st,v=Yt,st=l.stateNode.containerInfo,Yt=!0,Xi(o,s,l),st=f,Yt=v;break;case 0:case 11:case 14:case 15:Lo(2,l,s),gt||Lo(4,l,s),Xi(o,s,l);break;case 1:gt||(gi(l,s),f=l.stateNode,typeof f.componentWillUnmount=="function"&&ub(l,s,f)),Xi(o,s,l);break;case 21:Xi(o,s,l);break;case 22:gt=(f=gt)||l.memoizedState!==null,Xi(o,s,l),gt=f;break;default:Xi(o,s,l)}}function vb(o,s){if(s.memoizedState===null&&(o=s.alternate,o!==null&&(o=o.memoizedState,o!==null))){o=o.dehydrated;try{zs(o)}catch(l){je(s,s.return,l)}}}function yb(o,s){if(s.memoizedState===null&&(o=s.alternate,o!==null&&(o=o.memoizedState,o!==null&&(o=o.dehydrated,o!==null))))try{zs(o)}catch(l){je(s,s.return,l)}}function J1(o){switch(o.tag){case 31:case 13:case 19:var s=o.stateNode;return s===null&&(s=o.stateNode=new pb),s;case 22:return o=o.stateNode,s=o._retryCache,s===null&&(s=o._retryCache=new pb),s;default:throw Error(i(435,o.tag))}}function Vc(o,s){var l=J1(o);s.forEach(function(f){if(!l.has(f)){l.add(f);var v=tP.bind(null,o,f);f.then(v,v)}})}function Xt(o,s){var l=s.deletions;if(l!==null)for(var f=0;f<l.length;f++){var v=l[f],_=o,C=s,R=C;e:for(;R!==null;){switch(R.tag){case 27:if(Vo(R.type)){st=R.stateNode,Yt=!1;break e}break;case 5:st=R.stateNode,Yt=!1;break e;case 3:case 4:st=R.stateNode.containerInfo,Yt=!0;break e}R=R.return}if(st===null)throw Error(i(160));gb(_,C,v),st=null,Yt=!1,_=v.alternate,_!==null&&(_.return=null),v.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)_b(s,o),s=s.sibling}var Xn=null;function _b(o,s){var l=o.alternate,f=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:Xt(s,o),Wt(o),f&4&&(Lo(3,o,o.return),vl(3,o),Lo(5,o,o.return));break;case 1:Xt(s,o),Wt(o),f&512&&(gt||l===null||gi(l,l.return)),f&64&&Yi&&(o=o.updateQueue,o!==null&&(f=o.callbacks,f!==null&&(l=o.shared.hiddenCallbacks,o.shared.hiddenCallbacks=l===null?f:l.concat(f))));break;case 26:var v=Xn;if(Xt(s,o),Wt(o),f&512&&(gt||l===null||gi(l,l.return)),f&4){var _=l!==null?l.memoizedState:null;if(f=o.memoizedState,l===null)if(f===null)if(o.stateNode===null){e:{f=o.type,l=o.memoizedProps,v=v.ownerDocument||v;t:switch(f){case"title":_=v.getElementsByTagName("title")[0],(!_||_[qa]||_[xt]||_.namespaceURI==="http://www.w3.org/2000/svg"||_.hasAttribute("itemprop"))&&(_=v.createElement(f),v.head.insertBefore(_,v.querySelector("head > title"))),It(_,f,l),_[xt]=o,bt(_),f=_;break e;case"link":var C=_E("link","href",v).get(f+(l.href||""));if(C){for(var R=0;R<C.length;R++)if(_=C[R],_.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&_.getAttribute("rel")===(l.rel==null?null:l.rel)&&_.getAttribute("title")===(l.title==null?null:l.title)&&_.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){C.splice(R,1);break t}}_=v.createElement(f),It(_,f,l),v.head.appendChild(_);break;case"meta":if(C=_E("meta","content",v).get(f+(l.content||""))){for(R=0;R<C.length;R++)if(_=C[R],_.getAttribute("content")===(l.content==null?null:""+l.content)&&_.getAttribute("name")===(l.name==null?null:l.name)&&_.getAttribute("property")===(l.property==null?null:l.property)&&_.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&_.getAttribute("charset")===(l.charSet==null?null:l.charSet)){C.splice(R,1);break t}}_=v.createElement(f),It(_,f,l),v.head.appendChild(_);break;default:throw Error(i(468,f))}_[xt]=o,bt(_),f=_}o.stateNode=f}else SE(v,o.type,o.stateNode);else o.stateNode=yE(v,f,o.memoizedProps);else _!==f?(_===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):_.count--,f===null?SE(v,o.type,o.stateNode):yE(v,f,o.memoizedProps)):f===null&&o.stateNode!==null&&um(o,o.memoizedProps,l.memoizedProps)}break;case 27:Xt(s,o),Wt(o),f&512&&(gt||l===null||gi(l,l.return)),l!==null&&f&4&&um(o,o.memoizedProps,l.memoizedProps);break;case 5:if(Xt(s,o),Wt(o),f&512&&(gt||l===null||gi(l,l.return)),o.flags&32){v=o.stateNode;try{ps(v,"")}catch(pe){je(o,o.return,pe)}}f&4&&o.stateNode!=null&&(v=o.memoizedProps,um(o,v,l!==null?l.memoizedProps:v)),f&1024&&(dm=!0);break;case 6:if(Xt(s,o),Wt(o),f&4){if(o.stateNode===null)throw Error(i(162));f=o.memoizedProps,l=o.stateNode;try{l.nodeValue=f}catch(pe){je(o,o.return,pe)}}break;case 3:if(sf=null,v=Xn,Xn=of(s.containerInfo),Xt(s,o),Xn=v,Wt(o),f&4&&l!==null&&l.memoizedState.isDehydrated)try{zs(s.containerInfo)}catch(pe){je(o,o.return,pe)}dm&&(dm=!1,Sb(o));break;case 4:f=Xn,Xn=of(o.stateNode.containerInfo),Xt(s,o),Wt(o),Xn=f;break;case 12:Xt(s,o),Wt(o);break;case 31:Xt(s,o),Wt(o),f&4&&(f=o.updateQueue,f!==null&&(o.updateQueue=null,Vc(o,f)));break;case 13:Xt(s,o),Wt(o),o.child.flags&8192&&o.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(qc=At()),f&4&&(f=o.updateQueue,f!==null&&(o.updateQueue=null,Vc(o,f)));break;case 22:v=o.memoizedState!==null;var P=l!==null&&l.memoizedState!==null,G=Yi,X=gt;if(Yi=G||v,gt=X||P,Xt(s,o),gt=X,Yi=G,Wt(o),f&8192)e:for(s=o.stateNode,s._visibility=v?s._visibility&-2:s._visibility|1,v&&(l===null||P||Yi||gt||Dr(o)),l=null,s=o;;){if(s.tag===5||s.tag===26){if(l===null){P=l=s;try{if(_=P.stateNode,v)C=_.style,typeof C.setProperty=="function"?C.setProperty("display","none","important"):C.display="none";else{R=P.stateNode;var te=P.memoizedProps.style,z=te!=null&&te.hasOwnProperty("display")?te.display:null;R.style.display=z==null||typeof z=="boolean"?"":(""+z).trim()}}catch(pe){je(P,P.return,pe)}}}else if(s.tag===6){if(l===null){P=s;try{P.stateNode.nodeValue=v?"":P.memoizedProps}catch(pe){je(P,P.return,pe)}}}else if(s.tag===18){if(l===null){P=s;try{var K=P.stateNode;v?uE(K,!0):uE(P.stateNode,!1)}catch(pe){je(P,P.return,pe)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===o)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===o)break e;for(;s.sibling===null;){if(s.return===null||s.return===o)break e;l===s&&(l=null),s=s.return}l===s&&(l=null),s.sibling.return=s.return,s=s.sibling}f&4&&(f=o.updateQueue,f!==null&&(l=f.retryQueue,l!==null&&(f.retryQueue=null,Vc(o,l))));break;case 19:Xt(s,o),Wt(o),f&4&&(f=o.updateQueue,f!==null&&(o.updateQueue=null,Vc(o,f)));break;case 30:break;case 21:break;default:Xt(s,o),Wt(o)}}function Wt(o){var s=o.flags;if(s&2){try{for(var l,f=o.return;f!==null;){if(fb(f)){l=f;break}f=f.return}if(l==null)throw Error(i(160));switch(l.tag){case 27:var v=l.stateNode,_=cm(o);Gc(o,_,v);break;case 5:var C=l.stateNode;l.flags&32&&(ps(C,""),l.flags&=-33);var R=cm(o);Gc(o,R,C);break;case 3:case 4:var P=l.stateNode.containerInfo,G=cm(o);fm(o,G,P);break;default:throw Error(i(161))}}catch(X){je(o,o.return,X)}o.flags&=-3}s&4096&&(o.flags&=-4097)}function Sb(o){if(o.subtreeFlags&1024)for(o=o.child;o!==null;){var s=o;Sb(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),o=o.sibling}}function Wi(o,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)hb(o,s.alternate,s),s=s.sibling}function Dr(o){for(o=o.child;o!==null;){var s=o;switch(s.tag){case 0:case 11:case 14:case 15:Lo(4,s,s.return),Dr(s);break;case 1:gi(s,s.return);var l=s.stateNode;typeof l.componentWillUnmount=="function"&&ub(s,s.return,l),Dr(s);break;case 27:xl(s.stateNode);case 26:case 5:gi(s,s.return),Dr(s);break;case 22:s.memoizedState===null&&Dr(s);break;case 30:Dr(s);break;default:Dr(s)}o=o.sibling}}function Qi(o,s,l){for(l=l&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var f=s.alternate,v=o,_=s,C=_.flags;switch(_.tag){case 0:case 11:case 15:Qi(v,_,l),vl(4,_);break;case 1:if(Qi(v,_,l),f=_,v=f.stateNode,typeof v.componentDidMount=="function")try{v.componentDidMount()}catch(G){je(f,f.return,G)}if(f=_,v=f.updateQueue,v!==null){var R=f.stateNode;try{var P=v.shared.hiddenCallbacks;if(P!==null)for(v.shared.hiddenCallbacks=null,v=0;v<P.length;v++)W0(P[v],R)}catch(G){je(f,f.return,G)}}l&&C&64&&lb(_),yl(_,_.return);break;case 27:db(_);case 26:case 5:Qi(v,_,l),l&&f===null&&C&4&&cb(_),yl(_,_.return);break;case 12:Qi(v,_,l);break;case 31:Qi(v,_,l),l&&C&4&&vb(v,_);break;case 13:Qi(v,_,l),l&&C&4&&yb(v,_);break;case 22:_.memoizedState===null&&Qi(v,_,l),yl(_,_.return);break;case 30:break;default:Qi(v,_,l)}s=s.sibling}}function pm(o,s){var l=null;o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(l=o.memoizedState.cachePool.pool),o=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(o=s.memoizedState.cachePool.pool),o!==l&&(o!=null&&o.refCount++,l!=null&&ol(l))}function hm(o,s){o=null,s.alternate!==null&&(o=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==o&&(s.refCount++,o!=null&&ol(o))}function Wn(o,s,l,f){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)bb(o,s,l,f),s=s.sibling}function bb(o,s,l,f){var v=s.flags;switch(s.tag){case 0:case 11:case 15:Wn(o,s,l,f),v&2048&&vl(9,s);break;case 1:Wn(o,s,l,f);break;case 3:Wn(o,s,l,f),v&2048&&(o=null,s.alternate!==null&&(o=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==o&&(s.refCount++,o!=null&&ol(o)));break;case 12:if(v&2048){Wn(o,s,l,f),o=s.stateNode;try{var _=s.memoizedProps,C=_.id,R=_.onPostCommit;typeof R=="function"&&R(C,s.alternate===null?"mount":"update",o.passiveEffectDuration,-0)}catch(P){je(s,s.return,P)}}else Wn(o,s,l,f);break;case 31:Wn(o,s,l,f);break;case 13:Wn(o,s,l,f);break;case 23:break;case 22:_=s.stateNode,C=s.alternate,s.memoizedState!==null?_._visibility&2?Wn(o,s,l,f):_l(o,s):_._visibility&2?Wn(o,s,l,f):(_._visibility|=2,Os(o,s,l,f,(s.subtreeFlags&10256)!==0||!1)),v&2048&&pm(C,s);break;case 24:Wn(o,s,l,f),v&2048&&hm(s.alternate,s);break;default:Wn(o,s,l,f)}}function Os(o,s,l,f,v){for(v=v&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var _=o,C=s,R=l,P=f,G=C.flags;switch(C.tag){case 0:case 11:case 15:Os(_,C,R,P,v),vl(8,C);break;case 23:break;case 22:var X=C.stateNode;C.memoizedState!==null?X._visibility&2?Os(_,C,R,P,v):_l(_,C):(X._visibility|=2,Os(_,C,R,P,v)),v&&G&2048&&pm(C.alternate,C);break;case 24:Os(_,C,R,P,v),v&&G&2048&&hm(C.alternate,C);break;default:Os(_,C,R,P,v)}s=s.sibling}}function _l(o,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var l=o,f=s,v=f.flags;switch(f.tag){case 22:_l(l,f),v&2048&&pm(f.alternate,f);break;case 24:_l(l,f),v&2048&&hm(f.alternate,f);break;default:_l(l,f)}s=s.sibling}}var Sl=8192;function Ps(o,s,l){if(o.subtreeFlags&Sl)for(o=o.child;o!==null;)Eb(o,s,l),o=o.sibling}function Eb(o,s,l){switch(o.tag){case 26:Ps(o,s,l),o.flags&Sl&&o.memoizedState!==null&&DP(l,Xn,o.memoizedState,o.memoizedProps);break;case 5:Ps(o,s,l);break;case 3:case 4:var f=Xn;Xn=of(o.stateNode.containerInfo),Ps(o,s,l),Xn=f;break;case 22:o.memoizedState===null&&(f=o.alternate,f!==null&&f.memoizedState!==null?(f=Sl,Sl=16777216,Ps(o,s,l),Sl=f):Ps(o,s,l));break;default:Ps(o,s,l)}}function wb(o){var s=o.alternate;if(s!==null&&(o=s.child,o!==null)){s.child=null;do s=o.sibling,o.sibling=null,o=s;while(o!==null)}}function bl(o){var s=o.deletions;if((o.flags&16)!==0){if(s!==null)for(var l=0;l<s.length;l++){var f=s[l];Et=f,Tb(f,o)}wb(o)}if(o.subtreeFlags&10256)for(o=o.child;o!==null;)Cb(o),o=o.sibling}function Cb(o){switch(o.tag){case 0:case 11:case 15:bl(o),o.flags&2048&&Lo(9,o,o.return);break;case 3:bl(o);break;case 12:bl(o);break;case 22:var s=o.stateNode;o.memoizedState!==null&&s._visibility&2&&(o.return===null||o.return.tag!==13)?(s._visibility&=-3,zc(o)):bl(o);break;default:bl(o)}}function zc(o){var s=o.deletions;if((o.flags&16)!==0){if(s!==null)for(var l=0;l<s.length;l++){var f=s[l];Et=f,Tb(f,o)}wb(o)}for(o=o.child;o!==null;){switch(s=o,s.tag){case 0:case 11:case 15:Lo(8,s,s.return),zc(s);break;case 22:l=s.stateNode,l._visibility&2&&(l._visibility&=-3,zc(s));break;default:zc(s)}o=o.sibling}}function Tb(o,s){for(;Et!==null;){var l=Et;switch(l.tag){case 0:case 11:case 15:Lo(8,l,s);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var f=l.memoizedState.cachePool.pool;f!=null&&f.refCount++}break;case 24:ol(l.memoizedState.cache)}if(f=l.child,f!==null)f.return=l,Et=f;else e:for(l=o;Et!==null;){f=Et;var v=f.sibling,_=f.return;if(mb(f),f===l){Et=null;break e}if(v!==null){v.return=_,Et=v;break e}Et=_}}}var K1={getCacheForType:function(o){var s=Mt(pt),l=s.data.get(o);return l===void 0&&(l=o(),s.data.set(o,l)),l},cacheSignal:function(){return Mt(pt).controller.signal}},j1=typeof WeakMap=="function"?WeakMap:Map,Je=0,et=null,De=null,Pe=0,Ke=0,dn=null,Uo=!1,ks=!1,mm=!1,Zi=0,ut=0,Bo=0,Or=0,gm=0,pn=0,Ls=0,El=null,Qt=null,vm=!1,qc=0,Ab=0,Jc=1/0,Kc=null,Fo=null,yt=0,$o=null,Us=null,eo=0,ym=0,_m=null,xb=null,wl=0,Sm=null;function hn(){return(Je&2)!==0&&Pe!==0?Pe&-Pe:F.T!==null?Am():V_()}function Rb(){if(pn===0)if((Pe&536870912)===0||Le){var o=tc;tc<<=1,(tc&3932160)===0&&(tc=262144),pn=o}else pn=536870912;return o=cn.current,o!==null&&(o.flags|=32),pn}function Zt(o,s,l){(o===et&&(Ke===2||Ke===9)||o.cancelPendingCommit!==null)&&(Bs(o,0),Ho(o,Pe,pn,!1)),za(o,l),((Je&2)===0||o!==et)&&(o===et&&((Je&2)===0&&(Or|=l),ut===4&&Ho(o,Pe,pn,!1)),vi(o))}function Mb(o,s,l){if((Je&6)!==0)throw Error(i(327));var f=!l&&(s&127)===0&&(s&o.expiredLanes)===0||Va(o,s),v=f?W1(o,s):Em(o,s,!0),_=f;do{if(v===0){ks&&!f&&Ho(o,s,0,!1);break}else{if(l=o.current.alternate,_&&!Y1(l)){v=Em(o,s,!1),_=!1;continue}if(v===2){if(_=s,o.errorRecoveryDisabledLanes&_)var C=0;else C=o.pendingLanes&-536870913,C=C!==0?C:C&536870912?536870912:0;if(C!==0){s=C;e:{var R=o;v=El;var P=R.current.memoizedState.isDehydrated;if(P&&(Bs(R,C).flags|=256),C=Em(R,C,!1),C!==2){if(mm&&!P){R.errorRecoveryDisabledLanes|=_,Or|=_,v=4;break e}_=Qt,Qt=v,_!==null&&(Qt===null?Qt=_:Qt.push.apply(Qt,_))}v=C}if(_=!1,v!==2)continue}}if(v===1){Bs(o,0),Ho(o,s,0,!0);break}e:{switch(f=o,_=v,_){case 0:case 1:throw Error(i(345));case 4:if((s&4194048)!==s)break;case 6:Ho(f,s,pn,!Uo);break e;case 2:Qt=null;break;case 3:case 5:break;default:throw Error(i(329))}if((s&62914560)===s&&(v=qc+300-At(),10<v)){if(Ho(f,s,pn,!Uo),ic(f,0,!0)!==0)break e;eo=s,f.timeoutHandle=sE(Nb.bind(null,f,l,Qt,Kc,vm,s,pn,Or,Ls,Uo,_,"Throttled",-0,0),v);break e}Nb(f,l,Qt,Kc,vm,s,pn,Or,Ls,Uo,_,null,-0,0)}}break}while(!0);vi(o)}function Nb(o,s,l,f,v,_,C,R,P,G,X,te,z,K){if(o.timeoutHandle=-1,te=s.subtreeFlags,te&8192||(te&16785408)===16785408){te={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Fi},Eb(s,_,te);var pe=(_&62914560)===_?qc-At():(_&4194048)===_?Ab-At():0;if(pe=OP(te,pe),pe!==null){eo=_,o.cancelPendingCommit=pe(Bb.bind(null,o,s,_,l,f,v,C,R,P,X,te,null,z,K)),Ho(o,_,C,!G);return}}Bb(o,s,_,l,f,v,C,R,P)}function Y1(o){for(var s=o;;){var l=s.tag;if((l===0||l===11||l===15)&&s.flags&16384&&(l=s.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var f=0;f<l.length;f++){var v=l[f],_=v.getSnapshot;v=v.value;try{if(!ln(_(),v))return!1}catch{return!1}}if(l=s.child,s.subtreeFlags&16384&&l!==null)l.return=s,s=l;else{if(s===o)break;for(;s.sibling===null;){if(s.return===null||s.return===o)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Ho(o,s,l,f){s&=~gm,s&=~Or,o.suspendedLanes|=s,o.pingedLanes&=~s,f&&(o.warmLanes|=s),f=o.expirationTimes;for(var v=s;0<v;){var _=31-an(v),C=1<<_;f[_]=-1,v&=~C}l!==0&&$_(o,l,s)}function jc(){return(Je&6)===0?(Cl(0),!1):!0}function bm(){if(De!==null){if(Ke===0)var o=De.return;else o=De,Vi=Cr=null,Uh(o),Rs=null,sl=0,o=De;for(;o!==null;)ab(o.alternate,o),o=o.return;De=null}}function Bs(o,s){var l=o.timeoutHandle;l!==-1&&(o.timeoutHandle=-1,mP(l)),l=o.cancelPendingCommit,l!==null&&(o.cancelPendingCommit=null,l()),eo=0,bm(),et=o,De=l=Hi(o.current,null),Pe=s,Ke=0,dn=null,Uo=!1,ks=Va(o,s),mm=!1,Ls=pn=gm=Or=Bo=ut=0,Qt=El=null,vm=!1,(s&8)!==0&&(s|=s&32);var f=o.entangledLanes;if(f!==0)for(o=o.entanglements,f&=s;0<f;){var v=31-an(f),_=1<<v;s|=o[v],f&=~_}return Zi=s,mc(),l}function Ib(o,s){Re=null,F.H=hl,s===xs||s===wc?(s=K0(),Ke=3):s===Th?(s=K0(),Ke=4):Ke=s===Zh?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,dn=s,De===null&&(ut=1,Uc(o,Rn(s,o.current)))}function Db(){var o=cn.current;return o===null?!0:(Pe&4194048)===Pe?Dn===null:(Pe&62914560)===Pe||(Pe&536870912)!==0?o===Dn:!1}function Ob(){var o=F.H;return F.H=hl,o===null?hl:o}function Pb(){var o=F.A;return F.A=K1,o}function Yc(){ut=4,Uo||(Pe&4194048)!==Pe&&cn.current!==null||(ks=!0),(Bo&134217727)===0&&(Or&134217727)===0||et===null||Ho(et,Pe,pn,!1)}function Em(o,s,l){var f=Je;Je|=2;var v=Ob(),_=Pb();(et!==o||Pe!==s)&&(Kc=null,Bs(o,s)),s=!1;var C=ut;e:do try{if(Ke!==0&&De!==null){var R=De,P=dn;switch(Ke){case 8:bm(),C=6;break e;case 3:case 2:case 9:case 6:cn.current===null&&(s=!0);var G=Ke;if(Ke=0,dn=null,Fs(o,R,P,G),l&&ks){C=0;break e}break;default:G=Ke,Ke=0,dn=null,Fs(o,R,P,G)}}X1(),C=ut;break}catch(X){Ib(o,X)}while(!0);return s&&o.shellSuspendCounter++,Vi=Cr=null,Je=f,F.H=v,F.A=_,De===null&&(et=null,Pe=0,mc()),C}function X1(){for(;De!==null;)kb(De)}function W1(o,s){var l=Je;Je|=2;var f=Ob(),v=Pb();et!==o||Pe!==s?(Kc=null,Jc=At()+500,Bs(o,s)):ks=Va(o,s);e:do try{if(Ke!==0&&De!==null){s=De;var _=dn;t:switch(Ke){case 1:Ke=0,dn=null,Fs(o,s,_,1);break;case 2:case 9:if(q0(_)){Ke=0,dn=null,Lb(s);break}s=function(){Ke!==2&&Ke!==9||et!==o||(Ke=7),vi(o)},_.then(s,s);break e;case 3:Ke=7;break e;case 4:Ke=5;break e;case 7:q0(_)?(Ke=0,dn=null,Lb(s)):(Ke=0,dn=null,Fs(o,s,_,7));break;case 5:var C=null;switch(De.tag){case 26:C=De.memoizedState;case 5:case 27:var R=De;if(C?bE(C):R.stateNode.complete){Ke=0,dn=null;var P=R.sibling;if(P!==null)De=P;else{var G=R.return;G!==null?(De=G,Xc(G)):De=null}break t}}Ke=0,dn=null,Fs(o,s,_,5);break;case 6:Ke=0,dn=null,Fs(o,s,_,6);break;case 8:bm(),ut=6;break e;default:throw Error(i(462))}}Q1();break}catch(X){Ib(o,X)}while(!0);return Vi=Cr=null,F.H=f,F.A=v,Je=l,De!==null?0:(et=null,Pe=0,mc(),ut)}function Q1(){for(;De!==null&&!Wu();)kb(De)}function kb(o){var s=rb(o.alternate,o,Zi);o.memoizedProps=o.pendingProps,s===null?Xc(o):De=s}function Lb(o){var s=o,l=s.alternate;switch(s.tag){case 15:case 0:s=ZS(l,s,s.pendingProps,s.type,void 0,Pe);break;case 11:s=ZS(l,s,s.pendingProps,s.type.render,s.ref,Pe);break;case 5:Uh(s);default:ab(l,s),s=De=P0(s,Zi),s=rb(l,s,Zi)}o.memoizedProps=o.pendingProps,s===null?Xc(o):De=s}function Fs(o,s,l,f){Vi=Cr=null,Uh(s),Rs=null,sl=0;var v=s.return;try{if($1(o,v,s,l,Pe)){ut=1,Uc(o,Rn(l,o.current)),De=null;return}}catch(_){if(v!==null)throw De=v,_;ut=1,Uc(o,Rn(l,o.current)),De=null;return}s.flags&32768?(Le||f===1?o=!0:ks||(Pe&536870912)!==0?o=!1:(Uo=o=!0,(f===2||f===9||f===3||f===6)&&(f=cn.current,f!==null&&f.tag===13&&(f.flags|=16384))),Ub(s,o)):Xc(s)}function Xc(o){var s=o;do{if((s.flags&32768)!==0){Ub(s,Uo);return}o=s.return;var l=V1(s.alternate,s,Zi);if(l!==null){De=l;return}if(s=s.sibling,s!==null){De=s;return}De=s=o}while(s!==null);ut===0&&(ut=5)}function Ub(o,s){do{var l=z1(o.alternate,o);if(l!==null){l.flags&=32767,De=l;return}if(l=o.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!s&&(o=o.sibling,o!==null)){De=o;return}De=o=l}while(o!==null);ut=6,De=null}function Bb(o,s,l,f,v,_,C,R,P){o.cancelPendingCommit=null;do Wc();while(yt!==0);if((Je&6)!==0)throw Error(i(327));if(s!==null){if(s===o.current)throw Error(i(177));if(_=s.lanes|s.childLanes,_|=ch,IO(o,l,_,C,R,P),o===et&&(De=et=null,Pe=0),Us=s,$o=o,eo=l,ym=_,_m=v,xb=f,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(o.callbackNode=null,o.callbackPriority=0,nP(mr,function(){return Vb(),null})):(o.callbackNode=null,o.callbackPriority=0),f=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||f){f=F.T,F.T=null,v=Q.p,Q.p=2,C=Je,Je|=4;try{q1(o,s,l)}finally{Je=C,Q.p=v,F.T=f}}yt=1,Fb(),$b(),Hb()}}function Fb(){if(yt===1){yt=0;var o=$o,s=Us,l=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||l){l=F.T,F.T=null;var f=Q.p;Q.p=2;var v=Je;Je|=4;try{_b(s,o);var _=Pm,C=T0(o.containerInfo),R=_.focusedElem,P=_.selectionRange;if(C!==R&&R&&R.ownerDocument&&C0(R.ownerDocument.documentElement,R)){if(P!==null&&rh(R)){var G=P.start,X=P.end;if(X===void 0&&(X=G),"selectionStart"in R)R.selectionStart=G,R.selectionEnd=Math.min(X,R.value.length);else{var te=R.ownerDocument||document,z=te&&te.defaultView||window;if(z.getSelection){var K=z.getSelection(),pe=R.textContent.length,Ee=Math.min(P.start,pe),Qe=P.end===void 0?Ee:Math.min(P.end,pe);!K.extend&&Ee>Qe&&(C=Qe,Qe=Ee,Ee=C);var $=w0(R,Ee),B=w0(R,Qe);if($&&B&&(K.rangeCount!==1||K.anchorNode!==$.node||K.anchorOffset!==$.offset||K.focusNode!==B.node||K.focusOffset!==B.offset)){var H=te.createRange();H.setStart($.node,$.offset),K.removeAllRanges(),Ee>Qe?(K.addRange(H),K.extend(B.node,B.offset)):(H.setEnd(B.node,B.offset),K.addRange(H))}}}}for(te=[],K=R;K=K.parentNode;)K.nodeType===1&&te.push({element:K,left:K.scrollLeft,top:K.scrollTop});for(typeof R.focus=="function"&&R.focus(),R=0;R<te.length;R++){var Z=te[R];Z.element.scrollLeft=Z.left,Z.element.scrollTop=Z.top}}cf=!!Om,Pm=Om=null}finally{Je=v,Q.p=f,F.T=l}}o.current=s,yt=2}}function $b(){if(yt===2){yt=0;var o=$o,s=Us,l=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||l){l=F.T,F.T=null;var f=Q.p;Q.p=2;var v=Je;Je|=4;try{hb(o,s.alternate,s)}finally{Je=v,Q.p=f,F.T=l}}yt=3}}function Hb(){if(yt===4||yt===3){yt=0,Qu();var o=$o,s=Us,l=eo,f=xb;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?yt=5:(yt=0,Us=$o=null,Gb(o,o.pendingLanes));var v=o.pendingLanes;if(v===0&&(Fo=null),$p(l),s=s.stateNode,sn&&typeof sn.onCommitFiberRoot=="function")try{sn.onCommitFiberRoot(Ga,s,void 0,(s.current.flags&128)===128)}catch{}if(f!==null){s=F.T,v=Q.p,Q.p=2,F.T=null;try{for(var _=o.onRecoverableError,C=0;C<f.length;C++){var R=f[C];_(R.value,{componentStack:R.stack})}}finally{F.T=s,Q.p=v}}(eo&3)!==0&&Wc(),vi(o),v=o.pendingLanes,(l&261930)!==0&&(v&42)!==0?o===Sm?wl++:(wl=0,Sm=o):wl=0,Cl(0)}}function Gb(o,s){(o.pooledCacheLanes&=s)===0&&(s=o.pooledCache,s!=null&&(o.pooledCache=null,ol(s)))}function Wc(){return Fb(),$b(),Hb(),Vb()}function Vb(){if(yt!==5)return!1;var o=$o,s=ym;ym=0;var l=$p(eo),f=F.T,v=Q.p;try{Q.p=32>l?32:l,F.T=null,l=_m,_m=null;var _=$o,C=eo;if(yt=0,Us=$o=null,eo=0,(Je&6)!==0)throw Error(i(331));var R=Je;if(Je|=4,Cb(_.current),bb(_,_.current,C,l),Je=R,Cl(0,!1),sn&&typeof sn.onPostCommitFiberRoot=="function")try{sn.onPostCommitFiberRoot(Ga,_)}catch{}return!0}finally{Q.p=v,F.T=f,Gb(o,s)}}function zb(o,s,l){s=Rn(l,s),s=Qh(o.stateNode,s,2),o=Oo(o,s,2),o!==null&&(za(o,2),vi(o))}function je(o,s,l){if(o.tag===3)zb(o,o,l);else for(;s!==null;){if(s.tag===3){zb(s,o,l);break}else if(s.tag===1){var f=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(Fo===null||!Fo.has(f))){o=Rn(l,o),l=qS(2),f=Oo(s,l,2),f!==null&&(JS(l,f,s,o),za(f,2),vi(f));break}}s=s.return}}function wm(o,s,l){var f=o.pingCache;if(f===null){f=o.pingCache=new j1;var v=new Set;f.set(s,v)}else v=f.get(s),v===void 0&&(v=new Set,f.set(s,v));v.has(l)||(mm=!0,v.add(l),o=Z1.bind(null,o,s,l),s.then(o,o))}function Z1(o,s,l){var f=o.pingCache;f!==null&&f.delete(s),o.pingedLanes|=o.suspendedLanes&l,o.warmLanes&=~l,et===o&&(Pe&l)===l&&(ut===4||ut===3&&(Pe&62914560)===Pe&&300>At()-qc?(Je&2)===0&&Bs(o,0):gm|=l,Ls===Pe&&(Ls=0)),vi(o)}function qb(o,s){s===0&&(s=F_()),o=br(o,s),o!==null&&(za(o,s),vi(o))}function eP(o){var s=o.memoizedState,l=0;s!==null&&(l=s.retryLane),qb(o,l)}function tP(o,s){var l=0;switch(o.tag){case 31:case 13:var f=o.stateNode,v=o.memoizedState;v!==null&&(l=v.retryLane);break;case 19:f=o.stateNode;break;case 22:f=o.stateNode._retryCache;break;default:throw Error(i(314))}f!==null&&f.delete(s),qb(o,l)}function nP(o,s){return jn(o,s)}var Qc=null,$s=null,Cm=!1,Zc=!1,Tm=!1,Go=0;function vi(o){o!==$s&&o.next===null&&($s===null?Qc=$s=o:$s=$s.next=o),Zc=!0,Cm||(Cm=!0,oP())}function Cl(o,s){if(!Tm&&Zc){Tm=!0;do for(var l=!1,f=Qc;f!==null;){if(o!==0){var v=f.pendingLanes;if(v===0)var _=0;else{var C=f.suspendedLanes,R=f.pingedLanes;_=(1<<31-an(42|o)+1)-1,_&=v&~(C&~R),_=_&201326741?_&201326741|1:_?_|2:0}_!==0&&(l=!0,Yb(f,_))}else _=Pe,_=ic(f,f===et?_:0,f.cancelPendingCommit!==null||f.timeoutHandle!==-1),(_&3)===0||Va(f,_)||(l=!0,Yb(f,_));f=f.next}while(l);Tm=!1}}function iP(){Jb()}function Jb(){Zc=Cm=!1;var o=0;Go!==0&&hP()&&(o=Go);for(var s=At(),l=null,f=Qc;f!==null;){var v=f.next,_=Kb(f,s);_===0?(f.next=null,l===null?Qc=v:l.next=v,v===null&&($s=l)):(l=f,(o!==0||(_&3)!==0)&&(Zc=!0)),f=v}yt!==0&&yt!==5||Cl(o),Go!==0&&(Go=0)}function Kb(o,s){for(var l=o.suspendedLanes,f=o.pingedLanes,v=o.expirationTimes,_=o.pendingLanes&-62914561;0<_;){var C=31-an(_),R=1<<C,P=v[C];P===-1?((R&l)===0||(R&f)!==0)&&(v[C]=NO(R,s)):P<=s&&(o.expiredLanes|=R),_&=~R}if(s=et,l=Pe,l=ic(o,o===s?l:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),f=o.callbackNode,l===0||o===s&&(Ke===2||Ke===9)||o.cancelPendingCommit!==null)return f!==null&&f!==null&&wo(f),o.callbackNode=null,o.callbackPriority=0;if((l&3)===0||Va(o,l)){if(s=l&-l,s===o.callbackPriority)return s;switch(f!==null&&wo(f),$p(l)){case 2:case 8:l=Ha;break;case 32:l=mr;break;case 268435456:l=B_;break;default:l=mr}return f=jb.bind(null,o),l=jn(l,f),o.callbackPriority=s,o.callbackNode=l,s}return f!==null&&f!==null&&wo(f),o.callbackPriority=2,o.callbackNode=null,2}function jb(o,s){if(yt!==0&&yt!==5)return o.callbackNode=null,o.callbackPriority=0,null;var l=o.callbackNode;if(Wc()&&o.callbackNode!==l)return null;var f=Pe;return f=ic(o,o===et?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),f===0?null:(Mb(o,f,s),Kb(o,At()),o.callbackNode!=null&&o.callbackNode===l?jb.bind(null,o):null)}function Yb(o,s){if(Wc())return null;Mb(o,s,!0)}function oP(){gP(function(){(Je&6)!==0?jn($a,iP):Jb()})}function Am(){if(Go===0){var o=Ts;o===0&&(o=ec,ec<<=1,(ec&261888)===0&&(ec=256)),Go=o}return Go}function Xb(o){return o==null||typeof o=="symbol"||typeof o=="boolean"?null:typeof o=="function"?o:ac(""+o)}function Wb(o,s){var l=s.ownerDocument.createElement("input");return l.name=s.name,l.value=s.value,o.id&&l.setAttribute("form",o.id),s.parentNode.insertBefore(l,s),o=new FormData(o),l.parentNode.removeChild(l),o}function rP(o,s,l,f,v){if(s==="submit"&&l&&l.stateNode===v){var _=Xb((v[Kt]||null).action),C=f.submitter;C&&(s=(s=C[Kt]||null)?Xb(s.formAction):C.getAttribute("formAction"),s!==null&&(_=s,C=null));var R=new fc("action","action",null,f,v);o.push({event:R,listeners:[{instance:null,listener:function(){if(f.defaultPrevented){if(Go!==0){var P=C?Wb(v,C):new FormData(v);Jh(l,{pending:!0,data:P,method:v.method,action:_},null,P)}}else typeof _=="function"&&(R.preventDefault(),P=C?Wb(v,C):new FormData(v),Jh(l,{pending:!0,data:P,method:v.method,action:_},_,P))},currentTarget:v}]})}}for(var xm=0;xm<uh.length;xm++){var Rm=uh[xm],sP=Rm.toLowerCase(),aP=Rm[0].toUpperCase()+Rm.slice(1);Yn(sP,"on"+aP)}Yn(R0,"onAnimationEnd"),Yn(M0,"onAnimationIteration"),Yn(N0,"onAnimationStart"),Yn("dblclick","onDoubleClick"),Yn("focusin","onFocus"),Yn("focusout","onBlur"),Yn(w1,"onTransitionRun"),Yn(C1,"onTransitionStart"),Yn(T1,"onTransitionCancel"),Yn(I0,"onTransitionEnd"),fs("onMouseEnter",["mouseout","mouseover"]),fs("onMouseLeave",["mouseout","mouseover"]),fs("onPointerEnter",["pointerout","pointerover"]),fs("onPointerLeave",["pointerout","pointerover"]),vr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),vr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),vr("onBeforeInput",["compositionend","keypress","textInput","paste"]),vr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),vr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),vr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Tl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),lP=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Tl));function Qb(o,s){s=(s&4)!==0;for(var l=0;l<o.length;l++){var f=o[l],v=f.event;f=f.listeners;e:{var _=void 0;if(s)for(var C=f.length-1;0<=C;C--){var R=f[C],P=R.instance,G=R.currentTarget;if(R=R.listener,P!==_&&v.isPropagationStopped())break e;_=R,v.currentTarget=G;try{_(v)}catch(X){hc(X)}v.currentTarget=null,_=P}else for(C=0;C<f.length;C++){if(R=f[C],P=R.instance,G=R.currentTarget,R=R.listener,P!==_&&v.isPropagationStopped())break e;_=R,v.currentTarget=G;try{_(v)}catch(X){hc(X)}v.currentTarget=null,_=P}}}}function Oe(o,s){var l=s[Hp];l===void 0&&(l=s[Hp]=new Set);var f=o+"__bubble";l.has(f)||(Zb(s,o,2,!1),l.add(f))}function Mm(o,s,l){var f=0;s&&(f|=4),Zb(l,o,f,s)}var ef="_reactListening"+Math.random().toString(36).slice(2);function Nm(o){if(!o[ef]){o[ef]=!0,J_.forEach(function(l){l!=="selectionchange"&&(lP.has(l)||Mm(l,!1,o),Mm(l,!0,o))});var s=o.nodeType===9?o:o.ownerDocument;s===null||s[ef]||(s[ef]=!0,Mm("selectionchange",!1,s))}}function Zb(o,s,l,f){switch(RE(s)){case 2:var v=LP;break;case 8:v=UP;break;default:v=qm}l=v.bind(null,s,l,o),v=void 0,!Xp||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(v=!0),f?v!==void 0?o.addEventListener(s,l,{capture:!0,passive:v}):o.addEventListener(s,l,!0):v!==void 0?o.addEventListener(s,l,{passive:v}):o.addEventListener(s,l,!1)}function Im(o,s,l,f,v){var _=f;if((s&1)===0&&(s&2)===0&&f!==null)e:for(;;){if(f===null)return;var C=f.tag;if(C===3||C===4){var R=f.stateNode.containerInfo;if(R===v)break;if(C===4)for(C=f.return;C!==null;){var P=C.tag;if((P===3||P===4)&&C.stateNode.containerInfo===v)return;C=C.return}for(;R!==null;){if(C=ls(R),C===null)return;if(P=C.tag,P===5||P===6||P===26||P===27){f=_=C;continue e}R=R.parentNode}}f=f.return}o0(function(){var G=_,X=jp(l),te=[];e:{var z=D0.get(o);if(z!==void 0){var K=fc,pe=o;switch(o){case"keypress":if(uc(l)===0)break e;case"keydown":case"keyup":K=t1;break;case"focusin":pe="focus",K=eh;break;case"focusout":pe="blur",K=eh;break;case"beforeblur":case"afterblur":K=eh;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":K=a0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":K=VO;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":K=o1;break;case R0:case M0:case N0:K=JO;break;case I0:K=s1;break;case"scroll":case"scrollend":K=HO;break;case"wheel":K=l1;break;case"copy":case"cut":case"paste":K=jO;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":K=u0;break;case"toggle":case"beforetoggle":K=c1}var Ee=(s&4)!==0,Qe=!Ee&&(o==="scroll"||o==="scrollend"),$=Ee?z!==null?z+"Capture":null:z;Ee=[];for(var B=G,H;B!==null;){var Z=B;if(H=Z.stateNode,Z=Z.tag,Z!==5&&Z!==26&&Z!==27||H===null||$===null||(Z=Ka(B,$),Z!=null&&Ee.push(Al(B,Z,H))),Qe)break;B=B.return}0<Ee.length&&(z=new K(z,pe,null,l,X),te.push({event:z,listeners:Ee}))}}if((s&7)===0){e:{if(z=o==="mouseover"||o==="pointerover",K=o==="mouseout"||o==="pointerout",z&&l!==Kp&&(pe=l.relatedTarget||l.fromElement)&&(ls(pe)||pe[as]))break e;if((K||z)&&(z=X.window===X?X:(z=X.ownerDocument)?z.defaultView||z.parentWindow:window,K?(pe=l.relatedTarget||l.toElement,K=G,pe=pe?ls(pe):null,pe!==null&&(Qe=a(pe),Ee=pe.tag,pe!==Qe||Ee!==5&&Ee!==27&&Ee!==6)&&(pe=null)):(K=null,pe=G),K!==pe)){if(Ee=a0,Z="onMouseLeave",$="onMouseEnter",B="mouse",(o==="pointerout"||o==="pointerover")&&(Ee=u0,Z="onPointerLeave",$="onPointerEnter",B="pointer"),Qe=K==null?z:Ja(K),H=pe==null?z:Ja(pe),z=new Ee(Z,B+"leave",K,l,X),z.target=Qe,z.relatedTarget=H,Z=null,ls(X)===G&&(Ee=new Ee($,B+"enter",pe,l,X),Ee.target=H,Ee.relatedTarget=Qe,Z=Ee),Qe=Z,K&&pe)t:{for(Ee=uP,$=K,B=pe,H=0,Z=$;Z;Z=Ee(Z))H++;Z=0;for(var _e=B;_e;_e=Ee(_e))Z++;for(;0<H-Z;)$=Ee($),H--;for(;0<Z-H;)B=Ee(B),Z--;for(;H--;){if($===B||B!==null&&$===B.alternate){Ee=$;break t}$=Ee($),B=Ee(B)}Ee=null}else Ee=null;K!==null&&eE(te,z,K,Ee,!1),pe!==null&&Qe!==null&&eE(te,Qe,pe,Ee,!0)}}e:{if(z=G?Ja(G):window,K=z.nodeName&&z.nodeName.toLowerCase(),K==="select"||K==="input"&&z.type==="file")var $e=v0;else if(m0(z))if(y0)$e=S1;else{$e=y1;var ge=v1}else K=z.nodeName,!K||K.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?G&&Jp(G.elementType)&&($e=v0):$e=_1;if($e&&($e=$e(o,G))){g0(te,$e,l,X);break e}ge&&ge(o,z,G),o==="focusout"&&G&&z.type==="number"&&G.memoizedProps.value!=null&&qp(z,"number",z.value)}switch(ge=G?Ja(G):window,o){case"focusin":(m0(ge)||ge.contentEditable==="true")&&(vs=ge,sh=G,tl=null);break;case"focusout":tl=sh=vs=null;break;case"mousedown":ah=!0;break;case"contextmenu":case"mouseup":case"dragend":ah=!1,A0(te,l,X);break;case"selectionchange":if(E1)break;case"keydown":case"keyup":A0(te,l,X)}var Me;if(nh)e:{switch(o){case"compositionstart":var ke="onCompositionStart";break e;case"compositionend":ke="onCompositionEnd";break e;case"compositionupdate":ke="onCompositionUpdate";break e}ke=void 0}else gs?p0(o,l)&&(ke="onCompositionEnd"):o==="keydown"&&l.keyCode===229&&(ke="onCompositionStart");ke&&(c0&&l.locale!=="ko"&&(gs||ke!=="onCompositionStart"?ke==="onCompositionEnd"&&gs&&(Me=r0()):(Ao=X,Wp="value"in Ao?Ao.value:Ao.textContent,gs=!0)),ge=tf(G,ke),0<ge.length&&(ke=new l0(ke,o,null,l,X),te.push({event:ke,listeners:ge}),Me?ke.data=Me:(Me=h0(l),Me!==null&&(ke.data=Me)))),(Me=d1?p1(o,l):h1(o,l))&&(ke=tf(G,"onBeforeInput"),0<ke.length&&(ge=new l0("onBeforeInput","beforeinput",null,l,X),te.push({event:ge,listeners:ke}),ge.data=Me)),rP(te,o,G,l,X)}Qb(te,s)})}function Al(o,s,l){return{instance:o,listener:s,currentTarget:l}}function tf(o,s){for(var l=s+"Capture",f=[];o!==null;){var v=o,_=v.stateNode;if(v=v.tag,v!==5&&v!==26&&v!==27||_===null||(v=Ka(o,l),v!=null&&f.unshift(Al(o,v,_)),v=Ka(o,s),v!=null&&f.push(Al(o,v,_))),o.tag===3)return f;o=o.return}return[]}function uP(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5&&o.tag!==27);return o||null}function eE(o,s,l,f,v){for(var _=s._reactName,C=[];l!==null&&l!==f;){var R=l,P=R.alternate,G=R.stateNode;if(R=R.tag,P!==null&&P===f)break;R!==5&&R!==26&&R!==27||G===null||(P=G,v?(G=Ka(l,_),G!=null&&C.unshift(Al(l,G,P))):v||(G=Ka(l,_),G!=null&&C.push(Al(l,G,P)))),l=l.return}C.length!==0&&o.push({event:s,listeners:C})}var cP=/\r\n?/g,fP=/\u0000|\uFFFD/g;function tE(o){return(typeof o=="string"?o:""+o).replace(cP,`
`).replace(fP,"")}function nE(o,s){return s=tE(s),tE(o)===s}function We(o,s,l,f,v,_){switch(l){case"children":typeof f=="string"?s==="body"||s==="textarea"&&f===""||ps(o,f):(typeof f=="number"||typeof f=="bigint")&&s!=="body"&&ps(o,""+f);break;case"className":rc(o,"class",f);break;case"tabIndex":rc(o,"tabindex",f);break;case"dir":case"role":case"viewBox":case"width":case"height":rc(o,l,f);break;case"style":n0(o,f,_);break;case"data":if(s!=="object"){rc(o,"data",f);break}case"src":case"href":if(f===""&&(s!=="a"||l!=="href")){o.removeAttribute(l);break}if(f==null||typeof f=="function"||typeof f=="symbol"||typeof f=="boolean"){o.removeAttribute(l);break}f=ac(""+f),o.setAttribute(l,f);break;case"action":case"formAction":if(typeof f=="function"){o.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof _=="function"&&(l==="formAction"?(s!=="input"&&We(o,s,"name",v.name,v,null),We(o,s,"formEncType",v.formEncType,v,null),We(o,s,"formMethod",v.formMethod,v,null),We(o,s,"formTarget",v.formTarget,v,null)):(We(o,s,"encType",v.encType,v,null),We(o,s,"method",v.method,v,null),We(o,s,"target",v.target,v,null)));if(f==null||typeof f=="symbol"||typeof f=="boolean"){o.removeAttribute(l);break}f=ac(""+f),o.setAttribute(l,f);break;case"onClick":f!=null&&(o.onclick=Fi);break;case"onScroll":f!=null&&Oe("scroll",o);break;case"onScrollEnd":f!=null&&Oe("scrollend",o);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(i(61));if(l=f.__html,l!=null){if(v.children!=null)throw Error(i(60));o.innerHTML=l}}break;case"multiple":o.multiple=f&&typeof f!="function"&&typeof f!="symbol";break;case"muted":o.muted=f&&typeof f!="function"&&typeof f!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(f==null||typeof f=="function"||typeof f=="boolean"||typeof f=="symbol"){o.removeAttribute("xlink:href");break}l=ac(""+f),o.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":f!=null&&typeof f!="function"&&typeof f!="symbol"?o.setAttribute(l,""+f):o.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":f&&typeof f!="function"&&typeof f!="symbol"?o.setAttribute(l,""):o.removeAttribute(l);break;case"capture":case"download":f===!0?o.setAttribute(l,""):f!==!1&&f!=null&&typeof f!="function"&&typeof f!="symbol"?o.setAttribute(l,f):o.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":f!=null&&typeof f!="function"&&typeof f!="symbol"&&!isNaN(f)&&1<=f?o.setAttribute(l,f):o.removeAttribute(l);break;case"rowSpan":case"start":f==null||typeof f=="function"||typeof f=="symbol"||isNaN(f)?o.removeAttribute(l):o.setAttribute(l,f);break;case"popover":Oe("beforetoggle",o),Oe("toggle",o),oc(o,"popover",f);break;case"xlinkActuate":Bi(o,"http://www.w3.org/1999/xlink","xlink:actuate",f);break;case"xlinkArcrole":Bi(o,"http://www.w3.org/1999/xlink","xlink:arcrole",f);break;case"xlinkRole":Bi(o,"http://www.w3.org/1999/xlink","xlink:role",f);break;case"xlinkShow":Bi(o,"http://www.w3.org/1999/xlink","xlink:show",f);break;case"xlinkTitle":Bi(o,"http://www.w3.org/1999/xlink","xlink:title",f);break;case"xlinkType":Bi(o,"http://www.w3.org/1999/xlink","xlink:type",f);break;case"xmlBase":Bi(o,"http://www.w3.org/XML/1998/namespace","xml:base",f);break;case"xmlLang":Bi(o,"http://www.w3.org/XML/1998/namespace","xml:lang",f);break;case"xmlSpace":Bi(o,"http://www.w3.org/XML/1998/namespace","xml:space",f);break;case"is":oc(o,"is",f);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=FO.get(l)||l,oc(o,l,f))}}function Dm(o,s,l,f,v,_){switch(l){case"style":n0(o,f,_);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(i(61));if(l=f.__html,l!=null){if(v.children!=null)throw Error(i(60));o.innerHTML=l}}break;case"children":typeof f=="string"?ps(o,f):(typeof f=="number"||typeof f=="bigint")&&ps(o,""+f);break;case"onScroll":f!=null&&Oe("scroll",o);break;case"onScrollEnd":f!=null&&Oe("scrollend",o);break;case"onClick":f!=null&&(o.onclick=Fi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!K_.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(v=l.endsWith("Capture"),s=l.slice(2,v?l.length-7:void 0),_=o[Kt]||null,_=_!=null?_[l]:null,typeof _=="function"&&o.removeEventListener(s,_,v),typeof f=="function")){typeof _!="function"&&_!==null&&(l in o?o[l]=null:o.hasAttribute(l)&&o.removeAttribute(l)),o.addEventListener(s,f,v);break e}l in o?o[l]=f:f===!0?o.setAttribute(l,""):oc(o,l,f)}}}function It(o,s,l){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Oe("error",o),Oe("load",o);var f=!1,v=!1,_;for(_ in l)if(l.hasOwnProperty(_)){var C=l[_];if(C!=null)switch(_){case"src":f=!0;break;case"srcSet":v=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:We(o,s,_,C,l,null)}}v&&We(o,s,"srcSet",l.srcSet,l,null),f&&We(o,s,"src",l.src,l,null);return;case"input":Oe("invalid",o);var R=_=C=v=null,P=null,G=null;for(f in l)if(l.hasOwnProperty(f)){var X=l[f];if(X!=null)switch(f){case"name":v=X;break;case"type":C=X;break;case"checked":P=X;break;case"defaultChecked":G=X;break;case"value":_=X;break;case"defaultValue":R=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(i(137,s));break;default:We(o,s,f,X,l,null)}}Q_(o,_,R,P,G,C,v,!1);return;case"select":Oe("invalid",o),f=C=_=null;for(v in l)if(l.hasOwnProperty(v)&&(R=l[v],R!=null))switch(v){case"value":_=R;break;case"defaultValue":C=R;break;case"multiple":f=R;default:We(o,s,v,R,l,null)}s=_,l=C,o.multiple=!!f,s!=null?ds(o,!!f,s,!1):l!=null&&ds(o,!!f,l,!0);return;case"textarea":Oe("invalid",o),_=v=f=null;for(C in l)if(l.hasOwnProperty(C)&&(R=l[C],R!=null))switch(C){case"value":f=R;break;case"defaultValue":v=R;break;case"children":_=R;break;case"dangerouslySetInnerHTML":if(R!=null)throw Error(i(91));break;default:We(o,s,C,R,l,null)}e0(o,f,v,_);return;case"option":for(P in l)if(l.hasOwnProperty(P)&&(f=l[P],f!=null))switch(P){case"selected":o.selected=f&&typeof f!="function"&&typeof f!="symbol";break;default:We(o,s,P,f,l,null)}return;case"dialog":Oe("beforetoggle",o),Oe("toggle",o),Oe("cancel",o),Oe("close",o);break;case"iframe":case"object":Oe("load",o);break;case"video":case"audio":for(f=0;f<Tl.length;f++)Oe(Tl[f],o);break;case"image":Oe("error",o),Oe("load",o);break;case"details":Oe("toggle",o);break;case"embed":case"source":case"link":Oe("error",o),Oe("load",o);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(G in l)if(l.hasOwnProperty(G)&&(f=l[G],f!=null))switch(G){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:We(o,s,G,f,l,null)}return;default:if(Jp(s)){for(X in l)l.hasOwnProperty(X)&&(f=l[X],f!==void 0&&Dm(o,s,X,f,l,void 0));return}}for(R in l)l.hasOwnProperty(R)&&(f=l[R],f!=null&&We(o,s,R,f,l,null))}function dP(o,s,l,f){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var v=null,_=null,C=null,R=null,P=null,G=null,X=null;for(K in l){var te=l[K];if(l.hasOwnProperty(K)&&te!=null)switch(K){case"checked":break;case"value":break;case"defaultValue":P=te;default:f.hasOwnProperty(K)||We(o,s,K,null,f,te)}}for(var z in f){var K=f[z];if(te=l[z],f.hasOwnProperty(z)&&(K!=null||te!=null))switch(z){case"type":_=K;break;case"name":v=K;break;case"checked":G=K;break;case"defaultChecked":X=K;break;case"value":C=K;break;case"defaultValue":R=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(i(137,s));break;default:K!==te&&We(o,s,z,K,f,te)}}zp(o,C,R,P,G,X,_,v);return;case"select":K=C=R=z=null;for(_ in l)if(P=l[_],l.hasOwnProperty(_)&&P!=null)switch(_){case"value":break;case"multiple":K=P;default:f.hasOwnProperty(_)||We(o,s,_,null,f,P)}for(v in f)if(_=f[v],P=l[v],f.hasOwnProperty(v)&&(_!=null||P!=null))switch(v){case"value":z=_;break;case"defaultValue":R=_;break;case"multiple":C=_;default:_!==P&&We(o,s,v,_,f,P)}s=R,l=C,f=K,z!=null?ds(o,!!l,z,!1):!!f!=!!l&&(s!=null?ds(o,!!l,s,!0):ds(o,!!l,l?[]:"",!1));return;case"textarea":K=z=null;for(R in l)if(v=l[R],l.hasOwnProperty(R)&&v!=null&&!f.hasOwnProperty(R))switch(R){case"value":break;case"children":break;default:We(o,s,R,null,f,v)}for(C in f)if(v=f[C],_=l[C],f.hasOwnProperty(C)&&(v!=null||_!=null))switch(C){case"value":z=v;break;case"defaultValue":K=v;break;case"children":break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(i(91));break;default:v!==_&&We(o,s,C,v,f,_)}Z_(o,z,K);return;case"option":for(var pe in l)if(z=l[pe],l.hasOwnProperty(pe)&&z!=null&&!f.hasOwnProperty(pe))switch(pe){case"selected":o.selected=!1;break;default:We(o,s,pe,null,f,z)}for(P in f)if(z=f[P],K=l[P],f.hasOwnProperty(P)&&z!==K&&(z!=null||K!=null))switch(P){case"selected":o.selected=z&&typeof z!="function"&&typeof z!="symbol";break;default:We(o,s,P,z,f,K)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ee in l)z=l[Ee],l.hasOwnProperty(Ee)&&z!=null&&!f.hasOwnProperty(Ee)&&We(o,s,Ee,null,f,z);for(G in f)if(z=f[G],K=l[G],f.hasOwnProperty(G)&&z!==K&&(z!=null||K!=null))switch(G){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(i(137,s));break;default:We(o,s,G,z,f,K)}return;default:if(Jp(s)){for(var Qe in l)z=l[Qe],l.hasOwnProperty(Qe)&&z!==void 0&&!f.hasOwnProperty(Qe)&&Dm(o,s,Qe,void 0,f,z);for(X in f)z=f[X],K=l[X],!f.hasOwnProperty(X)||z===K||z===void 0&&K===void 0||Dm(o,s,X,z,f,K);return}}for(var $ in l)z=l[$],l.hasOwnProperty($)&&z!=null&&!f.hasOwnProperty($)&&We(o,s,$,null,f,z);for(te in f)z=f[te],K=l[te],!f.hasOwnProperty(te)||z===K||z==null&&K==null||We(o,s,te,z,f,K)}function iE(o){switch(o){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function pP(){if(typeof performance.getEntriesByType=="function"){for(var o=0,s=0,l=performance.getEntriesByType("resource"),f=0;f<l.length;f++){var v=l[f],_=v.transferSize,C=v.initiatorType,R=v.duration;if(_&&R&&iE(C)){for(C=0,R=v.responseEnd,f+=1;f<l.length;f++){var P=l[f],G=P.startTime;if(G>R)break;var X=P.transferSize,te=P.initiatorType;X&&iE(te)&&(P=P.responseEnd,C+=X*(P<R?1:(R-G)/(P-G)))}if(--f,s+=8*(_+C)/(v.duration/1e3),o++,10<o)break}}if(0<o)return s/o/1e6}return navigator.connection&&(o=navigator.connection.downlink,typeof o=="number")?o:5}var Om=null,Pm=null;function nf(o){return o.nodeType===9?o:o.ownerDocument}function oE(o){switch(o){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function rE(o,s){if(o===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return o===1&&s==="foreignObject"?0:o}function km(o,s){return o==="textarea"||o==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Lm=null;function hP(){var o=window.event;return o&&o.type==="popstate"?o===Lm?!1:(Lm=o,!0):(Lm=null,!1)}var sE=typeof setTimeout=="function"?setTimeout:void 0,mP=typeof clearTimeout=="function"?clearTimeout:void 0,aE=typeof Promise=="function"?Promise:void 0,gP=typeof queueMicrotask=="function"?queueMicrotask:typeof aE<"u"?function(o){return aE.resolve(null).then(o).catch(vP)}:sE;function vP(o){setTimeout(function(){throw o})}function Vo(o){return o==="head"}function lE(o,s){var l=s,f=0;do{var v=l.nextSibling;if(o.removeChild(l),v&&v.nodeType===8)if(l=v.data,l==="/$"||l==="/&"){if(f===0){o.removeChild(v),zs(s);return}f--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")f++;else if(l==="html")xl(o.ownerDocument.documentElement);else if(l==="head"){l=o.ownerDocument.head,xl(l);for(var _=l.firstChild;_;){var C=_.nextSibling,R=_.nodeName;_[qa]||R==="SCRIPT"||R==="STYLE"||R==="LINK"&&_.rel.toLowerCase()==="stylesheet"||l.removeChild(_),_=C}}else l==="body"&&xl(o.ownerDocument.body);l=v}while(l);zs(s)}function uE(o,s){var l=o;o=0;do{var f=l.nextSibling;if(l.nodeType===1?s?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(s?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),f&&f.nodeType===8)if(l=f.data,l==="/$"){if(o===0)break;o--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||o++;l=f}while(l)}function Um(o){var s=o.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var l=s;switch(s=s.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":Um(l),Gp(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}o.removeChild(l)}}function yP(o,s,l,f){for(;o.nodeType===1;){var v=l;if(o.nodeName.toLowerCase()!==s.toLowerCase()){if(!f&&(o.nodeName!=="INPUT"||o.type!=="hidden"))break}else if(f){if(!o[qa])switch(s){case"meta":if(!o.hasAttribute("itemprop"))break;return o;case"link":if(_=o.getAttribute("rel"),_==="stylesheet"&&o.hasAttribute("data-precedence"))break;if(_!==v.rel||o.getAttribute("href")!==(v.href==null||v.href===""?null:v.href)||o.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin)||o.getAttribute("title")!==(v.title==null?null:v.title))break;return o;case"style":if(o.hasAttribute("data-precedence"))break;return o;case"script":if(_=o.getAttribute("src"),(_!==(v.src==null?null:v.src)||o.getAttribute("type")!==(v.type==null?null:v.type)||o.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin))&&_&&o.hasAttribute("async")&&!o.hasAttribute("itemprop"))break;return o;default:return o}}else if(s==="input"&&o.type==="hidden"){var _=v.name==null?null:""+v.name;if(v.type==="hidden"&&o.getAttribute("name")===_)return o}else return o;if(o=On(o.nextSibling),o===null)break}return null}function _P(o,s,l){if(s==="")return null;for(;o.nodeType!==3;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!l||(o=On(o.nextSibling),o===null))return null;return o}function cE(o,s){for(;o.nodeType!==8;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!s||(o=On(o.nextSibling),o===null))return null;return o}function Bm(o){return o.data==="$?"||o.data==="$~"}function Fm(o){return o.data==="$!"||o.data==="$?"&&o.ownerDocument.readyState!=="loading"}function SP(o,s){var l=o.ownerDocument;if(o.data==="$~")o._reactRetry=s;else if(o.data!=="$?"||l.readyState!=="loading")s();else{var f=function(){s(),l.removeEventListener("DOMContentLoaded",f)};l.addEventListener("DOMContentLoaded",f),o._reactRetry=f}}function On(o){for(;o!=null;o=o.nextSibling){var s=o.nodeType;if(s===1||s===3)break;if(s===8){if(s=o.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return o}var $m=null;function fE(o){o=o.nextSibling;for(var s=0;o;){if(o.nodeType===8){var l=o.data;if(l==="/$"||l==="/&"){if(s===0)return On(o.nextSibling);s--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||s++}o=o.nextSibling}return null}function dE(o){o=o.previousSibling;for(var s=0;o;){if(o.nodeType===8){var l=o.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(s===0)return o;s--}else l!=="/$"&&l!=="/&"||s++}o=o.previousSibling}return null}function pE(o,s,l){switch(s=nf(l),o){case"html":if(o=s.documentElement,!o)throw Error(i(452));return o;case"head":if(o=s.head,!o)throw Error(i(453));return o;case"body":if(o=s.body,!o)throw Error(i(454));return o;default:throw Error(i(451))}}function xl(o){for(var s=o.attributes;s.length;)o.removeAttributeNode(s[0]);Gp(o)}var Pn=new Map,hE=new Set;function of(o){return typeof o.getRootNode=="function"?o.getRootNode():o.nodeType===9?o:o.ownerDocument}var to=Q.d;Q.d={f:bP,r:EP,D:wP,C:CP,L:TP,m:AP,X:RP,S:xP,M:MP};function bP(){var o=to.f(),s=jc();return o||s}function EP(o){var s=us(o);s!==null&&s.tag===5&&s.type==="form"?IS(s):to.r(o)}var Hs=typeof document>"u"?null:document;function mE(o,s,l){var f=Hs;if(f&&typeof s=="string"&&s){var v=An(s);v='link[rel="'+o+'"][href="'+v+'"]',typeof l=="string"&&(v+='[crossorigin="'+l+'"]'),hE.has(v)||(hE.add(v),o={rel:o,crossOrigin:l,href:s},f.querySelector(v)===null&&(s=f.createElement("link"),It(s,"link",o),bt(s),f.head.appendChild(s)))}}function wP(o){to.D(o),mE("dns-prefetch",o,null)}function CP(o,s){to.C(o,s),mE("preconnect",o,s)}function TP(o,s,l){to.L(o,s,l);var f=Hs;if(f&&o&&s){var v='link[rel="preload"][as="'+An(s)+'"]';s==="image"&&l&&l.imageSrcSet?(v+='[imagesrcset="'+An(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(v+='[imagesizes="'+An(l.imageSizes)+'"]')):v+='[href="'+An(o)+'"]';var _=v;switch(s){case"style":_=Gs(o);break;case"script":_=Vs(o)}Pn.has(_)||(o=y({rel:"preload",href:s==="image"&&l&&l.imageSrcSet?void 0:o,as:s},l),Pn.set(_,o),f.querySelector(v)!==null||s==="style"&&f.querySelector(Rl(_))||s==="script"&&f.querySelector(Ml(_))||(s=f.createElement("link"),It(s,"link",o),bt(s),f.head.appendChild(s)))}}function AP(o,s){to.m(o,s);var l=Hs;if(l&&o){var f=s&&typeof s.as=="string"?s.as:"script",v='link[rel="modulepreload"][as="'+An(f)+'"][href="'+An(o)+'"]',_=v;switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":_=Vs(o)}if(!Pn.has(_)&&(o=y({rel:"modulepreload",href:o},s),Pn.set(_,o),l.querySelector(v)===null)){switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(Ml(_)))return}f=l.createElement("link"),It(f,"link",o),bt(f),l.head.appendChild(f)}}}function xP(o,s,l){to.S(o,s,l);var f=Hs;if(f&&o){var v=cs(f).hoistableStyles,_=Gs(o);s=s||"default";var C=v.get(_);if(!C){var R={loading:0,preload:null};if(C=f.querySelector(Rl(_)))R.loading=5;else{o=y({rel:"stylesheet",href:o,"data-precedence":s},l),(l=Pn.get(_))&&Hm(o,l);var P=C=f.createElement("link");bt(P),It(P,"link",o),P._p=new Promise(function(G,X){P.onload=G,P.onerror=X}),P.addEventListener("load",function(){R.loading|=1}),P.addEventListener("error",function(){R.loading|=2}),R.loading|=4,rf(C,s,f)}C={type:"stylesheet",instance:C,count:1,state:R},v.set(_,C)}}}function RP(o,s){to.X(o,s);var l=Hs;if(l&&o){var f=cs(l).hoistableScripts,v=Vs(o),_=f.get(v);_||(_=l.querySelector(Ml(v)),_||(o=y({src:o,async:!0},s),(s=Pn.get(v))&&Gm(o,s),_=l.createElement("script"),bt(_),It(_,"link",o),l.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},f.set(v,_))}}function MP(o,s){to.M(o,s);var l=Hs;if(l&&o){var f=cs(l).hoistableScripts,v=Vs(o),_=f.get(v);_||(_=l.querySelector(Ml(v)),_||(o=y({src:o,async:!0,type:"module"},s),(s=Pn.get(v))&&Gm(o,s),_=l.createElement("script"),bt(_),It(_,"link",o),l.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},f.set(v,_))}}function gE(o,s,l,f){var v=(v=be.current)?of(v):null;if(!v)throw Error(i(446));switch(o){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(s=Gs(l.href),l=cs(v).hoistableStyles,f=l.get(s),f||(f={type:"style",instance:null,count:0,state:null},l.set(s,f)),f):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){o=Gs(l.href);var _=cs(v).hoistableStyles,C=_.get(o);if(C||(v=v.ownerDocument||v,C={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},_.set(o,C),(_=v.querySelector(Rl(o)))&&!_._p&&(C.instance=_,C.state.loading=5),Pn.has(o)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},Pn.set(o,l),_||NP(v,o,l,C.state))),s&&f===null)throw Error(i(528,""));return C}if(s&&f!==null)throw Error(i(529,""));return null;case"script":return s=l.async,l=l.src,typeof l=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Vs(l),l=cs(v).hoistableScripts,f=l.get(s),f||(f={type:"script",instance:null,count:0,state:null},l.set(s,f)),f):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,o))}}function Gs(o){return'href="'+An(o)+'"'}function Rl(o){return'link[rel="stylesheet"]['+o+"]"}function vE(o){return y({},o,{"data-precedence":o.precedence,precedence:null})}function NP(o,s,l,f){o.querySelector('link[rel="preload"][as="style"]['+s+"]")?f.loading=1:(s=o.createElement("link"),f.preload=s,s.addEventListener("load",function(){return f.loading|=1}),s.addEventListener("error",function(){return f.loading|=2}),It(s,"link",l),bt(s),o.head.appendChild(s))}function Vs(o){return'[src="'+An(o)+'"]'}function Ml(o){return"script[async]"+o}function yE(o,s,l){if(s.count++,s.instance===null)switch(s.type){case"style":var f=o.querySelector('style[data-href~="'+An(l.href)+'"]');if(f)return s.instance=f,bt(f),f;var v=y({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return f=(o.ownerDocument||o).createElement("style"),bt(f),It(f,"style",v),rf(f,l.precedence,o),s.instance=f;case"stylesheet":v=Gs(l.href);var _=o.querySelector(Rl(v));if(_)return s.state.loading|=4,s.instance=_,bt(_),_;f=vE(l),(v=Pn.get(v))&&Hm(f,v),_=(o.ownerDocument||o).createElement("link"),bt(_);var C=_;return C._p=new Promise(function(R,P){C.onload=R,C.onerror=P}),It(_,"link",f),s.state.loading|=4,rf(_,l.precedence,o),s.instance=_;case"script":return _=Vs(l.src),(v=o.querySelector(Ml(_)))?(s.instance=v,bt(v),v):(f=l,(v=Pn.get(_))&&(f=y({},l),Gm(f,v)),o=o.ownerDocument||o,v=o.createElement("script"),bt(v),It(v,"link",f),o.head.appendChild(v),s.instance=v);case"void":return null;default:throw Error(i(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(f=s.instance,s.state.loading|=4,rf(f,l.precedence,o));return s.instance}function rf(o,s,l){for(var f=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),v=f.length?f[f.length-1]:null,_=v,C=0;C<f.length;C++){var R=f[C];if(R.dataset.precedence===s)_=R;else if(_!==v)break}_?_.parentNode.insertBefore(o,_.nextSibling):(s=l.nodeType===9?l.head:l,s.insertBefore(o,s.firstChild))}function Hm(o,s){o.crossOrigin==null&&(o.crossOrigin=s.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=s.referrerPolicy),o.title==null&&(o.title=s.title)}function Gm(o,s){o.crossOrigin==null&&(o.crossOrigin=s.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=s.referrerPolicy),o.integrity==null&&(o.integrity=s.integrity)}var sf=null;function _E(o,s,l){if(sf===null){var f=new Map,v=sf=new Map;v.set(l,f)}else v=sf,f=v.get(l),f||(f=new Map,v.set(l,f));if(f.has(o))return f;for(f.set(o,null),l=l.getElementsByTagName(o),v=0;v<l.length;v++){var _=l[v];if(!(_[qa]||_[xt]||o==="link"&&_.getAttribute("rel")==="stylesheet")&&_.namespaceURI!=="http://www.w3.org/2000/svg"){var C=_.getAttribute(s)||"";C=o+C;var R=f.get(C);R?R.push(_):f.set(C,[_])}}return f}function SE(o,s,l){o=o.ownerDocument||o,o.head.insertBefore(l,s==="title"?o.querySelector("head > title"):null)}function IP(o,s,l){if(l===1||s.itemProp!=null)return!1;switch(o){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return o=s.disabled,typeof s.precedence=="string"&&o==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function bE(o){return!(o.type==="stylesheet"&&(o.state.loading&3)===0)}function DP(o,s,l,f){if(l.type==="stylesheet"&&(typeof f.media!="string"||matchMedia(f.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var v=Gs(f.href),_=s.querySelector(Rl(v));if(_){s=_._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(o.count++,o=af.bind(o),s.then(o,o)),l.state.loading|=4,l.instance=_,bt(_);return}_=s.ownerDocument||s,f=vE(f),(v=Pn.get(v))&&Hm(f,v),_=_.createElement("link"),bt(_);var C=_;C._p=new Promise(function(R,P){C.onload=R,C.onerror=P}),It(_,"link",f),l.instance=_}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(l,s),(s=l.state.preload)&&(l.state.loading&3)===0&&(o.count++,l=af.bind(o),s.addEventListener("load",l),s.addEventListener("error",l))}}var Vm=0;function OP(o,s){return o.stylesheets&&o.count===0&&uf(o,o.stylesheets),0<o.count||0<o.imgCount?function(l){var f=setTimeout(function(){if(o.stylesheets&&uf(o,o.stylesheets),o.unsuspend){var _=o.unsuspend;o.unsuspend=null,_()}},6e4+s);0<o.imgBytes&&Vm===0&&(Vm=62500*pP());var v=setTimeout(function(){if(o.waitingForImages=!1,o.count===0&&(o.stylesheets&&uf(o,o.stylesheets),o.unsuspend)){var _=o.unsuspend;o.unsuspend=null,_()}},(o.imgBytes>Vm?50:800)+s);return o.unsuspend=l,function(){o.unsuspend=null,clearTimeout(f),clearTimeout(v)}}:null}function af(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)uf(this,this.stylesheets);else if(this.unsuspend){var o=this.unsuspend;this.unsuspend=null,o()}}}var lf=null;function uf(o,s){o.stylesheets=null,o.unsuspend!==null&&(o.count++,lf=new Map,s.forEach(PP,o),lf=null,af.call(o))}function PP(o,s){if(!(s.state.loading&4)){var l=lf.get(o);if(l)var f=l.get(null);else{l=new Map,lf.set(o,l);for(var v=o.querySelectorAll("link[data-precedence],style[data-precedence]"),_=0;_<v.length;_++){var C=v[_];(C.nodeName==="LINK"||C.getAttribute("media")!=="not all")&&(l.set(C.dataset.precedence,C),f=C)}f&&l.set(null,f)}v=s.instance,C=v.getAttribute("data-precedence"),_=l.get(C)||f,_===f&&l.set(null,v),l.set(C,v),this.count++,f=af.bind(this),v.addEventListener("load",f),v.addEventListener("error",f),_?_.parentNode.insertBefore(v,_.nextSibling):(o=o.nodeType===9?o.head:o,o.insertBefore(v,o.firstChild)),s.state.loading|=4}}var Nl={$$typeof:N,Provider:null,Consumer:null,_currentValue:ee,_currentValue2:ee,_threadCount:0};function kP(o,s,l,f,v,_,C,R,P){this.tag=1,this.containerInfo=o,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Bp(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Bp(0),this.hiddenUpdates=Bp(null),this.identifierPrefix=f,this.onUncaughtError=v,this.onCaughtError=_,this.onRecoverableError=C,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=P,this.incompleteTransitions=new Map}function EE(o,s,l,f,v,_,C,R,P,G,X,te){return o=new kP(o,s,l,C,P,G,X,te,R),s=1,_===!0&&(s|=24),_=un(3,null,null,s),o.current=_,_.stateNode=o,s=Eh(),s.refCount++,o.pooledCache=s,s.refCount++,_.memoizedState={element:f,isDehydrated:l,cache:s},Ah(_),o}function wE(o){return o?(o=Ss,o):Ss}function CE(o,s,l,f,v,_){v=wE(v),f.context===null?f.context=v:f.pendingContext=v,f=Do(s),f.payload={element:l},_=_===void 0?null:_,_!==null&&(f.callback=_),l=Oo(o,f,s),l!==null&&(Zt(l,o,s),ll(l,o,s))}function TE(o,s){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var l=o.retryLane;o.retryLane=l!==0&&l<s?l:s}}function zm(o,s){TE(o,s),(o=o.alternate)&&TE(o,s)}function AE(o){if(o.tag===13||o.tag===31){var s=br(o,67108864);s!==null&&Zt(s,o,67108864),zm(o,67108864)}}function xE(o){if(o.tag===13||o.tag===31){var s=hn();s=Fp(s);var l=br(o,s);l!==null&&Zt(l,o,s),zm(o,s)}}var cf=!0;function LP(o,s,l,f){var v=F.T;F.T=null;var _=Q.p;try{Q.p=2,qm(o,s,l,f)}finally{Q.p=_,F.T=v}}function UP(o,s,l,f){var v=F.T;F.T=null;var _=Q.p;try{Q.p=8,qm(o,s,l,f)}finally{Q.p=_,F.T=v}}function qm(o,s,l,f){if(cf){var v=Jm(f);if(v===null)Im(o,s,f,ff,l),ME(o,f);else if(FP(v,o,s,l,f))f.stopPropagation();else if(ME(o,f),s&4&&-1<BP.indexOf(o)){for(;v!==null;){var _=us(v);if(_!==null)switch(_.tag){case 3:if(_=_.stateNode,_.current.memoizedState.isDehydrated){var C=gr(_.pendingLanes);if(C!==0){var R=_;for(R.pendingLanes|=2,R.entangledLanes|=2;C;){var P=1<<31-an(C);R.entanglements[1]|=P,C&=~P}vi(_),(Je&6)===0&&(Jc=At()+500,Cl(0))}}break;case 31:case 13:R=br(_,2),R!==null&&Zt(R,_,2),jc(),zm(_,2)}if(_=Jm(f),_===null&&Im(o,s,f,ff,l),_===v)break;v=_}v!==null&&f.stopPropagation()}else Im(o,s,f,null,l)}}function Jm(o){return o=jp(o),Km(o)}var ff=null;function Km(o){if(ff=null,o=ls(o),o!==null){var s=a(o);if(s===null)o=null;else{var l=s.tag;if(l===13){if(o=u(s),o!==null)return o;o=null}else if(l===31){if(o=c(s),o!==null)return o;o=null}else if(l===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;o=null}else s!==o&&(o=null)}}return ff=o,null}function RE(o){switch(o){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Zu()){case $a:return 2;case Ha:return 8;case mr:case CO:return 32;case B_:return 268435456;default:return 32}default:return 32}}var jm=!1,zo=null,qo=null,Jo=null,Il=new Map,Dl=new Map,Ko=[],BP="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function ME(o,s){switch(o){case"focusin":case"focusout":zo=null;break;case"dragenter":case"dragleave":qo=null;break;case"mouseover":case"mouseout":Jo=null;break;case"pointerover":case"pointerout":Il.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Dl.delete(s.pointerId)}}function Ol(o,s,l,f,v,_){return o===null||o.nativeEvent!==_?(o={blockedOn:s,domEventName:l,eventSystemFlags:f,nativeEvent:_,targetContainers:[v]},s!==null&&(s=us(s),s!==null&&AE(s)),o):(o.eventSystemFlags|=f,s=o.targetContainers,v!==null&&s.indexOf(v)===-1&&s.push(v),o)}function FP(o,s,l,f,v){switch(s){case"focusin":return zo=Ol(zo,o,s,l,f,v),!0;case"dragenter":return qo=Ol(qo,o,s,l,f,v),!0;case"mouseover":return Jo=Ol(Jo,o,s,l,f,v),!0;case"pointerover":var _=v.pointerId;return Il.set(_,Ol(Il.get(_)||null,o,s,l,f,v)),!0;case"gotpointercapture":return _=v.pointerId,Dl.set(_,Ol(Dl.get(_)||null,o,s,l,f,v)),!0}return!1}function NE(o){var s=ls(o.target);if(s!==null){var l=a(s);if(l!==null){if(s=l.tag,s===13){if(s=u(l),s!==null){o.blockedOn=s,z_(o.priority,function(){xE(l)});return}}else if(s===31){if(s=c(l),s!==null){o.blockedOn=s,z_(o.priority,function(){xE(l)});return}}else if(s===3&&l.stateNode.current.memoizedState.isDehydrated){o.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}o.blockedOn=null}function df(o){if(o.blockedOn!==null)return!1;for(var s=o.targetContainers;0<s.length;){var l=Jm(o.nativeEvent);if(l===null){l=o.nativeEvent;var f=new l.constructor(l.type,l);Kp=f,l.target.dispatchEvent(f),Kp=null}else return s=us(l),s!==null&&AE(s),o.blockedOn=l,!1;s.shift()}return!0}function IE(o,s,l){df(o)&&l.delete(s)}function $P(){jm=!1,zo!==null&&df(zo)&&(zo=null),qo!==null&&df(qo)&&(qo=null),Jo!==null&&df(Jo)&&(Jo=null),Il.forEach(IE),Dl.forEach(IE)}function pf(o,s){o.blockedOn===s&&(o.blockedOn=null,jm||(jm=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,$P)))}var hf=null;function DE(o){hf!==o&&(hf=o,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){hf===o&&(hf=null);for(var s=0;s<o.length;s+=3){var l=o[s],f=o[s+1],v=o[s+2];if(typeof f!="function"){if(Km(f||l)===null)continue;break}var _=us(l);_!==null&&(o.splice(s,3),s-=3,Jh(_,{pending:!0,data:v,method:l.method,action:f},f,v))}}))}function zs(o){function s(P){return pf(P,o)}zo!==null&&pf(zo,o),qo!==null&&pf(qo,o),Jo!==null&&pf(Jo,o),Il.forEach(s),Dl.forEach(s);for(var l=0;l<Ko.length;l++){var f=Ko[l];f.blockedOn===o&&(f.blockedOn=null)}for(;0<Ko.length&&(l=Ko[0],l.blockedOn===null);)NE(l),l.blockedOn===null&&Ko.shift();if(l=(o.ownerDocument||o).$$reactFormReplay,l!=null)for(f=0;f<l.length;f+=3){var v=l[f],_=l[f+1],C=v[Kt]||null;if(typeof _=="function")C||DE(l);else if(C){var R=null;if(_&&_.hasAttribute("formAction")){if(v=_,C=_[Kt]||null)R=C.formAction;else if(Km(v)!==null)continue}else R=C.action;typeof R=="function"?l[f+1]=R:(l.splice(f,3),f-=3),DE(l)}}}function OE(){function o(_){_.canIntercept&&_.info==="react-transition"&&_.intercept({handler:function(){return new Promise(function(C){return v=C})},focusReset:"manual",scroll:"manual"})}function s(){v!==null&&(v(),v=null),f||setTimeout(l,20)}function l(){if(!f&&!navigation.transition){var _=navigation.currentEntry;_&&_.url!=null&&navigation.navigate(_.url,{state:_.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var f=!1,v=null;return navigation.addEventListener("navigate",o),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(l,100),function(){f=!0,navigation.removeEventListener("navigate",o),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),v!==null&&(v(),v=null)}}}function Ym(o){this._internalRoot=o}mf.prototype.render=Ym.prototype.render=function(o){var s=this._internalRoot;if(s===null)throw Error(i(409));var l=s.current,f=hn();CE(l,f,o,s,null,null)},mf.prototype.unmount=Ym.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var s=o.containerInfo;CE(o.current,2,null,o,null,null),jc(),s[as]=null}};function mf(o){this._internalRoot=o}mf.prototype.unstable_scheduleHydration=function(o){if(o){var s=V_();o={blockedOn:null,target:o,priority:s};for(var l=0;l<Ko.length&&s!==0&&s<Ko[l].priority;l++);Ko.splice(l,0,o),l===0&&NE(o)}};var PE=e.version;if(PE!=="19.2.1")throw Error(i(527,PE,"19.2.1"));Q.findDOMNode=function(o){var s=o._reactInternals;if(s===void 0)throw typeof o.render=="function"?Error(i(188)):(o=Object.keys(o).join(","),Error(i(268,o)));return o=d(s),o=o!==null?m(o):null,o=o===null?null:o.stateNode,o};var HP={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:F,reconcilerVersion:"19.2.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var gf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!gf.isDisabled&&gf.supportsFiber)try{Ga=gf.inject(HP),sn=gf}catch{}}return kl.createRoot=function(o,s){if(!r(o))throw Error(i(299));var l=!1,f="",v=HS,_=GS,C=VS;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(f=s.identifierPrefix),s.onUncaughtError!==void 0&&(v=s.onUncaughtError),s.onCaughtError!==void 0&&(_=s.onCaughtError),s.onRecoverableError!==void 0&&(C=s.onRecoverableError)),s=EE(o,1,!1,null,null,l,f,null,v,_,C,OE),o[as]=s.current,Nm(o),new Ym(s)},kl.hydrateRoot=function(o,s,l){if(!r(o))throw Error(i(299));var f=!1,v="",_=HS,C=GS,R=VS,P=null;return l!=null&&(l.unstable_strictMode===!0&&(f=!0),l.identifierPrefix!==void 0&&(v=l.identifierPrefix),l.onUncaughtError!==void 0&&(_=l.onUncaughtError),l.onCaughtError!==void 0&&(C=l.onCaughtError),l.onRecoverableError!==void 0&&(R=l.onRecoverableError),l.formState!==void 0&&(P=l.formState)),s=EE(o,1,!0,s,l??null,f,v,P,_,C,R,OE),s.context=wE(null),l=s.current,f=hn(),f=Fp(f),v=Do(f),v.callback=null,Oo(l,v,f),l=f,s.current.lanes=l,za(s,l),vi(s),o[as]=s.current,Nm(o),new mf(s)},kl.version="19.2.1",kl}var zE;function WP(){if(zE)return Qm.exports;zE=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Qm.exports=XP(),Qm.exports}var QP=WP();function Be(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];throw new Error(typeof t=="number"?"[MobX] minified error nr: "+t+(n.length?" "+n.map(String).join(","):"")+". Find the full error at: https://github.com/mobxjs/mobx/blob/main/packages/mobx/src/errors.ts":"[MobX] "+t)}var ZP={};function Yd(){return typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:ZP}var VA=Object.assign,dd=Object.getOwnPropertyDescriptor,Ti=Object.defineProperty,wu=Object.prototype,Zg=[];Object.freeze(Zg);var zA={};Object.freeze(zA);var ek=typeof Proxy<"u",tk=Object.toString();function qA(){ek||Be("Proxy not available")}function JA(t){var e=!1;return function(){if(!e)return e=!0,t.apply(this,arguments)}}var sa=function(){};function ai(t){return typeof t=="function"}function qr(t){var e=typeof t;switch(e){case"string":case"symbol":case"number":return!0}return!1}function Xd(t){return t!==null&&typeof t=="object"}function po(t){if(!Xd(t))return!1;var e=Object.getPrototypeOf(t);if(e==null)return!0;var n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n.toString()===tk}function KA(t){var e=t?.constructor;return e?e.name==="GeneratorFunction"||e.displayName==="GeneratorFunction":!1}function Cu(t,e,n){Ti(t,e,{enumerable:!1,writable:!0,configurable:!0,value:n})}function jA(t,e,n){Ti(t,e,{enumerable:!1,writable:!1,configurable:!0,value:n})}function lr(t,e){var n="isMobX"+t;return e.prototype[n]=!0,function(i){return Xd(i)&&i[n]===!0}}function Aa(t){return t!=null&&Object.prototype.toString.call(t)==="[object Map]"}function nk(t){var e=Object.getPrototypeOf(t),n=Object.getPrototypeOf(e),i=Object.getPrototypeOf(n);return i===null}function ro(t){return t!=null&&Object.prototype.toString.call(t)==="[object Set]"}var YA=typeof Object.getOwnPropertySymbols<"u";function ik(t){var e=Object.keys(t);if(!YA)return e;var n=Object.getOwnPropertySymbols(t);return n.length?[].concat(e,n.filter(function(i){return wu.propertyIsEnumerable.call(t,i)})):e}var ga=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:YA?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:Object.getOwnPropertyNames;function XA(t){return t===null?null:typeof t=="object"?""+t:t}function uo(t,e){return wu.hasOwnProperty.call(t,e)}var ok=Object.getOwnPropertyDescriptors||function(e){var n={};return ga(e).forEach(function(i){n[i]=dd(e,i)}),n};function _n(t,e){return!!(t&e)}function Sn(t,e,n){return n?t|=e:t&=~e,t}function qE(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,i=Array(e);n<e;n++)i[n]=t[n];return i}function rk(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,ak(i.key),i)}}function xa(t,e,n){return e&&rk(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function aa(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n)return(n=n.call(t)).next.bind(n);if(Array.isArray(t)||(n=lk(t))||e){n&&(t=n);var i=0;return function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Jr(){return Jr=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Jr.apply(null,arguments)}function WA(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,ev(t,e)}function ev(t,e){return ev=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},ev(t,e)}function sk(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function ak(t){var e=sk(t,"string");return typeof e=="symbol"?e:e+""}function lk(t,e){if(t){if(typeof t=="string")return qE(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?qE(t,e):void 0}}var Ei=Symbol("mobx-stored-annotations");function Ai(t){function e(n,i){if(Au(i))return t.decorate_20223_(n,i);Tu(n,i,t)}return Object.assign(e,t)}function Tu(t,e,n){uo(t,Ei)||Cu(t,Ei,Jr({},t[Ei])),mk(n)||(t[Ei][e]=n)}function uk(t){return uo(t,Ei)||Cu(t,Ei,Jr({},t[Ei])),t[Ei]}function Au(t){return typeof t=="object"&&typeof t.kind=="string"}var we=Symbol("mobx administration"),ur=(function(){function t(n){n===void 0&&(n="Atom"),this.name_=void 0,this.flags_=0,this.observers_=new Set,this.lastAccessedBy_=0,this.lowestObserverState_=Ge.NOT_TRACKING_,this.onBOL=void 0,this.onBUOL=void 0,this.name_=n}var e=t.prototype;return e.onBO=function(){this.onBOL&&this.onBOL.forEach(function(i){return i()})},e.onBUO=function(){this.onBUOL&&this.onBUOL.forEach(function(i){return i()})},e.reportObserved=function(){return hx(this)},e.reportChanged=function(){Bn(),mx(this),Fn()},e.toString=function(){return this.name_},xa(t,[{key:"isBeingObserved",get:function(){return _n(this.flags_,t.isBeingObservedMask_)},set:function(i){this.flags_=Sn(this.flags_,t.isBeingObservedMask_,i)}},{key:"isPendingUnobservation",get:function(){return _n(this.flags_,t.isPendingUnobservationMask_)},set:function(i){this.flags_=Sn(this.flags_,t.isPendingUnobservationMask_,i)}},{key:"diffValue",get:function(){return _n(this.flags_,t.diffValueMask_)?1:0},set:function(i){this.flags_=Sn(this.flags_,t.diffValueMask_,i===1)}}])})();ur.isBeingObservedMask_=1;ur.isPendingUnobservationMask_=2;ur.diffValueMask_=4;var ay=lr("Atom",ur);function QA(t,e,n){e===void 0&&(e=sa),n===void 0&&(n=sa);var i=new ur(t);return e!==sa&&yL(i,e),n!==sa&&bx(i,n),i}function ck(t,e){return Ox(t,e)}function fk(t,e){return Object.is?Object.is(t,e):t===e?t!==0||1/t===1/e:t!==t&&e!==e}var pd={structural:ck,default:fk};function Kr(t,e,n){return dy(t)?t:Array.isArray(t)?Ct.array(t,{name:n}):po(t)?Ct.object(t,void 0,{name:n}):Aa(t)?Ct.map(t,{name:n}):ro(t)?Ct.set(t,{name:n}):typeof t=="function"&&!va(t)&&!lu(t)?KA(t)?ya(t):au(n,t):t}function dk(t,e,n){if(t==null||Du(t)||Iu(t)||cr(t)||ei(t))return t;if(Array.isArray(t))return Ct.array(t,{name:n,deep:!1});if(po(t))return Ct.object(t,void 0,{name:n,deep:!1});if(Aa(t))return Ct.map(t,{name:n,deep:!1});if(ro(t))return Ct.set(t,{name:n,deep:!1})}function Wd(t){return t}function pk(t,e){return Ox(t,e)?e:t}var hk="override";function mk(t){return t.annotationType_===hk}function xu(t,e){return{annotationType_:t,options_:e,make_:gk,extend_:vk,decorate_20223_:yk}}function gk(t,e,n,i){var r;if((r=this.options_)!=null&&r.bound)return this.extend_(t,e,n,!1)===null?0:1;if(i===t.target_)return this.extend_(t,e,n,!1)===null?0:2;if(va(n.value))return 1;var a=ZA(t,this,e,n,!1);return Ti(i,e,a),2}function vk(t,e,n,i){var r=ZA(t,this,e,n);return t.defineProperty_(e,r,i)}function yk(t,e){var n=e.kind,i=e.name,r=e.addInitializer,a=this,u=function(d){var m,y,S,b;return jr((m=(y=a.options_)==null?void 0:y.name)!=null?m:i.toString(),d,(S=(b=a.options_)==null?void 0:b.autoAction)!=null?S:!1)};if(n=="field")return function(p){var d,m=p;return va(m)||(m=u(m)),(d=a.options_)!=null&&d.bound&&(m=m.bind(this),m.isMobxAction=!0),m};if(n=="method"){var c;return va(t)||(t=u(t)),(c=this.options_)!=null&&c.bound&&r(function(){var p=this,d=p[i].bind(p);d.isMobxAction=!0,p[i]=d}),t}Be("Cannot apply '"+a.annotationType_+"' to '"+String(i)+"' (kind: "+n+"):"+(`
'`+a.annotationType_+"' can only be used on properties with a function value."))}function _k(t,e,n,i){e.annotationType_,i.value}function ZA(t,e,n,i,r){var a,u,c,p,d,m,y;r===void 0&&(r=ue.safeDescriptors),_k(t,e,n,i);var S=i.value;if((a=e.options_)!=null&&a.bound){var b;S=S.bind((b=t.proxy_)!=null?b:t.target_)}return{value:jr((u=(c=e.options_)==null?void 0:c.name)!=null?u:n.toString(),S,(p=(d=e.options_)==null?void 0:d.autoAction)!=null?p:!1,(m=e.options_)!=null&&m.bound?(y=t.proxy_)!=null?y:t.target_:void 0),configurable:r?t.isPlainObject_:!0,enumerable:!1,writable:!r}}function ex(t,e){return{annotationType_:t,options_:e,make_:Sk,extend_:bk,decorate_20223_:Ek}}function Sk(t,e,n,i){var r;if(i===t.target_)return this.extend_(t,e,n,!1)===null?0:2;if((r=this.options_)!=null&&r.bound&&(!uo(t.target_,e)||!lu(t.target_[e]))&&this.extend_(t,e,n,!1)===null)return 0;if(lu(n.value))return 1;var a=tx(t,this,e,n,!1,!1);return Ti(i,e,a),2}function bk(t,e,n,i){var r,a=tx(t,this,e,n,(r=this.options_)==null?void 0:r.bound);return t.defineProperty_(e,a,i)}function Ek(t,e){var n,i=e.name,r=e.addInitializer;return lu(t)||(t=ya(t)),(n=this.options_)!=null&&n.bound&&r(function(){var a=this,u=a[i].bind(a);u.isMobXFlow=!0,a[i]=u}),t}function wk(t,e,n,i){e.annotationType_,i.value}function tx(t,e,n,i,r,a){a===void 0&&(a=ue.safeDescriptors),wk(t,e,n,i);var u=i.value;if(lu(u)||(u=ya(u)),r){var c;u=u.bind((c=t.proxy_)!=null?c:t.target_),u.isMobXFlow=!0}return{value:u,configurable:a?t.isPlainObject_:!0,enumerable:!1,writable:!a}}function ly(t,e){return{annotationType_:t,options_:e,make_:Ck,extend_:Tk,decorate_20223_:Ak}}function Ck(t,e,n){return this.extend_(t,e,n,!1)===null?0:1}function Tk(t,e,n,i){return xk(t,this,e,n),t.defineComputedProperty_(e,Jr({},this.options_,{get:n.get,set:n.set}),i)}function Ak(t,e){var n=this,i=e.name,r=e.addInitializer;return r(function(){var a=is(this)[we],u=Jr({},n.options_,{get:t,context:this});u.name||(u.name="ObservableObject."+i.toString()),a.values_.set(i,new li(u))}),function(){return this[we].getObservablePropValue_(i)}}function xk(t,e,n,i){e.annotationType_,i.get}function Qd(t,e){return{annotationType_:t,options_:e,make_:Rk,extend_:Mk,decorate_20223_:Nk}}function Rk(t,e,n){return this.extend_(t,e,n,!1)===null?0:1}function Mk(t,e,n,i){var r,a;return Ik(t,this),t.defineObservableProperty_(e,n.value,(r=(a=this.options_)==null?void 0:a.enhancer)!=null?r:Kr,i)}function Nk(t,e){var n=this,i=e.kind,r=e.name,a=new WeakSet;function u(c,p){var d,m,y=is(c)[we],S=new nr(p,(d=(m=n.options_)==null?void 0:m.enhancer)!=null?d:Kr,"ObservableObject."+r.toString(),!1);y.values_.set(r,S),a.add(c)}if(i=="accessor")return{get:function(){return a.has(this)||u(this,t.get.call(this)),this[we].getObservablePropValue_(r)},set:function(p){return a.has(this)||u(this,p),this[we].setObservablePropValue_(r,p)},init:function(p){return a.has(this)||u(this,p),p}}}function Ik(t,e,n,i){e.annotationType_}var Dk="true",Ok=nx();function nx(t){return{annotationType_:Dk,options_:t,make_:Pk,extend_:kk,decorate_20223_:Lk}}function Pk(t,e,n,i){var r,a;if(n.get)return Zd.make_(t,e,n,i);if(n.set){var u=va(n.set)?n.set:jr(e.toString(),n.set);return i===t.target_?t.defineProperty_(e,{configurable:ue.safeDescriptors?t.isPlainObject_:!0,set:u})===null?0:2:(Ti(i,e,{configurable:!0,set:u}),2)}if(i!==t.target_&&typeof n.value=="function"){var c;if(KA(n.value)){var p,d=(p=this.options_)!=null&&p.autoBind?ya.bound:ya;return d.make_(t,e,n,i)}var m=(c=this.options_)!=null&&c.autoBind?au.bound:au;return m.make_(t,e,n,i)}var y=((r=this.options_)==null?void 0:r.deep)===!1?Ct.ref:Ct;if(typeof n.value=="function"&&(a=this.options_)!=null&&a.autoBind){var S;n.value=n.value.bind((S=t.proxy_)!=null?S:t.target_)}return y.make_(t,e,n,i)}function kk(t,e,n,i){var r,a;if(n.get)return Zd.extend_(t,e,n,i);if(n.set)return t.defineProperty_(e,{configurable:ue.safeDescriptors?t.isPlainObject_:!0,set:jr(e.toString(),n.set)},i);if(typeof n.value=="function"&&(r=this.options_)!=null&&r.autoBind){var u;n.value=n.value.bind((u=t.proxy_)!=null?u:t.target_)}var c=((a=this.options_)==null?void 0:a.deep)===!1?Ct.ref:Ct;return c.extend_(t,e,n,i)}function Lk(t,e){Be("'"+this.annotationType_+"' cannot be used as a decorator")}var Uk="observable",Bk="observable.ref",Fk="observable.shallow",$k="observable.struct",ix={deep:!0,name:void 0,defaultDecorator:void 0,proxy:!0};Object.freeze(ix);function vf(t){return t||ix}var tv=Qd(Uk),Hk=Qd(Bk,{enhancer:Wd}),Gk=Qd(Fk,{enhancer:dk}),Vk=Qd($k,{enhancer:pk}),ox=Ai(tv);function yf(t){return t.deep===!0?Kr:t.deep===!1?Wd:qk(t.defaultDecorator)}function zk(t){var e;return t?(e=t.defaultDecorator)!=null?e:nx(t):void 0}function qk(t){var e,n;return t&&(e=(n=t.options_)==null?void 0:n.enhancer)!=null?e:Kr}function rx(t,e,n){if(Au(e))return tv.decorate_20223_(t,e);if(qr(e)){Tu(t,e,tv);return}return dy(t)?t:po(t)?Ct.object(t,e,n):Array.isArray(t)?Ct.array(t,e):Aa(t)?Ct.map(t,e):ro(t)?Ct.set(t,e):typeof t=="object"&&t!==null?t:Ct.box(t,e)}VA(rx,ox);var Jk={box:function(e,n){var i=vf(n);return new nr(e,yf(i),i.name,!0,i.equals)},array:function(e,n){var i=vf(n);return(ue.useProxies===!1||i.proxy===!1?VL:OL)(e,yf(i),i.name)},map:function(e,n){var i=vf(n);return new xx(e,yf(i),i.name)},set:function(e,n){var i=vf(n);return new Rx(e,yf(i),i.name)},object:function(e,n,i){return fr(function(){return wx(ue.useProxies===!1||i?.proxy===!1?is({},i):ML({},i),e,n)})},ref:Ai(Hk),shallow:Ai(Gk),deep:ox,struct:Ai(Vk)},Ct=VA(rx,Jk),sx="computed",Kk="computed.struct",nv=ly(sx),jk=ly(Kk,{equals:pd.structural}),Zd=function(e,n){if(Au(n))return nv.decorate_20223_(e,n);if(qr(n))return Tu(e,n,nv);if(po(e))return Ai(ly(sx,e));var i=po(n)?n:{};return i.get=e,i.name||(i.name=e.name||""),new li(i)};Object.assign(Zd,nv);Zd.struct=Ai(jk);var JE,KE,hd=0,Yk=1,Xk=(JE=(KE=dd(function(){},"name"))==null?void 0:KE.configurable)!=null?JE:!1,jE={value:"action",configurable:!0,writable:!1,enumerable:!1};function jr(t,e,n,i){n===void 0&&(n=!1);function r(){return ax(t,n,e,i||this,arguments)}return r.isMobxAction=!0,r.toString=function(){return e.toString()},Xk&&(jE.value=t,Ti(r,"name",jE)),r}function ax(t,e,n,i,r){var a=Wk(t,e);try{return n.apply(i,r)}catch(u){throw a.error_=u,u}finally{Qk(a)}}function Wk(t,e,n,i){var r=!1,a=0,u=ue.trackingDerivation,c=!e||!u;Bn();var p=ue.allowStateChanges;c&&(ns(),p=uy(!0));var d=fy(!0),m={runAsAction_:c,prevDerivation_:u,prevAllowStateChanges_:p,prevAllowStateReads_:d,notifySpy_:r,startTime_:a,actionId_:Yk++,parentActionId_:hd};return hd=m.actionId_,m}function Qk(t){hd!==t.actionId_&&Be(30),hd=t.parentActionId_,t.error_!==void 0&&(ue.suppressReactionErrors=!0),cy(t.prevAllowStateChanges_),Zl(t.prevAllowStateReads_),Fn(),t.runAsAction_&&co(t.prevDerivation_),ue.suppressReactionErrors=!1}function uy(t){var e=ue.allowStateChanges;return ue.allowStateChanges=t,e}function cy(t){ue.allowStateChanges=t}var nr=(function(t){function e(i,r,a,u,c){var p;return a===void 0&&(a="ObservableValue"),c===void 0&&(c=pd.default),p=t.call(this,a)||this,p.enhancer=void 0,p.name_=void 0,p.equals=void 0,p.hasUnreportedChange_=!1,p.interceptors_=void 0,p.changeListeners_=void 0,p.value_=void 0,p.dehancer=void 0,p.enhancer=r,p.name_=a,p.equals=c,p.value_=r(i,void 0,a),p}WA(e,t);var n=e.prototype;return n.dehanceValue=function(r){return this.dehancer!==void 0?this.dehancer(r):r},n.set=function(r){this.value_,r=this.prepareNewValue_(r),r!==ue.UNCHANGED&&this.setNewValue_(r)},n.prepareNewValue_=function(r){if(Ln(this)){var a=Un(this,{object:this,type:xi,newValue:r});if(!a)return ue.UNCHANGED;r=a.newValue}return r=this.enhancer(r,this.value_,this.name_),this.equals(this.value_,r)?ue.UNCHANGED:r},n.setNewValue_=function(r){var a=this.value_;this.value_=r,this.reportChanged(),ii(this)&&oi(this,{type:xi,object:this,newValue:r,oldValue:a})},n.get=function(){return this.reportObserved(),this.dehanceValue(this.value_)},n.intercept_=function(r){return Mu(this,r)},n.observe_=function(r,a){return a&&r({observableKind:"value",debugObjectName:this.name_,object:this,type:xi,newValue:this.value_,oldValue:void 0}),Nu(this,r)},n.raw=function(){return this.value_},n.toJSON=function(){return this.get()},n.toString=function(){return this.name_+"["+this.value_+"]"},n.valueOf=function(){return XA(this.get())},n[Symbol.toPrimitive]=function(){return this.valueOf()},e})(ur),Zk=lr("ObservableValue",nr),li=(function(){function t(n){this.dependenciesState_=Ge.NOT_TRACKING_,this.observing_=[],this.newObserving_=null,this.observers_=new Set,this.runId_=0,this.lastAccessedBy_=0,this.lowestObserverState_=Ge.UP_TO_DATE_,this.unboundDepsCount_=0,this.value_=new gd(null),this.name_=void 0,this.triggeredBy_=void 0,this.flags_=0,this.derivation=void 0,this.setter_=void 0,this.isTracing_=md.NONE,this.scope_=void 0,this.equals_=void 0,this.requiresReaction_=void 0,this.keepAlive_=void 0,this.onBOL=void 0,this.onBUOL=void 0,n.get||Be(31),this.derivation=n.get,this.name_=n.name||"ComputedValue",n.set&&(this.setter_=jr("ComputedValue-setter",n.set)),this.equals_=n.equals||(n.compareStructural||n.struct?pd.structural:pd.default),this.scope_=n.context,this.requiresReaction_=n.requiresReaction,this.keepAlive_=!!n.keepAlive}var e=t.prototype;return e.onBecomeStale_=function(){oL(this)},e.onBO=function(){this.onBOL&&this.onBOL.forEach(function(i){return i()})},e.onBUO=function(){this.onBUOL&&this.onBUOL.forEach(function(i){return i()})},e.get=function(){if(this.isComputing&&Be(32,this.name_,this.derivation),ue.inBatch===0&&this.observers_.size===0&&!this.keepAlive_)iv(this)&&(this.warnAboutUntrackedRead_(),Bn(),this.value_=this.computeValue_(!1),Fn());else if(hx(this),iv(this)){var i=ue.trackingContext;this.keepAlive_&&!i&&(ue.trackingContext=this),this.trackAndCompute()&&iL(this),ue.trackingContext=i}var r=this.value_;if(Kf(r))throw r.cause;return r},e.set=function(i){if(this.setter_){this.isRunningSetter&&Be(33,this.name_),this.isRunningSetter=!0;try{this.setter_.call(this.scope_,i)}finally{this.isRunningSetter=!1}}else Be(34,this.name_)},e.trackAndCompute=function(){var i=this.value_,r=this.dependenciesState_===Ge.NOT_TRACKING_,a=this.computeValue_(!0),u=r||Kf(i)||Kf(a)||!this.equals_(i,a);return u&&(this.value_=a),u},e.computeValue_=function(i){this.isComputing=!0;var r=uy(!1),a;if(i)a=lx(this,this.derivation,this.scope_);else if(ue.disableErrorBoundaries===!0)a=this.derivation.call(this.scope_);else try{a=this.derivation.call(this.scope_)}catch(u){a=new gd(u)}return cy(r),this.isComputing=!1,a},e.suspend_=function(){this.keepAlive_||(ov(this),this.value_=void 0)},e.observe_=function(i,r){var a=this,u=!0,c=void 0;return pL(function(){var p=a.get();if(!u||r){var d=ns();i({observableKind:"computed",debugObjectName:a.name_,type:xi,object:a,newValue:p,oldValue:c}),co(d)}u=!1,c=p})},e.warnAboutUntrackedRead_=function(){},e.toString=function(){return this.name_+"["+this.derivation.toString()+"]"},e.valueOf=function(){return XA(this.get())},e[Symbol.toPrimitive]=function(){return this.valueOf()},xa(t,[{key:"isComputing",get:function(){return _n(this.flags_,t.isComputingMask_)},set:function(i){this.flags_=Sn(this.flags_,t.isComputingMask_,i)}},{key:"isRunningSetter",get:function(){return _n(this.flags_,t.isRunningSetterMask_)},set:function(i){this.flags_=Sn(this.flags_,t.isRunningSetterMask_,i)}},{key:"isBeingObserved",get:function(){return _n(this.flags_,t.isBeingObservedMask_)},set:function(i){this.flags_=Sn(this.flags_,t.isBeingObservedMask_,i)}},{key:"isPendingUnobservation",get:function(){return _n(this.flags_,t.isPendingUnobservationMask_)},set:function(i){this.flags_=Sn(this.flags_,t.isPendingUnobservationMask_,i)}},{key:"diffValue",get:function(){return _n(this.flags_,t.diffValueMask_)?1:0},set:function(i){this.flags_=Sn(this.flags_,t.diffValueMask_,i===1)}}])})();li.isComputingMask_=1;li.isRunningSetterMask_=2;li.isBeingObservedMask_=4;li.isPendingUnobservationMask_=8;li.diffValueMask_=16;var Ru=lr("ComputedValue",li),Ge;(function(t){t[t.NOT_TRACKING_=-1]="NOT_TRACKING_",t[t.UP_TO_DATE_=0]="UP_TO_DATE_",t[t.POSSIBLY_STALE_=1]="POSSIBLY_STALE_",t[t.STALE_=2]="STALE_"})(Ge||(Ge={}));var md;(function(t){t[t.NONE=0]="NONE",t[t.LOG=1]="LOG",t[t.BREAK=2]="BREAK"})(md||(md={}));var gd=function(e){this.cause=void 0,this.cause=e};function Kf(t){return t instanceof gd}function iv(t){switch(t.dependenciesState_){case Ge.UP_TO_DATE_:return!1;case Ge.NOT_TRACKING_:case Ge.STALE_:return!0;case Ge.POSSIBLY_STALE_:{for(var e=fy(!0),n=ns(),i=t.observing_,r=i.length,a=0;a<r;a++){var u=i[a];if(Ru(u)){if(ue.disableErrorBoundaries)u.get();else try{u.get()}catch{return co(n),Zl(e),!0}if(t.dependenciesState_===Ge.STALE_)return co(n),Zl(e),!0}}return cx(t),co(n),Zl(e),!1}}}function lx(t,e,n){var i=fy(!0);cx(t),t.newObserving_=new Array(t.runId_===0?100:t.observing_.length),t.unboundDepsCount_=0,t.runId_=++ue.runId;var r=ue.trackingDerivation;ue.trackingDerivation=t,ue.inBatch++;var a;if(ue.disableErrorBoundaries===!0)a=e.call(n);else try{a=e.call(n)}catch(u){a=new gd(u)}return ue.inBatch--,ue.trackingDerivation=r,eL(t),Zl(i),a}function eL(t){for(var e=t.observing_,n=t.observing_=t.newObserving_,i=Ge.UP_TO_DATE_,r=0,a=t.unboundDepsCount_,u=0;u<a;u++){var c=n[u];c.diffValue===0&&(c.diffValue=1,r!==u&&(n[r]=c),r++),c.dependenciesState_>i&&(i=c.dependenciesState_)}for(n.length=r,t.newObserving_=null,a=e.length;a--;){var p=e[a];p.diffValue===0&&dx(p,t),p.diffValue=0}for(;r--;){var d=n[r];d.diffValue===1&&(d.diffValue=0,nL(d,t))}i!==Ge.UP_TO_DATE_&&(t.dependenciesState_=i,t.onBecomeStale_())}function ov(t){var e=t.observing_;t.observing_=[];for(var n=e.length;n--;)dx(e[n],t);t.dependenciesState_=Ge.NOT_TRACKING_}function ux(t){var e=ns();try{return t()}finally{co(e)}}function ns(){var t=ue.trackingDerivation;return ue.trackingDerivation=null,t}function co(t){ue.trackingDerivation=t}function fy(t){var e=ue.allowStateReads;return ue.allowStateReads=t,e}function Zl(t){ue.allowStateReads=t}function cx(t){if(t.dependenciesState_!==Ge.UP_TO_DATE_){t.dependenciesState_=Ge.UP_TO_DATE_;for(var e=t.observing_,n=e.length;n--;)e[n].lowestObserverState_=Ge.UP_TO_DATE_}}var jf=function(){this.version=6,this.UNCHANGED={},this.trackingDerivation=null,this.trackingContext=null,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!1,this.allowStateReads=!0,this.enforceActions=!0,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1,this.useProxies=!0,this.verifyProxies=!1,this.safeDescriptors=!0},Yf=!0,fx=!1,ue=(function(){var t=Yd();return t.__mobxInstanceCount>0&&!t.__mobxGlobals&&(Yf=!1),t.__mobxGlobals&&t.__mobxGlobals.version!==new jf().version&&(Yf=!1),Yf?t.__mobxGlobals?(t.__mobxInstanceCount+=1,t.__mobxGlobals.UNCHANGED||(t.__mobxGlobals.UNCHANGED={}),t.__mobxGlobals):(t.__mobxInstanceCount=1,t.__mobxGlobals=new jf):(setTimeout(function(){fx||Be(35)},1),new jf)})();function tL(){if((ue.pendingReactions.length||ue.inBatch||ue.isRunningReactions)&&Be(36),fx=!0,Yf){var t=Yd();--t.__mobxInstanceCount===0&&(t.__mobxGlobals=void 0),ue=new jf}}function nL(t,e){t.observers_.add(e),t.lowestObserverState_>e.dependenciesState_&&(t.lowestObserverState_=e.dependenciesState_)}function dx(t,e){t.observers_.delete(e),t.observers_.size===0&&px(t)}function px(t){t.isPendingUnobservation===!1&&(t.isPendingUnobservation=!0,ue.pendingUnobservations.push(t))}function Bn(){ue.inBatch++}function Fn(){if(--ue.inBatch===0){gx();for(var t=ue.pendingUnobservations,e=0;e<t.length;e++){var n=t[e];n.isPendingUnobservation=!1,n.observers_.size===0&&(n.isBeingObserved&&(n.isBeingObserved=!1,n.onBUO()),n instanceof li&&n.suspend_())}ue.pendingUnobservations=[]}}function hx(t){var e=ue.trackingDerivation;return e!==null?(e.runId_!==t.lastAccessedBy_&&(t.lastAccessedBy_=e.runId_,e.newObserving_[e.unboundDepsCount_++]=t,!t.isBeingObserved&&ue.trackingContext&&(t.isBeingObserved=!0,t.onBO())),t.isBeingObserved):(t.observers_.size===0&&ue.inBatch>0&&px(t),!1)}function mx(t){t.lowestObserverState_!==Ge.STALE_&&(t.lowestObserverState_=Ge.STALE_,t.observers_.forEach(function(e){e.dependenciesState_===Ge.UP_TO_DATE_&&e.onBecomeStale_(),e.dependenciesState_=Ge.STALE_}))}function iL(t){t.lowestObserverState_!==Ge.STALE_&&(t.lowestObserverState_=Ge.STALE_,t.observers_.forEach(function(e){e.dependenciesState_===Ge.POSSIBLY_STALE_?e.dependenciesState_=Ge.STALE_:e.dependenciesState_===Ge.UP_TO_DATE_&&(t.lowestObserverState_=Ge.UP_TO_DATE_)}))}function oL(t){t.lowestObserverState_===Ge.UP_TO_DATE_&&(t.lowestObserverState_=Ge.POSSIBLY_STALE_,t.observers_.forEach(function(e){e.dependenciesState_===Ge.UP_TO_DATE_&&(e.dependenciesState_=Ge.POSSIBLY_STALE_,e.onBecomeStale_())}))}var ho=(function(){function t(n,i,r,a){n===void 0&&(n="Reaction"),this.name_=void 0,this.onInvalidate_=void 0,this.errorHandler_=void 0,this.requiresObservable_=void 0,this.observing_=[],this.newObserving_=[],this.dependenciesState_=Ge.NOT_TRACKING_,this.runId_=0,this.unboundDepsCount_=0,this.flags_=0,this.isTracing_=md.NONE,this.name_=n,this.onInvalidate_=i,this.errorHandler_=r,this.requiresObservable_=a}var e=t.prototype;return e.onBecomeStale_=function(){this.schedule_()},e.schedule_=function(){this.isScheduled||(this.isScheduled=!0,ue.pendingReactions.push(this),gx())},e.runReaction_=function(){if(!this.isDisposed){Bn(),this.isScheduled=!1;var i=ue.trackingContext;if(ue.trackingContext=this,iv(this)){this.isTrackPending=!0;try{this.onInvalidate_()}catch(r){this.reportExceptionInDerivation_(r)}}ue.trackingContext=i,Fn()}},e.track=function(i){if(!this.isDisposed){Bn(),this.isRunning=!0;var r=ue.trackingContext;ue.trackingContext=this;var a=lx(this,i,void 0);ue.trackingContext=r,this.isRunning=!1,this.isTrackPending=!1,this.isDisposed&&ov(this),Kf(a)&&this.reportExceptionInDerivation_(a.cause),Fn()}},e.reportExceptionInDerivation_=function(i){var r=this;if(this.errorHandler_){this.errorHandler_(i,this);return}if(ue.disableErrorBoundaries)throw i;var a="[mobx] uncaught error in '"+this+"'";ue.suppressReactionErrors||console.error(a,i),ue.globalReactionErrorHandlers.forEach(function(u){return u(i,r)})},e.dispose=function(){this.isDisposed||(this.isDisposed=!0,this.isRunning||(Bn(),ov(this),Fn()))},e.getDisposer_=function(i){var r=this,a=function u(){r.dispose(),i==null||i.removeEventListener==null||i.removeEventListener("abort",u)};return i==null||i.addEventListener==null||i.addEventListener("abort",a),a[we]=this,"dispose"in Symbol&&typeof Symbol.dispose=="symbol"&&(a[Symbol.dispose]=a),a},e.toString=function(){return"Reaction["+this.name_+"]"},e.trace=function(i){},xa(t,[{key:"isDisposed",get:function(){return _n(this.flags_,t.isDisposedMask_)},set:function(i){this.flags_=Sn(this.flags_,t.isDisposedMask_,i)}},{key:"isScheduled",get:function(){return _n(this.flags_,t.isScheduledMask_)},set:function(i){this.flags_=Sn(this.flags_,t.isScheduledMask_,i)}},{key:"isTrackPending",get:function(){return _n(this.flags_,t.isTrackPendingMask_)},set:function(i){this.flags_=Sn(this.flags_,t.isTrackPendingMask_,i)}},{key:"isRunning",get:function(){return _n(this.flags_,t.isRunningMask_)},set:function(i){this.flags_=Sn(this.flags_,t.isRunningMask_,i)}},{key:"diffValue",get:function(){return _n(this.flags_,t.diffValueMask_)?1:0},set:function(i){this.flags_=Sn(this.flags_,t.diffValueMask_,i===1)}}])})();ho.isDisposedMask_=1;ho.isScheduledMask_=2;ho.isTrackPendingMask_=4;ho.isRunningMask_=8;ho.diffValueMask_=16;var rL=100,rv=function(e){return e()};function gx(){ue.inBatch>0||ue.isRunningReactions||rv(sL)}function sL(){ue.isRunningReactions=!0;for(var t=ue.pendingReactions,e=0;t.length>0;){++e===rL&&(console.error("[mobx] cycle in reaction: "+t[0]),t.splice(0));for(var n=t.splice(0),i=0,r=n.length;i<r;i++)n[i].runReaction_()}ue.isRunningReactions=!1}var vd=lr("Reaction",ho);function aL(t){var e=rv;rv=function(i){return t(function(){return e(i)})}}function eu(){return!1}function lL(t){return console.warn("[mobx.spy] Is a no-op in production builds"),function(){}}var vx="action",uL="action.bound",yx="autoAction",cL="autoAction.bound",_x="<unnamed action>",sv=xu(vx),fL=xu(uL,{bound:!0}),av=xu(yx,{autoAction:!0}),dL=xu(cL,{autoAction:!0,bound:!0});function Sx(t){var e=function(i,r){if(ai(i))return jr(i.name||_x,i,t);if(ai(r))return jr(i,r,t);if(Au(r))return(t?av:sv).decorate_20223_(i,r);if(qr(r))return Tu(i,r,t?av:sv);if(qr(i))return Ai(xu(t?yx:vx,{name:i,autoAction:t}))};return e}var la=Sx(!1);Object.assign(la,sv);var au=Sx(!0);Object.assign(au,av);la.bound=Ai(fL);au.bound=Ai(dL);function Te(t){return ax(t.name||_x,!1,t,this,void 0)}function va(t){return ai(t)&&t.isMobxAction===!0}function pL(t,e){var n,i,r,a;e===void 0&&(e=zA);var u=(n=(i=e)==null?void 0:i.name)!=null?n:"Autorun",c=!e.scheduler&&!e.delay,p;if(c)p=new ho(u,function(){this.track(y)},e.onError,e.requiresObservable);else{var d=mL(e),m=!1;p=new ho(u,function(){m||(m=!0,d(function(){m=!1,p.isDisposed||p.track(y)}))},e.onError,e.requiresObservable)}function y(){t(p)}return(r=e)!=null&&(r=r.signal)!=null&&r.aborted||p.schedule_(),p.getDisposer_((a=e)==null?void 0:a.signal)}var hL=function(e){return e()};function mL(t){return t.scheduler?t.scheduler:t.delay?function(e){return setTimeout(e,t.delay)}:hL}var gL="onBO",vL="onBUO";function yL(t,e,n){return Ex(gL,t,e,n)}function bx(t,e,n){return Ex(vL,t,e,n)}function Ex(t,e,n,i){var r=Sd(e),a=ai(i)?i:n,u=t+"L";return r[u]?r[u].add(a):r[u]=new Set([a]),function(){var c=r[u];c&&(c.delete(a),c.size===0&&delete r[u])}}var _L="never",_f="always",SL="observed";function bL(t){t.isolateGlobalState===!0&&tL();var e=t.useProxies,n=t.enforceActions;if(e!==void 0&&(ue.useProxies=e===_f?!0:e===_L?!1:typeof Proxy<"u"),e==="ifavailable"&&(ue.verifyProxies=!0),n!==void 0){var i=n===_f?_f:n===SL;ue.enforceActions=i,ue.allowStateChanges=!(i===!0||i===_f)}["computedRequiresReaction","reactionRequiresObservable","observableRequiresReaction","disableErrorBoundaries","safeDescriptors"].forEach(function(r){r in t&&(ue[r]=!!t[r])}),ue.allowStateReads=!ue.observableRequiresReaction,t.reactionScheduler&&aL(t.reactionScheduler)}function wx(t,e,n,i){var r=ok(e);return fr(function(){var a=is(t,i)[we];ga(r).forEach(function(u){a.extend_(u,r[u],n&&u in n?n[u]:!0)})}),t}function EL(t,e){return Cx(Sd(t,e))}function Cx(t){var e={name:t.name_};return t.observing_&&t.observing_.length>0&&(e.dependencies=wL(t.observing_).map(Cx)),e}function wL(t){return Array.from(new Set(t))}var CL=0;function Tx(){this.message="FLOW_CANCELLED"}Tx.prototype=Object.create(Error.prototype);var ng=ex("flow"),TL=ex("flow.bound",{bound:!0}),ya=Object.assign(function(e,n){if(Au(n))return ng.decorate_20223_(e,n);if(qr(n))return Tu(e,n,ng);var i=e,r=i.name||"<unnamed flow>",a=function(){var c=this,p=arguments,d=++CL,m=la(r+" - runid: "+d+" - init",i).apply(c,p),y,S=void 0,b=new Promise(function(T,A){var x=0;y=A;function M(D){S=void 0;var L;try{L=la(r+" - runid: "+d+" - yield "+x++,m.next).call(m,D)}catch(U){return A(U)}N(L)}function I(D){S=void 0;var L;try{L=la(r+" - runid: "+d+" - yield "+x++,m.throw).call(m,D)}catch(U){return A(U)}N(L)}function N(D){if(ai(D?.then)){D.then(N,A);return}return D.done?T(D.value):(S=Promise.resolve(D.value),S.then(M,I))}M(void 0)});return b.cancel=la(r+" - runid: "+d+" - cancel",function(){try{S&&YE(S);var T=m.return(void 0),A=Promise.resolve(T.value);A.then(sa,sa),YE(A),y(new Tx)}catch(x){y(x)}}),b};return a.isMobXFlow=!0,a},ng);ya.bound=Ai(TL);function YE(t){ai(t.cancel)&&t.cancel()}function lu(t){return t?.isMobXFlow===!0}function AL(t,e){return t?Du(t)||!!t[we]||ay(t)||vd(t)||Ru(t):!1}function dy(t){return AL(t)}function xL(t){if(Du(t))return t[we].ownKeys_();Be(38)}function Sf(t,e,n){return t.set(e,n),n}function ta(t,e){if(t==null||typeof t!="object"||t instanceof Date||!dy(t))return t;if(Zk(t)||Ru(t))return ta(t.get(),e);if(e.has(t))return e.get(t);if(Iu(t)){var n=Sf(e,t,new Array(t.length));return t.forEach(function(u,c){n[c]=ta(u,e)}),n}if(ei(t)){var i=Sf(e,t,new Set);return t.forEach(function(u){i.add(ta(u,e))}),i}if(cr(t)){var r=Sf(e,t,new Map);return t.forEach(function(u,c){r.set(c,ta(u,e))}),r}else{var a=Sf(e,t,{});return xL(t).forEach(function(u){wu.propertyIsEnumerable.call(t,u)&&(a[u]=ta(t[u],e))}),a}}function ir(t,e){return ta(t,new Map)}function so(t,e){e===void 0&&(e=void 0),Bn();try{return t.apply(e)}finally{Fn()}}function qs(t){return t[we]}var RL={has:function(e,n){return qs(e).has_(n)},get:function(e,n){return qs(e).get_(n)},set:function(e,n,i){var r;return qr(n)?(r=qs(e).set_(n,i,!0))!=null?r:!0:!1},deleteProperty:function(e,n){var i;return qr(n)?(i=qs(e).delete_(n,!0))!=null?i:!0:!1},defineProperty:function(e,n,i){var r;return(r=qs(e).defineProperty_(n,i))!=null?r:!0},ownKeys:function(e){return qs(e).ownKeys_()},preventExtensions:function(e){Be(13)}};function ML(t,e){var n,i;return qA(),t=is(t,e),(i=(n=t[we]).proxy_)!=null?i:n.proxy_=new Proxy(t,RL)}function Ln(t){return t.interceptors_!==void 0&&t.interceptors_.length>0}function Mu(t,e){var n=t.interceptors_||(t.interceptors_=[]);return n.push(e),JA(function(){var i=n.indexOf(e);i!==-1&&n.splice(i,1)})}function Un(t,e){var n=ns();try{for(var i=[].concat(t.interceptors_||[]),r=0,a=i.length;r<a&&(e=i[r](e),e&&!e.type&&Be(14),!!e);r++);return e}finally{co(n)}}function ii(t){return t.changeListeners_!==void 0&&t.changeListeners_.length>0}function Nu(t,e){var n=t.changeListeners_||(t.changeListeners_=[]);return n.push(e),JA(function(){var i=n.indexOf(e);i!==-1&&n.splice(i,1)})}function oi(t,e){var n=ns(),i=t.changeListeners_;if(i){i=i.slice();for(var r=0,a=i.length;r<a;r++)i[r](e);co(n)}}function NL(t,e,n){return fr(function(){var i,r=is(t,n)[we];(i=e)!=null||(e=uk(t)),ga(e).forEach(function(a){return r.make_(a,e[a])})}),t}var ig=Symbol("mobx-keys");function Pi(t,e,n){return po(t)?wx(t,t,e,n):(fr(function(){var i=is(t,n)[we];if(!t[ig]){var r=Object.getPrototypeOf(t),a=new Set([].concat(ga(t),ga(r)));a.delete("constructor"),a.delete(we),Cu(r,ig,a)}t[ig].forEach(function(u){return i.make_(u,e&&u in e?e[u]:!0)})}),t)}var XE="splice",xi="update",IL=1e4,DL={get:function(e,n){var i=e[we];return n===we?i:n==="length"?i.getArrayLength_():typeof n=="string"&&!isNaN(n)?i.get_(parseInt(n)):uo(yd,n)?yd[n]:e[n]},set:function(e,n,i){var r=e[we];return n==="length"&&r.setArrayLength_(i),typeof n=="symbol"||isNaN(n)?e[n]=i:r.set_(parseInt(n),i),!0},preventExtensions:function(){Be(15)}},py=(function(){function t(n,i,r,a){n===void 0&&(n="ObservableArray"),this.owned_=void 0,this.legacyMode_=void 0,this.atom_=void 0,this.values_=[],this.interceptors_=void 0,this.changeListeners_=void 0,this.enhancer_=void 0,this.dehancer=void 0,this.proxy_=void 0,this.lastKnownLength_=0,this.owned_=r,this.legacyMode_=a,this.atom_=new ur(n),this.enhancer_=function(u,c){return i(u,c,"ObservableArray[..]")}}var e=t.prototype;return e.dehanceValue_=function(i){return this.dehancer!==void 0?this.dehancer(i):i},e.dehanceValues_=function(i){return this.dehancer!==void 0&&i.length>0?i.map(this.dehancer):i},e.intercept_=function(i){return Mu(this,i)},e.observe_=function(i,r){return r===void 0&&(r=!1),r&&i({observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:"splice",index:0,added:this.values_.slice(),addedCount:this.values_.length,removed:[],removedCount:0}),Nu(this,i)},e.getArrayLength_=function(){return this.atom_.reportObserved(),this.values_.length},e.setArrayLength_=function(i){(typeof i!="number"||isNaN(i)||i<0)&&Be("Out of range: "+i);var r=this.values_.length;if(i!==r)if(i>r){for(var a=new Array(i-r),u=0;u<i-r;u++)a[u]=void 0;this.spliceWithArray_(r,0,a)}else this.spliceWithArray_(i,r-i)},e.updateArrayLength_=function(i,r){i!==this.lastKnownLength_&&Be(16),this.lastKnownLength_+=r,this.legacyMode_&&r>0&&Dx(i+r+1)},e.spliceWithArray_=function(i,r,a){var u=this;this.atom_;var c=this.values_.length;if(i===void 0?i=0:i>c?i=c:i<0&&(i=Math.max(0,c+i)),arguments.length===1?r=c-i:r==null?r=0:r=Math.max(0,Math.min(r,c-i)),a===void 0&&(a=Zg),Ln(this)){var p=Un(this,{object:this.proxy_,type:XE,index:i,removedCount:r,added:a});if(!p)return Zg;r=p.removedCount,a=p.added}if(a=a.length===0?a:a.map(function(y){return u.enhancer_(y,void 0)}),this.legacyMode_){var d=a.length-r;this.updateArrayLength_(c,d)}var m=this.spliceItemsIntoValues_(i,r,a);return(r!==0||a.length!==0)&&this.notifyArraySplice_(i,a,m),this.dehanceValues_(m)},e.spliceItemsIntoValues_=function(i,r,a){if(a.length<IL){var u;return(u=this.values_).splice.apply(u,[i,r].concat(a))}else{var c=this.values_.slice(i,i+r),p=this.values_.slice(i+r);this.values_.length+=a.length-r;for(var d=0;d<a.length;d++)this.values_[i+d]=a[d];for(var m=0;m<p.length;m++)this.values_[i+a.length+m]=p[m];return c}},e.notifyArrayChildUpdate_=function(i,r,a){var u=!this.owned_&&eu(),c=ii(this),p=c||u?{observableKind:"array",object:this.proxy_,type:xi,debugObjectName:this.atom_.name_,index:i,newValue:r,oldValue:a}:null;this.atom_.reportChanged(),c&&oi(this,p)},e.notifyArraySplice_=function(i,r,a){var u=!this.owned_&&eu(),c=ii(this),p=c||u?{observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:XE,index:i,removed:a,added:r,removedCount:a.length,addedCount:r.length}:null;this.atom_.reportChanged(),c&&oi(this,p)},e.get_=function(i){if(this.legacyMode_&&i>=this.values_.length){console.warn("[mobx] Out of bounds read: "+i);return}return this.atom_.reportObserved(),this.dehanceValue_(this.values_[i])},e.set_=function(i,r){var a=this.values_;if(this.legacyMode_&&i>a.length&&Be(17,i,a.length),i<a.length){this.atom_;var u=a[i];if(Ln(this)){var c=Un(this,{type:xi,object:this.proxy_,index:i,newValue:r});if(!c)return;r=c.newValue}r=this.enhancer_(r,u);var p=r!==u;p&&(a[i]=r,this.notifyArrayChildUpdate_(i,r,u))}else{for(var d=new Array(i+1-a.length),m=0;m<d.length-1;m++)d[m]=void 0;d[d.length-1]=r,this.spliceWithArray_(a.length,0,d)}},t})();function OL(t,e,n,i){return n===void 0&&(n="ObservableArray"),i===void 0&&(i=!1),qA(),fr(function(){var r=new py(n,e,i,!1);jA(r.values_,we,r);var a=new Proxy(r.values_,DL);return r.proxy_=a,t&&t.length&&r.spliceWithArray_(0,0,t),a})}var yd={clear:function(){return this.splice(0)},replace:function(e){var n=this[we];return n.spliceWithArray_(0,n.values_.length,e)},toJSON:function(){return this.slice()},splice:function(e,n){for(var i=arguments.length,r=new Array(i>2?i-2:0),a=2;a<i;a++)r[a-2]=arguments[a];var u=this[we];switch(arguments.length){case 0:return[];case 1:return u.spliceWithArray_(e);case 2:return u.spliceWithArray_(e,n)}return u.spliceWithArray_(e,n,r)},spliceWithArray:function(e,n,i){return this[we].spliceWithArray_(e,n,i)},push:function(){for(var e=this[we],n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return e.spliceWithArray_(e.values_.length,0,i),e.values_.length},pop:function(){return this.splice(Math.max(this[we].values_.length-1,0),1)[0]},shift:function(){return this.splice(0,1)[0]},unshift:function(){for(var e=this[we],n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return e.spliceWithArray_(0,0,i),e.values_.length},reverse:function(){return ue.trackingDerivation&&Be(37,"reverse"),this.replace(this.slice().reverse()),this},sort:function(){ue.trackingDerivation&&Be(37,"sort");var e=this.slice();return e.sort.apply(e,arguments),this.replace(e),this},remove:function(e){var n=this[we],i=n.dehanceValues_(n.values_).indexOf(e);return i>-1?(this.splice(i,1),!0):!1}};nt("at",wn);nt("concat",wn);nt("flat",wn);nt("includes",wn);nt("indexOf",wn);nt("join",wn);nt("lastIndexOf",wn);nt("slice",wn);nt("toString",wn);nt("toLocaleString",wn);nt("toSorted",wn);nt("toSpliced",wn);nt("with",wn);nt("every",fi);nt("filter",fi);nt("find",fi);nt("findIndex",fi);nt("findLast",fi);nt("findLastIndex",fi);nt("flatMap",fi);nt("forEach",fi);nt("map",fi);nt("some",fi);nt("toReversed",fi);nt("reduce",Ax);nt("reduceRight",Ax);function nt(t,e){typeof Array.prototype[t]=="function"&&(yd[t]=e(t))}function wn(t){return function(){var e=this[we];e.atom_.reportObserved();var n=e.dehanceValues_(e.values_);return n[t].apply(n,arguments)}}function fi(t){return function(e,n){var i=this,r=this[we];r.atom_.reportObserved();var a=r.dehanceValues_(r.values_);return a[t](function(u,c){return e.call(n,u,c,i)})}}function Ax(t){return function(){var e=this,n=this[we];n.atom_.reportObserved();var i=n.dehanceValues_(n.values_),r=arguments[0];return arguments[0]=function(a,u,c){return r(a,u,c,e)},i[t].apply(i,arguments)}}var PL=lr("ObservableArrayAdministration",py);function Iu(t){return Xd(t)&&PL(t[we])}var kL={},Zo="add",_d="delete",xx=(function(){function t(n,i,r){var a=this;i===void 0&&(i=Kr),r===void 0&&(r="ObservableMap"),this.enhancer_=void 0,this.name_=void 0,this[we]=kL,this.data_=void 0,this.hasMap_=void 0,this.keysAtom_=void 0,this.interceptors_=void 0,this.changeListeners_=void 0,this.dehancer=void 0,this.enhancer_=i,this.name_=r,ai(Map)||Be(18),fr(function(){a.keysAtom_=QA("ObservableMap.keys()"),a.data_=new Map,a.hasMap_=new Map,n&&a.merge(n)})}var e=t.prototype;return e.has_=function(i){return this.data_.has(i)},e.has=function(i){var r=this;if(!ue.trackingDerivation)return this.has_(i);var a=this.hasMap_.get(i);if(!a){var u=a=new nr(this.has_(i),Wd,"ObservableMap.key?",!1);this.hasMap_.set(i,u),bx(u,function(){return r.hasMap_.delete(i)})}return a.get()},e.set=function(i,r){var a=this.has_(i);if(Ln(this)){var u=Un(this,{type:a?xi:Zo,object:this,newValue:r,name:i});if(!u)return this;r=u.newValue}return a?this.updateValue_(i,r):this.addValue_(i,r),this},e.delete=function(i){var r=this;if(this.keysAtom_,Ln(this)){var a=Un(this,{type:_d,object:this,name:i});if(!a)return!1}if(this.has_(i)){var u=eu(),c=ii(this),p=c||u?{observableKind:"map",debugObjectName:this.name_,type:_d,object:this,oldValue:this.data_.get(i).value_,name:i}:null;return so(function(){var d;r.keysAtom_.reportChanged(),(d=r.hasMap_.get(i))==null||d.setNewValue_(!1);var m=r.data_.get(i);m.setNewValue_(void 0),r.data_.delete(i)}),c&&oi(this,p),!0}return!1},e.updateValue_=function(i,r){var a=this.data_.get(i);if(r=a.prepareNewValue_(r),r!==ue.UNCHANGED){var u=eu(),c=ii(this),p=c||u?{observableKind:"map",debugObjectName:this.name_,type:xi,object:this,oldValue:a.value_,name:i,newValue:r}:null;a.setNewValue_(r),c&&oi(this,p)}},e.addValue_=function(i,r){var a=this;this.keysAtom_,so(function(){var d,m=new nr(r,a.enhancer_,"ObservableMap.key",!1);a.data_.set(i,m),r=m.value_,(d=a.hasMap_.get(i))==null||d.setNewValue_(!0),a.keysAtom_.reportChanged()});var u=eu(),c=ii(this),p=c||u?{observableKind:"map",debugObjectName:this.name_,type:Zo,object:this,name:i,newValue:r}:null;c&&oi(this,p)},e.get=function(i){return this.has(i)?this.dehanceValue_(this.data_.get(i).get()):this.dehanceValue_(void 0)},e.dehanceValue_=function(i){return this.dehancer!==void 0?this.dehancer(i):i},e.keys=function(){return this.keysAtom_.reportObserved(),this.data_.keys()},e.values=function(){var i=this,r=this.keys();return WE({next:function(){var u=r.next(),c=u.done,p=u.value;return{done:c,value:c?void 0:i.get(p)}}})},e.entries=function(){var i=this,r=this.keys();return WE({next:function(){var u=r.next(),c=u.done,p=u.value;return{done:c,value:c?void 0:[p,i.get(p)]}}})},e[Symbol.iterator]=function(){return this.entries()},e.forEach=function(i,r){for(var a=aa(this),u;!(u=a()).done;){var c=u.value,p=c[0],d=c[1];i.call(r,d,p,this)}},e.merge=function(i){var r=this;return cr(i)&&(i=new Map(i)),so(function(){po(i)?ik(i).forEach(function(a){return r.set(a,i[a])}):Array.isArray(i)?i.forEach(function(a){var u=a[0],c=a[1];return r.set(u,c)}):Aa(i)?(nk(i)||Be(19,i),i.forEach(function(a,u){return r.set(u,a)})):i!=null&&Be(20,i)}),this},e.clear=function(){var i=this;so(function(){ux(function(){for(var r=aa(i.keys()),a;!(a=r()).done;){var u=a.value;i.delete(u)}})})},e.replace=function(i){var r=this;return so(function(){for(var a=LL(i),u=new Map,c=!1,p=aa(r.data_.keys()),d;!(d=p()).done;){var m=d.value;if(!a.has(m)){var y=r.delete(m);if(y)c=!0;else{var S=r.data_.get(m);u.set(m,S)}}}for(var b=aa(a.entries()),T;!(T=b()).done;){var A=T.value,x=A[0],M=A[1],I=r.data_.has(x);if(r.set(x,M),r.data_.has(x)){var N=r.data_.get(x);u.set(x,N),I||(c=!0)}}if(!c)if(r.data_.size!==u.size)r.keysAtom_.reportChanged();else for(var D=r.data_.keys(),L=u.keys(),U=D.next(),O=L.next();!U.done;){if(U.value!==O.value){r.keysAtom_.reportChanged();break}U=D.next(),O=L.next()}r.data_=u}),this},e.toString=function(){return"[object ObservableMap]"},e.toJSON=function(){return Array.from(this)},e.observe_=function(i,r){return Nu(this,i)},e.intercept_=function(i){return Mu(this,i)},xa(t,[{key:"size",get:function(){return this.keysAtom_.reportObserved(),this.data_.size}},{key:Symbol.toStringTag,get:function(){return"Map"}}])})(),cr=lr("ObservableMap",xx);function WE(t){return t[Symbol.toStringTag]="MapIterator",my(t)}function LL(t){if(Aa(t)||cr(t))return t;if(Array.isArray(t))return new Map(t);if(po(t)){var e=new Map;for(var n in t)e.set(n,t[n]);return e}else return Be(21,t)}var UL={},Rx=(function(){function t(n,i,r){var a=this;i===void 0&&(i=Kr),r===void 0&&(r="ObservableSet"),this.name_=void 0,this[we]=UL,this.data_=new Set,this.atom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.dehancer=void 0,this.enhancer_=void 0,this.name_=r,ai(Set)||Be(22),this.enhancer_=function(u,c){return i(u,c,r)},fr(function(){a.atom_=QA(a.name_),n&&a.replace(n)})}var e=t.prototype;return e.dehanceValue_=function(i){return this.dehancer!==void 0?this.dehancer(i):i},e.clear=function(){var i=this;so(function(){ux(function(){for(var r=aa(i.data_.values()),a;!(a=r()).done;){var u=a.value;i.delete(u)}})})},e.forEach=function(i,r){for(var a=aa(this),u;!(u=a()).done;){var c=u.value;i.call(r,c,c,this)}},e.add=function(i){var r=this;if(this.atom_,Ln(this)){var a=Un(this,{type:Zo,object:this,newValue:i});if(!a)return this;i=a.newValue}if(!this.has(i)){so(function(){r.data_.add(r.enhancer_(i,void 0)),r.atom_.reportChanged()});var u=!1,c=ii(this),p=c||u?{observableKind:"set",debugObjectName:this.name_,type:Zo,object:this,newValue:i}:null;c&&oi(this,p)}return this},e.delete=function(i){var r=this;if(Ln(this)){var a=Un(this,{type:_d,object:this,oldValue:i});if(!a)return!1}if(this.has(i)){var u=!1,c=ii(this),p=c||u?{observableKind:"set",debugObjectName:this.name_,type:_d,object:this,oldValue:i}:null;return so(function(){r.atom_.reportChanged(),r.data_.delete(i)}),c&&oi(this,p),!0}return!1},e.has=function(i){return this.atom_.reportObserved(),this.data_.has(this.dehanceValue_(i))},e.entries=function(){var i=this.values();return QE({next:function(){var a=i.next(),u=a.value,c=a.done;return c?{value:void 0,done:c}:{value:[u,u],done:c}}})},e.keys=function(){return this.values()},e.values=function(){this.atom_.reportObserved();var i=this,r=this.data_.values();return QE({next:function(){var u=r.next(),c=u.value,p=u.done;return p?{value:void 0,done:p}:{value:i.dehanceValue_(c),done:p}}})},e.intersection=function(i){if(ro(i)&&!ei(i))return i.intersection(this);var r=new Set(this);return r.intersection(i)},e.union=function(i){if(ro(i)&&!ei(i))return i.union(this);var r=new Set(this);return r.union(i)},e.difference=function(i){return new Set(this).difference(i)},e.symmetricDifference=function(i){if(ro(i)&&!ei(i))return i.symmetricDifference(this);var r=new Set(this);return r.symmetricDifference(i)},e.isSubsetOf=function(i){return new Set(this).isSubsetOf(i)},e.isSupersetOf=function(i){return new Set(this).isSupersetOf(i)},e.isDisjointFrom=function(i){if(ro(i)&&!ei(i))return i.isDisjointFrom(this);var r=new Set(this);return r.isDisjointFrom(i)},e.replace=function(i){var r=this;return ei(i)&&(i=new Set(i)),so(function(){Array.isArray(i)?(r.clear(),i.forEach(function(a){return r.add(a)})):ro(i)?(r.clear(),i.forEach(function(a){return r.add(a)})):i!=null&&Be("Cannot initialize set from "+i)}),this},e.observe_=function(i,r){return Nu(this,i)},e.intercept_=function(i){return Mu(this,i)},e.toJSON=function(){return Array.from(this)},e.toString=function(){return"[object ObservableSet]"},e[Symbol.iterator]=function(){return this.values()},xa(t,[{key:"size",get:function(){return this.atom_.reportObserved(),this.data_.size}},{key:Symbol.toStringTag,get:function(){return"Set"}}])})(),ei=lr("ObservableSet",Rx);function QE(t){return t[Symbol.toStringTag]="SetIterator",my(t)}var ZE=Object.create(null),ew="remove",Mx=(function(){function t(n,i,r,a){i===void 0&&(i=new Map),a===void 0&&(a=Ok),this.target_=void 0,this.values_=void 0,this.name_=void 0,this.defaultAnnotation_=void 0,this.keysAtom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.proxy_=void 0,this.isPlainObject_=void 0,this.appliedAnnotations_=void 0,this.pendingKeys_=void 0,this.target_=n,this.values_=i,this.name_=r,this.defaultAnnotation_=a,this.keysAtom_=new ur("ObservableObject.keys"),this.isPlainObject_=po(this.target_)}var e=t.prototype;return e.getObservablePropValue_=function(i){return this.values_.get(i).get()},e.setObservablePropValue_=function(i,r){var a=this.values_.get(i);if(a instanceof li)return a.set(r),!0;if(Ln(this)){var u=Un(this,{type:xi,object:this.proxy_||this.target_,name:i,newValue:r});if(!u)return null;r=u.newValue}if(r=a.prepareNewValue_(r),r!==ue.UNCHANGED){var c=ii(this),p=!1,d=c||p?{type:xi,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,oldValue:a.value_,name:i,newValue:r}:null;a.setNewValue_(r),c&&oi(this,d)}return!0},e.get_=function(i){return ue.trackingDerivation&&!uo(this.target_,i)&&this.has_(i),this.target_[i]},e.set_=function(i,r,a){return a===void 0&&(a=!1),uo(this.target_,i)?this.values_.has(i)?this.setObservablePropValue_(i,r):a?Reflect.set(this.target_,i,r):(this.target_[i]=r,!0):this.extend_(i,{value:r,enumerable:!0,writable:!0,configurable:!0},this.defaultAnnotation_,a)},e.has_=function(i){if(!ue.trackingDerivation)return i in this.target_;this.pendingKeys_||(this.pendingKeys_=new Map);var r=this.pendingKeys_.get(i);return r||(r=new nr(i in this.target_,Wd,"ObservableObject.key?",!1),this.pendingKeys_.set(i,r)),r.get()},e.make_=function(i,r){if(r===!0&&(r=this.defaultAnnotation_),r!==!1){if(!(i in this.target_)){var a;if((a=this.target_[Ei])!=null&&a[i])return;Be(1,r.annotationType_,this.name_+"."+i.toString())}for(var u=this.target_;u&&u!==wu;){var c=dd(u,i);if(c){var p=r.make_(this,i,c,u);if(p===0)return;if(p===1)break}u=Object.getPrototypeOf(u)}nw(this,r,i)}},e.extend_=function(i,r,a,u){if(u===void 0&&(u=!1),a===!0&&(a=this.defaultAnnotation_),a===!1)return this.defineProperty_(i,r,u);var c=a.extend_(this,i,r,u);return c&&nw(this,a,i),c},e.defineProperty_=function(i,r,a){a===void 0&&(a=!1),this.keysAtom_;try{Bn();var u=this.delete_(i);if(!u)return u;if(Ln(this)){var c=Un(this,{object:this.proxy_||this.target_,name:i,type:Zo,newValue:r.value});if(!c)return null;var p=c.newValue;r.value!==p&&(r=Jr({},r,{value:p}))}if(a){if(!Reflect.defineProperty(this.target_,i,r))return!1}else Ti(this.target_,i,r);this.notifyPropertyAddition_(i,r.value)}finally{Fn()}return!0},e.defineObservableProperty_=function(i,r,a,u){u===void 0&&(u=!1),this.keysAtom_;try{Bn();var c=this.delete_(i);if(!c)return c;if(Ln(this)){var p=Un(this,{object:this.proxy_||this.target_,name:i,type:Zo,newValue:r});if(!p)return null;r=p.newValue}var d=tw(i),m={configurable:ue.safeDescriptors?this.isPlainObject_:!0,enumerable:!0,get:d.get,set:d.set};if(u){if(!Reflect.defineProperty(this.target_,i,m))return!1}else Ti(this.target_,i,m);var y=new nr(r,a,"ObservableObject.key",!1);this.values_.set(i,y),this.notifyPropertyAddition_(i,y.value_)}finally{Fn()}return!0},e.defineComputedProperty_=function(i,r,a){a===void 0&&(a=!1),this.keysAtom_;try{Bn();var u=this.delete_(i);if(!u)return u;if(Ln(this)){var c=Un(this,{object:this.proxy_||this.target_,name:i,type:Zo,newValue:void 0});if(!c)return null}r.name||(r.name="ObservableObject.key"),r.context=this.proxy_||this.target_;var p=tw(i),d={configurable:ue.safeDescriptors?this.isPlainObject_:!0,enumerable:!1,get:p.get,set:p.set};if(a){if(!Reflect.defineProperty(this.target_,i,d))return!1}else Ti(this.target_,i,d);this.values_.set(i,new li(r)),this.notifyPropertyAddition_(i,void 0)}finally{Fn()}return!0},e.delete_=function(i,r){if(r===void 0&&(r=!1),this.keysAtom_,!uo(this.target_,i))return!0;if(Ln(this)){var a=Un(this,{object:this.proxy_||this.target_,name:i,type:ew});if(!a)return null}try{var u;Bn();var c=ii(this),p=!1,d=this.values_.get(i),m=void 0;if(!d&&(c||p)){var y;m=(y=dd(this.target_,i))==null?void 0:y.value}if(r){if(!Reflect.deleteProperty(this.target_,i))return!1}else delete this.target_[i];if(d&&(this.values_.delete(i),d instanceof nr&&(m=d.value_),mx(d)),this.keysAtom_.reportChanged(),(u=this.pendingKeys_)==null||(u=u.get(i))==null||u.set(i in this.target_),c||p){var S={type:ew,observableKind:"object",object:this.proxy_||this.target_,debugObjectName:this.name_,oldValue:m,name:i};c&&oi(this,S)}}finally{Fn()}return!0},e.observe_=function(i,r){return Nu(this,i)},e.intercept_=function(i){return Mu(this,i)},e.notifyPropertyAddition_=function(i,r){var a,u=ii(this),c=!1;if(u||c){var p=u||c?{type:Zo,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,name:i,newValue:r}:null;u&&oi(this,p)}(a=this.pendingKeys_)==null||(a=a.get(i))==null||a.set(!0),this.keysAtom_.reportChanged()},e.ownKeys_=function(){return this.keysAtom_.reportObserved(),ga(this.target_)},e.keys_=function(){return this.keysAtom_.reportObserved(),Object.keys(this.target_)},t})();function is(t,e){var n;if(uo(t,we))return t;var i=(n=e?.name)!=null?n:"ObservableObject",r=new Mx(t,new Map,String(i),zk(e));return Cu(t,we,r),t}var BL=lr("ObservableObjectAdministration",Mx);function tw(t){return ZE[t]||(ZE[t]={get:function(){return this[we].getObservablePropValue_(t)},set:function(n){return this[we].setObservablePropValue_(t,n)}})}function Du(t){return Xd(t)?BL(t[we]):!1}function nw(t,e,n){var i;(i=t.target_[Ei])==null||delete i[n]}var FL=Ix(0),$L=(function(){var t=!1,e={};return Object.defineProperty(e,"0",{set:function(){t=!0}}),Object.create(e)[0]=1,t===!1})(),og=0,Nx=function(){};function HL(t,e){Object.setPrototypeOf?Object.setPrototypeOf(t.prototype,e):t.prototype.__proto__!==void 0?t.prototype.__proto__=e:t.prototype=e}HL(Nx,Array.prototype);var hy=(function(t){function e(i,r,a,u){var c;return a===void 0&&(a="ObservableArray"),u===void 0&&(u=!1),c=t.call(this)||this,fr(function(){var p=new py(a,r,u,!0);p.proxy_=c,jA(c,we,p),i&&i.length&&c.spliceWithArray(0,0,i),$L&&Object.defineProperty(c,"0",FL)}),c}WA(e,t);var n=e.prototype;return n.concat=function(){this[we].atom_.reportObserved();for(var r=arguments.length,a=new Array(r),u=0;u<r;u++)a[u]=arguments[u];return Array.prototype.concat.apply(this.slice(),a.map(function(c){return Iu(c)?c.slice():c}))},n[Symbol.iterator]=function(){var i=this,r=0;return my({next:function(){return r<i.length?{value:i[r++],done:!1}:{done:!0,value:void 0}}})},xa(e,[{key:"length",get:function(){return this[we].getArrayLength_()},set:function(r){this[we].setArrayLength_(r)}},{key:Symbol.toStringTag,get:function(){return"Array"}}])})(Nx);Object.entries(yd).forEach(function(t){var e=t[0],n=t[1];e!=="concat"&&Cu(hy.prototype,e,n)});function Ix(t){return{enumerable:!1,configurable:!0,get:function(){return this[we].get_(t)},set:function(n){this[we].set_(t,n)}}}function GL(t){Ti(hy.prototype,""+t,Ix(t))}function Dx(t){if(t>og){for(var e=og;e<t+100;e++)GL(e);og=t}}Dx(1e3);function VL(t,e,n){return new hy(t,e,n)}function Sd(t,e){if(typeof t=="object"&&t!==null){if(Iu(t))return e!==void 0&&Be(23),t[we].atom_;if(ei(t))return t.atom_;if(cr(t)){if(e===void 0)return t.keysAtom_;var n=t.data_.get(e)||t.hasMap_.get(e);return n||Be(25,e,lv(t)),n}if(Du(t)){if(!e)return Be(26);var i=t[we].values_.get(e);return i||Be(27,e,lv(t)),i}if(ay(t)||Ru(t)||vd(t))return t}else if(ai(t)&&vd(t[we]))return t[we];Be(28)}function zL(t,e){if(t||Be(29),ay(t)||Ru(t)||vd(t)||cr(t)||ei(t))return t;if(t[we])return t[we];Be(24,t)}function lv(t,e){var n;if(e!==void 0)n=Sd(t,e);else{if(va(t))return t.name;Du(t)||cr(t)||ei(t)?n=zL(t):n=Sd(t)}return n.name_}function fr(t){var e=ns(),n=uy(!0);Bn();try{return t()}finally{Fn(),cy(n),co(e)}}var iw=wu.toString;function Ox(t,e,n){return n===void 0&&(n=-1),uv(t,e,n)}function uv(t,e,n,i,r){if(t===e)return t!==0||1/t===1/e;if(t==null||e==null)return!1;if(t!==t)return e!==e;var a=typeof t;if(a!=="function"&&a!=="object"&&typeof e!="object")return!1;var u=iw.call(t);if(u!==iw.call(e))return!1;switch(u){case"[object RegExp]":case"[object String]":return""+t==""+e;case"[object Number]":return+t!=+t?+e!=+e:+t==0?1/+t===1/e:+t==+e;case"[object Date]":case"[object Boolean]":return+t==+e;case"[object Symbol]":return typeof Symbol<"u"&&Symbol.valueOf.call(t)===Symbol.valueOf.call(e);case"[object Map]":case"[object Set]":n>=0&&n++;break}t=ow(t),e=ow(e);var c=u==="[object Array]";if(!c){if(typeof t!="object"||typeof e!="object")return!1;var p=t.constructor,d=e.constructor;if(p!==d&&!(ai(p)&&p instanceof p&&ai(d)&&d instanceof d)&&"constructor"in t&&"constructor"in e)return!1}if(n===0)return!1;n<0&&(n=-1),i=i||[],r=r||[];for(var m=i.length;m--;)if(i[m]===t)return r[m]===e;if(i.push(t),r.push(e),c){if(m=t.length,m!==e.length)return!1;for(;m--;)if(!uv(t[m],e[m],n-1,i,r))return!1}else{var y=Object.keys(t),S=y.length;if(Object.keys(e).length!==S)return!1;for(var b=0;b<S;b++){var T=y[b];if(!(uo(e,T)&&uv(t[T],e[T],n-1,i,r)))return!1}}return i.pop(),r.pop(),!0}function ow(t){return Iu(t)?t.slice():Aa(t)||cr(t)||ro(t)||ei(t)?Array.from(t.entries()):t}var rw,qL=((rw=Yd().Iterator)==null?void 0:rw.prototype)||{};function my(t){return t[Symbol.iterator]=JL,Object.assign(Object.create(qL),t)}function JL(){return this}["Symbol","Map","Set"].forEach(function(t){var e=Yd();typeof e[t]>"u"&&Be("MobX requires global '"+t+"' to be available or polyfilled")});typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__=="object"&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:lL,extras:{getDebugName:lv},$mobx:we});if(!w.useState)throw new Error("mobx-react-lite requires React with Hooks support");if(!NL)throw new Error("mobx-react-lite@3 requires mobx at least version 6 to be available");var ep=GA();const Br=Eu(ep);function KL(t){t()}function jL(t){t||(t=KL),bL({reactionScheduler:t})}function YL(t){return EL(t)}var XL=1e4,WL=1e4,QL=(function(){function t(e){var n=this;Object.defineProperty(this,"finalize",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"registrations",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),Object.defineProperty(this,"sweepTimeout",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sweep",{enumerable:!0,configurable:!0,writable:!0,value:function(i){i===void 0&&(i=XL),clearTimeout(n.sweepTimeout),n.sweepTimeout=void 0;var r=Date.now();n.registrations.forEach(function(a,u){r-a.registeredAt>=i&&(n.finalize(a.value),n.registrations.delete(u))}),n.registrations.size>0&&n.scheduleSweep()}}),Object.defineProperty(this,"finalizeAllImmediately",{enumerable:!0,configurable:!0,writable:!0,value:function(){n.sweep(0)}})}return Object.defineProperty(t.prototype,"register",{enumerable:!1,configurable:!0,writable:!0,value:function(e,n,i){this.registrations.set(i,{value:n,registeredAt:Date.now()}),this.scheduleSweep()}}),Object.defineProperty(t.prototype,"unregister",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this.registrations.delete(e)}}),Object.defineProperty(t.prototype,"scheduleSweep",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.sweepTimeout===void 0&&(this.sweepTimeout=setTimeout(this.sweep,WL))}}),t})(),ZL=typeof FinalizationRegistry<"u"?FinalizationRegistry:QL,cv=new ZL(function(t){var e;(e=t.reaction)===null||e===void 0||e.dispose(),t.reaction=null}),rg={exports:{}},sg={};var sw;function eU(){if(sw)return sg;sw=1;var t=jd();function e(y,S){return y===S&&(y!==0||1/y===1/S)||y!==y&&S!==S}var n=typeof Object.is=="function"?Object.is:e,i=t.useState,r=t.useEffect,a=t.useLayoutEffect,u=t.useDebugValue;function c(y,S){var b=S(),T=i({inst:{value:b,getSnapshot:S}}),A=T[0].inst,x=T[1];return a(function(){A.value=b,A.getSnapshot=S,p(A)&&x({inst:A})},[y,b,S]),r(function(){return p(A)&&x({inst:A}),y(function(){p(A)&&x({inst:A})})},[y]),u(b),b}function p(y){var S=y.getSnapshot;y=y.value;try{var b=S();return!n(y,b)}catch{return!0}}function d(y,S){return S()}var m=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?d:c;return sg.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:m,sg}var aw;function tU(){return aw||(aw=1,rg.exports=eU()),rg.exports}var nU=tU();function lw(t){t.reaction=new ho("observer".concat(t.name),function(){var e;t.stateVersion=Symbol(),(e=t.onStoreChange)===null||e===void 0||e.call(t)})}function iU(t,e){e===void 0&&(e="observed");var n=tt.useRef(null);if(!n.current){var i={reaction:null,onStoreChange:null,stateVersion:Symbol(),name:e,subscribe:function(c){return cv.unregister(i),i.onStoreChange=c,i.reaction||(lw(i),i.stateVersion=Symbol()),function(){var p;i.onStoreChange=null,(p=i.reaction)===null||p===void 0||p.dispose(),i.reaction=null}},getSnapshot:function(){return i.stateVersion}};n.current=i}var r=n.current;r.reaction||(lw(r),cv.register(n,r,r)),tt.useDebugValue(r.reaction,YL),nU.useSyncExternalStore(r.subscribe,r.getSnapshot,r.getSnapshot);var a,u;if(r.reaction.track(function(){try{a=t()}catch(c){u=c}}),u)throw u;return a}var ag,lg,Px=typeof Symbol=="function"&&Symbol.for,oU=(lg=(ag=Object.getOwnPropertyDescriptor(function(){},"name"))===null||ag===void 0?void 0:ag.configurable)!==null&&lg!==void 0?lg:!1,uw=Px?Symbol.for("react.forward_ref"):typeof w.forwardRef=="function"&&w.forwardRef(function(t){return null}).$$typeof,cw=Px?Symbol.for("react.memo"):typeof w.memo=="function"&&w.memo(function(t){return null}).$$typeof;function at(t,e){var n;if(cw&&t.$$typeof===cw)throw new Error("[mobx-react-lite] You are trying to use `observer` on a function component wrapped in either another `observer` or `React.memo`. The observer already applies 'React.memo' for you.");var i=(n=void 0)!==null&&n!==void 0?n:!1,r=t,a=t.displayName||t.name;if(uw&&t.$$typeof===uw&&(i=!0,r=t.render,typeof r!="function"))throw new Error("[mobx-react-lite] `render` property of ForwardRef was not a function");var u=function(c,p){return iU(function(){return r(c,p)},a)};return u.displayName=t.displayName,oU&&Object.defineProperty(u,"name",{value:t.name,writable:!0,configurable:!0}),t.contextTypes&&(u.contextTypes=t.contextTypes),i&&(u=w.forwardRef(u)),u=w.memo(u),sU(t,u),u}var rU={$$typeof:!0,render:!0,compare:!0,type:!0,displayName:!0};function sU(t,e){Object.keys(t).forEach(function(n){rU[n]||Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}var ug;jL(ep.unstable_batchedUpdates);ug=cv.finalizeAllImmediately;var cg={exports:{}};var fw;function aU(){return fw||(fw=1,(function(t){(function(){var e={}.hasOwnProperty;function n(){for(var a="",u=0;u<arguments.length;u++){var c=arguments[u];c&&(a=r(a,i(c)))}return a}function i(a){if(typeof a=="string"||typeof a=="number")return a;if(typeof a!="object")return"";if(Array.isArray(a))return n.apply(null,a);if(a.toString!==Object.prototype.toString&&!a.toString.toString().includes("[native code]"))return a.toString();var u="";for(var c in a)e.call(a,c)&&a[c]&&(u=r(u,c));return u}function r(a,u){return u?a?a+" "+u:a+u:a}t.exports?(n.default=n,t.exports=n):window.classNames=n})()})(cg)),cg.exports}var lU=aU();const Ne=Eu(lU);function fv(){return fv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},fv.apply(null,arguments)}function kx(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)!==-1)continue;n[i]=t[i]}return n}function dw(t){return"default"+t.charAt(0).toUpperCase()+t.substr(1)}function uU(t){var e=cU(t,"string");return typeof e=="symbol"?e:String(e)}function cU(t,e){if(typeof t!="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function fU(t,e,n){var i=w.useRef(t!==void 0),r=w.useState(e),a=r[0],u=r[1],c=t!==void 0,p=i.current;return i.current=c,!c&&p&&a!==e&&u(e),[c?t:a,w.useCallback(function(d){for(var m=arguments.length,y=new Array(m>1?m-1:0),S=1;S<m;S++)y[S-1]=arguments[S];n&&n.apply(void 0,[d].concat(y)),u(d)},[n])]}function gy(t,e){return Object.keys(e).reduce(function(n,i){var r,a=n,u=a[dw(i)],c=a[i],p=kx(a,[dw(i),i].map(uU)),d=e[i],m=fU(c,u,t[d]),y=m[0],S=m[1];return fv({},p,(r={},r[i]=y,r[d]=S,r))},t)}function dv(t,e){return dv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},dv(t,e)}function dU(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,dv(t,e)}const pU=["xxl","xl","lg","md","sm","xs"],hU="xs",Ou=w.createContext({prefixes:{},breakpoints:pU,minBreakpoint:hU}),{Consumer:Mj,Provider:Nj}=Ou;function Ue(t,e){const{prefixes:n}=w.useContext(Ou);return t||n[e]||e}function Lx(){const{breakpoints:t}=w.useContext(Ou);return t}function Ux(){const{minBreakpoint:t}=w.useContext(Ou);return t}function mU(){const{dir:t}=w.useContext(Ou);return t==="rtl"}function tp(t){return t&&t.ownerDocument||document}function gU(t){var e=tp(t);return e&&e.defaultView||window}function vU(t,e){return gU(t).getComputedStyle(t,e)}var yU=/([A-Z])/g;function _U(t){return t.replace(yU,"-$1").toLowerCase()}var SU=/^ms-/;function bf(t){return _U(t).replace(SU,"-ms-")}var bU=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function EU(t){return!!(t&&bU.test(t))}function fo(t,e){var n="",i="";if(typeof e=="string")return t.style.getPropertyValue(bf(e))||vU(t).getPropertyValue(bf(e));Object.keys(e).forEach(function(r){var a=e[r];!a&&a!==0?t.style.removeProperty(bf(r)):EU(r)?i+=r+"("+a+") ":n+=bf(r)+": "+a+";"}),i&&(n+="transform: "+i+";"),t.style.cssText+=";"+n}var fg={exports:{}},dg,pw;function wU(){if(pw)return dg;pw=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return dg=t,dg}var pg,hw;function CU(){if(hw)return pg;hw=1;var t=wU();function e(){}function n(){}return n.resetWarningCache=e,pg=function(){function i(u,c,p,d,m,y){if(y!==t){var S=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw S.name="Invariant Violation",S}}i.isRequired=i;function r(){return i}var a={array:i,bigint:i,bool:i,func:i,number:i,object:i,string:i,symbol:i,any:i,arrayOf:r,element:i,elementType:i,instanceOf:r,node:i,objectOf:r,oneOf:r,oneOfType:r,shape:r,exact:r,checkPropTypes:n,resetWarningCache:e};return a.PropTypes=a,a},pg}var mw;function TU(){return mw||(mw=1,fg.exports=CU()()),fg.exports}var AU=TU();const hg=Eu(AU),gw={disabled:!1},Bx=tt.createContext(null);var xU=function(e){return e.scrollTop},$l="unmounted",Qo="exited",Zn="entering",ao="entered",uu="exiting",_o=(function(t){dU(e,t);function e(i,r){var a;a=t.call(this,i,r)||this;var u=r,c=u&&!u.isMounting?i.enter:i.appear,p;return a.appearStatus=null,i.in?c?(p=Qo,a.appearStatus=Zn):p=ao:i.unmountOnExit||i.mountOnEnter?p=$l:p=Qo,a.state={status:p},a.nextCallback=null,a}e.getDerivedStateFromProps=function(r,a){var u=r.in;return u&&a.status===$l?{status:Qo}:null};var n=e.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(r){var a=null;if(r!==this.props){var u=this.state.status;this.props.in?u!==Zn&&u!==ao&&(a=Zn):(u===Zn||u===ao)&&(a=uu)}this.updateStatus(!1,a)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var r=this.props.timeout,a,u,c;return a=u=c=r,r!=null&&typeof r!="number"&&(a=r.exit,u=r.enter,c=r.appear!==void 0?r.appear:u),{exit:a,enter:u,appear:c}},n.updateStatus=function(r,a){if(r===void 0&&(r=!1),a!==null)if(this.cancelNextCallback(),a===Zn){if(this.props.unmountOnExit||this.props.mountOnEnter){var u=this.props.nodeRef?this.props.nodeRef.current:Br.findDOMNode(this);u&&xU(u)}this.performEnter(r)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Qo&&this.setState({status:$l})},n.performEnter=function(r){var a=this,u=this.props.enter,c=this.context?this.context.isMounting:r,p=this.props.nodeRef?[c]:[Br.findDOMNode(this),c],d=p[0],m=p[1],y=this.getTimeouts(),S=c?y.appear:y.enter;if(!r&&!u||gw.disabled){this.safeSetState({status:ao},function(){a.props.onEntered(d)});return}this.props.onEnter(d,m),this.safeSetState({status:Zn},function(){a.props.onEntering(d,m),a.onTransitionEnd(S,function(){a.safeSetState({status:ao},function(){a.props.onEntered(d,m)})})})},n.performExit=function(){var r=this,a=this.props.exit,u=this.getTimeouts(),c=this.props.nodeRef?void 0:Br.findDOMNode(this);if(!a||gw.disabled){this.safeSetState({status:Qo},function(){r.props.onExited(c)});return}this.props.onExit(c),this.safeSetState({status:uu},function(){r.props.onExiting(c),r.onTransitionEnd(u.exit,function(){r.safeSetState({status:Qo},function(){r.props.onExited(c)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(r,a){a=this.setNextCallback(a),this.setState(r,a)},n.setNextCallback=function(r){var a=this,u=!0;return this.nextCallback=function(c){u&&(u=!1,a.nextCallback=null,r(c))},this.nextCallback.cancel=function(){u=!1},this.nextCallback},n.onTransitionEnd=function(r,a){this.setNextCallback(a);var u=this.props.nodeRef?this.props.nodeRef.current:Br.findDOMNode(this),c=r==null&&!this.props.addEndListener;if(!u||c){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var p=this.props.nodeRef?[this.nextCallback]:[u,this.nextCallback],d=p[0],m=p[1];this.props.addEndListener(d,m)}r!=null&&setTimeout(this.nextCallback,r)},n.render=function(){var r=this.state.status;if(r===$l)return null;var a=this.props,u=a.children;a.in,a.mountOnEnter,a.unmountOnExit,a.appear,a.enter,a.exit,a.timeout,a.addEndListener,a.onEnter,a.onEntering,a.onEntered,a.onExit,a.onExiting,a.onExited,a.nodeRef;var c=kx(a,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return tt.createElement(Bx.Provider,{value:null},typeof u=="function"?u(r,c):tt.cloneElement(tt.Children.only(u),c))},e})(tt.Component);_o.contextType=Bx;_o.propTypes={};function Js(){}_o.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Js,onEntering:Js,onEntered:Js,onExit:Js,onExiting:Js,onExited:Js};_o.UNMOUNTED=$l;_o.EXITED=Qo;_o.ENTERING=Zn;_o.ENTERED=ao;_o.EXITING=uu;function RU(t){return t.code==="Escape"||t.keyCode===27}function MU(){const t=w.version.split(".");return{major:+t[0],minor:+t[1],patch:+t[2]}}function Ra(t){if(!t||typeof t=="function")return null;const{major:e}=MU();return e>=19?t.props.ref:t.ref}const np=!!(typeof window<"u"&&window.document&&window.document.createElement);var pv=!1,hv=!1;try{var mg={get passive(){return pv=!0},get once(){return hv=pv=!0}};np&&(window.addEventListener("test",mg,mg),window.removeEventListener("test",mg,!0))}catch{}function Fx(t,e,n,i){if(i&&typeof i!="boolean"&&!hv){var r=i.once,a=i.capture,u=n;!hv&&r&&(u=n.__once||function c(p){this.removeEventListener(e,c,a),n.call(this,p)},n.__once=u),t.addEventListener(e,u,pv?i:a)}t.addEventListener(e,n,i)}function NU(t,e,n,i){var r=i&&typeof i!="boolean"?i.capture:i;t.removeEventListener(e,n,r),n.__once&&t.removeEventListener(e,n.__once,r)}function er(t,e,n,i){return Fx(t,e,n,i),function(){NU(t,e,n,i)}}function IU(t,e,n,i){if(i===void 0&&(i=!0),t){var r=document.createEvent("HTMLEvents");r.initEvent(e,n,i),t.dispatchEvent(r)}}function DU(t){var e=fo(t,"transitionDuration")||"",n=e.indexOf("ms")===-1?1e3:1;return parseFloat(e)*n}function OU(t,e,n){n===void 0&&(n=5);var i=!1,r=setTimeout(function(){i||IU(t,"transitionend",!0)},e+n),a=er(t,"transitionend",function(){i=!0},{once:!0});return function(){clearTimeout(r),a()}}function PU(t,e,n,i){n==null&&(n=DU(t)||0);var r=OU(t,n,i),a=er(t,"transitionend",e);return function(){r(),a()}}function vw(t,e){const n=fo(t,e)||"",i=n.indexOf("ms")===-1?1e3:1;return parseFloat(n)*i}function vy(t,e){const n=vw(t,"transitionDuration"),i=vw(t,"transitionDelay"),r=PU(t,a=>{a.target===t&&(r(),e(a))},n+i)}function Ll(...t){return t.filter(e=>e!=null).reduce((e,n)=>{if(typeof n!="function")throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return e===null?n:function(...r){e.apply(this,r),n.apply(this,r)}},null)}function $x(t){t.offsetHeight}const yw=t=>!t||typeof t=="function"?t:e=>{t.current=e};function kU(t,e){const n=yw(t),i=yw(e);return r=>{n&&n(r),i&&i(r)}}function yy(t,e){return w.useMemo(()=>kU(t,e),[t,e])}function LU(t){return t&&"setState"in t?Br.findDOMNode(t):t??null}const ip=tt.forwardRef(({onEnter:t,onEntering:e,onEntered:n,onExit:i,onExiting:r,onExited:a,addEndListener:u,children:c,childRef:p,...d},m)=>{const y=w.useRef(null),S=yy(y,p),b=U=>{S(LU(U))},T=U=>O=>{U&&y.current&&U(y.current,O)},A=w.useCallback(T(t),[t]),x=w.useCallback(T(e),[e]),M=w.useCallback(T(n),[n]),I=w.useCallback(T(i),[i]),N=w.useCallback(T(r),[r]),D=w.useCallback(T(a),[a]),L=w.useCallback(T(u),[u]);return E.jsx(_o,{ref:m,...d,onEnter:A,onEntered:M,onEntering:x,onExit:I,onExited:D,onExiting:N,addEndListener:L,nodeRef:y,children:typeof c=="function"?(U,O)=>c(U,{...O,ref:b}):tt.cloneElement(c,{ref:b})})});ip.displayName="TransitionWrapper";const UU={height:["marginTop","marginBottom"],width:["marginLeft","marginRight"]};function BU(t,e){const n=`offset${t[0].toUpperCase()}${t.slice(1)}`,i=e[n],r=UU[t];return i+parseInt(fo(e,r[0]),10)+parseInt(fo(e,r[1]),10)}const FU={[Qo]:"collapse",[uu]:"collapsing",[Zn]:"collapsing",[ao]:"collapse show"},Hx=tt.forwardRef(({onEnter:t,onEntering:e,onEntered:n,onExit:i,onExiting:r,className:a,children:u,dimension:c="height",in:p=!1,timeout:d=300,mountOnEnter:m=!1,unmountOnExit:y=!1,appear:S=!1,getDimensionValue:b=BU,...T},A)=>{const x=typeof c=="function"?c():c,M=w.useMemo(()=>Ll(U=>{U.style[x]="0"},t),[x,t]),I=w.useMemo(()=>Ll(U=>{const O=`scroll${x[0].toUpperCase()}${x.slice(1)}`;U.style[x]=`${U[O]}px`},e),[x,e]),N=w.useMemo(()=>Ll(U=>{U.style[x]=null},n),[x,n]),D=w.useMemo(()=>Ll(U=>{U.style[x]=`${b(x,U)}px`,$x(U)},i),[i,b,x]),L=w.useMemo(()=>Ll(U=>{U.style[x]=null},r),[x,r]);return E.jsx(ip,{ref:A,addEndListener:vy,...T,"aria-expanded":T.role?p:null,onEnter:M,onEntering:I,onEntered:N,onExit:D,onExiting:L,childRef:Ra(u),in:p,timeout:d,mountOnEnter:m,unmountOnExit:y,appear:S,children:(U,O)=>tt.cloneElement(u,{...O,className:Ne(a,u.props.className,FU[U],x==="width"&&"collapse-horizontal")})})});Hx.displayName="Collapse";function $U(t){const e=w.useRef(t);return w.useEffect(()=>{e.current=t},[t]),e}function Pu(t){const e=$U(t);return w.useCallback(function(...n){return e.current&&e.current(...n)},[e])}const _y=(t=>w.forwardRef((e,n)=>E.jsx("div",{...e,ref:n,className:Ne(e.className,t)})));function HU(){return w.useState(null)}function GU(t){const e=w.useRef(t);return w.useEffect(()=>{e.current=t},[t]),e}function Ut(t){const e=GU(t);return w.useCallback(function(...n){return e.current&&e.current(...n)},[e])}function VU(t,e,n,i=!1){const r=Ut(n);w.useEffect(()=>{const a=typeof t=="function"?t():t;return a.addEventListener(e,r,i),()=>a.removeEventListener(e,r,i)},[t])}function Gx(){const t=w.useRef(!0),e=w.useRef(()=>t.current);return w.useEffect(()=>(t.current=!0,()=>{t.current=!1}),[]),e.current}function Vx(t){const e=w.useRef(null);return w.useEffect(()=>{e.current=t}),e.current}const zU=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",qU=typeof document<"u",_w=qU||zU?w.useLayoutEffect:w.useEffect,JU=["as","disabled"];function KU(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)>=0)continue;n[i]=t[i]}return n}function jU(t){return!t||t.trim()==="#"}function Sy({tagName:t,disabled:e,href:n,target:i,rel:r,role:a,onClick:u,tabIndex:c=0,type:p}){t||(n!=null||i!=null||r!=null?t="a":t="button");const d={tagName:t};if(t==="button")return[{type:p||"button",disabled:e},d];const m=S=>{if((e||t==="a"&&jU(n))&&S.preventDefault(),e){S.stopPropagation();return}u?.(S)},y=S=>{S.key===" "&&(S.preventDefault(),m(S))};return t==="a"&&(n||(n="#"),e&&(n=void 0)),[{role:a??"button",disabled:void 0,tabIndex:e?void 0:c,href:n,target:t==="a"?i:void 0,"aria-disabled":e||void 0,rel:t==="a"?r:void 0,onClick:m,onKeyDown:y},d]}const by=w.forwardRef((t,e)=>{let{as:n,disabled:i}=t,r=KU(t,JU);const[a,{tagName:u}]=Sy(Object.assign({tagName:n,disabled:i},r));return E.jsx(u,Object.assign({},r,a,{ref:e}))});by.displayName="Button";const YU=["onKeyDown"];function XU(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)>=0)continue;n[i]=t[i]}return n}function WU(t){return!t||t.trim()==="#"}const Ey=w.forwardRef((t,e)=>{let{onKeyDown:n}=t,i=XU(t,YU);const[r]=Sy(Object.assign({tagName:"a"},i)),a=Ut(u=>{r.onKeyDown(u),n?.(u)});return WU(i.href)||i.role==="button"?E.jsx("a",Object.assign({ref:e},i,r,{onKeyDown:a})):E.jsx("a",Object.assign({ref:e},i,{onKeyDown:n}))});Ey.displayName="Anchor";const QU={[Zn]:"show",[ao]:"show"},zx=w.forwardRef(({className:t,children:e,transitionClasses:n={},onEnter:i,...r},a)=>{const u={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,...r},c=w.useCallback((p,d)=>{$x(p),i?.(p,d)},[i]);return E.jsx(ip,{ref:a,addEndListener:vy,...u,onEnter:c,childRef:Ra(e),children:(p,d)=>w.cloneElement(e,{...d,className:Ne("fade",t,e.props.className,QU[p],n[p])})})});zx.displayName="Fade";const ZU={"aria-label":hg.string,onClick:hg.func,variant:hg.oneOf(["white"])},wy=w.forwardRef(({className:t,variant:e,"aria-label":n="Close",...i},r)=>E.jsx("button",{ref:r,type:"button",className:Ne("btn-close",e&&`btn-close-${e}`,t),"aria-label":n,...i}));wy.displayName="CloseButton";wy.propTypes=ZU;const qx=w.forwardRef(({as:t,bsPrefix:e,variant:n="primary",size:i,active:r=!1,disabled:a=!1,className:u,...c},p)=>{const d=Ue(e,"btn"),[m,{tagName:y}]=Sy({tagName:t,disabled:a,...c}),S=y;return E.jsx(S,{...m,...c,ref:p,disabled:a,className:Ne(u,d,r&&"active",n&&`${d}-${n}`,i&&`${d}-${i}`,c.href&&a&&"disabled")})});qx.displayName="Button";const Cy=w.forwardRef(({className:t,bsPrefix:e,as:n="div",...i},r)=>(e=Ue(e,"card-body"),E.jsx(n,{ref:r,className:Ne(t,e),...i})));Cy.displayName="CardBody";const Jx=w.forwardRef(({className:t,bsPrefix:e,as:n="div",...i},r)=>(e=Ue(e,"card-footer"),E.jsx(n,{ref:r,className:Ne(t,e),...i})));Jx.displayName="CardFooter";const Ty=w.createContext(null);Ty.displayName="CardHeaderContext";const Kx=w.forwardRef(({bsPrefix:t,className:e,as:n="div",...i},r)=>{const a=Ue(t,"card-header"),u=w.useMemo(()=>({cardHeaderBsPrefix:a}),[a]);return E.jsx(Ty.Provider,{value:u,children:E.jsx(n,{ref:r,...i,className:Ne(e,a)})})});Kx.displayName="CardHeader";const jx=w.forwardRef(({bsPrefix:t,className:e,variant:n,as:i="img",...r},a)=>{const u=Ue(t,"card-img");return E.jsx(i,{ref:a,className:Ne(n?`${u}-${n}`:u,e),...r})});jx.displayName="CardImg";const Yx=w.forwardRef(({className:t,bsPrefix:e,as:n="div",...i},r)=>(e=Ue(e,"card-img-overlay"),E.jsx(n,{ref:r,className:Ne(t,e),...i})));Yx.displayName="CardImgOverlay";const Xx=w.forwardRef(({className:t,bsPrefix:e,as:n="a",...i},r)=>(e=Ue(e,"card-link"),E.jsx(n,{ref:r,className:Ne(t,e),...i})));Xx.displayName="CardLink";const eB=_y("h6"),Wx=w.forwardRef(({className:t,bsPrefix:e,as:n=eB,...i},r)=>(e=Ue(e,"card-subtitle"),E.jsx(n,{ref:r,className:Ne(t,e),...i})));Wx.displayName="CardSubtitle";const Qx=w.forwardRef(({className:t,bsPrefix:e,as:n="p",...i},r)=>(e=Ue(e,"card-text"),E.jsx(n,{ref:r,className:Ne(t,e),...i})));Qx.displayName="CardText";const tB=_y("h5"),Zx=w.forwardRef(({className:t,bsPrefix:e,as:n=tB,...i},r)=>(e=Ue(e,"card-title"),E.jsx(n,{ref:r,className:Ne(t,e),...i})));Zx.displayName="CardTitle";const eR=w.forwardRef(({bsPrefix:t,className:e,bg:n,text:i,border:r,body:a=!1,children:u,as:c="div",...p},d)=>{const m=Ue(t,"card");return E.jsx(c,{ref:d,...p,className:Ne(e,m,n&&`bg-${n}`,i&&`text-${i}`,r&&`border-${r}`),children:a?E.jsx(Cy,{children:u}):u})});eR.displayName="Card";const Ef=Object.assign(eR,{Img:jx,Title:Zx,Subtitle:Wx,Body:Cy,Link:Xx,Text:Qx,Header:Kx,Footer:Jx,ImgOverlay:Yx});function nB({as:t,bsPrefix:e,className:n,...i}){e=Ue(e,"col");const r=Lx(),a=Ux(),u=[],c=[];return r.forEach(p=>{const d=i[p];delete i[p];let m,y,S;typeof d=="object"&&d!=null?{span:m,offset:y,order:S}=d:m=d;const b=p!==a?`-${p}`:"";m&&u.push(m===!0?`${e}${b}`:`${e}${b}-${m}`),S!=null&&c.push(`order${b}-${S}`),y!=null&&c.push(`offset${b}-${y}`)}),[{...i,className:Ne(n,...u,...c)},{as:t,bsPrefix:e,spans:u}]}const tR=w.forwardRef((t,e)=>{const[{className:n,...i},{as:r="div",bsPrefix:a,spans:u}]=nB(t);return E.jsx(r,{...i,ref:e,className:Ne(n,!u.length&&a)})});tR.displayName="Col";const nR=w.forwardRef(({bsPrefix:t,fluid:e=!1,as:n="div",className:i,...r},a)=>{const u=Ue(t,"container"),c=typeof e=="string"?`-${e}`:"-fluid";return E.jsx(n,{ref:a,...r,className:Ne(i,e?`${u}${c}`:u)})});nR.displayName="Container";var iB=Function.prototype.bind.call(Function.prototype.call,[].slice);function oo(t,e){return iB(t.querySelectorAll(e))}function oB(t,e,n){const i=w.useRef(t!==void 0),[r,a]=w.useState(e),u=t!==void 0,c=i.current;return i.current=u,!u&&c&&r!==e&&a(e),[u?t:r,w.useCallback((...p)=>{const[d,...m]=p;let y=n?.(d,...m);return a(d),y},[n])]}function iR(){const[,t]=w.useReducer(e=>e+1,0);return t}const op=w.createContext(null);var Sw=Object.prototype.hasOwnProperty;function bw(t,e,n){for(n of t.keys())if(tu(n,e))return n}function tu(t,e){var n,i,r;if(t===e)return!0;if(t&&e&&(n=t.constructor)===e.constructor){if(n===Date)return t.getTime()===e.getTime();if(n===RegExp)return t.toString()===e.toString();if(n===Array){if((i=t.length)===e.length)for(;i--&&tu(t[i],e[i]););return i===-1}if(n===Set){if(t.size!==e.size)return!1;for(i of t)if(r=i,r&&typeof r=="object"&&(r=bw(e,r),!r)||!e.has(r))return!1;return!0}if(n===Map){if(t.size!==e.size)return!1;for(i of t)if(r=i[0],r&&typeof r=="object"&&(r=bw(e,r),!r)||!tu(i[1],e.get(r)))return!1;return!0}if(n===ArrayBuffer)t=new Uint8Array(t),e=new Uint8Array(e);else if(n===DataView){if((i=t.byteLength)===e.byteLength)for(;i--&&t.getInt8(i)===e.getInt8(i););return i===-1}if(ArrayBuffer.isView(t)){if((i=t.byteLength)===e.byteLength)for(;i--&&t[i]===e[i];);return i===-1}if(!n||typeof t=="object"){i=0;for(n in t)if(Sw.call(t,n)&&++i&&!Sw.call(e,n)||!(n in e)||!tu(t[n],e[n]))return!1;return Object.keys(e).length===i}}return t!==t&&e!==e}function rB(t){const e=Gx();return[t[0],w.useCallback(n=>{if(e())return t[1](n)},[e,t[1]])]}var tn="top",zn="bottom",qn="right",nn="left",Ay="auto",ku=[tn,zn,qn,nn],_a="start",cu="end",sB="clippingParents",oR="viewport",Ul="popper",aB="reference",Ew=ku.reduce(function(t,e){return t.concat([e+"-"+_a,e+"-"+cu])},[]),rR=[].concat(ku,[Ay]).reduce(function(t,e){return t.concat([e,e+"-"+_a,e+"-"+cu])},[]),lB="beforeRead",uB="read",cB="afterRead",fB="beforeMain",dB="main",pB="afterMain",hB="beforeWrite",mB="write",gB="afterWrite",vB=[lB,uB,cB,fB,dB,pB,hB,mB,gB];function Ri(t){return t.split("-")[0]}function En(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function Yr(t){var e=En(t).Element;return t instanceof e||t instanceof Element}function Mi(t){var e=En(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function xy(t){if(typeof ShadowRoot>"u")return!1;var e=En(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}var Hr=Math.max,bd=Math.min,Sa=Math.round;function mv(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function sR(){return!/^((?!chrome|android).)*safari/i.test(mv())}function ba(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!1);var i=t.getBoundingClientRect(),r=1,a=1;e&&Mi(t)&&(r=t.offsetWidth>0&&Sa(i.width)/t.offsetWidth||1,a=t.offsetHeight>0&&Sa(i.height)/t.offsetHeight||1);var u=Yr(t)?En(t):window,c=u.visualViewport,p=!sR()&&n,d=(i.left+(p&&c?c.offsetLeft:0))/r,m=(i.top+(p&&c?c.offsetTop:0))/a,y=i.width/r,S=i.height/a;return{width:y,height:S,top:m,right:d+y,bottom:m+S,left:d,x:d,y:m}}function Ry(t){var e=ba(t),n=t.offsetWidth,i=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-i)<=1&&(i=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:i}}function aR(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&xy(n)){var i=e;do{if(i&&t.isSameNode(i))return!0;i=i.parentNode||i.host}while(i)}return!1}function or(t){return t?(t.nodeName||"").toLowerCase():null}function mo(t){return En(t).getComputedStyle(t)}function yB(t){return["table","td","th"].indexOf(or(t))>=0}function dr(t){return((Yr(t)?t.ownerDocument:t.document)||window.document).documentElement}function rp(t){return or(t)==="html"?t:t.assignedSlot||t.parentNode||(xy(t)?t.host:null)||dr(t)}function ww(t){return!Mi(t)||mo(t).position==="fixed"?null:t.offsetParent}function _B(t){var e=/firefox/i.test(mv()),n=/Trident/i.test(mv());if(n&&Mi(t)){var i=mo(t);if(i.position==="fixed")return null}var r=rp(t);for(xy(r)&&(r=r.host);Mi(r)&&["html","body"].indexOf(or(r))<0;){var a=mo(r);if(a.transform!=="none"||a.perspective!=="none"||a.contain==="paint"||["transform","perspective"].indexOf(a.willChange)!==-1||e&&a.willChange==="filter"||e&&a.filter&&a.filter!=="none")return r;r=r.parentNode}return null}function Lu(t){for(var e=En(t),n=ww(t);n&&yB(n)&&mo(n).position==="static";)n=ww(n);return n&&(or(n)==="html"||or(n)==="body"&&mo(n).position==="static")?e:n||_B(t)||e}function My(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function nu(t,e,n){return Hr(t,bd(e,n))}function SB(t,e,n){var i=nu(t,e,n);return i>n?n:i}function lR(){return{top:0,right:0,bottom:0,left:0}}function uR(t){return Object.assign({},lR(),t)}function cR(t,e){return e.reduce(function(n,i){return n[i]=t,n},{})}var bB=function(e,n){return e=typeof e=="function"?e(Object.assign({},n.rects,{placement:n.placement})):e,uR(typeof e!="number"?e:cR(e,ku))};function EB(t){var e,n=t.state,i=t.name,r=t.options,a=n.elements.arrow,u=n.modifiersData.popperOffsets,c=Ri(n.placement),p=My(c),d=[nn,qn].indexOf(c)>=0,m=d?"height":"width";if(!(!a||!u)){var y=bB(r.padding,n),S=Ry(a),b=p==="y"?tn:nn,T=p==="y"?zn:qn,A=n.rects.reference[m]+n.rects.reference[p]-u[p]-n.rects.popper[m],x=u[p]-n.rects.reference[p],M=Lu(a),I=M?p==="y"?M.clientHeight||0:M.clientWidth||0:0,N=A/2-x/2,D=y[b],L=I-S[m]-y[T],U=I/2-S[m]/2+N,O=nu(D,U,L),q=p;n.modifiersData[i]=(e={},e[q]=O,e.centerOffset=O-U,e)}}function wB(t){var e=t.state,n=t.options,i=n.element,r=i===void 0?"[data-popper-arrow]":i;r!=null&&(typeof r=="string"&&(r=e.elements.popper.querySelector(r),!r)||aR(e.elements.popper,r)&&(e.elements.arrow=r))}const CB={name:"arrow",enabled:!0,phase:"main",fn:EB,effect:wB,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Ea(t){return t.split("-")[1]}var TB={top:"auto",right:"auto",bottom:"auto",left:"auto"};function AB(t,e){var n=t.x,i=t.y,r=e.devicePixelRatio||1;return{x:Sa(n*r)/r||0,y:Sa(i*r)/r||0}}function Cw(t){var e,n=t.popper,i=t.popperRect,r=t.placement,a=t.variation,u=t.offsets,c=t.position,p=t.gpuAcceleration,d=t.adaptive,m=t.roundOffsets,y=t.isFixed,S=u.x,b=S===void 0?0:S,T=u.y,A=T===void 0?0:T,x=typeof m=="function"?m({x:b,y:A}):{x:b,y:A};b=x.x,A=x.y;var M=u.hasOwnProperty("x"),I=u.hasOwnProperty("y"),N=nn,D=tn,L=window;if(d){var U=Lu(n),O="clientHeight",q="clientWidth";if(U===En(n)&&(U=dr(n),mo(U).position!=="static"&&c==="absolute"&&(O="scrollHeight",q="scrollWidth")),U=U,r===tn||(r===nn||r===qn)&&a===cu){D=zn;var J=y&&U===L&&L.visualViewport?L.visualViewport.height:U[O];A-=J-i.height,A*=p?1:-1}if(r===nn||(r===tn||r===zn)&&a===cu){N=qn;var Y=y&&U===L&&L.visualViewport?L.visualViewport.width:U[q];b-=Y-i.width,b*=p?1:-1}}var W=Object.assign({position:c},d&&TB),re=m===!0?AB({x:b,y:A},En(n)):{x:b,y:A};if(b=re.x,A=re.y,p){var ie;return Object.assign({},W,(ie={},ie[D]=I?"0":"",ie[N]=M?"0":"",ie.transform=(L.devicePixelRatio||1)<=1?"translate("+b+"px, "+A+"px)":"translate3d("+b+"px, "+A+"px, 0)",ie))}return Object.assign({},W,(e={},e[D]=I?A+"px":"",e[N]=M?b+"px":"",e.transform="",e))}function xB(t){var e=t.state,n=t.options,i=n.gpuAcceleration,r=i===void 0?!0:i,a=n.adaptive,u=a===void 0?!0:a,c=n.roundOffsets,p=c===void 0?!0:c,d={placement:Ri(e.placement),variation:Ea(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:r,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,Cw(Object.assign({},d,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:u,roundOffsets:p})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,Cw(Object.assign({},d,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:p})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const RB={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:xB,data:{}};var wf={passive:!0};function MB(t){var e=t.state,n=t.instance,i=t.options,r=i.scroll,a=r===void 0?!0:r,u=i.resize,c=u===void 0?!0:u,p=En(e.elements.popper),d=[].concat(e.scrollParents.reference,e.scrollParents.popper);return a&&d.forEach(function(m){m.addEventListener("scroll",n.update,wf)}),c&&p.addEventListener("resize",n.update,wf),function(){a&&d.forEach(function(m){m.removeEventListener("scroll",n.update,wf)}),c&&p.removeEventListener("resize",n.update,wf)}}const NB={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:MB,data:{}};var IB={left:"right",right:"left",bottom:"top",top:"bottom"};function Xf(t){return t.replace(/left|right|bottom|top/g,function(e){return IB[e]})}var DB={start:"end",end:"start"};function Tw(t){return t.replace(/start|end/g,function(e){return DB[e]})}function Ny(t){var e=En(t),n=e.pageXOffset,i=e.pageYOffset;return{scrollLeft:n,scrollTop:i}}function Iy(t){return ba(dr(t)).left+Ny(t).scrollLeft}function OB(t,e){var n=En(t),i=dr(t),r=n.visualViewport,a=i.clientWidth,u=i.clientHeight,c=0,p=0;if(r){a=r.width,u=r.height;var d=sR();(d||!d&&e==="fixed")&&(c=r.offsetLeft,p=r.offsetTop)}return{width:a,height:u,x:c+Iy(t),y:p}}function PB(t){var e,n=dr(t),i=Ny(t),r=(e=t.ownerDocument)==null?void 0:e.body,a=Hr(n.scrollWidth,n.clientWidth,r?r.scrollWidth:0,r?r.clientWidth:0),u=Hr(n.scrollHeight,n.clientHeight,r?r.scrollHeight:0,r?r.clientHeight:0),c=-i.scrollLeft+Iy(t),p=-i.scrollTop;return mo(r||n).direction==="rtl"&&(c+=Hr(n.clientWidth,r?r.clientWidth:0)-a),{width:a,height:u,x:c,y:p}}function Dy(t){var e=mo(t),n=e.overflow,i=e.overflowX,r=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+r+i)}function fR(t){return["html","body","#document"].indexOf(or(t))>=0?t.ownerDocument.body:Mi(t)&&Dy(t)?t:fR(rp(t))}function iu(t,e){var n;e===void 0&&(e=[]);var i=fR(t),r=i===((n=t.ownerDocument)==null?void 0:n.body),a=En(i),u=r?[a].concat(a.visualViewport||[],Dy(i)?i:[]):i,c=e.concat(u);return r?c:c.concat(iu(rp(u)))}function gv(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function kB(t,e){var n=ba(t,!1,e==="fixed");return n.top=n.top+t.clientTop,n.left=n.left+t.clientLeft,n.bottom=n.top+t.clientHeight,n.right=n.left+t.clientWidth,n.width=t.clientWidth,n.height=t.clientHeight,n.x=n.left,n.y=n.top,n}function Aw(t,e,n){return e===oR?gv(OB(t,n)):Yr(e)?kB(e,n):gv(PB(dr(t)))}function LB(t){var e=iu(rp(t)),n=["absolute","fixed"].indexOf(mo(t).position)>=0,i=n&&Mi(t)?Lu(t):t;return Yr(i)?e.filter(function(r){return Yr(r)&&aR(r,i)&&or(r)!=="body"}):[]}function UB(t,e,n,i){var r=e==="clippingParents"?LB(t):[].concat(e),a=[].concat(r,[n]),u=a[0],c=a.reduce(function(p,d){var m=Aw(t,d,i);return p.top=Hr(m.top,p.top),p.right=bd(m.right,p.right),p.bottom=bd(m.bottom,p.bottom),p.left=Hr(m.left,p.left),p},Aw(t,u,i));return c.width=c.right-c.left,c.height=c.bottom-c.top,c.x=c.left,c.y=c.top,c}function dR(t){var e=t.reference,n=t.element,i=t.placement,r=i?Ri(i):null,a=i?Ea(i):null,u=e.x+e.width/2-n.width/2,c=e.y+e.height/2-n.height/2,p;switch(r){case tn:p={x:u,y:e.y-n.height};break;case zn:p={x:u,y:e.y+e.height};break;case qn:p={x:e.x+e.width,y:c};break;case nn:p={x:e.x-n.width,y:c};break;default:p={x:e.x,y:e.y}}var d=r?My(r):null;if(d!=null){var m=d==="y"?"height":"width";switch(a){case _a:p[d]=p[d]-(e[m]/2-n[m]/2);break;case cu:p[d]=p[d]+(e[m]/2-n[m]/2);break}}return p}function fu(t,e){e===void 0&&(e={});var n=e,i=n.placement,r=i===void 0?t.placement:i,a=n.strategy,u=a===void 0?t.strategy:a,c=n.boundary,p=c===void 0?sB:c,d=n.rootBoundary,m=d===void 0?oR:d,y=n.elementContext,S=y===void 0?Ul:y,b=n.altBoundary,T=b===void 0?!1:b,A=n.padding,x=A===void 0?0:A,M=uR(typeof x!="number"?x:cR(x,ku)),I=S===Ul?aB:Ul,N=t.rects.popper,D=t.elements[T?I:S],L=UB(Yr(D)?D:D.contextElement||dr(t.elements.popper),p,m,u),U=ba(t.elements.reference),O=dR({reference:U,element:N,placement:r}),q=gv(Object.assign({},N,O)),J=S===Ul?q:U,Y={top:L.top-J.top+M.top,bottom:J.bottom-L.bottom+M.bottom,left:L.left-J.left+M.left,right:J.right-L.right+M.right},W=t.modifiersData.offset;if(S===Ul&&W){var re=W[r];Object.keys(Y).forEach(function(ie){var ae=[qn,zn].indexOf(ie)>=0?1:-1,de=[tn,zn].indexOf(ie)>=0?"y":"x";Y[ie]+=re[de]*ae})}return Y}function BB(t,e){e===void 0&&(e={});var n=e,i=n.placement,r=n.boundary,a=n.rootBoundary,u=n.padding,c=n.flipVariations,p=n.allowedAutoPlacements,d=p===void 0?rR:p,m=Ea(i),y=m?c?Ew:Ew.filter(function(T){return Ea(T)===m}):ku,S=y.filter(function(T){return d.indexOf(T)>=0});S.length===0&&(S=y);var b=S.reduce(function(T,A){return T[A]=fu(t,{placement:A,boundary:r,rootBoundary:a,padding:u})[Ri(A)],T},{});return Object.keys(b).sort(function(T,A){return b[T]-b[A]})}function FB(t){if(Ri(t)===Ay)return[];var e=Xf(t);return[Tw(t),e,Tw(e)]}function $B(t){var e=t.state,n=t.options,i=t.name;if(!e.modifiersData[i]._skip){for(var r=n.mainAxis,a=r===void 0?!0:r,u=n.altAxis,c=u===void 0?!0:u,p=n.fallbackPlacements,d=n.padding,m=n.boundary,y=n.rootBoundary,S=n.altBoundary,b=n.flipVariations,T=b===void 0?!0:b,A=n.allowedAutoPlacements,x=e.options.placement,M=Ri(x),I=M===x,N=p||(I||!T?[Xf(x)]:FB(x)),D=[x].concat(N).reduce(function(le,me){return le.concat(Ri(me)===Ay?BB(e,{placement:me,boundary:m,rootBoundary:y,padding:d,flipVariations:T,allowedAutoPlacements:A}):me)},[]),L=e.rects.reference,U=e.rects.popper,O=new Map,q=!0,J=D[0],Y=0;Y<D.length;Y++){var W=D[Y],re=Ri(W),ie=Ea(W)===_a,ae=[tn,zn].indexOf(re)>=0,de=ae?"width":"height",F=fu(e,{placement:W,boundary:m,rootBoundary:y,altBoundary:S,padding:d}),Q=ae?ie?qn:nn:ie?zn:tn;L[de]>U[de]&&(Q=Xf(Q));var ee=Xf(Q),ne=[];if(a&&ne.push(F[re]<=0),c&&ne.push(F[Q]<=0,F[ee]<=0),ne.every(function(le){return le})){J=W,q=!1;break}O.set(W,ne)}if(q)for(var ce=T?3:1,k=function(me){var be=D.find(function(ve){var ze=O.get(ve);if(ze)return ze.slice(0,me).every(function(qe){return qe})});if(be)return J=be,"break"},j=ce;j>0;j--){var se=k(j);if(se==="break")break}e.placement!==J&&(e.modifiersData[i]._skip=!0,e.placement=J,e.reset=!0)}}const HB={name:"flip",enabled:!0,phase:"main",fn:$B,requiresIfExists:["offset"],data:{_skip:!1}};function xw(t,e,n){return n===void 0&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function Rw(t){return[tn,qn,zn,nn].some(function(e){return t[e]>=0})}function GB(t){var e=t.state,n=t.name,i=e.rects.reference,r=e.rects.popper,a=e.modifiersData.preventOverflow,u=fu(e,{elementContext:"reference"}),c=fu(e,{altBoundary:!0}),p=xw(u,i),d=xw(c,r,a),m=Rw(p),y=Rw(d);e.modifiersData[n]={referenceClippingOffsets:p,popperEscapeOffsets:d,isReferenceHidden:m,hasPopperEscaped:y},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":m,"data-popper-escaped":y})}const VB={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:GB};function zB(t,e,n){var i=Ri(t),r=[nn,tn].indexOf(i)>=0?-1:1,a=typeof n=="function"?n(Object.assign({},e,{placement:t})):n,u=a[0],c=a[1];return u=u||0,c=(c||0)*r,[nn,qn].indexOf(i)>=0?{x:c,y:u}:{x:u,y:c}}function qB(t){var e=t.state,n=t.options,i=t.name,r=n.offset,a=r===void 0?[0,0]:r,u=rR.reduce(function(m,y){return m[y]=zB(y,e.rects,a),m},{}),c=u[e.placement],p=c.x,d=c.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=p,e.modifiersData.popperOffsets.y+=d),e.modifiersData[i]=u}const JB={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:qB};function KB(t){var e=t.state,n=t.name;e.modifiersData[n]=dR({reference:e.rects.reference,element:e.rects.popper,placement:e.placement})}const jB={name:"popperOffsets",enabled:!0,phase:"read",fn:KB,data:{}};function YB(t){return t==="x"?"y":"x"}function XB(t){var e=t.state,n=t.options,i=t.name,r=n.mainAxis,a=r===void 0?!0:r,u=n.altAxis,c=u===void 0?!1:u,p=n.boundary,d=n.rootBoundary,m=n.altBoundary,y=n.padding,S=n.tether,b=S===void 0?!0:S,T=n.tetherOffset,A=T===void 0?0:T,x=fu(e,{boundary:p,rootBoundary:d,padding:y,altBoundary:m}),M=Ri(e.placement),I=Ea(e.placement),N=!I,D=My(M),L=YB(D),U=e.modifiersData.popperOffsets,O=e.rects.reference,q=e.rects.popper,J=typeof A=="function"?A(Object.assign({},e.rects,{placement:e.placement})):A,Y=typeof J=="number"?{mainAxis:J,altAxis:J}:Object.assign({mainAxis:0,altAxis:0},J),W=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,re={x:0,y:0};if(U){if(a){var ie,ae=D==="y"?tn:nn,de=D==="y"?zn:qn,F=D==="y"?"height":"width",Q=U[D],ee=Q+x[ae],ne=Q-x[de],ce=b?-q[F]/2:0,k=I===_a?O[F]:q[F],j=I===_a?-q[F]:-O[F],se=e.elements.arrow,le=b&&se?Ry(se):{width:0,height:0},me=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:lR(),be=me[ae],ve=me[de],ze=nu(0,O[F],le[F]),qe=N?O[F]/2-ce-ze-be-Y.mainAxis:k-ze-be-Y.mainAxis,rn=N?-O[F]/2+ce+ze+ve+Y.mainAxis:j+ze+ve+Y.mainAxis,Cn=e.elements.arrow&&Lu(e.elements.arrow),pi=Cn?D==="y"?Cn.clientTop||0:Cn.clientLeft||0:0,qt=(ie=W?.[D])!=null?ie:0,Jt=Q+qe-qt-pi,Ze=Q+rn-qt,Ui=nu(b?bd(ee,Jt):ee,Q,b?Hr(ne,Ze):ne);U[D]=Ui,re[D]=Ui-Q}if(c){var Eo,Xu=D==="x"?tn:nn,Fa=D==="x"?zn:qn,jn=U[L],wo=L==="y"?"height":"width",Wu=jn+x[Xu],Qu=jn-x[Fa],At=[tn,nn].indexOf(M)!==-1,Zu=(Eo=W?.[L])!=null?Eo:0,$a=At?Wu:jn-O[wo]-q[wo]-Zu+Y.altAxis,Ha=At?jn+O[wo]+q[wo]-Zu-Y.altAxis:Qu,mr=b&&At?SB($a,jn,Ha):nu(b?$a:Wu,jn,b?Ha:Qu);U[L]=mr,re[L]=mr-jn}e.modifiersData[i]=re}}const WB={name:"preventOverflow",enabled:!0,phase:"main",fn:XB,requiresIfExists:["offset"]};function QB(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function ZB(t){return t===En(t)||!Mi(t)?Ny(t):QB(t)}function e2(t){var e=t.getBoundingClientRect(),n=Sa(e.width)/t.offsetWidth||1,i=Sa(e.height)/t.offsetHeight||1;return n!==1||i!==1}function t2(t,e,n){n===void 0&&(n=!1);var i=Mi(e),r=Mi(e)&&e2(e),a=dr(e),u=ba(t,r,n),c={scrollLeft:0,scrollTop:0},p={x:0,y:0};return(i||!i&&!n)&&((or(e)!=="body"||Dy(a))&&(c=ZB(e)),Mi(e)?(p=ba(e,!0),p.x+=e.clientLeft,p.y+=e.clientTop):a&&(p.x=Iy(a))),{x:u.left+c.scrollLeft-p.x,y:u.top+c.scrollTop-p.y,width:u.width,height:u.height}}function n2(t){var e=new Map,n=new Set,i=[];t.forEach(function(a){e.set(a.name,a)});function r(a){n.add(a.name);var u=[].concat(a.requires||[],a.requiresIfExists||[]);u.forEach(function(c){if(!n.has(c)){var p=e.get(c);p&&r(p)}}),i.push(a)}return t.forEach(function(a){n.has(a.name)||r(a)}),i}function i2(t){var e=n2(t);return vB.reduce(function(n,i){return n.concat(e.filter(function(r){return r.phase===i}))},[])}function o2(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}function r2(t){var e=t.reduce(function(n,i){var r=n[i.name];return n[i.name]=r?Object.assign({},r,i,{options:Object.assign({},r.options,i.options),data:Object.assign({},r.data,i.data)}):i,n},{});return Object.keys(e).map(function(n){return e[n]})}var Mw={placement:"bottom",modifiers:[],strategy:"absolute"};function Nw(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(i){return!(i&&typeof i.getBoundingClientRect=="function")})}function s2(t){t===void 0&&(t={});var e=t,n=e.defaultModifiers,i=n===void 0?[]:n,r=e.defaultOptions,a=r===void 0?Mw:r;return function(c,p,d){d===void 0&&(d=a);var m={placement:"bottom",orderedModifiers:[],options:Object.assign({},Mw,a),modifiersData:{},elements:{reference:c,popper:p},attributes:{},styles:{}},y=[],S=!1,b={state:m,setOptions:function(M){var I=typeof M=="function"?M(m.options):M;A(),m.options=Object.assign({},a,m.options,I),m.scrollParents={reference:Yr(c)?iu(c):c.contextElement?iu(c.contextElement):[],popper:iu(p)};var N=i2(r2([].concat(i,m.options.modifiers)));return m.orderedModifiers=N.filter(function(D){return D.enabled}),T(),b.update()},forceUpdate:function(){if(!S){var M=m.elements,I=M.reference,N=M.popper;if(Nw(I,N)){m.rects={reference:t2(I,Lu(N),m.options.strategy==="fixed"),popper:Ry(N)},m.reset=!1,m.placement=m.options.placement,m.orderedModifiers.forEach(function(Y){return m.modifiersData[Y.name]=Object.assign({},Y.data)});for(var D=0;D<m.orderedModifiers.length;D++){if(m.reset===!0){m.reset=!1,D=-1;continue}var L=m.orderedModifiers[D],U=L.fn,O=L.options,q=O===void 0?{}:O,J=L.name;typeof U=="function"&&(m=U({state:m,options:q,name:J,instance:b})||m)}}}},update:o2(function(){return new Promise(function(x){b.forceUpdate(),x(m)})}),destroy:function(){A(),S=!0}};if(!Nw(c,p))return b;b.setOptions(d).then(function(x){!S&&d.onFirstUpdate&&d.onFirstUpdate(x)});function T(){m.orderedModifiers.forEach(function(x){var M=x.name,I=x.options,N=I===void 0?{}:I,D=x.effect;if(typeof D=="function"){var L=D({state:m,name:M,instance:b,options:N}),U=function(){};y.push(L||U)}})}function A(){y.forEach(function(x){return x()}),y=[]}return b}}const a2=s2({defaultModifiers:[VB,jB,RB,NB,JB,HB,WB,CB]}),l2=["enabled","placement","strategy","modifiers"];function u2(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)>=0)continue;n[i]=t[i]}return n}const c2={name:"applyStyles",enabled:!1,phase:"afterWrite",fn:()=>{}},f2={name:"ariaDescribedBy",enabled:!0,phase:"afterWrite",effect:({state:t})=>()=>{const{reference:e,popper:n}=t.elements;if("removeAttribute"in e){const i=(e.getAttribute("aria-describedby")||"").split(",").filter(r=>r.trim()!==n.id);i.length?e.setAttribute("aria-describedby",i.join(",")):e.removeAttribute("aria-describedby")}},fn:({state:t})=>{var e;const{popper:n,reference:i}=t.elements,r=(e=n.getAttribute("role"))==null?void 0:e.toLowerCase();if(n.id&&r==="tooltip"&&"setAttribute"in i){const a=i.getAttribute("aria-describedby");if(a&&a.split(",").indexOf(n.id)!==-1)return;i.setAttribute("aria-describedby",a?`${a},${n.id}`:n.id)}}},d2=[];function p2(t,e,n={}){let{enabled:i=!0,placement:r="bottom",strategy:a="absolute",modifiers:u=d2}=n,c=u2(n,l2);const p=w.useRef(u),d=w.useRef(),m=w.useCallback(()=>{var x;(x=d.current)==null||x.update()},[]),y=w.useCallback(()=>{var x;(x=d.current)==null||x.forceUpdate()},[]),[S,b]=rB(w.useState({placement:r,update:m,forceUpdate:y,attributes:{},styles:{popper:{},arrow:{}}})),T=w.useMemo(()=>({name:"updateStateModifier",enabled:!0,phase:"write",requires:["computeStyles"],fn:({state:x})=>{const M={},I={};Object.keys(x.elements).forEach(N=>{M[N]=x.styles[N],I[N]=x.attributes[N]}),b({state:x,styles:M,attributes:I,update:m,forceUpdate:y,placement:x.placement})}}),[m,y,b]),A=w.useMemo(()=>(tu(p.current,u)||(p.current=u),p.current),[u]);return w.useEffect(()=>{!d.current||!i||d.current.setOptions({placement:r,strategy:a,modifiers:[...A,T,c2]})},[a,r,T,i,A]),w.useEffect(()=>{if(!(!i||t==null||e==null))return d.current=a2(t,e,Object.assign({},c,{placement:r,strategy:a,modifiers:[...A,f2,T]})),()=>{d.current!=null&&(d.current.destroy(),d.current=void 0,b(x=>Object.assign({},x,{attributes:{},styles:{popper:{}}})))}},[i,t,e]),S}function Ed(t,e){if(t.contains)return t.contains(e);if(t.compareDocumentPosition)return t===e||!!(t.compareDocumentPosition(e)&16)}var gg,Iw;function h2(){if(Iw)return gg;Iw=1;var t=function(){};return gg=t,gg}var m2=h2();const g2=Eu(m2),Dw=()=>{};function v2(t){return t.button===0}function y2(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}const vg=t=>t&&("current"in t?t.current:t),Ow={click:"mousedown",mouseup:"mousedown",pointerup:"pointerdown"};function _2(t,e=Dw,{disabled:n,clickTrigger:i="click"}={}){const r=w.useRef(!1),a=w.useRef(!1),u=w.useCallback(d=>{const m=vg(t);g2(!!m,"ClickOutside captured a close event but does not have a ref to compare it to. useClickOutside(), should be passed a ref that resolves to a DOM node"),r.current=!m||y2(d)||!v2(d)||!!Ed(m,d.target)||a.current,a.current=!1},[t]),c=Ut(d=>{const m=vg(t);m&&Ed(m,d.target)?a.current=!0:a.current=!1}),p=Ut(d=>{r.current||e(d)});w.useEffect(()=>{var d,m;if(n||t==null)return;const y=tp(vg(t)),S=y.defaultView||window;let b=(d=S.event)!=null?d:(m=S.parent)==null?void 0:m.event,T=null;Ow[i]&&(T=er(y,Ow[i],c,!0));const A=er(y,i,u,!0),x=er(y,i,I=>{if(I===b){b=void 0;return}p(I)});let M=[];return"ontouchstart"in y.documentElement&&(M=[].slice.call(y.body.children).map(I=>er(I,"mousemove",Dw))),()=>{T?.(),A(),x(),M.forEach(I=>I())}},[t,n,i,u,c,p])}function S2(t){const e={};return Array.isArray(t)?(t?.forEach(n=>{e[n.name]=n}),e):t||e}function b2(t={}){return Array.isArray(t)?t:Object.keys(t).map(e=>(t[e].name=e,t[e]))}function E2({enabled:t,enableEvents:e,placement:n,flip:i,offset:r,fixed:a,containerPadding:u,arrowElement:c,popperConfig:p={}}){var d,m,y,S,b;const T=S2(p.modifiers);return Object.assign({},p,{placement:n,enabled:t,strategy:a?"fixed":p.strategy,modifiers:b2(Object.assign({},T,{eventListeners:{enabled:e,options:(d=T.eventListeners)==null?void 0:d.options},preventOverflow:Object.assign({},T.preventOverflow,{options:u?Object.assign({padding:u},(m=T.preventOverflow)==null?void 0:m.options):(y=T.preventOverflow)==null?void 0:y.options}),offset:{options:Object.assign({offset:r},(S=T.offset)==null?void 0:S.options)},arrow:Object.assign({},T.arrow,{enabled:!!c,options:Object.assign({},(b=T.arrow)==null?void 0:b.options,{element:c})}),flip:Object.assign({enabled:!!i},T.flip)}))})}const w2=["children","usePopper"];function C2(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)>=0)continue;n[i]=t[i]}return n}const T2=()=>{};function pR(t={}){const e=w.useContext(op),[n,i]=HU(),r=w.useRef(!1),{flip:a,offset:u,rootCloseEvent:c,fixed:p=!1,placement:d,popperConfig:m={},enableEventListeners:y=!0,usePopper:S=!!e}=t,b=e?.show==null?!!t.show:e.show;b&&!r.current&&(r.current=!0);const T=U=>{e?.toggle(!1,U)},{placement:A,setMenu:x,menuElement:M,toggleElement:I}=e||{},N=p2(I,M,E2({placement:d||A||"bottom-start",enabled:S,enableEvents:y??b,offset:u,flip:a,fixed:p,arrowElement:n,popperConfig:m})),D=Object.assign({ref:x||T2,"aria-labelledby":I?.id},N.attributes.popper,{style:N.styles.popper}),L={show:b,placement:A,hasShown:r.current,toggle:e?.toggle,popper:S?N:null,arrowProps:S?Object.assign({ref:i},N.attributes.arrow,{style:N.styles.arrow}):{}};return _2(M,T,{clickTrigger:c,disabled:!b}),[D,L]}function hR(t){let{children:e,usePopper:n=!0}=t,i=C2(t,w2);const[r,a]=pR(Object.assign({},i,{usePopper:n}));return E.jsx(E.Fragment,{children:e(r,a)})}hR.displayName="DropdownMenu";const mR={prefix:String(Math.round(Math.random()*1e10)),current:0},gR=tt.createContext(mR),A2=tt.createContext(!1);let yg=new WeakMap;function x2(t=!1){let e=w.useContext(gR),n=w.useRef(null);if(n.current===null&&!t){var i,r;let a=(r=tt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED)===null||r===void 0||(i=r.ReactCurrentOwner)===null||i===void 0?void 0:i.current;if(a){let u=yg.get(a);u==null?yg.set(a,{id:e.current,state:a.memoizedState}):a.memoizedState!==u.state&&(e.current=u.id,yg.delete(a))}n.current=++e.current}return n.current}function R2(t){let e=w.useContext(gR),n=x2(!!t),i=`react-aria${e.prefix}`;return t||`${i}-${n}`}function M2(t){let e=tt.useId(),[n]=w.useState(P2()),i=n?"react-aria":`react-aria${mR.prefix}`;return t||`${i}-${e}`}const N2=typeof tt.useId=="function"?M2:R2;function I2(){return!1}function D2(){return!0}function O2(t){return()=>{}}function P2(){return typeof tt.useSyncExternalStore=="function"?tt.useSyncExternalStore(O2,I2,D2):w.useContext(A2)}const vR=t=>{var e;return((e=t.getAttribute("role"))==null?void 0:e.toLowerCase())==="menu"},Pw=()=>{};function yR(){const t=N2(),{show:e=!1,toggle:n=Pw,setToggle:i,menuElement:r}=w.useContext(op)||{},a=w.useCallback(c=>{n(!e,c)},[e,n]),u={id:t,ref:i||Pw,onClick:a,"aria-expanded":!!e};return r&&vR(r)&&(u["aria-haspopup"]=!0),[u,{show:e,toggle:n}]}function _R({children:t}){const[e,n]=yR();return E.jsx(E.Fragment,{children:t(e,n)})}_R.displayName="DropdownToggle";const Xr=w.createContext(null),du=(t,e=null)=>t!=null?String(t):e||null,sp=w.createContext(null);sp.displayName="NavContext";const k2="data-rr-ui-",L2="rrUi";function Ma(t){return`${k2}${t}`}function U2(t){return`${L2}${t}`}const B2=["eventKey","disabled","onClick","active","as"];function F2(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)>=0)continue;n[i]=t[i]}return n}function SR({key:t,href:e,active:n,disabled:i,onClick:r}){const a=w.useContext(Xr),u=w.useContext(sp),{activeKey:c}=u||{},p=du(t,e),d=n==null&&t!=null?du(c)===p:n;return[{onClick:Ut(y=>{i||(r?.(y),a&&!y.isPropagationStopped()&&a(p,y))}),"aria-disabled":i||void 0,"aria-selected":d,[Ma("dropdown-item")]:""},{isActive:d}]}const bR=w.forwardRef((t,e)=>{let{eventKey:n,disabled:i,onClick:r,active:a,as:u=by}=t,c=F2(t,B2);const[p]=SR({key:n,href:c.href,disabled:i,onClick:r,active:a});return E.jsx(u,Object.assign({},c,{ref:e},p))});bR.displayName="DropdownItem";const ER=w.createContext(np?window:void 0);ER.Provider;function ap(){return w.useContext(ER)}function kw(){const t=iR(),e=w.useRef(null),n=w.useCallback(i=>{e.current=i,t()},[t]);return[e,n]}function Uu({defaultShow:t,show:e,onSelect:n,onToggle:i,itemSelector:r=`* [${Ma("dropdown-item")}]`,focusFirstItemOnShow:a,placement:u="bottom-start",children:c}){const p=ap(),[d,m]=oB(e,t,i),[y,S]=kw(),b=y.current,[T,A]=kw(),x=T.current,M=Vx(d),I=w.useRef(null),N=w.useRef(!1),D=w.useContext(Xr),L=w.useCallback((W,re,ie=re?.type)=>{m(W,{originalEvent:re,source:ie})},[m]),U=Ut((W,re)=>{n?.(W,re),L(!1,re,"select"),re.isPropagationStopped()||D?.(W,re)}),O=w.useMemo(()=>({toggle:L,placement:u,show:d,menuElement:b,toggleElement:x,setMenu:S,setToggle:A}),[L,u,d,b,x,S,A]);b&&M&&!d&&(N.current=b.contains(b.ownerDocument.activeElement));const q=Ut(()=>{x&&x.focus&&x.focus()}),J=Ut(()=>{const W=I.current;let re=a;if(re==null&&(re=y.current&&vR(y.current)?"keyboard":!1),re===!1||re==="keyboard"&&!/^key.+$/.test(W))return;const ie=oo(y.current,r)[0];ie&&ie.focus&&ie.focus()});w.useEffect(()=>{d?J():N.current&&(N.current=!1,q())},[d,N,q,J]),w.useEffect(()=>{I.current=null});const Y=(W,re)=>{if(!y.current)return null;const ie=oo(y.current,r);let ae=ie.indexOf(W)+re;return ae=Math.max(0,Math.min(ae,ie.length)),ie[ae]};return VU(w.useCallback(()=>p.document,[p]),"keydown",W=>{var re,ie;const{key:ae}=W,de=W.target,F=(re=y.current)==null?void 0:re.contains(de),Q=(ie=T.current)==null?void 0:ie.contains(de);if(/input|textarea/i.test(de.tagName)&&(ae===" "||ae!=="Escape"&&F||ae==="Escape"&&de.type==="search")||!F&&!Q||ae==="Tab"&&(!y.current||!d))return;I.current=W.type;const ne={originalEvent:W,source:W.type};switch(ae){case"ArrowUp":{const ce=Y(de,-1);ce&&ce.focus&&ce.focus(),W.preventDefault();return}case"ArrowDown":if(W.preventDefault(),!d)m(!0,ne);else{const ce=Y(de,1);ce&&ce.focus&&ce.focus()}return;case"Tab":Fx(de.ownerDocument,"keyup",ce=>{var k;(ce.key==="Tab"&&!ce.target||!((k=y.current)!=null&&k.contains(ce.target)))&&m(!1,ne)},{once:!0});break;case"Escape":ae==="Escape"&&(W.preventDefault(),W.stopPropagation()),m(!1,ne);break}}),E.jsx(Xr.Provider,{value:U,children:E.jsx(op.Provider,{value:O,children:c})})}Uu.displayName="Dropdown";Uu.Menu=hR;Uu.Toggle=_R;Uu.Item=bR;const Oy=w.createContext({});Oy.displayName="DropdownContext";const wR=w.forwardRef(({className:t,bsPrefix:e,as:n="hr",role:i="separator",...r},a)=>(e=Ue(e,"dropdown-divider"),E.jsx(n,{ref:a,className:Ne(t,e),role:i,...r})));wR.displayName="DropdownDivider";const CR=w.forwardRef(({className:t,bsPrefix:e,as:n="div",role:i="heading",...r},a)=>(e=Ue(e,"dropdown-header"),E.jsx(n,{ref:a,className:Ne(t,e),role:i,...r})));CR.displayName="DropdownHeader";const TR=w.forwardRef(({bsPrefix:t,className:e,eventKey:n,disabled:i=!1,onClick:r,active:a,as:u=Ey,...c},p)=>{const d=Ue(t,"dropdown-item"),[m,y]=SR({key:n,href:c.href,disabled:i,onClick:r,active:a});return E.jsx(u,{...c,...m,ref:p,className:Ne(e,d,y.isActive&&"active",i&&"disabled")})});TR.displayName="DropdownItem";const AR=w.forwardRef(({className:t,bsPrefix:e,as:n="span",...i},r)=>(e=Ue(e,"dropdown-item-text"),E.jsx(n,{ref:r,className:Ne(t,e),...i})));AR.displayName="DropdownItemText";const $2=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",H2=typeof document<"u",xR=H2||$2?w.useLayoutEffect:w.useEffect,Py=w.createContext(null);Py.displayName="InputGroupContext";const os=w.createContext(null);os.displayName="NavbarContext";function RR(t,e){return t}function MR(t,e,n){const i=n?"top-end":"top-start",r=n?"top-start":"top-end",a=n?"bottom-end":"bottom-start",u=n?"bottom-start":"bottom-end",c=n?"right-start":"left-start",p=n?"right-end":"left-end",d=n?"left-start":"right-start",m=n?"left-end":"right-end";let y=t?u:a;return e==="up"?y=t?r:i:e==="end"?y=t?m:d:e==="start"?y=t?p:c:e==="down-centered"?y="bottom":e==="up-centered"&&(y="top"),y}const NR=w.forwardRef(({bsPrefix:t,className:e,align:n,rootCloseEvent:i,flip:r=!0,show:a,renderOnMount:u,as:c="div",popperConfig:p,variant:d,...m},y)=>{let S=!1;const b=w.useContext(os),T=Ue(t,"dropdown-menu"),{align:A,drop:x,isRTL:M}=w.useContext(Oy);n=n||A;const I=w.useContext(Py),N=[];if(n)if(typeof n=="object"){const W=Object.keys(n);if(W.length){const re=W[0],ie=n[re];S=ie==="start",N.push(`${T}-${re}-${ie}`)}}else n==="end"&&(S=!0);const D=MR(S,x,M),[L,{hasShown:U,popper:O,show:q,toggle:J}]=pR({flip:r,rootCloseEvent:i,show:a,usePopper:!b&&N.length===0,offset:[0,2],popperConfig:p,placement:D});if(L.ref=yy(RR(y),L.ref),xR(()=>{q&&O?.update()},[q]),!U&&!u&&!I)return null;typeof c!="string"&&(L.show=q,L.close=()=>J?.(!1),L.align=n);let Y=m.style;return O!=null&&O.placement&&(Y={...m.style,...L.style},m["x-placement"]=O.placement),E.jsx(c,{...m,...L,style:Y,...(N.length||b)&&{"data-bs-popper":"static"},className:Ne(e,T,q&&"show",S&&`${T}-end`,d&&`${T}-${d}`,...N)})});NR.displayName="DropdownMenu";const IR=w.forwardRef(({bsPrefix:t,split:e,className:n,childBsPrefix:i,as:r=qx,...a},u)=>{const c=Ue(t,"dropdown-toggle"),p=w.useContext(op);i!==void 0&&(a.bsPrefix=i);const[d]=yR();return d.ref=yy(d.ref,RR(u)),E.jsx(r,{className:Ne(n,c,e&&`${c}-split`,p?.show&&"show"),...d,...a})});IR.displayName="DropdownToggle";const DR=w.forwardRef((t,e)=>{const{bsPrefix:n,drop:i="down",show:r,className:a,align:u="start",onSelect:c,onToggle:p,focusFirstItemOnShow:d,as:m="div",navbar:y,autoClose:S=!0,...b}=gy(t,{show:"onToggle"}),T=w.useContext(Py),A=Ue(n,"dropdown"),x=mU(),M=O=>S===!1?O==="click":S==="inside"?O!=="rootClose":S==="outside"?O!=="select":!0,I=Pu((O,q)=>{var J;!((J=q.originalEvent)==null||(J=J.target)==null)&&J.classList.contains("dropdown-toggle")&&q.source==="mousedown"||(q.originalEvent.currentTarget===document&&(q.source!=="keydown"||q.originalEvent.key==="Escape")&&(q.source="rootClose"),M(q.source)&&p?.(O,q))}),D=MR(u==="end",i,x),L=w.useMemo(()=>({align:u,drop:i,isRTL:x}),[u,i,x]),U={down:A,"down-centered":`${A}-center`,up:"dropup","up-centered":"dropup-center dropup",end:"dropend",start:"dropstart"};return E.jsx(Oy.Provider,{value:L,children:E.jsx(Uu,{placement:D,show:r,onSelect:c,onToggle:I,focusFirstItemOnShow:d,itemSelector:`.${A}-item:not(.disabled):not(:disabled)`,children:T?b.children:E.jsx(m,{...b,ref:e,className:Ne(a,r&&"show",U[i])})})})});DR.displayName="Dropdown";const Cf=Object.assign(DR,{Toggle:IR,Menu:NR,Item:TR,ItemText:AR,Divider:wR,Header:CR}),Lw=t=>!t||typeof t=="function"?t:e=>{t.current=e};function G2(t,e){const n=Lw(t),i=Lw(e);return r=>{n&&n(r),i&&i(r)}}function lp(t,e){return w.useMemo(()=>G2(t,e),[t,e])}const OR=w.createContext(null),V2=["as","active","eventKey"];function z2(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)>=0)continue;n[i]=t[i]}return n}function PR({key:t,onClick:e,active:n,id:i,role:r,disabled:a}){const u=w.useContext(Xr),c=w.useContext(sp),p=w.useContext(OR);let d=n;const m={role:r};if(c){!r&&c.role==="tablist"&&(m.role="tab");const y=c.getControllerId(t??null),S=c.getControlledId(t??null);m[Ma("event-key")]=t,m.id=y||i,d=n==null&&t!=null?c.activeKey===t:n,(d||!(p!=null&&p.unmountOnExit)&&!(p!=null&&p.mountOnEnter))&&(m["aria-controls"]=S)}return m.role==="tab"&&(m["aria-selected"]=d,d||(m.tabIndex=-1),a&&(m.tabIndex=-1,m["aria-disabled"]=!0)),m.onClick=Ut(y=>{a||(e?.(y),t!=null&&u&&!y.isPropagationStopped()&&u(t,y))}),[m,{isActive:d}]}const kR=w.forwardRef((t,e)=>{let{as:n=by,active:i,eventKey:r}=t,a=z2(t,V2);const[u,c]=PR(Object.assign({key:du(r,a.href),active:i},a));return u[Ma("active")]=c.isActive,E.jsx(n,Object.assign({},a,u,{ref:e}))});kR.displayName="NavItem";const q2=["as","onSelect","activeKey","role","onKeyDown"];function J2(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)>=0)continue;n[i]=t[i]}return n}const Uw=()=>{},Bw=Ma("event-key"),LR=w.forwardRef((t,e)=>{let{as:n="div",onSelect:i,activeKey:r,role:a,onKeyDown:u}=t,c=J2(t,q2);const p=iR(),d=w.useRef(!1),m=w.useContext(Xr),y=w.useContext(OR);let S,b;y&&(a=a||"tablist",r=y.activeKey,S=y.getControlledId,b=y.getControllerId);const T=w.useRef(null),A=N=>{const D=T.current;if(!D)return null;const L=oo(D,`[${Bw}]:not([aria-disabled=true])`),U=D.querySelector("[aria-selected=true]");if(!U||U!==document.activeElement)return null;const O=L.indexOf(U);if(O===-1)return null;let q=O+N;return q>=L.length&&(q=0),q<0&&(q=L.length-1),L[q]},x=(N,D)=>{N!=null&&(i?.(N,D),m?.(N,D))},M=N=>{if(u?.(N),!y)return;let D;switch(N.key){case"ArrowLeft":case"ArrowUp":D=A(-1);break;case"ArrowRight":case"ArrowDown":D=A(1);break;default:return}D&&(N.preventDefault(),x(D.dataset[U2("EventKey")]||null,N),d.current=!0,p())};w.useEffect(()=>{if(T.current&&d.current){const N=T.current.querySelector(`[${Bw}][aria-selected=true]`);N?.focus()}d.current=!1});const I=lp(e,T);return E.jsx(Xr.Provider,{value:x,children:E.jsx(sp.Provider,{value:{role:a,activeKey:du(r),getControlledId:S||Uw,getControllerId:b||Uw},children:E.jsx(n,Object.assign({},c,{onKeyDown:M,ref:I,role:a}))})})});LR.displayName="Nav";const K2=Object.assign(LR,{Item:kR});function _g(t){t===void 0&&(t=tp());try{var e=t.activeElement;return!e||!e.nodeName?null:e}catch{return t.body}}function j2(t){const e=w.useRef(t);return e.current=t,e}function Y2(t){const e=j2(t);w.useEffect(()=>()=>e.current(),[])}function X2(t=document){const e=t.defaultView;return Math.abs(e.innerWidth-t.documentElement.clientWidth)}const Fw=Ma("modal-open");class ky{constructor({ownerDocument:e,handleContainerOverflow:n=!0,isRTL:i=!1}={}){this.handleContainerOverflow=n,this.isRTL=i,this.modals=[],this.ownerDocument=e}getScrollbarWidth(){return X2(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes(e){}removeModalAttributes(e){}setContainerStyle(e){const n={overflow:"hidden"},i=this.isRTL?"paddingLeft":"paddingRight",r=this.getElement();e.style={overflow:r.style.overflow,[i]:r.style[i]},e.scrollBarWidth&&(n[i]=`${parseInt(fo(r,i)||"0",10)+e.scrollBarWidth}px`),r.setAttribute(Fw,""),fo(r,n)}reset(){[...this.modals].forEach(e=>this.remove(e))}removeContainerStyle(e){const n=this.getElement();n.removeAttribute(Fw),Object.assign(n.style,e.style)}add(e){let n=this.modals.indexOf(e);return n!==-1||(n=this.modals.length,this.modals.push(e),this.setModalAttributes(e),n!==0)||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),n}remove(e){const n=this.modals.indexOf(e);n!==-1&&(this.modals.splice(n,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(e))}isTopModal(e){return!!this.modals.length&&this.modals[this.modals.length-1]===e}}const Sg=(t,e)=>np?t==null?(e||tp()).body:(typeof t=="function"&&(t=t()),t&&"current"in t&&(t=t.current),t&&("nodeType"in t||t.getBoundingClientRect)?t:null):null;function W2(t,e){const n=ap(),[i,r]=w.useState(()=>Sg(t,n?.document));if(!i){const a=Sg(t);a&&r(a)}return w.useEffect(()=>{},[e,i]),w.useEffect(()=>{const a=Sg(t);a!==i&&r(a)},[t,i]),i}function Q2({children:t,in:e,onExited:n,mountOnEnter:i,unmountOnExit:r}){const a=w.useRef(null),u=w.useRef(e),c=Ut(n);w.useEffect(()=>{e?u.current=!0:c(a.current)},[e,c]);const p=lp(a,Ra(t)),d=w.cloneElement(t,{ref:p});return e?d:r||!u.current&&i?null:d}const Z2=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children"];function eF(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)>=0)continue;n[i]=t[i]}return n}function tF(t){let{onEnter:e,onEntering:n,onEntered:i,onExit:r,onExiting:a,onExited:u,addEndListener:c,children:p}=t,d=eF(t,Z2);const m=w.useRef(null),y=lp(m,Ra(p)),S=D=>L=>{D&&m.current&&D(m.current,L)},b=w.useCallback(S(e),[e]),T=w.useCallback(S(n),[n]),A=w.useCallback(S(i),[i]),x=w.useCallback(S(r),[r]),M=w.useCallback(S(a),[a]),I=w.useCallback(S(u),[u]),N=w.useCallback(S(c),[c]);return Object.assign({},d,{nodeRef:m},e&&{onEnter:b},n&&{onEntering:T},i&&{onEntered:A},r&&{onExit:x},a&&{onExiting:M},u&&{onExited:I},c&&{addEndListener:N},{children:typeof p=="function"?(D,L)=>p(D,Object.assign({},L,{ref:y})):w.cloneElement(p,{ref:y})})}const nF=["component"];function iF(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)>=0)continue;n[i]=t[i]}return n}const oF=w.forwardRef((t,e)=>{let{component:n}=t,i=iF(t,nF);const r=tF(i);return E.jsx(n,Object.assign({ref:e},r))});function rF({in:t,onTransition:e}){const n=w.useRef(null),i=w.useRef(!0),r=Ut(e);return _w(()=>{if(!n.current)return;let a=!1;return r({in:t,element:n.current,initial:i.current,isStale:()=>a}),()=>{a=!0}},[t,r]),_w(()=>(i.current=!1,()=>{i.current=!0}),[]),n}function sF({children:t,in:e,onExited:n,onEntered:i,transition:r}){const[a,u]=w.useState(!e);e&&a&&u(!1);const c=rF({in:!!e,onTransition:d=>{const m=()=>{d.isStale()||(d.in?i?.(d.element,d.initial):(u(!0),n?.(d.element)))};Promise.resolve(r(d)).then(m,y=>{throw d.in||u(!0),y})}}),p=lp(c,Ra(t));return a&&!e?null:w.cloneElement(t,{ref:p})}function $w(t,e,n){return t?E.jsx(oF,Object.assign({},n,{component:t})):e?E.jsx(sF,Object.assign({},n,{transition:e})):E.jsx(Q2,Object.assign({},n))}const aF=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];function lF(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)>=0)continue;n[i]=t[i]}return n}let bg;function uF(t){return bg||(bg=new ky({ownerDocument:t?.document})),bg}function cF(t){const e=ap(),n=t||uF(e),i=w.useRef({dialog:null,backdrop:null});return Object.assign(i.current,{add:()=>n.add(i.current),remove:()=>n.remove(i.current),isTopModal:()=>n.isTopModal(i.current),setDialogRef:w.useCallback(r=>{i.current.dialog=r},[]),setBackdropRef:w.useCallback(r=>{i.current.backdrop=r},[])})}const UR=w.forwardRef((t,e)=>{let{show:n=!1,role:i="dialog",className:r,style:a,children:u,backdrop:c=!0,keyboard:p=!0,onBackdropClick:d,onEscapeKeyDown:m,transition:y,runTransition:S,backdropTransition:b,runBackdropTransition:T,autoFocus:A=!0,enforceFocus:x=!0,restoreFocus:M=!0,restoreFocusOptions:I,renderDialog:N,renderBackdrop:D=Ze=>E.jsx("div",Object.assign({},Ze)),manager:L,container:U,onShow:O,onHide:q=()=>{},onExit:J,onExited:Y,onExiting:W,onEnter:re,onEntering:ie,onEntered:ae}=t,de=lF(t,aF);const F=ap(),Q=W2(U),ee=cF(L),ne=Gx(),ce=Vx(n),[k,j]=w.useState(!n),se=w.useRef(null);w.useImperativeHandle(e,()=>ee,[ee]),np&&!ce&&n&&(se.current=_g(F?.document)),n&&k&&j(!1);const le=Ut(()=>{if(ee.add(),rn.current=er(document,"keydown",ze),qe.current=er(document,"focus",()=>setTimeout(be),!0),O&&O(),A){var Ze,Ui;const Eo=_g((Ze=(Ui=ee.dialog)==null?void 0:Ui.ownerDocument)!=null?Ze:F?.document);ee.dialog&&Eo&&!Ed(ee.dialog,Eo)&&(se.current=Eo,ee.dialog.focus())}}),me=Ut(()=>{if(ee.remove(),rn.current==null||rn.current(),qe.current==null||qe.current(),M){var Ze;(Ze=se.current)==null||Ze.focus==null||Ze.focus(I),se.current=null}});w.useEffect(()=>{!n||!Q||le()},[n,Q,le]),w.useEffect(()=>{k&&me()},[k,me]),Y2(()=>{me()});const be=Ut(()=>{if(!x||!ne()||!ee.isTopModal())return;const Ze=_g(F?.document);ee.dialog&&Ze&&!Ed(ee.dialog,Ze)&&ee.dialog.focus()}),ve=Ut(Ze=>{Ze.target===Ze.currentTarget&&(d?.(Ze),c===!0&&q())}),ze=Ut(Ze=>{p&&RU(Ze)&&ee.isTopModal()&&(m?.(Ze),Ze.defaultPrevented||q())}),qe=w.useRef(),rn=w.useRef(),Cn=(...Ze)=>{j(!0),Y?.(...Ze)};if(!Q)return null;const pi=Object.assign({role:i,ref:ee.setDialogRef,"aria-modal":i==="dialog"?!0:void 0},de,{style:a,className:r,tabIndex:-1});let qt=N?N(pi):E.jsx("div",Object.assign({},pi,{children:w.cloneElement(u,{role:"document"})}));qt=$w(y,S,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!n,onExit:J,onExiting:W,onExited:Cn,onEnter:re,onEntering:ie,onEntered:ae,children:qt});let Jt=null;return c&&(Jt=D({ref:ee.setBackdropRef,onClick:ve}),Jt=$w(b,T,{in:!!n,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:Jt})),E.jsx(E.Fragment,{children:Br.createPortal(E.jsxs(E.Fragment,{children:[Jt,qt]}),Q)})});UR.displayName="Modal";const fF=Object.assign(UR,{Manager:ky});function dF(t,e){return t.classList?t.classList.contains(e):(" "+(t.className.baseVal||t.className)+" ").indexOf(" "+e+" ")!==-1}function pF(t,e){t.classList?t.classList.add(e):dF(t,e)||(typeof t.className=="string"?t.className=t.className+" "+e:t.setAttribute("class",(t.className&&t.className.baseVal||"")+" "+e))}function Hw(t,e){return t.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function hF(t,e){t.classList?t.classList.remove(e):typeof t.className=="string"?t.className=Hw(t.className,e):t.setAttribute("class",Hw(t.className&&t.className.baseVal||"",e))}const Ks={FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top",NAVBAR_TOGGLER:".navbar-toggler"};class BR extends ky{adjustAndStore(e,n,i){const r=n.style[e];n.dataset[e]=r,fo(n,{[e]:`${parseFloat(fo(n,e))+i}px`})}restore(e,n){const i=n.dataset[e];i!==void 0&&(delete n.dataset[e],fo(n,{[e]:i}))}setContainerStyle(e){super.setContainerStyle(e);const n=this.getElement();if(pF(n,"modal-open"),!e.scrollBarWidth)return;const i=this.isRTL?"paddingLeft":"paddingRight",r=this.isRTL?"marginLeft":"marginRight";oo(n,Ks.FIXED_CONTENT).forEach(a=>this.adjustAndStore(i,a,e.scrollBarWidth)),oo(n,Ks.STICKY_CONTENT).forEach(a=>this.adjustAndStore(r,a,-e.scrollBarWidth)),oo(n,Ks.NAVBAR_TOGGLER).forEach(a=>this.adjustAndStore(r,a,e.scrollBarWidth))}removeContainerStyle(e){super.removeContainerStyle(e);const n=this.getElement();hF(n,"modal-open");const i=this.isRTL?"paddingLeft":"paddingRight",r=this.isRTL?"marginLeft":"marginRight";oo(n,Ks.FIXED_CONTENT).forEach(a=>this.restore(i,a)),oo(n,Ks.STICKY_CONTENT).forEach(a=>this.restore(r,a)),oo(n,Ks.NAVBAR_TOGGLER).forEach(a=>this.restore(r,a))}}let Eg;function mF(t){return Eg||(Eg=new BR(t)),Eg}const FR=w.createContext({onHide(){}}),$R=w.forwardRef(({closeLabel:t="Close",closeVariant:e,closeButton:n=!1,onHide:i,children:r,...a},u)=>{const c=w.useContext(FR),p=Pu(()=>{c?.onHide(),i?.()});return E.jsxs("div",{ref:u,...a,children:[r,n&&E.jsx(wy,{"aria-label":t,variant:e,onClick:p})]})});$R.displayName="AbstractModalHeader";const HR=w.forwardRef(({className:t,bsPrefix:e,as:n="div",...i},r)=>(e=Ue(e,"nav-item"),E.jsx(n,{ref:r,className:Ne(t,e),...i})));HR.displayName="NavItem";const GR=w.forwardRef(({bsPrefix:t,className:e,as:n=Ey,active:i,eventKey:r,disabled:a=!1,...u},c)=>{t=Ue(t,"nav-link");const[p,d]=PR({key:du(r,u.href),active:i,disabled:a,...u});return E.jsx(n,{...u,...p,ref:c,disabled:a,className:Ne(e,t,a&&"disabled",d.isActive&&"active")})});GR.displayName="NavLink";const VR=w.forwardRef((t,e)=>{const{as:n="div",bsPrefix:i,variant:r,fill:a=!1,justify:u=!1,navbar:c,navbarScroll:p,className:d,activeKey:m,...y}=gy(t,{activeKey:"onSelect"}),S=Ue(i,"nav");let b,T,A=!1;const x=w.useContext(os),M=w.useContext(Ty);return x?(b=x.bsPrefix,A=c??!0):M&&({cardHeaderBsPrefix:T}=M),E.jsx(K2,{as:n,ref:e,activeKey:m,className:Ne(d,{[S]:!A,[`${b}-nav`]:A,[`${b}-nav-scroll`]:A&&p,[`${T}-${r}`]:!!T,[`${S}-${r}`]:!!r,[`${S}-fill`]:a,[`${S}-justified`]:u}),...y})});VR.displayName="Nav";const gF=Object.assign(VR,{Item:HR,Link:GR}),zR=w.forwardRef(({bsPrefix:t,className:e,as:n,...i},r)=>{t=Ue(t,"navbar-brand");const a=n||(i.href?"a":"span");return E.jsx(a,{...i,ref:r,className:Ne(e,t)})});zR.displayName="NavbarBrand";const qR=w.forwardRef(({children:t,bsPrefix:e,...n},i)=>{e=Ue(e,"navbar-collapse");const r=w.useContext(os);return E.jsx(Hx,{in:!!(r&&r.expanded),...n,children:E.jsx("div",{ref:i,className:e,children:t})})});qR.displayName="NavbarCollapse";const JR=w.forwardRef(({bsPrefix:t,className:e,children:n,label:i="Toggle navigation",as:r="button",onClick:a,...u},c)=>{t=Ue(t,"navbar-toggler");const{onToggle:p,expanded:d}=w.useContext(os)||{},m=Pu(y=>{a&&a(y),p&&p()});return r==="button"&&(u.type="button"),E.jsx(r,{...u,ref:c,onClick:m,"aria-label":i,className:Ne(e,t,!d&&"collapsed"),children:n||E.jsx("span",{className:`${t}-icon`})})});JR.displayName="NavbarToggle";const vv=new WeakMap,Gw=(t,e)=>{if(!t||!e)return;const n=vv.get(e)||new Map;vv.set(e,n);let i=n.get(t);return i||(i=e.matchMedia(t),i.refCount=0,n.set(i.media,i)),i};function vF(t,e=typeof window>"u"?void 0:window){const n=Gw(t,e),[i,r]=w.useState(()=>n?n.matches:!1);return xR(()=>{let a=Gw(t,e);if(!a)return r(!1);let u=vv.get(e);const c=()=>{r(a.matches)};return a.refCount++,a.addListener(c),c(),()=>{a.removeListener(c),a.refCount--,a.refCount<=0&&u?.delete(a.media),a=void 0}},[t]),i}function yF(t){const e=Object.keys(t);function n(c,p){return c===p?p:c?`${c} and ${p}`:p}function i(c){return e[Math.min(e.indexOf(c)+1,e.length-1)]}function r(c){const p=i(c);let d=t[p];return typeof d=="number"?d=`${d-.2}px`:d=`calc(${d} - 0.2px)`,`(max-width: ${d})`}function a(c){let p=t[c];return typeof p=="number"&&(p=`${p}px`),`(min-width: ${p})`}function u(c,p,d){let m;typeof c=="object"?(m=c,d=p,p=!0):(p=p||!0,m={[c]:p});let y=w.useMemo(()=>Object.entries(m).reduce((S,[b,T])=>((T==="up"||T===!0)&&(S=n(S,a(b))),(T==="down"||T===!0)&&(S=n(S,r(b))),S),""),[JSON.stringify(m)]);return vF(y,d)}return u}const _F=yF({xs:0,sm:576,md:768,lg:992,xl:1200,xxl:1400}),KR=w.forwardRef(({className:t,bsPrefix:e,as:n="div",...i},r)=>(e=Ue(e,"offcanvas-body"),E.jsx(n,{ref:r,className:Ne(t,e),...i})));KR.displayName="OffcanvasBody";const SF={[Zn]:"show",[ao]:"show"},jR=w.forwardRef(({bsPrefix:t,className:e,children:n,in:i=!1,mountOnEnter:r=!1,unmountOnExit:a=!1,appear:u=!1,...c},p)=>(t=Ue(t,"offcanvas"),E.jsx(ip,{ref:p,addEndListener:vy,in:i,mountOnEnter:r,unmountOnExit:a,appear:u,...c,childRef:Ra(n),children:(d,m)=>w.cloneElement(n,{...m,className:Ne(e,n.props.className,(d===Zn||d===uu)&&`${t}-toggling`,SF[d])})})));jR.displayName="OffcanvasToggling";const YR=w.forwardRef(({bsPrefix:t,className:e,closeLabel:n="Close",closeButton:i=!1,...r},a)=>(t=Ue(t,"offcanvas-header"),E.jsx($R,{ref:a,...r,className:Ne(e,t),closeLabel:n,closeButton:i})));YR.displayName="OffcanvasHeader";const bF=_y("h5"),XR=w.forwardRef(({className:t,bsPrefix:e,as:n=bF,...i},r)=>(e=Ue(e,"offcanvas-title"),E.jsx(n,{ref:r,className:Ne(t,e),...i})));XR.displayName="OffcanvasTitle";function EF(t){return E.jsx(jR,{...t})}function wF(t){return E.jsx(zx,{...t})}const WR=w.forwardRef(({bsPrefix:t,className:e,children:n,"aria-labelledby":i,placement:r="start",responsive:a,show:u=!1,backdrop:c=!0,keyboard:p=!0,scroll:d=!1,onEscapeKeyDown:m,onShow:y,onHide:S,container:b,autoFocus:T=!0,enforceFocus:A=!0,restoreFocus:x=!0,restoreFocusOptions:M,onEntered:I,onExit:N,onExiting:D,onEnter:L,onEntering:U,onExited:O,backdropClassName:q,manager:J,renderStaticNode:Y=!1,...W},re)=>{const ie=w.useRef();t=Ue(t,"offcanvas");const[ae,de]=w.useState(!1),F=Pu(S),Q=_F(a||"xs","up");w.useEffect(()=>{de(a?u&&!Q:u)},[u,a,Q]);const ee=w.useMemo(()=>({onHide:F}),[F]);function ne(){return J||(d?(ie.current||(ie.current=new BR({handleContainerOverflow:!1})),ie.current):mF())}const ce=(le,...me)=>{le&&(le.style.visibility="visible"),L?.(le,...me)},k=(le,...me)=>{le&&(le.style.visibility=""),O?.(...me)},j=w.useCallback(le=>E.jsx("div",{...le,className:Ne(`${t}-backdrop`,q)}),[q,t]),se=le=>E.jsx("div",{...le,...W,className:Ne(e,a?`${t}-${a}`:t,`${t}-${r}`),"aria-labelledby":i,children:n});return E.jsxs(E.Fragment,{children:[!ae&&(a||Y)&&se({}),E.jsx(FR.Provider,{value:ee,children:E.jsx(fF,{show:ae,ref:re,backdrop:c,container:b,keyboard:p,autoFocus:T,enforceFocus:A&&!d,restoreFocus:x,restoreFocusOptions:M,onEscapeKeyDown:m,onShow:y,onHide:F,onEnter:ce,onEntering:U,onEntered:I,onExit:N,onExiting:D,onExited:k,manager:ne(),transition:EF,backdropTransition:wF,renderBackdrop:j,renderDialog:se})})]})});WR.displayName="Offcanvas";const CF=Object.assign(WR,{Body:KR,Header:YR,Title:XR}),QR=w.forwardRef(({onHide:t,...e},n)=>{const i=w.useContext(os),r=Pu(()=>{i==null||i.onToggle==null||i.onToggle(),t?.()});return E.jsx(CF,{ref:n,show:!!(i!=null&&i.expanded),...e,renderStaticNode:!0,onHide:r})});QR.displayName="NavbarOffcanvas";const ZR=w.forwardRef(({className:t,bsPrefix:e,as:n="span",...i},r)=>(e=Ue(e,"navbar-text"),E.jsx(n,{ref:r,className:Ne(t,e),...i})));ZR.displayName="NavbarText";const eM=w.forwardRef((t,e)=>{const{bsPrefix:n,expand:i=!0,variant:r="light",bg:a,fixed:u,sticky:c,className:p,as:d="nav",expanded:m,onToggle:y,onSelect:S,collapseOnSelect:b=!1,...T}=gy(t,{expanded:"onToggle"}),A=Ue(n,"navbar"),x=w.useCallback((...N)=>{S?.(...N),b&&m&&y?.(!1)},[S,b,m,y]);T.role===void 0&&d!=="nav"&&(T.role="navigation");let M=`${A}-expand`;typeof i=="string"&&(M=`${M}-${i}`);const I=w.useMemo(()=>({onToggle:()=>y?.(!m),bsPrefix:A,expanded:!!m,expand:i}),[A,m,i,y]);return E.jsx(os.Provider,{value:I,children:E.jsx(Xr.Provider,{value:x,children:E.jsx(d,{ref:e,...T,className:Ne(p,A,i&&M,r&&`${A}-${r}`,a&&`bg-${a}`,c&&`sticky-${c}`,u&&`fixed-${u}`)})})})});eM.displayName="Navbar";const Vw=Object.assign(eM,{Brand:zR,Collapse:qR,Offcanvas:QR,Text:ZR,Toggle:JR}),tM=w.forwardRef(({bsPrefix:t,className:e,as:n="div",...i},r)=>{const a=Ue(t,"row"),u=Lx(),c=Ux(),p=`${a}-cols`,d=[];return u.forEach(m=>{const y=i[m];delete i[m];let S;y!=null&&typeof y=="object"?{cols:S}=y:S=y;const b=m!==c?`-${m}`:"";S!=null&&d.push(`${p}${b}-${S}`)}),E.jsx(n,{ref:r,...i,className:Ne(e,a,...d)})});tM.displayName="Row";const nM=w.forwardRef(({bsPrefix:t,variant:e,animation:n="border",size:i,as:r="div",className:a,...u},c)=>{t=Ue(t,"spinner");const p=`${t}-${n}`;return E.jsx(r,{ref:c,...u,className:Ne(a,p,i&&`${p}-${i}`,e&&`text-${e}`)})});nM.displayName="Spinner";const iM=({name:t,onClick:e,subItems:n})=>{const[i,r]=w.useState(!1);return E.jsxs("div",{onMouseEnter:()=>r(!0),onMouseLeave:()=>r(!1),style:{position:"relative"},children:[E.jsxs("div",{className:"dropdown-item d-flex justify-content-between",style:{cursor:"pointer"},onClick:e,children:[t," ",n?E.jsx("span",{children:""}):null]}),n&&i&&E.jsx("div",{className:"dropdown-menu show",style:{position:"absolute",top:0,left:"100%",minWidth:"180px",zIndex:1e3},children:n.map((a,u)=>E.jsx(iM,{name:a.name,onClick:a.onClick,subItems:a.subItems},u))})]})},js=({title:t,items:e,onClick:n})=>{const[i,r]=w.useState(!1),a=e&&e.length>0;return E.jsxs("div",{className:"nav-item dropdown",onMouseEnter:()=>r(!0),onMouseLeave:()=>r(!1),style:{position:"relative"},children:[E.jsx("span",{className:"nav-link dropdown-toggle",style:{cursor:a||n?"pointer":"default"},onClick:()=>{n&&n()},children:t}),i&&a&&E.jsx("div",{className:"dropdown-menu show",style:{minWidth:"180px"},children:e.map((u,c)=>E.jsx(iM,{...u},c))})]})};class Wr{fileHandle;data;constructor(e,n){this.fileHandle=e,this.data=Ct(n),Pi(this)}static async create(e,n,i={}){try{const r=await e.getFileHandle(n,{create:!0}),u=await(await r.getFile()).text(),c=u.trim()===""?{...i}:{...i,...JSON.parse(u)};return new Wr(r,c)}catch(r){console.error("Error loading JSON:",r);const a=await e.getFileHandle(n,{create:!0});return new Wr(a,{...i})}}async save(){try{let e=await this.fileHandle.queryPermission({mode:"readwrite"});if(e!=="granted"&&(e=await this.fileHandle.requestPermission({mode:"readwrite"})),e!=="granted")throw new Error("No permission to write file");const n=await this.fileHandle.createWritable();await n.write(JSON.stringify(this.data,null,2)),await n.close()}catch(e){console.error("Error saving JSON:",e)}}async updateField(e,n,i=!0){Te(()=>{const r=e.split("/").filter(Boolean);let a=this.data;for(let u=0;u<r.length;u++){const c=r[u];u===r.length-1?a[c]=n:((a[c]===void 0||a[c]===null||typeof a[c]!="object")&&(a[c]={}),a=a[c])}}),i&&await this.save()}getField(e){const n=e.split("/").filter(Boolean);let i=this.data;for(const r of n){if(i==null||typeof i!="object")return;i=i[r]}return i}}class Ni{handle;parent;urlObject=null;base64Data=null;path="";constructor(e,n,i=""){this.handle=e,this.parent=n,this.path=i+"/"+e.name}async getUrlObject(){if(!this.urlObject)try{const e=await this.handle.getFile();this.urlObject=URL.createObjectURL(e)}catch(e){console.error("Failed to create object URL for file:",e),this.urlObject=""}return this.urlObject}revokeUrl(){this.urlObject&&(URL.revokeObjectURL(this.urlObject),this.urlObject=null)}static async fromUrl(e,n){try{const i=await fetch(e);if(!i.ok)throw new Error(`Failed to fetch image: ${i.statusText}`);const r=await i.blob(),a=e.split("/");let u=a[a.length-1];const c=await n.getFileHandle(u,{create:!0}),p=await c.createWritable();return await p.write(r),await p.close(),new Ni(c,n)}catch(i){throw console.error("Failed to create LocalImage from URL:",i),i}}async delete(){try{this.revokeUrl(),await this.parent.removeEntry(this.handle.name)}catch(e){throw console.error("Failed to delete image file:",e),e}}async getBase64(){if(this.base64Data)return this.base64Data;try{const e=await this.handle.getFile(),n=await e.arrayBuffer(),i=e.type||"image/png",r=TF(n);return this.base64Data={rawBase64:r,mime:i},this.base64Data}catch(e){return console.error("Failed to create Base64 from file:",e),{rawBase64:"",mime:"image/png"}}}static async fromBase64(e,n,i){try{let r=e.rawBase64;const a=`data:${e.mime};base64,`;r.startsWith(a)&&(r=r.slice(a.length));const u=atob(r),c=u.length,p=new Uint8Array(c);for(let S=0;S<c;S++)p[S]=u.charCodeAt(S);const d=await n.getFileHandle(i,{create:!0}),m=await d.createWritable();await m.write(p),await m.close();const y=new Ni(d,n);return y.base64Data=e,y}catch(r){throw console.error("Failed to create LocalImage from Base64:",r),r}}}function TF(t){let e="";const n=new Uint8Array(t),i=n.byteLength;for(let r=0;r<i;r++)e+=String.fromCharCode(n[r]);return btoa(e)}var AF={};let xF,RF;function MF(){return{geminiUrl:xF,vertexUrl:RF}}function NF(t,e,n,i){var r,a;if(!t?.baseUrl){const u=MF();return e?(r=u.vertexUrl)!==null&&r!==void 0?r:n:(a=u.geminiUrl)!==null&&a!==void 0?a:i}return t.baseUrl}class So{}function fe(t,e){const n=/\{([^}]+)\}/g;return t.replace(n,(i,r)=>{if(Object.prototype.hasOwnProperty.call(e,r)){const a=e[r];return a!=null?String(a):""}else throw new Error(`Key '${r}' not found in valueMap.`)})}function g(t,e,n){for(let a=0;a<e.length-1;a++){const u=e[a];if(u.endsWith("[]")){const c=u.slice(0,-2);if(!(c in t))if(Array.isArray(n))t[c]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${u}`);if(Array.isArray(t[c])){const p=t[c];if(Array.isArray(n))for(let d=0;d<p.length;d++){const m=p[d];g(m,e.slice(a+1),n[d])}else for(const d of p)g(d,e.slice(a+1),n)}return}else if(u.endsWith("[0]")){const c=u.slice(0,-3);c in t||(t[c]=[{}]);const p=t[c];g(p[0],e.slice(a+1),n);return}(!t[u]||typeof t[u]!="object")&&(t[u]={}),t=t[u]}const i=e[e.length-1],r=t[i];if(r!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===r)return;if(typeof r=="object"&&typeof n=="object"&&r!==null&&n!==null)Object.assign(r,n);else throw new Error(`Cannot set value for an existing key. Key: ${i}`)}else i==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(t,n):t[i]=n}function h(t,e,n=void 0){try{if(e.length===1&&e[0]==="_self")return t;for(let i=0;i<e.length;i++){if(typeof t!="object"||t===null)return n;const r=e[i];if(r.endsWith("[]")){const a=r.slice(0,-2);if(a in t){const u=t[a];return Array.isArray(u)?u.map(c=>h(c,e.slice(i+1),n)):n}else return n}else t=t[r]}return t}catch(i){if(i instanceof TypeError)return n;throw i}}function IF(t,e){for(const[n,i]of Object.entries(e)){const r=n.split("."),a=i.split("."),u=new Set;let c=-1;for(let p=0;p<r.length;p++)if(r[p]==="*"){c=p;break}if(c!==-1&&a.length>c)for(let p=c;p<a.length;p++){const d=a[p];d!=="*"&&!d.endsWith("[]")&&!d.endsWith("[0]")&&u.add(d)}yv(t,r,a,0,u)}}function yv(t,e,n,i,r){if(i>=e.length||typeof t!="object"||t===null)return;const a=e[i];if(a.endsWith("[]")){const u=a.slice(0,-2),c=t;if(u in c&&Array.isArray(c[u]))for(const p of c[u])yv(p,e,n,i+1,r)}else if(a==="*"){if(typeof t=="object"&&t!==null&&!Array.isArray(t)){const u=t,c=Object.keys(u).filter(d=>!d.startsWith("_")&&!r.has(d)),p={};for(const d of c)p[d]=u[d];for(const[d,m]of Object.entries(p)){const y=[];for(const S of n.slice(i))S==="*"?y.push(d):y.push(S);g(u,y,m)}for(const d of c)delete u[d]}}else{const u=t;a in u&&yv(u[a],e,n,i+1,r)}}function Ly(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}function DF(t){const e={},n=h(t,["operationName"]);n!=null&&g(e,["operationName"],n);const i=h(t,["resourceName"]);return i!=null&&g(e,["_url","resourceName"],i),e}function OF(t){const e={},n=h(t,["name"]);n!=null&&g(e,["name"],n);const i=h(t,["metadata"]);i!=null&&g(e,["metadata"],i);const r=h(t,["done"]);r!=null&&g(e,["done"],r);const a=h(t,["error"]);a!=null&&g(e,["error"],a);const u=h(t,["response","generateVideoResponse"]);return u!=null&&g(e,["response"],kF(u)),e}function PF(t){const e={},n=h(t,["name"]);n!=null&&g(e,["name"],n);const i=h(t,["metadata"]);i!=null&&g(e,["metadata"],i);const r=h(t,["done"]);r!=null&&g(e,["done"],r);const a=h(t,["error"]);a!=null&&g(e,["error"],a);const u=h(t,["response"]);return u!=null&&g(e,["response"],LF(u)),e}function kF(t){const e={},n=h(t,["generatedSamples"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(u=>UF(u))),g(e,["generatedVideos"],a)}const i=h(t,["raiMediaFilteredCount"]);i!=null&&g(e,["raiMediaFilteredCount"],i);const r=h(t,["raiMediaFilteredReasons"]);return r!=null&&g(e,["raiMediaFilteredReasons"],r),e}function LF(t){const e={},n=h(t,["videos"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(u=>BF(u))),g(e,["generatedVideos"],a)}const i=h(t,["raiMediaFilteredCount"]);i!=null&&g(e,["raiMediaFilteredCount"],i);const r=h(t,["raiMediaFilteredReasons"]);return r!=null&&g(e,["raiMediaFilteredReasons"],r),e}function UF(t){const e={},n=h(t,["video"]);return n!=null&&g(e,["video"],zF(n)),e}function BF(t){const e={},n=h(t,["_self"]);return n!=null&&g(e,["video"],qF(n)),e}function FF(t){const e={},n=h(t,["operationName"]);return n!=null&&g(e,["_url","operationName"],n),e}function $F(t){const e={},n=h(t,["operationName"]);return n!=null&&g(e,["_url","operationName"],n),e}function HF(t){const e={},n=h(t,["name"]);n!=null&&g(e,["name"],n);const i=h(t,["metadata"]);i!=null&&g(e,["metadata"],i);const r=h(t,["done"]);r!=null&&g(e,["done"],r);const a=h(t,["error"]);a!=null&&g(e,["error"],a);const u=h(t,["response"]);return u!=null&&g(e,["response"],GF(u)),e}function GF(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const i=h(t,["parent"]);i!=null&&g(e,["parent"],i);const r=h(t,["documentName"]);return r!=null&&g(e,["documentName"],r),e}function oM(t){const e={},n=h(t,["name"]);n!=null&&g(e,["name"],n);const i=h(t,["metadata"]);i!=null&&g(e,["metadata"],i);const r=h(t,["done"]);r!=null&&g(e,["done"],r);const a=h(t,["error"]);a!=null&&g(e,["error"],a);const u=h(t,["response"]);return u!=null&&g(e,["response"],VF(u)),e}function VF(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const i=h(t,["parent"]);i!=null&&g(e,["parent"],i);const r=h(t,["documentName"]);return r!=null&&g(e,["documentName"],r),e}function zF(t){const e={},n=h(t,["uri"]);n!=null&&g(e,["uri"],n);const i=h(t,["encodedVideo"]);i!=null&&g(e,["videoBytes"],Ly(i));const r=h(t,["encoding"]);return r!=null&&g(e,["mimeType"],r),e}function qF(t){const e={},n=h(t,["gcsUri"]);n!=null&&g(e,["uri"],n);const i=h(t,["bytesBase64Encoded"]);i!=null&&g(e,["videoBytes"],Ly(i));const r=h(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}var zw;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(zw||(zw={}));var qw;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(qw||(qw={}));var Jw;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(Jw||(Jw={}));var tr;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(tr||(tr={}));var Kw;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(Kw||(Kw={}));var jw;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(jw||(jw={}));var Yw;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(Yw||(Yw={}));var Xw;(function(t){t.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",t.HTTP_IN_QUERY="HTTP_IN_QUERY",t.HTTP_IN_HEADER="HTTP_IN_HEADER",t.HTTP_IN_PATH="HTTP_IN_PATH",t.HTTP_IN_BODY="HTTP_IN_BODY",t.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(Xw||(Xw={}));var Ww;(function(t){t.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",t.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",t.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",t.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(Ww||(Ww={}));var Qw;(function(t){t.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",t.LOW="LOW",t.HIGH="HIGH"})(Qw||(Qw={}));var Zw;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(Zw||(Zw={}));var eC;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(eC||(eC={}));var tC;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(tC||(tC={}));var nC;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",t.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",t.NO_IMAGE="NO_IMAGE",t.IMAGE_RECITATION="IMAGE_RECITATION",t.IMAGE_OTHER="IMAGE_OTHER"})(nC||(nC={}));var iC;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(iC||(iC={}));var oC;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(oC||(oC={}));var rC;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",t.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",t.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(rC||(rC={}));var sC;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY",t.MODEL_ARMOR="MODEL_ARMOR",t.JAILBREAK="JAILBREAK"})(sC||(sC={}));var aC;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(aC||(aC={}));var wd;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(wd||(wd={}));var lC;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(lC||(lC={}));var uC;(function(t){t.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",t.TUNING_MODE_FULL="TUNING_MODE_FULL",t.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(uC||(uC={}));var cC;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(cC||(cC={}));var _v;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(_v||(_v={}));var fC;(function(t){t.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",t.TUNING_TASK_I2V="TUNING_TASK_I2V",t.TUNING_TASK_T2V="TUNING_TASK_T2V",t.TUNING_TASK_R2V="TUNING_TASK_R2V"})(fC||(fC={}));var dC;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(dC||(dC={}));var pC;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(pC||(pC={}));var hC;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(hC||(hC={}));var mC;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(mC||(mC={}));var gC;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(gC||(gC={}));var vC;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE",t.VALIDATED="VALIDATED"})(vC||(vC={}));var yC;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(yC||(yC={}));var _C;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(_C||(_C={}));var SC;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(SC||(SC={}));var bC;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(bC||(bC={}));var EC;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(EC||(EC={}));var wC;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(wC||(wC={}));var CC;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(CC||(CC={}));var TC;(function(t){t.FOREGROUND="FOREGROUND",t.BACKGROUND="BACKGROUND",t.PROMPT="PROMPT",t.SEMANTIC="SEMANTIC",t.INTERACTIVE="INTERACTIVE"})(TC||(TC={}));var AC;(function(t){t.ASSET="ASSET",t.STYLE="STYLE"})(AC||(AC={}));var xC;(function(t){t.INSERT="INSERT",t.REMOVE="REMOVE",t.REMOVE_STATIC="REMOVE_STATIC",t.OUTPAINT="OUTPAINT"})(xC||(xC={}));var RC;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(RC||(RC={}));var MC;(function(t){t.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",t.PREFERENCE_TUNING="PREFERENCE_TUNING"})(MC||(MC={}));var NC;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.STATE_PENDING="STATE_PENDING",t.STATE_ACTIVE="STATE_ACTIVE",t.STATE_FAILED="STATE_FAILED"})(NC||(NC={}));var IC;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(IC||(IC={}));var DC;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED"})(DC||(DC={}));var OC;(function(t){t.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.RESPONSE_REJECTED="RESPONSE_REJECTED",t.NEED_MORE_INPUT="NEED_MORE_INPUT"})(OC||(OC={}));var PC;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(PC||(PC={}));var kC;(function(t){t.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",t.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",t.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(kC||(kC={}));var LC;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(LC||(LC={}));var UC;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(UC||(UC={}));var BC;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(BC||(BC={}));var FC;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(FC||(FC={}));var $C;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})($C||($C={}));var HC;(function(t){t.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",t.QUALITY="QUALITY",t.DIVERSITY="DIVERSITY",t.VOCALIZATION="VOCALIZATION"})(HC||(HC={}));var ua;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(ua||(ua={}));class Sv{constructor(e){const n={};for(const i of e.headers.entries())n[i[0]]=i[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class Bl{get text(){var e,n,i,r,a,u,c,p;if(((r=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let d="",m=!1;const y=[];for(const S of(p=(c=(u=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||u===void 0?void 0:u.content)===null||c===void 0?void 0:c.parts)!==null&&p!==void 0?p:[]){for(const[b,T]of Object.entries(S))b!=="text"&&b!=="thought"&&b!=="thoughtSignature"&&(T!==null||T!==void 0)&&y.push(b);if(typeof S.text=="string"){if(typeof S.thought=="boolean"&&S.thought)continue;m=!0,d+=S.text}}return y.length>0&&console.warn(`there are non-text parts ${y} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),m?d:void 0}get data(){var e,n,i,r,a,u,c,p;if(((r=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let d="";const m=[];for(const y of(p=(c=(u=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||u===void 0?void 0:u.content)===null||c===void 0?void 0:c.parts)!==null&&p!==void 0?p:[]){for(const[S,b]of Object.entries(y))S!=="inlineData"&&(b!==null||b!==void 0)&&m.push(S);y.inlineData&&typeof y.inlineData.data=="string"&&(d+=atob(y.inlineData.data))}return m.length>0&&console.warn(`there are non-data parts ${m} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),d.length>0?btoa(d):void 0}get functionCalls(){var e,n,i,r,a,u,c,p;if(((r=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const d=(p=(c=(u=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||u===void 0?void 0:u.content)===null||c===void 0?void 0:c.parts)===null||p===void 0?void 0:p.filter(m=>m.functionCall).map(m=>m.functionCall).filter(m=>m!==void 0);if(d?.length!==0)return d}get executableCode(){var e,n,i,r,a,u,c,p,d;if(((r=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const m=(p=(c=(u=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||u===void 0?void 0:u.content)===null||c===void 0?void 0:c.parts)===null||p===void 0?void 0:p.filter(y=>y.executableCode).map(y=>y.executableCode).filter(y=>y!==void 0);if(m?.length!==0)return(d=m?.[0])===null||d===void 0?void 0:d.code}get codeExecutionResult(){var e,n,i,r,a,u,c,p,d;if(((r=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const m=(p=(c=(u=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||u===void 0?void 0:u.content)===null||c===void 0?void 0:c.parts)===null||p===void 0?void 0:p.filter(y=>y.codeExecutionResult).map(y=>y.codeExecutionResult).filter(y=>y!==void 0);if(m?.length!==0)return(d=m?.[0])===null||d===void 0?void 0:d.output}}class GC{}class VC{}class JF{}class KF{}class jF{}class YF{}class zC{}class qC{}class JC{}class XF{}class Cd{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const i=new Cd;let r;const a=e;return n?r=PF(a):r=OF(a),Object.assign(i,r),i}}class KC{}class jC{}class YC{}class XC{}class WF{}class QF{}class ZF{}class Uy{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const i=new Uy,a=HF(e);return Object.assign(i,a),i}}class e${}class t${}class n${}class WC{}class i${get text(){var e,n,i;let r="",a=!1;const u=[];for(const c of(i=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&i!==void 0?i:[]){for(const[p,d]of Object.entries(c))p!=="text"&&p!=="thought"&&d!==null&&u.push(p);if(typeof c.text=="string"){if(typeof c.thought=="boolean"&&c.thought)continue;a=!0,r+=c.text}}return u.length>0&&console.warn(`there are non-text parts ${u} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),a?r:void 0}get data(){var e,n,i;let r="";const a=[];for(const u of(i=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&i!==void 0?i:[]){for(const[c,p]of Object.entries(u))c!=="inlineData"&&p!==null&&a.push(c);u.inlineData&&typeof u.inlineData.data=="string"&&(r+=atob(u.inlineData.data))}return a.length>0&&console.warn(`there are non-data parts ${a} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),r.length>0?btoa(r):void 0}}class o${get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class By{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const i=new By,a=oM(e);return Object.assign(i,a),i}}function Ve(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function rM(t,e){const n=Ve(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function sM(t){return Array.isArray(t)?t.map(e=>Td(e)):[Td(t)]}function Td(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function aM(t){const e=Td(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function lM(t){const e=Td(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function QC(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function uM(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>QC(e)):[QC(t)]}function bv(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function ZC(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function eT(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function Bt(t){if(t==null)throw new Error("ContentUnion is required");return bv(t)?t:{role:"user",parts:uM(t)}}function Fy(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{const i=Bt(n);return i.parts&&i.parts.length>0&&i.parts[0].text!==void 0?[i.parts[0].text]:[]});if(t.isVertexAI()){const n=Bt(e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>Bt(n)):[Bt(e)]}function Hn(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(ZC(t)||eT(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[Bt(t)]}const e=[],n=[],i=bv(t[0]);for(const r of t){const a=bv(r);if(a!=i)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(a)e.push(r);else{if(ZC(r)||eT(r))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(r)}}return i||e.push({role:"user",parts:uM(n)}),e}function r$(t,e){t.includes("null")&&(e.nullable=!0);const n=t.filter(i=>i!=="null");if(n.length===1)e.type=Object.values(tr).includes(n[0].toUpperCase())?n[0].toUpperCase():tr.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const i of n)e.anyOf.push({type:Object.values(tr).includes(i.toUpperCase())?i.toUpperCase():tr.TYPE_UNSPECIFIED})}}function da(t){const e={},n=["items"],i=["anyOf"],r=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const a=t.anyOf;a!=null&&a.length==2&&(a[0].type==="null"?(e.nullable=!0,t=a[1]):a[1].type==="null"&&(e.nullable=!0,t=a[0])),t.type instanceof Array&&r$(t.type,e);for(const[u,c]of Object.entries(t))if(c!=null)if(u=="type"){if(c==="null")throw new Error("type: null can not be the only possible type for the field.");if(c instanceof Array)continue;e.type=Object.values(tr).includes(c.toUpperCase())?c.toUpperCase():tr.TYPE_UNSPECIFIED}else if(n.includes(u))e[u]=da(c);else if(i.includes(u)){const p=[];for(const d of c){if(d.type=="null"){e.nullable=!0;continue}p.push(da(d))}e[u]=p}else if(r.includes(u)){const p={};for(const[d,m]of Object.entries(c))p[d]=da(m);e[u]=p}else{if(u==="additionalProperties")continue;e[u]=c}return e}function $y(t){return da(t)}function Hy(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function Gy(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function Na(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=da(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=da(e.response));return t}function Ia(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const n of t)e.push(n);return e}function s$(t,e,n,i=1){const r=!e.startsWith(`${n}/`)&&e.split("/").length===i;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:r?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:r?`${n}/${e}`:e}function bo(t,e){if(typeof e!="string")throw new Error("name must be a string");return s$(t,e,"cachedContents")}function cM(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function pr(t){return Ly(t)}function a$(t){return t!=null&&typeof t=="object"&&"name"in t}function l$(t){return t!=null&&typeof t=="object"&&"video"in t}function u$(t){return t!=null&&typeof t=="object"&&"uri"in t}function fM(t){var e;let n;if(a$(t)&&(n=t.name),!(u$(t)&&(n=t.uri,n===void 0))&&!(l$(t)&&(n=(e=t.video)===null||e===void 0?void 0:e.uri,n===void 0))){if(typeof t=="string"&&(n=t),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const r=n.split("files/")[1].match(/[a-z0-9]+/);if(r===null)throw new Error(`Could not extract file name from URI ${n}`);n=r[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function dM(t,e){let n;return t.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function pM(t){for(const e of["models","tunedModels","publisherModels"])if(c$(t,e))return t[e];return[]}function c$(t,e){return t!==null&&typeof t=="object"&&e in t}function f$(t,e={}){const n=t,i={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(i.responseJsonSchema=n.outputSchema),e.behavior&&(i.behavior=e.behavior),{functionDeclarations:[i]}}function d$(t,e={}){const n=[],i=new Set;for(const r of t){const a=r.name;if(i.has(a))throw new Error(`Duplicate function name ${a} found in MCP tools. Please ensure function names are unique.`);i.add(a);const u=f$(r,e);u.functionDeclarations&&n.push(...u.functionDeclarations)}return{functionDeclarations:n}}function hM(t,e){let n;if(typeof e=="string")if(t.isVertexAI())if(e.startsWith("gs://"))n={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))n={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))n={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(t.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:e}}else n=e;const i=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,r=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(t.isVertexAI()){if(r>0||i!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(i>0||r!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function p$(t){if(typeof t!="string")return t;const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function mM(t){if(typeof t!="object"||t===null)return{};const e=t,n=e.inlinedResponses;if(typeof n!="object"||n===null)return t;const r=n.inlinedResponses;if(!Array.isArray(r)||r.length===0)return t;let a=!1;for(const u of r){if(typeof u!="object"||u===null)continue;const p=u.response;if(typeof p!="object"||p===null)continue;if(p.embedding!==void 0){a=!0;break}}return a&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),t}function Da(t,e){const n=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function gM(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}function h$(t){const e={},n=h(t,["responsesFile"]);n!=null&&g(e,["fileName"],n);const i=h(t,["inlinedResponses","inlinedResponses"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(u=>j$(u))),g(e,["inlinedResponses"],a)}const r=h(t,["inlinedEmbedContentResponses","inlinedResponses"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(u=>u)),g(e,["inlinedEmbedContentResponses"],a)}return e}function m$(t){const e={},n=h(t,["predictionsFormat"]);n!=null&&g(e,["format"],n);const i=h(t,["gcsDestination","outputUriPrefix"]);i!=null&&g(e,["gcsUri"],i);const r=h(t,["bigqueryDestination","outputUri"]);return r!=null&&g(e,["bigqueryUri"],r),e}function g$(t){const e={},n=h(t,["format"]);n!=null&&g(e,["predictionsFormat"],n);const i=h(t,["gcsUri"]);i!=null&&g(e,["gcsDestination","outputUriPrefix"],i);const r=h(t,["bigqueryUri"]);if(r!=null&&g(e,["bigqueryDestination","outputUri"],r),h(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(h(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(h(t,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function Wf(t){const e={},n=h(t,["name"]);n!=null&&g(e,["name"],n);const i=h(t,["metadata","displayName"]);i!=null&&g(e,["displayName"],i);const r=h(t,["metadata","state"]);r!=null&&g(e,["state"],gM(r));const a=h(t,["metadata","createTime"]);a!=null&&g(e,["createTime"],a);const u=h(t,["metadata","endTime"]);u!=null&&g(e,["endTime"],u);const c=h(t,["metadata","updateTime"]);c!=null&&g(e,["updateTime"],c);const p=h(t,["metadata","model"]);p!=null&&g(e,["model"],p);const d=h(t,["metadata","output"]);return d!=null&&g(e,["dest"],h$(mM(d))),e}function Ev(t){const e={},n=h(t,["name"]);n!=null&&g(e,["name"],n);const i=h(t,["displayName"]);i!=null&&g(e,["displayName"],i);const r=h(t,["state"]);r!=null&&g(e,["state"],gM(r));const a=h(t,["error"]);a!=null&&g(e,["error"],a);const u=h(t,["createTime"]);u!=null&&g(e,["createTime"],u);const c=h(t,["startTime"]);c!=null&&g(e,["startTime"],c);const p=h(t,["endTime"]);p!=null&&g(e,["endTime"],p);const d=h(t,["updateTime"]);d!=null&&g(e,["updateTime"],d);const m=h(t,["model"]);m!=null&&g(e,["model"],m);const y=h(t,["inputConfig"]);y!=null&&g(e,["src"],v$(y));const S=h(t,["outputConfig"]);S!=null&&g(e,["dest"],m$(mM(S)));const b=h(t,["completionStats"]);return b!=null&&g(e,["completionStats"],b),e}function v$(t){const e={},n=h(t,["instancesFormat"]);n!=null&&g(e,["format"],n);const i=h(t,["gcsSource","uris"]);i!=null&&g(e,["gcsUri"],i);const r=h(t,["bigquerySource","inputUri"]);return r!=null&&g(e,["bigqueryUri"],r),e}function y$(t,e){const n={};if(h(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(h(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(h(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const i=h(e,["fileName"]);i!=null&&g(n,["fileName"],i);const r=h(e,["inlinedRequests"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(u=>K$(t,u))),g(n,["requests","requests"],a)}return n}function _$(t){const e={},n=h(t,["format"]);n!=null&&g(e,["instancesFormat"],n);const i=h(t,["gcsUri"]);i!=null&&g(e,["gcsSource","uris"],i);const r=h(t,["bigqueryUri"]);if(r!=null&&g(e,["bigquerySource","inputUri"],r),h(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(h(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function S$(t){const e={},n=h(t,["data"]);if(n!=null&&g(e,["data"],n),h(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=h(t,["mimeType"]);return i!=null&&g(e,["mimeType"],i),e}function b$(t,e){const n={},i=h(e,["name"]);return i!=null&&g(n,["_url","name"],Da(t,i)),n}function E$(t,e){const n={},i=h(e,["name"]);return i!=null&&g(n,["_url","name"],Da(t,i)),n}function w$(t){const e={},n=h(t,["content"]);n!=null&&g(e,["content"],n);const i=h(t,["citationMetadata"]);i!=null&&g(e,["citationMetadata"],C$(i));const r=h(t,["tokenCount"]);r!=null&&g(e,["tokenCount"],r);const a=h(t,["finishReason"]);a!=null&&g(e,["finishReason"],a);const u=h(t,["avgLogprobs"]);u!=null&&g(e,["avgLogprobs"],u);const c=h(t,["groundingMetadata"]);c!=null&&g(e,["groundingMetadata"],c);const p=h(t,["index"]);p!=null&&g(e,["index"],p);const d=h(t,["logprobsResult"]);d!=null&&g(e,["logprobsResult"],d);const m=h(t,["safetyRatings"]);if(m!=null){let S=m;Array.isArray(S)&&(S=S.map(b=>b)),g(e,["safetyRatings"],S)}const y=h(t,["urlContextMetadata"]);return y!=null&&g(e,["urlContextMetadata"],y),e}function C$(t){const e={},n=h(t,["citationSources"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(r=>r)),g(e,["citations"],i)}return e}function vM(t){const e={},n=h(t,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(a=>tH(a))),g(e,["parts"],r)}const i=h(t,["role"]);return i!=null&&g(e,["role"],i),e}function T$(t,e){const n={},i=h(t,["displayName"]);if(e!==void 0&&i!=null&&g(e,["batch","displayName"],i),h(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function A$(t,e){const n={},i=h(t,["displayName"]);e!==void 0&&i!=null&&g(e,["displayName"],i);const r=h(t,["dest"]);return e!==void 0&&r!=null&&g(e,["outputConfig"],g$(p$(r))),n}function tT(t,e){const n={},i=h(e,["model"]);i!=null&&g(n,["_url","model"],Ve(t,i));const r=h(e,["src"]);r!=null&&g(n,["batch","inputConfig"],y$(t,hM(t,r)));const a=h(e,["config"]);return a!=null&&T$(a,n),n}function x$(t,e){const n={},i=h(e,["model"]);i!=null&&g(n,["model"],Ve(t,i));const r=h(e,["src"]);r!=null&&g(n,["inputConfig"],_$(hM(t,r)));const a=h(e,["config"]);return a!=null&&A$(a,n),n}function R$(t,e){const n={},i=h(t,["displayName"]);return e!==void 0&&i!=null&&g(e,["batch","displayName"],i),n}function M$(t,e){const n={},i=h(e,["model"]);i!=null&&g(n,["_url","model"],Ve(t,i));const r=h(e,["src"]);r!=null&&g(n,["batch","inputConfig"],L$(t,r));const a=h(e,["config"]);return a!=null&&R$(a,n),n}function N$(t,e){const n={},i=h(e,["name"]);return i!=null&&g(n,["_url","name"],Da(t,i)),n}function I$(t,e){const n={},i=h(e,["name"]);return i!=null&&g(n,["_url","name"],Da(t,i)),n}function D$(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const i=h(t,["name"]);i!=null&&g(e,["name"],i);const r=h(t,["done"]);r!=null&&g(e,["done"],r);const a=h(t,["error"]);return a!=null&&g(e,["error"],a),e}function O$(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const i=h(t,["name"]);i!=null&&g(e,["name"],i);const r=h(t,["done"]);r!=null&&g(e,["done"],r);const a=h(t,["error"]);return a!=null&&g(e,["error"],a),e}function P$(t,e){const n={},i=h(e,["contents"]);if(i!=null){let a=Fy(t,i);Array.isArray(a)&&(a=a.map(u=>u)),g(n,["requests[]","request","content"],a)}const r=h(e,["config"]);return r!=null&&(g(n,["_self"],k$(r,n)),IF(n,{"requests[].*":"requests[].request.*"})),n}function k$(t,e){const n={},i=h(t,["taskType"]);e!==void 0&&i!=null&&g(e,["requests[]","taskType"],i);const r=h(t,["title"]);e!==void 0&&r!=null&&g(e,["requests[]","title"],r);const a=h(t,["outputDimensionality"]);if(e!==void 0&&a!=null&&g(e,["requests[]","outputDimensionality"],a),h(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(h(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function L$(t,e){const n={},i=h(e,["fileName"]);i!=null&&g(n,["file_name"],i);const r=h(e,["inlinedRequests"]);return r!=null&&g(n,["requests"],P$(t,r)),n}function U$(t){const e={};if(h(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=h(t,["fileUri"]);n!=null&&g(e,["fileUri"],n);const i=h(t,["mimeType"]);return i!=null&&g(e,["mimeType"],i),e}function B$(t){const e={},n=h(t,["id"]);n!=null&&g(e,["id"],n);const i=h(t,["args"]);i!=null&&g(e,["args"],i);const r=h(t,["name"]);if(r!=null&&g(e,["name"],r),h(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(h(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function F$(t){const e={},n=h(t,["mode"]);n!=null&&g(e,["mode"],n);const i=h(t,["allowedFunctionNames"]);if(i!=null&&g(e,["allowedFunctionNames"],i),h(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function $$(t,e,n){const i={},r=h(e,["systemInstruction"]);n!==void 0&&r!=null&&g(n,["systemInstruction"],vM(Bt(r)));const a=h(e,["temperature"]);a!=null&&g(i,["temperature"],a);const u=h(e,["topP"]);u!=null&&g(i,["topP"],u);const c=h(e,["topK"]);c!=null&&g(i,["topK"],c);const p=h(e,["candidateCount"]);p!=null&&g(i,["candidateCount"],p);const d=h(e,["maxOutputTokens"]);d!=null&&g(i,["maxOutputTokens"],d);const m=h(e,["stopSequences"]);m!=null&&g(i,["stopSequences"],m);const y=h(e,["responseLogprobs"]);y!=null&&g(i,["responseLogprobs"],y);const S=h(e,["logprobs"]);S!=null&&g(i,["logprobs"],S);const b=h(e,["presencePenalty"]);b!=null&&g(i,["presencePenalty"],b);const T=h(e,["frequencyPenalty"]);T!=null&&g(i,["frequencyPenalty"],T);const A=h(e,["seed"]);A!=null&&g(i,["seed"],A);const x=h(e,["responseMimeType"]);x!=null&&g(i,["responseMimeType"],x);const M=h(e,["responseSchema"]);M!=null&&g(i,["responseSchema"],$y(M));const I=h(e,["responseJsonSchema"]);if(I!=null&&g(i,["responseJsonSchema"],I),h(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(h(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const N=h(e,["safetySettings"]);if(n!==void 0&&N!=null){let ie=N;Array.isArray(ie)&&(ie=ie.map(ae=>nH(ae))),g(n,["safetySettings"],ie)}const D=h(e,["tools"]);if(n!==void 0&&D!=null){let ie=Ia(D);Array.isArray(ie)&&(ie=ie.map(ae=>oH(Na(ae)))),g(n,["tools"],ie)}const L=h(e,["toolConfig"]);if(n!==void 0&&L!=null&&g(n,["toolConfig"],iH(L)),h(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const U=h(e,["cachedContent"]);n!==void 0&&U!=null&&g(n,["cachedContent"],bo(t,U));const O=h(e,["responseModalities"]);O!=null&&g(i,["responseModalities"],O);const q=h(e,["mediaResolution"]);q!=null&&g(i,["mediaResolution"],q);const J=h(e,["speechConfig"]);if(J!=null&&g(i,["speechConfig"],Hy(J)),h(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const Y=h(e,["thinkingConfig"]);Y!=null&&g(i,["thinkingConfig"],Y);const W=h(e,["imageConfig"]);W!=null&&g(i,["imageConfig"],J$(W));const re=h(e,["enableEnhancedCivicAnswers"]);return re!=null&&g(i,["enableEnhancedCivicAnswers"],re),i}function H$(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const i=h(t,["candidates"]);if(i!=null){let p=i;Array.isArray(p)&&(p=p.map(d=>w$(d))),g(e,["candidates"],p)}const r=h(t,["modelVersion"]);r!=null&&g(e,["modelVersion"],r);const a=h(t,["promptFeedback"]);a!=null&&g(e,["promptFeedback"],a);const u=h(t,["responseId"]);u!=null&&g(e,["responseId"],u);const c=h(t,["usageMetadata"]);return c!=null&&g(e,["usageMetadata"],c),e}function G$(t,e){const n={},i=h(e,["name"]);return i!=null&&g(n,["_url","name"],Da(t,i)),n}function V$(t,e){const n={},i=h(e,["name"]);return i!=null&&g(n,["_url","name"],Da(t,i)),n}function z$(t){const e={};if(h(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=h(t,["enableWidget"]);return n!=null&&g(e,["enableWidget"],n),e}function q$(t){const e={};if(h(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(h(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=h(t,["timeRangeFilter"]);return n!=null&&g(e,["timeRangeFilter"],n),e}function J$(t){const e={},n=h(t,["aspectRatio"]);n!=null&&g(e,["aspectRatio"],n);const i=h(t,["imageSize"]);if(i!=null&&g(e,["imageSize"],i),h(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(h(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function K$(t,e){const n={},i=h(e,["model"]);i!=null&&g(n,["request","model"],Ve(t,i));const r=h(e,["contents"]);if(r!=null){let c=Hn(r);Array.isArray(c)&&(c=c.map(p=>vM(p))),g(n,["request","contents"],c)}const a=h(e,["metadata"]);a!=null&&g(n,["metadata"],a);const u=h(e,["config"]);return u!=null&&g(n,["request","generationConfig"],$$(t,u,h(n,["request"],{}))),n}function j$(t){const e={},n=h(t,["response"]);n!=null&&g(e,["response"],H$(n));const i=h(t,["error"]);return i!=null&&g(e,["error"],i),e}function Y$(t,e){const n={},i=h(t,["pageSize"]);e!==void 0&&i!=null&&g(e,["_query","pageSize"],i);const r=h(t,["pageToken"]);if(e!==void 0&&r!=null&&g(e,["_query","pageToken"],r),h(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function X$(t,e){const n={},i=h(t,["pageSize"]);e!==void 0&&i!=null&&g(e,["_query","pageSize"],i);const r=h(t,["pageToken"]);e!==void 0&&r!=null&&g(e,["_query","pageToken"],r);const a=h(t,["filter"]);return e!==void 0&&a!=null&&g(e,["_query","filter"],a),n}function W$(t){const e={},n=h(t,["config"]);return n!=null&&Y$(n,e),e}function Q$(t){const e={},n=h(t,["config"]);return n!=null&&X$(n,e),e}function Z$(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const i=h(t,["nextPageToken"]);i!=null&&g(e,["nextPageToken"],i);const r=h(t,["operations"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(u=>Wf(u))),g(e,["batchJobs"],a)}return e}function eH(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const i=h(t,["nextPageToken"]);i!=null&&g(e,["nextPageToken"],i);const r=h(t,["batchPredictionJobs"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(u=>Ev(u))),g(e,["batchJobs"],a)}return e}function tH(t){const e={},n=h(t,["mediaResolution"]);n!=null&&g(e,["mediaResolution"],n);const i=h(t,["codeExecutionResult"]);i!=null&&g(e,["codeExecutionResult"],i);const r=h(t,["executableCode"]);r!=null&&g(e,["executableCode"],r);const a=h(t,["fileData"]);a!=null&&g(e,["fileData"],U$(a));const u=h(t,["functionCall"]);u!=null&&g(e,["functionCall"],B$(u));const c=h(t,["functionResponse"]);c!=null&&g(e,["functionResponse"],c);const p=h(t,["inlineData"]);p!=null&&g(e,["inlineData"],S$(p));const d=h(t,["text"]);d!=null&&g(e,["text"],d);const m=h(t,["thought"]);m!=null&&g(e,["thought"],m);const y=h(t,["thoughtSignature"]);y!=null&&g(e,["thoughtSignature"],y);const S=h(t,["videoMetadata"]);return S!=null&&g(e,["videoMetadata"],S),e}function nH(t){const e={},n=h(t,["category"]);if(n!=null&&g(e,["category"],n),h(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const i=h(t,["threshold"]);return i!=null&&g(e,["threshold"],i),e}function iH(t){const e={},n=h(t,["functionCallingConfig"]);n!=null&&g(e,["functionCallingConfig"],F$(n));const i=h(t,["retrievalConfig"]);return i!=null&&g(e,["retrievalConfig"],i),e}function oH(t){const e={},n=h(t,["functionDeclarations"]);if(n!=null){let m=n;Array.isArray(m)&&(m=m.map(y=>y)),g(e,["functionDeclarations"],m)}if(h(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=h(t,["googleSearchRetrieval"]);i!=null&&g(e,["googleSearchRetrieval"],i);const r=h(t,["computerUse"]);r!=null&&g(e,["computerUse"],r);const a=h(t,["fileSearch"]);a!=null&&g(e,["fileSearch"],a);const u=h(t,["codeExecution"]);if(u!=null&&g(e,["codeExecution"],u),h(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const c=h(t,["googleMaps"]);c!=null&&g(e,["googleMaps"],z$(c));const p=h(t,["googleSearch"]);p!=null&&g(e,["googleSearch"],q$(p));const d=h(t,["urlContext"]);return d!=null&&g(e,["urlContext"],d),e}var go;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents",t.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",t.PAGED_ITEM_DOCUMENTS="documents"})(go||(go={}));class rs{constructor(e,n,i,r){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,i,r)}init(e,n,i){var r,a;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n?.sdkHttpResponse,this.idxInternal=0;let u={config:{}};!i||Object.keys(i).length===0?u={config:{}}:typeof i=="object"?u=Object.assign({},i):u=i,u.config&&(u.config.pageToken=n.nextPageToken),this.paramsInternal=u,this.pageInternalSize=(a=(r=u.config)===null||r===void 0?void 0:r.pageSize)!==null&&a!==void 0?a:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}let rH=class extends So{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new rs(go.PAGED_ITEM_BATCH_JOBS,i=>this.listInternal(i),await this.listInternal(n),n),this.create=async n=>(this.apiClient.isVertexAI()&&(n.config=this.formatDestination(n.src,n.config)),this.createInternal(n)),this.createEmbeddings=async n=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(n)}}createInlinedGenerateContentRequest(e){const n=tT(this.apiClient,e),i=n._url,r=fe("{model}:batchGenerateContent",i),c=n.batch.inputConfig.requests,p=c.requests,d=[];for(const m of p){const y=Object.assign({},m);if(y.systemInstruction){const S=y.systemInstruction;delete y.systemInstruction;const b=y.request;b.systemInstruction=S,y.request=b}d.push(y)}return c.requests=d,delete n.config,delete n._url,delete n._query,{path:r,body:n}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,n){const i=n?Object.assign({},n):{},r=Date.now().toString();if(i.displayName||(i.displayName=`genaiBatchJob_${r}`),i.dest===void 0){const a=this.getGcsUri(e),u=this.getBigqueryUri(e);if(a)a.endsWith(".jsonl")?i.dest=`${a.slice(0,-6)}/dest`:i.dest=`${a}_dest_${r}`;else if(u)i.dest=`${u}_dest_${r}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return i}async createInternal(e){var n,i,r,a;let u,c="",p={};if(this.apiClient.isVertexAI()){const d=x$(this.apiClient,e);return c=fe("batchPredictionJobs",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json()),u.then(m=>Ev(m))}else{const d=tT(this.apiClient,e);return c=fe("{model}:batchGenerateContent",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json()),u.then(m=>Wf(m))}}async createEmbeddingsInternal(e){var n,i;let r,a="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=M$(this.apiClient,e);return a=fe("{model}:asyncBatchEmbedContent",c._url),u=c._query,delete c._url,delete c._query,r=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),r.then(p=>Wf(p))}}async get(e){var n,i,r,a;let u,c="",p={};if(this.apiClient.isVertexAI()){const d=V$(this.apiClient,e);return c=fe("batchPredictionJobs/{name}",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json()),u.then(m=>Ev(m))}else{const d=G$(this.apiClient,e);return c=fe("batches/{name}",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json()),u.then(m=>Wf(m))}}async cancel(e){var n,i,r,a;let u="",c={};if(this.apiClient.isVertexAI()){const p=E$(this.apiClient,e);u=fe("batchPredictionJobs/{name}:cancel",p._url),c=p._query,delete p._url,delete p._query,await this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal})}else{const p=b$(this.apiClient,e);u=fe("batches/{name}:cancel",p._url),c=p._query,delete p._url,delete p._query,await this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal})}}async listInternal(e){var n,i,r,a;let u,c="",p={};if(this.apiClient.isVertexAI()){const d=Q$(e);return c=fe("batchPredictionJobs",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json().then(y=>{const S=y;return S.sdkHttpResponse={headers:m.headers},S})),u.then(m=>{const y=eH(m),S=new WC;return Object.assign(S,y),S})}else{const d=W$(e);return c=fe("batches",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json().then(y=>{const S=y;return S.sdkHttpResponse={headers:m.headers},S})),u.then(m=>{const y=Z$(m),S=new WC;return Object.assign(S,y),S})}}async delete(e){var n,i,r,a;let u,c="",p={};if(this.apiClient.isVertexAI()){const d=I$(this.apiClient,e);return c=fe("batchPredictionJobs/{name}",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json().then(y=>{const S=y;return S.sdkHttpResponse={headers:m.headers},S})),u.then(m=>O$(m))}else{const d=N$(this.apiClient,e);return c=fe("batches/{name}",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json().then(y=>{const S=y;return S.sdkHttpResponse={headers:m.headers},S})),u.then(m=>D$(m))}}};function sH(t){const e={},n=h(t,["data"]);if(n!=null&&g(e,["data"],n),h(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=h(t,["mimeType"]);return i!=null&&g(e,["mimeType"],i),e}function nT(t){const e={},n=h(t,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(a=>MH(a))),g(e,["parts"],r)}const i=h(t,["role"]);return i!=null&&g(e,["role"],i),e}function aH(t,e){const n={},i=h(t,["ttl"]);e!==void 0&&i!=null&&g(e,["ttl"],i);const r=h(t,["expireTime"]);e!==void 0&&r!=null&&g(e,["expireTime"],r);const a=h(t,["displayName"]);e!==void 0&&a!=null&&g(e,["displayName"],a);const u=h(t,["contents"]);if(e!==void 0&&u!=null){let m=Hn(u);Array.isArray(m)&&(m=m.map(y=>nT(y))),g(e,["contents"],m)}const c=h(t,["systemInstruction"]);e!==void 0&&c!=null&&g(e,["systemInstruction"],nT(Bt(c)));const p=h(t,["tools"]);if(e!==void 0&&p!=null){let m=p;Array.isArray(m)&&(m=m.map(y=>IH(y))),g(e,["tools"],m)}const d=h(t,["toolConfig"]);if(e!==void 0&&d!=null&&g(e,["toolConfig"],NH(d)),h(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function lH(t,e){const n={},i=h(t,["ttl"]);e!==void 0&&i!=null&&g(e,["ttl"],i);const r=h(t,["expireTime"]);e!==void 0&&r!=null&&g(e,["expireTime"],r);const a=h(t,["displayName"]);e!==void 0&&a!=null&&g(e,["displayName"],a);const u=h(t,["contents"]);if(e!==void 0&&u!=null){let y=Hn(u);Array.isArray(y)&&(y=y.map(S=>S)),g(e,["contents"],y)}const c=h(t,["systemInstruction"]);e!==void 0&&c!=null&&g(e,["systemInstruction"],Bt(c));const p=h(t,["tools"]);if(e!==void 0&&p!=null){let y=p;Array.isArray(y)&&(y=y.map(S=>DH(S))),g(e,["tools"],y)}const d=h(t,["toolConfig"]);e!==void 0&&d!=null&&g(e,["toolConfig"],d);const m=h(t,["kmsKeyName"]);return e!==void 0&&m!=null&&g(e,["encryption_spec","kmsKeyName"],m),n}function uH(t,e){const n={},i=h(e,["model"]);i!=null&&g(n,["model"],rM(t,i));const r=h(e,["config"]);return r!=null&&aH(r,n),n}function cH(t,e){const n={},i=h(e,["model"]);i!=null&&g(n,["model"],rM(t,i));const r=h(e,["config"]);return r!=null&&lH(r,n),n}function fH(t,e){const n={},i=h(e,["name"]);return i!=null&&g(n,["_url","name"],bo(t,i)),n}function dH(t,e){const n={},i=h(e,["name"]);return i!=null&&g(n,["_url","name"],bo(t,i)),n}function pH(t){const e={},n=h(t,["sdkHttpResponse"]);return n!=null&&g(e,["sdkHttpResponse"],n),e}function hH(t){const e={},n=h(t,["sdkHttpResponse"]);return n!=null&&g(e,["sdkHttpResponse"],n),e}function mH(t){const e={};if(h(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=h(t,["fileUri"]);n!=null&&g(e,["fileUri"],n);const i=h(t,["mimeType"]);return i!=null&&g(e,["mimeType"],i),e}function gH(t){const e={},n=h(t,["id"]);n!=null&&g(e,["id"],n);const i=h(t,["args"]);i!=null&&g(e,["args"],i);const r=h(t,["name"]);if(r!=null&&g(e,["name"],r),h(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(h(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function vH(t){const e={},n=h(t,["mode"]);n!=null&&g(e,["mode"],n);const i=h(t,["allowedFunctionNames"]);if(i!=null&&g(e,["allowedFunctionNames"],i),h(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function yH(t){const e={};if(h(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=h(t,["description"]);n!=null&&g(e,["description"],n);const i=h(t,["name"]);i!=null&&g(e,["name"],i);const r=h(t,["parameters"]);r!=null&&g(e,["parameters"],r);const a=h(t,["parametersJsonSchema"]);a!=null&&g(e,["parametersJsonSchema"],a);const u=h(t,["response"]);u!=null&&g(e,["response"],u);const c=h(t,["responseJsonSchema"]);return c!=null&&g(e,["responseJsonSchema"],c),e}function _H(t,e){const n={},i=h(e,["name"]);return i!=null&&g(n,["_url","name"],bo(t,i)),n}function SH(t,e){const n={},i=h(e,["name"]);return i!=null&&g(n,["_url","name"],bo(t,i)),n}function bH(t){const e={};if(h(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=h(t,["enableWidget"]);return n!=null&&g(e,["enableWidget"],n),e}function EH(t){const e={};if(h(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(h(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=h(t,["timeRangeFilter"]);return n!=null&&g(e,["timeRangeFilter"],n),e}function wH(t,e){const n={},i=h(t,["pageSize"]);e!==void 0&&i!=null&&g(e,["_query","pageSize"],i);const r=h(t,["pageToken"]);return e!==void 0&&r!=null&&g(e,["_query","pageToken"],r),n}function CH(t,e){const n={},i=h(t,["pageSize"]);e!==void 0&&i!=null&&g(e,["_query","pageSize"],i);const r=h(t,["pageToken"]);return e!==void 0&&r!=null&&g(e,["_query","pageToken"],r),n}function TH(t){const e={},n=h(t,["config"]);return n!=null&&wH(n,e),e}function AH(t){const e={},n=h(t,["config"]);return n!=null&&CH(n,e),e}function xH(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const i=h(t,["nextPageToken"]);i!=null&&g(e,["nextPageToken"],i);const r=h(t,["cachedContents"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(u=>u)),g(e,["cachedContents"],a)}return e}function RH(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const i=h(t,["nextPageToken"]);i!=null&&g(e,["nextPageToken"],i);const r=h(t,["cachedContents"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(u=>u)),g(e,["cachedContents"],a)}return e}function MH(t){const e={},n=h(t,["mediaResolution"]);n!=null&&g(e,["mediaResolution"],n);const i=h(t,["codeExecutionResult"]);i!=null&&g(e,["codeExecutionResult"],i);const r=h(t,["executableCode"]);r!=null&&g(e,["executableCode"],r);const a=h(t,["fileData"]);a!=null&&g(e,["fileData"],mH(a));const u=h(t,["functionCall"]);u!=null&&g(e,["functionCall"],gH(u));const c=h(t,["functionResponse"]);c!=null&&g(e,["functionResponse"],c);const p=h(t,["inlineData"]);p!=null&&g(e,["inlineData"],sH(p));const d=h(t,["text"]);d!=null&&g(e,["text"],d);const m=h(t,["thought"]);m!=null&&g(e,["thought"],m);const y=h(t,["thoughtSignature"]);y!=null&&g(e,["thoughtSignature"],y);const S=h(t,["videoMetadata"]);return S!=null&&g(e,["videoMetadata"],S),e}function NH(t){const e={},n=h(t,["functionCallingConfig"]);n!=null&&g(e,["functionCallingConfig"],vH(n));const i=h(t,["retrievalConfig"]);return i!=null&&g(e,["retrievalConfig"],i),e}function IH(t){const e={},n=h(t,["functionDeclarations"]);if(n!=null){let m=n;Array.isArray(m)&&(m=m.map(y=>y)),g(e,["functionDeclarations"],m)}if(h(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=h(t,["googleSearchRetrieval"]);i!=null&&g(e,["googleSearchRetrieval"],i);const r=h(t,["computerUse"]);r!=null&&g(e,["computerUse"],r);const a=h(t,["fileSearch"]);a!=null&&g(e,["fileSearch"],a);const u=h(t,["codeExecution"]);if(u!=null&&g(e,["codeExecution"],u),h(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const c=h(t,["googleMaps"]);c!=null&&g(e,["googleMaps"],bH(c));const p=h(t,["googleSearch"]);p!=null&&g(e,["googleSearch"],EH(p));const d=h(t,["urlContext"]);return d!=null&&g(e,["urlContext"],d),e}function DH(t){const e={},n=h(t,["functionDeclarations"]);if(n!=null){let y=n;Array.isArray(y)&&(y=y.map(S=>yH(S))),g(e,["functionDeclarations"],y)}const i=h(t,["retrieval"]);i!=null&&g(e,["retrieval"],i);const r=h(t,["googleSearchRetrieval"]);r!=null&&g(e,["googleSearchRetrieval"],r);const a=h(t,["computerUse"]);if(a!=null&&g(e,["computerUse"],a),h(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const u=h(t,["codeExecution"]);u!=null&&g(e,["codeExecution"],u);const c=h(t,["enterpriseWebSearch"]);c!=null&&g(e,["enterpriseWebSearch"],c);const p=h(t,["googleMaps"]);p!=null&&g(e,["googleMaps"],p);const d=h(t,["googleSearch"]);d!=null&&g(e,["googleSearch"],d);const m=h(t,["urlContext"]);return m!=null&&g(e,["urlContext"],m),e}function OH(t,e){const n={},i=h(t,["ttl"]);e!==void 0&&i!=null&&g(e,["ttl"],i);const r=h(t,["expireTime"]);return e!==void 0&&r!=null&&g(e,["expireTime"],r),n}function PH(t,e){const n={},i=h(t,["ttl"]);e!==void 0&&i!=null&&g(e,["ttl"],i);const r=h(t,["expireTime"]);return e!==void 0&&r!=null&&g(e,["expireTime"],r),n}function kH(t,e){const n={},i=h(e,["name"]);i!=null&&g(n,["_url","name"],bo(t,i));const r=h(e,["config"]);return r!=null&&OH(r,n),n}function LH(t,e){const n={},i=h(e,["name"]);i!=null&&g(n,["_url","name"],bo(t,i));const r=h(e,["config"]);return r!=null&&PH(r,n),n}class UH extends So{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new rs(go.PAGED_ITEM_CACHED_CONTENTS,i=>this.listInternal(i),await this.listInternal(n),n)}async create(e){var n,i,r,a;let u,c="",p={};if(this.apiClient.isVertexAI()){const d=cH(this.apiClient,e);return c=fe("cachedContents",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json()),u.then(m=>m)}else{const d=uH(this.apiClient,e);return c=fe("cachedContents",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json()),u.then(m=>m)}}async get(e){var n,i,r,a;let u,c="",p={};if(this.apiClient.isVertexAI()){const d=SH(this.apiClient,e);return c=fe("{name}",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json()),u.then(m=>m)}else{const d=_H(this.apiClient,e);return c=fe("{name}",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json()),u.then(m=>m)}}async delete(e){var n,i,r,a;let u,c="",p={};if(this.apiClient.isVertexAI()){const d=dH(this.apiClient,e);return c=fe("{name}",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json().then(y=>{const S=y;return S.sdkHttpResponse={headers:m.headers},S})),u.then(m=>{const y=hH(m),S=new YC;return Object.assign(S,y),S})}else{const d=fH(this.apiClient,e);return c=fe("{name}",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json().then(y=>{const S=y;return S.sdkHttpResponse={headers:m.headers},S})),u.then(m=>{const y=pH(m),S=new YC;return Object.assign(S,y),S})}}async update(e){var n,i,r,a;let u,c="",p={};if(this.apiClient.isVertexAI()){const d=LH(this.apiClient,e);return c=fe("{name}",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json()),u.then(m=>m)}else{const d=kH(this.apiClient,e);return c=fe("{name}",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json()),u.then(m=>m)}}async listInternal(e){var n,i,r,a;let u,c="",p={};if(this.apiClient.isVertexAI()){const d=AH(e);return c=fe("cachedContents",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json().then(y=>{const S=y;return S.sdkHttpResponse={headers:m.headers},S})),u.then(m=>{const y=RH(m),S=new XC;return Object.assign(S,y),S})}else{const d=TH(e);return c=fe("cachedContents",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json().then(y=>{const S=y;return S.sdkHttpResponse={headers:m.headers},S})),u.then(m=>{const y=xH(m),S=new XC;return Object.assign(S,y),S})}}}function Ad(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]]);return n}function iT(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ae(t){return this instanceof Ae?(this.v=t,this):new Ae(t)}function ri(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=n.apply(t,e||[]),r,a=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),c("next"),c("throw"),c("return",u),r[Symbol.asyncIterator]=function(){return this},r;function u(b){return function(T){return Promise.resolve(T).then(b,y)}}function c(b,T){i[b]&&(r[b]=function(A){return new Promise(function(x,M){a.push([b,A,x,M])>1||p(b,A)})},T&&(r[b]=T(r[b])))}function p(b,T){try{d(i[b](T))}catch(A){S(a[0][3],A)}}function d(b){b.value instanceof Ae?Promise.resolve(b.value.v).then(m,y):S(a[0][2],b)}function m(b){p("next",b)}function y(b){p("throw",b)}function S(b,T){b(T),a.shift(),a.length&&p(a[0][0],a[0][1])}}function si(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof iT=="function"?iT(t):t[Symbol.iterator](),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(a){n[a]=t[a]&&function(u){return new Promise(function(c,p){u=t[a](u),r(c,p,u.done,u.value)})}}function r(a,u,c,p){Promise.resolve(p).then(function(d){a({value:d,done:c})},u)}}function BH(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:yM(n)}function yM(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function FH(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function oT(t){if(t===void 0||t.length===0)return[];const e=[],n=t.length;let i=0;for(;i<n;)if(t[i].role==="user")e.push(t[i]),i++;else{const r=[];let a=!0;for(;i<n&&t[i].role==="model";)r.push(t[i]),a&&!yM(t[i])&&(a=!1),i++;a?e.push(...r):e.pop()}return e}class $H{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new HH(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}let HH=class{constructor(e,n,i,r={},a=[]){this.apiClient=e,this.modelsModule=n,this.model=i,this.config=r,this.history=a,this.sendPromise=Promise.resolve(),FH(a)}async sendMessage(e){var n;await this.sendPromise;const i=Bt(e.message),r=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(i),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var a,u,c;const p=await r,d=(u=(a=p.candidates)===null||a===void 0?void 0:a[0])===null||u===void 0?void 0:u.content,m=p.automaticFunctionCallingHistory,y=this.getHistory(!0).length;let S=[];m!=null&&(S=(c=m.slice(y))!==null&&c!==void 0?c:[]);const b=d?[d]:[];this.recordHistory(i,b,S)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),r}async sendMessageStream(e){var n;await this.sendPromise;const i=Bt(e.message),r=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(i),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=r.then(()=>{}).catch(()=>{});const a=await r;return this.processStreamResponse(a,i)}getHistory(e=!1){const n=e?oT(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){return ri(this,arguments,function*(){var r,a,u,c,p,d;const m=[];try{for(var y=!0,S=si(e),b;b=yield Ae(S.next()),r=b.done,!r;y=!0){c=b.value,y=!1;const T=c;if(BH(T)){const A=(d=(p=T.candidates)===null||p===void 0?void 0:p[0])===null||d===void 0?void 0:d.content;A!==void 0&&m.push(A)}yield yield Ae(T)}}catch(T){a={error:T}}finally{try{!y&&!r&&(u=S.return)&&(yield Ae(u.call(S)))}finally{if(a)throw a.error}}this.recordHistory(n,m)})}recordHistory(e,n,i){let r=[];n.length>0&&n.every(a=>a.role!==void 0)?r=n:r.push({role:"model",parts:[]}),i&&i.length>0?this.history.push(...oT(i)):this.history.push(e),this.history.push(...r)}};class up extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,up.prototype)}}function GH(t){const e={},n=h(t,["file"]);return n!=null&&g(e,["file"],n),e}function VH(t){const e={},n=h(t,["sdkHttpResponse"]);return n!=null&&g(e,["sdkHttpResponse"],n),e}function zH(t){const e={},n=h(t,["name"]);return n!=null&&g(e,["_url","file"],fM(n)),e}function qH(t){const e={},n=h(t,["sdkHttpResponse"]);return n!=null&&g(e,["sdkHttpResponse"],n),e}function JH(t){const e={},n=h(t,["name"]);return n!=null&&g(e,["_url","file"],fM(n)),e}function KH(t,e){const n={},i=h(t,["pageSize"]);e!==void 0&&i!=null&&g(e,["_query","pageSize"],i);const r=h(t,["pageToken"]);return e!==void 0&&r!=null&&g(e,["_query","pageToken"],r),n}function jH(t){const e={},n=h(t,["config"]);return n!=null&&KH(n,e),e}function YH(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const i=h(t,["nextPageToken"]);i!=null&&g(e,["nextPageToken"],i);const r=h(t,["files"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(u=>u)),g(e,["files"],a)}return e}let XH=class extends So{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new rs(go.PAGED_ITEM_FILES,i=>this.listInternal(i),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>n)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var n,i;let r,a="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=jH(e);return a=fe("files",c._url),u=c._query,delete c._url,delete c._query,r=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json().then(d=>{const m=d;return m.sdkHttpResponse={headers:p.headers},m})),r.then(p=>{const d=YH(p),m=new e$;return Object.assign(m,d),m})}}async createInternal(e){var n,i;let r,a="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=GH(e);return a=fe("upload/v1beta/files",c._url),u=c._query,delete c._url,delete c._query,r=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),r.then(p=>{const d=VH(p),m=new t$;return Object.assign(m,d),m})}}async get(e){var n,i;let r,a="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=JH(e);return a=fe("files/{file}",c._url),u=c._query,delete c._url,delete c._query,r=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),r.then(p=>p)}}async delete(e){var n,i;let r,a="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=zH(e);return a=fe("files/{file}",c._url),u=c._query,delete c._url,delete c._query,r=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json().then(d=>{const m=d;return m.sdkHttpResponse={headers:p.headers},m})),r.then(p=>{const d=qH(p),m=new n$;return Object.assign(m,d),m})}}};function Qf(t){const e={},n=h(t,["data"]);if(n!=null&&g(e,["data"],n),h(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=h(t,["mimeType"]);return i!=null&&g(e,["mimeType"],i),e}function WH(t){const e={},n=h(t,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(a=>pG(a))),g(e,["parts"],r)}const i=h(t,["role"]);return i!=null&&g(e,["role"],i),e}function QH(t){const e={};if(h(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=h(t,["fileUri"]);n!=null&&g(e,["fileUri"],n);const i=h(t,["mimeType"]);return i!=null&&g(e,["mimeType"],i),e}function ZH(t){const e={},n=h(t,["id"]);n!=null&&g(e,["id"],n);const i=h(t,["args"]);i!=null&&g(e,["args"],i);const r=h(t,["name"]);if(r!=null&&g(e,["name"],r),h(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(h(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function eG(t){const e={};if(h(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=h(t,["description"]);n!=null&&g(e,["description"],n);const i=h(t,["name"]);i!=null&&g(e,["name"],i);const r=h(t,["parameters"]);r!=null&&g(e,["parameters"],r);const a=h(t,["parametersJsonSchema"]);a!=null&&g(e,["parametersJsonSchema"],a);const u=h(t,["response"]);u!=null&&g(e,["response"],u);const c=h(t,["responseJsonSchema"]);return c!=null&&g(e,["responseJsonSchema"],c),e}function tG(t){const e={},n=h(t,["modelSelectionConfig"]);n!=null&&g(e,["modelConfig"],n);const i=h(t,["responseJsonSchema"]);i!=null&&g(e,["responseJsonSchema"],i);const r=h(t,["audioTimestamp"]);r!=null&&g(e,["audioTimestamp"],r);const a=h(t,["candidateCount"]);a!=null&&g(e,["candidateCount"],a);const u=h(t,["enableAffectiveDialog"]);u!=null&&g(e,["enableAffectiveDialog"],u);const c=h(t,["frequencyPenalty"]);c!=null&&g(e,["frequencyPenalty"],c);const p=h(t,["logprobs"]);p!=null&&g(e,["logprobs"],p);const d=h(t,["maxOutputTokens"]);d!=null&&g(e,["maxOutputTokens"],d);const m=h(t,["mediaResolution"]);m!=null&&g(e,["mediaResolution"],m);const y=h(t,["presencePenalty"]);y!=null&&g(e,["presencePenalty"],y);const S=h(t,["responseLogprobs"]);S!=null&&g(e,["responseLogprobs"],S);const b=h(t,["responseMimeType"]);b!=null&&g(e,["responseMimeType"],b);const T=h(t,["responseModalities"]);T!=null&&g(e,["responseModalities"],T);const A=h(t,["responseSchema"]);A!=null&&g(e,["responseSchema"],A);const x=h(t,["routingConfig"]);x!=null&&g(e,["routingConfig"],x);const M=h(t,["seed"]);M!=null&&g(e,["seed"],M);const I=h(t,["speechConfig"]);I!=null&&g(e,["speechConfig"],_M(I));const N=h(t,["stopSequences"]);N!=null&&g(e,["stopSequences"],N);const D=h(t,["temperature"]);D!=null&&g(e,["temperature"],D);const L=h(t,["thinkingConfig"]);L!=null&&g(e,["thinkingConfig"],L);const U=h(t,["topK"]);U!=null&&g(e,["topK"],U);const O=h(t,["topP"]);if(O!=null&&g(e,["topP"],O),h(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function nG(t){const e={};if(h(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=h(t,["enableWidget"]);return n!=null&&g(e,["enableWidget"],n),e}function iG(t){const e={};if(h(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(h(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=h(t,["timeRangeFilter"]);return n!=null&&g(e,["timeRangeFilter"],n),e}function oG(t,e){const n={},i=h(t,["generationConfig"]);e!==void 0&&i!=null&&g(e,["setup","generationConfig"],i);const r=h(t,["responseModalities"]);e!==void 0&&r!=null&&g(e,["setup","generationConfig","responseModalities"],r);const a=h(t,["temperature"]);e!==void 0&&a!=null&&g(e,["setup","generationConfig","temperature"],a);const u=h(t,["topP"]);e!==void 0&&u!=null&&g(e,["setup","generationConfig","topP"],u);const c=h(t,["topK"]);e!==void 0&&c!=null&&g(e,["setup","generationConfig","topK"],c);const p=h(t,["maxOutputTokens"]);e!==void 0&&p!=null&&g(e,["setup","generationConfig","maxOutputTokens"],p);const d=h(t,["mediaResolution"]);e!==void 0&&d!=null&&g(e,["setup","generationConfig","mediaResolution"],d);const m=h(t,["seed"]);e!==void 0&&m!=null&&g(e,["setup","generationConfig","seed"],m);const y=h(t,["speechConfig"]);e!==void 0&&y!=null&&g(e,["setup","generationConfig","speechConfig"],Gy(y));const S=h(t,["thinkingConfig"]);e!==void 0&&S!=null&&g(e,["setup","generationConfig","thinkingConfig"],S);const b=h(t,["enableAffectiveDialog"]);e!==void 0&&b!=null&&g(e,["setup","generationConfig","enableAffectiveDialog"],b);const T=h(t,["systemInstruction"]);e!==void 0&&T!=null&&g(e,["setup","systemInstruction"],WH(Bt(T)));const A=h(t,["tools"]);if(e!==void 0&&A!=null){let U=Ia(A);Array.isArray(U)&&(U=U.map(O=>mG(Na(O)))),g(e,["setup","tools"],U)}const x=h(t,["sessionResumption"]);e!==void 0&&x!=null&&g(e,["setup","sessionResumption"],hG(x));const M=h(t,["inputAudioTranscription"]);e!==void 0&&M!=null&&g(e,["setup","inputAudioTranscription"],M);const I=h(t,["outputAudioTranscription"]);e!==void 0&&I!=null&&g(e,["setup","outputAudioTranscription"],I);const N=h(t,["realtimeInputConfig"]);e!==void 0&&N!=null&&g(e,["setup","realtimeInputConfig"],N);const D=h(t,["contextWindowCompression"]);e!==void 0&&D!=null&&g(e,["setup","contextWindowCompression"],D);const L=h(t,["proactivity"]);if(e!==void 0&&L!=null&&g(e,["setup","proactivity"],L),h(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function rG(t,e){const n={},i=h(t,["generationConfig"]);e!==void 0&&i!=null&&g(e,["setup","generationConfig"],tG(i));const r=h(t,["responseModalities"]);e!==void 0&&r!=null&&g(e,["setup","generationConfig","responseModalities"],r);const a=h(t,["temperature"]);e!==void 0&&a!=null&&g(e,["setup","generationConfig","temperature"],a);const u=h(t,["topP"]);e!==void 0&&u!=null&&g(e,["setup","generationConfig","topP"],u);const c=h(t,["topK"]);e!==void 0&&c!=null&&g(e,["setup","generationConfig","topK"],c);const p=h(t,["maxOutputTokens"]);e!==void 0&&p!=null&&g(e,["setup","generationConfig","maxOutputTokens"],p);const d=h(t,["mediaResolution"]);e!==void 0&&d!=null&&g(e,["setup","generationConfig","mediaResolution"],d);const m=h(t,["seed"]);e!==void 0&&m!=null&&g(e,["setup","generationConfig","seed"],m);const y=h(t,["speechConfig"]);e!==void 0&&y!=null&&g(e,["setup","generationConfig","speechConfig"],_M(Gy(y)));const S=h(t,["thinkingConfig"]);e!==void 0&&S!=null&&g(e,["setup","generationConfig","thinkingConfig"],S);const b=h(t,["enableAffectiveDialog"]);e!==void 0&&b!=null&&g(e,["setup","generationConfig","enableAffectiveDialog"],b);const T=h(t,["systemInstruction"]);e!==void 0&&T!=null&&g(e,["setup","systemInstruction"],Bt(T));const A=h(t,["tools"]);if(e!==void 0&&A!=null){let O=Ia(A);Array.isArray(O)&&(O=O.map(q=>gG(Na(q)))),g(e,["setup","tools"],O)}const x=h(t,["sessionResumption"]);e!==void 0&&x!=null&&g(e,["setup","sessionResumption"],x);const M=h(t,["inputAudioTranscription"]);e!==void 0&&M!=null&&g(e,["setup","inputAudioTranscription"],M);const I=h(t,["outputAudioTranscription"]);e!==void 0&&I!=null&&g(e,["setup","outputAudioTranscription"],I);const N=h(t,["realtimeInputConfig"]);e!==void 0&&N!=null&&g(e,["setup","realtimeInputConfig"],N);const D=h(t,["contextWindowCompression"]);e!==void 0&&D!=null&&g(e,["setup","contextWindowCompression"],D);const L=h(t,["proactivity"]);e!==void 0&&L!=null&&g(e,["setup","proactivity"],L);const U=h(t,["explicitVadSignal"]);return e!==void 0&&U!=null&&g(e,["setup","explicitVadSignal"],U),n}function sG(t,e){const n={},i=h(e,["model"]);i!=null&&g(n,["setup","model"],Ve(t,i));const r=h(e,["config"]);return r!=null&&g(n,["config"],oG(r,n)),n}function aG(t,e){const n={},i=h(e,["model"]);i!=null&&g(n,["setup","model"],Ve(t,i));const r=h(e,["config"]);return r!=null&&g(n,["config"],rG(r,n)),n}function lG(t){const e={},n=h(t,["musicGenerationConfig"]);return n!=null&&g(e,["musicGenerationConfig"],n),e}function uG(t){const e={},n=h(t,["weightedPrompts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(r=>r)),g(e,["weightedPrompts"],i)}return e}function cG(t){const e={},n=h(t,["media"]);if(n!=null){let d=sM(n);Array.isArray(d)&&(d=d.map(m=>Qf(m))),g(e,["mediaChunks"],d)}const i=h(t,["audio"]);i!=null&&g(e,["audio"],Qf(lM(i)));const r=h(t,["audioStreamEnd"]);r!=null&&g(e,["audioStreamEnd"],r);const a=h(t,["video"]);a!=null&&g(e,["video"],Qf(aM(a)));const u=h(t,["text"]);u!=null&&g(e,["text"],u);const c=h(t,["activityStart"]);c!=null&&g(e,["activityStart"],c);const p=h(t,["activityEnd"]);return p!=null&&g(e,["activityEnd"],p),e}function fG(t){const e={},n=h(t,["media"]);if(n!=null){let d=sM(n);Array.isArray(d)&&(d=d.map(m=>m)),g(e,["mediaChunks"],d)}const i=h(t,["audio"]);i!=null&&g(e,["audio"],lM(i));const r=h(t,["audioStreamEnd"]);r!=null&&g(e,["audioStreamEnd"],r);const a=h(t,["video"]);a!=null&&g(e,["video"],aM(a));const u=h(t,["text"]);u!=null&&g(e,["text"],u);const c=h(t,["activityStart"]);c!=null&&g(e,["activityStart"],c);const p=h(t,["activityEnd"]);return p!=null&&g(e,["activityEnd"],p),e}function dG(t){const e={},n=h(t,["setupComplete"]);n!=null&&g(e,["setupComplete"],n);const i=h(t,["serverContent"]);i!=null&&g(e,["serverContent"],i);const r=h(t,["toolCall"]);r!=null&&g(e,["toolCall"],r);const a=h(t,["toolCallCancellation"]);a!=null&&g(e,["toolCallCancellation"],a);const u=h(t,["usageMetadata"]);u!=null&&g(e,["usageMetadata"],vG(u));const c=h(t,["goAway"]);c!=null&&g(e,["goAway"],c);const p=h(t,["sessionResumptionUpdate"]);p!=null&&g(e,["sessionResumptionUpdate"],p);const d=h(t,["voiceActivityDetectionSignal"]);return d!=null&&g(e,["voiceActivityDetectionSignal"],d),e}function pG(t){const e={},n=h(t,["mediaResolution"]);n!=null&&g(e,["mediaResolution"],n);const i=h(t,["codeExecutionResult"]);i!=null&&g(e,["codeExecutionResult"],i);const r=h(t,["executableCode"]);r!=null&&g(e,["executableCode"],r);const a=h(t,["fileData"]);a!=null&&g(e,["fileData"],QH(a));const u=h(t,["functionCall"]);u!=null&&g(e,["functionCall"],ZH(u));const c=h(t,["functionResponse"]);c!=null&&g(e,["functionResponse"],c);const p=h(t,["inlineData"]);p!=null&&g(e,["inlineData"],Qf(p));const d=h(t,["text"]);d!=null&&g(e,["text"],d);const m=h(t,["thought"]);m!=null&&g(e,["thought"],m);const y=h(t,["thoughtSignature"]);y!=null&&g(e,["thoughtSignature"],y);const S=h(t,["videoMetadata"]);return S!=null&&g(e,["videoMetadata"],S),e}function hG(t){const e={},n=h(t,["handle"]);if(n!=null&&g(e,["handle"],n),h(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function _M(t){const e={},n=h(t,["voiceConfig"]);n!=null&&g(e,["voiceConfig"],n);const i=h(t,["languageCode"]);if(i!=null&&g(e,["languageCode"],i),h(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return e}function mG(t){const e={},n=h(t,["functionDeclarations"]);if(n!=null){let m=n;Array.isArray(m)&&(m=m.map(y=>y)),g(e,["functionDeclarations"],m)}if(h(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=h(t,["googleSearchRetrieval"]);i!=null&&g(e,["googleSearchRetrieval"],i);const r=h(t,["computerUse"]);r!=null&&g(e,["computerUse"],r);const a=h(t,["fileSearch"]);a!=null&&g(e,["fileSearch"],a);const u=h(t,["codeExecution"]);if(u!=null&&g(e,["codeExecution"],u),h(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const c=h(t,["googleMaps"]);c!=null&&g(e,["googleMaps"],nG(c));const p=h(t,["googleSearch"]);p!=null&&g(e,["googleSearch"],iG(p));const d=h(t,["urlContext"]);return d!=null&&g(e,["urlContext"],d),e}function gG(t){const e={},n=h(t,["functionDeclarations"]);if(n!=null){let y=n;Array.isArray(y)&&(y=y.map(S=>eG(S))),g(e,["functionDeclarations"],y)}const i=h(t,["retrieval"]);i!=null&&g(e,["retrieval"],i);const r=h(t,["googleSearchRetrieval"]);r!=null&&g(e,["googleSearchRetrieval"],r);const a=h(t,["computerUse"]);if(a!=null&&g(e,["computerUse"],a),h(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const u=h(t,["codeExecution"]);u!=null&&g(e,["codeExecution"],u);const c=h(t,["enterpriseWebSearch"]);c!=null&&g(e,["enterpriseWebSearch"],c);const p=h(t,["googleMaps"]);p!=null&&g(e,["googleMaps"],p);const d=h(t,["googleSearch"]);d!=null&&g(e,["googleSearch"],d);const m=h(t,["urlContext"]);return m!=null&&g(e,["urlContext"],m),e}function vG(t){const e={},n=h(t,["promptTokenCount"]);n!=null&&g(e,["promptTokenCount"],n);const i=h(t,["cachedContentTokenCount"]);i!=null&&g(e,["cachedContentTokenCount"],i);const r=h(t,["candidatesTokenCount"]);r!=null&&g(e,["responseTokenCount"],r);const a=h(t,["toolUsePromptTokenCount"]);a!=null&&g(e,["toolUsePromptTokenCount"],a);const u=h(t,["thoughtsTokenCount"]);u!=null&&g(e,["thoughtsTokenCount"],u);const c=h(t,["totalTokenCount"]);c!=null&&g(e,["totalTokenCount"],c);const p=h(t,["promptTokensDetails"]);if(p!=null){let b=p;Array.isArray(b)&&(b=b.map(T=>T)),g(e,["promptTokensDetails"],b)}const d=h(t,["cacheTokensDetails"]);if(d!=null){let b=d;Array.isArray(b)&&(b=b.map(T=>T)),g(e,["cacheTokensDetails"],b)}const m=h(t,["candidatesTokensDetails"]);if(m!=null){let b=m;Array.isArray(b)&&(b=b.map(T=>T)),g(e,["responseTokensDetails"],b)}const y=h(t,["toolUsePromptTokensDetails"]);if(y!=null){let b=y;Array.isArray(b)&&(b=b.map(T=>T)),g(e,["toolUsePromptTokensDetails"],b)}const S=h(t,["trafficType"]);return S!=null&&g(e,["trafficType"],S),e}function yG(t){const e={},n=h(t,["data"]);if(n!=null&&g(e,["data"],n),h(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=h(t,["mimeType"]);return i!=null&&g(e,["mimeType"],i),e}function _G(t){const e={},n=h(t,["content"]);n!=null&&g(e,["content"],n);const i=h(t,["citationMetadata"]);i!=null&&g(e,["citationMetadata"],SG(i));const r=h(t,["tokenCount"]);r!=null&&g(e,["tokenCount"],r);const a=h(t,["finishReason"]);a!=null&&g(e,["finishReason"],a);const u=h(t,["avgLogprobs"]);u!=null&&g(e,["avgLogprobs"],u);const c=h(t,["groundingMetadata"]);c!=null&&g(e,["groundingMetadata"],c);const p=h(t,["index"]);p!=null&&g(e,["index"],p);const d=h(t,["logprobsResult"]);d!=null&&g(e,["logprobsResult"],d);const m=h(t,["safetyRatings"]);if(m!=null){let S=m;Array.isArray(S)&&(S=S.map(b=>b)),g(e,["safetyRatings"],S)}const y=h(t,["urlContextMetadata"]);return y!=null&&g(e,["urlContextMetadata"],y),e}function SG(t){const e={},n=h(t,["citationSources"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(r=>r)),g(e,["citations"],i)}return e}function bG(t,e){const n={},i=h(e,["model"]);i!=null&&g(n,["_url","model"],Ve(t,i));const r=h(e,["contents"]);if(r!=null){let a=Hn(r);Array.isArray(a)&&(a=a.map(u=>u)),g(n,["contents"],a)}return n}function EG(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const i=h(t,["tokensInfo"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(a=>a)),g(e,["tokensInfo"],r)}return e}function wG(t){const e={},n=h(t,["values"]);n!=null&&g(e,["values"],n);const i=h(t,["statistics"]);return i!=null&&g(e,["statistics"],CG(i)),e}function CG(t){const e={},n=h(t,["truncated"]);n!=null&&g(e,["truncated"],n);const i=h(t,["token_count"]);return i!=null&&g(e,["tokenCount"],i),e}function cp(t){const e={},n=h(t,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(a=>OV(a))),g(e,["parts"],r)}const i=h(t,["role"]);return i!=null&&g(e,["role"],i),e}function TG(t){const e={},n=h(t,["controlType"]);n!=null&&g(e,["controlType"],n);const i=h(t,["enableControlImageComputation"]);return i!=null&&g(e,["computeControl"],i),e}function AG(t){const e={};if(h(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(h(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(h(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function xG(t,e){const n={},i=h(t,["systemInstruction"]);e!==void 0&&i!=null&&g(e,["systemInstruction"],Bt(i));const r=h(t,["tools"]);if(e!==void 0&&r!=null){let u=r;Array.isArray(u)&&(u=u.map(c=>CM(c))),g(e,["tools"],u)}const a=h(t,["generationConfig"]);return e!==void 0&&a!=null&&g(e,["generationConfig"],yV(a)),n}function RG(t,e){const n={},i=h(e,["model"]);i!=null&&g(n,["_url","model"],Ve(t,i));const r=h(e,["contents"]);if(r!=null){let u=Hn(r);Array.isArray(u)&&(u=u.map(c=>cp(c))),g(n,["contents"],u)}const a=h(e,["config"]);return a!=null&&AG(a),n}function MG(t,e){const n={},i=h(e,["model"]);i!=null&&g(n,["_url","model"],Ve(t,i));const r=h(e,["contents"]);if(r!=null){let u=Hn(r);Array.isArray(u)&&(u=u.map(c=>c)),g(n,["contents"],u)}const a=h(e,["config"]);return a!=null&&xG(a,n),n}function NG(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const i=h(t,["totalTokens"]);i!=null&&g(e,["totalTokens"],i);const r=h(t,["cachedContentTokenCount"]);return r!=null&&g(e,["cachedContentTokenCount"],r),e}function IG(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const i=h(t,["totalTokens"]);return i!=null&&g(e,["totalTokens"],i),e}function DG(t,e){const n={},i=h(e,["model"]);return i!=null&&g(n,["_url","name"],Ve(t,i)),n}function OG(t,e){const n={},i=h(e,["model"]);return i!=null&&g(n,["_url","name"],Ve(t,i)),n}function PG(t){const e={},n=h(t,["sdkHttpResponse"]);return n!=null&&g(e,["sdkHttpResponse"],n),e}function kG(t){const e={},n=h(t,["sdkHttpResponse"]);return n!=null&&g(e,["sdkHttpResponse"],n),e}function LG(t,e){const n={},i=h(t,["outputGcsUri"]);e!==void 0&&i!=null&&g(e,["parameters","storageUri"],i);const r=h(t,["negativePrompt"]);e!==void 0&&r!=null&&g(e,["parameters","negativePrompt"],r);const a=h(t,["numberOfImages"]);e!==void 0&&a!=null&&g(e,["parameters","sampleCount"],a);const u=h(t,["aspectRatio"]);e!==void 0&&u!=null&&g(e,["parameters","aspectRatio"],u);const c=h(t,["guidanceScale"]);e!==void 0&&c!=null&&g(e,["parameters","guidanceScale"],c);const p=h(t,["seed"]);e!==void 0&&p!=null&&g(e,["parameters","seed"],p);const d=h(t,["safetyFilterLevel"]);e!==void 0&&d!=null&&g(e,["parameters","safetySetting"],d);const m=h(t,["personGeneration"]);e!==void 0&&m!=null&&g(e,["parameters","personGeneration"],m);const y=h(t,["includeSafetyAttributes"]);e!==void 0&&y!=null&&g(e,["parameters","includeSafetyAttributes"],y);const S=h(t,["includeRaiReason"]);e!==void 0&&S!=null&&g(e,["parameters","includeRaiReason"],S);const b=h(t,["language"]);e!==void 0&&b!=null&&g(e,["parameters","language"],b);const T=h(t,["outputMimeType"]);e!==void 0&&T!=null&&g(e,["parameters","outputOptions","mimeType"],T);const A=h(t,["outputCompressionQuality"]);e!==void 0&&A!=null&&g(e,["parameters","outputOptions","compressionQuality"],A);const x=h(t,["addWatermark"]);e!==void 0&&x!=null&&g(e,["parameters","addWatermark"],x);const M=h(t,["labels"]);e!==void 0&&M!=null&&g(e,["labels"],M);const I=h(t,["editMode"]);e!==void 0&&I!=null&&g(e,["parameters","editMode"],I);const N=h(t,["baseSteps"]);return e!==void 0&&N!=null&&g(e,["parameters","editConfig","baseSteps"],N),n}function UG(t,e){const n={},i=h(e,["model"]);i!=null&&g(n,["_url","model"],Ve(t,i));const r=h(e,["prompt"]);r!=null&&g(n,["instances[0]","prompt"],r);const a=h(e,["referenceImages"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(p=>FV(p))),g(n,["instances[0]","referenceImages"],c)}const u=h(e,["config"]);return u!=null&&LG(u,n),n}function BG(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const i=h(t,["predictions"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(a=>fp(a))),g(e,["generatedImages"],r)}return e}function FG(t,e){const n={},i=h(t,["taskType"]);e!==void 0&&i!=null&&g(e,["requests[]","taskType"],i);const r=h(t,["title"]);e!==void 0&&r!=null&&g(e,["requests[]","title"],r);const a=h(t,["outputDimensionality"]);if(e!==void 0&&a!=null&&g(e,["requests[]","outputDimensionality"],a),h(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(h(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function $G(t,e){const n={},i=h(t,["taskType"]);e!==void 0&&i!=null&&g(e,["instances[]","task_type"],i);const r=h(t,["title"]);e!==void 0&&r!=null&&g(e,["instances[]","title"],r);const a=h(t,["outputDimensionality"]);e!==void 0&&a!=null&&g(e,["parameters","outputDimensionality"],a);const u=h(t,["mimeType"]);e!==void 0&&u!=null&&g(e,["instances[]","mimeType"],u);const c=h(t,["autoTruncate"]);return e!==void 0&&c!=null&&g(e,["parameters","autoTruncate"],c),n}function HG(t,e){const n={},i=h(e,["model"]);i!=null&&g(n,["_url","model"],Ve(t,i));const r=h(e,["contents"]);if(r!=null){let c=Fy(t,r);Array.isArray(c)&&(c=c.map(p=>p)),g(n,["requests[]","content"],c)}const a=h(e,["config"]);a!=null&&FG(a,n);const u=h(e,["model"]);return u!==void 0&&g(n,["requests[]","model"],Ve(t,u)),n}function GG(t,e){const n={},i=h(e,["model"]);i!=null&&g(n,["_url","model"],Ve(t,i));const r=h(e,["contents"]);if(r!=null){let u=Fy(t,r);Array.isArray(u)&&(u=u.map(c=>c)),g(n,["instances[]","content"],u)}const a=h(e,["config"]);return a!=null&&$G(a,n),n}function VG(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const i=h(t,["embeddings"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(u=>u)),g(e,["embeddings"],a)}const r=h(t,["metadata"]);return r!=null&&g(e,["metadata"],r),e}function zG(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const i=h(t,["predictions[]","embeddings"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(u=>wG(u))),g(e,["embeddings"],a)}const r=h(t,["metadata"]);return r!=null&&g(e,["metadata"],r),e}function qG(t){const e={},n=h(t,["endpoint"]);n!=null&&g(e,["name"],n);const i=h(t,["deployedModelId"]);return i!=null&&g(e,["deployedModelId"],i),e}function JG(t){const e={};if(h(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=h(t,["fileUri"]);n!=null&&g(e,["fileUri"],n);const i=h(t,["mimeType"]);return i!=null&&g(e,["mimeType"],i),e}function KG(t){const e={},n=h(t,["id"]);n!=null&&g(e,["id"],n);const i=h(t,["args"]);i!=null&&g(e,["args"],i);const r=h(t,["name"]);if(r!=null&&g(e,["name"],r),h(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(h(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function jG(t){const e={},n=h(t,["mode"]);n!=null&&g(e,["mode"],n);const i=h(t,["allowedFunctionNames"]);if(i!=null&&g(e,["allowedFunctionNames"],i),h(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function YG(t){const e={};if(h(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=h(t,["description"]);n!=null&&g(e,["description"],n);const i=h(t,["name"]);i!=null&&g(e,["name"],i);const r=h(t,["parameters"]);r!=null&&g(e,["parameters"],r);const a=h(t,["parametersJsonSchema"]);a!=null&&g(e,["parametersJsonSchema"],a);const u=h(t,["response"]);u!=null&&g(e,["response"],u);const c=h(t,["responseJsonSchema"]);return c!=null&&g(e,["responseJsonSchema"],c),e}function XG(t,e,n){const i={},r=h(e,["systemInstruction"]);n!==void 0&&r!=null&&g(n,["systemInstruction"],cp(Bt(r)));const a=h(e,["temperature"]);a!=null&&g(i,["temperature"],a);const u=h(e,["topP"]);u!=null&&g(i,["topP"],u);const c=h(e,["topK"]);c!=null&&g(i,["topK"],c);const p=h(e,["candidateCount"]);p!=null&&g(i,["candidateCount"],p);const d=h(e,["maxOutputTokens"]);d!=null&&g(i,["maxOutputTokens"],d);const m=h(e,["stopSequences"]);m!=null&&g(i,["stopSequences"],m);const y=h(e,["responseLogprobs"]);y!=null&&g(i,["responseLogprobs"],y);const S=h(e,["logprobs"]);S!=null&&g(i,["logprobs"],S);const b=h(e,["presencePenalty"]);b!=null&&g(i,["presencePenalty"],b);const T=h(e,["frequencyPenalty"]);T!=null&&g(i,["frequencyPenalty"],T);const A=h(e,["seed"]);A!=null&&g(i,["seed"],A);const x=h(e,["responseMimeType"]);x!=null&&g(i,["responseMimeType"],x);const M=h(e,["responseSchema"]);M!=null&&g(i,["responseSchema"],$y(M));const I=h(e,["responseJsonSchema"]);if(I!=null&&g(i,["responseJsonSchema"],I),h(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(h(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const N=h(e,["safetySettings"]);if(n!==void 0&&N!=null){let ie=N;Array.isArray(ie)&&(ie=ie.map(ae=>$V(ae))),g(n,["safetySettings"],ie)}const D=h(e,["tools"]);if(n!==void 0&&D!=null){let ie=Ia(D);Array.isArray(ie)&&(ie=ie.map(ae=>KV(Na(ae)))),g(n,["tools"],ie)}const L=h(e,["toolConfig"]);if(n!==void 0&&L!=null&&g(n,["toolConfig"],JV(L)),h(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const U=h(e,["cachedContent"]);n!==void 0&&U!=null&&g(n,["cachedContent"],bo(t,U));const O=h(e,["responseModalities"]);O!=null&&g(i,["responseModalities"],O);const q=h(e,["mediaResolution"]);q!=null&&g(i,["mediaResolution"],q);const J=h(e,["speechConfig"]);if(J!=null&&g(i,["speechConfig"],Hy(J)),h(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const Y=h(e,["thinkingConfig"]);Y!=null&&g(i,["thinkingConfig"],Y);const W=h(e,["imageConfig"]);W!=null&&g(i,["imageConfig"],wV(W));const re=h(e,["enableEnhancedCivicAnswers"]);return re!=null&&g(i,["enableEnhancedCivicAnswers"],re),i}function WG(t,e,n){const i={},r=h(e,["systemInstruction"]);n!==void 0&&r!=null&&g(n,["systemInstruction"],Bt(r));const a=h(e,["temperature"]);a!=null&&g(i,["temperature"],a);const u=h(e,["topP"]);u!=null&&g(i,["topP"],u);const c=h(e,["topK"]);c!=null&&g(i,["topK"],c);const p=h(e,["candidateCount"]);p!=null&&g(i,["candidateCount"],p);const d=h(e,["maxOutputTokens"]);d!=null&&g(i,["maxOutputTokens"],d);const m=h(e,["stopSequences"]);m!=null&&g(i,["stopSequences"],m);const y=h(e,["responseLogprobs"]);y!=null&&g(i,["responseLogprobs"],y);const S=h(e,["logprobs"]);S!=null&&g(i,["logprobs"],S);const b=h(e,["presencePenalty"]);b!=null&&g(i,["presencePenalty"],b);const T=h(e,["frequencyPenalty"]);T!=null&&g(i,["frequencyPenalty"],T);const A=h(e,["seed"]);A!=null&&g(i,["seed"],A);const x=h(e,["responseMimeType"]);x!=null&&g(i,["responseMimeType"],x);const M=h(e,["responseSchema"]);M!=null&&g(i,["responseSchema"],$y(M));const I=h(e,["responseJsonSchema"]);I!=null&&g(i,["responseJsonSchema"],I);const N=h(e,["routingConfig"]);N!=null&&g(i,["routingConfig"],N);const D=h(e,["modelSelectionConfig"]);D!=null&&g(i,["modelConfig"],D);const L=h(e,["safetySettings"]);if(n!==void 0&&L!=null){let F=L;Array.isArray(F)&&(F=F.map(Q=>Q)),g(n,["safetySettings"],F)}const U=h(e,["tools"]);if(n!==void 0&&U!=null){let F=Ia(U);Array.isArray(F)&&(F=F.map(Q=>CM(Na(Q)))),g(n,["tools"],F)}const O=h(e,["toolConfig"]);n!==void 0&&O!=null&&g(n,["toolConfig"],O);const q=h(e,["labels"]);n!==void 0&&q!=null&&g(n,["labels"],q);const J=h(e,["cachedContent"]);n!==void 0&&J!=null&&g(n,["cachedContent"],bo(t,J));const Y=h(e,["responseModalities"]);Y!=null&&g(i,["responseModalities"],Y);const W=h(e,["mediaResolution"]);W!=null&&g(i,["mediaResolution"],W);const re=h(e,["speechConfig"]);re!=null&&g(i,["speechConfig"],wM(Hy(re)));const ie=h(e,["audioTimestamp"]);ie!=null&&g(i,["audioTimestamp"],ie);const ae=h(e,["thinkingConfig"]);ae!=null&&g(i,["thinkingConfig"],ae);const de=h(e,["imageConfig"]);if(de!=null&&g(i,["imageConfig"],CV(de)),h(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return i}function rT(t,e){const n={},i=h(e,["model"]);i!=null&&g(n,["_url","model"],Ve(t,i));const r=h(e,["contents"]);if(r!=null){let u=Hn(r);Array.isArray(u)&&(u=u.map(c=>cp(c))),g(n,["contents"],u)}const a=h(e,["config"]);return a!=null&&g(n,["generationConfig"],XG(t,a,n)),n}function sT(t,e){const n={},i=h(e,["model"]);i!=null&&g(n,["_url","model"],Ve(t,i));const r=h(e,["contents"]);if(r!=null){let u=Hn(r);Array.isArray(u)&&(u=u.map(c=>c)),g(n,["contents"],u)}const a=h(e,["config"]);return a!=null&&g(n,["generationConfig"],WG(t,a,n)),n}function aT(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const i=h(t,["candidates"]);if(i!=null){let p=i;Array.isArray(p)&&(p=p.map(d=>_G(d))),g(e,["candidates"],p)}const r=h(t,["modelVersion"]);r!=null&&g(e,["modelVersion"],r);const a=h(t,["promptFeedback"]);a!=null&&g(e,["promptFeedback"],a);const u=h(t,["responseId"]);u!=null&&g(e,["responseId"],u);const c=h(t,["usageMetadata"]);return c!=null&&g(e,["usageMetadata"],c),e}function lT(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const i=h(t,["candidates"]);if(i!=null){let d=i;Array.isArray(d)&&(d=d.map(m=>m)),g(e,["candidates"],d)}const r=h(t,["createTime"]);r!=null&&g(e,["createTime"],r);const a=h(t,["modelVersion"]);a!=null&&g(e,["modelVersion"],a);const u=h(t,["promptFeedback"]);u!=null&&g(e,["promptFeedback"],u);const c=h(t,["responseId"]);c!=null&&g(e,["responseId"],c);const p=h(t,["usageMetadata"]);return p!=null&&g(e,["usageMetadata"],p),e}function QG(t,e){const n={};if(h(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(h(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const i=h(t,["numberOfImages"]);e!==void 0&&i!=null&&g(e,["parameters","sampleCount"],i);const r=h(t,["aspectRatio"]);e!==void 0&&r!=null&&g(e,["parameters","aspectRatio"],r);const a=h(t,["guidanceScale"]);if(e!==void 0&&a!=null&&g(e,["parameters","guidanceScale"],a),h(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const u=h(t,["safetyFilterLevel"]);e!==void 0&&u!=null&&g(e,["parameters","safetySetting"],u);const c=h(t,["personGeneration"]);e!==void 0&&c!=null&&g(e,["parameters","personGeneration"],c);const p=h(t,["includeSafetyAttributes"]);e!==void 0&&p!=null&&g(e,["parameters","includeSafetyAttributes"],p);const d=h(t,["includeRaiReason"]);e!==void 0&&d!=null&&g(e,["parameters","includeRaiReason"],d);const m=h(t,["language"]);e!==void 0&&m!=null&&g(e,["parameters","language"],m);const y=h(t,["outputMimeType"]);e!==void 0&&y!=null&&g(e,["parameters","outputOptions","mimeType"],y);const S=h(t,["outputCompressionQuality"]);if(e!==void 0&&S!=null&&g(e,["parameters","outputOptions","compressionQuality"],S),h(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(h(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const b=h(t,["imageSize"]);if(e!==void 0&&b!=null&&g(e,["parameters","sampleImageSize"],b),h(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function ZG(t,e){const n={},i=h(t,["outputGcsUri"]);e!==void 0&&i!=null&&g(e,["parameters","storageUri"],i);const r=h(t,["negativePrompt"]);e!==void 0&&r!=null&&g(e,["parameters","negativePrompt"],r);const a=h(t,["numberOfImages"]);e!==void 0&&a!=null&&g(e,["parameters","sampleCount"],a);const u=h(t,["aspectRatio"]);e!==void 0&&u!=null&&g(e,["parameters","aspectRatio"],u);const c=h(t,["guidanceScale"]);e!==void 0&&c!=null&&g(e,["parameters","guidanceScale"],c);const p=h(t,["seed"]);e!==void 0&&p!=null&&g(e,["parameters","seed"],p);const d=h(t,["safetyFilterLevel"]);e!==void 0&&d!=null&&g(e,["parameters","safetySetting"],d);const m=h(t,["personGeneration"]);e!==void 0&&m!=null&&g(e,["parameters","personGeneration"],m);const y=h(t,["includeSafetyAttributes"]);e!==void 0&&y!=null&&g(e,["parameters","includeSafetyAttributes"],y);const S=h(t,["includeRaiReason"]);e!==void 0&&S!=null&&g(e,["parameters","includeRaiReason"],S);const b=h(t,["language"]);e!==void 0&&b!=null&&g(e,["parameters","language"],b);const T=h(t,["outputMimeType"]);e!==void 0&&T!=null&&g(e,["parameters","outputOptions","mimeType"],T);const A=h(t,["outputCompressionQuality"]);e!==void 0&&A!=null&&g(e,["parameters","outputOptions","compressionQuality"],A);const x=h(t,["addWatermark"]);e!==void 0&&x!=null&&g(e,["parameters","addWatermark"],x);const M=h(t,["labels"]);e!==void 0&&M!=null&&g(e,["labels"],M);const I=h(t,["imageSize"]);e!==void 0&&I!=null&&g(e,["parameters","sampleImageSize"],I);const N=h(t,["enhancePrompt"]);return e!==void 0&&N!=null&&g(e,["parameters","enhancePrompt"],N),n}function eV(t,e){const n={},i=h(e,["model"]);i!=null&&g(n,["_url","model"],Ve(t,i));const r=h(e,["prompt"]);r!=null&&g(n,["instances[0]","prompt"],r);const a=h(e,["config"]);return a!=null&&QG(a,n),n}function tV(t,e){const n={},i=h(e,["model"]);i!=null&&g(n,["_url","model"],Ve(t,i));const r=h(e,["prompt"]);r!=null&&g(n,["instances[0]","prompt"],r);const a=h(e,["config"]);return a!=null&&ZG(a,n),n}function nV(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const i=h(t,["predictions"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(u=>hV(u))),g(e,["generatedImages"],a)}const r=h(t,["positivePromptSafetyAttributes"]);return r!=null&&g(e,["positivePromptSafetyAttributes"],bM(r)),e}function iV(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const i=h(t,["predictions"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(u=>fp(u))),g(e,["generatedImages"],a)}const r=h(t,["positivePromptSafetyAttributes"]);return r!=null&&g(e,["positivePromptSafetyAttributes"],EM(r)),e}function oV(t,e){const n={},i=h(t,["numberOfVideos"]);if(e!==void 0&&i!=null&&g(e,["parameters","sampleCount"],i),h(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(h(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const r=h(t,["durationSeconds"]);if(e!==void 0&&r!=null&&g(e,["parameters","durationSeconds"],r),h(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const a=h(t,["aspectRatio"]);e!==void 0&&a!=null&&g(e,["parameters","aspectRatio"],a);const u=h(t,["resolution"]);e!==void 0&&u!=null&&g(e,["parameters","resolution"],u);const c=h(t,["personGeneration"]);if(e!==void 0&&c!=null&&g(e,["parameters","personGeneration"],c),h(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const p=h(t,["negativePrompt"]);e!==void 0&&p!=null&&g(e,["parameters","negativePrompt"],p);const d=h(t,["enhancePrompt"]);if(e!==void 0&&d!=null&&g(e,["parameters","enhancePrompt"],d),h(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const m=h(t,["lastFrame"]);e!==void 0&&m!=null&&g(e,["instances[0]","lastFrame"],dp(m));const y=h(t,["referenceImages"]);if(e!==void 0&&y!=null){let S=y;Array.isArray(S)&&(S=S.map(b=>sz(b))),g(e,["instances[0]","referenceImages"],S)}if(h(t,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(h(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function rV(t,e){const n={},i=h(t,["numberOfVideos"]);e!==void 0&&i!=null&&g(e,["parameters","sampleCount"],i);const r=h(t,["outputGcsUri"]);e!==void 0&&r!=null&&g(e,["parameters","storageUri"],r);const a=h(t,["fps"]);e!==void 0&&a!=null&&g(e,["parameters","fps"],a);const u=h(t,["durationSeconds"]);e!==void 0&&u!=null&&g(e,["parameters","durationSeconds"],u);const c=h(t,["seed"]);e!==void 0&&c!=null&&g(e,["parameters","seed"],c);const p=h(t,["aspectRatio"]);e!==void 0&&p!=null&&g(e,["parameters","aspectRatio"],p);const d=h(t,["resolution"]);e!==void 0&&d!=null&&g(e,["parameters","resolution"],d);const m=h(t,["personGeneration"]);e!==void 0&&m!=null&&g(e,["parameters","personGeneration"],m);const y=h(t,["pubsubTopic"]);e!==void 0&&y!=null&&g(e,["parameters","pubsubTopic"],y);const S=h(t,["negativePrompt"]);e!==void 0&&S!=null&&g(e,["parameters","negativePrompt"],S);const b=h(t,["enhancePrompt"]);e!==void 0&&b!=null&&g(e,["parameters","enhancePrompt"],b);const T=h(t,["generateAudio"]);e!==void 0&&T!=null&&g(e,["parameters","generateAudio"],T);const A=h(t,["lastFrame"]);e!==void 0&&A!=null&&g(e,["instances[0]","lastFrame"],di(A));const x=h(t,["referenceImages"]);if(e!==void 0&&x!=null){let N=x;Array.isArray(N)&&(N=N.map(D=>az(D))),g(e,["instances[0]","referenceImages"],N)}const M=h(t,["mask"]);e!==void 0&&M!=null&&g(e,["instances[0]","mask"],rz(M));const I=h(t,["compressionQuality"]);return e!==void 0&&I!=null&&g(e,["parameters","compressionQuality"],I),n}function sV(t){const e={},n=h(t,["name"]);n!=null&&g(e,["name"],n);const i=h(t,["metadata"]);i!=null&&g(e,["metadata"],i);const r=h(t,["done"]);r!=null&&g(e,["done"],r);const a=h(t,["error"]);a!=null&&g(e,["error"],a);const u=h(t,["response","generateVideoResponse"]);return u!=null&&g(e,["response"],cV(u)),e}function aV(t){const e={},n=h(t,["name"]);n!=null&&g(e,["name"],n);const i=h(t,["metadata"]);i!=null&&g(e,["metadata"],i);const r=h(t,["done"]);r!=null&&g(e,["done"],r);const a=h(t,["error"]);a!=null&&g(e,["error"],a);const u=h(t,["response"]);return u!=null&&g(e,["response"],fV(u)),e}function lV(t,e){const n={},i=h(e,["model"]);i!=null&&g(n,["_url","model"],Ve(t,i));const r=h(e,["prompt"]);r!=null&&g(n,["instances[0]","prompt"],r);const a=h(e,["image"]);a!=null&&g(n,["instances[0]","image"],dp(a));const u=h(e,["video"]);u!=null&&g(n,["instances[0]","video"],TM(u));const c=h(e,["source"]);c!=null&&dV(c,n);const p=h(e,["config"]);return p!=null&&oV(p,n),n}function uV(t,e){const n={},i=h(e,["model"]);i!=null&&g(n,["_url","model"],Ve(t,i));const r=h(e,["prompt"]);r!=null&&g(n,["instances[0]","prompt"],r);const a=h(e,["image"]);a!=null&&g(n,["instances[0]","image"],di(a));const u=h(e,["video"]);u!=null&&g(n,["instances[0]","video"],AM(u));const c=h(e,["source"]);c!=null&&pV(c,n);const p=h(e,["config"]);return p!=null&&rV(p,n),n}function cV(t){const e={},n=h(t,["generatedSamples"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(u=>gV(u))),g(e,["generatedVideos"],a)}const i=h(t,["raiMediaFilteredCount"]);i!=null&&g(e,["raiMediaFilteredCount"],i);const r=h(t,["raiMediaFilteredReasons"]);return r!=null&&g(e,["raiMediaFilteredReasons"],r),e}function fV(t){const e={},n=h(t,["videos"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(u=>vV(u))),g(e,["generatedVideos"],a)}const i=h(t,["raiMediaFilteredCount"]);i!=null&&g(e,["raiMediaFilteredCount"],i);const r=h(t,["raiMediaFilteredReasons"]);return r!=null&&g(e,["raiMediaFilteredReasons"],r),e}function dV(t,e){const n={},i=h(t,["prompt"]);e!==void 0&&i!=null&&g(e,["instances[0]","prompt"],i);const r=h(t,["image"]);e!==void 0&&r!=null&&g(e,["instances[0]","image"],dp(r));const a=h(t,["video"]);return e!==void 0&&a!=null&&g(e,["instances[0]","video"],TM(a)),n}function pV(t,e){const n={},i=h(t,["prompt"]);e!==void 0&&i!=null&&g(e,["instances[0]","prompt"],i);const r=h(t,["image"]);e!==void 0&&r!=null&&g(e,["instances[0]","image"],di(r));const a=h(t,["video"]);return e!==void 0&&a!=null&&g(e,["instances[0]","video"],AM(a)),n}function hV(t){const e={},n=h(t,["_self"]);n!=null&&g(e,["image"],TV(n));const i=h(t,["raiFilteredReason"]);i!=null&&g(e,["raiFilteredReason"],i);const r=h(t,["_self"]);return r!=null&&g(e,["safetyAttributes"],bM(r)),e}function fp(t){const e={},n=h(t,["_self"]);n!=null&&g(e,["image"],SM(n));const i=h(t,["raiFilteredReason"]);i!=null&&g(e,["raiFilteredReason"],i);const r=h(t,["_self"]);r!=null&&g(e,["safetyAttributes"],EM(r));const a=h(t,["prompt"]);return a!=null&&g(e,["enhancedPrompt"],a),e}function mV(t){const e={},n=h(t,["_self"]);n!=null&&g(e,["mask"],SM(n));const i=h(t,["labels"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(a=>a)),g(e,["labels"],r)}return e}function gV(t){const e={},n=h(t,["video"]);return n!=null&&g(e,["video"],iz(n)),e}function vV(t){const e={},n=h(t,["_self"]);return n!=null&&g(e,["video"],oz(n)),e}function yV(t){const e={},n=h(t,["modelSelectionConfig"]);n!=null&&g(e,["modelConfig"],n);const i=h(t,["responseJsonSchema"]);i!=null&&g(e,["responseJsonSchema"],i);const r=h(t,["audioTimestamp"]);r!=null&&g(e,["audioTimestamp"],r);const a=h(t,["candidateCount"]);a!=null&&g(e,["candidateCount"],a);const u=h(t,["enableAffectiveDialog"]);u!=null&&g(e,["enableAffectiveDialog"],u);const c=h(t,["frequencyPenalty"]);c!=null&&g(e,["frequencyPenalty"],c);const p=h(t,["logprobs"]);p!=null&&g(e,["logprobs"],p);const d=h(t,["maxOutputTokens"]);d!=null&&g(e,["maxOutputTokens"],d);const m=h(t,["mediaResolution"]);m!=null&&g(e,["mediaResolution"],m);const y=h(t,["presencePenalty"]);y!=null&&g(e,["presencePenalty"],y);const S=h(t,["responseLogprobs"]);S!=null&&g(e,["responseLogprobs"],S);const b=h(t,["responseMimeType"]);b!=null&&g(e,["responseMimeType"],b);const T=h(t,["responseModalities"]);T!=null&&g(e,["responseModalities"],T);const A=h(t,["responseSchema"]);A!=null&&g(e,["responseSchema"],A);const x=h(t,["routingConfig"]);x!=null&&g(e,["routingConfig"],x);const M=h(t,["seed"]);M!=null&&g(e,["seed"],M);const I=h(t,["speechConfig"]);I!=null&&g(e,["speechConfig"],wM(I));const N=h(t,["stopSequences"]);N!=null&&g(e,["stopSequences"],N);const D=h(t,["temperature"]);D!=null&&g(e,["temperature"],D);const L=h(t,["thinkingConfig"]);L!=null&&g(e,["thinkingConfig"],L);const U=h(t,["topK"]);U!=null&&g(e,["topK"],U);const O=h(t,["topP"]);if(O!=null&&g(e,["topP"],O),h(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function _V(t,e){const n={},i=h(e,["model"]);return i!=null&&g(n,["_url","name"],Ve(t,i)),n}function SV(t,e){const n={},i=h(e,["model"]);return i!=null&&g(n,["_url","name"],Ve(t,i)),n}function bV(t){const e={};if(h(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=h(t,["enableWidget"]);return n!=null&&g(e,["enableWidget"],n),e}function EV(t){const e={};if(h(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(h(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=h(t,["timeRangeFilter"]);return n!=null&&g(e,["timeRangeFilter"],n),e}function wV(t){const e={},n=h(t,["aspectRatio"]);n!=null&&g(e,["aspectRatio"],n);const i=h(t,["imageSize"]);if(i!=null&&g(e,["imageSize"],i),h(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(h(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function CV(t){const e={},n=h(t,["aspectRatio"]);n!=null&&g(e,["aspectRatio"],n);const i=h(t,["imageSize"]);i!=null&&g(e,["imageSize"],i);const r=h(t,["outputMimeType"]);r!=null&&g(e,["imageOutputOptions","mimeType"],r);const a=h(t,["outputCompressionQuality"]);return a!=null&&g(e,["imageOutputOptions","compressionQuality"],a),e}function TV(t){const e={},n=h(t,["bytesBase64Encoded"]);n!=null&&g(e,["imageBytes"],pr(n));const i=h(t,["mimeType"]);return i!=null&&g(e,["mimeType"],i),e}function SM(t){const e={},n=h(t,["gcsUri"]);n!=null&&g(e,["gcsUri"],n);const i=h(t,["bytesBase64Encoded"]);i!=null&&g(e,["imageBytes"],pr(i));const r=h(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function dp(t){const e={};if(h(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=h(t,["imageBytes"]);n!=null&&g(e,["bytesBase64Encoded"],pr(n));const i=h(t,["mimeType"]);return i!=null&&g(e,["mimeType"],i),e}function di(t){const e={},n=h(t,["gcsUri"]);n!=null&&g(e,["gcsUri"],n);const i=h(t,["imageBytes"]);i!=null&&g(e,["bytesBase64Encoded"],pr(i));const r=h(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function AV(t,e,n){const i={},r=h(e,["pageSize"]);n!==void 0&&r!=null&&g(n,["_query","pageSize"],r);const a=h(e,["pageToken"]);n!==void 0&&a!=null&&g(n,["_query","pageToken"],a);const u=h(e,["filter"]);n!==void 0&&u!=null&&g(n,["_query","filter"],u);const c=h(e,["queryBase"]);return n!==void 0&&c!=null&&g(n,["_url","models_url"],dM(t,c)),i}function xV(t,e,n){const i={},r=h(e,["pageSize"]);n!==void 0&&r!=null&&g(n,["_query","pageSize"],r);const a=h(e,["pageToken"]);n!==void 0&&a!=null&&g(n,["_query","pageToken"],a);const u=h(e,["filter"]);n!==void 0&&u!=null&&g(n,["_query","filter"],u);const c=h(e,["queryBase"]);return n!==void 0&&c!=null&&g(n,["_url","models_url"],dM(t,c)),i}function RV(t,e){const n={},i=h(e,["config"]);return i!=null&&AV(t,i,n),n}function MV(t,e){const n={},i=h(e,["config"]);return i!=null&&xV(t,i,n),n}function NV(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const i=h(t,["nextPageToken"]);i!=null&&g(e,["nextPageToken"],i);const r=h(t,["_self"]);if(r!=null){let a=pM(r);Array.isArray(a)&&(a=a.map(u=>wv(u))),g(e,["models"],a)}return e}function IV(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const i=h(t,["nextPageToken"]);i!=null&&g(e,["nextPageToken"],i);const r=h(t,["_self"]);if(r!=null){let a=pM(r);Array.isArray(a)&&(a=a.map(u=>Cv(u))),g(e,["models"],a)}return e}function DV(t){const e={},n=h(t,["maskMode"]);n!=null&&g(e,["maskMode"],n);const i=h(t,["segmentationClasses"]);i!=null&&g(e,["maskClasses"],i);const r=h(t,["maskDilation"]);return r!=null&&g(e,["dilation"],r),e}function wv(t){const e={},n=h(t,["name"]);n!=null&&g(e,["name"],n);const i=h(t,["displayName"]);i!=null&&g(e,["displayName"],i);const r=h(t,["description"]);r!=null&&g(e,["description"],r);const a=h(t,["version"]);a!=null&&g(e,["version"],a);const u=h(t,["_self"]);u!=null&&g(e,["tunedModelInfo"],jV(u));const c=h(t,["inputTokenLimit"]);c!=null&&g(e,["inputTokenLimit"],c);const p=h(t,["outputTokenLimit"]);p!=null&&g(e,["outputTokenLimit"],p);const d=h(t,["supportedGenerationMethods"]);d!=null&&g(e,["supportedActions"],d);const m=h(t,["temperature"]);m!=null&&g(e,["temperature"],m);const y=h(t,["maxTemperature"]);y!=null&&g(e,["maxTemperature"],y);const S=h(t,["topP"]);S!=null&&g(e,["topP"],S);const b=h(t,["topK"]);b!=null&&g(e,["topK"],b);const T=h(t,["thinking"]);return T!=null&&g(e,["thinking"],T),e}function Cv(t){const e={},n=h(t,["name"]);n!=null&&g(e,["name"],n);const i=h(t,["displayName"]);i!=null&&g(e,["displayName"],i);const r=h(t,["description"]);r!=null&&g(e,["description"],r);const a=h(t,["versionId"]);a!=null&&g(e,["version"],a);const u=h(t,["deployedModels"]);if(u!=null){let y=u;Array.isArray(y)&&(y=y.map(S=>qG(S))),g(e,["endpoints"],y)}const c=h(t,["labels"]);c!=null&&g(e,["labels"],c);const p=h(t,["_self"]);p!=null&&g(e,["tunedModelInfo"],YV(p));const d=h(t,["defaultCheckpointId"]);d!=null&&g(e,["defaultCheckpointId"],d);const m=h(t,["checkpoints"]);if(m!=null){let y=m;Array.isArray(y)&&(y=y.map(S=>S)),g(e,["checkpoints"],y)}return e}function OV(t){const e={},n=h(t,["mediaResolution"]);n!=null&&g(e,["mediaResolution"],n);const i=h(t,["codeExecutionResult"]);i!=null&&g(e,["codeExecutionResult"],i);const r=h(t,["executableCode"]);r!=null&&g(e,["executableCode"],r);const a=h(t,["fileData"]);a!=null&&g(e,["fileData"],JG(a));const u=h(t,["functionCall"]);u!=null&&g(e,["functionCall"],KG(u));const c=h(t,["functionResponse"]);c!=null&&g(e,["functionResponse"],c);const p=h(t,["inlineData"]);p!=null&&g(e,["inlineData"],yG(p));const d=h(t,["text"]);d!=null&&g(e,["text"],d);const m=h(t,["thought"]);m!=null&&g(e,["thought"],m);const y=h(t,["thoughtSignature"]);y!=null&&g(e,["thoughtSignature"],y);const S=h(t,["videoMetadata"]);return S!=null&&g(e,["videoMetadata"],S),e}function PV(t){const e={},n=h(t,["productImage"]);return n!=null&&g(e,["image"],di(n)),e}function kV(t,e){const n={},i=h(t,["numberOfImages"]);e!==void 0&&i!=null&&g(e,["parameters","sampleCount"],i);const r=h(t,["baseSteps"]);e!==void 0&&r!=null&&g(e,["parameters","baseSteps"],r);const a=h(t,["outputGcsUri"]);e!==void 0&&a!=null&&g(e,["parameters","storageUri"],a);const u=h(t,["seed"]);e!==void 0&&u!=null&&g(e,["parameters","seed"],u);const c=h(t,["safetyFilterLevel"]);e!==void 0&&c!=null&&g(e,["parameters","safetySetting"],c);const p=h(t,["personGeneration"]);e!==void 0&&p!=null&&g(e,["parameters","personGeneration"],p);const d=h(t,["addWatermark"]);e!==void 0&&d!=null&&g(e,["parameters","addWatermark"],d);const m=h(t,["outputMimeType"]);e!==void 0&&m!=null&&g(e,["parameters","outputOptions","mimeType"],m);const y=h(t,["outputCompressionQuality"]);e!==void 0&&y!=null&&g(e,["parameters","outputOptions","compressionQuality"],y);const S=h(t,["enhancePrompt"]);e!==void 0&&S!=null&&g(e,["parameters","enhancePrompt"],S);const b=h(t,["labels"]);return e!==void 0&&b!=null&&g(e,["labels"],b),n}function LV(t,e){const n={},i=h(e,["model"]);i!=null&&g(n,["_url","model"],Ve(t,i));const r=h(e,["source"]);r!=null&&BV(r,n);const a=h(e,["config"]);return a!=null&&kV(a,n),n}function UV(t){const e={},n=h(t,["predictions"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(r=>fp(r))),g(e,["generatedImages"],i)}return e}function BV(t,e){const n={},i=h(t,["prompt"]);e!==void 0&&i!=null&&g(e,["instances[0]","prompt"],i);const r=h(t,["personImage"]);e!==void 0&&r!=null&&g(e,["instances[0]","personImage","image"],di(r));const a=h(t,["productImages"]);if(e!==void 0&&a!=null){let u=a;Array.isArray(u)&&(u=u.map(c=>PV(c))),g(e,["instances[0]","productImages"],u)}return n}function FV(t){const e={},n=h(t,["referenceImage"]);n!=null&&g(e,["referenceImage"],di(n));const i=h(t,["referenceId"]);i!=null&&g(e,["referenceId"],i);const r=h(t,["referenceType"]);r!=null&&g(e,["referenceType"],r);const a=h(t,["maskImageConfig"]);a!=null&&g(e,["maskImageConfig"],DV(a));const u=h(t,["controlImageConfig"]);u!=null&&g(e,["controlImageConfig"],TG(u));const c=h(t,["styleImageConfig"]);c!=null&&g(e,["styleImageConfig"],c);const p=h(t,["subjectImageConfig"]);return p!=null&&g(e,["subjectImageConfig"],p),e}function bM(t){const e={},n=h(t,["safetyAttributes","categories"]);n!=null&&g(e,["categories"],n);const i=h(t,["safetyAttributes","scores"]);i!=null&&g(e,["scores"],i);const r=h(t,["contentType"]);return r!=null&&g(e,["contentType"],r),e}function EM(t){const e={},n=h(t,["safetyAttributes","categories"]);n!=null&&g(e,["categories"],n);const i=h(t,["safetyAttributes","scores"]);i!=null&&g(e,["scores"],i);const r=h(t,["contentType"]);return r!=null&&g(e,["contentType"],r),e}function $V(t){const e={},n=h(t,["category"]);if(n!=null&&g(e,["category"],n),h(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const i=h(t,["threshold"]);return i!=null&&g(e,["threshold"],i),e}function HV(t){const e={},n=h(t,["image"]);return n!=null&&g(e,["image"],di(n)),e}function GV(t,e){const n={},i=h(t,["mode"]);e!==void 0&&i!=null&&g(e,["parameters","mode"],i);const r=h(t,["maxPredictions"]);e!==void 0&&r!=null&&g(e,["parameters","maxPredictions"],r);const a=h(t,["confidenceThreshold"]);e!==void 0&&a!=null&&g(e,["parameters","confidenceThreshold"],a);const u=h(t,["maskDilation"]);e!==void 0&&u!=null&&g(e,["parameters","maskDilation"],u);const c=h(t,["binaryColorThreshold"]);e!==void 0&&c!=null&&g(e,["parameters","binaryColorThreshold"],c);const p=h(t,["labels"]);return e!==void 0&&p!=null&&g(e,["labels"],p),n}function VV(t,e){const n={},i=h(e,["model"]);i!=null&&g(n,["_url","model"],Ve(t,i));const r=h(e,["source"]);r!=null&&qV(r,n);const a=h(e,["config"]);return a!=null&&GV(a,n),n}function zV(t){const e={},n=h(t,["predictions"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(r=>mV(r))),g(e,["generatedMasks"],i)}return e}function qV(t,e){const n={},i=h(t,["prompt"]);e!==void 0&&i!=null&&g(e,["instances[0]","prompt"],i);const r=h(t,["image"]);e!==void 0&&r!=null&&g(e,["instances[0]","image"],di(r));const a=h(t,["scribbleImage"]);return e!==void 0&&a!=null&&g(e,["instances[0]","scribble"],HV(a)),n}function wM(t){const e={},n=h(t,["voiceConfig"]);n!=null&&g(e,["voiceConfig"],n);const i=h(t,["languageCode"]);if(i!=null&&g(e,["languageCode"],i),h(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return e}function JV(t){const e={},n=h(t,["functionCallingConfig"]);n!=null&&g(e,["functionCallingConfig"],jG(n));const i=h(t,["retrievalConfig"]);return i!=null&&g(e,["retrievalConfig"],i),e}function KV(t){const e={},n=h(t,["functionDeclarations"]);if(n!=null){let m=n;Array.isArray(m)&&(m=m.map(y=>y)),g(e,["functionDeclarations"],m)}if(h(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=h(t,["googleSearchRetrieval"]);i!=null&&g(e,["googleSearchRetrieval"],i);const r=h(t,["computerUse"]);r!=null&&g(e,["computerUse"],r);const a=h(t,["fileSearch"]);a!=null&&g(e,["fileSearch"],a);const u=h(t,["codeExecution"]);if(u!=null&&g(e,["codeExecution"],u),h(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const c=h(t,["googleMaps"]);c!=null&&g(e,["googleMaps"],bV(c));const p=h(t,["googleSearch"]);p!=null&&g(e,["googleSearch"],EV(p));const d=h(t,["urlContext"]);return d!=null&&g(e,["urlContext"],d),e}function CM(t){const e={},n=h(t,["functionDeclarations"]);if(n!=null){let y=n;Array.isArray(y)&&(y=y.map(S=>YG(S))),g(e,["functionDeclarations"],y)}const i=h(t,["retrieval"]);i!=null&&g(e,["retrieval"],i);const r=h(t,["googleSearchRetrieval"]);r!=null&&g(e,["googleSearchRetrieval"],r);const a=h(t,["computerUse"]);if(a!=null&&g(e,["computerUse"],a),h(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const u=h(t,["codeExecution"]);u!=null&&g(e,["codeExecution"],u);const c=h(t,["enterpriseWebSearch"]);c!=null&&g(e,["enterpriseWebSearch"],c);const p=h(t,["googleMaps"]);p!=null&&g(e,["googleMaps"],p);const d=h(t,["googleSearch"]);d!=null&&g(e,["googleSearch"],d);const m=h(t,["urlContext"]);return m!=null&&g(e,["urlContext"],m),e}function jV(t){const e={},n=h(t,["baseModel"]);n!=null&&g(e,["baseModel"],n);const i=h(t,["createTime"]);i!=null&&g(e,["createTime"],i);const r=h(t,["updateTime"]);return r!=null&&g(e,["updateTime"],r),e}function YV(t){const e={},n=h(t,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&g(e,["baseModel"],n);const i=h(t,["createTime"]);i!=null&&g(e,["createTime"],i);const r=h(t,["updateTime"]);return r!=null&&g(e,["updateTime"],r),e}function XV(t,e){const n={},i=h(t,["displayName"]);e!==void 0&&i!=null&&g(e,["displayName"],i);const r=h(t,["description"]);e!==void 0&&r!=null&&g(e,["description"],r);const a=h(t,["defaultCheckpointId"]);return e!==void 0&&a!=null&&g(e,["defaultCheckpointId"],a),n}function WV(t,e){const n={},i=h(t,["displayName"]);e!==void 0&&i!=null&&g(e,["displayName"],i);const r=h(t,["description"]);e!==void 0&&r!=null&&g(e,["description"],r);const a=h(t,["defaultCheckpointId"]);return e!==void 0&&a!=null&&g(e,["defaultCheckpointId"],a),n}function QV(t,e){const n={},i=h(e,["model"]);i!=null&&g(n,["_url","name"],Ve(t,i));const r=h(e,["config"]);return r!=null&&XV(r,n),n}function ZV(t,e){const n={},i=h(e,["model"]);i!=null&&g(n,["_url","model"],Ve(t,i));const r=h(e,["config"]);return r!=null&&WV(r,n),n}function ez(t,e){const n={},i=h(t,["outputGcsUri"]);e!==void 0&&i!=null&&g(e,["parameters","storageUri"],i);const r=h(t,["safetyFilterLevel"]);e!==void 0&&r!=null&&g(e,["parameters","safetySetting"],r);const a=h(t,["personGeneration"]);e!==void 0&&a!=null&&g(e,["parameters","personGeneration"],a);const u=h(t,["includeRaiReason"]);e!==void 0&&u!=null&&g(e,["parameters","includeRaiReason"],u);const c=h(t,["outputMimeType"]);e!==void 0&&c!=null&&g(e,["parameters","outputOptions","mimeType"],c);const p=h(t,["outputCompressionQuality"]);e!==void 0&&p!=null&&g(e,["parameters","outputOptions","compressionQuality"],p);const d=h(t,["enhanceInputImage"]);e!==void 0&&d!=null&&g(e,["parameters","upscaleConfig","enhanceInputImage"],d);const m=h(t,["imagePreservationFactor"]);e!==void 0&&m!=null&&g(e,["parameters","upscaleConfig","imagePreservationFactor"],m);const y=h(t,["labels"]);e!==void 0&&y!=null&&g(e,["labels"],y);const S=h(t,["numberOfImages"]);e!==void 0&&S!=null&&g(e,["parameters","sampleCount"],S);const b=h(t,["mode"]);return e!==void 0&&b!=null&&g(e,["parameters","mode"],b),n}function tz(t,e){const n={},i=h(e,["model"]);i!=null&&g(n,["_url","model"],Ve(t,i));const r=h(e,["image"]);r!=null&&g(n,["instances[0]","image"],di(r));const a=h(e,["upscaleFactor"]);a!=null&&g(n,["parameters","upscaleConfig","upscaleFactor"],a);const u=h(e,["config"]);return u!=null&&ez(u,n),n}function nz(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const i=h(t,["predictions"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(a=>fp(a))),g(e,["generatedImages"],r)}return e}function iz(t){const e={},n=h(t,["uri"]);n!=null&&g(e,["uri"],n);const i=h(t,["encodedVideo"]);i!=null&&g(e,["videoBytes"],pr(i));const r=h(t,["encoding"]);return r!=null&&g(e,["mimeType"],r),e}function oz(t){const e={},n=h(t,["gcsUri"]);n!=null&&g(e,["uri"],n);const i=h(t,["bytesBase64Encoded"]);i!=null&&g(e,["videoBytes"],pr(i));const r=h(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function rz(t){const e={},n=h(t,["image"]);n!=null&&g(e,["_self"],di(n));const i=h(t,["maskMode"]);return i!=null&&g(e,["maskMode"],i),e}function sz(t){const e={},n=h(t,["image"]);n!=null&&g(e,["image"],dp(n));const i=h(t,["referenceType"]);return i!=null&&g(e,["referenceType"],i),e}function az(t){const e={},n=h(t,["image"]);n!=null&&g(e,["image"],di(n));const i=h(t,["referenceType"]);return i!=null&&g(e,["referenceType"],i),e}function TM(t){const e={},n=h(t,["uri"]);n!=null&&g(e,["uri"],n);const i=h(t,["videoBytes"]);i!=null&&g(e,["encodedVideo"],pr(i));const r=h(t,["mimeType"]);return r!=null&&g(e,["encoding"],r),e}function AM(t){const e={},n=h(t,["uri"]);n!=null&&g(e,["gcsUri"],n);const i=h(t,["videoBytes"]);i!=null&&g(e,["bytesBase64Encoded"],pr(i));const r=h(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function lz(t,e){const n={},i=h(t,["displayName"]);return e!==void 0&&i!=null&&g(e,["displayName"],i),n}function uz(t){const e={},n=h(t,["config"]);return n!=null&&lz(n,e),e}function cz(t,e){const n={},i=h(t,["force"]);return e!==void 0&&i!=null&&g(e,["_query","force"],i),n}function fz(t){const e={},n=h(t,["name"]);n!=null&&g(e,["_url","name"],n);const i=h(t,["config"]);return i!=null&&cz(i,e),e}function dz(t){const e={},n=h(t,["name"]);return n!=null&&g(e,["_url","name"],n),e}function pz(t,e){const n={},i=h(t,["customMetadata"]);if(e!==void 0&&i!=null){let a=i;Array.isArray(a)&&(a=a.map(u=>u)),g(e,["customMetadata"],a)}const r=h(t,["chunkingConfig"]);return e!==void 0&&r!=null&&g(e,["chunkingConfig"],r),n}function hz(t){const e={},n=h(t,["name"]);n!=null&&g(e,["name"],n);const i=h(t,["metadata"]);i!=null&&g(e,["metadata"],i);const r=h(t,["done"]);r!=null&&g(e,["done"],r);const a=h(t,["error"]);a!=null&&g(e,["error"],a);const u=h(t,["response"]);return u!=null&&g(e,["response"],gz(u)),e}function mz(t){const e={},n=h(t,["fileSearchStoreName"]);n!=null&&g(e,["_url","file_search_store_name"],n);const i=h(t,["fileName"]);i!=null&&g(e,["fileName"],i);const r=h(t,["config"]);return r!=null&&pz(r,e),e}function gz(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const i=h(t,["parent"]);i!=null&&g(e,["parent"],i);const r=h(t,["documentName"]);return r!=null&&g(e,["documentName"],r),e}function vz(t,e){const n={},i=h(t,["pageSize"]);e!==void 0&&i!=null&&g(e,["_query","pageSize"],i);const r=h(t,["pageToken"]);return e!==void 0&&r!=null&&g(e,["_query","pageToken"],r),n}function yz(t){const e={},n=h(t,["config"]);return n!=null&&vz(n,e),e}function _z(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const i=h(t,["nextPageToken"]);i!=null&&g(e,["nextPageToken"],i);const r=h(t,["fileSearchStores"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(u=>u)),g(e,["fileSearchStores"],a)}return e}function xM(t,e){const n={},i=h(t,["mimeType"]);e!==void 0&&i!=null&&g(e,["mimeType"],i);const r=h(t,["displayName"]);e!==void 0&&r!=null&&g(e,["displayName"],r);const a=h(t,["customMetadata"]);if(e!==void 0&&a!=null){let c=a;Array.isArray(c)&&(c=c.map(p=>p)),g(e,["customMetadata"],c)}const u=h(t,["chunkingConfig"]);return e!==void 0&&u!=null&&g(e,["chunkingConfig"],u),n}function Sz(t){const e={},n=h(t,["fileSearchStoreName"]);n!=null&&g(e,["_url","file_search_store_name"],n);const i=h(t,["config"]);return i!=null&&xM(i,e),e}function bz(t){const e={},n=h(t,["sdkHttpResponse"]);return n!=null&&g(e,["sdkHttpResponse"],n),e}const Ez="Content-Type",wz="X-Server-Timeout",Cz="User-Agent",Tv="x-goog-api-client",Tz="1.33.0",Az=`google-genai-sdk/${Tz}`,xz="v1beta1",Rz="v1beta";class Mz{constructor(e){var n,i;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const r={};this.clientOptions.vertexai?(r.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:xz,r.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(r.apiVersion=(i=this.clientOptions.apiVersion)!==null&&i!==void 0?i:Rz,r.baseUrl="https://generativelanguage.googleapis.com/"),r.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=r,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(r,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const i=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&i.push(e.apiVersion),i.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,i){const r=[this.getRequestUrlInternal(n)];return i&&r.push(this.getBaseResourcePath()),e!==""&&r.push(e),new URL(`${r.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const i=this.shouldPrependVertexProjectPath(e),r=this.constructUrl(e.path,n,i);if(e.queryParams)for(const[u,c]of Object.entries(e.queryParams))r.searchParams.append(u,String(c));let a={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else a.body=e.body;return a=await this.includeExtraHttpOptionsToRequestInit(a,n,r.toString(),e.abortSignal),this.unaryApiCall(r,a,e.httpMethod)}patchHttpOptions(e,n){const i=JSON.parse(JSON.stringify(e));for(const[r,a]of Object.entries(n))typeof a=="object"?i[r]=Object.assign(Object.assign({},i[r]),a):a!==void 0&&(i[r]=a);return i}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const i=this.shouldPrependVertexProjectPath(e),r=this.constructUrl(e.path,n,i);(!r.searchParams.has("alt")||r.searchParams.get("alt")!=="sse")&&r.searchParams.set("alt","sse");let a={};return a.body=e.body,a=await this.includeExtraHttpOptionsToRequestInit(a,n,r.toString(),e.abortSignal),this.streamApiCall(r,a,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,i,r){if(n&&n.timeout||r){const a=new AbortController,u=a.signal;if(n.timeout&&n?.timeout>0){const c=setTimeout(()=>a.abort(),n.timeout);c&&typeof c.unref=="function"&&c.unref()}r&&r.addEventListener("abort",()=>{a.abort()}),e.signal=u}return n&&n.extraBody!==null&&Nz(e,n.extraBody),e.headers=await this.getHeadersInternal(n,i),e}async unaryApiCall(e,n,i){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:i})).then(async r=>(await uT(r),new Sv(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}async streamApiCall(e,n,i){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:i})).then(async r=>(await uT(r),this.processStreamResponse(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}processStreamResponse(e){return ri(this,arguments,function*(){var i;const r=(i=e?.body)===null||i===void 0?void 0:i.getReader(),a=new TextDecoder("utf-8");if(!r)throw new Error("Response body is empty");try{let u="";const c="data:",p=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:d,value:m}=yield Ae(r.read());if(d){if(u.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const y=a.decode(m,{stream:!0});try{const T=JSON.parse(y);if("error"in T){const A=JSON.parse(JSON.stringify(T.error)),x=A.status,M=A.code,I=`got status: ${x}. ${JSON.stringify(T)}`;if(M>=400&&M<600)throw new up({message:I,status:M})}}catch(T){if(T.name==="ApiError")throw T}u+=y;let S=-1,b=0;for(;;){S=-1,b=0;for(const x of p){const M=u.indexOf(x);M!==-1&&(S===-1||M<S)&&(S=M,b=x.length)}if(S===-1)break;const T=u.substring(0,S);u=u.substring(S+b);const A=T.trim();if(A.startsWith(c)){const x=A.substring(c.length).trim();try{const M=new Response(x,{headers:e?.headers,status:e?.status,statusText:e?.statusText});yield yield Ae(new Sv(M))}catch(M){throw new Error(`exception parsing stream chunk ${x}. ${M}`)}}}}}finally{r.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(i=>{throw new Error(`exception ${i} sending request`)})}getDefaultHeaders(){const e={},n=Az+" "+this.clientOptions.userAgentExtra;return e[Cz]=n,e[Tv]=n,e[Ez]="application/json",e}async getHeadersInternal(e,n){const i=new Headers;if(e&&e.headers){for(const[r,a]of Object.entries(e.headers))i.append(r,a);e.timeout&&e.timeout>0&&i.append(wz,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(i,n),i}getFileName(e){var n;let i="";return typeof e=="string"&&(i=e.replace(/[/\\]+$/,""),i=(n=i.split(/[/\\]/).pop())!==null&&n!==void 0?n:""),i}async uploadFile(e,n){var i;const r={};n!=null&&(r.mimeType=n.mimeType,r.name=n.name,r.displayName=n.displayName),r.name&&!r.name.startsWith("files/")&&(r.name=`files/${r.name}`);const a=this.clientOptions.uploader,u=await a.stat(e);r.sizeBytes=String(u.size);const c=(i=n?.mimeType)!==null&&i!==void 0?i:u.type;if(c===void 0||c==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");r.mimeType=c;const p={file:r},d=this.getFileName(e),m=fe("upload/v1beta/files",p._url),y=await this.fetchUploadUrl(m,r.sizeBytes,r.mimeType,d,p,n?.httpOptions);return a.upload(e,y,this)}async uploadFileToFileSearchStore(e,n,i){var r;const a=this.clientOptions.uploader,u=await a.stat(n),c=String(u.size),p=(r=i?.mimeType)!==null&&r!==void 0?r:u.type;if(p===void 0||p==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const d=`upload/v1beta/${e}:uploadToFileSearchStore`,m=this.getFileName(n),y={};i!=null&&xM(i,y);const S=await this.fetchUploadUrl(d,c,p,m,y,i?.httpOptions);return a.uploadToFileSearchStore(n,S,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n,i,r,a,u){var c;let p={};u?p=u:p={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n}`,"X-Goog-Upload-Header-Content-Type":`${i}`},r?{"X-Goog-Upload-File-Name":r}:{})};const d=await this.request({path:e,body:JSON.stringify(a),httpMethod:"POST",httpOptions:p});if(!d||!d?.headers)throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const m=(c=d?.headers)===null||c===void 0?void 0:c["x-goog-upload-url"];if(m===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return m}}async function uT(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const n=t.status;let i;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?i=await t.json():i={error:{message:await t.text(),code:t.status,status:t.statusText}};const r=JSON.stringify(i);throw n>=400&&n<600?new up({message:r,status:n}):new Error(r)}}function Nz(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof t.body=="string"&&t.body.length>0)try{const a=JSON.parse(t.body);if(typeof a=="object"&&a!==null&&!Array.isArray(a))n=a;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function i(a,u){const c=Object.assign({},a);for(const p in u)if(Object.prototype.hasOwnProperty.call(u,p)){const d=u[p],m=c[p];d&&typeof d=="object"&&!Array.isArray(d)&&m&&typeof m=="object"&&!Array.isArray(m)?c[p]=i(m,d):(m&&d&&typeof m!=typeof d&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${p}". Original type: ${typeof m}, New type: ${typeof d}. Overwriting.`),c[p]=d)}return c}const r=i(n,e);t.body=JSON.stringify(r)}const Iz="mcp_used/unknown";let Dz=!1;function RM(t){for(const e of t)if(Oz(e)||typeof e=="object"&&"inputSchema"in e)return!0;return Dz}function MM(t){var e;const n=(e=t[Tv])!==null&&e!==void 0?e:"";t[Tv]=(n+` ${Iz}`).trimStart()}function Oz(t){return t!==null&&typeof t=="object"&&t instanceof Vy}function Pz(t){return ri(this,arguments,function*(n,i=100){let r,a=0;for(;a<i;){const u=yield Ae(n.listTools({cursor:r}));for(const c of u.tools)yield yield Ae(c),a++;if(!u.nextCursor)break;r=u.nextCursor}})}class Vy{constructor(e=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=n}static create(e,n){return new Vy(e,n)}async initialize(){var e,n,i,r;if(this.mcpTools.length>0)return;const a={},u=[];for(const m of this.mcpClients)try{for(var c=!0,p=(n=void 0,si(Pz(m))),d;d=await p.next(),e=d.done,!e;c=!0){r=d.value,c=!1;const y=r;u.push(y);const S=y.name;if(a[S])throw new Error(`Duplicate function name ${S} found in MCP tools. Please ensure function names are unique.`);a[S]=m}}catch(y){n={error:y}}finally{try{!c&&!e&&(i=p.return)&&await i.call(p)}finally{if(n)throw n.error}}this.mcpTools=u,this.functionNameToMcpClient=a}async tool(){return await this.initialize(),d$(this.mcpTools,this.config)}async callTool(e){await this.initialize();const n=[];for(const i of e)if(i.name in this.functionNameToMcpClient){const r=this.functionNameToMcpClient[i.name];let a;this.config.timeout&&(a={timeout:this.config.timeout});const u=await r.callTool({name:i.name,arguments:i.args},void 0,a);n.push({functionResponse:{name:i.name,response:u.isError?{error:u}:u}})}return n}}async function kz(t,e,n){const i=new o$;let r;n.data instanceof Blob?r=JSON.parse(await n.data.text()):r=JSON.parse(n.data),Object.assign(i,r),e(i)}class Lz{constructor(e,n,i){this.apiClient=e,this.auth=n,this.webSocketFactory=i}async connect(e){var n,i;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const r=this.apiClient.getWebsocketBaseUrl(),a=this.apiClient.getApiVersion(),u=Fz(this.apiClient.getDefaultHeaders()),c=this.apiClient.getApiKey(),p=`${r}/ws/google.ai.generativelanguage.${a}.GenerativeService.BidiGenerateMusic?key=${c}`;let d=()=>{};const m=new Promise(N=>{d=N}),y=e.callbacks,S=function(){d({})},b=this.apiClient,T={onopen:S,onmessage:N=>{kz(b,y.onmessage,N)},onerror:(n=y?.onerror)!==null&&n!==void 0?n:function(N){},onclose:(i=y?.onclose)!==null&&i!==void 0?i:function(N){}},A=this.webSocketFactory.create(p,Bz(u),T);A.connect(),await m;const I={setup:{model:Ve(this.apiClient,e.model)}};return A.send(JSON.stringify(I)),new Uz(A,this.apiClient)}}class Uz{constructor(e,n){this.conn=e,this.apiClient=n}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=uG(e);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const n=lG(e);this.conn.send(JSON.stringify(n))}sendPlaybackControl(e){const n={playbackControl:e};this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(ua.PLAY)}pause(){this.sendPlaybackControl(ua.PAUSE)}stop(){this.sendPlaybackControl(ua.STOP)}resetContext(){this.sendPlaybackControl(ua.RESET_CONTEXT)}close(){this.conn.close()}}function Bz(t){const e={};return t.forEach((n,i)=>{e[i]=n}),e}function Fz(t){const e=new Headers;for(const[n,i]of Object.entries(t))e.append(n,i);return e}const $z="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function Hz(t,e,n){const i=new i$;let r;n.data instanceof Blob?r=await n.data.text():n.data instanceof ArrayBuffer?r=new TextDecoder().decode(n.data):r=n.data;const a=JSON.parse(r);if(t.isVertexAI()){const u=dG(a);Object.assign(i,u)}else Object.assign(i,a);e(i)}class Gz{constructor(e,n,i){this.apiClient=e,this.auth=n,this.webSocketFactory=i,this.music=new Lz(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,i,r,a,u,c;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const p=this.apiClient.getWebsocketBaseUrl(),d=this.apiClient.getApiVersion();let m;const y=this.apiClient.getHeaders();e.config&&e.config.tools&&RM(e.config.tools)&&MM(y);const S=Jz(y);if(this.apiClient.isVertexAI())m=`${p}/ws/google.cloud.aiplatform.${d}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(S,m);else{const J=this.apiClient.getApiKey();let Y="BidiGenerateContent",W="key";J?.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),d!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),Y="BidiGenerateContentConstrained",W="access_token"),m=`${p}/ws/google.ai.generativelanguage.${d}.GenerativeService.${Y}?${W}=${J}`}let b=()=>{};const T=new Promise(J=>{b=J}),A=e.callbacks,x=function(){var J;(J=A?.onopen)===null||J===void 0||J.call(A),b({})},M=this.apiClient,I={onopen:x,onmessage:J=>{Hz(M,A.onmessage,J)},onerror:(n=A?.onerror)!==null&&n!==void 0?n:function(J){},onclose:(i=A?.onclose)!==null&&i!==void 0?i:function(J){}},N=this.webSocketFactory.create(m,qz(S),I);N.connect(),await T;let D=Ve(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&D.startsWith("publishers/")){const J=this.apiClient.getProject(),Y=this.apiClient.getLocation();D=`projects/${J}/locations/${Y}/`+D}let L={};this.apiClient.isVertexAI()&&((r=e.config)===null||r===void 0?void 0:r.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[wd.AUDIO]}:e.config.responseModalities=[wd.AUDIO]),!((a=e.config)===null||a===void 0)&&a.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const U=(c=(u=e.config)===null||u===void 0?void 0:u.tools)!==null&&c!==void 0?c:[],O=[];for(const J of U)if(this.isCallableTool(J)){const Y=J;O.push(await Y.tool())}else O.push(J);O.length>0&&(e.config.tools=O);const q={model:D,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?L=aG(this.apiClient,q):L=sG(this.apiClient,q),delete L.config,N.send(JSON.stringify(L)),new zz(N,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const Vz={turnComplete:!0};class zz{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let i=[];try{i=Hn(n.turns),e.isVertexAI()||(i=i.map(r=>cp(r)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:i,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let i=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?i=n.functionResponses:i=[n.functionResponses],i.length===0)throw new Error("functionResponses is required.");for(const a of i){if(typeof a!="object"||a===null||!("name"in a)||!("response"in a))throw new Error(`Could not parse function response, type '${typeof a}'.`);if(!e.isVertexAI()&&!("id"in a))throw new Error($z)}return{toolResponse:{functionResponses:i}}}sendClientContent(e){e=Object.assign(Object.assign({},Vz),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:fG(e)}:n={realtimeInput:cG(e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function qz(t){const e={};return t.forEach((n,i)=>{e[i]=n}),e}function Jz(t){const e=new Headers;for(const[n,i]of Object.entries(t))e.append(n,i);return e}const cT=10;function fT(t){var e,n,i;if(!((e=t?.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let r=!1;for(const u of(n=t?.tools)!==null&&n!==void 0?n:[])if(pa(u)){r=!0;break}if(!r)return!0;const a=(i=t?.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls;return a&&(a<0||!Number.isInteger(a))||a==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",a),!0):!1}function pa(t){return"callTool"in t&&typeof t.callTool=="function"}function Kz(t){var e,n,i;return(i=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(r=>pa(r)))!==null&&i!==void 0?i:!1}function dT(t){var e;const n=[];return!((e=t?.config)===null||e===void 0)&&e.tools&&t.config.tools.forEach((i,r)=>{if(pa(i))return;const a=i;a.functionDeclarations&&a.functionDeclarations.length>0&&n.push(r)}),n}function pT(t){var e;return!(!((e=t?.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}let jz=class extends So{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>{var i,r,a,u,c;const p=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!Kz(n)||fT(n.config))return await this.generateContentInternal(p);const d=dT(n);if(d.length>0){const A=d.map(x=>`tools[${x}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${A}.`)}let m,y;const S=Hn(p.contents),b=(a=(r=(i=p.config)===null||i===void 0?void 0:i.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&a!==void 0?a:cT;let T=0;for(;T<b&&(m=await this.generateContentInternal(p),!(!m.functionCalls||m.functionCalls.length===0));){const A=m.candidates[0].content,x=[];for(const M of(c=(u=n.config)===null||u===void 0?void 0:u.tools)!==null&&c!==void 0?c:[])if(pa(M)){const N=await M.callTool(m.functionCalls);x.push(...N)}T++,y={role:"user",parts:x},p.contents=Hn(p.contents),p.contents.push(A),p.contents.push(y),pT(p.config)&&(S.push(A),S.push(y))}return pT(p.config)&&(m.automaticFunctionCallingHistory=S),m},this.generateContentStream=async n=>{var i,r,a,u,c;if(this.maybeMoveToResponseJsonSchem(n),fT(n.config)){const y=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(y)}const p=dT(n);if(p.length>0){const y=p.map(S=>`tools[${S}]`).join(", ");throw new Error(`Incompatible tools found at ${y}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const d=(a=(r=(i=n?.config)===null||i===void 0?void 0:i.toolConfig)===null||r===void 0?void 0:r.functionCallingConfig)===null||a===void 0?void 0:a.streamFunctionCallArguments,m=(c=(u=n?.config)===null||u===void 0?void 0:u.automaticFunctionCalling)===null||c===void 0?void 0:c.disable;if(d&&!m)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(i=>{var r;let a;const u=[];if(i?.generatedImages)for(const p of i.generatedImages)p&&p?.safetyAttributes&&((r=p?.safetyAttributes)===null||r===void 0?void 0:r.contentType)==="Positive Prompt"?a=p?.safetyAttributes:u.push(p);let c;return a?c={generatedImages:u,positivePromptSafetyAttributes:a,sdkHttpResponse:i.sdkHttpResponse}:c={generatedImages:u,sdkHttpResponse:i.sdkHttpResponse},c}),this.list=async n=>{var i;const u={config:Object.assign(Object.assign({},{queryBase:!0}),n?.config)};if(this.apiClient.isVertexAI()&&!u.config.queryBase){if(!((i=u.config)===null||i===void 0)&&i.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");u.config.filter="labels.tune-type:*"}return new rs(go.PAGED_ITEM_MODELS,c=>this.listInternal(c),await this.listInternal(u),u)},this.editImage=async n=>{const i={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(i.referenceImages=n.referenceImages.map(r=>r.toReferenceImageAPI())),await this.editImageInternal(i)},this.upscaleImage=async n=>{let i={numberOfImages:1,mode:"upscale"};n.config&&(i=Object.assign(Object.assign({},i),n.config));const r={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:i};return await this.upscaleImageInternal(r)},this.generateVideos=async n=>{var i,r,a,u,c,p;if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((i=n.video)===null||i===void 0)&&i.uri&&(!((r=n.video)===null||r===void 0)&&r.videoBytes)?n.video={uri:n.video.uri,mimeType:n.video.mimeType}:!((u=(a=n.source)===null||a===void 0?void 0:a.video)===null||u===void 0)&&u.uri&&(!((p=(c=n.source)===null||c===void 0?void 0:c.video)===null||p===void 0)&&p.videoBytes)&&(n.source.video={uri:n.source.video.uri,mimeType:n.source.video.mimeType})),await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var n,i,r;const a=(n=e.config)===null||n===void 0?void 0:n.tools;if(!a)return e;const u=await Promise.all(a.map(async p=>pa(p)?await p.tool():p)),c={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:u})};if(c.config.tools=u,e.config&&e.config.tools&&RM(e.config.tools)){const p=(r=(i=e.config.httpOptions)===null||i===void 0?void 0:i.headers)!==null&&r!==void 0?r:{};let d=Object.assign({},p);Object.keys(d).length===0&&(d=this.apiClient.getDefaultHeaders()),MM(d),c.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:d})}return c}async initAfcToolsMap(e){var n,i,r;const a=new Map;for(const u of(i=(n=e.config)===null||n===void 0?void 0:n.tools)!==null&&i!==void 0?i:[])if(pa(u)){const c=u,p=await c.tool();for(const d of(r=p.functionDeclarations)!==null&&r!==void 0?r:[]){if(!d.name)throw new Error("Function declaration name is required.");if(a.has(d.name))throw new Error(`Duplicate tool declaration name: ${d.name}`);a.set(d.name,c)}}return a}async processAfcStream(e){var n,i,r;const a=(r=(i=(n=e.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&r!==void 0?r:cT;let u=!1,c=0;const p=await this.initAfcToolsMap(e);return(function(d,m,y){return ri(this,arguments,function*(){for(var S,b,T,A,x,M;c<a;){u&&(c++,u=!1);const L=yield Ae(d.processParamsMaybeAddMcpUsage(y)),U=yield Ae(d.generateContentStreamInternal(L)),O=[],q=[];try{for(var I=!0,N=(b=void 0,si(U)),D;D=yield Ae(N.next()),S=D.done,!S;I=!0){A=D.value,I=!1;const J=A;if(yield yield Ae(J),J.candidates&&(!((x=J.candidates[0])===null||x===void 0)&&x.content)){q.push(J.candidates[0].content);for(const Y of(M=J.candidates[0].content.parts)!==null&&M!==void 0?M:[])if(c<a&&Y.functionCall){if(!Y.functionCall.name)throw new Error("Function call name was not returned by the model.");if(m.has(Y.functionCall.name)){const W=yield Ae(m.get(Y.functionCall.name).callTool([Y.functionCall]));O.push(...W)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${m.keys()}, mising tool: ${Y.functionCall.name}`)}}}}catch(J){b={error:J}}finally{try{!I&&!S&&(T=N.return)&&(yield Ae(T.call(N)))}finally{if(b)throw b.error}}if(O.length>0){u=!0;const J=new Bl;J.candidates=[{content:{role:"user",parts:O}}],yield yield Ae(J);const Y=[];Y.push(...q),Y.push({role:"user",parts:O});const W=Hn(y.contents).concat(Y);y.contents=W}else break}})})(this,p,e)}async generateContentInternal(e){var n,i,r,a;let u,c="",p={};if(this.apiClient.isVertexAI()){const d=sT(this.apiClient,e);return c=fe("{model}:generateContent",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json().then(y=>{const S=y;return S.sdkHttpResponse={headers:m.headers},S})),u.then(m=>{const y=lT(m),S=new Bl;return Object.assign(S,y),S})}else{const d=rT(this.apiClient,e);return c=fe("{model}:generateContent",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json().then(y=>{const S=y;return S.sdkHttpResponse={headers:m.headers},S})),u.then(m=>{const y=aT(m),S=new Bl;return Object.assign(S,y),S})}}async generateContentStreamInternal(e){var n,i,r,a;let u,c="",p={};if(this.apiClient.isVertexAI()){const d=sT(this.apiClient,e);return c=fe("{model}:streamGenerateContent?alt=sse",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.requestStream({path:c,queryParams:p,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}),u.then(function(y){return ri(this,arguments,function*(){var S,b,T,A;try{for(var x=!0,M=si(y),I;I=yield Ae(M.next()),S=I.done,!S;x=!0){A=I.value,x=!1;const N=A,D=lT(yield Ae(N.json()));D.sdkHttpResponse={headers:N.headers};const L=new Bl;Object.assign(L,D),yield yield Ae(L)}}catch(N){b={error:N}}finally{try{!x&&!S&&(T=M.return)&&(yield Ae(T.call(M)))}finally{if(b)throw b.error}}})})}else{const d=rT(this.apiClient,e);return c=fe("{model}:streamGenerateContent?alt=sse",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.requestStream({path:c,queryParams:p,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}),u.then(function(y){return ri(this,arguments,function*(){var S,b,T,A;try{for(var x=!0,M=si(y),I;I=yield Ae(M.next()),S=I.done,!S;x=!0){A=I.value,x=!1;const N=A,D=aT(yield Ae(N.json()));D.sdkHttpResponse={headers:N.headers};const L=new Bl;Object.assign(L,D),yield yield Ae(L)}}catch(N){b={error:N}}finally{try{!x&&!S&&(T=M.return)&&(yield Ae(T.call(M)))}finally{if(b)throw b.error}}})})}}async embedContent(e){var n,i,r,a;let u,c="",p={};if(this.apiClient.isVertexAI()){const d=GG(this.apiClient,e);return c=fe("{model}:predict",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json().then(y=>{const S=y;return S.sdkHttpResponse={headers:m.headers},S})),u.then(m=>{const y=zG(m),S=new GC;return Object.assign(S,y),S})}else{const d=HG(this.apiClient,e);return c=fe("{model}:batchEmbedContents",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json().then(y=>{const S=y;return S.sdkHttpResponse={headers:m.headers},S})),u.then(m=>{const y=VG(m),S=new GC;return Object.assign(S,y),S})}}async generateImagesInternal(e){var n,i,r,a;let u,c="",p={};if(this.apiClient.isVertexAI()){const d=tV(this.apiClient,e);return c=fe("{model}:predict",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json().then(y=>{const S=y;return S.sdkHttpResponse={headers:m.headers},S})),u.then(m=>{const y=iV(m),S=new VC;return Object.assign(S,y),S})}else{const d=eV(this.apiClient,e);return c=fe("{model}:predict",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json().then(y=>{const S=y;return S.sdkHttpResponse={headers:m.headers},S})),u.then(m=>{const y=nV(m),S=new VC;return Object.assign(S,y),S})}}async editImageInternal(e){var n,i;let r,a="",u={};if(this.apiClient.isVertexAI()){const c=UG(this.apiClient,e);return a=fe("{model}:predict",c._url),u=c._query,delete c._url,delete c._query,r=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json().then(d=>{const m=d;return m.sdkHttpResponse={headers:p.headers},m})),r.then(p=>{const d=BG(p),m=new JF;return Object.assign(m,d),m})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,i;let r,a="",u={};if(this.apiClient.isVertexAI()){const c=tz(this.apiClient,e);return a=fe("{model}:predict",c._url),u=c._query,delete c._url,delete c._query,r=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json().then(d=>{const m=d;return m.sdkHttpResponse={headers:p.headers},m})),r.then(p=>{const d=nz(p),m=new KF;return Object.assign(m,d),m})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var n,i;let r,a="",u={};if(this.apiClient.isVertexAI()){const c=LV(this.apiClient,e);return a=fe("{model}:predict",c._url),u=c._query,delete c._url,delete c._query,r=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),r.then(p=>{const d=UV(p),m=new jF;return Object.assign(m,d),m})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var n,i;let r,a="",u={};if(this.apiClient.isVertexAI()){const c=VV(this.apiClient,e);return a=fe("{model}:predict",c._url),u=c._query,delete c._url,delete c._query,r=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),r.then(p=>{const d=zV(p),m=new YF;return Object.assign(m,d),m})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,i,r,a;let u,c="",p={};if(this.apiClient.isVertexAI()){const d=SV(this.apiClient,e);return c=fe("{name}",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json()),u.then(m=>Cv(m))}else{const d=_V(this.apiClient,e);return c=fe("{name}",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json()),u.then(m=>wv(m))}}async listInternal(e){var n,i,r,a;let u,c="",p={};if(this.apiClient.isVertexAI()){const d=MV(this.apiClient,e);return c=fe("{models_url}",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json().then(y=>{const S=y;return S.sdkHttpResponse={headers:m.headers},S})),u.then(m=>{const y=IV(m),S=new zC;return Object.assign(S,y),S})}else{const d=RV(this.apiClient,e);return c=fe("{models_url}",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json().then(y=>{const S=y;return S.sdkHttpResponse={headers:m.headers},S})),u.then(m=>{const y=NV(m),S=new zC;return Object.assign(S,y),S})}}async update(e){var n,i,r,a;let u,c="",p={};if(this.apiClient.isVertexAI()){const d=ZV(this.apiClient,e);return c=fe("{model}",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json()),u.then(m=>Cv(m))}else{const d=QV(this.apiClient,e);return c=fe("{name}",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json()),u.then(m=>wv(m))}}async delete(e){var n,i,r,a;let u,c="",p={};if(this.apiClient.isVertexAI()){const d=OG(this.apiClient,e);return c=fe("{name}",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json().then(y=>{const S=y;return S.sdkHttpResponse={headers:m.headers},S})),u.then(m=>{const y=kG(m),S=new qC;return Object.assign(S,y),S})}else{const d=DG(this.apiClient,e);return c=fe("{name}",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json().then(y=>{const S=y;return S.sdkHttpResponse={headers:m.headers},S})),u.then(m=>{const y=PG(m),S=new qC;return Object.assign(S,y),S})}}async countTokens(e){var n,i,r,a;let u,c="",p={};if(this.apiClient.isVertexAI()){const d=MG(this.apiClient,e);return c=fe("{model}:countTokens",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json().then(y=>{const S=y;return S.sdkHttpResponse={headers:m.headers},S})),u.then(m=>{const y=IG(m),S=new JC;return Object.assign(S,y),S})}else{const d=RG(this.apiClient,e);return c=fe("{model}:countTokens",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json().then(y=>{const S=y;return S.sdkHttpResponse={headers:m.headers},S})),u.then(m=>{const y=NG(m),S=new JC;return Object.assign(S,y),S})}}async computeTokens(e){var n,i;let r,a="",u={};if(this.apiClient.isVertexAI()){const c=bG(this.apiClient,e);return a=fe("{model}:computeTokens",c._url),u=c._query,delete c._url,delete c._query,r=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json().then(d=>{const m=d;return m.sdkHttpResponse={headers:p.headers},m})),r.then(p=>{const d=EG(p),m=new XF;return Object.assign(m,d),m})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var n,i,r,a;let u,c="",p={};if(this.apiClient.isVertexAI()){const d=uV(this.apiClient,e);return c=fe("{model}:predictLongRunning",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json()),u.then(m=>{const y=aV(m),S=new Cd;return Object.assign(S,y),S})}else{const d=lV(this.apiClient,e);return c=fe("{model}:predictLongRunning",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json()),u.then(m=>{const y=sV(m),S=new Cd;return Object.assign(S,y),S})}}};class Yz extends So{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const n=e.operation,i=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=n.name.split("/operations/")[0];let a;i&&"httpOptions"in i&&(a=i.httpOptions);const u=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:r,config:{httpOptions:a}});return n._fromAPIResponse({apiResponse:u,_isVertexAI:!0})}else{const r=await this.getVideosOperationInternal({operationName:n.name,config:i});return n._fromAPIResponse({apiResponse:r,_isVertexAI:!1})}}async get(e){const n=e.operation,i=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=n.name.split("/operations/")[0];let a;i&&"httpOptions"in i&&(a=i.httpOptions);const u=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:r,config:{httpOptions:a}});return n._fromAPIResponse({apiResponse:u,_isVertexAI:!0})}else{const r=await this.getVideosOperationInternal({operationName:n.name,config:i});return n._fromAPIResponse({apiResponse:r,_isVertexAI:!1})}}async getVideosOperationInternal(e){var n,i,r,a;let u,c="",p={};if(this.apiClient.isVertexAI()){const d=$F(e);return c=fe("{operationName}",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json()),u}else{const d=FF(e);return c=fe("{operationName}",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json()),u}}async fetchPredictVideosOperationInternal(e){var n,i;let r,a="",u={};if(this.apiClient.isVertexAI()){const c=DF(e);return a=fe("{resourceName}:fetchPredictOperation",c._url),u=c._query,delete c._url,delete c._query,r=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),r}else throw new Error("This method is only supported by the Vertex AI.")}}function Xz(t){const e={},n=h(t,["data"]);if(n!=null&&g(e,["data"],n),h(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=h(t,["mimeType"]);return i!=null&&g(e,["mimeType"],i),e}function Wz(t){const e={},n=h(t,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(a=>sq(a))),g(e,["parts"],r)}const i=h(t,["role"]);return i!=null&&g(e,["role"],i),e}function Qz(t,e,n){const i={},r=h(e,["expireTime"]);n!==void 0&&r!=null&&g(n,["expireTime"],r);const a=h(e,["newSessionExpireTime"]);n!==void 0&&a!=null&&g(n,["newSessionExpireTime"],a);const u=h(e,["uses"]);n!==void 0&&u!=null&&g(n,["uses"],u);const c=h(e,["liveConnectConstraints"]);n!==void 0&&c!=null&&g(n,["bidiGenerateContentSetup"],rq(t,c));const p=h(e,["lockAdditionalFields"]);return n!==void 0&&p!=null&&g(n,["fieldMask"],p),i}function Zz(t,e){const n={},i=h(e,["config"]);return i!=null&&g(n,["config"],Qz(t,i,n)),n}function eq(t){const e={};if(h(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=h(t,["fileUri"]);n!=null&&g(e,["fileUri"],n);const i=h(t,["mimeType"]);return i!=null&&g(e,["mimeType"],i),e}function tq(t){const e={},n=h(t,["id"]);n!=null&&g(e,["id"],n);const i=h(t,["args"]);i!=null&&g(e,["args"],i);const r=h(t,["name"]);if(r!=null&&g(e,["name"],r),h(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(h(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function nq(t){const e={};if(h(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=h(t,["enableWidget"]);return n!=null&&g(e,["enableWidget"],n),e}function iq(t){const e={};if(h(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(h(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=h(t,["timeRangeFilter"]);return n!=null&&g(e,["timeRangeFilter"],n),e}function oq(t,e){const n={},i=h(t,["generationConfig"]);e!==void 0&&i!=null&&g(e,["setup","generationConfig"],i);const r=h(t,["responseModalities"]);e!==void 0&&r!=null&&g(e,["setup","generationConfig","responseModalities"],r);const a=h(t,["temperature"]);e!==void 0&&a!=null&&g(e,["setup","generationConfig","temperature"],a);const u=h(t,["topP"]);e!==void 0&&u!=null&&g(e,["setup","generationConfig","topP"],u);const c=h(t,["topK"]);e!==void 0&&c!=null&&g(e,["setup","generationConfig","topK"],c);const p=h(t,["maxOutputTokens"]);e!==void 0&&p!=null&&g(e,["setup","generationConfig","maxOutputTokens"],p);const d=h(t,["mediaResolution"]);e!==void 0&&d!=null&&g(e,["setup","generationConfig","mediaResolution"],d);const m=h(t,["seed"]);e!==void 0&&m!=null&&g(e,["setup","generationConfig","seed"],m);const y=h(t,["speechConfig"]);e!==void 0&&y!=null&&g(e,["setup","generationConfig","speechConfig"],Gy(y));const S=h(t,["thinkingConfig"]);e!==void 0&&S!=null&&g(e,["setup","generationConfig","thinkingConfig"],S);const b=h(t,["enableAffectiveDialog"]);e!==void 0&&b!=null&&g(e,["setup","generationConfig","enableAffectiveDialog"],b);const T=h(t,["systemInstruction"]);e!==void 0&&T!=null&&g(e,["setup","systemInstruction"],Wz(Bt(T)));const A=h(t,["tools"]);if(e!==void 0&&A!=null){let U=Ia(A);Array.isArray(U)&&(U=U.map(O=>lq(Na(O)))),g(e,["setup","tools"],U)}const x=h(t,["sessionResumption"]);e!==void 0&&x!=null&&g(e,["setup","sessionResumption"],aq(x));const M=h(t,["inputAudioTranscription"]);e!==void 0&&M!=null&&g(e,["setup","inputAudioTranscription"],M);const I=h(t,["outputAudioTranscription"]);e!==void 0&&I!=null&&g(e,["setup","outputAudioTranscription"],I);const N=h(t,["realtimeInputConfig"]);e!==void 0&&N!=null&&g(e,["setup","realtimeInputConfig"],N);const D=h(t,["contextWindowCompression"]);e!==void 0&&D!=null&&g(e,["setup","contextWindowCompression"],D);const L=h(t,["proactivity"]);if(e!==void 0&&L!=null&&g(e,["setup","proactivity"],L),h(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function rq(t,e){const n={},i=h(e,["model"]);i!=null&&g(n,["setup","model"],Ve(t,i));const r=h(e,["config"]);return r!=null&&g(n,["config"],oq(r,n)),n}function sq(t){const e={},n=h(t,["mediaResolution"]);n!=null&&g(e,["mediaResolution"],n);const i=h(t,["codeExecutionResult"]);i!=null&&g(e,["codeExecutionResult"],i);const r=h(t,["executableCode"]);r!=null&&g(e,["executableCode"],r);const a=h(t,["fileData"]);a!=null&&g(e,["fileData"],eq(a));const u=h(t,["functionCall"]);u!=null&&g(e,["functionCall"],tq(u));const c=h(t,["functionResponse"]);c!=null&&g(e,["functionResponse"],c);const p=h(t,["inlineData"]);p!=null&&g(e,["inlineData"],Xz(p));const d=h(t,["text"]);d!=null&&g(e,["text"],d);const m=h(t,["thought"]);m!=null&&g(e,["thought"],m);const y=h(t,["thoughtSignature"]);y!=null&&g(e,["thoughtSignature"],y);const S=h(t,["videoMetadata"]);return S!=null&&g(e,["videoMetadata"],S),e}function aq(t){const e={},n=h(t,["handle"]);if(n!=null&&g(e,["handle"],n),h(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function lq(t){const e={},n=h(t,["functionDeclarations"]);if(n!=null){let m=n;Array.isArray(m)&&(m=m.map(y=>y)),g(e,["functionDeclarations"],m)}if(h(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=h(t,["googleSearchRetrieval"]);i!=null&&g(e,["googleSearchRetrieval"],i);const r=h(t,["computerUse"]);r!=null&&g(e,["computerUse"],r);const a=h(t,["fileSearch"]);a!=null&&g(e,["fileSearch"],a);const u=h(t,["codeExecution"]);if(u!=null&&g(e,["codeExecution"],u),h(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const c=h(t,["googleMaps"]);c!=null&&g(e,["googleMaps"],nq(c));const p=h(t,["googleSearch"]);p!=null&&g(e,["googleSearch"],iq(p));const d=h(t,["urlContext"]);return d!=null&&g(e,["urlContext"],d),e}function uq(t){const e=[];for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const i=t[n];if(typeof i=="object"&&i!=null&&Object.keys(i).length>0){const r=Object.keys(i).map(a=>`${n}.${a}`);e.push(...r)}else e.push(n)}return e.join(",")}function cq(t,e){let n=null;const i=t.bidiGenerateContentSetup;if(typeof i=="object"&&i!==null&&"setup"in i){const a=i.setup;typeof a=="object"&&a!==null?(t.bidiGenerateContentSetup=a,n=a):delete t.bidiGenerateContentSetup}else i!==void 0&&delete t.bidiGenerateContentSetup;const r=t.fieldMask;if(n){const a=uq(n);if(Array.isArray(e?.lockAdditionalFields)&&e?.lockAdditionalFields.length===0)a?t.fieldMask=a:delete t.fieldMask;else if(e?.lockAdditionalFields&&e.lockAdditionalFields.length>0&&r!==null&&Array.isArray(r)&&r.length>0){const u=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let c=[];r.length>0&&(c=r.map(d=>u.includes(d)?`generationConfig.${d}`:d));const p=[];a&&p.push(a),c.length>0&&p.push(...c),p.length>0?t.fieldMask=p.join(","):delete t.fieldMask}else delete t.fieldMask}else r!==null&&Array.isArray(r)&&r.length>0?t.fieldMask=r.join(","):delete t.fieldMask;return t}class fq extends So{constructor(e){super(),this.apiClient=e}async create(e){var n,i;let r,a="",u={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const c=Zz(this.apiClient,e);a=fe("auth_tokens",c._url),u=c._query,delete c.config,delete c._url,delete c._query;const p=cq(c,e.config);return r=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),r.then(d=>d)}}}function dq(t,e){const n={},i=h(t,["force"]);return e!==void 0&&i!=null&&g(e,["_query","force"],i),n}function pq(t){const e={},n=h(t,["name"]);n!=null&&g(e,["_url","name"],n);const i=h(t,["config"]);return i!=null&&dq(i,e),e}function hq(t){const e={},n=h(t,["name"]);return n!=null&&g(e,["_url","name"],n),e}function mq(t,e){const n={},i=h(t,["pageSize"]);e!==void 0&&i!=null&&g(e,["_query","pageSize"],i);const r=h(t,["pageToken"]);return e!==void 0&&r!=null&&g(e,["_query","pageToken"],r),n}function gq(t){const e={},n=h(t,["parent"]);n!=null&&g(e,["_url","parent"],n);const i=h(t,["config"]);return i!=null&&mq(i,e),e}function vq(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const i=h(t,["nextPageToken"]);i!=null&&g(e,["nextPageToken"],i);const r=h(t,["documents"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(u=>u)),g(e,["documents"],a)}return e}class yq extends So{constructor(e){super(),this.apiClient=e,this.list=async n=>new rs(go.PAGED_ITEM_DOCUMENTS,i=>this.listInternal({parent:n.parent,config:i.config}),await this.listInternal(n),n)}async get(e){var n,i;let r,a="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=hq(e);return a=fe("{name}",c._url),u=c._query,delete c._url,delete c._query,r=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),r.then(p=>p)}}async delete(e){var n,i;let r="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=pq(e);r=fe("{name}",u._url),a=u._query,delete u._url,delete u._query,await this.apiClient.request({path:r,queryParams:a,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal})}}async listInternal(e){var n,i;let r,a="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=gq(e);return a=fe("{parent}/documents",c._url),u=c._query,delete c._url,delete c._query,r=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),r.then(p=>{const d=vq(p),m=new WF;return Object.assign(m,d),m})}}}class _q extends So{constructor(e,n=new yq(e)){super(),this.apiClient=e,this.documents=n,this.list=async(i={})=>new rs(go.PAGED_ITEM_FILE_SEARCH_STORES,r=>this.listInternal(r),await this.listInternal(i),i)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var n,i;let r,a="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=uz(e);return a=fe("fileSearchStores",c._url),u=c._query,delete c._url,delete c._query,r=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),r.then(p=>p)}}async get(e){var n,i;let r,a="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=dz(e);return a=fe("{name}",c._url),u=c._query,delete c._url,delete c._query,r=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),r.then(p=>p)}}async delete(e){var n,i;let r="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=fz(e);r=fe("{name}",u._url),a=u._query,delete u._url,delete u._query,await this.apiClient.request({path:r,queryParams:a,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal})}}async listInternal(e){var n,i;let r,a="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=yz(e);return a=fe("fileSearchStores",c._url),u=c._query,delete c._url,delete c._query,r=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),r.then(p=>{const d=_z(p),m=new QF;return Object.assign(m,d),m})}}async uploadToFileSearchStoreInternal(e){var n,i;let r,a="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=Sz(e);return a=fe("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",c._url),u=c._query,delete c._url,delete c._query,r=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),r.then(p=>{const d=bz(p),m=new ZF;return Object.assign(m,d),m})}}async importFile(e){var n,i;let r,a="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=mz(e);return a=fe("{file_search_store_name}:importFile",c._url),u=c._query,delete c._url,delete c._query,r=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),r.then(p=>{const d=hz(p),m=new Uy;return Object.assign(m,d),m})}}}let NM=function(){const{crypto:t}=globalThis;if(t?.randomUUID)return NM=t.randomUUID.bind(t),t.randomUUID();const e=new Uint8Array(1),n=t?()=>t.getRandomValues(e)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,i=>(+i^n()&15>>+i/4).toString(16))};const Sq=()=>NM();function Av(t){return typeof t=="object"&&t!==null&&("name"in t&&t.name==="AbortError"||"message"in t&&String(t.message).includes("FetchRequestCanceledException"))}const xv=t=>{if(t instanceof Error)return t;if(typeof t=="object"&&t!==null){try{if(Object.prototype.toString.call(t)==="[object Error]"){const e=new Error(t.message,t.cause?{cause:t.cause}:{});return t.stack&&(e.stack=t.stack),t.cause&&!e.cause&&(e.cause=t.cause),t.name&&(e.name=t.name),e}}catch{}try{return new Error(JSON.stringify(t))}catch{}}return new Error(t)};class Jn extends Error{}let Kn=class Rv extends Jn{constructor(e,n,i,r){super(`${Rv.makeMessage(e,n,i)}`),this.status=e,this.headers=r,this.error=n}static makeMessage(e,n,i){const r=n?.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):i;return e&&r?`${e} ${r}`:e?`${e} status code (no body)`:r||"(no status code or body)"}static generate(e,n,i,r){if(!e||!r)return new pp({message:i,cause:xv(n)});const a=n;return e===400?new DM(e,a,i,r):e===401?new OM(e,a,i,r):e===403?new PM(e,a,i,r):e===404?new kM(e,a,i,r):e===409?new LM(e,a,i,r):e===422?new UM(e,a,i,r):e===429?new BM(e,a,i,r):e>=500?new FM(e,a,i,r):new Rv(e,a,i,r)}},Mv=class extends Kn{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}},pp=class extends Kn{constructor({message:e,cause:n}){super(void 0,void 0,e||"Connection error.",void 0),n&&(this.cause=n)}},IM=class extends pp{constructor({message:e}={}){super({message:e??"Request timed out."})}},DM=class extends Kn{},OM=class extends Kn{},PM=class extends Kn{},kM=class extends Kn{},LM=class extends Kn{},UM=class extends Kn{},BM=class extends Kn{},FM=class extends Kn{};const bq=/^[a-z][a-z0-9+.-]*:/i,Eq=t=>bq.test(t);let Nv=t=>(Nv=Array.isArray,Nv(t));const wq=Nv;let Cq=wq;const hT=Cq;function Tq(t){if(!t)return!0;for(const e in t)return!1;return!0}function Aq(t,e){return Object.prototype.hasOwnProperty.call(t,e)}const xq=(t,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new Jn(`${t} must be an integer`);if(e<0)throw new Jn(`${t} must be a positive integer`);return e},Rq=t=>{try{return JSON.parse(t)}catch{return}};const Mq=t=>new Promise(e=>setTimeout(e,t));const na="0.0.1";function Nq(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const Iq=()=>{var t,e,n,i,r;const a=Nq();if(a==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":na,"X-Stainless-OS":gT(Deno.build.os),"X-Stainless-Arch":mT(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(e=(t=Deno.version)===null||t===void 0?void 0:t.deno)!==null&&e!==void 0?e:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":na,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(a==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":na,"X-Stainless-OS":gT((n=globalThis.process.platform)!==null&&n!==void 0?n:"unknown"),"X-Stainless-Arch":mT((i=globalThis.process.arch)!==null&&i!==void 0?i:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(r=globalThis.process.version)!==null&&r!==void 0?r:"unknown"};const u=Dq();return u?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":na,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${u.browser}`,"X-Stainless-Runtime-Version":u.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":na,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function Dq(){if(typeof navigator>"u"||!navigator)return null;const t=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:n}of t){const i=n.exec(navigator.userAgent);if(i){const r=i[1]||0,a=i[2]||0,u=i[3]||0;return{browser:e,version:`${r}.${a}.${u}`}}}return null}const mT=t=>t==="x32"?"x32":t==="x86_64"||t==="x64"?"x64":t==="arm"?"arm":t==="aarch64"||t==="arm64"?"arm64":t?`other:${t}`:"unknown",gT=t=>(t=t.toLowerCase(),t.includes("ios")?"iOS":t==="android"?"Android":t==="darwin"?"MacOS":t==="win32"?"Windows":t==="freebsd"?"FreeBSD":t==="openbsd"?"OpenBSD":t==="linux"?"Linux":t?`Other:${t}`:"Unknown");let Tf;const Oq=()=>Tf??(Tf=Iq());function Pq(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function $M(...t){const e=globalThis.ReadableStream;if(typeof e>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new e(...t)}function kq(t){let e=Symbol.asyncIterator in t?t[Symbol.asyncIterator]():t[Symbol.iterator]();return $M({start(){},async pull(n){const{done:i,value:r}=await e.next();i?n.close():n.enqueue(r)},async cancel(){var n;await((n=e.return)===null||n===void 0?void 0:n.call(e))}})}function HM(t){if(t[Symbol.asyncIterator])return t;const e=t.getReader();return{async next(){try{const n=await e.read();return n?.done&&e.releaseLock(),n}catch(n){throw e.releaseLock(),n}},async return(){const n=e.cancel();return e.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function Lq(t){var e,n;if(t===null||typeof t!="object")return;if(t[Symbol.asyncIterator]){await((n=(e=t[Symbol.asyncIterator]()).return)===null||n===void 0?void 0:n.call(e));return}const i=t.getReader(),r=i.cancel();i.releaseLock(),await r}const Uq=({headers:t,body:e})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(e)});const GM=()=>{var t;if(typeof File>"u"){const{process:e}=globalThis,n=typeof((t=e?.versions)===null||t===void 0?void 0:t.node)=="string"&&parseInt(e.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(n?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function wg(t,e,n){return GM(),new File(t,e??"unknown_file",n)}function Bq(t){return(typeof t=="object"&&t!==null&&("name"in t&&t.name&&String(t.name)||"url"in t&&t.url&&String(t.url)||"filename"in t&&t.filename&&String(t.filename)||"path"in t&&t.path&&String(t.path))||"").split(/[\\/]/).pop()||void 0}const Fq=t=>t!=null&&typeof t=="object"&&typeof t[Symbol.asyncIterator]=="function";const VM=t=>t!=null&&typeof t=="object"&&typeof t.size=="number"&&typeof t.type=="string"&&typeof t.text=="function"&&typeof t.slice=="function"&&typeof t.arrayBuffer=="function",$q=t=>t!=null&&typeof t=="object"&&typeof t.name=="string"&&typeof t.lastModified=="number"&&VM(t),Hq=t=>t!=null&&typeof t=="object"&&typeof t.url=="string"&&typeof t.blob=="function";async function Gq(t,e,n){if(GM(),t=await t,$q(t))return t instanceof File?t:wg([await t.arrayBuffer()],t.name);if(Hq(t)){const r=await t.blob();return e||(e=new URL(t.url).pathname.split(/[\\/]/).pop()),wg(await Iv(r),e,n)}const i=await Iv(t);if(e||(e=Bq(t)),!n?.type){const r=i.find(a=>typeof a=="object"&&"type"in a&&a.type);typeof r=="string"&&(n=Object.assign(Object.assign({},n),{type:r}))}return wg(i,e,n)}async function Iv(t){var e,n,i,r,a;let u=[];if(typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer)u.push(t);else if(VM(t))u.push(t instanceof Blob?t:await t.arrayBuffer());else if(Fq(t))try{for(var c=!0,p=si(t),d;d=await p.next(),e=d.done,!e;c=!0){r=d.value,c=!1;const m=r;u.push(...await Iv(m))}}catch(m){n={error:m}}finally{try{!c&&!e&&(i=p.return)&&await i.call(p)}finally{if(n)throw n.error}}else{const m=(a=t?.constructor)===null||a===void 0?void 0:a.name;throw new Error(`Unexpected data type: ${typeof t}${m?`; constructor: ${m}`:""}${Vq(t)}`)}return u}function Vq(t){return typeof t!="object"||t===null?"":`; props: [${Object.getOwnPropertyNames(t).map(n=>`"${n}"`).join(", ")}]`}let zM=class{constructor(e){this._client=e}};zM._key=[];function qM(t){return t.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const vT=Object.freeze(Object.create(null)),zq=(t=qM)=>(function(n,...i){if(n.length===1)return n[0];let r=!1;const a=[],u=n.reduce((m,y,S)=>{var b,T,A;/[?#]/.test(y)&&(r=!0);const x=i[S];let M=(r?encodeURIComponent:t)(""+x);return S!==i.length&&(x==null||typeof x=="object"&&x.toString===((A=Object.getPrototypeOf((T=Object.getPrototypeOf((b=x.hasOwnProperty)!==null&&b!==void 0?b:vT))!==null&&T!==void 0?T:vT))===null||A===void 0?void 0:A.toString))&&(M=x+"",a.push({start:m.length+y.length,length:M.length,error:`Value of type ${Object.prototype.toString.call(x).slice(8,-1)} is not a valid path parameter`})),m+y+(S===i.length?"":M)},""),c=u.split(/[?#]/,1)[0],p=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let d;for(;(d=p.exec(c))!==null;)a.push({start:d.index,length:d[0].length,error:`Value "${d[0]}" can't be safely passed as a path parameter`});if(a.sort((m,y)=>m.start-y.start),a.length>0){let m=0;const y=a.reduce((S,b)=>{const T=" ".repeat(b.start-m),A="^".repeat(b.length);return m=b.start+b.length,S+T+A},"");throw new Jn(`Path parameters result in path with invalid segments:
${a.map(S=>S.error).join(`
`)}
${u}
${y}`)}return u}),Af=zq(qM);class JM extends zM{create(e,n){var i;const{api_version:r=this._client.apiVersion}=e,a=Ad(e,["api_version"]);if("model"in a&&"agent_config"in a)throw new Jn("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in a&&"generation_config"in a)throw new Jn("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(Af`/${r}/interactions`,Object.assign(Object.assign({body:a},n),{stream:(i=e.stream)!==null&&i!==void 0?i:!1}))}delete(e,n={},i){const{api_version:r=this._client.apiVersion}=n??{};return this._client.delete(Af`/${r}/interactions/${e}`,i)}cancel(e,n={},i){const{api_version:r=this._client.apiVersion}=n??{};return this._client.post(Af`/${r}/interactions/${e}/cancel`,i)}get(e,n={},i){var r;const a=n??{},{api_version:u=this._client.apiVersion}=a,c=Ad(a,["api_version"]);return this._client.get(Af`/${u}/interactions/${e}`,Object.assign(Object.assign({query:c},i),{stream:(r=n?.stream)!==null&&r!==void 0?r:!1}))}}JM._key=Object.freeze(["interactions"]);class KM extends JM{}function qq(t){let e=0;for(const r of t)e+=r.length;const n=new Uint8Array(e);let i=0;for(const r of t)n.set(r,i),i+=r.length;return n}let xf;function zy(t){let e;return(xf??(e=new globalThis.TextEncoder,xf=e.encode.bind(e)))(t)}let Rf;function yT(t){let e;return(Rf??(e=new globalThis.TextDecoder,Rf=e.decode.bind(e)))(t)}let hp=class{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(e){if(e==null)return[];const n=e instanceof ArrayBuffer?new Uint8Array(e):typeof e=="string"?zy(e):e;this.buffer=qq([this.buffer,n]);const i=[];let r;for(;(r=Jq(this.buffer,this.carriageReturnIndex))!=null;){if(r.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=r.index;continue}if(this.carriageReturnIndex!=null&&(r.index!==this.carriageReturnIndex+1||r.carriage)){i.push(yT(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const a=this.carriageReturnIndex!==null?r.preceding-1:r.preceding,u=yT(this.buffer.subarray(0,a));i.push(u),this.buffer=this.buffer.subarray(r.index),this.carriageReturnIndex=null}return i}flush(){return this.buffer.length?this.decode(`
`):[]}};hp.NEWLINE_CHARS=new Set([`
`,"\r"]);hp.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function Jq(t,e){for(let r=e??0;r<t.length;r++){if(t[r]===10)return{preceding:r,index:r+1,carriage:!1};if(t[r]===13)return{preceding:r,index:r+1,carriage:!0}}return null}function Kq(t){for(let i=0;i<t.length-1;i++){if(t[i]===10&&t[i+1]===10||t[i]===13&&t[i+1]===13)return i+2;if(t[i]===13&&t[i+1]===10&&i+3<t.length&&t[i+2]===13&&t[i+3]===10)return i+4}return-1}const xd={off:0,error:200,warn:300,info:400,debug:500},_T=(t,e,n)=>{if(t){if(Aq(xd,t))return t;Gt(n).warn(`${e} was set to ${JSON.stringify(t)}, expected one of ${JSON.stringify(Object.keys(xd))}`)}};function Hl(){}function Mf(t,e,n){return!e||xd[t]>xd[n]?Hl:e[t].bind(e)}const jq={error:Hl,warn:Hl,info:Hl,debug:Hl};let ST=new WeakMap;function Gt(t){var e;const n=t.logger,i=(e=t.logLevel)!==null&&e!==void 0?e:"off";if(!n)return jq;const r=ST.get(n);if(r&&r[0]===i)return r[1];const a={error:Mf("error",n,i),warn:Mf("warn",n,i),info:Mf("info",n,i),debug:Mf("debug",n,i)};return ST.set(n,[i,a]),a}const kr=t=>(t.options&&(t.options=Object.assign({},t.options),delete t.options.headers),t.headers&&(t.headers=Object.fromEntries((t.headers instanceof Headers?[...t.headers]:Object.entries(t.headers)).map(([e,n])=>[e,e.toLowerCase()==="x-goog-api-key"||e.toLowerCase()==="authorization"||e.toLowerCase()==="cookie"||e.toLowerCase()==="set-cookie"?"***":n]))),"retryOfRequestLogID"in t&&(t.retryOfRequestLogID&&(t.retryOf=t.retryOfRequestLogID),delete t.retryOfRequestLogID),t);let Yq=class Gl{constructor(e,n,i){this.iterator=e,this.controller=n,this.client=i}static fromSSEResponse(e,n,i){let r=!1;const a=i?Gt(i):console;function u(){return ri(this,arguments,function*(){var p,d,m,y;if(r)throw new Jn("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let S=!1;try{try{for(var b=!0,T=si(Xq(e,n)),A;A=yield Ae(T.next()),p=A.done,!p;b=!0){y=A.value,b=!1;const x=y;if(!S)if(x.data.startsWith("[DONE]")){S=!0;continue}else try{yield yield Ae(JSON.parse(x.data))}catch(M){throw a.error("Could not parse message into JSON:",x.data),a.error("From chunk:",x.raw),M}}}catch(x){d={error:x}}finally{try{!b&&!p&&(m=T.return)&&(yield Ae(m.call(T)))}finally{if(d)throw d.error}}S=!0}catch(x){if(Av(x))return yield Ae(void 0);throw x}finally{S||n.abort()}})}return new Gl(u,n,i)}static fromReadableStream(e,n,i){let r=!1;function a(){return ri(this,arguments,function*(){var p,d,m,y;const S=new hp,b=HM(e);try{for(var T=!0,A=si(b),x;x=yield Ae(A.next()),p=x.done,!p;T=!0){y=x.value,T=!1;const M=y;for(const I of S.decode(M))yield yield Ae(I)}}catch(M){d={error:M}}finally{try{!T&&!p&&(m=A.return)&&(yield Ae(m.call(A)))}finally{if(d)throw d.error}}for(const M of S.flush())yield yield Ae(M)})}function u(){return ri(this,arguments,function*(){var p,d,m,y;if(r)throw new Jn("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let S=!1;try{try{for(var b=!0,T=si(a()),A;A=yield Ae(T.next()),p=A.done,!p;b=!0){y=A.value,b=!1;const x=y;S||x&&(yield yield Ae(JSON.parse(x)))}}catch(x){d={error:x}}finally{try{!b&&!p&&(m=T.return)&&(yield Ae(m.call(T)))}finally{if(d)throw d.error}}S=!0}catch(x){if(Av(x))return yield Ae(void 0);throw x}finally{S||n.abort()}})}return new Gl(u,n,i)}[Symbol.asyncIterator](){return this.iterator()}tee(){const e=[],n=[],i=this.iterator(),r=a=>({next:()=>{if(a.length===0){const u=i.next();e.push(u),n.push(u)}return a.shift()}});return[new Gl(()=>r(e),this.controller,this.client),new Gl(()=>r(n),this.controller,this.client)]}toReadableStream(){const e=this;let n;return $M({async start(){n=e[Symbol.asyncIterator]()},async pull(i){try{const{value:r,done:a}=await n.next();if(a)return i.close();const u=zy(JSON.stringify(r)+`
`);i.enqueue(u)}catch(r){i.error(r)}},async cancel(){var i;await((i=n.return)===null||i===void 0?void 0:i.call(n))}})}};function Xq(t,e){return ri(this,arguments,function*(){var i,r,a,u;if(!t.body)throw e.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new Jn("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new Jn("Attempted to iterate over a response with no body");const c=new Qq,p=new hp,d=HM(t.body);try{for(var m=!0,y=si(Wq(d)),S;S=yield Ae(y.next()),i=S.done,!i;m=!0){u=S.value,m=!1;const b=u;for(const T of p.decode(b)){const A=c.decode(T);A&&(yield yield Ae(A))}}}catch(b){r={error:b}}finally{try{!m&&!i&&(a=y.return)&&(yield Ae(a.call(y)))}finally{if(r)throw r.error}}for(const b of p.flush()){const T=c.decode(b);T&&(yield yield Ae(T))}})}function Wq(t){return ri(this,arguments,function*(){var n,i,r,a;let u=new Uint8Array;try{for(var c=!0,p=si(t),d;d=yield Ae(p.next()),n=d.done,!n;c=!0){a=d.value,c=!1;const m=a;if(m==null)continue;const y=m instanceof ArrayBuffer?new Uint8Array(m):typeof m=="string"?zy(m):m;let S=new Uint8Array(u.length+y.length);S.set(u),S.set(y,u.length),u=S;let b;for(;(b=Kq(u))!==-1;)yield yield Ae(u.slice(0,b)),u=u.slice(b)}}catch(m){i={error:m}}finally{try{!c&&!n&&(r=p.return)&&(yield Ae(r.call(p)))}finally{if(i)throw i.error}}u.length>0&&(yield yield Ae(u))})}let Qq=class{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const a={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],a}if(this.chunks.push(e),e.startsWith(":"))return null;let[n,i,r]=Zq(e,":");return r.startsWith(" ")&&(r=r.substring(1)),n==="event"?this.event=r:n==="data"&&this.data.push(r),null}};function Zq(t,e){const n=t.indexOf(e);return n!==-1?[t.substring(0,n),e,t.substring(n+e.length)]:[t,"",""]}async function e3(t,e){const{response:n,requestLogID:i,retryOfRequestLogID:r,startTime:a}=e,u=await(async()=>{var c;if(e.options.stream)return Gt(t).debug("response",n.status,n.url,n.headers,n.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(n,e.controller,t):Yq.fromSSEResponse(n,e.controller,t);if(n.status===204)return null;if(e.options.__binaryResponse)return n;const p=n.headers.get("content-type"),d=(c=p?.split(";")[0])===null||c===void 0?void 0:c.trim();return d?.includes("application/json")||d?.endsWith("+json")?await n.json():await n.text()})();return Gt(t).debug(`[${i}] response parsed`,kr({retryOfRequestLogID:r,url:n.url,status:n.status,body:u,durationMs:Date.now()-a})),u}let t3=class jM extends Promise{constructor(e,n,i=e3){super(r=>{r(null)}),this.responsePromise=n,this.parseResponse=i,this.client=e}_thenUnwrap(e){return new jM(this.client,this.responsePromise,async(n,i)=>e(await this.parseResponse(n,i),i))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:n}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(e=>this.parseResponse(this.client,e))),this.parsedPromise}then(e,n){return this.parse().then(e,n)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}};const YM=Symbol("brand.privateNullableHeaders");function*n3(t){if(!t)return;if(YM in t){const{values:i,nulls:r}=t;yield*i.entries();for(const a of r)yield[a,null];return}let e=!1,n;t instanceof Headers?n=t.entries():hT(t)?n=t:(e=!0,n=Object.entries(t??{}));for(let i of n){const r=i[0];if(typeof r!="string")throw new TypeError("expected header name to be a string");const a=hT(i[1])?i[1]:[i[1]];let u=!1;for(const c of a)c!==void 0&&(e&&!u&&(u=!0,yield[r,null]),yield[r,c])}}const Cg=t=>{const e=new Headers,n=new Set;for(const i of t){const r=new Set;for(const[a,u]of n3(i)){const c=a.toLowerCase();r.has(c)||(e.delete(a),r.add(c)),u===null?(e.delete(a),n.add(c)):(e.append(a,u),n.delete(c))}}return{[YM]:!0,values:e,nulls:n}};const Tg=t=>{var e,n,i,r,a,u;if(typeof globalThis.process<"u")return(i=(n=(e=AF)===null||e===void 0?void 0:e[t])===null||n===void 0?void 0:n.trim())!==null&&i!==void 0?i:void 0;if(typeof globalThis.Deno<"u")return(u=(a=(r=globalThis.Deno.env)===null||r===void 0?void 0:r.get)===null||a===void 0?void 0:a.call(r,t))===null||u===void 0?void 0:u.trim()};var XM;class mp{constructor(e){var n,i,r,a,u,c,p,d=e===void 0?{}:e,{baseURL:m=Tg("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:y=(n=Tg("GEMINI_API_KEY"))!==null&&n!==void 0?n:null,apiVersion:S="v1beta"}=d,b=Ad(d,["baseURL","apiKey","apiVersion"]);const T=Object.assign(Object.assign({apiKey:y,apiVersion:S},b),{baseURL:m||"https://generativelanguage.googleapis.com"});this.baseURL=T.baseURL,this.timeout=(i=T.timeout)!==null&&i!==void 0?i:mp.DEFAULT_TIMEOUT,this.logger=(r=T.logger)!==null&&r!==void 0?r:console;const A="warn";this.logLevel=A,this.logLevel=(u=(a=_T(T.logLevel,"ClientOptions.logLevel",this))!==null&&a!==void 0?a:_T(Tg("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&u!==void 0?u:A,this.fetchOptions=T.fetchOptions,this.maxRetries=(c=T.maxRetries)!==null&&c!==void 0?c:2,this.fetch=(p=T.fetch)!==null&&p!==void 0?p:Pq(),this.encoder=Uq,this._options=T,this.apiKey=y,this.apiVersion=S}withOptions(e){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),e))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:e,nulls:n}){if(!(this.apiKey&&e.get("x-goog-api-key"))&&!n.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(e){if(this.apiKey!=null)return Cg([{"x-goog-api-key":this.apiKey}])}stringifyQuery(e){return Object.entries(e).filter(([n,i])=>typeof i<"u").map(([n,i])=>{if(typeof i=="string"||typeof i=="number"||typeof i=="boolean")return`${encodeURIComponent(n)}=${encodeURIComponent(i)}`;if(i===null)return`${encodeURIComponent(n)}=`;throw new Jn(`Cannot stringify type ${typeof i}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${na}`}defaultIdempotencyKey(){return`stainless-node-retry-${Sq()}`}makeStatusError(e,n,i,r){return Kn.generate(e,n,i,r)}buildURL(e,n,i){const r=!this.baseURLOverridden()&&i||this.baseURL,a=Eq(e)?new URL(e):new URL(r+(r.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),u=this.defaultQuery();return Tq(u)||(n=Object.assign(Object.assign({},u),n)),typeof n=="object"&&n&&!Array.isArray(n)&&(a.search=this.stringifyQuery(n)),a.toString()}async prepareOptions(e){}async prepareRequest(e,{url:n,options:i}){}get(e,n){return this.methodRequest("get",e,n)}post(e,n){return this.methodRequest("post",e,n)}patch(e,n){return this.methodRequest("patch",e,n)}put(e,n){return this.methodRequest("put",e,n)}delete(e,n){return this.methodRequest("delete",e,n)}methodRequest(e,n,i){return this.request(Promise.resolve(i).then(r=>Object.assign({method:e,path:n},r)))}request(e,n=null){return new t3(this,this.makeRequest(e,n,void 0))}async makeRequest(e,n,i){var r,a,u;const c=await e,p=(r=c.maxRetries)!==null&&r!==void 0?r:this.maxRetries;n==null&&(n=p),await this.prepareOptions(c);const{req:d,url:m,timeout:y}=await this.buildRequest(c,{retryCount:p-n});await this.prepareRequest(d,{url:m,options:c});const S="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),b=i===void 0?"":`, retryOf: ${i}`,T=Date.now();if(Gt(this).debug(`[${S}] sending request`,kr({retryOfRequestLogID:i,method:c.method,url:m,options:c,headers:d.headers})),!((a=c.signal)===null||a===void 0)&&a.aborted)throw new Mv;const A=new AbortController,x=await this.fetchWithTimeout(m,d,y,A).catch(xv),M=Date.now();if(x instanceof globalThis.Error){const N=`retrying, ${n} attempts remaining`;if(!((u=c.signal)===null||u===void 0)&&u.aborted)throw new Mv;const D=Av(x)||/timed? ?out/i.test(String(x)+("cause"in x?String(x.cause):""));if(n)return Gt(this).info(`[${S}] connection ${D?"timed out":"failed"} - ${N}`),Gt(this).debug(`[${S}] connection ${D?"timed out":"failed"} (${N})`,kr({retryOfRequestLogID:i,url:m,durationMs:M-T,message:x.message})),this.retryRequest(c,n,i??S);throw Gt(this).info(`[${S}] connection ${D?"timed out":"failed"} - error; no more retries left`),Gt(this).debug(`[${S}] connection ${D?"timed out":"failed"} (error; no more retries left)`,kr({retryOfRequestLogID:i,url:m,durationMs:M-T,message:x.message})),D?new IM:new pp({cause:x})}const I=`[${S}${b}] ${d.method} ${m} ${x.ok?"succeeded":"failed"} with status ${x.status} in ${M-T}ms`;if(!x.ok){const N=await this.shouldRetry(x);if(n&&N){const J=`retrying, ${n} attempts remaining`;return await Lq(x.body),Gt(this).info(`${I} - ${J}`),Gt(this).debug(`[${S}] response error (${J})`,kr({retryOfRequestLogID:i,url:x.url,status:x.status,headers:x.headers,durationMs:M-T})),this.retryRequest(c,n,i??S,x.headers)}const D=N?"error; no more retries left":"error; not retryable";Gt(this).info(`${I} - ${D}`);const L=await x.text().catch(J=>xv(J).message),U=Rq(L),O=U?void 0:L;throw Gt(this).debug(`[${S}] response error (${D})`,kr({retryOfRequestLogID:i,url:x.url,status:x.status,headers:x.headers,message:O,durationMs:Date.now()-T})),this.makeStatusError(x.status,U,O,x.headers)}return Gt(this).info(I),Gt(this).debug(`[${S}] response start`,kr({retryOfRequestLogID:i,url:x.url,status:x.status,headers:x.headers,durationMs:M-T})),{response:x,options:c,controller:A,requestLogID:S,retryOfRequestLogID:i,startTime:T}}async fetchWithTimeout(e,n,i,r){const a=n||{},{signal:u,method:c}=a,p=Ad(a,["signal","method"]);u&&u.addEventListener("abort",()=>r.abort());const d=setTimeout(()=>r.abort(),i),m=globalThis.ReadableStream&&p.body instanceof globalThis.ReadableStream||typeof p.body=="object"&&p.body!==null&&Symbol.asyncIterator in p.body,y=Object.assign(Object.assign(Object.assign({signal:r.signal},m?{duplex:"half"}:{}),{method:"GET"}),p);c&&(y.method=c.toUpperCase());try{return await this.fetch.call(void 0,e,y)}finally{clearTimeout(d)}}async shouldRetry(e){const n=e.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,n,i,r){var a;let u;const c=r?.get("retry-after-ms");if(c){const d=parseFloat(c);Number.isNaN(d)||(u=d)}const p=r?.get("retry-after");if(p&&!u){const d=parseFloat(p);Number.isNaN(d)?u=Date.parse(p)-Date.now():u=d*1e3}if(!(u&&0<=u&&u<60*1e3)){const d=(a=e.maxRetries)!==null&&a!==void 0?a:this.maxRetries;u=this.calculateDefaultRetryTimeoutMillis(n,d)}return await Mq(u),this.makeRequest(e,n-1,i)}calculateDefaultRetryTimeoutMillis(e,n){const a=n-e,u=Math.min(.5*Math.pow(2,a),8),c=1-Math.random()*.25;return u*c*1e3}async buildRequest(e,{retryCount:n=0}={}){var i,r,a;const u=Object.assign({},e),{method:c,path:p,query:d,defaultBaseURL:m}=u,y=this.buildURL(p,d,m);"timeout"in u&&xq("timeout",u.timeout),u.timeout=(i=u.timeout)!==null&&i!==void 0?i:this.timeout;const{bodyHeaders:S,body:b}=this.buildBody({options:u}),T=await this.buildHeaders({options:e,method:c,bodyHeaders:S,retryCount:n});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:c,headers:T},u.signal&&{signal:u.signal}),globalThis.ReadableStream&&b instanceof globalThis.ReadableStream&&{duplex:"half"}),b&&{body:b}),(r=this.fetchOptions)!==null&&r!==void 0?r:{}),(a=u.fetchOptions)!==null&&a!==void 0?a:{}),url:y,timeout:u.timeout}}async buildHeaders({options:e,method:n,bodyHeaders:i,retryCount:r}){let a={};this.idempotencyHeader&&n!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),a[this.idempotencyHeader]=e.idempotencyKey);const u=Cg([a,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(r)},e.timeout?{"X-Stainless-Timeout":String(Math.trunc(e.timeout/1e3))}:{}),Oq()),await this.authHeaders(e),this._options.defaultHeaders,i,e.headers]);return this.validateHeaders(u),u.values}buildBody({options:{body:e,headers:n}}){if(!e)return{bodyHeaders:void 0,body:void 0};const i=Cg([n]);return ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof DataView||typeof e=="string"&&i.values.has("content-type")||globalThis.Blob&&e instanceof globalThis.Blob||e instanceof FormData||e instanceof URLSearchParams||globalThis.ReadableStream&&e instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:e}:typeof e=="object"&&(Symbol.asyncIterator in e||Symbol.iterator in e&&"next"in e&&typeof e.next=="function")?{bodyHeaders:void 0,body:kq(e)}:this.encoder({body:e,headers:i})}}mp.DEFAULT_TIMEOUT=6e4;class Tt extends mp{constructor(){super(...arguments),this.interactions=new KM(this)}}XM=Tt;Tt.GeminiNextGenAPIClient=XM;Tt.GeminiNextGenAPIClientError=Jn;Tt.APIError=Kn;Tt.APIConnectionError=pp;Tt.APIConnectionTimeoutError=IM;Tt.APIUserAbortError=Mv;Tt.NotFoundError=kM;Tt.ConflictError=LM;Tt.RateLimitError=BM;Tt.BadRequestError=DM;Tt.AuthenticationError=OM;Tt.InternalServerError=FM;Tt.PermissionDeniedError=PM;Tt.UnprocessableEntityError=UM;Tt.toFile=Gq;Tt.Interactions=KM;function i3(t,e){const n={},i=h(t,["name"]);return i!=null&&g(n,["_url","name"],i),n}function o3(t,e){const n={},i=h(t,["name"]);return i!=null&&g(n,["_url","name"],i),n}function r3(t,e){const n={},i=h(t,["sdkHttpResponse"]);return i!=null&&g(n,["sdkHttpResponse"],i),n}function s3(t,e){const n={},i=h(t,["sdkHttpResponse"]);return i!=null&&g(n,["sdkHttpResponse"],i),n}function a3(t,e,n){const i={};if(h(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const r=h(t,["tunedModelDisplayName"]);if(e!==void 0&&r!=null&&g(e,["displayName"],r),h(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const a=h(t,["epochCount"]);e!==void 0&&a!=null&&g(e,["tuningTask","hyperparameters","epochCount"],a);const u=h(t,["learningRateMultiplier"]);if(u!=null&&g(i,["tuningTask","hyperparameters","learningRateMultiplier"],u),h(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(h(t,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(h(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const c=h(t,["batchSize"]);e!==void 0&&c!=null&&g(e,["tuningTask","hyperparameters","batchSize"],c);const p=h(t,["learningRate"]);if(e!==void 0&&p!=null&&g(e,["tuningTask","hyperparameters","learningRate"],p),h(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(h(t,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return i}function l3(t,e,n){const i={};let r=h(n,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){const b=h(t,["validationDataset"]);e!==void 0&&b!=null&&g(e,["supervisedTuningSpec"],bT(b))}else if(r==="PREFERENCE_TUNING"){const b=h(t,["validationDataset"]);e!==void 0&&b!=null&&g(e,["preferenceOptimizationSpec"],bT(b))}const a=h(t,["tunedModelDisplayName"]);e!==void 0&&a!=null&&g(e,["tunedModelDisplayName"],a);const u=h(t,["description"]);e!==void 0&&u!=null&&g(e,["description"],u);let c=h(n,["config","method"]);if(c===void 0&&(c="SUPERVISED_FINE_TUNING"),c==="SUPERVISED_FINE_TUNING"){const b=h(t,["epochCount"]);e!==void 0&&b!=null&&g(e,["supervisedTuningSpec","hyperParameters","epochCount"],b)}else if(c==="PREFERENCE_TUNING"){const b=h(t,["epochCount"]);e!==void 0&&b!=null&&g(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],b)}let p=h(n,["config","method"]);if(p===void 0&&(p="SUPERVISED_FINE_TUNING"),p==="SUPERVISED_FINE_TUNING"){const b=h(t,["learningRateMultiplier"]);e!==void 0&&b!=null&&g(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],b)}else if(p==="PREFERENCE_TUNING"){const b=h(t,["learningRateMultiplier"]);e!==void 0&&b!=null&&g(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],b)}let d=h(n,["config","method"]);if(d===void 0&&(d="SUPERVISED_FINE_TUNING"),d==="SUPERVISED_FINE_TUNING"){const b=h(t,["exportLastCheckpointOnly"]);e!==void 0&&b!=null&&g(e,["supervisedTuningSpec","exportLastCheckpointOnly"],b)}else if(d==="PREFERENCE_TUNING"){const b=h(t,["exportLastCheckpointOnly"]);e!==void 0&&b!=null&&g(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],b)}let m=h(n,["config","method"]);if(m===void 0&&(m="SUPERVISED_FINE_TUNING"),m==="SUPERVISED_FINE_TUNING"){const b=h(t,["adapterSize"]);e!==void 0&&b!=null&&g(e,["supervisedTuningSpec","hyperParameters","adapterSize"],b)}else if(m==="PREFERENCE_TUNING"){const b=h(t,["adapterSize"]);e!==void 0&&b!=null&&g(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],b)}if(h(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(h(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const y=h(t,["labels"]);e!==void 0&&y!=null&&g(e,["labels"],y);const S=h(t,["beta"]);return e!==void 0&&S!=null&&g(e,["preferenceOptimizationSpec","hyperParameters","beta"],S),i}function u3(t,e){const n={},i=h(t,["baseModel"]);i!=null&&g(n,["baseModel"],i);const r=h(t,["preTunedModel"]);r!=null&&g(n,["preTunedModel"],r);const a=h(t,["trainingDataset"]);a!=null&&S3(a);const u=h(t,["config"]);return u!=null&&a3(u,n),n}function c3(t,e){const n={},i=h(t,["baseModel"]);i!=null&&g(n,["baseModel"],i);const r=h(t,["preTunedModel"]);r!=null&&g(n,["preTunedModel"],r);const a=h(t,["trainingDataset"]);a!=null&&b3(a,n,e);const u=h(t,["config"]);return u!=null&&l3(u,n,e),n}function f3(t,e){const n={},i=h(t,["name"]);return i!=null&&g(n,["_url","name"],i),n}function d3(t,e){const n={},i=h(t,["name"]);return i!=null&&g(n,["_url","name"],i),n}function p3(t,e,n){const i={},r=h(t,["pageSize"]);e!==void 0&&r!=null&&g(e,["_query","pageSize"],r);const a=h(t,["pageToken"]);e!==void 0&&a!=null&&g(e,["_query","pageToken"],a);const u=h(t,["filter"]);return e!==void 0&&u!=null&&g(e,["_query","filter"],u),i}function h3(t,e,n){const i={},r=h(t,["pageSize"]);e!==void 0&&r!=null&&g(e,["_query","pageSize"],r);const a=h(t,["pageToken"]);e!==void 0&&a!=null&&g(e,["_query","pageToken"],a);const u=h(t,["filter"]);return e!==void 0&&u!=null&&g(e,["_query","filter"],u),i}function m3(t,e){const n={},i=h(t,["config"]);return i!=null&&p3(i,n),n}function g3(t,e){const n={},i=h(t,["config"]);return i!=null&&h3(i,n),n}function v3(t,e){const n={},i=h(t,["sdkHttpResponse"]);i!=null&&g(n,["sdkHttpResponse"],i);const r=h(t,["nextPageToken"]);r!=null&&g(n,["nextPageToken"],r);const a=h(t,["tunedModels"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(c=>WM(c))),g(n,["tuningJobs"],u)}return n}function y3(t,e){const n={},i=h(t,["sdkHttpResponse"]);i!=null&&g(n,["sdkHttpResponse"],i);const r=h(t,["nextPageToken"]);r!=null&&g(n,["nextPageToken"],r);const a=h(t,["tuningJobs"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(c=>Dv(c))),g(n,["tuningJobs"],u)}return n}function _3(t,e){const n={},i=h(t,["name"]);i!=null&&g(n,["model"],i);const r=h(t,["name"]);return r!=null&&g(n,["endpoint"],r),n}function S3(t,e){const n={};if(h(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(h(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const i=h(t,["examples"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(a=>a)),g(n,["examples","examples"],r)}return n}function b3(t,e,n){const i={};let r=h(n,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){const u=h(t,["gcsUri"]);e!==void 0&&u!=null&&g(e,["supervisedTuningSpec","trainingDatasetUri"],u)}else if(r==="PREFERENCE_TUNING"){const u=h(t,["gcsUri"]);e!==void 0&&u!=null&&g(e,["preferenceOptimizationSpec","trainingDatasetUri"],u)}let a=h(n,["config","method"]);if(a===void 0&&(a="SUPERVISED_FINE_TUNING"),a==="SUPERVISED_FINE_TUNING"){const u=h(t,["vertexDatasetResource"]);e!==void 0&&u!=null&&g(e,["supervisedTuningSpec","trainingDatasetUri"],u)}else if(a==="PREFERENCE_TUNING"){const u=h(t,["vertexDatasetResource"]);e!==void 0&&u!=null&&g(e,["preferenceOptimizationSpec","trainingDatasetUri"],u)}if(h(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return i}function WM(t,e){const n={},i=h(t,["sdkHttpResponse"]);i!=null&&g(n,["sdkHttpResponse"],i);const r=h(t,["name"]);r!=null&&g(n,["name"],r);const a=h(t,["state"]);a!=null&&g(n,["state"],cM(a));const u=h(t,["createTime"]);u!=null&&g(n,["createTime"],u);const c=h(t,["tuningTask","startTime"]);c!=null&&g(n,["startTime"],c);const p=h(t,["tuningTask","completeTime"]);p!=null&&g(n,["endTime"],p);const d=h(t,["updateTime"]);d!=null&&g(n,["updateTime"],d);const m=h(t,["description"]);m!=null&&g(n,["description"],m);const y=h(t,["baseModel"]);y!=null&&g(n,["baseModel"],y);const S=h(t,["_self"]);return S!=null&&g(n,["tunedModel"],_3(S)),n}function Dv(t,e){const n={},i=h(t,["sdkHttpResponse"]);i!=null&&g(n,["sdkHttpResponse"],i);const r=h(t,["name"]);r!=null&&g(n,["name"],r);const a=h(t,["state"]);a!=null&&g(n,["state"],cM(a));const u=h(t,["createTime"]);u!=null&&g(n,["createTime"],u);const c=h(t,["startTime"]);c!=null&&g(n,["startTime"],c);const p=h(t,["endTime"]);p!=null&&g(n,["endTime"],p);const d=h(t,["updateTime"]);d!=null&&g(n,["updateTime"],d);const m=h(t,["error"]);m!=null&&g(n,["error"],m);const y=h(t,["description"]);y!=null&&g(n,["description"],y);const S=h(t,["baseModel"]);S!=null&&g(n,["baseModel"],S);const b=h(t,["tunedModel"]);b!=null&&g(n,["tunedModel"],b);const T=h(t,["preTunedModel"]);T!=null&&g(n,["preTunedModel"],T);const A=h(t,["supervisedTuningSpec"]);A!=null&&g(n,["supervisedTuningSpec"],A);const x=h(t,["preferenceOptimizationSpec"]);x!=null&&g(n,["preferenceOptimizationSpec"],x);const M=h(t,["tuningDataStats"]);M!=null&&g(n,["tuningDataStats"],M);const I=h(t,["encryptionSpec"]);I!=null&&g(n,["encryptionSpec"],I);const N=h(t,["partnerModelTuningSpec"]);N!=null&&g(n,["partnerModelTuningSpec"],N);const D=h(t,["customBaseModel"]);D!=null&&g(n,["customBaseModel"],D);const L=h(t,["experiment"]);L!=null&&g(n,["experiment"],L);const U=h(t,["labels"]);U!=null&&g(n,["labels"],U);const O=h(t,["outputUri"]);O!=null&&g(n,["outputUri"],O);const q=h(t,["pipelineJob"]);q!=null&&g(n,["pipelineJob"],q);const J=h(t,["serviceAccount"]);J!=null&&g(n,["serviceAccount"],J);const Y=h(t,["tunedModelDisplayName"]);Y!=null&&g(n,["tunedModelDisplayName"],Y);const W=h(t,["veoTuningSpec"]);return W!=null&&g(n,["veoTuningSpec"],W),n}function E3(t,e){const n={},i=h(t,["sdkHttpResponse"]);i!=null&&g(n,["sdkHttpResponse"],i);const r=h(t,["name"]);r!=null&&g(n,["name"],r);const a=h(t,["metadata"]);a!=null&&g(n,["metadata"],a);const u=h(t,["done"]);u!=null&&g(n,["done"],u);const c=h(t,["error"]);return c!=null&&g(n,["error"],c),n}function bT(t,e){const n={},i=h(t,["gcsUri"]);i!=null&&g(n,["validationDatasetUri"],i);const r=h(t,["vertexDatasetResource"]);return r!=null&&g(n,["validationDatasetUri"],r),n}class w3 extends So{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new rs(go.PAGED_ITEM_TUNING_JOBS,i=>this.listInternal(i),await this.listInternal(n),n),this.get=async n=>await this.getInternal(n),this.tune=async n=>{var i;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const r={tunedModelName:n.baseModel};!((i=n.config)===null||i===void 0)&&i.preTunedModelCheckpointId&&(r.checkpointId=n.config.preTunedModelCheckpointId);const a=Object.assign(Object.assign({},n),{preTunedModel:r});return a.baseModel=void 0,await this.tuneInternal(a)}else{const r=Object.assign({},n);return await this.tuneInternal(r)}else{const r=Object.assign({},n),a=await this.tuneMldevInternal(r);let u="";return a.metadata!==void 0&&a.metadata.tunedModel!==void 0?u=a.metadata.tunedModel:a.name!==void 0&&a.name.includes("/operations/")&&(u=a.name.split("/operations/")[0]),{name:u,state:_v.JOB_STATE_QUEUED}}}}async getInternal(e){var n,i,r,a;let u,c="",p={};if(this.apiClient.isVertexAI()){const d=d3(e);return c=fe("{name}",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json().then(y=>{const S=y;return S.sdkHttpResponse={headers:m.headers},S})),u.then(m=>Dv(m))}else{const d=f3(e);return c=fe("{name}",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json().then(y=>{const S=y;return S.sdkHttpResponse={headers:m.headers},S})),u.then(m=>WM(m))}}async listInternal(e){var n,i,r,a;let u,c="",p={};if(this.apiClient.isVertexAI()){const d=g3(e);return c=fe("tuningJobs",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json().then(y=>{const S=y;return S.sdkHttpResponse={headers:m.headers},S})),u.then(m=>{const y=y3(m),S=new KC;return Object.assign(S,y),S})}else{const d=m3(e);return c=fe("tunedModels",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json().then(y=>{const S=y;return S.sdkHttpResponse={headers:m.headers},S})),u.then(m=>{const y=v3(m),S=new KC;return Object.assign(S,y),S})}}async cancel(e){var n,i,r,a;let u,c="",p={};if(this.apiClient.isVertexAI()){const d=o3(e);return c=fe("{name}:cancel",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json().then(y=>{const S=y;return S.sdkHttpResponse={headers:m.headers},S})),u.then(m=>{const y=s3(m),S=new jC;return Object.assign(S,y),S})}else{const d=i3(e);return c=fe("{name}:cancel",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json().then(y=>{const S=y;return S.sdkHttpResponse={headers:m.headers},S})),u.then(m=>{const y=r3(m),S=new jC;return Object.assign(S,y),S})}}async tuneInternal(e){var n,i;let r,a="",u={};if(this.apiClient.isVertexAI()){const c=c3(e,e);return a=fe("tuningJobs",c._url),u=c._query,delete c._url,delete c._query,r=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json().then(d=>{const m=d;return m.sdkHttpResponse={headers:p.headers},m})),r.then(p=>Dv(p))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,i;let r,a="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=u3(e);return a=fe("tunedModels",c._url),u=c._query,delete c._url,delete c._query,r=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json().then(d=>{const m=d;return m.sdkHttpResponse={headers:p.headers},m})),r.then(p=>E3(p))}}}class C3{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const T3=1024*1024*8,A3=3,x3=1e3,R3=2,Rd="x-goog-upload-status";async function M3(t,e,n){var i;const r=await QM(t,e,n),a=await r?.json();if(((i=r?.headers)===null||i===void 0?void 0:i[Rd])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return a.file}async function N3(t,e,n){var i;const r=await QM(t,e,n),a=await r?.json();if(((i=r?.headers)===null||i===void 0?void 0:i[Rd])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const u=oM(a),c=new By;return Object.assign(c,u),c}async function QM(t,e,n){var i,r;let a=0,u=0,c=new Sv(new Response),p="upload";for(a=t.size;u<a;){const d=Math.min(T3,a-u),m=t.slice(u,u+d);u+d>=a&&(p+=", finalize");let y=0,S=x3;for(;y<A3&&(c=await n.request({path:"",body:m,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":p,"X-Goog-Upload-Offset":String(u),"Content-Length":String(d)}}}),!(!((i=c?.headers)===null||i===void 0)&&i[Rd]));)y++,await D3(S),S=S*R3;if(u+=d,((r=c?.headers)===null||r===void 0?void 0:r[Rd])!=="active")break;if(a<=u)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return c}async function I3(t){return{size:t.size,type:t.type}}function D3(t){return new Promise(e=>setTimeout(e,t))}class O3{async upload(e,n,i){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await M3(e,n,i)}async uploadToFileSearchStore(e,n,i){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await N3(e,n,i)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await I3(e)}}class P3{create(e,n,i){return new k3(e,n,i)}}class k3{constructor(e,n,i){this.url=e,this.headers=n,this.callbacks=i}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}const ET="x-goog-api-key";class L3{constructor(e){this.apiKey=e}async addAuthHeaders(e,n){if(e.get(ET)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(ET,this.apiKey)}}}const U3="gl-node/";class B3{get interactions(){if(this._interactions!==void 0)return this._interactions;if(console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions."),this.vertexai)throw new Error("This version of the GenAI SDK does not support Vertex AI API for interactions.");const e=this.httpOptions;e?.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const n=new Tt({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:e?.timeout});return this._interactions=n.interactions,this._interactions}constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;const i=NF(e.httpOptions,e.vertexai,void 0,void 0);i&&(e.httpOptions?e.httpOptions.baseUrl=i:e.httpOptions={baseUrl:i}),this.apiVersion=e.apiVersion,this.httpOptions=e.httpOptions;const r=new L3(this.apiKey);this.apiClient=new Mz({auth:r,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:U3+"web",uploader:new O3,downloader:new C3}),this.models=new jz(this.apiClient),this.live=new Gz(this.apiClient,r,new P3),this.batches=new rH(this.apiClient),this.chats=new $H(this.models,this.apiClient),this.caches=new UH(this.apiClient),this.files=new XH(this.apiClient),this.operations=new Yz(this.apiClient),this.authTokens=new fq(this.apiClient),this.tunings=new w3(this.apiClient),this.fileSearchStores=new _q(this.apiClient)}}let Ag=class extends Error{};const qy=["gemini-2.5-flash-image","gemini-3-pro-image-preview"];class ti{static options={img_models:{flash_image:"gemini-2.5-flash-image",pro_image:"gemini-3-pro-image-preview"}};static getApiKey=null;static setApiKey=null;static getGenAI(){const e=this.getApiKey?.()||"";if(console.log(e),!e)throw new Ag("No Google API key set");return new B3({apiKey:e})}static async txt2txt(e){try{const n=this.getGenAI(),i={},r=await n.models.generateContent({model:"gemini-2.5-flash",contents:e,config:i});return console.log("RES TEXT",r.text),r.text}catch(n){console.error("Goo Err Response",n);const i=n?.message||"";if(i.includes("API key not valid")||i.includes("API_KEY_INVALID")||n instanceof Ag)return this.showKeyPromptWindow(),null;throw n}}static async img2img(e,n=qy[0],i){try{const r=this.getGenAI(),a=[{text:e}];if(i?.length)for(const m of i)!m?.rawBase64||!m?.mime||(m.description&&a.push({text:m.description}),a.push({inlineData:{data:m.rawBase64,mimeType:m.mime}}));const u={model:n,contents:a,config:{imageConfig:{aspectRatio:"9:16",response_modalities:["Image"]}}};console.log("Gemini Payload",u);const c=await r.models.generateContent(u);console.log("GEMINI RES",c);const d=(c?.candidates??[])[0]?.content?.parts??[];for(const m of d)if(m.inlineData){const y=m.inlineData.data,S=m.inlineData.mimeType||"image/png";return{base64Obj:{rawBase64:y,mime:S},id:c.responseId}}return null}catch(r){const a=r?.message||"";if(a.includes("API key not valid")||a.includes("API_KEY_INVALID")||r instanceof Ag)return this.showKeyPromptWindow(),null;throw console.error("img2img error",r),r}}static showKeyPromptWindow(){const e=window.prompt("Your Google API key is missing or invalid. Please enter a valid key:");e?this.setApiKey?.(e):console.warn("User did not provide a valid API key.")}static async saveResultImage(e,n){return e&&e.base64Obj?.rawBase64?(console.log(e.base64Obj.mime.split("/")[1]),await Ni.fromBase64({rawBase64:e.base64Obj.rawBase64,mime:e.base64Obj.mime},n,`${e.id}.${e.base64Obj.mime.split("/")[1]}`)):(console.warn("No valid image returned from GoogleAI.img2img"),null)}}async function F3(t,e){const n=Math.floor(Date.now()/1e3),i={alg:"HS256",typ:"JWT"},r={iss:t,exp:n+1800,nbf:n-5},a=xg(JSON.stringify(i)),u=xg(JSON.stringify(r)),c=`${a}.${u}`,p=await crypto.subtle.importKey("raw",new TextEncoder().encode(e),{name:"HMAC",hash:"SHA-256"},!1,["sign"]),d=await crypto.subtle.sign("HMAC",p,new TextEncoder().encode(c));return`${c}.${xg(d)}`}function xg(t){let e;typeof t=="string"?e=new TextEncoder().encode(t):e=new Uint8Array(t);let n="";for(let i=0;i<e.length;i++)n+=String.fromCharCode(e[i]);return btoa(n).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}class Ye{static getKeysDict=null;static videoModels=["kling-v1","kling-v1-5","kling-v1-6","kling-v2-master","kling-v2-1","kling-v2-1-master","kling-v2-5-turbo","kling-v2-6"];static options={img2video:{duration:{five:"5",ten:"10"},mode:{std:"std",pro:"pro"},model:{v1:"kling-v1",v1_5:"kling-v1-5",v1_6:"kling-v1-6",v2_0m:"kling-v2-master",v2_1:"kling-v2-1",v2_1m:"kling-v2-1-master",v2_5:"kling-v2-5-turbo",v2_6:"kling-v2-6"}},motion_control:{mode:{std:"std",pro:"pro"},character_orientation:{image:"image",video:"video"},keep_original_sound:{yes:"yes",no:"no"}},omni_video:{model:{o1:"kling-video-o1"},mode:{std:"std",pro:"pro"},aspect_ratio:{landscape:"16:9",portrait:"9:16",square:"1:1"},duration:{three:"3",four:"4",five:"5",six:"6",seven:"7",eight:"8",nine:"9",ten:"10"},video:{refer_type:{base:"base",feature:"feature"},keep_original_sound:{yes:"yes",no:"no"}},image:{type:{first_frame:"first_frame",end_frame:"end_frame"}}}};static async getToken(){const e=this.getKeysDict?.();if(!e)throw new Error("No Kling API keys provided or getKeysDict not set");return await F3(e.accessKey,e.secretKey)}static async postToKling(e,n){const r=`http://localhost:4000/proxy/${encodeURIComponent(e)}`,a=await this.getToken();console.log(`Kling API request to ${e}:`,n);const u=await fetch(r,{method:"POST",headers:{Authorization:`Bearer ${a}`,"Content-Type":"application/json"},body:JSON.stringify(n)});if(!u.ok){const p=await u.text();throw new Error(`Kling API request failed: ${p}`)}const c=await u.json();return console.log(`Kling API response from ${e}:`,c),c}static async txt2video(e,n="kling-v1"){const i={model_name:n,mode:"std",duration:"5",prompt:e,cfg_scale:.5};return{id:(await this.postToKling("https://api-singapore.klingai.com/v1/videos/text2video",i)).data.task_id,workflow:"text2video"}}static async img2video(e){const{image:n,prompt:i,model:r=Ye.options.img2video.model.v2_6,duration:a=Ye.options.img2video.duration,mode:u=Ye.options.img2video.mode.std,cfg_scale:c=.5,static_mask:p,dynamic_masks:d,image_tail:m,camera_control:y,voice_list:S,sound:b="off",negative_prompt:T,callback_url:A,external_task_id:x}=e,M={model_name:r,image:n,prompt:i,duration:a,mode:u,cfg_scale:c,sound:b};return p&&(M.static_mask=p),d&&(M.dynamic_masks=d),m&&(M.image_tail=m),y&&(M.camera_control=y),S&&(M.voice_list=S),T&&(M.negative_prompt=T),A&&(M.callback_url=A),x&&(M.external_task_id=x),{id:(await this.postToKling("https://api-singapore.klingai.com/v1/videos/image2video",M)).data.task_id,workflow:"image2video"}}static async motionControl(e){const{image:n,video_url:i,prompt:r,mode:a=Ye.options.motion_control.mode.std,character_orientation:u,keep_original_sound:c=Ye.options.motion_control.keep_original_sound.yes,callback_url:p,external_task_id:d}=e,m={image_url:n,video_url:i,character_orientation:u,mode:a,keep_original_sound:c};return r&&(m.prompt=r),p&&(m.callback_url=p),d&&(m.external_task_id=d),{id:(await this.postToKling("https://api-singapore.klingai.com/v1/videos/motion-control",m)).data.task_id,workflow:"motion-control"}}static async getStatus(e,n="text2video"){const i=`https://api-singapore.klingai.com/v1/videos/${n}/${e}`,a=`http://localhost:4000/proxy/${encodeURIComponent(i)}`,u=await this.getToken();console.log("KLING_AI Get Status sent");const c=await fetch(a,{method:"GET",headers:{Authorization:`Bearer ${u}`,"Content-Type":"application/json"}});if(!c.ok){const d=await c.text();throw new Error(`Task status request failed: ${d}`)}if((c.headers.get("content-type")||"").includes("application/json")){const d=await c.json();return console.log("KLING check status:",d),{status:d?.data?.task_status||"unknown",status_msg:d?.data?.task_status_msg||"",url:d?.data?.task_result?.videos?.[0]?.url||null}}}static async omniVideo(e){const{prompt:n,model:i="kling-video-o1",mode:r="pro",aspect_ratio:a,duration:u="5",image_list:c,element_list:p,video_list:d,callback_url:m,external_task_id:y}=e;if(!n)throw new Error("OmniVideo requires a prompt");const S={model_name:i,prompt:n,mode:r,duration:u};return a&&(S.aspect_ratio=a),c&&(S.image_list=c),p&&(S.element_list=p),d&&(S.video_list=d),m&&(S.callback_url=m),y&&(S.external_task_id=y),{id:(await this.postToKling("https://api-singapore.klingai.com/v1/videos/omni-video",S)).data.task_id,workflow:"omni-video"}}}const Md={KLING:"kling",GPT:"gpt",GOOGLE:"google"};class wT{shot;id;is_checking_status=!1;_status_log="";constructor(e,n){this.shot=e,this.id=n,Pi(this)}update(e){const i={...this.data||{},...e};this.shot.shotJson?.updateField(`tasks/${this.id}`,i)}log(){console.log({task:ir(this),data:ir(this.data)})}delete(){this.shot.removeTask(this)}get data(){return this.shot.shotJson?.getField(`tasks/${this.id}`)}finish_checking(){Te(()=>{this.is_checking_status=!1}),this._status_log=""}async check_status(e=30,n=5e3){if(this.data.provider===Md.KLING){Te(()=>{this.is_checking_status=!0,this._status_log="start checking"}),console.log("started checking status");for(let i=0;i<=e;i++){try{console.log("new attempt");const r=await Ye.getStatus(this.id,this.data.workflow);if(console.log("status",r),this.update(r),r?.status==="succeed"&&r.url){await this.downloadResults(),this.finish_checking();return}if(r?.status==="failed"){console.warn(`Task ${this.id} failed.`),this.finish_checking();return}}catch(r){console.error("Status check failed:",r)}i<e&&(Te(()=>{this._status_log=`(attempt ${i+1}/${e})`}),await new Promise(r=>setTimeout(r,n)))}console.warn(`Task ${this.id} did not finish after ${e} retries.`),this.finish_checking()}}async downloadResults(){const e=this.data?.url;this.shot.MediaFolder_genVideo?.downloadFromUrl(e)}}async function $3(t){try{console.log("[tmpfiles] Uploading:",t.name);const e=new FormData;e.append("file",t);const n=await fetch("https://tmpfiles.org/api/v1/upload",{method:"POST",body:e});if(!n.ok)throw new Error(`HTTP ${n.status}`);const i=await n.json();console.log("[tmpfiles] Response:",i);const r=i?.data?.url;if(!r)throw new Error("No URL returned");return r.replace("tmpfiles.org/","tmpfiles.org/dl/")}catch(e){throw console.error("[tmpfiles] Upload failed:",e),e}}async function H3(t,e){try{if(e&&((r,a)=>{const u=r.name.toLowerCase(),c=decodeURIComponent(a.split("/").pop()||"").toLowerCase();return u===c})(t,e))return console.log("[ensureUploaded] Existing URL is valid:",e),e;console.log("[ensureUploaded] Uploading file because URL is missing or invalid:",t.name);const i=await $3(t);return console.log("[ensureUploaded] Uploaded URL:",i),i}catch(n){throw console.error("[ensureUploaded] Error ensuring file upload:",n),n}}class wa{handle;parent;urlObject=null;web_url="";path="";constructor(e,n,i=""){this.handle=e,this.parent=n,this.path=i+"/"+e.name}async getUrlObject(){if(!this.urlObject)try{const e=await this.handle.getFile();this.urlObject=URL.createObjectURL(e)}catch(e){console.error("Failed to create object URL for video:",e),this.urlObject=""}return this.urlObject}revokeUrl(){this.urlObject&&(URL.revokeObjectURL(this.urlObject),this.urlObject=null)}static async fromUrl(e,n){try{const i=await fetch(e);if(!i.ok)throw new Error(`Failed to fetch video: ${i.statusText}`);const r=await i.blob(),a=e.split("/"),u=a[a.length-1].split("?")[0],c=await n.getFileHandle(u,{create:!0}),p=await c.createWritable();return await p.write(r),await p.close(),new wa(c,n)}catch(i){throw console.error("Failed to create LocalVideo from URL:",i),i}}async delete(){try{this.revokeUrl(),await this.parent.removeEntry(this.handle.name)}catch(e){throw console.error("Failed to delete video file:",e),e}}static async fromBase64(e,n,i){try{const r=atob(e),a=r.length,u=new Uint8Array(a);for(let d=0;d<a;d++)u[d]=r.charCodeAt(d);const c=await n.getFileHandle(i,{create:!0}),p=await c.createWritable();return await p.write(u),await p.close(),new wa(c,n)}catch(r){throw console.error("Failed to create LocalVideo from Base64:",r),r}}async getWebUrl(){return console.log("web_url",this.web_url),this.web_url=await H3(await this.handle.getFile(),this.web_url),this.web_url}}class Rg{parentFolder;folderName;folder=null;media=[];path="";pickedMedia=null;selectedMedia=null;named_media={};tags=["picked","start_frame","end_frame","motion_ref"];storage_json=null;shot=null;onPicked;onSelected;onNamedMediaUpdate;constructor(e,n,i="",r=null,a=null){this.parentFolder=e,this.folderName=n,this.path=i?`${i}/${n}`:n,this.storage_json=r,this.shot=a,Pi(this)}async load(){try{this.folder=await this.parentFolder.getDirectoryHandle(this.folderName,{create:!0});for await(const[,e]of this.folder.entries())e.kind==="file"&&this.loadFile(e);this.storage_json&&this.setNamedMediaJson(this.storage_json.getField("MediaFolder_"+this.folderName))}catch(e){console.error(`Failed to load MediaFolder '${this.folderName}':`,e),Te(()=>{this.folder=null,this.media=[]})}}async deleteMedia(e,n=!0){if(!this.folder)throw new Error("Folder not loaded");if(!(n&&!window.confirm(`Delete this ${e instanceof Ni?"image":"video"}?`)))try{await e.delete(),Te(()=>{this.media=this.media.filter(i=>i!==e);for(const i of Object.keys(this.named_media))this.named_media[i]===e&&delete this.named_media[i]})}catch(i){console.error("Failed to delete media:",i),alert(`Failed to delete ${e instanceof Ni?"image":"video"}.`)}}setSelectedMedia(e){this.selectedMedia!==e&&(Te(()=>{this.selectedMedia=e}),this.onSelected?.(e))}log(){console.log(ir(this))}async downloadFromUrl(e){if(!this.folder)throw new Error("MediaFolder not loaded");try{const n=await fetch(e);if(!n.ok)throw new Error(`Failed to fetch: ${n.statusText}`);const i=await n.blob();let a=new URL(e).pathname.split("/").pop()||"download";if(!a.includes(".")){const d=i.type.split("/")[1];d&&(a+=`.${d}`)}const u=await this.folder.getFileHandle(a,{create:!0}),c=await u.createWritable();return await c.write(i),await c.close(),this.loadFile(u)}catch(n){throw console.error("Failed to download media from URL:",n),n}}loadFile(e){const n=e.name;let i=null;return n.match(/\.(png|jpe?g|gif|webp)$/i)?i=new Ni(e,this.folder,this.path):n.match(/\.(mp4|mov|webm|avi)$/i)&&(i=new wa(e,this.folder,this.path)),i?(Te(()=>{this.media.push(i)}),i):null}async saveFiles(e){if(!this.folder)throw new Error("MediaFolder not loaded");for(const n of e)try{const i=await this.folder.getFileHandle(n.name,{create:!0}),r=await i.createWritable();await r.write(n),await r.close(),this.loadFile(i)}catch(i){console.error(`Failed to save file '${n.name}':`,i)}}async copyFromClipboard(){if(!this.folder)throw new Error("MediaFolder not loaded");if(!navigator.clipboard||!navigator.clipboard.read){console.warn("Clipboard API not supported");return}const e=[];try{const n=await navigator.clipboard.read();console.log(n);for(const i of n)for(const r of i.types){if(!r.startsWith("image/")&&!r.startsWith("video/"))continue;const a=await i.getType(r),u=a.name||`clipboard-${Date.now()}.${r.split("/")[1]}`;e.push(a instanceof File?a:new File([a],u,{type:r}))}if(e.length===0){console.info("Clipboard does not contain files");return}await this.saveFiles(e)}catch(n){console.error("Failed to read from clipboard:",n);return}}setNamedMedia(e,n){Te(()=>{n===null||this.named_media[e]==n?delete this.named_media[e]:this.named_media[e]=n,this.onNamedMediaUpdate?.(),this.storage_json&&this.storage_json.updateField("MediaFolder_"+this.folderName,this.namedMediaJson)})}getNamedMedia(e){return this.named_media[e]??null}getMediaTags(e){return Object.entries(this.named_media).filter(([,n])=>n===e).map(([n])=>n)}getMediaByFilename(e){return this.media.find(n=>n.path.endsWith(e))??null}get namedMediaJson(){const e={};for(const[n,i]of Object.entries(this.named_media))e[n]=i.handle.name;return e}setNamedMediaJson(e){Te(()=>{if(this.named_media={},e!=null)for(const[n,i]of Object.entries(e)){const r=this.media.find(a=>a.handle.name===i);r?this.named_media[n]=r:console.warn(`namedMediaJson: media file '${i}' not found for tag '${n}'`)}})}}class CT{folder;path="";scene;shotJson=null;tasks=[];is_submitting_video=!1;is_generating=!1;MediaFolder_results=null;MediaFolder_genVideo=null;MediaFolder_refVideo=null;constructor(e,n){this.folder=e,this.scene=n,this.path=n.path+"/"+e.name,Pi(this)}get srcImage(){return this.MediaFolder_results.getNamedMedia("start_frame")}get end_frame(){return this.MediaFolder_results.getNamedMedia("end_frame")}get kling_motion_video(){return this.MediaFolder_refVideo.getNamedMedia("motion_ref")}get outVideo(){return this.MediaFolder_genVideo.getNamedMedia("picked")}get ref_frame(){return this.MediaFolder_results.getNamedMedia("ref_frame")}async load(){try{this.shotJson=await Wr.create(this.folder,"shotinfo.json"),this.MediaFolder_results=new Rg(this.folder,"results",this.path,this.shotJson,this),this.MediaFolder_results.tags=["start_frame","end_frame","ref_frame"],await this.MediaFolder_results.load(),this.MediaFolder_genVideo=new Rg(this.folder,"genVideo",this.path,this.shotJson,this),this.MediaFolder_genVideo.tags=["picked"],await this.MediaFolder_genVideo.load(),this.MediaFolder_refVideo=new Rg(this.folder,"refVideo",this.path,this.shotJson,this),this.MediaFolder_refVideo.tags=["motion_ref"],await this.MediaFolder_refVideo.load(),this.loadTasks()}catch(e){console.error("Error loading shot:",this.folder.name,e),this.shotJson=null}}loadTasks(){const e=this.shotJson?.getField("tasks");Te(()=>{if(this.tasks=[],!(!e||typeof e!="object"))for(const n of Object.keys(e))this.tasks.push(new wT(this,n))})}addTask(e,n){const i=new wT(this,e);return Te(()=>{this.tasks.push(i)}),i.update(n),i}removeTask(e){Te(()=>{this.tasks=this.tasks.filter(i=>i!==e)});const n=this.shotJson?.getField("tasks")??{};delete n[e.id],this.shotJson?.updateField("tasks",n)}async delete(){if(!this.scene?.folder){console.error("Cannot delete shot: scene folder not set");return}try{await this.scene.folder.removeEntry(this.folder.name,{recursive:!0}),Te(()=>{this.scene.shots=this.scene.shots.filter(e=>e!==this)})}catch(e){console.error("Failed to delete shot:",e)}}async GenerateVideo(){Te(()=>{this.is_submitting_video=!0});let e=this.shotJson?.data.video_prompt||"";try{const n=this.scene.project.workflows.generate_video_kling;if(this.srcImage){const i=(await this.srcImage.getBase64()).rawBase64,r=(await this.end_frame?.getBase64())?.rawBase64,a=await Ye.img2video({image:i,image_tail:r,prompt:e,model:n.model,mode:n.mode,duration:n.duration}),u=this.addTask(a.id,{provider:Md.KLING,workflow:a.workflow});await new Promise(c=>setTimeout(c,100)),console.log("created_task"),u.check_status()}}catch(n){console.error("Submitting Video Generation Failed:",n)}finally{Te(()=>{this.is_submitting_video=!1})}}async GenerateVideo_KlingMotionControl(){Te(()=>{this.is_submitting_video=!0});let e=this.shotJson?.data.video_prompt||"";try{const n=this.scene.project.workflows.kling_motion_control;if(this.srcImage&&this.kling_motion_video){const i=(await this.srcImage.getBase64()).rawBase64,r=await this.kling_motion_video.getWebUrl(),a=await Ye.motionControl({image:i,video_url:r,prompt:e,mode:n.mode,character_orientation:n.character_orientation,keep_original_sound:n.keep_original_sound}),u=this.addTask(a.id,{provider:Md.KLING,workflow:a.workflow});await new Promise(c=>setTimeout(c,100)),u.check_status(),await new Promise(c=>setTimeout(c,2e3))}}catch(n){console.error("Submitting Video Generation Failed:",n)}finally{Te(()=>{this.is_submitting_video=!1})}}async GenerateImage(){Te(()=>{this.is_generating=!0});const e=this.getSkippedTags(),n=[];for(const r of this.scene.getTags())if(!e.includes(r.path))try{const a=await r.image.getBase64();n.push({rawBase64:a.rawBase64,mime:a.mime,description:r.path})}catch(a){console.warn("Failed to load tag image:",r.path,a)}let i=this.shotJson?.data.prompt||"";try{const r=await ti.img2img(i||"",this.scene.project.workflows.generate_shot_image.model,n),a=await ti.saveResultImage(r,this.MediaFolder_results?.folder);a&&this.MediaFolder_results?.loadFile(a.handle)}catch(r){console.error("GenerateImage failed:",r)}finally{Te(()=>{this.is_generating=!1})}}async StylizeImage(){if(!this.ref_frame){console.error("No Reference Frame");return}Te(()=>{this.is_generating=!0});const e=this.getSkippedTags(),n=[],i=await this.ref_frame.getBase64();n.push({rawBase64:i.rawBase64,mime:i.mime,description:"Base Image"});for(const a of this.scene.getTags())if(!e.includes(a.path))try{const u=await a.image.getBase64();n.push({rawBase64:u.rawBase64,mime:u.mime,description:a.path})}catch(u){console.warn("Failed to load tag image:",a.path,u)}let r=(this.scene.project.workflows.stylize_image_google.prompt||"")+(this.shotJson?.data.stylize_prompt||"");try{const a=await ti.img2img(r||"",this.scene.project.workflows.stylize_image_google.model,n),u=await ti.saveResultImage(a,this.MediaFolder_results?.folder);u&&this.MediaFolder_results?.loadFile(u.handle)}catch(a){console.error("GenerateImage failed:",a)}finally{Te(()=>{this.is_generating=!1})}}async saveGoogleResultImage(e,n=!1){const i=await ti.saveResultImage(e,this.MediaFolder_results?.folder);if(i){const r=this.MediaFolder_results.loadFile(i.handle);n&&this.MediaFolder_results?.setNamedMedia("selected",r)}}getSkippedTags(){return this.shotJson?.data?.skippedTags||[]}setTagSkipped(e,n){this.shotJson?.data&&(Array.isArray(this.shotJson.data.skippedTags)||(this.shotJson.data.skippedTags=[]),Te(()=>{const i=this.shotJson.data.skippedTags;n?i.includes(e)||i.push(e):this.shotJson.data.skippedTags=i.filter(r=>r!==e)}),this.shotJson.save())}log(){console.log(ir(this))}}function Ce(t,e,n,i,r){if(typeof e=="function"?t!==e||!0:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,n),n}function V(t,e,n,i){if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?i:n==="a"?i.call(t):i?i.value:e.get(t)}let ZM=function(){const{crypto:t}=globalThis;if(t?.randomUUID)return ZM=t.randomUUID.bind(t),t.randomUUID();const e=new Uint8Array(1),n=t?()=>t.getRandomValues(e)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,i=>(+i^n()&15>>+i/4).toString(16))};function Ov(t){return typeof t=="object"&&t!==null&&("name"in t&&t.name==="AbortError"||"message"in t&&String(t.message).includes("FetchRequestCanceledException"))}const Pv=t=>{if(t instanceof Error)return t;if(typeof t=="object"&&t!==null){try{if(Object.prototype.toString.call(t)==="[object Error]"){const e=new Error(t.message,t.cause?{cause:t.cause}:{});return t.stack&&(e.stack=t.stack),t.cause&&!e.cause&&(e.cause=t.cause),t.name&&(e.name=t.name),e}}catch{}try{return new Error(JSON.stringify(t))}catch{}}return new Error(t)};class Se extends Error{}class kt extends Se{constructor(e,n,i,r){super(`${kt.makeMessage(e,n,i)}`),this.status=e,this.headers=r,this.requestID=r?.get("x-request-id"),this.error=n;const a=n;this.code=a?.code,this.param=a?.param,this.type=a?.type}static makeMessage(e,n,i){const r=n?.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):i;return e&&r?`${e} ${r}`:e?`${e} status code (no body)`:r||"(no status code or body)"}static generate(e,n,i,r){if(!e||!r)return new gp({message:i,cause:Pv(n)});const a=n?.error;return e===400?new eN(e,a,i,r):e===401?new tN(e,a,i,r):e===403?new nN(e,a,i,r):e===404?new iN(e,a,i,r):e===409?new oN(e,a,i,r):e===422?new rN(e,a,i,r):e===429?new sN(e,a,i,r):e>=500?new aN(e,a,i,r):new kt(e,a,i,r)}}class $n extends kt{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}}class gp extends kt{constructor({message:e,cause:n}){super(void 0,void 0,e||"Connection error.",void 0),n&&(this.cause=n)}}class Jy extends gp{constructor({message:e}={}){super({message:e??"Request timed out."})}}class eN extends kt{}class tN extends kt{}class nN extends kt{}class iN extends kt{}class oN extends kt{}class rN extends kt{}class sN extends kt{}class aN extends kt{}class lN extends Se{constructor(){super("Could not parse response content as the length limit was reached")}}class uN extends Se{constructor(){super("Could not parse response content as the request was rejected by the content filter")}}class Vl extends Error{constructor(e){super(e)}}const G3=/^[a-z][a-z0-9+.-]*:/i,V3=t=>G3.test(t);let en=t=>(en=Array.isArray,en(t)),TT=en;function cN(t){return typeof t!="object"?{}:t??{}}function z3(t){if(!t)return!0;for(const e in t)return!1;return!0}function q3(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Mg(t){return t!=null&&typeof t=="object"&&!Array.isArray(t)}const J3=(t,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new Se(`${t} must be an integer`);if(e<0)throw new Se(`${t} must be a positive integer`);return e},K3=t=>{try{return JSON.parse(t)}catch{return}},Bu=t=>new Promise(e=>setTimeout(e,t)),ia="6.10.0",j3=()=>typeof window<"u"&&typeof window.document<"u"&&typeof navigator<"u";function Y3(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const X3=()=>{const t=Y3();if(t==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ia,"X-Stainless-OS":xT(Deno.build.os),"X-Stainless-Arch":AT(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:Deno.version?.deno??"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ia,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(t==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ia,"X-Stainless-OS":xT(globalThis.process.platform??"unknown"),"X-Stainless-Arch":AT(globalThis.process.arch??"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":globalThis.process.version??"unknown"};const e=W3();return e?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ia,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${e.browser}`,"X-Stainless-Runtime-Version":e.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ia,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function W3(){if(typeof navigator>"u"||!navigator)return null;const t=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:n}of t){const i=n.exec(navigator.userAgent);if(i){const r=i[1]||0,a=i[2]||0,u=i[3]||0;return{browser:e,version:`${r}.${a}.${u}`}}}return null}const AT=t=>t==="x32"?"x32":t==="x86_64"||t==="x64"?"x64":t==="arm"?"arm":t==="aarch64"||t==="arm64"?"arm64":t?`other:${t}`:"unknown",xT=t=>(t=t.toLowerCase(),t.includes("ios")?"iOS":t==="android"?"Android":t==="darwin"?"MacOS":t==="win32"?"Windows":t==="freebsd"?"FreeBSD":t==="openbsd"?"OpenBSD":t==="linux"?"Linux":t?`Other:${t}`:"Unknown");let RT;const Q3=()=>RT??(RT=X3());function Z3(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new OpenAI({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function fN(...t){const e=globalThis.ReadableStream;if(typeof e>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new e(...t)}function dN(t){let e=Symbol.asyncIterator in t?t[Symbol.asyncIterator]():t[Symbol.iterator]();return fN({start(){},async pull(n){const{done:i,value:r}=await e.next();i?n.close():n.enqueue(r)},async cancel(){await e.return?.()}})}function pN(t){if(t[Symbol.asyncIterator])return t;const e=t.getReader();return{async next(){try{const n=await e.read();return n?.done&&e.releaseLock(),n}catch(n){throw e.releaseLock(),n}},async return(){const n=e.cancel();return e.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function e4(t){if(t===null||typeof t!="object")return;if(t[Symbol.asyncIterator]){await t[Symbol.asyncIterator]().return?.();return}const e=t.getReader(),n=e.cancel();e.releaseLock(),await n}const t4=({headers:t,body:e})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(e)}),hN="RFC3986",mN=t=>String(t),MT={RFC1738:t=>String(t).replace(/%20/g,"+"),RFC3986:mN},n4="RFC1738";let kv=(t,e)=>(kv=Object.hasOwn??Function.prototype.call.bind(Object.prototype.hasOwnProperty),kv(t,e));const yi=(()=>{const t=[];for(let e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t})(),Ng=1024,i4=(t,e,n,i,r)=>{if(t.length===0)return t;let a=t;if(typeof t=="symbol"?a=Symbol.prototype.toString.call(t):typeof t!="string"&&(a=String(t)),n==="iso-8859-1")return escape(a).replace(/%u[0-9a-f]{4}/gi,function(c){return"%26%23"+parseInt(c.slice(2),16)+"%3B"});let u="";for(let c=0;c<a.length;c+=Ng){const p=a.length>=Ng?a.slice(c,c+Ng):a,d=[];for(let m=0;m<p.length;++m){let y=p.charCodeAt(m);if(y===45||y===46||y===95||y===126||y>=48&&y<=57||y>=65&&y<=90||y>=97&&y<=122||r===n4&&(y===40||y===41)){d[d.length]=p.charAt(m);continue}if(y<128){d[d.length]=yi[y];continue}if(y<2048){d[d.length]=yi[192|y>>6]+yi[128|y&63];continue}if(y<55296||y>=57344){d[d.length]=yi[224|y>>12]+yi[128|y>>6&63]+yi[128|y&63];continue}m+=1,y=65536+((y&1023)<<10|p.charCodeAt(m)&1023),d[d.length]=yi[240|y>>18]+yi[128|y>>12&63]+yi[128|y>>6&63]+yi[128|y&63]}u+=d.join("")}return u};function o4(t){return!t||typeof t!="object"?!1:!!(t.constructor&&t.constructor.isBuffer&&t.constructor.isBuffer(t))}function NT(t,e){if(en(t)){const n=[];for(let i=0;i<t.length;i+=1)n.push(e(t[i]));return n}return e(t)}const gN={brackets(t){return String(t)+"[]"},comma:"comma",indices(t,e){return String(t)+"["+e+"]"},repeat(t){return String(t)}},vN=function(t,e){Array.prototype.push.apply(t,en(e)?e:[e])};let IT;const St={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:i4,encodeValuesOnly:!1,format:hN,formatter:mN,indices:!1,serializeDate(t){return(IT??(IT=Function.prototype.call.bind(Date.prototype.toISOString)))(t)},skipNulls:!1,strictNullHandling:!1};function r4(t){return typeof t=="string"||typeof t=="number"||typeof t=="boolean"||typeof t=="symbol"||typeof t=="bigint"}const Ig={};function yN(t,e,n,i,r,a,u,c,p,d,m,y,S,b,T,A,x,M){let I=t,N=M,D=0,L=!1;for(;(N=N.get(Ig))!==void 0&&!L;){const Y=N.get(t);if(D+=1,typeof Y<"u"){if(Y===D)throw new RangeError("Cyclic object value");L=!0}typeof N.get(Ig)>"u"&&(D=0)}if(typeof d=="function"?I=d(e,I):I instanceof Date?I=S?.(I):n==="comma"&&en(I)&&(I=NT(I,function(Y){return Y instanceof Date?S?.(Y):Y})),I===null){if(a)return p&&!A?p(e,St.encoder,x,"key",b):e;I=""}if(r4(I)||o4(I)){if(p){const Y=A?e:p(e,St.encoder,x,"key",b);return[T?.(Y)+"="+T?.(p(I,St.encoder,x,"value",b))]}return[T?.(e)+"="+T?.(String(I))]}const U=[];if(typeof I>"u")return U;let O;if(n==="comma"&&en(I))A&&p&&(I=NT(I,p)),O=[{value:I.length>0?I.join(",")||null:void 0}];else if(en(d))O=d;else{const Y=Object.keys(I);O=m?Y.sort(m):Y}const q=c?String(e).replace(/\./g,"%2E"):String(e),J=i&&en(I)&&I.length===1?q+"[]":q;if(r&&en(I)&&I.length===0)return J+"[]";for(let Y=0;Y<O.length;++Y){const W=O[Y],re=typeof W=="object"&&typeof W.value<"u"?W.value:I[W];if(u&&re===null)continue;const ie=y&&c?W.replace(/\./g,"%2E"):W,ae=en(I)?typeof n=="function"?n(J,ie):J:J+(y?"."+ie:"["+ie+"]");M.set(t,D);const de=new WeakMap;de.set(Ig,M),vN(U,yN(re,ae,n,i,r,a,u,c,n==="comma"&&A&&en(I)?null:p,d,m,y,S,b,T,A,x,de))}return U}function s4(t=St){if(typeof t.allowEmptyArrays<"u"&&typeof t.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof t.encodeDotInKeys<"u"&&typeof t.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(t.encoder!==null&&typeof t.encoder<"u"&&typeof t.encoder!="function")throw new TypeError("Encoder has to be a function.");const e=t.charset||St.charset;if(typeof t.charset<"u"&&t.charset!=="utf-8"&&t.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");let n=hN;if(typeof t.format<"u"){if(!kv(MT,t.format))throw new TypeError("Unknown format option provided.");n=t.format}const i=MT[n];let r=St.filter;(typeof t.filter=="function"||en(t.filter))&&(r=t.filter);let a;if(t.arrayFormat&&t.arrayFormat in gN?a=t.arrayFormat:"indices"in t?a=t.indices?"indices":"repeat":a=St.arrayFormat,"commaRoundTrip"in t&&typeof t.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");const u=typeof t.allowDots>"u"?t.encodeDotInKeys?!0:St.allowDots:!!t.allowDots;return{addQueryPrefix:typeof t.addQueryPrefix=="boolean"?t.addQueryPrefix:St.addQueryPrefix,allowDots:u,allowEmptyArrays:typeof t.allowEmptyArrays=="boolean"?!!t.allowEmptyArrays:St.allowEmptyArrays,arrayFormat:a,charset:e,charsetSentinel:typeof t.charsetSentinel=="boolean"?t.charsetSentinel:St.charsetSentinel,commaRoundTrip:!!t.commaRoundTrip,delimiter:typeof t.delimiter>"u"?St.delimiter:t.delimiter,encode:typeof t.encode=="boolean"?t.encode:St.encode,encodeDotInKeys:typeof t.encodeDotInKeys=="boolean"?t.encodeDotInKeys:St.encodeDotInKeys,encoder:typeof t.encoder=="function"?t.encoder:St.encoder,encodeValuesOnly:typeof t.encodeValuesOnly=="boolean"?t.encodeValuesOnly:St.encodeValuesOnly,filter:r,format:n,formatter:i,serializeDate:typeof t.serializeDate=="function"?t.serializeDate:St.serializeDate,skipNulls:typeof t.skipNulls=="boolean"?t.skipNulls:St.skipNulls,sort:typeof t.sort=="function"?t.sort:null,strictNullHandling:typeof t.strictNullHandling=="boolean"?t.strictNullHandling:St.strictNullHandling}}function a4(t,e={}){let n=t;const i=s4(e);let r,a;typeof i.filter=="function"?(a=i.filter,n=a("",n)):en(i.filter)&&(a=i.filter,r=a);const u=[];if(typeof n!="object"||n===null)return"";const c=gN[i.arrayFormat],p=c==="comma"&&i.commaRoundTrip;r||(r=Object.keys(n)),i.sort&&r.sort(i.sort);const d=new WeakMap;for(let S=0;S<r.length;++S){const b=r[S];i.skipNulls&&n[b]===null||vN(u,yN(n[b],b,c,p,i.allowEmptyArrays,i.strictNullHandling,i.skipNulls,i.encodeDotInKeys,i.encode?i.encoder:null,i.filter,i.sort,i.allowDots,i.serializeDate,i.format,i.formatter,i.encodeValuesOnly,i.charset,d))}const m=u.join(i.delimiter);let y=i.addQueryPrefix===!0?"?":"";return i.charsetSentinel&&(i.charset==="iso-8859-1"?y+="utf8=%26%2310003%3B&":y+="utf8=%E2%9C%93&"),m.length>0?y+m:""}function l4(t){let e=0;for(const r of t)e+=r.length;const n=new Uint8Array(e);let i=0;for(const r of t)n.set(r,i),i+=r.length;return n}let DT;function Ky(t){let e;return(DT??(e=new globalThis.TextEncoder,DT=e.encode.bind(e)))(t)}let OT;function PT(t){let e;return(OT??(e=new globalThis.TextDecoder,OT=e.decode.bind(e)))(t)}var mn,gn;class vp{constructor(){mn.set(this,void 0),gn.set(this,void 0),Ce(this,mn,new Uint8Array),Ce(this,gn,null)}decode(e){if(e==null)return[];const n=e instanceof ArrayBuffer?new Uint8Array(e):typeof e=="string"?Ky(e):e;Ce(this,mn,l4([V(this,mn,"f"),n]));const i=[];let r;for(;(r=u4(V(this,mn,"f"),V(this,gn,"f")))!=null;){if(r.carriage&&V(this,gn,"f")==null){Ce(this,gn,r.index);continue}if(V(this,gn,"f")!=null&&(r.index!==V(this,gn,"f")+1||r.carriage)){i.push(PT(V(this,mn,"f").subarray(0,V(this,gn,"f")-1))),Ce(this,mn,V(this,mn,"f").subarray(V(this,gn,"f"))),Ce(this,gn,null);continue}const a=V(this,gn,"f")!==null?r.preceding-1:r.preceding,u=PT(V(this,mn,"f").subarray(0,a));i.push(u),Ce(this,mn,V(this,mn,"f").subarray(r.index)),Ce(this,gn,null)}return i}flush(){return V(this,mn,"f").length?this.decode(`
`):[]}}mn=new WeakMap,gn=new WeakMap;vp.NEWLINE_CHARS=new Set([`
`,"\r"]);vp.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function u4(t,e){for(let r=e??0;r<t.length;r++){if(t[r]===10)return{preceding:r,index:r+1,carriage:!1};if(t[r]===13)return{preceding:r,index:r+1,carriage:!0}}return null}function c4(t){for(let i=0;i<t.length-1;i++){if(t[i]===10&&t[i+1]===10||t[i]===13&&t[i+1]===13)return i+2;if(t[i]===13&&t[i+1]===10&&i+3<t.length&&t[i+2]===13&&t[i+3]===10)return i+4}return-1}const Nd={off:0,error:200,warn:300,info:400,debug:500},kT=(t,e,n)=>{if(t){if(q3(Nd,t))return t;Dt(n).warn(`${e} was set to ${JSON.stringify(t)}, expected one of ${JSON.stringify(Object.keys(Nd))}`)}};function zl(){}function Nf(t,e,n){return!e||Nd[t]>Nd[n]?zl:e[t].bind(e)}const f4={error:zl,warn:zl,info:zl,debug:zl};let LT=new WeakMap;function Dt(t){const e=t.logger,n=t.logLevel??"off";if(!e)return f4;const i=LT.get(e);if(i&&i[0]===n)return i[1];const r={error:Nf("error",e,n),warn:Nf("warn",e,n),info:Nf("info",e,n),debug:Nf("debug",e,n)};return LT.set(e,[n,r]),r}const Lr=t=>(t.options&&(t.options={...t.options},delete t.options.headers),t.headers&&(t.headers=Object.fromEntries((t.headers instanceof Headers?[...t.headers]:Object.entries(t.headers)).map(([e,n])=>[e,e.toLowerCase()==="authorization"||e.toLowerCase()==="cookie"||e.toLowerCase()==="set-cookie"?"***":n]))),"retryOfRequestLogID"in t&&(t.retryOfRequestLogID&&(t.retryOf=t.retryOfRequestLogID),delete t.retryOfRequestLogID),t);var Fl;class wi{constructor(e,n,i){this.iterator=e,Fl.set(this,void 0),this.controller=n,Ce(this,Fl,i)}static fromSSEResponse(e,n,i){let r=!1;const a=i?Dt(i):console;async function*u(){if(r)throw new Se("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let c=!1;try{for await(const p of d4(e,n))if(!c){if(p.data.startsWith("[DONE]")){c=!0;continue}if(p.event===null||!p.event.startsWith("thread.")){let d;try{d=JSON.parse(p.data)}catch(m){throw a.error("Could not parse message into JSON:",p.data),a.error("From chunk:",p.raw),m}if(d&&d.error)throw new kt(void 0,d.error,void 0,e.headers);yield d}else{let d;try{d=JSON.parse(p.data)}catch(m){throw console.error("Could not parse message into JSON:",p.data),console.error("From chunk:",p.raw),m}if(p.event=="error")throw new kt(void 0,d.error,d.message,void 0);yield{event:p.event,data:d}}}c=!0}catch(p){if(Ov(p))return;throw p}finally{c||n.abort()}}return new wi(u,n,i)}static fromReadableStream(e,n,i){let r=!1;async function*a(){const c=new vp,p=pN(e);for await(const d of p)for(const m of c.decode(d))yield m;for(const d of c.flush())yield d}async function*u(){if(r)throw new Se("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let c=!1;try{for await(const p of a())c||p&&(yield JSON.parse(p));c=!0}catch(p){if(Ov(p))return;throw p}finally{c||n.abort()}}return new wi(u,n,i)}[(Fl=new WeakMap,Symbol.asyncIterator)](){return this.iterator()}tee(){const e=[],n=[],i=this.iterator(),r=a=>({next:()=>{if(a.length===0){const u=i.next();e.push(u),n.push(u)}return a.shift()}});return[new wi(()=>r(e),this.controller,V(this,Fl,"f")),new wi(()=>r(n),this.controller,V(this,Fl,"f"))]}toReadableStream(){const e=this;let n;return fN({async start(){n=e[Symbol.asyncIterator]()},async pull(i){try{const{value:r,done:a}=await n.next();if(a)return i.close();const u=Ky(JSON.stringify(r)+`
`);i.enqueue(u)}catch(r){i.error(r)}},async cancel(){await n.return?.()}})}}async function*d4(t,e){if(!t.body)throw e.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new Se("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new Se("Attempted to iterate over a response with no body");const n=new h4,i=new vp,r=pN(t.body);for await(const a of p4(r))for(const u of i.decode(a)){const c=n.decode(u);c&&(yield c)}for(const a of i.flush()){const u=n.decode(a);u&&(yield u)}}async function*p4(t){let e=new Uint8Array;for await(const n of t){if(n==null)continue;const i=n instanceof ArrayBuffer?new Uint8Array(n):typeof n=="string"?Ky(n):n;let r=new Uint8Array(e.length+i.length);r.set(e),r.set(i,e.length),e=r;let a;for(;(a=c4(e))!==-1;)yield e.slice(0,a),e=e.slice(a)}e.length>0&&(yield e)}class h4{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const a={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],a}if(this.chunks.push(e),e.startsWith(":"))return null;let[n,i,r]=m4(e,":");return r.startsWith(" ")&&(r=r.substring(1)),n==="event"?this.event=r:n==="data"&&this.data.push(r),null}}function m4(t,e){const n=t.indexOf(e);return n!==-1?[t.substring(0,n),e,t.substring(n+e.length)]:[t,"",""]}async function _N(t,e){const{response:n,requestLogID:i,retryOfRequestLogID:r,startTime:a}=e,u=await(async()=>{if(e.options.stream)return Dt(t).debug("response",n.status,n.url,n.headers,n.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(n,e.controller,t):wi.fromSSEResponse(n,e.controller,t);if(n.status===204)return null;if(e.options.__binaryResponse)return n;const p=n.headers.get("content-type")?.split(";")[0]?.trim();if(p?.includes("application/json")||p?.endsWith("+json")){const y=await n.json();return SN(y,n)}return await n.text()})();return Dt(t).debug(`[${i}] response parsed`,Lr({retryOfRequestLogID:r,url:n.url,status:n.status,body:u,durationMs:Date.now()-a})),u}function SN(t,e){return!t||typeof t!="object"||Array.isArray(t)?t:Object.defineProperty(t,"_request_id",{value:e.headers.get("x-request-id"),enumerable:!1})}var ql;class yp extends Promise{constructor(e,n,i=_N){super(r=>{r(null)}),this.responsePromise=n,this.parseResponse=i,ql.set(this,void 0),Ce(this,ql,e)}_thenUnwrap(e){return new yp(V(this,ql,"f"),this.responsePromise,async(n,i)=>SN(e(await this.parseResponse(n,i),i),i.response))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:n,request_id:n.headers.get("x-request-id")}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(e=>this.parseResponse(V(this,ql,"f"),e))),this.parsedPromise}then(e,n){return this.parse().then(e,n)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}ql=new WeakMap;var If;class jy{constructor(e,n,i,r){If.set(this,void 0),Ce(this,If,e),this.options=r,this.response=n,this.body=i}hasNextPage(){return this.getPaginatedItems().length?this.nextPageRequestOptions()!=null:!1}async getNextPage(){const e=this.nextPageRequestOptions();if(!e)throw new Se("No next page expected; please check `.hasNextPage()` before calling `.getNextPage()`.");return await V(this,If,"f").requestAPIList(this.constructor,e)}async*iterPages(){let e=this;for(yield e;e.hasNextPage();)e=await e.getNextPage(),yield e}async*[(If=new WeakMap,Symbol.asyncIterator)](){for await(const e of this.iterPages())for(const n of e.getPaginatedItems())yield n}}class g4 extends yp{constructor(e,n,i){super(e,n,async(r,a)=>new i(r,a.response,await _N(r,a),a.options))}async*[Symbol.asyncIterator](){const e=await this;for await(const n of e)yield n}}class _p extends jy{constructor(e,n,i,r){super(e,n,i,r),this.data=i.data||[],this.object=i.object}getPaginatedItems(){return this.data??[]}nextPageRequestOptions(){return null}}class vt extends jy{constructor(e,n,i,r){super(e,n,i,r),this.data=i.data||[],this.has_more=i.has_more||!1}getPaginatedItems(){return this.data??[]}hasNextPage(){return this.has_more===!1?!1:super.hasNextPage()}nextPageRequestOptions(){const e=this.getPaginatedItems(),n=e[e.length-1]?.id;return n?{...this.options,query:{...cN(this.options.query),after:n}}:null}}class Id extends jy{constructor(e,n,i,r){super(e,n,i,r),this.data=i.data||[],this.has_more=i.has_more||!1,this.last_id=i.last_id||""}getPaginatedItems(){return this.data??[]}hasNextPage(){return this.has_more===!1?!1:super.hasNextPage()}nextPageRequestOptions(){const e=this.last_id;return e?{...this.options,query:{...cN(this.options.query),after:e}}:null}}const bN=()=>{if(typeof File>"u"){const{process:t}=globalThis,e=typeof t?.versions?.node=="string"&&parseInt(t.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(e?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function ou(t,e,n){return bN(),new File(t,e??"unknown_file",n)}function Zf(t){return(typeof t=="object"&&t!==null&&("name"in t&&t.name&&String(t.name)||"url"in t&&t.url&&String(t.url)||"filename"in t&&t.filename&&String(t.filename)||"path"in t&&t.path&&String(t.path))||"").split(/[\\/]/).pop()||void 0}const Yy=t=>t!=null&&typeof t=="object"&&typeof t[Symbol.asyncIterator]=="function",UT=async(t,e)=>Lv(t.body)?{...t,body:await EN(t.body,e)}:t,Qr=async(t,e)=>({...t,body:await EN(t.body,e)}),BT=new WeakMap;function v4(t){const e=typeof t=="function"?t:t.fetch,n=BT.get(e);if(n)return n;const i=(async()=>{try{const r="Response"in e?e.Response:(await e("data:,")).constructor,a=new FormData;return a.toString()!==await new r(a).text()}catch{return!0}})();return BT.set(e,i),i}const EN=async(t,e)=>{if(!await v4(e))throw new TypeError("The provided fetch function does not support file uploads with the current global FormData class.");const n=new FormData;return await Promise.all(Object.entries(t||{}).map(([i,r])=>Uv(n,i,r))),n},wN=t=>t instanceof Blob&&"name"in t,y4=t=>typeof t=="object"&&t!==null&&(t instanceof Response||Yy(t)||wN(t)),Lv=t=>{if(y4(t))return!0;if(Array.isArray(t))return t.some(Lv);if(t&&typeof t=="object"){for(const e in t)if(Lv(t[e]))return!0}return!1},Uv=async(t,e,n)=>{if(n!==void 0){if(n==null)throw new TypeError(`Received null for "${e}"; to pass null in FormData, you must use the string 'null'`);if(typeof n=="string"||typeof n=="number"||typeof n=="boolean")t.append(e,String(n));else if(n instanceof Response)t.append(e,ou([await n.blob()],Zf(n)));else if(Yy(n))t.append(e,ou([await new Response(dN(n)).blob()],Zf(n)));else if(wN(n))t.append(e,n,Zf(n));else if(Array.isArray(n))await Promise.all(n.map(i=>Uv(t,e+"[]",i)));else if(typeof n=="object")await Promise.all(Object.entries(n).map(([i,r])=>Uv(t,`${e}[${i}]`,r)));else throw new TypeError(`Invalid value given to form, expected a string, number, boolean, object, Array, File or Blob but got ${n} instead`)}},CN=t=>t!=null&&typeof t=="object"&&typeof t.size=="number"&&typeof t.type=="string"&&typeof t.text=="function"&&typeof t.slice=="function"&&typeof t.arrayBuffer=="function",_4=t=>t!=null&&typeof t=="object"&&typeof t.name=="string"&&typeof t.lastModified=="number"&&CN(t),S4=t=>t!=null&&typeof t=="object"&&typeof t.url=="string"&&typeof t.blob=="function";async function b4(t,e,n){if(bN(),t=await t,_4(t))return t instanceof File?t:ou([await t.arrayBuffer()],t.name);if(S4(t)){const r=await t.blob();return e||(e=new URL(t.url).pathname.split(/[\\/]/).pop()),ou(await Bv(r),e,n)}const i=await Bv(t);if(e||(e=Zf(t)),!n?.type){const r=i.find(a=>typeof a=="object"&&"type"in a&&a.type);typeof r=="string"&&(n={...n,type:r})}return ou(i,e,n)}async function Bv(t){let e=[];if(typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer)e.push(t);else if(CN(t))e.push(t instanceof Blob?t:await t.arrayBuffer());else if(Yy(t))for await(const n of t)e.push(...await Bv(n));else{const n=t?.constructor?.name;throw new Error(`Unexpected data type: ${typeof t}${n?`; constructor: ${n}`:""}${E4(t)}`)}return e}function E4(t){return typeof t!="object"||t===null?"":`; props: [${Object.getOwnPropertyNames(t).map(n=>`"${n}"`).join(", ")}]`}class ye{constructor(e){this._client=e}}function TN(t){return t.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const FT=Object.freeze(Object.create(null)),w4=(t=TN)=>function(n,...i){if(n.length===1)return n[0];let r=!1;const a=[],u=n.reduce((m,y,S)=>{/[?#]/.test(y)&&(r=!0);const b=i[S];let T=(r?encodeURIComponent:t)(""+b);return S!==i.length&&(b==null||typeof b=="object"&&b.toString===Object.getPrototypeOf(Object.getPrototypeOf(b.hasOwnProperty??FT)??FT)?.toString)&&(T=b+"",a.push({start:m.length+y.length,length:T.length,error:`Value of type ${Object.prototype.toString.call(b).slice(8,-1)} is not a valid path parameter`})),m+y+(S===i.length?"":T)},""),c=u.split(/[?#]/,1)[0],p=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let d;for(;(d=p.exec(c))!==null;)a.push({start:d.index,length:d[0].length,error:`Value "${d[0]}" can't be safely passed as a path parameter`});if(a.sort((m,y)=>m.start-y.start),a.length>0){let m=0;const y=a.reduce((S,b)=>{const T=" ".repeat(b.start-m),A="^".repeat(b.length);return m=b.start+b.length,S+T+A},"");throw new Se(`Path parameters result in path with invalid segments:
${a.map(S=>S.error).join(`
`)}
${u}
${y}`)}return u},oe=w4(TN);let AN=class extends ye{list(e,n={},i){return this._client.getAPIList(oe`/chat/completions/${e}/messages`,vt,{query:n,...i})}};function Dd(t){return t!==void 0&&"function"in t&&t.function!==void 0}function Xy(t){return t?.$brand==="auto-parseable-response-format"}function Fu(t){return t?.$brand==="auto-parseable-tool"}function C4(t,e){return!e||!xN(e)?{...t,choices:t.choices.map(n=>(RN(n.message.tool_calls),{...n,message:{...n.message,parsed:null,...n.message.tool_calls?{tool_calls:n.message.tool_calls}:void 0}}))}:Wy(t,e)}function Wy(t,e){const n=t.choices.map(i=>{if(i.finish_reason==="length")throw new lN;if(i.finish_reason==="content_filter")throw new uN;return RN(i.message.tool_calls),{...i,message:{...i.message,...i.message.tool_calls?{tool_calls:i.message.tool_calls?.map(r=>A4(e,r))??void 0}:void 0,parsed:i.message.content&&!i.message.refusal?T4(e,i.message.content):null}}});return{...t,choices:n}}function T4(t,e){return t.response_format?.type!=="json_schema"?null:t.response_format?.type==="json_schema"?"$parseRaw"in t.response_format?t.response_format.$parseRaw(e):JSON.parse(e):null}function A4(t,e){const n=t.tools?.find(i=>Dd(i)&&i.function?.name===e.function.name);return{...e,function:{...e.function,parsed_arguments:Fu(n)?n.$parseRaw(e.function.arguments):n?.function.strict?JSON.parse(e.function.arguments):null}}}function x4(t,e){if(!t||!("tools"in t)||!t.tools)return!1;const n=t.tools?.find(i=>Dd(i)&&i.function?.name===e.function.name);return Dd(n)&&(Fu(n)||n?.function.strict||!1)}function xN(t){return Xy(t.response_format)?!0:t.tools?.some(e=>Fu(e)||e.type==="function"&&e.function.strict===!0)??!1}function RN(t){for(const e of t||[])if(e.type!=="function")throw new Se(`Currently only \`function\` tool calls are supported; Received \`${e.type}\``)}function R4(t){for(const e of t??[]){if(e.type!=="function")throw new Se(`Currently only \`function\` tool types support auto-parsing; Received \`${e.type}\``);if(e.function.strict!==!0)throw new Se(`The \`${e.function.name}\` tool is not marked with \`strict: true\`. Only strict function tools can be auto-parsed`)}}const Od=t=>t?.role==="assistant",MN=t=>t?.role==="tool";var Fv,ed,td,Jl,Kl,nd,jl,io,Yl,Pd,kd,oa,NN;class Qy{constructor(){Fv.add(this),this.controller=new AbortController,ed.set(this,void 0),td.set(this,()=>{}),Jl.set(this,()=>{}),Kl.set(this,void 0),nd.set(this,()=>{}),jl.set(this,()=>{}),io.set(this,{}),Yl.set(this,!1),Pd.set(this,!1),kd.set(this,!1),oa.set(this,!1),Ce(this,ed,new Promise((e,n)=>{Ce(this,td,e,"f"),Ce(this,Jl,n,"f")})),Ce(this,Kl,new Promise((e,n)=>{Ce(this,nd,e,"f"),Ce(this,jl,n,"f")})),V(this,ed,"f").catch(()=>{}),V(this,Kl,"f").catch(()=>{})}_run(e){setTimeout(()=>{e().then(()=>{this._emitFinal(),this._emit("end")},V(this,Fv,"m",NN).bind(this))},0)}_connected(){this.ended||(V(this,td,"f").call(this),this._emit("connect"))}get ended(){return V(this,Yl,"f")}get errored(){return V(this,Pd,"f")}get aborted(){return V(this,kd,"f")}abort(){this.controller.abort()}on(e,n){return(V(this,io,"f")[e]||(V(this,io,"f")[e]=[])).push({listener:n}),this}off(e,n){const i=V(this,io,"f")[e];if(!i)return this;const r=i.findIndex(a=>a.listener===n);return r>=0&&i.splice(r,1),this}once(e,n){return(V(this,io,"f")[e]||(V(this,io,"f")[e]=[])).push({listener:n,once:!0}),this}emitted(e){return new Promise((n,i)=>{Ce(this,oa,!0),e!=="error"&&this.once("error",i),this.once(e,n)})}async done(){Ce(this,oa,!0),await V(this,Kl,"f")}_emit(e,...n){if(V(this,Yl,"f"))return;e==="end"&&(Ce(this,Yl,!0),V(this,nd,"f").call(this));const i=V(this,io,"f")[e];if(i&&(V(this,io,"f")[e]=i.filter(r=>!r.once),i.forEach(({listener:r})=>r(...n))),e==="abort"){const r=n[0];!V(this,oa,"f")&&!i?.length&&Promise.reject(r),V(this,Jl,"f").call(this,r),V(this,jl,"f").call(this,r),this._emit("end");return}if(e==="error"){const r=n[0];!V(this,oa,"f")&&!i?.length&&Promise.reject(r),V(this,Jl,"f").call(this,r),V(this,jl,"f").call(this,r),this._emit("end")}}_emitFinal(){}}ed=new WeakMap,td=new WeakMap,Jl=new WeakMap,Kl=new WeakMap,nd=new WeakMap,jl=new WeakMap,io=new WeakMap,Yl=new WeakMap,Pd=new WeakMap,kd=new WeakMap,oa=new WeakMap,Fv=new WeakSet,NN=function(e){if(Ce(this,Pd,!0),e instanceof Error&&e.name==="AbortError"&&(e=new $n),e instanceof $n)return Ce(this,kd,!0),this._emit("abort",e);if(e instanceof Se)return this._emit("error",e);if(e instanceof Error){const n=new Se(e.message);return n.cause=e,this._emit("error",n)}return this._emit("error",new Se(String(e)))};function M4(t){return typeof t.parse=="function"}var Ht,$v,Ld,Hv,Gv,Vv,IN,DN;const N4=10;class ON extends Qy{constructor(){super(...arguments),Ht.add(this),this._chatCompletions=[],this.messages=[]}_addChatCompletion(e){this._chatCompletions.push(e),this._emit("chatCompletion",e);const n=e.choices[0]?.message;return n&&this._addMessage(n),e}_addMessage(e,n=!0){if("content"in e||(e.content=null),this.messages.push(e),n){if(this._emit("message",e),MN(e)&&e.content)this._emit("functionToolCallResult",e.content);else if(Od(e)&&e.tool_calls)for(const i of e.tool_calls)i.type==="function"&&this._emit("functionToolCall",i.function)}}async finalChatCompletion(){await this.done();const e=this._chatCompletions[this._chatCompletions.length-1];if(!e)throw new Se("stream ended without producing a ChatCompletion");return e}async finalContent(){return await this.done(),V(this,Ht,"m",$v).call(this)}async finalMessage(){return await this.done(),V(this,Ht,"m",Ld).call(this)}async finalFunctionToolCall(){return await this.done(),V(this,Ht,"m",Hv).call(this)}async finalFunctionToolCallResult(){return await this.done(),V(this,Ht,"m",Gv).call(this)}async totalUsage(){return await this.done(),V(this,Ht,"m",Vv).call(this)}allChatCompletions(){return[...this._chatCompletions]}_emitFinal(){const e=this._chatCompletions[this._chatCompletions.length-1];e&&this._emit("finalChatCompletion",e);const n=V(this,Ht,"m",Ld).call(this);n&&this._emit("finalMessage",n);const i=V(this,Ht,"m",$v).call(this);i&&this._emit("finalContent",i);const r=V(this,Ht,"m",Hv).call(this);r&&this._emit("finalFunctionToolCall",r);const a=V(this,Ht,"m",Gv).call(this);a!=null&&this._emit("finalFunctionToolCallResult",a),this._chatCompletions.some(u=>u.usage)&&this._emit("totalUsage",V(this,Ht,"m",Vv).call(this))}async _createChatCompletion(e,n,i){const r=i?.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",()=>this.controller.abort())),V(this,Ht,"m",IN).call(this,n);const a=await e.chat.completions.create({...n,stream:!1},{...i,signal:this.controller.signal});return this._connected(),this._addChatCompletion(Wy(a,n))}async _runChatCompletion(e,n,i){for(const r of n.messages)this._addMessage(r,!1);return await this._createChatCompletion(e,n,i)}async _runTools(e,n,i){const r="tool",{tool_choice:a="auto",stream:u,...c}=n,p=typeof a!="string"&&a.type==="function"&&a?.function?.name,{maxChatCompletions:d=N4}=i||{},m=n.tools.map(b=>{if(Fu(b)){if(!b.$callback)throw new Se("Tool given to `.runTools()` that does not have an associated function");return{type:"function",function:{function:b.$callback,name:b.function.name,description:b.function.description||"",parameters:b.function.parameters,parse:b.$parseRaw,strict:!0}}}return b}),y={};for(const b of m)b.type==="function"&&(y[b.function.name||b.function.function.name]=b.function);const S="tools"in n?m.map(b=>b.type==="function"?{type:"function",function:{name:b.function.name||b.function.function.name,parameters:b.function.parameters,description:b.function.description,strict:b.function.strict}}:b):void 0;for(const b of n.messages)this._addMessage(b,!1);for(let b=0;b<d;++b){const A=(await this._createChatCompletion(e,{...c,tool_choice:a,tools:S,messages:[...this.messages]},i)).choices[0]?.message;if(!A)throw new Se("missing message in ChatCompletion response");if(!A.tool_calls?.length)return;for(const x of A.tool_calls){if(x.type!=="function")continue;const M=x.id,{name:I,arguments:N}=x.function,D=y[I];if(D){if(p&&p!==I){const q=`Invalid tool_call: ${JSON.stringify(I)}. ${JSON.stringify(p)} requested. Please try again`;this._addMessage({role:r,tool_call_id:M,content:q});continue}}else{const q=`Invalid tool_call: ${JSON.stringify(I)}. Available options are: ${Object.keys(y).map(J=>JSON.stringify(J)).join(", ")}. Please try again`;this._addMessage({role:r,tool_call_id:M,content:q});continue}let L;try{L=M4(D)?await D.parse(N):N}catch(q){const J=q instanceof Error?q.message:String(q);this._addMessage({role:r,tool_call_id:M,content:J});continue}const U=await D.function(L,this),O=V(this,Ht,"m",DN).call(this,U);if(this._addMessage({role:r,tool_call_id:M,content:O}),p)return}}}}Ht=new WeakSet,$v=function(){return V(this,Ht,"m",Ld).call(this).content??null},Ld=function(){let e=this.messages.length;for(;e-- >0;){const n=this.messages[e];if(Od(n))return{...n,content:n.content??null,refusal:n.refusal??null}}throw new Se("stream ended without producing a ChatCompletionMessage with role=assistant")},Hv=function(){for(let e=this.messages.length-1;e>=0;e--){const n=this.messages[e];if(Od(n)&&n?.tool_calls?.length)return n.tool_calls.filter(i=>i.type==="function").at(-1)?.function}},Gv=function(){for(let e=this.messages.length-1;e>=0;e--){const n=this.messages[e];if(MN(n)&&n.content!=null&&typeof n.content=="string"&&this.messages.some(i=>i.role==="assistant"&&i.tool_calls?.some(r=>r.type==="function"&&r.id===n.tool_call_id)))return n.content}},Vv=function(){const e={completion_tokens:0,prompt_tokens:0,total_tokens:0};for(const{usage:n}of this._chatCompletions)n&&(e.completion_tokens+=n.completion_tokens,e.prompt_tokens+=n.prompt_tokens,e.total_tokens+=n.total_tokens);return e},IN=function(e){if(e.n!=null&&e.n>1)throw new Se("ChatCompletion convenience helpers only support n=1 at this time. To use n>1, please use chat.completions.create() directly.")},DN=function(e){return typeof e=="string"?e:e===void 0?"undefined":JSON.stringify(e)};class Zy extends ON{static runTools(e,n,i){const r=new Zy,a={...i,headers:{...i?.headers,"X-Stainless-Helper-Method":"runTools"}};return r._run(()=>r._runTools(e,n,a)),r}_addMessage(e,n=!0){super._addMessage(e,n),Od(e)&&e.content&&this._emit("content",e.content)}}const PN=1,kN=2,LN=4,UN=8,BN=16,FN=32,$N=64,HN=128,GN=256,VN=HN|GN,zN=BN|FN|VN|$N,qN=PN|kN|zN,JN=LN|UN,I4=qN|JN,wt={STR:PN,NUM:kN,ARR:LN,OBJ:UN,NULL:BN,BOOL:FN,NAN:$N,INFINITY:HN,MINUS_INFINITY:GN,INF:VN,SPECIAL:zN,ATOM:qN,COLLECTION:JN,ALL:I4};class D4 extends Error{}class O4 extends Error{}function P4(t,e=wt.ALL){if(typeof t!="string")throw new TypeError(`expecting str, got ${typeof t}`);if(!t.trim())throw new Error(`${t} is empty`);return k4(t.trim(),e)}const k4=(t,e)=>{const n=t.length;let i=0;const r=S=>{throw new D4(`${S} at position ${i}`)},a=S=>{throw new O4(`${S} at position ${i}`)},u=()=>(y(),i>=n&&r("Unexpected end of input"),t[i]==='"'?c():t[i]==="{"?p():t[i]==="["?d():t.substring(i,i+4)==="null"||wt.NULL&e&&n-i<4&&"null".startsWith(t.substring(i))?(i+=4,null):t.substring(i,i+4)==="true"||wt.BOOL&e&&n-i<4&&"true".startsWith(t.substring(i))?(i+=4,!0):t.substring(i,i+5)==="false"||wt.BOOL&e&&n-i<5&&"false".startsWith(t.substring(i))?(i+=5,!1):t.substring(i,i+8)==="Infinity"||wt.INFINITY&e&&n-i<8&&"Infinity".startsWith(t.substring(i))?(i+=8,1/0):t.substring(i,i+9)==="-Infinity"||wt.MINUS_INFINITY&e&&1<n-i&&n-i<9&&"-Infinity".startsWith(t.substring(i))?(i+=9,-1/0):t.substring(i,i+3)==="NaN"||wt.NAN&e&&n-i<3&&"NaN".startsWith(t.substring(i))?(i+=3,NaN):m()),c=()=>{const S=i;let b=!1;for(i++;i<n&&(t[i]!=='"'||b&&t[i-1]==="\\");)b=t[i]==="\\"?!b:!1,i++;if(t.charAt(i)=='"')try{return JSON.parse(t.substring(S,++i-Number(b)))}catch(T){a(String(T))}else if(wt.STR&e)try{return JSON.parse(t.substring(S,i-Number(b))+'"')}catch{return JSON.parse(t.substring(S,t.lastIndexOf("\\"))+'"')}r("Unterminated string literal")},p=()=>{i++,y();const S={};try{for(;t[i]!=="}";){if(y(),i>=n&&wt.OBJ&e)return S;const b=c();y(),i++;try{const T=u();Object.defineProperty(S,b,{value:T,writable:!0,enumerable:!0,configurable:!0})}catch(T){if(wt.OBJ&e)return S;throw T}y(),t[i]===","&&i++}}catch{if(wt.OBJ&e)return S;r("Expected '}' at end of object")}return i++,S},d=()=>{i++;const S=[];try{for(;t[i]!=="]";)S.push(u()),y(),t[i]===","&&i++}catch{if(wt.ARR&e)return S;r("Expected ']' at end of array")}return i++,S},m=()=>{if(i===0){t==="-"&&wt.NUM&e&&r("Not sure what '-' is");try{return JSON.parse(t)}catch(b){if(wt.NUM&e)try{return t[t.length-1]==="."?JSON.parse(t.substring(0,t.lastIndexOf("."))):JSON.parse(t.substring(0,t.lastIndexOf("e")))}catch{}a(String(b))}}const S=i;for(t[i]==="-"&&i++;t[i]&&!",]}".includes(t[i]);)i++;i==n&&!(wt.NUM&e)&&r("Unterminated number literal");try{return JSON.parse(t.substring(S,i))}catch{t.substring(S,i)==="-"&&wt.NUM&e&&r("Not sure what '-' is");try{return JSON.parse(t.substring(S,t.lastIndexOf("e")))}catch(T){a(String(T))}}},y=()=>{for(;i<n&&` 
\r	`.includes(t[i]);)i++};return u()},$T=t=>P4(t,wt.ALL^wt.NUM);var _t,no,Ys,Yo,Dg,Df,Og,Pg,kg,Of,Lg,HT;class pu extends ON{constructor(e){super(),_t.add(this),no.set(this,void 0),Ys.set(this,void 0),Yo.set(this,void 0),Ce(this,no,e),Ce(this,Ys,[])}get currentChatCompletionSnapshot(){return V(this,Yo,"f")}static fromReadableStream(e){const n=new pu(null);return n._run(()=>n._fromReadableStream(e)),n}static createChatCompletion(e,n,i){const r=new pu(n);return r._run(()=>r._runChatCompletion(e,{...n,stream:!0},{...i,headers:{...i?.headers,"X-Stainless-Helper-Method":"stream"}})),r}async _createChatCompletion(e,n,i){super._createChatCompletion;const r=i?.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",()=>this.controller.abort())),V(this,_t,"m",Dg).call(this);const a=await e.chat.completions.create({...n,stream:!0},{...i,signal:this.controller.signal});this._connected();for await(const u of a)V(this,_t,"m",Og).call(this,u);if(a.controller.signal?.aborted)throw new $n;return this._addChatCompletion(V(this,_t,"m",Of).call(this))}async _fromReadableStream(e,n){const i=n?.signal;i&&(i.aborted&&this.controller.abort(),i.addEventListener("abort",()=>this.controller.abort())),V(this,_t,"m",Dg).call(this),this._connected();const r=wi.fromReadableStream(e,this.controller);let a;for await(const u of r)a&&a!==u.id&&this._addChatCompletion(V(this,_t,"m",Of).call(this)),V(this,_t,"m",Og).call(this,u),a=u.id;if(r.controller.signal?.aborted)throw new $n;return this._addChatCompletion(V(this,_t,"m",Of).call(this))}[(no=new WeakMap,Ys=new WeakMap,Yo=new WeakMap,_t=new WeakSet,Dg=function(){this.ended||Ce(this,Yo,void 0)},Df=function(n){let i=V(this,Ys,"f")[n.index];return i||(i={content_done:!1,refusal_done:!1,logprobs_content_done:!1,logprobs_refusal_done:!1,done_tool_calls:new Set,current_tool_call_index:null},V(this,Ys,"f")[n.index]=i,i)},Og=function(n){if(this.ended)return;const i=V(this,_t,"m",HT).call(this,n);this._emit("chunk",n,i);for(const r of n.choices){const a=i.choices[r.index];r.delta.content!=null&&a.message?.role==="assistant"&&a.message?.content&&(this._emit("content",r.delta.content,a.message.content),this._emit("content.delta",{delta:r.delta.content,snapshot:a.message.content,parsed:a.message.parsed})),r.delta.refusal!=null&&a.message?.role==="assistant"&&a.message?.refusal&&this._emit("refusal.delta",{delta:r.delta.refusal,snapshot:a.message.refusal}),r.logprobs?.content!=null&&a.message?.role==="assistant"&&this._emit("logprobs.content.delta",{content:r.logprobs?.content,snapshot:a.logprobs?.content??[]}),r.logprobs?.refusal!=null&&a.message?.role==="assistant"&&this._emit("logprobs.refusal.delta",{refusal:r.logprobs?.refusal,snapshot:a.logprobs?.refusal??[]});const u=V(this,_t,"m",Df).call(this,a);a.finish_reason&&(V(this,_t,"m",kg).call(this,a),u.current_tool_call_index!=null&&V(this,_t,"m",Pg).call(this,a,u.current_tool_call_index));for(const c of r.delta.tool_calls??[])u.current_tool_call_index!==c.index&&(V(this,_t,"m",kg).call(this,a),u.current_tool_call_index!=null&&V(this,_t,"m",Pg).call(this,a,u.current_tool_call_index)),u.current_tool_call_index=c.index;for(const c of r.delta.tool_calls??[]){const p=a.message.tool_calls?.[c.index];p?.type&&(p?.type==="function"?this._emit("tool_calls.function.arguments.delta",{name:p.function?.name,index:c.index,arguments:p.function.arguments,parsed_arguments:p.function.parsed_arguments,arguments_delta:c.function?.arguments??""}):(p?.type,void 0))}}},Pg=function(n,i){if(V(this,_t,"m",Df).call(this,n).done_tool_calls.has(i))return;const a=n.message.tool_calls?.[i];if(!a)throw new Error("no tool call snapshot");if(!a.type)throw new Error("tool call snapshot missing `type`");if(a.type==="function"){const u=V(this,no,"f")?.tools?.find(c=>Dd(c)&&c.function.name===a.function.name);this._emit("tool_calls.function.arguments.done",{name:a.function.name,index:i,arguments:a.function.arguments,parsed_arguments:Fu(u)?u.$parseRaw(a.function.arguments):u?.function.strict?JSON.parse(a.function.arguments):null})}else a.type},kg=function(n){const i=V(this,_t,"m",Df).call(this,n);if(n.message.content&&!i.content_done){i.content_done=!0;const r=V(this,_t,"m",Lg).call(this);this._emit("content.done",{content:n.message.content,parsed:r?r.$parseRaw(n.message.content):null})}n.message.refusal&&!i.refusal_done&&(i.refusal_done=!0,this._emit("refusal.done",{refusal:n.message.refusal})),n.logprobs?.content&&!i.logprobs_content_done&&(i.logprobs_content_done=!0,this._emit("logprobs.content.done",{content:n.logprobs.content})),n.logprobs?.refusal&&!i.logprobs_refusal_done&&(i.logprobs_refusal_done=!0,this._emit("logprobs.refusal.done",{refusal:n.logprobs.refusal}))},Of=function(){if(this.ended)throw new Se("stream has ended, this shouldn't happen");const n=V(this,Yo,"f");if(!n)throw new Se("request ended without sending any chunks");return Ce(this,Yo,void 0),Ce(this,Ys,[]),L4(n,V(this,no,"f"))},Lg=function(){const n=V(this,no,"f")?.response_format;return Xy(n)?n:null},HT=function(n){var i,r,a,u;let c=V(this,Yo,"f");const{choices:p,...d}=n;c?Object.assign(c,d):c=Ce(this,Yo,{...d,choices:[]});for(const{delta:m,finish_reason:y,index:S,logprobs:b=null,...T}of n.choices){let A=c.choices[S];if(A||(A=c.choices[S]={finish_reason:y,index:S,message:{},logprobs:b,...T}),b)if(!A.logprobs)A.logprobs=Object.assign({},b);else{const{content:U,refusal:O,...q}=b;Object.assign(A.logprobs,q),U&&((i=A.logprobs).content??(i.content=[]),A.logprobs.content.push(...U)),O&&((r=A.logprobs).refusal??(r.refusal=[]),A.logprobs.refusal.push(...O))}if(y&&(A.finish_reason=y,V(this,no,"f")&&xN(V(this,no,"f")))){if(y==="length")throw new lN;if(y==="content_filter")throw new uN}if(Object.assign(A,T),!m)continue;const{content:x,refusal:M,function_call:I,role:N,tool_calls:D,...L}=m;if(Object.assign(A.message,L),M&&(A.message.refusal=(A.message.refusal||"")+M),N&&(A.message.role=N),I&&(A.message.function_call?(I.name&&(A.message.function_call.name=I.name),I.arguments&&((a=A.message.function_call).arguments??(a.arguments=""),A.message.function_call.arguments+=I.arguments)):A.message.function_call=I),x&&(A.message.content=(A.message.content||"")+x,!A.message.refusal&&V(this,_t,"m",Lg).call(this)&&(A.message.parsed=$T(A.message.content))),D){A.message.tool_calls||(A.message.tool_calls=[]);for(const{index:U,id:O,type:q,function:J,...Y}of D){const W=(u=A.message.tool_calls)[U]??(u[U]={});Object.assign(W,Y),O&&(W.id=O),q&&(W.type=q),J&&(W.function??(W.function={name:J.name??"",arguments:""})),J?.name&&(W.function.name=J.name),J?.arguments&&(W.function.arguments+=J.arguments,x4(V(this,no,"f"),W)&&(W.function.parsed_arguments=$T(W.function.arguments)))}}}return c},Symbol.asyncIterator)](){const e=[],n=[];let i=!1;return this.on("chunk",r=>{const a=n.shift();a?a.resolve(r):e.push(r)}),this.on("end",()=>{i=!0;for(const r of n)r.resolve(void 0);n.length=0}),this.on("abort",r=>{i=!0;for(const a of n)a.reject(r);n.length=0}),this.on("error",r=>{i=!0;for(const a of n)a.reject(r);n.length=0}),{next:async()=>e.length?{value:e.shift(),done:!1}:i?{value:void 0,done:!0}:new Promise((a,u)=>n.push({resolve:a,reject:u})).then(a=>a?{value:a,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}toReadableStream(){return new wi(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}}function L4(t,e){const{id:n,choices:i,created:r,model:a,system_fingerprint:u,...c}=t,p={...c,id:n,choices:i.map(({message:d,finish_reason:m,index:y,logprobs:S,...b})=>{if(!m)throw new Se(`missing finish_reason for choice ${y}`);const{content:T=null,function_call:A,tool_calls:x,...M}=d,I=d.role;if(!I)throw new Se(`missing role for choice ${y}`);if(A){const{arguments:N,name:D}=A;if(N==null)throw new Se(`missing function_call.arguments for choice ${y}`);if(!D)throw new Se(`missing function_call.name for choice ${y}`);return{...b,message:{content:T,function_call:{arguments:N,name:D},role:I,refusal:d.refusal??null},finish_reason:m,index:y,logprobs:S}}return x?{...b,index:y,finish_reason:m,logprobs:S,message:{...M,role:I,content:T,refusal:d.refusal??null,tool_calls:x.map((N,D)=>{const{function:L,type:U,id:O,...q}=N,{arguments:J,name:Y,...W}=L||{};if(O==null)throw new Se(`missing choices[${y}].tool_calls[${D}].id
${Pf(t)}`);if(U==null)throw new Se(`missing choices[${y}].tool_calls[${D}].type
${Pf(t)}`);if(Y==null)throw new Se(`missing choices[${y}].tool_calls[${D}].function.name
${Pf(t)}`);if(J==null)throw new Se(`missing choices[${y}].tool_calls[${D}].function.arguments
${Pf(t)}`);return{...q,id:O,type:U,function:{...W,name:Y,arguments:J}}})}}:{...b,message:{...M,content:T,role:I,refusal:d.refusal??null},finish_reason:m,index:y,logprobs:S}}),created:r,model:a,object:"chat.completion",...u?{system_fingerprint:u}:{}};return C4(p,e)}function Pf(t){return JSON.stringify(t)}class Ud extends pu{static fromReadableStream(e){const n=new Ud(null);return n._run(()=>n._fromReadableStream(e)),n}static runTools(e,n,i){const r=new Ud(n),a={...i,headers:{...i?.headers,"X-Stainless-Helper-Method":"runTools"}};return r._run(()=>r._runTools(e,n,a)),r}}let e_=class extends ye{constructor(){super(...arguments),this.messages=new AN(this._client)}create(e,n){return this._client.post("/chat/completions",{body:e,...n,stream:e.stream??!1})}retrieve(e,n){return this._client.get(oe`/chat/completions/${e}`,n)}update(e,n,i){return this._client.post(oe`/chat/completions/${e}`,{body:n,...i})}list(e={},n){return this._client.getAPIList("/chat/completions",vt,{query:e,...n})}delete(e,n){return this._client.delete(oe`/chat/completions/${e}`,n)}parse(e,n){return R4(e.tools),this._client.chat.completions.create(e,{...n,headers:{...n?.headers,"X-Stainless-Helper-Method":"chat.completions.parse"}})._thenUnwrap(i=>Wy(i,e))}runTools(e,n){return e.stream?Ud.runTools(this._client,e,n):Zy.runTools(this._client,e,n)}stream(e,n){return pu.createChatCompletion(this._client,e,n)}};e_.Messages=AN;class t_ extends ye{constructor(){super(...arguments),this.completions=new e_(this._client)}}t_.Completions=e_;const KN=Symbol("brand.privateNullableHeaders");function*U4(t){if(!t)return;if(KN in t){const{values:i,nulls:r}=t;yield*i.entries();for(const a of r)yield[a,null];return}let e=!1,n;t instanceof Headers?n=t.entries():TT(t)?n=t:(e=!0,n=Object.entries(t??{}));for(let i of n){const r=i[0];if(typeof r!="string")throw new TypeError("expected header name to be a string");const a=TT(i[1])?i[1]:[i[1]];let u=!1;for(const c of a)c!==void 0&&(e&&!u&&(u=!0,yield[r,null]),yield[r,c])}}const he=t=>{const e=new Headers,n=new Set;for(const i of t){const r=new Set;for(const[a,u]of U4(i)){const c=a.toLowerCase();r.has(c)||(e.delete(a),r.add(c)),u===null?(e.delete(a),n.add(c)):(e.append(a,u),n.delete(c))}}return{[KN]:!0,values:e,nulls:n}};class jN extends ye{create(e,n){return this._client.post("/audio/speech",{body:e,...n,headers:he([{Accept:"application/octet-stream"},n?.headers]),__binaryResponse:!0})}}class YN extends ye{create(e,n){return this._client.post("/audio/transcriptions",Qr({body:e,...n,stream:e.stream??!1,__metadata:{model:e.model}},this._client))}}class XN extends ye{create(e,n){return this._client.post("/audio/translations",Qr({body:e,...n,__metadata:{model:e.model}},this._client))}}class $u extends ye{constructor(){super(...arguments),this.transcriptions=new YN(this._client),this.translations=new XN(this._client),this.speech=new jN(this._client)}}$u.Transcriptions=YN;$u.Translations=XN;$u.Speech=jN;class WN extends ye{create(e,n){return this._client.post("/batches",{body:e,...n})}retrieve(e,n){return this._client.get(oe`/batches/${e}`,n)}list(e={},n){return this._client.getAPIList("/batches",vt,{query:e,...n})}cancel(e,n){return this._client.post(oe`/batches/${e}/cancel`,n)}}class QN extends ye{create(e,n){return this._client.post("/assistants",{body:e,...n,headers:he([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}retrieve(e,n){return this._client.get(oe`/assistants/${e}`,{...n,headers:he([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}update(e,n,i){return this._client.post(oe`/assistants/${e}`,{body:n,...i,headers:he([{"OpenAI-Beta":"assistants=v2"},i?.headers])})}list(e={},n){return this._client.getAPIList("/assistants",vt,{query:e,...n,headers:he([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}delete(e,n){return this._client.delete(oe`/assistants/${e}`,{...n,headers:he([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}}let ZN=class extends ye{create(e,n){return this._client.post("/realtime/sessions",{body:e,...n,headers:he([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}};class eI extends ye{create(e,n){return this._client.post("/realtime/transcription_sessions",{body:e,...n,headers:he([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}}let Sp=class extends ye{constructor(){super(...arguments),this.sessions=new ZN(this._client),this.transcriptionSessions=new eI(this._client)}};Sp.Sessions=ZN;Sp.TranscriptionSessions=eI;class tI extends ye{create(e,n){return this._client.post("/chatkit/sessions",{body:e,...n,headers:he([{"OpenAI-Beta":"chatkit_beta=v1"},n?.headers])})}cancel(e,n){return this._client.post(oe`/chatkit/sessions/${e}/cancel`,{...n,headers:he([{"OpenAI-Beta":"chatkit_beta=v1"},n?.headers])})}}let nI=class extends ye{retrieve(e,n){return this._client.get(oe`/chatkit/threads/${e}`,{...n,headers:he([{"OpenAI-Beta":"chatkit_beta=v1"},n?.headers])})}list(e={},n){return this._client.getAPIList("/chatkit/threads",Id,{query:e,...n,headers:he([{"OpenAI-Beta":"chatkit_beta=v1"},n?.headers])})}delete(e,n){return this._client.delete(oe`/chatkit/threads/${e}`,{...n,headers:he([{"OpenAI-Beta":"chatkit_beta=v1"},n?.headers])})}listItems(e,n={},i){return this._client.getAPIList(oe`/chatkit/threads/${e}/items`,Id,{query:n,...i,headers:he([{"OpenAI-Beta":"chatkit_beta=v1"},i?.headers])})}};class bp extends ye{constructor(){super(...arguments),this.sessions=new tI(this._client),this.threads=new nI(this._client)}}bp.Sessions=tI;bp.Threads=nI;class iI extends ye{create(e,n,i){return this._client.post(oe`/threads/${e}/messages`,{body:n,...i,headers:he([{"OpenAI-Beta":"assistants=v2"},i?.headers])})}retrieve(e,n,i){const{thread_id:r}=n;return this._client.get(oe`/threads/${r}/messages/${e}`,{...i,headers:he([{"OpenAI-Beta":"assistants=v2"},i?.headers])})}update(e,n,i){const{thread_id:r,...a}=n;return this._client.post(oe`/threads/${r}/messages/${e}`,{body:a,...i,headers:he([{"OpenAI-Beta":"assistants=v2"},i?.headers])})}list(e,n={},i){return this._client.getAPIList(oe`/threads/${e}/messages`,vt,{query:n,...i,headers:he([{"OpenAI-Beta":"assistants=v2"},i?.headers])})}delete(e,n,i){const{thread_id:r}=n;return this._client.delete(oe`/threads/${r}/messages/${e}`,{...i,headers:he([{"OpenAI-Beta":"assistants=v2"},i?.headers])})}}class oI extends ye{retrieve(e,n,i){const{thread_id:r,run_id:a,...u}=n;return this._client.get(oe`/threads/${r}/runs/${a}/steps/${e}`,{query:u,...i,headers:he([{"OpenAI-Beta":"assistants=v2"},i?.headers])})}list(e,n,i){const{thread_id:r,...a}=n;return this._client.getAPIList(oe`/threads/${r}/runs/${e}/steps`,vt,{query:a,...i,headers:he([{"OpenAI-Beta":"assistants=v2"},i?.headers])})}}const B4=t=>{if(typeof Buffer<"u"){const e=Buffer.from(t,"base64");return Array.from(new Float32Array(e.buffer,e.byteOffset,e.length/Float32Array.BYTES_PER_ELEMENT))}else{const e=atob(t),n=e.length,i=new Uint8Array(n);for(let r=0;r<n;r++)i[r]=e.charCodeAt(r);return Array.from(new Float32Array(i.buffer))}};var F4={};const Xs=t=>{if(typeof globalThis.process<"u")return F4?.[t]?.trim()??void 0;if(typeof globalThis.Deno<"u")return globalThis.Deno.env?.get?.(t)?.trim()};var Ot,Fr,zv,Si,id,Qn,$r,ca,Ur,Bd,vn,od,rd,ru,Xl,Wl,GT,VT,zT,qT,JT,KT,jT;class su extends Qy{constructor(){super(...arguments),Ot.add(this),zv.set(this,[]),Si.set(this,{}),id.set(this,{}),Qn.set(this,void 0),$r.set(this,void 0),ca.set(this,void 0),Ur.set(this,void 0),Bd.set(this,void 0),vn.set(this,void 0),od.set(this,void 0),rd.set(this,void 0),ru.set(this,void 0)}[(zv=new WeakMap,Si=new WeakMap,id=new WeakMap,Qn=new WeakMap,$r=new WeakMap,ca=new WeakMap,Ur=new WeakMap,Bd=new WeakMap,vn=new WeakMap,od=new WeakMap,rd=new WeakMap,ru=new WeakMap,Ot=new WeakSet,Symbol.asyncIterator)](){const e=[],n=[];let i=!1;return this.on("event",r=>{const a=n.shift();a?a.resolve(r):e.push(r)}),this.on("end",()=>{i=!0;for(const r of n)r.resolve(void 0);n.length=0}),this.on("abort",r=>{i=!0;for(const a of n)a.reject(r);n.length=0}),this.on("error",r=>{i=!0;for(const a of n)a.reject(r);n.length=0}),{next:async()=>e.length?{value:e.shift(),done:!1}:i?{value:void 0,done:!0}:new Promise((a,u)=>n.push({resolve:a,reject:u})).then(a=>a?{value:a,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}static fromReadableStream(e){const n=new Fr;return n._run(()=>n._fromReadableStream(e)),n}async _fromReadableStream(e,n){const i=n?.signal;i&&(i.aborted&&this.controller.abort(),i.addEventListener("abort",()=>this.controller.abort())),this._connected();const r=wi.fromReadableStream(e,this.controller);for await(const a of r)V(this,Ot,"m",Xl).call(this,a);if(r.controller.signal?.aborted)throw new $n;return this._addRun(V(this,Ot,"m",Wl).call(this))}toReadableStream(){return new wi(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}static createToolAssistantStream(e,n,i,r){const a=new Fr;return a._run(()=>a._runToolAssistantStream(e,n,i,{...r,headers:{...r?.headers,"X-Stainless-Helper-Method":"stream"}})),a}async _createToolAssistantStream(e,n,i,r){const a=r?.signal;a&&(a.aborted&&this.controller.abort(),a.addEventListener("abort",()=>this.controller.abort()));const u={...i,stream:!0},c=await e.submitToolOutputs(n,u,{...r,signal:this.controller.signal});this._connected();for await(const p of c)V(this,Ot,"m",Xl).call(this,p);if(c.controller.signal?.aborted)throw new $n;return this._addRun(V(this,Ot,"m",Wl).call(this))}static createThreadAssistantStream(e,n,i){const r=new Fr;return r._run(()=>r._threadAssistantStream(e,n,{...i,headers:{...i?.headers,"X-Stainless-Helper-Method":"stream"}})),r}static createAssistantStream(e,n,i,r){const a=new Fr;return a._run(()=>a._runAssistantStream(e,n,i,{...r,headers:{...r?.headers,"X-Stainless-Helper-Method":"stream"}})),a}currentEvent(){return V(this,od,"f")}currentRun(){return V(this,rd,"f")}currentMessageSnapshot(){return V(this,Qn,"f")}currentRunStepSnapshot(){return V(this,ru,"f")}async finalRunSteps(){return await this.done(),Object.values(V(this,Si,"f"))}async finalMessages(){return await this.done(),Object.values(V(this,id,"f"))}async finalRun(){if(await this.done(),!V(this,$r,"f"))throw Error("Final run was not received.");return V(this,$r,"f")}async _createThreadAssistantStream(e,n,i){const r=i?.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",()=>this.controller.abort()));const a={...n,stream:!0},u=await e.createAndRun(a,{...i,signal:this.controller.signal});this._connected();for await(const c of u)V(this,Ot,"m",Xl).call(this,c);if(u.controller.signal?.aborted)throw new $n;return this._addRun(V(this,Ot,"m",Wl).call(this))}async _createAssistantStream(e,n,i,r){const a=r?.signal;a&&(a.aborted&&this.controller.abort(),a.addEventListener("abort",()=>this.controller.abort()));const u={...i,stream:!0},c=await e.create(n,u,{...r,signal:this.controller.signal});this._connected();for await(const p of c)V(this,Ot,"m",Xl).call(this,p);if(c.controller.signal?.aborted)throw new $n;return this._addRun(V(this,Ot,"m",Wl).call(this))}static accumulateDelta(e,n){for(const[i,r]of Object.entries(n)){if(!e.hasOwnProperty(i)){e[i]=r;continue}let a=e[i];if(a==null){e[i]=r;continue}if(i==="index"||i==="type"){e[i]=r;continue}if(typeof a=="string"&&typeof r=="string")a+=r;else if(typeof a=="number"&&typeof r=="number")a+=r;else if(Mg(a)&&Mg(r))a=this.accumulateDelta(a,r);else if(Array.isArray(a)&&Array.isArray(r)){if(a.every(u=>typeof u=="string"||typeof u=="number")){a.push(...r);continue}for(const u of r){if(!Mg(u))throw new Error(`Expected array delta entry to be an object but got: ${u}`);const c=u.index;if(c==null)throw console.error(u),new Error("Expected array delta entry to have an `index` property");if(typeof c!="number")throw new Error(`Expected array delta entry \`index\` property to be a number but got ${c}`);const p=a[c];p==null?a.push(u):a[c]=this.accumulateDelta(p,u)}continue}else throw Error(`Unhandled record type: ${i}, deltaValue: ${r}, accValue: ${a}`);e[i]=a}return e}_addRun(e){return e}async _threadAssistantStream(e,n,i){return await this._createThreadAssistantStream(n,e,i)}async _runAssistantStream(e,n,i,r){return await this._createAssistantStream(n,e,i,r)}async _runToolAssistantStream(e,n,i,r){return await this._createToolAssistantStream(n,e,i,r)}}Fr=su,Xl=function(e){if(!this.ended)switch(Ce(this,od,e),V(this,Ot,"m",zT).call(this,e),e.event){case"thread.created":break;case"thread.run.created":case"thread.run.queued":case"thread.run.in_progress":case"thread.run.requires_action":case"thread.run.completed":case"thread.run.incomplete":case"thread.run.failed":case"thread.run.cancelling":case"thread.run.cancelled":case"thread.run.expired":V(this,Ot,"m",jT).call(this,e);break;case"thread.run.step.created":case"thread.run.step.in_progress":case"thread.run.step.delta":case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":V(this,Ot,"m",VT).call(this,e);break;case"thread.message.created":case"thread.message.in_progress":case"thread.message.delta":case"thread.message.completed":case"thread.message.incomplete":V(this,Ot,"m",GT).call(this,e);break;case"error":throw new Error("Encountered an error event in event processing - errors should be processed earlier")}},Wl=function(){if(this.ended)throw new Se("stream has ended, this shouldn't happen");if(!V(this,$r,"f"))throw Error("Final run has not been received");return V(this,$r,"f")},GT=function(e){const[n,i]=V(this,Ot,"m",JT).call(this,e,V(this,Qn,"f"));Ce(this,Qn,n),V(this,id,"f")[n.id]=n;for(const r of i){const a=n.content[r.index];a?.type=="text"&&this._emit("textCreated",a.text)}switch(e.event){case"thread.message.created":this._emit("messageCreated",e.data);break;case"thread.message.in_progress":break;case"thread.message.delta":if(this._emit("messageDelta",e.data.delta,n),e.data.delta.content)for(const r of e.data.delta.content){if(r.type=="text"&&r.text){let a=r.text,u=n.content[r.index];if(u&&u.type=="text")this._emit("textDelta",a,u.text);else throw Error("The snapshot associated with this text delta is not text or missing")}if(r.index!=V(this,ca,"f")){if(V(this,Ur,"f"))switch(V(this,Ur,"f").type){case"text":this._emit("textDone",V(this,Ur,"f").text,V(this,Qn,"f"));break;case"image_file":this._emit("imageFileDone",V(this,Ur,"f").image_file,V(this,Qn,"f"));break}Ce(this,ca,r.index)}Ce(this,Ur,n.content[r.index])}break;case"thread.message.completed":case"thread.message.incomplete":if(V(this,ca,"f")!==void 0){const r=e.data.content[V(this,ca,"f")];if(r)switch(r.type){case"image_file":this._emit("imageFileDone",r.image_file,V(this,Qn,"f"));break;case"text":this._emit("textDone",r.text,V(this,Qn,"f"));break}}V(this,Qn,"f")&&this._emit("messageDone",e.data),Ce(this,Qn,void 0)}},VT=function(e){const n=V(this,Ot,"m",qT).call(this,e);switch(Ce(this,ru,n),e.event){case"thread.run.step.created":this._emit("runStepCreated",e.data);break;case"thread.run.step.delta":const i=e.data.delta;if(i.step_details&&i.step_details.type=="tool_calls"&&i.step_details.tool_calls&&n.step_details.type=="tool_calls")for(const a of i.step_details.tool_calls)a.index==V(this,Bd,"f")?this._emit("toolCallDelta",a,n.step_details.tool_calls[a.index]):(V(this,vn,"f")&&this._emit("toolCallDone",V(this,vn,"f")),Ce(this,Bd,a.index),Ce(this,vn,n.step_details.tool_calls[a.index]),V(this,vn,"f")&&this._emit("toolCallCreated",V(this,vn,"f")));this._emit("runStepDelta",e.data.delta,n);break;case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":Ce(this,ru,void 0),e.data.step_details.type=="tool_calls"&&V(this,vn,"f")&&(this._emit("toolCallDone",V(this,vn,"f")),Ce(this,vn,void 0)),this._emit("runStepDone",e.data,n);break}},zT=function(e){V(this,zv,"f").push(e),this._emit("event",e)},qT=function(e){switch(e.event){case"thread.run.step.created":return V(this,Si,"f")[e.data.id]=e.data,e.data;case"thread.run.step.delta":let n=V(this,Si,"f")[e.data.id];if(!n)throw Error("Received a RunStepDelta before creation of a snapshot");let i=e.data;if(i.delta){const r=Fr.accumulateDelta(n,i.delta);V(this,Si,"f")[e.data.id]=r}return V(this,Si,"f")[e.data.id];case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":case"thread.run.step.in_progress":V(this,Si,"f")[e.data.id]=e.data;break}if(V(this,Si,"f")[e.data.id])return V(this,Si,"f")[e.data.id];throw new Error("No snapshot available")},JT=function(e,n){let i=[];switch(e.event){case"thread.message.created":return[e.data,i];case"thread.message.delta":if(!n)throw Error("Received a delta with no existing snapshot (there should be one from message creation)");let r=e.data;if(r.delta.content)for(const a of r.delta.content)if(a.index in n.content){let u=n.content[a.index];n.content[a.index]=V(this,Ot,"m",KT).call(this,a,u)}else n.content[a.index]=a,i.push(a);return[n,i];case"thread.message.in_progress":case"thread.message.completed":case"thread.message.incomplete":if(n)return[n,i];throw Error("Received thread message event with no existing snapshot")}throw Error("Tried to accumulate a non-message event")},KT=function(e,n){return Fr.accumulateDelta(n,e)},jT=function(e){switch(Ce(this,rd,e.data),e.event){case"thread.run.created":break;case"thread.run.queued":break;case"thread.run.in_progress":break;case"thread.run.requires_action":case"thread.run.cancelled":case"thread.run.failed":case"thread.run.completed":case"thread.run.expired":case"thread.run.incomplete":Ce(this,$r,e.data),V(this,vn,"f")&&(this._emit("toolCallDone",V(this,vn,"f")),Ce(this,vn,void 0));break}};let n_=class extends ye{constructor(){super(...arguments),this.steps=new oI(this._client)}create(e,n,i){const{include:r,...a}=n;return this._client.post(oe`/threads/${e}/runs`,{query:{include:r},body:a,...i,headers:he([{"OpenAI-Beta":"assistants=v2"},i?.headers]),stream:n.stream??!1})}retrieve(e,n,i){const{thread_id:r}=n;return this._client.get(oe`/threads/${r}/runs/${e}`,{...i,headers:he([{"OpenAI-Beta":"assistants=v2"},i?.headers])})}update(e,n,i){const{thread_id:r,...a}=n;return this._client.post(oe`/threads/${r}/runs/${e}`,{body:a,...i,headers:he([{"OpenAI-Beta":"assistants=v2"},i?.headers])})}list(e,n={},i){return this._client.getAPIList(oe`/threads/${e}/runs`,vt,{query:n,...i,headers:he([{"OpenAI-Beta":"assistants=v2"},i?.headers])})}cancel(e,n,i){const{thread_id:r}=n;return this._client.post(oe`/threads/${r}/runs/${e}/cancel`,{...i,headers:he([{"OpenAI-Beta":"assistants=v2"},i?.headers])})}async createAndPoll(e,n,i){const r=await this.create(e,n,i);return await this.poll(r.id,{thread_id:e},i)}createAndStream(e,n,i){return su.createAssistantStream(e,this._client.beta.threads.runs,n,i)}async poll(e,n,i){const r=he([i?.headers,{"X-Stainless-Poll-Helper":"true","X-Stainless-Custom-Poll-Interval":i?.pollIntervalMs?.toString()??void 0}]);for(;;){const{data:a,response:u}=await this.retrieve(e,n,{...i,headers:{...i?.headers,...r}}).withResponse();switch(a.status){case"queued":case"in_progress":case"cancelling":let c=5e3;if(i?.pollIntervalMs)c=i.pollIntervalMs;else{const p=u.headers.get("openai-poll-after-ms");if(p){const d=parseInt(p);isNaN(d)||(c=d)}}await Bu(c);break;case"requires_action":case"incomplete":case"cancelled":case"completed":case"failed":case"expired":return a}}}stream(e,n,i){return su.createAssistantStream(e,this._client.beta.threads.runs,n,i)}submitToolOutputs(e,n,i){const{thread_id:r,...a}=n;return this._client.post(oe`/threads/${r}/runs/${e}/submit_tool_outputs`,{body:a,...i,headers:he([{"OpenAI-Beta":"assistants=v2"},i?.headers]),stream:n.stream??!1})}async submitToolOutputsAndPoll(e,n,i){const r=await this.submitToolOutputs(e,n,i);return await this.poll(r.id,n,i)}submitToolOutputsStream(e,n,i){return su.createToolAssistantStream(e,this._client.beta.threads.runs,n,i)}};n_.Steps=oI;class Ep extends ye{constructor(){super(...arguments),this.runs=new n_(this._client),this.messages=new iI(this._client)}create(e={},n){return this._client.post("/threads",{body:e,...n,headers:he([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}retrieve(e,n){return this._client.get(oe`/threads/${e}`,{...n,headers:he([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}update(e,n,i){return this._client.post(oe`/threads/${e}`,{body:n,...i,headers:he([{"OpenAI-Beta":"assistants=v2"},i?.headers])})}delete(e,n){return this._client.delete(oe`/threads/${e}`,{...n,headers:he([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}createAndRun(e,n){return this._client.post("/threads/runs",{body:e,...n,headers:he([{"OpenAI-Beta":"assistants=v2"},n?.headers]),stream:e.stream??!1})}async createAndRunPoll(e,n){const i=await this.createAndRun(e,n);return await this.runs.poll(i.id,{thread_id:i.thread_id},n)}createAndRunStream(e,n){return su.createThreadAssistantStream(e,this._client.beta.threads,n)}}Ep.Runs=n_;Ep.Messages=iI;class Oa extends ye{constructor(){super(...arguments),this.realtime=new Sp(this._client),this.chatkit=new bp(this._client),this.assistants=new QN(this._client),this.threads=new Ep(this._client)}}Oa.Realtime=Sp;Oa.ChatKit=bp;Oa.Assistants=QN;Oa.Threads=Ep;class rI extends ye{create(e,n){return this._client.post("/completions",{body:e,...n,stream:e.stream??!1})}}let sI=class extends ye{retrieve(e,n,i){const{container_id:r}=n;return this._client.get(oe`/containers/${r}/files/${e}/content`,{...i,headers:he([{Accept:"application/binary"},i?.headers]),__binaryResponse:!0})}},i_=class extends ye{constructor(){super(...arguments),this.content=new sI(this._client)}create(e,n,i){return this._client.post(oe`/containers/${e}/files`,Qr({body:n,...i},this._client))}retrieve(e,n,i){const{container_id:r}=n;return this._client.get(oe`/containers/${r}/files/${e}`,i)}list(e,n={},i){return this._client.getAPIList(oe`/containers/${e}/files`,vt,{query:n,...i})}delete(e,n,i){const{container_id:r}=n;return this._client.delete(oe`/containers/${r}/files/${e}`,{...i,headers:he([{Accept:"*/*"},i?.headers])})}};i_.Content=sI;class o_ extends ye{constructor(){super(...arguments),this.files=new i_(this._client)}create(e,n){return this._client.post("/containers",{body:e,...n})}retrieve(e,n){return this._client.get(oe`/containers/${e}`,n)}list(e={},n){return this._client.getAPIList("/containers",vt,{query:e,...n})}delete(e,n){return this._client.delete(oe`/containers/${e}`,{...n,headers:he([{Accept:"*/*"},n?.headers])})}}o_.Files=i_;class aI extends ye{create(e,n,i){const{include:r,...a}=n;return this._client.post(oe`/conversations/${e}/items`,{query:{include:r},body:a,...i})}retrieve(e,n,i){const{conversation_id:r,...a}=n;return this._client.get(oe`/conversations/${r}/items/${e}`,{query:a,...i})}list(e,n={},i){return this._client.getAPIList(oe`/conversations/${e}/items`,Id,{query:n,...i})}delete(e,n,i){const{conversation_id:r}=n;return this._client.delete(oe`/conversations/${r}/items/${e}`,i)}}class r_ extends ye{constructor(){super(...arguments),this.items=new aI(this._client)}create(e={},n){return this._client.post("/conversations",{body:e,...n})}retrieve(e,n){return this._client.get(oe`/conversations/${e}`,n)}update(e,n,i){return this._client.post(oe`/conversations/${e}`,{body:n,...i})}delete(e,n){return this._client.delete(oe`/conversations/${e}`,n)}}r_.Items=aI;class lI extends ye{create(e,n){const i=!!e.encoding_format;let r=i?e.encoding_format:"base64";i&&Dt(this._client).debug("embeddings/user defined encoding_format:",e.encoding_format);const a=this._client.post("/embeddings",{body:{...e,encoding_format:r},...n});return i?a:(Dt(this._client).debug("embeddings/decoding base64 embeddings from base64"),a._thenUnwrap(u=>(u&&u.data&&u.data.forEach(c=>{const p=c.embedding;c.embedding=B4(p)}),u)))}}class uI extends ye{retrieve(e,n,i){const{eval_id:r,run_id:a}=n;return this._client.get(oe`/evals/${r}/runs/${a}/output_items/${e}`,i)}list(e,n,i){const{eval_id:r,...a}=n;return this._client.getAPIList(oe`/evals/${r}/runs/${e}/output_items`,vt,{query:a,...i})}}class s_ extends ye{constructor(){super(...arguments),this.outputItems=new uI(this._client)}create(e,n,i){return this._client.post(oe`/evals/${e}/runs`,{body:n,...i})}retrieve(e,n,i){const{eval_id:r}=n;return this._client.get(oe`/evals/${r}/runs/${e}`,i)}list(e,n={},i){return this._client.getAPIList(oe`/evals/${e}/runs`,vt,{query:n,...i})}delete(e,n,i){const{eval_id:r}=n;return this._client.delete(oe`/evals/${r}/runs/${e}`,i)}cancel(e,n,i){const{eval_id:r}=n;return this._client.post(oe`/evals/${r}/runs/${e}`,i)}}s_.OutputItems=uI;class a_ extends ye{constructor(){super(...arguments),this.runs=new s_(this._client)}create(e,n){return this._client.post("/evals",{body:e,...n})}retrieve(e,n){return this._client.get(oe`/evals/${e}`,n)}update(e,n,i){return this._client.post(oe`/evals/${e}`,{body:n,...i})}list(e={},n){return this._client.getAPIList("/evals",vt,{query:e,...n})}delete(e,n){return this._client.delete(oe`/evals/${e}`,n)}}a_.Runs=s_;let cI=class extends ye{create(e,n){return this._client.post("/files",Qr({body:e,...n},this._client))}retrieve(e,n){return this._client.get(oe`/files/${e}`,n)}list(e={},n){return this._client.getAPIList("/files",vt,{query:e,...n})}delete(e,n){return this._client.delete(oe`/files/${e}`,n)}content(e,n){return this._client.get(oe`/files/${e}/content`,{...n,headers:he([{Accept:"application/binary"},n?.headers]),__binaryResponse:!0})}async waitForProcessing(e,{pollInterval:n=5e3,maxWait:i=1800*1e3}={}){const r=new Set(["processed","error","deleted"]),a=Date.now();let u=await this.retrieve(e);for(;!u.status||!r.has(u.status);)if(await Bu(n),u=await this.retrieve(e),Date.now()-a>i)throw new Jy({message:`Giving up on waiting for file ${e} to finish processing after ${i} milliseconds.`});return u}};class fI extends ye{}let dI=class extends ye{run(e,n){return this._client.post("/fine_tuning/alpha/graders/run",{body:e,...n})}validate(e,n){return this._client.post("/fine_tuning/alpha/graders/validate",{body:e,...n})}};class l_ extends ye{constructor(){super(...arguments),this.graders=new dI(this._client)}}l_.Graders=dI;class pI extends ye{create(e,n,i){return this._client.getAPIList(oe`/fine_tuning/checkpoints/${e}/permissions`,_p,{body:n,method:"post",...i})}retrieve(e,n={},i){return this._client.get(oe`/fine_tuning/checkpoints/${e}/permissions`,{query:n,...i})}delete(e,n,i){const{fine_tuned_model_checkpoint:r}=n;return this._client.delete(oe`/fine_tuning/checkpoints/${r}/permissions/${e}`,i)}}let u_=class extends ye{constructor(){super(...arguments),this.permissions=new pI(this._client)}};u_.Permissions=pI;class hI extends ye{list(e,n={},i){return this._client.getAPIList(oe`/fine_tuning/jobs/${e}/checkpoints`,vt,{query:n,...i})}}class c_ extends ye{constructor(){super(...arguments),this.checkpoints=new hI(this._client)}create(e,n){return this._client.post("/fine_tuning/jobs",{body:e,...n})}retrieve(e,n){return this._client.get(oe`/fine_tuning/jobs/${e}`,n)}list(e={},n){return this._client.getAPIList("/fine_tuning/jobs",vt,{query:e,...n})}cancel(e,n){return this._client.post(oe`/fine_tuning/jobs/${e}/cancel`,n)}listEvents(e,n={},i){return this._client.getAPIList(oe`/fine_tuning/jobs/${e}/events`,vt,{query:n,...i})}pause(e,n){return this._client.post(oe`/fine_tuning/jobs/${e}/pause`,n)}resume(e,n){return this._client.post(oe`/fine_tuning/jobs/${e}/resume`,n)}}c_.Checkpoints=hI;class Pa extends ye{constructor(){super(...arguments),this.methods=new fI(this._client),this.jobs=new c_(this._client),this.checkpoints=new u_(this._client),this.alpha=new l_(this._client)}}Pa.Methods=fI;Pa.Jobs=c_;Pa.Checkpoints=u_;Pa.Alpha=l_;class mI extends ye{}class f_ extends ye{constructor(){super(...arguments),this.graderModels=new mI(this._client)}}f_.GraderModels=mI;class gI extends ye{createVariation(e,n){return this._client.post("/images/variations",Qr({body:e,...n},this._client))}edit(e,n){return this._client.post("/images/edits",Qr({body:e,...n,stream:e.stream??!1},this._client))}generate(e,n){return this._client.post("/images/generations",{body:e,...n,stream:e.stream??!1})}}class vI extends ye{retrieve(e,n){return this._client.get(oe`/models/${e}`,n)}list(e){return this._client.getAPIList("/models",_p,e)}delete(e,n){return this._client.delete(oe`/models/${e}`,n)}}class yI extends ye{create(e,n){return this._client.post("/moderations",{body:e,...n})}}class _I extends ye{accept(e,n,i){return this._client.post(oe`/realtime/calls/${e}/accept`,{body:n,...i,headers:he([{Accept:"*/*"},i?.headers])})}hangup(e,n){return this._client.post(oe`/realtime/calls/${e}/hangup`,{...n,headers:he([{Accept:"*/*"},n?.headers])})}refer(e,n,i){return this._client.post(oe`/realtime/calls/${e}/refer`,{body:n,...i,headers:he([{Accept:"*/*"},i?.headers])})}reject(e,n={},i){return this._client.post(oe`/realtime/calls/${e}/reject`,{body:n,...i,headers:he([{Accept:"*/*"},i?.headers])})}}class SI extends ye{create(e,n){return this._client.post("/realtime/client_secrets",{body:e,...n})}}class wp extends ye{constructor(){super(...arguments),this.clientSecrets=new SI(this._client),this.calls=new _I(this._client)}}wp.ClientSecrets=SI;wp.Calls=_I;function $4(t,e){return!e||!G4(e)?{...t,output_parsed:null,output:t.output.map(n=>n.type==="function_call"?{...n,parsed_arguments:null}:n.type==="message"?{...n,content:n.content.map(i=>({...i,parsed:null}))}:n)}:bI(t,e)}function bI(t,e){const n=t.output.map(r=>{if(r.type==="function_call")return{...r,parsed_arguments:q4(e,r)};if(r.type==="message"){const a=r.content.map(u=>u.type==="output_text"?{...u,parsed:H4(e,u.text)}:u);return{...r,content:a}}return r}),i=Object.assign({},t,{output:n});return Object.getOwnPropertyDescriptor(t,"output_text")||qv(i),Object.defineProperty(i,"output_parsed",{enumerable:!0,get(){for(const r of i.output)if(r.type==="message"){for(const a of r.content)if(a.type==="output_text"&&a.parsed!==null)return a.parsed}return null}}),i}function H4(t,e){return t.text?.format?.type!=="json_schema"?null:"$parseRaw"in t.text?.format?(t.text?.format).$parseRaw(e):JSON.parse(e)}function G4(t){return!!Xy(t.text?.format)}function V4(t){return t?.$brand==="auto-parseable-tool"}function z4(t,e){return t.find(n=>n.type==="function"&&n.name===e)}function q4(t,e){const n=z4(t.tools??[],e.name);return{...e,...e,parsed_arguments:V4(n)?n.$parseRaw(e.arguments):n?.strict?JSON.parse(e.arguments):null}}function qv(t){const e=[];for(const n of t.output)if(n.type==="message")for(const i of n.content)i.type==="output_text"&&e.push(i.text);t.output_text=e.join("")}var Ws,kf,Xo,Lf,YT,XT,WT,QT;class d_ extends Qy{constructor(e){super(),Ws.add(this),kf.set(this,void 0),Xo.set(this,void 0),Lf.set(this,void 0),Ce(this,kf,e)}static createResponse(e,n,i){const r=new d_(n);return r._run(()=>r._createOrRetrieveResponse(e,n,{...i,headers:{...i?.headers,"X-Stainless-Helper-Method":"stream"}})),r}async _createOrRetrieveResponse(e,n,i){const r=i?.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",()=>this.controller.abort())),V(this,Ws,"m",YT).call(this);let a,u=null;"response_id"in n?(a=await e.responses.retrieve(n.response_id,{stream:!0},{...i,signal:this.controller.signal,stream:!0}),u=n.starting_after??null):a=await e.responses.create({...n,stream:!0},{...i,signal:this.controller.signal}),this._connected();for await(const c of a)V(this,Ws,"m",XT).call(this,c,u);if(a.controller.signal?.aborted)throw new $n;return V(this,Ws,"m",WT).call(this)}[(kf=new WeakMap,Xo=new WeakMap,Lf=new WeakMap,Ws=new WeakSet,YT=function(){this.ended||Ce(this,Xo,void 0)},XT=function(n,i){if(this.ended)return;const r=(u,c)=>{(i==null||c.sequence_number>i)&&this._emit(u,c)},a=V(this,Ws,"m",QT).call(this,n);switch(r("event",n),n.type){case"response.output_text.delta":{const u=a.output[n.output_index];if(!u)throw new Se(`missing output at index ${n.output_index}`);if(u.type==="message"){const c=u.content[n.content_index];if(!c)throw new Se(`missing content at index ${n.content_index}`);if(c.type!=="output_text")throw new Se(`expected content to be 'output_text', got ${c.type}`);r("response.output_text.delta",{...n,snapshot:c.text})}break}case"response.function_call_arguments.delta":{const u=a.output[n.output_index];if(!u)throw new Se(`missing output at index ${n.output_index}`);u.type==="function_call"&&r("response.function_call_arguments.delta",{...n,snapshot:u.arguments});break}default:r(n.type,n);break}},WT=function(){if(this.ended)throw new Se("stream has ended, this shouldn't happen");const n=V(this,Xo,"f");if(!n)throw new Se("request ended without sending any events");Ce(this,Xo,void 0);const i=J4(n,V(this,kf,"f"));return Ce(this,Lf,i),i},QT=function(n){let i=V(this,Xo,"f");if(!i){if(n.type!=="response.created")throw new Se(`When snapshot hasn't been set yet, expected 'response.created' event, got ${n.type}`);return i=Ce(this,Xo,n.response),i}switch(n.type){case"response.output_item.added":{i.output.push(n.item);break}case"response.content_part.added":{const r=i.output[n.output_index];if(!r)throw new Se(`missing output at index ${n.output_index}`);const a=r.type,u=n.part;a==="message"&&u.type!=="reasoning_text"?r.content.push(u):a==="reasoning"&&u.type==="reasoning_text"&&(r.content||(r.content=[]),r.content.push(u));break}case"response.output_text.delta":{const r=i.output[n.output_index];if(!r)throw new Se(`missing output at index ${n.output_index}`);if(r.type==="message"){const a=r.content[n.content_index];if(!a)throw new Se(`missing content at index ${n.content_index}`);if(a.type!=="output_text")throw new Se(`expected content to be 'output_text', got ${a.type}`);a.text+=n.delta}break}case"response.function_call_arguments.delta":{const r=i.output[n.output_index];if(!r)throw new Se(`missing output at index ${n.output_index}`);r.type==="function_call"&&(r.arguments+=n.delta);break}case"response.reasoning_text.delta":{const r=i.output[n.output_index];if(!r)throw new Se(`missing output at index ${n.output_index}`);if(r.type==="reasoning"){const a=r.content?.[n.content_index];if(!a)throw new Se(`missing content at index ${n.content_index}`);if(a.type!=="reasoning_text")throw new Se(`expected content to be 'reasoning_text', got ${a.type}`);a.text+=n.delta}break}case"response.completed":{Ce(this,Xo,n.response);break}}return i},Symbol.asyncIterator)](){const e=[],n=[];let i=!1;return this.on("event",r=>{const a=n.shift();a?a.resolve(r):e.push(r)}),this.on("end",()=>{i=!0;for(const r of n)r.resolve(void 0);n.length=0}),this.on("abort",r=>{i=!0;for(const a of n)a.reject(r);n.length=0}),this.on("error",r=>{i=!0;for(const a of n)a.reject(r);n.length=0}),{next:async()=>e.length?{value:e.shift(),done:!1}:i?{value:void 0,done:!0}:new Promise((a,u)=>n.push({resolve:a,reject:u})).then(a=>a?{value:a,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}async finalResponse(){await this.done();const e=V(this,Lf,"f");if(!e)throw new Se("stream ended without producing a ChatCompletion");return e}}function J4(t,e){return $4(t,e)}class EI extends ye{list(e,n={},i){return this._client.getAPIList(oe`/responses/${e}/input_items`,vt,{query:n,...i})}}class wI extends ye{count(e={},n){return this._client.post("/responses/input_tokens",{body:e,...n})}}class Cp extends ye{constructor(){super(...arguments),this.inputItems=new EI(this._client),this.inputTokens=new wI(this._client)}create(e,n){return this._client.post("/responses",{body:e,...n,stream:e.stream??!1})._thenUnwrap(i=>("object"in i&&i.object==="response"&&qv(i),i))}retrieve(e,n={},i){return this._client.get(oe`/responses/${e}`,{query:n,...i,stream:n?.stream??!1})._thenUnwrap(r=>("object"in r&&r.object==="response"&&qv(r),r))}delete(e,n){return this._client.delete(oe`/responses/${e}`,{...n,headers:he([{Accept:"*/*"},n?.headers])})}parse(e,n){return this._client.responses.create(e,n)._thenUnwrap(i=>bI(i,e))}stream(e,n){return d_.createResponse(this._client,e,n)}cancel(e,n){return this._client.post(oe`/responses/${e}/cancel`,n)}compact(e={},n){return this._client.post("/responses/compact",{body:e,...n})}}Cp.InputItems=EI;Cp.InputTokens=wI;class CI extends ye{create(e,n,i){return this._client.post(oe`/uploads/${e}/parts`,Qr({body:n,...i},this._client))}}class p_ extends ye{constructor(){super(...arguments),this.parts=new CI(this._client)}create(e,n){return this._client.post("/uploads",{body:e,...n})}cancel(e,n){return this._client.post(oe`/uploads/${e}/cancel`,n)}complete(e,n,i){return this._client.post(oe`/uploads/${e}/complete`,{body:n,...i})}}p_.Parts=CI;const K4=async t=>{const e=await Promise.allSettled(t),n=e.filter(r=>r.status==="rejected");if(n.length){for(const r of n)console.error(r.reason);throw new Error(`${n.length} promise(s) failed - see the above errors`)}const i=[];for(const r of e)r.status==="fulfilled"&&i.push(r.value);return i};class TI extends ye{create(e,n,i){return this._client.post(oe`/vector_stores/${e}/file_batches`,{body:n,...i,headers:he([{"OpenAI-Beta":"assistants=v2"},i?.headers])})}retrieve(e,n,i){const{vector_store_id:r}=n;return this._client.get(oe`/vector_stores/${r}/file_batches/${e}`,{...i,headers:he([{"OpenAI-Beta":"assistants=v2"},i?.headers])})}cancel(e,n,i){const{vector_store_id:r}=n;return this._client.post(oe`/vector_stores/${r}/file_batches/${e}/cancel`,{...i,headers:he([{"OpenAI-Beta":"assistants=v2"},i?.headers])})}async createAndPoll(e,n,i){const r=await this.create(e,n);return await this.poll(e,r.id,i)}listFiles(e,n,i){const{vector_store_id:r,...a}=n;return this._client.getAPIList(oe`/vector_stores/${r}/file_batches/${e}/files`,vt,{query:a,...i,headers:he([{"OpenAI-Beta":"assistants=v2"},i?.headers])})}async poll(e,n,i){const r=he([i?.headers,{"X-Stainless-Poll-Helper":"true","X-Stainless-Custom-Poll-Interval":i?.pollIntervalMs?.toString()??void 0}]);for(;;){const{data:a,response:u}=await this.retrieve(n,{vector_store_id:e},{...i,headers:r}).withResponse();switch(a.status){case"in_progress":let c=5e3;if(i?.pollIntervalMs)c=i.pollIntervalMs;else{const p=u.headers.get("openai-poll-after-ms");if(p){const d=parseInt(p);isNaN(d)||(c=d)}}await Bu(c);break;case"failed":case"cancelled":case"completed":return a}}}async uploadAndPoll(e,{files:n,fileIds:i=[]},r){if(n==null||n.length==0)throw new Error("No `files` provided to process. If you've already uploaded files you should use `.createAndPoll()` instead");const a=r?.maxConcurrency??5,u=Math.min(a,n.length),c=this._client,p=n.values(),d=[...i];async function m(S){for(let b of S){const T=await c.files.create({file:b,purpose:"assistants"},r);d.push(T.id)}}const y=Array(u).fill(p).map(m);return await K4(y),await this.createAndPoll(e,{file_ids:d})}}class AI extends ye{create(e,n,i){return this._client.post(oe`/vector_stores/${e}/files`,{body:n,...i,headers:he([{"OpenAI-Beta":"assistants=v2"},i?.headers])})}retrieve(e,n,i){const{vector_store_id:r}=n;return this._client.get(oe`/vector_stores/${r}/files/${e}`,{...i,headers:he([{"OpenAI-Beta":"assistants=v2"},i?.headers])})}update(e,n,i){const{vector_store_id:r,...a}=n;return this._client.post(oe`/vector_stores/${r}/files/${e}`,{body:a,...i,headers:he([{"OpenAI-Beta":"assistants=v2"},i?.headers])})}list(e,n={},i){return this._client.getAPIList(oe`/vector_stores/${e}/files`,vt,{query:n,...i,headers:he([{"OpenAI-Beta":"assistants=v2"},i?.headers])})}delete(e,n,i){const{vector_store_id:r}=n;return this._client.delete(oe`/vector_stores/${r}/files/${e}`,{...i,headers:he([{"OpenAI-Beta":"assistants=v2"},i?.headers])})}async createAndPoll(e,n,i){const r=await this.create(e,n,i);return await this.poll(e,r.id,i)}async poll(e,n,i){const r=he([i?.headers,{"X-Stainless-Poll-Helper":"true","X-Stainless-Custom-Poll-Interval":i?.pollIntervalMs?.toString()??void 0}]);for(;;){const a=await this.retrieve(n,{vector_store_id:e},{...i,headers:r}).withResponse(),u=a.data;switch(u.status){case"in_progress":let c=5e3;if(i?.pollIntervalMs)c=i.pollIntervalMs;else{const p=a.response.headers.get("openai-poll-after-ms");if(p){const d=parseInt(p);isNaN(d)||(c=d)}}await Bu(c);break;case"failed":case"completed":return u}}}async upload(e,n,i){const r=await this._client.files.create({file:n,purpose:"assistants"},i);return this.create(e,{file_id:r.id},i)}async uploadAndPoll(e,n,i){const r=await this.upload(e,n,i);return await this.poll(e,r.id,i)}content(e,n,i){const{vector_store_id:r}=n;return this._client.getAPIList(oe`/vector_stores/${r}/files/${e}/content`,_p,{...i,headers:he([{"OpenAI-Beta":"assistants=v2"},i?.headers])})}}class Tp extends ye{constructor(){super(...arguments),this.files=new AI(this._client),this.fileBatches=new TI(this._client)}create(e,n){return this._client.post("/vector_stores",{body:e,...n,headers:he([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}retrieve(e,n){return this._client.get(oe`/vector_stores/${e}`,{...n,headers:he([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}update(e,n,i){return this._client.post(oe`/vector_stores/${e}`,{body:n,...i,headers:he([{"OpenAI-Beta":"assistants=v2"},i?.headers])})}list(e={},n){return this._client.getAPIList("/vector_stores",vt,{query:e,...n,headers:he([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}delete(e,n){return this._client.delete(oe`/vector_stores/${e}`,{...n,headers:he([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}search(e,n,i){return this._client.getAPIList(oe`/vector_stores/${e}/search`,_p,{body:n,method:"post",...i,headers:he([{"OpenAI-Beta":"assistants=v2"},i?.headers])})}}Tp.Files=AI;Tp.FileBatches=TI;class xI extends ye{create(e,n){return this._client.post("/videos",UT({body:e,...n},this._client))}retrieve(e,n){return this._client.get(oe`/videos/${e}`,n)}list(e={},n){return this._client.getAPIList("/videos",Id,{query:e,...n})}delete(e,n){return this._client.delete(oe`/videos/${e}`,n)}downloadContent(e,n={},i){return this._client.get(oe`/videos/${e}/content`,{query:n,...i,headers:he([{Accept:"application/binary"},i?.headers]),__binaryResponse:!0})}remix(e,n,i){return this._client.post(oe`/videos/${e}/remix`,UT({body:n,...i},this._client))}}var ra,RI,sd;class MI extends ye{constructor(){super(...arguments),ra.add(this)}async unwrap(e,n,i=this._client.webhookSecret,r=300){return await this.verifySignature(e,n,i,r),JSON.parse(e)}async verifySignature(e,n,i=this._client.webhookSecret,r=300){if(typeof crypto>"u"||typeof crypto.subtle.importKey!="function"||typeof crypto.subtle.verify!="function")throw new Error("Webhook signature verification is only supported when the `crypto` global is defined");V(this,ra,"m",RI).call(this,i);const a=he([n]).values,u=V(this,ra,"m",sd).call(this,a,"webhook-signature"),c=V(this,ra,"m",sd).call(this,a,"webhook-timestamp"),p=V(this,ra,"m",sd).call(this,a,"webhook-id"),d=parseInt(c,10);if(isNaN(d))throw new Vl("Invalid webhook timestamp format");const m=Math.floor(Date.now()/1e3);if(m-d>r)throw new Vl("Webhook timestamp is too old");if(d>m+r)throw new Vl("Webhook timestamp is too new");const y=u.split(" ").map(A=>A.startsWith("v1,")?A.substring(3):A),S=i.startsWith("whsec_")?Buffer.from(i.replace("whsec_",""),"base64"):Buffer.from(i,"utf-8"),b=p?`${p}.${c}.${e}`:`${c}.${e}`,T=await crypto.subtle.importKey("raw",S,{name:"HMAC",hash:"SHA-256"},!1,["verify"]);for(const A of y)try{const x=Buffer.from(A,"base64");if(await crypto.subtle.verify("HMAC",T,x,new TextEncoder().encode(b)))return}catch{continue}throw new Vl("The given webhook signature does not match the expected signature")}}ra=new WeakSet,RI=function(e){if(typeof e!="string"||e.length===0)throw new Error("The webhook secret must either be set using the env var, OPENAI_WEBHOOK_SECRET, on the client class, OpenAI({ webhookSecret: '123' }), or passed to this function")},sd=function(e,n){if(!e)throw new Error("Headers are required");const i=e.get(n);if(i==null)throw new Error(`Missing required header: ${n}`);return i};var Jv,h_,ad,NI;class Ie{constructor({baseURL:e=Xs("OPENAI_BASE_URL"),apiKey:n=Xs("OPENAI_API_KEY"),organization:i=Xs("OPENAI_ORG_ID")??null,project:r=Xs("OPENAI_PROJECT_ID")??null,webhookSecret:a=Xs("OPENAI_WEBHOOK_SECRET")??null,...u}={}){if(Jv.add(this),ad.set(this,void 0),this.completions=new rI(this),this.chat=new t_(this),this.embeddings=new lI(this),this.files=new cI(this),this.images=new gI(this),this.audio=new $u(this),this.moderations=new yI(this),this.models=new vI(this),this.fineTuning=new Pa(this),this.graders=new f_(this),this.vectorStores=new Tp(this),this.webhooks=new MI(this),this.beta=new Oa(this),this.batches=new WN(this),this.uploads=new p_(this),this.responses=new Cp(this),this.realtime=new wp(this),this.conversations=new r_(this),this.evals=new a_(this),this.containers=new o_(this),this.videos=new xI(this),n===void 0)throw new Se("Missing credentials. Please pass an `apiKey`, or set the `OPENAI_API_KEY` environment variable.");const c={apiKey:n,organization:i,project:r,webhookSecret:a,...u,baseURL:e||"https://api.openai.com/v1"};if(!c.dangerouslyAllowBrowser&&j3())throw new Se(`It looks like you're running in a browser-like environment.

This is disabled by default, as it risks exposing your secret API credentials to attackers.
If you understand the risks and have appropriate mitigations in place,
you can set the \`dangerouslyAllowBrowser\` option to \`true\`, e.g.,

new OpenAI({ apiKey, dangerouslyAllowBrowser: true });

https://help.openai.com/en/articles/5112595-best-practices-for-api-key-safety
`);this.baseURL=c.baseURL,this.timeout=c.timeout??h_.DEFAULT_TIMEOUT,this.logger=c.logger??console;const p="warn";this.logLevel=p,this.logLevel=kT(c.logLevel,"ClientOptions.logLevel",this)??kT(Xs("OPENAI_LOG"),"process.env['OPENAI_LOG']",this)??p,this.fetchOptions=c.fetchOptions,this.maxRetries=c.maxRetries??2,this.fetch=c.fetch??Z3(),Ce(this,ad,t4),this._options=c,this.apiKey=typeof n=="string"?n:"Missing Key",this.organization=i,this.project=r,this.webhookSecret=a}withOptions(e){return new this.constructor({...this._options,baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,organization:this.organization,project:this.project,webhookSecret:this.webhookSecret,...e})}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:e,nulls:n}){}async authHeaders(e){return he([{Authorization:`Bearer ${this.apiKey}`}])}stringifyQuery(e){return a4(e,{arrayFormat:"brackets"})}getUserAgent(){return`${this.constructor.name}/JS ${ia}`}defaultIdempotencyKey(){return`stainless-node-retry-${ZM()}`}makeStatusError(e,n,i,r){return kt.generate(e,n,i,r)}async _callApiKey(){const e=this._options.apiKey;if(typeof e!="function")return!1;let n;try{n=await e()}catch(i){throw i instanceof Se?i:new Se(`Failed to get token from 'apiKey' function: ${i.message}`,{cause:i})}if(typeof n!="string"||!n)throw new Se(`Expected 'apiKey' function argument to return a string but it returned ${n}`);return this.apiKey=n,!0}buildURL(e,n,i){const r=!V(this,Jv,"m",NI).call(this)&&i||this.baseURL,a=V3(e)?new URL(e):new URL(r+(r.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),u=this.defaultQuery();return z3(u)||(n={...u,...n}),typeof n=="object"&&n&&!Array.isArray(n)&&(a.search=this.stringifyQuery(n)),a.toString()}async prepareOptions(e){await this._callApiKey()}async prepareRequest(e,{url:n,options:i}){}get(e,n){return this.methodRequest("get",e,n)}post(e,n){return this.methodRequest("post",e,n)}patch(e,n){return this.methodRequest("patch",e,n)}put(e,n){return this.methodRequest("put",e,n)}delete(e,n){return this.methodRequest("delete",e,n)}methodRequest(e,n,i){return this.request(Promise.resolve(i).then(r=>({method:e,path:n,...r})))}request(e,n=null){return new yp(this,this.makeRequest(e,n,void 0))}async makeRequest(e,n,i){const r=await e,a=r.maxRetries??this.maxRetries;n==null&&(n=a),await this.prepareOptions(r);const{req:u,url:c,timeout:p}=await this.buildRequest(r,{retryCount:a-n});await this.prepareRequest(u,{url:c,options:r});const d="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),m=i===void 0?"":`, retryOf: ${i}`,y=Date.now();if(Dt(this).debug(`[${d}] sending request`,Lr({retryOfRequestLogID:i,method:r.method,url:c,options:r,headers:u.headers})),r.signal?.aborted)throw new $n;const S=new AbortController,b=await this.fetchWithTimeout(c,u,p,S).catch(Pv),T=Date.now();if(b instanceof globalThis.Error){const M=`retrying, ${n} attempts remaining`;if(r.signal?.aborted)throw new $n;const I=Ov(b)||/timed? ?out/i.test(String(b)+("cause"in b?String(b.cause):""));if(n)return Dt(this).info(`[${d}] connection ${I?"timed out":"failed"} - ${M}`),Dt(this).debug(`[${d}] connection ${I?"timed out":"failed"} (${M})`,Lr({retryOfRequestLogID:i,url:c,durationMs:T-y,message:b.message})),this.retryRequest(r,n,i??d);throw Dt(this).info(`[${d}] connection ${I?"timed out":"failed"} - error; no more retries left`),Dt(this).debug(`[${d}] connection ${I?"timed out":"failed"} (error; no more retries left)`,Lr({retryOfRequestLogID:i,url:c,durationMs:T-y,message:b.message})),I?new Jy:new gp({cause:b})}const A=[...b.headers.entries()].filter(([M])=>M==="x-request-id").map(([M,I])=>", "+M+": "+JSON.stringify(I)).join(""),x=`[${d}${m}${A}] ${u.method} ${c} ${b.ok?"succeeded":"failed"} with status ${b.status} in ${T-y}ms`;if(!b.ok){const M=await this.shouldRetry(b);if(n&&M){const O=`retrying, ${n} attempts remaining`;return await e4(b.body),Dt(this).info(`${x} - ${O}`),Dt(this).debug(`[${d}] response error (${O})`,Lr({retryOfRequestLogID:i,url:b.url,status:b.status,headers:b.headers,durationMs:T-y})),this.retryRequest(r,n,i??d,b.headers)}const I=M?"error; no more retries left":"error; not retryable";Dt(this).info(`${x} - ${I}`);const N=await b.text().catch(O=>Pv(O).message),D=K3(N),L=D?void 0:N;throw Dt(this).debug(`[${d}] response error (${I})`,Lr({retryOfRequestLogID:i,url:b.url,status:b.status,headers:b.headers,message:L,durationMs:Date.now()-y})),this.makeStatusError(b.status,D,L,b.headers)}return Dt(this).info(x),Dt(this).debug(`[${d}] response start`,Lr({retryOfRequestLogID:i,url:b.url,status:b.status,headers:b.headers,durationMs:T-y})),{response:b,options:r,controller:S,requestLogID:d,retryOfRequestLogID:i,startTime:y}}getAPIList(e,n,i){return this.requestAPIList(n,{method:"get",path:e,...i})}requestAPIList(e,n){const i=this.makeRequest(n,null,void 0);return new g4(this,i,e)}async fetchWithTimeout(e,n,i,r){const{signal:a,method:u,...c}=n||{};a&&a.addEventListener("abort",()=>r.abort());const p=setTimeout(()=>r.abort(),i),d=globalThis.ReadableStream&&c.body instanceof globalThis.ReadableStream||typeof c.body=="object"&&c.body!==null&&Symbol.asyncIterator in c.body,m={signal:r.signal,...d?{duplex:"half"}:{},method:"GET",...c};u&&(m.method=u.toUpperCase());try{return await this.fetch.call(void 0,e,m)}finally{clearTimeout(p)}}async shouldRetry(e){const n=e.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,n,i,r){let a;const u=r?.get("retry-after-ms");if(u){const p=parseFloat(u);Number.isNaN(p)||(a=p)}const c=r?.get("retry-after");if(c&&!a){const p=parseFloat(c);Number.isNaN(p)?a=Date.parse(c)-Date.now():a=p*1e3}if(!(a&&0<=a&&a<60*1e3)){const p=e.maxRetries??this.maxRetries;a=this.calculateDefaultRetryTimeoutMillis(n,p)}return await Bu(a),this.makeRequest(e,n-1,i)}calculateDefaultRetryTimeoutMillis(e,n){const a=n-e,u=Math.min(.5*Math.pow(2,a),8),c=1-Math.random()*.25;return u*c*1e3}async buildRequest(e,{retryCount:n=0}={}){const i={...e},{method:r,path:a,query:u,defaultBaseURL:c}=i,p=this.buildURL(a,u,c);"timeout"in i&&J3("timeout",i.timeout),i.timeout=i.timeout??this.timeout;const{bodyHeaders:d,body:m}=this.buildBody({options:i}),y=await this.buildHeaders({options:e,method:r,bodyHeaders:d,retryCount:n});return{req:{method:r,headers:y,...i.signal&&{signal:i.signal},...globalThis.ReadableStream&&m instanceof globalThis.ReadableStream&&{duplex:"half"},...m&&{body:m},...this.fetchOptions??{},...i.fetchOptions??{}},url:p,timeout:i.timeout}}async buildHeaders({options:e,method:n,bodyHeaders:i,retryCount:r}){let a={};this.idempotencyHeader&&n!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),a[this.idempotencyHeader]=e.idempotencyKey);const u=he([a,{Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(r),...e.timeout?{"X-Stainless-Timeout":String(Math.trunc(e.timeout/1e3))}:{},...Q3(),"OpenAI-Organization":this.organization,"OpenAI-Project":this.project},await this.authHeaders(e),this._options.defaultHeaders,i,e.headers]);return this.validateHeaders(u),u.values}buildBody({options:{body:e,headers:n}}){if(!e)return{bodyHeaders:void 0,body:void 0};const i=he([n]);return ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof DataView||typeof e=="string"&&i.values.has("content-type")||globalThis.Blob&&e instanceof globalThis.Blob||e instanceof FormData||e instanceof URLSearchParams||globalThis.ReadableStream&&e instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:e}:typeof e=="object"&&(Symbol.asyncIterator in e||Symbol.iterator in e&&"next"in e&&typeof e.next=="function")?{bodyHeaders:void 0,body:dN(e)}:V(this,ad,"f").call(this,{body:e,headers:i})}}h_=Ie,ad=new WeakMap,Jv=new WeakSet,NI=function(){return this.baseURL!=="https://api.openai.com/v1"};Ie.OpenAI=h_;Ie.DEFAULT_TIMEOUT=6e5;Ie.OpenAIError=Se;Ie.APIError=kt;Ie.APIConnectionError=gp;Ie.APIConnectionTimeoutError=Jy;Ie.APIUserAbortError=$n;Ie.NotFoundError=iN;Ie.ConflictError=oN;Ie.RateLimitError=sN;Ie.BadRequestError=eN;Ie.AuthenticationError=tN;Ie.InternalServerError=aN;Ie.PermissionDeniedError=nN;Ie.UnprocessableEntityError=rN;Ie.InvalidWebhookSignatureError=Vl;Ie.toFile=b4;Ie.Completions=rI;Ie.Chat=t_;Ie.Embeddings=lI;Ie.Files=cI;Ie.Images=gI;Ie.Audio=$u;Ie.Moderations=yI;Ie.Models=vI;Ie.FineTuning=Pa;Ie.Graders=f_;Ie.VectorStores=Tp;Ie.Webhooks=MI;Ie.Beta=Oa;Ie.Batches=WN;Ie.Uploads=p_;Ie.Responses=Cp;Ie.Realtime=wp;Ie.Conversations=r_;Ie.Evals=a_;Ie.Containers=o_;Ie.Videos=xI;class ZT extends Error{}const II=["gpt-4o-mini","gpt-5.1","gpt-5-mini","gpt-5-nano","gpt-5"];class Fd{static getApiKey=null;static setApiKey=null;static getClient(){const e=this.getApiKey?.()||"";if(!e)throw new ZT("No OpenAI API key set");return new Ie({apiKey:e,dangerouslyAllowBrowser:!0})}static async txt2txt(e,n,i="gpt-4o-mini",r){try{const a=this.getClient(),u=[];n&&u.push({role:"system",content:n}),e&&u.push({role:"user",content:[{type:"input_text",text:e}]}),r&&console.log(r);const c={model:i,input:u};console.log("GPT Payload:",c);const d=(await a.responses.create(c)).output_text;return console.log("GPT Response TEXT:",{text:d}),d}catch(a){if(console.error("ChatGPT Error:",a),(a?.message||"").includes("Incorrect API key provided")||a instanceof ZT){const c=window.prompt("Your OpenAI API key is missing or invalid. Please enter a valid key:");return c?this.setApiKey?.(c):console.warn("User did not provide a valid API key."),null}throw a}}}class j4{rootHandle=null;project=null;data={};constructor(e=null,n=null){this.rootHandle=e,this.project=n,Pi(this)}async load(){if(this.rootHandle)try{const e={};for await(const n of this.rootHandle.values()){if(n.kind!=="directory")continue;const i=n.name,r=n,a={};for await(const u of r.values()){if(u.kind!=="directory")continue;const c=u.name,p=u,d=[];for await(const m of p.values()){if(m.kind!=="file"||!m.name.match(/\.(png|jpg|jpeg|webp|gif)$/i))continue;const y=m,S=`${i}/${c}/${y.name}`;d.push(new Y4(y,p,S,this))}a[c]=d}e[i]=a}Te(()=>{this.data=e})}catch(e){console.error("Error loading artbook:",e),Te(()=>{this.data={}})}}getTag(e){if(!e)return null;const n=e.split("/");if(n.length<3)return null;const[i,r,a]=n,u=this.data[i];if(!u)return null;const c=u[r];return c&&c.find(d=>d.handle.name===a)||null}log(){console.log(ir(this))}getJson(){const e={};for(const[n,i]of Object.entries(this.data)){e[n]={};for(const[r,a]of Object.entries(i))e[n][r]=a.map(u=>u.handle.name)}return e}}class Y4{handle;folder;image;artInfo=null;path;artbook;constructor(e,n,i,r=null){this.handle=e,this.folder=n,this.image=new Ni(e,this.folder),this.path=i,this.artbook=r,Pi(this)}async getArtInfo(){if(this.artInfo)return this.artInfo;try{const e=await Wr.create(this.folder,this.handle.name+".json");Te(()=>{this.artInfo=e})}catch(e){console.warn("Unable to load art info for:",this.handle.name,e)}return this.artInfo}}const Ug=24;class X4{doc;fcpxml;resources;project;spine;timelineName;constructor(e="Test RESOLVE",n=1e4){this.timelineName=e,this.doc=document.implementation.createDocument("","",null),this.fcpxml=this.doc.createElement("fcpxml"),this.fcpxml.setAttribute("version","1.10"),this.doc.appendChild(this.fcpxml),this.resources=this.doc.createElement("resources"),this.fcpxml.appendChild(this.resources);const i=this.doc.createElement("format");i.setAttribute("id","r0"),i.setAttribute("name",`FFVideoFormat1080p${Ug}`),i.setAttribute("frameDuration",`1/${Ug}s`),i.setAttribute("width","1080"),i.setAttribute("height","1920"),this.resources.appendChild(i);const r=this.doc.createElement("library");this.fcpxml.appendChild(r);const a=this.doc.createElement("event");a.setAttribute("name","Auto Import"),r.appendChild(a),this.project=this.doc.createElement("project"),this.project.setAttribute("name",this.timelineName),a.appendChild(this.project);const u=this.doc.createElement("sequence");u.setAttribute("format","r0"),u.setAttribute("duration",`${n}/${Ug}s`),u.setAttribute("tcStart","0/1s"),u.setAttribute("tcFormat","NDF"),this.project.appendChild(u),this.spine=this.doc.createElement("spine"),u.appendChild(this.spine);const c=this.doc.createElement("effect");c.setAttribute("uid",".../Generators.localized/Solids.localized/Vivid.localized/Vivid.motn"),c.setAttribute("name","Vivid"),c.setAttribute("id","r1"),this.resources.appendChild(c);const p=this.doc.createElement("effect");p.setAttribute("uid",".../Titles.localized/Lower Thirds.localized/Basic Lower Third.localized/Basic Lower Third.moti"),p.setAttribute("name","Basic Title"),p.setAttribute("id","r2"),this.resources.appendChild(p)}addAsset(e,n){const i=this.doc.createElement("asset");i.setAttribute("src",`file://localhost/${e.replace(/\\/g,"/")}`),i.setAttribute("name",n);const a=this.resources.children.length;return i.setAttribute("id",`r${a}`),this.resources.appendChild(i),i.getAttribute("id")}appendClip(e,n,i,r,a=0){const u=this.doc.createElement("video");u.setAttribute("start","1/24s"),u.setAttribute("ref",e),u.setAttribute("name",n),u.setAttribute("enabled","1"),u.setAttribute("lane",a.toString()),u.setAttribute("duration",`${i}/1s`),u.setAttribute("offset",`${r}/1s`),this.spine.appendChild(u)}appendText(e,n,i,r=3,a="Rich"){const u=this.doc.createElement("title");u.setAttribute("start","1/24s"),u.setAttribute("ref","r2"),u.setAttribute("name",a),u.setAttribute("lane",r.toString()),u.setAttribute("offset",`${i}/1s`),u.setAttribute("duration",`${n}/1s`),u.setAttribute("enabled","1");const c=this.doc.createElement("text");c.setAttribute("roll-up-height","0");const p=this.doc.createElement("text-style");p.setAttribute("ref","ts0"),p.textContent=e,c.appendChild(p),u.appendChild(c);const d=this.doc.createElement("text-style-def");d.setAttribute("id","ts0");const m=this.doc.createElement("text-style");m.setAttribute("fontSize","32"),m.setAttribute("italic","0"),m.setAttribute("fontColor","1 1 1 1"),m.setAttribute("bold","1"),m.setAttribute("lineSpacing","0"),m.setAttribute("font","Open Sans"),m.setAttribute("alignment","center"),m.setAttribute("strokeWidth","0"),m.setAttribute("strokeColor","0 0 0 1"),d.appendChild(m),u.appendChild(d);const y=this.doc.createElement("adjust-transform");y.setAttribute("scale","1 1"),y.setAttribute("anchor","0 0"),y.setAttribute("position","0 1"),u.appendChild(y),this.spine.appendChild(u)}getXmlString(){let n=new XMLSerializer().serializeToString(this.doc);return n=`<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE fcpxml>
`+n,n}log(){const n=/(>)(<)(\/*)/g;let i=this.getXmlString().replace(n,`$1\r
$2$3`),r=0;const a=i.split(`\r
`).map(u=>{let c="";u.match(/<\/\w/)&&(r-=1);for(let p=0;p<r;p++)c+="  ";return u.match(/<[^!?].*>[^<]*$/)&&(r+=1),c+u}).join(`\r
`);console.log(a)}async save(e){try{const i=await(await e.getFileHandle(this.timelineName+".xml",{create:!0})).createWritable();await i.write(this.getXmlString()),await i.close()}catch(n){console.error("Failed to save file",n)}}}const W4={tags:[],shotsjson:"",script:"",split_shots_prompt:{preset:"split_shots"}};class eA{folder;sceneJson=null;shots=[];project;is_generating_shotsjson=!1;is_generating_tags=!1;is_generating_all_shot_images=!1;split_shots_prompt=null;path="";constructor(e,n){this.folder=e,this.project=n,this.path="/SCENES/"+e.name,Pi(this)}async load(){try{this.sceneJson=await Wr.create(this.folder,"sceneinfo.json",W4),this.shots=[];for await(const e of this.folder.values())if(e.kind==="directory"){const n=new CT(e,this);await n.load(),this.shots.push(n)}}catch(e){console.error("Error loading scene:",e),this.sceneJson=null,this.shots=[]}}removeTag(e){this.sceneJson?.data?.tags&&(this.sceneJson.data.tags=this.sceneJson.data.tags.filter(n=>n!==e),this.sceneJson.save())}async delete(){if(!this.project?.rootDirHandle){console.error("Cannot delete scene: project root not set");return}try{await(await this.project.rootDirHandle.getDirectoryHandle("SCENES")).removeEntry(this.folder.name,{recursive:!0}),Te(()=>{this.project&&(this.project.scenes=this.project.scenes.filter(n=>n!==this))})}catch(e){console.error("Failed to delete scene:",e)}}async createShot(e){if(!this.folder)return console.error("No scene folder available"),null;const n=this.shots.find(i=>i.folder.name===e);if(n)return n;try{const i=await this.folder.getDirectoryHandle(e,{create:!0}),r=new CT(i,this);return await r.load(),Te(()=>{const a=this.shots.findIndex(u=>u.folder.name.localeCompare(e)>0);a===-1?this.shots.push(r):this.shots.splice(a,0,r)}),r}catch(i){return console.error("Failed to create shot:",i),null}}get finishedShotsNum(){return this.shots.filter(e=>e.shotJson?.data?.finished).length}async generateShotsJson(){if(!this.sceneJson?.data?.script)return null;Te(()=>{this.is_generating_shotsjson=!0});const e=this.sceneJson.data.script,n=`
${this.project.workflows.split_scene_into_shots.prompt}

${this.sceneJson.data.split_prompt}

SCRIPT:
${e}
`,i=this.project.projinfo?.getField("workflows/split_scene_into_shots/system_message");try{return await Fd.txt2txt(n,i,this.project?.projinfo?.getField("workflows/split_scene_into_shots/model"))}catch(r){return console.error("Error generating shots JSON:",r),null}finally{Te(()=>{this.is_generating_shotsjson=!1})}}async createShotsFromShotsJson(){if(!this.sceneJson?.data?.shotsjson){console.warn("No shots JSON found in scene.");return}let e;try{e=JSON.parse(this.sceneJson.data.shotsjson)}catch(n){console.error("Invalid shots JSON:",n),alert("Error: The shots JSON is invalid. Please check the format.");return}for(const n of Object.keys(e)){const i=e[n];if(!i||typeof i!="object"){console.warn(`Skipping invalid shot data for key: ${n}`);continue}try{const r=await this.createShot(n);if(!r){console.error(`Failed to create shot ${n}`);continue}r.shotJson&&(Object.assign(r.shotJson.data,i),await r.shotJson.save())}catch(r){console.error(`Error creating shot ${n}:`,r)}}}log(){console.log(ir(this))}getTags(){if(!this.sceneJson?.data?.tags||!this.project?.artbook)return[];const e=[];for(const n of this.sceneJson.data.tags){const i=this.project.artbook.getTag(n);i&&e.push(i)}return e}get tags(){return this.getTags()}async generateTags(){Te(()=>{this.is_generating_tags=!0});const e=`
${this.project?.projinfo?.data?.generate_tags_prompt}

SCRIPT:
${this.sceneJson?.data.script}

SHOTS JSON:
${this.sceneJson?.data.shotsjson}

REFS DICTIONARY:
${JSON.stringify(this.project?.artbook?.getJson(),null,2)}

`,n="You are a helpful assistant. Do not write explanations. ";try{const i=await Fd.txt2txt(e,n,this.project?.projinfo?.data.gpt_model);for(const r of i?.split(`
`)||[]){const a=r.trim();a&&(console.log("Adding Tag: ",a),this.addTag(a))}return i}catch(i){return console.error("Error generating tags:",i),null}finally{Te(()=>{this.is_generating_tags=!1})}}addTag(e){Te(()=>{this.sceneJson?.data.tags.includes(e)||(this.project?.artbook?.getTag(e)?(this.sceneJson?.data.tags.push(e),this.sceneJson?.save()):console.log("Tag not found: ",e))})}async generateAllShotImages(){Te(()=>{this.is_generating_all_shot_images=!0});const e=this.shots.filter(n=>!n.srcImage).map(n=>n.GenerateImage());await Promise.all(e),Te(()=>{this.is_generating_all_shot_images=!1})}async createResolveXML(){const e=new X4(this.folder.name);let n=1e3;for(const i of this.shots){let r="r1";if(i.srcImage){const u=this.project.projinfo?.getField("project_path")+i.srcImage.path;r=e.addAsset(u,i.folder.name)}if(i.outVideo){const u=this.project.projinfo?.getField("project_path")+i.outVideo.path,c=e.addAsset(u,i.folder.name);e.appendClip(c,i.folder.name,5,n,1)}e.appendClip(r,i.folder.name,5,n),e.appendText(this.folder.name+" "+i.folder.name,5,n),n+=5}e.log(),e.save(this.project.timelinesDirHandle)}}const Kv=(t,e)=>e.some(n=>t instanceof n);let tA,nA;function Q4(){return tA||(tA=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Z4(){return nA||(nA=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const jv=new WeakMap,Bg=new WeakMap,Ap=new WeakMap;function e6(t){const e=new Promise((n,i)=>{const r=()=>{t.removeEventListener("success",a),t.removeEventListener("error",u)},a=()=>{n(Gr(t.result)),r()},u=()=>{i(t.error),r()};t.addEventListener("success",a),t.addEventListener("error",u)});return Ap.set(e,t),e}function t6(t){if(jv.has(t))return;const e=new Promise((n,i)=>{const r=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",u),t.removeEventListener("abort",u)},a=()=>{n(),r()},u=()=>{i(t.error||new DOMException("AbortError","AbortError")),r()};t.addEventListener("complete",a),t.addEventListener("error",u),t.addEventListener("abort",u)});jv.set(t,e)}let Yv={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return jv.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Gr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function DI(t){Yv=t(Yv)}function n6(t){return Z4().includes(t)?function(...e){return t.apply(Xv(this),e),Gr(this.request)}:function(...e){return Gr(t.apply(Xv(this),e))}}function i6(t){return typeof t=="function"?n6(t):(t instanceof IDBTransaction&&t6(t),Kv(t,Q4())?new Proxy(t,Yv):t)}function Gr(t){if(t instanceof IDBRequest)return e6(t);if(Bg.has(t))return Bg.get(t);const e=i6(t);return e!==t&&(Bg.set(t,e),Ap.set(e,t)),e}const Xv=t=>Ap.get(t);function o6(t,e,{blocked:n,upgrade:i,blocking:r,terminated:a}={}){const u=indexedDB.open(t,e),c=Gr(u);return i&&u.addEventListener("upgradeneeded",p=>{i(Gr(u.result),p.oldVersion,p.newVersion,Gr(u.transaction),p)}),n&&u.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),c.then(p=>{a&&p.addEventListener("close",()=>a()),r&&p.addEventListener("versionchange",d=>r(d.oldVersion,d.newVersion,d))}).catch(()=>{}),c}const r6=["get","getKey","getAll","getAllKeys","count"],s6=["put","add","delete","clear"],Fg=new Map;function iA(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Fg.get(e))return Fg.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,r=s6.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(r||r6.includes(n)))return;const a=async function(u,...c){const p=this.transaction(u,r?"readwrite":"readonly");let d=p.store;return i&&(d=d.index(c.shift())),(await Promise.all([d[n](...c),r&&p.done]))[0]};return Fg.set(e,a),a}DI(t=>({...t,get:(e,n,i)=>iA(e,n)||t.get(e,n,i),has:(e,n)=>!!iA(e,n)||t.has(e,n)}));const a6=["continue","continuePrimaryKey","advance"],oA={},Wv=new WeakMap,OI=new WeakMap,l6={get(t,e){if(!a6.includes(e))return t[e];let n=oA[e];return n||(n=oA[e]=function(...i){Wv.set(this,OI.get(this)[e](...i))}),n}};async function*u6(...t){let e=this;if(e instanceof IDBCursor||(e=await e.openCursor(...t)),!e)return;e=e;const n=new Proxy(e,l6);for(OI.set(n,e),Ap.set(n,Xv(e));e;)yield n,e=await(Wv.get(n)||e.continue()),Wv.delete(n)}function rA(t,e){return e===Symbol.asyncIterator&&Kv(t,[IDBIndex,IDBObjectStore,IDBCursor])||e==="iterate"&&Kv(t,[IDBIndex,IDBObjectStore])}DI(t=>({...t,get(e,n,i){return rA(e,n)?u6:t.get(e,n,i)},has(e,n){return rA(e,n)||t.has(e,n)}}));const c6="ShotMasterRE",Uf="settings";class f6{db=null;data={id:"settings",lastOpenedFolder:null,recentFolders:[],api_keys:{}};constructor(){Pi(this.data)}async getDB(){return this.db?this.db:(this.db=await o6(c6,1,{upgrade(e){e.objectStoreNames.contains(Uf)||e.createObjectStore(Uf,{keyPath:"id"})}}),this.db)}async load(){const n=await(await this.getDB()).get(Uf,"settings");return n&&Te(()=>{Object.assign(this.data,n)}),this.data}async save(){const e=await this.getDB(),n=ir(this.data);await e.put(Uf,n)}async update(e){Te(()=>e(this.data)),await this.save()}}class d6{fileHandle;text="";scenes=new Map;project=null;constructor(e,n=null){this.fileHandle=e,this.project=n,Pi(this,{},{autoBind:!0})}async load(){const e=await this.fileHandle.getFile();this.text=(await e.text()).replace(/\r\n/g,`
`),this.splitIntoScenes()}async save(){const e=await this.fileHandle.createWritable();await e.write(this.text),await e.close()}setText(e){this.text=e,this.splitIntoScenes()}splitIntoScenes(){this.scenes.clear();const e=/^SC_[^\n]{1,32}$/gm,n=[...this.text.matchAll(e)];if(n.length===0){this.scenes.set("",this.text);return}for(let i=0;i<n.length;i++){const r=n[i][0],a=n[i].index;if(i===0&&a>0){const p=this.text.slice(0,a);this.scenes.set("",p)}const u=i+1<n.length?n[i+1].index:this.text.length,c=this.text.slice(a,u);this.scenes.set(r,c)}}get sortedSceneKeys(){return Array.from(this.scenes.keys()).sort((e,n)=>e.localeCompare(n))}joinScenes(){let e="";for(const n of this.sortedSceneKeys)e+=this.scenes.get(n);return e}setSceneText(e,n){this.scenes.set(e,n),this.text=this.joinScenes(),this.splitIntoScenes()}async createScenes(){if(!this.project){console.error("Script has no project reference");return}for(const e of this.sortedSceneKeys){if(e==="")continue;const n=this.scenes.get(e)??"";try{const i=await this.project.createScene(e);if(!i){console.error(`Failed to create scene ${e}`);continue}i.sceneJson&&(i.sceneJson.data.script=n,await i.sceneJson.save())}catch(i){console.error(`Error creating scene ${e}:`,i)}}}}const p6={gpt_model:"gpt-4o-mini",describe_prompt:"        . ",generate_tags_prompt:`
     (SCRIPT)     (SHOTS JSON)        REFS DICTIONARY     .

     ,        ,      :
  ENV/ROOM1/Night.png
  CHAR/VICTOR/Portrait.png


  `,split_shot_prompt:`
       ,            json,     json   :
{
  "SHOT_010" : 
    {
    "prompt" : "     ", 
    "camera" : "focal length, shot type", 
    "action_description" : "     ", 
    },

}`,prompt_presets:{split_shots:{model:"gpt-4o",prompt:`
       ,            json,     json   :
{
  "SHOT_010" : 
    {
    "prompt" : "     ", 
    "camera" : "focal length, shot type", 
    "action_description" : "     ", 
    },

}`,system_message:"You are a helpful assistant. Always respond using ONLY valid JSON. Do not write explanations. Do not wrap the JSON in backticks. The entire response must be a valid JSON object."},generate_tags:{model:"gpt-4o",prompt:"Generate Tags ",system_message:"You are a tagger "}},workflows:{generate_shot_image:{model:"gemini-2.5-flash-image"},split_scene_into_shots:{model:"gpt-4o-mini",prompt:`
       ,            json,     json   :
{
  "SHOT_010" : 
    {
    "prompt" : "     ", 
    "camera" : "focal length, shot type", 
    "action_description" : "     ", 
    },

}`,system_message:"You are a helpful assistant. Always respond using ONLY valid JSON. Do not write explanations. Do not wrap the JSON in backticks. The entire response must be a valid JSON object."},generate_video_kling:{model:Ye.options.img2video.model.v2_6,mode:Ye.options.img2video.mode.std,duration:Ye.options.img2video.duration.five},kling_motion_control:{mode:Ye.options.motion_control.mode.std,character_orientation:Ye.options.motion_control.character_orientation.image,keep_original_sound:Ye.options.motion_control.keep_original_sound.no}}};class h6{rootDirHandle=null;scenes=[];artbook=null;script=null;userSettingsDB=new f6;projinfo=null;currentView={type:"none"};selectedScene=null;timelinesDirHandle=null;constructor(e=null){this.rootDirHandle=e,Pi(this)}async loadFromFolder(e){e&&(this.rootDirHandle=e,this.timelinesDirHandle=await this.rootDirHandle.getDirectoryHandle("Timelines",{create:!0}),Te(async()=>{this.userSettingsDB.data.lastOpenedFolder=e,(await Promise.all(this.userSettingsDB.data.recentFolders.map(async i=>{try{return await i.isSameEntry(e)}catch{return!1}}))).includes(!0)||(this.userSettingsDB.data.recentFolders.push(e),this.userSettingsDB.data.recentFolders=this.userSettingsDB.data.recentFolders.slice(-5)),await this.userSettingsDB.save(),this.projinfo=await Wr.create(this.rootDirHandle,"projinfo.json",p6)}),await Promise.all([this.loadScenes(),this.loadArtbook(),this.loadScript()]))}async loadScenes(){if(this.rootDirHandle)try{const e=await this.rootDirHandle.getDirectoryHandle("SCENES",{create:!0}),n=[];for await(const i of e.values())if(i.kind==="directory"){const r=new eA(i,this);await r.load(),n.push(r)}Te(()=>{this.scenes=n})}catch(e){console.error("Error loading scenes:",e),Te(()=>{this.scenes=[]})}}async loadArtbook(){if(this.rootDirHandle)try{const e=await this.rootDirHandle.getDirectoryHandle("REFS",{create:!0}),n=new j4(e,this);await n.load(),Te(()=>{this.artbook=n})}catch(e){console.error("Error loading artbook:",e),Te(()=>{this.artbook=null})}}async loadScript(){if(this.rootDirHandle)try{const e=await this.rootDirHandle.getFileHandle("script.txt",{create:!0}),n=new d6(e,this);await n.load(),Te(()=>{this.script=n})}catch(e){console.error("Error loading script:",e),Te(()=>{this.script=null})}}async loadDB(){await this.userSettingsDB.load(),ti.getApiKey=()=>this.userSettingsDB.data.api_keys.Google_API_KEY||null,ti.setApiKey=async e=>{await this.userSettingsDB.update(n=>{n.api_keys.Google_API_KEY=e})},Fd.getApiKey=()=>this.userSettingsDB.data.api_keys.GPT_API_KEY||null,Fd.setApiKey=async e=>{await this.userSettingsDB.update(n=>{n.api_keys.GPT_API_KEY=e})},Ye.getKeysDict=()=>({accessKey:this.userSettingsDB.data.api_keys.Kling_Acess_Key,secretKey:this.userSettingsDB.data.api_keys.Kling_Secret_Key})}async createScene(e){if(!this.rootDirHandle)return console.error("No project folder open"),null;const n=this.scenes.find(i=>i.folder.name===e);if(n)return n;try{const r=await(await this.rootDirHandle.getDirectoryHandle("SCENES",{create:!0})).getDirectoryHandle(e,{create:!0}),a=new eA(r,this);return await a.load(),Te(()=>{const u=this.scenes.findIndex(c=>c.folder.name.localeCompare(a.folder.name)>0);u===-1?this.scenes.push(a):this.scenes.splice(u,0,a)}),a}catch(i){return console.error("Failed to create scene:",i),null}}log(){console.log(ir(this))}setView(e,n=null){this.currentView=e,this.selectedScene=n}get promptPresets(){return this.projinfo?this.projinfo.data.prompt_presets:{}}savePromptPreset(e){Te(()=>{this.projinfo&&(this.projinfo.data.prompt_presets[e.preset]=e,this.projinfo?.save())})}get workflows(){return this.projinfo?.data.workflows}updateWorkflow(e,n,i){Te(()=>{this.workflows[e]||(this.workflows[e]={}),this.workflows[e][n]=i,this.projinfo?.save()})}download_asset(e,n){const i=document.createElement("a");i.href=e,i.download=n,document.body.appendChild(i),i.click(),document.body.removeChild(i)}}const m6=({onOpenFolder:t,recentFolders:e,onOpenRecent:n,project:i})=>{const r=[{name:"Open",onClick:t},{name:"Recent",subItems:e.length?e.map(c=>({name:c.name,onClick:()=>n(c)})):[{name:"No Recent"}]}],a=[{name:"Undo"},{name:"Redo"}],u=[{name:"About"}];return E.jsx(Vw,{expand:!0,children:E.jsxs(nR,{fluid:!0,children:[E.jsx(Vw.Brand,{children:"ShotMasterRT"}),E.jsxs(gF,{className:"me-auto",style:{userSelect:"none"},children:[E.jsx(js,{title:"File",items:r}),E.jsx(js,{title:"Edit",items:a}),E.jsx(js,{title:"Help",items:u}),E.jsx(js,{title:"Settings",onClick:()=>i.setView({type:"settings"})}),E.jsx(js,{title:"Script",onClick:()=>i.setView({type:"script"})}),E.jsx(js,{title:"Artbook",onClick:()=>i.setView({type:"artbook"})})]})]})})},g6=at(({scene:t})=>{const e=()=>{!t||!t.sceneJson||t.project?.setView({type:"scene"},t)},n=t.project?.selectedScene===t;return E.jsxs("li",{className:"d-flex justify-content-between align-items-center py-1 px-2",style:{cursor:"pointer"},onClick:e,children:[E.jsx("span",{className:n?"text-success":void 0,children:t.folder.name}),E.jsxs("span",{className:"text-muted",children:[t.finishedShotsNum," / ",t.shots.length]})]})}),ct=({onClick:t,label:e="Click",className:n=""})=>E.jsx("button",{className:`btn btn-sm btn-outline-secondary ${n}`,onClick:t,children:e}),v6=at(({project:t})=>{if(!t)return E.jsx("div",{children:"No Project Opened"});const e=async()=>{const i=prompt("Enter new scene name");i&&await t.createScene(i)},n=t.rootDirHandle?.name||"No Project Opened";return E.jsxs("div",{style:{width:"200px",minWidth:"200px",borderRight:"1px solid #ced4da",padding:"10px",display:"flex",flexDirection:"column"},children:[E.jsx("h5",{style:{flexShrink:0,marginBottom:8},children:n}),E.jsx(ct,{label:"+ Add Scene",onClick:e,className:"mb-2"}),E.jsx("ul",{className:"list-unstyled",style:{margin:0,padding:0,overflowY:"auto",maxHeight:"calc(100vh - 100px)"},children:t.scenes.map((i,r)=>E.jsx(g6,{scene:i},r))})]})});class Bf extends w.Component{constructor(e){super(e),this.state={value:e.value}}handleChange=e=>{const n=e.target.value;this.setState({value:n}),this.props.onChange(n)};render(){const{label:e}=this.props,{value:n}=this.state;return E.jsxs("div",{style:{display:"flex",alignItems:"center",marginBottom:12},children:[E.jsx("label",{style:{marginRight:8,minWidth:120},children:e}),E.jsx("input",{type:"text",value:n,onChange:this.handleChange,style:{flexGrow:1,padding:6}})]})}}const Hu=({label:t="Section",children:e,defaultCollapsed:n=!1,className:i="",headerExtra:r})=>{const[a,u]=w.useState(n);return E.jsxs("div",{className:`border rounded p-2 mb-2 ${i}`,children:[E.jsxs("div",{className:"d-flex align-items-center justify-content-between mb-0",children:[E.jsxs("div",{className:"d-flex align-items-center",children:[E.jsx("button",{className:"btn btn-sm ",onClick:()=>u(!a),children:a?"":""}),E.jsx("strong",{children:t})]}),r&&!a&&E.jsx("div",{children:r})]}),!a&&E.jsx("div",{className:"mt-2",children:e})]})},Qv=({label:t,initialText:e,onSave:n,onEdit:i,fitHeight:r=!1,headerExtra:a})=>{const[u,c]=w.useState(e),[p,d]=w.useState(e),[m,y]=w.useState(!1),[S,b]=w.useState(!1),T=w.useRef(null);w.useEffect(()=>{c(e),d(e),r&&T.current&&(T.current.style.height="auto",T.current.style.height=`${T.current.scrollHeight}px`)},[e,r]);const A=u!==p,x=N=>{c(N),i&&i(N)},M=async()=>{n&&(b(!0),await n(u),d(u),b(!1))};w.useEffect(()=>{if(!m||!A)return;const N=setTimeout(()=>M(),1e3);return()=>clearTimeout(N)},[u,m,A]),w.useEffect(()=>{r&&T.current&&(T.current.style.height="auto",T.current.style.height=`${T.current.scrollHeight}px`)},[u,r]);const I=E.jsxs("div",{className:"d-flex align-items-center gap-2",children:[a&&E.jsx(E.Fragment,{children:a}),E.jsx("button",{className:"btn btn-primary btn-sm",disabled:S||!A||!n,onClick:M,children:S?"Saving...":A?"Save*":"Save"}),E.jsxs("label",{className:"d-flex align-items-center gap-1 mb-0",children:[E.jsx("input",{type:"checkbox",checked:m,onChange:N=>y(N.target.checked)}),"Auto-save"]})]});return E.jsx(Hu,{label:t,headerExtra:I,children:E.jsx("textarea",{ref:T,className:"form-control",style:{fontFamily:"monospace",overflowY:"auto",maxHeight:"800px"},value:u,onChange:N=>x(N.target.value)})})},Pt=at(({localJson:t,field:e,fitHeight:n=!1,headerExtra:i})=>{if(!t)return;const r=async a=>{await t.updateField(e,a)};return E.jsx(Qv,{label:e,initialText:t.getField(e)??"",onSave:r,fitHeight:n,headerExtra:i})}),Ca=({tabs:t})=>{const e=Object.keys(t),[n,i]=w.useState(e[0]);return E.jsxs("div",{children:[E.jsx("ul",{className:"nav nav-tabs",children:e.map(r=>E.jsx("li",{className:"nav-item",children:E.jsx("button",{className:`nav-link ${n===r?"active":""}`,onClick:()=>i(r),children:r})},r))}),E.jsx("div",{className:"tab-content p-3 border border-top-0",children:E.jsx("div",{className:"tab-pane fade show active",children:t[n]})})]})};function PI({items:t,currentItem:e,onPicked:n,labelRenderer:i,className:r=""}){return E.jsxs(Cf,{className:r,children:[E.jsx(Cf.Toggle,{variant:"outline-secondary",size:"sm",children:i?i(e):String(e)}),E.jsx(Cf.Menu,{children:t.map((a,u)=>E.jsx(Cf.Item,{onClick:()=>n(a),children:i?i(a):String(a)},u))})]})}const y6=at(({project:t})=>{const{userSettingsDB:e}=t;if(!e)return null;const n=t.projinfo?{"  ":E.jsx(Pt,{localJson:t.projinfo,field:"split_shot_prompt",fitHeight:!0})," ":E.jsx(Pt,{localJson:t.projinfo,field:"generate_tags_prompt",fitHeight:!0})}:{};return E.jsxs("div",{style:{padding:20},children:[E.jsx("h3",{children:"API Keys"}),E.jsx(ct,{onClick:()=>{t.log()},label:"LOG Project"}),E.jsx(ct,{onClick:()=>{t.download_asset("assets/server.exe","server.exe")},label:"Download Server"}),E.jsx(Pt,{localJson:t.projinfo,field:"project_path",fitHeight:!0}),E.jsx(Bf,{label:"GPT API Key",value:e.data.api_keys.GPT_API_KEY||"",onChange:async i=>{await e.update(r=>{r.api_keys.GPT_API_KEY=i})}}),E.jsx(Bf,{label:"Google API Key",value:e.data.api_keys.Google_API_KEY||"",onChange:async i=>{await e.update(r=>{r.api_keys.Google_API_KEY=i})}}),E.jsx(Bf,{label:"Kling Acess Key",value:e.data.api_keys.Kling_Acess_Key||"",onChange:async i=>{await e.update(r=>{r.api_keys.Kling_Acess_Key=i})}}),E.jsx(Bf,{label:"Kling Secret Key",value:e.data.api_keys.Kling_Secret_Key||"",onChange:async i=>{await e.update(r=>{r.api_keys.Kling_Secret_Key=i})}}),E.jsx("div",{children:E.jsx(PI,{items:II,currentItem:t.projinfo?.data.gpt_model,onPicked:i=>{t.projinfo?.updateField("gpt_model",i)}})}),E.jsx("h2",{children:"Prompts"}),Object.keys(n).length>0&&E.jsx(Ca,{tabs:n})]})}),_6=at(({project:t})=>{if(!t.script)return E.jsx("div",{children:"No script loaded in project."});const e=async r=>{t.script.setText(r),await t.script.save()},n={};for(const r of t.script.sortedSceneKeys)n[r||"Intro"]=E.jsx(Qv,{label:r||"Intro",initialText:t.script.scenes.get(r),onSave:async a=>{t.script.setSceneText(r,a),await t.script.save()},fitHeight:!0});const i=async()=>{try{await t.script.createScenes(),alert("Scenes created successfully!")}catch(r){console.error("Error creating scenes:",r),alert("Failed to create scenes. See console for details.")}};return E.jsxs("div",{style:{padding:"1rem"},children:[E.jsx("h4",{children:"Script"}),E.jsx(ct,{label:"Create Scenes from Script",onClick:i,className:"mb-2"}),E.jsx(Ca,{tabs:{"Full Script":E.jsx(Qv,{label:"Full Script",initialText:t.script.text,onSave:e,fitHeight:!0}),Scenes:E.jsx(Ca,{tabs:n})}})]})}),S6=at(({art:t,onClose:e})=>{const[n,i]=w.useState(null),[r,a]=w.useState(!0);w.useEffect(()=>{let c=!0,p=t;a(!0),i(null);async function d(){const m=await p.image.getUrlObject();if(!c||t!==p)return;i(m);const y=await p.getArtInfo();!c||t!==p||(p.artInfo=y,a(!1))}return d(),()=>{c=!1}},[t]);const u=t.handle.name;return r?E.jsx("div",{children:"Loading art info..."}):E.jsxs("div",{className:"art-info-card",style:{border:"1px solid #ccc",padding:"1rem",borderRadius:"8px"},children:[E.jsxs("div",{className:"card-header",style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[E.jsx("strong",{children:u}),E.jsx("button",{onClick:e,style:{cursor:"pointer",border:"none",background:"transparent",fontSize:"1.2rem"},children:""})]}),n?E.jsx("img",{src:n,className:"preview-img",style:{maxWidth:"1000px",width:"auto",maxHeight:"1000px",objectFit:"contain",borderRadius:"4px",display:"block",marginBottom:"1rem"}}):E.jsx("div",{style:{padding:"4rem",textAlign:"center"},children:E.jsx("span",{children:"Loading image..."})}),t.artInfo&&E.jsx(Pt,{localJson:t.artInfo,field:"prompt",fitHeight:!0})]})}),b6=at(({artbook:t})=>{const[e,n]=w.useState(null);if(!Object.keys(t.data).length)return E.jsx("div",{children:"No Artbook content found."});const i=({art:c})=>{const[p,d]=w.useState(null);return w.useEffect(()=>{let m=!0;return c.image.getUrlObject().then(y=>{m&&d(y)}),()=>{m=!1}},[c]),E.jsx(tR,{xs:6,md:3,lg:2,style:{marginBottom:"1rem"},children:E.jsxs(Ef,{onClick:()=>n(c),style:{cursor:"pointer"},children:[p?E.jsx(Ef.Img,{variant:"top",src:p}):E.jsx("div",{style:{padding:"2rem",textAlign:"center"},children:E.jsx(nM,{animation:"border"})}),E.jsx(Ef.Body,{children:E.jsx(Ef.Text,{style:{fontSize:"0.8rem"},children:c.handle.name})})]})})},r=(c,p)=>E.jsxs("div",{style:{marginBottom:"2rem"},children:[E.jsx("h5",{children:c}),E.jsx(tM,{children:p.map(d=>E.jsx(i,{art:d},d.handle.name))}),e&&p.includes(e)&&E.jsx("div",{style:{marginTop:"1rem"},children:E.jsx(S6,{art:e,onClose:()=>n(null)})})]},c),a=c=>E.jsxs("div",{style:{padding:"1rem"},children:[Object.entries(c).map(([p,d])=>r(p,d)),E.jsx("div",{style:{height:"500px"}})]}),u={};for(const c in t.data)u[c]=a(t.data[c]);return E.jsxs("div",{style:{padding:"1rem"},children:[E.jsx("h2",{className:"mb-3",children:"Artbook"}),E.jsx(Ca,{tabs:u})]})}),E6=at(({art:t,scene:e})=>{const[n,i]=w.useState(null);if(w.useEffect(()=>{t.getArtInfo();let a=!0;return(async()=>{const c=await t.image.getUrlObject();a&&i(c||null)})(),()=>{a=!1,t.image.revokeUrl()}},[t]),!n)return null;const r=()=>{e.removeTag(t.path)};return E.jsxs("div",{className:"d-flex align-items-center justify-content-between",children:[E.jsxs("div",{className:"d-flex align-items-center",children:[E.jsx("img",{src:n,alt:t.handle.name,style:{width:40,height:40,objectFit:"cover",marginRight:8}}),E.jsxs("div",{children:[E.jsx("div",{children:t.handle.name}),E.jsx("small",{className:"text-muted",children:t.path}),t.artInfo&&E.jsx("div",{children:E.jsx("small",{children:t.artInfo.data?.description||""})})]})]}),E.jsx(ct,{onClick:r,label:"X"})]})}),w6=({art:t,onClick:e})=>{const[n,i]=w.useState("");return w.useEffect(()=>{let r=!0;return t.image.getUrlObject().then(a=>{r&&i(a)}),()=>{r=!1,t.image.revokeUrl()}},[t]),E.jsxs("div",{className:"px-2 py-1 hover-bg-light d-flex align-items-center",style:{cursor:"pointer",gap:6},onClick:e,children:[n&&E.jsx("img",{src:n,alt:t.handle.name,style:{width:36,height:36,objectFit:"cover",borderRadius:2}}),E.jsx("span",{children:t.handle.name})]})},xp=({onClick:t,label:e="Click",className:n="",is_loading:i=!1})=>E.jsx(ct,{onClick:t,className:`${n} ${i?"disabled":""}`,label:E.jsxs("span",{className:"d-flex align-items-center justify-content-center",children:[E.jsx("span",{className:"spinner-border spinner-border-sm me-2",role:"status","aria-hidden":"true",style:{animation:i?void 0:"none",borderColor:i?void 0:"#6c757d"}}),E.jsx("span",{children:e})]})});function Fe(t,e,{checkForDefaultPrevented:n=!0}={}){return function(r){if(t?.(r),n===!1||!r.defaultPrevented)return e?.(r)}}function sA(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function Rp(...t){return e=>{let n=!1;const i=t.map(r=>{const a=sA(r,e);return!n&&typeof a=="function"&&(n=!0),a});if(n)return()=>{for(let r=0;r<i.length;r++){const a=i[r];typeof a=="function"?a():sA(t[r],null)}}}}function on(...t){return w.useCallback(Rp(...t),t)}function Gu(t,e=[]){let n=[];function i(a,u){const c=w.createContext(u),p=n.length;n=[...n,u];const d=y=>{const{scope:S,children:b,...T}=y,A=S?.[t]?.[p]||c,x=w.useMemo(()=>T,Object.values(T));return E.jsx(A.Provider,{value:x,children:b})};d.displayName=a+"Provider";function m(y,S){const b=S?.[t]?.[p]||c,T=w.useContext(b);if(T)return T;if(u!==void 0)return u;throw new Error(`\`${y}\` must be used within \`${a}\``)}return[d,m]}const r=()=>{const a=n.map(u=>w.createContext(u));return function(c){const p=c?.[t]||a;return w.useMemo(()=>({[`__scope${t}`]:{...c,[t]:p}}),[c,p])}};return r.scopeName=t,[i,C6(r,...e)]}function C6(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const i=t.map(r=>({useScope:r(),scopeName:r.scopeName}));return function(a){const u=i.reduce((c,{useScope:p,scopeName:d})=>{const y=p(a)[`__scope${d}`];return{...c,...y}},{});return w.useMemo(()=>({[`__scope${e.scopeName}`]:u}),[u])}};return n.scopeName=e.scopeName,n}var rr=globalThis?.document?w.useLayoutEffect:()=>{},T6=HA[" useInsertionEffect ".trim().toString()]||rr;function m_({prop:t,defaultProp:e,onChange:n=()=>{},caller:i}){const[r,a,u]=A6({defaultProp:e,onChange:n}),c=t!==void 0,p=c?t:r;{const m=w.useRef(t!==void 0);w.useEffect(()=>{const y=m.current;y!==c&&console.warn(`${i} is changing from ${y?"controlled":"uncontrolled"} to ${c?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),m.current=c},[c,i])}const d=w.useCallback(m=>{if(c){const y=x6(m)?m(t):m;y!==t&&u.current?.(y)}else a(m)},[c,t,a,u]);return[p,d]}function A6({defaultProp:t,onChange:e}){const[n,i]=w.useState(t),r=w.useRef(n),a=w.useRef(e);return T6(()=>{a.current=e},[e]),w.useEffect(()=>{r.current!==n&&(a.current?.(n),r.current=n)},[n,r]),[n,i,a]}function x6(t){return typeof t=="function"}function $d(t){const e=R6(t),n=w.forwardRef((i,r)=>{const{children:a,...u}=i,c=w.Children.toArray(a),p=c.find(N6);if(p){const d=p.props.children,m=c.map(y=>y===p?w.Children.count(d)>1?w.Children.only(null):w.isValidElement(d)?d.props.children:null:y);return E.jsx(e,{...u,ref:r,children:w.isValidElement(d)?w.cloneElement(d,void 0,m):null})}return E.jsx(e,{...u,ref:r,children:a})});return n.displayName=`${t}.Slot`,n}function R6(t){const e=w.forwardRef((n,i)=>{const{children:r,...a}=n;if(w.isValidElement(r)){const u=D6(r),c=I6(a,r.props);return r.type!==w.Fragment&&(c.ref=i?Rp(i,u):u),w.cloneElement(r,c)}return w.Children.count(r)>1?w.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var M6=Symbol("radix.slottable");function N6(t){return w.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===M6}function I6(t,e){const n={...e};for(const i in e){const r=t[i],a=e[i];/^on[A-Z]/.test(i)?r&&a?n[i]=(...c)=>{const p=a(...c);return r(...c),p}:r&&(n[i]=r):i==="style"?n[i]={...r,...a}:i==="className"&&(n[i]=[r,a].filter(Boolean).join(" "))}return{...t,...n}}function D6(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var O6=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],zt=O6.reduce((t,e)=>{const n=$d(`Primitive.${e}`),i=w.forwardRef((r,a)=>{const{asChild:u,...c}=r,p=u?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),E.jsx(p,{...c,ref:a})});return i.displayName=`Primitive.${e}`,{...t,[e]:i}},{});function kI(t,e){t&&ep.flushSync(()=>t.dispatchEvent(e))}function LI(t){const e=t+"CollectionProvider",[n,i]=Gu(e),[r,a]=n(e,{collectionRef:{current:null},itemMap:new Map}),u=A=>{const{scope:x,children:M}=A,I=tt.useRef(null),N=tt.useRef(new Map).current;return E.jsx(r,{scope:x,itemMap:N,collectionRef:I,children:M})};u.displayName=e;const c=t+"CollectionSlot",p=$d(c),d=tt.forwardRef((A,x)=>{const{scope:M,children:I}=A,N=a(c,M),D=on(x,N.collectionRef);return E.jsx(p,{ref:D,children:I})});d.displayName=c;const m=t+"CollectionItemSlot",y="data-radix-collection-item",S=$d(m),b=tt.forwardRef((A,x)=>{const{scope:M,children:I,...N}=A,D=tt.useRef(null),L=on(x,D),U=a(m,M);return tt.useEffect(()=>(U.itemMap.set(D,{ref:D,...N}),()=>void U.itemMap.delete(D))),E.jsx(S,{[y]:"",ref:L,children:I})});b.displayName=m;function T(A){const x=a(t+"CollectionConsumer",A);return tt.useCallback(()=>{const I=x.collectionRef.current;if(!I)return[];const N=Array.from(I.querySelectorAll(`[${y}]`));return Array.from(x.itemMap.values()).sort((U,O)=>N.indexOf(U.ref.current)-N.indexOf(O.ref.current))},[x.collectionRef,x.itemMap])}return[{Provider:u,Slot:d,ItemSlot:b},T,i]}var P6=w.createContext(void 0);function UI(t){const e=w.useContext(P6);return t||e||"ltr"}function Di(t){const e=w.useRef(t);return w.useEffect(()=>{e.current=t}),w.useMemo(()=>(...n)=>e.current?.(...n),[])}function k6(t,e=globalThis?.document){const n=Di(t);w.useEffect(()=>{const i=r=>{r.key==="Escape"&&n(r)};return e.addEventListener("keydown",i,{capture:!0}),()=>e.removeEventListener("keydown",i,{capture:!0})},[n,e])}var L6="DismissableLayer",Zv="dismissableLayer.update",U6="dismissableLayer.pointerDownOutside",B6="dismissableLayer.focusOutside",aA,BI=w.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),FI=w.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:i,onPointerDownOutside:r,onFocusOutside:a,onInteractOutside:u,onDismiss:c,...p}=t,d=w.useContext(BI),[m,y]=w.useState(null),S=m?.ownerDocument??globalThis?.document,[,b]=w.useState({}),T=on(e,O=>y(O)),A=Array.from(d.layers),[x]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),M=A.indexOf(x),I=m?A.indexOf(m):-1,N=d.layersWithOutsidePointerEventsDisabled.size>0,D=I>=M,L=H6(O=>{const q=O.target,J=[...d.branches].some(Y=>Y.contains(q));!D||J||(r?.(O),u?.(O),O.defaultPrevented||c?.())},S),U=G6(O=>{const q=O.target;[...d.branches].some(Y=>Y.contains(q))||(a?.(O),u?.(O),O.defaultPrevented||c?.())},S);return k6(O=>{I===d.layers.size-1&&(i?.(O),!O.defaultPrevented&&c&&(O.preventDefault(),c()))},S),w.useEffect(()=>{if(m)return n&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(aA=S.body.style.pointerEvents,S.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(m)),d.layers.add(m),lA(),()=>{n&&d.layersWithOutsidePointerEventsDisabled.size===1&&(S.body.style.pointerEvents=aA)}},[m,S,n,d]),w.useEffect(()=>()=>{m&&(d.layers.delete(m),d.layersWithOutsidePointerEventsDisabled.delete(m),lA())},[m,d]),w.useEffect(()=>{const O=()=>b({});return document.addEventListener(Zv,O),()=>document.removeEventListener(Zv,O)},[]),E.jsx(zt.div,{...p,ref:T,style:{pointerEvents:N?D?"auto":"none":void 0,...t.style},onFocusCapture:Fe(t.onFocusCapture,U.onFocusCapture),onBlurCapture:Fe(t.onBlurCapture,U.onBlurCapture),onPointerDownCapture:Fe(t.onPointerDownCapture,L.onPointerDownCapture)})});FI.displayName=L6;var F6="DismissableLayerBranch",$6=w.forwardRef((t,e)=>{const n=w.useContext(BI),i=w.useRef(null),r=on(e,i);return w.useEffect(()=>{const a=i.current;if(a)return n.branches.add(a),()=>{n.branches.delete(a)}},[n.branches]),E.jsx(zt.div,{...t,ref:r})});$6.displayName=F6;function H6(t,e=globalThis?.document){const n=Di(t),i=w.useRef(!1),r=w.useRef(()=>{});return w.useEffect(()=>{const a=c=>{if(c.target&&!i.current){let p=function(){$I(U6,n,d,{discrete:!0})};const d={originalEvent:c};c.pointerType==="touch"?(e.removeEventListener("click",r.current),r.current=p,e.addEventListener("click",r.current,{once:!0})):p()}else e.removeEventListener("click",r.current);i.current=!1},u=window.setTimeout(()=>{e.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(u),e.removeEventListener("pointerdown",a),e.removeEventListener("click",r.current)}},[e,n]),{onPointerDownCapture:()=>i.current=!0}}function G6(t,e=globalThis?.document){const n=Di(t),i=w.useRef(!1);return w.useEffect(()=>{const r=a=>{a.target&&!i.current&&$I(B6,n,{originalEvent:a},{discrete:!1})};return e.addEventListener("focusin",r),()=>e.removeEventListener("focusin",r)},[e,n]),{onFocusCapture:()=>i.current=!0,onBlurCapture:()=>i.current=!1}}function lA(){const t=new CustomEvent(Zv);document.dispatchEvent(t)}function $I(t,e,n,{discrete:i}){const r=n.originalEvent.target,a=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&r.addEventListener(t,e,{once:!0}),i?kI(r,a):r.dispatchEvent(a)}var $g=0;function V6(){w.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??uA()),document.body.insertAdjacentElement("beforeend",t[1]??uA()),$g++,()=>{$g===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),$g--}},[])}function uA(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Hg="focusScope.autoFocusOnMount",Gg="focusScope.autoFocusOnUnmount",cA={bubbles:!1,cancelable:!0},z6="FocusScope",HI=w.forwardRef((t,e)=>{const{loop:n=!1,trapped:i=!1,onMountAutoFocus:r,onUnmountAutoFocus:a,...u}=t,[c,p]=w.useState(null),d=Di(r),m=Di(a),y=w.useRef(null),S=on(e,A=>p(A)),b=w.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;w.useEffect(()=>{if(i){let A=function(N){if(b.paused||!c)return;const D=N.target;c.contains(D)?y.current=D:Wo(y.current,{select:!0})},x=function(N){if(b.paused||!c)return;const D=N.relatedTarget;D!==null&&(c.contains(D)||Wo(y.current,{select:!0}))},M=function(N){if(document.activeElement===document.body)for(const L of N)L.removedNodes.length>0&&Wo(c)};document.addEventListener("focusin",A),document.addEventListener("focusout",x);const I=new MutationObserver(M);return c&&I.observe(c,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",A),document.removeEventListener("focusout",x),I.disconnect()}}},[i,c,b.paused]),w.useEffect(()=>{if(c){dA.add(b);const A=document.activeElement;if(!c.contains(A)){const M=new CustomEvent(Hg,cA);c.addEventListener(Hg,d),c.dispatchEvent(M),M.defaultPrevented||(q6(X6(GI(c)),{select:!0}),document.activeElement===A&&Wo(c))}return()=>{c.removeEventListener(Hg,d),setTimeout(()=>{const M=new CustomEvent(Gg,cA);c.addEventListener(Gg,m),c.dispatchEvent(M),M.defaultPrevented||Wo(A??document.body,{select:!0}),c.removeEventListener(Gg,m),dA.remove(b)},0)}}},[c,d,m,b]);const T=w.useCallback(A=>{if(!n&&!i||b.paused)return;const x=A.key==="Tab"&&!A.altKey&&!A.ctrlKey&&!A.metaKey,M=document.activeElement;if(x&&M){const I=A.currentTarget,[N,D]=J6(I);N&&D?!A.shiftKey&&M===D?(A.preventDefault(),n&&Wo(N,{select:!0})):A.shiftKey&&M===N&&(A.preventDefault(),n&&Wo(D,{select:!0})):M===I&&A.preventDefault()}},[n,i,b.paused]);return E.jsx(zt.div,{tabIndex:-1,...u,ref:S,onKeyDown:T})});HI.displayName=z6;function q6(t,{select:e=!1}={}){const n=document.activeElement;for(const i of t)if(Wo(i,{select:e}),document.activeElement!==n)return}function J6(t){const e=GI(t),n=fA(e,t),i=fA(e.reverse(),t);return[n,i]}function GI(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:i=>{const r=i.tagName==="INPUT"&&i.type==="hidden";return i.disabled||i.hidden||r?NodeFilter.FILTER_SKIP:i.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function fA(t,e){for(const n of t)if(!K6(n,{upTo:e}))return n}function K6(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function j6(t){return t instanceof HTMLInputElement&&"select"in t}function Wo(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&j6(t)&&e&&t.select()}}var dA=Y6();function Y6(){let t=[];return{add(e){const n=t[0];e!==n&&n?.pause(),t=pA(t,e),t.unshift(e)},remove(e){t=pA(t,e),t[0]?.resume()}}}function pA(t,e){const n=[...t],i=n.indexOf(e);return i!==-1&&n.splice(i,1),n}function X6(t){return t.filter(e=>e.tagName!=="A")}var W6=HA[" useId ".trim().toString()]||(()=>{}),Q6=0;function hu(t){const[e,n]=w.useState(W6());return rr(()=>{n(i=>i??String(Q6++))},[t]),t||(e?`radix-${e}`:"")}const Z6=["top","right","bottom","left"],sr=Math.min,yn=Math.max,Hd=Math.round,Ff=Math.floor,Ii=t=>({x:t,y:t}),e5={left:"right",right:"left",bottom:"top",top:"bottom"},t5={start:"end",end:"start"};function ey(t,e,n){return yn(t,sr(e,n))}function vo(t,e){return typeof t=="function"?t(e):t}function yo(t){return t.split("-")[0]}function ka(t){return t.split("-")[1]}function g_(t){return t==="x"?"y":"x"}function v_(t){return t==="y"?"height":"width"}const n5=new Set(["top","bottom"]);function Ci(t){return n5.has(yo(t))?"y":"x"}function y_(t){return g_(Ci(t))}function i5(t,e,n){n===void 0&&(n=!1);const i=ka(t),r=y_(t),a=v_(r);let u=r==="x"?i===(n?"end":"start")?"right":"left":i==="start"?"bottom":"top";return e.reference[a]>e.floating[a]&&(u=Gd(u)),[u,Gd(u)]}function o5(t){const e=Gd(t);return[ty(t),e,ty(e)]}function ty(t){return t.replace(/start|end/g,e=>t5[e])}const hA=["left","right"],mA=["right","left"],r5=["top","bottom"],s5=["bottom","top"];function a5(t,e,n){switch(t){case"top":case"bottom":return n?e?mA:hA:e?hA:mA;case"left":case"right":return e?r5:s5;default:return[]}}function l5(t,e,n,i){const r=ka(t);let a=a5(yo(t),n==="start",i);return r&&(a=a.map(u=>u+"-"+r),e&&(a=a.concat(a.map(ty)))),a}function Gd(t){return t.replace(/left|right|bottom|top/g,e=>e5[e])}function u5(t){return{top:0,right:0,bottom:0,left:0,...t}}function VI(t){return typeof t!="number"?u5(t):{top:t,right:t,bottom:t,left:t}}function Vd(t){const{x:e,y:n,width:i,height:r}=t;return{width:i,height:r,top:n,left:e,right:e+i,bottom:n+r,x:e,y:n}}function gA(t,e,n){let{reference:i,floating:r}=t;const a=Ci(e),u=y_(e),c=v_(u),p=yo(e),d=a==="y",m=i.x+i.width/2-r.width/2,y=i.y+i.height/2-r.height/2,S=i[c]/2-r[c]/2;let b;switch(p){case"top":b={x:m,y:i.y-r.height};break;case"bottom":b={x:m,y:i.y+i.height};break;case"right":b={x:i.x+i.width,y};break;case"left":b={x:i.x-r.width,y};break;default:b={x:i.x,y:i.y}}switch(ka(e)){case"start":b[u]-=S*(n&&d?-1:1);break;case"end":b[u]+=S*(n&&d?-1:1);break}return b}const c5=async(t,e,n)=>{const{placement:i="bottom",strategy:r="absolute",middleware:a=[],platform:u}=n,c=a.filter(Boolean),p=await(u.isRTL==null?void 0:u.isRTL(e));let d=await u.getElementRects({reference:t,floating:e,strategy:r}),{x:m,y}=gA(d,i,p),S=i,b={},T=0;for(let A=0;A<c.length;A++){const{name:x,fn:M}=c[A],{x:I,y:N,data:D,reset:L}=await M({x:m,y,initialPlacement:i,placement:S,strategy:r,middlewareData:b,rects:d,platform:u,elements:{reference:t,floating:e}});m=I??m,y=N??y,b={...b,[x]:{...b[x],...D}},L&&T<=50&&(T++,typeof L=="object"&&(L.placement&&(S=L.placement),L.rects&&(d=L.rects===!0?await u.getElementRects({reference:t,floating:e,strategy:r}):L.rects),{x:m,y}=gA(d,S,p)),A=-1)}return{x:m,y,placement:S,strategy:r,middlewareData:b}};async function mu(t,e){var n;e===void 0&&(e={});const{x:i,y:r,platform:a,rects:u,elements:c,strategy:p}=t,{boundary:d="clippingAncestors",rootBoundary:m="viewport",elementContext:y="floating",altBoundary:S=!1,padding:b=0}=vo(e,t),T=VI(b),x=c[S?y==="floating"?"reference":"floating":y],M=Vd(await a.getClippingRect({element:(n=await(a.isElement==null?void 0:a.isElement(x)))==null||n?x:x.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(c.floating)),boundary:d,rootBoundary:m,strategy:p})),I=y==="floating"?{x:i,y:r,width:u.floating.width,height:u.floating.height}:u.reference,N=await(a.getOffsetParent==null?void 0:a.getOffsetParent(c.floating)),D=await(a.isElement==null?void 0:a.isElement(N))?await(a.getScale==null?void 0:a.getScale(N))||{x:1,y:1}:{x:1,y:1},L=Vd(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:I,offsetParent:N,strategy:p}):I);return{top:(M.top-L.top+T.top)/D.y,bottom:(L.bottom-M.bottom+T.bottom)/D.y,left:(M.left-L.left+T.left)/D.x,right:(L.right-M.right+T.right)/D.x}}const f5=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:i,placement:r,rects:a,platform:u,elements:c,middlewareData:p}=e,{element:d,padding:m=0}=vo(t,e)||{};if(d==null)return{};const y=VI(m),S={x:n,y:i},b=y_(r),T=v_(b),A=await u.getDimensions(d),x=b==="y",M=x?"top":"left",I=x?"bottom":"right",N=x?"clientHeight":"clientWidth",D=a.reference[T]+a.reference[b]-S[b]-a.floating[T],L=S[b]-a.reference[b],U=await(u.getOffsetParent==null?void 0:u.getOffsetParent(d));let O=U?U[N]:0;(!O||!await(u.isElement==null?void 0:u.isElement(U)))&&(O=c.floating[N]||a.floating[T]);const q=D/2-L/2,J=O/2-A[T]/2-1,Y=sr(y[M],J),W=sr(y[I],J),re=Y,ie=O-A[T]-W,ae=O/2-A[T]/2+q,de=ey(re,ae,ie),F=!p.arrow&&ka(r)!=null&&ae!==de&&a.reference[T]/2-(ae<re?Y:W)-A[T]/2<0,Q=F?ae<re?ae-re:ae-ie:0;return{[b]:S[b]+Q,data:{[b]:de,centerOffset:ae-de-Q,...F&&{alignmentOffset:Q}},reset:F}}}),d5=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,i;const{placement:r,middlewareData:a,rects:u,initialPlacement:c,platform:p,elements:d}=e,{mainAxis:m=!0,crossAxis:y=!0,fallbackPlacements:S,fallbackStrategy:b="bestFit",fallbackAxisSideDirection:T="none",flipAlignment:A=!0,...x}=vo(t,e);if((n=a.arrow)!=null&&n.alignmentOffset)return{};const M=yo(r),I=Ci(c),N=yo(c)===c,D=await(p.isRTL==null?void 0:p.isRTL(d.floating)),L=S||(N||!A?[Gd(c)]:o5(c)),U=T!=="none";!S&&U&&L.push(...l5(c,A,T,D));const O=[c,...L],q=await mu(e,x),J=[];let Y=((i=a.flip)==null?void 0:i.overflows)||[];if(m&&J.push(q[M]),y){const ae=i5(r,u,D);J.push(q[ae[0]],q[ae[1]])}if(Y=[...Y,{placement:r,overflows:J}],!J.every(ae=>ae<=0)){var W,re;const ae=(((W=a.flip)==null?void 0:W.index)||0)+1,de=O[ae];if(de&&(!(y==="alignment"?I!==Ci(de):!1)||Y.every(ee=>Ci(ee.placement)===I?ee.overflows[0]>0:!0)))return{data:{index:ae,overflows:Y},reset:{placement:de}};let F=(re=Y.filter(Q=>Q.overflows[0]<=0).sort((Q,ee)=>Q.overflows[1]-ee.overflows[1])[0])==null?void 0:re.placement;if(!F)switch(b){case"bestFit":{var ie;const Q=(ie=Y.filter(ee=>{if(U){const ne=Ci(ee.placement);return ne===I||ne==="y"}return!0}).map(ee=>[ee.placement,ee.overflows.filter(ne=>ne>0).reduce((ne,ce)=>ne+ce,0)]).sort((ee,ne)=>ee[1]-ne[1])[0])==null?void 0:ie[0];Q&&(F=Q);break}case"initialPlacement":F=c;break}if(r!==F)return{reset:{placement:F}}}return{}}}};function vA(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function yA(t){return Z6.some(e=>t[e]>=0)}const p5=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:i="referenceHidden",...r}=vo(t,e);switch(i){case"referenceHidden":{const a=await mu(e,{...r,elementContext:"reference"}),u=vA(a,n.reference);return{data:{referenceHiddenOffsets:u,referenceHidden:yA(u)}}}case"escaped":{const a=await mu(e,{...r,altBoundary:!0}),u=vA(a,n.floating);return{data:{escapedOffsets:u,escaped:yA(u)}}}default:return{}}}}},zI=new Set(["left","top"]);async function h5(t,e){const{placement:n,platform:i,elements:r}=t,a=await(i.isRTL==null?void 0:i.isRTL(r.floating)),u=yo(n),c=ka(n),p=Ci(n)==="y",d=zI.has(u)?-1:1,m=a&&p?-1:1,y=vo(e,t);let{mainAxis:S,crossAxis:b,alignmentAxis:T}=typeof y=="number"?{mainAxis:y,crossAxis:0,alignmentAxis:null}:{mainAxis:y.mainAxis||0,crossAxis:y.crossAxis||0,alignmentAxis:y.alignmentAxis};return c&&typeof T=="number"&&(b=c==="end"?T*-1:T),p?{x:b*m,y:S*d}:{x:S*d,y:b*m}}const m5=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,i;const{x:r,y:a,placement:u,middlewareData:c}=e,p=await h5(e,t);return u===((n=c.offset)==null?void 0:n.placement)&&(i=c.arrow)!=null&&i.alignmentOffset?{}:{x:r+p.x,y:a+p.y,data:{...p,placement:u}}}}},g5=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:i,placement:r}=e,{mainAxis:a=!0,crossAxis:u=!1,limiter:c={fn:x=>{let{x:M,y:I}=x;return{x:M,y:I}}},...p}=vo(t,e),d={x:n,y:i},m=await mu(e,p),y=Ci(yo(r)),S=g_(y);let b=d[S],T=d[y];if(a){const x=S==="y"?"top":"left",M=S==="y"?"bottom":"right",I=b+m[x],N=b-m[M];b=ey(I,b,N)}if(u){const x=y==="y"?"top":"left",M=y==="y"?"bottom":"right",I=T+m[x],N=T-m[M];T=ey(I,T,N)}const A=c.fn({...e,[S]:b,[y]:T});return{...A,data:{x:A.x-n,y:A.y-i,enabled:{[S]:a,[y]:u}}}}}},v5=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:i,placement:r,rects:a,middlewareData:u}=e,{offset:c=0,mainAxis:p=!0,crossAxis:d=!0}=vo(t,e),m={x:n,y:i},y=Ci(r),S=g_(y);let b=m[S],T=m[y];const A=vo(c,e),x=typeof A=="number"?{mainAxis:A,crossAxis:0}:{mainAxis:0,crossAxis:0,...A};if(p){const N=S==="y"?"height":"width",D=a.reference[S]-a.floating[N]+x.mainAxis,L=a.reference[S]+a.reference[N]-x.mainAxis;b<D?b=D:b>L&&(b=L)}if(d){var M,I;const N=S==="y"?"width":"height",D=zI.has(yo(r)),L=a.reference[y]-a.floating[N]+(D&&((M=u.offset)==null?void 0:M[y])||0)+(D?0:x.crossAxis),U=a.reference[y]+a.reference[N]+(D?0:((I=u.offset)==null?void 0:I[y])||0)-(D?x.crossAxis:0);T<L?T=L:T>U&&(T=U)}return{[S]:b,[y]:T}}}},y5=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,i;const{placement:r,rects:a,platform:u,elements:c}=e,{apply:p=()=>{},...d}=vo(t,e),m=await mu(e,d),y=yo(r),S=ka(r),b=Ci(r)==="y",{width:T,height:A}=a.floating;let x,M;y==="top"||y==="bottom"?(x=y,M=S===(await(u.isRTL==null?void 0:u.isRTL(c.floating))?"start":"end")?"left":"right"):(M=y,x=S==="end"?"top":"bottom");const I=A-m.top-m.bottom,N=T-m.left-m.right,D=sr(A-m[x],I),L=sr(T-m[M],N),U=!e.middlewareData.shift;let O=D,q=L;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(q=N),(i=e.middlewareData.shift)!=null&&i.enabled.y&&(O=I),U&&!S){const Y=yn(m.left,0),W=yn(m.right,0),re=yn(m.top,0),ie=yn(m.bottom,0);b?q=T-2*(Y!==0||W!==0?Y+W:yn(m.left,m.right)):O=A-2*(re!==0||ie!==0?re+ie:yn(m.top,m.bottom))}await p({...e,availableWidth:q,availableHeight:O});const J=await u.getDimensions(c.floating);return T!==J.width||A!==J.height?{reset:{rects:!0}}:{}}}};function Mp(){return typeof window<"u"}function La(t){return qI(t)?(t.nodeName||"").toLowerCase():"#document"}function bn(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function ki(t){var e;return(e=(qI(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function qI(t){return Mp()?t instanceof Node||t instanceof bn(t).Node:!1}function ui(t){return Mp()?t instanceof Element||t instanceof bn(t).Element:!1}function Oi(t){return Mp()?t instanceof HTMLElement||t instanceof bn(t).HTMLElement:!1}function _A(t){return!Mp()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof bn(t).ShadowRoot}const _5=new Set(["inline","contents"]);function Vu(t){const{overflow:e,overflowX:n,overflowY:i,display:r}=ci(t);return/auto|scroll|overlay|hidden|clip/.test(e+i+n)&&!_5.has(r)}const S5=new Set(["table","td","th"]);function b5(t){return S5.has(La(t))}const E5=[":popover-open",":modal"];function Np(t){return E5.some(e=>{try{return t.matches(e)}catch{return!1}})}const w5=["transform","translate","scale","rotate","perspective"],C5=["transform","translate","scale","rotate","perspective","filter"],T5=["paint","layout","strict","content"];function __(t){const e=S_(),n=ui(t)?ci(t):t;return w5.some(i=>n[i]?n[i]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||C5.some(i=>(n.willChange||"").includes(i))||T5.some(i=>(n.contain||"").includes(i))}function A5(t){let e=ar(t);for(;Oi(e)&&!Ta(e);){if(__(e))return e;if(Np(e))return null;e=ar(e)}return null}function S_(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const x5=new Set(["html","body","#document"]);function Ta(t){return x5.has(La(t))}function ci(t){return bn(t).getComputedStyle(t)}function Ip(t){return ui(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function ar(t){if(La(t)==="html")return t;const e=t.assignedSlot||t.parentNode||_A(t)&&t.host||ki(t);return _A(e)?e.host:e}function JI(t){const e=ar(t);return Ta(e)?t.ownerDocument?t.ownerDocument.body:t.body:Oi(e)&&Vu(e)?e:JI(e)}function gu(t,e,n){var i;e===void 0&&(e=[]),n===void 0&&(n=!0);const r=JI(t),a=r===((i=t.ownerDocument)==null?void 0:i.body),u=bn(r);if(a){const c=ny(u);return e.concat(u,u.visualViewport||[],Vu(r)?r:[],c&&n?gu(c):[])}return e.concat(r,gu(r,[],n))}function ny(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function KI(t){const e=ci(t);let n=parseFloat(e.width)||0,i=parseFloat(e.height)||0;const r=Oi(t),a=r?t.offsetWidth:n,u=r?t.offsetHeight:i,c=Hd(n)!==a||Hd(i)!==u;return c&&(n=a,i=u),{width:n,height:i,$:c}}function b_(t){return ui(t)?t:t.contextElement}function ha(t){const e=b_(t);if(!Oi(e))return Ii(1);const n=e.getBoundingClientRect(),{width:i,height:r,$:a}=KI(e);let u=(a?Hd(n.width):n.width)/i,c=(a?Hd(n.height):n.height)/r;return(!u||!Number.isFinite(u))&&(u=1),(!c||!Number.isFinite(c))&&(c=1),{x:u,y:c}}const R5=Ii(0);function jI(t){const e=bn(t);return!S_()||!e.visualViewport?R5:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function M5(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==bn(t)?!1:e}function Zr(t,e,n,i){e===void 0&&(e=!1),n===void 0&&(n=!1);const r=t.getBoundingClientRect(),a=b_(t);let u=Ii(1);e&&(i?ui(i)&&(u=ha(i)):u=ha(t));const c=M5(a,n,i)?jI(a):Ii(0);let p=(r.left+c.x)/u.x,d=(r.top+c.y)/u.y,m=r.width/u.x,y=r.height/u.y;if(a){const S=bn(a),b=i&&ui(i)?bn(i):i;let T=S,A=ny(T);for(;A&&i&&b!==T;){const x=ha(A),M=A.getBoundingClientRect(),I=ci(A),N=M.left+(A.clientLeft+parseFloat(I.paddingLeft))*x.x,D=M.top+(A.clientTop+parseFloat(I.paddingTop))*x.y;p*=x.x,d*=x.y,m*=x.x,y*=x.y,p+=N,d+=D,T=bn(A),A=ny(T)}}return Vd({width:m,height:y,x:p,y:d})}function Dp(t,e){const n=Ip(t).scrollLeft;return e?e.left+n:Zr(ki(t)).left+n}function YI(t,e){const n=t.getBoundingClientRect(),i=n.left+e.scrollLeft-Dp(t,n),r=n.top+e.scrollTop;return{x:i,y:r}}function N5(t){let{elements:e,rect:n,offsetParent:i,strategy:r}=t;const a=r==="fixed",u=ki(i),c=e?Np(e.floating):!1;if(i===u||c&&a)return n;let p={scrollLeft:0,scrollTop:0},d=Ii(1);const m=Ii(0),y=Oi(i);if((y||!y&&!a)&&((La(i)!=="body"||Vu(u))&&(p=Ip(i)),Oi(i))){const b=Zr(i);d=ha(i),m.x=b.x+i.clientLeft,m.y=b.y+i.clientTop}const S=u&&!y&&!a?YI(u,p):Ii(0);return{width:n.width*d.x,height:n.height*d.y,x:n.x*d.x-p.scrollLeft*d.x+m.x+S.x,y:n.y*d.y-p.scrollTop*d.y+m.y+S.y}}function I5(t){return Array.from(t.getClientRects())}function D5(t){const e=ki(t),n=Ip(t),i=t.ownerDocument.body,r=yn(e.scrollWidth,e.clientWidth,i.scrollWidth,i.clientWidth),a=yn(e.scrollHeight,e.clientHeight,i.scrollHeight,i.clientHeight);let u=-n.scrollLeft+Dp(t);const c=-n.scrollTop;return ci(i).direction==="rtl"&&(u+=yn(e.clientWidth,i.clientWidth)-r),{width:r,height:a,x:u,y:c}}const SA=25;function O5(t,e){const n=bn(t),i=ki(t),r=n.visualViewport;let a=i.clientWidth,u=i.clientHeight,c=0,p=0;if(r){a=r.width,u=r.height;const m=S_();(!m||m&&e==="fixed")&&(c=r.offsetLeft,p=r.offsetTop)}const d=Dp(i);if(d<=0){const m=i.ownerDocument,y=m.body,S=getComputedStyle(y),b=m.compatMode==="CSS1Compat"&&parseFloat(S.marginLeft)+parseFloat(S.marginRight)||0,T=Math.abs(i.clientWidth-y.clientWidth-b);T<=SA&&(a-=T)}else d<=SA&&(a+=d);return{width:a,height:u,x:c,y:p}}const P5=new Set(["absolute","fixed"]);function k5(t,e){const n=Zr(t,!0,e==="fixed"),i=n.top+t.clientTop,r=n.left+t.clientLeft,a=Oi(t)?ha(t):Ii(1),u=t.clientWidth*a.x,c=t.clientHeight*a.y,p=r*a.x,d=i*a.y;return{width:u,height:c,x:p,y:d}}function bA(t,e,n){let i;if(e==="viewport")i=O5(t,n);else if(e==="document")i=D5(ki(t));else if(ui(e))i=k5(e,n);else{const r=jI(t);i={x:e.x-r.x,y:e.y-r.y,width:e.width,height:e.height}}return Vd(i)}function XI(t,e){const n=ar(t);return n===e||!ui(n)||Ta(n)?!1:ci(n).position==="fixed"||XI(n,e)}function L5(t,e){const n=e.get(t);if(n)return n;let i=gu(t,[],!1).filter(c=>ui(c)&&La(c)!=="body"),r=null;const a=ci(t).position==="fixed";let u=a?ar(t):t;for(;ui(u)&&!Ta(u);){const c=ci(u),p=__(u);!p&&c.position==="fixed"&&(r=null),(a?!p&&!r:!p&&c.position==="static"&&!!r&&P5.has(r.position)||Vu(u)&&!p&&XI(t,u))?i=i.filter(m=>m!==u):r=c,u=ar(u)}return e.set(t,i),i}function U5(t){let{element:e,boundary:n,rootBoundary:i,strategy:r}=t;const u=[...n==="clippingAncestors"?Np(e)?[]:L5(e,this._c):[].concat(n),i],c=u[0],p=u.reduce((d,m)=>{const y=bA(e,m,r);return d.top=yn(y.top,d.top),d.right=sr(y.right,d.right),d.bottom=sr(y.bottom,d.bottom),d.left=yn(y.left,d.left),d},bA(e,c,r));return{width:p.right-p.left,height:p.bottom-p.top,x:p.left,y:p.top}}function B5(t){const{width:e,height:n}=KI(t);return{width:e,height:n}}function F5(t,e,n){const i=Oi(e),r=ki(e),a=n==="fixed",u=Zr(t,!0,a,e);let c={scrollLeft:0,scrollTop:0};const p=Ii(0);function d(){p.x=Dp(r)}if(i||!i&&!a)if((La(e)!=="body"||Vu(r))&&(c=Ip(e)),i){const b=Zr(e,!0,a,e);p.x=b.x+e.clientLeft,p.y=b.y+e.clientTop}else r&&d();a&&!i&&r&&d();const m=r&&!i&&!a?YI(r,c):Ii(0),y=u.left+c.scrollLeft-p.x-m.x,S=u.top+c.scrollTop-p.y-m.y;return{x:y,y:S,width:u.width,height:u.height}}function Vg(t){return ci(t).position==="static"}function EA(t,e){if(!Oi(t)||ci(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return ki(t)===n&&(n=n.ownerDocument.body),n}function WI(t,e){const n=bn(t);if(Np(t))return n;if(!Oi(t)){let r=ar(t);for(;r&&!Ta(r);){if(ui(r)&&!Vg(r))return r;r=ar(r)}return n}let i=EA(t,e);for(;i&&b5(i)&&Vg(i);)i=EA(i,e);return i&&Ta(i)&&Vg(i)&&!__(i)?n:i||A5(t)||n}const $5=async function(t){const e=this.getOffsetParent||WI,n=this.getDimensions,i=await n(t.floating);return{reference:F5(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:i.width,height:i.height}}};function H5(t){return ci(t).direction==="rtl"}const G5={convertOffsetParentRelativeRectToViewportRelativeRect:N5,getDocumentElement:ki,getClippingRect:U5,getOffsetParent:WI,getElementRects:$5,getClientRects:I5,getDimensions:B5,getScale:ha,isElement:ui,isRTL:H5};function QI(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function V5(t,e){let n=null,i;const r=ki(t);function a(){var c;clearTimeout(i),(c=n)==null||c.disconnect(),n=null}function u(c,p){c===void 0&&(c=!1),p===void 0&&(p=1),a();const d=t.getBoundingClientRect(),{left:m,top:y,width:S,height:b}=d;if(c||e(),!S||!b)return;const T=Ff(y),A=Ff(r.clientWidth-(m+S)),x=Ff(r.clientHeight-(y+b)),M=Ff(m),N={rootMargin:-T+"px "+-A+"px "+-x+"px "+-M+"px",threshold:yn(0,sr(1,p))||1};let D=!0;function L(U){const O=U[0].intersectionRatio;if(O!==p){if(!D)return u();O?u(!1,O):i=setTimeout(()=>{u(!1,1e-7)},1e3)}O===1&&!QI(d,t.getBoundingClientRect())&&u(),D=!1}try{n=new IntersectionObserver(L,{...N,root:r.ownerDocument})}catch{n=new IntersectionObserver(L,N)}n.observe(t)}return u(!0),a}function z5(t,e,n,i){i===void 0&&(i={});const{ancestorScroll:r=!0,ancestorResize:a=!0,elementResize:u=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:p=!1}=i,d=b_(t),m=r||a?[...d?gu(d):[],...gu(e)]:[];m.forEach(M=>{r&&M.addEventListener("scroll",n,{passive:!0}),a&&M.addEventListener("resize",n)});const y=d&&c?V5(d,n):null;let S=-1,b=null;u&&(b=new ResizeObserver(M=>{let[I]=M;I&&I.target===d&&b&&(b.unobserve(e),cancelAnimationFrame(S),S=requestAnimationFrame(()=>{var N;(N=b)==null||N.observe(e)})),n()}),d&&!p&&b.observe(d),b.observe(e));let T,A=p?Zr(t):null;p&&x();function x(){const M=Zr(t);A&&!QI(A,M)&&n(),A=M,T=requestAnimationFrame(x)}return n(),()=>{var M;m.forEach(I=>{r&&I.removeEventListener("scroll",n),a&&I.removeEventListener("resize",n)}),y?.(),(M=b)==null||M.disconnect(),b=null,p&&cancelAnimationFrame(T)}}const q5=m5,J5=g5,K5=d5,j5=y5,Y5=p5,wA=f5,X5=v5,W5=(t,e,n)=>{const i=new Map,r={platform:G5,...n},a={...r.platform,_c:i};return c5(t,e,{...r,platform:a})};var Q5=typeof document<"u",Z5=function(){},ld=Q5?w.useLayoutEffect:Z5;function zd(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,i,r;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(i=n;i--!==0;)if(!zd(t[i],e[i]))return!1;return!0}if(r=Object.keys(t),n=r.length,n!==Object.keys(e).length)return!1;for(i=n;i--!==0;)if(!{}.hasOwnProperty.call(e,r[i]))return!1;for(i=n;i--!==0;){const a=r[i];if(!(a==="_owner"&&t.$$typeof)&&!zd(t[a],e[a]))return!1}return!0}return t!==t&&e!==e}function ZI(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function CA(t,e){const n=ZI(t);return Math.round(e*n)/n}function zg(t){const e=w.useRef(t);return ld(()=>{e.current=t}),e}function e8(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:i=[],platform:r,elements:{reference:a,floating:u}={},transform:c=!0,whileElementsMounted:p,open:d}=t,[m,y]=w.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[S,b]=w.useState(i);zd(S,i)||b(i);const[T,A]=w.useState(null),[x,M]=w.useState(null),I=w.useCallback(ee=>{ee!==U.current&&(U.current=ee,A(ee))},[]),N=w.useCallback(ee=>{ee!==O.current&&(O.current=ee,M(ee))},[]),D=a||T,L=u||x,U=w.useRef(null),O=w.useRef(null),q=w.useRef(m),J=p!=null,Y=zg(p),W=zg(r),re=zg(d),ie=w.useCallback(()=>{if(!U.current||!O.current)return;const ee={placement:e,strategy:n,middleware:S};W.current&&(ee.platform=W.current),W5(U.current,O.current,ee).then(ne=>{const ce={...ne,isPositioned:re.current!==!1};ae.current&&!zd(q.current,ce)&&(q.current=ce,ep.flushSync(()=>{y(ce)}))})},[S,e,n,W,re]);ld(()=>{d===!1&&q.current.isPositioned&&(q.current.isPositioned=!1,y(ee=>({...ee,isPositioned:!1})))},[d]);const ae=w.useRef(!1);ld(()=>(ae.current=!0,()=>{ae.current=!1}),[]),ld(()=>{if(D&&(U.current=D),L&&(O.current=L),D&&L){if(Y.current)return Y.current(D,L,ie);ie()}},[D,L,ie,Y,J]);const de=w.useMemo(()=>({reference:U,floating:O,setReference:I,setFloating:N}),[I,N]),F=w.useMemo(()=>({reference:D,floating:L}),[D,L]),Q=w.useMemo(()=>{const ee={position:n,left:0,top:0};if(!F.floating)return ee;const ne=CA(F.floating,m.x),ce=CA(F.floating,m.y);return c?{...ee,transform:"translate("+ne+"px, "+ce+"px)",...ZI(F.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:ne,top:ce}},[n,c,F.floating,m.x,m.y]);return w.useMemo(()=>({...m,update:ie,refs:de,elements:F,floatingStyles:Q}),[m,ie,de,F,Q])}const t8=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:i,padding:r}=typeof t=="function"?t(n):t;return i&&e(i)?i.current!=null?wA({element:i.current,padding:r}).fn(n):{}:i?wA({element:i,padding:r}).fn(n):{}}}},n8=(t,e)=>({...q5(t),options:[t,e]}),i8=(t,e)=>({...J5(t),options:[t,e]}),o8=(t,e)=>({...X5(t),options:[t,e]}),r8=(t,e)=>({...K5(t),options:[t,e]}),s8=(t,e)=>({...j5(t),options:[t,e]}),a8=(t,e)=>({...Y5(t),options:[t,e]}),l8=(t,e)=>({...t8(t),options:[t,e]});var u8="Arrow",eD=w.forwardRef((t,e)=>{const{children:n,width:i=10,height:r=5,...a}=t;return E.jsx(zt.svg,{...a,ref:e,width:i,height:r,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:E.jsx("polygon",{points:"0,0 30,0 15,10"})})});eD.displayName=u8;var c8=eD;function f8(t){const[e,n]=w.useState(void 0);return rr(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const i=new ResizeObserver(r=>{if(!Array.isArray(r)||!r.length)return;const a=r[0];let u,c;if("borderBoxSize"in a){const p=a.borderBoxSize,d=Array.isArray(p)?p[0]:p;u=d.inlineSize,c=d.blockSize}else u=t.offsetWidth,c=t.offsetHeight;n({width:u,height:c})});return i.observe(t,{box:"border-box"}),()=>i.unobserve(t)}else n(void 0)},[t]),e}var E_="Popper",[tD,nD]=Gu(E_),[d8,iD]=tD(E_),oD=t=>{const{__scopePopper:e,children:n}=t,[i,r]=w.useState(null);return E.jsx(d8,{scope:e,anchor:i,onAnchorChange:r,children:n})};oD.displayName=E_;var rD="PopperAnchor",sD=w.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:i,...r}=t,a=iD(rD,n),u=w.useRef(null),c=on(e,u),p=w.useRef(null);return w.useEffect(()=>{const d=p.current;p.current=i?.current||u.current,d!==p.current&&a.onAnchorChange(p.current)}),i?null:E.jsx(zt.div,{...r,ref:c})});sD.displayName=rD;var w_="PopperContent",[p8,h8]=tD(w_),aD=w.forwardRef((t,e)=>{const{__scopePopper:n,side:i="bottom",sideOffset:r=0,align:a="center",alignOffset:u=0,arrowPadding:c=0,avoidCollisions:p=!0,collisionBoundary:d=[],collisionPadding:m=0,sticky:y="partial",hideWhenDetached:S=!1,updatePositionStrategy:b="optimized",onPlaced:T,...A}=t,x=iD(w_,n),[M,I]=w.useState(null),N=on(e,ve=>I(ve)),[D,L]=w.useState(null),U=f8(D),O=U?.width??0,q=U?.height??0,J=i+(a!=="center"?"-"+a:""),Y=typeof m=="number"?m:{top:0,right:0,bottom:0,left:0,...m},W=Array.isArray(d)?d:[d],re=W.length>0,ie={padding:Y,boundary:W.filter(g8),altBoundary:re},{refs:ae,floatingStyles:de,placement:F,isPositioned:Q,middlewareData:ee}=e8({strategy:"fixed",placement:J,whileElementsMounted:(...ve)=>z5(...ve,{animationFrame:b==="always"}),elements:{reference:x.anchor},middleware:[n8({mainAxis:r+q,alignmentAxis:u}),p&&i8({mainAxis:!0,crossAxis:!1,limiter:y==="partial"?o8():void 0,...ie}),p&&r8({...ie}),s8({...ie,apply:({elements:ve,rects:ze,availableWidth:qe,availableHeight:rn})=>{const{width:Cn,height:pi}=ze.reference,qt=ve.floating.style;qt.setProperty("--radix-popper-available-width",`${qe}px`),qt.setProperty("--radix-popper-available-height",`${rn}px`),qt.setProperty("--radix-popper-anchor-width",`${Cn}px`),qt.setProperty("--radix-popper-anchor-height",`${pi}px`)}}),D&&l8({element:D,padding:c}),v8({arrowWidth:O,arrowHeight:q}),S&&a8({strategy:"referenceHidden",...ie})]}),[ne,ce]=cD(F),k=Di(T);rr(()=>{Q&&k?.()},[Q,k]);const j=ee.arrow?.x,se=ee.arrow?.y,le=ee.arrow?.centerOffset!==0,[me,be]=w.useState();return rr(()=>{M&&be(window.getComputedStyle(M).zIndex)},[M]),E.jsx("div",{ref:ae.setFloating,"data-radix-popper-content-wrapper":"",style:{...de,transform:Q?de.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:me,"--radix-popper-transform-origin":[ee.transformOrigin?.x,ee.transformOrigin?.y].join(" "),...ee.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:E.jsx(p8,{scope:n,placedSide:ne,onArrowChange:L,arrowX:j,arrowY:se,shouldHideArrow:le,children:E.jsx(zt.div,{"data-side":ne,"data-align":ce,...A,ref:N,style:{...A.style,animation:Q?void 0:"none"}})})})});aD.displayName=w_;var lD="PopperArrow",m8={top:"bottom",right:"left",bottom:"top",left:"right"},uD=w.forwardRef(function(e,n){const{__scopePopper:i,...r}=e,a=h8(lD,i),u=m8[a.placedSide];return E.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[u]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:E.jsx(c8,{...r,ref:n,style:{...r.style,display:"block"}})})});uD.displayName=lD;function g8(t){return t!==null}var v8=t=>({name:"transformOrigin",options:t,fn(e){const{placement:n,rects:i,middlewareData:r}=e,u=r.arrow?.centerOffset!==0,c=u?0:t.arrowWidth,p=u?0:t.arrowHeight,[d,m]=cD(n),y={start:"0%",center:"50%",end:"100%"}[m],S=(r.arrow?.x??0)+c/2,b=(r.arrow?.y??0)+p/2;let T="",A="";return d==="bottom"?(T=u?y:`${S}px`,A=`${-p}px`):d==="top"?(T=u?y:`${S}px`,A=`${i.floating.height+p}px`):d==="right"?(T=`${-p}px`,A=u?y:`${b}px`):d==="left"&&(T=`${i.floating.width+p}px`,A=u?y:`${b}px`),{data:{x:T,y:A}}}});function cD(t){const[e,n="center"]=t.split("-");return[e,n]}var fD=oD,y8=sD,_8=aD,S8=uD,b8="Portal",dD=w.forwardRef((t,e)=>{const{container:n,...i}=t,[r,a]=w.useState(!1);rr(()=>a(!0),[]);const u=n||r&&globalThis?.document?.body;return u?Br.createPortal(E.jsx(zt.div,{...i,ref:e}),u):null});dD.displayName=b8;function E8(t,e){return w.useReducer((n,i)=>e[n][i]??n,t)}var zu=t=>{const{present:e,children:n}=t,i=w8(e),r=typeof n=="function"?n({present:i.isPresent}):w.Children.only(n),a=on(i.ref,C8(r));return typeof n=="function"||i.isPresent?w.cloneElement(r,{ref:a}):null};zu.displayName="Presence";function w8(t){const[e,n]=w.useState(),i=w.useRef(null),r=w.useRef(t),a=w.useRef("none"),u=t?"mounted":"unmounted",[c,p]=E8(u,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return w.useEffect(()=>{const d=$f(i.current);a.current=c==="mounted"?d:"none"},[c]),rr(()=>{const d=i.current,m=r.current;if(m!==t){const S=a.current,b=$f(d);t?p("MOUNT"):b==="none"||d?.display==="none"?p("UNMOUNT"):p(m&&S!==b?"ANIMATION_OUT":"UNMOUNT"),r.current=t}},[t,p]),rr(()=>{if(e){let d;const m=e.ownerDocument.defaultView??window,y=b=>{const A=$f(i.current).includes(CSS.escape(b.animationName));if(b.target===e&&A&&(p("ANIMATION_END"),!r.current)){const x=e.style.animationFillMode;e.style.animationFillMode="forwards",d=m.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=x)})}},S=b=>{b.target===e&&(a.current=$f(i.current))};return e.addEventListener("animationstart",S),e.addEventListener("animationcancel",y),e.addEventListener("animationend",y),()=>{m.clearTimeout(d),e.removeEventListener("animationstart",S),e.removeEventListener("animationcancel",y),e.removeEventListener("animationend",y)}}else p("ANIMATION_END")},[e,p]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:w.useCallback(d=>{i.current=d?getComputedStyle(d):null,n(d)},[])}}function $f(t){return t?.animationName||"none"}function C8(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var qg="rovingFocusGroup.onEntryFocus",T8={bubbles:!1,cancelable:!0},qu="RovingFocusGroup",[iy,pD,A8]=LI(qu),[x8,hD]=Gu(qu,[A8]),[R8,M8]=x8(qu),mD=w.forwardRef((t,e)=>E.jsx(iy.Provider,{scope:t.__scopeRovingFocusGroup,children:E.jsx(iy.Slot,{scope:t.__scopeRovingFocusGroup,children:E.jsx(N8,{...t,ref:e})})}));mD.displayName=qu;var N8=w.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:i,loop:r=!1,dir:a,currentTabStopId:u,defaultCurrentTabStopId:c,onCurrentTabStopIdChange:p,onEntryFocus:d,preventScrollOnEntryFocus:m=!1,...y}=t,S=w.useRef(null),b=on(e,S),T=UI(a),[A,x]=m_({prop:u,defaultProp:c??null,onChange:p,caller:qu}),[M,I]=w.useState(!1),N=Di(d),D=pD(n),L=w.useRef(!1),[U,O]=w.useState(0);return w.useEffect(()=>{const q=S.current;if(q)return q.addEventListener(qg,N),()=>q.removeEventListener(qg,N)},[N]),E.jsx(R8,{scope:n,orientation:i,dir:T,loop:r,currentTabStopId:A,onItemFocus:w.useCallback(q=>x(q),[x]),onItemShiftTab:w.useCallback(()=>I(!0),[]),onFocusableItemAdd:w.useCallback(()=>O(q=>q+1),[]),onFocusableItemRemove:w.useCallback(()=>O(q=>q-1),[]),children:E.jsx(zt.div,{tabIndex:M||U===0?-1:0,"data-orientation":i,...y,ref:b,style:{outline:"none",...t.style},onMouseDown:Fe(t.onMouseDown,()=>{L.current=!0}),onFocus:Fe(t.onFocus,q=>{const J=!L.current;if(q.target===q.currentTarget&&J&&!M){const Y=new CustomEvent(qg,T8);if(q.currentTarget.dispatchEvent(Y),!Y.defaultPrevented){const W=D().filter(F=>F.focusable),re=W.find(F=>F.active),ie=W.find(F=>F.id===A),de=[re,ie,...W].filter(Boolean).map(F=>F.ref.current);yD(de,m)}}L.current=!1}),onBlur:Fe(t.onBlur,()=>I(!1))})})}),gD="RovingFocusGroupItem",vD=w.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:i=!0,active:r=!1,tabStopId:a,children:u,...c}=t,p=hu(),d=a||p,m=M8(gD,n),y=m.currentTabStopId===d,S=pD(n),{onFocusableItemAdd:b,onFocusableItemRemove:T,currentTabStopId:A}=m;return w.useEffect(()=>{if(i)return b(),()=>T()},[i,b,T]),E.jsx(iy.ItemSlot,{scope:n,id:d,focusable:i,active:r,children:E.jsx(zt.span,{tabIndex:y?0:-1,"data-orientation":m.orientation,...c,ref:e,onMouseDown:Fe(t.onMouseDown,x=>{i?m.onItemFocus(d):x.preventDefault()}),onFocus:Fe(t.onFocus,()=>m.onItemFocus(d)),onKeyDown:Fe(t.onKeyDown,x=>{if(x.key==="Tab"&&x.shiftKey){m.onItemShiftTab();return}if(x.target!==x.currentTarget)return;const M=O8(x,m.orientation,m.dir);if(M!==void 0){if(x.metaKey||x.ctrlKey||x.altKey||x.shiftKey)return;x.preventDefault();let N=S().filter(D=>D.focusable).map(D=>D.ref.current);if(M==="last")N.reverse();else if(M==="prev"||M==="next"){M==="prev"&&N.reverse();const D=N.indexOf(x.currentTarget);N=m.loop?P8(N,D+1):N.slice(D+1)}setTimeout(()=>yD(N))}}),children:typeof u=="function"?u({isCurrentTabStop:y,hasTabStop:A!=null}):u})})});vD.displayName=gD;var I8={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function D8(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function O8(t,e,n){const i=D8(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(i))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(i)))return I8[i]}function yD(t,e=!1){const n=document.activeElement;for(const i of t)if(i===n||(i.focus({preventScroll:e}),document.activeElement!==n))return}function P8(t,e){return t.map((n,i)=>t[(e+i)%t.length])}var k8=mD,L8=vD,U8=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Qs=new WeakMap,Hf=new WeakMap,Gf={},Jg=0,_D=function(t){return t&&(t.host||_D(t.parentNode))},B8=function(t,e){return e.map(function(n){if(t.contains(n))return n;var i=_D(n);return i&&t.contains(i)?i:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},F8=function(t,e,n,i){var r=B8(e,Array.isArray(t)?t:[t]);Gf[n]||(Gf[n]=new WeakMap);var a=Gf[n],u=[],c=new Set,p=new Set(r),d=function(y){!y||c.has(y)||(c.add(y),d(y.parentNode))};r.forEach(d);var m=function(y){!y||p.has(y)||Array.prototype.forEach.call(y.children,function(S){if(c.has(S))m(S);else try{var b=S.getAttribute(i),T=b!==null&&b!=="false",A=(Qs.get(S)||0)+1,x=(a.get(S)||0)+1;Qs.set(S,A),a.set(S,x),u.push(S),A===1&&T&&Hf.set(S,!0),x===1&&S.setAttribute(n,"true"),T||S.setAttribute(i,"true")}catch(M){console.error("aria-hidden: cannot operate on ",S,M)}})};return m(e),c.clear(),Jg++,function(){u.forEach(function(y){var S=Qs.get(y)-1,b=a.get(y)-1;Qs.set(y,S),a.set(y,b),S||(Hf.has(y)||y.removeAttribute(i),Hf.delete(y)),b||y.removeAttribute(n)}),Jg--,Jg||(Qs=new WeakMap,Qs=new WeakMap,Hf=new WeakMap,Gf={})}},$8=function(t,e,n){n===void 0&&(n="data-aria-hidden");var i=Array.from(Array.isArray(t)?t:[t]),r=U8(t);return r?(i.push.apply(i,Array.from(r.querySelectorAll("[aria-live], script"))),F8(i,r,n,"aria-hidden")):function(){return null}},bi=function(){return bi=Object.assign||function(e){for(var n,i=1,r=arguments.length;i<r;i++){n=arguments[i];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},bi.apply(this,arguments)};function SD(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]]);return n}function H8(t,e,n){if(n||arguments.length===2)for(var i=0,r=e.length,a;i<r;i++)(a||!(i in e))&&(a||(a=Array.prototype.slice.call(e,0,i)),a[i]=e[i]);return t.concat(a||Array.prototype.slice.call(e))}var ud="right-scroll-bar-position",cd="width-before-scroll-bar",G8="with-scroll-bars-hidden",V8="--removed-body-scroll-bar-size";function Kg(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function z8(t,e){var n=w.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(i){var r=n.value;r!==i&&(n.value=i,n.callback(i,r))}}}})[0];return n.callback=e,n.facade}var q8=typeof window<"u"?w.useLayoutEffect:w.useEffect,TA=new WeakMap;function J8(t,e){var n=z8(null,function(i){return t.forEach(function(r){return Kg(r,i)})});return q8(function(){var i=TA.get(n);if(i){var r=new Set(i),a=new Set(t),u=n.current;r.forEach(function(c){a.has(c)||Kg(c,null)}),a.forEach(function(c){r.has(c)||Kg(c,u)})}TA.set(n,t)},[t]),n}function K8(t){return t}function j8(t,e){e===void 0&&(e=K8);var n=[],i=!1,r={read:function(){if(i)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(a){var u=e(a,i);return n.push(u),function(){n=n.filter(function(c){return c!==u})}},assignSyncMedium:function(a){for(i=!0;n.length;){var u=n;n=[],u.forEach(a)}n={push:function(c){return a(c)},filter:function(){return n}}},assignMedium:function(a){i=!0;var u=[];if(n.length){var c=n;n=[],c.forEach(a),u=n}var p=function(){var m=u;u=[],m.forEach(a)},d=function(){return Promise.resolve().then(p)};d(),n={push:function(m){u.push(m),d()},filter:function(m){return u=u.filter(m),n}}}};return r}function Y8(t){t===void 0&&(t={});var e=j8(null);return e.options=bi({async:!0,ssr:!1},t),e}var bD=function(t){var e=t.sideCar,n=SD(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var i=e.read();if(!i)throw new Error("Sidecar medium not found");return w.createElement(i,bi({},n))};bD.isSideCarExport=!0;function X8(t,e){return t.useMedium(e),bD}var ED=Y8(),jg=function(){},Op=w.forwardRef(function(t,e){var n=w.useRef(null),i=w.useState({onScrollCapture:jg,onWheelCapture:jg,onTouchMoveCapture:jg}),r=i[0],a=i[1],u=t.forwardProps,c=t.children,p=t.className,d=t.removeScrollBar,m=t.enabled,y=t.shards,S=t.sideCar,b=t.noRelative,T=t.noIsolation,A=t.inert,x=t.allowPinchZoom,M=t.as,I=M===void 0?"div":M,N=t.gapMode,D=SD(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),L=S,U=J8([n,e]),O=bi(bi({},D),r);return w.createElement(w.Fragment,null,m&&w.createElement(L,{sideCar:ED,removeScrollBar:d,shards:y,noRelative:b,noIsolation:T,inert:A,setCallbacks:a,allowPinchZoom:!!x,lockRef:n,gapMode:N}),u?w.cloneElement(w.Children.only(c),bi(bi({},O),{ref:U})):w.createElement(I,bi({},O,{className:p,ref:U}),c))});Op.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Op.classNames={fullWidth:cd,zeroRight:ud};var W8=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Q8(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=W8();return e&&t.setAttribute("nonce",e),t}function Z8(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function eJ(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var tJ=function(){var t=0,e=null;return{add:function(n){t==0&&(e=Q8())&&(Z8(e,n),eJ(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},nJ=function(){var t=tJ();return function(e,n){w.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},wD=function(){var t=nJ(),e=function(n){var i=n.styles,r=n.dynamic;return t(i,r),null};return e},iJ={left:0,top:0,right:0,gap:0},Yg=function(t){return parseInt(t||"",10)||0},oJ=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],i=e[t==="padding"?"paddingTop":"marginTop"],r=e[t==="padding"?"paddingRight":"marginRight"];return[Yg(n),Yg(i),Yg(r)]},rJ=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return iJ;var e=oJ(t),n=document.documentElement.clientWidth,i=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,i-n+e[2]-e[0])}},sJ=wD(),ma="data-scroll-locked",aJ=function(t,e,n,i){var r=t.left,a=t.top,u=t.right,c=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(G8,` {
   overflow: hidden `).concat(i,`;
   padding-right: `).concat(c,"px ").concat(i,`;
  }
  body[`).concat(ma,`] {
    overflow: hidden `).concat(i,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(i,";"),n==="margin"&&`
    padding-left: `.concat(r,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(u,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(c,"px ").concat(i,`;
    `),n==="padding"&&"padding-right: ".concat(c,"px ").concat(i,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(ud,` {
    right: `).concat(c,"px ").concat(i,`;
  }
  
  .`).concat(cd,` {
    margin-right: `).concat(c,"px ").concat(i,`;
  }
  
  .`).concat(ud," .").concat(ud,` {
    right: 0 `).concat(i,`;
  }
  
  .`).concat(cd," .").concat(cd,` {
    margin-right: 0 `).concat(i,`;
  }
  
  body[`).concat(ma,`] {
    `).concat(V8,": ").concat(c,`px;
  }
`)},AA=function(){var t=parseInt(document.body.getAttribute(ma)||"0",10);return isFinite(t)?t:0},lJ=function(){w.useEffect(function(){return document.body.setAttribute(ma,(AA()+1).toString()),function(){var t=AA()-1;t<=0?document.body.removeAttribute(ma):document.body.setAttribute(ma,t.toString())}},[])},uJ=function(t){var e=t.noRelative,n=t.noImportant,i=t.gapMode,r=i===void 0?"margin":i;lJ();var a=w.useMemo(function(){return rJ(r)},[r]);return w.createElement(sJ,{styles:aJ(a,!e,r,n?"":"!important")})},oy=!1;if(typeof window<"u")try{var Vf=Object.defineProperty({},"passive",{get:function(){return oy=!0,!0}});window.addEventListener("test",Vf,Vf),window.removeEventListener("test",Vf,Vf)}catch{oy=!1}var Zs=oy?{passive:!1}:!1,cJ=function(t){return t.tagName==="TEXTAREA"},CD=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!cJ(t)&&n[e]==="visible")},fJ=function(t){return CD(t,"overflowY")},dJ=function(t){return CD(t,"overflowX")},xA=function(t,e){var n=e.ownerDocument,i=e;do{typeof ShadowRoot<"u"&&i instanceof ShadowRoot&&(i=i.host);var r=TD(t,i);if(r){var a=AD(t,i),u=a[1],c=a[2];if(u>c)return!0}i=i.parentNode}while(i&&i!==n.body);return!1},pJ=function(t){var e=t.scrollTop,n=t.scrollHeight,i=t.clientHeight;return[e,n,i]},hJ=function(t){var e=t.scrollLeft,n=t.scrollWidth,i=t.clientWidth;return[e,n,i]},TD=function(t,e){return t==="v"?fJ(e):dJ(e)},AD=function(t,e){return t==="v"?pJ(e):hJ(e)},mJ=function(t,e){return t==="h"&&e==="rtl"?-1:1},gJ=function(t,e,n,i,r){var a=mJ(t,window.getComputedStyle(e).direction),u=a*i,c=n.target,p=e.contains(c),d=!1,m=u>0,y=0,S=0;do{if(!c)break;var b=AD(t,c),T=b[0],A=b[1],x=b[2],M=A-x-a*T;(T||M)&&TD(t,c)&&(y+=M,S+=T);var I=c.parentNode;c=I&&I.nodeType===Node.DOCUMENT_FRAGMENT_NODE?I.host:I}while(!p&&c!==document.body||p&&(e.contains(c)||e===c));return(m&&Math.abs(y)<1||!m&&Math.abs(S)<1)&&(d=!0),d},zf=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},RA=function(t){return[t.deltaX,t.deltaY]},MA=function(t){return t&&"current"in t?t.current:t},vJ=function(t,e){return t[0]===e[0]&&t[1]===e[1]},yJ=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},_J=0,ea=[];function SJ(t){var e=w.useRef([]),n=w.useRef([0,0]),i=w.useRef(),r=w.useState(_J++)[0],a=w.useState(wD)[0],u=w.useRef(t);w.useEffect(function(){u.current=t},[t]),w.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(r));var A=H8([t.lockRef.current],(t.shards||[]).map(MA),!0).filter(Boolean);return A.forEach(function(x){return x.classList.add("allow-interactivity-".concat(r))}),function(){document.body.classList.remove("block-interactivity-".concat(r)),A.forEach(function(x){return x.classList.remove("allow-interactivity-".concat(r))})}}},[t.inert,t.lockRef.current,t.shards]);var c=w.useCallback(function(A,x){if("touches"in A&&A.touches.length===2||A.type==="wheel"&&A.ctrlKey)return!u.current.allowPinchZoom;var M=zf(A),I=n.current,N="deltaX"in A?A.deltaX:I[0]-M[0],D="deltaY"in A?A.deltaY:I[1]-M[1],L,U=A.target,O=Math.abs(N)>Math.abs(D)?"h":"v";if("touches"in A&&O==="h"&&U.type==="range")return!1;var q=window.getSelection(),J=q&&q.anchorNode,Y=J?J===U||J.contains(U):!1;if(Y)return!1;var W=xA(O,U);if(!W)return!0;if(W?L=O:(L=O==="v"?"h":"v",W=xA(O,U)),!W)return!1;if(!i.current&&"changedTouches"in A&&(N||D)&&(i.current=L),!L)return!0;var re=i.current||L;return gJ(re,x,A,re==="h"?N:D)},[]),p=w.useCallback(function(A){var x=A;if(!(!ea.length||ea[ea.length-1]!==a)){var M="deltaY"in x?RA(x):zf(x),I=e.current.filter(function(L){return L.name===x.type&&(L.target===x.target||x.target===L.shadowParent)&&vJ(L.delta,M)})[0];if(I&&I.should){x.cancelable&&x.preventDefault();return}if(!I){var N=(u.current.shards||[]).map(MA).filter(Boolean).filter(function(L){return L.contains(x.target)}),D=N.length>0?c(x,N[0]):!u.current.noIsolation;D&&x.cancelable&&x.preventDefault()}}},[]),d=w.useCallback(function(A,x,M,I){var N={name:A,delta:x,target:M,should:I,shadowParent:bJ(M)};e.current.push(N),setTimeout(function(){e.current=e.current.filter(function(D){return D!==N})},1)},[]),m=w.useCallback(function(A){n.current=zf(A),i.current=void 0},[]),y=w.useCallback(function(A){d(A.type,RA(A),A.target,c(A,t.lockRef.current))},[]),S=w.useCallback(function(A){d(A.type,zf(A),A.target,c(A,t.lockRef.current))},[]);w.useEffect(function(){return ea.push(a),t.setCallbacks({onScrollCapture:y,onWheelCapture:y,onTouchMoveCapture:S}),document.addEventListener("wheel",p,Zs),document.addEventListener("touchmove",p,Zs),document.addEventListener("touchstart",m,Zs),function(){ea=ea.filter(function(A){return A!==a}),document.removeEventListener("wheel",p,Zs),document.removeEventListener("touchmove",p,Zs),document.removeEventListener("touchstart",m,Zs)}},[]);var b=t.removeScrollBar,T=t.inert;return w.createElement(w.Fragment,null,T?w.createElement(a,{styles:yJ(r)}):null,b?w.createElement(uJ,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function bJ(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const EJ=X8(ED,SJ);var xD=w.forwardRef(function(t,e){return w.createElement(Op,bi({},t,{ref:e,sideCar:EJ}))});xD.classNames=Op.classNames;var ry=["Enter"," "],wJ=["ArrowDown","PageUp","Home"],RD=["ArrowUp","PageDown","End"],CJ=[...wJ,...RD],TJ={ltr:[...ry,"ArrowRight"],rtl:[...ry,"ArrowLeft"]},AJ={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Ju="Menu",[vu,xJ,RJ]=LI(Ju),[ss,MD]=Gu(Ju,[RJ,nD,hD]),Ku=nD(),ND=hD(),[ID,hr]=ss(Ju),[MJ,ju]=ss(Ju),DD=t=>{const{__scopeMenu:e,open:n=!1,children:i,dir:r,onOpenChange:a,modal:u=!0}=t,c=Ku(e),[p,d]=w.useState(null),m=w.useRef(!1),y=Di(a),S=UI(r);return w.useEffect(()=>{const b=()=>{m.current=!0,document.addEventListener("pointerdown",T,{capture:!0,once:!0}),document.addEventListener("pointermove",T,{capture:!0,once:!0})},T=()=>m.current=!1;return document.addEventListener("keydown",b,{capture:!0}),()=>{document.removeEventListener("keydown",b,{capture:!0}),document.removeEventListener("pointerdown",T,{capture:!0}),document.removeEventListener("pointermove",T,{capture:!0})}},[]),E.jsx(fD,{...c,children:E.jsx(ID,{scope:e,open:n,onOpenChange:y,content:p,onContentChange:d,children:E.jsx(MJ,{scope:e,onClose:w.useCallback(()=>y(!1),[y]),isUsingKeyboardRef:m,dir:S,modal:u,children:i})})})};DD.displayName=Ju;var NJ="MenuAnchor",C_=w.forwardRef((t,e)=>{const{__scopeMenu:n,...i}=t,r=Ku(n);return E.jsx(y8,{...r,...i,ref:e})});C_.displayName=NJ;var T_="MenuPortal",[IJ,OD]=ss(T_,{forceMount:void 0}),PD=t=>{const{__scopeMenu:e,forceMount:n,children:i,container:r}=t,a=hr(T_,e);return E.jsx(IJ,{scope:e,forceMount:n,children:E.jsx(zu,{present:n||a.open,children:E.jsx(dD,{asChild:!0,container:r,children:i})})})};PD.displayName=T_;var Gn="MenuContent",[DJ,A_]=ss(Gn),kD=w.forwardRef((t,e)=>{const n=OD(Gn,t.__scopeMenu),{forceMount:i=n.forceMount,...r}=t,a=hr(Gn,t.__scopeMenu),u=ju(Gn,t.__scopeMenu);return E.jsx(vu.Provider,{scope:t.__scopeMenu,children:E.jsx(zu,{present:i||a.open,children:E.jsx(vu.Slot,{scope:t.__scopeMenu,children:u.modal?E.jsx(OJ,{...r,ref:e}):E.jsx(PJ,{...r,ref:e})})})})}),OJ=w.forwardRef((t,e)=>{const n=hr(Gn,t.__scopeMenu),i=w.useRef(null),r=on(e,i);return w.useEffect(()=>{const a=i.current;if(a)return $8(a)},[]),E.jsx(x_,{...t,ref:r,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:Fe(t.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),PJ=w.forwardRef((t,e)=>{const n=hr(Gn,t.__scopeMenu);return E.jsx(x_,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),kJ=$d("MenuContent.ScrollLock"),x_=w.forwardRef((t,e)=>{const{__scopeMenu:n,loop:i=!1,trapFocus:r,onOpenAutoFocus:a,onCloseAutoFocus:u,disableOutsidePointerEvents:c,onEntryFocus:p,onEscapeKeyDown:d,onPointerDownOutside:m,onFocusOutside:y,onInteractOutside:S,onDismiss:b,disableOutsideScroll:T,...A}=t,x=hr(Gn,n),M=ju(Gn,n),I=Ku(n),N=ND(n),D=xJ(n),[L,U]=w.useState(null),O=w.useRef(null),q=on(e,O,x.onContentChange),J=w.useRef(0),Y=w.useRef(""),W=w.useRef(0),re=w.useRef(null),ie=w.useRef("right"),ae=w.useRef(0),de=T?xD:w.Fragment,F=T?{as:kJ,allowPinchZoom:!0}:void 0,Q=ne=>{const ce=Y.current+ne,k=D().filter(ve=>!ve.disabled),j=document.activeElement,se=k.find(ve=>ve.ref.current===j)?.textValue,le=k.map(ve=>ve.textValue),me=KJ(le,ce,se),be=k.find(ve=>ve.textValue===me)?.ref.current;(function ve(ze){Y.current=ze,window.clearTimeout(J.current),ze!==""&&(J.current=window.setTimeout(()=>ve(""),1e3))})(ce),be&&setTimeout(()=>be.focus())};w.useEffect(()=>()=>window.clearTimeout(J.current),[]),V6();const ee=w.useCallback(ne=>ie.current===re.current?.side&&YJ(ne,re.current?.area),[]);return E.jsx(DJ,{scope:n,searchRef:Y,onItemEnter:w.useCallback(ne=>{ee(ne)&&ne.preventDefault()},[ee]),onItemLeave:w.useCallback(ne=>{ee(ne)||(O.current?.focus(),U(null))},[ee]),onTriggerLeave:w.useCallback(ne=>{ee(ne)&&ne.preventDefault()},[ee]),pointerGraceTimerRef:W,onPointerGraceIntentChange:w.useCallback(ne=>{re.current=ne},[]),children:E.jsx(de,{...F,children:E.jsx(HI,{asChild:!0,trapped:r,onMountAutoFocus:Fe(a,ne=>{ne.preventDefault(),O.current?.focus({preventScroll:!0})}),onUnmountAutoFocus:u,children:E.jsx(FI,{asChild:!0,disableOutsidePointerEvents:c,onEscapeKeyDown:d,onPointerDownOutside:m,onFocusOutside:y,onInteractOutside:S,onDismiss:b,children:E.jsx(k8,{asChild:!0,...N,dir:M.dir,orientation:"vertical",loop:i,currentTabStopId:L,onCurrentTabStopIdChange:U,onEntryFocus:Fe(p,ne=>{M.isUsingKeyboardRef.current||ne.preventDefault()}),preventScrollOnEntryFocus:!0,children:E.jsx(_8,{role:"menu","aria-orientation":"vertical","data-state":QD(x.open),"data-radix-menu-content":"",dir:M.dir,...I,...A,ref:q,style:{outline:"none",...A.style},onKeyDown:Fe(A.onKeyDown,ne=>{const k=ne.target.closest("[data-radix-menu-content]")===ne.currentTarget,j=ne.ctrlKey||ne.altKey||ne.metaKey,se=ne.key.length===1;k&&(ne.key==="Tab"&&ne.preventDefault(),!j&&se&&Q(ne.key));const le=O.current;if(ne.target!==le||!CJ.includes(ne.key))return;ne.preventDefault();const be=D().filter(ve=>!ve.disabled).map(ve=>ve.ref.current);RD.includes(ne.key)&&be.reverse(),qJ(be)}),onBlur:Fe(t.onBlur,ne=>{ne.currentTarget.contains(ne.target)||(window.clearTimeout(J.current),Y.current="")}),onPointerMove:Fe(t.onPointerMove,yu(ne=>{const ce=ne.target,k=ae.current!==ne.clientX;if(ne.currentTarget.contains(ce)&&k){const j=ne.clientX>ae.current?"right":"left";ie.current=j,ae.current=ne.clientX}}))})})})})})})});kD.displayName=Gn;var LJ="MenuGroup",R_=w.forwardRef((t,e)=>{const{__scopeMenu:n,...i}=t;return E.jsx(zt.div,{role:"group",...i,ref:e})});R_.displayName=LJ;var UJ="MenuLabel",LD=w.forwardRef((t,e)=>{const{__scopeMenu:n,...i}=t;return E.jsx(zt.div,{...i,ref:e})});LD.displayName=UJ;var qd="MenuItem",NA="menu.itemSelect",Pp=w.forwardRef((t,e)=>{const{disabled:n=!1,onSelect:i,...r}=t,a=w.useRef(null),u=ju(qd,t.__scopeMenu),c=A_(qd,t.__scopeMenu),p=on(e,a),d=w.useRef(!1),m=()=>{const y=a.current;if(!n&&y){const S=new CustomEvent(NA,{bubbles:!0,cancelable:!0});y.addEventListener(NA,b=>i?.(b),{once:!0}),kI(y,S),S.defaultPrevented?d.current=!1:u.onClose()}};return E.jsx(UD,{...r,ref:p,disabled:n,onClick:Fe(t.onClick,m),onPointerDown:y=>{t.onPointerDown?.(y),d.current=!0},onPointerUp:Fe(t.onPointerUp,y=>{d.current||y.currentTarget?.click()}),onKeyDown:Fe(t.onKeyDown,y=>{const S=c.searchRef.current!=="";n||S&&y.key===" "||ry.includes(y.key)&&(y.currentTarget.click(),y.preventDefault())})})});Pp.displayName=qd;var UD=w.forwardRef((t,e)=>{const{__scopeMenu:n,disabled:i=!1,textValue:r,...a}=t,u=A_(qd,n),c=ND(n),p=w.useRef(null),d=on(e,p),[m,y]=w.useState(!1),[S,b]=w.useState("");return w.useEffect(()=>{const T=p.current;T&&b((T.textContent??"").trim())},[a.children]),E.jsx(vu.ItemSlot,{scope:n,disabled:i,textValue:r??S,children:E.jsx(L8,{asChild:!0,...c,focusable:!i,children:E.jsx(zt.div,{role:"menuitem","data-highlighted":m?"":void 0,"aria-disabled":i||void 0,"data-disabled":i?"":void 0,...a,ref:d,onPointerMove:Fe(t.onPointerMove,yu(T=>{i?u.onItemLeave(T):(u.onItemEnter(T),T.defaultPrevented||T.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Fe(t.onPointerLeave,yu(T=>u.onItemLeave(T))),onFocus:Fe(t.onFocus,()=>y(!0)),onBlur:Fe(t.onBlur,()=>y(!1))})})})}),BJ="MenuCheckboxItem",BD=w.forwardRef((t,e)=>{const{checked:n=!1,onCheckedChange:i,...r}=t;return E.jsx(VD,{scope:t.__scopeMenu,checked:n,children:E.jsx(Pp,{role:"menuitemcheckbox","aria-checked":Jd(n)?"mixed":n,...r,ref:e,"data-state":I_(n),onSelect:Fe(r.onSelect,()=>i?.(Jd(n)?!0:!n),{checkForDefaultPrevented:!1})})})});BD.displayName=BJ;var FD="MenuRadioGroup",[FJ,$J]=ss(FD,{value:void 0,onValueChange:()=>{}}),$D=w.forwardRef((t,e)=>{const{value:n,onValueChange:i,...r}=t,a=Di(i);return E.jsx(FJ,{scope:t.__scopeMenu,value:n,onValueChange:a,children:E.jsx(R_,{...r,ref:e})})});$D.displayName=FD;var HD="MenuRadioItem",GD=w.forwardRef((t,e)=>{const{value:n,...i}=t,r=$J(HD,t.__scopeMenu),a=n===r.value;return E.jsx(VD,{scope:t.__scopeMenu,checked:a,children:E.jsx(Pp,{role:"menuitemradio","aria-checked":a,...i,ref:e,"data-state":I_(a),onSelect:Fe(i.onSelect,()=>r.onValueChange?.(n),{checkForDefaultPrevented:!1})})})});GD.displayName=HD;var M_="MenuItemIndicator",[VD,HJ]=ss(M_,{checked:!1}),zD=w.forwardRef((t,e)=>{const{__scopeMenu:n,forceMount:i,...r}=t,a=HJ(M_,n);return E.jsx(zu,{present:i||Jd(a.checked)||a.checked===!0,children:E.jsx(zt.span,{...r,ref:e,"data-state":I_(a.checked)})})});zD.displayName=M_;var GJ="MenuSeparator",qD=w.forwardRef((t,e)=>{const{__scopeMenu:n,...i}=t;return E.jsx(zt.div,{role:"separator","aria-orientation":"horizontal",...i,ref:e})});qD.displayName=GJ;var VJ="MenuArrow",JD=w.forwardRef((t,e)=>{const{__scopeMenu:n,...i}=t,r=Ku(n);return E.jsx(S8,{...r,...i,ref:e})});JD.displayName=VJ;var N_="MenuSub",[zJ,KD]=ss(N_),jD=t=>{const{__scopeMenu:e,children:n,open:i=!1,onOpenChange:r}=t,a=hr(N_,e),u=Ku(e),[c,p]=w.useState(null),[d,m]=w.useState(null),y=Di(r);return w.useEffect(()=>(a.open===!1&&y(!1),()=>y(!1)),[a.open,y]),E.jsx(fD,{...u,children:E.jsx(ID,{scope:e,open:i,onOpenChange:y,content:d,onContentChange:m,children:E.jsx(zJ,{scope:e,contentId:hu(),triggerId:hu(),trigger:c,onTriggerChange:p,children:n})})})};jD.displayName=N_;var Ql="MenuSubTrigger",YD=w.forwardRef((t,e)=>{const n=hr(Ql,t.__scopeMenu),i=ju(Ql,t.__scopeMenu),r=KD(Ql,t.__scopeMenu),a=A_(Ql,t.__scopeMenu),u=w.useRef(null),{pointerGraceTimerRef:c,onPointerGraceIntentChange:p}=a,d={__scopeMenu:t.__scopeMenu},m=w.useCallback(()=>{u.current&&window.clearTimeout(u.current),u.current=null},[]);return w.useEffect(()=>m,[m]),w.useEffect(()=>{const y=c.current;return()=>{window.clearTimeout(y),p(null)}},[c,p]),E.jsx(C_,{asChild:!0,...d,children:E.jsx(UD,{id:r.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":r.contentId,"data-state":QD(n.open),...t,ref:Rp(e,r.onTriggerChange),onClick:y=>{t.onClick?.(y),!(t.disabled||y.defaultPrevented)&&(y.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:Fe(t.onPointerMove,yu(y=>{a.onItemEnter(y),!y.defaultPrevented&&!t.disabled&&!n.open&&!u.current&&(a.onPointerGraceIntentChange(null),u.current=window.setTimeout(()=>{n.onOpenChange(!0),m()},100))})),onPointerLeave:Fe(t.onPointerLeave,yu(y=>{m();const S=n.content?.getBoundingClientRect();if(S){const b=n.content?.dataset.side,T=b==="right",A=T?-5:5,x=S[T?"left":"right"],M=S[T?"right":"left"];a.onPointerGraceIntentChange({area:[{x:y.clientX+A,y:y.clientY},{x,y:S.top},{x:M,y:S.top},{x:M,y:S.bottom},{x,y:S.bottom}],side:b}),window.clearTimeout(c.current),c.current=window.setTimeout(()=>a.onPointerGraceIntentChange(null),300)}else{if(a.onTriggerLeave(y),y.defaultPrevented)return;a.onPointerGraceIntentChange(null)}})),onKeyDown:Fe(t.onKeyDown,y=>{const S=a.searchRef.current!=="";t.disabled||S&&y.key===" "||TJ[i.dir].includes(y.key)&&(n.onOpenChange(!0),n.content?.focus(),y.preventDefault())})})})});YD.displayName=Ql;var XD="MenuSubContent",WD=w.forwardRef((t,e)=>{const n=OD(Gn,t.__scopeMenu),{forceMount:i=n.forceMount,...r}=t,a=hr(Gn,t.__scopeMenu),u=ju(Gn,t.__scopeMenu),c=KD(XD,t.__scopeMenu),p=w.useRef(null),d=on(e,p);return E.jsx(vu.Provider,{scope:t.__scopeMenu,children:E.jsx(zu,{present:i||a.open,children:E.jsx(vu.Slot,{scope:t.__scopeMenu,children:E.jsx(x_,{id:c.contentId,"aria-labelledby":c.triggerId,...r,ref:d,align:"start",side:u.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:m=>{u.isUsingKeyboardRef.current&&p.current?.focus(),m.preventDefault()},onCloseAutoFocus:m=>m.preventDefault(),onFocusOutside:Fe(t.onFocusOutside,m=>{m.target!==c.trigger&&a.onOpenChange(!1)}),onEscapeKeyDown:Fe(t.onEscapeKeyDown,m=>{u.onClose(),m.preventDefault()}),onKeyDown:Fe(t.onKeyDown,m=>{const y=m.currentTarget.contains(m.target),S=AJ[u.dir].includes(m.key);y&&S&&(a.onOpenChange(!1),c.trigger?.focus(),m.preventDefault())})})})})})});WD.displayName=XD;function QD(t){return t?"open":"closed"}function Jd(t){return t==="indeterminate"}function I_(t){return Jd(t)?"indeterminate":t?"checked":"unchecked"}function qJ(t){const e=document.activeElement;for(const n of t)if(n===e||(n.focus(),document.activeElement!==e))return}function JJ(t,e){return t.map((n,i)=>t[(e+i)%t.length])}function KJ(t,e,n){const r=e.length>1&&Array.from(e).every(d=>d===e[0])?e[0]:e,a=n?t.indexOf(n):-1;let u=JJ(t,Math.max(a,0));r.length===1&&(u=u.filter(d=>d!==n));const p=u.find(d=>d.toLowerCase().startsWith(r.toLowerCase()));return p!==n?p:void 0}function jJ(t,e){const{x:n,y:i}=t;let r=!1;for(let a=0,u=e.length-1;a<e.length;u=a++){const c=e[a],p=e[u],d=c.x,m=c.y,y=p.x,S=p.y;m>i!=S>i&&n<(y-d)*(i-m)/(S-m)+d&&(r=!r)}return r}function YJ(t,e){if(!e)return!1;const n={x:t.clientX,y:t.clientY};return jJ(n,e)}function yu(t){return e=>e.pointerType==="mouse"?t(e):void 0}var XJ=DD,WJ=C_,QJ=PD,ZJ=kD,eK=R_,tK=LD,nK=Pp,iK=BD,oK=$D,rK=GD,sK=zD,aK=qD,lK=JD,uK=jD,cK=YD,fK=WD,kp="DropdownMenu",[dK]=Gu(kp,[MD]),Ft=MD(),[pK,ZD]=dK(kp),eO=t=>{const{__scopeDropdownMenu:e,children:n,dir:i,open:r,defaultOpen:a,onOpenChange:u,modal:c=!0}=t,p=Ft(e),d=w.useRef(null),[m,y]=m_({prop:r,defaultProp:a??!1,onChange:u,caller:kp});return E.jsx(pK,{scope:e,triggerId:hu(),triggerRef:d,contentId:hu(),open:m,onOpenChange:y,onOpenToggle:w.useCallback(()=>y(S=>!S),[y]),modal:c,children:E.jsx(XJ,{...p,open:m,onOpenChange:y,dir:i,modal:c,children:n})})};eO.displayName=kp;var tO="DropdownMenuTrigger",nO=w.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,disabled:i=!1,...r}=t,a=ZD(tO,n),u=Ft(n);return E.jsx(WJ,{asChild:!0,...u,children:E.jsx(zt.button,{type:"button",id:a.triggerId,"aria-haspopup":"menu","aria-expanded":a.open,"aria-controls":a.open?a.contentId:void 0,"data-state":a.open?"open":"closed","data-disabled":i?"":void 0,disabled:i,...r,ref:Rp(e,a.triggerRef),onPointerDown:Fe(t.onPointerDown,c=>{!i&&c.button===0&&c.ctrlKey===!1&&(a.onOpenToggle(),a.open||c.preventDefault())}),onKeyDown:Fe(t.onKeyDown,c=>{i||(["Enter"," "].includes(c.key)&&a.onOpenToggle(),c.key==="ArrowDown"&&a.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(c.key)&&c.preventDefault())})})})});nO.displayName=tO;var hK="DropdownMenuPortal",iO=t=>{const{__scopeDropdownMenu:e,...n}=t,i=Ft(e);return E.jsx(QJ,{...i,...n})};iO.displayName=hK;var oO="DropdownMenuContent",rO=w.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...i}=t,r=ZD(oO,n),a=Ft(n),u=w.useRef(!1);return E.jsx(ZJ,{id:r.contentId,"aria-labelledby":r.triggerId,...a,...i,ref:e,onCloseAutoFocus:Fe(t.onCloseAutoFocus,c=>{u.current||r.triggerRef.current?.focus(),u.current=!1,c.preventDefault()}),onInteractOutside:Fe(t.onInteractOutside,c=>{const p=c.detail.originalEvent,d=p.button===0&&p.ctrlKey===!0,m=p.button===2||d;(!r.modal||m)&&(u.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});rO.displayName=oO;var mK="DropdownMenuGroup",gK=w.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...i}=t,r=Ft(n);return E.jsx(eK,{...r,...i,ref:e})});gK.displayName=mK;var vK="DropdownMenuLabel",yK=w.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...i}=t,r=Ft(n);return E.jsx(tK,{...r,...i,ref:e})});yK.displayName=vK;var _K="DropdownMenuItem",SK=w.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...i}=t,r=Ft(n);return E.jsx(nK,{...r,...i,ref:e})});SK.displayName=_K;var bK="DropdownMenuCheckboxItem",EK=w.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...i}=t,r=Ft(n);return E.jsx(iK,{...r,...i,ref:e})});EK.displayName=bK;var wK="DropdownMenuRadioGroup",CK=w.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...i}=t,r=Ft(n);return E.jsx(oK,{...r,...i,ref:e})});CK.displayName=wK;var TK="DropdownMenuRadioItem",AK=w.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...i}=t,r=Ft(n);return E.jsx(rK,{...r,...i,ref:e})});AK.displayName=TK;var xK="DropdownMenuItemIndicator",RK=w.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...i}=t,r=Ft(n);return E.jsx(sK,{...r,...i,ref:e})});RK.displayName=xK;var MK="DropdownMenuSeparator",NK=w.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...i}=t,r=Ft(n);return E.jsx(aK,{...r,...i,ref:e})});NK.displayName=MK;var IK="DropdownMenuArrow",DK=w.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...i}=t,r=Ft(n);return E.jsx(lK,{...r,...i,ref:e})});DK.displayName=IK;var OK=t=>{const{__scopeDropdownMenu:e,children:n,open:i,onOpenChange:r,defaultOpen:a}=t,u=Ft(e),[c,p]=m_({prop:i,defaultProp:a??!1,onChange:r,caller:"DropdownMenuSub"});return E.jsx(uK,{...u,open:c,onOpenChange:p,children:n})},PK="DropdownMenuSubTrigger",sO=w.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...i}=t,r=Ft(n);return E.jsx(cK,{...r,...i,ref:e})});sO.displayName=PK;var kK="DropdownMenuSubContent",aO=w.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...i}=t,r=Ft(n);return E.jsx(fK,{...r,...i,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});aO.displayName=kK;var LK=eO,UK=nO,BK=iO,FK=rO,IA=OK,DA=sO,OA=aO;const $K=at(({scene:t})=>{if(!t.sceneJson||!t.sceneJson.data)return null;const e=t.sceneJson.data.tags,n=t.project?.artbook,i=a=>{t.addTag(a)};if(!n)return null;const r=a=>E.jsxs(LK,{children:[E.jsx(UK,{className:"dropdown-trigger",children:"Add Tag"}),E.jsx(BK,{children:E.jsx(FK,{className:"dropdown-content",align:"start",children:Object.entries(a).map(([u,c])=>E.jsxs(IA,{children:[E.jsx(DA,{className:"submenu-trigger",children:u}),E.jsx(OA,{className:"dropdown-content",children:Object.entries(c).map(([p,d])=>E.jsxs(IA,{children:[E.jsx(DA,{className:"submenu-trigger",children:p}),E.jsx(OA,{className:"dropdown-content",children:d.map(m=>E.jsx(w6,{art:m,onClick:()=>i(m.path)},m.path))})]},p))})]},u))})})]});return E.jsx(Hu,{label:"Tags",headerExtra:E.jsxs("div",{className:"d-flex align-items-center gap-2",children:[r(n.data),E.jsx(xp,{onClick:()=>{t.generateTags()},className:"btn-outline-success",label:"Generate Tags",is_loading:t.is_generating_tags}),E.jsx(ct,{onClick:()=>t.project?.artbook?.log(),label:"Log"})]}),children:e.length?E.jsx("ul",{className:"list-group list-group-flush",children:e.map((a,u)=>{const c=n.getTag(a);return c?E.jsx("li",{className:"list-group-item",children:E.jsx(E6,{art:c,scene:t})},u):null})}):E.jsx("div",{children:"No tags yet."})})}),es=({value:t,options:e,onChange:n,label:i,className:r=""})=>E.jsxs("div",{className:"btn-group",role:"group",children:[i&&E.jsx("span",{className:"btn btn-sm btn-outline-secondary disabled",children:i}),E.jsx("div",{className:`btn btn-sm btn-outline-secondary p-0 ${r}`,children:E.jsx("select",{className:"form-select form-select-sm border-0 rounded-0",value:t,onChange:a=>n?.(a.target.value),children:e.map(a=>E.jsx("option",{value:a,children:a},a))})})]}),Ua=({isLoading:t,className:e="",asButton:n=!1})=>{const i=E.jsx("span",{className:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true",style:{animation:t?void 0:"none",borderColor:t?void 0:"#6c757d"}});return n?E.jsx("button",{type:"button",className:`btn btn-sm btn-outline-secondary disabled d-flex align-items-center justify-content-center ${e}`,tabIndex:-1,style:{pointerEvents:"none"},children:i}):E.jsx("span",{className:e,children:i})},Lp=({buttons:t,content:e,className:n=""})=>{const[i,r]=w.useState(!1);return E.jsxs("div",{className:`w-100 ${n}`,style:{display:"inline-block"},children:[E.jsxs("div",{className:"btn-group",role:"group",children:[t,E.jsx("button",{className:"btn btn-sm btn-outline-secondary",onClick:()=>r(a=>!a),"aria-label":"Toggle settings",type:"button",style:{borderBottomRightRadius:i?0:void 0},children:""})]}),i&&E.jsx("div",{className:"w-100 border p-2",style:{borderTopLeftRadius:0,borderTopRightRadius:5,borderBottomLeftRadius:5,borderBottomRightRadius:5,backgroundColor:"#383838ff",marginTop:0},children:e})]})},HK=at(({scene:t})=>{if(!t.sceneJson)return E.jsx("div",{children:"No scene data available."});const e=async()=>{window.confirm(`Are you sure you want to delete scene "${t.folder.name}"?`)&&await t.delete()},n=async()=>{t.createShotsFromShotsJson()};return E.jsxs("div",{children:[E.jsxs("div",{style:{marginBottom:"10px"},children:[E.jsx(ct,{onClick:e,label:"Delete Scene",className:"btn-outline-danger"}),E.jsx(ct,{onClick:()=>t.log(),label:"LOG"})]}),E.jsx(Lp,{className:"mb-2",buttons:E.jsxs(E.Fragment,{children:[E.jsx("button",{className:"btn btn-sm btn-outline-success",onClick:async()=>{const i=await t.generateShotsJson();t.sceneJson?.updateField("shotsjson",i)},children:" Split Into Shots "}),E.jsx(es,{value:t.project.workflows.split_scene_into_shots.model,options:II,onChange:i=>{t.project.updateWorkflow("split_scene_into_shots","model",i)}}),E.jsx(Ua,{isLoading:t.is_generating_shotsjson,asButton:!0})]}),content:E.jsxs(E.Fragment,{children:[E.jsx(Pt,{localJson:t.sceneJson,field:"split_prompt",fitHeight:!0}),E.jsx(Pt,{localJson:t.project.projinfo,field:"workflows/split_scene_into_shots/system_message",fitHeight:!0}),E.jsx(Pt,{localJson:t.project.projinfo,field:"workflows/split_scene_into_shots/prompt",fitHeight:!0})]})}),E.jsx(Pt,{localJson:t.sceneJson,field:"script",fitHeight:!0}),E.jsx(Pt,{localJson:t.sceneJson,field:"shotsjson",fitHeight:!0,headerExtra:E.jsx(ct,{onClick:n,label:"Create Shots"})}),E.jsx($K,{scene:t}),E.jsx("div",{style:{height:"500px"}})]})}),lO=({label:t,value:e,onToggle:n,useIndicator:i=!1})=>i?E.jsx("div",{onClick:()=>n(!e),style:{width:"16px",height:"16px",borderRadius:"50%",backgroundColor:e?"green":"transparent",border:"2px solid green",cursor:"pointer"}}):E.jsx("button",{className:`btn btn-sm ${e?"btn-success":"btn-outline-secondary"}`,onClick:()=>n(!e),children:t}),Xg="https://cdn.pixabay.com/photo/2021/05/09/06/07/dog-6240043_1280.jpg",GK=at(({shot:t,isSelected:e,onClick:n})=>{const[i,r]=w.useState(Xg);return w.useEffect(()=>{let a=!1;return(async()=>{if(t.srcImage)try{const c=await t.srcImage.getUrlObject();!a&&c&&r(c)}catch(c){console.error("Failed to load srcImage URL:",c),a||r(Xg)}else r(Xg)})(),()=>{a=!0}},[t.srcImage]),E.jsxs("div",{className:"flex-shrink-0 position-relative d-flex align-items-center justify-content-center",style:{height:"100%",cursor:"pointer",borderWidth:e?2:0,borderColor:e?"#04914a":"#dee2e6",borderStyle:"solid"},onClick:()=>n(t),children:[E.jsx("img",{src:i,alt:t.folder.name,className:"img-fluid",style:{height:"100%",width:"auto",objectFit:"contain",display:"block"}}),E.jsx("div",{className:"position-absolute text-white px-1",style:{bottom:0,left:0,backgroundColor:"rgba(0,0,0,0.5)",fontSize:"0.75rem",borderTopRightRadius:"4px"},children:t.folder.name}),E.jsx("div",{className:"position-absolute",style:{top:2,right:2},onClick:a=>a.stopPropagation(),children:E.jsx(lO,{label:"Finished",value:!!t.shotJson?.data?.finished,useIndicator:!0,onToggle:a=>{t.shotJson&&t.shotJson.updateField("finished",a)}})})]})}),VK=({initialHeight:t=80,minHeight:e=30,children:n})=>{const[i,r]=w.useState(t),a=w.useRef(null),u=w.useRef(!1),c=y=>{u.current=!0,y.preventDefault()},p=y=>{if(!u.current||!a.current)return;const S=a.current.getBoundingClientRect(),b=y.clientY-S.top;b>e&&r(b)},d=()=>{u.current=!1};w.useEffect(()=>(window.addEventListener("mousemove",p),window.addEventListener("mouseup",d),()=>{window.removeEventListener("mousemove",p),window.removeEventListener("mouseup",d)}),[]);const m=6;return E.jsxs("div",{ref:a,className:"position-relative",style:{height:`${i}px`},children:[E.jsx("div",{style:{height:"100%",paddingBottom:`${m}px`,boxSizing:"border-box"},children:n}),E.jsx("div",{style:{position:"absolute",bottom:0,left:0,right:0,height:`${m}px`,cursor:"ns-resize",zIndex:10,backgroundColor:"#0d6efd",opacity:.5},onMouseDown:c})]})},uO=at(({shot:t})=>{const e=t.scene;if(!e.sceneJson||!e.sceneJson.data)return null;const n=e.sceneJson.data.tags,i=e.project?.artbook;return i?E.jsx(Hu,{label:"Tags",children:n.length?E.jsx("ul",{className:"list-group list-group-flush",children:n.map((r,a)=>{const u=i.getTag(r);if(!u)return null;const c=!t.getSkippedTags().includes(u.path);return E.jsxs("li",{className:"list-group-item p-0 border-0 d-flex align-items-center gap-2",children:[E.jsx("input",{type:"checkbox",className:"form-check-input m-0",checked:c,onChange:p=>{t.setTagSkipped(u.path,!p.target.checked)}}),E.jsx("span",{className:c?"":"text-muted",children:u.path})]},a)})}):E.jsx("div",{children:"No tags."})}):null}),zK={submitted:"gray",processing:"orange",succeed:"green",failed:"red"},qK=at(({task:t})=>{const n=t.data?.status??"submitted",i=zK[n]??"gray";return E.jsx("div",{className:"card mb-0",children:E.jsxs("div",{className:"card-body d-flex align-items-center justify-content-between py-0",children:[E.jsxs("div",{className:"d-flex align-items-center gap-2",children:[E.jsx("div",{style:{width:12,height:12,borderRadius:"50%",backgroundColor:i}}),E.jsx("span",{className:"fw-bold",children:t.id}),E.jsx("span",{className:"text-muted",children:n})]}),E.jsxs("div",{className:"d-flex gap-0",children:[E.jsx("span",{className:"text-muted me-2",children:t._status_log}),E.jsx(ct,{label:"Check Status",className:"btn-outline-primary btn-sm rounded-0",onClick:()=>{t.check_status()}}),E.jsx(ct,{label:"Delete",className:"btn-outline-danger btn-sm rounded-0",onClick:()=>{window.confirm(`Delete task ${t.id}?`)&&t.delete()}}),E.jsx(ct,{label:"Log",className:"btn-outline-secondary btn-sm rounded-0",onClick:()=>{t.log()}}),E.jsx(Ua,{isLoading:t.is_checking_status,asButton:!0})]})]})})}),JK=at(({shot:t})=>!t.tasks||t.tasks.length===0?E.jsx("div",{className:"mt-2 text-muted",children:"No tasks"}):E.jsx(Hu,{label:`Tasks (${t.tasks.length})`,defaultCollapsed:!1,className:"mt-2 mb-2",children:E.jsx("div",{className:"d-flex flex-column gap-0",children:t.tasks.map(e=>E.jsx(qK,{task:e},e.id))})})),KK=({label:t="Media Gallery",children:e,defaultCollapsed:n=!1,className:i="",headerExtra:r,editWindow:a})=>E.jsxs(Hu,{label:t,defaultCollapsed:n,className:i,headerExtra:r,children:[E.jsx("div",{className:"d-flex flex-wrap gap-2",children:e}),a&&E.jsx("div",{className:"mb-3",children:a})]}),jK=({localImage:t,height:e=150,topRightExtra:n,onClick:i,isSelected:r=!1,isPicked:a=!1})=>{const[u,c]=w.useState(null),[p,d]=w.useState(!1);return w.useEffect(()=>{let m=!0;return(async()=>{try{const S=await t.getUrlObject();m&&S&&c(S)}catch(S){console.error("Error loading LocalImage",S)}})(),()=>{m=!1}},[t]),u?E.jsxs("div",{className:"position-relative d-inline-block",style:{height:`${e}px`,cursor:"pointer",outline:a?"3px solid #085db7":"none",outlineOffset:-3},onMouseEnter:()=>d(!0),onMouseLeave:()=>d(!1),children:[r&&E.jsx("div",{style:{position:"absolute",top:5,left:5,width:20,height:20,borderRadius:"50%",backgroundColor:"limegreen",border:"2px solid white",zIndex:20}}),E.jsx("img",{src:u,alt:"Media",className:"img-fluid",onClick:i,style:{height:`${e}px`,width:"auto",objectFit:"contain",display:"block"}}),n&&p&&E.jsx("div",{className:"position-absolute",style:{top:"5px",right:"5px",zIndex:10,display:"flex",gap:"5px"},children:n})]}):E.jsx("div",{className:"d-flex align-items-center justify-content-center border rounded p-2",style:{height:`${e}px`,width:"auto"},children:"Loading..."})},D_=({localVideo:t,height:e=250,fillParent:n=!1,topRightExtra:i,onClick:r,autoPlay:a=!0,loop:u=!0,muted:c=!0,isSelected:p=!1,isPicked:d=!1})=>{const[m,y]=w.useState(null),[S,b]=w.useState(!1);return w.useEffect(()=>{let T=!0;return(async()=>{try{const x=await t.getUrlObject();T&&x&&y(x)}catch(x){console.error("Error loading LocalVideo",x)}})(),()=>{T=!1,t.revokeUrl()}},[t]),m?E.jsxs("div",{className:"position-relative d-inline-block",style:{height:n?"100%":`${e}px`,width:n?"100%":"auto",cursor:"pointer",outline:d?"3px solid #085db7":"none",outlineOffset:-3},onMouseEnter:()=>b(!0),onMouseLeave:()=>b(!1),children:[p&&E.jsx("div",{style:{position:"absolute",top:5,left:5,width:20,height:20,borderRadius:"50%",backgroundColor:"limegreen",border:"2px solid white",zIndex:20}}),E.jsx("video",{src:m,onClick:r,autoPlay:a,loop:u,muted:c,style:{height:n?"100%":`${e}px`,width:n?"100%":"auto",objectFit:"contain",display:"block"}}),i&&S&&E.jsx("div",{className:"position-absolute",style:{top:"5px",right:"5px",zIndex:10,display:"flex",gap:"5px"},children:i})]}):E.jsx("div",{className:"d-flex align-items-center justify-content-center border rounded p-2",style:{height:`${e}px`,width:"auto"},children:"Loading..."})},_u=({mediaItem:t,height:e=300,onSelectMedia:n,topRightExtra:i,isSelected:r=!1,isPicked:a=!1,label:u=""})=>t instanceof Ni?E.jsxs("div",{className:"position-relative d-inline-block",children:[E.jsx(jK,{localImage:t,height:e,onClick:()=>n?.(t),topRightExtra:i,isSelected:r,isPicked:a},t.path),u&&E.jsx("div",{className:"position-absolute bottom-0 start-50 translate-middle-x bg-dark text-white px-2 py-1 rounded small text-nowrap opacity-75 pe-none mb-1",children:u})]}):t instanceof wa?E.jsx(D_,{localVideo:t,height:e,topRightExtra:i,isSelected:r,isPicked:a,onClick:()=>n?.(t)},t.path):null,YK=({width:t=400,height:e=200,onDrop:n,children:i})=>{const[r,a]=w.useState(!1),u=d=>{d.preventDefault(),a(!0)},c=()=>{a(!1)},p=d=>{d.preventDefault(),a(!1);const m=Array.from(d.dataTransfer.files);m.length>0&&n(m)};return E.jsx("div",{className:`drop-area ${r?"dragging":""}`,style:{width:t,height:e,border:r?"2px solid #42a5f5":"2px dashed #606060",borderRadius:"8px",display:"flex",justifyContent:"center",alignItems:"center",cursor:"pointer",backgroundColor:r?"#294457":"#2a2a31",boxShadow:r?"0 0 10px rgba(66,165,245,0.5)":"none",transition:"all 0.2s ease-in-out"},onDragOver:u,onDragLeave:c,onDrop:p,children:i||E.jsx("span",{style:{display:"block",textAlign:"center",width:"100%",color:"#5e727e"},children:"Drag and Drop Here"})})};function rt(t,e="Assertion error"){if(!t)throw Error(e)}function sy(t,e){return e.sort(t==="horizontal"?XK:WK)}function XK(t,e){const n=t.element.offsetLeft-e.element.offsetLeft;return n!==0?n:t.element.offsetWidth-e.element.offsetWidth}function WK(t,e){const n=t.element.offsetTop-e.element.offsetTop;return n!==0?n:t.element.offsetHeight-e.element.offsetHeight}function Up({group:t}){const{orientation:e,panels:n}=t;return n.reduce((i,r)=>(i+=e==="horizontal"?r.element.offsetWidth:r.element.offsetHeight,i),0)}function cO(t){const{element:e,orientation:n,panels:i,separators:r}=t,a=sy(n,Array.from(e.children).filter(d=>d instanceof HTMLElement).map(d=>({element:d}))).map(({element:d})=>d),u=[];let c,p;for(const d of a){const m=i.find(y=>y.element===d);if(m){if(c){const y=c.element.getBoundingClientRect(),S=d.getBoundingClientRect();u.push({group:t,groupSize:Up({group:t}),panels:[c,m],separator:p,rect:n==="horizontal"?new DOMRect(y.right,S.top,S.left-y.right,S.height):new DOMRect(S.left,y.bottom,S.width,S.top-y.bottom)})}c=m,p=void 0}else{const y=r.find(S=>S.element===d);y?p=y:(c=void 0,p=void 0)}}return u}function QK(t,e){const n=getComputedStyle(t),i=parseFloat(n.fontSize);return e*i}function ZK(t,e){const n=getComputedStyle(t.ownerDocument.body),i=parseFloat(n.fontSize);return e*i}function ej(t){return t/100*window.innerHeight}function tj(t){return t/100*window.innerWidth}function nj(t){switch(typeof t){case"number":return[t,"px"];case"string":{const e=parseFloat(t);return t.endsWith("%")?[e,"%"]:t.endsWith("px")?[e,"px"]:t.endsWith("rem")?[e,"rem"]:t.endsWith("em")?[e,"em"]:t.endsWith("vh")?[e,"vh"]:t.endsWith("vw")?[e,"vw"]:[e,"%"]}}}function qf({groupSize:t,panelElement:e,styleProp:n}){let i;const[r,a]=nj(n);switch(a){case"%":{i=r/100*t;break}case"px":{i=r;break}case"rem":{i=ZK(e,r);break}case"em":{i=QK(e,r);break}case"vh":{i=ej(r);break}case"vw":{i=tj(r);break}}return i}function ni(t){return parseFloat(t.toFixed(3))}function PA(t){const{panels:e}=t,n=Up({group:t});return e.map(i=>{const{element:r,panelConstraints:a}=i;let u=0;if(a.collapsedSize){const m=qf({groupSize:n,panelElement:r,styleProp:a.collapsedSize});u=ni(m/n*100)}let c;if(a.defaultSize){const m=qf({groupSize:n,panelElement:r,styleProp:a.defaultSize});c=ni(m/n*100)}let p=0;if(a.minSize){const m=qf({groupSize:n,panelElement:r,styleProp:a.minSize});p=ni(m/n*100)}let d=100;if(a.maxSize){const m=qf({groupSize:n,panelElement:r,styleProp:a.maxSize});d=ni(m/n*100)}return{collapsedSize:u,collapsible:a.collapsible===!0,defaultSize:c,minSize:p,maxSize:d,panelId:i.id}})}class ij{#e={};addListener(e,n){const i=this.#e[e];return i===void 0?this.#e[e]=[n]:i.includes(n)||i.push(n),()=>{this.removeListener(e,n)}}emit(e,n){const i=this.#e[e];if(i!==void 0)if(i.length===1)i[0].call(null,n);else{let r=!1,a=null;const u=Array.from(i);for(let c=0;c<u.length;c++){const p=u[c];try{p.call(null,n)}catch(d){a===null&&(r=!0,a=d)}}if(r)throw a}}removeAllListeners(){this.#e={}}removeListener(e,n){const i=this.#e[e];if(i!==void 0){const r=i.indexOf(n);r>=0&&i.splice(r,1)}}}function Vt(t,e,n=0){return Math.abs(ni(t)-ni(e))<=n}let kn={cursorFlags:0,interactionState:{state:"inactive"},mountedGroups:new Map};const Vr=new ij;function Li(){return kn}function Vn(t){const e=typeof t=="function"?t(kn):t;if(kn===e)return kn;const n=kn;return kn={...kn,...e},e.cursorFlags!==void 0&&Vr.emit("cursorFlagsChange",kn.cursorFlags),e.interactionState!==void 0&&Vr.emit("interactionStateChange",kn.interactionState),e.mountedGroups!==void 0&&(kn.mountedGroups.forEach((i,r)=>{i.derivedPanelConstraints.forEach(a=>{if(a.collapsible){const{layout:u}=n.mountedGroups.get(r)??{};if(u){const c=Vt(a.collapsedSize,i.layout[a.panelId]),p=Vt(a.collapsedSize,u[a.panelId]);c&&!p&&(r.inMemoryLastExpandedPanelSizes[a.panelId]=u[a.panelId])}}})}),Vr.emit("mountedGroupsChange",kn.mountedGroups)),kn}const oj=t=>t,Wg=()=>{},fO=1,dO=2,pO=4,hO=8,kA={coarse:10,precise:5};function rj({cursorFlags:t,groups:e,state:n}){let i=0,r=0;switch(n){case"active":case"hover":e.forEach(a=>{if(!a.disableCursor)switch(a.orientation){case"horizontal":{i++;break}case"vertical":{r++;break}}})}if(i===0&&r===0)return null;switch(n){case"active":{const a=(t&fO)!==0,u=(t&dO)!==0,c=(t&pO)!==0,p=(t&hO)!==0;if(t){if(a)return c?"se-resize":p?"ne-resize":"e-resize";if(u)return c?"sw-resize":p?"nw-resize":"w-resize";if(c)return"s-resize";if(p)return"n-resize"}break}}return i>0&&r>0?"move":i>0?"ew-resize":"ns-resize"}let Qg,_i;function O_(){_i===void 0&&(_i=new CSSStyleSheet,document.adoptedStyleSheets=[_i]);const{cursorFlags:t,interactionState:e}=Li();switch(e.state){case"active":case"hover":{const n=rj({cursorFlags:t,groups:e.hitRegions.map(r=>r.group),state:e.state}),i=`*{cursor: ${n} !important; ${e.state==="active"?"touch-action: none;":""} }`;if(Qg===i)return;Qg=i,n?_i.cssRules.length===0?_i.insertRule(i):_i.replaceSync(i):_i.cssRules.length===1&&_i.deleteRule(0);break}case"inactive":{Qg=void 0,_i.cssRules.length===1&&_i.deleteRule(0);break}}}function sj(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!=e[n])return!1;return!0}function Su(t,e){return Vt(t,e)?0:t>e?1:-1}function fa({panelConstraints:t,size:e}){const{collapsedSize:n=0,collapsible:i,maxSize:r=100,minSize:a=0}=t;if(Su(e,a)<0)if(i){const u=(n+a)/2;Su(e,u)<0?e=n:e=a}else e=a;return e=Math.min(r,e),e=ni(e),e}function bu({delta:t,initialLayout:e,panelConstraints:n,pivotIndices:i,prevLayout:r,trigger:a}){if(Vt(t,0))return e;const u=Object.values(e),c=Object.values(r),p=[...u],[d,m]=i;rt(d!=null,"Invalid first pivot index"),rt(m!=null,"Invalid second pivot index");let y=0;if(a==="keyboard"){{const T=t<0?m:d,A=n[T];rt(A,`Panel constraints not found for index ${T}`);const{collapsedSize:x=0,collapsible:M,minSize:I=0}=A;if(M){const N=u[T];if(rt(N!=null,`Previous layout not found for panel index ${T}`),Vt(N,x)){const D=I-N;Su(D,Math.abs(t))>0&&(t=t<0?0-D:D)}}}{const T=t<0?d:m,A=n[T];rt(A,`No panel constraints found for index ${T}`);const{collapsedSize:x=0,collapsible:M,minSize:I=0}=A;if(M){const N=u[T];if(rt(N!=null,`Previous layout not found for panel index ${T}`),Vt(N,I)){const D=N-x;Su(D,Math.abs(t))>0&&(t=t<0?0-D:D)}}}}{const T=t<0?1:-1;let A=t<0?m:d,x=0;for(;;){const I=u[A];rt(I!=null,`Previous layout not found for panel index ${A}`);const N=fa({panelConstraints:n[A],size:100})-I;if(x+=N,A+=T,A<0||A>=n.length)break}const M=Math.min(Math.abs(t),Math.abs(x));t=t<0?0-M:M}{let T=t<0?d:m;for(;T>=0&&T<n.length;){const A=Math.abs(t)-Math.abs(y),x=u[T];rt(x!=null,`Previous layout not found for panel index ${T}`);const M=x-A,I=fa({panelConstraints:n[T],size:M});if(!Vt(x,I)&&(y+=x-I,p[T]=I,y.toFixed(3).localeCompare(Math.abs(t).toFixed(3),void 0,{numeric:!0})>=0))break;t<0?T--:T++}}if(sj(c,p))return r;{const T=t<0?m:d,A=u[T];rt(A!=null,`Previous layout not found for panel index ${T}`);const x=A+y,M=fa({panelConstraints:n[T],size:x});if(p[T]=M,!Vt(M,x)){let I=x-M,N=t<0?m:d;for(;N>=0&&N<n.length;){const D=p[N];rt(D!=null,`Previous layout not found for panel index ${N}`);const L=D+I,U=fa({panelConstraints:n[N],size:L});if(Vt(D,U)||(I-=U-D,p[N]=U),Vt(I,0))break;t>0?N--:N++}}}const S=Object.values(p).reduce((T,A)=>A+T,0);if(!Vt(S,100,.1))return r;const b=Object.keys(r);return p.reduce((T,A,x)=>(T[b[x]]=A,T),{})}function Yu(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(Su(t[n],e[n])!==0)return!1;return!0}function mO({event:t,hitRegions:e,initialLayoutMap:n,mountedGroups:i,pointerDownAtPoint:r}){let a=0;const u=new Map(i);e.forEach(c=>{const{group:p,groupSize:d}=c,{disableCursor:m,orientation:y,panels:S}=p;let b=0;r?y==="horizontal"?b=(t.clientX-r.x)/d*100:b=(t.clientY-r.y)/d*100:y==="horizontal"?b=t.clientX<0?-100:100:b=t.clientY<0?-100:100;const T=n.get(p),{derivedPanelConstraints:A,layout:x,separatorToPanels:M}=i.get(p)??{};if(A&&T&&x&&M){const I=bu({delta:b,initialLayout:T,panelConstraints:A,pivotIndices:c.panels.map(N=>S.indexOf(N)),prevLayout:x,trigger:"mouse-or-touch"});if(Yu(I,x)){if(b!==0&&!m)switch(y){case"horizontal":{a|=b<0?fO:dO;break}case"vertical":{a|=b<0?pO:hO;break}}}else{u.set(c.group,{derivedPanelConstraints:A,layout:I,separatorToPanels:M});const N=c.group.panels.map(({id:D})=>D).join(",");c.group.inMemoryLayouts[N]=I}}}),Vn({cursorFlags:a,mountedGroups:u}),O_()}function LA(t){if(t.defaultPrevented||t.relatedTarget!==null||t.clientX===0&&t.clientY===0)return;const{interactionState:e,mountedGroups:n}=Li();switch(e.state){case"active":e.hitRegions.forEach(i=>{t.currentTarget===i.group.element&&mO({event:t,hitRegions:e.hitRegions,initialLayoutMap:e.initialLayoutMap,mountedGroups:n})})}}function fd(t){const e=t.parentElement;rt(e,"Parent group element not found");const{mountedGroups:n}=Li();for(const[i]of n)if(i.element===e)return i;throw Error("Could not find parent Group for separator element")}function ts({layout:t,panelConstraints:e}){const n=[...Object.values(t)],i=n.reduce((u,c)=>u+c,0);if(n.length!==e.length)throw Error(`Invalid ${e.length} panel layout: ${n.map(u=>`${u}%`).join(", ")}`);if(!Vt(i,100)&&n.length>0)for(let u=0;u<e.length;u++){const c=n[u];rt(c!=null,`No layout data found for index ${u}`);const p=100/i*c;n[u]=p}let r=0;for(let u=0;u<e.length;u++){const c=n[u];rt(c!=null,`No layout data found for index ${u}`);const p=fa({panelConstraints:e[u],size:c});c!=p&&(r+=c-p,n[u]=p)}if(!Vt(r,0))for(let u=0;u<e.length;u++){const c=n[u];rt(c!=null,`No layout data found for index ${u}`);const p=c+r,d=fa({panelConstraints:e[u],size:p});if(c!==d&&(r-=d-c,n[u]=d,Vt(r,0)))break}const a=Object.keys(t);return n.reduce((u,c,p)=>(u[a[p]]=c,u),{})}function gO({groupId:t}){const e=()=>{const{mountedGroups:n}=Li();for(const[i,r]of n)if(i.id===t)return{group:i,...r};throw Error(`Group ${t} not found`)};return{getLayout(){const{layout:n}=e();return n},setLayout(n){const{derivedPanelConstraints:i,group:r,layout:a,separatorToPanels:u}=e(),c=ts({layout:n,panelConstraints:i});return Yu(a,c)||Vn(p=>({mountedGroups:new Map(p.mountedGroups).set(r,{derivedPanelConstraints:i,layout:c,separatorToPanels:u})})),c}}}function vO(t){const{mountedGroups:e}=Li(),n=e.get(t);return rt(n,`Mounted Group ${t.id} not found`),n}function Pr(t,e){const n=fd(t),i=vO(n),r=n.separators.find(m=>m.element===t);rt(r,"Matching separator not found");const a=i.separatorToPanels.get(r);rt(a,"Matching panels not found");const u=a.map(m=>n.panels.indexOf(m)),c=gO({groupId:n.id}).getLayout(),p=bu({delta:e,initialLayout:c,panelConstraints:i.derivedPanelConstraints,pivotIndices:u,prevLayout:c,trigger:"keyboard"}),d=ts({layout:p,panelConstraints:i.derivedPanelConstraints});Yu(c,d)||Vn(m=>({mountedGroups:new Map(m.mountedGroups).set(n,{derivedPanelConstraints:i.derivedPanelConstraints,layout:d,separatorToPanels:i.separatorToPanels})}))}function UA(t){if(t.defaultPrevented)return;const e=t.currentTarget,n=fd(e);if(!n.disabled)switch(t.key){case"ArrowDown":{t.preventDefault(),n.orientation==="vertical"&&Pr(e,5);break}case"ArrowLeft":{t.preventDefault(),n.orientation==="horizontal"&&Pr(e,-5);break}case"ArrowRight":{t.preventDefault(),n.orientation==="horizontal"&&Pr(e,5);break}case"ArrowUp":{t.preventDefault(),n.orientation==="vertical"&&Pr(e,-5);break}case"End":{t.preventDefault(),Pr(e,100);break}case"Enter":{t.preventDefault();const i=fd(e),{derivedPanelConstraints:r,layout:a,separatorToPanels:u}=vO(i),c=i.separators.find(y=>y.element===e);rt(c,"Matching separator not found");const p=u.get(c);rt(p,"Matching panels not found");const d=p[0],m=r.find(y=>y.panelId===d.id);if(rt(m,"Panel metadata not found"),m.collapsible){const y=a[d.id],S=m.collapsedSize===y?i.inMemoryLastExpandedPanelSizes[d.id]??m.minSize:m.collapsedSize;Pr(e,S-y)}break}case"F6":{t.preventDefault();const i=fd(e).separators.map(u=>u.element),r=Array.from(i).findIndex(u=>u===t.currentTarget);rt(r!==null,"Index not found");const a=t.shiftKey?r>0?r-1:i.length-1:r+1<i.length?r+1:0;i[a].focus();break}case"Home":{t.preventDefault(),Pr(e,-100);break}}}function aj(t,e){return{x:t.x>=e.left&&t.x<=e.right?0:Math.min(Math.abs(t.x-e.left),Math.abs(t.x-e.right)),y:t.y>=e.top&&t.y<=e.bottom?0:Math.min(Math.abs(t.y-e.top),Math.abs(t.y-e.bottom))}}function lj(t,e,n){let i,r={x:1/0,y:1/0};for(const a of e){const u=aj(n,a.rect);switch(t){case"horizontal":{u.x<=r.x&&(i=a,r=u);break}case"vertical":{u.y<=r.y&&(i=a,r=u);break}}}return i?{distance:r,hitRegion:i}:void 0}let Jf;function uj(){return Jf===void 0&&(typeof matchMedia=="function"?Jf=!!matchMedia("(pointer:coarse)").matches:Jf=!1),Jf}function yO(t,e){const n=[];return e.forEach((i,r)=>{if(r.disabled)return;const a=uj()?kA.coarse:kA.precise,u=cO(r),c=lj(r.orientation,u,{x:t.clientX,y:t.clientY});c&&c.distance.x<=a&&c.distance.y<=a&&n.push(c.hitRegion)}),n}function BA(t){if(t.defaultPrevented)return;const{mountedGroups:e}=Li(),n=yO(t,e),i=new Set,r=new Set,a=new Set,u=new Map;let c=!1;n.forEach(p=>{i.add(p.group),p.panels.forEach(m=>{r.add(m)}),p.separator&&(a.add(p.separator),c||(c=!0,p.separator.element.focus()));const d=e.get(p.group);d&&u.set(p.group,d.layout)}),Vn({interactionState:{hitRegions:n,initialLayoutMap:u,pointerDownAtPoint:{x:t.clientX,y:t.clientY},state:"active"}}),n.length&&t.preventDefault()}function FA(t){if(t.defaultPrevented)return;const{interactionState:e,mountedGroups:n}=Li();switch(e.state){case"active":{if(t.type!=="pointerleave"&&t.buttons===0){Vn(i=>i.interactionState.state==="inactive"?i:{cursorFlags:0,interactionState:{state:"inactive"}});return}mO({event:t,hitRegions:e.hitRegions,initialLayoutMap:e.initialLayoutMap,mountedGroups:n,pointerDownAtPoint:e.pointerDownAtPoint});break}default:{const i=yO(t,n);i.length===0?e.state!=="inactive"&&Vn({interactionState:{state:"inactive"}}):Vn({interactionState:{hitRegions:i,state:"hover"}}),O_();break}}}function $A(t){if(t.defaultPrevented)return;t.preventDefault();const{interactionState:e}=Li();switch(e.state){case"active":Vn({cursorFlags:0,interactionState:{state:"inactive"}}),O_()}}function cj(t){let e=0,n=0;const i={};for(const a of t)if(a.defaultSize!==void 0){e++;const u=ni(a.defaultSize);n+=u,i[a.panelId]=u}else i[a.panelId]=void 0;const r=t.length-e;if(r!==0){const a=ni((100-n)/r);for(const u of t)u.defaultSize===void 0&&(i[u.panelId]=a)}return i}function fj(t,e,n){const i=n[0];if(!i)return;const r=t.panels.find(u=>u.element===e);if(!r||!r.onResize)return;const a=Up({group:t});r.onResize({asPercentage:ni(i.inlineSize/a*100),inPixels:i.inlineSize},r.id)}function dj(t){let e=!0;rt(t.separators.length===0||t.separators.length<t.panels.length,"Invalid Group configuration; too many Separator components");const n=new Set,i=new Set,r=new ResizeObserver(y=>{for(const S of y){const{borderBoxSize:b,target:T}=S;T===t.element?e&&Vn(A=>{const x=A.mountedGroups.get(t);if(x){const M=PA(t),I=x.layout,N=ts({layout:I,panelConstraints:M});return{mountedGroups:new Map(A.mountedGroups).set(t,{derivedPanelConstraints:M,layout:N,separatorToPanels:x.separatorToPanels})}}return A}):fj(t,T,b)}});r.observe(t.element),t.panels.forEach(y=>{rt(!n.has(y.id),`Panel ids must be unique; id "${y.id}" was used more than once`),n.add(y.id),y.onResize&&r.observe(y.element)});const a=PA(t),u=t.panels.map(({id:y})=>y).join(","),c=t.inMemoryLayouts[u]??t.defaultLayout??cj(a),p=ts({layout:c,panelConstraints:a}),d=cO(t),m=Vn(y=>({mountedGroups:new Map(y.mountedGroups).set(t,{derivedPanelConstraints:a,layout:p,separatorToPanels:new Map(d.filter(S=>S.separator).map(S=>[S.separator,S.panels]))})}));return t.element.addEventListener("pointerleave",LA),t.separators.forEach(y=>{rt(!i.has(y.id),`Separator ids must be unique; id "${y.id}" was used more than once`),i.add(y.id),y.element.addEventListener("keydown",UA)}),m.mountedGroups.size===1&&(window.addEventListener("pointerdown",BA),window.addEventListener("pointermove",FA),window.addEventListener("pointerup",$A)),function(){e=!1;const y=Vn(S=>{const b=new Map(S.mountedGroups);return b.delete(t),{mountedGroups:b}});t.element.removeEventListener("pointerleave",LA),t.separators.forEach(S=>{S.element.removeEventListener("keydown",UA)}),y.mountedGroups.size===0&&(window.removeEventListener("pointerdown",BA),window.removeEventListener("pointermove",FA),window.removeEventListener("pointerup",$A)),r.disconnect()}}function P_(t){const e=w.useId();return`${t??e}`}const Ba=typeof window<"u"?w.useLayoutEffect:w.useEffect;function k_(t){const e=w.useRef(t);return Ba(()=>{e.current=t},[t]),w.useCallback(n=>e.current?.(n),[e])}function L_(...t){return k_(e=>{t.forEach(n=>{if(n)switch(typeof n){case"function":{n(e);break}case"object":{n.current=e;break}}})})}const _O="--react-resizable-panels--panel--pointer-events";function SO(t,e){const n=t.replace(/[^a-zA-Z0-9\-_]/g,""),i=e.replace(/[^a-zA-Z0-9\-_]/g,"");return`--react-resizable-panels--${n}--${i}`}const bO=w.createContext(null);function pj(t,e){const n=w.useRef({getLayout:()=>({}),setLayout:oj});w.useImperativeHandle(e,()=>n.current,[]),Ba(()=>{Object.assign(n.current,gO({groupId:t}))})}function EO({children:t,className:e,defaultLayout:n,disableCursor:i,disabled:r,elementRef:a,groupRef:u,id:c,onLayoutChange:p,orientation:d="horizontal",style:m,...y}){const S=w.useRef({}),b=k_(ae=>{Yu(S.current,ae)||(S.current=ae,p?.(ae))}),T=P_(c),[A,x]=w.useState(!1),[M,I]=w.useState(null),[N,D]=w.useState(n??{}),[L,U]=w.useState([]),[O,q]=w.useState([]),J=w.useRef({}),Y=w.useRef({}),W=L_(I,a);pj(T,u);const re=w.useMemo(()=>({id:T,orientation:d,registerPanel:ae=>(U(de=>sy(d,[...de,ae])),()=>{U(de=>de.filter(F=>F!==ae))}),registerSeparator:ae=>(q(de=>sy(d,[...de,ae])),()=>{q(de=>de.filter(F=>F!==ae))})}),[T,d]);Ba(()=>{if(M!==null&&L.length>0){const ae={defaultLayout:n,disableCursor:!!i,disabled:!!r,element:M,id:T,inMemoryLastExpandedPanelSizes:J.current,inMemoryLayouts:Y.current,orientation:d,panels:L,separators:O},de=dj(ae),F=Li().mountedGroups.get(ae);F&&(D(F.layout),b?.(F.layout));const Q=Vr.addListener("interactionStateChange",ne=>{switch(ne.state){case"active":case"hover":{x(ne.hitRegions.some(ce=>ce.group===ae));break}}}),ee=Vr.addListener("mountedGroupsChange",ne=>{const ce=ne.get(ae);ce&&ce.derivedPanelConstraints.length>0&&(D(ce.layout),b?.(ce.layout))});return()=>{de(),Q(),ee()}}},[n,i,r,M,T,b,d,L,O]);const ie={[_O]:A?"none":void 0};for(const ae in N){const de=SO(T,ae),F=N[ae];ie[de]=F}return E.jsx(bO.Provider,{value:re,children:E.jsx("div",{...y,"aria-orientation":d,className:e,"data-group":!0,"data-testid":T,id:T,ref:W,style:{...m,...ie,display:"flex",flexDirection:d==="horizontal"?"row":"column",flexWrap:"nowrap"},children:t})})}function U_(){const t=w.useContext(bO);return rt(t,"Group Context not found; did you render a Panel or Separator outside of a Group?"),t}function hj({groupId:t,panelId:e}){const n=()=>{const{mountedGroups:c}=Li();for(const[p,{derivedPanelConstraints:d,layout:m,separatorToPanels:y}]of c)if(p.id===t)return{derivedPanelConstraints:d,group:p,layout:m,separatorToPanels:y};throw Error(`Group ${t} not found`)},i=()=>{const c=n().derivedPanelConstraints.find(p=>p.panelId===e);if(c!==void 0)return c;throw Error(`Panel constraints not found for Panel ${e}`)},r=()=>{const c=n().group.panels.find(p=>p.id===e);if(c!==void 0)return c;throw Error(`Layout not found for Panel ${e}`)},a=()=>{const c=n().layout[e];if(c!==void 0)return c;throw Error(`Layout not found for Panel ${e}`)},u=c=>{const p=a();if(c===p)return;const{derivedPanelConstraints:d,group:m,layout:y,separatorToPanels:S}=n(),b=m.panels.findIndex(M=>M.id===e),T=b===m.panels.length-1,A=bu({delta:T?p-c:c-p,initialLayout:y,panelConstraints:d,pivotIndices:T?[b-1,b]:[b,b+1],prevLayout:y,trigger:"imperative-api"}),x=ts({layout:A,panelConstraints:d});Yu(y,x)||Vn(M=>({mountedGroups:new Map(M.mountedGroups).set(m,{derivedPanelConstraints:d,layout:x,separatorToPanels:S})}))};return{collapse:()=>{const{collapsible:c,collapsedSize:p}=i(),d=a();c&&d!==p&&u(p)},expand:()=>{const{collapsible:c,collapsedSize:p,minSize:d}=i(),m=a();c&&m===p&&u(d)},getSize:()=>{const{group:c}=n(),p=a(),{element:d}=r(),m=c.orientation==="horizontal"?d.offsetWidth:d.offsetHeight;return{asPercentage:p,inPixels:m}},isCollapsed:()=>{const{collapsible:c,collapsedSize:p}=i(),d=a();return c&&Vt(p,d)},resize:c=>{if(a()!==c){let p;switch(typeof c){case"number":{const{group:d}=n(),m=Up({group:d});p=ni(c/m*100);break}case"string":{p=parseFloat(c);break}}u(p)}}}}function mj(t,e){const{id:n}=U_(),i=w.useRef({collapse:Wg,expand:Wg,getSize:()=>({asPercentage:0,inPixels:0}),isCollapsed:()=>!1,resize:Wg});w.useImperativeHandle(e,()=>i.current,[]),Ba(()=>{Object.assign(i.current,hj({groupId:n,panelId:t}))})}function Kd({children:t,className:e,collapsedSize:n="0%",collapsible:i=!1,defaultSize:r,elementRef:a,id:u,maxSize:c="100%",minSize:p="0%",onResize:d,panelRef:m,style:y,...S}){const b=!!u,T=P_(u),[A,x]=w.useState(null),M=L_(x,a),{id:I,registerPanel:N}=U_(),D=d!==null,L=k_(O=>{d?.(O,u)});Ba(()=>{if(A!==null)return N({element:A,id:T,idIsStable:b,onResize:D?L:void 0,panelConstraints:{collapsedSize:n,collapsible:i,defaultSize:r,maxSize:c,minSize:p}})},[n,i,r,A,D,T,b,c,p,L,N]),mj(T,m);const U=SO(I,T);return E.jsx("div",{...S,"data-panel":!0,"data-testid":T,id:T,ref:M,style:{...gj,flexBasis:0,flexGrow:`var(${U}, 1)`,flexShrink:1,overflow:"hidden",pointerEvents:`var(${_O})`},children:E.jsx("div",{className:e,style:{width:"100%",height:"100%",...y},children:t})})}const gj={minHeight:"unset",maxHeight:"unset",height:"unset",minWidth:"unset",maxWidth:"unset",width:"unset",flex:"unset",flexBasis:"unset",flexShrink:"unset",flexGrow:"unset",border:"unset",borderWidth:"unset",padding:"unset",margin:"unset"};function vj({layout:t,panelConstraints:e,panelId:n,panelIndex:i}){let r,a;const u=t[n],c=e.find(p=>p.panelId===n);if(c){const p=c.maxSize,d=a=c.collapsible?c.collapsedSize:c.minSize,m=[i,i+1];a=ts({layout:bu({delta:d-u,initialLayout:t,panelConstraints:e,pivotIndices:m,prevLayout:t,trigger:"keyboard"}),panelConstraints:e})[n],r=ts({layout:bu({delta:p-u,initialLayout:t,panelConstraints:e,pivotIndices:m,prevLayout:t,trigger:"keyboard"}),panelConstraints:e})[n]}return{valueControls:n,valueMax:r,valueMin:a,valueNow:u}}function wO({children:t,className:e,elementRef:n,id:i,style:r,...a}){const u=P_(i),[c,p]=w.useState({}),[d,m]=w.useState("inactive"),[y,S]=w.useState(null),b=L_(S,n),{id:T,orientation:A,registerSeparator:x}=U_(),M=A==="horizontal"?"vertical":"horizontal";return Ba(()=>{if(y!==null){const I={element:y,id:u},N=x(I),D=Vr.addListener("interactionStateChange",U=>{m(U.state!=="inactive"&&U.hitRegions.some(O=>O.separator===I)?U.state:"inactive")}),L=Vr.addListener("mountedGroupsChange",U=>{U.forEach(({derivedPanelConstraints:O,layout:q,separatorToPanels:J},Y)=>{if(Y.id===T){const W=J.get(I);if(W){const re=W[0],ie=Y.panels.indexOf(re);p(vj({layout:q,panelConstraints:O,panelId:re.id,panelIndex:ie}))}}})});return()=>{D(),L(),N()}}},[y,T,u,x]),E.jsx("div",{...a,"aria-controls":c.valueControls,"aria-orientation":M,"aria-valuemax":c.valueMax,"aria-valuemin":c.valueMin,"aria-valuenow":c.valueNow,children:t,className:e,"data-separator":d,"data-testid":u,id:u,ref:b,role:"separator",style:{flexBasis:"auto",...r,flexGrow:0,flexShrink:0},tabIndex:0})}const yj=({localImage:t,initialText:e="",onImageGenerated:n,onClose:i})=>{const[r,a]=w.useState(null),[u,c]=w.useState(e),[p,d]=w.useState(!1),[m,y]=w.useState(ti.options.img_models.flash_image);w.useEffect(()=>{let b=!0;return t.getUrlObject().then(T=>{b&&a(T)}),()=>{b=!1}},[t]);const S=async()=>{d(!0);try{const b=await t.getBase64(),T=await ti.img2img(u||"",m,[{rawBase64:b.rawBase64,mime:b.mime,description:""}]);n&&n(T)}catch(b){console.error("GenerateImage failed:",b)}finally{d(!1)}};return E.jsx("div",{className:"border d-flex flex-column",style:{height:"700px"},children:E.jsxs(EO,{orientation:"horizontal",style:{height:"100%"},children:[E.jsx(Kd,{defaultSize:500,minSize:10,children:E.jsx("div",{className:"d-flex align-items-center justify-content-center overflow-hidden",style:{height:"100%"},children:r?E.jsx("img",{src:r,alt:"Preview",className:"img-fluid",style:{objectFit:"contain",maxHeight:"100%",maxWidth:"100%"}}):E.jsx("div",{children:"Loading image"})})}),E.jsx(wO,{style:{cursor:"ew-resize",backgroundColor:"#8f8f8fff",width:"10px"}}),E.jsx(Kd,{minSize:10,children:E.jsxs("div",{className:"d-flex flex-column h-100 p-3",style:{height:"100%"},children:[E.jsx("div",{className:"d-flex justify-content-end mb-2",children:i&&E.jsx("button",{type:"button",onClick:i,style:{cursor:"pointer"},children:""})}),E.jsxs("div",{className:"flex-grow-1 d-flex flex-column",children:[E.jsx("textarea",{value:u,onChange:b=>c(b.target.value),placeholder:"Edit This Image:",style:{flexGrow:1,resize:"none",padding:"8px",fontSize:"14px"}}),E.jsx(es,{value:m,options:Object.values(ti.options.img_models),label:"Model:",onChange:b=>{y(b)}}),E.jsx(xp,{onClick:S,label:"Generate",is_loading:p})]})]})})]})})},_j=({localVideo:t,initialText:e="",onVideoTaskCreated:n,onClose:i})=>{const[r,a]=w.useState(e),[u,c]=w.useState(!1),[p,d]=w.useState(Ye.options.omni_video.mode.pro),[m,y]=w.useState(Ye.options.omni_video.video.keep_original_sound.yes),S=async()=>{c(!0);try{const b=await t.getWebUrl(),T=await Ye.omniVideo({prompt:r,model:Ye.options.omni_video.model.o1,mode:p,video_list:[{video_url:b,refer_type:Ye.options.omni_video.video.refer_type.base,keep_original_sound:m}]});n?.(T)}catch(b){console.error("GenerateVideoEdit failed:",b)}finally{c(!1)}};return E.jsx("div",{className:"border d-flex flex-column",style:{height:"700px"},children:E.jsxs(EO,{orientation:"horizontal",style:{height:"100%"},children:[E.jsx(Kd,{defaultSize:500,minSize:10,children:E.jsx("div",{className:"d-flex align-items-center justify-content-center h-100",children:E.jsx(D_,{localVideo:t,fillParent:!0})})}),E.jsx(wO,{style:{cursor:"ew-resize",backgroundColor:"#8f8f8fff",width:"10px"}}),E.jsx(Kd,{minSize:10,children:E.jsxs("div",{className:"d-flex flex-column h-100 p-3",children:[E.jsx("div",{className:"d-flex justify-content-end mb-2",children:i&&E.jsx("button",{type:"button",onClick:i,children:""})}),E.jsxs("div",{className:"flex-grow-1 d-flex flex-column",children:[E.jsx("textarea",{value:r,onChange:b=>a(b.target.value),placeholder:"[@Video] make the character smile",style:{flexGrow:1,resize:"none",padding:"8px",fontSize:"14px"}}),E.jsx(es,{label:"Mode:",value:p,options:Object.values(Ye.options.omni_video.mode),onChange:b=>d(b)}),E.jsx(es,{label:"Keep Original Sound:",value:m,options:Object.values(Ye.options.omni_video.video.keep_original_sound),onChange:b=>y(b)}),E.jsx(xp,{onClick:S,label:"Generate",is_loading:u})]})]})})]})})},lo=at(({mediaFolder:t,label:e=null,itemHeight:n=300})=>!t||!t.folder?null:(e=e||t.folderName,E.jsx(E.Fragment,{children:E.jsxs(KK,{label:e,headerExtra:E.jsxs(E.Fragment,{children:[E.jsx(ct,{label:"Log",className:"btn-outline-secondary btn-sm",onClick:()=>{t.log()}}),E.jsx(ct,{label:"Import URL",className:"btn-outline-secondary btn-sm",onClick:async()=>{try{const i=await navigator.clipboard.readText();i&&(i.startsWith("http://")||i.startsWith("https://"))?(console.log("Importing URL from clipboard:",i),t.downloadFromUrl(i)):alert("Clipboard does not contain a valid URL.")}catch(i){console.error("Failed to read clipboard:",i),alert("Failed to access clipboard.")}}}),E.jsx(ct,{label:"Paste",className:"btn-outline-secondary btn-sm",onClick:()=>{t.copyFromClipboard()}})]}),editWindow:E.jsxs(E.Fragment,{children:[t.selectedMedia instanceof Ni?E.jsx(yj,{localImage:t.selectedMedia,initialText:"Notes for this image",onImageGenerated:async i=>{console.log("Image generated:",i);const r=await ti.saveResultImage(i,t.folder);r&&t.loadFile(r?.handle)},onClose:()=>t.setSelectedMedia(null)}):null,t.selectedMedia instanceof wa?E.jsx(E.Fragment,{children:E.jsx(_j,{localVideo:t.selectedMedia,initialText:"Notes for this video",onVideoTaskCreated:async i=>{console.log("Video task created:",i);const a=t.shot.addTask(i.id,{provider:Md.KLING,workflow:i.workflow});await new Promise(u=>setTimeout(u,100)),console.log("created_task"),a.check_status()},onClose:()=>t.setSelectedMedia(null)})}):null]}),children:[t.media.map(i=>E.jsx(_u,{mediaItem:i,height:n,onSelectMedia:r=>{t.setSelectedMedia(r)},isSelected:t.getMediaTags(i).length>0,isPicked:t.selectedMedia==i,label:t.getMediaTags(i).join(","),topRightExtra:E.jsxs(E.Fragment,{children:[E.jsx(ct,{label:"Delete",className:"btn-outline-danger btn-sm",onClick:async()=>{await t.deleteMedia(i)}}),E.jsx(PI,{items:t.tags,currentItem:"TAG",onPicked:r=>{t.setNamedMedia(r,i)}})]})},i.path)),E.jsx(YK,{width:100,height:n,onDrop:async i=>{await t.saveFiles(i)}})]})}))),zr=at(function({workflowName:e,project:n,optionName:i,label:r,values:a}){const u=n?.workflows?.[e]?.[i];return E.jsx(es,{value:u,options:a,label:r,onChange:c=>{n.updateWorkflow(e,i,c)}})}),Sj=at(({shot:t})=>{const e=t.scene.project;return E.jsx(Lp,{className:"mb-2",buttons:E.jsxs(E.Fragment,{children:[E.jsx("button",{className:"btn btn-sm btn-outline-success",onClick:async()=>{t.GenerateVideo()},children:"Generate Video"}),E.jsx(zr,{project:e,workflowName:"generate_video_kling",optionName:"model",values:Object.values(Ye.options.img2video.model)}),E.jsx(zr,{project:e,workflowName:"generate_video_kling",optionName:"mode",label:"mode:",values:Object.values(Ye.options.img2video.mode)}),E.jsx(zr,{project:e,workflowName:"generate_video_kling",optionName:"duration",label:"Duration:",values:Object.values(Ye.options.img2video.duration)}),E.jsx(Ua,{isLoading:t.is_submitting_video,asButton:!0})]}),content:E.jsxs(E.Fragment,{children:[E.jsx(Pt,{localJson:t.shotJson,field:"video_prompt",fitHeight:!0}),E.jsx(_u,{mediaItem:t.srcImage,height:400}),E.jsx(_u,{mediaItem:t.MediaFolder_results?.getNamedMedia("end_frame"),height:400}),E.jsx(lo,{mediaFolder:t.MediaFolder_results,label:"Source Image",itemHeight:300})]})})}),bj=at(({shot:t})=>{const e=t.scene.project;return E.jsx(Lp,{className:"mb-2",buttons:E.jsxs(E.Fragment,{children:[E.jsx("button",{className:"btn btn-sm btn-outline-success",onClick:async()=>{t.GenerateVideo_KlingMotionControl()},children:"Gen Motion Control Video"}),E.jsx(zr,{project:e,workflowName:"kling_motion_control",optionName:"character_orientation",label:"Orient:",values:Object.values(Ye.options.motion_control.character_orientation)}),E.jsx(zr,{project:e,workflowName:"kling_motion_control",optionName:"mode",label:"mode:",values:Object.values(Ye.options.motion_control.mode)}),E.jsx(zr,{project:e,workflowName:"kling_motion_control",optionName:"keep_original_sound",label:"Sound:",values:Object.values(Ye.options.motion_control.keep_original_sound)}),E.jsx(Ua,{isLoading:t.is_submitting_video,asButton:!0})]}),content:E.jsxs(E.Fragment,{children:[E.jsx(Pt,{localJson:t.shotJson,field:"video_prompt",fitHeight:!0}),E.jsx(_u,{mediaItem:t.srcImage,height:400}),t.kling_motion_video&&E.jsx(D_,{localVideo:t.kling_motion_video,height:400,topRightExtra:E.jsx(E.Fragment,{})}),E.jsx(lo,{mediaFolder:t.MediaFolder_results,label:"Source Image",itemHeight:300}),E.jsx(lo,{mediaFolder:t.MediaFolder_refVideo,label:"Motion Video",itemHeight:300})]})})}),Ej=at(({shot:t})=>{const e=t.scene.project;return E.jsx(Lp,{className:"mb-2",buttons:E.jsxs(E.Fragment,{children:[E.jsx("button",{className:"btn btn-sm btn-outline-success",onClick:async()=>{t.StylizeImage()},children:"Stylize Image"}),E.jsx(zr,{project:e,workflowName:"stylize_image_google",optionName:"model",values:qy}),E.jsx(Ua,{isLoading:t.is_generating,asButton:!0})]}),content:E.jsxs(E.Fragment,{children:[E.jsx(_u,{mediaItem:t.ref_frame,height:300,label:"REFERENCE"}),E.jsx(Pt,{localJson:e.projinfo,field:"workflows/stylize_image_google/prompt",fitHeight:!0}),E.jsx(Pt,{localJson:t.shotJson,field:"stylize_prompt",fitHeight:!0}),E.jsx(lo,{mediaFolder:t.MediaFolder_results,label:"pick reference Frame",itemHeight:300}),E.jsx(uO,{shot:t})]})})}),wj=at(({shot:t})=>{if(!t.shotJson)return E.jsx("div",{children:"Loading shot info..."});const e=async()=>{window.confirm(`Are you sure you want to delete shot "${t.folder.name}"?`)&&await t.delete()};return E.jsxs(E.Fragment,{children:[E.jsxs("div",{className:"d-flex align-items-center justify-content-between mb-0",children:[E.jsx("strong",{children:t.folder.name}),E.jsxs("div",{className:"d-flex gap-2",children:[E.jsx(es,{value:t.shotJson.getField("shot_type")||"shot_type",options:["simple shot","actor shot"],onChange:n=>{t.shotJson?.updateField("shot_type",n)}}),E.jsx(lO,{label:"Finished",value:!!t.shotJson.data?.finished,onToggle:n=>{t.shotJson&&t.shotJson.updateField("finished",n)}}),E.jsx(ct,{onClick:()=>{t.log()},label:"Log Shot"}),E.jsx(ct,{onClick:e,label:"Delete Shot",className:"btn-outline-danger"})]})]}),E.jsx(Ca,{tabs:{Generate_Image:E.jsx("div",{className:"card mb-2",children:E.jsxs("div",{className:"card-body",children:[E.jsx(Ej,{shot:t}),E.jsx("div",{className:"mb-0",children:E.jsxs("div",{className:"btn-group mb-2",role:"group",children:[E.jsx("button",{className:"btn btn-sm btn-outline-success",onClick:async()=>{t.GenerateImage()},children:" Generate Image "}),E.jsx(es,{value:t.scene.project.workflows.generate_shot_image.model,options:qy,onChange:n=>{t.scene.project.updateWorkflow("generate_shot_image","model",n)}}),E.jsx(Ua,{isLoading:t.is_generating,asButton:!0})]})}),E.jsx(Pt,{localJson:t.shotJson,field:"prompt",fitHeight:!0}),E.jsx(Pt,{localJson:t.shotJson,field:"video_prompt",fitHeight:!0}),E.jsx(Pt,{localJson:t.shotJson,field:"camera",fitHeight:!0}),E.jsx(Pt,{localJson:t.shotJson,field:"action_description",fitHeight:!0}),E.jsx(uO,{shot:t}),E.jsx(lo,{mediaFolder:t.MediaFolder_results})]})}),Generate_VIDEO:E.jsxs(E.Fragment,{children:[E.jsx(Sj,{shot:t}),E.jsx(bj,{shot:t}),E.jsx(JK,{shot:t}),E.jsx(lo,{mediaFolder:t.MediaFolder_genVideo})]}),Output:E.jsxs(E.Fragment,{children:[E.jsx(lo,{mediaFolder:t.MediaFolder_genVideo}),E.jsx(lo,{mediaFolder:t.MediaFolder_results}),E.jsx(lo,{mediaFolder:t.MediaFolder_refVideo})]})}})]})}),Cj=at(({scene:t})=>{const[e,n]=w.useState(null);w.useEffect(()=>{n(null)},[t]);const i=async()=>{const r=prompt("Enter new shot name:");if(!r)return;const a=await t.createShot(r);a&&n(a)};return E.jsxs("div",{className:"d-flex flex-column gap-3",children:[E.jsx(VK,{initialHeight:200,children:E.jsxs("div",{className:"d-flex overflow-auto gap-2 h-100",children:[t.shots.map(r=>E.jsx(GK,{shot:r,isSelected:e===r,onClick:n},r.folder.name)),E.jsx("div",{className:"mt-2",children:E.jsx(ct,{label:"+ Add Shot",onClick:i})})]})}),E.jsxs("div",{children:[E.jsx(xp,{onClick:()=>{t.generateAllShotImages()},label:"Generate ALL",is_loading:t.is_generating_all_shot_images}),E.jsx(ct,{label:"+ Add Shot",onClick:i}),E.jsx(ct,{label:"Export Resolve XML",onClick:()=>{t.createResolveXML()}})]}),e&&E.jsx(wj,{shot:e})]})}),Tj=at(({project:t})=>{switch(t.currentView.type){case"settings":return E.jsx(y6,{project:t});case"script":return E.jsx(_6,{project:t});case"artbook":return t.artbook?E.jsx(b6,{artbook:t.artbook}):E.jsx("div",{children:"No Artbook found."});case"scene":if(!t.selectedScene)return null;const e=t.selectedScene;return E.jsxs("div",{children:[E.jsx("h2",{children:e.folder.name}),E.jsx(Ca,{tabs:{Scene:E.jsx(HK,{scene:e}),Shots:E.jsx(Cj,{scene:e})}})]});default:return null}}),Aj=at(()=>{const[t]=w.useState(()=>new h6(null)),e=async()=>{try{const i=await window.showDirectoryPicker();await t.loadFromFolder(i)}catch(i){console.error(i)}},n=async i=>{let r=await i.queryPermission({mode:"readwrite"});r!=="granted"&&(r=await i.requestPermission({mode:"readwrite"})),r==="granted"&&await t.loadFromFolder(i)};return w.useEffect(()=>{(async()=>{if(await t.loadDB(),t.userSettingsDB.data.lastOpenedFolder){const r=t.userSettingsDB.data.lastOpenedFolder;let a=await r.queryPermission({mode:"readwrite"});a!=="granted"&&(a=await r.requestPermission({mode:"readwrite"})),a==="granted"&&await t.loadFromFolder(r)}})()},[]),E.jsxs("div",{style:{minHeight:"100vh"},children:[E.jsx(m6,{onOpenFolder:e,recentFolders:t.userSettingsDB.data.recentFolders,onOpenRecent:n,project:t}),E.jsxs("div",{className:"d-flex",style:{height:"calc(100vh - 56px)",overflow:"hidden"},children:[E.jsx(v6,{project:t}),E.jsx("div",{className:"flex-grow-1 d-flex flex-column overflow-hidden",children:E.jsx("div",{className:"flex-grow-1 overflow-auto p-3",children:E.jsx(Tj,{project:t})})})]})]})}),xj=w.createContext(void 0),Rj=({children:t})=>{const[e,n]=w.useState(null);return E.jsx(xj.Provider,{value:{contentArea:e,setContentArea:n},children:t})};QP.createRoot(document.getElementById("root")).render(E.jsx(w.StrictMode,{children:E.jsx(Rj,{children:E.jsx(Aj,{})})}));
