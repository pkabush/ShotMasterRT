function AP(t,e){for(var n=0;n<e.length;n++){const i=e[n];if(typeof i!="string"&&!Array.isArray(i)){for(const r in i)if(r!=="default"&&!(r in t)){const a=Object.getOwnPropertyDescriptor(i,r);a&&Object.defineProperty(t,r,a.get?a:{enumerable:!0,get:()=>i[r]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const a of r)if(a.type==="childList")for(const u of a.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function n(r){const a={};return r.integrity&&(a.integrity=r.integrity),r.referrerPolicy&&(a.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?a.credentials="include":r.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(r){if(r.ep)return;r.ep=!0;const a=n(r);fetch(r.href,a)}})();function gu(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Hm={exports:{}},xl={};var _b;function xP(){if(_b)return xl;_b=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(i,r,a){var u=null;if(a!==void 0&&(u=""+a),r.key!==void 0&&(u=""+r.key),"key"in r){a={};for(var c in r)c!=="key"&&(a[c]=r[c])}else a=r;return r=a.ref,{$$typeof:t,type:i,key:u,ref:r!==void 0?r:null,props:a}}return xl.Fragment=e,xl.jsx=n,xl.jsxs=n,xl}var Sb;function RP(){return Sb||(Sb=1,Hm.exports=xP()),Hm.exports}var A=RP(),Gm={exports:{}},Ae={};var Eb;function MP(){if(Eb)return Ae;Eb=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),u=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),y=Symbol.for("react.activity"),S=Symbol.iterator;function E(L){return L===null||typeof L!="object"?null:(L=S&&L[S]||L["@@iterator"],typeof L=="function"?L:null)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},T=Object.assign,x={};function M(L,K,se){this.props=L,this.context=K,this.refs=x,this.updater=se||C}M.prototype.isReactComponent={},M.prototype.setState=function(L,K){if(typeof L!="object"&&typeof L!="function"&&L!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,L,K,"setState")},M.prototype.forceUpdate=function(L){this.updater.enqueueForceUpdate(this,L,"forceUpdate")};function I(){}I.prototype=M.prototype;function N(L,K,se){this.props=L,this.context=K,this.refs=x,this.updater=se||C}var D=N.prototype=new I;D.constructor=N,T(D,M.prototype),D.isPureReactComponent=!0;var U=Array.isArray;function k(){}var O={H:null,A:null,T:null,S:null},q=Object.prototype.hasOwnProperty;function J(L,K,se){var le=se.ref;return{$$typeof:t,type:L,key:K,ref:le!==void 0?le:null,props:se}}function X(L,K){return J(L.type,K,L.props)}function j(L){return typeof L=="object"&&L!==null&&L.$$typeof===t}function re(L){var K={"=":"=0",":":"=2"};return"$"+L.replace(/[=:]/g,function(se){return K[se]})}var ie=/\/+/g;function ae(L,K){return typeof L=="object"&&L!==null&&L.key!=null?re(""+L.key):K.toString(36)}function de(L){switch(L.status){case"fulfilled":return L.value;case"rejected":throw L.reason;default:switch(typeof L.status=="string"?L.then(k,k):(L.status="pending",L.then(function(K){L.status==="pending"&&(L.status="fulfilled",L.value=K)},function(K){L.status==="pending"&&(L.status="rejected",L.reason=K)})),L.status){case"fulfilled":return L.value;case"rejected":throw L.reason}}throw L}function H(L,K,se,le,me){var Ee=typeof L;(Ee==="undefined"||Ee==="boolean")&&(L=null);var ve=!1;if(L===null)ve=!0;else switch(Ee){case"bigint":case"string":case"number":ve=!0;break;case"object":switch(L.$$typeof){case t:case e:ve=!0;break;case m:return ve=L._init,H(ve(L._payload),K,se,le,me)}}if(ve)return me=me(L),ve=le===""?"."+ae(L,0):le,U(me)?(se="",ve!=null&&(se=ve.replace(ie,"$&/")+"/"),H(me,K,se,"",function(nn){return nn})):me!=null&&(j(me)&&(me=X(me,se+(me.key==null||L&&L.key===me.key?"":(""+me.key).replace(ie,"$&/")+"/")+ve)),K.push(me)),1;ve=0;var Ve=le===""?".":le+":";if(U(L))for(var ze=0;ze<L.length;ze++)le=L[ze],Ee=Ve+ae(le,ze),ve+=H(le,K,se,Ee,me);else if(ze=E(L),typeof ze=="function")for(L=ze.call(L),ze=0;!(le=L.next()).done;)le=le.value,Ee=Ve+ae(le,ze++),ve+=H(le,K,se,Ee,me);else if(Ee==="object"){if(typeof L.then=="function")return H(de(L),K,se,le,me);throw K=String(L),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(L).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return ve}function Q(L,K,se){if(L==null)return L;var le=[],me=0;return H(L,le,"","",function(Ee){return K.call(se,Ee,me++)}),le}function ee(L){if(L._status===-1){var K=L._result;K=K(),K.then(function(se){(L._status===0||L._status===-1)&&(L._status=1,L._result=se)},function(se){(L._status===0||L._status===-1)&&(L._status=2,L._result=se)}),L._status===-1&&(L._status=0,L._result=K)}if(L._status===1)return L._result.default;throw L._result}var ne=typeof reportError=="function"?reportError:function(L){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof L=="object"&&L!==null&&typeof L.message=="string"?String(L.message):String(L),error:L});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",L);return}console.error(L)},ce={map:Q,forEach:function(L,K,se){Q(L,function(){K.apply(this,arguments)},se)},count:function(L){var K=0;return Q(L,function(){K++}),K},toArray:function(L){return Q(L,function(K){return K})||[]},only:function(L){if(!j(L))throw Error("React.Children.only expected to receive a single React element child.");return L}};return Ae.Activity=y,Ae.Children=ce,Ae.Component=M,Ae.Fragment=n,Ae.Profiler=r,Ae.PureComponent=N,Ae.StrictMode=i,Ae.Suspense=p,Ae.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=O,Ae.__COMPILER_RUNTIME={__proto__:null,c:function(L){return O.H.useMemoCache(L)}},Ae.cache=function(L){return function(){return L.apply(null,arguments)}},Ae.cacheSignal=function(){return null},Ae.cloneElement=function(L,K,se){if(L==null)throw Error("The argument must be a React element, but you passed "+L+".");var le=T({},L.props),me=L.key;if(K!=null)for(Ee in K.key!==void 0&&(me=""+K.key),K)!q.call(K,Ee)||Ee==="key"||Ee==="__self"||Ee==="__source"||Ee==="ref"&&K.ref===void 0||(le[Ee]=K[Ee]);var Ee=arguments.length-2;if(Ee===1)le.children=se;else if(1<Ee){for(var ve=Array(Ee),Ve=0;Ve<Ee;Ve++)ve[Ve]=arguments[Ve+2];le.children=ve}return J(L.type,me,le)},Ae.createContext=function(L){return L={$$typeof:u,_currentValue:L,_currentValue2:L,_threadCount:0,Provider:null,Consumer:null},L.Provider=L,L.Consumer={$$typeof:a,_context:L},L},Ae.createElement=function(L,K,se){var le,me={},Ee=null;if(K!=null)for(le in K.key!==void 0&&(Ee=""+K.key),K)q.call(K,le)&&le!=="key"&&le!=="__self"&&le!=="__source"&&(me[le]=K[le]);var ve=arguments.length-2;if(ve===1)me.children=se;else if(1<ve){for(var Ve=Array(ve),ze=0;ze<ve;ze++)Ve[ze]=arguments[ze+2];me.children=Ve}if(L&&L.defaultProps)for(le in ve=L.defaultProps,ve)me[le]===void 0&&(me[le]=ve[le]);return J(L,Ee,me)},Ae.createRef=function(){return{current:null}},Ae.forwardRef=function(L){return{$$typeof:c,render:L}},Ae.isValidElement=j,Ae.lazy=function(L){return{$$typeof:m,_payload:{_status:-1,_result:L},_init:ee}},Ae.memo=function(L,K){return{$$typeof:d,type:L,compare:K===void 0?null:K}},Ae.startTransition=function(L){var K=O.T,se={};O.T=se;try{var le=L(),me=O.S;me!==null&&me(se,le),typeof le=="object"&&le!==null&&typeof le.then=="function"&&le.then(k,ne)}catch(Ee){ne(Ee)}finally{K!==null&&se.types!==null&&(K.types=se.types),O.T=K}},Ae.unstable_useCacheRefresh=function(){return O.H.useCacheRefresh()},Ae.use=function(L){return O.H.use(L)},Ae.useActionState=function(L,K,se){return O.H.useActionState(L,K,se)},Ae.useCallback=function(L,K){return O.H.useCallback(L,K)},Ae.useContext=function(L){return O.H.useContext(L)},Ae.useDebugValue=function(){},Ae.useDeferredValue=function(L,K){return O.H.useDeferredValue(L,K)},Ae.useEffect=function(L,K){return O.H.useEffect(L,K)},Ae.useEffectEvent=function(L){return O.H.useEffectEvent(L)},Ae.useId=function(){return O.H.useId()},Ae.useImperativeHandle=function(L,K,se){return O.H.useImperativeHandle(L,K,se)},Ae.useInsertionEffect=function(L,K){return O.H.useInsertionEffect(L,K)},Ae.useLayoutEffect=function(L,K){return O.H.useLayoutEffect(L,K)},Ae.useMemo=function(L,K){return O.H.useMemo(L,K)},Ae.useOptimistic=function(L,K){return O.H.useOptimistic(L,K)},Ae.useReducer=function(L,K,se){return O.H.useReducer(L,K,se)},Ae.useRef=function(L){return O.H.useRef(L)},Ae.useState=function(L){return O.H.useState(L)},Ae.useSyncExternalStore=function(L,K,se){return O.H.useSyncExternalStore(L,K,se)},Ae.useTransition=function(){return O.H.useTransition()},Ae.version="19.2.1",Ae}var bb;function kd(){return bb||(bb=1,Gm.exports=MP()),Gm.exports}var w=kd();const et=gu(w),RA=AP({__proto__:null,default:et},[w]);var Fm={exports:{}},Rl={},$m={exports:{}},Vm={};var wb;function NP(){return wb||(wb=1,(function(t){function e(H,Q){var ee=H.length;H.push(Q);e:for(;0<ee;){var ne=ee-1>>>1,ce=H[ne];if(0<r(ce,Q))H[ne]=Q,H[ee]=ce,ee=ne;else break e}}function n(H){return H.length===0?null:H[0]}function i(H){if(H.length===0)return null;var Q=H[0],ee=H.pop();if(ee!==Q){H[0]=ee;e:for(var ne=0,ce=H.length,L=ce>>>1;ne<L;){var K=2*(ne+1)-1,se=H[K],le=K+1,me=H[le];if(0>r(se,ee))le<ce&&0>r(me,se)?(H[ne]=me,H[le]=ee,ne=le):(H[ne]=se,H[K]=ee,ne=K);else if(le<ce&&0>r(me,ee))H[ne]=me,H[le]=ee,ne=le;else break e}}return Q}function r(H,Q){var ee=H.sortIndex-Q.sortIndex;return ee!==0?ee:H.id-Q.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var u=Date,c=u.now();t.unstable_now=function(){return u.now()-c}}var p=[],d=[],m=1,y=null,S=3,E=!1,C=!1,T=!1,x=!1,M=typeof setTimeout=="function"?setTimeout:null,I=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;function D(H){for(var Q=n(d);Q!==null;){if(Q.callback===null)i(d);else if(Q.startTime<=H)i(d),Q.sortIndex=Q.expirationTime,e(p,Q);else break;Q=n(d)}}function U(H){if(T=!1,D(H),!C)if(n(p)!==null)C=!0,k||(k=!0,re());else{var Q=n(d);Q!==null&&de(U,Q.startTime-H)}}var k=!1,O=-1,q=5,J=-1;function X(){return x?!0:!(t.unstable_now()-J<q)}function j(){if(x=!1,k){var H=t.unstable_now();J=H;var Q=!0;try{e:{C=!1,T&&(T=!1,I(O),O=-1),E=!0;var ee=S;try{t:{for(D(H),y=n(p);y!==null&&!(y.expirationTime>H&&X());){var ne=y.callback;if(typeof ne=="function"){y.callback=null,S=y.priorityLevel;var ce=ne(y.expirationTime<=H);if(H=t.unstable_now(),typeof ce=="function"){y.callback=ce,D(H),Q=!0;break t}y===n(p)&&i(p),D(H)}else i(p);y=n(p)}if(y!==null)Q=!0;else{var L=n(d);L!==null&&de(U,L.startTime-H),Q=!1}}break e}finally{y=null,S=ee,E=!1}Q=void 0}}finally{Q?re():k=!1}}}var re;if(typeof N=="function")re=function(){N(j)};else if(typeof MessageChannel<"u"){var ie=new MessageChannel,ae=ie.port2;ie.port1.onmessage=j,re=function(){ae.postMessage(null)}}else re=function(){M(j,0)};function de(H,Q){O=M(function(){H(t.unstable_now())},Q)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(H){H.callback=null},t.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):q=0<H?Math.floor(1e3/H):5},t.unstable_getCurrentPriorityLevel=function(){return S},t.unstable_next=function(H){switch(S){case 1:case 2:case 3:var Q=3;break;default:Q=S}var ee=S;S=Q;try{return H()}finally{S=ee}},t.unstable_requestPaint=function(){x=!0},t.unstable_runWithPriority=function(H,Q){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var ee=S;S=H;try{return Q()}finally{S=ee}},t.unstable_scheduleCallback=function(H,Q,ee){var ne=t.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?ne+ee:ne):ee=ne,H){case 1:var ce=-1;break;case 2:ce=250;break;case 5:ce=1073741823;break;case 4:ce=1e4;break;default:ce=5e3}return ce=ee+ce,H={id:m++,callback:Q,priorityLevel:H,startTime:ee,expirationTime:ce,sortIndex:-1},ee>ne?(H.sortIndex=ee,e(d,H),n(p)===null&&H===n(d)&&(T?(I(O),O=-1):T=!0,de(U,ee-ne))):(H.sortIndex=ce,e(p,H),C||E||(C=!0,k||(k=!0,re()))),H},t.unstable_shouldYield=X,t.unstable_wrapCallback=function(H){var Q=S;return function(){var ee=S;S=Q;try{return H.apply(this,arguments)}finally{S=ee}}}})(Vm)),Vm}var Cb;function IP(){return Cb||(Cb=1,$m.exports=NP()),$m.exports}var zm={exports:{}},Ot={};var Tb;function DP(){if(Tb)return Ot;Tb=1;var t=kd();function e(p){var d="https://react.dev/errors/"+p;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)d+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+p+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},r=Symbol.for("react.portal");function a(p,d,m){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:y==null?null:""+y,children:p,containerInfo:d,implementation:m}}var u=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(p,d){if(p==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return Ot.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Ot.createPortal=function(p,d){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(e(299));return a(p,d,null,m)},Ot.flushSync=function(p){var d=u.T,m=i.p;try{if(u.T=null,i.p=2,p)return p()}finally{u.T=d,i.p=m,i.d.f()}},Ot.preconnect=function(p,d){typeof p=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,i.d.C(p,d))},Ot.prefetchDNS=function(p){typeof p=="string"&&i.d.D(p)},Ot.preinit=function(p,d){if(typeof p=="string"&&d&&typeof d.as=="string"){var m=d.as,y=c(m,d.crossOrigin),S=typeof d.integrity=="string"?d.integrity:void 0,E=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;m==="style"?i.d.S(p,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:y,integrity:S,fetchPriority:E}):m==="script"&&i.d.X(p,{crossOrigin:y,integrity:S,fetchPriority:E,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},Ot.preinitModule=function(p,d){if(typeof p=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var m=c(d.as,d.crossOrigin);i.d.M(p,{crossOrigin:m,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&i.d.M(p)},Ot.preload=function(p,d){if(typeof p=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var m=d.as,y=c(m,d.crossOrigin);i.d.L(p,m,{crossOrigin:y,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},Ot.preloadModule=function(p,d){if(typeof p=="string")if(d){var m=c(d.as,d.crossOrigin);i.d.m(p,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:m,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else i.d.m(p)},Ot.requestFormReset=function(p){i.d.r(p)},Ot.unstable_batchedUpdates=function(p,d){return p(d)},Ot.useFormState=function(p,d,m){return u.H.useFormState(p,d,m)},Ot.useFormStatus=function(){return u.H.useHostTransitionStatus()},Ot.version="19.2.1",Ot}var Ab;function MA(){if(Ab)return zm.exports;Ab=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),zm.exports=DP(),zm.exports}var xb;function OP(){if(xb)return Rl;xb=1;var t=IP(),e=kd(),n=MA();function i(o){var s="https://react.dev/errors/"+o;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)s+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+o+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function a(o){var s=o,l=o;if(o.alternate)for(;s.return;)s=s.return;else{o=s;do s=o,(s.flags&4098)!==0&&(l=s.return),o=s.return;while(o)}return s.tag===3?l:null}function u(o){if(o.tag===13){var s=o.memoizedState;if(s===null&&(o=o.alternate,o!==null&&(s=o.memoizedState)),s!==null)return s.dehydrated}return null}function c(o){if(o.tag===31){var s=o.memoizedState;if(s===null&&(o=o.alternate,o!==null&&(s=o.memoizedState)),s!==null)return s.dehydrated}return null}function p(o){if(a(o)!==o)throw Error(i(188))}function d(o){var s=o.alternate;if(!s){if(s=a(o),s===null)throw Error(i(188));return s!==o?null:o}for(var l=o,f=s;;){var v=l.return;if(v===null)break;var _=v.alternate;if(_===null){if(f=v.return,f!==null){l=f;continue}break}if(v.child===_.child){for(_=v.child;_;){if(_===l)return p(v),o;if(_===f)return p(v),s;_=_.sibling}throw Error(i(188))}if(l.return!==f.return)l=v,f=_;else{for(var b=!1,R=v.child;R;){if(R===l){b=!0,l=v,f=_;break}if(R===f){b=!0,f=v,l=_;break}R=R.sibling}if(!b){for(R=_.child;R;){if(R===l){b=!0,l=_,f=v;break}if(R===f){b=!0,f=_,l=v;break}R=R.sibling}if(!b)throw Error(i(189))}}if(l.alternate!==f)throw Error(i(190))}if(l.tag!==3)throw Error(i(188));return l.stateNode.current===l?o:s}function m(o){var s=o.tag;if(s===5||s===26||s===27||s===6)return o;for(o=o.child;o!==null;){if(s=m(o),s!==null)return s;o=o.sibling}return null}var y=Object.assign,S=Symbol.for("react.element"),E=Symbol.for("react.transitional.element"),C=Symbol.for("react.portal"),T=Symbol.for("react.fragment"),x=Symbol.for("react.strict_mode"),M=Symbol.for("react.profiler"),I=Symbol.for("react.consumer"),N=Symbol.for("react.context"),D=Symbol.for("react.forward_ref"),U=Symbol.for("react.suspense"),k=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),q=Symbol.for("react.lazy"),J=Symbol.for("react.activity"),X=Symbol.for("react.memo_cache_sentinel"),j=Symbol.iterator;function re(o){return o===null||typeof o!="object"?null:(o=j&&o[j]||o["@@iterator"],typeof o=="function"?o:null)}var ie=Symbol.for("react.client.reference");function ae(o){if(o==null)return null;if(typeof o=="function")return o.$$typeof===ie?null:o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case T:return"Fragment";case M:return"Profiler";case x:return"StrictMode";case U:return"Suspense";case k:return"SuspenseList";case J:return"Activity"}if(typeof o=="object")switch(o.$$typeof){case C:return"Portal";case N:return o.displayName||"Context";case I:return(o._context.displayName||"Context")+".Consumer";case D:var s=o.render;return o=o.displayName,o||(o=s.displayName||s.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case O:return s=o.displayName||null,s!==null?s:ae(o.type)||"Memo";case q:s=o._payload,o=o._init;try{return ae(o(s))}catch{}}return null}var de=Array.isArray,H=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Q=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ee={pending:!1,data:null,method:null,action:null},ne=[],ce=-1;function L(o){return{current:o}}function K(o){0>ce||(o.current=ne[ce],ne[ce]=null,ce--)}function se(o,s){ce++,ne[ce]=o.current,o.current=s}var le=L(null),me=L(null),Ee=L(null),ve=L(null);function Ve(o,s){switch(se(Ee,s),se(me,o),se(le,null),s.nodeType){case 9:case 11:o=(o=s.documentElement)&&(o=o.namespaceURI)?$E(o):0;break;default:if(o=s.tagName,s=s.namespaceURI)s=$E(s),o=VE(s,o);else switch(o){case"svg":o=1;break;case"math":o=2;break;default:o=0}}K(le),se(le,o)}function ze(){K(le),K(me),K(Ee)}function nn(o){o.memoizedState!==null&&se(ve,o);var s=le.current,l=VE(s,o.type);s!==l&&(se(me,o),se(le,l))}function bn(o){me.current===o&&(K(le),K(me)),ve.current===o&&(K(ve),wl._currentValue=ee)}var ci,Vt;function zt(o){if(ci===void 0)try{throw Error()}catch(l){var s=l.stack.trim().match(/\n( *(at )?)/);ci=s&&s[1]||"",Vt=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ci+o+Vt}var Qe=!1;function Di(o,s){if(!o||Qe)return"";Qe=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var f={DetermineComponentFrameRoot:function(){try{if(s){var te=function(){throw Error()};if(Object.defineProperty(te.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(te,[])}catch(Y){var z=Y}Reflect.construct(o,[],te)}else{try{te.call()}catch(Y){z=Y}o.call(te.prototype)}}else{try{throw Error()}catch(Y){z=Y}(te=o())&&typeof te.catch=="function"&&te.catch(function(){})}}catch(Y){if(Y&&z&&typeof Y.stack=="string")return[Y.stack,z.stack]}return[null,null]}};f.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var v=Object.getOwnPropertyDescriptor(f.DetermineComponentFrameRoot,"name");v&&v.configurable&&Object.defineProperty(f.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var _=f.DetermineComponentFrameRoot(),b=_[0],R=_[1];if(b&&R){var P=b.split(`
`),$=R.split(`
`);for(v=f=0;f<P.length&&!P[f].includes("DetermineComponentFrameRoot");)f++;for(;v<$.length&&!$[v].includes("DetermineComponentFrameRoot");)v++;if(f===P.length||v===$.length)for(f=P.length-1,v=$.length-1;1<=f&&0<=v&&P[f]!==$[v];)v--;for(;1<=f&&0<=v;f--,v--)if(P[f]!==$[v]){if(f!==1||v!==1)do if(f--,v--,0>v||P[f]!==$[v]){var W=`
`+P[f].replace(" at new "," at ");return o.displayName&&W.includes("<anonymous>")&&(W=W.replace("<anonymous>",o.displayName)),W}while(1<=f&&0<=v);break}}}finally{Qe=!1,Error.prepareStackTrace=l}return(l=o?o.displayName||o.name:"")?zt(l):""}function vo(o,s){switch(o.tag){case 26:case 27:case 5:return zt(o.type);case 16:return zt("Lazy");case 13:return o.child!==s&&s!==null?zt("Suspense Fallback"):zt("Suspense");case 19:return zt("SuspenseList");case 0:case 15:return Di(o.type,!1);case 11:return Di(o.type.render,!1);case 1:return Di(o.type,!0);case 31:return zt("Activity");default:return""}}function Vu(o){try{var s="",l=null;do s+=vo(o,l),l=o,o=o.return;while(o);return s}catch(f){return`
Error generating stack: `+f.message+`
`+f.stack}}var Da=Object.prototype.hasOwnProperty,Jn=t.unstable_scheduleCallback,yo=t.unstable_cancelCallback,zu=t.unstable_shouldYield,qu=t.unstable_requestPaint,wt=t.unstable_now,Ju=t.unstable_getCurrentPriorityLevel,Oa=t.unstable_ImmediatePriority,Pa=t.unstable_UserBlockingPriority,cr=t.unstable_NormalPriority,aO=t.unstable_LowPriority,b_=t.unstable_IdlePriority,lO=t.log,uO=t.unstable_setDisableYieldValue,La=null,on=null;function _o(o){if(typeof lO=="function"&&uO(o),on&&typeof on.setStrictMode=="function")try{on.setStrictMode(La,o)}catch{}}var rn=Math.clz32?Math.clz32:dO,cO=Math.log,fO=Math.LN2;function dO(o){return o>>>=0,o===0?32:31-(cO(o)/fO|0)|0}var Yu=256,Ku=262144,Xu=4194304;function fr(o){var s=o&42;if(s!==0)return s;switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return o&261888;case 262144:case 524288:case 1048576:case 2097152:return o&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return o&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return o}}function Wu(o,s,l){var f=o.pendingLanes;if(f===0)return 0;var v=0,_=o.suspendedLanes,b=o.pingedLanes;o=o.warmLanes;var R=f&134217727;return R!==0?(f=R&~_,f!==0?v=fr(f):(b&=R,b!==0?v=fr(b):l||(l=R&~o,l!==0&&(v=fr(l))))):(R=f&~_,R!==0?v=fr(R):b!==0?v=fr(b):l||(l=f&~o,l!==0&&(v=fr(l)))),v===0?0:s!==0&&s!==v&&(s&_)===0&&(_=v&-v,l=s&-s,_>=l||_===32&&(l&4194048)!==0)?s:v}function Ua(o,s){return(o.pendingLanes&~(o.suspendedLanes&~o.pingedLanes)&s)===0}function pO(o,s){switch(o){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function w_(){var o=Xu;return Xu<<=1,(Xu&62914560)===0&&(Xu=4194304),o}function xp(o){for(var s=[],l=0;31>l;l++)s.push(o);return s}function ka(o,s){o.pendingLanes|=s,s!==268435456&&(o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0)}function hO(o,s,l,f,v,_){var b=o.pendingLanes;o.pendingLanes=l,o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0,o.expiredLanes&=l,o.entangledLanes&=l,o.errorRecoveryDisabledLanes&=l,o.shellSuspendCounter=0;var R=o.entanglements,P=o.expirationTimes,$=o.hiddenUpdates;for(l=b&~l;0<l;){var W=31-rn(l),te=1<<W;R[W]=0,P[W]=-1;var z=$[W];if(z!==null)for($[W]=null,W=0;W<z.length;W++){var Y=z[W];Y!==null&&(Y.lane&=-536870913)}l&=~te}f!==0&&C_(o,f,0),_!==0&&v===0&&o.tag!==0&&(o.suspendedLanes|=_&~(b&~s))}function C_(o,s,l){o.pendingLanes|=s,o.suspendedLanes&=~s;var f=31-rn(s);o.entangledLanes|=s,o.entanglements[f]=o.entanglements[f]|1073741824|l&261930}function T_(o,s){var l=o.entangledLanes|=s;for(o=o.entanglements;l;){var f=31-rn(l),v=1<<f;v&s|o[f]&s&&(o[f]|=s),l&=~v}}function A_(o,s){var l=s&-s;return l=(l&42)!==0?1:Rp(l),(l&(o.suspendedLanes|s))!==0?0:l}function Rp(o){switch(o){case 2:o=1;break;case 8:o=4;break;case 32:o=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:o=128;break;case 268435456:o=134217728;break;default:o=0}return o}function Mp(o){return o&=-o,2<o?8<o?(o&134217727)!==0?32:268435456:8:2}function x_(){var o=Q.p;return o!==0?o:(o=window.event,o===void 0?32:db(o.type))}function R_(o,s){var l=Q.p;try{return Q.p=o,s()}finally{Q.p=l}}var So=Math.random().toString(36).slice(2),Ct="__reactFiber$"+So,qt="__reactProps$"+So,ns="__reactContainer$"+So,Np="__reactEvents$"+So,mO="__reactListeners$"+So,gO="__reactHandles$"+So,M_="__reactResources$"+So,Ba="__reactMarker$"+So;function Ip(o){delete o[Ct],delete o[qt],delete o[Np],delete o[mO],delete o[gO]}function is(o){var s=o[Ct];if(s)return s;for(var l=o.parentNode;l;){if(s=l[ns]||l[Ct]){if(l=s.alternate,s.child!==null||l!==null&&l.child!==null)for(o=WE(o);o!==null;){if(l=o[Ct])return l;o=WE(o)}return s}o=l,l=o.parentNode}return null}function os(o){if(o=o[Ct]||o[ns]){var s=o.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return o}return null}function Ha(o){var s=o.tag;if(s===5||s===26||s===27||s===6)return o.stateNode;throw Error(i(33))}function rs(o){var s=o[M_];return s||(s=o[M_]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function yt(o){o[Ba]=!0}var N_=new Set,I_={};function dr(o,s){ss(o,s),ss(o+"Capture",s)}function ss(o,s){for(I_[o]=s,o=0;o<s.length;o++)N_.add(s[o])}var vO=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),D_={},O_={};function yO(o){return Da.call(O_,o)?!0:Da.call(D_,o)?!1:vO.test(o)?O_[o]=!0:(D_[o]=!0,!1)}function ju(o,s,l){if(yO(s))if(l===null)o.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":o.removeAttribute(s);return;case"boolean":var f=s.toLowerCase().slice(0,5);if(f!=="data-"&&f!=="aria-"){o.removeAttribute(s);return}}o.setAttribute(s,""+l)}}function Qu(o,s,l){if(l===null)o.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(s);return}o.setAttribute(s,""+l)}}function Oi(o,s,l,f){if(f===null)o.removeAttribute(l);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(l);return}o.setAttributeNS(s,l,""+f)}}function wn(o){switch(typeof o){case"bigint":case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function P_(o){var s=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function _O(o,s,l){var f=Object.getOwnPropertyDescriptor(o.constructor.prototype,s);if(!o.hasOwnProperty(s)&&typeof f<"u"&&typeof f.get=="function"&&typeof f.set=="function"){var v=f.get,_=f.set;return Object.defineProperty(o,s,{configurable:!0,get:function(){return v.call(this)},set:function(b){l=""+b,_.call(this,b)}}),Object.defineProperty(o,s,{enumerable:f.enumerable}),{getValue:function(){return l},setValue:function(b){l=""+b},stopTracking:function(){o._valueTracker=null,delete o[s]}}}}function Dp(o){if(!o._valueTracker){var s=P_(o)?"checked":"value";o._valueTracker=_O(o,s,""+o[s])}}function L_(o){if(!o)return!1;var s=o._valueTracker;if(!s)return!0;var l=s.getValue(),f="";return o&&(f=P_(o)?o.checked?"true":"false":o.value),o=f,o!==l?(s.setValue(o),!0):!1}function Zu(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}var SO=/[\n"\\]/g;function Cn(o){return o.replace(SO,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Op(o,s,l,f,v,_,b,R){o.name="",b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?o.type=b:o.removeAttribute("type"),s!=null?b==="number"?(s===0&&o.value===""||o.value!=s)&&(o.value=""+wn(s)):o.value!==""+wn(s)&&(o.value=""+wn(s)):b!=="submit"&&b!=="reset"||o.removeAttribute("value"),s!=null?Pp(o,b,wn(s)):l!=null?Pp(o,b,wn(l)):f!=null&&o.removeAttribute("value"),v==null&&_!=null&&(o.defaultChecked=!!_),v!=null&&(o.checked=v&&typeof v!="function"&&typeof v!="symbol"),R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"?o.name=""+wn(R):o.removeAttribute("name")}function U_(o,s,l,f,v,_,b,R){if(_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(o.type=_),s!=null||l!=null){if(!(_!=="submit"&&_!=="reset"||s!=null)){Dp(o);return}l=l!=null?""+wn(l):"",s=s!=null?""+wn(s):l,R||s===o.value||(o.value=s),o.defaultValue=s}f=f??v,f=typeof f!="function"&&typeof f!="symbol"&&!!f,o.checked=R?o.checked:!!f,o.defaultChecked=!!f,b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(o.name=b),Dp(o)}function Pp(o,s,l){s==="number"&&Zu(o.ownerDocument)===o||o.defaultValue===""+l||(o.defaultValue=""+l)}function as(o,s,l,f){if(o=o.options,s){s={};for(var v=0;v<l.length;v++)s["$"+l[v]]=!0;for(l=0;l<o.length;l++)v=s.hasOwnProperty("$"+o[l].value),o[l].selected!==v&&(o[l].selected=v),v&&f&&(o[l].defaultSelected=!0)}else{for(l=""+wn(l),s=null,v=0;v<o.length;v++){if(o[v].value===l){o[v].selected=!0,f&&(o[v].defaultSelected=!0);return}s!==null||o[v].disabled||(s=o[v])}s!==null&&(s.selected=!0)}}function k_(o,s,l){if(s!=null&&(s=""+wn(s),s!==o.value&&(o.value=s),l==null)){o.defaultValue!==s&&(o.defaultValue=s);return}o.defaultValue=l!=null?""+wn(l):""}function B_(o,s,l,f){if(s==null){if(f!=null){if(l!=null)throw Error(i(92));if(de(f)){if(1<f.length)throw Error(i(93));f=f[0]}l=f}l==null&&(l=""),s=l}l=wn(s),o.defaultValue=l,f=o.textContent,f===l&&f!==""&&f!==null&&(o.value=f),Dp(o)}function ls(o,s){if(s){var l=o.firstChild;if(l&&l===o.lastChild&&l.nodeType===3){l.nodeValue=s;return}}o.textContent=s}var EO=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function H_(o,s,l){var f=s.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?f?o.setProperty(s,""):s==="float"?o.cssFloat="":o[s]="":f?o.setProperty(s,l):typeof l!="number"||l===0||EO.has(s)?s==="float"?o.cssFloat=l:o[s]=(""+l).trim():o[s]=l+"px"}function G_(o,s,l){if(s!=null&&typeof s!="object")throw Error(i(62));if(o=o.style,l!=null){for(var f in l)!l.hasOwnProperty(f)||s!=null&&s.hasOwnProperty(f)||(f.indexOf("--")===0?o.setProperty(f,""):f==="float"?o.cssFloat="":o[f]="");for(var v in s)f=s[v],s.hasOwnProperty(v)&&l[v]!==f&&H_(o,v,f)}else for(var _ in s)s.hasOwnProperty(_)&&H_(o,_,s[_])}function Lp(o){if(o.indexOf("-")===-1)return!1;switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var bO=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),wO=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ec(o){return wO.test(""+o)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":o}function Pi(){}var Up=null;function kp(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var us=null,cs=null;function F_(o){var s=os(o);if(s&&(o=s.stateNode)){var l=o[qt]||null;e:switch(o=s.stateNode,s.type){case"input":if(Op(o,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),s=l.name,l.type==="radio"&&s!=null){for(l=o;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+Cn(""+s)+'"][type="radio"]'),s=0;s<l.length;s++){var f=l[s];if(f!==o&&f.form===o.form){var v=f[qt]||null;if(!v)throw Error(i(90));Op(f,v.value,v.defaultValue,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name)}}for(s=0;s<l.length;s++)f=l[s],f.form===o.form&&L_(f)}break e;case"textarea":k_(o,l.value,l.defaultValue);break e;case"select":s=l.value,s!=null&&as(o,!!l.multiple,s,!1)}}}var Bp=!1;function $_(o,s,l){if(Bp)return o(s,l);Bp=!0;try{var f=o(s);return f}finally{if(Bp=!1,(us!==null||cs!==null)&&(Fc(),us&&(s=us,o=cs,cs=us=null,F_(s),o)))for(s=0;s<o.length;s++)F_(o[s])}}function Ga(o,s){var l=o.stateNode;if(l===null)return null;var f=l[qt]||null;if(f===null)return null;l=f[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(o=o.type,f=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!f;break e;default:o=!1}if(o)return null;if(l&&typeof l!="function")throw Error(i(231,s,typeof l));return l}var Li=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Hp=!1;if(Li)try{var Fa={};Object.defineProperty(Fa,"passive",{get:function(){Hp=!0}}),window.addEventListener("test",Fa,Fa),window.removeEventListener("test",Fa,Fa)}catch{Hp=!1}var Eo=null,Gp=null,tc=null;function V_(){if(tc)return tc;var o,s=Gp,l=s.length,f,v="value"in Eo?Eo.value:Eo.textContent,_=v.length;for(o=0;o<l&&s[o]===v[o];o++);var b=l-o;for(f=1;f<=b&&s[l-f]===v[_-f];f++);return tc=v.slice(o,1<f?1-f:void 0)}function nc(o){var s=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&s===13&&(o=13)):o=s,o===10&&(o=13),32<=o||o===13?o:0}function ic(){return!0}function z_(){return!1}function Jt(o){function s(l,f,v,_,b){this._reactName=l,this._targetInst=v,this.type=f,this.nativeEvent=_,this.target=b,this.currentTarget=null;for(var R in o)o.hasOwnProperty(R)&&(l=o[R],this[R]=l?l(_):_[R]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?ic:z_,this.isPropagationStopped=z_,this}return y(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=ic)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=ic)},persist:function(){},isPersistent:ic}),s}var pr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},oc=Jt(pr),$a=y({},pr,{view:0,detail:0}),CO=Jt($a),Fp,$p,Va,rc=y({},$a,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zp,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==Va&&(Va&&o.type==="mousemove"?(Fp=o.screenX-Va.screenX,$p=o.screenY-Va.screenY):$p=Fp=0,Va=o),Fp)},movementY:function(o){return"movementY"in o?o.movementY:$p}}),q_=Jt(rc),TO=y({},rc,{dataTransfer:0}),AO=Jt(TO),xO=y({},$a,{relatedTarget:0}),Vp=Jt(xO),RO=y({},pr,{animationName:0,elapsedTime:0,pseudoElement:0}),MO=Jt(RO),NO=y({},pr,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),IO=Jt(NO),DO=y({},pr,{data:0}),J_=Jt(DO),OO={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},PO={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},LO={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function UO(o){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(o):(o=LO[o])?!!s[o]:!1}function zp(){return UO}var kO=y({},$a,{key:function(o){if(o.key){var s=OO[o.key]||o.key;if(s!=="Unidentified")return s}return o.type==="keypress"?(o=nc(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?PO[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zp,charCode:function(o){return o.type==="keypress"?nc(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?nc(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),BO=Jt(kO),HO=y({},rc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Y_=Jt(HO),GO=y({},$a,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zp}),FO=Jt(GO),$O=y({},pr,{propertyName:0,elapsedTime:0,pseudoElement:0}),VO=Jt($O),zO=y({},rc,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),qO=Jt(zO),JO=y({},pr,{newState:0,oldState:0}),YO=Jt(JO),KO=[9,13,27,32],qp=Li&&"CompositionEvent"in window,za=null;Li&&"documentMode"in document&&(za=document.documentMode);var XO=Li&&"TextEvent"in window&&!za,K_=Li&&(!qp||za&&8<za&&11>=za),X_=" ",W_=!1;function j_(o,s){switch(o){case"keyup":return KO.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Q_(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var fs=!1;function WO(o,s){switch(o){case"compositionend":return Q_(s);case"keypress":return s.which!==32?null:(W_=!0,X_);case"textInput":return o=s.data,o===X_&&W_?null:o;default:return null}}function jO(o,s){if(fs)return o==="compositionend"||!qp&&j_(o,s)?(o=V_(),tc=Gp=Eo=null,fs=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return K_&&s.locale!=="ko"?null:s.data;default:return null}}var QO={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Z_(o){var s=o&&o.nodeName&&o.nodeName.toLowerCase();return s==="input"?!!QO[o.type]:s==="textarea"}function e0(o,s,l,f){us?cs?cs.push(f):cs=[f]:us=f,s=Kc(s,"onChange"),0<s.length&&(l=new oc("onChange","change",null,l,f),o.push({event:l,listeners:s}))}var qa=null,Ja=null;function ZO(o){UE(o,0)}function sc(o){var s=Ha(o);if(L_(s))return o}function t0(o,s){if(o==="change")return s}var n0=!1;if(Li){var Jp;if(Li){var Yp="oninput"in document;if(!Yp){var i0=document.createElement("div");i0.setAttribute("oninput","return;"),Yp=typeof i0.oninput=="function"}Jp=Yp}else Jp=!1;n0=Jp&&(!document.documentMode||9<document.documentMode)}function o0(){qa&&(qa.detachEvent("onpropertychange",r0),Ja=qa=null)}function r0(o){if(o.propertyName==="value"&&sc(Ja)){var s=[];e0(s,Ja,o,kp(o)),$_(ZO,s)}}function e1(o,s,l){o==="focusin"?(o0(),qa=s,Ja=l,qa.attachEvent("onpropertychange",r0)):o==="focusout"&&o0()}function t1(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return sc(Ja)}function n1(o,s){if(o==="click")return sc(s)}function i1(o,s){if(o==="input"||o==="change")return sc(s)}function o1(o,s){return o===s&&(o!==0||1/o===1/s)||o!==o&&s!==s}var sn=typeof Object.is=="function"?Object.is:o1;function Ya(o,s){if(sn(o,s))return!0;if(typeof o!="object"||o===null||typeof s!="object"||s===null)return!1;var l=Object.keys(o),f=Object.keys(s);if(l.length!==f.length)return!1;for(f=0;f<l.length;f++){var v=l[f];if(!Da.call(s,v)||!sn(o[v],s[v]))return!1}return!0}function s0(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function a0(o,s){var l=s0(o);o=0;for(var f;l;){if(l.nodeType===3){if(f=o+l.textContent.length,o<=s&&f>=s)return{node:l,offset:s-o};o=f}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=s0(l)}}function l0(o,s){return o&&s?o===s?!0:o&&o.nodeType===3?!1:s&&s.nodeType===3?l0(o,s.parentNode):"contains"in o?o.contains(s):o.compareDocumentPosition?!!(o.compareDocumentPosition(s)&16):!1:!1}function u0(o){o=o!=null&&o.ownerDocument!=null&&o.ownerDocument.defaultView!=null?o.ownerDocument.defaultView:window;for(var s=Zu(o.document);s instanceof o.HTMLIFrameElement;){try{var l=typeof s.contentWindow.location.href=="string"}catch{l=!1}if(l)o=s.contentWindow;else break;s=Zu(o.document)}return s}function Kp(o){var s=o&&o.nodeName&&o.nodeName.toLowerCase();return s&&(s==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||s==="textarea"||o.contentEditable==="true")}var r1=Li&&"documentMode"in document&&11>=document.documentMode,ds=null,Xp=null,Ka=null,Wp=!1;function c0(o,s,l){var f=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Wp||ds==null||ds!==Zu(f)||(f=ds,"selectionStart"in f&&Kp(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),Ka&&Ya(Ka,f)||(Ka=f,f=Kc(Xp,"onSelect"),0<f.length&&(s=new oc("onSelect","select",null,s,l),o.push({event:s,listeners:f}),s.target=ds)))}function hr(o,s){var l={};return l[o.toLowerCase()]=s.toLowerCase(),l["Webkit"+o]="webkit"+s,l["Moz"+o]="moz"+s,l}var ps={animationend:hr("Animation","AnimationEnd"),animationiteration:hr("Animation","AnimationIteration"),animationstart:hr("Animation","AnimationStart"),transitionrun:hr("Transition","TransitionRun"),transitionstart:hr("Transition","TransitionStart"),transitioncancel:hr("Transition","TransitionCancel"),transitionend:hr("Transition","TransitionEnd")},jp={},f0={};Li&&(f0=document.createElement("div").style,"AnimationEvent"in window||(delete ps.animationend.animation,delete ps.animationiteration.animation,delete ps.animationstart.animation),"TransitionEvent"in window||delete ps.transitionend.transition);function mr(o){if(jp[o])return jp[o];if(!ps[o])return o;var s=ps[o],l;for(l in s)if(s.hasOwnProperty(l)&&l in f0)return jp[o]=s[l];return o}var d0=mr("animationend"),p0=mr("animationiteration"),h0=mr("animationstart"),s1=mr("transitionrun"),a1=mr("transitionstart"),l1=mr("transitioncancel"),m0=mr("transitionend"),g0=new Map,Qp="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Qp.push("scrollEnd");function Yn(o,s){g0.set(o,s),dr(s,[o])}var ac=typeof reportError=="function"?reportError:function(o){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof o=="object"&&o!==null&&typeof o.message=="string"?String(o.message):String(o),error:o});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",o);return}console.error(o)},Tn=[],hs=0,Zp=0;function lc(){for(var o=hs,s=Zp=hs=0;s<o;){var l=Tn[s];Tn[s++]=null;var f=Tn[s];Tn[s++]=null;var v=Tn[s];Tn[s++]=null;var _=Tn[s];if(Tn[s++]=null,f!==null&&v!==null){var b=f.pending;b===null?v.next=v:(v.next=b.next,b.next=v),f.pending=v}_!==0&&v0(l,v,_)}}function uc(o,s,l,f){Tn[hs++]=o,Tn[hs++]=s,Tn[hs++]=l,Tn[hs++]=f,Zp|=f,o.lanes|=f,o=o.alternate,o!==null&&(o.lanes|=f)}function eh(o,s,l,f){return uc(o,s,l,f),cc(o)}function gr(o,s){return uc(o,null,null,s),cc(o)}function v0(o,s,l){o.lanes|=l;var f=o.alternate;f!==null&&(f.lanes|=l);for(var v=!1,_=o.return;_!==null;)_.childLanes|=l,f=_.alternate,f!==null&&(f.childLanes|=l),_.tag===22&&(o=_.stateNode,o===null||o._visibility&1||(v=!0)),o=_,_=_.return;return o.tag===3?(_=o.stateNode,v&&s!==null&&(v=31-rn(l),o=_.hiddenUpdates,f=o[v],f===null?o[v]=[s]:f.push(s),s.lane=l|536870912),_):null}function cc(o){if(50<gl)throw gl=0,um=null,Error(i(185));for(var s=o.return;s!==null;)o=s,s=o.return;return o.tag===3?o.stateNode:null}var ms={};function u1(o,s,l,f){this.tag=o,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function an(o,s,l,f){return new u1(o,s,l,f)}function th(o){return o=o.prototype,!(!o||!o.isReactComponent)}function Ui(o,s){var l=o.alternate;return l===null?(l=an(o.tag,s,o.key,o.mode),l.elementType=o.elementType,l.type=o.type,l.stateNode=o.stateNode,l.alternate=o,o.alternate=l):(l.pendingProps=s,l.type=o.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=o.flags&65011712,l.childLanes=o.childLanes,l.lanes=o.lanes,l.child=o.child,l.memoizedProps=o.memoizedProps,l.memoizedState=o.memoizedState,l.updateQueue=o.updateQueue,s=o.dependencies,l.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},l.sibling=o.sibling,l.index=o.index,l.ref=o.ref,l.refCleanup=o.refCleanup,l}function y0(o,s){o.flags&=65011714;var l=o.alternate;return l===null?(o.childLanes=0,o.lanes=s,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=l.childLanes,o.lanes=l.lanes,o.child=l.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=l.memoizedProps,o.memoizedState=l.memoizedState,o.updateQueue=l.updateQueue,o.type=l.type,s=l.dependencies,o.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),o}function fc(o,s,l,f,v,_){var b=0;if(f=o,typeof o=="function")th(o)&&(b=1);else if(typeof o=="string")b=hP(o,l,le.current)?26:o==="html"||o==="head"||o==="body"?27:5;else e:switch(o){case J:return o=an(31,l,s,v),o.elementType=J,o.lanes=_,o;case T:return vr(l.children,v,_,s);case x:b=8,v|=24;break;case M:return o=an(12,l,s,v|2),o.elementType=M,o.lanes=_,o;case U:return o=an(13,l,s,v),o.elementType=U,o.lanes=_,o;case k:return o=an(19,l,s,v),o.elementType=k,o.lanes=_,o;default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case N:b=10;break e;case I:b=9;break e;case D:b=11;break e;case O:b=14;break e;case q:b=16,f=null;break e}b=29,l=Error(i(130,o===null?"null":typeof o,"")),f=null}return s=an(b,l,s,v),s.elementType=o,s.type=f,s.lanes=_,s}function vr(o,s,l,f){return o=an(7,o,f,s),o.lanes=l,o}function nh(o,s,l){return o=an(6,o,null,s),o.lanes=l,o}function _0(o){var s=an(18,null,null,0);return s.stateNode=o,s}function ih(o,s,l){return s=an(4,o.children!==null?o.children:[],o.key,s),s.lanes=l,s.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},s}var S0=new WeakMap;function An(o,s){if(typeof o=="object"&&o!==null){var l=S0.get(o);return l!==void 0?l:(s={value:o,source:s,stack:Vu(s)},S0.set(o,s),s)}return{value:o,source:s,stack:Vu(s)}}var gs=[],vs=0,dc=null,Xa=0,xn=[],Rn=0,bo=null,fi=1,di="";function ki(o,s){gs[vs++]=Xa,gs[vs++]=dc,dc=o,Xa=s}function E0(o,s,l){xn[Rn++]=fi,xn[Rn++]=di,xn[Rn++]=bo,bo=o;var f=fi;o=di;var v=32-rn(f)-1;f&=~(1<<v),l+=1;var _=32-rn(s)+v;if(30<_){var b=v-v%5;_=(f&(1<<b)-1).toString(32),f>>=b,v-=b,fi=1<<32-rn(s)+v|l<<v|f,di=_+o}else fi=1<<_|l<<v|f,di=o}function oh(o){o.return!==null&&(ki(o,1),E0(o,1,0))}function rh(o){for(;o===dc;)dc=gs[--vs],gs[vs]=null,Xa=gs[--vs],gs[vs]=null;for(;o===bo;)bo=xn[--Rn],xn[Rn]=null,di=xn[--Rn],xn[Rn]=null,fi=xn[--Rn],xn[Rn]=null}function b0(o,s){xn[Rn++]=fi,xn[Rn++]=di,xn[Rn++]=bo,fi=s.id,di=s.overflow,bo=o}var Tt=null,nt=null,Le=!1,wo=null,Mn=!1,sh=Error(i(519));function Co(o){var s=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Wa(An(s,o)),sh}function w0(o){var s=o.stateNode,l=o.type,f=o.memoizedProps;switch(s[Ct]=o,s[qt]=f,l){case"dialog":De("cancel",s),De("close",s);break;case"iframe":case"object":case"embed":De("load",s);break;case"video":case"audio":for(l=0;l<yl.length;l++)De(yl[l],s);break;case"source":De("error",s);break;case"img":case"image":case"link":De("error",s),De("load",s);break;case"details":De("toggle",s);break;case"input":De("invalid",s),U_(s,f.value,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name,!0);break;case"select":De("invalid",s);break;case"textarea":De("invalid",s),B_(s,f.value,f.defaultValue,f.children)}l=f.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||s.textContent===""+l||f.suppressHydrationWarning===!0||GE(s.textContent,l)?(f.popover!=null&&(De("beforetoggle",s),De("toggle",s)),f.onScroll!=null&&De("scroll",s),f.onScrollEnd!=null&&De("scrollend",s),f.onClick!=null&&(s.onclick=Pi),s=!0):s=!1,s||Co(o,!0)}function C0(o){for(Tt=o.return;Tt;)switch(Tt.tag){case 5:case 31:case 13:Mn=!1;return;case 27:case 3:Mn=!0;return;default:Tt=Tt.return}}function ys(o){if(o!==Tt)return!1;if(!Le)return C0(o),Le=!0,!1;var s=o.tag,l;if((l=s!==3&&s!==27)&&((l=s===5)&&(l=o.type,l=!(l!=="form"&&l!=="button")||Cm(o.type,o.memoizedProps)),l=!l),l&&nt&&Co(o),C0(o),s===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(i(317));nt=XE(o)}else if(s===31){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(i(317));nt=XE(o)}else s===27?(s=nt,Bo(o.type)?(o=Mm,Mm=null,nt=o):nt=s):nt=Tt?In(o.stateNode.nextSibling):null;return!0}function yr(){nt=Tt=null,Le=!1}function ah(){var o=wo;return o!==null&&(Wt===null?Wt=o:Wt.push.apply(Wt,o),wo=null),o}function Wa(o){wo===null?wo=[o]:wo.push(o)}var lh=L(null),_r=null,Bi=null;function To(o,s,l){se(lh,s._currentValue),s._currentValue=l}function Hi(o){o._currentValue=lh.current,K(lh)}function uh(o,s,l){for(;o!==null;){var f=o.alternate;if((o.childLanes&s)!==s?(o.childLanes|=s,f!==null&&(f.childLanes|=s)):f!==null&&(f.childLanes&s)!==s&&(f.childLanes|=s),o===l)break;o=o.return}}function ch(o,s,l,f){var v=o.child;for(v!==null&&(v.return=o);v!==null;){var _=v.dependencies;if(_!==null){var b=v.child;_=_.firstContext;e:for(;_!==null;){var R=_;_=v;for(var P=0;P<s.length;P++)if(R.context===s[P]){_.lanes|=l,R=_.alternate,R!==null&&(R.lanes|=l),uh(_.return,l,o),f||(b=null);break e}_=R.next}}else if(v.tag===18){if(b=v.return,b===null)throw Error(i(341));b.lanes|=l,_=b.alternate,_!==null&&(_.lanes|=l),uh(b,l,o),b=null}else b=v.child;if(b!==null)b.return=v;else for(b=v;b!==null;){if(b===o){b=null;break}if(v=b.sibling,v!==null){v.return=b.return,b=v;break}b=b.return}v=b}}function _s(o,s,l,f){o=null;for(var v=s,_=!1;v!==null;){if(!_){if((v.flags&524288)!==0)_=!0;else if((v.flags&262144)!==0)break}if(v.tag===10){var b=v.alternate;if(b===null)throw Error(i(387));if(b=b.memoizedProps,b!==null){var R=v.type;sn(v.pendingProps.value,b.value)||(o!==null?o.push(R):o=[R])}}else if(v===ve.current){if(b=v.alternate,b===null)throw Error(i(387));b.memoizedState.memoizedState!==v.memoizedState.memoizedState&&(o!==null?o.push(wl):o=[wl])}v=v.return}o!==null&&ch(s,o,l,f),s.flags|=262144}function pc(o){for(o=o.firstContext;o!==null;){if(!sn(o.context._currentValue,o.memoizedValue))return!0;o=o.next}return!1}function Sr(o){_r=o,Bi=null,o=o.dependencies,o!==null&&(o.firstContext=null)}function At(o){return T0(_r,o)}function hc(o,s){return _r===null&&Sr(o),T0(o,s)}function T0(o,s){var l=s._currentValue;if(s={context:s,memoizedValue:l,next:null},Bi===null){if(o===null)throw Error(i(308));Bi=s,o.dependencies={lanes:0,firstContext:s},o.flags|=524288}else Bi=Bi.next=s;return l}var c1=typeof AbortController<"u"?AbortController:function(){var o=[],s=this.signal={aborted:!1,addEventListener:function(l,f){o.push(f)}};this.abort=function(){s.aborted=!0,o.forEach(function(l){return l()})}},f1=t.unstable_scheduleCallback,d1=t.unstable_NormalPriority,ct={$$typeof:N,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function fh(){return{controller:new c1,data:new Map,refCount:0}}function ja(o){o.refCount--,o.refCount===0&&f1(d1,function(){o.controller.abort()})}var Qa=null,dh=0,Ss=0,Es=null;function p1(o,s){if(Qa===null){var l=Qa=[];dh=0,Ss=mm(),Es={status:"pending",value:void 0,then:function(f){l.push(f)}}}return dh++,s.then(A0,A0),s}function A0(){if(--dh===0&&Qa!==null){Es!==null&&(Es.status="fulfilled");var o=Qa;Qa=null,Ss=0,Es=null;for(var s=0;s<o.length;s++)(0,o[s])()}}function h1(o,s){var l=[],f={status:"pending",value:null,reason:null,then:function(v){l.push(v)}};return o.then(function(){f.status="fulfilled",f.value=s;for(var v=0;v<l.length;v++)(0,l[v])(s)},function(v){for(f.status="rejected",f.reason=v,v=0;v<l.length;v++)(0,l[v])(void 0)}),f}var x0=H.S;H.S=function(o,s){cE=wt(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&p1(o,s),x0!==null&&x0(o,s)};var Er=L(null);function ph(){var o=Er.current;return o!==null?o:Ze.pooledCache}function mc(o,s){s===null?se(Er,Er.current):se(Er,s.pool)}function R0(){var o=ph();return o===null?null:{parent:ct._currentValue,pool:o}}var bs=Error(i(460)),hh=Error(i(474)),gc=Error(i(542)),vc={then:function(){}};function M0(o){return o=o.status,o==="fulfilled"||o==="rejected"}function N0(o,s,l){switch(l=o[l],l===void 0?o.push(s):l!==s&&(s.then(Pi,Pi),s=l),s.status){case"fulfilled":return s.value;case"rejected":throw o=s.reason,D0(o),o;default:if(typeof s.status=="string")s.then(Pi,Pi);else{if(o=Ze,o!==null&&100<o.shellSuspendCounter)throw Error(i(482));o=s,o.status="pending",o.then(function(f){if(s.status==="pending"){var v=s;v.status="fulfilled",v.value=f}},function(f){if(s.status==="pending"){var v=s;v.status="rejected",v.reason=f}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw o=s.reason,D0(o),o}throw wr=s,bs}}function br(o){try{var s=o._init;return s(o._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(wr=l,bs):l}}var wr=null;function I0(){if(wr===null)throw Error(i(459));var o=wr;return wr=null,o}function D0(o){if(o===bs||o===gc)throw Error(i(483))}var ws=null,Za=0;function yc(o){var s=Za;return Za+=1,ws===null&&(ws=[]),N0(ws,o,s)}function el(o,s){s=s.props.ref,o.ref=s!==void 0?s:null}function _c(o,s){throw s.$$typeof===S?Error(i(525)):(o=Object.prototype.toString.call(s),Error(i(31,o==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":o)))}function O0(o){function s(G,B){if(o){var F=G.deletions;F===null?(G.deletions=[B],G.flags|=16):F.push(B)}}function l(G,B){if(!o)return null;for(;B!==null;)s(G,B),B=B.sibling;return null}function f(G){for(var B=new Map;G!==null;)G.key!==null?B.set(G.key,G):B.set(G.index,G),G=G.sibling;return B}function v(G,B){return G=Ui(G,B),G.index=0,G.sibling=null,G}function _(G,B,F){return G.index=F,o?(F=G.alternate,F!==null?(F=F.index,F<B?(G.flags|=67108866,B):F):(G.flags|=67108866,B)):(G.flags|=1048576,B)}function b(G){return o&&G.alternate===null&&(G.flags|=67108866),G}function R(G,B,F,Z){return B===null||B.tag!==6?(B=nh(F,G.mode,Z),B.return=G,B):(B=v(B,F),B.return=G,B)}function P(G,B,F,Z){var _e=F.type;return _e===T?W(G,B,F.props.children,Z,F.key):B!==null&&(B.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===q&&br(_e)===B.type)?(B=v(B,F.props),el(B,F),B.return=G,B):(B=fc(F.type,F.key,F.props,null,G.mode,Z),el(B,F),B.return=G,B)}function $(G,B,F,Z){return B===null||B.tag!==4||B.stateNode.containerInfo!==F.containerInfo||B.stateNode.implementation!==F.implementation?(B=ih(F,G.mode,Z),B.return=G,B):(B=v(B,F.children||[]),B.return=G,B)}function W(G,B,F,Z,_e){return B===null||B.tag!==7?(B=vr(F,G.mode,Z,_e),B.return=G,B):(B=v(B,F),B.return=G,B)}function te(G,B,F){if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return B=nh(""+B,G.mode,F),B.return=G,B;if(typeof B=="object"&&B!==null){switch(B.$$typeof){case E:return F=fc(B.type,B.key,B.props,null,G.mode,F),el(F,B),F.return=G,F;case C:return B=ih(B,G.mode,F),B.return=G,B;case q:return B=br(B),te(G,B,F)}if(de(B)||re(B))return B=vr(B,G.mode,F,null),B.return=G,B;if(typeof B.then=="function")return te(G,yc(B),F);if(B.$$typeof===N)return te(G,hc(G,B),F);_c(G,B)}return null}function z(G,B,F,Z){var _e=B!==null?B.key:null;if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return _e!==null?null:R(G,B,""+F,Z);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case E:return F.key===_e?P(G,B,F,Z):null;case C:return F.key===_e?$(G,B,F,Z):null;case q:return F=br(F),z(G,B,F,Z)}if(de(F)||re(F))return _e!==null?null:W(G,B,F,Z,null);if(typeof F.then=="function")return z(G,B,yc(F),Z);if(F.$$typeof===N)return z(G,B,hc(G,F),Z);_c(G,F)}return null}function Y(G,B,F,Z,_e){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return G=G.get(F)||null,R(B,G,""+Z,_e);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case E:return G=G.get(Z.key===null?F:Z.key)||null,P(B,G,Z,_e);case C:return G=G.get(Z.key===null?F:Z.key)||null,$(B,G,Z,_e);case q:return Z=br(Z),Y(G,B,F,Z,_e)}if(de(Z)||re(Z))return G=G.get(F)||null,W(B,G,Z,_e,null);if(typeof Z.then=="function")return Y(G,B,F,yc(Z),_e);if(Z.$$typeof===N)return Y(G,B,F,hc(B,Z),_e);_c(B,Z)}return null}function pe(G,B,F,Z){for(var _e=null,He=null,ge=B,Re=B=0,Pe=null;ge!==null&&Re<F.length;Re++){ge.index>Re?(Pe=ge,ge=null):Pe=ge.sibling;var Ge=z(G,ge,F[Re],Z);if(Ge===null){ge===null&&(ge=Pe);break}o&&ge&&Ge.alternate===null&&s(G,ge),B=_(Ge,B,Re),He===null?_e=Ge:He.sibling=Ge,He=Ge,ge=Pe}if(Re===F.length)return l(G,ge),Le&&ki(G,Re),_e;if(ge===null){for(;Re<F.length;Re++)ge=te(G,F[Re],Z),ge!==null&&(B=_(ge,B,Re),He===null?_e=ge:He.sibling=ge,He=ge);return Le&&ki(G,Re),_e}for(ge=f(ge);Re<F.length;Re++)Pe=Y(ge,G,Re,F[Re],Z),Pe!==null&&(o&&Pe.alternate!==null&&ge.delete(Pe.key===null?Re:Pe.key),B=_(Pe,B,Re),He===null?_e=Pe:He.sibling=Pe,He=Pe);return o&&ge.forEach(function(Vo){return s(G,Vo)}),Le&&ki(G,Re),_e}function be(G,B,F,Z){if(F==null)throw Error(i(151));for(var _e=null,He=null,ge=B,Re=B=0,Pe=null,Ge=F.next();ge!==null&&!Ge.done;Re++,Ge=F.next()){ge.index>Re?(Pe=ge,ge=null):Pe=ge.sibling;var Vo=z(G,ge,Ge.value,Z);if(Vo===null){ge===null&&(ge=Pe);break}o&&ge&&Vo.alternate===null&&s(G,ge),B=_(Vo,B,Re),He===null?_e=Vo:He.sibling=Vo,He=Vo,ge=Pe}if(Ge.done)return l(G,ge),Le&&ki(G,Re),_e;if(ge===null){for(;!Ge.done;Re++,Ge=F.next())Ge=te(G,Ge.value,Z),Ge!==null&&(B=_(Ge,B,Re),He===null?_e=Ge:He.sibling=Ge,He=Ge);return Le&&ki(G,Re),_e}for(ge=f(ge);!Ge.done;Re++,Ge=F.next())Ge=Y(ge,G,Re,Ge.value,Z),Ge!==null&&(o&&Ge.alternate!==null&&ge.delete(Ge.key===null?Re:Ge.key),B=_(Ge,B,Re),He===null?_e=Ge:He.sibling=Ge,He=Ge);return o&&ge.forEach(function(TP){return s(G,TP)}),Le&&ki(G,Re),_e}function je(G,B,F,Z){if(typeof F=="object"&&F!==null&&F.type===T&&F.key===null&&(F=F.props.children),typeof F=="object"&&F!==null){switch(F.$$typeof){case E:e:{for(var _e=F.key;B!==null;){if(B.key===_e){if(_e=F.type,_e===T){if(B.tag===7){l(G,B.sibling),Z=v(B,F.props.children),Z.return=G,G=Z;break e}}else if(B.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===q&&br(_e)===B.type){l(G,B.sibling),Z=v(B,F.props),el(Z,F),Z.return=G,G=Z;break e}l(G,B);break}else s(G,B);B=B.sibling}F.type===T?(Z=vr(F.props.children,G.mode,Z,F.key),Z.return=G,G=Z):(Z=fc(F.type,F.key,F.props,null,G.mode,Z),el(Z,F),Z.return=G,G=Z)}return b(G);case C:e:{for(_e=F.key;B!==null;){if(B.key===_e)if(B.tag===4&&B.stateNode.containerInfo===F.containerInfo&&B.stateNode.implementation===F.implementation){l(G,B.sibling),Z=v(B,F.children||[]),Z.return=G,G=Z;break e}else{l(G,B);break}else s(G,B);B=B.sibling}Z=ih(F,G.mode,Z),Z.return=G,G=Z}return b(G);case q:return F=br(F),je(G,B,F,Z)}if(de(F))return pe(G,B,F,Z);if(re(F)){if(_e=re(F),typeof _e!="function")throw Error(i(150));return F=_e.call(F),be(G,B,F,Z)}if(typeof F.then=="function")return je(G,B,yc(F),Z);if(F.$$typeof===N)return je(G,B,hc(G,F),Z);_c(G,F)}return typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint"?(F=""+F,B!==null&&B.tag===6?(l(G,B.sibling),Z=v(B,F),Z.return=G,G=Z):(l(G,B),Z=nh(F,G.mode,Z),Z.return=G,G=Z),b(G)):l(G,B)}return function(G,B,F,Z){try{Za=0;var _e=je(G,B,F,Z);return ws=null,_e}catch(ge){if(ge===bs||ge===gc)throw ge;var He=an(29,ge,null,G.mode);return He.lanes=Z,He.return=G,He}finally{}}}var Cr=O0(!0),P0=O0(!1),Ao=!1;function mh(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function gh(o,s){o=o.updateQueue,s.updateQueue===o&&(s.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,callbacks:null})}function xo(o){return{lane:o,tag:0,payload:null,callback:null,next:null}}function Ro(o,s,l){var f=o.updateQueue;if(f===null)return null;if(f=f.shared,(qe&2)!==0){var v=f.pending;return v===null?s.next=s:(s.next=v.next,v.next=s),f.pending=s,s=cc(o),v0(o,null,l),s}return uc(o,f,s,l),cc(o)}function tl(o,s,l){if(s=s.updateQueue,s!==null&&(s=s.shared,(l&4194048)!==0)){var f=s.lanes;f&=o.pendingLanes,l|=f,s.lanes=l,T_(o,l)}}function vh(o,s){var l=o.updateQueue,f=o.alternate;if(f!==null&&(f=f.updateQueue,l===f)){var v=null,_=null;if(l=l.firstBaseUpdate,l!==null){do{var b={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};_===null?v=_=b:_=_.next=b,l=l.next}while(l!==null);_===null?v=_=s:_=_.next=s}else v=_=s;l={baseState:f.baseState,firstBaseUpdate:v,lastBaseUpdate:_,shared:f.shared,callbacks:f.callbacks},o.updateQueue=l;return}o=l.lastBaseUpdate,o===null?l.firstBaseUpdate=s:o.next=s,l.lastBaseUpdate=s}var yh=!1;function nl(){if(yh){var o=Es;if(o!==null)throw o}}function il(o,s,l,f){yh=!1;var v=o.updateQueue;Ao=!1;var _=v.firstBaseUpdate,b=v.lastBaseUpdate,R=v.shared.pending;if(R!==null){v.shared.pending=null;var P=R,$=P.next;P.next=null,b===null?_=$:b.next=$,b=P;var W=o.alternate;W!==null&&(W=W.updateQueue,R=W.lastBaseUpdate,R!==b&&(R===null?W.firstBaseUpdate=$:R.next=$,W.lastBaseUpdate=P))}if(_!==null){var te=v.baseState;b=0,W=$=P=null,R=_;do{var z=R.lane&-536870913,Y=z!==R.lane;if(Y?(Oe&z)===z:(f&z)===z){z!==0&&z===Ss&&(yh=!0),W!==null&&(W=W.next={lane:0,tag:R.tag,payload:R.payload,callback:null,next:null});e:{var pe=o,be=R;z=s;var je=l;switch(be.tag){case 1:if(pe=be.payload,typeof pe=="function"){te=pe.call(je,te,z);break e}te=pe;break e;case 3:pe.flags=pe.flags&-65537|128;case 0:if(pe=be.payload,z=typeof pe=="function"?pe.call(je,te,z):pe,z==null)break e;te=y({},te,z);break e;case 2:Ao=!0}}z=R.callback,z!==null&&(o.flags|=64,Y&&(o.flags|=8192),Y=v.callbacks,Y===null?v.callbacks=[z]:Y.push(z))}else Y={lane:z,tag:R.tag,payload:R.payload,callback:R.callback,next:null},W===null?($=W=Y,P=te):W=W.next=Y,b|=z;if(R=R.next,R===null){if(R=v.shared.pending,R===null)break;Y=R,R=Y.next,Y.next=null,v.lastBaseUpdate=Y,v.shared.pending=null}}while(!0);W===null&&(P=te),v.baseState=P,v.firstBaseUpdate=$,v.lastBaseUpdate=W,_===null&&(v.shared.lanes=0),Oo|=b,o.lanes=b,o.memoizedState=te}}function L0(o,s){if(typeof o!="function")throw Error(i(191,o));o.call(s)}function U0(o,s){var l=o.callbacks;if(l!==null)for(o.callbacks=null,o=0;o<l.length;o++)L0(l[o],s)}var Cs=L(null),Sc=L(0);function k0(o,s){o=Ki,se(Sc,o),se(Cs,s),Ki=o|s.baseLanes}function _h(){se(Sc,Ki),se(Cs,Cs.current)}function Sh(){Ki=Sc.current,K(Cs),K(Sc)}var ln=L(null),Nn=null;function Mo(o){var s=o.alternate;se(lt,lt.current&1),se(ln,o),Nn===null&&(s===null||Cs.current!==null||s.memoizedState!==null)&&(Nn=o)}function Eh(o){se(lt,lt.current),se(ln,o),Nn===null&&(Nn=o)}function B0(o){o.tag===22?(se(lt,lt.current),se(ln,o),Nn===null&&(Nn=o)):No()}function No(){se(lt,lt.current),se(ln,ln.current)}function un(o){K(ln),Nn===o&&(Nn=null),K(lt)}var lt=L(0);function Ec(o){for(var s=o;s!==null;){if(s.tag===13){var l=s.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||xm(l)||Rm(l)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===o)break;for(;s.sibling===null;){if(s.return===null||s.return===o)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Gi=0,xe=null,Xe=null,ft=null,bc=!1,Ts=!1,Tr=!1,wc=0,ol=0,As=null,m1=0;function st(){throw Error(i(321))}function bh(o,s){if(s===null)return!1;for(var l=0;l<s.length&&l<o.length;l++)if(!sn(o[l],s[l]))return!1;return!0}function wh(o,s,l,f,v,_){return Gi=_,xe=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,H.H=o===null||o.memoizedState===null?ES:Bh,Tr=!1,_=l(f,v),Tr=!1,Ts&&(_=G0(s,l,f,v)),H0(o),_}function H0(o){H.H=al;var s=Xe!==null&&Xe.next!==null;if(Gi=0,ft=Xe=xe=null,bc=!1,ol=0,As=null,s)throw Error(i(300));o===null||dt||(o=o.dependencies,o!==null&&pc(o)&&(dt=!0))}function G0(o,s,l,f){xe=o;var v=0;do{if(Ts&&(As=null),ol=0,Ts=!1,25<=v)throw Error(i(301));if(v+=1,ft=Xe=null,o.updateQueue!=null){var _=o.updateQueue;_.lastEffect=null,_.events=null,_.stores=null,_.memoCache!=null&&(_.memoCache.index=0)}H.H=bS,_=s(l,f)}while(Ts);return _}function g1(){var o=H.H,s=o.useState()[0];return s=typeof s.then=="function"?rl(s):s,o=o.useState()[0],(Xe!==null?Xe.memoizedState:null)!==o&&(xe.flags|=1024),s}function Ch(){var o=wc!==0;return wc=0,o}function Th(o,s,l){s.updateQueue=o.updateQueue,s.flags&=-2053,o.lanes&=~l}function Ah(o){if(bc){for(o=o.memoizedState;o!==null;){var s=o.queue;s!==null&&(s.pending=null),o=o.next}bc=!1}Gi=0,ft=Xe=xe=null,Ts=!1,ol=wc=0,As=null}function Bt(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ft===null?xe.memoizedState=ft=o:ft=ft.next=o,ft}function ut(){if(Xe===null){var o=xe.alternate;o=o!==null?o.memoizedState:null}else o=Xe.next;var s=ft===null?xe.memoizedState:ft.next;if(s!==null)ft=s,Xe=o;else{if(o===null)throw xe.alternate===null?Error(i(467)):Error(i(310));Xe=o,o={memoizedState:Xe.memoizedState,baseState:Xe.baseState,baseQueue:Xe.baseQueue,queue:Xe.queue,next:null},ft===null?xe.memoizedState=ft=o:ft=ft.next=o}return ft}function Cc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function rl(o){var s=ol;return ol+=1,As===null&&(As=[]),o=N0(As,o,s),s=xe,(ft===null?s.memoizedState:ft.next)===null&&(s=s.alternate,H.H=s===null||s.memoizedState===null?ES:Bh),o}function Tc(o){if(o!==null&&typeof o=="object"){if(typeof o.then=="function")return rl(o);if(o.$$typeof===N)return At(o)}throw Error(i(438,String(o)))}function xh(o){var s=null,l=xe.updateQueue;if(l!==null&&(s=l.memoCache),s==null){var f=xe.alternate;f!==null&&(f=f.updateQueue,f!==null&&(f=f.memoCache,f!=null&&(s={data:f.data.map(function(v){return v.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),l===null&&(l=Cc(),xe.updateQueue=l),l.memoCache=s,l=s.data[s.index],l===void 0)for(l=s.data[s.index]=Array(o),f=0;f<o;f++)l[f]=X;return s.index++,l}function Fi(o,s){return typeof s=="function"?s(o):s}function Ac(o){var s=ut();return Rh(s,Xe,o)}function Rh(o,s,l){var f=o.queue;if(f===null)throw Error(i(311));f.lastRenderedReducer=l;var v=o.baseQueue,_=f.pending;if(_!==null){if(v!==null){var b=v.next;v.next=_.next,_.next=b}s.baseQueue=v=_,f.pending=null}if(_=o.baseState,v===null)o.memoizedState=_;else{s=v.next;var R=b=null,P=null,$=s,W=!1;do{var te=$.lane&-536870913;if(te!==$.lane?(Oe&te)===te:(Gi&te)===te){var z=$.revertLane;if(z===0)P!==null&&(P=P.next={lane:0,revertLane:0,gesture:null,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null}),te===Ss&&(W=!0);else if((Gi&z)===z){$=$.next,z===Ss&&(W=!0);continue}else te={lane:0,revertLane:$.revertLane,gesture:null,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null},P===null?(R=P=te,b=_):P=P.next=te,xe.lanes|=z,Oo|=z;te=$.action,Tr&&l(_,te),_=$.hasEagerState?$.eagerState:l(_,te)}else z={lane:te,revertLane:$.revertLane,gesture:$.gesture,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null},P===null?(R=P=z,b=_):P=P.next=z,xe.lanes|=te,Oo|=te;$=$.next}while($!==null&&$!==s);if(P===null?b=_:P.next=R,!sn(_,o.memoizedState)&&(dt=!0,W&&(l=Es,l!==null)))throw l;o.memoizedState=_,o.baseState=b,o.baseQueue=P,f.lastRenderedState=_}return v===null&&(f.lanes=0),[o.memoizedState,f.dispatch]}function Mh(o){var s=ut(),l=s.queue;if(l===null)throw Error(i(311));l.lastRenderedReducer=o;var f=l.dispatch,v=l.pending,_=s.memoizedState;if(v!==null){l.pending=null;var b=v=v.next;do _=o(_,b.action),b=b.next;while(b!==v);sn(_,s.memoizedState)||(dt=!0),s.memoizedState=_,s.baseQueue===null&&(s.baseState=_),l.lastRenderedState=_}return[_,f]}function F0(o,s,l){var f=xe,v=ut(),_=Le;if(_){if(l===void 0)throw Error(i(407));l=l()}else l=s();var b=!sn((Xe||v).memoizedState,l);if(b&&(v.memoizedState=l,dt=!0),v=v.queue,Dh(z0.bind(null,f,v,o),[o]),v.getSnapshot!==s||b||ft!==null&&ft.memoizedState.tag&1){if(f.flags|=2048,xs(9,{destroy:void 0},V0.bind(null,f,v,l,s),null),Ze===null)throw Error(i(349));_||(Gi&127)!==0||$0(f,s,l)}return l}function $0(o,s,l){o.flags|=16384,o={getSnapshot:s,value:l},s=xe.updateQueue,s===null?(s=Cc(),xe.updateQueue=s,s.stores=[o]):(l=s.stores,l===null?s.stores=[o]:l.push(o))}function V0(o,s,l,f){s.value=l,s.getSnapshot=f,q0(s)&&J0(o)}function z0(o,s,l){return l(function(){q0(s)&&J0(o)})}function q0(o){var s=o.getSnapshot;o=o.value;try{var l=s();return!sn(o,l)}catch{return!0}}function J0(o){var s=gr(o,2);s!==null&&jt(s,o,2)}function Nh(o){var s=Bt();if(typeof o=="function"){var l=o;if(o=l(),Tr){_o(!0);try{l()}finally{_o(!1)}}}return s.memoizedState=s.baseState=o,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fi,lastRenderedState:o},s}function Y0(o,s,l,f){return o.baseState=l,Rh(o,Xe,typeof f=="function"?f:Fi)}function v1(o,s,l,f,v){if(Mc(o))throw Error(i(485));if(o=s.action,o!==null){var _={payload:v,action:o,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(b){_.listeners.push(b)}};H.T!==null?l(!0):_.isTransition=!1,f(_),l=s.pending,l===null?(_.next=s.pending=_,K0(s,_)):(_.next=l.next,s.pending=l.next=_)}}function K0(o,s){var l=s.action,f=s.payload,v=o.state;if(s.isTransition){var _=H.T,b={};H.T=b;try{var R=l(v,f),P=H.S;P!==null&&P(b,R),X0(o,s,R)}catch($){Ih(o,s,$)}finally{_!==null&&b.types!==null&&(_.types=b.types),H.T=_}}else try{_=l(v,f),X0(o,s,_)}catch($){Ih(o,s,$)}}function X0(o,s,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(f){W0(o,s,f)},function(f){return Ih(o,s,f)}):W0(o,s,l)}function W0(o,s,l){s.status="fulfilled",s.value=l,j0(s),o.state=l,s=o.pending,s!==null&&(l=s.next,l===s?o.pending=null:(l=l.next,s.next=l,K0(o,l)))}function Ih(o,s,l){var f=o.pending;if(o.pending=null,f!==null){f=f.next;do s.status="rejected",s.reason=l,j0(s),s=s.next;while(s!==f)}o.action=null}function j0(o){o=o.listeners;for(var s=0;s<o.length;s++)(0,o[s])()}function Q0(o,s){return s}function Z0(o,s){if(Le){var l=Ze.formState;if(l!==null){e:{var f=xe;if(Le){if(nt){t:{for(var v=nt,_=Mn;v.nodeType!==8;){if(!_){v=null;break t}if(v=In(v.nextSibling),v===null){v=null;break t}}_=v.data,v=_==="F!"||_==="F"?v:null}if(v){nt=In(v.nextSibling),f=v.data==="F!";break e}}Co(f)}f=!1}f&&(s=l[0])}}return l=Bt(),l.memoizedState=l.baseState=s,f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Q0,lastRenderedState:s},l.queue=f,l=yS.bind(null,xe,f),f.dispatch=l,f=Nh(!1),_=kh.bind(null,xe,!1,f.queue),f=Bt(),v={state:s,dispatch:null,action:o,pending:null},f.queue=v,l=v1.bind(null,xe,v,_,l),v.dispatch=l,f.memoizedState=o,[s,l,!1]}function eS(o){var s=ut();return tS(s,Xe,o)}function tS(o,s,l){if(s=Rh(o,s,Q0)[0],o=Ac(Fi)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var f=rl(s)}catch(b){throw b===bs?gc:b}else f=s;s=ut();var v=s.queue,_=v.dispatch;return l!==s.memoizedState&&(xe.flags|=2048,xs(9,{destroy:void 0},y1.bind(null,v,l),null)),[f,_,o]}function y1(o,s){o.action=s}function nS(o){var s=ut(),l=Xe;if(l!==null)return tS(s,l,o);ut(),s=s.memoizedState,l=ut();var f=l.queue.dispatch;return l.memoizedState=o,[s,f,!1]}function xs(o,s,l,f){return o={tag:o,create:l,deps:f,inst:s,next:null},s=xe.updateQueue,s===null&&(s=Cc(),xe.updateQueue=s),l=s.lastEffect,l===null?s.lastEffect=o.next=o:(f=l.next,l.next=o,o.next=f,s.lastEffect=o),o}function iS(){return ut().memoizedState}function xc(o,s,l,f){var v=Bt();xe.flags|=o,v.memoizedState=xs(1|s,{destroy:void 0},l,f===void 0?null:f)}function Rc(o,s,l,f){var v=ut();f=f===void 0?null:f;var _=v.memoizedState.inst;Xe!==null&&f!==null&&bh(f,Xe.memoizedState.deps)?v.memoizedState=xs(s,_,l,f):(xe.flags|=o,v.memoizedState=xs(1|s,_,l,f))}function oS(o,s){xc(8390656,8,o,s)}function Dh(o,s){Rc(2048,8,o,s)}function _1(o){xe.flags|=4;var s=xe.updateQueue;if(s===null)s=Cc(),xe.updateQueue=s,s.events=[o];else{var l=s.events;l===null?s.events=[o]:l.push(o)}}function rS(o){var s=ut().memoizedState;return _1({ref:s,nextImpl:o}),function(){if((qe&2)!==0)throw Error(i(440));return s.impl.apply(void 0,arguments)}}function sS(o,s){return Rc(4,2,o,s)}function aS(o,s){return Rc(4,4,o,s)}function lS(o,s){if(typeof s=="function"){o=o();var l=s(o);return function(){typeof l=="function"?l():s(null)}}if(s!=null)return o=o(),s.current=o,function(){s.current=null}}function uS(o,s,l){l=l!=null?l.concat([o]):null,Rc(4,4,lS.bind(null,s,o),l)}function Oh(){}function cS(o,s){var l=ut();s=s===void 0?null:s;var f=l.memoizedState;return s!==null&&bh(s,f[1])?f[0]:(l.memoizedState=[o,s],o)}function fS(o,s){var l=ut();s=s===void 0?null:s;var f=l.memoizedState;if(s!==null&&bh(s,f[1]))return f[0];if(f=o(),Tr){_o(!0);try{o()}finally{_o(!1)}}return l.memoizedState=[f,s],f}function Ph(o,s,l){return l===void 0||(Gi&1073741824)!==0&&(Oe&261930)===0?o.memoizedState=s:(o.memoizedState=l,o=dE(),xe.lanes|=o,Oo|=o,l)}function dS(o,s,l,f){return sn(l,s)?l:Cs.current!==null?(o=Ph(o,l,f),sn(o,s)||(dt=!0),o):(Gi&42)===0||(Gi&1073741824)!==0&&(Oe&261930)===0?(dt=!0,o.memoizedState=l):(o=dE(),xe.lanes|=o,Oo|=o,s)}function pS(o,s,l,f,v){var _=Q.p;Q.p=_!==0&&8>_?_:8;var b=H.T,R={};H.T=R,kh(o,!1,s,l);try{var P=v(),$=H.S;if($!==null&&$(R,P),P!==null&&typeof P=="object"&&typeof P.then=="function"){var W=h1(P,f);sl(o,s,W,dn(o))}else sl(o,s,f,dn(o))}catch(te){sl(o,s,{then:function(){},status:"rejected",reason:te},dn())}finally{Q.p=_,b!==null&&R.types!==null&&(b.types=R.types),H.T=b}}function S1(){}function Lh(o,s,l,f){if(o.tag!==5)throw Error(i(476));var v=hS(o).queue;pS(o,v,s,ee,l===null?S1:function(){return mS(o),l(f)})}function hS(o){var s=o.memoizedState;if(s!==null)return s;s={memoizedState:ee,baseState:ee,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fi,lastRenderedState:ee},next:null};var l={};return s.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fi,lastRenderedState:l},next:null},o.memoizedState=s,o=o.alternate,o!==null&&(o.memoizedState=s),s}function mS(o){var s=hS(o);s.next===null&&(s=o.alternate.memoizedState),sl(o,s.next.queue,{},dn())}function Uh(){return At(wl)}function gS(){return ut().memoizedState}function vS(){return ut().memoizedState}function E1(o){for(var s=o.return;s!==null;){switch(s.tag){case 24:case 3:var l=dn();o=xo(l);var f=Ro(s,o,l);f!==null&&(jt(f,s,l),tl(f,s,l)),s={cache:fh()},o.payload=s;return}s=s.return}}function b1(o,s,l){var f=dn();l={lane:f,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Mc(o)?_S(s,l):(l=eh(o,s,l,f),l!==null&&(jt(l,o,f),SS(l,s,f)))}function yS(o,s,l){var f=dn();sl(o,s,l,f)}function sl(o,s,l,f){var v={lane:f,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(Mc(o))_S(s,v);else{var _=o.alternate;if(o.lanes===0&&(_===null||_.lanes===0)&&(_=s.lastRenderedReducer,_!==null))try{var b=s.lastRenderedState,R=_(b,l);if(v.hasEagerState=!0,v.eagerState=R,sn(R,b))return uc(o,s,v,0),Ze===null&&lc(),!1}catch{}finally{}if(l=eh(o,s,v,f),l!==null)return jt(l,o,f),SS(l,s,f),!0}return!1}function kh(o,s,l,f){if(f={lane:2,revertLane:mm(),gesture:null,action:f,hasEagerState:!1,eagerState:null,next:null},Mc(o)){if(s)throw Error(i(479))}else s=eh(o,l,f,2),s!==null&&jt(s,o,2)}function Mc(o){var s=o.alternate;return o===xe||s!==null&&s===xe}function _S(o,s){Ts=bc=!0;var l=o.pending;l===null?s.next=s:(s.next=l.next,l.next=s),o.pending=s}function SS(o,s,l){if((l&4194048)!==0){var f=s.lanes;f&=o.pendingLanes,l|=f,s.lanes=l,T_(o,l)}}var al={readContext:At,use:Tc,useCallback:st,useContext:st,useEffect:st,useImperativeHandle:st,useLayoutEffect:st,useInsertionEffect:st,useMemo:st,useReducer:st,useRef:st,useState:st,useDebugValue:st,useDeferredValue:st,useTransition:st,useSyncExternalStore:st,useId:st,useHostTransitionStatus:st,useFormState:st,useActionState:st,useOptimistic:st,useMemoCache:st,useCacheRefresh:st};al.useEffectEvent=st;var ES={readContext:At,use:Tc,useCallback:function(o,s){return Bt().memoizedState=[o,s===void 0?null:s],o},useContext:At,useEffect:oS,useImperativeHandle:function(o,s,l){l=l!=null?l.concat([o]):null,xc(4194308,4,lS.bind(null,s,o),l)},useLayoutEffect:function(o,s){return xc(4194308,4,o,s)},useInsertionEffect:function(o,s){xc(4,2,o,s)},useMemo:function(o,s){var l=Bt();s=s===void 0?null:s;var f=o();if(Tr){_o(!0);try{o()}finally{_o(!1)}}return l.memoizedState=[f,s],f},useReducer:function(o,s,l){var f=Bt();if(l!==void 0){var v=l(s);if(Tr){_o(!0);try{l(s)}finally{_o(!1)}}}else v=s;return f.memoizedState=f.baseState=v,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:v},f.queue=o,o=o.dispatch=b1.bind(null,xe,o),[f.memoizedState,o]},useRef:function(o){var s=Bt();return o={current:o},s.memoizedState=o},useState:function(o){o=Nh(o);var s=o.queue,l=yS.bind(null,xe,s);return s.dispatch=l,[o.memoizedState,l]},useDebugValue:Oh,useDeferredValue:function(o,s){var l=Bt();return Ph(l,o,s)},useTransition:function(){var o=Nh(!1);return o=pS.bind(null,xe,o.queue,!0,!1),Bt().memoizedState=o,[!1,o]},useSyncExternalStore:function(o,s,l){var f=xe,v=Bt();if(Le){if(l===void 0)throw Error(i(407));l=l()}else{if(l=s(),Ze===null)throw Error(i(349));(Oe&127)!==0||$0(f,s,l)}v.memoizedState=l;var _={value:l,getSnapshot:s};return v.queue=_,oS(z0.bind(null,f,_,o),[o]),f.flags|=2048,xs(9,{destroy:void 0},V0.bind(null,f,_,l,s),null),l},useId:function(){var o=Bt(),s=Ze.identifierPrefix;if(Le){var l=di,f=fi;l=(f&~(1<<32-rn(f)-1)).toString(32)+l,s="_"+s+"R_"+l,l=wc++,0<l&&(s+="H"+l.toString(32)),s+="_"}else l=m1++,s="_"+s+"r_"+l.toString(32)+"_";return o.memoizedState=s},useHostTransitionStatus:Uh,useFormState:Z0,useActionState:Z0,useOptimistic:function(o){var s=Bt();s.memoizedState=s.baseState=o;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=l,s=kh.bind(null,xe,!0,l),l.dispatch=s,[o,s]},useMemoCache:xh,useCacheRefresh:function(){return Bt().memoizedState=E1.bind(null,xe)},useEffectEvent:function(o){var s=Bt(),l={impl:o};return s.memoizedState=l,function(){if((qe&2)!==0)throw Error(i(440));return l.impl.apply(void 0,arguments)}}},Bh={readContext:At,use:Tc,useCallback:cS,useContext:At,useEffect:Dh,useImperativeHandle:uS,useInsertionEffect:sS,useLayoutEffect:aS,useMemo:fS,useReducer:Ac,useRef:iS,useState:function(){return Ac(Fi)},useDebugValue:Oh,useDeferredValue:function(o,s){var l=ut();return dS(l,Xe.memoizedState,o,s)},useTransition:function(){var o=Ac(Fi)[0],s=ut().memoizedState;return[typeof o=="boolean"?o:rl(o),s]},useSyncExternalStore:F0,useId:gS,useHostTransitionStatus:Uh,useFormState:eS,useActionState:eS,useOptimistic:function(o,s){var l=ut();return Y0(l,Xe,o,s)},useMemoCache:xh,useCacheRefresh:vS};Bh.useEffectEvent=rS;var bS={readContext:At,use:Tc,useCallback:cS,useContext:At,useEffect:Dh,useImperativeHandle:uS,useInsertionEffect:sS,useLayoutEffect:aS,useMemo:fS,useReducer:Mh,useRef:iS,useState:function(){return Mh(Fi)},useDebugValue:Oh,useDeferredValue:function(o,s){var l=ut();return Xe===null?Ph(l,o,s):dS(l,Xe.memoizedState,o,s)},useTransition:function(){var o=Mh(Fi)[0],s=ut().memoizedState;return[typeof o=="boolean"?o:rl(o),s]},useSyncExternalStore:F0,useId:gS,useHostTransitionStatus:Uh,useFormState:nS,useActionState:nS,useOptimistic:function(o,s){var l=ut();return Xe!==null?Y0(l,Xe,o,s):(l.baseState=o,[o,l.queue.dispatch])},useMemoCache:xh,useCacheRefresh:vS};bS.useEffectEvent=rS;function Hh(o,s,l,f){s=o.memoizedState,l=l(f,s),l=l==null?s:y({},s,l),o.memoizedState=l,o.lanes===0&&(o.updateQueue.baseState=l)}var Gh={enqueueSetState:function(o,s,l){o=o._reactInternals;var f=dn(),v=xo(f);v.payload=s,l!=null&&(v.callback=l),s=Ro(o,v,f),s!==null&&(jt(s,o,f),tl(s,o,f))},enqueueReplaceState:function(o,s,l){o=o._reactInternals;var f=dn(),v=xo(f);v.tag=1,v.payload=s,l!=null&&(v.callback=l),s=Ro(o,v,f),s!==null&&(jt(s,o,f),tl(s,o,f))},enqueueForceUpdate:function(o,s){o=o._reactInternals;var l=dn(),f=xo(l);f.tag=2,s!=null&&(f.callback=s),s=Ro(o,f,l),s!==null&&(jt(s,o,l),tl(s,o,l))}};function wS(o,s,l,f,v,_,b){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(f,_,b):s.prototype&&s.prototype.isPureReactComponent?!Ya(l,f)||!Ya(v,_):!0}function CS(o,s,l,f){o=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(l,f),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(l,f),s.state!==o&&Gh.enqueueReplaceState(s,s.state,null)}function Ar(o,s){var l=s;if("ref"in s){l={};for(var f in s)f!=="ref"&&(l[f]=s[f])}if(o=o.defaultProps){l===s&&(l=y({},l));for(var v in o)l[v]===void 0&&(l[v]=o[v])}return l}function TS(o){ac(o)}function AS(o){console.error(o)}function xS(o){ac(o)}function Nc(o,s){try{var l=o.onUncaughtError;l(s.value,{componentStack:s.stack})}catch(f){setTimeout(function(){throw f})}}function RS(o,s,l){try{var f=o.onCaughtError;f(l.value,{componentStack:l.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(v){setTimeout(function(){throw v})}}function Fh(o,s,l){return l=xo(l),l.tag=3,l.payload={element:null},l.callback=function(){Nc(o,s)},l}function MS(o){return o=xo(o),o.tag=3,o}function NS(o,s,l,f){var v=l.type.getDerivedStateFromError;if(typeof v=="function"){var _=f.value;o.payload=function(){return v(_)},o.callback=function(){RS(s,l,f)}}var b=l.stateNode;b!==null&&typeof b.componentDidCatch=="function"&&(o.callback=function(){RS(s,l,f),typeof v!="function"&&(Po===null?Po=new Set([this]):Po.add(this));var R=f.stack;this.componentDidCatch(f.value,{componentStack:R!==null?R:""})})}function w1(o,s,l,f,v){if(l.flags|=32768,f!==null&&typeof f=="object"&&typeof f.then=="function"){if(s=l.alternate,s!==null&&_s(s,l,v,!0),l=ln.current,l!==null){switch(l.tag){case 31:case 13:return Nn===null?$c():l.alternate===null&&at===0&&(at=3),l.flags&=-257,l.flags|=65536,l.lanes=v,f===vc?l.flags|=16384:(s=l.updateQueue,s===null?l.updateQueue=new Set([f]):s.add(f),dm(o,f,v)),!1;case 22:return l.flags|=65536,f===vc?l.flags|=16384:(s=l.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([f])},l.updateQueue=s):(l=s.retryQueue,l===null?s.retryQueue=new Set([f]):l.add(f)),dm(o,f,v)),!1}throw Error(i(435,l.tag))}return dm(o,f,v),$c(),!1}if(Le)return s=ln.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=v,f!==sh&&(o=Error(i(422),{cause:f}),Wa(An(o,l)))):(f!==sh&&(s=Error(i(423),{cause:f}),Wa(An(s,l))),o=o.current.alternate,o.flags|=65536,v&=-v,o.lanes|=v,f=An(f,l),v=Fh(o.stateNode,f,v),vh(o,v),at!==4&&(at=2)),!1;var _=Error(i(520),{cause:f});if(_=An(_,l),ml===null?ml=[_]:ml.push(_),at!==4&&(at=2),s===null)return!0;f=An(f,l),l=s;do{switch(l.tag){case 3:return l.flags|=65536,o=v&-v,l.lanes|=o,o=Fh(l.stateNode,f,o),vh(l,o),!1;case 1:if(s=l.type,_=l.stateNode,(l.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(Po===null||!Po.has(_))))return l.flags|=65536,v&=-v,l.lanes|=v,v=MS(v),NS(v,o,l,f),vh(l,v),!1}l=l.return}while(l!==null);return!1}var $h=Error(i(461)),dt=!1;function xt(o,s,l,f){s.child=o===null?P0(s,null,l,f):Cr(s,o.child,l,f)}function IS(o,s,l,f,v){l=l.render;var _=s.ref;if("ref"in f){var b={};for(var R in f)R!=="ref"&&(b[R]=f[R])}else b=f;return Sr(s),f=wh(o,s,l,b,_,v),R=Ch(),o!==null&&!dt?(Th(o,s,v),$i(o,s,v)):(Le&&R&&oh(s),s.flags|=1,xt(o,s,f,v),s.child)}function DS(o,s,l,f,v){if(o===null){var _=l.type;return typeof _=="function"&&!th(_)&&_.defaultProps===void 0&&l.compare===null?(s.tag=15,s.type=_,OS(o,s,_,f,v)):(o=fc(l.type,null,f,s,s.mode,v),o.ref=s.ref,o.return=s,s.child=o)}if(_=o.child,!Wh(o,v)){var b=_.memoizedProps;if(l=l.compare,l=l!==null?l:Ya,l(b,f)&&o.ref===s.ref)return $i(o,s,v)}return s.flags|=1,o=Ui(_,f),o.ref=s.ref,o.return=s,s.child=o}function OS(o,s,l,f,v){if(o!==null){var _=o.memoizedProps;if(Ya(_,f)&&o.ref===s.ref)if(dt=!1,s.pendingProps=f=_,Wh(o,v))(o.flags&131072)!==0&&(dt=!0);else return s.lanes=o.lanes,$i(o,s,v)}return Vh(o,s,l,f,v)}function PS(o,s,l,f){var v=f.children,_=o!==null?o.memoizedState:null;if(o===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),f.mode==="hidden"){if((s.flags&128)!==0){if(_=_!==null?_.baseLanes|l:l,o!==null){for(f=s.child=o.child,v=0;f!==null;)v=v|f.lanes|f.childLanes,f=f.sibling;f=v&~_}else f=0,s.child=null;return LS(o,s,_,l,f)}if((l&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},o!==null&&mc(s,_!==null?_.cachePool:null),_!==null?k0(s,_):_h(),B0(s);else return f=s.lanes=536870912,LS(o,s,_!==null?_.baseLanes|l:l,l,f)}else _!==null?(mc(s,_.cachePool),k0(s,_),No(),s.memoizedState=null):(o!==null&&mc(s,null),_h(),No());return xt(o,s,v,l),s.child}function ll(o,s){return o!==null&&o.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function LS(o,s,l,f,v){var _=ph();return _=_===null?null:{parent:ct._currentValue,pool:_},s.memoizedState={baseLanes:l,cachePool:_},o!==null&&mc(s,null),_h(),B0(s),o!==null&&_s(o,s,f,!0),s.childLanes=v,null}function Ic(o,s){return s=Oc({mode:s.mode,children:s.children},o.mode),s.ref=o.ref,o.child=s,s.return=o,s}function US(o,s,l){return Cr(s,o.child,null,l),o=Ic(s,s.pendingProps),o.flags|=2,un(s),s.memoizedState=null,o}function C1(o,s,l){var f=s.pendingProps,v=(s.flags&128)!==0;if(s.flags&=-129,o===null){if(Le){if(f.mode==="hidden")return o=Ic(s,f),s.lanes=536870912,ll(null,o);if(Eh(s),(o=nt)?(o=KE(o,Mn),o=o!==null&&o.data==="&"?o:null,o!==null&&(s.memoizedState={dehydrated:o,treeContext:bo!==null?{id:fi,overflow:di}:null,retryLane:536870912,hydrationErrors:null},l=_0(o),l.return=s,s.child=l,Tt=s,nt=null)):o=null,o===null)throw Co(s);return s.lanes=536870912,null}return Ic(s,f)}var _=o.memoizedState;if(_!==null){var b=_.dehydrated;if(Eh(s),v)if(s.flags&256)s.flags&=-257,s=US(o,s,l);else if(s.memoizedState!==null)s.child=o.child,s.flags|=128,s=null;else throw Error(i(558));else if(dt||_s(o,s,l,!1),v=(l&o.childLanes)!==0,dt||v){if(f=Ze,f!==null&&(b=A_(f,l),b!==0&&b!==_.retryLane))throw _.retryLane=b,gr(o,b),jt(f,o,b),$h;$c(),s=US(o,s,l)}else o=_.treeContext,nt=In(b.nextSibling),Tt=s,Le=!0,wo=null,Mn=!1,o!==null&&b0(s,o),s=Ic(s,f),s.flags|=4096;return s}return o=Ui(o.child,{mode:f.mode,children:f.children}),o.ref=s.ref,s.child=o,o.return=s,o}function Dc(o,s){var l=s.ref;if(l===null)o!==null&&o.ref!==null&&(s.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(i(284));(o===null||o.ref!==l)&&(s.flags|=4194816)}}function Vh(o,s,l,f,v){return Sr(s),l=wh(o,s,l,f,void 0,v),f=Ch(),o!==null&&!dt?(Th(o,s,v),$i(o,s,v)):(Le&&f&&oh(s),s.flags|=1,xt(o,s,l,v),s.child)}function kS(o,s,l,f,v,_){return Sr(s),s.updateQueue=null,l=G0(s,f,l,v),H0(o),f=Ch(),o!==null&&!dt?(Th(o,s,_),$i(o,s,_)):(Le&&f&&oh(s),s.flags|=1,xt(o,s,l,_),s.child)}function BS(o,s,l,f,v){if(Sr(s),s.stateNode===null){var _=ms,b=l.contextType;typeof b=="object"&&b!==null&&(_=At(b)),_=new l(f,_),s.memoizedState=_.state!==null&&_.state!==void 0?_.state:null,_.updater=Gh,s.stateNode=_,_._reactInternals=s,_=s.stateNode,_.props=f,_.state=s.memoizedState,_.refs={},mh(s),b=l.contextType,_.context=typeof b=="object"&&b!==null?At(b):ms,_.state=s.memoizedState,b=l.getDerivedStateFromProps,typeof b=="function"&&(Hh(s,l,b,f),_.state=s.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof _.getSnapshotBeforeUpdate=="function"||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(b=_.state,typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount(),b!==_.state&&Gh.enqueueReplaceState(_,_.state,null),il(s,f,_,v),nl(),_.state=s.memoizedState),typeof _.componentDidMount=="function"&&(s.flags|=4194308),f=!0}else if(o===null){_=s.stateNode;var R=s.memoizedProps,P=Ar(l,R);_.props=P;var $=_.context,W=l.contextType;b=ms,typeof W=="object"&&W!==null&&(b=At(W));var te=l.getDerivedStateFromProps;W=typeof te=="function"||typeof _.getSnapshotBeforeUpdate=="function",R=s.pendingProps!==R,W||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(R||$!==b)&&CS(s,_,f,b),Ao=!1;var z=s.memoizedState;_.state=z,il(s,f,_,v),nl(),$=s.memoizedState,R||z!==$||Ao?(typeof te=="function"&&(Hh(s,l,te,f),$=s.memoizedState),(P=Ao||wS(s,l,P,f,z,$,b))?(W||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(s.flags|=4194308)):(typeof _.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=f,s.memoizedState=$),_.props=f,_.state=$,_.context=b,f=P):(typeof _.componentDidMount=="function"&&(s.flags|=4194308),f=!1)}else{_=s.stateNode,gh(o,s),b=s.memoizedProps,W=Ar(l,b),_.props=W,te=s.pendingProps,z=_.context,$=l.contextType,P=ms,typeof $=="object"&&$!==null&&(P=At($)),R=l.getDerivedStateFromProps,($=typeof R=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(b!==te||z!==P)&&CS(s,_,f,P),Ao=!1,z=s.memoizedState,_.state=z,il(s,f,_,v),nl();var Y=s.memoizedState;b!==te||z!==Y||Ao||o!==null&&o.dependencies!==null&&pc(o.dependencies)?(typeof R=="function"&&(Hh(s,l,R,f),Y=s.memoizedState),(W=Ao||wS(s,l,W,f,z,Y,P)||o!==null&&o.dependencies!==null&&pc(o.dependencies))?($||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(f,Y,P),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(f,Y,P)),typeof _.componentDidUpdate=="function"&&(s.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof _.componentDidUpdate!="function"||b===o.memoizedProps&&z===o.memoizedState||(s.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||b===o.memoizedProps&&z===o.memoizedState||(s.flags|=1024),s.memoizedProps=f,s.memoizedState=Y),_.props=f,_.state=Y,_.context=P,f=W):(typeof _.componentDidUpdate!="function"||b===o.memoizedProps&&z===o.memoizedState||(s.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||b===o.memoizedProps&&z===o.memoizedState||(s.flags|=1024),f=!1)}return _=f,Dc(o,s),f=(s.flags&128)!==0,_||f?(_=s.stateNode,l=f&&typeof l.getDerivedStateFromError!="function"?null:_.render(),s.flags|=1,o!==null&&f?(s.child=Cr(s,o.child,null,v),s.child=Cr(s,null,l,v)):xt(o,s,l,v),s.memoizedState=_.state,o=s.child):o=$i(o,s,v),o}function HS(o,s,l,f){return yr(),s.flags|=256,xt(o,s,l,f),s.child}var zh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function qh(o){return{baseLanes:o,cachePool:R0()}}function Jh(o,s,l){return o=o!==null?o.childLanes&~l:0,s&&(o|=fn),o}function GS(o,s,l){var f=s.pendingProps,v=!1,_=(s.flags&128)!==0,b;if((b=_)||(b=o!==null&&o.memoizedState===null?!1:(lt.current&2)!==0),b&&(v=!0,s.flags&=-129),b=(s.flags&32)!==0,s.flags&=-33,o===null){if(Le){if(v?Mo(s):No(),(o=nt)?(o=KE(o,Mn),o=o!==null&&o.data!=="&"?o:null,o!==null&&(s.memoizedState={dehydrated:o,treeContext:bo!==null?{id:fi,overflow:di}:null,retryLane:536870912,hydrationErrors:null},l=_0(o),l.return=s,s.child=l,Tt=s,nt=null)):o=null,o===null)throw Co(s);return Rm(o)?s.lanes=32:s.lanes=536870912,null}var R=f.children;return f=f.fallback,v?(No(),v=s.mode,R=Oc({mode:"hidden",children:R},v),f=vr(f,v,l,null),R.return=s,f.return=s,R.sibling=f,s.child=R,f=s.child,f.memoizedState=qh(l),f.childLanes=Jh(o,b,l),s.memoizedState=zh,ll(null,f)):(Mo(s),Yh(s,R))}var P=o.memoizedState;if(P!==null&&(R=P.dehydrated,R!==null)){if(_)s.flags&256?(Mo(s),s.flags&=-257,s=Kh(o,s,l)):s.memoizedState!==null?(No(),s.child=o.child,s.flags|=128,s=null):(No(),R=f.fallback,v=s.mode,f=Oc({mode:"visible",children:f.children},v),R=vr(R,v,l,null),R.flags|=2,f.return=s,R.return=s,f.sibling=R,s.child=f,Cr(s,o.child,null,l),f=s.child,f.memoizedState=qh(l),f.childLanes=Jh(o,b,l),s.memoizedState=zh,s=ll(null,f));else if(Mo(s),Rm(R)){if(b=R.nextSibling&&R.nextSibling.dataset,b)var $=b.dgst;b=$,f=Error(i(419)),f.stack="",f.digest=b,Wa({value:f,source:null,stack:null}),s=Kh(o,s,l)}else if(dt||_s(o,s,l,!1),b=(l&o.childLanes)!==0,dt||b){if(b=Ze,b!==null&&(f=A_(b,l),f!==0&&f!==P.retryLane))throw P.retryLane=f,gr(o,f),jt(b,o,f),$h;xm(R)||$c(),s=Kh(o,s,l)}else xm(R)?(s.flags|=192,s.child=o.child,s=null):(o=P.treeContext,nt=In(R.nextSibling),Tt=s,Le=!0,wo=null,Mn=!1,o!==null&&b0(s,o),s=Yh(s,f.children),s.flags|=4096);return s}return v?(No(),R=f.fallback,v=s.mode,P=o.child,$=P.sibling,f=Ui(P,{mode:"hidden",children:f.children}),f.subtreeFlags=P.subtreeFlags&65011712,$!==null?R=Ui($,R):(R=vr(R,v,l,null),R.flags|=2),R.return=s,f.return=s,f.sibling=R,s.child=f,ll(null,f),f=s.child,R=o.child.memoizedState,R===null?R=qh(l):(v=R.cachePool,v!==null?(P=ct._currentValue,v=v.parent!==P?{parent:P,pool:P}:v):v=R0(),R={baseLanes:R.baseLanes|l,cachePool:v}),f.memoizedState=R,f.childLanes=Jh(o,b,l),s.memoizedState=zh,ll(o.child,f)):(Mo(s),l=o.child,o=l.sibling,l=Ui(l,{mode:"visible",children:f.children}),l.return=s,l.sibling=null,o!==null&&(b=s.deletions,b===null?(s.deletions=[o],s.flags|=16):b.push(o)),s.child=l,s.memoizedState=null,l)}function Yh(o,s){return s=Oc({mode:"visible",children:s},o.mode),s.return=o,o.child=s}function Oc(o,s){return o=an(22,o,null,s),o.lanes=0,o}function Kh(o,s,l){return Cr(s,o.child,null,l),o=Yh(s,s.pendingProps.children),o.flags|=2,s.memoizedState=null,o}function FS(o,s,l){o.lanes|=s;var f=o.alternate;f!==null&&(f.lanes|=s),uh(o.return,s,l)}function Xh(o,s,l,f,v,_){var b=o.memoizedState;b===null?o.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:f,tail:l,tailMode:v,treeForkCount:_}:(b.isBackwards=s,b.rendering=null,b.renderingStartTime=0,b.last=f,b.tail=l,b.tailMode=v,b.treeForkCount=_)}function $S(o,s,l){var f=s.pendingProps,v=f.revealOrder,_=f.tail;f=f.children;var b=lt.current,R=(b&2)!==0;if(R?(b=b&1|2,s.flags|=128):b&=1,se(lt,b),xt(o,s,f,l),f=Le?Xa:0,!R&&o!==null&&(o.flags&128)!==0)e:for(o=s.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&FS(o,l,s);else if(o.tag===19)FS(o,l,s);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break e;for(;o.sibling===null;){if(o.return===null||o.return===s)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}switch(v){case"forwards":for(l=s.child,v=null;l!==null;)o=l.alternate,o!==null&&Ec(o)===null&&(v=l),l=l.sibling;l=v,l===null?(v=s.child,s.child=null):(v=l.sibling,l.sibling=null),Xh(s,!1,v,l,_,f);break;case"backwards":case"unstable_legacy-backwards":for(l=null,v=s.child,s.child=null;v!==null;){if(o=v.alternate,o!==null&&Ec(o)===null){s.child=v;break}o=v.sibling,v.sibling=l,l=v,v=o}Xh(s,!0,l,null,_,f);break;case"together":Xh(s,!1,null,null,void 0,f);break;default:s.memoizedState=null}return s.child}function $i(o,s,l){if(o!==null&&(s.dependencies=o.dependencies),Oo|=s.lanes,(l&s.childLanes)===0)if(o!==null){if(_s(o,s,l,!1),(l&s.childLanes)===0)return null}else return null;if(o!==null&&s.child!==o.child)throw Error(i(153));if(s.child!==null){for(o=s.child,l=Ui(o,o.pendingProps),s.child=l,l.return=s;o.sibling!==null;)o=o.sibling,l=l.sibling=Ui(o,o.pendingProps),l.return=s;l.sibling=null}return s.child}function Wh(o,s){return(o.lanes&s)!==0?!0:(o=o.dependencies,!!(o!==null&&pc(o)))}function T1(o,s,l){switch(s.tag){case 3:Ve(s,s.stateNode.containerInfo),To(s,ct,o.memoizedState.cache),yr();break;case 27:case 5:nn(s);break;case 4:Ve(s,s.stateNode.containerInfo);break;case 10:To(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,Eh(s),null;break;case 13:var f=s.memoizedState;if(f!==null)return f.dehydrated!==null?(Mo(s),s.flags|=128,null):(l&s.child.childLanes)!==0?GS(o,s,l):(Mo(s),o=$i(o,s,l),o!==null?o.sibling:null);Mo(s);break;case 19:var v=(o.flags&128)!==0;if(f=(l&s.childLanes)!==0,f||(_s(o,s,l,!1),f=(l&s.childLanes)!==0),v){if(f)return $S(o,s,l);s.flags|=128}if(v=s.memoizedState,v!==null&&(v.rendering=null,v.tail=null,v.lastEffect=null),se(lt,lt.current),f)break;return null;case 22:return s.lanes=0,PS(o,s,l,s.pendingProps);case 24:To(s,ct,o.memoizedState.cache)}return $i(o,s,l)}function VS(o,s,l){if(o!==null)if(o.memoizedProps!==s.pendingProps)dt=!0;else{if(!Wh(o,l)&&(s.flags&128)===0)return dt=!1,T1(o,s,l);dt=(o.flags&131072)!==0}else dt=!1,Le&&(s.flags&1048576)!==0&&E0(s,Xa,s.index);switch(s.lanes=0,s.tag){case 16:e:{var f=s.pendingProps;if(o=br(s.elementType),s.type=o,typeof o=="function")th(o)?(f=Ar(o,f),s.tag=1,s=BS(null,s,o,f,l)):(s.tag=0,s=Vh(null,s,o,f,l));else{if(o!=null){var v=o.$$typeof;if(v===D){s.tag=11,s=IS(null,s,o,f,l);break e}else if(v===O){s.tag=14,s=DS(null,s,o,f,l);break e}}throw s=ae(o)||o,Error(i(306,s,""))}}return s;case 0:return Vh(o,s,s.type,s.pendingProps,l);case 1:return f=s.type,v=Ar(f,s.pendingProps),BS(o,s,f,v,l);case 3:e:{if(Ve(s,s.stateNode.containerInfo),o===null)throw Error(i(387));f=s.pendingProps;var _=s.memoizedState;v=_.element,gh(o,s),il(s,f,null,l);var b=s.memoizedState;if(f=b.cache,To(s,ct,f),f!==_.cache&&ch(s,[ct],l,!0),nl(),f=b.element,_.isDehydrated)if(_={element:f,isDehydrated:!1,cache:b.cache},s.updateQueue.baseState=_,s.memoizedState=_,s.flags&256){s=HS(o,s,f,l);break e}else if(f!==v){v=An(Error(i(424)),s),Wa(v),s=HS(o,s,f,l);break e}else{switch(o=s.stateNode.containerInfo,o.nodeType){case 9:o=o.body;break;default:o=o.nodeName==="HTML"?o.ownerDocument.body:o}for(nt=In(o.firstChild),Tt=s,Le=!0,wo=null,Mn=!0,l=P0(s,null,f,l),s.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(yr(),f===v){s=$i(o,s,l);break e}xt(o,s,f,l)}s=s.child}return s;case 26:return Dc(o,s),o===null?(l=eb(s.type,null,s.pendingProps,null))?s.memoizedState=l:Le||(l=s.type,o=s.pendingProps,f=Xc(Ee.current).createElement(l),f[Ct]=s,f[qt]=o,Rt(f,l,o),yt(f),s.stateNode=f):s.memoizedState=eb(s.type,o.memoizedProps,s.pendingProps,o.memoizedState),null;case 27:return nn(s),o===null&&Le&&(f=s.stateNode=jE(s.type,s.pendingProps,Ee.current),Tt=s,Mn=!0,v=nt,Bo(s.type)?(Mm=v,nt=In(f.firstChild)):nt=v),xt(o,s,s.pendingProps.children,l),Dc(o,s),o===null&&(s.flags|=4194304),s.child;case 5:return o===null&&Le&&((v=f=nt)&&(f=tP(f,s.type,s.pendingProps,Mn),f!==null?(s.stateNode=f,Tt=s,nt=In(f.firstChild),Mn=!1,v=!0):v=!1),v||Co(s)),nn(s),v=s.type,_=s.pendingProps,b=o!==null?o.memoizedProps:null,f=_.children,Cm(v,_)?f=null:b!==null&&Cm(v,b)&&(s.flags|=32),s.memoizedState!==null&&(v=wh(o,s,g1,null,null,l),wl._currentValue=v),Dc(o,s),xt(o,s,f,l),s.child;case 6:return o===null&&Le&&((o=l=nt)&&(l=nP(l,s.pendingProps,Mn),l!==null?(s.stateNode=l,Tt=s,nt=null,o=!0):o=!1),o||Co(s)),null;case 13:return GS(o,s,l);case 4:return Ve(s,s.stateNode.containerInfo),f=s.pendingProps,o===null?s.child=Cr(s,null,f,l):xt(o,s,f,l),s.child;case 11:return IS(o,s,s.type,s.pendingProps,l);case 7:return xt(o,s,s.pendingProps,l),s.child;case 8:return xt(o,s,s.pendingProps.children,l),s.child;case 12:return xt(o,s,s.pendingProps.children,l),s.child;case 10:return f=s.pendingProps,To(s,s.type,f.value),xt(o,s,f.children,l),s.child;case 9:return v=s.type._context,f=s.pendingProps.children,Sr(s),v=At(v),f=f(v),s.flags|=1,xt(o,s,f,l),s.child;case 14:return DS(o,s,s.type,s.pendingProps,l);case 15:return OS(o,s,s.type,s.pendingProps,l);case 19:return $S(o,s,l);case 31:return C1(o,s,l);case 22:return PS(o,s,l,s.pendingProps);case 24:return Sr(s),f=At(ct),o===null?(v=ph(),v===null&&(v=Ze,_=fh(),v.pooledCache=_,_.refCount++,_!==null&&(v.pooledCacheLanes|=l),v=_),s.memoizedState={parent:f,cache:v},mh(s),To(s,ct,v)):((o.lanes&l)!==0&&(gh(o,s),il(s,null,null,l),nl()),v=o.memoizedState,_=s.memoizedState,v.parent!==f?(v={parent:f,cache:f},s.memoizedState=v,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=v),To(s,ct,f)):(f=_.cache,To(s,ct,f),f!==v.cache&&ch(s,[ct],l,!0))),xt(o,s,s.pendingProps.children,l),s.child;case 29:throw s.pendingProps}throw Error(i(156,s.tag))}function Vi(o){o.flags|=4}function jh(o,s,l,f,v){if((s=(o.mode&32)!==0)&&(s=!1),s){if(o.flags|=16777216,(v&335544128)===v)if(o.stateNode.complete)o.flags|=8192;else if(gE())o.flags|=8192;else throw wr=vc,hh}else o.flags&=-16777217}function zS(o,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)o.flags&=-16777217;else if(o.flags|=16777216,!rb(s))if(gE())o.flags|=8192;else throw wr=vc,hh}function Pc(o,s){s!==null&&(o.flags|=4),o.flags&16384&&(s=o.tag!==22?w_():536870912,o.lanes|=s,Is|=s)}function ul(o,s){if(!Le)switch(o.tailMode){case"hidden":s=o.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?o.tail=null:l.sibling=null;break;case"collapsed":l=o.tail;for(var f=null;l!==null;)l.alternate!==null&&(f=l),l=l.sibling;f===null?s||o.tail===null?o.tail=null:o.tail.sibling=null:f.sibling=null}}function it(o){var s=o.alternate!==null&&o.alternate.child===o.child,l=0,f=0;if(s)for(var v=o.child;v!==null;)l|=v.lanes|v.childLanes,f|=v.subtreeFlags&65011712,f|=v.flags&65011712,v.return=o,v=v.sibling;else for(v=o.child;v!==null;)l|=v.lanes|v.childLanes,f|=v.subtreeFlags,f|=v.flags,v.return=o,v=v.sibling;return o.subtreeFlags|=f,o.childLanes=l,s}function A1(o,s,l){var f=s.pendingProps;switch(rh(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return it(s),null;case 1:return it(s),null;case 3:return l=s.stateNode,f=null,o!==null&&(f=o.memoizedState.cache),s.memoizedState.cache!==f&&(s.flags|=2048),Hi(ct),ze(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(o===null||o.child===null)&&(ys(s)?Vi(s):o===null||o.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,ah())),it(s),null;case 26:var v=s.type,_=s.memoizedState;return o===null?(Vi(s),_!==null?(it(s),zS(s,_)):(it(s),jh(s,v,null,f,l))):_?_!==o.memoizedState?(Vi(s),it(s),zS(s,_)):(it(s),s.flags&=-16777217):(o=o.memoizedProps,o!==f&&Vi(s),it(s),jh(s,v,o,f,l)),null;case 27:if(bn(s),l=Ee.current,v=s.type,o!==null&&s.stateNode!=null)o.memoizedProps!==f&&Vi(s);else{if(!f){if(s.stateNode===null)throw Error(i(166));return it(s),null}o=le.current,ys(s)?w0(s):(o=jE(v,f,l),s.stateNode=o,Vi(s))}return it(s),null;case 5:if(bn(s),v=s.type,o!==null&&s.stateNode!=null)o.memoizedProps!==f&&Vi(s);else{if(!f){if(s.stateNode===null)throw Error(i(166));return it(s),null}if(_=le.current,ys(s))w0(s);else{var b=Xc(Ee.current);switch(_){case 1:_=b.createElementNS("http://www.w3.org/2000/svg",v);break;case 2:_=b.createElementNS("http://www.w3.org/1998/Math/MathML",v);break;default:switch(v){case"svg":_=b.createElementNS("http://www.w3.org/2000/svg",v);break;case"math":_=b.createElementNS("http://www.w3.org/1998/Math/MathML",v);break;case"script":_=b.createElement("div"),_.innerHTML="<script><\/script>",_=_.removeChild(_.firstChild);break;case"select":_=typeof f.is=="string"?b.createElement("select",{is:f.is}):b.createElement("select"),f.multiple?_.multiple=!0:f.size&&(_.size=f.size);break;default:_=typeof f.is=="string"?b.createElement(v,{is:f.is}):b.createElement(v)}}_[Ct]=s,_[qt]=f;e:for(b=s.child;b!==null;){if(b.tag===5||b.tag===6)_.appendChild(b.stateNode);else if(b.tag!==4&&b.tag!==27&&b.child!==null){b.child.return=b,b=b.child;continue}if(b===s)break e;for(;b.sibling===null;){if(b.return===null||b.return===s)break e;b=b.return}b.sibling.return=b.return,b=b.sibling}s.stateNode=_;e:switch(Rt(_,v,f),v){case"button":case"input":case"select":case"textarea":f=!!f.autoFocus;break e;case"img":f=!0;break e;default:f=!1}f&&Vi(s)}}return it(s),jh(s,s.type,o===null?null:o.memoizedProps,s.pendingProps,l),null;case 6:if(o&&s.stateNode!=null)o.memoizedProps!==f&&Vi(s);else{if(typeof f!="string"&&s.stateNode===null)throw Error(i(166));if(o=Ee.current,ys(s)){if(o=s.stateNode,l=s.memoizedProps,f=null,v=Tt,v!==null)switch(v.tag){case 27:case 5:f=v.memoizedProps}o[Ct]=s,o=!!(o.nodeValue===l||f!==null&&f.suppressHydrationWarning===!0||GE(o.nodeValue,l)),o||Co(s,!0)}else o=Xc(o).createTextNode(f),o[Ct]=s,s.stateNode=o}return it(s),null;case 31:if(l=s.memoizedState,o===null||o.memoizedState!==null){if(f=ys(s),l!==null){if(o===null){if(!f)throw Error(i(318));if(o=s.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(i(557));o[Ct]=s}else yr(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;it(s),o=!1}else l=ah(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=l),o=!0;if(!o)return s.flags&256?(un(s),s):(un(s),null);if((s.flags&128)!==0)throw Error(i(558))}return it(s),null;case 13:if(f=s.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(v=ys(s),f!==null&&f.dehydrated!==null){if(o===null){if(!v)throw Error(i(318));if(v=s.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(i(317));v[Ct]=s}else yr(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;it(s),v=!1}else v=ah(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=v),v=!0;if(!v)return s.flags&256?(un(s),s):(un(s),null)}return un(s),(s.flags&128)!==0?(s.lanes=l,s):(l=f!==null,o=o!==null&&o.memoizedState!==null,l&&(f=s.child,v=null,f.alternate!==null&&f.alternate.memoizedState!==null&&f.alternate.memoizedState.cachePool!==null&&(v=f.alternate.memoizedState.cachePool.pool),_=null,f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(_=f.memoizedState.cachePool.pool),_!==v&&(f.flags|=2048)),l!==o&&l&&(s.child.flags|=8192),Pc(s,s.updateQueue),it(s),null);case 4:return ze(),o===null&&_m(s.stateNode.containerInfo),it(s),null;case 10:return Hi(s.type),it(s),null;case 19:if(K(lt),f=s.memoizedState,f===null)return it(s),null;if(v=(s.flags&128)!==0,_=f.rendering,_===null)if(v)ul(f,!1);else{if(at!==0||o!==null&&(o.flags&128)!==0)for(o=s.child;o!==null;){if(_=Ec(o),_!==null){for(s.flags|=128,ul(f,!1),o=_.updateQueue,s.updateQueue=o,Pc(s,o),s.subtreeFlags=0,o=l,l=s.child;l!==null;)y0(l,o),l=l.sibling;return se(lt,lt.current&1|2),Le&&ki(s,f.treeForkCount),s.child}o=o.sibling}f.tail!==null&&wt()>Hc&&(s.flags|=128,v=!0,ul(f,!1),s.lanes=4194304)}else{if(!v)if(o=Ec(_),o!==null){if(s.flags|=128,v=!0,o=o.updateQueue,s.updateQueue=o,Pc(s,o),ul(f,!0),f.tail===null&&f.tailMode==="hidden"&&!_.alternate&&!Le)return it(s),null}else 2*wt()-f.renderingStartTime>Hc&&l!==536870912&&(s.flags|=128,v=!0,ul(f,!1),s.lanes=4194304);f.isBackwards?(_.sibling=s.child,s.child=_):(o=f.last,o!==null?o.sibling=_:s.child=_,f.last=_)}return f.tail!==null?(o=f.tail,f.rendering=o,f.tail=o.sibling,f.renderingStartTime=wt(),o.sibling=null,l=lt.current,se(lt,v?l&1|2:l&1),Le&&ki(s,f.treeForkCount),o):(it(s),null);case 22:case 23:return un(s),Sh(),f=s.memoizedState!==null,o!==null?o.memoizedState!==null!==f&&(s.flags|=8192):f&&(s.flags|=8192),f?(l&536870912)!==0&&(s.flags&128)===0&&(it(s),s.subtreeFlags&6&&(s.flags|=8192)):it(s),l=s.updateQueue,l!==null&&Pc(s,l.retryQueue),l=null,o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(l=o.memoizedState.cachePool.pool),f=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(f=s.memoizedState.cachePool.pool),f!==l&&(s.flags|=2048),o!==null&&K(Er),null;case 24:return l=null,o!==null&&(l=o.memoizedState.cache),s.memoizedState.cache!==l&&(s.flags|=2048),Hi(ct),it(s),null;case 25:return null;case 30:return null}throw Error(i(156,s.tag))}function x1(o,s){switch(rh(s),s.tag){case 1:return o=s.flags,o&65536?(s.flags=o&-65537|128,s):null;case 3:return Hi(ct),ze(),o=s.flags,(o&65536)!==0&&(o&128)===0?(s.flags=o&-65537|128,s):null;case 26:case 27:case 5:return bn(s),null;case 31:if(s.memoizedState!==null){if(un(s),s.alternate===null)throw Error(i(340));yr()}return o=s.flags,o&65536?(s.flags=o&-65537|128,s):null;case 13:if(un(s),o=s.memoizedState,o!==null&&o.dehydrated!==null){if(s.alternate===null)throw Error(i(340));yr()}return o=s.flags,o&65536?(s.flags=o&-65537|128,s):null;case 19:return K(lt),null;case 4:return ze(),null;case 10:return Hi(s.type),null;case 22:case 23:return un(s),Sh(),o!==null&&K(Er),o=s.flags,o&65536?(s.flags=o&-65537|128,s):null;case 24:return Hi(ct),null;case 25:return null;default:return null}}function qS(o,s){switch(rh(s),s.tag){case 3:Hi(ct),ze();break;case 26:case 27:case 5:bn(s);break;case 4:ze();break;case 31:s.memoizedState!==null&&un(s);break;case 13:un(s);break;case 19:K(lt);break;case 10:Hi(s.type);break;case 22:case 23:un(s),Sh(),o!==null&&K(Er);break;case 24:Hi(ct)}}function cl(o,s){try{var l=s.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var v=f.next;l=v;do{if((l.tag&o)===o){f=void 0;var _=l.create,b=l.inst;f=_(),b.destroy=f}l=l.next}while(l!==v)}}catch(R){Ke(s,s.return,R)}}function Io(o,s,l){try{var f=s.updateQueue,v=f!==null?f.lastEffect:null;if(v!==null){var _=v.next;f=_;do{if((f.tag&o)===o){var b=f.inst,R=b.destroy;if(R!==void 0){b.destroy=void 0,v=s;var P=l,$=R;try{$()}catch(W){Ke(v,P,W)}}}f=f.next}while(f!==_)}}catch(W){Ke(s,s.return,W)}}function JS(o){var s=o.updateQueue;if(s!==null){var l=o.stateNode;try{U0(s,l)}catch(f){Ke(o,o.return,f)}}}function YS(o,s,l){l.props=Ar(o.type,o.memoizedProps),l.state=o.memoizedState;try{l.componentWillUnmount()}catch(f){Ke(o,s,f)}}function fl(o,s){try{var l=o.ref;if(l!==null){switch(o.tag){case 26:case 27:case 5:var f=o.stateNode;break;case 30:f=o.stateNode;break;default:f=o.stateNode}typeof l=="function"?o.refCleanup=l(f):l.current=f}}catch(v){Ke(o,s,v)}}function pi(o,s){var l=o.ref,f=o.refCleanup;if(l!==null)if(typeof f=="function")try{f()}catch(v){Ke(o,s,v)}finally{o.refCleanup=null,o=o.alternate,o!=null&&(o.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(v){Ke(o,s,v)}else l.current=null}function KS(o){var s=o.type,l=o.memoizedProps,f=o.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":l.autoFocus&&f.focus();break e;case"img":l.src?f.src=l.src:l.srcSet&&(f.srcset=l.srcSet)}}catch(v){Ke(o,o.return,v)}}function Qh(o,s,l){try{var f=o.stateNode;X1(f,o.type,l,s),f[qt]=s}catch(v){Ke(o,o.return,v)}}function XS(o){return o.tag===5||o.tag===3||o.tag===26||o.tag===27&&Bo(o.type)||o.tag===4}function Zh(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||XS(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.tag===27&&Bo(o.type)||o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function em(o,s,l){var f=o.tag;if(f===5||f===6)o=o.stateNode,s?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(o,s):(s=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,s.appendChild(o),l=l._reactRootContainer,l!=null||s.onclick!==null||(s.onclick=Pi));else if(f!==4&&(f===27&&Bo(o.type)&&(l=o.stateNode,s=null),o=o.child,o!==null))for(em(o,s,l),o=o.sibling;o!==null;)em(o,s,l),o=o.sibling}function Lc(o,s,l){var f=o.tag;if(f===5||f===6)o=o.stateNode,s?l.insertBefore(o,s):l.appendChild(o);else if(f!==4&&(f===27&&Bo(o.type)&&(l=o.stateNode),o=o.child,o!==null))for(Lc(o,s,l),o=o.sibling;o!==null;)Lc(o,s,l),o=o.sibling}function WS(o){var s=o.stateNode,l=o.memoizedProps;try{for(var f=o.type,v=s.attributes;v.length;)s.removeAttributeNode(v[0]);Rt(s,f,l),s[Ct]=o,s[qt]=l}catch(_){Ke(o,o.return,_)}}var zi=!1,pt=!1,tm=!1,jS=typeof WeakSet=="function"?WeakSet:Set,_t=null;function R1(o,s){if(o=o.containerInfo,bm=nf,o=u0(o),Kp(o)){if("selectionStart"in o)var l={start:o.selectionStart,end:o.selectionEnd};else e:{l=(l=o.ownerDocument)&&l.defaultView||window;var f=l.getSelection&&l.getSelection();if(f&&f.rangeCount!==0){l=f.anchorNode;var v=f.anchorOffset,_=f.focusNode;f=f.focusOffset;try{l.nodeType,_.nodeType}catch{l=null;break e}var b=0,R=-1,P=-1,$=0,W=0,te=o,z=null;t:for(;;){for(var Y;te!==l||v!==0&&te.nodeType!==3||(R=b+v),te!==_||f!==0&&te.nodeType!==3||(P=b+f),te.nodeType===3&&(b+=te.nodeValue.length),(Y=te.firstChild)!==null;)z=te,te=Y;for(;;){if(te===o)break t;if(z===l&&++$===v&&(R=b),z===_&&++W===f&&(P=b),(Y=te.nextSibling)!==null)break;te=z,z=te.parentNode}te=Y}l=R===-1||P===-1?null:{start:R,end:P}}else l=null}l=l||{start:0,end:0}}else l=null;for(wm={focusedElem:o,selectionRange:l},nf=!1,_t=s;_t!==null;)if(s=_t,o=s.child,(s.subtreeFlags&1028)!==0&&o!==null)o.return=s,_t=o;else for(;_t!==null;){switch(s=_t,_=s.alternate,o=s.flags,s.tag){case 0:if((o&4)!==0&&(o=s.updateQueue,o=o!==null?o.events:null,o!==null))for(l=0;l<o.length;l++)v=o[l],v.ref.impl=v.nextImpl;break;case 11:case 15:break;case 1:if((o&1024)!==0&&_!==null){o=void 0,l=s,v=_.memoizedProps,_=_.memoizedState,f=l.stateNode;try{var pe=Ar(l.type,v);o=f.getSnapshotBeforeUpdate(pe,_),f.__reactInternalSnapshotBeforeUpdate=o}catch(be){Ke(l,l.return,be)}}break;case 3:if((o&1024)!==0){if(o=s.stateNode.containerInfo,l=o.nodeType,l===9)Am(o);else if(l===1)switch(o.nodeName){case"HEAD":case"HTML":case"BODY":Am(o);break;default:o.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((o&1024)!==0)throw Error(i(163))}if(o=s.sibling,o!==null){o.return=s.return,_t=o;break}_t=s.return}}function QS(o,s,l){var f=l.flags;switch(l.tag){case 0:case 11:case 15:Ji(o,l),f&4&&cl(5,l);break;case 1:if(Ji(o,l),f&4)if(o=l.stateNode,s===null)try{o.componentDidMount()}catch(b){Ke(l,l.return,b)}else{var v=Ar(l.type,s.memoizedProps);s=s.memoizedState;try{o.componentDidUpdate(v,s,o.__reactInternalSnapshotBeforeUpdate)}catch(b){Ke(l,l.return,b)}}f&64&&JS(l),f&512&&fl(l,l.return);break;case 3:if(Ji(o,l),f&64&&(o=l.updateQueue,o!==null)){if(s=null,l.child!==null)switch(l.child.tag){case 27:case 5:s=l.child.stateNode;break;case 1:s=l.child.stateNode}try{U0(o,s)}catch(b){Ke(l,l.return,b)}}break;case 27:s===null&&f&4&&WS(l);case 26:case 5:Ji(o,l),s===null&&f&4&&KS(l),f&512&&fl(l,l.return);break;case 12:Ji(o,l);break;case 31:Ji(o,l),f&4&&tE(o,l);break;case 13:Ji(o,l),f&4&&nE(o,l),f&64&&(o=l.memoizedState,o!==null&&(o=o.dehydrated,o!==null&&(l=k1.bind(null,l),iP(o,l))));break;case 22:if(f=l.memoizedState!==null||zi,!f){s=s!==null&&s.memoizedState!==null||pt,v=zi;var _=pt;zi=f,(pt=s)&&!_?Yi(o,l,(l.subtreeFlags&8772)!==0):Ji(o,l),zi=v,pt=_}break;case 30:break;default:Ji(o,l)}}function ZS(o){var s=o.alternate;s!==null&&(o.alternate=null,ZS(s)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(s=o.stateNode,s!==null&&Ip(s)),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}var rt=null,Yt=!1;function qi(o,s,l){for(l=l.child;l!==null;)eE(o,s,l),l=l.sibling}function eE(o,s,l){if(on&&typeof on.onCommitFiberUnmount=="function")try{on.onCommitFiberUnmount(La,l)}catch{}switch(l.tag){case 26:pt||pi(l,s),qi(o,s,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:pt||pi(l,s);var f=rt,v=Yt;Bo(l.type)&&(rt=l.stateNode,Yt=!1),qi(o,s,l),Sl(l.stateNode),rt=f,Yt=v;break;case 5:pt||pi(l,s);case 6:if(f=rt,v=Yt,rt=null,qi(o,s,l),rt=f,Yt=v,rt!==null)if(Yt)try{(rt.nodeType===9?rt.body:rt.nodeName==="HTML"?rt.ownerDocument.body:rt).removeChild(l.stateNode)}catch(_){Ke(l,s,_)}else try{rt.removeChild(l.stateNode)}catch(_){Ke(l,s,_)}break;case 18:rt!==null&&(Yt?(o=rt,JE(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,l.stateNode),Hs(o)):JE(rt,l.stateNode));break;case 4:f=rt,v=Yt,rt=l.stateNode.containerInfo,Yt=!0,qi(o,s,l),rt=f,Yt=v;break;case 0:case 11:case 14:case 15:Io(2,l,s),pt||Io(4,l,s),qi(o,s,l);break;case 1:pt||(pi(l,s),f=l.stateNode,typeof f.componentWillUnmount=="function"&&YS(l,s,f)),qi(o,s,l);break;case 21:qi(o,s,l);break;case 22:pt=(f=pt)||l.memoizedState!==null,qi(o,s,l),pt=f;break;default:qi(o,s,l)}}function tE(o,s){if(s.memoizedState===null&&(o=s.alternate,o!==null&&(o=o.memoizedState,o!==null))){o=o.dehydrated;try{Hs(o)}catch(l){Ke(s,s.return,l)}}}function nE(o,s){if(s.memoizedState===null&&(o=s.alternate,o!==null&&(o=o.memoizedState,o!==null&&(o=o.dehydrated,o!==null))))try{Hs(o)}catch(l){Ke(s,s.return,l)}}function M1(o){switch(o.tag){case 31:case 13:case 19:var s=o.stateNode;return s===null&&(s=o.stateNode=new jS),s;case 22:return o=o.stateNode,s=o._retryCache,s===null&&(s=o._retryCache=new jS),s;default:throw Error(i(435,o.tag))}}function Uc(o,s){var l=M1(o);s.forEach(function(f){if(!l.has(f)){l.add(f);var v=B1.bind(null,o,f);f.then(v,v)}})}function Kt(o,s){var l=s.deletions;if(l!==null)for(var f=0;f<l.length;f++){var v=l[f],_=o,b=s,R=b;e:for(;R!==null;){switch(R.tag){case 27:if(Bo(R.type)){rt=R.stateNode,Yt=!1;break e}break;case 5:rt=R.stateNode,Yt=!1;break e;case 3:case 4:rt=R.stateNode.containerInfo,Yt=!0;break e}R=R.return}if(rt===null)throw Error(i(160));eE(_,b,v),rt=null,Yt=!1,_=v.alternate,_!==null&&(_.return=null),v.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)iE(s,o),s=s.sibling}var Kn=null;function iE(o,s){var l=o.alternate,f=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:Kt(s,o),Xt(o),f&4&&(Io(3,o,o.return),cl(3,o),Io(5,o,o.return));break;case 1:Kt(s,o),Xt(o),f&512&&(pt||l===null||pi(l,l.return)),f&64&&zi&&(o=o.updateQueue,o!==null&&(f=o.callbacks,f!==null&&(l=o.shared.hiddenCallbacks,o.shared.hiddenCallbacks=l===null?f:l.concat(f))));break;case 26:var v=Kn;if(Kt(s,o),Xt(o),f&512&&(pt||l===null||pi(l,l.return)),f&4){var _=l!==null?l.memoizedState:null;if(f=o.memoizedState,l===null)if(f===null)if(o.stateNode===null){e:{f=o.type,l=o.memoizedProps,v=v.ownerDocument||v;t:switch(f){case"title":_=v.getElementsByTagName("title")[0],(!_||_[Ba]||_[Ct]||_.namespaceURI==="http://www.w3.org/2000/svg"||_.hasAttribute("itemprop"))&&(_=v.createElement(f),v.head.insertBefore(_,v.querySelector("head > title"))),Rt(_,f,l),_[Ct]=o,yt(_),f=_;break e;case"link":var b=ib("link","href",v).get(f+(l.href||""));if(b){for(var R=0;R<b.length;R++)if(_=b[R],_.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&_.getAttribute("rel")===(l.rel==null?null:l.rel)&&_.getAttribute("title")===(l.title==null?null:l.title)&&_.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){b.splice(R,1);break t}}_=v.createElement(f),Rt(_,f,l),v.head.appendChild(_);break;case"meta":if(b=ib("meta","content",v).get(f+(l.content||""))){for(R=0;R<b.length;R++)if(_=b[R],_.getAttribute("content")===(l.content==null?null:""+l.content)&&_.getAttribute("name")===(l.name==null?null:l.name)&&_.getAttribute("property")===(l.property==null?null:l.property)&&_.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&_.getAttribute("charset")===(l.charSet==null?null:l.charSet)){b.splice(R,1);break t}}_=v.createElement(f),Rt(_,f,l),v.head.appendChild(_);break;default:throw Error(i(468,f))}_[Ct]=o,yt(_),f=_}o.stateNode=f}else ob(v,o.type,o.stateNode);else o.stateNode=nb(v,f,o.memoizedProps);else _!==f?(_===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):_.count--,f===null?ob(v,o.type,o.stateNode):nb(v,f,o.memoizedProps)):f===null&&o.stateNode!==null&&Qh(o,o.memoizedProps,l.memoizedProps)}break;case 27:Kt(s,o),Xt(o),f&512&&(pt||l===null||pi(l,l.return)),l!==null&&f&4&&Qh(o,o.memoizedProps,l.memoizedProps);break;case 5:if(Kt(s,o),Xt(o),f&512&&(pt||l===null||pi(l,l.return)),o.flags&32){v=o.stateNode;try{ls(v,"")}catch(pe){Ke(o,o.return,pe)}}f&4&&o.stateNode!=null&&(v=o.memoizedProps,Qh(o,v,l!==null?l.memoizedProps:v)),f&1024&&(tm=!0);break;case 6:if(Kt(s,o),Xt(o),f&4){if(o.stateNode===null)throw Error(i(162));f=o.memoizedProps,l=o.stateNode;try{l.nodeValue=f}catch(pe){Ke(o,o.return,pe)}}break;case 3:if(Qc=null,v=Kn,Kn=Wc(s.containerInfo),Kt(s,o),Kn=v,Xt(o),f&4&&l!==null&&l.memoizedState.isDehydrated)try{Hs(s.containerInfo)}catch(pe){Ke(o,o.return,pe)}tm&&(tm=!1,oE(o));break;case 4:f=Kn,Kn=Wc(o.stateNode.containerInfo),Kt(s,o),Xt(o),Kn=f;break;case 12:Kt(s,o),Xt(o);break;case 31:Kt(s,o),Xt(o),f&4&&(f=o.updateQueue,f!==null&&(o.updateQueue=null,Uc(o,f)));break;case 13:Kt(s,o),Xt(o),o.child.flags&8192&&o.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(Bc=wt()),f&4&&(f=o.updateQueue,f!==null&&(o.updateQueue=null,Uc(o,f)));break;case 22:v=o.memoizedState!==null;var P=l!==null&&l.memoizedState!==null,$=zi,W=pt;if(zi=$||v,pt=W||P,Kt(s,o),pt=W,zi=$,Xt(o),f&8192)e:for(s=o.stateNode,s._visibility=v?s._visibility&-2:s._visibility|1,v&&(l===null||P||zi||pt||xr(o)),l=null,s=o;;){if(s.tag===5||s.tag===26){if(l===null){P=l=s;try{if(_=P.stateNode,v)b=_.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none";else{R=P.stateNode;var te=P.memoizedProps.style,z=te!=null&&te.hasOwnProperty("display")?te.display:null;R.style.display=z==null||typeof z=="boolean"?"":(""+z).trim()}}catch(pe){Ke(P,P.return,pe)}}}else if(s.tag===6){if(l===null){P=s;try{P.stateNode.nodeValue=v?"":P.memoizedProps}catch(pe){Ke(P,P.return,pe)}}}else if(s.tag===18){if(l===null){P=s;try{var Y=P.stateNode;v?YE(Y,!0):YE(P.stateNode,!1)}catch(pe){Ke(P,P.return,pe)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===o)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===o)break e;for(;s.sibling===null;){if(s.return===null||s.return===o)break e;l===s&&(l=null),s=s.return}l===s&&(l=null),s.sibling.return=s.return,s=s.sibling}f&4&&(f=o.updateQueue,f!==null&&(l=f.retryQueue,l!==null&&(f.retryQueue=null,Uc(o,l))));break;case 19:Kt(s,o),Xt(o),f&4&&(f=o.updateQueue,f!==null&&(o.updateQueue=null,Uc(o,f)));break;case 30:break;case 21:break;default:Kt(s,o),Xt(o)}}function Xt(o){var s=o.flags;if(s&2){try{for(var l,f=o.return;f!==null;){if(XS(f)){l=f;break}f=f.return}if(l==null)throw Error(i(160));switch(l.tag){case 27:var v=l.stateNode,_=Zh(o);Lc(o,_,v);break;case 5:var b=l.stateNode;l.flags&32&&(ls(b,""),l.flags&=-33);var R=Zh(o);Lc(o,R,b);break;case 3:case 4:var P=l.stateNode.containerInfo,$=Zh(o);em(o,$,P);break;default:throw Error(i(161))}}catch(W){Ke(o,o.return,W)}o.flags&=-3}s&4096&&(o.flags&=-4097)}function oE(o){if(o.subtreeFlags&1024)for(o=o.child;o!==null;){var s=o;oE(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),o=o.sibling}}function Ji(o,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)QS(o,s.alternate,s),s=s.sibling}function xr(o){for(o=o.child;o!==null;){var s=o;switch(s.tag){case 0:case 11:case 14:case 15:Io(4,s,s.return),xr(s);break;case 1:pi(s,s.return);var l=s.stateNode;typeof l.componentWillUnmount=="function"&&YS(s,s.return,l),xr(s);break;case 27:Sl(s.stateNode);case 26:case 5:pi(s,s.return),xr(s);break;case 22:s.memoizedState===null&&xr(s);break;case 30:xr(s);break;default:xr(s)}o=o.sibling}}function Yi(o,s,l){for(l=l&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var f=s.alternate,v=o,_=s,b=_.flags;switch(_.tag){case 0:case 11:case 15:Yi(v,_,l),cl(4,_);break;case 1:if(Yi(v,_,l),f=_,v=f.stateNode,typeof v.componentDidMount=="function")try{v.componentDidMount()}catch($){Ke(f,f.return,$)}if(f=_,v=f.updateQueue,v!==null){var R=f.stateNode;try{var P=v.shared.hiddenCallbacks;if(P!==null)for(v.shared.hiddenCallbacks=null,v=0;v<P.length;v++)L0(P[v],R)}catch($){Ke(f,f.return,$)}}l&&b&64&&JS(_),fl(_,_.return);break;case 27:WS(_);case 26:case 5:Yi(v,_,l),l&&f===null&&b&4&&KS(_),fl(_,_.return);break;case 12:Yi(v,_,l);break;case 31:Yi(v,_,l),l&&b&4&&tE(v,_);break;case 13:Yi(v,_,l),l&&b&4&&nE(v,_);break;case 22:_.memoizedState===null&&Yi(v,_,l),fl(_,_.return);break;case 30:break;default:Yi(v,_,l)}s=s.sibling}}function nm(o,s){var l=null;o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(l=o.memoizedState.cachePool.pool),o=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(o=s.memoizedState.cachePool.pool),o!==l&&(o!=null&&o.refCount++,l!=null&&ja(l))}function im(o,s){o=null,s.alternate!==null&&(o=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==o&&(s.refCount++,o!=null&&ja(o))}function Xn(o,s,l,f){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)rE(o,s,l,f),s=s.sibling}function rE(o,s,l,f){var v=s.flags;switch(s.tag){case 0:case 11:case 15:Xn(o,s,l,f),v&2048&&cl(9,s);break;case 1:Xn(o,s,l,f);break;case 3:Xn(o,s,l,f),v&2048&&(o=null,s.alternate!==null&&(o=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==o&&(s.refCount++,o!=null&&ja(o)));break;case 12:if(v&2048){Xn(o,s,l,f),o=s.stateNode;try{var _=s.memoizedProps,b=_.id,R=_.onPostCommit;typeof R=="function"&&R(b,s.alternate===null?"mount":"update",o.passiveEffectDuration,-0)}catch(P){Ke(s,s.return,P)}}else Xn(o,s,l,f);break;case 31:Xn(o,s,l,f);break;case 13:Xn(o,s,l,f);break;case 23:break;case 22:_=s.stateNode,b=s.alternate,s.memoizedState!==null?_._visibility&2?Xn(o,s,l,f):dl(o,s):_._visibility&2?Xn(o,s,l,f):(_._visibility|=2,Rs(o,s,l,f,(s.subtreeFlags&10256)!==0||!1)),v&2048&&nm(b,s);break;case 24:Xn(o,s,l,f),v&2048&&im(s.alternate,s);break;default:Xn(o,s,l,f)}}function Rs(o,s,l,f,v){for(v=v&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var _=o,b=s,R=l,P=f,$=b.flags;switch(b.tag){case 0:case 11:case 15:Rs(_,b,R,P,v),cl(8,b);break;case 23:break;case 22:var W=b.stateNode;b.memoizedState!==null?W._visibility&2?Rs(_,b,R,P,v):dl(_,b):(W._visibility|=2,Rs(_,b,R,P,v)),v&&$&2048&&nm(b.alternate,b);break;case 24:Rs(_,b,R,P,v),v&&$&2048&&im(b.alternate,b);break;default:Rs(_,b,R,P,v)}s=s.sibling}}function dl(o,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var l=o,f=s,v=f.flags;switch(f.tag){case 22:dl(l,f),v&2048&&nm(f.alternate,f);break;case 24:dl(l,f),v&2048&&im(f.alternate,f);break;default:dl(l,f)}s=s.sibling}}var pl=8192;function Ms(o,s,l){if(o.subtreeFlags&pl)for(o=o.child;o!==null;)sE(o,s,l),o=o.sibling}function sE(o,s,l){switch(o.tag){case 26:Ms(o,s,l),o.flags&pl&&o.memoizedState!==null&&mP(l,Kn,o.memoizedState,o.memoizedProps);break;case 5:Ms(o,s,l);break;case 3:case 4:var f=Kn;Kn=Wc(o.stateNode.containerInfo),Ms(o,s,l),Kn=f;break;case 22:o.memoizedState===null&&(f=o.alternate,f!==null&&f.memoizedState!==null?(f=pl,pl=16777216,Ms(o,s,l),pl=f):Ms(o,s,l));break;default:Ms(o,s,l)}}function aE(o){var s=o.alternate;if(s!==null&&(o=s.child,o!==null)){s.child=null;do s=o.sibling,o.sibling=null,o=s;while(o!==null)}}function hl(o){var s=o.deletions;if((o.flags&16)!==0){if(s!==null)for(var l=0;l<s.length;l++){var f=s[l];_t=f,uE(f,o)}aE(o)}if(o.subtreeFlags&10256)for(o=o.child;o!==null;)lE(o),o=o.sibling}function lE(o){switch(o.tag){case 0:case 11:case 15:hl(o),o.flags&2048&&Io(9,o,o.return);break;case 3:hl(o);break;case 12:hl(o);break;case 22:var s=o.stateNode;o.memoizedState!==null&&s._visibility&2&&(o.return===null||o.return.tag!==13)?(s._visibility&=-3,kc(o)):hl(o);break;default:hl(o)}}function kc(o){var s=o.deletions;if((o.flags&16)!==0){if(s!==null)for(var l=0;l<s.length;l++){var f=s[l];_t=f,uE(f,o)}aE(o)}for(o=o.child;o!==null;){switch(s=o,s.tag){case 0:case 11:case 15:Io(8,s,s.return),kc(s);break;case 22:l=s.stateNode,l._visibility&2&&(l._visibility&=-3,kc(s));break;default:kc(s)}o=o.sibling}}function uE(o,s){for(;_t!==null;){var l=_t;switch(l.tag){case 0:case 11:case 15:Io(8,l,s);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var f=l.memoizedState.cachePool.pool;f!=null&&f.refCount++}break;case 24:ja(l.memoizedState.cache)}if(f=l.child,f!==null)f.return=l,_t=f;else e:for(l=o;_t!==null;){f=_t;var v=f.sibling,_=f.return;if(ZS(f),f===l){_t=null;break e}if(v!==null){v.return=_,_t=v;break e}_t=_}}}var N1={getCacheForType:function(o){var s=At(ct),l=s.data.get(o);return l===void 0&&(l=o(),s.data.set(o,l)),l},cacheSignal:function(){return At(ct).controller.signal}},I1=typeof WeakMap=="function"?WeakMap:Map,qe=0,Ze=null,Ie=null,Oe=0,Ye=0,cn=null,Do=!1,Ns=!1,om=!1,Ki=0,at=0,Oo=0,Rr=0,rm=0,fn=0,Is=0,ml=null,Wt=null,sm=!1,Bc=0,cE=0,Hc=1/0,Gc=null,Po=null,mt=0,Lo=null,Ds=null,Xi=0,am=0,lm=null,fE=null,gl=0,um=null;function dn(){return(qe&2)!==0&&Oe!==0?Oe&-Oe:H.T!==null?mm():x_()}function dE(){if(fn===0)if((Oe&536870912)===0||Le){var o=Ku;Ku<<=1,(Ku&3932160)===0&&(Ku=262144),fn=o}else fn=536870912;return o=ln.current,o!==null&&(o.flags|=32),fn}function jt(o,s,l){(o===Ze&&(Ye===2||Ye===9)||o.cancelPendingCommit!==null)&&(Os(o,0),Uo(o,Oe,fn,!1)),ka(o,l),((qe&2)===0||o!==Ze)&&(o===Ze&&((qe&2)===0&&(Rr|=l),at===4&&Uo(o,Oe,fn,!1)),hi(o))}function pE(o,s,l){if((qe&6)!==0)throw Error(i(327));var f=!l&&(s&127)===0&&(s&o.expiredLanes)===0||Ua(o,s),v=f?P1(o,s):fm(o,s,!0),_=f;do{if(v===0){Ns&&!f&&Uo(o,s,0,!1);break}else{if(l=o.current.alternate,_&&!D1(l)){v=fm(o,s,!1),_=!1;continue}if(v===2){if(_=s,o.errorRecoveryDisabledLanes&_)var b=0;else b=o.pendingLanes&-536870913,b=b!==0?b:b&536870912?536870912:0;if(b!==0){s=b;e:{var R=o;v=ml;var P=R.current.memoizedState.isDehydrated;if(P&&(Os(R,b).flags|=256),b=fm(R,b,!1),b!==2){if(om&&!P){R.errorRecoveryDisabledLanes|=_,Rr|=_,v=4;break e}_=Wt,Wt=v,_!==null&&(Wt===null?Wt=_:Wt.push.apply(Wt,_))}v=b}if(_=!1,v!==2)continue}}if(v===1){Os(o,0),Uo(o,s,0,!0);break}e:{switch(f=o,_=v,_){case 0:case 1:throw Error(i(345));case 4:if((s&4194048)!==s)break;case 6:Uo(f,s,fn,!Do);break e;case 2:Wt=null;break;case 3:case 5:break;default:throw Error(i(329))}if((s&62914560)===s&&(v=Bc+300-wt(),10<v)){if(Uo(f,s,fn,!Do),Wu(f,0,!0)!==0)break e;Xi=s,f.timeoutHandle=zE(hE.bind(null,f,l,Wt,Gc,sm,s,fn,Rr,Is,Do,_,"Throttled",-0,0),v);break e}hE(f,l,Wt,Gc,sm,s,fn,Rr,Is,Do,_,null,-0,0)}}break}while(!0);hi(o)}function hE(o,s,l,f,v,_,b,R,P,$,W,te,z,Y){if(o.timeoutHandle=-1,te=s.subtreeFlags,te&8192||(te&16785408)===16785408){te={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Pi},sE(s,_,te);var pe=(_&62914560)===_?Bc-wt():(_&4194048)===_?cE-wt():0;if(pe=gP(te,pe),pe!==null){Xi=_,o.cancelPendingCommit=pe(bE.bind(null,o,s,_,l,f,v,b,R,P,W,te,null,z,Y)),Uo(o,_,b,!$);return}}bE(o,s,_,l,f,v,b,R,P)}function D1(o){for(var s=o;;){var l=s.tag;if((l===0||l===11||l===15)&&s.flags&16384&&(l=s.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var f=0;f<l.length;f++){var v=l[f],_=v.getSnapshot;v=v.value;try{if(!sn(_(),v))return!1}catch{return!1}}if(l=s.child,s.subtreeFlags&16384&&l!==null)l.return=s,s=l;else{if(s===o)break;for(;s.sibling===null;){if(s.return===null||s.return===o)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Uo(o,s,l,f){s&=~rm,s&=~Rr,o.suspendedLanes|=s,o.pingedLanes&=~s,f&&(o.warmLanes|=s),f=o.expirationTimes;for(var v=s;0<v;){var _=31-rn(v),b=1<<_;f[_]=-1,v&=~b}l!==0&&C_(o,l,s)}function Fc(){return(qe&6)===0?(vl(0),!1):!0}function cm(){if(Ie!==null){if(Ye===0)var o=Ie.return;else o=Ie,Bi=_r=null,Ah(o),ws=null,Za=0,o=Ie;for(;o!==null;)qS(o.alternate,o),o=o.return;Ie=null}}function Os(o,s){var l=o.timeoutHandle;l!==-1&&(o.timeoutHandle=-1,Q1(l)),l=o.cancelPendingCommit,l!==null&&(o.cancelPendingCommit=null,l()),Xi=0,cm(),Ze=o,Ie=l=Ui(o.current,null),Oe=s,Ye=0,cn=null,Do=!1,Ns=Ua(o,s),om=!1,Is=fn=rm=Rr=Oo=at=0,Wt=ml=null,sm=!1,(s&8)!==0&&(s|=s&32);var f=o.entangledLanes;if(f!==0)for(o=o.entanglements,f&=s;0<f;){var v=31-rn(f),_=1<<v;s|=o[v],f&=~_}return Ki=s,lc(),l}function mE(o,s){xe=null,H.H=al,s===bs||s===gc?(s=I0(),Ye=3):s===hh?(s=I0(),Ye=4):Ye=s===$h?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,cn=s,Ie===null&&(at=1,Nc(o,An(s,o.current)))}function gE(){var o=ln.current;return o===null?!0:(Oe&4194048)===Oe?Nn===null:(Oe&62914560)===Oe||(Oe&536870912)!==0?o===Nn:!1}function vE(){var o=H.H;return H.H=al,o===null?al:o}function yE(){var o=H.A;return H.A=N1,o}function $c(){at=4,Do||(Oe&4194048)!==Oe&&ln.current!==null||(Ns=!0),(Oo&134217727)===0&&(Rr&134217727)===0||Ze===null||Uo(Ze,Oe,fn,!1)}function fm(o,s,l){var f=qe;qe|=2;var v=vE(),_=yE();(Ze!==o||Oe!==s)&&(Gc=null,Os(o,s)),s=!1;var b=at;e:do try{if(Ye!==0&&Ie!==null){var R=Ie,P=cn;switch(Ye){case 8:cm(),b=6;break e;case 3:case 2:case 9:case 6:ln.current===null&&(s=!0);var $=Ye;if(Ye=0,cn=null,Ps(o,R,P,$),l&&Ns){b=0;break e}break;default:$=Ye,Ye=0,cn=null,Ps(o,R,P,$)}}O1(),b=at;break}catch(W){mE(o,W)}while(!0);return s&&o.shellSuspendCounter++,Bi=_r=null,qe=f,H.H=v,H.A=_,Ie===null&&(Ze=null,Oe=0,lc()),b}function O1(){for(;Ie!==null;)_E(Ie)}function P1(o,s){var l=qe;qe|=2;var f=vE(),v=yE();Ze!==o||Oe!==s?(Gc=null,Hc=wt()+500,Os(o,s)):Ns=Ua(o,s);e:do try{if(Ye!==0&&Ie!==null){s=Ie;var _=cn;t:switch(Ye){case 1:Ye=0,cn=null,Ps(o,s,_,1);break;case 2:case 9:if(M0(_)){Ye=0,cn=null,SE(s);break}s=function(){Ye!==2&&Ye!==9||Ze!==o||(Ye=7),hi(o)},_.then(s,s);break e;case 3:Ye=7;break e;case 4:Ye=5;break e;case 7:M0(_)?(Ye=0,cn=null,SE(s)):(Ye=0,cn=null,Ps(o,s,_,7));break;case 5:var b=null;switch(Ie.tag){case 26:b=Ie.memoizedState;case 5:case 27:var R=Ie;if(b?rb(b):R.stateNode.complete){Ye=0,cn=null;var P=R.sibling;if(P!==null)Ie=P;else{var $=R.return;$!==null?(Ie=$,Vc($)):Ie=null}break t}}Ye=0,cn=null,Ps(o,s,_,5);break;case 6:Ye=0,cn=null,Ps(o,s,_,6);break;case 8:cm(),at=6;break e;default:throw Error(i(462))}}L1();break}catch(W){mE(o,W)}while(!0);return Bi=_r=null,H.H=f,H.A=v,qe=l,Ie!==null?0:(Ze=null,Oe=0,lc(),at)}function L1(){for(;Ie!==null&&!zu();)_E(Ie)}function _E(o){var s=VS(o.alternate,o,Ki);o.memoizedProps=o.pendingProps,s===null?Vc(o):Ie=s}function SE(o){var s=o,l=s.alternate;switch(s.tag){case 15:case 0:s=kS(l,s,s.pendingProps,s.type,void 0,Oe);break;case 11:s=kS(l,s,s.pendingProps,s.type.render,s.ref,Oe);break;case 5:Ah(s);default:qS(l,s),s=Ie=y0(s,Ki),s=VS(l,s,Ki)}o.memoizedProps=o.pendingProps,s===null?Vc(o):Ie=s}function Ps(o,s,l,f){Bi=_r=null,Ah(s),ws=null,Za=0;var v=s.return;try{if(w1(o,v,s,l,Oe)){at=1,Nc(o,An(l,o.current)),Ie=null;return}}catch(_){if(v!==null)throw Ie=v,_;at=1,Nc(o,An(l,o.current)),Ie=null;return}s.flags&32768?(Le||f===1?o=!0:Ns||(Oe&536870912)!==0?o=!1:(Do=o=!0,(f===2||f===9||f===3||f===6)&&(f=ln.current,f!==null&&f.tag===13&&(f.flags|=16384))),EE(s,o)):Vc(s)}function Vc(o){var s=o;do{if((s.flags&32768)!==0){EE(s,Do);return}o=s.return;var l=A1(s.alternate,s,Ki);if(l!==null){Ie=l;return}if(s=s.sibling,s!==null){Ie=s;return}Ie=s=o}while(s!==null);at===0&&(at=5)}function EE(o,s){do{var l=x1(o.alternate,o);if(l!==null){l.flags&=32767,Ie=l;return}if(l=o.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!s&&(o=o.sibling,o!==null)){Ie=o;return}Ie=o=l}while(o!==null);at=6,Ie=null}function bE(o,s,l,f,v,_,b,R,P){o.cancelPendingCommit=null;do zc();while(mt!==0);if((qe&6)!==0)throw Error(i(327));if(s!==null){if(s===o.current)throw Error(i(177));if(_=s.lanes|s.childLanes,_|=Zp,hO(o,l,_,b,R,P),o===Ze&&(Ie=Ze=null,Oe=0),Ds=s,Lo=o,Xi=l,am=_,lm=v,fE=f,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(o.callbackNode=null,o.callbackPriority=0,H1(cr,function(){return xE(),null})):(o.callbackNode=null,o.callbackPriority=0),f=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||f){f=H.T,H.T=null,v=Q.p,Q.p=2,b=qe,qe|=4;try{R1(o,s,l)}finally{qe=b,Q.p=v,H.T=f}}mt=1,wE(),CE(),TE()}}function wE(){if(mt===1){mt=0;var o=Lo,s=Ds,l=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||l){l=H.T,H.T=null;var f=Q.p;Q.p=2;var v=qe;qe|=4;try{iE(s,o);var _=wm,b=u0(o.containerInfo),R=_.focusedElem,P=_.selectionRange;if(b!==R&&R&&R.ownerDocument&&l0(R.ownerDocument.documentElement,R)){if(P!==null&&Kp(R)){var $=P.start,W=P.end;if(W===void 0&&(W=$),"selectionStart"in R)R.selectionStart=$,R.selectionEnd=Math.min(W,R.value.length);else{var te=R.ownerDocument||document,z=te&&te.defaultView||window;if(z.getSelection){var Y=z.getSelection(),pe=R.textContent.length,be=Math.min(P.start,pe),je=P.end===void 0?be:Math.min(P.end,pe);!Y.extend&&be>je&&(b=je,je=be,be=b);var G=a0(R,be),B=a0(R,je);if(G&&B&&(Y.rangeCount!==1||Y.anchorNode!==G.node||Y.anchorOffset!==G.offset||Y.focusNode!==B.node||Y.focusOffset!==B.offset)){var F=te.createRange();F.setStart(G.node,G.offset),Y.removeAllRanges(),be>je?(Y.addRange(F),Y.extend(B.node,B.offset)):(F.setEnd(B.node,B.offset),Y.addRange(F))}}}}for(te=[],Y=R;Y=Y.parentNode;)Y.nodeType===1&&te.push({element:Y,left:Y.scrollLeft,top:Y.scrollTop});for(typeof R.focus=="function"&&R.focus(),R=0;R<te.length;R++){var Z=te[R];Z.element.scrollLeft=Z.left,Z.element.scrollTop=Z.top}}nf=!!bm,wm=bm=null}finally{qe=v,Q.p=f,H.T=l}}o.current=s,mt=2}}function CE(){if(mt===2){mt=0;var o=Lo,s=Ds,l=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||l){l=H.T,H.T=null;var f=Q.p;Q.p=2;var v=qe;qe|=4;try{QS(o,s.alternate,s)}finally{qe=v,Q.p=f,H.T=l}}mt=3}}function TE(){if(mt===4||mt===3){mt=0,qu();var o=Lo,s=Ds,l=Xi,f=fE;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?mt=5:(mt=0,Ds=Lo=null,AE(o,o.pendingLanes));var v=o.pendingLanes;if(v===0&&(Po=null),Mp(l),s=s.stateNode,on&&typeof on.onCommitFiberRoot=="function")try{on.onCommitFiberRoot(La,s,void 0,(s.current.flags&128)===128)}catch{}if(f!==null){s=H.T,v=Q.p,Q.p=2,H.T=null;try{for(var _=o.onRecoverableError,b=0;b<f.length;b++){var R=f[b];_(R.value,{componentStack:R.stack})}}finally{H.T=s,Q.p=v}}(Xi&3)!==0&&zc(),hi(o),v=o.pendingLanes,(l&261930)!==0&&(v&42)!==0?o===um?gl++:(gl=0,um=o):gl=0,vl(0)}}function AE(o,s){(o.pooledCacheLanes&=s)===0&&(s=o.pooledCache,s!=null&&(o.pooledCache=null,ja(s)))}function zc(){return wE(),CE(),TE(),xE()}function xE(){if(mt!==5)return!1;var o=Lo,s=am;am=0;var l=Mp(Xi),f=H.T,v=Q.p;try{Q.p=32>l?32:l,H.T=null,l=lm,lm=null;var _=Lo,b=Xi;if(mt=0,Ds=Lo=null,Xi=0,(qe&6)!==0)throw Error(i(331));var R=qe;if(qe|=4,lE(_.current),rE(_,_.current,b,l),qe=R,vl(0,!1),on&&typeof on.onPostCommitFiberRoot=="function")try{on.onPostCommitFiberRoot(La,_)}catch{}return!0}finally{Q.p=v,H.T=f,AE(o,s)}}function RE(o,s,l){s=An(l,s),s=Fh(o.stateNode,s,2),o=Ro(o,s,2),o!==null&&(ka(o,2),hi(o))}function Ke(o,s,l){if(o.tag===3)RE(o,o,l);else for(;s!==null;){if(s.tag===3){RE(s,o,l);break}else if(s.tag===1){var f=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(Po===null||!Po.has(f))){o=An(l,o),l=MS(2),f=Ro(s,l,2),f!==null&&(NS(l,f,s,o),ka(f,2),hi(f));break}}s=s.return}}function dm(o,s,l){var f=o.pingCache;if(f===null){f=o.pingCache=new I1;var v=new Set;f.set(s,v)}else v=f.get(s),v===void 0&&(v=new Set,f.set(s,v));v.has(l)||(om=!0,v.add(l),o=U1.bind(null,o,s,l),s.then(o,o))}function U1(o,s,l){var f=o.pingCache;f!==null&&f.delete(s),o.pingedLanes|=o.suspendedLanes&l,o.warmLanes&=~l,Ze===o&&(Oe&l)===l&&(at===4||at===3&&(Oe&62914560)===Oe&&300>wt()-Bc?(qe&2)===0&&Os(o,0):rm|=l,Is===Oe&&(Is=0)),hi(o)}function ME(o,s){s===0&&(s=w_()),o=gr(o,s),o!==null&&(ka(o,s),hi(o))}function k1(o){var s=o.memoizedState,l=0;s!==null&&(l=s.retryLane),ME(o,l)}function B1(o,s){var l=0;switch(o.tag){case 31:case 13:var f=o.stateNode,v=o.memoizedState;v!==null&&(l=v.retryLane);break;case 19:f=o.stateNode;break;case 22:f=o.stateNode._retryCache;break;default:throw Error(i(314))}f!==null&&f.delete(s),ME(o,l)}function H1(o,s){return Jn(o,s)}var qc=null,Ls=null,pm=!1,Jc=!1,hm=!1,ko=0;function hi(o){o!==Ls&&o.next===null&&(Ls===null?qc=Ls=o:Ls=Ls.next=o),Jc=!0,pm||(pm=!0,F1())}function vl(o,s){if(!hm&&Jc){hm=!0;do for(var l=!1,f=qc;f!==null;){if(o!==0){var v=f.pendingLanes;if(v===0)var _=0;else{var b=f.suspendedLanes,R=f.pingedLanes;_=(1<<31-rn(42|o)+1)-1,_&=v&~(b&~R),_=_&201326741?_&201326741|1:_?_|2:0}_!==0&&(l=!0,OE(f,_))}else _=Oe,_=Wu(f,f===Ze?_:0,f.cancelPendingCommit!==null||f.timeoutHandle!==-1),(_&3)===0||Ua(f,_)||(l=!0,OE(f,_));f=f.next}while(l);hm=!1}}function G1(){NE()}function NE(){Jc=pm=!1;var o=0;ko!==0&&j1()&&(o=ko);for(var s=wt(),l=null,f=qc;f!==null;){var v=f.next,_=IE(f,s);_===0?(f.next=null,l===null?qc=v:l.next=v,v===null&&(Ls=l)):(l=f,(o!==0||(_&3)!==0)&&(Jc=!0)),f=v}mt!==0&&mt!==5||vl(o),ko!==0&&(ko=0)}function IE(o,s){for(var l=o.suspendedLanes,f=o.pingedLanes,v=o.expirationTimes,_=o.pendingLanes&-62914561;0<_;){var b=31-rn(_),R=1<<b,P=v[b];P===-1?((R&l)===0||(R&f)!==0)&&(v[b]=pO(R,s)):P<=s&&(o.expiredLanes|=R),_&=~R}if(s=Ze,l=Oe,l=Wu(o,o===s?l:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),f=o.callbackNode,l===0||o===s&&(Ye===2||Ye===9)||o.cancelPendingCommit!==null)return f!==null&&f!==null&&yo(f),o.callbackNode=null,o.callbackPriority=0;if((l&3)===0||Ua(o,l)){if(s=l&-l,s===o.callbackPriority)return s;switch(f!==null&&yo(f),Mp(l)){case 2:case 8:l=Pa;break;case 32:l=cr;break;case 268435456:l=b_;break;default:l=cr}return f=DE.bind(null,o),l=Jn(l,f),o.callbackPriority=s,o.callbackNode=l,s}return f!==null&&f!==null&&yo(f),o.callbackPriority=2,o.callbackNode=null,2}function DE(o,s){if(mt!==0&&mt!==5)return o.callbackNode=null,o.callbackPriority=0,null;var l=o.callbackNode;if(zc()&&o.callbackNode!==l)return null;var f=Oe;return f=Wu(o,o===Ze?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),f===0?null:(pE(o,f,s),IE(o,wt()),o.callbackNode!=null&&o.callbackNode===l?DE.bind(null,o):null)}function OE(o,s){if(zc())return null;pE(o,s,!0)}function F1(){Z1(function(){(qe&6)!==0?Jn(Oa,G1):NE()})}function mm(){if(ko===0){var o=Ss;o===0&&(o=Yu,Yu<<=1,(Yu&261888)===0&&(Yu=256)),ko=o}return ko}function PE(o){return o==null||typeof o=="symbol"||typeof o=="boolean"?null:typeof o=="function"?o:ec(""+o)}function LE(o,s){var l=s.ownerDocument.createElement("input");return l.name=s.name,l.value=s.value,o.id&&l.setAttribute("form",o.id),s.parentNode.insertBefore(l,s),o=new FormData(o),l.parentNode.removeChild(l),o}function $1(o,s,l,f,v){if(s==="submit"&&l&&l.stateNode===v){var _=PE((v[qt]||null).action),b=f.submitter;b&&(s=(s=b[qt]||null)?PE(s.formAction):b.getAttribute("formAction"),s!==null&&(_=s,b=null));var R=new oc("action","action",null,f,v);o.push({event:R,listeners:[{instance:null,listener:function(){if(f.defaultPrevented){if(ko!==0){var P=b?LE(v,b):new FormData(v);Lh(l,{pending:!0,data:P,method:v.method,action:_},null,P)}}else typeof _=="function"&&(R.preventDefault(),P=b?LE(v,b):new FormData(v),Lh(l,{pending:!0,data:P,method:v.method,action:_},_,P))},currentTarget:v}]})}}for(var gm=0;gm<Qp.length;gm++){var vm=Qp[gm],V1=vm.toLowerCase(),z1=vm[0].toUpperCase()+vm.slice(1);Yn(V1,"on"+z1)}Yn(d0,"onAnimationEnd"),Yn(p0,"onAnimationIteration"),Yn(h0,"onAnimationStart"),Yn("dblclick","onDoubleClick"),Yn("focusin","onFocus"),Yn("focusout","onBlur"),Yn(s1,"onTransitionRun"),Yn(a1,"onTransitionStart"),Yn(l1,"onTransitionCancel"),Yn(m0,"onTransitionEnd"),ss("onMouseEnter",["mouseout","mouseover"]),ss("onMouseLeave",["mouseout","mouseover"]),ss("onPointerEnter",["pointerout","pointerover"]),ss("onPointerLeave",["pointerout","pointerover"]),dr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),dr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),dr("onBeforeInput",["compositionend","keypress","textInput","paste"]),dr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),dr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),dr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var yl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),q1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(yl));function UE(o,s){s=(s&4)!==0;for(var l=0;l<o.length;l++){var f=o[l],v=f.event;f=f.listeners;e:{var _=void 0;if(s)for(var b=f.length-1;0<=b;b--){var R=f[b],P=R.instance,$=R.currentTarget;if(R=R.listener,P!==_&&v.isPropagationStopped())break e;_=R,v.currentTarget=$;try{_(v)}catch(W){ac(W)}v.currentTarget=null,_=P}else for(b=0;b<f.length;b++){if(R=f[b],P=R.instance,$=R.currentTarget,R=R.listener,P!==_&&v.isPropagationStopped())break e;_=R,v.currentTarget=$;try{_(v)}catch(W){ac(W)}v.currentTarget=null,_=P}}}}function De(o,s){var l=s[Np];l===void 0&&(l=s[Np]=new Set);var f=o+"__bubble";l.has(f)||(kE(s,o,2,!1),l.add(f))}function ym(o,s,l){var f=0;s&&(f|=4),kE(l,o,f,s)}var Yc="_reactListening"+Math.random().toString(36).slice(2);function _m(o){if(!o[Yc]){o[Yc]=!0,N_.forEach(function(l){l!=="selectionchange"&&(q1.has(l)||ym(l,!1,o),ym(l,!0,o))});var s=o.nodeType===9?o:o.ownerDocument;s===null||s[Yc]||(s[Yc]=!0,ym("selectionchange",!1,s))}}function kE(o,s,l,f){switch(db(s)){case 2:var v=_P;break;case 8:v=SP;break;default:v=Pm}l=v.bind(null,s,l,o),v=void 0,!Hp||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(v=!0),f?v!==void 0?o.addEventListener(s,l,{capture:!0,passive:v}):o.addEventListener(s,l,!0):v!==void 0?o.addEventListener(s,l,{passive:v}):o.addEventListener(s,l,!1)}function Sm(o,s,l,f,v){var _=f;if((s&1)===0&&(s&2)===0&&f!==null)e:for(;;){if(f===null)return;var b=f.tag;if(b===3||b===4){var R=f.stateNode.containerInfo;if(R===v)break;if(b===4)for(b=f.return;b!==null;){var P=b.tag;if((P===3||P===4)&&b.stateNode.containerInfo===v)return;b=b.return}for(;R!==null;){if(b=is(R),b===null)return;if(P=b.tag,P===5||P===6||P===26||P===27){f=_=b;continue e}R=R.parentNode}}f=f.return}$_(function(){var $=_,W=kp(l),te=[];e:{var z=g0.get(o);if(z!==void 0){var Y=oc,pe=o;switch(o){case"keypress":if(nc(l)===0)break e;case"keydown":case"keyup":Y=BO;break;case"focusin":pe="focus",Y=Vp;break;case"focusout":pe="blur",Y=Vp;break;case"beforeblur":case"afterblur":Y=Vp;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Y=q_;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Y=AO;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Y=FO;break;case d0:case p0:case h0:Y=MO;break;case m0:Y=VO;break;case"scroll":case"scrollend":Y=CO;break;case"wheel":Y=qO;break;case"copy":case"cut":case"paste":Y=IO;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Y=Y_;break;case"toggle":case"beforetoggle":Y=YO}var be=(s&4)!==0,je=!be&&(o==="scroll"||o==="scrollend"),G=be?z!==null?z+"Capture":null:z;be=[];for(var B=$,F;B!==null;){var Z=B;if(F=Z.stateNode,Z=Z.tag,Z!==5&&Z!==26&&Z!==27||F===null||G===null||(Z=Ga(B,G),Z!=null&&be.push(_l(B,Z,F))),je)break;B=B.return}0<be.length&&(z=new Y(z,pe,null,l,W),te.push({event:z,listeners:be}))}}if((s&7)===0){e:{if(z=o==="mouseover"||o==="pointerover",Y=o==="mouseout"||o==="pointerout",z&&l!==Up&&(pe=l.relatedTarget||l.fromElement)&&(is(pe)||pe[ns]))break e;if((Y||z)&&(z=W.window===W?W:(z=W.ownerDocument)?z.defaultView||z.parentWindow:window,Y?(pe=l.relatedTarget||l.toElement,Y=$,pe=pe?is(pe):null,pe!==null&&(je=a(pe),be=pe.tag,pe!==je||be!==5&&be!==27&&be!==6)&&(pe=null)):(Y=null,pe=$),Y!==pe)){if(be=q_,Z="onMouseLeave",G="onMouseEnter",B="mouse",(o==="pointerout"||o==="pointerover")&&(be=Y_,Z="onPointerLeave",G="onPointerEnter",B="pointer"),je=Y==null?z:Ha(Y),F=pe==null?z:Ha(pe),z=new be(Z,B+"leave",Y,l,W),z.target=je,z.relatedTarget=F,Z=null,is(W)===$&&(be=new be(G,B+"enter",pe,l,W),be.target=F,be.relatedTarget=je,Z=be),je=Z,Y&&pe)t:{for(be=J1,G=Y,B=pe,F=0,Z=G;Z;Z=be(Z))F++;Z=0;for(var _e=B;_e;_e=be(_e))Z++;for(;0<F-Z;)G=be(G),F--;for(;0<Z-F;)B=be(B),Z--;for(;F--;){if(G===B||B!==null&&G===B.alternate){be=G;break t}G=be(G),B=be(B)}be=null}else be=null;Y!==null&&BE(te,z,Y,be,!1),pe!==null&&je!==null&&BE(te,je,pe,be,!0)}}e:{if(z=$?Ha($):window,Y=z.nodeName&&z.nodeName.toLowerCase(),Y==="select"||Y==="input"&&z.type==="file")var He=t0;else if(Z_(z))if(n0)He=i1;else{He=t1;var ge=e1}else Y=z.nodeName,!Y||Y.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?$&&Lp($.elementType)&&(He=t0):He=n1;if(He&&(He=He(o,$))){e0(te,He,l,W);break e}ge&&ge(o,z,$),o==="focusout"&&$&&z.type==="number"&&$.memoizedProps.value!=null&&Pp(z,"number",z.value)}switch(ge=$?Ha($):window,o){case"focusin":(Z_(ge)||ge.contentEditable==="true")&&(ds=ge,Xp=$,Ka=null);break;case"focusout":Ka=Xp=ds=null;break;case"mousedown":Wp=!0;break;case"contextmenu":case"mouseup":case"dragend":Wp=!1,c0(te,l,W);break;case"selectionchange":if(r1)break;case"keydown":case"keyup":c0(te,l,W)}var Re;if(qp)e:{switch(o){case"compositionstart":var Pe="onCompositionStart";break e;case"compositionend":Pe="onCompositionEnd";break e;case"compositionupdate":Pe="onCompositionUpdate";break e}Pe=void 0}else fs?j_(o,l)&&(Pe="onCompositionEnd"):o==="keydown"&&l.keyCode===229&&(Pe="onCompositionStart");Pe&&(K_&&l.locale!=="ko"&&(fs||Pe!=="onCompositionStart"?Pe==="onCompositionEnd"&&fs&&(Re=V_()):(Eo=W,Gp="value"in Eo?Eo.value:Eo.textContent,fs=!0)),ge=Kc($,Pe),0<ge.length&&(Pe=new J_(Pe,o,null,l,W),te.push({event:Pe,listeners:ge}),Re?Pe.data=Re:(Re=Q_(l),Re!==null&&(Pe.data=Re)))),(Re=XO?WO(o,l):jO(o,l))&&(Pe=Kc($,"onBeforeInput"),0<Pe.length&&(ge=new J_("onBeforeInput","beforeinput",null,l,W),te.push({event:ge,listeners:Pe}),ge.data=Re)),$1(te,o,$,l,W)}UE(te,s)})}function _l(o,s,l){return{instance:o,listener:s,currentTarget:l}}function Kc(o,s){for(var l=s+"Capture",f=[];o!==null;){var v=o,_=v.stateNode;if(v=v.tag,v!==5&&v!==26&&v!==27||_===null||(v=Ga(o,l),v!=null&&f.unshift(_l(o,v,_)),v=Ga(o,s),v!=null&&f.push(_l(o,v,_))),o.tag===3)return f;o=o.return}return[]}function J1(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5&&o.tag!==27);return o||null}function BE(o,s,l,f,v){for(var _=s._reactName,b=[];l!==null&&l!==f;){var R=l,P=R.alternate,$=R.stateNode;if(R=R.tag,P!==null&&P===f)break;R!==5&&R!==26&&R!==27||$===null||(P=$,v?($=Ga(l,_),$!=null&&b.unshift(_l(l,$,P))):v||($=Ga(l,_),$!=null&&b.push(_l(l,$,P)))),l=l.return}b.length!==0&&o.push({event:s,listeners:b})}var Y1=/\r\n?/g,K1=/\u0000|\uFFFD/g;function HE(o){return(typeof o=="string"?o:""+o).replace(Y1,`
`).replace(K1,"")}function GE(o,s){return s=HE(s),HE(o)===s}function We(o,s,l,f,v,_){switch(l){case"children":typeof f=="string"?s==="body"||s==="textarea"&&f===""||ls(o,f):(typeof f=="number"||typeof f=="bigint")&&s!=="body"&&ls(o,""+f);break;case"className":Qu(o,"class",f);break;case"tabIndex":Qu(o,"tabindex",f);break;case"dir":case"role":case"viewBox":case"width":case"height":Qu(o,l,f);break;case"style":G_(o,f,_);break;case"data":if(s!=="object"){Qu(o,"data",f);break}case"src":case"href":if(f===""&&(s!=="a"||l!=="href")){o.removeAttribute(l);break}if(f==null||typeof f=="function"||typeof f=="symbol"||typeof f=="boolean"){o.removeAttribute(l);break}f=ec(""+f),o.setAttribute(l,f);break;case"action":case"formAction":if(typeof f=="function"){o.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof _=="function"&&(l==="formAction"?(s!=="input"&&We(o,s,"name",v.name,v,null),We(o,s,"formEncType",v.formEncType,v,null),We(o,s,"formMethod",v.formMethod,v,null),We(o,s,"formTarget",v.formTarget,v,null)):(We(o,s,"encType",v.encType,v,null),We(o,s,"method",v.method,v,null),We(o,s,"target",v.target,v,null)));if(f==null||typeof f=="symbol"||typeof f=="boolean"){o.removeAttribute(l);break}f=ec(""+f),o.setAttribute(l,f);break;case"onClick":f!=null&&(o.onclick=Pi);break;case"onScroll":f!=null&&De("scroll",o);break;case"onScrollEnd":f!=null&&De("scrollend",o);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(i(61));if(l=f.__html,l!=null){if(v.children!=null)throw Error(i(60));o.innerHTML=l}}break;case"multiple":o.multiple=f&&typeof f!="function"&&typeof f!="symbol";break;case"muted":o.muted=f&&typeof f!="function"&&typeof f!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(f==null||typeof f=="function"||typeof f=="boolean"||typeof f=="symbol"){o.removeAttribute("xlink:href");break}l=ec(""+f),o.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":f!=null&&typeof f!="function"&&typeof f!="symbol"?o.setAttribute(l,""+f):o.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":f&&typeof f!="function"&&typeof f!="symbol"?o.setAttribute(l,""):o.removeAttribute(l);break;case"capture":case"download":f===!0?o.setAttribute(l,""):f!==!1&&f!=null&&typeof f!="function"&&typeof f!="symbol"?o.setAttribute(l,f):o.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":f!=null&&typeof f!="function"&&typeof f!="symbol"&&!isNaN(f)&&1<=f?o.setAttribute(l,f):o.removeAttribute(l);break;case"rowSpan":case"start":f==null||typeof f=="function"||typeof f=="symbol"||isNaN(f)?o.removeAttribute(l):o.setAttribute(l,f);break;case"popover":De("beforetoggle",o),De("toggle",o),ju(o,"popover",f);break;case"xlinkActuate":Oi(o,"http://www.w3.org/1999/xlink","xlink:actuate",f);break;case"xlinkArcrole":Oi(o,"http://www.w3.org/1999/xlink","xlink:arcrole",f);break;case"xlinkRole":Oi(o,"http://www.w3.org/1999/xlink","xlink:role",f);break;case"xlinkShow":Oi(o,"http://www.w3.org/1999/xlink","xlink:show",f);break;case"xlinkTitle":Oi(o,"http://www.w3.org/1999/xlink","xlink:title",f);break;case"xlinkType":Oi(o,"http://www.w3.org/1999/xlink","xlink:type",f);break;case"xmlBase":Oi(o,"http://www.w3.org/XML/1998/namespace","xml:base",f);break;case"xmlLang":Oi(o,"http://www.w3.org/XML/1998/namespace","xml:lang",f);break;case"xmlSpace":Oi(o,"http://www.w3.org/XML/1998/namespace","xml:space",f);break;case"is":ju(o,"is",f);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=bO.get(l)||l,ju(o,l,f))}}function Em(o,s,l,f,v,_){switch(l){case"style":G_(o,f,_);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(i(61));if(l=f.__html,l!=null){if(v.children!=null)throw Error(i(60));o.innerHTML=l}}break;case"children":typeof f=="string"?ls(o,f):(typeof f=="number"||typeof f=="bigint")&&ls(o,""+f);break;case"onScroll":f!=null&&De("scroll",o);break;case"onScrollEnd":f!=null&&De("scrollend",o);break;case"onClick":f!=null&&(o.onclick=Pi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!I_.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(v=l.endsWith("Capture"),s=l.slice(2,v?l.length-7:void 0),_=o[qt]||null,_=_!=null?_[l]:null,typeof _=="function"&&o.removeEventListener(s,_,v),typeof f=="function")){typeof _!="function"&&_!==null&&(l in o?o[l]=null:o.hasAttribute(l)&&o.removeAttribute(l)),o.addEventListener(s,f,v);break e}l in o?o[l]=f:f===!0?o.setAttribute(l,""):ju(o,l,f)}}}function Rt(o,s,l){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":De("error",o),De("load",o);var f=!1,v=!1,_;for(_ in l)if(l.hasOwnProperty(_)){var b=l[_];if(b!=null)switch(_){case"src":f=!0;break;case"srcSet":v=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:We(o,s,_,b,l,null)}}v&&We(o,s,"srcSet",l.srcSet,l,null),f&&We(o,s,"src",l.src,l,null);return;case"input":De("invalid",o);var R=_=b=v=null,P=null,$=null;for(f in l)if(l.hasOwnProperty(f)){var W=l[f];if(W!=null)switch(f){case"name":v=W;break;case"type":b=W;break;case"checked":P=W;break;case"defaultChecked":$=W;break;case"value":_=W;break;case"defaultValue":R=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(i(137,s));break;default:We(o,s,f,W,l,null)}}U_(o,_,R,P,$,b,v,!1);return;case"select":De("invalid",o),f=b=_=null;for(v in l)if(l.hasOwnProperty(v)&&(R=l[v],R!=null))switch(v){case"value":_=R;break;case"defaultValue":b=R;break;case"multiple":f=R;default:We(o,s,v,R,l,null)}s=_,l=b,o.multiple=!!f,s!=null?as(o,!!f,s,!1):l!=null&&as(o,!!f,l,!0);return;case"textarea":De("invalid",o),_=v=f=null;for(b in l)if(l.hasOwnProperty(b)&&(R=l[b],R!=null))switch(b){case"value":f=R;break;case"defaultValue":v=R;break;case"children":_=R;break;case"dangerouslySetInnerHTML":if(R!=null)throw Error(i(91));break;default:We(o,s,b,R,l,null)}B_(o,f,v,_);return;case"option":for(P in l)if(l.hasOwnProperty(P)&&(f=l[P],f!=null))switch(P){case"selected":o.selected=f&&typeof f!="function"&&typeof f!="symbol";break;default:We(o,s,P,f,l,null)}return;case"dialog":De("beforetoggle",o),De("toggle",o),De("cancel",o),De("close",o);break;case"iframe":case"object":De("load",o);break;case"video":case"audio":for(f=0;f<yl.length;f++)De(yl[f],o);break;case"image":De("error",o),De("load",o);break;case"details":De("toggle",o);break;case"embed":case"source":case"link":De("error",o),De("load",o);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for($ in l)if(l.hasOwnProperty($)&&(f=l[$],f!=null))switch($){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:We(o,s,$,f,l,null)}return;default:if(Lp(s)){for(W in l)l.hasOwnProperty(W)&&(f=l[W],f!==void 0&&Em(o,s,W,f,l,void 0));return}}for(R in l)l.hasOwnProperty(R)&&(f=l[R],f!=null&&We(o,s,R,f,l,null))}function X1(o,s,l,f){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var v=null,_=null,b=null,R=null,P=null,$=null,W=null;for(Y in l){var te=l[Y];if(l.hasOwnProperty(Y)&&te!=null)switch(Y){case"checked":break;case"value":break;case"defaultValue":P=te;default:f.hasOwnProperty(Y)||We(o,s,Y,null,f,te)}}for(var z in f){var Y=f[z];if(te=l[z],f.hasOwnProperty(z)&&(Y!=null||te!=null))switch(z){case"type":_=Y;break;case"name":v=Y;break;case"checked":$=Y;break;case"defaultChecked":W=Y;break;case"value":b=Y;break;case"defaultValue":R=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(i(137,s));break;default:Y!==te&&We(o,s,z,Y,f,te)}}Op(o,b,R,P,$,W,_,v);return;case"select":Y=b=R=z=null;for(_ in l)if(P=l[_],l.hasOwnProperty(_)&&P!=null)switch(_){case"value":break;case"multiple":Y=P;default:f.hasOwnProperty(_)||We(o,s,_,null,f,P)}for(v in f)if(_=f[v],P=l[v],f.hasOwnProperty(v)&&(_!=null||P!=null))switch(v){case"value":z=_;break;case"defaultValue":R=_;break;case"multiple":b=_;default:_!==P&&We(o,s,v,_,f,P)}s=R,l=b,f=Y,z!=null?as(o,!!l,z,!1):!!f!=!!l&&(s!=null?as(o,!!l,s,!0):as(o,!!l,l?[]:"",!1));return;case"textarea":Y=z=null;for(R in l)if(v=l[R],l.hasOwnProperty(R)&&v!=null&&!f.hasOwnProperty(R))switch(R){case"value":break;case"children":break;default:We(o,s,R,null,f,v)}for(b in f)if(v=f[b],_=l[b],f.hasOwnProperty(b)&&(v!=null||_!=null))switch(b){case"value":z=v;break;case"defaultValue":Y=v;break;case"children":break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(i(91));break;default:v!==_&&We(o,s,b,v,f,_)}k_(o,z,Y);return;case"option":for(var pe in l)if(z=l[pe],l.hasOwnProperty(pe)&&z!=null&&!f.hasOwnProperty(pe))switch(pe){case"selected":o.selected=!1;break;default:We(o,s,pe,null,f,z)}for(P in f)if(z=f[P],Y=l[P],f.hasOwnProperty(P)&&z!==Y&&(z!=null||Y!=null))switch(P){case"selected":o.selected=z&&typeof z!="function"&&typeof z!="symbol";break;default:We(o,s,P,z,f,Y)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var be in l)z=l[be],l.hasOwnProperty(be)&&z!=null&&!f.hasOwnProperty(be)&&We(o,s,be,null,f,z);for($ in f)if(z=f[$],Y=l[$],f.hasOwnProperty($)&&z!==Y&&(z!=null||Y!=null))switch($){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(i(137,s));break;default:We(o,s,$,z,f,Y)}return;default:if(Lp(s)){for(var je in l)z=l[je],l.hasOwnProperty(je)&&z!==void 0&&!f.hasOwnProperty(je)&&Em(o,s,je,void 0,f,z);for(W in f)z=f[W],Y=l[W],!f.hasOwnProperty(W)||z===Y||z===void 0&&Y===void 0||Em(o,s,W,z,f,Y);return}}for(var G in l)z=l[G],l.hasOwnProperty(G)&&z!=null&&!f.hasOwnProperty(G)&&We(o,s,G,null,f,z);for(te in f)z=f[te],Y=l[te],!f.hasOwnProperty(te)||z===Y||z==null&&Y==null||We(o,s,te,z,f,Y)}function FE(o){switch(o){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function W1(){if(typeof performance.getEntriesByType=="function"){for(var o=0,s=0,l=performance.getEntriesByType("resource"),f=0;f<l.length;f++){var v=l[f],_=v.transferSize,b=v.initiatorType,R=v.duration;if(_&&R&&FE(b)){for(b=0,R=v.responseEnd,f+=1;f<l.length;f++){var P=l[f],$=P.startTime;if($>R)break;var W=P.transferSize,te=P.initiatorType;W&&FE(te)&&(P=P.responseEnd,b+=W*(P<R?1:(R-$)/(P-$)))}if(--f,s+=8*(_+b)/(v.duration/1e3),o++,10<o)break}}if(0<o)return s/o/1e6}return navigator.connection&&(o=navigator.connection.downlink,typeof o=="number")?o:5}var bm=null,wm=null;function Xc(o){return o.nodeType===9?o:o.ownerDocument}function $E(o){switch(o){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function VE(o,s){if(o===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return o===1&&s==="foreignObject"?0:o}function Cm(o,s){return o==="textarea"||o==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Tm=null;function j1(){var o=window.event;return o&&o.type==="popstate"?o===Tm?!1:(Tm=o,!0):(Tm=null,!1)}var zE=typeof setTimeout=="function"?setTimeout:void 0,Q1=typeof clearTimeout=="function"?clearTimeout:void 0,qE=typeof Promise=="function"?Promise:void 0,Z1=typeof queueMicrotask=="function"?queueMicrotask:typeof qE<"u"?function(o){return qE.resolve(null).then(o).catch(eP)}:zE;function eP(o){setTimeout(function(){throw o})}function Bo(o){return o==="head"}function JE(o,s){var l=s,f=0;do{var v=l.nextSibling;if(o.removeChild(l),v&&v.nodeType===8)if(l=v.data,l==="/$"||l==="/&"){if(f===0){o.removeChild(v),Hs(s);return}f--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")f++;else if(l==="html")Sl(o.ownerDocument.documentElement);else if(l==="head"){l=o.ownerDocument.head,Sl(l);for(var _=l.firstChild;_;){var b=_.nextSibling,R=_.nodeName;_[Ba]||R==="SCRIPT"||R==="STYLE"||R==="LINK"&&_.rel.toLowerCase()==="stylesheet"||l.removeChild(_),_=b}}else l==="body"&&Sl(o.ownerDocument.body);l=v}while(l);Hs(s)}function YE(o,s){var l=o;o=0;do{var f=l.nextSibling;if(l.nodeType===1?s?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(s?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),f&&f.nodeType===8)if(l=f.data,l==="/$"){if(o===0)break;o--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||o++;l=f}while(l)}function Am(o){var s=o.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var l=s;switch(s=s.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":Am(l),Ip(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}o.removeChild(l)}}function tP(o,s,l,f){for(;o.nodeType===1;){var v=l;if(o.nodeName.toLowerCase()!==s.toLowerCase()){if(!f&&(o.nodeName!=="INPUT"||o.type!=="hidden"))break}else if(f){if(!o[Ba])switch(s){case"meta":if(!o.hasAttribute("itemprop"))break;return o;case"link":if(_=o.getAttribute("rel"),_==="stylesheet"&&o.hasAttribute("data-precedence"))break;if(_!==v.rel||o.getAttribute("href")!==(v.href==null||v.href===""?null:v.href)||o.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin)||o.getAttribute("title")!==(v.title==null?null:v.title))break;return o;case"style":if(o.hasAttribute("data-precedence"))break;return o;case"script":if(_=o.getAttribute("src"),(_!==(v.src==null?null:v.src)||o.getAttribute("type")!==(v.type==null?null:v.type)||o.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin))&&_&&o.hasAttribute("async")&&!o.hasAttribute("itemprop"))break;return o;default:return o}}else if(s==="input"&&o.type==="hidden"){var _=v.name==null?null:""+v.name;if(v.type==="hidden"&&o.getAttribute("name")===_)return o}else return o;if(o=In(o.nextSibling),o===null)break}return null}function nP(o,s,l){if(s==="")return null;for(;o.nodeType!==3;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!l||(o=In(o.nextSibling),o===null))return null;return o}function KE(o,s){for(;o.nodeType!==8;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!s||(o=In(o.nextSibling),o===null))return null;return o}function xm(o){return o.data==="$?"||o.data==="$~"}function Rm(o){return o.data==="$!"||o.data==="$?"&&o.ownerDocument.readyState!=="loading"}function iP(o,s){var l=o.ownerDocument;if(o.data==="$~")o._reactRetry=s;else if(o.data!=="$?"||l.readyState!=="loading")s();else{var f=function(){s(),l.removeEventListener("DOMContentLoaded",f)};l.addEventListener("DOMContentLoaded",f),o._reactRetry=f}}function In(o){for(;o!=null;o=o.nextSibling){var s=o.nodeType;if(s===1||s===3)break;if(s===8){if(s=o.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return o}var Mm=null;function XE(o){o=o.nextSibling;for(var s=0;o;){if(o.nodeType===8){var l=o.data;if(l==="/$"||l==="/&"){if(s===0)return In(o.nextSibling);s--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||s++}o=o.nextSibling}return null}function WE(o){o=o.previousSibling;for(var s=0;o;){if(o.nodeType===8){var l=o.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(s===0)return o;s--}else l!=="/$"&&l!=="/&"||s++}o=o.previousSibling}return null}function jE(o,s,l){switch(s=Xc(l),o){case"html":if(o=s.documentElement,!o)throw Error(i(452));return o;case"head":if(o=s.head,!o)throw Error(i(453));return o;case"body":if(o=s.body,!o)throw Error(i(454));return o;default:throw Error(i(451))}}function Sl(o){for(var s=o.attributes;s.length;)o.removeAttributeNode(s[0]);Ip(o)}var Dn=new Map,QE=new Set;function Wc(o){return typeof o.getRootNode=="function"?o.getRootNode():o.nodeType===9?o:o.ownerDocument}var Wi=Q.d;Q.d={f:oP,r:rP,D:sP,C:aP,L:lP,m:uP,X:fP,S:cP,M:dP};function oP(){var o=Wi.f(),s=Fc();return o||s}function rP(o){var s=os(o);s!==null&&s.tag===5&&s.type==="form"?mS(s):Wi.r(o)}var Us=typeof document>"u"?null:document;function ZE(o,s,l){var f=Us;if(f&&typeof s=="string"&&s){var v=Cn(s);v='link[rel="'+o+'"][href="'+v+'"]',typeof l=="string"&&(v+='[crossorigin="'+l+'"]'),QE.has(v)||(QE.add(v),o={rel:o,crossOrigin:l,href:s},f.querySelector(v)===null&&(s=f.createElement("link"),Rt(s,"link",o),yt(s),f.head.appendChild(s)))}}function sP(o){Wi.D(o),ZE("dns-prefetch",o,null)}function aP(o,s){Wi.C(o,s),ZE("preconnect",o,s)}function lP(o,s,l){Wi.L(o,s,l);var f=Us;if(f&&o&&s){var v='link[rel="preload"][as="'+Cn(s)+'"]';s==="image"&&l&&l.imageSrcSet?(v+='[imagesrcset="'+Cn(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(v+='[imagesizes="'+Cn(l.imageSizes)+'"]')):v+='[href="'+Cn(o)+'"]';var _=v;switch(s){case"style":_=ks(o);break;case"script":_=Bs(o)}Dn.has(_)||(o=y({rel:"preload",href:s==="image"&&l&&l.imageSrcSet?void 0:o,as:s},l),Dn.set(_,o),f.querySelector(v)!==null||s==="style"&&f.querySelector(El(_))||s==="script"&&f.querySelector(bl(_))||(s=f.createElement("link"),Rt(s,"link",o),yt(s),f.head.appendChild(s)))}}function uP(o,s){Wi.m(o,s);var l=Us;if(l&&o){var f=s&&typeof s.as=="string"?s.as:"script",v='link[rel="modulepreload"][as="'+Cn(f)+'"][href="'+Cn(o)+'"]',_=v;switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":_=Bs(o)}if(!Dn.has(_)&&(o=y({rel:"modulepreload",href:o},s),Dn.set(_,o),l.querySelector(v)===null)){switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(bl(_)))return}f=l.createElement("link"),Rt(f,"link",o),yt(f),l.head.appendChild(f)}}}function cP(o,s,l){Wi.S(o,s,l);var f=Us;if(f&&o){var v=rs(f).hoistableStyles,_=ks(o);s=s||"default";var b=v.get(_);if(!b){var R={loading:0,preload:null};if(b=f.querySelector(El(_)))R.loading=5;else{o=y({rel:"stylesheet",href:o,"data-precedence":s},l),(l=Dn.get(_))&&Nm(o,l);var P=b=f.createElement("link");yt(P),Rt(P,"link",o),P._p=new Promise(function($,W){P.onload=$,P.onerror=W}),P.addEventListener("load",function(){R.loading|=1}),P.addEventListener("error",function(){R.loading|=2}),R.loading|=4,jc(b,s,f)}b={type:"stylesheet",instance:b,count:1,state:R},v.set(_,b)}}}function fP(o,s){Wi.X(o,s);var l=Us;if(l&&o){var f=rs(l).hoistableScripts,v=Bs(o),_=f.get(v);_||(_=l.querySelector(bl(v)),_||(o=y({src:o,async:!0},s),(s=Dn.get(v))&&Im(o,s),_=l.createElement("script"),yt(_),Rt(_,"link",o),l.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},f.set(v,_))}}function dP(o,s){Wi.M(o,s);var l=Us;if(l&&o){var f=rs(l).hoistableScripts,v=Bs(o),_=f.get(v);_||(_=l.querySelector(bl(v)),_||(o=y({src:o,async:!0,type:"module"},s),(s=Dn.get(v))&&Im(o,s),_=l.createElement("script"),yt(_),Rt(_,"link",o),l.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},f.set(v,_))}}function eb(o,s,l,f){var v=(v=Ee.current)?Wc(v):null;if(!v)throw Error(i(446));switch(o){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(s=ks(l.href),l=rs(v).hoistableStyles,f=l.get(s),f||(f={type:"style",instance:null,count:0,state:null},l.set(s,f)),f):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){o=ks(l.href);var _=rs(v).hoistableStyles,b=_.get(o);if(b||(v=v.ownerDocument||v,b={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},_.set(o,b),(_=v.querySelector(El(o)))&&!_._p&&(b.instance=_,b.state.loading=5),Dn.has(o)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},Dn.set(o,l),_||pP(v,o,l,b.state))),s&&f===null)throw Error(i(528,""));return b}if(s&&f!==null)throw Error(i(529,""));return null;case"script":return s=l.async,l=l.src,typeof l=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Bs(l),l=rs(v).hoistableScripts,f=l.get(s),f||(f={type:"script",instance:null,count:0,state:null},l.set(s,f)),f):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,o))}}function ks(o){return'href="'+Cn(o)+'"'}function El(o){return'link[rel="stylesheet"]['+o+"]"}function tb(o){return y({},o,{"data-precedence":o.precedence,precedence:null})}function pP(o,s,l,f){o.querySelector('link[rel="preload"][as="style"]['+s+"]")?f.loading=1:(s=o.createElement("link"),f.preload=s,s.addEventListener("load",function(){return f.loading|=1}),s.addEventListener("error",function(){return f.loading|=2}),Rt(s,"link",l),yt(s),o.head.appendChild(s))}function Bs(o){return'[src="'+Cn(o)+'"]'}function bl(o){return"script[async]"+o}function nb(o,s,l){if(s.count++,s.instance===null)switch(s.type){case"style":var f=o.querySelector('style[data-href~="'+Cn(l.href)+'"]');if(f)return s.instance=f,yt(f),f;var v=y({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return f=(o.ownerDocument||o).createElement("style"),yt(f),Rt(f,"style",v),jc(f,l.precedence,o),s.instance=f;case"stylesheet":v=ks(l.href);var _=o.querySelector(El(v));if(_)return s.state.loading|=4,s.instance=_,yt(_),_;f=tb(l),(v=Dn.get(v))&&Nm(f,v),_=(o.ownerDocument||o).createElement("link"),yt(_);var b=_;return b._p=new Promise(function(R,P){b.onload=R,b.onerror=P}),Rt(_,"link",f),s.state.loading|=4,jc(_,l.precedence,o),s.instance=_;case"script":return _=Bs(l.src),(v=o.querySelector(bl(_)))?(s.instance=v,yt(v),v):(f=l,(v=Dn.get(_))&&(f=y({},l),Im(f,v)),o=o.ownerDocument||o,v=o.createElement("script"),yt(v),Rt(v,"link",f),o.head.appendChild(v),s.instance=v);case"void":return null;default:throw Error(i(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(f=s.instance,s.state.loading|=4,jc(f,l.precedence,o));return s.instance}function jc(o,s,l){for(var f=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),v=f.length?f[f.length-1]:null,_=v,b=0;b<f.length;b++){var R=f[b];if(R.dataset.precedence===s)_=R;else if(_!==v)break}_?_.parentNode.insertBefore(o,_.nextSibling):(s=l.nodeType===9?l.head:l,s.insertBefore(o,s.firstChild))}function Nm(o,s){o.crossOrigin==null&&(o.crossOrigin=s.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=s.referrerPolicy),o.title==null&&(o.title=s.title)}function Im(o,s){o.crossOrigin==null&&(o.crossOrigin=s.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=s.referrerPolicy),o.integrity==null&&(o.integrity=s.integrity)}var Qc=null;function ib(o,s,l){if(Qc===null){var f=new Map,v=Qc=new Map;v.set(l,f)}else v=Qc,f=v.get(l),f||(f=new Map,v.set(l,f));if(f.has(o))return f;for(f.set(o,null),l=l.getElementsByTagName(o),v=0;v<l.length;v++){var _=l[v];if(!(_[Ba]||_[Ct]||o==="link"&&_.getAttribute("rel")==="stylesheet")&&_.namespaceURI!=="http://www.w3.org/2000/svg"){var b=_.getAttribute(s)||"";b=o+b;var R=f.get(b);R?R.push(_):f.set(b,[_])}}return f}function ob(o,s,l){o=o.ownerDocument||o,o.head.insertBefore(l,s==="title"?o.querySelector("head > title"):null)}function hP(o,s,l){if(l===1||s.itemProp!=null)return!1;switch(o){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return o=s.disabled,typeof s.precedence=="string"&&o==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function rb(o){return!(o.type==="stylesheet"&&(o.state.loading&3)===0)}function mP(o,s,l,f){if(l.type==="stylesheet"&&(typeof f.media!="string"||matchMedia(f.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var v=ks(f.href),_=s.querySelector(El(v));if(_){s=_._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(o.count++,o=Zc.bind(o),s.then(o,o)),l.state.loading|=4,l.instance=_,yt(_);return}_=s.ownerDocument||s,f=tb(f),(v=Dn.get(v))&&Nm(f,v),_=_.createElement("link"),yt(_);var b=_;b._p=new Promise(function(R,P){b.onload=R,b.onerror=P}),Rt(_,"link",f),l.instance=_}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(l,s),(s=l.state.preload)&&(l.state.loading&3)===0&&(o.count++,l=Zc.bind(o),s.addEventListener("load",l),s.addEventListener("error",l))}}var Dm=0;function gP(o,s){return o.stylesheets&&o.count===0&&tf(o,o.stylesheets),0<o.count||0<o.imgCount?function(l){var f=setTimeout(function(){if(o.stylesheets&&tf(o,o.stylesheets),o.unsuspend){var _=o.unsuspend;o.unsuspend=null,_()}},6e4+s);0<o.imgBytes&&Dm===0&&(Dm=62500*W1());var v=setTimeout(function(){if(o.waitingForImages=!1,o.count===0&&(o.stylesheets&&tf(o,o.stylesheets),o.unsuspend)){var _=o.unsuspend;o.unsuspend=null,_()}},(o.imgBytes>Dm?50:800)+s);return o.unsuspend=l,function(){o.unsuspend=null,clearTimeout(f),clearTimeout(v)}}:null}function Zc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)tf(this,this.stylesheets);else if(this.unsuspend){var o=this.unsuspend;this.unsuspend=null,o()}}}var ef=null;function tf(o,s){o.stylesheets=null,o.unsuspend!==null&&(o.count++,ef=new Map,s.forEach(vP,o),ef=null,Zc.call(o))}function vP(o,s){if(!(s.state.loading&4)){var l=ef.get(o);if(l)var f=l.get(null);else{l=new Map,ef.set(o,l);for(var v=o.querySelectorAll("link[data-precedence],style[data-precedence]"),_=0;_<v.length;_++){var b=v[_];(b.nodeName==="LINK"||b.getAttribute("media")!=="not all")&&(l.set(b.dataset.precedence,b),f=b)}f&&l.set(null,f)}v=s.instance,b=v.getAttribute("data-precedence"),_=l.get(b)||f,_===f&&l.set(null,v),l.set(b,v),this.count++,f=Zc.bind(this),v.addEventListener("load",f),v.addEventListener("error",f),_?_.parentNode.insertBefore(v,_.nextSibling):(o=o.nodeType===9?o.head:o,o.insertBefore(v,o.firstChild)),s.state.loading|=4}}var wl={$$typeof:N,Provider:null,Consumer:null,_currentValue:ee,_currentValue2:ee,_threadCount:0};function yP(o,s,l,f,v,_,b,R,P){this.tag=1,this.containerInfo=o,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=xp(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=xp(0),this.hiddenUpdates=xp(null),this.identifierPrefix=f,this.onUncaughtError=v,this.onCaughtError=_,this.onRecoverableError=b,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=P,this.incompleteTransitions=new Map}function sb(o,s,l,f,v,_,b,R,P,$,W,te){return o=new yP(o,s,l,b,P,$,W,te,R),s=1,_===!0&&(s|=24),_=an(3,null,null,s),o.current=_,_.stateNode=o,s=fh(),s.refCount++,o.pooledCache=s,s.refCount++,_.memoizedState={element:f,isDehydrated:l,cache:s},mh(_),o}function ab(o){return o?(o=ms,o):ms}function lb(o,s,l,f,v,_){v=ab(v),f.context===null?f.context=v:f.pendingContext=v,f=xo(s),f.payload={element:l},_=_===void 0?null:_,_!==null&&(f.callback=_),l=Ro(o,f,s),l!==null&&(jt(l,o,s),tl(l,o,s))}function ub(o,s){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var l=o.retryLane;o.retryLane=l!==0&&l<s?l:s}}function Om(o,s){ub(o,s),(o=o.alternate)&&ub(o,s)}function cb(o){if(o.tag===13||o.tag===31){var s=gr(o,67108864);s!==null&&jt(s,o,67108864),Om(o,67108864)}}function fb(o){if(o.tag===13||o.tag===31){var s=dn();s=Rp(s);var l=gr(o,s);l!==null&&jt(l,o,s),Om(o,s)}}var nf=!0;function _P(o,s,l,f){var v=H.T;H.T=null;var _=Q.p;try{Q.p=2,Pm(o,s,l,f)}finally{Q.p=_,H.T=v}}function SP(o,s,l,f){var v=H.T;H.T=null;var _=Q.p;try{Q.p=8,Pm(o,s,l,f)}finally{Q.p=_,H.T=v}}function Pm(o,s,l,f){if(nf){var v=Lm(f);if(v===null)Sm(o,s,f,of,l),pb(o,f);else if(bP(v,o,s,l,f))f.stopPropagation();else if(pb(o,f),s&4&&-1<EP.indexOf(o)){for(;v!==null;){var _=os(v);if(_!==null)switch(_.tag){case 3:if(_=_.stateNode,_.current.memoizedState.isDehydrated){var b=fr(_.pendingLanes);if(b!==0){var R=_;for(R.pendingLanes|=2,R.entangledLanes|=2;b;){var P=1<<31-rn(b);R.entanglements[1]|=P,b&=~P}hi(_),(qe&6)===0&&(Hc=wt()+500,vl(0))}}break;case 31:case 13:R=gr(_,2),R!==null&&jt(R,_,2),Fc(),Om(_,2)}if(_=Lm(f),_===null&&Sm(o,s,f,of,l),_===v)break;v=_}v!==null&&f.stopPropagation()}else Sm(o,s,f,null,l)}}function Lm(o){return o=kp(o),Um(o)}var of=null;function Um(o){if(of=null,o=is(o),o!==null){var s=a(o);if(s===null)o=null;else{var l=s.tag;if(l===13){if(o=u(s),o!==null)return o;o=null}else if(l===31){if(o=c(s),o!==null)return o;o=null}else if(l===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;o=null}else s!==o&&(o=null)}}return of=o,null}function db(o){switch(o){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ju()){case Oa:return 2;case Pa:return 8;case cr:case aO:return 32;case b_:return 268435456;default:return 32}default:return 32}}var km=!1,Ho=null,Go=null,Fo=null,Cl=new Map,Tl=new Map,$o=[],EP="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function pb(o,s){switch(o){case"focusin":case"focusout":Ho=null;break;case"dragenter":case"dragleave":Go=null;break;case"mouseover":case"mouseout":Fo=null;break;case"pointerover":case"pointerout":Cl.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Tl.delete(s.pointerId)}}function Al(o,s,l,f,v,_){return o===null||o.nativeEvent!==_?(o={blockedOn:s,domEventName:l,eventSystemFlags:f,nativeEvent:_,targetContainers:[v]},s!==null&&(s=os(s),s!==null&&cb(s)),o):(o.eventSystemFlags|=f,s=o.targetContainers,v!==null&&s.indexOf(v)===-1&&s.push(v),o)}function bP(o,s,l,f,v){switch(s){case"focusin":return Ho=Al(Ho,o,s,l,f,v),!0;case"dragenter":return Go=Al(Go,o,s,l,f,v),!0;case"mouseover":return Fo=Al(Fo,o,s,l,f,v),!0;case"pointerover":var _=v.pointerId;return Cl.set(_,Al(Cl.get(_)||null,o,s,l,f,v)),!0;case"gotpointercapture":return _=v.pointerId,Tl.set(_,Al(Tl.get(_)||null,o,s,l,f,v)),!0}return!1}function hb(o){var s=is(o.target);if(s!==null){var l=a(s);if(l!==null){if(s=l.tag,s===13){if(s=u(l),s!==null){o.blockedOn=s,R_(o.priority,function(){fb(l)});return}}else if(s===31){if(s=c(l),s!==null){o.blockedOn=s,R_(o.priority,function(){fb(l)});return}}else if(s===3&&l.stateNode.current.memoizedState.isDehydrated){o.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}o.blockedOn=null}function rf(o){if(o.blockedOn!==null)return!1;for(var s=o.targetContainers;0<s.length;){var l=Lm(o.nativeEvent);if(l===null){l=o.nativeEvent;var f=new l.constructor(l.type,l);Up=f,l.target.dispatchEvent(f),Up=null}else return s=os(l),s!==null&&cb(s),o.blockedOn=l,!1;s.shift()}return!0}function mb(o,s,l){rf(o)&&l.delete(s)}function wP(){km=!1,Ho!==null&&rf(Ho)&&(Ho=null),Go!==null&&rf(Go)&&(Go=null),Fo!==null&&rf(Fo)&&(Fo=null),Cl.forEach(mb),Tl.forEach(mb)}function sf(o,s){o.blockedOn===s&&(o.blockedOn=null,km||(km=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,wP)))}var af=null;function gb(o){af!==o&&(af=o,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){af===o&&(af=null);for(var s=0;s<o.length;s+=3){var l=o[s],f=o[s+1],v=o[s+2];if(typeof f!="function"){if(Um(f||l)===null)continue;break}var _=os(l);_!==null&&(o.splice(s,3),s-=3,Lh(_,{pending:!0,data:v,method:l.method,action:f},f,v))}}))}function Hs(o){function s(P){return sf(P,o)}Ho!==null&&sf(Ho,o),Go!==null&&sf(Go,o),Fo!==null&&sf(Fo,o),Cl.forEach(s),Tl.forEach(s);for(var l=0;l<$o.length;l++){var f=$o[l];f.blockedOn===o&&(f.blockedOn=null)}for(;0<$o.length&&(l=$o[0],l.blockedOn===null);)hb(l),l.blockedOn===null&&$o.shift();if(l=(o.ownerDocument||o).$$reactFormReplay,l!=null)for(f=0;f<l.length;f+=3){var v=l[f],_=l[f+1],b=v[qt]||null;if(typeof _=="function")b||gb(l);else if(b){var R=null;if(_&&_.hasAttribute("formAction")){if(v=_,b=_[qt]||null)R=b.formAction;else if(Um(v)!==null)continue}else R=b.action;typeof R=="function"?l[f+1]=R:(l.splice(f,3),f-=3),gb(l)}}}function vb(){function o(_){_.canIntercept&&_.info==="react-transition"&&_.intercept({handler:function(){return new Promise(function(b){return v=b})},focusReset:"manual",scroll:"manual"})}function s(){v!==null&&(v(),v=null),f||setTimeout(l,20)}function l(){if(!f&&!navigation.transition){var _=navigation.currentEntry;_&&_.url!=null&&navigation.navigate(_.url,{state:_.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var f=!1,v=null;return navigation.addEventListener("navigate",o),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(l,100),function(){f=!0,navigation.removeEventListener("navigate",o),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),v!==null&&(v(),v=null)}}}function Bm(o){this._internalRoot=o}lf.prototype.render=Bm.prototype.render=function(o){var s=this._internalRoot;if(s===null)throw Error(i(409));var l=s.current,f=dn();lb(l,f,o,s,null,null)},lf.prototype.unmount=Bm.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var s=o.containerInfo;lb(o.current,2,null,o,null,null),Fc(),s[ns]=null}};function lf(o){this._internalRoot=o}lf.prototype.unstable_scheduleHydration=function(o){if(o){var s=x_();o={blockedOn:null,target:o,priority:s};for(var l=0;l<$o.length&&s!==0&&s<$o[l].priority;l++);$o.splice(l,0,o),l===0&&hb(o)}};var yb=e.version;if(yb!=="19.2.1")throw Error(i(527,yb,"19.2.1"));Q.findDOMNode=function(o){var s=o._reactInternals;if(s===void 0)throw typeof o.render=="function"?Error(i(188)):(o=Object.keys(o).join(","),Error(i(268,o)));return o=d(s),o=o!==null?m(o):null,o=o===null?null:o.stateNode,o};var CP={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.2.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var uf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!uf.isDisabled&&uf.supportsFiber)try{La=uf.inject(CP),on=uf}catch{}}return Rl.createRoot=function(o,s){if(!r(o))throw Error(i(299));var l=!1,f="",v=TS,_=AS,b=xS;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(f=s.identifierPrefix),s.onUncaughtError!==void 0&&(v=s.onUncaughtError),s.onCaughtError!==void 0&&(_=s.onCaughtError),s.onRecoverableError!==void 0&&(b=s.onRecoverableError)),s=sb(o,1,!1,null,null,l,f,null,v,_,b,vb),o[ns]=s.current,_m(o),new Bm(s)},Rl.hydrateRoot=function(o,s,l){if(!r(o))throw Error(i(299));var f=!1,v="",_=TS,b=AS,R=xS,P=null;return l!=null&&(l.unstable_strictMode===!0&&(f=!0),l.identifierPrefix!==void 0&&(v=l.identifierPrefix),l.onUncaughtError!==void 0&&(_=l.onUncaughtError),l.onCaughtError!==void 0&&(b=l.onCaughtError),l.onRecoverableError!==void 0&&(R=l.onRecoverableError),l.formState!==void 0&&(P=l.formState)),s=sb(o,1,!0,s,l??null,f,v,P,_,b,R,vb),s.context=ab(null),l=s.current,f=dn(),f=Rp(f),v=xo(f),v.callback=null,Ro(l,v,f),l=f,s.current.lanes=l,ka(s,l),hi(s),o[ns]=s.current,_m(o),new lf(s)},Rl.version="19.2.1",Rl}var Rb;function PP(){if(Rb)return Fm.exports;Rb=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Fm.exports=OP(),Fm.exports}var LP=PP();function ke(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];throw new Error(typeof t=="number"?"[MobX] minified error nr: "+t+(n.length?" "+n.map(String).join(","):"")+". Find the full error at: https://github.com/mobxjs/mobx/blob/main/packages/mobx/src/errors.ts":"[MobX] "+t)}var UP={};function Bd(){return typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:UP}var NA=Object.assign,od=Object.getOwnPropertyDescriptor,bi=Object.defineProperty,vu=Object.prototype,Hg=[];Object.freeze(Hg);var IA={};Object.freeze(IA);var kP=typeof Proxy<"u",BP=Object.toString();function DA(){kP||ke("Proxy not available")}function OA(t){var e=!1;return function(){if(!e)return e=!0,t.apply(this,arguments)}}var ta=function(){};function oi(t){return typeof t=="function"}function Hr(t){var e=typeof t;switch(e){case"string":case"symbol":case"number":return!0}return!1}function Hd(t){return t!==null&&typeof t=="object"}function so(t){if(!Hd(t))return!1;var e=Object.getPrototypeOf(t);if(e==null)return!0;var n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n.toString()===BP}function PA(t){var e=t?.constructor;return e?e.name==="GeneratorFunction"||e.displayName==="GeneratorFunction":!1}function yu(t,e,n){bi(t,e,{enumerable:!1,writable:!0,configurable:!0,value:n})}function LA(t,e,n){bi(t,e,{enumerable:!1,writable:!1,configurable:!0,value:n})}function ir(t,e){var n="isMobX"+t;return e.prototype[n]=!0,function(i){return Hd(i)&&i[n]===!0}}function Sa(t){return t!=null&&Object.prototype.toString.call(t)==="[object Map]"}function HP(t){var e=Object.getPrototypeOf(t),n=Object.getPrototypeOf(e),i=Object.getPrototypeOf(n);return i===null}function eo(t){return t!=null&&Object.prototype.toString.call(t)==="[object Set]"}var UA=typeof Object.getOwnPropertySymbols<"u";function GP(t){var e=Object.keys(t);if(!UA)return e;var n=Object.getOwnPropertySymbols(t);return n.length?[].concat(e,n.filter(function(i){return vu.propertyIsEnumerable.call(t,i)})):e}var da=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:UA?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:Object.getOwnPropertyNames;function kA(t){return t===null?null:typeof t=="object"?""+t:t}function io(t,e){return vu.hasOwnProperty.call(t,e)}var FP=Object.getOwnPropertyDescriptors||function(e){var n={};return da(e).forEach(function(i){n[i]=od(e,i)}),n};function vn(t,e){return!!(t&e)}function yn(t,e,n){return n?t|=e:t&=~e,t}function Mb(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,i=Array(e);n<e;n++)i[n]=t[n];return i}function $P(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,zP(i.key),i)}}function Ea(t,e,n){return e&&$P(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function na(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n)return(n=n.call(t)).next.bind(n);if(Array.isArray(t)||(n=qP(t))||e){n&&(t=n);var i=0;return function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Gr(){return Gr=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Gr.apply(null,arguments)}function BA(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,Gg(t,e)}function Gg(t,e){return Gg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Gg(t,e)}function VP(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function zP(t){var e=VP(t,"string");return typeof e=="symbol"?e:e+""}function qP(t,e){if(t){if(typeof t=="string")return Mb(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Mb(t,e):void 0}}var _i=Symbol("mobx-stored-annotations");function wi(t){function e(n,i){if(Su(i))return t.decorate_20223_(n,i);_u(n,i,t)}return Object.assign(e,t)}function _u(t,e,n){io(t,_i)||yu(t,_i,Gr({},t[_i])),QP(n)||(t[_i][e]=n)}function JP(t){return io(t,_i)||yu(t,_i,Gr({},t[_i])),t[_i]}function Su(t){return typeof t=="object"&&typeof t.kind=="string"}var we=Symbol("mobx administration"),or=(function(){function t(n){n===void 0&&(n="Atom"),this.name_=void 0,this.flags_=0,this.observers_=new Set,this.lastAccessedBy_=0,this.lowestObserverState_=Fe.NOT_TRACKING_,this.onBOL=void 0,this.onBUOL=void 0,this.name_=n}var e=t.prototype;return e.onBO=function(){this.onBOL&&this.onBOL.forEach(function(i){return i()})},e.onBUO=function(){this.onBUOL&&this.onBUOL.forEach(function(i){return i()})},e.reportObserved=function(){return tx(this)},e.reportChanged=function(){Un(),nx(this),kn()},e.toString=function(){return this.name_},Ea(t,[{key:"isBeingObserved",get:function(){return vn(this.flags_,t.isBeingObservedMask_)},set:function(i){this.flags_=yn(this.flags_,t.isBeingObservedMask_,i)}},{key:"isPendingUnobservation",get:function(){return vn(this.flags_,t.isPendingUnobservationMask_)},set:function(i){this.flags_=yn(this.flags_,t.isPendingUnobservationMask_,i)}},{key:"diffValue",get:function(){return vn(this.flags_,t.diffValueMask_)?1:0},set:function(i){this.flags_=yn(this.flags_,t.diffValueMask_,i===1)}}])})();or.isBeingObservedMask_=1;or.isPendingUnobservationMask_=2;or.diffValueMask_=4;var Yv=ir("Atom",or);function HA(t,e,n){e===void 0&&(e=ta),n===void 0&&(n=ta);var i=new or(t);return e!==ta&&tU(i,e),n!==ta&&lx(i,n),i}function YP(t,e){return Sx(t,e)}function KP(t,e){return Object.is?Object.is(t,e):t===e?t!==0||1/t===1/e:t!==t&&e!==e}var rd={structural:YP,default:KP};function Fr(t,e,n){return Qv(t)?t:Array.isArray(t)?Et.array(t,{name:n}):so(t)?Et.object(t,void 0,{name:n}):Sa(t)?Et.map(t,{name:n}):eo(t)?Et.set(t,{name:n}):typeof t=="function"&&!pa(t)&&!tu(t)?PA(t)?ha(t):eu(n,t):t}function XP(t,e,n){if(t==null||Au(t)||Tu(t)||rr(t)||Qn(t))return t;if(Array.isArray(t))return Et.array(t,{name:n,deep:!1});if(so(t))return Et.object(t,void 0,{name:n,deep:!1});if(Sa(t))return Et.map(t,{name:n,deep:!1});if(eo(t))return Et.set(t,{name:n,deep:!1})}function Gd(t){return t}function WP(t,e){return Sx(t,e)?e:t}var jP="override";function QP(t){return t.annotationType_===jP}function Eu(t,e){return{annotationType_:t,options_:e,make_:ZP,extend_:eL,decorate_20223_:tL}}function ZP(t,e,n,i){var r;if((r=this.options_)!=null&&r.bound)return this.extend_(t,e,n,!1)===null?0:1;if(i===t.target_)return this.extend_(t,e,n,!1)===null?0:2;if(pa(n.value))return 1;var a=GA(t,this,e,n,!1);return bi(i,e,a),2}function eL(t,e,n,i){var r=GA(t,this,e,n);return t.defineProperty_(e,r,i)}function tL(t,e){var n=e.kind,i=e.name,r=e.addInitializer,a=this,u=function(d){var m,y,S,E;return $r((m=(y=a.options_)==null?void 0:y.name)!=null?m:i.toString(),d,(S=(E=a.options_)==null?void 0:E.autoAction)!=null?S:!1)};if(n=="field")return function(p){var d,m=p;return pa(m)||(m=u(m)),(d=a.options_)!=null&&d.bound&&(m=m.bind(this),m.isMobxAction=!0),m};if(n=="method"){var c;return pa(t)||(t=u(t)),(c=this.options_)!=null&&c.bound&&r(function(){var p=this,d=p[i].bind(p);d.isMobxAction=!0,p[i]=d}),t}ke("Cannot apply '"+a.annotationType_+"' to '"+String(i)+"' (kind: "+n+"):"+(`
'`+a.annotationType_+"' can only be used on properties with a function value."))}function nL(t,e,n,i){e.annotationType_,i.value}function GA(t,e,n,i,r){var a,u,c,p,d,m,y;r===void 0&&(r=ue.safeDescriptors),nL(t,e,n,i);var S=i.value;if((a=e.options_)!=null&&a.bound){var E;S=S.bind((E=t.proxy_)!=null?E:t.target_)}return{value:$r((u=(c=e.options_)==null?void 0:c.name)!=null?u:n.toString(),S,(p=(d=e.options_)==null?void 0:d.autoAction)!=null?p:!1,(m=e.options_)!=null&&m.bound?(y=t.proxy_)!=null?y:t.target_:void 0),configurable:r?t.isPlainObject_:!0,enumerable:!1,writable:!r}}function FA(t,e){return{annotationType_:t,options_:e,make_:iL,extend_:oL,decorate_20223_:rL}}function iL(t,e,n,i){var r;if(i===t.target_)return this.extend_(t,e,n,!1)===null?0:2;if((r=this.options_)!=null&&r.bound&&(!io(t.target_,e)||!tu(t.target_[e]))&&this.extend_(t,e,n,!1)===null)return 0;if(tu(n.value))return 1;var a=$A(t,this,e,n,!1,!1);return bi(i,e,a),2}function oL(t,e,n,i){var r,a=$A(t,this,e,n,(r=this.options_)==null?void 0:r.bound);return t.defineProperty_(e,a,i)}function rL(t,e){var n,i=e.name,r=e.addInitializer;return tu(t)||(t=ha(t)),(n=this.options_)!=null&&n.bound&&r(function(){var a=this,u=a[i].bind(a);u.isMobXFlow=!0,a[i]=u}),t}function sL(t,e,n,i){e.annotationType_,i.value}function $A(t,e,n,i,r,a){a===void 0&&(a=ue.safeDescriptors),sL(t,e,n,i);var u=i.value;if(tu(u)||(u=ha(u)),r){var c;u=u.bind((c=t.proxy_)!=null?c:t.target_),u.isMobXFlow=!0}return{value:u,configurable:a?t.isPlainObject_:!0,enumerable:!1,writable:!a}}function Kv(t,e){return{annotationType_:t,options_:e,make_:aL,extend_:lL,decorate_20223_:uL}}function aL(t,e,n){return this.extend_(t,e,n,!1)===null?0:1}function lL(t,e,n,i){return cL(t,this,e,n),t.defineComputedProperty_(e,Gr({},this.options_,{get:n.get,set:n.set}),i)}function uL(t,e){var n=this,i=e.name,r=e.addInitializer;return r(function(){var a=Qr(this)[we],u=Gr({},n.options_,{get:t,context:this});u.name||(u.name="ObservableObject."+i.toString()),a.values_.set(i,new ri(u))}),function(){return this[we].getObservablePropValue_(i)}}function cL(t,e,n,i){e.annotationType_,i.get}function Fd(t,e){return{annotationType_:t,options_:e,make_:fL,extend_:dL,decorate_20223_:pL}}function fL(t,e,n){return this.extend_(t,e,n,!1)===null?0:1}function dL(t,e,n,i){var r,a;return hL(t,this),t.defineObservableProperty_(e,n.value,(r=(a=this.options_)==null?void 0:a.enhancer)!=null?r:Fr,i)}function pL(t,e){var n=this,i=e.kind,r=e.name,a=new WeakSet;function u(c,p){var d,m,y=Qr(c)[we],S=new jo(p,(d=(m=n.options_)==null?void 0:m.enhancer)!=null?d:Fr,"ObservableObject."+r.toString(),!1);y.values_.set(r,S),a.add(c)}if(i=="accessor")return{get:function(){return a.has(this)||u(this,t.get.call(this)),this[we].getObservablePropValue_(r)},set:function(p){return a.has(this)||u(this,p),this[we].setObservablePropValue_(r,p)},init:function(p){return a.has(this)||u(this,p),p}}}function hL(t,e,n,i){e.annotationType_}var mL="true",gL=VA();function VA(t){return{annotationType_:mL,options_:t,make_:vL,extend_:yL,decorate_20223_:_L}}function vL(t,e,n,i){var r,a;if(n.get)return $d.make_(t,e,n,i);if(n.set){var u=pa(n.set)?n.set:$r(e.toString(),n.set);return i===t.target_?t.defineProperty_(e,{configurable:ue.safeDescriptors?t.isPlainObject_:!0,set:u})===null?0:2:(bi(i,e,{configurable:!0,set:u}),2)}if(i!==t.target_&&typeof n.value=="function"){var c;if(PA(n.value)){var p,d=(p=this.options_)!=null&&p.autoBind?ha.bound:ha;return d.make_(t,e,n,i)}var m=(c=this.options_)!=null&&c.autoBind?eu.bound:eu;return m.make_(t,e,n,i)}var y=((r=this.options_)==null?void 0:r.deep)===!1?Et.ref:Et;if(typeof n.value=="function"&&(a=this.options_)!=null&&a.autoBind){var S;n.value=n.value.bind((S=t.proxy_)!=null?S:t.target_)}return y.make_(t,e,n,i)}function yL(t,e,n,i){var r,a;if(n.get)return $d.extend_(t,e,n,i);if(n.set)return t.defineProperty_(e,{configurable:ue.safeDescriptors?t.isPlainObject_:!0,set:$r(e.toString(),n.set)},i);if(typeof n.value=="function"&&(r=this.options_)!=null&&r.autoBind){var u;n.value=n.value.bind((u=t.proxy_)!=null?u:t.target_)}var c=((a=this.options_)==null?void 0:a.deep)===!1?Et.ref:Et;return c.extend_(t,e,n,i)}function _L(t,e){ke("'"+this.annotationType_+"' cannot be used as a decorator")}var SL="observable",EL="observable.ref",bL="observable.shallow",wL="observable.struct",zA={deep:!0,name:void 0,defaultDecorator:void 0,proxy:!0};Object.freeze(zA);function cf(t){return t||zA}var Fg=Fd(SL),CL=Fd(EL,{enhancer:Gd}),TL=Fd(bL,{enhancer:XP}),AL=Fd(wL,{enhancer:WP}),qA=wi(Fg);function ff(t){return t.deep===!0?Fr:t.deep===!1?Gd:RL(t.defaultDecorator)}function xL(t){var e;return t?(e=t.defaultDecorator)!=null?e:VA(t):void 0}function RL(t){var e,n;return t&&(e=(n=t.options_)==null?void 0:n.enhancer)!=null?e:Fr}function JA(t,e,n){if(Su(e))return Fg.decorate_20223_(t,e);if(Hr(e)){_u(t,e,Fg);return}return Qv(t)?t:so(t)?Et.object(t,e,n):Array.isArray(t)?Et.array(t,e):Sa(t)?Et.map(t,e):eo(t)?Et.set(t,e):typeof t=="object"&&t!==null?t:Et.box(t,e)}NA(JA,qA);var ML={box:function(e,n){var i=cf(n);return new jo(e,ff(i),i.name,!0,i.equals)},array:function(e,n){var i=cf(n);return(ue.useProxies===!1||i.proxy===!1?AU:gU)(e,ff(i),i.name)},map:function(e,n){var i=cf(n);return new hx(e,ff(i),i.name)},set:function(e,n){var i=cf(n);return new mx(e,ff(i),i.name)},object:function(e,n,i){return sr(function(){return cx(ue.useProxies===!1||i?.proxy===!1?Qr({},i):dU({},i),e,n)})},ref:wi(CL),shallow:wi(TL),deep:qA,struct:wi(AL)},Et=NA(JA,ML),YA="computed",NL="computed.struct",$g=Kv(YA),IL=Kv(NL,{equals:rd.structural}),$d=function(e,n){if(Su(n))return $g.decorate_20223_(e,n);if(Hr(n))return _u(e,n,$g);if(so(e))return wi(Kv(YA,e));var i=so(n)?n:{};return i.get=e,i.name||(i.name=e.name||""),new ri(i)};Object.assign($d,$g);$d.struct=wi(IL);var Nb,Ib,sd=0,DL=1,OL=(Nb=(Ib=od(function(){},"name"))==null?void 0:Ib.configurable)!=null?Nb:!1,Db={value:"action",configurable:!0,writable:!1,enumerable:!1};function $r(t,e,n,i){n===void 0&&(n=!1);function r(){return KA(t,n,e,i||this,arguments)}return r.isMobxAction=!0,r.toString=function(){return e.toString()},OL&&(Db.value=t,bi(r,"name",Db)),r}function KA(t,e,n,i,r){var a=PL(t,e);try{return n.apply(i,r)}catch(u){throw a.error_=u,u}finally{LL(a)}}function PL(t,e,n,i){var r=!1,a=0,u=ue.trackingDerivation,c=!e||!u;Un();var p=ue.allowStateChanges;c&&(jr(),p=Xv(!0));var d=jv(!0),m={runAsAction_:c,prevDerivation_:u,prevAllowStateChanges_:p,prevAllowStateReads_:d,notifySpy_:r,startTime_:a,actionId_:DL++,parentActionId_:sd};return sd=m.actionId_,m}function LL(t){sd!==t.actionId_&&ke(30),sd=t.parentActionId_,t.error_!==void 0&&(ue.suppressReactionErrors=!0),Wv(t.prevAllowStateChanges_),Jl(t.prevAllowStateReads_),kn(),t.runAsAction_&&oo(t.prevDerivation_),ue.suppressReactionErrors=!1}function Xv(t){var e=ue.allowStateChanges;return ue.allowStateChanges=t,e}function Wv(t){ue.allowStateChanges=t}var jo=(function(t){function e(i,r,a,u,c){var p;return a===void 0&&(a="ObservableValue"),c===void 0&&(c=rd.default),p=t.call(this,a)||this,p.enhancer=void 0,p.name_=void 0,p.equals=void 0,p.hasUnreportedChange_=!1,p.interceptors_=void 0,p.changeListeners_=void 0,p.value_=void 0,p.dehancer=void 0,p.enhancer=r,p.name_=a,p.equals=c,p.value_=r(i,void 0,a),p}BA(e,t);var n=e.prototype;return n.dehanceValue=function(r){return this.dehancer!==void 0?this.dehancer(r):r},n.set=function(r){this.value_,r=this.prepareNewValue_(r),r!==ue.UNCHANGED&&this.setNewValue_(r)},n.prepareNewValue_=function(r){if(Pn(this)){var a=Ln(this,{object:this,type:Ci,newValue:r});if(!a)return ue.UNCHANGED;r=a.newValue}return r=this.enhancer(r,this.value_,this.name_),this.equals(this.value_,r)?ue.UNCHANGED:r},n.setNewValue_=function(r){var a=this.value_;this.value_=r,this.reportChanged(),ei(this)&&ti(this,{type:Ci,object:this,newValue:r,oldValue:a})},n.get=function(){return this.reportObserved(),this.dehanceValue(this.value_)},n.intercept_=function(r){return wu(this,r)},n.observe_=function(r,a){return a&&r({observableKind:"value",debugObjectName:this.name_,object:this,type:Ci,newValue:this.value_,oldValue:void 0}),Cu(this,r)},n.raw=function(){return this.value_},n.toJSON=function(){return this.get()},n.toString=function(){return this.name_+"["+this.value_+"]"},n.valueOf=function(){return kA(this.get())},n[Symbol.toPrimitive]=function(){return this.valueOf()},e})(or),UL=ir("ObservableValue",jo),ri=(function(){function t(n){this.dependenciesState_=Fe.NOT_TRACKING_,this.observing_=[],this.newObserving_=null,this.observers_=new Set,this.runId_=0,this.lastAccessedBy_=0,this.lowestObserverState_=Fe.UP_TO_DATE_,this.unboundDepsCount_=0,this.value_=new ld(null),this.name_=void 0,this.triggeredBy_=void 0,this.flags_=0,this.derivation=void 0,this.setter_=void 0,this.isTracing_=ad.NONE,this.scope_=void 0,this.equals_=void 0,this.requiresReaction_=void 0,this.keepAlive_=void 0,this.onBOL=void 0,this.onBUOL=void 0,n.get||ke(31),this.derivation=n.get,this.name_=n.name||"ComputedValue",n.set&&(this.setter_=$r("ComputedValue-setter",n.set)),this.equals_=n.equals||(n.compareStructural||n.struct?rd.structural:rd.default),this.scope_=n.context,this.requiresReaction_=n.requiresReaction,this.keepAlive_=!!n.keepAlive}var e=t.prototype;return e.onBecomeStale_=function(){FL(this)},e.onBO=function(){this.onBOL&&this.onBOL.forEach(function(i){return i()})},e.onBUO=function(){this.onBUOL&&this.onBUOL.forEach(function(i){return i()})},e.get=function(){if(this.isComputing&&ke(32,this.name_,this.derivation),ue.inBatch===0&&this.observers_.size===0&&!this.keepAlive_)Vg(this)&&(this.warnAboutUntrackedRead_(),Un(),this.value_=this.computeValue_(!1),kn());else if(tx(this),Vg(this)){var i=ue.trackingContext;this.keepAlive_&&!i&&(ue.trackingContext=this),this.trackAndCompute()&&GL(this),ue.trackingContext=i}var r=this.value_;if(Hf(r))throw r.cause;return r},e.set=function(i){if(this.setter_){this.isRunningSetter&&ke(33,this.name_),this.isRunningSetter=!0;try{this.setter_.call(this.scope_,i)}finally{this.isRunningSetter=!1}}else ke(34,this.name_)},e.trackAndCompute=function(){var i=this.value_,r=this.dependenciesState_===Fe.NOT_TRACKING_,a=this.computeValue_(!0),u=r||Hf(i)||Hf(a)||!this.equals_(i,a);return u&&(this.value_=a),u},e.computeValue_=function(i){this.isComputing=!0;var r=Xv(!1),a;if(i)a=XA(this,this.derivation,this.scope_);else if(ue.disableErrorBoundaries===!0)a=this.derivation.call(this.scope_);else try{a=this.derivation.call(this.scope_)}catch(u){a=new ld(u)}return Wv(r),this.isComputing=!1,a},e.suspend_=function(){this.keepAlive_||(zg(this),this.value_=void 0)},e.observe_=function(i,r){var a=this,u=!0,c=void 0;return WL(function(){var p=a.get();if(!u||r){var d=jr();i({observableKind:"computed",debugObjectName:a.name_,type:Ci,object:a,newValue:p,oldValue:c}),oo(d)}u=!1,c=p})},e.warnAboutUntrackedRead_=function(){},e.toString=function(){return this.name_+"["+this.derivation.toString()+"]"},e.valueOf=function(){return kA(this.get())},e[Symbol.toPrimitive]=function(){return this.valueOf()},Ea(t,[{key:"isComputing",get:function(){return vn(this.flags_,t.isComputingMask_)},set:function(i){this.flags_=yn(this.flags_,t.isComputingMask_,i)}},{key:"isRunningSetter",get:function(){return vn(this.flags_,t.isRunningSetterMask_)},set:function(i){this.flags_=yn(this.flags_,t.isRunningSetterMask_,i)}},{key:"isBeingObserved",get:function(){return vn(this.flags_,t.isBeingObservedMask_)},set:function(i){this.flags_=yn(this.flags_,t.isBeingObservedMask_,i)}},{key:"isPendingUnobservation",get:function(){return vn(this.flags_,t.isPendingUnobservationMask_)},set:function(i){this.flags_=yn(this.flags_,t.isPendingUnobservationMask_,i)}},{key:"diffValue",get:function(){return vn(this.flags_,t.diffValueMask_)?1:0},set:function(i){this.flags_=yn(this.flags_,t.diffValueMask_,i===1)}}])})();ri.isComputingMask_=1;ri.isRunningSetterMask_=2;ri.isBeingObservedMask_=4;ri.isPendingUnobservationMask_=8;ri.diffValueMask_=16;var bu=ir("ComputedValue",ri),Fe;(function(t){t[t.NOT_TRACKING_=-1]="NOT_TRACKING_",t[t.UP_TO_DATE_=0]="UP_TO_DATE_",t[t.POSSIBLY_STALE_=1]="POSSIBLY_STALE_",t[t.STALE_=2]="STALE_"})(Fe||(Fe={}));var ad;(function(t){t[t.NONE=0]="NONE",t[t.LOG=1]="LOG",t[t.BREAK=2]="BREAK"})(ad||(ad={}));var ld=function(e){this.cause=void 0,this.cause=e};function Hf(t){return t instanceof ld}function Vg(t){switch(t.dependenciesState_){case Fe.UP_TO_DATE_:return!1;case Fe.NOT_TRACKING_:case Fe.STALE_:return!0;case Fe.POSSIBLY_STALE_:{for(var e=jv(!0),n=jr(),i=t.observing_,r=i.length,a=0;a<r;a++){var u=i[a];if(bu(u)){if(ue.disableErrorBoundaries)u.get();else try{u.get()}catch{return oo(n),Jl(e),!0}if(t.dependenciesState_===Fe.STALE_)return oo(n),Jl(e),!0}}return jA(t),oo(n),Jl(e),!1}}}function XA(t,e,n){var i=jv(!0);jA(t),t.newObserving_=new Array(t.runId_===0?100:t.observing_.length),t.unboundDepsCount_=0,t.runId_=++ue.runId;var r=ue.trackingDerivation;ue.trackingDerivation=t,ue.inBatch++;var a;if(ue.disableErrorBoundaries===!0)a=e.call(n);else try{a=e.call(n)}catch(u){a=new ld(u)}return ue.inBatch--,ue.trackingDerivation=r,kL(t),Jl(i),a}function kL(t){for(var e=t.observing_,n=t.observing_=t.newObserving_,i=Fe.UP_TO_DATE_,r=0,a=t.unboundDepsCount_,u=0;u<a;u++){var c=n[u];c.diffValue===0&&(c.diffValue=1,r!==u&&(n[r]=c),r++),c.dependenciesState_>i&&(i=c.dependenciesState_)}for(n.length=r,t.newObserving_=null,a=e.length;a--;){var p=e[a];p.diffValue===0&&ZA(p,t),p.diffValue=0}for(;r--;){var d=n[r];d.diffValue===1&&(d.diffValue=0,HL(d,t))}i!==Fe.UP_TO_DATE_&&(t.dependenciesState_=i,t.onBecomeStale_())}function zg(t){var e=t.observing_;t.observing_=[];for(var n=e.length;n--;)ZA(e[n],t);t.dependenciesState_=Fe.NOT_TRACKING_}function WA(t){var e=jr();try{return t()}finally{oo(e)}}function jr(){var t=ue.trackingDerivation;return ue.trackingDerivation=null,t}function oo(t){ue.trackingDerivation=t}function jv(t){var e=ue.allowStateReads;return ue.allowStateReads=t,e}function Jl(t){ue.allowStateReads=t}function jA(t){if(t.dependenciesState_!==Fe.UP_TO_DATE_){t.dependenciesState_=Fe.UP_TO_DATE_;for(var e=t.observing_,n=e.length;n--;)e[n].lowestObserverState_=Fe.UP_TO_DATE_}}var Gf=function(){this.version=6,this.UNCHANGED={},this.trackingDerivation=null,this.trackingContext=null,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!1,this.allowStateReads=!0,this.enforceActions=!0,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1,this.useProxies=!0,this.verifyProxies=!1,this.safeDescriptors=!0},Ff=!0,QA=!1,ue=(function(){var t=Bd();return t.__mobxInstanceCount>0&&!t.__mobxGlobals&&(Ff=!1),t.__mobxGlobals&&t.__mobxGlobals.version!==new Gf().version&&(Ff=!1),Ff?t.__mobxGlobals?(t.__mobxInstanceCount+=1,t.__mobxGlobals.UNCHANGED||(t.__mobxGlobals.UNCHANGED={}),t.__mobxGlobals):(t.__mobxInstanceCount=1,t.__mobxGlobals=new Gf):(setTimeout(function(){QA||ke(35)},1),new Gf)})();function BL(){if((ue.pendingReactions.length||ue.inBatch||ue.isRunningReactions)&&ke(36),QA=!0,Ff){var t=Bd();--t.__mobxInstanceCount===0&&(t.__mobxGlobals=void 0),ue=new Gf}}function HL(t,e){t.observers_.add(e),t.lowestObserverState_>e.dependenciesState_&&(t.lowestObserverState_=e.dependenciesState_)}function ZA(t,e){t.observers_.delete(e),t.observers_.size===0&&ex(t)}function ex(t){t.isPendingUnobservation===!1&&(t.isPendingUnobservation=!0,ue.pendingUnobservations.push(t))}function Un(){ue.inBatch++}function kn(){if(--ue.inBatch===0){ix();for(var t=ue.pendingUnobservations,e=0;e<t.length;e++){var n=t[e];n.isPendingUnobservation=!1,n.observers_.size===0&&(n.isBeingObserved&&(n.isBeingObserved=!1,n.onBUO()),n instanceof ri&&n.suspend_())}ue.pendingUnobservations=[]}}function tx(t){var e=ue.trackingDerivation;return e!==null?(e.runId_!==t.lastAccessedBy_&&(t.lastAccessedBy_=e.runId_,e.newObserving_[e.unboundDepsCount_++]=t,!t.isBeingObserved&&ue.trackingContext&&(t.isBeingObserved=!0,t.onBO())),t.isBeingObserved):(t.observers_.size===0&&ue.inBatch>0&&ex(t),!1)}function nx(t){t.lowestObserverState_!==Fe.STALE_&&(t.lowestObserverState_=Fe.STALE_,t.observers_.forEach(function(e){e.dependenciesState_===Fe.UP_TO_DATE_&&e.onBecomeStale_(),e.dependenciesState_=Fe.STALE_}))}function GL(t){t.lowestObserverState_!==Fe.STALE_&&(t.lowestObserverState_=Fe.STALE_,t.observers_.forEach(function(e){e.dependenciesState_===Fe.POSSIBLY_STALE_?e.dependenciesState_=Fe.STALE_:e.dependenciesState_===Fe.UP_TO_DATE_&&(t.lowestObserverState_=Fe.UP_TO_DATE_)}))}function FL(t){t.lowestObserverState_===Fe.UP_TO_DATE_&&(t.lowestObserverState_=Fe.POSSIBLY_STALE_,t.observers_.forEach(function(e){e.dependenciesState_===Fe.UP_TO_DATE_&&(e.dependenciesState_=Fe.POSSIBLY_STALE_,e.onBecomeStale_())}))}var ao=(function(){function t(n,i,r,a){n===void 0&&(n="Reaction"),this.name_=void 0,this.onInvalidate_=void 0,this.errorHandler_=void 0,this.requiresObservable_=void 0,this.observing_=[],this.newObserving_=[],this.dependenciesState_=Fe.NOT_TRACKING_,this.runId_=0,this.unboundDepsCount_=0,this.flags_=0,this.isTracing_=ad.NONE,this.name_=n,this.onInvalidate_=i,this.errorHandler_=r,this.requiresObservable_=a}var e=t.prototype;return e.onBecomeStale_=function(){this.schedule_()},e.schedule_=function(){this.isScheduled||(this.isScheduled=!0,ue.pendingReactions.push(this),ix())},e.runReaction_=function(){if(!this.isDisposed){Un(),this.isScheduled=!1;var i=ue.trackingContext;if(ue.trackingContext=this,Vg(this)){this.isTrackPending=!0;try{this.onInvalidate_()}catch(r){this.reportExceptionInDerivation_(r)}}ue.trackingContext=i,kn()}},e.track=function(i){if(!this.isDisposed){Un(),this.isRunning=!0;var r=ue.trackingContext;ue.trackingContext=this;var a=XA(this,i,void 0);ue.trackingContext=r,this.isRunning=!1,this.isTrackPending=!1,this.isDisposed&&zg(this),Hf(a)&&this.reportExceptionInDerivation_(a.cause),kn()}},e.reportExceptionInDerivation_=function(i){var r=this;if(this.errorHandler_){this.errorHandler_(i,this);return}if(ue.disableErrorBoundaries)throw i;var a="[mobx] uncaught error in '"+this+"'";ue.suppressReactionErrors||console.error(a,i),ue.globalReactionErrorHandlers.forEach(function(u){return u(i,r)})},e.dispose=function(){this.isDisposed||(this.isDisposed=!0,this.isRunning||(Un(),zg(this),kn()))},e.getDisposer_=function(i){var r=this,a=function u(){r.dispose(),i==null||i.removeEventListener==null||i.removeEventListener("abort",u)};return i==null||i.addEventListener==null||i.addEventListener("abort",a),a[we]=this,"dispose"in Symbol&&typeof Symbol.dispose=="symbol"&&(a[Symbol.dispose]=a),a},e.toString=function(){return"Reaction["+this.name_+"]"},e.trace=function(i){},Ea(t,[{key:"isDisposed",get:function(){return vn(this.flags_,t.isDisposedMask_)},set:function(i){this.flags_=yn(this.flags_,t.isDisposedMask_,i)}},{key:"isScheduled",get:function(){return vn(this.flags_,t.isScheduledMask_)},set:function(i){this.flags_=yn(this.flags_,t.isScheduledMask_,i)}},{key:"isTrackPending",get:function(){return vn(this.flags_,t.isTrackPendingMask_)},set:function(i){this.flags_=yn(this.flags_,t.isTrackPendingMask_,i)}},{key:"isRunning",get:function(){return vn(this.flags_,t.isRunningMask_)},set:function(i){this.flags_=yn(this.flags_,t.isRunningMask_,i)}},{key:"diffValue",get:function(){return vn(this.flags_,t.diffValueMask_)?1:0},set:function(i){this.flags_=yn(this.flags_,t.diffValueMask_,i===1)}}])})();ao.isDisposedMask_=1;ao.isScheduledMask_=2;ao.isTrackPendingMask_=4;ao.isRunningMask_=8;ao.diffValueMask_=16;var $L=100,qg=function(e){return e()};function ix(){ue.inBatch>0||ue.isRunningReactions||qg(VL)}function VL(){ue.isRunningReactions=!0;for(var t=ue.pendingReactions,e=0;t.length>0;){++e===$L&&(console.error("[mobx] cycle in reaction: "+t[0]),t.splice(0));for(var n=t.splice(0),i=0,r=n.length;i<r;i++)n[i].runReaction_()}ue.isRunningReactions=!1}var ud=ir("Reaction",ao);function zL(t){var e=qg;qg=function(i){return t(function(){return e(i)})}}function Yl(){return!1}function qL(t){return console.warn("[mobx.spy] Is a no-op in production builds"),function(){}}var ox="action",JL="action.bound",rx="autoAction",YL="autoAction.bound",sx="<unnamed action>",Jg=Eu(ox),KL=Eu(JL,{bound:!0}),Yg=Eu(rx,{autoAction:!0}),XL=Eu(YL,{autoAction:!0,bound:!0});function ax(t){var e=function(i,r){if(oi(i))return $r(i.name||sx,i,t);if(oi(r))return $r(i,r,t);if(Su(r))return(t?Yg:Jg).decorate_20223_(i,r);if(Hr(r))return _u(i,r,t?Yg:Jg);if(Hr(i))return wi(Eu(t?rx:ox,{name:i,autoAction:t}))};return e}var ia=ax(!1);Object.assign(ia,Jg);var eu=ax(!0);Object.assign(eu,Yg);ia.bound=wi(KL);eu.bound=wi(XL);function Je(t){return KA(t.name||sx,!1,t,this,void 0)}function pa(t){return oi(t)&&t.isMobxAction===!0}function WL(t,e){var n,i,r,a;e===void 0&&(e=IA);var u=(n=(i=e)==null?void 0:i.name)!=null?n:"Autorun",c=!e.scheduler&&!e.delay,p;if(c)p=new ao(u,function(){this.track(y)},e.onError,e.requiresObservable);else{var d=QL(e),m=!1;p=new ao(u,function(){m||(m=!0,d(function(){m=!1,p.isDisposed||p.track(y)}))},e.onError,e.requiresObservable)}function y(){t(p)}return(r=e)!=null&&(r=r.signal)!=null&&r.aborted||p.schedule_(),p.getDisposer_((a=e)==null?void 0:a.signal)}var jL=function(e){return e()};function QL(t){return t.scheduler?t.scheduler:t.delay?function(e){return setTimeout(e,t.delay)}:jL}var ZL="onBO",eU="onBUO";function tU(t,e,n){return ux(ZL,t,e,n)}function lx(t,e,n){return ux(eU,t,e,n)}function ux(t,e,n,i){var r=dd(e),a=oi(i)?i:n,u=t+"L";return r[u]?r[u].add(a):r[u]=new Set([a]),function(){var c=r[u];c&&(c.delete(a),c.size===0&&delete r[u])}}var nU="never",df="always",iU="observed";function oU(t){t.isolateGlobalState===!0&&BL();var e=t.useProxies,n=t.enforceActions;if(e!==void 0&&(ue.useProxies=e===df?!0:e===nU?!1:typeof Proxy<"u"),e==="ifavailable"&&(ue.verifyProxies=!0),n!==void 0){var i=n===df?df:n===iU;ue.enforceActions=i,ue.allowStateChanges=!(i===!0||i===df)}["computedRequiresReaction","reactionRequiresObservable","observableRequiresReaction","disableErrorBoundaries","safeDescriptors"].forEach(function(r){r in t&&(ue[r]=!!t[r])}),ue.allowStateReads=!ue.observableRequiresReaction,t.reactionScheduler&&zL(t.reactionScheduler)}function cx(t,e,n,i){var r=FP(e);return sr(function(){var a=Qr(t,i)[we];da(r).forEach(function(u){a.extend_(u,r[u],n&&u in n?n[u]:!0)})}),t}function rU(t,e){return fx(dd(t,e))}function fx(t){var e={name:t.name_};return t.observing_&&t.observing_.length>0&&(e.dependencies=sU(t.observing_).map(fx)),e}function sU(t){return Array.from(new Set(t))}var aU=0;function dx(){this.message="FLOW_CANCELLED"}dx.prototype=Object.create(Error.prototype);var qm=FA("flow"),lU=FA("flow.bound",{bound:!0}),ha=Object.assign(function(e,n){if(Su(n))return qm.decorate_20223_(e,n);if(Hr(n))return _u(e,n,qm);var i=e,r=i.name||"<unnamed flow>",a=function(){var c=this,p=arguments,d=++aU,m=ia(r+" - runid: "+d+" - init",i).apply(c,p),y,S=void 0,E=new Promise(function(C,T){var x=0;y=T;function M(D){S=void 0;var U;try{U=ia(r+" - runid: "+d+" - yield "+x++,m.next).call(m,D)}catch(k){return T(k)}N(U)}function I(D){S=void 0;var U;try{U=ia(r+" - runid: "+d+" - yield "+x++,m.throw).call(m,D)}catch(k){return T(k)}N(U)}function N(D){if(oi(D?.then)){D.then(N,T);return}return D.done?C(D.value):(S=Promise.resolve(D.value),S.then(M,I))}M(void 0)});return E.cancel=ia(r+" - runid: "+d+" - cancel",function(){try{S&&Ob(S);var C=m.return(void 0),T=Promise.resolve(C.value);T.then(ta,ta),Ob(T),y(new dx)}catch(x){y(x)}}),E};return a.isMobXFlow=!0,a},qm);ha.bound=wi(lU);function Ob(t){oi(t.cancel)&&t.cancel()}function tu(t){return t?.isMobXFlow===!0}function uU(t,e){return t?Au(t)||!!t[we]||Yv(t)||ud(t)||bu(t):!1}function Qv(t){return uU(t)}function cU(t){if(Au(t))return t[we].ownKeys_();ke(38)}function pf(t,e,n){return t.set(e,n),n}function Ws(t,e){if(t==null||typeof t!="object"||t instanceof Date||!Qv(t))return t;if(UL(t)||bu(t))return Ws(t.get(),e);if(e.has(t))return e.get(t);if(Tu(t)){var n=pf(e,t,new Array(t.length));return t.forEach(function(u,c){n[c]=Ws(u,e)}),n}if(Qn(t)){var i=pf(e,t,new Set);return t.forEach(function(u){i.add(Ws(u,e))}),i}if(rr(t)){var r=pf(e,t,new Map);return t.forEach(function(u,c){r.set(c,Ws(u,e))}),r}else{var a=pf(e,t,{});return cU(t).forEach(function(u){vu.propertyIsEnumerable.call(t,u)&&(a[u]=Ws(t[u],e))}),a}}function Vr(t,e){return Ws(t,new Map)}function to(t,e){e===void 0&&(e=void 0),Un();try{return t.apply(e)}finally{kn()}}function Gs(t){return t[we]}var fU={has:function(e,n){return Gs(e).has_(n)},get:function(e,n){return Gs(e).get_(n)},set:function(e,n,i){var r;return Hr(n)?(r=Gs(e).set_(n,i,!0))!=null?r:!0:!1},deleteProperty:function(e,n){var i;return Hr(n)?(i=Gs(e).delete_(n,!0))!=null?i:!0:!1},defineProperty:function(e,n,i){var r;return(r=Gs(e).defineProperty_(n,i))!=null?r:!0},ownKeys:function(e){return Gs(e).ownKeys_()},preventExtensions:function(e){ke(13)}};function dU(t,e){var n,i;return DA(),t=Qr(t,e),(i=(n=t[we]).proxy_)!=null?i:n.proxy_=new Proxy(t,fU)}function Pn(t){return t.interceptors_!==void 0&&t.interceptors_.length>0}function wu(t,e){var n=t.interceptors_||(t.interceptors_=[]);return n.push(e),OA(function(){var i=n.indexOf(e);i!==-1&&n.splice(i,1)})}function Ln(t,e){var n=jr();try{for(var i=[].concat(t.interceptors_||[]),r=0,a=i.length;r<a&&(e=i[r](e),e&&!e.type&&ke(14),!!e);r++);return e}finally{oo(n)}}function ei(t){return t.changeListeners_!==void 0&&t.changeListeners_.length>0}function Cu(t,e){var n=t.changeListeners_||(t.changeListeners_=[]);return n.push(e),OA(function(){var i=n.indexOf(e);i!==-1&&n.splice(i,1)})}function ti(t,e){var n=jr(),i=t.changeListeners_;if(i){i=i.slice();for(var r=0,a=i.length;r<a;r++)i[r](e);oo(n)}}function pU(t,e,n){return sr(function(){var i,r=Qr(t,n)[we];(i=e)!=null||(e=JP(t)),da(e).forEach(function(a){return r.make_(a,e[a])})}),t}var Jm=Symbol("mobx-keys");function po(t,e,n){return so(t)?cx(t,t,e,n):(sr(function(){var i=Qr(t,n)[we];if(!t[Jm]){var r=Object.getPrototypeOf(t),a=new Set([].concat(da(t),da(r)));a.delete("constructor"),a.delete(we),yu(r,Jm,a)}t[Jm].forEach(function(u){return i.make_(u,e&&u in e?e[u]:!0)})}),t)}var Pb="splice",Ci="update",hU=1e4,mU={get:function(e,n){var i=e[we];return n===we?i:n==="length"?i.getArrayLength_():typeof n=="string"&&!isNaN(n)?i.get_(parseInt(n)):io(cd,n)?cd[n]:e[n]},set:function(e,n,i){var r=e[we];return n==="length"&&r.setArrayLength_(i),typeof n=="symbol"||isNaN(n)?e[n]=i:r.set_(parseInt(n),i),!0},preventExtensions:function(){ke(15)}},Zv=(function(){function t(n,i,r,a){n===void 0&&(n="ObservableArray"),this.owned_=void 0,this.legacyMode_=void 0,this.atom_=void 0,this.values_=[],this.interceptors_=void 0,this.changeListeners_=void 0,this.enhancer_=void 0,this.dehancer=void 0,this.proxy_=void 0,this.lastKnownLength_=0,this.owned_=r,this.legacyMode_=a,this.atom_=new or(n),this.enhancer_=function(u,c){return i(u,c,"ObservableArray[..]")}}var e=t.prototype;return e.dehanceValue_=function(i){return this.dehancer!==void 0?this.dehancer(i):i},e.dehanceValues_=function(i){return this.dehancer!==void 0&&i.length>0?i.map(this.dehancer):i},e.intercept_=function(i){return wu(this,i)},e.observe_=function(i,r){return r===void 0&&(r=!1),r&&i({observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:"splice",index:0,added:this.values_.slice(),addedCount:this.values_.length,removed:[],removedCount:0}),Cu(this,i)},e.getArrayLength_=function(){return this.atom_.reportObserved(),this.values_.length},e.setArrayLength_=function(i){(typeof i!="number"||isNaN(i)||i<0)&&ke("Out of range: "+i);var r=this.values_.length;if(i!==r)if(i>r){for(var a=new Array(i-r),u=0;u<i-r;u++)a[u]=void 0;this.spliceWithArray_(r,0,a)}else this.spliceWithArray_(i,r-i)},e.updateArrayLength_=function(i,r){i!==this.lastKnownLength_&&ke(16),this.lastKnownLength_+=r,this.legacyMode_&&r>0&&_x(i+r+1)},e.spliceWithArray_=function(i,r,a){var u=this;this.atom_;var c=this.values_.length;if(i===void 0?i=0:i>c?i=c:i<0&&(i=Math.max(0,c+i)),arguments.length===1?r=c-i:r==null?r=0:r=Math.max(0,Math.min(r,c-i)),a===void 0&&(a=Hg),Pn(this)){var p=Ln(this,{object:this.proxy_,type:Pb,index:i,removedCount:r,added:a});if(!p)return Hg;r=p.removedCount,a=p.added}if(a=a.length===0?a:a.map(function(y){return u.enhancer_(y,void 0)}),this.legacyMode_){var d=a.length-r;this.updateArrayLength_(c,d)}var m=this.spliceItemsIntoValues_(i,r,a);return(r!==0||a.length!==0)&&this.notifyArraySplice_(i,a,m),this.dehanceValues_(m)},e.spliceItemsIntoValues_=function(i,r,a){if(a.length<hU){var u;return(u=this.values_).splice.apply(u,[i,r].concat(a))}else{var c=this.values_.slice(i,i+r),p=this.values_.slice(i+r);this.values_.length+=a.length-r;for(var d=0;d<a.length;d++)this.values_[i+d]=a[d];for(var m=0;m<p.length;m++)this.values_[i+a.length+m]=p[m];return c}},e.notifyArrayChildUpdate_=function(i,r,a){var u=!this.owned_&&Yl(),c=ei(this),p=c||u?{observableKind:"array",object:this.proxy_,type:Ci,debugObjectName:this.atom_.name_,index:i,newValue:r,oldValue:a}:null;this.atom_.reportChanged(),c&&ti(this,p)},e.notifyArraySplice_=function(i,r,a){var u=!this.owned_&&Yl(),c=ei(this),p=c||u?{observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:Pb,index:i,removed:a,added:r,removedCount:a.length,addedCount:r.length}:null;this.atom_.reportChanged(),c&&ti(this,p)},e.get_=function(i){if(this.legacyMode_&&i>=this.values_.length){console.warn("[mobx] Out of bounds read: "+i);return}return this.atom_.reportObserved(),this.dehanceValue_(this.values_[i])},e.set_=function(i,r){var a=this.values_;if(this.legacyMode_&&i>a.length&&ke(17,i,a.length),i<a.length){this.atom_;var u=a[i];if(Pn(this)){var c=Ln(this,{type:Ci,object:this.proxy_,index:i,newValue:r});if(!c)return;r=c.newValue}r=this.enhancer_(r,u);var p=r!==u;p&&(a[i]=r,this.notifyArrayChildUpdate_(i,r,u))}else{for(var d=new Array(i+1-a.length),m=0;m<d.length-1;m++)d[m]=void 0;d[d.length-1]=r,this.spliceWithArray_(a.length,0,d)}},t})();function gU(t,e,n,i){return n===void 0&&(n="ObservableArray"),i===void 0&&(i=!1),DA(),sr(function(){var r=new Zv(n,e,i,!1);LA(r.values_,we,r);var a=new Proxy(r.values_,mU);return r.proxy_=a,t&&t.length&&r.spliceWithArray_(0,0,t),a})}var cd={clear:function(){return this.splice(0)},replace:function(e){var n=this[we];return n.spliceWithArray_(0,n.values_.length,e)},toJSON:function(){return this.slice()},splice:function(e,n){for(var i=arguments.length,r=new Array(i>2?i-2:0),a=2;a<i;a++)r[a-2]=arguments[a];var u=this[we];switch(arguments.length){case 0:return[];case 1:return u.spliceWithArray_(e);case 2:return u.spliceWithArray_(e,n)}return u.spliceWithArray_(e,n,r)},spliceWithArray:function(e,n,i){return this[we].spliceWithArray_(e,n,i)},push:function(){for(var e=this[we],n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return e.spliceWithArray_(e.values_.length,0,i),e.values_.length},pop:function(){return this.splice(Math.max(this[we].values_.length-1,0),1)[0]},shift:function(){return this.splice(0,1)[0]},unshift:function(){for(var e=this[we],n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return e.spliceWithArray_(0,0,i),e.values_.length},reverse:function(){return ue.trackingDerivation&&ke(37,"reverse"),this.replace(this.slice().reverse()),this},sort:function(){ue.trackingDerivation&&ke(37,"sort");var e=this.slice();return e.sort.apply(e,arguments),this.replace(e),this},remove:function(e){var n=this[we],i=n.dehanceValues_(n.values_).indexOf(e);return i>-1?(this.splice(i,1),!0):!1}};tt("at",En);tt("concat",En);tt("flat",En);tt("includes",En);tt("indexOf",En);tt("join",En);tt("lastIndexOf",En);tt("slice",En);tt("toString",En);tt("toLocaleString",En);tt("toSorted",En);tt("toSpliced",En);tt("with",En);tt("every",li);tt("filter",li);tt("find",li);tt("findIndex",li);tt("findLast",li);tt("findLastIndex",li);tt("flatMap",li);tt("forEach",li);tt("map",li);tt("some",li);tt("toReversed",li);tt("reduce",px);tt("reduceRight",px);function tt(t,e){typeof Array.prototype[t]=="function"&&(cd[t]=e(t))}function En(t){return function(){var e=this[we];e.atom_.reportObserved();var n=e.dehanceValues_(e.values_);return n[t].apply(n,arguments)}}function li(t){return function(e,n){var i=this,r=this[we];r.atom_.reportObserved();var a=r.dehanceValues_(r.values_);return a[t](function(u,c){return e.call(n,u,c,i)})}}function px(t){return function(){var e=this,n=this[we];n.atom_.reportObserved();var i=n.dehanceValues_(n.values_),r=arguments[0];return arguments[0]=function(a,u,c){return r(a,u,c,e)},i[t].apply(i,arguments)}}var vU=ir("ObservableArrayAdministration",Zv);function Tu(t){return Hd(t)&&vU(t[we])}var yU={},Ko="add",fd="delete",hx=(function(){function t(n,i,r){var a=this;i===void 0&&(i=Fr),r===void 0&&(r="ObservableMap"),this.enhancer_=void 0,this.name_=void 0,this[we]=yU,this.data_=void 0,this.hasMap_=void 0,this.keysAtom_=void 0,this.interceptors_=void 0,this.changeListeners_=void 0,this.dehancer=void 0,this.enhancer_=i,this.name_=r,oi(Map)||ke(18),sr(function(){a.keysAtom_=HA("ObservableMap.keys()"),a.data_=new Map,a.hasMap_=new Map,n&&a.merge(n)})}var e=t.prototype;return e.has_=function(i){return this.data_.has(i)},e.has=function(i){var r=this;if(!ue.trackingDerivation)return this.has_(i);var a=this.hasMap_.get(i);if(!a){var u=a=new jo(this.has_(i),Gd,"ObservableMap.key?",!1);this.hasMap_.set(i,u),lx(u,function(){return r.hasMap_.delete(i)})}return a.get()},e.set=function(i,r){var a=this.has_(i);if(Pn(this)){var u=Ln(this,{type:a?Ci:Ko,object:this,newValue:r,name:i});if(!u)return this;r=u.newValue}return a?this.updateValue_(i,r):this.addValue_(i,r),this},e.delete=function(i){var r=this;if(this.keysAtom_,Pn(this)){var a=Ln(this,{type:fd,object:this,name:i});if(!a)return!1}if(this.has_(i)){var u=Yl(),c=ei(this),p=c||u?{observableKind:"map",debugObjectName:this.name_,type:fd,object:this,oldValue:this.data_.get(i).value_,name:i}:null;return to(function(){var d;r.keysAtom_.reportChanged(),(d=r.hasMap_.get(i))==null||d.setNewValue_(!1);var m=r.data_.get(i);m.setNewValue_(void 0),r.data_.delete(i)}),c&&ti(this,p),!0}return!1},e.updateValue_=function(i,r){var a=this.data_.get(i);if(r=a.prepareNewValue_(r),r!==ue.UNCHANGED){var u=Yl(),c=ei(this),p=c||u?{observableKind:"map",debugObjectName:this.name_,type:Ci,object:this,oldValue:a.value_,name:i,newValue:r}:null;a.setNewValue_(r),c&&ti(this,p)}},e.addValue_=function(i,r){var a=this;this.keysAtom_,to(function(){var d,m=new jo(r,a.enhancer_,"ObservableMap.key",!1);a.data_.set(i,m),r=m.value_,(d=a.hasMap_.get(i))==null||d.setNewValue_(!0),a.keysAtom_.reportChanged()});var u=Yl(),c=ei(this),p=c||u?{observableKind:"map",debugObjectName:this.name_,type:Ko,object:this,name:i,newValue:r}:null;c&&ti(this,p)},e.get=function(i){return this.has(i)?this.dehanceValue_(this.data_.get(i).get()):this.dehanceValue_(void 0)},e.dehanceValue_=function(i){return this.dehancer!==void 0?this.dehancer(i):i},e.keys=function(){return this.keysAtom_.reportObserved(),this.data_.keys()},e.values=function(){var i=this,r=this.keys();return Lb({next:function(){var u=r.next(),c=u.done,p=u.value;return{done:c,value:c?void 0:i.get(p)}}})},e.entries=function(){var i=this,r=this.keys();return Lb({next:function(){var u=r.next(),c=u.done,p=u.value;return{done:c,value:c?void 0:[p,i.get(p)]}}})},e[Symbol.iterator]=function(){return this.entries()},e.forEach=function(i,r){for(var a=na(this),u;!(u=a()).done;){var c=u.value,p=c[0],d=c[1];i.call(r,d,p,this)}},e.merge=function(i){var r=this;return rr(i)&&(i=new Map(i)),to(function(){so(i)?GP(i).forEach(function(a){return r.set(a,i[a])}):Array.isArray(i)?i.forEach(function(a){var u=a[0],c=a[1];return r.set(u,c)}):Sa(i)?(HP(i)||ke(19,i),i.forEach(function(a,u){return r.set(u,a)})):i!=null&&ke(20,i)}),this},e.clear=function(){var i=this;to(function(){WA(function(){for(var r=na(i.keys()),a;!(a=r()).done;){var u=a.value;i.delete(u)}})})},e.replace=function(i){var r=this;return to(function(){for(var a=_U(i),u=new Map,c=!1,p=na(r.data_.keys()),d;!(d=p()).done;){var m=d.value;if(!a.has(m)){var y=r.delete(m);if(y)c=!0;else{var S=r.data_.get(m);u.set(m,S)}}}for(var E=na(a.entries()),C;!(C=E()).done;){var T=C.value,x=T[0],M=T[1],I=r.data_.has(x);if(r.set(x,M),r.data_.has(x)){var N=r.data_.get(x);u.set(x,N),I||(c=!0)}}if(!c)if(r.data_.size!==u.size)r.keysAtom_.reportChanged();else for(var D=r.data_.keys(),U=u.keys(),k=D.next(),O=U.next();!k.done;){if(k.value!==O.value){r.keysAtom_.reportChanged();break}k=D.next(),O=U.next()}r.data_=u}),this},e.toString=function(){return"[object ObservableMap]"},e.toJSON=function(){return Array.from(this)},e.observe_=function(i,r){return Cu(this,i)},e.intercept_=function(i){return wu(this,i)},Ea(t,[{key:"size",get:function(){return this.keysAtom_.reportObserved(),this.data_.size}},{key:Symbol.toStringTag,get:function(){return"Map"}}])})(),rr=ir("ObservableMap",hx);function Lb(t){return t[Symbol.toStringTag]="MapIterator",ty(t)}function _U(t){if(Sa(t)||rr(t))return t;if(Array.isArray(t))return new Map(t);if(so(t)){var e=new Map;for(var n in t)e.set(n,t[n]);return e}else return ke(21,t)}var SU={},mx=(function(){function t(n,i,r){var a=this;i===void 0&&(i=Fr),r===void 0&&(r="ObservableSet"),this.name_=void 0,this[we]=SU,this.data_=new Set,this.atom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.dehancer=void 0,this.enhancer_=void 0,this.name_=r,oi(Set)||ke(22),this.enhancer_=function(u,c){return i(u,c,r)},sr(function(){a.atom_=HA(a.name_),n&&a.replace(n)})}var e=t.prototype;return e.dehanceValue_=function(i){return this.dehancer!==void 0?this.dehancer(i):i},e.clear=function(){var i=this;to(function(){WA(function(){for(var r=na(i.data_.values()),a;!(a=r()).done;){var u=a.value;i.delete(u)}})})},e.forEach=function(i,r){for(var a=na(this),u;!(u=a()).done;){var c=u.value;i.call(r,c,c,this)}},e.add=function(i){var r=this;if(this.atom_,Pn(this)){var a=Ln(this,{type:Ko,object:this,newValue:i});if(!a)return this;i=a.newValue}if(!this.has(i)){to(function(){r.data_.add(r.enhancer_(i,void 0)),r.atom_.reportChanged()});var u=!1,c=ei(this),p=c||u?{observableKind:"set",debugObjectName:this.name_,type:Ko,object:this,newValue:i}:null;c&&ti(this,p)}return this},e.delete=function(i){var r=this;if(Pn(this)){var a=Ln(this,{type:fd,object:this,oldValue:i});if(!a)return!1}if(this.has(i)){var u=!1,c=ei(this),p=c||u?{observableKind:"set",debugObjectName:this.name_,type:fd,object:this,oldValue:i}:null;return to(function(){r.atom_.reportChanged(),r.data_.delete(i)}),c&&ti(this,p),!0}return!1},e.has=function(i){return this.atom_.reportObserved(),this.data_.has(this.dehanceValue_(i))},e.entries=function(){var i=this.values();return Ub({next:function(){var a=i.next(),u=a.value,c=a.done;return c?{value:void 0,done:c}:{value:[u,u],done:c}}})},e.keys=function(){return this.values()},e.values=function(){this.atom_.reportObserved();var i=this,r=this.data_.values();return Ub({next:function(){var u=r.next(),c=u.value,p=u.done;return p?{value:void 0,done:p}:{value:i.dehanceValue_(c),done:p}}})},e.intersection=function(i){if(eo(i)&&!Qn(i))return i.intersection(this);var r=new Set(this);return r.intersection(i)},e.union=function(i){if(eo(i)&&!Qn(i))return i.union(this);var r=new Set(this);return r.union(i)},e.difference=function(i){return new Set(this).difference(i)},e.symmetricDifference=function(i){if(eo(i)&&!Qn(i))return i.symmetricDifference(this);var r=new Set(this);return r.symmetricDifference(i)},e.isSubsetOf=function(i){return new Set(this).isSubsetOf(i)},e.isSupersetOf=function(i){return new Set(this).isSupersetOf(i)},e.isDisjointFrom=function(i){if(eo(i)&&!Qn(i))return i.isDisjointFrom(this);var r=new Set(this);return r.isDisjointFrom(i)},e.replace=function(i){var r=this;return Qn(i)&&(i=new Set(i)),to(function(){Array.isArray(i)?(r.clear(),i.forEach(function(a){return r.add(a)})):eo(i)?(r.clear(),i.forEach(function(a){return r.add(a)})):i!=null&&ke("Cannot initialize set from "+i)}),this},e.observe_=function(i,r){return Cu(this,i)},e.intercept_=function(i){return wu(this,i)},e.toJSON=function(){return Array.from(this)},e.toString=function(){return"[object ObservableSet]"},e[Symbol.iterator]=function(){return this.values()},Ea(t,[{key:"size",get:function(){return this.atom_.reportObserved(),this.data_.size}},{key:Symbol.toStringTag,get:function(){return"Set"}}])})(),Qn=ir("ObservableSet",mx);function Ub(t){return t[Symbol.toStringTag]="SetIterator",ty(t)}var kb=Object.create(null),Bb="remove",gx=(function(){function t(n,i,r,a){i===void 0&&(i=new Map),a===void 0&&(a=gL),this.target_=void 0,this.values_=void 0,this.name_=void 0,this.defaultAnnotation_=void 0,this.keysAtom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.proxy_=void 0,this.isPlainObject_=void 0,this.appliedAnnotations_=void 0,this.pendingKeys_=void 0,this.target_=n,this.values_=i,this.name_=r,this.defaultAnnotation_=a,this.keysAtom_=new or("ObservableObject.keys"),this.isPlainObject_=so(this.target_)}var e=t.prototype;return e.getObservablePropValue_=function(i){return this.values_.get(i).get()},e.setObservablePropValue_=function(i,r){var a=this.values_.get(i);if(a instanceof ri)return a.set(r),!0;if(Pn(this)){var u=Ln(this,{type:Ci,object:this.proxy_||this.target_,name:i,newValue:r});if(!u)return null;r=u.newValue}if(r=a.prepareNewValue_(r),r!==ue.UNCHANGED){var c=ei(this),p=!1,d=c||p?{type:Ci,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,oldValue:a.value_,name:i,newValue:r}:null;a.setNewValue_(r),c&&ti(this,d)}return!0},e.get_=function(i){return ue.trackingDerivation&&!io(this.target_,i)&&this.has_(i),this.target_[i]},e.set_=function(i,r,a){return a===void 0&&(a=!1),io(this.target_,i)?this.values_.has(i)?this.setObservablePropValue_(i,r):a?Reflect.set(this.target_,i,r):(this.target_[i]=r,!0):this.extend_(i,{value:r,enumerable:!0,writable:!0,configurable:!0},this.defaultAnnotation_,a)},e.has_=function(i){if(!ue.trackingDerivation)return i in this.target_;this.pendingKeys_||(this.pendingKeys_=new Map);var r=this.pendingKeys_.get(i);return r||(r=new jo(i in this.target_,Gd,"ObservableObject.key?",!1),this.pendingKeys_.set(i,r)),r.get()},e.make_=function(i,r){if(r===!0&&(r=this.defaultAnnotation_),r!==!1){if(!(i in this.target_)){var a;if((a=this.target_[_i])!=null&&a[i])return;ke(1,r.annotationType_,this.name_+"."+i.toString())}for(var u=this.target_;u&&u!==vu;){var c=od(u,i);if(c){var p=r.make_(this,i,c,u);if(p===0)return;if(p===1)break}u=Object.getPrototypeOf(u)}Gb(this,r,i)}},e.extend_=function(i,r,a,u){if(u===void 0&&(u=!1),a===!0&&(a=this.defaultAnnotation_),a===!1)return this.defineProperty_(i,r,u);var c=a.extend_(this,i,r,u);return c&&Gb(this,a,i),c},e.defineProperty_=function(i,r,a){a===void 0&&(a=!1),this.keysAtom_;try{Un();var u=this.delete_(i);if(!u)return u;if(Pn(this)){var c=Ln(this,{object:this.proxy_||this.target_,name:i,type:Ko,newValue:r.value});if(!c)return null;var p=c.newValue;r.value!==p&&(r=Gr({},r,{value:p}))}if(a){if(!Reflect.defineProperty(this.target_,i,r))return!1}else bi(this.target_,i,r);this.notifyPropertyAddition_(i,r.value)}finally{kn()}return!0},e.defineObservableProperty_=function(i,r,a,u){u===void 0&&(u=!1),this.keysAtom_;try{Un();var c=this.delete_(i);if(!c)return c;if(Pn(this)){var p=Ln(this,{object:this.proxy_||this.target_,name:i,type:Ko,newValue:r});if(!p)return null;r=p.newValue}var d=Hb(i),m={configurable:ue.safeDescriptors?this.isPlainObject_:!0,enumerable:!0,get:d.get,set:d.set};if(u){if(!Reflect.defineProperty(this.target_,i,m))return!1}else bi(this.target_,i,m);var y=new jo(r,a,"ObservableObject.key",!1);this.values_.set(i,y),this.notifyPropertyAddition_(i,y.value_)}finally{kn()}return!0},e.defineComputedProperty_=function(i,r,a){a===void 0&&(a=!1),this.keysAtom_;try{Un();var u=this.delete_(i);if(!u)return u;if(Pn(this)){var c=Ln(this,{object:this.proxy_||this.target_,name:i,type:Ko,newValue:void 0});if(!c)return null}r.name||(r.name="ObservableObject.key"),r.context=this.proxy_||this.target_;var p=Hb(i),d={configurable:ue.safeDescriptors?this.isPlainObject_:!0,enumerable:!1,get:p.get,set:p.set};if(a){if(!Reflect.defineProperty(this.target_,i,d))return!1}else bi(this.target_,i,d);this.values_.set(i,new ri(r)),this.notifyPropertyAddition_(i,void 0)}finally{kn()}return!0},e.delete_=function(i,r){if(r===void 0&&(r=!1),this.keysAtom_,!io(this.target_,i))return!0;if(Pn(this)){var a=Ln(this,{object:this.proxy_||this.target_,name:i,type:Bb});if(!a)return null}try{var u;Un();var c=ei(this),p=!1,d=this.values_.get(i),m=void 0;if(!d&&(c||p)){var y;m=(y=od(this.target_,i))==null?void 0:y.value}if(r){if(!Reflect.deleteProperty(this.target_,i))return!1}else delete this.target_[i];if(d&&(this.values_.delete(i),d instanceof jo&&(m=d.value_),nx(d)),this.keysAtom_.reportChanged(),(u=this.pendingKeys_)==null||(u=u.get(i))==null||u.set(i in this.target_),c||p){var S={type:Bb,observableKind:"object",object:this.proxy_||this.target_,debugObjectName:this.name_,oldValue:m,name:i};c&&ti(this,S)}}finally{kn()}return!0},e.observe_=function(i,r){return Cu(this,i)},e.intercept_=function(i){return wu(this,i)},e.notifyPropertyAddition_=function(i,r){var a,u=ei(this),c=!1;if(u||c){var p=u||c?{type:Ko,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,name:i,newValue:r}:null;u&&ti(this,p)}(a=this.pendingKeys_)==null||(a=a.get(i))==null||a.set(!0),this.keysAtom_.reportChanged()},e.ownKeys_=function(){return this.keysAtom_.reportObserved(),da(this.target_)},e.keys_=function(){return this.keysAtom_.reportObserved(),Object.keys(this.target_)},t})();function Qr(t,e){var n;if(io(t,we))return t;var i=(n=e?.name)!=null?n:"ObservableObject",r=new gx(t,new Map,String(i),xL(e));return yu(t,we,r),t}var EU=ir("ObservableObjectAdministration",gx);function Hb(t){return kb[t]||(kb[t]={get:function(){return this[we].getObservablePropValue_(t)},set:function(n){return this[we].setObservablePropValue_(t,n)}})}function Au(t){return Hd(t)?EU(t[we]):!1}function Gb(t,e,n){var i;(i=t.target_[_i])==null||delete i[n]}var bU=yx(0),wU=(function(){var t=!1,e={};return Object.defineProperty(e,"0",{set:function(){t=!0}}),Object.create(e)[0]=1,t===!1})(),Ym=0,vx=function(){};function CU(t,e){Object.setPrototypeOf?Object.setPrototypeOf(t.prototype,e):t.prototype.__proto__!==void 0?t.prototype.__proto__=e:t.prototype=e}CU(vx,Array.prototype);var ey=(function(t){function e(i,r,a,u){var c;return a===void 0&&(a="ObservableArray"),u===void 0&&(u=!1),c=t.call(this)||this,sr(function(){var p=new Zv(a,r,u,!0);p.proxy_=c,LA(c,we,p),i&&i.length&&c.spliceWithArray(0,0,i),wU&&Object.defineProperty(c,"0",bU)}),c}BA(e,t);var n=e.prototype;return n.concat=function(){this[we].atom_.reportObserved();for(var r=arguments.length,a=new Array(r),u=0;u<r;u++)a[u]=arguments[u];return Array.prototype.concat.apply(this.slice(),a.map(function(c){return Tu(c)?c.slice():c}))},n[Symbol.iterator]=function(){var i=this,r=0;return ty({next:function(){return r<i.length?{value:i[r++],done:!1}:{done:!0,value:void 0}}})},Ea(e,[{key:"length",get:function(){return this[we].getArrayLength_()},set:function(r){this[we].setArrayLength_(r)}},{key:Symbol.toStringTag,get:function(){return"Array"}}])})(vx);Object.entries(cd).forEach(function(t){var e=t[0],n=t[1];e!=="concat"&&yu(ey.prototype,e,n)});function yx(t){return{enumerable:!1,configurable:!0,get:function(){return this[we].get_(t)},set:function(n){this[we].set_(t,n)}}}function TU(t){bi(ey.prototype,""+t,yx(t))}function _x(t){if(t>Ym){for(var e=Ym;e<t+100;e++)TU(e);Ym=t}}_x(1e3);function AU(t,e,n){return new ey(t,e,n)}function dd(t,e){if(typeof t=="object"&&t!==null){if(Tu(t))return e!==void 0&&ke(23),t[we].atom_;if(Qn(t))return t.atom_;if(rr(t)){if(e===void 0)return t.keysAtom_;var n=t.data_.get(e)||t.hasMap_.get(e);return n||ke(25,e,Kg(t)),n}if(Au(t)){if(!e)return ke(26);var i=t[we].values_.get(e);return i||ke(27,e,Kg(t)),i}if(Yv(t)||bu(t)||ud(t))return t}else if(oi(t)&&ud(t[we]))return t[we];ke(28)}function xU(t,e){if(t||ke(29),Yv(t)||bu(t)||ud(t)||rr(t)||Qn(t))return t;if(t[we])return t[we];ke(24,t)}function Kg(t,e){var n;if(e!==void 0)n=dd(t,e);else{if(pa(t))return t.name;Au(t)||rr(t)||Qn(t)?n=xU(t):n=dd(t)}return n.name_}function sr(t){var e=jr(),n=Xv(!0);Un();try{return t()}finally{kn(),Wv(n),oo(e)}}var Fb=vu.toString;function Sx(t,e,n){return n===void 0&&(n=-1),Xg(t,e,n)}function Xg(t,e,n,i,r){if(t===e)return t!==0||1/t===1/e;if(t==null||e==null)return!1;if(t!==t)return e!==e;var a=typeof t;if(a!=="function"&&a!=="object"&&typeof e!="object")return!1;var u=Fb.call(t);if(u!==Fb.call(e))return!1;switch(u){case"[object RegExp]":case"[object String]":return""+t==""+e;case"[object Number]":return+t!=+t?+e!=+e:+t==0?1/+t===1/e:+t==+e;case"[object Date]":case"[object Boolean]":return+t==+e;case"[object Symbol]":return typeof Symbol<"u"&&Symbol.valueOf.call(t)===Symbol.valueOf.call(e);case"[object Map]":case"[object Set]":n>=0&&n++;break}t=$b(t),e=$b(e);var c=u==="[object Array]";if(!c){if(typeof t!="object"||typeof e!="object")return!1;var p=t.constructor,d=e.constructor;if(p!==d&&!(oi(p)&&p instanceof p&&oi(d)&&d instanceof d)&&"constructor"in t&&"constructor"in e)return!1}if(n===0)return!1;n<0&&(n=-1),i=i||[],r=r||[];for(var m=i.length;m--;)if(i[m]===t)return r[m]===e;if(i.push(t),r.push(e),c){if(m=t.length,m!==e.length)return!1;for(;m--;)if(!Xg(t[m],e[m],n-1,i,r))return!1}else{var y=Object.keys(t),S=y.length;if(Object.keys(e).length!==S)return!1;for(var E=0;E<S;E++){var C=y[E];if(!(io(e,C)&&Xg(t[C],e[C],n-1,i,r)))return!1}}return i.pop(),r.pop(),!0}function $b(t){return Tu(t)?t.slice():Sa(t)||rr(t)||eo(t)||Qn(t)?Array.from(t.entries()):t}var Vb,RU=((Vb=Bd().Iterator)==null?void 0:Vb.prototype)||{};function ty(t){return t[Symbol.iterator]=MU,Object.assign(Object.create(RU),t)}function MU(){return this}["Symbol","Map","Set"].forEach(function(t){var e=Bd();typeof e[t]>"u"&&ke("MobX requires global '"+t+"' to be available or polyfilled")});typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__=="object"&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:qL,extras:{getDebugName:Kg},$mobx:we});if(!w.useState)throw new Error("mobx-react-lite requires React with Hooks support");if(!pU)throw new Error("mobx-react-lite@3 requires mobx at least version 6 to be available");var Vd=MA();const Or=gu(Vd);function NU(t){t()}function IU(t){t||(t=NU),oU({reactionScheduler:t})}function DU(t){return rU(t)}var OU=1e4,PU=1e4,LU=(function(){function t(e){var n=this;Object.defineProperty(this,"finalize",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"registrations",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),Object.defineProperty(this,"sweepTimeout",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sweep",{enumerable:!0,configurable:!0,writable:!0,value:function(i){i===void 0&&(i=OU),clearTimeout(n.sweepTimeout),n.sweepTimeout=void 0;var r=Date.now();n.registrations.forEach(function(a,u){r-a.registeredAt>=i&&(n.finalize(a.value),n.registrations.delete(u))}),n.registrations.size>0&&n.scheduleSweep()}}),Object.defineProperty(this,"finalizeAllImmediately",{enumerable:!0,configurable:!0,writable:!0,value:function(){n.sweep(0)}})}return Object.defineProperty(t.prototype,"register",{enumerable:!1,configurable:!0,writable:!0,value:function(e,n,i){this.registrations.set(i,{value:n,registeredAt:Date.now()}),this.scheduleSweep()}}),Object.defineProperty(t.prototype,"unregister",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this.registrations.delete(e)}}),Object.defineProperty(t.prototype,"scheduleSweep",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.sweepTimeout===void 0&&(this.sweepTimeout=setTimeout(this.sweep,PU))}}),t})(),UU=typeof FinalizationRegistry<"u"?FinalizationRegistry:LU,Wg=new UU(function(t){var e;(e=t.reaction)===null||e===void 0||e.dispose(),t.reaction=null}),Km={exports:{}},Xm={};var zb;function kU(){if(zb)return Xm;zb=1;var t=kd();function e(y,S){return y===S&&(y!==0||1/y===1/S)||y!==y&&S!==S}var n=typeof Object.is=="function"?Object.is:e,i=t.useState,r=t.useEffect,a=t.useLayoutEffect,u=t.useDebugValue;function c(y,S){var E=S(),C=i({inst:{value:E,getSnapshot:S}}),T=C[0].inst,x=C[1];return a(function(){T.value=E,T.getSnapshot=S,p(T)&&x({inst:T})},[y,E,S]),r(function(){return p(T)&&x({inst:T}),y(function(){p(T)&&x({inst:T})})},[y]),u(E),E}function p(y){var S=y.getSnapshot;y=y.value;try{var E=S();return!n(y,E)}catch{return!0}}function d(y,S){return S()}var m=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?d:c;return Xm.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:m,Xm}var qb;function BU(){return qb||(qb=1,Km.exports=kU()),Km.exports}var HU=BU();function Jb(t){t.reaction=new ao("observer".concat(t.name),function(){var e;t.stateVersion=Symbol(),(e=t.onStoreChange)===null||e===void 0||e.call(t)})}function GU(t,e){e===void 0&&(e="observed");var n=et.useRef(null);if(!n.current){var i={reaction:null,onStoreChange:null,stateVersion:Symbol(),name:e,subscribe:function(c){return Wg.unregister(i),i.onStoreChange=c,i.reaction||(Jb(i),i.stateVersion=Symbol()),function(){var p;i.onStoreChange=null,(p=i.reaction)===null||p===void 0||p.dispose(),i.reaction=null}},getSnapshot:function(){return i.stateVersion}};n.current=i}var r=n.current;r.reaction||(Jb(r),Wg.register(n,r,r)),et.useDebugValue(r.reaction,DU),HU.useSyncExternalStore(r.subscribe,r.getSnapshot,r.getSnapshot);var a,u;if(r.reaction.track(function(){try{a=t()}catch(c){u=c}}),u)throw u;return a}var Wm,jm,Ex=typeof Symbol=="function"&&Symbol.for,FU=(jm=(Wm=Object.getOwnPropertyDescriptor(function(){},"name"))===null||Wm===void 0?void 0:Wm.configurable)!==null&&jm!==void 0?jm:!1,Yb=Ex?Symbol.for("react.forward_ref"):typeof w.forwardRef=="function"&&w.forwardRef(function(t){return null}).$$typeof,Kb=Ex?Symbol.for("react.memo"):typeof w.memo=="function"&&w.memo(function(t){return null}).$$typeof;function Dt(t,e){var n;if(Kb&&t.$$typeof===Kb)throw new Error("[mobx-react-lite] You are trying to use `observer` on a function component wrapped in either another `observer` or `React.memo`. The observer already applies 'React.memo' for you.");var i=(n=void 0)!==null&&n!==void 0?n:!1,r=t,a=t.displayName||t.name;if(Yb&&t.$$typeof===Yb&&(i=!0,r=t.render,typeof r!="function"))throw new Error("[mobx-react-lite] `render` property of ForwardRef was not a function");var u=function(c,p){return GU(function(){return r(c,p)},a)};return u.displayName=t.displayName,FU&&Object.defineProperty(u,"name",{value:t.name,writable:!0,configurable:!0}),t.contextTypes&&(u.contextTypes=t.contextTypes),i&&(u=w.forwardRef(u)),u=w.memo(u),VU(t,u),u}var $U={$$typeof:!0,render:!0,compare:!0,type:!0,displayName:!0};function VU(t,e){Object.keys(t).forEach(function(n){$U[n]||Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}var Qm;IU(Vd.unstable_batchedUpdates);Qm=Wg.finalizeAllImmediately;var Zm={exports:{}};var Xb;function zU(){return Xb||(Xb=1,(function(t){(function(){var e={}.hasOwnProperty;function n(){for(var a="",u=0;u<arguments.length;u++){var c=arguments[u];c&&(a=r(a,i(c)))}return a}function i(a){if(typeof a=="string"||typeof a=="number")return a;if(typeof a!="object")return"";if(Array.isArray(a))return n.apply(null,a);if(a.toString!==Object.prototype.toString&&!a.toString.toString().includes("[native code]"))return a.toString();var u="";for(var c in a)e.call(a,c)&&a[c]&&(u=r(u,c));return u}function r(a,u){return u?a?a+" "+u:a+u:a}t.exports?(n.default=n,t.exports=n):window.classNames=n})()})(Zm)),Zm.exports}var qU=zU();const Me=gu(qU);function jg(){return jg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},jg.apply(null,arguments)}function bx(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)!==-1)continue;n[i]=t[i]}return n}function Wb(t){return"default"+t.charAt(0).toUpperCase()+t.substr(1)}function JU(t){var e=YU(t,"string");return typeof e=="symbol"?e:String(e)}function YU(t,e){if(typeof t!="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function KU(t,e,n){var i=w.useRef(t!==void 0),r=w.useState(e),a=r[0],u=r[1],c=t!==void 0,p=i.current;return i.current=c,!c&&p&&a!==e&&u(e),[c?t:a,w.useCallback(function(d){for(var m=arguments.length,y=new Array(m>1?m-1:0),S=1;S<m;S++)y[S-1]=arguments[S];n&&n.apply(void 0,[d].concat(y)),u(d)},[n])]}function ny(t,e){return Object.keys(e).reduce(function(n,i){var r,a=n,u=a[Wb(i)],c=a[i],p=bx(a,[Wb(i),i].map(JU)),d=e[i],m=KU(c,u,t[d]),y=m[0],S=m[1];return jg({},p,(r={},r[i]=y,r[d]=S,r))},t)}function Qg(t,e){return Qg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Qg(t,e)}function XU(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,Qg(t,e)}const WU=["xxl","xl","lg","md","sm","xs"],jU="xs",xu=w.createContext({prefixes:{},breakpoints:WU,minBreakpoint:jU}),{Consumer:lK,Provider:uK}=xu;function Ue(t,e){const{prefixes:n}=w.useContext(xu);return t||n[e]||e}function wx(){const{breakpoints:t}=w.useContext(xu);return t}function Cx(){const{minBreakpoint:t}=w.useContext(xu);return t}function QU(){const{dir:t}=w.useContext(xu);return t==="rtl"}function zd(t){return t&&t.ownerDocument||document}function ZU(t){var e=zd(t);return e&&e.defaultView||window}function ek(t,e){return ZU(t).getComputedStyle(t,e)}var tk=/([A-Z])/g;function nk(t){return t.replace(tk,"-$1").toLowerCase()}var ik=/^ms-/;function hf(t){return nk(t).replace(ik,"-ms-")}var ok=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function rk(t){return!!(t&&ok.test(t))}function ro(t,e){var n="",i="";if(typeof e=="string")return t.style.getPropertyValue(hf(e))||ek(t).getPropertyValue(hf(e));Object.keys(e).forEach(function(r){var a=e[r];!a&&a!==0?t.style.removeProperty(hf(r)):rk(r)?i+=r+"("+a+") ":n+=hf(r)+": "+a+";"}),i&&(n+="transform: "+i+";"),t.style.cssText+=";"+n}var eg={exports:{}},tg,jb;function sk(){if(jb)return tg;jb=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return tg=t,tg}var ng,Qb;function ak(){if(Qb)return ng;Qb=1;var t=sk();function e(){}function n(){}return n.resetWarningCache=e,ng=function(){function i(u,c,p,d,m,y){if(y!==t){var S=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw S.name="Invariant Violation",S}}i.isRequired=i;function r(){return i}var a={array:i,bigint:i,bool:i,func:i,number:i,object:i,string:i,symbol:i,any:i,arrayOf:r,element:i,elementType:i,instanceOf:r,node:i,objectOf:r,oneOf:r,oneOfType:r,shape:r,exact:r,checkPropTypes:n,resetWarningCache:e};return a.PropTypes=a,a},ng}var Zb;function lk(){return Zb||(Zb=1,eg.exports=ak()()),eg.exports}var uk=lk();const ig=gu(uk),ew={disabled:!1},Tx=et.createContext(null);var ck=function(e){return e.scrollTop},Ol="unmounted",Yo="exited",jn="entering",no="entered",nu="exiting",ho=(function(t){XU(e,t);function e(i,r){var a;a=t.call(this,i,r)||this;var u=r,c=u&&!u.isMounting?i.enter:i.appear,p;return a.appearStatus=null,i.in?c?(p=Yo,a.appearStatus=jn):p=no:i.unmountOnExit||i.mountOnEnter?p=Ol:p=Yo,a.state={status:p},a.nextCallback=null,a}e.getDerivedStateFromProps=function(r,a){var u=r.in;return u&&a.status===Ol?{status:Yo}:null};var n=e.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(r){var a=null;if(r!==this.props){var u=this.state.status;this.props.in?u!==jn&&u!==no&&(a=jn):(u===jn||u===no)&&(a=nu)}this.updateStatus(!1,a)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var r=this.props.timeout,a,u,c;return a=u=c=r,r!=null&&typeof r!="number"&&(a=r.exit,u=r.enter,c=r.appear!==void 0?r.appear:u),{exit:a,enter:u,appear:c}},n.updateStatus=function(r,a){if(r===void 0&&(r=!1),a!==null)if(this.cancelNextCallback(),a===jn){if(this.props.unmountOnExit||this.props.mountOnEnter){var u=this.props.nodeRef?this.props.nodeRef.current:Or.findDOMNode(this);u&&ck(u)}this.performEnter(r)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Yo&&this.setState({status:Ol})},n.performEnter=function(r){var a=this,u=this.props.enter,c=this.context?this.context.isMounting:r,p=this.props.nodeRef?[c]:[Or.findDOMNode(this),c],d=p[0],m=p[1],y=this.getTimeouts(),S=c?y.appear:y.enter;if(!r&&!u||ew.disabled){this.safeSetState({status:no},function(){a.props.onEntered(d)});return}this.props.onEnter(d,m),this.safeSetState({status:jn},function(){a.props.onEntering(d,m),a.onTransitionEnd(S,function(){a.safeSetState({status:no},function(){a.props.onEntered(d,m)})})})},n.performExit=function(){var r=this,a=this.props.exit,u=this.getTimeouts(),c=this.props.nodeRef?void 0:Or.findDOMNode(this);if(!a||ew.disabled){this.safeSetState({status:Yo},function(){r.props.onExited(c)});return}this.props.onExit(c),this.safeSetState({status:nu},function(){r.props.onExiting(c),r.onTransitionEnd(u.exit,function(){r.safeSetState({status:Yo},function(){r.props.onExited(c)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(r,a){a=this.setNextCallback(a),this.setState(r,a)},n.setNextCallback=function(r){var a=this,u=!0;return this.nextCallback=function(c){u&&(u=!1,a.nextCallback=null,r(c))},this.nextCallback.cancel=function(){u=!1},this.nextCallback},n.onTransitionEnd=function(r,a){this.setNextCallback(a);var u=this.props.nodeRef?this.props.nodeRef.current:Or.findDOMNode(this),c=r==null&&!this.props.addEndListener;if(!u||c){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var p=this.props.nodeRef?[this.nextCallback]:[u,this.nextCallback],d=p[0],m=p[1];this.props.addEndListener(d,m)}r!=null&&setTimeout(this.nextCallback,r)},n.render=function(){var r=this.state.status;if(r===Ol)return null;var a=this.props,u=a.children;a.in,a.mountOnEnter,a.unmountOnExit,a.appear,a.enter,a.exit,a.timeout,a.addEndListener,a.onEnter,a.onEntering,a.onEntered,a.onExit,a.onExiting,a.onExited,a.nodeRef;var c=bx(a,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return et.createElement(Tx.Provider,{value:null},typeof u=="function"?u(r,c):et.cloneElement(et.Children.only(u),c))},e})(et.Component);ho.contextType=Tx;ho.propTypes={};function Fs(){}ho.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Fs,onEntering:Fs,onEntered:Fs,onExit:Fs,onExiting:Fs,onExited:Fs};ho.UNMOUNTED=Ol;ho.EXITED=Yo;ho.ENTERING=jn;ho.ENTERED=no;ho.EXITING=nu;function fk(t){return t.code==="Escape"||t.keyCode===27}function dk(){const t=w.version.split(".");return{major:+t[0],minor:+t[1],patch:+t[2]}}function ba(t){if(!t||typeof t=="function")return null;const{major:e}=dk();return e>=19?t.props.ref:t.ref}const qd=!!(typeof window<"u"&&window.document&&window.document.createElement);var Zg=!1,ev=!1;try{var og={get passive(){return Zg=!0},get once(){return ev=Zg=!0}};qd&&(window.addEventListener("test",og,og),window.removeEventListener("test",og,!0))}catch{}function Ax(t,e,n,i){if(i&&typeof i!="boolean"&&!ev){var r=i.once,a=i.capture,u=n;!ev&&r&&(u=n.__once||function c(p){this.removeEventListener(e,c,a),n.call(this,p)},n.__once=u),t.addEventListener(e,u,Zg?i:a)}t.addEventListener(e,n,i)}function pk(t,e,n,i){var r=i&&typeof i!="boolean"?i.capture:i;t.removeEventListener(e,n,r),n.__once&&t.removeEventListener(e,n.__once,r)}function Xo(t,e,n,i){return Ax(t,e,n,i),function(){pk(t,e,n,i)}}function hk(t,e,n,i){if(i===void 0&&(i=!0),t){var r=document.createEvent("HTMLEvents");r.initEvent(e,n,i),t.dispatchEvent(r)}}function mk(t){var e=ro(t,"transitionDuration")||"",n=e.indexOf("ms")===-1?1e3:1;return parseFloat(e)*n}function gk(t,e,n){n===void 0&&(n=5);var i=!1,r=setTimeout(function(){i||hk(t,"transitionend",!0)},e+n),a=Xo(t,"transitionend",function(){i=!0},{once:!0});return function(){clearTimeout(r),a()}}function vk(t,e,n,i){n==null&&(n=mk(t)||0);var r=gk(t,n,i),a=Xo(t,"transitionend",e);return function(){r(),a()}}function tw(t,e){const n=ro(t,e)||"",i=n.indexOf("ms")===-1?1e3:1;return parseFloat(n)*i}function iy(t,e){const n=tw(t,"transitionDuration"),i=tw(t,"transitionDelay"),r=vk(t,a=>{a.target===t&&(r(),e(a))},n+i)}function Ml(...t){return t.filter(e=>e!=null).reduce((e,n)=>{if(typeof n!="function")throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return e===null?n:function(...r){e.apply(this,r),n.apply(this,r)}},null)}function xx(t){t.offsetHeight}const nw=t=>!t||typeof t=="function"?t:e=>{t.current=e};function yk(t,e){const n=nw(t),i=nw(e);return r=>{n&&n(r),i&&i(r)}}function oy(t,e){return w.useMemo(()=>yk(t,e),[t,e])}function _k(t){return t&&"setState"in t?Or.findDOMNode(t):t??null}const Jd=et.forwardRef(({onEnter:t,onEntering:e,onEntered:n,onExit:i,onExiting:r,onExited:a,addEndListener:u,children:c,childRef:p,...d},m)=>{const y=w.useRef(null),S=oy(y,p),E=k=>{S(_k(k))},C=k=>O=>{k&&y.current&&k(y.current,O)},T=w.useCallback(C(t),[t]),x=w.useCallback(C(e),[e]),M=w.useCallback(C(n),[n]),I=w.useCallback(C(i),[i]),N=w.useCallback(C(r),[r]),D=w.useCallback(C(a),[a]),U=w.useCallback(C(u),[u]);return A.jsx(ho,{ref:m,...d,onEnter:T,onEntered:M,onEntering:x,onExit:I,onExited:D,onExiting:N,addEndListener:U,nodeRef:y,children:typeof c=="function"?(k,O)=>c(k,{...O,ref:E}):et.cloneElement(c,{ref:E})})});Jd.displayName="TransitionWrapper";const Sk={height:["marginTop","marginBottom"],width:["marginLeft","marginRight"]};function Ek(t,e){const n=`offset${t[0].toUpperCase()}${t.slice(1)}`,i=e[n],r=Sk[t];return i+parseInt(ro(e,r[0]),10)+parseInt(ro(e,r[1]),10)}const bk={[Yo]:"collapse",[nu]:"collapsing",[jn]:"collapsing",[no]:"collapse show"},Rx=et.forwardRef(({onEnter:t,onEntering:e,onEntered:n,onExit:i,onExiting:r,className:a,children:u,dimension:c="height",in:p=!1,timeout:d=300,mountOnEnter:m=!1,unmountOnExit:y=!1,appear:S=!1,getDimensionValue:E=Ek,...C},T)=>{const x=typeof c=="function"?c():c,M=w.useMemo(()=>Ml(k=>{k.style[x]="0"},t),[x,t]),I=w.useMemo(()=>Ml(k=>{const O=`scroll${x[0].toUpperCase()}${x.slice(1)}`;k.style[x]=`${k[O]}px`},e),[x,e]),N=w.useMemo(()=>Ml(k=>{k.style[x]=null},n),[x,n]),D=w.useMemo(()=>Ml(k=>{k.style[x]=`${E(x,k)}px`,xx(k)},i),[i,E,x]),U=w.useMemo(()=>Ml(k=>{k.style[x]=null},r),[x,r]);return A.jsx(Jd,{ref:T,addEndListener:iy,...C,"aria-expanded":C.role?p:null,onEnter:M,onEntering:I,onEntered:N,onExit:D,onExiting:U,childRef:ba(u),in:p,timeout:d,mountOnEnter:m,unmountOnExit:y,appear:S,children:(k,O)=>et.cloneElement(u,{...O,className:Me(a,u.props.className,bk[k],x==="width"&&"collapse-horizontal")})})});Rx.displayName="Collapse";function wk(t){const e=w.useRef(t);return w.useEffect(()=>{e.current=t},[t]),e}function Ru(t){const e=wk(t);return w.useCallback(function(...n){return e.current&&e.current(...n)},[e])}const ry=(t=>w.forwardRef((e,n)=>A.jsx("div",{...e,ref:n,className:Me(e.className,t)})));function Ck(){return w.useState(null)}function Tk(t){const e=w.useRef(t);return w.useEffect(()=>{e.current=t},[t]),e}function Pt(t){const e=Tk(t);return w.useCallback(function(...n){return e.current&&e.current(...n)},[e])}function Ak(t,e,n,i=!1){const r=Pt(n);w.useEffect(()=>{const a=typeof t=="function"?t():t;return a.addEventListener(e,r,i),()=>a.removeEventListener(e,r,i)},[t])}function Mx(){const t=w.useRef(!0),e=w.useRef(()=>t.current);return w.useEffect(()=>(t.current=!0,()=>{t.current=!1}),[]),e.current}function Nx(t){const e=w.useRef(null);return w.useEffect(()=>{e.current=t}),e.current}const xk=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",Rk=typeof document<"u",iw=Rk||xk?w.useLayoutEffect:w.useEffect,Mk=["as","disabled"];function Nk(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)>=0)continue;n[i]=t[i]}return n}function Ik(t){return!t||t.trim()==="#"}function sy({tagName:t,disabled:e,href:n,target:i,rel:r,role:a,onClick:u,tabIndex:c=0,type:p}){t||(n!=null||i!=null||r!=null?t="a":t="button");const d={tagName:t};if(t==="button")return[{type:p||"button",disabled:e},d];const m=S=>{if((e||t==="a"&&Ik(n))&&S.preventDefault(),e){S.stopPropagation();return}u?.(S)},y=S=>{S.key===" "&&(S.preventDefault(),m(S))};return t==="a"&&(n||(n="#"),e&&(n=void 0)),[{role:a??"button",disabled:void 0,tabIndex:e?void 0:c,href:n,target:t==="a"?i:void 0,"aria-disabled":e||void 0,rel:t==="a"?r:void 0,onClick:m,onKeyDown:y},d]}const ay=w.forwardRef((t,e)=>{let{as:n,disabled:i}=t,r=Nk(t,Mk);const[a,{tagName:u}]=sy(Object.assign({tagName:n,disabled:i},r));return A.jsx(u,Object.assign({},r,a,{ref:e}))});ay.displayName="Button";const Dk=["onKeyDown"];function Ok(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)>=0)continue;n[i]=t[i]}return n}function Pk(t){return!t||t.trim()==="#"}const ly=w.forwardRef((t,e)=>{let{onKeyDown:n}=t,i=Ok(t,Dk);const[r]=sy(Object.assign({tagName:"a"},i)),a=Pt(u=>{r.onKeyDown(u),n?.(u)});return Pk(i.href)||i.role==="button"?A.jsx("a",Object.assign({ref:e},i,r,{onKeyDown:a})):A.jsx("a",Object.assign({ref:e},i,{onKeyDown:n}))});ly.displayName="Anchor";const Lk={[jn]:"show",[no]:"show"},Ix=w.forwardRef(({className:t,children:e,transitionClasses:n={},onEnter:i,...r},a)=>{const u={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,...r},c=w.useCallback((p,d)=>{xx(p),i?.(p,d)},[i]);return A.jsx(Jd,{ref:a,addEndListener:iy,...u,onEnter:c,childRef:ba(e),children:(p,d)=>w.cloneElement(e,{...d,className:Me("fade",t,e.props.className,Lk[p],n[p])})})});Ix.displayName="Fade";const Uk={"aria-label":ig.string,onClick:ig.func,variant:ig.oneOf(["white"])},uy=w.forwardRef(({className:t,variant:e,"aria-label":n="Close",...i},r)=>A.jsx("button",{ref:r,type:"button",className:Me("btn-close",e&&`btn-close-${e}`,t),"aria-label":n,...i}));uy.displayName="CloseButton";uy.propTypes=Uk;const Dx=w.forwardRef(({as:t,bsPrefix:e,variant:n="primary",size:i,active:r=!1,disabled:a=!1,className:u,...c},p)=>{const d=Ue(e,"btn"),[m,{tagName:y}]=sy({tagName:t,disabled:a,...c}),S=y;return A.jsx(S,{...m,...c,ref:p,disabled:a,className:Me(u,d,r&&"active",n&&`${d}-${n}`,i&&`${d}-${i}`,c.href&&a&&"disabled")})});Dx.displayName="Button";const cy=w.forwardRef(({className:t,bsPrefix:e,as:n="div",...i},r)=>(e=Ue(e,"card-body"),A.jsx(n,{ref:r,className:Me(t,e),...i})));cy.displayName="CardBody";const Ox=w.forwardRef(({className:t,bsPrefix:e,as:n="div",...i},r)=>(e=Ue(e,"card-footer"),A.jsx(n,{ref:r,className:Me(t,e),...i})));Ox.displayName="CardFooter";const fy=w.createContext(null);fy.displayName="CardHeaderContext";const Px=w.forwardRef(({bsPrefix:t,className:e,as:n="div",...i},r)=>{const a=Ue(t,"card-header"),u=w.useMemo(()=>({cardHeaderBsPrefix:a}),[a]);return A.jsx(fy.Provider,{value:u,children:A.jsx(n,{ref:r,...i,className:Me(e,a)})})});Px.displayName="CardHeader";const Lx=w.forwardRef(({bsPrefix:t,className:e,variant:n,as:i="img",...r},a)=>{const u=Ue(t,"card-img");return A.jsx(i,{ref:a,className:Me(n?`${u}-${n}`:u,e),...r})});Lx.displayName="CardImg";const Ux=w.forwardRef(({className:t,bsPrefix:e,as:n="div",...i},r)=>(e=Ue(e,"card-img-overlay"),A.jsx(n,{ref:r,className:Me(t,e),...i})));Ux.displayName="CardImgOverlay";const kx=w.forwardRef(({className:t,bsPrefix:e,as:n="a",...i},r)=>(e=Ue(e,"card-link"),A.jsx(n,{ref:r,className:Me(t,e),...i})));kx.displayName="CardLink";const kk=ry("h6"),Bx=w.forwardRef(({className:t,bsPrefix:e,as:n=kk,...i},r)=>(e=Ue(e,"card-subtitle"),A.jsx(n,{ref:r,className:Me(t,e),...i})));Bx.displayName="CardSubtitle";const Hx=w.forwardRef(({className:t,bsPrefix:e,as:n="p",...i},r)=>(e=Ue(e,"card-text"),A.jsx(n,{ref:r,className:Me(t,e),...i})));Hx.displayName="CardText";const Bk=ry("h5"),Gx=w.forwardRef(({className:t,bsPrefix:e,as:n=Bk,...i},r)=>(e=Ue(e,"card-title"),A.jsx(n,{ref:r,className:Me(t,e),...i})));Gx.displayName="CardTitle";const Fx=w.forwardRef(({bsPrefix:t,className:e,bg:n,text:i,border:r,body:a=!1,children:u,as:c="div",...p},d)=>{const m=Ue(t,"card");return A.jsx(c,{ref:d,...p,className:Me(e,m,n&&`bg-${n}`,i&&`text-${i}`,r&&`border-${r}`),children:a?A.jsx(cy,{children:u}):u})});Fx.displayName="Card";const mf=Object.assign(Fx,{Img:Lx,Title:Gx,Subtitle:Bx,Body:cy,Link:kx,Text:Hx,Header:Px,Footer:Ox,ImgOverlay:Ux});function Hk({as:t,bsPrefix:e,className:n,...i}){e=Ue(e,"col");const r=wx(),a=Cx(),u=[],c=[];return r.forEach(p=>{const d=i[p];delete i[p];let m,y,S;typeof d=="object"&&d!=null?{span:m,offset:y,order:S}=d:m=d;const E=p!==a?`-${p}`:"";m&&u.push(m===!0?`${e}${E}`:`${e}${E}-${m}`),S!=null&&c.push(`order${E}-${S}`),y!=null&&c.push(`offset${E}-${y}`)}),[{...i,className:Me(n,...u,...c)},{as:t,bsPrefix:e,spans:u}]}const $x=w.forwardRef((t,e)=>{const[{className:n,...i},{as:r="div",bsPrefix:a,spans:u}]=Hk(t);return A.jsx(r,{...i,ref:e,className:Me(n,!u.length&&a)})});$x.displayName="Col";const Vx=w.forwardRef(({bsPrefix:t,fluid:e=!1,as:n="div",className:i,...r},a)=>{const u=Ue(t,"container"),c=typeof e=="string"?`-${e}`:"-fluid";return A.jsx(n,{ref:a,...r,className:Me(i,e?`${u}${c}`:u)})});Vx.displayName="Container";var Gk=Function.prototype.bind.call(Function.prototype.call,[].slice);function Zi(t,e){return Gk(t.querySelectorAll(e))}function Fk(t,e,n){const i=w.useRef(t!==void 0),[r,a]=w.useState(e),u=t!==void 0,c=i.current;return i.current=u,!u&&c&&r!==e&&a(e),[u?t:r,w.useCallback((...p)=>{const[d,...m]=p;let y=n?.(d,...m);return a(d),y},[n])]}function zx(){const[,t]=w.useReducer(e=>e+1,0);return t}const Yd=w.createContext(null);var ow=Object.prototype.hasOwnProperty;function rw(t,e,n){for(n of t.keys())if(Kl(n,e))return n}function Kl(t,e){var n,i,r;if(t===e)return!0;if(t&&e&&(n=t.constructor)===e.constructor){if(n===Date)return t.getTime()===e.getTime();if(n===RegExp)return t.toString()===e.toString();if(n===Array){if((i=t.length)===e.length)for(;i--&&Kl(t[i],e[i]););return i===-1}if(n===Set){if(t.size!==e.size)return!1;for(i of t)if(r=i,r&&typeof r=="object"&&(r=rw(e,r),!r)||!e.has(r))return!1;return!0}if(n===Map){if(t.size!==e.size)return!1;for(i of t)if(r=i[0],r&&typeof r=="object"&&(r=rw(e,r),!r)||!Kl(i[1],e.get(r)))return!1;return!0}if(n===ArrayBuffer)t=new Uint8Array(t),e=new Uint8Array(e);else if(n===DataView){if((i=t.byteLength)===e.byteLength)for(;i--&&t.getInt8(i)===e.getInt8(i););return i===-1}if(ArrayBuffer.isView(t)){if((i=t.byteLength)===e.byteLength)for(;i--&&t[i]===e[i];);return i===-1}if(!n||typeof t=="object"){i=0;for(n in t)if(ow.call(t,n)&&++i&&!ow.call(e,n)||!(n in e)||!Kl(t[n],e[n]))return!1;return Object.keys(e).length===i}}return t!==t&&e!==e}function $k(t){const e=Mx();return[t[0],w.useCallback(n=>{if(e())return t[1](n)},[e,t[1]])]}var Zt="top",$n="bottom",Vn="right",en="left",dy="auto",Mu=[Zt,$n,Vn,en],ma="start",iu="end",Vk="clippingParents",qx="viewport",Nl="popper",zk="reference",sw=Mu.reduce(function(t,e){return t.concat([e+"-"+ma,e+"-"+iu])},[]),Jx=[].concat(Mu,[dy]).reduce(function(t,e){return t.concat([e,e+"-"+ma,e+"-"+iu])},[]),qk="beforeRead",Jk="read",Yk="afterRead",Kk="beforeMain",Xk="main",Wk="afterMain",jk="beforeWrite",Qk="write",Zk="afterWrite",eB=[qk,Jk,Yk,Kk,Xk,Wk,jk,Qk,Zk];function Ti(t){return t.split("-")[0]}function Sn(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function zr(t){var e=Sn(t).Element;return t instanceof e||t instanceof Element}function Ai(t){var e=Sn(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function py(t){if(typeof ShadowRoot>"u")return!1;var e=Sn(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}var Ur=Math.max,pd=Math.min,ga=Math.round;function tv(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function Yx(){return!/^((?!chrome|android).)*safari/i.test(tv())}function va(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!1);var i=t.getBoundingClientRect(),r=1,a=1;e&&Ai(t)&&(r=t.offsetWidth>0&&ga(i.width)/t.offsetWidth||1,a=t.offsetHeight>0&&ga(i.height)/t.offsetHeight||1);var u=zr(t)?Sn(t):window,c=u.visualViewport,p=!Yx()&&n,d=(i.left+(p&&c?c.offsetLeft:0))/r,m=(i.top+(p&&c?c.offsetTop:0))/a,y=i.width/r,S=i.height/a;return{width:y,height:S,top:m,right:d+y,bottom:m+S,left:d,x:d,y:m}}function hy(t){var e=va(t),n=t.offsetWidth,i=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-i)<=1&&(i=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:i}}function Kx(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&py(n)){var i=e;do{if(i&&t.isSameNode(i))return!0;i=i.parentNode||i.host}while(i)}return!1}function Zo(t){return t?(t.nodeName||"").toLowerCase():null}function lo(t){return Sn(t).getComputedStyle(t)}function tB(t){return["table","td","th"].indexOf(Zo(t))>=0}function ar(t){return((zr(t)?t.ownerDocument:t.document)||window.document).documentElement}function Kd(t){return Zo(t)==="html"?t:t.assignedSlot||t.parentNode||(py(t)?t.host:null)||ar(t)}function aw(t){return!Ai(t)||lo(t).position==="fixed"?null:t.offsetParent}function nB(t){var e=/firefox/i.test(tv()),n=/Trident/i.test(tv());if(n&&Ai(t)){var i=lo(t);if(i.position==="fixed")return null}var r=Kd(t);for(py(r)&&(r=r.host);Ai(r)&&["html","body"].indexOf(Zo(r))<0;){var a=lo(r);if(a.transform!=="none"||a.perspective!=="none"||a.contain==="paint"||["transform","perspective"].indexOf(a.willChange)!==-1||e&&a.willChange==="filter"||e&&a.filter&&a.filter!=="none")return r;r=r.parentNode}return null}function Nu(t){for(var e=Sn(t),n=aw(t);n&&tB(n)&&lo(n).position==="static";)n=aw(n);return n&&(Zo(n)==="html"||Zo(n)==="body"&&lo(n).position==="static")?e:n||nB(t)||e}function my(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function Xl(t,e,n){return Ur(t,pd(e,n))}function iB(t,e,n){var i=Xl(t,e,n);return i>n?n:i}function Xx(){return{top:0,right:0,bottom:0,left:0}}function Wx(t){return Object.assign({},Xx(),t)}function jx(t,e){return e.reduce(function(n,i){return n[i]=t,n},{})}var oB=function(e,n){return e=typeof e=="function"?e(Object.assign({},n.rects,{placement:n.placement})):e,Wx(typeof e!="number"?e:jx(e,Mu))};function rB(t){var e,n=t.state,i=t.name,r=t.options,a=n.elements.arrow,u=n.modifiersData.popperOffsets,c=Ti(n.placement),p=my(c),d=[en,Vn].indexOf(c)>=0,m=d?"height":"width";if(!(!a||!u)){var y=oB(r.padding,n),S=hy(a),E=p==="y"?Zt:en,C=p==="y"?$n:Vn,T=n.rects.reference[m]+n.rects.reference[p]-u[p]-n.rects.popper[m],x=u[p]-n.rects.reference[p],M=Nu(a),I=M?p==="y"?M.clientHeight||0:M.clientWidth||0:0,N=T/2-x/2,D=y[E],U=I-S[m]-y[C],k=I/2-S[m]/2+N,O=Xl(D,k,U),q=p;n.modifiersData[i]=(e={},e[q]=O,e.centerOffset=O-k,e)}}function sB(t){var e=t.state,n=t.options,i=n.element,r=i===void 0?"[data-popper-arrow]":i;r!=null&&(typeof r=="string"&&(r=e.elements.popper.querySelector(r),!r)||Kx(e.elements.popper,r)&&(e.elements.arrow=r))}const aB={name:"arrow",enabled:!0,phase:"main",fn:rB,effect:sB,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function ya(t){return t.split("-")[1]}var lB={top:"auto",right:"auto",bottom:"auto",left:"auto"};function uB(t,e){var n=t.x,i=t.y,r=e.devicePixelRatio||1;return{x:ga(n*r)/r||0,y:ga(i*r)/r||0}}function lw(t){var e,n=t.popper,i=t.popperRect,r=t.placement,a=t.variation,u=t.offsets,c=t.position,p=t.gpuAcceleration,d=t.adaptive,m=t.roundOffsets,y=t.isFixed,S=u.x,E=S===void 0?0:S,C=u.y,T=C===void 0?0:C,x=typeof m=="function"?m({x:E,y:T}):{x:E,y:T};E=x.x,T=x.y;var M=u.hasOwnProperty("x"),I=u.hasOwnProperty("y"),N=en,D=Zt,U=window;if(d){var k=Nu(n),O="clientHeight",q="clientWidth";if(k===Sn(n)&&(k=ar(n),lo(k).position!=="static"&&c==="absolute"&&(O="scrollHeight",q="scrollWidth")),k=k,r===Zt||(r===en||r===Vn)&&a===iu){D=$n;var J=y&&k===U&&U.visualViewport?U.visualViewport.height:k[O];T-=J-i.height,T*=p?1:-1}if(r===en||(r===Zt||r===$n)&&a===iu){N=Vn;var X=y&&k===U&&U.visualViewport?U.visualViewport.width:k[q];E-=X-i.width,E*=p?1:-1}}var j=Object.assign({position:c},d&&lB),re=m===!0?uB({x:E,y:T},Sn(n)):{x:E,y:T};if(E=re.x,T=re.y,p){var ie;return Object.assign({},j,(ie={},ie[D]=I?"0":"",ie[N]=M?"0":"",ie.transform=(U.devicePixelRatio||1)<=1?"translate("+E+"px, "+T+"px)":"translate3d("+E+"px, "+T+"px, 0)",ie))}return Object.assign({},j,(e={},e[D]=I?T+"px":"",e[N]=M?E+"px":"",e.transform="",e))}function cB(t){var e=t.state,n=t.options,i=n.gpuAcceleration,r=i===void 0?!0:i,a=n.adaptive,u=a===void 0?!0:a,c=n.roundOffsets,p=c===void 0?!0:c,d={placement:Ti(e.placement),variation:ya(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:r,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,lw(Object.assign({},d,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:u,roundOffsets:p})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,lw(Object.assign({},d,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:p})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const fB={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:cB,data:{}};var gf={passive:!0};function dB(t){var e=t.state,n=t.instance,i=t.options,r=i.scroll,a=r===void 0?!0:r,u=i.resize,c=u===void 0?!0:u,p=Sn(e.elements.popper),d=[].concat(e.scrollParents.reference,e.scrollParents.popper);return a&&d.forEach(function(m){m.addEventListener("scroll",n.update,gf)}),c&&p.addEventListener("resize",n.update,gf),function(){a&&d.forEach(function(m){m.removeEventListener("scroll",n.update,gf)}),c&&p.removeEventListener("resize",n.update,gf)}}const pB={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:dB,data:{}};var hB={left:"right",right:"left",bottom:"top",top:"bottom"};function $f(t){return t.replace(/left|right|bottom|top/g,function(e){return hB[e]})}var mB={start:"end",end:"start"};function uw(t){return t.replace(/start|end/g,function(e){return mB[e]})}function gy(t){var e=Sn(t),n=e.pageXOffset,i=e.pageYOffset;return{scrollLeft:n,scrollTop:i}}function vy(t){return va(ar(t)).left+gy(t).scrollLeft}function gB(t,e){var n=Sn(t),i=ar(t),r=n.visualViewport,a=i.clientWidth,u=i.clientHeight,c=0,p=0;if(r){a=r.width,u=r.height;var d=Yx();(d||!d&&e==="fixed")&&(c=r.offsetLeft,p=r.offsetTop)}return{width:a,height:u,x:c+vy(t),y:p}}function vB(t){var e,n=ar(t),i=gy(t),r=(e=t.ownerDocument)==null?void 0:e.body,a=Ur(n.scrollWidth,n.clientWidth,r?r.scrollWidth:0,r?r.clientWidth:0),u=Ur(n.scrollHeight,n.clientHeight,r?r.scrollHeight:0,r?r.clientHeight:0),c=-i.scrollLeft+vy(t),p=-i.scrollTop;return lo(r||n).direction==="rtl"&&(c+=Ur(n.clientWidth,r?r.clientWidth:0)-a),{width:a,height:u,x:c,y:p}}function yy(t){var e=lo(t),n=e.overflow,i=e.overflowX,r=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+r+i)}function Qx(t){return["html","body","#document"].indexOf(Zo(t))>=0?t.ownerDocument.body:Ai(t)&&yy(t)?t:Qx(Kd(t))}function Wl(t,e){var n;e===void 0&&(e=[]);var i=Qx(t),r=i===((n=t.ownerDocument)==null?void 0:n.body),a=Sn(i),u=r?[a].concat(a.visualViewport||[],yy(i)?i:[]):i,c=e.concat(u);return r?c:c.concat(Wl(Kd(u)))}function nv(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function yB(t,e){var n=va(t,!1,e==="fixed");return n.top=n.top+t.clientTop,n.left=n.left+t.clientLeft,n.bottom=n.top+t.clientHeight,n.right=n.left+t.clientWidth,n.width=t.clientWidth,n.height=t.clientHeight,n.x=n.left,n.y=n.top,n}function cw(t,e,n){return e===qx?nv(gB(t,n)):zr(e)?yB(e,n):nv(vB(ar(t)))}function _B(t){var e=Wl(Kd(t)),n=["absolute","fixed"].indexOf(lo(t).position)>=0,i=n&&Ai(t)?Nu(t):t;return zr(i)?e.filter(function(r){return zr(r)&&Kx(r,i)&&Zo(r)!=="body"}):[]}function SB(t,e,n,i){var r=e==="clippingParents"?_B(t):[].concat(e),a=[].concat(r,[n]),u=a[0],c=a.reduce(function(p,d){var m=cw(t,d,i);return p.top=Ur(m.top,p.top),p.right=pd(m.right,p.right),p.bottom=pd(m.bottom,p.bottom),p.left=Ur(m.left,p.left),p},cw(t,u,i));return c.width=c.right-c.left,c.height=c.bottom-c.top,c.x=c.left,c.y=c.top,c}function Zx(t){var e=t.reference,n=t.element,i=t.placement,r=i?Ti(i):null,a=i?ya(i):null,u=e.x+e.width/2-n.width/2,c=e.y+e.height/2-n.height/2,p;switch(r){case Zt:p={x:u,y:e.y-n.height};break;case $n:p={x:u,y:e.y+e.height};break;case Vn:p={x:e.x+e.width,y:c};break;case en:p={x:e.x-n.width,y:c};break;default:p={x:e.x,y:e.y}}var d=r?my(r):null;if(d!=null){var m=d==="y"?"height":"width";switch(a){case ma:p[d]=p[d]-(e[m]/2-n[m]/2);break;case iu:p[d]=p[d]+(e[m]/2-n[m]/2);break}}return p}function ou(t,e){e===void 0&&(e={});var n=e,i=n.placement,r=i===void 0?t.placement:i,a=n.strategy,u=a===void 0?t.strategy:a,c=n.boundary,p=c===void 0?Vk:c,d=n.rootBoundary,m=d===void 0?qx:d,y=n.elementContext,S=y===void 0?Nl:y,E=n.altBoundary,C=E===void 0?!1:E,T=n.padding,x=T===void 0?0:T,M=Wx(typeof x!="number"?x:jx(x,Mu)),I=S===Nl?zk:Nl,N=t.rects.popper,D=t.elements[C?I:S],U=SB(zr(D)?D:D.contextElement||ar(t.elements.popper),p,m,u),k=va(t.elements.reference),O=Zx({reference:k,element:N,placement:r}),q=nv(Object.assign({},N,O)),J=S===Nl?q:k,X={top:U.top-J.top+M.top,bottom:J.bottom-U.bottom+M.bottom,left:U.left-J.left+M.left,right:J.right-U.right+M.right},j=t.modifiersData.offset;if(S===Nl&&j){var re=j[r];Object.keys(X).forEach(function(ie){var ae=[Vn,$n].indexOf(ie)>=0?1:-1,de=[Zt,$n].indexOf(ie)>=0?"y":"x";X[ie]+=re[de]*ae})}return X}function EB(t,e){e===void 0&&(e={});var n=e,i=n.placement,r=n.boundary,a=n.rootBoundary,u=n.padding,c=n.flipVariations,p=n.allowedAutoPlacements,d=p===void 0?Jx:p,m=ya(i),y=m?c?sw:sw.filter(function(C){return ya(C)===m}):Mu,S=y.filter(function(C){return d.indexOf(C)>=0});S.length===0&&(S=y);var E=S.reduce(function(C,T){return C[T]=ou(t,{placement:T,boundary:r,rootBoundary:a,padding:u})[Ti(T)],C},{});return Object.keys(E).sort(function(C,T){return E[C]-E[T]})}function bB(t){if(Ti(t)===dy)return[];var e=$f(t);return[uw(t),e,uw(e)]}function wB(t){var e=t.state,n=t.options,i=t.name;if(!e.modifiersData[i]._skip){for(var r=n.mainAxis,a=r===void 0?!0:r,u=n.altAxis,c=u===void 0?!0:u,p=n.fallbackPlacements,d=n.padding,m=n.boundary,y=n.rootBoundary,S=n.altBoundary,E=n.flipVariations,C=E===void 0?!0:E,T=n.allowedAutoPlacements,x=e.options.placement,M=Ti(x),I=M===x,N=p||(I||!C?[$f(x)]:bB(x)),D=[x].concat(N).reduce(function(le,me){return le.concat(Ti(me)===dy?EB(e,{placement:me,boundary:m,rootBoundary:y,padding:d,flipVariations:C,allowedAutoPlacements:T}):me)},[]),U=e.rects.reference,k=e.rects.popper,O=new Map,q=!0,J=D[0],X=0;X<D.length;X++){var j=D[X],re=Ti(j),ie=ya(j)===ma,ae=[Zt,$n].indexOf(re)>=0,de=ae?"width":"height",H=ou(e,{placement:j,boundary:m,rootBoundary:y,altBoundary:S,padding:d}),Q=ae?ie?Vn:en:ie?$n:Zt;U[de]>k[de]&&(Q=$f(Q));var ee=$f(Q),ne=[];if(a&&ne.push(H[re]<=0),c&&ne.push(H[Q]<=0,H[ee]<=0),ne.every(function(le){return le})){J=j,q=!1;break}O.set(j,ne)}if(q)for(var ce=C?3:1,L=function(me){var Ee=D.find(function(ve){var Ve=O.get(ve);if(Ve)return Ve.slice(0,me).every(function(ze){return ze})});if(Ee)return J=Ee,"break"},K=ce;K>0;K--){var se=L(K);if(se==="break")break}e.placement!==J&&(e.modifiersData[i]._skip=!0,e.placement=J,e.reset=!0)}}const CB={name:"flip",enabled:!0,phase:"main",fn:wB,requiresIfExists:["offset"],data:{_skip:!1}};function fw(t,e,n){return n===void 0&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function dw(t){return[Zt,Vn,$n,en].some(function(e){return t[e]>=0})}function TB(t){var e=t.state,n=t.name,i=e.rects.reference,r=e.rects.popper,a=e.modifiersData.preventOverflow,u=ou(e,{elementContext:"reference"}),c=ou(e,{altBoundary:!0}),p=fw(u,i),d=fw(c,r,a),m=dw(p),y=dw(d);e.modifiersData[n]={referenceClippingOffsets:p,popperEscapeOffsets:d,isReferenceHidden:m,hasPopperEscaped:y},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":m,"data-popper-escaped":y})}const AB={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:TB};function xB(t,e,n){var i=Ti(t),r=[en,Zt].indexOf(i)>=0?-1:1,a=typeof n=="function"?n(Object.assign({},e,{placement:t})):n,u=a[0],c=a[1];return u=u||0,c=(c||0)*r,[en,Vn].indexOf(i)>=0?{x:c,y:u}:{x:u,y:c}}function RB(t){var e=t.state,n=t.options,i=t.name,r=n.offset,a=r===void 0?[0,0]:r,u=Jx.reduce(function(m,y){return m[y]=xB(y,e.rects,a),m},{}),c=u[e.placement],p=c.x,d=c.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=p,e.modifiersData.popperOffsets.y+=d),e.modifiersData[i]=u}const MB={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:RB};function NB(t){var e=t.state,n=t.name;e.modifiersData[n]=Zx({reference:e.rects.reference,element:e.rects.popper,placement:e.placement})}const IB={name:"popperOffsets",enabled:!0,phase:"read",fn:NB,data:{}};function DB(t){return t==="x"?"y":"x"}function OB(t){var e=t.state,n=t.options,i=t.name,r=n.mainAxis,a=r===void 0?!0:r,u=n.altAxis,c=u===void 0?!1:u,p=n.boundary,d=n.rootBoundary,m=n.altBoundary,y=n.padding,S=n.tether,E=S===void 0?!0:S,C=n.tetherOffset,T=C===void 0?0:C,x=ou(e,{boundary:p,rootBoundary:d,padding:y,altBoundary:m}),M=Ti(e.placement),I=ya(e.placement),N=!I,D=my(M),U=DB(D),k=e.modifiersData.popperOffsets,O=e.rects.reference,q=e.rects.popper,J=typeof T=="function"?T(Object.assign({},e.rects,{placement:e.placement})):T,X=typeof J=="number"?{mainAxis:J,altAxis:J}:Object.assign({mainAxis:0,altAxis:0},J),j=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,re={x:0,y:0};if(k){if(a){var ie,ae=D==="y"?Zt:en,de=D==="y"?$n:Vn,H=D==="y"?"height":"width",Q=k[D],ee=Q+x[ae],ne=Q-x[de],ce=E?-q[H]/2:0,L=I===ma?O[H]:q[H],K=I===ma?-q[H]:-O[H],se=e.elements.arrow,le=E&&se?hy(se):{width:0,height:0},me=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:Xx(),Ee=me[ae],ve=me[de],Ve=Xl(0,O[H],le[H]),ze=N?O[H]/2-ce-Ve-Ee-X.mainAxis:L-Ve-Ee-X.mainAxis,nn=N?-O[H]/2+ce+Ve+ve+X.mainAxis:K+Ve+ve+X.mainAxis,bn=e.elements.arrow&&Nu(e.elements.arrow),ci=bn?D==="y"?bn.clientTop||0:bn.clientLeft||0:0,Vt=(ie=j?.[D])!=null?ie:0,zt=Q+ze-Vt-ci,Qe=Q+nn-Vt,Di=Xl(E?pd(ee,zt):ee,Q,E?Ur(ne,Qe):ne);k[D]=Di,re[D]=Di-Q}if(c){var vo,Vu=D==="x"?Zt:en,Da=D==="x"?$n:Vn,Jn=k[U],yo=U==="y"?"height":"width",zu=Jn+x[Vu],qu=Jn-x[Da],wt=[Zt,en].indexOf(M)!==-1,Ju=(vo=j?.[U])!=null?vo:0,Oa=wt?zu:Jn-O[yo]-q[yo]-Ju+X.altAxis,Pa=wt?Jn+O[yo]+q[yo]-Ju-X.altAxis:qu,cr=E&&wt?iB(Oa,Jn,Pa):Xl(E?Oa:zu,Jn,E?Pa:qu);k[U]=cr,re[U]=cr-Jn}e.modifiersData[i]=re}}const PB={name:"preventOverflow",enabled:!0,phase:"main",fn:OB,requiresIfExists:["offset"]};function LB(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function UB(t){return t===Sn(t)||!Ai(t)?gy(t):LB(t)}function kB(t){var e=t.getBoundingClientRect(),n=ga(e.width)/t.offsetWidth||1,i=ga(e.height)/t.offsetHeight||1;return n!==1||i!==1}function BB(t,e,n){n===void 0&&(n=!1);var i=Ai(e),r=Ai(e)&&kB(e),a=ar(e),u=va(t,r,n),c={scrollLeft:0,scrollTop:0},p={x:0,y:0};return(i||!i&&!n)&&((Zo(e)!=="body"||yy(a))&&(c=UB(e)),Ai(e)?(p=va(e,!0),p.x+=e.clientLeft,p.y+=e.clientTop):a&&(p.x=vy(a))),{x:u.left+c.scrollLeft-p.x,y:u.top+c.scrollTop-p.y,width:u.width,height:u.height}}function HB(t){var e=new Map,n=new Set,i=[];t.forEach(function(a){e.set(a.name,a)});function r(a){n.add(a.name);var u=[].concat(a.requires||[],a.requiresIfExists||[]);u.forEach(function(c){if(!n.has(c)){var p=e.get(c);p&&r(p)}}),i.push(a)}return t.forEach(function(a){n.has(a.name)||r(a)}),i}function GB(t){var e=HB(t);return eB.reduce(function(n,i){return n.concat(e.filter(function(r){return r.phase===i}))},[])}function FB(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}function $B(t){var e=t.reduce(function(n,i){var r=n[i.name];return n[i.name]=r?Object.assign({},r,i,{options:Object.assign({},r.options,i.options),data:Object.assign({},r.data,i.data)}):i,n},{});return Object.keys(e).map(function(n){return e[n]})}var pw={placement:"bottom",modifiers:[],strategy:"absolute"};function hw(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(i){return!(i&&typeof i.getBoundingClientRect=="function")})}function VB(t){t===void 0&&(t={});var e=t,n=e.defaultModifiers,i=n===void 0?[]:n,r=e.defaultOptions,a=r===void 0?pw:r;return function(c,p,d){d===void 0&&(d=a);var m={placement:"bottom",orderedModifiers:[],options:Object.assign({},pw,a),modifiersData:{},elements:{reference:c,popper:p},attributes:{},styles:{}},y=[],S=!1,E={state:m,setOptions:function(M){var I=typeof M=="function"?M(m.options):M;T(),m.options=Object.assign({},a,m.options,I),m.scrollParents={reference:zr(c)?Wl(c):c.contextElement?Wl(c.contextElement):[],popper:Wl(p)};var N=GB($B([].concat(i,m.options.modifiers)));return m.orderedModifiers=N.filter(function(D){return D.enabled}),C(),E.update()},forceUpdate:function(){if(!S){var M=m.elements,I=M.reference,N=M.popper;if(hw(I,N)){m.rects={reference:BB(I,Nu(N),m.options.strategy==="fixed"),popper:hy(N)},m.reset=!1,m.placement=m.options.placement,m.orderedModifiers.forEach(function(X){return m.modifiersData[X.name]=Object.assign({},X.data)});for(var D=0;D<m.orderedModifiers.length;D++){if(m.reset===!0){m.reset=!1,D=-1;continue}var U=m.orderedModifiers[D],k=U.fn,O=U.options,q=O===void 0?{}:O,J=U.name;typeof k=="function"&&(m=k({state:m,options:q,name:J,instance:E})||m)}}}},update:FB(function(){return new Promise(function(x){E.forceUpdate(),x(m)})}),destroy:function(){T(),S=!0}};if(!hw(c,p))return E;E.setOptions(d).then(function(x){!S&&d.onFirstUpdate&&d.onFirstUpdate(x)});function C(){m.orderedModifiers.forEach(function(x){var M=x.name,I=x.options,N=I===void 0?{}:I,D=x.effect;if(typeof D=="function"){var U=D({state:m,name:M,instance:E,options:N}),k=function(){};y.push(U||k)}})}function T(){y.forEach(function(x){return x()}),y=[]}return E}}const zB=VB({defaultModifiers:[AB,IB,fB,pB,MB,CB,PB,aB]}),qB=["enabled","placement","strategy","modifiers"];function JB(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)>=0)continue;n[i]=t[i]}return n}const YB={name:"applyStyles",enabled:!1,phase:"afterWrite",fn:()=>{}},KB={name:"ariaDescribedBy",enabled:!0,phase:"afterWrite",effect:({state:t})=>()=>{const{reference:e,popper:n}=t.elements;if("removeAttribute"in e){const i=(e.getAttribute("aria-describedby")||"").split(",").filter(r=>r.trim()!==n.id);i.length?e.setAttribute("aria-describedby",i.join(",")):e.removeAttribute("aria-describedby")}},fn:({state:t})=>{var e;const{popper:n,reference:i}=t.elements,r=(e=n.getAttribute("role"))==null?void 0:e.toLowerCase();if(n.id&&r==="tooltip"&&"setAttribute"in i){const a=i.getAttribute("aria-describedby");if(a&&a.split(",").indexOf(n.id)!==-1)return;i.setAttribute("aria-describedby",a?`${a},${n.id}`:n.id)}}},XB=[];function WB(t,e,n={}){let{enabled:i=!0,placement:r="bottom",strategy:a="absolute",modifiers:u=XB}=n,c=JB(n,qB);const p=w.useRef(u),d=w.useRef(),m=w.useCallback(()=>{var x;(x=d.current)==null||x.update()},[]),y=w.useCallback(()=>{var x;(x=d.current)==null||x.forceUpdate()},[]),[S,E]=$k(w.useState({placement:r,update:m,forceUpdate:y,attributes:{},styles:{popper:{},arrow:{}}})),C=w.useMemo(()=>({name:"updateStateModifier",enabled:!0,phase:"write",requires:["computeStyles"],fn:({state:x})=>{const M={},I={};Object.keys(x.elements).forEach(N=>{M[N]=x.styles[N],I[N]=x.attributes[N]}),E({state:x,styles:M,attributes:I,update:m,forceUpdate:y,placement:x.placement})}}),[m,y,E]),T=w.useMemo(()=>(Kl(p.current,u)||(p.current=u),p.current),[u]);return w.useEffect(()=>{!d.current||!i||d.current.setOptions({placement:r,strategy:a,modifiers:[...T,C,YB]})},[a,r,C,i,T]),w.useEffect(()=>{if(!(!i||t==null||e==null))return d.current=zB(t,e,Object.assign({},c,{placement:r,strategy:a,modifiers:[...T,KB,C]})),()=>{d.current!=null&&(d.current.destroy(),d.current=void 0,E(x=>Object.assign({},x,{attributes:{},styles:{popper:{}}})))}},[i,t,e]),S}function hd(t,e){if(t.contains)return t.contains(e);if(t.compareDocumentPosition)return t===e||!!(t.compareDocumentPosition(e)&16)}var rg,mw;function jB(){if(mw)return rg;mw=1;var t=function(){};return rg=t,rg}var QB=jB();const ZB=gu(QB),gw=()=>{};function e2(t){return t.button===0}function t2(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}const sg=t=>t&&("current"in t?t.current:t),vw={click:"mousedown",mouseup:"mousedown",pointerup:"pointerdown"};function n2(t,e=gw,{disabled:n,clickTrigger:i="click"}={}){const r=w.useRef(!1),a=w.useRef(!1),u=w.useCallback(d=>{const m=sg(t);ZB(!!m,"ClickOutside captured a close event but does not have a ref to compare it to. useClickOutside(), should be passed a ref that resolves to a DOM node"),r.current=!m||t2(d)||!e2(d)||!!hd(m,d.target)||a.current,a.current=!1},[t]),c=Pt(d=>{const m=sg(t);m&&hd(m,d.target)?a.current=!0:a.current=!1}),p=Pt(d=>{r.current||e(d)});w.useEffect(()=>{var d,m;if(n||t==null)return;const y=zd(sg(t)),S=y.defaultView||window;let E=(d=S.event)!=null?d:(m=S.parent)==null?void 0:m.event,C=null;vw[i]&&(C=Xo(y,vw[i],c,!0));const T=Xo(y,i,u,!0),x=Xo(y,i,I=>{if(I===E){E=void 0;return}p(I)});let M=[];return"ontouchstart"in y.documentElement&&(M=[].slice.call(y.body.children).map(I=>Xo(I,"mousemove",gw))),()=>{C?.(),T(),x(),M.forEach(I=>I())}},[t,n,i,u,c,p])}function i2(t){const e={};return Array.isArray(t)?(t?.forEach(n=>{e[n.name]=n}),e):t||e}function o2(t={}){return Array.isArray(t)?t:Object.keys(t).map(e=>(t[e].name=e,t[e]))}function r2({enabled:t,enableEvents:e,placement:n,flip:i,offset:r,fixed:a,containerPadding:u,arrowElement:c,popperConfig:p={}}){var d,m,y,S,E;const C=i2(p.modifiers);return Object.assign({},p,{placement:n,enabled:t,strategy:a?"fixed":p.strategy,modifiers:o2(Object.assign({},C,{eventListeners:{enabled:e,options:(d=C.eventListeners)==null?void 0:d.options},preventOverflow:Object.assign({},C.preventOverflow,{options:u?Object.assign({padding:u},(m=C.preventOverflow)==null?void 0:m.options):(y=C.preventOverflow)==null?void 0:y.options}),offset:{options:Object.assign({offset:r},(S=C.offset)==null?void 0:S.options)},arrow:Object.assign({},C.arrow,{enabled:!!c,options:Object.assign({},(E=C.arrow)==null?void 0:E.options,{element:c})}),flip:Object.assign({enabled:!!i},C.flip)}))})}const s2=["children","usePopper"];function a2(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)>=0)continue;n[i]=t[i]}return n}const l2=()=>{};function eR(t={}){const e=w.useContext(Yd),[n,i]=Ck(),r=w.useRef(!1),{flip:a,offset:u,rootCloseEvent:c,fixed:p=!1,placement:d,popperConfig:m={},enableEventListeners:y=!0,usePopper:S=!!e}=t,E=e?.show==null?!!t.show:e.show;E&&!r.current&&(r.current=!0);const C=k=>{e?.toggle(!1,k)},{placement:T,setMenu:x,menuElement:M,toggleElement:I}=e||{},N=WB(I,M,r2({placement:d||T||"bottom-start",enabled:S,enableEvents:y??E,offset:u,flip:a,fixed:p,arrowElement:n,popperConfig:m})),D=Object.assign({ref:x||l2,"aria-labelledby":I?.id},N.attributes.popper,{style:N.styles.popper}),U={show:E,placement:T,hasShown:r.current,toggle:e?.toggle,popper:S?N:null,arrowProps:S?Object.assign({ref:i},N.attributes.arrow,{style:N.styles.arrow}):{}};return n2(M,C,{clickTrigger:c,disabled:!E}),[D,U]}function tR(t){let{children:e,usePopper:n=!0}=t,i=a2(t,s2);const[r,a]=eR(Object.assign({},i,{usePopper:n}));return A.jsx(A.Fragment,{children:e(r,a)})}tR.displayName="DropdownMenu";const nR={prefix:String(Math.round(Math.random()*1e10)),current:0},iR=et.createContext(nR),u2=et.createContext(!1);let ag=new WeakMap;function c2(t=!1){let e=w.useContext(iR),n=w.useRef(null);if(n.current===null&&!t){var i,r;let a=(r=et.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED)===null||r===void 0||(i=r.ReactCurrentOwner)===null||i===void 0?void 0:i.current;if(a){let u=ag.get(a);u==null?ag.set(a,{id:e.current,state:a.memoizedState}):a.memoizedState!==u.state&&(e.current=u.id,ag.delete(a))}n.current=++e.current}return n.current}function f2(t){let e=w.useContext(iR),n=c2(!!t),i=`react-aria${e.prefix}`;return t||`${i}-${n}`}function d2(t){let e=et.useId(),[n]=w.useState(v2()),i=n?"react-aria":`react-aria${nR.prefix}`;return t||`${i}-${e}`}const p2=typeof et.useId=="function"?d2:f2;function h2(){return!1}function m2(){return!0}function g2(t){return()=>{}}function v2(){return typeof et.useSyncExternalStore=="function"?et.useSyncExternalStore(g2,h2,m2):w.useContext(u2)}const oR=t=>{var e;return((e=t.getAttribute("role"))==null?void 0:e.toLowerCase())==="menu"},yw=()=>{};function rR(){const t=p2(),{show:e=!1,toggle:n=yw,setToggle:i,menuElement:r}=w.useContext(Yd)||{},a=w.useCallback(c=>{n(!e,c)},[e,n]),u={id:t,ref:i||yw,onClick:a,"aria-expanded":!!e};return r&&oR(r)&&(u["aria-haspopup"]=!0),[u,{show:e,toggle:n}]}function sR({children:t}){const[e,n]=rR();return A.jsx(A.Fragment,{children:t(e,n)})}sR.displayName="DropdownToggle";const qr=w.createContext(null),ru=(t,e=null)=>t!=null?String(t):e||null,Xd=w.createContext(null);Xd.displayName="NavContext";const y2="data-rr-ui-",_2="rrUi";function wa(t){return`${y2}${t}`}function S2(t){return`${_2}${t}`}const E2=["eventKey","disabled","onClick","active","as"];function b2(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)>=0)continue;n[i]=t[i]}return n}function aR({key:t,href:e,active:n,disabled:i,onClick:r}){const a=w.useContext(qr),u=w.useContext(Xd),{activeKey:c}=u||{},p=ru(t,e),d=n==null&&t!=null?ru(c)===p:n;return[{onClick:Pt(y=>{i||(r?.(y),a&&!y.isPropagationStopped()&&a(p,y))}),"aria-disabled":i||void 0,"aria-selected":d,[wa("dropdown-item")]:""},{isActive:d}]}const lR=w.forwardRef((t,e)=>{let{eventKey:n,disabled:i,onClick:r,active:a,as:u=ay}=t,c=b2(t,E2);const[p]=aR({key:n,href:c.href,disabled:i,onClick:r,active:a});return A.jsx(u,Object.assign({},c,{ref:e},p))});lR.displayName="DropdownItem";const uR=w.createContext(qd?window:void 0);uR.Provider;function Wd(){return w.useContext(uR)}function _w(){const t=zx(),e=w.useRef(null),n=w.useCallback(i=>{e.current=i,t()},[t]);return[e,n]}function Iu({defaultShow:t,show:e,onSelect:n,onToggle:i,itemSelector:r=`* [${wa("dropdown-item")}]`,focusFirstItemOnShow:a,placement:u="bottom-start",children:c}){const p=Wd(),[d,m]=Fk(e,t,i),[y,S]=_w(),E=y.current,[C,T]=_w(),x=C.current,M=Nx(d),I=w.useRef(null),N=w.useRef(!1),D=w.useContext(qr),U=w.useCallback((j,re,ie=re?.type)=>{m(j,{originalEvent:re,source:ie})},[m]),k=Pt((j,re)=>{n?.(j,re),U(!1,re,"select"),re.isPropagationStopped()||D?.(j,re)}),O=w.useMemo(()=>({toggle:U,placement:u,show:d,menuElement:E,toggleElement:x,setMenu:S,setToggle:T}),[U,u,d,E,x,S,T]);E&&M&&!d&&(N.current=E.contains(E.ownerDocument.activeElement));const q=Pt(()=>{x&&x.focus&&x.focus()}),J=Pt(()=>{const j=I.current;let re=a;if(re==null&&(re=y.current&&oR(y.current)?"keyboard":!1),re===!1||re==="keyboard"&&!/^key.+$/.test(j))return;const ie=Zi(y.current,r)[0];ie&&ie.focus&&ie.focus()});w.useEffect(()=>{d?J():N.current&&(N.current=!1,q())},[d,N,q,J]),w.useEffect(()=>{I.current=null});const X=(j,re)=>{if(!y.current)return null;const ie=Zi(y.current,r);let ae=ie.indexOf(j)+re;return ae=Math.max(0,Math.min(ae,ie.length)),ie[ae]};return Ak(w.useCallback(()=>p.document,[p]),"keydown",j=>{var re,ie;const{key:ae}=j,de=j.target,H=(re=y.current)==null?void 0:re.contains(de),Q=(ie=C.current)==null?void 0:ie.contains(de);if(/input|textarea/i.test(de.tagName)&&(ae===" "||ae!=="Escape"&&H||ae==="Escape"&&de.type==="search")||!H&&!Q||ae==="Tab"&&(!y.current||!d))return;I.current=j.type;const ne={originalEvent:j,source:j.type};switch(ae){case"ArrowUp":{const ce=X(de,-1);ce&&ce.focus&&ce.focus(),j.preventDefault();return}case"ArrowDown":if(j.preventDefault(),!d)m(!0,ne);else{const ce=X(de,1);ce&&ce.focus&&ce.focus()}return;case"Tab":Ax(de.ownerDocument,"keyup",ce=>{var L;(ce.key==="Tab"&&!ce.target||!((L=y.current)!=null&&L.contains(ce.target)))&&m(!1,ne)},{once:!0});break;case"Escape":ae==="Escape"&&(j.preventDefault(),j.stopPropagation()),m(!1,ne);break}}),A.jsx(qr.Provider,{value:k,children:A.jsx(Yd.Provider,{value:O,children:c})})}Iu.displayName="Dropdown";Iu.Menu=tR;Iu.Toggle=sR;Iu.Item=lR;const _y=w.createContext({});_y.displayName="DropdownContext";const cR=w.forwardRef(({className:t,bsPrefix:e,as:n="hr",role:i="separator",...r},a)=>(e=Ue(e,"dropdown-divider"),A.jsx(n,{ref:a,className:Me(t,e),role:i,...r})));cR.displayName="DropdownDivider";const fR=w.forwardRef(({className:t,bsPrefix:e,as:n="div",role:i="heading",...r},a)=>(e=Ue(e,"dropdown-header"),A.jsx(n,{ref:a,className:Me(t,e),role:i,...r})));fR.displayName="DropdownHeader";const dR=w.forwardRef(({bsPrefix:t,className:e,eventKey:n,disabled:i=!1,onClick:r,active:a,as:u=ly,...c},p)=>{const d=Ue(t,"dropdown-item"),[m,y]=aR({key:n,href:c.href,disabled:i,onClick:r,active:a});return A.jsx(u,{...c,...m,ref:p,className:Me(e,d,y.isActive&&"active",i&&"disabled")})});dR.displayName="DropdownItem";const pR=w.forwardRef(({className:t,bsPrefix:e,as:n="span",...i},r)=>(e=Ue(e,"dropdown-item-text"),A.jsx(n,{ref:r,className:Me(t,e),...i})));pR.displayName="DropdownItemText";const w2=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",C2=typeof document<"u",hR=C2||w2?w.useLayoutEffect:w.useEffect,Sy=w.createContext(null);Sy.displayName="InputGroupContext";const Zr=w.createContext(null);Zr.displayName="NavbarContext";function mR(t,e){return t}function gR(t,e,n){const i=n?"top-end":"top-start",r=n?"top-start":"top-end",a=n?"bottom-end":"bottom-start",u=n?"bottom-start":"bottom-end",c=n?"right-start":"left-start",p=n?"right-end":"left-end",d=n?"left-start":"right-start",m=n?"left-end":"right-end";let y=t?u:a;return e==="up"?y=t?r:i:e==="end"?y=t?m:d:e==="start"?y=t?p:c:e==="down-centered"?y="bottom":e==="up-centered"&&(y="top"),y}const vR=w.forwardRef(({bsPrefix:t,className:e,align:n,rootCloseEvent:i,flip:r=!0,show:a,renderOnMount:u,as:c="div",popperConfig:p,variant:d,...m},y)=>{let S=!1;const E=w.useContext(Zr),C=Ue(t,"dropdown-menu"),{align:T,drop:x,isRTL:M}=w.useContext(_y);n=n||T;const I=w.useContext(Sy),N=[];if(n)if(typeof n=="object"){const j=Object.keys(n);if(j.length){const re=j[0],ie=n[re];S=ie==="start",N.push(`${C}-${re}-${ie}`)}}else n==="end"&&(S=!0);const D=gR(S,x,M),[U,{hasShown:k,popper:O,show:q,toggle:J}]=eR({flip:r,rootCloseEvent:i,show:a,usePopper:!E&&N.length===0,offset:[0,2],popperConfig:p,placement:D});if(U.ref=oy(mR(y),U.ref),hR(()=>{q&&O?.update()},[q]),!k&&!u&&!I)return null;typeof c!="string"&&(U.show=q,U.close=()=>J?.(!1),U.align=n);let X=m.style;return O!=null&&O.placement&&(X={...m.style,...U.style},m["x-placement"]=O.placement),A.jsx(c,{...m,...U,style:X,...(N.length||E)&&{"data-bs-popper":"static"},className:Me(e,C,q&&"show",S&&`${C}-end`,d&&`${C}-${d}`,...N)})});vR.displayName="DropdownMenu";const yR=w.forwardRef(({bsPrefix:t,split:e,className:n,childBsPrefix:i,as:r=Dx,...a},u)=>{const c=Ue(t,"dropdown-toggle"),p=w.useContext(Yd);i!==void 0&&(a.bsPrefix=i);const[d]=rR();return d.ref=oy(d.ref,mR(u)),A.jsx(r,{className:Me(n,c,e&&`${c}-split`,p?.show&&"show"),...d,...a})});yR.displayName="DropdownToggle";const _R=w.forwardRef((t,e)=>{const{bsPrefix:n,drop:i="down",show:r,className:a,align:u="start",onSelect:c,onToggle:p,focusFirstItemOnShow:d,as:m="div",navbar:y,autoClose:S=!0,...E}=ny(t,{show:"onToggle"}),C=w.useContext(Sy),T=Ue(n,"dropdown"),x=QU(),M=O=>S===!1?O==="click":S==="inside"?O!=="rootClose":S==="outside"?O!=="select":!0,I=Ru((O,q)=>{var J;!((J=q.originalEvent)==null||(J=J.target)==null)&&J.classList.contains("dropdown-toggle")&&q.source==="mousedown"||(q.originalEvent.currentTarget===document&&(q.source!=="keydown"||q.originalEvent.key==="Escape")&&(q.source="rootClose"),M(q.source)&&p?.(O,q))}),D=gR(u==="end",i,x),U=w.useMemo(()=>({align:u,drop:i,isRTL:x}),[u,i,x]),k={down:T,"down-centered":`${T}-center`,up:"dropup","up-centered":"dropup-center dropup",end:"dropend",start:"dropstart"};return A.jsx(_y.Provider,{value:U,children:A.jsx(Iu,{placement:D,show:r,onSelect:c,onToggle:I,focusFirstItemOnShow:d,itemSelector:`.${T}-item:not(.disabled):not(:disabled)`,children:C?E.children:A.jsx(m,{...E,ref:e,className:Me(a,r&&"show",k[i])})})})});_R.displayName="Dropdown";const vf=Object.assign(_R,{Toggle:yR,Menu:vR,Item:dR,ItemText:pR,Divider:cR,Header:fR}),Sw=t=>!t||typeof t=="function"?t:e=>{t.current=e};function T2(t,e){const n=Sw(t),i=Sw(e);return r=>{n&&n(r),i&&i(r)}}function jd(t,e){return w.useMemo(()=>T2(t,e),[t,e])}const SR=w.createContext(null),A2=["as","active","eventKey"];function x2(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)>=0)continue;n[i]=t[i]}return n}function ER({key:t,onClick:e,active:n,id:i,role:r,disabled:a}){const u=w.useContext(qr),c=w.useContext(Xd),p=w.useContext(SR);let d=n;const m={role:r};if(c){!r&&c.role==="tablist"&&(m.role="tab");const y=c.getControllerId(t??null),S=c.getControlledId(t??null);m[wa("event-key")]=t,m.id=y||i,d=n==null&&t!=null?c.activeKey===t:n,(d||!(p!=null&&p.unmountOnExit)&&!(p!=null&&p.mountOnEnter))&&(m["aria-controls"]=S)}return m.role==="tab"&&(m["aria-selected"]=d,d||(m.tabIndex=-1),a&&(m.tabIndex=-1,m["aria-disabled"]=!0)),m.onClick=Pt(y=>{a||(e?.(y),t!=null&&u&&!y.isPropagationStopped()&&u(t,y))}),[m,{isActive:d}]}const bR=w.forwardRef((t,e)=>{let{as:n=ay,active:i,eventKey:r}=t,a=x2(t,A2);const[u,c]=ER(Object.assign({key:ru(r,a.href),active:i},a));return u[wa("active")]=c.isActive,A.jsx(n,Object.assign({},a,u,{ref:e}))});bR.displayName="NavItem";const R2=["as","onSelect","activeKey","role","onKeyDown"];function M2(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)>=0)continue;n[i]=t[i]}return n}const Ew=()=>{},bw=wa("event-key"),wR=w.forwardRef((t,e)=>{let{as:n="div",onSelect:i,activeKey:r,role:a,onKeyDown:u}=t,c=M2(t,R2);const p=zx(),d=w.useRef(!1),m=w.useContext(qr),y=w.useContext(SR);let S,E;y&&(a=a||"tablist",r=y.activeKey,S=y.getControlledId,E=y.getControllerId);const C=w.useRef(null),T=N=>{const D=C.current;if(!D)return null;const U=Zi(D,`[${bw}]:not([aria-disabled=true])`),k=D.querySelector("[aria-selected=true]");if(!k||k!==document.activeElement)return null;const O=U.indexOf(k);if(O===-1)return null;let q=O+N;return q>=U.length&&(q=0),q<0&&(q=U.length-1),U[q]},x=(N,D)=>{N!=null&&(i?.(N,D),m?.(N,D))},M=N=>{if(u?.(N),!y)return;let D;switch(N.key){case"ArrowLeft":case"ArrowUp":D=T(-1);break;case"ArrowRight":case"ArrowDown":D=T(1);break;default:return}D&&(N.preventDefault(),x(D.dataset[S2("EventKey")]||null,N),d.current=!0,p())};w.useEffect(()=>{if(C.current&&d.current){const N=C.current.querySelector(`[${bw}][aria-selected=true]`);N?.focus()}d.current=!1});const I=jd(e,C);return A.jsx(qr.Provider,{value:x,children:A.jsx(Xd.Provider,{value:{role:a,activeKey:ru(r),getControlledId:S||Ew,getControllerId:E||Ew},children:A.jsx(n,Object.assign({},c,{onKeyDown:M,ref:I,role:a}))})})});wR.displayName="Nav";const N2=Object.assign(wR,{Item:bR});function lg(t){t===void 0&&(t=zd());try{var e=t.activeElement;return!e||!e.nodeName?null:e}catch{return t.body}}function I2(t){const e=w.useRef(t);return e.current=t,e}function D2(t){const e=I2(t);w.useEffect(()=>()=>e.current(),[])}function O2(t=document){const e=t.defaultView;return Math.abs(e.innerWidth-t.documentElement.clientWidth)}const ww=wa("modal-open");class Ey{constructor({ownerDocument:e,handleContainerOverflow:n=!0,isRTL:i=!1}={}){this.handleContainerOverflow=n,this.isRTL=i,this.modals=[],this.ownerDocument=e}getScrollbarWidth(){return O2(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes(e){}removeModalAttributes(e){}setContainerStyle(e){const n={overflow:"hidden"},i=this.isRTL?"paddingLeft":"paddingRight",r=this.getElement();e.style={overflow:r.style.overflow,[i]:r.style[i]},e.scrollBarWidth&&(n[i]=`${parseInt(ro(r,i)||"0",10)+e.scrollBarWidth}px`),r.setAttribute(ww,""),ro(r,n)}reset(){[...this.modals].forEach(e=>this.remove(e))}removeContainerStyle(e){const n=this.getElement();n.removeAttribute(ww),Object.assign(n.style,e.style)}add(e){let n=this.modals.indexOf(e);return n!==-1||(n=this.modals.length,this.modals.push(e),this.setModalAttributes(e),n!==0)||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),n}remove(e){const n=this.modals.indexOf(e);n!==-1&&(this.modals.splice(n,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(e))}isTopModal(e){return!!this.modals.length&&this.modals[this.modals.length-1]===e}}const ug=(t,e)=>qd?t==null?(e||zd()).body:(typeof t=="function"&&(t=t()),t&&"current"in t&&(t=t.current),t&&("nodeType"in t||t.getBoundingClientRect)?t:null):null;function P2(t,e){const n=Wd(),[i,r]=w.useState(()=>ug(t,n?.document));if(!i){const a=ug(t);a&&r(a)}return w.useEffect(()=>{},[e,i]),w.useEffect(()=>{const a=ug(t);a!==i&&r(a)},[t,i]),i}function L2({children:t,in:e,onExited:n,mountOnEnter:i,unmountOnExit:r}){const a=w.useRef(null),u=w.useRef(e),c=Pt(n);w.useEffect(()=>{e?u.current=!0:c(a.current)},[e,c]);const p=jd(a,ba(t)),d=w.cloneElement(t,{ref:p});return e?d:r||!u.current&&i?null:d}const U2=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children"];function k2(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)>=0)continue;n[i]=t[i]}return n}function B2(t){let{onEnter:e,onEntering:n,onEntered:i,onExit:r,onExiting:a,onExited:u,addEndListener:c,children:p}=t,d=k2(t,U2);const m=w.useRef(null),y=jd(m,ba(p)),S=D=>U=>{D&&m.current&&D(m.current,U)},E=w.useCallback(S(e),[e]),C=w.useCallback(S(n),[n]),T=w.useCallback(S(i),[i]),x=w.useCallback(S(r),[r]),M=w.useCallback(S(a),[a]),I=w.useCallback(S(u),[u]),N=w.useCallback(S(c),[c]);return Object.assign({},d,{nodeRef:m},e&&{onEnter:E},n&&{onEntering:C},i&&{onEntered:T},r&&{onExit:x},a&&{onExiting:M},u&&{onExited:I},c&&{addEndListener:N},{children:typeof p=="function"?(D,U)=>p(D,Object.assign({},U,{ref:y})):w.cloneElement(p,{ref:y})})}const H2=["component"];function G2(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)>=0)continue;n[i]=t[i]}return n}const F2=w.forwardRef((t,e)=>{let{component:n}=t,i=G2(t,H2);const r=B2(i);return A.jsx(n,Object.assign({ref:e},r))});function $2({in:t,onTransition:e}){const n=w.useRef(null),i=w.useRef(!0),r=Pt(e);return iw(()=>{if(!n.current)return;let a=!1;return r({in:t,element:n.current,initial:i.current,isStale:()=>a}),()=>{a=!0}},[t,r]),iw(()=>(i.current=!1,()=>{i.current=!0}),[]),n}function V2({children:t,in:e,onExited:n,onEntered:i,transition:r}){const[a,u]=w.useState(!e);e&&a&&u(!1);const c=$2({in:!!e,onTransition:d=>{const m=()=>{d.isStale()||(d.in?i?.(d.element,d.initial):(u(!0),n?.(d.element)))};Promise.resolve(r(d)).then(m,y=>{throw d.in||u(!0),y})}}),p=jd(c,ba(t));return a&&!e?null:w.cloneElement(t,{ref:p})}function Cw(t,e,n){return t?A.jsx(F2,Object.assign({},n,{component:t})):e?A.jsx(V2,Object.assign({},n,{transition:e})):A.jsx(L2,Object.assign({},n))}const z2=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];function q2(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)>=0)continue;n[i]=t[i]}return n}let cg;function J2(t){return cg||(cg=new Ey({ownerDocument:t?.document})),cg}function Y2(t){const e=Wd(),n=t||J2(e),i=w.useRef({dialog:null,backdrop:null});return Object.assign(i.current,{add:()=>n.add(i.current),remove:()=>n.remove(i.current),isTopModal:()=>n.isTopModal(i.current),setDialogRef:w.useCallback(r=>{i.current.dialog=r},[]),setBackdropRef:w.useCallback(r=>{i.current.backdrop=r},[])})}const CR=w.forwardRef((t,e)=>{let{show:n=!1,role:i="dialog",className:r,style:a,children:u,backdrop:c=!0,keyboard:p=!0,onBackdropClick:d,onEscapeKeyDown:m,transition:y,runTransition:S,backdropTransition:E,runBackdropTransition:C,autoFocus:T=!0,enforceFocus:x=!0,restoreFocus:M=!0,restoreFocusOptions:I,renderDialog:N,renderBackdrop:D=Qe=>A.jsx("div",Object.assign({},Qe)),manager:U,container:k,onShow:O,onHide:q=()=>{},onExit:J,onExited:X,onExiting:j,onEnter:re,onEntering:ie,onEntered:ae}=t,de=q2(t,z2);const H=Wd(),Q=P2(k),ee=Y2(U),ne=Mx(),ce=Nx(n),[L,K]=w.useState(!n),se=w.useRef(null);w.useImperativeHandle(e,()=>ee,[ee]),qd&&!ce&&n&&(se.current=lg(H?.document)),n&&L&&K(!1);const le=Pt(()=>{if(ee.add(),nn.current=Xo(document,"keydown",Ve),ze.current=Xo(document,"focus",()=>setTimeout(Ee),!0),O&&O(),T){var Qe,Di;const vo=lg((Qe=(Di=ee.dialog)==null?void 0:Di.ownerDocument)!=null?Qe:H?.document);ee.dialog&&vo&&!hd(ee.dialog,vo)&&(se.current=vo,ee.dialog.focus())}}),me=Pt(()=>{if(ee.remove(),nn.current==null||nn.current(),ze.current==null||ze.current(),M){var Qe;(Qe=se.current)==null||Qe.focus==null||Qe.focus(I),se.current=null}});w.useEffect(()=>{!n||!Q||le()},[n,Q,le]),w.useEffect(()=>{L&&me()},[L,me]),D2(()=>{me()});const Ee=Pt(()=>{if(!x||!ne()||!ee.isTopModal())return;const Qe=lg(H?.document);ee.dialog&&Qe&&!hd(ee.dialog,Qe)&&ee.dialog.focus()}),ve=Pt(Qe=>{Qe.target===Qe.currentTarget&&(d?.(Qe),c===!0&&q())}),Ve=Pt(Qe=>{p&&fk(Qe)&&ee.isTopModal()&&(m?.(Qe),Qe.defaultPrevented||q())}),ze=w.useRef(),nn=w.useRef(),bn=(...Qe)=>{K(!0),X?.(...Qe)};if(!Q)return null;const ci=Object.assign({role:i,ref:ee.setDialogRef,"aria-modal":i==="dialog"?!0:void 0},de,{style:a,className:r,tabIndex:-1});let Vt=N?N(ci):A.jsx("div",Object.assign({},ci,{children:w.cloneElement(u,{role:"document"})}));Vt=Cw(y,S,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!n,onExit:J,onExiting:j,onExited:bn,onEnter:re,onEntering:ie,onEntered:ae,children:Vt});let zt=null;return c&&(zt=D({ref:ee.setBackdropRef,onClick:ve}),zt=Cw(E,C,{in:!!n,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:zt})),A.jsx(A.Fragment,{children:Or.createPortal(A.jsxs(A.Fragment,{children:[zt,Vt]}),Q)})});CR.displayName="Modal";const K2=Object.assign(CR,{Manager:Ey});function X2(t,e){return t.classList?t.classList.contains(e):(" "+(t.className.baseVal||t.className)+" ").indexOf(" "+e+" ")!==-1}function W2(t,e){t.classList?t.classList.add(e):X2(t,e)||(typeof t.className=="string"?t.className=t.className+" "+e:t.setAttribute("class",(t.className&&t.className.baseVal||"")+" "+e))}function Tw(t,e){return t.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function j2(t,e){t.classList?t.classList.remove(e):typeof t.className=="string"?t.className=Tw(t.className,e):t.setAttribute("class",Tw(t.className&&t.className.baseVal||"",e))}const $s={FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top",NAVBAR_TOGGLER:".navbar-toggler"};class TR extends Ey{adjustAndStore(e,n,i){const r=n.style[e];n.dataset[e]=r,ro(n,{[e]:`${parseFloat(ro(n,e))+i}px`})}restore(e,n){const i=n.dataset[e];i!==void 0&&(delete n.dataset[e],ro(n,{[e]:i}))}setContainerStyle(e){super.setContainerStyle(e);const n=this.getElement();if(W2(n,"modal-open"),!e.scrollBarWidth)return;const i=this.isRTL?"paddingLeft":"paddingRight",r=this.isRTL?"marginLeft":"marginRight";Zi(n,$s.FIXED_CONTENT).forEach(a=>this.adjustAndStore(i,a,e.scrollBarWidth)),Zi(n,$s.STICKY_CONTENT).forEach(a=>this.adjustAndStore(r,a,-e.scrollBarWidth)),Zi(n,$s.NAVBAR_TOGGLER).forEach(a=>this.adjustAndStore(r,a,e.scrollBarWidth))}removeContainerStyle(e){super.removeContainerStyle(e);const n=this.getElement();j2(n,"modal-open");const i=this.isRTL?"paddingLeft":"paddingRight",r=this.isRTL?"marginLeft":"marginRight";Zi(n,$s.FIXED_CONTENT).forEach(a=>this.restore(i,a)),Zi(n,$s.STICKY_CONTENT).forEach(a=>this.restore(r,a)),Zi(n,$s.NAVBAR_TOGGLER).forEach(a=>this.restore(r,a))}}let fg;function Q2(t){return fg||(fg=new TR(t)),fg}const AR=w.createContext({onHide(){}}),xR=w.forwardRef(({closeLabel:t="Close",closeVariant:e,closeButton:n=!1,onHide:i,children:r,...a},u)=>{const c=w.useContext(AR),p=Ru(()=>{c?.onHide(),i?.()});return A.jsxs("div",{ref:u,...a,children:[r,n&&A.jsx(uy,{"aria-label":t,variant:e,onClick:p})]})});xR.displayName="AbstractModalHeader";const RR=w.forwardRef(({className:t,bsPrefix:e,as:n="div",...i},r)=>(e=Ue(e,"nav-item"),A.jsx(n,{ref:r,className:Me(t,e),...i})));RR.displayName="NavItem";const MR=w.forwardRef(({bsPrefix:t,className:e,as:n=ly,active:i,eventKey:r,disabled:a=!1,...u},c)=>{t=Ue(t,"nav-link");const[p,d]=ER({key:ru(r,u.href),active:i,disabled:a,...u});return A.jsx(n,{...u,...p,ref:c,disabled:a,className:Me(e,t,a&&"disabled",d.isActive&&"active")})});MR.displayName="NavLink";const NR=w.forwardRef((t,e)=>{const{as:n="div",bsPrefix:i,variant:r,fill:a=!1,justify:u=!1,navbar:c,navbarScroll:p,className:d,activeKey:m,...y}=ny(t,{activeKey:"onSelect"}),S=Ue(i,"nav");let E,C,T=!1;const x=w.useContext(Zr),M=w.useContext(fy);return x?(E=x.bsPrefix,T=c??!0):M&&({cardHeaderBsPrefix:C}=M),A.jsx(N2,{as:n,ref:e,activeKey:m,className:Me(d,{[S]:!T,[`${E}-nav`]:T,[`${E}-nav-scroll`]:T&&p,[`${C}-${r}`]:!!C,[`${S}-${r}`]:!!r,[`${S}-fill`]:a,[`${S}-justified`]:u}),...y})});NR.displayName="Nav";const Z2=Object.assign(NR,{Item:RR,Link:MR}),IR=w.forwardRef(({bsPrefix:t,className:e,as:n,...i},r)=>{t=Ue(t,"navbar-brand");const a=n||(i.href?"a":"span");return A.jsx(a,{...i,ref:r,className:Me(e,t)})});IR.displayName="NavbarBrand";const DR=w.forwardRef(({children:t,bsPrefix:e,...n},i)=>{e=Ue(e,"navbar-collapse");const r=w.useContext(Zr);return A.jsx(Rx,{in:!!(r&&r.expanded),...n,children:A.jsx("div",{ref:i,className:e,children:t})})});DR.displayName="NavbarCollapse";const OR=w.forwardRef(({bsPrefix:t,className:e,children:n,label:i="Toggle navigation",as:r="button",onClick:a,...u},c)=>{t=Ue(t,"navbar-toggler");const{onToggle:p,expanded:d}=w.useContext(Zr)||{},m=Ru(y=>{a&&a(y),p&&p()});return r==="button"&&(u.type="button"),A.jsx(r,{...u,ref:c,onClick:m,"aria-label":i,className:Me(e,t,!d&&"collapsed"),children:n||A.jsx("span",{className:`${t}-icon`})})});OR.displayName="NavbarToggle";const iv=new WeakMap,Aw=(t,e)=>{if(!t||!e)return;const n=iv.get(e)||new Map;iv.set(e,n);let i=n.get(t);return i||(i=e.matchMedia(t),i.refCount=0,n.set(i.media,i)),i};function eH(t,e=typeof window>"u"?void 0:window){const n=Aw(t,e),[i,r]=w.useState(()=>n?n.matches:!1);return hR(()=>{let a=Aw(t,e);if(!a)return r(!1);let u=iv.get(e);const c=()=>{r(a.matches)};return a.refCount++,a.addListener(c),c(),()=>{a.removeListener(c),a.refCount--,a.refCount<=0&&u?.delete(a.media),a=void 0}},[t]),i}function tH(t){const e=Object.keys(t);function n(c,p){return c===p?p:c?`${c} and ${p}`:p}function i(c){return e[Math.min(e.indexOf(c)+1,e.length-1)]}function r(c){const p=i(c);let d=t[p];return typeof d=="number"?d=`${d-.2}px`:d=`calc(${d} - 0.2px)`,`(max-width: ${d})`}function a(c){let p=t[c];return typeof p=="number"&&(p=`${p}px`),`(min-width: ${p})`}function u(c,p,d){let m;typeof c=="object"?(m=c,d=p,p=!0):(p=p||!0,m={[c]:p});let y=w.useMemo(()=>Object.entries(m).reduce((S,[E,C])=>((C==="up"||C===!0)&&(S=n(S,a(E))),(C==="down"||C===!0)&&(S=n(S,r(E))),S),""),[JSON.stringify(m)]);return eH(y,d)}return u}const nH=tH({xs:0,sm:576,md:768,lg:992,xl:1200,xxl:1400}),PR=w.forwardRef(({className:t,bsPrefix:e,as:n="div",...i},r)=>(e=Ue(e,"offcanvas-body"),A.jsx(n,{ref:r,className:Me(t,e),...i})));PR.displayName="OffcanvasBody";const iH={[jn]:"show",[no]:"show"},LR=w.forwardRef(({bsPrefix:t,className:e,children:n,in:i=!1,mountOnEnter:r=!1,unmountOnExit:a=!1,appear:u=!1,...c},p)=>(t=Ue(t,"offcanvas"),A.jsx(Jd,{ref:p,addEndListener:iy,in:i,mountOnEnter:r,unmountOnExit:a,appear:u,...c,childRef:ba(n),children:(d,m)=>w.cloneElement(n,{...m,className:Me(e,n.props.className,(d===jn||d===nu)&&`${t}-toggling`,iH[d])})})));LR.displayName="OffcanvasToggling";const UR=w.forwardRef(({bsPrefix:t,className:e,closeLabel:n="Close",closeButton:i=!1,...r},a)=>(t=Ue(t,"offcanvas-header"),A.jsx(xR,{ref:a,...r,className:Me(e,t),closeLabel:n,closeButton:i})));UR.displayName="OffcanvasHeader";const oH=ry("h5"),kR=w.forwardRef(({className:t,bsPrefix:e,as:n=oH,...i},r)=>(e=Ue(e,"offcanvas-title"),A.jsx(n,{ref:r,className:Me(t,e),...i})));kR.displayName="OffcanvasTitle";function rH(t){return A.jsx(LR,{...t})}function sH(t){return A.jsx(Ix,{...t})}const BR=w.forwardRef(({bsPrefix:t,className:e,children:n,"aria-labelledby":i,placement:r="start",responsive:a,show:u=!1,backdrop:c=!0,keyboard:p=!0,scroll:d=!1,onEscapeKeyDown:m,onShow:y,onHide:S,container:E,autoFocus:C=!0,enforceFocus:T=!0,restoreFocus:x=!0,restoreFocusOptions:M,onEntered:I,onExit:N,onExiting:D,onEnter:U,onEntering:k,onExited:O,backdropClassName:q,manager:J,renderStaticNode:X=!1,...j},re)=>{const ie=w.useRef();t=Ue(t,"offcanvas");const[ae,de]=w.useState(!1),H=Ru(S),Q=nH(a||"xs","up");w.useEffect(()=>{de(a?u&&!Q:u)},[u,a,Q]);const ee=w.useMemo(()=>({onHide:H}),[H]);function ne(){return J||(d?(ie.current||(ie.current=new TR({handleContainerOverflow:!1})),ie.current):Q2())}const ce=(le,...me)=>{le&&(le.style.visibility="visible"),U?.(le,...me)},L=(le,...me)=>{le&&(le.style.visibility=""),O?.(...me)},K=w.useCallback(le=>A.jsx("div",{...le,className:Me(`${t}-backdrop`,q)}),[q,t]),se=le=>A.jsx("div",{...le,...j,className:Me(e,a?`${t}-${a}`:t,`${t}-${r}`),"aria-labelledby":i,children:n});return A.jsxs(A.Fragment,{children:[!ae&&(a||X)&&se({}),A.jsx(AR.Provider,{value:ee,children:A.jsx(K2,{show:ae,ref:re,backdrop:c,container:E,keyboard:p,autoFocus:C,enforceFocus:T&&!d,restoreFocus:x,restoreFocusOptions:M,onEscapeKeyDown:m,onShow:y,onHide:H,onEnter:ce,onEntering:k,onEntered:I,onExit:N,onExiting:D,onExited:L,manager:ne(),transition:rH,backdropTransition:sH,renderBackdrop:K,renderDialog:se})})]})});BR.displayName="Offcanvas";const aH=Object.assign(BR,{Body:PR,Header:UR,Title:kR}),HR=w.forwardRef(({onHide:t,...e},n)=>{const i=w.useContext(Zr),r=Ru(()=>{i==null||i.onToggle==null||i.onToggle(),t?.()});return A.jsx(aH,{ref:n,show:!!(i!=null&&i.expanded),...e,renderStaticNode:!0,onHide:r})});HR.displayName="NavbarOffcanvas";const GR=w.forwardRef(({className:t,bsPrefix:e,as:n="span",...i},r)=>(e=Ue(e,"navbar-text"),A.jsx(n,{ref:r,className:Me(t,e),...i})));GR.displayName="NavbarText";const FR=w.forwardRef((t,e)=>{const{bsPrefix:n,expand:i=!0,variant:r="light",bg:a,fixed:u,sticky:c,className:p,as:d="nav",expanded:m,onToggle:y,onSelect:S,collapseOnSelect:E=!1,...C}=ny(t,{expanded:"onToggle"}),T=Ue(n,"navbar"),x=w.useCallback((...N)=>{S?.(...N),E&&m&&y?.(!1)},[S,E,m,y]);C.role===void 0&&d!=="nav"&&(C.role="navigation");let M=`${T}-expand`;typeof i=="string"&&(M=`${M}-${i}`);const I=w.useMemo(()=>({onToggle:()=>y?.(!m),bsPrefix:T,expanded:!!m,expand:i}),[T,m,i,y]);return A.jsx(Zr.Provider,{value:I,children:A.jsx(qr.Provider,{value:x,children:A.jsx(d,{ref:e,...C,className:Me(p,T,i&&M,r&&`${T}-${r}`,a&&`bg-${a}`,c&&`sticky-${c}`,u&&`fixed-${u}`)})})})});FR.displayName="Navbar";const xw=Object.assign(FR,{Brand:IR,Collapse:DR,Offcanvas:HR,Text:GR,Toggle:OR}),$R=w.forwardRef(({bsPrefix:t,className:e,as:n="div",...i},r)=>{const a=Ue(t,"row"),u=wx(),c=Cx(),p=`${a}-cols`,d=[];return u.forEach(m=>{const y=i[m];delete i[m];let S;y!=null&&typeof y=="object"?{cols:S}=y:S=y;const E=m!==c?`-${m}`:"";S!=null&&d.push(`${p}${E}-${S}`)}),A.jsx(n,{ref:r,...i,className:Me(e,a,...d)})});$R.displayName="Row";const VR=w.forwardRef(({bsPrefix:t,variant:e,animation:n="border",size:i,as:r="div",className:a,...u},c)=>{t=Ue(t,"spinner");const p=`${t}-${n}`;return A.jsx(r,{ref:c,...u,className:Me(a,p,i&&`${p}-${i}`,e&&`text-${e}`)})});VR.displayName="Spinner";const zR=({name:t,onClick:e,subItems:n})=>{const[i,r]=w.useState(!1);return A.jsxs("div",{onMouseEnter:()=>r(!0),onMouseLeave:()=>r(!1),style:{position:"relative"},children:[A.jsxs("div",{className:"dropdown-item d-flex justify-content-between",style:{cursor:"pointer"},onClick:e,children:[t," ",n?A.jsx("span",{children:""}):null]}),n&&i&&A.jsx("div",{className:"dropdown-menu show",style:{position:"absolute",top:0,left:"100%",minWidth:"180px",zIndex:1e3},children:n.map((a,u)=>A.jsx(zR,{name:a.name,onClick:a.onClick,subItems:a.subItems},u))})]})},Vs=({title:t,items:e,onClick:n})=>{const[i,r]=w.useState(!1),a=e&&e.length>0;return A.jsxs("div",{className:"nav-item dropdown",onMouseEnter:()=>r(!0),onMouseLeave:()=>r(!1),style:{position:"relative"},children:[A.jsx("span",{className:"nav-link dropdown-toggle",style:{cursor:a||n?"pointer":"default"},onClick:()=>{n&&n()},children:t}),i&&a&&A.jsx("div",{className:"dropdown-menu show",style:{minWidth:"180px"},children:e.map((u,c)=>A.jsx(zR,{...u},c))})]})};class Jr{fileHandle;data;constructor(e,n){this.fileHandle=e,this.data=Et(n),po(this)}static async create(e,n,i={}){try{const r=await e.getFileHandle(n,{create:!0}),u=await(await r.getFile()).text(),c=u.trim()===""?{...i}:{...i,...JSON.parse(u)};return new Jr(r,c)}catch(r){console.error("Error loading JSON:",r);const a=await e.getFileHandle(n,{create:!0});return new Jr(a,{...i})}}async save(){try{let e=await this.fileHandle.queryPermission({mode:"readwrite"});if(e!=="granted"&&(e=await this.fileHandle.requestPermission({mode:"readwrite"})),e!=="granted")throw new Error("No permission to write file");const n=await this.fileHandle.createWritable();await n.write(JSON.stringify(this.data,null,2)),await n.close()}catch(e){console.error("Error saving JSON:",e)}}async updateField(e,n,i=!0){Je(()=>{this.data[e]=n}),i&&await this.save()}}class Yr{handle;parent;urlObject=null;base64Data=null;constructor(e,n){this.handle=e,this.parent=n}async getUrlObject(){if(!this.urlObject)try{const e=await this.handle.getFile();this.urlObject=URL.createObjectURL(e)}catch(e){console.error("Failed to create object URL for file:",e),this.urlObject=""}return this.urlObject}revokeUrl(){this.urlObject&&(URL.revokeObjectURL(this.urlObject),this.urlObject=null)}static async fromUrl(e,n){try{const i=await fetch(e);if(!i.ok)throw new Error(`Failed to fetch image: ${i.statusText}`);const r=await i.blob(),a=e.split("/");let u=a[a.length-1];const c=await n.getFileHandle(u,{create:!0}),p=await c.createWritable();return await p.write(r),await p.close(),new Yr(c,n)}catch(i){throw console.error("Failed to create LocalImage from URL:",i),i}}async delete(e){try{this.revokeUrl(),await e.removeEntry(this.handle.name)}catch(n){throw console.error("Failed to delete image file:",n),n}}async getBase64(){if(this.base64Data)return this.base64Data;try{const e=await this.handle.getFile(),n=await e.arrayBuffer(),i=e.type||"image/png",r=lH(n);return this.base64Data={rawBase64:r,mime:i},this.base64Data}catch(e){return console.error("Failed to create Base64 from file:",e),{rawBase64:"",mime:"image/png"}}}static async fromBase64(e,n,i){try{let r=e.rawBase64;const a=`data:${e.mime};base64,`;r.startsWith(a)&&(r=r.slice(a.length));const u=atob(r),c=u.length,p=new Uint8Array(c);for(let S=0;S<c;S++)p[S]=u.charCodeAt(S);const d=await n.getFileHandle(i,{create:!0}),m=await d.createWritable();await m.write(p),await m.close();const y=new Yr(d,n);return y.base64Data=e,y}catch(r){throw console.error("Failed to create LocalImage from Base64:",r),r}}}function lH(t){let e="";const n=new Uint8Array(t),i=n.byteLength;for(let r=0;r<i;r++)e+=String.fromCharCode(n[r]);return btoa(e)}var uH={};let cH,fH;function dH(){return{geminiUrl:cH,vertexUrl:fH}}function pH(t,e,n,i){var r,a;if(!t?.baseUrl){const u=dH();return e?(r=u.vertexUrl)!==null&&r!==void 0?r:n:(a=u.geminiUrl)!==null&&a!==void 0?a:i}return t.baseUrl}class mo{}function fe(t,e){const n=/\{([^}]+)\}/g;return t.replace(n,(i,r)=>{if(Object.prototype.hasOwnProperty.call(e,r)){const a=e[r];return a!=null?String(a):""}else throw new Error(`Key '${r}' not found in valueMap.`)})}function g(t,e,n){for(let a=0;a<e.length-1;a++){const u=e[a];if(u.endsWith("[]")){const c=u.slice(0,-2);if(!(c in t))if(Array.isArray(n))t[c]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${u}`);if(Array.isArray(t[c])){const p=t[c];if(Array.isArray(n))for(let d=0;d<p.length;d++){const m=p[d];g(m,e.slice(a+1),n[d])}else for(const d of p)g(d,e.slice(a+1),n)}return}else if(u.endsWith("[0]")){const c=u.slice(0,-3);c in t||(t[c]=[{}]);const p=t[c];g(p[0],e.slice(a+1),n);return}(!t[u]||typeof t[u]!="object")&&(t[u]={}),t=t[u]}const i=e[e.length-1],r=t[i];if(r!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===r)return;if(typeof r=="object"&&typeof n=="object"&&r!==null&&n!==null)Object.assign(r,n);else throw new Error(`Cannot set value for an existing key. Key: ${i}`)}else i==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(t,n):t[i]=n}function h(t,e,n=void 0){try{if(e.length===1&&e[0]==="_self")return t;for(let i=0;i<e.length;i++){if(typeof t!="object"||t===null)return n;const r=e[i];if(r.endsWith("[]")){const a=r.slice(0,-2);if(a in t){const u=t[a];return Array.isArray(u)?u.map(c=>h(c,e.slice(i+1),n)):n}else return n}else t=t[r]}return t}catch(i){if(i instanceof TypeError)return n;throw i}}function hH(t,e){for(const[n,i]of Object.entries(e)){const r=n.split("."),a=i.split("."),u=new Set;let c=-1;for(let p=0;p<r.length;p++)if(r[p]==="*"){c=p;break}if(c!==-1&&a.length>c)for(let p=c;p<a.length;p++){const d=a[p];d!=="*"&&!d.endsWith("[]")&&!d.endsWith("[0]")&&u.add(d)}ov(t,r,a,0,u)}}function ov(t,e,n,i,r){if(i>=e.length||typeof t!="object"||t===null)return;const a=e[i];if(a.endsWith("[]")){const u=a.slice(0,-2),c=t;if(u in c&&Array.isArray(c[u]))for(const p of c[u])ov(p,e,n,i+1,r)}else if(a==="*"){if(typeof t=="object"&&t!==null&&!Array.isArray(t)){const u=t,c=Object.keys(u).filter(d=>!d.startsWith("_")&&!r.has(d)),p={};for(const d of c)p[d]=u[d];for(const[d,m]of Object.entries(p)){const y=[];for(const S of n.slice(i))S==="*"?y.push(d):y.push(S);g(u,y,m)}for(const d of c)delete u[d]}}else{const u=t;a in u&&ov(u[a],e,n,i+1,r)}}function by(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}function mH(t){const e={},n=h(t,["operationName"]);n!=null&&g(e,["operationName"],n);const i=h(t,["resourceName"]);return i!=null&&g(e,["_url","resourceName"],i),e}function gH(t){const e={},n=h(t,["name"]);n!=null&&g(e,["name"],n);const i=h(t,["metadata"]);i!=null&&g(e,["metadata"],i);const r=h(t,["done"]);r!=null&&g(e,["done"],r);const a=h(t,["error"]);a!=null&&g(e,["error"],a);const u=h(t,["response","generateVideoResponse"]);return u!=null&&g(e,["response"],yH(u)),e}function vH(t){const e={},n=h(t,["name"]);n!=null&&g(e,["name"],n);const i=h(t,["metadata"]);i!=null&&g(e,["metadata"],i);const r=h(t,["done"]);r!=null&&g(e,["done"],r);const a=h(t,["error"]);a!=null&&g(e,["error"],a);const u=h(t,["response"]);return u!=null&&g(e,["response"],_H(u)),e}function yH(t){const e={},n=h(t,["generatedSamples"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(u=>SH(u))),g(e,["generatedVideos"],a)}const i=h(t,["raiMediaFilteredCount"]);i!=null&&g(e,["raiMediaFilteredCount"],i);const r=h(t,["raiMediaFilteredReasons"]);return r!=null&&g(e,["raiMediaFilteredReasons"],r),e}function _H(t){const e={},n=h(t,["videos"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(u=>EH(u))),g(e,["generatedVideos"],a)}const i=h(t,["raiMediaFilteredCount"]);i!=null&&g(e,["raiMediaFilteredCount"],i);const r=h(t,["raiMediaFilteredReasons"]);return r!=null&&g(e,["raiMediaFilteredReasons"],r),e}function SH(t){const e={},n=h(t,["video"]);return n!=null&&g(e,["video"],xH(n)),e}function EH(t){const e={},n=h(t,["_self"]);return n!=null&&g(e,["video"],RH(n)),e}function bH(t){const e={},n=h(t,["operationName"]);return n!=null&&g(e,["_url","operationName"],n),e}function wH(t){const e={},n=h(t,["operationName"]);return n!=null&&g(e,["_url","operationName"],n),e}function CH(t){const e={},n=h(t,["name"]);n!=null&&g(e,["name"],n);const i=h(t,["metadata"]);i!=null&&g(e,["metadata"],i);const r=h(t,["done"]);r!=null&&g(e,["done"],r);const a=h(t,["error"]);a!=null&&g(e,["error"],a);const u=h(t,["response"]);return u!=null&&g(e,["response"],TH(u)),e}function TH(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const i=h(t,["parent"]);i!=null&&g(e,["parent"],i);const r=h(t,["documentName"]);return r!=null&&g(e,["documentName"],r),e}function qR(t){const e={},n=h(t,["name"]);n!=null&&g(e,["name"],n);const i=h(t,["metadata"]);i!=null&&g(e,["metadata"],i);const r=h(t,["done"]);r!=null&&g(e,["done"],r);const a=h(t,["error"]);a!=null&&g(e,["error"],a);const u=h(t,["response"]);return u!=null&&g(e,["response"],AH(u)),e}function AH(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const i=h(t,["parent"]);i!=null&&g(e,["parent"],i);const r=h(t,["documentName"]);return r!=null&&g(e,["documentName"],r),e}function xH(t){const e={},n=h(t,["uri"]);n!=null&&g(e,["uri"],n);const i=h(t,["encodedVideo"]);i!=null&&g(e,["videoBytes"],by(i));const r=h(t,["encoding"]);return r!=null&&g(e,["mimeType"],r),e}function RH(t){const e={},n=h(t,["gcsUri"]);n!=null&&g(e,["uri"],n);const i=h(t,["bytesBase64Encoded"]);i!=null&&g(e,["videoBytes"],by(i));const r=h(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}var Rw;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(Rw||(Rw={}));var Mw;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(Mw||(Mw={}));var Nw;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(Nw||(Nw={}));var Wo;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(Wo||(Wo={}));var Iw;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(Iw||(Iw={}));var Dw;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(Dw||(Dw={}));var Ow;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(Ow||(Ow={}));var Pw;(function(t){t.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",t.HTTP_IN_QUERY="HTTP_IN_QUERY",t.HTTP_IN_HEADER="HTTP_IN_HEADER",t.HTTP_IN_PATH="HTTP_IN_PATH",t.HTTP_IN_BODY="HTTP_IN_BODY",t.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(Pw||(Pw={}));var Lw;(function(t){t.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",t.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",t.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",t.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(Lw||(Lw={}));var Uw;(function(t){t.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",t.LOW="LOW",t.HIGH="HIGH"})(Uw||(Uw={}));var kw;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(kw||(kw={}));var Bw;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(Bw||(Bw={}));var Hw;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(Hw||(Hw={}));var Gw;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",t.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",t.NO_IMAGE="NO_IMAGE",t.IMAGE_RECITATION="IMAGE_RECITATION",t.IMAGE_OTHER="IMAGE_OTHER"})(Gw||(Gw={}));var Fw;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(Fw||(Fw={}));var $w;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})($w||($w={}));var Vw;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",t.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",t.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(Vw||(Vw={}));var zw;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY",t.MODEL_ARMOR="MODEL_ARMOR",t.JAILBREAK="JAILBREAK"})(zw||(zw={}));var qw;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(qw||(qw={}));var md;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(md||(md={}));var Jw;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(Jw||(Jw={}));var Yw;(function(t){t.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",t.TUNING_MODE_FULL="TUNING_MODE_FULL",t.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(Yw||(Yw={}));var Kw;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(Kw||(Kw={}));var rv;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(rv||(rv={}));var Xw;(function(t){t.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",t.TUNING_TASK_I2V="TUNING_TASK_I2V",t.TUNING_TASK_T2V="TUNING_TASK_T2V",t.TUNING_TASK_R2V="TUNING_TASK_R2V"})(Xw||(Xw={}));var Ww;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(Ww||(Ww={}));var jw;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(jw||(jw={}));var Qw;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(Qw||(Qw={}));var Zw;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(Zw||(Zw={}));var eC;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(eC||(eC={}));var tC;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE",t.VALIDATED="VALIDATED"})(tC||(tC={}));var nC;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(nC||(nC={}));var iC;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(iC||(iC={}));var oC;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(oC||(oC={}));var rC;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(rC||(rC={}));var sC;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(sC||(sC={}));var aC;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(aC||(aC={}));var lC;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(lC||(lC={}));var uC;(function(t){t.FOREGROUND="FOREGROUND",t.BACKGROUND="BACKGROUND",t.PROMPT="PROMPT",t.SEMANTIC="SEMANTIC",t.INTERACTIVE="INTERACTIVE"})(uC||(uC={}));var cC;(function(t){t.ASSET="ASSET",t.STYLE="STYLE"})(cC||(cC={}));var fC;(function(t){t.INSERT="INSERT",t.REMOVE="REMOVE",t.REMOVE_STATIC="REMOVE_STATIC",t.OUTPAINT="OUTPAINT"})(fC||(fC={}));var dC;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(dC||(dC={}));var pC;(function(t){t.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",t.PREFERENCE_TUNING="PREFERENCE_TUNING"})(pC||(pC={}));var hC;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.STATE_PENDING="STATE_PENDING",t.STATE_ACTIVE="STATE_ACTIVE",t.STATE_FAILED="STATE_FAILED"})(hC||(hC={}));var mC;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(mC||(mC={}));var gC;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED"})(gC||(gC={}));var vC;(function(t){t.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.RESPONSE_REJECTED="RESPONSE_REJECTED",t.NEED_MORE_INPUT="NEED_MORE_INPUT"})(vC||(vC={}));var yC;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(yC||(yC={}));var _C;(function(t){t.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",t.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",t.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(_C||(_C={}));var SC;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(SC||(SC={}));var EC;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(EC||(EC={}));var bC;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(bC||(bC={}));var wC;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(wC||(wC={}));var CC;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(CC||(CC={}));var TC;(function(t){t.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",t.QUALITY="QUALITY",t.DIVERSITY="DIVERSITY",t.VOCALIZATION="VOCALIZATION"})(TC||(TC={}));var oa;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(oa||(oa={}));class sv{constructor(e){const n={};for(const i of e.headers.entries())n[i[0]]=i[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class Il{get text(){var e,n,i,r,a,u,c,p;if(((r=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let d="",m=!1;const y=[];for(const S of(p=(c=(u=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||u===void 0?void 0:u.content)===null||c===void 0?void 0:c.parts)!==null&&p!==void 0?p:[]){for(const[E,C]of Object.entries(S))E!=="text"&&E!=="thought"&&E!=="thoughtSignature"&&(C!==null||C!==void 0)&&y.push(E);if(typeof S.text=="string"){if(typeof S.thought=="boolean"&&S.thought)continue;m=!0,d+=S.text}}return y.length>0&&console.warn(`there are non-text parts ${y} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),m?d:void 0}get data(){var e,n,i,r,a,u,c,p;if(((r=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let d="";const m=[];for(const y of(p=(c=(u=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||u===void 0?void 0:u.content)===null||c===void 0?void 0:c.parts)!==null&&p!==void 0?p:[]){for(const[S,E]of Object.entries(y))S!=="inlineData"&&(E!==null||E!==void 0)&&m.push(S);y.inlineData&&typeof y.inlineData.data=="string"&&(d+=atob(y.inlineData.data))}return m.length>0&&console.warn(`there are non-data parts ${m} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),d.length>0?btoa(d):void 0}get functionCalls(){var e,n,i,r,a,u,c,p;if(((r=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const d=(p=(c=(u=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||u===void 0?void 0:u.content)===null||c===void 0?void 0:c.parts)===null||p===void 0?void 0:p.filter(m=>m.functionCall).map(m=>m.functionCall).filter(m=>m!==void 0);if(d?.length!==0)return d}get executableCode(){var e,n,i,r,a,u,c,p,d;if(((r=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const m=(p=(c=(u=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||u===void 0?void 0:u.content)===null||c===void 0?void 0:c.parts)===null||p===void 0?void 0:p.filter(y=>y.executableCode).map(y=>y.executableCode).filter(y=>y!==void 0);if(m?.length!==0)return(d=m?.[0])===null||d===void 0?void 0:d.code}get codeExecutionResult(){var e,n,i,r,a,u,c,p,d;if(((r=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const m=(p=(c=(u=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||u===void 0?void 0:u.content)===null||c===void 0?void 0:c.parts)===null||p===void 0?void 0:p.filter(y=>y.codeExecutionResult).map(y=>y.codeExecutionResult).filter(y=>y!==void 0);if(m?.length!==0)return(d=m?.[0])===null||d===void 0?void 0:d.output}}class AC{}class xC{}class MH{}class NH{}class IH{}class DH{}class RC{}class MC{}class NC{}class OH{}class gd{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const i=new gd;let r;const a=e;return n?r=vH(a):r=gH(a),Object.assign(i,r),i}}class IC{}class DC{}class OC{}class PC{}class PH{}class LH{}class UH{}class wy{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const i=new wy,a=CH(e);return Object.assign(i,a),i}}class kH{}class BH{}class HH{}class LC{}class GH{get text(){var e,n,i;let r="",a=!1;const u=[];for(const c of(i=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&i!==void 0?i:[]){for(const[p,d]of Object.entries(c))p!=="text"&&p!=="thought"&&d!==null&&u.push(p);if(typeof c.text=="string"){if(typeof c.thought=="boolean"&&c.thought)continue;a=!0,r+=c.text}}return u.length>0&&console.warn(`there are non-text parts ${u} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),a?r:void 0}get data(){var e,n,i;let r="";const a=[];for(const u of(i=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&i!==void 0?i:[]){for(const[c,p]of Object.entries(u))c!=="inlineData"&&p!==null&&a.push(c);u.inlineData&&typeof u.inlineData.data=="string"&&(r+=atob(u.inlineData.data))}return a.length>0&&console.warn(`there are non-data parts ${a} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),r.length>0?btoa(r):void 0}}class FH{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class Cy{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const i=new Cy,a=qR(e);return Object.assign(i,a),i}}function $e(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function JR(t,e){const n=$e(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function YR(t){return Array.isArray(t)?t.map(e=>vd(e)):[vd(t)]}function vd(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function KR(t){const e=vd(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function XR(t){const e=vd(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function UC(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function WR(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>UC(e)):[UC(t)]}function av(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function kC(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function BC(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function Ut(t){if(t==null)throw new Error("ContentUnion is required");return av(t)?t:{role:"user",parts:WR(t)}}function Ty(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{const i=Ut(n);return i.parts&&i.parts.length>0&&i.parts[0].text!==void 0?[i.parts[0].text]:[]});if(t.isVertexAI()){const n=Ut(e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>Ut(n)):[Ut(e)]}function Hn(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(kC(t)||BC(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[Ut(t)]}const e=[],n=[],i=av(t[0]);for(const r of t){const a=av(r);if(a!=i)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(a)e.push(r);else{if(kC(r)||BC(r))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(r)}}return i||e.push({role:"user",parts:WR(n)}),e}function $H(t,e){t.includes("null")&&(e.nullable=!0);const n=t.filter(i=>i!=="null");if(n.length===1)e.type=Object.values(Wo).includes(n[0].toUpperCase())?n[0].toUpperCase():Wo.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const i of n)e.anyOf.push({type:Object.values(Wo).includes(i.toUpperCase())?i.toUpperCase():Wo.TYPE_UNSPECIFIED})}}function aa(t){const e={},n=["items"],i=["anyOf"],r=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const a=t.anyOf;a!=null&&a.length==2&&(a[0].type==="null"?(e.nullable=!0,t=a[1]):a[1].type==="null"&&(e.nullable=!0,t=a[0])),t.type instanceof Array&&$H(t.type,e);for(const[u,c]of Object.entries(t))if(c!=null)if(u=="type"){if(c==="null")throw new Error("type: null can not be the only possible type for the field.");if(c instanceof Array)continue;e.type=Object.values(Wo).includes(c.toUpperCase())?c.toUpperCase():Wo.TYPE_UNSPECIFIED}else if(n.includes(u))e[u]=aa(c);else if(i.includes(u)){const p=[];for(const d of c){if(d.type=="null"){e.nullable=!0;continue}p.push(aa(d))}e[u]=p}else if(r.includes(u)){const p={};for(const[d,m]of Object.entries(c))p[d]=aa(m);e[u]=p}else{if(u==="additionalProperties")continue;e[u]=c}return e}function Ay(t){return aa(t)}function xy(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function Ry(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function Ca(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=aa(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=aa(e.response));return t}function Ta(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const n of t)e.push(n);return e}function VH(t,e,n,i=1){const r=!e.startsWith(`${n}/`)&&e.split("/").length===i;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:r?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:r?`${n}/${e}`:e}function go(t,e){if(typeof e!="string")throw new Error("name must be a string");return VH(t,e,"cachedContents")}function jR(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function lr(t){return by(t)}function zH(t){return t!=null&&typeof t=="object"&&"name"in t}function qH(t){return t!=null&&typeof t=="object"&&"video"in t}function JH(t){return t!=null&&typeof t=="object"&&"uri"in t}function QR(t){var e;let n;if(zH(t)&&(n=t.name),!(JH(t)&&(n=t.uri,n===void 0))&&!(qH(t)&&(n=(e=t.video)===null||e===void 0?void 0:e.uri,n===void 0))){if(typeof t=="string"&&(n=t),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const r=n.split("files/")[1].match(/[a-z0-9]+/);if(r===null)throw new Error(`Could not extract file name from URI ${n}`);n=r[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function ZR(t,e){let n;return t.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function eM(t){for(const e of["models","tunedModels","publisherModels"])if(YH(t,e))return t[e];return[]}function YH(t,e){return t!==null&&typeof t=="object"&&e in t}function KH(t,e={}){const n=t,i={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(i.responseJsonSchema=n.outputSchema),e.behavior&&(i.behavior=e.behavior),{functionDeclarations:[i]}}function XH(t,e={}){const n=[],i=new Set;for(const r of t){const a=r.name;if(i.has(a))throw new Error(`Duplicate function name ${a} found in MCP tools. Please ensure function names are unique.`);i.add(a);const u=KH(r,e);u.functionDeclarations&&n.push(...u.functionDeclarations)}return{functionDeclarations:n}}function tM(t,e){let n;if(typeof e=="string")if(t.isVertexAI())if(e.startsWith("gs://"))n={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))n={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))n={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(t.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:e}}else n=e;const i=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,r=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(t.isVertexAI()){if(r>0||i!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(i>0||r!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function WH(t){if(typeof t!="string")return t;const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function nM(t){if(typeof t!="object"||t===null)return{};const e=t,n=e.inlinedResponses;if(typeof n!="object"||n===null)return t;const r=n.inlinedResponses;if(!Array.isArray(r)||r.length===0)return t;let a=!1;for(const u of r){if(typeof u!="object"||u===null)continue;const p=u.response;if(typeof p!="object"||p===null)continue;if(p.embedding!==void 0){a=!0;break}}return a&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),t}function Aa(t,e){const n=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function iM(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}function jH(t){const e={},n=h(t,["responsesFile"]);n!=null&&g(e,["fileName"],n);const i=h(t,["inlinedResponses","inlinedResponses"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(u=>IG(u))),g(e,["inlinedResponses"],a)}const r=h(t,["inlinedEmbedContentResponses","inlinedResponses"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(u=>u)),g(e,["inlinedEmbedContentResponses"],a)}return e}function QH(t){const e={},n=h(t,["predictionsFormat"]);n!=null&&g(e,["format"],n);const i=h(t,["gcsDestination","outputUriPrefix"]);i!=null&&g(e,["gcsUri"],i);const r=h(t,["bigqueryDestination","outputUri"]);return r!=null&&g(e,["bigqueryUri"],r),e}function ZH(t){const e={},n=h(t,["format"]);n!=null&&g(e,["predictionsFormat"],n);const i=h(t,["gcsUri"]);i!=null&&g(e,["gcsDestination","outputUriPrefix"],i);const r=h(t,["bigqueryUri"]);if(r!=null&&g(e,["bigqueryDestination","outputUri"],r),h(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(h(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(h(t,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function Vf(t){const e={},n=h(t,["name"]);n!=null&&g(e,["name"],n);const i=h(t,["metadata","displayName"]);i!=null&&g(e,["displayName"],i);const r=h(t,["metadata","state"]);r!=null&&g(e,["state"],iM(r));const a=h(t,["metadata","createTime"]);a!=null&&g(e,["createTime"],a);const u=h(t,["metadata","endTime"]);u!=null&&g(e,["endTime"],u);const c=h(t,["metadata","updateTime"]);c!=null&&g(e,["updateTime"],c);const p=h(t,["metadata","model"]);p!=null&&g(e,["model"],p);const d=h(t,["metadata","output"]);return d!=null&&g(e,["dest"],jH(nM(d))),e}function lv(t){const e={},n=h(t,["name"]);n!=null&&g(e,["name"],n);const i=h(t,["displayName"]);i!=null&&g(e,["displayName"],i);const r=h(t,["state"]);r!=null&&g(e,["state"],iM(r));const a=h(t,["error"]);a!=null&&g(e,["error"],a);const u=h(t,["createTime"]);u!=null&&g(e,["createTime"],u);const c=h(t,["startTime"]);c!=null&&g(e,["startTime"],c);const p=h(t,["endTime"]);p!=null&&g(e,["endTime"],p);const d=h(t,["updateTime"]);d!=null&&g(e,["updateTime"],d);const m=h(t,["model"]);m!=null&&g(e,["model"],m);const y=h(t,["inputConfig"]);y!=null&&g(e,["src"],eG(y));const S=h(t,["outputConfig"]);S!=null&&g(e,["dest"],QH(nM(S)));const E=h(t,["completionStats"]);return E!=null&&g(e,["completionStats"],E),e}function eG(t){const e={},n=h(t,["instancesFormat"]);n!=null&&g(e,["format"],n);const i=h(t,["gcsSource","uris"]);i!=null&&g(e,["gcsUri"],i);const r=h(t,["bigquerySource","inputUri"]);return r!=null&&g(e,["bigqueryUri"],r),e}function tG(t,e){const n={};if(h(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(h(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(h(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const i=h(e,["fileName"]);i!=null&&g(n,["fileName"],i);const r=h(e,["inlinedRequests"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(u=>NG(t,u))),g(n,["requests","requests"],a)}return n}function nG(t){const e={},n=h(t,["format"]);n!=null&&g(e,["instancesFormat"],n);const i=h(t,["gcsUri"]);i!=null&&g(e,["gcsSource","uris"],i);const r=h(t,["bigqueryUri"]);if(r!=null&&g(e,["bigquerySource","inputUri"],r),h(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(h(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function iG(t){const e={},n=h(t,["data"]);if(n!=null&&g(e,["data"],n),h(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=h(t,["mimeType"]);return i!=null&&g(e,["mimeType"],i),e}function oG(t,e){const n={},i=h(e,["name"]);return i!=null&&g(n,["_url","name"],Aa(t,i)),n}function rG(t,e){const n={},i=h(e,["name"]);return i!=null&&g(n,["_url","name"],Aa(t,i)),n}function sG(t){const e={},n=h(t,["content"]);n!=null&&g(e,["content"],n);const i=h(t,["citationMetadata"]);i!=null&&g(e,["citationMetadata"],aG(i));const r=h(t,["tokenCount"]);r!=null&&g(e,["tokenCount"],r);const a=h(t,["finishReason"]);a!=null&&g(e,["finishReason"],a);const u=h(t,["avgLogprobs"]);u!=null&&g(e,["avgLogprobs"],u);const c=h(t,["groundingMetadata"]);c!=null&&g(e,["groundingMetadata"],c);const p=h(t,["index"]);p!=null&&g(e,["index"],p);const d=h(t,["logprobsResult"]);d!=null&&g(e,["logprobsResult"],d);const m=h(t,["safetyRatings"]);if(m!=null){let S=m;Array.isArray(S)&&(S=S.map(E=>E)),g(e,["safetyRatings"],S)}const y=h(t,["urlContextMetadata"]);return y!=null&&g(e,["urlContextMetadata"],y),e}function aG(t){const e={},n=h(t,["citationSources"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(r=>r)),g(e,["citations"],i)}return e}function oM(t){const e={},n=h(t,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(a=>BG(a))),g(e,["parts"],r)}const i=h(t,["role"]);return i!=null&&g(e,["role"],i),e}function lG(t,e){const n={},i=h(t,["displayName"]);if(e!==void 0&&i!=null&&g(e,["batch","displayName"],i),h(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function uG(t,e){const n={},i=h(t,["displayName"]);e!==void 0&&i!=null&&g(e,["displayName"],i);const r=h(t,["dest"]);return e!==void 0&&r!=null&&g(e,["outputConfig"],ZH(WH(r))),n}function HC(t,e){const n={},i=h(e,["model"]);i!=null&&g(n,["_url","model"],$e(t,i));const r=h(e,["src"]);r!=null&&g(n,["batch","inputConfig"],tG(t,tM(t,r)));const a=h(e,["config"]);return a!=null&&lG(a,n),n}function cG(t,e){const n={},i=h(e,["model"]);i!=null&&g(n,["model"],$e(t,i));const r=h(e,["src"]);r!=null&&g(n,["inputConfig"],nG(tM(t,r)));const a=h(e,["config"]);return a!=null&&uG(a,n),n}function fG(t,e){const n={},i=h(t,["displayName"]);return e!==void 0&&i!=null&&g(e,["batch","displayName"],i),n}function dG(t,e){const n={},i=h(e,["model"]);i!=null&&g(n,["_url","model"],$e(t,i));const r=h(e,["src"]);r!=null&&g(n,["batch","inputConfig"],_G(t,r));const a=h(e,["config"]);return a!=null&&fG(a,n),n}function pG(t,e){const n={},i=h(e,["name"]);return i!=null&&g(n,["_url","name"],Aa(t,i)),n}function hG(t,e){const n={},i=h(e,["name"]);return i!=null&&g(n,["_url","name"],Aa(t,i)),n}function mG(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const i=h(t,["name"]);i!=null&&g(e,["name"],i);const r=h(t,["done"]);r!=null&&g(e,["done"],r);const a=h(t,["error"]);return a!=null&&g(e,["error"],a),e}function gG(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const i=h(t,["name"]);i!=null&&g(e,["name"],i);const r=h(t,["done"]);r!=null&&g(e,["done"],r);const a=h(t,["error"]);return a!=null&&g(e,["error"],a),e}function vG(t,e){const n={},i=h(e,["contents"]);if(i!=null){let a=Ty(t,i);Array.isArray(a)&&(a=a.map(u=>u)),g(n,["requests[]","request","content"],a)}const r=h(e,["config"]);return r!=null&&(g(n,["_self"],yG(r,n)),hH(n,{"requests[].*":"requests[].request.*"})),n}function yG(t,e){const n={},i=h(t,["taskType"]);e!==void 0&&i!=null&&g(e,["requests[]","taskType"],i);const r=h(t,["title"]);e!==void 0&&r!=null&&g(e,["requests[]","title"],r);const a=h(t,["outputDimensionality"]);if(e!==void 0&&a!=null&&g(e,["requests[]","outputDimensionality"],a),h(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(h(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function _G(t,e){const n={},i=h(e,["fileName"]);i!=null&&g(n,["file_name"],i);const r=h(e,["inlinedRequests"]);return r!=null&&g(n,["requests"],vG(t,r)),n}function SG(t){const e={};if(h(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=h(t,["fileUri"]);n!=null&&g(e,["fileUri"],n);const i=h(t,["mimeType"]);return i!=null&&g(e,["mimeType"],i),e}function EG(t){const e={},n=h(t,["id"]);n!=null&&g(e,["id"],n);const i=h(t,["args"]);i!=null&&g(e,["args"],i);const r=h(t,["name"]);if(r!=null&&g(e,["name"],r),h(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(h(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function bG(t){const e={},n=h(t,["mode"]);n!=null&&g(e,["mode"],n);const i=h(t,["allowedFunctionNames"]);if(i!=null&&g(e,["allowedFunctionNames"],i),h(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function wG(t,e,n){const i={},r=h(e,["systemInstruction"]);n!==void 0&&r!=null&&g(n,["systemInstruction"],oM(Ut(r)));const a=h(e,["temperature"]);a!=null&&g(i,["temperature"],a);const u=h(e,["topP"]);u!=null&&g(i,["topP"],u);const c=h(e,["topK"]);c!=null&&g(i,["topK"],c);const p=h(e,["candidateCount"]);p!=null&&g(i,["candidateCount"],p);const d=h(e,["maxOutputTokens"]);d!=null&&g(i,["maxOutputTokens"],d);const m=h(e,["stopSequences"]);m!=null&&g(i,["stopSequences"],m);const y=h(e,["responseLogprobs"]);y!=null&&g(i,["responseLogprobs"],y);const S=h(e,["logprobs"]);S!=null&&g(i,["logprobs"],S);const E=h(e,["presencePenalty"]);E!=null&&g(i,["presencePenalty"],E);const C=h(e,["frequencyPenalty"]);C!=null&&g(i,["frequencyPenalty"],C);const T=h(e,["seed"]);T!=null&&g(i,["seed"],T);const x=h(e,["responseMimeType"]);x!=null&&g(i,["responseMimeType"],x);const M=h(e,["responseSchema"]);M!=null&&g(i,["responseSchema"],Ay(M));const I=h(e,["responseJsonSchema"]);if(I!=null&&g(i,["responseJsonSchema"],I),h(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(h(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const N=h(e,["safetySettings"]);if(n!==void 0&&N!=null){let ie=N;Array.isArray(ie)&&(ie=ie.map(ae=>HG(ae))),g(n,["safetySettings"],ie)}const D=h(e,["tools"]);if(n!==void 0&&D!=null){let ie=Ta(D);Array.isArray(ie)&&(ie=ie.map(ae=>FG(Ca(ae)))),g(n,["tools"],ie)}const U=h(e,["toolConfig"]);if(n!==void 0&&U!=null&&g(n,["toolConfig"],GG(U)),h(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const k=h(e,["cachedContent"]);n!==void 0&&k!=null&&g(n,["cachedContent"],go(t,k));const O=h(e,["responseModalities"]);O!=null&&g(i,["responseModalities"],O);const q=h(e,["mediaResolution"]);q!=null&&g(i,["mediaResolution"],q);const J=h(e,["speechConfig"]);if(J!=null&&g(i,["speechConfig"],xy(J)),h(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const X=h(e,["thinkingConfig"]);X!=null&&g(i,["thinkingConfig"],X);const j=h(e,["imageConfig"]);j!=null&&g(i,["imageConfig"],MG(j));const re=h(e,["enableEnhancedCivicAnswers"]);return re!=null&&g(i,["enableEnhancedCivicAnswers"],re),i}function CG(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const i=h(t,["candidates"]);if(i!=null){let p=i;Array.isArray(p)&&(p=p.map(d=>sG(d))),g(e,["candidates"],p)}const r=h(t,["modelVersion"]);r!=null&&g(e,["modelVersion"],r);const a=h(t,["promptFeedback"]);a!=null&&g(e,["promptFeedback"],a);const u=h(t,["responseId"]);u!=null&&g(e,["responseId"],u);const c=h(t,["usageMetadata"]);return c!=null&&g(e,["usageMetadata"],c),e}function TG(t,e){const n={},i=h(e,["name"]);return i!=null&&g(n,["_url","name"],Aa(t,i)),n}function AG(t,e){const n={},i=h(e,["name"]);return i!=null&&g(n,["_url","name"],Aa(t,i)),n}function xG(t){const e={};if(h(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=h(t,["enableWidget"]);return n!=null&&g(e,["enableWidget"],n),e}function RG(t){const e={};if(h(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(h(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=h(t,["timeRangeFilter"]);return n!=null&&g(e,["timeRangeFilter"],n),e}function MG(t){const e={},n=h(t,["aspectRatio"]);n!=null&&g(e,["aspectRatio"],n);const i=h(t,["imageSize"]);if(i!=null&&g(e,["imageSize"],i),h(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(h(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function NG(t,e){const n={},i=h(e,["model"]);i!=null&&g(n,["request","model"],$e(t,i));const r=h(e,["contents"]);if(r!=null){let c=Hn(r);Array.isArray(c)&&(c=c.map(p=>oM(p))),g(n,["request","contents"],c)}const a=h(e,["metadata"]);a!=null&&g(n,["metadata"],a);const u=h(e,["config"]);return u!=null&&g(n,["request","generationConfig"],wG(t,u,h(n,["request"],{}))),n}function IG(t){const e={},n=h(t,["response"]);n!=null&&g(e,["response"],CG(n));const i=h(t,["error"]);return i!=null&&g(e,["error"],i),e}function DG(t,e){const n={},i=h(t,["pageSize"]);e!==void 0&&i!=null&&g(e,["_query","pageSize"],i);const r=h(t,["pageToken"]);if(e!==void 0&&r!=null&&g(e,["_query","pageToken"],r),h(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function OG(t,e){const n={},i=h(t,["pageSize"]);e!==void 0&&i!=null&&g(e,["_query","pageSize"],i);const r=h(t,["pageToken"]);e!==void 0&&r!=null&&g(e,["_query","pageToken"],r);const a=h(t,["filter"]);return e!==void 0&&a!=null&&g(e,["_query","filter"],a),n}function PG(t){const e={},n=h(t,["config"]);return n!=null&&DG(n,e),e}function LG(t){const e={},n=h(t,["config"]);return n!=null&&OG(n,e),e}function UG(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const i=h(t,["nextPageToken"]);i!=null&&g(e,["nextPageToken"],i);const r=h(t,["operations"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(u=>Vf(u))),g(e,["batchJobs"],a)}return e}function kG(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const i=h(t,["nextPageToken"]);i!=null&&g(e,["nextPageToken"],i);const r=h(t,["batchPredictionJobs"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(u=>lv(u))),g(e,["batchJobs"],a)}return e}function BG(t){const e={},n=h(t,["mediaResolution"]);n!=null&&g(e,["mediaResolution"],n);const i=h(t,["codeExecutionResult"]);i!=null&&g(e,["codeExecutionResult"],i);const r=h(t,["executableCode"]);r!=null&&g(e,["executableCode"],r);const a=h(t,["fileData"]);a!=null&&g(e,["fileData"],SG(a));const u=h(t,["functionCall"]);u!=null&&g(e,["functionCall"],EG(u));const c=h(t,["functionResponse"]);c!=null&&g(e,["functionResponse"],c);const p=h(t,["inlineData"]);p!=null&&g(e,["inlineData"],iG(p));const d=h(t,["text"]);d!=null&&g(e,["text"],d);const m=h(t,["thought"]);m!=null&&g(e,["thought"],m);const y=h(t,["thoughtSignature"]);y!=null&&g(e,["thoughtSignature"],y);const S=h(t,["videoMetadata"]);return S!=null&&g(e,["videoMetadata"],S),e}function HG(t){const e={},n=h(t,["category"]);if(n!=null&&g(e,["category"],n),h(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const i=h(t,["threshold"]);return i!=null&&g(e,["threshold"],i),e}function GG(t){const e={},n=h(t,["functionCallingConfig"]);n!=null&&g(e,["functionCallingConfig"],bG(n));const i=h(t,["retrievalConfig"]);return i!=null&&g(e,["retrievalConfig"],i),e}function FG(t){const e={},n=h(t,["functionDeclarations"]);if(n!=null){let m=n;Array.isArray(m)&&(m=m.map(y=>y)),g(e,["functionDeclarations"],m)}if(h(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=h(t,["googleSearchRetrieval"]);i!=null&&g(e,["googleSearchRetrieval"],i);const r=h(t,["computerUse"]);r!=null&&g(e,["computerUse"],r);const a=h(t,["fileSearch"]);a!=null&&g(e,["fileSearch"],a);const u=h(t,["codeExecution"]);if(u!=null&&g(e,["codeExecution"],u),h(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const c=h(t,["googleMaps"]);c!=null&&g(e,["googleMaps"],xG(c));const p=h(t,["googleSearch"]);p!=null&&g(e,["googleSearch"],RG(p));const d=h(t,["urlContext"]);return d!=null&&g(e,["urlContext"],d),e}var uo;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents",t.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",t.PAGED_ITEM_DOCUMENTS="documents"})(uo||(uo={}));class es{constructor(e,n,i,r){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,i,r)}init(e,n,i){var r,a;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n?.sdkHttpResponse,this.idxInternal=0;let u={config:{}};!i||Object.keys(i).length===0?u={config:{}}:typeof i=="object"?u=Object.assign({},i):u=i,u.config&&(u.config.pageToken=n.nextPageToken),this.paramsInternal=u,this.pageInternalSize=(a=(r=u.config)===null||r===void 0?void 0:r.pageSize)!==null&&a!==void 0?a:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}let $G=class extends mo{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new es(uo.PAGED_ITEM_BATCH_JOBS,i=>this.listInternal(i),await this.listInternal(n),n),this.create=async n=>(this.apiClient.isVertexAI()&&(n.config=this.formatDestination(n.src,n.config)),this.createInternal(n)),this.createEmbeddings=async n=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(n)}}createInlinedGenerateContentRequest(e){const n=HC(this.apiClient,e),i=n._url,r=fe("{model}:batchGenerateContent",i),c=n.batch.inputConfig.requests,p=c.requests,d=[];for(const m of p){const y=Object.assign({},m);if(y.systemInstruction){const S=y.systemInstruction;delete y.systemInstruction;const E=y.request;E.systemInstruction=S,y.request=E}d.push(y)}return c.requests=d,delete n.config,delete n._url,delete n._query,{path:r,body:n}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,n){const i=n?Object.assign({},n):{},r=Date.now().toString();if(i.displayName||(i.displayName=`genaiBatchJob_${r}`),i.dest===void 0){const a=this.getGcsUri(e),u=this.getBigqueryUri(e);if(a)a.endsWith(".jsonl")?i.dest=`${a.slice(0,-6)}/dest`:i.dest=`${a}_dest_${r}`;else if(u)i.dest=`${u}_dest_${r}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return i}async createInternal(e){var n,i,r,a;let u,c="",p={};if(this.apiClient.isVertexAI()){const d=cG(this.apiClient,e);return c=fe("batchPredictionJobs",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json()),u.then(m=>lv(m))}else{const d=HC(this.apiClient,e);return c=fe("{model}:batchGenerateContent",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json()),u.then(m=>Vf(m))}}async createEmbeddingsInternal(e){var n,i;let r,a="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=dG(this.apiClient,e);return a=fe("{model}:asyncBatchEmbedContent",c._url),u=c._query,delete c._url,delete c._query,r=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),r.then(p=>Vf(p))}}async get(e){var n,i,r,a;let u,c="",p={};if(this.apiClient.isVertexAI()){const d=AG(this.apiClient,e);return c=fe("batchPredictionJobs/{name}",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json()),u.then(m=>lv(m))}else{const d=TG(this.apiClient,e);return c=fe("batches/{name}",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json()),u.then(m=>Vf(m))}}async cancel(e){var n,i,r,a;let u="",c={};if(this.apiClient.isVertexAI()){const p=rG(this.apiClient,e);u=fe("batchPredictionJobs/{name}:cancel",p._url),c=p._query,delete p._url,delete p._query,await this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal})}else{const p=oG(this.apiClient,e);u=fe("batches/{name}:cancel",p._url),c=p._query,delete p._url,delete p._query,await this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal})}}async listInternal(e){var n,i,r,a;let u,c="",p={};if(this.apiClient.isVertexAI()){const d=LG(e);return c=fe("batchPredictionJobs",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json().then(y=>{const S=y;return S.sdkHttpResponse={headers:m.headers},S})),u.then(m=>{const y=kG(m),S=new LC;return Object.assign(S,y),S})}else{const d=PG(e);return c=fe("batches",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json().then(y=>{const S=y;return S.sdkHttpResponse={headers:m.headers},S})),u.then(m=>{const y=UG(m),S=new LC;return Object.assign(S,y),S})}}async delete(e){var n,i,r,a;let u,c="",p={};if(this.apiClient.isVertexAI()){const d=hG(this.apiClient,e);return c=fe("batchPredictionJobs/{name}",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json().then(y=>{const S=y;return S.sdkHttpResponse={headers:m.headers},S})),u.then(m=>gG(m))}else{const d=pG(this.apiClient,e);return c=fe("batches/{name}",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json().then(y=>{const S=y;return S.sdkHttpResponse={headers:m.headers},S})),u.then(m=>mG(m))}}};function VG(t){const e={},n=h(t,["data"]);if(n!=null&&g(e,["data"],n),h(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=h(t,["mimeType"]);return i!=null&&g(e,["mimeType"],i),e}function GC(t){const e={},n=h(t,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(a=>dF(a))),g(e,["parts"],r)}const i=h(t,["role"]);return i!=null&&g(e,["role"],i),e}function zG(t,e){const n={},i=h(t,["ttl"]);e!==void 0&&i!=null&&g(e,["ttl"],i);const r=h(t,["expireTime"]);e!==void 0&&r!=null&&g(e,["expireTime"],r);const a=h(t,["displayName"]);e!==void 0&&a!=null&&g(e,["displayName"],a);const u=h(t,["contents"]);if(e!==void 0&&u!=null){let m=Hn(u);Array.isArray(m)&&(m=m.map(y=>GC(y))),g(e,["contents"],m)}const c=h(t,["systemInstruction"]);e!==void 0&&c!=null&&g(e,["systemInstruction"],GC(Ut(c)));const p=h(t,["tools"]);if(e!==void 0&&p!=null){let m=p;Array.isArray(m)&&(m=m.map(y=>hF(y))),g(e,["tools"],m)}const d=h(t,["toolConfig"]);if(e!==void 0&&d!=null&&g(e,["toolConfig"],pF(d)),h(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function qG(t,e){const n={},i=h(t,["ttl"]);e!==void 0&&i!=null&&g(e,["ttl"],i);const r=h(t,["expireTime"]);e!==void 0&&r!=null&&g(e,["expireTime"],r);const a=h(t,["displayName"]);e!==void 0&&a!=null&&g(e,["displayName"],a);const u=h(t,["contents"]);if(e!==void 0&&u!=null){let y=Hn(u);Array.isArray(y)&&(y=y.map(S=>S)),g(e,["contents"],y)}const c=h(t,["systemInstruction"]);e!==void 0&&c!=null&&g(e,["systemInstruction"],Ut(c));const p=h(t,["tools"]);if(e!==void 0&&p!=null){let y=p;Array.isArray(y)&&(y=y.map(S=>mF(S))),g(e,["tools"],y)}const d=h(t,["toolConfig"]);e!==void 0&&d!=null&&g(e,["toolConfig"],d);const m=h(t,["kmsKeyName"]);return e!==void 0&&m!=null&&g(e,["encryption_spec","kmsKeyName"],m),n}function JG(t,e){const n={},i=h(e,["model"]);i!=null&&g(n,["model"],JR(t,i));const r=h(e,["config"]);return r!=null&&zG(r,n),n}function YG(t,e){const n={},i=h(e,["model"]);i!=null&&g(n,["model"],JR(t,i));const r=h(e,["config"]);return r!=null&&qG(r,n),n}function KG(t,e){const n={},i=h(e,["name"]);return i!=null&&g(n,["_url","name"],go(t,i)),n}function XG(t,e){const n={},i=h(e,["name"]);return i!=null&&g(n,["_url","name"],go(t,i)),n}function WG(t){const e={},n=h(t,["sdkHttpResponse"]);return n!=null&&g(e,["sdkHttpResponse"],n),e}function jG(t){const e={},n=h(t,["sdkHttpResponse"]);return n!=null&&g(e,["sdkHttpResponse"],n),e}function QG(t){const e={};if(h(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=h(t,["fileUri"]);n!=null&&g(e,["fileUri"],n);const i=h(t,["mimeType"]);return i!=null&&g(e,["mimeType"],i),e}function ZG(t){const e={},n=h(t,["id"]);n!=null&&g(e,["id"],n);const i=h(t,["args"]);i!=null&&g(e,["args"],i);const r=h(t,["name"]);if(r!=null&&g(e,["name"],r),h(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(h(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function eF(t){const e={},n=h(t,["mode"]);n!=null&&g(e,["mode"],n);const i=h(t,["allowedFunctionNames"]);if(i!=null&&g(e,["allowedFunctionNames"],i),h(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function tF(t){const e={};if(h(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=h(t,["description"]);n!=null&&g(e,["description"],n);const i=h(t,["name"]);i!=null&&g(e,["name"],i);const r=h(t,["parameters"]);r!=null&&g(e,["parameters"],r);const a=h(t,["parametersJsonSchema"]);a!=null&&g(e,["parametersJsonSchema"],a);const u=h(t,["response"]);u!=null&&g(e,["response"],u);const c=h(t,["responseJsonSchema"]);return c!=null&&g(e,["responseJsonSchema"],c),e}function nF(t,e){const n={},i=h(e,["name"]);return i!=null&&g(n,["_url","name"],go(t,i)),n}function iF(t,e){const n={},i=h(e,["name"]);return i!=null&&g(n,["_url","name"],go(t,i)),n}function oF(t){const e={};if(h(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=h(t,["enableWidget"]);return n!=null&&g(e,["enableWidget"],n),e}function rF(t){const e={};if(h(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(h(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=h(t,["timeRangeFilter"]);return n!=null&&g(e,["timeRangeFilter"],n),e}function sF(t,e){const n={},i=h(t,["pageSize"]);e!==void 0&&i!=null&&g(e,["_query","pageSize"],i);const r=h(t,["pageToken"]);return e!==void 0&&r!=null&&g(e,["_query","pageToken"],r),n}function aF(t,e){const n={},i=h(t,["pageSize"]);e!==void 0&&i!=null&&g(e,["_query","pageSize"],i);const r=h(t,["pageToken"]);return e!==void 0&&r!=null&&g(e,["_query","pageToken"],r),n}function lF(t){const e={},n=h(t,["config"]);return n!=null&&sF(n,e),e}function uF(t){const e={},n=h(t,["config"]);return n!=null&&aF(n,e),e}function cF(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const i=h(t,["nextPageToken"]);i!=null&&g(e,["nextPageToken"],i);const r=h(t,["cachedContents"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(u=>u)),g(e,["cachedContents"],a)}return e}function fF(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const i=h(t,["nextPageToken"]);i!=null&&g(e,["nextPageToken"],i);const r=h(t,["cachedContents"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(u=>u)),g(e,["cachedContents"],a)}return e}function dF(t){const e={},n=h(t,["mediaResolution"]);n!=null&&g(e,["mediaResolution"],n);const i=h(t,["codeExecutionResult"]);i!=null&&g(e,["codeExecutionResult"],i);const r=h(t,["executableCode"]);r!=null&&g(e,["executableCode"],r);const a=h(t,["fileData"]);a!=null&&g(e,["fileData"],QG(a));const u=h(t,["functionCall"]);u!=null&&g(e,["functionCall"],ZG(u));const c=h(t,["functionResponse"]);c!=null&&g(e,["functionResponse"],c);const p=h(t,["inlineData"]);p!=null&&g(e,["inlineData"],VG(p));const d=h(t,["text"]);d!=null&&g(e,["text"],d);const m=h(t,["thought"]);m!=null&&g(e,["thought"],m);const y=h(t,["thoughtSignature"]);y!=null&&g(e,["thoughtSignature"],y);const S=h(t,["videoMetadata"]);return S!=null&&g(e,["videoMetadata"],S),e}function pF(t){const e={},n=h(t,["functionCallingConfig"]);n!=null&&g(e,["functionCallingConfig"],eF(n));const i=h(t,["retrievalConfig"]);return i!=null&&g(e,["retrievalConfig"],i),e}function hF(t){const e={},n=h(t,["functionDeclarations"]);if(n!=null){let m=n;Array.isArray(m)&&(m=m.map(y=>y)),g(e,["functionDeclarations"],m)}if(h(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=h(t,["googleSearchRetrieval"]);i!=null&&g(e,["googleSearchRetrieval"],i);const r=h(t,["computerUse"]);r!=null&&g(e,["computerUse"],r);const a=h(t,["fileSearch"]);a!=null&&g(e,["fileSearch"],a);const u=h(t,["codeExecution"]);if(u!=null&&g(e,["codeExecution"],u),h(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const c=h(t,["googleMaps"]);c!=null&&g(e,["googleMaps"],oF(c));const p=h(t,["googleSearch"]);p!=null&&g(e,["googleSearch"],rF(p));const d=h(t,["urlContext"]);return d!=null&&g(e,["urlContext"],d),e}function mF(t){const e={},n=h(t,["functionDeclarations"]);if(n!=null){let y=n;Array.isArray(y)&&(y=y.map(S=>tF(S))),g(e,["functionDeclarations"],y)}const i=h(t,["retrieval"]);i!=null&&g(e,["retrieval"],i);const r=h(t,["googleSearchRetrieval"]);r!=null&&g(e,["googleSearchRetrieval"],r);const a=h(t,["computerUse"]);if(a!=null&&g(e,["computerUse"],a),h(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const u=h(t,["codeExecution"]);u!=null&&g(e,["codeExecution"],u);const c=h(t,["enterpriseWebSearch"]);c!=null&&g(e,["enterpriseWebSearch"],c);const p=h(t,["googleMaps"]);p!=null&&g(e,["googleMaps"],p);const d=h(t,["googleSearch"]);d!=null&&g(e,["googleSearch"],d);const m=h(t,["urlContext"]);return m!=null&&g(e,["urlContext"],m),e}function gF(t,e){const n={},i=h(t,["ttl"]);e!==void 0&&i!=null&&g(e,["ttl"],i);const r=h(t,["expireTime"]);return e!==void 0&&r!=null&&g(e,["expireTime"],r),n}function vF(t,e){const n={},i=h(t,["ttl"]);e!==void 0&&i!=null&&g(e,["ttl"],i);const r=h(t,["expireTime"]);return e!==void 0&&r!=null&&g(e,["expireTime"],r),n}function yF(t,e){const n={},i=h(e,["name"]);i!=null&&g(n,["_url","name"],go(t,i));const r=h(e,["config"]);return r!=null&&gF(r,n),n}function _F(t,e){const n={},i=h(e,["name"]);i!=null&&g(n,["_url","name"],go(t,i));const r=h(e,["config"]);return r!=null&&vF(r,n),n}class SF extends mo{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new es(uo.PAGED_ITEM_CACHED_CONTENTS,i=>this.listInternal(i),await this.listInternal(n),n)}async create(e){var n,i,r,a;let u,c="",p={};if(this.apiClient.isVertexAI()){const d=YG(this.apiClient,e);return c=fe("cachedContents",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json()),u.then(m=>m)}else{const d=JG(this.apiClient,e);return c=fe("cachedContents",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json()),u.then(m=>m)}}async get(e){var n,i,r,a;let u,c="",p={};if(this.apiClient.isVertexAI()){const d=iF(this.apiClient,e);return c=fe("{name}",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json()),u.then(m=>m)}else{const d=nF(this.apiClient,e);return c=fe("{name}",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json()),u.then(m=>m)}}async delete(e){var n,i,r,a;let u,c="",p={};if(this.apiClient.isVertexAI()){const d=XG(this.apiClient,e);return c=fe("{name}",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json().then(y=>{const S=y;return S.sdkHttpResponse={headers:m.headers},S})),u.then(m=>{const y=jG(m),S=new OC;return Object.assign(S,y),S})}else{const d=KG(this.apiClient,e);return c=fe("{name}",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json().then(y=>{const S=y;return S.sdkHttpResponse={headers:m.headers},S})),u.then(m=>{const y=WG(m),S=new OC;return Object.assign(S,y),S})}}async update(e){var n,i,r,a;let u,c="",p={};if(this.apiClient.isVertexAI()){const d=_F(this.apiClient,e);return c=fe("{name}",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json()),u.then(m=>m)}else{const d=yF(this.apiClient,e);return c=fe("{name}",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json()),u.then(m=>m)}}async listInternal(e){var n,i,r,a;let u,c="",p={};if(this.apiClient.isVertexAI()){const d=uF(e);return c=fe("cachedContents",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json().then(y=>{const S=y;return S.sdkHttpResponse={headers:m.headers},S})),u.then(m=>{const y=fF(m),S=new PC;return Object.assign(S,y),S})}else{const d=lF(e);return c=fe("cachedContents",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json().then(y=>{const S=y;return S.sdkHttpResponse={headers:m.headers},S})),u.then(m=>{const y=cF(m),S=new PC;return Object.assign(S,y),S})}}}function yd(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]]);return n}function FC(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Te(t){return this instanceof Te?(this.v=t,this):new Te(t)}function ni(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=n.apply(t,e||[]),r,a=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),c("next"),c("throw"),c("return",u),r[Symbol.asyncIterator]=function(){return this},r;function u(E){return function(C){return Promise.resolve(C).then(E,y)}}function c(E,C){i[E]&&(r[E]=function(T){return new Promise(function(x,M){a.push([E,T,x,M])>1||p(E,T)})},C&&(r[E]=C(r[E])))}function p(E,C){try{d(i[E](C))}catch(T){S(a[0][3],T)}}function d(E){E.value instanceof Te?Promise.resolve(E.value.v).then(m,y):S(a[0][2],E)}function m(E){p("next",E)}function y(E){p("throw",E)}function S(E,C){E(C),a.shift(),a.length&&p(a[0][0],a[0][1])}}function ii(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof FC=="function"?FC(t):t[Symbol.iterator](),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(a){n[a]=t[a]&&function(u){return new Promise(function(c,p){u=t[a](u),r(c,p,u.done,u.value)})}}function r(a,u,c,p){Promise.resolve(p).then(function(d){a({value:d,done:c})},u)}}function EF(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:rM(n)}function rM(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function bF(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function $C(t){if(t===void 0||t.length===0)return[];const e=[],n=t.length;let i=0;for(;i<n;)if(t[i].role==="user")e.push(t[i]),i++;else{const r=[];let a=!0;for(;i<n&&t[i].role==="model";)r.push(t[i]),a&&!rM(t[i])&&(a=!1),i++;a?e.push(...r):e.pop()}return e}class wF{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new CF(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}let CF=class{constructor(e,n,i,r={},a=[]){this.apiClient=e,this.modelsModule=n,this.model=i,this.config=r,this.history=a,this.sendPromise=Promise.resolve(),bF(a)}async sendMessage(e){var n;await this.sendPromise;const i=Ut(e.message),r=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(i),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var a,u,c;const p=await r,d=(u=(a=p.candidates)===null||a===void 0?void 0:a[0])===null||u===void 0?void 0:u.content,m=p.automaticFunctionCallingHistory,y=this.getHistory(!0).length;let S=[];m!=null&&(S=(c=m.slice(y))!==null&&c!==void 0?c:[]);const E=d?[d]:[];this.recordHistory(i,E,S)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),r}async sendMessageStream(e){var n;await this.sendPromise;const i=Ut(e.message),r=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(i),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=r.then(()=>{}).catch(()=>{});const a=await r;return this.processStreamResponse(a,i)}getHistory(e=!1){const n=e?$C(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){return ni(this,arguments,function*(){var r,a,u,c,p,d;const m=[];try{for(var y=!0,S=ii(e),E;E=yield Te(S.next()),r=E.done,!r;y=!0){c=E.value,y=!1;const C=c;if(EF(C)){const T=(d=(p=C.candidates)===null||p===void 0?void 0:p[0])===null||d===void 0?void 0:d.content;T!==void 0&&m.push(T)}yield yield Te(C)}}catch(C){a={error:C}}finally{try{!y&&!r&&(u=S.return)&&(yield Te(u.call(S)))}finally{if(a)throw a.error}}this.recordHistory(n,m)})}recordHistory(e,n,i){let r=[];n.length>0&&n.every(a=>a.role!==void 0)?r=n:r.push({role:"model",parts:[]}),i&&i.length>0?this.history.push(...$C(i)):this.history.push(e),this.history.push(...r)}};class Qd extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,Qd.prototype)}}function TF(t){const e={},n=h(t,["file"]);return n!=null&&g(e,["file"],n),e}function AF(t){const e={},n=h(t,["sdkHttpResponse"]);return n!=null&&g(e,["sdkHttpResponse"],n),e}function xF(t){const e={},n=h(t,["name"]);return n!=null&&g(e,["_url","file"],QR(n)),e}function RF(t){const e={},n=h(t,["sdkHttpResponse"]);return n!=null&&g(e,["sdkHttpResponse"],n),e}function MF(t){const e={},n=h(t,["name"]);return n!=null&&g(e,["_url","file"],QR(n)),e}function NF(t,e){const n={},i=h(t,["pageSize"]);e!==void 0&&i!=null&&g(e,["_query","pageSize"],i);const r=h(t,["pageToken"]);return e!==void 0&&r!=null&&g(e,["_query","pageToken"],r),n}function IF(t){const e={},n=h(t,["config"]);return n!=null&&NF(n,e),e}function DF(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const i=h(t,["nextPageToken"]);i!=null&&g(e,["nextPageToken"],i);const r=h(t,["files"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(u=>u)),g(e,["files"],a)}return e}let OF=class extends mo{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new es(uo.PAGED_ITEM_FILES,i=>this.listInternal(i),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>n)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var n,i;let r,a="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=IF(e);return a=fe("files",c._url),u=c._query,delete c._url,delete c._query,r=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json().then(d=>{const m=d;return m.sdkHttpResponse={headers:p.headers},m})),r.then(p=>{const d=DF(p),m=new kH;return Object.assign(m,d),m})}}async createInternal(e){var n,i;let r,a="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=TF(e);return a=fe("upload/v1beta/files",c._url),u=c._query,delete c._url,delete c._query,r=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),r.then(p=>{const d=AF(p),m=new BH;return Object.assign(m,d),m})}}async get(e){var n,i;let r,a="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=MF(e);return a=fe("files/{file}",c._url),u=c._query,delete c._url,delete c._query,r=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),r.then(p=>p)}}async delete(e){var n,i;let r,a="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=xF(e);return a=fe("files/{file}",c._url),u=c._query,delete c._url,delete c._query,r=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json().then(d=>{const m=d;return m.sdkHttpResponse={headers:p.headers},m})),r.then(p=>{const d=RF(p),m=new HH;return Object.assign(m,d),m})}}};function zf(t){const e={},n=h(t,["data"]);if(n!=null&&g(e,["data"],n),h(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=h(t,["mimeType"]);return i!=null&&g(e,["mimeType"],i),e}function PF(t){const e={},n=h(t,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(a=>WF(a))),g(e,["parts"],r)}const i=h(t,["role"]);return i!=null&&g(e,["role"],i),e}function LF(t){const e={};if(h(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=h(t,["fileUri"]);n!=null&&g(e,["fileUri"],n);const i=h(t,["mimeType"]);return i!=null&&g(e,["mimeType"],i),e}function UF(t){const e={},n=h(t,["id"]);n!=null&&g(e,["id"],n);const i=h(t,["args"]);i!=null&&g(e,["args"],i);const r=h(t,["name"]);if(r!=null&&g(e,["name"],r),h(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(h(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function kF(t){const e={};if(h(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=h(t,["description"]);n!=null&&g(e,["description"],n);const i=h(t,["name"]);i!=null&&g(e,["name"],i);const r=h(t,["parameters"]);r!=null&&g(e,["parameters"],r);const a=h(t,["parametersJsonSchema"]);a!=null&&g(e,["parametersJsonSchema"],a);const u=h(t,["response"]);u!=null&&g(e,["response"],u);const c=h(t,["responseJsonSchema"]);return c!=null&&g(e,["responseJsonSchema"],c),e}function BF(t){const e={},n=h(t,["modelSelectionConfig"]);n!=null&&g(e,["modelConfig"],n);const i=h(t,["responseJsonSchema"]);i!=null&&g(e,["responseJsonSchema"],i);const r=h(t,["audioTimestamp"]);r!=null&&g(e,["audioTimestamp"],r);const a=h(t,["candidateCount"]);a!=null&&g(e,["candidateCount"],a);const u=h(t,["enableAffectiveDialog"]);u!=null&&g(e,["enableAffectiveDialog"],u);const c=h(t,["frequencyPenalty"]);c!=null&&g(e,["frequencyPenalty"],c);const p=h(t,["logprobs"]);p!=null&&g(e,["logprobs"],p);const d=h(t,["maxOutputTokens"]);d!=null&&g(e,["maxOutputTokens"],d);const m=h(t,["mediaResolution"]);m!=null&&g(e,["mediaResolution"],m);const y=h(t,["presencePenalty"]);y!=null&&g(e,["presencePenalty"],y);const S=h(t,["responseLogprobs"]);S!=null&&g(e,["responseLogprobs"],S);const E=h(t,["responseMimeType"]);E!=null&&g(e,["responseMimeType"],E);const C=h(t,["responseModalities"]);C!=null&&g(e,["responseModalities"],C);const T=h(t,["responseSchema"]);T!=null&&g(e,["responseSchema"],T);const x=h(t,["routingConfig"]);x!=null&&g(e,["routingConfig"],x);const M=h(t,["seed"]);M!=null&&g(e,["seed"],M);const I=h(t,["speechConfig"]);I!=null&&g(e,["speechConfig"],sM(I));const N=h(t,["stopSequences"]);N!=null&&g(e,["stopSequences"],N);const D=h(t,["temperature"]);D!=null&&g(e,["temperature"],D);const U=h(t,["thinkingConfig"]);U!=null&&g(e,["thinkingConfig"],U);const k=h(t,["topK"]);k!=null&&g(e,["topK"],k);const O=h(t,["topP"]);if(O!=null&&g(e,["topP"],O),h(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function HF(t){const e={};if(h(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=h(t,["enableWidget"]);return n!=null&&g(e,["enableWidget"],n),e}function GF(t){const e={};if(h(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(h(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=h(t,["timeRangeFilter"]);return n!=null&&g(e,["timeRangeFilter"],n),e}function FF(t,e){const n={},i=h(t,["generationConfig"]);e!==void 0&&i!=null&&g(e,["setup","generationConfig"],i);const r=h(t,["responseModalities"]);e!==void 0&&r!=null&&g(e,["setup","generationConfig","responseModalities"],r);const a=h(t,["temperature"]);e!==void 0&&a!=null&&g(e,["setup","generationConfig","temperature"],a);const u=h(t,["topP"]);e!==void 0&&u!=null&&g(e,["setup","generationConfig","topP"],u);const c=h(t,["topK"]);e!==void 0&&c!=null&&g(e,["setup","generationConfig","topK"],c);const p=h(t,["maxOutputTokens"]);e!==void 0&&p!=null&&g(e,["setup","generationConfig","maxOutputTokens"],p);const d=h(t,["mediaResolution"]);e!==void 0&&d!=null&&g(e,["setup","generationConfig","mediaResolution"],d);const m=h(t,["seed"]);e!==void 0&&m!=null&&g(e,["setup","generationConfig","seed"],m);const y=h(t,["speechConfig"]);e!==void 0&&y!=null&&g(e,["setup","generationConfig","speechConfig"],Ry(y));const S=h(t,["thinkingConfig"]);e!==void 0&&S!=null&&g(e,["setup","generationConfig","thinkingConfig"],S);const E=h(t,["enableAffectiveDialog"]);e!==void 0&&E!=null&&g(e,["setup","generationConfig","enableAffectiveDialog"],E);const C=h(t,["systemInstruction"]);e!==void 0&&C!=null&&g(e,["setup","systemInstruction"],PF(Ut(C)));const T=h(t,["tools"]);if(e!==void 0&&T!=null){let k=Ta(T);Array.isArray(k)&&(k=k.map(O=>QF(Ca(O)))),g(e,["setup","tools"],k)}const x=h(t,["sessionResumption"]);e!==void 0&&x!=null&&g(e,["setup","sessionResumption"],jF(x));const M=h(t,["inputAudioTranscription"]);e!==void 0&&M!=null&&g(e,["setup","inputAudioTranscription"],M);const I=h(t,["outputAudioTranscription"]);e!==void 0&&I!=null&&g(e,["setup","outputAudioTranscription"],I);const N=h(t,["realtimeInputConfig"]);e!==void 0&&N!=null&&g(e,["setup","realtimeInputConfig"],N);const D=h(t,["contextWindowCompression"]);e!==void 0&&D!=null&&g(e,["setup","contextWindowCompression"],D);const U=h(t,["proactivity"]);if(e!==void 0&&U!=null&&g(e,["setup","proactivity"],U),h(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function $F(t,e){const n={},i=h(t,["generationConfig"]);e!==void 0&&i!=null&&g(e,["setup","generationConfig"],BF(i));const r=h(t,["responseModalities"]);e!==void 0&&r!=null&&g(e,["setup","generationConfig","responseModalities"],r);const a=h(t,["temperature"]);e!==void 0&&a!=null&&g(e,["setup","generationConfig","temperature"],a);const u=h(t,["topP"]);e!==void 0&&u!=null&&g(e,["setup","generationConfig","topP"],u);const c=h(t,["topK"]);e!==void 0&&c!=null&&g(e,["setup","generationConfig","topK"],c);const p=h(t,["maxOutputTokens"]);e!==void 0&&p!=null&&g(e,["setup","generationConfig","maxOutputTokens"],p);const d=h(t,["mediaResolution"]);e!==void 0&&d!=null&&g(e,["setup","generationConfig","mediaResolution"],d);const m=h(t,["seed"]);e!==void 0&&m!=null&&g(e,["setup","generationConfig","seed"],m);const y=h(t,["speechConfig"]);e!==void 0&&y!=null&&g(e,["setup","generationConfig","speechConfig"],sM(Ry(y)));const S=h(t,["thinkingConfig"]);e!==void 0&&S!=null&&g(e,["setup","generationConfig","thinkingConfig"],S);const E=h(t,["enableAffectiveDialog"]);e!==void 0&&E!=null&&g(e,["setup","generationConfig","enableAffectiveDialog"],E);const C=h(t,["systemInstruction"]);e!==void 0&&C!=null&&g(e,["setup","systemInstruction"],Ut(C));const T=h(t,["tools"]);if(e!==void 0&&T!=null){let O=Ta(T);Array.isArray(O)&&(O=O.map(q=>ZF(Ca(q)))),g(e,["setup","tools"],O)}const x=h(t,["sessionResumption"]);e!==void 0&&x!=null&&g(e,["setup","sessionResumption"],x);const M=h(t,["inputAudioTranscription"]);e!==void 0&&M!=null&&g(e,["setup","inputAudioTranscription"],M);const I=h(t,["outputAudioTranscription"]);e!==void 0&&I!=null&&g(e,["setup","outputAudioTranscription"],I);const N=h(t,["realtimeInputConfig"]);e!==void 0&&N!=null&&g(e,["setup","realtimeInputConfig"],N);const D=h(t,["contextWindowCompression"]);e!==void 0&&D!=null&&g(e,["setup","contextWindowCompression"],D);const U=h(t,["proactivity"]);e!==void 0&&U!=null&&g(e,["setup","proactivity"],U);const k=h(t,["explicitVadSignal"]);return e!==void 0&&k!=null&&g(e,["setup","explicitVadSignal"],k),n}function VF(t,e){const n={},i=h(e,["model"]);i!=null&&g(n,["setup","model"],$e(t,i));const r=h(e,["config"]);return r!=null&&g(n,["config"],FF(r,n)),n}function zF(t,e){const n={},i=h(e,["model"]);i!=null&&g(n,["setup","model"],$e(t,i));const r=h(e,["config"]);return r!=null&&g(n,["config"],$F(r,n)),n}function qF(t){const e={},n=h(t,["musicGenerationConfig"]);return n!=null&&g(e,["musicGenerationConfig"],n),e}function JF(t){const e={},n=h(t,["weightedPrompts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(r=>r)),g(e,["weightedPrompts"],i)}return e}function YF(t){const e={},n=h(t,["media"]);if(n!=null){let d=YR(n);Array.isArray(d)&&(d=d.map(m=>zf(m))),g(e,["mediaChunks"],d)}const i=h(t,["audio"]);i!=null&&g(e,["audio"],zf(XR(i)));const r=h(t,["audioStreamEnd"]);r!=null&&g(e,["audioStreamEnd"],r);const a=h(t,["video"]);a!=null&&g(e,["video"],zf(KR(a)));const u=h(t,["text"]);u!=null&&g(e,["text"],u);const c=h(t,["activityStart"]);c!=null&&g(e,["activityStart"],c);const p=h(t,["activityEnd"]);return p!=null&&g(e,["activityEnd"],p),e}function KF(t){const e={},n=h(t,["media"]);if(n!=null){let d=YR(n);Array.isArray(d)&&(d=d.map(m=>m)),g(e,["mediaChunks"],d)}const i=h(t,["audio"]);i!=null&&g(e,["audio"],XR(i));const r=h(t,["audioStreamEnd"]);r!=null&&g(e,["audioStreamEnd"],r);const a=h(t,["video"]);a!=null&&g(e,["video"],KR(a));const u=h(t,["text"]);u!=null&&g(e,["text"],u);const c=h(t,["activityStart"]);c!=null&&g(e,["activityStart"],c);const p=h(t,["activityEnd"]);return p!=null&&g(e,["activityEnd"],p),e}function XF(t){const e={},n=h(t,["setupComplete"]);n!=null&&g(e,["setupComplete"],n);const i=h(t,["serverContent"]);i!=null&&g(e,["serverContent"],i);const r=h(t,["toolCall"]);r!=null&&g(e,["toolCall"],r);const a=h(t,["toolCallCancellation"]);a!=null&&g(e,["toolCallCancellation"],a);const u=h(t,["usageMetadata"]);u!=null&&g(e,["usageMetadata"],e$(u));const c=h(t,["goAway"]);c!=null&&g(e,["goAway"],c);const p=h(t,["sessionResumptionUpdate"]);p!=null&&g(e,["sessionResumptionUpdate"],p);const d=h(t,["voiceActivityDetectionSignal"]);return d!=null&&g(e,["voiceActivityDetectionSignal"],d),e}function WF(t){const e={},n=h(t,["mediaResolution"]);n!=null&&g(e,["mediaResolution"],n);const i=h(t,["codeExecutionResult"]);i!=null&&g(e,["codeExecutionResult"],i);const r=h(t,["executableCode"]);r!=null&&g(e,["executableCode"],r);const a=h(t,["fileData"]);a!=null&&g(e,["fileData"],LF(a));const u=h(t,["functionCall"]);u!=null&&g(e,["functionCall"],UF(u));const c=h(t,["functionResponse"]);c!=null&&g(e,["functionResponse"],c);const p=h(t,["inlineData"]);p!=null&&g(e,["inlineData"],zf(p));const d=h(t,["text"]);d!=null&&g(e,["text"],d);const m=h(t,["thought"]);m!=null&&g(e,["thought"],m);const y=h(t,["thoughtSignature"]);y!=null&&g(e,["thoughtSignature"],y);const S=h(t,["videoMetadata"]);return S!=null&&g(e,["videoMetadata"],S),e}function jF(t){const e={},n=h(t,["handle"]);if(n!=null&&g(e,["handle"],n),h(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function sM(t){const e={},n=h(t,["voiceConfig"]);n!=null&&g(e,["voiceConfig"],n);const i=h(t,["languageCode"]);if(i!=null&&g(e,["languageCode"],i),h(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return e}function QF(t){const e={},n=h(t,["functionDeclarations"]);if(n!=null){let m=n;Array.isArray(m)&&(m=m.map(y=>y)),g(e,["functionDeclarations"],m)}if(h(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=h(t,["googleSearchRetrieval"]);i!=null&&g(e,["googleSearchRetrieval"],i);const r=h(t,["computerUse"]);r!=null&&g(e,["computerUse"],r);const a=h(t,["fileSearch"]);a!=null&&g(e,["fileSearch"],a);const u=h(t,["codeExecution"]);if(u!=null&&g(e,["codeExecution"],u),h(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const c=h(t,["googleMaps"]);c!=null&&g(e,["googleMaps"],HF(c));const p=h(t,["googleSearch"]);p!=null&&g(e,["googleSearch"],GF(p));const d=h(t,["urlContext"]);return d!=null&&g(e,["urlContext"],d),e}function ZF(t){const e={},n=h(t,["functionDeclarations"]);if(n!=null){let y=n;Array.isArray(y)&&(y=y.map(S=>kF(S))),g(e,["functionDeclarations"],y)}const i=h(t,["retrieval"]);i!=null&&g(e,["retrieval"],i);const r=h(t,["googleSearchRetrieval"]);r!=null&&g(e,["googleSearchRetrieval"],r);const a=h(t,["computerUse"]);if(a!=null&&g(e,["computerUse"],a),h(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const u=h(t,["codeExecution"]);u!=null&&g(e,["codeExecution"],u);const c=h(t,["enterpriseWebSearch"]);c!=null&&g(e,["enterpriseWebSearch"],c);const p=h(t,["googleMaps"]);p!=null&&g(e,["googleMaps"],p);const d=h(t,["googleSearch"]);d!=null&&g(e,["googleSearch"],d);const m=h(t,["urlContext"]);return m!=null&&g(e,["urlContext"],m),e}function e$(t){const e={},n=h(t,["promptTokenCount"]);n!=null&&g(e,["promptTokenCount"],n);const i=h(t,["cachedContentTokenCount"]);i!=null&&g(e,["cachedContentTokenCount"],i);const r=h(t,["candidatesTokenCount"]);r!=null&&g(e,["responseTokenCount"],r);const a=h(t,["toolUsePromptTokenCount"]);a!=null&&g(e,["toolUsePromptTokenCount"],a);const u=h(t,["thoughtsTokenCount"]);u!=null&&g(e,["thoughtsTokenCount"],u);const c=h(t,["totalTokenCount"]);c!=null&&g(e,["totalTokenCount"],c);const p=h(t,["promptTokensDetails"]);if(p!=null){let E=p;Array.isArray(E)&&(E=E.map(C=>C)),g(e,["promptTokensDetails"],E)}const d=h(t,["cacheTokensDetails"]);if(d!=null){let E=d;Array.isArray(E)&&(E=E.map(C=>C)),g(e,["cacheTokensDetails"],E)}const m=h(t,["candidatesTokensDetails"]);if(m!=null){let E=m;Array.isArray(E)&&(E=E.map(C=>C)),g(e,["responseTokensDetails"],E)}const y=h(t,["toolUsePromptTokensDetails"]);if(y!=null){let E=y;Array.isArray(E)&&(E=E.map(C=>C)),g(e,["toolUsePromptTokensDetails"],E)}const S=h(t,["trafficType"]);return S!=null&&g(e,["trafficType"],S),e}function t$(t){const e={},n=h(t,["data"]);if(n!=null&&g(e,["data"],n),h(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=h(t,["mimeType"]);return i!=null&&g(e,["mimeType"],i),e}function n$(t){const e={},n=h(t,["content"]);n!=null&&g(e,["content"],n);const i=h(t,["citationMetadata"]);i!=null&&g(e,["citationMetadata"],i$(i));const r=h(t,["tokenCount"]);r!=null&&g(e,["tokenCount"],r);const a=h(t,["finishReason"]);a!=null&&g(e,["finishReason"],a);const u=h(t,["avgLogprobs"]);u!=null&&g(e,["avgLogprobs"],u);const c=h(t,["groundingMetadata"]);c!=null&&g(e,["groundingMetadata"],c);const p=h(t,["index"]);p!=null&&g(e,["index"],p);const d=h(t,["logprobsResult"]);d!=null&&g(e,["logprobsResult"],d);const m=h(t,["safetyRatings"]);if(m!=null){let S=m;Array.isArray(S)&&(S=S.map(E=>E)),g(e,["safetyRatings"],S)}const y=h(t,["urlContextMetadata"]);return y!=null&&g(e,["urlContextMetadata"],y),e}function i$(t){const e={},n=h(t,["citationSources"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(r=>r)),g(e,["citations"],i)}return e}function o$(t,e){const n={},i=h(e,["model"]);i!=null&&g(n,["_url","model"],$e(t,i));const r=h(e,["contents"]);if(r!=null){let a=Hn(r);Array.isArray(a)&&(a=a.map(u=>u)),g(n,["contents"],a)}return n}function r$(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const i=h(t,["tokensInfo"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(a=>a)),g(e,["tokensInfo"],r)}return e}function s$(t){const e={},n=h(t,["values"]);n!=null&&g(e,["values"],n);const i=h(t,["statistics"]);return i!=null&&g(e,["statistics"],a$(i)),e}function a$(t){const e={},n=h(t,["truncated"]);n!=null&&g(e,["truncated"],n);const i=h(t,["token_count"]);return i!=null&&g(e,["tokenCount"],i),e}function Zd(t){const e={},n=h(t,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(a=>gV(a))),g(e,["parts"],r)}const i=h(t,["role"]);return i!=null&&g(e,["role"],i),e}function l$(t){const e={},n=h(t,["controlType"]);n!=null&&g(e,["controlType"],n);const i=h(t,["enableControlImageComputation"]);return i!=null&&g(e,["computeControl"],i),e}function u$(t){const e={};if(h(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(h(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(h(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function c$(t,e){const n={},i=h(t,["systemInstruction"]);e!==void 0&&i!=null&&g(e,["systemInstruction"],Ut(i));const r=h(t,["tools"]);if(e!==void 0&&r!=null){let u=r;Array.isArray(u)&&(u=u.map(c=>fM(c))),g(e,["tools"],u)}const a=h(t,["generationConfig"]);return e!==void 0&&a!=null&&g(e,["generationConfig"],tV(a)),n}function f$(t,e){const n={},i=h(e,["model"]);i!=null&&g(n,["_url","model"],$e(t,i));const r=h(e,["contents"]);if(r!=null){let u=Hn(r);Array.isArray(u)&&(u=u.map(c=>Zd(c))),g(n,["contents"],u)}const a=h(e,["config"]);return a!=null&&u$(a),n}function d$(t,e){const n={},i=h(e,["model"]);i!=null&&g(n,["_url","model"],$e(t,i));const r=h(e,["contents"]);if(r!=null){let u=Hn(r);Array.isArray(u)&&(u=u.map(c=>c)),g(n,["contents"],u)}const a=h(e,["config"]);return a!=null&&c$(a,n),n}function p$(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const i=h(t,["totalTokens"]);i!=null&&g(e,["totalTokens"],i);const r=h(t,["cachedContentTokenCount"]);return r!=null&&g(e,["cachedContentTokenCount"],r),e}function h$(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const i=h(t,["totalTokens"]);return i!=null&&g(e,["totalTokens"],i),e}function m$(t,e){const n={},i=h(e,["model"]);return i!=null&&g(n,["_url","name"],$e(t,i)),n}function g$(t,e){const n={},i=h(e,["model"]);return i!=null&&g(n,["_url","name"],$e(t,i)),n}function v$(t){const e={},n=h(t,["sdkHttpResponse"]);return n!=null&&g(e,["sdkHttpResponse"],n),e}function y$(t){const e={},n=h(t,["sdkHttpResponse"]);return n!=null&&g(e,["sdkHttpResponse"],n),e}function _$(t,e){const n={},i=h(t,["outputGcsUri"]);e!==void 0&&i!=null&&g(e,["parameters","storageUri"],i);const r=h(t,["negativePrompt"]);e!==void 0&&r!=null&&g(e,["parameters","negativePrompt"],r);const a=h(t,["numberOfImages"]);e!==void 0&&a!=null&&g(e,["parameters","sampleCount"],a);const u=h(t,["aspectRatio"]);e!==void 0&&u!=null&&g(e,["parameters","aspectRatio"],u);const c=h(t,["guidanceScale"]);e!==void 0&&c!=null&&g(e,["parameters","guidanceScale"],c);const p=h(t,["seed"]);e!==void 0&&p!=null&&g(e,["parameters","seed"],p);const d=h(t,["safetyFilterLevel"]);e!==void 0&&d!=null&&g(e,["parameters","safetySetting"],d);const m=h(t,["personGeneration"]);e!==void 0&&m!=null&&g(e,["parameters","personGeneration"],m);const y=h(t,["includeSafetyAttributes"]);e!==void 0&&y!=null&&g(e,["parameters","includeSafetyAttributes"],y);const S=h(t,["includeRaiReason"]);e!==void 0&&S!=null&&g(e,["parameters","includeRaiReason"],S);const E=h(t,["language"]);e!==void 0&&E!=null&&g(e,["parameters","language"],E);const C=h(t,["outputMimeType"]);e!==void 0&&C!=null&&g(e,["parameters","outputOptions","mimeType"],C);const T=h(t,["outputCompressionQuality"]);e!==void 0&&T!=null&&g(e,["parameters","outputOptions","compressionQuality"],T);const x=h(t,["addWatermark"]);e!==void 0&&x!=null&&g(e,["parameters","addWatermark"],x);const M=h(t,["labels"]);e!==void 0&&M!=null&&g(e,["labels"],M);const I=h(t,["editMode"]);e!==void 0&&I!=null&&g(e,["parameters","editMode"],I);const N=h(t,["baseSteps"]);return e!==void 0&&N!=null&&g(e,["parameters","editConfig","baseSteps"],N),n}function S$(t,e){const n={},i=h(e,["model"]);i!=null&&g(n,["_url","model"],$e(t,i));const r=h(e,["prompt"]);r!=null&&g(n,["instances[0]","prompt"],r);const a=h(e,["referenceImages"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(p=>bV(p))),g(n,["instances[0]","referenceImages"],c)}const u=h(e,["config"]);return u!=null&&_$(u,n),n}function E$(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const i=h(t,["predictions"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(a=>ep(a))),g(e,["generatedImages"],r)}return e}function b$(t,e){const n={},i=h(t,["taskType"]);e!==void 0&&i!=null&&g(e,["requests[]","taskType"],i);const r=h(t,["title"]);e!==void 0&&r!=null&&g(e,["requests[]","title"],r);const a=h(t,["outputDimensionality"]);if(e!==void 0&&a!=null&&g(e,["requests[]","outputDimensionality"],a),h(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(h(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function w$(t,e){const n={},i=h(t,["taskType"]);e!==void 0&&i!=null&&g(e,["instances[]","task_type"],i);const r=h(t,["title"]);e!==void 0&&r!=null&&g(e,["instances[]","title"],r);const a=h(t,["outputDimensionality"]);e!==void 0&&a!=null&&g(e,["parameters","outputDimensionality"],a);const u=h(t,["mimeType"]);e!==void 0&&u!=null&&g(e,["instances[]","mimeType"],u);const c=h(t,["autoTruncate"]);return e!==void 0&&c!=null&&g(e,["parameters","autoTruncate"],c),n}function C$(t,e){const n={},i=h(e,["model"]);i!=null&&g(n,["_url","model"],$e(t,i));const r=h(e,["contents"]);if(r!=null){let c=Ty(t,r);Array.isArray(c)&&(c=c.map(p=>p)),g(n,["requests[]","content"],c)}const a=h(e,["config"]);a!=null&&b$(a,n);const u=h(e,["model"]);return u!==void 0&&g(n,["requests[]","model"],$e(t,u)),n}function T$(t,e){const n={},i=h(e,["model"]);i!=null&&g(n,["_url","model"],$e(t,i));const r=h(e,["contents"]);if(r!=null){let u=Ty(t,r);Array.isArray(u)&&(u=u.map(c=>c)),g(n,["instances[]","content"],u)}const a=h(e,["config"]);return a!=null&&w$(a,n),n}function A$(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const i=h(t,["embeddings"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(u=>u)),g(e,["embeddings"],a)}const r=h(t,["metadata"]);return r!=null&&g(e,["metadata"],r),e}function x$(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const i=h(t,["predictions[]","embeddings"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(u=>s$(u))),g(e,["embeddings"],a)}const r=h(t,["metadata"]);return r!=null&&g(e,["metadata"],r),e}function R$(t){const e={},n=h(t,["endpoint"]);n!=null&&g(e,["name"],n);const i=h(t,["deployedModelId"]);return i!=null&&g(e,["deployedModelId"],i),e}function M$(t){const e={};if(h(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=h(t,["fileUri"]);n!=null&&g(e,["fileUri"],n);const i=h(t,["mimeType"]);return i!=null&&g(e,["mimeType"],i),e}function N$(t){const e={},n=h(t,["id"]);n!=null&&g(e,["id"],n);const i=h(t,["args"]);i!=null&&g(e,["args"],i);const r=h(t,["name"]);if(r!=null&&g(e,["name"],r),h(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(h(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function I$(t){const e={},n=h(t,["mode"]);n!=null&&g(e,["mode"],n);const i=h(t,["allowedFunctionNames"]);if(i!=null&&g(e,["allowedFunctionNames"],i),h(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function D$(t){const e={};if(h(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=h(t,["description"]);n!=null&&g(e,["description"],n);const i=h(t,["name"]);i!=null&&g(e,["name"],i);const r=h(t,["parameters"]);r!=null&&g(e,["parameters"],r);const a=h(t,["parametersJsonSchema"]);a!=null&&g(e,["parametersJsonSchema"],a);const u=h(t,["response"]);u!=null&&g(e,["response"],u);const c=h(t,["responseJsonSchema"]);return c!=null&&g(e,["responseJsonSchema"],c),e}function O$(t,e,n){const i={},r=h(e,["systemInstruction"]);n!==void 0&&r!=null&&g(n,["systemInstruction"],Zd(Ut(r)));const a=h(e,["temperature"]);a!=null&&g(i,["temperature"],a);const u=h(e,["topP"]);u!=null&&g(i,["topP"],u);const c=h(e,["topK"]);c!=null&&g(i,["topK"],c);const p=h(e,["candidateCount"]);p!=null&&g(i,["candidateCount"],p);const d=h(e,["maxOutputTokens"]);d!=null&&g(i,["maxOutputTokens"],d);const m=h(e,["stopSequences"]);m!=null&&g(i,["stopSequences"],m);const y=h(e,["responseLogprobs"]);y!=null&&g(i,["responseLogprobs"],y);const S=h(e,["logprobs"]);S!=null&&g(i,["logprobs"],S);const E=h(e,["presencePenalty"]);E!=null&&g(i,["presencePenalty"],E);const C=h(e,["frequencyPenalty"]);C!=null&&g(i,["frequencyPenalty"],C);const T=h(e,["seed"]);T!=null&&g(i,["seed"],T);const x=h(e,["responseMimeType"]);x!=null&&g(i,["responseMimeType"],x);const M=h(e,["responseSchema"]);M!=null&&g(i,["responseSchema"],Ay(M));const I=h(e,["responseJsonSchema"]);if(I!=null&&g(i,["responseJsonSchema"],I),h(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(h(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const N=h(e,["safetySettings"]);if(n!==void 0&&N!=null){let ie=N;Array.isArray(ie)&&(ie=ie.map(ae=>wV(ae))),g(n,["safetySettings"],ie)}const D=h(e,["tools"]);if(n!==void 0&&D!=null){let ie=Ta(D);Array.isArray(ie)&&(ie=ie.map(ae=>NV(Ca(ae)))),g(n,["tools"],ie)}const U=h(e,["toolConfig"]);if(n!==void 0&&U!=null&&g(n,["toolConfig"],MV(U)),h(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const k=h(e,["cachedContent"]);n!==void 0&&k!=null&&g(n,["cachedContent"],go(t,k));const O=h(e,["responseModalities"]);O!=null&&g(i,["responseModalities"],O);const q=h(e,["mediaResolution"]);q!=null&&g(i,["mediaResolution"],q);const J=h(e,["speechConfig"]);if(J!=null&&g(i,["speechConfig"],xy(J)),h(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const X=h(e,["thinkingConfig"]);X!=null&&g(i,["thinkingConfig"],X);const j=h(e,["imageConfig"]);j!=null&&g(i,["imageConfig"],sV(j));const re=h(e,["enableEnhancedCivicAnswers"]);return re!=null&&g(i,["enableEnhancedCivicAnswers"],re),i}function P$(t,e,n){const i={},r=h(e,["systemInstruction"]);n!==void 0&&r!=null&&g(n,["systemInstruction"],Ut(r));const a=h(e,["temperature"]);a!=null&&g(i,["temperature"],a);const u=h(e,["topP"]);u!=null&&g(i,["topP"],u);const c=h(e,["topK"]);c!=null&&g(i,["topK"],c);const p=h(e,["candidateCount"]);p!=null&&g(i,["candidateCount"],p);const d=h(e,["maxOutputTokens"]);d!=null&&g(i,["maxOutputTokens"],d);const m=h(e,["stopSequences"]);m!=null&&g(i,["stopSequences"],m);const y=h(e,["responseLogprobs"]);y!=null&&g(i,["responseLogprobs"],y);const S=h(e,["logprobs"]);S!=null&&g(i,["logprobs"],S);const E=h(e,["presencePenalty"]);E!=null&&g(i,["presencePenalty"],E);const C=h(e,["frequencyPenalty"]);C!=null&&g(i,["frequencyPenalty"],C);const T=h(e,["seed"]);T!=null&&g(i,["seed"],T);const x=h(e,["responseMimeType"]);x!=null&&g(i,["responseMimeType"],x);const M=h(e,["responseSchema"]);M!=null&&g(i,["responseSchema"],Ay(M));const I=h(e,["responseJsonSchema"]);I!=null&&g(i,["responseJsonSchema"],I);const N=h(e,["routingConfig"]);N!=null&&g(i,["routingConfig"],N);const D=h(e,["modelSelectionConfig"]);D!=null&&g(i,["modelConfig"],D);const U=h(e,["safetySettings"]);if(n!==void 0&&U!=null){let H=U;Array.isArray(H)&&(H=H.map(Q=>Q)),g(n,["safetySettings"],H)}const k=h(e,["tools"]);if(n!==void 0&&k!=null){let H=Ta(k);Array.isArray(H)&&(H=H.map(Q=>fM(Ca(Q)))),g(n,["tools"],H)}const O=h(e,["toolConfig"]);n!==void 0&&O!=null&&g(n,["toolConfig"],O);const q=h(e,["labels"]);n!==void 0&&q!=null&&g(n,["labels"],q);const J=h(e,["cachedContent"]);n!==void 0&&J!=null&&g(n,["cachedContent"],go(t,J));const X=h(e,["responseModalities"]);X!=null&&g(i,["responseModalities"],X);const j=h(e,["mediaResolution"]);j!=null&&g(i,["mediaResolution"],j);const re=h(e,["speechConfig"]);re!=null&&g(i,["speechConfig"],cM(xy(re)));const ie=h(e,["audioTimestamp"]);ie!=null&&g(i,["audioTimestamp"],ie);const ae=h(e,["thinkingConfig"]);ae!=null&&g(i,["thinkingConfig"],ae);const de=h(e,["imageConfig"]);if(de!=null&&g(i,["imageConfig"],aV(de)),h(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return i}function VC(t,e){const n={},i=h(e,["model"]);i!=null&&g(n,["_url","model"],$e(t,i));const r=h(e,["contents"]);if(r!=null){let u=Hn(r);Array.isArray(u)&&(u=u.map(c=>Zd(c))),g(n,["contents"],u)}const a=h(e,["config"]);return a!=null&&g(n,["generationConfig"],O$(t,a,n)),n}function zC(t,e){const n={},i=h(e,["model"]);i!=null&&g(n,["_url","model"],$e(t,i));const r=h(e,["contents"]);if(r!=null){let u=Hn(r);Array.isArray(u)&&(u=u.map(c=>c)),g(n,["contents"],u)}const a=h(e,["config"]);return a!=null&&g(n,["generationConfig"],P$(t,a,n)),n}function qC(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const i=h(t,["candidates"]);if(i!=null){let p=i;Array.isArray(p)&&(p=p.map(d=>n$(d))),g(e,["candidates"],p)}const r=h(t,["modelVersion"]);r!=null&&g(e,["modelVersion"],r);const a=h(t,["promptFeedback"]);a!=null&&g(e,["promptFeedback"],a);const u=h(t,["responseId"]);u!=null&&g(e,["responseId"],u);const c=h(t,["usageMetadata"]);return c!=null&&g(e,["usageMetadata"],c),e}function JC(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const i=h(t,["candidates"]);if(i!=null){let d=i;Array.isArray(d)&&(d=d.map(m=>m)),g(e,["candidates"],d)}const r=h(t,["createTime"]);r!=null&&g(e,["createTime"],r);const a=h(t,["modelVersion"]);a!=null&&g(e,["modelVersion"],a);const u=h(t,["promptFeedback"]);u!=null&&g(e,["promptFeedback"],u);const c=h(t,["responseId"]);c!=null&&g(e,["responseId"],c);const p=h(t,["usageMetadata"]);return p!=null&&g(e,["usageMetadata"],p),e}function L$(t,e){const n={};if(h(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(h(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const i=h(t,["numberOfImages"]);e!==void 0&&i!=null&&g(e,["parameters","sampleCount"],i);const r=h(t,["aspectRatio"]);e!==void 0&&r!=null&&g(e,["parameters","aspectRatio"],r);const a=h(t,["guidanceScale"]);if(e!==void 0&&a!=null&&g(e,["parameters","guidanceScale"],a),h(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const u=h(t,["safetyFilterLevel"]);e!==void 0&&u!=null&&g(e,["parameters","safetySetting"],u);const c=h(t,["personGeneration"]);e!==void 0&&c!=null&&g(e,["parameters","personGeneration"],c);const p=h(t,["includeSafetyAttributes"]);e!==void 0&&p!=null&&g(e,["parameters","includeSafetyAttributes"],p);const d=h(t,["includeRaiReason"]);e!==void 0&&d!=null&&g(e,["parameters","includeRaiReason"],d);const m=h(t,["language"]);e!==void 0&&m!=null&&g(e,["parameters","language"],m);const y=h(t,["outputMimeType"]);e!==void 0&&y!=null&&g(e,["parameters","outputOptions","mimeType"],y);const S=h(t,["outputCompressionQuality"]);if(e!==void 0&&S!=null&&g(e,["parameters","outputOptions","compressionQuality"],S),h(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(h(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const E=h(t,["imageSize"]);if(e!==void 0&&E!=null&&g(e,["parameters","sampleImageSize"],E),h(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function U$(t,e){const n={},i=h(t,["outputGcsUri"]);e!==void 0&&i!=null&&g(e,["parameters","storageUri"],i);const r=h(t,["negativePrompt"]);e!==void 0&&r!=null&&g(e,["parameters","negativePrompt"],r);const a=h(t,["numberOfImages"]);e!==void 0&&a!=null&&g(e,["parameters","sampleCount"],a);const u=h(t,["aspectRatio"]);e!==void 0&&u!=null&&g(e,["parameters","aspectRatio"],u);const c=h(t,["guidanceScale"]);e!==void 0&&c!=null&&g(e,["parameters","guidanceScale"],c);const p=h(t,["seed"]);e!==void 0&&p!=null&&g(e,["parameters","seed"],p);const d=h(t,["safetyFilterLevel"]);e!==void 0&&d!=null&&g(e,["parameters","safetySetting"],d);const m=h(t,["personGeneration"]);e!==void 0&&m!=null&&g(e,["parameters","personGeneration"],m);const y=h(t,["includeSafetyAttributes"]);e!==void 0&&y!=null&&g(e,["parameters","includeSafetyAttributes"],y);const S=h(t,["includeRaiReason"]);e!==void 0&&S!=null&&g(e,["parameters","includeRaiReason"],S);const E=h(t,["language"]);e!==void 0&&E!=null&&g(e,["parameters","language"],E);const C=h(t,["outputMimeType"]);e!==void 0&&C!=null&&g(e,["parameters","outputOptions","mimeType"],C);const T=h(t,["outputCompressionQuality"]);e!==void 0&&T!=null&&g(e,["parameters","outputOptions","compressionQuality"],T);const x=h(t,["addWatermark"]);e!==void 0&&x!=null&&g(e,["parameters","addWatermark"],x);const M=h(t,["labels"]);e!==void 0&&M!=null&&g(e,["labels"],M);const I=h(t,["imageSize"]);e!==void 0&&I!=null&&g(e,["parameters","sampleImageSize"],I);const N=h(t,["enhancePrompt"]);return e!==void 0&&N!=null&&g(e,["parameters","enhancePrompt"],N),n}function k$(t,e){const n={},i=h(e,["model"]);i!=null&&g(n,["_url","model"],$e(t,i));const r=h(e,["prompt"]);r!=null&&g(n,["instances[0]","prompt"],r);const a=h(e,["config"]);return a!=null&&L$(a,n),n}function B$(t,e){const n={},i=h(e,["model"]);i!=null&&g(n,["_url","model"],$e(t,i));const r=h(e,["prompt"]);r!=null&&g(n,["instances[0]","prompt"],r);const a=h(e,["config"]);return a!=null&&U$(a,n),n}function H$(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const i=h(t,["predictions"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(u=>j$(u))),g(e,["generatedImages"],a)}const r=h(t,["positivePromptSafetyAttributes"]);return r!=null&&g(e,["positivePromptSafetyAttributes"],lM(r)),e}function G$(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const i=h(t,["predictions"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(u=>ep(u))),g(e,["generatedImages"],a)}const r=h(t,["positivePromptSafetyAttributes"]);return r!=null&&g(e,["positivePromptSafetyAttributes"],uM(r)),e}function F$(t,e){const n={},i=h(t,["numberOfVideos"]);if(e!==void 0&&i!=null&&g(e,["parameters","sampleCount"],i),h(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(h(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const r=h(t,["durationSeconds"]);if(e!==void 0&&r!=null&&g(e,["parameters","durationSeconds"],r),h(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const a=h(t,["aspectRatio"]);e!==void 0&&a!=null&&g(e,["parameters","aspectRatio"],a);const u=h(t,["resolution"]);e!==void 0&&u!=null&&g(e,["parameters","resolution"],u);const c=h(t,["personGeneration"]);if(e!==void 0&&c!=null&&g(e,["parameters","personGeneration"],c),h(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const p=h(t,["negativePrompt"]);e!==void 0&&p!=null&&g(e,["parameters","negativePrompt"],p);const d=h(t,["enhancePrompt"]);if(e!==void 0&&d!=null&&g(e,["parameters","enhancePrompt"],d),h(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const m=h(t,["lastFrame"]);e!==void 0&&m!=null&&g(e,["instances[0]","lastFrame"],tp(m));const y=h(t,["referenceImages"]);if(e!==void 0&&y!=null){let S=y;Array.isArray(S)&&(S=S.map(E=>VV(E))),g(e,["instances[0]","referenceImages"],S)}if(h(t,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(h(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function $$(t,e){const n={},i=h(t,["numberOfVideos"]);e!==void 0&&i!=null&&g(e,["parameters","sampleCount"],i);const r=h(t,["outputGcsUri"]);e!==void 0&&r!=null&&g(e,["parameters","storageUri"],r);const a=h(t,["fps"]);e!==void 0&&a!=null&&g(e,["parameters","fps"],a);const u=h(t,["durationSeconds"]);e!==void 0&&u!=null&&g(e,["parameters","durationSeconds"],u);const c=h(t,["seed"]);e!==void 0&&c!=null&&g(e,["parameters","seed"],c);const p=h(t,["aspectRatio"]);e!==void 0&&p!=null&&g(e,["parameters","aspectRatio"],p);const d=h(t,["resolution"]);e!==void 0&&d!=null&&g(e,["parameters","resolution"],d);const m=h(t,["personGeneration"]);e!==void 0&&m!=null&&g(e,["parameters","personGeneration"],m);const y=h(t,["pubsubTopic"]);e!==void 0&&y!=null&&g(e,["parameters","pubsubTopic"],y);const S=h(t,["negativePrompt"]);e!==void 0&&S!=null&&g(e,["parameters","negativePrompt"],S);const E=h(t,["enhancePrompt"]);e!==void 0&&E!=null&&g(e,["parameters","enhancePrompt"],E);const C=h(t,["generateAudio"]);e!==void 0&&C!=null&&g(e,["parameters","generateAudio"],C);const T=h(t,["lastFrame"]);e!==void 0&&T!=null&&g(e,["instances[0]","lastFrame"],ui(T));const x=h(t,["referenceImages"]);if(e!==void 0&&x!=null){let N=x;Array.isArray(N)&&(N=N.map(D=>zV(D))),g(e,["instances[0]","referenceImages"],N)}const M=h(t,["mask"]);e!==void 0&&M!=null&&g(e,["instances[0]","mask"],$V(M));const I=h(t,["compressionQuality"]);return e!==void 0&&I!=null&&g(e,["parameters","compressionQuality"],I),n}function V$(t){const e={},n=h(t,["name"]);n!=null&&g(e,["name"],n);const i=h(t,["metadata"]);i!=null&&g(e,["metadata"],i);const r=h(t,["done"]);r!=null&&g(e,["done"],r);const a=h(t,["error"]);a!=null&&g(e,["error"],a);const u=h(t,["response","generateVideoResponse"]);return u!=null&&g(e,["response"],Y$(u)),e}function z$(t){const e={},n=h(t,["name"]);n!=null&&g(e,["name"],n);const i=h(t,["metadata"]);i!=null&&g(e,["metadata"],i);const r=h(t,["done"]);r!=null&&g(e,["done"],r);const a=h(t,["error"]);a!=null&&g(e,["error"],a);const u=h(t,["response"]);return u!=null&&g(e,["response"],K$(u)),e}function q$(t,e){const n={},i=h(e,["model"]);i!=null&&g(n,["_url","model"],$e(t,i));const r=h(e,["prompt"]);r!=null&&g(n,["instances[0]","prompt"],r);const a=h(e,["image"]);a!=null&&g(n,["instances[0]","image"],tp(a));const u=h(e,["video"]);u!=null&&g(n,["instances[0]","video"],dM(u));const c=h(e,["source"]);c!=null&&X$(c,n);const p=h(e,["config"]);return p!=null&&F$(p,n),n}function J$(t,e){const n={},i=h(e,["model"]);i!=null&&g(n,["_url","model"],$e(t,i));const r=h(e,["prompt"]);r!=null&&g(n,["instances[0]","prompt"],r);const a=h(e,["image"]);a!=null&&g(n,["instances[0]","image"],ui(a));const u=h(e,["video"]);u!=null&&g(n,["instances[0]","video"],pM(u));const c=h(e,["source"]);c!=null&&W$(c,n);const p=h(e,["config"]);return p!=null&&$$(p,n),n}function Y$(t){const e={},n=h(t,["generatedSamples"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(u=>Z$(u))),g(e,["generatedVideos"],a)}const i=h(t,["raiMediaFilteredCount"]);i!=null&&g(e,["raiMediaFilteredCount"],i);const r=h(t,["raiMediaFilteredReasons"]);return r!=null&&g(e,["raiMediaFilteredReasons"],r),e}function K$(t){const e={},n=h(t,["videos"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(u=>eV(u))),g(e,["generatedVideos"],a)}const i=h(t,["raiMediaFilteredCount"]);i!=null&&g(e,["raiMediaFilteredCount"],i);const r=h(t,["raiMediaFilteredReasons"]);return r!=null&&g(e,["raiMediaFilteredReasons"],r),e}function X$(t,e){const n={},i=h(t,["prompt"]);e!==void 0&&i!=null&&g(e,["instances[0]","prompt"],i);const r=h(t,["image"]);e!==void 0&&r!=null&&g(e,["instances[0]","image"],tp(r));const a=h(t,["video"]);return e!==void 0&&a!=null&&g(e,["instances[0]","video"],dM(a)),n}function W$(t,e){const n={},i=h(t,["prompt"]);e!==void 0&&i!=null&&g(e,["instances[0]","prompt"],i);const r=h(t,["image"]);e!==void 0&&r!=null&&g(e,["instances[0]","image"],ui(r));const a=h(t,["video"]);return e!==void 0&&a!=null&&g(e,["instances[0]","video"],pM(a)),n}function j$(t){const e={},n=h(t,["_self"]);n!=null&&g(e,["image"],lV(n));const i=h(t,["raiFilteredReason"]);i!=null&&g(e,["raiFilteredReason"],i);const r=h(t,["_self"]);return r!=null&&g(e,["safetyAttributes"],lM(r)),e}function ep(t){const e={},n=h(t,["_self"]);n!=null&&g(e,["image"],aM(n));const i=h(t,["raiFilteredReason"]);i!=null&&g(e,["raiFilteredReason"],i);const r=h(t,["_self"]);r!=null&&g(e,["safetyAttributes"],uM(r));const a=h(t,["prompt"]);return a!=null&&g(e,["enhancedPrompt"],a),e}function Q$(t){const e={},n=h(t,["_self"]);n!=null&&g(e,["mask"],aM(n));const i=h(t,["labels"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(a=>a)),g(e,["labels"],r)}return e}function Z$(t){const e={},n=h(t,["video"]);return n!=null&&g(e,["video"],GV(n)),e}function eV(t){const e={},n=h(t,["_self"]);return n!=null&&g(e,["video"],FV(n)),e}function tV(t){const e={},n=h(t,["modelSelectionConfig"]);n!=null&&g(e,["modelConfig"],n);const i=h(t,["responseJsonSchema"]);i!=null&&g(e,["responseJsonSchema"],i);const r=h(t,["audioTimestamp"]);r!=null&&g(e,["audioTimestamp"],r);const a=h(t,["candidateCount"]);a!=null&&g(e,["candidateCount"],a);const u=h(t,["enableAffectiveDialog"]);u!=null&&g(e,["enableAffectiveDialog"],u);const c=h(t,["frequencyPenalty"]);c!=null&&g(e,["frequencyPenalty"],c);const p=h(t,["logprobs"]);p!=null&&g(e,["logprobs"],p);const d=h(t,["maxOutputTokens"]);d!=null&&g(e,["maxOutputTokens"],d);const m=h(t,["mediaResolution"]);m!=null&&g(e,["mediaResolution"],m);const y=h(t,["presencePenalty"]);y!=null&&g(e,["presencePenalty"],y);const S=h(t,["responseLogprobs"]);S!=null&&g(e,["responseLogprobs"],S);const E=h(t,["responseMimeType"]);E!=null&&g(e,["responseMimeType"],E);const C=h(t,["responseModalities"]);C!=null&&g(e,["responseModalities"],C);const T=h(t,["responseSchema"]);T!=null&&g(e,["responseSchema"],T);const x=h(t,["routingConfig"]);x!=null&&g(e,["routingConfig"],x);const M=h(t,["seed"]);M!=null&&g(e,["seed"],M);const I=h(t,["speechConfig"]);I!=null&&g(e,["speechConfig"],cM(I));const N=h(t,["stopSequences"]);N!=null&&g(e,["stopSequences"],N);const D=h(t,["temperature"]);D!=null&&g(e,["temperature"],D);const U=h(t,["thinkingConfig"]);U!=null&&g(e,["thinkingConfig"],U);const k=h(t,["topK"]);k!=null&&g(e,["topK"],k);const O=h(t,["topP"]);if(O!=null&&g(e,["topP"],O),h(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function nV(t,e){const n={},i=h(e,["model"]);return i!=null&&g(n,["_url","name"],$e(t,i)),n}function iV(t,e){const n={},i=h(e,["model"]);return i!=null&&g(n,["_url","name"],$e(t,i)),n}function oV(t){const e={};if(h(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=h(t,["enableWidget"]);return n!=null&&g(e,["enableWidget"],n),e}function rV(t){const e={};if(h(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(h(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=h(t,["timeRangeFilter"]);return n!=null&&g(e,["timeRangeFilter"],n),e}function sV(t){const e={},n=h(t,["aspectRatio"]);n!=null&&g(e,["aspectRatio"],n);const i=h(t,["imageSize"]);if(i!=null&&g(e,["imageSize"],i),h(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(h(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function aV(t){const e={},n=h(t,["aspectRatio"]);n!=null&&g(e,["aspectRatio"],n);const i=h(t,["imageSize"]);i!=null&&g(e,["imageSize"],i);const r=h(t,["outputMimeType"]);r!=null&&g(e,["imageOutputOptions","mimeType"],r);const a=h(t,["outputCompressionQuality"]);return a!=null&&g(e,["imageOutputOptions","compressionQuality"],a),e}function lV(t){const e={},n=h(t,["bytesBase64Encoded"]);n!=null&&g(e,["imageBytes"],lr(n));const i=h(t,["mimeType"]);return i!=null&&g(e,["mimeType"],i),e}function aM(t){const e={},n=h(t,["gcsUri"]);n!=null&&g(e,["gcsUri"],n);const i=h(t,["bytesBase64Encoded"]);i!=null&&g(e,["imageBytes"],lr(i));const r=h(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function tp(t){const e={};if(h(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=h(t,["imageBytes"]);n!=null&&g(e,["bytesBase64Encoded"],lr(n));const i=h(t,["mimeType"]);return i!=null&&g(e,["mimeType"],i),e}function ui(t){const e={},n=h(t,["gcsUri"]);n!=null&&g(e,["gcsUri"],n);const i=h(t,["imageBytes"]);i!=null&&g(e,["bytesBase64Encoded"],lr(i));const r=h(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function uV(t,e,n){const i={},r=h(e,["pageSize"]);n!==void 0&&r!=null&&g(n,["_query","pageSize"],r);const a=h(e,["pageToken"]);n!==void 0&&a!=null&&g(n,["_query","pageToken"],a);const u=h(e,["filter"]);n!==void 0&&u!=null&&g(n,["_query","filter"],u);const c=h(e,["queryBase"]);return n!==void 0&&c!=null&&g(n,["_url","models_url"],ZR(t,c)),i}function cV(t,e,n){const i={},r=h(e,["pageSize"]);n!==void 0&&r!=null&&g(n,["_query","pageSize"],r);const a=h(e,["pageToken"]);n!==void 0&&a!=null&&g(n,["_query","pageToken"],a);const u=h(e,["filter"]);n!==void 0&&u!=null&&g(n,["_query","filter"],u);const c=h(e,["queryBase"]);return n!==void 0&&c!=null&&g(n,["_url","models_url"],ZR(t,c)),i}function fV(t,e){const n={},i=h(e,["config"]);return i!=null&&uV(t,i,n),n}function dV(t,e){const n={},i=h(e,["config"]);return i!=null&&cV(t,i,n),n}function pV(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const i=h(t,["nextPageToken"]);i!=null&&g(e,["nextPageToken"],i);const r=h(t,["_self"]);if(r!=null){let a=eM(r);Array.isArray(a)&&(a=a.map(u=>uv(u))),g(e,["models"],a)}return e}function hV(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const i=h(t,["nextPageToken"]);i!=null&&g(e,["nextPageToken"],i);const r=h(t,["_self"]);if(r!=null){let a=eM(r);Array.isArray(a)&&(a=a.map(u=>cv(u))),g(e,["models"],a)}return e}function mV(t){const e={},n=h(t,["maskMode"]);n!=null&&g(e,["maskMode"],n);const i=h(t,["segmentationClasses"]);i!=null&&g(e,["maskClasses"],i);const r=h(t,["maskDilation"]);return r!=null&&g(e,["dilation"],r),e}function uv(t){const e={},n=h(t,["name"]);n!=null&&g(e,["name"],n);const i=h(t,["displayName"]);i!=null&&g(e,["displayName"],i);const r=h(t,["description"]);r!=null&&g(e,["description"],r);const a=h(t,["version"]);a!=null&&g(e,["version"],a);const u=h(t,["_self"]);u!=null&&g(e,["tunedModelInfo"],IV(u));const c=h(t,["inputTokenLimit"]);c!=null&&g(e,["inputTokenLimit"],c);const p=h(t,["outputTokenLimit"]);p!=null&&g(e,["outputTokenLimit"],p);const d=h(t,["supportedGenerationMethods"]);d!=null&&g(e,["supportedActions"],d);const m=h(t,["temperature"]);m!=null&&g(e,["temperature"],m);const y=h(t,["maxTemperature"]);y!=null&&g(e,["maxTemperature"],y);const S=h(t,["topP"]);S!=null&&g(e,["topP"],S);const E=h(t,["topK"]);E!=null&&g(e,["topK"],E);const C=h(t,["thinking"]);return C!=null&&g(e,["thinking"],C),e}function cv(t){const e={},n=h(t,["name"]);n!=null&&g(e,["name"],n);const i=h(t,["displayName"]);i!=null&&g(e,["displayName"],i);const r=h(t,["description"]);r!=null&&g(e,["description"],r);const a=h(t,["versionId"]);a!=null&&g(e,["version"],a);const u=h(t,["deployedModels"]);if(u!=null){let y=u;Array.isArray(y)&&(y=y.map(S=>R$(S))),g(e,["endpoints"],y)}const c=h(t,["labels"]);c!=null&&g(e,["labels"],c);const p=h(t,["_self"]);p!=null&&g(e,["tunedModelInfo"],DV(p));const d=h(t,["defaultCheckpointId"]);d!=null&&g(e,["defaultCheckpointId"],d);const m=h(t,["checkpoints"]);if(m!=null){let y=m;Array.isArray(y)&&(y=y.map(S=>S)),g(e,["checkpoints"],y)}return e}function gV(t){const e={},n=h(t,["mediaResolution"]);n!=null&&g(e,["mediaResolution"],n);const i=h(t,["codeExecutionResult"]);i!=null&&g(e,["codeExecutionResult"],i);const r=h(t,["executableCode"]);r!=null&&g(e,["executableCode"],r);const a=h(t,["fileData"]);a!=null&&g(e,["fileData"],M$(a));const u=h(t,["functionCall"]);u!=null&&g(e,["functionCall"],N$(u));const c=h(t,["functionResponse"]);c!=null&&g(e,["functionResponse"],c);const p=h(t,["inlineData"]);p!=null&&g(e,["inlineData"],t$(p));const d=h(t,["text"]);d!=null&&g(e,["text"],d);const m=h(t,["thought"]);m!=null&&g(e,["thought"],m);const y=h(t,["thoughtSignature"]);y!=null&&g(e,["thoughtSignature"],y);const S=h(t,["videoMetadata"]);return S!=null&&g(e,["videoMetadata"],S),e}function vV(t){const e={},n=h(t,["productImage"]);return n!=null&&g(e,["image"],ui(n)),e}function yV(t,e){const n={},i=h(t,["numberOfImages"]);e!==void 0&&i!=null&&g(e,["parameters","sampleCount"],i);const r=h(t,["baseSteps"]);e!==void 0&&r!=null&&g(e,["parameters","baseSteps"],r);const a=h(t,["outputGcsUri"]);e!==void 0&&a!=null&&g(e,["parameters","storageUri"],a);const u=h(t,["seed"]);e!==void 0&&u!=null&&g(e,["parameters","seed"],u);const c=h(t,["safetyFilterLevel"]);e!==void 0&&c!=null&&g(e,["parameters","safetySetting"],c);const p=h(t,["personGeneration"]);e!==void 0&&p!=null&&g(e,["parameters","personGeneration"],p);const d=h(t,["addWatermark"]);e!==void 0&&d!=null&&g(e,["parameters","addWatermark"],d);const m=h(t,["outputMimeType"]);e!==void 0&&m!=null&&g(e,["parameters","outputOptions","mimeType"],m);const y=h(t,["outputCompressionQuality"]);e!==void 0&&y!=null&&g(e,["parameters","outputOptions","compressionQuality"],y);const S=h(t,["enhancePrompt"]);e!==void 0&&S!=null&&g(e,["parameters","enhancePrompt"],S);const E=h(t,["labels"]);return e!==void 0&&E!=null&&g(e,["labels"],E),n}function _V(t,e){const n={},i=h(e,["model"]);i!=null&&g(n,["_url","model"],$e(t,i));const r=h(e,["source"]);r!=null&&EV(r,n);const a=h(e,["config"]);return a!=null&&yV(a,n),n}function SV(t){const e={},n=h(t,["predictions"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(r=>ep(r))),g(e,["generatedImages"],i)}return e}function EV(t,e){const n={},i=h(t,["prompt"]);e!==void 0&&i!=null&&g(e,["instances[0]","prompt"],i);const r=h(t,["personImage"]);e!==void 0&&r!=null&&g(e,["instances[0]","personImage","image"],ui(r));const a=h(t,["productImages"]);if(e!==void 0&&a!=null){let u=a;Array.isArray(u)&&(u=u.map(c=>vV(c))),g(e,["instances[0]","productImages"],u)}return n}function bV(t){const e={},n=h(t,["referenceImage"]);n!=null&&g(e,["referenceImage"],ui(n));const i=h(t,["referenceId"]);i!=null&&g(e,["referenceId"],i);const r=h(t,["referenceType"]);r!=null&&g(e,["referenceType"],r);const a=h(t,["maskImageConfig"]);a!=null&&g(e,["maskImageConfig"],mV(a));const u=h(t,["controlImageConfig"]);u!=null&&g(e,["controlImageConfig"],l$(u));const c=h(t,["styleImageConfig"]);c!=null&&g(e,["styleImageConfig"],c);const p=h(t,["subjectImageConfig"]);return p!=null&&g(e,["subjectImageConfig"],p),e}function lM(t){const e={},n=h(t,["safetyAttributes","categories"]);n!=null&&g(e,["categories"],n);const i=h(t,["safetyAttributes","scores"]);i!=null&&g(e,["scores"],i);const r=h(t,["contentType"]);return r!=null&&g(e,["contentType"],r),e}function uM(t){const e={},n=h(t,["safetyAttributes","categories"]);n!=null&&g(e,["categories"],n);const i=h(t,["safetyAttributes","scores"]);i!=null&&g(e,["scores"],i);const r=h(t,["contentType"]);return r!=null&&g(e,["contentType"],r),e}function wV(t){const e={},n=h(t,["category"]);if(n!=null&&g(e,["category"],n),h(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const i=h(t,["threshold"]);return i!=null&&g(e,["threshold"],i),e}function CV(t){const e={},n=h(t,["image"]);return n!=null&&g(e,["image"],ui(n)),e}function TV(t,e){const n={},i=h(t,["mode"]);e!==void 0&&i!=null&&g(e,["parameters","mode"],i);const r=h(t,["maxPredictions"]);e!==void 0&&r!=null&&g(e,["parameters","maxPredictions"],r);const a=h(t,["confidenceThreshold"]);e!==void 0&&a!=null&&g(e,["parameters","confidenceThreshold"],a);const u=h(t,["maskDilation"]);e!==void 0&&u!=null&&g(e,["parameters","maskDilation"],u);const c=h(t,["binaryColorThreshold"]);e!==void 0&&c!=null&&g(e,["parameters","binaryColorThreshold"],c);const p=h(t,["labels"]);return e!==void 0&&p!=null&&g(e,["labels"],p),n}function AV(t,e){const n={},i=h(e,["model"]);i!=null&&g(n,["_url","model"],$e(t,i));const r=h(e,["source"]);r!=null&&RV(r,n);const a=h(e,["config"]);return a!=null&&TV(a,n),n}function xV(t){const e={},n=h(t,["predictions"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(r=>Q$(r))),g(e,["generatedMasks"],i)}return e}function RV(t,e){const n={},i=h(t,["prompt"]);e!==void 0&&i!=null&&g(e,["instances[0]","prompt"],i);const r=h(t,["image"]);e!==void 0&&r!=null&&g(e,["instances[0]","image"],ui(r));const a=h(t,["scribbleImage"]);return e!==void 0&&a!=null&&g(e,["instances[0]","scribble"],CV(a)),n}function cM(t){const e={},n=h(t,["voiceConfig"]);n!=null&&g(e,["voiceConfig"],n);const i=h(t,["languageCode"]);if(i!=null&&g(e,["languageCode"],i),h(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return e}function MV(t){const e={},n=h(t,["functionCallingConfig"]);n!=null&&g(e,["functionCallingConfig"],I$(n));const i=h(t,["retrievalConfig"]);return i!=null&&g(e,["retrievalConfig"],i),e}function NV(t){const e={},n=h(t,["functionDeclarations"]);if(n!=null){let m=n;Array.isArray(m)&&(m=m.map(y=>y)),g(e,["functionDeclarations"],m)}if(h(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=h(t,["googleSearchRetrieval"]);i!=null&&g(e,["googleSearchRetrieval"],i);const r=h(t,["computerUse"]);r!=null&&g(e,["computerUse"],r);const a=h(t,["fileSearch"]);a!=null&&g(e,["fileSearch"],a);const u=h(t,["codeExecution"]);if(u!=null&&g(e,["codeExecution"],u),h(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const c=h(t,["googleMaps"]);c!=null&&g(e,["googleMaps"],oV(c));const p=h(t,["googleSearch"]);p!=null&&g(e,["googleSearch"],rV(p));const d=h(t,["urlContext"]);return d!=null&&g(e,["urlContext"],d),e}function fM(t){const e={},n=h(t,["functionDeclarations"]);if(n!=null){let y=n;Array.isArray(y)&&(y=y.map(S=>D$(S))),g(e,["functionDeclarations"],y)}const i=h(t,["retrieval"]);i!=null&&g(e,["retrieval"],i);const r=h(t,["googleSearchRetrieval"]);r!=null&&g(e,["googleSearchRetrieval"],r);const a=h(t,["computerUse"]);if(a!=null&&g(e,["computerUse"],a),h(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const u=h(t,["codeExecution"]);u!=null&&g(e,["codeExecution"],u);const c=h(t,["enterpriseWebSearch"]);c!=null&&g(e,["enterpriseWebSearch"],c);const p=h(t,["googleMaps"]);p!=null&&g(e,["googleMaps"],p);const d=h(t,["googleSearch"]);d!=null&&g(e,["googleSearch"],d);const m=h(t,["urlContext"]);return m!=null&&g(e,["urlContext"],m),e}function IV(t){const e={},n=h(t,["baseModel"]);n!=null&&g(e,["baseModel"],n);const i=h(t,["createTime"]);i!=null&&g(e,["createTime"],i);const r=h(t,["updateTime"]);return r!=null&&g(e,["updateTime"],r),e}function DV(t){const e={},n=h(t,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&g(e,["baseModel"],n);const i=h(t,["createTime"]);i!=null&&g(e,["createTime"],i);const r=h(t,["updateTime"]);return r!=null&&g(e,["updateTime"],r),e}function OV(t,e){const n={},i=h(t,["displayName"]);e!==void 0&&i!=null&&g(e,["displayName"],i);const r=h(t,["description"]);e!==void 0&&r!=null&&g(e,["description"],r);const a=h(t,["defaultCheckpointId"]);return e!==void 0&&a!=null&&g(e,["defaultCheckpointId"],a),n}function PV(t,e){const n={},i=h(t,["displayName"]);e!==void 0&&i!=null&&g(e,["displayName"],i);const r=h(t,["description"]);e!==void 0&&r!=null&&g(e,["description"],r);const a=h(t,["defaultCheckpointId"]);return e!==void 0&&a!=null&&g(e,["defaultCheckpointId"],a),n}function LV(t,e){const n={},i=h(e,["model"]);i!=null&&g(n,["_url","name"],$e(t,i));const r=h(e,["config"]);return r!=null&&OV(r,n),n}function UV(t,e){const n={},i=h(e,["model"]);i!=null&&g(n,["_url","model"],$e(t,i));const r=h(e,["config"]);return r!=null&&PV(r,n),n}function kV(t,e){const n={},i=h(t,["outputGcsUri"]);e!==void 0&&i!=null&&g(e,["parameters","storageUri"],i);const r=h(t,["safetyFilterLevel"]);e!==void 0&&r!=null&&g(e,["parameters","safetySetting"],r);const a=h(t,["personGeneration"]);e!==void 0&&a!=null&&g(e,["parameters","personGeneration"],a);const u=h(t,["includeRaiReason"]);e!==void 0&&u!=null&&g(e,["parameters","includeRaiReason"],u);const c=h(t,["outputMimeType"]);e!==void 0&&c!=null&&g(e,["parameters","outputOptions","mimeType"],c);const p=h(t,["outputCompressionQuality"]);e!==void 0&&p!=null&&g(e,["parameters","outputOptions","compressionQuality"],p);const d=h(t,["enhanceInputImage"]);e!==void 0&&d!=null&&g(e,["parameters","upscaleConfig","enhanceInputImage"],d);const m=h(t,["imagePreservationFactor"]);e!==void 0&&m!=null&&g(e,["parameters","upscaleConfig","imagePreservationFactor"],m);const y=h(t,["labels"]);e!==void 0&&y!=null&&g(e,["labels"],y);const S=h(t,["numberOfImages"]);e!==void 0&&S!=null&&g(e,["parameters","sampleCount"],S);const E=h(t,["mode"]);return e!==void 0&&E!=null&&g(e,["parameters","mode"],E),n}function BV(t,e){const n={},i=h(e,["model"]);i!=null&&g(n,["_url","model"],$e(t,i));const r=h(e,["image"]);r!=null&&g(n,["instances[0]","image"],ui(r));const a=h(e,["upscaleFactor"]);a!=null&&g(n,["parameters","upscaleConfig","upscaleFactor"],a);const u=h(e,["config"]);return u!=null&&kV(u,n),n}function HV(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const i=h(t,["predictions"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(a=>ep(a))),g(e,["generatedImages"],r)}return e}function GV(t){const e={},n=h(t,["uri"]);n!=null&&g(e,["uri"],n);const i=h(t,["encodedVideo"]);i!=null&&g(e,["videoBytes"],lr(i));const r=h(t,["encoding"]);return r!=null&&g(e,["mimeType"],r),e}function FV(t){const e={},n=h(t,["gcsUri"]);n!=null&&g(e,["uri"],n);const i=h(t,["bytesBase64Encoded"]);i!=null&&g(e,["videoBytes"],lr(i));const r=h(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function $V(t){const e={},n=h(t,["image"]);n!=null&&g(e,["_self"],ui(n));const i=h(t,["maskMode"]);return i!=null&&g(e,["maskMode"],i),e}function VV(t){const e={},n=h(t,["image"]);n!=null&&g(e,["image"],tp(n));const i=h(t,["referenceType"]);return i!=null&&g(e,["referenceType"],i),e}function zV(t){const e={},n=h(t,["image"]);n!=null&&g(e,["image"],ui(n));const i=h(t,["referenceType"]);return i!=null&&g(e,["referenceType"],i),e}function dM(t){const e={},n=h(t,["uri"]);n!=null&&g(e,["uri"],n);const i=h(t,["videoBytes"]);i!=null&&g(e,["encodedVideo"],lr(i));const r=h(t,["mimeType"]);return r!=null&&g(e,["encoding"],r),e}function pM(t){const e={},n=h(t,["uri"]);n!=null&&g(e,["gcsUri"],n);const i=h(t,["videoBytes"]);i!=null&&g(e,["bytesBase64Encoded"],lr(i));const r=h(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function qV(t,e){const n={},i=h(t,["displayName"]);return e!==void 0&&i!=null&&g(e,["displayName"],i),n}function JV(t){const e={},n=h(t,["config"]);return n!=null&&qV(n,e),e}function YV(t,e){const n={},i=h(t,["force"]);return e!==void 0&&i!=null&&g(e,["_query","force"],i),n}function KV(t){const e={},n=h(t,["name"]);n!=null&&g(e,["_url","name"],n);const i=h(t,["config"]);return i!=null&&YV(i,e),e}function XV(t){const e={},n=h(t,["name"]);return n!=null&&g(e,["_url","name"],n),e}function WV(t,e){const n={},i=h(t,["customMetadata"]);if(e!==void 0&&i!=null){let a=i;Array.isArray(a)&&(a=a.map(u=>u)),g(e,["customMetadata"],a)}const r=h(t,["chunkingConfig"]);return e!==void 0&&r!=null&&g(e,["chunkingConfig"],r),n}function jV(t){const e={},n=h(t,["name"]);n!=null&&g(e,["name"],n);const i=h(t,["metadata"]);i!=null&&g(e,["metadata"],i);const r=h(t,["done"]);r!=null&&g(e,["done"],r);const a=h(t,["error"]);a!=null&&g(e,["error"],a);const u=h(t,["response"]);return u!=null&&g(e,["response"],ZV(u)),e}function QV(t){const e={},n=h(t,["fileSearchStoreName"]);n!=null&&g(e,["_url","file_search_store_name"],n);const i=h(t,["fileName"]);i!=null&&g(e,["fileName"],i);const r=h(t,["config"]);return r!=null&&WV(r,e),e}function ZV(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const i=h(t,["parent"]);i!=null&&g(e,["parent"],i);const r=h(t,["documentName"]);return r!=null&&g(e,["documentName"],r),e}function ez(t,e){const n={},i=h(t,["pageSize"]);e!==void 0&&i!=null&&g(e,["_query","pageSize"],i);const r=h(t,["pageToken"]);return e!==void 0&&r!=null&&g(e,["_query","pageToken"],r),n}function tz(t){const e={},n=h(t,["config"]);return n!=null&&ez(n,e),e}function nz(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const i=h(t,["nextPageToken"]);i!=null&&g(e,["nextPageToken"],i);const r=h(t,["fileSearchStores"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(u=>u)),g(e,["fileSearchStores"],a)}return e}function hM(t,e){const n={},i=h(t,["mimeType"]);e!==void 0&&i!=null&&g(e,["mimeType"],i);const r=h(t,["displayName"]);e!==void 0&&r!=null&&g(e,["displayName"],r);const a=h(t,["customMetadata"]);if(e!==void 0&&a!=null){let c=a;Array.isArray(c)&&(c=c.map(p=>p)),g(e,["customMetadata"],c)}const u=h(t,["chunkingConfig"]);return e!==void 0&&u!=null&&g(e,["chunkingConfig"],u),n}function iz(t){const e={},n=h(t,["fileSearchStoreName"]);n!=null&&g(e,["_url","file_search_store_name"],n);const i=h(t,["config"]);return i!=null&&hM(i,e),e}function oz(t){const e={},n=h(t,["sdkHttpResponse"]);return n!=null&&g(e,["sdkHttpResponse"],n),e}const rz="Content-Type",sz="X-Server-Timeout",az="User-Agent",fv="x-goog-api-client",lz="1.33.0",uz=`google-genai-sdk/${lz}`,cz="v1beta1",fz="v1beta";class dz{constructor(e){var n,i;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const r={};this.clientOptions.vertexai?(r.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:cz,r.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(r.apiVersion=(i=this.clientOptions.apiVersion)!==null&&i!==void 0?i:fz,r.baseUrl="https://generativelanguage.googleapis.com/"),r.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=r,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(r,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const i=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&i.push(e.apiVersion),i.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,i){const r=[this.getRequestUrlInternal(n)];return i&&r.push(this.getBaseResourcePath()),e!==""&&r.push(e),new URL(`${r.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const i=this.shouldPrependVertexProjectPath(e),r=this.constructUrl(e.path,n,i);if(e.queryParams)for(const[u,c]of Object.entries(e.queryParams))r.searchParams.append(u,String(c));let a={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else a.body=e.body;return a=await this.includeExtraHttpOptionsToRequestInit(a,n,r.toString(),e.abortSignal),this.unaryApiCall(r,a,e.httpMethod)}patchHttpOptions(e,n){const i=JSON.parse(JSON.stringify(e));for(const[r,a]of Object.entries(n))typeof a=="object"?i[r]=Object.assign(Object.assign({},i[r]),a):a!==void 0&&(i[r]=a);return i}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const i=this.shouldPrependVertexProjectPath(e),r=this.constructUrl(e.path,n,i);(!r.searchParams.has("alt")||r.searchParams.get("alt")!=="sse")&&r.searchParams.set("alt","sse");let a={};return a.body=e.body,a=await this.includeExtraHttpOptionsToRequestInit(a,n,r.toString(),e.abortSignal),this.streamApiCall(r,a,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,i,r){if(n&&n.timeout||r){const a=new AbortController,u=a.signal;if(n.timeout&&n?.timeout>0){const c=setTimeout(()=>a.abort(),n.timeout);c&&typeof c.unref=="function"&&c.unref()}r&&r.addEventListener("abort",()=>{a.abort()}),e.signal=u}return n&&n.extraBody!==null&&pz(e,n.extraBody),e.headers=await this.getHeadersInternal(n,i),e}async unaryApiCall(e,n,i){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:i})).then(async r=>(await YC(r),new sv(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}async streamApiCall(e,n,i){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:i})).then(async r=>(await YC(r),this.processStreamResponse(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}processStreamResponse(e){return ni(this,arguments,function*(){var i;const r=(i=e?.body)===null||i===void 0?void 0:i.getReader(),a=new TextDecoder("utf-8");if(!r)throw new Error("Response body is empty");try{let u="";const c="data:",p=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:d,value:m}=yield Te(r.read());if(d){if(u.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const y=a.decode(m,{stream:!0});try{const C=JSON.parse(y);if("error"in C){const T=JSON.parse(JSON.stringify(C.error)),x=T.status,M=T.code,I=`got status: ${x}. ${JSON.stringify(C)}`;if(M>=400&&M<600)throw new Qd({message:I,status:M})}}catch(C){if(C.name==="ApiError")throw C}u+=y;let S=-1,E=0;for(;;){S=-1,E=0;for(const x of p){const M=u.indexOf(x);M!==-1&&(S===-1||M<S)&&(S=M,E=x.length)}if(S===-1)break;const C=u.substring(0,S);u=u.substring(S+E);const T=C.trim();if(T.startsWith(c)){const x=T.substring(c.length).trim();try{const M=new Response(x,{headers:e?.headers,status:e?.status,statusText:e?.statusText});yield yield Te(new sv(M))}catch(M){throw new Error(`exception parsing stream chunk ${x}. ${M}`)}}}}}finally{r.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(i=>{throw new Error(`exception ${i} sending request`)})}getDefaultHeaders(){const e={},n=uz+" "+this.clientOptions.userAgentExtra;return e[az]=n,e[fv]=n,e[rz]="application/json",e}async getHeadersInternal(e,n){const i=new Headers;if(e&&e.headers){for(const[r,a]of Object.entries(e.headers))i.append(r,a);e.timeout&&e.timeout>0&&i.append(sz,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(i,n),i}getFileName(e){var n;let i="";return typeof e=="string"&&(i=e.replace(/[/\\]+$/,""),i=(n=i.split(/[/\\]/).pop())!==null&&n!==void 0?n:""),i}async uploadFile(e,n){var i;const r={};n!=null&&(r.mimeType=n.mimeType,r.name=n.name,r.displayName=n.displayName),r.name&&!r.name.startsWith("files/")&&(r.name=`files/${r.name}`);const a=this.clientOptions.uploader,u=await a.stat(e);r.sizeBytes=String(u.size);const c=(i=n?.mimeType)!==null&&i!==void 0?i:u.type;if(c===void 0||c==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");r.mimeType=c;const p={file:r},d=this.getFileName(e),m=fe("upload/v1beta/files",p._url),y=await this.fetchUploadUrl(m,r.sizeBytes,r.mimeType,d,p,n?.httpOptions);return a.upload(e,y,this)}async uploadFileToFileSearchStore(e,n,i){var r;const a=this.clientOptions.uploader,u=await a.stat(n),c=String(u.size),p=(r=i?.mimeType)!==null&&r!==void 0?r:u.type;if(p===void 0||p==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const d=`upload/v1beta/${e}:uploadToFileSearchStore`,m=this.getFileName(n),y={};i!=null&&hM(i,y);const S=await this.fetchUploadUrl(d,c,p,m,y,i?.httpOptions);return a.uploadToFileSearchStore(n,S,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n,i,r,a,u){var c;let p={};u?p=u:p={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n}`,"X-Goog-Upload-Header-Content-Type":`${i}`},r?{"X-Goog-Upload-File-Name":r}:{})};const d=await this.request({path:e,body:JSON.stringify(a),httpMethod:"POST",httpOptions:p});if(!d||!d?.headers)throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const m=(c=d?.headers)===null||c===void 0?void 0:c["x-goog-upload-url"];if(m===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return m}}async function YC(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const n=t.status;let i;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?i=await t.json():i={error:{message:await t.text(),code:t.status,status:t.statusText}};const r=JSON.stringify(i);throw n>=400&&n<600?new Qd({message:r,status:n}):new Error(r)}}function pz(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof t.body=="string"&&t.body.length>0)try{const a=JSON.parse(t.body);if(typeof a=="object"&&a!==null&&!Array.isArray(a))n=a;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function i(a,u){const c=Object.assign({},a);for(const p in u)if(Object.prototype.hasOwnProperty.call(u,p)){const d=u[p],m=c[p];d&&typeof d=="object"&&!Array.isArray(d)&&m&&typeof m=="object"&&!Array.isArray(m)?c[p]=i(m,d):(m&&d&&typeof m!=typeof d&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${p}". Original type: ${typeof m}, New type: ${typeof d}. Overwriting.`),c[p]=d)}return c}const r=i(n,e);t.body=JSON.stringify(r)}const hz="mcp_used/unknown";let mz=!1;function mM(t){for(const e of t)if(gz(e)||typeof e=="object"&&"inputSchema"in e)return!0;return mz}function gM(t){var e;const n=(e=t[fv])!==null&&e!==void 0?e:"";t[fv]=(n+` ${hz}`).trimStart()}function gz(t){return t!==null&&typeof t=="object"&&t instanceof My}function vz(t){return ni(this,arguments,function*(n,i=100){let r,a=0;for(;a<i;){const u=yield Te(n.listTools({cursor:r}));for(const c of u.tools)yield yield Te(c),a++;if(!u.nextCursor)break;r=u.nextCursor}})}class My{constructor(e=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=n}static create(e,n){return new My(e,n)}async initialize(){var e,n,i,r;if(this.mcpTools.length>0)return;const a={},u=[];for(const m of this.mcpClients)try{for(var c=!0,p=(n=void 0,ii(vz(m))),d;d=await p.next(),e=d.done,!e;c=!0){r=d.value,c=!1;const y=r;u.push(y);const S=y.name;if(a[S])throw new Error(`Duplicate function name ${S} found in MCP tools. Please ensure function names are unique.`);a[S]=m}}catch(y){n={error:y}}finally{try{!c&&!e&&(i=p.return)&&await i.call(p)}finally{if(n)throw n.error}}this.mcpTools=u,this.functionNameToMcpClient=a}async tool(){return await this.initialize(),XH(this.mcpTools,this.config)}async callTool(e){await this.initialize();const n=[];for(const i of e)if(i.name in this.functionNameToMcpClient){const r=this.functionNameToMcpClient[i.name];let a;this.config.timeout&&(a={timeout:this.config.timeout});const u=await r.callTool({name:i.name,arguments:i.args},void 0,a);n.push({functionResponse:{name:i.name,response:u.isError?{error:u}:u}})}return n}}async function yz(t,e,n){const i=new FH;let r;n.data instanceof Blob?r=JSON.parse(await n.data.text()):r=JSON.parse(n.data),Object.assign(i,r),e(i)}class _z{constructor(e,n,i){this.apiClient=e,this.auth=n,this.webSocketFactory=i}async connect(e){var n,i;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const r=this.apiClient.getWebsocketBaseUrl(),a=this.apiClient.getApiVersion(),u=bz(this.apiClient.getDefaultHeaders()),c=this.apiClient.getApiKey(),p=`${r}/ws/google.ai.generativelanguage.${a}.GenerativeService.BidiGenerateMusic?key=${c}`;let d=()=>{};const m=new Promise(N=>{d=N}),y=e.callbacks,S=function(){d({})},E=this.apiClient,C={onopen:S,onmessage:N=>{yz(E,y.onmessage,N)},onerror:(n=y?.onerror)!==null&&n!==void 0?n:function(N){},onclose:(i=y?.onclose)!==null&&i!==void 0?i:function(N){}},T=this.webSocketFactory.create(p,Ez(u),C);T.connect(),await m;const I={setup:{model:$e(this.apiClient,e.model)}};return T.send(JSON.stringify(I)),new Sz(T,this.apiClient)}}class Sz{constructor(e,n){this.conn=e,this.apiClient=n}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=JF(e);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const n=qF(e);this.conn.send(JSON.stringify(n))}sendPlaybackControl(e){const n={playbackControl:e};this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(oa.PLAY)}pause(){this.sendPlaybackControl(oa.PAUSE)}stop(){this.sendPlaybackControl(oa.STOP)}resetContext(){this.sendPlaybackControl(oa.RESET_CONTEXT)}close(){this.conn.close()}}function Ez(t){const e={};return t.forEach((n,i)=>{e[i]=n}),e}function bz(t){const e=new Headers;for(const[n,i]of Object.entries(t))e.append(n,i);return e}const wz="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function Cz(t,e,n){const i=new GH;let r;n.data instanceof Blob?r=await n.data.text():n.data instanceof ArrayBuffer?r=new TextDecoder().decode(n.data):r=n.data;const a=JSON.parse(r);if(t.isVertexAI()){const u=XF(a);Object.assign(i,u)}else Object.assign(i,a);e(i)}class Tz{constructor(e,n,i){this.apiClient=e,this.auth=n,this.webSocketFactory=i,this.music=new _z(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,i,r,a,u,c;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const p=this.apiClient.getWebsocketBaseUrl(),d=this.apiClient.getApiVersion();let m;const y=this.apiClient.getHeaders();e.config&&e.config.tools&&mM(e.config.tools)&&gM(y);const S=Mz(y);if(this.apiClient.isVertexAI())m=`${p}/ws/google.cloud.aiplatform.${d}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(S,m);else{const J=this.apiClient.getApiKey();let X="BidiGenerateContent",j="key";J?.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),d!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),X="BidiGenerateContentConstrained",j="access_token"),m=`${p}/ws/google.ai.generativelanguage.${d}.GenerativeService.${X}?${j}=${J}`}let E=()=>{};const C=new Promise(J=>{E=J}),T=e.callbacks,x=function(){var J;(J=T?.onopen)===null||J===void 0||J.call(T),E({})},M=this.apiClient,I={onopen:x,onmessage:J=>{Cz(M,T.onmessage,J)},onerror:(n=T?.onerror)!==null&&n!==void 0?n:function(J){},onclose:(i=T?.onclose)!==null&&i!==void 0?i:function(J){}},N=this.webSocketFactory.create(m,Rz(S),I);N.connect(),await C;let D=$e(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&D.startsWith("publishers/")){const J=this.apiClient.getProject(),X=this.apiClient.getLocation();D=`projects/${J}/locations/${X}/`+D}let U={};this.apiClient.isVertexAI()&&((r=e.config)===null||r===void 0?void 0:r.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[md.AUDIO]}:e.config.responseModalities=[md.AUDIO]),!((a=e.config)===null||a===void 0)&&a.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const k=(c=(u=e.config)===null||u===void 0?void 0:u.tools)!==null&&c!==void 0?c:[],O=[];for(const J of k)if(this.isCallableTool(J)){const X=J;O.push(await X.tool())}else O.push(J);O.length>0&&(e.config.tools=O);const q={model:D,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?U=zF(this.apiClient,q):U=VF(this.apiClient,q),delete U.config,N.send(JSON.stringify(U)),new xz(N,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const Az={turnComplete:!0};class xz{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let i=[];try{i=Hn(n.turns),e.isVertexAI()||(i=i.map(r=>Zd(r)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:i,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let i=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?i=n.functionResponses:i=[n.functionResponses],i.length===0)throw new Error("functionResponses is required.");for(const a of i){if(typeof a!="object"||a===null||!("name"in a)||!("response"in a))throw new Error(`Could not parse function response, type '${typeof a}'.`);if(!e.isVertexAI()&&!("id"in a))throw new Error(wz)}return{toolResponse:{functionResponses:i}}}sendClientContent(e){e=Object.assign(Object.assign({},Az),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:KF(e)}:n={realtimeInput:YF(e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function Rz(t){const e={};return t.forEach((n,i)=>{e[i]=n}),e}function Mz(t){const e=new Headers;for(const[n,i]of Object.entries(t))e.append(n,i);return e}const KC=10;function XC(t){var e,n,i;if(!((e=t?.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let r=!1;for(const u of(n=t?.tools)!==null&&n!==void 0?n:[])if(la(u)){r=!0;break}if(!r)return!0;const a=(i=t?.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls;return a&&(a<0||!Number.isInteger(a))||a==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",a),!0):!1}function la(t){return"callTool"in t&&typeof t.callTool=="function"}function Nz(t){var e,n,i;return(i=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(r=>la(r)))!==null&&i!==void 0?i:!1}function WC(t){var e;const n=[];return!((e=t?.config)===null||e===void 0)&&e.tools&&t.config.tools.forEach((i,r)=>{if(la(i))return;const a=i;a.functionDeclarations&&a.functionDeclarations.length>0&&n.push(r)}),n}function jC(t){var e;return!(!((e=t?.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}let Iz=class extends mo{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>{var i,r,a,u,c;const p=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!Nz(n)||XC(n.config))return await this.generateContentInternal(p);const d=WC(n);if(d.length>0){const T=d.map(x=>`tools[${x}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${T}.`)}let m,y;const S=Hn(p.contents),E=(a=(r=(i=p.config)===null||i===void 0?void 0:i.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&a!==void 0?a:KC;let C=0;for(;C<E&&(m=await this.generateContentInternal(p),!(!m.functionCalls||m.functionCalls.length===0));){const T=m.candidates[0].content,x=[];for(const M of(c=(u=n.config)===null||u===void 0?void 0:u.tools)!==null&&c!==void 0?c:[])if(la(M)){const N=await M.callTool(m.functionCalls);x.push(...N)}C++,y={role:"user",parts:x},p.contents=Hn(p.contents),p.contents.push(T),p.contents.push(y),jC(p.config)&&(S.push(T),S.push(y))}return jC(p.config)&&(m.automaticFunctionCallingHistory=S),m},this.generateContentStream=async n=>{var i,r,a,u,c;if(this.maybeMoveToResponseJsonSchem(n),XC(n.config)){const y=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(y)}const p=WC(n);if(p.length>0){const y=p.map(S=>`tools[${S}]`).join(", ");throw new Error(`Incompatible tools found at ${y}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const d=(a=(r=(i=n?.config)===null||i===void 0?void 0:i.toolConfig)===null||r===void 0?void 0:r.functionCallingConfig)===null||a===void 0?void 0:a.streamFunctionCallArguments,m=(c=(u=n?.config)===null||u===void 0?void 0:u.automaticFunctionCalling)===null||c===void 0?void 0:c.disable;if(d&&!m)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(i=>{var r;let a;const u=[];if(i?.generatedImages)for(const p of i.generatedImages)p&&p?.safetyAttributes&&((r=p?.safetyAttributes)===null||r===void 0?void 0:r.contentType)==="Positive Prompt"?a=p?.safetyAttributes:u.push(p);let c;return a?c={generatedImages:u,positivePromptSafetyAttributes:a,sdkHttpResponse:i.sdkHttpResponse}:c={generatedImages:u,sdkHttpResponse:i.sdkHttpResponse},c}),this.list=async n=>{var i;const u={config:Object.assign(Object.assign({},{queryBase:!0}),n?.config)};if(this.apiClient.isVertexAI()&&!u.config.queryBase){if(!((i=u.config)===null||i===void 0)&&i.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");u.config.filter="labels.tune-type:*"}return new es(uo.PAGED_ITEM_MODELS,c=>this.listInternal(c),await this.listInternal(u),u)},this.editImage=async n=>{const i={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(i.referenceImages=n.referenceImages.map(r=>r.toReferenceImageAPI())),await this.editImageInternal(i)},this.upscaleImage=async n=>{let i={numberOfImages:1,mode:"upscale"};n.config&&(i=Object.assign(Object.assign({},i),n.config));const r={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:i};return await this.upscaleImageInternal(r)},this.generateVideos=async n=>{var i,r,a,u,c,p;if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((i=n.video)===null||i===void 0)&&i.uri&&(!((r=n.video)===null||r===void 0)&&r.videoBytes)?n.video={uri:n.video.uri,mimeType:n.video.mimeType}:!((u=(a=n.source)===null||a===void 0?void 0:a.video)===null||u===void 0)&&u.uri&&(!((p=(c=n.source)===null||c===void 0?void 0:c.video)===null||p===void 0)&&p.videoBytes)&&(n.source.video={uri:n.source.video.uri,mimeType:n.source.video.mimeType})),await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var n,i,r;const a=(n=e.config)===null||n===void 0?void 0:n.tools;if(!a)return e;const u=await Promise.all(a.map(async p=>la(p)?await p.tool():p)),c={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:u})};if(c.config.tools=u,e.config&&e.config.tools&&mM(e.config.tools)){const p=(r=(i=e.config.httpOptions)===null||i===void 0?void 0:i.headers)!==null&&r!==void 0?r:{};let d=Object.assign({},p);Object.keys(d).length===0&&(d=this.apiClient.getDefaultHeaders()),gM(d),c.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:d})}return c}async initAfcToolsMap(e){var n,i,r;const a=new Map;for(const u of(i=(n=e.config)===null||n===void 0?void 0:n.tools)!==null&&i!==void 0?i:[])if(la(u)){const c=u,p=await c.tool();for(const d of(r=p.functionDeclarations)!==null&&r!==void 0?r:[]){if(!d.name)throw new Error("Function declaration name is required.");if(a.has(d.name))throw new Error(`Duplicate tool declaration name: ${d.name}`);a.set(d.name,c)}}return a}async processAfcStream(e){var n,i,r;const a=(r=(i=(n=e.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&r!==void 0?r:KC;let u=!1,c=0;const p=await this.initAfcToolsMap(e);return(function(d,m,y){return ni(this,arguments,function*(){for(var S,E,C,T,x,M;c<a;){u&&(c++,u=!1);const U=yield Te(d.processParamsMaybeAddMcpUsage(y)),k=yield Te(d.generateContentStreamInternal(U)),O=[],q=[];try{for(var I=!0,N=(E=void 0,ii(k)),D;D=yield Te(N.next()),S=D.done,!S;I=!0){T=D.value,I=!1;const J=T;if(yield yield Te(J),J.candidates&&(!((x=J.candidates[0])===null||x===void 0)&&x.content)){q.push(J.candidates[0].content);for(const X of(M=J.candidates[0].content.parts)!==null&&M!==void 0?M:[])if(c<a&&X.functionCall){if(!X.functionCall.name)throw new Error("Function call name was not returned by the model.");if(m.has(X.functionCall.name)){const j=yield Te(m.get(X.functionCall.name).callTool([X.functionCall]));O.push(...j)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${m.keys()}, mising tool: ${X.functionCall.name}`)}}}}catch(J){E={error:J}}finally{try{!I&&!S&&(C=N.return)&&(yield Te(C.call(N)))}finally{if(E)throw E.error}}if(O.length>0){u=!0;const J=new Il;J.candidates=[{content:{role:"user",parts:O}}],yield yield Te(J);const X=[];X.push(...q),X.push({role:"user",parts:O});const j=Hn(y.contents).concat(X);y.contents=j}else break}})})(this,p,e)}async generateContentInternal(e){var n,i,r,a;let u,c="",p={};if(this.apiClient.isVertexAI()){const d=zC(this.apiClient,e);return c=fe("{model}:generateContent",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json().then(y=>{const S=y;return S.sdkHttpResponse={headers:m.headers},S})),u.then(m=>{const y=JC(m),S=new Il;return Object.assign(S,y),S})}else{const d=VC(this.apiClient,e);return c=fe("{model}:generateContent",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json().then(y=>{const S=y;return S.sdkHttpResponse={headers:m.headers},S})),u.then(m=>{const y=qC(m),S=new Il;return Object.assign(S,y),S})}}async generateContentStreamInternal(e){var n,i,r,a;let u,c="",p={};if(this.apiClient.isVertexAI()){const d=zC(this.apiClient,e);return c=fe("{model}:streamGenerateContent?alt=sse",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.requestStream({path:c,queryParams:p,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}),u.then(function(y){return ni(this,arguments,function*(){var S,E,C,T;try{for(var x=!0,M=ii(y),I;I=yield Te(M.next()),S=I.done,!S;x=!0){T=I.value,x=!1;const N=T,D=JC(yield Te(N.json()));D.sdkHttpResponse={headers:N.headers};const U=new Il;Object.assign(U,D),yield yield Te(U)}}catch(N){E={error:N}}finally{try{!x&&!S&&(C=M.return)&&(yield Te(C.call(M)))}finally{if(E)throw E.error}}})})}else{const d=VC(this.apiClient,e);return c=fe("{model}:streamGenerateContent?alt=sse",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.requestStream({path:c,queryParams:p,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}),u.then(function(y){return ni(this,arguments,function*(){var S,E,C,T;try{for(var x=!0,M=ii(y),I;I=yield Te(M.next()),S=I.done,!S;x=!0){T=I.value,x=!1;const N=T,D=qC(yield Te(N.json()));D.sdkHttpResponse={headers:N.headers};const U=new Il;Object.assign(U,D),yield yield Te(U)}}catch(N){E={error:N}}finally{try{!x&&!S&&(C=M.return)&&(yield Te(C.call(M)))}finally{if(E)throw E.error}}})})}}async embedContent(e){var n,i,r,a;let u,c="",p={};if(this.apiClient.isVertexAI()){const d=T$(this.apiClient,e);return c=fe("{model}:predict",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json().then(y=>{const S=y;return S.sdkHttpResponse={headers:m.headers},S})),u.then(m=>{const y=x$(m),S=new AC;return Object.assign(S,y),S})}else{const d=C$(this.apiClient,e);return c=fe("{model}:batchEmbedContents",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json().then(y=>{const S=y;return S.sdkHttpResponse={headers:m.headers},S})),u.then(m=>{const y=A$(m),S=new AC;return Object.assign(S,y),S})}}async generateImagesInternal(e){var n,i,r,a;let u,c="",p={};if(this.apiClient.isVertexAI()){const d=B$(this.apiClient,e);return c=fe("{model}:predict",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json().then(y=>{const S=y;return S.sdkHttpResponse={headers:m.headers},S})),u.then(m=>{const y=G$(m),S=new xC;return Object.assign(S,y),S})}else{const d=k$(this.apiClient,e);return c=fe("{model}:predict",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json().then(y=>{const S=y;return S.sdkHttpResponse={headers:m.headers},S})),u.then(m=>{const y=H$(m),S=new xC;return Object.assign(S,y),S})}}async editImageInternal(e){var n,i;let r,a="",u={};if(this.apiClient.isVertexAI()){const c=S$(this.apiClient,e);return a=fe("{model}:predict",c._url),u=c._query,delete c._url,delete c._query,r=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json().then(d=>{const m=d;return m.sdkHttpResponse={headers:p.headers},m})),r.then(p=>{const d=E$(p),m=new MH;return Object.assign(m,d),m})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,i;let r,a="",u={};if(this.apiClient.isVertexAI()){const c=BV(this.apiClient,e);return a=fe("{model}:predict",c._url),u=c._query,delete c._url,delete c._query,r=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json().then(d=>{const m=d;return m.sdkHttpResponse={headers:p.headers},m})),r.then(p=>{const d=HV(p),m=new NH;return Object.assign(m,d),m})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var n,i;let r,a="",u={};if(this.apiClient.isVertexAI()){const c=_V(this.apiClient,e);return a=fe("{model}:predict",c._url),u=c._query,delete c._url,delete c._query,r=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),r.then(p=>{const d=SV(p),m=new IH;return Object.assign(m,d),m})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var n,i;let r,a="",u={};if(this.apiClient.isVertexAI()){const c=AV(this.apiClient,e);return a=fe("{model}:predict",c._url),u=c._query,delete c._url,delete c._query,r=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),r.then(p=>{const d=xV(p),m=new DH;return Object.assign(m,d),m})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,i,r,a;let u,c="",p={};if(this.apiClient.isVertexAI()){const d=iV(this.apiClient,e);return c=fe("{name}",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json()),u.then(m=>cv(m))}else{const d=nV(this.apiClient,e);return c=fe("{name}",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json()),u.then(m=>uv(m))}}async listInternal(e){var n,i,r,a;let u,c="",p={};if(this.apiClient.isVertexAI()){const d=dV(this.apiClient,e);return c=fe("{models_url}",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json().then(y=>{const S=y;return S.sdkHttpResponse={headers:m.headers},S})),u.then(m=>{const y=hV(m),S=new RC;return Object.assign(S,y),S})}else{const d=fV(this.apiClient,e);return c=fe("{models_url}",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json().then(y=>{const S=y;return S.sdkHttpResponse={headers:m.headers},S})),u.then(m=>{const y=pV(m),S=new RC;return Object.assign(S,y),S})}}async update(e){var n,i,r,a;let u,c="",p={};if(this.apiClient.isVertexAI()){const d=UV(this.apiClient,e);return c=fe("{model}",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json()),u.then(m=>cv(m))}else{const d=LV(this.apiClient,e);return c=fe("{name}",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json()),u.then(m=>uv(m))}}async delete(e){var n,i,r,a;let u,c="",p={};if(this.apiClient.isVertexAI()){const d=g$(this.apiClient,e);return c=fe("{name}",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json().then(y=>{const S=y;return S.sdkHttpResponse={headers:m.headers},S})),u.then(m=>{const y=y$(m),S=new MC;return Object.assign(S,y),S})}else{const d=m$(this.apiClient,e);return c=fe("{name}",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json().then(y=>{const S=y;return S.sdkHttpResponse={headers:m.headers},S})),u.then(m=>{const y=v$(m),S=new MC;return Object.assign(S,y),S})}}async countTokens(e){var n,i,r,a;let u,c="",p={};if(this.apiClient.isVertexAI()){const d=d$(this.apiClient,e);return c=fe("{model}:countTokens",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json().then(y=>{const S=y;return S.sdkHttpResponse={headers:m.headers},S})),u.then(m=>{const y=h$(m),S=new NC;return Object.assign(S,y),S})}else{const d=f$(this.apiClient,e);return c=fe("{model}:countTokens",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json().then(y=>{const S=y;return S.sdkHttpResponse={headers:m.headers},S})),u.then(m=>{const y=p$(m),S=new NC;return Object.assign(S,y),S})}}async computeTokens(e){var n,i;let r,a="",u={};if(this.apiClient.isVertexAI()){const c=o$(this.apiClient,e);return a=fe("{model}:computeTokens",c._url),u=c._query,delete c._url,delete c._query,r=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json().then(d=>{const m=d;return m.sdkHttpResponse={headers:p.headers},m})),r.then(p=>{const d=r$(p),m=new OH;return Object.assign(m,d),m})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var n,i,r,a;let u,c="",p={};if(this.apiClient.isVertexAI()){const d=J$(this.apiClient,e);return c=fe("{model}:predictLongRunning",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json()),u.then(m=>{const y=z$(m),S=new gd;return Object.assign(S,y),S})}else{const d=q$(this.apiClient,e);return c=fe("{model}:predictLongRunning",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json()),u.then(m=>{const y=V$(m),S=new gd;return Object.assign(S,y),S})}}};class Dz extends mo{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const n=e.operation,i=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=n.name.split("/operations/")[0];let a;i&&"httpOptions"in i&&(a=i.httpOptions);const u=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:r,config:{httpOptions:a}});return n._fromAPIResponse({apiResponse:u,_isVertexAI:!0})}else{const r=await this.getVideosOperationInternal({operationName:n.name,config:i});return n._fromAPIResponse({apiResponse:r,_isVertexAI:!1})}}async get(e){const n=e.operation,i=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=n.name.split("/operations/")[0];let a;i&&"httpOptions"in i&&(a=i.httpOptions);const u=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:r,config:{httpOptions:a}});return n._fromAPIResponse({apiResponse:u,_isVertexAI:!0})}else{const r=await this.getVideosOperationInternal({operationName:n.name,config:i});return n._fromAPIResponse({apiResponse:r,_isVertexAI:!1})}}async getVideosOperationInternal(e){var n,i,r,a;let u,c="",p={};if(this.apiClient.isVertexAI()){const d=wH(e);return c=fe("{operationName}",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json()),u}else{const d=bH(e);return c=fe("{operationName}",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json()),u}}async fetchPredictVideosOperationInternal(e){var n,i;let r,a="",u={};if(this.apiClient.isVertexAI()){const c=mH(e);return a=fe("{resourceName}:fetchPredictOperation",c._url),u=c._query,delete c._url,delete c._query,r=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),r}else throw new Error("This method is only supported by the Vertex AI.")}}function Oz(t){const e={},n=h(t,["data"]);if(n!=null&&g(e,["data"],n),h(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=h(t,["mimeType"]);return i!=null&&g(e,["mimeType"],i),e}function Pz(t){const e={},n=h(t,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(a=>Vz(a))),g(e,["parts"],r)}const i=h(t,["role"]);return i!=null&&g(e,["role"],i),e}function Lz(t,e,n){const i={},r=h(e,["expireTime"]);n!==void 0&&r!=null&&g(n,["expireTime"],r);const a=h(e,["newSessionExpireTime"]);n!==void 0&&a!=null&&g(n,["newSessionExpireTime"],a);const u=h(e,["uses"]);n!==void 0&&u!=null&&g(n,["uses"],u);const c=h(e,["liveConnectConstraints"]);n!==void 0&&c!=null&&g(n,["bidiGenerateContentSetup"],$z(t,c));const p=h(e,["lockAdditionalFields"]);return n!==void 0&&p!=null&&g(n,["fieldMask"],p),i}function Uz(t,e){const n={},i=h(e,["config"]);return i!=null&&g(n,["config"],Lz(t,i,n)),n}function kz(t){const e={};if(h(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=h(t,["fileUri"]);n!=null&&g(e,["fileUri"],n);const i=h(t,["mimeType"]);return i!=null&&g(e,["mimeType"],i),e}function Bz(t){const e={},n=h(t,["id"]);n!=null&&g(e,["id"],n);const i=h(t,["args"]);i!=null&&g(e,["args"],i);const r=h(t,["name"]);if(r!=null&&g(e,["name"],r),h(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(h(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Hz(t){const e={};if(h(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=h(t,["enableWidget"]);return n!=null&&g(e,["enableWidget"],n),e}function Gz(t){const e={};if(h(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(h(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=h(t,["timeRangeFilter"]);return n!=null&&g(e,["timeRangeFilter"],n),e}function Fz(t,e){const n={},i=h(t,["generationConfig"]);e!==void 0&&i!=null&&g(e,["setup","generationConfig"],i);const r=h(t,["responseModalities"]);e!==void 0&&r!=null&&g(e,["setup","generationConfig","responseModalities"],r);const a=h(t,["temperature"]);e!==void 0&&a!=null&&g(e,["setup","generationConfig","temperature"],a);const u=h(t,["topP"]);e!==void 0&&u!=null&&g(e,["setup","generationConfig","topP"],u);const c=h(t,["topK"]);e!==void 0&&c!=null&&g(e,["setup","generationConfig","topK"],c);const p=h(t,["maxOutputTokens"]);e!==void 0&&p!=null&&g(e,["setup","generationConfig","maxOutputTokens"],p);const d=h(t,["mediaResolution"]);e!==void 0&&d!=null&&g(e,["setup","generationConfig","mediaResolution"],d);const m=h(t,["seed"]);e!==void 0&&m!=null&&g(e,["setup","generationConfig","seed"],m);const y=h(t,["speechConfig"]);e!==void 0&&y!=null&&g(e,["setup","generationConfig","speechConfig"],Ry(y));const S=h(t,["thinkingConfig"]);e!==void 0&&S!=null&&g(e,["setup","generationConfig","thinkingConfig"],S);const E=h(t,["enableAffectiveDialog"]);e!==void 0&&E!=null&&g(e,["setup","generationConfig","enableAffectiveDialog"],E);const C=h(t,["systemInstruction"]);e!==void 0&&C!=null&&g(e,["setup","systemInstruction"],Pz(Ut(C)));const T=h(t,["tools"]);if(e!==void 0&&T!=null){let k=Ta(T);Array.isArray(k)&&(k=k.map(O=>qz(Ca(O)))),g(e,["setup","tools"],k)}const x=h(t,["sessionResumption"]);e!==void 0&&x!=null&&g(e,["setup","sessionResumption"],zz(x));const M=h(t,["inputAudioTranscription"]);e!==void 0&&M!=null&&g(e,["setup","inputAudioTranscription"],M);const I=h(t,["outputAudioTranscription"]);e!==void 0&&I!=null&&g(e,["setup","outputAudioTranscription"],I);const N=h(t,["realtimeInputConfig"]);e!==void 0&&N!=null&&g(e,["setup","realtimeInputConfig"],N);const D=h(t,["contextWindowCompression"]);e!==void 0&&D!=null&&g(e,["setup","contextWindowCompression"],D);const U=h(t,["proactivity"]);if(e!==void 0&&U!=null&&g(e,["setup","proactivity"],U),h(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function $z(t,e){const n={},i=h(e,["model"]);i!=null&&g(n,["setup","model"],$e(t,i));const r=h(e,["config"]);return r!=null&&g(n,["config"],Fz(r,n)),n}function Vz(t){const e={},n=h(t,["mediaResolution"]);n!=null&&g(e,["mediaResolution"],n);const i=h(t,["codeExecutionResult"]);i!=null&&g(e,["codeExecutionResult"],i);const r=h(t,["executableCode"]);r!=null&&g(e,["executableCode"],r);const a=h(t,["fileData"]);a!=null&&g(e,["fileData"],kz(a));const u=h(t,["functionCall"]);u!=null&&g(e,["functionCall"],Bz(u));const c=h(t,["functionResponse"]);c!=null&&g(e,["functionResponse"],c);const p=h(t,["inlineData"]);p!=null&&g(e,["inlineData"],Oz(p));const d=h(t,["text"]);d!=null&&g(e,["text"],d);const m=h(t,["thought"]);m!=null&&g(e,["thought"],m);const y=h(t,["thoughtSignature"]);y!=null&&g(e,["thoughtSignature"],y);const S=h(t,["videoMetadata"]);return S!=null&&g(e,["videoMetadata"],S),e}function zz(t){const e={},n=h(t,["handle"]);if(n!=null&&g(e,["handle"],n),h(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function qz(t){const e={},n=h(t,["functionDeclarations"]);if(n!=null){let m=n;Array.isArray(m)&&(m=m.map(y=>y)),g(e,["functionDeclarations"],m)}if(h(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=h(t,["googleSearchRetrieval"]);i!=null&&g(e,["googleSearchRetrieval"],i);const r=h(t,["computerUse"]);r!=null&&g(e,["computerUse"],r);const a=h(t,["fileSearch"]);a!=null&&g(e,["fileSearch"],a);const u=h(t,["codeExecution"]);if(u!=null&&g(e,["codeExecution"],u),h(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const c=h(t,["googleMaps"]);c!=null&&g(e,["googleMaps"],Hz(c));const p=h(t,["googleSearch"]);p!=null&&g(e,["googleSearch"],Gz(p));const d=h(t,["urlContext"]);return d!=null&&g(e,["urlContext"],d),e}function Jz(t){const e=[];for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const i=t[n];if(typeof i=="object"&&i!=null&&Object.keys(i).length>0){const r=Object.keys(i).map(a=>`${n}.${a}`);e.push(...r)}else e.push(n)}return e.join(",")}function Yz(t,e){let n=null;const i=t.bidiGenerateContentSetup;if(typeof i=="object"&&i!==null&&"setup"in i){const a=i.setup;typeof a=="object"&&a!==null?(t.bidiGenerateContentSetup=a,n=a):delete t.bidiGenerateContentSetup}else i!==void 0&&delete t.bidiGenerateContentSetup;const r=t.fieldMask;if(n){const a=Jz(n);if(Array.isArray(e?.lockAdditionalFields)&&e?.lockAdditionalFields.length===0)a?t.fieldMask=a:delete t.fieldMask;else if(e?.lockAdditionalFields&&e.lockAdditionalFields.length>0&&r!==null&&Array.isArray(r)&&r.length>0){const u=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let c=[];r.length>0&&(c=r.map(d=>u.includes(d)?`generationConfig.${d}`:d));const p=[];a&&p.push(a),c.length>0&&p.push(...c),p.length>0?t.fieldMask=p.join(","):delete t.fieldMask}else delete t.fieldMask}else r!==null&&Array.isArray(r)&&r.length>0?t.fieldMask=r.join(","):delete t.fieldMask;return t}class Kz extends mo{constructor(e){super(),this.apiClient=e}async create(e){var n,i;let r,a="",u={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const c=Uz(this.apiClient,e);a=fe("auth_tokens",c._url),u=c._query,delete c.config,delete c._url,delete c._query;const p=Yz(c,e.config);return r=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),r.then(d=>d)}}}function Xz(t,e){const n={},i=h(t,["force"]);return e!==void 0&&i!=null&&g(e,["_query","force"],i),n}function Wz(t){const e={},n=h(t,["name"]);n!=null&&g(e,["_url","name"],n);const i=h(t,["config"]);return i!=null&&Xz(i,e),e}function jz(t){const e={},n=h(t,["name"]);return n!=null&&g(e,["_url","name"],n),e}function Qz(t,e){const n={},i=h(t,["pageSize"]);e!==void 0&&i!=null&&g(e,["_query","pageSize"],i);const r=h(t,["pageToken"]);return e!==void 0&&r!=null&&g(e,["_query","pageToken"],r),n}function Zz(t){const e={},n=h(t,["parent"]);n!=null&&g(e,["_url","parent"],n);const i=h(t,["config"]);return i!=null&&Qz(i,e),e}function eq(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const i=h(t,["nextPageToken"]);i!=null&&g(e,["nextPageToken"],i);const r=h(t,["documents"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(u=>u)),g(e,["documents"],a)}return e}class tq extends mo{constructor(e){super(),this.apiClient=e,this.list=async n=>new es(uo.PAGED_ITEM_DOCUMENTS,i=>this.listInternal({parent:n.parent,config:i.config}),await this.listInternal(n),n)}async get(e){var n,i;let r,a="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=jz(e);return a=fe("{name}",c._url),u=c._query,delete c._url,delete c._query,r=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),r.then(p=>p)}}async delete(e){var n,i;let r="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=Wz(e);r=fe("{name}",u._url),a=u._query,delete u._url,delete u._query,await this.apiClient.request({path:r,queryParams:a,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal})}}async listInternal(e){var n,i;let r,a="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=Zz(e);return a=fe("{parent}/documents",c._url),u=c._query,delete c._url,delete c._query,r=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),r.then(p=>{const d=eq(p),m=new PH;return Object.assign(m,d),m})}}}class nq extends mo{constructor(e,n=new tq(e)){super(),this.apiClient=e,this.documents=n,this.list=async(i={})=>new es(uo.PAGED_ITEM_FILE_SEARCH_STORES,r=>this.listInternal(r),await this.listInternal(i),i)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var n,i;let r,a="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=JV(e);return a=fe("fileSearchStores",c._url),u=c._query,delete c._url,delete c._query,r=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),r.then(p=>p)}}async get(e){var n,i;let r,a="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=XV(e);return a=fe("{name}",c._url),u=c._query,delete c._url,delete c._query,r=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),r.then(p=>p)}}async delete(e){var n,i;let r="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=KV(e);r=fe("{name}",u._url),a=u._query,delete u._url,delete u._query,await this.apiClient.request({path:r,queryParams:a,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal})}}async listInternal(e){var n,i;let r,a="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=tz(e);return a=fe("fileSearchStores",c._url),u=c._query,delete c._url,delete c._query,r=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),r.then(p=>{const d=nz(p),m=new LH;return Object.assign(m,d),m})}}async uploadToFileSearchStoreInternal(e){var n,i;let r,a="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=iz(e);return a=fe("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",c._url),u=c._query,delete c._url,delete c._query,r=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),r.then(p=>{const d=oz(p),m=new UH;return Object.assign(m,d),m})}}async importFile(e){var n,i;let r,a="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=QV(e);return a=fe("{file_search_store_name}:importFile",c._url),u=c._query,delete c._url,delete c._query,r=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),r.then(p=>{const d=jV(p),m=new wy;return Object.assign(m,d),m})}}}let vM=function(){const{crypto:t}=globalThis;if(t?.randomUUID)return vM=t.randomUUID.bind(t),t.randomUUID();const e=new Uint8Array(1),n=t?()=>t.getRandomValues(e)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,i=>(+i^n()&15>>+i/4).toString(16))};const iq=()=>vM();function dv(t){return typeof t=="object"&&t!==null&&("name"in t&&t.name==="AbortError"||"message"in t&&String(t.message).includes("FetchRequestCanceledException"))}const pv=t=>{if(t instanceof Error)return t;if(typeof t=="object"&&t!==null){try{if(Object.prototype.toString.call(t)==="[object Error]"){const e=new Error(t.message,t.cause?{cause:t.cause}:{});return t.stack&&(e.stack=t.stack),t.cause&&!e.cause&&(e.cause=t.cause),t.name&&(e.name=t.name),e}}catch{}try{return new Error(JSON.stringify(t))}catch{}}return new Error(t)};class zn extends Error{}let qn=class hv extends zn{constructor(e,n,i,r){super(`${hv.makeMessage(e,n,i)}`),this.status=e,this.headers=r,this.error=n}static makeMessage(e,n,i){const r=n?.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):i;return e&&r?`${e} ${r}`:e?`${e} status code (no body)`:r||"(no status code or body)"}static generate(e,n,i,r){if(!e||!r)return new np({message:i,cause:pv(n)});const a=n;return e===400?new _M(e,a,i,r):e===401?new SM(e,a,i,r):e===403?new EM(e,a,i,r):e===404?new bM(e,a,i,r):e===409?new wM(e,a,i,r):e===422?new CM(e,a,i,r):e===429?new TM(e,a,i,r):e>=500?new AM(e,a,i,r):new hv(e,a,i,r)}},mv=class extends qn{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}},np=class extends qn{constructor({message:e,cause:n}){super(void 0,void 0,e||"Connection error.",void 0),n&&(this.cause=n)}},yM=class extends np{constructor({message:e}={}){super({message:e??"Request timed out."})}},_M=class extends qn{},SM=class extends qn{},EM=class extends qn{},bM=class extends qn{},wM=class extends qn{},CM=class extends qn{},TM=class extends qn{},AM=class extends qn{};const oq=/^[a-z][a-z0-9+.-]*:/i,rq=t=>oq.test(t);let gv=t=>(gv=Array.isArray,gv(t));const sq=gv;let aq=sq;const QC=aq;function lq(t){if(!t)return!0;for(const e in t)return!1;return!0}function uq(t,e){return Object.prototype.hasOwnProperty.call(t,e)}const cq=(t,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new zn(`${t} must be an integer`);if(e<0)throw new zn(`${t} must be a positive integer`);return e},fq=t=>{try{return JSON.parse(t)}catch{return}};const dq=t=>new Promise(e=>setTimeout(e,t));const js="0.0.1";function pq(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const hq=()=>{var t,e,n,i,r;const a=pq();if(a==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":js,"X-Stainless-OS":eT(Deno.build.os),"X-Stainless-Arch":ZC(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(e=(t=Deno.version)===null||t===void 0?void 0:t.deno)!==null&&e!==void 0?e:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":js,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(a==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":js,"X-Stainless-OS":eT((n=globalThis.process.platform)!==null&&n!==void 0?n:"unknown"),"X-Stainless-Arch":ZC((i=globalThis.process.arch)!==null&&i!==void 0?i:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(r=globalThis.process.version)!==null&&r!==void 0?r:"unknown"};const u=mq();return u?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":js,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${u.browser}`,"X-Stainless-Runtime-Version":u.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":js,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function mq(){if(typeof navigator>"u"||!navigator)return null;const t=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:n}of t){const i=n.exec(navigator.userAgent);if(i){const r=i[1]||0,a=i[2]||0,u=i[3]||0;return{browser:e,version:`${r}.${a}.${u}`}}}return null}const ZC=t=>t==="x32"?"x32":t==="x86_64"||t==="x64"?"x64":t==="arm"?"arm":t==="aarch64"||t==="arm64"?"arm64":t?`other:${t}`:"unknown",eT=t=>(t=t.toLowerCase(),t.includes("ios")?"iOS":t==="android"?"Android":t==="darwin"?"MacOS":t==="win32"?"Windows":t==="freebsd"?"FreeBSD":t==="openbsd"?"OpenBSD":t==="linux"?"Linux":t?`Other:${t}`:"Unknown");let yf;const gq=()=>yf??(yf=hq());function vq(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function xM(...t){const e=globalThis.ReadableStream;if(typeof e>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new e(...t)}function yq(t){let e=Symbol.asyncIterator in t?t[Symbol.asyncIterator]():t[Symbol.iterator]();return xM({start(){},async pull(n){const{done:i,value:r}=await e.next();i?n.close():n.enqueue(r)},async cancel(){var n;await((n=e.return)===null||n===void 0?void 0:n.call(e))}})}function RM(t){if(t[Symbol.asyncIterator])return t;const e=t.getReader();return{async next(){try{const n=await e.read();return n?.done&&e.releaseLock(),n}catch(n){throw e.releaseLock(),n}},async return(){const n=e.cancel();return e.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function _q(t){var e,n;if(t===null||typeof t!="object")return;if(t[Symbol.asyncIterator]){await((n=(e=t[Symbol.asyncIterator]()).return)===null||n===void 0?void 0:n.call(e));return}const i=t.getReader(),r=i.cancel();i.releaseLock(),await r}const Sq=({headers:t,body:e})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(e)});const MM=()=>{var t;if(typeof File>"u"){const{process:e}=globalThis,n=typeof((t=e?.versions)===null||t===void 0?void 0:t.node)=="string"&&parseInt(e.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(n?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function dg(t,e,n){return MM(),new File(t,e??"unknown_file",n)}function Eq(t){return(typeof t=="object"&&t!==null&&("name"in t&&t.name&&String(t.name)||"url"in t&&t.url&&String(t.url)||"filename"in t&&t.filename&&String(t.filename)||"path"in t&&t.path&&String(t.path))||"").split(/[\\/]/).pop()||void 0}const bq=t=>t!=null&&typeof t=="object"&&typeof t[Symbol.asyncIterator]=="function";const NM=t=>t!=null&&typeof t=="object"&&typeof t.size=="number"&&typeof t.type=="string"&&typeof t.text=="function"&&typeof t.slice=="function"&&typeof t.arrayBuffer=="function",wq=t=>t!=null&&typeof t=="object"&&typeof t.name=="string"&&typeof t.lastModified=="number"&&NM(t),Cq=t=>t!=null&&typeof t=="object"&&typeof t.url=="string"&&typeof t.blob=="function";async function Tq(t,e,n){if(MM(),t=await t,wq(t))return t instanceof File?t:dg([await t.arrayBuffer()],t.name);if(Cq(t)){const r=await t.blob();return e||(e=new URL(t.url).pathname.split(/[\\/]/).pop()),dg(await vv(r),e,n)}const i=await vv(t);if(e||(e=Eq(t)),!n?.type){const r=i.find(a=>typeof a=="object"&&"type"in a&&a.type);typeof r=="string"&&(n=Object.assign(Object.assign({},n),{type:r}))}return dg(i,e,n)}async function vv(t){var e,n,i,r,a;let u=[];if(typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer)u.push(t);else if(NM(t))u.push(t instanceof Blob?t:await t.arrayBuffer());else if(bq(t))try{for(var c=!0,p=ii(t),d;d=await p.next(),e=d.done,!e;c=!0){r=d.value,c=!1;const m=r;u.push(...await vv(m))}}catch(m){n={error:m}}finally{try{!c&&!e&&(i=p.return)&&await i.call(p)}finally{if(n)throw n.error}}else{const m=(a=t?.constructor)===null||a===void 0?void 0:a.name;throw new Error(`Unexpected data type: ${typeof t}${m?`; constructor: ${m}`:""}${Aq(t)}`)}return u}function Aq(t){return typeof t!="object"||t===null?"":`; props: [${Object.getOwnPropertyNames(t).map(n=>`"${n}"`).join(", ")}]`}let IM=class{constructor(e){this._client=e}};IM._key=[];function DM(t){return t.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const tT=Object.freeze(Object.create(null)),xq=(t=DM)=>(function(n,...i){if(n.length===1)return n[0];let r=!1;const a=[],u=n.reduce((m,y,S)=>{var E,C,T;/[?#]/.test(y)&&(r=!0);const x=i[S];let M=(r?encodeURIComponent:t)(""+x);return S!==i.length&&(x==null||typeof x=="object"&&x.toString===((T=Object.getPrototypeOf((C=Object.getPrototypeOf((E=x.hasOwnProperty)!==null&&E!==void 0?E:tT))!==null&&C!==void 0?C:tT))===null||T===void 0?void 0:T.toString))&&(M=x+"",a.push({start:m.length+y.length,length:M.length,error:`Value of type ${Object.prototype.toString.call(x).slice(8,-1)} is not a valid path parameter`})),m+y+(S===i.length?"":M)},""),c=u.split(/[?#]/,1)[0],p=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let d;for(;(d=p.exec(c))!==null;)a.push({start:d.index,length:d[0].length,error:`Value "${d[0]}" can't be safely passed as a path parameter`});if(a.sort((m,y)=>m.start-y.start),a.length>0){let m=0;const y=a.reduce((S,E)=>{const C=" ".repeat(E.start-m),T="^".repeat(E.length);return m=E.start+E.length,S+C+T},"");throw new zn(`Path parameters result in path with invalid segments:
${a.map(S=>S.error).join(`
`)}
${u}
${y}`)}return u}),_f=xq(DM);class OM extends IM{create(e,n){var i;const{api_version:r=this._client.apiVersion}=e,a=yd(e,["api_version"]);if("model"in a&&"agent_config"in a)throw new zn("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in a&&"generation_config"in a)throw new zn("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(_f`/${r}/interactions`,Object.assign(Object.assign({body:a},n),{stream:(i=e.stream)!==null&&i!==void 0?i:!1}))}delete(e,n={},i){const{api_version:r=this._client.apiVersion}=n??{};return this._client.delete(_f`/${r}/interactions/${e}`,i)}cancel(e,n={},i){const{api_version:r=this._client.apiVersion}=n??{};return this._client.post(_f`/${r}/interactions/${e}/cancel`,i)}get(e,n={},i){var r;const a=n??{},{api_version:u=this._client.apiVersion}=a,c=yd(a,["api_version"]);return this._client.get(_f`/${u}/interactions/${e}`,Object.assign(Object.assign({query:c},i),{stream:(r=n?.stream)!==null&&r!==void 0?r:!1}))}}OM._key=Object.freeze(["interactions"]);class PM extends OM{}function Rq(t){let e=0;for(const r of t)e+=r.length;const n=new Uint8Array(e);let i=0;for(const r of t)n.set(r,i),i+=r.length;return n}let Sf;function Ny(t){let e;return(Sf??(e=new globalThis.TextEncoder,Sf=e.encode.bind(e)))(t)}let Ef;function nT(t){let e;return(Ef??(e=new globalThis.TextDecoder,Ef=e.decode.bind(e)))(t)}let ip=class{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(e){if(e==null)return[];const n=e instanceof ArrayBuffer?new Uint8Array(e):typeof e=="string"?Ny(e):e;this.buffer=Rq([this.buffer,n]);const i=[];let r;for(;(r=Mq(this.buffer,this.carriageReturnIndex))!=null;){if(r.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=r.index;continue}if(this.carriageReturnIndex!=null&&(r.index!==this.carriageReturnIndex+1||r.carriage)){i.push(nT(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const a=this.carriageReturnIndex!==null?r.preceding-1:r.preceding,u=nT(this.buffer.subarray(0,a));i.push(u),this.buffer=this.buffer.subarray(r.index),this.carriageReturnIndex=null}return i}flush(){return this.buffer.length?this.decode(`
`):[]}};ip.NEWLINE_CHARS=new Set([`
`,"\r"]);ip.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function Mq(t,e){for(let r=e??0;r<t.length;r++){if(t[r]===10)return{preceding:r,index:r+1,carriage:!1};if(t[r]===13)return{preceding:r,index:r+1,carriage:!0}}return null}function Nq(t){for(let i=0;i<t.length-1;i++){if(t[i]===10&&t[i+1]===10||t[i]===13&&t[i+1]===13)return i+2;if(t[i]===13&&t[i+1]===10&&i+3<t.length&&t[i+2]===13&&t[i+3]===10)return i+4}return-1}const _d={off:0,error:200,warn:300,info:400,debug:500},iT=(t,e,n)=>{if(t){if(uq(_d,t))return t;Gt(n).warn(`${e} was set to ${JSON.stringify(t)}, expected one of ${JSON.stringify(Object.keys(_d))}`)}};function Pl(){}function bf(t,e,n){return!e||_d[t]>_d[n]?Pl:e[t].bind(e)}const Iq={error:Pl,warn:Pl,info:Pl,debug:Pl};let oT=new WeakMap;function Gt(t){var e;const n=t.logger,i=(e=t.logLevel)!==null&&e!==void 0?e:"off";if(!n)return Iq;const r=oT.get(n);if(r&&r[0]===i)return r[1];const a={error:bf("error",n,i),warn:bf("warn",n,i),info:bf("info",n,i),debug:bf("debug",n,i)};return oT.set(n,[i,a]),a}const Nr=t=>(t.options&&(t.options=Object.assign({},t.options),delete t.options.headers),t.headers&&(t.headers=Object.fromEntries((t.headers instanceof Headers?[...t.headers]:Object.entries(t.headers)).map(([e,n])=>[e,e.toLowerCase()==="x-goog-api-key"||e.toLowerCase()==="authorization"||e.toLowerCase()==="cookie"||e.toLowerCase()==="set-cookie"?"***":n]))),"retryOfRequestLogID"in t&&(t.retryOfRequestLogID&&(t.retryOf=t.retryOfRequestLogID),delete t.retryOfRequestLogID),t);let Dq=class Ll{constructor(e,n,i){this.iterator=e,this.controller=n,this.client=i}static fromSSEResponse(e,n,i){let r=!1;const a=i?Gt(i):console;function u(){return ni(this,arguments,function*(){var p,d,m,y;if(r)throw new zn("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let S=!1;try{try{for(var E=!0,C=ii(Oq(e,n)),T;T=yield Te(C.next()),p=T.done,!p;E=!0){y=T.value,E=!1;const x=y;if(!S)if(x.data.startsWith("[DONE]")){S=!0;continue}else try{yield yield Te(JSON.parse(x.data))}catch(M){throw a.error("Could not parse message into JSON:",x.data),a.error("From chunk:",x.raw),M}}}catch(x){d={error:x}}finally{try{!E&&!p&&(m=C.return)&&(yield Te(m.call(C)))}finally{if(d)throw d.error}}S=!0}catch(x){if(dv(x))return yield Te(void 0);throw x}finally{S||n.abort()}})}return new Ll(u,n,i)}static fromReadableStream(e,n,i){let r=!1;function a(){return ni(this,arguments,function*(){var p,d,m,y;const S=new ip,E=RM(e);try{for(var C=!0,T=ii(E),x;x=yield Te(T.next()),p=x.done,!p;C=!0){y=x.value,C=!1;const M=y;for(const I of S.decode(M))yield yield Te(I)}}catch(M){d={error:M}}finally{try{!C&&!p&&(m=T.return)&&(yield Te(m.call(T)))}finally{if(d)throw d.error}}for(const M of S.flush())yield yield Te(M)})}function u(){return ni(this,arguments,function*(){var p,d,m,y;if(r)throw new zn("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let S=!1;try{try{for(var E=!0,C=ii(a()),T;T=yield Te(C.next()),p=T.done,!p;E=!0){y=T.value,E=!1;const x=y;S||x&&(yield yield Te(JSON.parse(x)))}}catch(x){d={error:x}}finally{try{!E&&!p&&(m=C.return)&&(yield Te(m.call(C)))}finally{if(d)throw d.error}}S=!0}catch(x){if(dv(x))return yield Te(void 0);throw x}finally{S||n.abort()}})}return new Ll(u,n,i)}[Symbol.asyncIterator](){return this.iterator()}tee(){const e=[],n=[],i=this.iterator(),r=a=>({next:()=>{if(a.length===0){const u=i.next();e.push(u),n.push(u)}return a.shift()}});return[new Ll(()=>r(e),this.controller,this.client),new Ll(()=>r(n),this.controller,this.client)]}toReadableStream(){const e=this;let n;return xM({async start(){n=e[Symbol.asyncIterator]()},async pull(i){try{const{value:r,done:a}=await n.next();if(a)return i.close();const u=Ny(JSON.stringify(r)+`
`);i.enqueue(u)}catch(r){i.error(r)}},async cancel(){var i;await((i=n.return)===null||i===void 0?void 0:i.call(n))}})}};function Oq(t,e){return ni(this,arguments,function*(){var i,r,a,u;if(!t.body)throw e.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new zn("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new zn("Attempted to iterate over a response with no body");const c=new Lq,p=new ip,d=RM(t.body);try{for(var m=!0,y=ii(Pq(d)),S;S=yield Te(y.next()),i=S.done,!i;m=!0){u=S.value,m=!1;const E=u;for(const C of p.decode(E)){const T=c.decode(C);T&&(yield yield Te(T))}}}catch(E){r={error:E}}finally{try{!m&&!i&&(a=y.return)&&(yield Te(a.call(y)))}finally{if(r)throw r.error}}for(const E of p.flush()){const C=c.decode(E);C&&(yield yield Te(C))}})}function Pq(t){return ni(this,arguments,function*(){var n,i,r,a;let u=new Uint8Array;try{for(var c=!0,p=ii(t),d;d=yield Te(p.next()),n=d.done,!n;c=!0){a=d.value,c=!1;const m=a;if(m==null)continue;const y=m instanceof ArrayBuffer?new Uint8Array(m):typeof m=="string"?Ny(m):m;let S=new Uint8Array(u.length+y.length);S.set(u),S.set(y,u.length),u=S;let E;for(;(E=Nq(u))!==-1;)yield yield Te(u.slice(0,E)),u=u.slice(E)}}catch(m){i={error:m}}finally{try{!c&&!n&&(r=p.return)&&(yield Te(r.call(p)))}finally{if(i)throw i.error}}u.length>0&&(yield yield Te(u))})}let Lq=class{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const a={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],a}if(this.chunks.push(e),e.startsWith(":"))return null;let[n,i,r]=Uq(e,":");return r.startsWith(" ")&&(r=r.substring(1)),n==="event"?this.event=r:n==="data"&&this.data.push(r),null}};function Uq(t,e){const n=t.indexOf(e);return n!==-1?[t.substring(0,n),e,t.substring(n+e.length)]:[t,"",""]}async function kq(t,e){const{response:n,requestLogID:i,retryOfRequestLogID:r,startTime:a}=e,u=await(async()=>{var c;if(e.options.stream)return Gt(t).debug("response",n.status,n.url,n.headers,n.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(n,e.controller,t):Dq.fromSSEResponse(n,e.controller,t);if(n.status===204)return null;if(e.options.__binaryResponse)return n;const p=n.headers.get("content-type"),d=(c=p?.split(";")[0])===null||c===void 0?void 0:c.trim();return d?.includes("application/json")||d?.endsWith("+json")?await n.json():await n.text()})();return Gt(t).debug(`[${i}] response parsed`,Nr({retryOfRequestLogID:r,url:n.url,status:n.status,body:u,durationMs:Date.now()-a})),u}let Bq=class LM extends Promise{constructor(e,n,i=kq){super(r=>{r(null)}),this.responsePromise=n,this.parseResponse=i,this.client=e}_thenUnwrap(e){return new LM(this.client,this.responsePromise,async(n,i)=>e(await this.parseResponse(n,i),i))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:n}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(e=>this.parseResponse(this.client,e))),this.parsedPromise}then(e,n){return this.parse().then(e,n)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}};const UM=Symbol("brand.privateNullableHeaders");function*Hq(t){if(!t)return;if(UM in t){const{values:i,nulls:r}=t;yield*i.entries();for(const a of r)yield[a,null];return}let e=!1,n;t instanceof Headers?n=t.entries():QC(t)?n=t:(e=!0,n=Object.entries(t??{}));for(let i of n){const r=i[0];if(typeof r!="string")throw new TypeError("expected header name to be a string");const a=QC(i[1])?i[1]:[i[1]];let u=!1;for(const c of a)c!==void 0&&(e&&!u&&(u=!0,yield[r,null]),yield[r,c])}}const pg=t=>{const e=new Headers,n=new Set;for(const i of t){const r=new Set;for(const[a,u]of Hq(i)){const c=a.toLowerCase();r.has(c)||(e.delete(a),r.add(c)),u===null?(e.delete(a),n.add(c)):(e.append(a,u),n.delete(c))}}return{[UM]:!0,values:e,nulls:n}};const hg=t=>{var e,n,i,r,a,u;if(typeof globalThis.process<"u")return(i=(n=(e=uH)===null||e===void 0?void 0:e[t])===null||n===void 0?void 0:n.trim())!==null&&i!==void 0?i:void 0;if(typeof globalThis.Deno<"u")return(u=(a=(r=globalThis.Deno.env)===null||r===void 0?void 0:r.get)===null||a===void 0?void 0:a.call(r,t))===null||u===void 0?void 0:u.trim()};var kM;class op{constructor(e){var n,i,r,a,u,c,p,d=e===void 0?{}:e,{baseURL:m=hg("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:y=(n=hg("GEMINI_API_KEY"))!==null&&n!==void 0?n:null,apiVersion:S="v1beta"}=d,E=yd(d,["baseURL","apiKey","apiVersion"]);const C=Object.assign(Object.assign({apiKey:y,apiVersion:S},E),{baseURL:m||"https://generativelanguage.googleapis.com"});this.baseURL=C.baseURL,this.timeout=(i=C.timeout)!==null&&i!==void 0?i:op.DEFAULT_TIMEOUT,this.logger=(r=C.logger)!==null&&r!==void 0?r:console;const T="warn";this.logLevel=T,this.logLevel=(u=(a=iT(C.logLevel,"ClientOptions.logLevel",this))!==null&&a!==void 0?a:iT(hg("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&u!==void 0?u:T,this.fetchOptions=C.fetchOptions,this.maxRetries=(c=C.maxRetries)!==null&&c!==void 0?c:2,this.fetch=(p=C.fetch)!==null&&p!==void 0?p:vq(),this.encoder=Sq,this._options=C,this.apiKey=y,this.apiVersion=S}withOptions(e){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),e))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:e,nulls:n}){if(!(this.apiKey&&e.get("x-goog-api-key"))&&!n.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(e){if(this.apiKey!=null)return pg([{"x-goog-api-key":this.apiKey}])}stringifyQuery(e){return Object.entries(e).filter(([n,i])=>typeof i<"u").map(([n,i])=>{if(typeof i=="string"||typeof i=="number"||typeof i=="boolean")return`${encodeURIComponent(n)}=${encodeURIComponent(i)}`;if(i===null)return`${encodeURIComponent(n)}=`;throw new zn(`Cannot stringify type ${typeof i}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${js}`}defaultIdempotencyKey(){return`stainless-node-retry-${iq()}`}makeStatusError(e,n,i,r){return qn.generate(e,n,i,r)}buildURL(e,n,i){const r=!this.baseURLOverridden()&&i||this.baseURL,a=rq(e)?new URL(e):new URL(r+(r.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),u=this.defaultQuery();return lq(u)||(n=Object.assign(Object.assign({},u),n)),typeof n=="object"&&n&&!Array.isArray(n)&&(a.search=this.stringifyQuery(n)),a.toString()}async prepareOptions(e){}async prepareRequest(e,{url:n,options:i}){}get(e,n){return this.methodRequest("get",e,n)}post(e,n){return this.methodRequest("post",e,n)}patch(e,n){return this.methodRequest("patch",e,n)}put(e,n){return this.methodRequest("put",e,n)}delete(e,n){return this.methodRequest("delete",e,n)}methodRequest(e,n,i){return this.request(Promise.resolve(i).then(r=>Object.assign({method:e,path:n},r)))}request(e,n=null){return new Bq(this,this.makeRequest(e,n,void 0))}async makeRequest(e,n,i){var r,a,u;const c=await e,p=(r=c.maxRetries)!==null&&r!==void 0?r:this.maxRetries;n==null&&(n=p),await this.prepareOptions(c);const{req:d,url:m,timeout:y}=await this.buildRequest(c,{retryCount:p-n});await this.prepareRequest(d,{url:m,options:c});const S="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),E=i===void 0?"":`, retryOf: ${i}`,C=Date.now();if(Gt(this).debug(`[${S}] sending request`,Nr({retryOfRequestLogID:i,method:c.method,url:m,options:c,headers:d.headers})),!((a=c.signal)===null||a===void 0)&&a.aborted)throw new mv;const T=new AbortController,x=await this.fetchWithTimeout(m,d,y,T).catch(pv),M=Date.now();if(x instanceof globalThis.Error){const N=`retrying, ${n} attempts remaining`;if(!((u=c.signal)===null||u===void 0)&&u.aborted)throw new mv;const D=dv(x)||/timed? ?out/i.test(String(x)+("cause"in x?String(x.cause):""));if(n)return Gt(this).info(`[${S}] connection ${D?"timed out":"failed"} - ${N}`),Gt(this).debug(`[${S}] connection ${D?"timed out":"failed"} (${N})`,Nr({retryOfRequestLogID:i,url:m,durationMs:M-C,message:x.message})),this.retryRequest(c,n,i??S);throw Gt(this).info(`[${S}] connection ${D?"timed out":"failed"} - error; no more retries left`),Gt(this).debug(`[${S}] connection ${D?"timed out":"failed"} (error; no more retries left)`,Nr({retryOfRequestLogID:i,url:m,durationMs:M-C,message:x.message})),D?new yM:new np({cause:x})}const I=`[${S}${E}] ${d.method} ${m} ${x.ok?"succeeded":"failed"} with status ${x.status} in ${M-C}ms`;if(!x.ok){const N=await this.shouldRetry(x);if(n&&N){const J=`retrying, ${n} attempts remaining`;return await _q(x.body),Gt(this).info(`${I} - ${J}`),Gt(this).debug(`[${S}] response error (${J})`,Nr({retryOfRequestLogID:i,url:x.url,status:x.status,headers:x.headers,durationMs:M-C})),this.retryRequest(c,n,i??S,x.headers)}const D=N?"error; no more retries left":"error; not retryable";Gt(this).info(`${I} - ${D}`);const U=await x.text().catch(J=>pv(J).message),k=fq(U),O=k?void 0:U;throw Gt(this).debug(`[${S}] response error (${D})`,Nr({retryOfRequestLogID:i,url:x.url,status:x.status,headers:x.headers,message:O,durationMs:Date.now()-C})),this.makeStatusError(x.status,k,O,x.headers)}return Gt(this).info(I),Gt(this).debug(`[${S}] response start`,Nr({retryOfRequestLogID:i,url:x.url,status:x.status,headers:x.headers,durationMs:M-C})),{response:x,options:c,controller:T,requestLogID:S,retryOfRequestLogID:i,startTime:C}}async fetchWithTimeout(e,n,i,r){const a=n||{},{signal:u,method:c}=a,p=yd(a,["signal","method"]);u&&u.addEventListener("abort",()=>r.abort());const d=setTimeout(()=>r.abort(),i),m=globalThis.ReadableStream&&p.body instanceof globalThis.ReadableStream||typeof p.body=="object"&&p.body!==null&&Symbol.asyncIterator in p.body,y=Object.assign(Object.assign(Object.assign({signal:r.signal},m?{duplex:"half"}:{}),{method:"GET"}),p);c&&(y.method=c.toUpperCase());try{return await this.fetch.call(void 0,e,y)}finally{clearTimeout(d)}}async shouldRetry(e){const n=e.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,n,i,r){var a;let u;const c=r?.get("retry-after-ms");if(c){const d=parseFloat(c);Number.isNaN(d)||(u=d)}const p=r?.get("retry-after");if(p&&!u){const d=parseFloat(p);Number.isNaN(d)?u=Date.parse(p)-Date.now():u=d*1e3}if(!(u&&0<=u&&u<60*1e3)){const d=(a=e.maxRetries)!==null&&a!==void 0?a:this.maxRetries;u=this.calculateDefaultRetryTimeoutMillis(n,d)}return await dq(u),this.makeRequest(e,n-1,i)}calculateDefaultRetryTimeoutMillis(e,n){const a=n-e,u=Math.min(.5*Math.pow(2,a),8),c=1-Math.random()*.25;return u*c*1e3}async buildRequest(e,{retryCount:n=0}={}){var i,r,a;const u=Object.assign({},e),{method:c,path:p,query:d,defaultBaseURL:m}=u,y=this.buildURL(p,d,m);"timeout"in u&&cq("timeout",u.timeout),u.timeout=(i=u.timeout)!==null&&i!==void 0?i:this.timeout;const{bodyHeaders:S,body:E}=this.buildBody({options:u}),C=await this.buildHeaders({options:e,method:c,bodyHeaders:S,retryCount:n});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:c,headers:C},u.signal&&{signal:u.signal}),globalThis.ReadableStream&&E instanceof globalThis.ReadableStream&&{duplex:"half"}),E&&{body:E}),(r=this.fetchOptions)!==null&&r!==void 0?r:{}),(a=u.fetchOptions)!==null&&a!==void 0?a:{}),url:y,timeout:u.timeout}}async buildHeaders({options:e,method:n,bodyHeaders:i,retryCount:r}){let a={};this.idempotencyHeader&&n!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),a[this.idempotencyHeader]=e.idempotencyKey);const u=pg([a,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(r)},e.timeout?{"X-Stainless-Timeout":String(Math.trunc(e.timeout/1e3))}:{}),gq()),await this.authHeaders(e),this._options.defaultHeaders,i,e.headers]);return this.validateHeaders(u),u.values}buildBody({options:{body:e,headers:n}}){if(!e)return{bodyHeaders:void 0,body:void 0};const i=pg([n]);return ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof DataView||typeof e=="string"&&i.values.has("content-type")||globalThis.Blob&&e instanceof globalThis.Blob||e instanceof FormData||e instanceof URLSearchParams||globalThis.ReadableStream&&e instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:e}:typeof e=="object"&&(Symbol.asyncIterator in e||Symbol.iterator in e&&"next"in e&&typeof e.next=="function")?{bodyHeaders:void 0,body:yq(e)}:this.encoder({body:e,headers:i})}}op.DEFAULT_TIMEOUT=6e4;class bt extends op{constructor(){super(...arguments),this.interactions=new PM(this)}}kM=bt;bt.GeminiNextGenAPIClient=kM;bt.GeminiNextGenAPIClientError=zn;bt.APIError=qn;bt.APIConnectionError=np;bt.APIConnectionTimeoutError=yM;bt.APIUserAbortError=mv;bt.NotFoundError=bM;bt.ConflictError=wM;bt.RateLimitError=TM;bt.BadRequestError=_M;bt.AuthenticationError=SM;bt.InternalServerError=AM;bt.PermissionDeniedError=EM;bt.UnprocessableEntityError=CM;bt.toFile=Tq;bt.Interactions=PM;function Gq(t,e){const n={},i=h(t,["name"]);return i!=null&&g(n,["_url","name"],i),n}function Fq(t,e){const n={},i=h(t,["name"]);return i!=null&&g(n,["_url","name"],i),n}function $q(t,e){const n={},i=h(t,["sdkHttpResponse"]);return i!=null&&g(n,["sdkHttpResponse"],i),n}function Vq(t,e){const n={},i=h(t,["sdkHttpResponse"]);return i!=null&&g(n,["sdkHttpResponse"],i),n}function zq(t,e,n){const i={};if(h(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const r=h(t,["tunedModelDisplayName"]);if(e!==void 0&&r!=null&&g(e,["displayName"],r),h(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const a=h(t,["epochCount"]);e!==void 0&&a!=null&&g(e,["tuningTask","hyperparameters","epochCount"],a);const u=h(t,["learningRateMultiplier"]);if(u!=null&&g(i,["tuningTask","hyperparameters","learningRateMultiplier"],u),h(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(h(t,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(h(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const c=h(t,["batchSize"]);e!==void 0&&c!=null&&g(e,["tuningTask","hyperparameters","batchSize"],c);const p=h(t,["learningRate"]);if(e!==void 0&&p!=null&&g(e,["tuningTask","hyperparameters","learningRate"],p),h(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(h(t,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return i}function qq(t,e,n){const i={};let r=h(n,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){const E=h(t,["validationDataset"]);e!==void 0&&E!=null&&g(e,["supervisedTuningSpec"],rT(E))}else if(r==="PREFERENCE_TUNING"){const E=h(t,["validationDataset"]);e!==void 0&&E!=null&&g(e,["preferenceOptimizationSpec"],rT(E))}const a=h(t,["tunedModelDisplayName"]);e!==void 0&&a!=null&&g(e,["tunedModelDisplayName"],a);const u=h(t,["description"]);e!==void 0&&u!=null&&g(e,["description"],u);let c=h(n,["config","method"]);if(c===void 0&&(c="SUPERVISED_FINE_TUNING"),c==="SUPERVISED_FINE_TUNING"){const E=h(t,["epochCount"]);e!==void 0&&E!=null&&g(e,["supervisedTuningSpec","hyperParameters","epochCount"],E)}else if(c==="PREFERENCE_TUNING"){const E=h(t,["epochCount"]);e!==void 0&&E!=null&&g(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],E)}let p=h(n,["config","method"]);if(p===void 0&&(p="SUPERVISED_FINE_TUNING"),p==="SUPERVISED_FINE_TUNING"){const E=h(t,["learningRateMultiplier"]);e!==void 0&&E!=null&&g(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],E)}else if(p==="PREFERENCE_TUNING"){const E=h(t,["learningRateMultiplier"]);e!==void 0&&E!=null&&g(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],E)}let d=h(n,["config","method"]);if(d===void 0&&(d="SUPERVISED_FINE_TUNING"),d==="SUPERVISED_FINE_TUNING"){const E=h(t,["exportLastCheckpointOnly"]);e!==void 0&&E!=null&&g(e,["supervisedTuningSpec","exportLastCheckpointOnly"],E)}else if(d==="PREFERENCE_TUNING"){const E=h(t,["exportLastCheckpointOnly"]);e!==void 0&&E!=null&&g(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],E)}let m=h(n,["config","method"]);if(m===void 0&&(m="SUPERVISED_FINE_TUNING"),m==="SUPERVISED_FINE_TUNING"){const E=h(t,["adapterSize"]);e!==void 0&&E!=null&&g(e,["supervisedTuningSpec","hyperParameters","adapterSize"],E)}else if(m==="PREFERENCE_TUNING"){const E=h(t,["adapterSize"]);e!==void 0&&E!=null&&g(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],E)}if(h(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(h(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const y=h(t,["labels"]);e!==void 0&&y!=null&&g(e,["labels"],y);const S=h(t,["beta"]);return e!==void 0&&S!=null&&g(e,["preferenceOptimizationSpec","hyperParameters","beta"],S),i}function Jq(t,e){const n={},i=h(t,["baseModel"]);i!=null&&g(n,["baseModel"],i);const r=h(t,["preTunedModel"]);r!=null&&g(n,["preTunedModel"],r);const a=h(t,["trainingDataset"]);a!=null&&i3(a);const u=h(t,["config"]);return u!=null&&zq(u,n),n}function Yq(t,e){const n={},i=h(t,["baseModel"]);i!=null&&g(n,["baseModel"],i);const r=h(t,["preTunedModel"]);r!=null&&g(n,["preTunedModel"],r);const a=h(t,["trainingDataset"]);a!=null&&o3(a,n,e);const u=h(t,["config"]);return u!=null&&qq(u,n,e),n}function Kq(t,e){const n={},i=h(t,["name"]);return i!=null&&g(n,["_url","name"],i),n}function Xq(t,e){const n={},i=h(t,["name"]);return i!=null&&g(n,["_url","name"],i),n}function Wq(t,e,n){const i={},r=h(t,["pageSize"]);e!==void 0&&r!=null&&g(e,["_query","pageSize"],r);const a=h(t,["pageToken"]);e!==void 0&&a!=null&&g(e,["_query","pageToken"],a);const u=h(t,["filter"]);return e!==void 0&&u!=null&&g(e,["_query","filter"],u),i}function jq(t,e,n){const i={},r=h(t,["pageSize"]);e!==void 0&&r!=null&&g(e,["_query","pageSize"],r);const a=h(t,["pageToken"]);e!==void 0&&a!=null&&g(e,["_query","pageToken"],a);const u=h(t,["filter"]);return e!==void 0&&u!=null&&g(e,["_query","filter"],u),i}function Qq(t,e){const n={},i=h(t,["config"]);return i!=null&&Wq(i,n),n}function Zq(t,e){const n={},i=h(t,["config"]);return i!=null&&jq(i,n),n}function e3(t,e){const n={},i=h(t,["sdkHttpResponse"]);i!=null&&g(n,["sdkHttpResponse"],i);const r=h(t,["nextPageToken"]);r!=null&&g(n,["nextPageToken"],r);const a=h(t,["tunedModels"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(c=>BM(c))),g(n,["tuningJobs"],u)}return n}function t3(t,e){const n={},i=h(t,["sdkHttpResponse"]);i!=null&&g(n,["sdkHttpResponse"],i);const r=h(t,["nextPageToken"]);r!=null&&g(n,["nextPageToken"],r);const a=h(t,["tuningJobs"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(c=>yv(c))),g(n,["tuningJobs"],u)}return n}function n3(t,e){const n={},i=h(t,["name"]);i!=null&&g(n,["model"],i);const r=h(t,["name"]);return r!=null&&g(n,["endpoint"],r),n}function i3(t,e){const n={};if(h(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(h(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const i=h(t,["examples"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(a=>a)),g(n,["examples","examples"],r)}return n}function o3(t,e,n){const i={};let r=h(n,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){const u=h(t,["gcsUri"]);e!==void 0&&u!=null&&g(e,["supervisedTuningSpec","trainingDatasetUri"],u)}else if(r==="PREFERENCE_TUNING"){const u=h(t,["gcsUri"]);e!==void 0&&u!=null&&g(e,["preferenceOptimizationSpec","trainingDatasetUri"],u)}let a=h(n,["config","method"]);if(a===void 0&&(a="SUPERVISED_FINE_TUNING"),a==="SUPERVISED_FINE_TUNING"){const u=h(t,["vertexDatasetResource"]);e!==void 0&&u!=null&&g(e,["supervisedTuningSpec","trainingDatasetUri"],u)}else if(a==="PREFERENCE_TUNING"){const u=h(t,["vertexDatasetResource"]);e!==void 0&&u!=null&&g(e,["preferenceOptimizationSpec","trainingDatasetUri"],u)}if(h(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return i}function BM(t,e){const n={},i=h(t,["sdkHttpResponse"]);i!=null&&g(n,["sdkHttpResponse"],i);const r=h(t,["name"]);r!=null&&g(n,["name"],r);const a=h(t,["state"]);a!=null&&g(n,["state"],jR(a));const u=h(t,["createTime"]);u!=null&&g(n,["createTime"],u);const c=h(t,["tuningTask","startTime"]);c!=null&&g(n,["startTime"],c);const p=h(t,["tuningTask","completeTime"]);p!=null&&g(n,["endTime"],p);const d=h(t,["updateTime"]);d!=null&&g(n,["updateTime"],d);const m=h(t,["description"]);m!=null&&g(n,["description"],m);const y=h(t,["baseModel"]);y!=null&&g(n,["baseModel"],y);const S=h(t,["_self"]);return S!=null&&g(n,["tunedModel"],n3(S)),n}function yv(t,e){const n={},i=h(t,["sdkHttpResponse"]);i!=null&&g(n,["sdkHttpResponse"],i);const r=h(t,["name"]);r!=null&&g(n,["name"],r);const a=h(t,["state"]);a!=null&&g(n,["state"],jR(a));const u=h(t,["createTime"]);u!=null&&g(n,["createTime"],u);const c=h(t,["startTime"]);c!=null&&g(n,["startTime"],c);const p=h(t,["endTime"]);p!=null&&g(n,["endTime"],p);const d=h(t,["updateTime"]);d!=null&&g(n,["updateTime"],d);const m=h(t,["error"]);m!=null&&g(n,["error"],m);const y=h(t,["description"]);y!=null&&g(n,["description"],y);const S=h(t,["baseModel"]);S!=null&&g(n,["baseModel"],S);const E=h(t,["tunedModel"]);E!=null&&g(n,["tunedModel"],E);const C=h(t,["preTunedModel"]);C!=null&&g(n,["preTunedModel"],C);const T=h(t,["supervisedTuningSpec"]);T!=null&&g(n,["supervisedTuningSpec"],T);const x=h(t,["preferenceOptimizationSpec"]);x!=null&&g(n,["preferenceOptimizationSpec"],x);const M=h(t,["tuningDataStats"]);M!=null&&g(n,["tuningDataStats"],M);const I=h(t,["encryptionSpec"]);I!=null&&g(n,["encryptionSpec"],I);const N=h(t,["partnerModelTuningSpec"]);N!=null&&g(n,["partnerModelTuningSpec"],N);const D=h(t,["customBaseModel"]);D!=null&&g(n,["customBaseModel"],D);const U=h(t,["experiment"]);U!=null&&g(n,["experiment"],U);const k=h(t,["labels"]);k!=null&&g(n,["labels"],k);const O=h(t,["outputUri"]);O!=null&&g(n,["outputUri"],O);const q=h(t,["pipelineJob"]);q!=null&&g(n,["pipelineJob"],q);const J=h(t,["serviceAccount"]);J!=null&&g(n,["serviceAccount"],J);const X=h(t,["tunedModelDisplayName"]);X!=null&&g(n,["tunedModelDisplayName"],X);const j=h(t,["veoTuningSpec"]);return j!=null&&g(n,["veoTuningSpec"],j),n}function r3(t,e){const n={},i=h(t,["sdkHttpResponse"]);i!=null&&g(n,["sdkHttpResponse"],i);const r=h(t,["name"]);r!=null&&g(n,["name"],r);const a=h(t,["metadata"]);a!=null&&g(n,["metadata"],a);const u=h(t,["done"]);u!=null&&g(n,["done"],u);const c=h(t,["error"]);return c!=null&&g(n,["error"],c),n}function rT(t,e){const n={},i=h(t,["gcsUri"]);i!=null&&g(n,["validationDatasetUri"],i);const r=h(t,["vertexDatasetResource"]);return r!=null&&g(n,["validationDatasetUri"],r),n}class s3 extends mo{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new es(uo.PAGED_ITEM_TUNING_JOBS,i=>this.listInternal(i),await this.listInternal(n),n),this.get=async n=>await this.getInternal(n),this.tune=async n=>{var i;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const r={tunedModelName:n.baseModel};!((i=n.config)===null||i===void 0)&&i.preTunedModelCheckpointId&&(r.checkpointId=n.config.preTunedModelCheckpointId);const a=Object.assign(Object.assign({},n),{preTunedModel:r});return a.baseModel=void 0,await this.tuneInternal(a)}else{const r=Object.assign({},n);return await this.tuneInternal(r)}else{const r=Object.assign({},n),a=await this.tuneMldevInternal(r);let u="";return a.metadata!==void 0&&a.metadata.tunedModel!==void 0?u=a.metadata.tunedModel:a.name!==void 0&&a.name.includes("/operations/")&&(u=a.name.split("/operations/")[0]),{name:u,state:rv.JOB_STATE_QUEUED}}}}async getInternal(e){var n,i,r,a;let u,c="",p={};if(this.apiClient.isVertexAI()){const d=Xq(e);return c=fe("{name}",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json().then(y=>{const S=y;return S.sdkHttpResponse={headers:m.headers},S})),u.then(m=>yv(m))}else{const d=Kq(e);return c=fe("{name}",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json().then(y=>{const S=y;return S.sdkHttpResponse={headers:m.headers},S})),u.then(m=>BM(m))}}async listInternal(e){var n,i,r,a;let u,c="",p={};if(this.apiClient.isVertexAI()){const d=Zq(e);return c=fe("tuningJobs",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json().then(y=>{const S=y;return S.sdkHttpResponse={headers:m.headers},S})),u.then(m=>{const y=t3(m),S=new IC;return Object.assign(S,y),S})}else{const d=Qq(e);return c=fe("tunedModels",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json().then(y=>{const S=y;return S.sdkHttpResponse={headers:m.headers},S})),u.then(m=>{const y=e3(m),S=new IC;return Object.assign(S,y),S})}}async cancel(e){var n,i,r,a;let u,c="",p={};if(this.apiClient.isVertexAI()){const d=Fq(e);return c=fe("{name}:cancel",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json().then(y=>{const S=y;return S.sdkHttpResponse={headers:m.headers},S})),u.then(m=>{const y=Vq(m),S=new DC;return Object.assign(S,y),S})}else{const d=Gq(e);return c=fe("{name}:cancel",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json().then(y=>{const S=y;return S.sdkHttpResponse={headers:m.headers},S})),u.then(m=>{const y=$q(m),S=new DC;return Object.assign(S,y),S})}}async tuneInternal(e){var n,i;let r,a="",u={};if(this.apiClient.isVertexAI()){const c=Yq(e,e);return a=fe("tuningJobs",c._url),u=c._query,delete c._url,delete c._query,r=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json().then(d=>{const m=d;return m.sdkHttpResponse={headers:p.headers},m})),r.then(p=>yv(p))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,i;let r,a="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=Jq(e);return a=fe("tunedModels",c._url),u=c._query,delete c._url,delete c._query,r=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json().then(d=>{const m=d;return m.sdkHttpResponse={headers:p.headers},m})),r.then(p=>r3(p))}}}class a3{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const l3=1024*1024*8,u3=3,c3=1e3,f3=2,Sd="x-goog-upload-status";async function d3(t,e,n){var i;const r=await HM(t,e,n),a=await r?.json();if(((i=r?.headers)===null||i===void 0?void 0:i[Sd])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return a.file}async function p3(t,e,n){var i;const r=await HM(t,e,n),a=await r?.json();if(((i=r?.headers)===null||i===void 0?void 0:i[Sd])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const u=qR(a),c=new Cy;return Object.assign(c,u),c}async function HM(t,e,n){var i,r;let a=0,u=0,c=new sv(new Response),p="upload";for(a=t.size;u<a;){const d=Math.min(l3,a-u),m=t.slice(u,u+d);u+d>=a&&(p+=", finalize");let y=0,S=c3;for(;y<u3&&(c=await n.request({path:"",body:m,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":p,"X-Goog-Upload-Offset":String(u),"Content-Length":String(d)}}}),!(!((i=c?.headers)===null||i===void 0)&&i[Sd]));)y++,await m3(S),S=S*f3;if(u+=d,((r=c?.headers)===null||r===void 0?void 0:r[Sd])!=="active")break;if(a<=u)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return c}async function h3(t){return{size:t.size,type:t.type}}function m3(t){return new Promise(e=>setTimeout(e,t))}class g3{async upload(e,n,i){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await d3(e,n,i)}async uploadToFileSearchStore(e,n,i){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await p3(e,n,i)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await h3(e)}}class v3{create(e,n,i){return new y3(e,n,i)}}class y3{constructor(e,n,i){this.url=e,this.headers=n,this.callbacks=i}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}const sT="x-goog-api-key";class _3{constructor(e){this.apiKey=e}async addAuthHeaders(e,n){if(e.get(sT)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(sT,this.apiKey)}}}const S3="gl-node/";class E3{get interactions(){if(this._interactions!==void 0)return this._interactions;if(console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions."),this.vertexai)throw new Error("This version of the GenAI SDK does not support Vertex AI API for interactions.");const e=this.httpOptions;e?.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const n=new bt({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:e?.timeout});return this._interactions=n.interactions,this._interactions}constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;const i=pH(e.httpOptions,e.vertexai,void 0,void 0);i&&(e.httpOptions?e.httpOptions.baseUrl=i:e.httpOptions={baseUrl:i}),this.apiVersion=e.apiVersion,this.httpOptions=e.httpOptions;const r=new _3(this.apiKey);this.apiClient=new dz({auth:r,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:S3+"web",uploader:new g3,downloader:new a3}),this.models=new Iz(this.apiClient),this.live=new Tz(this.apiClient,r,new v3),this.batches=new $G(this.apiClient),this.chats=new wF(this.models,this.apiClient),this.caches=new SF(this.apiClient),this.files=new OF(this.apiClient),this.operations=new Dz(this.apiClient),this.authTokens=new Kz(this.apiClient),this.tunings=new s3(this.apiClient),this.fileSearchStores=new nq(this.apiClient)}}let mg=class extends Error{};class ua{static getApiKey=null;static setApiKey=null;static getGenAI(){const e=this.getApiKey?.()||"";if(!e)throw new mg("No Google API key set");return new E3({apiKey:e})}static async txt2txt(e){try{const n=this.getGenAI(),i={},r=await n.models.generateContent({model:"gemini-2.5-flash",contents:e,config:i});return console.log("RES TEXT",r.text),r.text}catch(n){console.error("Goo Err Response",n);const i=n?.message||"";if(i.includes("API key not valid")||i.includes("API_KEY_INVALID")||n instanceof mg)return this.showKeyPromptWindow(),null;throw n}}static async img2img(e,n){try{const i=this.getGenAI(),r=[{text:e}];if(n?.length)for(const d of n)!d?.rawBase64||!d?.mime||(d.description&&r.push({text:d.description}),r.push({inlineData:{data:d.rawBase64,mimeType:d.mime}}));const a={model:"gemini-2.5-flash-image",contents:r,config:{imageConfig:{aspectRatio:"9:16",response_modalities:["Image"]}}};console.log("Gemini Payload",a);const u=await i.models.generateContent(a);console.log("GEMINI RES",u);const p=(u?.candidates??[])[0]?.content?.parts??[];for(const d of p)if(d.inlineData){const m=d.inlineData.data,y=d.inlineData.mimeType||"image/png";return{base64Obj:{rawBase64:m,mime:y},id:u.responseId}}return null}catch(i){const r=i?.message||"";if(r.includes("API key not valid")||r.includes("API_KEY_INVALID")||i instanceof mg)return this.showKeyPromptWindow(),null;throw console.error("img2img error",i),i}}static showKeyPromptWindow(){const e=window.prompt("Your Google API key is missing or invalid. Please enter a valid key:");e?this.setApiKey?.(e):console.warn("User did not provide a valid API key.")}static async saveResultImage(e,n){return e&&e.base64Obj?.rawBase64?await Yr.fromBase64({rawBase64:e.base64Obj.rawBase64,mime:e.base64Obj.mime},n,`${e.id}.png`):(console.warn("No valid image returned from GoogleAI.img2img"),null)}}class aT{folder;scene;shotJson=null;images=[];srcImage=null;resultsFolder=null;is_generating=!1;selected_art=null;constructor(e,n){this.folder=e,this.scene=n,po(this)}async load(){try{this.shotJson=await Jr.create(this.folder,"shotinfo.json"),this.images=[],this.srcImage=null;try{this.resultsFolder=await this.folder.getDirectoryHandle("results",{create:!0});for await(const[e,n]of this.resultsFolder.entries())if(n.kind==="file"){const i=new Yr(n,this.resultsFolder);this.images.push(i),this.shotJson.data?.srcImage&&e===this.shotJson.data.srcImage&&(this.srcImage=i)}}catch(e){console.warn("No results folder found or failed to read:",e),this.resultsFolder=null}}catch(e){console.error("Error loading shot:",this.folder.name,e),this.shotJson=null,this.images=[],this.srcImage=null,this.resultsFolder=null}}setSrcImage(e){this.srcImage=e,this.shotJson?.data&&(this.shotJson.data.srcImage=e?.handle.name,this.shotJson.save())}async delete(){if(!this.scene?.folder){console.error("Cannot delete shot: scene folder not set");return}try{await this.scene.folder.removeEntry(this.folder.name,{recursive:!0}),Je(()=>{this.scene.shots=this.scene.shots.filter(e=>e!==this)})}catch(e){console.error("Failed to delete shot:",e)}}addImage(e){this.images.push(e),this.srcImage||this.setSrcImage(e)}removeImage(e){this.images=this.images.filter(n=>n!==e),this.srcImage===e&&this.setSrcImage(null)}async GenerateImage(){if(!this.resultsFolder){console.warn("Results folder not set. Attempting to create one...");try{this.resultsFolder=await this.folder.getDirectoryHandle("results",{create:!0})}catch(r){console.error("Failed to create results folder:",r);return}}Je(()=>{this.is_generating=!0});const e=this.getSkippedTags(),n=[];for(const r of this.scene.getTags())if(!e.includes(r.path))try{const a=await r.image.getBase64();n.push({rawBase64:a.rawBase64,mime:a.mime,description:r.path})}catch(a){console.warn("Failed to load tag image:",r.path,a)}let i=this.shotJson?.data.prompt||"";try{const r=await ua.img2img(i||"",n),a=await ua.saveResultImage(r,this.resultsFolder);a&&this.addImage(a)}catch(r){console.error("GenerateImage failed:",r)}finally{Je(()=>{this.is_generating=!1})}}log(){console.log(Vr(this))}selectArt(e=null){Je(()=>{this.selected_art=e})}async saveGoogleResultImage(e,n=!1){const i=await ua.saveResultImage(e,this.resultsFolder);i&&(this.addImage(i),n&&this.selectArt(i))}getSkippedTags(){return this.shotJson?.data?.skippedTags||[]}setTagSkipped(e,n){this.shotJson?.data&&(Array.isArray(this.shotJson.data.skippedTags)||(this.shotJson.data.skippedTags=[]),Je(()=>{const i=this.shotJson.data.skippedTags;n?i.includes(e)||i.push(e):this.shotJson.data.skippedTags=i.filter(r=>r!==e)}),this.shotJson.save())}}function Ce(t,e,n,i,r){if(typeof e=="function"?t!==e||!0:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,n),n}function V(t,e,n,i){if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?i:n==="a"?i.call(t):i?i.value:e.get(t)}let GM=function(){const{crypto:t}=globalThis;if(t?.randomUUID)return GM=t.randomUUID.bind(t),t.randomUUID();const e=new Uint8Array(1),n=t?()=>t.getRandomValues(e)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,i=>(+i^n()&15>>+i/4).toString(16))};function _v(t){return typeof t=="object"&&t!==null&&("name"in t&&t.name==="AbortError"||"message"in t&&String(t.message).includes("FetchRequestCanceledException"))}const Sv=t=>{if(t instanceof Error)return t;if(typeof t=="object"&&t!==null){try{if(Object.prototype.toString.call(t)==="[object Error]"){const e=new Error(t.message,t.cause?{cause:t.cause}:{});return t.stack&&(e.stack=t.stack),t.cause&&!e.cause&&(e.cause=t.cause),t.name&&(e.name=t.name),e}}catch{}try{return new Error(JSON.stringify(t))}catch{}}return new Error(t)};class Se extends Error{}class It extends Se{constructor(e,n,i,r){super(`${It.makeMessage(e,n,i)}`),this.status=e,this.headers=r,this.requestID=r?.get("x-request-id"),this.error=n;const a=n;this.code=a?.code,this.param=a?.param,this.type=a?.type}static makeMessage(e,n,i){const r=n?.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):i;return e&&r?`${e} ${r}`:e?`${e} status code (no body)`:r||"(no status code or body)"}static generate(e,n,i,r){if(!e||!r)return new rp({message:i,cause:Sv(n)});const a=n?.error;return e===400?new FM(e,a,i,r):e===401?new $M(e,a,i,r):e===403?new VM(e,a,i,r):e===404?new zM(e,a,i,r):e===409?new qM(e,a,i,r):e===422?new JM(e,a,i,r):e===429?new YM(e,a,i,r):e>=500?new KM(e,a,i,r):new It(e,a,i,r)}}class Bn extends It{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}}class rp extends It{constructor({message:e,cause:n}){super(void 0,void 0,e||"Connection error.",void 0),n&&(this.cause=n)}}class Iy extends rp{constructor({message:e}={}){super({message:e??"Request timed out."})}}class FM extends It{}class $M extends It{}class VM extends It{}class zM extends It{}class qM extends It{}class JM extends It{}class YM extends It{}class KM extends It{}class XM extends Se{constructor(){super("Could not parse response content as the length limit was reached")}}class WM extends Se{constructor(){super("Could not parse response content as the request was rejected by the content filter")}}class Ul extends Error{constructor(e){super(e)}}const b3=/^[a-z][a-z0-9+.-]*:/i,w3=t=>b3.test(t);let Qt=t=>(Qt=Array.isArray,Qt(t)),lT=Qt;function jM(t){return typeof t!="object"?{}:t??{}}function C3(t){if(!t)return!0;for(const e in t)return!1;return!0}function T3(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function gg(t){return t!=null&&typeof t=="object"&&!Array.isArray(t)}const A3=(t,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new Se(`${t} must be an integer`);if(e<0)throw new Se(`${t} must be a positive integer`);return e},x3=t=>{try{return JSON.parse(t)}catch{return}},Du=t=>new Promise(e=>setTimeout(e,t)),Qs="6.10.0",R3=()=>typeof window<"u"&&typeof window.document<"u"&&typeof navigator<"u";function M3(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const N3=()=>{const t=M3();if(t==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Qs,"X-Stainless-OS":cT(Deno.build.os),"X-Stainless-Arch":uT(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:Deno.version?.deno??"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Qs,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(t==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Qs,"X-Stainless-OS":cT(globalThis.process.platform??"unknown"),"X-Stainless-Arch":uT(globalThis.process.arch??"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":globalThis.process.version??"unknown"};const e=I3();return e?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Qs,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${e.browser}`,"X-Stainless-Runtime-Version":e.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Qs,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function I3(){if(typeof navigator>"u"||!navigator)return null;const t=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:n}of t){const i=n.exec(navigator.userAgent);if(i){const r=i[1]||0,a=i[2]||0,u=i[3]||0;return{browser:e,version:`${r}.${a}.${u}`}}}return null}const uT=t=>t==="x32"?"x32":t==="x86_64"||t==="x64"?"x64":t==="arm"?"arm":t==="aarch64"||t==="arm64"?"arm64":t?`other:${t}`:"unknown",cT=t=>(t=t.toLowerCase(),t.includes("ios")?"iOS":t==="android"?"Android":t==="darwin"?"MacOS":t==="win32"?"Windows":t==="freebsd"?"FreeBSD":t==="openbsd"?"OpenBSD":t==="linux"?"Linux":t?`Other:${t}`:"Unknown");let fT;const D3=()=>fT??(fT=N3());function O3(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new OpenAI({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function QM(...t){const e=globalThis.ReadableStream;if(typeof e>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new e(...t)}function ZM(t){let e=Symbol.asyncIterator in t?t[Symbol.asyncIterator]():t[Symbol.iterator]();return QM({start(){},async pull(n){const{done:i,value:r}=await e.next();i?n.close():n.enqueue(r)},async cancel(){await e.return?.()}})}function eN(t){if(t[Symbol.asyncIterator])return t;const e=t.getReader();return{async next(){try{const n=await e.read();return n?.done&&e.releaseLock(),n}catch(n){throw e.releaseLock(),n}},async return(){const n=e.cancel();return e.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function P3(t){if(t===null||typeof t!="object")return;if(t[Symbol.asyncIterator]){await t[Symbol.asyncIterator]().return?.();return}const e=t.getReader(),n=e.cancel();e.releaseLock(),await n}const L3=({headers:t,body:e})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(e)}),tN="RFC3986",nN=t=>String(t),dT={RFC1738:t=>String(t).replace(/%20/g,"+"),RFC3986:nN},U3="RFC1738";let Ev=(t,e)=>(Ev=Object.hasOwn??Function.prototype.call.bind(Object.prototype.hasOwnProperty),Ev(t,e));const mi=(()=>{const t=[];for(let e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t})(),vg=1024,k3=(t,e,n,i,r)=>{if(t.length===0)return t;let a=t;if(typeof t=="symbol"?a=Symbol.prototype.toString.call(t):typeof t!="string"&&(a=String(t)),n==="iso-8859-1")return escape(a).replace(/%u[0-9a-f]{4}/gi,function(c){return"%26%23"+parseInt(c.slice(2),16)+"%3B"});let u="";for(let c=0;c<a.length;c+=vg){const p=a.length>=vg?a.slice(c,c+vg):a,d=[];for(let m=0;m<p.length;++m){let y=p.charCodeAt(m);if(y===45||y===46||y===95||y===126||y>=48&&y<=57||y>=65&&y<=90||y>=97&&y<=122||r===U3&&(y===40||y===41)){d[d.length]=p.charAt(m);continue}if(y<128){d[d.length]=mi[y];continue}if(y<2048){d[d.length]=mi[192|y>>6]+mi[128|y&63];continue}if(y<55296||y>=57344){d[d.length]=mi[224|y>>12]+mi[128|y>>6&63]+mi[128|y&63];continue}m+=1,y=65536+((y&1023)<<10|p.charCodeAt(m)&1023),d[d.length]=mi[240|y>>18]+mi[128|y>>12&63]+mi[128|y>>6&63]+mi[128|y&63]}u+=d.join("")}return u};function B3(t){return!t||typeof t!="object"?!1:!!(t.constructor&&t.constructor.isBuffer&&t.constructor.isBuffer(t))}function pT(t,e){if(Qt(t)){const n=[];for(let i=0;i<t.length;i+=1)n.push(e(t[i]));return n}return e(t)}const iN={brackets(t){return String(t)+"[]"},comma:"comma",indices(t,e){return String(t)+"["+e+"]"},repeat(t){return String(t)}},oN=function(t,e){Array.prototype.push.apply(t,Qt(e)?e:[e])};let hT;const vt={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:k3,encodeValuesOnly:!1,format:tN,formatter:nN,indices:!1,serializeDate(t){return(hT??(hT=Function.prototype.call.bind(Date.prototype.toISOString)))(t)},skipNulls:!1,strictNullHandling:!1};function H3(t){return typeof t=="string"||typeof t=="number"||typeof t=="boolean"||typeof t=="symbol"||typeof t=="bigint"}const yg={};function rN(t,e,n,i,r,a,u,c,p,d,m,y,S,E,C,T,x,M){let I=t,N=M,D=0,U=!1;for(;(N=N.get(yg))!==void 0&&!U;){const X=N.get(t);if(D+=1,typeof X<"u"){if(X===D)throw new RangeError("Cyclic object value");U=!0}typeof N.get(yg)>"u"&&(D=0)}if(typeof d=="function"?I=d(e,I):I instanceof Date?I=S?.(I):n==="comma"&&Qt(I)&&(I=pT(I,function(X){return X instanceof Date?S?.(X):X})),I===null){if(a)return p&&!T?p(e,vt.encoder,x,"key",E):e;I=""}if(H3(I)||B3(I)){if(p){const X=T?e:p(e,vt.encoder,x,"key",E);return[C?.(X)+"="+C?.(p(I,vt.encoder,x,"value",E))]}return[C?.(e)+"="+C?.(String(I))]}const k=[];if(typeof I>"u")return k;let O;if(n==="comma"&&Qt(I))T&&p&&(I=pT(I,p)),O=[{value:I.length>0?I.join(",")||null:void 0}];else if(Qt(d))O=d;else{const X=Object.keys(I);O=m?X.sort(m):X}const q=c?String(e).replace(/\./g,"%2E"):String(e),J=i&&Qt(I)&&I.length===1?q+"[]":q;if(r&&Qt(I)&&I.length===0)return J+"[]";for(let X=0;X<O.length;++X){const j=O[X],re=typeof j=="object"&&typeof j.value<"u"?j.value:I[j];if(u&&re===null)continue;const ie=y&&c?j.replace(/\./g,"%2E"):j,ae=Qt(I)?typeof n=="function"?n(J,ie):J:J+(y?"."+ie:"["+ie+"]");M.set(t,D);const de=new WeakMap;de.set(yg,M),oN(k,rN(re,ae,n,i,r,a,u,c,n==="comma"&&T&&Qt(I)?null:p,d,m,y,S,E,C,T,x,de))}return k}function G3(t=vt){if(typeof t.allowEmptyArrays<"u"&&typeof t.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof t.encodeDotInKeys<"u"&&typeof t.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(t.encoder!==null&&typeof t.encoder<"u"&&typeof t.encoder!="function")throw new TypeError("Encoder has to be a function.");const e=t.charset||vt.charset;if(typeof t.charset<"u"&&t.charset!=="utf-8"&&t.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");let n=tN;if(typeof t.format<"u"){if(!Ev(dT,t.format))throw new TypeError("Unknown format option provided.");n=t.format}const i=dT[n];let r=vt.filter;(typeof t.filter=="function"||Qt(t.filter))&&(r=t.filter);let a;if(t.arrayFormat&&t.arrayFormat in iN?a=t.arrayFormat:"indices"in t?a=t.indices?"indices":"repeat":a=vt.arrayFormat,"commaRoundTrip"in t&&typeof t.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");const u=typeof t.allowDots>"u"?t.encodeDotInKeys?!0:vt.allowDots:!!t.allowDots;return{addQueryPrefix:typeof t.addQueryPrefix=="boolean"?t.addQueryPrefix:vt.addQueryPrefix,allowDots:u,allowEmptyArrays:typeof t.allowEmptyArrays=="boolean"?!!t.allowEmptyArrays:vt.allowEmptyArrays,arrayFormat:a,charset:e,charsetSentinel:typeof t.charsetSentinel=="boolean"?t.charsetSentinel:vt.charsetSentinel,commaRoundTrip:!!t.commaRoundTrip,delimiter:typeof t.delimiter>"u"?vt.delimiter:t.delimiter,encode:typeof t.encode=="boolean"?t.encode:vt.encode,encodeDotInKeys:typeof t.encodeDotInKeys=="boolean"?t.encodeDotInKeys:vt.encodeDotInKeys,encoder:typeof t.encoder=="function"?t.encoder:vt.encoder,encodeValuesOnly:typeof t.encodeValuesOnly=="boolean"?t.encodeValuesOnly:vt.encodeValuesOnly,filter:r,format:n,formatter:i,serializeDate:typeof t.serializeDate=="function"?t.serializeDate:vt.serializeDate,skipNulls:typeof t.skipNulls=="boolean"?t.skipNulls:vt.skipNulls,sort:typeof t.sort=="function"?t.sort:null,strictNullHandling:typeof t.strictNullHandling=="boolean"?t.strictNullHandling:vt.strictNullHandling}}function F3(t,e={}){let n=t;const i=G3(e);let r,a;typeof i.filter=="function"?(a=i.filter,n=a("",n)):Qt(i.filter)&&(a=i.filter,r=a);const u=[];if(typeof n!="object"||n===null)return"";const c=iN[i.arrayFormat],p=c==="comma"&&i.commaRoundTrip;r||(r=Object.keys(n)),i.sort&&r.sort(i.sort);const d=new WeakMap;for(let S=0;S<r.length;++S){const E=r[S];i.skipNulls&&n[E]===null||oN(u,rN(n[E],E,c,p,i.allowEmptyArrays,i.strictNullHandling,i.skipNulls,i.encodeDotInKeys,i.encode?i.encoder:null,i.filter,i.sort,i.allowDots,i.serializeDate,i.format,i.formatter,i.encodeValuesOnly,i.charset,d))}const m=u.join(i.delimiter);let y=i.addQueryPrefix===!0?"?":"";return i.charsetSentinel&&(i.charset==="iso-8859-1"?y+="utf8=%26%2310003%3B&":y+="utf8=%E2%9C%93&"),m.length>0?y+m:""}function $3(t){let e=0;for(const r of t)e+=r.length;const n=new Uint8Array(e);let i=0;for(const r of t)n.set(r,i),i+=r.length;return n}let mT;function Dy(t){let e;return(mT??(e=new globalThis.TextEncoder,mT=e.encode.bind(e)))(t)}let gT;function vT(t){let e;return(gT??(e=new globalThis.TextDecoder,gT=e.decode.bind(e)))(t)}var pn,hn;class sp{constructor(){pn.set(this,void 0),hn.set(this,void 0),Ce(this,pn,new Uint8Array),Ce(this,hn,null)}decode(e){if(e==null)return[];const n=e instanceof ArrayBuffer?new Uint8Array(e):typeof e=="string"?Dy(e):e;Ce(this,pn,$3([V(this,pn,"f"),n]));const i=[];let r;for(;(r=V3(V(this,pn,"f"),V(this,hn,"f")))!=null;){if(r.carriage&&V(this,hn,"f")==null){Ce(this,hn,r.index);continue}if(V(this,hn,"f")!=null&&(r.index!==V(this,hn,"f")+1||r.carriage)){i.push(vT(V(this,pn,"f").subarray(0,V(this,hn,"f")-1))),Ce(this,pn,V(this,pn,"f").subarray(V(this,hn,"f"))),Ce(this,hn,null);continue}const a=V(this,hn,"f")!==null?r.preceding-1:r.preceding,u=vT(V(this,pn,"f").subarray(0,a));i.push(u),Ce(this,pn,V(this,pn,"f").subarray(r.index)),Ce(this,hn,null)}return i}flush(){return V(this,pn,"f").length?this.decode(`
`):[]}}pn=new WeakMap,hn=new WeakMap;sp.NEWLINE_CHARS=new Set([`
`,"\r"]);sp.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function V3(t,e){for(let r=e??0;r<t.length;r++){if(t[r]===10)return{preceding:r,index:r+1,carriage:!1};if(t[r]===13)return{preceding:r,index:r+1,carriage:!0}}return null}function z3(t){for(let i=0;i<t.length-1;i++){if(t[i]===10&&t[i+1]===10||t[i]===13&&t[i+1]===13)return i+2;if(t[i]===13&&t[i+1]===10&&i+3<t.length&&t[i+2]===13&&t[i+3]===10)return i+4}return-1}const Ed={off:0,error:200,warn:300,info:400,debug:500},yT=(t,e,n)=>{if(t){if(T3(Ed,t))return t;Mt(n).warn(`${e} was set to ${JSON.stringify(t)}, expected one of ${JSON.stringify(Object.keys(Ed))}`)}};function kl(){}function wf(t,e,n){return!e||Ed[t]>Ed[n]?kl:e[t].bind(e)}const q3={error:kl,warn:kl,info:kl,debug:kl};let _T=new WeakMap;function Mt(t){const e=t.logger,n=t.logLevel??"off";if(!e)return q3;const i=_T.get(e);if(i&&i[0]===n)return i[1];const r={error:wf("error",e,n),warn:wf("warn",e,n),info:wf("info",e,n),debug:wf("debug",e,n)};return _T.set(e,[n,r]),r}const Ir=t=>(t.options&&(t.options={...t.options},delete t.options.headers),t.headers&&(t.headers=Object.fromEntries((t.headers instanceof Headers?[...t.headers]:Object.entries(t.headers)).map(([e,n])=>[e,e.toLowerCase()==="authorization"||e.toLowerCase()==="cookie"||e.toLowerCase()==="set-cookie"?"***":n]))),"retryOfRequestLogID"in t&&(t.retryOfRequestLogID&&(t.retryOf=t.retryOfRequestLogID),delete t.retryOfRequestLogID),t);var Dl;class Si{constructor(e,n,i){this.iterator=e,Dl.set(this,void 0),this.controller=n,Ce(this,Dl,i)}static fromSSEResponse(e,n,i){let r=!1;const a=i?Mt(i):console;async function*u(){if(r)throw new Se("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let c=!1;try{for await(const p of J3(e,n))if(!c){if(p.data.startsWith("[DONE]")){c=!0;continue}if(p.event===null||!p.event.startsWith("thread.")){let d;try{d=JSON.parse(p.data)}catch(m){throw a.error("Could not parse message into JSON:",p.data),a.error("From chunk:",p.raw),m}if(d&&d.error)throw new It(void 0,d.error,void 0,e.headers);yield d}else{let d;try{d=JSON.parse(p.data)}catch(m){throw console.error("Could not parse message into JSON:",p.data),console.error("From chunk:",p.raw),m}if(p.event=="error")throw new It(void 0,d.error,d.message,void 0);yield{event:p.event,data:d}}}c=!0}catch(p){if(_v(p))return;throw p}finally{c||n.abort()}}return new Si(u,n,i)}static fromReadableStream(e,n,i){let r=!1;async function*a(){const c=new sp,p=eN(e);for await(const d of p)for(const m of c.decode(d))yield m;for(const d of c.flush())yield d}async function*u(){if(r)throw new Se("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let c=!1;try{for await(const p of a())c||p&&(yield JSON.parse(p));c=!0}catch(p){if(_v(p))return;throw p}finally{c||n.abort()}}return new Si(u,n,i)}[(Dl=new WeakMap,Symbol.asyncIterator)](){return this.iterator()}tee(){const e=[],n=[],i=this.iterator(),r=a=>({next:()=>{if(a.length===0){const u=i.next();e.push(u),n.push(u)}return a.shift()}});return[new Si(()=>r(e),this.controller,V(this,Dl,"f")),new Si(()=>r(n),this.controller,V(this,Dl,"f"))]}toReadableStream(){const e=this;let n;return QM({async start(){n=e[Symbol.asyncIterator]()},async pull(i){try{const{value:r,done:a}=await n.next();if(a)return i.close();const u=Dy(JSON.stringify(r)+`
`);i.enqueue(u)}catch(r){i.error(r)}},async cancel(){await n.return?.()}})}}async function*J3(t,e){if(!t.body)throw e.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new Se("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new Se("Attempted to iterate over a response with no body");const n=new K3,i=new sp,r=eN(t.body);for await(const a of Y3(r))for(const u of i.decode(a)){const c=n.decode(u);c&&(yield c)}for(const a of i.flush()){const u=n.decode(a);u&&(yield u)}}async function*Y3(t){let e=new Uint8Array;for await(const n of t){if(n==null)continue;const i=n instanceof ArrayBuffer?new Uint8Array(n):typeof n=="string"?Dy(n):n;let r=new Uint8Array(e.length+i.length);r.set(e),r.set(i,e.length),e=r;let a;for(;(a=z3(e))!==-1;)yield e.slice(0,a),e=e.slice(a)}e.length>0&&(yield e)}class K3{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const a={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],a}if(this.chunks.push(e),e.startsWith(":"))return null;let[n,i,r]=X3(e,":");return r.startsWith(" ")&&(r=r.substring(1)),n==="event"?this.event=r:n==="data"&&this.data.push(r),null}}function X3(t,e){const n=t.indexOf(e);return n!==-1?[t.substring(0,n),e,t.substring(n+e.length)]:[t,"",""]}async function sN(t,e){const{response:n,requestLogID:i,retryOfRequestLogID:r,startTime:a}=e,u=await(async()=>{if(e.options.stream)return Mt(t).debug("response",n.status,n.url,n.headers,n.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(n,e.controller,t):Si.fromSSEResponse(n,e.controller,t);if(n.status===204)return null;if(e.options.__binaryResponse)return n;const p=n.headers.get("content-type")?.split(";")[0]?.trim();if(p?.includes("application/json")||p?.endsWith("+json")){const y=await n.json();return aN(y,n)}return await n.text()})();return Mt(t).debug(`[${i}] response parsed`,Ir({retryOfRequestLogID:r,url:n.url,status:n.status,body:u,durationMs:Date.now()-a})),u}function aN(t,e){return!t||typeof t!="object"||Array.isArray(t)?t:Object.defineProperty(t,"_request_id",{value:e.headers.get("x-request-id"),enumerable:!1})}var Bl;class ap extends Promise{constructor(e,n,i=sN){super(r=>{r(null)}),this.responsePromise=n,this.parseResponse=i,Bl.set(this,void 0),Ce(this,Bl,e)}_thenUnwrap(e){return new ap(V(this,Bl,"f"),this.responsePromise,async(n,i)=>aN(e(await this.parseResponse(n,i),i),i.response))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:n,request_id:n.headers.get("x-request-id")}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(e=>this.parseResponse(V(this,Bl,"f"),e))),this.parsedPromise}then(e,n){return this.parse().then(e,n)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}Bl=new WeakMap;var Cf;class Oy{constructor(e,n,i,r){Cf.set(this,void 0),Ce(this,Cf,e),this.options=r,this.response=n,this.body=i}hasNextPage(){return this.getPaginatedItems().length?this.nextPageRequestOptions()!=null:!1}async getNextPage(){const e=this.nextPageRequestOptions();if(!e)throw new Se("No next page expected; please check `.hasNextPage()` before calling `.getNextPage()`.");return await V(this,Cf,"f").requestAPIList(this.constructor,e)}async*iterPages(){let e=this;for(yield e;e.hasNextPage();)e=await e.getNextPage(),yield e}async*[(Cf=new WeakMap,Symbol.asyncIterator)](){for await(const e of this.iterPages())for(const n of e.getPaginatedItems())yield n}}class W3 extends ap{constructor(e,n,i){super(e,n,async(r,a)=>new i(r,a.response,await sN(r,a),a.options))}async*[Symbol.asyncIterator](){const e=await this;for await(const n of e)yield n}}class lp extends Oy{constructor(e,n,i,r){super(e,n,i,r),this.data=i.data||[],this.object=i.object}getPaginatedItems(){return this.data??[]}nextPageRequestOptions(){return null}}class ht extends Oy{constructor(e,n,i,r){super(e,n,i,r),this.data=i.data||[],this.has_more=i.has_more||!1}getPaginatedItems(){return this.data??[]}hasNextPage(){return this.has_more===!1?!1:super.hasNextPage()}nextPageRequestOptions(){const e=this.getPaginatedItems(),n=e[e.length-1]?.id;return n?{...this.options,query:{...jM(this.options.query),after:n}}:null}}class bd extends Oy{constructor(e,n,i,r){super(e,n,i,r),this.data=i.data||[],this.has_more=i.has_more||!1,this.last_id=i.last_id||""}getPaginatedItems(){return this.data??[]}hasNextPage(){return this.has_more===!1?!1:super.hasNextPage()}nextPageRequestOptions(){const e=this.last_id;return e?{...this.options,query:{...jM(this.options.query),after:e}}:null}}const lN=()=>{if(typeof File>"u"){const{process:t}=globalThis,e=typeof t?.versions?.node=="string"&&parseInt(t.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(e?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function jl(t,e,n){return lN(),new File(t,e??"unknown_file",n)}function qf(t){return(typeof t=="object"&&t!==null&&("name"in t&&t.name&&String(t.name)||"url"in t&&t.url&&String(t.url)||"filename"in t&&t.filename&&String(t.filename)||"path"in t&&t.path&&String(t.path))||"").split(/[\\/]/).pop()||void 0}const Py=t=>t!=null&&typeof t=="object"&&typeof t[Symbol.asyncIterator]=="function",ST=async(t,e)=>bv(t.body)?{...t,body:await uN(t.body,e)}:t,Kr=async(t,e)=>({...t,body:await uN(t.body,e)}),ET=new WeakMap;function j3(t){const e=typeof t=="function"?t:t.fetch,n=ET.get(e);if(n)return n;const i=(async()=>{try{const r="Response"in e?e.Response:(await e("data:,")).constructor,a=new FormData;return a.toString()!==await new r(a).text()}catch{return!0}})();return ET.set(e,i),i}const uN=async(t,e)=>{if(!await j3(e))throw new TypeError("The provided fetch function does not support file uploads with the current global FormData class.");const n=new FormData;return await Promise.all(Object.entries(t||{}).map(([i,r])=>wv(n,i,r))),n},cN=t=>t instanceof Blob&&"name"in t,Q3=t=>typeof t=="object"&&t!==null&&(t instanceof Response||Py(t)||cN(t)),bv=t=>{if(Q3(t))return!0;if(Array.isArray(t))return t.some(bv);if(t&&typeof t=="object"){for(const e in t)if(bv(t[e]))return!0}return!1},wv=async(t,e,n)=>{if(n!==void 0){if(n==null)throw new TypeError(`Received null for "${e}"; to pass null in FormData, you must use the string 'null'`);if(typeof n=="string"||typeof n=="number"||typeof n=="boolean")t.append(e,String(n));else if(n instanceof Response)t.append(e,jl([await n.blob()],qf(n)));else if(Py(n))t.append(e,jl([await new Response(ZM(n)).blob()],qf(n)));else if(cN(n))t.append(e,n,qf(n));else if(Array.isArray(n))await Promise.all(n.map(i=>wv(t,e+"[]",i)));else if(typeof n=="object")await Promise.all(Object.entries(n).map(([i,r])=>wv(t,`${e}[${i}]`,r)));else throw new TypeError(`Invalid value given to form, expected a string, number, boolean, object, Array, File or Blob but got ${n} instead`)}},fN=t=>t!=null&&typeof t=="object"&&typeof t.size=="number"&&typeof t.type=="string"&&typeof t.text=="function"&&typeof t.slice=="function"&&typeof t.arrayBuffer=="function",Z3=t=>t!=null&&typeof t=="object"&&typeof t.name=="string"&&typeof t.lastModified=="number"&&fN(t),e4=t=>t!=null&&typeof t=="object"&&typeof t.url=="string"&&typeof t.blob=="function";async function t4(t,e,n){if(lN(),t=await t,Z3(t))return t instanceof File?t:jl([await t.arrayBuffer()],t.name);if(e4(t)){const r=await t.blob();return e||(e=new URL(t.url).pathname.split(/[\\/]/).pop()),jl(await Cv(r),e,n)}const i=await Cv(t);if(e||(e=qf(t)),!n?.type){const r=i.find(a=>typeof a=="object"&&"type"in a&&a.type);typeof r=="string"&&(n={...n,type:r})}return jl(i,e,n)}async function Cv(t){let e=[];if(typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer)e.push(t);else if(fN(t))e.push(t instanceof Blob?t:await t.arrayBuffer());else if(Py(t))for await(const n of t)e.push(...await Cv(n));else{const n=t?.constructor?.name;throw new Error(`Unexpected data type: ${typeof t}${n?`; constructor: ${n}`:""}${n4(t)}`)}return e}function n4(t){return typeof t!="object"||t===null?"":`; props: [${Object.getOwnPropertyNames(t).map(n=>`"${n}"`).join(", ")}]`}class ye{constructor(e){this._client=e}}function dN(t){return t.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const bT=Object.freeze(Object.create(null)),i4=(t=dN)=>function(n,...i){if(n.length===1)return n[0];let r=!1;const a=[],u=n.reduce((m,y,S)=>{/[?#]/.test(y)&&(r=!0);const E=i[S];let C=(r?encodeURIComponent:t)(""+E);return S!==i.length&&(E==null||typeof E=="object"&&E.toString===Object.getPrototypeOf(Object.getPrototypeOf(E.hasOwnProperty??bT)??bT)?.toString)&&(C=E+"",a.push({start:m.length+y.length,length:C.length,error:`Value of type ${Object.prototype.toString.call(E).slice(8,-1)} is not a valid path parameter`})),m+y+(S===i.length?"":C)},""),c=u.split(/[?#]/,1)[0],p=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let d;for(;(d=p.exec(c))!==null;)a.push({start:d.index,length:d[0].length,error:`Value "${d[0]}" can't be safely passed as a path parameter`});if(a.sort((m,y)=>m.start-y.start),a.length>0){let m=0;const y=a.reduce((S,E)=>{const C=" ".repeat(E.start-m),T="^".repeat(E.length);return m=E.start+E.length,S+C+T},"");throw new Se(`Path parameters result in path with invalid segments:
${a.map(S=>S.error).join(`
`)}
${u}
${y}`)}return u},oe=i4(dN);let pN=class extends ye{list(e,n={},i){return this._client.getAPIList(oe`/chat/completions/${e}/messages`,ht,{query:n,...i})}};function wd(t){return t!==void 0&&"function"in t&&t.function!==void 0}function Ly(t){return t?.$brand==="auto-parseable-response-format"}function Ou(t){return t?.$brand==="auto-parseable-tool"}function o4(t,e){return!e||!hN(e)?{...t,choices:t.choices.map(n=>(mN(n.message.tool_calls),{...n,message:{...n.message,parsed:null,...n.message.tool_calls?{tool_calls:n.message.tool_calls}:void 0}}))}:Uy(t,e)}function Uy(t,e){const n=t.choices.map(i=>{if(i.finish_reason==="length")throw new XM;if(i.finish_reason==="content_filter")throw new WM;return mN(i.message.tool_calls),{...i,message:{...i.message,...i.message.tool_calls?{tool_calls:i.message.tool_calls?.map(r=>s4(e,r))??void 0}:void 0,parsed:i.message.content&&!i.message.refusal?r4(e,i.message.content):null}}});return{...t,choices:n}}function r4(t,e){return t.response_format?.type!=="json_schema"?null:t.response_format?.type==="json_schema"?"$parseRaw"in t.response_format?t.response_format.$parseRaw(e):JSON.parse(e):null}function s4(t,e){const n=t.tools?.find(i=>wd(i)&&i.function?.name===e.function.name);return{...e,function:{...e.function,parsed_arguments:Ou(n)?n.$parseRaw(e.function.arguments):n?.function.strict?JSON.parse(e.function.arguments):null}}}function a4(t,e){if(!t||!("tools"in t)||!t.tools)return!1;const n=t.tools?.find(i=>wd(i)&&i.function?.name===e.function.name);return wd(n)&&(Ou(n)||n?.function.strict||!1)}function hN(t){return Ly(t.response_format)?!0:t.tools?.some(e=>Ou(e)||e.type==="function"&&e.function.strict===!0)??!1}function mN(t){for(const e of t||[])if(e.type!=="function")throw new Se(`Currently only \`function\` tool calls are supported; Received \`${e.type}\``)}function l4(t){for(const e of t??[]){if(e.type!=="function")throw new Se(`Currently only \`function\` tool types support auto-parsing; Received \`${e.type}\``);if(e.function.strict!==!0)throw new Se(`The \`${e.function.name}\` tool is not marked with \`strict: true\`. Only strict function tools can be auto-parsed`)}}const Cd=t=>t?.role==="assistant",gN=t=>t?.role==="tool";var Tv,Jf,Yf,Hl,Gl,Kf,Fl,Qi,$l,Td,Ad,Zs,vN;class ky{constructor(){Tv.add(this),this.controller=new AbortController,Jf.set(this,void 0),Yf.set(this,()=>{}),Hl.set(this,()=>{}),Gl.set(this,void 0),Kf.set(this,()=>{}),Fl.set(this,()=>{}),Qi.set(this,{}),$l.set(this,!1),Td.set(this,!1),Ad.set(this,!1),Zs.set(this,!1),Ce(this,Jf,new Promise((e,n)=>{Ce(this,Yf,e,"f"),Ce(this,Hl,n,"f")})),Ce(this,Gl,new Promise((e,n)=>{Ce(this,Kf,e,"f"),Ce(this,Fl,n,"f")})),V(this,Jf,"f").catch(()=>{}),V(this,Gl,"f").catch(()=>{})}_run(e){setTimeout(()=>{e().then(()=>{this._emitFinal(),this._emit("end")},V(this,Tv,"m",vN).bind(this))},0)}_connected(){this.ended||(V(this,Yf,"f").call(this),this._emit("connect"))}get ended(){return V(this,$l,"f")}get errored(){return V(this,Td,"f")}get aborted(){return V(this,Ad,"f")}abort(){this.controller.abort()}on(e,n){return(V(this,Qi,"f")[e]||(V(this,Qi,"f")[e]=[])).push({listener:n}),this}off(e,n){const i=V(this,Qi,"f")[e];if(!i)return this;const r=i.findIndex(a=>a.listener===n);return r>=0&&i.splice(r,1),this}once(e,n){return(V(this,Qi,"f")[e]||(V(this,Qi,"f")[e]=[])).push({listener:n,once:!0}),this}emitted(e){return new Promise((n,i)=>{Ce(this,Zs,!0),e!=="error"&&this.once("error",i),this.once(e,n)})}async done(){Ce(this,Zs,!0),await V(this,Gl,"f")}_emit(e,...n){if(V(this,$l,"f"))return;e==="end"&&(Ce(this,$l,!0),V(this,Kf,"f").call(this));const i=V(this,Qi,"f")[e];if(i&&(V(this,Qi,"f")[e]=i.filter(r=>!r.once),i.forEach(({listener:r})=>r(...n))),e==="abort"){const r=n[0];!V(this,Zs,"f")&&!i?.length&&Promise.reject(r),V(this,Hl,"f").call(this,r),V(this,Fl,"f").call(this,r),this._emit("end");return}if(e==="error"){const r=n[0];!V(this,Zs,"f")&&!i?.length&&Promise.reject(r),V(this,Hl,"f").call(this,r),V(this,Fl,"f").call(this,r),this._emit("end")}}_emitFinal(){}}Jf=new WeakMap,Yf=new WeakMap,Hl=new WeakMap,Gl=new WeakMap,Kf=new WeakMap,Fl=new WeakMap,Qi=new WeakMap,$l=new WeakMap,Td=new WeakMap,Ad=new WeakMap,Zs=new WeakMap,Tv=new WeakSet,vN=function(e){if(Ce(this,Td,!0),e instanceof Error&&e.name==="AbortError"&&(e=new Bn),e instanceof Bn)return Ce(this,Ad,!0),this._emit("abort",e);if(e instanceof Se)return this._emit("error",e);if(e instanceof Error){const n=new Se(e.message);return n.cause=e,this._emit("error",n)}return this._emit("error",new Se(String(e)))};function u4(t){return typeof t.parse=="function"}var Ht,Av,xd,xv,Rv,Mv,yN,_N;const c4=10;class SN extends ky{constructor(){super(...arguments),Ht.add(this),this._chatCompletions=[],this.messages=[]}_addChatCompletion(e){this._chatCompletions.push(e),this._emit("chatCompletion",e);const n=e.choices[0]?.message;return n&&this._addMessage(n),e}_addMessage(e,n=!0){if("content"in e||(e.content=null),this.messages.push(e),n){if(this._emit("message",e),gN(e)&&e.content)this._emit("functionToolCallResult",e.content);else if(Cd(e)&&e.tool_calls)for(const i of e.tool_calls)i.type==="function"&&this._emit("functionToolCall",i.function)}}async finalChatCompletion(){await this.done();const e=this._chatCompletions[this._chatCompletions.length-1];if(!e)throw new Se("stream ended without producing a ChatCompletion");return e}async finalContent(){return await this.done(),V(this,Ht,"m",Av).call(this)}async finalMessage(){return await this.done(),V(this,Ht,"m",xd).call(this)}async finalFunctionToolCall(){return await this.done(),V(this,Ht,"m",xv).call(this)}async finalFunctionToolCallResult(){return await this.done(),V(this,Ht,"m",Rv).call(this)}async totalUsage(){return await this.done(),V(this,Ht,"m",Mv).call(this)}allChatCompletions(){return[...this._chatCompletions]}_emitFinal(){const e=this._chatCompletions[this._chatCompletions.length-1];e&&this._emit("finalChatCompletion",e);const n=V(this,Ht,"m",xd).call(this);n&&this._emit("finalMessage",n);const i=V(this,Ht,"m",Av).call(this);i&&this._emit("finalContent",i);const r=V(this,Ht,"m",xv).call(this);r&&this._emit("finalFunctionToolCall",r);const a=V(this,Ht,"m",Rv).call(this);a!=null&&this._emit("finalFunctionToolCallResult",a),this._chatCompletions.some(u=>u.usage)&&this._emit("totalUsage",V(this,Ht,"m",Mv).call(this))}async _createChatCompletion(e,n,i){const r=i?.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",()=>this.controller.abort())),V(this,Ht,"m",yN).call(this,n);const a=await e.chat.completions.create({...n,stream:!1},{...i,signal:this.controller.signal});return this._connected(),this._addChatCompletion(Uy(a,n))}async _runChatCompletion(e,n,i){for(const r of n.messages)this._addMessage(r,!1);return await this._createChatCompletion(e,n,i)}async _runTools(e,n,i){const r="tool",{tool_choice:a="auto",stream:u,...c}=n,p=typeof a!="string"&&a.type==="function"&&a?.function?.name,{maxChatCompletions:d=c4}=i||{},m=n.tools.map(E=>{if(Ou(E)){if(!E.$callback)throw new Se("Tool given to `.runTools()` that does not have an associated function");return{type:"function",function:{function:E.$callback,name:E.function.name,description:E.function.description||"",parameters:E.function.parameters,parse:E.$parseRaw,strict:!0}}}return E}),y={};for(const E of m)E.type==="function"&&(y[E.function.name||E.function.function.name]=E.function);const S="tools"in n?m.map(E=>E.type==="function"?{type:"function",function:{name:E.function.name||E.function.function.name,parameters:E.function.parameters,description:E.function.description,strict:E.function.strict}}:E):void 0;for(const E of n.messages)this._addMessage(E,!1);for(let E=0;E<d;++E){const T=(await this._createChatCompletion(e,{...c,tool_choice:a,tools:S,messages:[...this.messages]},i)).choices[0]?.message;if(!T)throw new Se("missing message in ChatCompletion response");if(!T.tool_calls?.length)return;for(const x of T.tool_calls){if(x.type!=="function")continue;const M=x.id,{name:I,arguments:N}=x.function,D=y[I];if(D){if(p&&p!==I){const q=`Invalid tool_call: ${JSON.stringify(I)}. ${JSON.stringify(p)} requested. Please try again`;this._addMessage({role:r,tool_call_id:M,content:q});continue}}else{const q=`Invalid tool_call: ${JSON.stringify(I)}. Available options are: ${Object.keys(y).map(J=>JSON.stringify(J)).join(", ")}. Please try again`;this._addMessage({role:r,tool_call_id:M,content:q});continue}let U;try{U=u4(D)?await D.parse(N):N}catch(q){const J=q instanceof Error?q.message:String(q);this._addMessage({role:r,tool_call_id:M,content:J});continue}const k=await D.function(U,this),O=V(this,Ht,"m",_N).call(this,k);if(this._addMessage({role:r,tool_call_id:M,content:O}),p)return}}}}Ht=new WeakSet,Av=function(){return V(this,Ht,"m",xd).call(this).content??null},xd=function(){let e=this.messages.length;for(;e-- >0;){const n=this.messages[e];if(Cd(n))return{...n,content:n.content??null,refusal:n.refusal??null}}throw new Se("stream ended without producing a ChatCompletionMessage with role=assistant")},xv=function(){for(let e=this.messages.length-1;e>=0;e--){const n=this.messages[e];if(Cd(n)&&n?.tool_calls?.length)return n.tool_calls.filter(i=>i.type==="function").at(-1)?.function}},Rv=function(){for(let e=this.messages.length-1;e>=0;e--){const n=this.messages[e];if(gN(n)&&n.content!=null&&typeof n.content=="string"&&this.messages.some(i=>i.role==="assistant"&&i.tool_calls?.some(r=>r.type==="function"&&r.id===n.tool_call_id)))return n.content}},Mv=function(){const e={completion_tokens:0,prompt_tokens:0,total_tokens:0};for(const{usage:n}of this._chatCompletions)n&&(e.completion_tokens+=n.completion_tokens,e.prompt_tokens+=n.prompt_tokens,e.total_tokens+=n.total_tokens);return e},yN=function(e){if(e.n!=null&&e.n>1)throw new Se("ChatCompletion convenience helpers only support n=1 at this time. To use n>1, please use chat.completions.create() directly.")},_N=function(e){return typeof e=="string"?e:e===void 0?"undefined":JSON.stringify(e)};class By extends SN{static runTools(e,n,i){const r=new By,a={...i,headers:{...i?.headers,"X-Stainless-Helper-Method":"runTools"}};return r._run(()=>r._runTools(e,n,a)),r}_addMessage(e,n=!0){super._addMessage(e,n),Cd(e)&&e.content&&this._emit("content",e.content)}}const EN=1,bN=2,wN=4,CN=8,TN=16,AN=32,xN=64,RN=128,MN=256,NN=RN|MN,IN=TN|AN|NN|xN,DN=EN|bN|IN,ON=wN|CN,f4=DN|ON,St={STR:EN,NUM:bN,ARR:wN,OBJ:CN,NULL:TN,BOOL:AN,NAN:xN,INFINITY:RN,MINUS_INFINITY:MN,INF:NN,SPECIAL:IN,ATOM:DN,COLLECTION:ON,ALL:f4};class d4 extends Error{}class p4 extends Error{}function h4(t,e=St.ALL){if(typeof t!="string")throw new TypeError(`expecting str, got ${typeof t}`);if(!t.trim())throw new Error(`${t} is empty`);return m4(t.trim(),e)}const m4=(t,e)=>{const n=t.length;let i=0;const r=S=>{throw new d4(`${S} at position ${i}`)},a=S=>{throw new p4(`${S} at position ${i}`)},u=()=>(y(),i>=n&&r("Unexpected end of input"),t[i]==='"'?c():t[i]==="{"?p():t[i]==="["?d():t.substring(i,i+4)==="null"||St.NULL&e&&n-i<4&&"null".startsWith(t.substring(i))?(i+=4,null):t.substring(i,i+4)==="true"||St.BOOL&e&&n-i<4&&"true".startsWith(t.substring(i))?(i+=4,!0):t.substring(i,i+5)==="false"||St.BOOL&e&&n-i<5&&"false".startsWith(t.substring(i))?(i+=5,!1):t.substring(i,i+8)==="Infinity"||St.INFINITY&e&&n-i<8&&"Infinity".startsWith(t.substring(i))?(i+=8,1/0):t.substring(i,i+9)==="-Infinity"||St.MINUS_INFINITY&e&&1<n-i&&n-i<9&&"-Infinity".startsWith(t.substring(i))?(i+=9,-1/0):t.substring(i,i+3)==="NaN"||St.NAN&e&&n-i<3&&"NaN".startsWith(t.substring(i))?(i+=3,NaN):m()),c=()=>{const S=i;let E=!1;for(i++;i<n&&(t[i]!=='"'||E&&t[i-1]==="\\");)E=t[i]==="\\"?!E:!1,i++;if(t.charAt(i)=='"')try{return JSON.parse(t.substring(S,++i-Number(E)))}catch(C){a(String(C))}else if(St.STR&e)try{return JSON.parse(t.substring(S,i-Number(E))+'"')}catch{return JSON.parse(t.substring(S,t.lastIndexOf("\\"))+'"')}r("Unterminated string literal")},p=()=>{i++,y();const S={};try{for(;t[i]!=="}";){if(y(),i>=n&&St.OBJ&e)return S;const E=c();y(),i++;try{const C=u();Object.defineProperty(S,E,{value:C,writable:!0,enumerable:!0,configurable:!0})}catch(C){if(St.OBJ&e)return S;throw C}y(),t[i]===","&&i++}}catch{if(St.OBJ&e)return S;r("Expected '}' at end of object")}return i++,S},d=()=>{i++;const S=[];try{for(;t[i]!=="]";)S.push(u()),y(),t[i]===","&&i++}catch{if(St.ARR&e)return S;r("Expected ']' at end of array")}return i++,S},m=()=>{if(i===0){t==="-"&&St.NUM&e&&r("Not sure what '-' is");try{return JSON.parse(t)}catch(E){if(St.NUM&e)try{return t[t.length-1]==="."?JSON.parse(t.substring(0,t.lastIndexOf("."))):JSON.parse(t.substring(0,t.lastIndexOf("e")))}catch{}a(String(E))}}const S=i;for(t[i]==="-"&&i++;t[i]&&!",]}".includes(t[i]);)i++;i==n&&!(St.NUM&e)&&r("Unterminated number literal");try{return JSON.parse(t.substring(S,i))}catch{t.substring(S,i)==="-"&&St.NUM&e&&r("Not sure what '-' is");try{return JSON.parse(t.substring(S,t.lastIndexOf("e")))}catch(C){a(String(C))}}},y=()=>{for(;i<n&&` 
\r	`.includes(t[i]);)i++};return u()},wT=t=>h4(t,St.ALL^St.NUM);var gt,ji,zs,zo,_g,Tf,Sg,Eg,bg,Af,wg,CT;class su extends SN{constructor(e){super(),gt.add(this),ji.set(this,void 0),zs.set(this,void 0),zo.set(this,void 0),Ce(this,ji,e),Ce(this,zs,[])}get currentChatCompletionSnapshot(){return V(this,zo,"f")}static fromReadableStream(e){const n=new su(null);return n._run(()=>n._fromReadableStream(e)),n}static createChatCompletion(e,n,i){const r=new su(n);return r._run(()=>r._runChatCompletion(e,{...n,stream:!0},{...i,headers:{...i?.headers,"X-Stainless-Helper-Method":"stream"}})),r}async _createChatCompletion(e,n,i){super._createChatCompletion;const r=i?.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",()=>this.controller.abort())),V(this,gt,"m",_g).call(this);const a=await e.chat.completions.create({...n,stream:!0},{...i,signal:this.controller.signal});this._connected();for await(const u of a)V(this,gt,"m",Sg).call(this,u);if(a.controller.signal?.aborted)throw new Bn;return this._addChatCompletion(V(this,gt,"m",Af).call(this))}async _fromReadableStream(e,n){const i=n?.signal;i&&(i.aborted&&this.controller.abort(),i.addEventListener("abort",()=>this.controller.abort())),V(this,gt,"m",_g).call(this),this._connected();const r=Si.fromReadableStream(e,this.controller);let a;for await(const u of r)a&&a!==u.id&&this._addChatCompletion(V(this,gt,"m",Af).call(this)),V(this,gt,"m",Sg).call(this,u),a=u.id;if(r.controller.signal?.aborted)throw new Bn;return this._addChatCompletion(V(this,gt,"m",Af).call(this))}[(ji=new WeakMap,zs=new WeakMap,zo=new WeakMap,gt=new WeakSet,_g=function(){this.ended||Ce(this,zo,void 0)},Tf=function(n){let i=V(this,zs,"f")[n.index];return i||(i={content_done:!1,refusal_done:!1,logprobs_content_done:!1,logprobs_refusal_done:!1,done_tool_calls:new Set,current_tool_call_index:null},V(this,zs,"f")[n.index]=i,i)},Sg=function(n){if(this.ended)return;const i=V(this,gt,"m",CT).call(this,n);this._emit("chunk",n,i);for(const r of n.choices){const a=i.choices[r.index];r.delta.content!=null&&a.message?.role==="assistant"&&a.message?.content&&(this._emit("content",r.delta.content,a.message.content),this._emit("content.delta",{delta:r.delta.content,snapshot:a.message.content,parsed:a.message.parsed})),r.delta.refusal!=null&&a.message?.role==="assistant"&&a.message?.refusal&&this._emit("refusal.delta",{delta:r.delta.refusal,snapshot:a.message.refusal}),r.logprobs?.content!=null&&a.message?.role==="assistant"&&this._emit("logprobs.content.delta",{content:r.logprobs?.content,snapshot:a.logprobs?.content??[]}),r.logprobs?.refusal!=null&&a.message?.role==="assistant"&&this._emit("logprobs.refusal.delta",{refusal:r.logprobs?.refusal,snapshot:a.logprobs?.refusal??[]});const u=V(this,gt,"m",Tf).call(this,a);a.finish_reason&&(V(this,gt,"m",bg).call(this,a),u.current_tool_call_index!=null&&V(this,gt,"m",Eg).call(this,a,u.current_tool_call_index));for(const c of r.delta.tool_calls??[])u.current_tool_call_index!==c.index&&(V(this,gt,"m",bg).call(this,a),u.current_tool_call_index!=null&&V(this,gt,"m",Eg).call(this,a,u.current_tool_call_index)),u.current_tool_call_index=c.index;for(const c of r.delta.tool_calls??[]){const p=a.message.tool_calls?.[c.index];p?.type&&(p?.type==="function"?this._emit("tool_calls.function.arguments.delta",{name:p.function?.name,index:c.index,arguments:p.function.arguments,parsed_arguments:p.function.parsed_arguments,arguments_delta:c.function?.arguments??""}):(p?.type,void 0))}}},Eg=function(n,i){if(V(this,gt,"m",Tf).call(this,n).done_tool_calls.has(i))return;const a=n.message.tool_calls?.[i];if(!a)throw new Error("no tool call snapshot");if(!a.type)throw new Error("tool call snapshot missing `type`");if(a.type==="function"){const u=V(this,ji,"f")?.tools?.find(c=>wd(c)&&c.function.name===a.function.name);this._emit("tool_calls.function.arguments.done",{name:a.function.name,index:i,arguments:a.function.arguments,parsed_arguments:Ou(u)?u.$parseRaw(a.function.arguments):u?.function.strict?JSON.parse(a.function.arguments):null})}else a.type},bg=function(n){const i=V(this,gt,"m",Tf).call(this,n);if(n.message.content&&!i.content_done){i.content_done=!0;const r=V(this,gt,"m",wg).call(this);this._emit("content.done",{content:n.message.content,parsed:r?r.$parseRaw(n.message.content):null})}n.message.refusal&&!i.refusal_done&&(i.refusal_done=!0,this._emit("refusal.done",{refusal:n.message.refusal})),n.logprobs?.content&&!i.logprobs_content_done&&(i.logprobs_content_done=!0,this._emit("logprobs.content.done",{content:n.logprobs.content})),n.logprobs?.refusal&&!i.logprobs_refusal_done&&(i.logprobs_refusal_done=!0,this._emit("logprobs.refusal.done",{refusal:n.logprobs.refusal}))},Af=function(){if(this.ended)throw new Se("stream has ended, this shouldn't happen");const n=V(this,zo,"f");if(!n)throw new Se("request ended without sending any chunks");return Ce(this,zo,void 0),Ce(this,zs,[]),g4(n,V(this,ji,"f"))},wg=function(){const n=V(this,ji,"f")?.response_format;return Ly(n)?n:null},CT=function(n){var i,r,a,u;let c=V(this,zo,"f");const{choices:p,...d}=n;c?Object.assign(c,d):c=Ce(this,zo,{...d,choices:[]});for(const{delta:m,finish_reason:y,index:S,logprobs:E=null,...C}of n.choices){let T=c.choices[S];if(T||(T=c.choices[S]={finish_reason:y,index:S,message:{},logprobs:E,...C}),E)if(!T.logprobs)T.logprobs=Object.assign({},E);else{const{content:k,refusal:O,...q}=E;Object.assign(T.logprobs,q),k&&((i=T.logprobs).content??(i.content=[]),T.logprobs.content.push(...k)),O&&((r=T.logprobs).refusal??(r.refusal=[]),T.logprobs.refusal.push(...O))}if(y&&(T.finish_reason=y,V(this,ji,"f")&&hN(V(this,ji,"f")))){if(y==="length")throw new XM;if(y==="content_filter")throw new WM}if(Object.assign(T,C),!m)continue;const{content:x,refusal:M,function_call:I,role:N,tool_calls:D,...U}=m;if(Object.assign(T.message,U),M&&(T.message.refusal=(T.message.refusal||"")+M),N&&(T.message.role=N),I&&(T.message.function_call?(I.name&&(T.message.function_call.name=I.name),I.arguments&&((a=T.message.function_call).arguments??(a.arguments=""),T.message.function_call.arguments+=I.arguments)):T.message.function_call=I),x&&(T.message.content=(T.message.content||"")+x,!T.message.refusal&&V(this,gt,"m",wg).call(this)&&(T.message.parsed=wT(T.message.content))),D){T.message.tool_calls||(T.message.tool_calls=[]);for(const{index:k,id:O,type:q,function:J,...X}of D){const j=(u=T.message.tool_calls)[k]??(u[k]={});Object.assign(j,X),O&&(j.id=O),q&&(j.type=q),J&&(j.function??(j.function={name:J.name??"",arguments:""})),J?.name&&(j.function.name=J.name),J?.arguments&&(j.function.arguments+=J.arguments,a4(V(this,ji,"f"),j)&&(j.function.parsed_arguments=wT(j.function.arguments)))}}}return c},Symbol.asyncIterator)](){const e=[],n=[];let i=!1;return this.on("chunk",r=>{const a=n.shift();a?a.resolve(r):e.push(r)}),this.on("end",()=>{i=!0;for(const r of n)r.resolve(void 0);n.length=0}),this.on("abort",r=>{i=!0;for(const a of n)a.reject(r);n.length=0}),this.on("error",r=>{i=!0;for(const a of n)a.reject(r);n.length=0}),{next:async()=>e.length?{value:e.shift(),done:!1}:i?{value:void 0,done:!0}:new Promise((a,u)=>n.push({resolve:a,reject:u})).then(a=>a?{value:a,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}toReadableStream(){return new Si(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}}function g4(t,e){const{id:n,choices:i,created:r,model:a,system_fingerprint:u,...c}=t,p={...c,id:n,choices:i.map(({message:d,finish_reason:m,index:y,logprobs:S,...E})=>{if(!m)throw new Se(`missing finish_reason for choice ${y}`);const{content:C=null,function_call:T,tool_calls:x,...M}=d,I=d.role;if(!I)throw new Se(`missing role for choice ${y}`);if(T){const{arguments:N,name:D}=T;if(N==null)throw new Se(`missing function_call.arguments for choice ${y}`);if(!D)throw new Se(`missing function_call.name for choice ${y}`);return{...E,message:{content:C,function_call:{arguments:N,name:D},role:I,refusal:d.refusal??null},finish_reason:m,index:y,logprobs:S}}return x?{...E,index:y,finish_reason:m,logprobs:S,message:{...M,role:I,content:C,refusal:d.refusal??null,tool_calls:x.map((N,D)=>{const{function:U,type:k,id:O,...q}=N,{arguments:J,name:X,...j}=U||{};if(O==null)throw new Se(`missing choices[${y}].tool_calls[${D}].id
${xf(t)}`);if(k==null)throw new Se(`missing choices[${y}].tool_calls[${D}].type
${xf(t)}`);if(X==null)throw new Se(`missing choices[${y}].tool_calls[${D}].function.name
${xf(t)}`);if(J==null)throw new Se(`missing choices[${y}].tool_calls[${D}].function.arguments
${xf(t)}`);return{...q,id:O,type:k,function:{...j,name:X,arguments:J}}})}}:{...E,message:{...M,content:C,role:I,refusal:d.refusal??null},finish_reason:m,index:y,logprobs:S}}),created:r,model:a,object:"chat.completion",...u?{system_fingerprint:u}:{}};return o4(p,e)}function xf(t){return JSON.stringify(t)}class Rd extends su{static fromReadableStream(e){const n=new Rd(null);return n._run(()=>n._fromReadableStream(e)),n}static runTools(e,n,i){const r=new Rd(n),a={...i,headers:{...i?.headers,"X-Stainless-Helper-Method":"runTools"}};return r._run(()=>r._runTools(e,n,a)),r}}let Hy=class extends ye{constructor(){super(...arguments),this.messages=new pN(this._client)}create(e,n){return this._client.post("/chat/completions",{body:e,...n,stream:e.stream??!1})}retrieve(e,n){return this._client.get(oe`/chat/completions/${e}`,n)}update(e,n,i){return this._client.post(oe`/chat/completions/${e}`,{body:n,...i})}list(e={},n){return this._client.getAPIList("/chat/completions",ht,{query:e,...n})}delete(e,n){return this._client.delete(oe`/chat/completions/${e}`,n)}parse(e,n){return l4(e.tools),this._client.chat.completions.create(e,{...n,headers:{...n?.headers,"X-Stainless-Helper-Method":"chat.completions.parse"}})._thenUnwrap(i=>Uy(i,e))}runTools(e,n){return e.stream?Rd.runTools(this._client,e,n):By.runTools(this._client,e,n)}stream(e,n){return su.createChatCompletion(this._client,e,n)}};Hy.Messages=pN;class Gy extends ye{constructor(){super(...arguments),this.completions=new Hy(this._client)}}Gy.Completions=Hy;const PN=Symbol("brand.privateNullableHeaders");function*v4(t){if(!t)return;if(PN in t){const{values:i,nulls:r}=t;yield*i.entries();for(const a of r)yield[a,null];return}let e=!1,n;t instanceof Headers?n=t.entries():lT(t)?n=t:(e=!0,n=Object.entries(t??{}));for(let i of n){const r=i[0];if(typeof r!="string")throw new TypeError("expected header name to be a string");const a=lT(i[1])?i[1]:[i[1]];let u=!1;for(const c of a)c!==void 0&&(e&&!u&&(u=!0,yield[r,null]),yield[r,c])}}const he=t=>{const e=new Headers,n=new Set;for(const i of t){const r=new Set;for(const[a,u]of v4(i)){const c=a.toLowerCase();r.has(c)||(e.delete(a),r.add(c)),u===null?(e.delete(a),n.add(c)):(e.append(a,u),n.delete(c))}}return{[PN]:!0,values:e,nulls:n}};class LN extends ye{create(e,n){return this._client.post("/audio/speech",{body:e,...n,headers:he([{Accept:"application/octet-stream"},n?.headers]),__binaryResponse:!0})}}class UN extends ye{create(e,n){return this._client.post("/audio/transcriptions",Kr({body:e,...n,stream:e.stream??!1,__metadata:{model:e.model}},this._client))}}class kN extends ye{create(e,n){return this._client.post("/audio/translations",Kr({body:e,...n,__metadata:{model:e.model}},this._client))}}class Pu extends ye{constructor(){super(...arguments),this.transcriptions=new UN(this._client),this.translations=new kN(this._client),this.speech=new LN(this._client)}}Pu.Transcriptions=UN;Pu.Translations=kN;Pu.Speech=LN;class BN extends ye{create(e,n){return this._client.post("/batches",{body:e,...n})}retrieve(e,n){return this._client.get(oe`/batches/${e}`,n)}list(e={},n){return this._client.getAPIList("/batches",ht,{query:e,...n})}cancel(e,n){return this._client.post(oe`/batches/${e}/cancel`,n)}}class HN extends ye{create(e,n){return this._client.post("/assistants",{body:e,...n,headers:he([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}retrieve(e,n){return this._client.get(oe`/assistants/${e}`,{...n,headers:he([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}update(e,n,i){return this._client.post(oe`/assistants/${e}`,{body:n,...i,headers:he([{"OpenAI-Beta":"assistants=v2"},i?.headers])})}list(e={},n){return this._client.getAPIList("/assistants",ht,{query:e,...n,headers:he([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}delete(e,n){return this._client.delete(oe`/assistants/${e}`,{...n,headers:he([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}}let GN=class extends ye{create(e,n){return this._client.post("/realtime/sessions",{body:e,...n,headers:he([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}};class FN extends ye{create(e,n){return this._client.post("/realtime/transcription_sessions",{body:e,...n,headers:he([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}}let up=class extends ye{constructor(){super(...arguments),this.sessions=new GN(this._client),this.transcriptionSessions=new FN(this._client)}};up.Sessions=GN;up.TranscriptionSessions=FN;class $N extends ye{create(e,n){return this._client.post("/chatkit/sessions",{body:e,...n,headers:he([{"OpenAI-Beta":"chatkit_beta=v1"},n?.headers])})}cancel(e,n){return this._client.post(oe`/chatkit/sessions/${e}/cancel`,{...n,headers:he([{"OpenAI-Beta":"chatkit_beta=v1"},n?.headers])})}}let VN=class extends ye{retrieve(e,n){return this._client.get(oe`/chatkit/threads/${e}`,{...n,headers:he([{"OpenAI-Beta":"chatkit_beta=v1"},n?.headers])})}list(e={},n){return this._client.getAPIList("/chatkit/threads",bd,{query:e,...n,headers:he([{"OpenAI-Beta":"chatkit_beta=v1"},n?.headers])})}delete(e,n){return this._client.delete(oe`/chatkit/threads/${e}`,{...n,headers:he([{"OpenAI-Beta":"chatkit_beta=v1"},n?.headers])})}listItems(e,n={},i){return this._client.getAPIList(oe`/chatkit/threads/${e}/items`,bd,{query:n,...i,headers:he([{"OpenAI-Beta":"chatkit_beta=v1"},i?.headers])})}};class cp extends ye{constructor(){super(...arguments),this.sessions=new $N(this._client),this.threads=new VN(this._client)}}cp.Sessions=$N;cp.Threads=VN;class zN extends ye{create(e,n,i){return this._client.post(oe`/threads/${e}/messages`,{body:n,...i,headers:he([{"OpenAI-Beta":"assistants=v2"},i?.headers])})}retrieve(e,n,i){const{thread_id:r}=n;return this._client.get(oe`/threads/${r}/messages/${e}`,{...i,headers:he([{"OpenAI-Beta":"assistants=v2"},i?.headers])})}update(e,n,i){const{thread_id:r,...a}=n;return this._client.post(oe`/threads/${r}/messages/${e}`,{body:a,...i,headers:he([{"OpenAI-Beta":"assistants=v2"},i?.headers])})}list(e,n={},i){return this._client.getAPIList(oe`/threads/${e}/messages`,ht,{query:n,...i,headers:he([{"OpenAI-Beta":"assistants=v2"},i?.headers])})}delete(e,n,i){const{thread_id:r}=n;return this._client.delete(oe`/threads/${r}/messages/${e}`,{...i,headers:he([{"OpenAI-Beta":"assistants=v2"},i?.headers])})}}class qN extends ye{retrieve(e,n,i){const{thread_id:r,run_id:a,...u}=n;return this._client.get(oe`/threads/${r}/runs/${a}/steps/${e}`,{query:u,...i,headers:he([{"OpenAI-Beta":"assistants=v2"},i?.headers])})}list(e,n,i){const{thread_id:r,...a}=n;return this._client.getAPIList(oe`/threads/${r}/runs/${e}/steps`,ht,{query:a,...i,headers:he([{"OpenAI-Beta":"assistants=v2"},i?.headers])})}}const y4=t=>{if(typeof Buffer<"u"){const e=Buffer.from(t,"base64");return Array.from(new Float32Array(e.buffer,e.byteOffset,e.length/Float32Array.BYTES_PER_ELEMENT))}else{const e=atob(t),n=e.length,i=new Uint8Array(n);for(let r=0;r<n;r++)i[r]=e.charCodeAt(r);return Array.from(new Float32Array(i.buffer))}};var _4={};const qs=t=>{if(typeof globalThis.process<"u")return _4?.[t]?.trim()??void 0;if(typeof globalThis.Deno<"u")return globalThis.Deno.env?.get?.(t)?.trim()};var Nt,Pr,Nv,vi,Xf,Wn,Lr,ra,Dr,Md,mn,Wf,jf,Ql,Vl,zl,TT,AT,xT,RT,MT,NT,IT;class Zl extends ky{constructor(){super(...arguments),Nt.add(this),Nv.set(this,[]),vi.set(this,{}),Xf.set(this,{}),Wn.set(this,void 0),Lr.set(this,void 0),ra.set(this,void 0),Dr.set(this,void 0),Md.set(this,void 0),mn.set(this,void 0),Wf.set(this,void 0),jf.set(this,void 0),Ql.set(this,void 0)}[(Nv=new WeakMap,vi=new WeakMap,Xf=new WeakMap,Wn=new WeakMap,Lr=new WeakMap,ra=new WeakMap,Dr=new WeakMap,Md=new WeakMap,mn=new WeakMap,Wf=new WeakMap,jf=new WeakMap,Ql=new WeakMap,Nt=new WeakSet,Symbol.asyncIterator)](){const e=[],n=[];let i=!1;return this.on("event",r=>{const a=n.shift();a?a.resolve(r):e.push(r)}),this.on("end",()=>{i=!0;for(const r of n)r.resolve(void 0);n.length=0}),this.on("abort",r=>{i=!0;for(const a of n)a.reject(r);n.length=0}),this.on("error",r=>{i=!0;for(const a of n)a.reject(r);n.length=0}),{next:async()=>e.length?{value:e.shift(),done:!1}:i?{value:void 0,done:!0}:new Promise((a,u)=>n.push({resolve:a,reject:u})).then(a=>a?{value:a,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}static fromReadableStream(e){const n=new Pr;return n._run(()=>n._fromReadableStream(e)),n}async _fromReadableStream(e,n){const i=n?.signal;i&&(i.aborted&&this.controller.abort(),i.addEventListener("abort",()=>this.controller.abort())),this._connected();const r=Si.fromReadableStream(e,this.controller);for await(const a of r)V(this,Nt,"m",Vl).call(this,a);if(r.controller.signal?.aborted)throw new Bn;return this._addRun(V(this,Nt,"m",zl).call(this))}toReadableStream(){return new Si(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}static createToolAssistantStream(e,n,i,r){const a=new Pr;return a._run(()=>a._runToolAssistantStream(e,n,i,{...r,headers:{...r?.headers,"X-Stainless-Helper-Method":"stream"}})),a}async _createToolAssistantStream(e,n,i,r){const a=r?.signal;a&&(a.aborted&&this.controller.abort(),a.addEventListener("abort",()=>this.controller.abort()));const u={...i,stream:!0},c=await e.submitToolOutputs(n,u,{...r,signal:this.controller.signal});this._connected();for await(const p of c)V(this,Nt,"m",Vl).call(this,p);if(c.controller.signal?.aborted)throw new Bn;return this._addRun(V(this,Nt,"m",zl).call(this))}static createThreadAssistantStream(e,n,i){const r=new Pr;return r._run(()=>r._threadAssistantStream(e,n,{...i,headers:{...i?.headers,"X-Stainless-Helper-Method":"stream"}})),r}static createAssistantStream(e,n,i,r){const a=new Pr;return a._run(()=>a._runAssistantStream(e,n,i,{...r,headers:{...r?.headers,"X-Stainless-Helper-Method":"stream"}})),a}currentEvent(){return V(this,Wf,"f")}currentRun(){return V(this,jf,"f")}currentMessageSnapshot(){return V(this,Wn,"f")}currentRunStepSnapshot(){return V(this,Ql,"f")}async finalRunSteps(){return await this.done(),Object.values(V(this,vi,"f"))}async finalMessages(){return await this.done(),Object.values(V(this,Xf,"f"))}async finalRun(){if(await this.done(),!V(this,Lr,"f"))throw Error("Final run was not received.");return V(this,Lr,"f")}async _createThreadAssistantStream(e,n,i){const r=i?.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",()=>this.controller.abort()));const a={...n,stream:!0},u=await e.createAndRun(a,{...i,signal:this.controller.signal});this._connected();for await(const c of u)V(this,Nt,"m",Vl).call(this,c);if(u.controller.signal?.aborted)throw new Bn;return this._addRun(V(this,Nt,"m",zl).call(this))}async _createAssistantStream(e,n,i,r){const a=r?.signal;a&&(a.aborted&&this.controller.abort(),a.addEventListener("abort",()=>this.controller.abort()));const u={...i,stream:!0},c=await e.create(n,u,{...r,signal:this.controller.signal});this._connected();for await(const p of c)V(this,Nt,"m",Vl).call(this,p);if(c.controller.signal?.aborted)throw new Bn;return this._addRun(V(this,Nt,"m",zl).call(this))}static accumulateDelta(e,n){for(const[i,r]of Object.entries(n)){if(!e.hasOwnProperty(i)){e[i]=r;continue}let a=e[i];if(a==null){e[i]=r;continue}if(i==="index"||i==="type"){e[i]=r;continue}if(typeof a=="string"&&typeof r=="string")a+=r;else if(typeof a=="number"&&typeof r=="number")a+=r;else if(gg(a)&&gg(r))a=this.accumulateDelta(a,r);else if(Array.isArray(a)&&Array.isArray(r)){if(a.every(u=>typeof u=="string"||typeof u=="number")){a.push(...r);continue}for(const u of r){if(!gg(u))throw new Error(`Expected array delta entry to be an object but got: ${u}`);const c=u.index;if(c==null)throw console.error(u),new Error("Expected array delta entry to have an `index` property");if(typeof c!="number")throw new Error(`Expected array delta entry \`index\` property to be a number but got ${c}`);const p=a[c];p==null?a.push(u):a[c]=this.accumulateDelta(p,u)}continue}else throw Error(`Unhandled record type: ${i}, deltaValue: ${r}, accValue: ${a}`);e[i]=a}return e}_addRun(e){return e}async _threadAssistantStream(e,n,i){return await this._createThreadAssistantStream(n,e,i)}async _runAssistantStream(e,n,i,r){return await this._createAssistantStream(n,e,i,r)}async _runToolAssistantStream(e,n,i,r){return await this._createToolAssistantStream(n,e,i,r)}}Pr=Zl,Vl=function(e){if(!this.ended)switch(Ce(this,Wf,e),V(this,Nt,"m",xT).call(this,e),e.event){case"thread.created":break;case"thread.run.created":case"thread.run.queued":case"thread.run.in_progress":case"thread.run.requires_action":case"thread.run.completed":case"thread.run.incomplete":case"thread.run.failed":case"thread.run.cancelling":case"thread.run.cancelled":case"thread.run.expired":V(this,Nt,"m",IT).call(this,e);break;case"thread.run.step.created":case"thread.run.step.in_progress":case"thread.run.step.delta":case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":V(this,Nt,"m",AT).call(this,e);break;case"thread.message.created":case"thread.message.in_progress":case"thread.message.delta":case"thread.message.completed":case"thread.message.incomplete":V(this,Nt,"m",TT).call(this,e);break;case"error":throw new Error("Encountered an error event in event processing - errors should be processed earlier")}},zl=function(){if(this.ended)throw new Se("stream has ended, this shouldn't happen");if(!V(this,Lr,"f"))throw Error("Final run has not been received");return V(this,Lr,"f")},TT=function(e){const[n,i]=V(this,Nt,"m",MT).call(this,e,V(this,Wn,"f"));Ce(this,Wn,n),V(this,Xf,"f")[n.id]=n;for(const r of i){const a=n.content[r.index];a?.type=="text"&&this._emit("textCreated",a.text)}switch(e.event){case"thread.message.created":this._emit("messageCreated",e.data);break;case"thread.message.in_progress":break;case"thread.message.delta":if(this._emit("messageDelta",e.data.delta,n),e.data.delta.content)for(const r of e.data.delta.content){if(r.type=="text"&&r.text){let a=r.text,u=n.content[r.index];if(u&&u.type=="text")this._emit("textDelta",a,u.text);else throw Error("The snapshot associated with this text delta is not text or missing")}if(r.index!=V(this,ra,"f")){if(V(this,Dr,"f"))switch(V(this,Dr,"f").type){case"text":this._emit("textDone",V(this,Dr,"f").text,V(this,Wn,"f"));break;case"image_file":this._emit("imageFileDone",V(this,Dr,"f").image_file,V(this,Wn,"f"));break}Ce(this,ra,r.index)}Ce(this,Dr,n.content[r.index])}break;case"thread.message.completed":case"thread.message.incomplete":if(V(this,ra,"f")!==void 0){const r=e.data.content[V(this,ra,"f")];if(r)switch(r.type){case"image_file":this._emit("imageFileDone",r.image_file,V(this,Wn,"f"));break;case"text":this._emit("textDone",r.text,V(this,Wn,"f"));break}}V(this,Wn,"f")&&this._emit("messageDone",e.data),Ce(this,Wn,void 0)}},AT=function(e){const n=V(this,Nt,"m",RT).call(this,e);switch(Ce(this,Ql,n),e.event){case"thread.run.step.created":this._emit("runStepCreated",e.data);break;case"thread.run.step.delta":const i=e.data.delta;if(i.step_details&&i.step_details.type=="tool_calls"&&i.step_details.tool_calls&&n.step_details.type=="tool_calls")for(const a of i.step_details.tool_calls)a.index==V(this,Md,"f")?this._emit("toolCallDelta",a,n.step_details.tool_calls[a.index]):(V(this,mn,"f")&&this._emit("toolCallDone",V(this,mn,"f")),Ce(this,Md,a.index),Ce(this,mn,n.step_details.tool_calls[a.index]),V(this,mn,"f")&&this._emit("toolCallCreated",V(this,mn,"f")));this._emit("runStepDelta",e.data.delta,n);break;case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":Ce(this,Ql,void 0),e.data.step_details.type=="tool_calls"&&V(this,mn,"f")&&(this._emit("toolCallDone",V(this,mn,"f")),Ce(this,mn,void 0)),this._emit("runStepDone",e.data,n);break}},xT=function(e){V(this,Nv,"f").push(e),this._emit("event",e)},RT=function(e){switch(e.event){case"thread.run.step.created":return V(this,vi,"f")[e.data.id]=e.data,e.data;case"thread.run.step.delta":let n=V(this,vi,"f")[e.data.id];if(!n)throw Error("Received a RunStepDelta before creation of a snapshot");let i=e.data;if(i.delta){const r=Pr.accumulateDelta(n,i.delta);V(this,vi,"f")[e.data.id]=r}return V(this,vi,"f")[e.data.id];case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":case"thread.run.step.in_progress":V(this,vi,"f")[e.data.id]=e.data;break}if(V(this,vi,"f")[e.data.id])return V(this,vi,"f")[e.data.id];throw new Error("No snapshot available")},MT=function(e,n){let i=[];switch(e.event){case"thread.message.created":return[e.data,i];case"thread.message.delta":if(!n)throw Error("Received a delta with no existing snapshot (there should be one from message creation)");let r=e.data;if(r.delta.content)for(const a of r.delta.content)if(a.index in n.content){let u=n.content[a.index];n.content[a.index]=V(this,Nt,"m",NT).call(this,a,u)}else n.content[a.index]=a,i.push(a);return[n,i];case"thread.message.in_progress":case"thread.message.completed":case"thread.message.incomplete":if(n)return[n,i];throw Error("Received thread message event with no existing snapshot")}throw Error("Tried to accumulate a non-message event")},NT=function(e,n){return Pr.accumulateDelta(n,e)},IT=function(e){switch(Ce(this,jf,e.data),e.event){case"thread.run.created":break;case"thread.run.queued":break;case"thread.run.in_progress":break;case"thread.run.requires_action":case"thread.run.cancelled":case"thread.run.failed":case"thread.run.completed":case"thread.run.expired":case"thread.run.incomplete":Ce(this,Lr,e.data),V(this,mn,"f")&&(this._emit("toolCallDone",V(this,mn,"f")),Ce(this,mn,void 0));break}};let Fy=class extends ye{constructor(){super(...arguments),this.steps=new qN(this._client)}create(e,n,i){const{include:r,...a}=n;return this._client.post(oe`/threads/${e}/runs`,{query:{include:r},body:a,...i,headers:he([{"OpenAI-Beta":"assistants=v2"},i?.headers]),stream:n.stream??!1})}retrieve(e,n,i){const{thread_id:r}=n;return this._client.get(oe`/threads/${r}/runs/${e}`,{...i,headers:he([{"OpenAI-Beta":"assistants=v2"},i?.headers])})}update(e,n,i){const{thread_id:r,...a}=n;return this._client.post(oe`/threads/${r}/runs/${e}`,{body:a,...i,headers:he([{"OpenAI-Beta":"assistants=v2"},i?.headers])})}list(e,n={},i){return this._client.getAPIList(oe`/threads/${e}/runs`,ht,{query:n,...i,headers:he([{"OpenAI-Beta":"assistants=v2"},i?.headers])})}cancel(e,n,i){const{thread_id:r}=n;return this._client.post(oe`/threads/${r}/runs/${e}/cancel`,{...i,headers:he([{"OpenAI-Beta":"assistants=v2"},i?.headers])})}async createAndPoll(e,n,i){const r=await this.create(e,n,i);return await this.poll(r.id,{thread_id:e},i)}createAndStream(e,n,i){return Zl.createAssistantStream(e,this._client.beta.threads.runs,n,i)}async poll(e,n,i){const r=he([i?.headers,{"X-Stainless-Poll-Helper":"true","X-Stainless-Custom-Poll-Interval":i?.pollIntervalMs?.toString()??void 0}]);for(;;){const{data:a,response:u}=await this.retrieve(e,n,{...i,headers:{...i?.headers,...r}}).withResponse();switch(a.status){case"queued":case"in_progress":case"cancelling":let c=5e3;if(i?.pollIntervalMs)c=i.pollIntervalMs;else{const p=u.headers.get("openai-poll-after-ms");if(p){const d=parseInt(p);isNaN(d)||(c=d)}}await Du(c);break;case"requires_action":case"incomplete":case"cancelled":case"completed":case"failed":case"expired":return a}}}stream(e,n,i){return Zl.createAssistantStream(e,this._client.beta.threads.runs,n,i)}submitToolOutputs(e,n,i){const{thread_id:r,...a}=n;return this._client.post(oe`/threads/${r}/runs/${e}/submit_tool_outputs`,{body:a,...i,headers:he([{"OpenAI-Beta":"assistants=v2"},i?.headers]),stream:n.stream??!1})}async submitToolOutputsAndPoll(e,n,i){const r=await this.submitToolOutputs(e,n,i);return await this.poll(r.id,n,i)}submitToolOutputsStream(e,n,i){return Zl.createToolAssistantStream(e,this._client.beta.threads.runs,n,i)}};Fy.Steps=qN;class fp extends ye{constructor(){super(...arguments),this.runs=new Fy(this._client),this.messages=new zN(this._client)}create(e={},n){return this._client.post("/threads",{body:e,...n,headers:he([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}retrieve(e,n){return this._client.get(oe`/threads/${e}`,{...n,headers:he([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}update(e,n,i){return this._client.post(oe`/threads/${e}`,{body:n,...i,headers:he([{"OpenAI-Beta":"assistants=v2"},i?.headers])})}delete(e,n){return this._client.delete(oe`/threads/${e}`,{...n,headers:he([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}createAndRun(e,n){return this._client.post("/threads/runs",{body:e,...n,headers:he([{"OpenAI-Beta":"assistants=v2"},n?.headers]),stream:e.stream??!1})}async createAndRunPoll(e,n){const i=await this.createAndRun(e,n);return await this.runs.poll(i.id,{thread_id:i.thread_id},n)}createAndRunStream(e,n){return Zl.createThreadAssistantStream(e,this._client.beta.threads,n)}}fp.Runs=Fy;fp.Messages=zN;class xa extends ye{constructor(){super(...arguments),this.realtime=new up(this._client),this.chatkit=new cp(this._client),this.assistants=new HN(this._client),this.threads=new fp(this._client)}}xa.Realtime=up;xa.ChatKit=cp;xa.Assistants=HN;xa.Threads=fp;class JN extends ye{create(e,n){return this._client.post("/completions",{body:e,...n,stream:e.stream??!1})}}let YN=class extends ye{retrieve(e,n,i){const{container_id:r}=n;return this._client.get(oe`/containers/${r}/files/${e}/content`,{...i,headers:he([{Accept:"application/binary"},i?.headers]),__binaryResponse:!0})}},$y=class extends ye{constructor(){super(...arguments),this.content=new YN(this._client)}create(e,n,i){return this._client.post(oe`/containers/${e}/files`,Kr({body:n,...i},this._client))}retrieve(e,n,i){const{container_id:r}=n;return this._client.get(oe`/containers/${r}/files/${e}`,i)}list(e,n={},i){return this._client.getAPIList(oe`/containers/${e}/files`,ht,{query:n,...i})}delete(e,n,i){const{container_id:r}=n;return this._client.delete(oe`/containers/${r}/files/${e}`,{...i,headers:he([{Accept:"*/*"},i?.headers])})}};$y.Content=YN;class Vy extends ye{constructor(){super(...arguments),this.files=new $y(this._client)}create(e,n){return this._client.post("/containers",{body:e,...n})}retrieve(e,n){return this._client.get(oe`/containers/${e}`,n)}list(e={},n){return this._client.getAPIList("/containers",ht,{query:e,...n})}delete(e,n){return this._client.delete(oe`/containers/${e}`,{...n,headers:he([{Accept:"*/*"},n?.headers])})}}Vy.Files=$y;class KN extends ye{create(e,n,i){const{include:r,...a}=n;return this._client.post(oe`/conversations/${e}/items`,{query:{include:r},body:a,...i})}retrieve(e,n,i){const{conversation_id:r,...a}=n;return this._client.get(oe`/conversations/${r}/items/${e}`,{query:a,...i})}list(e,n={},i){return this._client.getAPIList(oe`/conversations/${e}/items`,bd,{query:n,...i})}delete(e,n,i){const{conversation_id:r}=n;return this._client.delete(oe`/conversations/${r}/items/${e}`,i)}}class zy extends ye{constructor(){super(...arguments),this.items=new KN(this._client)}create(e={},n){return this._client.post("/conversations",{body:e,...n})}retrieve(e,n){return this._client.get(oe`/conversations/${e}`,n)}update(e,n,i){return this._client.post(oe`/conversations/${e}`,{body:n,...i})}delete(e,n){return this._client.delete(oe`/conversations/${e}`,n)}}zy.Items=KN;class XN extends ye{create(e,n){const i=!!e.encoding_format;let r=i?e.encoding_format:"base64";i&&Mt(this._client).debug("embeddings/user defined encoding_format:",e.encoding_format);const a=this._client.post("/embeddings",{body:{...e,encoding_format:r},...n});return i?a:(Mt(this._client).debug("embeddings/decoding base64 embeddings from base64"),a._thenUnwrap(u=>(u&&u.data&&u.data.forEach(c=>{const p=c.embedding;c.embedding=y4(p)}),u)))}}class WN extends ye{retrieve(e,n,i){const{eval_id:r,run_id:a}=n;return this._client.get(oe`/evals/${r}/runs/${a}/output_items/${e}`,i)}list(e,n,i){const{eval_id:r,...a}=n;return this._client.getAPIList(oe`/evals/${r}/runs/${e}/output_items`,ht,{query:a,...i})}}class qy extends ye{constructor(){super(...arguments),this.outputItems=new WN(this._client)}create(e,n,i){return this._client.post(oe`/evals/${e}/runs`,{body:n,...i})}retrieve(e,n,i){const{eval_id:r}=n;return this._client.get(oe`/evals/${r}/runs/${e}`,i)}list(e,n={},i){return this._client.getAPIList(oe`/evals/${e}/runs`,ht,{query:n,...i})}delete(e,n,i){const{eval_id:r}=n;return this._client.delete(oe`/evals/${r}/runs/${e}`,i)}cancel(e,n,i){const{eval_id:r}=n;return this._client.post(oe`/evals/${r}/runs/${e}`,i)}}qy.OutputItems=WN;class Jy extends ye{constructor(){super(...arguments),this.runs=new qy(this._client)}create(e,n){return this._client.post("/evals",{body:e,...n})}retrieve(e,n){return this._client.get(oe`/evals/${e}`,n)}update(e,n,i){return this._client.post(oe`/evals/${e}`,{body:n,...i})}list(e={},n){return this._client.getAPIList("/evals",ht,{query:e,...n})}delete(e,n){return this._client.delete(oe`/evals/${e}`,n)}}Jy.Runs=qy;let jN=class extends ye{create(e,n){return this._client.post("/files",Kr({body:e,...n},this._client))}retrieve(e,n){return this._client.get(oe`/files/${e}`,n)}list(e={},n){return this._client.getAPIList("/files",ht,{query:e,...n})}delete(e,n){return this._client.delete(oe`/files/${e}`,n)}content(e,n){return this._client.get(oe`/files/${e}/content`,{...n,headers:he([{Accept:"application/binary"},n?.headers]),__binaryResponse:!0})}async waitForProcessing(e,{pollInterval:n=5e3,maxWait:i=1800*1e3}={}){const r=new Set(["processed","error","deleted"]),a=Date.now();let u=await this.retrieve(e);for(;!u.status||!r.has(u.status);)if(await Du(n),u=await this.retrieve(e),Date.now()-a>i)throw new Iy({message:`Giving up on waiting for file ${e} to finish processing after ${i} milliseconds.`});return u}};class QN extends ye{}let ZN=class extends ye{run(e,n){return this._client.post("/fine_tuning/alpha/graders/run",{body:e,...n})}validate(e,n){return this._client.post("/fine_tuning/alpha/graders/validate",{body:e,...n})}};class Yy extends ye{constructor(){super(...arguments),this.graders=new ZN(this._client)}}Yy.Graders=ZN;class eI extends ye{create(e,n,i){return this._client.getAPIList(oe`/fine_tuning/checkpoints/${e}/permissions`,lp,{body:n,method:"post",...i})}retrieve(e,n={},i){return this._client.get(oe`/fine_tuning/checkpoints/${e}/permissions`,{query:n,...i})}delete(e,n,i){const{fine_tuned_model_checkpoint:r}=n;return this._client.delete(oe`/fine_tuning/checkpoints/${r}/permissions/${e}`,i)}}let Ky=class extends ye{constructor(){super(...arguments),this.permissions=new eI(this._client)}};Ky.Permissions=eI;class tI extends ye{list(e,n={},i){return this._client.getAPIList(oe`/fine_tuning/jobs/${e}/checkpoints`,ht,{query:n,...i})}}class Xy extends ye{constructor(){super(...arguments),this.checkpoints=new tI(this._client)}create(e,n){return this._client.post("/fine_tuning/jobs",{body:e,...n})}retrieve(e,n){return this._client.get(oe`/fine_tuning/jobs/${e}`,n)}list(e={},n){return this._client.getAPIList("/fine_tuning/jobs",ht,{query:e,...n})}cancel(e,n){return this._client.post(oe`/fine_tuning/jobs/${e}/cancel`,n)}listEvents(e,n={},i){return this._client.getAPIList(oe`/fine_tuning/jobs/${e}/events`,ht,{query:n,...i})}pause(e,n){return this._client.post(oe`/fine_tuning/jobs/${e}/pause`,n)}resume(e,n){return this._client.post(oe`/fine_tuning/jobs/${e}/resume`,n)}}Xy.Checkpoints=tI;class Ra extends ye{constructor(){super(...arguments),this.methods=new QN(this._client),this.jobs=new Xy(this._client),this.checkpoints=new Ky(this._client),this.alpha=new Yy(this._client)}}Ra.Methods=QN;Ra.Jobs=Xy;Ra.Checkpoints=Ky;Ra.Alpha=Yy;class nI extends ye{}class Wy extends ye{constructor(){super(...arguments),this.graderModels=new nI(this._client)}}Wy.GraderModels=nI;class iI extends ye{createVariation(e,n){return this._client.post("/images/variations",Kr({body:e,...n},this._client))}edit(e,n){return this._client.post("/images/edits",Kr({body:e,...n,stream:e.stream??!1},this._client))}generate(e,n){return this._client.post("/images/generations",{body:e,...n,stream:e.stream??!1})}}class oI extends ye{retrieve(e,n){return this._client.get(oe`/models/${e}`,n)}list(e){return this._client.getAPIList("/models",lp,e)}delete(e,n){return this._client.delete(oe`/models/${e}`,n)}}class rI extends ye{create(e,n){return this._client.post("/moderations",{body:e,...n})}}class sI extends ye{accept(e,n,i){return this._client.post(oe`/realtime/calls/${e}/accept`,{body:n,...i,headers:he([{Accept:"*/*"},i?.headers])})}hangup(e,n){return this._client.post(oe`/realtime/calls/${e}/hangup`,{...n,headers:he([{Accept:"*/*"},n?.headers])})}refer(e,n,i){return this._client.post(oe`/realtime/calls/${e}/refer`,{body:n,...i,headers:he([{Accept:"*/*"},i?.headers])})}reject(e,n={},i){return this._client.post(oe`/realtime/calls/${e}/reject`,{body:n,...i,headers:he([{Accept:"*/*"},i?.headers])})}}class aI extends ye{create(e,n){return this._client.post("/realtime/client_secrets",{body:e,...n})}}class dp extends ye{constructor(){super(...arguments),this.clientSecrets=new aI(this._client),this.calls=new sI(this._client)}}dp.ClientSecrets=aI;dp.Calls=sI;function S4(t,e){return!e||!b4(e)?{...t,output_parsed:null,output:t.output.map(n=>n.type==="function_call"?{...n,parsed_arguments:null}:n.type==="message"?{...n,content:n.content.map(i=>({...i,parsed:null}))}:n)}:lI(t,e)}function lI(t,e){const n=t.output.map(r=>{if(r.type==="function_call")return{...r,parsed_arguments:T4(e,r)};if(r.type==="message"){const a=r.content.map(u=>u.type==="output_text"?{...u,parsed:E4(e,u.text)}:u);return{...r,content:a}}return r}),i=Object.assign({},t,{output:n});return Object.getOwnPropertyDescriptor(t,"output_text")||Iv(i),Object.defineProperty(i,"output_parsed",{enumerable:!0,get(){for(const r of i.output)if(r.type==="message"){for(const a of r.content)if(a.type==="output_text"&&a.parsed!==null)return a.parsed}return null}}),i}function E4(t,e){return t.text?.format?.type!=="json_schema"?null:"$parseRaw"in t.text?.format?(t.text?.format).$parseRaw(e):JSON.parse(e)}function b4(t){return!!Ly(t.text?.format)}function w4(t){return t?.$brand==="auto-parseable-tool"}function C4(t,e){return t.find(n=>n.type==="function"&&n.name===e)}function T4(t,e){const n=C4(t.tools??[],e.name);return{...e,...e,parsed_arguments:w4(n)?n.$parseRaw(e.arguments):n?.strict?JSON.parse(e.arguments):null}}function Iv(t){const e=[];for(const n of t.output)if(n.type==="message")for(const i of n.content)i.type==="output_text"&&e.push(i.text);t.output_text=e.join("")}var Js,Rf,qo,Mf,DT,OT,PT,LT;class jy extends ky{constructor(e){super(),Js.add(this),Rf.set(this,void 0),qo.set(this,void 0),Mf.set(this,void 0),Ce(this,Rf,e)}static createResponse(e,n,i){const r=new jy(n);return r._run(()=>r._createOrRetrieveResponse(e,n,{...i,headers:{...i?.headers,"X-Stainless-Helper-Method":"stream"}})),r}async _createOrRetrieveResponse(e,n,i){const r=i?.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",()=>this.controller.abort())),V(this,Js,"m",DT).call(this);let a,u=null;"response_id"in n?(a=await e.responses.retrieve(n.response_id,{stream:!0},{...i,signal:this.controller.signal,stream:!0}),u=n.starting_after??null):a=await e.responses.create({...n,stream:!0},{...i,signal:this.controller.signal}),this._connected();for await(const c of a)V(this,Js,"m",OT).call(this,c,u);if(a.controller.signal?.aborted)throw new Bn;return V(this,Js,"m",PT).call(this)}[(Rf=new WeakMap,qo=new WeakMap,Mf=new WeakMap,Js=new WeakSet,DT=function(){this.ended||Ce(this,qo,void 0)},OT=function(n,i){if(this.ended)return;const r=(u,c)=>{(i==null||c.sequence_number>i)&&this._emit(u,c)},a=V(this,Js,"m",LT).call(this,n);switch(r("event",n),n.type){case"response.output_text.delta":{const u=a.output[n.output_index];if(!u)throw new Se(`missing output at index ${n.output_index}`);if(u.type==="message"){const c=u.content[n.content_index];if(!c)throw new Se(`missing content at index ${n.content_index}`);if(c.type!=="output_text")throw new Se(`expected content to be 'output_text', got ${c.type}`);r("response.output_text.delta",{...n,snapshot:c.text})}break}case"response.function_call_arguments.delta":{const u=a.output[n.output_index];if(!u)throw new Se(`missing output at index ${n.output_index}`);u.type==="function_call"&&r("response.function_call_arguments.delta",{...n,snapshot:u.arguments});break}default:r(n.type,n);break}},PT=function(){if(this.ended)throw new Se("stream has ended, this shouldn't happen");const n=V(this,qo,"f");if(!n)throw new Se("request ended without sending any events");Ce(this,qo,void 0);const i=A4(n,V(this,Rf,"f"));return Ce(this,Mf,i),i},LT=function(n){let i=V(this,qo,"f");if(!i){if(n.type!=="response.created")throw new Se(`When snapshot hasn't been set yet, expected 'response.created' event, got ${n.type}`);return i=Ce(this,qo,n.response),i}switch(n.type){case"response.output_item.added":{i.output.push(n.item);break}case"response.content_part.added":{const r=i.output[n.output_index];if(!r)throw new Se(`missing output at index ${n.output_index}`);const a=r.type,u=n.part;a==="message"&&u.type!=="reasoning_text"?r.content.push(u):a==="reasoning"&&u.type==="reasoning_text"&&(r.content||(r.content=[]),r.content.push(u));break}case"response.output_text.delta":{const r=i.output[n.output_index];if(!r)throw new Se(`missing output at index ${n.output_index}`);if(r.type==="message"){const a=r.content[n.content_index];if(!a)throw new Se(`missing content at index ${n.content_index}`);if(a.type!=="output_text")throw new Se(`expected content to be 'output_text', got ${a.type}`);a.text+=n.delta}break}case"response.function_call_arguments.delta":{const r=i.output[n.output_index];if(!r)throw new Se(`missing output at index ${n.output_index}`);r.type==="function_call"&&(r.arguments+=n.delta);break}case"response.reasoning_text.delta":{const r=i.output[n.output_index];if(!r)throw new Se(`missing output at index ${n.output_index}`);if(r.type==="reasoning"){const a=r.content?.[n.content_index];if(!a)throw new Se(`missing content at index ${n.content_index}`);if(a.type!=="reasoning_text")throw new Se(`expected content to be 'reasoning_text', got ${a.type}`);a.text+=n.delta}break}case"response.completed":{Ce(this,qo,n.response);break}}return i},Symbol.asyncIterator)](){const e=[],n=[];let i=!1;return this.on("event",r=>{const a=n.shift();a?a.resolve(r):e.push(r)}),this.on("end",()=>{i=!0;for(const r of n)r.resolve(void 0);n.length=0}),this.on("abort",r=>{i=!0;for(const a of n)a.reject(r);n.length=0}),this.on("error",r=>{i=!0;for(const a of n)a.reject(r);n.length=0}),{next:async()=>e.length?{value:e.shift(),done:!1}:i?{value:void 0,done:!0}:new Promise((a,u)=>n.push({resolve:a,reject:u})).then(a=>a?{value:a,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}async finalResponse(){await this.done();const e=V(this,Mf,"f");if(!e)throw new Se("stream ended without producing a ChatCompletion");return e}}function A4(t,e){return S4(t,e)}class uI extends ye{list(e,n={},i){return this._client.getAPIList(oe`/responses/${e}/input_items`,ht,{query:n,...i})}}class cI extends ye{count(e={},n){return this._client.post("/responses/input_tokens",{body:e,...n})}}class pp extends ye{constructor(){super(...arguments),this.inputItems=new uI(this._client),this.inputTokens=new cI(this._client)}create(e,n){return this._client.post("/responses",{body:e,...n,stream:e.stream??!1})._thenUnwrap(i=>("object"in i&&i.object==="response"&&Iv(i),i))}retrieve(e,n={},i){return this._client.get(oe`/responses/${e}`,{query:n,...i,stream:n?.stream??!1})._thenUnwrap(r=>("object"in r&&r.object==="response"&&Iv(r),r))}delete(e,n){return this._client.delete(oe`/responses/${e}`,{...n,headers:he([{Accept:"*/*"},n?.headers])})}parse(e,n){return this._client.responses.create(e,n)._thenUnwrap(i=>lI(i,e))}stream(e,n){return jy.createResponse(this._client,e,n)}cancel(e,n){return this._client.post(oe`/responses/${e}/cancel`,n)}compact(e={},n){return this._client.post("/responses/compact",{body:e,...n})}}pp.InputItems=uI;pp.InputTokens=cI;class fI extends ye{create(e,n,i){return this._client.post(oe`/uploads/${e}/parts`,Kr({body:n,...i},this._client))}}class Qy extends ye{constructor(){super(...arguments),this.parts=new fI(this._client)}create(e,n){return this._client.post("/uploads",{body:e,...n})}cancel(e,n){return this._client.post(oe`/uploads/${e}/cancel`,n)}complete(e,n,i){return this._client.post(oe`/uploads/${e}/complete`,{body:n,...i})}}Qy.Parts=fI;const x4=async t=>{const e=await Promise.allSettled(t),n=e.filter(r=>r.status==="rejected");if(n.length){for(const r of n)console.error(r.reason);throw new Error(`${n.length} promise(s) failed - see the above errors`)}const i=[];for(const r of e)r.status==="fulfilled"&&i.push(r.value);return i};class dI extends ye{create(e,n,i){return this._client.post(oe`/vector_stores/${e}/file_batches`,{body:n,...i,headers:he([{"OpenAI-Beta":"assistants=v2"},i?.headers])})}retrieve(e,n,i){const{vector_store_id:r}=n;return this._client.get(oe`/vector_stores/${r}/file_batches/${e}`,{...i,headers:he([{"OpenAI-Beta":"assistants=v2"},i?.headers])})}cancel(e,n,i){const{vector_store_id:r}=n;return this._client.post(oe`/vector_stores/${r}/file_batches/${e}/cancel`,{...i,headers:he([{"OpenAI-Beta":"assistants=v2"},i?.headers])})}async createAndPoll(e,n,i){const r=await this.create(e,n);return await this.poll(e,r.id,i)}listFiles(e,n,i){const{vector_store_id:r,...a}=n;return this._client.getAPIList(oe`/vector_stores/${r}/file_batches/${e}/files`,ht,{query:a,...i,headers:he([{"OpenAI-Beta":"assistants=v2"},i?.headers])})}async poll(e,n,i){const r=he([i?.headers,{"X-Stainless-Poll-Helper":"true","X-Stainless-Custom-Poll-Interval":i?.pollIntervalMs?.toString()??void 0}]);for(;;){const{data:a,response:u}=await this.retrieve(n,{vector_store_id:e},{...i,headers:r}).withResponse();switch(a.status){case"in_progress":let c=5e3;if(i?.pollIntervalMs)c=i.pollIntervalMs;else{const p=u.headers.get("openai-poll-after-ms");if(p){const d=parseInt(p);isNaN(d)||(c=d)}}await Du(c);break;case"failed":case"cancelled":case"completed":return a}}}async uploadAndPoll(e,{files:n,fileIds:i=[]},r){if(n==null||n.length==0)throw new Error("No `files` provided to process. If you've already uploaded files you should use `.createAndPoll()` instead");const a=r?.maxConcurrency??5,u=Math.min(a,n.length),c=this._client,p=n.values(),d=[...i];async function m(S){for(let E of S){const C=await c.files.create({file:E,purpose:"assistants"},r);d.push(C.id)}}const y=Array(u).fill(p).map(m);return await x4(y),await this.createAndPoll(e,{file_ids:d})}}class pI extends ye{create(e,n,i){return this._client.post(oe`/vector_stores/${e}/files`,{body:n,...i,headers:he([{"OpenAI-Beta":"assistants=v2"},i?.headers])})}retrieve(e,n,i){const{vector_store_id:r}=n;return this._client.get(oe`/vector_stores/${r}/files/${e}`,{...i,headers:he([{"OpenAI-Beta":"assistants=v2"},i?.headers])})}update(e,n,i){const{vector_store_id:r,...a}=n;return this._client.post(oe`/vector_stores/${r}/files/${e}`,{body:a,...i,headers:he([{"OpenAI-Beta":"assistants=v2"},i?.headers])})}list(e,n={},i){return this._client.getAPIList(oe`/vector_stores/${e}/files`,ht,{query:n,...i,headers:he([{"OpenAI-Beta":"assistants=v2"},i?.headers])})}delete(e,n,i){const{vector_store_id:r}=n;return this._client.delete(oe`/vector_stores/${r}/files/${e}`,{...i,headers:he([{"OpenAI-Beta":"assistants=v2"},i?.headers])})}async createAndPoll(e,n,i){const r=await this.create(e,n,i);return await this.poll(e,r.id,i)}async poll(e,n,i){const r=he([i?.headers,{"X-Stainless-Poll-Helper":"true","X-Stainless-Custom-Poll-Interval":i?.pollIntervalMs?.toString()??void 0}]);for(;;){const a=await this.retrieve(n,{vector_store_id:e},{...i,headers:r}).withResponse(),u=a.data;switch(u.status){case"in_progress":let c=5e3;if(i?.pollIntervalMs)c=i.pollIntervalMs;else{const p=a.response.headers.get("openai-poll-after-ms");if(p){const d=parseInt(p);isNaN(d)||(c=d)}}await Du(c);break;case"failed":case"completed":return u}}}async upload(e,n,i){const r=await this._client.files.create({file:n,purpose:"assistants"},i);return this.create(e,{file_id:r.id},i)}async uploadAndPoll(e,n,i){const r=await this.upload(e,n,i);return await this.poll(e,r.id,i)}content(e,n,i){const{vector_store_id:r}=n;return this._client.getAPIList(oe`/vector_stores/${r}/files/${e}/content`,lp,{...i,headers:he([{"OpenAI-Beta":"assistants=v2"},i?.headers])})}}class hp extends ye{constructor(){super(...arguments),this.files=new pI(this._client),this.fileBatches=new dI(this._client)}create(e,n){return this._client.post("/vector_stores",{body:e,...n,headers:he([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}retrieve(e,n){return this._client.get(oe`/vector_stores/${e}`,{...n,headers:he([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}update(e,n,i){return this._client.post(oe`/vector_stores/${e}`,{body:n,...i,headers:he([{"OpenAI-Beta":"assistants=v2"},i?.headers])})}list(e={},n){return this._client.getAPIList("/vector_stores",ht,{query:e,...n,headers:he([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}delete(e,n){return this._client.delete(oe`/vector_stores/${e}`,{...n,headers:he([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}search(e,n,i){return this._client.getAPIList(oe`/vector_stores/${e}/search`,lp,{body:n,method:"post",...i,headers:he([{"OpenAI-Beta":"assistants=v2"},i?.headers])})}}hp.Files=pI;hp.FileBatches=dI;class hI extends ye{create(e,n){return this._client.post("/videos",ST({body:e,...n},this._client))}retrieve(e,n){return this._client.get(oe`/videos/${e}`,n)}list(e={},n){return this._client.getAPIList("/videos",bd,{query:e,...n})}delete(e,n){return this._client.delete(oe`/videos/${e}`,n)}downloadContent(e,n={},i){return this._client.get(oe`/videos/${e}/content`,{query:n,...i,headers:he([{Accept:"application/binary"},i?.headers]),__binaryResponse:!0})}remix(e,n,i){return this._client.post(oe`/videos/${e}/remix`,ST({body:n,...i},this._client))}}var ea,mI,Qf;class gI extends ye{constructor(){super(...arguments),ea.add(this)}async unwrap(e,n,i=this._client.webhookSecret,r=300){return await this.verifySignature(e,n,i,r),JSON.parse(e)}async verifySignature(e,n,i=this._client.webhookSecret,r=300){if(typeof crypto>"u"||typeof crypto.subtle.importKey!="function"||typeof crypto.subtle.verify!="function")throw new Error("Webhook signature verification is only supported when the `crypto` global is defined");V(this,ea,"m",mI).call(this,i);const a=he([n]).values,u=V(this,ea,"m",Qf).call(this,a,"webhook-signature"),c=V(this,ea,"m",Qf).call(this,a,"webhook-timestamp"),p=V(this,ea,"m",Qf).call(this,a,"webhook-id"),d=parseInt(c,10);if(isNaN(d))throw new Ul("Invalid webhook timestamp format");const m=Math.floor(Date.now()/1e3);if(m-d>r)throw new Ul("Webhook timestamp is too old");if(d>m+r)throw new Ul("Webhook timestamp is too new");const y=u.split(" ").map(T=>T.startsWith("v1,")?T.substring(3):T),S=i.startsWith("whsec_")?Buffer.from(i.replace("whsec_",""),"base64"):Buffer.from(i,"utf-8"),E=p?`${p}.${c}.${e}`:`${c}.${e}`,C=await crypto.subtle.importKey("raw",S,{name:"HMAC",hash:"SHA-256"},!1,["verify"]);for(const T of y)try{const x=Buffer.from(T,"base64");if(await crypto.subtle.verify("HMAC",C,x,new TextEncoder().encode(E)))return}catch{continue}throw new Ul("The given webhook signature does not match the expected signature")}}ea=new WeakSet,mI=function(e){if(typeof e!="string"||e.length===0)throw new Error("The webhook secret must either be set using the env var, OPENAI_WEBHOOK_SECRET, on the client class, OpenAI({ webhookSecret: '123' }), or passed to this function")},Qf=function(e,n){if(!e)throw new Error("Headers are required");const i=e.get(n);if(i==null)throw new Error(`Missing required header: ${n}`);return i};var Dv,Zy,Zf,vI;class Ne{constructor({baseURL:e=qs("OPENAI_BASE_URL"),apiKey:n=qs("OPENAI_API_KEY"),organization:i=qs("OPENAI_ORG_ID")??null,project:r=qs("OPENAI_PROJECT_ID")??null,webhookSecret:a=qs("OPENAI_WEBHOOK_SECRET")??null,...u}={}){if(Dv.add(this),Zf.set(this,void 0),this.completions=new JN(this),this.chat=new Gy(this),this.embeddings=new XN(this),this.files=new jN(this),this.images=new iI(this),this.audio=new Pu(this),this.moderations=new rI(this),this.models=new oI(this),this.fineTuning=new Ra(this),this.graders=new Wy(this),this.vectorStores=new hp(this),this.webhooks=new gI(this),this.beta=new xa(this),this.batches=new BN(this),this.uploads=new Qy(this),this.responses=new pp(this),this.realtime=new dp(this),this.conversations=new zy(this),this.evals=new Jy(this),this.containers=new Vy(this),this.videos=new hI(this),n===void 0)throw new Se("Missing credentials. Please pass an `apiKey`, or set the `OPENAI_API_KEY` environment variable.");const c={apiKey:n,organization:i,project:r,webhookSecret:a,...u,baseURL:e||"https://api.openai.com/v1"};if(!c.dangerouslyAllowBrowser&&R3())throw new Se(`It looks like you're running in a browser-like environment.

This is disabled by default, as it risks exposing your secret API credentials to attackers.
If you understand the risks and have appropriate mitigations in place,
you can set the \`dangerouslyAllowBrowser\` option to \`true\`, e.g.,

new OpenAI({ apiKey, dangerouslyAllowBrowser: true });

https://help.openai.com/en/articles/5112595-best-practices-for-api-key-safety
`);this.baseURL=c.baseURL,this.timeout=c.timeout??Zy.DEFAULT_TIMEOUT,this.logger=c.logger??console;const p="warn";this.logLevel=p,this.logLevel=yT(c.logLevel,"ClientOptions.logLevel",this)??yT(qs("OPENAI_LOG"),"process.env['OPENAI_LOG']",this)??p,this.fetchOptions=c.fetchOptions,this.maxRetries=c.maxRetries??2,this.fetch=c.fetch??O3(),Ce(this,Zf,L3),this._options=c,this.apiKey=typeof n=="string"?n:"Missing Key",this.organization=i,this.project=r,this.webhookSecret=a}withOptions(e){return new this.constructor({...this._options,baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,organization:this.organization,project:this.project,webhookSecret:this.webhookSecret,...e})}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:e,nulls:n}){}async authHeaders(e){return he([{Authorization:`Bearer ${this.apiKey}`}])}stringifyQuery(e){return F3(e,{arrayFormat:"brackets"})}getUserAgent(){return`${this.constructor.name}/JS ${Qs}`}defaultIdempotencyKey(){return`stainless-node-retry-${GM()}`}makeStatusError(e,n,i,r){return It.generate(e,n,i,r)}async _callApiKey(){const e=this._options.apiKey;if(typeof e!="function")return!1;let n;try{n=await e()}catch(i){throw i instanceof Se?i:new Se(`Failed to get token from 'apiKey' function: ${i.message}`,{cause:i})}if(typeof n!="string"||!n)throw new Se(`Expected 'apiKey' function argument to return a string but it returned ${n}`);return this.apiKey=n,!0}buildURL(e,n,i){const r=!V(this,Dv,"m",vI).call(this)&&i||this.baseURL,a=w3(e)?new URL(e):new URL(r+(r.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),u=this.defaultQuery();return C3(u)||(n={...u,...n}),typeof n=="object"&&n&&!Array.isArray(n)&&(a.search=this.stringifyQuery(n)),a.toString()}async prepareOptions(e){await this._callApiKey()}async prepareRequest(e,{url:n,options:i}){}get(e,n){return this.methodRequest("get",e,n)}post(e,n){return this.methodRequest("post",e,n)}patch(e,n){return this.methodRequest("patch",e,n)}put(e,n){return this.methodRequest("put",e,n)}delete(e,n){return this.methodRequest("delete",e,n)}methodRequest(e,n,i){return this.request(Promise.resolve(i).then(r=>({method:e,path:n,...r})))}request(e,n=null){return new ap(this,this.makeRequest(e,n,void 0))}async makeRequest(e,n,i){const r=await e,a=r.maxRetries??this.maxRetries;n==null&&(n=a),await this.prepareOptions(r);const{req:u,url:c,timeout:p}=await this.buildRequest(r,{retryCount:a-n});await this.prepareRequest(u,{url:c,options:r});const d="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),m=i===void 0?"":`, retryOf: ${i}`,y=Date.now();if(Mt(this).debug(`[${d}] sending request`,Ir({retryOfRequestLogID:i,method:r.method,url:c,options:r,headers:u.headers})),r.signal?.aborted)throw new Bn;const S=new AbortController,E=await this.fetchWithTimeout(c,u,p,S).catch(Sv),C=Date.now();if(E instanceof globalThis.Error){const M=`retrying, ${n} attempts remaining`;if(r.signal?.aborted)throw new Bn;const I=_v(E)||/timed? ?out/i.test(String(E)+("cause"in E?String(E.cause):""));if(n)return Mt(this).info(`[${d}] connection ${I?"timed out":"failed"} - ${M}`),Mt(this).debug(`[${d}] connection ${I?"timed out":"failed"} (${M})`,Ir({retryOfRequestLogID:i,url:c,durationMs:C-y,message:E.message})),this.retryRequest(r,n,i??d);throw Mt(this).info(`[${d}] connection ${I?"timed out":"failed"} - error; no more retries left`),Mt(this).debug(`[${d}] connection ${I?"timed out":"failed"} (error; no more retries left)`,Ir({retryOfRequestLogID:i,url:c,durationMs:C-y,message:E.message})),I?new Iy:new rp({cause:E})}const T=[...E.headers.entries()].filter(([M])=>M==="x-request-id").map(([M,I])=>", "+M+": "+JSON.stringify(I)).join(""),x=`[${d}${m}${T}] ${u.method} ${c} ${E.ok?"succeeded":"failed"} with status ${E.status} in ${C-y}ms`;if(!E.ok){const M=await this.shouldRetry(E);if(n&&M){const O=`retrying, ${n} attempts remaining`;return await P3(E.body),Mt(this).info(`${x} - ${O}`),Mt(this).debug(`[${d}] response error (${O})`,Ir({retryOfRequestLogID:i,url:E.url,status:E.status,headers:E.headers,durationMs:C-y})),this.retryRequest(r,n,i??d,E.headers)}const I=M?"error; no more retries left":"error; not retryable";Mt(this).info(`${x} - ${I}`);const N=await E.text().catch(O=>Sv(O).message),D=x3(N),U=D?void 0:N;throw Mt(this).debug(`[${d}] response error (${I})`,Ir({retryOfRequestLogID:i,url:E.url,status:E.status,headers:E.headers,message:U,durationMs:Date.now()-y})),this.makeStatusError(E.status,D,U,E.headers)}return Mt(this).info(x),Mt(this).debug(`[${d}] response start`,Ir({retryOfRequestLogID:i,url:E.url,status:E.status,headers:E.headers,durationMs:C-y})),{response:E,options:r,controller:S,requestLogID:d,retryOfRequestLogID:i,startTime:y}}getAPIList(e,n,i){return this.requestAPIList(n,{method:"get",path:e,...i})}requestAPIList(e,n){const i=this.makeRequest(n,null,void 0);return new W3(this,i,e)}async fetchWithTimeout(e,n,i,r){const{signal:a,method:u,...c}=n||{};a&&a.addEventListener("abort",()=>r.abort());const p=setTimeout(()=>r.abort(),i),d=globalThis.ReadableStream&&c.body instanceof globalThis.ReadableStream||typeof c.body=="object"&&c.body!==null&&Symbol.asyncIterator in c.body,m={signal:r.signal,...d?{duplex:"half"}:{},method:"GET",...c};u&&(m.method=u.toUpperCase());try{return await this.fetch.call(void 0,e,m)}finally{clearTimeout(p)}}async shouldRetry(e){const n=e.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,n,i,r){let a;const u=r?.get("retry-after-ms");if(u){const p=parseFloat(u);Number.isNaN(p)||(a=p)}const c=r?.get("retry-after");if(c&&!a){const p=parseFloat(c);Number.isNaN(p)?a=Date.parse(c)-Date.now():a=p*1e3}if(!(a&&0<=a&&a<60*1e3)){const p=e.maxRetries??this.maxRetries;a=this.calculateDefaultRetryTimeoutMillis(n,p)}return await Du(a),this.makeRequest(e,n-1,i)}calculateDefaultRetryTimeoutMillis(e,n){const a=n-e,u=Math.min(.5*Math.pow(2,a),8),c=1-Math.random()*.25;return u*c*1e3}async buildRequest(e,{retryCount:n=0}={}){const i={...e},{method:r,path:a,query:u,defaultBaseURL:c}=i,p=this.buildURL(a,u,c);"timeout"in i&&A3("timeout",i.timeout),i.timeout=i.timeout??this.timeout;const{bodyHeaders:d,body:m}=this.buildBody({options:i}),y=await this.buildHeaders({options:e,method:r,bodyHeaders:d,retryCount:n});return{req:{method:r,headers:y,...i.signal&&{signal:i.signal},...globalThis.ReadableStream&&m instanceof globalThis.ReadableStream&&{duplex:"half"},...m&&{body:m},...this.fetchOptions??{},...i.fetchOptions??{}},url:p,timeout:i.timeout}}async buildHeaders({options:e,method:n,bodyHeaders:i,retryCount:r}){let a={};this.idempotencyHeader&&n!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),a[this.idempotencyHeader]=e.idempotencyKey);const u=he([a,{Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(r),...e.timeout?{"X-Stainless-Timeout":String(Math.trunc(e.timeout/1e3))}:{},...D3(),"OpenAI-Organization":this.organization,"OpenAI-Project":this.project},await this.authHeaders(e),this._options.defaultHeaders,i,e.headers]);return this.validateHeaders(u),u.values}buildBody({options:{body:e,headers:n}}){if(!e)return{bodyHeaders:void 0,body:void 0};const i=he([n]);return ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof DataView||typeof e=="string"&&i.values.has("content-type")||globalThis.Blob&&e instanceof globalThis.Blob||e instanceof FormData||e instanceof URLSearchParams||globalThis.ReadableStream&&e instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:e}:typeof e=="object"&&(Symbol.asyncIterator in e||Symbol.iterator in e&&"next"in e&&typeof e.next=="function")?{bodyHeaders:void 0,body:ZM(e)}:V(this,Zf,"f").call(this,{body:e,headers:i})}}Zy=Ne,Zf=new WeakMap,Dv=new WeakSet,vI=function(){return this.baseURL!=="https://api.openai.com/v1"};Ne.OpenAI=Zy;Ne.DEFAULT_TIMEOUT=6e5;Ne.OpenAIError=Se;Ne.APIError=It;Ne.APIConnectionError=rp;Ne.APIConnectionTimeoutError=Iy;Ne.APIUserAbortError=Bn;Ne.NotFoundError=zM;Ne.ConflictError=qM;Ne.RateLimitError=YM;Ne.BadRequestError=FM;Ne.AuthenticationError=$M;Ne.InternalServerError=KM;Ne.PermissionDeniedError=VM;Ne.UnprocessableEntityError=JM;Ne.InvalidWebhookSignatureError=Ul;Ne.toFile=t4;Ne.Completions=JN;Ne.Chat=Gy;Ne.Embeddings=XN;Ne.Files=jN;Ne.Images=iI;Ne.Audio=Pu;Ne.Moderations=rI;Ne.Models=oI;Ne.FineTuning=Ra;Ne.Graders=Wy;Ne.VectorStores=hp;Ne.Webhooks=gI;Ne.Beta=xa;Ne.Batches=BN;Ne.Uploads=Qy;Ne.Responses=pp;Ne.Realtime=dp;Ne.Conversations=zy;Ne.Evals=Jy;Ne.Containers=Vy;Ne.Videos=hI;class UT extends Error{}const yI=["gpt-4o-mini","gpt-5.1","gpt-5-mini","gpt-5-nano","gpt-5"];class au{static getApiKey=null;static setApiKey=null;static getClient(){const e=this.getApiKey?.()||"";if(!e)throw new UT("No OpenAI API key set");return new Ne({apiKey:e,dangerouslyAllowBrowser:!0})}static async txt2txt(e,n,i="gpt-4o-mini",r){try{const a=this.getClient(),u=[];n&&u.push({role:"system",content:n}),e&&u.push({role:"user",content:[{type:"input_text",text:e}]}),r&&console.log(r);const c={model:i,input:u};console.log("GPT Payload:",c);const d=(await a.responses.create(c)).output_text;return console.log("GPT Response TEXT:",{text:d}),d}catch(a){if(console.error("ChatGPT Error:",a),(a?.message||"").includes("Incorrect API key provided")||a instanceof UT){const c=window.prompt("Your OpenAI API key is missing or invalid. Please enter a valid key:");return c?this.setApiKey?.(c):console.warn("User did not provide a valid API key."),null}throw a}}}class R4{rootHandle=null;project=null;data={};constructor(e=null,n=null){this.rootHandle=e,this.project=n,po(this)}async load(){if(this.rootHandle)try{const e={};for await(const n of this.rootHandle.values()){if(n.kind!=="directory")continue;const i=n.name,r=n,a={};for await(const u of r.values()){if(u.kind!=="directory")continue;const c=u.name,p=u,d=[];for await(const m of p.values()){if(m.kind!=="file"||!m.name.match(/\.(png|jpg|jpeg|webp|gif)$/i))continue;const y=m,S=`${i}/${c}/${y.name}`;d.push(new M4(y,p,S,this))}a[c]=d}e[i]=a}Je(()=>{this.data=e})}catch(e){console.error("Error loading artbook:",e),Je(()=>{this.data={}})}}getTag(e){if(!e)return null;const n=e.split("/");if(n.length<3)return null;const[i,r,a]=n,u=this.data[i];if(!u)return null;const c=u[r];return c&&c.find(d=>d.handle.name===a)||null}log(){console.log(Vr(this))}getJson(){const e={};for(const[n,i]of Object.entries(this.data)){e[n]={};for(const[r,a]of Object.entries(i))e[n][r]=a.map(u=>u.handle.name)}return e}}class M4{handle;folder;image;artInfo=null;path;artbook;constructor(e,n,i,r=null){this.handle=e,this.folder=n,this.image=new Yr(e,this.folder),this.path=i,this.artbook=r,po(this)}async getArtInfo(){if(this.artInfo)return this.artInfo;try{const e=await Jr.create(this.folder,this.handle.name+".json");Je(()=>{this.artInfo=e})}catch(e){console.warn("Unable to load art info for:",this.handle.name,e)}return this.artInfo}}class N4{project;isLoading=!1;data_local={};onSave=()=>{};modifyData=e=>e;onGenerate=()=>{};constructor(e,n,i){this.project=n,i&&(this.onSave=i),po(this),this.data_local=e}setModel(e){this.data_local.model=e}setPrompt(e){this.data_local.prompt=e}setSystemMessage(e){this.data_local.system_message=e}setValue(e,n){this.data_local[e]=n}applyPreset(e){this.data_local={preset:e}}get data(){return{...Vr(this.project.promptPresets[this.data_local.preset])||{},...this.data_local}}log(){console.log(Vr(this))}save(){this.onSave()}savePreset(e=null){const n=this.data;e&&(n.preset=e),this.project.savePromptPreset(n),e&&this.applyPreset(e)}async generate(){Je(()=>{this.isLoading=!0});try{let e=this.data;e=this.modifyData(e),console.log(e);const n=await au.txt2txt(e.prompt,e.system_message,e.model);return this.onGenerate(n),n}catch(e){return console.error("Error generating:",e),null}finally{Je(()=>{this.isLoading=!1})}}}const I4={tags:[],shotsjson:"",script:"",split_shots_prompt:{preset:"split_shots"}};class kT{folder;sceneJson=null;shots=[];project;is_generating_shotsjson=!1;is_generating_tags=!1;is_generating_all_shot_images=!1;split_shots_prompt=null;constructor(e,n){this.folder=e,this.project=n,po(this)}async load(){try{this.sceneJson=await Jr.create(this.folder,"sceneinfo.json",I4),this.split_shots_prompt=new N4(this.sceneJson.data.split_shots_prompt,this.project,()=>{this.sceneJson?.updateField("split_shots_prompt",this.split_shots_prompt?.data_local)}),this.split_shots_prompt.modifyData=e=>(e.prompt+=`


SCRIPT:
${this.sceneJson?.data?.script}`,e),this.split_shots_prompt.onGenerate=e=>{this.sceneJson?.updateField("shotsjson",e)},this.shots=[];for await(const e of this.folder.values())if(e.kind==="directory"){const n=new aT(e,this);await n.load(),this.shots.push(n)}}catch(e){console.error("Error loading scene:",e),this.sceneJson=null,this.shots=[]}}removeTag(e){this.sceneJson?.data?.tags&&(this.sceneJson.data.tags=this.sceneJson.data.tags.filter(n=>n!==e),this.sceneJson.save())}async delete(){if(!this.project?.rootDirHandle){console.error("Cannot delete scene: project root not set");return}try{await(await this.project.rootDirHandle.getDirectoryHandle("SCENES")).removeEntry(this.folder.name,{recursive:!0}),Je(()=>{this.project&&(this.project.scenes=this.project.scenes.filter(n=>n!==this))})}catch(e){console.error("Failed to delete scene:",e)}}async createShot(e){if(!this.folder)return console.error("No scene folder available"),null;const n=this.shots.find(i=>i.folder.name===e);if(n)return n;try{const i=await this.folder.getDirectoryHandle(e,{create:!0}),r=new aT(i,this);return await r.load(),Je(()=>{const a=this.shots.findIndex(u=>u.folder.name.localeCompare(e)>0);a===-1?this.shots.push(r):this.shots.splice(a,0,r)}),r}catch(i){return console.error("Failed to create shot:",i),null}}get finishedShotsNum(){return this.shots.filter(e=>e.shotJson?.data?.finished).length}async generateShotsJson(){if(!this.sceneJson?.data?.script)return null;Je(()=>{this.is_generating_shotsjson=!0});const e=this.sceneJson.data.script,n=`
${this.project?.projinfo?.data?.split_shot_prompt}

SCRIPT:
${e}
`,i="You are a helpful assistant. Always respond using ONLY valid JSON. Do not write explanations. Do not wrap the JSON in backticks. The entire response must be a valid JSON object.";try{return await au.txt2txt(n,i,this.project?.projinfo?.data.gpt_model)}catch(r){return console.error("Error generating shots JSON:",r),null}finally{Je(()=>{this.is_generating_shotsjson=!1})}}async createShotsFromShotsJson(){if(!this.sceneJson?.data?.shotsjson){console.warn("No shots JSON found in scene.");return}let e;try{e=JSON.parse(this.sceneJson.data.shotsjson)}catch(n){console.error("Invalid shots JSON:",n),alert("Error: The shots JSON is invalid. Please check the format.");return}for(const n of Object.keys(e)){const i=e[n];if(!i||typeof i!="object"){console.warn(`Skipping invalid shot data for key: ${n}`);continue}try{const r=await this.createShot(n);if(!r){console.error(`Failed to create shot ${n}`);continue}r.shotJson&&(Object.assign(r.shotJson.data,i),await r.shotJson.save())}catch(r){console.error(`Error creating shot ${n}:`,r)}}}log(){console.log(Vr(this))}getTags(){if(!this.sceneJson?.data?.tags||!this.project?.artbook)return[];const e=[];for(const n of this.sceneJson.data.tags){const i=this.project.artbook.getTag(n);i&&e.push(i)}return e}get tags(){return this.getTags()}async generateTags(){Je(()=>{this.is_generating_tags=!0});const e=`
${this.project?.projinfo?.data?.generate_tags_prompt}

SCRIPT:
${this.sceneJson?.data.script}

SHOTS JSON:
${this.sceneJson?.data.shotsjson}

REFS DICTIONARY:
${JSON.stringify(this.project?.artbook?.getJson(),null,2)}

`,n="You are a helpful assistant. Do not write explanations. ";try{const i=await au.txt2txt(e,n,this.project?.projinfo?.data.gpt_model);for(const r of i?.split(`
`)||[]){const a=r.trim();a&&(console.log("Adding Tag: ",a),this.addTag(a))}return i}catch(i){return console.error("Error generating tags:",i),null}finally{Je(()=>{this.is_generating_tags=!1})}}addTag(e){Je(()=>{this.sceneJson?.data.tags.includes(e)||(this.project?.artbook?.getTag(e)?(this.sceneJson?.data.tags.push(e),this.sceneJson?.save()):console.log("Tag not found: ",e))})}async generateAllShotImages(){Je(()=>{this.is_generating_all_shot_images=!0});const e=this.shots.filter(n=>!n.srcImage).map(n=>n.GenerateImage());await Promise.all(e),Je(()=>{this.is_generating_all_shot_images=!1})}}const Ov=(t,e)=>e.some(n=>t instanceof n);let BT,HT;function D4(){return BT||(BT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function O4(){return HT||(HT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Pv=new WeakMap,Cg=new WeakMap,mp=new WeakMap;function P4(t){const e=new Promise((n,i)=>{const r=()=>{t.removeEventListener("success",a),t.removeEventListener("error",u)},a=()=>{n(kr(t.result)),r()},u=()=>{i(t.error),r()};t.addEventListener("success",a),t.addEventListener("error",u)});return mp.set(e,t),e}function L4(t){if(Pv.has(t))return;const e=new Promise((n,i)=>{const r=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",u),t.removeEventListener("abort",u)},a=()=>{n(),r()},u=()=>{i(t.error||new DOMException("AbortError","AbortError")),r()};t.addEventListener("complete",a),t.addEventListener("error",u),t.addEventListener("abort",u)});Pv.set(t,e)}let Lv={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Pv.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return kr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function _I(t){Lv=t(Lv)}function U4(t){return O4().includes(t)?function(...e){return t.apply(Uv(this),e),kr(this.request)}:function(...e){return kr(t.apply(Uv(this),e))}}function k4(t){return typeof t=="function"?U4(t):(t instanceof IDBTransaction&&L4(t),Ov(t,D4())?new Proxy(t,Lv):t)}function kr(t){if(t instanceof IDBRequest)return P4(t);if(Cg.has(t))return Cg.get(t);const e=k4(t);return e!==t&&(Cg.set(t,e),mp.set(e,t)),e}const Uv=t=>mp.get(t);function B4(t,e,{blocked:n,upgrade:i,blocking:r,terminated:a}={}){const u=indexedDB.open(t,e),c=kr(u);return i&&u.addEventListener("upgradeneeded",p=>{i(kr(u.result),p.oldVersion,p.newVersion,kr(u.transaction),p)}),n&&u.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),c.then(p=>{a&&p.addEventListener("close",()=>a()),r&&p.addEventListener("versionchange",d=>r(d.oldVersion,d.newVersion,d))}).catch(()=>{}),c}const H4=["get","getKey","getAll","getAllKeys","count"],G4=["put","add","delete","clear"],Tg=new Map;function GT(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Tg.get(e))return Tg.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,r=G4.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(r||H4.includes(n)))return;const a=async function(u,...c){const p=this.transaction(u,r?"readwrite":"readonly");let d=p.store;return i&&(d=d.index(c.shift())),(await Promise.all([d[n](...c),r&&p.done]))[0]};return Tg.set(e,a),a}_I(t=>({...t,get:(e,n,i)=>GT(e,n)||t.get(e,n,i),has:(e,n)=>!!GT(e,n)||t.has(e,n)}));const F4=["continue","continuePrimaryKey","advance"],FT={},kv=new WeakMap,SI=new WeakMap,$4={get(t,e){if(!F4.includes(e))return t[e];let n=FT[e];return n||(n=FT[e]=function(...i){kv.set(this,SI.get(this)[e](...i))}),n}};async function*V4(...t){let e=this;if(e instanceof IDBCursor||(e=await e.openCursor(...t)),!e)return;e=e;const n=new Proxy(e,$4);for(SI.set(n,e),mp.set(n,Uv(e));e;)yield n,e=await(kv.get(n)||e.continue()),kv.delete(n)}function $T(t,e){return e===Symbol.asyncIterator&&Ov(t,[IDBIndex,IDBObjectStore,IDBCursor])||e==="iterate"&&Ov(t,[IDBIndex,IDBObjectStore])}_I(t=>({...t,get(e,n,i){return $T(e,n)?V4:t.get(e,n,i)},has(e,n){return $T(e,n)||t.has(e,n)}}));const z4="ShotMasterRE",Nf="settings";class q4{db=null;data={id:"settings",lastOpenedFolder:null,recentFolders:[],api_keys:{}};constructor(){po(this.data)}async getDB(){return this.db?this.db:(this.db=await B4(z4,1,{upgrade(e){e.objectStoreNames.contains(Nf)||e.createObjectStore(Nf,{keyPath:"id"})}}),this.db)}async load(){const n=await(await this.getDB()).get(Nf,"settings");return n&&Je(()=>{Object.assign(this.data,n)}),this.data}async save(){const e=await this.getDB(),n=Vr(this.data);await e.put(Nf,n)}async update(e){Je(()=>e(this.data)),await this.save()}}class J4{fileHandle;text="";scenes=new Map;project=null;constructor(e,n=null){this.fileHandle=e,this.project=n,po(this,{},{autoBind:!0})}async load(){const e=await this.fileHandle.getFile();this.text=(await e.text()).replace(/\r\n/g,`
`),this.splitIntoScenes()}async save(){const e=await this.fileHandle.createWritable();await e.write(this.text),await e.close()}setText(e){this.text=e,this.splitIntoScenes()}splitIntoScenes(){this.scenes.clear();const e=/^SC_[^\n]{1,32}$/gm,n=[...this.text.matchAll(e)];if(n.length===0){this.scenes.set("",this.text);return}for(let i=0;i<n.length;i++){const r=n[i][0],a=n[i].index;if(i===0&&a>0){const p=this.text.slice(0,a);this.scenes.set("",p)}const u=i+1<n.length?n[i+1].index:this.text.length,c=this.text.slice(a,u);this.scenes.set(r,c)}}get sortedSceneKeys(){return Array.from(this.scenes.keys()).sort((e,n)=>e.localeCompare(n))}joinScenes(){let e="";for(const n of this.sortedSceneKeys)e+=this.scenes.get(n);return e}setSceneText(e,n){this.scenes.set(e,n),this.text=this.joinScenes(),this.splitIntoScenes()}async createScenes(){if(!this.project){console.error("Script has no project reference");return}for(const e of this.sortedSceneKeys){if(e==="")continue;const n=this.scenes.get(e)??"";try{const i=await this.project.createScene(e);if(!i){console.error(`Failed to create scene ${e}`);continue}i.sceneJson&&(i.sceneJson.data.script=n,await i.sceneJson.save())}catch(i){console.error(`Error creating scene ${e}:`,i)}}}}const Y4={gpt_model:"gpt-4o-mini",describe_prompt:"        . ",generate_tags_prompt:`
     (SCRIPT)     (SHOTS JSON)        REFS DICTIONARY     .

     ,        ,      :
  ENV/ROOM1/Night.png
  CHAR/VICTOR/Portrait.png


  `,split_shot_prompt:`
       ,            json,     json   :
{
  "SHOT_010" : 
    {
    "prompt" : "     ", 
    "camera" : "focal length, shot type", 
    "action_description" : "     ", 
    },

}`,prompt_presets:{split_shots:{model:"gpt-4o",prompt:`
       ,            json,     json   :
{
  "SHOT_010" : 
    {
    "prompt" : "     ", 
    "camera" : "focal length, shot type", 
    "action_description" : "     ", 
    },

}`,system_message:"You are a helpful assistant. Always respond using ONLY valid JSON. Do not write explanations. Do not wrap the JSON in backticks. The entire response must be a valid JSON object."},generate_tags:{model:"gpt-4o",prompt:"Generate Tags ",system_message:"You are a tagger "}}};class K4{rootDirHandle=null;scenes=[];artbook=null;script=null;userSettingsDB=new q4;projinfo=null;currentView={type:"none"};selectedScene=null;constructor(e=null){this.rootDirHandle=e,po(this)}async loadFromFolder(e){e&&(this.rootDirHandle=e,Je(async()=>{this.userSettingsDB.data.lastOpenedFolder=e,(await Promise.all(this.userSettingsDB.data.recentFolders.map(async i=>{try{return await i.isSameEntry(e)}catch{return!1}}))).includes(!0)||(this.userSettingsDB.data.recentFolders.push(e),this.userSettingsDB.data.recentFolders=this.userSettingsDB.data.recentFolders.slice(-5)),await this.userSettingsDB.save(),this.projinfo=await Jr.create(this.rootDirHandle,"projinfo.json",Y4)}),await Promise.all([this.loadScenes(),this.loadArtbook(),this.loadScript()]))}async loadScenes(){if(this.rootDirHandle)try{const e=await this.rootDirHandle.getDirectoryHandle("SCENES",{create:!0}),n=[];for await(const i of e.values())if(i.kind==="directory"){const r=new kT(i,this);await r.load(),n.push(r)}Je(()=>{this.scenes=n})}catch(e){console.error("Error loading scenes:",e),Je(()=>{this.scenes=[]})}}async loadArtbook(){if(this.rootDirHandle)try{const e=await this.rootDirHandle.getDirectoryHandle("REFS",{create:!0}),n=new R4(e,this);await n.load(),Je(()=>{this.artbook=n})}catch(e){console.error("Error loading artbook:",e),Je(()=>{this.artbook=null})}}async loadScript(){if(this.rootDirHandle)try{const e=await this.rootDirHandle.getFileHandle("script.txt",{create:!0}),n=new J4(e,this);await n.load(),Je(()=>{this.script=n})}catch(e){console.error("Error loading script:",e),Je(()=>{this.script=null})}}async loadDB(){await this.userSettingsDB.load(),ua.getApiKey=()=>this.userSettingsDB.data.api_keys.Google_API_KEY||null,ua.setApiKey=async e=>{await this.userSettingsDB.update(n=>{n.api_keys.Google_API_KEY=e})},au.getApiKey=()=>this.userSettingsDB.data.api_keys.GPT_API_KEY||null,au.setApiKey=async e=>{await this.userSettingsDB.update(n=>{n.api_keys.GPT_API_KEY=e})}}async createScene(e){if(!this.rootDirHandle)return console.error("No project folder open"),null;const n=this.scenes.find(i=>i.folder.name===e);if(n)return n;try{const r=await(await this.rootDirHandle.getDirectoryHandle("SCENES",{create:!0})).getDirectoryHandle(e,{create:!0}),a=new kT(r,this);return await a.load(),Je(()=>{const u=this.scenes.findIndex(c=>c.folder.name.localeCompare(a.folder.name)>0);u===-1?this.scenes.push(a):this.scenes.splice(u,0,a)}),a}catch(i){return console.error("Failed to create scene:",i),null}}log(){console.log(Vr(this))}setView(e,n=null){this.currentView=e,this.selectedScene=n}get promptPresets(){return this.projinfo?this.projinfo.data.prompt_presets:{}}savePromptPreset(e){Je(()=>{this.projinfo&&(this.projinfo.data.prompt_presets[e.preset]=e,this.projinfo?.save())})}}const X4=({onOpenFolder:t,recentFolders:e,onOpenRecent:n,project:i})=>{const r=[{name:"Open",onClick:t},{name:"Recent",subItems:e.length?e.map(c=>({name:c.name,onClick:()=>n(c)})):[{name:"No Recent"}]}],a=[{name:"Undo"},{name:"Redo"}],u=[{name:"About"}];return A.jsx(xw,{expand:!0,children:A.jsxs(Vx,{fluid:!0,children:[A.jsx(xw.Brand,{children:"ShotMasterRT"}),A.jsxs(Z2,{className:"me-auto",style:{userSelect:"none"},children:[A.jsx(Vs,{title:"File",items:r}),A.jsx(Vs,{title:"Edit",items:a}),A.jsx(Vs,{title:"Help",items:u}),A.jsx(Vs,{title:"Settings",onClick:()=>i.setView({type:"settings"})}),A.jsx(Vs,{title:"Script",onClick:()=>i.setView({type:"script"})}),A.jsx(Vs,{title:"Artbook",onClick:()=>i.setView({type:"artbook"})})]})]})})},W4=Dt(({scene:t})=>{const e=()=>{!t||!t.sceneJson||t.project?.setView({type:"scene"},t)};return A.jsxs("li",{className:"d-flex justify-content-between align-items-center py-1 px-2",style:{cursor:"pointer"},onClick:e,children:[A.jsx("span",{children:t.folder.name}),A.jsxs("span",{className:"text-muted",children:[t.finishedShotsNum," / ",t.shots.length]})]})}),Lt=({onClick:t,label:e="Click",className:n=""})=>A.jsx("button",{className:`btn btn-sm btn-outline-secondary ${n}`,onClick:t,children:e}),j4=Dt(({project:t})=>{if(!t)return A.jsx("div",{children:"No Project Opened"});const e=async()=>{const i=prompt("Enter new scene name");i&&await t.createScene(i)},n=t.rootDirHandle?.name||"No Project Opened";return A.jsxs("div",{style:{width:"200px",minWidth:"200px",borderRight:"1px solid #ced4da",padding:"10px",display:"flex",flexDirection:"column"},children:[A.jsx("h5",{style:{flexShrink:0,marginBottom:8},children:n}),A.jsx(Lt,{label:"+ Add Scene",onClick:e,className:"mb-2"}),A.jsx("ul",{className:"list-unstyled",style:{margin:0,padding:0,overflowY:"auto",maxHeight:"calc(100vh - 100px)"},children:t.scenes.map((i,r)=>A.jsx(W4,{scene:i},r))})]})});class VT extends w.Component{constructor(e){super(e),this.state={value:e.value}}handleChange=e=>{const n=e.target.value;this.setState({value:n}),this.props.onChange(n)};render(){const{label:e}=this.props,{value:n}=this.state;return A.jsxs("div",{style:{display:"flex",alignItems:"center",marginBottom:12},children:[A.jsx("label",{style:{marginRight:8,minWidth:120},children:e}),A.jsx("input",{type:"text",value:n,onChange:this.handleChange,style:{flexGrow:1,padding:6}})]})}}const gp=({label:t="Section",children:e,defaultCollapsed:n=!1,className:i="",headerExtra:r})=>{const[a,u]=w.useState(n);return A.jsxs("div",{className:`border rounded p-2 mb-2 ${i}`,children:[A.jsxs("div",{className:"d-flex align-items-center justify-content-between mb-2",children:[A.jsxs("div",{className:"d-flex align-items-center",children:[A.jsx("button",{className:"btn btn-sm btn-outline-secondary me-2",onClick:()=>u(!a),children:a?"":""}),A.jsx("strong",{children:t})]}),r&&!a&&A.jsx("div",{children:r})]}),!a&&A.jsx("div",{children:e})]})},Bv=({label:t,initialText:e,onSave:n,onEdit:i,fitHeight:r=!1,headerExtra:a})=>{const[u,c]=w.useState(e),[p,d]=w.useState(e),[m,y]=w.useState(!1),[S,E]=w.useState(!1),C=w.useRef(null);w.useEffect(()=>{c(e),d(e),r&&C.current&&(C.current.style.height="auto",C.current.style.height=`${C.current.scrollHeight}px`)},[e,r]);const T=u!==p,x=N=>{c(N),i&&i(N)},M=async()=>{n&&(E(!0),await n(u),d(u),E(!1))};w.useEffect(()=>{if(!m||!T)return;const N=setTimeout(()=>M(),1e3);return()=>clearTimeout(N)},[u,m,T]),w.useEffect(()=>{r&&C.current&&(C.current.style.height="auto",C.current.style.height=`${C.current.scrollHeight}px`)},[u,r]);const I=A.jsxs("div",{className:"d-flex align-items-center gap-2",children:[a&&A.jsx(A.Fragment,{children:a}),A.jsx("button",{className:"btn btn-primary btn-sm",disabled:S||!T||!n,onClick:M,children:S?"Saving...":T?"Save*":"Save"}),A.jsxs("label",{className:"d-flex align-items-center gap-1 mb-0",children:[A.jsx("input",{type:"checkbox",checked:m,onChange:N=>y(N.target.checked)}),"Auto-save"]})]});return A.jsx(gp,{label:t,headerExtra:I,children:A.jsx("textarea",{ref:C,className:"form-control",style:{fontFamily:"monospace",overflowY:"auto",maxHeight:"800px"},value:u,onChange:N=>x(N.target.value)})})},Qo=Dt(({localJson:t,field:e,fitHeight:n=!1,headerExtra:i})=>{const r=async a=>{await t.updateField(e,a)};return A.jsx(Bv,{label:e,initialText:t.data[e]??"",onSave:r,fitHeight:n,headerExtra:i})}),lu=({tabs:t})=>{const e=Object.keys(t),[n,i]=w.useState(e[0]);return A.jsxs("div",{children:[A.jsx("ul",{className:"nav nav-tabs",children:e.map(r=>A.jsx("li",{className:"nav-item",children:A.jsx("button",{className:`nav-link ${n===r?"active":""}`,onClick:()=>i(r),children:r})},r))}),A.jsx("div",{className:"tab-content p-3 border border-top-0",children:A.jsx("div",{className:"tab-pane fade show active",children:t[n]})})]})};function Q4({items:t,currentItem:e,onPicked:n,labelRenderer:i,className:r=""}){return A.jsxs(vf,{className:r,children:[A.jsx(vf.Toggle,{variant:"outline-secondary",size:"sm",children:i?i(e):String(e)}),A.jsx(vf.Menu,{children:t.map((a,u)=>A.jsx(vf.Item,{onClick:()=>n(a),children:i?i(a):String(a)},u))})]})}const Z4=Dt(({project:t})=>{const{userSettingsDB:e}=t;if(!e)return null;const n=t.projinfo?{"  ":A.jsx(Qo,{localJson:t.projinfo,field:"split_shot_prompt",fitHeight:!0})," ":A.jsx(Qo,{localJson:t.projinfo,field:"generate_tags_prompt",fitHeight:!0})}:{};return A.jsxs("div",{style:{padding:20},children:[A.jsx("h3",{children:"API Keys"}),A.jsx(Lt,{onClick:()=>{t.log()},label:"LOG Project"}),A.jsx(VT,{label:"GPT API Key",value:e.data.api_keys.GPT_API_KEY||"",onChange:async i=>{await e.update(r=>{r.api_keys.GPT_API_KEY=i})}}),A.jsx(VT,{label:"Google API Key",value:e.data.api_keys.Google_API_KEY||"",onChange:async i=>{await e.update(r=>{r.api_keys.Google_API_KEY=i})}}),A.jsx("div",{children:A.jsx(Q4,{items:yI,currentItem:t.projinfo?.data.gpt_model,onPicked:i=>{t.projinfo?.updateField("gpt_model",i)}})}),A.jsx("h2",{children:"Prompts"}),Object.keys(n).length>0&&A.jsx(lu,{tabs:n})]})}),e6=Dt(({project:t})=>{if(!t.script)return A.jsx("div",{children:"No script loaded in project."});const e=async r=>{t.script.setText(r),await t.script.save()},n={};for(const r of t.script.sortedSceneKeys)n[r||"Intro"]=A.jsx(Bv,{label:r||"Intro",initialText:t.script.scenes.get(r),onSave:async a=>{t.script.setSceneText(r,a),await t.script.save()},fitHeight:!0});const i=async()=>{try{await t.script.createScenes(),alert("Scenes created successfully!")}catch(r){console.error("Error creating scenes:",r),alert("Failed to create scenes. See console for details.")}};return A.jsxs("div",{style:{padding:"1rem"},children:[A.jsx("h4",{children:"Script"}),A.jsx(Lt,{label:"Create Scenes from Script",onClick:i,className:"mb-2"}),A.jsx(lu,{tabs:{"Full Script":A.jsx(Bv,{label:"Full Script",initialText:t.script.text,onSave:e,fitHeight:!0}),Scenes:A.jsx(lu,{tabs:n})}})]})}),t6=Dt(({art:t,onClose:e})=>{const[n,i]=w.useState(null),[r,a]=w.useState(!0);w.useEffect(()=>{let c=!0,p=t;a(!0),i(null);async function d(){const m=await p.image.getUrlObject();if(!c||t!==p)return;i(m);const y=await p.getArtInfo();!c||t!==p||(p.artInfo=y,a(!1))}return d(),()=>{c=!1}},[t]);const u=t.handle.name;return r?A.jsx("div",{children:"Loading art info..."}):A.jsxs("div",{className:"art-info-card",style:{border:"1px solid #ccc",padding:"1rem",borderRadius:"8px"},children:[A.jsxs("div",{className:"card-header",style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[A.jsx("strong",{children:u}),A.jsx("button",{onClick:e,style:{cursor:"pointer",border:"none",background:"transparent",fontSize:"1.2rem"},children:""})]}),n?A.jsx("img",{src:n,className:"preview-img",style:{maxWidth:"1000px",width:"auto",maxHeight:"1000px",objectFit:"contain",borderRadius:"4px",display:"block",marginBottom:"1rem"}}):A.jsx("div",{style:{padding:"4rem",textAlign:"center"},children:A.jsx("span",{children:"Loading image..."})}),t.artInfo&&A.jsx(Qo,{localJson:t.artInfo,field:"prompt",fitHeight:!0})]})}),n6=Dt(({artbook:t})=>{const[e,n]=w.useState(null);if(!Object.keys(t.data).length)return A.jsx("div",{children:"No Artbook content found."});const i=({art:c})=>{const[p,d]=w.useState(null);return w.useEffect(()=>{let m=!0;return c.image.getUrlObject().then(y=>{m&&d(y)}),()=>{m=!1}},[c]),A.jsx($x,{xs:6,md:3,lg:2,style:{marginBottom:"1rem"},children:A.jsxs(mf,{onClick:()=>n(c),style:{cursor:"pointer"},children:[p?A.jsx(mf.Img,{variant:"top",src:p}):A.jsx("div",{style:{padding:"2rem",textAlign:"center"},children:A.jsx(VR,{animation:"border"})}),A.jsx(mf.Body,{children:A.jsx(mf.Text,{style:{fontSize:"0.8rem"},children:c.handle.name})})]})})},r=(c,p)=>A.jsxs("div",{style:{marginBottom:"2rem"},children:[A.jsx("h5",{children:c}),A.jsx($R,{children:p.map(d=>A.jsx(i,{art:d},d.handle.name))}),e&&p.includes(e)&&A.jsx("div",{style:{marginTop:"1rem"},children:A.jsx(t6,{art:e,onClose:()=>n(null)})})]},c),a=c=>A.jsxs("div",{style:{padding:"1rem"},children:[Object.entries(c).map(([p,d])=>r(p,d)),A.jsx("div",{style:{height:"500px"}})]}),u={};for(const c in t.data)u[c]=a(t.data[c]);return A.jsxs("div",{style:{padding:"1rem"},children:[A.jsx("h2",{className:"mb-3",children:"Artbook"}),A.jsx(lu,{tabs:u})]})}),i6=Dt(({art:t,scene:e})=>{const[n,i]=w.useState(null);if(w.useEffect(()=>{t.getArtInfo();let a=!0;return(async()=>{const c=await t.image.getUrlObject();a&&i(c||null)})(),()=>{a=!1,t.image.revokeUrl()}},[t]),!n)return null;const r=()=>{e.removeTag(t.path)};return A.jsxs("div",{className:"d-flex align-items-center justify-content-between",children:[A.jsxs("div",{className:"d-flex align-items-center",children:[A.jsx("img",{src:n,alt:t.handle.name,style:{width:40,height:40,objectFit:"cover",marginRight:8}}),A.jsxs("div",{children:[A.jsx("div",{children:t.handle.name}),A.jsx("small",{className:"text-muted",children:t.path}),t.artInfo&&A.jsx("div",{children:A.jsx("small",{children:t.artInfo.data?.description||""})})]})]}),A.jsx(Lt,{onClick:r,label:"X"})]})}),o6=({art:t,onClick:e})=>{const[n,i]=w.useState("");return w.useEffect(()=>{let r=!0;return t.image.getUrlObject().then(a=>{r&&i(a)}),()=>{r=!1,t.image.revokeUrl()}},[t]),A.jsxs("div",{className:"px-2 py-1 hover-bg-light d-flex align-items-center",style:{cursor:"pointer",gap:6},onClick:e,children:[n&&A.jsx("img",{src:n,alt:t.handle.name,style:{width:36,height:36,objectFit:"cover",borderRadius:2}}),A.jsx("span",{children:t.handle.name})]})},vp=({onClick:t,label:e="Click",className:n="",is_loading:i=!1})=>A.jsx(Lt,{onClick:t,className:`${n} ${i?"disabled":""}`,label:A.jsxs("span",{className:"d-flex align-items-center justify-content-center",children:[A.jsx("span",{className:"spinner-border spinner-border-sm me-2",role:"status","aria-hidden":"true",style:{animation:i?void 0:"none",borderColor:i?void 0:"#6c757d"}}),A.jsx("span",{children:e})]})});function Be(t,e,{checkForDefaultPrevented:n=!0}={}){return function(r){if(t?.(r),n===!1||!r.defaultPrevented)return e?.(r)}}function zT(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function yp(...t){return e=>{let n=!1;const i=t.map(r=>{const a=zT(r,e);return!n&&typeof a=="function"&&(n=!0),a});if(n)return()=>{for(let r=0;r<i.length;r++){const a=i[r];typeof a=="function"?a():zT(t[r],null)}}}}function tn(...t){return w.useCallback(yp(...t),t)}function Lu(t,e=[]){let n=[];function i(a,u){const c=w.createContext(u),p=n.length;n=[...n,u];const d=y=>{const{scope:S,children:E,...C}=y,T=S?.[t]?.[p]||c,x=w.useMemo(()=>C,Object.values(C));return A.jsx(T.Provider,{value:x,children:E})};d.displayName=a+"Provider";function m(y,S){const E=S?.[t]?.[p]||c,C=w.useContext(E);if(C)return C;if(u!==void 0)return u;throw new Error(`\`${y}\` must be used within \`${a}\``)}return[d,m]}const r=()=>{const a=n.map(u=>w.createContext(u));return function(c){const p=c?.[t]||a;return w.useMemo(()=>({[`__scope${t}`]:{...c,[t]:p}}),[c,p])}};return r.scopeName=t,[i,r6(r,...e)]}function r6(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const i=t.map(r=>({useScope:r(),scopeName:r.scopeName}));return function(a){const u=i.reduce((c,{useScope:p,scopeName:d})=>{const y=p(a)[`__scope${d}`];return{...c,...y}},{});return w.useMemo(()=>({[`__scope${e.scopeName}`]:u}),[u])}};return n.scopeName=e.scopeName,n}var er=globalThis?.document?w.useLayoutEffect:()=>{},s6=RA[" useInsertionEffect ".trim().toString()]||er;function e_({prop:t,defaultProp:e,onChange:n=()=>{},caller:i}){const[r,a,u]=a6({defaultProp:e,onChange:n}),c=t!==void 0,p=c?t:r;{const m=w.useRef(t!==void 0);w.useEffect(()=>{const y=m.current;y!==c&&console.warn(`${i} is changing from ${y?"controlled":"uncontrolled"} to ${c?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),m.current=c},[c,i])}const d=w.useCallback(m=>{if(c){const y=l6(m)?m(t):m;y!==t&&u.current?.(y)}else a(m)},[c,t,a,u]);return[p,d]}function a6({defaultProp:t,onChange:e}){const[n,i]=w.useState(t),r=w.useRef(n),a=w.useRef(e);return s6(()=>{a.current=e},[e]),w.useEffect(()=>{r.current!==n&&(a.current?.(n),r.current=n)},[n,r]),[n,i,a]}function l6(t){return typeof t=="function"}function Nd(t){const e=u6(t),n=w.forwardRef((i,r)=>{const{children:a,...u}=i,c=w.Children.toArray(a),p=c.find(f6);if(p){const d=p.props.children,m=c.map(y=>y===p?w.Children.count(d)>1?w.Children.only(null):w.isValidElement(d)?d.props.children:null:y);return A.jsx(e,{...u,ref:r,children:w.isValidElement(d)?w.cloneElement(d,void 0,m):null})}return A.jsx(e,{...u,ref:r,children:a})});return n.displayName=`${t}.Slot`,n}function u6(t){const e=w.forwardRef((n,i)=>{const{children:r,...a}=n;if(w.isValidElement(r)){const u=p6(r),c=d6(a,r.props);return r.type!==w.Fragment&&(c.ref=i?yp(i,u):u),w.cloneElement(r,c)}return w.Children.count(r)>1?w.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var c6=Symbol("radix.slottable");function f6(t){return w.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===c6}function d6(t,e){const n={...e};for(const i in e){const r=t[i],a=e[i];/^on[A-Z]/.test(i)?r&&a?n[i]=(...c)=>{const p=a(...c);return r(...c),p}:r&&(n[i]=r):i==="style"?n[i]={...r,...a}:i==="className"&&(n[i]=[r,a].filter(Boolean).join(" "))}return{...t,...n}}function p6(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var h6=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],$t=h6.reduce((t,e)=>{const n=Nd(`Primitive.${e}`),i=w.forwardRef((r,a)=>{const{asChild:u,...c}=r,p=u?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),A.jsx(p,{...c,ref:a})});return i.displayName=`Primitive.${e}`,{...t,[e]:i}},{});function EI(t,e){t&&Vd.flushSync(()=>t.dispatchEvent(e))}function bI(t){const e=t+"CollectionProvider",[n,i]=Lu(e),[r,a]=n(e,{collectionRef:{current:null},itemMap:new Map}),u=T=>{const{scope:x,children:M}=T,I=et.useRef(null),N=et.useRef(new Map).current;return A.jsx(r,{scope:x,itemMap:N,collectionRef:I,children:M})};u.displayName=e;const c=t+"CollectionSlot",p=Nd(c),d=et.forwardRef((T,x)=>{const{scope:M,children:I}=T,N=a(c,M),D=tn(x,N.collectionRef);return A.jsx(p,{ref:D,children:I})});d.displayName=c;const m=t+"CollectionItemSlot",y="data-radix-collection-item",S=Nd(m),E=et.forwardRef((T,x)=>{const{scope:M,children:I,...N}=T,D=et.useRef(null),U=tn(x,D),k=a(m,M);return et.useEffect(()=>(k.itemMap.set(D,{ref:D,...N}),()=>void k.itemMap.delete(D))),A.jsx(S,{[y]:"",ref:U,children:I})});E.displayName=m;function C(T){const x=a(t+"CollectionConsumer",T);return et.useCallback(()=>{const I=x.collectionRef.current;if(!I)return[];const N=Array.from(I.querySelectorAll(`[${y}]`));return Array.from(x.itemMap.values()).sort((k,O)=>N.indexOf(k.ref.current)-N.indexOf(O.ref.current))},[x.collectionRef,x.itemMap])}return[{Provider:u,Slot:d,ItemSlot:E},C,i]}var m6=w.createContext(void 0);function wI(t){const e=w.useContext(m6);return t||e||"ltr"}function Ri(t){const e=w.useRef(t);return w.useEffect(()=>{e.current=t}),w.useMemo(()=>(...n)=>e.current?.(...n),[])}function g6(t,e=globalThis?.document){const n=Ri(t);w.useEffect(()=>{const i=r=>{r.key==="Escape"&&n(r)};return e.addEventListener("keydown",i,{capture:!0}),()=>e.removeEventListener("keydown",i,{capture:!0})},[n,e])}var v6="DismissableLayer",Hv="dismissableLayer.update",y6="dismissableLayer.pointerDownOutside",_6="dismissableLayer.focusOutside",qT,CI=w.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),TI=w.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:i,onPointerDownOutside:r,onFocusOutside:a,onInteractOutside:u,onDismiss:c,...p}=t,d=w.useContext(CI),[m,y]=w.useState(null),S=m?.ownerDocument??globalThis?.document,[,E]=w.useState({}),C=tn(e,O=>y(O)),T=Array.from(d.layers),[x]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),M=T.indexOf(x),I=m?T.indexOf(m):-1,N=d.layersWithOutsidePointerEventsDisabled.size>0,D=I>=M,U=b6(O=>{const q=O.target,J=[...d.branches].some(X=>X.contains(q));!D||J||(r?.(O),u?.(O),O.defaultPrevented||c?.())},S),k=w6(O=>{const q=O.target;[...d.branches].some(X=>X.contains(q))||(a?.(O),u?.(O),O.defaultPrevented||c?.())},S);return g6(O=>{I===d.layers.size-1&&(i?.(O),!O.defaultPrevented&&c&&(O.preventDefault(),c()))},S),w.useEffect(()=>{if(m)return n&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(qT=S.body.style.pointerEvents,S.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(m)),d.layers.add(m),JT(),()=>{n&&d.layersWithOutsidePointerEventsDisabled.size===1&&(S.body.style.pointerEvents=qT)}},[m,S,n,d]),w.useEffect(()=>()=>{m&&(d.layers.delete(m),d.layersWithOutsidePointerEventsDisabled.delete(m),JT())},[m,d]),w.useEffect(()=>{const O=()=>E({});return document.addEventListener(Hv,O),()=>document.removeEventListener(Hv,O)},[]),A.jsx($t.div,{...p,ref:C,style:{pointerEvents:N?D?"auto":"none":void 0,...t.style},onFocusCapture:Be(t.onFocusCapture,k.onFocusCapture),onBlurCapture:Be(t.onBlurCapture,k.onBlurCapture),onPointerDownCapture:Be(t.onPointerDownCapture,U.onPointerDownCapture)})});TI.displayName=v6;var S6="DismissableLayerBranch",E6=w.forwardRef((t,e)=>{const n=w.useContext(CI),i=w.useRef(null),r=tn(e,i);return w.useEffect(()=>{const a=i.current;if(a)return n.branches.add(a),()=>{n.branches.delete(a)}},[n.branches]),A.jsx($t.div,{...t,ref:r})});E6.displayName=S6;function b6(t,e=globalThis?.document){const n=Ri(t),i=w.useRef(!1),r=w.useRef(()=>{});return w.useEffect(()=>{const a=c=>{if(c.target&&!i.current){let p=function(){AI(y6,n,d,{discrete:!0})};const d={originalEvent:c};c.pointerType==="touch"?(e.removeEventListener("click",r.current),r.current=p,e.addEventListener("click",r.current,{once:!0})):p()}else e.removeEventListener("click",r.current);i.current=!1},u=window.setTimeout(()=>{e.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(u),e.removeEventListener("pointerdown",a),e.removeEventListener("click",r.current)}},[e,n]),{onPointerDownCapture:()=>i.current=!0}}function w6(t,e=globalThis?.document){const n=Ri(t),i=w.useRef(!1);return w.useEffect(()=>{const r=a=>{a.target&&!i.current&&AI(_6,n,{originalEvent:a},{discrete:!1})};return e.addEventListener("focusin",r),()=>e.removeEventListener("focusin",r)},[e,n]),{onFocusCapture:()=>i.current=!0,onBlurCapture:()=>i.current=!1}}function JT(){const t=new CustomEvent(Hv);document.dispatchEvent(t)}function AI(t,e,n,{discrete:i}){const r=n.originalEvent.target,a=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&r.addEventListener(t,e,{once:!0}),i?EI(r,a):r.dispatchEvent(a)}var Ag=0;function C6(){w.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??YT()),document.body.insertAdjacentElement("beforeend",t[1]??YT()),Ag++,()=>{Ag===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Ag--}},[])}function YT(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var xg="focusScope.autoFocusOnMount",Rg="focusScope.autoFocusOnUnmount",KT={bubbles:!1,cancelable:!0},T6="FocusScope",xI=w.forwardRef((t,e)=>{const{loop:n=!1,trapped:i=!1,onMountAutoFocus:r,onUnmountAutoFocus:a,...u}=t,[c,p]=w.useState(null),d=Ri(r),m=Ri(a),y=w.useRef(null),S=tn(e,T=>p(T)),E=w.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;w.useEffect(()=>{if(i){let T=function(N){if(E.paused||!c)return;const D=N.target;c.contains(D)?y.current=D:Jo(y.current,{select:!0})},x=function(N){if(E.paused||!c)return;const D=N.relatedTarget;D!==null&&(c.contains(D)||Jo(y.current,{select:!0}))},M=function(N){if(document.activeElement===document.body)for(const U of N)U.removedNodes.length>0&&Jo(c)};document.addEventListener("focusin",T),document.addEventListener("focusout",x);const I=new MutationObserver(M);return c&&I.observe(c,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",T),document.removeEventListener("focusout",x),I.disconnect()}}},[i,c,E.paused]),w.useEffect(()=>{if(c){WT.add(E);const T=document.activeElement;if(!c.contains(T)){const M=new CustomEvent(xg,KT);c.addEventListener(xg,d),c.dispatchEvent(M),M.defaultPrevented||(A6(I6(RI(c)),{select:!0}),document.activeElement===T&&Jo(c))}return()=>{c.removeEventListener(xg,d),setTimeout(()=>{const M=new CustomEvent(Rg,KT);c.addEventListener(Rg,m),c.dispatchEvent(M),M.defaultPrevented||Jo(T??document.body,{select:!0}),c.removeEventListener(Rg,m),WT.remove(E)},0)}}},[c,d,m,E]);const C=w.useCallback(T=>{if(!n&&!i||E.paused)return;const x=T.key==="Tab"&&!T.altKey&&!T.ctrlKey&&!T.metaKey,M=document.activeElement;if(x&&M){const I=T.currentTarget,[N,D]=x6(I);N&&D?!T.shiftKey&&M===D?(T.preventDefault(),n&&Jo(N,{select:!0})):T.shiftKey&&M===N&&(T.preventDefault(),n&&Jo(D,{select:!0})):M===I&&T.preventDefault()}},[n,i,E.paused]);return A.jsx($t.div,{tabIndex:-1,...u,ref:S,onKeyDown:C})});xI.displayName=T6;function A6(t,{select:e=!1}={}){const n=document.activeElement;for(const i of t)if(Jo(i,{select:e}),document.activeElement!==n)return}function x6(t){const e=RI(t),n=XT(e,t),i=XT(e.reverse(),t);return[n,i]}function RI(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:i=>{const r=i.tagName==="INPUT"&&i.type==="hidden";return i.disabled||i.hidden||r?NodeFilter.FILTER_SKIP:i.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function XT(t,e){for(const n of t)if(!R6(n,{upTo:e}))return n}function R6(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function M6(t){return t instanceof HTMLInputElement&&"select"in t}function Jo(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&M6(t)&&e&&t.select()}}var WT=N6();function N6(){let t=[];return{add(e){const n=t[0];e!==n&&n?.pause(),t=jT(t,e),t.unshift(e)},remove(e){t=jT(t,e),t[0]?.resume()}}}function jT(t,e){const n=[...t],i=n.indexOf(e);return i!==-1&&n.splice(i,1),n}function I6(t){return t.filter(e=>e.tagName!=="A")}var D6=RA[" useId ".trim().toString()]||(()=>{}),O6=0;function uu(t){const[e,n]=w.useState(D6());return er(()=>{n(i=>i??String(O6++))},[t]),t||(e?`radix-${e}`:"")}const P6=["top","right","bottom","left"],tr=Math.min,gn=Math.max,Id=Math.round,If=Math.floor,xi=t=>({x:t,y:t}),L6={left:"right",right:"left",bottom:"top",top:"bottom"},U6={start:"end",end:"start"};function Gv(t,e,n){return gn(t,tr(e,n))}function co(t,e){return typeof t=="function"?t(e):t}function fo(t){return t.split("-")[0]}function Ma(t){return t.split("-")[1]}function t_(t){return t==="x"?"y":"x"}function n_(t){return t==="y"?"height":"width"}const k6=new Set(["top","bottom"]);function Ei(t){return k6.has(fo(t))?"y":"x"}function i_(t){return t_(Ei(t))}function B6(t,e,n){n===void 0&&(n=!1);const i=Ma(t),r=i_(t),a=n_(r);let u=r==="x"?i===(n?"end":"start")?"right":"left":i==="start"?"bottom":"top";return e.reference[a]>e.floating[a]&&(u=Dd(u)),[u,Dd(u)]}function H6(t){const e=Dd(t);return[Fv(t),e,Fv(e)]}function Fv(t){return t.replace(/start|end/g,e=>U6[e])}const QT=["left","right"],ZT=["right","left"],G6=["top","bottom"],F6=["bottom","top"];function $6(t,e,n){switch(t){case"top":case"bottom":return n?e?ZT:QT:e?QT:ZT;case"left":case"right":return e?G6:F6;default:return[]}}function V6(t,e,n,i){const r=Ma(t);let a=$6(fo(t),n==="start",i);return r&&(a=a.map(u=>u+"-"+r),e&&(a=a.concat(a.map(Fv)))),a}function Dd(t){return t.replace(/left|right|bottom|top/g,e=>L6[e])}function z6(t){return{top:0,right:0,bottom:0,left:0,...t}}function MI(t){return typeof t!="number"?z6(t):{top:t,right:t,bottom:t,left:t}}function Od(t){const{x:e,y:n,width:i,height:r}=t;return{width:i,height:r,top:n,left:e,right:e+i,bottom:n+r,x:e,y:n}}function eA(t,e,n){let{reference:i,floating:r}=t;const a=Ei(e),u=i_(e),c=n_(u),p=fo(e),d=a==="y",m=i.x+i.width/2-r.width/2,y=i.y+i.height/2-r.height/2,S=i[c]/2-r[c]/2;let E;switch(p){case"top":E={x:m,y:i.y-r.height};break;case"bottom":E={x:m,y:i.y+i.height};break;case"right":E={x:i.x+i.width,y};break;case"left":E={x:i.x-r.width,y};break;default:E={x:i.x,y:i.y}}switch(Ma(e)){case"start":E[u]-=S*(n&&d?-1:1);break;case"end":E[u]+=S*(n&&d?-1:1);break}return E}const q6=async(t,e,n)=>{const{placement:i="bottom",strategy:r="absolute",middleware:a=[],platform:u}=n,c=a.filter(Boolean),p=await(u.isRTL==null?void 0:u.isRTL(e));let d=await u.getElementRects({reference:t,floating:e,strategy:r}),{x:m,y}=eA(d,i,p),S=i,E={},C=0;for(let T=0;T<c.length;T++){const{name:x,fn:M}=c[T],{x:I,y:N,data:D,reset:U}=await M({x:m,y,initialPlacement:i,placement:S,strategy:r,middlewareData:E,rects:d,platform:u,elements:{reference:t,floating:e}});m=I??m,y=N??y,E={...E,[x]:{...E[x],...D}},U&&C<=50&&(C++,typeof U=="object"&&(U.placement&&(S=U.placement),U.rects&&(d=U.rects===!0?await u.getElementRects({reference:t,floating:e,strategy:r}):U.rects),{x:m,y}=eA(d,S,p)),T=-1)}return{x:m,y,placement:S,strategy:r,middlewareData:E}};async function cu(t,e){var n;e===void 0&&(e={});const{x:i,y:r,platform:a,rects:u,elements:c,strategy:p}=t,{boundary:d="clippingAncestors",rootBoundary:m="viewport",elementContext:y="floating",altBoundary:S=!1,padding:E=0}=co(e,t),C=MI(E),x=c[S?y==="floating"?"reference":"floating":y],M=Od(await a.getClippingRect({element:(n=await(a.isElement==null?void 0:a.isElement(x)))==null||n?x:x.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(c.floating)),boundary:d,rootBoundary:m,strategy:p})),I=y==="floating"?{x:i,y:r,width:u.floating.width,height:u.floating.height}:u.reference,N=await(a.getOffsetParent==null?void 0:a.getOffsetParent(c.floating)),D=await(a.isElement==null?void 0:a.isElement(N))?await(a.getScale==null?void 0:a.getScale(N))||{x:1,y:1}:{x:1,y:1},U=Od(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:I,offsetParent:N,strategy:p}):I);return{top:(M.top-U.top+C.top)/D.y,bottom:(U.bottom-M.bottom+C.bottom)/D.y,left:(M.left-U.left+C.left)/D.x,right:(U.right-M.right+C.right)/D.x}}const J6=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:i,placement:r,rects:a,platform:u,elements:c,middlewareData:p}=e,{element:d,padding:m=0}=co(t,e)||{};if(d==null)return{};const y=MI(m),S={x:n,y:i},E=i_(r),C=n_(E),T=await u.getDimensions(d),x=E==="y",M=x?"top":"left",I=x?"bottom":"right",N=x?"clientHeight":"clientWidth",D=a.reference[C]+a.reference[E]-S[E]-a.floating[C],U=S[E]-a.reference[E],k=await(u.getOffsetParent==null?void 0:u.getOffsetParent(d));let O=k?k[N]:0;(!O||!await(u.isElement==null?void 0:u.isElement(k)))&&(O=c.floating[N]||a.floating[C]);const q=D/2-U/2,J=O/2-T[C]/2-1,X=tr(y[M],J),j=tr(y[I],J),re=X,ie=O-T[C]-j,ae=O/2-T[C]/2+q,de=Gv(re,ae,ie),H=!p.arrow&&Ma(r)!=null&&ae!==de&&a.reference[C]/2-(ae<re?X:j)-T[C]/2<0,Q=H?ae<re?ae-re:ae-ie:0;return{[E]:S[E]+Q,data:{[E]:de,centerOffset:ae-de-Q,...H&&{alignmentOffset:Q}},reset:H}}}),Y6=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,i;const{placement:r,middlewareData:a,rects:u,initialPlacement:c,platform:p,elements:d}=e,{mainAxis:m=!0,crossAxis:y=!0,fallbackPlacements:S,fallbackStrategy:E="bestFit",fallbackAxisSideDirection:C="none",flipAlignment:T=!0,...x}=co(t,e);if((n=a.arrow)!=null&&n.alignmentOffset)return{};const M=fo(r),I=Ei(c),N=fo(c)===c,D=await(p.isRTL==null?void 0:p.isRTL(d.floating)),U=S||(N||!T?[Dd(c)]:H6(c)),k=C!=="none";!S&&k&&U.push(...V6(c,T,C,D));const O=[c,...U],q=await cu(e,x),J=[];let X=((i=a.flip)==null?void 0:i.overflows)||[];if(m&&J.push(q[M]),y){const ae=B6(r,u,D);J.push(q[ae[0]],q[ae[1]])}if(X=[...X,{placement:r,overflows:J}],!J.every(ae=>ae<=0)){var j,re;const ae=(((j=a.flip)==null?void 0:j.index)||0)+1,de=O[ae];if(de&&(!(y==="alignment"?I!==Ei(de):!1)||X.every(ee=>Ei(ee.placement)===I?ee.overflows[0]>0:!0)))return{data:{index:ae,overflows:X},reset:{placement:de}};let H=(re=X.filter(Q=>Q.overflows[0]<=0).sort((Q,ee)=>Q.overflows[1]-ee.overflows[1])[0])==null?void 0:re.placement;if(!H)switch(E){case"bestFit":{var ie;const Q=(ie=X.filter(ee=>{if(k){const ne=Ei(ee.placement);return ne===I||ne==="y"}return!0}).map(ee=>[ee.placement,ee.overflows.filter(ne=>ne>0).reduce((ne,ce)=>ne+ce,0)]).sort((ee,ne)=>ee[1]-ne[1])[0])==null?void 0:ie[0];Q&&(H=Q);break}case"initialPlacement":H=c;break}if(r!==H)return{reset:{placement:H}}}return{}}}};function tA(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function nA(t){return P6.some(e=>t[e]>=0)}const K6=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:i="referenceHidden",...r}=co(t,e);switch(i){case"referenceHidden":{const a=await cu(e,{...r,elementContext:"reference"}),u=tA(a,n.reference);return{data:{referenceHiddenOffsets:u,referenceHidden:nA(u)}}}case"escaped":{const a=await cu(e,{...r,altBoundary:!0}),u=tA(a,n.floating);return{data:{escapedOffsets:u,escaped:nA(u)}}}default:return{}}}}},NI=new Set(["left","top"]);async function X6(t,e){const{placement:n,platform:i,elements:r}=t,a=await(i.isRTL==null?void 0:i.isRTL(r.floating)),u=fo(n),c=Ma(n),p=Ei(n)==="y",d=NI.has(u)?-1:1,m=a&&p?-1:1,y=co(e,t);let{mainAxis:S,crossAxis:E,alignmentAxis:C}=typeof y=="number"?{mainAxis:y,crossAxis:0,alignmentAxis:null}:{mainAxis:y.mainAxis||0,crossAxis:y.crossAxis||0,alignmentAxis:y.alignmentAxis};return c&&typeof C=="number"&&(E=c==="end"?C*-1:C),p?{x:E*m,y:S*d}:{x:S*d,y:E*m}}const W6=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,i;const{x:r,y:a,placement:u,middlewareData:c}=e,p=await X6(e,t);return u===((n=c.offset)==null?void 0:n.placement)&&(i=c.arrow)!=null&&i.alignmentOffset?{}:{x:r+p.x,y:a+p.y,data:{...p,placement:u}}}}},j6=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:i,placement:r}=e,{mainAxis:a=!0,crossAxis:u=!1,limiter:c={fn:x=>{let{x:M,y:I}=x;return{x:M,y:I}}},...p}=co(t,e),d={x:n,y:i},m=await cu(e,p),y=Ei(fo(r)),S=t_(y);let E=d[S],C=d[y];if(a){const x=S==="y"?"top":"left",M=S==="y"?"bottom":"right",I=E+m[x],N=E-m[M];E=Gv(I,E,N)}if(u){const x=y==="y"?"top":"left",M=y==="y"?"bottom":"right",I=C+m[x],N=C-m[M];C=Gv(I,C,N)}const T=c.fn({...e,[S]:E,[y]:C});return{...T,data:{x:T.x-n,y:T.y-i,enabled:{[S]:a,[y]:u}}}}}},Q6=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:i,placement:r,rects:a,middlewareData:u}=e,{offset:c=0,mainAxis:p=!0,crossAxis:d=!0}=co(t,e),m={x:n,y:i},y=Ei(r),S=t_(y);let E=m[S],C=m[y];const T=co(c,e),x=typeof T=="number"?{mainAxis:T,crossAxis:0}:{mainAxis:0,crossAxis:0,...T};if(p){const N=S==="y"?"height":"width",D=a.reference[S]-a.floating[N]+x.mainAxis,U=a.reference[S]+a.reference[N]-x.mainAxis;E<D?E=D:E>U&&(E=U)}if(d){var M,I;const N=S==="y"?"width":"height",D=NI.has(fo(r)),U=a.reference[y]-a.floating[N]+(D&&((M=u.offset)==null?void 0:M[y])||0)+(D?0:x.crossAxis),k=a.reference[y]+a.reference[N]+(D?0:((I=u.offset)==null?void 0:I[y])||0)-(D?x.crossAxis:0);C<U?C=U:C>k&&(C=k)}return{[S]:E,[y]:C}}}},Z6=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,i;const{placement:r,rects:a,platform:u,elements:c}=e,{apply:p=()=>{},...d}=co(t,e),m=await cu(e,d),y=fo(r),S=Ma(r),E=Ei(r)==="y",{width:C,height:T}=a.floating;let x,M;y==="top"||y==="bottom"?(x=y,M=S===(await(u.isRTL==null?void 0:u.isRTL(c.floating))?"start":"end")?"left":"right"):(M=y,x=S==="end"?"top":"bottom");const I=T-m.top-m.bottom,N=C-m.left-m.right,D=tr(T-m[x],I),U=tr(C-m[M],N),k=!e.middlewareData.shift;let O=D,q=U;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(q=N),(i=e.middlewareData.shift)!=null&&i.enabled.y&&(O=I),k&&!S){const X=gn(m.left,0),j=gn(m.right,0),re=gn(m.top,0),ie=gn(m.bottom,0);E?q=C-2*(X!==0||j!==0?X+j:gn(m.left,m.right)):O=T-2*(re!==0||ie!==0?re+ie:gn(m.top,m.bottom))}await p({...e,availableWidth:q,availableHeight:O});const J=await u.getDimensions(c.floating);return C!==J.width||T!==J.height?{reset:{rects:!0}}:{}}}};function _p(){return typeof window<"u"}function Na(t){return II(t)?(t.nodeName||"").toLowerCase():"#document"}function _n(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Ni(t){var e;return(e=(II(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function II(t){return _p()?t instanceof Node||t instanceof _n(t).Node:!1}function si(t){return _p()?t instanceof Element||t instanceof _n(t).Element:!1}function Mi(t){return _p()?t instanceof HTMLElement||t instanceof _n(t).HTMLElement:!1}function iA(t){return!_p()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof _n(t).ShadowRoot}const e5=new Set(["inline","contents"]);function Uu(t){const{overflow:e,overflowX:n,overflowY:i,display:r}=ai(t);return/auto|scroll|overlay|hidden|clip/.test(e+i+n)&&!e5.has(r)}const t5=new Set(["table","td","th"]);function n5(t){return t5.has(Na(t))}const i5=[":popover-open",":modal"];function Sp(t){return i5.some(e=>{try{return t.matches(e)}catch{return!1}})}const o5=["transform","translate","scale","rotate","perspective"],r5=["transform","translate","scale","rotate","perspective","filter"],s5=["paint","layout","strict","content"];function o_(t){const e=r_(),n=si(t)?ai(t):t;return o5.some(i=>n[i]?n[i]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||r5.some(i=>(n.willChange||"").includes(i))||s5.some(i=>(n.contain||"").includes(i))}function a5(t){let e=nr(t);for(;Mi(e)&&!_a(e);){if(o_(e))return e;if(Sp(e))return null;e=nr(e)}return null}function r_(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const l5=new Set(["html","body","#document"]);function _a(t){return l5.has(Na(t))}function ai(t){return _n(t).getComputedStyle(t)}function Ep(t){return si(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function nr(t){if(Na(t)==="html")return t;const e=t.assignedSlot||t.parentNode||iA(t)&&t.host||Ni(t);return iA(e)?e.host:e}function DI(t){const e=nr(t);return _a(e)?t.ownerDocument?t.ownerDocument.body:t.body:Mi(e)&&Uu(e)?e:DI(e)}function fu(t,e,n){var i;e===void 0&&(e=[]),n===void 0&&(n=!0);const r=DI(t),a=r===((i=t.ownerDocument)==null?void 0:i.body),u=_n(r);if(a){const c=$v(u);return e.concat(u,u.visualViewport||[],Uu(r)?r:[],c&&n?fu(c):[])}return e.concat(r,fu(r,[],n))}function $v(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function OI(t){const e=ai(t);let n=parseFloat(e.width)||0,i=parseFloat(e.height)||0;const r=Mi(t),a=r?t.offsetWidth:n,u=r?t.offsetHeight:i,c=Id(n)!==a||Id(i)!==u;return c&&(n=a,i=u),{width:n,height:i,$:c}}function s_(t){return si(t)?t:t.contextElement}function ca(t){const e=s_(t);if(!Mi(e))return xi(1);const n=e.getBoundingClientRect(),{width:i,height:r,$:a}=OI(e);let u=(a?Id(n.width):n.width)/i,c=(a?Id(n.height):n.height)/r;return(!u||!Number.isFinite(u))&&(u=1),(!c||!Number.isFinite(c))&&(c=1),{x:u,y:c}}const u5=xi(0);function PI(t){const e=_n(t);return!r_()||!e.visualViewport?u5:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function c5(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==_n(t)?!1:e}function Xr(t,e,n,i){e===void 0&&(e=!1),n===void 0&&(n=!1);const r=t.getBoundingClientRect(),a=s_(t);let u=xi(1);e&&(i?si(i)&&(u=ca(i)):u=ca(t));const c=c5(a,n,i)?PI(a):xi(0);let p=(r.left+c.x)/u.x,d=(r.top+c.y)/u.y,m=r.width/u.x,y=r.height/u.y;if(a){const S=_n(a),E=i&&si(i)?_n(i):i;let C=S,T=$v(C);for(;T&&i&&E!==C;){const x=ca(T),M=T.getBoundingClientRect(),I=ai(T),N=M.left+(T.clientLeft+parseFloat(I.paddingLeft))*x.x,D=M.top+(T.clientTop+parseFloat(I.paddingTop))*x.y;p*=x.x,d*=x.y,m*=x.x,y*=x.y,p+=N,d+=D,C=_n(T),T=$v(C)}}return Od({width:m,height:y,x:p,y:d})}function bp(t,e){const n=Ep(t).scrollLeft;return e?e.left+n:Xr(Ni(t)).left+n}function LI(t,e){const n=t.getBoundingClientRect(),i=n.left+e.scrollLeft-bp(t,n),r=n.top+e.scrollTop;return{x:i,y:r}}function f5(t){let{elements:e,rect:n,offsetParent:i,strategy:r}=t;const a=r==="fixed",u=Ni(i),c=e?Sp(e.floating):!1;if(i===u||c&&a)return n;let p={scrollLeft:0,scrollTop:0},d=xi(1);const m=xi(0),y=Mi(i);if((y||!y&&!a)&&((Na(i)!=="body"||Uu(u))&&(p=Ep(i)),Mi(i))){const E=Xr(i);d=ca(i),m.x=E.x+i.clientLeft,m.y=E.y+i.clientTop}const S=u&&!y&&!a?LI(u,p):xi(0);return{width:n.width*d.x,height:n.height*d.y,x:n.x*d.x-p.scrollLeft*d.x+m.x+S.x,y:n.y*d.y-p.scrollTop*d.y+m.y+S.y}}function d5(t){return Array.from(t.getClientRects())}function p5(t){const e=Ni(t),n=Ep(t),i=t.ownerDocument.body,r=gn(e.scrollWidth,e.clientWidth,i.scrollWidth,i.clientWidth),a=gn(e.scrollHeight,e.clientHeight,i.scrollHeight,i.clientHeight);let u=-n.scrollLeft+bp(t);const c=-n.scrollTop;return ai(i).direction==="rtl"&&(u+=gn(e.clientWidth,i.clientWidth)-r),{width:r,height:a,x:u,y:c}}const oA=25;function h5(t,e){const n=_n(t),i=Ni(t),r=n.visualViewport;let a=i.clientWidth,u=i.clientHeight,c=0,p=0;if(r){a=r.width,u=r.height;const m=r_();(!m||m&&e==="fixed")&&(c=r.offsetLeft,p=r.offsetTop)}const d=bp(i);if(d<=0){const m=i.ownerDocument,y=m.body,S=getComputedStyle(y),E=m.compatMode==="CSS1Compat"&&parseFloat(S.marginLeft)+parseFloat(S.marginRight)||0,C=Math.abs(i.clientWidth-y.clientWidth-E);C<=oA&&(a-=C)}else d<=oA&&(a+=d);return{width:a,height:u,x:c,y:p}}const m5=new Set(["absolute","fixed"]);function g5(t,e){const n=Xr(t,!0,e==="fixed"),i=n.top+t.clientTop,r=n.left+t.clientLeft,a=Mi(t)?ca(t):xi(1),u=t.clientWidth*a.x,c=t.clientHeight*a.y,p=r*a.x,d=i*a.y;return{width:u,height:c,x:p,y:d}}function rA(t,e,n){let i;if(e==="viewport")i=h5(t,n);else if(e==="document")i=p5(Ni(t));else if(si(e))i=g5(e,n);else{const r=PI(t);i={x:e.x-r.x,y:e.y-r.y,width:e.width,height:e.height}}return Od(i)}function UI(t,e){const n=nr(t);return n===e||!si(n)||_a(n)?!1:ai(n).position==="fixed"||UI(n,e)}function v5(t,e){const n=e.get(t);if(n)return n;let i=fu(t,[],!1).filter(c=>si(c)&&Na(c)!=="body"),r=null;const a=ai(t).position==="fixed";let u=a?nr(t):t;for(;si(u)&&!_a(u);){const c=ai(u),p=o_(u);!p&&c.position==="fixed"&&(r=null),(a?!p&&!r:!p&&c.position==="static"&&!!r&&m5.has(r.position)||Uu(u)&&!p&&UI(t,u))?i=i.filter(m=>m!==u):r=c,u=nr(u)}return e.set(t,i),i}function y5(t){let{element:e,boundary:n,rootBoundary:i,strategy:r}=t;const u=[...n==="clippingAncestors"?Sp(e)?[]:v5(e,this._c):[].concat(n),i],c=u[0],p=u.reduce((d,m)=>{const y=rA(e,m,r);return d.top=gn(y.top,d.top),d.right=tr(y.right,d.right),d.bottom=tr(y.bottom,d.bottom),d.left=gn(y.left,d.left),d},rA(e,c,r));return{width:p.right-p.left,height:p.bottom-p.top,x:p.left,y:p.top}}function _5(t){const{width:e,height:n}=OI(t);return{width:e,height:n}}function S5(t,e,n){const i=Mi(e),r=Ni(e),a=n==="fixed",u=Xr(t,!0,a,e);let c={scrollLeft:0,scrollTop:0};const p=xi(0);function d(){p.x=bp(r)}if(i||!i&&!a)if((Na(e)!=="body"||Uu(r))&&(c=Ep(e)),i){const E=Xr(e,!0,a,e);p.x=E.x+e.clientLeft,p.y=E.y+e.clientTop}else r&&d();a&&!i&&r&&d();const m=r&&!i&&!a?LI(r,c):xi(0),y=u.left+c.scrollLeft-p.x-m.x,S=u.top+c.scrollTop-p.y-m.y;return{x:y,y:S,width:u.width,height:u.height}}function Mg(t){return ai(t).position==="static"}function sA(t,e){if(!Mi(t)||ai(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Ni(t)===n&&(n=n.ownerDocument.body),n}function kI(t,e){const n=_n(t);if(Sp(t))return n;if(!Mi(t)){let r=nr(t);for(;r&&!_a(r);){if(si(r)&&!Mg(r))return r;r=nr(r)}return n}let i=sA(t,e);for(;i&&n5(i)&&Mg(i);)i=sA(i,e);return i&&_a(i)&&Mg(i)&&!o_(i)?n:i||a5(t)||n}const E5=async function(t){const e=this.getOffsetParent||kI,n=this.getDimensions,i=await n(t.floating);return{reference:S5(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:i.width,height:i.height}}};function b5(t){return ai(t).direction==="rtl"}const w5={convertOffsetParentRelativeRectToViewportRelativeRect:f5,getDocumentElement:Ni,getClippingRect:y5,getOffsetParent:kI,getElementRects:E5,getClientRects:d5,getDimensions:_5,getScale:ca,isElement:si,isRTL:b5};function BI(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function C5(t,e){let n=null,i;const r=Ni(t);function a(){var c;clearTimeout(i),(c=n)==null||c.disconnect(),n=null}function u(c,p){c===void 0&&(c=!1),p===void 0&&(p=1),a();const d=t.getBoundingClientRect(),{left:m,top:y,width:S,height:E}=d;if(c||e(),!S||!E)return;const C=If(y),T=If(r.clientWidth-(m+S)),x=If(r.clientHeight-(y+E)),M=If(m),N={rootMargin:-C+"px "+-T+"px "+-x+"px "+-M+"px",threshold:gn(0,tr(1,p))||1};let D=!0;function U(k){const O=k[0].intersectionRatio;if(O!==p){if(!D)return u();O?u(!1,O):i=setTimeout(()=>{u(!1,1e-7)},1e3)}O===1&&!BI(d,t.getBoundingClientRect())&&u(),D=!1}try{n=new IntersectionObserver(U,{...N,root:r.ownerDocument})}catch{n=new IntersectionObserver(U,N)}n.observe(t)}return u(!0),a}function T5(t,e,n,i){i===void 0&&(i={});const{ancestorScroll:r=!0,ancestorResize:a=!0,elementResize:u=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:p=!1}=i,d=s_(t),m=r||a?[...d?fu(d):[],...fu(e)]:[];m.forEach(M=>{r&&M.addEventListener("scroll",n,{passive:!0}),a&&M.addEventListener("resize",n)});const y=d&&c?C5(d,n):null;let S=-1,E=null;u&&(E=new ResizeObserver(M=>{let[I]=M;I&&I.target===d&&E&&(E.unobserve(e),cancelAnimationFrame(S),S=requestAnimationFrame(()=>{var N;(N=E)==null||N.observe(e)})),n()}),d&&!p&&E.observe(d),E.observe(e));let C,T=p?Xr(t):null;p&&x();function x(){const M=Xr(t);T&&!BI(T,M)&&n(),T=M,C=requestAnimationFrame(x)}return n(),()=>{var M;m.forEach(I=>{r&&I.removeEventListener("scroll",n),a&&I.removeEventListener("resize",n)}),y?.(),(M=E)==null||M.disconnect(),E=null,p&&cancelAnimationFrame(C)}}const A5=W6,x5=j6,R5=Y6,M5=Z6,N5=K6,aA=J6,I5=Q6,D5=(t,e,n)=>{const i=new Map,r={platform:w5,...n},a={...r.platform,_c:i};return q6(t,e,{...r,platform:a})};var O5=typeof document<"u",P5=function(){},ed=O5?w.useLayoutEffect:P5;function Pd(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,i,r;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(i=n;i--!==0;)if(!Pd(t[i],e[i]))return!1;return!0}if(r=Object.keys(t),n=r.length,n!==Object.keys(e).length)return!1;for(i=n;i--!==0;)if(!{}.hasOwnProperty.call(e,r[i]))return!1;for(i=n;i--!==0;){const a=r[i];if(!(a==="_owner"&&t.$$typeof)&&!Pd(t[a],e[a]))return!1}return!0}return t!==t&&e!==e}function HI(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function lA(t,e){const n=HI(t);return Math.round(e*n)/n}function Ng(t){const e=w.useRef(t);return ed(()=>{e.current=t}),e}function L5(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:i=[],platform:r,elements:{reference:a,floating:u}={},transform:c=!0,whileElementsMounted:p,open:d}=t,[m,y]=w.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[S,E]=w.useState(i);Pd(S,i)||E(i);const[C,T]=w.useState(null),[x,M]=w.useState(null),I=w.useCallback(ee=>{ee!==k.current&&(k.current=ee,T(ee))},[]),N=w.useCallback(ee=>{ee!==O.current&&(O.current=ee,M(ee))},[]),D=a||C,U=u||x,k=w.useRef(null),O=w.useRef(null),q=w.useRef(m),J=p!=null,X=Ng(p),j=Ng(r),re=Ng(d),ie=w.useCallback(()=>{if(!k.current||!O.current)return;const ee={placement:e,strategy:n,middleware:S};j.current&&(ee.platform=j.current),D5(k.current,O.current,ee).then(ne=>{const ce={...ne,isPositioned:re.current!==!1};ae.current&&!Pd(q.current,ce)&&(q.current=ce,Vd.flushSync(()=>{y(ce)}))})},[S,e,n,j,re]);ed(()=>{d===!1&&q.current.isPositioned&&(q.current.isPositioned=!1,y(ee=>({...ee,isPositioned:!1})))},[d]);const ae=w.useRef(!1);ed(()=>(ae.current=!0,()=>{ae.current=!1}),[]),ed(()=>{if(D&&(k.current=D),U&&(O.current=U),D&&U){if(X.current)return X.current(D,U,ie);ie()}},[D,U,ie,X,J]);const de=w.useMemo(()=>({reference:k,floating:O,setReference:I,setFloating:N}),[I,N]),H=w.useMemo(()=>({reference:D,floating:U}),[D,U]),Q=w.useMemo(()=>{const ee={position:n,left:0,top:0};if(!H.floating)return ee;const ne=lA(H.floating,m.x),ce=lA(H.floating,m.y);return c?{...ee,transform:"translate("+ne+"px, "+ce+"px)",...HI(H.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:ne,top:ce}},[n,c,H.floating,m.x,m.y]);return w.useMemo(()=>({...m,update:ie,refs:de,elements:H,floatingStyles:Q}),[m,ie,de,H,Q])}const U5=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:i,padding:r}=typeof t=="function"?t(n):t;return i&&e(i)?i.current!=null?aA({element:i.current,padding:r}).fn(n):{}:i?aA({element:i,padding:r}).fn(n):{}}}},k5=(t,e)=>({...A5(t),options:[t,e]}),B5=(t,e)=>({...x5(t),options:[t,e]}),H5=(t,e)=>({...I5(t),options:[t,e]}),G5=(t,e)=>({...R5(t),options:[t,e]}),F5=(t,e)=>({...M5(t),options:[t,e]}),$5=(t,e)=>({...N5(t),options:[t,e]}),V5=(t,e)=>({...U5(t),options:[t,e]});var z5="Arrow",GI=w.forwardRef((t,e)=>{const{children:n,width:i=10,height:r=5,...a}=t;return A.jsx($t.svg,{...a,ref:e,width:i,height:r,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:A.jsx("polygon",{points:"0,0 30,0 15,10"})})});GI.displayName=z5;var q5=GI;function J5(t){const[e,n]=w.useState(void 0);return er(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const i=new ResizeObserver(r=>{if(!Array.isArray(r)||!r.length)return;const a=r[0];let u,c;if("borderBoxSize"in a){const p=a.borderBoxSize,d=Array.isArray(p)?p[0]:p;u=d.inlineSize,c=d.blockSize}else u=t.offsetWidth,c=t.offsetHeight;n({width:u,height:c})});return i.observe(t,{box:"border-box"}),()=>i.unobserve(t)}else n(void 0)},[t]),e}var a_="Popper",[FI,$I]=Lu(a_),[Y5,VI]=FI(a_),zI=t=>{const{__scopePopper:e,children:n}=t,[i,r]=w.useState(null);return A.jsx(Y5,{scope:e,anchor:i,onAnchorChange:r,children:n})};zI.displayName=a_;var qI="PopperAnchor",JI=w.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:i,...r}=t,a=VI(qI,n),u=w.useRef(null),c=tn(e,u),p=w.useRef(null);return w.useEffect(()=>{const d=p.current;p.current=i?.current||u.current,d!==p.current&&a.onAnchorChange(p.current)}),i?null:A.jsx($t.div,{...r,ref:c})});JI.displayName=qI;var l_="PopperContent",[K5,X5]=FI(l_),YI=w.forwardRef((t,e)=>{const{__scopePopper:n,side:i="bottom",sideOffset:r=0,align:a="center",alignOffset:u=0,arrowPadding:c=0,avoidCollisions:p=!0,collisionBoundary:d=[],collisionPadding:m=0,sticky:y="partial",hideWhenDetached:S=!1,updatePositionStrategy:E="optimized",onPlaced:C,...T}=t,x=VI(l_,n),[M,I]=w.useState(null),N=tn(e,ve=>I(ve)),[D,U]=w.useState(null),k=J5(D),O=k?.width??0,q=k?.height??0,J=i+(a!=="center"?"-"+a:""),X=typeof m=="number"?m:{top:0,right:0,bottom:0,left:0,...m},j=Array.isArray(d)?d:[d],re=j.length>0,ie={padding:X,boundary:j.filter(j5),altBoundary:re},{refs:ae,floatingStyles:de,placement:H,isPositioned:Q,middlewareData:ee}=L5({strategy:"fixed",placement:J,whileElementsMounted:(...ve)=>T5(...ve,{animationFrame:E==="always"}),elements:{reference:x.anchor},middleware:[k5({mainAxis:r+q,alignmentAxis:u}),p&&B5({mainAxis:!0,crossAxis:!1,limiter:y==="partial"?H5():void 0,...ie}),p&&G5({...ie}),F5({...ie,apply:({elements:ve,rects:Ve,availableWidth:ze,availableHeight:nn})=>{const{width:bn,height:ci}=Ve.reference,Vt=ve.floating.style;Vt.setProperty("--radix-popper-available-width",`${ze}px`),Vt.setProperty("--radix-popper-available-height",`${nn}px`),Vt.setProperty("--radix-popper-anchor-width",`${bn}px`),Vt.setProperty("--radix-popper-anchor-height",`${ci}px`)}}),D&&V5({element:D,padding:c}),Q5({arrowWidth:O,arrowHeight:q}),S&&$5({strategy:"referenceHidden",...ie})]}),[ne,ce]=WI(H),L=Ri(C);er(()=>{Q&&L?.()},[Q,L]);const K=ee.arrow?.x,se=ee.arrow?.y,le=ee.arrow?.centerOffset!==0,[me,Ee]=w.useState();return er(()=>{M&&Ee(window.getComputedStyle(M).zIndex)},[M]),A.jsx("div",{ref:ae.setFloating,"data-radix-popper-content-wrapper":"",style:{...de,transform:Q?de.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:me,"--radix-popper-transform-origin":[ee.transformOrigin?.x,ee.transformOrigin?.y].join(" "),...ee.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:A.jsx(K5,{scope:n,placedSide:ne,onArrowChange:U,arrowX:K,arrowY:se,shouldHideArrow:le,children:A.jsx($t.div,{"data-side":ne,"data-align":ce,...T,ref:N,style:{...T.style,animation:Q?void 0:"none"}})})})});YI.displayName=l_;var KI="PopperArrow",W5={top:"bottom",right:"left",bottom:"top",left:"right"},XI=w.forwardRef(function(e,n){const{__scopePopper:i,...r}=e,a=X5(KI,i),u=W5[a.placedSide];return A.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[u]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:A.jsx(q5,{...r,ref:n,style:{...r.style,display:"block"}})})});XI.displayName=KI;function j5(t){return t!==null}var Q5=t=>({name:"transformOrigin",options:t,fn(e){const{placement:n,rects:i,middlewareData:r}=e,u=r.arrow?.centerOffset!==0,c=u?0:t.arrowWidth,p=u?0:t.arrowHeight,[d,m]=WI(n),y={start:"0%",center:"50%",end:"100%"}[m],S=(r.arrow?.x??0)+c/2,E=(r.arrow?.y??0)+p/2;let C="",T="";return d==="bottom"?(C=u?y:`${S}px`,T=`${-p}px`):d==="top"?(C=u?y:`${S}px`,T=`${i.floating.height+p}px`):d==="right"?(C=`${-p}px`,T=u?y:`${E}px`):d==="left"&&(C=`${i.floating.width+p}px`,T=u?y:`${E}px`),{data:{x:C,y:T}}}});function WI(t){const[e,n="center"]=t.split("-");return[e,n]}var jI=zI,Z5=JI,e8=YI,t8=XI,n8="Portal",QI=w.forwardRef((t,e)=>{const{container:n,...i}=t,[r,a]=w.useState(!1);er(()=>a(!0),[]);const u=n||r&&globalThis?.document?.body;return u?Or.createPortal(A.jsx($t.div,{...i,ref:e}),u):null});QI.displayName=n8;function i8(t,e){return w.useReducer((n,i)=>e[n][i]??n,t)}var ku=t=>{const{present:e,children:n}=t,i=o8(e),r=typeof n=="function"?n({present:i.isPresent}):w.Children.only(n),a=tn(i.ref,r8(r));return typeof n=="function"||i.isPresent?w.cloneElement(r,{ref:a}):null};ku.displayName="Presence";function o8(t){const[e,n]=w.useState(),i=w.useRef(null),r=w.useRef(t),a=w.useRef("none"),u=t?"mounted":"unmounted",[c,p]=i8(u,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return w.useEffect(()=>{const d=Df(i.current);a.current=c==="mounted"?d:"none"},[c]),er(()=>{const d=i.current,m=r.current;if(m!==t){const S=a.current,E=Df(d);t?p("MOUNT"):E==="none"||d?.display==="none"?p("UNMOUNT"):p(m&&S!==E?"ANIMATION_OUT":"UNMOUNT"),r.current=t}},[t,p]),er(()=>{if(e){let d;const m=e.ownerDocument.defaultView??window,y=E=>{const T=Df(i.current).includes(CSS.escape(E.animationName));if(E.target===e&&T&&(p("ANIMATION_END"),!r.current)){const x=e.style.animationFillMode;e.style.animationFillMode="forwards",d=m.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=x)})}},S=E=>{E.target===e&&(a.current=Df(i.current))};return e.addEventListener("animationstart",S),e.addEventListener("animationcancel",y),e.addEventListener("animationend",y),()=>{m.clearTimeout(d),e.removeEventListener("animationstart",S),e.removeEventListener("animationcancel",y),e.removeEventListener("animationend",y)}}else p("ANIMATION_END")},[e,p]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:w.useCallback(d=>{i.current=d?getComputedStyle(d):null,n(d)},[])}}function Df(t){return t?.animationName||"none"}function r8(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var Ig="rovingFocusGroup.onEntryFocus",s8={bubbles:!1,cancelable:!0},Bu="RovingFocusGroup",[Vv,ZI,a8]=bI(Bu),[l8,eD]=Lu(Bu,[a8]),[u8,c8]=l8(Bu),tD=w.forwardRef((t,e)=>A.jsx(Vv.Provider,{scope:t.__scopeRovingFocusGroup,children:A.jsx(Vv.Slot,{scope:t.__scopeRovingFocusGroup,children:A.jsx(f8,{...t,ref:e})})}));tD.displayName=Bu;var f8=w.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:i,loop:r=!1,dir:a,currentTabStopId:u,defaultCurrentTabStopId:c,onCurrentTabStopIdChange:p,onEntryFocus:d,preventScrollOnEntryFocus:m=!1,...y}=t,S=w.useRef(null),E=tn(e,S),C=wI(a),[T,x]=e_({prop:u,defaultProp:c??null,onChange:p,caller:Bu}),[M,I]=w.useState(!1),N=Ri(d),D=ZI(n),U=w.useRef(!1),[k,O]=w.useState(0);return w.useEffect(()=>{const q=S.current;if(q)return q.addEventListener(Ig,N),()=>q.removeEventListener(Ig,N)},[N]),A.jsx(u8,{scope:n,orientation:i,dir:C,loop:r,currentTabStopId:T,onItemFocus:w.useCallback(q=>x(q),[x]),onItemShiftTab:w.useCallback(()=>I(!0),[]),onFocusableItemAdd:w.useCallback(()=>O(q=>q+1),[]),onFocusableItemRemove:w.useCallback(()=>O(q=>q-1),[]),children:A.jsx($t.div,{tabIndex:M||k===0?-1:0,"data-orientation":i,...y,ref:E,style:{outline:"none",...t.style},onMouseDown:Be(t.onMouseDown,()=>{U.current=!0}),onFocus:Be(t.onFocus,q=>{const J=!U.current;if(q.target===q.currentTarget&&J&&!M){const X=new CustomEvent(Ig,s8);if(q.currentTarget.dispatchEvent(X),!X.defaultPrevented){const j=D().filter(H=>H.focusable),re=j.find(H=>H.active),ie=j.find(H=>H.id===T),de=[re,ie,...j].filter(Boolean).map(H=>H.ref.current);oD(de,m)}}U.current=!1}),onBlur:Be(t.onBlur,()=>I(!1))})})}),nD="RovingFocusGroupItem",iD=w.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:i=!0,active:r=!1,tabStopId:a,children:u,...c}=t,p=uu(),d=a||p,m=c8(nD,n),y=m.currentTabStopId===d,S=ZI(n),{onFocusableItemAdd:E,onFocusableItemRemove:C,currentTabStopId:T}=m;return w.useEffect(()=>{if(i)return E(),()=>C()},[i,E,C]),A.jsx(Vv.ItemSlot,{scope:n,id:d,focusable:i,active:r,children:A.jsx($t.span,{tabIndex:y?0:-1,"data-orientation":m.orientation,...c,ref:e,onMouseDown:Be(t.onMouseDown,x=>{i?m.onItemFocus(d):x.preventDefault()}),onFocus:Be(t.onFocus,()=>m.onItemFocus(d)),onKeyDown:Be(t.onKeyDown,x=>{if(x.key==="Tab"&&x.shiftKey){m.onItemShiftTab();return}if(x.target!==x.currentTarget)return;const M=h8(x,m.orientation,m.dir);if(M!==void 0){if(x.metaKey||x.ctrlKey||x.altKey||x.shiftKey)return;x.preventDefault();let N=S().filter(D=>D.focusable).map(D=>D.ref.current);if(M==="last")N.reverse();else if(M==="prev"||M==="next"){M==="prev"&&N.reverse();const D=N.indexOf(x.currentTarget);N=m.loop?m8(N,D+1):N.slice(D+1)}setTimeout(()=>oD(N))}}),children:typeof u=="function"?u({isCurrentTabStop:y,hasTabStop:T!=null}):u})})});iD.displayName=nD;var d8={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function p8(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function h8(t,e,n){const i=p8(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(i))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(i)))return d8[i]}function oD(t,e=!1){const n=document.activeElement;for(const i of t)if(i===n||(i.focus({preventScroll:e}),document.activeElement!==n))return}function m8(t,e){return t.map((n,i)=>t[(e+i)%t.length])}var g8=tD,v8=iD,y8=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Ys=new WeakMap,Of=new WeakMap,Pf={},Dg=0,rD=function(t){return t&&(t.host||rD(t.parentNode))},_8=function(t,e){return e.map(function(n){if(t.contains(n))return n;var i=rD(n);return i&&t.contains(i)?i:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},S8=function(t,e,n,i){var r=_8(e,Array.isArray(t)?t:[t]);Pf[n]||(Pf[n]=new WeakMap);var a=Pf[n],u=[],c=new Set,p=new Set(r),d=function(y){!y||c.has(y)||(c.add(y),d(y.parentNode))};r.forEach(d);var m=function(y){!y||p.has(y)||Array.prototype.forEach.call(y.children,function(S){if(c.has(S))m(S);else try{var E=S.getAttribute(i),C=E!==null&&E!=="false",T=(Ys.get(S)||0)+1,x=(a.get(S)||0)+1;Ys.set(S,T),a.set(S,x),u.push(S),T===1&&C&&Of.set(S,!0),x===1&&S.setAttribute(n,"true"),C||S.setAttribute(i,"true")}catch(M){console.error("aria-hidden: cannot operate on ",S,M)}})};return m(e),c.clear(),Dg++,function(){u.forEach(function(y){var S=Ys.get(y)-1,E=a.get(y)-1;Ys.set(y,S),a.set(y,E),S||(Of.has(y)||y.removeAttribute(i),Of.delete(y)),E||y.removeAttribute(n)}),Dg--,Dg||(Ys=new WeakMap,Ys=new WeakMap,Of=new WeakMap,Pf={})}},E8=function(t,e,n){n===void 0&&(n="data-aria-hidden");var i=Array.from(Array.isArray(t)?t:[t]),r=y8(t);return r?(i.push.apply(i,Array.from(r.querySelectorAll("[aria-live], script"))),S8(i,r,n,"aria-hidden")):function(){return null}},yi=function(){return yi=Object.assign||function(e){for(var n,i=1,r=arguments.length;i<r;i++){n=arguments[i];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},yi.apply(this,arguments)};function sD(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]]);return n}function b8(t,e,n){if(n||arguments.length===2)for(var i=0,r=e.length,a;i<r;i++)(a||!(i in e))&&(a||(a=Array.prototype.slice.call(e,0,i)),a[i]=e[i]);return t.concat(a||Array.prototype.slice.call(e))}var td="right-scroll-bar-position",nd="width-before-scroll-bar",w8="with-scroll-bars-hidden",C8="--removed-body-scroll-bar-size";function Og(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function T8(t,e){var n=w.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(i){var r=n.value;r!==i&&(n.value=i,n.callback(i,r))}}}})[0];return n.callback=e,n.facade}var A8=typeof window<"u"?w.useLayoutEffect:w.useEffect,uA=new WeakMap;function x8(t,e){var n=T8(null,function(i){return t.forEach(function(r){return Og(r,i)})});return A8(function(){var i=uA.get(n);if(i){var r=new Set(i),a=new Set(t),u=n.current;r.forEach(function(c){a.has(c)||Og(c,null)}),a.forEach(function(c){r.has(c)||Og(c,u)})}uA.set(n,t)},[t]),n}function R8(t){return t}function M8(t,e){e===void 0&&(e=R8);var n=[],i=!1,r={read:function(){if(i)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(a){var u=e(a,i);return n.push(u),function(){n=n.filter(function(c){return c!==u})}},assignSyncMedium:function(a){for(i=!0;n.length;){var u=n;n=[],u.forEach(a)}n={push:function(c){return a(c)},filter:function(){return n}}},assignMedium:function(a){i=!0;var u=[];if(n.length){var c=n;n=[],c.forEach(a),u=n}var p=function(){var m=u;u=[],m.forEach(a)},d=function(){return Promise.resolve().then(p)};d(),n={push:function(m){u.push(m),d()},filter:function(m){return u=u.filter(m),n}}}};return r}function N8(t){t===void 0&&(t={});var e=M8(null);return e.options=yi({async:!0,ssr:!1},t),e}var aD=function(t){var e=t.sideCar,n=sD(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var i=e.read();if(!i)throw new Error("Sidecar medium not found");return w.createElement(i,yi({},n))};aD.isSideCarExport=!0;function I8(t,e){return t.useMedium(e),aD}var lD=N8(),Pg=function(){},wp=w.forwardRef(function(t,e){var n=w.useRef(null),i=w.useState({onScrollCapture:Pg,onWheelCapture:Pg,onTouchMoveCapture:Pg}),r=i[0],a=i[1],u=t.forwardProps,c=t.children,p=t.className,d=t.removeScrollBar,m=t.enabled,y=t.shards,S=t.sideCar,E=t.noRelative,C=t.noIsolation,T=t.inert,x=t.allowPinchZoom,M=t.as,I=M===void 0?"div":M,N=t.gapMode,D=sD(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),U=S,k=x8([n,e]),O=yi(yi({},D),r);return w.createElement(w.Fragment,null,m&&w.createElement(U,{sideCar:lD,removeScrollBar:d,shards:y,noRelative:E,noIsolation:C,inert:T,setCallbacks:a,allowPinchZoom:!!x,lockRef:n,gapMode:N}),u?w.cloneElement(w.Children.only(c),yi(yi({},O),{ref:k})):w.createElement(I,yi({},O,{className:p,ref:k}),c))});wp.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};wp.classNames={fullWidth:nd,zeroRight:td};var D8=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function O8(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=D8();return e&&t.setAttribute("nonce",e),t}function P8(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function L8(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var U8=function(){var t=0,e=null;return{add:function(n){t==0&&(e=O8())&&(P8(e,n),L8(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},k8=function(){var t=U8();return function(e,n){w.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},uD=function(){var t=k8(),e=function(n){var i=n.styles,r=n.dynamic;return t(i,r),null};return e},B8={left:0,top:0,right:0,gap:0},Lg=function(t){return parseInt(t||"",10)||0},H8=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],i=e[t==="padding"?"paddingTop":"marginTop"],r=e[t==="padding"?"paddingRight":"marginRight"];return[Lg(n),Lg(i),Lg(r)]},G8=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return B8;var e=H8(t),n=document.documentElement.clientWidth,i=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,i-n+e[2]-e[0])}},F8=uD(),fa="data-scroll-locked",$8=function(t,e,n,i){var r=t.left,a=t.top,u=t.right,c=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(w8,` {
   overflow: hidden `).concat(i,`;
   padding-right: `).concat(c,"px ").concat(i,`;
  }
  body[`).concat(fa,`] {
    overflow: hidden `).concat(i,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(i,";"),n==="margin"&&`
    padding-left: `.concat(r,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(u,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(c,"px ").concat(i,`;
    `),n==="padding"&&"padding-right: ".concat(c,"px ").concat(i,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(td,` {
    right: `).concat(c,"px ").concat(i,`;
  }
  
  .`).concat(nd,` {
    margin-right: `).concat(c,"px ").concat(i,`;
  }
  
  .`).concat(td," .").concat(td,` {
    right: 0 `).concat(i,`;
  }
  
  .`).concat(nd," .").concat(nd,` {
    margin-right: 0 `).concat(i,`;
  }
  
  body[`).concat(fa,`] {
    `).concat(C8,": ").concat(c,`px;
  }
`)},cA=function(){var t=parseInt(document.body.getAttribute(fa)||"0",10);return isFinite(t)?t:0},V8=function(){w.useEffect(function(){return document.body.setAttribute(fa,(cA()+1).toString()),function(){var t=cA()-1;t<=0?document.body.removeAttribute(fa):document.body.setAttribute(fa,t.toString())}},[])},z8=function(t){var e=t.noRelative,n=t.noImportant,i=t.gapMode,r=i===void 0?"margin":i;V8();var a=w.useMemo(function(){return G8(r)},[r]);return w.createElement(F8,{styles:$8(a,!e,r,n?"":"!important")})},zv=!1;if(typeof window<"u")try{var Lf=Object.defineProperty({},"passive",{get:function(){return zv=!0,!0}});window.addEventListener("test",Lf,Lf),window.removeEventListener("test",Lf,Lf)}catch{zv=!1}var Ks=zv?{passive:!1}:!1,q8=function(t){return t.tagName==="TEXTAREA"},cD=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!q8(t)&&n[e]==="visible")},J8=function(t){return cD(t,"overflowY")},Y8=function(t){return cD(t,"overflowX")},fA=function(t,e){var n=e.ownerDocument,i=e;do{typeof ShadowRoot<"u"&&i instanceof ShadowRoot&&(i=i.host);var r=fD(t,i);if(r){var a=dD(t,i),u=a[1],c=a[2];if(u>c)return!0}i=i.parentNode}while(i&&i!==n.body);return!1},K8=function(t){var e=t.scrollTop,n=t.scrollHeight,i=t.clientHeight;return[e,n,i]},X8=function(t){var e=t.scrollLeft,n=t.scrollWidth,i=t.clientWidth;return[e,n,i]},fD=function(t,e){return t==="v"?J8(e):Y8(e)},dD=function(t,e){return t==="v"?K8(e):X8(e)},W8=function(t,e){return t==="h"&&e==="rtl"?-1:1},j8=function(t,e,n,i,r){var a=W8(t,window.getComputedStyle(e).direction),u=a*i,c=n.target,p=e.contains(c),d=!1,m=u>0,y=0,S=0;do{if(!c)break;var E=dD(t,c),C=E[0],T=E[1],x=E[2],M=T-x-a*C;(C||M)&&fD(t,c)&&(y+=M,S+=C);var I=c.parentNode;c=I&&I.nodeType===Node.DOCUMENT_FRAGMENT_NODE?I.host:I}while(!p&&c!==document.body||p&&(e.contains(c)||e===c));return(m&&Math.abs(y)<1||!m&&Math.abs(S)<1)&&(d=!0),d},Uf=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},dA=function(t){return[t.deltaX,t.deltaY]},pA=function(t){return t&&"current"in t?t.current:t},Q8=function(t,e){return t[0]===e[0]&&t[1]===e[1]},Z8=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},eJ=0,Xs=[];function tJ(t){var e=w.useRef([]),n=w.useRef([0,0]),i=w.useRef(),r=w.useState(eJ++)[0],a=w.useState(uD)[0],u=w.useRef(t);w.useEffect(function(){u.current=t},[t]),w.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(r));var T=b8([t.lockRef.current],(t.shards||[]).map(pA),!0).filter(Boolean);return T.forEach(function(x){return x.classList.add("allow-interactivity-".concat(r))}),function(){document.body.classList.remove("block-interactivity-".concat(r)),T.forEach(function(x){return x.classList.remove("allow-interactivity-".concat(r))})}}},[t.inert,t.lockRef.current,t.shards]);var c=w.useCallback(function(T,x){if("touches"in T&&T.touches.length===2||T.type==="wheel"&&T.ctrlKey)return!u.current.allowPinchZoom;var M=Uf(T),I=n.current,N="deltaX"in T?T.deltaX:I[0]-M[0],D="deltaY"in T?T.deltaY:I[1]-M[1],U,k=T.target,O=Math.abs(N)>Math.abs(D)?"h":"v";if("touches"in T&&O==="h"&&k.type==="range")return!1;var q=window.getSelection(),J=q&&q.anchorNode,X=J?J===k||J.contains(k):!1;if(X)return!1;var j=fA(O,k);if(!j)return!0;if(j?U=O:(U=O==="v"?"h":"v",j=fA(O,k)),!j)return!1;if(!i.current&&"changedTouches"in T&&(N||D)&&(i.current=U),!U)return!0;var re=i.current||U;return j8(re,x,T,re==="h"?N:D)},[]),p=w.useCallback(function(T){var x=T;if(!(!Xs.length||Xs[Xs.length-1]!==a)){var M="deltaY"in x?dA(x):Uf(x),I=e.current.filter(function(U){return U.name===x.type&&(U.target===x.target||x.target===U.shadowParent)&&Q8(U.delta,M)})[0];if(I&&I.should){x.cancelable&&x.preventDefault();return}if(!I){var N=(u.current.shards||[]).map(pA).filter(Boolean).filter(function(U){return U.contains(x.target)}),D=N.length>0?c(x,N[0]):!u.current.noIsolation;D&&x.cancelable&&x.preventDefault()}}},[]),d=w.useCallback(function(T,x,M,I){var N={name:T,delta:x,target:M,should:I,shadowParent:nJ(M)};e.current.push(N),setTimeout(function(){e.current=e.current.filter(function(D){return D!==N})},1)},[]),m=w.useCallback(function(T){n.current=Uf(T),i.current=void 0},[]),y=w.useCallback(function(T){d(T.type,dA(T),T.target,c(T,t.lockRef.current))},[]),S=w.useCallback(function(T){d(T.type,Uf(T),T.target,c(T,t.lockRef.current))},[]);w.useEffect(function(){return Xs.push(a),t.setCallbacks({onScrollCapture:y,onWheelCapture:y,onTouchMoveCapture:S}),document.addEventListener("wheel",p,Ks),document.addEventListener("touchmove",p,Ks),document.addEventListener("touchstart",m,Ks),function(){Xs=Xs.filter(function(T){return T!==a}),document.removeEventListener("wheel",p,Ks),document.removeEventListener("touchmove",p,Ks),document.removeEventListener("touchstart",m,Ks)}},[]);var E=t.removeScrollBar,C=t.inert;return w.createElement(w.Fragment,null,C?w.createElement(a,{styles:Z8(r)}):null,E?w.createElement(z8,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function nJ(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const iJ=I8(lD,tJ);var pD=w.forwardRef(function(t,e){return w.createElement(wp,yi({},t,{ref:e,sideCar:iJ}))});pD.classNames=wp.classNames;var qv=["Enter"," "],oJ=["ArrowDown","PageUp","Home"],hD=["ArrowUp","PageDown","End"],rJ=[...oJ,...hD],sJ={ltr:[...qv,"ArrowRight"],rtl:[...qv,"ArrowLeft"]},aJ={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Hu="Menu",[du,lJ,uJ]=bI(Hu),[ts,mD]=Lu(Hu,[uJ,$I,eD]),Gu=$I(),gD=eD(),[vD,ur]=ts(Hu),[cJ,Fu]=ts(Hu),yD=t=>{const{__scopeMenu:e,open:n=!1,children:i,dir:r,onOpenChange:a,modal:u=!0}=t,c=Gu(e),[p,d]=w.useState(null),m=w.useRef(!1),y=Ri(a),S=wI(r);return w.useEffect(()=>{const E=()=>{m.current=!0,document.addEventListener("pointerdown",C,{capture:!0,once:!0}),document.addEventListener("pointermove",C,{capture:!0,once:!0})},C=()=>m.current=!1;return document.addEventListener("keydown",E,{capture:!0}),()=>{document.removeEventListener("keydown",E,{capture:!0}),document.removeEventListener("pointerdown",C,{capture:!0}),document.removeEventListener("pointermove",C,{capture:!0})}},[]),A.jsx(jI,{...c,children:A.jsx(vD,{scope:e,open:n,onOpenChange:y,content:p,onContentChange:d,children:A.jsx(cJ,{scope:e,onClose:w.useCallback(()=>y(!1),[y]),isUsingKeyboardRef:m,dir:S,modal:u,children:i})})})};yD.displayName=Hu;var fJ="MenuAnchor",u_=w.forwardRef((t,e)=>{const{__scopeMenu:n,...i}=t,r=Gu(n);return A.jsx(Z5,{...r,...i,ref:e})});u_.displayName=fJ;var c_="MenuPortal",[dJ,_D]=ts(c_,{forceMount:void 0}),SD=t=>{const{__scopeMenu:e,forceMount:n,children:i,container:r}=t,a=ur(c_,e);return A.jsx(dJ,{scope:e,forceMount:n,children:A.jsx(ku,{present:n||a.open,children:A.jsx(QI,{asChild:!0,container:r,children:i})})})};SD.displayName=c_;var Gn="MenuContent",[pJ,f_]=ts(Gn),ED=w.forwardRef((t,e)=>{const n=_D(Gn,t.__scopeMenu),{forceMount:i=n.forceMount,...r}=t,a=ur(Gn,t.__scopeMenu),u=Fu(Gn,t.__scopeMenu);return A.jsx(du.Provider,{scope:t.__scopeMenu,children:A.jsx(ku,{present:i||a.open,children:A.jsx(du.Slot,{scope:t.__scopeMenu,children:u.modal?A.jsx(hJ,{...r,ref:e}):A.jsx(mJ,{...r,ref:e})})})})}),hJ=w.forwardRef((t,e)=>{const n=ur(Gn,t.__scopeMenu),i=w.useRef(null),r=tn(e,i);return w.useEffect(()=>{const a=i.current;if(a)return E8(a)},[]),A.jsx(d_,{...t,ref:r,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:Be(t.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),mJ=w.forwardRef((t,e)=>{const n=ur(Gn,t.__scopeMenu);return A.jsx(d_,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),gJ=Nd("MenuContent.ScrollLock"),d_=w.forwardRef((t,e)=>{const{__scopeMenu:n,loop:i=!1,trapFocus:r,onOpenAutoFocus:a,onCloseAutoFocus:u,disableOutsidePointerEvents:c,onEntryFocus:p,onEscapeKeyDown:d,onPointerDownOutside:m,onFocusOutside:y,onInteractOutside:S,onDismiss:E,disableOutsideScroll:C,...T}=t,x=ur(Gn,n),M=Fu(Gn,n),I=Gu(n),N=gD(n),D=lJ(n),[U,k]=w.useState(null),O=w.useRef(null),q=tn(e,O,x.onContentChange),J=w.useRef(0),X=w.useRef(""),j=w.useRef(0),re=w.useRef(null),ie=w.useRef("right"),ae=w.useRef(0),de=C?pD:w.Fragment,H=C?{as:gJ,allowPinchZoom:!0}:void 0,Q=ne=>{const ce=X.current+ne,L=D().filter(ve=>!ve.disabled),K=document.activeElement,se=L.find(ve=>ve.ref.current===K)?.textValue,le=L.map(ve=>ve.textValue),me=RJ(le,ce,se),Ee=L.find(ve=>ve.textValue===me)?.ref.current;(function ve(Ve){X.current=Ve,window.clearTimeout(J.current),Ve!==""&&(J.current=window.setTimeout(()=>ve(""),1e3))})(ce),Ee&&setTimeout(()=>Ee.focus())};w.useEffect(()=>()=>window.clearTimeout(J.current),[]),C6();const ee=w.useCallback(ne=>ie.current===re.current?.side&&NJ(ne,re.current?.area),[]);return A.jsx(pJ,{scope:n,searchRef:X,onItemEnter:w.useCallback(ne=>{ee(ne)&&ne.preventDefault()},[ee]),onItemLeave:w.useCallback(ne=>{ee(ne)||(O.current?.focus(),k(null))},[ee]),onTriggerLeave:w.useCallback(ne=>{ee(ne)&&ne.preventDefault()},[ee]),pointerGraceTimerRef:j,onPointerGraceIntentChange:w.useCallback(ne=>{re.current=ne},[]),children:A.jsx(de,{...H,children:A.jsx(xI,{asChild:!0,trapped:r,onMountAutoFocus:Be(a,ne=>{ne.preventDefault(),O.current?.focus({preventScroll:!0})}),onUnmountAutoFocus:u,children:A.jsx(TI,{asChild:!0,disableOutsidePointerEvents:c,onEscapeKeyDown:d,onPointerDownOutside:m,onFocusOutside:y,onInteractOutside:S,onDismiss:E,children:A.jsx(g8,{asChild:!0,...N,dir:M.dir,orientation:"vertical",loop:i,currentTabStopId:U,onCurrentTabStopIdChange:k,onEntryFocus:Be(p,ne=>{M.isUsingKeyboardRef.current||ne.preventDefault()}),preventScrollOnEntryFocus:!0,children:A.jsx(e8,{role:"menu","aria-orientation":"vertical","data-state":BD(x.open),"data-radix-menu-content":"",dir:M.dir,...I,...T,ref:q,style:{outline:"none",...T.style},onKeyDown:Be(T.onKeyDown,ne=>{const L=ne.target.closest("[data-radix-menu-content]")===ne.currentTarget,K=ne.ctrlKey||ne.altKey||ne.metaKey,se=ne.key.length===1;L&&(ne.key==="Tab"&&ne.preventDefault(),!K&&se&&Q(ne.key));const le=O.current;if(ne.target!==le||!rJ.includes(ne.key))return;ne.preventDefault();const Ee=D().filter(ve=>!ve.disabled).map(ve=>ve.ref.current);hD.includes(ne.key)&&Ee.reverse(),AJ(Ee)}),onBlur:Be(t.onBlur,ne=>{ne.currentTarget.contains(ne.target)||(window.clearTimeout(J.current),X.current="")}),onPointerMove:Be(t.onPointerMove,pu(ne=>{const ce=ne.target,L=ae.current!==ne.clientX;if(ne.currentTarget.contains(ce)&&L){const K=ne.clientX>ae.current?"right":"left";ie.current=K,ae.current=ne.clientX}}))})})})})})})});ED.displayName=Gn;var vJ="MenuGroup",p_=w.forwardRef((t,e)=>{const{__scopeMenu:n,...i}=t;return A.jsx($t.div,{role:"group",...i,ref:e})});p_.displayName=vJ;var yJ="MenuLabel",bD=w.forwardRef((t,e)=>{const{__scopeMenu:n,...i}=t;return A.jsx($t.div,{...i,ref:e})});bD.displayName=yJ;var Ld="MenuItem",hA="menu.itemSelect",Cp=w.forwardRef((t,e)=>{const{disabled:n=!1,onSelect:i,...r}=t,a=w.useRef(null),u=Fu(Ld,t.__scopeMenu),c=f_(Ld,t.__scopeMenu),p=tn(e,a),d=w.useRef(!1),m=()=>{const y=a.current;if(!n&&y){const S=new CustomEvent(hA,{bubbles:!0,cancelable:!0});y.addEventListener(hA,E=>i?.(E),{once:!0}),EI(y,S),S.defaultPrevented?d.current=!1:u.onClose()}};return A.jsx(wD,{...r,ref:p,disabled:n,onClick:Be(t.onClick,m),onPointerDown:y=>{t.onPointerDown?.(y),d.current=!0},onPointerUp:Be(t.onPointerUp,y=>{d.current||y.currentTarget?.click()}),onKeyDown:Be(t.onKeyDown,y=>{const S=c.searchRef.current!=="";n||S&&y.key===" "||qv.includes(y.key)&&(y.currentTarget.click(),y.preventDefault())})})});Cp.displayName=Ld;var wD=w.forwardRef((t,e)=>{const{__scopeMenu:n,disabled:i=!1,textValue:r,...a}=t,u=f_(Ld,n),c=gD(n),p=w.useRef(null),d=tn(e,p),[m,y]=w.useState(!1),[S,E]=w.useState("");return w.useEffect(()=>{const C=p.current;C&&E((C.textContent??"").trim())},[a.children]),A.jsx(du.ItemSlot,{scope:n,disabled:i,textValue:r??S,children:A.jsx(v8,{asChild:!0,...c,focusable:!i,children:A.jsx($t.div,{role:"menuitem","data-highlighted":m?"":void 0,"aria-disabled":i||void 0,"data-disabled":i?"":void 0,...a,ref:d,onPointerMove:Be(t.onPointerMove,pu(C=>{i?u.onItemLeave(C):(u.onItemEnter(C),C.defaultPrevented||C.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Be(t.onPointerLeave,pu(C=>u.onItemLeave(C))),onFocus:Be(t.onFocus,()=>y(!0)),onBlur:Be(t.onBlur,()=>y(!1))})})})}),_J="MenuCheckboxItem",CD=w.forwardRef((t,e)=>{const{checked:n=!1,onCheckedChange:i,...r}=t;return A.jsx(MD,{scope:t.__scopeMenu,checked:n,children:A.jsx(Cp,{role:"menuitemcheckbox","aria-checked":Ud(n)?"mixed":n,...r,ref:e,"data-state":g_(n),onSelect:Be(r.onSelect,()=>i?.(Ud(n)?!0:!n),{checkForDefaultPrevented:!1})})})});CD.displayName=_J;var TD="MenuRadioGroup",[SJ,EJ]=ts(TD,{value:void 0,onValueChange:()=>{}}),AD=w.forwardRef((t,e)=>{const{value:n,onValueChange:i,...r}=t,a=Ri(i);return A.jsx(SJ,{scope:t.__scopeMenu,value:n,onValueChange:a,children:A.jsx(p_,{...r,ref:e})})});AD.displayName=TD;var xD="MenuRadioItem",RD=w.forwardRef((t,e)=>{const{value:n,...i}=t,r=EJ(xD,t.__scopeMenu),a=n===r.value;return A.jsx(MD,{scope:t.__scopeMenu,checked:a,children:A.jsx(Cp,{role:"menuitemradio","aria-checked":a,...i,ref:e,"data-state":g_(a),onSelect:Be(i.onSelect,()=>r.onValueChange?.(n),{checkForDefaultPrevented:!1})})})});RD.displayName=xD;var h_="MenuItemIndicator",[MD,bJ]=ts(h_,{checked:!1}),ND=w.forwardRef((t,e)=>{const{__scopeMenu:n,forceMount:i,...r}=t,a=bJ(h_,n);return A.jsx(ku,{present:i||Ud(a.checked)||a.checked===!0,children:A.jsx($t.span,{...r,ref:e,"data-state":g_(a.checked)})})});ND.displayName=h_;var wJ="MenuSeparator",ID=w.forwardRef((t,e)=>{const{__scopeMenu:n,...i}=t;return A.jsx($t.div,{role:"separator","aria-orientation":"horizontal",...i,ref:e})});ID.displayName=wJ;var CJ="MenuArrow",DD=w.forwardRef((t,e)=>{const{__scopeMenu:n,...i}=t,r=Gu(n);return A.jsx(t8,{...r,...i,ref:e})});DD.displayName=CJ;var m_="MenuSub",[TJ,OD]=ts(m_),PD=t=>{const{__scopeMenu:e,children:n,open:i=!1,onOpenChange:r}=t,a=ur(m_,e),u=Gu(e),[c,p]=w.useState(null),[d,m]=w.useState(null),y=Ri(r);return w.useEffect(()=>(a.open===!1&&y(!1),()=>y(!1)),[a.open,y]),A.jsx(jI,{...u,children:A.jsx(vD,{scope:e,open:i,onOpenChange:y,content:d,onContentChange:m,children:A.jsx(TJ,{scope:e,contentId:uu(),triggerId:uu(),trigger:c,onTriggerChange:p,children:n})})})};PD.displayName=m_;var ql="MenuSubTrigger",LD=w.forwardRef((t,e)=>{const n=ur(ql,t.__scopeMenu),i=Fu(ql,t.__scopeMenu),r=OD(ql,t.__scopeMenu),a=f_(ql,t.__scopeMenu),u=w.useRef(null),{pointerGraceTimerRef:c,onPointerGraceIntentChange:p}=a,d={__scopeMenu:t.__scopeMenu},m=w.useCallback(()=>{u.current&&window.clearTimeout(u.current),u.current=null},[]);return w.useEffect(()=>m,[m]),w.useEffect(()=>{const y=c.current;return()=>{window.clearTimeout(y),p(null)}},[c,p]),A.jsx(u_,{asChild:!0,...d,children:A.jsx(wD,{id:r.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":r.contentId,"data-state":BD(n.open),...t,ref:yp(e,r.onTriggerChange),onClick:y=>{t.onClick?.(y),!(t.disabled||y.defaultPrevented)&&(y.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:Be(t.onPointerMove,pu(y=>{a.onItemEnter(y),!y.defaultPrevented&&!t.disabled&&!n.open&&!u.current&&(a.onPointerGraceIntentChange(null),u.current=window.setTimeout(()=>{n.onOpenChange(!0),m()},100))})),onPointerLeave:Be(t.onPointerLeave,pu(y=>{m();const S=n.content?.getBoundingClientRect();if(S){const E=n.content?.dataset.side,C=E==="right",T=C?-5:5,x=S[C?"left":"right"],M=S[C?"right":"left"];a.onPointerGraceIntentChange({area:[{x:y.clientX+T,y:y.clientY},{x,y:S.top},{x:M,y:S.top},{x:M,y:S.bottom},{x,y:S.bottom}],side:E}),window.clearTimeout(c.current),c.current=window.setTimeout(()=>a.onPointerGraceIntentChange(null),300)}else{if(a.onTriggerLeave(y),y.defaultPrevented)return;a.onPointerGraceIntentChange(null)}})),onKeyDown:Be(t.onKeyDown,y=>{const S=a.searchRef.current!=="";t.disabled||S&&y.key===" "||sJ[i.dir].includes(y.key)&&(n.onOpenChange(!0),n.content?.focus(),y.preventDefault())})})})});LD.displayName=ql;var UD="MenuSubContent",kD=w.forwardRef((t,e)=>{const n=_D(Gn,t.__scopeMenu),{forceMount:i=n.forceMount,...r}=t,a=ur(Gn,t.__scopeMenu),u=Fu(Gn,t.__scopeMenu),c=OD(UD,t.__scopeMenu),p=w.useRef(null),d=tn(e,p);return A.jsx(du.Provider,{scope:t.__scopeMenu,children:A.jsx(ku,{present:i||a.open,children:A.jsx(du.Slot,{scope:t.__scopeMenu,children:A.jsx(d_,{id:c.contentId,"aria-labelledby":c.triggerId,...r,ref:d,align:"start",side:u.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:m=>{u.isUsingKeyboardRef.current&&p.current?.focus(),m.preventDefault()},onCloseAutoFocus:m=>m.preventDefault(),onFocusOutside:Be(t.onFocusOutside,m=>{m.target!==c.trigger&&a.onOpenChange(!1)}),onEscapeKeyDown:Be(t.onEscapeKeyDown,m=>{u.onClose(),m.preventDefault()}),onKeyDown:Be(t.onKeyDown,m=>{const y=m.currentTarget.contains(m.target),S=aJ[u.dir].includes(m.key);y&&S&&(a.onOpenChange(!1),c.trigger?.focus(),m.preventDefault())})})})})})});kD.displayName=UD;function BD(t){return t?"open":"closed"}function Ud(t){return t==="indeterminate"}function g_(t){return Ud(t)?"indeterminate":t?"checked":"unchecked"}function AJ(t){const e=document.activeElement;for(const n of t)if(n===e||(n.focus(),document.activeElement!==e))return}function xJ(t,e){return t.map((n,i)=>t[(e+i)%t.length])}function RJ(t,e,n){const r=e.length>1&&Array.from(e).every(d=>d===e[0])?e[0]:e,a=n?t.indexOf(n):-1;let u=xJ(t,Math.max(a,0));r.length===1&&(u=u.filter(d=>d!==n));const p=u.find(d=>d.toLowerCase().startsWith(r.toLowerCase()));return p!==n?p:void 0}function MJ(t,e){const{x:n,y:i}=t;let r=!1;for(let a=0,u=e.length-1;a<e.length;u=a++){const c=e[a],p=e[u],d=c.x,m=c.y,y=p.x,S=p.y;m>i!=S>i&&n<(y-d)*(i-m)/(S-m)+d&&(r=!r)}return r}function NJ(t,e){if(!e)return!1;const n={x:t.clientX,y:t.clientY};return MJ(n,e)}function pu(t){return e=>e.pointerType==="mouse"?t(e):void 0}var IJ=yD,DJ=u_,OJ=SD,PJ=ED,LJ=p_,UJ=bD,kJ=Cp,BJ=CD,HJ=AD,GJ=RD,FJ=ND,$J=ID,VJ=DD,zJ=PD,qJ=LD,JJ=kD,Tp="DropdownMenu",[YJ]=Lu(Tp,[mD]),kt=mD(),[KJ,HD]=YJ(Tp),GD=t=>{const{__scopeDropdownMenu:e,children:n,dir:i,open:r,defaultOpen:a,onOpenChange:u,modal:c=!0}=t,p=kt(e),d=w.useRef(null),[m,y]=e_({prop:r,defaultProp:a??!1,onChange:u,caller:Tp});return A.jsx(KJ,{scope:e,triggerId:uu(),triggerRef:d,contentId:uu(),open:m,onOpenChange:y,onOpenToggle:w.useCallback(()=>y(S=>!S),[y]),modal:c,children:A.jsx(IJ,{...p,open:m,onOpenChange:y,dir:i,modal:c,children:n})})};GD.displayName=Tp;var FD="DropdownMenuTrigger",$D=w.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,disabled:i=!1,...r}=t,a=HD(FD,n),u=kt(n);return A.jsx(DJ,{asChild:!0,...u,children:A.jsx($t.button,{type:"button",id:a.triggerId,"aria-haspopup":"menu","aria-expanded":a.open,"aria-controls":a.open?a.contentId:void 0,"data-state":a.open?"open":"closed","data-disabled":i?"":void 0,disabled:i,...r,ref:yp(e,a.triggerRef),onPointerDown:Be(t.onPointerDown,c=>{!i&&c.button===0&&c.ctrlKey===!1&&(a.onOpenToggle(),a.open||c.preventDefault())}),onKeyDown:Be(t.onKeyDown,c=>{i||(["Enter"," "].includes(c.key)&&a.onOpenToggle(),c.key==="ArrowDown"&&a.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(c.key)&&c.preventDefault())})})})});$D.displayName=FD;var XJ="DropdownMenuPortal",VD=t=>{const{__scopeDropdownMenu:e,...n}=t,i=kt(e);return A.jsx(OJ,{...i,...n})};VD.displayName=XJ;var zD="DropdownMenuContent",qD=w.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...i}=t,r=HD(zD,n),a=kt(n),u=w.useRef(!1);return A.jsx(PJ,{id:r.contentId,"aria-labelledby":r.triggerId,...a,...i,ref:e,onCloseAutoFocus:Be(t.onCloseAutoFocus,c=>{u.current||r.triggerRef.current?.focus(),u.current=!1,c.preventDefault()}),onInteractOutside:Be(t.onInteractOutside,c=>{const p=c.detail.originalEvent,d=p.button===0&&p.ctrlKey===!0,m=p.button===2||d;(!r.modal||m)&&(u.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});qD.displayName=zD;var WJ="DropdownMenuGroup",jJ=w.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...i}=t,r=kt(n);return A.jsx(LJ,{...r,...i,ref:e})});jJ.displayName=WJ;var QJ="DropdownMenuLabel",ZJ=w.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...i}=t,r=kt(n);return A.jsx(UJ,{...r,...i,ref:e})});ZJ.displayName=QJ;var eY="DropdownMenuItem",tY=w.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...i}=t,r=kt(n);return A.jsx(kJ,{...r,...i,ref:e})});tY.displayName=eY;var nY="DropdownMenuCheckboxItem",iY=w.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...i}=t,r=kt(n);return A.jsx(BJ,{...r,...i,ref:e})});iY.displayName=nY;var oY="DropdownMenuRadioGroup",rY=w.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...i}=t,r=kt(n);return A.jsx(HJ,{...r,...i,ref:e})});rY.displayName=oY;var sY="DropdownMenuRadioItem",aY=w.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...i}=t,r=kt(n);return A.jsx(GJ,{...r,...i,ref:e})});aY.displayName=sY;var lY="DropdownMenuItemIndicator",uY=w.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...i}=t,r=kt(n);return A.jsx(FJ,{...r,...i,ref:e})});uY.displayName=lY;var cY="DropdownMenuSeparator",fY=w.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...i}=t,r=kt(n);return A.jsx($J,{...r,...i,ref:e})});fY.displayName=cY;var dY="DropdownMenuArrow",pY=w.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...i}=t,r=kt(n);return A.jsx(VJ,{...r,...i,ref:e})});pY.displayName=dY;var hY=t=>{const{__scopeDropdownMenu:e,children:n,open:i,onOpenChange:r,defaultOpen:a}=t,u=kt(e),[c,p]=e_({prop:i,defaultProp:a??!1,onChange:r,caller:"DropdownMenuSub"});return A.jsx(zJ,{...u,open:c,onOpenChange:p,children:n})},mY="DropdownMenuSubTrigger",JD=w.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...i}=t,r=kt(n);return A.jsx(qJ,{...r,...i,ref:e})});JD.displayName=mY;var gY="DropdownMenuSubContent",YD=w.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...i}=t,r=kt(n);return A.jsx(JJ,{...r,...i,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});YD.displayName=gY;var vY=GD,yY=$D,_Y=VD,SY=qD,mA=hY,gA=JD,vA=YD;const EY=Dt(({scene:t})=>{if(!t.sceneJson||!t.sceneJson.data)return null;const e=t.sceneJson.data.tags,n=t.project?.artbook,i=a=>{t.addTag(a)};if(!n)return null;const r=a=>A.jsxs(vY,{children:[A.jsx(yY,{className:"dropdown-trigger",children:"Add Tag"}),A.jsx(_Y,{children:A.jsx(SY,{className:"dropdown-content",align:"start",children:Object.entries(a).map(([u,c])=>A.jsxs(mA,{children:[A.jsx(gA,{className:"submenu-trigger",children:u}),A.jsx(vA,{className:"dropdown-content",children:Object.entries(c).map(([p,d])=>A.jsxs(mA,{children:[A.jsx(gA,{className:"submenu-trigger",children:p}),A.jsx(vA,{className:"dropdown-content",children:d.map(m=>A.jsx(o6,{art:m,onClick:()=>i(m.path)},m.path))})]},p))})]},u))})})]});return A.jsx(gp,{label:"Tags",headerExtra:A.jsxs("div",{className:"d-flex align-items-center gap-2",children:[r(n.data),A.jsx(vp,{onClick:()=>{t.generateTags()},className:"btn-outline-success",label:"Generate Tags",is_loading:t.is_generating_tags}),A.jsx(Lt,{onClick:()=>t.project?.artbook?.log(),label:"Log"})]}),children:e.length?A.jsx("ul",{className:"list-group list-group-flush",children:e.map((a,u)=>{const c=n.getTag(a);return c?A.jsx("li",{className:"list-group-item",children:A.jsx(i6,{art:c,scene:t})},u):null})}):A.jsx("div",{children:"No tags yet."})})}),bY=({isLoading:t,className:e="",asButton:n=!1})=>{const i=A.jsx("span",{className:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true",style:{animation:t?void 0:"none",borderColor:t?void 0:"#6c757d"}});return n?A.jsx("button",{type:"button",className:`btn btn-sm btn-outline-secondary disabled d-flex align-items-center justify-content-center ${e}`,tabIndex:-1,style:{pointerEvents:"none"},children:i}):A.jsx("span",{className:e,children:i})},wY=({children:t,onClick:e,buttonLabel:n="Action",className:i="",isLoading:r=!1})=>{const[a,u]=w.useState(!1);return A.jsxs("div",{className:`w-100 ${i}`,style:{display:"inline-block"},children:[A.jsxs("div",{className:"btn-group",role:"group",children:[A.jsx("button",{type:"button",className:"btn btn-sm btn-outline-secondary",onClick:e,style:{borderBottomLeftRadius:a?0:void 0},children:n}),A.jsx(bY,{isLoading:r,asButton:!0}),A.jsx("button",{className:"btn btn-sm btn-outline-secondary",onClick:()=>u(c=>!c),"aria-label":"Toggle settings",type:"button",style:{borderBottomRightRadius:a?0:void 0},children:""})]}),a&&A.jsx("div",{className:"w-100 border p-2",style:{borderTopLeftRadius:0,borderTopRightRadius:5,borderBottomLeftRadius:5,borderBottomRightRadius:5,backgroundColor:"#383838ff",marginTop:"0px"},children:t})]})},yA=({initialPrompt:t,label:e,displayLabel:n=""})=>{const i=r=>{r.target.style.height="auto",r.target.style.height=r.target.scrollHeight+"px"};return A.jsxs("div",{className:"d-flex align-items-start mb-2",children:[A.jsx("div",{className:"d-flex align-items-center",style:{width:80},children:A.jsx("label",{className:"form-label mb-1 me-1",style:{color:t.data_local?.[e]?"#96d199":void 0},children:n||e})}),A.jsx("textarea",{className:"form-control form-control-sm",style:{overflow:"hidden"},value:t.data[e],rows:1,onChange:r=>{t.setValue(e,r.target.value),i(r)}})]})},_A=({initialPrompt:t,label:e,displayLabel:n="",options:i})=>A.jsxs("div",{className:"d-flex mb-2",children:[A.jsx("label",{className:"form-label mb-1",style:{width:80},children:n||e}),A.jsx("select",{className:"form-select form-select-sm",value:t.data[e],onChange:r=>{t.setValue(e,r.target.value)},style:{width:120},children:i.map(r=>A.jsx("option",{value:r,children:r},r))})]}),CY=Dt(({initialPrompt:t,promptLabel:e="Generate"})=>{if(!t)return null;const n=()=>{t.generate()},i=Object.keys(t.project.promptPresets||{});return A.jsx("div",{className:"my-2",children:A.jsx(wY,{buttonLabel:e,onClick:n,isLoading:t.isLoading,children:A.jsxs("div",{className:"w-100",children:[A.jsxs("div",{className:"d-flex mb-2",children:[A.jsx("label",{className:"form-label mb-1",style:{width:80},children:"Preset"}),A.jsxs("select",{className:"form-select form-select-sm",value:t.data.preset,onChange:r=>t.applyPreset(r.target.value),style:{width:260},children:[A.jsx("option",{value:"",children:"-- None --"}),i.map(r=>A.jsx("option",{value:r,children:r},r))]}),A.jsxs("div",{className:"d-flex gap-1 mx-2",children:[A.jsx("button",{className:"btn btn-sm btn-primary py-1",onClick:()=>t.savePreset(),children:"Save Preset"}),A.jsx("button",{className:"btn btn-sm btn-primary py-1",onClick:()=>{const r=prompt("Enter new preset name:");r&&t.savePreset(r)},children:"Save NEW Preset"}),A.jsx("button",{className:"btn btn-sm btn-primary py-1",onClick:()=>t.save(),children:"Save"}),A.jsx("button",{className:"btn btn-sm btn-primary py-1",onClick:()=>t.log(),children:"Log"})]})]}),A.jsxs("div",{className:"d-flex gap-1",children:[A.jsx(_A,{initialPrompt:t,label:"provider",options:["GPT"]}),A.jsx(_A,{initialPrompt:t,label:"model",options:yI})]}),A.jsx(yA,{initialPrompt:t,label:"system_message",displayLabel:"System"}),A.jsx(yA,{initialPrompt:t,label:"prompt",displayLabel:"Prompt"})]})})})}),TY=Dt(({scene:t})=>{if(!t.sceneJson)return A.jsx("div",{children:"No scene data available."});const e=async()=>{window.confirm(`Are you sure you want to delete scene "${t.folder.name}"?`)&&await t.delete()},n=async()=>{t.createShotsFromShotsJson()};return A.jsxs("div",{children:[A.jsxs("div",{style:{marginBottom:"10px"},children:[A.jsx(Lt,{onClick:e,label:"Delete Scene",className:"btn-outline-danger"}),A.jsx(Lt,{onClick:()=>t.log(),label:"LOG"})]}),A.jsx(CY,{initialPrompt:t.split_shots_prompt,promptLabel:"Split Into Shots"}),A.jsx(Qo,{localJson:t.sceneJson,field:"script",fitHeight:!0}),A.jsx(Qo,{localJson:t.sceneJson,field:"shotsjson",fitHeight:!0,headerExtra:A.jsx(Lt,{onClick:n,label:"Create Shots"})}),A.jsx(EY,{scene:t}),A.jsx("div",{style:{height:"500px"}})]})}),KD=({label:t,value:e,onToggle:n,useIndicator:i=!1})=>i?A.jsx("div",{onClick:()=>n(!e),style:{width:"16px",height:"16px",borderRadius:"50%",backgroundColor:e?"green":"transparent",border:"2px solid green",cursor:"pointer"}}):A.jsx("button",{className:`btn btn-sm ${e?"btn-success":"btn-outline-secondary"}`,onClick:()=>n(!e),children:t}),Ug="https://cdn.pixabay.com/photo/2021/05/09/06/07/dog-6240043_1280.jpg",AY=Dt(({shot:t,isSelected:e,onClick:n})=>{const[i,r]=w.useState(Ug);return w.useEffect(()=>{let a=!1;return(async()=>{if(t.srcImage)try{const c=await t.srcImage.getUrlObject();!a&&c&&r(c)}catch(c){console.error("Failed to load srcImage URL:",c),a||r(Ug)}else r(Ug)})(),()=>{a=!0}},[t.srcImage]),A.jsxs("div",{className:"flex-shrink-0 border rounded position-relative d-flex align-items-center justify-content-center",style:{height:"100%",cursor:"pointer",borderWidth:e?2:1,borderColor:e?"#0d6efd":"#dee2e6"},onClick:()=>n(t),children:[A.jsx("img",{src:i,alt:t.folder.name,className:"img-fluid",style:{height:"100%",width:"auto",objectFit:"contain",display:"block"}}),A.jsx("div",{className:"position-absolute text-white px-1",style:{bottom:0,left:0,backgroundColor:"rgba(0,0,0,0.5)",fontSize:"0.75rem",borderTopRightRadius:"4px"},children:t.folder.name}),A.jsx("div",{className:"position-absolute",style:{top:2,right:2},onClick:a=>a.stopPropagation(),children:A.jsx(KD,{label:"Finished",value:!!t.shotJson?.data?.finished,useIndicator:!0,onToggle:a=>{t.shotJson&&t.shotJson.updateField("finished",a)}})})]})}),xY=({initialHeight:t=80,minHeight:e=30,children:n})=>{const[i,r]=w.useState(t),a=w.useRef(null),u=w.useRef(!1),c=y=>{u.current=!0,y.preventDefault()},p=y=>{if(!u.current||!a.current)return;const S=a.current.getBoundingClientRect(),E=y.clientY-S.top;E>e&&r(E)},d=()=>{u.current=!1};w.useEffect(()=>(window.addEventListener("mousemove",p),window.addEventListener("mouseup",d),()=>{window.removeEventListener("mousemove",p),window.removeEventListener("mouseup",d)}),[]);const m=6;return A.jsxs("div",{ref:a,className:"position-relative",style:{height:`${i}px`},children:[A.jsx("div",{style:{height:"100%",paddingBottom:`${m}px`,boxSizing:"border-box"},children:n}),A.jsx("div",{style:{position:"absolute",bottom:0,left:0,right:0,height:`${m}px`,cursor:"ns-resize",zIndex:10,backgroundColor:"#0d6efd",opacity:.5},onMouseDown:c})]})},RY=({label:t="Media Gallery",children:e,defaultCollapsed:n=!1,className:i="",headerExtra:r})=>A.jsx(gp,{label:t,defaultCollapsed:n,className:i,headerExtra:r,children:A.jsx("div",{className:"d-flex flex-wrap gap-2",children:e})}),MY=({localImage:t,height:e=150,topRightExtra:n,onClick:i})=>{const[r,a]=w.useState(null),[u,c]=w.useState(!1);return w.useEffect(()=>{let p=!0;return(async()=>{try{const m=await t.getUrlObject();p&&m&&a(m)}catch(m){console.error("Error loading LocalImage",m)}})(),()=>{p=!1}},[t]),r?A.jsxs("div",{className:"position-relative d-inline-block border rounded",style:{height:`${e}px`,cursor:"pointer"},onMouseEnter:()=>c(!0),onMouseLeave:()=>c(!1),children:[A.jsx("img",{src:r,alt:"Media",className:"img-fluid",onClick:i,style:{height:`${e}px`,width:"auto",objectFit:"contain",display:"block"}}),n&&u&&A.jsx("div",{className:"position-absolute",style:{top:"5px",right:"5px",zIndex:10,display:"flex",gap:"5px"},children:n})]}):A.jsx("div",{className:"d-flex align-items-center justify-content-center border rounded p-2",style:{height:`${e}px`,width:"auto"},children:"Loading..."})};function ot(t,e="Assertion error"){if(!t)throw Error(e)}function Jv(t,e){return e.sort(t==="horizontal"?NY:IY)}function NY(t,e){const n=t.element.offsetLeft-e.element.offsetLeft;return n!==0?n:t.element.offsetWidth-e.element.offsetWidth}function IY(t,e){const n=t.element.offsetTop-e.element.offsetTop;return n!==0?n:t.element.offsetHeight-e.element.offsetHeight}function Ap({group:t}){const{orientation:e,panels:n}=t;return n.reduce((i,r)=>(i+=e==="horizontal"?r.element.offsetWidth:r.element.offsetHeight,i),0)}function XD(t){const{element:e,orientation:n,panels:i,separators:r}=t,a=Jv(n,Array.from(e.children).filter(d=>d instanceof HTMLElement).map(d=>({element:d}))).map(({element:d})=>d),u=[];let c,p;for(const d of a){const m=i.find(y=>y.element===d);if(m){if(c){const y=c.element.getBoundingClientRect(),S=d.getBoundingClientRect();u.push({group:t,groupSize:Ap({group:t}),panels:[c,m],separator:p,rect:n==="horizontal"?new DOMRect(y.right,S.top,S.left-y.right,S.height):new DOMRect(S.left,y.bottom,S.width,S.top-y.bottom)})}c=m,p=void 0}else{const y=r.find(S=>S.element===d);y?p=y:(c=void 0,p=void 0)}}return u}function DY(t,e){const n=getComputedStyle(t),i=parseFloat(n.fontSize);return e*i}function OY(t,e){const n=getComputedStyle(t.ownerDocument.body),i=parseFloat(n.fontSize);return e*i}function PY(t){return t/100*window.innerHeight}function LY(t){return t/100*window.innerWidth}function UY(t){switch(typeof t){case"number":return[t,"px"];case"string":{const e=parseFloat(t);return t.endsWith("%")?[e,"%"]:t.endsWith("px")?[e,"px"]:t.endsWith("rem")?[e,"rem"]:t.endsWith("em")?[e,"em"]:t.endsWith("vh")?[e,"vh"]:t.endsWith("vw")?[e,"vw"]:[e,"%"]}}}function kf({groupSize:t,panelElement:e,styleProp:n}){let i;const[r,a]=UY(n);switch(a){case"%":{i=r/100*t;break}case"px":{i=r;break}case"rem":{i=OY(e,r);break}case"em":{i=DY(e,r);break}case"vh":{i=PY(r);break}case"vw":{i=LY(r);break}}return i}function Zn(t){return parseFloat(t.toFixed(3))}function SA(t){const{panels:e}=t,n=Ap({group:t});return e.map(i=>{const{element:r,panelConstraints:a}=i;let u=0;if(a.collapsedSize){const m=kf({groupSize:n,panelElement:r,styleProp:a.collapsedSize});u=Zn(m/n*100)}let c;if(a.defaultSize){const m=kf({groupSize:n,panelElement:r,styleProp:a.defaultSize});c=Zn(m/n*100)}let p=0;if(a.minSize){const m=kf({groupSize:n,panelElement:r,styleProp:a.minSize});p=Zn(m/n*100)}let d=100;if(a.maxSize){const m=kf({groupSize:n,panelElement:r,styleProp:a.maxSize});d=Zn(m/n*100)}return{collapsedSize:u,collapsible:a.collapsible===!0,defaultSize:c,minSize:p,maxSize:d,panelId:i.id}})}class kY{#e={};addListener(e,n){const i=this.#e[e];return i===void 0?this.#e[e]=[n]:i.includes(n)||i.push(n),()=>{this.removeListener(e,n)}}emit(e,n){const i=this.#e[e];if(i!==void 0)if(i.length===1)i[0].call(null,n);else{let r=!1,a=null;const u=Array.from(i);for(let c=0;c<u.length;c++){const p=u[c];try{p.call(null,n)}catch(d){a===null&&(r=!0,a=d)}}if(r)throw a}}removeAllListeners(){this.#e={}}removeListener(e,n){const i=this.#e[e];if(i!==void 0){const r=i.indexOf(n);r>=0&&i.splice(r,1)}}}function Ft(t,e,n=0){return Math.abs(Zn(t)-Zn(e))<=n}let On={cursorFlags:0,interactionState:{state:"inactive"},mountedGroups:new Map};const Br=new kY;function Ii(){return On}function Fn(t){const e=typeof t=="function"?t(On):t;if(On===e)return On;const n=On;return On={...On,...e},e.cursorFlags!==void 0&&Br.emit("cursorFlagsChange",On.cursorFlags),e.interactionState!==void 0&&Br.emit("interactionStateChange",On.interactionState),e.mountedGroups!==void 0&&(On.mountedGroups.forEach((i,r)=>{i.derivedPanelConstraints.forEach(a=>{if(a.collapsible){const{layout:u}=n.mountedGroups.get(r)??{};if(u){const c=Ft(a.collapsedSize,i.layout[a.panelId]),p=Ft(a.collapsedSize,u[a.panelId]);c&&!p&&(r.inMemoryLastExpandedPanelSizes[a.panelId]=u[a.panelId])}}})}),Br.emit("mountedGroupsChange",On.mountedGroups)),On}const BY=t=>t,kg=()=>{},WD=1,jD=2,QD=4,ZD=8,EA={coarse:10,precise:5};function HY({cursorFlags:t,groups:e,state:n}){let i=0,r=0;switch(n){case"active":case"hover":e.forEach(a=>{if(!a.disableCursor)switch(a.orientation){case"horizontal":{i++;break}case"vertical":{r++;break}}})}if(i===0&&r===0)return null;switch(n){case"active":{const a=(t&WD)!==0,u=(t&jD)!==0,c=(t&QD)!==0,p=(t&ZD)!==0;if(t){if(a)return c?"se-resize":p?"ne-resize":"e-resize";if(u)return c?"sw-resize":p?"nw-resize":"w-resize";if(c)return"s-resize";if(p)return"n-resize"}break}}return i>0&&r>0?"move":i>0?"ew-resize":"ns-resize"}let Bg,gi;function v_(){gi===void 0&&(gi=new CSSStyleSheet,document.adoptedStyleSheets=[gi]);const{cursorFlags:t,interactionState:e}=Ii();switch(e.state){case"active":case"hover":{const n=HY({cursorFlags:t,groups:e.hitRegions.map(r=>r.group),state:e.state}),i=`*{cursor: ${n} !important; ${e.state==="active"?"touch-action: none;":""} }`;if(Bg===i)return;Bg=i,n?gi.cssRules.length===0?gi.insertRule(i):gi.replaceSync(i):gi.cssRules.length===1&&gi.deleteRule(0);break}case"inactive":{Bg=void 0,gi.cssRules.length===1&&gi.deleteRule(0);break}}}function GY(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!=e[n])return!1;return!0}function hu(t,e){return Ft(t,e)?0:t>e?1:-1}function sa({panelConstraints:t,size:e}){const{collapsedSize:n=0,collapsible:i,maxSize:r=100,minSize:a=0}=t;if(hu(e,a)<0)if(i){const u=(n+a)/2;hu(e,u)<0?e=n:e=a}else e=a;return e=Math.min(r,e),e=Zn(e),e}function mu({delta:t,initialLayout:e,panelConstraints:n,pivotIndices:i,prevLayout:r,trigger:a}){if(Ft(t,0))return e;const u=Object.values(e),c=Object.values(r),p=[...u],[d,m]=i;ot(d!=null,"Invalid first pivot index"),ot(m!=null,"Invalid second pivot index");let y=0;if(a==="keyboard"){{const C=t<0?m:d,T=n[C];ot(T,`Panel constraints not found for index ${C}`);const{collapsedSize:x=0,collapsible:M,minSize:I=0}=T;if(M){const N=u[C];if(ot(N!=null,`Previous layout not found for panel index ${C}`),Ft(N,x)){const D=I-N;hu(D,Math.abs(t))>0&&(t=t<0?0-D:D)}}}{const C=t<0?d:m,T=n[C];ot(T,`No panel constraints found for index ${C}`);const{collapsedSize:x=0,collapsible:M,minSize:I=0}=T;if(M){const N=u[C];if(ot(N!=null,`Previous layout not found for panel index ${C}`),Ft(N,I)){const D=N-x;hu(D,Math.abs(t))>0&&(t=t<0?0-D:D)}}}}{const C=t<0?1:-1;let T=t<0?m:d,x=0;for(;;){const I=u[T];ot(I!=null,`Previous layout not found for panel index ${T}`);const N=sa({panelConstraints:n[T],size:100})-I;if(x+=N,T+=C,T<0||T>=n.length)break}const M=Math.min(Math.abs(t),Math.abs(x));t=t<0?0-M:M}{let C=t<0?d:m;for(;C>=0&&C<n.length;){const T=Math.abs(t)-Math.abs(y),x=u[C];ot(x!=null,`Previous layout not found for panel index ${C}`);const M=x-T,I=sa({panelConstraints:n[C],size:M});if(!Ft(x,I)&&(y+=x-I,p[C]=I,y.toFixed(3).localeCompare(Math.abs(t).toFixed(3),void 0,{numeric:!0})>=0))break;t<0?C--:C++}}if(GY(c,p))return r;{const C=t<0?m:d,T=u[C];ot(T!=null,`Previous layout not found for panel index ${C}`);const x=T+y,M=sa({panelConstraints:n[C],size:x});if(p[C]=M,!Ft(M,x)){let I=x-M,N=t<0?m:d;for(;N>=0&&N<n.length;){const D=p[N];ot(D!=null,`Previous layout not found for panel index ${N}`);const U=D+I,k=sa({panelConstraints:n[N],size:U});if(Ft(D,k)||(I-=k-D,p[N]=k),Ft(I,0))break;t>0?N--:N++}}}const S=Object.values(p).reduce((C,T)=>T+C,0);if(!Ft(S,100,.1))return r;const E=Object.keys(r);return p.reduce((C,T,x)=>(C[E[x]]=T,C),{})}function $u(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(hu(t[n],e[n])!==0)return!1;return!0}function eO({event:t,hitRegions:e,initialLayoutMap:n,mountedGroups:i,pointerDownAtPoint:r}){let a=0;const u=new Map(i);e.forEach(c=>{const{group:p,groupSize:d}=c,{disableCursor:m,orientation:y,panels:S}=p;let E=0;r?y==="horizontal"?E=(t.clientX-r.x)/d*100:E=(t.clientY-r.y)/d*100:y==="horizontal"?E=t.clientX<0?-100:100:E=t.clientY<0?-100:100;const C=n.get(p),{derivedPanelConstraints:T,layout:x,separatorToPanels:M}=i.get(p)??{};if(T&&C&&x&&M){const I=mu({delta:E,initialLayout:C,panelConstraints:T,pivotIndices:c.panels.map(N=>S.indexOf(N)),prevLayout:x,trigger:"mouse-or-touch"});if($u(I,x)){if(E!==0&&!m)switch(y){case"horizontal":{a|=E<0?WD:jD;break}case"vertical":{a|=E<0?QD:ZD;break}}}else{u.set(c.group,{derivedPanelConstraints:T,layout:I,separatorToPanels:M});const N=c.group.panels.map(({id:D})=>D).join(",");c.group.inMemoryLayouts[N]=I}}}),Fn({cursorFlags:a,mountedGroups:u}),v_()}function bA(t){if(t.defaultPrevented||t.relatedTarget!==null||t.clientX===0&&t.clientY===0)return;const{interactionState:e,mountedGroups:n}=Ii();switch(e.state){case"active":e.hitRegions.forEach(i=>{t.currentTarget===i.group.element&&eO({event:t,hitRegions:e.hitRegions,initialLayoutMap:e.initialLayoutMap,mountedGroups:n})})}}function id(t){const e=t.parentElement;ot(e,"Parent group element not found");const{mountedGroups:n}=Ii();for(const[i]of n)if(i.element===e)return i;throw Error("Could not find parent Group for separator element")}function Wr({layout:t,panelConstraints:e}){const n=[...Object.values(t)],i=n.reduce((u,c)=>u+c,0);if(n.length!==e.length)throw Error(`Invalid ${e.length} panel layout: ${n.map(u=>`${u}%`).join(", ")}`);if(!Ft(i,100)&&n.length>0)for(let u=0;u<e.length;u++){const c=n[u];ot(c!=null,`No layout data found for index ${u}`);const p=100/i*c;n[u]=p}let r=0;for(let u=0;u<e.length;u++){const c=n[u];ot(c!=null,`No layout data found for index ${u}`);const p=sa({panelConstraints:e[u],size:c});c!=p&&(r+=c-p,n[u]=p)}if(!Ft(r,0))for(let u=0;u<e.length;u++){const c=n[u];ot(c!=null,`No layout data found for index ${u}`);const p=c+r,d=sa({panelConstraints:e[u],size:p});if(c!==d&&(r-=d-c,n[u]=d,Ft(r,0)))break}const a=Object.keys(t);return n.reduce((u,c,p)=>(u[a[p]]=c,u),{})}function tO({groupId:t}){const e=()=>{const{mountedGroups:n}=Ii();for(const[i,r]of n)if(i.id===t)return{group:i,...r};throw Error(`Group ${t} not found`)};return{getLayout(){const{layout:n}=e();return n},setLayout(n){const{derivedPanelConstraints:i,group:r,layout:a,separatorToPanels:u}=e(),c=Wr({layout:n,panelConstraints:i});return $u(a,c)||Fn(p=>({mountedGroups:new Map(p.mountedGroups).set(r,{derivedPanelConstraints:i,layout:c,separatorToPanels:u})})),c}}}function nO(t){const{mountedGroups:e}=Ii(),n=e.get(t);return ot(n,`Mounted Group ${t.id} not found`),n}function Mr(t,e){const n=id(t),i=nO(n),r=n.separators.find(m=>m.element===t);ot(r,"Matching separator not found");const a=i.separatorToPanels.get(r);ot(a,"Matching panels not found");const u=a.map(m=>n.panels.indexOf(m)),c=tO({groupId:n.id}).getLayout(),p=mu({delta:e,initialLayout:c,panelConstraints:i.derivedPanelConstraints,pivotIndices:u,prevLayout:c,trigger:"keyboard"}),d=Wr({layout:p,panelConstraints:i.derivedPanelConstraints});$u(c,d)||Fn(m=>({mountedGroups:new Map(m.mountedGroups).set(n,{derivedPanelConstraints:i.derivedPanelConstraints,layout:d,separatorToPanels:i.separatorToPanels})}))}function wA(t){if(t.defaultPrevented)return;const e=t.currentTarget,n=id(e);if(!n.disabled)switch(t.key){case"ArrowDown":{t.preventDefault(),n.orientation==="vertical"&&Mr(e,5);break}case"ArrowLeft":{t.preventDefault(),n.orientation==="horizontal"&&Mr(e,-5);break}case"ArrowRight":{t.preventDefault(),n.orientation==="horizontal"&&Mr(e,5);break}case"ArrowUp":{t.preventDefault(),n.orientation==="vertical"&&Mr(e,-5);break}case"End":{t.preventDefault(),Mr(e,100);break}case"Enter":{t.preventDefault();const i=id(e),{derivedPanelConstraints:r,layout:a,separatorToPanels:u}=nO(i),c=i.separators.find(y=>y.element===e);ot(c,"Matching separator not found");const p=u.get(c);ot(p,"Matching panels not found");const d=p[0],m=r.find(y=>y.panelId===d.id);if(ot(m,"Panel metadata not found"),m.collapsible){const y=a[d.id],S=m.collapsedSize===y?i.inMemoryLastExpandedPanelSizes[d.id]??m.minSize:m.collapsedSize;Mr(e,S-y)}break}case"F6":{t.preventDefault();const i=id(e).separators.map(u=>u.element),r=Array.from(i).findIndex(u=>u===t.currentTarget);ot(r!==null,"Index not found");const a=t.shiftKey?r>0?r-1:i.length-1:r+1<i.length?r+1:0;i[a].focus();break}case"Home":{t.preventDefault(),Mr(e,-100);break}}}function FY(t,e){return{x:t.x>=e.left&&t.x<=e.right?0:Math.min(Math.abs(t.x-e.left),Math.abs(t.x-e.right)),y:t.y>=e.top&&t.y<=e.bottom?0:Math.min(Math.abs(t.y-e.top),Math.abs(t.y-e.bottom))}}function $Y(t,e,n){let i,r={x:1/0,y:1/0};for(const a of e){const u=FY(n,a.rect);switch(t){case"horizontal":{u.x<=r.x&&(i=a,r=u);break}case"vertical":{u.y<=r.y&&(i=a,r=u);break}}}return i?{distance:r,hitRegion:i}:void 0}let Bf;function VY(){return Bf===void 0&&(typeof matchMedia=="function"?Bf=!!matchMedia("(pointer:coarse)").matches:Bf=!1),Bf}function iO(t,e){const n=[];return e.forEach((i,r)=>{if(r.disabled)return;const a=VY()?EA.coarse:EA.precise,u=XD(r),c=$Y(r.orientation,u,{x:t.clientX,y:t.clientY});c&&c.distance.x<=a&&c.distance.y<=a&&n.push(c.hitRegion)}),n}function CA(t){if(t.defaultPrevented)return;const{mountedGroups:e}=Ii(),n=iO(t,e),i=new Set,r=new Set,a=new Set,u=new Map;let c=!1;n.forEach(p=>{i.add(p.group),p.panels.forEach(m=>{r.add(m)}),p.separator&&(a.add(p.separator),c||(c=!0,p.separator.element.focus()));const d=e.get(p.group);d&&u.set(p.group,d.layout)}),Fn({interactionState:{hitRegions:n,initialLayoutMap:u,pointerDownAtPoint:{x:t.clientX,y:t.clientY},state:"active"}}),n.length&&t.preventDefault()}function TA(t){if(t.defaultPrevented)return;const{interactionState:e,mountedGroups:n}=Ii();switch(e.state){case"active":{if(t.type!=="pointerleave"&&t.buttons===0){Fn(i=>i.interactionState.state==="inactive"?i:{cursorFlags:0,interactionState:{state:"inactive"}});return}eO({event:t,hitRegions:e.hitRegions,initialLayoutMap:e.initialLayoutMap,mountedGroups:n,pointerDownAtPoint:e.pointerDownAtPoint});break}default:{const i=iO(t,n);i.length===0?e.state!=="inactive"&&Fn({interactionState:{state:"inactive"}}):Fn({interactionState:{hitRegions:i,state:"hover"}}),v_();break}}}function AA(t){if(t.defaultPrevented)return;t.preventDefault();const{interactionState:e}=Ii();switch(e.state){case"active":Fn({cursorFlags:0,interactionState:{state:"inactive"}}),v_()}}function zY(t){let e=0,n=0;const i={};for(const a of t)if(a.defaultSize!==void 0){e++;const u=Zn(a.defaultSize);n+=u,i[a.panelId]=u}else i[a.panelId]=void 0;const r=t.length-e;if(r!==0){const a=Zn((100-n)/r);for(const u of t)u.defaultSize===void 0&&(i[u.panelId]=a)}return i}function qY(t,e,n){const i=n[0];if(!i)return;const r=t.panels.find(u=>u.element===e);if(!r||!r.onResize)return;const a=Ap({group:t});r.onResize({asPercentage:Zn(i.inlineSize/a*100),inPixels:i.inlineSize},r.id)}function JY(t){let e=!0;ot(t.separators.length===0||t.separators.length<t.panels.length,"Invalid Group configuration; too many Separator components");const n=new Set,i=new Set,r=new ResizeObserver(y=>{for(const S of y){const{borderBoxSize:E,target:C}=S;C===t.element?e&&Fn(T=>{const x=T.mountedGroups.get(t);if(x){const M=SA(t),I=x.layout,N=Wr({layout:I,panelConstraints:M});return{mountedGroups:new Map(T.mountedGroups).set(t,{derivedPanelConstraints:M,layout:N,separatorToPanels:x.separatorToPanels})}}return T}):qY(t,C,E)}});r.observe(t.element),t.panels.forEach(y=>{ot(!n.has(y.id),`Panel ids must be unique; id "${y.id}" was used more than once`),n.add(y.id),y.onResize&&r.observe(y.element)});const a=SA(t),u=t.panels.map(({id:y})=>y).join(","),c=t.inMemoryLayouts[u]??t.defaultLayout??zY(a),p=Wr({layout:c,panelConstraints:a}),d=XD(t),m=Fn(y=>({mountedGroups:new Map(y.mountedGroups).set(t,{derivedPanelConstraints:a,layout:p,separatorToPanels:new Map(d.filter(S=>S.separator).map(S=>[S.separator,S.panels]))})}));return t.element.addEventListener("pointerleave",bA),t.separators.forEach(y=>{ot(!i.has(y.id),`Separator ids must be unique; id "${y.id}" was used more than once`),i.add(y.id),y.element.addEventListener("keydown",wA)}),m.mountedGroups.size===1&&(window.addEventListener("pointerdown",CA),window.addEventListener("pointermove",TA),window.addEventListener("pointerup",AA)),function(){e=!1;const y=Fn(S=>{const E=new Map(S.mountedGroups);return E.delete(t),{mountedGroups:E}});t.element.removeEventListener("pointerleave",bA),t.separators.forEach(S=>{S.element.removeEventListener("keydown",wA)}),y.mountedGroups.size===0&&(window.removeEventListener("pointerdown",CA),window.removeEventListener("pointermove",TA),window.removeEventListener("pointerup",AA)),r.disconnect()}}function y_(t){const e=w.useId();return`${t??e}`}const Ia=typeof window<"u"?w.useLayoutEffect:w.useEffect;function __(t){const e=w.useRef(t);return Ia(()=>{e.current=t},[t]),w.useCallback(n=>e.current?.(n),[e])}function S_(...t){return __(e=>{t.forEach(n=>{if(n)switch(typeof n){case"function":{n(e);break}case"object":{n.current=e;break}}})})}const oO="--react-resizable-panels--panel--pointer-events";function rO(t,e){const n=t.replace(/[^a-zA-Z0-9\-_]/g,""),i=e.replace(/[^a-zA-Z0-9\-_]/g,"");return`--react-resizable-panels--${n}--${i}`}const sO=w.createContext(null);function YY(t,e){const n=w.useRef({getLayout:()=>({}),setLayout:BY});w.useImperativeHandle(e,()=>n.current,[]),Ia(()=>{Object.assign(n.current,tO({groupId:t}))})}function KY({children:t,className:e,defaultLayout:n,disableCursor:i,disabled:r,elementRef:a,groupRef:u,id:c,onLayoutChange:p,orientation:d="horizontal",style:m,...y}){const S=w.useRef({}),E=__(ae=>{$u(S.current,ae)||(S.current=ae,p?.(ae))}),C=y_(c),[T,x]=w.useState(!1),[M,I]=w.useState(null),[N,D]=w.useState(n??{}),[U,k]=w.useState([]),[O,q]=w.useState([]),J=w.useRef({}),X=w.useRef({}),j=S_(I,a);YY(C,u);const re=w.useMemo(()=>({id:C,orientation:d,registerPanel:ae=>(k(de=>Jv(d,[...de,ae])),()=>{k(de=>de.filter(H=>H!==ae))}),registerSeparator:ae=>(q(de=>Jv(d,[...de,ae])),()=>{q(de=>de.filter(H=>H!==ae))})}),[C,d]);Ia(()=>{if(M!==null&&U.length>0){const ae={defaultLayout:n,disableCursor:!!i,disabled:!!r,element:M,id:C,inMemoryLastExpandedPanelSizes:J.current,inMemoryLayouts:X.current,orientation:d,panels:U,separators:O},de=JY(ae),H=Ii().mountedGroups.get(ae);H&&(D(H.layout),E?.(H.layout));const Q=Br.addListener("interactionStateChange",ne=>{switch(ne.state){case"active":case"hover":{x(ne.hitRegions.some(ce=>ce.group===ae));break}}}),ee=Br.addListener("mountedGroupsChange",ne=>{const ce=ne.get(ae);ce&&ce.derivedPanelConstraints.length>0&&(D(ce.layout),E?.(ce.layout))});return()=>{de(),Q(),ee()}}},[n,i,r,M,C,E,d,U,O]);const ie={[oO]:T?"none":void 0};for(const ae in N){const de=rO(C,ae),H=N[ae];ie[de]=H}return A.jsx(sO.Provider,{value:re,children:A.jsx("div",{...y,"aria-orientation":d,className:e,"data-group":!0,"data-testid":C,id:C,ref:j,style:{...m,...ie,display:"flex",flexDirection:d==="horizontal"?"row":"column",flexWrap:"nowrap"},children:t})})}function E_(){const t=w.useContext(sO);return ot(t,"Group Context not found; did you render a Panel or Separator outside of a Group?"),t}function XY({groupId:t,panelId:e}){const n=()=>{const{mountedGroups:c}=Ii();for(const[p,{derivedPanelConstraints:d,layout:m,separatorToPanels:y}]of c)if(p.id===t)return{derivedPanelConstraints:d,group:p,layout:m,separatorToPanels:y};throw Error(`Group ${t} not found`)},i=()=>{const c=n().derivedPanelConstraints.find(p=>p.panelId===e);if(c!==void 0)return c;throw Error(`Panel constraints not found for Panel ${e}`)},r=()=>{const c=n().group.panels.find(p=>p.id===e);if(c!==void 0)return c;throw Error(`Layout not found for Panel ${e}`)},a=()=>{const c=n().layout[e];if(c!==void 0)return c;throw Error(`Layout not found for Panel ${e}`)},u=c=>{const p=a();if(c===p)return;const{derivedPanelConstraints:d,group:m,layout:y,separatorToPanels:S}=n(),E=m.panels.findIndex(M=>M.id===e),C=E===m.panels.length-1,T=mu({delta:C?p-c:c-p,initialLayout:y,panelConstraints:d,pivotIndices:C?[E-1,E]:[E,E+1],prevLayout:y,trigger:"imperative-api"}),x=Wr({layout:T,panelConstraints:d});$u(y,x)||Fn(M=>({mountedGroups:new Map(M.mountedGroups).set(m,{derivedPanelConstraints:d,layout:x,separatorToPanels:S})}))};return{collapse:()=>{const{collapsible:c,collapsedSize:p}=i(),d=a();c&&d!==p&&u(p)},expand:()=>{const{collapsible:c,collapsedSize:p,minSize:d}=i(),m=a();c&&m===p&&u(d)},getSize:()=>{const{group:c}=n(),p=a(),{element:d}=r(),m=c.orientation==="horizontal"?d.offsetWidth:d.offsetHeight;return{asPercentage:p,inPixels:m}},isCollapsed:()=>{const{collapsible:c,collapsedSize:p}=i(),d=a();return c&&Ft(p,d)},resize:c=>{if(a()!==c){let p;switch(typeof c){case"number":{const{group:d}=n(),m=Ap({group:d});p=Zn(c/m*100);break}case"string":{p=parseFloat(c);break}}u(p)}}}}function WY(t,e){const{id:n}=E_(),i=w.useRef({collapse:kg,expand:kg,getSize:()=>({asPercentage:0,inPixels:0}),isCollapsed:()=>!1,resize:kg});w.useImperativeHandle(e,()=>i.current,[]),Ia(()=>{Object.assign(i.current,XY({groupId:n,panelId:t}))})}function xA({children:t,className:e,collapsedSize:n="0%",collapsible:i=!1,defaultSize:r,elementRef:a,id:u,maxSize:c="100%",minSize:p="0%",onResize:d,panelRef:m,style:y,...S}){const E=!!u,C=y_(u),[T,x]=w.useState(null),M=S_(x,a),{id:I,registerPanel:N}=E_(),D=d!==null,U=__(O=>{d?.(O,u)});Ia(()=>{if(T!==null)return N({element:T,id:C,idIsStable:E,onResize:D?U:void 0,panelConstraints:{collapsedSize:n,collapsible:i,defaultSize:r,maxSize:c,minSize:p}})},[n,i,r,T,D,C,E,c,p,U,N]),WY(C,m);const k=rO(I,C);return A.jsx("div",{...S,"data-panel":!0,"data-testid":C,id:C,ref:M,style:{...jY,flexBasis:0,flexGrow:`var(${k}, 1)`,flexShrink:1,overflow:"hidden",pointerEvents:`var(${oO})`},children:A.jsx("div",{className:e,style:{width:"100%",height:"100%",...y},children:t})})}const jY={minHeight:"unset",maxHeight:"unset",height:"unset",minWidth:"unset",maxWidth:"unset",width:"unset",flex:"unset",flexBasis:"unset",flexShrink:"unset",flexGrow:"unset",border:"unset",borderWidth:"unset",padding:"unset",margin:"unset"};function QY({layout:t,panelConstraints:e,panelId:n,panelIndex:i}){let r,a;const u=t[n],c=e.find(p=>p.panelId===n);if(c){const p=c.maxSize,d=a=c.collapsible?c.collapsedSize:c.minSize,m=[i,i+1];a=Wr({layout:mu({delta:d-u,initialLayout:t,panelConstraints:e,pivotIndices:m,prevLayout:t,trigger:"keyboard"}),panelConstraints:e})[n],r=Wr({layout:mu({delta:p-u,initialLayout:t,panelConstraints:e,pivotIndices:m,prevLayout:t,trigger:"keyboard"}),panelConstraints:e})[n]}return{valueControls:n,valueMax:r,valueMin:a,valueNow:u}}function ZY({children:t,className:e,elementRef:n,id:i,style:r,...a}){const u=y_(i),[c,p]=w.useState({}),[d,m]=w.useState("inactive"),[y,S]=w.useState(null),E=S_(S,n),{id:C,orientation:T,registerSeparator:x}=E_(),M=T==="horizontal"?"vertical":"horizontal";return Ia(()=>{if(y!==null){const I={element:y,id:u},N=x(I),D=Br.addListener("interactionStateChange",k=>{m(k.state!=="inactive"&&k.hitRegions.some(O=>O.separator===I)?k.state:"inactive")}),U=Br.addListener("mountedGroupsChange",k=>{k.forEach(({derivedPanelConstraints:O,layout:q,separatorToPanels:J},X)=>{if(X.id===C){const j=J.get(I);if(j){const re=j[0],ie=X.panels.indexOf(re);p(QY({layout:q,panelConstraints:O,panelId:re.id,panelIndex:ie}))}}})});return()=>{D(),U(),N()}}},[y,C,u,x]),A.jsx("div",{...a,"aria-controls":c.valueControls,"aria-orientation":M,"aria-valuemax":c.valueMax,"aria-valuemin":c.valueMin,"aria-valuenow":c.valueNow,children:t,className:e,"data-separator":d,"data-testid":u,id:u,ref:E,role:"separator",style:{flexBasis:"auto",...r,flexGrow:0,flexShrink:0},tabIndex:0})}const eK=({localImage:t,initialText:e="",onImageGenerated:n,onClose:i})=>{const[r,a]=w.useState(null),[u,c]=w.useState(e),[p,d]=w.useState(!1);w.useEffect(()=>{let y=!0;return t.getUrlObject().then(S=>{y&&a(S)}),()=>{y=!1}},[t]);const m=async()=>{d(!0);try{const y=await t.getBase64(),S=await ua.img2img(u||"",[{rawBase64:y.rawBase64,mime:y.mime,description:""}]);n&&n(S)}catch(y){console.error("GenerateImage failed:",y)}finally{d(!1)}};return A.jsx("div",{className:"border d-flex flex-column",style:{height:"700px"},children:A.jsxs(KY,{orientation:"horizontal",style:{height:"100%"},children:[A.jsx(xA,{defaultSize:500,minSize:10,children:A.jsx("div",{className:"d-flex align-items-center justify-content-center overflow-hidden",style:{height:"100%"},children:r?A.jsx("img",{src:r,alt:"Preview",className:"img-fluid",style:{objectFit:"contain",maxHeight:"100%",maxWidth:"100%"}}):A.jsx("div",{children:"Loading image"})})}),A.jsx(ZY,{style:{cursor:"ew-resize",backgroundColor:"#8f8f8fff",width:"10px"}}),A.jsx(xA,{minSize:10,children:A.jsxs("div",{className:"d-flex flex-column h-100 p-3",style:{height:"100%"},children:[A.jsx("div",{className:"d-flex justify-content-end mb-2",children:i&&A.jsx("button",{type:"button",onClick:i,style:{cursor:"pointer"},children:""})}),A.jsxs("div",{className:"flex-grow-1 d-flex flex-column",children:[A.jsx("textarea",{value:u,onChange:y=>c(y.target.value),placeholder:"Edit This Image:",style:{flexGrow:1,resize:"none",padding:"8px",fontSize:"14px"}}),A.jsx(vp,{onClick:m,label:"Generate",is_loading:p})]})]})})]})})},tK=Dt(({shot:t})=>{const e=t.scene;if(!e.sceneJson||!e.sceneJson.data)return null;const n=e.sceneJson.data.tags,i=e.project?.artbook;return i?A.jsx(gp,{label:"Tags",children:n.length?A.jsx("ul",{className:"list-group list-group-flush",children:n.map((r,a)=>{const u=i.getTag(r);if(!u)return null;const c=!t.getSkippedTags().includes(u.path);return A.jsxs("li",{className:"list-group-item p-0 border-0 d-flex align-items-center gap-2",children:[A.jsx("input",{type:"checkbox",className:"form-check-input m-0",checked:c,onChange:p=>{t.setTagSkipped(u.path,!p.target.checked)}}),A.jsx("span",{className:c?"":"text-muted",children:u.path})]},a)})}):A.jsx("div",{children:"No tags."})}):null}),nK=Dt(({shot:t})=>{if(!t.shotJson)return A.jsx("div",{children:"Loading shot info..."});const e=200,n=t.images??[],i=async()=>{window.confirm(`Are you sure you want to delete shot "${t.folder.name}"?`)&&await t.delete()};return A.jsx("div",{className:"card mb-2",children:A.jsxs("div",{className:"card-body",children:[A.jsxs("div",{className:"d-flex align-items-center justify-content-between mb-2",children:[A.jsx("strong",{children:t.folder.name}),A.jsxs("div",{className:"d-flex gap-2",children:[A.jsx(KD,{label:"Finished",value:!!t.shotJson.data?.finished,onToggle:r=>{t.shotJson&&t.shotJson.updateField("finished",r)}}),A.jsx(Lt,{onClick:()=>{t.log()},label:"Log Shot"}),A.jsx(Lt,{onClick:i,label:"Delete Shot",className:"btn-outline-danger"})]})]}),A.jsx(Qo,{localJson:t.shotJson,field:"prompt",fitHeight:!0}),A.jsx(Qo,{localJson:t.shotJson,field:"camera",fitHeight:!0}),A.jsx(Qo,{localJson:t.shotJson,field:"action_description",fitHeight:!0}),A.jsx(tK,{shot:t}),A.jsx(RY,{label:"Shot Results",headerExtra:A.jsxs(A.Fragment,{children:[A.jsx(vp,{label:"Generate",className:"btn-outline-success",onClick:async()=>{t.GenerateImage()},is_loading:t.is_generating}),A.jsx(Lt,{label:"Import URL",onClick:async()=>{try{const r=await navigator.clipboard.readText();if(r&&(r.startsWith("http://")||r.startsWith("https://"))){console.log("Importing URL from clipboard:",r);const a=await Yr.fromUrl(r,t.resultsFolder);t.addImage(a)}else alert("Clipboard does not contain a valid URL.")}catch(r){console.error("Failed to read clipboard:",r),alert("Failed to access clipboard.")}}})]}),children:n.map((r,a)=>A.jsx(MY,{localImage:r,height:e,onClick:()=>{t.selectArt(r)},topRightExtra:A.jsxs(A.Fragment,{children:[A.jsx(Lt,{onClick:()=>t.setSrcImage(r),label:"Pick"}),A.jsx(Lt,{onClick:async()=>{if(window.confirm("Delete this image?"))try{await r.delete(t.resultsFolder),t.removeImage(r)}catch(u){console.error("Failed to delete image:",u),alert("Failed to delete image.")}},label:"Delete",className:"btn-outline-danger"})]})},a))}),t.selected_art&&A.jsx(eK,{localImage:t.selected_art,initialText:"Notes for this image",onImageGenerated:async r=>{await t.saveGoogleResultImage(r,!0)},onClose:()=>{t.selectArt()}})]})})}),iK=Dt(({scene:t})=>{const[e,n]=w.useState(null);w.useEffect(()=>{n(null)},[t]);const i=async()=>{const r=prompt("Enter new shot name:");if(!r)return;const a=await t.createShot(r);a&&n(a)};return A.jsxs("div",{className:"d-flex flex-column gap-3",children:[A.jsx(xY,{initialHeight:200,children:A.jsxs("div",{className:"d-flex overflow-auto gap-2 h-100",children:[t.shots.map(r=>A.jsx(AY,{shot:r,isSelected:e===r,onClick:n},r.folder.name)),A.jsx("div",{className:"mt-2",children:A.jsx(Lt,{label:"+ Add Shot",onClick:i})})]})}),A.jsxs("div",{children:[A.jsx(vp,{onClick:()=>{t.generateAllShotImages()},label:"Generate ALL",is_loading:t.is_generating_all_shot_images}),A.jsx(Lt,{label:"+ Add Shot",onClick:i})]}),e&&A.jsx(nK,{shot:e})]})}),oK=Dt(({project:t})=>{switch(t.currentView.type){case"settings":return A.jsx(Z4,{project:t});case"script":return A.jsx(e6,{project:t});case"artbook":return t.artbook?A.jsx(n6,{artbook:t.artbook}):A.jsx("div",{children:"No Artbook found."});case"scene":if(!t.selectedScene)return null;const e=t.selectedScene;return A.jsxs("div",{children:[A.jsx("h2",{children:e.folder.name}),A.jsx(lu,{tabs:{Scene:A.jsx(TY,{scene:e}),Shots:A.jsx(iK,{scene:e})}})]});default:return null}}),rK=Dt(()=>{const[t]=w.useState(()=>new K4(null)),e=async()=>{try{const i=await window.showDirectoryPicker();await t.loadFromFolder(i)}catch(i){console.error(i)}},n=async i=>{let r=await i.queryPermission({mode:"readwrite"});r!=="granted"&&(r=await i.requestPermission({mode:"readwrite"})),r==="granted"&&await t.loadFromFolder(i)};return w.useEffect(()=>{(async()=>{if(await t.loadDB(),t.userSettingsDB.data.lastOpenedFolder){const r=t.userSettingsDB.data.lastOpenedFolder;let a=await r.queryPermission({mode:"readwrite"});a!=="granted"&&(a=await r.requestPermission({mode:"readwrite"})),a==="granted"&&await t.loadFromFolder(r)}})()},[]),A.jsxs("div",{style:{minHeight:"100vh"},children:[A.jsx(X4,{onOpenFolder:e,recentFolders:t.userSettingsDB.data.recentFolders,onOpenRecent:n,project:t}),A.jsxs("div",{className:"d-flex",style:{height:"calc(100vh - 56px)",overflow:"hidden"},children:[A.jsx(j4,{project:t}),A.jsx("div",{className:"flex-grow-1 d-flex flex-column overflow-hidden",children:A.jsx("div",{className:"flex-grow-1 overflow-auto p-3",children:A.jsx(oK,{project:t})})})]})]})}),sK=w.createContext(void 0),aK=({children:t})=>{const[e,n]=w.useState(null);return A.jsx(sK.Provider,{value:{contentArea:e,setContentArea:n},children:t})};LP.createRoot(document.getElementById("root")).render(A.jsx(w.StrictMode,{children:A.jsx(aK,{children:A.jsx(rK,{})})}));
