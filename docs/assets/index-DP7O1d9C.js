function GP(t,e){for(var n=0;n<e.length;n++){const o=e[n];if(typeof o!="string"&&!Array.isArray(o)){for(const r in o)if(r!=="default"&&!(r in t)){const a=Object.getOwnPropertyDescriptor(o,r);a&&Object.defineProperty(t,r,a.get?a:{enumerable:!0,get:()=>o[r]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))o(r);new MutationObserver(r=>{for(const a of r)if(a.type==="childList")for(const u of a.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&o(u)}).observe(document,{childList:!0,subtree:!0});function n(r){const a={};return r.integrity&&(a.integrity=r.integrity),r.referrerPolicy&&(a.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?a.credentials="include":r.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function o(r){if(r.ep)return;r.ep=!0;const a=n(r);fetch(r.href,a)}})();function Su(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Jm={exports:{}},Il={};var OE;function VP(){if(OE)return Il;OE=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(o,r,a){var u=null;if(a!==void 0&&(u=""+a),r.key!==void 0&&(u=""+r.key),"key"in r){a={};for(var c in r)c!=="key"&&(a[c]=r[c])}else a=r;return r=a.ref,{$$typeof:t,type:o,key:u,ref:r!==void 0?r:null,props:a}}return Il.Fragment=e,Il.jsx=n,Il.jsxs=n,Il}var PE;function zP(){return PE||(PE=1,Jm.exports=VP()),Jm.exports}var E=zP(),Km={exports:{}},xe={};var kE;function qP(){if(kE)return xe;kE=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),u=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),y=Symbol.for("react.activity"),S=Symbol.iterator;function b(k){return k===null||typeof k!="object"?null:(k=S&&k[S]||k["@@iterator"],typeof k=="function"?k:null)}var T={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,x={};function M(k,Y,se){this.props=k,this.context=Y,this.refs=x,this.updater=se||T}M.prototype.isReactComponent={},M.prototype.setState=function(k,Y){if(typeof k!="object"&&typeof k!="function"&&k!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,k,Y,"setState")},M.prototype.forceUpdate=function(k){this.updater.enqueueForceUpdate(this,k,"forceUpdate")};function I(){}I.prototype=M.prototype;function N(k,Y,se){this.props=k,this.context=Y,this.refs=x,this.updater=se||T}var D=N.prototype=new I;D.constructor=N,A(D,M.prototype),D.isPureReactComponent=!0;var L=Array.isArray;function U(){}var O={H:null,A:null,T:null,S:null},q=Object.prototype.hasOwnProperty;function J(k,Y,se){var le=se.ref;return{$$typeof:t,type:k,key:Y,ref:le!==void 0?le:null,props:se}}function j(k,Y){return J(k.type,Y,k.props)}function W(k){return typeof k=="object"&&k!==null&&k.$$typeof===t}function re(k){var Y={"=":"=0",":":"=2"};return"$"+k.replace(/[=:]/g,function(se){return Y[se]})}var oe=/\/+/g;function ae(k,Y){return typeof k=="object"&&k!==null&&k.key!=null?re(""+k.key):Y.toString(36)}function de(k){switch(k.status){case"fulfilled":return k.value;case"rejected":throw k.reason;default:switch(typeof k.status=="string"?k.then(U,U):(k.status="pending",k.then(function(Y){k.status==="pending"&&(k.status="fulfilled",k.value=Y)},function(Y){k.status==="pending"&&(k.status="rejected",k.reason=Y)})),k.status){case"fulfilled":return k.value;case"rejected":throw k.reason}}throw k}function F(k,Y,se,le,me){var be=typeof k;(be==="undefined"||be==="boolean")&&(k=null);var ve=!1;if(k===null)ve=!0;else switch(be){case"bigint":case"string":case"number":ve=!0;break;case"object":switch(k.$$typeof){case t:case e:ve=!0;break;case m:return ve=k._init,F(ve(k._payload),Y,se,le,me)}}if(ve)return me=me(k),ve=le===""?"."+ae(k,0):le,L(me)?(se="",ve!=null&&(se=ve.replace(oe,"$&/")+"/"),F(me,Y,se,"",function(on){return on})):me!=null&&(W(me)&&(me=j(me,se+(me.key==null||k&&k.key===me.key?"":(""+me.key).replace(oe,"$&/")+"/")+ve)),Y.push(me)),1;ve=0;var ze=le===""?".":le+":";if(L(k))for(var qe=0;qe<k.length;qe++)le=k[qe],be=ze+ae(le,qe),ve+=F(le,Y,se,be,me);else if(qe=b(k),typeof qe=="function")for(k=qe.call(k),qe=0;!(le=k.next()).done;)le=le.value,be=ze+ae(le,qe++),ve+=F(le,Y,se,be,me);else if(be==="object"){if(typeof k.then=="function")return F(de(k),Y,se,le,me);throw Y=String(k),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(k).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return ve}function Q(k,Y,se){if(k==null)return k;var le=[],me=0;return F(k,le,"","",function(be){return Y.call(se,be,me++)}),le}function ee(k){if(k._status===-1){var Y=k._result;Y=Y(),Y.then(function(se){(k._status===0||k._status===-1)&&(k._status=1,k._result=se)},function(se){(k._status===0||k._status===-1)&&(k._status=2,k._result=se)}),k._status===-1&&(k._status=0,k._result=Y)}if(k._status===1)return k._result.default;throw k._result}var ne=typeof reportError=="function"?reportError:function(k){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof k=="object"&&k!==null&&typeof k.message=="string"?String(k.message):String(k),error:k});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",k);return}console.error(k)},ce={map:Q,forEach:function(k,Y,se){Q(k,function(){Y.apply(this,arguments)},se)},count:function(k){var Y=0;return Q(k,function(){Y++}),Y},toArray:function(k){return Q(k,function(Y){return Y})||[]},only:function(k){if(!W(k))throw Error("React.Children.only expected to receive a single React element child.");return k}};return xe.Activity=y,xe.Children=ce,xe.Component=M,xe.Fragment=n,xe.Profiler=r,xe.PureComponent=N,xe.StrictMode=o,xe.Suspense=h,xe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=O,xe.__COMPILER_RUNTIME={__proto__:null,c:function(k){return O.H.useMemoCache(k)}},xe.cache=function(k){return function(){return k.apply(null,arguments)}},xe.cacheSignal=function(){return null},xe.cloneElement=function(k,Y,se){if(k==null)throw Error("The argument must be a React element, but you passed "+k+".");var le=A({},k.props),me=k.key;if(Y!=null)for(be in Y.key!==void 0&&(me=""+Y.key),Y)!q.call(Y,be)||be==="key"||be==="__self"||be==="__source"||be==="ref"&&Y.ref===void 0||(le[be]=Y[be]);var be=arguments.length-2;if(be===1)le.children=se;else if(1<be){for(var ve=Array(be),ze=0;ze<be;ze++)ve[ze]=arguments[ze+2];le.children=ve}return J(k.type,me,le)},xe.createContext=function(k){return k={$$typeof:u,_currentValue:k,_currentValue2:k,_threadCount:0,Provider:null,Consumer:null},k.Provider=k,k.Consumer={$$typeof:a,_context:k},k},xe.createElement=function(k,Y,se){var le,me={},be=null;if(Y!=null)for(le in Y.key!==void 0&&(be=""+Y.key),Y)q.call(Y,le)&&le!=="key"&&le!=="__self"&&le!=="__source"&&(me[le]=Y[le]);var ve=arguments.length-2;if(ve===1)me.children=se;else if(1<ve){for(var ze=Array(ve),qe=0;qe<ve;qe++)ze[qe]=arguments[qe+2];me.children=ze}if(k&&k.defaultProps)for(le in ve=k.defaultProps,ve)me[le]===void 0&&(me[le]=ve[le]);return J(k,be,me)},xe.createRef=function(){return{current:null}},xe.forwardRef=function(k){return{$$typeof:c,render:k}},xe.isValidElement=W,xe.lazy=function(k){return{$$typeof:m,_payload:{_status:-1,_result:k},_init:ee}},xe.memo=function(k,Y){return{$$typeof:d,type:k,compare:Y===void 0?null:Y}},xe.startTransition=function(k){var Y=O.T,se={};O.T=se;try{var le=k(),me=O.S;me!==null&&me(se,le),typeof le=="object"&&le!==null&&typeof le.then=="function"&&le.then(U,ne)}catch(be){ne(be)}finally{Y!==null&&se.types!==null&&(Y.types=se.types),O.T=Y}},xe.unstable_useCacheRefresh=function(){return O.H.useCacheRefresh()},xe.use=function(k){return O.H.use(k)},xe.useActionState=function(k,Y,se){return O.H.useActionState(k,Y,se)},xe.useCallback=function(k,Y){return O.H.useCallback(k,Y)},xe.useContext=function(k){return O.H.useContext(k)},xe.useDebugValue=function(){},xe.useDeferredValue=function(k,Y){return O.H.useDeferredValue(k,Y)},xe.useEffect=function(k,Y){return O.H.useEffect(k,Y)},xe.useEffectEvent=function(k){return O.H.useEffectEvent(k)},xe.useId=function(){return O.H.useId()},xe.useImperativeHandle=function(k,Y,se){return O.H.useImperativeHandle(k,Y,se)},xe.useInsertionEffect=function(k,Y){return O.H.useInsertionEffect(k,Y)},xe.useLayoutEffect=function(k,Y){return O.H.useLayoutEffect(k,Y)},xe.useMemo=function(k,Y){return O.H.useMemo(k,Y)},xe.useOptimistic=function(k,Y){return O.H.useOptimistic(k,Y)},xe.useReducer=function(k,Y,se){return O.H.useReducer(k,Y,se)},xe.useRef=function(k){return O.H.useRef(k)},xe.useState=function(k){return O.H.useState(k)},xe.useSyncExternalStore=function(k,Y,se){return O.H.useSyncExternalStore(k,Y,se)},xe.useTransition=function(){return O.H.useTransition()},xe.version="19.2.1",xe}var LE;function Jd(){return LE||(LE=1,Km.exports=qP()),Km.exports}var C=Jd();const tt=Su(C),$A=GP({__proto__:null,default:tt},[C]);var Ym={exports:{}},Dl={},jm={exports:{}},Xm={};var UE;function JP(){return UE||(UE=1,(function(t){function e(F,Q){var ee=F.length;F.push(Q);e:for(;0<ee;){var ne=ee-1>>>1,ce=F[ne];if(0<r(ce,Q))F[ne]=Q,F[ee]=ce,ee=ne;else break e}}function n(F){return F.length===0?null:F[0]}function o(F){if(F.length===0)return null;var Q=F[0],ee=F.pop();if(ee!==Q){F[0]=ee;e:for(var ne=0,ce=F.length,k=ce>>>1;ne<k;){var Y=2*(ne+1)-1,se=F[Y],le=Y+1,me=F[le];if(0>r(se,ee))le<ce&&0>r(me,se)?(F[ne]=me,F[le]=ee,ne=le):(F[ne]=se,F[Y]=ee,ne=Y);else if(le<ce&&0>r(me,ee))F[ne]=me,F[le]=ee,ne=le;else break e}}return Q}function r(F,Q){var ee=F.sortIndex-Q.sortIndex;return ee!==0?ee:F.id-Q.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var u=Date,c=u.now();t.unstable_now=function(){return u.now()-c}}var h=[],d=[],m=1,y=null,S=3,b=!1,T=!1,A=!1,x=!1,M=typeof setTimeout=="function"?setTimeout:null,I=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;function D(F){for(var Q=n(d);Q!==null;){if(Q.callback===null)o(d);else if(Q.startTime<=F)o(d),Q.sortIndex=Q.expirationTime,e(h,Q);else break;Q=n(d)}}function L(F){if(A=!1,D(F),!T)if(n(h)!==null)T=!0,U||(U=!0,re());else{var Q=n(d);Q!==null&&de(L,Q.startTime-F)}}var U=!1,O=-1,q=5,J=-1;function j(){return x?!0:!(t.unstable_now()-J<q)}function W(){if(x=!1,U){var F=t.unstable_now();J=F;var Q=!0;try{e:{T=!1,A&&(A=!1,I(O),O=-1),b=!0;var ee=S;try{t:{for(D(F),y=n(h);y!==null&&!(y.expirationTime>F&&j());){var ne=y.callback;if(typeof ne=="function"){y.callback=null,S=y.priorityLevel;var ce=ne(y.expirationTime<=F);if(F=t.unstable_now(),typeof ce=="function"){y.callback=ce,D(F),Q=!0;break t}y===n(h)&&o(h),D(F)}else o(h);y=n(h)}if(y!==null)Q=!0;else{var k=n(d);k!==null&&de(L,k.startTime-F),Q=!1}}break e}finally{y=null,S=ee,b=!1}Q=void 0}}finally{Q?re():U=!1}}}var re;if(typeof N=="function")re=function(){N(W)};else if(typeof MessageChannel<"u"){var oe=new MessageChannel,ae=oe.port2;oe.port1.onmessage=W,re=function(){ae.postMessage(null)}}else re=function(){M(W,0)};function de(F,Q){O=M(function(){F(t.unstable_now())},Q)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(F){F.callback=null},t.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):q=0<F?Math.floor(1e3/F):5},t.unstable_getCurrentPriorityLevel=function(){return S},t.unstable_next=function(F){switch(S){case 1:case 2:case 3:var Q=3;break;default:Q=S}var ee=S;S=Q;try{return F()}finally{S=ee}},t.unstable_requestPaint=function(){x=!0},t.unstable_runWithPriority=function(F,Q){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var ee=S;S=F;try{return Q()}finally{S=ee}},t.unstable_scheduleCallback=function(F,Q,ee){var ne=t.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?ne+ee:ne):ee=ne,F){case 1:var ce=-1;break;case 2:ce=250;break;case 5:ce=1073741823;break;case 4:ce=1e4;break;default:ce=5e3}return ce=ee+ce,F={id:m++,callback:Q,priorityLevel:F,startTime:ee,expirationTime:ce,sortIndex:-1},ee>ne?(F.sortIndex=ee,e(d,F),n(h)===null&&F===n(d)&&(A?(I(O),O=-1):A=!0,de(L,ee-ne))):(F.sortIndex=ce,e(h,F),T||b||(T=!0,U||(U=!0,re()))),F},t.unstable_shouldYield=j,t.unstable_wrapCallback=function(F){var Q=S;return function(){var ee=S;S=Q;try{return F.apply(this,arguments)}finally{S=ee}}}})(Xm)),Xm}var BE;function KP(){return BE||(BE=1,jm.exports=JP()),jm.exports}var Wm={exports:{}},kt={};var FE;function YP(){if(FE)return kt;FE=1;var t=Jd();function e(h){var d="https://react.dev/errors/"+h;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)d+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+h+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var o={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},r=Symbol.for("react.portal");function a(h,d,m){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:y==null?null:""+y,children:h,containerInfo:d,implementation:m}}var u=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(h,d){if(h==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return kt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=o,kt.createPortal=function(h,d){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(e(299));return a(h,d,null,m)},kt.flushSync=function(h){var d=u.T,m=o.p;try{if(u.T=null,o.p=2,h)return h()}finally{u.T=d,o.p=m,o.d.f()}},kt.preconnect=function(h,d){typeof h=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,o.d.C(h,d))},kt.prefetchDNS=function(h){typeof h=="string"&&o.d.D(h)},kt.preinit=function(h,d){if(typeof h=="string"&&d&&typeof d.as=="string"){var m=d.as,y=c(m,d.crossOrigin),S=typeof d.integrity=="string"?d.integrity:void 0,b=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;m==="style"?o.d.S(h,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:y,integrity:S,fetchPriority:b}):m==="script"&&o.d.X(h,{crossOrigin:y,integrity:S,fetchPriority:b,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},kt.preinitModule=function(h,d){if(typeof h=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var m=c(d.as,d.crossOrigin);o.d.M(h,{crossOrigin:m,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&o.d.M(h)},kt.preload=function(h,d){if(typeof h=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var m=d.as,y=c(m,d.crossOrigin);o.d.L(h,m,{crossOrigin:y,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},kt.preloadModule=function(h,d){if(typeof h=="string")if(d){var m=c(d.as,d.crossOrigin);o.d.m(h,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:m,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else o.d.m(h)},kt.requestFormReset=function(h){o.d.r(h)},kt.unstable_batchedUpdates=function(h,d){return h(d)},kt.useFormState=function(h,d,m){return u.H.useFormState(h,d,m)},kt.useFormStatus=function(){return u.H.useHostTransitionStatus()},kt.version="19.2.1",kt}var $E;function HA(){if($E)return Wm.exports;$E=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Wm.exports=YP(),Wm.exports}var HE;function jP(){if(HE)return Dl;HE=1;var t=KP(),e=Jd(),n=HA();function o(i){var s="https://react.dev/errors/"+i;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)s+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+i+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function a(i){var s=i,l=i;if(i.alternate)for(;s.return;)s=s.return;else{i=s;do s=i,(s.flags&4098)!==0&&(l=s.return),i=s.return;while(i)}return s.tag===3?l:null}function u(i){if(i.tag===13){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function c(i){if(i.tag===31){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function h(i){if(a(i)!==i)throw Error(o(188))}function d(i){var s=i.alternate;if(!s){if(s=a(i),s===null)throw Error(o(188));return s!==i?null:i}for(var l=i,f=s;;){var v=l.return;if(v===null)break;var _=v.alternate;if(_===null){if(f=v.return,f!==null){l=f;continue}break}if(v.child===_.child){for(_=v.child;_;){if(_===l)return h(v),i;if(_===f)return h(v),s;_=_.sibling}throw Error(o(188))}if(l.return!==f.return)l=v,f=_;else{for(var w=!1,R=v.child;R;){if(R===l){w=!0,l=v,f=_;break}if(R===f){w=!0,f=v,l=_;break}R=R.sibling}if(!w){for(R=_.child;R;){if(R===l){w=!0,l=_,f=v;break}if(R===f){w=!0,f=_,l=v;break}R=R.sibling}if(!w)throw Error(o(189))}}if(l.alternate!==f)throw Error(o(190))}if(l.tag!==3)throw Error(o(188));return l.stateNode.current===l?i:s}function m(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i;for(i=i.child;i!==null;){if(s=m(i),s!==null)return s;i=i.sibling}return null}var y=Object.assign,S=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),T=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),x=Symbol.for("react.strict_mode"),M=Symbol.for("react.profiler"),I=Symbol.for("react.consumer"),N=Symbol.for("react.context"),D=Symbol.for("react.forward_ref"),L=Symbol.for("react.suspense"),U=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),q=Symbol.for("react.lazy"),J=Symbol.for("react.activity"),j=Symbol.for("react.memo_cache_sentinel"),W=Symbol.iterator;function re(i){return i===null||typeof i!="object"?null:(i=W&&i[W]||i["@@iterator"],typeof i=="function"?i:null)}var oe=Symbol.for("react.client.reference");function ae(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===oe?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case A:return"Fragment";case M:return"Profiler";case x:return"StrictMode";case L:return"Suspense";case U:return"SuspenseList";case J:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case T:return"Portal";case N:return i.displayName||"Context";case I:return(i._context.displayName||"Context")+".Consumer";case D:var s=i.render;return i=i.displayName,i||(i=s.displayName||s.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case O:return s=i.displayName||null,s!==null?s:ae(i.type)||"Memo";case q:s=i._payload,i=i._init;try{return ae(i(s))}catch{}}return null}var de=Array.isArray,F=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Q=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ee={pending:!1,data:null,method:null,action:null},ne=[],ce=-1;function k(i){return{current:i}}function Y(i){0>ce||(i.current=ne[ce],ne[ce]=null,ce--)}function se(i,s){ce++,ne[ce]=i.current,i.current=s}var le=k(null),me=k(null),be=k(null),ve=k(null);function ze(i,s){switch(se(be,s),se(me,i),se(le,null),s.nodeType){case 9:case 11:i=(i=s.documentElement)&&(i=i.namespaceURI)?nE(i):0;break;default:if(i=s.tagName,s=s.namespaceURI)s=nE(s),i=oE(s,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}Y(le),se(le,i)}function qe(){Y(le),Y(me),Y(be)}function on(i){i.memoizedState!==null&&se(ve,i);var s=le.current,l=oE(s,i.type);s!==l&&(se(me,i),se(le,l))}function Cn(i){me.current===i&&(Y(le),Y(me)),ve.current===i&&(Y(ve),xl._currentValue=ee)}var po,zt;function qt(i){if(po===void 0)try{throw Error()}catch(l){var s=l.stack.trim().match(/\n( *(at )?)/);po=s&&s[1]||"",zt=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+po+i+zt}var Ze=!1;function Uo(i,s){if(!i||Ze)return"";Ze=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var f={DetermineComponentFrameRoot:function(){try{if(s){var te=function(){throw Error()};if(Object.defineProperty(te.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(te,[])}catch(K){var z=K}Reflect.construct(i,[],te)}else{try{te.call()}catch(K){z=K}i.call(te.prototype)}}else{try{throw Error()}catch(K){z=K}(te=i())&&typeof te.catch=="function"&&te.catch(function(){})}}catch(K){if(K&&z&&typeof K.stack=="string")return[K.stack,z.stack]}return[null,null]}};f.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var v=Object.getOwnPropertyDescriptor(f.DetermineComponentFrameRoot,"name");v&&v.configurable&&Object.defineProperty(f.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var _=f.DetermineComponentFrameRoot(),w=_[0],R=_[1];if(w&&R){var P=w.split(`
`),G=R.split(`
`);for(v=f=0;f<P.length&&!P[f].includes("DetermineComponentFrameRoot");)f++;for(;v<G.length&&!G[v].includes("DetermineComponentFrameRoot");)v++;if(f===P.length||v===G.length)for(f=P.length-1,v=G.length-1;1<=f&&0<=v&&P[f]!==G[v];)v--;for(;1<=f&&0<=v;f--,v--)if(P[f]!==G[v]){if(f!==1||v!==1)do if(f--,v--,0>v||P[f]!==G[v]){var X=`
`+P[f].replace(" at new "," at ");return i.displayName&&X.includes("<anonymous>")&&(X=X.replace("<anonymous>",i.displayName)),X}while(1<=f&&0<=v);break}}}finally{Ze=!1,Error.prepareStackTrace=l}return(l=i?i.displayName||i.name:"")?qt(l):""}function Ei(i,s){switch(i.tag){case 26:case 27:case 5:return qt(i.type);case 16:return qt("Lazy");case 13:return i.child!==s&&s!==null?qt("Suspense Fallback"):qt("Suspense");case 19:return qt("SuspenseList");case 0:case 15:return Uo(i.type,!1);case 11:return Uo(i.type.render,!1);case 1:return Uo(i.type,!0);case 31:return qt("Activity");default:return""}}function Yu(i){try{var s="",l=null;do s+=Ei(i,l),l=i,i=i.return;while(i);return s}catch(f){return`
Error generating stack: `+f.message+`
`+f.stack}}var La=Object.prototype.hasOwnProperty,jn=t.unstable_scheduleCallback,wi=t.unstable_cancelCallback,ju=t.unstable_shouldYield,Xu=t.unstable_requestPaint,At=t.unstable_now,Wu=t.unstable_getCurrentPriorityLevel,Ua=t.unstable_ImmediatePriority,Ba=t.unstable_UserBlockingPriority,mr=t.unstable_NormalPriority,wO=t.unstable_LowPriority,L_=t.unstable_IdlePriority,CO=t.log,TO=t.unstable_setDisableYieldValue,Fa=null,rn=null;function Ci(i){if(typeof CO=="function"&&TO(i),rn&&typeof rn.setStrictMode=="function")try{rn.setStrictMode(Fa,i)}catch{}}var sn=Math.clz32?Math.clz32:RO,AO=Math.log,xO=Math.LN2;function RO(i){return i>>>=0,i===0?32:31-(AO(i)/xO|0)|0}var Qu=256,Zu=262144,ec=4194304;function gr(i){var s=i&42;if(s!==0)return s;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function tc(i,s,l){var f=i.pendingLanes;if(f===0)return 0;var v=0,_=i.suspendedLanes,w=i.pingedLanes;i=i.warmLanes;var R=f&134217727;return R!==0?(f=R&~_,f!==0?v=gr(f):(w&=R,w!==0?v=gr(w):l||(l=R&~i,l!==0&&(v=gr(l))))):(R=f&~_,R!==0?v=gr(R):w!==0?v=gr(w):l||(l=f&~i,l!==0&&(v=gr(l)))),v===0?0:s!==0&&s!==v&&(s&_)===0&&(_=v&-v,l=s&-s,_>=l||_===32&&(l&4194048)!==0)?s:v}function $a(i,s){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&s)===0}function MO(i,s){switch(i){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function U_(){var i=ec;return ec<<=1,(ec&62914560)===0&&(ec=4194304),i}function Ph(i){for(var s=[],l=0;31>l;l++)s.push(i);return s}function Ha(i,s){i.pendingLanes|=s,s!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function NO(i,s,l,f,v,_){var w=i.pendingLanes;i.pendingLanes=l,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=l,i.entangledLanes&=l,i.errorRecoveryDisabledLanes&=l,i.shellSuspendCounter=0;var R=i.entanglements,P=i.expirationTimes,G=i.hiddenUpdates;for(l=w&~l;0<l;){var X=31-sn(l),te=1<<X;R[X]=0,P[X]=-1;var z=G[X];if(z!==null)for(G[X]=null,X=0;X<z.length;X++){var K=z[X];K!==null&&(K.lane&=-536870913)}l&=~te}f!==0&&B_(i,f,0),_!==0&&v===0&&i.tag!==0&&(i.suspendedLanes|=_&~(w&~s))}function B_(i,s,l){i.pendingLanes|=s,i.suspendedLanes&=~s;var f=31-sn(s);i.entangledLanes|=s,i.entanglements[f]=i.entanglements[f]|1073741824|l&261930}function F_(i,s){var l=i.entangledLanes|=s;for(i=i.entanglements;l;){var f=31-sn(l),v=1<<f;v&s|i[f]&s&&(i[f]|=s),l&=~v}}function $_(i,s){var l=s&-s;return l=(l&42)!==0?1:kh(l),(l&(i.suspendedLanes|s))!==0?0:l}function kh(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function Lh(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function H_(){var i=Q.p;return i!==0?i:(i=window.event,i===void 0?32:AE(i.type))}function G_(i,s){var l=Q.p;try{return Q.p=i,s()}finally{Q.p=l}}var Ti=Math.random().toString(36).slice(2),xt="__reactFiber$"+Ti,Jt="__reactProps$"+Ti,rs="__reactContainer$"+Ti,Uh="__reactEvents$"+Ti,IO="__reactListeners$"+Ti,DO="__reactHandles$"+Ti,V_="__reactResources$"+Ti,Ga="__reactMarker$"+Ti;function Bh(i){delete i[xt],delete i[Jt],delete i[Uh],delete i[IO],delete i[DO]}function ss(i){var s=i[xt];if(s)return s;for(var l=i.parentNode;l;){if(s=l[rs]||l[xt]){if(l=s.alternate,s.child!==null||l!==null&&l.child!==null)for(i=cE(i);i!==null;){if(l=i[xt])return l;i=cE(i)}return s}i=l,l=i.parentNode}return null}function as(i){if(i=i[xt]||i[rs]){var s=i.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return i}return null}function Va(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i.stateNode;throw Error(o(33))}function ls(i){var s=i[V_];return s||(s=i[V_]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function bt(i){i[Ga]=!0}var z_=new Set,q_={};function vr(i,s){us(i,s),us(i+"Capture",s)}function us(i,s){for(q_[i]=s,i=0;i<s.length;i++)z_.add(s[i])}var OO=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),J_={},K_={};function PO(i){return La.call(K_,i)?!0:La.call(J_,i)?!1:OO.test(i)?K_[i]=!0:(J_[i]=!0,!1)}function nc(i,s,l){if(PO(s))if(l===null)i.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":i.removeAttribute(s);return;case"boolean":var f=s.toLowerCase().slice(0,5);if(f!=="data-"&&f!=="aria-"){i.removeAttribute(s);return}}i.setAttribute(s,""+l)}}function oc(i,s,l){if(l===null)i.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(s);return}i.setAttribute(s,""+l)}}function Bo(i,s,l,f){if(f===null)i.removeAttribute(l);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(l);return}i.setAttributeNS(s,l,""+f)}}function Tn(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Y_(i){var s=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function kO(i,s,l){var f=Object.getOwnPropertyDescriptor(i.constructor.prototype,s);if(!i.hasOwnProperty(s)&&typeof f<"u"&&typeof f.get=="function"&&typeof f.set=="function"){var v=f.get,_=f.set;return Object.defineProperty(i,s,{configurable:!0,get:function(){return v.call(this)},set:function(w){l=""+w,_.call(this,w)}}),Object.defineProperty(i,s,{enumerable:f.enumerable}),{getValue:function(){return l},setValue:function(w){l=""+w},stopTracking:function(){i._valueTracker=null,delete i[s]}}}}function Fh(i){if(!i._valueTracker){var s=Y_(i)?"checked":"value";i._valueTracker=kO(i,s,""+i[s])}}function j_(i){if(!i)return!1;var s=i._valueTracker;if(!s)return!0;var l=s.getValue(),f="";return i&&(f=Y_(i)?i.checked?"true":"false":i.value),i=f,i!==l?(s.setValue(i),!0):!1}function ic(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var LO=/[\n"\\]/g;function An(i){return i.replace(LO,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function $h(i,s,l,f,v,_,w,R){i.name="",w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?i.type=w:i.removeAttribute("type"),s!=null?w==="number"?(s===0&&i.value===""||i.value!=s)&&(i.value=""+Tn(s)):i.value!==""+Tn(s)&&(i.value=""+Tn(s)):w!=="submit"&&w!=="reset"||i.removeAttribute("value"),s!=null?Hh(i,w,Tn(s)):l!=null?Hh(i,w,Tn(l)):f!=null&&i.removeAttribute("value"),v==null&&_!=null&&(i.defaultChecked=!!_),v!=null&&(i.checked=v&&typeof v!="function"&&typeof v!="symbol"),R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"?i.name=""+Tn(R):i.removeAttribute("name")}function X_(i,s,l,f,v,_,w,R){if(_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(i.type=_),s!=null||l!=null){if(!(_!=="submit"&&_!=="reset"||s!=null)){Fh(i);return}l=l!=null?""+Tn(l):"",s=s!=null?""+Tn(s):l,R||s===i.value||(i.value=s),i.defaultValue=s}f=f??v,f=typeof f!="function"&&typeof f!="symbol"&&!!f,i.checked=R?i.checked:!!f,i.defaultChecked=!!f,w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(i.name=w),Fh(i)}function Hh(i,s,l){s==="number"&&ic(i.ownerDocument)===i||i.defaultValue===""+l||(i.defaultValue=""+l)}function cs(i,s,l,f){if(i=i.options,s){s={};for(var v=0;v<l.length;v++)s["$"+l[v]]=!0;for(l=0;l<i.length;l++)v=s.hasOwnProperty("$"+i[l].value),i[l].selected!==v&&(i[l].selected=v),v&&f&&(i[l].defaultSelected=!0)}else{for(l=""+Tn(l),s=null,v=0;v<i.length;v++){if(i[v].value===l){i[v].selected=!0,f&&(i[v].defaultSelected=!0);return}s!==null||i[v].disabled||(s=i[v])}s!==null&&(s.selected=!0)}}function W_(i,s,l){if(s!=null&&(s=""+Tn(s),s!==i.value&&(i.value=s),l==null)){i.defaultValue!==s&&(i.defaultValue=s);return}i.defaultValue=l!=null?""+Tn(l):""}function Q_(i,s,l,f){if(s==null){if(f!=null){if(l!=null)throw Error(o(92));if(de(f)){if(1<f.length)throw Error(o(93));f=f[0]}l=f}l==null&&(l=""),s=l}l=Tn(s),i.defaultValue=l,f=i.textContent,f===l&&f!==""&&f!==null&&(i.value=f),Fh(i)}function fs(i,s){if(s){var l=i.firstChild;if(l&&l===i.lastChild&&l.nodeType===3){l.nodeValue=s;return}}i.textContent=s}var UO=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Z_(i,s,l){var f=s.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?f?i.setProperty(s,""):s==="float"?i.cssFloat="":i[s]="":f?i.setProperty(s,l):typeof l!="number"||l===0||UO.has(s)?s==="float"?i.cssFloat=l:i[s]=(""+l).trim():i[s]=l+"px"}function e0(i,s,l){if(s!=null&&typeof s!="object")throw Error(o(62));if(i=i.style,l!=null){for(var f in l)!l.hasOwnProperty(f)||s!=null&&s.hasOwnProperty(f)||(f.indexOf("--")===0?i.setProperty(f,""):f==="float"?i.cssFloat="":i[f]="");for(var v in s)f=s[v],s.hasOwnProperty(v)&&l[v]!==f&&Z_(i,v,f)}else for(var _ in s)s.hasOwnProperty(_)&&Z_(i,_,s[_])}function Gh(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var BO=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),FO=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function rc(i){return FO.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function Fo(){}var Vh=null;function zh(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var ds=null,hs=null;function t0(i){var s=as(i);if(s&&(i=s.stateNode)){var l=i[Jt]||null;e:switch(i=s.stateNode,s.type){case"input":if($h(i,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),s=l.name,l.type==="radio"&&s!=null){for(l=i;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+An(""+s)+'"][type="radio"]'),s=0;s<l.length;s++){var f=l[s];if(f!==i&&f.form===i.form){var v=f[Jt]||null;if(!v)throw Error(o(90));$h(f,v.value,v.defaultValue,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name)}}for(s=0;s<l.length;s++)f=l[s],f.form===i.form&&j_(f)}break e;case"textarea":W_(i,l.value,l.defaultValue);break e;case"select":s=l.value,s!=null&&cs(i,!!l.multiple,s,!1)}}}var qh=!1;function n0(i,s,l){if(qh)return i(s,l);qh=!0;try{var f=i(s);return f}finally{if(qh=!1,(ds!==null||hs!==null)&&(Jc(),ds&&(s=ds,i=hs,hs=ds=null,t0(s),i)))for(s=0;s<i.length;s++)t0(i[s])}}function za(i,s){var l=i.stateNode;if(l===null)return null;var f=l[Jt]||null;if(f===null)return null;l=f[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(i=i.type,f=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!f;break e;default:i=!1}if(i)return null;if(l&&typeof l!="function")throw Error(o(231,s,typeof l));return l}var $o=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Jh=!1;if($o)try{var qa={};Object.defineProperty(qa,"passive",{get:function(){Jh=!0}}),window.addEventListener("test",qa,qa),window.removeEventListener("test",qa,qa)}catch{Jh=!1}var Ai=null,Kh=null,sc=null;function o0(){if(sc)return sc;var i,s=Kh,l=s.length,f,v="value"in Ai?Ai.value:Ai.textContent,_=v.length;for(i=0;i<l&&s[i]===v[i];i++);var w=l-i;for(f=1;f<=w&&s[l-f]===v[_-f];f++);return sc=v.slice(i,1<f?1-f:void 0)}function ac(i){var s=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&s===13&&(i=13)):i=s,i===10&&(i=13),32<=i||i===13?i:0}function lc(){return!0}function i0(){return!1}function Kt(i){function s(l,f,v,_,w){this._reactName=l,this._targetInst=v,this.type=f,this.nativeEvent=_,this.target=w,this.currentTarget=null;for(var R in i)i.hasOwnProperty(R)&&(l=i[R],this[R]=l?l(_):_[R]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?lc:i0,this.isPropagationStopped=i0,this}return y(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=lc)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=lc)},persist:function(){},isPersistent:lc}),s}var yr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},uc=Kt(yr),Ja=y({},yr,{view:0,detail:0}),$O=Kt(Ja),Yh,jh,Ka,cc=y({},Ja,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Wh,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Ka&&(Ka&&i.type==="mousemove"?(Yh=i.screenX-Ka.screenX,jh=i.screenY-Ka.screenY):jh=Yh=0,Ka=i),Yh)},movementY:function(i){return"movementY"in i?i.movementY:jh}}),r0=Kt(cc),HO=y({},cc,{dataTransfer:0}),GO=Kt(HO),VO=y({},Ja,{relatedTarget:0}),Xh=Kt(VO),zO=y({},yr,{animationName:0,elapsedTime:0,pseudoElement:0}),qO=Kt(zO),JO=y({},yr,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),KO=Kt(JO),YO=y({},yr,{data:0}),s0=Kt(YO),jO={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},XO={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},WO={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function QO(i){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(i):(i=WO[i])?!!s[i]:!1}function Wh(){return QO}var ZO=y({},Ja,{key:function(i){if(i.key){var s=jO[i.key]||i.key;if(s!=="Unidentified")return s}return i.type==="keypress"?(i=ac(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?XO[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Wh,charCode:function(i){return i.type==="keypress"?ac(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?ac(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),e1=Kt(ZO),t1=y({},cc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),a0=Kt(t1),n1=y({},Ja,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Wh}),o1=Kt(n1),i1=y({},yr,{propertyName:0,elapsedTime:0,pseudoElement:0}),r1=Kt(i1),s1=y({},cc,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),a1=Kt(s1),l1=y({},yr,{newState:0,oldState:0}),u1=Kt(l1),c1=[9,13,27,32],Qh=$o&&"CompositionEvent"in window,Ya=null;$o&&"documentMode"in document&&(Ya=document.documentMode);var f1=$o&&"TextEvent"in window&&!Ya,l0=$o&&(!Qh||Ya&&8<Ya&&11>=Ya),u0=" ",c0=!1;function f0(i,s){switch(i){case"keyup":return c1.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function d0(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var ps=!1;function d1(i,s){switch(i){case"compositionend":return d0(s);case"keypress":return s.which!==32?null:(c0=!0,u0);case"textInput":return i=s.data,i===u0&&c0?null:i;default:return null}}function h1(i,s){if(ps)return i==="compositionend"||!Qh&&f0(i,s)?(i=o0(),sc=Kh=Ai=null,ps=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return l0&&s.locale!=="ko"?null:s.data;default:return null}}var p1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function h0(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s==="input"?!!p1[i.type]:s==="textarea"}function p0(i,s,l,f){ds?hs?hs.push(f):hs=[f]:ds=f,s=Zc(s,"onChange"),0<s.length&&(l=new uc("onChange","change",null,l,f),i.push({event:l,listeners:s}))}var ja=null,Xa=null;function m1(i){Xb(i,0)}function fc(i){var s=Va(i);if(j_(s))return i}function m0(i,s){if(i==="change")return s}var g0=!1;if($o){var Zh;if($o){var ep="oninput"in document;if(!ep){var v0=document.createElement("div");v0.setAttribute("oninput","return;"),ep=typeof v0.oninput=="function"}Zh=ep}else Zh=!1;g0=Zh&&(!document.documentMode||9<document.documentMode)}function y0(){ja&&(ja.detachEvent("onpropertychange",_0),Xa=ja=null)}function _0(i){if(i.propertyName==="value"&&fc(Xa)){var s=[];p0(s,Xa,i,zh(i)),n0(m1,s)}}function g1(i,s,l){i==="focusin"?(y0(),ja=s,Xa=l,ja.attachEvent("onpropertychange",_0)):i==="focusout"&&y0()}function v1(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return fc(Xa)}function y1(i,s){if(i==="click")return fc(s)}function _1(i,s){if(i==="input"||i==="change")return fc(s)}function S1(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var an=typeof Object.is=="function"?Object.is:S1;function Wa(i,s){if(an(i,s))return!0;if(typeof i!="object"||i===null||typeof s!="object"||s===null)return!1;var l=Object.keys(i),f=Object.keys(s);if(l.length!==f.length)return!1;for(f=0;f<l.length;f++){var v=l[f];if(!La.call(s,v)||!an(i[v],s[v]))return!1}return!0}function S0(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function b0(i,s){var l=S0(i);i=0;for(var f;l;){if(l.nodeType===3){if(f=i+l.textContent.length,i<=s&&f>=s)return{node:l,offset:s-i};i=f}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=S0(l)}}function E0(i,s){return i&&s?i===s?!0:i&&i.nodeType===3?!1:s&&s.nodeType===3?E0(i,s.parentNode):"contains"in i?i.contains(s):i.compareDocumentPosition?!!(i.compareDocumentPosition(s)&16):!1:!1}function w0(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var s=ic(i.document);s instanceof i.HTMLIFrameElement;){try{var l=typeof s.contentWindow.location.href=="string"}catch{l=!1}if(l)i=s.contentWindow;else break;s=ic(i.document)}return s}function tp(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s&&(s==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||s==="textarea"||i.contentEditable==="true")}var b1=$o&&"documentMode"in document&&11>=document.documentMode,ms=null,np=null,Qa=null,op=!1;function C0(i,s,l){var f=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;op||ms==null||ms!==ic(f)||(f=ms,"selectionStart"in f&&tp(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),Qa&&Wa(Qa,f)||(Qa=f,f=Zc(np,"onSelect"),0<f.length&&(s=new uc("onSelect","select",null,s,l),i.push({event:s,listeners:f}),s.target=ms)))}function _r(i,s){var l={};return l[i.toLowerCase()]=s.toLowerCase(),l["Webkit"+i]="webkit"+s,l["Moz"+i]="moz"+s,l}var gs={animationend:_r("Animation","AnimationEnd"),animationiteration:_r("Animation","AnimationIteration"),animationstart:_r("Animation","AnimationStart"),transitionrun:_r("Transition","TransitionRun"),transitionstart:_r("Transition","TransitionStart"),transitioncancel:_r("Transition","TransitionCancel"),transitionend:_r("Transition","TransitionEnd")},ip={},T0={};$o&&(T0=document.createElement("div").style,"AnimationEvent"in window||(delete gs.animationend.animation,delete gs.animationiteration.animation,delete gs.animationstart.animation),"TransitionEvent"in window||delete gs.transitionend.transition);function Sr(i){if(ip[i])return ip[i];if(!gs[i])return i;var s=gs[i],l;for(l in s)if(s.hasOwnProperty(l)&&l in T0)return ip[i]=s[l];return i}var A0=Sr("animationend"),x0=Sr("animationiteration"),R0=Sr("animationstart"),E1=Sr("transitionrun"),w1=Sr("transitionstart"),C1=Sr("transitioncancel"),M0=Sr("transitionend"),N0=new Map,rp="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");rp.push("scrollEnd");function Xn(i,s){N0.set(i,s),vr(s,[i])}var dc=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},xn=[],vs=0,sp=0;function hc(){for(var i=vs,s=sp=vs=0;s<i;){var l=xn[s];xn[s++]=null;var f=xn[s];xn[s++]=null;var v=xn[s];xn[s++]=null;var _=xn[s];if(xn[s++]=null,f!==null&&v!==null){var w=f.pending;w===null?v.next=v:(v.next=w.next,w.next=v),f.pending=v}_!==0&&I0(l,v,_)}}function pc(i,s,l,f){xn[vs++]=i,xn[vs++]=s,xn[vs++]=l,xn[vs++]=f,sp|=f,i.lanes|=f,i=i.alternate,i!==null&&(i.lanes|=f)}function ap(i,s,l,f){return pc(i,s,l,f),mc(i)}function br(i,s){return pc(i,null,null,s),mc(i)}function I0(i,s,l){i.lanes|=l;var f=i.alternate;f!==null&&(f.lanes|=l);for(var v=!1,_=i.return;_!==null;)_.childLanes|=l,f=_.alternate,f!==null&&(f.childLanes|=l),_.tag===22&&(i=_.stateNode,i===null||i._visibility&1||(v=!0)),i=_,_=_.return;return i.tag===3?(_=i.stateNode,v&&s!==null&&(v=31-sn(l),i=_.hiddenUpdates,f=i[v],f===null?i[v]=[s]:f.push(s),s.lane=l|536870912),_):null}function mc(i){if(50<Sl)throw Sl=0,gm=null,Error(o(185));for(var s=i.return;s!==null;)i=s,s=i.return;return i.tag===3?i.stateNode:null}var ys={};function T1(i,s,l,f){this.tag=i,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ln(i,s,l,f){return new T1(i,s,l,f)}function lp(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Ho(i,s){var l=i.alternate;return l===null?(l=ln(i.tag,s,i.key,i.mode),l.elementType=i.elementType,l.type=i.type,l.stateNode=i.stateNode,l.alternate=i,i.alternate=l):(l.pendingProps=s,l.type=i.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=i.flags&65011712,l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,s=i.dependencies,l.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},l.sibling=i.sibling,l.index=i.index,l.ref=i.ref,l.refCleanup=i.refCleanup,l}function D0(i,s){i.flags&=65011714;var l=i.alternate;return l===null?(i.childLanes=0,i.lanes=s,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,s=l.dependencies,i.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),i}function gc(i,s,l,f,v,_){var w=0;if(f=i,typeof i=="function")lp(i)&&(w=1);else if(typeof i=="string")w=NP(i,l,le.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case J:return i=ln(31,l,s,v),i.elementType=J,i.lanes=_,i;case A:return Er(l.children,v,_,s);case x:w=8,v|=24;break;case M:return i=ln(12,l,s,v|2),i.elementType=M,i.lanes=_,i;case L:return i=ln(13,l,s,v),i.elementType=L,i.lanes=_,i;case U:return i=ln(19,l,s,v),i.elementType=U,i.lanes=_,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case N:w=10;break e;case I:w=9;break e;case D:w=11;break e;case O:w=14;break e;case q:w=16,f=null;break e}w=29,l=Error(o(130,i===null?"null":typeof i,"")),f=null}return s=ln(w,l,s,v),s.elementType=i,s.type=f,s.lanes=_,s}function Er(i,s,l,f){return i=ln(7,i,f,s),i.lanes=l,i}function up(i,s,l){return i=ln(6,i,null,s),i.lanes=l,i}function O0(i){var s=ln(18,null,null,0);return s.stateNode=i,s}function cp(i,s,l){return s=ln(4,i.children!==null?i.children:[],i.key,s),s.lanes=l,s.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},s}var P0=new WeakMap;function Rn(i,s){if(typeof i=="object"&&i!==null){var l=P0.get(i);return l!==void 0?l:(s={value:i,source:s,stack:Yu(s)},P0.set(i,s),s)}return{value:i,source:s,stack:Yu(s)}}var _s=[],Ss=0,vc=null,Za=0,Mn=[],Nn=0,xi=null,mo=1,go="";function Go(i,s){_s[Ss++]=Za,_s[Ss++]=vc,vc=i,Za=s}function k0(i,s,l){Mn[Nn++]=mo,Mn[Nn++]=go,Mn[Nn++]=xi,xi=i;var f=mo;i=go;var v=32-sn(f)-1;f&=~(1<<v),l+=1;var _=32-sn(s)+v;if(30<_){var w=v-v%5;_=(f&(1<<w)-1).toString(32),f>>=w,v-=w,mo=1<<32-sn(s)+v|l<<v|f,go=_+i}else mo=1<<_|l<<v|f,go=i}function fp(i){i.return!==null&&(Go(i,1),k0(i,1,0))}function dp(i){for(;i===vc;)vc=_s[--Ss],_s[Ss]=null,Za=_s[--Ss],_s[Ss]=null;for(;i===xi;)xi=Mn[--Nn],Mn[Nn]=null,go=Mn[--Nn],Mn[Nn]=null,mo=Mn[--Nn],Mn[Nn]=null}function L0(i,s){Mn[Nn++]=mo,Mn[Nn++]=go,Mn[Nn++]=xi,mo=s.id,go=s.overflow,xi=i}var Rt=null,ot=null,Le=!1,Ri=null,In=!1,hp=Error(o(519));function Mi(i){var s=Error(o(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw el(Rn(s,i)),hp}function U0(i){var s=i.stateNode,l=i.type,f=i.memoizedProps;switch(s[xt]=i,s[Jt]=f,l){case"dialog":Oe("cancel",s),Oe("close",s);break;case"iframe":case"object":case"embed":Oe("load",s);break;case"video":case"audio":for(l=0;l<El.length;l++)Oe(El[l],s);break;case"source":Oe("error",s);break;case"img":case"image":case"link":Oe("error",s),Oe("load",s);break;case"details":Oe("toggle",s);break;case"input":Oe("invalid",s),X_(s,f.value,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name,!0);break;case"select":Oe("invalid",s);break;case"textarea":Oe("invalid",s),Q_(s,f.value,f.defaultValue,f.children)}l=f.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||s.textContent===""+l||f.suppressHydrationWarning===!0||eE(s.textContent,l)?(f.popover!=null&&(Oe("beforetoggle",s),Oe("toggle",s)),f.onScroll!=null&&Oe("scroll",s),f.onScrollEnd!=null&&Oe("scrollend",s),f.onClick!=null&&(s.onclick=Fo),s=!0):s=!1,s||Mi(i,!0)}function B0(i){for(Rt=i.return;Rt;)switch(Rt.tag){case 5:case 31:case 13:In=!1;return;case 27:case 3:In=!0;return;default:Rt=Rt.return}}function bs(i){if(i!==Rt)return!1;if(!Le)return B0(i),Le=!0,!1;var s=i.tag,l;if((l=s!==3&&s!==27)&&((l=s===5)&&(l=i.type,l=!(l!=="form"&&l!=="button")||Im(i.type,i.memoizedProps)),l=!l),l&&ot&&Mi(i),B0(i),s===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(o(317));ot=uE(i)}else if(s===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(o(317));ot=uE(i)}else s===27?(s=ot,Vi(i.type)?(i=Lm,Lm=null,ot=i):ot=s):ot=Rt?On(i.stateNode.nextSibling):null;return!0}function wr(){ot=Rt=null,Le=!1}function pp(){var i=Ri;return i!==null&&(Wt===null?Wt=i:Wt.push.apply(Wt,i),Ri=null),i}function el(i){Ri===null?Ri=[i]:Ri.push(i)}var mp=k(null),Cr=null,Vo=null;function Ni(i,s,l){se(mp,s._currentValue),s._currentValue=l}function zo(i){i._currentValue=mp.current,Y(mp)}function gp(i,s,l){for(;i!==null;){var f=i.alternate;if((i.childLanes&s)!==s?(i.childLanes|=s,f!==null&&(f.childLanes|=s)):f!==null&&(f.childLanes&s)!==s&&(f.childLanes|=s),i===l)break;i=i.return}}function vp(i,s,l,f){var v=i.child;for(v!==null&&(v.return=i);v!==null;){var _=v.dependencies;if(_!==null){var w=v.child;_=_.firstContext;e:for(;_!==null;){var R=_;_=v;for(var P=0;P<s.length;P++)if(R.context===s[P]){_.lanes|=l,R=_.alternate,R!==null&&(R.lanes|=l),gp(_.return,l,i),f||(w=null);break e}_=R.next}}else if(v.tag===18){if(w=v.return,w===null)throw Error(o(341));w.lanes|=l,_=w.alternate,_!==null&&(_.lanes|=l),gp(w,l,i),w=null}else w=v.child;if(w!==null)w.return=v;else for(w=v;w!==null;){if(w===i){w=null;break}if(v=w.sibling,v!==null){v.return=w.return,w=v;break}w=w.return}v=w}}function Es(i,s,l,f){i=null;for(var v=s,_=!1;v!==null;){if(!_){if((v.flags&524288)!==0)_=!0;else if((v.flags&262144)!==0)break}if(v.tag===10){var w=v.alternate;if(w===null)throw Error(o(387));if(w=w.memoizedProps,w!==null){var R=v.type;an(v.pendingProps.value,w.value)||(i!==null?i.push(R):i=[R])}}else if(v===ve.current){if(w=v.alternate,w===null)throw Error(o(387));w.memoizedState.memoizedState!==v.memoizedState.memoizedState&&(i!==null?i.push(xl):i=[xl])}v=v.return}i!==null&&vp(s,i,l,f),s.flags|=262144}function yc(i){for(i=i.firstContext;i!==null;){if(!an(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Tr(i){Cr=i,Vo=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Mt(i){return F0(Cr,i)}function _c(i,s){return Cr===null&&Tr(i),F0(i,s)}function F0(i,s){var l=s._currentValue;if(s={context:s,memoizedValue:l,next:null},Vo===null){if(i===null)throw Error(o(308));Vo=s,i.dependencies={lanes:0,firstContext:s},i.flags|=524288}else Vo=Vo.next=s;return l}var A1=typeof AbortController<"u"?AbortController:function(){var i=[],s=this.signal={aborted:!1,addEventListener:function(l,f){i.push(f)}};this.abort=function(){s.aborted=!0,i.forEach(function(l){return l()})}},x1=t.unstable_scheduleCallback,R1=t.unstable_NormalPriority,dt={$$typeof:N,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function yp(){return{controller:new A1,data:new Map,refCount:0}}function tl(i){i.refCount--,i.refCount===0&&x1(R1,function(){i.controller.abort()})}var nl=null,_p=0,ws=0,Cs=null;function M1(i,s){if(nl===null){var l=nl=[];_p=0,ws=Em(),Cs={status:"pending",value:void 0,then:function(f){l.push(f)}}}return _p++,s.then($0,$0),s}function $0(){if(--_p===0&&nl!==null){Cs!==null&&(Cs.status="fulfilled");var i=nl;nl=null,ws=0,Cs=null;for(var s=0;s<i.length;s++)(0,i[s])()}}function N1(i,s){var l=[],f={status:"pending",value:null,reason:null,then:function(v){l.push(v)}};return i.then(function(){f.status="fulfilled",f.value=s;for(var v=0;v<l.length;v++)(0,l[v])(s)},function(v){for(f.status="rejected",f.reason=v,v=0;v<l.length;v++)(0,l[v])(void 0)}),f}var H0=F.S;F.S=function(i,s){Cb=At(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&M1(i,s),H0!==null&&H0(i,s)};var Ar=k(null);function Sp(){var i=Ar.current;return i!==null?i:et.pooledCache}function Sc(i,s){s===null?se(Ar,Ar.current):se(Ar,s.pool)}function G0(){var i=Sp();return i===null?null:{parent:dt._currentValue,pool:i}}var Ts=Error(o(460)),bp=Error(o(474)),bc=Error(o(542)),Ec={then:function(){}};function V0(i){return i=i.status,i==="fulfilled"||i==="rejected"}function z0(i,s,l){switch(l=i[l],l===void 0?i.push(s):l!==s&&(s.then(Fo,Fo),s=l),s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,J0(i),i;default:if(typeof s.status=="string")s.then(Fo,Fo);else{if(i=et,i!==null&&100<i.shellSuspendCounter)throw Error(o(482));i=s,i.status="pending",i.then(function(f){if(s.status==="pending"){var v=s;v.status="fulfilled",v.value=f}},function(f){if(s.status==="pending"){var v=s;v.status="rejected",v.reason=f}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,J0(i),i}throw Rr=s,Ts}}function xr(i){try{var s=i._init;return s(i._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(Rr=l,Ts):l}}var Rr=null;function q0(){if(Rr===null)throw Error(o(459));var i=Rr;return Rr=null,i}function J0(i){if(i===Ts||i===bc)throw Error(o(483))}var As=null,ol=0;function wc(i){var s=ol;return ol+=1,As===null&&(As=[]),z0(As,i,s)}function il(i,s){s=s.props.ref,i.ref=s!==void 0?s:null}function Cc(i,s){throw s.$$typeof===S?Error(o(525)):(i=Object.prototype.toString.call(s),Error(o(31,i==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":i)))}function K0(i){function s($,B){if(i){var H=$.deletions;H===null?($.deletions=[B],$.flags|=16):H.push(B)}}function l($,B){if(!i)return null;for(;B!==null;)s($,B),B=B.sibling;return null}function f($){for(var B=new Map;$!==null;)$.key!==null?B.set($.key,$):B.set($.index,$),$=$.sibling;return B}function v($,B){return $=Ho($,B),$.index=0,$.sibling=null,$}function _($,B,H){return $.index=H,i?(H=$.alternate,H!==null?(H=H.index,H<B?($.flags|=67108866,B):H):($.flags|=67108866,B)):($.flags|=1048576,B)}function w($){return i&&$.alternate===null&&($.flags|=67108866),$}function R($,B,H,Z){return B===null||B.tag!==6?(B=up(H,$.mode,Z),B.return=$,B):(B=v(B,H),B.return=$,B)}function P($,B,H,Z){var _e=H.type;return _e===A?X($,B,H.props.children,Z,H.key):B!==null&&(B.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===q&&xr(_e)===B.type)?(B=v(B,H.props),il(B,H),B.return=$,B):(B=gc(H.type,H.key,H.props,null,$.mode,Z),il(B,H),B.return=$,B)}function G($,B,H,Z){return B===null||B.tag!==4||B.stateNode.containerInfo!==H.containerInfo||B.stateNode.implementation!==H.implementation?(B=cp(H,$.mode,Z),B.return=$,B):(B=v(B,H.children||[]),B.return=$,B)}function X($,B,H,Z,_e){return B===null||B.tag!==7?(B=Er(H,$.mode,Z,_e),B.return=$,B):(B=v(B,H),B.return=$,B)}function te($,B,H){if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return B=up(""+B,$.mode,H),B.return=$,B;if(typeof B=="object"&&B!==null){switch(B.$$typeof){case b:return H=gc(B.type,B.key,B.props,null,$.mode,H),il(H,B),H.return=$,H;case T:return B=cp(B,$.mode,H),B.return=$,B;case q:return B=xr(B),te($,B,H)}if(de(B)||re(B))return B=Er(B,$.mode,H,null),B.return=$,B;if(typeof B.then=="function")return te($,wc(B),H);if(B.$$typeof===N)return te($,_c($,B),H);Cc($,B)}return null}function z($,B,H,Z){var _e=B!==null?B.key:null;if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return _e!==null?null:R($,B,""+H,Z);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case b:return H.key===_e?P($,B,H,Z):null;case T:return H.key===_e?G($,B,H,Z):null;case q:return H=xr(H),z($,B,H,Z)}if(de(H)||re(H))return _e!==null?null:X($,B,H,Z,null);if(typeof H.then=="function")return z($,B,wc(H),Z);if(H.$$typeof===N)return z($,B,_c($,H),Z);Cc($,H)}return null}function K($,B,H,Z,_e){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return $=$.get(H)||null,R(B,$,""+Z,_e);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case b:return $=$.get(Z.key===null?H:Z.key)||null,P(B,$,Z,_e);case T:return $=$.get(Z.key===null?H:Z.key)||null,G(B,$,Z,_e);case q:return Z=xr(Z),K($,B,H,Z,_e)}if(de(Z)||re(Z))return $=$.get(H)||null,X(B,$,Z,_e,null);if(typeof Z.then=="function")return K($,B,H,wc(Z),_e);if(Z.$$typeof===N)return K($,B,H,_c(B,Z),_e);Cc(B,Z)}return null}function he($,B,H,Z){for(var _e=null,$e=null,ge=B,Me=B=0,ke=null;ge!==null&&Me<H.length;Me++){ge.index>Me?(ke=ge,ge=null):ke=ge.sibling;var He=z($,ge,H[Me],Z);if(He===null){ge===null&&(ge=ke);break}i&&ge&&He.alternate===null&&s($,ge),B=_(He,B,Me),$e===null?_e=He:$e.sibling=He,$e=He,ge=ke}if(Me===H.length)return l($,ge),Le&&Go($,Me),_e;if(ge===null){for(;Me<H.length;Me++)ge=te($,H[Me],Z),ge!==null&&(B=_(ge,B,Me),$e===null?_e=ge:$e.sibling=ge,$e=ge);return Le&&Go($,Me),_e}for(ge=f(ge);Me<H.length;Me++)ke=K(ge,$,Me,H[Me],Z),ke!==null&&(i&&ke.alternate!==null&&ge.delete(ke.key===null?Me:ke.key),B=_(ke,B,Me),$e===null?_e=ke:$e.sibling=ke,$e=ke);return i&&ge.forEach(function(Yi){return s($,Yi)}),Le&&Go($,Me),_e}function Ee($,B,H,Z){if(H==null)throw Error(o(151));for(var _e=null,$e=null,ge=B,Me=B=0,ke=null,He=H.next();ge!==null&&!He.done;Me++,He=H.next()){ge.index>Me?(ke=ge,ge=null):ke=ge.sibling;var Yi=z($,ge,He.value,Z);if(Yi===null){ge===null&&(ge=ke);break}i&&ge&&Yi.alternate===null&&s($,ge),B=_(Yi,B,Me),$e===null?_e=Yi:$e.sibling=Yi,$e=Yi,ge=ke}if(He.done)return l($,ge),Le&&Go($,Me),_e;if(ge===null){for(;!He.done;Me++,He=H.next())He=te($,He.value,Z),He!==null&&(B=_(He,B,Me),$e===null?_e=He:$e.sibling=He,$e=He);return Le&&Go($,Me),_e}for(ge=f(ge);!He.done;Me++,He=H.next())He=K(ge,$,Me,He.value,Z),He!==null&&(i&&He.alternate!==null&&ge.delete(He.key===null?Me:He.key),B=_(He,B,Me),$e===null?_e=He:$e.sibling=He,$e=He);return i&&ge.forEach(function(HP){return s($,HP)}),Le&&Go($,Me),_e}function We($,B,H,Z){if(typeof H=="object"&&H!==null&&H.type===A&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case b:e:{for(var _e=H.key;B!==null;){if(B.key===_e){if(_e=H.type,_e===A){if(B.tag===7){l($,B.sibling),Z=v(B,H.props.children),Z.return=$,$=Z;break e}}else if(B.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===q&&xr(_e)===B.type){l($,B.sibling),Z=v(B,H.props),il(Z,H),Z.return=$,$=Z;break e}l($,B);break}else s($,B);B=B.sibling}H.type===A?(Z=Er(H.props.children,$.mode,Z,H.key),Z.return=$,$=Z):(Z=gc(H.type,H.key,H.props,null,$.mode,Z),il(Z,H),Z.return=$,$=Z)}return w($);case T:e:{for(_e=H.key;B!==null;){if(B.key===_e)if(B.tag===4&&B.stateNode.containerInfo===H.containerInfo&&B.stateNode.implementation===H.implementation){l($,B.sibling),Z=v(B,H.children||[]),Z.return=$,$=Z;break e}else{l($,B);break}else s($,B);B=B.sibling}Z=cp(H,$.mode,Z),Z.return=$,$=Z}return w($);case q:return H=xr(H),We($,B,H,Z)}if(de(H))return he($,B,H,Z);if(re(H)){if(_e=re(H),typeof _e!="function")throw Error(o(150));return H=_e.call(H),Ee($,B,H,Z)}if(typeof H.then=="function")return We($,B,wc(H),Z);if(H.$$typeof===N)return We($,B,_c($,H),Z);Cc($,H)}return typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint"?(H=""+H,B!==null&&B.tag===6?(l($,B.sibling),Z=v(B,H),Z.return=$,$=Z):(l($,B),Z=up(H,$.mode,Z),Z.return=$,$=Z),w($)):l($,B)}return function($,B,H,Z){try{ol=0;var _e=We($,B,H,Z);return As=null,_e}catch(ge){if(ge===Ts||ge===bc)throw ge;var $e=ln(29,ge,null,$.mode);return $e.lanes=Z,$e.return=$,$e}finally{}}}var Mr=K0(!0),Y0=K0(!1),Ii=!1;function Ep(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function wp(i,s){i=i.updateQueue,s.updateQueue===i&&(s.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Di(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function Oi(i,s,l){var f=i.updateQueue;if(f===null)return null;if(f=f.shared,(Je&2)!==0){var v=f.pending;return v===null?s.next=s:(s.next=v.next,v.next=s),f.pending=s,s=mc(i),I0(i,null,l),s}return pc(i,f,s,l),mc(i)}function rl(i,s,l){if(s=s.updateQueue,s!==null&&(s=s.shared,(l&4194048)!==0)){var f=s.lanes;f&=i.pendingLanes,l|=f,s.lanes=l,F_(i,l)}}function Cp(i,s){var l=i.updateQueue,f=i.alternate;if(f!==null&&(f=f.updateQueue,l===f)){var v=null,_=null;if(l=l.firstBaseUpdate,l!==null){do{var w={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};_===null?v=_=w:_=_.next=w,l=l.next}while(l!==null);_===null?v=_=s:_=_.next=s}else v=_=s;l={baseState:f.baseState,firstBaseUpdate:v,lastBaseUpdate:_,shared:f.shared,callbacks:f.callbacks},i.updateQueue=l;return}i=l.lastBaseUpdate,i===null?l.firstBaseUpdate=s:i.next=s,l.lastBaseUpdate=s}var Tp=!1;function sl(){if(Tp){var i=Cs;if(i!==null)throw i}}function al(i,s,l,f){Tp=!1;var v=i.updateQueue;Ii=!1;var _=v.firstBaseUpdate,w=v.lastBaseUpdate,R=v.shared.pending;if(R!==null){v.shared.pending=null;var P=R,G=P.next;P.next=null,w===null?_=G:w.next=G,w=P;var X=i.alternate;X!==null&&(X=X.updateQueue,R=X.lastBaseUpdate,R!==w&&(R===null?X.firstBaseUpdate=G:R.next=G,X.lastBaseUpdate=P))}if(_!==null){var te=v.baseState;w=0,X=G=P=null,R=_;do{var z=R.lane&-536870913,K=z!==R.lane;if(K?(Pe&z)===z:(f&z)===z){z!==0&&z===ws&&(Tp=!0),X!==null&&(X=X.next={lane:0,tag:R.tag,payload:R.payload,callback:null,next:null});e:{var he=i,Ee=R;z=s;var We=l;switch(Ee.tag){case 1:if(he=Ee.payload,typeof he=="function"){te=he.call(We,te,z);break e}te=he;break e;case 3:he.flags=he.flags&-65537|128;case 0:if(he=Ee.payload,z=typeof he=="function"?he.call(We,te,z):he,z==null)break e;te=y({},te,z);break e;case 2:Ii=!0}}z=R.callback,z!==null&&(i.flags|=64,K&&(i.flags|=8192),K=v.callbacks,K===null?v.callbacks=[z]:K.push(z))}else K={lane:z,tag:R.tag,payload:R.payload,callback:R.callback,next:null},X===null?(G=X=K,P=te):X=X.next=K,w|=z;if(R=R.next,R===null){if(R=v.shared.pending,R===null)break;K=R,R=K.next,K.next=null,v.lastBaseUpdate=K,v.shared.pending=null}}while(!0);X===null&&(P=te),v.baseState=P,v.firstBaseUpdate=G,v.lastBaseUpdate=X,_===null&&(v.shared.lanes=0),Bi|=w,i.lanes=w,i.memoizedState=te}}function j0(i,s){if(typeof i!="function")throw Error(o(191,i));i.call(s)}function X0(i,s){var l=i.callbacks;if(l!==null)for(i.callbacks=null,i=0;i<l.length;i++)j0(l[i],s)}var xs=k(null),Tc=k(0);function W0(i,s){i=Zo,se(Tc,i),se(xs,s),Zo=i|s.baseLanes}function Ap(){se(Tc,Zo),se(xs,xs.current)}function xp(){Zo=Tc.current,Y(xs),Y(Tc)}var un=k(null),Dn=null;function Pi(i){var s=i.alternate;se(ct,ct.current&1),se(un,i),Dn===null&&(s===null||xs.current!==null||s.memoizedState!==null)&&(Dn=i)}function Rp(i){se(ct,ct.current),se(un,i),Dn===null&&(Dn=i)}function Q0(i){i.tag===22?(se(ct,ct.current),se(un,i),Dn===null&&(Dn=i)):ki()}function ki(){se(ct,ct.current),se(un,un.current)}function cn(i){Y(un),Dn===i&&(Dn=null),Y(ct)}var ct=k(0);function Ac(i){for(var s=i;s!==null;){if(s.tag===13){var l=s.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||Pm(l)||km(l)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var qo=0,Re=null,je=null,ht=null,xc=!1,Rs=!1,Nr=!1,Rc=0,ll=0,Ms=null,I1=0;function at(){throw Error(o(321))}function Mp(i,s){if(s===null)return!1;for(var l=0;l<s.length&&l<i.length;l++)if(!an(i[l],s[l]))return!1;return!0}function Np(i,s,l,f,v,_){return qo=_,Re=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,F.H=i===null||i.memoizedState===null?kS:qp,Nr=!1,_=l(f,v),Nr=!1,Rs&&(_=eS(s,l,f,v)),Z0(i),_}function Z0(i){F.H=fl;var s=je!==null&&je.next!==null;if(qo=0,ht=je=Re=null,xc=!1,ll=0,Ms=null,s)throw Error(o(300));i===null||pt||(i=i.dependencies,i!==null&&yc(i)&&(pt=!0))}function eS(i,s,l,f){Re=i;var v=0;do{if(Rs&&(Ms=null),ll=0,Rs=!1,25<=v)throw Error(o(301));if(v+=1,ht=je=null,i.updateQueue!=null){var _=i.updateQueue;_.lastEffect=null,_.events=null,_.stores=null,_.memoCache!=null&&(_.memoCache.index=0)}F.H=LS,_=s(l,f)}while(Rs);return _}function D1(){var i=F.H,s=i.useState()[0];return s=typeof s.then=="function"?ul(s):s,i=i.useState()[0],(je!==null?je.memoizedState:null)!==i&&(Re.flags|=1024),s}function Ip(){var i=Rc!==0;return Rc=0,i}function Dp(i,s,l){s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~l}function Op(i){if(xc){for(i=i.memoizedState;i!==null;){var s=i.queue;s!==null&&(s.pending=null),i=i.next}xc=!1}qo=0,ht=je=Re=null,Rs=!1,ll=Rc=0,Ms=null}function Ft(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ht===null?Re.memoizedState=ht=i:ht=ht.next=i,ht}function ft(){if(je===null){var i=Re.alternate;i=i!==null?i.memoizedState:null}else i=je.next;var s=ht===null?Re.memoizedState:ht.next;if(s!==null)ht=s,je=i;else{if(i===null)throw Re.alternate===null?Error(o(467)):Error(o(310));je=i,i={memoizedState:je.memoizedState,baseState:je.baseState,baseQueue:je.baseQueue,queue:je.queue,next:null},ht===null?Re.memoizedState=ht=i:ht=ht.next=i}return ht}function Mc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ul(i){var s=ll;return ll+=1,Ms===null&&(Ms=[]),i=z0(Ms,i,s),s=Re,(ht===null?s.memoizedState:ht.next)===null&&(s=s.alternate,F.H=s===null||s.memoizedState===null?kS:qp),i}function Nc(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return ul(i);if(i.$$typeof===N)return Mt(i)}throw Error(o(438,String(i)))}function Pp(i){var s=null,l=Re.updateQueue;if(l!==null&&(s=l.memoCache),s==null){var f=Re.alternate;f!==null&&(f=f.updateQueue,f!==null&&(f=f.memoCache,f!=null&&(s={data:f.data.map(function(v){return v.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),l===null&&(l=Mc(),Re.updateQueue=l),l.memoCache=s,l=s.data[s.index],l===void 0)for(l=s.data[s.index]=Array(i),f=0;f<i;f++)l[f]=j;return s.index++,l}function Jo(i,s){return typeof s=="function"?s(i):s}function Ic(i){var s=ft();return kp(s,je,i)}function kp(i,s,l){var f=i.queue;if(f===null)throw Error(o(311));f.lastRenderedReducer=l;var v=i.baseQueue,_=f.pending;if(_!==null){if(v!==null){var w=v.next;v.next=_.next,_.next=w}s.baseQueue=v=_,f.pending=null}if(_=i.baseState,v===null)i.memoizedState=_;else{s=v.next;var R=w=null,P=null,G=s,X=!1;do{var te=G.lane&-536870913;if(te!==G.lane?(Pe&te)===te:(qo&te)===te){var z=G.revertLane;if(z===0)P!==null&&(P=P.next={lane:0,revertLane:0,gesture:null,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null}),te===ws&&(X=!0);else if((qo&z)===z){G=G.next,z===ws&&(X=!0);continue}else te={lane:0,revertLane:G.revertLane,gesture:null,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},P===null?(R=P=te,w=_):P=P.next=te,Re.lanes|=z,Bi|=z;te=G.action,Nr&&l(_,te),_=G.hasEagerState?G.eagerState:l(_,te)}else z={lane:te,revertLane:G.revertLane,gesture:G.gesture,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},P===null?(R=P=z,w=_):P=P.next=z,Re.lanes|=te,Bi|=te;G=G.next}while(G!==null&&G!==s);if(P===null?w=_:P.next=R,!an(_,i.memoizedState)&&(pt=!0,X&&(l=Cs,l!==null)))throw l;i.memoizedState=_,i.baseState=w,i.baseQueue=P,f.lastRenderedState=_}return v===null&&(f.lanes=0),[i.memoizedState,f.dispatch]}function Lp(i){var s=ft(),l=s.queue;if(l===null)throw Error(o(311));l.lastRenderedReducer=i;var f=l.dispatch,v=l.pending,_=s.memoizedState;if(v!==null){l.pending=null;var w=v=v.next;do _=i(_,w.action),w=w.next;while(w!==v);an(_,s.memoizedState)||(pt=!0),s.memoizedState=_,s.baseQueue===null&&(s.baseState=_),l.lastRenderedState=_}return[_,f]}function tS(i,s,l){var f=Re,v=ft(),_=Le;if(_){if(l===void 0)throw Error(o(407));l=l()}else l=s();var w=!an((je||v).memoizedState,l);if(w&&(v.memoizedState=l,pt=!0),v=v.queue,Fp(iS.bind(null,f,v,i),[i]),v.getSnapshot!==s||w||ht!==null&&ht.memoizedState.tag&1){if(f.flags|=2048,Ns(9,{destroy:void 0},oS.bind(null,f,v,l,s),null),et===null)throw Error(o(349));_||(qo&127)!==0||nS(f,s,l)}return l}function nS(i,s,l){i.flags|=16384,i={getSnapshot:s,value:l},s=Re.updateQueue,s===null?(s=Mc(),Re.updateQueue=s,s.stores=[i]):(l=s.stores,l===null?s.stores=[i]:l.push(i))}function oS(i,s,l,f){s.value=l,s.getSnapshot=f,rS(s)&&sS(i)}function iS(i,s,l){return l(function(){rS(s)&&sS(i)})}function rS(i){var s=i.getSnapshot;i=i.value;try{var l=s();return!an(i,l)}catch{return!0}}function sS(i){var s=br(i,2);s!==null&&Qt(s,i,2)}function Up(i){var s=Ft();if(typeof i=="function"){var l=i;if(i=l(),Nr){Ci(!0);try{l()}finally{Ci(!1)}}}return s.memoizedState=s.baseState=i,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Jo,lastRenderedState:i},s}function aS(i,s,l,f){return i.baseState=l,kp(i,je,typeof f=="function"?f:Jo)}function O1(i,s,l,f,v){if(Pc(i))throw Error(o(485));if(i=s.action,i!==null){var _={payload:v,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(w){_.listeners.push(w)}};F.T!==null?l(!0):_.isTransition=!1,f(_),l=s.pending,l===null?(_.next=s.pending=_,lS(s,_)):(_.next=l.next,s.pending=l.next=_)}}function lS(i,s){var l=s.action,f=s.payload,v=i.state;if(s.isTransition){var _=F.T,w={};F.T=w;try{var R=l(v,f),P=F.S;P!==null&&P(w,R),uS(i,s,R)}catch(G){Bp(i,s,G)}finally{_!==null&&w.types!==null&&(_.types=w.types),F.T=_}}else try{_=l(v,f),uS(i,s,_)}catch(G){Bp(i,s,G)}}function uS(i,s,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(f){cS(i,s,f)},function(f){return Bp(i,s,f)}):cS(i,s,l)}function cS(i,s,l){s.status="fulfilled",s.value=l,fS(s),i.state=l,s=i.pending,s!==null&&(l=s.next,l===s?i.pending=null:(l=l.next,s.next=l,lS(i,l)))}function Bp(i,s,l){var f=i.pending;if(i.pending=null,f!==null){f=f.next;do s.status="rejected",s.reason=l,fS(s),s=s.next;while(s!==f)}i.action=null}function fS(i){i=i.listeners;for(var s=0;s<i.length;s++)(0,i[s])()}function dS(i,s){return s}function hS(i,s){if(Le){var l=et.formState;if(l!==null){e:{var f=Re;if(Le){if(ot){t:{for(var v=ot,_=In;v.nodeType!==8;){if(!_){v=null;break t}if(v=On(v.nextSibling),v===null){v=null;break t}}_=v.data,v=_==="F!"||_==="F"?v:null}if(v){ot=On(v.nextSibling),f=v.data==="F!";break e}}Mi(f)}f=!1}f&&(s=l[0])}}return l=Ft(),l.memoizedState=l.baseState=s,f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:dS,lastRenderedState:s},l.queue=f,l=DS.bind(null,Re,f),f.dispatch=l,f=Up(!1),_=zp.bind(null,Re,!1,f.queue),f=Ft(),v={state:s,dispatch:null,action:i,pending:null},f.queue=v,l=O1.bind(null,Re,v,_,l),v.dispatch=l,f.memoizedState=i,[s,l,!1]}function pS(i){var s=ft();return mS(s,je,i)}function mS(i,s,l){if(s=kp(i,s,dS)[0],i=Ic(Jo)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var f=ul(s)}catch(w){throw w===Ts?bc:w}else f=s;s=ft();var v=s.queue,_=v.dispatch;return l!==s.memoizedState&&(Re.flags|=2048,Ns(9,{destroy:void 0},P1.bind(null,v,l),null)),[f,_,i]}function P1(i,s){i.action=s}function gS(i){var s=ft(),l=je;if(l!==null)return mS(s,l,i);ft(),s=s.memoizedState,l=ft();var f=l.queue.dispatch;return l.memoizedState=i,[s,f,!1]}function Ns(i,s,l,f){return i={tag:i,create:l,deps:f,inst:s,next:null},s=Re.updateQueue,s===null&&(s=Mc(),Re.updateQueue=s),l=s.lastEffect,l===null?s.lastEffect=i.next=i:(f=l.next,l.next=i,i.next=f,s.lastEffect=i),i}function vS(){return ft().memoizedState}function Dc(i,s,l,f){var v=Ft();Re.flags|=i,v.memoizedState=Ns(1|s,{destroy:void 0},l,f===void 0?null:f)}function Oc(i,s,l,f){var v=ft();f=f===void 0?null:f;var _=v.memoizedState.inst;je!==null&&f!==null&&Mp(f,je.memoizedState.deps)?v.memoizedState=Ns(s,_,l,f):(Re.flags|=i,v.memoizedState=Ns(1|s,_,l,f))}function yS(i,s){Dc(8390656,8,i,s)}function Fp(i,s){Oc(2048,8,i,s)}function k1(i){Re.flags|=4;var s=Re.updateQueue;if(s===null)s=Mc(),Re.updateQueue=s,s.events=[i];else{var l=s.events;l===null?s.events=[i]:l.push(i)}}function _S(i){var s=ft().memoizedState;return k1({ref:s,nextImpl:i}),function(){if((Je&2)!==0)throw Error(o(440));return s.impl.apply(void 0,arguments)}}function SS(i,s){return Oc(4,2,i,s)}function bS(i,s){return Oc(4,4,i,s)}function ES(i,s){if(typeof s=="function"){i=i();var l=s(i);return function(){typeof l=="function"?l():s(null)}}if(s!=null)return i=i(),s.current=i,function(){s.current=null}}function wS(i,s,l){l=l!=null?l.concat([i]):null,Oc(4,4,ES.bind(null,s,i),l)}function $p(){}function CS(i,s){var l=ft();s=s===void 0?null:s;var f=l.memoizedState;return s!==null&&Mp(s,f[1])?f[0]:(l.memoizedState=[i,s],i)}function TS(i,s){var l=ft();s=s===void 0?null:s;var f=l.memoizedState;if(s!==null&&Mp(s,f[1]))return f[0];if(f=i(),Nr){Ci(!0);try{i()}finally{Ci(!1)}}return l.memoizedState=[f,s],f}function Hp(i,s,l){return l===void 0||(qo&1073741824)!==0&&(Pe&261930)===0?i.memoizedState=s:(i.memoizedState=l,i=Ab(),Re.lanes|=i,Bi|=i,l)}function AS(i,s,l,f){return an(l,s)?l:xs.current!==null?(i=Hp(i,l,f),an(i,s)||(pt=!0),i):(qo&42)===0||(qo&1073741824)!==0&&(Pe&261930)===0?(pt=!0,i.memoizedState=l):(i=Ab(),Re.lanes|=i,Bi|=i,s)}function xS(i,s,l,f,v){var _=Q.p;Q.p=_!==0&&8>_?_:8;var w=F.T,R={};F.T=R,zp(i,!1,s,l);try{var P=v(),G=F.S;if(G!==null&&G(R,P),P!==null&&typeof P=="object"&&typeof P.then=="function"){var X=N1(P,f);cl(i,s,X,hn(i))}else cl(i,s,f,hn(i))}catch(te){cl(i,s,{then:function(){},status:"rejected",reason:te},hn())}finally{Q.p=_,w!==null&&R.types!==null&&(w.types=R.types),F.T=w}}function L1(){}function Gp(i,s,l,f){if(i.tag!==5)throw Error(o(476));var v=RS(i).queue;xS(i,v,s,ee,l===null?L1:function(){return MS(i),l(f)})}function RS(i){var s=i.memoizedState;if(s!==null)return s;s={memoizedState:ee,baseState:ee,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Jo,lastRenderedState:ee},next:null};var l={};return s.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Jo,lastRenderedState:l},next:null},i.memoizedState=s,i=i.alternate,i!==null&&(i.memoizedState=s),s}function MS(i){var s=RS(i);s.next===null&&(s=i.alternate.memoizedState),cl(i,s.next.queue,{},hn())}function Vp(){return Mt(xl)}function NS(){return ft().memoizedState}function IS(){return ft().memoizedState}function U1(i){for(var s=i.return;s!==null;){switch(s.tag){case 24:case 3:var l=hn();i=Di(l);var f=Oi(s,i,l);f!==null&&(Qt(f,s,l),rl(f,s,l)),s={cache:yp()},i.payload=s;return}s=s.return}}function B1(i,s,l){var f=hn();l={lane:f,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Pc(i)?OS(s,l):(l=ap(i,s,l,f),l!==null&&(Qt(l,i,f),PS(l,s,f)))}function DS(i,s,l){var f=hn();cl(i,s,l,f)}function cl(i,s,l,f){var v={lane:f,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(Pc(i))OS(s,v);else{var _=i.alternate;if(i.lanes===0&&(_===null||_.lanes===0)&&(_=s.lastRenderedReducer,_!==null))try{var w=s.lastRenderedState,R=_(w,l);if(v.hasEagerState=!0,v.eagerState=R,an(R,w))return pc(i,s,v,0),et===null&&hc(),!1}catch{}finally{}if(l=ap(i,s,v,f),l!==null)return Qt(l,i,f),PS(l,s,f),!0}return!1}function zp(i,s,l,f){if(f={lane:2,revertLane:Em(),gesture:null,action:f,hasEagerState:!1,eagerState:null,next:null},Pc(i)){if(s)throw Error(o(479))}else s=ap(i,l,f,2),s!==null&&Qt(s,i,2)}function Pc(i){var s=i.alternate;return i===Re||s!==null&&s===Re}function OS(i,s){Rs=xc=!0;var l=i.pending;l===null?s.next=s:(s.next=l.next,l.next=s),i.pending=s}function PS(i,s,l){if((l&4194048)!==0){var f=s.lanes;f&=i.pendingLanes,l|=f,s.lanes=l,F_(i,l)}}var fl={readContext:Mt,use:Nc,useCallback:at,useContext:at,useEffect:at,useImperativeHandle:at,useLayoutEffect:at,useInsertionEffect:at,useMemo:at,useReducer:at,useRef:at,useState:at,useDebugValue:at,useDeferredValue:at,useTransition:at,useSyncExternalStore:at,useId:at,useHostTransitionStatus:at,useFormState:at,useActionState:at,useOptimistic:at,useMemoCache:at,useCacheRefresh:at};fl.useEffectEvent=at;var kS={readContext:Mt,use:Nc,useCallback:function(i,s){return Ft().memoizedState=[i,s===void 0?null:s],i},useContext:Mt,useEffect:yS,useImperativeHandle:function(i,s,l){l=l!=null?l.concat([i]):null,Dc(4194308,4,ES.bind(null,s,i),l)},useLayoutEffect:function(i,s){return Dc(4194308,4,i,s)},useInsertionEffect:function(i,s){Dc(4,2,i,s)},useMemo:function(i,s){var l=Ft();s=s===void 0?null:s;var f=i();if(Nr){Ci(!0);try{i()}finally{Ci(!1)}}return l.memoizedState=[f,s],f},useReducer:function(i,s,l){var f=Ft();if(l!==void 0){var v=l(s);if(Nr){Ci(!0);try{l(s)}finally{Ci(!1)}}}else v=s;return f.memoizedState=f.baseState=v,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:v},f.queue=i,i=i.dispatch=B1.bind(null,Re,i),[f.memoizedState,i]},useRef:function(i){var s=Ft();return i={current:i},s.memoizedState=i},useState:function(i){i=Up(i);var s=i.queue,l=DS.bind(null,Re,s);return s.dispatch=l,[i.memoizedState,l]},useDebugValue:$p,useDeferredValue:function(i,s){var l=Ft();return Hp(l,i,s)},useTransition:function(){var i=Up(!1);return i=xS.bind(null,Re,i.queue,!0,!1),Ft().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,s,l){var f=Re,v=Ft();if(Le){if(l===void 0)throw Error(o(407));l=l()}else{if(l=s(),et===null)throw Error(o(349));(Pe&127)!==0||nS(f,s,l)}v.memoizedState=l;var _={value:l,getSnapshot:s};return v.queue=_,yS(iS.bind(null,f,_,i),[i]),f.flags|=2048,Ns(9,{destroy:void 0},oS.bind(null,f,_,l,s),null),l},useId:function(){var i=Ft(),s=et.identifierPrefix;if(Le){var l=go,f=mo;l=(f&~(1<<32-sn(f)-1)).toString(32)+l,s="_"+s+"R_"+l,l=Rc++,0<l&&(s+="H"+l.toString(32)),s+="_"}else l=I1++,s="_"+s+"r_"+l.toString(32)+"_";return i.memoizedState=s},useHostTransitionStatus:Vp,useFormState:hS,useActionState:hS,useOptimistic:function(i){var s=Ft();s.memoizedState=s.baseState=i;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=l,s=zp.bind(null,Re,!0,l),l.dispatch=s,[i,s]},useMemoCache:Pp,useCacheRefresh:function(){return Ft().memoizedState=U1.bind(null,Re)},useEffectEvent:function(i){var s=Ft(),l={impl:i};return s.memoizedState=l,function(){if((Je&2)!==0)throw Error(o(440));return l.impl.apply(void 0,arguments)}}},qp={readContext:Mt,use:Nc,useCallback:CS,useContext:Mt,useEffect:Fp,useImperativeHandle:wS,useInsertionEffect:SS,useLayoutEffect:bS,useMemo:TS,useReducer:Ic,useRef:vS,useState:function(){return Ic(Jo)},useDebugValue:$p,useDeferredValue:function(i,s){var l=ft();return AS(l,je.memoizedState,i,s)},useTransition:function(){var i=Ic(Jo)[0],s=ft().memoizedState;return[typeof i=="boolean"?i:ul(i),s]},useSyncExternalStore:tS,useId:NS,useHostTransitionStatus:Vp,useFormState:pS,useActionState:pS,useOptimistic:function(i,s){var l=ft();return aS(l,je,i,s)},useMemoCache:Pp,useCacheRefresh:IS};qp.useEffectEvent=_S;var LS={readContext:Mt,use:Nc,useCallback:CS,useContext:Mt,useEffect:Fp,useImperativeHandle:wS,useInsertionEffect:SS,useLayoutEffect:bS,useMemo:TS,useReducer:Lp,useRef:vS,useState:function(){return Lp(Jo)},useDebugValue:$p,useDeferredValue:function(i,s){var l=ft();return je===null?Hp(l,i,s):AS(l,je.memoizedState,i,s)},useTransition:function(){var i=Lp(Jo)[0],s=ft().memoizedState;return[typeof i=="boolean"?i:ul(i),s]},useSyncExternalStore:tS,useId:NS,useHostTransitionStatus:Vp,useFormState:gS,useActionState:gS,useOptimistic:function(i,s){var l=ft();return je!==null?aS(l,je,i,s):(l.baseState=i,[i,l.queue.dispatch])},useMemoCache:Pp,useCacheRefresh:IS};LS.useEffectEvent=_S;function Jp(i,s,l,f){s=i.memoizedState,l=l(f,s),l=l==null?s:y({},s,l),i.memoizedState=l,i.lanes===0&&(i.updateQueue.baseState=l)}var Kp={enqueueSetState:function(i,s,l){i=i._reactInternals;var f=hn(),v=Di(f);v.payload=s,l!=null&&(v.callback=l),s=Oi(i,v,f),s!==null&&(Qt(s,i,f),rl(s,i,f))},enqueueReplaceState:function(i,s,l){i=i._reactInternals;var f=hn(),v=Di(f);v.tag=1,v.payload=s,l!=null&&(v.callback=l),s=Oi(i,v,f),s!==null&&(Qt(s,i,f),rl(s,i,f))},enqueueForceUpdate:function(i,s){i=i._reactInternals;var l=hn(),f=Di(l);f.tag=2,s!=null&&(f.callback=s),s=Oi(i,f,l),s!==null&&(Qt(s,i,l),rl(s,i,l))}};function US(i,s,l,f,v,_,w){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(f,_,w):s.prototype&&s.prototype.isPureReactComponent?!Wa(l,f)||!Wa(v,_):!0}function BS(i,s,l,f){i=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(l,f),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(l,f),s.state!==i&&Kp.enqueueReplaceState(s,s.state,null)}function Ir(i,s){var l=s;if("ref"in s){l={};for(var f in s)f!=="ref"&&(l[f]=s[f])}if(i=i.defaultProps){l===s&&(l=y({},l));for(var v in i)l[v]===void 0&&(l[v]=i[v])}return l}function FS(i){dc(i)}function $S(i){console.error(i)}function HS(i){dc(i)}function kc(i,s){try{var l=i.onUncaughtError;l(s.value,{componentStack:s.stack})}catch(f){setTimeout(function(){throw f})}}function GS(i,s,l){try{var f=i.onCaughtError;f(l.value,{componentStack:l.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(v){setTimeout(function(){throw v})}}function Yp(i,s,l){return l=Di(l),l.tag=3,l.payload={element:null},l.callback=function(){kc(i,s)},l}function VS(i){return i=Di(i),i.tag=3,i}function zS(i,s,l,f){var v=l.type.getDerivedStateFromError;if(typeof v=="function"){var _=f.value;i.payload=function(){return v(_)},i.callback=function(){GS(s,l,f)}}var w=l.stateNode;w!==null&&typeof w.componentDidCatch=="function"&&(i.callback=function(){GS(s,l,f),typeof v!="function"&&(Fi===null?Fi=new Set([this]):Fi.add(this));var R=f.stack;this.componentDidCatch(f.value,{componentStack:R!==null?R:""})})}function F1(i,s,l,f,v){if(l.flags|=32768,f!==null&&typeof f=="object"&&typeof f.then=="function"){if(s=l.alternate,s!==null&&Es(s,l,v,!0),l=un.current,l!==null){switch(l.tag){case 31:case 13:return Dn===null?Kc():l.alternate===null&&lt===0&&(lt=3),l.flags&=-257,l.flags|=65536,l.lanes=v,f===Ec?l.flags|=16384:(s=l.updateQueue,s===null?l.updateQueue=new Set([f]):s.add(f),_m(i,f,v)),!1;case 22:return l.flags|=65536,f===Ec?l.flags|=16384:(s=l.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([f])},l.updateQueue=s):(l=s.retryQueue,l===null?s.retryQueue=new Set([f]):l.add(f)),_m(i,f,v)),!1}throw Error(o(435,l.tag))}return _m(i,f,v),Kc(),!1}if(Le)return s=un.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=v,f!==hp&&(i=Error(o(422),{cause:f}),el(Rn(i,l)))):(f!==hp&&(s=Error(o(423),{cause:f}),el(Rn(s,l))),i=i.current.alternate,i.flags|=65536,v&=-v,i.lanes|=v,f=Rn(f,l),v=Yp(i.stateNode,f,v),Cp(i,v),lt!==4&&(lt=2)),!1;var _=Error(o(520),{cause:f});if(_=Rn(_,l),_l===null?_l=[_]:_l.push(_),lt!==4&&(lt=2),s===null)return!0;f=Rn(f,l),l=s;do{switch(l.tag){case 3:return l.flags|=65536,i=v&-v,l.lanes|=i,i=Yp(l.stateNode,f,i),Cp(l,i),!1;case 1:if(s=l.type,_=l.stateNode,(l.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(Fi===null||!Fi.has(_))))return l.flags|=65536,v&=-v,l.lanes|=v,v=VS(v),zS(v,i,l,f),Cp(l,v),!1}l=l.return}while(l!==null);return!1}var jp=Error(o(461)),pt=!1;function Nt(i,s,l,f){s.child=i===null?Y0(s,null,l,f):Mr(s,i.child,l,f)}function qS(i,s,l,f,v){l=l.render;var _=s.ref;if("ref"in f){var w={};for(var R in f)R!=="ref"&&(w[R]=f[R])}else w=f;return Tr(s),f=Np(i,s,l,w,_,v),R=Ip(),i!==null&&!pt?(Dp(i,s,v),Ko(i,s,v)):(Le&&R&&fp(s),s.flags|=1,Nt(i,s,f,v),s.child)}function JS(i,s,l,f,v){if(i===null){var _=l.type;return typeof _=="function"&&!lp(_)&&_.defaultProps===void 0&&l.compare===null?(s.tag=15,s.type=_,KS(i,s,_,f,v)):(i=gc(l.type,null,f,s,s.mode,v),i.ref=s.ref,i.return=s,s.child=i)}if(_=i.child,!om(i,v)){var w=_.memoizedProps;if(l=l.compare,l=l!==null?l:Wa,l(w,f)&&i.ref===s.ref)return Ko(i,s,v)}return s.flags|=1,i=Ho(_,f),i.ref=s.ref,i.return=s,s.child=i}function KS(i,s,l,f,v){if(i!==null){var _=i.memoizedProps;if(Wa(_,f)&&i.ref===s.ref)if(pt=!1,s.pendingProps=f=_,om(i,v))(i.flags&131072)!==0&&(pt=!0);else return s.lanes=i.lanes,Ko(i,s,v)}return Xp(i,s,l,f,v)}function YS(i,s,l,f){var v=f.children,_=i!==null?i.memoizedState:null;if(i===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),f.mode==="hidden"){if((s.flags&128)!==0){if(_=_!==null?_.baseLanes|l:l,i!==null){for(f=s.child=i.child,v=0;f!==null;)v=v|f.lanes|f.childLanes,f=f.sibling;f=v&~_}else f=0,s.child=null;return jS(i,s,_,l,f)}if((l&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},i!==null&&Sc(s,_!==null?_.cachePool:null),_!==null?W0(s,_):Ap(),Q0(s);else return f=s.lanes=536870912,jS(i,s,_!==null?_.baseLanes|l:l,l,f)}else _!==null?(Sc(s,_.cachePool),W0(s,_),ki(),s.memoizedState=null):(i!==null&&Sc(s,null),Ap(),ki());return Nt(i,s,v,l),s.child}function dl(i,s){return i!==null&&i.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function jS(i,s,l,f,v){var _=Sp();return _=_===null?null:{parent:dt._currentValue,pool:_},s.memoizedState={baseLanes:l,cachePool:_},i!==null&&Sc(s,null),Ap(),Q0(s),i!==null&&Es(i,s,f,!0),s.childLanes=v,null}function Lc(i,s){return s=Bc({mode:s.mode,children:s.children},i.mode),s.ref=i.ref,i.child=s,s.return=i,s}function XS(i,s,l){return Mr(s,i.child,null,l),i=Lc(s,s.pendingProps),i.flags|=2,cn(s),s.memoizedState=null,i}function $1(i,s,l){var f=s.pendingProps,v=(s.flags&128)!==0;if(s.flags&=-129,i===null){if(Le){if(f.mode==="hidden")return i=Lc(s,f),s.lanes=536870912,dl(null,i);if(Rp(s),(i=ot)?(i=lE(i,In),i=i!==null&&i.data==="&"?i:null,i!==null&&(s.memoizedState={dehydrated:i,treeContext:xi!==null?{id:mo,overflow:go}:null,retryLane:536870912,hydrationErrors:null},l=O0(i),l.return=s,s.child=l,Rt=s,ot=null)):i=null,i===null)throw Mi(s);return s.lanes=536870912,null}return Lc(s,f)}var _=i.memoizedState;if(_!==null){var w=_.dehydrated;if(Rp(s),v)if(s.flags&256)s.flags&=-257,s=XS(i,s,l);else if(s.memoizedState!==null)s.child=i.child,s.flags|=128,s=null;else throw Error(o(558));else if(pt||Es(i,s,l,!1),v=(l&i.childLanes)!==0,pt||v){if(f=et,f!==null&&(w=$_(f,l),w!==0&&w!==_.retryLane))throw _.retryLane=w,br(i,w),Qt(f,i,w),jp;Kc(),s=XS(i,s,l)}else i=_.treeContext,ot=On(w.nextSibling),Rt=s,Le=!0,Ri=null,In=!1,i!==null&&L0(s,i),s=Lc(s,f),s.flags|=4096;return s}return i=Ho(i.child,{mode:f.mode,children:f.children}),i.ref=s.ref,s.child=i,i.return=s,i}function Uc(i,s){var l=s.ref;if(l===null)i!==null&&i.ref!==null&&(s.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(o(284));(i===null||i.ref!==l)&&(s.flags|=4194816)}}function Xp(i,s,l,f,v){return Tr(s),l=Np(i,s,l,f,void 0,v),f=Ip(),i!==null&&!pt?(Dp(i,s,v),Ko(i,s,v)):(Le&&f&&fp(s),s.flags|=1,Nt(i,s,l,v),s.child)}function WS(i,s,l,f,v,_){return Tr(s),s.updateQueue=null,l=eS(s,f,l,v),Z0(i),f=Ip(),i!==null&&!pt?(Dp(i,s,_),Ko(i,s,_)):(Le&&f&&fp(s),s.flags|=1,Nt(i,s,l,_),s.child)}function QS(i,s,l,f,v){if(Tr(s),s.stateNode===null){var _=ys,w=l.contextType;typeof w=="object"&&w!==null&&(_=Mt(w)),_=new l(f,_),s.memoizedState=_.state!==null&&_.state!==void 0?_.state:null,_.updater=Kp,s.stateNode=_,_._reactInternals=s,_=s.stateNode,_.props=f,_.state=s.memoizedState,_.refs={},Ep(s),w=l.contextType,_.context=typeof w=="object"&&w!==null?Mt(w):ys,_.state=s.memoizedState,w=l.getDerivedStateFromProps,typeof w=="function"&&(Jp(s,l,w,f),_.state=s.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof _.getSnapshotBeforeUpdate=="function"||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(w=_.state,typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount(),w!==_.state&&Kp.enqueueReplaceState(_,_.state,null),al(s,f,_,v),sl(),_.state=s.memoizedState),typeof _.componentDidMount=="function"&&(s.flags|=4194308),f=!0}else if(i===null){_=s.stateNode;var R=s.memoizedProps,P=Ir(l,R);_.props=P;var G=_.context,X=l.contextType;w=ys,typeof X=="object"&&X!==null&&(w=Mt(X));var te=l.getDerivedStateFromProps;X=typeof te=="function"||typeof _.getSnapshotBeforeUpdate=="function",R=s.pendingProps!==R,X||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(R||G!==w)&&BS(s,_,f,w),Ii=!1;var z=s.memoizedState;_.state=z,al(s,f,_,v),sl(),G=s.memoizedState,R||z!==G||Ii?(typeof te=="function"&&(Jp(s,l,te,f),G=s.memoizedState),(P=Ii||US(s,l,P,f,z,G,w))?(X||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(s.flags|=4194308)):(typeof _.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=f,s.memoizedState=G),_.props=f,_.state=G,_.context=w,f=P):(typeof _.componentDidMount=="function"&&(s.flags|=4194308),f=!1)}else{_=s.stateNode,wp(i,s),w=s.memoizedProps,X=Ir(l,w),_.props=X,te=s.pendingProps,z=_.context,G=l.contextType,P=ys,typeof G=="object"&&G!==null&&(P=Mt(G)),R=l.getDerivedStateFromProps,(G=typeof R=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(w!==te||z!==P)&&BS(s,_,f,P),Ii=!1,z=s.memoizedState,_.state=z,al(s,f,_,v),sl();var K=s.memoizedState;w!==te||z!==K||Ii||i!==null&&i.dependencies!==null&&yc(i.dependencies)?(typeof R=="function"&&(Jp(s,l,R,f),K=s.memoizedState),(X=Ii||US(s,l,X,f,z,K,P)||i!==null&&i.dependencies!==null&&yc(i.dependencies))?(G||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(f,K,P),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(f,K,P)),typeof _.componentDidUpdate=="function"&&(s.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof _.componentDidUpdate!="function"||w===i.memoizedProps&&z===i.memoizedState||(s.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||w===i.memoizedProps&&z===i.memoizedState||(s.flags|=1024),s.memoizedProps=f,s.memoizedState=K),_.props=f,_.state=K,_.context=P,f=X):(typeof _.componentDidUpdate!="function"||w===i.memoizedProps&&z===i.memoizedState||(s.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||w===i.memoizedProps&&z===i.memoizedState||(s.flags|=1024),f=!1)}return _=f,Uc(i,s),f=(s.flags&128)!==0,_||f?(_=s.stateNode,l=f&&typeof l.getDerivedStateFromError!="function"?null:_.render(),s.flags|=1,i!==null&&f?(s.child=Mr(s,i.child,null,v),s.child=Mr(s,null,l,v)):Nt(i,s,l,v),s.memoizedState=_.state,i=s.child):i=Ko(i,s,v),i}function ZS(i,s,l,f){return wr(),s.flags|=256,Nt(i,s,l,f),s.child}var Wp={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Qp(i){return{baseLanes:i,cachePool:G0()}}function Zp(i,s,l){return i=i!==null?i.childLanes&~l:0,s&&(i|=dn),i}function eb(i,s,l){var f=s.pendingProps,v=!1,_=(s.flags&128)!==0,w;if((w=_)||(w=i!==null&&i.memoizedState===null?!1:(ct.current&2)!==0),w&&(v=!0,s.flags&=-129),w=(s.flags&32)!==0,s.flags&=-33,i===null){if(Le){if(v?Pi(s):ki(),(i=ot)?(i=lE(i,In),i=i!==null&&i.data!=="&"?i:null,i!==null&&(s.memoizedState={dehydrated:i,treeContext:xi!==null?{id:mo,overflow:go}:null,retryLane:536870912,hydrationErrors:null},l=O0(i),l.return=s,s.child=l,Rt=s,ot=null)):i=null,i===null)throw Mi(s);return km(i)?s.lanes=32:s.lanes=536870912,null}var R=f.children;return f=f.fallback,v?(ki(),v=s.mode,R=Bc({mode:"hidden",children:R},v),f=Er(f,v,l,null),R.return=s,f.return=s,R.sibling=f,s.child=R,f=s.child,f.memoizedState=Qp(l),f.childLanes=Zp(i,w,l),s.memoizedState=Wp,dl(null,f)):(Pi(s),em(s,R))}var P=i.memoizedState;if(P!==null&&(R=P.dehydrated,R!==null)){if(_)s.flags&256?(Pi(s),s.flags&=-257,s=tm(i,s,l)):s.memoizedState!==null?(ki(),s.child=i.child,s.flags|=128,s=null):(ki(),R=f.fallback,v=s.mode,f=Bc({mode:"visible",children:f.children},v),R=Er(R,v,l,null),R.flags|=2,f.return=s,R.return=s,f.sibling=R,s.child=f,Mr(s,i.child,null,l),f=s.child,f.memoizedState=Qp(l),f.childLanes=Zp(i,w,l),s.memoizedState=Wp,s=dl(null,f));else if(Pi(s),km(R)){if(w=R.nextSibling&&R.nextSibling.dataset,w)var G=w.dgst;w=G,f=Error(o(419)),f.stack="",f.digest=w,el({value:f,source:null,stack:null}),s=tm(i,s,l)}else if(pt||Es(i,s,l,!1),w=(l&i.childLanes)!==0,pt||w){if(w=et,w!==null&&(f=$_(w,l),f!==0&&f!==P.retryLane))throw P.retryLane=f,br(i,f),Qt(w,i,f),jp;Pm(R)||Kc(),s=tm(i,s,l)}else Pm(R)?(s.flags|=192,s.child=i.child,s=null):(i=P.treeContext,ot=On(R.nextSibling),Rt=s,Le=!0,Ri=null,In=!1,i!==null&&L0(s,i),s=em(s,f.children),s.flags|=4096);return s}return v?(ki(),R=f.fallback,v=s.mode,P=i.child,G=P.sibling,f=Ho(P,{mode:"hidden",children:f.children}),f.subtreeFlags=P.subtreeFlags&65011712,G!==null?R=Ho(G,R):(R=Er(R,v,l,null),R.flags|=2),R.return=s,f.return=s,f.sibling=R,s.child=f,dl(null,f),f=s.child,R=i.child.memoizedState,R===null?R=Qp(l):(v=R.cachePool,v!==null?(P=dt._currentValue,v=v.parent!==P?{parent:P,pool:P}:v):v=G0(),R={baseLanes:R.baseLanes|l,cachePool:v}),f.memoizedState=R,f.childLanes=Zp(i,w,l),s.memoizedState=Wp,dl(i.child,f)):(Pi(s),l=i.child,i=l.sibling,l=Ho(l,{mode:"visible",children:f.children}),l.return=s,l.sibling=null,i!==null&&(w=s.deletions,w===null?(s.deletions=[i],s.flags|=16):w.push(i)),s.child=l,s.memoizedState=null,l)}function em(i,s){return s=Bc({mode:"visible",children:s},i.mode),s.return=i,i.child=s}function Bc(i,s){return i=ln(22,i,null,s),i.lanes=0,i}function tm(i,s,l){return Mr(s,i.child,null,l),i=em(s,s.pendingProps.children),i.flags|=2,s.memoizedState=null,i}function tb(i,s,l){i.lanes|=s;var f=i.alternate;f!==null&&(f.lanes|=s),gp(i.return,s,l)}function nm(i,s,l,f,v,_){var w=i.memoizedState;w===null?i.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:f,tail:l,tailMode:v,treeForkCount:_}:(w.isBackwards=s,w.rendering=null,w.renderingStartTime=0,w.last=f,w.tail=l,w.tailMode=v,w.treeForkCount=_)}function nb(i,s,l){var f=s.pendingProps,v=f.revealOrder,_=f.tail;f=f.children;var w=ct.current,R=(w&2)!==0;if(R?(w=w&1|2,s.flags|=128):w&=1,se(ct,w),Nt(i,s,f,l),f=Le?Za:0,!R&&i!==null&&(i.flags&128)!==0)e:for(i=s.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&tb(i,l,s);else if(i.tag===19)tb(i,l,s);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break e;for(;i.sibling===null;){if(i.return===null||i.return===s)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(v){case"forwards":for(l=s.child,v=null;l!==null;)i=l.alternate,i!==null&&Ac(i)===null&&(v=l),l=l.sibling;l=v,l===null?(v=s.child,s.child=null):(v=l.sibling,l.sibling=null),nm(s,!1,v,l,_,f);break;case"backwards":case"unstable_legacy-backwards":for(l=null,v=s.child,s.child=null;v!==null;){if(i=v.alternate,i!==null&&Ac(i)===null){s.child=v;break}i=v.sibling,v.sibling=l,l=v,v=i}nm(s,!0,l,null,_,f);break;case"together":nm(s,!1,null,null,void 0,f);break;default:s.memoizedState=null}return s.child}function Ko(i,s,l){if(i!==null&&(s.dependencies=i.dependencies),Bi|=s.lanes,(l&s.childLanes)===0)if(i!==null){if(Es(i,s,l,!1),(l&s.childLanes)===0)return null}else return null;if(i!==null&&s.child!==i.child)throw Error(o(153));if(s.child!==null){for(i=s.child,l=Ho(i,i.pendingProps),s.child=l,l.return=s;i.sibling!==null;)i=i.sibling,l=l.sibling=Ho(i,i.pendingProps),l.return=s;l.sibling=null}return s.child}function om(i,s){return(i.lanes&s)!==0?!0:(i=i.dependencies,!!(i!==null&&yc(i)))}function H1(i,s,l){switch(s.tag){case 3:ze(s,s.stateNode.containerInfo),Ni(s,dt,i.memoizedState.cache),wr();break;case 27:case 5:on(s);break;case 4:ze(s,s.stateNode.containerInfo);break;case 10:Ni(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,Rp(s),null;break;case 13:var f=s.memoizedState;if(f!==null)return f.dehydrated!==null?(Pi(s),s.flags|=128,null):(l&s.child.childLanes)!==0?eb(i,s,l):(Pi(s),i=Ko(i,s,l),i!==null?i.sibling:null);Pi(s);break;case 19:var v=(i.flags&128)!==0;if(f=(l&s.childLanes)!==0,f||(Es(i,s,l,!1),f=(l&s.childLanes)!==0),v){if(f)return nb(i,s,l);s.flags|=128}if(v=s.memoizedState,v!==null&&(v.rendering=null,v.tail=null,v.lastEffect=null),se(ct,ct.current),f)break;return null;case 22:return s.lanes=0,YS(i,s,l,s.pendingProps);case 24:Ni(s,dt,i.memoizedState.cache)}return Ko(i,s,l)}function ob(i,s,l){if(i!==null)if(i.memoizedProps!==s.pendingProps)pt=!0;else{if(!om(i,l)&&(s.flags&128)===0)return pt=!1,H1(i,s,l);pt=(i.flags&131072)!==0}else pt=!1,Le&&(s.flags&1048576)!==0&&k0(s,Za,s.index);switch(s.lanes=0,s.tag){case 16:e:{var f=s.pendingProps;if(i=xr(s.elementType),s.type=i,typeof i=="function")lp(i)?(f=Ir(i,f),s.tag=1,s=QS(null,s,i,f,l)):(s.tag=0,s=Xp(null,s,i,f,l));else{if(i!=null){var v=i.$$typeof;if(v===D){s.tag=11,s=qS(null,s,i,f,l);break e}else if(v===O){s.tag=14,s=JS(null,s,i,f,l);break e}}throw s=ae(i)||i,Error(o(306,s,""))}}return s;case 0:return Xp(i,s,s.type,s.pendingProps,l);case 1:return f=s.type,v=Ir(f,s.pendingProps),QS(i,s,f,v,l);case 3:e:{if(ze(s,s.stateNode.containerInfo),i===null)throw Error(o(387));f=s.pendingProps;var _=s.memoizedState;v=_.element,wp(i,s),al(s,f,null,l);var w=s.memoizedState;if(f=w.cache,Ni(s,dt,f),f!==_.cache&&vp(s,[dt],l,!0),sl(),f=w.element,_.isDehydrated)if(_={element:f,isDehydrated:!1,cache:w.cache},s.updateQueue.baseState=_,s.memoizedState=_,s.flags&256){s=ZS(i,s,f,l);break e}else if(f!==v){v=Rn(Error(o(424)),s),el(v),s=ZS(i,s,f,l);break e}else{switch(i=s.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(ot=On(i.firstChild),Rt=s,Le=!0,Ri=null,In=!0,l=Y0(s,null,f,l),s.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(wr(),f===v){s=Ko(i,s,l);break e}Nt(i,s,f,l)}s=s.child}return s;case 26:return Uc(i,s),i===null?(l=pE(s.type,null,s.pendingProps,null))?s.memoizedState=l:Le||(l=s.type,i=s.pendingProps,f=ef(be.current).createElement(l),f[xt]=s,f[Jt]=i,It(f,l,i),bt(f),s.stateNode=f):s.memoizedState=pE(s.type,i.memoizedProps,s.pendingProps,i.memoizedState),null;case 27:return on(s),i===null&&Le&&(f=s.stateNode=fE(s.type,s.pendingProps,be.current),Rt=s,In=!0,v=ot,Vi(s.type)?(Lm=v,ot=On(f.firstChild)):ot=v),Nt(i,s,s.pendingProps.children,l),Uc(i,s),i===null&&(s.flags|=4194304),s.child;case 5:return i===null&&Le&&((v=f=ot)&&(f=vP(f,s.type,s.pendingProps,In),f!==null?(s.stateNode=f,Rt=s,ot=On(f.firstChild),In=!1,v=!0):v=!1),v||Mi(s)),on(s),v=s.type,_=s.pendingProps,w=i!==null?i.memoizedProps:null,f=_.children,Im(v,_)?f=null:w!==null&&Im(v,w)&&(s.flags|=32),s.memoizedState!==null&&(v=Np(i,s,D1,null,null,l),xl._currentValue=v),Uc(i,s),Nt(i,s,f,l),s.child;case 6:return i===null&&Le&&((i=l=ot)&&(l=yP(l,s.pendingProps,In),l!==null?(s.stateNode=l,Rt=s,ot=null,i=!0):i=!1),i||Mi(s)),null;case 13:return eb(i,s,l);case 4:return ze(s,s.stateNode.containerInfo),f=s.pendingProps,i===null?s.child=Mr(s,null,f,l):Nt(i,s,f,l),s.child;case 11:return qS(i,s,s.type,s.pendingProps,l);case 7:return Nt(i,s,s.pendingProps,l),s.child;case 8:return Nt(i,s,s.pendingProps.children,l),s.child;case 12:return Nt(i,s,s.pendingProps.children,l),s.child;case 10:return f=s.pendingProps,Ni(s,s.type,f.value),Nt(i,s,f.children,l),s.child;case 9:return v=s.type._context,f=s.pendingProps.children,Tr(s),v=Mt(v),f=f(v),s.flags|=1,Nt(i,s,f,l),s.child;case 14:return JS(i,s,s.type,s.pendingProps,l);case 15:return KS(i,s,s.type,s.pendingProps,l);case 19:return nb(i,s,l);case 31:return $1(i,s,l);case 22:return YS(i,s,l,s.pendingProps);case 24:return Tr(s),f=Mt(dt),i===null?(v=Sp(),v===null&&(v=et,_=yp(),v.pooledCache=_,_.refCount++,_!==null&&(v.pooledCacheLanes|=l),v=_),s.memoizedState={parent:f,cache:v},Ep(s),Ni(s,dt,v)):((i.lanes&l)!==0&&(wp(i,s),al(s,null,null,l),sl()),v=i.memoizedState,_=s.memoizedState,v.parent!==f?(v={parent:f,cache:f},s.memoizedState=v,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=v),Ni(s,dt,f)):(f=_.cache,Ni(s,dt,f),f!==v.cache&&vp(s,[dt],l,!0))),Nt(i,s,s.pendingProps.children,l),s.child;case 29:throw s.pendingProps}throw Error(o(156,s.tag))}function Yo(i){i.flags|=4}function im(i,s,l,f,v){if((s=(i.mode&32)!==0)&&(s=!1),s){if(i.flags|=16777216,(v&335544128)===v)if(i.stateNode.complete)i.flags|=8192;else if(Nb())i.flags|=8192;else throw Rr=Ec,bp}else i.flags&=-16777217}function ib(i,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!_E(s))if(Nb())i.flags|=8192;else throw Rr=Ec,bp}function Fc(i,s){s!==null&&(i.flags|=4),i.flags&16384&&(s=i.tag!==22?U_():536870912,i.lanes|=s,Ps|=s)}function hl(i,s){if(!Le)switch(i.tailMode){case"hidden":s=i.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?i.tail=null:l.sibling=null;break;case"collapsed":l=i.tail;for(var f=null;l!==null;)l.alternate!==null&&(f=l),l=l.sibling;f===null?s||i.tail===null?i.tail=null:i.tail.sibling=null:f.sibling=null}}function it(i){var s=i.alternate!==null&&i.alternate.child===i.child,l=0,f=0;if(s)for(var v=i.child;v!==null;)l|=v.lanes|v.childLanes,f|=v.subtreeFlags&65011712,f|=v.flags&65011712,v.return=i,v=v.sibling;else for(v=i.child;v!==null;)l|=v.lanes|v.childLanes,f|=v.subtreeFlags,f|=v.flags,v.return=i,v=v.sibling;return i.subtreeFlags|=f,i.childLanes=l,s}function G1(i,s,l){var f=s.pendingProps;switch(dp(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return it(s),null;case 1:return it(s),null;case 3:return l=s.stateNode,f=null,i!==null&&(f=i.memoizedState.cache),s.memoizedState.cache!==f&&(s.flags|=2048),zo(dt),qe(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(i===null||i.child===null)&&(bs(s)?Yo(s):i===null||i.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,pp())),it(s),null;case 26:var v=s.type,_=s.memoizedState;return i===null?(Yo(s),_!==null?(it(s),ib(s,_)):(it(s),im(s,v,null,f,l))):_?_!==i.memoizedState?(Yo(s),it(s),ib(s,_)):(it(s),s.flags&=-16777217):(i=i.memoizedProps,i!==f&&Yo(s),it(s),im(s,v,i,f,l)),null;case 27:if(Cn(s),l=be.current,v=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==f&&Yo(s);else{if(!f){if(s.stateNode===null)throw Error(o(166));return it(s),null}i=le.current,bs(s)?U0(s):(i=fE(v,f,l),s.stateNode=i,Yo(s))}return it(s),null;case 5:if(Cn(s),v=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==f&&Yo(s);else{if(!f){if(s.stateNode===null)throw Error(o(166));return it(s),null}if(_=le.current,bs(s))U0(s);else{var w=ef(be.current);switch(_){case 1:_=w.createElementNS("http://www.w3.org/2000/svg",v);break;case 2:_=w.createElementNS("http://www.w3.org/1998/Math/MathML",v);break;default:switch(v){case"svg":_=w.createElementNS("http://www.w3.org/2000/svg",v);break;case"math":_=w.createElementNS("http://www.w3.org/1998/Math/MathML",v);break;case"script":_=w.createElement("div"),_.innerHTML="<script><\/script>",_=_.removeChild(_.firstChild);break;case"select":_=typeof f.is=="string"?w.createElement("select",{is:f.is}):w.createElement("select"),f.multiple?_.multiple=!0:f.size&&(_.size=f.size);break;default:_=typeof f.is=="string"?w.createElement(v,{is:f.is}):w.createElement(v)}}_[xt]=s,_[Jt]=f;e:for(w=s.child;w!==null;){if(w.tag===5||w.tag===6)_.appendChild(w.stateNode);else if(w.tag!==4&&w.tag!==27&&w.child!==null){w.child.return=w,w=w.child;continue}if(w===s)break e;for(;w.sibling===null;){if(w.return===null||w.return===s)break e;w=w.return}w.sibling.return=w.return,w=w.sibling}s.stateNode=_;e:switch(It(_,v,f),v){case"button":case"input":case"select":case"textarea":f=!!f.autoFocus;break e;case"img":f=!0;break e;default:f=!1}f&&Yo(s)}}return it(s),im(s,s.type,i===null?null:i.memoizedProps,s.pendingProps,l),null;case 6:if(i&&s.stateNode!=null)i.memoizedProps!==f&&Yo(s);else{if(typeof f!="string"&&s.stateNode===null)throw Error(o(166));if(i=be.current,bs(s)){if(i=s.stateNode,l=s.memoizedProps,f=null,v=Rt,v!==null)switch(v.tag){case 27:case 5:f=v.memoizedProps}i[xt]=s,i=!!(i.nodeValue===l||f!==null&&f.suppressHydrationWarning===!0||eE(i.nodeValue,l)),i||Mi(s,!0)}else i=ef(i).createTextNode(f),i[xt]=s,s.stateNode=i}return it(s),null;case 31:if(l=s.memoizedState,i===null||i.memoizedState!==null){if(f=bs(s),l!==null){if(i===null){if(!f)throw Error(o(318));if(i=s.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(o(557));i[xt]=s}else wr(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;it(s),i=!1}else l=pp(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=l),i=!0;if(!i)return s.flags&256?(cn(s),s):(cn(s),null);if((s.flags&128)!==0)throw Error(o(558))}return it(s),null;case 13:if(f=s.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(v=bs(s),f!==null&&f.dehydrated!==null){if(i===null){if(!v)throw Error(o(318));if(v=s.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(o(317));v[xt]=s}else wr(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;it(s),v=!1}else v=pp(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=v),v=!0;if(!v)return s.flags&256?(cn(s),s):(cn(s),null)}return cn(s),(s.flags&128)!==0?(s.lanes=l,s):(l=f!==null,i=i!==null&&i.memoizedState!==null,l&&(f=s.child,v=null,f.alternate!==null&&f.alternate.memoizedState!==null&&f.alternate.memoizedState.cachePool!==null&&(v=f.alternate.memoizedState.cachePool.pool),_=null,f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(_=f.memoizedState.cachePool.pool),_!==v&&(f.flags|=2048)),l!==i&&l&&(s.child.flags|=8192),Fc(s,s.updateQueue),it(s),null);case 4:return qe(),i===null&&Am(s.stateNode.containerInfo),it(s),null;case 10:return zo(s.type),it(s),null;case 19:if(Y(ct),f=s.memoizedState,f===null)return it(s),null;if(v=(s.flags&128)!==0,_=f.rendering,_===null)if(v)hl(f,!1);else{if(lt!==0||i!==null&&(i.flags&128)!==0)for(i=s.child;i!==null;){if(_=Ac(i),_!==null){for(s.flags|=128,hl(f,!1),i=_.updateQueue,s.updateQueue=i,Fc(s,i),s.subtreeFlags=0,i=l,l=s.child;l!==null;)D0(l,i),l=l.sibling;return se(ct,ct.current&1|2),Le&&Go(s,f.treeForkCount),s.child}i=i.sibling}f.tail!==null&&At()>zc&&(s.flags|=128,v=!0,hl(f,!1),s.lanes=4194304)}else{if(!v)if(i=Ac(_),i!==null){if(s.flags|=128,v=!0,i=i.updateQueue,s.updateQueue=i,Fc(s,i),hl(f,!0),f.tail===null&&f.tailMode==="hidden"&&!_.alternate&&!Le)return it(s),null}else 2*At()-f.renderingStartTime>zc&&l!==536870912&&(s.flags|=128,v=!0,hl(f,!1),s.lanes=4194304);f.isBackwards?(_.sibling=s.child,s.child=_):(i=f.last,i!==null?i.sibling=_:s.child=_,f.last=_)}return f.tail!==null?(i=f.tail,f.rendering=i,f.tail=i.sibling,f.renderingStartTime=At(),i.sibling=null,l=ct.current,se(ct,v?l&1|2:l&1),Le&&Go(s,f.treeForkCount),i):(it(s),null);case 22:case 23:return cn(s),xp(),f=s.memoizedState!==null,i!==null?i.memoizedState!==null!==f&&(s.flags|=8192):f&&(s.flags|=8192),f?(l&536870912)!==0&&(s.flags&128)===0&&(it(s),s.subtreeFlags&6&&(s.flags|=8192)):it(s),l=s.updateQueue,l!==null&&Fc(s,l.retryQueue),l=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),f=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(f=s.memoizedState.cachePool.pool),f!==l&&(s.flags|=2048),i!==null&&Y(Ar),null;case 24:return l=null,i!==null&&(l=i.memoizedState.cache),s.memoizedState.cache!==l&&(s.flags|=2048),zo(dt),it(s),null;case 25:return null;case 30:return null}throw Error(o(156,s.tag))}function V1(i,s){switch(dp(s),s.tag){case 1:return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 3:return zo(dt),qe(),i=s.flags,(i&65536)!==0&&(i&128)===0?(s.flags=i&-65537|128,s):null;case 26:case 27:case 5:return Cn(s),null;case 31:if(s.memoizedState!==null){if(cn(s),s.alternate===null)throw Error(o(340));wr()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 13:if(cn(s),i=s.memoizedState,i!==null&&i.dehydrated!==null){if(s.alternate===null)throw Error(o(340));wr()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 19:return Y(ct),null;case 4:return qe(),null;case 10:return zo(s.type),null;case 22:case 23:return cn(s),xp(),i!==null&&Y(Ar),i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 24:return zo(dt),null;case 25:return null;default:return null}}function rb(i,s){switch(dp(s),s.tag){case 3:zo(dt),qe();break;case 26:case 27:case 5:Cn(s);break;case 4:qe();break;case 31:s.memoizedState!==null&&cn(s);break;case 13:cn(s);break;case 19:Y(ct);break;case 10:zo(s.type);break;case 22:case 23:cn(s),xp(),i!==null&&Y(Ar);break;case 24:zo(dt)}}function pl(i,s){try{var l=s.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var v=f.next;l=v;do{if((l.tag&i)===i){f=void 0;var _=l.create,w=l.inst;f=_(),w.destroy=f}l=l.next}while(l!==v)}}catch(R){Ye(s,s.return,R)}}function Li(i,s,l){try{var f=s.updateQueue,v=f!==null?f.lastEffect:null;if(v!==null){var _=v.next;f=_;do{if((f.tag&i)===i){var w=f.inst,R=w.destroy;if(R!==void 0){w.destroy=void 0,v=s;var P=l,G=R;try{G()}catch(X){Ye(v,P,X)}}}f=f.next}while(f!==_)}}catch(X){Ye(s,s.return,X)}}function sb(i){var s=i.updateQueue;if(s!==null){var l=i.stateNode;try{X0(s,l)}catch(f){Ye(i,i.return,f)}}}function ab(i,s,l){l.props=Ir(i.type,i.memoizedProps),l.state=i.memoizedState;try{l.componentWillUnmount()}catch(f){Ye(i,s,f)}}function ml(i,s){try{var l=i.ref;if(l!==null){switch(i.tag){case 26:case 27:case 5:var f=i.stateNode;break;case 30:f=i.stateNode;break;default:f=i.stateNode}typeof l=="function"?i.refCleanup=l(f):l.current=f}}catch(v){Ye(i,s,v)}}function vo(i,s){var l=i.ref,f=i.refCleanup;if(l!==null)if(typeof f=="function")try{f()}catch(v){Ye(i,s,v)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(v){Ye(i,s,v)}else l.current=null}function lb(i){var s=i.type,l=i.memoizedProps,f=i.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":l.autoFocus&&f.focus();break e;case"img":l.src?f.src=l.src:l.srcSet&&(f.srcset=l.srcSet)}}catch(v){Ye(i,i.return,v)}}function rm(i,s,l){try{var f=i.stateNode;fP(f,i.type,l,s),f[Jt]=s}catch(v){Ye(i,i.return,v)}}function ub(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&Vi(i.type)||i.tag===4}function sm(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||ub(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&Vi(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function am(i,s,l){var f=i.tag;if(f===5||f===6)i=i.stateNode,s?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(i,s):(s=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,s.appendChild(i),l=l._reactRootContainer,l!=null||s.onclick!==null||(s.onclick=Fo));else if(f!==4&&(f===27&&Vi(i.type)&&(l=i.stateNode,s=null),i=i.child,i!==null))for(am(i,s,l),i=i.sibling;i!==null;)am(i,s,l),i=i.sibling}function $c(i,s,l){var f=i.tag;if(f===5||f===6)i=i.stateNode,s?l.insertBefore(i,s):l.appendChild(i);else if(f!==4&&(f===27&&Vi(i.type)&&(l=i.stateNode),i=i.child,i!==null))for($c(i,s,l),i=i.sibling;i!==null;)$c(i,s,l),i=i.sibling}function cb(i){var s=i.stateNode,l=i.memoizedProps;try{for(var f=i.type,v=s.attributes;v.length;)s.removeAttributeNode(v[0]);It(s,f,l),s[xt]=i,s[Jt]=l}catch(_){Ye(i,i.return,_)}}var jo=!1,mt=!1,lm=!1,fb=typeof WeakSet=="function"?WeakSet:Set,Et=null;function z1(i,s){if(i=i.containerInfo,Mm=lf,i=w0(i),tp(i)){if("selectionStart"in i)var l={start:i.selectionStart,end:i.selectionEnd};else e:{l=(l=i.ownerDocument)&&l.defaultView||window;var f=l.getSelection&&l.getSelection();if(f&&f.rangeCount!==0){l=f.anchorNode;var v=f.anchorOffset,_=f.focusNode;f=f.focusOffset;try{l.nodeType,_.nodeType}catch{l=null;break e}var w=0,R=-1,P=-1,G=0,X=0,te=i,z=null;t:for(;;){for(var K;te!==l||v!==0&&te.nodeType!==3||(R=w+v),te!==_||f!==0&&te.nodeType!==3||(P=w+f),te.nodeType===3&&(w+=te.nodeValue.length),(K=te.firstChild)!==null;)z=te,te=K;for(;;){if(te===i)break t;if(z===l&&++G===v&&(R=w),z===_&&++X===f&&(P=w),(K=te.nextSibling)!==null)break;te=z,z=te.parentNode}te=K}l=R===-1||P===-1?null:{start:R,end:P}}else l=null}l=l||{start:0,end:0}}else l=null;for(Nm={focusedElem:i,selectionRange:l},lf=!1,Et=s;Et!==null;)if(s=Et,i=s.child,(s.subtreeFlags&1028)!==0&&i!==null)i.return=s,Et=i;else for(;Et!==null;){switch(s=Et,_=s.alternate,i=s.flags,s.tag){case 0:if((i&4)!==0&&(i=s.updateQueue,i=i!==null?i.events:null,i!==null))for(l=0;l<i.length;l++)v=i[l],v.ref.impl=v.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&_!==null){i=void 0,l=s,v=_.memoizedProps,_=_.memoizedState,f=l.stateNode;try{var he=Ir(l.type,v);i=f.getSnapshotBeforeUpdate(he,_),f.__reactInternalSnapshotBeforeUpdate=i}catch(Ee){Ye(l,l.return,Ee)}}break;case 3:if((i&1024)!==0){if(i=s.stateNode.containerInfo,l=i.nodeType,l===9)Om(i);else if(l===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Om(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(o(163))}if(i=s.sibling,i!==null){i.return=s.return,Et=i;break}Et=s.return}}function db(i,s,l){var f=l.flags;switch(l.tag){case 0:case 11:case 15:Wo(i,l),f&4&&pl(5,l);break;case 1:if(Wo(i,l),f&4)if(i=l.stateNode,s===null)try{i.componentDidMount()}catch(w){Ye(l,l.return,w)}else{var v=Ir(l.type,s.memoizedProps);s=s.memoizedState;try{i.componentDidUpdate(v,s,i.__reactInternalSnapshotBeforeUpdate)}catch(w){Ye(l,l.return,w)}}f&64&&sb(l),f&512&&ml(l,l.return);break;case 3:if(Wo(i,l),f&64&&(i=l.updateQueue,i!==null)){if(s=null,l.child!==null)switch(l.child.tag){case 27:case 5:s=l.child.stateNode;break;case 1:s=l.child.stateNode}try{X0(i,s)}catch(w){Ye(l,l.return,w)}}break;case 27:s===null&&f&4&&cb(l);case 26:case 5:Wo(i,l),s===null&&f&4&&lb(l),f&512&&ml(l,l.return);break;case 12:Wo(i,l);break;case 31:Wo(i,l),f&4&&mb(i,l);break;case 13:Wo(i,l),f&4&&gb(i,l),f&64&&(i=l.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(l=Z1.bind(null,l),_P(i,l))));break;case 22:if(f=l.memoizedState!==null||jo,!f){s=s!==null&&s.memoizedState!==null||mt,v=jo;var _=mt;jo=f,(mt=s)&&!_?Qo(i,l,(l.subtreeFlags&8772)!==0):Wo(i,l),jo=v,mt=_}break;case 30:break;default:Wo(i,l)}}function hb(i){var s=i.alternate;s!==null&&(i.alternate=null,hb(s)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(s=i.stateNode,s!==null&&Bh(s)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var st=null,Yt=!1;function Xo(i,s,l){for(l=l.child;l!==null;)pb(i,s,l),l=l.sibling}function pb(i,s,l){if(rn&&typeof rn.onCommitFiberUnmount=="function")try{rn.onCommitFiberUnmount(Fa,l)}catch{}switch(l.tag){case 26:mt||vo(l,s),Xo(i,s,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:mt||vo(l,s);var f=st,v=Yt;Vi(l.type)&&(st=l.stateNode,Yt=!1),Xo(i,s,l),Cl(l.stateNode),st=f,Yt=v;break;case 5:mt||vo(l,s);case 6:if(f=st,v=Yt,st=null,Xo(i,s,l),st=f,Yt=v,st!==null)if(Yt)try{(st.nodeType===9?st.body:st.nodeName==="HTML"?st.ownerDocument.body:st).removeChild(l.stateNode)}catch(_){Ye(l,s,_)}else try{st.removeChild(l.stateNode)}catch(_){Ye(l,s,_)}break;case 18:st!==null&&(Yt?(i=st,sE(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,l.stateNode),Gs(i)):sE(st,l.stateNode));break;case 4:f=st,v=Yt,st=l.stateNode.containerInfo,Yt=!0,Xo(i,s,l),st=f,Yt=v;break;case 0:case 11:case 14:case 15:Li(2,l,s),mt||Li(4,l,s),Xo(i,s,l);break;case 1:mt||(vo(l,s),f=l.stateNode,typeof f.componentWillUnmount=="function"&&ab(l,s,f)),Xo(i,s,l);break;case 21:Xo(i,s,l);break;case 22:mt=(f=mt)||l.memoizedState!==null,Xo(i,s,l),mt=f;break;default:Xo(i,s,l)}}function mb(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{Gs(i)}catch(l){Ye(s,s.return,l)}}}function gb(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Gs(i)}catch(l){Ye(s,s.return,l)}}function q1(i){switch(i.tag){case 31:case 13:case 19:var s=i.stateNode;return s===null&&(s=i.stateNode=new fb),s;case 22:return i=i.stateNode,s=i._retryCache,s===null&&(s=i._retryCache=new fb),s;default:throw Error(o(435,i.tag))}}function Hc(i,s){var l=q1(i);s.forEach(function(f){if(!l.has(f)){l.add(f);var v=eP.bind(null,i,f);f.then(v,v)}})}function jt(i,s){var l=s.deletions;if(l!==null)for(var f=0;f<l.length;f++){var v=l[f],_=i,w=s,R=w;e:for(;R!==null;){switch(R.tag){case 27:if(Vi(R.type)){st=R.stateNode,Yt=!1;break e}break;case 5:st=R.stateNode,Yt=!1;break e;case 3:case 4:st=R.stateNode.containerInfo,Yt=!0;break e}R=R.return}if(st===null)throw Error(o(160));pb(_,w,v),st=null,Yt=!1,_=v.alternate,_!==null&&(_.return=null),v.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)vb(s,i),s=s.sibling}var Wn=null;function vb(i,s){var l=i.alternate,f=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:jt(s,i),Xt(i),f&4&&(Li(3,i,i.return),pl(3,i),Li(5,i,i.return));break;case 1:jt(s,i),Xt(i),f&512&&(mt||l===null||vo(l,l.return)),f&64&&jo&&(i=i.updateQueue,i!==null&&(f=i.callbacks,f!==null&&(l=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=l===null?f:l.concat(f))));break;case 26:var v=Wn;if(jt(s,i),Xt(i),f&512&&(mt||l===null||vo(l,l.return)),f&4){var _=l!==null?l.memoizedState:null;if(f=i.memoizedState,l===null)if(f===null)if(i.stateNode===null){e:{f=i.type,l=i.memoizedProps,v=v.ownerDocument||v;t:switch(f){case"title":_=v.getElementsByTagName("title")[0],(!_||_[Ga]||_[xt]||_.namespaceURI==="http://www.w3.org/2000/svg"||_.hasAttribute("itemprop"))&&(_=v.createElement(f),v.head.insertBefore(_,v.querySelector("head > title"))),It(_,f,l),_[xt]=i,bt(_),f=_;break e;case"link":var w=vE("link","href",v).get(f+(l.href||""));if(w){for(var R=0;R<w.length;R++)if(_=w[R],_.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&_.getAttribute("rel")===(l.rel==null?null:l.rel)&&_.getAttribute("title")===(l.title==null?null:l.title)&&_.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){w.splice(R,1);break t}}_=v.createElement(f),It(_,f,l),v.head.appendChild(_);break;case"meta":if(w=vE("meta","content",v).get(f+(l.content||""))){for(R=0;R<w.length;R++)if(_=w[R],_.getAttribute("content")===(l.content==null?null:""+l.content)&&_.getAttribute("name")===(l.name==null?null:l.name)&&_.getAttribute("property")===(l.property==null?null:l.property)&&_.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&_.getAttribute("charset")===(l.charSet==null?null:l.charSet)){w.splice(R,1);break t}}_=v.createElement(f),It(_,f,l),v.head.appendChild(_);break;default:throw Error(o(468,f))}_[xt]=i,bt(_),f=_}i.stateNode=f}else yE(v,i.type,i.stateNode);else i.stateNode=gE(v,f,i.memoizedProps);else _!==f?(_===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):_.count--,f===null?yE(v,i.type,i.stateNode):gE(v,f,i.memoizedProps)):f===null&&i.stateNode!==null&&rm(i,i.memoizedProps,l.memoizedProps)}break;case 27:jt(s,i),Xt(i),f&512&&(mt||l===null||vo(l,l.return)),l!==null&&f&4&&rm(i,i.memoizedProps,l.memoizedProps);break;case 5:if(jt(s,i),Xt(i),f&512&&(mt||l===null||vo(l,l.return)),i.flags&32){v=i.stateNode;try{fs(v,"")}catch(he){Ye(i,i.return,he)}}f&4&&i.stateNode!=null&&(v=i.memoizedProps,rm(i,v,l!==null?l.memoizedProps:v)),f&1024&&(lm=!0);break;case 6:if(jt(s,i),Xt(i),f&4){if(i.stateNode===null)throw Error(o(162));f=i.memoizedProps,l=i.stateNode;try{l.nodeValue=f}catch(he){Ye(i,i.return,he)}}break;case 3:if(of=null,v=Wn,Wn=tf(s.containerInfo),jt(s,i),Wn=v,Xt(i),f&4&&l!==null&&l.memoizedState.isDehydrated)try{Gs(s.containerInfo)}catch(he){Ye(i,i.return,he)}lm&&(lm=!1,yb(i));break;case 4:f=Wn,Wn=tf(i.stateNode.containerInfo),jt(s,i),Xt(i),Wn=f;break;case 12:jt(s,i),Xt(i);break;case 31:jt(s,i),Xt(i),f&4&&(f=i.updateQueue,f!==null&&(i.updateQueue=null,Hc(i,f)));break;case 13:jt(s,i),Xt(i),i.child.flags&8192&&i.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(Vc=At()),f&4&&(f=i.updateQueue,f!==null&&(i.updateQueue=null,Hc(i,f)));break;case 22:v=i.memoizedState!==null;var P=l!==null&&l.memoizedState!==null,G=jo,X=mt;if(jo=G||v,mt=X||P,jt(s,i),mt=X,jo=G,Xt(i),f&8192)e:for(s=i.stateNode,s._visibility=v?s._visibility&-2:s._visibility|1,v&&(l===null||P||jo||mt||Dr(i)),l=null,s=i;;){if(s.tag===5||s.tag===26){if(l===null){P=l=s;try{if(_=P.stateNode,v)w=_.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none";else{R=P.stateNode;var te=P.memoizedProps.style,z=te!=null&&te.hasOwnProperty("display")?te.display:null;R.style.display=z==null||typeof z=="boolean"?"":(""+z).trim()}}catch(he){Ye(P,P.return,he)}}}else if(s.tag===6){if(l===null){P=s;try{P.stateNode.nodeValue=v?"":P.memoizedProps}catch(he){Ye(P,P.return,he)}}}else if(s.tag===18){if(l===null){P=s;try{var K=P.stateNode;v?aE(K,!0):aE(P.stateNode,!1)}catch(he){Ye(P,P.return,he)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===i)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break e;for(;s.sibling===null;){if(s.return===null||s.return===i)break e;l===s&&(l=null),s=s.return}l===s&&(l=null),s.sibling.return=s.return,s=s.sibling}f&4&&(f=i.updateQueue,f!==null&&(l=f.retryQueue,l!==null&&(f.retryQueue=null,Hc(i,l))));break;case 19:jt(s,i),Xt(i),f&4&&(f=i.updateQueue,f!==null&&(i.updateQueue=null,Hc(i,f)));break;case 30:break;case 21:break;default:jt(s,i),Xt(i)}}function Xt(i){var s=i.flags;if(s&2){try{for(var l,f=i.return;f!==null;){if(ub(f)){l=f;break}f=f.return}if(l==null)throw Error(o(160));switch(l.tag){case 27:var v=l.stateNode,_=sm(i);$c(i,_,v);break;case 5:var w=l.stateNode;l.flags&32&&(fs(w,""),l.flags&=-33);var R=sm(i);$c(i,R,w);break;case 3:case 4:var P=l.stateNode.containerInfo,G=sm(i);am(i,G,P);break;default:throw Error(o(161))}}catch(X){Ye(i,i.return,X)}i.flags&=-3}s&4096&&(i.flags&=-4097)}function yb(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var s=i;yb(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),i=i.sibling}}function Wo(i,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)db(i,s.alternate,s),s=s.sibling}function Dr(i){for(i=i.child;i!==null;){var s=i;switch(s.tag){case 0:case 11:case 14:case 15:Li(4,s,s.return),Dr(s);break;case 1:vo(s,s.return);var l=s.stateNode;typeof l.componentWillUnmount=="function"&&ab(s,s.return,l),Dr(s);break;case 27:Cl(s.stateNode);case 26:case 5:vo(s,s.return),Dr(s);break;case 22:s.memoizedState===null&&Dr(s);break;case 30:Dr(s);break;default:Dr(s)}i=i.sibling}}function Qo(i,s,l){for(l=l&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var f=s.alternate,v=i,_=s,w=_.flags;switch(_.tag){case 0:case 11:case 15:Qo(v,_,l),pl(4,_);break;case 1:if(Qo(v,_,l),f=_,v=f.stateNode,typeof v.componentDidMount=="function")try{v.componentDidMount()}catch(G){Ye(f,f.return,G)}if(f=_,v=f.updateQueue,v!==null){var R=f.stateNode;try{var P=v.shared.hiddenCallbacks;if(P!==null)for(v.shared.hiddenCallbacks=null,v=0;v<P.length;v++)j0(P[v],R)}catch(G){Ye(f,f.return,G)}}l&&w&64&&sb(_),ml(_,_.return);break;case 27:cb(_);case 26:case 5:Qo(v,_,l),l&&f===null&&w&4&&lb(_),ml(_,_.return);break;case 12:Qo(v,_,l);break;case 31:Qo(v,_,l),l&&w&4&&mb(v,_);break;case 13:Qo(v,_,l),l&&w&4&&gb(v,_);break;case 22:_.memoizedState===null&&Qo(v,_,l),ml(_,_.return);break;case 30:break;default:Qo(v,_,l)}s=s.sibling}}function um(i,s){var l=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),i=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(i=s.memoizedState.cachePool.pool),i!==l&&(i!=null&&i.refCount++,l!=null&&tl(l))}function cm(i,s){i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&tl(i))}function Qn(i,s,l,f){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)_b(i,s,l,f),s=s.sibling}function _b(i,s,l,f){var v=s.flags;switch(s.tag){case 0:case 11:case 15:Qn(i,s,l,f),v&2048&&pl(9,s);break;case 1:Qn(i,s,l,f);break;case 3:Qn(i,s,l,f),v&2048&&(i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&tl(i)));break;case 12:if(v&2048){Qn(i,s,l,f),i=s.stateNode;try{var _=s.memoizedProps,w=_.id,R=_.onPostCommit;typeof R=="function"&&R(w,s.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(P){Ye(s,s.return,P)}}else Qn(i,s,l,f);break;case 31:Qn(i,s,l,f);break;case 13:Qn(i,s,l,f);break;case 23:break;case 22:_=s.stateNode,w=s.alternate,s.memoizedState!==null?_._visibility&2?Qn(i,s,l,f):gl(i,s):_._visibility&2?Qn(i,s,l,f):(_._visibility|=2,Is(i,s,l,f,(s.subtreeFlags&10256)!==0||!1)),v&2048&&um(w,s);break;case 24:Qn(i,s,l,f),v&2048&&cm(s.alternate,s);break;default:Qn(i,s,l,f)}}function Is(i,s,l,f,v){for(v=v&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var _=i,w=s,R=l,P=f,G=w.flags;switch(w.tag){case 0:case 11:case 15:Is(_,w,R,P,v),pl(8,w);break;case 23:break;case 22:var X=w.stateNode;w.memoizedState!==null?X._visibility&2?Is(_,w,R,P,v):gl(_,w):(X._visibility|=2,Is(_,w,R,P,v)),v&&G&2048&&um(w.alternate,w);break;case 24:Is(_,w,R,P,v),v&&G&2048&&cm(w.alternate,w);break;default:Is(_,w,R,P,v)}s=s.sibling}}function gl(i,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var l=i,f=s,v=f.flags;switch(f.tag){case 22:gl(l,f),v&2048&&um(f.alternate,f);break;case 24:gl(l,f),v&2048&&cm(f.alternate,f);break;default:gl(l,f)}s=s.sibling}}var vl=8192;function Ds(i,s,l){if(i.subtreeFlags&vl)for(i=i.child;i!==null;)Sb(i,s,l),i=i.sibling}function Sb(i,s,l){switch(i.tag){case 26:Ds(i,s,l),i.flags&vl&&i.memoizedState!==null&&IP(l,Wn,i.memoizedState,i.memoizedProps);break;case 5:Ds(i,s,l);break;case 3:case 4:var f=Wn;Wn=tf(i.stateNode.containerInfo),Ds(i,s,l),Wn=f;break;case 22:i.memoizedState===null&&(f=i.alternate,f!==null&&f.memoizedState!==null?(f=vl,vl=16777216,Ds(i,s,l),vl=f):Ds(i,s,l));break;default:Ds(i,s,l)}}function bb(i){var s=i.alternate;if(s!==null&&(i=s.child,i!==null)){s.child=null;do s=i.sibling,i.sibling=null,i=s;while(i!==null)}}function yl(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var l=0;l<s.length;l++){var f=s[l];Et=f,wb(f,i)}bb(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Eb(i),i=i.sibling}function Eb(i){switch(i.tag){case 0:case 11:case 15:yl(i),i.flags&2048&&Li(9,i,i.return);break;case 3:yl(i);break;case 12:yl(i);break;case 22:var s=i.stateNode;i.memoizedState!==null&&s._visibility&2&&(i.return===null||i.return.tag!==13)?(s._visibility&=-3,Gc(i)):yl(i);break;default:yl(i)}}function Gc(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var l=0;l<s.length;l++){var f=s[l];Et=f,wb(f,i)}bb(i)}for(i=i.child;i!==null;){switch(s=i,s.tag){case 0:case 11:case 15:Li(8,s,s.return),Gc(s);break;case 22:l=s.stateNode,l._visibility&2&&(l._visibility&=-3,Gc(s));break;default:Gc(s)}i=i.sibling}}function wb(i,s){for(;Et!==null;){var l=Et;switch(l.tag){case 0:case 11:case 15:Li(8,l,s);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var f=l.memoizedState.cachePool.pool;f!=null&&f.refCount++}break;case 24:tl(l.memoizedState.cache)}if(f=l.child,f!==null)f.return=l,Et=f;else e:for(l=i;Et!==null;){f=Et;var v=f.sibling,_=f.return;if(hb(f),f===l){Et=null;break e}if(v!==null){v.return=_,Et=v;break e}Et=_}}}var J1={getCacheForType:function(i){var s=Mt(dt),l=s.data.get(i);return l===void 0&&(l=i(),s.data.set(i,l)),l},cacheSignal:function(){return Mt(dt).controller.signal}},K1=typeof WeakMap=="function"?WeakMap:Map,Je=0,et=null,De=null,Pe=0,Ke=0,fn=null,Ui=!1,Os=!1,fm=!1,Zo=0,lt=0,Bi=0,Or=0,dm=0,dn=0,Ps=0,_l=null,Wt=null,hm=!1,Vc=0,Cb=0,zc=1/0,qc=null,Fi=null,vt=0,$i=null,ks=null,ei=0,pm=0,mm=null,Tb=null,Sl=0,gm=null;function hn(){return(Je&2)!==0&&Pe!==0?Pe&-Pe:F.T!==null?Em():H_()}function Ab(){if(dn===0)if((Pe&536870912)===0||Le){var i=Zu;Zu<<=1,(Zu&3932160)===0&&(Zu=262144),dn=i}else dn=536870912;return i=un.current,i!==null&&(i.flags|=32),dn}function Qt(i,s,l){(i===et&&(Ke===2||Ke===9)||i.cancelPendingCommit!==null)&&(Ls(i,0),Hi(i,Pe,dn,!1)),Ha(i,l),((Je&2)===0||i!==et)&&(i===et&&((Je&2)===0&&(Or|=l),lt===4&&Hi(i,Pe,dn,!1)),yo(i))}function xb(i,s,l){if((Je&6)!==0)throw Error(o(327));var f=!l&&(s&127)===0&&(s&i.expiredLanes)===0||$a(i,s),v=f?X1(i,s):ym(i,s,!0),_=f;do{if(v===0){Os&&!f&&Hi(i,s,0,!1);break}else{if(l=i.current.alternate,_&&!Y1(l)){v=ym(i,s,!1),_=!1;continue}if(v===2){if(_=s,i.errorRecoveryDisabledLanes&_)var w=0;else w=i.pendingLanes&-536870913,w=w!==0?w:w&536870912?536870912:0;if(w!==0){s=w;e:{var R=i;v=_l;var P=R.current.memoizedState.isDehydrated;if(P&&(Ls(R,w).flags|=256),w=ym(R,w,!1),w!==2){if(fm&&!P){R.errorRecoveryDisabledLanes|=_,Or|=_,v=4;break e}_=Wt,Wt=v,_!==null&&(Wt===null?Wt=_:Wt.push.apply(Wt,_))}v=w}if(_=!1,v!==2)continue}}if(v===1){Ls(i,0),Hi(i,s,0,!0);break}e:{switch(f=i,_=v,_){case 0:case 1:throw Error(o(345));case 4:if((s&4194048)!==s)break;case 6:Hi(f,s,dn,!Ui);break e;case 2:Wt=null;break;case 3:case 5:break;default:throw Error(o(329))}if((s&62914560)===s&&(v=Vc+300-At(),10<v)){if(Hi(f,s,dn,!Ui),tc(f,0,!0)!==0)break e;ei=s,f.timeoutHandle=iE(Rb.bind(null,f,l,Wt,qc,hm,s,dn,Or,Ps,Ui,_,"Throttled",-0,0),v);break e}Rb(f,l,Wt,qc,hm,s,dn,Or,Ps,Ui,_,null,-0,0)}}break}while(!0);yo(i)}function Rb(i,s,l,f,v,_,w,R,P,G,X,te,z,K){if(i.timeoutHandle=-1,te=s.subtreeFlags,te&8192||(te&16785408)===16785408){te={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Fo},Sb(s,_,te);var he=(_&62914560)===_?Vc-At():(_&4194048)===_?Cb-At():0;if(he=DP(te,he),he!==null){ei=_,i.cancelPendingCommit=he(Lb.bind(null,i,s,_,l,f,v,w,R,P,X,te,null,z,K)),Hi(i,_,w,!G);return}}Lb(i,s,_,l,f,v,w,R,P)}function Y1(i){for(var s=i;;){var l=s.tag;if((l===0||l===11||l===15)&&s.flags&16384&&(l=s.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var f=0;f<l.length;f++){var v=l[f],_=v.getSnapshot;v=v.value;try{if(!an(_(),v))return!1}catch{return!1}}if(l=s.child,s.subtreeFlags&16384&&l!==null)l.return=s,s=l;else{if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Hi(i,s,l,f){s&=~dm,s&=~Or,i.suspendedLanes|=s,i.pingedLanes&=~s,f&&(i.warmLanes|=s),f=i.expirationTimes;for(var v=s;0<v;){var _=31-sn(v),w=1<<_;f[_]=-1,v&=~w}l!==0&&B_(i,l,s)}function Jc(){return(Je&6)===0?(bl(0),!1):!0}function vm(){if(De!==null){if(Ke===0)var i=De.return;else i=De,Vo=Cr=null,Op(i),As=null,ol=0,i=De;for(;i!==null;)rb(i.alternate,i),i=i.return;De=null}}function Ls(i,s){var l=i.timeoutHandle;l!==-1&&(i.timeoutHandle=-1,pP(l)),l=i.cancelPendingCommit,l!==null&&(i.cancelPendingCommit=null,l()),ei=0,vm(),et=i,De=l=Ho(i.current,null),Pe=s,Ke=0,fn=null,Ui=!1,Os=$a(i,s),fm=!1,Ps=dn=dm=Or=Bi=lt=0,Wt=_l=null,hm=!1,(s&8)!==0&&(s|=s&32);var f=i.entangledLanes;if(f!==0)for(i=i.entanglements,f&=s;0<f;){var v=31-sn(f),_=1<<v;s|=i[v],f&=~_}return Zo=s,hc(),l}function Mb(i,s){Re=null,F.H=fl,s===Ts||s===bc?(s=q0(),Ke=3):s===bp?(s=q0(),Ke=4):Ke=s===jp?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,fn=s,De===null&&(lt=1,kc(i,Rn(s,i.current)))}function Nb(){var i=un.current;return i===null?!0:(Pe&4194048)===Pe?Dn===null:(Pe&62914560)===Pe||(Pe&536870912)!==0?i===Dn:!1}function Ib(){var i=F.H;return F.H=fl,i===null?fl:i}function Db(){var i=F.A;return F.A=J1,i}function Kc(){lt=4,Ui||(Pe&4194048)!==Pe&&un.current!==null||(Os=!0),(Bi&134217727)===0&&(Or&134217727)===0||et===null||Hi(et,Pe,dn,!1)}function ym(i,s,l){var f=Je;Je|=2;var v=Ib(),_=Db();(et!==i||Pe!==s)&&(qc=null,Ls(i,s)),s=!1;var w=lt;e:do try{if(Ke!==0&&De!==null){var R=De,P=fn;switch(Ke){case 8:vm(),w=6;break e;case 3:case 2:case 9:case 6:un.current===null&&(s=!0);var G=Ke;if(Ke=0,fn=null,Us(i,R,P,G),l&&Os){w=0;break e}break;default:G=Ke,Ke=0,fn=null,Us(i,R,P,G)}}j1(),w=lt;break}catch(X){Mb(i,X)}while(!0);return s&&i.shellSuspendCounter++,Vo=Cr=null,Je=f,F.H=v,F.A=_,De===null&&(et=null,Pe=0,hc()),w}function j1(){for(;De!==null;)Ob(De)}function X1(i,s){var l=Je;Je|=2;var f=Ib(),v=Db();et!==i||Pe!==s?(qc=null,zc=At()+500,Ls(i,s)):Os=$a(i,s);e:do try{if(Ke!==0&&De!==null){s=De;var _=fn;t:switch(Ke){case 1:Ke=0,fn=null,Us(i,s,_,1);break;case 2:case 9:if(V0(_)){Ke=0,fn=null,Pb(s);break}s=function(){Ke!==2&&Ke!==9||et!==i||(Ke=7),yo(i)},_.then(s,s);break e;case 3:Ke=7;break e;case 4:Ke=5;break e;case 7:V0(_)?(Ke=0,fn=null,Pb(s)):(Ke=0,fn=null,Us(i,s,_,7));break;case 5:var w=null;switch(De.tag){case 26:w=De.memoizedState;case 5:case 27:var R=De;if(w?_E(w):R.stateNode.complete){Ke=0,fn=null;var P=R.sibling;if(P!==null)De=P;else{var G=R.return;G!==null?(De=G,Yc(G)):De=null}break t}}Ke=0,fn=null,Us(i,s,_,5);break;case 6:Ke=0,fn=null,Us(i,s,_,6);break;case 8:vm(),lt=6;break e;default:throw Error(o(462))}}W1();break}catch(X){Mb(i,X)}while(!0);return Vo=Cr=null,F.H=f,F.A=v,Je=l,De!==null?0:(et=null,Pe=0,hc(),lt)}function W1(){for(;De!==null&&!ju();)Ob(De)}function Ob(i){var s=ob(i.alternate,i,Zo);i.memoizedProps=i.pendingProps,s===null?Yc(i):De=s}function Pb(i){var s=i,l=s.alternate;switch(s.tag){case 15:case 0:s=WS(l,s,s.pendingProps,s.type,void 0,Pe);break;case 11:s=WS(l,s,s.pendingProps,s.type.render,s.ref,Pe);break;case 5:Op(s);default:rb(l,s),s=De=D0(s,Zo),s=ob(l,s,Zo)}i.memoizedProps=i.pendingProps,s===null?Yc(i):De=s}function Us(i,s,l,f){Vo=Cr=null,Op(s),As=null,ol=0;var v=s.return;try{if(F1(i,v,s,l,Pe)){lt=1,kc(i,Rn(l,i.current)),De=null;return}}catch(_){if(v!==null)throw De=v,_;lt=1,kc(i,Rn(l,i.current)),De=null;return}s.flags&32768?(Le||f===1?i=!0:Os||(Pe&536870912)!==0?i=!1:(Ui=i=!0,(f===2||f===9||f===3||f===6)&&(f=un.current,f!==null&&f.tag===13&&(f.flags|=16384))),kb(s,i)):Yc(s)}function Yc(i){var s=i;do{if((s.flags&32768)!==0){kb(s,Ui);return}i=s.return;var l=G1(s.alternate,s,Zo);if(l!==null){De=l;return}if(s=s.sibling,s!==null){De=s;return}De=s=i}while(s!==null);lt===0&&(lt=5)}function kb(i,s){do{var l=V1(i.alternate,i);if(l!==null){l.flags&=32767,De=l;return}if(l=i.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!s&&(i=i.sibling,i!==null)){De=i;return}De=i=l}while(i!==null);lt=6,De=null}function Lb(i,s,l,f,v,_,w,R,P){i.cancelPendingCommit=null;do jc();while(vt!==0);if((Je&6)!==0)throw Error(o(327));if(s!==null){if(s===i.current)throw Error(o(177));if(_=s.lanes|s.childLanes,_|=sp,NO(i,l,_,w,R,P),i===et&&(De=et=null,Pe=0),ks=s,$i=i,ei=l,pm=_,mm=v,Tb=f,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,tP(mr,function(){return Hb(),null})):(i.callbackNode=null,i.callbackPriority=0),f=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||f){f=F.T,F.T=null,v=Q.p,Q.p=2,w=Je,Je|=4;try{z1(i,s,l)}finally{Je=w,Q.p=v,F.T=f}}vt=1,Ub(),Bb(),Fb()}}function Ub(){if(vt===1){vt=0;var i=$i,s=ks,l=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||l){l=F.T,F.T=null;var f=Q.p;Q.p=2;var v=Je;Je|=4;try{vb(s,i);var _=Nm,w=w0(i.containerInfo),R=_.focusedElem,P=_.selectionRange;if(w!==R&&R&&R.ownerDocument&&E0(R.ownerDocument.documentElement,R)){if(P!==null&&tp(R)){var G=P.start,X=P.end;if(X===void 0&&(X=G),"selectionStart"in R)R.selectionStart=G,R.selectionEnd=Math.min(X,R.value.length);else{var te=R.ownerDocument||document,z=te&&te.defaultView||window;if(z.getSelection){var K=z.getSelection(),he=R.textContent.length,Ee=Math.min(P.start,he),We=P.end===void 0?Ee:Math.min(P.end,he);!K.extend&&Ee>We&&(w=We,We=Ee,Ee=w);var $=b0(R,Ee),B=b0(R,We);if($&&B&&(K.rangeCount!==1||K.anchorNode!==$.node||K.anchorOffset!==$.offset||K.focusNode!==B.node||K.focusOffset!==B.offset)){var H=te.createRange();H.setStart($.node,$.offset),K.removeAllRanges(),Ee>We?(K.addRange(H),K.extend(B.node,B.offset)):(H.setEnd(B.node,B.offset),K.addRange(H))}}}}for(te=[],K=R;K=K.parentNode;)K.nodeType===1&&te.push({element:K,left:K.scrollLeft,top:K.scrollTop});for(typeof R.focus=="function"&&R.focus(),R=0;R<te.length;R++){var Z=te[R];Z.element.scrollLeft=Z.left,Z.element.scrollTop=Z.top}}lf=!!Mm,Nm=Mm=null}finally{Je=v,Q.p=f,F.T=l}}i.current=s,vt=2}}function Bb(){if(vt===2){vt=0;var i=$i,s=ks,l=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||l){l=F.T,F.T=null;var f=Q.p;Q.p=2;var v=Je;Je|=4;try{db(i,s.alternate,s)}finally{Je=v,Q.p=f,F.T=l}}vt=3}}function Fb(){if(vt===4||vt===3){vt=0,Xu();var i=$i,s=ks,l=ei,f=Tb;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?vt=5:(vt=0,ks=$i=null,$b(i,i.pendingLanes));var v=i.pendingLanes;if(v===0&&(Fi=null),Lh(l),s=s.stateNode,rn&&typeof rn.onCommitFiberRoot=="function")try{rn.onCommitFiberRoot(Fa,s,void 0,(s.current.flags&128)===128)}catch{}if(f!==null){s=F.T,v=Q.p,Q.p=2,F.T=null;try{for(var _=i.onRecoverableError,w=0;w<f.length;w++){var R=f[w];_(R.value,{componentStack:R.stack})}}finally{F.T=s,Q.p=v}}(ei&3)!==0&&jc(),yo(i),v=i.pendingLanes,(l&261930)!==0&&(v&42)!==0?i===gm?Sl++:(Sl=0,gm=i):Sl=0,bl(0)}}function $b(i,s){(i.pooledCacheLanes&=s)===0&&(s=i.pooledCache,s!=null&&(i.pooledCache=null,tl(s)))}function jc(){return Ub(),Bb(),Fb(),Hb()}function Hb(){if(vt!==5)return!1;var i=$i,s=pm;pm=0;var l=Lh(ei),f=F.T,v=Q.p;try{Q.p=32>l?32:l,F.T=null,l=mm,mm=null;var _=$i,w=ei;if(vt=0,ks=$i=null,ei=0,(Je&6)!==0)throw Error(o(331));var R=Je;if(Je|=4,Eb(_.current),_b(_,_.current,w,l),Je=R,bl(0,!1),rn&&typeof rn.onPostCommitFiberRoot=="function")try{rn.onPostCommitFiberRoot(Fa,_)}catch{}return!0}finally{Q.p=v,F.T=f,$b(i,s)}}function Gb(i,s,l){s=Rn(l,s),s=Yp(i.stateNode,s,2),i=Oi(i,s,2),i!==null&&(Ha(i,2),yo(i))}function Ye(i,s,l){if(i.tag===3)Gb(i,i,l);else for(;s!==null;){if(s.tag===3){Gb(s,i,l);break}else if(s.tag===1){var f=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(Fi===null||!Fi.has(f))){i=Rn(l,i),l=VS(2),f=Oi(s,l,2),f!==null&&(zS(l,f,s,i),Ha(f,2),yo(f));break}}s=s.return}}function _m(i,s,l){var f=i.pingCache;if(f===null){f=i.pingCache=new K1;var v=new Set;f.set(s,v)}else v=f.get(s),v===void 0&&(v=new Set,f.set(s,v));v.has(l)||(fm=!0,v.add(l),i=Q1.bind(null,i,s,l),s.then(i,i))}function Q1(i,s,l){var f=i.pingCache;f!==null&&f.delete(s),i.pingedLanes|=i.suspendedLanes&l,i.warmLanes&=~l,et===i&&(Pe&l)===l&&(lt===4||lt===3&&(Pe&62914560)===Pe&&300>At()-Vc?(Je&2)===0&&Ls(i,0):dm|=l,Ps===Pe&&(Ps=0)),yo(i)}function Vb(i,s){s===0&&(s=U_()),i=br(i,s),i!==null&&(Ha(i,s),yo(i))}function Z1(i){var s=i.memoizedState,l=0;s!==null&&(l=s.retryLane),Vb(i,l)}function eP(i,s){var l=0;switch(i.tag){case 31:case 13:var f=i.stateNode,v=i.memoizedState;v!==null&&(l=v.retryLane);break;case 19:f=i.stateNode;break;case 22:f=i.stateNode._retryCache;break;default:throw Error(o(314))}f!==null&&f.delete(s),Vb(i,l)}function tP(i,s){return jn(i,s)}var Xc=null,Bs=null,Sm=!1,Wc=!1,bm=!1,Gi=0;function yo(i){i!==Bs&&i.next===null&&(Bs===null?Xc=Bs=i:Bs=Bs.next=i),Wc=!0,Sm||(Sm=!0,oP())}function bl(i,s){if(!bm&&Wc){bm=!0;do for(var l=!1,f=Xc;f!==null;){if(i!==0){var v=f.pendingLanes;if(v===0)var _=0;else{var w=f.suspendedLanes,R=f.pingedLanes;_=(1<<31-sn(42|i)+1)-1,_&=v&~(w&~R),_=_&201326741?_&201326741|1:_?_|2:0}_!==0&&(l=!0,Kb(f,_))}else _=Pe,_=tc(f,f===et?_:0,f.cancelPendingCommit!==null||f.timeoutHandle!==-1),(_&3)===0||$a(f,_)||(l=!0,Kb(f,_));f=f.next}while(l);bm=!1}}function nP(){zb()}function zb(){Wc=Sm=!1;var i=0;Gi!==0&&hP()&&(i=Gi);for(var s=At(),l=null,f=Xc;f!==null;){var v=f.next,_=qb(f,s);_===0?(f.next=null,l===null?Xc=v:l.next=v,v===null&&(Bs=l)):(l=f,(i!==0||(_&3)!==0)&&(Wc=!0)),f=v}vt!==0&&vt!==5||bl(i),Gi!==0&&(Gi=0)}function qb(i,s){for(var l=i.suspendedLanes,f=i.pingedLanes,v=i.expirationTimes,_=i.pendingLanes&-62914561;0<_;){var w=31-sn(_),R=1<<w,P=v[w];P===-1?((R&l)===0||(R&f)!==0)&&(v[w]=MO(R,s)):P<=s&&(i.expiredLanes|=R),_&=~R}if(s=et,l=Pe,l=tc(i,i===s?l:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),f=i.callbackNode,l===0||i===s&&(Ke===2||Ke===9)||i.cancelPendingCommit!==null)return f!==null&&f!==null&&wi(f),i.callbackNode=null,i.callbackPriority=0;if((l&3)===0||$a(i,l)){if(s=l&-l,s===i.callbackPriority)return s;switch(f!==null&&wi(f),Lh(l)){case 2:case 8:l=Ba;break;case 32:l=mr;break;case 268435456:l=L_;break;default:l=mr}return f=Jb.bind(null,i),l=jn(l,f),i.callbackPriority=s,i.callbackNode=l,s}return f!==null&&f!==null&&wi(f),i.callbackPriority=2,i.callbackNode=null,2}function Jb(i,s){if(vt!==0&&vt!==5)return i.callbackNode=null,i.callbackPriority=0,null;var l=i.callbackNode;if(jc()&&i.callbackNode!==l)return null;var f=Pe;return f=tc(i,i===et?f:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),f===0?null:(xb(i,f,s),qb(i,At()),i.callbackNode!=null&&i.callbackNode===l?Jb.bind(null,i):null)}function Kb(i,s){if(jc())return null;xb(i,s,!0)}function oP(){mP(function(){(Je&6)!==0?jn(Ua,nP):zb()})}function Em(){if(Gi===0){var i=ws;i===0&&(i=Qu,Qu<<=1,(Qu&261888)===0&&(Qu=256)),Gi=i}return Gi}function Yb(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:rc(""+i)}function jb(i,s){var l=s.ownerDocument.createElement("input");return l.name=s.name,l.value=s.value,i.id&&l.setAttribute("form",i.id),s.parentNode.insertBefore(l,s),i=new FormData(i),l.parentNode.removeChild(l),i}function iP(i,s,l,f,v){if(s==="submit"&&l&&l.stateNode===v){var _=Yb((v[Jt]||null).action),w=f.submitter;w&&(s=(s=w[Jt]||null)?Yb(s.formAction):w.getAttribute("formAction"),s!==null&&(_=s,w=null));var R=new uc("action","action",null,f,v);i.push({event:R,listeners:[{instance:null,listener:function(){if(f.defaultPrevented){if(Gi!==0){var P=w?jb(v,w):new FormData(v);Gp(l,{pending:!0,data:P,method:v.method,action:_},null,P)}}else typeof _=="function"&&(R.preventDefault(),P=w?jb(v,w):new FormData(v),Gp(l,{pending:!0,data:P,method:v.method,action:_},_,P))},currentTarget:v}]})}}for(var wm=0;wm<rp.length;wm++){var Cm=rp[wm],rP=Cm.toLowerCase(),sP=Cm[0].toUpperCase()+Cm.slice(1);Xn(rP,"on"+sP)}Xn(A0,"onAnimationEnd"),Xn(x0,"onAnimationIteration"),Xn(R0,"onAnimationStart"),Xn("dblclick","onDoubleClick"),Xn("focusin","onFocus"),Xn("focusout","onBlur"),Xn(E1,"onTransitionRun"),Xn(w1,"onTransitionStart"),Xn(C1,"onTransitionCancel"),Xn(M0,"onTransitionEnd"),us("onMouseEnter",["mouseout","mouseover"]),us("onMouseLeave",["mouseout","mouseover"]),us("onPointerEnter",["pointerout","pointerover"]),us("onPointerLeave",["pointerout","pointerover"]),vr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),vr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),vr("onBeforeInput",["compositionend","keypress","textInput","paste"]),vr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),vr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),vr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var El="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),aP=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(El));function Xb(i,s){s=(s&4)!==0;for(var l=0;l<i.length;l++){var f=i[l],v=f.event;f=f.listeners;e:{var _=void 0;if(s)for(var w=f.length-1;0<=w;w--){var R=f[w],P=R.instance,G=R.currentTarget;if(R=R.listener,P!==_&&v.isPropagationStopped())break e;_=R,v.currentTarget=G;try{_(v)}catch(X){dc(X)}v.currentTarget=null,_=P}else for(w=0;w<f.length;w++){if(R=f[w],P=R.instance,G=R.currentTarget,R=R.listener,P!==_&&v.isPropagationStopped())break e;_=R,v.currentTarget=G;try{_(v)}catch(X){dc(X)}v.currentTarget=null,_=P}}}}function Oe(i,s){var l=s[Uh];l===void 0&&(l=s[Uh]=new Set);var f=i+"__bubble";l.has(f)||(Wb(s,i,2,!1),l.add(f))}function Tm(i,s,l){var f=0;s&&(f|=4),Wb(l,i,f,s)}var Qc="_reactListening"+Math.random().toString(36).slice(2);function Am(i){if(!i[Qc]){i[Qc]=!0,z_.forEach(function(l){l!=="selectionchange"&&(aP.has(l)||Tm(l,!1,i),Tm(l,!0,i))});var s=i.nodeType===9?i:i.ownerDocument;s===null||s[Qc]||(s[Qc]=!0,Tm("selectionchange",!1,s))}}function Wb(i,s,l,f){switch(AE(s)){case 2:var v=kP;break;case 8:v=LP;break;default:v=Hm}l=v.bind(null,s,l,i),v=void 0,!Jh||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(v=!0),f?v!==void 0?i.addEventListener(s,l,{capture:!0,passive:v}):i.addEventListener(s,l,!0):v!==void 0?i.addEventListener(s,l,{passive:v}):i.addEventListener(s,l,!1)}function xm(i,s,l,f,v){var _=f;if((s&1)===0&&(s&2)===0&&f!==null)e:for(;;){if(f===null)return;var w=f.tag;if(w===3||w===4){var R=f.stateNode.containerInfo;if(R===v)break;if(w===4)for(w=f.return;w!==null;){var P=w.tag;if((P===3||P===4)&&w.stateNode.containerInfo===v)return;w=w.return}for(;R!==null;){if(w=ss(R),w===null)return;if(P=w.tag,P===5||P===6||P===26||P===27){f=_=w;continue e}R=R.parentNode}}f=f.return}n0(function(){var G=_,X=zh(l),te=[];e:{var z=N0.get(i);if(z!==void 0){var K=uc,he=i;switch(i){case"keypress":if(ac(l)===0)break e;case"keydown":case"keyup":K=e1;break;case"focusin":he="focus",K=Xh;break;case"focusout":he="blur",K=Xh;break;case"beforeblur":case"afterblur":K=Xh;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":K=r0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":K=GO;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":K=o1;break;case A0:case x0:case R0:K=qO;break;case M0:K=r1;break;case"scroll":case"scrollend":K=$O;break;case"wheel":K=a1;break;case"copy":case"cut":case"paste":K=KO;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":K=a0;break;case"toggle":case"beforetoggle":K=u1}var Ee=(s&4)!==0,We=!Ee&&(i==="scroll"||i==="scrollend"),$=Ee?z!==null?z+"Capture":null:z;Ee=[];for(var B=G,H;B!==null;){var Z=B;if(H=Z.stateNode,Z=Z.tag,Z!==5&&Z!==26&&Z!==27||H===null||$===null||(Z=za(B,$),Z!=null&&Ee.push(wl(B,Z,H))),We)break;B=B.return}0<Ee.length&&(z=new K(z,he,null,l,X),te.push({event:z,listeners:Ee}))}}if((s&7)===0){e:{if(z=i==="mouseover"||i==="pointerover",K=i==="mouseout"||i==="pointerout",z&&l!==Vh&&(he=l.relatedTarget||l.fromElement)&&(ss(he)||he[rs]))break e;if((K||z)&&(z=X.window===X?X:(z=X.ownerDocument)?z.defaultView||z.parentWindow:window,K?(he=l.relatedTarget||l.toElement,K=G,he=he?ss(he):null,he!==null&&(We=a(he),Ee=he.tag,he!==We||Ee!==5&&Ee!==27&&Ee!==6)&&(he=null)):(K=null,he=G),K!==he)){if(Ee=r0,Z="onMouseLeave",$="onMouseEnter",B="mouse",(i==="pointerout"||i==="pointerover")&&(Ee=a0,Z="onPointerLeave",$="onPointerEnter",B="pointer"),We=K==null?z:Va(K),H=he==null?z:Va(he),z=new Ee(Z,B+"leave",K,l,X),z.target=We,z.relatedTarget=H,Z=null,ss(X)===G&&(Ee=new Ee($,B+"enter",he,l,X),Ee.target=H,Ee.relatedTarget=We,Z=Ee),We=Z,K&&he)t:{for(Ee=lP,$=K,B=he,H=0,Z=$;Z;Z=Ee(Z))H++;Z=0;for(var _e=B;_e;_e=Ee(_e))Z++;for(;0<H-Z;)$=Ee($),H--;for(;0<Z-H;)B=Ee(B),Z--;for(;H--;){if($===B||B!==null&&$===B.alternate){Ee=$;break t}$=Ee($),B=Ee(B)}Ee=null}else Ee=null;K!==null&&Qb(te,z,K,Ee,!1),he!==null&&We!==null&&Qb(te,We,he,Ee,!0)}}e:{if(z=G?Va(G):window,K=z.nodeName&&z.nodeName.toLowerCase(),K==="select"||K==="input"&&z.type==="file")var $e=m0;else if(h0(z))if(g0)$e=_1;else{$e=v1;var ge=g1}else K=z.nodeName,!K||K.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?G&&Gh(G.elementType)&&($e=m0):$e=y1;if($e&&($e=$e(i,G))){p0(te,$e,l,X);break e}ge&&ge(i,z,G),i==="focusout"&&G&&z.type==="number"&&G.memoizedProps.value!=null&&Hh(z,"number",z.value)}switch(ge=G?Va(G):window,i){case"focusin":(h0(ge)||ge.contentEditable==="true")&&(ms=ge,np=G,Qa=null);break;case"focusout":Qa=np=ms=null;break;case"mousedown":op=!0;break;case"contextmenu":case"mouseup":case"dragend":op=!1,C0(te,l,X);break;case"selectionchange":if(b1)break;case"keydown":case"keyup":C0(te,l,X)}var Me;if(Qh)e:{switch(i){case"compositionstart":var ke="onCompositionStart";break e;case"compositionend":ke="onCompositionEnd";break e;case"compositionupdate":ke="onCompositionUpdate";break e}ke=void 0}else ps?f0(i,l)&&(ke="onCompositionEnd"):i==="keydown"&&l.keyCode===229&&(ke="onCompositionStart");ke&&(l0&&l.locale!=="ko"&&(ps||ke!=="onCompositionStart"?ke==="onCompositionEnd"&&ps&&(Me=o0()):(Ai=X,Kh="value"in Ai?Ai.value:Ai.textContent,ps=!0)),ge=Zc(G,ke),0<ge.length&&(ke=new s0(ke,i,null,l,X),te.push({event:ke,listeners:ge}),Me?ke.data=Me:(Me=d0(l),Me!==null&&(ke.data=Me)))),(Me=f1?d1(i,l):h1(i,l))&&(ke=Zc(G,"onBeforeInput"),0<ke.length&&(ge=new s0("onBeforeInput","beforeinput",null,l,X),te.push({event:ge,listeners:ke}),ge.data=Me)),iP(te,i,G,l,X)}Xb(te,s)})}function wl(i,s,l){return{instance:i,listener:s,currentTarget:l}}function Zc(i,s){for(var l=s+"Capture",f=[];i!==null;){var v=i,_=v.stateNode;if(v=v.tag,v!==5&&v!==26&&v!==27||_===null||(v=za(i,l),v!=null&&f.unshift(wl(i,v,_)),v=za(i,s),v!=null&&f.push(wl(i,v,_))),i.tag===3)return f;i=i.return}return[]}function lP(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function Qb(i,s,l,f,v){for(var _=s._reactName,w=[];l!==null&&l!==f;){var R=l,P=R.alternate,G=R.stateNode;if(R=R.tag,P!==null&&P===f)break;R!==5&&R!==26&&R!==27||G===null||(P=G,v?(G=za(l,_),G!=null&&w.unshift(wl(l,G,P))):v||(G=za(l,_),G!=null&&w.push(wl(l,G,P)))),l=l.return}w.length!==0&&i.push({event:s,listeners:w})}var uP=/\r\n?/g,cP=/\u0000|\uFFFD/g;function Zb(i){return(typeof i=="string"?i:""+i).replace(uP,`
`).replace(cP,"")}function eE(i,s){return s=Zb(s),Zb(i)===s}function Xe(i,s,l,f,v,_){switch(l){case"children":typeof f=="string"?s==="body"||s==="textarea"&&f===""||fs(i,f):(typeof f=="number"||typeof f=="bigint")&&s!=="body"&&fs(i,""+f);break;case"className":oc(i,"class",f);break;case"tabIndex":oc(i,"tabindex",f);break;case"dir":case"role":case"viewBox":case"width":case"height":oc(i,l,f);break;case"style":e0(i,f,_);break;case"data":if(s!=="object"){oc(i,"data",f);break}case"src":case"href":if(f===""&&(s!=="a"||l!=="href")){i.removeAttribute(l);break}if(f==null||typeof f=="function"||typeof f=="symbol"||typeof f=="boolean"){i.removeAttribute(l);break}f=rc(""+f),i.setAttribute(l,f);break;case"action":case"formAction":if(typeof f=="function"){i.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof _=="function"&&(l==="formAction"?(s!=="input"&&Xe(i,s,"name",v.name,v,null),Xe(i,s,"formEncType",v.formEncType,v,null),Xe(i,s,"formMethod",v.formMethod,v,null),Xe(i,s,"formTarget",v.formTarget,v,null)):(Xe(i,s,"encType",v.encType,v,null),Xe(i,s,"method",v.method,v,null),Xe(i,s,"target",v.target,v,null)));if(f==null||typeof f=="symbol"||typeof f=="boolean"){i.removeAttribute(l);break}f=rc(""+f),i.setAttribute(l,f);break;case"onClick":f!=null&&(i.onclick=Fo);break;case"onScroll":f!=null&&Oe("scroll",i);break;case"onScrollEnd":f!=null&&Oe("scrollend",i);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(o(61));if(l=f.__html,l!=null){if(v.children!=null)throw Error(o(60));i.innerHTML=l}}break;case"multiple":i.multiple=f&&typeof f!="function"&&typeof f!="symbol";break;case"muted":i.muted=f&&typeof f!="function"&&typeof f!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(f==null||typeof f=="function"||typeof f=="boolean"||typeof f=="symbol"){i.removeAttribute("xlink:href");break}l=rc(""+f),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":f!=null&&typeof f!="function"&&typeof f!="symbol"?i.setAttribute(l,""+f):i.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":f&&typeof f!="function"&&typeof f!="symbol"?i.setAttribute(l,""):i.removeAttribute(l);break;case"capture":case"download":f===!0?i.setAttribute(l,""):f!==!1&&f!=null&&typeof f!="function"&&typeof f!="symbol"?i.setAttribute(l,f):i.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":f!=null&&typeof f!="function"&&typeof f!="symbol"&&!isNaN(f)&&1<=f?i.setAttribute(l,f):i.removeAttribute(l);break;case"rowSpan":case"start":f==null||typeof f=="function"||typeof f=="symbol"||isNaN(f)?i.removeAttribute(l):i.setAttribute(l,f);break;case"popover":Oe("beforetoggle",i),Oe("toggle",i),nc(i,"popover",f);break;case"xlinkActuate":Bo(i,"http://www.w3.org/1999/xlink","xlink:actuate",f);break;case"xlinkArcrole":Bo(i,"http://www.w3.org/1999/xlink","xlink:arcrole",f);break;case"xlinkRole":Bo(i,"http://www.w3.org/1999/xlink","xlink:role",f);break;case"xlinkShow":Bo(i,"http://www.w3.org/1999/xlink","xlink:show",f);break;case"xlinkTitle":Bo(i,"http://www.w3.org/1999/xlink","xlink:title",f);break;case"xlinkType":Bo(i,"http://www.w3.org/1999/xlink","xlink:type",f);break;case"xmlBase":Bo(i,"http://www.w3.org/XML/1998/namespace","xml:base",f);break;case"xmlLang":Bo(i,"http://www.w3.org/XML/1998/namespace","xml:lang",f);break;case"xmlSpace":Bo(i,"http://www.w3.org/XML/1998/namespace","xml:space",f);break;case"is":nc(i,"is",f);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=BO.get(l)||l,nc(i,l,f))}}function Rm(i,s,l,f,v,_){switch(l){case"style":e0(i,f,_);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(o(61));if(l=f.__html,l!=null){if(v.children!=null)throw Error(o(60));i.innerHTML=l}}break;case"children":typeof f=="string"?fs(i,f):(typeof f=="number"||typeof f=="bigint")&&fs(i,""+f);break;case"onScroll":f!=null&&Oe("scroll",i);break;case"onScrollEnd":f!=null&&Oe("scrollend",i);break;case"onClick":f!=null&&(i.onclick=Fo);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!q_.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(v=l.endsWith("Capture"),s=l.slice(2,v?l.length-7:void 0),_=i[Jt]||null,_=_!=null?_[l]:null,typeof _=="function"&&i.removeEventListener(s,_,v),typeof f=="function")){typeof _!="function"&&_!==null&&(l in i?i[l]=null:i.hasAttribute(l)&&i.removeAttribute(l)),i.addEventListener(s,f,v);break e}l in i?i[l]=f:f===!0?i.setAttribute(l,""):nc(i,l,f)}}}function It(i,s,l){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Oe("error",i),Oe("load",i);var f=!1,v=!1,_;for(_ in l)if(l.hasOwnProperty(_)){var w=l[_];if(w!=null)switch(_){case"src":f=!0;break;case"srcSet":v=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(o(137,s));default:Xe(i,s,_,w,l,null)}}v&&Xe(i,s,"srcSet",l.srcSet,l,null),f&&Xe(i,s,"src",l.src,l,null);return;case"input":Oe("invalid",i);var R=_=w=v=null,P=null,G=null;for(f in l)if(l.hasOwnProperty(f)){var X=l[f];if(X!=null)switch(f){case"name":v=X;break;case"type":w=X;break;case"checked":P=X;break;case"defaultChecked":G=X;break;case"value":_=X;break;case"defaultValue":R=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(o(137,s));break;default:Xe(i,s,f,X,l,null)}}X_(i,_,R,P,G,w,v,!1);return;case"select":Oe("invalid",i),f=w=_=null;for(v in l)if(l.hasOwnProperty(v)&&(R=l[v],R!=null))switch(v){case"value":_=R;break;case"defaultValue":w=R;break;case"multiple":f=R;default:Xe(i,s,v,R,l,null)}s=_,l=w,i.multiple=!!f,s!=null?cs(i,!!f,s,!1):l!=null&&cs(i,!!f,l,!0);return;case"textarea":Oe("invalid",i),_=v=f=null;for(w in l)if(l.hasOwnProperty(w)&&(R=l[w],R!=null))switch(w){case"value":f=R;break;case"defaultValue":v=R;break;case"children":_=R;break;case"dangerouslySetInnerHTML":if(R!=null)throw Error(o(91));break;default:Xe(i,s,w,R,l,null)}Q_(i,f,v,_);return;case"option":for(P in l)if(l.hasOwnProperty(P)&&(f=l[P],f!=null))switch(P){case"selected":i.selected=f&&typeof f!="function"&&typeof f!="symbol";break;default:Xe(i,s,P,f,l,null)}return;case"dialog":Oe("beforetoggle",i),Oe("toggle",i),Oe("cancel",i),Oe("close",i);break;case"iframe":case"object":Oe("load",i);break;case"video":case"audio":for(f=0;f<El.length;f++)Oe(El[f],i);break;case"image":Oe("error",i),Oe("load",i);break;case"details":Oe("toggle",i);break;case"embed":case"source":case"link":Oe("error",i),Oe("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(G in l)if(l.hasOwnProperty(G)&&(f=l[G],f!=null))switch(G){case"children":case"dangerouslySetInnerHTML":throw Error(o(137,s));default:Xe(i,s,G,f,l,null)}return;default:if(Gh(s)){for(X in l)l.hasOwnProperty(X)&&(f=l[X],f!==void 0&&Rm(i,s,X,f,l,void 0));return}}for(R in l)l.hasOwnProperty(R)&&(f=l[R],f!=null&&Xe(i,s,R,f,l,null))}function fP(i,s,l,f){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var v=null,_=null,w=null,R=null,P=null,G=null,X=null;for(K in l){var te=l[K];if(l.hasOwnProperty(K)&&te!=null)switch(K){case"checked":break;case"value":break;case"defaultValue":P=te;default:f.hasOwnProperty(K)||Xe(i,s,K,null,f,te)}}for(var z in f){var K=f[z];if(te=l[z],f.hasOwnProperty(z)&&(K!=null||te!=null))switch(z){case"type":_=K;break;case"name":v=K;break;case"checked":G=K;break;case"defaultChecked":X=K;break;case"value":w=K;break;case"defaultValue":R=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(o(137,s));break;default:K!==te&&Xe(i,s,z,K,f,te)}}$h(i,w,R,P,G,X,_,v);return;case"select":K=w=R=z=null;for(_ in l)if(P=l[_],l.hasOwnProperty(_)&&P!=null)switch(_){case"value":break;case"multiple":K=P;default:f.hasOwnProperty(_)||Xe(i,s,_,null,f,P)}for(v in f)if(_=f[v],P=l[v],f.hasOwnProperty(v)&&(_!=null||P!=null))switch(v){case"value":z=_;break;case"defaultValue":R=_;break;case"multiple":w=_;default:_!==P&&Xe(i,s,v,_,f,P)}s=R,l=w,f=K,z!=null?cs(i,!!l,z,!1):!!f!=!!l&&(s!=null?cs(i,!!l,s,!0):cs(i,!!l,l?[]:"",!1));return;case"textarea":K=z=null;for(R in l)if(v=l[R],l.hasOwnProperty(R)&&v!=null&&!f.hasOwnProperty(R))switch(R){case"value":break;case"children":break;default:Xe(i,s,R,null,f,v)}for(w in f)if(v=f[w],_=l[w],f.hasOwnProperty(w)&&(v!=null||_!=null))switch(w){case"value":z=v;break;case"defaultValue":K=v;break;case"children":break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(o(91));break;default:v!==_&&Xe(i,s,w,v,f,_)}W_(i,z,K);return;case"option":for(var he in l)if(z=l[he],l.hasOwnProperty(he)&&z!=null&&!f.hasOwnProperty(he))switch(he){case"selected":i.selected=!1;break;default:Xe(i,s,he,null,f,z)}for(P in f)if(z=f[P],K=l[P],f.hasOwnProperty(P)&&z!==K&&(z!=null||K!=null))switch(P){case"selected":i.selected=z&&typeof z!="function"&&typeof z!="symbol";break;default:Xe(i,s,P,z,f,K)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ee in l)z=l[Ee],l.hasOwnProperty(Ee)&&z!=null&&!f.hasOwnProperty(Ee)&&Xe(i,s,Ee,null,f,z);for(G in f)if(z=f[G],K=l[G],f.hasOwnProperty(G)&&z!==K&&(z!=null||K!=null))switch(G){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(o(137,s));break;default:Xe(i,s,G,z,f,K)}return;default:if(Gh(s)){for(var We in l)z=l[We],l.hasOwnProperty(We)&&z!==void 0&&!f.hasOwnProperty(We)&&Rm(i,s,We,void 0,f,z);for(X in f)z=f[X],K=l[X],!f.hasOwnProperty(X)||z===K||z===void 0&&K===void 0||Rm(i,s,X,z,f,K);return}}for(var $ in l)z=l[$],l.hasOwnProperty($)&&z!=null&&!f.hasOwnProperty($)&&Xe(i,s,$,null,f,z);for(te in f)z=f[te],K=l[te],!f.hasOwnProperty(te)||z===K||z==null&&K==null||Xe(i,s,te,z,f,K)}function tE(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function dP(){if(typeof performance.getEntriesByType=="function"){for(var i=0,s=0,l=performance.getEntriesByType("resource"),f=0;f<l.length;f++){var v=l[f],_=v.transferSize,w=v.initiatorType,R=v.duration;if(_&&R&&tE(w)){for(w=0,R=v.responseEnd,f+=1;f<l.length;f++){var P=l[f],G=P.startTime;if(G>R)break;var X=P.transferSize,te=P.initiatorType;X&&tE(te)&&(P=P.responseEnd,w+=X*(P<R?1:(R-G)/(P-G)))}if(--f,s+=8*(_+w)/(v.duration/1e3),i++,10<i)break}}if(0<i)return s/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var Mm=null,Nm=null;function ef(i){return i.nodeType===9?i:i.ownerDocument}function nE(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function oE(i,s){if(i===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&s==="foreignObject"?0:i}function Im(i,s){return i==="textarea"||i==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Dm=null;function hP(){var i=window.event;return i&&i.type==="popstate"?i===Dm?!1:(Dm=i,!0):(Dm=null,!1)}var iE=typeof setTimeout=="function"?setTimeout:void 0,pP=typeof clearTimeout=="function"?clearTimeout:void 0,rE=typeof Promise=="function"?Promise:void 0,mP=typeof queueMicrotask=="function"?queueMicrotask:typeof rE<"u"?function(i){return rE.resolve(null).then(i).catch(gP)}:iE;function gP(i){setTimeout(function(){throw i})}function Vi(i){return i==="head"}function sE(i,s){var l=s,f=0;do{var v=l.nextSibling;if(i.removeChild(l),v&&v.nodeType===8)if(l=v.data,l==="/$"||l==="/&"){if(f===0){i.removeChild(v),Gs(s);return}f--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")f++;else if(l==="html")Cl(i.ownerDocument.documentElement);else if(l==="head"){l=i.ownerDocument.head,Cl(l);for(var _=l.firstChild;_;){var w=_.nextSibling,R=_.nodeName;_[Ga]||R==="SCRIPT"||R==="STYLE"||R==="LINK"&&_.rel.toLowerCase()==="stylesheet"||l.removeChild(_),_=w}}else l==="body"&&Cl(i.ownerDocument.body);l=v}while(l);Gs(s)}function aE(i,s){var l=i;i=0;do{var f=l.nextSibling;if(l.nodeType===1?s?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(s?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),f&&f.nodeType===8)if(l=f.data,l==="/$"){if(i===0)break;i--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||i++;l=f}while(l)}function Om(i){var s=i.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var l=s;switch(s=s.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":Om(l),Bh(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}i.removeChild(l)}}function vP(i,s,l,f){for(;i.nodeType===1;){var v=l;if(i.nodeName.toLowerCase()!==s.toLowerCase()){if(!f&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(f){if(!i[Ga])switch(s){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(_=i.getAttribute("rel"),_==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(_!==v.rel||i.getAttribute("href")!==(v.href==null||v.href===""?null:v.href)||i.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin)||i.getAttribute("title")!==(v.title==null?null:v.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(_=i.getAttribute("src"),(_!==(v.src==null?null:v.src)||i.getAttribute("type")!==(v.type==null?null:v.type)||i.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin))&&_&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(s==="input"&&i.type==="hidden"){var _=v.name==null?null:""+v.name;if(v.type==="hidden"&&i.getAttribute("name")===_)return i}else return i;if(i=On(i.nextSibling),i===null)break}return null}function yP(i,s,l){if(s==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!l||(i=On(i.nextSibling),i===null))return null;return i}function lE(i,s){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!s||(i=On(i.nextSibling),i===null))return null;return i}function Pm(i){return i.data==="$?"||i.data==="$~"}function km(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function _P(i,s){var l=i.ownerDocument;if(i.data==="$~")i._reactRetry=s;else if(i.data!=="$?"||l.readyState!=="loading")s();else{var f=function(){s(),l.removeEventListener("DOMContentLoaded",f)};l.addEventListener("DOMContentLoaded",f),i._reactRetry=f}}function On(i){for(;i!=null;i=i.nextSibling){var s=i.nodeType;if(s===1||s===3)break;if(s===8){if(s=i.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return i}var Lm=null;function uE(i){i=i.nextSibling;for(var s=0;i;){if(i.nodeType===8){var l=i.data;if(l==="/$"||l==="/&"){if(s===0)return On(i.nextSibling);s--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||s++}i=i.nextSibling}return null}function cE(i){i=i.previousSibling;for(var s=0;i;){if(i.nodeType===8){var l=i.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(s===0)return i;s--}else l!=="/$"&&l!=="/&"||s++}i=i.previousSibling}return null}function fE(i,s,l){switch(s=ef(l),i){case"html":if(i=s.documentElement,!i)throw Error(o(452));return i;case"head":if(i=s.head,!i)throw Error(o(453));return i;case"body":if(i=s.body,!i)throw Error(o(454));return i;default:throw Error(o(451))}}function Cl(i){for(var s=i.attributes;s.length;)i.removeAttributeNode(s[0]);Bh(i)}var Pn=new Map,dE=new Set;function tf(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var ti=Q.d;Q.d={f:SP,r:bP,D:EP,C:wP,L:CP,m:TP,X:xP,S:AP,M:RP};function SP(){var i=ti.f(),s=Jc();return i||s}function bP(i){var s=as(i);s!==null&&s.tag===5&&s.type==="form"?MS(s):ti.r(i)}var Fs=typeof document>"u"?null:document;function hE(i,s,l){var f=Fs;if(f&&typeof s=="string"&&s){var v=An(s);v='link[rel="'+i+'"][href="'+v+'"]',typeof l=="string"&&(v+='[crossorigin="'+l+'"]'),dE.has(v)||(dE.add(v),i={rel:i,crossOrigin:l,href:s},f.querySelector(v)===null&&(s=f.createElement("link"),It(s,"link",i),bt(s),f.head.appendChild(s)))}}function EP(i){ti.D(i),hE("dns-prefetch",i,null)}function wP(i,s){ti.C(i,s),hE("preconnect",i,s)}function CP(i,s,l){ti.L(i,s,l);var f=Fs;if(f&&i&&s){var v='link[rel="preload"][as="'+An(s)+'"]';s==="image"&&l&&l.imageSrcSet?(v+='[imagesrcset="'+An(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(v+='[imagesizes="'+An(l.imageSizes)+'"]')):v+='[href="'+An(i)+'"]';var _=v;switch(s){case"style":_=$s(i);break;case"script":_=Hs(i)}Pn.has(_)||(i=y({rel:"preload",href:s==="image"&&l&&l.imageSrcSet?void 0:i,as:s},l),Pn.set(_,i),f.querySelector(v)!==null||s==="style"&&f.querySelector(Tl(_))||s==="script"&&f.querySelector(Al(_))||(s=f.createElement("link"),It(s,"link",i),bt(s),f.head.appendChild(s)))}}function TP(i,s){ti.m(i,s);var l=Fs;if(l&&i){var f=s&&typeof s.as=="string"?s.as:"script",v='link[rel="modulepreload"][as="'+An(f)+'"][href="'+An(i)+'"]',_=v;switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":_=Hs(i)}if(!Pn.has(_)&&(i=y({rel:"modulepreload",href:i},s),Pn.set(_,i),l.querySelector(v)===null)){switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(Al(_)))return}f=l.createElement("link"),It(f,"link",i),bt(f),l.head.appendChild(f)}}}function AP(i,s,l){ti.S(i,s,l);var f=Fs;if(f&&i){var v=ls(f).hoistableStyles,_=$s(i);s=s||"default";var w=v.get(_);if(!w){var R={loading:0,preload:null};if(w=f.querySelector(Tl(_)))R.loading=5;else{i=y({rel:"stylesheet",href:i,"data-precedence":s},l),(l=Pn.get(_))&&Um(i,l);var P=w=f.createElement("link");bt(P),It(P,"link",i),P._p=new Promise(function(G,X){P.onload=G,P.onerror=X}),P.addEventListener("load",function(){R.loading|=1}),P.addEventListener("error",function(){R.loading|=2}),R.loading|=4,nf(w,s,f)}w={type:"stylesheet",instance:w,count:1,state:R},v.set(_,w)}}}function xP(i,s){ti.X(i,s);var l=Fs;if(l&&i){var f=ls(l).hoistableScripts,v=Hs(i),_=f.get(v);_||(_=l.querySelector(Al(v)),_||(i=y({src:i,async:!0},s),(s=Pn.get(v))&&Bm(i,s),_=l.createElement("script"),bt(_),It(_,"link",i),l.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},f.set(v,_))}}function RP(i,s){ti.M(i,s);var l=Fs;if(l&&i){var f=ls(l).hoistableScripts,v=Hs(i),_=f.get(v);_||(_=l.querySelector(Al(v)),_||(i=y({src:i,async:!0,type:"module"},s),(s=Pn.get(v))&&Bm(i,s),_=l.createElement("script"),bt(_),It(_,"link",i),l.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},f.set(v,_))}}function pE(i,s,l,f){var v=(v=be.current)?tf(v):null;if(!v)throw Error(o(446));switch(i){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(s=$s(l.href),l=ls(v).hoistableStyles,f=l.get(s),f||(f={type:"style",instance:null,count:0,state:null},l.set(s,f)),f):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){i=$s(l.href);var _=ls(v).hoistableStyles,w=_.get(i);if(w||(v=v.ownerDocument||v,w={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},_.set(i,w),(_=v.querySelector(Tl(i)))&&!_._p&&(w.instance=_,w.state.loading=5),Pn.has(i)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},Pn.set(i,l),_||MP(v,i,l,w.state))),s&&f===null)throw Error(o(528,""));return w}if(s&&f!==null)throw Error(o(529,""));return null;case"script":return s=l.async,l=l.src,typeof l=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Hs(l),l=ls(v).hoistableScripts,f=l.get(s),f||(f={type:"script",instance:null,count:0,state:null},l.set(s,f)),f):{type:"void",instance:null,count:0,state:null};default:throw Error(o(444,i))}}function $s(i){return'href="'+An(i)+'"'}function Tl(i){return'link[rel="stylesheet"]['+i+"]"}function mE(i){return y({},i,{"data-precedence":i.precedence,precedence:null})}function MP(i,s,l,f){i.querySelector('link[rel="preload"][as="style"]['+s+"]")?f.loading=1:(s=i.createElement("link"),f.preload=s,s.addEventListener("load",function(){return f.loading|=1}),s.addEventListener("error",function(){return f.loading|=2}),It(s,"link",l),bt(s),i.head.appendChild(s))}function Hs(i){return'[src="'+An(i)+'"]'}function Al(i){return"script[async]"+i}function gE(i,s,l){if(s.count++,s.instance===null)switch(s.type){case"style":var f=i.querySelector('style[data-href~="'+An(l.href)+'"]');if(f)return s.instance=f,bt(f),f;var v=y({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return f=(i.ownerDocument||i).createElement("style"),bt(f),It(f,"style",v),nf(f,l.precedence,i),s.instance=f;case"stylesheet":v=$s(l.href);var _=i.querySelector(Tl(v));if(_)return s.state.loading|=4,s.instance=_,bt(_),_;f=mE(l),(v=Pn.get(v))&&Um(f,v),_=(i.ownerDocument||i).createElement("link"),bt(_);var w=_;return w._p=new Promise(function(R,P){w.onload=R,w.onerror=P}),It(_,"link",f),s.state.loading|=4,nf(_,l.precedence,i),s.instance=_;case"script":return _=Hs(l.src),(v=i.querySelector(Al(_)))?(s.instance=v,bt(v),v):(f=l,(v=Pn.get(_))&&(f=y({},l),Bm(f,v)),i=i.ownerDocument||i,v=i.createElement("script"),bt(v),It(v,"link",f),i.head.appendChild(v),s.instance=v);case"void":return null;default:throw Error(o(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(f=s.instance,s.state.loading|=4,nf(f,l.precedence,i));return s.instance}function nf(i,s,l){for(var f=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),v=f.length?f[f.length-1]:null,_=v,w=0;w<f.length;w++){var R=f[w];if(R.dataset.precedence===s)_=R;else if(_!==v)break}_?_.parentNode.insertBefore(i,_.nextSibling):(s=l.nodeType===9?l.head:l,s.insertBefore(i,s.firstChild))}function Um(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.title==null&&(i.title=s.title)}function Bm(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.integrity==null&&(i.integrity=s.integrity)}var of=null;function vE(i,s,l){if(of===null){var f=new Map,v=of=new Map;v.set(l,f)}else v=of,f=v.get(l),f||(f=new Map,v.set(l,f));if(f.has(i))return f;for(f.set(i,null),l=l.getElementsByTagName(i),v=0;v<l.length;v++){var _=l[v];if(!(_[Ga]||_[xt]||i==="link"&&_.getAttribute("rel")==="stylesheet")&&_.namespaceURI!=="http://www.w3.org/2000/svg"){var w=_.getAttribute(s)||"";w=i+w;var R=f.get(w);R?R.push(_):f.set(w,[_])}}return f}function yE(i,s,l){i=i.ownerDocument||i,i.head.insertBefore(l,s==="title"?i.querySelector("head > title"):null)}function NP(i,s,l){if(l===1||s.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return i=s.disabled,typeof s.precedence=="string"&&i==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function _E(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function IP(i,s,l,f){if(l.type==="stylesheet"&&(typeof f.media!="string"||matchMedia(f.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var v=$s(f.href),_=s.querySelector(Tl(v));if(_){s=_._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(i.count++,i=rf.bind(i),s.then(i,i)),l.state.loading|=4,l.instance=_,bt(_);return}_=s.ownerDocument||s,f=mE(f),(v=Pn.get(v))&&Um(f,v),_=_.createElement("link"),bt(_);var w=_;w._p=new Promise(function(R,P){w.onload=R,w.onerror=P}),It(_,"link",f),l.instance=_}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(l,s),(s=l.state.preload)&&(l.state.loading&3)===0&&(i.count++,l=rf.bind(i),s.addEventListener("load",l),s.addEventListener("error",l))}}var Fm=0;function DP(i,s){return i.stylesheets&&i.count===0&&af(i,i.stylesheets),0<i.count||0<i.imgCount?function(l){var f=setTimeout(function(){if(i.stylesheets&&af(i,i.stylesheets),i.unsuspend){var _=i.unsuspend;i.unsuspend=null,_()}},6e4+s);0<i.imgBytes&&Fm===0&&(Fm=62500*dP());var v=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&af(i,i.stylesheets),i.unsuspend)){var _=i.unsuspend;i.unsuspend=null,_()}},(i.imgBytes>Fm?50:800)+s);return i.unsuspend=l,function(){i.unsuspend=null,clearTimeout(f),clearTimeout(v)}}:null}function rf(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)af(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var sf=null;function af(i,s){i.stylesheets=null,i.unsuspend!==null&&(i.count++,sf=new Map,s.forEach(OP,i),sf=null,rf.call(i))}function OP(i,s){if(!(s.state.loading&4)){var l=sf.get(i);if(l)var f=l.get(null);else{l=new Map,sf.set(i,l);for(var v=i.querySelectorAll("link[data-precedence],style[data-precedence]"),_=0;_<v.length;_++){var w=v[_];(w.nodeName==="LINK"||w.getAttribute("media")!=="not all")&&(l.set(w.dataset.precedence,w),f=w)}f&&l.set(null,f)}v=s.instance,w=v.getAttribute("data-precedence"),_=l.get(w)||f,_===f&&l.set(null,v),l.set(w,v),this.count++,f=rf.bind(this),v.addEventListener("load",f),v.addEventListener("error",f),_?_.parentNode.insertBefore(v,_.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(v,i.firstChild)),s.state.loading|=4}}var xl={$$typeof:N,Provider:null,Consumer:null,_currentValue:ee,_currentValue2:ee,_threadCount:0};function PP(i,s,l,f,v,_,w,R,P){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ph(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ph(0),this.hiddenUpdates=Ph(null),this.identifierPrefix=f,this.onUncaughtError=v,this.onCaughtError=_,this.onRecoverableError=w,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=P,this.incompleteTransitions=new Map}function SE(i,s,l,f,v,_,w,R,P,G,X,te){return i=new PP(i,s,l,w,P,G,X,te,R),s=1,_===!0&&(s|=24),_=ln(3,null,null,s),i.current=_,_.stateNode=i,s=yp(),s.refCount++,i.pooledCache=s,s.refCount++,_.memoizedState={element:f,isDehydrated:l,cache:s},Ep(_),i}function bE(i){return i?(i=ys,i):ys}function EE(i,s,l,f,v,_){v=bE(v),f.context===null?f.context=v:f.pendingContext=v,f=Di(s),f.payload={element:l},_=_===void 0?null:_,_!==null&&(f.callback=_),l=Oi(i,f,s),l!==null&&(Qt(l,i,s),rl(l,i,s))}function wE(i,s){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var l=i.retryLane;i.retryLane=l!==0&&l<s?l:s}}function $m(i,s){wE(i,s),(i=i.alternate)&&wE(i,s)}function CE(i){if(i.tag===13||i.tag===31){var s=br(i,67108864);s!==null&&Qt(s,i,67108864),$m(i,67108864)}}function TE(i){if(i.tag===13||i.tag===31){var s=hn();s=kh(s);var l=br(i,s);l!==null&&Qt(l,i,s),$m(i,s)}}var lf=!0;function kP(i,s,l,f){var v=F.T;F.T=null;var _=Q.p;try{Q.p=2,Hm(i,s,l,f)}finally{Q.p=_,F.T=v}}function LP(i,s,l,f){var v=F.T;F.T=null;var _=Q.p;try{Q.p=8,Hm(i,s,l,f)}finally{Q.p=_,F.T=v}}function Hm(i,s,l,f){if(lf){var v=Gm(f);if(v===null)xm(i,s,f,uf,l),xE(i,f);else if(BP(v,i,s,l,f))f.stopPropagation();else if(xE(i,f),s&4&&-1<UP.indexOf(i)){for(;v!==null;){var _=as(v);if(_!==null)switch(_.tag){case 3:if(_=_.stateNode,_.current.memoizedState.isDehydrated){var w=gr(_.pendingLanes);if(w!==0){var R=_;for(R.pendingLanes|=2,R.entangledLanes|=2;w;){var P=1<<31-sn(w);R.entanglements[1]|=P,w&=~P}yo(_),(Je&6)===0&&(zc=At()+500,bl(0))}}break;case 31:case 13:R=br(_,2),R!==null&&Qt(R,_,2),Jc(),$m(_,2)}if(_=Gm(f),_===null&&xm(i,s,f,uf,l),_===v)break;v=_}v!==null&&f.stopPropagation()}else xm(i,s,f,null,l)}}function Gm(i){return i=zh(i),Vm(i)}var uf=null;function Vm(i){if(uf=null,i=ss(i),i!==null){var s=a(i);if(s===null)i=null;else{var l=s.tag;if(l===13){if(i=u(s),i!==null)return i;i=null}else if(l===31){if(i=c(s),i!==null)return i;i=null}else if(l===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null)}}return uf=i,null}function AE(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Wu()){case Ua:return 2;case Ba:return 8;case mr:case wO:return 32;case L_:return 268435456;default:return 32}default:return 32}}var zm=!1,zi=null,qi=null,Ji=null,Rl=new Map,Ml=new Map,Ki=[],UP="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function xE(i,s){switch(i){case"focusin":case"focusout":zi=null;break;case"dragenter":case"dragleave":qi=null;break;case"mouseover":case"mouseout":Ji=null;break;case"pointerover":case"pointerout":Rl.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ml.delete(s.pointerId)}}function Nl(i,s,l,f,v,_){return i===null||i.nativeEvent!==_?(i={blockedOn:s,domEventName:l,eventSystemFlags:f,nativeEvent:_,targetContainers:[v]},s!==null&&(s=as(s),s!==null&&CE(s)),i):(i.eventSystemFlags|=f,s=i.targetContainers,v!==null&&s.indexOf(v)===-1&&s.push(v),i)}function BP(i,s,l,f,v){switch(s){case"focusin":return zi=Nl(zi,i,s,l,f,v),!0;case"dragenter":return qi=Nl(qi,i,s,l,f,v),!0;case"mouseover":return Ji=Nl(Ji,i,s,l,f,v),!0;case"pointerover":var _=v.pointerId;return Rl.set(_,Nl(Rl.get(_)||null,i,s,l,f,v)),!0;case"gotpointercapture":return _=v.pointerId,Ml.set(_,Nl(Ml.get(_)||null,i,s,l,f,v)),!0}return!1}function RE(i){var s=ss(i.target);if(s!==null){var l=a(s);if(l!==null){if(s=l.tag,s===13){if(s=u(l),s!==null){i.blockedOn=s,G_(i.priority,function(){TE(l)});return}}else if(s===31){if(s=c(l),s!==null){i.blockedOn=s,G_(i.priority,function(){TE(l)});return}}else if(s===3&&l.stateNode.current.memoizedState.isDehydrated){i.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}i.blockedOn=null}function cf(i){if(i.blockedOn!==null)return!1;for(var s=i.targetContainers;0<s.length;){var l=Gm(i.nativeEvent);if(l===null){l=i.nativeEvent;var f=new l.constructor(l.type,l);Vh=f,l.target.dispatchEvent(f),Vh=null}else return s=as(l),s!==null&&CE(s),i.blockedOn=l,!1;s.shift()}return!0}function ME(i,s,l){cf(i)&&l.delete(s)}function FP(){zm=!1,zi!==null&&cf(zi)&&(zi=null),qi!==null&&cf(qi)&&(qi=null),Ji!==null&&cf(Ji)&&(Ji=null),Rl.forEach(ME),Ml.forEach(ME)}function ff(i,s){i.blockedOn===s&&(i.blockedOn=null,zm||(zm=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,FP)))}var df=null;function NE(i){df!==i&&(df=i,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){df===i&&(df=null);for(var s=0;s<i.length;s+=3){var l=i[s],f=i[s+1],v=i[s+2];if(typeof f!="function"){if(Vm(f||l)===null)continue;break}var _=as(l);_!==null&&(i.splice(s,3),s-=3,Gp(_,{pending:!0,data:v,method:l.method,action:f},f,v))}}))}function Gs(i){function s(P){return ff(P,i)}zi!==null&&ff(zi,i),qi!==null&&ff(qi,i),Ji!==null&&ff(Ji,i),Rl.forEach(s),Ml.forEach(s);for(var l=0;l<Ki.length;l++){var f=Ki[l];f.blockedOn===i&&(f.blockedOn=null)}for(;0<Ki.length&&(l=Ki[0],l.blockedOn===null);)RE(l),l.blockedOn===null&&Ki.shift();if(l=(i.ownerDocument||i).$$reactFormReplay,l!=null)for(f=0;f<l.length;f+=3){var v=l[f],_=l[f+1],w=v[Jt]||null;if(typeof _=="function")w||NE(l);else if(w){var R=null;if(_&&_.hasAttribute("formAction")){if(v=_,w=_[Jt]||null)R=w.formAction;else if(Vm(v)!==null)continue}else R=w.action;typeof R=="function"?l[f+1]=R:(l.splice(f,3),f-=3),NE(l)}}}function IE(){function i(_){_.canIntercept&&_.info==="react-transition"&&_.intercept({handler:function(){return new Promise(function(w){return v=w})},focusReset:"manual",scroll:"manual"})}function s(){v!==null&&(v(),v=null),f||setTimeout(l,20)}function l(){if(!f&&!navigation.transition){var _=navigation.currentEntry;_&&_.url!=null&&navigation.navigate(_.url,{state:_.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var f=!1,v=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(l,100),function(){f=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),v!==null&&(v(),v=null)}}}function qm(i){this._internalRoot=i}hf.prototype.render=qm.prototype.render=function(i){var s=this._internalRoot;if(s===null)throw Error(o(409));var l=s.current,f=hn();EE(l,f,i,s,null,null)},hf.prototype.unmount=qm.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var s=i.containerInfo;EE(i.current,2,null,i,null,null),Jc(),s[rs]=null}};function hf(i){this._internalRoot=i}hf.prototype.unstable_scheduleHydration=function(i){if(i){var s=H_();i={blockedOn:null,target:i,priority:s};for(var l=0;l<Ki.length&&s!==0&&s<Ki[l].priority;l++);Ki.splice(l,0,i),l===0&&RE(i)}};var DE=e.version;if(DE!=="19.2.1")throw Error(o(527,DE,"19.2.1"));Q.findDOMNode=function(i){var s=i._reactInternals;if(s===void 0)throw typeof i.render=="function"?Error(o(188)):(i=Object.keys(i).join(","),Error(o(268,i)));return i=d(s),i=i!==null?m(i):null,i=i===null?null:i.stateNode,i};var $P={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:F,reconcilerVersion:"19.2.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var pf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!pf.isDisabled&&pf.supportsFiber)try{Fa=pf.inject($P),rn=pf}catch{}}return Dl.createRoot=function(i,s){if(!r(i))throw Error(o(299));var l=!1,f="",v=FS,_=$S,w=HS;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(f=s.identifierPrefix),s.onUncaughtError!==void 0&&(v=s.onUncaughtError),s.onCaughtError!==void 0&&(_=s.onCaughtError),s.onRecoverableError!==void 0&&(w=s.onRecoverableError)),s=SE(i,1,!1,null,null,l,f,null,v,_,w,IE),i[rs]=s.current,Am(i),new qm(s)},Dl.hydrateRoot=function(i,s,l){if(!r(i))throw Error(o(299));var f=!1,v="",_=FS,w=$S,R=HS,P=null;return l!=null&&(l.unstable_strictMode===!0&&(f=!0),l.identifierPrefix!==void 0&&(v=l.identifierPrefix),l.onUncaughtError!==void 0&&(_=l.onUncaughtError),l.onCaughtError!==void 0&&(w=l.onCaughtError),l.onRecoverableError!==void 0&&(R=l.onRecoverableError),l.formState!==void 0&&(P=l.formState)),s=SE(i,1,!0,s,l??null,f,v,P,_,w,R,IE),s.context=bE(null),l=s.current,f=hn(),f=kh(f),v=Di(f),v.callback=null,Oi(l,v,f),l=f,s.current.lanes=l,Ha(s,l),yo(s),i[rs]=s.current,Am(i),new hf(s)},Dl.version="19.2.1",Dl}var GE;function XP(){if(GE)return Ym.exports;GE=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Ym.exports=jP(),Ym.exports}var WP=XP();function Be(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),o=1;o<e;o++)n[o-1]=arguments[o];throw new Error(typeof t=="number"?"[MobX] minified error nr: "+t+(n.length?" "+n.map(String).join(","):"")+". Find the full error at: https://github.com/mobxjs/mobx/blob/main/packages/mobx/src/errors.ts":"[MobX] "+t)}var QP={};function Kd(){return typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:QP}var GA=Object.assign,dd=Object.getOwnPropertyDescriptor,Ao=Object.defineProperty,bu=Object.prototype,Xg=[];Object.freeze(Xg);var VA={};Object.freeze(VA);var ZP=typeof Proxy<"u",ek=Object.toString();function zA(){ZP||Be("Proxy not available")}function qA(t){var e=!1;return function(){if(!e)return e=!0,t.apply(this,arguments)}}var ra=function(){};function ao(t){return typeof t=="function"}function zr(t){var e=typeof t;switch(e){case"string":case"symbol":case"number":return!0}return!1}function Yd(t){return t!==null&&typeof t=="object"}function di(t){if(!Yd(t))return!1;var e=Object.getPrototypeOf(t);if(e==null)return!0;var n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n.toString()===ek}function JA(t){var e=t?.constructor;return e?e.name==="GeneratorFunction"||e.displayName==="GeneratorFunction":!1}function Eu(t,e,n){Ao(t,e,{enumerable:!1,writable:!0,configurable:!0,value:n})}function KA(t,e,n){Ao(t,e,{enumerable:!1,writable:!1,configurable:!0,value:n})}function lr(t,e){var n="isMobX"+t;return e.prototype[n]=!0,function(o){return Yd(o)&&o[n]===!0}}function Ca(t){return t!=null&&Object.prototype.toString.call(t)==="[object Map]"}function tk(t){var e=Object.getPrototypeOf(t),n=Object.getPrototypeOf(e),o=Object.getPrototypeOf(n);return o===null}function ri(t){return t!=null&&Object.prototype.toString.call(t)==="[object Set]"}var YA=typeof Object.getOwnPropertySymbols<"u";function nk(t){var e=Object.keys(t);if(!YA)return e;var n=Object.getOwnPropertySymbols(t);return n.length?[].concat(e,n.filter(function(o){return bu.propertyIsEnumerable.call(t,o)})):e}var ma=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:YA?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:Object.getOwnPropertyNames;function jA(t){return t===null?null:typeof t=="object"?""+t:t}function li(t,e){return bu.hasOwnProperty.call(t,e)}var ok=Object.getOwnPropertyDescriptors||function(e){var n={};return ma(e).forEach(function(o){n[o]=dd(e,o)}),n};function yn(t,e){return!!(t&e)}function _n(t,e,n){return n?t|=e:t&=~e,t}function VE(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,o=Array(e);n<e;n++)o[n]=t[n];return o}function ik(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,sk(o.key),o)}}function Ta(t,e,n){return e&&ik(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function sa(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n)return(n=n.call(t)).next.bind(n);if(Array.isArray(t)||(n=ak(t))||e){n&&(t=n);var o=0;return function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qr(){return qr=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)({}).hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},qr.apply(null,arguments)}function XA(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,Wg(t,e)}function Wg(t,e){return Wg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,o){return n.__proto__=o,n},Wg(t,e)}function rk(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var o=n.call(t,e);if(typeof o!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function sk(t){var e=rk(t,"string");return typeof e=="symbol"?e:e+""}function ak(t,e){if(t){if(typeof t=="string")return VE(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?VE(t,e):void 0}}var wo=Symbol("mobx-stored-annotations");function xo(t){function e(n,o){if(Cu(o))return t.decorate_20223_(n,o);wu(n,o,t)}return Object.assign(e,t)}function wu(t,e,n){li(t,wo)||Eu(t,wo,qr({},t[wo])),pk(n)||(t[wo][e]=n)}function lk(t){return li(t,wo)||Eu(t,wo,qr({},t[wo])),t[wo]}function Cu(t){return typeof t=="object"&&typeof t.kind=="string"}var we=Symbol("mobx administration"),ur=(function(){function t(n){n===void 0&&(n="Atom"),this.name_=void 0,this.flags_=0,this.observers_=new Set,this.lastAccessedBy_=0,this.lowestObserverState_=Ge.NOT_TRACKING_,this.onBOL=void 0,this.onBUOL=void 0,this.name_=n}var e=t.prototype;return e.onBO=function(){this.onBOL&&this.onBOL.forEach(function(o){return o()})},e.onBUO=function(){this.onBUOL&&this.onBUOL.forEach(function(o){return o()})},e.reportObserved=function(){return hx(this)},e.reportChanged=function(){Bn(),px(this),Fn()},e.toString=function(){return this.name_},Ta(t,[{key:"isBeingObserved",get:function(){return yn(this.flags_,t.isBeingObservedMask_)},set:function(o){this.flags_=_n(this.flags_,t.isBeingObservedMask_,o)}},{key:"isPendingUnobservation",get:function(){return yn(this.flags_,t.isPendingUnobservationMask_)},set:function(o){this.flags_=_n(this.flags_,t.isPendingUnobservationMask_,o)}},{key:"diffValue",get:function(){return yn(this.flags_,t.diffValueMask_)?1:0},set:function(o){this.flags_=_n(this.flags_,t.diffValueMask_,o===1)}}])})();ur.isBeingObservedMask_=1;ur.isPendingUnobservationMask_=2;ur.diffValueMask_=4;var sy=lr("Atom",ur);function WA(t,e,n){e===void 0&&(e=ra),n===void 0&&(n=ra);var o=new ur(t);return e!==ra&&vL(o,e),n!==ra&&Sx(o,n),o}function uk(t,e){return Dx(t,e)}function ck(t,e){return Object.is?Object.is(t,e):t===e?t!==0||1/t===1/e:t!==t&&e!==e}var hd={structural:uk,default:ck};function Jr(t,e,n){return fy(t)?t:Array.isArray(t)?Ct.array(t,{name:n}):di(t)?Ct.object(t,void 0,{name:n}):Ca(t)?Ct.map(t,{name:n}):ri(t)?Ct.set(t,{name:n}):typeof t=="function"&&!ga(t)&&!su(t)?JA(t)?va(t):ru(n,t):t}function fk(t,e,n){if(t==null||Nu(t)||Mu(t)||cr(t)||to(t))return t;if(Array.isArray(t))return Ct.array(t,{name:n,deep:!1});if(di(t))return Ct.object(t,void 0,{name:n,deep:!1});if(Ca(t))return Ct.map(t,{name:n,deep:!1});if(ri(t))return Ct.set(t,{name:n,deep:!1})}function jd(t){return t}function dk(t,e){return Dx(t,e)?e:t}var hk="override";function pk(t){return t.annotationType_===hk}function Tu(t,e){return{annotationType_:t,options_:e,make_:mk,extend_:gk,decorate_20223_:vk}}function mk(t,e,n,o){var r;if((r=this.options_)!=null&&r.bound)return this.extend_(t,e,n,!1)===null?0:1;if(o===t.target_)return this.extend_(t,e,n,!1)===null?0:2;if(ga(n.value))return 1;var a=QA(t,this,e,n,!1);return Ao(o,e,a),2}function gk(t,e,n,o){var r=QA(t,this,e,n);return t.defineProperty_(e,r,o)}function vk(t,e){var n=e.kind,o=e.name,r=e.addInitializer,a=this,u=function(d){var m,y,S,b;return Kr((m=(y=a.options_)==null?void 0:y.name)!=null?m:o.toString(),d,(S=(b=a.options_)==null?void 0:b.autoAction)!=null?S:!1)};if(n=="field")return function(h){var d,m=h;return ga(m)||(m=u(m)),(d=a.options_)!=null&&d.bound&&(m=m.bind(this),m.isMobxAction=!0),m};if(n=="method"){var c;return ga(t)||(t=u(t)),(c=this.options_)!=null&&c.bound&&r(function(){var h=this,d=h[o].bind(h);d.isMobxAction=!0,h[o]=d}),t}Be("Cannot apply '"+a.annotationType_+"' to '"+String(o)+"' (kind: "+n+"):"+(`
'`+a.annotationType_+"' can only be used on properties with a function value."))}function yk(t,e,n,o){e.annotationType_,o.value}function QA(t,e,n,o,r){var a,u,c,h,d,m,y;r===void 0&&(r=ue.safeDescriptors),yk(t,e,n,o);var S=o.value;if((a=e.options_)!=null&&a.bound){var b;S=S.bind((b=t.proxy_)!=null?b:t.target_)}return{value:Kr((u=(c=e.options_)==null?void 0:c.name)!=null?u:n.toString(),S,(h=(d=e.options_)==null?void 0:d.autoAction)!=null?h:!1,(m=e.options_)!=null&&m.bound?(y=t.proxy_)!=null?y:t.target_:void 0),configurable:r?t.isPlainObject_:!0,enumerable:!1,writable:!r}}function ZA(t,e){return{annotationType_:t,options_:e,make_:_k,extend_:Sk,decorate_20223_:bk}}function _k(t,e,n,o){var r;if(o===t.target_)return this.extend_(t,e,n,!1)===null?0:2;if((r=this.options_)!=null&&r.bound&&(!li(t.target_,e)||!su(t.target_[e]))&&this.extend_(t,e,n,!1)===null)return 0;if(su(n.value))return 1;var a=ex(t,this,e,n,!1,!1);return Ao(o,e,a),2}function Sk(t,e,n,o){var r,a=ex(t,this,e,n,(r=this.options_)==null?void 0:r.bound);return t.defineProperty_(e,a,o)}function bk(t,e){var n,o=e.name,r=e.addInitializer;return su(t)||(t=va(t)),(n=this.options_)!=null&&n.bound&&r(function(){var a=this,u=a[o].bind(a);u.isMobXFlow=!0,a[o]=u}),t}function Ek(t,e,n,o){e.annotationType_,o.value}function ex(t,e,n,o,r,a){a===void 0&&(a=ue.safeDescriptors),Ek(t,e,n,o);var u=o.value;if(su(u)||(u=va(u)),r){var c;u=u.bind((c=t.proxy_)!=null?c:t.target_),u.isMobXFlow=!0}return{value:u,configurable:a?t.isPlainObject_:!0,enumerable:!1,writable:!a}}function ay(t,e){return{annotationType_:t,options_:e,make_:wk,extend_:Ck,decorate_20223_:Tk}}function wk(t,e,n){return this.extend_(t,e,n,!1)===null?0:1}function Ck(t,e,n,o){return Ak(t,this,e,n),t.defineComputedProperty_(e,qr({},this.options_,{get:n.get,set:n.set}),o)}function Tk(t,e){var n=this,o=e.name,r=e.addInitializer;return r(function(){var a=ts(this)[we],u=qr({},n.options_,{get:t,context:this});u.name||(u.name="ObservableObject."+o.toString()),a.values_.set(o,new lo(u))}),function(){return this[we].getObservablePropValue_(o)}}function Ak(t,e,n,o){e.annotationType_,o.get}function Xd(t,e){return{annotationType_:t,options_:e,make_:xk,extend_:Rk,decorate_20223_:Mk}}function xk(t,e,n){return this.extend_(t,e,n,!1)===null?0:1}function Rk(t,e,n,o){var r,a;return Nk(t,this),t.defineObservableProperty_(e,n.value,(r=(a=this.options_)==null?void 0:a.enhancer)!=null?r:Jr,o)}function Mk(t,e){var n=this,o=e.kind,r=e.name,a=new WeakSet;function u(c,h){var d,m,y=ts(c)[we],S=new nr(h,(d=(m=n.options_)==null?void 0:m.enhancer)!=null?d:Jr,"ObservableObject."+r.toString(),!1);y.values_.set(r,S),a.add(c)}if(o=="accessor")return{get:function(){return a.has(this)||u(this,t.get.call(this)),this[we].getObservablePropValue_(r)},set:function(h){return a.has(this)||u(this,h),this[we].setObservablePropValue_(r,h)},init:function(h){return a.has(this)||u(this,h),h}}}function Nk(t,e,n,o){e.annotationType_}var Ik="true",Dk=tx();function tx(t){return{annotationType_:Ik,options_:t,make_:Ok,extend_:Pk,decorate_20223_:kk}}function Ok(t,e,n,o){var r,a;if(n.get)return Wd.make_(t,e,n,o);if(n.set){var u=ga(n.set)?n.set:Kr(e.toString(),n.set);return o===t.target_?t.defineProperty_(e,{configurable:ue.safeDescriptors?t.isPlainObject_:!0,set:u})===null?0:2:(Ao(o,e,{configurable:!0,set:u}),2)}if(o!==t.target_&&typeof n.value=="function"){var c;if(JA(n.value)){var h,d=(h=this.options_)!=null&&h.autoBind?va.bound:va;return d.make_(t,e,n,o)}var m=(c=this.options_)!=null&&c.autoBind?ru.bound:ru;return m.make_(t,e,n,o)}var y=((r=this.options_)==null?void 0:r.deep)===!1?Ct.ref:Ct;if(typeof n.value=="function"&&(a=this.options_)!=null&&a.autoBind){var S;n.value=n.value.bind((S=t.proxy_)!=null?S:t.target_)}return y.make_(t,e,n,o)}function Pk(t,e,n,o){var r,a;if(n.get)return Wd.extend_(t,e,n,o);if(n.set)return t.defineProperty_(e,{configurable:ue.safeDescriptors?t.isPlainObject_:!0,set:Kr(e.toString(),n.set)},o);if(typeof n.value=="function"&&(r=this.options_)!=null&&r.autoBind){var u;n.value=n.value.bind((u=t.proxy_)!=null?u:t.target_)}var c=((a=this.options_)==null?void 0:a.deep)===!1?Ct.ref:Ct;return c.extend_(t,e,n,o)}function kk(t,e){Be("'"+this.annotationType_+"' cannot be used as a decorator")}var Lk="observable",Uk="observable.ref",Bk="observable.shallow",Fk="observable.struct",nx={deep:!0,name:void 0,defaultDecorator:void 0,proxy:!0};Object.freeze(nx);function mf(t){return t||nx}var Qg=Xd(Lk),$k=Xd(Uk,{enhancer:jd}),Hk=Xd(Bk,{enhancer:fk}),Gk=Xd(Fk,{enhancer:dk}),ox=xo(Qg);function gf(t){return t.deep===!0?Jr:t.deep===!1?jd:zk(t.defaultDecorator)}function Vk(t){var e;return t?(e=t.defaultDecorator)!=null?e:tx(t):void 0}function zk(t){var e,n;return t&&(e=(n=t.options_)==null?void 0:n.enhancer)!=null?e:Jr}function ix(t,e,n){if(Cu(e))return Qg.decorate_20223_(t,e);if(zr(e)){wu(t,e,Qg);return}return fy(t)?t:di(t)?Ct.object(t,e,n):Array.isArray(t)?Ct.array(t,e):Ca(t)?Ct.map(t,e):ri(t)?Ct.set(t,e):typeof t=="object"&&t!==null?t:Ct.box(t,e)}GA(ix,ox);var qk={box:function(e,n){var o=mf(n);return new nr(e,gf(o),o.name,!0,o.equals)},array:function(e,n){var o=mf(n);return(ue.useProxies===!1||o.proxy===!1?GL:DL)(e,gf(o),o.name)},map:function(e,n){var o=mf(n);return new Ax(e,gf(o),o.name)},set:function(e,n){var o=mf(n);return new xx(e,gf(o),o.name)},object:function(e,n,o){return fr(function(){return Ex(ue.useProxies===!1||o?.proxy===!1?ts({},o):RL({},o),e,n)})},ref:xo($k),shallow:xo(Hk),deep:ox,struct:xo(Gk)},Ct=GA(ix,qk),rx="computed",Jk="computed.struct",Zg=ay(rx),Kk=ay(Jk,{equals:hd.structural}),Wd=function(e,n){if(Cu(n))return Zg.decorate_20223_(e,n);if(zr(n))return wu(e,n,Zg);if(di(e))return xo(ay(rx,e));var o=di(n)?n:{};return o.get=e,o.name||(o.name=e.name||""),new lo(o)};Object.assign(Wd,Zg);Wd.struct=xo(Kk);var zE,qE,pd=0,Yk=1,jk=(zE=(qE=dd(function(){},"name"))==null?void 0:qE.configurable)!=null?zE:!1,JE={value:"action",configurable:!0,writable:!1,enumerable:!1};function Kr(t,e,n,o){n===void 0&&(n=!1);function r(){return sx(t,n,e,o||this,arguments)}return r.isMobxAction=!0,r.toString=function(){return e.toString()},jk&&(JE.value=t,Ao(r,"name",JE)),r}function sx(t,e,n,o,r){var a=Xk(t,e);try{return n.apply(o,r)}catch(u){throw a.error_=u,u}finally{Wk(a)}}function Xk(t,e,n,o){var r=!1,a=0,u=ue.trackingDerivation,c=!e||!u;Bn();var h=ue.allowStateChanges;c&&(es(),h=ly(!0));var d=cy(!0),m={runAsAction_:c,prevDerivation_:u,prevAllowStateChanges_:h,prevAllowStateReads_:d,notifySpy_:r,startTime_:a,actionId_:Yk++,parentActionId_:pd};return pd=m.actionId_,m}function Wk(t){pd!==t.actionId_&&Be(30),pd=t.parentActionId_,t.error_!==void 0&&(ue.suppressReactionErrors=!0),uy(t.prevAllowStateChanges_),Xl(t.prevAllowStateReads_),Fn(),t.runAsAction_&&ui(t.prevDerivation_),ue.suppressReactionErrors=!1}function ly(t){var e=ue.allowStateChanges;return ue.allowStateChanges=t,e}function uy(t){ue.allowStateChanges=t}var nr=(function(t){function e(o,r,a,u,c){var h;return a===void 0&&(a="ObservableValue"),c===void 0&&(c=hd.default),h=t.call(this,a)||this,h.enhancer=void 0,h.name_=void 0,h.equals=void 0,h.hasUnreportedChange_=!1,h.interceptors_=void 0,h.changeListeners_=void 0,h.value_=void 0,h.dehancer=void 0,h.enhancer=r,h.name_=a,h.equals=c,h.value_=r(o,void 0,a),h}XA(e,t);var n=e.prototype;return n.dehanceValue=function(r){return this.dehancer!==void 0?this.dehancer(r):r},n.set=function(r){this.value_,r=this.prepareNewValue_(r),r!==ue.UNCHANGED&&this.setNewValue_(r)},n.prepareNewValue_=function(r){if(Ln(this)){var a=Un(this,{object:this,type:Ro,newValue:r});if(!a)return ue.UNCHANGED;r=a.newValue}return r=this.enhancer(r,this.value_,this.name_),this.equals(this.value_,r)?ue.UNCHANGED:r},n.setNewValue_=function(r){var a=this.value_;this.value_=r,this.reportChanged(),oo(this)&&io(this,{type:Ro,object:this,newValue:r,oldValue:a})},n.get=function(){return this.reportObserved(),this.dehanceValue(this.value_)},n.intercept_=function(r){return xu(this,r)},n.observe_=function(r,a){return a&&r({observableKind:"value",debugObjectName:this.name_,object:this,type:Ro,newValue:this.value_,oldValue:void 0}),Ru(this,r)},n.raw=function(){return this.value_},n.toJSON=function(){return this.get()},n.toString=function(){return this.name_+"["+this.value_+"]"},n.valueOf=function(){return jA(this.get())},n[Symbol.toPrimitive]=function(){return this.valueOf()},e})(ur),Qk=lr("ObservableValue",nr),lo=(function(){function t(n){this.dependenciesState_=Ge.NOT_TRACKING_,this.observing_=[],this.newObserving_=null,this.observers_=new Set,this.runId_=0,this.lastAccessedBy_=0,this.lowestObserverState_=Ge.UP_TO_DATE_,this.unboundDepsCount_=0,this.value_=new gd(null),this.name_=void 0,this.triggeredBy_=void 0,this.flags_=0,this.derivation=void 0,this.setter_=void 0,this.isTracing_=md.NONE,this.scope_=void 0,this.equals_=void 0,this.requiresReaction_=void 0,this.keepAlive_=void 0,this.onBOL=void 0,this.onBUOL=void 0,n.get||Be(31),this.derivation=n.get,this.name_=n.name||"ComputedValue",n.set&&(this.setter_=Kr("ComputedValue-setter",n.set)),this.equals_=n.equals||(n.compareStructural||n.struct?hd.structural:hd.default),this.scope_=n.context,this.requiresReaction_=n.requiresReaction,this.keepAlive_=!!n.keepAlive}var e=t.prototype;return e.onBecomeStale_=function(){oL(this)},e.onBO=function(){this.onBOL&&this.onBOL.forEach(function(o){return o()})},e.onBUO=function(){this.onBUOL&&this.onBUOL.forEach(function(o){return o()})},e.get=function(){if(this.isComputing&&Be(32,this.name_,this.derivation),ue.inBatch===0&&this.observers_.size===0&&!this.keepAlive_)ev(this)&&(this.warnAboutUntrackedRead_(),Bn(),this.value_=this.computeValue_(!1),Fn());else if(hx(this),ev(this)){var o=ue.trackingContext;this.keepAlive_&&!o&&(ue.trackingContext=this),this.trackAndCompute()&&nL(this),ue.trackingContext=o}var r=this.value_;if(qf(r))throw r.cause;return r},e.set=function(o){if(this.setter_){this.isRunningSetter&&Be(33,this.name_),this.isRunningSetter=!0;try{this.setter_.call(this.scope_,o)}finally{this.isRunningSetter=!1}}else Be(34,this.name_)},e.trackAndCompute=function(){var o=this.value_,r=this.dependenciesState_===Ge.NOT_TRACKING_,a=this.computeValue_(!0),u=r||qf(o)||qf(a)||!this.equals_(o,a);return u&&(this.value_=a),u},e.computeValue_=function(o){this.isComputing=!0;var r=ly(!1),a;if(o)a=ax(this,this.derivation,this.scope_);else if(ue.disableErrorBoundaries===!0)a=this.derivation.call(this.scope_);else try{a=this.derivation.call(this.scope_)}catch(u){a=new gd(u)}return uy(r),this.isComputing=!1,a},e.suspend_=function(){this.keepAlive_||(tv(this),this.value_=void 0)},e.observe_=function(o,r){var a=this,u=!0,c=void 0;return dL(function(){var h=a.get();if(!u||r){var d=es();o({observableKind:"computed",debugObjectName:a.name_,type:Ro,object:a,newValue:h,oldValue:c}),ui(d)}u=!1,c=h})},e.warnAboutUntrackedRead_=function(){},e.toString=function(){return this.name_+"["+this.derivation.toString()+"]"},e.valueOf=function(){return jA(this.get())},e[Symbol.toPrimitive]=function(){return this.valueOf()},Ta(t,[{key:"isComputing",get:function(){return yn(this.flags_,t.isComputingMask_)},set:function(o){this.flags_=_n(this.flags_,t.isComputingMask_,o)}},{key:"isRunningSetter",get:function(){return yn(this.flags_,t.isRunningSetterMask_)},set:function(o){this.flags_=_n(this.flags_,t.isRunningSetterMask_,o)}},{key:"isBeingObserved",get:function(){return yn(this.flags_,t.isBeingObservedMask_)},set:function(o){this.flags_=_n(this.flags_,t.isBeingObservedMask_,o)}},{key:"isPendingUnobservation",get:function(){return yn(this.flags_,t.isPendingUnobservationMask_)},set:function(o){this.flags_=_n(this.flags_,t.isPendingUnobservationMask_,o)}},{key:"diffValue",get:function(){return yn(this.flags_,t.diffValueMask_)?1:0},set:function(o){this.flags_=_n(this.flags_,t.diffValueMask_,o===1)}}])})();lo.isComputingMask_=1;lo.isRunningSetterMask_=2;lo.isBeingObservedMask_=4;lo.isPendingUnobservationMask_=8;lo.diffValueMask_=16;var Au=lr("ComputedValue",lo),Ge;(function(t){t[t.NOT_TRACKING_=-1]="NOT_TRACKING_",t[t.UP_TO_DATE_=0]="UP_TO_DATE_",t[t.POSSIBLY_STALE_=1]="POSSIBLY_STALE_",t[t.STALE_=2]="STALE_"})(Ge||(Ge={}));var md;(function(t){t[t.NONE=0]="NONE",t[t.LOG=1]="LOG",t[t.BREAK=2]="BREAK"})(md||(md={}));var gd=function(e){this.cause=void 0,this.cause=e};function qf(t){return t instanceof gd}function ev(t){switch(t.dependenciesState_){case Ge.UP_TO_DATE_:return!1;case Ge.NOT_TRACKING_:case Ge.STALE_:return!0;case Ge.POSSIBLY_STALE_:{for(var e=cy(!0),n=es(),o=t.observing_,r=o.length,a=0;a<r;a++){var u=o[a];if(Au(u)){if(ue.disableErrorBoundaries)u.get();else try{u.get()}catch{return ui(n),Xl(e),!0}if(t.dependenciesState_===Ge.STALE_)return ui(n),Xl(e),!0}}return ux(t),ui(n),Xl(e),!1}}}function ax(t,e,n){var o=cy(!0);ux(t),t.newObserving_=new Array(t.runId_===0?100:t.observing_.length),t.unboundDepsCount_=0,t.runId_=++ue.runId;var r=ue.trackingDerivation;ue.trackingDerivation=t,ue.inBatch++;var a;if(ue.disableErrorBoundaries===!0)a=e.call(n);else try{a=e.call(n)}catch(u){a=new gd(u)}return ue.inBatch--,ue.trackingDerivation=r,Zk(t),Xl(o),a}function Zk(t){for(var e=t.observing_,n=t.observing_=t.newObserving_,o=Ge.UP_TO_DATE_,r=0,a=t.unboundDepsCount_,u=0;u<a;u++){var c=n[u];c.diffValue===0&&(c.diffValue=1,r!==u&&(n[r]=c),r++),c.dependenciesState_>o&&(o=c.dependenciesState_)}for(n.length=r,t.newObserving_=null,a=e.length;a--;){var h=e[a];h.diffValue===0&&fx(h,t),h.diffValue=0}for(;r--;){var d=n[r];d.diffValue===1&&(d.diffValue=0,tL(d,t))}o!==Ge.UP_TO_DATE_&&(t.dependenciesState_=o,t.onBecomeStale_())}function tv(t){var e=t.observing_;t.observing_=[];for(var n=e.length;n--;)fx(e[n],t);t.dependenciesState_=Ge.NOT_TRACKING_}function lx(t){var e=es();try{return t()}finally{ui(e)}}function es(){var t=ue.trackingDerivation;return ue.trackingDerivation=null,t}function ui(t){ue.trackingDerivation=t}function cy(t){var e=ue.allowStateReads;return ue.allowStateReads=t,e}function Xl(t){ue.allowStateReads=t}function ux(t){if(t.dependenciesState_!==Ge.UP_TO_DATE_){t.dependenciesState_=Ge.UP_TO_DATE_;for(var e=t.observing_,n=e.length;n--;)e[n].lowestObserverState_=Ge.UP_TO_DATE_}}var Jf=function(){this.version=6,this.UNCHANGED={},this.trackingDerivation=null,this.trackingContext=null,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!1,this.allowStateReads=!0,this.enforceActions=!0,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1,this.useProxies=!0,this.verifyProxies=!1,this.safeDescriptors=!0},Kf=!0,cx=!1,ue=(function(){var t=Kd();return t.__mobxInstanceCount>0&&!t.__mobxGlobals&&(Kf=!1),t.__mobxGlobals&&t.__mobxGlobals.version!==new Jf().version&&(Kf=!1),Kf?t.__mobxGlobals?(t.__mobxInstanceCount+=1,t.__mobxGlobals.UNCHANGED||(t.__mobxGlobals.UNCHANGED={}),t.__mobxGlobals):(t.__mobxInstanceCount=1,t.__mobxGlobals=new Jf):(setTimeout(function(){cx||Be(35)},1),new Jf)})();function eL(){if((ue.pendingReactions.length||ue.inBatch||ue.isRunningReactions)&&Be(36),cx=!0,Kf){var t=Kd();--t.__mobxInstanceCount===0&&(t.__mobxGlobals=void 0),ue=new Jf}}function tL(t,e){t.observers_.add(e),t.lowestObserverState_>e.dependenciesState_&&(t.lowestObserverState_=e.dependenciesState_)}function fx(t,e){t.observers_.delete(e),t.observers_.size===0&&dx(t)}function dx(t){t.isPendingUnobservation===!1&&(t.isPendingUnobservation=!0,ue.pendingUnobservations.push(t))}function Bn(){ue.inBatch++}function Fn(){if(--ue.inBatch===0){mx();for(var t=ue.pendingUnobservations,e=0;e<t.length;e++){var n=t[e];n.isPendingUnobservation=!1,n.observers_.size===0&&(n.isBeingObserved&&(n.isBeingObserved=!1,n.onBUO()),n instanceof lo&&n.suspend_())}ue.pendingUnobservations=[]}}function hx(t){var e=ue.trackingDerivation;return e!==null?(e.runId_!==t.lastAccessedBy_&&(t.lastAccessedBy_=e.runId_,e.newObserving_[e.unboundDepsCount_++]=t,!t.isBeingObserved&&ue.trackingContext&&(t.isBeingObserved=!0,t.onBO())),t.isBeingObserved):(t.observers_.size===0&&ue.inBatch>0&&dx(t),!1)}function px(t){t.lowestObserverState_!==Ge.STALE_&&(t.lowestObserverState_=Ge.STALE_,t.observers_.forEach(function(e){e.dependenciesState_===Ge.UP_TO_DATE_&&e.onBecomeStale_(),e.dependenciesState_=Ge.STALE_}))}function nL(t){t.lowestObserverState_!==Ge.STALE_&&(t.lowestObserverState_=Ge.STALE_,t.observers_.forEach(function(e){e.dependenciesState_===Ge.POSSIBLY_STALE_?e.dependenciesState_=Ge.STALE_:e.dependenciesState_===Ge.UP_TO_DATE_&&(t.lowestObserverState_=Ge.UP_TO_DATE_)}))}function oL(t){t.lowestObserverState_===Ge.UP_TO_DATE_&&(t.lowestObserverState_=Ge.POSSIBLY_STALE_,t.observers_.forEach(function(e){e.dependenciesState_===Ge.UP_TO_DATE_&&(e.dependenciesState_=Ge.POSSIBLY_STALE_,e.onBecomeStale_())}))}var hi=(function(){function t(n,o,r,a){n===void 0&&(n="Reaction"),this.name_=void 0,this.onInvalidate_=void 0,this.errorHandler_=void 0,this.requiresObservable_=void 0,this.observing_=[],this.newObserving_=[],this.dependenciesState_=Ge.NOT_TRACKING_,this.runId_=0,this.unboundDepsCount_=0,this.flags_=0,this.isTracing_=md.NONE,this.name_=n,this.onInvalidate_=o,this.errorHandler_=r,this.requiresObservable_=a}var e=t.prototype;return e.onBecomeStale_=function(){this.schedule_()},e.schedule_=function(){this.isScheduled||(this.isScheduled=!0,ue.pendingReactions.push(this),mx())},e.runReaction_=function(){if(!this.isDisposed){Bn(),this.isScheduled=!1;var o=ue.trackingContext;if(ue.trackingContext=this,ev(this)){this.isTrackPending=!0;try{this.onInvalidate_()}catch(r){this.reportExceptionInDerivation_(r)}}ue.trackingContext=o,Fn()}},e.track=function(o){if(!this.isDisposed){Bn(),this.isRunning=!0;var r=ue.trackingContext;ue.trackingContext=this;var a=ax(this,o,void 0);ue.trackingContext=r,this.isRunning=!1,this.isTrackPending=!1,this.isDisposed&&tv(this),qf(a)&&this.reportExceptionInDerivation_(a.cause),Fn()}},e.reportExceptionInDerivation_=function(o){var r=this;if(this.errorHandler_){this.errorHandler_(o,this);return}if(ue.disableErrorBoundaries)throw o;var a="[mobx] uncaught error in '"+this+"'";ue.suppressReactionErrors||console.error(a,o),ue.globalReactionErrorHandlers.forEach(function(u){return u(o,r)})},e.dispose=function(){this.isDisposed||(this.isDisposed=!0,this.isRunning||(Bn(),tv(this),Fn()))},e.getDisposer_=function(o){var r=this,a=function u(){r.dispose(),o==null||o.removeEventListener==null||o.removeEventListener("abort",u)};return o==null||o.addEventListener==null||o.addEventListener("abort",a),a[we]=this,"dispose"in Symbol&&typeof Symbol.dispose=="symbol"&&(a[Symbol.dispose]=a),a},e.toString=function(){return"Reaction["+this.name_+"]"},e.trace=function(o){},Ta(t,[{key:"isDisposed",get:function(){return yn(this.flags_,t.isDisposedMask_)},set:function(o){this.flags_=_n(this.flags_,t.isDisposedMask_,o)}},{key:"isScheduled",get:function(){return yn(this.flags_,t.isScheduledMask_)},set:function(o){this.flags_=_n(this.flags_,t.isScheduledMask_,o)}},{key:"isTrackPending",get:function(){return yn(this.flags_,t.isTrackPendingMask_)},set:function(o){this.flags_=_n(this.flags_,t.isTrackPendingMask_,o)}},{key:"isRunning",get:function(){return yn(this.flags_,t.isRunningMask_)},set:function(o){this.flags_=_n(this.flags_,t.isRunningMask_,o)}},{key:"diffValue",get:function(){return yn(this.flags_,t.diffValueMask_)?1:0},set:function(o){this.flags_=_n(this.flags_,t.diffValueMask_,o===1)}}])})();hi.isDisposedMask_=1;hi.isScheduledMask_=2;hi.isTrackPendingMask_=4;hi.isRunningMask_=8;hi.diffValueMask_=16;var iL=100,nv=function(e){return e()};function mx(){ue.inBatch>0||ue.isRunningReactions||nv(rL)}function rL(){ue.isRunningReactions=!0;for(var t=ue.pendingReactions,e=0;t.length>0;){++e===iL&&(console.error("[mobx] cycle in reaction: "+t[0]),t.splice(0));for(var n=t.splice(0),o=0,r=n.length;o<r;o++)n[o].runReaction_()}ue.isRunningReactions=!1}var vd=lr("Reaction",hi);function sL(t){var e=nv;nv=function(o){return t(function(){return e(o)})}}function Wl(){return!1}function aL(t){return console.warn("[mobx.spy] Is a no-op in production builds"),function(){}}var gx="action",lL="action.bound",vx="autoAction",uL="autoAction.bound",yx="<unnamed action>",ov=Tu(gx),cL=Tu(lL,{bound:!0}),iv=Tu(vx,{autoAction:!0}),fL=Tu(uL,{autoAction:!0,bound:!0});function _x(t){var e=function(o,r){if(ao(o))return Kr(o.name||yx,o,t);if(ao(r))return Kr(o,r,t);if(Cu(r))return(t?iv:ov).decorate_20223_(o,r);if(zr(r))return wu(o,r,t?iv:ov);if(zr(o))return xo(Tu(t?vx:gx,{name:o,autoAction:t}))};return e}var aa=_x(!1);Object.assign(aa,ov);var ru=_x(!0);Object.assign(ru,iv);aa.bound=xo(cL);ru.bound=xo(fL);function Te(t){return sx(t.name||yx,!1,t,this,void 0)}function ga(t){return ao(t)&&t.isMobxAction===!0}function dL(t,e){var n,o,r,a;e===void 0&&(e=VA);var u=(n=(o=e)==null?void 0:o.name)!=null?n:"Autorun",c=!e.scheduler&&!e.delay,h;if(c)h=new hi(u,function(){this.track(y)},e.onError,e.requiresObservable);else{var d=pL(e),m=!1;h=new hi(u,function(){m||(m=!0,d(function(){m=!1,h.isDisposed||h.track(y)}))},e.onError,e.requiresObservable)}function y(){t(h)}return(r=e)!=null&&(r=r.signal)!=null&&r.aborted||h.schedule_(),h.getDisposer_((a=e)==null?void 0:a.signal)}var hL=function(e){return e()};function pL(t){return t.scheduler?t.scheduler:t.delay?function(e){return setTimeout(e,t.delay)}:hL}var mL="onBO",gL="onBUO";function vL(t,e,n){return bx(mL,t,e,n)}function Sx(t,e,n){return bx(gL,t,e,n)}function bx(t,e,n,o){var r=Sd(e),a=ao(o)?o:n,u=t+"L";return r[u]?r[u].add(a):r[u]=new Set([a]),function(){var c=r[u];c&&(c.delete(a),c.size===0&&delete r[u])}}var yL="never",vf="always",_L="observed";function SL(t){t.isolateGlobalState===!0&&eL();var e=t.useProxies,n=t.enforceActions;if(e!==void 0&&(ue.useProxies=e===vf?!0:e===yL?!1:typeof Proxy<"u"),e==="ifavailable"&&(ue.verifyProxies=!0),n!==void 0){var o=n===vf?vf:n===_L;ue.enforceActions=o,ue.allowStateChanges=!(o===!0||o===vf)}["computedRequiresReaction","reactionRequiresObservable","observableRequiresReaction","disableErrorBoundaries","safeDescriptors"].forEach(function(r){r in t&&(ue[r]=!!t[r])}),ue.allowStateReads=!ue.observableRequiresReaction,t.reactionScheduler&&sL(t.reactionScheduler)}function Ex(t,e,n,o){var r=ok(e);return fr(function(){var a=ts(t,o)[we];ma(r).forEach(function(u){a.extend_(u,r[u],n&&u in n?n[u]:!0)})}),t}function bL(t,e){return wx(Sd(t,e))}function wx(t){var e={name:t.name_};return t.observing_&&t.observing_.length>0&&(e.dependencies=EL(t.observing_).map(wx)),e}function EL(t){return Array.from(new Set(t))}var wL=0;function Cx(){this.message="FLOW_CANCELLED"}Cx.prototype=Object.create(Error.prototype);var Qm=ZA("flow"),CL=ZA("flow.bound",{bound:!0}),va=Object.assign(function(e,n){if(Cu(n))return Qm.decorate_20223_(e,n);if(zr(n))return wu(e,n,Qm);var o=e,r=o.name||"<unnamed flow>",a=function(){var c=this,h=arguments,d=++wL,m=aa(r+" - runid: "+d+" - init",o).apply(c,h),y,S=void 0,b=new Promise(function(T,A){var x=0;y=A;function M(D){S=void 0;var L;try{L=aa(r+" - runid: "+d+" - yield "+x++,m.next).call(m,D)}catch(U){return A(U)}N(L)}function I(D){S=void 0;var L;try{L=aa(r+" - runid: "+d+" - yield "+x++,m.throw).call(m,D)}catch(U){return A(U)}N(L)}function N(D){if(ao(D?.then)){D.then(N,A);return}return D.done?T(D.value):(S=Promise.resolve(D.value),S.then(M,I))}M(void 0)});return b.cancel=aa(r+" - runid: "+d+" - cancel",function(){try{S&&KE(S);var T=m.return(void 0),A=Promise.resolve(T.value);A.then(ra,ra),KE(A),y(new Cx)}catch(x){y(x)}}),b};return a.isMobXFlow=!0,a},Qm);va.bound=xo(CL);function KE(t){ao(t.cancel)&&t.cancel()}function su(t){return t?.isMobXFlow===!0}function TL(t,e){return t?Nu(t)||!!t[we]||sy(t)||vd(t)||Au(t):!1}function fy(t){return TL(t)}function AL(t){if(Nu(t))return t[we].ownKeys_();Be(38)}function yf(t,e,n){return t.set(e,n),n}function ea(t,e){if(t==null||typeof t!="object"||t instanceof Date||!fy(t))return t;if(Qk(t)||Au(t))return ea(t.get(),e);if(e.has(t))return e.get(t);if(Mu(t)){var n=yf(e,t,new Array(t.length));return t.forEach(function(u,c){n[c]=ea(u,e)}),n}if(to(t)){var o=yf(e,t,new Set);return t.forEach(function(u){o.add(ea(u,e))}),o}if(cr(t)){var r=yf(e,t,new Map);return t.forEach(function(u,c){r.set(c,ea(u,e))}),r}else{var a=yf(e,t,{});return AL(t).forEach(function(u){bu.propertyIsEnumerable.call(t,u)&&(a[u]=ea(t[u],e))}),a}}function or(t,e){return ea(t,new Map)}function si(t,e){e===void 0&&(e=void 0),Bn();try{return t.apply(e)}finally{Fn()}}function Vs(t){return t[we]}var xL={has:function(e,n){return Vs(e).has_(n)},get:function(e,n){return Vs(e).get_(n)},set:function(e,n,o){var r;return zr(n)?(r=Vs(e).set_(n,o,!0))!=null?r:!0:!1},deleteProperty:function(e,n){var o;return zr(n)?(o=Vs(e).delete_(n,!0))!=null?o:!0:!1},defineProperty:function(e,n,o){var r;return(r=Vs(e).defineProperty_(n,o))!=null?r:!0},ownKeys:function(e){return Vs(e).ownKeys_()},preventExtensions:function(e){Be(13)}};function RL(t,e){var n,o;return zA(),t=ts(t,e),(o=(n=t[we]).proxy_)!=null?o:n.proxy_=new Proxy(t,xL)}function Ln(t){return t.interceptors_!==void 0&&t.interceptors_.length>0}function xu(t,e){var n=t.interceptors_||(t.interceptors_=[]);return n.push(e),qA(function(){var o=n.indexOf(e);o!==-1&&n.splice(o,1)})}function Un(t,e){var n=es();try{for(var o=[].concat(t.interceptors_||[]),r=0,a=o.length;r<a&&(e=o[r](e),e&&!e.type&&Be(14),!!e);r++);return e}finally{ui(n)}}function oo(t){return t.changeListeners_!==void 0&&t.changeListeners_.length>0}function Ru(t,e){var n=t.changeListeners_||(t.changeListeners_=[]);return n.push(e),qA(function(){var o=n.indexOf(e);o!==-1&&n.splice(o,1)})}function io(t,e){var n=es(),o=t.changeListeners_;if(o){o=o.slice();for(var r=0,a=o.length;r<a;r++)o[r](e);ui(n)}}function ML(t,e,n){return fr(function(){var o,r=ts(t,n)[we];(o=e)!=null||(e=lk(t)),ma(e).forEach(function(a){return r.make_(a,e[a])})}),t}var Zm=Symbol("mobx-keys");function Po(t,e,n){return di(t)?Ex(t,t,e,n):(fr(function(){var o=ts(t,n)[we];if(!t[Zm]){var r=Object.getPrototypeOf(t),a=new Set([].concat(ma(t),ma(r)));a.delete("constructor"),a.delete(we),Eu(r,Zm,a)}t[Zm].forEach(function(u){return o.make_(u,e&&u in e?e[u]:!0)})}),t)}var YE="splice",Ro="update",NL=1e4,IL={get:function(e,n){var o=e[we];return n===we?o:n==="length"?o.getArrayLength_():typeof n=="string"&&!isNaN(n)?o.get_(parseInt(n)):li(yd,n)?yd[n]:e[n]},set:function(e,n,o){var r=e[we];return n==="length"&&r.setArrayLength_(o),typeof n=="symbol"||isNaN(n)?e[n]=o:r.set_(parseInt(n),o),!0},preventExtensions:function(){Be(15)}},dy=(function(){function t(n,o,r,a){n===void 0&&(n="ObservableArray"),this.owned_=void 0,this.legacyMode_=void 0,this.atom_=void 0,this.values_=[],this.interceptors_=void 0,this.changeListeners_=void 0,this.enhancer_=void 0,this.dehancer=void 0,this.proxy_=void 0,this.lastKnownLength_=0,this.owned_=r,this.legacyMode_=a,this.atom_=new ur(n),this.enhancer_=function(u,c){return o(u,c,"ObservableArray[..]")}}var e=t.prototype;return e.dehanceValue_=function(o){return this.dehancer!==void 0?this.dehancer(o):o},e.dehanceValues_=function(o){return this.dehancer!==void 0&&o.length>0?o.map(this.dehancer):o},e.intercept_=function(o){return xu(this,o)},e.observe_=function(o,r){return r===void 0&&(r=!1),r&&o({observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:"splice",index:0,added:this.values_.slice(),addedCount:this.values_.length,removed:[],removedCount:0}),Ru(this,o)},e.getArrayLength_=function(){return this.atom_.reportObserved(),this.values_.length},e.setArrayLength_=function(o){(typeof o!="number"||isNaN(o)||o<0)&&Be("Out of range: "+o);var r=this.values_.length;if(o!==r)if(o>r){for(var a=new Array(o-r),u=0;u<o-r;u++)a[u]=void 0;this.spliceWithArray_(r,0,a)}else this.spliceWithArray_(o,r-o)},e.updateArrayLength_=function(o,r){o!==this.lastKnownLength_&&Be(16),this.lastKnownLength_+=r,this.legacyMode_&&r>0&&Ix(o+r+1)},e.spliceWithArray_=function(o,r,a){var u=this;this.atom_;var c=this.values_.length;if(o===void 0?o=0:o>c?o=c:o<0&&(o=Math.max(0,c+o)),arguments.length===1?r=c-o:r==null?r=0:r=Math.max(0,Math.min(r,c-o)),a===void 0&&(a=Xg),Ln(this)){var h=Un(this,{object:this.proxy_,type:YE,index:o,removedCount:r,added:a});if(!h)return Xg;r=h.removedCount,a=h.added}if(a=a.length===0?a:a.map(function(y){return u.enhancer_(y,void 0)}),this.legacyMode_){var d=a.length-r;this.updateArrayLength_(c,d)}var m=this.spliceItemsIntoValues_(o,r,a);return(r!==0||a.length!==0)&&this.notifyArraySplice_(o,a,m),this.dehanceValues_(m)},e.spliceItemsIntoValues_=function(o,r,a){if(a.length<NL){var u;return(u=this.values_).splice.apply(u,[o,r].concat(a))}else{var c=this.values_.slice(o,o+r),h=this.values_.slice(o+r);this.values_.length+=a.length-r;for(var d=0;d<a.length;d++)this.values_[o+d]=a[d];for(var m=0;m<h.length;m++)this.values_[o+a.length+m]=h[m];return c}},e.notifyArrayChildUpdate_=function(o,r,a){var u=!this.owned_&&Wl(),c=oo(this),h=c||u?{observableKind:"array",object:this.proxy_,type:Ro,debugObjectName:this.atom_.name_,index:o,newValue:r,oldValue:a}:null;this.atom_.reportChanged(),c&&io(this,h)},e.notifyArraySplice_=function(o,r,a){var u=!this.owned_&&Wl(),c=oo(this),h=c||u?{observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:YE,index:o,removed:a,added:r,removedCount:a.length,addedCount:r.length}:null;this.atom_.reportChanged(),c&&io(this,h)},e.get_=function(o){if(this.legacyMode_&&o>=this.values_.length){console.warn("[mobx] Out of bounds read: "+o);return}return this.atom_.reportObserved(),this.dehanceValue_(this.values_[o])},e.set_=function(o,r){var a=this.values_;if(this.legacyMode_&&o>a.length&&Be(17,o,a.length),o<a.length){this.atom_;var u=a[o];if(Ln(this)){var c=Un(this,{type:Ro,object:this.proxy_,index:o,newValue:r});if(!c)return;r=c.newValue}r=this.enhancer_(r,u);var h=r!==u;h&&(a[o]=r,this.notifyArrayChildUpdate_(o,r,u))}else{for(var d=new Array(o+1-a.length),m=0;m<d.length-1;m++)d[m]=void 0;d[d.length-1]=r,this.spliceWithArray_(a.length,0,d)}},t})();function DL(t,e,n,o){return n===void 0&&(n="ObservableArray"),o===void 0&&(o=!1),zA(),fr(function(){var r=new dy(n,e,o,!1);KA(r.values_,we,r);var a=new Proxy(r.values_,IL);return r.proxy_=a,t&&t.length&&r.spliceWithArray_(0,0,t),a})}var yd={clear:function(){return this.splice(0)},replace:function(e){var n=this[we];return n.spliceWithArray_(0,n.values_.length,e)},toJSON:function(){return this.slice()},splice:function(e,n){for(var o=arguments.length,r=new Array(o>2?o-2:0),a=2;a<o;a++)r[a-2]=arguments[a];var u=this[we];switch(arguments.length){case 0:return[];case 1:return u.spliceWithArray_(e);case 2:return u.spliceWithArray_(e,n)}return u.spliceWithArray_(e,n,r)},spliceWithArray:function(e,n,o){return this[we].spliceWithArray_(e,n,o)},push:function(){for(var e=this[we],n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return e.spliceWithArray_(e.values_.length,0,o),e.values_.length},pop:function(){return this.splice(Math.max(this[we].values_.length-1,0),1)[0]},shift:function(){return this.splice(0,1)[0]},unshift:function(){for(var e=this[we],n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return e.spliceWithArray_(0,0,o),e.values_.length},reverse:function(){return ue.trackingDerivation&&Be(37,"reverse"),this.replace(this.slice().reverse()),this},sort:function(){ue.trackingDerivation&&Be(37,"sort");var e=this.slice();return e.sort.apply(e,arguments),this.replace(e),this},remove:function(e){var n=this[we],o=n.dehanceValues_(n.values_).indexOf(e);return o>-1?(this.splice(o,1),!0):!1}};nt("at",wn);nt("concat",wn);nt("flat",wn);nt("includes",wn);nt("indexOf",wn);nt("join",wn);nt("lastIndexOf",wn);nt("slice",wn);nt("toString",wn);nt("toLocaleString",wn);nt("toSorted",wn);nt("toSpliced",wn);nt("with",wn);nt("every",fo);nt("filter",fo);nt("find",fo);nt("findIndex",fo);nt("findLast",fo);nt("findLastIndex",fo);nt("flatMap",fo);nt("forEach",fo);nt("map",fo);nt("some",fo);nt("toReversed",fo);nt("reduce",Tx);nt("reduceRight",Tx);function nt(t,e){typeof Array.prototype[t]=="function"&&(yd[t]=e(t))}function wn(t){return function(){var e=this[we];e.atom_.reportObserved();var n=e.dehanceValues_(e.values_);return n[t].apply(n,arguments)}}function fo(t){return function(e,n){var o=this,r=this[we];r.atom_.reportObserved();var a=r.dehanceValues_(r.values_);return a[t](function(u,c){return e.call(n,u,c,o)})}}function Tx(t){return function(){var e=this,n=this[we];n.atom_.reportObserved();var o=n.dehanceValues_(n.values_),r=arguments[0];return arguments[0]=function(a,u,c){return r(a,u,c,e)},o[t].apply(o,arguments)}}var OL=lr("ObservableArrayAdministration",dy);function Mu(t){return Yd(t)&&OL(t[we])}var PL={},Zi="add",_d="delete",Ax=(function(){function t(n,o,r){var a=this;o===void 0&&(o=Jr),r===void 0&&(r="ObservableMap"),this.enhancer_=void 0,this.name_=void 0,this[we]=PL,this.data_=void 0,this.hasMap_=void 0,this.keysAtom_=void 0,this.interceptors_=void 0,this.changeListeners_=void 0,this.dehancer=void 0,this.enhancer_=o,this.name_=r,ao(Map)||Be(18),fr(function(){a.keysAtom_=WA("ObservableMap.keys()"),a.data_=new Map,a.hasMap_=new Map,n&&a.merge(n)})}var e=t.prototype;return e.has_=function(o){return this.data_.has(o)},e.has=function(o){var r=this;if(!ue.trackingDerivation)return this.has_(o);var a=this.hasMap_.get(o);if(!a){var u=a=new nr(this.has_(o),jd,"ObservableMap.key?",!1);this.hasMap_.set(o,u),Sx(u,function(){return r.hasMap_.delete(o)})}return a.get()},e.set=function(o,r){var a=this.has_(o);if(Ln(this)){var u=Un(this,{type:a?Ro:Zi,object:this,newValue:r,name:o});if(!u)return this;r=u.newValue}return a?this.updateValue_(o,r):this.addValue_(o,r),this},e.delete=function(o){var r=this;if(this.keysAtom_,Ln(this)){var a=Un(this,{type:_d,object:this,name:o});if(!a)return!1}if(this.has_(o)){var u=Wl(),c=oo(this),h=c||u?{observableKind:"map",debugObjectName:this.name_,type:_d,object:this,oldValue:this.data_.get(o).value_,name:o}:null;return si(function(){var d;r.keysAtom_.reportChanged(),(d=r.hasMap_.get(o))==null||d.setNewValue_(!1);var m=r.data_.get(o);m.setNewValue_(void 0),r.data_.delete(o)}),c&&io(this,h),!0}return!1},e.updateValue_=function(o,r){var a=this.data_.get(o);if(r=a.prepareNewValue_(r),r!==ue.UNCHANGED){var u=Wl(),c=oo(this),h=c||u?{observableKind:"map",debugObjectName:this.name_,type:Ro,object:this,oldValue:a.value_,name:o,newValue:r}:null;a.setNewValue_(r),c&&io(this,h)}},e.addValue_=function(o,r){var a=this;this.keysAtom_,si(function(){var d,m=new nr(r,a.enhancer_,"ObservableMap.key",!1);a.data_.set(o,m),r=m.value_,(d=a.hasMap_.get(o))==null||d.setNewValue_(!0),a.keysAtom_.reportChanged()});var u=Wl(),c=oo(this),h=c||u?{observableKind:"map",debugObjectName:this.name_,type:Zi,object:this,name:o,newValue:r}:null;c&&io(this,h)},e.get=function(o){return this.has(o)?this.dehanceValue_(this.data_.get(o).get()):this.dehanceValue_(void 0)},e.dehanceValue_=function(o){return this.dehancer!==void 0?this.dehancer(o):o},e.keys=function(){return this.keysAtom_.reportObserved(),this.data_.keys()},e.values=function(){var o=this,r=this.keys();return jE({next:function(){var u=r.next(),c=u.done,h=u.value;return{done:c,value:c?void 0:o.get(h)}}})},e.entries=function(){var o=this,r=this.keys();return jE({next:function(){var u=r.next(),c=u.done,h=u.value;return{done:c,value:c?void 0:[h,o.get(h)]}}})},e[Symbol.iterator]=function(){return this.entries()},e.forEach=function(o,r){for(var a=sa(this),u;!(u=a()).done;){var c=u.value,h=c[0],d=c[1];o.call(r,d,h,this)}},e.merge=function(o){var r=this;return cr(o)&&(o=new Map(o)),si(function(){di(o)?nk(o).forEach(function(a){return r.set(a,o[a])}):Array.isArray(o)?o.forEach(function(a){var u=a[0],c=a[1];return r.set(u,c)}):Ca(o)?(tk(o)||Be(19,o),o.forEach(function(a,u){return r.set(u,a)})):o!=null&&Be(20,o)}),this},e.clear=function(){var o=this;si(function(){lx(function(){for(var r=sa(o.keys()),a;!(a=r()).done;){var u=a.value;o.delete(u)}})})},e.replace=function(o){var r=this;return si(function(){for(var a=kL(o),u=new Map,c=!1,h=sa(r.data_.keys()),d;!(d=h()).done;){var m=d.value;if(!a.has(m)){var y=r.delete(m);if(y)c=!0;else{var S=r.data_.get(m);u.set(m,S)}}}for(var b=sa(a.entries()),T;!(T=b()).done;){var A=T.value,x=A[0],M=A[1],I=r.data_.has(x);if(r.set(x,M),r.data_.has(x)){var N=r.data_.get(x);u.set(x,N),I||(c=!0)}}if(!c)if(r.data_.size!==u.size)r.keysAtom_.reportChanged();else for(var D=r.data_.keys(),L=u.keys(),U=D.next(),O=L.next();!U.done;){if(U.value!==O.value){r.keysAtom_.reportChanged();break}U=D.next(),O=L.next()}r.data_=u}),this},e.toString=function(){return"[object ObservableMap]"},e.toJSON=function(){return Array.from(this)},e.observe_=function(o,r){return Ru(this,o)},e.intercept_=function(o){return xu(this,o)},Ta(t,[{key:"size",get:function(){return this.keysAtom_.reportObserved(),this.data_.size}},{key:Symbol.toStringTag,get:function(){return"Map"}}])})(),cr=lr("ObservableMap",Ax);function jE(t){return t[Symbol.toStringTag]="MapIterator",py(t)}function kL(t){if(Ca(t)||cr(t))return t;if(Array.isArray(t))return new Map(t);if(di(t)){var e=new Map;for(var n in t)e.set(n,t[n]);return e}else return Be(21,t)}var LL={},xx=(function(){function t(n,o,r){var a=this;o===void 0&&(o=Jr),r===void 0&&(r="ObservableSet"),this.name_=void 0,this[we]=LL,this.data_=new Set,this.atom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.dehancer=void 0,this.enhancer_=void 0,this.name_=r,ao(Set)||Be(22),this.enhancer_=function(u,c){return o(u,c,r)},fr(function(){a.atom_=WA(a.name_),n&&a.replace(n)})}var e=t.prototype;return e.dehanceValue_=function(o){return this.dehancer!==void 0?this.dehancer(o):o},e.clear=function(){var o=this;si(function(){lx(function(){for(var r=sa(o.data_.values()),a;!(a=r()).done;){var u=a.value;o.delete(u)}})})},e.forEach=function(o,r){for(var a=sa(this),u;!(u=a()).done;){var c=u.value;o.call(r,c,c,this)}},e.add=function(o){var r=this;if(this.atom_,Ln(this)){var a=Un(this,{type:Zi,object:this,newValue:o});if(!a)return this;o=a.newValue}if(!this.has(o)){si(function(){r.data_.add(r.enhancer_(o,void 0)),r.atom_.reportChanged()});var u=!1,c=oo(this),h=c||u?{observableKind:"set",debugObjectName:this.name_,type:Zi,object:this,newValue:o}:null;c&&io(this,h)}return this},e.delete=function(o){var r=this;if(Ln(this)){var a=Un(this,{type:_d,object:this,oldValue:o});if(!a)return!1}if(this.has(o)){var u=!1,c=oo(this),h=c||u?{observableKind:"set",debugObjectName:this.name_,type:_d,object:this,oldValue:o}:null;return si(function(){r.atom_.reportChanged(),r.data_.delete(o)}),c&&io(this,h),!0}return!1},e.has=function(o){return this.atom_.reportObserved(),this.data_.has(this.dehanceValue_(o))},e.entries=function(){var o=this.values();return XE({next:function(){var a=o.next(),u=a.value,c=a.done;return c?{value:void 0,done:c}:{value:[u,u],done:c}}})},e.keys=function(){return this.values()},e.values=function(){this.atom_.reportObserved();var o=this,r=this.data_.values();return XE({next:function(){var u=r.next(),c=u.value,h=u.done;return h?{value:void 0,done:h}:{value:o.dehanceValue_(c),done:h}}})},e.intersection=function(o){if(ri(o)&&!to(o))return o.intersection(this);var r=new Set(this);return r.intersection(o)},e.union=function(o){if(ri(o)&&!to(o))return o.union(this);var r=new Set(this);return r.union(o)},e.difference=function(o){return new Set(this).difference(o)},e.symmetricDifference=function(o){if(ri(o)&&!to(o))return o.symmetricDifference(this);var r=new Set(this);return r.symmetricDifference(o)},e.isSubsetOf=function(o){return new Set(this).isSubsetOf(o)},e.isSupersetOf=function(o){return new Set(this).isSupersetOf(o)},e.isDisjointFrom=function(o){if(ri(o)&&!to(o))return o.isDisjointFrom(this);var r=new Set(this);return r.isDisjointFrom(o)},e.replace=function(o){var r=this;return to(o)&&(o=new Set(o)),si(function(){Array.isArray(o)?(r.clear(),o.forEach(function(a){return r.add(a)})):ri(o)?(r.clear(),o.forEach(function(a){return r.add(a)})):o!=null&&Be("Cannot initialize set from "+o)}),this},e.observe_=function(o,r){return Ru(this,o)},e.intercept_=function(o){return xu(this,o)},e.toJSON=function(){return Array.from(this)},e.toString=function(){return"[object ObservableSet]"},e[Symbol.iterator]=function(){return this.values()},Ta(t,[{key:"size",get:function(){return this.atom_.reportObserved(),this.data_.size}},{key:Symbol.toStringTag,get:function(){return"Set"}}])})(),to=lr("ObservableSet",xx);function XE(t){return t[Symbol.toStringTag]="SetIterator",py(t)}var WE=Object.create(null),QE="remove",Rx=(function(){function t(n,o,r,a){o===void 0&&(o=new Map),a===void 0&&(a=Dk),this.target_=void 0,this.values_=void 0,this.name_=void 0,this.defaultAnnotation_=void 0,this.keysAtom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.proxy_=void 0,this.isPlainObject_=void 0,this.appliedAnnotations_=void 0,this.pendingKeys_=void 0,this.target_=n,this.values_=o,this.name_=r,this.defaultAnnotation_=a,this.keysAtom_=new ur("ObservableObject.keys"),this.isPlainObject_=di(this.target_)}var e=t.prototype;return e.getObservablePropValue_=function(o){return this.values_.get(o).get()},e.setObservablePropValue_=function(o,r){var a=this.values_.get(o);if(a instanceof lo)return a.set(r),!0;if(Ln(this)){var u=Un(this,{type:Ro,object:this.proxy_||this.target_,name:o,newValue:r});if(!u)return null;r=u.newValue}if(r=a.prepareNewValue_(r),r!==ue.UNCHANGED){var c=oo(this),h=!1,d=c||h?{type:Ro,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,oldValue:a.value_,name:o,newValue:r}:null;a.setNewValue_(r),c&&io(this,d)}return!0},e.get_=function(o){return ue.trackingDerivation&&!li(this.target_,o)&&this.has_(o),this.target_[o]},e.set_=function(o,r,a){return a===void 0&&(a=!1),li(this.target_,o)?this.values_.has(o)?this.setObservablePropValue_(o,r):a?Reflect.set(this.target_,o,r):(this.target_[o]=r,!0):this.extend_(o,{value:r,enumerable:!0,writable:!0,configurable:!0},this.defaultAnnotation_,a)},e.has_=function(o){if(!ue.trackingDerivation)return o in this.target_;this.pendingKeys_||(this.pendingKeys_=new Map);var r=this.pendingKeys_.get(o);return r||(r=new nr(o in this.target_,jd,"ObservableObject.key?",!1),this.pendingKeys_.set(o,r)),r.get()},e.make_=function(o,r){if(r===!0&&(r=this.defaultAnnotation_),r!==!1){if(!(o in this.target_)){var a;if((a=this.target_[wo])!=null&&a[o])return;Be(1,r.annotationType_,this.name_+"."+o.toString())}for(var u=this.target_;u&&u!==bu;){var c=dd(u,o);if(c){var h=r.make_(this,o,c,u);if(h===0)return;if(h===1)break}u=Object.getPrototypeOf(u)}ew(this,r,o)}},e.extend_=function(o,r,a,u){if(u===void 0&&(u=!1),a===!0&&(a=this.defaultAnnotation_),a===!1)return this.defineProperty_(o,r,u);var c=a.extend_(this,o,r,u);return c&&ew(this,a,o),c},e.defineProperty_=function(o,r,a){a===void 0&&(a=!1),this.keysAtom_;try{Bn();var u=this.delete_(o);if(!u)return u;if(Ln(this)){var c=Un(this,{object:this.proxy_||this.target_,name:o,type:Zi,newValue:r.value});if(!c)return null;var h=c.newValue;r.value!==h&&(r=qr({},r,{value:h}))}if(a){if(!Reflect.defineProperty(this.target_,o,r))return!1}else Ao(this.target_,o,r);this.notifyPropertyAddition_(o,r.value)}finally{Fn()}return!0},e.defineObservableProperty_=function(o,r,a,u){u===void 0&&(u=!1),this.keysAtom_;try{Bn();var c=this.delete_(o);if(!c)return c;if(Ln(this)){var h=Un(this,{object:this.proxy_||this.target_,name:o,type:Zi,newValue:r});if(!h)return null;r=h.newValue}var d=ZE(o),m={configurable:ue.safeDescriptors?this.isPlainObject_:!0,enumerable:!0,get:d.get,set:d.set};if(u){if(!Reflect.defineProperty(this.target_,o,m))return!1}else Ao(this.target_,o,m);var y=new nr(r,a,"ObservableObject.key",!1);this.values_.set(o,y),this.notifyPropertyAddition_(o,y.value_)}finally{Fn()}return!0},e.defineComputedProperty_=function(o,r,a){a===void 0&&(a=!1),this.keysAtom_;try{Bn();var u=this.delete_(o);if(!u)return u;if(Ln(this)){var c=Un(this,{object:this.proxy_||this.target_,name:o,type:Zi,newValue:void 0});if(!c)return null}r.name||(r.name="ObservableObject.key"),r.context=this.proxy_||this.target_;var h=ZE(o),d={configurable:ue.safeDescriptors?this.isPlainObject_:!0,enumerable:!1,get:h.get,set:h.set};if(a){if(!Reflect.defineProperty(this.target_,o,d))return!1}else Ao(this.target_,o,d);this.values_.set(o,new lo(r)),this.notifyPropertyAddition_(o,void 0)}finally{Fn()}return!0},e.delete_=function(o,r){if(r===void 0&&(r=!1),this.keysAtom_,!li(this.target_,o))return!0;if(Ln(this)){var a=Un(this,{object:this.proxy_||this.target_,name:o,type:QE});if(!a)return null}try{var u;Bn();var c=oo(this),h=!1,d=this.values_.get(o),m=void 0;if(!d&&(c||h)){var y;m=(y=dd(this.target_,o))==null?void 0:y.value}if(r){if(!Reflect.deleteProperty(this.target_,o))return!1}else delete this.target_[o];if(d&&(this.values_.delete(o),d instanceof nr&&(m=d.value_),px(d)),this.keysAtom_.reportChanged(),(u=this.pendingKeys_)==null||(u=u.get(o))==null||u.set(o in this.target_),c||h){var S={type:QE,observableKind:"object",object:this.proxy_||this.target_,debugObjectName:this.name_,oldValue:m,name:o};c&&io(this,S)}}finally{Fn()}return!0},e.observe_=function(o,r){return Ru(this,o)},e.intercept_=function(o){return xu(this,o)},e.notifyPropertyAddition_=function(o,r){var a,u=oo(this),c=!1;if(u||c){var h=u||c?{type:Zi,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,name:o,newValue:r}:null;u&&io(this,h)}(a=this.pendingKeys_)==null||(a=a.get(o))==null||a.set(!0),this.keysAtom_.reportChanged()},e.ownKeys_=function(){return this.keysAtom_.reportObserved(),ma(this.target_)},e.keys_=function(){return this.keysAtom_.reportObserved(),Object.keys(this.target_)},t})();function ts(t,e){var n;if(li(t,we))return t;var o=(n=e?.name)!=null?n:"ObservableObject",r=new Rx(t,new Map,String(o),Vk(e));return Eu(t,we,r),t}var UL=lr("ObservableObjectAdministration",Rx);function ZE(t){return WE[t]||(WE[t]={get:function(){return this[we].getObservablePropValue_(t)},set:function(n){return this[we].setObservablePropValue_(t,n)}})}function Nu(t){return Yd(t)?UL(t[we]):!1}function ew(t,e,n){var o;(o=t.target_[wo])==null||delete o[n]}var BL=Nx(0),FL=(function(){var t=!1,e={};return Object.defineProperty(e,"0",{set:function(){t=!0}}),Object.create(e)[0]=1,t===!1})(),eg=0,Mx=function(){};function $L(t,e){Object.setPrototypeOf?Object.setPrototypeOf(t.prototype,e):t.prototype.__proto__!==void 0?t.prototype.__proto__=e:t.prototype=e}$L(Mx,Array.prototype);var hy=(function(t){function e(o,r,a,u){var c;return a===void 0&&(a="ObservableArray"),u===void 0&&(u=!1),c=t.call(this)||this,fr(function(){var h=new dy(a,r,u,!0);h.proxy_=c,KA(c,we,h),o&&o.length&&c.spliceWithArray(0,0,o),FL&&Object.defineProperty(c,"0",BL)}),c}XA(e,t);var n=e.prototype;return n.concat=function(){this[we].atom_.reportObserved();for(var r=arguments.length,a=new Array(r),u=0;u<r;u++)a[u]=arguments[u];return Array.prototype.concat.apply(this.slice(),a.map(function(c){return Mu(c)?c.slice():c}))},n[Symbol.iterator]=function(){var o=this,r=0;return py({next:function(){return r<o.length?{value:o[r++],done:!1}:{done:!0,value:void 0}}})},Ta(e,[{key:"length",get:function(){return this[we].getArrayLength_()},set:function(r){this[we].setArrayLength_(r)}},{key:Symbol.toStringTag,get:function(){return"Array"}}])})(Mx);Object.entries(yd).forEach(function(t){var e=t[0],n=t[1];e!=="concat"&&Eu(hy.prototype,e,n)});function Nx(t){return{enumerable:!1,configurable:!0,get:function(){return this[we].get_(t)},set:function(n){this[we].set_(t,n)}}}function HL(t){Ao(hy.prototype,""+t,Nx(t))}function Ix(t){if(t>eg){for(var e=eg;e<t+100;e++)HL(e);eg=t}}Ix(1e3);function GL(t,e,n){return new hy(t,e,n)}function Sd(t,e){if(typeof t=="object"&&t!==null){if(Mu(t))return e!==void 0&&Be(23),t[we].atom_;if(to(t))return t.atom_;if(cr(t)){if(e===void 0)return t.keysAtom_;var n=t.data_.get(e)||t.hasMap_.get(e);return n||Be(25,e,rv(t)),n}if(Nu(t)){if(!e)return Be(26);var o=t[we].values_.get(e);return o||Be(27,e,rv(t)),o}if(sy(t)||Au(t)||vd(t))return t}else if(ao(t)&&vd(t[we]))return t[we];Be(28)}function VL(t,e){if(t||Be(29),sy(t)||Au(t)||vd(t)||cr(t)||to(t))return t;if(t[we])return t[we];Be(24,t)}function rv(t,e){var n;if(e!==void 0)n=Sd(t,e);else{if(ga(t))return t.name;Nu(t)||cr(t)||to(t)?n=VL(t):n=Sd(t)}return n.name_}function fr(t){var e=es(),n=ly(!0);Bn();try{return t()}finally{Fn(),uy(n),ui(e)}}var tw=bu.toString;function Dx(t,e,n){return n===void 0&&(n=-1),sv(t,e,n)}function sv(t,e,n,o,r){if(t===e)return t!==0||1/t===1/e;if(t==null||e==null)return!1;if(t!==t)return e!==e;var a=typeof t;if(a!=="function"&&a!=="object"&&typeof e!="object")return!1;var u=tw.call(t);if(u!==tw.call(e))return!1;switch(u){case"[object RegExp]":case"[object String]":return""+t==""+e;case"[object Number]":return+t!=+t?+e!=+e:+t==0?1/+t===1/e:+t==+e;case"[object Date]":case"[object Boolean]":return+t==+e;case"[object Symbol]":return typeof Symbol<"u"&&Symbol.valueOf.call(t)===Symbol.valueOf.call(e);case"[object Map]":case"[object Set]":n>=0&&n++;break}t=nw(t),e=nw(e);var c=u==="[object Array]";if(!c){if(typeof t!="object"||typeof e!="object")return!1;var h=t.constructor,d=e.constructor;if(h!==d&&!(ao(h)&&h instanceof h&&ao(d)&&d instanceof d)&&"constructor"in t&&"constructor"in e)return!1}if(n===0)return!1;n<0&&(n=-1),o=o||[],r=r||[];for(var m=o.length;m--;)if(o[m]===t)return r[m]===e;if(o.push(t),r.push(e),c){if(m=t.length,m!==e.length)return!1;for(;m--;)if(!sv(t[m],e[m],n-1,o,r))return!1}else{var y=Object.keys(t),S=y.length;if(Object.keys(e).length!==S)return!1;for(var b=0;b<S;b++){var T=y[b];if(!(li(e,T)&&sv(t[T],e[T],n-1,o,r)))return!1}}return o.pop(),r.pop(),!0}function nw(t){return Mu(t)?t.slice():Ca(t)||cr(t)||ri(t)||to(t)?Array.from(t.entries()):t}var ow,zL=((ow=Kd().Iterator)==null?void 0:ow.prototype)||{};function py(t){return t[Symbol.iterator]=qL,Object.assign(Object.create(zL),t)}function qL(){return this}["Symbol","Map","Set"].forEach(function(t){var e=Kd();typeof e[t]>"u"&&Be("MobX requires global '"+t+"' to be available or polyfilled")});typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__=="object"&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:aL,extras:{getDebugName:rv},$mobx:we});if(!C.useState)throw new Error("mobx-react-lite requires React with Hooks support");if(!ML)throw new Error("mobx-react-lite@3 requires mobx at least version 6 to be available");var Qd=HA();const Br=Su(Qd);function JL(t){t()}function KL(t){t||(t=JL),SL({reactionScheduler:t})}function YL(t){return bL(t)}var jL=1e4,XL=1e4,WL=(function(){function t(e){var n=this;Object.defineProperty(this,"finalize",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"registrations",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),Object.defineProperty(this,"sweepTimeout",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sweep",{enumerable:!0,configurable:!0,writable:!0,value:function(o){o===void 0&&(o=jL),clearTimeout(n.sweepTimeout),n.sweepTimeout=void 0;var r=Date.now();n.registrations.forEach(function(a,u){r-a.registeredAt>=o&&(n.finalize(a.value),n.registrations.delete(u))}),n.registrations.size>0&&n.scheduleSweep()}}),Object.defineProperty(this,"finalizeAllImmediately",{enumerable:!0,configurable:!0,writable:!0,value:function(){n.sweep(0)}})}return Object.defineProperty(t.prototype,"register",{enumerable:!1,configurable:!0,writable:!0,value:function(e,n,o){this.registrations.set(o,{value:n,registeredAt:Date.now()}),this.scheduleSweep()}}),Object.defineProperty(t.prototype,"unregister",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this.registrations.delete(e)}}),Object.defineProperty(t.prototype,"scheduleSweep",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.sweepTimeout===void 0&&(this.sweepTimeout=setTimeout(this.sweep,XL))}}),t})(),QL=typeof FinalizationRegistry<"u"?FinalizationRegistry:WL,av=new QL(function(t){var e;(e=t.reaction)===null||e===void 0||e.dispose(),t.reaction=null}),tg={exports:{}},ng={};var iw;function ZL(){if(iw)return ng;iw=1;var t=Jd();function e(y,S){return y===S&&(y!==0||1/y===1/S)||y!==y&&S!==S}var n=typeof Object.is=="function"?Object.is:e,o=t.useState,r=t.useEffect,a=t.useLayoutEffect,u=t.useDebugValue;function c(y,S){var b=S(),T=o({inst:{value:b,getSnapshot:S}}),A=T[0].inst,x=T[1];return a(function(){A.value=b,A.getSnapshot=S,h(A)&&x({inst:A})},[y,b,S]),r(function(){return h(A)&&x({inst:A}),y(function(){h(A)&&x({inst:A})})},[y]),u(b),b}function h(y){var S=y.getSnapshot;y=y.value;try{var b=S();return!n(y,b)}catch{return!0}}function d(y,S){return S()}var m=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?d:c;return ng.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:m,ng}var rw;function eU(){return rw||(rw=1,tg.exports=ZL()),tg.exports}var tU=eU();function sw(t){t.reaction=new hi("observer".concat(t.name),function(){var e;t.stateVersion=Symbol(),(e=t.onStoreChange)===null||e===void 0||e.call(t)})}function nU(t,e){e===void 0&&(e="observed");var n=tt.useRef(null);if(!n.current){var o={reaction:null,onStoreChange:null,stateVersion:Symbol(),name:e,subscribe:function(c){return av.unregister(o),o.onStoreChange=c,o.reaction||(sw(o),o.stateVersion=Symbol()),function(){var h;o.onStoreChange=null,(h=o.reaction)===null||h===void 0||h.dispose(),o.reaction=null}},getSnapshot:function(){return o.stateVersion}};n.current=o}var r=n.current;r.reaction||(sw(r),av.register(n,r,r)),tt.useDebugValue(r.reaction,YL),tU.useSyncExternalStore(r.subscribe,r.getSnapshot,r.getSnapshot);var a,u;if(r.reaction.track(function(){try{a=t()}catch(c){u=c}}),u)throw u;return a}var og,ig,Ox=typeof Symbol=="function"&&Symbol.for,oU=(ig=(og=Object.getOwnPropertyDescriptor(function(){},"name"))===null||og===void 0?void 0:og.configurable)!==null&&ig!==void 0?ig:!1,aw=Ox?Symbol.for("react.forward_ref"):typeof C.forwardRef=="function"&&C.forwardRef(function(t){return null}).$$typeof,lw=Ox?Symbol.for("react.memo"):typeof C.memo=="function"&&C.memo(function(t){return null}).$$typeof;function St(t,e){var n;if(lw&&t.$$typeof===lw)throw new Error("[mobx-react-lite] You are trying to use `observer` on a function component wrapped in either another `observer` or `React.memo`. The observer already applies 'React.memo' for you.");var o=(n=void 0)!==null&&n!==void 0?n:!1,r=t,a=t.displayName||t.name;if(aw&&t.$$typeof===aw&&(o=!0,r=t.render,typeof r!="function"))throw new Error("[mobx-react-lite] `render` property of ForwardRef was not a function");var u=function(c,h){return nU(function(){return r(c,h)},a)};return u.displayName=t.displayName,oU&&Object.defineProperty(u,"name",{value:t.name,writable:!0,configurable:!0}),t.contextTypes&&(u.contextTypes=t.contextTypes),o&&(u=C.forwardRef(u)),u=C.memo(u),rU(t,u),u}var iU={$$typeof:!0,render:!0,compare:!0,type:!0,displayName:!0};function rU(t,e){Object.keys(t).forEach(function(n){iU[n]||Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}var rg;KL(Qd.unstable_batchedUpdates);rg=av.finalizeAllImmediately;var sg={exports:{}};var uw;function sU(){return uw||(uw=1,(function(t){(function(){var e={}.hasOwnProperty;function n(){for(var a="",u=0;u<arguments.length;u++){var c=arguments[u];c&&(a=r(a,o(c)))}return a}function o(a){if(typeof a=="string"||typeof a=="number")return a;if(typeof a!="object")return"";if(Array.isArray(a))return n.apply(null,a);if(a.toString!==Object.prototype.toString&&!a.toString.toString().includes("[native code]"))return a.toString();var u="";for(var c in a)e.call(a,c)&&a[c]&&(u=r(u,c));return u}function r(a,u){return u?a?a+" "+u:a+u:a}t.exports?(n.default=n,t.exports=n):window.classNames=n})()})(sg)),sg.exports}var aU=sU();const Ne=Su(aU);function lv(){return lv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)({}).hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},lv.apply(null,arguments)}function Px(t,e){if(t==null)return{};var n={};for(var o in t)if({}.hasOwnProperty.call(t,o)){if(e.indexOf(o)!==-1)continue;n[o]=t[o]}return n}function cw(t){return"default"+t.charAt(0).toUpperCase()+t.substr(1)}function lU(t){var e=uU(t,"string");return typeof e=="symbol"?e:String(e)}function uU(t,e){if(typeof t!="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var o=n.call(t,e);if(typeof o!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function cU(t,e,n){var o=C.useRef(t!==void 0),r=C.useState(e),a=r[0],u=r[1],c=t!==void 0,h=o.current;return o.current=c,!c&&h&&a!==e&&u(e),[c?t:a,C.useCallback(function(d){for(var m=arguments.length,y=new Array(m>1?m-1:0),S=1;S<m;S++)y[S-1]=arguments[S];n&&n.apply(void 0,[d].concat(y)),u(d)},[n])]}function my(t,e){return Object.keys(e).reduce(function(n,o){var r,a=n,u=a[cw(o)],c=a[o],h=Px(a,[cw(o),o].map(lU)),d=e[o],m=cU(c,u,t[d]),y=m[0],S=m[1];return lv({},h,(r={},r[o]=y,r[d]=S,r))},t)}function uv(t,e){return uv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,o){return n.__proto__=o,n},uv(t,e)}function fU(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,uv(t,e)}const dU=["xxl","xl","lg","md","sm","xs"],hU="xs",Iu=C.createContext({prefixes:{},breakpoints:dU,minBreakpoint:hU}),{Consumer:TY,Provider:AY}=Iu;function Ue(t,e){const{prefixes:n}=C.useContext(Iu);return t||n[e]||e}function kx(){const{breakpoints:t}=C.useContext(Iu);return t}function Lx(){const{minBreakpoint:t}=C.useContext(Iu);return t}function pU(){const{dir:t}=C.useContext(Iu);return t==="rtl"}function Zd(t){return t&&t.ownerDocument||document}function mU(t){var e=Zd(t);return e&&e.defaultView||window}function gU(t,e){return mU(t).getComputedStyle(t,e)}var vU=/([A-Z])/g;function yU(t){return t.replace(vU,"-$1").toLowerCase()}var _U=/^ms-/;function _f(t){return yU(t).replace(_U,"-ms-")}var SU=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function bU(t){return!!(t&&SU.test(t))}function ci(t,e){var n="",o="";if(typeof e=="string")return t.style.getPropertyValue(_f(e))||gU(t).getPropertyValue(_f(e));Object.keys(e).forEach(function(r){var a=e[r];!a&&a!==0?t.style.removeProperty(_f(r)):bU(r)?o+=r+"("+a+") ":n+=_f(r)+": "+a+";"}),o&&(n+="transform: "+o+";"),t.style.cssText+=";"+n}var ag={exports:{}},lg,fw;function EU(){if(fw)return lg;fw=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return lg=t,lg}var ug,dw;function wU(){if(dw)return ug;dw=1;var t=EU();function e(){}function n(){}return n.resetWarningCache=e,ug=function(){function o(u,c,h,d,m,y){if(y!==t){var S=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw S.name="Invariant Violation",S}}o.isRequired=o;function r(){return o}var a={array:o,bigint:o,bool:o,func:o,number:o,object:o,string:o,symbol:o,any:o,arrayOf:r,element:o,elementType:o,instanceOf:r,node:o,objectOf:r,oneOf:r,oneOfType:r,shape:r,exact:r,checkPropTypes:n,resetWarningCache:e};return a.PropTypes=a,a},ug}var hw;function CU(){return hw||(hw=1,ag.exports=wU()()),ag.exports}var TU=CU();const cg=Su(TU),pw={disabled:!1},Ux=tt.createContext(null);var AU=function(e){return e.scrollTop},Ul="unmounted",Qi="exited",eo="entering",ai="entered",au="exiting",_i=(function(t){fU(e,t);function e(o,r){var a;a=t.call(this,o,r)||this;var u=r,c=u&&!u.isMounting?o.enter:o.appear,h;return a.appearStatus=null,o.in?c?(h=Qi,a.appearStatus=eo):h=ai:o.unmountOnExit||o.mountOnEnter?h=Ul:h=Qi,a.state={status:h},a.nextCallback=null,a}e.getDerivedStateFromProps=function(r,a){var u=r.in;return u&&a.status===Ul?{status:Qi}:null};var n=e.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(r){var a=null;if(r!==this.props){var u=this.state.status;this.props.in?u!==eo&&u!==ai&&(a=eo):(u===eo||u===ai)&&(a=au)}this.updateStatus(!1,a)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var r=this.props.timeout,a,u,c;return a=u=c=r,r!=null&&typeof r!="number"&&(a=r.exit,u=r.enter,c=r.appear!==void 0?r.appear:u),{exit:a,enter:u,appear:c}},n.updateStatus=function(r,a){if(r===void 0&&(r=!1),a!==null)if(this.cancelNextCallback(),a===eo){if(this.props.unmountOnExit||this.props.mountOnEnter){var u=this.props.nodeRef?this.props.nodeRef.current:Br.findDOMNode(this);u&&AU(u)}this.performEnter(r)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Qi&&this.setState({status:Ul})},n.performEnter=function(r){var a=this,u=this.props.enter,c=this.context?this.context.isMounting:r,h=this.props.nodeRef?[c]:[Br.findDOMNode(this),c],d=h[0],m=h[1],y=this.getTimeouts(),S=c?y.appear:y.enter;if(!r&&!u||pw.disabled){this.safeSetState({status:ai},function(){a.props.onEntered(d)});return}this.props.onEnter(d,m),this.safeSetState({status:eo},function(){a.props.onEntering(d,m),a.onTransitionEnd(S,function(){a.safeSetState({status:ai},function(){a.props.onEntered(d,m)})})})},n.performExit=function(){var r=this,a=this.props.exit,u=this.getTimeouts(),c=this.props.nodeRef?void 0:Br.findDOMNode(this);if(!a||pw.disabled){this.safeSetState({status:Qi},function(){r.props.onExited(c)});return}this.props.onExit(c),this.safeSetState({status:au},function(){r.props.onExiting(c),r.onTransitionEnd(u.exit,function(){r.safeSetState({status:Qi},function(){r.props.onExited(c)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(r,a){a=this.setNextCallback(a),this.setState(r,a)},n.setNextCallback=function(r){var a=this,u=!0;return this.nextCallback=function(c){u&&(u=!1,a.nextCallback=null,r(c))},this.nextCallback.cancel=function(){u=!1},this.nextCallback},n.onTransitionEnd=function(r,a){this.setNextCallback(a);var u=this.props.nodeRef?this.props.nodeRef.current:Br.findDOMNode(this),c=r==null&&!this.props.addEndListener;if(!u||c){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var h=this.props.nodeRef?[this.nextCallback]:[u,this.nextCallback],d=h[0],m=h[1];this.props.addEndListener(d,m)}r!=null&&setTimeout(this.nextCallback,r)},n.render=function(){var r=this.state.status;if(r===Ul)return null;var a=this.props,u=a.children;a.in,a.mountOnEnter,a.unmountOnExit,a.appear,a.enter,a.exit,a.timeout,a.addEndListener,a.onEnter,a.onEntering,a.onEntered,a.onExit,a.onExiting,a.onExited,a.nodeRef;var c=Px(a,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return tt.createElement(Ux.Provider,{value:null},typeof u=="function"?u(r,c):tt.cloneElement(tt.Children.only(u),c))},e})(tt.Component);_i.contextType=Ux;_i.propTypes={};function zs(){}_i.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:zs,onEntering:zs,onEntered:zs,onExit:zs,onExiting:zs,onExited:zs};_i.UNMOUNTED=Ul;_i.EXITED=Qi;_i.ENTERING=eo;_i.ENTERED=ai;_i.EXITING=au;function xU(t){return t.code==="Escape"||t.keyCode===27}function RU(){const t=C.version.split(".");return{major:+t[0],minor:+t[1],patch:+t[2]}}function Aa(t){if(!t||typeof t=="function")return null;const{major:e}=RU();return e>=19?t.props.ref:t.ref}const eh=!!(typeof window<"u"&&window.document&&window.document.createElement);var cv=!1,fv=!1;try{var fg={get passive(){return cv=!0},get once(){return fv=cv=!0}};eh&&(window.addEventListener("test",fg,fg),window.removeEventListener("test",fg,!0))}catch{}function Bx(t,e,n,o){if(o&&typeof o!="boolean"&&!fv){var r=o.once,a=o.capture,u=n;!fv&&r&&(u=n.__once||function c(h){this.removeEventListener(e,c,a),n.call(this,h)},n.__once=u),t.addEventListener(e,u,cv?o:a)}t.addEventListener(e,n,o)}function MU(t,e,n,o){var r=o&&typeof o!="boolean"?o.capture:o;t.removeEventListener(e,n,r),n.__once&&t.removeEventListener(e,n.__once,r)}function er(t,e,n,o){return Bx(t,e,n,o),function(){MU(t,e,n,o)}}function NU(t,e,n,o){if(o===void 0&&(o=!0),t){var r=document.createEvent("HTMLEvents");r.initEvent(e,n,o),t.dispatchEvent(r)}}function IU(t){var e=ci(t,"transitionDuration")||"",n=e.indexOf("ms")===-1?1e3:1;return parseFloat(e)*n}function DU(t,e,n){n===void 0&&(n=5);var o=!1,r=setTimeout(function(){o||NU(t,"transitionend",!0)},e+n),a=er(t,"transitionend",function(){o=!0},{once:!0});return function(){clearTimeout(r),a()}}function OU(t,e,n,o){n==null&&(n=IU(t)||0);var r=DU(t,n,o),a=er(t,"transitionend",e);return function(){r(),a()}}function mw(t,e){const n=ci(t,e)||"",o=n.indexOf("ms")===-1?1e3:1;return parseFloat(n)*o}function gy(t,e){const n=mw(t,"transitionDuration"),o=mw(t,"transitionDelay"),r=OU(t,a=>{a.target===t&&(r(),e(a))},n+o)}function Ol(...t){return t.filter(e=>e!=null).reduce((e,n)=>{if(typeof n!="function")throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return e===null?n:function(...r){e.apply(this,r),n.apply(this,r)}},null)}function Fx(t){t.offsetHeight}const gw=t=>!t||typeof t=="function"?t:e=>{t.current=e};function PU(t,e){const n=gw(t),o=gw(e);return r=>{n&&n(r),o&&o(r)}}function vy(t,e){return C.useMemo(()=>PU(t,e),[t,e])}function kU(t){return t&&"setState"in t?Br.findDOMNode(t):t??null}const th=tt.forwardRef(({onEnter:t,onEntering:e,onEntered:n,onExit:o,onExiting:r,onExited:a,addEndListener:u,children:c,childRef:h,...d},m)=>{const y=C.useRef(null),S=vy(y,h),b=U=>{S(kU(U))},T=U=>O=>{U&&y.current&&U(y.current,O)},A=C.useCallback(T(t),[t]),x=C.useCallback(T(e),[e]),M=C.useCallback(T(n),[n]),I=C.useCallback(T(o),[o]),N=C.useCallback(T(r),[r]),D=C.useCallback(T(a),[a]),L=C.useCallback(T(u),[u]);return E.jsx(_i,{ref:m,...d,onEnter:A,onEntered:M,onEntering:x,onExit:I,onExited:D,onExiting:N,addEndListener:L,nodeRef:y,children:typeof c=="function"?(U,O)=>c(U,{...O,ref:b}):tt.cloneElement(c,{ref:b})})});th.displayName="TransitionWrapper";const LU={height:["marginTop","marginBottom"],width:["marginLeft","marginRight"]};function UU(t,e){const n=`offset${t[0].toUpperCase()}${t.slice(1)}`,o=e[n],r=LU[t];return o+parseInt(ci(e,r[0]),10)+parseInt(ci(e,r[1]),10)}const BU={[Qi]:"collapse",[au]:"collapsing",[eo]:"collapsing",[ai]:"collapse show"},$x=tt.forwardRef(({onEnter:t,onEntering:e,onEntered:n,onExit:o,onExiting:r,className:a,children:u,dimension:c="height",in:h=!1,timeout:d=300,mountOnEnter:m=!1,unmountOnExit:y=!1,appear:S=!1,getDimensionValue:b=UU,...T},A)=>{const x=typeof c=="function"?c():c,M=C.useMemo(()=>Ol(U=>{U.style[x]="0"},t),[x,t]),I=C.useMemo(()=>Ol(U=>{const O=`scroll${x[0].toUpperCase()}${x.slice(1)}`;U.style[x]=`${U[O]}px`},e),[x,e]),N=C.useMemo(()=>Ol(U=>{U.style[x]=null},n),[x,n]),D=C.useMemo(()=>Ol(U=>{U.style[x]=`${b(x,U)}px`,Fx(U)},o),[o,b,x]),L=C.useMemo(()=>Ol(U=>{U.style[x]=null},r),[x,r]);return E.jsx(th,{ref:A,addEndListener:gy,...T,"aria-expanded":T.role?h:null,onEnter:M,onEntering:I,onEntered:N,onExit:D,onExiting:L,childRef:Aa(u),in:h,timeout:d,mountOnEnter:m,unmountOnExit:y,appear:S,children:(U,O)=>tt.cloneElement(u,{...O,className:Ne(a,u.props.className,BU[U],x==="width"&&"collapse-horizontal")})})});$x.displayName="Collapse";function FU(t){const e=C.useRef(t);return C.useEffect(()=>{e.current=t},[t]),e}function Du(t){const e=FU(t);return C.useCallback(function(...n){return e.current&&e.current(...n)},[e])}const yy=(t=>C.forwardRef((e,n)=>E.jsx("div",{...e,ref:n,className:Ne(e.className,t)})));function $U(){return C.useState(null)}function HU(t){const e=C.useRef(t);return C.useEffect(()=>{e.current=t},[t]),e}function Lt(t){const e=HU(t);return C.useCallback(function(...n){return e.current&&e.current(...n)},[e])}function GU(t,e,n,o=!1){const r=Lt(n);C.useEffect(()=>{const a=typeof t=="function"?t():t;return a.addEventListener(e,r,o),()=>a.removeEventListener(e,r,o)},[t])}function Hx(){const t=C.useRef(!0),e=C.useRef(()=>t.current);return C.useEffect(()=>(t.current=!0,()=>{t.current=!1}),[]),e.current}function Gx(t){const e=C.useRef(null);return C.useEffect(()=>{e.current=t}),e.current}const VU=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",zU=typeof document<"u",vw=zU||VU?C.useLayoutEffect:C.useEffect,qU=["as","disabled"];function JU(t,e){if(t==null)return{};var n={};for(var o in t)if({}.hasOwnProperty.call(t,o)){if(e.indexOf(o)>=0)continue;n[o]=t[o]}return n}function KU(t){return!t||t.trim()==="#"}function _y({tagName:t,disabled:e,href:n,target:o,rel:r,role:a,onClick:u,tabIndex:c=0,type:h}){t||(n!=null||o!=null||r!=null?t="a":t="button");const d={tagName:t};if(t==="button")return[{type:h||"button",disabled:e},d];const m=S=>{if((e||t==="a"&&KU(n))&&S.preventDefault(),e){S.stopPropagation();return}u?.(S)},y=S=>{S.key===" "&&(S.preventDefault(),m(S))};return t==="a"&&(n||(n="#"),e&&(n=void 0)),[{role:a??"button",disabled:void 0,tabIndex:e?void 0:c,href:n,target:t==="a"?o:void 0,"aria-disabled":e||void 0,rel:t==="a"?r:void 0,onClick:m,onKeyDown:y},d]}const Sy=C.forwardRef((t,e)=>{let{as:n,disabled:o}=t,r=JU(t,qU);const[a,{tagName:u}]=_y(Object.assign({tagName:n,disabled:o},r));return E.jsx(u,Object.assign({},r,a,{ref:e}))});Sy.displayName="Button";const YU=["onKeyDown"];function jU(t,e){if(t==null)return{};var n={};for(var o in t)if({}.hasOwnProperty.call(t,o)){if(e.indexOf(o)>=0)continue;n[o]=t[o]}return n}function XU(t){return!t||t.trim()==="#"}const by=C.forwardRef((t,e)=>{let{onKeyDown:n}=t,o=jU(t,YU);const[r]=_y(Object.assign({tagName:"a"},o)),a=Lt(u=>{r.onKeyDown(u),n?.(u)});return XU(o.href)||o.role==="button"?E.jsx("a",Object.assign({ref:e},o,r,{onKeyDown:a})):E.jsx("a",Object.assign({ref:e},o,{onKeyDown:n}))});by.displayName="Anchor";const WU={[eo]:"show",[ai]:"show"},Vx=C.forwardRef(({className:t,children:e,transitionClasses:n={},onEnter:o,...r},a)=>{const u={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,...r},c=C.useCallback((h,d)=>{Fx(h),o?.(h,d)},[o]);return E.jsx(th,{ref:a,addEndListener:gy,...u,onEnter:c,childRef:Aa(e),children:(h,d)=>C.cloneElement(e,{...d,className:Ne("fade",t,e.props.className,WU[h],n[h])})})});Vx.displayName="Fade";const QU={"aria-label":cg.string,onClick:cg.func,variant:cg.oneOf(["white"])},Ey=C.forwardRef(({className:t,variant:e,"aria-label":n="Close",...o},r)=>E.jsx("button",{ref:r,type:"button",className:Ne("btn-close",e&&`btn-close-${e}`,t),"aria-label":n,...o}));Ey.displayName="CloseButton";Ey.propTypes=QU;const zx=C.forwardRef(({as:t,bsPrefix:e,variant:n="primary",size:o,active:r=!1,disabled:a=!1,className:u,...c},h)=>{const d=Ue(e,"btn"),[m,{tagName:y}]=_y({tagName:t,disabled:a,...c}),S=y;return E.jsx(S,{...m,...c,ref:h,disabled:a,className:Ne(u,d,r&&"active",n&&`${d}-${n}`,o&&`${d}-${o}`,c.href&&a&&"disabled")})});zx.displayName="Button";const wy=C.forwardRef(({className:t,bsPrefix:e,as:n="div",...o},r)=>(e=Ue(e,"card-body"),E.jsx(n,{ref:r,className:Ne(t,e),...o})));wy.displayName="CardBody";const qx=C.forwardRef(({className:t,bsPrefix:e,as:n="div",...o},r)=>(e=Ue(e,"card-footer"),E.jsx(n,{ref:r,className:Ne(t,e),...o})));qx.displayName="CardFooter";const Cy=C.createContext(null);Cy.displayName="CardHeaderContext";const Jx=C.forwardRef(({bsPrefix:t,className:e,as:n="div",...o},r)=>{const a=Ue(t,"card-header"),u=C.useMemo(()=>({cardHeaderBsPrefix:a}),[a]);return E.jsx(Cy.Provider,{value:u,children:E.jsx(n,{ref:r,...o,className:Ne(e,a)})})});Jx.displayName="CardHeader";const Kx=C.forwardRef(({bsPrefix:t,className:e,variant:n,as:o="img",...r},a)=>{const u=Ue(t,"card-img");return E.jsx(o,{ref:a,className:Ne(n?`${u}-${n}`:u,e),...r})});Kx.displayName="CardImg";const Yx=C.forwardRef(({className:t,bsPrefix:e,as:n="div",...o},r)=>(e=Ue(e,"card-img-overlay"),E.jsx(n,{ref:r,className:Ne(t,e),...o})));Yx.displayName="CardImgOverlay";const jx=C.forwardRef(({className:t,bsPrefix:e,as:n="a",...o},r)=>(e=Ue(e,"card-link"),E.jsx(n,{ref:r,className:Ne(t,e),...o})));jx.displayName="CardLink";const ZU=yy("h6"),Xx=C.forwardRef(({className:t,bsPrefix:e,as:n=ZU,...o},r)=>(e=Ue(e,"card-subtitle"),E.jsx(n,{ref:r,className:Ne(t,e),...o})));Xx.displayName="CardSubtitle";const Wx=C.forwardRef(({className:t,bsPrefix:e,as:n="p",...o},r)=>(e=Ue(e,"card-text"),E.jsx(n,{ref:r,className:Ne(t,e),...o})));Wx.displayName="CardText";const e2=yy("h5"),Qx=C.forwardRef(({className:t,bsPrefix:e,as:n=e2,...o},r)=>(e=Ue(e,"card-title"),E.jsx(n,{ref:r,className:Ne(t,e),...o})));Qx.displayName="CardTitle";const Zx=C.forwardRef(({bsPrefix:t,className:e,bg:n,text:o,border:r,body:a=!1,children:u,as:c="div",...h},d)=>{const m=Ue(t,"card");return E.jsx(c,{ref:d,...h,className:Ne(e,m,n&&`bg-${n}`,o&&`text-${o}`,r&&`border-${r}`),children:a?E.jsx(wy,{children:u}):u})});Zx.displayName="Card";const Sf=Object.assign(Zx,{Img:Kx,Title:Qx,Subtitle:Xx,Body:wy,Link:jx,Text:Wx,Header:Jx,Footer:qx,ImgOverlay:Yx});function t2({as:t,bsPrefix:e,className:n,...o}){e=Ue(e,"col");const r=kx(),a=Lx(),u=[],c=[];return r.forEach(h=>{const d=o[h];delete o[h];let m,y,S;typeof d=="object"&&d!=null?{span:m,offset:y,order:S}=d:m=d;const b=h!==a?`-${h}`:"";m&&u.push(m===!0?`${e}${b}`:`${e}${b}-${m}`),S!=null&&c.push(`order${b}-${S}`),y!=null&&c.push(`offset${b}-${y}`)}),[{...o,className:Ne(n,...u,...c)},{as:t,bsPrefix:e,spans:u}]}const eR=C.forwardRef((t,e)=>{const[{className:n,...o},{as:r="div",bsPrefix:a,spans:u}]=t2(t);return E.jsx(r,{...o,ref:e,className:Ne(n,!u.length&&a)})});eR.displayName="Col";const tR=C.forwardRef(({bsPrefix:t,fluid:e=!1,as:n="div",className:o,...r},a)=>{const u=Ue(t,"container"),c=typeof e=="string"?`-${e}`:"-fluid";return E.jsx(n,{ref:a,...r,className:Ne(o,e?`${u}${c}`:u)})});tR.displayName="Container";var n2=Function.prototype.bind.call(Function.prototype.call,[].slice);function ii(t,e){return n2(t.querySelectorAll(e))}function o2(t,e,n){const o=C.useRef(t!==void 0),[r,a]=C.useState(e),u=t!==void 0,c=o.current;return o.current=u,!u&&c&&r!==e&&a(e),[u?t:r,C.useCallback((...h)=>{const[d,...m]=h;let y=n?.(d,...m);return a(d),y},[n])]}function nR(){const[,t]=C.useReducer(e=>e+1,0);return t}const nh=C.createContext(null);var yw=Object.prototype.hasOwnProperty;function _w(t,e,n){for(n of t.keys())if(Ql(n,e))return n}function Ql(t,e){var n,o,r;if(t===e)return!0;if(t&&e&&(n=t.constructor)===e.constructor){if(n===Date)return t.getTime()===e.getTime();if(n===RegExp)return t.toString()===e.toString();if(n===Array){if((o=t.length)===e.length)for(;o--&&Ql(t[o],e[o]););return o===-1}if(n===Set){if(t.size!==e.size)return!1;for(o of t)if(r=o,r&&typeof r=="object"&&(r=_w(e,r),!r)||!e.has(r))return!1;return!0}if(n===Map){if(t.size!==e.size)return!1;for(o of t)if(r=o[0],r&&typeof r=="object"&&(r=_w(e,r),!r)||!Ql(o[1],e.get(r)))return!1;return!0}if(n===ArrayBuffer)t=new Uint8Array(t),e=new Uint8Array(e);else if(n===DataView){if((o=t.byteLength)===e.byteLength)for(;o--&&t.getInt8(o)===e.getInt8(o););return o===-1}if(ArrayBuffer.isView(t)){if((o=t.byteLength)===e.byteLength)for(;o--&&t[o]===e[o];);return o===-1}if(!n||typeof t=="object"){o=0;for(n in t)if(yw.call(t,n)&&++o&&!yw.call(e,n)||!(n in e)||!Ql(t[n],e[n]))return!1;return Object.keys(e).length===o}}return t!==t&&e!==e}function i2(t){const e=Hx();return[t[0],C.useCallback(n=>{if(e())return t[1](n)},[e,t[1]])]}var en="top",qn="bottom",Jn="right",tn="left",Ty="auto",Ou=[en,qn,Jn,tn],ya="start",lu="end",r2="clippingParents",oR="viewport",Pl="popper",s2="reference",Sw=Ou.reduce(function(t,e){return t.concat([e+"-"+ya,e+"-"+lu])},[]),iR=[].concat(Ou,[Ty]).reduce(function(t,e){return t.concat([e,e+"-"+ya,e+"-"+lu])},[]),a2="beforeRead",l2="read",u2="afterRead",c2="beforeMain",f2="main",d2="afterMain",h2="beforeWrite",p2="write",m2="afterWrite",g2=[a2,l2,u2,c2,f2,d2,h2,p2,m2];function Mo(t){return t.split("-")[0]}function En(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function Yr(t){var e=En(t).Element;return t instanceof e||t instanceof Element}function No(t){var e=En(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function Ay(t){if(typeof ShadowRoot>"u")return!1;var e=En(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}var Hr=Math.max,bd=Math.min,_a=Math.round;function dv(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function rR(){return!/^((?!chrome|android).)*safari/i.test(dv())}function Sa(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!1);var o=t.getBoundingClientRect(),r=1,a=1;e&&No(t)&&(r=t.offsetWidth>0&&_a(o.width)/t.offsetWidth||1,a=t.offsetHeight>0&&_a(o.height)/t.offsetHeight||1);var u=Yr(t)?En(t):window,c=u.visualViewport,h=!rR()&&n,d=(o.left+(h&&c?c.offsetLeft:0))/r,m=(o.top+(h&&c?c.offsetTop:0))/a,y=o.width/r,S=o.height/a;return{width:y,height:S,top:m,right:d+y,bottom:m+S,left:d,x:d,y:m}}function xy(t){var e=Sa(t),n=t.offsetWidth,o=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-o)<=1&&(o=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:o}}function sR(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&Ay(n)){var o=e;do{if(o&&t.isSameNode(o))return!0;o=o.parentNode||o.host}while(o)}return!1}function ir(t){return t?(t.nodeName||"").toLowerCase():null}function pi(t){return En(t).getComputedStyle(t)}function v2(t){return["table","td","th"].indexOf(ir(t))>=0}function dr(t){return((Yr(t)?t.ownerDocument:t.document)||window.document).documentElement}function oh(t){return ir(t)==="html"?t:t.assignedSlot||t.parentNode||(Ay(t)?t.host:null)||dr(t)}function bw(t){return!No(t)||pi(t).position==="fixed"?null:t.offsetParent}function y2(t){var e=/firefox/i.test(dv()),n=/Trident/i.test(dv());if(n&&No(t)){var o=pi(t);if(o.position==="fixed")return null}var r=oh(t);for(Ay(r)&&(r=r.host);No(r)&&["html","body"].indexOf(ir(r))<0;){var a=pi(r);if(a.transform!=="none"||a.perspective!=="none"||a.contain==="paint"||["transform","perspective"].indexOf(a.willChange)!==-1||e&&a.willChange==="filter"||e&&a.filter&&a.filter!=="none")return r;r=r.parentNode}return null}function Pu(t){for(var e=En(t),n=bw(t);n&&v2(n)&&pi(n).position==="static";)n=bw(n);return n&&(ir(n)==="html"||ir(n)==="body"&&pi(n).position==="static")?e:n||y2(t)||e}function Ry(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function Zl(t,e,n){return Hr(t,bd(e,n))}function _2(t,e,n){var o=Zl(t,e,n);return o>n?n:o}function aR(){return{top:0,right:0,bottom:0,left:0}}function lR(t){return Object.assign({},aR(),t)}function uR(t,e){return e.reduce(function(n,o){return n[o]=t,n},{})}var S2=function(e,n){return e=typeof e=="function"?e(Object.assign({},n.rects,{placement:n.placement})):e,lR(typeof e!="number"?e:uR(e,Ou))};function b2(t){var e,n=t.state,o=t.name,r=t.options,a=n.elements.arrow,u=n.modifiersData.popperOffsets,c=Mo(n.placement),h=Ry(c),d=[tn,Jn].indexOf(c)>=0,m=d?"height":"width";if(!(!a||!u)){var y=S2(r.padding,n),S=xy(a),b=h==="y"?en:tn,T=h==="y"?qn:Jn,A=n.rects.reference[m]+n.rects.reference[h]-u[h]-n.rects.popper[m],x=u[h]-n.rects.reference[h],M=Pu(a),I=M?h==="y"?M.clientHeight||0:M.clientWidth||0:0,N=A/2-x/2,D=y[b],L=I-S[m]-y[T],U=I/2-S[m]/2+N,O=Zl(D,U,L),q=h;n.modifiersData[o]=(e={},e[q]=O,e.centerOffset=O-U,e)}}function E2(t){var e=t.state,n=t.options,o=n.element,r=o===void 0?"[data-popper-arrow]":o;r!=null&&(typeof r=="string"&&(r=e.elements.popper.querySelector(r),!r)||sR(e.elements.popper,r)&&(e.elements.arrow=r))}const w2={name:"arrow",enabled:!0,phase:"main",fn:b2,effect:E2,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function ba(t){return t.split("-")[1]}var C2={top:"auto",right:"auto",bottom:"auto",left:"auto"};function T2(t,e){var n=t.x,o=t.y,r=e.devicePixelRatio||1;return{x:_a(n*r)/r||0,y:_a(o*r)/r||0}}function Ew(t){var e,n=t.popper,o=t.popperRect,r=t.placement,a=t.variation,u=t.offsets,c=t.position,h=t.gpuAcceleration,d=t.adaptive,m=t.roundOffsets,y=t.isFixed,S=u.x,b=S===void 0?0:S,T=u.y,A=T===void 0?0:T,x=typeof m=="function"?m({x:b,y:A}):{x:b,y:A};b=x.x,A=x.y;var M=u.hasOwnProperty("x"),I=u.hasOwnProperty("y"),N=tn,D=en,L=window;if(d){var U=Pu(n),O="clientHeight",q="clientWidth";if(U===En(n)&&(U=dr(n),pi(U).position!=="static"&&c==="absolute"&&(O="scrollHeight",q="scrollWidth")),U=U,r===en||(r===tn||r===Jn)&&a===lu){D=qn;var J=y&&U===L&&L.visualViewport?L.visualViewport.height:U[O];A-=J-o.height,A*=h?1:-1}if(r===tn||(r===en||r===qn)&&a===lu){N=Jn;var j=y&&U===L&&L.visualViewport?L.visualViewport.width:U[q];b-=j-o.width,b*=h?1:-1}}var W=Object.assign({position:c},d&&C2),re=m===!0?T2({x:b,y:A},En(n)):{x:b,y:A};if(b=re.x,A=re.y,h){var oe;return Object.assign({},W,(oe={},oe[D]=I?"0":"",oe[N]=M?"0":"",oe.transform=(L.devicePixelRatio||1)<=1?"translate("+b+"px, "+A+"px)":"translate3d("+b+"px, "+A+"px, 0)",oe))}return Object.assign({},W,(e={},e[D]=I?A+"px":"",e[N]=M?b+"px":"",e.transform="",e))}function A2(t){var e=t.state,n=t.options,o=n.gpuAcceleration,r=o===void 0?!0:o,a=n.adaptive,u=a===void 0?!0:a,c=n.roundOffsets,h=c===void 0?!0:c,d={placement:Mo(e.placement),variation:ba(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:r,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,Ew(Object.assign({},d,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:u,roundOffsets:h})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,Ew(Object.assign({},d,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:h})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const x2={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:A2,data:{}};var bf={passive:!0};function R2(t){var e=t.state,n=t.instance,o=t.options,r=o.scroll,a=r===void 0?!0:r,u=o.resize,c=u===void 0?!0:u,h=En(e.elements.popper),d=[].concat(e.scrollParents.reference,e.scrollParents.popper);return a&&d.forEach(function(m){m.addEventListener("scroll",n.update,bf)}),c&&h.addEventListener("resize",n.update,bf),function(){a&&d.forEach(function(m){m.removeEventListener("scroll",n.update,bf)}),c&&h.removeEventListener("resize",n.update,bf)}}const M2={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:R2,data:{}};var N2={left:"right",right:"left",bottom:"top",top:"bottom"};function Yf(t){return t.replace(/left|right|bottom|top/g,function(e){return N2[e]})}var I2={start:"end",end:"start"};function ww(t){return t.replace(/start|end/g,function(e){return I2[e]})}function My(t){var e=En(t),n=e.pageXOffset,o=e.pageYOffset;return{scrollLeft:n,scrollTop:o}}function Ny(t){return Sa(dr(t)).left+My(t).scrollLeft}function D2(t,e){var n=En(t),o=dr(t),r=n.visualViewport,a=o.clientWidth,u=o.clientHeight,c=0,h=0;if(r){a=r.width,u=r.height;var d=rR();(d||!d&&e==="fixed")&&(c=r.offsetLeft,h=r.offsetTop)}return{width:a,height:u,x:c+Ny(t),y:h}}function O2(t){var e,n=dr(t),o=My(t),r=(e=t.ownerDocument)==null?void 0:e.body,a=Hr(n.scrollWidth,n.clientWidth,r?r.scrollWidth:0,r?r.clientWidth:0),u=Hr(n.scrollHeight,n.clientHeight,r?r.scrollHeight:0,r?r.clientHeight:0),c=-o.scrollLeft+Ny(t),h=-o.scrollTop;return pi(r||n).direction==="rtl"&&(c+=Hr(n.clientWidth,r?r.clientWidth:0)-a),{width:a,height:u,x:c,y:h}}function Iy(t){var e=pi(t),n=e.overflow,o=e.overflowX,r=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+r+o)}function cR(t){return["html","body","#document"].indexOf(ir(t))>=0?t.ownerDocument.body:No(t)&&Iy(t)?t:cR(oh(t))}function eu(t,e){var n;e===void 0&&(e=[]);var o=cR(t),r=o===((n=t.ownerDocument)==null?void 0:n.body),a=En(o),u=r?[a].concat(a.visualViewport||[],Iy(o)?o:[]):o,c=e.concat(u);return r?c:c.concat(eu(oh(u)))}function hv(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function P2(t,e){var n=Sa(t,!1,e==="fixed");return n.top=n.top+t.clientTop,n.left=n.left+t.clientLeft,n.bottom=n.top+t.clientHeight,n.right=n.left+t.clientWidth,n.width=t.clientWidth,n.height=t.clientHeight,n.x=n.left,n.y=n.top,n}function Cw(t,e,n){return e===oR?hv(D2(t,n)):Yr(e)?P2(e,n):hv(O2(dr(t)))}function k2(t){var e=eu(oh(t)),n=["absolute","fixed"].indexOf(pi(t).position)>=0,o=n&&No(t)?Pu(t):t;return Yr(o)?e.filter(function(r){return Yr(r)&&sR(r,o)&&ir(r)!=="body"}):[]}function L2(t,e,n,o){var r=e==="clippingParents"?k2(t):[].concat(e),a=[].concat(r,[n]),u=a[0],c=a.reduce(function(h,d){var m=Cw(t,d,o);return h.top=Hr(m.top,h.top),h.right=bd(m.right,h.right),h.bottom=bd(m.bottom,h.bottom),h.left=Hr(m.left,h.left),h},Cw(t,u,o));return c.width=c.right-c.left,c.height=c.bottom-c.top,c.x=c.left,c.y=c.top,c}function fR(t){var e=t.reference,n=t.element,o=t.placement,r=o?Mo(o):null,a=o?ba(o):null,u=e.x+e.width/2-n.width/2,c=e.y+e.height/2-n.height/2,h;switch(r){case en:h={x:u,y:e.y-n.height};break;case qn:h={x:u,y:e.y+e.height};break;case Jn:h={x:e.x+e.width,y:c};break;case tn:h={x:e.x-n.width,y:c};break;default:h={x:e.x,y:e.y}}var d=r?Ry(r):null;if(d!=null){var m=d==="y"?"height":"width";switch(a){case ya:h[d]=h[d]-(e[m]/2-n[m]/2);break;case lu:h[d]=h[d]+(e[m]/2-n[m]/2);break}}return h}function uu(t,e){e===void 0&&(e={});var n=e,o=n.placement,r=o===void 0?t.placement:o,a=n.strategy,u=a===void 0?t.strategy:a,c=n.boundary,h=c===void 0?r2:c,d=n.rootBoundary,m=d===void 0?oR:d,y=n.elementContext,S=y===void 0?Pl:y,b=n.altBoundary,T=b===void 0?!1:b,A=n.padding,x=A===void 0?0:A,M=lR(typeof x!="number"?x:uR(x,Ou)),I=S===Pl?s2:Pl,N=t.rects.popper,D=t.elements[T?I:S],L=L2(Yr(D)?D:D.contextElement||dr(t.elements.popper),h,m,u),U=Sa(t.elements.reference),O=fR({reference:U,element:N,placement:r}),q=hv(Object.assign({},N,O)),J=S===Pl?q:U,j={top:L.top-J.top+M.top,bottom:J.bottom-L.bottom+M.bottom,left:L.left-J.left+M.left,right:J.right-L.right+M.right},W=t.modifiersData.offset;if(S===Pl&&W){var re=W[r];Object.keys(j).forEach(function(oe){var ae=[Jn,qn].indexOf(oe)>=0?1:-1,de=[en,qn].indexOf(oe)>=0?"y":"x";j[oe]+=re[de]*ae})}return j}function U2(t,e){e===void 0&&(e={});var n=e,o=n.placement,r=n.boundary,a=n.rootBoundary,u=n.padding,c=n.flipVariations,h=n.allowedAutoPlacements,d=h===void 0?iR:h,m=ba(o),y=m?c?Sw:Sw.filter(function(T){return ba(T)===m}):Ou,S=y.filter(function(T){return d.indexOf(T)>=0});S.length===0&&(S=y);var b=S.reduce(function(T,A){return T[A]=uu(t,{placement:A,boundary:r,rootBoundary:a,padding:u})[Mo(A)],T},{});return Object.keys(b).sort(function(T,A){return b[T]-b[A]})}function B2(t){if(Mo(t)===Ty)return[];var e=Yf(t);return[ww(t),e,ww(e)]}function F2(t){var e=t.state,n=t.options,o=t.name;if(!e.modifiersData[o]._skip){for(var r=n.mainAxis,a=r===void 0?!0:r,u=n.altAxis,c=u===void 0?!0:u,h=n.fallbackPlacements,d=n.padding,m=n.boundary,y=n.rootBoundary,S=n.altBoundary,b=n.flipVariations,T=b===void 0?!0:b,A=n.allowedAutoPlacements,x=e.options.placement,M=Mo(x),I=M===x,N=h||(I||!T?[Yf(x)]:B2(x)),D=[x].concat(N).reduce(function(le,me){return le.concat(Mo(me)===Ty?U2(e,{placement:me,boundary:m,rootBoundary:y,padding:d,flipVariations:T,allowedAutoPlacements:A}):me)},[]),L=e.rects.reference,U=e.rects.popper,O=new Map,q=!0,J=D[0],j=0;j<D.length;j++){var W=D[j],re=Mo(W),oe=ba(W)===ya,ae=[en,qn].indexOf(re)>=0,de=ae?"width":"height",F=uu(e,{placement:W,boundary:m,rootBoundary:y,altBoundary:S,padding:d}),Q=ae?oe?Jn:tn:oe?qn:en;L[de]>U[de]&&(Q=Yf(Q));var ee=Yf(Q),ne=[];if(a&&ne.push(F[re]<=0),c&&ne.push(F[Q]<=0,F[ee]<=0),ne.every(function(le){return le})){J=W,q=!1;break}O.set(W,ne)}if(q)for(var ce=T?3:1,k=function(me){var be=D.find(function(ve){var ze=O.get(ve);if(ze)return ze.slice(0,me).every(function(qe){return qe})});if(be)return J=be,"break"},Y=ce;Y>0;Y--){var se=k(Y);if(se==="break")break}e.placement!==J&&(e.modifiersData[o]._skip=!0,e.placement=J,e.reset=!0)}}const $2={name:"flip",enabled:!0,phase:"main",fn:F2,requiresIfExists:["offset"],data:{_skip:!1}};function Tw(t,e,n){return n===void 0&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function Aw(t){return[en,Jn,qn,tn].some(function(e){return t[e]>=0})}function H2(t){var e=t.state,n=t.name,o=e.rects.reference,r=e.rects.popper,a=e.modifiersData.preventOverflow,u=uu(e,{elementContext:"reference"}),c=uu(e,{altBoundary:!0}),h=Tw(u,o),d=Tw(c,r,a),m=Aw(h),y=Aw(d);e.modifiersData[n]={referenceClippingOffsets:h,popperEscapeOffsets:d,isReferenceHidden:m,hasPopperEscaped:y},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":m,"data-popper-escaped":y})}const G2={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:H2};function V2(t,e,n){var o=Mo(t),r=[tn,en].indexOf(o)>=0?-1:1,a=typeof n=="function"?n(Object.assign({},e,{placement:t})):n,u=a[0],c=a[1];return u=u||0,c=(c||0)*r,[tn,Jn].indexOf(o)>=0?{x:c,y:u}:{x:u,y:c}}function z2(t){var e=t.state,n=t.options,o=t.name,r=n.offset,a=r===void 0?[0,0]:r,u=iR.reduce(function(m,y){return m[y]=V2(y,e.rects,a),m},{}),c=u[e.placement],h=c.x,d=c.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=h,e.modifiersData.popperOffsets.y+=d),e.modifiersData[o]=u}const q2={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:z2};function J2(t){var e=t.state,n=t.name;e.modifiersData[n]=fR({reference:e.rects.reference,element:e.rects.popper,placement:e.placement})}const K2={name:"popperOffsets",enabled:!0,phase:"read",fn:J2,data:{}};function Y2(t){return t==="x"?"y":"x"}function j2(t){var e=t.state,n=t.options,o=t.name,r=n.mainAxis,a=r===void 0?!0:r,u=n.altAxis,c=u===void 0?!1:u,h=n.boundary,d=n.rootBoundary,m=n.altBoundary,y=n.padding,S=n.tether,b=S===void 0?!0:S,T=n.tetherOffset,A=T===void 0?0:T,x=uu(e,{boundary:h,rootBoundary:d,padding:y,altBoundary:m}),M=Mo(e.placement),I=ba(e.placement),N=!I,D=Ry(M),L=Y2(D),U=e.modifiersData.popperOffsets,O=e.rects.reference,q=e.rects.popper,J=typeof A=="function"?A(Object.assign({},e.rects,{placement:e.placement})):A,j=typeof J=="number"?{mainAxis:J,altAxis:J}:Object.assign({mainAxis:0,altAxis:0},J),W=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,re={x:0,y:0};if(U){if(a){var oe,ae=D==="y"?en:tn,de=D==="y"?qn:Jn,F=D==="y"?"height":"width",Q=U[D],ee=Q+x[ae],ne=Q-x[de],ce=b?-q[F]/2:0,k=I===ya?O[F]:q[F],Y=I===ya?-q[F]:-O[F],se=e.elements.arrow,le=b&&se?xy(se):{width:0,height:0},me=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:aR(),be=me[ae],ve=me[de],ze=Zl(0,O[F],le[F]),qe=N?O[F]/2-ce-ze-be-j.mainAxis:k-ze-be-j.mainAxis,on=N?-O[F]/2+ce+ze+ve+j.mainAxis:Y+ze+ve+j.mainAxis,Cn=e.elements.arrow&&Pu(e.elements.arrow),po=Cn?D==="y"?Cn.clientTop||0:Cn.clientLeft||0:0,zt=(oe=W?.[D])!=null?oe:0,qt=Q+qe-zt-po,Ze=Q+on-zt,Uo=Zl(b?bd(ee,qt):ee,Q,b?Hr(ne,Ze):ne);U[D]=Uo,re[D]=Uo-Q}if(c){var Ei,Yu=D==="x"?en:tn,La=D==="x"?qn:Jn,jn=U[L],wi=L==="y"?"height":"width",ju=jn+x[Yu],Xu=jn-x[La],At=[en,tn].indexOf(M)!==-1,Wu=(Ei=W?.[L])!=null?Ei:0,Ua=At?ju:jn-O[wi]-q[wi]-Wu+j.altAxis,Ba=At?jn+O[wi]+q[wi]-Wu-j.altAxis:Xu,mr=b&&At?_2(Ua,jn,Ba):Zl(b?Ua:ju,jn,b?Ba:Xu);U[L]=mr,re[L]=mr-jn}e.modifiersData[o]=re}}const X2={name:"preventOverflow",enabled:!0,phase:"main",fn:j2,requiresIfExists:["offset"]};function W2(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function Q2(t){return t===En(t)||!No(t)?My(t):W2(t)}function Z2(t){var e=t.getBoundingClientRect(),n=_a(e.width)/t.offsetWidth||1,o=_a(e.height)/t.offsetHeight||1;return n!==1||o!==1}function eB(t,e,n){n===void 0&&(n=!1);var o=No(e),r=No(e)&&Z2(e),a=dr(e),u=Sa(t,r,n),c={scrollLeft:0,scrollTop:0},h={x:0,y:0};return(o||!o&&!n)&&((ir(e)!=="body"||Iy(a))&&(c=Q2(e)),No(e)?(h=Sa(e,!0),h.x+=e.clientLeft,h.y+=e.clientTop):a&&(h.x=Ny(a))),{x:u.left+c.scrollLeft-h.x,y:u.top+c.scrollTop-h.y,width:u.width,height:u.height}}function tB(t){var e=new Map,n=new Set,o=[];t.forEach(function(a){e.set(a.name,a)});function r(a){n.add(a.name);var u=[].concat(a.requires||[],a.requiresIfExists||[]);u.forEach(function(c){if(!n.has(c)){var h=e.get(c);h&&r(h)}}),o.push(a)}return t.forEach(function(a){n.has(a.name)||r(a)}),o}function nB(t){var e=tB(t);return g2.reduce(function(n,o){return n.concat(e.filter(function(r){return r.phase===o}))},[])}function oB(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}function iB(t){var e=t.reduce(function(n,o){var r=n[o.name];return n[o.name]=r?Object.assign({},r,o,{options:Object.assign({},r.options,o.options),data:Object.assign({},r.data,o.data)}):o,n},{});return Object.keys(e).map(function(n){return e[n]})}var xw={placement:"bottom",modifiers:[],strategy:"absolute"};function Rw(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(o){return!(o&&typeof o.getBoundingClientRect=="function")})}function rB(t){t===void 0&&(t={});var e=t,n=e.defaultModifiers,o=n===void 0?[]:n,r=e.defaultOptions,a=r===void 0?xw:r;return function(c,h,d){d===void 0&&(d=a);var m={placement:"bottom",orderedModifiers:[],options:Object.assign({},xw,a),modifiersData:{},elements:{reference:c,popper:h},attributes:{},styles:{}},y=[],S=!1,b={state:m,setOptions:function(M){var I=typeof M=="function"?M(m.options):M;A(),m.options=Object.assign({},a,m.options,I),m.scrollParents={reference:Yr(c)?eu(c):c.contextElement?eu(c.contextElement):[],popper:eu(h)};var N=nB(iB([].concat(o,m.options.modifiers)));return m.orderedModifiers=N.filter(function(D){return D.enabled}),T(),b.update()},forceUpdate:function(){if(!S){var M=m.elements,I=M.reference,N=M.popper;if(Rw(I,N)){m.rects={reference:eB(I,Pu(N),m.options.strategy==="fixed"),popper:xy(N)},m.reset=!1,m.placement=m.options.placement,m.orderedModifiers.forEach(function(j){return m.modifiersData[j.name]=Object.assign({},j.data)});for(var D=0;D<m.orderedModifiers.length;D++){if(m.reset===!0){m.reset=!1,D=-1;continue}var L=m.orderedModifiers[D],U=L.fn,O=L.options,q=O===void 0?{}:O,J=L.name;typeof U=="function"&&(m=U({state:m,options:q,name:J,instance:b})||m)}}}},update:oB(function(){return new Promise(function(x){b.forceUpdate(),x(m)})}),destroy:function(){A(),S=!0}};if(!Rw(c,h))return b;b.setOptions(d).then(function(x){!S&&d.onFirstUpdate&&d.onFirstUpdate(x)});function T(){m.orderedModifiers.forEach(function(x){var M=x.name,I=x.options,N=I===void 0?{}:I,D=x.effect;if(typeof D=="function"){var L=D({state:m,name:M,instance:b,options:N}),U=function(){};y.push(L||U)}})}function A(){y.forEach(function(x){return x()}),y=[]}return b}}const sB=rB({defaultModifiers:[G2,K2,x2,M2,q2,$2,X2,w2]}),aB=["enabled","placement","strategy","modifiers"];function lB(t,e){if(t==null)return{};var n={};for(var o in t)if({}.hasOwnProperty.call(t,o)){if(e.indexOf(o)>=0)continue;n[o]=t[o]}return n}const uB={name:"applyStyles",enabled:!1,phase:"afterWrite",fn:()=>{}},cB={name:"ariaDescribedBy",enabled:!0,phase:"afterWrite",effect:({state:t})=>()=>{const{reference:e,popper:n}=t.elements;if("removeAttribute"in e){const o=(e.getAttribute("aria-describedby")||"").split(",").filter(r=>r.trim()!==n.id);o.length?e.setAttribute("aria-describedby",o.join(",")):e.removeAttribute("aria-describedby")}},fn:({state:t})=>{var e;const{popper:n,reference:o}=t.elements,r=(e=n.getAttribute("role"))==null?void 0:e.toLowerCase();if(n.id&&r==="tooltip"&&"setAttribute"in o){const a=o.getAttribute("aria-describedby");if(a&&a.split(",").indexOf(n.id)!==-1)return;o.setAttribute("aria-describedby",a?`${a},${n.id}`:n.id)}}},fB=[];function dB(t,e,n={}){let{enabled:o=!0,placement:r="bottom",strategy:a="absolute",modifiers:u=fB}=n,c=lB(n,aB);const h=C.useRef(u),d=C.useRef(),m=C.useCallback(()=>{var x;(x=d.current)==null||x.update()},[]),y=C.useCallback(()=>{var x;(x=d.current)==null||x.forceUpdate()},[]),[S,b]=i2(C.useState({placement:r,update:m,forceUpdate:y,attributes:{},styles:{popper:{},arrow:{}}})),T=C.useMemo(()=>({name:"updateStateModifier",enabled:!0,phase:"write",requires:["computeStyles"],fn:({state:x})=>{const M={},I={};Object.keys(x.elements).forEach(N=>{M[N]=x.styles[N],I[N]=x.attributes[N]}),b({state:x,styles:M,attributes:I,update:m,forceUpdate:y,placement:x.placement})}}),[m,y,b]),A=C.useMemo(()=>(Ql(h.current,u)||(h.current=u),h.current),[u]);return C.useEffect(()=>{!d.current||!o||d.current.setOptions({placement:r,strategy:a,modifiers:[...A,T,uB]})},[a,r,T,o,A]),C.useEffect(()=>{if(!(!o||t==null||e==null))return d.current=sB(t,e,Object.assign({},c,{placement:r,strategy:a,modifiers:[...A,cB,T]})),()=>{d.current!=null&&(d.current.destroy(),d.current=void 0,b(x=>Object.assign({},x,{attributes:{},styles:{popper:{}}})))}},[o,t,e]),S}function Ed(t,e){if(t.contains)return t.contains(e);if(t.compareDocumentPosition)return t===e||!!(t.compareDocumentPosition(e)&16)}var dg,Mw;function hB(){if(Mw)return dg;Mw=1;var t=function(){};return dg=t,dg}var pB=hB();const mB=Su(pB),Nw=()=>{};function gB(t){return t.button===0}function vB(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}const hg=t=>t&&("current"in t?t.current:t),Iw={click:"mousedown",mouseup:"mousedown",pointerup:"pointerdown"};function yB(t,e=Nw,{disabled:n,clickTrigger:o="click"}={}){const r=C.useRef(!1),a=C.useRef(!1),u=C.useCallback(d=>{const m=hg(t);mB(!!m,"ClickOutside captured a close event but does not have a ref to compare it to. useClickOutside(), should be passed a ref that resolves to a DOM node"),r.current=!m||vB(d)||!gB(d)||!!Ed(m,d.target)||a.current,a.current=!1},[t]),c=Lt(d=>{const m=hg(t);m&&Ed(m,d.target)?a.current=!0:a.current=!1}),h=Lt(d=>{r.current||e(d)});C.useEffect(()=>{var d,m;if(n||t==null)return;const y=Zd(hg(t)),S=y.defaultView||window;let b=(d=S.event)!=null?d:(m=S.parent)==null?void 0:m.event,T=null;Iw[o]&&(T=er(y,Iw[o],c,!0));const A=er(y,o,u,!0),x=er(y,o,I=>{if(I===b){b=void 0;return}h(I)});let M=[];return"ontouchstart"in y.documentElement&&(M=[].slice.call(y.body.children).map(I=>er(I,"mousemove",Nw))),()=>{T?.(),A(),x(),M.forEach(I=>I())}},[t,n,o,u,c,h])}function _B(t){const e={};return Array.isArray(t)?(t?.forEach(n=>{e[n.name]=n}),e):t||e}function SB(t={}){return Array.isArray(t)?t:Object.keys(t).map(e=>(t[e].name=e,t[e]))}function bB({enabled:t,enableEvents:e,placement:n,flip:o,offset:r,fixed:a,containerPadding:u,arrowElement:c,popperConfig:h={}}){var d,m,y,S,b;const T=_B(h.modifiers);return Object.assign({},h,{placement:n,enabled:t,strategy:a?"fixed":h.strategy,modifiers:SB(Object.assign({},T,{eventListeners:{enabled:e,options:(d=T.eventListeners)==null?void 0:d.options},preventOverflow:Object.assign({},T.preventOverflow,{options:u?Object.assign({padding:u},(m=T.preventOverflow)==null?void 0:m.options):(y=T.preventOverflow)==null?void 0:y.options}),offset:{options:Object.assign({offset:r},(S=T.offset)==null?void 0:S.options)},arrow:Object.assign({},T.arrow,{enabled:!!c,options:Object.assign({},(b=T.arrow)==null?void 0:b.options,{element:c})}),flip:Object.assign({enabled:!!o},T.flip)}))})}const EB=["children","usePopper"];function wB(t,e){if(t==null)return{};var n={};for(var o in t)if({}.hasOwnProperty.call(t,o)){if(e.indexOf(o)>=0)continue;n[o]=t[o]}return n}const CB=()=>{};function dR(t={}){const e=C.useContext(nh),[n,o]=$U(),r=C.useRef(!1),{flip:a,offset:u,rootCloseEvent:c,fixed:h=!1,placement:d,popperConfig:m={},enableEventListeners:y=!0,usePopper:S=!!e}=t,b=e?.show==null?!!t.show:e.show;b&&!r.current&&(r.current=!0);const T=U=>{e?.toggle(!1,U)},{placement:A,setMenu:x,menuElement:M,toggleElement:I}=e||{},N=dB(I,M,bB({placement:d||A||"bottom-start",enabled:S,enableEvents:y??b,offset:u,flip:a,fixed:h,arrowElement:n,popperConfig:m})),D=Object.assign({ref:x||CB,"aria-labelledby":I?.id},N.attributes.popper,{style:N.styles.popper}),L={show:b,placement:A,hasShown:r.current,toggle:e?.toggle,popper:S?N:null,arrowProps:S?Object.assign({ref:o},N.attributes.arrow,{style:N.styles.arrow}):{}};return yB(M,T,{clickTrigger:c,disabled:!b}),[D,L]}function hR(t){let{children:e,usePopper:n=!0}=t,o=wB(t,EB);const[r,a]=dR(Object.assign({},o,{usePopper:n}));return E.jsx(E.Fragment,{children:e(r,a)})}hR.displayName="DropdownMenu";const pR={prefix:String(Math.round(Math.random()*1e10)),current:0},mR=tt.createContext(pR),TB=tt.createContext(!1);let pg=new WeakMap;function AB(t=!1){let e=C.useContext(mR),n=C.useRef(null);if(n.current===null&&!t){var o,r;let a=(r=tt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED)===null||r===void 0||(o=r.ReactCurrentOwner)===null||o===void 0?void 0:o.current;if(a){let u=pg.get(a);u==null?pg.set(a,{id:e.current,state:a.memoizedState}):a.memoizedState!==u.state&&(e.current=u.id,pg.delete(a))}n.current=++e.current}return n.current}function xB(t){let e=C.useContext(mR),n=AB(!!t),o=`react-aria${e.prefix}`;return t||`${o}-${n}`}function RB(t){let e=tt.useId(),[n]=C.useState(OB()),o=n?"react-aria":`react-aria${pR.prefix}`;return t||`${o}-${e}`}const MB=typeof tt.useId=="function"?RB:xB;function NB(){return!1}function IB(){return!0}function DB(t){return()=>{}}function OB(){return typeof tt.useSyncExternalStore=="function"?tt.useSyncExternalStore(DB,NB,IB):C.useContext(TB)}const gR=t=>{var e;return((e=t.getAttribute("role"))==null?void 0:e.toLowerCase())==="menu"},Dw=()=>{};function vR(){const t=MB(),{show:e=!1,toggle:n=Dw,setToggle:o,menuElement:r}=C.useContext(nh)||{},a=C.useCallback(c=>{n(!e,c)},[e,n]),u={id:t,ref:o||Dw,onClick:a,"aria-expanded":!!e};return r&&gR(r)&&(u["aria-haspopup"]=!0),[u,{show:e,toggle:n}]}function yR({children:t}){const[e,n]=vR();return E.jsx(E.Fragment,{children:t(e,n)})}yR.displayName="DropdownToggle";const jr=C.createContext(null),cu=(t,e=null)=>t!=null?String(t):e||null,ih=C.createContext(null);ih.displayName="NavContext";const PB="data-rr-ui-",kB="rrUi";function xa(t){return`${PB}${t}`}function LB(t){return`${kB}${t}`}const UB=["eventKey","disabled","onClick","active","as"];function BB(t,e){if(t==null)return{};var n={};for(var o in t)if({}.hasOwnProperty.call(t,o)){if(e.indexOf(o)>=0)continue;n[o]=t[o]}return n}function _R({key:t,href:e,active:n,disabled:o,onClick:r}){const a=C.useContext(jr),u=C.useContext(ih),{activeKey:c}=u||{},h=cu(t,e),d=n==null&&t!=null?cu(c)===h:n;return[{onClick:Lt(y=>{o||(r?.(y),a&&!y.isPropagationStopped()&&a(h,y))}),"aria-disabled":o||void 0,"aria-selected":d,[xa("dropdown-item")]:""},{isActive:d}]}const SR=C.forwardRef((t,e)=>{let{eventKey:n,disabled:o,onClick:r,active:a,as:u=Sy}=t,c=BB(t,UB);const[h]=_R({key:n,href:c.href,disabled:o,onClick:r,active:a});return E.jsx(u,Object.assign({},c,{ref:e},h))});SR.displayName="DropdownItem";const bR=C.createContext(eh?window:void 0);bR.Provider;function rh(){return C.useContext(bR)}function Ow(){const t=nR(),e=C.useRef(null),n=C.useCallback(o=>{e.current=o,t()},[t]);return[e,n]}function ku({defaultShow:t,show:e,onSelect:n,onToggle:o,itemSelector:r=`* [${xa("dropdown-item")}]`,focusFirstItemOnShow:a,placement:u="bottom-start",children:c}){const h=rh(),[d,m]=o2(e,t,o),[y,S]=Ow(),b=y.current,[T,A]=Ow(),x=T.current,M=Gx(d),I=C.useRef(null),N=C.useRef(!1),D=C.useContext(jr),L=C.useCallback((W,re,oe=re?.type)=>{m(W,{originalEvent:re,source:oe})},[m]),U=Lt((W,re)=>{n?.(W,re),L(!1,re,"select"),re.isPropagationStopped()||D?.(W,re)}),O=C.useMemo(()=>({toggle:L,placement:u,show:d,menuElement:b,toggleElement:x,setMenu:S,setToggle:A}),[L,u,d,b,x,S,A]);b&&M&&!d&&(N.current=b.contains(b.ownerDocument.activeElement));const q=Lt(()=>{x&&x.focus&&x.focus()}),J=Lt(()=>{const W=I.current;let re=a;if(re==null&&(re=y.current&&gR(y.current)?"keyboard":!1),re===!1||re==="keyboard"&&!/^key.+$/.test(W))return;const oe=ii(y.current,r)[0];oe&&oe.focus&&oe.focus()});C.useEffect(()=>{d?J():N.current&&(N.current=!1,q())},[d,N,q,J]),C.useEffect(()=>{I.current=null});const j=(W,re)=>{if(!y.current)return null;const oe=ii(y.current,r);let ae=oe.indexOf(W)+re;return ae=Math.max(0,Math.min(ae,oe.length)),oe[ae]};return GU(C.useCallback(()=>h.document,[h]),"keydown",W=>{var re,oe;const{key:ae}=W,de=W.target,F=(re=y.current)==null?void 0:re.contains(de),Q=(oe=T.current)==null?void 0:oe.contains(de);if(/input|textarea/i.test(de.tagName)&&(ae===" "||ae!=="Escape"&&F||ae==="Escape"&&de.type==="search")||!F&&!Q||ae==="Tab"&&(!y.current||!d))return;I.current=W.type;const ne={originalEvent:W,source:W.type};switch(ae){case"ArrowUp":{const ce=j(de,-1);ce&&ce.focus&&ce.focus(),W.preventDefault();return}case"ArrowDown":if(W.preventDefault(),!d)m(!0,ne);else{const ce=j(de,1);ce&&ce.focus&&ce.focus()}return;case"Tab":Bx(de.ownerDocument,"keyup",ce=>{var k;(ce.key==="Tab"&&!ce.target||!((k=y.current)!=null&&k.contains(ce.target)))&&m(!1,ne)},{once:!0});break;case"Escape":ae==="Escape"&&(W.preventDefault(),W.stopPropagation()),m(!1,ne);break}}),E.jsx(jr.Provider,{value:U,children:E.jsx(nh.Provider,{value:O,children:c})})}ku.displayName="Dropdown";ku.Menu=hR;ku.Toggle=yR;ku.Item=SR;const Dy=C.createContext({});Dy.displayName="DropdownContext";const ER=C.forwardRef(({className:t,bsPrefix:e,as:n="hr",role:o="separator",...r},a)=>(e=Ue(e,"dropdown-divider"),E.jsx(n,{ref:a,className:Ne(t,e),role:o,...r})));ER.displayName="DropdownDivider";const wR=C.forwardRef(({className:t,bsPrefix:e,as:n="div",role:o="heading",...r},a)=>(e=Ue(e,"dropdown-header"),E.jsx(n,{ref:a,className:Ne(t,e),role:o,...r})));wR.displayName="DropdownHeader";const CR=C.forwardRef(({bsPrefix:t,className:e,eventKey:n,disabled:o=!1,onClick:r,active:a,as:u=by,...c},h)=>{const d=Ue(t,"dropdown-item"),[m,y]=_R({key:n,href:c.href,disabled:o,onClick:r,active:a});return E.jsx(u,{...c,...m,ref:h,className:Ne(e,d,y.isActive&&"active",o&&"disabled")})});CR.displayName="DropdownItem";const TR=C.forwardRef(({className:t,bsPrefix:e,as:n="span",...o},r)=>(e=Ue(e,"dropdown-item-text"),E.jsx(n,{ref:r,className:Ne(t,e),...o})));TR.displayName="DropdownItemText";const FB=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",$B=typeof document<"u",AR=$B||FB?C.useLayoutEffect:C.useEffect,Oy=C.createContext(null);Oy.displayName="InputGroupContext";const ns=C.createContext(null);ns.displayName="NavbarContext";function xR(t,e){return t}function RR(t,e,n){const o=n?"top-end":"top-start",r=n?"top-start":"top-end",a=n?"bottom-end":"bottom-start",u=n?"bottom-start":"bottom-end",c=n?"right-start":"left-start",h=n?"right-end":"left-end",d=n?"left-start":"right-start",m=n?"left-end":"right-end";let y=t?u:a;return e==="up"?y=t?r:o:e==="end"?y=t?m:d:e==="start"?y=t?h:c:e==="down-centered"?y="bottom":e==="up-centered"&&(y="top"),y}const MR=C.forwardRef(({bsPrefix:t,className:e,align:n,rootCloseEvent:o,flip:r=!0,show:a,renderOnMount:u,as:c="div",popperConfig:h,variant:d,...m},y)=>{let S=!1;const b=C.useContext(ns),T=Ue(t,"dropdown-menu"),{align:A,drop:x,isRTL:M}=C.useContext(Dy);n=n||A;const I=C.useContext(Oy),N=[];if(n)if(typeof n=="object"){const W=Object.keys(n);if(W.length){const re=W[0],oe=n[re];S=oe==="start",N.push(`${T}-${re}-${oe}`)}}else n==="end"&&(S=!0);const D=RR(S,x,M),[L,{hasShown:U,popper:O,show:q,toggle:J}]=dR({flip:r,rootCloseEvent:o,show:a,usePopper:!b&&N.length===0,offset:[0,2],popperConfig:h,placement:D});if(L.ref=vy(xR(y),L.ref),AR(()=>{q&&O?.update()},[q]),!U&&!u&&!I)return null;typeof c!="string"&&(L.show=q,L.close=()=>J?.(!1),L.align=n);let j=m.style;return O!=null&&O.placement&&(j={...m.style,...L.style},m["x-placement"]=O.placement),E.jsx(c,{...m,...L,style:j,...(N.length||b)&&{"data-bs-popper":"static"},className:Ne(e,T,q&&"show",S&&`${T}-end`,d&&`${T}-${d}`,...N)})});MR.displayName="DropdownMenu";const NR=C.forwardRef(({bsPrefix:t,split:e,className:n,childBsPrefix:o,as:r=zx,...a},u)=>{const c=Ue(t,"dropdown-toggle"),h=C.useContext(nh);o!==void 0&&(a.bsPrefix=o);const[d]=vR();return d.ref=vy(d.ref,xR(u)),E.jsx(r,{className:Ne(n,c,e&&`${c}-split`,h?.show&&"show"),...d,...a})});NR.displayName="DropdownToggle";const IR=C.forwardRef((t,e)=>{const{bsPrefix:n,drop:o="down",show:r,className:a,align:u="start",onSelect:c,onToggle:h,focusFirstItemOnShow:d,as:m="div",navbar:y,autoClose:S=!0,...b}=my(t,{show:"onToggle"}),T=C.useContext(Oy),A=Ue(n,"dropdown"),x=pU(),M=O=>S===!1?O==="click":S==="inside"?O!=="rootClose":S==="outside"?O!=="select":!0,I=Du((O,q)=>{var J;!((J=q.originalEvent)==null||(J=J.target)==null)&&J.classList.contains("dropdown-toggle")&&q.source==="mousedown"||(q.originalEvent.currentTarget===document&&(q.source!=="keydown"||q.originalEvent.key==="Escape")&&(q.source="rootClose"),M(q.source)&&h?.(O,q))}),D=RR(u==="end",o,x),L=C.useMemo(()=>({align:u,drop:o,isRTL:x}),[u,o,x]),U={down:A,"down-centered":`${A}-center`,up:"dropup","up-centered":"dropup-center dropup",end:"dropend",start:"dropstart"};return E.jsx(Dy.Provider,{value:L,children:E.jsx(ku,{placement:D,show:r,onSelect:c,onToggle:I,focusFirstItemOnShow:d,itemSelector:`.${A}-item:not(.disabled):not(:disabled)`,children:T?b.children:E.jsx(m,{...b,ref:e,className:Ne(a,r&&"show",U[o])})})})});IR.displayName="Dropdown";const Ef=Object.assign(IR,{Toggle:NR,Menu:MR,Item:CR,ItemText:TR,Divider:ER,Header:wR}),Pw=t=>!t||typeof t=="function"?t:e=>{t.current=e};function HB(t,e){const n=Pw(t),o=Pw(e);return r=>{n&&n(r),o&&o(r)}}function sh(t,e){return C.useMemo(()=>HB(t,e),[t,e])}const DR=C.createContext(null),GB=["as","active","eventKey"];function VB(t,e){if(t==null)return{};var n={};for(var o in t)if({}.hasOwnProperty.call(t,o)){if(e.indexOf(o)>=0)continue;n[o]=t[o]}return n}function OR({key:t,onClick:e,active:n,id:o,role:r,disabled:a}){const u=C.useContext(jr),c=C.useContext(ih),h=C.useContext(DR);let d=n;const m={role:r};if(c){!r&&c.role==="tablist"&&(m.role="tab");const y=c.getControllerId(t??null),S=c.getControlledId(t??null);m[xa("event-key")]=t,m.id=y||o,d=n==null&&t!=null?c.activeKey===t:n,(d||!(h!=null&&h.unmountOnExit)&&!(h!=null&&h.mountOnEnter))&&(m["aria-controls"]=S)}return m.role==="tab"&&(m["aria-selected"]=d,d||(m.tabIndex=-1),a&&(m.tabIndex=-1,m["aria-disabled"]=!0)),m.onClick=Lt(y=>{a||(e?.(y),t!=null&&u&&!y.isPropagationStopped()&&u(t,y))}),[m,{isActive:d}]}const PR=C.forwardRef((t,e)=>{let{as:n=Sy,active:o,eventKey:r}=t,a=VB(t,GB);const[u,c]=OR(Object.assign({key:cu(r,a.href),active:o},a));return u[xa("active")]=c.isActive,E.jsx(n,Object.assign({},a,u,{ref:e}))});PR.displayName="NavItem";const zB=["as","onSelect","activeKey","role","onKeyDown"];function qB(t,e){if(t==null)return{};var n={};for(var o in t)if({}.hasOwnProperty.call(t,o)){if(e.indexOf(o)>=0)continue;n[o]=t[o]}return n}const kw=()=>{},Lw=xa("event-key"),kR=C.forwardRef((t,e)=>{let{as:n="div",onSelect:o,activeKey:r,role:a,onKeyDown:u}=t,c=qB(t,zB);const h=nR(),d=C.useRef(!1),m=C.useContext(jr),y=C.useContext(DR);let S,b;y&&(a=a||"tablist",r=y.activeKey,S=y.getControlledId,b=y.getControllerId);const T=C.useRef(null),A=N=>{const D=T.current;if(!D)return null;const L=ii(D,`[${Lw}]:not([aria-disabled=true])`),U=D.querySelector("[aria-selected=true]");if(!U||U!==document.activeElement)return null;const O=L.indexOf(U);if(O===-1)return null;let q=O+N;return q>=L.length&&(q=0),q<0&&(q=L.length-1),L[q]},x=(N,D)=>{N!=null&&(o?.(N,D),m?.(N,D))},M=N=>{if(u?.(N),!y)return;let D;switch(N.key){case"ArrowLeft":case"ArrowUp":D=A(-1);break;case"ArrowRight":case"ArrowDown":D=A(1);break;default:return}D&&(N.preventDefault(),x(D.dataset[LB("EventKey")]||null,N),d.current=!0,h())};C.useEffect(()=>{if(T.current&&d.current){const N=T.current.querySelector(`[${Lw}][aria-selected=true]`);N?.focus()}d.current=!1});const I=sh(e,T);return E.jsx(jr.Provider,{value:x,children:E.jsx(ih.Provider,{value:{role:a,activeKey:cu(r),getControlledId:S||kw,getControllerId:b||kw},children:E.jsx(n,Object.assign({},c,{onKeyDown:M,ref:I,role:a}))})})});kR.displayName="Nav";const JB=Object.assign(kR,{Item:PR});function mg(t){t===void 0&&(t=Zd());try{var e=t.activeElement;return!e||!e.nodeName?null:e}catch{return t.body}}function KB(t){const e=C.useRef(t);return e.current=t,e}function YB(t){const e=KB(t);C.useEffect(()=>()=>e.current(),[])}function jB(t=document){const e=t.defaultView;return Math.abs(e.innerWidth-t.documentElement.clientWidth)}const Uw=xa("modal-open");class Py{constructor({ownerDocument:e,handleContainerOverflow:n=!0,isRTL:o=!1}={}){this.handleContainerOverflow=n,this.isRTL=o,this.modals=[],this.ownerDocument=e}getScrollbarWidth(){return jB(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes(e){}removeModalAttributes(e){}setContainerStyle(e){const n={overflow:"hidden"},o=this.isRTL?"paddingLeft":"paddingRight",r=this.getElement();e.style={overflow:r.style.overflow,[o]:r.style[o]},e.scrollBarWidth&&(n[o]=`${parseInt(ci(r,o)||"0",10)+e.scrollBarWidth}px`),r.setAttribute(Uw,""),ci(r,n)}reset(){[...this.modals].forEach(e=>this.remove(e))}removeContainerStyle(e){const n=this.getElement();n.removeAttribute(Uw),Object.assign(n.style,e.style)}add(e){let n=this.modals.indexOf(e);return n!==-1||(n=this.modals.length,this.modals.push(e),this.setModalAttributes(e),n!==0)||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),n}remove(e){const n=this.modals.indexOf(e);n!==-1&&(this.modals.splice(n,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(e))}isTopModal(e){return!!this.modals.length&&this.modals[this.modals.length-1]===e}}const gg=(t,e)=>eh?t==null?(e||Zd()).body:(typeof t=="function"&&(t=t()),t&&"current"in t&&(t=t.current),t&&("nodeType"in t||t.getBoundingClientRect)?t:null):null;function XB(t,e){const n=rh(),[o,r]=C.useState(()=>gg(t,n?.document));if(!o){const a=gg(t);a&&r(a)}return C.useEffect(()=>{},[e,o]),C.useEffect(()=>{const a=gg(t);a!==o&&r(a)},[t,o]),o}function WB({children:t,in:e,onExited:n,mountOnEnter:o,unmountOnExit:r}){const a=C.useRef(null),u=C.useRef(e),c=Lt(n);C.useEffect(()=>{e?u.current=!0:c(a.current)},[e,c]);const h=sh(a,Aa(t)),d=C.cloneElement(t,{ref:h});return e?d:r||!u.current&&o?null:d}const QB=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children"];function ZB(t,e){if(t==null)return{};var n={};for(var o in t)if({}.hasOwnProperty.call(t,o)){if(e.indexOf(o)>=0)continue;n[o]=t[o]}return n}function eF(t){let{onEnter:e,onEntering:n,onEntered:o,onExit:r,onExiting:a,onExited:u,addEndListener:c,children:h}=t,d=ZB(t,QB);const m=C.useRef(null),y=sh(m,Aa(h)),S=D=>L=>{D&&m.current&&D(m.current,L)},b=C.useCallback(S(e),[e]),T=C.useCallback(S(n),[n]),A=C.useCallback(S(o),[o]),x=C.useCallback(S(r),[r]),M=C.useCallback(S(a),[a]),I=C.useCallback(S(u),[u]),N=C.useCallback(S(c),[c]);return Object.assign({},d,{nodeRef:m},e&&{onEnter:b},n&&{onEntering:T},o&&{onEntered:A},r&&{onExit:x},a&&{onExiting:M},u&&{onExited:I},c&&{addEndListener:N},{children:typeof h=="function"?(D,L)=>h(D,Object.assign({},L,{ref:y})):C.cloneElement(h,{ref:y})})}const tF=["component"];function nF(t,e){if(t==null)return{};var n={};for(var o in t)if({}.hasOwnProperty.call(t,o)){if(e.indexOf(o)>=0)continue;n[o]=t[o]}return n}const oF=C.forwardRef((t,e)=>{let{component:n}=t,o=nF(t,tF);const r=eF(o);return E.jsx(n,Object.assign({ref:e},r))});function iF({in:t,onTransition:e}){const n=C.useRef(null),o=C.useRef(!0),r=Lt(e);return vw(()=>{if(!n.current)return;let a=!1;return r({in:t,element:n.current,initial:o.current,isStale:()=>a}),()=>{a=!0}},[t,r]),vw(()=>(o.current=!1,()=>{o.current=!0}),[]),n}function rF({children:t,in:e,onExited:n,onEntered:o,transition:r}){const[a,u]=C.useState(!e);e&&a&&u(!1);const c=iF({in:!!e,onTransition:d=>{const m=()=>{d.isStale()||(d.in?o?.(d.element,d.initial):(u(!0),n?.(d.element)))};Promise.resolve(r(d)).then(m,y=>{throw d.in||u(!0),y})}}),h=sh(c,Aa(t));return a&&!e?null:C.cloneElement(t,{ref:h})}function Bw(t,e,n){return t?E.jsx(oF,Object.assign({},n,{component:t})):e?E.jsx(rF,Object.assign({},n,{transition:e})):E.jsx(WB,Object.assign({},n))}const sF=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];function aF(t,e){if(t==null)return{};var n={};for(var o in t)if({}.hasOwnProperty.call(t,o)){if(e.indexOf(o)>=0)continue;n[o]=t[o]}return n}let vg;function lF(t){return vg||(vg=new Py({ownerDocument:t?.document})),vg}function uF(t){const e=rh(),n=t||lF(e),o=C.useRef({dialog:null,backdrop:null});return Object.assign(o.current,{add:()=>n.add(o.current),remove:()=>n.remove(o.current),isTopModal:()=>n.isTopModal(o.current),setDialogRef:C.useCallback(r=>{o.current.dialog=r},[]),setBackdropRef:C.useCallback(r=>{o.current.backdrop=r},[])})}const LR=C.forwardRef((t,e)=>{let{show:n=!1,role:o="dialog",className:r,style:a,children:u,backdrop:c=!0,keyboard:h=!0,onBackdropClick:d,onEscapeKeyDown:m,transition:y,runTransition:S,backdropTransition:b,runBackdropTransition:T,autoFocus:A=!0,enforceFocus:x=!0,restoreFocus:M=!0,restoreFocusOptions:I,renderDialog:N,renderBackdrop:D=Ze=>E.jsx("div",Object.assign({},Ze)),manager:L,container:U,onShow:O,onHide:q=()=>{},onExit:J,onExited:j,onExiting:W,onEnter:re,onEntering:oe,onEntered:ae}=t,de=aF(t,sF);const F=rh(),Q=XB(U),ee=uF(L),ne=Hx(),ce=Gx(n),[k,Y]=C.useState(!n),se=C.useRef(null);C.useImperativeHandle(e,()=>ee,[ee]),eh&&!ce&&n&&(se.current=mg(F?.document)),n&&k&&Y(!1);const le=Lt(()=>{if(ee.add(),on.current=er(document,"keydown",ze),qe.current=er(document,"focus",()=>setTimeout(be),!0),O&&O(),A){var Ze,Uo;const Ei=mg((Ze=(Uo=ee.dialog)==null?void 0:Uo.ownerDocument)!=null?Ze:F?.document);ee.dialog&&Ei&&!Ed(ee.dialog,Ei)&&(se.current=Ei,ee.dialog.focus())}}),me=Lt(()=>{if(ee.remove(),on.current==null||on.current(),qe.current==null||qe.current(),M){var Ze;(Ze=se.current)==null||Ze.focus==null||Ze.focus(I),se.current=null}});C.useEffect(()=>{!n||!Q||le()},[n,Q,le]),C.useEffect(()=>{k&&me()},[k,me]),YB(()=>{me()});const be=Lt(()=>{if(!x||!ne()||!ee.isTopModal())return;const Ze=mg(F?.document);ee.dialog&&Ze&&!Ed(ee.dialog,Ze)&&ee.dialog.focus()}),ve=Lt(Ze=>{Ze.target===Ze.currentTarget&&(d?.(Ze),c===!0&&q())}),ze=Lt(Ze=>{h&&xU(Ze)&&ee.isTopModal()&&(m?.(Ze),Ze.defaultPrevented||q())}),qe=C.useRef(),on=C.useRef(),Cn=(...Ze)=>{Y(!0),j?.(...Ze)};if(!Q)return null;const po=Object.assign({role:o,ref:ee.setDialogRef,"aria-modal":o==="dialog"?!0:void 0},de,{style:a,className:r,tabIndex:-1});let zt=N?N(po):E.jsx("div",Object.assign({},po,{children:C.cloneElement(u,{role:"document"})}));zt=Bw(y,S,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!n,onExit:J,onExiting:W,onExited:Cn,onEnter:re,onEntering:oe,onEntered:ae,children:zt});let qt=null;return c&&(qt=D({ref:ee.setBackdropRef,onClick:ve}),qt=Bw(b,T,{in:!!n,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:qt})),E.jsx(E.Fragment,{children:Br.createPortal(E.jsxs(E.Fragment,{children:[qt,zt]}),Q)})});LR.displayName="Modal";const cF=Object.assign(LR,{Manager:Py});function fF(t,e){return t.classList?t.classList.contains(e):(" "+(t.className.baseVal||t.className)+" ").indexOf(" "+e+" ")!==-1}function dF(t,e){t.classList?t.classList.add(e):fF(t,e)||(typeof t.className=="string"?t.className=t.className+" "+e:t.setAttribute("class",(t.className&&t.className.baseVal||"")+" "+e))}function Fw(t,e){return t.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function hF(t,e){t.classList?t.classList.remove(e):typeof t.className=="string"?t.className=Fw(t.className,e):t.setAttribute("class",Fw(t.className&&t.className.baseVal||"",e))}const qs={FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top",NAVBAR_TOGGLER:".navbar-toggler"};class UR extends Py{adjustAndStore(e,n,o){const r=n.style[e];n.dataset[e]=r,ci(n,{[e]:`${parseFloat(ci(n,e))+o}px`})}restore(e,n){const o=n.dataset[e];o!==void 0&&(delete n.dataset[e],ci(n,{[e]:o}))}setContainerStyle(e){super.setContainerStyle(e);const n=this.getElement();if(dF(n,"modal-open"),!e.scrollBarWidth)return;const o=this.isRTL?"paddingLeft":"paddingRight",r=this.isRTL?"marginLeft":"marginRight";ii(n,qs.FIXED_CONTENT).forEach(a=>this.adjustAndStore(o,a,e.scrollBarWidth)),ii(n,qs.STICKY_CONTENT).forEach(a=>this.adjustAndStore(r,a,-e.scrollBarWidth)),ii(n,qs.NAVBAR_TOGGLER).forEach(a=>this.adjustAndStore(r,a,e.scrollBarWidth))}removeContainerStyle(e){super.removeContainerStyle(e);const n=this.getElement();hF(n,"modal-open");const o=this.isRTL?"paddingLeft":"paddingRight",r=this.isRTL?"marginLeft":"marginRight";ii(n,qs.FIXED_CONTENT).forEach(a=>this.restore(o,a)),ii(n,qs.STICKY_CONTENT).forEach(a=>this.restore(r,a)),ii(n,qs.NAVBAR_TOGGLER).forEach(a=>this.restore(r,a))}}let yg;function pF(t){return yg||(yg=new UR(t)),yg}const BR=C.createContext({onHide(){}}),FR=C.forwardRef(({closeLabel:t="Close",closeVariant:e,closeButton:n=!1,onHide:o,children:r,...a},u)=>{const c=C.useContext(BR),h=Du(()=>{c?.onHide(),o?.()});return E.jsxs("div",{ref:u,...a,children:[r,n&&E.jsx(Ey,{"aria-label":t,variant:e,onClick:h})]})});FR.displayName="AbstractModalHeader";const $R=C.forwardRef(({className:t,bsPrefix:e,as:n="div",...o},r)=>(e=Ue(e,"nav-item"),E.jsx(n,{ref:r,className:Ne(t,e),...o})));$R.displayName="NavItem";const HR=C.forwardRef(({bsPrefix:t,className:e,as:n=by,active:o,eventKey:r,disabled:a=!1,...u},c)=>{t=Ue(t,"nav-link");const[h,d]=OR({key:cu(r,u.href),active:o,disabled:a,...u});return E.jsx(n,{...u,...h,ref:c,disabled:a,className:Ne(e,t,a&&"disabled",d.isActive&&"active")})});HR.displayName="NavLink";const GR=C.forwardRef((t,e)=>{const{as:n="div",bsPrefix:o,variant:r,fill:a=!1,justify:u=!1,navbar:c,navbarScroll:h,className:d,activeKey:m,...y}=my(t,{activeKey:"onSelect"}),S=Ue(o,"nav");let b,T,A=!1;const x=C.useContext(ns),M=C.useContext(Cy);return x?(b=x.bsPrefix,A=c??!0):M&&({cardHeaderBsPrefix:T}=M),E.jsx(JB,{as:n,ref:e,activeKey:m,className:Ne(d,{[S]:!A,[`${b}-nav`]:A,[`${b}-nav-scroll`]:A&&h,[`${T}-${r}`]:!!T,[`${S}-${r}`]:!!r,[`${S}-fill`]:a,[`${S}-justified`]:u}),...y})});GR.displayName="Nav";const mF=Object.assign(GR,{Item:$R,Link:HR}),VR=C.forwardRef(({bsPrefix:t,className:e,as:n,...o},r)=>{t=Ue(t,"navbar-brand");const a=n||(o.href?"a":"span");return E.jsx(a,{...o,ref:r,className:Ne(e,t)})});VR.displayName="NavbarBrand";const zR=C.forwardRef(({children:t,bsPrefix:e,...n},o)=>{e=Ue(e,"navbar-collapse");const r=C.useContext(ns);return E.jsx($x,{in:!!(r&&r.expanded),...n,children:E.jsx("div",{ref:o,className:e,children:t})})});zR.displayName="NavbarCollapse";const qR=C.forwardRef(({bsPrefix:t,className:e,children:n,label:o="Toggle navigation",as:r="button",onClick:a,...u},c)=>{t=Ue(t,"navbar-toggler");const{onToggle:h,expanded:d}=C.useContext(ns)||{},m=Du(y=>{a&&a(y),h&&h()});return r==="button"&&(u.type="button"),E.jsx(r,{...u,ref:c,onClick:m,"aria-label":o,className:Ne(e,t,!d&&"collapsed"),children:n||E.jsx("span",{className:`${t}-icon`})})});qR.displayName="NavbarToggle";const pv=new WeakMap,$w=(t,e)=>{if(!t||!e)return;const n=pv.get(e)||new Map;pv.set(e,n);let o=n.get(t);return o||(o=e.matchMedia(t),o.refCount=0,n.set(o.media,o)),o};function gF(t,e=typeof window>"u"?void 0:window){const n=$w(t,e),[o,r]=C.useState(()=>n?n.matches:!1);return AR(()=>{let a=$w(t,e);if(!a)return r(!1);let u=pv.get(e);const c=()=>{r(a.matches)};return a.refCount++,a.addListener(c),c(),()=>{a.removeListener(c),a.refCount--,a.refCount<=0&&u?.delete(a.media),a=void 0}},[t]),o}function vF(t){const e=Object.keys(t);function n(c,h){return c===h?h:c?`${c} and ${h}`:h}function o(c){return e[Math.min(e.indexOf(c)+1,e.length-1)]}function r(c){const h=o(c);let d=t[h];return typeof d=="number"?d=`${d-.2}px`:d=`calc(${d} - 0.2px)`,`(max-width: ${d})`}function a(c){let h=t[c];return typeof h=="number"&&(h=`${h}px`),`(min-width: ${h})`}function u(c,h,d){let m;typeof c=="object"?(m=c,d=h,h=!0):(h=h||!0,m={[c]:h});let y=C.useMemo(()=>Object.entries(m).reduce((S,[b,T])=>((T==="up"||T===!0)&&(S=n(S,a(b))),(T==="down"||T===!0)&&(S=n(S,r(b))),S),""),[JSON.stringify(m)]);return gF(y,d)}return u}const yF=vF({xs:0,sm:576,md:768,lg:992,xl:1200,xxl:1400}),JR=C.forwardRef(({className:t,bsPrefix:e,as:n="div",...o},r)=>(e=Ue(e,"offcanvas-body"),E.jsx(n,{ref:r,className:Ne(t,e),...o})));JR.displayName="OffcanvasBody";const _F={[eo]:"show",[ai]:"show"},KR=C.forwardRef(({bsPrefix:t,className:e,children:n,in:o=!1,mountOnEnter:r=!1,unmountOnExit:a=!1,appear:u=!1,...c},h)=>(t=Ue(t,"offcanvas"),E.jsx(th,{ref:h,addEndListener:gy,in:o,mountOnEnter:r,unmountOnExit:a,appear:u,...c,childRef:Aa(n),children:(d,m)=>C.cloneElement(n,{...m,className:Ne(e,n.props.className,(d===eo||d===au)&&`${t}-toggling`,_F[d])})})));KR.displayName="OffcanvasToggling";const YR=C.forwardRef(({bsPrefix:t,className:e,closeLabel:n="Close",closeButton:o=!1,...r},a)=>(t=Ue(t,"offcanvas-header"),E.jsx(FR,{ref:a,...r,className:Ne(e,t),closeLabel:n,closeButton:o})));YR.displayName="OffcanvasHeader";const SF=yy("h5"),jR=C.forwardRef(({className:t,bsPrefix:e,as:n=SF,...o},r)=>(e=Ue(e,"offcanvas-title"),E.jsx(n,{ref:r,className:Ne(t,e),...o})));jR.displayName="OffcanvasTitle";function bF(t){return E.jsx(KR,{...t})}function EF(t){return E.jsx(Vx,{...t})}const XR=C.forwardRef(({bsPrefix:t,className:e,children:n,"aria-labelledby":o,placement:r="start",responsive:a,show:u=!1,backdrop:c=!0,keyboard:h=!0,scroll:d=!1,onEscapeKeyDown:m,onShow:y,onHide:S,container:b,autoFocus:T=!0,enforceFocus:A=!0,restoreFocus:x=!0,restoreFocusOptions:M,onEntered:I,onExit:N,onExiting:D,onEnter:L,onEntering:U,onExited:O,backdropClassName:q,manager:J,renderStaticNode:j=!1,...W},re)=>{const oe=C.useRef();t=Ue(t,"offcanvas");const[ae,de]=C.useState(!1),F=Du(S),Q=yF(a||"xs","up");C.useEffect(()=>{de(a?u&&!Q:u)},[u,a,Q]);const ee=C.useMemo(()=>({onHide:F}),[F]);function ne(){return J||(d?(oe.current||(oe.current=new UR({handleContainerOverflow:!1})),oe.current):pF())}const ce=(le,...me)=>{le&&(le.style.visibility="visible"),L?.(le,...me)},k=(le,...me)=>{le&&(le.style.visibility=""),O?.(...me)},Y=C.useCallback(le=>E.jsx("div",{...le,className:Ne(`${t}-backdrop`,q)}),[q,t]),se=le=>E.jsx("div",{...le,...W,className:Ne(e,a?`${t}-${a}`:t,`${t}-${r}`),"aria-labelledby":o,children:n});return E.jsxs(E.Fragment,{children:[!ae&&(a||j)&&se({}),E.jsx(BR.Provider,{value:ee,children:E.jsx(cF,{show:ae,ref:re,backdrop:c,container:b,keyboard:h,autoFocus:T,enforceFocus:A&&!d,restoreFocus:x,restoreFocusOptions:M,onEscapeKeyDown:m,onShow:y,onHide:F,onEnter:ce,onEntering:U,onEntered:I,onExit:N,onExiting:D,onExited:k,manager:ne(),transition:bF,backdropTransition:EF,renderBackdrop:Y,renderDialog:se})})]})});XR.displayName="Offcanvas";const wF=Object.assign(XR,{Body:JR,Header:YR,Title:jR}),WR=C.forwardRef(({onHide:t,...e},n)=>{const o=C.useContext(ns),r=Du(()=>{o==null||o.onToggle==null||o.onToggle(),t?.()});return E.jsx(wF,{ref:n,show:!!(o!=null&&o.expanded),...e,renderStaticNode:!0,onHide:r})});WR.displayName="NavbarOffcanvas";const QR=C.forwardRef(({className:t,bsPrefix:e,as:n="span",...o},r)=>(e=Ue(e,"navbar-text"),E.jsx(n,{ref:r,className:Ne(t,e),...o})));QR.displayName="NavbarText";const ZR=C.forwardRef((t,e)=>{const{bsPrefix:n,expand:o=!0,variant:r="light",bg:a,fixed:u,sticky:c,className:h,as:d="nav",expanded:m,onToggle:y,onSelect:S,collapseOnSelect:b=!1,...T}=my(t,{expanded:"onToggle"}),A=Ue(n,"navbar"),x=C.useCallback((...N)=>{S?.(...N),b&&m&&y?.(!1)},[S,b,m,y]);T.role===void 0&&d!=="nav"&&(T.role="navigation");let M=`${A}-expand`;typeof o=="string"&&(M=`${M}-${o}`);const I=C.useMemo(()=>({onToggle:()=>y?.(!m),bsPrefix:A,expanded:!!m,expand:o}),[A,m,o,y]);return E.jsx(ns.Provider,{value:I,children:E.jsx(jr.Provider,{value:x,children:E.jsx(d,{ref:e,...T,className:Ne(h,A,o&&M,r&&`${A}-${r}`,a&&`bg-${a}`,c&&`sticky-${c}`,u&&`fixed-${u}`)})})})});ZR.displayName="Navbar";const Hw=Object.assign(ZR,{Brand:VR,Collapse:zR,Offcanvas:WR,Text:QR,Toggle:qR}),eM=C.forwardRef(({bsPrefix:t,className:e,as:n="div",...o},r)=>{const a=Ue(t,"row"),u=kx(),c=Lx(),h=`${a}-cols`,d=[];return u.forEach(m=>{const y=o[m];delete o[m];let S;y!=null&&typeof y=="object"?{cols:S}=y:S=y;const b=m!==c?`-${m}`:"";S!=null&&d.push(`${h}${b}-${S}`)}),E.jsx(n,{ref:r,...o,className:Ne(e,a,...d)})});eM.displayName="Row";const tM=C.forwardRef(({bsPrefix:t,variant:e,animation:n="border",size:o,as:r="div",className:a,...u},c)=>{t=Ue(t,"spinner");const h=`${t}-${n}`;return E.jsx(r,{ref:c,...u,className:Ne(a,h,o&&`${h}-${o}`,e&&`text-${e}`)})});tM.displayName="Spinner";const nM=({name:t,onClick:e,subItems:n})=>{const[o,r]=C.useState(!1);return E.jsxs("div",{onMouseEnter:()=>r(!0),onMouseLeave:()=>r(!1),style:{position:"relative"},children:[E.jsxs("div",{className:"dropdown-item d-flex justify-content-between",style:{cursor:"pointer"},onClick:e,children:[t," ",n?E.jsx("span",{children:""}):null]}),n&&o&&E.jsx("div",{className:"dropdown-menu show",style:{position:"absolute",top:0,left:"100%",minWidth:"180px",zIndex:1e3},children:n.map((a,u)=>E.jsx(nM,{name:a.name,onClick:a.onClick,subItems:a.subItems},u))})]})},Js=({title:t,items:e,onClick:n})=>{const[o,r]=C.useState(!1),a=e&&e.length>0;return E.jsxs("div",{className:"nav-item dropdown",onMouseEnter:()=>r(!0),onMouseLeave:()=>r(!1),style:{position:"relative"},children:[E.jsx("span",{className:"nav-link dropdown-toggle",style:{cursor:a||n?"pointer":"default"},onClick:()=>{n&&n()},children:t}),o&&a&&E.jsx("div",{className:"dropdown-menu show",style:{minWidth:"180px"},children:e.map((u,c)=>E.jsx(nM,{...u},c))})]})};class Xr{fileHandle;data;constructor(e,n){this.fileHandle=e,this.data=Ct(n),Po(this)}static async create(e,n,o={}){try{const r=await e.getFileHandle(n,{create:!0}),u=await(await r.getFile()).text(),c=u.trim()===""?{...o}:{...o,...JSON.parse(u)};return new Xr(r,c)}catch(r){console.error("Error loading JSON:",r);const a=await e.getFileHandle(n,{create:!0});return new Xr(a,{...o})}}async save(){try{let e=await this.fileHandle.queryPermission({mode:"readwrite"});if(e!=="granted"&&(e=await this.fileHandle.requestPermission({mode:"readwrite"})),e!=="granted")throw new Error("No permission to write file");const n=await this.fileHandle.createWritable();await n.write(JSON.stringify(this.data,null,2)),await n.close()}catch(e){console.error("Error saving JSON:",e)}}async updateField(e,n,o=!0){Te(()=>{const r=e.split("/").filter(Boolean);let a=this.data;for(let u=0;u<r.length;u++){const c=r[u];u===r.length-1?a[c]=n:((a[c]===void 0||a[c]===null||typeof a[c]!="object")&&(a[c]={}),a=a[c])}}),o&&await this.save()}getField(e){const n=e.split("/").filter(Boolean);let o=this.data;for(const r of n){if(o==null||typeof o!="object")return;o=o[r]}return o}}class Hn{handle;parent;urlObject=null;base64Data=null;path="";constructor(e,n,o=""){this.handle=e,this.parent=n,this.path=o+"/"+e.name}async getUrlObject(){if(!this.urlObject)try{const e=await this.handle.getFile();this.urlObject=URL.createObjectURL(e)}catch(e){console.error("Failed to create object URL for file:",e),this.urlObject=""}return this.urlObject}revokeUrl(){this.urlObject&&(URL.revokeObjectURL(this.urlObject),this.urlObject=null)}static async fromUrl(e,n){try{const o=await fetch(e);if(!o.ok)throw new Error(`Failed to fetch image: ${o.statusText}`);const r=await o.blob(),a=e.split("/");let u=a[a.length-1];const c=await n.getFileHandle(u,{create:!0}),h=await c.createWritable();return await h.write(r),await h.close(),new Hn(c,n)}catch(o){throw console.error("Failed to create LocalImage from URL:",o),o}}async delete(){try{this.revokeUrl(),await this.parent.removeEntry(this.handle.name)}catch(e){throw console.error("Failed to delete image file:",e),e}}async getBase64(){if(this.base64Data)return this.base64Data;try{const e=await this.handle.getFile(),n=await e.arrayBuffer(),o=e.type||"image/png",r=CF(n);return this.base64Data={rawBase64:r,mime:o},this.base64Data}catch(e){return console.error("Failed to create Base64 from file:",e),{rawBase64:"",mime:"image/png"}}}static async fromBase64(e,n,o){try{let r=e.rawBase64;const a=`data:${e.mime};base64,`;r.startsWith(a)&&(r=r.slice(a.length));const u=atob(r),c=u.length,h=new Uint8Array(c);for(let S=0;S<c;S++)h[S]=u.charCodeAt(S);const d=await n.getFileHandle(o,{create:!0}),m=await d.createWritable();await m.write(h),await m.close();const y=new Hn(d,n);return y.base64Data=e,y}catch(r){throw console.error("Failed to create LocalImage from Base64:",r),r}}}function CF(t){let e="";const n=new Uint8Array(t),o=n.byteLength;for(let r=0;r<o;r++)e+=String.fromCharCode(n[r]);return btoa(e)}var TF={};let AF,xF;function RF(){return{geminiUrl:AF,vertexUrl:xF}}function MF(t,e,n,o){var r,a;if(!t?.baseUrl){const u=RF();return e?(r=u.vertexUrl)!==null&&r!==void 0?r:n:(a=u.geminiUrl)!==null&&a!==void 0?a:o}return t.baseUrl}class Si{}function fe(t,e){const n=/\{([^}]+)\}/g;return t.replace(n,(o,r)=>{if(Object.prototype.hasOwnProperty.call(e,r)){const a=e[r];return a!=null?String(a):""}else throw new Error(`Key '${r}' not found in valueMap.`)})}function g(t,e,n){for(let a=0;a<e.length-1;a++){const u=e[a];if(u.endsWith("[]")){const c=u.slice(0,-2);if(!(c in t))if(Array.isArray(n))t[c]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${u}`);if(Array.isArray(t[c])){const h=t[c];if(Array.isArray(n))for(let d=0;d<h.length;d++){const m=h[d];g(m,e.slice(a+1),n[d])}else for(const d of h)g(d,e.slice(a+1),n)}return}else if(u.endsWith("[0]")){const c=u.slice(0,-3);c in t||(t[c]=[{}]);const h=t[c];g(h[0],e.slice(a+1),n);return}(!t[u]||typeof t[u]!="object")&&(t[u]={}),t=t[u]}const o=e[e.length-1],r=t[o];if(r!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===r)return;if(typeof r=="object"&&typeof n=="object"&&r!==null&&n!==null)Object.assign(r,n);else throw new Error(`Cannot set value for an existing key. Key: ${o}`)}else o==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(t,n):t[o]=n}function p(t,e,n=void 0){try{if(e.length===1&&e[0]==="_self")return t;for(let o=0;o<e.length;o++){if(typeof t!="object"||t===null)return n;const r=e[o];if(r.endsWith("[]")){const a=r.slice(0,-2);if(a in t){const u=t[a];return Array.isArray(u)?u.map(c=>p(c,e.slice(o+1),n)):n}else return n}else t=t[r]}return t}catch(o){if(o instanceof TypeError)return n;throw o}}function NF(t,e){for(const[n,o]of Object.entries(e)){const r=n.split("."),a=o.split("."),u=new Set;let c=-1;for(let h=0;h<r.length;h++)if(r[h]==="*"){c=h;break}if(c!==-1&&a.length>c)for(let h=c;h<a.length;h++){const d=a[h];d!=="*"&&!d.endsWith("[]")&&!d.endsWith("[0]")&&u.add(d)}mv(t,r,a,0,u)}}function mv(t,e,n,o,r){if(o>=e.length||typeof t!="object"||t===null)return;const a=e[o];if(a.endsWith("[]")){const u=a.slice(0,-2),c=t;if(u in c&&Array.isArray(c[u]))for(const h of c[u])mv(h,e,n,o+1,r)}else if(a==="*"){if(typeof t=="object"&&t!==null&&!Array.isArray(t)){const u=t,c=Object.keys(u).filter(d=>!d.startsWith("_")&&!r.has(d)),h={};for(const d of c)h[d]=u[d];for(const[d,m]of Object.entries(h)){const y=[];for(const S of n.slice(o))S==="*"?y.push(d):y.push(S);g(u,y,m)}for(const d of c)delete u[d]}}else{const u=t;a in u&&mv(u[a],e,n,o+1,r)}}function ky(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}function IF(t){const e={},n=p(t,["operationName"]);n!=null&&g(e,["operationName"],n);const o=p(t,["resourceName"]);return o!=null&&g(e,["_url","resourceName"],o),e}function DF(t){const e={},n=p(t,["name"]);n!=null&&g(e,["name"],n);const o=p(t,["metadata"]);o!=null&&g(e,["metadata"],o);const r=p(t,["done"]);r!=null&&g(e,["done"],r);const a=p(t,["error"]);a!=null&&g(e,["error"],a);const u=p(t,["response","generateVideoResponse"]);return u!=null&&g(e,["response"],PF(u)),e}function OF(t){const e={},n=p(t,["name"]);n!=null&&g(e,["name"],n);const o=p(t,["metadata"]);o!=null&&g(e,["metadata"],o);const r=p(t,["done"]);r!=null&&g(e,["done"],r);const a=p(t,["error"]);a!=null&&g(e,["error"],a);const u=p(t,["response"]);return u!=null&&g(e,["response"],kF(u)),e}function PF(t){const e={},n=p(t,["generatedSamples"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(u=>LF(u))),g(e,["generatedVideos"],a)}const o=p(t,["raiMediaFilteredCount"]);o!=null&&g(e,["raiMediaFilteredCount"],o);const r=p(t,["raiMediaFilteredReasons"]);return r!=null&&g(e,["raiMediaFilteredReasons"],r),e}function kF(t){const e={},n=p(t,["videos"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(u=>UF(u))),g(e,["generatedVideos"],a)}const o=p(t,["raiMediaFilteredCount"]);o!=null&&g(e,["raiMediaFilteredCount"],o);const r=p(t,["raiMediaFilteredReasons"]);return r!=null&&g(e,["raiMediaFilteredReasons"],r),e}function LF(t){const e={},n=p(t,["video"]);return n!=null&&g(e,["video"],VF(n)),e}function UF(t){const e={},n=p(t,["_self"]);return n!=null&&g(e,["video"],zF(n)),e}function BF(t){const e={},n=p(t,["operationName"]);return n!=null&&g(e,["_url","operationName"],n),e}function FF(t){const e={},n=p(t,["operationName"]);return n!=null&&g(e,["_url","operationName"],n),e}function $F(t){const e={},n=p(t,["name"]);n!=null&&g(e,["name"],n);const o=p(t,["metadata"]);o!=null&&g(e,["metadata"],o);const r=p(t,["done"]);r!=null&&g(e,["done"],r);const a=p(t,["error"]);a!=null&&g(e,["error"],a);const u=p(t,["response"]);return u!=null&&g(e,["response"],HF(u)),e}function HF(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const o=p(t,["parent"]);o!=null&&g(e,["parent"],o);const r=p(t,["documentName"]);return r!=null&&g(e,["documentName"],r),e}function oM(t){const e={},n=p(t,["name"]);n!=null&&g(e,["name"],n);const o=p(t,["metadata"]);o!=null&&g(e,["metadata"],o);const r=p(t,["done"]);r!=null&&g(e,["done"],r);const a=p(t,["error"]);a!=null&&g(e,["error"],a);const u=p(t,["response"]);return u!=null&&g(e,["response"],GF(u)),e}function GF(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const o=p(t,["parent"]);o!=null&&g(e,["parent"],o);const r=p(t,["documentName"]);return r!=null&&g(e,["documentName"],r),e}function VF(t){const e={},n=p(t,["uri"]);n!=null&&g(e,["uri"],n);const o=p(t,["encodedVideo"]);o!=null&&g(e,["videoBytes"],ky(o));const r=p(t,["encoding"]);return r!=null&&g(e,["mimeType"],r),e}function zF(t){const e={},n=p(t,["gcsUri"]);n!=null&&g(e,["uri"],n);const o=p(t,["bytesBase64Encoded"]);o!=null&&g(e,["videoBytes"],ky(o));const r=p(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}var Gw;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(Gw||(Gw={}));var Vw;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(Vw||(Vw={}));var zw;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(zw||(zw={}));var tr;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(tr||(tr={}));var qw;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(qw||(qw={}));var Jw;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(Jw||(Jw={}));var Kw;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(Kw||(Kw={}));var Yw;(function(t){t.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",t.HTTP_IN_QUERY="HTTP_IN_QUERY",t.HTTP_IN_HEADER="HTTP_IN_HEADER",t.HTTP_IN_PATH="HTTP_IN_PATH",t.HTTP_IN_BODY="HTTP_IN_BODY",t.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(Yw||(Yw={}));var jw;(function(t){t.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",t.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",t.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",t.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(jw||(jw={}));var Xw;(function(t){t.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",t.LOW="LOW",t.HIGH="HIGH"})(Xw||(Xw={}));var Ww;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(Ww||(Ww={}));var Qw;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(Qw||(Qw={}));var Zw;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(Zw||(Zw={}));var eC;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",t.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",t.NO_IMAGE="NO_IMAGE",t.IMAGE_RECITATION="IMAGE_RECITATION",t.IMAGE_OTHER="IMAGE_OTHER"})(eC||(eC={}));var tC;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(tC||(tC={}));var nC;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(nC||(nC={}));var oC;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",t.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",t.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(oC||(oC={}));var iC;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY",t.MODEL_ARMOR="MODEL_ARMOR",t.JAILBREAK="JAILBREAK"})(iC||(iC={}));var rC;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(rC||(rC={}));var wd;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(wd||(wd={}));var sC;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(sC||(sC={}));var aC;(function(t){t.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",t.TUNING_MODE_FULL="TUNING_MODE_FULL",t.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(aC||(aC={}));var lC;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(lC||(lC={}));var gv;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(gv||(gv={}));var uC;(function(t){t.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",t.TUNING_TASK_I2V="TUNING_TASK_I2V",t.TUNING_TASK_T2V="TUNING_TASK_T2V",t.TUNING_TASK_R2V="TUNING_TASK_R2V"})(uC||(uC={}));var cC;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(cC||(cC={}));var fC;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(fC||(fC={}));var dC;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(dC||(dC={}));var hC;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(hC||(hC={}));var pC;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(pC||(pC={}));var mC;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE",t.VALIDATED="VALIDATED"})(mC||(mC={}));var gC;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(gC||(gC={}));var vC;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(vC||(vC={}));var yC;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(yC||(yC={}));var _C;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(_C||(_C={}));var SC;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(SC||(SC={}));var bC;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(bC||(bC={}));var EC;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(EC||(EC={}));var wC;(function(t){t.FOREGROUND="FOREGROUND",t.BACKGROUND="BACKGROUND",t.PROMPT="PROMPT",t.SEMANTIC="SEMANTIC",t.INTERACTIVE="INTERACTIVE"})(wC||(wC={}));var CC;(function(t){t.ASSET="ASSET",t.STYLE="STYLE"})(CC||(CC={}));var TC;(function(t){t.INSERT="INSERT",t.REMOVE="REMOVE",t.REMOVE_STATIC="REMOVE_STATIC",t.OUTPAINT="OUTPAINT"})(TC||(TC={}));var AC;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(AC||(AC={}));var xC;(function(t){t.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",t.PREFERENCE_TUNING="PREFERENCE_TUNING"})(xC||(xC={}));var RC;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.STATE_PENDING="STATE_PENDING",t.STATE_ACTIVE="STATE_ACTIVE",t.STATE_FAILED="STATE_FAILED"})(RC||(RC={}));var MC;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(MC||(MC={}));var NC;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED"})(NC||(NC={}));var IC;(function(t){t.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.RESPONSE_REJECTED="RESPONSE_REJECTED",t.NEED_MORE_INPUT="NEED_MORE_INPUT"})(IC||(IC={}));var DC;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(DC||(DC={}));var OC;(function(t){t.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",t.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",t.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(OC||(OC={}));var PC;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(PC||(PC={}));var kC;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(kC||(kC={}));var LC;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(LC||(LC={}));var UC;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(UC||(UC={}));var BC;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(BC||(BC={}));var FC;(function(t){t.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",t.QUALITY="QUALITY",t.DIVERSITY="DIVERSITY",t.VOCALIZATION="VOCALIZATION"})(FC||(FC={}));var la;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(la||(la={}));class vv{constructor(e){const n={};for(const o of e.headers.entries())n[o[0]]=o[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class kl{get text(){var e,n,o,r,a,u,c,h;if(((r=(o=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||o===void 0?void 0:o.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let d="",m=!1;const y=[];for(const S of(h=(c=(u=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||u===void 0?void 0:u.content)===null||c===void 0?void 0:c.parts)!==null&&h!==void 0?h:[]){for(const[b,T]of Object.entries(S))b!=="text"&&b!=="thought"&&b!=="thoughtSignature"&&(T!==null||T!==void 0)&&y.push(b);if(typeof S.text=="string"){if(typeof S.thought=="boolean"&&S.thought)continue;m=!0,d+=S.text}}return y.length>0&&console.warn(`there are non-text parts ${y} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),m?d:void 0}get data(){var e,n,o,r,a,u,c,h;if(((r=(o=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||o===void 0?void 0:o.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let d="";const m=[];for(const y of(h=(c=(u=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||u===void 0?void 0:u.content)===null||c===void 0?void 0:c.parts)!==null&&h!==void 0?h:[]){for(const[S,b]of Object.entries(y))S!=="inlineData"&&(b!==null||b!==void 0)&&m.push(S);y.inlineData&&typeof y.inlineData.data=="string"&&(d+=atob(y.inlineData.data))}return m.length>0&&console.warn(`there are non-data parts ${m} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),d.length>0?btoa(d):void 0}get functionCalls(){var e,n,o,r,a,u,c,h;if(((r=(o=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||o===void 0?void 0:o.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const d=(h=(c=(u=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||u===void 0?void 0:u.content)===null||c===void 0?void 0:c.parts)===null||h===void 0?void 0:h.filter(m=>m.functionCall).map(m=>m.functionCall).filter(m=>m!==void 0);if(d?.length!==0)return d}get executableCode(){var e,n,o,r,a,u,c,h,d;if(((r=(o=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||o===void 0?void 0:o.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const m=(h=(c=(u=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||u===void 0?void 0:u.content)===null||c===void 0?void 0:c.parts)===null||h===void 0?void 0:h.filter(y=>y.executableCode).map(y=>y.executableCode).filter(y=>y!==void 0);if(m?.length!==0)return(d=m?.[0])===null||d===void 0?void 0:d.code}get codeExecutionResult(){var e,n,o,r,a,u,c,h,d;if(((r=(o=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||o===void 0?void 0:o.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const m=(h=(c=(u=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||u===void 0?void 0:u.content)===null||c===void 0?void 0:c.parts)===null||h===void 0?void 0:h.filter(y=>y.codeExecutionResult).map(y=>y.codeExecutionResult).filter(y=>y!==void 0);if(m?.length!==0)return(d=m?.[0])===null||d===void 0?void 0:d.output}}class $C{}class HC{}class qF{}class JF{}class KF{}class YF{}class GC{}class VC{}class zC{}class jF{}class Cd{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const o=new Cd;let r;const a=e;return n?r=OF(a):r=DF(a),Object.assign(o,r),o}}class qC{}class JC{}class KC{}class YC{}class XF{}class WF{}class QF{}class Ly{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const o=new Ly,a=$F(e);return Object.assign(o,a),o}}class ZF{}class e${}class t${}class jC{}class n${get text(){var e,n,o;let r="",a=!1;const u=[];for(const c of(o=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&o!==void 0?o:[]){for(const[h,d]of Object.entries(c))h!=="text"&&h!=="thought"&&d!==null&&u.push(h);if(typeof c.text=="string"){if(typeof c.thought=="boolean"&&c.thought)continue;a=!0,r+=c.text}}return u.length>0&&console.warn(`there are non-text parts ${u} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),a?r:void 0}get data(){var e,n,o;let r="";const a=[];for(const u of(o=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&o!==void 0?o:[]){for(const[c,h]of Object.entries(u))c!=="inlineData"&&h!==null&&a.push(c);u.inlineData&&typeof u.inlineData.data=="string"&&(r+=atob(u.inlineData.data))}return a.length>0&&console.warn(`there are non-data parts ${a} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),r.length>0?btoa(r):void 0}}class o${get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class Uy{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const o=new Uy,a=oM(e);return Object.assign(o,a),o}}function Ve(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function iM(t,e){const n=Ve(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function rM(t){return Array.isArray(t)?t.map(e=>Td(e)):[Td(t)]}function Td(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function sM(t){const e=Td(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function aM(t){const e=Td(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function XC(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function lM(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>XC(e)):[XC(t)]}function yv(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function WC(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function QC(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function Ut(t){if(t==null)throw new Error("ContentUnion is required");return yv(t)?t:{role:"user",parts:lM(t)}}function By(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{const o=Ut(n);return o.parts&&o.parts.length>0&&o.parts[0].text!==void 0?[o.parts[0].text]:[]});if(t.isVertexAI()){const n=Ut(e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>Ut(n)):[Ut(e)]}function Gn(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(WC(t)||QC(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[Ut(t)]}const e=[],n=[],o=yv(t[0]);for(const r of t){const a=yv(r);if(a!=o)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(a)e.push(r);else{if(WC(r)||QC(r))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(r)}}return o||e.push({role:"user",parts:lM(n)}),e}function i$(t,e){t.includes("null")&&(e.nullable=!0);const n=t.filter(o=>o!=="null");if(n.length===1)e.type=Object.values(tr).includes(n[0].toUpperCase())?n[0].toUpperCase():tr.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const o of n)e.anyOf.push({type:Object.values(tr).includes(o.toUpperCase())?o.toUpperCase():tr.TYPE_UNSPECIFIED})}}function fa(t){const e={},n=["items"],o=["anyOf"],r=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const a=t.anyOf;a!=null&&a.length==2&&(a[0].type==="null"?(e.nullable=!0,t=a[1]):a[1].type==="null"&&(e.nullable=!0,t=a[0])),t.type instanceof Array&&i$(t.type,e);for(const[u,c]of Object.entries(t))if(c!=null)if(u=="type"){if(c==="null")throw new Error("type: null can not be the only possible type for the field.");if(c instanceof Array)continue;e.type=Object.values(tr).includes(c.toUpperCase())?c.toUpperCase():tr.TYPE_UNSPECIFIED}else if(n.includes(u))e[u]=fa(c);else if(o.includes(u)){const h=[];for(const d of c){if(d.type=="null"){e.nullable=!0;continue}h.push(fa(d))}e[u]=h}else if(r.includes(u)){const h={};for(const[d,m]of Object.entries(c))h[d]=fa(m);e[u]=h}else{if(u==="additionalProperties")continue;e[u]=c}return e}function Fy(t){return fa(t)}function $y(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function Hy(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function Ra(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=fa(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=fa(e.response));return t}function Ma(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const n of t)e.push(n);return e}function r$(t,e,n,o=1){const r=!e.startsWith(`${n}/`)&&e.split("/").length===o;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:r?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:r?`${n}/${e}`:e}function bi(t,e){if(typeof e!="string")throw new Error("name must be a string");return r$(t,e,"cachedContents")}function uM(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function hr(t){return ky(t)}function s$(t){return t!=null&&typeof t=="object"&&"name"in t}function a$(t){return t!=null&&typeof t=="object"&&"video"in t}function l$(t){return t!=null&&typeof t=="object"&&"uri"in t}function cM(t){var e;let n;if(s$(t)&&(n=t.name),!(l$(t)&&(n=t.uri,n===void 0))&&!(a$(t)&&(n=(e=t.video)===null||e===void 0?void 0:e.uri,n===void 0))){if(typeof t=="string"&&(n=t),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const r=n.split("files/")[1].match(/[a-z0-9]+/);if(r===null)throw new Error(`Could not extract file name from URI ${n}`);n=r[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function fM(t,e){let n;return t.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function dM(t){for(const e of["models","tunedModels","publisherModels"])if(u$(t,e))return t[e];return[]}function u$(t,e){return t!==null&&typeof t=="object"&&e in t}function c$(t,e={}){const n=t,o={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(o.responseJsonSchema=n.outputSchema),e.behavior&&(o.behavior=e.behavior),{functionDeclarations:[o]}}function f$(t,e={}){const n=[],o=new Set;for(const r of t){const a=r.name;if(o.has(a))throw new Error(`Duplicate function name ${a} found in MCP tools. Please ensure function names are unique.`);o.add(a);const u=c$(r,e);u.functionDeclarations&&n.push(...u.functionDeclarations)}return{functionDeclarations:n}}function hM(t,e){let n;if(typeof e=="string")if(t.isVertexAI())if(e.startsWith("gs://"))n={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))n={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))n={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(t.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:e}}else n=e;const o=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,r=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(t.isVertexAI()){if(r>0||o!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(o>0||r!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function d$(t){if(typeof t!="string")return t;const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function pM(t){if(typeof t!="object"||t===null)return{};const e=t,n=e.inlinedResponses;if(typeof n!="object"||n===null)return t;const r=n.inlinedResponses;if(!Array.isArray(r)||r.length===0)return t;let a=!1;for(const u of r){if(typeof u!="object"||u===null)continue;const h=u.response;if(typeof h!="object"||h===null)continue;if(h.embedding!==void 0){a=!0;break}}return a&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),t}function Na(t,e){const n=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function mM(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}function h$(t){const e={},n=p(t,["responsesFile"]);n!=null&&g(e,["fileName"],n);const o=p(t,["inlinedResponses","inlinedResponses"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(u=>K$(u))),g(e,["inlinedResponses"],a)}const r=p(t,["inlinedEmbedContentResponses","inlinedResponses"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(u=>u)),g(e,["inlinedEmbedContentResponses"],a)}return e}function p$(t){const e={},n=p(t,["predictionsFormat"]);n!=null&&g(e,["format"],n);const o=p(t,["gcsDestination","outputUriPrefix"]);o!=null&&g(e,["gcsUri"],o);const r=p(t,["bigqueryDestination","outputUri"]);return r!=null&&g(e,["bigqueryUri"],r),e}function m$(t){const e={},n=p(t,["format"]);n!=null&&g(e,["predictionsFormat"],n);const o=p(t,["gcsUri"]);o!=null&&g(e,["gcsDestination","outputUriPrefix"],o);const r=p(t,["bigqueryUri"]);if(r!=null&&g(e,["bigqueryDestination","outputUri"],r),p(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(p(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(p(t,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function jf(t){const e={},n=p(t,["name"]);n!=null&&g(e,["name"],n);const o=p(t,["metadata","displayName"]);o!=null&&g(e,["displayName"],o);const r=p(t,["metadata","state"]);r!=null&&g(e,["state"],mM(r));const a=p(t,["metadata","createTime"]);a!=null&&g(e,["createTime"],a);const u=p(t,["metadata","endTime"]);u!=null&&g(e,["endTime"],u);const c=p(t,["metadata","updateTime"]);c!=null&&g(e,["updateTime"],c);const h=p(t,["metadata","model"]);h!=null&&g(e,["model"],h);const d=p(t,["metadata","output"]);return d!=null&&g(e,["dest"],h$(pM(d))),e}function _v(t){const e={},n=p(t,["name"]);n!=null&&g(e,["name"],n);const o=p(t,["displayName"]);o!=null&&g(e,["displayName"],o);const r=p(t,["state"]);r!=null&&g(e,["state"],mM(r));const a=p(t,["error"]);a!=null&&g(e,["error"],a);const u=p(t,["createTime"]);u!=null&&g(e,["createTime"],u);const c=p(t,["startTime"]);c!=null&&g(e,["startTime"],c);const h=p(t,["endTime"]);h!=null&&g(e,["endTime"],h);const d=p(t,["updateTime"]);d!=null&&g(e,["updateTime"],d);const m=p(t,["model"]);m!=null&&g(e,["model"],m);const y=p(t,["inputConfig"]);y!=null&&g(e,["src"],g$(y));const S=p(t,["outputConfig"]);S!=null&&g(e,["dest"],p$(pM(S)));const b=p(t,["completionStats"]);return b!=null&&g(e,["completionStats"],b),e}function g$(t){const e={},n=p(t,["instancesFormat"]);n!=null&&g(e,["format"],n);const o=p(t,["gcsSource","uris"]);o!=null&&g(e,["gcsUri"],o);const r=p(t,["bigquerySource","inputUri"]);return r!=null&&g(e,["bigqueryUri"],r),e}function v$(t,e){const n={};if(p(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(p(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(p(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const o=p(e,["fileName"]);o!=null&&g(n,["fileName"],o);const r=p(e,["inlinedRequests"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(u=>J$(t,u))),g(n,["requests","requests"],a)}return n}function y$(t){const e={},n=p(t,["format"]);n!=null&&g(e,["instancesFormat"],n);const o=p(t,["gcsUri"]);o!=null&&g(e,["gcsSource","uris"],o);const r=p(t,["bigqueryUri"]);if(r!=null&&g(e,["bigquerySource","inputUri"],r),p(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(p(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function _$(t){const e={},n=p(t,["data"]);if(n!=null&&g(e,["data"],n),p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=p(t,["mimeType"]);return o!=null&&g(e,["mimeType"],o),e}function S$(t,e){const n={},o=p(e,["name"]);return o!=null&&g(n,["_url","name"],Na(t,o)),n}function b$(t,e){const n={},o=p(e,["name"]);return o!=null&&g(n,["_url","name"],Na(t,o)),n}function E$(t){const e={},n=p(t,["content"]);n!=null&&g(e,["content"],n);const o=p(t,["citationMetadata"]);o!=null&&g(e,["citationMetadata"],w$(o));const r=p(t,["tokenCount"]);r!=null&&g(e,["tokenCount"],r);const a=p(t,["finishReason"]);a!=null&&g(e,["finishReason"],a);const u=p(t,["avgLogprobs"]);u!=null&&g(e,["avgLogprobs"],u);const c=p(t,["groundingMetadata"]);c!=null&&g(e,["groundingMetadata"],c);const h=p(t,["index"]);h!=null&&g(e,["index"],h);const d=p(t,["logprobsResult"]);d!=null&&g(e,["logprobsResult"],d);const m=p(t,["safetyRatings"]);if(m!=null){let S=m;Array.isArray(S)&&(S=S.map(b=>b)),g(e,["safetyRatings"],S)}const y=p(t,["urlContextMetadata"]);return y!=null&&g(e,["urlContextMetadata"],y),e}function w$(t){const e={},n=p(t,["citationSources"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(r=>r)),g(e,["citations"],o)}return e}function gM(t){const e={},n=p(t,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(a=>eH(a))),g(e,["parts"],r)}const o=p(t,["role"]);return o!=null&&g(e,["role"],o),e}function C$(t,e){const n={},o=p(t,["displayName"]);if(e!==void 0&&o!=null&&g(e,["batch","displayName"],o),p(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function T$(t,e){const n={},o=p(t,["displayName"]);e!==void 0&&o!=null&&g(e,["displayName"],o);const r=p(t,["dest"]);return e!==void 0&&r!=null&&g(e,["outputConfig"],m$(d$(r))),n}function ZC(t,e){const n={},o=p(e,["model"]);o!=null&&g(n,["_url","model"],Ve(t,o));const r=p(e,["src"]);r!=null&&g(n,["batch","inputConfig"],v$(t,hM(t,r)));const a=p(e,["config"]);return a!=null&&C$(a,n),n}function A$(t,e){const n={},o=p(e,["model"]);o!=null&&g(n,["model"],Ve(t,o));const r=p(e,["src"]);r!=null&&g(n,["inputConfig"],y$(hM(t,r)));const a=p(e,["config"]);return a!=null&&T$(a,n),n}function x$(t,e){const n={},o=p(t,["displayName"]);return e!==void 0&&o!=null&&g(e,["batch","displayName"],o),n}function R$(t,e){const n={},o=p(e,["model"]);o!=null&&g(n,["_url","model"],Ve(t,o));const r=p(e,["src"]);r!=null&&g(n,["batch","inputConfig"],k$(t,r));const a=p(e,["config"]);return a!=null&&x$(a,n),n}function M$(t,e){const n={},o=p(e,["name"]);return o!=null&&g(n,["_url","name"],Na(t,o)),n}function N$(t,e){const n={},o=p(e,["name"]);return o!=null&&g(n,["_url","name"],Na(t,o)),n}function I$(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const o=p(t,["name"]);o!=null&&g(e,["name"],o);const r=p(t,["done"]);r!=null&&g(e,["done"],r);const a=p(t,["error"]);return a!=null&&g(e,["error"],a),e}function D$(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const o=p(t,["name"]);o!=null&&g(e,["name"],o);const r=p(t,["done"]);r!=null&&g(e,["done"],r);const a=p(t,["error"]);return a!=null&&g(e,["error"],a),e}function O$(t,e){const n={},o=p(e,["contents"]);if(o!=null){let a=By(t,o);Array.isArray(a)&&(a=a.map(u=>u)),g(n,["requests[]","request","content"],a)}const r=p(e,["config"]);return r!=null&&(g(n,["_self"],P$(r,n)),NF(n,{"requests[].*":"requests[].request.*"})),n}function P$(t,e){const n={},o=p(t,["taskType"]);e!==void 0&&o!=null&&g(e,["requests[]","taskType"],o);const r=p(t,["title"]);e!==void 0&&r!=null&&g(e,["requests[]","title"],r);const a=p(t,["outputDimensionality"]);if(e!==void 0&&a!=null&&g(e,["requests[]","outputDimensionality"],a),p(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(p(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function k$(t,e){const n={},o=p(e,["fileName"]);o!=null&&g(n,["file_name"],o);const r=p(e,["inlinedRequests"]);return r!=null&&g(n,["requests"],O$(t,r)),n}function L$(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=p(t,["fileUri"]);n!=null&&g(e,["fileUri"],n);const o=p(t,["mimeType"]);return o!=null&&g(e,["mimeType"],o),e}function U$(t){const e={},n=p(t,["id"]);n!=null&&g(e,["id"],n);const o=p(t,["args"]);o!=null&&g(e,["args"],o);const r=p(t,["name"]);if(r!=null&&g(e,["name"],r),p(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(p(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function B$(t){const e={},n=p(t,["mode"]);n!=null&&g(e,["mode"],n);const o=p(t,["allowedFunctionNames"]);if(o!=null&&g(e,["allowedFunctionNames"],o),p(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function F$(t,e,n){const o={},r=p(e,["systemInstruction"]);n!==void 0&&r!=null&&g(n,["systemInstruction"],gM(Ut(r)));const a=p(e,["temperature"]);a!=null&&g(o,["temperature"],a);const u=p(e,["topP"]);u!=null&&g(o,["topP"],u);const c=p(e,["topK"]);c!=null&&g(o,["topK"],c);const h=p(e,["candidateCount"]);h!=null&&g(o,["candidateCount"],h);const d=p(e,["maxOutputTokens"]);d!=null&&g(o,["maxOutputTokens"],d);const m=p(e,["stopSequences"]);m!=null&&g(o,["stopSequences"],m);const y=p(e,["responseLogprobs"]);y!=null&&g(o,["responseLogprobs"],y);const S=p(e,["logprobs"]);S!=null&&g(o,["logprobs"],S);const b=p(e,["presencePenalty"]);b!=null&&g(o,["presencePenalty"],b);const T=p(e,["frequencyPenalty"]);T!=null&&g(o,["frequencyPenalty"],T);const A=p(e,["seed"]);A!=null&&g(o,["seed"],A);const x=p(e,["responseMimeType"]);x!=null&&g(o,["responseMimeType"],x);const M=p(e,["responseSchema"]);M!=null&&g(o,["responseSchema"],Fy(M));const I=p(e,["responseJsonSchema"]);if(I!=null&&g(o,["responseJsonSchema"],I),p(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(p(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const N=p(e,["safetySettings"]);if(n!==void 0&&N!=null){let oe=N;Array.isArray(oe)&&(oe=oe.map(ae=>tH(ae))),g(n,["safetySettings"],oe)}const D=p(e,["tools"]);if(n!==void 0&&D!=null){let oe=Ma(D);Array.isArray(oe)&&(oe=oe.map(ae=>oH(Ra(ae)))),g(n,["tools"],oe)}const L=p(e,["toolConfig"]);if(n!==void 0&&L!=null&&g(n,["toolConfig"],nH(L)),p(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const U=p(e,["cachedContent"]);n!==void 0&&U!=null&&g(n,["cachedContent"],bi(t,U));const O=p(e,["responseModalities"]);O!=null&&g(o,["responseModalities"],O);const q=p(e,["mediaResolution"]);q!=null&&g(o,["mediaResolution"],q);const J=p(e,["speechConfig"]);if(J!=null&&g(o,["speechConfig"],$y(J)),p(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const j=p(e,["thinkingConfig"]);j!=null&&g(o,["thinkingConfig"],j);const W=p(e,["imageConfig"]);W!=null&&g(o,["imageConfig"],q$(W));const re=p(e,["enableEnhancedCivicAnswers"]);return re!=null&&g(o,["enableEnhancedCivicAnswers"],re),o}function $$(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const o=p(t,["candidates"]);if(o!=null){let h=o;Array.isArray(h)&&(h=h.map(d=>E$(d))),g(e,["candidates"],h)}const r=p(t,["modelVersion"]);r!=null&&g(e,["modelVersion"],r);const a=p(t,["promptFeedback"]);a!=null&&g(e,["promptFeedback"],a);const u=p(t,["responseId"]);u!=null&&g(e,["responseId"],u);const c=p(t,["usageMetadata"]);return c!=null&&g(e,["usageMetadata"],c),e}function H$(t,e){const n={},o=p(e,["name"]);return o!=null&&g(n,["_url","name"],Na(t,o)),n}function G$(t,e){const n={},o=p(e,["name"]);return o!=null&&g(n,["_url","name"],Na(t,o)),n}function V$(t){const e={};if(p(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=p(t,["enableWidget"]);return n!=null&&g(e,["enableWidget"],n),e}function z$(t){const e={};if(p(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(p(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=p(t,["timeRangeFilter"]);return n!=null&&g(e,["timeRangeFilter"],n),e}function q$(t){const e={},n=p(t,["aspectRatio"]);n!=null&&g(e,["aspectRatio"],n);const o=p(t,["imageSize"]);if(o!=null&&g(e,["imageSize"],o),p(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(p(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function J$(t,e){const n={},o=p(e,["model"]);o!=null&&g(n,["request","model"],Ve(t,o));const r=p(e,["contents"]);if(r!=null){let c=Gn(r);Array.isArray(c)&&(c=c.map(h=>gM(h))),g(n,["request","contents"],c)}const a=p(e,["metadata"]);a!=null&&g(n,["metadata"],a);const u=p(e,["config"]);return u!=null&&g(n,["request","generationConfig"],F$(t,u,p(n,["request"],{}))),n}function K$(t){const e={},n=p(t,["response"]);n!=null&&g(e,["response"],$$(n));const o=p(t,["error"]);return o!=null&&g(e,["error"],o),e}function Y$(t,e){const n={},o=p(t,["pageSize"]);e!==void 0&&o!=null&&g(e,["_query","pageSize"],o);const r=p(t,["pageToken"]);if(e!==void 0&&r!=null&&g(e,["_query","pageToken"],r),p(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function j$(t,e){const n={},o=p(t,["pageSize"]);e!==void 0&&o!=null&&g(e,["_query","pageSize"],o);const r=p(t,["pageToken"]);e!==void 0&&r!=null&&g(e,["_query","pageToken"],r);const a=p(t,["filter"]);return e!==void 0&&a!=null&&g(e,["_query","filter"],a),n}function X$(t){const e={},n=p(t,["config"]);return n!=null&&Y$(n,e),e}function W$(t){const e={},n=p(t,["config"]);return n!=null&&j$(n,e),e}function Q$(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const o=p(t,["nextPageToken"]);o!=null&&g(e,["nextPageToken"],o);const r=p(t,["operations"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(u=>jf(u))),g(e,["batchJobs"],a)}return e}function Z$(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const o=p(t,["nextPageToken"]);o!=null&&g(e,["nextPageToken"],o);const r=p(t,["batchPredictionJobs"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(u=>_v(u))),g(e,["batchJobs"],a)}return e}function eH(t){const e={},n=p(t,["mediaResolution"]);n!=null&&g(e,["mediaResolution"],n);const o=p(t,["codeExecutionResult"]);o!=null&&g(e,["codeExecutionResult"],o);const r=p(t,["executableCode"]);r!=null&&g(e,["executableCode"],r);const a=p(t,["fileData"]);a!=null&&g(e,["fileData"],L$(a));const u=p(t,["functionCall"]);u!=null&&g(e,["functionCall"],U$(u));const c=p(t,["functionResponse"]);c!=null&&g(e,["functionResponse"],c);const h=p(t,["inlineData"]);h!=null&&g(e,["inlineData"],_$(h));const d=p(t,["text"]);d!=null&&g(e,["text"],d);const m=p(t,["thought"]);m!=null&&g(e,["thought"],m);const y=p(t,["thoughtSignature"]);y!=null&&g(e,["thoughtSignature"],y);const S=p(t,["videoMetadata"]);return S!=null&&g(e,["videoMetadata"],S),e}function tH(t){const e={},n=p(t,["category"]);if(n!=null&&g(e,["category"],n),p(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const o=p(t,["threshold"]);return o!=null&&g(e,["threshold"],o),e}function nH(t){const e={},n=p(t,["functionCallingConfig"]);n!=null&&g(e,["functionCallingConfig"],B$(n));const o=p(t,["retrievalConfig"]);return o!=null&&g(e,["retrievalConfig"],o),e}function oH(t){const e={},n=p(t,["functionDeclarations"]);if(n!=null){let m=n;Array.isArray(m)&&(m=m.map(y=>y)),g(e,["functionDeclarations"],m)}if(p(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=p(t,["googleSearchRetrieval"]);o!=null&&g(e,["googleSearchRetrieval"],o);const r=p(t,["computerUse"]);r!=null&&g(e,["computerUse"],r);const a=p(t,["fileSearch"]);a!=null&&g(e,["fileSearch"],a);const u=p(t,["codeExecution"]);if(u!=null&&g(e,["codeExecution"],u),p(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const c=p(t,["googleMaps"]);c!=null&&g(e,["googleMaps"],V$(c));const h=p(t,["googleSearch"]);h!=null&&g(e,["googleSearch"],z$(h));const d=p(t,["urlContext"]);return d!=null&&g(e,["urlContext"],d),e}var mi;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents",t.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",t.PAGED_ITEM_DOCUMENTS="documents"})(mi||(mi={}));class os{constructor(e,n,o,r){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,o,r)}init(e,n,o){var r,a;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n?.sdkHttpResponse,this.idxInternal=0;let u={config:{}};!o||Object.keys(o).length===0?u={config:{}}:typeof o=="object"?u=Object.assign({},o):u=o,u.config&&(u.config.pageToken=n.nextPageToken),this.paramsInternal=u,this.pageInternalSize=(a=(r=u.config)===null||r===void 0?void 0:r.pageSize)!==null&&a!==void 0?a:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}let iH=class extends Si{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new os(mi.PAGED_ITEM_BATCH_JOBS,o=>this.listInternal(o),await this.listInternal(n),n),this.create=async n=>(this.apiClient.isVertexAI()&&(n.config=this.formatDestination(n.src,n.config)),this.createInternal(n)),this.createEmbeddings=async n=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(n)}}createInlinedGenerateContentRequest(e){const n=ZC(this.apiClient,e),o=n._url,r=fe("{model}:batchGenerateContent",o),c=n.batch.inputConfig.requests,h=c.requests,d=[];for(const m of h){const y=Object.assign({},m);if(y.systemInstruction){const S=y.systemInstruction;delete y.systemInstruction;const b=y.request;b.systemInstruction=S,y.request=b}d.push(y)}return c.requests=d,delete n.config,delete n._url,delete n._query,{path:r,body:n}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,n){const o=n?Object.assign({},n):{},r=Date.now().toString();if(o.displayName||(o.displayName=`genaiBatchJob_${r}`),o.dest===void 0){const a=this.getGcsUri(e),u=this.getBigqueryUri(e);if(a)a.endsWith(".jsonl")?o.dest=`${a.slice(0,-6)}/dest`:o.dest=`${a}_dest_${r}`;else if(u)o.dest=`${u}_dest_${r}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return o}async createInternal(e){var n,o,r,a;let u,c="",h={};if(this.apiClient.isVertexAI()){const d=A$(this.apiClient,e);return c=fe("batchPredictionJobs",d._url),h=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json()),u.then(m=>_v(m))}else{const d=ZC(this.apiClient,e);return c=fe("{model}:batchGenerateContent",d._url),h=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json()),u.then(m=>jf(m))}}async createEmbeddingsInternal(e){var n,o;let r,a="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=R$(this.apiClient,e);return a=fe("{model}:asyncBatchEmbedContent",c._url),u=c._query,delete c._url,delete c._query,r=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),r.then(h=>jf(h))}}async get(e){var n,o,r,a;let u,c="",h={};if(this.apiClient.isVertexAI()){const d=G$(this.apiClient,e);return c=fe("batchPredictionJobs/{name}",d._url),h=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json()),u.then(m=>_v(m))}else{const d=H$(this.apiClient,e);return c=fe("batches/{name}",d._url),h=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json()),u.then(m=>jf(m))}}async cancel(e){var n,o,r,a;let u="",c={};if(this.apiClient.isVertexAI()){const h=b$(this.apiClient,e);u=fe("batchPredictionJobs/{name}:cancel",h._url),c=h._query,delete h._url,delete h._query,await this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}else{const h=S$(this.apiClient,e);u=fe("batches/{name}:cancel",h._url),c=h._query,delete h._url,delete h._query,await this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal})}}async listInternal(e){var n,o,r,a;let u,c="",h={};if(this.apiClient.isVertexAI()){const d=W$(e);return c=fe("batchPredictionJobs",d._url),h=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json().then(y=>{const S=y;return S.sdkHttpResponse={headers:m.headers},S})),u.then(m=>{const y=Z$(m),S=new jC;return Object.assign(S,y),S})}else{const d=X$(e);return c=fe("batches",d._url),h=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json().then(y=>{const S=y;return S.sdkHttpResponse={headers:m.headers},S})),u.then(m=>{const y=Q$(m),S=new jC;return Object.assign(S,y),S})}}async delete(e){var n,o,r,a;let u,c="",h={};if(this.apiClient.isVertexAI()){const d=N$(this.apiClient,e);return c=fe("batchPredictionJobs/{name}",d._url),h=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json().then(y=>{const S=y;return S.sdkHttpResponse={headers:m.headers},S})),u.then(m=>D$(m))}else{const d=M$(this.apiClient,e);return c=fe("batches/{name}",d._url),h=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json().then(y=>{const S=y;return S.sdkHttpResponse={headers:m.headers},S})),u.then(m=>I$(m))}}};function rH(t){const e={},n=p(t,["data"]);if(n!=null&&g(e,["data"],n),p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=p(t,["mimeType"]);return o!=null&&g(e,["mimeType"],o),e}function eT(t){const e={},n=p(t,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(a=>RH(a))),g(e,["parts"],r)}const o=p(t,["role"]);return o!=null&&g(e,["role"],o),e}function sH(t,e){const n={},o=p(t,["ttl"]);e!==void 0&&o!=null&&g(e,["ttl"],o);const r=p(t,["expireTime"]);e!==void 0&&r!=null&&g(e,["expireTime"],r);const a=p(t,["displayName"]);e!==void 0&&a!=null&&g(e,["displayName"],a);const u=p(t,["contents"]);if(e!==void 0&&u!=null){let m=Gn(u);Array.isArray(m)&&(m=m.map(y=>eT(y))),g(e,["contents"],m)}const c=p(t,["systemInstruction"]);e!==void 0&&c!=null&&g(e,["systemInstruction"],eT(Ut(c)));const h=p(t,["tools"]);if(e!==void 0&&h!=null){let m=h;Array.isArray(m)&&(m=m.map(y=>NH(y))),g(e,["tools"],m)}const d=p(t,["toolConfig"]);if(e!==void 0&&d!=null&&g(e,["toolConfig"],MH(d)),p(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function aH(t,e){const n={},o=p(t,["ttl"]);e!==void 0&&o!=null&&g(e,["ttl"],o);const r=p(t,["expireTime"]);e!==void 0&&r!=null&&g(e,["expireTime"],r);const a=p(t,["displayName"]);e!==void 0&&a!=null&&g(e,["displayName"],a);const u=p(t,["contents"]);if(e!==void 0&&u!=null){let y=Gn(u);Array.isArray(y)&&(y=y.map(S=>S)),g(e,["contents"],y)}const c=p(t,["systemInstruction"]);e!==void 0&&c!=null&&g(e,["systemInstruction"],Ut(c));const h=p(t,["tools"]);if(e!==void 0&&h!=null){let y=h;Array.isArray(y)&&(y=y.map(S=>IH(S))),g(e,["tools"],y)}const d=p(t,["toolConfig"]);e!==void 0&&d!=null&&g(e,["toolConfig"],d);const m=p(t,["kmsKeyName"]);return e!==void 0&&m!=null&&g(e,["encryption_spec","kmsKeyName"],m),n}function lH(t,e){const n={},o=p(e,["model"]);o!=null&&g(n,["model"],iM(t,o));const r=p(e,["config"]);return r!=null&&sH(r,n),n}function uH(t,e){const n={},o=p(e,["model"]);o!=null&&g(n,["model"],iM(t,o));const r=p(e,["config"]);return r!=null&&aH(r,n),n}function cH(t,e){const n={},o=p(e,["name"]);return o!=null&&g(n,["_url","name"],bi(t,o)),n}function fH(t,e){const n={},o=p(e,["name"]);return o!=null&&g(n,["_url","name"],bi(t,o)),n}function dH(t){const e={},n=p(t,["sdkHttpResponse"]);return n!=null&&g(e,["sdkHttpResponse"],n),e}function hH(t){const e={},n=p(t,["sdkHttpResponse"]);return n!=null&&g(e,["sdkHttpResponse"],n),e}function pH(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=p(t,["fileUri"]);n!=null&&g(e,["fileUri"],n);const o=p(t,["mimeType"]);return o!=null&&g(e,["mimeType"],o),e}function mH(t){const e={},n=p(t,["id"]);n!=null&&g(e,["id"],n);const o=p(t,["args"]);o!=null&&g(e,["args"],o);const r=p(t,["name"]);if(r!=null&&g(e,["name"],r),p(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(p(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function gH(t){const e={},n=p(t,["mode"]);n!=null&&g(e,["mode"],n);const o=p(t,["allowedFunctionNames"]);if(o!=null&&g(e,["allowedFunctionNames"],o),p(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function vH(t){const e={};if(p(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=p(t,["description"]);n!=null&&g(e,["description"],n);const o=p(t,["name"]);o!=null&&g(e,["name"],o);const r=p(t,["parameters"]);r!=null&&g(e,["parameters"],r);const a=p(t,["parametersJsonSchema"]);a!=null&&g(e,["parametersJsonSchema"],a);const u=p(t,["response"]);u!=null&&g(e,["response"],u);const c=p(t,["responseJsonSchema"]);return c!=null&&g(e,["responseJsonSchema"],c),e}function yH(t,e){const n={},o=p(e,["name"]);return o!=null&&g(n,["_url","name"],bi(t,o)),n}function _H(t,e){const n={},o=p(e,["name"]);return o!=null&&g(n,["_url","name"],bi(t,o)),n}function SH(t){const e={};if(p(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=p(t,["enableWidget"]);return n!=null&&g(e,["enableWidget"],n),e}function bH(t){const e={};if(p(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(p(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=p(t,["timeRangeFilter"]);return n!=null&&g(e,["timeRangeFilter"],n),e}function EH(t,e){const n={},o=p(t,["pageSize"]);e!==void 0&&o!=null&&g(e,["_query","pageSize"],o);const r=p(t,["pageToken"]);return e!==void 0&&r!=null&&g(e,["_query","pageToken"],r),n}function wH(t,e){const n={},o=p(t,["pageSize"]);e!==void 0&&o!=null&&g(e,["_query","pageSize"],o);const r=p(t,["pageToken"]);return e!==void 0&&r!=null&&g(e,["_query","pageToken"],r),n}function CH(t){const e={},n=p(t,["config"]);return n!=null&&EH(n,e),e}function TH(t){const e={},n=p(t,["config"]);return n!=null&&wH(n,e),e}function AH(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const o=p(t,["nextPageToken"]);o!=null&&g(e,["nextPageToken"],o);const r=p(t,["cachedContents"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(u=>u)),g(e,["cachedContents"],a)}return e}function xH(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const o=p(t,["nextPageToken"]);o!=null&&g(e,["nextPageToken"],o);const r=p(t,["cachedContents"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(u=>u)),g(e,["cachedContents"],a)}return e}function RH(t){const e={},n=p(t,["mediaResolution"]);n!=null&&g(e,["mediaResolution"],n);const o=p(t,["codeExecutionResult"]);o!=null&&g(e,["codeExecutionResult"],o);const r=p(t,["executableCode"]);r!=null&&g(e,["executableCode"],r);const a=p(t,["fileData"]);a!=null&&g(e,["fileData"],pH(a));const u=p(t,["functionCall"]);u!=null&&g(e,["functionCall"],mH(u));const c=p(t,["functionResponse"]);c!=null&&g(e,["functionResponse"],c);const h=p(t,["inlineData"]);h!=null&&g(e,["inlineData"],rH(h));const d=p(t,["text"]);d!=null&&g(e,["text"],d);const m=p(t,["thought"]);m!=null&&g(e,["thought"],m);const y=p(t,["thoughtSignature"]);y!=null&&g(e,["thoughtSignature"],y);const S=p(t,["videoMetadata"]);return S!=null&&g(e,["videoMetadata"],S),e}function MH(t){const e={},n=p(t,["functionCallingConfig"]);n!=null&&g(e,["functionCallingConfig"],gH(n));const o=p(t,["retrievalConfig"]);return o!=null&&g(e,["retrievalConfig"],o),e}function NH(t){const e={},n=p(t,["functionDeclarations"]);if(n!=null){let m=n;Array.isArray(m)&&(m=m.map(y=>y)),g(e,["functionDeclarations"],m)}if(p(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=p(t,["googleSearchRetrieval"]);o!=null&&g(e,["googleSearchRetrieval"],o);const r=p(t,["computerUse"]);r!=null&&g(e,["computerUse"],r);const a=p(t,["fileSearch"]);a!=null&&g(e,["fileSearch"],a);const u=p(t,["codeExecution"]);if(u!=null&&g(e,["codeExecution"],u),p(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const c=p(t,["googleMaps"]);c!=null&&g(e,["googleMaps"],SH(c));const h=p(t,["googleSearch"]);h!=null&&g(e,["googleSearch"],bH(h));const d=p(t,["urlContext"]);return d!=null&&g(e,["urlContext"],d),e}function IH(t){const e={},n=p(t,["functionDeclarations"]);if(n!=null){let y=n;Array.isArray(y)&&(y=y.map(S=>vH(S))),g(e,["functionDeclarations"],y)}const o=p(t,["retrieval"]);o!=null&&g(e,["retrieval"],o);const r=p(t,["googleSearchRetrieval"]);r!=null&&g(e,["googleSearchRetrieval"],r);const a=p(t,["computerUse"]);if(a!=null&&g(e,["computerUse"],a),p(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const u=p(t,["codeExecution"]);u!=null&&g(e,["codeExecution"],u);const c=p(t,["enterpriseWebSearch"]);c!=null&&g(e,["enterpriseWebSearch"],c);const h=p(t,["googleMaps"]);h!=null&&g(e,["googleMaps"],h);const d=p(t,["googleSearch"]);d!=null&&g(e,["googleSearch"],d);const m=p(t,["urlContext"]);return m!=null&&g(e,["urlContext"],m),e}function DH(t,e){const n={},o=p(t,["ttl"]);e!==void 0&&o!=null&&g(e,["ttl"],o);const r=p(t,["expireTime"]);return e!==void 0&&r!=null&&g(e,["expireTime"],r),n}function OH(t,e){const n={},o=p(t,["ttl"]);e!==void 0&&o!=null&&g(e,["ttl"],o);const r=p(t,["expireTime"]);return e!==void 0&&r!=null&&g(e,["expireTime"],r),n}function PH(t,e){const n={},o=p(e,["name"]);o!=null&&g(n,["_url","name"],bi(t,o));const r=p(e,["config"]);return r!=null&&DH(r,n),n}function kH(t,e){const n={},o=p(e,["name"]);o!=null&&g(n,["_url","name"],bi(t,o));const r=p(e,["config"]);return r!=null&&OH(r,n),n}class LH extends Si{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new os(mi.PAGED_ITEM_CACHED_CONTENTS,o=>this.listInternal(o),await this.listInternal(n),n)}async create(e){var n,o,r,a;let u,c="",h={};if(this.apiClient.isVertexAI()){const d=uH(this.apiClient,e);return c=fe("cachedContents",d._url),h=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json()),u.then(m=>m)}else{const d=lH(this.apiClient,e);return c=fe("cachedContents",d._url),h=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json()),u.then(m=>m)}}async get(e){var n,o,r,a;let u,c="",h={};if(this.apiClient.isVertexAI()){const d=_H(this.apiClient,e);return c=fe("{name}",d._url),h=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json()),u.then(m=>m)}else{const d=yH(this.apiClient,e);return c=fe("{name}",d._url),h=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json()),u.then(m=>m)}}async delete(e){var n,o,r,a;let u,c="",h={};if(this.apiClient.isVertexAI()){const d=fH(this.apiClient,e);return c=fe("{name}",d._url),h=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json().then(y=>{const S=y;return S.sdkHttpResponse={headers:m.headers},S})),u.then(m=>{const y=hH(m),S=new KC;return Object.assign(S,y),S})}else{const d=cH(this.apiClient,e);return c=fe("{name}",d._url),h=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json().then(y=>{const S=y;return S.sdkHttpResponse={headers:m.headers},S})),u.then(m=>{const y=dH(m),S=new KC;return Object.assign(S,y),S})}}async update(e){var n,o,r,a;let u,c="",h={};if(this.apiClient.isVertexAI()){const d=kH(this.apiClient,e);return c=fe("{name}",d._url),h=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json()),u.then(m=>m)}else{const d=PH(this.apiClient,e);return c=fe("{name}",d._url),h=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json()),u.then(m=>m)}}async listInternal(e){var n,o,r,a;let u,c="",h={};if(this.apiClient.isVertexAI()){const d=TH(e);return c=fe("cachedContents",d._url),h=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json().then(y=>{const S=y;return S.sdkHttpResponse={headers:m.headers},S})),u.then(m=>{const y=xH(m),S=new YC;return Object.assign(S,y),S})}else{const d=CH(e);return c=fe("cachedContents",d._url),h=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json().then(y=>{const S=y;return S.sdkHttpResponse={headers:m.headers},S})),u.then(m=>{const y=AH(m),S=new YC;return Object.assign(S,y),S})}}}function Ad(t,e){var n={};for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&e.indexOf(o)<0&&(n[o]=t[o]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,o=Object.getOwnPropertySymbols(t);r<o.length;r++)e.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(t,o[r])&&(n[o[r]]=t[o[r]]);return n}function tT(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],o=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ae(t){return this instanceof Ae?(this.v=t,this):new Ae(t)}function ro(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o=n.apply(t,e||[]),r,a=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),c("next"),c("throw"),c("return",u),r[Symbol.asyncIterator]=function(){return this},r;function u(b){return function(T){return Promise.resolve(T).then(b,y)}}function c(b,T){o[b]&&(r[b]=function(A){return new Promise(function(x,M){a.push([b,A,x,M])>1||h(b,A)})},T&&(r[b]=T(r[b])))}function h(b,T){try{d(o[b](T))}catch(A){S(a[0][3],A)}}function d(b){b.value instanceof Ae?Promise.resolve(b.value.v).then(m,y):S(a[0][2],b)}function m(b){h("next",b)}function y(b){h("throw",b)}function S(b,T){b(T),a.shift(),a.length&&h(a[0][0],a[0][1])}}function so(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof tT=="function"?tT(t):t[Symbol.iterator](),n={},o("next"),o("throw"),o("return"),n[Symbol.asyncIterator]=function(){return this},n);function o(a){n[a]=t[a]&&function(u){return new Promise(function(c,h){u=t[a](u),r(c,h,u.done,u.value)})}}function r(a,u,c,h){Promise.resolve(h).then(function(d){a({value:d,done:c})},u)}}function UH(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:vM(n)}function vM(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function BH(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function nT(t){if(t===void 0||t.length===0)return[];const e=[],n=t.length;let o=0;for(;o<n;)if(t[o].role==="user")e.push(t[o]),o++;else{const r=[];let a=!0;for(;o<n&&t[o].role==="model";)r.push(t[o]),a&&!vM(t[o])&&(a=!1),o++;a?e.push(...r):e.pop()}return e}class FH{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new $H(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}let $H=class{constructor(e,n,o,r={},a=[]){this.apiClient=e,this.modelsModule=n,this.model=o,this.config=r,this.history=a,this.sendPromise=Promise.resolve(),BH(a)}async sendMessage(e){var n;await this.sendPromise;const o=Ut(e.message),r=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(o),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var a,u,c;const h=await r,d=(u=(a=h.candidates)===null||a===void 0?void 0:a[0])===null||u===void 0?void 0:u.content,m=h.automaticFunctionCallingHistory,y=this.getHistory(!0).length;let S=[];m!=null&&(S=(c=m.slice(y))!==null&&c!==void 0?c:[]);const b=d?[d]:[];this.recordHistory(o,b,S)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),r}async sendMessageStream(e){var n;await this.sendPromise;const o=Ut(e.message),r=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(o),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=r.then(()=>{}).catch(()=>{});const a=await r;return this.processStreamResponse(a,o)}getHistory(e=!1){const n=e?nT(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){return ro(this,arguments,function*(){var r,a,u,c,h,d;const m=[];try{for(var y=!0,S=so(e),b;b=yield Ae(S.next()),r=b.done,!r;y=!0){c=b.value,y=!1;const T=c;if(UH(T)){const A=(d=(h=T.candidates)===null||h===void 0?void 0:h[0])===null||d===void 0?void 0:d.content;A!==void 0&&m.push(A)}yield yield Ae(T)}}catch(T){a={error:T}}finally{try{!y&&!r&&(u=S.return)&&(yield Ae(u.call(S)))}finally{if(a)throw a.error}}this.recordHistory(n,m)})}recordHistory(e,n,o){let r=[];n.length>0&&n.every(a=>a.role!==void 0)?r=n:r.push({role:"model",parts:[]}),o&&o.length>0?this.history.push(...nT(o)):this.history.push(e),this.history.push(...r)}};class ah extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,ah.prototype)}}function HH(t){const e={},n=p(t,["file"]);return n!=null&&g(e,["file"],n),e}function GH(t){const e={},n=p(t,["sdkHttpResponse"]);return n!=null&&g(e,["sdkHttpResponse"],n),e}function VH(t){const e={},n=p(t,["name"]);return n!=null&&g(e,["_url","file"],cM(n)),e}function zH(t){const e={},n=p(t,["sdkHttpResponse"]);return n!=null&&g(e,["sdkHttpResponse"],n),e}function qH(t){const e={},n=p(t,["name"]);return n!=null&&g(e,["_url","file"],cM(n)),e}function JH(t,e){const n={},o=p(t,["pageSize"]);e!==void 0&&o!=null&&g(e,["_query","pageSize"],o);const r=p(t,["pageToken"]);return e!==void 0&&r!=null&&g(e,["_query","pageToken"],r),n}function KH(t){const e={},n=p(t,["config"]);return n!=null&&JH(n,e),e}function YH(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const o=p(t,["nextPageToken"]);o!=null&&g(e,["nextPageToken"],o);const r=p(t,["files"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(u=>u)),g(e,["files"],a)}return e}let jH=class extends Si{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new os(mi.PAGED_ITEM_FILES,o=>this.listInternal(o),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>n)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var n,o;let r,a="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=KH(e);return a=fe("files",c._url),u=c._query,delete c._url,delete c._query,r=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(d=>{const m=d;return m.sdkHttpResponse={headers:h.headers},m})),r.then(h=>{const d=YH(h),m=new ZF;return Object.assign(m,d),m})}}async createInternal(e){var n,o;let r,a="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=HH(e);return a=fe("upload/v1beta/files",c._url),u=c._query,delete c._url,delete c._query,r=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),r.then(h=>{const d=GH(h),m=new e$;return Object.assign(m,d),m})}}async get(e){var n,o;let r,a="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=qH(e);return a=fe("files/{file}",c._url),u=c._query,delete c._url,delete c._query,r=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),r.then(h=>h)}}async delete(e){var n,o;let r,a="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=VH(e);return a=fe("files/{file}",c._url),u=c._query,delete c._url,delete c._query,r=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(d=>{const m=d;return m.sdkHttpResponse={headers:h.headers},m})),r.then(h=>{const d=zH(h),m=new t$;return Object.assign(m,d),m})}}};function Xf(t){const e={},n=p(t,["data"]);if(n!=null&&g(e,["data"],n),p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=p(t,["mimeType"]);return o!=null&&g(e,["mimeType"],o),e}function XH(t){const e={},n=p(t,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(a=>dG(a))),g(e,["parts"],r)}const o=p(t,["role"]);return o!=null&&g(e,["role"],o),e}function WH(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=p(t,["fileUri"]);n!=null&&g(e,["fileUri"],n);const o=p(t,["mimeType"]);return o!=null&&g(e,["mimeType"],o),e}function QH(t){const e={},n=p(t,["id"]);n!=null&&g(e,["id"],n);const o=p(t,["args"]);o!=null&&g(e,["args"],o);const r=p(t,["name"]);if(r!=null&&g(e,["name"],r),p(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(p(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function ZH(t){const e={};if(p(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=p(t,["description"]);n!=null&&g(e,["description"],n);const o=p(t,["name"]);o!=null&&g(e,["name"],o);const r=p(t,["parameters"]);r!=null&&g(e,["parameters"],r);const a=p(t,["parametersJsonSchema"]);a!=null&&g(e,["parametersJsonSchema"],a);const u=p(t,["response"]);u!=null&&g(e,["response"],u);const c=p(t,["responseJsonSchema"]);return c!=null&&g(e,["responseJsonSchema"],c),e}function eG(t){const e={},n=p(t,["modelSelectionConfig"]);n!=null&&g(e,["modelConfig"],n);const o=p(t,["responseJsonSchema"]);o!=null&&g(e,["responseJsonSchema"],o);const r=p(t,["audioTimestamp"]);r!=null&&g(e,["audioTimestamp"],r);const a=p(t,["candidateCount"]);a!=null&&g(e,["candidateCount"],a);const u=p(t,["enableAffectiveDialog"]);u!=null&&g(e,["enableAffectiveDialog"],u);const c=p(t,["frequencyPenalty"]);c!=null&&g(e,["frequencyPenalty"],c);const h=p(t,["logprobs"]);h!=null&&g(e,["logprobs"],h);const d=p(t,["maxOutputTokens"]);d!=null&&g(e,["maxOutputTokens"],d);const m=p(t,["mediaResolution"]);m!=null&&g(e,["mediaResolution"],m);const y=p(t,["presencePenalty"]);y!=null&&g(e,["presencePenalty"],y);const S=p(t,["responseLogprobs"]);S!=null&&g(e,["responseLogprobs"],S);const b=p(t,["responseMimeType"]);b!=null&&g(e,["responseMimeType"],b);const T=p(t,["responseModalities"]);T!=null&&g(e,["responseModalities"],T);const A=p(t,["responseSchema"]);A!=null&&g(e,["responseSchema"],A);const x=p(t,["routingConfig"]);x!=null&&g(e,["routingConfig"],x);const M=p(t,["seed"]);M!=null&&g(e,["seed"],M);const I=p(t,["speechConfig"]);I!=null&&g(e,["speechConfig"],yM(I));const N=p(t,["stopSequences"]);N!=null&&g(e,["stopSequences"],N);const D=p(t,["temperature"]);D!=null&&g(e,["temperature"],D);const L=p(t,["thinkingConfig"]);L!=null&&g(e,["thinkingConfig"],L);const U=p(t,["topK"]);U!=null&&g(e,["topK"],U);const O=p(t,["topP"]);if(O!=null&&g(e,["topP"],O),p(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function tG(t){const e={};if(p(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=p(t,["enableWidget"]);return n!=null&&g(e,["enableWidget"],n),e}function nG(t){const e={};if(p(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(p(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=p(t,["timeRangeFilter"]);return n!=null&&g(e,["timeRangeFilter"],n),e}function oG(t,e){const n={},o=p(t,["generationConfig"]);e!==void 0&&o!=null&&g(e,["setup","generationConfig"],o);const r=p(t,["responseModalities"]);e!==void 0&&r!=null&&g(e,["setup","generationConfig","responseModalities"],r);const a=p(t,["temperature"]);e!==void 0&&a!=null&&g(e,["setup","generationConfig","temperature"],a);const u=p(t,["topP"]);e!==void 0&&u!=null&&g(e,["setup","generationConfig","topP"],u);const c=p(t,["topK"]);e!==void 0&&c!=null&&g(e,["setup","generationConfig","topK"],c);const h=p(t,["maxOutputTokens"]);e!==void 0&&h!=null&&g(e,["setup","generationConfig","maxOutputTokens"],h);const d=p(t,["mediaResolution"]);e!==void 0&&d!=null&&g(e,["setup","generationConfig","mediaResolution"],d);const m=p(t,["seed"]);e!==void 0&&m!=null&&g(e,["setup","generationConfig","seed"],m);const y=p(t,["speechConfig"]);e!==void 0&&y!=null&&g(e,["setup","generationConfig","speechConfig"],Hy(y));const S=p(t,["thinkingConfig"]);e!==void 0&&S!=null&&g(e,["setup","generationConfig","thinkingConfig"],S);const b=p(t,["enableAffectiveDialog"]);e!==void 0&&b!=null&&g(e,["setup","generationConfig","enableAffectiveDialog"],b);const T=p(t,["systemInstruction"]);e!==void 0&&T!=null&&g(e,["setup","systemInstruction"],XH(Ut(T)));const A=p(t,["tools"]);if(e!==void 0&&A!=null){let U=Ma(A);Array.isArray(U)&&(U=U.map(O=>pG(Ra(O)))),g(e,["setup","tools"],U)}const x=p(t,["sessionResumption"]);e!==void 0&&x!=null&&g(e,["setup","sessionResumption"],hG(x));const M=p(t,["inputAudioTranscription"]);e!==void 0&&M!=null&&g(e,["setup","inputAudioTranscription"],M);const I=p(t,["outputAudioTranscription"]);e!==void 0&&I!=null&&g(e,["setup","outputAudioTranscription"],I);const N=p(t,["realtimeInputConfig"]);e!==void 0&&N!=null&&g(e,["setup","realtimeInputConfig"],N);const D=p(t,["contextWindowCompression"]);e!==void 0&&D!=null&&g(e,["setup","contextWindowCompression"],D);const L=p(t,["proactivity"]);if(e!==void 0&&L!=null&&g(e,["setup","proactivity"],L),p(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function iG(t,e){const n={},o=p(t,["generationConfig"]);e!==void 0&&o!=null&&g(e,["setup","generationConfig"],eG(o));const r=p(t,["responseModalities"]);e!==void 0&&r!=null&&g(e,["setup","generationConfig","responseModalities"],r);const a=p(t,["temperature"]);e!==void 0&&a!=null&&g(e,["setup","generationConfig","temperature"],a);const u=p(t,["topP"]);e!==void 0&&u!=null&&g(e,["setup","generationConfig","topP"],u);const c=p(t,["topK"]);e!==void 0&&c!=null&&g(e,["setup","generationConfig","topK"],c);const h=p(t,["maxOutputTokens"]);e!==void 0&&h!=null&&g(e,["setup","generationConfig","maxOutputTokens"],h);const d=p(t,["mediaResolution"]);e!==void 0&&d!=null&&g(e,["setup","generationConfig","mediaResolution"],d);const m=p(t,["seed"]);e!==void 0&&m!=null&&g(e,["setup","generationConfig","seed"],m);const y=p(t,["speechConfig"]);e!==void 0&&y!=null&&g(e,["setup","generationConfig","speechConfig"],yM(Hy(y)));const S=p(t,["thinkingConfig"]);e!==void 0&&S!=null&&g(e,["setup","generationConfig","thinkingConfig"],S);const b=p(t,["enableAffectiveDialog"]);e!==void 0&&b!=null&&g(e,["setup","generationConfig","enableAffectiveDialog"],b);const T=p(t,["systemInstruction"]);e!==void 0&&T!=null&&g(e,["setup","systemInstruction"],Ut(T));const A=p(t,["tools"]);if(e!==void 0&&A!=null){let O=Ma(A);Array.isArray(O)&&(O=O.map(q=>mG(Ra(q)))),g(e,["setup","tools"],O)}const x=p(t,["sessionResumption"]);e!==void 0&&x!=null&&g(e,["setup","sessionResumption"],x);const M=p(t,["inputAudioTranscription"]);e!==void 0&&M!=null&&g(e,["setup","inputAudioTranscription"],M);const I=p(t,["outputAudioTranscription"]);e!==void 0&&I!=null&&g(e,["setup","outputAudioTranscription"],I);const N=p(t,["realtimeInputConfig"]);e!==void 0&&N!=null&&g(e,["setup","realtimeInputConfig"],N);const D=p(t,["contextWindowCompression"]);e!==void 0&&D!=null&&g(e,["setup","contextWindowCompression"],D);const L=p(t,["proactivity"]);e!==void 0&&L!=null&&g(e,["setup","proactivity"],L);const U=p(t,["explicitVadSignal"]);return e!==void 0&&U!=null&&g(e,["setup","explicitVadSignal"],U),n}function rG(t,e){const n={},o=p(e,["model"]);o!=null&&g(n,["setup","model"],Ve(t,o));const r=p(e,["config"]);return r!=null&&g(n,["config"],oG(r,n)),n}function sG(t,e){const n={},o=p(e,["model"]);o!=null&&g(n,["setup","model"],Ve(t,o));const r=p(e,["config"]);return r!=null&&g(n,["config"],iG(r,n)),n}function aG(t){const e={},n=p(t,["musicGenerationConfig"]);return n!=null&&g(e,["musicGenerationConfig"],n),e}function lG(t){const e={},n=p(t,["weightedPrompts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(r=>r)),g(e,["weightedPrompts"],o)}return e}function uG(t){const e={},n=p(t,["media"]);if(n!=null){let d=rM(n);Array.isArray(d)&&(d=d.map(m=>Xf(m))),g(e,["mediaChunks"],d)}const o=p(t,["audio"]);o!=null&&g(e,["audio"],Xf(aM(o)));const r=p(t,["audioStreamEnd"]);r!=null&&g(e,["audioStreamEnd"],r);const a=p(t,["video"]);a!=null&&g(e,["video"],Xf(sM(a)));const u=p(t,["text"]);u!=null&&g(e,["text"],u);const c=p(t,["activityStart"]);c!=null&&g(e,["activityStart"],c);const h=p(t,["activityEnd"]);return h!=null&&g(e,["activityEnd"],h),e}function cG(t){const e={},n=p(t,["media"]);if(n!=null){let d=rM(n);Array.isArray(d)&&(d=d.map(m=>m)),g(e,["mediaChunks"],d)}const o=p(t,["audio"]);o!=null&&g(e,["audio"],aM(o));const r=p(t,["audioStreamEnd"]);r!=null&&g(e,["audioStreamEnd"],r);const a=p(t,["video"]);a!=null&&g(e,["video"],sM(a));const u=p(t,["text"]);u!=null&&g(e,["text"],u);const c=p(t,["activityStart"]);c!=null&&g(e,["activityStart"],c);const h=p(t,["activityEnd"]);return h!=null&&g(e,["activityEnd"],h),e}function fG(t){const e={},n=p(t,["setupComplete"]);n!=null&&g(e,["setupComplete"],n);const o=p(t,["serverContent"]);o!=null&&g(e,["serverContent"],o);const r=p(t,["toolCall"]);r!=null&&g(e,["toolCall"],r);const a=p(t,["toolCallCancellation"]);a!=null&&g(e,["toolCallCancellation"],a);const u=p(t,["usageMetadata"]);u!=null&&g(e,["usageMetadata"],gG(u));const c=p(t,["goAway"]);c!=null&&g(e,["goAway"],c);const h=p(t,["sessionResumptionUpdate"]);h!=null&&g(e,["sessionResumptionUpdate"],h);const d=p(t,["voiceActivityDetectionSignal"]);return d!=null&&g(e,["voiceActivityDetectionSignal"],d),e}function dG(t){const e={},n=p(t,["mediaResolution"]);n!=null&&g(e,["mediaResolution"],n);const o=p(t,["codeExecutionResult"]);o!=null&&g(e,["codeExecutionResult"],o);const r=p(t,["executableCode"]);r!=null&&g(e,["executableCode"],r);const a=p(t,["fileData"]);a!=null&&g(e,["fileData"],WH(a));const u=p(t,["functionCall"]);u!=null&&g(e,["functionCall"],QH(u));const c=p(t,["functionResponse"]);c!=null&&g(e,["functionResponse"],c);const h=p(t,["inlineData"]);h!=null&&g(e,["inlineData"],Xf(h));const d=p(t,["text"]);d!=null&&g(e,["text"],d);const m=p(t,["thought"]);m!=null&&g(e,["thought"],m);const y=p(t,["thoughtSignature"]);y!=null&&g(e,["thoughtSignature"],y);const S=p(t,["videoMetadata"]);return S!=null&&g(e,["videoMetadata"],S),e}function hG(t){const e={},n=p(t,["handle"]);if(n!=null&&g(e,["handle"],n),p(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function yM(t){const e={},n=p(t,["voiceConfig"]);n!=null&&g(e,["voiceConfig"],n);const o=p(t,["languageCode"]);if(o!=null&&g(e,["languageCode"],o),p(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return e}function pG(t){const e={},n=p(t,["functionDeclarations"]);if(n!=null){let m=n;Array.isArray(m)&&(m=m.map(y=>y)),g(e,["functionDeclarations"],m)}if(p(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=p(t,["googleSearchRetrieval"]);o!=null&&g(e,["googleSearchRetrieval"],o);const r=p(t,["computerUse"]);r!=null&&g(e,["computerUse"],r);const a=p(t,["fileSearch"]);a!=null&&g(e,["fileSearch"],a);const u=p(t,["codeExecution"]);if(u!=null&&g(e,["codeExecution"],u),p(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const c=p(t,["googleMaps"]);c!=null&&g(e,["googleMaps"],tG(c));const h=p(t,["googleSearch"]);h!=null&&g(e,["googleSearch"],nG(h));const d=p(t,["urlContext"]);return d!=null&&g(e,["urlContext"],d),e}function mG(t){const e={},n=p(t,["functionDeclarations"]);if(n!=null){let y=n;Array.isArray(y)&&(y=y.map(S=>ZH(S))),g(e,["functionDeclarations"],y)}const o=p(t,["retrieval"]);o!=null&&g(e,["retrieval"],o);const r=p(t,["googleSearchRetrieval"]);r!=null&&g(e,["googleSearchRetrieval"],r);const a=p(t,["computerUse"]);if(a!=null&&g(e,["computerUse"],a),p(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const u=p(t,["codeExecution"]);u!=null&&g(e,["codeExecution"],u);const c=p(t,["enterpriseWebSearch"]);c!=null&&g(e,["enterpriseWebSearch"],c);const h=p(t,["googleMaps"]);h!=null&&g(e,["googleMaps"],h);const d=p(t,["googleSearch"]);d!=null&&g(e,["googleSearch"],d);const m=p(t,["urlContext"]);return m!=null&&g(e,["urlContext"],m),e}function gG(t){const e={},n=p(t,["promptTokenCount"]);n!=null&&g(e,["promptTokenCount"],n);const o=p(t,["cachedContentTokenCount"]);o!=null&&g(e,["cachedContentTokenCount"],o);const r=p(t,["candidatesTokenCount"]);r!=null&&g(e,["responseTokenCount"],r);const a=p(t,["toolUsePromptTokenCount"]);a!=null&&g(e,["toolUsePromptTokenCount"],a);const u=p(t,["thoughtsTokenCount"]);u!=null&&g(e,["thoughtsTokenCount"],u);const c=p(t,["totalTokenCount"]);c!=null&&g(e,["totalTokenCount"],c);const h=p(t,["promptTokensDetails"]);if(h!=null){let b=h;Array.isArray(b)&&(b=b.map(T=>T)),g(e,["promptTokensDetails"],b)}const d=p(t,["cacheTokensDetails"]);if(d!=null){let b=d;Array.isArray(b)&&(b=b.map(T=>T)),g(e,["cacheTokensDetails"],b)}const m=p(t,["candidatesTokensDetails"]);if(m!=null){let b=m;Array.isArray(b)&&(b=b.map(T=>T)),g(e,["responseTokensDetails"],b)}const y=p(t,["toolUsePromptTokensDetails"]);if(y!=null){let b=y;Array.isArray(b)&&(b=b.map(T=>T)),g(e,["toolUsePromptTokensDetails"],b)}const S=p(t,["trafficType"]);return S!=null&&g(e,["trafficType"],S),e}function vG(t){const e={},n=p(t,["data"]);if(n!=null&&g(e,["data"],n),p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=p(t,["mimeType"]);return o!=null&&g(e,["mimeType"],o),e}function yG(t){const e={},n=p(t,["content"]);n!=null&&g(e,["content"],n);const o=p(t,["citationMetadata"]);o!=null&&g(e,["citationMetadata"],_G(o));const r=p(t,["tokenCount"]);r!=null&&g(e,["tokenCount"],r);const a=p(t,["finishReason"]);a!=null&&g(e,["finishReason"],a);const u=p(t,["avgLogprobs"]);u!=null&&g(e,["avgLogprobs"],u);const c=p(t,["groundingMetadata"]);c!=null&&g(e,["groundingMetadata"],c);const h=p(t,["index"]);h!=null&&g(e,["index"],h);const d=p(t,["logprobsResult"]);d!=null&&g(e,["logprobsResult"],d);const m=p(t,["safetyRatings"]);if(m!=null){let S=m;Array.isArray(S)&&(S=S.map(b=>b)),g(e,["safetyRatings"],S)}const y=p(t,["urlContextMetadata"]);return y!=null&&g(e,["urlContextMetadata"],y),e}function _G(t){const e={},n=p(t,["citationSources"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(r=>r)),g(e,["citations"],o)}return e}function SG(t,e){const n={},o=p(e,["model"]);o!=null&&g(n,["_url","model"],Ve(t,o));const r=p(e,["contents"]);if(r!=null){let a=Gn(r);Array.isArray(a)&&(a=a.map(u=>u)),g(n,["contents"],a)}return n}function bG(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const o=p(t,["tokensInfo"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(a=>a)),g(e,["tokensInfo"],r)}return e}function EG(t){const e={},n=p(t,["values"]);n!=null&&g(e,["values"],n);const o=p(t,["statistics"]);return o!=null&&g(e,["statistics"],wG(o)),e}function wG(t){const e={},n=p(t,["truncated"]);n!=null&&g(e,["truncated"],n);const o=p(t,["token_count"]);return o!=null&&g(e,["tokenCount"],o),e}function lh(t){const e={},n=p(t,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(a=>DV(a))),g(e,["parts"],r)}const o=p(t,["role"]);return o!=null&&g(e,["role"],o),e}function CG(t){const e={},n=p(t,["controlType"]);n!=null&&g(e,["controlType"],n);const o=p(t,["enableControlImageComputation"]);return o!=null&&g(e,["computeControl"],o),e}function TG(t){const e={};if(p(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(p(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(p(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function AG(t,e){const n={},o=p(t,["systemInstruction"]);e!==void 0&&o!=null&&g(e,["systemInstruction"],Ut(o));const r=p(t,["tools"]);if(e!==void 0&&r!=null){let u=r;Array.isArray(u)&&(u=u.map(c=>wM(c))),g(e,["tools"],u)}const a=p(t,["generationConfig"]);return e!==void 0&&a!=null&&g(e,["generationConfig"],vV(a)),n}function xG(t,e){const n={},o=p(e,["model"]);o!=null&&g(n,["_url","model"],Ve(t,o));const r=p(e,["contents"]);if(r!=null){let u=Gn(r);Array.isArray(u)&&(u=u.map(c=>lh(c))),g(n,["contents"],u)}const a=p(e,["config"]);return a!=null&&TG(a),n}function RG(t,e){const n={},o=p(e,["model"]);o!=null&&g(n,["_url","model"],Ve(t,o));const r=p(e,["contents"]);if(r!=null){let u=Gn(r);Array.isArray(u)&&(u=u.map(c=>c)),g(n,["contents"],u)}const a=p(e,["config"]);return a!=null&&AG(a,n),n}function MG(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const o=p(t,["totalTokens"]);o!=null&&g(e,["totalTokens"],o);const r=p(t,["cachedContentTokenCount"]);return r!=null&&g(e,["cachedContentTokenCount"],r),e}function NG(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const o=p(t,["totalTokens"]);return o!=null&&g(e,["totalTokens"],o),e}function IG(t,e){const n={},o=p(e,["model"]);return o!=null&&g(n,["_url","name"],Ve(t,o)),n}function DG(t,e){const n={},o=p(e,["model"]);return o!=null&&g(n,["_url","name"],Ve(t,o)),n}function OG(t){const e={},n=p(t,["sdkHttpResponse"]);return n!=null&&g(e,["sdkHttpResponse"],n),e}function PG(t){const e={},n=p(t,["sdkHttpResponse"]);return n!=null&&g(e,["sdkHttpResponse"],n),e}function kG(t,e){const n={},o=p(t,["outputGcsUri"]);e!==void 0&&o!=null&&g(e,["parameters","storageUri"],o);const r=p(t,["negativePrompt"]);e!==void 0&&r!=null&&g(e,["parameters","negativePrompt"],r);const a=p(t,["numberOfImages"]);e!==void 0&&a!=null&&g(e,["parameters","sampleCount"],a);const u=p(t,["aspectRatio"]);e!==void 0&&u!=null&&g(e,["parameters","aspectRatio"],u);const c=p(t,["guidanceScale"]);e!==void 0&&c!=null&&g(e,["parameters","guidanceScale"],c);const h=p(t,["seed"]);e!==void 0&&h!=null&&g(e,["parameters","seed"],h);const d=p(t,["safetyFilterLevel"]);e!==void 0&&d!=null&&g(e,["parameters","safetySetting"],d);const m=p(t,["personGeneration"]);e!==void 0&&m!=null&&g(e,["parameters","personGeneration"],m);const y=p(t,["includeSafetyAttributes"]);e!==void 0&&y!=null&&g(e,["parameters","includeSafetyAttributes"],y);const S=p(t,["includeRaiReason"]);e!==void 0&&S!=null&&g(e,["parameters","includeRaiReason"],S);const b=p(t,["language"]);e!==void 0&&b!=null&&g(e,["parameters","language"],b);const T=p(t,["outputMimeType"]);e!==void 0&&T!=null&&g(e,["parameters","outputOptions","mimeType"],T);const A=p(t,["outputCompressionQuality"]);e!==void 0&&A!=null&&g(e,["parameters","outputOptions","compressionQuality"],A);const x=p(t,["addWatermark"]);e!==void 0&&x!=null&&g(e,["parameters","addWatermark"],x);const M=p(t,["labels"]);e!==void 0&&M!=null&&g(e,["labels"],M);const I=p(t,["editMode"]);e!==void 0&&I!=null&&g(e,["parameters","editMode"],I);const N=p(t,["baseSteps"]);return e!==void 0&&N!=null&&g(e,["parameters","editConfig","baseSteps"],N),n}function LG(t,e){const n={},o=p(e,["model"]);o!=null&&g(n,["_url","model"],Ve(t,o));const r=p(e,["prompt"]);r!=null&&g(n,["instances[0]","prompt"],r);const a=p(e,["referenceImages"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(h=>BV(h))),g(n,["instances[0]","referenceImages"],c)}const u=p(e,["config"]);return u!=null&&kG(u,n),n}function UG(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const o=p(t,["predictions"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(a=>uh(a))),g(e,["generatedImages"],r)}return e}function BG(t,e){const n={},o=p(t,["taskType"]);e!==void 0&&o!=null&&g(e,["requests[]","taskType"],o);const r=p(t,["title"]);e!==void 0&&r!=null&&g(e,["requests[]","title"],r);const a=p(t,["outputDimensionality"]);if(e!==void 0&&a!=null&&g(e,["requests[]","outputDimensionality"],a),p(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(p(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function FG(t,e){const n={},o=p(t,["taskType"]);e!==void 0&&o!=null&&g(e,["instances[]","task_type"],o);const r=p(t,["title"]);e!==void 0&&r!=null&&g(e,["instances[]","title"],r);const a=p(t,["outputDimensionality"]);e!==void 0&&a!=null&&g(e,["parameters","outputDimensionality"],a);const u=p(t,["mimeType"]);e!==void 0&&u!=null&&g(e,["instances[]","mimeType"],u);const c=p(t,["autoTruncate"]);return e!==void 0&&c!=null&&g(e,["parameters","autoTruncate"],c),n}function $G(t,e){const n={},o=p(e,["model"]);o!=null&&g(n,["_url","model"],Ve(t,o));const r=p(e,["contents"]);if(r!=null){let c=By(t,r);Array.isArray(c)&&(c=c.map(h=>h)),g(n,["requests[]","content"],c)}const a=p(e,["config"]);a!=null&&BG(a,n);const u=p(e,["model"]);return u!==void 0&&g(n,["requests[]","model"],Ve(t,u)),n}function HG(t,e){const n={},o=p(e,["model"]);o!=null&&g(n,["_url","model"],Ve(t,o));const r=p(e,["contents"]);if(r!=null){let u=By(t,r);Array.isArray(u)&&(u=u.map(c=>c)),g(n,["instances[]","content"],u)}const a=p(e,["config"]);return a!=null&&FG(a,n),n}function GG(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const o=p(t,["embeddings"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(u=>u)),g(e,["embeddings"],a)}const r=p(t,["metadata"]);return r!=null&&g(e,["metadata"],r),e}function VG(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const o=p(t,["predictions[]","embeddings"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(u=>EG(u))),g(e,["embeddings"],a)}const r=p(t,["metadata"]);return r!=null&&g(e,["metadata"],r),e}function zG(t){const e={},n=p(t,["endpoint"]);n!=null&&g(e,["name"],n);const o=p(t,["deployedModelId"]);return o!=null&&g(e,["deployedModelId"],o),e}function qG(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=p(t,["fileUri"]);n!=null&&g(e,["fileUri"],n);const o=p(t,["mimeType"]);return o!=null&&g(e,["mimeType"],o),e}function JG(t){const e={},n=p(t,["id"]);n!=null&&g(e,["id"],n);const o=p(t,["args"]);o!=null&&g(e,["args"],o);const r=p(t,["name"]);if(r!=null&&g(e,["name"],r),p(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(p(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function KG(t){const e={},n=p(t,["mode"]);n!=null&&g(e,["mode"],n);const o=p(t,["allowedFunctionNames"]);if(o!=null&&g(e,["allowedFunctionNames"],o),p(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function YG(t){const e={};if(p(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=p(t,["description"]);n!=null&&g(e,["description"],n);const o=p(t,["name"]);o!=null&&g(e,["name"],o);const r=p(t,["parameters"]);r!=null&&g(e,["parameters"],r);const a=p(t,["parametersJsonSchema"]);a!=null&&g(e,["parametersJsonSchema"],a);const u=p(t,["response"]);u!=null&&g(e,["response"],u);const c=p(t,["responseJsonSchema"]);return c!=null&&g(e,["responseJsonSchema"],c),e}function jG(t,e,n){const o={},r=p(e,["systemInstruction"]);n!==void 0&&r!=null&&g(n,["systemInstruction"],lh(Ut(r)));const a=p(e,["temperature"]);a!=null&&g(o,["temperature"],a);const u=p(e,["topP"]);u!=null&&g(o,["topP"],u);const c=p(e,["topK"]);c!=null&&g(o,["topK"],c);const h=p(e,["candidateCount"]);h!=null&&g(o,["candidateCount"],h);const d=p(e,["maxOutputTokens"]);d!=null&&g(o,["maxOutputTokens"],d);const m=p(e,["stopSequences"]);m!=null&&g(o,["stopSequences"],m);const y=p(e,["responseLogprobs"]);y!=null&&g(o,["responseLogprobs"],y);const S=p(e,["logprobs"]);S!=null&&g(o,["logprobs"],S);const b=p(e,["presencePenalty"]);b!=null&&g(o,["presencePenalty"],b);const T=p(e,["frequencyPenalty"]);T!=null&&g(o,["frequencyPenalty"],T);const A=p(e,["seed"]);A!=null&&g(o,["seed"],A);const x=p(e,["responseMimeType"]);x!=null&&g(o,["responseMimeType"],x);const M=p(e,["responseSchema"]);M!=null&&g(o,["responseSchema"],Fy(M));const I=p(e,["responseJsonSchema"]);if(I!=null&&g(o,["responseJsonSchema"],I),p(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(p(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const N=p(e,["safetySettings"]);if(n!==void 0&&N!=null){let oe=N;Array.isArray(oe)&&(oe=oe.map(ae=>FV(ae))),g(n,["safetySettings"],oe)}const D=p(e,["tools"]);if(n!==void 0&&D!=null){let oe=Ma(D);Array.isArray(oe)&&(oe=oe.map(ae=>JV(Ra(ae)))),g(n,["tools"],oe)}const L=p(e,["toolConfig"]);if(n!==void 0&&L!=null&&g(n,["toolConfig"],qV(L)),p(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const U=p(e,["cachedContent"]);n!==void 0&&U!=null&&g(n,["cachedContent"],bi(t,U));const O=p(e,["responseModalities"]);O!=null&&g(o,["responseModalities"],O);const q=p(e,["mediaResolution"]);q!=null&&g(o,["mediaResolution"],q);const J=p(e,["speechConfig"]);if(J!=null&&g(o,["speechConfig"],$y(J)),p(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const j=p(e,["thinkingConfig"]);j!=null&&g(o,["thinkingConfig"],j);const W=p(e,["imageConfig"]);W!=null&&g(o,["imageConfig"],EV(W));const re=p(e,["enableEnhancedCivicAnswers"]);return re!=null&&g(o,["enableEnhancedCivicAnswers"],re),o}function XG(t,e,n){const o={},r=p(e,["systemInstruction"]);n!==void 0&&r!=null&&g(n,["systemInstruction"],Ut(r));const a=p(e,["temperature"]);a!=null&&g(o,["temperature"],a);const u=p(e,["topP"]);u!=null&&g(o,["topP"],u);const c=p(e,["topK"]);c!=null&&g(o,["topK"],c);const h=p(e,["candidateCount"]);h!=null&&g(o,["candidateCount"],h);const d=p(e,["maxOutputTokens"]);d!=null&&g(o,["maxOutputTokens"],d);const m=p(e,["stopSequences"]);m!=null&&g(o,["stopSequences"],m);const y=p(e,["responseLogprobs"]);y!=null&&g(o,["responseLogprobs"],y);const S=p(e,["logprobs"]);S!=null&&g(o,["logprobs"],S);const b=p(e,["presencePenalty"]);b!=null&&g(o,["presencePenalty"],b);const T=p(e,["frequencyPenalty"]);T!=null&&g(o,["frequencyPenalty"],T);const A=p(e,["seed"]);A!=null&&g(o,["seed"],A);const x=p(e,["responseMimeType"]);x!=null&&g(o,["responseMimeType"],x);const M=p(e,["responseSchema"]);M!=null&&g(o,["responseSchema"],Fy(M));const I=p(e,["responseJsonSchema"]);I!=null&&g(o,["responseJsonSchema"],I);const N=p(e,["routingConfig"]);N!=null&&g(o,["routingConfig"],N);const D=p(e,["modelSelectionConfig"]);D!=null&&g(o,["modelConfig"],D);const L=p(e,["safetySettings"]);if(n!==void 0&&L!=null){let F=L;Array.isArray(F)&&(F=F.map(Q=>Q)),g(n,["safetySettings"],F)}const U=p(e,["tools"]);if(n!==void 0&&U!=null){let F=Ma(U);Array.isArray(F)&&(F=F.map(Q=>wM(Ra(Q)))),g(n,["tools"],F)}const O=p(e,["toolConfig"]);n!==void 0&&O!=null&&g(n,["toolConfig"],O);const q=p(e,["labels"]);n!==void 0&&q!=null&&g(n,["labels"],q);const J=p(e,["cachedContent"]);n!==void 0&&J!=null&&g(n,["cachedContent"],bi(t,J));const j=p(e,["responseModalities"]);j!=null&&g(o,["responseModalities"],j);const W=p(e,["mediaResolution"]);W!=null&&g(o,["mediaResolution"],W);const re=p(e,["speechConfig"]);re!=null&&g(o,["speechConfig"],EM($y(re)));const oe=p(e,["audioTimestamp"]);oe!=null&&g(o,["audioTimestamp"],oe);const ae=p(e,["thinkingConfig"]);ae!=null&&g(o,["thinkingConfig"],ae);const de=p(e,["imageConfig"]);if(de!=null&&g(o,["imageConfig"],wV(de)),p(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return o}function oT(t,e){const n={},o=p(e,["model"]);o!=null&&g(n,["_url","model"],Ve(t,o));const r=p(e,["contents"]);if(r!=null){let u=Gn(r);Array.isArray(u)&&(u=u.map(c=>lh(c))),g(n,["contents"],u)}const a=p(e,["config"]);return a!=null&&g(n,["generationConfig"],jG(t,a,n)),n}function iT(t,e){const n={},o=p(e,["model"]);o!=null&&g(n,["_url","model"],Ve(t,o));const r=p(e,["contents"]);if(r!=null){let u=Gn(r);Array.isArray(u)&&(u=u.map(c=>c)),g(n,["contents"],u)}const a=p(e,["config"]);return a!=null&&g(n,["generationConfig"],XG(t,a,n)),n}function rT(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const o=p(t,["candidates"]);if(o!=null){let h=o;Array.isArray(h)&&(h=h.map(d=>yG(d))),g(e,["candidates"],h)}const r=p(t,["modelVersion"]);r!=null&&g(e,["modelVersion"],r);const a=p(t,["promptFeedback"]);a!=null&&g(e,["promptFeedback"],a);const u=p(t,["responseId"]);u!=null&&g(e,["responseId"],u);const c=p(t,["usageMetadata"]);return c!=null&&g(e,["usageMetadata"],c),e}function sT(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const o=p(t,["candidates"]);if(o!=null){let d=o;Array.isArray(d)&&(d=d.map(m=>m)),g(e,["candidates"],d)}const r=p(t,["createTime"]);r!=null&&g(e,["createTime"],r);const a=p(t,["modelVersion"]);a!=null&&g(e,["modelVersion"],a);const u=p(t,["promptFeedback"]);u!=null&&g(e,["promptFeedback"],u);const c=p(t,["responseId"]);c!=null&&g(e,["responseId"],c);const h=p(t,["usageMetadata"]);return h!=null&&g(e,["usageMetadata"],h),e}function WG(t,e){const n={};if(p(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(p(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const o=p(t,["numberOfImages"]);e!==void 0&&o!=null&&g(e,["parameters","sampleCount"],o);const r=p(t,["aspectRatio"]);e!==void 0&&r!=null&&g(e,["parameters","aspectRatio"],r);const a=p(t,["guidanceScale"]);if(e!==void 0&&a!=null&&g(e,["parameters","guidanceScale"],a),p(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const u=p(t,["safetyFilterLevel"]);e!==void 0&&u!=null&&g(e,["parameters","safetySetting"],u);const c=p(t,["personGeneration"]);e!==void 0&&c!=null&&g(e,["parameters","personGeneration"],c);const h=p(t,["includeSafetyAttributes"]);e!==void 0&&h!=null&&g(e,["parameters","includeSafetyAttributes"],h);const d=p(t,["includeRaiReason"]);e!==void 0&&d!=null&&g(e,["parameters","includeRaiReason"],d);const m=p(t,["language"]);e!==void 0&&m!=null&&g(e,["parameters","language"],m);const y=p(t,["outputMimeType"]);e!==void 0&&y!=null&&g(e,["parameters","outputOptions","mimeType"],y);const S=p(t,["outputCompressionQuality"]);if(e!==void 0&&S!=null&&g(e,["parameters","outputOptions","compressionQuality"],S),p(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(p(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const b=p(t,["imageSize"]);if(e!==void 0&&b!=null&&g(e,["parameters","sampleImageSize"],b),p(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function QG(t,e){const n={},o=p(t,["outputGcsUri"]);e!==void 0&&o!=null&&g(e,["parameters","storageUri"],o);const r=p(t,["negativePrompt"]);e!==void 0&&r!=null&&g(e,["parameters","negativePrompt"],r);const a=p(t,["numberOfImages"]);e!==void 0&&a!=null&&g(e,["parameters","sampleCount"],a);const u=p(t,["aspectRatio"]);e!==void 0&&u!=null&&g(e,["parameters","aspectRatio"],u);const c=p(t,["guidanceScale"]);e!==void 0&&c!=null&&g(e,["parameters","guidanceScale"],c);const h=p(t,["seed"]);e!==void 0&&h!=null&&g(e,["parameters","seed"],h);const d=p(t,["safetyFilterLevel"]);e!==void 0&&d!=null&&g(e,["parameters","safetySetting"],d);const m=p(t,["personGeneration"]);e!==void 0&&m!=null&&g(e,["parameters","personGeneration"],m);const y=p(t,["includeSafetyAttributes"]);e!==void 0&&y!=null&&g(e,["parameters","includeSafetyAttributes"],y);const S=p(t,["includeRaiReason"]);e!==void 0&&S!=null&&g(e,["parameters","includeRaiReason"],S);const b=p(t,["language"]);e!==void 0&&b!=null&&g(e,["parameters","language"],b);const T=p(t,["outputMimeType"]);e!==void 0&&T!=null&&g(e,["parameters","outputOptions","mimeType"],T);const A=p(t,["outputCompressionQuality"]);e!==void 0&&A!=null&&g(e,["parameters","outputOptions","compressionQuality"],A);const x=p(t,["addWatermark"]);e!==void 0&&x!=null&&g(e,["parameters","addWatermark"],x);const M=p(t,["labels"]);e!==void 0&&M!=null&&g(e,["labels"],M);const I=p(t,["imageSize"]);e!==void 0&&I!=null&&g(e,["parameters","sampleImageSize"],I);const N=p(t,["enhancePrompt"]);return e!==void 0&&N!=null&&g(e,["parameters","enhancePrompt"],N),n}function ZG(t,e){const n={},o=p(e,["model"]);o!=null&&g(n,["_url","model"],Ve(t,o));const r=p(e,["prompt"]);r!=null&&g(n,["instances[0]","prompt"],r);const a=p(e,["config"]);return a!=null&&WG(a,n),n}function eV(t,e){const n={},o=p(e,["model"]);o!=null&&g(n,["_url","model"],Ve(t,o));const r=p(e,["prompt"]);r!=null&&g(n,["instances[0]","prompt"],r);const a=p(e,["config"]);return a!=null&&QG(a,n),n}function tV(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const o=p(t,["predictions"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(u=>hV(u))),g(e,["generatedImages"],a)}const r=p(t,["positivePromptSafetyAttributes"]);return r!=null&&g(e,["positivePromptSafetyAttributes"],SM(r)),e}function nV(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const o=p(t,["predictions"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(u=>uh(u))),g(e,["generatedImages"],a)}const r=p(t,["positivePromptSafetyAttributes"]);return r!=null&&g(e,["positivePromptSafetyAttributes"],bM(r)),e}function oV(t,e){const n={},o=p(t,["numberOfVideos"]);if(e!==void 0&&o!=null&&g(e,["parameters","sampleCount"],o),p(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(p(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const r=p(t,["durationSeconds"]);if(e!==void 0&&r!=null&&g(e,["parameters","durationSeconds"],r),p(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const a=p(t,["aspectRatio"]);e!==void 0&&a!=null&&g(e,["parameters","aspectRatio"],a);const u=p(t,["resolution"]);e!==void 0&&u!=null&&g(e,["parameters","resolution"],u);const c=p(t,["personGeneration"]);if(e!==void 0&&c!=null&&g(e,["parameters","personGeneration"],c),p(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const h=p(t,["negativePrompt"]);e!==void 0&&h!=null&&g(e,["parameters","negativePrompt"],h);const d=p(t,["enhancePrompt"]);if(e!==void 0&&d!=null&&g(e,["parameters","enhancePrompt"],d),p(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const m=p(t,["lastFrame"]);e!==void 0&&m!=null&&g(e,["instances[0]","lastFrame"],ch(m));const y=p(t,["referenceImages"]);if(e!==void 0&&y!=null){let S=y;Array.isArray(S)&&(S=S.map(b=>rz(b))),g(e,["instances[0]","referenceImages"],S)}if(p(t,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(p(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function iV(t,e){const n={},o=p(t,["numberOfVideos"]);e!==void 0&&o!=null&&g(e,["parameters","sampleCount"],o);const r=p(t,["outputGcsUri"]);e!==void 0&&r!=null&&g(e,["parameters","storageUri"],r);const a=p(t,["fps"]);e!==void 0&&a!=null&&g(e,["parameters","fps"],a);const u=p(t,["durationSeconds"]);e!==void 0&&u!=null&&g(e,["parameters","durationSeconds"],u);const c=p(t,["seed"]);e!==void 0&&c!=null&&g(e,["parameters","seed"],c);const h=p(t,["aspectRatio"]);e!==void 0&&h!=null&&g(e,["parameters","aspectRatio"],h);const d=p(t,["resolution"]);e!==void 0&&d!=null&&g(e,["parameters","resolution"],d);const m=p(t,["personGeneration"]);e!==void 0&&m!=null&&g(e,["parameters","personGeneration"],m);const y=p(t,["pubsubTopic"]);e!==void 0&&y!=null&&g(e,["parameters","pubsubTopic"],y);const S=p(t,["negativePrompt"]);e!==void 0&&S!=null&&g(e,["parameters","negativePrompt"],S);const b=p(t,["enhancePrompt"]);e!==void 0&&b!=null&&g(e,["parameters","enhancePrompt"],b);const T=p(t,["generateAudio"]);e!==void 0&&T!=null&&g(e,["parameters","generateAudio"],T);const A=p(t,["lastFrame"]);e!==void 0&&A!=null&&g(e,["instances[0]","lastFrame"],ho(A));const x=p(t,["referenceImages"]);if(e!==void 0&&x!=null){let N=x;Array.isArray(N)&&(N=N.map(D=>sz(D))),g(e,["instances[0]","referenceImages"],N)}const M=p(t,["mask"]);e!==void 0&&M!=null&&g(e,["instances[0]","mask"],iz(M));const I=p(t,["compressionQuality"]);return e!==void 0&&I!=null&&g(e,["parameters","compressionQuality"],I),n}function rV(t){const e={},n=p(t,["name"]);n!=null&&g(e,["name"],n);const o=p(t,["metadata"]);o!=null&&g(e,["metadata"],o);const r=p(t,["done"]);r!=null&&g(e,["done"],r);const a=p(t,["error"]);a!=null&&g(e,["error"],a);const u=p(t,["response","generateVideoResponse"]);return u!=null&&g(e,["response"],uV(u)),e}function sV(t){const e={},n=p(t,["name"]);n!=null&&g(e,["name"],n);const o=p(t,["metadata"]);o!=null&&g(e,["metadata"],o);const r=p(t,["done"]);r!=null&&g(e,["done"],r);const a=p(t,["error"]);a!=null&&g(e,["error"],a);const u=p(t,["response"]);return u!=null&&g(e,["response"],cV(u)),e}function aV(t,e){const n={},o=p(e,["model"]);o!=null&&g(n,["_url","model"],Ve(t,o));const r=p(e,["prompt"]);r!=null&&g(n,["instances[0]","prompt"],r);const a=p(e,["image"]);a!=null&&g(n,["instances[0]","image"],ch(a));const u=p(e,["video"]);u!=null&&g(n,["instances[0]","video"],CM(u));const c=p(e,["source"]);c!=null&&fV(c,n);const h=p(e,["config"]);return h!=null&&oV(h,n),n}function lV(t,e){const n={},o=p(e,["model"]);o!=null&&g(n,["_url","model"],Ve(t,o));const r=p(e,["prompt"]);r!=null&&g(n,["instances[0]","prompt"],r);const a=p(e,["image"]);a!=null&&g(n,["instances[0]","image"],ho(a));const u=p(e,["video"]);u!=null&&g(n,["instances[0]","video"],TM(u));const c=p(e,["source"]);c!=null&&dV(c,n);const h=p(e,["config"]);return h!=null&&iV(h,n),n}function uV(t){const e={},n=p(t,["generatedSamples"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(u=>mV(u))),g(e,["generatedVideos"],a)}const o=p(t,["raiMediaFilteredCount"]);o!=null&&g(e,["raiMediaFilteredCount"],o);const r=p(t,["raiMediaFilteredReasons"]);return r!=null&&g(e,["raiMediaFilteredReasons"],r),e}function cV(t){const e={},n=p(t,["videos"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(u=>gV(u))),g(e,["generatedVideos"],a)}const o=p(t,["raiMediaFilteredCount"]);o!=null&&g(e,["raiMediaFilteredCount"],o);const r=p(t,["raiMediaFilteredReasons"]);return r!=null&&g(e,["raiMediaFilteredReasons"],r),e}function fV(t,e){const n={},o=p(t,["prompt"]);e!==void 0&&o!=null&&g(e,["instances[0]","prompt"],o);const r=p(t,["image"]);e!==void 0&&r!=null&&g(e,["instances[0]","image"],ch(r));const a=p(t,["video"]);return e!==void 0&&a!=null&&g(e,["instances[0]","video"],CM(a)),n}function dV(t,e){const n={},o=p(t,["prompt"]);e!==void 0&&o!=null&&g(e,["instances[0]","prompt"],o);const r=p(t,["image"]);e!==void 0&&r!=null&&g(e,["instances[0]","image"],ho(r));const a=p(t,["video"]);return e!==void 0&&a!=null&&g(e,["instances[0]","video"],TM(a)),n}function hV(t){const e={},n=p(t,["_self"]);n!=null&&g(e,["image"],CV(n));const o=p(t,["raiFilteredReason"]);o!=null&&g(e,["raiFilteredReason"],o);const r=p(t,["_self"]);return r!=null&&g(e,["safetyAttributes"],SM(r)),e}function uh(t){const e={},n=p(t,["_self"]);n!=null&&g(e,["image"],_M(n));const o=p(t,["raiFilteredReason"]);o!=null&&g(e,["raiFilteredReason"],o);const r=p(t,["_self"]);r!=null&&g(e,["safetyAttributes"],bM(r));const a=p(t,["prompt"]);return a!=null&&g(e,["enhancedPrompt"],a),e}function pV(t){const e={},n=p(t,["_self"]);n!=null&&g(e,["mask"],_M(n));const o=p(t,["labels"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(a=>a)),g(e,["labels"],r)}return e}function mV(t){const e={},n=p(t,["video"]);return n!=null&&g(e,["video"],nz(n)),e}function gV(t){const e={},n=p(t,["_self"]);return n!=null&&g(e,["video"],oz(n)),e}function vV(t){const e={},n=p(t,["modelSelectionConfig"]);n!=null&&g(e,["modelConfig"],n);const o=p(t,["responseJsonSchema"]);o!=null&&g(e,["responseJsonSchema"],o);const r=p(t,["audioTimestamp"]);r!=null&&g(e,["audioTimestamp"],r);const a=p(t,["candidateCount"]);a!=null&&g(e,["candidateCount"],a);const u=p(t,["enableAffectiveDialog"]);u!=null&&g(e,["enableAffectiveDialog"],u);const c=p(t,["frequencyPenalty"]);c!=null&&g(e,["frequencyPenalty"],c);const h=p(t,["logprobs"]);h!=null&&g(e,["logprobs"],h);const d=p(t,["maxOutputTokens"]);d!=null&&g(e,["maxOutputTokens"],d);const m=p(t,["mediaResolution"]);m!=null&&g(e,["mediaResolution"],m);const y=p(t,["presencePenalty"]);y!=null&&g(e,["presencePenalty"],y);const S=p(t,["responseLogprobs"]);S!=null&&g(e,["responseLogprobs"],S);const b=p(t,["responseMimeType"]);b!=null&&g(e,["responseMimeType"],b);const T=p(t,["responseModalities"]);T!=null&&g(e,["responseModalities"],T);const A=p(t,["responseSchema"]);A!=null&&g(e,["responseSchema"],A);const x=p(t,["routingConfig"]);x!=null&&g(e,["routingConfig"],x);const M=p(t,["seed"]);M!=null&&g(e,["seed"],M);const I=p(t,["speechConfig"]);I!=null&&g(e,["speechConfig"],EM(I));const N=p(t,["stopSequences"]);N!=null&&g(e,["stopSequences"],N);const D=p(t,["temperature"]);D!=null&&g(e,["temperature"],D);const L=p(t,["thinkingConfig"]);L!=null&&g(e,["thinkingConfig"],L);const U=p(t,["topK"]);U!=null&&g(e,["topK"],U);const O=p(t,["topP"]);if(O!=null&&g(e,["topP"],O),p(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function yV(t,e){const n={},o=p(e,["model"]);return o!=null&&g(n,["_url","name"],Ve(t,o)),n}function _V(t,e){const n={},o=p(e,["model"]);return o!=null&&g(n,["_url","name"],Ve(t,o)),n}function SV(t){const e={};if(p(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=p(t,["enableWidget"]);return n!=null&&g(e,["enableWidget"],n),e}function bV(t){const e={};if(p(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(p(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=p(t,["timeRangeFilter"]);return n!=null&&g(e,["timeRangeFilter"],n),e}function EV(t){const e={},n=p(t,["aspectRatio"]);n!=null&&g(e,["aspectRatio"],n);const o=p(t,["imageSize"]);if(o!=null&&g(e,["imageSize"],o),p(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(p(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function wV(t){const e={},n=p(t,["aspectRatio"]);n!=null&&g(e,["aspectRatio"],n);const o=p(t,["imageSize"]);o!=null&&g(e,["imageSize"],o);const r=p(t,["outputMimeType"]);r!=null&&g(e,["imageOutputOptions","mimeType"],r);const a=p(t,["outputCompressionQuality"]);return a!=null&&g(e,["imageOutputOptions","compressionQuality"],a),e}function CV(t){const e={},n=p(t,["bytesBase64Encoded"]);n!=null&&g(e,["imageBytes"],hr(n));const o=p(t,["mimeType"]);return o!=null&&g(e,["mimeType"],o),e}function _M(t){const e={},n=p(t,["gcsUri"]);n!=null&&g(e,["gcsUri"],n);const o=p(t,["bytesBase64Encoded"]);o!=null&&g(e,["imageBytes"],hr(o));const r=p(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function ch(t){const e={};if(p(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=p(t,["imageBytes"]);n!=null&&g(e,["bytesBase64Encoded"],hr(n));const o=p(t,["mimeType"]);return o!=null&&g(e,["mimeType"],o),e}function ho(t){const e={},n=p(t,["gcsUri"]);n!=null&&g(e,["gcsUri"],n);const o=p(t,["imageBytes"]);o!=null&&g(e,["bytesBase64Encoded"],hr(o));const r=p(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function TV(t,e,n){const o={},r=p(e,["pageSize"]);n!==void 0&&r!=null&&g(n,["_query","pageSize"],r);const a=p(e,["pageToken"]);n!==void 0&&a!=null&&g(n,["_query","pageToken"],a);const u=p(e,["filter"]);n!==void 0&&u!=null&&g(n,["_query","filter"],u);const c=p(e,["queryBase"]);return n!==void 0&&c!=null&&g(n,["_url","models_url"],fM(t,c)),o}function AV(t,e,n){const o={},r=p(e,["pageSize"]);n!==void 0&&r!=null&&g(n,["_query","pageSize"],r);const a=p(e,["pageToken"]);n!==void 0&&a!=null&&g(n,["_query","pageToken"],a);const u=p(e,["filter"]);n!==void 0&&u!=null&&g(n,["_query","filter"],u);const c=p(e,["queryBase"]);return n!==void 0&&c!=null&&g(n,["_url","models_url"],fM(t,c)),o}function xV(t,e){const n={},o=p(e,["config"]);return o!=null&&TV(t,o,n),n}function RV(t,e){const n={},o=p(e,["config"]);return o!=null&&AV(t,o,n),n}function MV(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const o=p(t,["nextPageToken"]);o!=null&&g(e,["nextPageToken"],o);const r=p(t,["_self"]);if(r!=null){let a=dM(r);Array.isArray(a)&&(a=a.map(u=>Sv(u))),g(e,["models"],a)}return e}function NV(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const o=p(t,["nextPageToken"]);o!=null&&g(e,["nextPageToken"],o);const r=p(t,["_self"]);if(r!=null){let a=dM(r);Array.isArray(a)&&(a=a.map(u=>bv(u))),g(e,["models"],a)}return e}function IV(t){const e={},n=p(t,["maskMode"]);n!=null&&g(e,["maskMode"],n);const o=p(t,["segmentationClasses"]);o!=null&&g(e,["maskClasses"],o);const r=p(t,["maskDilation"]);return r!=null&&g(e,["dilation"],r),e}function Sv(t){const e={},n=p(t,["name"]);n!=null&&g(e,["name"],n);const o=p(t,["displayName"]);o!=null&&g(e,["displayName"],o);const r=p(t,["description"]);r!=null&&g(e,["description"],r);const a=p(t,["version"]);a!=null&&g(e,["version"],a);const u=p(t,["_self"]);u!=null&&g(e,["tunedModelInfo"],KV(u));const c=p(t,["inputTokenLimit"]);c!=null&&g(e,["inputTokenLimit"],c);const h=p(t,["outputTokenLimit"]);h!=null&&g(e,["outputTokenLimit"],h);const d=p(t,["supportedGenerationMethods"]);d!=null&&g(e,["supportedActions"],d);const m=p(t,["temperature"]);m!=null&&g(e,["temperature"],m);const y=p(t,["maxTemperature"]);y!=null&&g(e,["maxTemperature"],y);const S=p(t,["topP"]);S!=null&&g(e,["topP"],S);const b=p(t,["topK"]);b!=null&&g(e,["topK"],b);const T=p(t,["thinking"]);return T!=null&&g(e,["thinking"],T),e}function bv(t){const e={},n=p(t,["name"]);n!=null&&g(e,["name"],n);const o=p(t,["displayName"]);o!=null&&g(e,["displayName"],o);const r=p(t,["description"]);r!=null&&g(e,["description"],r);const a=p(t,["versionId"]);a!=null&&g(e,["version"],a);const u=p(t,["deployedModels"]);if(u!=null){let y=u;Array.isArray(y)&&(y=y.map(S=>zG(S))),g(e,["endpoints"],y)}const c=p(t,["labels"]);c!=null&&g(e,["labels"],c);const h=p(t,["_self"]);h!=null&&g(e,["tunedModelInfo"],YV(h));const d=p(t,["defaultCheckpointId"]);d!=null&&g(e,["defaultCheckpointId"],d);const m=p(t,["checkpoints"]);if(m!=null){let y=m;Array.isArray(y)&&(y=y.map(S=>S)),g(e,["checkpoints"],y)}return e}function DV(t){const e={},n=p(t,["mediaResolution"]);n!=null&&g(e,["mediaResolution"],n);const o=p(t,["codeExecutionResult"]);o!=null&&g(e,["codeExecutionResult"],o);const r=p(t,["executableCode"]);r!=null&&g(e,["executableCode"],r);const a=p(t,["fileData"]);a!=null&&g(e,["fileData"],qG(a));const u=p(t,["functionCall"]);u!=null&&g(e,["functionCall"],JG(u));const c=p(t,["functionResponse"]);c!=null&&g(e,["functionResponse"],c);const h=p(t,["inlineData"]);h!=null&&g(e,["inlineData"],vG(h));const d=p(t,["text"]);d!=null&&g(e,["text"],d);const m=p(t,["thought"]);m!=null&&g(e,["thought"],m);const y=p(t,["thoughtSignature"]);y!=null&&g(e,["thoughtSignature"],y);const S=p(t,["videoMetadata"]);return S!=null&&g(e,["videoMetadata"],S),e}function OV(t){const e={},n=p(t,["productImage"]);return n!=null&&g(e,["image"],ho(n)),e}function PV(t,e){const n={},o=p(t,["numberOfImages"]);e!==void 0&&o!=null&&g(e,["parameters","sampleCount"],o);const r=p(t,["baseSteps"]);e!==void 0&&r!=null&&g(e,["parameters","baseSteps"],r);const a=p(t,["outputGcsUri"]);e!==void 0&&a!=null&&g(e,["parameters","storageUri"],a);const u=p(t,["seed"]);e!==void 0&&u!=null&&g(e,["parameters","seed"],u);const c=p(t,["safetyFilterLevel"]);e!==void 0&&c!=null&&g(e,["parameters","safetySetting"],c);const h=p(t,["personGeneration"]);e!==void 0&&h!=null&&g(e,["parameters","personGeneration"],h);const d=p(t,["addWatermark"]);e!==void 0&&d!=null&&g(e,["parameters","addWatermark"],d);const m=p(t,["outputMimeType"]);e!==void 0&&m!=null&&g(e,["parameters","outputOptions","mimeType"],m);const y=p(t,["outputCompressionQuality"]);e!==void 0&&y!=null&&g(e,["parameters","outputOptions","compressionQuality"],y);const S=p(t,["enhancePrompt"]);e!==void 0&&S!=null&&g(e,["parameters","enhancePrompt"],S);const b=p(t,["labels"]);return e!==void 0&&b!=null&&g(e,["labels"],b),n}function kV(t,e){const n={},o=p(e,["model"]);o!=null&&g(n,["_url","model"],Ve(t,o));const r=p(e,["source"]);r!=null&&UV(r,n);const a=p(e,["config"]);return a!=null&&PV(a,n),n}function LV(t){const e={},n=p(t,["predictions"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(r=>uh(r))),g(e,["generatedImages"],o)}return e}function UV(t,e){const n={},o=p(t,["prompt"]);e!==void 0&&o!=null&&g(e,["instances[0]","prompt"],o);const r=p(t,["personImage"]);e!==void 0&&r!=null&&g(e,["instances[0]","personImage","image"],ho(r));const a=p(t,["productImages"]);if(e!==void 0&&a!=null){let u=a;Array.isArray(u)&&(u=u.map(c=>OV(c))),g(e,["instances[0]","productImages"],u)}return n}function BV(t){const e={},n=p(t,["referenceImage"]);n!=null&&g(e,["referenceImage"],ho(n));const o=p(t,["referenceId"]);o!=null&&g(e,["referenceId"],o);const r=p(t,["referenceType"]);r!=null&&g(e,["referenceType"],r);const a=p(t,["maskImageConfig"]);a!=null&&g(e,["maskImageConfig"],IV(a));const u=p(t,["controlImageConfig"]);u!=null&&g(e,["controlImageConfig"],CG(u));const c=p(t,["styleImageConfig"]);c!=null&&g(e,["styleImageConfig"],c);const h=p(t,["subjectImageConfig"]);return h!=null&&g(e,["subjectImageConfig"],h),e}function SM(t){const e={},n=p(t,["safetyAttributes","categories"]);n!=null&&g(e,["categories"],n);const o=p(t,["safetyAttributes","scores"]);o!=null&&g(e,["scores"],o);const r=p(t,["contentType"]);return r!=null&&g(e,["contentType"],r),e}function bM(t){const e={},n=p(t,["safetyAttributes","categories"]);n!=null&&g(e,["categories"],n);const o=p(t,["safetyAttributes","scores"]);o!=null&&g(e,["scores"],o);const r=p(t,["contentType"]);return r!=null&&g(e,["contentType"],r),e}function FV(t){const e={},n=p(t,["category"]);if(n!=null&&g(e,["category"],n),p(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const o=p(t,["threshold"]);return o!=null&&g(e,["threshold"],o),e}function $V(t){const e={},n=p(t,["image"]);return n!=null&&g(e,["image"],ho(n)),e}function HV(t,e){const n={},o=p(t,["mode"]);e!==void 0&&o!=null&&g(e,["parameters","mode"],o);const r=p(t,["maxPredictions"]);e!==void 0&&r!=null&&g(e,["parameters","maxPredictions"],r);const a=p(t,["confidenceThreshold"]);e!==void 0&&a!=null&&g(e,["parameters","confidenceThreshold"],a);const u=p(t,["maskDilation"]);e!==void 0&&u!=null&&g(e,["parameters","maskDilation"],u);const c=p(t,["binaryColorThreshold"]);e!==void 0&&c!=null&&g(e,["parameters","binaryColorThreshold"],c);const h=p(t,["labels"]);return e!==void 0&&h!=null&&g(e,["labels"],h),n}function GV(t,e){const n={},o=p(e,["model"]);o!=null&&g(n,["_url","model"],Ve(t,o));const r=p(e,["source"]);r!=null&&zV(r,n);const a=p(e,["config"]);return a!=null&&HV(a,n),n}function VV(t){const e={},n=p(t,["predictions"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(r=>pV(r))),g(e,["generatedMasks"],o)}return e}function zV(t,e){const n={},o=p(t,["prompt"]);e!==void 0&&o!=null&&g(e,["instances[0]","prompt"],o);const r=p(t,["image"]);e!==void 0&&r!=null&&g(e,["instances[0]","image"],ho(r));const a=p(t,["scribbleImage"]);return e!==void 0&&a!=null&&g(e,["instances[0]","scribble"],$V(a)),n}function EM(t){const e={},n=p(t,["voiceConfig"]);n!=null&&g(e,["voiceConfig"],n);const o=p(t,["languageCode"]);if(o!=null&&g(e,["languageCode"],o),p(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return e}function qV(t){const e={},n=p(t,["functionCallingConfig"]);n!=null&&g(e,["functionCallingConfig"],KG(n));const o=p(t,["retrievalConfig"]);return o!=null&&g(e,["retrievalConfig"],o),e}function JV(t){const e={},n=p(t,["functionDeclarations"]);if(n!=null){let m=n;Array.isArray(m)&&(m=m.map(y=>y)),g(e,["functionDeclarations"],m)}if(p(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=p(t,["googleSearchRetrieval"]);o!=null&&g(e,["googleSearchRetrieval"],o);const r=p(t,["computerUse"]);r!=null&&g(e,["computerUse"],r);const a=p(t,["fileSearch"]);a!=null&&g(e,["fileSearch"],a);const u=p(t,["codeExecution"]);if(u!=null&&g(e,["codeExecution"],u),p(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const c=p(t,["googleMaps"]);c!=null&&g(e,["googleMaps"],SV(c));const h=p(t,["googleSearch"]);h!=null&&g(e,["googleSearch"],bV(h));const d=p(t,["urlContext"]);return d!=null&&g(e,["urlContext"],d),e}function wM(t){const e={},n=p(t,["functionDeclarations"]);if(n!=null){let y=n;Array.isArray(y)&&(y=y.map(S=>YG(S))),g(e,["functionDeclarations"],y)}const o=p(t,["retrieval"]);o!=null&&g(e,["retrieval"],o);const r=p(t,["googleSearchRetrieval"]);r!=null&&g(e,["googleSearchRetrieval"],r);const a=p(t,["computerUse"]);if(a!=null&&g(e,["computerUse"],a),p(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const u=p(t,["codeExecution"]);u!=null&&g(e,["codeExecution"],u);const c=p(t,["enterpriseWebSearch"]);c!=null&&g(e,["enterpriseWebSearch"],c);const h=p(t,["googleMaps"]);h!=null&&g(e,["googleMaps"],h);const d=p(t,["googleSearch"]);d!=null&&g(e,["googleSearch"],d);const m=p(t,["urlContext"]);return m!=null&&g(e,["urlContext"],m),e}function KV(t){const e={},n=p(t,["baseModel"]);n!=null&&g(e,["baseModel"],n);const o=p(t,["createTime"]);o!=null&&g(e,["createTime"],o);const r=p(t,["updateTime"]);return r!=null&&g(e,["updateTime"],r),e}function YV(t){const e={},n=p(t,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&g(e,["baseModel"],n);const o=p(t,["createTime"]);o!=null&&g(e,["createTime"],o);const r=p(t,["updateTime"]);return r!=null&&g(e,["updateTime"],r),e}function jV(t,e){const n={},o=p(t,["displayName"]);e!==void 0&&o!=null&&g(e,["displayName"],o);const r=p(t,["description"]);e!==void 0&&r!=null&&g(e,["description"],r);const a=p(t,["defaultCheckpointId"]);return e!==void 0&&a!=null&&g(e,["defaultCheckpointId"],a),n}function XV(t,e){const n={},o=p(t,["displayName"]);e!==void 0&&o!=null&&g(e,["displayName"],o);const r=p(t,["description"]);e!==void 0&&r!=null&&g(e,["description"],r);const a=p(t,["defaultCheckpointId"]);return e!==void 0&&a!=null&&g(e,["defaultCheckpointId"],a),n}function WV(t,e){const n={},o=p(e,["model"]);o!=null&&g(n,["_url","name"],Ve(t,o));const r=p(e,["config"]);return r!=null&&jV(r,n),n}function QV(t,e){const n={},o=p(e,["model"]);o!=null&&g(n,["_url","model"],Ve(t,o));const r=p(e,["config"]);return r!=null&&XV(r,n),n}function ZV(t,e){const n={},o=p(t,["outputGcsUri"]);e!==void 0&&o!=null&&g(e,["parameters","storageUri"],o);const r=p(t,["safetyFilterLevel"]);e!==void 0&&r!=null&&g(e,["parameters","safetySetting"],r);const a=p(t,["personGeneration"]);e!==void 0&&a!=null&&g(e,["parameters","personGeneration"],a);const u=p(t,["includeRaiReason"]);e!==void 0&&u!=null&&g(e,["parameters","includeRaiReason"],u);const c=p(t,["outputMimeType"]);e!==void 0&&c!=null&&g(e,["parameters","outputOptions","mimeType"],c);const h=p(t,["outputCompressionQuality"]);e!==void 0&&h!=null&&g(e,["parameters","outputOptions","compressionQuality"],h);const d=p(t,["enhanceInputImage"]);e!==void 0&&d!=null&&g(e,["parameters","upscaleConfig","enhanceInputImage"],d);const m=p(t,["imagePreservationFactor"]);e!==void 0&&m!=null&&g(e,["parameters","upscaleConfig","imagePreservationFactor"],m);const y=p(t,["labels"]);e!==void 0&&y!=null&&g(e,["labels"],y);const S=p(t,["numberOfImages"]);e!==void 0&&S!=null&&g(e,["parameters","sampleCount"],S);const b=p(t,["mode"]);return e!==void 0&&b!=null&&g(e,["parameters","mode"],b),n}function ez(t,e){const n={},o=p(e,["model"]);o!=null&&g(n,["_url","model"],Ve(t,o));const r=p(e,["image"]);r!=null&&g(n,["instances[0]","image"],ho(r));const a=p(e,["upscaleFactor"]);a!=null&&g(n,["parameters","upscaleConfig","upscaleFactor"],a);const u=p(e,["config"]);return u!=null&&ZV(u,n),n}function tz(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const o=p(t,["predictions"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(a=>uh(a))),g(e,["generatedImages"],r)}return e}function nz(t){const e={},n=p(t,["uri"]);n!=null&&g(e,["uri"],n);const o=p(t,["encodedVideo"]);o!=null&&g(e,["videoBytes"],hr(o));const r=p(t,["encoding"]);return r!=null&&g(e,["mimeType"],r),e}function oz(t){const e={},n=p(t,["gcsUri"]);n!=null&&g(e,["uri"],n);const o=p(t,["bytesBase64Encoded"]);o!=null&&g(e,["videoBytes"],hr(o));const r=p(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function iz(t){const e={},n=p(t,["image"]);n!=null&&g(e,["_self"],ho(n));const o=p(t,["maskMode"]);return o!=null&&g(e,["maskMode"],o),e}function rz(t){const e={},n=p(t,["image"]);n!=null&&g(e,["image"],ch(n));const o=p(t,["referenceType"]);return o!=null&&g(e,["referenceType"],o),e}function sz(t){const e={},n=p(t,["image"]);n!=null&&g(e,["image"],ho(n));const o=p(t,["referenceType"]);return o!=null&&g(e,["referenceType"],o),e}function CM(t){const e={},n=p(t,["uri"]);n!=null&&g(e,["uri"],n);const o=p(t,["videoBytes"]);o!=null&&g(e,["encodedVideo"],hr(o));const r=p(t,["mimeType"]);return r!=null&&g(e,["encoding"],r),e}function TM(t){const e={},n=p(t,["uri"]);n!=null&&g(e,["gcsUri"],n);const o=p(t,["videoBytes"]);o!=null&&g(e,["bytesBase64Encoded"],hr(o));const r=p(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function az(t,e){const n={},o=p(t,["displayName"]);return e!==void 0&&o!=null&&g(e,["displayName"],o),n}function lz(t){const e={},n=p(t,["config"]);return n!=null&&az(n,e),e}function uz(t,e){const n={},o=p(t,["force"]);return e!==void 0&&o!=null&&g(e,["_query","force"],o),n}function cz(t){const e={},n=p(t,["name"]);n!=null&&g(e,["_url","name"],n);const o=p(t,["config"]);return o!=null&&uz(o,e),e}function fz(t){const e={},n=p(t,["name"]);return n!=null&&g(e,["_url","name"],n),e}function dz(t,e){const n={},o=p(t,["customMetadata"]);if(e!==void 0&&o!=null){let a=o;Array.isArray(a)&&(a=a.map(u=>u)),g(e,["customMetadata"],a)}const r=p(t,["chunkingConfig"]);return e!==void 0&&r!=null&&g(e,["chunkingConfig"],r),n}function hz(t){const e={},n=p(t,["name"]);n!=null&&g(e,["name"],n);const o=p(t,["metadata"]);o!=null&&g(e,["metadata"],o);const r=p(t,["done"]);r!=null&&g(e,["done"],r);const a=p(t,["error"]);a!=null&&g(e,["error"],a);const u=p(t,["response"]);return u!=null&&g(e,["response"],mz(u)),e}function pz(t){const e={},n=p(t,["fileSearchStoreName"]);n!=null&&g(e,["_url","file_search_store_name"],n);const o=p(t,["fileName"]);o!=null&&g(e,["fileName"],o);const r=p(t,["config"]);return r!=null&&dz(r,e),e}function mz(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const o=p(t,["parent"]);o!=null&&g(e,["parent"],o);const r=p(t,["documentName"]);return r!=null&&g(e,["documentName"],r),e}function gz(t,e){const n={},o=p(t,["pageSize"]);e!==void 0&&o!=null&&g(e,["_query","pageSize"],o);const r=p(t,["pageToken"]);return e!==void 0&&r!=null&&g(e,["_query","pageToken"],r),n}function vz(t){const e={},n=p(t,["config"]);return n!=null&&gz(n,e),e}function yz(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const o=p(t,["nextPageToken"]);o!=null&&g(e,["nextPageToken"],o);const r=p(t,["fileSearchStores"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(u=>u)),g(e,["fileSearchStores"],a)}return e}function AM(t,e){const n={},o=p(t,["mimeType"]);e!==void 0&&o!=null&&g(e,["mimeType"],o);const r=p(t,["displayName"]);e!==void 0&&r!=null&&g(e,["displayName"],r);const a=p(t,["customMetadata"]);if(e!==void 0&&a!=null){let c=a;Array.isArray(c)&&(c=c.map(h=>h)),g(e,["customMetadata"],c)}const u=p(t,["chunkingConfig"]);return e!==void 0&&u!=null&&g(e,["chunkingConfig"],u),n}function _z(t){const e={},n=p(t,["fileSearchStoreName"]);n!=null&&g(e,["_url","file_search_store_name"],n);const o=p(t,["config"]);return o!=null&&AM(o,e),e}function Sz(t){const e={},n=p(t,["sdkHttpResponse"]);return n!=null&&g(e,["sdkHttpResponse"],n),e}const bz="Content-Type",Ez="X-Server-Timeout",wz="User-Agent",Ev="x-goog-api-client",Cz="1.33.0",Tz=`google-genai-sdk/${Cz}`,Az="v1beta1",xz="v1beta";class Rz{constructor(e){var n,o;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const r={};this.clientOptions.vertexai?(r.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:Az,r.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(r.apiVersion=(o=this.clientOptions.apiVersion)!==null&&o!==void 0?o:xz,r.baseUrl="https://generativelanguage.googleapis.com/"),r.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=r,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(r,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const o=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&o.push(e.apiVersion),o.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,o){const r=[this.getRequestUrlInternal(n)];return o&&r.push(this.getBaseResourcePath()),e!==""&&r.push(e),new URL(`${r.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const o=this.shouldPrependVertexProjectPath(e),r=this.constructUrl(e.path,n,o);if(e.queryParams)for(const[u,c]of Object.entries(e.queryParams))r.searchParams.append(u,String(c));let a={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else a.body=e.body;return a=await this.includeExtraHttpOptionsToRequestInit(a,n,r.toString(),e.abortSignal),this.unaryApiCall(r,a,e.httpMethod)}patchHttpOptions(e,n){const o=JSON.parse(JSON.stringify(e));for(const[r,a]of Object.entries(n))typeof a=="object"?o[r]=Object.assign(Object.assign({},o[r]),a):a!==void 0&&(o[r]=a);return o}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const o=this.shouldPrependVertexProjectPath(e),r=this.constructUrl(e.path,n,o);(!r.searchParams.has("alt")||r.searchParams.get("alt")!=="sse")&&r.searchParams.set("alt","sse");let a={};return a.body=e.body,a=await this.includeExtraHttpOptionsToRequestInit(a,n,r.toString(),e.abortSignal),this.streamApiCall(r,a,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,o,r){if(n&&n.timeout||r){const a=new AbortController,u=a.signal;if(n.timeout&&n?.timeout>0){const c=setTimeout(()=>a.abort(),n.timeout);c&&typeof c.unref=="function"&&c.unref()}r&&r.addEventListener("abort",()=>{a.abort()}),e.signal=u}return n&&n.extraBody!==null&&Mz(e,n.extraBody),e.headers=await this.getHeadersInternal(n,o),e}async unaryApiCall(e,n,o){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:o})).then(async r=>(await aT(r),new vv(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}async streamApiCall(e,n,o){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:o})).then(async r=>(await aT(r),this.processStreamResponse(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}processStreamResponse(e){return ro(this,arguments,function*(){var o;const r=(o=e?.body)===null||o===void 0?void 0:o.getReader(),a=new TextDecoder("utf-8");if(!r)throw new Error("Response body is empty");try{let u="";const c="data:",h=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:d,value:m}=yield Ae(r.read());if(d){if(u.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const y=a.decode(m,{stream:!0});try{const T=JSON.parse(y);if("error"in T){const A=JSON.parse(JSON.stringify(T.error)),x=A.status,M=A.code,I=`got status: ${x}. ${JSON.stringify(T)}`;if(M>=400&&M<600)throw new ah({message:I,status:M})}}catch(T){if(T.name==="ApiError")throw T}u+=y;let S=-1,b=0;for(;;){S=-1,b=0;for(const x of h){const M=u.indexOf(x);M!==-1&&(S===-1||M<S)&&(S=M,b=x.length)}if(S===-1)break;const T=u.substring(0,S);u=u.substring(S+b);const A=T.trim();if(A.startsWith(c)){const x=A.substring(c.length).trim();try{const M=new Response(x,{headers:e?.headers,status:e?.status,statusText:e?.statusText});yield yield Ae(new vv(M))}catch(M){throw new Error(`exception parsing stream chunk ${x}. ${M}`)}}}}}finally{r.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(o=>{throw new Error(`exception ${o} sending request`)})}getDefaultHeaders(){const e={},n=Tz+" "+this.clientOptions.userAgentExtra;return e[wz]=n,e[Ev]=n,e[bz]="application/json",e}async getHeadersInternal(e,n){const o=new Headers;if(e&&e.headers){for(const[r,a]of Object.entries(e.headers))o.append(r,a);e.timeout&&e.timeout>0&&o.append(Ez,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(o,n),o}getFileName(e){var n;let o="";return typeof e=="string"&&(o=e.replace(/[/\\]+$/,""),o=(n=o.split(/[/\\]/).pop())!==null&&n!==void 0?n:""),o}async uploadFile(e,n){var o;const r={};n!=null&&(r.mimeType=n.mimeType,r.name=n.name,r.displayName=n.displayName),r.name&&!r.name.startsWith("files/")&&(r.name=`files/${r.name}`);const a=this.clientOptions.uploader,u=await a.stat(e);r.sizeBytes=String(u.size);const c=(o=n?.mimeType)!==null&&o!==void 0?o:u.type;if(c===void 0||c==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");r.mimeType=c;const h={file:r},d=this.getFileName(e),m=fe("upload/v1beta/files",h._url),y=await this.fetchUploadUrl(m,r.sizeBytes,r.mimeType,d,h,n?.httpOptions);return a.upload(e,y,this)}async uploadFileToFileSearchStore(e,n,o){var r;const a=this.clientOptions.uploader,u=await a.stat(n),c=String(u.size),h=(r=o?.mimeType)!==null&&r!==void 0?r:u.type;if(h===void 0||h==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const d=`upload/v1beta/${e}:uploadToFileSearchStore`,m=this.getFileName(n),y={};o!=null&&AM(o,y);const S=await this.fetchUploadUrl(d,c,h,m,y,o?.httpOptions);return a.uploadToFileSearchStore(n,S,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n,o,r,a,u){var c;let h={};u?h=u:h={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n}`,"X-Goog-Upload-Header-Content-Type":`${o}`},r?{"X-Goog-Upload-File-Name":r}:{})};const d=await this.request({path:e,body:JSON.stringify(a),httpMethod:"POST",httpOptions:h});if(!d||!d?.headers)throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const m=(c=d?.headers)===null||c===void 0?void 0:c["x-goog-upload-url"];if(m===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return m}}async function aT(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const n=t.status;let o;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?o=await t.json():o={error:{message:await t.text(),code:t.status,status:t.statusText}};const r=JSON.stringify(o);throw n>=400&&n<600?new ah({message:r,status:n}):new Error(r)}}function Mz(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof t.body=="string"&&t.body.length>0)try{const a=JSON.parse(t.body);if(typeof a=="object"&&a!==null&&!Array.isArray(a))n=a;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function o(a,u){const c=Object.assign({},a);for(const h in u)if(Object.prototype.hasOwnProperty.call(u,h)){const d=u[h],m=c[h];d&&typeof d=="object"&&!Array.isArray(d)&&m&&typeof m=="object"&&!Array.isArray(m)?c[h]=o(m,d):(m&&d&&typeof m!=typeof d&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${h}". Original type: ${typeof m}, New type: ${typeof d}. Overwriting.`),c[h]=d)}return c}const r=o(n,e);t.body=JSON.stringify(r)}const Nz="mcp_used/unknown";let Iz=!1;function xM(t){for(const e of t)if(Dz(e)||typeof e=="object"&&"inputSchema"in e)return!0;return Iz}function RM(t){var e;const n=(e=t[Ev])!==null&&e!==void 0?e:"";t[Ev]=(n+` ${Nz}`).trimStart()}function Dz(t){return t!==null&&typeof t=="object"&&t instanceof Gy}function Oz(t){return ro(this,arguments,function*(n,o=100){let r,a=0;for(;a<o;){const u=yield Ae(n.listTools({cursor:r}));for(const c of u.tools)yield yield Ae(c),a++;if(!u.nextCursor)break;r=u.nextCursor}})}class Gy{constructor(e=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=n}static create(e,n){return new Gy(e,n)}async initialize(){var e,n,o,r;if(this.mcpTools.length>0)return;const a={},u=[];for(const m of this.mcpClients)try{for(var c=!0,h=(n=void 0,so(Oz(m))),d;d=await h.next(),e=d.done,!e;c=!0){r=d.value,c=!1;const y=r;u.push(y);const S=y.name;if(a[S])throw new Error(`Duplicate function name ${S} found in MCP tools. Please ensure function names are unique.`);a[S]=m}}catch(y){n={error:y}}finally{try{!c&&!e&&(o=h.return)&&await o.call(h)}finally{if(n)throw n.error}}this.mcpTools=u,this.functionNameToMcpClient=a}async tool(){return await this.initialize(),f$(this.mcpTools,this.config)}async callTool(e){await this.initialize();const n=[];for(const o of e)if(o.name in this.functionNameToMcpClient){const r=this.functionNameToMcpClient[o.name];let a;this.config.timeout&&(a={timeout:this.config.timeout});const u=await r.callTool({name:o.name,arguments:o.args},void 0,a);n.push({functionResponse:{name:o.name,response:u.isError?{error:u}:u}})}return n}}async function Pz(t,e,n){const o=new o$;let r;n.data instanceof Blob?r=JSON.parse(await n.data.text()):r=JSON.parse(n.data),Object.assign(o,r),e(o)}class kz{constructor(e,n,o){this.apiClient=e,this.auth=n,this.webSocketFactory=o}async connect(e){var n,o;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const r=this.apiClient.getWebsocketBaseUrl(),a=this.apiClient.getApiVersion(),u=Bz(this.apiClient.getDefaultHeaders()),c=this.apiClient.getApiKey(),h=`${r}/ws/google.ai.generativelanguage.${a}.GenerativeService.BidiGenerateMusic?key=${c}`;let d=()=>{};const m=new Promise(N=>{d=N}),y=e.callbacks,S=function(){d({})},b=this.apiClient,T={onopen:S,onmessage:N=>{Pz(b,y.onmessage,N)},onerror:(n=y?.onerror)!==null&&n!==void 0?n:function(N){},onclose:(o=y?.onclose)!==null&&o!==void 0?o:function(N){}},A=this.webSocketFactory.create(h,Uz(u),T);A.connect(),await m;const I={setup:{model:Ve(this.apiClient,e.model)}};return A.send(JSON.stringify(I)),new Lz(A,this.apiClient)}}class Lz{constructor(e,n){this.conn=e,this.apiClient=n}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=lG(e);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const n=aG(e);this.conn.send(JSON.stringify(n))}sendPlaybackControl(e){const n={playbackControl:e};this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(la.PLAY)}pause(){this.sendPlaybackControl(la.PAUSE)}stop(){this.sendPlaybackControl(la.STOP)}resetContext(){this.sendPlaybackControl(la.RESET_CONTEXT)}close(){this.conn.close()}}function Uz(t){const e={};return t.forEach((n,o)=>{e[o]=n}),e}function Bz(t){const e=new Headers;for(const[n,o]of Object.entries(t))e.append(n,o);return e}const Fz="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function $z(t,e,n){const o=new n$;let r;n.data instanceof Blob?r=await n.data.text():n.data instanceof ArrayBuffer?r=new TextDecoder().decode(n.data):r=n.data;const a=JSON.parse(r);if(t.isVertexAI()){const u=fG(a);Object.assign(o,u)}else Object.assign(o,a);e(o)}class Hz{constructor(e,n,o){this.apiClient=e,this.auth=n,this.webSocketFactory=o,this.music=new kz(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,o,r,a,u,c;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const h=this.apiClient.getWebsocketBaseUrl(),d=this.apiClient.getApiVersion();let m;const y=this.apiClient.getHeaders();e.config&&e.config.tools&&xM(e.config.tools)&&RM(y);const S=qz(y);if(this.apiClient.isVertexAI())m=`${h}/ws/google.cloud.aiplatform.${d}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(S,m);else{const J=this.apiClient.getApiKey();let j="BidiGenerateContent",W="key";J?.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),d!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),j="BidiGenerateContentConstrained",W="access_token"),m=`${h}/ws/google.ai.generativelanguage.${d}.GenerativeService.${j}?${W}=${J}`}let b=()=>{};const T=new Promise(J=>{b=J}),A=e.callbacks,x=function(){var J;(J=A?.onopen)===null||J===void 0||J.call(A),b({})},M=this.apiClient,I={onopen:x,onmessage:J=>{$z(M,A.onmessage,J)},onerror:(n=A?.onerror)!==null&&n!==void 0?n:function(J){},onclose:(o=A?.onclose)!==null&&o!==void 0?o:function(J){}},N=this.webSocketFactory.create(m,zz(S),I);N.connect(),await T;let D=Ve(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&D.startsWith("publishers/")){const J=this.apiClient.getProject(),j=this.apiClient.getLocation();D=`projects/${J}/locations/${j}/`+D}let L={};this.apiClient.isVertexAI()&&((r=e.config)===null||r===void 0?void 0:r.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[wd.AUDIO]}:e.config.responseModalities=[wd.AUDIO]),!((a=e.config)===null||a===void 0)&&a.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const U=(c=(u=e.config)===null||u===void 0?void 0:u.tools)!==null&&c!==void 0?c:[],O=[];for(const J of U)if(this.isCallableTool(J)){const j=J;O.push(await j.tool())}else O.push(J);O.length>0&&(e.config.tools=O);const q={model:D,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?L=sG(this.apiClient,q):L=rG(this.apiClient,q),delete L.config,N.send(JSON.stringify(L)),new Vz(N,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const Gz={turnComplete:!0};class Vz{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let o=[];try{o=Gn(n.turns),e.isVertexAI()||(o=o.map(r=>lh(r)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:o,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let o=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?o=n.functionResponses:o=[n.functionResponses],o.length===0)throw new Error("functionResponses is required.");for(const a of o){if(typeof a!="object"||a===null||!("name"in a)||!("response"in a))throw new Error(`Could not parse function response, type '${typeof a}'.`);if(!e.isVertexAI()&&!("id"in a))throw new Error(Fz)}return{toolResponse:{functionResponses:o}}}sendClientContent(e){e=Object.assign(Object.assign({},Gz),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:cG(e)}:n={realtimeInput:uG(e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function zz(t){const e={};return t.forEach((n,o)=>{e[o]=n}),e}function qz(t){const e=new Headers;for(const[n,o]of Object.entries(t))e.append(n,o);return e}const lT=10;function uT(t){var e,n,o;if(!((e=t?.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let r=!1;for(const u of(n=t?.tools)!==null&&n!==void 0?n:[])if(da(u)){r=!0;break}if(!r)return!0;const a=(o=t?.automaticFunctionCalling)===null||o===void 0?void 0:o.maximumRemoteCalls;return a&&(a<0||!Number.isInteger(a))||a==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",a),!0):!1}function da(t){return"callTool"in t&&typeof t.callTool=="function"}function Jz(t){var e,n,o;return(o=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(r=>da(r)))!==null&&o!==void 0?o:!1}function cT(t){var e;const n=[];return!((e=t?.config)===null||e===void 0)&&e.tools&&t.config.tools.forEach((o,r)=>{if(da(o))return;const a=o;a.functionDeclarations&&a.functionDeclarations.length>0&&n.push(r)}),n}function fT(t){var e;return!(!((e=t?.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}let Kz=class extends Si{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>{var o,r,a,u,c;const h=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!Jz(n)||uT(n.config))return await this.generateContentInternal(h);const d=cT(n);if(d.length>0){const A=d.map(x=>`tools[${x}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${A}.`)}let m,y;const S=Gn(h.contents),b=(a=(r=(o=h.config)===null||o===void 0?void 0:o.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&a!==void 0?a:lT;let T=0;for(;T<b&&(m=await this.generateContentInternal(h),!(!m.functionCalls||m.functionCalls.length===0));){const A=m.candidates[0].content,x=[];for(const M of(c=(u=n.config)===null||u===void 0?void 0:u.tools)!==null&&c!==void 0?c:[])if(da(M)){const N=await M.callTool(m.functionCalls);x.push(...N)}T++,y={role:"user",parts:x},h.contents=Gn(h.contents),h.contents.push(A),h.contents.push(y),fT(h.config)&&(S.push(A),S.push(y))}return fT(h.config)&&(m.automaticFunctionCallingHistory=S),m},this.generateContentStream=async n=>{var o,r,a,u,c;if(this.maybeMoveToResponseJsonSchem(n),uT(n.config)){const y=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(y)}const h=cT(n);if(h.length>0){const y=h.map(S=>`tools[${S}]`).join(", ");throw new Error(`Incompatible tools found at ${y}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const d=(a=(r=(o=n?.config)===null||o===void 0?void 0:o.toolConfig)===null||r===void 0?void 0:r.functionCallingConfig)===null||a===void 0?void 0:a.streamFunctionCallArguments,m=(c=(u=n?.config)===null||u===void 0?void 0:u.automaticFunctionCalling)===null||c===void 0?void 0:c.disable;if(d&&!m)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(o=>{var r;let a;const u=[];if(o?.generatedImages)for(const h of o.generatedImages)h&&h?.safetyAttributes&&((r=h?.safetyAttributes)===null||r===void 0?void 0:r.contentType)==="Positive Prompt"?a=h?.safetyAttributes:u.push(h);let c;return a?c={generatedImages:u,positivePromptSafetyAttributes:a,sdkHttpResponse:o.sdkHttpResponse}:c={generatedImages:u,sdkHttpResponse:o.sdkHttpResponse},c}),this.list=async n=>{var o;const u={config:Object.assign(Object.assign({},{queryBase:!0}),n?.config)};if(this.apiClient.isVertexAI()&&!u.config.queryBase){if(!((o=u.config)===null||o===void 0)&&o.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");u.config.filter="labels.tune-type:*"}return new os(mi.PAGED_ITEM_MODELS,c=>this.listInternal(c),await this.listInternal(u),u)},this.editImage=async n=>{const o={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(o.referenceImages=n.referenceImages.map(r=>r.toReferenceImageAPI())),await this.editImageInternal(o)},this.upscaleImage=async n=>{let o={numberOfImages:1,mode:"upscale"};n.config&&(o=Object.assign(Object.assign({},o),n.config));const r={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:o};return await this.upscaleImageInternal(r)},this.generateVideos=async n=>{var o,r,a,u,c,h;if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((o=n.video)===null||o===void 0)&&o.uri&&(!((r=n.video)===null||r===void 0)&&r.videoBytes)?n.video={uri:n.video.uri,mimeType:n.video.mimeType}:!((u=(a=n.source)===null||a===void 0?void 0:a.video)===null||u===void 0)&&u.uri&&(!((h=(c=n.source)===null||c===void 0?void 0:c.video)===null||h===void 0)&&h.videoBytes)&&(n.source.video={uri:n.source.video.uri,mimeType:n.source.video.mimeType})),await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var n,o,r;const a=(n=e.config)===null||n===void 0?void 0:n.tools;if(!a)return e;const u=await Promise.all(a.map(async h=>da(h)?await h.tool():h)),c={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:u})};if(c.config.tools=u,e.config&&e.config.tools&&xM(e.config.tools)){const h=(r=(o=e.config.httpOptions)===null||o===void 0?void 0:o.headers)!==null&&r!==void 0?r:{};let d=Object.assign({},h);Object.keys(d).length===0&&(d=this.apiClient.getDefaultHeaders()),RM(d),c.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:d})}return c}async initAfcToolsMap(e){var n,o,r;const a=new Map;for(const u of(o=(n=e.config)===null||n===void 0?void 0:n.tools)!==null&&o!==void 0?o:[])if(da(u)){const c=u,h=await c.tool();for(const d of(r=h.functionDeclarations)!==null&&r!==void 0?r:[]){if(!d.name)throw new Error("Function declaration name is required.");if(a.has(d.name))throw new Error(`Duplicate tool declaration name: ${d.name}`);a.set(d.name,c)}}return a}async processAfcStream(e){var n,o,r;const a=(r=(o=(n=e.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||o===void 0?void 0:o.maximumRemoteCalls)!==null&&r!==void 0?r:lT;let u=!1,c=0;const h=await this.initAfcToolsMap(e);return(function(d,m,y){return ro(this,arguments,function*(){for(var S,b,T,A,x,M;c<a;){u&&(c++,u=!1);const L=yield Ae(d.processParamsMaybeAddMcpUsage(y)),U=yield Ae(d.generateContentStreamInternal(L)),O=[],q=[];try{for(var I=!0,N=(b=void 0,so(U)),D;D=yield Ae(N.next()),S=D.done,!S;I=!0){A=D.value,I=!1;const J=A;if(yield yield Ae(J),J.candidates&&(!((x=J.candidates[0])===null||x===void 0)&&x.content)){q.push(J.candidates[0].content);for(const j of(M=J.candidates[0].content.parts)!==null&&M!==void 0?M:[])if(c<a&&j.functionCall){if(!j.functionCall.name)throw new Error("Function call name was not returned by the model.");if(m.has(j.functionCall.name)){const W=yield Ae(m.get(j.functionCall.name).callTool([j.functionCall]));O.push(...W)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${m.keys()}, mising tool: ${j.functionCall.name}`)}}}}catch(J){b={error:J}}finally{try{!I&&!S&&(T=N.return)&&(yield Ae(T.call(N)))}finally{if(b)throw b.error}}if(O.length>0){u=!0;const J=new kl;J.candidates=[{content:{role:"user",parts:O}}],yield yield Ae(J);const j=[];j.push(...q),j.push({role:"user",parts:O});const W=Gn(y.contents).concat(j);y.contents=W}else break}})})(this,h,e)}async generateContentInternal(e){var n,o,r,a;let u,c="",h={};if(this.apiClient.isVertexAI()){const d=iT(this.apiClient,e);return c=fe("{model}:generateContent",d._url),h=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json().then(y=>{const S=y;return S.sdkHttpResponse={headers:m.headers},S})),u.then(m=>{const y=sT(m),S=new kl;return Object.assign(S,y),S})}else{const d=oT(this.apiClient,e);return c=fe("{model}:generateContent",d._url),h=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json().then(y=>{const S=y;return S.sdkHttpResponse={headers:m.headers},S})),u.then(m=>{const y=rT(m),S=new kl;return Object.assign(S,y),S})}}async generateContentStreamInternal(e){var n,o,r,a;let u,c="",h={};if(this.apiClient.isVertexAI()){const d=iT(this.apiClient,e);return c=fe("{model}:streamGenerateContent?alt=sse",d._url),h=d._query,delete d._url,delete d._query,u=this.apiClient.requestStream({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}),u.then(function(y){return ro(this,arguments,function*(){var S,b,T,A;try{for(var x=!0,M=so(y),I;I=yield Ae(M.next()),S=I.done,!S;x=!0){A=I.value,x=!1;const N=A,D=sT(yield Ae(N.json()));D.sdkHttpResponse={headers:N.headers};const L=new kl;Object.assign(L,D),yield yield Ae(L)}}catch(N){b={error:N}}finally{try{!x&&!S&&(T=M.return)&&(yield Ae(T.call(M)))}finally{if(b)throw b.error}}})})}else{const d=oT(this.apiClient,e);return c=fe("{model}:streamGenerateContent?alt=sse",d._url),h=d._query,delete d._url,delete d._query,u=this.apiClient.requestStream({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}),u.then(function(y){return ro(this,arguments,function*(){var S,b,T,A;try{for(var x=!0,M=so(y),I;I=yield Ae(M.next()),S=I.done,!S;x=!0){A=I.value,x=!1;const N=A,D=rT(yield Ae(N.json()));D.sdkHttpResponse={headers:N.headers};const L=new kl;Object.assign(L,D),yield yield Ae(L)}}catch(N){b={error:N}}finally{try{!x&&!S&&(T=M.return)&&(yield Ae(T.call(M)))}finally{if(b)throw b.error}}})})}}async embedContent(e){var n,o,r,a;let u,c="",h={};if(this.apiClient.isVertexAI()){const d=HG(this.apiClient,e);return c=fe("{model}:predict",d._url),h=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json().then(y=>{const S=y;return S.sdkHttpResponse={headers:m.headers},S})),u.then(m=>{const y=VG(m),S=new $C;return Object.assign(S,y),S})}else{const d=$G(this.apiClient,e);return c=fe("{model}:batchEmbedContents",d._url),h=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json().then(y=>{const S=y;return S.sdkHttpResponse={headers:m.headers},S})),u.then(m=>{const y=GG(m),S=new $C;return Object.assign(S,y),S})}}async generateImagesInternal(e){var n,o,r,a;let u,c="",h={};if(this.apiClient.isVertexAI()){const d=eV(this.apiClient,e);return c=fe("{model}:predict",d._url),h=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json().then(y=>{const S=y;return S.sdkHttpResponse={headers:m.headers},S})),u.then(m=>{const y=nV(m),S=new HC;return Object.assign(S,y),S})}else{const d=ZG(this.apiClient,e);return c=fe("{model}:predict",d._url),h=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json().then(y=>{const S=y;return S.sdkHttpResponse={headers:m.headers},S})),u.then(m=>{const y=tV(m),S=new HC;return Object.assign(S,y),S})}}async editImageInternal(e){var n,o;let r,a="",u={};if(this.apiClient.isVertexAI()){const c=LG(this.apiClient,e);return a=fe("{model}:predict",c._url),u=c._query,delete c._url,delete c._query,r=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(d=>{const m=d;return m.sdkHttpResponse={headers:h.headers},m})),r.then(h=>{const d=UG(h),m=new qF;return Object.assign(m,d),m})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,o;let r,a="",u={};if(this.apiClient.isVertexAI()){const c=ez(this.apiClient,e);return a=fe("{model}:predict",c._url),u=c._query,delete c._url,delete c._query,r=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(d=>{const m=d;return m.sdkHttpResponse={headers:h.headers},m})),r.then(h=>{const d=tz(h),m=new JF;return Object.assign(m,d),m})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var n,o;let r,a="",u={};if(this.apiClient.isVertexAI()){const c=kV(this.apiClient,e);return a=fe("{model}:predict",c._url),u=c._query,delete c._url,delete c._query,r=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),r.then(h=>{const d=LV(h),m=new KF;return Object.assign(m,d),m})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var n,o;let r,a="",u={};if(this.apiClient.isVertexAI()){const c=GV(this.apiClient,e);return a=fe("{model}:predict",c._url),u=c._query,delete c._url,delete c._query,r=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),r.then(h=>{const d=VV(h),m=new YF;return Object.assign(m,d),m})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,o,r,a;let u,c="",h={};if(this.apiClient.isVertexAI()){const d=_V(this.apiClient,e);return c=fe("{name}",d._url),h=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json()),u.then(m=>bv(m))}else{const d=yV(this.apiClient,e);return c=fe("{name}",d._url),h=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json()),u.then(m=>Sv(m))}}async listInternal(e){var n,o,r,a;let u,c="",h={};if(this.apiClient.isVertexAI()){const d=RV(this.apiClient,e);return c=fe("{models_url}",d._url),h=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json().then(y=>{const S=y;return S.sdkHttpResponse={headers:m.headers},S})),u.then(m=>{const y=NV(m),S=new GC;return Object.assign(S,y),S})}else{const d=xV(this.apiClient,e);return c=fe("{models_url}",d._url),h=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json().then(y=>{const S=y;return S.sdkHttpResponse={headers:m.headers},S})),u.then(m=>{const y=MV(m),S=new GC;return Object.assign(S,y),S})}}async update(e){var n,o,r,a;let u,c="",h={};if(this.apiClient.isVertexAI()){const d=QV(this.apiClient,e);return c=fe("{model}",d._url),h=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json()),u.then(m=>bv(m))}else{const d=WV(this.apiClient,e);return c=fe("{name}",d._url),h=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json()),u.then(m=>Sv(m))}}async delete(e){var n,o,r,a;let u,c="",h={};if(this.apiClient.isVertexAI()){const d=DG(this.apiClient,e);return c=fe("{name}",d._url),h=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json().then(y=>{const S=y;return S.sdkHttpResponse={headers:m.headers},S})),u.then(m=>{const y=PG(m),S=new VC;return Object.assign(S,y),S})}else{const d=IG(this.apiClient,e);return c=fe("{name}",d._url),h=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json().then(y=>{const S=y;return S.sdkHttpResponse={headers:m.headers},S})),u.then(m=>{const y=OG(m),S=new VC;return Object.assign(S,y),S})}}async countTokens(e){var n,o,r,a;let u,c="",h={};if(this.apiClient.isVertexAI()){const d=RG(this.apiClient,e);return c=fe("{model}:countTokens",d._url),h=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json().then(y=>{const S=y;return S.sdkHttpResponse={headers:m.headers},S})),u.then(m=>{const y=NG(m),S=new zC;return Object.assign(S,y),S})}else{const d=xG(this.apiClient,e);return c=fe("{model}:countTokens",d._url),h=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json().then(y=>{const S=y;return S.sdkHttpResponse={headers:m.headers},S})),u.then(m=>{const y=MG(m),S=new zC;return Object.assign(S,y),S})}}async computeTokens(e){var n,o;let r,a="",u={};if(this.apiClient.isVertexAI()){const c=SG(this.apiClient,e);return a=fe("{model}:computeTokens",c._url),u=c._query,delete c._url,delete c._query,r=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(d=>{const m=d;return m.sdkHttpResponse={headers:h.headers},m})),r.then(h=>{const d=bG(h),m=new jF;return Object.assign(m,d),m})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var n,o,r,a;let u,c="",h={};if(this.apiClient.isVertexAI()){const d=lV(this.apiClient,e);return c=fe("{model}:predictLongRunning",d._url),h=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json()),u.then(m=>{const y=sV(m),S=new Cd;return Object.assign(S,y),S})}else{const d=aV(this.apiClient,e);return c=fe("{model}:predictLongRunning",d._url),h=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json()),u.then(m=>{const y=rV(m),S=new Cd;return Object.assign(S,y),S})}}};class Yz extends Si{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const n=e.operation,o=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=n.name.split("/operations/")[0];let a;o&&"httpOptions"in o&&(a=o.httpOptions);const u=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:r,config:{httpOptions:a}});return n._fromAPIResponse({apiResponse:u,_isVertexAI:!0})}else{const r=await this.getVideosOperationInternal({operationName:n.name,config:o});return n._fromAPIResponse({apiResponse:r,_isVertexAI:!1})}}async get(e){const n=e.operation,o=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=n.name.split("/operations/")[0];let a;o&&"httpOptions"in o&&(a=o.httpOptions);const u=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:r,config:{httpOptions:a}});return n._fromAPIResponse({apiResponse:u,_isVertexAI:!0})}else{const r=await this.getVideosOperationInternal({operationName:n.name,config:o});return n._fromAPIResponse({apiResponse:r,_isVertexAI:!1})}}async getVideosOperationInternal(e){var n,o,r,a;let u,c="",h={};if(this.apiClient.isVertexAI()){const d=FF(e);return c=fe("{operationName}",d._url),h=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json()),u}else{const d=BF(e);return c=fe("{operationName}",d._url),h=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json()),u}}async fetchPredictVideosOperationInternal(e){var n,o;let r,a="",u={};if(this.apiClient.isVertexAI()){const c=IF(e);return a=fe("{resourceName}:fetchPredictOperation",c._url),u=c._query,delete c._url,delete c._query,r=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),r}else throw new Error("This method is only supported by the Vertex AI.")}}function jz(t){const e={},n=p(t,["data"]);if(n!=null&&g(e,["data"],n),p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=p(t,["mimeType"]);return o!=null&&g(e,["mimeType"],o),e}function Xz(t){const e={},n=p(t,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(a=>rq(a))),g(e,["parts"],r)}const o=p(t,["role"]);return o!=null&&g(e,["role"],o),e}function Wz(t,e,n){const o={},r=p(e,["expireTime"]);n!==void 0&&r!=null&&g(n,["expireTime"],r);const a=p(e,["newSessionExpireTime"]);n!==void 0&&a!=null&&g(n,["newSessionExpireTime"],a);const u=p(e,["uses"]);n!==void 0&&u!=null&&g(n,["uses"],u);const c=p(e,["liveConnectConstraints"]);n!==void 0&&c!=null&&g(n,["bidiGenerateContentSetup"],iq(t,c));const h=p(e,["lockAdditionalFields"]);return n!==void 0&&h!=null&&g(n,["fieldMask"],h),o}function Qz(t,e){const n={},o=p(e,["config"]);return o!=null&&g(n,["config"],Wz(t,o,n)),n}function Zz(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=p(t,["fileUri"]);n!=null&&g(e,["fileUri"],n);const o=p(t,["mimeType"]);return o!=null&&g(e,["mimeType"],o),e}function eq(t){const e={},n=p(t,["id"]);n!=null&&g(e,["id"],n);const o=p(t,["args"]);o!=null&&g(e,["args"],o);const r=p(t,["name"]);if(r!=null&&g(e,["name"],r),p(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(p(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function tq(t){const e={};if(p(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=p(t,["enableWidget"]);return n!=null&&g(e,["enableWidget"],n),e}function nq(t){const e={};if(p(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(p(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=p(t,["timeRangeFilter"]);return n!=null&&g(e,["timeRangeFilter"],n),e}function oq(t,e){const n={},o=p(t,["generationConfig"]);e!==void 0&&o!=null&&g(e,["setup","generationConfig"],o);const r=p(t,["responseModalities"]);e!==void 0&&r!=null&&g(e,["setup","generationConfig","responseModalities"],r);const a=p(t,["temperature"]);e!==void 0&&a!=null&&g(e,["setup","generationConfig","temperature"],a);const u=p(t,["topP"]);e!==void 0&&u!=null&&g(e,["setup","generationConfig","topP"],u);const c=p(t,["topK"]);e!==void 0&&c!=null&&g(e,["setup","generationConfig","topK"],c);const h=p(t,["maxOutputTokens"]);e!==void 0&&h!=null&&g(e,["setup","generationConfig","maxOutputTokens"],h);const d=p(t,["mediaResolution"]);e!==void 0&&d!=null&&g(e,["setup","generationConfig","mediaResolution"],d);const m=p(t,["seed"]);e!==void 0&&m!=null&&g(e,["setup","generationConfig","seed"],m);const y=p(t,["speechConfig"]);e!==void 0&&y!=null&&g(e,["setup","generationConfig","speechConfig"],Hy(y));const S=p(t,["thinkingConfig"]);e!==void 0&&S!=null&&g(e,["setup","generationConfig","thinkingConfig"],S);const b=p(t,["enableAffectiveDialog"]);e!==void 0&&b!=null&&g(e,["setup","generationConfig","enableAffectiveDialog"],b);const T=p(t,["systemInstruction"]);e!==void 0&&T!=null&&g(e,["setup","systemInstruction"],Xz(Ut(T)));const A=p(t,["tools"]);if(e!==void 0&&A!=null){let U=Ma(A);Array.isArray(U)&&(U=U.map(O=>aq(Ra(O)))),g(e,["setup","tools"],U)}const x=p(t,["sessionResumption"]);e!==void 0&&x!=null&&g(e,["setup","sessionResumption"],sq(x));const M=p(t,["inputAudioTranscription"]);e!==void 0&&M!=null&&g(e,["setup","inputAudioTranscription"],M);const I=p(t,["outputAudioTranscription"]);e!==void 0&&I!=null&&g(e,["setup","outputAudioTranscription"],I);const N=p(t,["realtimeInputConfig"]);e!==void 0&&N!=null&&g(e,["setup","realtimeInputConfig"],N);const D=p(t,["contextWindowCompression"]);e!==void 0&&D!=null&&g(e,["setup","contextWindowCompression"],D);const L=p(t,["proactivity"]);if(e!==void 0&&L!=null&&g(e,["setup","proactivity"],L),p(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function iq(t,e){const n={},o=p(e,["model"]);o!=null&&g(n,["setup","model"],Ve(t,o));const r=p(e,["config"]);return r!=null&&g(n,["config"],oq(r,n)),n}function rq(t){const e={},n=p(t,["mediaResolution"]);n!=null&&g(e,["mediaResolution"],n);const o=p(t,["codeExecutionResult"]);o!=null&&g(e,["codeExecutionResult"],o);const r=p(t,["executableCode"]);r!=null&&g(e,["executableCode"],r);const a=p(t,["fileData"]);a!=null&&g(e,["fileData"],Zz(a));const u=p(t,["functionCall"]);u!=null&&g(e,["functionCall"],eq(u));const c=p(t,["functionResponse"]);c!=null&&g(e,["functionResponse"],c);const h=p(t,["inlineData"]);h!=null&&g(e,["inlineData"],jz(h));const d=p(t,["text"]);d!=null&&g(e,["text"],d);const m=p(t,["thought"]);m!=null&&g(e,["thought"],m);const y=p(t,["thoughtSignature"]);y!=null&&g(e,["thoughtSignature"],y);const S=p(t,["videoMetadata"]);return S!=null&&g(e,["videoMetadata"],S),e}function sq(t){const e={},n=p(t,["handle"]);if(n!=null&&g(e,["handle"],n),p(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function aq(t){const e={},n=p(t,["functionDeclarations"]);if(n!=null){let m=n;Array.isArray(m)&&(m=m.map(y=>y)),g(e,["functionDeclarations"],m)}if(p(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=p(t,["googleSearchRetrieval"]);o!=null&&g(e,["googleSearchRetrieval"],o);const r=p(t,["computerUse"]);r!=null&&g(e,["computerUse"],r);const a=p(t,["fileSearch"]);a!=null&&g(e,["fileSearch"],a);const u=p(t,["codeExecution"]);if(u!=null&&g(e,["codeExecution"],u),p(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const c=p(t,["googleMaps"]);c!=null&&g(e,["googleMaps"],tq(c));const h=p(t,["googleSearch"]);h!=null&&g(e,["googleSearch"],nq(h));const d=p(t,["urlContext"]);return d!=null&&g(e,["urlContext"],d),e}function lq(t){const e=[];for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const o=t[n];if(typeof o=="object"&&o!=null&&Object.keys(o).length>0){const r=Object.keys(o).map(a=>`${n}.${a}`);e.push(...r)}else e.push(n)}return e.join(",")}function uq(t,e){let n=null;const o=t.bidiGenerateContentSetup;if(typeof o=="object"&&o!==null&&"setup"in o){const a=o.setup;typeof a=="object"&&a!==null?(t.bidiGenerateContentSetup=a,n=a):delete t.bidiGenerateContentSetup}else o!==void 0&&delete t.bidiGenerateContentSetup;const r=t.fieldMask;if(n){const a=lq(n);if(Array.isArray(e?.lockAdditionalFields)&&e?.lockAdditionalFields.length===0)a?t.fieldMask=a:delete t.fieldMask;else if(e?.lockAdditionalFields&&e.lockAdditionalFields.length>0&&r!==null&&Array.isArray(r)&&r.length>0){const u=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let c=[];r.length>0&&(c=r.map(d=>u.includes(d)?`generationConfig.${d}`:d));const h=[];a&&h.push(a),c.length>0&&h.push(...c),h.length>0?t.fieldMask=h.join(","):delete t.fieldMask}else delete t.fieldMask}else r!==null&&Array.isArray(r)&&r.length>0?t.fieldMask=r.join(","):delete t.fieldMask;return t}class cq extends Si{constructor(e){super(),this.apiClient=e}async create(e){var n,o;let r,a="",u={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const c=Qz(this.apiClient,e);a=fe("auth_tokens",c._url),u=c._query,delete c.config,delete c._url,delete c._query;const h=uq(c,e.config);return r=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),r.then(d=>d)}}}function fq(t,e){const n={},o=p(t,["force"]);return e!==void 0&&o!=null&&g(e,["_query","force"],o),n}function dq(t){const e={},n=p(t,["name"]);n!=null&&g(e,["_url","name"],n);const o=p(t,["config"]);return o!=null&&fq(o,e),e}function hq(t){const e={},n=p(t,["name"]);return n!=null&&g(e,["_url","name"],n),e}function pq(t,e){const n={},o=p(t,["pageSize"]);e!==void 0&&o!=null&&g(e,["_query","pageSize"],o);const r=p(t,["pageToken"]);return e!==void 0&&r!=null&&g(e,["_query","pageToken"],r),n}function mq(t){const e={},n=p(t,["parent"]);n!=null&&g(e,["_url","parent"],n);const o=p(t,["config"]);return o!=null&&pq(o,e),e}function gq(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const o=p(t,["nextPageToken"]);o!=null&&g(e,["nextPageToken"],o);const r=p(t,["documents"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(u=>u)),g(e,["documents"],a)}return e}class vq extends Si{constructor(e){super(),this.apiClient=e,this.list=async n=>new os(mi.PAGED_ITEM_DOCUMENTS,o=>this.listInternal({parent:n.parent,config:o.config}),await this.listInternal(n),n)}async get(e){var n,o;let r,a="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=hq(e);return a=fe("{name}",c._url),u=c._query,delete c._url,delete c._query,r=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),r.then(h=>h)}}async delete(e){var n,o;let r="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=dq(e);r=fe("{name}",u._url),a=u._query,delete u._url,delete u._query,await this.apiClient.request({path:r,queryParams:a,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}}async listInternal(e){var n,o;let r,a="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=mq(e);return a=fe("{parent}/documents",c._url),u=c._query,delete c._url,delete c._query,r=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),r.then(h=>{const d=gq(h),m=new XF;return Object.assign(m,d),m})}}}class yq extends Si{constructor(e,n=new vq(e)){super(),this.apiClient=e,this.documents=n,this.list=async(o={})=>new os(mi.PAGED_ITEM_FILE_SEARCH_STORES,r=>this.listInternal(r),await this.listInternal(o),o)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var n,o;let r,a="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=lz(e);return a=fe("fileSearchStores",c._url),u=c._query,delete c._url,delete c._query,r=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),r.then(h=>h)}}async get(e){var n,o;let r,a="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=fz(e);return a=fe("{name}",c._url),u=c._query,delete c._url,delete c._query,r=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),r.then(h=>h)}}async delete(e){var n,o;let r="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=cz(e);r=fe("{name}",u._url),a=u._query,delete u._url,delete u._query,await this.apiClient.request({path:r,queryParams:a,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}}async listInternal(e){var n,o;let r,a="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=vz(e);return a=fe("fileSearchStores",c._url),u=c._query,delete c._url,delete c._query,r=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),r.then(h=>{const d=yz(h),m=new WF;return Object.assign(m,d),m})}}async uploadToFileSearchStoreInternal(e){var n,o;let r,a="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=_z(e);return a=fe("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",c._url),u=c._query,delete c._url,delete c._query,r=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),r.then(h=>{const d=Sz(h),m=new QF;return Object.assign(m,d),m})}}async importFile(e){var n,o;let r,a="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=pz(e);return a=fe("{file_search_store_name}:importFile",c._url),u=c._query,delete c._url,delete c._query,r=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),r.then(h=>{const d=hz(h),m=new Ly;return Object.assign(m,d),m})}}}let MM=function(){const{crypto:t}=globalThis;if(t?.randomUUID)return MM=t.randomUUID.bind(t),t.randomUUID();const e=new Uint8Array(1),n=t?()=>t.getRandomValues(e)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,o=>(+o^n()&15>>+o/4).toString(16))};const _q=()=>MM();function wv(t){return typeof t=="object"&&t!==null&&("name"in t&&t.name==="AbortError"||"message"in t&&String(t.message).includes("FetchRequestCanceledException"))}const Cv=t=>{if(t instanceof Error)return t;if(typeof t=="object"&&t!==null){try{if(Object.prototype.toString.call(t)==="[object Error]"){const e=new Error(t.message,t.cause?{cause:t.cause}:{});return t.stack&&(e.stack=t.stack),t.cause&&!e.cause&&(e.cause=t.cause),t.name&&(e.name=t.name),e}}catch{}try{return new Error(JSON.stringify(t))}catch{}}return new Error(t)};class Kn extends Error{}let Yn=class Tv extends Kn{constructor(e,n,o,r){super(`${Tv.makeMessage(e,n,o)}`),this.status=e,this.headers=r,this.error=n}static makeMessage(e,n,o){const r=n?.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):o;return e&&r?`${e} ${r}`:e?`${e} status code (no body)`:r||"(no status code or body)"}static generate(e,n,o,r){if(!e||!r)return new fh({message:o,cause:Cv(n)});const a=n;return e===400?new IM(e,a,o,r):e===401?new DM(e,a,o,r):e===403?new OM(e,a,o,r):e===404?new PM(e,a,o,r):e===409?new kM(e,a,o,r):e===422?new LM(e,a,o,r):e===429?new UM(e,a,o,r):e>=500?new BM(e,a,o,r):new Tv(e,a,o,r)}},Av=class extends Yn{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}},fh=class extends Yn{constructor({message:e,cause:n}){super(void 0,void 0,e||"Connection error.",void 0),n&&(this.cause=n)}},NM=class extends fh{constructor({message:e}={}){super({message:e??"Request timed out."})}},IM=class extends Yn{},DM=class extends Yn{},OM=class extends Yn{},PM=class extends Yn{},kM=class extends Yn{},LM=class extends Yn{},UM=class extends Yn{},BM=class extends Yn{};const Sq=/^[a-z][a-z0-9+.-]*:/i,bq=t=>Sq.test(t);let xv=t=>(xv=Array.isArray,xv(t));const Eq=xv;let wq=Eq;const dT=wq;function Cq(t){if(!t)return!0;for(const e in t)return!1;return!0}function Tq(t,e){return Object.prototype.hasOwnProperty.call(t,e)}const Aq=(t,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new Kn(`${t} must be an integer`);if(e<0)throw new Kn(`${t} must be a positive integer`);return e},xq=t=>{try{return JSON.parse(t)}catch{return}};const Rq=t=>new Promise(e=>setTimeout(e,t));const ta="0.0.1";function Mq(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const Nq=()=>{var t,e,n,o,r;const a=Mq();if(a==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ta,"X-Stainless-OS":pT(Deno.build.os),"X-Stainless-Arch":hT(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(e=(t=Deno.version)===null||t===void 0?void 0:t.deno)!==null&&e!==void 0?e:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ta,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(a==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ta,"X-Stainless-OS":pT((n=globalThis.process.platform)!==null&&n!==void 0?n:"unknown"),"X-Stainless-Arch":hT((o=globalThis.process.arch)!==null&&o!==void 0?o:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(r=globalThis.process.version)!==null&&r!==void 0?r:"unknown"};const u=Iq();return u?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ta,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${u.browser}`,"X-Stainless-Runtime-Version":u.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ta,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function Iq(){if(typeof navigator>"u"||!navigator)return null;const t=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:n}of t){const o=n.exec(navigator.userAgent);if(o){const r=o[1]||0,a=o[2]||0,u=o[3]||0;return{browser:e,version:`${r}.${a}.${u}`}}}return null}const hT=t=>t==="x32"?"x32":t==="x86_64"||t==="x64"?"x64":t==="arm"?"arm":t==="aarch64"||t==="arm64"?"arm64":t?`other:${t}`:"unknown",pT=t=>(t=t.toLowerCase(),t.includes("ios")?"iOS":t==="android"?"Android":t==="darwin"?"MacOS":t==="win32"?"Windows":t==="freebsd"?"FreeBSD":t==="openbsd"?"OpenBSD":t==="linux"?"Linux":t?`Other:${t}`:"Unknown");let wf;const Dq=()=>wf??(wf=Nq());function Oq(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function FM(...t){const e=globalThis.ReadableStream;if(typeof e>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new e(...t)}function Pq(t){let e=Symbol.asyncIterator in t?t[Symbol.asyncIterator]():t[Symbol.iterator]();return FM({start(){},async pull(n){const{done:o,value:r}=await e.next();o?n.close():n.enqueue(r)},async cancel(){var n;await((n=e.return)===null||n===void 0?void 0:n.call(e))}})}function $M(t){if(t[Symbol.asyncIterator])return t;const e=t.getReader();return{async next(){try{const n=await e.read();return n?.done&&e.releaseLock(),n}catch(n){throw e.releaseLock(),n}},async return(){const n=e.cancel();return e.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function kq(t){var e,n;if(t===null||typeof t!="object")return;if(t[Symbol.asyncIterator]){await((n=(e=t[Symbol.asyncIterator]()).return)===null||n===void 0?void 0:n.call(e));return}const o=t.getReader(),r=o.cancel();o.releaseLock(),await r}const Lq=({headers:t,body:e})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(e)});const HM=()=>{var t;if(typeof File>"u"){const{process:e}=globalThis,n=typeof((t=e?.versions)===null||t===void 0?void 0:t.node)=="string"&&parseInt(e.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(n?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function _g(t,e,n){return HM(),new File(t,e??"unknown_file",n)}function Uq(t){return(typeof t=="object"&&t!==null&&("name"in t&&t.name&&String(t.name)||"url"in t&&t.url&&String(t.url)||"filename"in t&&t.filename&&String(t.filename)||"path"in t&&t.path&&String(t.path))||"").split(/[\\/]/).pop()||void 0}const Bq=t=>t!=null&&typeof t=="object"&&typeof t[Symbol.asyncIterator]=="function";const GM=t=>t!=null&&typeof t=="object"&&typeof t.size=="number"&&typeof t.type=="string"&&typeof t.text=="function"&&typeof t.slice=="function"&&typeof t.arrayBuffer=="function",Fq=t=>t!=null&&typeof t=="object"&&typeof t.name=="string"&&typeof t.lastModified=="number"&&GM(t),$q=t=>t!=null&&typeof t=="object"&&typeof t.url=="string"&&typeof t.blob=="function";async function Hq(t,e,n){if(HM(),t=await t,Fq(t))return t instanceof File?t:_g([await t.arrayBuffer()],t.name);if($q(t)){const r=await t.blob();return e||(e=new URL(t.url).pathname.split(/[\\/]/).pop()),_g(await Rv(r),e,n)}const o=await Rv(t);if(e||(e=Uq(t)),!n?.type){const r=o.find(a=>typeof a=="object"&&"type"in a&&a.type);typeof r=="string"&&(n=Object.assign(Object.assign({},n),{type:r}))}return _g(o,e,n)}async function Rv(t){var e,n,o,r,a;let u=[];if(typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer)u.push(t);else if(GM(t))u.push(t instanceof Blob?t:await t.arrayBuffer());else if(Bq(t))try{for(var c=!0,h=so(t),d;d=await h.next(),e=d.done,!e;c=!0){r=d.value,c=!1;const m=r;u.push(...await Rv(m))}}catch(m){n={error:m}}finally{try{!c&&!e&&(o=h.return)&&await o.call(h)}finally{if(n)throw n.error}}else{const m=(a=t?.constructor)===null||a===void 0?void 0:a.name;throw new Error(`Unexpected data type: ${typeof t}${m?`; constructor: ${m}`:""}${Gq(t)}`)}return u}function Gq(t){return typeof t!="object"||t===null?"":`; props: [${Object.getOwnPropertyNames(t).map(n=>`"${n}"`).join(", ")}]`}let VM=class{constructor(e){this._client=e}};VM._key=[];function zM(t){return t.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const mT=Object.freeze(Object.create(null)),Vq=(t=zM)=>(function(n,...o){if(n.length===1)return n[0];let r=!1;const a=[],u=n.reduce((m,y,S)=>{var b,T,A;/[?#]/.test(y)&&(r=!0);const x=o[S];let M=(r?encodeURIComponent:t)(""+x);return S!==o.length&&(x==null||typeof x=="object"&&x.toString===((A=Object.getPrototypeOf((T=Object.getPrototypeOf((b=x.hasOwnProperty)!==null&&b!==void 0?b:mT))!==null&&T!==void 0?T:mT))===null||A===void 0?void 0:A.toString))&&(M=x+"",a.push({start:m.length+y.length,length:M.length,error:`Value of type ${Object.prototype.toString.call(x).slice(8,-1)} is not a valid path parameter`})),m+y+(S===o.length?"":M)},""),c=u.split(/[?#]/,1)[0],h=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let d;for(;(d=h.exec(c))!==null;)a.push({start:d.index,length:d[0].length,error:`Value "${d[0]}" can't be safely passed as a path parameter`});if(a.sort((m,y)=>m.start-y.start),a.length>0){let m=0;const y=a.reduce((S,b)=>{const T=" ".repeat(b.start-m),A="^".repeat(b.length);return m=b.start+b.length,S+T+A},"");throw new Kn(`Path parameters result in path with invalid segments:
${a.map(S=>S.error).join(`
`)}
${u}
${y}`)}return u}),Cf=Vq(zM);class qM extends VM{create(e,n){var o;const{api_version:r=this._client.apiVersion}=e,a=Ad(e,["api_version"]);if("model"in a&&"agent_config"in a)throw new Kn("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in a&&"generation_config"in a)throw new Kn("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(Cf`/${r}/interactions`,Object.assign(Object.assign({body:a},n),{stream:(o=e.stream)!==null&&o!==void 0?o:!1}))}delete(e,n={},o){const{api_version:r=this._client.apiVersion}=n??{};return this._client.delete(Cf`/${r}/interactions/${e}`,o)}cancel(e,n={},o){const{api_version:r=this._client.apiVersion}=n??{};return this._client.post(Cf`/${r}/interactions/${e}/cancel`,o)}get(e,n={},o){var r;const a=n??{},{api_version:u=this._client.apiVersion}=a,c=Ad(a,["api_version"]);return this._client.get(Cf`/${u}/interactions/${e}`,Object.assign(Object.assign({query:c},o),{stream:(r=n?.stream)!==null&&r!==void 0?r:!1}))}}qM._key=Object.freeze(["interactions"]);class JM extends qM{}function zq(t){let e=0;for(const r of t)e+=r.length;const n=new Uint8Array(e);let o=0;for(const r of t)n.set(r,o),o+=r.length;return n}let Tf;function Vy(t){let e;return(Tf??(e=new globalThis.TextEncoder,Tf=e.encode.bind(e)))(t)}let Af;function gT(t){let e;return(Af??(e=new globalThis.TextDecoder,Af=e.decode.bind(e)))(t)}let dh=class{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(e){if(e==null)return[];const n=e instanceof ArrayBuffer?new Uint8Array(e):typeof e=="string"?Vy(e):e;this.buffer=zq([this.buffer,n]);const o=[];let r;for(;(r=qq(this.buffer,this.carriageReturnIndex))!=null;){if(r.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=r.index;continue}if(this.carriageReturnIndex!=null&&(r.index!==this.carriageReturnIndex+1||r.carriage)){o.push(gT(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const a=this.carriageReturnIndex!==null?r.preceding-1:r.preceding,u=gT(this.buffer.subarray(0,a));o.push(u),this.buffer=this.buffer.subarray(r.index),this.carriageReturnIndex=null}return o}flush(){return this.buffer.length?this.decode(`
`):[]}};dh.NEWLINE_CHARS=new Set([`
`,"\r"]);dh.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function qq(t,e){for(let r=e??0;r<t.length;r++){if(t[r]===10)return{preceding:r,index:r+1,carriage:!1};if(t[r]===13)return{preceding:r,index:r+1,carriage:!0}}return null}function Jq(t){for(let o=0;o<t.length-1;o++){if(t[o]===10&&t[o+1]===10||t[o]===13&&t[o+1]===13)return o+2;if(t[o]===13&&t[o+1]===10&&o+3<t.length&&t[o+2]===13&&t[o+3]===10)return o+4}return-1}const xd={off:0,error:200,warn:300,info:400,debug:500},vT=(t,e,n)=>{if(t){if(Tq(xd,t))return t;Ht(n).warn(`${e} was set to ${JSON.stringify(t)}, expected one of ${JSON.stringify(Object.keys(xd))}`)}};function Bl(){}function xf(t,e,n){return!e||xd[t]>xd[n]?Bl:e[t].bind(e)}const Kq={error:Bl,warn:Bl,info:Bl,debug:Bl};let yT=new WeakMap;function Ht(t){var e;const n=t.logger,o=(e=t.logLevel)!==null&&e!==void 0?e:"off";if(!n)return Kq;const r=yT.get(n);if(r&&r[0]===o)return r[1];const a={error:xf("error",n,o),warn:xf("warn",n,o),info:xf("info",n,o),debug:xf("debug",n,o)};return yT.set(n,[o,a]),a}const kr=t=>(t.options&&(t.options=Object.assign({},t.options),delete t.options.headers),t.headers&&(t.headers=Object.fromEntries((t.headers instanceof Headers?[...t.headers]:Object.entries(t.headers)).map(([e,n])=>[e,e.toLowerCase()==="x-goog-api-key"||e.toLowerCase()==="authorization"||e.toLowerCase()==="cookie"||e.toLowerCase()==="set-cookie"?"***":n]))),"retryOfRequestLogID"in t&&(t.retryOfRequestLogID&&(t.retryOf=t.retryOfRequestLogID),delete t.retryOfRequestLogID),t);let Yq=class Fl{constructor(e,n,o){this.iterator=e,this.controller=n,this.client=o}static fromSSEResponse(e,n,o){let r=!1;const a=o?Ht(o):console;function u(){return ro(this,arguments,function*(){var h,d,m,y;if(r)throw new Kn("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let S=!1;try{try{for(var b=!0,T=so(jq(e,n)),A;A=yield Ae(T.next()),h=A.done,!h;b=!0){y=A.value,b=!1;const x=y;if(!S)if(x.data.startsWith("[DONE]")){S=!0;continue}else try{yield yield Ae(JSON.parse(x.data))}catch(M){throw a.error("Could not parse message into JSON:",x.data),a.error("From chunk:",x.raw),M}}}catch(x){d={error:x}}finally{try{!b&&!h&&(m=T.return)&&(yield Ae(m.call(T)))}finally{if(d)throw d.error}}S=!0}catch(x){if(wv(x))return yield Ae(void 0);throw x}finally{S||n.abort()}})}return new Fl(u,n,o)}static fromReadableStream(e,n,o){let r=!1;function a(){return ro(this,arguments,function*(){var h,d,m,y;const S=new dh,b=$M(e);try{for(var T=!0,A=so(b),x;x=yield Ae(A.next()),h=x.done,!h;T=!0){y=x.value,T=!1;const M=y;for(const I of S.decode(M))yield yield Ae(I)}}catch(M){d={error:M}}finally{try{!T&&!h&&(m=A.return)&&(yield Ae(m.call(A)))}finally{if(d)throw d.error}}for(const M of S.flush())yield yield Ae(M)})}function u(){return ro(this,arguments,function*(){var h,d,m,y;if(r)throw new Kn("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let S=!1;try{try{for(var b=!0,T=so(a()),A;A=yield Ae(T.next()),h=A.done,!h;b=!0){y=A.value,b=!1;const x=y;S||x&&(yield yield Ae(JSON.parse(x)))}}catch(x){d={error:x}}finally{try{!b&&!h&&(m=T.return)&&(yield Ae(m.call(T)))}finally{if(d)throw d.error}}S=!0}catch(x){if(wv(x))return yield Ae(void 0);throw x}finally{S||n.abort()}})}return new Fl(u,n,o)}[Symbol.asyncIterator](){return this.iterator()}tee(){const e=[],n=[],o=this.iterator(),r=a=>({next:()=>{if(a.length===0){const u=o.next();e.push(u),n.push(u)}return a.shift()}});return[new Fl(()=>r(e),this.controller,this.client),new Fl(()=>r(n),this.controller,this.client)]}toReadableStream(){const e=this;let n;return FM({async start(){n=e[Symbol.asyncIterator]()},async pull(o){try{const{value:r,done:a}=await n.next();if(a)return o.close();const u=Vy(JSON.stringify(r)+`
`);o.enqueue(u)}catch(r){o.error(r)}},async cancel(){var o;await((o=n.return)===null||o===void 0?void 0:o.call(n))}})}};function jq(t,e){return ro(this,arguments,function*(){var o,r,a,u;if(!t.body)throw e.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new Kn("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new Kn("Attempted to iterate over a response with no body");const c=new Wq,h=new dh,d=$M(t.body);try{for(var m=!0,y=so(Xq(d)),S;S=yield Ae(y.next()),o=S.done,!o;m=!0){u=S.value,m=!1;const b=u;for(const T of h.decode(b)){const A=c.decode(T);A&&(yield yield Ae(A))}}}catch(b){r={error:b}}finally{try{!m&&!o&&(a=y.return)&&(yield Ae(a.call(y)))}finally{if(r)throw r.error}}for(const b of h.flush()){const T=c.decode(b);T&&(yield yield Ae(T))}})}function Xq(t){return ro(this,arguments,function*(){var n,o,r,a;let u=new Uint8Array;try{for(var c=!0,h=so(t),d;d=yield Ae(h.next()),n=d.done,!n;c=!0){a=d.value,c=!1;const m=a;if(m==null)continue;const y=m instanceof ArrayBuffer?new Uint8Array(m):typeof m=="string"?Vy(m):m;let S=new Uint8Array(u.length+y.length);S.set(u),S.set(y,u.length),u=S;let b;for(;(b=Jq(u))!==-1;)yield yield Ae(u.slice(0,b)),u=u.slice(b)}}catch(m){o={error:m}}finally{try{!c&&!n&&(r=h.return)&&(yield Ae(r.call(h)))}finally{if(o)throw o.error}}u.length>0&&(yield yield Ae(u))})}let Wq=class{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const a={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],a}if(this.chunks.push(e),e.startsWith(":"))return null;let[n,o,r]=Qq(e,":");return r.startsWith(" ")&&(r=r.substring(1)),n==="event"?this.event=r:n==="data"&&this.data.push(r),null}};function Qq(t,e){const n=t.indexOf(e);return n!==-1?[t.substring(0,n),e,t.substring(n+e.length)]:[t,"",""]}async function Zq(t,e){const{response:n,requestLogID:o,retryOfRequestLogID:r,startTime:a}=e,u=await(async()=>{var c;if(e.options.stream)return Ht(t).debug("response",n.status,n.url,n.headers,n.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(n,e.controller,t):Yq.fromSSEResponse(n,e.controller,t);if(n.status===204)return null;if(e.options.__binaryResponse)return n;const h=n.headers.get("content-type"),d=(c=h?.split(";")[0])===null||c===void 0?void 0:c.trim();return d?.includes("application/json")||d?.endsWith("+json")?await n.json():await n.text()})();return Ht(t).debug(`[${o}] response parsed`,kr({retryOfRequestLogID:r,url:n.url,status:n.status,body:u,durationMs:Date.now()-a})),u}let e3=class KM extends Promise{constructor(e,n,o=Zq){super(r=>{r(null)}),this.responsePromise=n,this.parseResponse=o,this.client=e}_thenUnwrap(e){return new KM(this.client,this.responsePromise,async(n,o)=>e(await this.parseResponse(n,o),o))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:n}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(e=>this.parseResponse(this.client,e))),this.parsedPromise}then(e,n){return this.parse().then(e,n)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}};const YM=Symbol("brand.privateNullableHeaders");function*t3(t){if(!t)return;if(YM in t){const{values:o,nulls:r}=t;yield*o.entries();for(const a of r)yield[a,null];return}let e=!1,n;t instanceof Headers?n=t.entries():dT(t)?n=t:(e=!0,n=Object.entries(t??{}));for(let o of n){const r=o[0];if(typeof r!="string")throw new TypeError("expected header name to be a string");const a=dT(o[1])?o[1]:[o[1]];let u=!1;for(const c of a)c!==void 0&&(e&&!u&&(u=!0,yield[r,null]),yield[r,c])}}const Sg=t=>{const e=new Headers,n=new Set;for(const o of t){const r=new Set;for(const[a,u]of t3(o)){const c=a.toLowerCase();r.has(c)||(e.delete(a),r.add(c)),u===null?(e.delete(a),n.add(c)):(e.append(a,u),n.delete(c))}}return{[YM]:!0,values:e,nulls:n}};const bg=t=>{var e,n,o,r,a,u;if(typeof globalThis.process<"u")return(o=(n=(e=TF)===null||e===void 0?void 0:e[t])===null||n===void 0?void 0:n.trim())!==null&&o!==void 0?o:void 0;if(typeof globalThis.Deno<"u")return(u=(a=(r=globalThis.Deno.env)===null||r===void 0?void 0:r.get)===null||a===void 0?void 0:a.call(r,t))===null||u===void 0?void 0:u.trim()};var jM;class hh{constructor(e){var n,o,r,a,u,c,h,d=e===void 0?{}:e,{baseURL:m=bg("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:y=(n=bg("GEMINI_API_KEY"))!==null&&n!==void 0?n:null,apiVersion:S="v1beta"}=d,b=Ad(d,["baseURL","apiKey","apiVersion"]);const T=Object.assign(Object.assign({apiKey:y,apiVersion:S},b),{baseURL:m||"https://generativelanguage.googleapis.com"});this.baseURL=T.baseURL,this.timeout=(o=T.timeout)!==null&&o!==void 0?o:hh.DEFAULT_TIMEOUT,this.logger=(r=T.logger)!==null&&r!==void 0?r:console;const A="warn";this.logLevel=A,this.logLevel=(u=(a=vT(T.logLevel,"ClientOptions.logLevel",this))!==null&&a!==void 0?a:vT(bg("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&u!==void 0?u:A,this.fetchOptions=T.fetchOptions,this.maxRetries=(c=T.maxRetries)!==null&&c!==void 0?c:2,this.fetch=(h=T.fetch)!==null&&h!==void 0?h:Oq(),this.encoder=Lq,this._options=T,this.apiKey=y,this.apiVersion=S}withOptions(e){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),e))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:e,nulls:n}){if(!(this.apiKey&&e.get("x-goog-api-key"))&&!n.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(e){if(this.apiKey!=null)return Sg([{"x-goog-api-key":this.apiKey}])}stringifyQuery(e){return Object.entries(e).filter(([n,o])=>typeof o<"u").map(([n,o])=>{if(typeof o=="string"||typeof o=="number"||typeof o=="boolean")return`${encodeURIComponent(n)}=${encodeURIComponent(o)}`;if(o===null)return`${encodeURIComponent(n)}=`;throw new Kn(`Cannot stringify type ${typeof o}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${ta}`}defaultIdempotencyKey(){return`stainless-node-retry-${_q()}`}makeStatusError(e,n,o,r){return Yn.generate(e,n,o,r)}buildURL(e,n,o){const r=!this.baseURLOverridden()&&o||this.baseURL,a=bq(e)?new URL(e):new URL(r+(r.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),u=this.defaultQuery();return Cq(u)||(n=Object.assign(Object.assign({},u),n)),typeof n=="object"&&n&&!Array.isArray(n)&&(a.search=this.stringifyQuery(n)),a.toString()}async prepareOptions(e){}async prepareRequest(e,{url:n,options:o}){}get(e,n){return this.methodRequest("get",e,n)}post(e,n){return this.methodRequest("post",e,n)}patch(e,n){return this.methodRequest("patch",e,n)}put(e,n){return this.methodRequest("put",e,n)}delete(e,n){return this.methodRequest("delete",e,n)}methodRequest(e,n,o){return this.request(Promise.resolve(o).then(r=>Object.assign({method:e,path:n},r)))}request(e,n=null){return new e3(this,this.makeRequest(e,n,void 0))}async makeRequest(e,n,o){var r,a,u;const c=await e,h=(r=c.maxRetries)!==null&&r!==void 0?r:this.maxRetries;n==null&&(n=h),await this.prepareOptions(c);const{req:d,url:m,timeout:y}=await this.buildRequest(c,{retryCount:h-n});await this.prepareRequest(d,{url:m,options:c});const S="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),b=o===void 0?"":`, retryOf: ${o}`,T=Date.now();if(Ht(this).debug(`[${S}] sending request`,kr({retryOfRequestLogID:o,method:c.method,url:m,options:c,headers:d.headers})),!((a=c.signal)===null||a===void 0)&&a.aborted)throw new Av;const A=new AbortController,x=await this.fetchWithTimeout(m,d,y,A).catch(Cv),M=Date.now();if(x instanceof globalThis.Error){const N=`retrying, ${n} attempts remaining`;if(!((u=c.signal)===null||u===void 0)&&u.aborted)throw new Av;const D=wv(x)||/timed? ?out/i.test(String(x)+("cause"in x?String(x.cause):""));if(n)return Ht(this).info(`[${S}] connection ${D?"timed out":"failed"} - ${N}`),Ht(this).debug(`[${S}] connection ${D?"timed out":"failed"} (${N})`,kr({retryOfRequestLogID:o,url:m,durationMs:M-T,message:x.message})),this.retryRequest(c,n,o??S);throw Ht(this).info(`[${S}] connection ${D?"timed out":"failed"} - error; no more retries left`),Ht(this).debug(`[${S}] connection ${D?"timed out":"failed"} (error; no more retries left)`,kr({retryOfRequestLogID:o,url:m,durationMs:M-T,message:x.message})),D?new NM:new fh({cause:x})}const I=`[${S}${b}] ${d.method} ${m} ${x.ok?"succeeded":"failed"} with status ${x.status} in ${M-T}ms`;if(!x.ok){const N=await this.shouldRetry(x);if(n&&N){const J=`retrying, ${n} attempts remaining`;return await kq(x.body),Ht(this).info(`${I} - ${J}`),Ht(this).debug(`[${S}] response error (${J})`,kr({retryOfRequestLogID:o,url:x.url,status:x.status,headers:x.headers,durationMs:M-T})),this.retryRequest(c,n,o??S,x.headers)}const D=N?"error; no more retries left":"error; not retryable";Ht(this).info(`${I} - ${D}`);const L=await x.text().catch(J=>Cv(J).message),U=xq(L),O=U?void 0:L;throw Ht(this).debug(`[${S}] response error (${D})`,kr({retryOfRequestLogID:o,url:x.url,status:x.status,headers:x.headers,message:O,durationMs:Date.now()-T})),this.makeStatusError(x.status,U,O,x.headers)}return Ht(this).info(I),Ht(this).debug(`[${S}] response start`,kr({retryOfRequestLogID:o,url:x.url,status:x.status,headers:x.headers,durationMs:M-T})),{response:x,options:c,controller:A,requestLogID:S,retryOfRequestLogID:o,startTime:T}}async fetchWithTimeout(e,n,o,r){const a=n||{},{signal:u,method:c}=a,h=Ad(a,["signal","method"]);u&&u.addEventListener("abort",()=>r.abort());const d=setTimeout(()=>r.abort(),o),m=globalThis.ReadableStream&&h.body instanceof globalThis.ReadableStream||typeof h.body=="object"&&h.body!==null&&Symbol.asyncIterator in h.body,y=Object.assign(Object.assign(Object.assign({signal:r.signal},m?{duplex:"half"}:{}),{method:"GET"}),h);c&&(y.method=c.toUpperCase());try{return await this.fetch.call(void 0,e,y)}finally{clearTimeout(d)}}async shouldRetry(e){const n=e.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,n,o,r){var a;let u;const c=r?.get("retry-after-ms");if(c){const d=parseFloat(c);Number.isNaN(d)||(u=d)}const h=r?.get("retry-after");if(h&&!u){const d=parseFloat(h);Number.isNaN(d)?u=Date.parse(h)-Date.now():u=d*1e3}if(!(u&&0<=u&&u<60*1e3)){const d=(a=e.maxRetries)!==null&&a!==void 0?a:this.maxRetries;u=this.calculateDefaultRetryTimeoutMillis(n,d)}return await Rq(u),this.makeRequest(e,n-1,o)}calculateDefaultRetryTimeoutMillis(e,n){const a=n-e,u=Math.min(.5*Math.pow(2,a),8),c=1-Math.random()*.25;return u*c*1e3}async buildRequest(e,{retryCount:n=0}={}){var o,r,a;const u=Object.assign({},e),{method:c,path:h,query:d,defaultBaseURL:m}=u,y=this.buildURL(h,d,m);"timeout"in u&&Aq("timeout",u.timeout),u.timeout=(o=u.timeout)!==null&&o!==void 0?o:this.timeout;const{bodyHeaders:S,body:b}=this.buildBody({options:u}),T=await this.buildHeaders({options:e,method:c,bodyHeaders:S,retryCount:n});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:c,headers:T},u.signal&&{signal:u.signal}),globalThis.ReadableStream&&b instanceof globalThis.ReadableStream&&{duplex:"half"}),b&&{body:b}),(r=this.fetchOptions)!==null&&r!==void 0?r:{}),(a=u.fetchOptions)!==null&&a!==void 0?a:{}),url:y,timeout:u.timeout}}async buildHeaders({options:e,method:n,bodyHeaders:o,retryCount:r}){let a={};this.idempotencyHeader&&n!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),a[this.idempotencyHeader]=e.idempotencyKey);const u=Sg([a,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(r)},e.timeout?{"X-Stainless-Timeout":String(Math.trunc(e.timeout/1e3))}:{}),Dq()),await this.authHeaders(e),this._options.defaultHeaders,o,e.headers]);return this.validateHeaders(u),u.values}buildBody({options:{body:e,headers:n}}){if(!e)return{bodyHeaders:void 0,body:void 0};const o=Sg([n]);return ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof DataView||typeof e=="string"&&o.values.has("content-type")||globalThis.Blob&&e instanceof globalThis.Blob||e instanceof FormData||e instanceof URLSearchParams||globalThis.ReadableStream&&e instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:e}:typeof e=="object"&&(Symbol.asyncIterator in e||Symbol.iterator in e&&"next"in e&&typeof e.next=="function")?{bodyHeaders:void 0,body:Pq(e)}:this.encoder({body:e,headers:o})}}hh.DEFAULT_TIMEOUT=6e4;class Tt extends hh{constructor(){super(...arguments),this.interactions=new JM(this)}}jM=Tt;Tt.GeminiNextGenAPIClient=jM;Tt.GeminiNextGenAPIClientError=Kn;Tt.APIError=Yn;Tt.APIConnectionError=fh;Tt.APIConnectionTimeoutError=NM;Tt.APIUserAbortError=Av;Tt.NotFoundError=PM;Tt.ConflictError=kM;Tt.RateLimitError=UM;Tt.BadRequestError=IM;Tt.AuthenticationError=DM;Tt.InternalServerError=BM;Tt.PermissionDeniedError=OM;Tt.UnprocessableEntityError=LM;Tt.toFile=Hq;Tt.Interactions=JM;function n3(t,e){const n={},o=p(t,["name"]);return o!=null&&g(n,["_url","name"],o),n}function o3(t,e){const n={},o=p(t,["name"]);return o!=null&&g(n,["_url","name"],o),n}function i3(t,e){const n={},o=p(t,["sdkHttpResponse"]);return o!=null&&g(n,["sdkHttpResponse"],o),n}function r3(t,e){const n={},o=p(t,["sdkHttpResponse"]);return o!=null&&g(n,["sdkHttpResponse"],o),n}function s3(t,e,n){const o={};if(p(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const r=p(t,["tunedModelDisplayName"]);if(e!==void 0&&r!=null&&g(e,["displayName"],r),p(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const a=p(t,["epochCount"]);e!==void 0&&a!=null&&g(e,["tuningTask","hyperparameters","epochCount"],a);const u=p(t,["learningRateMultiplier"]);if(u!=null&&g(o,["tuningTask","hyperparameters","learningRateMultiplier"],u),p(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(p(t,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(p(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const c=p(t,["batchSize"]);e!==void 0&&c!=null&&g(e,["tuningTask","hyperparameters","batchSize"],c);const h=p(t,["learningRate"]);if(e!==void 0&&h!=null&&g(e,["tuningTask","hyperparameters","learningRate"],h),p(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(p(t,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return o}function a3(t,e,n){const o={};let r=p(n,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){const b=p(t,["validationDataset"]);e!==void 0&&b!=null&&g(e,["supervisedTuningSpec"],_T(b))}else if(r==="PREFERENCE_TUNING"){const b=p(t,["validationDataset"]);e!==void 0&&b!=null&&g(e,["preferenceOptimizationSpec"],_T(b))}const a=p(t,["tunedModelDisplayName"]);e!==void 0&&a!=null&&g(e,["tunedModelDisplayName"],a);const u=p(t,["description"]);e!==void 0&&u!=null&&g(e,["description"],u);let c=p(n,["config","method"]);if(c===void 0&&(c="SUPERVISED_FINE_TUNING"),c==="SUPERVISED_FINE_TUNING"){const b=p(t,["epochCount"]);e!==void 0&&b!=null&&g(e,["supervisedTuningSpec","hyperParameters","epochCount"],b)}else if(c==="PREFERENCE_TUNING"){const b=p(t,["epochCount"]);e!==void 0&&b!=null&&g(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],b)}let h=p(n,["config","method"]);if(h===void 0&&(h="SUPERVISED_FINE_TUNING"),h==="SUPERVISED_FINE_TUNING"){const b=p(t,["learningRateMultiplier"]);e!==void 0&&b!=null&&g(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],b)}else if(h==="PREFERENCE_TUNING"){const b=p(t,["learningRateMultiplier"]);e!==void 0&&b!=null&&g(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],b)}let d=p(n,["config","method"]);if(d===void 0&&(d="SUPERVISED_FINE_TUNING"),d==="SUPERVISED_FINE_TUNING"){const b=p(t,["exportLastCheckpointOnly"]);e!==void 0&&b!=null&&g(e,["supervisedTuningSpec","exportLastCheckpointOnly"],b)}else if(d==="PREFERENCE_TUNING"){const b=p(t,["exportLastCheckpointOnly"]);e!==void 0&&b!=null&&g(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],b)}let m=p(n,["config","method"]);if(m===void 0&&(m="SUPERVISED_FINE_TUNING"),m==="SUPERVISED_FINE_TUNING"){const b=p(t,["adapterSize"]);e!==void 0&&b!=null&&g(e,["supervisedTuningSpec","hyperParameters","adapterSize"],b)}else if(m==="PREFERENCE_TUNING"){const b=p(t,["adapterSize"]);e!==void 0&&b!=null&&g(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],b)}if(p(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(p(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const y=p(t,["labels"]);e!==void 0&&y!=null&&g(e,["labels"],y);const S=p(t,["beta"]);return e!==void 0&&S!=null&&g(e,["preferenceOptimizationSpec","hyperParameters","beta"],S),o}function l3(t,e){const n={},o=p(t,["baseModel"]);o!=null&&g(n,["baseModel"],o);const r=p(t,["preTunedModel"]);r!=null&&g(n,["preTunedModel"],r);const a=p(t,["trainingDataset"]);a!=null&&_3(a);const u=p(t,["config"]);return u!=null&&s3(u,n),n}function u3(t,e){const n={},o=p(t,["baseModel"]);o!=null&&g(n,["baseModel"],o);const r=p(t,["preTunedModel"]);r!=null&&g(n,["preTunedModel"],r);const a=p(t,["trainingDataset"]);a!=null&&S3(a,n,e);const u=p(t,["config"]);return u!=null&&a3(u,n,e),n}function c3(t,e){const n={},o=p(t,["name"]);return o!=null&&g(n,["_url","name"],o),n}function f3(t,e){const n={},o=p(t,["name"]);return o!=null&&g(n,["_url","name"],o),n}function d3(t,e,n){const o={},r=p(t,["pageSize"]);e!==void 0&&r!=null&&g(e,["_query","pageSize"],r);const a=p(t,["pageToken"]);e!==void 0&&a!=null&&g(e,["_query","pageToken"],a);const u=p(t,["filter"]);return e!==void 0&&u!=null&&g(e,["_query","filter"],u),o}function h3(t,e,n){const o={},r=p(t,["pageSize"]);e!==void 0&&r!=null&&g(e,["_query","pageSize"],r);const a=p(t,["pageToken"]);e!==void 0&&a!=null&&g(e,["_query","pageToken"],a);const u=p(t,["filter"]);return e!==void 0&&u!=null&&g(e,["_query","filter"],u),o}function p3(t,e){const n={},o=p(t,["config"]);return o!=null&&d3(o,n),n}function m3(t,e){const n={},o=p(t,["config"]);return o!=null&&h3(o,n),n}function g3(t,e){const n={},o=p(t,["sdkHttpResponse"]);o!=null&&g(n,["sdkHttpResponse"],o);const r=p(t,["nextPageToken"]);r!=null&&g(n,["nextPageToken"],r);const a=p(t,["tunedModels"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(c=>XM(c))),g(n,["tuningJobs"],u)}return n}function v3(t,e){const n={},o=p(t,["sdkHttpResponse"]);o!=null&&g(n,["sdkHttpResponse"],o);const r=p(t,["nextPageToken"]);r!=null&&g(n,["nextPageToken"],r);const a=p(t,["tuningJobs"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(c=>Mv(c))),g(n,["tuningJobs"],u)}return n}function y3(t,e){const n={},o=p(t,["name"]);o!=null&&g(n,["model"],o);const r=p(t,["name"]);return r!=null&&g(n,["endpoint"],r),n}function _3(t,e){const n={};if(p(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(p(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const o=p(t,["examples"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(a=>a)),g(n,["examples","examples"],r)}return n}function S3(t,e,n){const o={};let r=p(n,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){const u=p(t,["gcsUri"]);e!==void 0&&u!=null&&g(e,["supervisedTuningSpec","trainingDatasetUri"],u)}else if(r==="PREFERENCE_TUNING"){const u=p(t,["gcsUri"]);e!==void 0&&u!=null&&g(e,["preferenceOptimizationSpec","trainingDatasetUri"],u)}let a=p(n,["config","method"]);if(a===void 0&&(a="SUPERVISED_FINE_TUNING"),a==="SUPERVISED_FINE_TUNING"){const u=p(t,["vertexDatasetResource"]);e!==void 0&&u!=null&&g(e,["supervisedTuningSpec","trainingDatasetUri"],u)}else if(a==="PREFERENCE_TUNING"){const u=p(t,["vertexDatasetResource"]);e!==void 0&&u!=null&&g(e,["preferenceOptimizationSpec","trainingDatasetUri"],u)}if(p(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return o}function XM(t,e){const n={},o=p(t,["sdkHttpResponse"]);o!=null&&g(n,["sdkHttpResponse"],o);const r=p(t,["name"]);r!=null&&g(n,["name"],r);const a=p(t,["state"]);a!=null&&g(n,["state"],uM(a));const u=p(t,["createTime"]);u!=null&&g(n,["createTime"],u);const c=p(t,["tuningTask","startTime"]);c!=null&&g(n,["startTime"],c);const h=p(t,["tuningTask","completeTime"]);h!=null&&g(n,["endTime"],h);const d=p(t,["updateTime"]);d!=null&&g(n,["updateTime"],d);const m=p(t,["description"]);m!=null&&g(n,["description"],m);const y=p(t,["baseModel"]);y!=null&&g(n,["baseModel"],y);const S=p(t,["_self"]);return S!=null&&g(n,["tunedModel"],y3(S)),n}function Mv(t,e){const n={},o=p(t,["sdkHttpResponse"]);o!=null&&g(n,["sdkHttpResponse"],o);const r=p(t,["name"]);r!=null&&g(n,["name"],r);const a=p(t,["state"]);a!=null&&g(n,["state"],uM(a));const u=p(t,["createTime"]);u!=null&&g(n,["createTime"],u);const c=p(t,["startTime"]);c!=null&&g(n,["startTime"],c);const h=p(t,["endTime"]);h!=null&&g(n,["endTime"],h);const d=p(t,["updateTime"]);d!=null&&g(n,["updateTime"],d);const m=p(t,["error"]);m!=null&&g(n,["error"],m);const y=p(t,["description"]);y!=null&&g(n,["description"],y);const S=p(t,["baseModel"]);S!=null&&g(n,["baseModel"],S);const b=p(t,["tunedModel"]);b!=null&&g(n,["tunedModel"],b);const T=p(t,["preTunedModel"]);T!=null&&g(n,["preTunedModel"],T);const A=p(t,["supervisedTuningSpec"]);A!=null&&g(n,["supervisedTuningSpec"],A);const x=p(t,["preferenceOptimizationSpec"]);x!=null&&g(n,["preferenceOptimizationSpec"],x);const M=p(t,["tuningDataStats"]);M!=null&&g(n,["tuningDataStats"],M);const I=p(t,["encryptionSpec"]);I!=null&&g(n,["encryptionSpec"],I);const N=p(t,["partnerModelTuningSpec"]);N!=null&&g(n,["partnerModelTuningSpec"],N);const D=p(t,["customBaseModel"]);D!=null&&g(n,["customBaseModel"],D);const L=p(t,["experiment"]);L!=null&&g(n,["experiment"],L);const U=p(t,["labels"]);U!=null&&g(n,["labels"],U);const O=p(t,["outputUri"]);O!=null&&g(n,["outputUri"],O);const q=p(t,["pipelineJob"]);q!=null&&g(n,["pipelineJob"],q);const J=p(t,["serviceAccount"]);J!=null&&g(n,["serviceAccount"],J);const j=p(t,["tunedModelDisplayName"]);j!=null&&g(n,["tunedModelDisplayName"],j);const W=p(t,["veoTuningSpec"]);return W!=null&&g(n,["veoTuningSpec"],W),n}function b3(t,e){const n={},o=p(t,["sdkHttpResponse"]);o!=null&&g(n,["sdkHttpResponse"],o);const r=p(t,["name"]);r!=null&&g(n,["name"],r);const a=p(t,["metadata"]);a!=null&&g(n,["metadata"],a);const u=p(t,["done"]);u!=null&&g(n,["done"],u);const c=p(t,["error"]);return c!=null&&g(n,["error"],c),n}function _T(t,e){const n={},o=p(t,["gcsUri"]);o!=null&&g(n,["validationDatasetUri"],o);const r=p(t,["vertexDatasetResource"]);return r!=null&&g(n,["validationDatasetUri"],r),n}class E3 extends Si{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new os(mi.PAGED_ITEM_TUNING_JOBS,o=>this.listInternal(o),await this.listInternal(n),n),this.get=async n=>await this.getInternal(n),this.tune=async n=>{var o;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const r={tunedModelName:n.baseModel};!((o=n.config)===null||o===void 0)&&o.preTunedModelCheckpointId&&(r.checkpointId=n.config.preTunedModelCheckpointId);const a=Object.assign(Object.assign({},n),{preTunedModel:r});return a.baseModel=void 0,await this.tuneInternal(a)}else{const r=Object.assign({},n);return await this.tuneInternal(r)}else{const r=Object.assign({},n),a=await this.tuneMldevInternal(r);let u="";return a.metadata!==void 0&&a.metadata.tunedModel!==void 0?u=a.metadata.tunedModel:a.name!==void 0&&a.name.includes("/operations/")&&(u=a.name.split("/operations/")[0]),{name:u,state:gv.JOB_STATE_QUEUED}}}}async getInternal(e){var n,o,r,a;let u,c="",h={};if(this.apiClient.isVertexAI()){const d=f3(e);return c=fe("{name}",d._url),h=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json().then(y=>{const S=y;return S.sdkHttpResponse={headers:m.headers},S})),u.then(m=>Mv(m))}else{const d=c3(e);return c=fe("{name}",d._url),h=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json().then(y=>{const S=y;return S.sdkHttpResponse={headers:m.headers},S})),u.then(m=>XM(m))}}async listInternal(e){var n,o,r,a;let u,c="",h={};if(this.apiClient.isVertexAI()){const d=m3(e);return c=fe("tuningJobs",d._url),h=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json().then(y=>{const S=y;return S.sdkHttpResponse={headers:m.headers},S})),u.then(m=>{const y=v3(m),S=new qC;return Object.assign(S,y),S})}else{const d=p3(e);return c=fe("tunedModels",d._url),h=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json().then(y=>{const S=y;return S.sdkHttpResponse={headers:m.headers},S})),u.then(m=>{const y=g3(m),S=new qC;return Object.assign(S,y),S})}}async cancel(e){var n,o,r,a;let u,c="",h={};if(this.apiClient.isVertexAI()){const d=o3(e);return c=fe("{name}:cancel",d._url),h=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json().then(y=>{const S=y;return S.sdkHttpResponse={headers:m.headers},S})),u.then(m=>{const y=r3(m),S=new JC;return Object.assign(S,y),S})}else{const d=n3(e);return c=fe("{name}:cancel",d._url),h=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json().then(y=>{const S=y;return S.sdkHttpResponse={headers:m.headers},S})),u.then(m=>{const y=i3(m),S=new JC;return Object.assign(S,y),S})}}async tuneInternal(e){var n,o;let r,a="",u={};if(this.apiClient.isVertexAI()){const c=u3(e,e);return a=fe("tuningJobs",c._url),u=c._query,delete c._url,delete c._query,r=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(d=>{const m=d;return m.sdkHttpResponse={headers:h.headers},m})),r.then(h=>Mv(h))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,o;let r,a="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=l3(e);return a=fe("tunedModels",c._url),u=c._query,delete c._url,delete c._query,r=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(d=>{const m=d;return m.sdkHttpResponse={headers:h.headers},m})),r.then(h=>b3(h))}}}class w3{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const C3=1024*1024*8,T3=3,A3=1e3,x3=2,Rd="x-goog-upload-status";async function R3(t,e,n){var o;const r=await WM(t,e,n),a=await r?.json();if(((o=r?.headers)===null||o===void 0?void 0:o[Rd])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return a.file}async function M3(t,e,n){var o;const r=await WM(t,e,n),a=await r?.json();if(((o=r?.headers)===null||o===void 0?void 0:o[Rd])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const u=oM(a),c=new Uy;return Object.assign(c,u),c}async function WM(t,e,n){var o,r;let a=0,u=0,c=new vv(new Response),h="upload";for(a=t.size;u<a;){const d=Math.min(C3,a-u),m=t.slice(u,u+d);u+d>=a&&(h+=", finalize");let y=0,S=A3;for(;y<T3&&(c=await n.request({path:"",body:m,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":h,"X-Goog-Upload-Offset":String(u),"Content-Length":String(d)}}}),!(!((o=c?.headers)===null||o===void 0)&&o[Rd]));)y++,await I3(S),S=S*x3;if(u+=d,((r=c?.headers)===null||r===void 0?void 0:r[Rd])!=="active")break;if(a<=u)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return c}async function N3(t){return{size:t.size,type:t.type}}function I3(t){return new Promise(e=>setTimeout(e,t))}class D3{async upload(e,n,o){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await R3(e,n,o)}async uploadToFileSearchStore(e,n,o){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await M3(e,n,o)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await N3(e)}}class O3{create(e,n,o){return new P3(e,n,o)}}class P3{constructor(e,n,o){this.url=e,this.headers=n,this.callbacks=o}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}const ST="x-goog-api-key";class k3{constructor(e){this.apiKey=e}async addAuthHeaders(e,n){if(e.get(ST)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(ST,this.apiKey)}}}const L3="gl-node/";class U3{get interactions(){if(this._interactions!==void 0)return this._interactions;if(console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions."),this.vertexai)throw new Error("This version of the GenAI SDK does not support Vertex AI API for interactions.");const e=this.httpOptions;e?.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const n=new Tt({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:e?.timeout});return this._interactions=n.interactions,this._interactions}constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;const o=MF(e.httpOptions,e.vertexai,void 0,void 0);o&&(e.httpOptions?e.httpOptions.baseUrl=o:e.httpOptions={baseUrl:o}),this.apiVersion=e.apiVersion,this.httpOptions=e.httpOptions;const r=new k3(this.apiKey);this.apiClient=new Rz({auth:r,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:L3+"web",uploader:new D3,downloader:new w3}),this.models=new Kz(this.apiClient),this.live=new Hz(this.apiClient,r,new O3),this.batches=new iH(this.apiClient),this.chats=new FH(this.models,this.apiClient),this.caches=new LH(this.apiClient),this.files=new jH(this.apiClient),this.operations=new Yz(this.apiClient),this.authTokens=new cq(this.apiClient),this.tunings=new E3(this.apiClient),this.fileSearchStores=new yq(this.apiClient)}}let Eg=class extends Error{};const QM=["gemini-2.5-flash-image","gemini-3-pro-image-preview"];class fi{static options={img_models:{flash_image:"gemini-2.5-flash-image",pro_image:"gemini-3-pro-image-preview"}};static getApiKey=null;static setApiKey=null;static getGenAI(){const e=this.getApiKey?.()||"";if(console.log(e),!e)throw new Eg("No Google API key set");return new U3({apiKey:e})}static async txt2txt(e){try{const n=this.getGenAI(),o={},r=await n.models.generateContent({model:"gemini-2.5-flash",contents:e,config:o});return console.log("RES TEXT",r.text),r.text}catch(n){console.error("Goo Err Response",n);const o=n?.message||"";if(o.includes("API key not valid")||o.includes("API_KEY_INVALID")||n instanceof Eg)return this.showKeyPromptWindow(),null;throw n}}static async img2img(e,n=QM[0],o){try{const r=this.getGenAI(),a=[{text:e}];if(o?.length)for(const m of o)!m?.rawBase64||!m?.mime||(m.description&&a.push({text:m.description}),a.push({inlineData:{data:m.rawBase64,mimeType:m.mime}}));const u={model:n,contents:a,config:{imageConfig:{aspectRatio:"9:16",response_modalities:["Image"]}}};console.log("Gemini Payload",u);const c=await r.models.generateContent(u);console.log("GEMINI RES",c);const d=(c?.candidates??[])[0]?.content?.parts??[];for(const m of d)if(m.inlineData){const y=m.inlineData.data,S=m.inlineData.mimeType||"image/png";return{base64Obj:{rawBase64:y,mime:S},id:c.responseId}}return null}catch(r){const a=r?.message||"";if(a.includes("API key not valid")||a.includes("API_KEY_INVALID")||r instanceof Eg)return this.showKeyPromptWindow(),null;throw console.error("img2img error",r),r}}static showKeyPromptWindow(){const e=window.prompt("Your Google API key is missing or invalid. Please enter a valid key:");e?this.setApiKey?.(e):console.warn("User did not provide a valid API key.")}static async saveResultImage(e,n){return e&&e.base64Obj?.rawBase64?(console.log(e.base64Obj.mime.split("/")[1]),await Hn.fromBase64({rawBase64:e.base64Obj.rawBase64,mime:e.base64Obj.mime},n,`${e.id}.${e.base64Obj.mime.split("/")[1]}`)):(console.warn("No valid image returned from GoogleAI.img2img"),null)}}async function B3(t,e){const n=Math.floor(Date.now()/1e3),o={alg:"HS256",typ:"JWT"},r={iss:t,exp:n+1800,nbf:n-5},a=wg(JSON.stringify(o)),u=wg(JSON.stringify(r)),c=`${a}.${u}`,h=await crypto.subtle.importKey("raw",new TextEncoder().encode(e),{name:"HMAC",hash:"SHA-256"},!1,["sign"]),d=await crypto.subtle.sign("HMAC",h,new TextEncoder().encode(c));return`${c}.${wg(d)}`}function wg(t){let e;typeof t=="string"?e=new TextEncoder().encode(t):e=new Uint8Array(t);let n="";for(let o=0;o<e.length;o++)n+=String.fromCharCode(e[o]);return btoa(n).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}class ut{static getKeysDict=null;static videoModels=["kling-v1","kling-v1-5","kling-v1-6","kling-v2-master","kling-v2-1","kling-v2-1-master","kling-v2-5-turbo","kling-v2-6"];static options={img2video:{duration:{five:"5",ten:"10"},mode:{std:"std",pro:"pro"},model:{v1:"kling-v1",v1_5:"kling-v1-5",v1_6:"kling-v1-6",v2_0m:"kling-v2-master",v2_1:"kling-v2-1",v2_1m:"kling-v2-1-master",v2_5:"kling-v2-5-turbo",v2_6:"kling-v2-6"}},motion_control:{mode:{std:"std",pro:"pro"},character_orientation:{image:"image",video:"video"},keep_original_sound:{yes:"yes",no:"no"}}};static async getToken(){const e=this.getKeysDict?.();if(!e)throw new Error("No Kling API keys provided or getKeysDict not set");return await B3(e.accessKey,e.secretKey)}static async postToKling(e,n){const r=`http://localhost:4000/proxy/${encodeURIComponent(e)}`,a=await this.getToken();console.log(`Kling API request to ${e}:`,n);const u=await fetch(r,{method:"POST",headers:{Authorization:`Bearer ${a}`,"Content-Type":"application/json"},body:JSON.stringify(n)});if(!u.ok){const h=await u.text();throw new Error(`Kling API request failed: ${h}`)}const c=await u.json();return console.log(`Kling API response from ${e}:`,c),c}static async txt2video(e,n="kling-v1"){const o={model_name:n,mode:"std",duration:"5",prompt:e,cfg_scale:.5};return{id:(await this.postToKling("https://api-singapore.klingai.com/v1/videos/text2video",o)).data.task_id,workflow:"text2video"}}static async img2video(e){const{image:n,prompt:o,model:r=ut.options.img2video.model.v2_6,duration:a=ut.options.img2video.duration,mode:u=ut.options.img2video.mode.std,cfg_scale:c=.5,static_mask:h,dynamic_masks:d,image_tail:m,camera_control:y,voice_list:S,sound:b="off",negative_prompt:T,callback_url:A,external_task_id:x}=e,M={model_name:r,image:n,prompt:o,duration:a,mode:u,cfg_scale:c,sound:b};return h&&(M.static_mask=h),d&&(M.dynamic_masks=d),m&&(M.image_tail=m),y&&(M.camera_control=y),S&&(M.voice_list=S),T&&(M.negative_prompt=T),A&&(M.callback_url=A),x&&(M.external_task_id=x),{id:(await this.postToKling("https://api-singapore.klingai.com/v1/videos/image2video",M)).data.task_id,workflow:"image2video"}}static async motionControl(e){const{image:n,video_url:o,prompt:r,mode:a=ut.options.motion_control.mode.std,character_orientation:u,keep_original_sound:c=ut.options.motion_control.keep_original_sound.yes,callback_url:h,external_task_id:d}=e,m={image_url:n,video_url:o,character_orientation:u,mode:a,keep_original_sound:c};return r&&(m.prompt=r),h&&(m.callback_url=h),d&&(m.external_task_id=d),{id:(await this.postToKling("https://api-singapore.klingai.com/v1/videos/motion-control",m)).data.task_id,workflow:"motion-control"}}static async getStatus(e,n="text2video"){const o=`https://api-singapore.klingai.com/v1/videos/${n}/${e}`,a=`http://localhost:4000/proxy/${encodeURIComponent(o)}`,u=await this.getToken();console.log("KLING_AI Get Status sent");const c=await fetch(a,{method:"GET",headers:{Authorization:`Bearer ${u}`,"Content-Type":"application/json"}});if(!c.ok){const d=await c.text();throw new Error(`Task status request failed: ${d}`)}if((c.headers.get("content-type")||"").includes("application/json")){const d=await c.json();return console.log("KLING check status:",d),{status:d?.data?.task_status||"unknown",status_msg:d?.data?.task_status_msg||"",url:d?.data?.task_result?.videos?.[0]?.url||null}}}}const Nv={KLING:"kling",GPT:"gpt",GOOGLE:"google"};async function F3(t){try{console.log("[tmpfiles] Uploading:",t.name);const e=new FormData;e.append("file",t);const n=await fetch("https://tmpfiles.org/api/v1/upload",{method:"POST",body:e});if(!n.ok)throw new Error(`HTTP ${n.status}`);const o=await n.json();console.log("[tmpfiles] Response:",o);const r=o?.data?.url;if(!r)throw new Error("No URL returned");return r.replace("tmpfiles.org/","tmpfiles.org/dl/")}catch(e){throw console.error("[tmpfiles] Upload failed:",e),e}}async function $3(t,e){try{if(e&&((r,a)=>{const u=r.name.toLowerCase(),c=decodeURIComponent(a.split("/").pop()||"").toLowerCase();return u===c})(t,e))return console.log("[ensureUploaded] Existing URL is valid:",e),e;console.log("[ensureUploaded] Uploading file because URL is missing or invalid:",t.name);const o=await F3(t);return console.log("[ensureUploaded] Uploaded URL:",o),o}catch(n){throw console.error("[ensureUploaded] Error ensuring file upload:",n),n}}class gi{handle;parent;urlObject=null;web_url="";path="";constructor(e,n,o=""){this.handle=e,this.parent=n,this.path=o+"/"+e.name}async getUrlObject(){if(!this.urlObject)try{const e=await this.handle.getFile();this.urlObject=URL.createObjectURL(e)}catch(e){console.error("Failed to create object URL for video:",e),this.urlObject=""}return this.urlObject}revokeUrl(){this.urlObject&&(URL.revokeObjectURL(this.urlObject),this.urlObject=null)}static async fromUrl(e,n){try{const o=await fetch(e);if(!o.ok)throw new Error(`Failed to fetch video: ${o.statusText}`);const r=await o.blob(),a=e.split("/"),u=a[a.length-1].split("?")[0],c=await n.getFileHandle(u,{create:!0}),h=await c.createWritable();return await h.write(r),await h.close(),new gi(c,n)}catch(o){throw console.error("Failed to create LocalVideo from URL:",o),o}}async delete(){try{this.revokeUrl(),await this.parent.removeEntry(this.handle.name)}catch(e){throw console.error("Failed to delete video file:",e),e}}static async fromBase64(e,n,o){try{const r=atob(e),a=r.length,u=new Uint8Array(a);for(let d=0;d<a;d++)u[d]=r.charCodeAt(d);const c=await n.getFileHandle(o,{create:!0}),h=await c.createWritable();return await h.write(u),await h.close(),new gi(c,n)}catch(r){throw console.error("Failed to create LocalVideo from Base64:",r),r}}async getWebUrl(){return console.log("web_url",this.web_url),this.web_url=await $3(await this.handle.getFile(),this.web_url),this.web_url}}class bT{shot;id;is_checking_status=!1;_status_log="";constructor(e,n){this.shot=e,this.id=n,Po(this)}update(e){const o={...this.data||{},...e};this.shot.shotJson?.updateField(`tasks/${this.id}`,o)}log(){console.log({task:or(this),data:or(this.data)})}delete(){this.shot.removeTask(this)}get data(){return this.shot.shotJson?.getField(`tasks/${this.id}`)}finish_checking(){Te(()=>{this.is_checking_status=!1}),this._status_log=""}async check_status(e=30,n=5e3){if(this.data.provider===Nv.KLING){Te(()=>{this.is_checking_status=!0,this._status_log="start checking"}),console.log("started checking status");for(let o=0;o<=e;o++){try{console.log("new attempt");const r=await ut.getStatus(this.id,this.data.workflow);if(console.log("status",r),this.update(r),r?.status==="succeed"&&r.url){await this.downloadResults(),this.finish_checking();return}if(r?.status==="failed"){console.warn(`Task ${this.id} failed.`),this.finish_checking();return}}catch(r){console.error("Status check failed:",r)}o<e&&(Te(()=>{this._status_log=`(attempt ${o+1}/${e})`}),await new Promise(r=>setTimeout(r,n)))}console.warn(`Task ${this.id} did not finish after ${e} retries.`),this.finish_checking()}}async downloadResults(){const e=this.data?.url,n=this.shot.genVideoFolder;if(!e)return console.warn("No URL found to download."),null;if(!n)return console.warn("No results folder available to save file."),null;try{const o=await gi.fromUrl(e,n);return console.log(`Downloaded result video: ${o.handle.name}`),Te(()=>{this.shot.videos.push(o)}),o}catch(o){return console.error("Failed to download Kling task result:",o),null}}}class Cg{parentFolder;folderName;folder=null;media=[];path="";pickedMedia=null;selectedMedia=null;onPicked;onSelected;constructor(e,n,o=""){this.parentFolder=e,this.folderName=n,this.path=o?`${o}/${n}`:n,Po(this)}async load(e=!0){try{this.folder=await this.parentFolder.getDirectoryHandle(this.folderName,{create:e});for await(const[,n]of this.folder.entries())n.kind==="file"&&this.loadFile(n)}catch(n){console.error(`Failed to load MediaFolder '${this.folderName}':`,n),Te(()=>{this.folder=null,this.media=[]})}}async deleteMedia(e,n=!0){if(!this.folder)throw new Error("Folder not loaded");if(!(n&&!window.confirm(`Delete this ${e instanceof Hn?"image":"video"}?`)))try{await e.delete(),Te(()=>{this.media=this.media.filter(o=>o!==e)})}catch(o){console.error("Failed to delete media:",o),alert(`Failed to delete ${e instanceof Hn?"image":"video"}.`)}}setSelectedMedia(e){this.selectedMedia!==e&&(Te(()=>{this.selectedMedia=e}),this.onSelected?.(e))}setPickedMedia(e){this.pickedMedia!==e&&(Te(()=>{this.pickedMedia=e}),this.onPicked?.(e))}log(){console.log(or(this))}pickByFilename(e){if(!e)return;const n=this.media.find(o=>o.path.endsWith(e));n?this.setPickedMedia(n):console.warn(`Media with filename '${e}' not found.`)}async downloadFromUrl(e){if(!this.folder)throw new Error("MediaFolder not loaded");try{const n=await fetch(e);if(!n.ok)throw new Error(`Failed to fetch: ${n.statusText}`);const o=await n.blob();let a=new URL(e).pathname.split("/").pop()||"download";if(!a.includes(".")){const d=o.type.split("/")[1];d&&(a+=`.${d}`)}const u=await this.folder.getFileHandle(a,{create:!0}),c=await u.createWritable();return await c.write(o),await c.close(),this.loadFile(u)}catch(n){throw console.error("Failed to download media from URL:",n),n}}loadFile(e){const n=e.name;let o=null;return n.match(/\.(png|jpe?g|gif|webp)$/i)?o=new Hn(e,this.folder,this.path):n.match(/\.(mp4|mov|webm|avi)$/i)&&(o=new gi(e,this.folder,this.path)),o?(Te(()=>{this.media.push(o)}),o):null}async saveFiles(e){if(!this.folder)throw new Error("MediaFolder not loaded");for(const n of e)try{const o=await this.folder.getFileHandle(n.name,{create:!0}),r=await o.createWritable();await r.write(n),await r.close(),this.loadFile(o)}catch(o){console.error(`Failed to save file '${n.name}':`,o)}}async copyFromClipboard(){if(!this.folder)throw new Error("MediaFolder not loaded");if(!navigator.clipboard||!navigator.clipboard.read){console.warn("Clipboard API not supported");return}const e=[];try{const n=await navigator.clipboard.read();console.log(n);for(const o of n)for(const r of o.types){if(!r.startsWith("image/")&&!r.startsWith("video/"))continue;const a=await o.getType(r),u=a.name||`clipboard-${Date.now()}.${r.split("/")[1]}`;e.push(a instanceof File?a:new File([a],u,{type:r}))}if(e.length===0){console.info("Clipboard does not contain files");return}await this.saveFiles(e)}catch(n){console.error("Failed to read from clipboard:",n);return}}}class ET{folder;scene;shotJson=null;is_generating=!1;selected_art=null;tasks=[];is_submitting_video=!1;kling_motion_video=null;path="";images=[];videos=[];ref_videos=[];resultsFolder=null;genVideoFolder=null;refVideoFolder=null;srcImage=null;MediaFolder_results=null;MediaFolder_genVideo=null;MediaFolder_refVideo=null;constructor(e,n){this.folder=e,this.scene=n,this.path=n.path+"/"+e.name,Po(this)}async load(){try{this.shotJson=await Xr.create(this.folder,"shotinfo.json"),this.images=[],this.srcImage=null,this.MediaFolder_results=new Cg(this.folder,"results",this.path),await this.MediaFolder_results.load(),this.MediaFolder_results.pickByFilename(this.shotJson.data.srcImage),this.MediaFolder_results.onPicked=e=>{this.setSrcImage(e)},this.MediaFolder_genVideo=new Cg(this.folder,"genVideo",this.path),await this.MediaFolder_genVideo.load(),this.MediaFolder_refVideo=new Cg(this.folder,"refVideo",this.path),await this.MediaFolder_refVideo.load(),this.MediaFolder_refVideo.pickByFilename(this.shotJson.data.kling_motion_video);try{this.resultsFolder=await this.folder.getDirectoryHandle("results",{create:!0});for await(const[e,n]of this.resultsFolder.entries())if(n.kind==="file"){const o=new Hn(n,this.resultsFolder,this.path+"/results");this.images.push(o),this.shotJson.data?.srcImage&&e===this.shotJson.data.srcImage&&(this.srcImage=o)}}catch(e){console.warn("No results folder found or failed to read:",e),this.resultsFolder=null}try{this.genVideoFolder=await this.folder.getDirectoryHandle("genVideo",{create:!0});for await(const[,e]of this.genVideoFolder.entries())if(e.kind==="file"){const n=new gi(e,this.genVideoFolder,this.path+"/genVideo");this.videos.push(n)}}catch(e){console.warn("No genVideo folder found or failed to read:",e),this.genVideoFolder=null}try{this.refVideoFolder=await this.folder.getDirectoryHandle("refVideo",{create:!0});for await(const[e,n]of this.refVideoFolder.entries())if(n.kind==="file"){const o=new gi(n,this.refVideoFolder);this.ref_videos.push(o),this.shotJson.data?.kling_motion_video&&e===this.shotJson.data.kling_motion_video&&(this.kling_motion_video=o)}}catch(e){console.warn("No genVideo folder found or failed to read:",e),this.genVideoFolder=null}this.loadTasks()}catch(e){console.error("Error loading shot:",this.folder.name,e),this.shotJson=null,this.images=[],this.srcImage=null,this.resultsFolder=null}}loadTasks(){const e=this.shotJson?.getField("tasks");Te(()=>{if(this.tasks=[],!(!e||typeof e!="object"))for(const n of Object.keys(e))this.tasks.push(new bT(this,n))})}addTask(e,n){const o=new bT(this,e);return Te(()=>{this.tasks.push(o)}),o.update(n),o}removeTask(e){Te(()=>{this.tasks=this.tasks.filter(o=>o!==e)});const n=this.shotJson?.getField("tasks")??{};delete n[e.id],this.shotJson?.updateField("tasks",n)}setSrcImage(e){this.srcImage=e,this.shotJson?.data&&(this.shotJson.data.srcImage=e?.handle.name,this.shotJson.save())}async delete(){if(!this.scene?.folder){console.error("Cannot delete shot: scene folder not set");return}try{await this.scene.folder.removeEntry(this.folder.name,{recursive:!0}),Te(()=>{this.scene.shots=this.scene.shots.filter(e=>e!==this)})}catch(e){console.error("Failed to delete shot:",e)}}addImage(e){this.images.push(e),this.srcImage||this.setSrcImage(e)}removeImage(e){this.images=this.images.filter(n=>n!==e),this.srcImage===e&&this.setSrcImage(null)}removeVideo(e){this.videos=this.videos.filter(n=>n!==e)}removeReferenceVideo(e){this.ref_videos=this.ref_videos.filter(n=>n!==e)}setKlingMotionReferenceVideo(e){this.kling_motion_video=e,this.shotJson?.updateField("kling_motion_video",e.handle.name)}async GenerateVideo(){Te(()=>{this.is_submitting_video=!0});let e=this.shotJson?.data.video_prompt||"";try{const n=this.scene.project.workflows.generate_video_kling;if(this.srcImage){const o=(await this.srcImage.getBase64()).rawBase64,r=await ut.img2video({image:o,prompt:e,model:n.model,mode:n.mode,duration:n.duration}),a=this.addTask(r.id,{provider:Nv.KLING,workflow:r.workflow});await new Promise(u=>setTimeout(u,100)),console.log("created_task"),a.check_status()}}catch(n){console.error("Submitting Video Generation Failed:",n)}finally{Te(()=>{this.is_submitting_video=!1})}}async GenerateVideo_KlingMotionControl(){Te(()=>{this.is_submitting_video=!0});let e=this.shotJson?.data.video_prompt||"";try{const n=this.scene.project.workflows.kling_motion_control;if(this.srcImage&&this.kling_motion_video){const o=(await this.srcImage.getBase64()).rawBase64,r=await this.kling_motion_video.getWebUrl(),a=await ut.motionControl({image:o,video_url:r,prompt:e,mode:n.mode,character_orientation:n.character_orientation,keep_original_sound:n.keep_original_sound}),u=this.addTask(a.id,{provider:Nv.KLING,workflow:a.workflow});await new Promise(c=>setTimeout(c,100)),u.check_status(),await new Promise(c=>setTimeout(c,2e3))}}catch(n){console.error("Submitting Video Generation Failed:",n)}finally{Te(()=>{this.is_submitting_video=!1})}}async GenerateImage(){Te(()=>{this.is_generating=!0});const e=this.getSkippedTags(),n=[];for(const r of this.scene.getTags())if(!e.includes(r.path))try{const a=await r.image.getBase64();n.push({rawBase64:a.rawBase64,mime:a.mime,description:r.path})}catch(a){console.warn("Failed to load tag image:",r.path,a)}let o=this.shotJson?.data.prompt||"";try{const r=await fi.img2img(o||"",this.scene.project.workflows.generate_shot_image.model,n),a=await fi.saveResultImage(r,this.resultsFolder);a&&this.addImage(a)}catch(r){console.error("GenerateImage failed:",r)}finally{Te(()=>{this.is_generating=!1})}}selectArt(e=null){Te(()=>{this.selected_art=e})}async saveGoogleResultImage(e,n=!1){const o=await fi.saveResultImage(e,this.resultsFolder);o&&(this.addImage(o),n&&this.selectArt(o))}getSkippedTags(){return this.shotJson?.data?.skippedTags||[]}setTagSkipped(e,n){this.shotJson?.data&&(Array.isArray(this.shotJson.data.skippedTags)||(this.shotJson.data.skippedTags=[]),Te(()=>{const o=this.shotJson.data.skippedTags;n?o.includes(e)||o.push(e):this.shotJson.data.skippedTags=o.filter(r=>r!==e)}),this.shotJson.save())}log(){console.log(or(this))}}function Ce(t,e,n,o,r){if(typeof e=="function"?t!==e||!0:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,n),n}function V(t,e,n,o){if(n==="a"&&!o)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!o:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?o:n==="a"?o.call(t):o?o.value:e.get(t)}let ZM=function(){const{crypto:t}=globalThis;if(t?.randomUUID)return ZM=t.randomUUID.bind(t),t.randomUUID();const e=new Uint8Array(1),n=t?()=>t.getRandomValues(e)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,o=>(+o^n()&15>>+o/4).toString(16))};function Iv(t){return typeof t=="object"&&t!==null&&("name"in t&&t.name==="AbortError"||"message"in t&&String(t.message).includes("FetchRequestCanceledException"))}const Dv=t=>{if(t instanceof Error)return t;if(typeof t=="object"&&t!==null){try{if(Object.prototype.toString.call(t)==="[object Error]"){const e=new Error(t.message,t.cause?{cause:t.cause}:{});return t.stack&&(e.stack=t.stack),t.cause&&!e.cause&&(e.cause=t.cause),t.name&&(e.name=t.name),e}}catch{}try{return new Error(JSON.stringify(t))}catch{}}return new Error(t)};class Se extends Error{}class Pt extends Se{constructor(e,n,o,r){super(`${Pt.makeMessage(e,n,o)}`),this.status=e,this.headers=r,this.requestID=r?.get("x-request-id"),this.error=n;const a=n;this.code=a?.code,this.param=a?.param,this.type=a?.type}static makeMessage(e,n,o){const r=n?.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):o;return e&&r?`${e} ${r}`:e?`${e} status code (no body)`:r||"(no status code or body)"}static generate(e,n,o,r){if(!e||!r)return new ph({message:o,cause:Dv(n)});const a=n?.error;return e===400?new eN(e,a,o,r):e===401?new tN(e,a,o,r):e===403?new nN(e,a,o,r):e===404?new oN(e,a,o,r):e===409?new iN(e,a,o,r):e===422?new rN(e,a,o,r):e===429?new sN(e,a,o,r):e>=500?new aN(e,a,o,r):new Pt(e,a,o,r)}}class $n extends Pt{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}}class ph extends Pt{constructor({message:e,cause:n}){super(void 0,void 0,e||"Connection error.",void 0),n&&(this.cause=n)}}class zy extends ph{constructor({message:e}={}){super({message:e??"Request timed out."})}}class eN extends Pt{}class tN extends Pt{}class nN extends Pt{}class oN extends Pt{}class iN extends Pt{}class rN extends Pt{}class sN extends Pt{}class aN extends Pt{}class lN extends Se{constructor(){super("Could not parse response content as the length limit was reached")}}class uN extends Se{constructor(){super("Could not parse response content as the request was rejected by the content filter")}}class $l extends Error{constructor(e){super(e)}}const H3=/^[a-z][a-z0-9+.-]*:/i,G3=t=>H3.test(t);let Zt=t=>(Zt=Array.isArray,Zt(t)),wT=Zt;function cN(t){return typeof t!="object"?{}:t??{}}function V3(t){if(!t)return!0;for(const e in t)return!1;return!0}function z3(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Tg(t){return t!=null&&typeof t=="object"&&!Array.isArray(t)}const q3=(t,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new Se(`${t} must be an integer`);if(e<0)throw new Se(`${t} must be a positive integer`);return e},J3=t=>{try{return JSON.parse(t)}catch{return}},Lu=t=>new Promise(e=>setTimeout(e,t)),na="6.10.0",K3=()=>typeof window<"u"&&typeof window.document<"u"&&typeof navigator<"u";function Y3(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const j3=()=>{const t=Y3();if(t==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":na,"X-Stainless-OS":TT(Deno.build.os),"X-Stainless-Arch":CT(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:Deno.version?.deno??"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":na,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(t==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":na,"X-Stainless-OS":TT(globalThis.process.platform??"unknown"),"X-Stainless-Arch":CT(globalThis.process.arch??"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":globalThis.process.version??"unknown"};const e=X3();return e?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":na,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${e.browser}`,"X-Stainless-Runtime-Version":e.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":na,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function X3(){if(typeof navigator>"u"||!navigator)return null;const t=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:n}of t){const o=n.exec(navigator.userAgent);if(o){const r=o[1]||0,a=o[2]||0,u=o[3]||0;return{browser:e,version:`${r}.${a}.${u}`}}}return null}const CT=t=>t==="x32"?"x32":t==="x86_64"||t==="x64"?"x64":t==="arm"?"arm":t==="aarch64"||t==="arm64"?"arm64":t?`other:${t}`:"unknown",TT=t=>(t=t.toLowerCase(),t.includes("ios")?"iOS":t==="android"?"Android":t==="darwin"?"MacOS":t==="win32"?"Windows":t==="freebsd"?"FreeBSD":t==="openbsd"?"OpenBSD":t==="linux"?"Linux":t?`Other:${t}`:"Unknown");let AT;const W3=()=>AT??(AT=j3());function Q3(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new OpenAI({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function fN(...t){const e=globalThis.ReadableStream;if(typeof e>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new e(...t)}function dN(t){let e=Symbol.asyncIterator in t?t[Symbol.asyncIterator]():t[Symbol.iterator]();return fN({start(){},async pull(n){const{done:o,value:r}=await e.next();o?n.close():n.enqueue(r)},async cancel(){await e.return?.()}})}function hN(t){if(t[Symbol.asyncIterator])return t;const e=t.getReader();return{async next(){try{const n=await e.read();return n?.done&&e.releaseLock(),n}catch(n){throw e.releaseLock(),n}},async return(){const n=e.cancel();return e.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function Z3(t){if(t===null||typeof t!="object")return;if(t[Symbol.asyncIterator]){await t[Symbol.asyncIterator]().return?.();return}const e=t.getReader(),n=e.cancel();e.releaseLock(),await n}const e4=({headers:t,body:e})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(e)}),pN="RFC3986",mN=t=>String(t),xT={RFC1738:t=>String(t).replace(/%20/g,"+"),RFC3986:mN},t4="RFC1738";let Ov=(t,e)=>(Ov=Object.hasOwn??Function.prototype.call.bind(Object.prototype.hasOwnProperty),Ov(t,e));const _o=(()=>{const t=[];for(let e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t})(),Ag=1024,n4=(t,e,n,o,r)=>{if(t.length===0)return t;let a=t;if(typeof t=="symbol"?a=Symbol.prototype.toString.call(t):typeof t!="string"&&(a=String(t)),n==="iso-8859-1")return escape(a).replace(/%u[0-9a-f]{4}/gi,function(c){return"%26%23"+parseInt(c.slice(2),16)+"%3B"});let u="";for(let c=0;c<a.length;c+=Ag){const h=a.length>=Ag?a.slice(c,c+Ag):a,d=[];for(let m=0;m<h.length;++m){let y=h.charCodeAt(m);if(y===45||y===46||y===95||y===126||y>=48&&y<=57||y>=65&&y<=90||y>=97&&y<=122||r===t4&&(y===40||y===41)){d[d.length]=h.charAt(m);continue}if(y<128){d[d.length]=_o[y];continue}if(y<2048){d[d.length]=_o[192|y>>6]+_o[128|y&63];continue}if(y<55296||y>=57344){d[d.length]=_o[224|y>>12]+_o[128|y>>6&63]+_o[128|y&63];continue}m+=1,y=65536+((y&1023)<<10|h.charCodeAt(m)&1023),d[d.length]=_o[240|y>>18]+_o[128|y>>12&63]+_o[128|y>>6&63]+_o[128|y&63]}u+=d.join("")}return u};function o4(t){return!t||typeof t!="object"?!1:!!(t.constructor&&t.constructor.isBuffer&&t.constructor.isBuffer(t))}function RT(t,e){if(Zt(t)){const n=[];for(let o=0;o<t.length;o+=1)n.push(e(t[o]));return n}return e(t)}const gN={brackets(t){return String(t)+"[]"},comma:"comma",indices(t,e){return String(t)+"["+e+"]"},repeat(t){return String(t)}},vN=function(t,e){Array.prototype.push.apply(t,Zt(e)?e:[e])};let MT;const _t={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:n4,encodeValuesOnly:!1,format:pN,formatter:mN,indices:!1,serializeDate(t){return(MT??(MT=Function.prototype.call.bind(Date.prototype.toISOString)))(t)},skipNulls:!1,strictNullHandling:!1};function i4(t){return typeof t=="string"||typeof t=="number"||typeof t=="boolean"||typeof t=="symbol"||typeof t=="bigint"}const xg={};function yN(t,e,n,o,r,a,u,c,h,d,m,y,S,b,T,A,x,M){let I=t,N=M,D=0,L=!1;for(;(N=N.get(xg))!==void 0&&!L;){const j=N.get(t);if(D+=1,typeof j<"u"){if(j===D)throw new RangeError("Cyclic object value");L=!0}typeof N.get(xg)>"u"&&(D=0)}if(typeof d=="function"?I=d(e,I):I instanceof Date?I=S?.(I):n==="comma"&&Zt(I)&&(I=RT(I,function(j){return j instanceof Date?S?.(j):j})),I===null){if(a)return h&&!A?h(e,_t.encoder,x,"key",b):e;I=""}if(i4(I)||o4(I)){if(h){const j=A?e:h(e,_t.encoder,x,"key",b);return[T?.(j)+"="+T?.(h(I,_t.encoder,x,"value",b))]}return[T?.(e)+"="+T?.(String(I))]}const U=[];if(typeof I>"u")return U;let O;if(n==="comma"&&Zt(I))A&&h&&(I=RT(I,h)),O=[{value:I.length>0?I.join(",")||null:void 0}];else if(Zt(d))O=d;else{const j=Object.keys(I);O=m?j.sort(m):j}const q=c?String(e).replace(/\./g,"%2E"):String(e),J=o&&Zt(I)&&I.length===1?q+"[]":q;if(r&&Zt(I)&&I.length===0)return J+"[]";for(let j=0;j<O.length;++j){const W=O[j],re=typeof W=="object"&&typeof W.value<"u"?W.value:I[W];if(u&&re===null)continue;const oe=y&&c?W.replace(/\./g,"%2E"):W,ae=Zt(I)?typeof n=="function"?n(J,oe):J:J+(y?"."+oe:"["+oe+"]");M.set(t,D);const de=new WeakMap;de.set(xg,M),vN(U,yN(re,ae,n,o,r,a,u,c,n==="comma"&&A&&Zt(I)?null:h,d,m,y,S,b,T,A,x,de))}return U}function r4(t=_t){if(typeof t.allowEmptyArrays<"u"&&typeof t.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof t.encodeDotInKeys<"u"&&typeof t.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(t.encoder!==null&&typeof t.encoder<"u"&&typeof t.encoder!="function")throw new TypeError("Encoder has to be a function.");const e=t.charset||_t.charset;if(typeof t.charset<"u"&&t.charset!=="utf-8"&&t.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");let n=pN;if(typeof t.format<"u"){if(!Ov(xT,t.format))throw new TypeError("Unknown format option provided.");n=t.format}const o=xT[n];let r=_t.filter;(typeof t.filter=="function"||Zt(t.filter))&&(r=t.filter);let a;if(t.arrayFormat&&t.arrayFormat in gN?a=t.arrayFormat:"indices"in t?a=t.indices?"indices":"repeat":a=_t.arrayFormat,"commaRoundTrip"in t&&typeof t.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");const u=typeof t.allowDots>"u"?t.encodeDotInKeys?!0:_t.allowDots:!!t.allowDots;return{addQueryPrefix:typeof t.addQueryPrefix=="boolean"?t.addQueryPrefix:_t.addQueryPrefix,allowDots:u,allowEmptyArrays:typeof t.allowEmptyArrays=="boolean"?!!t.allowEmptyArrays:_t.allowEmptyArrays,arrayFormat:a,charset:e,charsetSentinel:typeof t.charsetSentinel=="boolean"?t.charsetSentinel:_t.charsetSentinel,commaRoundTrip:!!t.commaRoundTrip,delimiter:typeof t.delimiter>"u"?_t.delimiter:t.delimiter,encode:typeof t.encode=="boolean"?t.encode:_t.encode,encodeDotInKeys:typeof t.encodeDotInKeys=="boolean"?t.encodeDotInKeys:_t.encodeDotInKeys,encoder:typeof t.encoder=="function"?t.encoder:_t.encoder,encodeValuesOnly:typeof t.encodeValuesOnly=="boolean"?t.encodeValuesOnly:_t.encodeValuesOnly,filter:r,format:n,formatter:o,serializeDate:typeof t.serializeDate=="function"?t.serializeDate:_t.serializeDate,skipNulls:typeof t.skipNulls=="boolean"?t.skipNulls:_t.skipNulls,sort:typeof t.sort=="function"?t.sort:null,strictNullHandling:typeof t.strictNullHandling=="boolean"?t.strictNullHandling:_t.strictNullHandling}}function s4(t,e={}){let n=t;const o=r4(e);let r,a;typeof o.filter=="function"?(a=o.filter,n=a("",n)):Zt(o.filter)&&(a=o.filter,r=a);const u=[];if(typeof n!="object"||n===null)return"";const c=gN[o.arrayFormat],h=c==="comma"&&o.commaRoundTrip;r||(r=Object.keys(n)),o.sort&&r.sort(o.sort);const d=new WeakMap;for(let S=0;S<r.length;++S){const b=r[S];o.skipNulls&&n[b]===null||vN(u,yN(n[b],b,c,h,o.allowEmptyArrays,o.strictNullHandling,o.skipNulls,o.encodeDotInKeys,o.encode?o.encoder:null,o.filter,o.sort,o.allowDots,o.serializeDate,o.format,o.formatter,o.encodeValuesOnly,o.charset,d))}const m=u.join(o.delimiter);let y=o.addQueryPrefix===!0?"?":"";return o.charsetSentinel&&(o.charset==="iso-8859-1"?y+="utf8=%26%2310003%3B&":y+="utf8=%E2%9C%93&"),m.length>0?y+m:""}function a4(t){let e=0;for(const r of t)e+=r.length;const n=new Uint8Array(e);let o=0;for(const r of t)n.set(r,o),o+=r.length;return n}let NT;function qy(t){let e;return(NT??(e=new globalThis.TextEncoder,NT=e.encode.bind(e)))(t)}let IT;function DT(t){let e;return(IT??(e=new globalThis.TextDecoder,IT=e.decode.bind(e)))(t)}var pn,mn;class mh{constructor(){pn.set(this,void 0),mn.set(this,void 0),Ce(this,pn,new Uint8Array),Ce(this,mn,null)}decode(e){if(e==null)return[];const n=e instanceof ArrayBuffer?new Uint8Array(e):typeof e=="string"?qy(e):e;Ce(this,pn,a4([V(this,pn,"f"),n]));const o=[];let r;for(;(r=l4(V(this,pn,"f"),V(this,mn,"f")))!=null;){if(r.carriage&&V(this,mn,"f")==null){Ce(this,mn,r.index);continue}if(V(this,mn,"f")!=null&&(r.index!==V(this,mn,"f")+1||r.carriage)){o.push(DT(V(this,pn,"f").subarray(0,V(this,mn,"f")-1))),Ce(this,pn,V(this,pn,"f").subarray(V(this,mn,"f"))),Ce(this,mn,null);continue}const a=V(this,mn,"f")!==null?r.preceding-1:r.preceding,u=DT(V(this,pn,"f").subarray(0,a));o.push(u),Ce(this,pn,V(this,pn,"f").subarray(r.index)),Ce(this,mn,null)}return o}flush(){return V(this,pn,"f").length?this.decode(`
`):[]}}pn=new WeakMap,mn=new WeakMap;mh.NEWLINE_CHARS=new Set([`
`,"\r"]);mh.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function l4(t,e){for(let r=e??0;r<t.length;r++){if(t[r]===10)return{preceding:r,index:r+1,carriage:!1};if(t[r]===13)return{preceding:r,index:r+1,carriage:!0}}return null}function u4(t){for(let o=0;o<t.length-1;o++){if(t[o]===10&&t[o+1]===10||t[o]===13&&t[o+1]===13)return o+2;if(t[o]===13&&t[o+1]===10&&o+3<t.length&&t[o+2]===13&&t[o+3]===10)return o+4}return-1}const Md={off:0,error:200,warn:300,info:400,debug:500},OT=(t,e,n)=>{if(t){if(z3(Md,t))return t;Dt(n).warn(`${e} was set to ${JSON.stringify(t)}, expected one of ${JSON.stringify(Object.keys(Md))}`)}};function Hl(){}function Rf(t,e,n){return!e||Md[t]>Md[n]?Hl:e[t].bind(e)}const c4={error:Hl,warn:Hl,info:Hl,debug:Hl};let PT=new WeakMap;function Dt(t){const e=t.logger,n=t.logLevel??"off";if(!e)return c4;const o=PT.get(e);if(o&&o[0]===n)return o[1];const r={error:Rf("error",e,n),warn:Rf("warn",e,n),info:Rf("info",e,n),debug:Rf("debug",e,n)};return PT.set(e,[n,r]),r}const Lr=t=>(t.options&&(t.options={...t.options},delete t.options.headers),t.headers&&(t.headers=Object.fromEntries((t.headers instanceof Headers?[...t.headers]:Object.entries(t.headers)).map(([e,n])=>[e,e.toLowerCase()==="authorization"||e.toLowerCase()==="cookie"||e.toLowerCase()==="set-cookie"?"***":n]))),"retryOfRequestLogID"in t&&(t.retryOfRequestLogID&&(t.retryOf=t.retryOfRequestLogID),delete t.retryOfRequestLogID),t);var Ll;class Co{constructor(e,n,o){this.iterator=e,Ll.set(this,void 0),this.controller=n,Ce(this,Ll,o)}static fromSSEResponse(e,n,o){let r=!1;const a=o?Dt(o):console;async function*u(){if(r)throw new Se("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let c=!1;try{for await(const h of f4(e,n))if(!c){if(h.data.startsWith("[DONE]")){c=!0;continue}if(h.event===null||!h.event.startsWith("thread.")){let d;try{d=JSON.parse(h.data)}catch(m){throw a.error("Could not parse message into JSON:",h.data),a.error("From chunk:",h.raw),m}if(d&&d.error)throw new Pt(void 0,d.error,void 0,e.headers);yield d}else{let d;try{d=JSON.parse(h.data)}catch(m){throw console.error("Could not parse message into JSON:",h.data),console.error("From chunk:",h.raw),m}if(h.event=="error")throw new Pt(void 0,d.error,d.message,void 0);yield{event:h.event,data:d}}}c=!0}catch(h){if(Iv(h))return;throw h}finally{c||n.abort()}}return new Co(u,n,o)}static fromReadableStream(e,n,o){let r=!1;async function*a(){const c=new mh,h=hN(e);for await(const d of h)for(const m of c.decode(d))yield m;for(const d of c.flush())yield d}async function*u(){if(r)throw new Se("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let c=!1;try{for await(const h of a())c||h&&(yield JSON.parse(h));c=!0}catch(h){if(Iv(h))return;throw h}finally{c||n.abort()}}return new Co(u,n,o)}[(Ll=new WeakMap,Symbol.asyncIterator)](){return this.iterator()}tee(){const e=[],n=[],o=this.iterator(),r=a=>({next:()=>{if(a.length===0){const u=o.next();e.push(u),n.push(u)}return a.shift()}});return[new Co(()=>r(e),this.controller,V(this,Ll,"f")),new Co(()=>r(n),this.controller,V(this,Ll,"f"))]}toReadableStream(){const e=this;let n;return fN({async start(){n=e[Symbol.asyncIterator]()},async pull(o){try{const{value:r,done:a}=await n.next();if(a)return o.close();const u=qy(JSON.stringify(r)+`
`);o.enqueue(u)}catch(r){o.error(r)}},async cancel(){await n.return?.()}})}}async function*f4(t,e){if(!t.body)throw e.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new Se("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new Se("Attempted to iterate over a response with no body");const n=new h4,o=new mh,r=hN(t.body);for await(const a of d4(r))for(const u of o.decode(a)){const c=n.decode(u);c&&(yield c)}for(const a of o.flush()){const u=n.decode(a);u&&(yield u)}}async function*d4(t){let e=new Uint8Array;for await(const n of t){if(n==null)continue;const o=n instanceof ArrayBuffer?new Uint8Array(n):typeof n=="string"?qy(n):n;let r=new Uint8Array(e.length+o.length);r.set(e),r.set(o,e.length),e=r;let a;for(;(a=u4(e))!==-1;)yield e.slice(0,a),e=e.slice(a)}e.length>0&&(yield e)}class h4{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const a={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],a}if(this.chunks.push(e),e.startsWith(":"))return null;let[n,o,r]=p4(e,":");return r.startsWith(" ")&&(r=r.substring(1)),n==="event"?this.event=r:n==="data"&&this.data.push(r),null}}function p4(t,e){const n=t.indexOf(e);return n!==-1?[t.substring(0,n),e,t.substring(n+e.length)]:[t,"",""]}async function _N(t,e){const{response:n,requestLogID:o,retryOfRequestLogID:r,startTime:a}=e,u=await(async()=>{if(e.options.stream)return Dt(t).debug("response",n.status,n.url,n.headers,n.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(n,e.controller,t):Co.fromSSEResponse(n,e.controller,t);if(n.status===204)return null;if(e.options.__binaryResponse)return n;const h=n.headers.get("content-type")?.split(";")[0]?.trim();if(h?.includes("application/json")||h?.endsWith("+json")){const y=await n.json();return SN(y,n)}return await n.text()})();return Dt(t).debug(`[${o}] response parsed`,Lr({retryOfRequestLogID:r,url:n.url,status:n.status,body:u,durationMs:Date.now()-a})),u}function SN(t,e){return!t||typeof t!="object"||Array.isArray(t)?t:Object.defineProperty(t,"_request_id",{value:e.headers.get("x-request-id"),enumerable:!1})}var Gl;class gh extends Promise{constructor(e,n,o=_N){super(r=>{r(null)}),this.responsePromise=n,this.parseResponse=o,Gl.set(this,void 0),Ce(this,Gl,e)}_thenUnwrap(e){return new gh(V(this,Gl,"f"),this.responsePromise,async(n,o)=>SN(e(await this.parseResponse(n,o),o),o.response))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:n,request_id:n.headers.get("x-request-id")}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(e=>this.parseResponse(V(this,Gl,"f"),e))),this.parsedPromise}then(e,n){return this.parse().then(e,n)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}Gl=new WeakMap;var Mf;class Jy{constructor(e,n,o,r){Mf.set(this,void 0),Ce(this,Mf,e),this.options=r,this.response=n,this.body=o}hasNextPage(){return this.getPaginatedItems().length?this.nextPageRequestOptions()!=null:!1}async getNextPage(){const e=this.nextPageRequestOptions();if(!e)throw new Se("No next page expected; please check `.hasNextPage()` before calling `.getNextPage()`.");return await V(this,Mf,"f").requestAPIList(this.constructor,e)}async*iterPages(){let e=this;for(yield e;e.hasNextPage();)e=await e.getNextPage(),yield e}async*[(Mf=new WeakMap,Symbol.asyncIterator)](){for await(const e of this.iterPages())for(const n of e.getPaginatedItems())yield n}}class m4 extends gh{constructor(e,n,o){super(e,n,async(r,a)=>new o(r,a.response,await _N(r,a),a.options))}async*[Symbol.asyncIterator](){const e=await this;for await(const n of e)yield n}}class vh extends Jy{constructor(e,n,o,r){super(e,n,o,r),this.data=o.data||[],this.object=o.object}getPaginatedItems(){return this.data??[]}nextPageRequestOptions(){return null}}class gt extends Jy{constructor(e,n,o,r){super(e,n,o,r),this.data=o.data||[],this.has_more=o.has_more||!1}getPaginatedItems(){return this.data??[]}hasNextPage(){return this.has_more===!1?!1:super.hasNextPage()}nextPageRequestOptions(){const e=this.getPaginatedItems(),n=e[e.length-1]?.id;return n?{...this.options,query:{...cN(this.options.query),after:n}}:null}}class Nd extends Jy{constructor(e,n,o,r){super(e,n,o,r),this.data=o.data||[],this.has_more=o.has_more||!1,this.last_id=o.last_id||""}getPaginatedItems(){return this.data??[]}hasNextPage(){return this.has_more===!1?!1:super.hasNextPage()}nextPageRequestOptions(){const e=this.last_id;return e?{...this.options,query:{...cN(this.options.query),after:e}}:null}}const bN=()=>{if(typeof File>"u"){const{process:t}=globalThis,e=typeof t?.versions?.node=="string"&&parseInt(t.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(e?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function tu(t,e,n){return bN(),new File(t,e??"unknown_file",n)}function Wf(t){return(typeof t=="object"&&t!==null&&("name"in t&&t.name&&String(t.name)||"url"in t&&t.url&&String(t.url)||"filename"in t&&t.filename&&String(t.filename)||"path"in t&&t.path&&String(t.path))||"").split(/[\\/]/).pop()||void 0}const Ky=t=>t!=null&&typeof t=="object"&&typeof t[Symbol.asyncIterator]=="function",kT=async(t,e)=>Pv(t.body)?{...t,body:await EN(t.body,e)}:t,Wr=async(t,e)=>({...t,body:await EN(t.body,e)}),LT=new WeakMap;function g4(t){const e=typeof t=="function"?t:t.fetch,n=LT.get(e);if(n)return n;const o=(async()=>{try{const r="Response"in e?e.Response:(await e("data:,")).constructor,a=new FormData;return a.toString()!==await new r(a).text()}catch{return!0}})();return LT.set(e,o),o}const EN=async(t,e)=>{if(!await g4(e))throw new TypeError("The provided fetch function does not support file uploads with the current global FormData class.");const n=new FormData;return await Promise.all(Object.entries(t||{}).map(([o,r])=>kv(n,o,r))),n},wN=t=>t instanceof Blob&&"name"in t,v4=t=>typeof t=="object"&&t!==null&&(t instanceof Response||Ky(t)||wN(t)),Pv=t=>{if(v4(t))return!0;if(Array.isArray(t))return t.some(Pv);if(t&&typeof t=="object"){for(const e in t)if(Pv(t[e]))return!0}return!1},kv=async(t,e,n)=>{if(n!==void 0){if(n==null)throw new TypeError(`Received null for "${e}"; to pass null in FormData, you must use the string 'null'`);if(typeof n=="string"||typeof n=="number"||typeof n=="boolean")t.append(e,String(n));else if(n instanceof Response)t.append(e,tu([await n.blob()],Wf(n)));else if(Ky(n))t.append(e,tu([await new Response(dN(n)).blob()],Wf(n)));else if(wN(n))t.append(e,n,Wf(n));else if(Array.isArray(n))await Promise.all(n.map(o=>kv(t,e+"[]",o)));else if(typeof n=="object")await Promise.all(Object.entries(n).map(([o,r])=>kv(t,`${e}[${o}]`,r)));else throw new TypeError(`Invalid value given to form, expected a string, number, boolean, object, Array, File or Blob but got ${n} instead`)}},CN=t=>t!=null&&typeof t=="object"&&typeof t.size=="number"&&typeof t.type=="string"&&typeof t.text=="function"&&typeof t.slice=="function"&&typeof t.arrayBuffer=="function",y4=t=>t!=null&&typeof t=="object"&&typeof t.name=="string"&&typeof t.lastModified=="number"&&CN(t),_4=t=>t!=null&&typeof t=="object"&&typeof t.url=="string"&&typeof t.blob=="function";async function S4(t,e,n){if(bN(),t=await t,y4(t))return t instanceof File?t:tu([await t.arrayBuffer()],t.name);if(_4(t)){const r=await t.blob();return e||(e=new URL(t.url).pathname.split(/[\\/]/).pop()),tu(await Lv(r),e,n)}const o=await Lv(t);if(e||(e=Wf(t)),!n?.type){const r=o.find(a=>typeof a=="object"&&"type"in a&&a.type);typeof r=="string"&&(n={...n,type:r})}return tu(o,e,n)}async function Lv(t){let e=[];if(typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer)e.push(t);else if(CN(t))e.push(t instanceof Blob?t:await t.arrayBuffer());else if(Ky(t))for await(const n of t)e.push(...await Lv(n));else{const n=t?.constructor?.name;throw new Error(`Unexpected data type: ${typeof t}${n?`; constructor: ${n}`:""}${b4(t)}`)}return e}function b4(t){return typeof t!="object"||t===null?"":`; props: [${Object.getOwnPropertyNames(t).map(n=>`"${n}"`).join(", ")}]`}class ye{constructor(e){this._client=e}}function TN(t){return t.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const UT=Object.freeze(Object.create(null)),E4=(t=TN)=>function(n,...o){if(n.length===1)return n[0];let r=!1;const a=[],u=n.reduce((m,y,S)=>{/[?#]/.test(y)&&(r=!0);const b=o[S];let T=(r?encodeURIComponent:t)(""+b);return S!==o.length&&(b==null||typeof b=="object"&&b.toString===Object.getPrototypeOf(Object.getPrototypeOf(b.hasOwnProperty??UT)??UT)?.toString)&&(T=b+"",a.push({start:m.length+y.length,length:T.length,error:`Value of type ${Object.prototype.toString.call(b).slice(8,-1)} is not a valid path parameter`})),m+y+(S===o.length?"":T)},""),c=u.split(/[?#]/,1)[0],h=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let d;for(;(d=h.exec(c))!==null;)a.push({start:d.index,length:d[0].length,error:`Value "${d[0]}" can't be safely passed as a path parameter`});if(a.sort((m,y)=>m.start-y.start),a.length>0){let m=0;const y=a.reduce((S,b)=>{const T=" ".repeat(b.start-m),A="^".repeat(b.length);return m=b.start+b.length,S+T+A},"");throw new Se(`Path parameters result in path with invalid segments:
${a.map(S=>S.error).join(`
`)}
${u}
${y}`)}return u},ie=E4(TN);let AN=class extends ye{list(e,n={},o){return this._client.getAPIList(ie`/chat/completions/${e}/messages`,gt,{query:n,...o})}};function Id(t){return t!==void 0&&"function"in t&&t.function!==void 0}function Yy(t){return t?.$brand==="auto-parseable-response-format"}function Uu(t){return t?.$brand==="auto-parseable-tool"}function w4(t,e){return!e||!xN(e)?{...t,choices:t.choices.map(n=>(RN(n.message.tool_calls),{...n,message:{...n.message,parsed:null,...n.message.tool_calls?{tool_calls:n.message.tool_calls}:void 0}}))}:jy(t,e)}function jy(t,e){const n=t.choices.map(o=>{if(o.finish_reason==="length")throw new lN;if(o.finish_reason==="content_filter")throw new uN;return RN(o.message.tool_calls),{...o,message:{...o.message,...o.message.tool_calls?{tool_calls:o.message.tool_calls?.map(r=>T4(e,r))??void 0}:void 0,parsed:o.message.content&&!o.message.refusal?C4(e,o.message.content):null}}});return{...t,choices:n}}function C4(t,e){return t.response_format?.type!=="json_schema"?null:t.response_format?.type==="json_schema"?"$parseRaw"in t.response_format?t.response_format.$parseRaw(e):JSON.parse(e):null}function T4(t,e){const n=t.tools?.find(o=>Id(o)&&o.function?.name===e.function.name);return{...e,function:{...e.function,parsed_arguments:Uu(n)?n.$parseRaw(e.function.arguments):n?.function.strict?JSON.parse(e.function.arguments):null}}}function A4(t,e){if(!t||!("tools"in t)||!t.tools)return!1;const n=t.tools?.find(o=>Id(o)&&o.function?.name===e.function.name);return Id(n)&&(Uu(n)||n?.function.strict||!1)}function xN(t){return Yy(t.response_format)?!0:t.tools?.some(e=>Uu(e)||e.type==="function"&&e.function.strict===!0)??!1}function RN(t){for(const e of t||[])if(e.type!=="function")throw new Se(`Currently only \`function\` tool calls are supported; Received \`${e.type}\``)}function x4(t){for(const e of t??[]){if(e.type!=="function")throw new Se(`Currently only \`function\` tool types support auto-parsing; Received \`${e.type}\``);if(e.function.strict!==!0)throw new Se(`The \`${e.function.name}\` tool is not marked with \`strict: true\`. Only strict function tools can be auto-parsed`)}}const Dd=t=>t?.role==="assistant",MN=t=>t?.role==="tool";var Uv,Qf,Zf,Vl,zl,ed,ql,oi,Jl,Od,Pd,oa,NN;class Xy{constructor(){Uv.add(this),this.controller=new AbortController,Qf.set(this,void 0),Zf.set(this,()=>{}),Vl.set(this,()=>{}),zl.set(this,void 0),ed.set(this,()=>{}),ql.set(this,()=>{}),oi.set(this,{}),Jl.set(this,!1),Od.set(this,!1),Pd.set(this,!1),oa.set(this,!1),Ce(this,Qf,new Promise((e,n)=>{Ce(this,Zf,e,"f"),Ce(this,Vl,n,"f")})),Ce(this,zl,new Promise((e,n)=>{Ce(this,ed,e,"f"),Ce(this,ql,n,"f")})),V(this,Qf,"f").catch(()=>{}),V(this,zl,"f").catch(()=>{})}_run(e){setTimeout(()=>{e().then(()=>{this._emitFinal(),this._emit("end")},V(this,Uv,"m",NN).bind(this))},0)}_connected(){this.ended||(V(this,Zf,"f").call(this),this._emit("connect"))}get ended(){return V(this,Jl,"f")}get errored(){return V(this,Od,"f")}get aborted(){return V(this,Pd,"f")}abort(){this.controller.abort()}on(e,n){return(V(this,oi,"f")[e]||(V(this,oi,"f")[e]=[])).push({listener:n}),this}off(e,n){const o=V(this,oi,"f")[e];if(!o)return this;const r=o.findIndex(a=>a.listener===n);return r>=0&&o.splice(r,1),this}once(e,n){return(V(this,oi,"f")[e]||(V(this,oi,"f")[e]=[])).push({listener:n,once:!0}),this}emitted(e){return new Promise((n,o)=>{Ce(this,oa,!0),e!=="error"&&this.once("error",o),this.once(e,n)})}async done(){Ce(this,oa,!0),await V(this,zl,"f")}_emit(e,...n){if(V(this,Jl,"f"))return;e==="end"&&(Ce(this,Jl,!0),V(this,ed,"f").call(this));const o=V(this,oi,"f")[e];if(o&&(V(this,oi,"f")[e]=o.filter(r=>!r.once),o.forEach(({listener:r})=>r(...n))),e==="abort"){const r=n[0];!V(this,oa,"f")&&!o?.length&&Promise.reject(r),V(this,Vl,"f").call(this,r),V(this,ql,"f").call(this,r),this._emit("end");return}if(e==="error"){const r=n[0];!V(this,oa,"f")&&!o?.length&&Promise.reject(r),V(this,Vl,"f").call(this,r),V(this,ql,"f").call(this,r),this._emit("end")}}_emitFinal(){}}Qf=new WeakMap,Zf=new WeakMap,Vl=new WeakMap,zl=new WeakMap,ed=new WeakMap,ql=new WeakMap,oi=new WeakMap,Jl=new WeakMap,Od=new WeakMap,Pd=new WeakMap,oa=new WeakMap,Uv=new WeakSet,NN=function(e){if(Ce(this,Od,!0),e instanceof Error&&e.name==="AbortError"&&(e=new $n),e instanceof $n)return Ce(this,Pd,!0),this._emit("abort",e);if(e instanceof Se)return this._emit("error",e);if(e instanceof Error){const n=new Se(e.message);return n.cause=e,this._emit("error",n)}return this._emit("error",new Se(String(e)))};function R4(t){return typeof t.parse=="function"}var $t,Bv,kd,Fv,$v,Hv,IN,DN;const M4=10;class ON extends Xy{constructor(){super(...arguments),$t.add(this),this._chatCompletions=[],this.messages=[]}_addChatCompletion(e){this._chatCompletions.push(e),this._emit("chatCompletion",e);const n=e.choices[0]?.message;return n&&this._addMessage(n),e}_addMessage(e,n=!0){if("content"in e||(e.content=null),this.messages.push(e),n){if(this._emit("message",e),MN(e)&&e.content)this._emit("functionToolCallResult",e.content);else if(Dd(e)&&e.tool_calls)for(const o of e.tool_calls)o.type==="function"&&this._emit("functionToolCall",o.function)}}async finalChatCompletion(){await this.done();const e=this._chatCompletions[this._chatCompletions.length-1];if(!e)throw new Se("stream ended without producing a ChatCompletion");return e}async finalContent(){return await this.done(),V(this,$t,"m",Bv).call(this)}async finalMessage(){return await this.done(),V(this,$t,"m",kd).call(this)}async finalFunctionToolCall(){return await this.done(),V(this,$t,"m",Fv).call(this)}async finalFunctionToolCallResult(){return await this.done(),V(this,$t,"m",$v).call(this)}async totalUsage(){return await this.done(),V(this,$t,"m",Hv).call(this)}allChatCompletions(){return[...this._chatCompletions]}_emitFinal(){const e=this._chatCompletions[this._chatCompletions.length-1];e&&this._emit("finalChatCompletion",e);const n=V(this,$t,"m",kd).call(this);n&&this._emit("finalMessage",n);const o=V(this,$t,"m",Bv).call(this);o&&this._emit("finalContent",o);const r=V(this,$t,"m",Fv).call(this);r&&this._emit("finalFunctionToolCall",r);const a=V(this,$t,"m",$v).call(this);a!=null&&this._emit("finalFunctionToolCallResult",a),this._chatCompletions.some(u=>u.usage)&&this._emit("totalUsage",V(this,$t,"m",Hv).call(this))}async _createChatCompletion(e,n,o){const r=o?.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",()=>this.controller.abort())),V(this,$t,"m",IN).call(this,n);const a=await e.chat.completions.create({...n,stream:!1},{...o,signal:this.controller.signal});return this._connected(),this._addChatCompletion(jy(a,n))}async _runChatCompletion(e,n,o){for(const r of n.messages)this._addMessage(r,!1);return await this._createChatCompletion(e,n,o)}async _runTools(e,n,o){const r="tool",{tool_choice:a="auto",stream:u,...c}=n,h=typeof a!="string"&&a.type==="function"&&a?.function?.name,{maxChatCompletions:d=M4}=o||{},m=n.tools.map(b=>{if(Uu(b)){if(!b.$callback)throw new Se("Tool given to `.runTools()` that does not have an associated function");return{type:"function",function:{function:b.$callback,name:b.function.name,description:b.function.description||"",parameters:b.function.parameters,parse:b.$parseRaw,strict:!0}}}return b}),y={};for(const b of m)b.type==="function"&&(y[b.function.name||b.function.function.name]=b.function);const S="tools"in n?m.map(b=>b.type==="function"?{type:"function",function:{name:b.function.name||b.function.function.name,parameters:b.function.parameters,description:b.function.description,strict:b.function.strict}}:b):void 0;for(const b of n.messages)this._addMessage(b,!1);for(let b=0;b<d;++b){const A=(await this._createChatCompletion(e,{...c,tool_choice:a,tools:S,messages:[...this.messages]},o)).choices[0]?.message;if(!A)throw new Se("missing message in ChatCompletion response");if(!A.tool_calls?.length)return;for(const x of A.tool_calls){if(x.type!=="function")continue;const M=x.id,{name:I,arguments:N}=x.function,D=y[I];if(D){if(h&&h!==I){const q=`Invalid tool_call: ${JSON.stringify(I)}. ${JSON.stringify(h)} requested. Please try again`;this._addMessage({role:r,tool_call_id:M,content:q});continue}}else{const q=`Invalid tool_call: ${JSON.stringify(I)}. Available options are: ${Object.keys(y).map(J=>JSON.stringify(J)).join(", ")}. Please try again`;this._addMessage({role:r,tool_call_id:M,content:q});continue}let L;try{L=R4(D)?await D.parse(N):N}catch(q){const J=q instanceof Error?q.message:String(q);this._addMessage({role:r,tool_call_id:M,content:J});continue}const U=await D.function(L,this),O=V(this,$t,"m",DN).call(this,U);if(this._addMessage({role:r,tool_call_id:M,content:O}),h)return}}}}$t=new WeakSet,Bv=function(){return V(this,$t,"m",kd).call(this).content??null},kd=function(){let e=this.messages.length;for(;e-- >0;){const n=this.messages[e];if(Dd(n))return{...n,content:n.content??null,refusal:n.refusal??null}}throw new Se("stream ended without producing a ChatCompletionMessage with role=assistant")},Fv=function(){for(let e=this.messages.length-1;e>=0;e--){const n=this.messages[e];if(Dd(n)&&n?.tool_calls?.length)return n.tool_calls.filter(o=>o.type==="function").at(-1)?.function}},$v=function(){for(let e=this.messages.length-1;e>=0;e--){const n=this.messages[e];if(MN(n)&&n.content!=null&&typeof n.content=="string"&&this.messages.some(o=>o.role==="assistant"&&o.tool_calls?.some(r=>r.type==="function"&&r.id===n.tool_call_id)))return n.content}},Hv=function(){const e={completion_tokens:0,prompt_tokens:0,total_tokens:0};for(const{usage:n}of this._chatCompletions)n&&(e.completion_tokens+=n.completion_tokens,e.prompt_tokens+=n.prompt_tokens,e.total_tokens+=n.total_tokens);return e},IN=function(e){if(e.n!=null&&e.n>1)throw new Se("ChatCompletion convenience helpers only support n=1 at this time. To use n>1, please use chat.completions.create() directly.")},DN=function(e){return typeof e=="string"?e:e===void 0?"undefined":JSON.stringify(e)};class Wy extends ON{static runTools(e,n,o){const r=new Wy,a={...o,headers:{...o?.headers,"X-Stainless-Helper-Method":"runTools"}};return r._run(()=>r._runTools(e,n,a)),r}_addMessage(e,n=!0){super._addMessage(e,n),Dd(e)&&e.content&&this._emit("content",e.content)}}const PN=1,kN=2,LN=4,UN=8,BN=16,FN=32,$N=64,HN=128,GN=256,VN=HN|GN,zN=BN|FN|VN|$N,qN=PN|kN|zN,JN=LN|UN,N4=qN|JN,wt={STR:PN,NUM:kN,ARR:LN,OBJ:UN,NULL:BN,BOOL:FN,NAN:$N,INFINITY:HN,MINUS_INFINITY:GN,INF:VN,SPECIAL:zN,ATOM:qN,COLLECTION:JN,ALL:N4};class I4 extends Error{}class D4 extends Error{}function O4(t,e=wt.ALL){if(typeof t!="string")throw new TypeError(`expecting str, got ${typeof t}`);if(!t.trim())throw new Error(`${t} is empty`);return P4(t.trim(),e)}const P4=(t,e)=>{const n=t.length;let o=0;const r=S=>{throw new I4(`${S} at position ${o}`)},a=S=>{throw new D4(`${S} at position ${o}`)},u=()=>(y(),o>=n&&r("Unexpected end of input"),t[o]==='"'?c():t[o]==="{"?h():t[o]==="["?d():t.substring(o,o+4)==="null"||wt.NULL&e&&n-o<4&&"null".startsWith(t.substring(o))?(o+=4,null):t.substring(o,o+4)==="true"||wt.BOOL&e&&n-o<4&&"true".startsWith(t.substring(o))?(o+=4,!0):t.substring(o,o+5)==="false"||wt.BOOL&e&&n-o<5&&"false".startsWith(t.substring(o))?(o+=5,!1):t.substring(o,o+8)==="Infinity"||wt.INFINITY&e&&n-o<8&&"Infinity".startsWith(t.substring(o))?(o+=8,1/0):t.substring(o,o+9)==="-Infinity"||wt.MINUS_INFINITY&e&&1<n-o&&n-o<9&&"-Infinity".startsWith(t.substring(o))?(o+=9,-1/0):t.substring(o,o+3)==="NaN"||wt.NAN&e&&n-o<3&&"NaN".startsWith(t.substring(o))?(o+=3,NaN):m()),c=()=>{const S=o;let b=!1;for(o++;o<n&&(t[o]!=='"'||b&&t[o-1]==="\\");)b=t[o]==="\\"?!b:!1,o++;if(t.charAt(o)=='"')try{return JSON.parse(t.substring(S,++o-Number(b)))}catch(T){a(String(T))}else if(wt.STR&e)try{return JSON.parse(t.substring(S,o-Number(b))+'"')}catch{return JSON.parse(t.substring(S,t.lastIndexOf("\\"))+'"')}r("Unterminated string literal")},h=()=>{o++,y();const S={};try{for(;t[o]!=="}";){if(y(),o>=n&&wt.OBJ&e)return S;const b=c();y(),o++;try{const T=u();Object.defineProperty(S,b,{value:T,writable:!0,enumerable:!0,configurable:!0})}catch(T){if(wt.OBJ&e)return S;throw T}y(),t[o]===","&&o++}}catch{if(wt.OBJ&e)return S;r("Expected '}' at end of object")}return o++,S},d=()=>{o++;const S=[];try{for(;t[o]!=="]";)S.push(u()),y(),t[o]===","&&o++}catch{if(wt.ARR&e)return S;r("Expected ']' at end of array")}return o++,S},m=()=>{if(o===0){t==="-"&&wt.NUM&e&&r("Not sure what '-' is");try{return JSON.parse(t)}catch(b){if(wt.NUM&e)try{return t[t.length-1]==="."?JSON.parse(t.substring(0,t.lastIndexOf("."))):JSON.parse(t.substring(0,t.lastIndexOf("e")))}catch{}a(String(b))}}const S=o;for(t[o]==="-"&&o++;t[o]&&!",]}".includes(t[o]);)o++;o==n&&!(wt.NUM&e)&&r("Unterminated number literal");try{return JSON.parse(t.substring(S,o))}catch{t.substring(S,o)==="-"&&wt.NUM&e&&r("Not sure what '-' is");try{return JSON.parse(t.substring(S,t.lastIndexOf("e")))}catch(T){a(String(T))}}},y=()=>{for(;o<n&&` 
\r	`.includes(t[o]);)o++};return u()},BT=t=>O4(t,wt.ALL^wt.NUM);var yt,ni,Ks,ji,Rg,Nf,Mg,Ng,Ig,If,Dg,FT;class fu extends ON{constructor(e){super(),yt.add(this),ni.set(this,void 0),Ks.set(this,void 0),ji.set(this,void 0),Ce(this,ni,e),Ce(this,Ks,[])}get currentChatCompletionSnapshot(){return V(this,ji,"f")}static fromReadableStream(e){const n=new fu(null);return n._run(()=>n._fromReadableStream(e)),n}static createChatCompletion(e,n,o){const r=new fu(n);return r._run(()=>r._runChatCompletion(e,{...n,stream:!0},{...o,headers:{...o?.headers,"X-Stainless-Helper-Method":"stream"}})),r}async _createChatCompletion(e,n,o){super._createChatCompletion;const r=o?.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",()=>this.controller.abort())),V(this,yt,"m",Rg).call(this);const a=await e.chat.completions.create({...n,stream:!0},{...o,signal:this.controller.signal});this._connected();for await(const u of a)V(this,yt,"m",Mg).call(this,u);if(a.controller.signal?.aborted)throw new $n;return this._addChatCompletion(V(this,yt,"m",If).call(this))}async _fromReadableStream(e,n){const o=n?.signal;o&&(o.aborted&&this.controller.abort(),o.addEventListener("abort",()=>this.controller.abort())),V(this,yt,"m",Rg).call(this),this._connected();const r=Co.fromReadableStream(e,this.controller);let a;for await(const u of r)a&&a!==u.id&&this._addChatCompletion(V(this,yt,"m",If).call(this)),V(this,yt,"m",Mg).call(this,u),a=u.id;if(r.controller.signal?.aborted)throw new $n;return this._addChatCompletion(V(this,yt,"m",If).call(this))}[(ni=new WeakMap,Ks=new WeakMap,ji=new WeakMap,yt=new WeakSet,Rg=function(){this.ended||Ce(this,ji,void 0)},Nf=function(n){let o=V(this,Ks,"f")[n.index];return o||(o={content_done:!1,refusal_done:!1,logprobs_content_done:!1,logprobs_refusal_done:!1,done_tool_calls:new Set,current_tool_call_index:null},V(this,Ks,"f")[n.index]=o,o)},Mg=function(n){if(this.ended)return;const o=V(this,yt,"m",FT).call(this,n);this._emit("chunk",n,o);for(const r of n.choices){const a=o.choices[r.index];r.delta.content!=null&&a.message?.role==="assistant"&&a.message?.content&&(this._emit("content",r.delta.content,a.message.content),this._emit("content.delta",{delta:r.delta.content,snapshot:a.message.content,parsed:a.message.parsed})),r.delta.refusal!=null&&a.message?.role==="assistant"&&a.message?.refusal&&this._emit("refusal.delta",{delta:r.delta.refusal,snapshot:a.message.refusal}),r.logprobs?.content!=null&&a.message?.role==="assistant"&&this._emit("logprobs.content.delta",{content:r.logprobs?.content,snapshot:a.logprobs?.content??[]}),r.logprobs?.refusal!=null&&a.message?.role==="assistant"&&this._emit("logprobs.refusal.delta",{refusal:r.logprobs?.refusal,snapshot:a.logprobs?.refusal??[]});const u=V(this,yt,"m",Nf).call(this,a);a.finish_reason&&(V(this,yt,"m",Ig).call(this,a),u.current_tool_call_index!=null&&V(this,yt,"m",Ng).call(this,a,u.current_tool_call_index));for(const c of r.delta.tool_calls??[])u.current_tool_call_index!==c.index&&(V(this,yt,"m",Ig).call(this,a),u.current_tool_call_index!=null&&V(this,yt,"m",Ng).call(this,a,u.current_tool_call_index)),u.current_tool_call_index=c.index;for(const c of r.delta.tool_calls??[]){const h=a.message.tool_calls?.[c.index];h?.type&&(h?.type==="function"?this._emit("tool_calls.function.arguments.delta",{name:h.function?.name,index:c.index,arguments:h.function.arguments,parsed_arguments:h.function.parsed_arguments,arguments_delta:c.function?.arguments??""}):(h?.type,void 0))}}},Ng=function(n,o){if(V(this,yt,"m",Nf).call(this,n).done_tool_calls.has(o))return;const a=n.message.tool_calls?.[o];if(!a)throw new Error("no tool call snapshot");if(!a.type)throw new Error("tool call snapshot missing `type`");if(a.type==="function"){const u=V(this,ni,"f")?.tools?.find(c=>Id(c)&&c.function.name===a.function.name);this._emit("tool_calls.function.arguments.done",{name:a.function.name,index:o,arguments:a.function.arguments,parsed_arguments:Uu(u)?u.$parseRaw(a.function.arguments):u?.function.strict?JSON.parse(a.function.arguments):null})}else a.type},Ig=function(n){const o=V(this,yt,"m",Nf).call(this,n);if(n.message.content&&!o.content_done){o.content_done=!0;const r=V(this,yt,"m",Dg).call(this);this._emit("content.done",{content:n.message.content,parsed:r?r.$parseRaw(n.message.content):null})}n.message.refusal&&!o.refusal_done&&(o.refusal_done=!0,this._emit("refusal.done",{refusal:n.message.refusal})),n.logprobs?.content&&!o.logprobs_content_done&&(o.logprobs_content_done=!0,this._emit("logprobs.content.done",{content:n.logprobs.content})),n.logprobs?.refusal&&!o.logprobs_refusal_done&&(o.logprobs_refusal_done=!0,this._emit("logprobs.refusal.done",{refusal:n.logprobs.refusal}))},If=function(){if(this.ended)throw new Se("stream has ended, this shouldn't happen");const n=V(this,ji,"f");if(!n)throw new Se("request ended without sending any chunks");return Ce(this,ji,void 0),Ce(this,Ks,[]),k4(n,V(this,ni,"f"))},Dg=function(){const n=V(this,ni,"f")?.response_format;return Yy(n)?n:null},FT=function(n){var o,r,a,u;let c=V(this,ji,"f");const{choices:h,...d}=n;c?Object.assign(c,d):c=Ce(this,ji,{...d,choices:[]});for(const{delta:m,finish_reason:y,index:S,logprobs:b=null,...T}of n.choices){let A=c.choices[S];if(A||(A=c.choices[S]={finish_reason:y,index:S,message:{},logprobs:b,...T}),b)if(!A.logprobs)A.logprobs=Object.assign({},b);else{const{content:U,refusal:O,...q}=b;Object.assign(A.logprobs,q),U&&((o=A.logprobs).content??(o.content=[]),A.logprobs.content.push(...U)),O&&((r=A.logprobs).refusal??(r.refusal=[]),A.logprobs.refusal.push(...O))}if(y&&(A.finish_reason=y,V(this,ni,"f")&&xN(V(this,ni,"f")))){if(y==="length")throw new lN;if(y==="content_filter")throw new uN}if(Object.assign(A,T),!m)continue;const{content:x,refusal:M,function_call:I,role:N,tool_calls:D,...L}=m;if(Object.assign(A.message,L),M&&(A.message.refusal=(A.message.refusal||"")+M),N&&(A.message.role=N),I&&(A.message.function_call?(I.name&&(A.message.function_call.name=I.name),I.arguments&&((a=A.message.function_call).arguments??(a.arguments=""),A.message.function_call.arguments+=I.arguments)):A.message.function_call=I),x&&(A.message.content=(A.message.content||"")+x,!A.message.refusal&&V(this,yt,"m",Dg).call(this)&&(A.message.parsed=BT(A.message.content))),D){A.message.tool_calls||(A.message.tool_calls=[]);for(const{index:U,id:O,type:q,function:J,...j}of D){const W=(u=A.message.tool_calls)[U]??(u[U]={});Object.assign(W,j),O&&(W.id=O),q&&(W.type=q),J&&(W.function??(W.function={name:J.name??"",arguments:""})),J?.name&&(W.function.name=J.name),J?.arguments&&(W.function.arguments+=J.arguments,A4(V(this,ni,"f"),W)&&(W.function.parsed_arguments=BT(W.function.arguments)))}}}return c},Symbol.asyncIterator)](){const e=[],n=[];let o=!1;return this.on("chunk",r=>{const a=n.shift();a?a.resolve(r):e.push(r)}),this.on("end",()=>{o=!0;for(const r of n)r.resolve(void 0);n.length=0}),this.on("abort",r=>{o=!0;for(const a of n)a.reject(r);n.length=0}),this.on("error",r=>{o=!0;for(const a of n)a.reject(r);n.length=0}),{next:async()=>e.length?{value:e.shift(),done:!1}:o?{value:void 0,done:!0}:new Promise((a,u)=>n.push({resolve:a,reject:u})).then(a=>a?{value:a,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}toReadableStream(){return new Co(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}}function k4(t,e){const{id:n,choices:o,created:r,model:a,system_fingerprint:u,...c}=t,h={...c,id:n,choices:o.map(({message:d,finish_reason:m,index:y,logprobs:S,...b})=>{if(!m)throw new Se(`missing finish_reason for choice ${y}`);const{content:T=null,function_call:A,tool_calls:x,...M}=d,I=d.role;if(!I)throw new Se(`missing role for choice ${y}`);if(A){const{arguments:N,name:D}=A;if(N==null)throw new Se(`missing function_call.arguments for choice ${y}`);if(!D)throw new Se(`missing function_call.name for choice ${y}`);return{...b,message:{content:T,function_call:{arguments:N,name:D},role:I,refusal:d.refusal??null},finish_reason:m,index:y,logprobs:S}}return x?{...b,index:y,finish_reason:m,logprobs:S,message:{...M,role:I,content:T,refusal:d.refusal??null,tool_calls:x.map((N,D)=>{const{function:L,type:U,id:O,...q}=N,{arguments:J,name:j,...W}=L||{};if(O==null)throw new Se(`missing choices[${y}].tool_calls[${D}].id
${Df(t)}`);if(U==null)throw new Se(`missing choices[${y}].tool_calls[${D}].type
${Df(t)}`);if(j==null)throw new Se(`missing choices[${y}].tool_calls[${D}].function.name
${Df(t)}`);if(J==null)throw new Se(`missing choices[${y}].tool_calls[${D}].function.arguments
${Df(t)}`);return{...q,id:O,type:U,function:{...W,name:j,arguments:J}}})}}:{...b,message:{...M,content:T,role:I,refusal:d.refusal??null},finish_reason:m,index:y,logprobs:S}}),created:r,model:a,object:"chat.completion",...u?{system_fingerprint:u}:{}};return w4(h,e)}function Df(t){return JSON.stringify(t)}class Ld extends fu{static fromReadableStream(e){const n=new Ld(null);return n._run(()=>n._fromReadableStream(e)),n}static runTools(e,n,o){const r=new Ld(n),a={...o,headers:{...o?.headers,"X-Stainless-Helper-Method":"runTools"}};return r._run(()=>r._runTools(e,n,a)),r}}let Qy=class extends ye{constructor(){super(...arguments),this.messages=new AN(this._client)}create(e,n){return this._client.post("/chat/completions",{body:e,...n,stream:e.stream??!1})}retrieve(e,n){return this._client.get(ie`/chat/completions/${e}`,n)}update(e,n,o){return this._client.post(ie`/chat/completions/${e}`,{body:n,...o})}list(e={},n){return this._client.getAPIList("/chat/completions",gt,{query:e,...n})}delete(e,n){return this._client.delete(ie`/chat/completions/${e}`,n)}parse(e,n){return x4(e.tools),this._client.chat.completions.create(e,{...n,headers:{...n?.headers,"X-Stainless-Helper-Method":"chat.completions.parse"}})._thenUnwrap(o=>jy(o,e))}runTools(e,n){return e.stream?Ld.runTools(this._client,e,n):Wy.runTools(this._client,e,n)}stream(e,n){return fu.createChatCompletion(this._client,e,n)}};Qy.Messages=AN;class Zy extends ye{constructor(){super(...arguments),this.completions=new Qy(this._client)}}Zy.Completions=Qy;const KN=Symbol("brand.privateNullableHeaders");function*L4(t){if(!t)return;if(KN in t){const{values:o,nulls:r}=t;yield*o.entries();for(const a of r)yield[a,null];return}let e=!1,n;t instanceof Headers?n=t.entries():wT(t)?n=t:(e=!0,n=Object.entries(t??{}));for(let o of n){const r=o[0];if(typeof r!="string")throw new TypeError("expected header name to be a string");const a=wT(o[1])?o[1]:[o[1]];let u=!1;for(const c of a)c!==void 0&&(e&&!u&&(u=!0,yield[r,null]),yield[r,c])}}const pe=t=>{const e=new Headers,n=new Set;for(const o of t){const r=new Set;for(const[a,u]of L4(o)){const c=a.toLowerCase();r.has(c)||(e.delete(a),r.add(c)),u===null?(e.delete(a),n.add(c)):(e.append(a,u),n.delete(c))}}return{[KN]:!0,values:e,nulls:n}};class YN extends ye{create(e,n){return this._client.post("/audio/speech",{body:e,...n,headers:pe([{Accept:"application/octet-stream"},n?.headers]),__binaryResponse:!0})}}class jN extends ye{create(e,n){return this._client.post("/audio/transcriptions",Wr({body:e,...n,stream:e.stream??!1,__metadata:{model:e.model}},this._client))}}class XN extends ye{create(e,n){return this._client.post("/audio/translations",Wr({body:e,...n,__metadata:{model:e.model}},this._client))}}class Bu extends ye{constructor(){super(...arguments),this.transcriptions=new jN(this._client),this.translations=new XN(this._client),this.speech=new YN(this._client)}}Bu.Transcriptions=jN;Bu.Translations=XN;Bu.Speech=YN;class WN extends ye{create(e,n){return this._client.post("/batches",{body:e,...n})}retrieve(e,n){return this._client.get(ie`/batches/${e}`,n)}list(e={},n){return this._client.getAPIList("/batches",gt,{query:e,...n})}cancel(e,n){return this._client.post(ie`/batches/${e}/cancel`,n)}}class QN extends ye{create(e,n){return this._client.post("/assistants",{body:e,...n,headers:pe([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}retrieve(e,n){return this._client.get(ie`/assistants/${e}`,{...n,headers:pe([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}update(e,n,o){return this._client.post(ie`/assistants/${e}`,{body:n,...o,headers:pe([{"OpenAI-Beta":"assistants=v2"},o?.headers])})}list(e={},n){return this._client.getAPIList("/assistants",gt,{query:e,...n,headers:pe([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}delete(e,n){return this._client.delete(ie`/assistants/${e}`,{...n,headers:pe([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}}let ZN=class extends ye{create(e,n){return this._client.post("/realtime/sessions",{body:e,...n,headers:pe([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}};class eI extends ye{create(e,n){return this._client.post("/realtime/transcription_sessions",{body:e,...n,headers:pe([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}}let yh=class extends ye{constructor(){super(...arguments),this.sessions=new ZN(this._client),this.transcriptionSessions=new eI(this._client)}};yh.Sessions=ZN;yh.TranscriptionSessions=eI;class tI extends ye{create(e,n){return this._client.post("/chatkit/sessions",{body:e,...n,headers:pe([{"OpenAI-Beta":"chatkit_beta=v1"},n?.headers])})}cancel(e,n){return this._client.post(ie`/chatkit/sessions/${e}/cancel`,{...n,headers:pe([{"OpenAI-Beta":"chatkit_beta=v1"},n?.headers])})}}let nI=class extends ye{retrieve(e,n){return this._client.get(ie`/chatkit/threads/${e}`,{...n,headers:pe([{"OpenAI-Beta":"chatkit_beta=v1"},n?.headers])})}list(e={},n){return this._client.getAPIList("/chatkit/threads",Nd,{query:e,...n,headers:pe([{"OpenAI-Beta":"chatkit_beta=v1"},n?.headers])})}delete(e,n){return this._client.delete(ie`/chatkit/threads/${e}`,{...n,headers:pe([{"OpenAI-Beta":"chatkit_beta=v1"},n?.headers])})}listItems(e,n={},o){return this._client.getAPIList(ie`/chatkit/threads/${e}/items`,Nd,{query:n,...o,headers:pe([{"OpenAI-Beta":"chatkit_beta=v1"},o?.headers])})}};class _h extends ye{constructor(){super(...arguments),this.sessions=new tI(this._client),this.threads=new nI(this._client)}}_h.Sessions=tI;_h.Threads=nI;class oI extends ye{create(e,n,o){return this._client.post(ie`/threads/${e}/messages`,{body:n,...o,headers:pe([{"OpenAI-Beta":"assistants=v2"},o?.headers])})}retrieve(e,n,o){const{thread_id:r}=n;return this._client.get(ie`/threads/${r}/messages/${e}`,{...o,headers:pe([{"OpenAI-Beta":"assistants=v2"},o?.headers])})}update(e,n,o){const{thread_id:r,...a}=n;return this._client.post(ie`/threads/${r}/messages/${e}`,{body:a,...o,headers:pe([{"OpenAI-Beta":"assistants=v2"},o?.headers])})}list(e,n={},o){return this._client.getAPIList(ie`/threads/${e}/messages`,gt,{query:n,...o,headers:pe([{"OpenAI-Beta":"assistants=v2"},o?.headers])})}delete(e,n,o){const{thread_id:r}=n;return this._client.delete(ie`/threads/${r}/messages/${e}`,{...o,headers:pe([{"OpenAI-Beta":"assistants=v2"},o?.headers])})}}class iI extends ye{retrieve(e,n,o){const{thread_id:r,run_id:a,...u}=n;return this._client.get(ie`/threads/${r}/runs/${a}/steps/${e}`,{query:u,...o,headers:pe([{"OpenAI-Beta":"assistants=v2"},o?.headers])})}list(e,n,o){const{thread_id:r,...a}=n;return this._client.getAPIList(ie`/threads/${r}/runs/${e}/steps`,gt,{query:a,...o,headers:pe([{"OpenAI-Beta":"assistants=v2"},o?.headers])})}}const U4=t=>{if(typeof Buffer<"u"){const e=Buffer.from(t,"base64");return Array.from(new Float32Array(e.buffer,e.byteOffset,e.length/Float32Array.BYTES_PER_ELEMENT))}else{const e=atob(t),n=e.length,o=new Uint8Array(n);for(let r=0;r<n;r++)o[r]=e.charCodeAt(r);return Array.from(new Float32Array(o.buffer))}};var B4={};const Ys=t=>{if(typeof globalThis.process<"u")return B4?.[t]?.trim()??void 0;if(typeof globalThis.Deno<"u")return globalThis.Deno.env?.get?.(t)?.trim()};var Ot,Fr,Gv,bo,td,Zn,$r,ua,Ur,Ud,gn,nd,od,nu,Kl,Yl,$T,HT,GT,VT,zT,qT,JT;class ou extends Xy{constructor(){super(...arguments),Ot.add(this),Gv.set(this,[]),bo.set(this,{}),td.set(this,{}),Zn.set(this,void 0),$r.set(this,void 0),ua.set(this,void 0),Ur.set(this,void 0),Ud.set(this,void 0),gn.set(this,void 0),nd.set(this,void 0),od.set(this,void 0),nu.set(this,void 0)}[(Gv=new WeakMap,bo=new WeakMap,td=new WeakMap,Zn=new WeakMap,$r=new WeakMap,ua=new WeakMap,Ur=new WeakMap,Ud=new WeakMap,gn=new WeakMap,nd=new WeakMap,od=new WeakMap,nu=new WeakMap,Ot=new WeakSet,Symbol.asyncIterator)](){const e=[],n=[];let o=!1;return this.on("event",r=>{const a=n.shift();a?a.resolve(r):e.push(r)}),this.on("end",()=>{o=!0;for(const r of n)r.resolve(void 0);n.length=0}),this.on("abort",r=>{o=!0;for(const a of n)a.reject(r);n.length=0}),this.on("error",r=>{o=!0;for(const a of n)a.reject(r);n.length=0}),{next:async()=>e.length?{value:e.shift(),done:!1}:o?{value:void 0,done:!0}:new Promise((a,u)=>n.push({resolve:a,reject:u})).then(a=>a?{value:a,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}static fromReadableStream(e){const n=new Fr;return n._run(()=>n._fromReadableStream(e)),n}async _fromReadableStream(e,n){const o=n?.signal;o&&(o.aborted&&this.controller.abort(),o.addEventListener("abort",()=>this.controller.abort())),this._connected();const r=Co.fromReadableStream(e,this.controller);for await(const a of r)V(this,Ot,"m",Kl).call(this,a);if(r.controller.signal?.aborted)throw new $n;return this._addRun(V(this,Ot,"m",Yl).call(this))}toReadableStream(){return new Co(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}static createToolAssistantStream(e,n,o,r){const a=new Fr;return a._run(()=>a._runToolAssistantStream(e,n,o,{...r,headers:{...r?.headers,"X-Stainless-Helper-Method":"stream"}})),a}async _createToolAssistantStream(e,n,o,r){const a=r?.signal;a&&(a.aborted&&this.controller.abort(),a.addEventListener("abort",()=>this.controller.abort()));const u={...o,stream:!0},c=await e.submitToolOutputs(n,u,{...r,signal:this.controller.signal});this._connected();for await(const h of c)V(this,Ot,"m",Kl).call(this,h);if(c.controller.signal?.aborted)throw new $n;return this._addRun(V(this,Ot,"m",Yl).call(this))}static createThreadAssistantStream(e,n,o){const r=new Fr;return r._run(()=>r._threadAssistantStream(e,n,{...o,headers:{...o?.headers,"X-Stainless-Helper-Method":"stream"}})),r}static createAssistantStream(e,n,o,r){const a=new Fr;return a._run(()=>a._runAssistantStream(e,n,o,{...r,headers:{...r?.headers,"X-Stainless-Helper-Method":"stream"}})),a}currentEvent(){return V(this,nd,"f")}currentRun(){return V(this,od,"f")}currentMessageSnapshot(){return V(this,Zn,"f")}currentRunStepSnapshot(){return V(this,nu,"f")}async finalRunSteps(){return await this.done(),Object.values(V(this,bo,"f"))}async finalMessages(){return await this.done(),Object.values(V(this,td,"f"))}async finalRun(){if(await this.done(),!V(this,$r,"f"))throw Error("Final run was not received.");return V(this,$r,"f")}async _createThreadAssistantStream(e,n,o){const r=o?.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",()=>this.controller.abort()));const a={...n,stream:!0},u=await e.createAndRun(a,{...o,signal:this.controller.signal});this._connected();for await(const c of u)V(this,Ot,"m",Kl).call(this,c);if(u.controller.signal?.aborted)throw new $n;return this._addRun(V(this,Ot,"m",Yl).call(this))}async _createAssistantStream(e,n,o,r){const a=r?.signal;a&&(a.aborted&&this.controller.abort(),a.addEventListener("abort",()=>this.controller.abort()));const u={...o,stream:!0},c=await e.create(n,u,{...r,signal:this.controller.signal});this._connected();for await(const h of c)V(this,Ot,"m",Kl).call(this,h);if(c.controller.signal?.aborted)throw new $n;return this._addRun(V(this,Ot,"m",Yl).call(this))}static accumulateDelta(e,n){for(const[o,r]of Object.entries(n)){if(!e.hasOwnProperty(o)){e[o]=r;continue}let a=e[o];if(a==null){e[o]=r;continue}if(o==="index"||o==="type"){e[o]=r;continue}if(typeof a=="string"&&typeof r=="string")a+=r;else if(typeof a=="number"&&typeof r=="number")a+=r;else if(Tg(a)&&Tg(r))a=this.accumulateDelta(a,r);else if(Array.isArray(a)&&Array.isArray(r)){if(a.every(u=>typeof u=="string"||typeof u=="number")){a.push(...r);continue}for(const u of r){if(!Tg(u))throw new Error(`Expected array delta entry to be an object but got: ${u}`);const c=u.index;if(c==null)throw console.error(u),new Error("Expected array delta entry to have an `index` property");if(typeof c!="number")throw new Error(`Expected array delta entry \`index\` property to be a number but got ${c}`);const h=a[c];h==null?a.push(u):a[c]=this.accumulateDelta(h,u)}continue}else throw Error(`Unhandled record type: ${o}, deltaValue: ${r}, accValue: ${a}`);e[o]=a}return e}_addRun(e){return e}async _threadAssistantStream(e,n,o){return await this._createThreadAssistantStream(n,e,o)}async _runAssistantStream(e,n,o,r){return await this._createAssistantStream(n,e,o,r)}async _runToolAssistantStream(e,n,o,r){return await this._createToolAssistantStream(n,e,o,r)}}Fr=ou,Kl=function(e){if(!this.ended)switch(Ce(this,nd,e),V(this,Ot,"m",GT).call(this,e),e.event){case"thread.created":break;case"thread.run.created":case"thread.run.queued":case"thread.run.in_progress":case"thread.run.requires_action":case"thread.run.completed":case"thread.run.incomplete":case"thread.run.failed":case"thread.run.cancelling":case"thread.run.cancelled":case"thread.run.expired":V(this,Ot,"m",JT).call(this,e);break;case"thread.run.step.created":case"thread.run.step.in_progress":case"thread.run.step.delta":case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":V(this,Ot,"m",HT).call(this,e);break;case"thread.message.created":case"thread.message.in_progress":case"thread.message.delta":case"thread.message.completed":case"thread.message.incomplete":V(this,Ot,"m",$T).call(this,e);break;case"error":throw new Error("Encountered an error event in event processing - errors should be processed earlier")}},Yl=function(){if(this.ended)throw new Se("stream has ended, this shouldn't happen");if(!V(this,$r,"f"))throw Error("Final run has not been received");return V(this,$r,"f")},$T=function(e){const[n,o]=V(this,Ot,"m",zT).call(this,e,V(this,Zn,"f"));Ce(this,Zn,n),V(this,td,"f")[n.id]=n;for(const r of o){const a=n.content[r.index];a?.type=="text"&&this._emit("textCreated",a.text)}switch(e.event){case"thread.message.created":this._emit("messageCreated",e.data);break;case"thread.message.in_progress":break;case"thread.message.delta":if(this._emit("messageDelta",e.data.delta,n),e.data.delta.content)for(const r of e.data.delta.content){if(r.type=="text"&&r.text){let a=r.text,u=n.content[r.index];if(u&&u.type=="text")this._emit("textDelta",a,u.text);else throw Error("The snapshot associated with this text delta is not text or missing")}if(r.index!=V(this,ua,"f")){if(V(this,Ur,"f"))switch(V(this,Ur,"f").type){case"text":this._emit("textDone",V(this,Ur,"f").text,V(this,Zn,"f"));break;case"image_file":this._emit("imageFileDone",V(this,Ur,"f").image_file,V(this,Zn,"f"));break}Ce(this,ua,r.index)}Ce(this,Ur,n.content[r.index])}break;case"thread.message.completed":case"thread.message.incomplete":if(V(this,ua,"f")!==void 0){const r=e.data.content[V(this,ua,"f")];if(r)switch(r.type){case"image_file":this._emit("imageFileDone",r.image_file,V(this,Zn,"f"));break;case"text":this._emit("textDone",r.text,V(this,Zn,"f"));break}}V(this,Zn,"f")&&this._emit("messageDone",e.data),Ce(this,Zn,void 0)}},HT=function(e){const n=V(this,Ot,"m",VT).call(this,e);switch(Ce(this,nu,n),e.event){case"thread.run.step.created":this._emit("runStepCreated",e.data);break;case"thread.run.step.delta":const o=e.data.delta;if(o.step_details&&o.step_details.type=="tool_calls"&&o.step_details.tool_calls&&n.step_details.type=="tool_calls")for(const a of o.step_details.tool_calls)a.index==V(this,Ud,"f")?this._emit("toolCallDelta",a,n.step_details.tool_calls[a.index]):(V(this,gn,"f")&&this._emit("toolCallDone",V(this,gn,"f")),Ce(this,Ud,a.index),Ce(this,gn,n.step_details.tool_calls[a.index]),V(this,gn,"f")&&this._emit("toolCallCreated",V(this,gn,"f")));this._emit("runStepDelta",e.data.delta,n);break;case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":Ce(this,nu,void 0),e.data.step_details.type=="tool_calls"&&V(this,gn,"f")&&(this._emit("toolCallDone",V(this,gn,"f")),Ce(this,gn,void 0)),this._emit("runStepDone",e.data,n);break}},GT=function(e){V(this,Gv,"f").push(e),this._emit("event",e)},VT=function(e){switch(e.event){case"thread.run.step.created":return V(this,bo,"f")[e.data.id]=e.data,e.data;case"thread.run.step.delta":let n=V(this,bo,"f")[e.data.id];if(!n)throw Error("Received a RunStepDelta before creation of a snapshot");let o=e.data;if(o.delta){const r=Fr.accumulateDelta(n,o.delta);V(this,bo,"f")[e.data.id]=r}return V(this,bo,"f")[e.data.id];case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":case"thread.run.step.in_progress":V(this,bo,"f")[e.data.id]=e.data;break}if(V(this,bo,"f")[e.data.id])return V(this,bo,"f")[e.data.id];throw new Error("No snapshot available")},zT=function(e,n){let o=[];switch(e.event){case"thread.message.created":return[e.data,o];case"thread.message.delta":if(!n)throw Error("Received a delta with no existing snapshot (there should be one from message creation)");let r=e.data;if(r.delta.content)for(const a of r.delta.content)if(a.index in n.content){let u=n.content[a.index];n.content[a.index]=V(this,Ot,"m",qT).call(this,a,u)}else n.content[a.index]=a,o.push(a);return[n,o];case"thread.message.in_progress":case"thread.message.completed":case"thread.message.incomplete":if(n)return[n,o];throw Error("Received thread message event with no existing snapshot")}throw Error("Tried to accumulate a non-message event")},qT=function(e,n){return Fr.accumulateDelta(n,e)},JT=function(e){switch(Ce(this,od,e.data),e.event){case"thread.run.created":break;case"thread.run.queued":break;case"thread.run.in_progress":break;case"thread.run.requires_action":case"thread.run.cancelled":case"thread.run.failed":case"thread.run.completed":case"thread.run.expired":case"thread.run.incomplete":Ce(this,$r,e.data),V(this,gn,"f")&&(this._emit("toolCallDone",V(this,gn,"f")),Ce(this,gn,void 0));break}};let e_=class extends ye{constructor(){super(...arguments),this.steps=new iI(this._client)}create(e,n,o){const{include:r,...a}=n;return this._client.post(ie`/threads/${e}/runs`,{query:{include:r},body:a,...o,headers:pe([{"OpenAI-Beta":"assistants=v2"},o?.headers]),stream:n.stream??!1})}retrieve(e,n,o){const{thread_id:r}=n;return this._client.get(ie`/threads/${r}/runs/${e}`,{...o,headers:pe([{"OpenAI-Beta":"assistants=v2"},o?.headers])})}update(e,n,o){const{thread_id:r,...a}=n;return this._client.post(ie`/threads/${r}/runs/${e}`,{body:a,...o,headers:pe([{"OpenAI-Beta":"assistants=v2"},o?.headers])})}list(e,n={},o){return this._client.getAPIList(ie`/threads/${e}/runs`,gt,{query:n,...o,headers:pe([{"OpenAI-Beta":"assistants=v2"},o?.headers])})}cancel(e,n,o){const{thread_id:r}=n;return this._client.post(ie`/threads/${r}/runs/${e}/cancel`,{...o,headers:pe([{"OpenAI-Beta":"assistants=v2"},o?.headers])})}async createAndPoll(e,n,o){const r=await this.create(e,n,o);return await this.poll(r.id,{thread_id:e},o)}createAndStream(e,n,o){return ou.createAssistantStream(e,this._client.beta.threads.runs,n,o)}async poll(e,n,o){const r=pe([o?.headers,{"X-Stainless-Poll-Helper":"true","X-Stainless-Custom-Poll-Interval":o?.pollIntervalMs?.toString()??void 0}]);for(;;){const{data:a,response:u}=await this.retrieve(e,n,{...o,headers:{...o?.headers,...r}}).withResponse();switch(a.status){case"queued":case"in_progress":case"cancelling":let c=5e3;if(o?.pollIntervalMs)c=o.pollIntervalMs;else{const h=u.headers.get("openai-poll-after-ms");if(h){const d=parseInt(h);isNaN(d)||(c=d)}}await Lu(c);break;case"requires_action":case"incomplete":case"cancelled":case"completed":case"failed":case"expired":return a}}}stream(e,n,o){return ou.createAssistantStream(e,this._client.beta.threads.runs,n,o)}submitToolOutputs(e,n,o){const{thread_id:r,...a}=n;return this._client.post(ie`/threads/${r}/runs/${e}/submit_tool_outputs`,{body:a,...o,headers:pe([{"OpenAI-Beta":"assistants=v2"},o?.headers]),stream:n.stream??!1})}async submitToolOutputsAndPoll(e,n,o){const r=await this.submitToolOutputs(e,n,o);return await this.poll(r.id,n,o)}submitToolOutputsStream(e,n,o){return ou.createToolAssistantStream(e,this._client.beta.threads.runs,n,o)}};e_.Steps=iI;class Sh extends ye{constructor(){super(...arguments),this.runs=new e_(this._client),this.messages=new oI(this._client)}create(e={},n){return this._client.post("/threads",{body:e,...n,headers:pe([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}retrieve(e,n){return this._client.get(ie`/threads/${e}`,{...n,headers:pe([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}update(e,n,o){return this._client.post(ie`/threads/${e}`,{body:n,...o,headers:pe([{"OpenAI-Beta":"assistants=v2"},o?.headers])})}delete(e,n){return this._client.delete(ie`/threads/${e}`,{...n,headers:pe([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}createAndRun(e,n){return this._client.post("/threads/runs",{body:e,...n,headers:pe([{"OpenAI-Beta":"assistants=v2"},n?.headers]),stream:e.stream??!1})}async createAndRunPoll(e,n){const o=await this.createAndRun(e,n);return await this.runs.poll(o.id,{thread_id:o.thread_id},n)}createAndRunStream(e,n){return ou.createThreadAssistantStream(e,this._client.beta.threads,n)}}Sh.Runs=e_;Sh.Messages=oI;class Ia extends ye{constructor(){super(...arguments),this.realtime=new yh(this._client),this.chatkit=new _h(this._client),this.assistants=new QN(this._client),this.threads=new Sh(this._client)}}Ia.Realtime=yh;Ia.ChatKit=_h;Ia.Assistants=QN;Ia.Threads=Sh;class rI extends ye{create(e,n){return this._client.post("/completions",{body:e,...n,stream:e.stream??!1})}}let sI=class extends ye{retrieve(e,n,o){const{container_id:r}=n;return this._client.get(ie`/containers/${r}/files/${e}/content`,{...o,headers:pe([{Accept:"application/binary"},o?.headers]),__binaryResponse:!0})}},t_=class extends ye{constructor(){super(...arguments),this.content=new sI(this._client)}create(e,n,o){return this._client.post(ie`/containers/${e}/files`,Wr({body:n,...o},this._client))}retrieve(e,n,o){const{container_id:r}=n;return this._client.get(ie`/containers/${r}/files/${e}`,o)}list(e,n={},o){return this._client.getAPIList(ie`/containers/${e}/files`,gt,{query:n,...o})}delete(e,n,o){const{container_id:r}=n;return this._client.delete(ie`/containers/${r}/files/${e}`,{...o,headers:pe([{Accept:"*/*"},o?.headers])})}};t_.Content=sI;class n_ extends ye{constructor(){super(...arguments),this.files=new t_(this._client)}create(e,n){return this._client.post("/containers",{body:e,...n})}retrieve(e,n){return this._client.get(ie`/containers/${e}`,n)}list(e={},n){return this._client.getAPIList("/containers",gt,{query:e,...n})}delete(e,n){return this._client.delete(ie`/containers/${e}`,{...n,headers:pe([{Accept:"*/*"},n?.headers])})}}n_.Files=t_;class aI extends ye{create(e,n,o){const{include:r,...a}=n;return this._client.post(ie`/conversations/${e}/items`,{query:{include:r},body:a,...o})}retrieve(e,n,o){const{conversation_id:r,...a}=n;return this._client.get(ie`/conversations/${r}/items/${e}`,{query:a,...o})}list(e,n={},o){return this._client.getAPIList(ie`/conversations/${e}/items`,Nd,{query:n,...o})}delete(e,n,o){const{conversation_id:r}=n;return this._client.delete(ie`/conversations/${r}/items/${e}`,o)}}class o_ extends ye{constructor(){super(...arguments),this.items=new aI(this._client)}create(e={},n){return this._client.post("/conversations",{body:e,...n})}retrieve(e,n){return this._client.get(ie`/conversations/${e}`,n)}update(e,n,o){return this._client.post(ie`/conversations/${e}`,{body:n,...o})}delete(e,n){return this._client.delete(ie`/conversations/${e}`,n)}}o_.Items=aI;class lI extends ye{create(e,n){const o=!!e.encoding_format;let r=o?e.encoding_format:"base64";o&&Dt(this._client).debug("embeddings/user defined encoding_format:",e.encoding_format);const a=this._client.post("/embeddings",{body:{...e,encoding_format:r},...n});return o?a:(Dt(this._client).debug("embeddings/decoding base64 embeddings from base64"),a._thenUnwrap(u=>(u&&u.data&&u.data.forEach(c=>{const h=c.embedding;c.embedding=U4(h)}),u)))}}class uI extends ye{retrieve(e,n,o){const{eval_id:r,run_id:a}=n;return this._client.get(ie`/evals/${r}/runs/${a}/output_items/${e}`,o)}list(e,n,o){const{eval_id:r,...a}=n;return this._client.getAPIList(ie`/evals/${r}/runs/${e}/output_items`,gt,{query:a,...o})}}class i_ extends ye{constructor(){super(...arguments),this.outputItems=new uI(this._client)}create(e,n,o){return this._client.post(ie`/evals/${e}/runs`,{body:n,...o})}retrieve(e,n,o){const{eval_id:r}=n;return this._client.get(ie`/evals/${r}/runs/${e}`,o)}list(e,n={},o){return this._client.getAPIList(ie`/evals/${e}/runs`,gt,{query:n,...o})}delete(e,n,o){const{eval_id:r}=n;return this._client.delete(ie`/evals/${r}/runs/${e}`,o)}cancel(e,n,o){const{eval_id:r}=n;return this._client.post(ie`/evals/${r}/runs/${e}`,o)}}i_.OutputItems=uI;class r_ extends ye{constructor(){super(...arguments),this.runs=new i_(this._client)}create(e,n){return this._client.post("/evals",{body:e,...n})}retrieve(e,n){return this._client.get(ie`/evals/${e}`,n)}update(e,n,o){return this._client.post(ie`/evals/${e}`,{body:n,...o})}list(e={},n){return this._client.getAPIList("/evals",gt,{query:e,...n})}delete(e,n){return this._client.delete(ie`/evals/${e}`,n)}}r_.Runs=i_;let cI=class extends ye{create(e,n){return this._client.post("/files",Wr({body:e,...n},this._client))}retrieve(e,n){return this._client.get(ie`/files/${e}`,n)}list(e={},n){return this._client.getAPIList("/files",gt,{query:e,...n})}delete(e,n){return this._client.delete(ie`/files/${e}`,n)}content(e,n){return this._client.get(ie`/files/${e}/content`,{...n,headers:pe([{Accept:"application/binary"},n?.headers]),__binaryResponse:!0})}async waitForProcessing(e,{pollInterval:n=5e3,maxWait:o=1800*1e3}={}){const r=new Set(["processed","error","deleted"]),a=Date.now();let u=await this.retrieve(e);for(;!u.status||!r.has(u.status);)if(await Lu(n),u=await this.retrieve(e),Date.now()-a>o)throw new zy({message:`Giving up on waiting for file ${e} to finish processing after ${o} milliseconds.`});return u}};class fI extends ye{}let dI=class extends ye{run(e,n){return this._client.post("/fine_tuning/alpha/graders/run",{body:e,...n})}validate(e,n){return this._client.post("/fine_tuning/alpha/graders/validate",{body:e,...n})}};class s_ extends ye{constructor(){super(...arguments),this.graders=new dI(this._client)}}s_.Graders=dI;class hI extends ye{create(e,n,o){return this._client.getAPIList(ie`/fine_tuning/checkpoints/${e}/permissions`,vh,{body:n,method:"post",...o})}retrieve(e,n={},o){return this._client.get(ie`/fine_tuning/checkpoints/${e}/permissions`,{query:n,...o})}delete(e,n,o){const{fine_tuned_model_checkpoint:r}=n;return this._client.delete(ie`/fine_tuning/checkpoints/${r}/permissions/${e}`,o)}}let a_=class extends ye{constructor(){super(...arguments),this.permissions=new hI(this._client)}};a_.Permissions=hI;class pI extends ye{list(e,n={},o){return this._client.getAPIList(ie`/fine_tuning/jobs/${e}/checkpoints`,gt,{query:n,...o})}}class l_ extends ye{constructor(){super(...arguments),this.checkpoints=new pI(this._client)}create(e,n){return this._client.post("/fine_tuning/jobs",{body:e,...n})}retrieve(e,n){return this._client.get(ie`/fine_tuning/jobs/${e}`,n)}list(e={},n){return this._client.getAPIList("/fine_tuning/jobs",gt,{query:e,...n})}cancel(e,n){return this._client.post(ie`/fine_tuning/jobs/${e}/cancel`,n)}listEvents(e,n={},o){return this._client.getAPIList(ie`/fine_tuning/jobs/${e}/events`,gt,{query:n,...o})}pause(e,n){return this._client.post(ie`/fine_tuning/jobs/${e}/pause`,n)}resume(e,n){return this._client.post(ie`/fine_tuning/jobs/${e}/resume`,n)}}l_.Checkpoints=pI;class Da extends ye{constructor(){super(...arguments),this.methods=new fI(this._client),this.jobs=new l_(this._client),this.checkpoints=new a_(this._client),this.alpha=new s_(this._client)}}Da.Methods=fI;Da.Jobs=l_;Da.Checkpoints=a_;Da.Alpha=s_;class mI extends ye{}class u_ extends ye{constructor(){super(...arguments),this.graderModels=new mI(this._client)}}u_.GraderModels=mI;class gI extends ye{createVariation(e,n){return this._client.post("/images/variations",Wr({body:e,...n},this._client))}edit(e,n){return this._client.post("/images/edits",Wr({body:e,...n,stream:e.stream??!1},this._client))}generate(e,n){return this._client.post("/images/generations",{body:e,...n,stream:e.stream??!1})}}class vI extends ye{retrieve(e,n){return this._client.get(ie`/models/${e}`,n)}list(e){return this._client.getAPIList("/models",vh,e)}delete(e,n){return this._client.delete(ie`/models/${e}`,n)}}class yI extends ye{create(e,n){return this._client.post("/moderations",{body:e,...n})}}class _I extends ye{accept(e,n,o){return this._client.post(ie`/realtime/calls/${e}/accept`,{body:n,...o,headers:pe([{Accept:"*/*"},o?.headers])})}hangup(e,n){return this._client.post(ie`/realtime/calls/${e}/hangup`,{...n,headers:pe([{Accept:"*/*"},n?.headers])})}refer(e,n,o){return this._client.post(ie`/realtime/calls/${e}/refer`,{body:n,...o,headers:pe([{Accept:"*/*"},o?.headers])})}reject(e,n={},o){return this._client.post(ie`/realtime/calls/${e}/reject`,{body:n,...o,headers:pe([{Accept:"*/*"},o?.headers])})}}class SI extends ye{create(e,n){return this._client.post("/realtime/client_secrets",{body:e,...n})}}class bh extends ye{constructor(){super(...arguments),this.clientSecrets=new SI(this._client),this.calls=new _I(this._client)}}bh.ClientSecrets=SI;bh.Calls=_I;function F4(t,e){return!e||!H4(e)?{...t,output_parsed:null,output:t.output.map(n=>n.type==="function_call"?{...n,parsed_arguments:null}:n.type==="message"?{...n,content:n.content.map(o=>({...o,parsed:null}))}:n)}:bI(t,e)}function bI(t,e){const n=t.output.map(r=>{if(r.type==="function_call")return{...r,parsed_arguments:z4(e,r)};if(r.type==="message"){const a=r.content.map(u=>u.type==="output_text"?{...u,parsed:$4(e,u.text)}:u);return{...r,content:a}}return r}),o=Object.assign({},t,{output:n});return Object.getOwnPropertyDescriptor(t,"output_text")||Vv(o),Object.defineProperty(o,"output_parsed",{enumerable:!0,get(){for(const r of o.output)if(r.type==="message"){for(const a of r.content)if(a.type==="output_text"&&a.parsed!==null)return a.parsed}return null}}),o}function $4(t,e){return t.text?.format?.type!=="json_schema"?null:"$parseRaw"in t.text?.format?(t.text?.format).$parseRaw(e):JSON.parse(e)}function H4(t){return!!Yy(t.text?.format)}function G4(t){return t?.$brand==="auto-parseable-tool"}function V4(t,e){return t.find(n=>n.type==="function"&&n.name===e)}function z4(t,e){const n=V4(t.tools??[],e.name);return{...e,...e,parsed_arguments:G4(n)?n.$parseRaw(e.arguments):n?.strict?JSON.parse(e.arguments):null}}function Vv(t){const e=[];for(const n of t.output)if(n.type==="message")for(const o of n.content)o.type==="output_text"&&e.push(o.text);t.output_text=e.join("")}var js,Of,Xi,Pf,KT,YT,jT,XT;class c_ extends Xy{constructor(e){super(),js.add(this),Of.set(this,void 0),Xi.set(this,void 0),Pf.set(this,void 0),Ce(this,Of,e)}static createResponse(e,n,o){const r=new c_(n);return r._run(()=>r._createOrRetrieveResponse(e,n,{...o,headers:{...o?.headers,"X-Stainless-Helper-Method":"stream"}})),r}async _createOrRetrieveResponse(e,n,o){const r=o?.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",()=>this.controller.abort())),V(this,js,"m",KT).call(this);let a,u=null;"response_id"in n?(a=await e.responses.retrieve(n.response_id,{stream:!0},{...o,signal:this.controller.signal,stream:!0}),u=n.starting_after??null):a=await e.responses.create({...n,stream:!0},{...o,signal:this.controller.signal}),this._connected();for await(const c of a)V(this,js,"m",YT).call(this,c,u);if(a.controller.signal?.aborted)throw new $n;return V(this,js,"m",jT).call(this)}[(Of=new WeakMap,Xi=new WeakMap,Pf=new WeakMap,js=new WeakSet,KT=function(){this.ended||Ce(this,Xi,void 0)},YT=function(n,o){if(this.ended)return;const r=(u,c)=>{(o==null||c.sequence_number>o)&&this._emit(u,c)},a=V(this,js,"m",XT).call(this,n);switch(r("event",n),n.type){case"response.output_text.delta":{const u=a.output[n.output_index];if(!u)throw new Se(`missing output at index ${n.output_index}`);if(u.type==="message"){const c=u.content[n.content_index];if(!c)throw new Se(`missing content at index ${n.content_index}`);if(c.type!=="output_text")throw new Se(`expected content to be 'output_text', got ${c.type}`);r("response.output_text.delta",{...n,snapshot:c.text})}break}case"response.function_call_arguments.delta":{const u=a.output[n.output_index];if(!u)throw new Se(`missing output at index ${n.output_index}`);u.type==="function_call"&&r("response.function_call_arguments.delta",{...n,snapshot:u.arguments});break}default:r(n.type,n);break}},jT=function(){if(this.ended)throw new Se("stream has ended, this shouldn't happen");const n=V(this,Xi,"f");if(!n)throw new Se("request ended without sending any events");Ce(this,Xi,void 0);const o=q4(n,V(this,Of,"f"));return Ce(this,Pf,o),o},XT=function(n){let o=V(this,Xi,"f");if(!o){if(n.type!=="response.created")throw new Se(`When snapshot hasn't been set yet, expected 'response.created' event, got ${n.type}`);return o=Ce(this,Xi,n.response),o}switch(n.type){case"response.output_item.added":{o.output.push(n.item);break}case"response.content_part.added":{const r=o.output[n.output_index];if(!r)throw new Se(`missing output at index ${n.output_index}`);const a=r.type,u=n.part;a==="message"&&u.type!=="reasoning_text"?r.content.push(u):a==="reasoning"&&u.type==="reasoning_text"&&(r.content||(r.content=[]),r.content.push(u));break}case"response.output_text.delta":{const r=o.output[n.output_index];if(!r)throw new Se(`missing output at index ${n.output_index}`);if(r.type==="message"){const a=r.content[n.content_index];if(!a)throw new Se(`missing content at index ${n.content_index}`);if(a.type!=="output_text")throw new Se(`expected content to be 'output_text', got ${a.type}`);a.text+=n.delta}break}case"response.function_call_arguments.delta":{const r=o.output[n.output_index];if(!r)throw new Se(`missing output at index ${n.output_index}`);r.type==="function_call"&&(r.arguments+=n.delta);break}case"response.reasoning_text.delta":{const r=o.output[n.output_index];if(!r)throw new Se(`missing output at index ${n.output_index}`);if(r.type==="reasoning"){const a=r.content?.[n.content_index];if(!a)throw new Se(`missing content at index ${n.content_index}`);if(a.type!=="reasoning_text")throw new Se(`expected content to be 'reasoning_text', got ${a.type}`);a.text+=n.delta}break}case"response.completed":{Ce(this,Xi,n.response);break}}return o},Symbol.asyncIterator)](){const e=[],n=[];let o=!1;return this.on("event",r=>{const a=n.shift();a?a.resolve(r):e.push(r)}),this.on("end",()=>{o=!0;for(const r of n)r.resolve(void 0);n.length=0}),this.on("abort",r=>{o=!0;for(const a of n)a.reject(r);n.length=0}),this.on("error",r=>{o=!0;for(const a of n)a.reject(r);n.length=0}),{next:async()=>e.length?{value:e.shift(),done:!1}:o?{value:void 0,done:!0}:new Promise((a,u)=>n.push({resolve:a,reject:u})).then(a=>a?{value:a,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}async finalResponse(){await this.done();const e=V(this,Pf,"f");if(!e)throw new Se("stream ended without producing a ChatCompletion");return e}}function q4(t,e){return F4(t,e)}class EI extends ye{list(e,n={},o){return this._client.getAPIList(ie`/responses/${e}/input_items`,gt,{query:n,...o})}}class wI extends ye{count(e={},n){return this._client.post("/responses/input_tokens",{body:e,...n})}}class Eh extends ye{constructor(){super(...arguments),this.inputItems=new EI(this._client),this.inputTokens=new wI(this._client)}create(e,n){return this._client.post("/responses",{body:e,...n,stream:e.stream??!1})._thenUnwrap(o=>("object"in o&&o.object==="response"&&Vv(o),o))}retrieve(e,n={},o){return this._client.get(ie`/responses/${e}`,{query:n,...o,stream:n?.stream??!1})._thenUnwrap(r=>("object"in r&&r.object==="response"&&Vv(r),r))}delete(e,n){return this._client.delete(ie`/responses/${e}`,{...n,headers:pe([{Accept:"*/*"},n?.headers])})}parse(e,n){return this._client.responses.create(e,n)._thenUnwrap(o=>bI(o,e))}stream(e,n){return c_.createResponse(this._client,e,n)}cancel(e,n){return this._client.post(ie`/responses/${e}/cancel`,n)}compact(e={},n){return this._client.post("/responses/compact",{body:e,...n})}}Eh.InputItems=EI;Eh.InputTokens=wI;class CI extends ye{create(e,n,o){return this._client.post(ie`/uploads/${e}/parts`,Wr({body:n,...o},this._client))}}class f_ extends ye{constructor(){super(...arguments),this.parts=new CI(this._client)}create(e,n){return this._client.post("/uploads",{body:e,...n})}cancel(e,n){return this._client.post(ie`/uploads/${e}/cancel`,n)}complete(e,n,o){return this._client.post(ie`/uploads/${e}/complete`,{body:n,...o})}}f_.Parts=CI;const J4=async t=>{const e=await Promise.allSettled(t),n=e.filter(r=>r.status==="rejected");if(n.length){for(const r of n)console.error(r.reason);throw new Error(`${n.length} promise(s) failed - see the above errors`)}const o=[];for(const r of e)r.status==="fulfilled"&&o.push(r.value);return o};class TI extends ye{create(e,n,o){return this._client.post(ie`/vector_stores/${e}/file_batches`,{body:n,...o,headers:pe([{"OpenAI-Beta":"assistants=v2"},o?.headers])})}retrieve(e,n,o){const{vector_store_id:r}=n;return this._client.get(ie`/vector_stores/${r}/file_batches/${e}`,{...o,headers:pe([{"OpenAI-Beta":"assistants=v2"},o?.headers])})}cancel(e,n,o){const{vector_store_id:r}=n;return this._client.post(ie`/vector_stores/${r}/file_batches/${e}/cancel`,{...o,headers:pe([{"OpenAI-Beta":"assistants=v2"},o?.headers])})}async createAndPoll(e,n,o){const r=await this.create(e,n);return await this.poll(e,r.id,o)}listFiles(e,n,o){const{vector_store_id:r,...a}=n;return this._client.getAPIList(ie`/vector_stores/${r}/file_batches/${e}/files`,gt,{query:a,...o,headers:pe([{"OpenAI-Beta":"assistants=v2"},o?.headers])})}async poll(e,n,o){const r=pe([o?.headers,{"X-Stainless-Poll-Helper":"true","X-Stainless-Custom-Poll-Interval":o?.pollIntervalMs?.toString()??void 0}]);for(;;){const{data:a,response:u}=await this.retrieve(n,{vector_store_id:e},{...o,headers:r}).withResponse();switch(a.status){case"in_progress":let c=5e3;if(o?.pollIntervalMs)c=o.pollIntervalMs;else{const h=u.headers.get("openai-poll-after-ms");if(h){const d=parseInt(h);isNaN(d)||(c=d)}}await Lu(c);break;case"failed":case"cancelled":case"completed":return a}}}async uploadAndPoll(e,{files:n,fileIds:o=[]},r){if(n==null||n.length==0)throw new Error("No `files` provided to process. If you've already uploaded files you should use `.createAndPoll()` instead");const a=r?.maxConcurrency??5,u=Math.min(a,n.length),c=this._client,h=n.values(),d=[...o];async function m(S){for(let b of S){const T=await c.files.create({file:b,purpose:"assistants"},r);d.push(T.id)}}const y=Array(u).fill(h).map(m);return await J4(y),await this.createAndPoll(e,{file_ids:d})}}class AI extends ye{create(e,n,o){return this._client.post(ie`/vector_stores/${e}/files`,{body:n,...o,headers:pe([{"OpenAI-Beta":"assistants=v2"},o?.headers])})}retrieve(e,n,o){const{vector_store_id:r}=n;return this._client.get(ie`/vector_stores/${r}/files/${e}`,{...o,headers:pe([{"OpenAI-Beta":"assistants=v2"},o?.headers])})}update(e,n,o){const{vector_store_id:r,...a}=n;return this._client.post(ie`/vector_stores/${r}/files/${e}`,{body:a,...o,headers:pe([{"OpenAI-Beta":"assistants=v2"},o?.headers])})}list(e,n={},o){return this._client.getAPIList(ie`/vector_stores/${e}/files`,gt,{query:n,...o,headers:pe([{"OpenAI-Beta":"assistants=v2"},o?.headers])})}delete(e,n,o){const{vector_store_id:r}=n;return this._client.delete(ie`/vector_stores/${r}/files/${e}`,{...o,headers:pe([{"OpenAI-Beta":"assistants=v2"},o?.headers])})}async createAndPoll(e,n,o){const r=await this.create(e,n,o);return await this.poll(e,r.id,o)}async poll(e,n,o){const r=pe([o?.headers,{"X-Stainless-Poll-Helper":"true","X-Stainless-Custom-Poll-Interval":o?.pollIntervalMs?.toString()??void 0}]);for(;;){const a=await this.retrieve(n,{vector_store_id:e},{...o,headers:r}).withResponse(),u=a.data;switch(u.status){case"in_progress":let c=5e3;if(o?.pollIntervalMs)c=o.pollIntervalMs;else{const h=a.response.headers.get("openai-poll-after-ms");if(h){const d=parseInt(h);isNaN(d)||(c=d)}}await Lu(c);break;case"failed":case"completed":return u}}}async upload(e,n,o){const r=await this._client.files.create({file:n,purpose:"assistants"},o);return this.create(e,{file_id:r.id},o)}async uploadAndPoll(e,n,o){const r=await this.upload(e,n,o);return await this.poll(e,r.id,o)}content(e,n,o){const{vector_store_id:r}=n;return this._client.getAPIList(ie`/vector_stores/${r}/files/${e}/content`,vh,{...o,headers:pe([{"OpenAI-Beta":"assistants=v2"},o?.headers])})}}class wh extends ye{constructor(){super(...arguments),this.files=new AI(this._client),this.fileBatches=new TI(this._client)}create(e,n){return this._client.post("/vector_stores",{body:e,...n,headers:pe([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}retrieve(e,n){return this._client.get(ie`/vector_stores/${e}`,{...n,headers:pe([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}update(e,n,o){return this._client.post(ie`/vector_stores/${e}`,{body:n,...o,headers:pe([{"OpenAI-Beta":"assistants=v2"},o?.headers])})}list(e={},n){return this._client.getAPIList("/vector_stores",gt,{query:e,...n,headers:pe([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}delete(e,n){return this._client.delete(ie`/vector_stores/${e}`,{...n,headers:pe([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}search(e,n,o){return this._client.getAPIList(ie`/vector_stores/${e}/search`,vh,{body:n,method:"post",...o,headers:pe([{"OpenAI-Beta":"assistants=v2"},o?.headers])})}}wh.Files=AI;wh.FileBatches=TI;class xI extends ye{create(e,n){return this._client.post("/videos",kT({body:e,...n},this._client))}retrieve(e,n){return this._client.get(ie`/videos/${e}`,n)}list(e={},n){return this._client.getAPIList("/videos",Nd,{query:e,...n})}delete(e,n){return this._client.delete(ie`/videos/${e}`,n)}downloadContent(e,n={},o){return this._client.get(ie`/videos/${e}/content`,{query:n,...o,headers:pe([{Accept:"application/binary"},o?.headers]),__binaryResponse:!0})}remix(e,n,o){return this._client.post(ie`/videos/${e}/remix`,kT({body:n,...o},this._client))}}var ia,RI,id;class MI extends ye{constructor(){super(...arguments),ia.add(this)}async unwrap(e,n,o=this._client.webhookSecret,r=300){return await this.verifySignature(e,n,o,r),JSON.parse(e)}async verifySignature(e,n,o=this._client.webhookSecret,r=300){if(typeof crypto>"u"||typeof crypto.subtle.importKey!="function"||typeof crypto.subtle.verify!="function")throw new Error("Webhook signature verification is only supported when the `crypto` global is defined");V(this,ia,"m",RI).call(this,o);const a=pe([n]).values,u=V(this,ia,"m",id).call(this,a,"webhook-signature"),c=V(this,ia,"m",id).call(this,a,"webhook-timestamp"),h=V(this,ia,"m",id).call(this,a,"webhook-id"),d=parseInt(c,10);if(isNaN(d))throw new $l("Invalid webhook timestamp format");const m=Math.floor(Date.now()/1e3);if(m-d>r)throw new $l("Webhook timestamp is too old");if(d>m+r)throw new $l("Webhook timestamp is too new");const y=u.split(" ").map(A=>A.startsWith("v1,")?A.substring(3):A),S=o.startsWith("whsec_")?Buffer.from(o.replace("whsec_",""),"base64"):Buffer.from(o,"utf-8"),b=h?`${h}.${c}.${e}`:`${c}.${e}`,T=await crypto.subtle.importKey("raw",S,{name:"HMAC",hash:"SHA-256"},!1,["verify"]);for(const A of y)try{const x=Buffer.from(A,"base64");if(await crypto.subtle.verify("HMAC",T,x,new TextEncoder().encode(b)))return}catch{continue}throw new $l("The given webhook signature does not match the expected signature")}}ia=new WeakSet,RI=function(e){if(typeof e!="string"||e.length===0)throw new Error("The webhook secret must either be set using the env var, OPENAI_WEBHOOK_SECRET, on the client class, OpenAI({ webhookSecret: '123' }), or passed to this function")},id=function(e,n){if(!e)throw new Error("Headers are required");const o=e.get(n);if(o==null)throw new Error(`Missing required header: ${n}`);return o};var zv,d_,rd,NI;class Ie{constructor({baseURL:e=Ys("OPENAI_BASE_URL"),apiKey:n=Ys("OPENAI_API_KEY"),organization:o=Ys("OPENAI_ORG_ID")??null,project:r=Ys("OPENAI_PROJECT_ID")??null,webhookSecret:a=Ys("OPENAI_WEBHOOK_SECRET")??null,...u}={}){if(zv.add(this),rd.set(this,void 0),this.completions=new rI(this),this.chat=new Zy(this),this.embeddings=new lI(this),this.files=new cI(this),this.images=new gI(this),this.audio=new Bu(this),this.moderations=new yI(this),this.models=new vI(this),this.fineTuning=new Da(this),this.graders=new u_(this),this.vectorStores=new wh(this),this.webhooks=new MI(this),this.beta=new Ia(this),this.batches=new WN(this),this.uploads=new f_(this),this.responses=new Eh(this),this.realtime=new bh(this),this.conversations=new o_(this),this.evals=new r_(this),this.containers=new n_(this),this.videos=new xI(this),n===void 0)throw new Se("Missing credentials. Please pass an `apiKey`, or set the `OPENAI_API_KEY` environment variable.");const c={apiKey:n,organization:o,project:r,webhookSecret:a,...u,baseURL:e||"https://api.openai.com/v1"};if(!c.dangerouslyAllowBrowser&&K3())throw new Se(`It looks like you're running in a browser-like environment.

This is disabled by default, as it risks exposing your secret API credentials to attackers.
If you understand the risks and have appropriate mitigations in place,
you can set the \`dangerouslyAllowBrowser\` option to \`true\`, e.g.,

new OpenAI({ apiKey, dangerouslyAllowBrowser: true });

https://help.openai.com/en/articles/5112595-best-practices-for-api-key-safety
`);this.baseURL=c.baseURL,this.timeout=c.timeout??d_.DEFAULT_TIMEOUT,this.logger=c.logger??console;const h="warn";this.logLevel=h,this.logLevel=OT(c.logLevel,"ClientOptions.logLevel",this)??OT(Ys("OPENAI_LOG"),"process.env['OPENAI_LOG']",this)??h,this.fetchOptions=c.fetchOptions,this.maxRetries=c.maxRetries??2,this.fetch=c.fetch??Q3(),Ce(this,rd,e4),this._options=c,this.apiKey=typeof n=="string"?n:"Missing Key",this.organization=o,this.project=r,this.webhookSecret=a}withOptions(e){return new this.constructor({...this._options,baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,organization:this.organization,project:this.project,webhookSecret:this.webhookSecret,...e})}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:e,nulls:n}){}async authHeaders(e){return pe([{Authorization:`Bearer ${this.apiKey}`}])}stringifyQuery(e){return s4(e,{arrayFormat:"brackets"})}getUserAgent(){return`${this.constructor.name}/JS ${na}`}defaultIdempotencyKey(){return`stainless-node-retry-${ZM()}`}makeStatusError(e,n,o,r){return Pt.generate(e,n,o,r)}async _callApiKey(){const e=this._options.apiKey;if(typeof e!="function")return!1;let n;try{n=await e()}catch(o){throw o instanceof Se?o:new Se(`Failed to get token from 'apiKey' function: ${o.message}`,{cause:o})}if(typeof n!="string"||!n)throw new Se(`Expected 'apiKey' function argument to return a string but it returned ${n}`);return this.apiKey=n,!0}buildURL(e,n,o){const r=!V(this,zv,"m",NI).call(this)&&o||this.baseURL,a=G3(e)?new URL(e):new URL(r+(r.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),u=this.defaultQuery();return V3(u)||(n={...u,...n}),typeof n=="object"&&n&&!Array.isArray(n)&&(a.search=this.stringifyQuery(n)),a.toString()}async prepareOptions(e){await this._callApiKey()}async prepareRequest(e,{url:n,options:o}){}get(e,n){return this.methodRequest("get",e,n)}post(e,n){return this.methodRequest("post",e,n)}patch(e,n){return this.methodRequest("patch",e,n)}put(e,n){return this.methodRequest("put",e,n)}delete(e,n){return this.methodRequest("delete",e,n)}methodRequest(e,n,o){return this.request(Promise.resolve(o).then(r=>({method:e,path:n,...r})))}request(e,n=null){return new gh(this,this.makeRequest(e,n,void 0))}async makeRequest(e,n,o){const r=await e,a=r.maxRetries??this.maxRetries;n==null&&(n=a),await this.prepareOptions(r);const{req:u,url:c,timeout:h}=await this.buildRequest(r,{retryCount:a-n});await this.prepareRequest(u,{url:c,options:r});const d="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),m=o===void 0?"":`, retryOf: ${o}`,y=Date.now();if(Dt(this).debug(`[${d}] sending request`,Lr({retryOfRequestLogID:o,method:r.method,url:c,options:r,headers:u.headers})),r.signal?.aborted)throw new $n;const S=new AbortController,b=await this.fetchWithTimeout(c,u,h,S).catch(Dv),T=Date.now();if(b instanceof globalThis.Error){const M=`retrying, ${n} attempts remaining`;if(r.signal?.aborted)throw new $n;const I=Iv(b)||/timed? ?out/i.test(String(b)+("cause"in b?String(b.cause):""));if(n)return Dt(this).info(`[${d}] connection ${I?"timed out":"failed"} - ${M}`),Dt(this).debug(`[${d}] connection ${I?"timed out":"failed"} (${M})`,Lr({retryOfRequestLogID:o,url:c,durationMs:T-y,message:b.message})),this.retryRequest(r,n,o??d);throw Dt(this).info(`[${d}] connection ${I?"timed out":"failed"} - error; no more retries left`),Dt(this).debug(`[${d}] connection ${I?"timed out":"failed"} (error; no more retries left)`,Lr({retryOfRequestLogID:o,url:c,durationMs:T-y,message:b.message})),I?new zy:new ph({cause:b})}const A=[...b.headers.entries()].filter(([M])=>M==="x-request-id").map(([M,I])=>", "+M+": "+JSON.stringify(I)).join(""),x=`[${d}${m}${A}] ${u.method} ${c} ${b.ok?"succeeded":"failed"} with status ${b.status} in ${T-y}ms`;if(!b.ok){const M=await this.shouldRetry(b);if(n&&M){const O=`retrying, ${n} attempts remaining`;return await Z3(b.body),Dt(this).info(`${x} - ${O}`),Dt(this).debug(`[${d}] response error (${O})`,Lr({retryOfRequestLogID:o,url:b.url,status:b.status,headers:b.headers,durationMs:T-y})),this.retryRequest(r,n,o??d,b.headers)}const I=M?"error; no more retries left":"error; not retryable";Dt(this).info(`${x} - ${I}`);const N=await b.text().catch(O=>Dv(O).message),D=J3(N),L=D?void 0:N;throw Dt(this).debug(`[${d}] response error (${I})`,Lr({retryOfRequestLogID:o,url:b.url,status:b.status,headers:b.headers,message:L,durationMs:Date.now()-y})),this.makeStatusError(b.status,D,L,b.headers)}return Dt(this).info(x),Dt(this).debug(`[${d}] response start`,Lr({retryOfRequestLogID:o,url:b.url,status:b.status,headers:b.headers,durationMs:T-y})),{response:b,options:r,controller:S,requestLogID:d,retryOfRequestLogID:o,startTime:y}}getAPIList(e,n,o){return this.requestAPIList(n,{method:"get",path:e,...o})}requestAPIList(e,n){const o=this.makeRequest(n,null,void 0);return new m4(this,o,e)}async fetchWithTimeout(e,n,o,r){const{signal:a,method:u,...c}=n||{};a&&a.addEventListener("abort",()=>r.abort());const h=setTimeout(()=>r.abort(),o),d=globalThis.ReadableStream&&c.body instanceof globalThis.ReadableStream||typeof c.body=="object"&&c.body!==null&&Symbol.asyncIterator in c.body,m={signal:r.signal,...d?{duplex:"half"}:{},method:"GET",...c};u&&(m.method=u.toUpperCase());try{return await this.fetch.call(void 0,e,m)}finally{clearTimeout(h)}}async shouldRetry(e){const n=e.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,n,o,r){let a;const u=r?.get("retry-after-ms");if(u){const h=parseFloat(u);Number.isNaN(h)||(a=h)}const c=r?.get("retry-after");if(c&&!a){const h=parseFloat(c);Number.isNaN(h)?a=Date.parse(c)-Date.now():a=h*1e3}if(!(a&&0<=a&&a<60*1e3)){const h=e.maxRetries??this.maxRetries;a=this.calculateDefaultRetryTimeoutMillis(n,h)}return await Lu(a),this.makeRequest(e,n-1,o)}calculateDefaultRetryTimeoutMillis(e,n){const a=n-e,u=Math.min(.5*Math.pow(2,a),8),c=1-Math.random()*.25;return u*c*1e3}async buildRequest(e,{retryCount:n=0}={}){const o={...e},{method:r,path:a,query:u,defaultBaseURL:c}=o,h=this.buildURL(a,u,c);"timeout"in o&&q3("timeout",o.timeout),o.timeout=o.timeout??this.timeout;const{bodyHeaders:d,body:m}=this.buildBody({options:o}),y=await this.buildHeaders({options:e,method:r,bodyHeaders:d,retryCount:n});return{req:{method:r,headers:y,...o.signal&&{signal:o.signal},...globalThis.ReadableStream&&m instanceof globalThis.ReadableStream&&{duplex:"half"},...m&&{body:m},...this.fetchOptions??{},...o.fetchOptions??{}},url:h,timeout:o.timeout}}async buildHeaders({options:e,method:n,bodyHeaders:o,retryCount:r}){let a={};this.idempotencyHeader&&n!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),a[this.idempotencyHeader]=e.idempotencyKey);const u=pe([a,{Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(r),...e.timeout?{"X-Stainless-Timeout":String(Math.trunc(e.timeout/1e3))}:{},...W3(),"OpenAI-Organization":this.organization,"OpenAI-Project":this.project},await this.authHeaders(e),this._options.defaultHeaders,o,e.headers]);return this.validateHeaders(u),u.values}buildBody({options:{body:e,headers:n}}){if(!e)return{bodyHeaders:void 0,body:void 0};const o=pe([n]);return ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof DataView||typeof e=="string"&&o.values.has("content-type")||globalThis.Blob&&e instanceof globalThis.Blob||e instanceof FormData||e instanceof URLSearchParams||globalThis.ReadableStream&&e instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:e}:typeof e=="object"&&(Symbol.asyncIterator in e||Symbol.iterator in e&&"next"in e&&typeof e.next=="function")?{bodyHeaders:void 0,body:dN(e)}:V(this,rd,"f").call(this,{body:e,headers:o})}}d_=Ie,rd=new WeakMap,zv=new WeakSet,NI=function(){return this.baseURL!=="https://api.openai.com/v1"};Ie.OpenAI=d_;Ie.DEFAULT_TIMEOUT=6e5;Ie.OpenAIError=Se;Ie.APIError=Pt;Ie.APIConnectionError=ph;Ie.APIConnectionTimeoutError=zy;Ie.APIUserAbortError=$n;Ie.NotFoundError=oN;Ie.ConflictError=iN;Ie.RateLimitError=sN;Ie.BadRequestError=eN;Ie.AuthenticationError=tN;Ie.InternalServerError=aN;Ie.PermissionDeniedError=nN;Ie.UnprocessableEntityError=rN;Ie.InvalidWebhookSignatureError=$l;Ie.toFile=S4;Ie.Completions=rI;Ie.Chat=Zy;Ie.Embeddings=lI;Ie.Files=cI;Ie.Images=gI;Ie.Audio=Bu;Ie.Moderations=yI;Ie.Models=vI;Ie.FineTuning=Da;Ie.Graders=u_;Ie.VectorStores=wh;Ie.Webhooks=MI;Ie.Beta=Ia;Ie.Batches=WN;Ie.Uploads=f_;Ie.Responses=Eh;Ie.Realtime=bh;Ie.Conversations=o_;Ie.Evals=r_;Ie.Containers=n_;Ie.Videos=xI;class WT extends Error{}const II=["gpt-4o-mini","gpt-5.1","gpt-5-mini","gpt-5-nano","gpt-5"];class Bd{static getApiKey=null;static setApiKey=null;static getClient(){const e=this.getApiKey?.()||"";if(!e)throw new WT("No OpenAI API key set");return new Ie({apiKey:e,dangerouslyAllowBrowser:!0})}static async txt2txt(e,n,o="gpt-4o-mini",r){try{const a=this.getClient(),u=[];n&&u.push({role:"system",content:n}),e&&u.push({role:"user",content:[{type:"input_text",text:e}]}),r&&console.log(r);const c={model:o,input:u};console.log("GPT Payload:",c);const d=(await a.responses.create(c)).output_text;return console.log("GPT Response TEXT:",{text:d}),d}catch(a){if(console.error("ChatGPT Error:",a),(a?.message||"").includes("Incorrect API key provided")||a instanceof WT){const c=window.prompt("Your OpenAI API key is missing or invalid. Please enter a valid key:");return c?this.setApiKey?.(c):console.warn("User did not provide a valid API key."),null}throw a}}}class K4{rootHandle=null;project=null;data={};constructor(e=null,n=null){this.rootHandle=e,this.project=n,Po(this)}async load(){if(this.rootHandle)try{const e={};for await(const n of this.rootHandle.values()){if(n.kind!=="directory")continue;const o=n.name,r=n,a={};for await(const u of r.values()){if(u.kind!=="directory")continue;const c=u.name,h=u,d=[];for await(const m of h.values()){if(m.kind!=="file"||!m.name.match(/\.(png|jpg|jpeg|webp|gif)$/i))continue;const y=m,S=`${o}/${c}/${y.name}`;d.push(new Y4(y,h,S,this))}a[c]=d}e[o]=a}Te(()=>{this.data=e})}catch(e){console.error("Error loading artbook:",e),Te(()=>{this.data={}})}}getTag(e){if(!e)return null;const n=e.split("/");if(n.length<3)return null;const[o,r,a]=n,u=this.data[o];if(!u)return null;const c=u[r];return c&&c.find(d=>d.handle.name===a)||null}log(){console.log(or(this))}getJson(){const e={};for(const[n,o]of Object.entries(this.data)){e[n]={};for(const[r,a]of Object.entries(o))e[n][r]=a.map(u=>u.handle.name)}return e}}class Y4{handle;folder;image;artInfo=null;path;artbook;constructor(e,n,o,r=null){this.handle=e,this.folder=n,this.image=new Hn(e,this.folder),this.path=o,this.artbook=r,Po(this)}async getArtInfo(){if(this.artInfo)return this.artInfo;try{const e=await Xr.create(this.folder,this.handle.name+".json");Te(()=>{this.artInfo=e})}catch(e){console.warn("Unable to load art info for:",this.handle.name,e)}return this.artInfo}}const Og=24;class j4{doc;fcpxml;resources;project;spine;timelineName;constructor(e="Test RESOLVE",n=1e4){this.timelineName=e,this.doc=document.implementation.createDocument("","",null),this.fcpxml=this.doc.createElement("fcpxml"),this.fcpxml.setAttribute("version","1.10"),this.doc.appendChild(this.fcpxml),this.resources=this.doc.createElement("resources"),this.fcpxml.appendChild(this.resources);const o=this.doc.createElement("format");o.setAttribute("id","r0"),o.setAttribute("name",`FFVideoFormat1080p${Og}`),o.setAttribute("frameDuration",`1/${Og}s`),o.setAttribute("width","1080"),o.setAttribute("height","1920"),this.resources.appendChild(o);const r=this.doc.createElement("library");this.fcpxml.appendChild(r);const a=this.doc.createElement("event");a.setAttribute("name","Auto Import"),r.appendChild(a),this.project=this.doc.createElement("project"),this.project.setAttribute("name",this.timelineName),a.appendChild(this.project);const u=this.doc.createElement("sequence");u.setAttribute("format","r0"),u.setAttribute("duration",`${n}/${Og}s`),u.setAttribute("tcStart","0/1s"),u.setAttribute("tcFormat","NDF"),this.project.appendChild(u),this.spine=this.doc.createElement("spine"),u.appendChild(this.spine);const c=this.doc.createElement("effect");c.setAttribute("uid",".../Generators.localized/Solids.localized/Vivid.localized/Vivid.motn"),c.setAttribute("name","Vivid"),c.setAttribute("id","r1"),this.resources.appendChild(c);const h=this.doc.createElement("effect");h.setAttribute("uid",".../Titles.localized/Lower Thirds.localized/Basic Lower Third.localized/Basic Lower Third.moti"),h.setAttribute("name","Basic Title"),h.setAttribute("id","r2"),this.resources.appendChild(h)}addAsset(e,n){const o=this.doc.createElement("asset");o.setAttribute("src",`file://localhost/${e.replace(/\\/g,"/")}`),o.setAttribute("name",n);const a=this.resources.children.length;return o.setAttribute("id",`r${a}`),this.resources.appendChild(o),o.getAttribute("id")}appendClip(e,n,o,r,a=0){const u=this.doc.createElement("video");u.setAttribute("start","1/24s"),u.setAttribute("ref",e),u.setAttribute("name",n),u.setAttribute("enabled","1"),u.setAttribute("lane",a.toString()),u.setAttribute("duration",`${o}/1s`),u.setAttribute("offset",`${r}/1s`),this.spine.appendChild(u)}appendText(e,n,o,r=3,a="Rich"){const u=this.doc.createElement("title");u.setAttribute("start","1/24s"),u.setAttribute("ref","r2"),u.setAttribute("name",a),u.setAttribute("lane",r.toString()),u.setAttribute("offset",`${o}/1s`),u.setAttribute("duration",`${n}/1s`),u.setAttribute("enabled","1");const c=this.doc.createElement("text");c.setAttribute("roll-up-height","0");const h=this.doc.createElement("text-style");h.setAttribute("ref","ts0"),h.textContent=e,c.appendChild(h),u.appendChild(c);const d=this.doc.createElement("text-style-def");d.setAttribute("id","ts0");const m=this.doc.createElement("text-style");m.setAttribute("fontSize","32"),m.setAttribute("italic","0"),m.setAttribute("fontColor","1 1 1 1"),m.setAttribute("bold","1"),m.setAttribute("lineSpacing","0"),m.setAttribute("font","Open Sans"),m.setAttribute("alignment","center"),m.setAttribute("strokeWidth","0"),m.setAttribute("strokeColor","0 0 0 1"),d.appendChild(m),u.appendChild(d);const y=this.doc.createElement("adjust-transform");y.setAttribute("scale","1 1"),y.setAttribute("anchor","0 0"),y.setAttribute("position","0 1"),u.appendChild(y),this.spine.appendChild(u)}getXmlString(){let n=new XMLSerializer().serializeToString(this.doc);return n=`<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE fcpxml>
`+n,n}log(){const n=/(>)(<)(\/*)/g;let o=this.getXmlString().replace(n,`$1\r
$2$3`),r=0;const a=o.split(`\r
`).map(u=>{let c="";u.match(/<\/\w/)&&(r-=1);for(let h=0;h<r;h++)c+="  ";return u.match(/<[^!?].*>[^<]*$/)&&(r+=1),c+u}).join(`\r
`);console.log(a)}async save(e){try{const o=await(await e.getFileHandle(this.timelineName+".xml",{create:!0})).createWritable();await o.write(this.getXmlString()),await o.close()}catch(n){console.error("Failed to save file",n)}}}const X4={tags:[],shotsjson:"",script:"",split_shots_prompt:{preset:"split_shots"}};class QT{folder;sceneJson=null;shots=[];project;is_generating_shotsjson=!1;is_generating_tags=!1;is_generating_all_shot_images=!1;split_shots_prompt=null;path="";constructor(e,n){this.folder=e,this.project=n,this.path="/SCENES/"+e.name,Po(this)}async load(){try{this.sceneJson=await Xr.create(this.folder,"sceneinfo.json",X4),this.shots=[];for await(const e of this.folder.values())if(e.kind==="directory"){const n=new ET(e,this);await n.load(),this.shots.push(n)}}catch(e){console.error("Error loading scene:",e),this.sceneJson=null,this.shots=[]}}removeTag(e){this.sceneJson?.data?.tags&&(this.sceneJson.data.tags=this.sceneJson.data.tags.filter(n=>n!==e),this.sceneJson.save())}async delete(){if(!this.project?.rootDirHandle){console.error("Cannot delete scene: project root not set");return}try{await(await this.project.rootDirHandle.getDirectoryHandle("SCENES")).removeEntry(this.folder.name,{recursive:!0}),Te(()=>{this.project&&(this.project.scenes=this.project.scenes.filter(n=>n!==this))})}catch(e){console.error("Failed to delete scene:",e)}}async createShot(e){if(!this.folder)return console.error("No scene folder available"),null;const n=this.shots.find(o=>o.folder.name===e);if(n)return n;try{const o=await this.folder.getDirectoryHandle(e,{create:!0}),r=new ET(o,this);return await r.load(),Te(()=>{const a=this.shots.findIndex(u=>u.folder.name.localeCompare(e)>0);a===-1?this.shots.push(r):this.shots.splice(a,0,r)}),r}catch(o){return console.error("Failed to create shot:",o),null}}get finishedShotsNum(){return this.shots.filter(e=>e.shotJson?.data?.finished).length}async generateShotsJson(){if(!this.sceneJson?.data?.script)return null;Te(()=>{this.is_generating_shotsjson=!0});const e=this.sceneJson.data.script,n=`
${this.project.workflows.split_scene_into_shots.prompt}

${this.sceneJson.data.split_prompt}

SCRIPT:
${e}
`,o=this.project.projinfo?.getField("workflows/split_scene_into_shots/system_message");try{return await Bd.txt2txt(n,o,this.project?.projinfo?.getField("workflows/split_scene_into_shots/model"))}catch(r){return console.error("Error generating shots JSON:",r),null}finally{Te(()=>{this.is_generating_shotsjson=!1})}}async createShotsFromShotsJson(){if(!this.sceneJson?.data?.shotsjson){console.warn("No shots JSON found in scene.");return}let e;try{e=JSON.parse(this.sceneJson.data.shotsjson)}catch(n){console.error("Invalid shots JSON:",n),alert("Error: The shots JSON is invalid. Please check the format.");return}for(const n of Object.keys(e)){const o=e[n];if(!o||typeof o!="object"){console.warn(`Skipping invalid shot data for key: ${n}`);continue}try{const r=await this.createShot(n);if(!r){console.error(`Failed to create shot ${n}`);continue}r.shotJson&&(Object.assign(r.shotJson.data,o),await r.shotJson.save())}catch(r){console.error(`Error creating shot ${n}:`,r)}}}log(){console.log(or(this))}getTags(){if(!this.sceneJson?.data?.tags||!this.project?.artbook)return[];const e=[];for(const n of this.sceneJson.data.tags){const o=this.project.artbook.getTag(n);o&&e.push(o)}return e}get tags(){return this.getTags()}async generateTags(){Te(()=>{this.is_generating_tags=!0});const e=`
${this.project?.projinfo?.data?.generate_tags_prompt}

SCRIPT:
${this.sceneJson?.data.script}

SHOTS JSON:
${this.sceneJson?.data.shotsjson}

REFS DICTIONARY:
${JSON.stringify(this.project?.artbook?.getJson(),null,2)}

`,n="You are a helpful assistant. Do not write explanations. ";try{const o=await Bd.txt2txt(e,n,this.project?.projinfo?.data.gpt_model);for(const r of o?.split(`
`)||[]){const a=r.trim();a&&(console.log("Adding Tag: ",a),this.addTag(a))}return o}catch(o){return console.error("Error generating tags:",o),null}finally{Te(()=>{this.is_generating_tags=!1})}}addTag(e){Te(()=>{this.sceneJson?.data.tags.includes(e)||(this.project?.artbook?.getTag(e)?(this.sceneJson?.data.tags.push(e),this.sceneJson?.save()):console.log("Tag not found: ",e))})}async generateAllShotImages(){Te(()=>{this.is_generating_all_shot_images=!0});const e=this.shots.filter(n=>!n.srcImage).map(n=>n.GenerateImage());await Promise.all(e),Te(()=>{this.is_generating_all_shot_images=!1})}async createResolveXML(){const e=new j4(this.folder.name);let n=1e3;for(const o of this.shots){let r="r1";if(o.srcImage){const u=this.project.projinfo?.getField("project_path")+o.srcImage.path;r=e.addAsset(u,o.folder.name)}if(o.videos.length>0){const u=this.project.projinfo?.getField("project_path")+o.videos[0].path,c=e.addAsset(u,o.folder.name);e.appendClip(c,o.folder.name,5,n,1)}e.appendClip(r,o.folder.name,5,n),e.appendText(this.folder.name+" "+o.folder.name,5,n),n+=5}e.log(),e.save(this.project.timelinesDirHandle)}}const qv=(t,e)=>e.some(n=>t instanceof n);let ZT,eA;function W4(){return ZT||(ZT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Q4(){return eA||(eA=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Jv=new WeakMap,Pg=new WeakMap,Ch=new WeakMap;function Z4(t){const e=new Promise((n,o)=>{const r=()=>{t.removeEventListener("success",a),t.removeEventListener("error",u)},a=()=>{n(Gr(t.result)),r()},u=()=>{o(t.error),r()};t.addEventListener("success",a),t.addEventListener("error",u)});return Ch.set(e,t),e}function e6(t){if(Jv.has(t))return;const e=new Promise((n,o)=>{const r=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",u),t.removeEventListener("abort",u)},a=()=>{n(),r()},u=()=>{o(t.error||new DOMException("AbortError","AbortError")),r()};t.addEventListener("complete",a),t.addEventListener("error",u),t.addEventListener("abort",u)});Jv.set(t,e)}let Kv={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Jv.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Gr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function DI(t){Kv=t(Kv)}function t6(t){return Q4().includes(t)?function(...e){return t.apply(Yv(this),e),Gr(this.request)}:function(...e){return Gr(t.apply(Yv(this),e))}}function n6(t){return typeof t=="function"?t6(t):(t instanceof IDBTransaction&&e6(t),qv(t,W4())?new Proxy(t,Kv):t)}function Gr(t){if(t instanceof IDBRequest)return Z4(t);if(Pg.has(t))return Pg.get(t);const e=n6(t);return e!==t&&(Pg.set(t,e),Ch.set(e,t)),e}const Yv=t=>Ch.get(t);function o6(t,e,{blocked:n,upgrade:o,blocking:r,terminated:a}={}){const u=indexedDB.open(t,e),c=Gr(u);return o&&u.addEventListener("upgradeneeded",h=>{o(Gr(u.result),h.oldVersion,h.newVersion,Gr(u.transaction),h)}),n&&u.addEventListener("blocked",h=>n(h.oldVersion,h.newVersion,h)),c.then(h=>{a&&h.addEventListener("close",()=>a()),r&&h.addEventListener("versionchange",d=>r(d.oldVersion,d.newVersion,d))}).catch(()=>{}),c}const i6=["get","getKey","getAll","getAllKeys","count"],r6=["put","add","delete","clear"],kg=new Map;function tA(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(kg.get(e))return kg.get(e);const n=e.replace(/FromIndex$/,""),o=e!==n,r=r6.includes(n);if(!(n in(o?IDBIndex:IDBObjectStore).prototype)||!(r||i6.includes(n)))return;const a=async function(u,...c){const h=this.transaction(u,r?"readwrite":"readonly");let d=h.store;return o&&(d=d.index(c.shift())),(await Promise.all([d[n](...c),r&&h.done]))[0]};return kg.set(e,a),a}DI(t=>({...t,get:(e,n,o)=>tA(e,n)||t.get(e,n,o),has:(e,n)=>!!tA(e,n)||t.has(e,n)}));const s6=["continue","continuePrimaryKey","advance"],nA={},jv=new WeakMap,OI=new WeakMap,a6={get(t,e){if(!s6.includes(e))return t[e];let n=nA[e];return n||(n=nA[e]=function(...o){jv.set(this,OI.get(this)[e](...o))}),n}};async function*l6(...t){let e=this;if(e instanceof IDBCursor||(e=await e.openCursor(...t)),!e)return;e=e;const n=new Proxy(e,a6);for(OI.set(n,e),Ch.set(n,Yv(e));e;)yield n,e=await(jv.get(n)||e.continue()),jv.delete(n)}function oA(t,e){return e===Symbol.asyncIterator&&qv(t,[IDBIndex,IDBObjectStore,IDBCursor])||e==="iterate"&&qv(t,[IDBIndex,IDBObjectStore])}DI(t=>({...t,get(e,n,o){return oA(e,n)?l6:t.get(e,n,o)},has(e,n){return oA(e,n)||t.has(e,n)}}));const u6="ShotMasterRE",kf="settings";class c6{db=null;data={id:"settings",lastOpenedFolder:null,recentFolders:[],api_keys:{}};constructor(){Po(this.data)}async getDB(){return this.db?this.db:(this.db=await o6(u6,1,{upgrade(e){e.objectStoreNames.contains(kf)||e.createObjectStore(kf,{keyPath:"id"})}}),this.db)}async load(){const n=await(await this.getDB()).get(kf,"settings");return n&&Te(()=>{Object.assign(this.data,n)}),this.data}async save(){const e=await this.getDB(),n=or(this.data);await e.put(kf,n)}async update(e){Te(()=>e(this.data)),await this.save()}}class f6{fileHandle;text="";scenes=new Map;project=null;constructor(e,n=null){this.fileHandle=e,this.project=n,Po(this,{},{autoBind:!0})}async load(){const e=await this.fileHandle.getFile();this.text=(await e.text()).replace(/\r\n/g,`
`),this.splitIntoScenes()}async save(){const e=await this.fileHandle.createWritable();await e.write(this.text),await e.close()}setText(e){this.text=e,this.splitIntoScenes()}splitIntoScenes(){this.scenes.clear();const e=/^SC_[^\n]{1,32}$/gm,n=[...this.text.matchAll(e)];if(n.length===0){this.scenes.set("",this.text);return}for(let o=0;o<n.length;o++){const r=n[o][0],a=n[o].index;if(o===0&&a>0){const h=this.text.slice(0,a);this.scenes.set("",h)}const u=o+1<n.length?n[o+1].index:this.text.length,c=this.text.slice(a,u);this.scenes.set(r,c)}}get sortedSceneKeys(){return Array.from(this.scenes.keys()).sort((e,n)=>e.localeCompare(n))}joinScenes(){let e="";for(const n of this.sortedSceneKeys)e+=this.scenes.get(n);return e}setSceneText(e,n){this.scenes.set(e,n),this.text=this.joinScenes(),this.splitIntoScenes()}async createScenes(){if(!this.project){console.error("Script has no project reference");return}for(const e of this.sortedSceneKeys){if(e==="")continue;const n=this.scenes.get(e)??"";try{const o=await this.project.createScene(e);if(!o){console.error(`Failed to create scene ${e}`);continue}o.sceneJson&&(o.sceneJson.data.script=n,await o.sceneJson.save())}catch(o){console.error(`Error creating scene ${e}:`,o)}}}}const d6={gpt_model:"gpt-4o-mini",describe_prompt:"        . ",generate_tags_prompt:`
     (SCRIPT)     (SHOTS JSON)        REFS DICTIONARY     .

     ,        ,      :
  ENV/ROOM1/Night.png
  CHAR/VICTOR/Portrait.png


  `,split_shot_prompt:`
       ,            json,     json   :
{
  "SHOT_010" : 
    {
    "prompt" : "     ", 
    "camera" : "focal length, shot type", 
    "action_description" : "     ", 
    },

}`,prompt_presets:{split_shots:{model:"gpt-4o",prompt:`
       ,            json,     json   :
{
  "SHOT_010" : 
    {
    "prompt" : "     ", 
    "camera" : "focal length, shot type", 
    "action_description" : "     ", 
    },

}`,system_message:"You are a helpful assistant. Always respond using ONLY valid JSON. Do not write explanations. Do not wrap the JSON in backticks. The entire response must be a valid JSON object."},generate_tags:{model:"gpt-4o",prompt:"Generate Tags ",system_message:"You are a tagger "}},workflows:{generate_shot_image:{model:"gemini-2.5-flash-image"},split_scene_into_shots:{model:"gpt-4o-mini",prompt:`
       ,            json,     json   :
{
  "SHOT_010" : 
    {
    "prompt" : "     ", 
    "camera" : "focal length, shot type", 
    "action_description" : "     ", 
    },

}`,system_message:"You are a helpful assistant. Always respond using ONLY valid JSON. Do not write explanations. Do not wrap the JSON in backticks. The entire response must be a valid JSON object."},generate_video_kling:{model:ut.options.img2video.model.v2_6,mode:ut.options.img2video.mode.std,duration:ut.options.img2video.duration.five},kling_motion_control:{mode:ut.options.motion_control.mode.std,character_orientation:ut.options.motion_control.character_orientation.image,keep_original_sound:ut.options.motion_control.keep_original_sound.no}}};class h6{rootDirHandle=null;scenes=[];artbook=null;script=null;userSettingsDB=new c6;projinfo=null;currentView={type:"none"};selectedScene=null;timelinesDirHandle=null;constructor(e=null){this.rootDirHandle=e,Po(this)}async loadFromFolder(e){e&&(this.rootDirHandle=e,this.timelinesDirHandle=await this.rootDirHandle.getDirectoryHandle("Timelines",{create:!0}),Te(async()=>{this.userSettingsDB.data.lastOpenedFolder=e,(await Promise.all(this.userSettingsDB.data.recentFolders.map(async o=>{try{return await o.isSameEntry(e)}catch{return!1}}))).includes(!0)||(this.userSettingsDB.data.recentFolders.push(e),this.userSettingsDB.data.recentFolders=this.userSettingsDB.data.recentFolders.slice(-5)),await this.userSettingsDB.save(),this.projinfo=await Xr.create(this.rootDirHandle,"projinfo.json",d6)}),await Promise.all([this.loadScenes(),this.loadArtbook(),this.loadScript()]))}async loadScenes(){if(this.rootDirHandle)try{const e=await this.rootDirHandle.getDirectoryHandle("SCENES",{create:!0}),n=[];for await(const o of e.values())if(o.kind==="directory"){const r=new QT(o,this);await r.load(),n.push(r)}Te(()=>{this.scenes=n})}catch(e){console.error("Error loading scenes:",e),Te(()=>{this.scenes=[]})}}async loadArtbook(){if(this.rootDirHandle)try{const e=await this.rootDirHandle.getDirectoryHandle("REFS",{create:!0}),n=new K4(e,this);await n.load(),Te(()=>{this.artbook=n})}catch(e){console.error("Error loading artbook:",e),Te(()=>{this.artbook=null})}}async loadScript(){if(this.rootDirHandle)try{const e=await this.rootDirHandle.getFileHandle("script.txt",{create:!0}),n=new f6(e,this);await n.load(),Te(()=>{this.script=n})}catch(e){console.error("Error loading script:",e),Te(()=>{this.script=null})}}async loadDB(){await this.userSettingsDB.load(),fi.getApiKey=()=>this.userSettingsDB.data.api_keys.Google_API_KEY||null,fi.setApiKey=async e=>{await this.userSettingsDB.update(n=>{n.api_keys.Google_API_KEY=e})},Bd.getApiKey=()=>this.userSettingsDB.data.api_keys.GPT_API_KEY||null,Bd.setApiKey=async e=>{await this.userSettingsDB.update(n=>{n.api_keys.GPT_API_KEY=e})},ut.getKeysDict=()=>({accessKey:this.userSettingsDB.data.api_keys.Kling_Acess_Key,secretKey:this.userSettingsDB.data.api_keys.Kling_Secret_Key})}async createScene(e){if(!this.rootDirHandle)return console.error("No project folder open"),null;const n=this.scenes.find(o=>o.folder.name===e);if(n)return n;try{const r=await(await this.rootDirHandle.getDirectoryHandle("SCENES",{create:!0})).getDirectoryHandle(e,{create:!0}),a=new QT(r,this);return await a.load(),Te(()=>{const u=this.scenes.findIndex(c=>c.folder.name.localeCompare(a.folder.name)>0);u===-1?this.scenes.push(a):this.scenes.splice(u,0,a)}),a}catch(o){return console.error("Failed to create scene:",o),null}}log(){console.log(or(this))}setView(e,n=null){this.currentView=e,this.selectedScene=n}get promptPresets(){return this.projinfo?this.projinfo.data.prompt_presets:{}}savePromptPreset(e){Te(()=>{this.projinfo&&(this.projinfo.data.prompt_presets[e.preset]=e,this.projinfo?.save())})}get workflows(){return this.projinfo?.data.workflows}updateWorkflow(e,n,o){Te(()=>{this.workflows[e][n]=o,this.projinfo?.save()})}download_asset(e,n){const o=document.createElement("a");o.href=e,o.download=n,document.body.appendChild(o),o.click(),document.body.removeChild(o)}}const p6=({onOpenFolder:t,recentFolders:e,onOpenRecent:n,project:o})=>{const r=[{name:"Open",onClick:t},{name:"Recent",subItems:e.length?e.map(c=>({name:c.name,onClick:()=>n(c)})):[{name:"No Recent"}]}],a=[{name:"Undo"},{name:"Redo"}],u=[{name:"About"}];return E.jsx(Hw,{expand:!0,children:E.jsxs(tR,{fluid:!0,children:[E.jsx(Hw.Brand,{children:"ShotMasterRT"}),E.jsxs(mF,{className:"me-auto",style:{userSelect:"none"},children:[E.jsx(Js,{title:"File",items:r}),E.jsx(Js,{title:"Edit",items:a}),E.jsx(Js,{title:"Help",items:u}),E.jsx(Js,{title:"Settings",onClick:()=>o.setView({type:"settings"})}),E.jsx(Js,{title:"Script",onClick:()=>o.setView({type:"script"})}),E.jsx(Js,{title:"Artbook",onClick:()=>o.setView({type:"artbook"})})]})]})})},m6=St(({scene:t})=>{const e=()=>{!t||!t.sceneJson||t.project?.setView({type:"scene"},t)},n=t.project?.selectedScene===t;return E.jsxs("li",{className:"d-flex justify-content-between align-items-center py-1 px-2",style:{cursor:"pointer"},onClick:e,children:[E.jsx("span",{className:n?"text-success":void 0,children:t.folder.name}),E.jsxs("span",{className:"text-muted",children:[t.finishedShotsNum," / ",t.shots.length]})]})}),Qe=({onClick:t,label:e="Click",className:n=""})=>E.jsx("button",{className:`btn btn-sm btn-outline-secondary ${n}`,onClick:t,children:e}),g6=St(({project:t})=>{if(!t)return E.jsx("div",{children:"No Project Opened"});const e=async()=>{const o=prompt("Enter new scene name");o&&await t.createScene(o)},n=t.rootDirHandle?.name||"No Project Opened";return E.jsxs("div",{style:{width:"200px",minWidth:"200px",borderRight:"1px solid #ced4da",padding:"10px",display:"flex",flexDirection:"column"},children:[E.jsx("h5",{style:{flexShrink:0,marginBottom:8},children:n}),E.jsx(Qe,{label:"+ Add Scene",onClick:e,className:"mb-2"}),E.jsx("ul",{className:"list-unstyled",style:{margin:0,padding:0,overflowY:"auto",maxHeight:"calc(100vh - 100px)"},children:t.scenes.map((o,r)=>E.jsx(m6,{scene:o},r))})]})});class Lf extends C.Component{constructor(e){super(e),this.state={value:e.value}}handleChange=e=>{const n=e.target.value;this.setState({value:n}),this.props.onChange(n)};render(){const{label:e}=this.props,{value:n}=this.state;return E.jsxs("div",{style:{display:"flex",alignItems:"center",marginBottom:12},children:[E.jsx("label",{style:{marginRight:8,minWidth:120},children:e}),E.jsx("input",{type:"text",value:n,onChange:this.handleChange,style:{flexGrow:1,padding:6}})]})}}const Fu=({label:t="Section",children:e,defaultCollapsed:n=!1,className:o="",headerExtra:r})=>{const[a,u]=C.useState(n);return E.jsxs("div",{className:`border rounded p-2 mb-2 ${o}`,children:[E.jsxs("div",{className:"d-flex align-items-center justify-content-between mb-0",children:[E.jsxs("div",{className:"d-flex align-items-center",children:[E.jsx("button",{className:"btn btn-sm ",onClick:()=>u(!a),children:a?"":""}),E.jsx("strong",{children:t})]}),r&&!a&&E.jsx("div",{children:r})]}),!a&&E.jsx("div",{className:"mt-2",children:e})]})},Xv=({label:t,initialText:e,onSave:n,onEdit:o,fitHeight:r=!1,headerExtra:a})=>{const[u,c]=C.useState(e),[h,d]=C.useState(e),[m,y]=C.useState(!1),[S,b]=C.useState(!1),T=C.useRef(null);C.useEffect(()=>{c(e),d(e),r&&T.current&&(T.current.style.height="auto",T.current.style.height=`${T.current.scrollHeight}px`)},[e,r]);const A=u!==h,x=N=>{c(N),o&&o(N)},M=async()=>{n&&(b(!0),await n(u),d(u),b(!1))};C.useEffect(()=>{if(!m||!A)return;const N=setTimeout(()=>M(),1e3);return()=>clearTimeout(N)},[u,m,A]),C.useEffect(()=>{r&&T.current&&(T.current.style.height="auto",T.current.style.height=`${T.current.scrollHeight}px`)},[u,r]);const I=E.jsxs("div",{className:"d-flex align-items-center gap-2",children:[a&&E.jsx(E.Fragment,{children:a}),E.jsx("button",{className:"btn btn-primary btn-sm",disabled:S||!A||!n,onClick:M,children:S?"Saving...":A?"Save*":"Save"}),E.jsxs("label",{className:"d-flex align-items-center gap-1 mb-0",children:[E.jsx("input",{type:"checkbox",checked:m,onChange:N=>y(N.target.checked)}),"Auto-save"]})]});return E.jsx(Fu,{label:t,headerExtra:I,children:E.jsx("textarea",{ref:T,className:"form-control",style:{fontFamily:"monospace",overflowY:"auto",maxHeight:"800px"},value:u,onChange:N=>x(N.target.value)})})},Sn=St(({localJson:t,field:e,fitHeight:n=!1,headerExtra:o})=>{if(!t)return;const r=async a=>{await t.updateField(e,a)};return E.jsx(Xv,{label:e,initialText:t.getField(e)??"",onSave:r,fitHeight:n,headerExtra:o})}),Ea=({tabs:t})=>{const e=Object.keys(t),[n,o]=C.useState(e[0]);return E.jsxs("div",{children:[E.jsx("ul",{className:"nav nav-tabs",children:e.map(r=>E.jsx("li",{className:"nav-item",children:E.jsx("button",{className:`nav-link ${n===r?"active":""}`,onClick:()=>o(r),children:r})},r))}),E.jsx("div",{className:"tab-content p-3 border border-top-0",children:E.jsx("div",{className:"tab-pane fade show active",children:t[n]})})]})};function v6({items:t,currentItem:e,onPicked:n,labelRenderer:o,className:r=""}){return E.jsxs(Ef,{className:r,children:[E.jsx(Ef.Toggle,{variant:"outline-secondary",size:"sm",children:o?o(e):String(e)}),E.jsx(Ef.Menu,{children:t.map((a,u)=>E.jsx(Ef.Item,{onClick:()=>n(a),children:o?o(a):String(a)},u))})]})}const y6=St(({project:t})=>{const{userSettingsDB:e}=t;if(!e)return null;const n=t.projinfo?{"  ":E.jsx(Sn,{localJson:t.projinfo,field:"split_shot_prompt",fitHeight:!0})," ":E.jsx(Sn,{localJson:t.projinfo,field:"generate_tags_prompt",fitHeight:!0})}:{};return E.jsxs("div",{style:{padding:20},children:[E.jsx("h3",{children:"API Keys"}),E.jsx(Qe,{onClick:()=>{t.log()},label:"LOG Project"}),E.jsx(Qe,{onClick:()=>{t.download_asset("assets/server.exe","server.exe")},label:"Download Server"}),E.jsx(Sn,{localJson:t.projinfo,field:"project_path",fitHeight:!0}),E.jsx(Lf,{label:"GPT API Key",value:e.data.api_keys.GPT_API_KEY||"",onChange:async o=>{await e.update(r=>{r.api_keys.GPT_API_KEY=o})}}),E.jsx(Lf,{label:"Google API Key",value:e.data.api_keys.Google_API_KEY||"",onChange:async o=>{await e.update(r=>{r.api_keys.Google_API_KEY=o})}}),E.jsx(Lf,{label:"Kling Acess Key",value:e.data.api_keys.Kling_Acess_Key||"",onChange:async o=>{await e.update(r=>{r.api_keys.Kling_Acess_Key=o})}}),E.jsx(Lf,{label:"Kling Secret Key",value:e.data.api_keys.Kling_Secret_Key||"",onChange:async o=>{await e.update(r=>{r.api_keys.Kling_Secret_Key=o})}}),E.jsx("div",{children:E.jsx(v6,{items:II,currentItem:t.projinfo?.data.gpt_model,onPicked:o=>{t.projinfo?.updateField("gpt_model",o)}})}),E.jsx("h2",{children:"Prompts"}),Object.keys(n).length>0&&E.jsx(Ea,{tabs:n})]})}),_6=St(({project:t})=>{if(!t.script)return E.jsx("div",{children:"No script loaded in project."});const e=async r=>{t.script.setText(r),await t.script.save()},n={};for(const r of t.script.sortedSceneKeys)n[r||"Intro"]=E.jsx(Xv,{label:r||"Intro",initialText:t.script.scenes.get(r),onSave:async a=>{t.script.setSceneText(r,a),await t.script.save()},fitHeight:!0});const o=async()=>{try{await t.script.createScenes(),alert("Scenes created successfully!")}catch(r){console.error("Error creating scenes:",r),alert("Failed to create scenes. See console for details.")}};return E.jsxs("div",{style:{padding:"1rem"},children:[E.jsx("h4",{children:"Script"}),E.jsx(Qe,{label:"Create Scenes from Script",onClick:o,className:"mb-2"}),E.jsx(Ea,{tabs:{"Full Script":E.jsx(Xv,{label:"Full Script",initialText:t.script.text,onSave:e,fitHeight:!0}),Scenes:E.jsx(Ea,{tabs:n})}})]})}),S6=St(({art:t,onClose:e})=>{const[n,o]=C.useState(null),[r,a]=C.useState(!0);C.useEffect(()=>{let c=!0,h=t;a(!0),o(null);async function d(){const m=await h.image.getUrlObject();if(!c||t!==h)return;o(m);const y=await h.getArtInfo();!c||t!==h||(h.artInfo=y,a(!1))}return d(),()=>{c=!1}},[t]);const u=t.handle.name;return r?E.jsx("div",{children:"Loading art info..."}):E.jsxs("div",{className:"art-info-card",style:{border:"1px solid #ccc",padding:"1rem",borderRadius:"8px"},children:[E.jsxs("div",{className:"card-header",style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[E.jsx("strong",{children:u}),E.jsx("button",{onClick:e,style:{cursor:"pointer",border:"none",background:"transparent",fontSize:"1.2rem"},children:""})]}),n?E.jsx("img",{src:n,className:"preview-img",style:{maxWidth:"1000px",width:"auto",maxHeight:"1000px",objectFit:"contain",borderRadius:"4px",display:"block",marginBottom:"1rem"}}):E.jsx("div",{style:{padding:"4rem",textAlign:"center"},children:E.jsx("span",{children:"Loading image..."})}),t.artInfo&&E.jsx(Sn,{localJson:t.artInfo,field:"prompt",fitHeight:!0})]})}),b6=St(({artbook:t})=>{const[e,n]=C.useState(null);if(!Object.keys(t.data).length)return E.jsx("div",{children:"No Artbook content found."});const o=({art:c})=>{const[h,d]=C.useState(null);return C.useEffect(()=>{let m=!0;return c.image.getUrlObject().then(y=>{m&&d(y)}),()=>{m=!1}},[c]),E.jsx(eR,{xs:6,md:3,lg:2,style:{marginBottom:"1rem"},children:E.jsxs(Sf,{onClick:()=>n(c),style:{cursor:"pointer"},children:[h?E.jsx(Sf.Img,{variant:"top",src:h}):E.jsx("div",{style:{padding:"2rem",textAlign:"center"},children:E.jsx(tM,{animation:"border"})}),E.jsx(Sf.Body,{children:E.jsx(Sf.Text,{style:{fontSize:"0.8rem"},children:c.handle.name})})]})})},r=(c,h)=>E.jsxs("div",{style:{marginBottom:"2rem"},children:[E.jsx("h5",{children:c}),E.jsx(eM,{children:h.map(d=>E.jsx(o,{art:d},d.handle.name))}),e&&h.includes(e)&&E.jsx("div",{style:{marginTop:"1rem"},children:E.jsx(S6,{art:e,onClose:()=>n(null)})})]},c),a=c=>E.jsxs("div",{style:{padding:"1rem"},children:[Object.entries(c).map(([h,d])=>r(h,d)),E.jsx("div",{style:{height:"500px"}})]}),u={};for(const c in t.data)u[c]=a(t.data[c]);return E.jsxs("div",{style:{padding:"1rem"},children:[E.jsx("h2",{className:"mb-3",children:"Artbook"}),E.jsx(Ea,{tabs:u})]})}),E6=St(({art:t,scene:e})=>{const[n,o]=C.useState(null);if(C.useEffect(()=>{t.getArtInfo();let a=!0;return(async()=>{const c=await t.image.getUrlObject();a&&o(c||null)})(),()=>{a=!1,t.image.revokeUrl()}},[t]),!n)return null;const r=()=>{e.removeTag(t.path)};return E.jsxs("div",{className:"d-flex align-items-center justify-content-between",children:[E.jsxs("div",{className:"d-flex align-items-center",children:[E.jsx("img",{src:n,alt:t.handle.name,style:{width:40,height:40,objectFit:"cover",marginRight:8}}),E.jsxs("div",{children:[E.jsx("div",{children:t.handle.name}),E.jsx("small",{className:"text-muted",children:t.path}),t.artInfo&&E.jsx("div",{children:E.jsx("small",{children:t.artInfo.data?.description||""})})]})]}),E.jsx(Qe,{onClick:r,label:"X"})]})}),w6=({art:t,onClick:e})=>{const[n,o]=C.useState("");return C.useEffect(()=>{let r=!0;return t.image.getUrlObject().then(a=>{r&&o(a)}),()=>{r=!1,t.image.revokeUrl()}},[t]),E.jsxs("div",{className:"px-2 py-1 hover-bg-light d-flex align-items-center",style:{cursor:"pointer",gap:6},onClick:e,children:[n&&E.jsx("img",{src:n,alt:t.handle.name,style:{width:36,height:36,objectFit:"cover",borderRadius:2}}),E.jsx("span",{children:t.handle.name})]})},h_=({onClick:t,label:e="Click",className:n="",is_loading:o=!1})=>E.jsx(Qe,{onClick:t,className:`${n} ${o?"disabled":""}`,label:E.jsxs("span",{className:"d-flex align-items-center justify-content-center",children:[E.jsx("span",{className:"spinner-border spinner-border-sm me-2",role:"status","aria-hidden":"true",style:{animation:o?void 0:"none",borderColor:o?void 0:"#6c757d"}}),E.jsx("span",{children:e})]})});function Fe(t,e,{checkForDefaultPrevented:n=!0}={}){return function(r){if(t?.(r),n===!1||!r.defaultPrevented)return e?.(r)}}function iA(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function Th(...t){return e=>{let n=!1;const o=t.map(r=>{const a=iA(r,e);return!n&&typeof a=="function"&&(n=!0),a});if(n)return()=>{for(let r=0;r<o.length;r++){const a=o[r];typeof a=="function"?a():iA(t[r],null)}}}}function nn(...t){return C.useCallback(Th(...t),t)}function $u(t,e=[]){let n=[];function o(a,u){const c=C.createContext(u),h=n.length;n=[...n,u];const d=y=>{const{scope:S,children:b,...T}=y,A=S?.[t]?.[h]||c,x=C.useMemo(()=>T,Object.values(T));return E.jsx(A.Provider,{value:x,children:b})};d.displayName=a+"Provider";function m(y,S){const b=S?.[t]?.[h]||c,T=C.useContext(b);if(T)return T;if(u!==void 0)return u;throw new Error(`\`${y}\` must be used within \`${a}\``)}return[d,m]}const r=()=>{const a=n.map(u=>C.createContext(u));return function(c){const h=c?.[t]||a;return C.useMemo(()=>({[`__scope${t}`]:{...c,[t]:h}}),[c,h])}};return r.scopeName=t,[o,C6(r,...e)]}function C6(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const o=t.map(r=>({useScope:r(),scopeName:r.scopeName}));return function(a){const u=o.reduce((c,{useScope:h,scopeName:d})=>{const y=h(a)[`__scope${d}`];return{...c,...y}},{});return C.useMemo(()=>({[`__scope${e.scopeName}`]:u}),[u])}};return n.scopeName=e.scopeName,n}var rr=globalThis?.document?C.useLayoutEffect:()=>{},T6=$A[" useInsertionEffect ".trim().toString()]||rr;function p_({prop:t,defaultProp:e,onChange:n=()=>{},caller:o}){const[r,a,u]=A6({defaultProp:e,onChange:n}),c=t!==void 0,h=c?t:r;{const m=C.useRef(t!==void 0);C.useEffect(()=>{const y=m.current;y!==c&&console.warn(`${o} is changing from ${y?"controlled":"uncontrolled"} to ${c?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),m.current=c},[c,o])}const d=C.useCallback(m=>{if(c){const y=x6(m)?m(t):m;y!==t&&u.current?.(y)}else a(m)},[c,t,a,u]);return[h,d]}function A6({defaultProp:t,onChange:e}){const[n,o]=C.useState(t),r=C.useRef(n),a=C.useRef(e);return T6(()=>{a.current=e},[e]),C.useEffect(()=>{r.current!==n&&(a.current?.(n),r.current=n)},[n,r]),[n,o,a]}function x6(t){return typeof t=="function"}function Fd(t){const e=R6(t),n=C.forwardRef((o,r)=>{const{children:a,...u}=o,c=C.Children.toArray(a),h=c.find(N6);if(h){const d=h.props.children,m=c.map(y=>y===h?C.Children.count(d)>1?C.Children.only(null):C.isValidElement(d)?d.props.children:null:y);return E.jsx(e,{...u,ref:r,children:C.isValidElement(d)?C.cloneElement(d,void 0,m):null})}return E.jsx(e,{...u,ref:r,children:a})});return n.displayName=`${t}.Slot`,n}function R6(t){const e=C.forwardRef((n,o)=>{const{children:r,...a}=n;if(C.isValidElement(r)){const u=D6(r),c=I6(a,r.props);return r.type!==C.Fragment&&(c.ref=o?Th(o,u):u),C.cloneElement(r,c)}return C.Children.count(r)>1?C.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var M6=Symbol("radix.slottable");function N6(t){return C.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===M6}function I6(t,e){const n={...e};for(const o in e){const r=t[o],a=e[o];/^on[A-Z]/.test(o)?r&&a?n[o]=(...c)=>{const h=a(...c);return r(...c),h}:r&&(n[o]=r):o==="style"?n[o]={...r,...a}:o==="className"&&(n[o]=[r,a].filter(Boolean).join(" "))}return{...t,...n}}function D6(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var O6=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Vt=O6.reduce((t,e)=>{const n=Fd(`Primitive.${e}`),o=C.forwardRef((r,a)=>{const{asChild:u,...c}=r,h=u?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),E.jsx(h,{...c,ref:a})});return o.displayName=`Primitive.${e}`,{...t,[e]:o}},{});function PI(t,e){t&&Qd.flushSync(()=>t.dispatchEvent(e))}function kI(t){const e=t+"CollectionProvider",[n,o]=$u(e),[r,a]=n(e,{collectionRef:{current:null},itemMap:new Map}),u=A=>{const{scope:x,children:M}=A,I=tt.useRef(null),N=tt.useRef(new Map).current;return E.jsx(r,{scope:x,itemMap:N,collectionRef:I,children:M})};u.displayName=e;const c=t+"CollectionSlot",h=Fd(c),d=tt.forwardRef((A,x)=>{const{scope:M,children:I}=A,N=a(c,M),D=nn(x,N.collectionRef);return E.jsx(h,{ref:D,children:I})});d.displayName=c;const m=t+"CollectionItemSlot",y="data-radix-collection-item",S=Fd(m),b=tt.forwardRef((A,x)=>{const{scope:M,children:I,...N}=A,D=tt.useRef(null),L=nn(x,D),U=a(m,M);return tt.useEffect(()=>(U.itemMap.set(D,{ref:D,...N}),()=>void U.itemMap.delete(D))),E.jsx(S,{[y]:"",ref:L,children:I})});b.displayName=m;function T(A){const x=a(t+"CollectionConsumer",A);return tt.useCallback(()=>{const I=x.collectionRef.current;if(!I)return[];const N=Array.from(I.querySelectorAll(`[${y}]`));return Array.from(x.itemMap.values()).sort((U,O)=>N.indexOf(U.ref.current)-N.indexOf(O.ref.current))},[x.collectionRef,x.itemMap])}return[{Provider:u,Slot:d,ItemSlot:b},T,o]}var P6=C.createContext(void 0);function LI(t){const e=C.useContext(P6);return t||e||"ltr"}function Do(t){const e=C.useRef(t);return C.useEffect(()=>{e.current=t}),C.useMemo(()=>(...n)=>e.current?.(...n),[])}function k6(t,e=globalThis?.document){const n=Do(t);C.useEffect(()=>{const o=r=>{r.key==="Escape"&&n(r)};return e.addEventListener("keydown",o,{capture:!0}),()=>e.removeEventListener("keydown",o,{capture:!0})},[n,e])}var L6="DismissableLayer",Wv="dismissableLayer.update",U6="dismissableLayer.pointerDownOutside",B6="dismissableLayer.focusOutside",rA,UI=C.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),BI=C.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:o,onPointerDownOutside:r,onFocusOutside:a,onInteractOutside:u,onDismiss:c,...h}=t,d=C.useContext(UI),[m,y]=C.useState(null),S=m?.ownerDocument??globalThis?.document,[,b]=C.useState({}),T=nn(e,O=>y(O)),A=Array.from(d.layers),[x]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),M=A.indexOf(x),I=m?A.indexOf(m):-1,N=d.layersWithOutsidePointerEventsDisabled.size>0,D=I>=M,L=H6(O=>{const q=O.target,J=[...d.branches].some(j=>j.contains(q));!D||J||(r?.(O),u?.(O),O.defaultPrevented||c?.())},S),U=G6(O=>{const q=O.target;[...d.branches].some(j=>j.contains(q))||(a?.(O),u?.(O),O.defaultPrevented||c?.())},S);return k6(O=>{I===d.layers.size-1&&(o?.(O),!O.defaultPrevented&&c&&(O.preventDefault(),c()))},S),C.useEffect(()=>{if(m)return n&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(rA=S.body.style.pointerEvents,S.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(m)),d.layers.add(m),sA(),()=>{n&&d.layersWithOutsidePointerEventsDisabled.size===1&&(S.body.style.pointerEvents=rA)}},[m,S,n,d]),C.useEffect(()=>()=>{m&&(d.layers.delete(m),d.layersWithOutsidePointerEventsDisabled.delete(m),sA())},[m,d]),C.useEffect(()=>{const O=()=>b({});return document.addEventListener(Wv,O),()=>document.removeEventListener(Wv,O)},[]),E.jsx(Vt.div,{...h,ref:T,style:{pointerEvents:N?D?"auto":"none":void 0,...t.style},onFocusCapture:Fe(t.onFocusCapture,U.onFocusCapture),onBlurCapture:Fe(t.onBlurCapture,U.onBlurCapture),onPointerDownCapture:Fe(t.onPointerDownCapture,L.onPointerDownCapture)})});BI.displayName=L6;var F6="DismissableLayerBranch",$6=C.forwardRef((t,e)=>{const n=C.useContext(UI),o=C.useRef(null),r=nn(e,o);return C.useEffect(()=>{const a=o.current;if(a)return n.branches.add(a),()=>{n.branches.delete(a)}},[n.branches]),E.jsx(Vt.div,{...t,ref:r})});$6.displayName=F6;function H6(t,e=globalThis?.document){const n=Do(t),o=C.useRef(!1),r=C.useRef(()=>{});return C.useEffect(()=>{const a=c=>{if(c.target&&!o.current){let h=function(){FI(U6,n,d,{discrete:!0})};const d={originalEvent:c};c.pointerType==="touch"?(e.removeEventListener("click",r.current),r.current=h,e.addEventListener("click",r.current,{once:!0})):h()}else e.removeEventListener("click",r.current);o.current=!1},u=window.setTimeout(()=>{e.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(u),e.removeEventListener("pointerdown",a),e.removeEventListener("click",r.current)}},[e,n]),{onPointerDownCapture:()=>o.current=!0}}function G6(t,e=globalThis?.document){const n=Do(t),o=C.useRef(!1);return C.useEffect(()=>{const r=a=>{a.target&&!o.current&&FI(B6,n,{originalEvent:a},{discrete:!1})};return e.addEventListener("focusin",r),()=>e.removeEventListener("focusin",r)},[e,n]),{onFocusCapture:()=>o.current=!0,onBlurCapture:()=>o.current=!1}}function sA(){const t=new CustomEvent(Wv);document.dispatchEvent(t)}function FI(t,e,n,{discrete:o}){const r=n.originalEvent.target,a=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&r.addEventListener(t,e,{once:!0}),o?PI(r,a):r.dispatchEvent(a)}var Lg=0;function V6(){C.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??aA()),document.body.insertAdjacentElement("beforeend",t[1]??aA()),Lg++,()=>{Lg===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Lg--}},[])}function aA(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Ug="focusScope.autoFocusOnMount",Bg="focusScope.autoFocusOnUnmount",lA={bubbles:!1,cancelable:!0},z6="FocusScope",$I=C.forwardRef((t,e)=>{const{loop:n=!1,trapped:o=!1,onMountAutoFocus:r,onUnmountAutoFocus:a,...u}=t,[c,h]=C.useState(null),d=Do(r),m=Do(a),y=C.useRef(null),S=nn(e,A=>h(A)),b=C.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;C.useEffect(()=>{if(o){let A=function(N){if(b.paused||!c)return;const D=N.target;c.contains(D)?y.current=D:Wi(y.current,{select:!0})},x=function(N){if(b.paused||!c)return;const D=N.relatedTarget;D!==null&&(c.contains(D)||Wi(y.current,{select:!0}))},M=function(N){if(document.activeElement===document.body)for(const L of N)L.removedNodes.length>0&&Wi(c)};document.addEventListener("focusin",A),document.addEventListener("focusout",x);const I=new MutationObserver(M);return c&&I.observe(c,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",A),document.removeEventListener("focusout",x),I.disconnect()}}},[o,c,b.paused]),C.useEffect(()=>{if(c){cA.add(b);const A=document.activeElement;if(!c.contains(A)){const M=new CustomEvent(Ug,lA);c.addEventListener(Ug,d),c.dispatchEvent(M),M.defaultPrevented||(q6(X6(HI(c)),{select:!0}),document.activeElement===A&&Wi(c))}return()=>{c.removeEventListener(Ug,d),setTimeout(()=>{const M=new CustomEvent(Bg,lA);c.addEventListener(Bg,m),c.dispatchEvent(M),M.defaultPrevented||Wi(A??document.body,{select:!0}),c.removeEventListener(Bg,m),cA.remove(b)},0)}}},[c,d,m,b]);const T=C.useCallback(A=>{if(!n&&!o||b.paused)return;const x=A.key==="Tab"&&!A.altKey&&!A.ctrlKey&&!A.metaKey,M=document.activeElement;if(x&&M){const I=A.currentTarget,[N,D]=J6(I);N&&D?!A.shiftKey&&M===D?(A.preventDefault(),n&&Wi(N,{select:!0})):A.shiftKey&&M===N&&(A.preventDefault(),n&&Wi(D,{select:!0})):M===I&&A.preventDefault()}},[n,o,b.paused]);return E.jsx(Vt.div,{tabIndex:-1,...u,ref:S,onKeyDown:T})});$I.displayName=z6;function q6(t,{select:e=!1}={}){const n=document.activeElement;for(const o of t)if(Wi(o,{select:e}),document.activeElement!==n)return}function J6(t){const e=HI(t),n=uA(e,t),o=uA(e.reverse(),t);return[n,o]}function HI(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:o=>{const r=o.tagName==="INPUT"&&o.type==="hidden";return o.disabled||o.hidden||r?NodeFilter.FILTER_SKIP:o.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function uA(t,e){for(const n of t)if(!K6(n,{upTo:e}))return n}function K6(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function Y6(t){return t instanceof HTMLInputElement&&"select"in t}function Wi(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&Y6(t)&&e&&t.select()}}var cA=j6();function j6(){let t=[];return{add(e){const n=t[0];e!==n&&n?.pause(),t=fA(t,e),t.unshift(e)},remove(e){t=fA(t,e),t[0]?.resume()}}}function fA(t,e){const n=[...t],o=n.indexOf(e);return o!==-1&&n.splice(o,1),n}function X6(t){return t.filter(e=>e.tagName!=="A")}var W6=$A[" useId ".trim().toString()]||(()=>{}),Q6=0;function du(t){const[e,n]=C.useState(W6());return rr(()=>{n(o=>o??String(Q6++))},[t]),t||(e?`radix-${e}`:"")}const Z6=["top","right","bottom","left"],sr=Math.min,vn=Math.max,$d=Math.round,Uf=Math.floor,Io=t=>({x:t,y:t}),e5={left:"right",right:"left",bottom:"top",top:"bottom"},t5={start:"end",end:"start"};function Qv(t,e,n){return vn(t,sr(e,n))}function vi(t,e){return typeof t=="function"?t(e):t}function yi(t){return t.split("-")[0]}function Oa(t){return t.split("-")[1]}function m_(t){return t==="x"?"y":"x"}function g_(t){return t==="y"?"height":"width"}const n5=new Set(["top","bottom"]);function To(t){return n5.has(yi(t))?"y":"x"}function v_(t){return m_(To(t))}function o5(t,e,n){n===void 0&&(n=!1);const o=Oa(t),r=v_(t),a=g_(r);let u=r==="x"?o===(n?"end":"start")?"right":"left":o==="start"?"bottom":"top";return e.reference[a]>e.floating[a]&&(u=Hd(u)),[u,Hd(u)]}function i5(t){const e=Hd(t);return[Zv(t),e,Zv(e)]}function Zv(t){return t.replace(/start|end/g,e=>t5[e])}const dA=["left","right"],hA=["right","left"],r5=["top","bottom"],s5=["bottom","top"];function a5(t,e,n){switch(t){case"top":case"bottom":return n?e?hA:dA:e?dA:hA;case"left":case"right":return e?r5:s5;default:return[]}}function l5(t,e,n,o){const r=Oa(t);let a=a5(yi(t),n==="start",o);return r&&(a=a.map(u=>u+"-"+r),e&&(a=a.concat(a.map(Zv)))),a}function Hd(t){return t.replace(/left|right|bottom|top/g,e=>e5[e])}function u5(t){return{top:0,right:0,bottom:0,left:0,...t}}function GI(t){return typeof t!="number"?u5(t):{top:t,right:t,bottom:t,left:t}}function Gd(t){const{x:e,y:n,width:o,height:r}=t;return{width:o,height:r,top:n,left:e,right:e+o,bottom:n+r,x:e,y:n}}function pA(t,e,n){let{reference:o,floating:r}=t;const a=To(e),u=v_(e),c=g_(u),h=yi(e),d=a==="y",m=o.x+o.width/2-r.width/2,y=o.y+o.height/2-r.height/2,S=o[c]/2-r[c]/2;let b;switch(h){case"top":b={x:m,y:o.y-r.height};break;case"bottom":b={x:m,y:o.y+o.height};break;case"right":b={x:o.x+o.width,y};break;case"left":b={x:o.x-r.width,y};break;default:b={x:o.x,y:o.y}}switch(Oa(e)){case"start":b[u]-=S*(n&&d?-1:1);break;case"end":b[u]+=S*(n&&d?-1:1);break}return b}const c5=async(t,e,n)=>{const{placement:o="bottom",strategy:r="absolute",middleware:a=[],platform:u}=n,c=a.filter(Boolean),h=await(u.isRTL==null?void 0:u.isRTL(e));let d=await u.getElementRects({reference:t,floating:e,strategy:r}),{x:m,y}=pA(d,o,h),S=o,b={},T=0;for(let A=0;A<c.length;A++){const{name:x,fn:M}=c[A],{x:I,y:N,data:D,reset:L}=await M({x:m,y,initialPlacement:o,placement:S,strategy:r,middlewareData:b,rects:d,platform:u,elements:{reference:t,floating:e}});m=I??m,y=N??y,b={...b,[x]:{...b[x],...D}},L&&T<=50&&(T++,typeof L=="object"&&(L.placement&&(S=L.placement),L.rects&&(d=L.rects===!0?await u.getElementRects({reference:t,floating:e,strategy:r}):L.rects),{x:m,y}=pA(d,S,h)),A=-1)}return{x:m,y,placement:S,strategy:r,middlewareData:b}};async function hu(t,e){var n;e===void 0&&(e={});const{x:o,y:r,platform:a,rects:u,elements:c,strategy:h}=t,{boundary:d="clippingAncestors",rootBoundary:m="viewport",elementContext:y="floating",altBoundary:S=!1,padding:b=0}=vi(e,t),T=GI(b),x=c[S?y==="floating"?"reference":"floating":y],M=Gd(await a.getClippingRect({element:(n=await(a.isElement==null?void 0:a.isElement(x)))==null||n?x:x.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(c.floating)),boundary:d,rootBoundary:m,strategy:h})),I=y==="floating"?{x:o,y:r,width:u.floating.width,height:u.floating.height}:u.reference,N=await(a.getOffsetParent==null?void 0:a.getOffsetParent(c.floating)),D=await(a.isElement==null?void 0:a.isElement(N))?await(a.getScale==null?void 0:a.getScale(N))||{x:1,y:1}:{x:1,y:1},L=Gd(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:I,offsetParent:N,strategy:h}):I);return{top:(M.top-L.top+T.top)/D.y,bottom:(L.bottom-M.bottom+T.bottom)/D.y,left:(M.left-L.left+T.left)/D.x,right:(L.right-M.right+T.right)/D.x}}const f5=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:o,placement:r,rects:a,platform:u,elements:c,middlewareData:h}=e,{element:d,padding:m=0}=vi(t,e)||{};if(d==null)return{};const y=GI(m),S={x:n,y:o},b=v_(r),T=g_(b),A=await u.getDimensions(d),x=b==="y",M=x?"top":"left",I=x?"bottom":"right",N=x?"clientHeight":"clientWidth",D=a.reference[T]+a.reference[b]-S[b]-a.floating[T],L=S[b]-a.reference[b],U=await(u.getOffsetParent==null?void 0:u.getOffsetParent(d));let O=U?U[N]:0;(!O||!await(u.isElement==null?void 0:u.isElement(U)))&&(O=c.floating[N]||a.floating[T]);const q=D/2-L/2,J=O/2-A[T]/2-1,j=sr(y[M],J),W=sr(y[I],J),re=j,oe=O-A[T]-W,ae=O/2-A[T]/2+q,de=Qv(re,ae,oe),F=!h.arrow&&Oa(r)!=null&&ae!==de&&a.reference[T]/2-(ae<re?j:W)-A[T]/2<0,Q=F?ae<re?ae-re:ae-oe:0;return{[b]:S[b]+Q,data:{[b]:de,centerOffset:ae-de-Q,...F&&{alignmentOffset:Q}},reset:F}}}),d5=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,o;const{placement:r,middlewareData:a,rects:u,initialPlacement:c,platform:h,elements:d}=e,{mainAxis:m=!0,crossAxis:y=!0,fallbackPlacements:S,fallbackStrategy:b="bestFit",fallbackAxisSideDirection:T="none",flipAlignment:A=!0,...x}=vi(t,e);if((n=a.arrow)!=null&&n.alignmentOffset)return{};const M=yi(r),I=To(c),N=yi(c)===c,D=await(h.isRTL==null?void 0:h.isRTL(d.floating)),L=S||(N||!A?[Hd(c)]:i5(c)),U=T!=="none";!S&&U&&L.push(...l5(c,A,T,D));const O=[c,...L],q=await hu(e,x),J=[];let j=((o=a.flip)==null?void 0:o.overflows)||[];if(m&&J.push(q[M]),y){const ae=o5(r,u,D);J.push(q[ae[0]],q[ae[1]])}if(j=[...j,{placement:r,overflows:J}],!J.every(ae=>ae<=0)){var W,re;const ae=(((W=a.flip)==null?void 0:W.index)||0)+1,de=O[ae];if(de&&(!(y==="alignment"?I!==To(de):!1)||j.every(ee=>To(ee.placement)===I?ee.overflows[0]>0:!0)))return{data:{index:ae,overflows:j},reset:{placement:de}};let F=(re=j.filter(Q=>Q.overflows[0]<=0).sort((Q,ee)=>Q.overflows[1]-ee.overflows[1])[0])==null?void 0:re.placement;if(!F)switch(b){case"bestFit":{var oe;const Q=(oe=j.filter(ee=>{if(U){const ne=To(ee.placement);return ne===I||ne==="y"}return!0}).map(ee=>[ee.placement,ee.overflows.filter(ne=>ne>0).reduce((ne,ce)=>ne+ce,0)]).sort((ee,ne)=>ee[1]-ne[1])[0])==null?void 0:oe[0];Q&&(F=Q);break}case"initialPlacement":F=c;break}if(r!==F)return{reset:{placement:F}}}return{}}}};function mA(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function gA(t){return Z6.some(e=>t[e]>=0)}const h5=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:o="referenceHidden",...r}=vi(t,e);switch(o){case"referenceHidden":{const a=await hu(e,{...r,elementContext:"reference"}),u=mA(a,n.reference);return{data:{referenceHiddenOffsets:u,referenceHidden:gA(u)}}}case"escaped":{const a=await hu(e,{...r,altBoundary:!0}),u=mA(a,n.floating);return{data:{escapedOffsets:u,escaped:gA(u)}}}default:return{}}}}},VI=new Set(["left","top"]);async function p5(t,e){const{placement:n,platform:o,elements:r}=t,a=await(o.isRTL==null?void 0:o.isRTL(r.floating)),u=yi(n),c=Oa(n),h=To(n)==="y",d=VI.has(u)?-1:1,m=a&&h?-1:1,y=vi(e,t);let{mainAxis:S,crossAxis:b,alignmentAxis:T}=typeof y=="number"?{mainAxis:y,crossAxis:0,alignmentAxis:null}:{mainAxis:y.mainAxis||0,crossAxis:y.crossAxis||0,alignmentAxis:y.alignmentAxis};return c&&typeof T=="number"&&(b=c==="end"?T*-1:T),h?{x:b*m,y:S*d}:{x:S*d,y:b*m}}const m5=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,o;const{x:r,y:a,placement:u,middlewareData:c}=e,h=await p5(e,t);return u===((n=c.offset)==null?void 0:n.placement)&&(o=c.arrow)!=null&&o.alignmentOffset?{}:{x:r+h.x,y:a+h.y,data:{...h,placement:u}}}}},g5=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:o,placement:r}=e,{mainAxis:a=!0,crossAxis:u=!1,limiter:c={fn:x=>{let{x:M,y:I}=x;return{x:M,y:I}}},...h}=vi(t,e),d={x:n,y:o},m=await hu(e,h),y=To(yi(r)),S=m_(y);let b=d[S],T=d[y];if(a){const x=S==="y"?"top":"left",M=S==="y"?"bottom":"right",I=b+m[x],N=b-m[M];b=Qv(I,b,N)}if(u){const x=y==="y"?"top":"left",M=y==="y"?"bottom":"right",I=T+m[x],N=T-m[M];T=Qv(I,T,N)}const A=c.fn({...e,[S]:b,[y]:T});return{...A,data:{x:A.x-n,y:A.y-o,enabled:{[S]:a,[y]:u}}}}}},v5=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:o,placement:r,rects:a,middlewareData:u}=e,{offset:c=0,mainAxis:h=!0,crossAxis:d=!0}=vi(t,e),m={x:n,y:o},y=To(r),S=m_(y);let b=m[S],T=m[y];const A=vi(c,e),x=typeof A=="number"?{mainAxis:A,crossAxis:0}:{mainAxis:0,crossAxis:0,...A};if(h){const N=S==="y"?"height":"width",D=a.reference[S]-a.floating[N]+x.mainAxis,L=a.reference[S]+a.reference[N]-x.mainAxis;b<D?b=D:b>L&&(b=L)}if(d){var M,I;const N=S==="y"?"width":"height",D=VI.has(yi(r)),L=a.reference[y]-a.floating[N]+(D&&((M=u.offset)==null?void 0:M[y])||0)+(D?0:x.crossAxis),U=a.reference[y]+a.reference[N]+(D?0:((I=u.offset)==null?void 0:I[y])||0)-(D?x.crossAxis:0);T<L?T=L:T>U&&(T=U)}return{[S]:b,[y]:T}}}},y5=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,o;const{placement:r,rects:a,platform:u,elements:c}=e,{apply:h=()=>{},...d}=vi(t,e),m=await hu(e,d),y=yi(r),S=Oa(r),b=To(r)==="y",{width:T,height:A}=a.floating;let x,M;y==="top"||y==="bottom"?(x=y,M=S===(await(u.isRTL==null?void 0:u.isRTL(c.floating))?"start":"end")?"left":"right"):(M=y,x=S==="end"?"top":"bottom");const I=A-m.top-m.bottom,N=T-m.left-m.right,D=sr(A-m[x],I),L=sr(T-m[M],N),U=!e.middlewareData.shift;let O=D,q=L;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(q=N),(o=e.middlewareData.shift)!=null&&o.enabled.y&&(O=I),U&&!S){const j=vn(m.left,0),W=vn(m.right,0),re=vn(m.top,0),oe=vn(m.bottom,0);b?q=T-2*(j!==0||W!==0?j+W:vn(m.left,m.right)):O=A-2*(re!==0||oe!==0?re+oe:vn(m.top,m.bottom))}await h({...e,availableWidth:q,availableHeight:O});const J=await u.getDimensions(c.floating);return T!==J.width||A!==J.height?{reset:{rects:!0}}:{}}}};function Ah(){return typeof window<"u"}function Pa(t){return zI(t)?(t.nodeName||"").toLowerCase():"#document"}function bn(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function ko(t){var e;return(e=(zI(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function zI(t){return Ah()?t instanceof Node||t instanceof bn(t).Node:!1}function uo(t){return Ah()?t instanceof Element||t instanceof bn(t).Element:!1}function Oo(t){return Ah()?t instanceof HTMLElement||t instanceof bn(t).HTMLElement:!1}function vA(t){return!Ah()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof bn(t).ShadowRoot}const _5=new Set(["inline","contents"]);function Hu(t){const{overflow:e,overflowX:n,overflowY:o,display:r}=co(t);return/auto|scroll|overlay|hidden|clip/.test(e+o+n)&&!_5.has(r)}const S5=new Set(["table","td","th"]);function b5(t){return S5.has(Pa(t))}const E5=[":popover-open",":modal"];function xh(t){return E5.some(e=>{try{return t.matches(e)}catch{return!1}})}const w5=["transform","translate","scale","rotate","perspective"],C5=["transform","translate","scale","rotate","perspective","filter"],T5=["paint","layout","strict","content"];function y_(t){const e=__(),n=uo(t)?co(t):t;return w5.some(o=>n[o]?n[o]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||C5.some(o=>(n.willChange||"").includes(o))||T5.some(o=>(n.contain||"").includes(o))}function A5(t){let e=ar(t);for(;Oo(e)&&!wa(e);){if(y_(e))return e;if(xh(e))return null;e=ar(e)}return null}function __(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const x5=new Set(["html","body","#document"]);function wa(t){return x5.has(Pa(t))}function co(t){return bn(t).getComputedStyle(t)}function Rh(t){return uo(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function ar(t){if(Pa(t)==="html")return t;const e=t.assignedSlot||t.parentNode||vA(t)&&t.host||ko(t);return vA(e)?e.host:e}function qI(t){const e=ar(t);return wa(e)?t.ownerDocument?t.ownerDocument.body:t.body:Oo(e)&&Hu(e)?e:qI(e)}function pu(t,e,n){var o;e===void 0&&(e=[]),n===void 0&&(n=!0);const r=qI(t),a=r===((o=t.ownerDocument)==null?void 0:o.body),u=bn(r);if(a){const c=ey(u);return e.concat(u,u.visualViewport||[],Hu(r)?r:[],c&&n?pu(c):[])}return e.concat(r,pu(r,[],n))}function ey(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function JI(t){const e=co(t);let n=parseFloat(e.width)||0,o=parseFloat(e.height)||0;const r=Oo(t),a=r?t.offsetWidth:n,u=r?t.offsetHeight:o,c=$d(n)!==a||$d(o)!==u;return c&&(n=a,o=u),{width:n,height:o,$:c}}function S_(t){return uo(t)?t:t.contextElement}function ha(t){const e=S_(t);if(!Oo(e))return Io(1);const n=e.getBoundingClientRect(),{width:o,height:r,$:a}=JI(e);let u=(a?$d(n.width):n.width)/o,c=(a?$d(n.height):n.height)/r;return(!u||!Number.isFinite(u))&&(u=1),(!c||!Number.isFinite(c))&&(c=1),{x:u,y:c}}const R5=Io(0);function KI(t){const e=bn(t);return!__()||!e.visualViewport?R5:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function M5(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==bn(t)?!1:e}function Qr(t,e,n,o){e===void 0&&(e=!1),n===void 0&&(n=!1);const r=t.getBoundingClientRect(),a=S_(t);let u=Io(1);e&&(o?uo(o)&&(u=ha(o)):u=ha(t));const c=M5(a,n,o)?KI(a):Io(0);let h=(r.left+c.x)/u.x,d=(r.top+c.y)/u.y,m=r.width/u.x,y=r.height/u.y;if(a){const S=bn(a),b=o&&uo(o)?bn(o):o;let T=S,A=ey(T);for(;A&&o&&b!==T;){const x=ha(A),M=A.getBoundingClientRect(),I=co(A),N=M.left+(A.clientLeft+parseFloat(I.paddingLeft))*x.x,D=M.top+(A.clientTop+parseFloat(I.paddingTop))*x.y;h*=x.x,d*=x.y,m*=x.x,y*=x.y,h+=N,d+=D,T=bn(A),A=ey(T)}}return Gd({width:m,height:y,x:h,y:d})}function Mh(t,e){const n=Rh(t).scrollLeft;return e?e.left+n:Qr(ko(t)).left+n}function YI(t,e){const n=t.getBoundingClientRect(),o=n.left+e.scrollLeft-Mh(t,n),r=n.top+e.scrollTop;return{x:o,y:r}}function N5(t){let{elements:e,rect:n,offsetParent:o,strategy:r}=t;const a=r==="fixed",u=ko(o),c=e?xh(e.floating):!1;if(o===u||c&&a)return n;let h={scrollLeft:0,scrollTop:0},d=Io(1);const m=Io(0),y=Oo(o);if((y||!y&&!a)&&((Pa(o)!=="body"||Hu(u))&&(h=Rh(o)),Oo(o))){const b=Qr(o);d=ha(o),m.x=b.x+o.clientLeft,m.y=b.y+o.clientTop}const S=u&&!y&&!a?YI(u,h):Io(0);return{width:n.width*d.x,height:n.height*d.y,x:n.x*d.x-h.scrollLeft*d.x+m.x+S.x,y:n.y*d.y-h.scrollTop*d.y+m.y+S.y}}function I5(t){return Array.from(t.getClientRects())}function D5(t){const e=ko(t),n=Rh(t),o=t.ownerDocument.body,r=vn(e.scrollWidth,e.clientWidth,o.scrollWidth,o.clientWidth),a=vn(e.scrollHeight,e.clientHeight,o.scrollHeight,o.clientHeight);let u=-n.scrollLeft+Mh(t);const c=-n.scrollTop;return co(o).direction==="rtl"&&(u+=vn(e.clientWidth,o.clientWidth)-r),{width:r,height:a,x:u,y:c}}const yA=25;function O5(t,e){const n=bn(t),o=ko(t),r=n.visualViewport;let a=o.clientWidth,u=o.clientHeight,c=0,h=0;if(r){a=r.width,u=r.height;const m=__();(!m||m&&e==="fixed")&&(c=r.offsetLeft,h=r.offsetTop)}const d=Mh(o);if(d<=0){const m=o.ownerDocument,y=m.body,S=getComputedStyle(y),b=m.compatMode==="CSS1Compat"&&parseFloat(S.marginLeft)+parseFloat(S.marginRight)||0,T=Math.abs(o.clientWidth-y.clientWidth-b);T<=yA&&(a-=T)}else d<=yA&&(a+=d);return{width:a,height:u,x:c,y:h}}const P5=new Set(["absolute","fixed"]);function k5(t,e){const n=Qr(t,!0,e==="fixed"),o=n.top+t.clientTop,r=n.left+t.clientLeft,a=Oo(t)?ha(t):Io(1),u=t.clientWidth*a.x,c=t.clientHeight*a.y,h=r*a.x,d=o*a.y;return{width:u,height:c,x:h,y:d}}function _A(t,e,n){let o;if(e==="viewport")o=O5(t,n);else if(e==="document")o=D5(ko(t));else if(uo(e))o=k5(e,n);else{const r=KI(t);o={x:e.x-r.x,y:e.y-r.y,width:e.width,height:e.height}}return Gd(o)}function jI(t,e){const n=ar(t);return n===e||!uo(n)||wa(n)?!1:co(n).position==="fixed"||jI(n,e)}function L5(t,e){const n=e.get(t);if(n)return n;let o=pu(t,[],!1).filter(c=>uo(c)&&Pa(c)!=="body"),r=null;const a=co(t).position==="fixed";let u=a?ar(t):t;for(;uo(u)&&!wa(u);){const c=co(u),h=y_(u);!h&&c.position==="fixed"&&(r=null),(a?!h&&!r:!h&&c.position==="static"&&!!r&&P5.has(r.position)||Hu(u)&&!h&&jI(t,u))?o=o.filter(m=>m!==u):r=c,u=ar(u)}return e.set(t,o),o}function U5(t){let{element:e,boundary:n,rootBoundary:o,strategy:r}=t;const u=[...n==="clippingAncestors"?xh(e)?[]:L5(e,this._c):[].concat(n),o],c=u[0],h=u.reduce((d,m)=>{const y=_A(e,m,r);return d.top=vn(y.top,d.top),d.right=sr(y.right,d.right),d.bottom=sr(y.bottom,d.bottom),d.left=vn(y.left,d.left),d},_A(e,c,r));return{width:h.right-h.left,height:h.bottom-h.top,x:h.left,y:h.top}}function B5(t){const{width:e,height:n}=JI(t);return{width:e,height:n}}function F5(t,e,n){const o=Oo(e),r=ko(e),a=n==="fixed",u=Qr(t,!0,a,e);let c={scrollLeft:0,scrollTop:0};const h=Io(0);function d(){h.x=Mh(r)}if(o||!o&&!a)if((Pa(e)!=="body"||Hu(r))&&(c=Rh(e)),o){const b=Qr(e,!0,a,e);h.x=b.x+e.clientLeft,h.y=b.y+e.clientTop}else r&&d();a&&!o&&r&&d();const m=r&&!o&&!a?YI(r,c):Io(0),y=u.left+c.scrollLeft-h.x-m.x,S=u.top+c.scrollTop-h.y-m.y;return{x:y,y:S,width:u.width,height:u.height}}function Fg(t){return co(t).position==="static"}function SA(t,e){if(!Oo(t)||co(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return ko(t)===n&&(n=n.ownerDocument.body),n}function XI(t,e){const n=bn(t);if(xh(t))return n;if(!Oo(t)){let r=ar(t);for(;r&&!wa(r);){if(uo(r)&&!Fg(r))return r;r=ar(r)}return n}let o=SA(t,e);for(;o&&b5(o)&&Fg(o);)o=SA(o,e);return o&&wa(o)&&Fg(o)&&!y_(o)?n:o||A5(t)||n}const $5=async function(t){const e=this.getOffsetParent||XI,n=this.getDimensions,o=await n(t.floating);return{reference:F5(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:o.width,height:o.height}}};function H5(t){return co(t).direction==="rtl"}const G5={convertOffsetParentRelativeRectToViewportRelativeRect:N5,getDocumentElement:ko,getClippingRect:U5,getOffsetParent:XI,getElementRects:$5,getClientRects:I5,getDimensions:B5,getScale:ha,isElement:uo,isRTL:H5};function WI(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function V5(t,e){let n=null,o;const r=ko(t);function a(){var c;clearTimeout(o),(c=n)==null||c.disconnect(),n=null}function u(c,h){c===void 0&&(c=!1),h===void 0&&(h=1),a();const d=t.getBoundingClientRect(),{left:m,top:y,width:S,height:b}=d;if(c||e(),!S||!b)return;const T=Uf(y),A=Uf(r.clientWidth-(m+S)),x=Uf(r.clientHeight-(y+b)),M=Uf(m),N={rootMargin:-T+"px "+-A+"px "+-x+"px "+-M+"px",threshold:vn(0,sr(1,h))||1};let D=!0;function L(U){const O=U[0].intersectionRatio;if(O!==h){if(!D)return u();O?u(!1,O):o=setTimeout(()=>{u(!1,1e-7)},1e3)}O===1&&!WI(d,t.getBoundingClientRect())&&u(),D=!1}try{n=new IntersectionObserver(L,{...N,root:r.ownerDocument})}catch{n=new IntersectionObserver(L,N)}n.observe(t)}return u(!0),a}function z5(t,e,n,o){o===void 0&&(o={});const{ancestorScroll:r=!0,ancestorResize:a=!0,elementResize:u=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:h=!1}=o,d=S_(t),m=r||a?[...d?pu(d):[],...pu(e)]:[];m.forEach(M=>{r&&M.addEventListener("scroll",n,{passive:!0}),a&&M.addEventListener("resize",n)});const y=d&&c?V5(d,n):null;let S=-1,b=null;u&&(b=new ResizeObserver(M=>{let[I]=M;I&&I.target===d&&b&&(b.unobserve(e),cancelAnimationFrame(S),S=requestAnimationFrame(()=>{var N;(N=b)==null||N.observe(e)})),n()}),d&&!h&&b.observe(d),b.observe(e));let T,A=h?Qr(t):null;h&&x();function x(){const M=Qr(t);A&&!WI(A,M)&&n(),A=M,T=requestAnimationFrame(x)}return n(),()=>{var M;m.forEach(I=>{r&&I.removeEventListener("scroll",n),a&&I.removeEventListener("resize",n)}),y?.(),(M=b)==null||M.disconnect(),b=null,h&&cancelAnimationFrame(T)}}const q5=m5,J5=g5,K5=d5,Y5=y5,j5=h5,bA=f5,X5=v5,W5=(t,e,n)=>{const o=new Map,r={platform:G5,...n},a={...r.platform,_c:o};return c5(t,e,{...r,platform:a})};var Q5=typeof document<"u",Z5=function(){},sd=Q5?C.useLayoutEffect:Z5;function Vd(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,o,r;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(o=n;o--!==0;)if(!Vd(t[o],e[o]))return!1;return!0}if(r=Object.keys(t),n=r.length,n!==Object.keys(e).length)return!1;for(o=n;o--!==0;)if(!{}.hasOwnProperty.call(e,r[o]))return!1;for(o=n;o--!==0;){const a=r[o];if(!(a==="_owner"&&t.$$typeof)&&!Vd(t[a],e[a]))return!1}return!0}return t!==t&&e!==e}function QI(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function EA(t,e){const n=QI(t);return Math.round(e*n)/n}function $g(t){const e=C.useRef(t);return sd(()=>{e.current=t}),e}function e8(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:o=[],platform:r,elements:{reference:a,floating:u}={},transform:c=!0,whileElementsMounted:h,open:d}=t,[m,y]=C.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[S,b]=C.useState(o);Vd(S,o)||b(o);const[T,A]=C.useState(null),[x,M]=C.useState(null),I=C.useCallback(ee=>{ee!==U.current&&(U.current=ee,A(ee))},[]),N=C.useCallback(ee=>{ee!==O.current&&(O.current=ee,M(ee))},[]),D=a||T,L=u||x,U=C.useRef(null),O=C.useRef(null),q=C.useRef(m),J=h!=null,j=$g(h),W=$g(r),re=$g(d),oe=C.useCallback(()=>{if(!U.current||!O.current)return;const ee={placement:e,strategy:n,middleware:S};W.current&&(ee.platform=W.current),W5(U.current,O.current,ee).then(ne=>{const ce={...ne,isPositioned:re.current!==!1};ae.current&&!Vd(q.current,ce)&&(q.current=ce,Qd.flushSync(()=>{y(ce)}))})},[S,e,n,W,re]);sd(()=>{d===!1&&q.current.isPositioned&&(q.current.isPositioned=!1,y(ee=>({...ee,isPositioned:!1})))},[d]);const ae=C.useRef(!1);sd(()=>(ae.current=!0,()=>{ae.current=!1}),[]),sd(()=>{if(D&&(U.current=D),L&&(O.current=L),D&&L){if(j.current)return j.current(D,L,oe);oe()}},[D,L,oe,j,J]);const de=C.useMemo(()=>({reference:U,floating:O,setReference:I,setFloating:N}),[I,N]),F=C.useMemo(()=>({reference:D,floating:L}),[D,L]),Q=C.useMemo(()=>{const ee={position:n,left:0,top:0};if(!F.floating)return ee;const ne=EA(F.floating,m.x),ce=EA(F.floating,m.y);return c?{...ee,transform:"translate("+ne+"px, "+ce+"px)",...QI(F.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:ne,top:ce}},[n,c,F.floating,m.x,m.y]);return C.useMemo(()=>({...m,update:oe,refs:de,elements:F,floatingStyles:Q}),[m,oe,de,F,Q])}const t8=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:o,padding:r}=typeof t=="function"?t(n):t;return o&&e(o)?o.current!=null?bA({element:o.current,padding:r}).fn(n):{}:o?bA({element:o,padding:r}).fn(n):{}}}},n8=(t,e)=>({...q5(t),options:[t,e]}),o8=(t,e)=>({...J5(t),options:[t,e]}),i8=(t,e)=>({...X5(t),options:[t,e]}),r8=(t,e)=>({...K5(t),options:[t,e]}),s8=(t,e)=>({...Y5(t),options:[t,e]}),a8=(t,e)=>({...j5(t),options:[t,e]}),l8=(t,e)=>({...t8(t),options:[t,e]});var u8="Arrow",ZI=C.forwardRef((t,e)=>{const{children:n,width:o=10,height:r=5,...a}=t;return E.jsx(Vt.svg,{...a,ref:e,width:o,height:r,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:E.jsx("polygon",{points:"0,0 30,0 15,10"})})});ZI.displayName=u8;var c8=ZI;function f8(t){const[e,n]=C.useState(void 0);return rr(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const o=new ResizeObserver(r=>{if(!Array.isArray(r)||!r.length)return;const a=r[0];let u,c;if("borderBoxSize"in a){const h=a.borderBoxSize,d=Array.isArray(h)?h[0]:h;u=d.inlineSize,c=d.blockSize}else u=t.offsetWidth,c=t.offsetHeight;n({width:u,height:c})});return o.observe(t,{box:"border-box"}),()=>o.unobserve(t)}else n(void 0)},[t]),e}var b_="Popper",[eD,tD]=$u(b_),[d8,nD]=eD(b_),oD=t=>{const{__scopePopper:e,children:n}=t,[o,r]=C.useState(null);return E.jsx(d8,{scope:e,anchor:o,onAnchorChange:r,children:n})};oD.displayName=b_;var iD="PopperAnchor",rD=C.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:o,...r}=t,a=nD(iD,n),u=C.useRef(null),c=nn(e,u),h=C.useRef(null);return C.useEffect(()=>{const d=h.current;h.current=o?.current||u.current,d!==h.current&&a.onAnchorChange(h.current)}),o?null:E.jsx(Vt.div,{...r,ref:c})});rD.displayName=iD;var E_="PopperContent",[h8,p8]=eD(E_),sD=C.forwardRef((t,e)=>{const{__scopePopper:n,side:o="bottom",sideOffset:r=0,align:a="center",alignOffset:u=0,arrowPadding:c=0,avoidCollisions:h=!0,collisionBoundary:d=[],collisionPadding:m=0,sticky:y="partial",hideWhenDetached:S=!1,updatePositionStrategy:b="optimized",onPlaced:T,...A}=t,x=nD(E_,n),[M,I]=C.useState(null),N=nn(e,ve=>I(ve)),[D,L]=C.useState(null),U=f8(D),O=U?.width??0,q=U?.height??0,J=o+(a!=="center"?"-"+a:""),j=typeof m=="number"?m:{top:0,right:0,bottom:0,left:0,...m},W=Array.isArray(d)?d:[d],re=W.length>0,oe={padding:j,boundary:W.filter(g8),altBoundary:re},{refs:ae,floatingStyles:de,placement:F,isPositioned:Q,middlewareData:ee}=e8({strategy:"fixed",placement:J,whileElementsMounted:(...ve)=>z5(...ve,{animationFrame:b==="always"}),elements:{reference:x.anchor},middleware:[n8({mainAxis:r+q,alignmentAxis:u}),h&&o8({mainAxis:!0,crossAxis:!1,limiter:y==="partial"?i8():void 0,...oe}),h&&r8({...oe}),s8({...oe,apply:({elements:ve,rects:ze,availableWidth:qe,availableHeight:on})=>{const{width:Cn,height:po}=ze.reference,zt=ve.floating.style;zt.setProperty("--radix-popper-available-width",`${qe}px`),zt.setProperty("--radix-popper-available-height",`${on}px`),zt.setProperty("--radix-popper-anchor-width",`${Cn}px`),zt.setProperty("--radix-popper-anchor-height",`${po}px`)}}),D&&l8({element:D,padding:c}),v8({arrowWidth:O,arrowHeight:q}),S&&a8({strategy:"referenceHidden",...oe})]}),[ne,ce]=uD(F),k=Do(T);rr(()=>{Q&&k?.()},[Q,k]);const Y=ee.arrow?.x,se=ee.arrow?.y,le=ee.arrow?.centerOffset!==0,[me,be]=C.useState();return rr(()=>{M&&be(window.getComputedStyle(M).zIndex)},[M]),E.jsx("div",{ref:ae.setFloating,"data-radix-popper-content-wrapper":"",style:{...de,transform:Q?de.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:me,"--radix-popper-transform-origin":[ee.transformOrigin?.x,ee.transformOrigin?.y].join(" "),...ee.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:E.jsx(h8,{scope:n,placedSide:ne,onArrowChange:L,arrowX:Y,arrowY:se,shouldHideArrow:le,children:E.jsx(Vt.div,{"data-side":ne,"data-align":ce,...A,ref:N,style:{...A.style,animation:Q?void 0:"none"}})})})});sD.displayName=E_;var aD="PopperArrow",m8={top:"bottom",right:"left",bottom:"top",left:"right"},lD=C.forwardRef(function(e,n){const{__scopePopper:o,...r}=e,a=p8(aD,o),u=m8[a.placedSide];return E.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[u]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:E.jsx(c8,{...r,ref:n,style:{...r.style,display:"block"}})})});lD.displayName=aD;function g8(t){return t!==null}var v8=t=>({name:"transformOrigin",options:t,fn(e){const{placement:n,rects:o,middlewareData:r}=e,u=r.arrow?.centerOffset!==0,c=u?0:t.arrowWidth,h=u?0:t.arrowHeight,[d,m]=uD(n),y={start:"0%",center:"50%",end:"100%"}[m],S=(r.arrow?.x??0)+c/2,b=(r.arrow?.y??0)+h/2;let T="",A="";return d==="bottom"?(T=u?y:`${S}px`,A=`${-h}px`):d==="top"?(T=u?y:`${S}px`,A=`${o.floating.height+h}px`):d==="right"?(T=`${-h}px`,A=u?y:`${b}px`):d==="left"&&(T=`${o.floating.width+h}px`,A=u?y:`${b}px`),{data:{x:T,y:A}}}});function uD(t){const[e,n="center"]=t.split("-");return[e,n]}var cD=oD,y8=rD,_8=sD,S8=lD,b8="Portal",fD=C.forwardRef((t,e)=>{const{container:n,...o}=t,[r,a]=C.useState(!1);rr(()=>a(!0),[]);const u=n||r&&globalThis?.document?.body;return u?Br.createPortal(E.jsx(Vt.div,{...o,ref:e}),u):null});fD.displayName=b8;function E8(t,e){return C.useReducer((n,o)=>e[n][o]??n,t)}var Gu=t=>{const{present:e,children:n}=t,o=w8(e),r=typeof n=="function"?n({present:o.isPresent}):C.Children.only(n),a=nn(o.ref,C8(r));return typeof n=="function"||o.isPresent?C.cloneElement(r,{ref:a}):null};Gu.displayName="Presence";function w8(t){const[e,n]=C.useState(),o=C.useRef(null),r=C.useRef(t),a=C.useRef("none"),u=t?"mounted":"unmounted",[c,h]=E8(u,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return C.useEffect(()=>{const d=Bf(o.current);a.current=c==="mounted"?d:"none"},[c]),rr(()=>{const d=o.current,m=r.current;if(m!==t){const S=a.current,b=Bf(d);t?h("MOUNT"):b==="none"||d?.display==="none"?h("UNMOUNT"):h(m&&S!==b?"ANIMATION_OUT":"UNMOUNT"),r.current=t}},[t,h]),rr(()=>{if(e){let d;const m=e.ownerDocument.defaultView??window,y=b=>{const A=Bf(o.current).includes(CSS.escape(b.animationName));if(b.target===e&&A&&(h("ANIMATION_END"),!r.current)){const x=e.style.animationFillMode;e.style.animationFillMode="forwards",d=m.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=x)})}},S=b=>{b.target===e&&(a.current=Bf(o.current))};return e.addEventListener("animationstart",S),e.addEventListener("animationcancel",y),e.addEventListener("animationend",y),()=>{m.clearTimeout(d),e.removeEventListener("animationstart",S),e.removeEventListener("animationcancel",y),e.removeEventListener("animationend",y)}}else h("ANIMATION_END")},[e,h]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:C.useCallback(d=>{o.current=d?getComputedStyle(d):null,n(d)},[])}}function Bf(t){return t?.animationName||"none"}function C8(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var Hg="rovingFocusGroup.onEntryFocus",T8={bubbles:!1,cancelable:!0},Vu="RovingFocusGroup",[ty,dD,A8]=kI(Vu),[x8,hD]=$u(Vu,[A8]),[R8,M8]=x8(Vu),pD=C.forwardRef((t,e)=>E.jsx(ty.Provider,{scope:t.__scopeRovingFocusGroup,children:E.jsx(ty.Slot,{scope:t.__scopeRovingFocusGroup,children:E.jsx(N8,{...t,ref:e})})}));pD.displayName=Vu;var N8=C.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:o,loop:r=!1,dir:a,currentTabStopId:u,defaultCurrentTabStopId:c,onCurrentTabStopIdChange:h,onEntryFocus:d,preventScrollOnEntryFocus:m=!1,...y}=t,S=C.useRef(null),b=nn(e,S),T=LI(a),[A,x]=p_({prop:u,defaultProp:c??null,onChange:h,caller:Vu}),[M,I]=C.useState(!1),N=Do(d),D=dD(n),L=C.useRef(!1),[U,O]=C.useState(0);return C.useEffect(()=>{const q=S.current;if(q)return q.addEventListener(Hg,N),()=>q.removeEventListener(Hg,N)},[N]),E.jsx(R8,{scope:n,orientation:o,dir:T,loop:r,currentTabStopId:A,onItemFocus:C.useCallback(q=>x(q),[x]),onItemShiftTab:C.useCallback(()=>I(!0),[]),onFocusableItemAdd:C.useCallback(()=>O(q=>q+1),[]),onFocusableItemRemove:C.useCallback(()=>O(q=>q-1),[]),children:E.jsx(Vt.div,{tabIndex:M||U===0?-1:0,"data-orientation":o,...y,ref:b,style:{outline:"none",...t.style},onMouseDown:Fe(t.onMouseDown,()=>{L.current=!0}),onFocus:Fe(t.onFocus,q=>{const J=!L.current;if(q.target===q.currentTarget&&J&&!M){const j=new CustomEvent(Hg,T8);if(q.currentTarget.dispatchEvent(j),!j.defaultPrevented){const W=D().filter(F=>F.focusable),re=W.find(F=>F.active),oe=W.find(F=>F.id===A),de=[re,oe,...W].filter(Boolean).map(F=>F.ref.current);vD(de,m)}}L.current=!1}),onBlur:Fe(t.onBlur,()=>I(!1))})})}),mD="RovingFocusGroupItem",gD=C.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:o=!0,active:r=!1,tabStopId:a,children:u,...c}=t,h=du(),d=a||h,m=M8(mD,n),y=m.currentTabStopId===d,S=dD(n),{onFocusableItemAdd:b,onFocusableItemRemove:T,currentTabStopId:A}=m;return C.useEffect(()=>{if(o)return b(),()=>T()},[o,b,T]),E.jsx(ty.ItemSlot,{scope:n,id:d,focusable:o,active:r,children:E.jsx(Vt.span,{tabIndex:y?0:-1,"data-orientation":m.orientation,...c,ref:e,onMouseDown:Fe(t.onMouseDown,x=>{o?m.onItemFocus(d):x.preventDefault()}),onFocus:Fe(t.onFocus,()=>m.onItemFocus(d)),onKeyDown:Fe(t.onKeyDown,x=>{if(x.key==="Tab"&&x.shiftKey){m.onItemShiftTab();return}if(x.target!==x.currentTarget)return;const M=O8(x,m.orientation,m.dir);if(M!==void 0){if(x.metaKey||x.ctrlKey||x.altKey||x.shiftKey)return;x.preventDefault();let N=S().filter(D=>D.focusable).map(D=>D.ref.current);if(M==="last")N.reverse();else if(M==="prev"||M==="next"){M==="prev"&&N.reverse();const D=N.indexOf(x.currentTarget);N=m.loop?P8(N,D+1):N.slice(D+1)}setTimeout(()=>vD(N))}}),children:typeof u=="function"?u({isCurrentTabStop:y,hasTabStop:A!=null}):u})})});gD.displayName=mD;var I8={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function D8(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function O8(t,e,n){const o=D8(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(o))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(o)))return I8[o]}function vD(t,e=!1){const n=document.activeElement;for(const o of t)if(o===n||(o.focus({preventScroll:e}),document.activeElement!==n))return}function P8(t,e){return t.map((n,o)=>t[(e+o)%t.length])}var k8=pD,L8=gD,U8=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Xs=new WeakMap,Ff=new WeakMap,$f={},Gg=0,yD=function(t){return t&&(t.host||yD(t.parentNode))},B8=function(t,e){return e.map(function(n){if(t.contains(n))return n;var o=yD(n);return o&&t.contains(o)?o:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},F8=function(t,e,n,o){var r=B8(e,Array.isArray(t)?t:[t]);$f[n]||($f[n]=new WeakMap);var a=$f[n],u=[],c=new Set,h=new Set(r),d=function(y){!y||c.has(y)||(c.add(y),d(y.parentNode))};r.forEach(d);var m=function(y){!y||h.has(y)||Array.prototype.forEach.call(y.children,function(S){if(c.has(S))m(S);else try{var b=S.getAttribute(o),T=b!==null&&b!=="false",A=(Xs.get(S)||0)+1,x=(a.get(S)||0)+1;Xs.set(S,A),a.set(S,x),u.push(S),A===1&&T&&Ff.set(S,!0),x===1&&S.setAttribute(n,"true"),T||S.setAttribute(o,"true")}catch(M){console.error("aria-hidden: cannot operate on ",S,M)}})};return m(e),c.clear(),Gg++,function(){u.forEach(function(y){var S=Xs.get(y)-1,b=a.get(y)-1;Xs.set(y,S),a.set(y,b),S||(Ff.has(y)||y.removeAttribute(o),Ff.delete(y)),b||y.removeAttribute(n)}),Gg--,Gg||(Xs=new WeakMap,Xs=new WeakMap,Ff=new WeakMap,$f={})}},$8=function(t,e,n){n===void 0&&(n="data-aria-hidden");var o=Array.from(Array.isArray(t)?t:[t]),r=U8(t);return r?(o.push.apply(o,Array.from(r.querySelectorAll("[aria-live], script"))),F8(o,r,n,"aria-hidden")):function(){return null}},Eo=function(){return Eo=Object.assign||function(e){for(var n,o=1,r=arguments.length;o<r;o++){n=arguments[o];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Eo.apply(this,arguments)};function _D(t,e){var n={};for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&e.indexOf(o)<0&&(n[o]=t[o]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,o=Object.getOwnPropertySymbols(t);r<o.length;r++)e.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(t,o[r])&&(n[o[r]]=t[o[r]]);return n}function H8(t,e,n){if(n||arguments.length===2)for(var o=0,r=e.length,a;o<r;o++)(a||!(o in e))&&(a||(a=Array.prototype.slice.call(e,0,o)),a[o]=e[o]);return t.concat(a||Array.prototype.slice.call(e))}var ad="right-scroll-bar-position",ld="width-before-scroll-bar",G8="with-scroll-bars-hidden",V8="--removed-body-scroll-bar-size";function Vg(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function z8(t,e){var n=C.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(o){var r=n.value;r!==o&&(n.value=o,n.callback(o,r))}}}})[0];return n.callback=e,n.facade}var q8=typeof window<"u"?C.useLayoutEffect:C.useEffect,wA=new WeakMap;function J8(t,e){var n=z8(null,function(o){return t.forEach(function(r){return Vg(r,o)})});return q8(function(){var o=wA.get(n);if(o){var r=new Set(o),a=new Set(t),u=n.current;r.forEach(function(c){a.has(c)||Vg(c,null)}),a.forEach(function(c){r.has(c)||Vg(c,u)})}wA.set(n,t)},[t]),n}function K8(t){return t}function Y8(t,e){e===void 0&&(e=K8);var n=[],o=!1,r={read:function(){if(o)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(a){var u=e(a,o);return n.push(u),function(){n=n.filter(function(c){return c!==u})}},assignSyncMedium:function(a){for(o=!0;n.length;){var u=n;n=[],u.forEach(a)}n={push:function(c){return a(c)},filter:function(){return n}}},assignMedium:function(a){o=!0;var u=[];if(n.length){var c=n;n=[],c.forEach(a),u=n}var h=function(){var m=u;u=[],m.forEach(a)},d=function(){return Promise.resolve().then(h)};d(),n={push:function(m){u.push(m),d()},filter:function(m){return u=u.filter(m),n}}}};return r}function j8(t){t===void 0&&(t={});var e=Y8(null);return e.options=Eo({async:!0,ssr:!1},t),e}var SD=function(t){var e=t.sideCar,n=_D(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var o=e.read();if(!o)throw new Error("Sidecar medium not found");return C.createElement(o,Eo({},n))};SD.isSideCarExport=!0;function X8(t,e){return t.useMedium(e),SD}var bD=j8(),zg=function(){},Nh=C.forwardRef(function(t,e){var n=C.useRef(null),o=C.useState({onScrollCapture:zg,onWheelCapture:zg,onTouchMoveCapture:zg}),r=o[0],a=o[1],u=t.forwardProps,c=t.children,h=t.className,d=t.removeScrollBar,m=t.enabled,y=t.shards,S=t.sideCar,b=t.noRelative,T=t.noIsolation,A=t.inert,x=t.allowPinchZoom,M=t.as,I=M===void 0?"div":M,N=t.gapMode,D=_D(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),L=S,U=J8([n,e]),O=Eo(Eo({},D),r);return C.createElement(C.Fragment,null,m&&C.createElement(L,{sideCar:bD,removeScrollBar:d,shards:y,noRelative:b,noIsolation:T,inert:A,setCallbacks:a,allowPinchZoom:!!x,lockRef:n,gapMode:N}),u?C.cloneElement(C.Children.only(c),Eo(Eo({},O),{ref:U})):C.createElement(I,Eo({},O,{className:h,ref:U}),c))});Nh.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Nh.classNames={fullWidth:ld,zeroRight:ad};var W8=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Q8(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=W8();return e&&t.setAttribute("nonce",e),t}function Z8(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function eJ(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var tJ=function(){var t=0,e=null;return{add:function(n){t==0&&(e=Q8())&&(Z8(e,n),eJ(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},nJ=function(){var t=tJ();return function(e,n){C.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},ED=function(){var t=nJ(),e=function(n){var o=n.styles,r=n.dynamic;return t(o,r),null};return e},oJ={left:0,top:0,right:0,gap:0},qg=function(t){return parseInt(t||"",10)||0},iJ=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],o=e[t==="padding"?"paddingTop":"marginTop"],r=e[t==="padding"?"paddingRight":"marginRight"];return[qg(n),qg(o),qg(r)]},rJ=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return oJ;var e=iJ(t),n=document.documentElement.clientWidth,o=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,o-n+e[2]-e[0])}},sJ=ED(),pa="data-scroll-locked",aJ=function(t,e,n,o){var r=t.left,a=t.top,u=t.right,c=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(G8,` {
   overflow: hidden `).concat(o,`;
   padding-right: `).concat(c,"px ").concat(o,`;
  }
  body[`).concat(pa,`] {
    overflow: hidden `).concat(o,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(o,";"),n==="margin"&&`
    padding-left: `.concat(r,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(u,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(c,"px ").concat(o,`;
    `),n==="padding"&&"padding-right: ".concat(c,"px ").concat(o,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(ad,` {
    right: `).concat(c,"px ").concat(o,`;
  }
  
  .`).concat(ld,` {
    margin-right: `).concat(c,"px ").concat(o,`;
  }
  
  .`).concat(ad," .").concat(ad,` {
    right: 0 `).concat(o,`;
  }
  
  .`).concat(ld," .").concat(ld,` {
    margin-right: 0 `).concat(o,`;
  }
  
  body[`).concat(pa,`] {
    `).concat(V8,": ").concat(c,`px;
  }
`)},CA=function(){var t=parseInt(document.body.getAttribute(pa)||"0",10);return isFinite(t)?t:0},lJ=function(){C.useEffect(function(){return document.body.setAttribute(pa,(CA()+1).toString()),function(){var t=CA()-1;t<=0?document.body.removeAttribute(pa):document.body.setAttribute(pa,t.toString())}},[])},uJ=function(t){var e=t.noRelative,n=t.noImportant,o=t.gapMode,r=o===void 0?"margin":o;lJ();var a=C.useMemo(function(){return rJ(r)},[r]);return C.createElement(sJ,{styles:aJ(a,!e,r,n?"":"!important")})},ny=!1;if(typeof window<"u")try{var Hf=Object.defineProperty({},"passive",{get:function(){return ny=!0,!0}});window.addEventListener("test",Hf,Hf),window.removeEventListener("test",Hf,Hf)}catch{ny=!1}var Ws=ny?{passive:!1}:!1,cJ=function(t){return t.tagName==="TEXTAREA"},wD=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!cJ(t)&&n[e]==="visible")},fJ=function(t){return wD(t,"overflowY")},dJ=function(t){return wD(t,"overflowX")},TA=function(t,e){var n=e.ownerDocument,o=e;do{typeof ShadowRoot<"u"&&o instanceof ShadowRoot&&(o=o.host);var r=CD(t,o);if(r){var a=TD(t,o),u=a[1],c=a[2];if(u>c)return!0}o=o.parentNode}while(o&&o!==n.body);return!1},hJ=function(t){var e=t.scrollTop,n=t.scrollHeight,o=t.clientHeight;return[e,n,o]},pJ=function(t){var e=t.scrollLeft,n=t.scrollWidth,o=t.clientWidth;return[e,n,o]},CD=function(t,e){return t==="v"?fJ(e):dJ(e)},TD=function(t,e){return t==="v"?hJ(e):pJ(e)},mJ=function(t,e){return t==="h"&&e==="rtl"?-1:1},gJ=function(t,e,n,o,r){var a=mJ(t,window.getComputedStyle(e).direction),u=a*o,c=n.target,h=e.contains(c),d=!1,m=u>0,y=0,S=0;do{if(!c)break;var b=TD(t,c),T=b[0],A=b[1],x=b[2],M=A-x-a*T;(T||M)&&CD(t,c)&&(y+=M,S+=T);var I=c.parentNode;c=I&&I.nodeType===Node.DOCUMENT_FRAGMENT_NODE?I.host:I}while(!h&&c!==document.body||h&&(e.contains(c)||e===c));return(m&&Math.abs(y)<1||!m&&Math.abs(S)<1)&&(d=!0),d},Gf=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},AA=function(t){return[t.deltaX,t.deltaY]},xA=function(t){return t&&"current"in t?t.current:t},vJ=function(t,e){return t[0]===e[0]&&t[1]===e[1]},yJ=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},_J=0,Qs=[];function SJ(t){var e=C.useRef([]),n=C.useRef([0,0]),o=C.useRef(),r=C.useState(_J++)[0],a=C.useState(ED)[0],u=C.useRef(t);C.useEffect(function(){u.current=t},[t]),C.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(r));var A=H8([t.lockRef.current],(t.shards||[]).map(xA),!0).filter(Boolean);return A.forEach(function(x){return x.classList.add("allow-interactivity-".concat(r))}),function(){document.body.classList.remove("block-interactivity-".concat(r)),A.forEach(function(x){return x.classList.remove("allow-interactivity-".concat(r))})}}},[t.inert,t.lockRef.current,t.shards]);var c=C.useCallback(function(A,x){if("touches"in A&&A.touches.length===2||A.type==="wheel"&&A.ctrlKey)return!u.current.allowPinchZoom;var M=Gf(A),I=n.current,N="deltaX"in A?A.deltaX:I[0]-M[0],D="deltaY"in A?A.deltaY:I[1]-M[1],L,U=A.target,O=Math.abs(N)>Math.abs(D)?"h":"v";if("touches"in A&&O==="h"&&U.type==="range")return!1;var q=window.getSelection(),J=q&&q.anchorNode,j=J?J===U||J.contains(U):!1;if(j)return!1;var W=TA(O,U);if(!W)return!0;if(W?L=O:(L=O==="v"?"h":"v",W=TA(O,U)),!W)return!1;if(!o.current&&"changedTouches"in A&&(N||D)&&(o.current=L),!L)return!0;var re=o.current||L;return gJ(re,x,A,re==="h"?N:D)},[]),h=C.useCallback(function(A){var x=A;if(!(!Qs.length||Qs[Qs.length-1]!==a)){var M="deltaY"in x?AA(x):Gf(x),I=e.current.filter(function(L){return L.name===x.type&&(L.target===x.target||x.target===L.shadowParent)&&vJ(L.delta,M)})[0];if(I&&I.should){x.cancelable&&x.preventDefault();return}if(!I){var N=(u.current.shards||[]).map(xA).filter(Boolean).filter(function(L){return L.contains(x.target)}),D=N.length>0?c(x,N[0]):!u.current.noIsolation;D&&x.cancelable&&x.preventDefault()}}},[]),d=C.useCallback(function(A,x,M,I){var N={name:A,delta:x,target:M,should:I,shadowParent:bJ(M)};e.current.push(N),setTimeout(function(){e.current=e.current.filter(function(D){return D!==N})},1)},[]),m=C.useCallback(function(A){n.current=Gf(A),o.current=void 0},[]),y=C.useCallback(function(A){d(A.type,AA(A),A.target,c(A,t.lockRef.current))},[]),S=C.useCallback(function(A){d(A.type,Gf(A),A.target,c(A,t.lockRef.current))},[]);C.useEffect(function(){return Qs.push(a),t.setCallbacks({onScrollCapture:y,onWheelCapture:y,onTouchMoveCapture:S}),document.addEventListener("wheel",h,Ws),document.addEventListener("touchmove",h,Ws),document.addEventListener("touchstart",m,Ws),function(){Qs=Qs.filter(function(A){return A!==a}),document.removeEventListener("wheel",h,Ws),document.removeEventListener("touchmove",h,Ws),document.removeEventListener("touchstart",m,Ws)}},[]);var b=t.removeScrollBar,T=t.inert;return C.createElement(C.Fragment,null,T?C.createElement(a,{styles:yJ(r)}):null,b?C.createElement(uJ,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function bJ(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const EJ=X8(bD,SJ);var AD=C.forwardRef(function(t,e){return C.createElement(Nh,Eo({},t,{ref:e,sideCar:EJ}))});AD.classNames=Nh.classNames;var oy=["Enter"," "],wJ=["ArrowDown","PageUp","Home"],xD=["ArrowUp","PageDown","End"],CJ=[...wJ,...xD],TJ={ltr:[...oy,"ArrowRight"],rtl:[...oy,"ArrowLeft"]},AJ={ltr:["ArrowLeft"],rtl:["ArrowRight"]},zu="Menu",[mu,xJ,RJ]=kI(zu),[is,RD]=$u(zu,[RJ,tD,hD]),qu=tD(),MD=hD(),[ND,pr]=is(zu),[MJ,Ju]=is(zu),ID=t=>{const{__scopeMenu:e,open:n=!1,children:o,dir:r,onOpenChange:a,modal:u=!0}=t,c=qu(e),[h,d]=C.useState(null),m=C.useRef(!1),y=Do(a),S=LI(r);return C.useEffect(()=>{const b=()=>{m.current=!0,document.addEventListener("pointerdown",T,{capture:!0,once:!0}),document.addEventListener("pointermove",T,{capture:!0,once:!0})},T=()=>m.current=!1;return document.addEventListener("keydown",b,{capture:!0}),()=>{document.removeEventListener("keydown",b,{capture:!0}),document.removeEventListener("pointerdown",T,{capture:!0}),document.removeEventListener("pointermove",T,{capture:!0})}},[]),E.jsx(cD,{...c,children:E.jsx(ND,{scope:e,open:n,onOpenChange:y,content:h,onContentChange:d,children:E.jsx(MJ,{scope:e,onClose:C.useCallback(()=>y(!1),[y]),isUsingKeyboardRef:m,dir:S,modal:u,children:o})})})};ID.displayName=zu;var NJ="MenuAnchor",w_=C.forwardRef((t,e)=>{const{__scopeMenu:n,...o}=t,r=qu(n);return E.jsx(y8,{...r,...o,ref:e})});w_.displayName=NJ;var C_="MenuPortal",[IJ,DD]=is(C_,{forceMount:void 0}),OD=t=>{const{__scopeMenu:e,forceMount:n,children:o,container:r}=t,a=pr(C_,e);return E.jsx(IJ,{scope:e,forceMount:n,children:E.jsx(Gu,{present:n||a.open,children:E.jsx(fD,{asChild:!0,container:r,children:o})})})};OD.displayName=C_;var Vn="MenuContent",[DJ,T_]=is(Vn),PD=C.forwardRef((t,e)=>{const n=DD(Vn,t.__scopeMenu),{forceMount:o=n.forceMount,...r}=t,a=pr(Vn,t.__scopeMenu),u=Ju(Vn,t.__scopeMenu);return E.jsx(mu.Provider,{scope:t.__scopeMenu,children:E.jsx(Gu,{present:o||a.open,children:E.jsx(mu.Slot,{scope:t.__scopeMenu,children:u.modal?E.jsx(OJ,{...r,ref:e}):E.jsx(PJ,{...r,ref:e})})})})}),OJ=C.forwardRef((t,e)=>{const n=pr(Vn,t.__scopeMenu),o=C.useRef(null),r=nn(e,o);return C.useEffect(()=>{const a=o.current;if(a)return $8(a)},[]),E.jsx(A_,{...t,ref:r,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:Fe(t.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),PJ=C.forwardRef((t,e)=>{const n=pr(Vn,t.__scopeMenu);return E.jsx(A_,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),kJ=Fd("MenuContent.ScrollLock"),A_=C.forwardRef((t,e)=>{const{__scopeMenu:n,loop:o=!1,trapFocus:r,onOpenAutoFocus:a,onCloseAutoFocus:u,disableOutsidePointerEvents:c,onEntryFocus:h,onEscapeKeyDown:d,onPointerDownOutside:m,onFocusOutside:y,onInteractOutside:S,onDismiss:b,disableOutsideScroll:T,...A}=t,x=pr(Vn,n),M=Ju(Vn,n),I=qu(n),N=MD(n),D=xJ(n),[L,U]=C.useState(null),O=C.useRef(null),q=nn(e,O,x.onContentChange),J=C.useRef(0),j=C.useRef(""),W=C.useRef(0),re=C.useRef(null),oe=C.useRef("right"),ae=C.useRef(0),de=T?AD:C.Fragment,F=T?{as:kJ,allowPinchZoom:!0}:void 0,Q=ne=>{const ce=j.current+ne,k=D().filter(ve=>!ve.disabled),Y=document.activeElement,se=k.find(ve=>ve.ref.current===Y)?.textValue,le=k.map(ve=>ve.textValue),me=KJ(le,ce,se),be=k.find(ve=>ve.textValue===me)?.ref.current;(function ve(ze){j.current=ze,window.clearTimeout(J.current),ze!==""&&(J.current=window.setTimeout(()=>ve(""),1e3))})(ce),be&&setTimeout(()=>be.focus())};C.useEffect(()=>()=>window.clearTimeout(J.current),[]),V6();const ee=C.useCallback(ne=>oe.current===re.current?.side&&jJ(ne,re.current?.area),[]);return E.jsx(DJ,{scope:n,searchRef:j,onItemEnter:C.useCallback(ne=>{ee(ne)&&ne.preventDefault()},[ee]),onItemLeave:C.useCallback(ne=>{ee(ne)||(O.current?.focus(),U(null))},[ee]),onTriggerLeave:C.useCallback(ne=>{ee(ne)&&ne.preventDefault()},[ee]),pointerGraceTimerRef:W,onPointerGraceIntentChange:C.useCallback(ne=>{re.current=ne},[]),children:E.jsx(de,{...F,children:E.jsx($I,{asChild:!0,trapped:r,onMountAutoFocus:Fe(a,ne=>{ne.preventDefault(),O.current?.focus({preventScroll:!0})}),onUnmountAutoFocus:u,children:E.jsx(BI,{asChild:!0,disableOutsidePointerEvents:c,onEscapeKeyDown:d,onPointerDownOutside:m,onFocusOutside:y,onInteractOutside:S,onDismiss:b,children:E.jsx(k8,{asChild:!0,...N,dir:M.dir,orientation:"vertical",loop:o,currentTabStopId:L,onCurrentTabStopIdChange:U,onEntryFocus:Fe(h,ne=>{M.isUsingKeyboardRef.current||ne.preventDefault()}),preventScrollOnEntryFocus:!0,children:E.jsx(_8,{role:"menu","aria-orientation":"vertical","data-state":WD(x.open),"data-radix-menu-content":"",dir:M.dir,...I,...A,ref:q,style:{outline:"none",...A.style},onKeyDown:Fe(A.onKeyDown,ne=>{const k=ne.target.closest("[data-radix-menu-content]")===ne.currentTarget,Y=ne.ctrlKey||ne.altKey||ne.metaKey,se=ne.key.length===1;k&&(ne.key==="Tab"&&ne.preventDefault(),!Y&&se&&Q(ne.key));const le=O.current;if(ne.target!==le||!CJ.includes(ne.key))return;ne.preventDefault();const be=D().filter(ve=>!ve.disabled).map(ve=>ve.ref.current);xD.includes(ne.key)&&be.reverse(),qJ(be)}),onBlur:Fe(t.onBlur,ne=>{ne.currentTarget.contains(ne.target)||(window.clearTimeout(J.current),j.current="")}),onPointerMove:Fe(t.onPointerMove,gu(ne=>{const ce=ne.target,k=ae.current!==ne.clientX;if(ne.currentTarget.contains(ce)&&k){const Y=ne.clientX>ae.current?"right":"left";oe.current=Y,ae.current=ne.clientX}}))})})})})})})});PD.displayName=Vn;var LJ="MenuGroup",x_=C.forwardRef((t,e)=>{const{__scopeMenu:n,...o}=t;return E.jsx(Vt.div,{role:"group",...o,ref:e})});x_.displayName=LJ;var UJ="MenuLabel",kD=C.forwardRef((t,e)=>{const{__scopeMenu:n,...o}=t;return E.jsx(Vt.div,{...o,ref:e})});kD.displayName=UJ;var zd="MenuItem",RA="menu.itemSelect",Ih=C.forwardRef((t,e)=>{const{disabled:n=!1,onSelect:o,...r}=t,a=C.useRef(null),u=Ju(zd,t.__scopeMenu),c=T_(zd,t.__scopeMenu),h=nn(e,a),d=C.useRef(!1),m=()=>{const y=a.current;if(!n&&y){const S=new CustomEvent(RA,{bubbles:!0,cancelable:!0});y.addEventListener(RA,b=>o?.(b),{once:!0}),PI(y,S),S.defaultPrevented?d.current=!1:u.onClose()}};return E.jsx(LD,{...r,ref:h,disabled:n,onClick:Fe(t.onClick,m),onPointerDown:y=>{t.onPointerDown?.(y),d.current=!0},onPointerUp:Fe(t.onPointerUp,y=>{d.current||y.currentTarget?.click()}),onKeyDown:Fe(t.onKeyDown,y=>{const S=c.searchRef.current!=="";n||S&&y.key===" "||oy.includes(y.key)&&(y.currentTarget.click(),y.preventDefault())})})});Ih.displayName=zd;var LD=C.forwardRef((t,e)=>{const{__scopeMenu:n,disabled:o=!1,textValue:r,...a}=t,u=T_(zd,n),c=MD(n),h=C.useRef(null),d=nn(e,h),[m,y]=C.useState(!1),[S,b]=C.useState("");return C.useEffect(()=>{const T=h.current;T&&b((T.textContent??"").trim())},[a.children]),E.jsx(mu.ItemSlot,{scope:n,disabled:o,textValue:r??S,children:E.jsx(L8,{asChild:!0,...c,focusable:!o,children:E.jsx(Vt.div,{role:"menuitem","data-highlighted":m?"":void 0,"aria-disabled":o||void 0,"data-disabled":o?"":void 0,...a,ref:d,onPointerMove:Fe(t.onPointerMove,gu(T=>{o?u.onItemLeave(T):(u.onItemEnter(T),T.defaultPrevented||T.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Fe(t.onPointerLeave,gu(T=>u.onItemLeave(T))),onFocus:Fe(t.onFocus,()=>y(!0)),onBlur:Fe(t.onBlur,()=>y(!1))})})})}),BJ="MenuCheckboxItem",UD=C.forwardRef((t,e)=>{const{checked:n=!1,onCheckedChange:o,...r}=t;return E.jsx(GD,{scope:t.__scopeMenu,checked:n,children:E.jsx(Ih,{role:"menuitemcheckbox","aria-checked":qd(n)?"mixed":n,...r,ref:e,"data-state":N_(n),onSelect:Fe(r.onSelect,()=>o?.(qd(n)?!0:!n),{checkForDefaultPrevented:!1})})})});UD.displayName=BJ;var BD="MenuRadioGroup",[FJ,$J]=is(BD,{value:void 0,onValueChange:()=>{}}),FD=C.forwardRef((t,e)=>{const{value:n,onValueChange:o,...r}=t,a=Do(o);return E.jsx(FJ,{scope:t.__scopeMenu,value:n,onValueChange:a,children:E.jsx(x_,{...r,ref:e})})});FD.displayName=BD;var $D="MenuRadioItem",HD=C.forwardRef((t,e)=>{const{value:n,...o}=t,r=$J($D,t.__scopeMenu),a=n===r.value;return E.jsx(GD,{scope:t.__scopeMenu,checked:a,children:E.jsx(Ih,{role:"menuitemradio","aria-checked":a,...o,ref:e,"data-state":N_(a),onSelect:Fe(o.onSelect,()=>r.onValueChange?.(n),{checkForDefaultPrevented:!1})})})});HD.displayName=$D;var R_="MenuItemIndicator",[GD,HJ]=is(R_,{checked:!1}),VD=C.forwardRef((t,e)=>{const{__scopeMenu:n,forceMount:o,...r}=t,a=HJ(R_,n);return E.jsx(Gu,{present:o||qd(a.checked)||a.checked===!0,children:E.jsx(Vt.span,{...r,ref:e,"data-state":N_(a.checked)})})});VD.displayName=R_;var GJ="MenuSeparator",zD=C.forwardRef((t,e)=>{const{__scopeMenu:n,...o}=t;return E.jsx(Vt.div,{role:"separator","aria-orientation":"horizontal",...o,ref:e})});zD.displayName=GJ;var VJ="MenuArrow",qD=C.forwardRef((t,e)=>{const{__scopeMenu:n,...o}=t,r=qu(n);return E.jsx(S8,{...r,...o,ref:e})});qD.displayName=VJ;var M_="MenuSub",[zJ,JD]=is(M_),KD=t=>{const{__scopeMenu:e,children:n,open:o=!1,onOpenChange:r}=t,a=pr(M_,e),u=qu(e),[c,h]=C.useState(null),[d,m]=C.useState(null),y=Do(r);return C.useEffect(()=>(a.open===!1&&y(!1),()=>y(!1)),[a.open,y]),E.jsx(cD,{...u,children:E.jsx(ND,{scope:e,open:o,onOpenChange:y,content:d,onContentChange:m,children:E.jsx(zJ,{scope:e,contentId:du(),triggerId:du(),trigger:c,onTriggerChange:h,children:n})})})};KD.displayName=M_;var jl="MenuSubTrigger",YD=C.forwardRef((t,e)=>{const n=pr(jl,t.__scopeMenu),o=Ju(jl,t.__scopeMenu),r=JD(jl,t.__scopeMenu),a=T_(jl,t.__scopeMenu),u=C.useRef(null),{pointerGraceTimerRef:c,onPointerGraceIntentChange:h}=a,d={__scopeMenu:t.__scopeMenu},m=C.useCallback(()=>{u.current&&window.clearTimeout(u.current),u.current=null},[]);return C.useEffect(()=>m,[m]),C.useEffect(()=>{const y=c.current;return()=>{window.clearTimeout(y),h(null)}},[c,h]),E.jsx(w_,{asChild:!0,...d,children:E.jsx(LD,{id:r.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":r.contentId,"data-state":WD(n.open),...t,ref:Th(e,r.onTriggerChange),onClick:y=>{t.onClick?.(y),!(t.disabled||y.defaultPrevented)&&(y.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:Fe(t.onPointerMove,gu(y=>{a.onItemEnter(y),!y.defaultPrevented&&!t.disabled&&!n.open&&!u.current&&(a.onPointerGraceIntentChange(null),u.current=window.setTimeout(()=>{n.onOpenChange(!0),m()},100))})),onPointerLeave:Fe(t.onPointerLeave,gu(y=>{m();const S=n.content?.getBoundingClientRect();if(S){const b=n.content?.dataset.side,T=b==="right",A=T?-5:5,x=S[T?"left":"right"],M=S[T?"right":"left"];a.onPointerGraceIntentChange({area:[{x:y.clientX+A,y:y.clientY},{x,y:S.top},{x:M,y:S.top},{x:M,y:S.bottom},{x,y:S.bottom}],side:b}),window.clearTimeout(c.current),c.current=window.setTimeout(()=>a.onPointerGraceIntentChange(null),300)}else{if(a.onTriggerLeave(y),y.defaultPrevented)return;a.onPointerGraceIntentChange(null)}})),onKeyDown:Fe(t.onKeyDown,y=>{const S=a.searchRef.current!=="";t.disabled||S&&y.key===" "||TJ[o.dir].includes(y.key)&&(n.onOpenChange(!0),n.content?.focus(),y.preventDefault())})})})});YD.displayName=jl;var jD="MenuSubContent",XD=C.forwardRef((t,e)=>{const n=DD(Vn,t.__scopeMenu),{forceMount:o=n.forceMount,...r}=t,a=pr(Vn,t.__scopeMenu),u=Ju(Vn,t.__scopeMenu),c=JD(jD,t.__scopeMenu),h=C.useRef(null),d=nn(e,h);return E.jsx(mu.Provider,{scope:t.__scopeMenu,children:E.jsx(Gu,{present:o||a.open,children:E.jsx(mu.Slot,{scope:t.__scopeMenu,children:E.jsx(A_,{id:c.contentId,"aria-labelledby":c.triggerId,...r,ref:d,align:"start",side:u.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:m=>{u.isUsingKeyboardRef.current&&h.current?.focus(),m.preventDefault()},onCloseAutoFocus:m=>m.preventDefault(),onFocusOutside:Fe(t.onFocusOutside,m=>{m.target!==c.trigger&&a.onOpenChange(!1)}),onEscapeKeyDown:Fe(t.onEscapeKeyDown,m=>{u.onClose(),m.preventDefault()}),onKeyDown:Fe(t.onKeyDown,m=>{const y=m.currentTarget.contains(m.target),S=AJ[u.dir].includes(m.key);y&&S&&(a.onOpenChange(!1),c.trigger?.focus(),m.preventDefault())})})})})})});XD.displayName=jD;function WD(t){return t?"open":"closed"}function qd(t){return t==="indeterminate"}function N_(t){return qd(t)?"indeterminate":t?"checked":"unchecked"}function qJ(t){const e=document.activeElement;for(const n of t)if(n===e||(n.focus(),document.activeElement!==e))return}function JJ(t,e){return t.map((n,o)=>t[(e+o)%t.length])}function KJ(t,e,n){const r=e.length>1&&Array.from(e).every(d=>d===e[0])?e[0]:e,a=n?t.indexOf(n):-1;let u=JJ(t,Math.max(a,0));r.length===1&&(u=u.filter(d=>d!==n));const h=u.find(d=>d.toLowerCase().startsWith(r.toLowerCase()));return h!==n?h:void 0}function YJ(t,e){const{x:n,y:o}=t;let r=!1;for(let a=0,u=e.length-1;a<e.length;u=a++){const c=e[a],h=e[u],d=c.x,m=c.y,y=h.x,S=h.y;m>o!=S>o&&n<(y-d)*(o-m)/(S-m)+d&&(r=!r)}return r}function jJ(t,e){if(!e)return!1;const n={x:t.clientX,y:t.clientY};return YJ(n,e)}function gu(t){return e=>e.pointerType==="mouse"?t(e):void 0}var XJ=ID,WJ=w_,QJ=OD,ZJ=PD,eK=x_,tK=kD,nK=Ih,oK=UD,iK=FD,rK=HD,sK=VD,aK=zD,lK=qD,uK=KD,cK=YD,fK=XD,Dh="DropdownMenu",[dK]=$u(Dh,[RD]),Bt=RD(),[hK,QD]=dK(Dh),ZD=t=>{const{__scopeDropdownMenu:e,children:n,dir:o,open:r,defaultOpen:a,onOpenChange:u,modal:c=!0}=t,h=Bt(e),d=C.useRef(null),[m,y]=p_({prop:r,defaultProp:a??!1,onChange:u,caller:Dh});return E.jsx(hK,{scope:e,triggerId:du(),triggerRef:d,contentId:du(),open:m,onOpenChange:y,onOpenToggle:C.useCallback(()=>y(S=>!S),[y]),modal:c,children:E.jsx(XJ,{...h,open:m,onOpenChange:y,dir:o,modal:c,children:n})})};ZD.displayName=Dh;var eO="DropdownMenuTrigger",tO=C.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,disabled:o=!1,...r}=t,a=QD(eO,n),u=Bt(n);return E.jsx(WJ,{asChild:!0,...u,children:E.jsx(Vt.button,{type:"button",id:a.triggerId,"aria-haspopup":"menu","aria-expanded":a.open,"aria-controls":a.open?a.contentId:void 0,"data-state":a.open?"open":"closed","data-disabled":o?"":void 0,disabled:o,...r,ref:Th(e,a.triggerRef),onPointerDown:Fe(t.onPointerDown,c=>{!o&&c.button===0&&c.ctrlKey===!1&&(a.onOpenToggle(),a.open||c.preventDefault())}),onKeyDown:Fe(t.onKeyDown,c=>{o||(["Enter"," "].includes(c.key)&&a.onOpenToggle(),c.key==="ArrowDown"&&a.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(c.key)&&c.preventDefault())})})})});tO.displayName=eO;var pK="DropdownMenuPortal",nO=t=>{const{__scopeDropdownMenu:e,...n}=t,o=Bt(e);return E.jsx(QJ,{...o,...n})};nO.displayName=pK;var oO="DropdownMenuContent",iO=C.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...o}=t,r=QD(oO,n),a=Bt(n),u=C.useRef(!1);return E.jsx(ZJ,{id:r.contentId,"aria-labelledby":r.triggerId,...a,...o,ref:e,onCloseAutoFocus:Fe(t.onCloseAutoFocus,c=>{u.current||r.triggerRef.current?.focus(),u.current=!1,c.preventDefault()}),onInteractOutside:Fe(t.onInteractOutside,c=>{const h=c.detail.originalEvent,d=h.button===0&&h.ctrlKey===!0,m=h.button===2||d;(!r.modal||m)&&(u.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});iO.displayName=oO;var mK="DropdownMenuGroup",gK=C.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...o}=t,r=Bt(n);return E.jsx(eK,{...r,...o,ref:e})});gK.displayName=mK;var vK="DropdownMenuLabel",yK=C.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...o}=t,r=Bt(n);return E.jsx(tK,{...r,...o,ref:e})});yK.displayName=vK;var _K="DropdownMenuItem",SK=C.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...o}=t,r=Bt(n);return E.jsx(nK,{...r,...o,ref:e})});SK.displayName=_K;var bK="DropdownMenuCheckboxItem",EK=C.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...o}=t,r=Bt(n);return E.jsx(oK,{...r,...o,ref:e})});EK.displayName=bK;var wK="DropdownMenuRadioGroup",CK=C.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...o}=t,r=Bt(n);return E.jsx(iK,{...r,...o,ref:e})});CK.displayName=wK;var TK="DropdownMenuRadioItem",AK=C.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...o}=t,r=Bt(n);return E.jsx(rK,{...r,...o,ref:e})});AK.displayName=TK;var xK="DropdownMenuItemIndicator",RK=C.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...o}=t,r=Bt(n);return E.jsx(sK,{...r,...o,ref:e})});RK.displayName=xK;var MK="DropdownMenuSeparator",NK=C.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...o}=t,r=Bt(n);return E.jsx(aK,{...r,...o,ref:e})});NK.displayName=MK;var IK="DropdownMenuArrow",DK=C.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...o}=t,r=Bt(n);return E.jsx(lK,{...r,...o,ref:e})});DK.displayName=IK;var OK=t=>{const{__scopeDropdownMenu:e,children:n,open:o,onOpenChange:r,defaultOpen:a}=t,u=Bt(e),[c,h]=p_({prop:o,defaultProp:a??!1,onChange:r,caller:"DropdownMenuSub"});return E.jsx(uK,{...u,open:c,onOpenChange:h,children:n})},PK="DropdownMenuSubTrigger",rO=C.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...o}=t,r=Bt(n);return E.jsx(cK,{...r,...o,ref:e})});rO.displayName=PK;var kK="DropdownMenuSubContent",sO=C.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...o}=t,r=Bt(n);return E.jsx(fK,{...r,...o,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});sO.displayName=kK;var LK=ZD,UK=tO,BK=nO,FK=iO,MA=OK,NA=rO,IA=sO;const $K=St(({scene:t})=>{if(!t.sceneJson||!t.sceneJson.data)return null;const e=t.sceneJson.data.tags,n=t.project?.artbook,o=a=>{t.addTag(a)};if(!n)return null;const r=a=>E.jsxs(LK,{children:[E.jsx(UK,{className:"dropdown-trigger",children:"Add Tag"}),E.jsx(BK,{children:E.jsx(FK,{className:"dropdown-content",align:"start",children:Object.entries(a).map(([u,c])=>E.jsxs(MA,{children:[E.jsx(NA,{className:"submenu-trigger",children:u}),E.jsx(IA,{className:"dropdown-content",children:Object.entries(c).map(([h,d])=>E.jsxs(MA,{children:[E.jsx(NA,{className:"submenu-trigger",children:h}),E.jsx(IA,{className:"dropdown-content",children:d.map(m=>E.jsx(w6,{art:m,onClick:()=>o(m.path)},m.path))})]},h))})]},u))})})]});return E.jsx(Fu,{label:"Tags",headerExtra:E.jsxs("div",{className:"d-flex align-items-center gap-2",children:[r(n.data),E.jsx(h_,{onClick:()=>{t.generateTags()},className:"btn-outline-success",label:"Generate Tags",is_loading:t.is_generating_tags}),E.jsx(Qe,{onClick:()=>t.project?.artbook?.log(),label:"Log"})]}),children:e.length?E.jsx("ul",{className:"list-group list-group-flush",children:e.map((a,u)=>{const c=n.getTag(a);return c?E.jsx("li",{className:"list-group-item",children:E.jsx(E6,{art:c,scene:t})},u):null})}):E.jsx("div",{children:"No tags yet."})})}),vu=({value:t,options:e,onChange:n,label:o,className:r=""})=>E.jsxs("div",{className:"btn-group",role:"group",children:[o&&E.jsx("span",{className:"btn btn-sm btn-outline-secondary disabled",children:o}),E.jsx("div",{className:`btn btn-sm btn-outline-secondary p-0 ${r}`,children:E.jsx("select",{className:"form-select form-select-sm border-0 rounded-0",value:t,onChange:a=>n?.(a.target.value),children:e.map(a=>E.jsx("option",{value:a,children:a},a))})})]}),iu=({isLoading:t,className:e="",asButton:n=!1})=>{const o=E.jsx("span",{className:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true",style:{animation:t?void 0:"none",borderColor:t?void 0:"#6c757d"}});return n?E.jsx("button",{type:"button",className:`btn btn-sm btn-outline-secondary disabled d-flex align-items-center justify-content-center ${e}`,tabIndex:-1,style:{pointerEvents:"none"},children:o}):E.jsx("span",{className:e,children:o})},iy=({buttons:t,content:e,className:n=""})=>{const[o,r]=C.useState(!1);return E.jsxs("div",{className:`w-100 ${n}`,style:{display:"inline-block"},children:[E.jsxs("div",{className:"btn-group",role:"group",children:[t,E.jsx("button",{className:"btn btn-sm btn-outline-secondary",onClick:()=>r(a=>!a),"aria-label":"Toggle settings",type:"button",style:{borderBottomRightRadius:o?0:void 0},children:""})]}),o&&E.jsx("div",{className:"w-100 border p-2",style:{borderTopLeftRadius:0,borderTopRightRadius:5,borderBottomLeftRadius:5,borderBottomRightRadius:5,backgroundColor:"#383838ff",marginTop:0},children:e})]})},HK=St(({scene:t})=>{if(!t.sceneJson)return E.jsx("div",{children:"No scene data available."});const e=async()=>{window.confirm(`Are you sure you want to delete scene "${t.folder.name}"?`)&&await t.delete()},n=async()=>{t.createShotsFromShotsJson()};return E.jsxs("div",{children:[E.jsxs("div",{style:{marginBottom:"10px"},children:[E.jsx(Qe,{onClick:e,label:"Delete Scene",className:"btn-outline-danger"}),E.jsx(Qe,{onClick:()=>t.log(),label:"LOG"})]}),E.jsx(iy,{className:"mb-2",buttons:E.jsxs(E.Fragment,{children:[E.jsx("button",{className:"btn btn-sm btn-outline-success",onClick:async()=>{const o=await t.generateShotsJson();t.sceneJson?.updateField("shotsjson",o)},children:" Split Into Shots "}),E.jsx(vu,{value:t.project.workflows.split_scene_into_shots.model,options:II,onChange:o=>{t.project.updateWorkflow("split_scene_into_shots","model",o)}}),E.jsx(iu,{isLoading:t.is_generating_shotsjson,asButton:!0})]}),content:E.jsxs(E.Fragment,{children:[E.jsx(Sn,{localJson:t.sceneJson,field:"split_prompt",fitHeight:!0}),E.jsx(Sn,{localJson:t.project.projinfo,field:"workflows/split_scene_into_shots/system_message",fitHeight:!0}),E.jsx(Sn,{localJson:t.project.projinfo,field:"workflows/split_scene_into_shots/prompt",fitHeight:!0})]})}),E.jsx(Sn,{localJson:t.sceneJson,field:"script",fitHeight:!0}),E.jsx(Sn,{localJson:t.sceneJson,field:"shotsjson",fitHeight:!0,headerExtra:E.jsx(Qe,{onClick:n,label:"Create Shots"})}),E.jsx($K,{scene:t}),E.jsx("div",{style:{height:"500px"}})]})}),aO=({label:t,value:e,onToggle:n,useIndicator:o=!1})=>o?E.jsx("div",{onClick:()=>n(!e),style:{width:"16px",height:"16px",borderRadius:"50%",backgroundColor:e?"green":"transparent",border:"2px solid green",cursor:"pointer"}}):E.jsx("button",{className:`btn btn-sm ${e?"btn-success":"btn-outline-secondary"}`,onClick:()=>n(!e),children:t}),Jg="https://cdn.pixabay.com/photo/2021/05/09/06/07/dog-6240043_1280.jpg",GK=St(({shot:t,isSelected:e,onClick:n})=>{const[o,r]=C.useState(Jg);return C.useEffect(()=>{let a=!1;return(async()=>{if(t.srcImage)try{const c=await t.srcImage.getUrlObject();!a&&c&&r(c)}catch(c){console.error("Failed to load srcImage URL:",c),a||r(Jg)}else r(Jg)})(),()=>{a=!0}},[t.srcImage]),E.jsxs("div",{className:"flex-shrink-0 position-relative d-flex align-items-center justify-content-center",style:{height:"100%",cursor:"pointer",borderWidth:e?2:0,borderColor:e?"#04914a":"#dee2e6",borderStyle:"solid"},onClick:()=>n(t),children:[E.jsx("img",{src:o,alt:t.folder.name,className:"img-fluid",style:{height:"100%",width:"auto",objectFit:"contain",display:"block"}}),E.jsx("div",{className:"position-absolute text-white px-1",style:{bottom:0,left:0,backgroundColor:"rgba(0,0,0,0.5)",fontSize:"0.75rem",borderTopRightRadius:"4px"},children:t.folder.name}),E.jsx("div",{className:"position-absolute",style:{top:2,right:2},onClick:a=>a.stopPropagation(),children:E.jsx(aO,{label:"Finished",value:!!t.shotJson?.data?.finished,useIndicator:!0,onToggle:a=>{t.shotJson&&t.shotJson.updateField("finished",a)}})})]})}),VK=({initialHeight:t=80,minHeight:e=30,children:n})=>{const[o,r]=C.useState(t),a=C.useRef(null),u=C.useRef(!1),c=y=>{u.current=!0,y.preventDefault()},h=y=>{if(!u.current||!a.current)return;const S=a.current.getBoundingClientRect(),b=y.clientY-S.top;b>e&&r(b)},d=()=>{u.current=!1};C.useEffect(()=>(window.addEventListener("mousemove",h),window.addEventListener("mouseup",d),()=>{window.removeEventListener("mousemove",h),window.removeEventListener("mouseup",d)}),[]);const m=6;return E.jsxs("div",{ref:a,className:"position-relative",style:{height:`${o}px`},children:[E.jsx("div",{style:{height:"100%",paddingBottom:`${m}px`,boxSizing:"border-box"},children:n}),E.jsx("div",{style:{position:"absolute",bottom:0,left:0,right:0,height:`${m}px`,cursor:"ns-resize",zIndex:10,backgroundColor:"#0d6efd",opacity:.5},onMouseDown:c})]})},ud=({label:t="Media Gallery",children:e,defaultCollapsed:n=!1,className:o="",headerExtra:r,editWindow:a})=>E.jsxs(Fu,{label:t,defaultCollapsed:n,className:o,headerExtra:r,children:[a&&E.jsx("div",{className:"mb-3",children:a}),E.jsx("div",{className:"d-flex flex-wrap gap-2",children:e})]}),lO=({localImage:t,height:e=150,topRightExtra:n,onClick:o,isSelected:r=!1,isPicked:a=!1})=>{const[u,c]=C.useState(null),[h,d]=C.useState(!1);return C.useEffect(()=>{let m=!0;return(async()=>{try{const S=await t.getUrlObject();m&&S&&c(S)}catch(S){console.error("Error loading LocalImage",S)}})(),()=>{m=!1}},[t]),u?E.jsxs("div",{className:"position-relative d-inline-block",style:{height:`${e}px`,cursor:"pointer",outline:a?"3px solid #085db7":"none",outlineOffset:-3},onMouseEnter:()=>d(!0),onMouseLeave:()=>d(!1),children:[r&&E.jsx("div",{style:{position:"absolute",top:5,left:5,width:20,height:20,borderRadius:"50%",backgroundColor:"limegreen",border:"2px solid white",zIndex:20}}),E.jsx("img",{src:u,alt:"Media",className:"img-fluid",onClick:o,style:{height:`${e}px`,width:"auto",objectFit:"contain",display:"block"}}),n&&h&&E.jsx("div",{className:"position-absolute",style:{top:"5px",right:"5px",zIndex:10,display:"flex",gap:"5px"},children:n})]}):E.jsx("div",{className:"d-flex align-items-center justify-content-center border rounded p-2",style:{height:`${e}px`,width:"auto"},children:"Loading..."})};function rt(t,e="Assertion error"){if(!t)throw Error(e)}function ry(t,e){return e.sort(t==="horizontal"?zK:qK)}function zK(t,e){const n=t.element.offsetLeft-e.element.offsetLeft;return n!==0?n:t.element.offsetWidth-e.element.offsetWidth}function qK(t,e){const n=t.element.offsetTop-e.element.offsetTop;return n!==0?n:t.element.offsetHeight-e.element.offsetHeight}function Oh({group:t}){const{orientation:e,panels:n}=t;return n.reduce((o,r)=>(o+=e==="horizontal"?r.element.offsetWidth:r.element.offsetHeight,o),0)}function uO(t){const{element:e,orientation:n,panels:o,separators:r}=t,a=ry(n,Array.from(e.children).filter(d=>d instanceof HTMLElement).map(d=>({element:d}))).map(({element:d})=>d),u=[];let c,h;for(const d of a){const m=o.find(y=>y.element===d);if(m){if(c){const y=c.element.getBoundingClientRect(),S=d.getBoundingClientRect();u.push({group:t,groupSize:Oh({group:t}),panels:[c,m],separator:h,rect:n==="horizontal"?new DOMRect(y.right,S.top,S.left-y.right,S.height):new DOMRect(S.left,y.bottom,S.width,S.top-y.bottom)})}c=m,h=void 0}else{const y=r.find(S=>S.element===d);y?h=y:(c=void 0,h=void 0)}}return u}function JK(t,e){const n=getComputedStyle(t),o=parseFloat(n.fontSize);return e*o}function KK(t,e){const n=getComputedStyle(t.ownerDocument.body),o=parseFloat(n.fontSize);return e*o}function YK(t){return t/100*window.innerHeight}function jK(t){return t/100*window.innerWidth}function XK(t){switch(typeof t){case"number":return[t,"px"];case"string":{const e=parseFloat(t);return t.endsWith("%")?[e,"%"]:t.endsWith("px")?[e,"px"]:t.endsWith("rem")?[e,"rem"]:t.endsWith("em")?[e,"em"]:t.endsWith("vh")?[e,"vh"]:t.endsWith("vw")?[e,"vw"]:[e,"%"]}}}function Vf({groupSize:t,panelElement:e,styleProp:n}){let o;const[r,a]=XK(n);switch(a){case"%":{o=r/100*t;break}case"px":{o=r;break}case"rem":{o=KK(e,r);break}case"em":{o=JK(e,r);break}case"vh":{o=YK(r);break}case"vw":{o=jK(r);break}}return o}function no(t){return parseFloat(t.toFixed(3))}function DA(t){const{panels:e}=t,n=Oh({group:t});return e.map(o=>{const{element:r,panelConstraints:a}=o;let u=0;if(a.collapsedSize){const m=Vf({groupSize:n,panelElement:r,styleProp:a.collapsedSize});u=no(m/n*100)}let c;if(a.defaultSize){const m=Vf({groupSize:n,panelElement:r,styleProp:a.defaultSize});c=no(m/n*100)}let h=0;if(a.minSize){const m=Vf({groupSize:n,panelElement:r,styleProp:a.minSize});h=no(m/n*100)}let d=100;if(a.maxSize){const m=Vf({groupSize:n,panelElement:r,styleProp:a.maxSize});d=no(m/n*100)}return{collapsedSize:u,collapsible:a.collapsible===!0,defaultSize:c,minSize:h,maxSize:d,panelId:o.id}})}class WK{#e={};addListener(e,n){const o=this.#e[e];return o===void 0?this.#e[e]=[n]:o.includes(n)||o.push(n),()=>{this.removeListener(e,n)}}emit(e,n){const o=this.#e[e];if(o!==void 0)if(o.length===1)o[0].call(null,n);else{let r=!1,a=null;const u=Array.from(o);for(let c=0;c<u.length;c++){const h=u[c];try{h.call(null,n)}catch(d){a===null&&(r=!0,a=d)}}if(r)throw a}}removeAllListeners(){this.#e={}}removeListener(e,n){const o=this.#e[e];if(o!==void 0){const r=o.indexOf(n);r>=0&&o.splice(r,1)}}}function Gt(t,e,n=0){return Math.abs(no(t)-no(e))<=n}let kn={cursorFlags:0,interactionState:{state:"inactive"},mountedGroups:new Map};const Vr=new WK;function Lo(){return kn}function zn(t){const e=typeof t=="function"?t(kn):t;if(kn===e)return kn;const n=kn;return kn={...kn,...e},e.cursorFlags!==void 0&&Vr.emit("cursorFlagsChange",kn.cursorFlags),e.interactionState!==void 0&&Vr.emit("interactionStateChange",kn.interactionState),e.mountedGroups!==void 0&&(kn.mountedGroups.forEach((o,r)=>{o.derivedPanelConstraints.forEach(a=>{if(a.collapsible){const{layout:u}=n.mountedGroups.get(r)??{};if(u){const c=Gt(a.collapsedSize,o.layout[a.panelId]),h=Gt(a.collapsedSize,u[a.panelId]);c&&!h&&(r.inMemoryLastExpandedPanelSizes[a.panelId]=u[a.panelId])}}})}),Vr.emit("mountedGroupsChange",kn.mountedGroups)),kn}const QK=t=>t,Kg=()=>{},cO=1,fO=2,dO=4,hO=8,OA={coarse:10,precise:5};function ZK({cursorFlags:t,groups:e,state:n}){let o=0,r=0;switch(n){case"active":case"hover":e.forEach(a=>{if(!a.disableCursor)switch(a.orientation){case"horizontal":{o++;break}case"vertical":{r++;break}}})}if(o===0&&r===0)return null;switch(n){case"active":{const a=(t&cO)!==0,u=(t&fO)!==0,c=(t&dO)!==0,h=(t&hO)!==0;if(t){if(a)return c?"se-resize":h?"ne-resize":"e-resize";if(u)return c?"sw-resize":h?"nw-resize":"w-resize";if(c)return"s-resize";if(h)return"n-resize"}break}}return o>0&&r>0?"move":o>0?"ew-resize":"ns-resize"}let Yg,So;function I_(){So===void 0&&(So=new CSSStyleSheet,document.adoptedStyleSheets=[So]);const{cursorFlags:t,interactionState:e}=Lo();switch(e.state){case"active":case"hover":{const n=ZK({cursorFlags:t,groups:e.hitRegions.map(r=>r.group),state:e.state}),o=`*{cursor: ${n} !important; ${e.state==="active"?"touch-action: none;":""} }`;if(Yg===o)return;Yg=o,n?So.cssRules.length===0?So.insertRule(o):So.replaceSync(o):So.cssRules.length===1&&So.deleteRule(0);break}case"inactive":{Yg=void 0,So.cssRules.length===1&&So.deleteRule(0);break}}}function eY(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!=e[n])return!1;return!0}function yu(t,e){return Gt(t,e)?0:t>e?1:-1}function ca({panelConstraints:t,size:e}){const{collapsedSize:n=0,collapsible:o,maxSize:r=100,minSize:a=0}=t;if(yu(e,a)<0)if(o){const u=(n+a)/2;yu(e,u)<0?e=n:e=a}else e=a;return e=Math.min(r,e),e=no(e),e}function _u({delta:t,initialLayout:e,panelConstraints:n,pivotIndices:o,prevLayout:r,trigger:a}){if(Gt(t,0))return e;const u=Object.values(e),c=Object.values(r),h=[...u],[d,m]=o;rt(d!=null,"Invalid first pivot index"),rt(m!=null,"Invalid second pivot index");let y=0;if(a==="keyboard"){{const T=t<0?m:d,A=n[T];rt(A,`Panel constraints not found for index ${T}`);const{collapsedSize:x=0,collapsible:M,minSize:I=0}=A;if(M){const N=u[T];if(rt(N!=null,`Previous layout not found for panel index ${T}`),Gt(N,x)){const D=I-N;yu(D,Math.abs(t))>0&&(t=t<0?0-D:D)}}}{const T=t<0?d:m,A=n[T];rt(A,`No panel constraints found for index ${T}`);const{collapsedSize:x=0,collapsible:M,minSize:I=0}=A;if(M){const N=u[T];if(rt(N!=null,`Previous layout not found for panel index ${T}`),Gt(N,I)){const D=N-x;yu(D,Math.abs(t))>0&&(t=t<0?0-D:D)}}}}{const T=t<0?1:-1;let A=t<0?m:d,x=0;for(;;){const I=u[A];rt(I!=null,`Previous layout not found for panel index ${A}`);const N=ca({panelConstraints:n[A],size:100})-I;if(x+=N,A+=T,A<0||A>=n.length)break}const M=Math.min(Math.abs(t),Math.abs(x));t=t<0?0-M:M}{let T=t<0?d:m;for(;T>=0&&T<n.length;){const A=Math.abs(t)-Math.abs(y),x=u[T];rt(x!=null,`Previous layout not found for panel index ${T}`);const M=x-A,I=ca({panelConstraints:n[T],size:M});if(!Gt(x,I)&&(y+=x-I,h[T]=I,y.toFixed(3).localeCompare(Math.abs(t).toFixed(3),void 0,{numeric:!0})>=0))break;t<0?T--:T++}}if(eY(c,h))return r;{const T=t<0?m:d,A=u[T];rt(A!=null,`Previous layout not found for panel index ${T}`);const x=A+y,M=ca({panelConstraints:n[T],size:x});if(h[T]=M,!Gt(M,x)){let I=x-M,N=t<0?m:d;for(;N>=0&&N<n.length;){const D=h[N];rt(D!=null,`Previous layout not found for panel index ${N}`);const L=D+I,U=ca({panelConstraints:n[N],size:L});if(Gt(D,U)||(I-=U-D,h[N]=U),Gt(I,0))break;t>0?N--:N++}}}const S=Object.values(h).reduce((T,A)=>A+T,0);if(!Gt(S,100,.1))return r;const b=Object.keys(r);return h.reduce((T,A,x)=>(T[b[x]]=A,T),{})}function Ku(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(yu(t[n],e[n])!==0)return!1;return!0}function pO({event:t,hitRegions:e,initialLayoutMap:n,mountedGroups:o,pointerDownAtPoint:r}){let a=0;const u=new Map(o);e.forEach(c=>{const{group:h,groupSize:d}=c,{disableCursor:m,orientation:y,panels:S}=h;let b=0;r?y==="horizontal"?b=(t.clientX-r.x)/d*100:b=(t.clientY-r.y)/d*100:y==="horizontal"?b=t.clientX<0?-100:100:b=t.clientY<0?-100:100;const T=n.get(h),{derivedPanelConstraints:A,layout:x,separatorToPanels:M}=o.get(h)??{};if(A&&T&&x&&M){const I=_u({delta:b,initialLayout:T,panelConstraints:A,pivotIndices:c.panels.map(N=>S.indexOf(N)),prevLayout:x,trigger:"mouse-or-touch"});if(Ku(I,x)){if(b!==0&&!m)switch(y){case"horizontal":{a|=b<0?cO:fO;break}case"vertical":{a|=b<0?dO:hO;break}}}else{u.set(c.group,{derivedPanelConstraints:A,layout:I,separatorToPanels:M});const N=c.group.panels.map(({id:D})=>D).join(",");c.group.inMemoryLayouts[N]=I}}}),zn({cursorFlags:a,mountedGroups:u}),I_()}function PA(t){if(t.defaultPrevented||t.relatedTarget!==null||t.clientX===0&&t.clientY===0)return;const{interactionState:e,mountedGroups:n}=Lo();switch(e.state){case"active":e.hitRegions.forEach(o=>{t.currentTarget===o.group.element&&pO({event:t,hitRegions:e.hitRegions,initialLayoutMap:e.initialLayoutMap,mountedGroups:n})})}}function cd(t){const e=t.parentElement;rt(e,"Parent group element not found");const{mountedGroups:n}=Lo();for(const[o]of n)if(o.element===e)return o;throw Error("Could not find parent Group for separator element")}function Zr({layout:t,panelConstraints:e}){const n=[...Object.values(t)],o=n.reduce((u,c)=>u+c,0);if(n.length!==e.length)throw Error(`Invalid ${e.length} panel layout: ${n.map(u=>`${u}%`).join(", ")}`);if(!Gt(o,100)&&n.length>0)for(let u=0;u<e.length;u++){const c=n[u];rt(c!=null,`No layout data found for index ${u}`);const h=100/o*c;n[u]=h}let r=0;for(let u=0;u<e.length;u++){const c=n[u];rt(c!=null,`No layout data found for index ${u}`);const h=ca({panelConstraints:e[u],size:c});c!=h&&(r+=c-h,n[u]=h)}if(!Gt(r,0))for(let u=0;u<e.length;u++){const c=n[u];rt(c!=null,`No layout data found for index ${u}`);const h=c+r,d=ca({panelConstraints:e[u],size:h});if(c!==d&&(r-=d-c,n[u]=d,Gt(r,0)))break}const a=Object.keys(t);return n.reduce((u,c,h)=>(u[a[h]]=c,u),{})}function mO({groupId:t}){const e=()=>{const{mountedGroups:n}=Lo();for(const[o,r]of n)if(o.id===t)return{group:o,...r};throw Error(`Group ${t} not found`)};return{getLayout(){const{layout:n}=e();return n},setLayout(n){const{derivedPanelConstraints:o,group:r,layout:a,separatorToPanels:u}=e(),c=Zr({layout:n,panelConstraints:o});return Ku(a,c)||zn(h=>({mountedGroups:new Map(h.mountedGroups).set(r,{derivedPanelConstraints:o,layout:c,separatorToPanels:u})})),c}}}function gO(t){const{mountedGroups:e}=Lo(),n=e.get(t);return rt(n,`Mounted Group ${t.id} not found`),n}function Pr(t,e){const n=cd(t),o=gO(n),r=n.separators.find(m=>m.element===t);rt(r,"Matching separator not found");const a=o.separatorToPanels.get(r);rt(a,"Matching panels not found");const u=a.map(m=>n.panels.indexOf(m)),c=mO({groupId:n.id}).getLayout(),h=_u({delta:e,initialLayout:c,panelConstraints:o.derivedPanelConstraints,pivotIndices:u,prevLayout:c,trigger:"keyboard"}),d=Zr({layout:h,panelConstraints:o.derivedPanelConstraints});Ku(c,d)||zn(m=>({mountedGroups:new Map(m.mountedGroups).set(n,{derivedPanelConstraints:o.derivedPanelConstraints,layout:d,separatorToPanels:o.separatorToPanels})}))}function kA(t){if(t.defaultPrevented)return;const e=t.currentTarget,n=cd(e);if(!n.disabled)switch(t.key){case"ArrowDown":{t.preventDefault(),n.orientation==="vertical"&&Pr(e,5);break}case"ArrowLeft":{t.preventDefault(),n.orientation==="horizontal"&&Pr(e,-5);break}case"ArrowRight":{t.preventDefault(),n.orientation==="horizontal"&&Pr(e,5);break}case"ArrowUp":{t.preventDefault(),n.orientation==="vertical"&&Pr(e,-5);break}case"End":{t.preventDefault(),Pr(e,100);break}case"Enter":{t.preventDefault();const o=cd(e),{derivedPanelConstraints:r,layout:a,separatorToPanels:u}=gO(o),c=o.separators.find(y=>y.element===e);rt(c,"Matching separator not found");const h=u.get(c);rt(h,"Matching panels not found");const d=h[0],m=r.find(y=>y.panelId===d.id);if(rt(m,"Panel metadata not found"),m.collapsible){const y=a[d.id],S=m.collapsedSize===y?o.inMemoryLastExpandedPanelSizes[d.id]??m.minSize:m.collapsedSize;Pr(e,S-y)}break}case"F6":{t.preventDefault();const o=cd(e).separators.map(u=>u.element),r=Array.from(o).findIndex(u=>u===t.currentTarget);rt(r!==null,"Index not found");const a=t.shiftKey?r>0?r-1:o.length-1:r+1<o.length?r+1:0;o[a].focus();break}case"Home":{t.preventDefault(),Pr(e,-100);break}}}function tY(t,e){return{x:t.x>=e.left&&t.x<=e.right?0:Math.min(Math.abs(t.x-e.left),Math.abs(t.x-e.right)),y:t.y>=e.top&&t.y<=e.bottom?0:Math.min(Math.abs(t.y-e.top),Math.abs(t.y-e.bottom))}}function nY(t,e,n){let o,r={x:1/0,y:1/0};for(const a of e){const u=tY(n,a.rect);switch(t){case"horizontal":{u.x<=r.x&&(o=a,r=u);break}case"vertical":{u.y<=r.y&&(o=a,r=u);break}}}return o?{distance:r,hitRegion:o}:void 0}let zf;function oY(){return zf===void 0&&(typeof matchMedia=="function"?zf=!!matchMedia("(pointer:coarse)").matches:zf=!1),zf}function vO(t,e){const n=[];return e.forEach((o,r)=>{if(r.disabled)return;const a=oY()?OA.coarse:OA.precise,u=uO(r),c=nY(r.orientation,u,{x:t.clientX,y:t.clientY});c&&c.distance.x<=a&&c.distance.y<=a&&n.push(c.hitRegion)}),n}function LA(t){if(t.defaultPrevented)return;const{mountedGroups:e}=Lo(),n=vO(t,e),o=new Set,r=new Set,a=new Set,u=new Map;let c=!1;n.forEach(h=>{o.add(h.group),h.panels.forEach(m=>{r.add(m)}),h.separator&&(a.add(h.separator),c||(c=!0,h.separator.element.focus()));const d=e.get(h.group);d&&u.set(h.group,d.layout)}),zn({interactionState:{hitRegions:n,initialLayoutMap:u,pointerDownAtPoint:{x:t.clientX,y:t.clientY},state:"active"}}),n.length&&t.preventDefault()}function UA(t){if(t.defaultPrevented)return;const{interactionState:e,mountedGroups:n}=Lo();switch(e.state){case"active":{if(t.type!=="pointerleave"&&t.buttons===0){zn(o=>o.interactionState.state==="inactive"?o:{cursorFlags:0,interactionState:{state:"inactive"}});return}pO({event:t,hitRegions:e.hitRegions,initialLayoutMap:e.initialLayoutMap,mountedGroups:n,pointerDownAtPoint:e.pointerDownAtPoint});break}default:{const o=vO(t,n);o.length===0?e.state!=="inactive"&&zn({interactionState:{state:"inactive"}}):zn({interactionState:{hitRegions:o,state:"hover"}}),I_();break}}}function BA(t){if(t.defaultPrevented)return;t.preventDefault();const{interactionState:e}=Lo();switch(e.state){case"active":zn({cursorFlags:0,interactionState:{state:"inactive"}}),I_()}}function iY(t){let e=0,n=0;const o={};for(const a of t)if(a.defaultSize!==void 0){e++;const u=no(a.defaultSize);n+=u,o[a.panelId]=u}else o[a.panelId]=void 0;const r=t.length-e;if(r!==0){const a=no((100-n)/r);for(const u of t)u.defaultSize===void 0&&(o[u.panelId]=a)}return o}function rY(t,e,n){const o=n[0];if(!o)return;const r=t.panels.find(u=>u.element===e);if(!r||!r.onResize)return;const a=Oh({group:t});r.onResize({asPercentage:no(o.inlineSize/a*100),inPixels:o.inlineSize},r.id)}function sY(t){let e=!0;rt(t.separators.length===0||t.separators.length<t.panels.length,"Invalid Group configuration; too many Separator components");const n=new Set,o=new Set,r=new ResizeObserver(y=>{for(const S of y){const{borderBoxSize:b,target:T}=S;T===t.element?e&&zn(A=>{const x=A.mountedGroups.get(t);if(x){const M=DA(t),I=x.layout,N=Zr({layout:I,panelConstraints:M});return{mountedGroups:new Map(A.mountedGroups).set(t,{derivedPanelConstraints:M,layout:N,separatorToPanels:x.separatorToPanels})}}return A}):rY(t,T,b)}});r.observe(t.element),t.panels.forEach(y=>{rt(!n.has(y.id),`Panel ids must be unique; id "${y.id}" was used more than once`),n.add(y.id),y.onResize&&r.observe(y.element)});const a=DA(t),u=t.panels.map(({id:y})=>y).join(","),c=t.inMemoryLayouts[u]??t.defaultLayout??iY(a),h=Zr({layout:c,panelConstraints:a}),d=uO(t),m=zn(y=>({mountedGroups:new Map(y.mountedGroups).set(t,{derivedPanelConstraints:a,layout:h,separatorToPanels:new Map(d.filter(S=>S.separator).map(S=>[S.separator,S.panels]))})}));return t.element.addEventListener("pointerleave",PA),t.separators.forEach(y=>{rt(!o.has(y.id),`Separator ids must be unique; id "${y.id}" was used more than once`),o.add(y.id),y.element.addEventListener("keydown",kA)}),m.mountedGroups.size===1&&(window.addEventListener("pointerdown",LA),window.addEventListener("pointermove",UA),window.addEventListener("pointerup",BA)),function(){e=!1;const y=zn(S=>{const b=new Map(S.mountedGroups);return b.delete(t),{mountedGroups:b}});t.element.removeEventListener("pointerleave",PA),t.separators.forEach(S=>{S.element.removeEventListener("keydown",kA)}),y.mountedGroups.size===0&&(window.removeEventListener("pointerdown",LA),window.removeEventListener("pointermove",UA),window.removeEventListener("pointerup",BA)),r.disconnect()}}function D_(t){const e=C.useId();return`${t??e}`}const ka=typeof window<"u"?C.useLayoutEffect:C.useEffect;function O_(t){const e=C.useRef(t);return ka(()=>{e.current=t},[t]),C.useCallback(n=>e.current?.(n),[e])}function P_(...t){return O_(e=>{t.forEach(n=>{if(n)switch(typeof n){case"function":{n(e);break}case"object":{n.current=e;break}}})})}const yO="--react-resizable-panels--panel--pointer-events";function _O(t,e){const n=t.replace(/[^a-zA-Z0-9\-_]/g,""),o=e.replace(/[^a-zA-Z0-9\-_]/g,"");return`--react-resizable-panels--${n}--${o}`}const SO=C.createContext(null);function aY(t,e){const n=C.useRef({getLayout:()=>({}),setLayout:QK});C.useImperativeHandle(e,()=>n.current,[]),ka(()=>{Object.assign(n.current,mO({groupId:t}))})}function lY({children:t,className:e,defaultLayout:n,disableCursor:o,disabled:r,elementRef:a,groupRef:u,id:c,onLayoutChange:h,orientation:d="horizontal",style:m,...y}){const S=C.useRef({}),b=O_(ae=>{Ku(S.current,ae)||(S.current=ae,h?.(ae))}),T=D_(c),[A,x]=C.useState(!1),[M,I]=C.useState(null),[N,D]=C.useState(n??{}),[L,U]=C.useState([]),[O,q]=C.useState([]),J=C.useRef({}),j=C.useRef({}),W=P_(I,a);aY(T,u);const re=C.useMemo(()=>({id:T,orientation:d,registerPanel:ae=>(U(de=>ry(d,[...de,ae])),()=>{U(de=>de.filter(F=>F!==ae))}),registerSeparator:ae=>(q(de=>ry(d,[...de,ae])),()=>{q(de=>de.filter(F=>F!==ae))})}),[T,d]);ka(()=>{if(M!==null&&L.length>0){const ae={defaultLayout:n,disableCursor:!!o,disabled:!!r,element:M,id:T,inMemoryLastExpandedPanelSizes:J.current,inMemoryLayouts:j.current,orientation:d,panels:L,separators:O},de=sY(ae),F=Lo().mountedGroups.get(ae);F&&(D(F.layout),b?.(F.layout));const Q=Vr.addListener("interactionStateChange",ne=>{switch(ne.state){case"active":case"hover":{x(ne.hitRegions.some(ce=>ce.group===ae));break}}}),ee=Vr.addListener("mountedGroupsChange",ne=>{const ce=ne.get(ae);ce&&ce.derivedPanelConstraints.length>0&&(D(ce.layout),b?.(ce.layout))});return()=>{de(),Q(),ee()}}},[n,o,r,M,T,b,d,L,O]);const oe={[yO]:A?"none":void 0};for(const ae in N){const de=_O(T,ae),F=N[ae];oe[de]=F}return E.jsx(SO.Provider,{value:re,children:E.jsx("div",{...y,"aria-orientation":d,className:e,"data-group":!0,"data-testid":T,id:T,ref:W,style:{...m,...oe,display:"flex",flexDirection:d==="horizontal"?"row":"column",flexWrap:"nowrap"},children:t})})}function k_(){const t=C.useContext(SO);return rt(t,"Group Context not found; did you render a Panel or Separator outside of a Group?"),t}function uY({groupId:t,panelId:e}){const n=()=>{const{mountedGroups:c}=Lo();for(const[h,{derivedPanelConstraints:d,layout:m,separatorToPanels:y}]of c)if(h.id===t)return{derivedPanelConstraints:d,group:h,layout:m,separatorToPanels:y};throw Error(`Group ${t} not found`)},o=()=>{const c=n().derivedPanelConstraints.find(h=>h.panelId===e);if(c!==void 0)return c;throw Error(`Panel constraints not found for Panel ${e}`)},r=()=>{const c=n().group.panels.find(h=>h.id===e);if(c!==void 0)return c;throw Error(`Layout not found for Panel ${e}`)},a=()=>{const c=n().layout[e];if(c!==void 0)return c;throw Error(`Layout not found for Panel ${e}`)},u=c=>{const h=a();if(c===h)return;const{derivedPanelConstraints:d,group:m,layout:y,separatorToPanels:S}=n(),b=m.panels.findIndex(M=>M.id===e),T=b===m.panels.length-1,A=_u({delta:T?h-c:c-h,initialLayout:y,panelConstraints:d,pivotIndices:T?[b-1,b]:[b,b+1],prevLayout:y,trigger:"imperative-api"}),x=Zr({layout:A,panelConstraints:d});Ku(y,x)||zn(M=>({mountedGroups:new Map(M.mountedGroups).set(m,{derivedPanelConstraints:d,layout:x,separatorToPanels:S})}))};return{collapse:()=>{const{collapsible:c,collapsedSize:h}=o(),d=a();c&&d!==h&&u(h)},expand:()=>{const{collapsible:c,collapsedSize:h,minSize:d}=o(),m=a();c&&m===h&&u(d)},getSize:()=>{const{group:c}=n(),h=a(),{element:d}=r(),m=c.orientation==="horizontal"?d.offsetWidth:d.offsetHeight;return{asPercentage:h,inPixels:m}},isCollapsed:()=>{const{collapsible:c,collapsedSize:h}=o(),d=a();return c&&Gt(h,d)},resize:c=>{if(a()!==c){let h;switch(typeof c){case"number":{const{group:d}=n(),m=Oh({group:d});h=no(c/m*100);break}case"string":{h=parseFloat(c);break}}u(h)}}}}function cY(t,e){const{id:n}=k_(),o=C.useRef({collapse:Kg,expand:Kg,getSize:()=>({asPercentage:0,inPixels:0}),isCollapsed:()=>!1,resize:Kg});C.useImperativeHandle(e,()=>o.current,[]),ka(()=>{Object.assign(o.current,uY({groupId:n,panelId:t}))})}function FA({children:t,className:e,collapsedSize:n="0%",collapsible:o=!1,defaultSize:r,elementRef:a,id:u,maxSize:c="100%",minSize:h="0%",onResize:d,panelRef:m,style:y,...S}){const b=!!u,T=D_(u),[A,x]=C.useState(null),M=P_(x,a),{id:I,registerPanel:N}=k_(),D=d!==null,L=O_(O=>{d?.(O,u)});ka(()=>{if(A!==null)return N({element:A,id:T,idIsStable:b,onResize:D?L:void 0,panelConstraints:{collapsedSize:n,collapsible:o,defaultSize:r,maxSize:c,minSize:h}})},[n,o,r,A,D,T,b,c,h,L,N]),cY(T,m);const U=_O(I,T);return E.jsx("div",{...S,"data-panel":!0,"data-testid":T,id:T,ref:M,style:{...fY,flexBasis:0,flexGrow:`var(${U}, 1)`,flexShrink:1,overflow:"hidden",pointerEvents:`var(${yO})`},children:E.jsx("div",{className:e,style:{width:"100%",height:"100%",...y},children:t})})}const fY={minHeight:"unset",maxHeight:"unset",height:"unset",minWidth:"unset",maxWidth:"unset",width:"unset",flex:"unset",flexBasis:"unset",flexShrink:"unset",flexGrow:"unset",border:"unset",borderWidth:"unset",padding:"unset",margin:"unset"};function dY({layout:t,panelConstraints:e,panelId:n,panelIndex:o}){let r,a;const u=t[n],c=e.find(h=>h.panelId===n);if(c){const h=c.maxSize,d=a=c.collapsible?c.collapsedSize:c.minSize,m=[o,o+1];a=Zr({layout:_u({delta:d-u,initialLayout:t,panelConstraints:e,pivotIndices:m,prevLayout:t,trigger:"keyboard"}),panelConstraints:e})[n],r=Zr({layout:_u({delta:h-u,initialLayout:t,panelConstraints:e,pivotIndices:m,prevLayout:t,trigger:"keyboard"}),panelConstraints:e})[n]}return{valueControls:n,valueMax:r,valueMin:a,valueNow:u}}function hY({children:t,className:e,elementRef:n,id:o,style:r,...a}){const u=D_(o),[c,h]=C.useState({}),[d,m]=C.useState("inactive"),[y,S]=C.useState(null),b=P_(S,n),{id:T,orientation:A,registerSeparator:x}=k_(),M=A==="horizontal"?"vertical":"horizontal";return ka(()=>{if(y!==null){const I={element:y,id:u},N=x(I),D=Vr.addListener("interactionStateChange",U=>{m(U.state!=="inactive"&&U.hitRegions.some(O=>O.separator===I)?U.state:"inactive")}),L=Vr.addListener("mountedGroupsChange",U=>{U.forEach(({derivedPanelConstraints:O,layout:q,separatorToPanels:J},j)=>{if(j.id===T){const W=J.get(I);if(W){const re=W[0],oe=j.panels.indexOf(re);h(dY({layout:q,panelConstraints:O,panelId:re.id,panelIndex:oe}))}}})});return()=>{D(),L(),N()}}},[y,T,u,x]),E.jsx("div",{...a,"aria-controls":c.valueControls,"aria-orientation":M,"aria-valuemax":c.valueMax,"aria-valuemin":c.valueMin,"aria-valuenow":c.valueNow,children:t,className:e,"data-separator":d,"data-testid":u,id:u,ref:b,role:"separator",style:{flexBasis:"auto",...r,flexGrow:0,flexShrink:0},tabIndex:0})}const bO=({localImage:t,initialText:e="",onImageGenerated:n,onClose:o})=>{const[r,a]=C.useState(null),[u,c]=C.useState(e),[h,d]=C.useState(!1),[m,y]=C.useState(fi.options.img_models.flash_image);C.useEffect(()=>{let b=!0;return t.getUrlObject().then(T=>{b&&a(T)}),()=>{b=!1}},[t]);const S=async()=>{d(!0);try{const b=await t.getBase64(),T=await fi.img2img(u||"",m,[{rawBase64:b.rawBase64,mime:b.mime,description:""}]);n&&n(T)}catch(b){console.error("GenerateImage failed:",b)}finally{d(!1)}};return E.jsx("div",{className:"border d-flex flex-column",style:{height:"700px"},children:E.jsxs(lY,{orientation:"horizontal",style:{height:"100%"},children:[E.jsx(FA,{defaultSize:500,minSize:10,children:E.jsx("div",{className:"d-flex align-items-center justify-content-center overflow-hidden",style:{height:"100%"},children:r?E.jsx("img",{src:r,alt:"Preview",className:"img-fluid",style:{objectFit:"contain",maxHeight:"100%",maxWidth:"100%"}}):E.jsx("div",{children:"Loading image"})})}),E.jsx(hY,{style:{cursor:"ew-resize",backgroundColor:"#8f8f8fff",width:"10px"}}),E.jsx(FA,{minSize:10,children:E.jsxs("div",{className:"d-flex flex-column h-100 p-3",style:{height:"100%"},children:[E.jsx("div",{className:"d-flex justify-content-end mb-2",children:o&&E.jsx("button",{type:"button",onClick:o,style:{cursor:"pointer"},children:""})}),E.jsxs("div",{className:"flex-grow-1 d-flex flex-column",children:[E.jsx("textarea",{value:u,onChange:b=>c(b.target.value),placeholder:"Edit This Image:",style:{flexGrow:1,resize:"none",padding:"8px",fontSize:"14px"}}),E.jsx(vu,{value:m,options:Object.values(fi.options.img_models),label:"Model:",onChange:b=>{y(b)}}),E.jsx(h_,{onClick:S,label:"Generate",is_loading:h})]})]})})]})})},pY=St(({shot:t})=>{const e=t.scene;if(!e.sceneJson||!e.sceneJson.data)return null;const n=e.sceneJson.data.tags,o=e.project?.artbook;return o?E.jsx(Fu,{label:"Tags",children:n.length?E.jsx("ul",{className:"list-group list-group-flush",children:n.map((r,a)=>{const u=o.getTag(r);if(!u)return null;const c=!t.getSkippedTags().includes(u.path);return E.jsxs("li",{className:"list-group-item p-0 border-0 d-flex align-items-center gap-2",children:[E.jsx("input",{type:"checkbox",className:"form-check-input m-0",checked:c,onChange:h=>{t.setTagSkipped(u.path,!h.target.checked)}}),E.jsx("span",{className:c?"":"text-muted",children:u.path})]},a)})}):E.jsx("div",{children:"No tags."})}):null}),mY={submitted:"gray",processing:"orange",succeed:"green",failed:"red"},gY=St(({task:t})=>{const n=t.data?.status??"submitted",o=mY[n]??"gray";return E.jsx("div",{className:"card mb-0",children:E.jsxs("div",{className:"card-body d-flex align-items-center justify-content-between py-0",children:[E.jsxs("div",{className:"d-flex align-items-center gap-2",children:[E.jsx("div",{style:{width:12,height:12,borderRadius:"50%",backgroundColor:o}}),E.jsx("span",{className:"fw-bold",children:t.id}),E.jsx("span",{className:"text-muted",children:n})]}),E.jsxs("div",{className:"d-flex gap-0",children:[E.jsx("span",{className:"text-muted me-2",children:t._status_log}),E.jsx(Qe,{label:"Check Status",className:"btn-outline-primary btn-sm rounded-0",onClick:()=>{t.check_status()}}),E.jsx(Qe,{label:"Delete",className:"btn-outline-danger btn-sm rounded-0",onClick:()=>{window.confirm(`Delete task ${t.id}?`)&&t.delete()}}),E.jsx(Qe,{label:"Log",className:"btn-outline-secondary btn-sm rounded-0",onClick:()=>{t.log()}}),E.jsx(iu,{isLoading:t.is_checking_status,asButton:!0})]})]})})}),vY=St(({shot:t})=>!t.tasks||t.tasks.length===0?E.jsx("div",{className:"mt-2 text-muted",children:"No tasks"}):E.jsx(Fu,{label:`Tasks (${t.tasks.length})`,defaultCollapsed:!1,className:"mt-2 mb-2",children:E.jsx("div",{className:"d-flex flex-column gap-0",children:t.tasks.map(e=>E.jsx(gY,{task:e},e.id))})})),fd=({localVideo:t,height:e=250,topRightExtra:n,onClick:o,autoPlay:r=!0,loop:a=!0,muted:u=!0,isSelected:c=!1,isPicked:h=!1})=>{const[d,m]=C.useState(null),[y,S]=C.useState(!1);return C.useEffect(()=>{let b=!0;return(async()=>{try{const A=await t.getUrlObject();b&&A&&m(A)}catch(A){console.error("Error loading LocalVideo",A)}})(),()=>{b=!1,t.revokeUrl()}},[t]),d?E.jsxs("div",{className:"position-relative d-inline-block",style:{height:`${e}px`,cursor:"pointer",outline:h?"3px solid #085db7":"none",outlineOffset:-3},onMouseEnter:()=>S(!0),onMouseLeave:()=>S(!1),children:[c&&E.jsx("div",{style:{position:"absolute",top:5,left:5,width:20,height:20,borderRadius:"50%",backgroundColor:"limegreen",border:"2px solid white",zIndex:20}}),E.jsx("video",{src:d,height:e,onClick:o,autoPlay:r,loop:a,muted:u,style:{height:`${e}px`,width:"auto",objectFit:"contain",display:"block"}}),n&&y&&E.jsx("div",{className:"position-absolute",style:{top:"5px",right:"5px",zIndex:10,display:"flex",gap:"5px"},children:n})]}):E.jsx("div",{className:"d-flex align-items-center justify-content-center border rounded p-2",style:{height:`${e}px`,width:"auto"},children:"Loading..."})};function Zs({workflowName:t,project:e,optionName:n,label:o,values:r}){const a=e?.workflows?.[t]?.[n];return E.jsx(vu,{value:a,options:r,label:o,onChange:u=>{e.updateWorkflow(t,n,u)}})}const EO=({width:t=400,height:e=200,onDrop:n,children:o})=>{const[r,a]=C.useState(!1),u=d=>{d.preventDefault(),a(!0)},c=()=>{a(!1)},h=d=>{d.preventDefault(),a(!1);const m=Array.from(d.dataTransfer.files);m.length>0&&n(m)};return E.jsx("div",{className:`drop-area ${r?"dragging":""}`,style:{width:t,height:e,border:r?"2px solid #42a5f5":"2px dashed #606060",borderRadius:"8px",display:"flex",justifyContent:"center",alignItems:"center",cursor:"pointer",backgroundColor:r?"#294457":"#2a2a31",boxShadow:r?"0 0 10px rgba(66,165,245,0.5)":"none",transition:"all 0.2s ease-in-out"},onDragOver:u,onDragLeave:c,onDrop:h,children:o||E.jsx("span",{style:{display:"block",textAlign:"center",width:"100%",color:"#5e727e"},children:"Drag and Drop Here"})})},yY=({mediaItem:t,height:e=300,onSelectMedia:n,topRightExtra:o,isSelected:r=!1,isPicked:a=!1})=>t instanceof Hn?E.jsx(lO,{localImage:t,height:e,onClick:()=>n?.(t),topRightExtra:o,isSelected:r,isPicked:a},t.path):t instanceof gi?E.jsx(fd,{localVideo:t,height:e,topRightExtra:o,isSelected:r,isPicked:a,onClick:()=>n?.(t)},t.path):null,jg=St(({mediaFolder:t,label:e=null,itemHeight:n=300})=>!t||!t.folder?null:(e=e||t.folderName,E.jsx(E.Fragment,{children:E.jsxs(ud,{label:e,headerExtra:E.jsxs(E.Fragment,{children:[E.jsx(Qe,{label:"Log",className:"btn-outline-secondary btn-sm",onClick:()=>{t.log()}}),E.jsx(Qe,{label:"Import URL",className:"btn-outline-secondary btn-sm",onClick:async()=>{try{const o=await navigator.clipboard.readText();o&&(o.startsWith("http://")||o.startsWith("https://"))?(console.log("Importing URL from clipboard:",o),t.downloadFromUrl(o)):alert("Clipboard does not contain a valid URL.")}catch(o){console.error("Failed to read clipboard:",o),alert("Failed to access clipboard.")}}}),E.jsx(Qe,{label:"Paste",className:"btn-outline-secondary btn-sm",onClick:()=>{t.copyFromClipboard()}})]}),editWindow:t.selectedMedia instanceof Hn?E.jsx(bO,{localImage:t.selectedMedia,initialText:"Notes for this image",onImageGenerated:async o=>{console.log("Image generated:",o);const r=await fi.saveResultImage(o,t.folder);r&&t.loadFile(r?.handle)},onClose:()=>t.setSelectedMedia(null)}):null,children:[t.media.map(o=>E.jsx(yY,{mediaItem:o,height:n,onSelectMedia:r=>{t.setSelectedMedia(r)},isSelected:t.pickedMedia==o,isPicked:t.selectedMedia==o,topRightExtra:E.jsxs(E.Fragment,{children:[E.jsx(Qe,{label:"Pick",className:"btn-outline-secondary btn-sm",onClick:()=>{t.setPickedMedia(o)}}),E.jsx(Qe,{label:"Delete",className:"btn-outline-danger btn-sm",onClick:async()=>{await t.deleteMedia(o)}})]})},o.path)),E.jsx(EO,{width:100,height:n,onDrop:async o=>{await t.saveFiles(o)}})]})}))),_Y=St(({shot:t})=>{if(!t.shotJson)return E.jsx("div",{children:"Loading shot info..."});const e=200,n=t.images??[],o=t.scene.project,r=async()=>{window.confirm(`Are you sure you want to delete shot "${t.folder.name}"?`)&&await t.delete()};return E.jsx(Ea,{tabs:{Shot:E.jsx("div",{className:"card mb-2",children:E.jsxs("div",{className:"card-body",children:[E.jsxs("div",{className:"d-flex align-items-center justify-content-between mb-2",children:[E.jsx("strong",{children:t.folder.name}),E.jsxs("div",{className:"d-flex gap-2",children:[E.jsx(vu,{value:t.shotJson.getField("shot_type")||"shot_type",options:["simple shot","actor shot"],onChange:a=>{t.shotJson?.updateField("shot_type",a)}}),E.jsx(aO,{label:"Finished",value:!!t.shotJson.data?.finished,onToggle:a=>{t.shotJson&&t.shotJson.updateField("finished",a)}}),E.jsx(Qe,{onClick:()=>{t.log()},label:"Log Shot"}),E.jsx(Qe,{onClick:r,label:"Delete Shot",className:"btn-outline-danger"})]})]}),E.jsx("div",{className:"mb-0",children:E.jsxs("div",{className:"btn-group mb-2",role:"group",children:[E.jsx("button",{className:"btn btn-sm btn-outline-success",onClick:async()=>{t.GenerateImage()},children:" Generate Image "}),E.jsx(vu,{value:t.scene.project.workflows.generate_shot_image.model,options:QM,onChange:a=>{t.scene.project.updateWorkflow("generate_shot_image","model",a)}}),E.jsx(iu,{isLoading:t.is_generating,asButton:!0})]})}),E.jsx(iy,{className:"mb-2",buttons:E.jsxs(E.Fragment,{children:[E.jsx("button",{className:"btn btn-sm btn-outline-success",onClick:async()=>{t.GenerateVideo()},children:" Generate Video"}),E.jsx(Zs,{project:o,workflowName:"generate_video_kling",optionName:"model",values:Object.values(ut.options.img2video.model)}),E.jsx(Zs,{project:o,workflowName:"generate_video_kling",optionName:"mode",label:"mode:",values:Object.values(ut.options.img2video.mode)}),E.jsx(Zs,{project:o,workflowName:"generate_video_kling",optionName:"duration",label:"Duration:",values:Object.values(ut.options.img2video.duration)}),E.jsx(iu,{isLoading:t.is_submitting_video,asButton:!0})]}),content:E.jsx(E.Fragment,{})}),E.jsx(iy,{className:"mb-2",buttons:E.jsxs(E.Fragment,{children:[E.jsx("button",{className:"btn btn-sm btn-outline-success",onClick:async()=>{t.GenerateVideo_KlingMotionControl()},children:" Gen Motion Control Video"}),E.jsx(Zs,{project:o,workflowName:"kling_motion_control",optionName:"character_orientation",label:"Orient:",values:Object.values(ut.options.motion_control.character_orientation)}),E.jsx(Zs,{project:o,workflowName:"kling_motion_control",optionName:"mode",label:"mode:",values:Object.values(ut.options.motion_control.mode)}),E.jsx(Zs,{project:o,label:"Sound:",workflowName:"kling_motion_control",optionName:"keep_original_sound",values:Object.values(ut.options.motion_control.keep_original_sound)}),E.jsx(iu,{isLoading:t.is_submitting_video,asButton:!0})]}),content:E.jsxs(E.Fragment,{children:[t.kling_motion_video&&E.jsx(fd,{localVideo:t.kling_motion_video,height:400,topRightExtra:E.jsx(E.Fragment,{})}),E.jsxs(ud,{label:"Reference Videos",children:[t.ref_videos.map((a,u)=>E.jsx(fd,{localVideo:a,height:200,onClick:()=>{t.setKlingMotionReferenceVideo(a)},topRightExtra:E.jsx(E.Fragment,{children:E.jsx(Qe,{label:"Delete",className:"btn-outline-danger btn-sm",onClick:async()=>{await a.delete(),t.removeReferenceVideo(a)}})})},u)),E.jsx(EO,{width:100,onDrop:async a=>{const u=a[0];console.log(u);const c=await t.refVideoFolder.getFileHandle(u.name,{create:!0}),h=await c.createWritable();await h.write(u),await h.close(),console.log(`Saved file ${u.name} successfully!`);const d=new gi(c,t.refVideoFolder);Te(()=>{t.ref_videos.push(d)})}})]})]})}),E.jsx(vY,{shot:t}),E.jsx(Sn,{localJson:t.shotJson,field:"prompt",fitHeight:!0}),E.jsx(Sn,{localJson:t.shotJson,field:"video_prompt",fitHeight:!0}),E.jsx(Sn,{localJson:t.shotJson,field:"camera",fitHeight:!0}),E.jsx(Sn,{localJson:t.shotJson,field:"action_description",fitHeight:!0}),E.jsx(pY,{shot:t}),E.jsx(ud,{label:"Shot Results",headerExtra:E.jsx(E.Fragment,{children:E.jsx(Qe,{label:"Import URL",onClick:async()=>{try{const a=await navigator.clipboard.readText();if(a&&(a.startsWith("http://")||a.startsWith("https://"))){console.log("Importing URL from clipboard:",a);const u=await Hn.fromUrl(a,t.resultsFolder);t.addImage(u)}else alert("Clipboard does not contain a valid URL.")}catch(a){console.error("Failed to read clipboard:",a),alert("Failed to access clipboard.")}}})}),children:n.map((a,u)=>E.jsx(lO,{localImage:a,height:e,onClick:()=>{t.selectArt(a)},topRightExtra:E.jsxs(E.Fragment,{children:[E.jsx(Qe,{onClick:()=>t.setSrcImage(a),label:"Pick"}),E.jsx(Qe,{onClick:async()=>{if(window.confirm("Delete this image?"))try{await a.delete(),t.removeImage(a)}catch(c){console.error("Failed to delete image:",c),alert("Failed to delete image.")}},label:"Delete",className:"btn-outline-danger"})]})},u))}),t.selected_art&&E.jsx(bO,{localImage:t.selected_art,initialText:"Notes for this image",onImageGenerated:async a=>{await t.saveGoogleResultImage(a,!0)},onClose:()=>{t.selectArt()}}),E.jsx(ud,{label:"Generated Videos",children:t.videos.map((a,u)=>E.jsx(fd,{localVideo:a,height:500,topRightExtra:E.jsx(E.Fragment,{children:E.jsx(Qe,{label:"Delete",className:"btn-outline-danger btn-sm",onClick:async()=>{await a.delete(),t.removeVideo(a)}})})},u))})]})}),ResultImages:E.jsxs(E.Fragment,{children:[E.jsx(jg,{mediaFolder:t.MediaFolder_genVideo}),E.jsx(jg,{mediaFolder:t.MediaFolder_results}),E.jsx(jg,{mediaFolder:t.MediaFolder_refVideo})]})}})}),SY=St(({scene:t})=>{const[e,n]=C.useState(null);C.useEffect(()=>{n(null)},[t]);const o=async()=>{const r=prompt("Enter new shot name:");if(!r)return;const a=await t.createShot(r);a&&n(a)};return E.jsxs("div",{className:"d-flex flex-column gap-3",children:[E.jsx(VK,{initialHeight:200,children:E.jsxs("div",{className:"d-flex overflow-auto gap-2 h-100",children:[t.shots.map(r=>E.jsx(GK,{shot:r,isSelected:e===r,onClick:n},r.folder.name)),E.jsx("div",{className:"mt-2",children:E.jsx(Qe,{label:"+ Add Shot",onClick:o})})]})}),E.jsxs("div",{children:[E.jsx(h_,{onClick:()=>{t.generateAllShotImages()},label:"Generate ALL",is_loading:t.is_generating_all_shot_images}),E.jsx(Qe,{label:"+ Add Shot",onClick:o}),E.jsx(Qe,{label:"Export Resolve XML",onClick:()=>{t.createResolveXML()}})]}),e&&E.jsx(_Y,{shot:e})]})}),bY=St(({project:t})=>{switch(t.currentView.type){case"settings":return E.jsx(y6,{project:t});case"script":return E.jsx(_6,{project:t});case"artbook":return t.artbook?E.jsx(b6,{artbook:t.artbook}):E.jsx("div",{children:"No Artbook found."});case"scene":if(!t.selectedScene)return null;const e=t.selectedScene;return E.jsxs("div",{children:[E.jsx("h2",{children:e.folder.name}),E.jsx(Ea,{tabs:{Scene:E.jsx(HK,{scene:e}),Shots:E.jsx(SY,{scene:e})}})]});default:return null}}),EY=St(()=>{const[t]=C.useState(()=>new h6(null)),e=async()=>{try{const o=await window.showDirectoryPicker();await t.loadFromFolder(o)}catch(o){console.error(o)}},n=async o=>{let r=await o.queryPermission({mode:"readwrite"});r!=="granted"&&(r=await o.requestPermission({mode:"readwrite"})),r==="granted"&&await t.loadFromFolder(o)};return C.useEffect(()=>{(async()=>{if(await t.loadDB(),t.userSettingsDB.data.lastOpenedFolder){const r=t.userSettingsDB.data.lastOpenedFolder;let a=await r.queryPermission({mode:"readwrite"});a!=="granted"&&(a=await r.requestPermission({mode:"readwrite"})),a==="granted"&&await t.loadFromFolder(r)}})()},[]),E.jsxs("div",{style:{minHeight:"100vh"},children:[E.jsx(p6,{onOpenFolder:e,recentFolders:t.userSettingsDB.data.recentFolders,onOpenRecent:n,project:t}),E.jsxs("div",{className:"d-flex",style:{height:"calc(100vh - 56px)",overflow:"hidden"},children:[E.jsx(g6,{project:t}),E.jsx("div",{className:"flex-grow-1 d-flex flex-column overflow-hidden",children:E.jsx("div",{className:"flex-grow-1 overflow-auto p-3",children:E.jsx(bY,{project:t})})})]})]})}),wY=C.createContext(void 0),CY=({children:t})=>{const[e,n]=C.useState(null);return E.jsx(wY.Provider,{value:{contentArea:e,setContentArea:n},children:t})};WP.createRoot(document.getElementById("root")).render(E.jsx(C.StrictMode,{children:E.jsx(CY,{children:E.jsx(EY,{})})}));
