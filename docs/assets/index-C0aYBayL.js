(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const u of a.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function n(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(s){if(s.ep)return;s.ep=!0;const a=n(s);fetch(s.href,a)}})();function Nl(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Tp={exports:{}},Ka={};var CS;function xI(){if(CS)return Ka;CS=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(i,s,a){var u=null;if(a!==void 0&&(u=""+a),s.key!==void 0&&(u=""+s.key),"key"in s){a={};for(var f in s)f!=="key"&&(a[f]=s[f])}else a=s;return s=a.ref,{$$typeof:t,type:i,key:u,ref:s!==void 0?s:null,props:a}}return Ka.Fragment=e,Ka.jsx=n,Ka.jsxs=n,Ka}var AS;function RI(){return AS||(AS=1,Tp.exports=xI()),Tp.exports}var w=RI(),bp={exports:{}},Ae={};var wS;function MI(){if(wS)return Ae;wS=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),u=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),_=Symbol.for("react.activity"),S=Symbol.iterator;function T(O){return O===null||typeof O!="object"?null:(O=S&&O[S]||O["@@iterator"],typeof O=="function"?O:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,x={};function I(O,Y,ne){this.props=O,this.context=Y,this.refs=x,this.updater=ne||b}I.prototype.isReactComponent={},I.prototype.setState=function(O,Y){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,Y,"setState")},I.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function D(){}D.prototype=I.prototype;function N(O,Y,ne){this.props=O,this.context=Y,this.refs=x,this.updater=ne||b}var P=N.prototype=new D;P.constructor=N,A(P,I.prototype),P.isPureReactComponent=!0;var z=Array.isArray;function G(){}var B={H:null,A:null,T:null,S:null},Q=Object.prototype.hasOwnProperty;function X(O,Y,ne){var ie=ne.ref;return{$$typeof:t,type:O,key:Y,ref:ie!==void 0?ie:null,props:ne}}function te(O,Y){return X(O.type,Y,O.props)}function j(O){return typeof O=="object"&&O!==null&&O.$$typeof===t}function le(O){var Y={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(ne){return Y[ne]})}var re=/\/+/g;function fe(O,Y){return typeof O=="object"&&O!==null&&O.key!=null?le(""+O.key):Y.toString(36)}function _e(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(G,G):(O.status="pending",O.then(function(Y){O.status==="pending"&&(O.status="fulfilled",O.value=Y)},function(Y){O.status==="pending"&&(O.status="rejected",O.reason=Y)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function k(O,Y,ne,ie,he){var be=typeof O;(be==="undefined"||be==="boolean")&&(O=null);var Ne=!1;if(O===null)Ne=!0;else switch(be){case"bigint":case"string":case"number":Ne=!0;break;case"object":switch(O.$$typeof){case t:case e:Ne=!0;break;case v:return Ne=O._init,k(Ne(O._payload),Y,ne,ie,he)}}if(Ne)return he=he(O),Ne=ie===""?"."+fe(O,0):ie,z(he)?(ne="",Ne!=null&&(ne=Ne.replace(re,"$&/")+"/"),k(he,Y,ne,"",function(Ln){return Ln})):he!=null&&(j(he)&&(he=te(he,ne+(he.key==null||O&&O.key===he.key?"":(""+he.key).replace(re,"$&/")+"/")+Ne)),Y.push(he)),1;Ne=0;var Ze=ie===""?".":ie+":";if(z(O))for(var qe=0;qe<O.length;qe++)ie=O[qe],be=Ze+fe(ie,qe),Ne+=k(ie,Y,ne,be,he);else if(qe=T(O),typeof qe=="function")for(O=qe.call(O),qe=0;!(ie=O.next()).done;)ie=ie.value,be=Ze+fe(ie,qe++),Ne+=k(ie,Y,ne,be,he);else if(be==="object"){if(typeof O.then=="function")return k(_e(O),Y,ne,ie,he);throw Y=String(O),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return Ne}function Z(O,Y,ne){if(O==null)return O;var ie=[],he=0;return k(O,ie,"","",function(be){return Y.call(ne,be,he++)}),ie}function se(O){if(O._status===-1){var Y=O._result;Y=Y(),Y.then(function(ne){(O._status===0||O._status===-1)&&(O._status=1,O._result=ne)},function(ne){(O._status===0||O._status===-1)&&(O._status=2,O._result=ne)}),O._status===-1&&(O._status=0,O._result=Y)}if(O._status===1)return O._result.default;throw O._result}var Se=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},me={map:Z,forEach:function(O,Y,ne){Z(O,function(){Y.apply(this,arguments)},ne)},count:function(O){var Y=0;return Z(O,function(){Y++}),Y},toArray:function(O){return Z(O,function(Y){return Y})||[]},only:function(O){if(!j(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return Ae.Activity=_,Ae.Children=me,Ae.Component=I,Ae.Fragment=n,Ae.Profiler=s,Ae.PureComponent=N,Ae.StrictMode=i,Ae.Suspense=p,Ae.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=B,Ae.__COMPILER_RUNTIME={__proto__:null,c:function(O){return B.H.useMemoCache(O)}},Ae.cache=function(O){return function(){return O.apply(null,arguments)}},Ae.cacheSignal=function(){return null},Ae.cloneElement=function(O,Y,ne){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var ie=A({},O.props),he=O.key;if(Y!=null)for(be in Y.key!==void 0&&(he=""+Y.key),Y)!Q.call(Y,be)||be==="key"||be==="__self"||be==="__source"||be==="ref"&&Y.ref===void 0||(ie[be]=Y[be]);var be=arguments.length-2;if(be===1)ie.children=ne;else if(1<be){for(var Ne=Array(be),Ze=0;Ze<be;Ze++)Ne[Ze]=arguments[Ze+2];ie.children=Ne}return X(O.type,he,ie)},Ae.createContext=function(O){return O={$$typeof:u,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:a,_context:O},O},Ae.createElement=function(O,Y,ne){var ie,he={},be=null;if(Y!=null)for(ie in Y.key!==void 0&&(be=""+Y.key),Y)Q.call(Y,ie)&&ie!=="key"&&ie!=="__self"&&ie!=="__source"&&(he[ie]=Y[ie]);var Ne=arguments.length-2;if(Ne===1)he.children=ne;else if(1<Ne){for(var Ze=Array(Ne),qe=0;qe<Ne;qe++)Ze[qe]=arguments[qe+2];he.children=Ze}if(O&&O.defaultProps)for(ie in Ne=O.defaultProps,Ne)he[ie]===void 0&&(he[ie]=Ne[ie]);return X(O,be,he)},Ae.createRef=function(){return{current:null}},Ae.forwardRef=function(O){return{$$typeof:f,render:O}},Ae.isValidElement=j,Ae.lazy=function(O){return{$$typeof:v,_payload:{_status:-1,_result:O},_init:se}},Ae.memo=function(O,Y){return{$$typeof:h,type:O,compare:Y===void 0?null:Y}},Ae.startTransition=function(O){var Y=B.T,ne={};B.T=ne;try{var ie=O(),he=B.S;he!==null&&he(ne,ie),typeof ie=="object"&&ie!==null&&typeof ie.then=="function"&&ie.then(G,Se)}catch(be){Se(be)}finally{Y!==null&&ne.types!==null&&(Y.types=ne.types),B.T=Y}},Ae.unstable_useCacheRefresh=function(){return B.H.useCacheRefresh()},Ae.use=function(O){return B.H.use(O)},Ae.useActionState=function(O,Y,ne){return B.H.useActionState(O,Y,ne)},Ae.useCallback=function(O,Y){return B.H.useCallback(O,Y)},Ae.useContext=function(O){return B.H.useContext(O)},Ae.useDebugValue=function(){},Ae.useDeferredValue=function(O,Y){return B.H.useDeferredValue(O,Y)},Ae.useEffect=function(O,Y){return B.H.useEffect(O,Y)},Ae.useEffectEvent=function(O){return B.H.useEffectEvent(O)},Ae.useId=function(){return B.H.useId()},Ae.useImperativeHandle=function(O,Y,ne){return B.H.useImperativeHandle(O,Y,ne)},Ae.useInsertionEffect=function(O,Y){return B.H.useInsertionEffect(O,Y)},Ae.useLayoutEffect=function(O,Y){return B.H.useLayoutEffect(O,Y)},Ae.useMemo=function(O,Y){return B.H.useMemo(O,Y)},Ae.useOptimistic=function(O,Y){return B.H.useOptimistic(O,Y)},Ae.useReducer=function(O,Y,ne){return B.H.useReducer(O,Y,ne)},Ae.useRef=function(O){return B.H.useRef(O)},Ae.useState=function(O){return B.H.useState(O)},Ae.useSyncExternalStore=function(O,Y,ne){return B.H.useSyncExternalStore(O,Y,ne)},Ae.useTransition=function(){return B.H.useTransition()},Ae.version="19.2.1",Ae}var xS;function Nf(){return xS||(xS=1,bp.exports=MI()),bp.exports}var R=Nf();const St=Nl(R);var Cp={exports:{}},Xa={},Ap={exports:{}},wp={};var RS;function NI(){return RS||(RS=1,(function(t){function e(k,Z){var se=k.length;k.push(Z);e:for(;0<se;){var Se=se-1>>>1,me=k[Se];if(0<s(me,Z))k[Se]=Z,k[se]=me,se=Se;else break e}}function n(k){return k.length===0?null:k[0]}function i(k){if(k.length===0)return null;var Z=k[0],se=k.pop();if(se!==Z){k[0]=se;e:for(var Se=0,me=k.length,O=me>>>1;Se<O;){var Y=2*(Se+1)-1,ne=k[Y],ie=Y+1,he=k[ie];if(0>s(ne,se))ie<me&&0>s(he,ne)?(k[Se]=he,k[ie]=se,Se=ie):(k[Se]=ne,k[Y]=se,Se=Y);else if(ie<me&&0>s(he,se))k[Se]=he,k[ie]=se,Se=ie;else break e}}return Z}function s(k,Z){var se=k.sortIndex-Z.sortIndex;return se!==0?se:k.id-Z.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var u=Date,f=u.now();t.unstable_now=function(){return u.now()-f}}var p=[],h=[],v=1,_=null,S=3,T=!1,b=!1,A=!1,x=!1,I=typeof setTimeout=="function"?setTimeout:null,D=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;function P(k){for(var Z=n(h);Z!==null;){if(Z.callback===null)i(h);else if(Z.startTime<=k)i(h),Z.sortIndex=Z.expirationTime,e(p,Z);else break;Z=n(h)}}function z(k){if(A=!1,P(k),!b)if(n(p)!==null)b=!0,G||(G=!0,le());else{var Z=n(h);Z!==null&&_e(z,Z.startTime-k)}}var G=!1,B=-1,Q=5,X=-1;function te(){return x?!0:!(t.unstable_now()-X<Q)}function j(){if(x=!1,G){var k=t.unstable_now();X=k;var Z=!0;try{e:{b=!1,A&&(A=!1,D(B),B=-1),T=!0;var se=S;try{t:{for(P(k),_=n(p);_!==null&&!(_.expirationTime>k&&te());){var Se=_.callback;if(typeof Se=="function"){_.callback=null,S=_.priorityLevel;var me=Se(_.expirationTime<=k);if(k=t.unstable_now(),typeof me=="function"){_.callback=me,P(k),Z=!0;break t}_===n(p)&&i(p),P(k)}else i(p);_=n(p)}if(_!==null)Z=!0;else{var O=n(h);O!==null&&_e(z,O.startTime-k),Z=!1}}break e}finally{_=null,S=se,T=!1}Z=void 0}}finally{Z?le():G=!1}}}var le;if(typeof N=="function")le=function(){N(j)};else if(typeof MessageChannel<"u"){var re=new MessageChannel,fe=re.port2;re.port1.onmessage=j,le=function(){fe.postMessage(null)}}else le=function(){I(j,0)};function _e(k,Z){B=I(function(){k(t.unstable_now())},Z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(k){k.callback=null},t.unstable_forceFrameRate=function(k){0>k||125<k?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Q=0<k?Math.floor(1e3/k):5},t.unstable_getCurrentPriorityLevel=function(){return S},t.unstable_next=function(k){switch(S){case 1:case 2:case 3:var Z=3;break;default:Z=S}var se=S;S=Z;try{return k()}finally{S=se}},t.unstable_requestPaint=function(){x=!0},t.unstable_runWithPriority=function(k,Z){switch(k){case 1:case 2:case 3:case 4:case 5:break;default:k=3}var se=S;S=k;try{return Z()}finally{S=se}},t.unstable_scheduleCallback=function(k,Z,se){var Se=t.unstable_now();switch(typeof se=="object"&&se!==null?(se=se.delay,se=typeof se=="number"&&0<se?Se+se:Se):se=Se,k){case 1:var me=-1;break;case 2:me=250;break;case 5:me=1073741823;break;case 4:me=1e4;break;default:me=5e3}return me=se+me,k={id:v++,callback:Z,priorityLevel:k,startTime:se,expirationTime:me,sortIndex:-1},se>Se?(k.sortIndex=se,e(h,k),n(p)===null&&k===n(h)&&(A?(D(B),B=-1):A=!0,_e(z,se-Se))):(k.sortIndex=me,e(p,k),b||T||(b=!0,G||(G=!0,le()))),k},t.unstable_shouldYield=te,t.unstable_wrapCallback=function(k){var Z=S;return function(){var se=S;S=Z;try{return k.apply(this,arguments)}finally{S=se}}}})(wp)),wp}var MS;function II(){return MS||(MS=1,Ap.exports=NI()),Ap.exports}var xp={exports:{}},It={};var NS;function DI(){if(NS)return It;NS=1;var t=Nf();function e(p){var h="https://react.dev/errors/"+p;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)h+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+p+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},s=Symbol.for("react.portal");function a(p,h,v){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:_==null?null:""+_,children:p,containerInfo:h,implementation:v}}var u=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(p,h){if(p==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return It.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,It.createPortal=function(p,h){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(e(299));return a(p,h,null,v)},It.flushSync=function(p){var h=u.T,v=i.p;try{if(u.T=null,i.p=2,p)return p()}finally{u.T=h,i.p=v,i.d.f()}},It.preconnect=function(p,h){typeof p=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,i.d.C(p,h))},It.prefetchDNS=function(p){typeof p=="string"&&i.d.D(p)},It.preinit=function(p,h){if(typeof p=="string"&&h&&typeof h.as=="string"){var v=h.as,_=f(v,h.crossOrigin),S=typeof h.integrity=="string"?h.integrity:void 0,T=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;v==="style"?i.d.S(p,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:_,integrity:S,fetchPriority:T}):v==="script"&&i.d.X(p,{crossOrigin:_,integrity:S,fetchPriority:T,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},It.preinitModule=function(p,h){if(typeof p=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var v=f(h.as,h.crossOrigin);i.d.M(p,{crossOrigin:v,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&i.d.M(p)},It.preload=function(p,h){if(typeof p=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var v=h.as,_=f(v,h.crossOrigin);i.d.L(p,v,{crossOrigin:_,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},It.preloadModule=function(p,h){if(typeof p=="string")if(h){var v=f(h.as,h.crossOrigin);i.d.m(p,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:v,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else i.d.m(p)},It.requestFormReset=function(p){i.d.r(p)},It.unstable_batchedUpdates=function(p,h){return p(h)},It.useFormState=function(p,h,v){return u.H.useFormState(p,h,v)},It.useFormStatus=function(){return u.H.useHostTransitionStatus()},It.version="19.2.1",It}var IS;function iC(){if(IS)return xp.exports;IS=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),xp.exports=DI(),xp.exports}var DS;function OI(){if(DS)return Xa;DS=1;var t=II(),e=Nf(),n=iC();function i(o){var r="https://react.dev/errors/"+o;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)r+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+o+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function a(o){var r=o,l=o;if(o.alternate)for(;r.return;)r=r.return;else{o=r;do r=o,(r.flags&4098)!==0&&(l=r.return),o=r.return;while(o)}return r.tag===3?l:null}function u(o){if(o.tag===13){var r=o.memoizedState;if(r===null&&(o=o.alternate,o!==null&&(r=o.memoizedState)),r!==null)return r.dehydrated}return null}function f(o){if(o.tag===31){var r=o.memoizedState;if(r===null&&(o=o.alternate,o!==null&&(r=o.memoizedState)),r!==null)return r.dehydrated}return null}function p(o){if(a(o)!==o)throw Error(i(188))}function h(o){var r=o.alternate;if(!r){if(r=a(o),r===null)throw Error(i(188));return r!==o?null:o}for(var l=o,c=r;;){var g=l.return;if(g===null)break;var y=g.alternate;if(y===null){if(c=g.return,c!==null){l=c;continue}break}if(g.child===y.child){for(y=g.child;y;){if(y===l)return p(g),o;if(y===c)return p(g),r;y=y.sibling}throw Error(i(188))}if(l.return!==c.return)l=g,c=y;else{for(var E=!1,C=g.child;C;){if(C===l){E=!0,l=g,c=y;break}if(C===c){E=!0,c=g,l=y;break}C=C.sibling}if(!E){for(C=y.child;C;){if(C===l){E=!0,l=y,c=g;break}if(C===c){E=!0,c=y,l=g;break}C=C.sibling}if(!E)throw Error(i(189))}}if(l.alternate!==c)throw Error(i(190))}if(l.tag!==3)throw Error(i(188));return l.stateNode.current===l?o:r}function v(o){var r=o.tag;if(r===5||r===26||r===27||r===6)return o;for(o=o.child;o!==null;){if(r=v(o),r!==null)return r;o=o.sibling}return null}var _=Object.assign,S=Symbol.for("react.element"),T=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),x=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),D=Symbol.for("react.consumer"),N=Symbol.for("react.context"),P=Symbol.for("react.forward_ref"),z=Symbol.for("react.suspense"),G=Symbol.for("react.suspense_list"),B=Symbol.for("react.memo"),Q=Symbol.for("react.lazy"),X=Symbol.for("react.activity"),te=Symbol.for("react.memo_cache_sentinel"),j=Symbol.iterator;function le(o){return o===null||typeof o!="object"?null:(o=j&&o[j]||o["@@iterator"],typeof o=="function"?o:null)}var re=Symbol.for("react.client.reference");function fe(o){if(o==null)return null;if(typeof o=="function")return o.$$typeof===re?null:o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case A:return"Fragment";case I:return"Profiler";case x:return"StrictMode";case z:return"Suspense";case G:return"SuspenseList";case X:return"Activity"}if(typeof o=="object")switch(o.$$typeof){case b:return"Portal";case N:return o.displayName||"Context";case D:return(o._context.displayName||"Context")+".Consumer";case P:var r=o.render;return o=o.displayName,o||(o=r.displayName||r.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case B:return r=o.displayName||null,r!==null?r:fe(o.type)||"Memo";case Q:r=o._payload,o=o._init;try{return fe(o(r))}catch{}}return null}var _e=Array.isArray,k=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Z=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se={pending:!1,data:null,method:null,action:null},Se=[],me=-1;function O(o){return{current:o}}function Y(o){0>me||(o.current=Se[me],Se[me]=null,me--)}function ne(o,r){me++,Se[me]=o.current,o.current=r}var ie=O(null),he=O(null),be=O(null),Ne=O(null);function Ze(o,r){switch(ne(be,r),ne(he,o),ne(ie,null),r.nodeType){case 9:case 11:o=(o=r.documentElement)&&(o=o.namespaceURI)?Y0(o):0;break;default:if(o=r.tagName,r=r.namespaceURI)r=Y0(r),o=K0(r,o);else switch(o){case"svg":o=1;break;case"math":o=2;break;default:o=0}}Y(ie),ne(ie,o)}function qe(){Y(ie),Y(he),Y(be)}function Ln(o){o.memoizedState!==null&&ne(Ne,o);var r=ie.current,l=K0(r,o.type);r!==l&&(ne(he,o),ne(ie,l))}function jn(o){he.current===o&&(Y(ie),Y(he)),Ne.current===o&&(Y(Ne),za._currentValue=se)}var Qi,mi;function Gt(o){if(Qi===void 0)try{throw Error()}catch(l){var r=l.stack.trim().match(/\n( *(at )?)/);Qi=r&&r[1]||"",mi=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Qi+o+mi}var Xe=!1;function gi(o,r){if(!o||Xe)return"";Xe=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(r){var W=function(){throw Error()};if(Object.defineProperty(W.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(W,[])}catch(F){var q=F}Reflect.construct(o,[],W)}else{try{W.call()}catch(F){q=F}o.call(W.prototype)}}else{try{throw Error()}catch(F){q=F}(W=o())&&typeof W.catch=="function"&&W.catch(function(){})}}catch(F){if(F&&q&&typeof F.stack=="string")return[F.stack,q.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var g=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");g&&g.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=c.DetermineComponentFrameRoot(),E=y[0],C=y[1];if(E&&C){var M=E.split(`
`),V=C.split(`
`);for(g=c=0;c<M.length&&!M[c].includes("DetermineComponentFrameRoot");)c++;for(;g<V.length&&!V[g].includes("DetermineComponentFrameRoot");)g++;if(c===M.length||g===V.length)for(c=M.length-1,g=V.length-1;1<=c&&0<=g&&M[c]!==V[g];)g--;for(;1<=c&&0<=g;c--,g--)if(M[c]!==V[g]){if(c!==1||g!==1)do if(c--,g--,0>g||M[c]!==V[g]){var J=`
`+M[c].replace(" at new "," at ");return o.displayName&&J.includes("<anonymous>")&&(J=J.replace("<anonymous>",o.displayName)),J}while(1<=c&&0<=g);break}}}finally{Xe=!1,Error.prepareStackTrace=l}return(l=o?o.displayName||o.name:"")?Gt(l):""}function Zi(o,r){switch(o.tag){case 26:case 27:case 5:return Gt(o.type);case 16:return Gt("Lazy");case 13:return o.child!==r&&r!==null?Gt("Suspense Fallback"):Gt("Suspense");case 19:return Gt("SuspenseList");case 0:case 15:return gi(o.type,!1);case 11:return gi(o.type.render,!1);case 1:return gi(o.type,!0);case 31:return Gt("Activity");default:return""}}function Ql(o){try{var r="",l=null;do r+=Zi(o,l),l=o,o=o.return;while(o);return r}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}var js=Object.prototype.hasOwnProperty,kn=t.unstable_scheduleCallback,ji=t.unstable_cancelCallback,Zl=t.unstable_shouldYield,jl=t.unstable_requestPaint,Tt=t.unstable_now,eu=t.unstable_getCurrentPriorityLevel,ea=t.unstable_ImmediatePriority,ta=t.unstable_UserBlockingPriority,$o=t.unstable_NormalPriority,lM=t.unstable_LowPriority,xv=t.unstable_IdlePriority,uM=t.log,cM=t.unstable_setDisableYieldValue,na=null,Qt=null;function eo(o){if(typeof uM=="function"&&cM(o),Qt&&typeof Qt.setStrictMode=="function")try{Qt.setStrictMode(na,o)}catch{}}var Zt=Math.clz32?Math.clz32:hM,fM=Math.log,dM=Math.LN2;function hM(o){return o>>>=0,o===0?32:31-(fM(o)/dM|0)|0}var tu=256,nu=262144,iu=4194304;function qo(o){var r=o&42;if(r!==0)return r;switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return o&261888;case 262144:case 524288:case 1048576:case 2097152:return o&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return o&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return o}}function ou(o,r,l){var c=o.pendingLanes;if(c===0)return 0;var g=0,y=o.suspendedLanes,E=o.pingedLanes;o=o.warmLanes;var C=c&134217727;return C!==0?(c=C&~y,c!==0?g=qo(c):(E&=C,E!==0?g=qo(E):l||(l=C&~o,l!==0&&(g=qo(l))))):(C=c&~y,C!==0?g=qo(C):E!==0?g=qo(E):l||(l=c&~o,l!==0&&(g=qo(l)))),g===0?0:r!==0&&r!==g&&(r&y)===0&&(y=g&-g,l=r&-r,y>=l||y===32&&(l&4194048)!==0)?r:g}function ia(o,r){return(o.pendingLanes&~(o.suspendedLanes&~o.pingedLanes)&r)===0}function pM(o,r){switch(o){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Rv(){var o=iu;return iu<<=1,(iu&62914560)===0&&(iu=4194304),o}function cd(o){for(var r=[],l=0;31>l;l++)r.push(o);return r}function oa(o,r){o.pendingLanes|=r,r!==268435456&&(o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0)}function mM(o,r,l,c,g,y){var E=o.pendingLanes;o.pendingLanes=l,o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0,o.expiredLanes&=l,o.entangledLanes&=l,o.errorRecoveryDisabledLanes&=l,o.shellSuspendCounter=0;var C=o.entanglements,M=o.expirationTimes,V=o.hiddenUpdates;for(l=E&~l;0<l;){var J=31-Zt(l),W=1<<J;C[J]=0,M[J]=-1;var q=V[J];if(q!==null)for(V[J]=null,J=0;J<q.length;J++){var F=q[J];F!==null&&(F.lane&=-536870913)}l&=~W}c!==0&&Mv(o,c,0),y!==0&&g===0&&o.tag!==0&&(o.suspendedLanes|=y&~(E&~r))}function Mv(o,r,l){o.pendingLanes|=r,o.suspendedLanes&=~r;var c=31-Zt(r);o.entangledLanes|=r,o.entanglements[c]=o.entanglements[c]|1073741824|l&261930}function Nv(o,r){var l=o.entangledLanes|=r;for(o=o.entanglements;l;){var c=31-Zt(l),g=1<<c;g&r|o[c]&r&&(o[c]|=r),l&=~g}}function Iv(o,r){var l=r&-r;return l=(l&42)!==0?1:fd(l),(l&(o.suspendedLanes|r))!==0?0:l}function fd(o){switch(o){case 2:o=1;break;case 8:o=4;break;case 32:o=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:o=128;break;case 268435456:o=134217728;break;default:o=0}return o}function dd(o){return o&=-o,2<o?8<o?(o&134217727)!==0?32:268435456:8:2}function Dv(){var o=Z.p;return o!==0?o:(o=window.event,o===void 0?32:vS(o.type))}function Ov(o,r){var l=Z.p;try{return Z.p=o,r()}finally{Z.p=l}}var to=Math.random().toString(36).slice(2),bt="__reactFiber$"+to,Vt="__reactProps$"+to,Nr="__reactContainer$"+to,hd="__reactEvents$"+to,gM="__reactListeners$"+to,vM="__reactHandles$"+to,Uv="__reactResources$"+to,ra="__reactMarker$"+to;function pd(o){delete o[bt],delete o[Vt],delete o[hd],delete o[gM],delete o[vM]}function Ir(o){var r=o[bt];if(r)return r;for(var l=o.parentNode;l;){if(r=l[Nr]||l[bt]){if(l=r.alternate,r.child!==null||l!==null&&l.child!==null)for(o=tS(o);o!==null;){if(l=o[bt])return l;o=tS(o)}return r}o=l,l=o.parentNode}return null}function Dr(o){if(o=o[bt]||o[Nr]){var r=o.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return o}return null}function sa(o){var r=o.tag;if(r===5||r===26||r===27||r===6)return o.stateNode;throw Error(i(33))}function Or(o){var r=o[Uv];return r||(r=o[Uv]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function gt(o){o[ra]=!0}var Pv=new Set,Lv={};function zo(o,r){Ur(o,r),Ur(o+"Capture",r)}function Ur(o,r){for(Lv[o]=r,o=0;o<r.length;o++)Pv.add(r[o])}var yM=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),kv={},Bv={};function _M(o){return js.call(Bv,o)?!0:js.call(kv,o)?!1:yM.test(o)?Bv[o]=!0:(kv[o]=!0,!1)}function ru(o,r,l){if(_M(r))if(l===null)o.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":o.removeAttribute(r);return;case"boolean":var c=r.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){o.removeAttribute(r);return}}o.setAttribute(r,""+l)}}function su(o,r,l){if(l===null)o.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(r);return}o.setAttribute(r,""+l)}}function vi(o,r,l,c){if(c===null)o.removeAttribute(l);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(l);return}o.setAttributeNS(r,l,""+c)}}function pn(o){switch(typeof o){case"bigint":case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function Hv(o){var r=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function SM(o,r,l){var c=Object.getOwnPropertyDescriptor(o.constructor.prototype,r);if(!o.hasOwnProperty(r)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var g=c.get,y=c.set;return Object.defineProperty(o,r,{configurable:!0,get:function(){return g.call(this)},set:function(E){l=""+E,y.call(this,E)}}),Object.defineProperty(o,r,{enumerable:c.enumerable}),{getValue:function(){return l},setValue:function(E){l=""+E},stopTracking:function(){o._valueTracker=null,delete o[r]}}}}function md(o){if(!o._valueTracker){var r=Hv(o)?"checked":"value";o._valueTracker=SM(o,r,""+o[r])}}function Gv(o){if(!o)return!1;var r=o._valueTracker;if(!r)return!0;var l=r.getValue(),c="";return o&&(c=Hv(o)?o.checked?"true":"false":o.value),o=c,o!==l?(r.setValue(o),!0):!1}function au(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}var EM=/[\n"\\]/g;function mn(o){return o.replace(EM,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function gd(o,r,l,c,g,y,E,C){o.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?o.type=E:o.removeAttribute("type"),r!=null?E==="number"?(r===0&&o.value===""||o.value!=r)&&(o.value=""+pn(r)):o.value!==""+pn(r)&&(o.value=""+pn(r)):E!=="submit"&&E!=="reset"||o.removeAttribute("value"),r!=null?vd(o,E,pn(r)):l!=null?vd(o,E,pn(l)):c!=null&&o.removeAttribute("value"),g==null&&y!=null&&(o.defaultChecked=!!y),g!=null&&(o.checked=g&&typeof g!="function"&&typeof g!="symbol"),C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?o.name=""+pn(C):o.removeAttribute("name")}function Vv(o,r,l,c,g,y,E,C){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(o.type=y),r!=null||l!=null){if(!(y!=="submit"&&y!=="reset"||r!=null)){md(o);return}l=l!=null?""+pn(l):"",r=r!=null?""+pn(r):l,C||r===o.value||(o.value=r),o.defaultValue=r}c=c??g,c=typeof c!="function"&&typeof c!="symbol"&&!!c,o.checked=C?o.checked:!!c,o.defaultChecked=!!c,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(o.name=E),md(o)}function vd(o,r,l){r==="number"&&au(o.ownerDocument)===o||o.defaultValue===""+l||(o.defaultValue=""+l)}function Pr(o,r,l,c){if(o=o.options,r){r={};for(var g=0;g<l.length;g++)r["$"+l[g]]=!0;for(l=0;l<o.length;l++)g=r.hasOwnProperty("$"+o[l].value),o[l].selected!==g&&(o[l].selected=g),g&&c&&(o[l].defaultSelected=!0)}else{for(l=""+pn(l),r=null,g=0;g<o.length;g++){if(o[g].value===l){o[g].selected=!0,c&&(o[g].defaultSelected=!0);return}r!==null||o[g].disabled||(r=o[g])}r!==null&&(r.selected=!0)}}function $v(o,r,l){if(r!=null&&(r=""+pn(r),r!==o.value&&(o.value=r),l==null)){o.defaultValue!==r&&(o.defaultValue=r);return}o.defaultValue=l!=null?""+pn(l):""}function qv(o,r,l,c){if(r==null){if(c!=null){if(l!=null)throw Error(i(92));if(_e(c)){if(1<c.length)throw Error(i(93));c=c[0]}l=c}l==null&&(l=""),r=l}l=pn(r),o.defaultValue=l,c=o.textContent,c===l&&c!==""&&c!==null&&(o.value=c),md(o)}function Lr(o,r){if(r){var l=o.firstChild;if(l&&l===o.lastChild&&l.nodeType===3){l.nodeValue=r;return}}o.textContent=r}var TM=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function zv(o,r,l){var c=r.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?c?o.setProperty(r,""):r==="float"?o.cssFloat="":o[r]="":c?o.setProperty(r,l):typeof l!="number"||l===0||TM.has(r)?r==="float"?o.cssFloat=l:o[r]=(""+l).trim():o[r]=l+"px"}function Fv(o,r,l){if(r!=null&&typeof r!="object")throw Error(i(62));if(o=o.style,l!=null){for(var c in l)!l.hasOwnProperty(c)||r!=null&&r.hasOwnProperty(c)||(c.indexOf("--")===0?o.setProperty(c,""):c==="float"?o.cssFloat="":o[c]="");for(var g in r)c=r[g],r.hasOwnProperty(g)&&l[g]!==c&&zv(o,g,c)}else for(var y in r)r.hasOwnProperty(y)&&zv(o,y,r[y])}function yd(o){if(o.indexOf("-")===-1)return!1;switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var bM=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),CM=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function lu(o){return CM.test(""+o)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":o}function yi(){}var _d=null;function Sd(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var kr=null,Br=null;function Jv(o){var r=Dr(o);if(r&&(o=r.stateNode)){var l=o[Vt]||null;e:switch(o=r.stateNode,r.type){case"input":if(gd(o,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),r=l.name,l.type==="radio"&&r!=null){for(l=o;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+mn(""+r)+'"][type="radio"]'),r=0;r<l.length;r++){var c=l[r];if(c!==o&&c.form===o.form){var g=c[Vt]||null;if(!g)throw Error(i(90));gd(c,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(r=0;r<l.length;r++)c=l[r],c.form===o.form&&Gv(c)}break e;case"textarea":$v(o,l.value,l.defaultValue);break e;case"select":r=l.value,r!=null&&Pr(o,!!l.multiple,r,!1)}}}var Ed=!1;function Yv(o,r,l){if(Ed)return o(r,l);Ed=!0;try{var c=o(r);return c}finally{if(Ed=!1,(kr!==null||Br!==null)&&(Xu(),kr&&(r=kr,o=Br,Br=kr=null,Jv(r),o)))for(r=0;r<o.length;r++)Jv(o[r])}}function aa(o,r){var l=o.stateNode;if(l===null)return null;var c=l[Vt]||null;if(c===null)return null;l=c[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(o=o.type,c=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!c;break e;default:o=!1}if(o)return null;if(l&&typeof l!="function")throw Error(i(231,r,typeof l));return l}var _i=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Td=!1;if(_i)try{var la={};Object.defineProperty(la,"passive",{get:function(){Td=!0}}),window.addEventListener("test",la,la),window.removeEventListener("test",la,la)}catch{Td=!1}var no=null,bd=null,uu=null;function Kv(){if(uu)return uu;var o,r=bd,l=r.length,c,g="value"in no?no.value:no.textContent,y=g.length;for(o=0;o<l&&r[o]===g[o];o++);var E=l-o;for(c=1;c<=E&&r[l-c]===g[y-c];c++);return uu=g.slice(o,1<c?1-c:void 0)}function cu(o){var r=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&r===13&&(o=13)):o=r,o===10&&(o=13),32<=o||o===13?o:0}function fu(){return!0}function Xv(){return!1}function $t(o){function r(l,c,g,y,E){this._reactName=l,this._targetInst=g,this.type=c,this.nativeEvent=y,this.target=E,this.currentTarget=null;for(var C in o)o.hasOwnProperty(C)&&(l=o[C],this[C]=l?l(y):y[C]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?fu:Xv,this.isPropagationStopped=Xv,this}return _(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=fu)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=fu)},persist:function(){},isPersistent:fu}),r}var Fo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},du=$t(Fo),ua=_({},Fo,{view:0,detail:0}),AM=$t(ua),Cd,Ad,ca,hu=_({},ua,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xd,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==ca&&(ca&&o.type==="mousemove"?(Cd=o.screenX-ca.screenX,Ad=o.screenY-ca.screenY):Ad=Cd=0,ca=o),Cd)},movementY:function(o){return"movementY"in o?o.movementY:Ad}}),Wv=$t(hu),wM=_({},hu,{dataTransfer:0}),xM=$t(wM),RM=_({},ua,{relatedTarget:0}),wd=$t(RM),MM=_({},Fo,{animationName:0,elapsedTime:0,pseudoElement:0}),NM=$t(MM),IM=_({},Fo,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),DM=$t(IM),OM=_({},Fo,{data:0}),Qv=$t(OM),UM={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},PM={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},LM={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kM(o){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(o):(o=LM[o])?!!r[o]:!1}function xd(){return kM}var BM=_({},ua,{key:function(o){if(o.key){var r=UM[o.key]||o.key;if(r!=="Unidentified")return r}return o.type==="keypress"?(o=cu(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?PM[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xd,charCode:function(o){return o.type==="keypress"?cu(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?cu(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),HM=$t(BM),GM=_({},hu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Zv=$t(GM),VM=_({},ua,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xd}),$M=$t(VM),qM=_({},Fo,{propertyName:0,elapsedTime:0,pseudoElement:0}),zM=$t(qM),FM=_({},hu,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),JM=$t(FM),YM=_({},Fo,{newState:0,oldState:0}),KM=$t(YM),XM=[9,13,27,32],Rd=_i&&"CompositionEvent"in window,fa=null;_i&&"documentMode"in document&&(fa=document.documentMode);var WM=_i&&"TextEvent"in window&&!fa,jv=_i&&(!Rd||fa&&8<fa&&11>=fa),ey=" ",ty=!1;function ny(o,r){switch(o){case"keyup":return XM.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function iy(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var Hr=!1;function QM(o,r){switch(o){case"compositionend":return iy(r);case"keypress":return r.which!==32?null:(ty=!0,ey);case"textInput":return o=r.data,o===ey&&ty?null:o;default:return null}}function ZM(o,r){if(Hr)return o==="compositionend"||!Rd&&ny(o,r)?(o=Kv(),uu=bd=no=null,Hr=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return jv&&r.locale!=="ko"?null:r.data;default:return null}}var jM={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function oy(o){var r=o&&o.nodeName&&o.nodeName.toLowerCase();return r==="input"?!!jM[o.type]:r==="textarea"}function ry(o,r,l,c){kr?Br?Br.push(c):Br=[c]:kr=c,r=nc(r,"onChange"),0<r.length&&(l=new du("onChange","change",null,l,c),o.push({event:l,listeners:r}))}var da=null,ha=null;function eN(o){V0(o,0)}function pu(o){var r=sa(o);if(Gv(r))return o}function sy(o,r){if(o==="change")return r}var ay=!1;if(_i){var Md;if(_i){var Nd="oninput"in document;if(!Nd){var ly=document.createElement("div");ly.setAttribute("oninput","return;"),Nd=typeof ly.oninput=="function"}Md=Nd}else Md=!1;ay=Md&&(!document.documentMode||9<document.documentMode)}function uy(){da&&(da.detachEvent("onpropertychange",cy),ha=da=null)}function cy(o){if(o.propertyName==="value"&&pu(ha)){var r=[];ry(r,ha,o,Sd(o)),Yv(eN,r)}}function tN(o,r,l){o==="focusin"?(uy(),da=r,ha=l,da.attachEvent("onpropertychange",cy)):o==="focusout"&&uy()}function nN(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return pu(ha)}function iN(o,r){if(o==="click")return pu(r)}function oN(o,r){if(o==="input"||o==="change")return pu(r)}function rN(o,r){return o===r&&(o!==0||1/o===1/r)||o!==o&&r!==r}var jt=typeof Object.is=="function"?Object.is:rN;function pa(o,r){if(jt(o,r))return!0;if(typeof o!="object"||o===null||typeof r!="object"||r===null)return!1;var l=Object.keys(o),c=Object.keys(r);if(l.length!==c.length)return!1;for(c=0;c<l.length;c++){var g=l[c];if(!js.call(r,g)||!jt(o[g],r[g]))return!1}return!0}function fy(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function dy(o,r){var l=fy(o);o=0;for(var c;l;){if(l.nodeType===3){if(c=o+l.textContent.length,o<=r&&c>=r)return{node:l,offset:r-o};o=c}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=fy(l)}}function hy(o,r){return o&&r?o===r?!0:o&&o.nodeType===3?!1:r&&r.nodeType===3?hy(o,r.parentNode):"contains"in o?o.contains(r):o.compareDocumentPosition?!!(o.compareDocumentPosition(r)&16):!1:!1}function py(o){o=o!=null&&o.ownerDocument!=null&&o.ownerDocument.defaultView!=null?o.ownerDocument.defaultView:window;for(var r=au(o.document);r instanceof o.HTMLIFrameElement;){try{var l=typeof r.contentWindow.location.href=="string"}catch{l=!1}if(l)o=r.contentWindow;else break;r=au(o.document)}return r}function Id(o){var r=o&&o.nodeName&&o.nodeName.toLowerCase();return r&&(r==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||r==="textarea"||o.contentEditable==="true")}var sN=_i&&"documentMode"in document&&11>=document.documentMode,Gr=null,Dd=null,ma=null,Od=!1;function my(o,r,l){var c=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Od||Gr==null||Gr!==au(c)||(c=Gr,"selectionStart"in c&&Id(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),ma&&pa(ma,c)||(ma=c,c=nc(Dd,"onSelect"),0<c.length&&(r=new du("onSelect","select",null,r,l),o.push({event:r,listeners:c}),r.target=Gr)))}function Jo(o,r){var l={};return l[o.toLowerCase()]=r.toLowerCase(),l["Webkit"+o]="webkit"+r,l["Moz"+o]="moz"+r,l}var Vr={animationend:Jo("Animation","AnimationEnd"),animationiteration:Jo("Animation","AnimationIteration"),animationstart:Jo("Animation","AnimationStart"),transitionrun:Jo("Transition","TransitionRun"),transitionstart:Jo("Transition","TransitionStart"),transitioncancel:Jo("Transition","TransitionCancel"),transitionend:Jo("Transition","TransitionEnd")},Ud={},gy={};_i&&(gy=document.createElement("div").style,"AnimationEvent"in window||(delete Vr.animationend.animation,delete Vr.animationiteration.animation,delete Vr.animationstart.animation),"TransitionEvent"in window||delete Vr.transitionend.transition);function Yo(o){if(Ud[o])return Ud[o];if(!Vr[o])return o;var r=Vr[o],l;for(l in r)if(r.hasOwnProperty(l)&&l in gy)return Ud[o]=r[l];return o}var vy=Yo("animationend"),yy=Yo("animationiteration"),_y=Yo("animationstart"),aN=Yo("transitionrun"),lN=Yo("transitionstart"),uN=Yo("transitioncancel"),Sy=Yo("transitionend"),Ey=new Map,Pd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Pd.push("scrollEnd");function Bn(o,r){Ey.set(o,r),zo(r,[o])}var mu=typeof reportError=="function"?reportError:function(o){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof o=="object"&&o!==null&&typeof o.message=="string"?String(o.message):String(o),error:o});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",o);return}console.error(o)},gn=[],$r=0,Ld=0;function gu(){for(var o=$r,r=Ld=$r=0;r<o;){var l=gn[r];gn[r++]=null;var c=gn[r];gn[r++]=null;var g=gn[r];gn[r++]=null;var y=gn[r];if(gn[r++]=null,c!==null&&g!==null){var E=c.pending;E===null?g.next=g:(g.next=E.next,E.next=g),c.pending=g}y!==0&&Ty(l,g,y)}}function vu(o,r,l,c){gn[$r++]=o,gn[$r++]=r,gn[$r++]=l,gn[$r++]=c,Ld|=c,o.lanes|=c,o=o.alternate,o!==null&&(o.lanes|=c)}function kd(o,r,l,c){return vu(o,r,l,c),yu(o)}function Ko(o,r){return vu(o,null,null,r),yu(o)}function Ty(o,r,l){o.lanes|=l;var c=o.alternate;c!==null&&(c.lanes|=l);for(var g=!1,y=o.return;y!==null;)y.childLanes|=l,c=y.alternate,c!==null&&(c.childLanes|=l),y.tag===22&&(o=y.stateNode,o===null||o._visibility&1||(g=!0)),o=y,y=y.return;return o.tag===3?(y=o.stateNode,g&&r!==null&&(g=31-Zt(l),o=y.hiddenUpdates,c=o[g],c===null?o[g]=[r]:c.push(r),r.lane=l|536870912),y):null}function yu(o){if(50<ka)throw ka=0,Jh=null,Error(i(185));for(var r=o.return;r!==null;)o=r,r=o.return;return o.tag===3?o.stateNode:null}var qr={};function cN(o,r,l,c){this.tag=o,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function en(o,r,l,c){return new cN(o,r,l,c)}function Bd(o){return o=o.prototype,!(!o||!o.isReactComponent)}function Si(o,r){var l=o.alternate;return l===null?(l=en(o.tag,r,o.key,o.mode),l.elementType=o.elementType,l.type=o.type,l.stateNode=o.stateNode,l.alternate=o,o.alternate=l):(l.pendingProps=r,l.type=o.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=o.flags&65011712,l.childLanes=o.childLanes,l.lanes=o.lanes,l.child=o.child,l.memoizedProps=o.memoizedProps,l.memoizedState=o.memoizedState,l.updateQueue=o.updateQueue,r=o.dependencies,l.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},l.sibling=o.sibling,l.index=o.index,l.ref=o.ref,l.refCleanup=o.refCleanup,l}function by(o,r){o.flags&=65011714;var l=o.alternate;return l===null?(o.childLanes=0,o.lanes=r,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=l.childLanes,o.lanes=l.lanes,o.child=l.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=l.memoizedProps,o.memoizedState=l.memoizedState,o.updateQueue=l.updateQueue,o.type=l.type,r=l.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),o}function _u(o,r,l,c,g,y){var E=0;if(c=o,typeof o=="function")Bd(o)&&(E=1);else if(typeof o=="string")E=mI(o,l,ie.current)?26:o==="html"||o==="head"||o==="body"?27:5;else e:switch(o){case X:return o=en(31,l,r,g),o.elementType=X,o.lanes=y,o;case A:return Xo(l.children,g,y,r);case x:E=8,g|=24;break;case I:return o=en(12,l,r,g|2),o.elementType=I,o.lanes=y,o;case z:return o=en(13,l,r,g),o.elementType=z,o.lanes=y,o;case G:return o=en(19,l,r,g),o.elementType=G,o.lanes=y,o;default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case N:E=10;break e;case D:E=9;break e;case P:E=11;break e;case B:E=14;break e;case Q:E=16,c=null;break e}E=29,l=Error(i(130,o===null?"null":typeof o,"")),c=null}return r=en(E,l,r,g),r.elementType=o,r.type=c,r.lanes=y,r}function Xo(o,r,l,c){return o=en(7,o,c,r),o.lanes=l,o}function Hd(o,r,l){return o=en(6,o,null,r),o.lanes=l,o}function Cy(o){var r=en(18,null,null,0);return r.stateNode=o,r}function Gd(o,r,l){return r=en(4,o.children!==null?o.children:[],o.key,r),r.lanes=l,r.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},r}var Ay=new WeakMap;function vn(o,r){if(typeof o=="object"&&o!==null){var l=Ay.get(o);return l!==void 0?l:(r={value:o,source:r,stack:Ql(r)},Ay.set(o,r),r)}return{value:o,source:r,stack:Ql(r)}}var zr=[],Fr=0,Su=null,ga=0,yn=[],_n=0,io=null,ei=1,ti="";function Ei(o,r){zr[Fr++]=ga,zr[Fr++]=Su,Su=o,ga=r}function wy(o,r,l){yn[_n++]=ei,yn[_n++]=ti,yn[_n++]=io,io=o;var c=ei;o=ti;var g=32-Zt(c)-1;c&=~(1<<g),l+=1;var y=32-Zt(r)+g;if(30<y){var E=g-g%5;y=(c&(1<<E)-1).toString(32),c>>=E,g-=E,ei=1<<32-Zt(r)+g|l<<g|c,ti=y+o}else ei=1<<y|l<<g|c,ti=o}function Vd(o){o.return!==null&&(Ei(o,1),wy(o,1,0))}function $d(o){for(;o===Su;)Su=zr[--Fr],zr[Fr]=null,ga=zr[--Fr],zr[Fr]=null;for(;o===io;)io=yn[--_n],yn[_n]=null,ti=yn[--_n],yn[_n]=null,ei=yn[--_n],yn[_n]=null}function xy(o,r){yn[_n++]=ei,yn[_n++]=ti,yn[_n++]=io,ei=r.id,ti=r.overflow,io=o}var Ct=null,je=null,Pe=!1,oo=null,Sn=!1,qd=Error(i(519));function ro(o){var r=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw va(vn(r,o)),qd}function Ry(o){var r=o.stateNode,l=o.type,c=o.memoizedProps;switch(r[bt]=o,r[Vt]=c,l){case"dialog":De("cancel",r),De("close",r);break;case"iframe":case"object":case"embed":De("load",r);break;case"video":case"audio":for(l=0;l<Ha.length;l++)De(Ha[l],r);break;case"source":De("error",r);break;case"img":case"image":case"link":De("error",r),De("load",r);break;case"details":De("toggle",r);break;case"input":De("invalid",r),Vv(r,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0);break;case"select":De("invalid",r);break;case"textarea":De("invalid",r),qv(r,c.value,c.defaultValue,c.children)}l=c.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||r.textContent===""+l||c.suppressHydrationWarning===!0||F0(r.textContent,l)?(c.popover!=null&&(De("beforetoggle",r),De("toggle",r)),c.onScroll!=null&&De("scroll",r),c.onScrollEnd!=null&&De("scrollend",r),c.onClick!=null&&(r.onclick=yi),r=!0):r=!1,r||ro(o,!0)}function My(o){for(Ct=o.return;Ct;)switch(Ct.tag){case 5:case 31:case 13:Sn=!1;return;case 27:case 3:Sn=!0;return;default:Ct=Ct.return}}function Jr(o){if(o!==Ct)return!1;if(!Pe)return My(o),Pe=!0,!1;var r=o.tag,l;if((l=r!==3&&r!==27)&&((l=r===5)&&(l=o.type,l=!(l!=="form"&&l!=="button")||ap(o.type,o.memoizedProps)),l=!l),l&&je&&ro(o),My(o),r===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(i(317));je=eS(o)}else if(r===31){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(i(317));je=eS(o)}else r===27?(r=je,So(o.type)?(o=dp,dp=null,je=o):je=r):je=Ct?Tn(o.stateNode.nextSibling):null;return!0}function Wo(){je=Ct=null,Pe=!1}function zd(){var o=oo;return o!==null&&(Jt===null?Jt=o:Jt.push.apply(Jt,o),oo=null),o}function va(o){oo===null?oo=[o]:oo.push(o)}var Fd=O(null),Qo=null,Ti=null;function so(o,r,l){ne(Fd,r._currentValue),r._currentValue=l}function bi(o){o._currentValue=Fd.current,Y(Fd)}function Jd(o,r,l){for(;o!==null;){var c=o.alternate;if((o.childLanes&r)!==r?(o.childLanes|=r,c!==null&&(c.childLanes|=r)):c!==null&&(c.childLanes&r)!==r&&(c.childLanes|=r),o===l)break;o=o.return}}function Yd(o,r,l,c){var g=o.child;for(g!==null&&(g.return=o);g!==null;){var y=g.dependencies;if(y!==null){var E=g.child;y=y.firstContext;e:for(;y!==null;){var C=y;y=g;for(var M=0;M<r.length;M++)if(C.context===r[M]){y.lanes|=l,C=y.alternate,C!==null&&(C.lanes|=l),Jd(y.return,l,o),c||(E=null);break e}y=C.next}}else if(g.tag===18){if(E=g.return,E===null)throw Error(i(341));E.lanes|=l,y=E.alternate,y!==null&&(y.lanes|=l),Jd(E,l,o),E=null}else E=g.child;if(E!==null)E.return=g;else for(E=g;E!==null;){if(E===o){E=null;break}if(g=E.sibling,g!==null){g.return=E.return,E=g;break}E=E.return}g=E}}function Yr(o,r,l,c){o=null;for(var g=r,y=!1;g!==null;){if(!y){if((g.flags&524288)!==0)y=!0;else if((g.flags&262144)!==0)break}if(g.tag===10){var E=g.alternate;if(E===null)throw Error(i(387));if(E=E.memoizedProps,E!==null){var C=g.type;jt(g.pendingProps.value,E.value)||(o!==null?o.push(C):o=[C])}}else if(g===Ne.current){if(E=g.alternate,E===null)throw Error(i(387));E.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(o!==null?o.push(za):o=[za])}g=g.return}o!==null&&Yd(r,o,l,c),r.flags|=262144}function Eu(o){for(o=o.firstContext;o!==null;){if(!jt(o.context._currentValue,o.memoizedValue))return!0;o=o.next}return!1}function Zo(o){Qo=o,Ti=null,o=o.dependencies,o!==null&&(o.firstContext=null)}function At(o){return Ny(Qo,o)}function Tu(o,r){return Qo===null&&Zo(o),Ny(o,r)}function Ny(o,r){var l=r._currentValue;if(r={context:r,memoizedValue:l,next:null},Ti===null){if(o===null)throw Error(i(308));Ti=r,o.dependencies={lanes:0,firstContext:r},o.flags|=524288}else Ti=Ti.next=r;return l}var fN=typeof AbortController<"u"?AbortController:function(){var o=[],r=this.signal={aborted:!1,addEventListener:function(l,c){o.push(c)}};this.abort=function(){r.aborted=!0,o.forEach(function(l){return l()})}},dN=t.unstable_scheduleCallback,hN=t.unstable_NormalPriority,lt={$$typeof:N,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Kd(){return{controller:new fN,data:new Map,refCount:0}}function ya(o){o.refCount--,o.refCount===0&&dN(hN,function(){o.controller.abort()})}var _a=null,Xd=0,Kr=0,Xr=null;function pN(o,r){if(_a===null){var l=_a=[];Xd=0,Kr=Zh(),Xr={status:"pending",value:void 0,then:function(c){l.push(c)}}}return Xd++,r.then(Iy,Iy),r}function Iy(){if(--Xd===0&&_a!==null){Xr!==null&&(Xr.status="fulfilled");var o=_a;_a=null,Kr=0,Xr=null;for(var r=0;r<o.length;r++)(0,o[r])()}}function mN(o,r){var l=[],c={status:"pending",value:null,reason:null,then:function(g){l.push(g)}};return o.then(function(){c.status="fulfilled",c.value=r;for(var g=0;g<l.length;g++)(0,l[g])(r)},function(g){for(c.status="rejected",c.reason=g,g=0;g<l.length;g++)(0,l[g])(void 0)}),c}var Dy=k.S;k.S=function(o,r){m0=Tt(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&pN(o,r),Dy!==null&&Dy(o,r)};var jo=O(null);function Wd(){var o=jo.current;return o!==null?o:We.pooledCache}function bu(o,r){r===null?ne(jo,jo.current):ne(jo,r.pool)}function Oy(){var o=Wd();return o===null?null:{parent:lt._currentValue,pool:o}}var Wr=Error(i(460)),Qd=Error(i(474)),Cu=Error(i(542)),Au={then:function(){}};function Uy(o){return o=o.status,o==="fulfilled"||o==="rejected"}function Py(o,r,l){switch(l=o[l],l===void 0?o.push(r):l!==r&&(r.then(yi,yi),r=l),r.status){case"fulfilled":return r.value;case"rejected":throw o=r.reason,ky(o),o;default:if(typeof r.status=="string")r.then(yi,yi);else{if(o=We,o!==null&&100<o.shellSuspendCounter)throw Error(i(482));o=r,o.status="pending",o.then(function(c){if(r.status==="pending"){var g=r;g.status="fulfilled",g.value=c}},function(c){if(r.status==="pending"){var g=r;g.status="rejected",g.reason=c}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw o=r.reason,ky(o),o}throw tr=r,Wr}}function er(o){try{var r=o._init;return r(o._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(tr=l,Wr):l}}var tr=null;function Ly(){if(tr===null)throw Error(i(459));var o=tr;return tr=null,o}function ky(o){if(o===Wr||o===Cu)throw Error(i(483))}var Qr=null,Sa=0;function wu(o){var r=Sa;return Sa+=1,Qr===null&&(Qr=[]),Py(Qr,o,r)}function Ea(o,r){r=r.props.ref,o.ref=r!==void 0?r:null}function xu(o,r){throw r.$$typeof===S?Error(i(525)):(o=Object.prototype.toString.call(r),Error(i(31,o==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":o)))}function By(o){function r(L,U){if(o){var H=L.deletions;H===null?(L.deletions=[U],L.flags|=16):H.push(U)}}function l(L,U){if(!o)return null;for(;U!==null;)r(L,U),U=U.sibling;return null}function c(L){for(var U=new Map;L!==null;)L.key!==null?U.set(L.key,L):U.set(L.index,L),L=L.sibling;return U}function g(L,U){return L=Si(L,U),L.index=0,L.sibling=null,L}function y(L,U,H){return L.index=H,o?(H=L.alternate,H!==null?(H=H.index,H<U?(L.flags|=67108866,U):H):(L.flags|=67108866,U)):(L.flags|=1048576,U)}function E(L){return o&&L.alternate===null&&(L.flags|=67108866),L}function C(L,U,H,K){return U===null||U.tag!==6?(U=Hd(H,L.mode,K),U.return=L,U):(U=g(U,H),U.return=L,U)}function M(L,U,H,K){var ge=H.type;return ge===A?J(L,U,H.props.children,K,H.key):U!==null&&(U.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===Q&&er(ge)===U.type)?(U=g(U,H.props),Ea(U,H),U.return=L,U):(U=_u(H.type,H.key,H.props,null,L.mode,K),Ea(U,H),U.return=L,U)}function V(L,U,H,K){return U===null||U.tag!==4||U.stateNode.containerInfo!==H.containerInfo||U.stateNode.implementation!==H.implementation?(U=Gd(H,L.mode,K),U.return=L,U):(U=g(U,H.children||[]),U.return=L,U)}function J(L,U,H,K,ge){return U===null||U.tag!==7?(U=Xo(H,L.mode,K,ge),U.return=L,U):(U=g(U,H),U.return=L,U)}function W(L,U,H){if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return U=Hd(""+U,L.mode,H),U.return=L,U;if(typeof U=="object"&&U!==null){switch(U.$$typeof){case T:return H=_u(U.type,U.key,U.props,null,L.mode,H),Ea(H,U),H.return=L,H;case b:return U=Gd(U,L.mode,H),U.return=L,U;case Q:return U=er(U),W(L,U,H)}if(_e(U)||le(U))return U=Xo(U,L.mode,H,null),U.return=L,U;if(typeof U.then=="function")return W(L,wu(U),H);if(U.$$typeof===N)return W(L,Tu(L,U),H);xu(L,U)}return null}function q(L,U,H,K){var ge=U!==null?U.key:null;if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return ge!==null?null:C(L,U,""+H,K);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case T:return H.key===ge?M(L,U,H,K):null;case b:return H.key===ge?V(L,U,H,K):null;case Q:return H=er(H),q(L,U,H,K)}if(_e(H)||le(H))return ge!==null?null:J(L,U,H,K,null);if(typeof H.then=="function")return q(L,U,wu(H),K);if(H.$$typeof===N)return q(L,U,Tu(L,H),K);xu(L,H)}return null}function F(L,U,H,K,ge){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return L=L.get(H)||null,C(U,L,""+K,ge);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case T:return L=L.get(K.key===null?H:K.key)||null,M(U,L,K,ge);case b:return L=L.get(K.key===null?H:K.key)||null,V(U,L,K,ge);case Q:return K=er(K),F(L,U,H,K,ge)}if(_e(K)||le(K))return L=L.get(H)||null,J(U,L,K,ge,null);if(typeof K.then=="function")return F(L,U,H,wu(K),ge);if(K.$$typeof===N)return F(L,U,H,Tu(U,K),ge);xu(U,K)}return null}function ue(L,U,H,K){for(var ge=null,Be=null,de=U,xe=U=0,Ue=null;de!==null&&xe<H.length;xe++){de.index>xe?(Ue=de,de=null):Ue=de.sibling;var He=q(L,de,H[xe],K);if(He===null){de===null&&(de=Ue);break}o&&de&&He.alternate===null&&r(L,de),U=y(He,U,xe),Be===null?ge=He:Be.sibling=He,Be=He,de=Ue}if(xe===H.length)return l(L,de),Pe&&Ei(L,xe),ge;if(de===null){for(;xe<H.length;xe++)de=W(L,H[xe],K),de!==null&&(U=y(de,U,xe),Be===null?ge=de:Be.sibling=de,Be=de);return Pe&&Ei(L,xe),ge}for(de=c(de);xe<H.length;xe++)Ue=F(de,L,xe,H[xe],K),Ue!==null&&(o&&Ue.alternate!==null&&de.delete(Ue.key===null?xe:Ue.key),U=y(Ue,U,xe),Be===null?ge=Ue:Be.sibling=Ue,Be=Ue);return o&&de.forEach(function(Ao){return r(L,Ao)}),Pe&&Ei(L,xe),ge}function ye(L,U,H,K){if(H==null)throw Error(i(151));for(var ge=null,Be=null,de=U,xe=U=0,Ue=null,He=H.next();de!==null&&!He.done;xe++,He=H.next()){de.index>xe?(Ue=de,de=null):Ue=de.sibling;var Ao=q(L,de,He.value,K);if(Ao===null){de===null&&(de=Ue);break}o&&de&&Ao.alternate===null&&r(L,de),U=y(Ao,U,xe),Be===null?ge=Ao:Be.sibling=Ao,Be=Ao,de=Ue}if(He.done)return l(L,de),Pe&&Ei(L,xe),ge;if(de===null){for(;!He.done;xe++,He=H.next())He=W(L,He.value,K),He!==null&&(U=y(He,U,xe),Be===null?ge=He:Be.sibling=He,Be=He);return Pe&&Ei(L,xe),ge}for(de=c(de);!He.done;xe++,He=H.next())He=F(de,L,xe,He.value,K),He!==null&&(o&&He.alternate!==null&&de.delete(He.key===null?xe:He.key),U=y(He,U,xe),Be===null?ge=He:Be.sibling=He,Be=He);return o&&de.forEach(function(wI){return r(L,wI)}),Pe&&Ei(L,xe),ge}function Ke(L,U,H,K){if(typeof H=="object"&&H!==null&&H.type===A&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case T:e:{for(var ge=H.key;U!==null;){if(U.key===ge){if(ge=H.type,ge===A){if(U.tag===7){l(L,U.sibling),K=g(U,H.props.children),K.return=L,L=K;break e}}else if(U.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===Q&&er(ge)===U.type){l(L,U.sibling),K=g(U,H.props),Ea(K,H),K.return=L,L=K;break e}l(L,U);break}else r(L,U);U=U.sibling}H.type===A?(K=Xo(H.props.children,L.mode,K,H.key),K.return=L,L=K):(K=_u(H.type,H.key,H.props,null,L.mode,K),Ea(K,H),K.return=L,L=K)}return E(L);case b:e:{for(ge=H.key;U!==null;){if(U.key===ge)if(U.tag===4&&U.stateNode.containerInfo===H.containerInfo&&U.stateNode.implementation===H.implementation){l(L,U.sibling),K=g(U,H.children||[]),K.return=L,L=K;break e}else{l(L,U);break}else r(L,U);U=U.sibling}K=Gd(H,L.mode,K),K.return=L,L=K}return E(L);case Q:return H=er(H),Ke(L,U,H,K)}if(_e(H))return ue(L,U,H,K);if(le(H)){if(ge=le(H),typeof ge!="function")throw Error(i(150));return H=ge.call(H),ye(L,U,H,K)}if(typeof H.then=="function")return Ke(L,U,wu(H),K);if(H.$$typeof===N)return Ke(L,U,Tu(L,H),K);xu(L,H)}return typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint"?(H=""+H,U!==null&&U.tag===6?(l(L,U.sibling),K=g(U,H),K.return=L,L=K):(l(L,U),K=Hd(H,L.mode,K),K.return=L,L=K),E(L)):l(L,U)}return function(L,U,H,K){try{Sa=0;var ge=Ke(L,U,H,K);return Qr=null,ge}catch(de){if(de===Wr||de===Cu)throw de;var Be=en(29,de,null,L.mode);return Be.lanes=K,Be.return=L,Be}finally{}}}var nr=By(!0),Hy=By(!1),ao=!1;function Zd(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function jd(o,r){o=o.updateQueue,r.updateQueue===o&&(r.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,callbacks:null})}function lo(o){return{lane:o,tag:0,payload:null,callback:null,next:null}}function uo(o,r,l){var c=o.updateQueue;if(c===null)return null;if(c=c.shared,($e&2)!==0){var g=c.pending;return g===null?r.next=r:(r.next=g.next,g.next=r),c.pending=r,r=yu(o),Ty(o,null,l),r}return vu(o,c,r,l),yu(o)}function Ta(o,r,l){if(r=r.updateQueue,r!==null&&(r=r.shared,(l&4194048)!==0)){var c=r.lanes;c&=o.pendingLanes,l|=c,r.lanes=l,Nv(o,l)}}function eh(o,r){var l=o.updateQueue,c=o.alternate;if(c!==null&&(c=c.updateQueue,l===c)){var g=null,y=null;if(l=l.firstBaseUpdate,l!==null){do{var E={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};y===null?g=y=E:y=y.next=E,l=l.next}while(l!==null);y===null?g=y=r:y=y.next=r}else g=y=r;l={baseState:c.baseState,firstBaseUpdate:g,lastBaseUpdate:y,shared:c.shared,callbacks:c.callbacks},o.updateQueue=l;return}o=l.lastBaseUpdate,o===null?l.firstBaseUpdate=r:o.next=r,l.lastBaseUpdate=r}var th=!1;function ba(){if(th){var o=Xr;if(o!==null)throw o}}function Ca(o,r,l,c){th=!1;var g=o.updateQueue;ao=!1;var y=g.firstBaseUpdate,E=g.lastBaseUpdate,C=g.shared.pending;if(C!==null){g.shared.pending=null;var M=C,V=M.next;M.next=null,E===null?y=V:E.next=V,E=M;var J=o.alternate;J!==null&&(J=J.updateQueue,C=J.lastBaseUpdate,C!==E&&(C===null?J.firstBaseUpdate=V:C.next=V,J.lastBaseUpdate=M))}if(y!==null){var W=g.baseState;E=0,J=V=M=null,C=y;do{var q=C.lane&-536870913,F=q!==C.lane;if(F?(Oe&q)===q:(c&q)===q){q!==0&&q===Kr&&(th=!0),J!==null&&(J=J.next={lane:0,tag:C.tag,payload:C.payload,callback:null,next:null});e:{var ue=o,ye=C;q=r;var Ke=l;switch(ye.tag){case 1:if(ue=ye.payload,typeof ue=="function"){W=ue.call(Ke,W,q);break e}W=ue;break e;case 3:ue.flags=ue.flags&-65537|128;case 0:if(ue=ye.payload,q=typeof ue=="function"?ue.call(Ke,W,q):ue,q==null)break e;W=_({},W,q);break e;case 2:ao=!0}}q=C.callback,q!==null&&(o.flags|=64,F&&(o.flags|=8192),F=g.callbacks,F===null?g.callbacks=[q]:F.push(q))}else F={lane:q,tag:C.tag,payload:C.payload,callback:C.callback,next:null},J===null?(V=J=F,M=W):J=J.next=F,E|=q;if(C=C.next,C===null){if(C=g.shared.pending,C===null)break;F=C,C=F.next,F.next=null,g.lastBaseUpdate=F,g.shared.pending=null}}while(!0);J===null&&(M=W),g.baseState=M,g.firstBaseUpdate=V,g.lastBaseUpdate=J,y===null&&(g.shared.lanes=0),mo|=E,o.lanes=E,o.memoizedState=W}}function Gy(o,r){if(typeof o!="function")throw Error(i(191,o));o.call(r)}function Vy(o,r){var l=o.callbacks;if(l!==null)for(o.callbacks=null,o=0;o<l.length;o++)Gy(l[o],r)}var Zr=O(null),Ru=O(0);function $y(o,r){o=Di,ne(Ru,o),ne(Zr,r),Di=o|r.baseLanes}function nh(){ne(Ru,Di),ne(Zr,Zr.current)}function ih(){Di=Ru.current,Y(Zr),Y(Ru)}var tn=O(null),En=null;function co(o){var r=o.alternate;ne(st,st.current&1),ne(tn,o),En===null&&(r===null||Zr.current!==null||r.memoizedState!==null)&&(En=o)}function oh(o){ne(st,st.current),ne(tn,o),En===null&&(En=o)}function qy(o){o.tag===22?(ne(st,st.current),ne(tn,o),En===null&&(En=o)):fo()}function fo(){ne(st,st.current),ne(tn,tn.current)}function nn(o){Y(tn),En===o&&(En=null),Y(st)}var st=O(0);function Mu(o){for(var r=o;r!==null;){if(r.tag===13){var l=r.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||cp(l)||fp(l)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===o)break;for(;r.sibling===null;){if(r.return===null||r.return===o)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var Ci=0,we=null,Je=null,ut=null,Nu=!1,jr=!1,ir=!1,Iu=0,Aa=0,es=null,gN=0;function ot(){throw Error(i(321))}function rh(o,r){if(r===null)return!1;for(var l=0;l<r.length&&l<o.length;l++)if(!jt(o[l],r[l]))return!1;return!0}function sh(o,r,l,c,g,y){return Ci=y,we=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,k.H=o===null||o.memoizedState===null?w_:Eh,ir=!1,y=l(c,g),ir=!1,jr&&(y=Fy(r,l,c,g)),zy(o),y}function zy(o){k.H=Ra;var r=Je!==null&&Je.next!==null;if(Ci=0,ut=Je=we=null,Nu=!1,Aa=0,es=null,r)throw Error(i(300));o===null||ct||(o=o.dependencies,o!==null&&Eu(o)&&(ct=!0))}function Fy(o,r,l,c){we=o;var g=0;do{if(jr&&(es=null),Aa=0,jr=!1,25<=g)throw Error(i(301));if(g+=1,ut=Je=null,o.updateQueue!=null){var y=o.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}k.H=x_,y=r(l,c)}while(jr);return y}function vN(){var o=k.H,r=o.useState()[0];return r=typeof r.then=="function"?wa(r):r,o=o.useState()[0],(Je!==null?Je.memoizedState:null)!==o&&(we.flags|=1024),r}function ah(){var o=Iu!==0;return Iu=0,o}function lh(o,r,l){r.updateQueue=o.updateQueue,r.flags&=-2053,o.lanes&=~l}function uh(o){if(Nu){for(o=o.memoizedState;o!==null;){var r=o.queue;r!==null&&(r.pending=null),o=o.next}Nu=!1}Ci=0,ut=Je=we=null,jr=!1,Aa=Iu=0,es=null}function Pt(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ut===null?we.memoizedState=ut=o:ut=ut.next=o,ut}function at(){if(Je===null){var o=we.alternate;o=o!==null?o.memoizedState:null}else o=Je.next;var r=ut===null?we.memoizedState:ut.next;if(r!==null)ut=r,Je=o;else{if(o===null)throw we.alternate===null?Error(i(467)):Error(i(310));Je=o,o={memoizedState:Je.memoizedState,baseState:Je.baseState,baseQueue:Je.baseQueue,queue:Je.queue,next:null},ut===null?we.memoizedState=ut=o:ut=ut.next=o}return ut}function Du(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function wa(o){var r=Aa;return Aa+=1,es===null&&(es=[]),o=Py(es,o,r),r=we,(ut===null?r.memoizedState:ut.next)===null&&(r=r.alternate,k.H=r===null||r.memoizedState===null?w_:Eh),o}function Ou(o){if(o!==null&&typeof o=="object"){if(typeof o.then=="function")return wa(o);if(o.$$typeof===N)return At(o)}throw Error(i(438,String(o)))}function ch(o){var r=null,l=we.updateQueue;if(l!==null&&(r=l.memoCache),r==null){var c=we.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(r={data:c.data.map(function(g){return g.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),l===null&&(l=Du(),we.updateQueue=l),l.memoCache=r,l=r.data[r.index],l===void 0)for(l=r.data[r.index]=Array(o),c=0;c<o;c++)l[c]=te;return r.index++,l}function Ai(o,r){return typeof r=="function"?r(o):r}function Uu(o){var r=at();return fh(r,Je,o)}function fh(o,r,l){var c=o.queue;if(c===null)throw Error(i(311));c.lastRenderedReducer=l;var g=o.baseQueue,y=c.pending;if(y!==null){if(g!==null){var E=g.next;g.next=y.next,y.next=E}r.baseQueue=g=y,c.pending=null}if(y=o.baseState,g===null)o.memoizedState=y;else{r=g.next;var C=E=null,M=null,V=r,J=!1;do{var W=V.lane&-536870913;if(W!==V.lane?(Oe&W)===W:(Ci&W)===W){var q=V.revertLane;if(q===0)M!==null&&(M=M.next={lane:0,revertLane:0,gesture:null,action:V.action,hasEagerState:V.hasEagerState,eagerState:V.eagerState,next:null}),W===Kr&&(J=!0);else if((Ci&q)===q){V=V.next,q===Kr&&(J=!0);continue}else W={lane:0,revertLane:V.revertLane,gesture:null,action:V.action,hasEagerState:V.hasEagerState,eagerState:V.eagerState,next:null},M===null?(C=M=W,E=y):M=M.next=W,we.lanes|=q,mo|=q;W=V.action,ir&&l(y,W),y=V.hasEagerState?V.eagerState:l(y,W)}else q={lane:W,revertLane:V.revertLane,gesture:V.gesture,action:V.action,hasEagerState:V.hasEagerState,eagerState:V.eagerState,next:null},M===null?(C=M=q,E=y):M=M.next=q,we.lanes|=W,mo|=W;V=V.next}while(V!==null&&V!==r);if(M===null?E=y:M.next=C,!jt(y,o.memoizedState)&&(ct=!0,J&&(l=Xr,l!==null)))throw l;o.memoizedState=y,o.baseState=E,o.baseQueue=M,c.lastRenderedState=y}return g===null&&(c.lanes=0),[o.memoizedState,c.dispatch]}function dh(o){var r=at(),l=r.queue;if(l===null)throw Error(i(311));l.lastRenderedReducer=o;var c=l.dispatch,g=l.pending,y=r.memoizedState;if(g!==null){l.pending=null;var E=g=g.next;do y=o(y,E.action),E=E.next;while(E!==g);jt(y,r.memoizedState)||(ct=!0),r.memoizedState=y,r.baseQueue===null&&(r.baseState=y),l.lastRenderedState=y}return[y,c]}function Jy(o,r,l){var c=we,g=at(),y=Pe;if(y){if(l===void 0)throw Error(i(407));l=l()}else l=r();var E=!jt((Je||g).memoizedState,l);if(E&&(g.memoizedState=l,ct=!0),g=g.queue,mh(Xy.bind(null,c,g,o),[o]),g.getSnapshot!==r||E||ut!==null&&ut.memoizedState.tag&1){if(c.flags|=2048,ts(9,{destroy:void 0},Ky.bind(null,c,g,l,r),null),We===null)throw Error(i(349));y||(Ci&127)!==0||Yy(c,r,l)}return l}function Yy(o,r,l){o.flags|=16384,o={getSnapshot:r,value:l},r=we.updateQueue,r===null?(r=Du(),we.updateQueue=r,r.stores=[o]):(l=r.stores,l===null?r.stores=[o]:l.push(o))}function Ky(o,r,l,c){r.value=l,r.getSnapshot=c,Wy(r)&&Qy(o)}function Xy(o,r,l){return l(function(){Wy(r)&&Qy(o)})}function Wy(o){var r=o.getSnapshot;o=o.value;try{var l=r();return!jt(o,l)}catch{return!0}}function Qy(o){var r=Ko(o,2);r!==null&&Yt(r,o,2)}function hh(o){var r=Pt();if(typeof o=="function"){var l=o;if(o=l(),ir){eo(!0);try{l()}finally{eo(!1)}}}return r.memoizedState=r.baseState=o,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ai,lastRenderedState:o},r}function Zy(o,r,l,c){return o.baseState=l,fh(o,Je,typeof c=="function"?c:Ai)}function yN(o,r,l,c,g){if(ku(o))throw Error(i(485));if(o=r.action,o!==null){var y={payload:g,action:o,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){y.listeners.push(E)}};k.T!==null?l(!0):y.isTransition=!1,c(y),l=r.pending,l===null?(y.next=r.pending=y,jy(r,y)):(y.next=l.next,r.pending=l.next=y)}}function jy(o,r){var l=r.action,c=r.payload,g=o.state;if(r.isTransition){var y=k.T,E={};k.T=E;try{var C=l(g,c),M=k.S;M!==null&&M(E,C),e_(o,r,C)}catch(V){ph(o,r,V)}finally{y!==null&&E.types!==null&&(y.types=E.types),k.T=y}}else try{y=l(g,c),e_(o,r,y)}catch(V){ph(o,r,V)}}function e_(o,r,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(c){t_(o,r,c)},function(c){return ph(o,r,c)}):t_(o,r,l)}function t_(o,r,l){r.status="fulfilled",r.value=l,n_(r),o.state=l,r=o.pending,r!==null&&(l=r.next,l===r?o.pending=null:(l=l.next,r.next=l,jy(o,l)))}function ph(o,r,l){var c=o.pending;if(o.pending=null,c!==null){c=c.next;do r.status="rejected",r.reason=l,n_(r),r=r.next;while(r!==c)}o.action=null}function n_(o){o=o.listeners;for(var r=0;r<o.length;r++)(0,o[r])()}function i_(o,r){return r}function o_(o,r){if(Pe){var l=We.formState;if(l!==null){e:{var c=we;if(Pe){if(je){t:{for(var g=je,y=Sn;g.nodeType!==8;){if(!y){g=null;break t}if(g=Tn(g.nextSibling),g===null){g=null;break t}}y=g.data,g=y==="F!"||y==="F"?g:null}if(g){je=Tn(g.nextSibling),c=g.data==="F!";break e}}ro(c)}c=!1}c&&(r=l[0])}}return l=Pt(),l.memoizedState=l.baseState=r,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i_,lastRenderedState:r},l.queue=c,l=b_.bind(null,we,c),c.dispatch=l,c=hh(!1),y=Sh.bind(null,we,!1,c.queue),c=Pt(),g={state:r,dispatch:null,action:o,pending:null},c.queue=g,l=yN.bind(null,we,g,y,l),g.dispatch=l,c.memoizedState=o,[r,l,!1]}function r_(o){var r=at();return s_(r,Je,o)}function s_(o,r,l){if(r=fh(o,r,i_)[0],o=Uu(Ai)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var c=wa(r)}catch(E){throw E===Wr?Cu:E}else c=r;r=at();var g=r.queue,y=g.dispatch;return l!==r.memoizedState&&(we.flags|=2048,ts(9,{destroy:void 0},_N.bind(null,g,l),null)),[c,y,o]}function _N(o,r){o.action=r}function a_(o){var r=at(),l=Je;if(l!==null)return s_(r,l,o);at(),r=r.memoizedState,l=at();var c=l.queue.dispatch;return l.memoizedState=o,[r,c,!1]}function ts(o,r,l,c){return o={tag:o,create:l,deps:c,inst:r,next:null},r=we.updateQueue,r===null&&(r=Du(),we.updateQueue=r),l=r.lastEffect,l===null?r.lastEffect=o.next=o:(c=l.next,l.next=o,o.next=c,r.lastEffect=o),o}function l_(){return at().memoizedState}function Pu(o,r,l,c){var g=Pt();we.flags|=o,g.memoizedState=ts(1|r,{destroy:void 0},l,c===void 0?null:c)}function Lu(o,r,l,c){var g=at();c=c===void 0?null:c;var y=g.memoizedState.inst;Je!==null&&c!==null&&rh(c,Je.memoizedState.deps)?g.memoizedState=ts(r,y,l,c):(we.flags|=o,g.memoizedState=ts(1|r,y,l,c))}function u_(o,r){Pu(8390656,8,o,r)}function mh(o,r){Lu(2048,8,o,r)}function SN(o){we.flags|=4;var r=we.updateQueue;if(r===null)r=Du(),we.updateQueue=r,r.events=[o];else{var l=r.events;l===null?r.events=[o]:l.push(o)}}function c_(o){var r=at().memoizedState;return SN({ref:r,nextImpl:o}),function(){if(($e&2)!==0)throw Error(i(440));return r.impl.apply(void 0,arguments)}}function f_(o,r){return Lu(4,2,o,r)}function d_(o,r){return Lu(4,4,o,r)}function h_(o,r){if(typeof r=="function"){o=o();var l=r(o);return function(){typeof l=="function"?l():r(null)}}if(r!=null)return o=o(),r.current=o,function(){r.current=null}}function p_(o,r,l){l=l!=null?l.concat([o]):null,Lu(4,4,h_.bind(null,r,o),l)}function gh(){}function m_(o,r){var l=at();r=r===void 0?null:r;var c=l.memoizedState;return r!==null&&rh(r,c[1])?c[0]:(l.memoizedState=[o,r],o)}function g_(o,r){var l=at();r=r===void 0?null:r;var c=l.memoizedState;if(r!==null&&rh(r,c[1]))return c[0];if(c=o(),ir){eo(!0);try{o()}finally{eo(!1)}}return l.memoizedState=[c,r],c}function vh(o,r,l){return l===void 0||(Ci&1073741824)!==0&&(Oe&261930)===0?o.memoizedState=r:(o.memoizedState=l,o=v0(),we.lanes|=o,mo|=o,l)}function v_(o,r,l,c){return jt(l,r)?l:Zr.current!==null?(o=vh(o,l,c),jt(o,r)||(ct=!0),o):(Ci&42)===0||(Ci&1073741824)!==0&&(Oe&261930)===0?(ct=!0,o.memoizedState=l):(o=v0(),we.lanes|=o,mo|=o,r)}function y_(o,r,l,c,g){var y=Z.p;Z.p=y!==0&&8>y?y:8;var E=k.T,C={};k.T=C,Sh(o,!1,r,l);try{var M=g(),V=k.S;if(V!==null&&V(C,M),M!==null&&typeof M=="object"&&typeof M.then=="function"){var J=mN(M,c);xa(o,r,J,sn(o))}else xa(o,r,c,sn(o))}catch(W){xa(o,r,{then:function(){},status:"rejected",reason:W},sn())}finally{Z.p=y,E!==null&&C.types!==null&&(E.types=C.types),k.T=E}}function EN(){}function yh(o,r,l,c){if(o.tag!==5)throw Error(i(476));var g=__(o).queue;y_(o,g,r,se,l===null?EN:function(){return S_(o),l(c)})}function __(o){var r=o.memoizedState;if(r!==null)return r;r={memoizedState:se,baseState:se,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ai,lastRenderedState:se},next:null};var l={};return r.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ai,lastRenderedState:l},next:null},o.memoizedState=r,o=o.alternate,o!==null&&(o.memoizedState=r),r}function S_(o){var r=__(o);r.next===null&&(r=o.alternate.memoizedState),xa(o,r.next.queue,{},sn())}function _h(){return At(za)}function E_(){return at().memoizedState}function T_(){return at().memoizedState}function TN(o){for(var r=o.return;r!==null;){switch(r.tag){case 24:case 3:var l=sn();o=lo(l);var c=uo(r,o,l);c!==null&&(Yt(c,r,l),Ta(c,r,l)),r={cache:Kd()},o.payload=r;return}r=r.return}}function bN(o,r,l){var c=sn();l={lane:c,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},ku(o)?C_(r,l):(l=kd(o,r,l,c),l!==null&&(Yt(l,o,c),A_(l,r,c)))}function b_(o,r,l){var c=sn();xa(o,r,l,c)}function xa(o,r,l,c){var g={lane:c,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(ku(o))C_(r,g);else{var y=o.alternate;if(o.lanes===0&&(y===null||y.lanes===0)&&(y=r.lastRenderedReducer,y!==null))try{var E=r.lastRenderedState,C=y(E,l);if(g.hasEagerState=!0,g.eagerState=C,jt(C,E))return vu(o,r,g,0),We===null&&gu(),!1}catch{}finally{}if(l=kd(o,r,g,c),l!==null)return Yt(l,o,c),A_(l,r,c),!0}return!1}function Sh(o,r,l,c){if(c={lane:2,revertLane:Zh(),gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},ku(o)){if(r)throw Error(i(479))}else r=kd(o,l,c,2),r!==null&&Yt(r,o,2)}function ku(o){var r=o.alternate;return o===we||r!==null&&r===we}function C_(o,r){jr=Nu=!0;var l=o.pending;l===null?r.next=r:(r.next=l.next,l.next=r),o.pending=r}function A_(o,r,l){if((l&4194048)!==0){var c=r.lanes;c&=o.pendingLanes,l|=c,r.lanes=l,Nv(o,l)}}var Ra={readContext:At,use:Ou,useCallback:ot,useContext:ot,useEffect:ot,useImperativeHandle:ot,useLayoutEffect:ot,useInsertionEffect:ot,useMemo:ot,useReducer:ot,useRef:ot,useState:ot,useDebugValue:ot,useDeferredValue:ot,useTransition:ot,useSyncExternalStore:ot,useId:ot,useHostTransitionStatus:ot,useFormState:ot,useActionState:ot,useOptimistic:ot,useMemoCache:ot,useCacheRefresh:ot};Ra.useEffectEvent=ot;var w_={readContext:At,use:Ou,useCallback:function(o,r){return Pt().memoizedState=[o,r===void 0?null:r],o},useContext:At,useEffect:u_,useImperativeHandle:function(o,r,l){l=l!=null?l.concat([o]):null,Pu(4194308,4,h_.bind(null,r,o),l)},useLayoutEffect:function(o,r){return Pu(4194308,4,o,r)},useInsertionEffect:function(o,r){Pu(4,2,o,r)},useMemo:function(o,r){var l=Pt();r=r===void 0?null:r;var c=o();if(ir){eo(!0);try{o()}finally{eo(!1)}}return l.memoizedState=[c,r],c},useReducer:function(o,r,l){var c=Pt();if(l!==void 0){var g=l(r);if(ir){eo(!0);try{l(r)}finally{eo(!1)}}}else g=r;return c.memoizedState=c.baseState=g,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:g},c.queue=o,o=o.dispatch=bN.bind(null,we,o),[c.memoizedState,o]},useRef:function(o){var r=Pt();return o={current:o},r.memoizedState=o},useState:function(o){o=hh(o);var r=o.queue,l=b_.bind(null,we,r);return r.dispatch=l,[o.memoizedState,l]},useDebugValue:gh,useDeferredValue:function(o,r){var l=Pt();return vh(l,o,r)},useTransition:function(){var o=hh(!1);return o=y_.bind(null,we,o.queue,!0,!1),Pt().memoizedState=o,[!1,o]},useSyncExternalStore:function(o,r,l){var c=we,g=Pt();if(Pe){if(l===void 0)throw Error(i(407));l=l()}else{if(l=r(),We===null)throw Error(i(349));(Oe&127)!==0||Yy(c,r,l)}g.memoizedState=l;var y={value:l,getSnapshot:r};return g.queue=y,u_(Xy.bind(null,c,y,o),[o]),c.flags|=2048,ts(9,{destroy:void 0},Ky.bind(null,c,y,l,r),null),l},useId:function(){var o=Pt(),r=We.identifierPrefix;if(Pe){var l=ti,c=ei;l=(c&~(1<<32-Zt(c)-1)).toString(32)+l,r="_"+r+"R_"+l,l=Iu++,0<l&&(r+="H"+l.toString(32)),r+="_"}else l=gN++,r="_"+r+"r_"+l.toString(32)+"_";return o.memoizedState=r},useHostTransitionStatus:_h,useFormState:o_,useActionState:o_,useOptimistic:function(o){var r=Pt();r.memoizedState=r.baseState=o;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=l,r=Sh.bind(null,we,!0,l),l.dispatch=r,[o,r]},useMemoCache:ch,useCacheRefresh:function(){return Pt().memoizedState=TN.bind(null,we)},useEffectEvent:function(o){var r=Pt(),l={impl:o};return r.memoizedState=l,function(){if(($e&2)!==0)throw Error(i(440));return l.impl.apply(void 0,arguments)}}},Eh={readContext:At,use:Ou,useCallback:m_,useContext:At,useEffect:mh,useImperativeHandle:p_,useInsertionEffect:f_,useLayoutEffect:d_,useMemo:g_,useReducer:Uu,useRef:l_,useState:function(){return Uu(Ai)},useDebugValue:gh,useDeferredValue:function(o,r){var l=at();return v_(l,Je.memoizedState,o,r)},useTransition:function(){var o=Uu(Ai)[0],r=at().memoizedState;return[typeof o=="boolean"?o:wa(o),r]},useSyncExternalStore:Jy,useId:E_,useHostTransitionStatus:_h,useFormState:r_,useActionState:r_,useOptimistic:function(o,r){var l=at();return Zy(l,Je,o,r)},useMemoCache:ch,useCacheRefresh:T_};Eh.useEffectEvent=c_;var x_={readContext:At,use:Ou,useCallback:m_,useContext:At,useEffect:mh,useImperativeHandle:p_,useInsertionEffect:f_,useLayoutEffect:d_,useMemo:g_,useReducer:dh,useRef:l_,useState:function(){return dh(Ai)},useDebugValue:gh,useDeferredValue:function(o,r){var l=at();return Je===null?vh(l,o,r):v_(l,Je.memoizedState,o,r)},useTransition:function(){var o=dh(Ai)[0],r=at().memoizedState;return[typeof o=="boolean"?o:wa(o),r]},useSyncExternalStore:Jy,useId:E_,useHostTransitionStatus:_h,useFormState:a_,useActionState:a_,useOptimistic:function(o,r){var l=at();return Je!==null?Zy(l,Je,o,r):(l.baseState=o,[o,l.queue.dispatch])},useMemoCache:ch,useCacheRefresh:T_};x_.useEffectEvent=c_;function Th(o,r,l,c){r=o.memoizedState,l=l(c,r),l=l==null?r:_({},r,l),o.memoizedState=l,o.lanes===0&&(o.updateQueue.baseState=l)}var bh={enqueueSetState:function(o,r,l){o=o._reactInternals;var c=sn(),g=lo(c);g.payload=r,l!=null&&(g.callback=l),r=uo(o,g,c),r!==null&&(Yt(r,o,c),Ta(r,o,c))},enqueueReplaceState:function(o,r,l){o=o._reactInternals;var c=sn(),g=lo(c);g.tag=1,g.payload=r,l!=null&&(g.callback=l),r=uo(o,g,c),r!==null&&(Yt(r,o,c),Ta(r,o,c))},enqueueForceUpdate:function(o,r){o=o._reactInternals;var l=sn(),c=lo(l);c.tag=2,r!=null&&(c.callback=r),r=uo(o,c,l),r!==null&&(Yt(r,o,l),Ta(r,o,l))}};function R_(o,r,l,c,g,y,E){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(c,y,E):r.prototype&&r.prototype.isPureReactComponent?!pa(l,c)||!pa(g,y):!0}function M_(o,r,l,c){o=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(l,c),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(l,c),r.state!==o&&bh.enqueueReplaceState(r,r.state,null)}function or(o,r){var l=r;if("ref"in r){l={};for(var c in r)c!=="ref"&&(l[c]=r[c])}if(o=o.defaultProps){l===r&&(l=_({},l));for(var g in o)l[g]===void 0&&(l[g]=o[g])}return l}function N_(o){mu(o)}function I_(o){console.error(o)}function D_(o){mu(o)}function Bu(o,r){try{var l=o.onUncaughtError;l(r.value,{componentStack:r.stack})}catch(c){setTimeout(function(){throw c})}}function O_(o,r,l){try{var c=o.onCaughtError;c(l.value,{componentStack:l.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function Ch(o,r,l){return l=lo(l),l.tag=3,l.payload={element:null},l.callback=function(){Bu(o,r)},l}function U_(o){return o=lo(o),o.tag=3,o}function P_(o,r,l,c){var g=l.type.getDerivedStateFromError;if(typeof g=="function"){var y=c.value;o.payload=function(){return g(y)},o.callback=function(){O_(r,l,c)}}var E=l.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(o.callback=function(){O_(r,l,c),typeof g!="function"&&(go===null?go=new Set([this]):go.add(this));var C=c.stack;this.componentDidCatch(c.value,{componentStack:C!==null?C:""})})}function CN(o,r,l,c,g){if(l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(r=l.alternate,r!==null&&Yr(r,l,g,!0),l=tn.current,l!==null){switch(l.tag){case 31:case 13:return En===null?Wu():l.alternate===null&&rt===0&&(rt=3),l.flags&=-257,l.flags|=65536,l.lanes=g,c===Au?l.flags|=16384:(r=l.updateQueue,r===null?l.updateQueue=new Set([c]):r.add(c),Xh(o,c,g)),!1;case 22:return l.flags|=65536,c===Au?l.flags|=16384:(r=l.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([c])},l.updateQueue=r):(l=r.retryQueue,l===null?r.retryQueue=new Set([c]):l.add(c)),Xh(o,c,g)),!1}throw Error(i(435,l.tag))}return Xh(o,c,g),Wu(),!1}if(Pe)return r=tn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=g,c!==qd&&(o=Error(i(422),{cause:c}),va(vn(o,l)))):(c!==qd&&(r=Error(i(423),{cause:c}),va(vn(r,l))),o=o.current.alternate,o.flags|=65536,g&=-g,o.lanes|=g,c=vn(c,l),g=Ch(o.stateNode,c,g),eh(o,g),rt!==4&&(rt=2)),!1;var y=Error(i(520),{cause:c});if(y=vn(y,l),La===null?La=[y]:La.push(y),rt!==4&&(rt=2),r===null)return!0;c=vn(c,l),l=r;do{switch(l.tag){case 3:return l.flags|=65536,o=g&-g,l.lanes|=o,o=Ch(l.stateNode,c,o),eh(l,o),!1;case 1:if(r=l.type,y=l.stateNode,(l.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(go===null||!go.has(y))))return l.flags|=65536,g&=-g,l.lanes|=g,g=U_(g),P_(g,o,l,c),eh(l,g),!1}l=l.return}while(l!==null);return!1}var Ah=Error(i(461)),ct=!1;function wt(o,r,l,c){r.child=o===null?Hy(r,null,l,c):nr(r,o.child,l,c)}function L_(o,r,l,c,g){l=l.render;var y=r.ref;if("ref"in c){var E={};for(var C in c)C!=="ref"&&(E[C]=c[C])}else E=c;return Zo(r),c=sh(o,r,l,E,y,g),C=ah(),o!==null&&!ct?(lh(o,r,g),wi(o,r,g)):(Pe&&C&&Vd(r),r.flags|=1,wt(o,r,c,g),r.child)}function k_(o,r,l,c,g){if(o===null){var y=l.type;return typeof y=="function"&&!Bd(y)&&y.defaultProps===void 0&&l.compare===null?(r.tag=15,r.type=y,B_(o,r,y,c,g)):(o=_u(l.type,null,c,r,r.mode,g),o.ref=r.ref,o.return=r,r.child=o)}if(y=o.child,!Oh(o,g)){var E=y.memoizedProps;if(l=l.compare,l=l!==null?l:pa,l(E,c)&&o.ref===r.ref)return wi(o,r,g)}return r.flags|=1,o=Si(y,c),o.ref=r.ref,o.return=r,r.child=o}function B_(o,r,l,c,g){if(o!==null){var y=o.memoizedProps;if(pa(y,c)&&o.ref===r.ref)if(ct=!1,r.pendingProps=c=y,Oh(o,g))(o.flags&131072)!==0&&(ct=!0);else return r.lanes=o.lanes,wi(o,r,g)}return wh(o,r,l,c,g)}function H_(o,r,l,c){var g=c.children,y=o!==null?o.memoizedState:null;if(o===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.mode==="hidden"){if((r.flags&128)!==0){if(y=y!==null?y.baseLanes|l:l,o!==null){for(c=r.child=o.child,g=0;c!==null;)g=g|c.lanes|c.childLanes,c=c.sibling;c=g&~y}else c=0,r.child=null;return G_(o,r,y,l,c)}if((l&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},o!==null&&bu(r,y!==null?y.cachePool:null),y!==null?$y(r,y):nh(),qy(r);else return c=r.lanes=536870912,G_(o,r,y!==null?y.baseLanes|l:l,l,c)}else y!==null?(bu(r,y.cachePool),$y(r,y),fo(),r.memoizedState=null):(o!==null&&bu(r,null),nh(),fo());return wt(o,r,g,l),r.child}function Ma(o,r){return o!==null&&o.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function G_(o,r,l,c,g){var y=Wd();return y=y===null?null:{parent:lt._currentValue,pool:y},r.memoizedState={baseLanes:l,cachePool:y},o!==null&&bu(r,null),nh(),qy(r),o!==null&&Yr(o,r,c,!0),r.childLanes=g,null}function Hu(o,r){return r=Vu({mode:r.mode,children:r.children},o.mode),r.ref=o.ref,o.child=r,r.return=o,r}function V_(o,r,l){return nr(r,o.child,null,l),o=Hu(r,r.pendingProps),o.flags|=2,nn(r),r.memoizedState=null,o}function AN(o,r,l){var c=r.pendingProps,g=(r.flags&128)!==0;if(r.flags&=-129,o===null){if(Pe){if(c.mode==="hidden")return o=Hu(r,c),r.lanes=536870912,Ma(null,o);if(oh(r),(o=je)?(o=j0(o,Sn),o=o!==null&&o.data==="&"?o:null,o!==null&&(r.memoizedState={dehydrated:o,treeContext:io!==null?{id:ei,overflow:ti}:null,retryLane:536870912,hydrationErrors:null},l=Cy(o),l.return=r,r.child=l,Ct=r,je=null)):o=null,o===null)throw ro(r);return r.lanes=536870912,null}return Hu(r,c)}var y=o.memoizedState;if(y!==null){var E=y.dehydrated;if(oh(r),g)if(r.flags&256)r.flags&=-257,r=V_(o,r,l);else if(r.memoizedState!==null)r.child=o.child,r.flags|=128,r=null;else throw Error(i(558));else if(ct||Yr(o,r,l,!1),g=(l&o.childLanes)!==0,ct||g){if(c=We,c!==null&&(E=Iv(c,l),E!==0&&E!==y.retryLane))throw y.retryLane=E,Ko(o,E),Yt(c,o,E),Ah;Wu(),r=V_(o,r,l)}else o=y.treeContext,je=Tn(E.nextSibling),Ct=r,Pe=!0,oo=null,Sn=!1,o!==null&&xy(r,o),r=Hu(r,c),r.flags|=4096;return r}return o=Si(o.child,{mode:c.mode,children:c.children}),o.ref=r.ref,r.child=o,o.return=r,o}function Gu(o,r){var l=r.ref;if(l===null)o!==null&&o.ref!==null&&(r.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(i(284));(o===null||o.ref!==l)&&(r.flags|=4194816)}}function wh(o,r,l,c,g){return Zo(r),l=sh(o,r,l,c,void 0,g),c=ah(),o!==null&&!ct?(lh(o,r,g),wi(o,r,g)):(Pe&&c&&Vd(r),r.flags|=1,wt(o,r,l,g),r.child)}function $_(o,r,l,c,g,y){return Zo(r),r.updateQueue=null,l=Fy(r,c,l,g),zy(o),c=ah(),o!==null&&!ct?(lh(o,r,y),wi(o,r,y)):(Pe&&c&&Vd(r),r.flags|=1,wt(o,r,l,y),r.child)}function q_(o,r,l,c,g){if(Zo(r),r.stateNode===null){var y=qr,E=l.contextType;typeof E=="object"&&E!==null&&(y=At(E)),y=new l(c,y),r.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=bh,r.stateNode=y,y._reactInternals=r,y=r.stateNode,y.props=c,y.state=r.memoizedState,y.refs={},Zd(r),E=l.contextType,y.context=typeof E=="object"&&E!==null?At(E):qr,y.state=r.memoizedState,E=l.getDerivedStateFromProps,typeof E=="function"&&(Th(r,l,E,c),y.state=r.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(E=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),E!==y.state&&bh.enqueueReplaceState(y,y.state,null),Ca(r,c,y,g),ba(),y.state=r.memoizedState),typeof y.componentDidMount=="function"&&(r.flags|=4194308),c=!0}else if(o===null){y=r.stateNode;var C=r.memoizedProps,M=or(l,C);y.props=M;var V=y.context,J=l.contextType;E=qr,typeof J=="object"&&J!==null&&(E=At(J));var W=l.getDerivedStateFromProps;J=typeof W=="function"||typeof y.getSnapshotBeforeUpdate=="function",C=r.pendingProps!==C,J||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(C||V!==E)&&M_(r,y,c,E),ao=!1;var q=r.memoizedState;y.state=q,Ca(r,c,y,g),ba(),V=r.memoizedState,C||q!==V||ao?(typeof W=="function"&&(Th(r,l,W,c),V=r.memoizedState),(M=ao||R_(r,l,M,c,q,V,E))?(J||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(r.flags|=4194308)):(typeof y.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=c,r.memoizedState=V),y.props=c,y.state=V,y.context=E,c=M):(typeof y.componentDidMount=="function"&&(r.flags|=4194308),c=!1)}else{y=r.stateNode,jd(o,r),E=r.memoizedProps,J=or(l,E),y.props=J,W=r.pendingProps,q=y.context,V=l.contextType,M=qr,typeof V=="object"&&V!==null&&(M=At(V)),C=l.getDerivedStateFromProps,(V=typeof C=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(E!==W||q!==M)&&M_(r,y,c,M),ao=!1,q=r.memoizedState,y.state=q,Ca(r,c,y,g),ba();var F=r.memoizedState;E!==W||q!==F||ao||o!==null&&o.dependencies!==null&&Eu(o.dependencies)?(typeof C=="function"&&(Th(r,l,C,c),F=r.memoizedState),(J=ao||R_(r,l,J,c,q,F,M)||o!==null&&o.dependencies!==null&&Eu(o.dependencies))?(V||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(c,F,M),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(c,F,M)),typeof y.componentDidUpdate=="function"&&(r.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof y.componentDidUpdate!="function"||E===o.memoizedProps&&q===o.memoizedState||(r.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||E===o.memoizedProps&&q===o.memoizedState||(r.flags|=1024),r.memoizedProps=c,r.memoizedState=F),y.props=c,y.state=F,y.context=M,c=J):(typeof y.componentDidUpdate!="function"||E===o.memoizedProps&&q===o.memoizedState||(r.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||E===o.memoizedProps&&q===o.memoizedState||(r.flags|=1024),c=!1)}return y=c,Gu(o,r),c=(r.flags&128)!==0,y||c?(y=r.stateNode,l=c&&typeof l.getDerivedStateFromError!="function"?null:y.render(),r.flags|=1,o!==null&&c?(r.child=nr(r,o.child,null,g),r.child=nr(r,null,l,g)):wt(o,r,l,g),r.memoizedState=y.state,o=r.child):o=wi(o,r,g),o}function z_(o,r,l,c){return Wo(),r.flags|=256,wt(o,r,l,c),r.child}var xh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Rh(o){return{baseLanes:o,cachePool:Oy()}}function Mh(o,r,l){return o=o!==null?o.childLanes&~l:0,r&&(o|=rn),o}function F_(o,r,l){var c=r.pendingProps,g=!1,y=(r.flags&128)!==0,E;if((E=y)||(E=o!==null&&o.memoizedState===null?!1:(st.current&2)!==0),E&&(g=!0,r.flags&=-129),E=(r.flags&32)!==0,r.flags&=-33,o===null){if(Pe){if(g?co(r):fo(),(o=je)?(o=j0(o,Sn),o=o!==null&&o.data!=="&"?o:null,o!==null&&(r.memoizedState={dehydrated:o,treeContext:io!==null?{id:ei,overflow:ti}:null,retryLane:536870912,hydrationErrors:null},l=Cy(o),l.return=r,r.child=l,Ct=r,je=null)):o=null,o===null)throw ro(r);return fp(o)?r.lanes=32:r.lanes=536870912,null}var C=c.children;return c=c.fallback,g?(fo(),g=r.mode,C=Vu({mode:"hidden",children:C},g),c=Xo(c,g,l,null),C.return=r,c.return=r,C.sibling=c,r.child=C,c=r.child,c.memoizedState=Rh(l),c.childLanes=Mh(o,E,l),r.memoizedState=xh,Ma(null,c)):(co(r),Nh(r,C))}var M=o.memoizedState;if(M!==null&&(C=M.dehydrated,C!==null)){if(y)r.flags&256?(co(r),r.flags&=-257,r=Ih(o,r,l)):r.memoizedState!==null?(fo(),r.child=o.child,r.flags|=128,r=null):(fo(),C=c.fallback,g=r.mode,c=Vu({mode:"visible",children:c.children},g),C=Xo(C,g,l,null),C.flags|=2,c.return=r,C.return=r,c.sibling=C,r.child=c,nr(r,o.child,null,l),c=r.child,c.memoizedState=Rh(l),c.childLanes=Mh(o,E,l),r.memoizedState=xh,r=Ma(null,c));else if(co(r),fp(C)){if(E=C.nextSibling&&C.nextSibling.dataset,E)var V=E.dgst;E=V,c=Error(i(419)),c.stack="",c.digest=E,va({value:c,source:null,stack:null}),r=Ih(o,r,l)}else if(ct||Yr(o,r,l,!1),E=(l&o.childLanes)!==0,ct||E){if(E=We,E!==null&&(c=Iv(E,l),c!==0&&c!==M.retryLane))throw M.retryLane=c,Ko(o,c),Yt(E,o,c),Ah;cp(C)||Wu(),r=Ih(o,r,l)}else cp(C)?(r.flags|=192,r.child=o.child,r=null):(o=M.treeContext,je=Tn(C.nextSibling),Ct=r,Pe=!0,oo=null,Sn=!1,o!==null&&xy(r,o),r=Nh(r,c.children),r.flags|=4096);return r}return g?(fo(),C=c.fallback,g=r.mode,M=o.child,V=M.sibling,c=Si(M,{mode:"hidden",children:c.children}),c.subtreeFlags=M.subtreeFlags&65011712,V!==null?C=Si(V,C):(C=Xo(C,g,l,null),C.flags|=2),C.return=r,c.return=r,c.sibling=C,r.child=c,Ma(null,c),c=r.child,C=o.child.memoizedState,C===null?C=Rh(l):(g=C.cachePool,g!==null?(M=lt._currentValue,g=g.parent!==M?{parent:M,pool:M}:g):g=Oy(),C={baseLanes:C.baseLanes|l,cachePool:g}),c.memoizedState=C,c.childLanes=Mh(o,E,l),r.memoizedState=xh,Ma(o.child,c)):(co(r),l=o.child,o=l.sibling,l=Si(l,{mode:"visible",children:c.children}),l.return=r,l.sibling=null,o!==null&&(E=r.deletions,E===null?(r.deletions=[o],r.flags|=16):E.push(o)),r.child=l,r.memoizedState=null,l)}function Nh(o,r){return r=Vu({mode:"visible",children:r},o.mode),r.return=o,o.child=r}function Vu(o,r){return o=en(22,o,null,r),o.lanes=0,o}function Ih(o,r,l){return nr(r,o.child,null,l),o=Nh(r,r.pendingProps.children),o.flags|=2,r.memoizedState=null,o}function J_(o,r,l){o.lanes|=r;var c=o.alternate;c!==null&&(c.lanes|=r),Jd(o.return,r,l)}function Dh(o,r,l,c,g,y){var E=o.memoizedState;E===null?o.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:c,tail:l,tailMode:g,treeForkCount:y}:(E.isBackwards=r,E.rendering=null,E.renderingStartTime=0,E.last=c,E.tail=l,E.tailMode=g,E.treeForkCount=y)}function Y_(o,r,l){var c=r.pendingProps,g=c.revealOrder,y=c.tail;c=c.children;var E=st.current,C=(E&2)!==0;if(C?(E=E&1|2,r.flags|=128):E&=1,ne(st,E),wt(o,r,c,l),c=Pe?ga:0,!C&&o!==null&&(o.flags&128)!==0)e:for(o=r.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&J_(o,l,r);else if(o.tag===19)J_(o,l,r);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===r)break e;for(;o.sibling===null;){if(o.return===null||o.return===r)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}switch(g){case"forwards":for(l=r.child,g=null;l!==null;)o=l.alternate,o!==null&&Mu(o)===null&&(g=l),l=l.sibling;l=g,l===null?(g=r.child,r.child=null):(g=l.sibling,l.sibling=null),Dh(r,!1,g,l,y,c);break;case"backwards":case"unstable_legacy-backwards":for(l=null,g=r.child,r.child=null;g!==null;){if(o=g.alternate,o!==null&&Mu(o)===null){r.child=g;break}o=g.sibling,g.sibling=l,l=g,g=o}Dh(r,!0,l,null,y,c);break;case"together":Dh(r,!1,null,null,void 0,c);break;default:r.memoizedState=null}return r.child}function wi(o,r,l){if(o!==null&&(r.dependencies=o.dependencies),mo|=r.lanes,(l&r.childLanes)===0)if(o!==null){if(Yr(o,r,l,!1),(l&r.childLanes)===0)return null}else return null;if(o!==null&&r.child!==o.child)throw Error(i(153));if(r.child!==null){for(o=r.child,l=Si(o,o.pendingProps),r.child=l,l.return=r;o.sibling!==null;)o=o.sibling,l=l.sibling=Si(o,o.pendingProps),l.return=r;l.sibling=null}return r.child}function Oh(o,r){return(o.lanes&r)!==0?!0:(o=o.dependencies,!!(o!==null&&Eu(o)))}function wN(o,r,l){switch(r.tag){case 3:Ze(r,r.stateNode.containerInfo),so(r,lt,o.memoizedState.cache),Wo();break;case 27:case 5:Ln(r);break;case 4:Ze(r,r.stateNode.containerInfo);break;case 10:so(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,oh(r),null;break;case 13:var c=r.memoizedState;if(c!==null)return c.dehydrated!==null?(co(r),r.flags|=128,null):(l&r.child.childLanes)!==0?F_(o,r,l):(co(r),o=wi(o,r,l),o!==null?o.sibling:null);co(r);break;case 19:var g=(o.flags&128)!==0;if(c=(l&r.childLanes)!==0,c||(Yr(o,r,l,!1),c=(l&r.childLanes)!==0),g){if(c)return Y_(o,r,l);r.flags|=128}if(g=r.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),ne(st,st.current),c)break;return null;case 22:return r.lanes=0,H_(o,r,l,r.pendingProps);case 24:so(r,lt,o.memoizedState.cache)}return wi(o,r,l)}function K_(o,r,l){if(o!==null)if(o.memoizedProps!==r.pendingProps)ct=!0;else{if(!Oh(o,l)&&(r.flags&128)===0)return ct=!1,wN(o,r,l);ct=(o.flags&131072)!==0}else ct=!1,Pe&&(r.flags&1048576)!==0&&wy(r,ga,r.index);switch(r.lanes=0,r.tag){case 16:e:{var c=r.pendingProps;if(o=er(r.elementType),r.type=o,typeof o=="function")Bd(o)?(c=or(o,c),r.tag=1,r=q_(null,r,o,c,l)):(r.tag=0,r=wh(null,r,o,c,l));else{if(o!=null){var g=o.$$typeof;if(g===P){r.tag=11,r=L_(null,r,o,c,l);break e}else if(g===B){r.tag=14,r=k_(null,r,o,c,l);break e}}throw r=fe(o)||o,Error(i(306,r,""))}}return r;case 0:return wh(o,r,r.type,r.pendingProps,l);case 1:return c=r.type,g=or(c,r.pendingProps),q_(o,r,c,g,l);case 3:e:{if(Ze(r,r.stateNode.containerInfo),o===null)throw Error(i(387));c=r.pendingProps;var y=r.memoizedState;g=y.element,jd(o,r),Ca(r,c,null,l);var E=r.memoizedState;if(c=E.cache,so(r,lt,c),c!==y.cache&&Yd(r,[lt],l,!0),ba(),c=E.element,y.isDehydrated)if(y={element:c,isDehydrated:!1,cache:E.cache},r.updateQueue.baseState=y,r.memoizedState=y,r.flags&256){r=z_(o,r,c,l);break e}else if(c!==g){g=vn(Error(i(424)),r),va(g),r=z_(o,r,c,l);break e}else{switch(o=r.stateNode.containerInfo,o.nodeType){case 9:o=o.body;break;default:o=o.nodeName==="HTML"?o.ownerDocument.body:o}for(je=Tn(o.firstChild),Ct=r,Pe=!0,oo=null,Sn=!0,l=Hy(r,null,c,l),r.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(Wo(),c===g){r=wi(o,r,l);break e}wt(o,r,c,l)}r=r.child}return r;case 26:return Gu(o,r),o===null?(l=rS(r.type,null,r.pendingProps,null))?r.memoizedState=l:Pe||(l=r.type,o=r.pendingProps,c=ic(be.current).createElement(l),c[bt]=r,c[Vt]=o,xt(c,l,o),gt(c),r.stateNode=c):r.memoizedState=rS(r.type,o.memoizedProps,r.pendingProps,o.memoizedState),null;case 27:return Ln(r),o===null&&Pe&&(c=r.stateNode=nS(r.type,r.pendingProps,be.current),Ct=r,Sn=!0,g=je,So(r.type)?(dp=g,je=Tn(c.firstChild)):je=g),wt(o,r,r.pendingProps.children,l),Gu(o,r),o===null&&(r.flags|=4194304),r.child;case 5:return o===null&&Pe&&((g=c=je)&&(c=nI(c,r.type,r.pendingProps,Sn),c!==null?(r.stateNode=c,Ct=r,je=Tn(c.firstChild),Sn=!1,g=!0):g=!1),g||ro(r)),Ln(r),g=r.type,y=r.pendingProps,E=o!==null?o.memoizedProps:null,c=y.children,ap(g,y)?c=null:E!==null&&ap(g,E)&&(r.flags|=32),r.memoizedState!==null&&(g=sh(o,r,vN,null,null,l),za._currentValue=g),Gu(o,r),wt(o,r,c,l),r.child;case 6:return o===null&&Pe&&((o=l=je)&&(l=iI(l,r.pendingProps,Sn),l!==null?(r.stateNode=l,Ct=r,je=null,o=!0):o=!1),o||ro(r)),null;case 13:return F_(o,r,l);case 4:return Ze(r,r.stateNode.containerInfo),c=r.pendingProps,o===null?r.child=nr(r,null,c,l):wt(o,r,c,l),r.child;case 11:return L_(o,r,r.type,r.pendingProps,l);case 7:return wt(o,r,r.pendingProps,l),r.child;case 8:return wt(o,r,r.pendingProps.children,l),r.child;case 12:return wt(o,r,r.pendingProps.children,l),r.child;case 10:return c=r.pendingProps,so(r,r.type,c.value),wt(o,r,c.children,l),r.child;case 9:return g=r.type._context,c=r.pendingProps.children,Zo(r),g=At(g),c=c(g),r.flags|=1,wt(o,r,c,l),r.child;case 14:return k_(o,r,r.type,r.pendingProps,l);case 15:return B_(o,r,r.type,r.pendingProps,l);case 19:return Y_(o,r,l);case 31:return AN(o,r,l);case 22:return H_(o,r,l,r.pendingProps);case 24:return Zo(r),c=At(lt),o===null?(g=Wd(),g===null&&(g=We,y=Kd(),g.pooledCache=y,y.refCount++,y!==null&&(g.pooledCacheLanes|=l),g=y),r.memoizedState={parent:c,cache:g},Zd(r),so(r,lt,g)):((o.lanes&l)!==0&&(jd(o,r),Ca(r,null,null,l),ba()),g=o.memoizedState,y=r.memoizedState,g.parent!==c?(g={parent:c,cache:c},r.memoizedState=g,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=g),so(r,lt,c)):(c=y.cache,so(r,lt,c),c!==g.cache&&Yd(r,[lt],l,!0))),wt(o,r,r.pendingProps.children,l),r.child;case 29:throw r.pendingProps}throw Error(i(156,r.tag))}function xi(o){o.flags|=4}function Uh(o,r,l,c,g){if((r=(o.mode&32)!==0)&&(r=!1),r){if(o.flags|=16777216,(g&335544128)===g)if(o.stateNode.complete)o.flags|=8192;else if(E0())o.flags|=8192;else throw tr=Au,Qd}else o.flags&=-16777217}function X_(o,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)o.flags&=-16777217;else if(o.flags|=16777216,!cS(r))if(E0())o.flags|=8192;else throw tr=Au,Qd}function $u(o,r){r!==null&&(o.flags|=4),o.flags&16384&&(r=o.tag!==22?Rv():536870912,o.lanes|=r,rs|=r)}function Na(o,r){if(!Pe)switch(o.tailMode){case"hidden":r=o.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?o.tail=null:l.sibling=null;break;case"collapsed":l=o.tail;for(var c=null;l!==null;)l.alternate!==null&&(c=l),l=l.sibling;c===null?r||o.tail===null?o.tail=null:o.tail.sibling=null:c.sibling=null}}function et(o){var r=o.alternate!==null&&o.alternate.child===o.child,l=0,c=0;if(r)for(var g=o.child;g!==null;)l|=g.lanes|g.childLanes,c|=g.subtreeFlags&65011712,c|=g.flags&65011712,g.return=o,g=g.sibling;else for(g=o.child;g!==null;)l|=g.lanes|g.childLanes,c|=g.subtreeFlags,c|=g.flags,g.return=o,g=g.sibling;return o.subtreeFlags|=c,o.childLanes=l,r}function xN(o,r,l){var c=r.pendingProps;switch($d(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return et(r),null;case 1:return et(r),null;case 3:return l=r.stateNode,c=null,o!==null&&(c=o.memoizedState.cache),r.memoizedState.cache!==c&&(r.flags|=2048),bi(lt),qe(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(o===null||o.child===null)&&(Jr(r)?xi(r):o===null||o.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,zd())),et(r),null;case 26:var g=r.type,y=r.memoizedState;return o===null?(xi(r),y!==null?(et(r),X_(r,y)):(et(r),Uh(r,g,null,c,l))):y?y!==o.memoizedState?(xi(r),et(r),X_(r,y)):(et(r),r.flags&=-16777217):(o=o.memoizedProps,o!==c&&xi(r),et(r),Uh(r,g,o,c,l)),null;case 27:if(jn(r),l=be.current,g=r.type,o!==null&&r.stateNode!=null)o.memoizedProps!==c&&xi(r);else{if(!c){if(r.stateNode===null)throw Error(i(166));return et(r),null}o=ie.current,Jr(r)?Ry(r):(o=nS(g,c,l),r.stateNode=o,xi(r))}return et(r),null;case 5:if(jn(r),g=r.type,o!==null&&r.stateNode!=null)o.memoizedProps!==c&&xi(r);else{if(!c){if(r.stateNode===null)throw Error(i(166));return et(r),null}if(y=ie.current,Jr(r))Ry(r);else{var E=ic(be.current);switch(y){case 1:y=E.createElementNS("http://www.w3.org/2000/svg",g);break;case 2:y=E.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;default:switch(g){case"svg":y=E.createElementNS("http://www.w3.org/2000/svg",g);break;case"math":y=E.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;case"script":y=E.createElement("div"),y.innerHTML="<script><\/script>",y=y.removeChild(y.firstChild);break;case"select":y=typeof c.is=="string"?E.createElement("select",{is:c.is}):E.createElement("select"),c.multiple?y.multiple=!0:c.size&&(y.size=c.size);break;default:y=typeof c.is=="string"?E.createElement(g,{is:c.is}):E.createElement(g)}}y[bt]=r,y[Vt]=c;e:for(E=r.child;E!==null;){if(E.tag===5||E.tag===6)y.appendChild(E.stateNode);else if(E.tag!==4&&E.tag!==27&&E.child!==null){E.child.return=E,E=E.child;continue}if(E===r)break e;for(;E.sibling===null;){if(E.return===null||E.return===r)break e;E=E.return}E.sibling.return=E.return,E=E.sibling}r.stateNode=y;e:switch(xt(y,g,c),g){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}c&&xi(r)}}return et(r),Uh(r,r.type,o===null?null:o.memoizedProps,r.pendingProps,l),null;case 6:if(o&&r.stateNode!=null)o.memoizedProps!==c&&xi(r);else{if(typeof c!="string"&&r.stateNode===null)throw Error(i(166));if(o=be.current,Jr(r)){if(o=r.stateNode,l=r.memoizedProps,c=null,g=Ct,g!==null)switch(g.tag){case 27:case 5:c=g.memoizedProps}o[bt]=r,o=!!(o.nodeValue===l||c!==null&&c.suppressHydrationWarning===!0||F0(o.nodeValue,l)),o||ro(r,!0)}else o=ic(o).createTextNode(c),o[bt]=r,r.stateNode=o}return et(r),null;case 31:if(l=r.memoizedState,o===null||o.memoizedState!==null){if(c=Jr(r),l!==null){if(o===null){if(!c)throw Error(i(318));if(o=r.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(i(557));o[bt]=r}else Wo(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;et(r),o=!1}else l=zd(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=l),o=!0;if(!o)return r.flags&256?(nn(r),r):(nn(r),null);if((r.flags&128)!==0)throw Error(i(558))}return et(r),null;case 13:if(c=r.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(g=Jr(r),c!==null&&c.dehydrated!==null){if(o===null){if(!g)throw Error(i(318));if(g=r.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(i(317));g[bt]=r}else Wo(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;et(r),g=!1}else g=zd(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=g),g=!0;if(!g)return r.flags&256?(nn(r),r):(nn(r),null)}return nn(r),(r.flags&128)!==0?(r.lanes=l,r):(l=c!==null,o=o!==null&&o.memoizedState!==null,l&&(c=r.child,g=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(g=c.alternate.memoizedState.cachePool.pool),y=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(y=c.memoizedState.cachePool.pool),y!==g&&(c.flags|=2048)),l!==o&&l&&(r.child.flags|=8192),$u(r,r.updateQueue),et(r),null);case 4:return qe(),o===null&&np(r.stateNode.containerInfo),et(r),null;case 10:return bi(r.type),et(r),null;case 19:if(Y(st),c=r.memoizedState,c===null)return et(r),null;if(g=(r.flags&128)!==0,y=c.rendering,y===null)if(g)Na(c,!1);else{if(rt!==0||o!==null&&(o.flags&128)!==0)for(o=r.child;o!==null;){if(y=Mu(o),y!==null){for(r.flags|=128,Na(c,!1),o=y.updateQueue,r.updateQueue=o,$u(r,o),r.subtreeFlags=0,o=l,l=r.child;l!==null;)by(l,o),l=l.sibling;return ne(st,st.current&1|2),Pe&&Ei(r,c.treeForkCount),r.child}o=o.sibling}c.tail!==null&&Tt()>Yu&&(r.flags|=128,g=!0,Na(c,!1),r.lanes=4194304)}else{if(!g)if(o=Mu(y),o!==null){if(r.flags|=128,g=!0,o=o.updateQueue,r.updateQueue=o,$u(r,o),Na(c,!0),c.tail===null&&c.tailMode==="hidden"&&!y.alternate&&!Pe)return et(r),null}else 2*Tt()-c.renderingStartTime>Yu&&l!==536870912&&(r.flags|=128,g=!0,Na(c,!1),r.lanes=4194304);c.isBackwards?(y.sibling=r.child,r.child=y):(o=c.last,o!==null?o.sibling=y:r.child=y,c.last=y)}return c.tail!==null?(o=c.tail,c.rendering=o,c.tail=o.sibling,c.renderingStartTime=Tt(),o.sibling=null,l=st.current,ne(st,g?l&1|2:l&1),Pe&&Ei(r,c.treeForkCount),o):(et(r),null);case 22:case 23:return nn(r),ih(),c=r.memoizedState!==null,o!==null?o.memoizedState!==null!==c&&(r.flags|=8192):c&&(r.flags|=8192),c?(l&536870912)!==0&&(r.flags&128)===0&&(et(r),r.subtreeFlags&6&&(r.flags|=8192)):et(r),l=r.updateQueue,l!==null&&$u(r,l.retryQueue),l=null,o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(l=o.memoizedState.cachePool.pool),c=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(c=r.memoizedState.cachePool.pool),c!==l&&(r.flags|=2048),o!==null&&Y(jo),null;case 24:return l=null,o!==null&&(l=o.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),bi(lt),et(r),null;case 25:return null;case 30:return null}throw Error(i(156,r.tag))}function RN(o,r){switch($d(r),r.tag){case 1:return o=r.flags,o&65536?(r.flags=o&-65537|128,r):null;case 3:return bi(lt),qe(),o=r.flags,(o&65536)!==0&&(o&128)===0?(r.flags=o&-65537|128,r):null;case 26:case 27:case 5:return jn(r),null;case 31:if(r.memoizedState!==null){if(nn(r),r.alternate===null)throw Error(i(340));Wo()}return o=r.flags,o&65536?(r.flags=o&-65537|128,r):null;case 13:if(nn(r),o=r.memoizedState,o!==null&&o.dehydrated!==null){if(r.alternate===null)throw Error(i(340));Wo()}return o=r.flags,o&65536?(r.flags=o&-65537|128,r):null;case 19:return Y(st),null;case 4:return qe(),null;case 10:return bi(r.type),null;case 22:case 23:return nn(r),ih(),o!==null&&Y(jo),o=r.flags,o&65536?(r.flags=o&-65537|128,r):null;case 24:return bi(lt),null;case 25:return null;default:return null}}function W_(o,r){switch($d(r),r.tag){case 3:bi(lt),qe();break;case 26:case 27:case 5:jn(r);break;case 4:qe();break;case 31:r.memoizedState!==null&&nn(r);break;case 13:nn(r);break;case 19:Y(st);break;case 10:bi(r.type);break;case 22:case 23:nn(r),ih(),o!==null&&Y(jo);break;case 24:bi(lt)}}function Ia(o,r){try{var l=r.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var g=c.next;l=g;do{if((l.tag&o)===o){c=void 0;var y=l.create,E=l.inst;c=y(),E.destroy=c}l=l.next}while(l!==g)}}catch(C){Fe(r,r.return,C)}}function ho(o,r,l){try{var c=r.updateQueue,g=c!==null?c.lastEffect:null;if(g!==null){var y=g.next;c=y;do{if((c.tag&o)===o){var E=c.inst,C=E.destroy;if(C!==void 0){E.destroy=void 0,g=r;var M=l,V=C;try{V()}catch(J){Fe(g,M,J)}}}c=c.next}while(c!==y)}}catch(J){Fe(r,r.return,J)}}function Q_(o){var r=o.updateQueue;if(r!==null){var l=o.stateNode;try{Vy(r,l)}catch(c){Fe(o,o.return,c)}}}function Z_(o,r,l){l.props=or(o.type,o.memoizedProps),l.state=o.memoizedState;try{l.componentWillUnmount()}catch(c){Fe(o,r,c)}}function Da(o,r){try{var l=o.ref;if(l!==null){switch(o.tag){case 26:case 27:case 5:var c=o.stateNode;break;case 30:c=o.stateNode;break;default:c=o.stateNode}typeof l=="function"?o.refCleanup=l(c):l.current=c}}catch(g){Fe(o,r,g)}}function ni(o,r){var l=o.ref,c=o.refCleanup;if(l!==null)if(typeof c=="function")try{c()}catch(g){Fe(o,r,g)}finally{o.refCleanup=null,o=o.alternate,o!=null&&(o.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(g){Fe(o,r,g)}else l.current=null}function j_(o){var r=o.type,l=o.memoizedProps,c=o.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":l.autoFocus&&c.focus();break e;case"img":l.src?c.src=l.src:l.srcSet&&(c.srcset=l.srcSet)}}catch(g){Fe(o,o.return,g)}}function Ph(o,r,l){try{var c=o.stateNode;WN(c,o.type,l,r),c[Vt]=r}catch(g){Fe(o,o.return,g)}}function e0(o){return o.tag===5||o.tag===3||o.tag===26||o.tag===27&&So(o.type)||o.tag===4}function Lh(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||e0(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.tag===27&&So(o.type)||o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function kh(o,r,l){var c=o.tag;if(c===5||c===6)o=o.stateNode,r?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(o,r):(r=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,r.appendChild(o),l=l._reactRootContainer,l!=null||r.onclick!==null||(r.onclick=yi));else if(c!==4&&(c===27&&So(o.type)&&(l=o.stateNode,r=null),o=o.child,o!==null))for(kh(o,r,l),o=o.sibling;o!==null;)kh(o,r,l),o=o.sibling}function qu(o,r,l){var c=o.tag;if(c===5||c===6)o=o.stateNode,r?l.insertBefore(o,r):l.appendChild(o);else if(c!==4&&(c===27&&So(o.type)&&(l=o.stateNode),o=o.child,o!==null))for(qu(o,r,l),o=o.sibling;o!==null;)qu(o,r,l),o=o.sibling}function t0(o){var r=o.stateNode,l=o.memoizedProps;try{for(var c=o.type,g=r.attributes;g.length;)r.removeAttributeNode(g[0]);xt(r,c,l),r[bt]=o,r[Vt]=l}catch(y){Fe(o,o.return,y)}}var Ri=!1,ft=!1,Bh=!1,n0=typeof WeakSet=="function"?WeakSet:Set,vt=null;function MN(o,r){if(o=o.containerInfo,rp=cc,o=py(o),Id(o)){if("selectionStart"in o)var l={start:o.selectionStart,end:o.selectionEnd};else e:{l=(l=o.ownerDocument)&&l.defaultView||window;var c=l.getSelection&&l.getSelection();if(c&&c.rangeCount!==0){l=c.anchorNode;var g=c.anchorOffset,y=c.focusNode;c=c.focusOffset;try{l.nodeType,y.nodeType}catch{l=null;break e}var E=0,C=-1,M=-1,V=0,J=0,W=o,q=null;t:for(;;){for(var F;W!==l||g!==0&&W.nodeType!==3||(C=E+g),W!==y||c!==0&&W.nodeType!==3||(M=E+c),W.nodeType===3&&(E+=W.nodeValue.length),(F=W.firstChild)!==null;)q=W,W=F;for(;;){if(W===o)break t;if(q===l&&++V===g&&(C=E),q===y&&++J===c&&(M=E),(F=W.nextSibling)!==null)break;W=q,q=W.parentNode}W=F}l=C===-1||M===-1?null:{start:C,end:M}}else l=null}l=l||{start:0,end:0}}else l=null;for(sp={focusedElem:o,selectionRange:l},cc=!1,vt=r;vt!==null;)if(r=vt,o=r.child,(r.subtreeFlags&1028)!==0&&o!==null)o.return=r,vt=o;else for(;vt!==null;){switch(r=vt,y=r.alternate,o=r.flags,r.tag){case 0:if((o&4)!==0&&(o=r.updateQueue,o=o!==null?o.events:null,o!==null))for(l=0;l<o.length;l++)g=o[l],g.ref.impl=g.nextImpl;break;case 11:case 15:break;case 1:if((o&1024)!==0&&y!==null){o=void 0,l=r,g=y.memoizedProps,y=y.memoizedState,c=l.stateNode;try{var ue=or(l.type,g);o=c.getSnapshotBeforeUpdate(ue,y),c.__reactInternalSnapshotBeforeUpdate=o}catch(ye){Fe(l,l.return,ye)}}break;case 3:if((o&1024)!==0){if(o=r.stateNode.containerInfo,l=o.nodeType,l===9)up(o);else if(l===1)switch(o.nodeName){case"HEAD":case"HTML":case"BODY":up(o);break;default:o.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((o&1024)!==0)throw Error(i(163))}if(o=r.sibling,o!==null){o.return=r.return,vt=o;break}vt=r.return}}function i0(o,r,l){var c=l.flags;switch(l.tag){case 0:case 11:case 15:Ni(o,l),c&4&&Ia(5,l);break;case 1:if(Ni(o,l),c&4)if(o=l.stateNode,r===null)try{o.componentDidMount()}catch(E){Fe(l,l.return,E)}else{var g=or(l.type,r.memoizedProps);r=r.memoizedState;try{o.componentDidUpdate(g,r,o.__reactInternalSnapshotBeforeUpdate)}catch(E){Fe(l,l.return,E)}}c&64&&Q_(l),c&512&&Da(l,l.return);break;case 3:if(Ni(o,l),c&64&&(o=l.updateQueue,o!==null)){if(r=null,l.child!==null)switch(l.child.tag){case 27:case 5:r=l.child.stateNode;break;case 1:r=l.child.stateNode}try{Vy(o,r)}catch(E){Fe(l,l.return,E)}}break;case 27:r===null&&c&4&&t0(l);case 26:case 5:Ni(o,l),r===null&&c&4&&j_(l),c&512&&Da(l,l.return);break;case 12:Ni(o,l);break;case 31:Ni(o,l),c&4&&s0(o,l);break;case 13:Ni(o,l),c&4&&a0(o,l),c&64&&(o=l.memoizedState,o!==null&&(o=o.dehydrated,o!==null&&(l=BN.bind(null,l),oI(o,l))));break;case 22:if(c=l.memoizedState!==null||Ri,!c){r=r!==null&&r.memoizedState!==null||ft,g=Ri;var y=ft;Ri=c,(ft=r)&&!y?Ii(o,l,(l.subtreeFlags&8772)!==0):Ni(o,l),Ri=g,ft=y}break;case 30:break;default:Ni(o,l)}}function o0(o){var r=o.alternate;r!==null&&(o.alternate=null,o0(r)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(r=o.stateNode,r!==null&&pd(r)),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}var it=null,qt=!1;function Mi(o,r,l){for(l=l.child;l!==null;)r0(o,r,l),l=l.sibling}function r0(o,r,l){if(Qt&&typeof Qt.onCommitFiberUnmount=="function")try{Qt.onCommitFiberUnmount(na,l)}catch{}switch(l.tag){case 26:ft||ni(l,r),Mi(o,r,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:ft||ni(l,r);var c=it,g=qt;So(l.type)&&(it=l.stateNode,qt=!1),Mi(o,r,l),Va(l.stateNode),it=c,qt=g;break;case 5:ft||ni(l,r);case 6:if(c=it,g=qt,it=null,Mi(o,r,l),it=c,qt=g,it!==null)if(qt)try{(it.nodeType===9?it.body:it.nodeName==="HTML"?it.ownerDocument.body:it).removeChild(l.stateNode)}catch(y){Fe(l,r,y)}else try{it.removeChild(l.stateNode)}catch(y){Fe(l,r,y)}break;case 18:it!==null&&(qt?(o=it,Q0(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,l.stateNode),hs(o)):Q0(it,l.stateNode));break;case 4:c=it,g=qt,it=l.stateNode.containerInfo,qt=!0,Mi(o,r,l),it=c,qt=g;break;case 0:case 11:case 14:case 15:ho(2,l,r),ft||ho(4,l,r),Mi(o,r,l);break;case 1:ft||(ni(l,r),c=l.stateNode,typeof c.componentWillUnmount=="function"&&Z_(l,r,c)),Mi(o,r,l);break;case 21:Mi(o,r,l);break;case 22:ft=(c=ft)||l.memoizedState!==null,Mi(o,r,l),ft=c;break;default:Mi(o,r,l)}}function s0(o,r){if(r.memoizedState===null&&(o=r.alternate,o!==null&&(o=o.memoizedState,o!==null))){o=o.dehydrated;try{hs(o)}catch(l){Fe(r,r.return,l)}}}function a0(o,r){if(r.memoizedState===null&&(o=r.alternate,o!==null&&(o=o.memoizedState,o!==null&&(o=o.dehydrated,o!==null))))try{hs(o)}catch(l){Fe(r,r.return,l)}}function NN(o){switch(o.tag){case 31:case 13:case 19:var r=o.stateNode;return r===null&&(r=o.stateNode=new n0),r;case 22:return o=o.stateNode,r=o._retryCache,r===null&&(r=o._retryCache=new n0),r;default:throw Error(i(435,o.tag))}}function zu(o,r){var l=NN(o);r.forEach(function(c){if(!l.has(c)){l.add(c);var g=HN.bind(null,o,c);c.then(g,g)}})}function zt(o,r){var l=r.deletions;if(l!==null)for(var c=0;c<l.length;c++){var g=l[c],y=o,E=r,C=E;e:for(;C!==null;){switch(C.tag){case 27:if(So(C.type)){it=C.stateNode,qt=!1;break e}break;case 5:it=C.stateNode,qt=!1;break e;case 3:case 4:it=C.stateNode.containerInfo,qt=!0;break e}C=C.return}if(it===null)throw Error(i(160));r0(y,E,g),it=null,qt=!1,y=g.alternate,y!==null&&(y.return=null),g.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)l0(r,o),r=r.sibling}var Hn=null;function l0(o,r){var l=o.alternate,c=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:zt(r,o),Ft(o),c&4&&(ho(3,o,o.return),Ia(3,o),ho(5,o,o.return));break;case 1:zt(r,o),Ft(o),c&512&&(ft||l===null||ni(l,l.return)),c&64&&Ri&&(o=o.updateQueue,o!==null&&(c=o.callbacks,c!==null&&(l=o.shared.hiddenCallbacks,o.shared.hiddenCallbacks=l===null?c:l.concat(c))));break;case 26:var g=Hn;if(zt(r,o),Ft(o),c&512&&(ft||l===null||ni(l,l.return)),c&4){var y=l!==null?l.memoizedState:null;if(c=o.memoizedState,l===null)if(c===null)if(o.stateNode===null){e:{c=o.type,l=o.memoizedProps,g=g.ownerDocument||g;t:switch(c){case"title":y=g.getElementsByTagName("title")[0],(!y||y[ra]||y[bt]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=g.createElement(c),g.head.insertBefore(y,g.querySelector("head > title"))),xt(y,c,l),y[bt]=o,gt(y),c=y;break e;case"link":var E=lS("link","href",g).get(c+(l.href||""));if(E){for(var C=0;C<E.length;C++)if(y=E[C],y.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&y.getAttribute("rel")===(l.rel==null?null:l.rel)&&y.getAttribute("title")===(l.title==null?null:l.title)&&y.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){E.splice(C,1);break t}}y=g.createElement(c),xt(y,c,l),g.head.appendChild(y);break;case"meta":if(E=lS("meta","content",g).get(c+(l.content||""))){for(C=0;C<E.length;C++)if(y=E[C],y.getAttribute("content")===(l.content==null?null:""+l.content)&&y.getAttribute("name")===(l.name==null?null:l.name)&&y.getAttribute("property")===(l.property==null?null:l.property)&&y.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&y.getAttribute("charset")===(l.charSet==null?null:l.charSet)){E.splice(C,1);break t}}y=g.createElement(c),xt(y,c,l),g.head.appendChild(y);break;default:throw Error(i(468,c))}y[bt]=o,gt(y),c=y}o.stateNode=c}else uS(g,o.type,o.stateNode);else o.stateNode=aS(g,c,o.memoizedProps);else y!==c?(y===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):y.count--,c===null?uS(g,o.type,o.stateNode):aS(g,c,o.memoizedProps)):c===null&&o.stateNode!==null&&Ph(o,o.memoizedProps,l.memoizedProps)}break;case 27:zt(r,o),Ft(o),c&512&&(ft||l===null||ni(l,l.return)),l!==null&&c&4&&Ph(o,o.memoizedProps,l.memoizedProps);break;case 5:if(zt(r,o),Ft(o),c&512&&(ft||l===null||ni(l,l.return)),o.flags&32){g=o.stateNode;try{Lr(g,"")}catch(ue){Fe(o,o.return,ue)}}c&4&&o.stateNode!=null&&(g=o.memoizedProps,Ph(o,g,l!==null?l.memoizedProps:g)),c&1024&&(Bh=!0);break;case 6:if(zt(r,o),Ft(o),c&4){if(o.stateNode===null)throw Error(i(162));c=o.memoizedProps,l=o.stateNode;try{l.nodeValue=c}catch(ue){Fe(o,o.return,ue)}}break;case 3:if(sc=null,g=Hn,Hn=oc(r.containerInfo),zt(r,o),Hn=g,Ft(o),c&4&&l!==null&&l.memoizedState.isDehydrated)try{hs(r.containerInfo)}catch(ue){Fe(o,o.return,ue)}Bh&&(Bh=!1,u0(o));break;case 4:c=Hn,Hn=oc(o.stateNode.containerInfo),zt(r,o),Ft(o),Hn=c;break;case 12:zt(r,o),Ft(o);break;case 31:zt(r,o),Ft(o),c&4&&(c=o.updateQueue,c!==null&&(o.updateQueue=null,zu(o,c)));break;case 13:zt(r,o),Ft(o),o.child.flags&8192&&o.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(Ju=Tt()),c&4&&(c=o.updateQueue,c!==null&&(o.updateQueue=null,zu(o,c)));break;case 22:g=o.memoizedState!==null;var M=l!==null&&l.memoizedState!==null,V=Ri,J=ft;if(Ri=V||g,ft=J||M,zt(r,o),ft=J,Ri=V,Ft(o),c&8192)e:for(r=o.stateNode,r._visibility=g?r._visibility&-2:r._visibility|1,g&&(l===null||M||Ri||ft||rr(o)),l=null,r=o;;){if(r.tag===5||r.tag===26){if(l===null){M=l=r;try{if(y=M.stateNode,g)E=y.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{C=M.stateNode;var W=M.memoizedProps.style,q=W!=null&&W.hasOwnProperty("display")?W.display:null;C.style.display=q==null||typeof q=="boolean"?"":(""+q).trim()}}catch(ue){Fe(M,M.return,ue)}}}else if(r.tag===6){if(l===null){M=r;try{M.stateNode.nodeValue=g?"":M.memoizedProps}catch(ue){Fe(M,M.return,ue)}}}else if(r.tag===18){if(l===null){M=r;try{var F=M.stateNode;g?Z0(F,!0):Z0(M.stateNode,!1)}catch(ue){Fe(M,M.return,ue)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===o)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===o)break e;for(;r.sibling===null;){if(r.return===null||r.return===o)break e;l===r&&(l=null),r=r.return}l===r&&(l=null),r.sibling.return=r.return,r=r.sibling}c&4&&(c=o.updateQueue,c!==null&&(l=c.retryQueue,l!==null&&(c.retryQueue=null,zu(o,l))));break;case 19:zt(r,o),Ft(o),c&4&&(c=o.updateQueue,c!==null&&(o.updateQueue=null,zu(o,c)));break;case 30:break;case 21:break;default:zt(r,o),Ft(o)}}function Ft(o){var r=o.flags;if(r&2){try{for(var l,c=o.return;c!==null;){if(e0(c)){l=c;break}c=c.return}if(l==null)throw Error(i(160));switch(l.tag){case 27:var g=l.stateNode,y=Lh(o);qu(o,y,g);break;case 5:var E=l.stateNode;l.flags&32&&(Lr(E,""),l.flags&=-33);var C=Lh(o);qu(o,C,E);break;case 3:case 4:var M=l.stateNode.containerInfo,V=Lh(o);kh(o,V,M);break;default:throw Error(i(161))}}catch(J){Fe(o,o.return,J)}o.flags&=-3}r&4096&&(o.flags&=-4097)}function u0(o){if(o.subtreeFlags&1024)for(o=o.child;o!==null;){var r=o;u0(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),o=o.sibling}}function Ni(o,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)i0(o,r.alternate,r),r=r.sibling}function rr(o){for(o=o.child;o!==null;){var r=o;switch(r.tag){case 0:case 11:case 14:case 15:ho(4,r,r.return),rr(r);break;case 1:ni(r,r.return);var l=r.stateNode;typeof l.componentWillUnmount=="function"&&Z_(r,r.return,l),rr(r);break;case 27:Va(r.stateNode);case 26:case 5:ni(r,r.return),rr(r);break;case 22:r.memoizedState===null&&rr(r);break;case 30:rr(r);break;default:rr(r)}o=o.sibling}}function Ii(o,r,l){for(l=l&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var c=r.alternate,g=o,y=r,E=y.flags;switch(y.tag){case 0:case 11:case 15:Ii(g,y,l),Ia(4,y);break;case 1:if(Ii(g,y,l),c=y,g=c.stateNode,typeof g.componentDidMount=="function")try{g.componentDidMount()}catch(V){Fe(c,c.return,V)}if(c=y,g=c.updateQueue,g!==null){var C=c.stateNode;try{var M=g.shared.hiddenCallbacks;if(M!==null)for(g.shared.hiddenCallbacks=null,g=0;g<M.length;g++)Gy(M[g],C)}catch(V){Fe(c,c.return,V)}}l&&E&64&&Q_(y),Da(y,y.return);break;case 27:t0(y);case 26:case 5:Ii(g,y,l),l&&c===null&&E&4&&j_(y),Da(y,y.return);break;case 12:Ii(g,y,l);break;case 31:Ii(g,y,l),l&&E&4&&s0(g,y);break;case 13:Ii(g,y,l),l&&E&4&&a0(g,y);break;case 22:y.memoizedState===null&&Ii(g,y,l),Da(y,y.return);break;case 30:break;default:Ii(g,y,l)}r=r.sibling}}function Hh(o,r){var l=null;o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(l=o.memoizedState.cachePool.pool),o=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),o!==l&&(o!=null&&o.refCount++,l!=null&&ya(l))}function Gh(o,r){o=null,r.alternate!==null&&(o=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==o&&(r.refCount++,o!=null&&ya(o))}function Gn(o,r,l,c){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)c0(o,r,l,c),r=r.sibling}function c0(o,r,l,c){var g=r.flags;switch(r.tag){case 0:case 11:case 15:Gn(o,r,l,c),g&2048&&Ia(9,r);break;case 1:Gn(o,r,l,c);break;case 3:Gn(o,r,l,c),g&2048&&(o=null,r.alternate!==null&&(o=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==o&&(r.refCount++,o!=null&&ya(o)));break;case 12:if(g&2048){Gn(o,r,l,c),o=r.stateNode;try{var y=r.memoizedProps,E=y.id,C=y.onPostCommit;typeof C=="function"&&C(E,r.alternate===null?"mount":"update",o.passiveEffectDuration,-0)}catch(M){Fe(r,r.return,M)}}else Gn(o,r,l,c);break;case 31:Gn(o,r,l,c);break;case 13:Gn(o,r,l,c);break;case 23:break;case 22:y=r.stateNode,E=r.alternate,r.memoizedState!==null?y._visibility&2?Gn(o,r,l,c):Oa(o,r):y._visibility&2?Gn(o,r,l,c):(y._visibility|=2,ns(o,r,l,c,(r.subtreeFlags&10256)!==0||!1)),g&2048&&Hh(E,r);break;case 24:Gn(o,r,l,c),g&2048&&Gh(r.alternate,r);break;default:Gn(o,r,l,c)}}function ns(o,r,l,c,g){for(g=g&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var y=o,E=r,C=l,M=c,V=E.flags;switch(E.tag){case 0:case 11:case 15:ns(y,E,C,M,g),Ia(8,E);break;case 23:break;case 22:var J=E.stateNode;E.memoizedState!==null?J._visibility&2?ns(y,E,C,M,g):Oa(y,E):(J._visibility|=2,ns(y,E,C,M,g)),g&&V&2048&&Hh(E.alternate,E);break;case 24:ns(y,E,C,M,g),g&&V&2048&&Gh(E.alternate,E);break;default:ns(y,E,C,M,g)}r=r.sibling}}function Oa(o,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var l=o,c=r,g=c.flags;switch(c.tag){case 22:Oa(l,c),g&2048&&Hh(c.alternate,c);break;case 24:Oa(l,c),g&2048&&Gh(c.alternate,c);break;default:Oa(l,c)}r=r.sibling}}var Ua=8192;function is(o,r,l){if(o.subtreeFlags&Ua)for(o=o.child;o!==null;)f0(o,r,l),o=o.sibling}function f0(o,r,l){switch(o.tag){case 26:is(o,r,l),o.flags&Ua&&o.memoizedState!==null&&gI(l,Hn,o.memoizedState,o.memoizedProps);break;case 5:is(o,r,l);break;case 3:case 4:var c=Hn;Hn=oc(o.stateNode.containerInfo),is(o,r,l),Hn=c;break;case 22:o.memoizedState===null&&(c=o.alternate,c!==null&&c.memoizedState!==null?(c=Ua,Ua=16777216,is(o,r,l),Ua=c):is(o,r,l));break;default:is(o,r,l)}}function d0(o){var r=o.alternate;if(r!==null&&(o=r.child,o!==null)){r.child=null;do r=o.sibling,o.sibling=null,o=r;while(o!==null)}}function Pa(o){var r=o.deletions;if((o.flags&16)!==0){if(r!==null)for(var l=0;l<r.length;l++){var c=r[l];vt=c,p0(c,o)}d0(o)}if(o.subtreeFlags&10256)for(o=o.child;o!==null;)h0(o),o=o.sibling}function h0(o){switch(o.tag){case 0:case 11:case 15:Pa(o),o.flags&2048&&ho(9,o,o.return);break;case 3:Pa(o);break;case 12:Pa(o);break;case 22:var r=o.stateNode;o.memoizedState!==null&&r._visibility&2&&(o.return===null||o.return.tag!==13)?(r._visibility&=-3,Fu(o)):Pa(o);break;default:Pa(o)}}function Fu(o){var r=o.deletions;if((o.flags&16)!==0){if(r!==null)for(var l=0;l<r.length;l++){var c=r[l];vt=c,p0(c,o)}d0(o)}for(o=o.child;o!==null;){switch(r=o,r.tag){case 0:case 11:case 15:ho(8,r,r.return),Fu(r);break;case 22:l=r.stateNode,l._visibility&2&&(l._visibility&=-3,Fu(r));break;default:Fu(r)}o=o.sibling}}function p0(o,r){for(;vt!==null;){var l=vt;switch(l.tag){case 0:case 11:case 15:ho(8,l,r);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var c=l.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:ya(l.memoizedState.cache)}if(c=l.child,c!==null)c.return=l,vt=c;else e:for(l=o;vt!==null;){c=vt;var g=c.sibling,y=c.return;if(o0(c),c===l){vt=null;break e}if(g!==null){g.return=y,vt=g;break e}vt=y}}}var IN={getCacheForType:function(o){var r=At(lt),l=r.data.get(o);return l===void 0&&(l=o(),r.data.set(o,l)),l},cacheSignal:function(){return At(lt).controller.signal}},DN=typeof WeakMap=="function"?WeakMap:Map,$e=0,We=null,Ie=null,Oe=0,ze=0,on=null,po=!1,os=!1,Vh=!1,Di=0,rt=0,mo=0,sr=0,$h=0,rn=0,rs=0,La=null,Jt=null,qh=!1,Ju=0,m0=0,Yu=1/0,Ku=null,go=null,ht=0,vo=null,ss=null,Oi=0,zh=0,Fh=null,g0=null,ka=0,Jh=null;function sn(){return($e&2)!==0&&Oe!==0?Oe&-Oe:k.T!==null?Zh():Dv()}function v0(){if(rn===0)if((Oe&536870912)===0||Pe){var o=nu;nu<<=1,(nu&3932160)===0&&(nu=262144),rn=o}else rn=536870912;return o=tn.current,o!==null&&(o.flags|=32),rn}function Yt(o,r,l){(o===We&&(ze===2||ze===9)||o.cancelPendingCommit!==null)&&(as(o,0),yo(o,Oe,rn,!1)),oa(o,l),(($e&2)===0||o!==We)&&(o===We&&(($e&2)===0&&(sr|=l),rt===4&&yo(o,Oe,rn,!1)),ii(o))}function y0(o,r,l){if(($e&6)!==0)throw Error(i(327));var c=!l&&(r&127)===0&&(r&o.expiredLanes)===0||ia(o,r),g=c?PN(o,r):Kh(o,r,!0),y=c;do{if(g===0){os&&!c&&yo(o,r,0,!1);break}else{if(l=o.current.alternate,y&&!ON(l)){g=Kh(o,r,!1),y=!1;continue}if(g===2){if(y=r,o.errorRecoveryDisabledLanes&y)var E=0;else E=o.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){r=E;e:{var C=o;g=La;var M=C.current.memoizedState.isDehydrated;if(M&&(as(C,E).flags|=256),E=Kh(C,E,!1),E!==2){if(Vh&&!M){C.errorRecoveryDisabledLanes|=y,sr|=y,g=4;break e}y=Jt,Jt=g,y!==null&&(Jt===null?Jt=y:Jt.push.apply(Jt,y))}g=E}if(y=!1,g!==2)continue}}if(g===1){as(o,0),yo(o,r,0,!0);break}e:{switch(c=o,y=g,y){case 0:case 1:throw Error(i(345));case 4:if((r&4194048)!==r)break;case 6:yo(c,r,rn,!po);break e;case 2:Jt=null;break;case 3:case 5:break;default:throw Error(i(329))}if((r&62914560)===r&&(g=Ju+300-Tt(),10<g)){if(yo(c,r,rn,!po),ou(c,0,!0)!==0)break e;Oi=r,c.timeoutHandle=X0(_0.bind(null,c,l,Jt,Ku,qh,r,rn,sr,rs,po,y,"Throttled",-0,0),g);break e}_0(c,l,Jt,Ku,qh,r,rn,sr,rs,po,y,null,-0,0)}}break}while(!0);ii(o)}function _0(o,r,l,c,g,y,E,C,M,V,J,W,q,F){if(o.timeoutHandle=-1,W=r.subtreeFlags,W&8192||(W&16785408)===16785408){W={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:yi},f0(r,y,W);var ue=(y&62914560)===y?Ju-Tt():(y&4194048)===y?m0-Tt():0;if(ue=vI(W,ue),ue!==null){Oi=y,o.cancelPendingCommit=ue(x0.bind(null,o,r,y,l,c,g,E,C,M,J,W,null,q,F)),yo(o,y,E,!V);return}}x0(o,r,y,l,c,g,E,C,M)}function ON(o){for(var r=o;;){var l=r.tag;if((l===0||l===11||l===15)&&r.flags&16384&&(l=r.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var c=0;c<l.length;c++){var g=l[c],y=g.getSnapshot;g=g.value;try{if(!jt(y(),g))return!1}catch{return!1}}if(l=r.child,r.subtreeFlags&16384&&l!==null)l.return=r,r=l;else{if(r===o)break;for(;r.sibling===null;){if(r.return===null||r.return===o)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function yo(o,r,l,c){r&=~$h,r&=~sr,o.suspendedLanes|=r,o.pingedLanes&=~r,c&&(o.warmLanes|=r),c=o.expirationTimes;for(var g=r;0<g;){var y=31-Zt(g),E=1<<y;c[y]=-1,g&=~E}l!==0&&Mv(o,l,r)}function Xu(){return($e&6)===0?(Ba(0),!1):!0}function Yh(){if(Ie!==null){if(ze===0)var o=Ie.return;else o=Ie,Ti=Qo=null,uh(o),Qr=null,Sa=0,o=Ie;for(;o!==null;)W_(o.alternate,o),o=o.return;Ie=null}}function as(o,r){var l=o.timeoutHandle;l!==-1&&(o.timeoutHandle=-1,jN(l)),l=o.cancelPendingCommit,l!==null&&(o.cancelPendingCommit=null,l()),Oi=0,Yh(),We=o,Ie=l=Si(o.current,null),Oe=r,ze=0,on=null,po=!1,os=ia(o,r),Vh=!1,rs=rn=$h=sr=mo=rt=0,Jt=La=null,qh=!1,(r&8)!==0&&(r|=r&32);var c=o.entangledLanes;if(c!==0)for(o=o.entanglements,c&=r;0<c;){var g=31-Zt(c),y=1<<g;r|=o[g],c&=~y}return Di=r,gu(),l}function S0(o,r){we=null,k.H=Ra,r===Wr||r===Cu?(r=Ly(),ze=3):r===Qd?(r=Ly(),ze=4):ze=r===Ah?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,on=r,Ie===null&&(rt=1,Bu(o,vn(r,o.current)))}function E0(){var o=tn.current;return o===null?!0:(Oe&4194048)===Oe?En===null:(Oe&62914560)===Oe||(Oe&536870912)!==0?o===En:!1}function T0(){var o=k.H;return k.H=Ra,o===null?Ra:o}function b0(){var o=k.A;return k.A=IN,o}function Wu(){rt=4,po||(Oe&4194048)!==Oe&&tn.current!==null||(os=!0),(mo&134217727)===0&&(sr&134217727)===0||We===null||yo(We,Oe,rn,!1)}function Kh(o,r,l){var c=$e;$e|=2;var g=T0(),y=b0();(We!==o||Oe!==r)&&(Ku=null,as(o,r)),r=!1;var E=rt;e:do try{if(ze!==0&&Ie!==null){var C=Ie,M=on;switch(ze){case 8:Yh(),E=6;break e;case 3:case 2:case 9:case 6:tn.current===null&&(r=!0);var V=ze;if(ze=0,on=null,ls(o,C,M,V),l&&os){E=0;break e}break;default:V=ze,ze=0,on=null,ls(o,C,M,V)}}UN(),E=rt;break}catch(J){S0(o,J)}while(!0);return r&&o.shellSuspendCounter++,Ti=Qo=null,$e=c,k.H=g,k.A=y,Ie===null&&(We=null,Oe=0,gu()),E}function UN(){for(;Ie!==null;)C0(Ie)}function PN(o,r){var l=$e;$e|=2;var c=T0(),g=b0();We!==o||Oe!==r?(Ku=null,Yu=Tt()+500,as(o,r)):os=ia(o,r);e:do try{if(ze!==0&&Ie!==null){r=Ie;var y=on;t:switch(ze){case 1:ze=0,on=null,ls(o,r,y,1);break;case 2:case 9:if(Uy(y)){ze=0,on=null,A0(r);break}r=function(){ze!==2&&ze!==9||We!==o||(ze=7),ii(o)},y.then(r,r);break e;case 3:ze=7;break e;case 4:ze=5;break e;case 7:Uy(y)?(ze=0,on=null,A0(r)):(ze=0,on=null,ls(o,r,y,7));break;case 5:var E=null;switch(Ie.tag){case 26:E=Ie.memoizedState;case 5:case 27:var C=Ie;if(E?cS(E):C.stateNode.complete){ze=0,on=null;var M=C.sibling;if(M!==null)Ie=M;else{var V=C.return;V!==null?(Ie=V,Qu(V)):Ie=null}break t}}ze=0,on=null,ls(o,r,y,5);break;case 6:ze=0,on=null,ls(o,r,y,6);break;case 8:Yh(),rt=6;break e;default:throw Error(i(462))}}LN();break}catch(J){S0(o,J)}while(!0);return Ti=Qo=null,k.H=c,k.A=g,$e=l,Ie!==null?0:(We=null,Oe=0,gu(),rt)}function LN(){for(;Ie!==null&&!Zl();)C0(Ie)}function C0(o){var r=K_(o.alternate,o,Di);o.memoizedProps=o.pendingProps,r===null?Qu(o):Ie=r}function A0(o){var r=o,l=r.alternate;switch(r.tag){case 15:case 0:r=$_(l,r,r.pendingProps,r.type,void 0,Oe);break;case 11:r=$_(l,r,r.pendingProps,r.type.render,r.ref,Oe);break;case 5:uh(r);default:W_(l,r),r=Ie=by(r,Di),r=K_(l,r,Di)}o.memoizedProps=o.pendingProps,r===null?Qu(o):Ie=r}function ls(o,r,l,c){Ti=Qo=null,uh(r),Qr=null,Sa=0;var g=r.return;try{if(CN(o,g,r,l,Oe)){rt=1,Bu(o,vn(l,o.current)),Ie=null;return}}catch(y){if(g!==null)throw Ie=g,y;rt=1,Bu(o,vn(l,o.current)),Ie=null;return}r.flags&32768?(Pe||c===1?o=!0:os||(Oe&536870912)!==0?o=!1:(po=o=!0,(c===2||c===9||c===3||c===6)&&(c=tn.current,c!==null&&c.tag===13&&(c.flags|=16384))),w0(r,o)):Qu(r)}function Qu(o){var r=o;do{if((r.flags&32768)!==0){w0(r,po);return}o=r.return;var l=xN(r.alternate,r,Di);if(l!==null){Ie=l;return}if(r=r.sibling,r!==null){Ie=r;return}Ie=r=o}while(r!==null);rt===0&&(rt=5)}function w0(o,r){do{var l=RN(o.alternate,o);if(l!==null){l.flags&=32767,Ie=l;return}if(l=o.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!r&&(o=o.sibling,o!==null)){Ie=o;return}Ie=o=l}while(o!==null);rt=6,Ie=null}function x0(o,r,l,c,g,y,E,C,M){o.cancelPendingCommit=null;do Zu();while(ht!==0);if(($e&6)!==0)throw Error(i(327));if(r!==null){if(r===o.current)throw Error(i(177));if(y=r.lanes|r.childLanes,y|=Ld,mM(o,l,y,E,C,M),o===We&&(Ie=We=null,Oe=0),ss=r,vo=o,Oi=l,zh=y,Fh=g,g0=c,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(o.callbackNode=null,o.callbackPriority=0,GN($o,function(){return D0(),null})):(o.callbackNode=null,o.callbackPriority=0),c=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||c){c=k.T,k.T=null,g=Z.p,Z.p=2,E=$e,$e|=4;try{MN(o,r,l)}finally{$e=E,Z.p=g,k.T=c}}ht=1,R0(),M0(),N0()}}function R0(){if(ht===1){ht=0;var o=vo,r=ss,l=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||l){l=k.T,k.T=null;var c=Z.p;Z.p=2;var g=$e;$e|=4;try{l0(r,o);var y=sp,E=py(o.containerInfo),C=y.focusedElem,M=y.selectionRange;if(E!==C&&C&&C.ownerDocument&&hy(C.ownerDocument.documentElement,C)){if(M!==null&&Id(C)){var V=M.start,J=M.end;if(J===void 0&&(J=V),"selectionStart"in C)C.selectionStart=V,C.selectionEnd=Math.min(J,C.value.length);else{var W=C.ownerDocument||document,q=W&&W.defaultView||window;if(q.getSelection){var F=q.getSelection(),ue=C.textContent.length,ye=Math.min(M.start,ue),Ke=M.end===void 0?ye:Math.min(M.end,ue);!F.extend&&ye>Ke&&(E=Ke,Ke=ye,ye=E);var L=dy(C,ye),U=dy(C,Ke);if(L&&U&&(F.rangeCount!==1||F.anchorNode!==L.node||F.anchorOffset!==L.offset||F.focusNode!==U.node||F.focusOffset!==U.offset)){var H=W.createRange();H.setStart(L.node,L.offset),F.removeAllRanges(),ye>Ke?(F.addRange(H),F.extend(U.node,U.offset)):(H.setEnd(U.node,U.offset),F.addRange(H))}}}}for(W=[],F=C;F=F.parentNode;)F.nodeType===1&&W.push({element:F,left:F.scrollLeft,top:F.scrollTop});for(typeof C.focus=="function"&&C.focus(),C=0;C<W.length;C++){var K=W[C];K.element.scrollLeft=K.left,K.element.scrollTop=K.top}}cc=!!rp,sp=rp=null}finally{$e=g,Z.p=c,k.T=l}}o.current=r,ht=2}}function M0(){if(ht===2){ht=0;var o=vo,r=ss,l=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||l){l=k.T,k.T=null;var c=Z.p;Z.p=2;var g=$e;$e|=4;try{i0(o,r.alternate,r)}finally{$e=g,Z.p=c,k.T=l}}ht=3}}function N0(){if(ht===4||ht===3){ht=0,jl();var o=vo,r=ss,l=Oi,c=g0;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?ht=5:(ht=0,ss=vo=null,I0(o,o.pendingLanes));var g=o.pendingLanes;if(g===0&&(go=null),dd(l),r=r.stateNode,Qt&&typeof Qt.onCommitFiberRoot=="function")try{Qt.onCommitFiberRoot(na,r,void 0,(r.current.flags&128)===128)}catch{}if(c!==null){r=k.T,g=Z.p,Z.p=2,k.T=null;try{for(var y=o.onRecoverableError,E=0;E<c.length;E++){var C=c[E];y(C.value,{componentStack:C.stack})}}finally{k.T=r,Z.p=g}}(Oi&3)!==0&&Zu(),ii(o),g=o.pendingLanes,(l&261930)!==0&&(g&42)!==0?o===Jh?ka++:(ka=0,Jh=o):ka=0,Ba(0)}}function I0(o,r){(o.pooledCacheLanes&=r)===0&&(r=o.pooledCache,r!=null&&(o.pooledCache=null,ya(r)))}function Zu(){return R0(),M0(),N0(),D0()}function D0(){if(ht!==5)return!1;var o=vo,r=zh;zh=0;var l=dd(Oi),c=k.T,g=Z.p;try{Z.p=32>l?32:l,k.T=null,l=Fh,Fh=null;var y=vo,E=Oi;if(ht=0,ss=vo=null,Oi=0,($e&6)!==0)throw Error(i(331));var C=$e;if($e|=4,h0(y.current),c0(y,y.current,E,l),$e=C,Ba(0,!1),Qt&&typeof Qt.onPostCommitFiberRoot=="function")try{Qt.onPostCommitFiberRoot(na,y)}catch{}return!0}finally{Z.p=g,k.T=c,I0(o,r)}}function O0(o,r,l){r=vn(l,r),r=Ch(o.stateNode,r,2),o=uo(o,r,2),o!==null&&(oa(o,2),ii(o))}function Fe(o,r,l){if(o.tag===3)O0(o,o,l);else for(;r!==null;){if(r.tag===3){O0(r,o,l);break}else if(r.tag===1){var c=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(go===null||!go.has(c))){o=vn(l,o),l=U_(2),c=uo(r,l,2),c!==null&&(P_(l,c,r,o),oa(c,2),ii(c));break}}r=r.return}}function Xh(o,r,l){var c=o.pingCache;if(c===null){c=o.pingCache=new DN;var g=new Set;c.set(r,g)}else g=c.get(r),g===void 0&&(g=new Set,c.set(r,g));g.has(l)||(Vh=!0,g.add(l),o=kN.bind(null,o,r,l),r.then(o,o))}function kN(o,r,l){var c=o.pingCache;c!==null&&c.delete(r),o.pingedLanes|=o.suspendedLanes&l,o.warmLanes&=~l,We===o&&(Oe&l)===l&&(rt===4||rt===3&&(Oe&62914560)===Oe&&300>Tt()-Ju?($e&2)===0&&as(o,0):$h|=l,rs===Oe&&(rs=0)),ii(o)}function U0(o,r){r===0&&(r=Rv()),o=Ko(o,r),o!==null&&(oa(o,r),ii(o))}function BN(o){var r=o.memoizedState,l=0;r!==null&&(l=r.retryLane),U0(o,l)}function HN(o,r){var l=0;switch(o.tag){case 31:case 13:var c=o.stateNode,g=o.memoizedState;g!==null&&(l=g.retryLane);break;case 19:c=o.stateNode;break;case 22:c=o.stateNode._retryCache;break;default:throw Error(i(314))}c!==null&&c.delete(r),U0(o,l)}function GN(o,r){return kn(o,r)}var ju=null,us=null,Wh=!1,ec=!1,Qh=!1,_o=0;function ii(o){o!==us&&o.next===null&&(us===null?ju=us=o:us=us.next=o),ec=!0,Wh||(Wh=!0,$N())}function Ba(o,r){if(!Qh&&ec){Qh=!0;do for(var l=!1,c=ju;c!==null;){if(o!==0){var g=c.pendingLanes;if(g===0)var y=0;else{var E=c.suspendedLanes,C=c.pingedLanes;y=(1<<31-Zt(42|o)+1)-1,y&=g&~(E&~C),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(l=!0,B0(c,y))}else y=Oe,y=ou(c,c===We?y:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(y&3)===0||ia(c,y)||(l=!0,B0(c,y));c=c.next}while(l);Qh=!1}}function VN(){P0()}function P0(){ec=Wh=!1;var o=0;_o!==0&&ZN()&&(o=_o);for(var r=Tt(),l=null,c=ju;c!==null;){var g=c.next,y=L0(c,r);y===0?(c.next=null,l===null?ju=g:l.next=g,g===null&&(us=l)):(l=c,(o!==0||(y&3)!==0)&&(ec=!0)),c=g}ht!==0&&ht!==5||Ba(o),_o!==0&&(_o=0)}function L0(o,r){for(var l=o.suspendedLanes,c=o.pingedLanes,g=o.expirationTimes,y=o.pendingLanes&-62914561;0<y;){var E=31-Zt(y),C=1<<E,M=g[E];M===-1?((C&l)===0||(C&c)!==0)&&(g[E]=pM(C,r)):M<=r&&(o.expiredLanes|=C),y&=~C}if(r=We,l=Oe,l=ou(o,o===r?l:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),c=o.callbackNode,l===0||o===r&&(ze===2||ze===9)||o.cancelPendingCommit!==null)return c!==null&&c!==null&&ji(c),o.callbackNode=null,o.callbackPriority=0;if((l&3)===0||ia(o,l)){if(r=l&-l,r===o.callbackPriority)return r;switch(c!==null&&ji(c),dd(l)){case 2:case 8:l=ta;break;case 32:l=$o;break;case 268435456:l=xv;break;default:l=$o}return c=k0.bind(null,o),l=kn(l,c),o.callbackPriority=r,o.callbackNode=l,r}return c!==null&&c!==null&&ji(c),o.callbackPriority=2,o.callbackNode=null,2}function k0(o,r){if(ht!==0&&ht!==5)return o.callbackNode=null,o.callbackPriority=0,null;var l=o.callbackNode;if(Zu()&&o.callbackNode!==l)return null;var c=Oe;return c=ou(o,o===We?c:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),c===0?null:(y0(o,c,r),L0(o,Tt()),o.callbackNode!=null&&o.callbackNode===l?k0.bind(null,o):null)}function B0(o,r){if(Zu())return null;y0(o,r,!0)}function $N(){eI(function(){($e&6)!==0?kn(ea,VN):P0()})}function Zh(){if(_o===0){var o=Kr;o===0&&(o=tu,tu<<=1,(tu&261888)===0&&(tu=256)),_o=o}return _o}function H0(o){return o==null||typeof o=="symbol"||typeof o=="boolean"?null:typeof o=="function"?o:lu(""+o)}function G0(o,r){var l=r.ownerDocument.createElement("input");return l.name=r.name,l.value=r.value,o.id&&l.setAttribute("form",o.id),r.parentNode.insertBefore(l,r),o=new FormData(o),l.parentNode.removeChild(l),o}function qN(o,r,l,c,g){if(r==="submit"&&l&&l.stateNode===g){var y=H0((g[Vt]||null).action),E=c.submitter;E&&(r=(r=E[Vt]||null)?H0(r.formAction):E.getAttribute("formAction"),r!==null&&(y=r,E=null));var C=new du("action","action",null,c,g);o.push({event:C,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(_o!==0){var M=E?G0(g,E):new FormData(g);yh(l,{pending:!0,data:M,method:g.method,action:y},null,M)}}else typeof y=="function"&&(C.preventDefault(),M=E?G0(g,E):new FormData(g),yh(l,{pending:!0,data:M,method:g.method,action:y},y,M))},currentTarget:g}]})}}for(var jh=0;jh<Pd.length;jh++){var ep=Pd[jh],zN=ep.toLowerCase(),FN=ep[0].toUpperCase()+ep.slice(1);Bn(zN,"on"+FN)}Bn(vy,"onAnimationEnd"),Bn(yy,"onAnimationIteration"),Bn(_y,"onAnimationStart"),Bn("dblclick","onDoubleClick"),Bn("focusin","onFocus"),Bn("focusout","onBlur"),Bn(aN,"onTransitionRun"),Bn(lN,"onTransitionStart"),Bn(uN,"onTransitionCancel"),Bn(Sy,"onTransitionEnd"),Ur("onMouseEnter",["mouseout","mouseover"]),Ur("onMouseLeave",["mouseout","mouseover"]),Ur("onPointerEnter",["pointerout","pointerover"]),Ur("onPointerLeave",["pointerout","pointerover"]),zo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),zo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),zo("onBeforeInput",["compositionend","keypress","textInput","paste"]),zo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),zo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),zo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ha="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),JN=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ha));function V0(o,r){r=(r&4)!==0;for(var l=0;l<o.length;l++){var c=o[l],g=c.event;c=c.listeners;e:{var y=void 0;if(r)for(var E=c.length-1;0<=E;E--){var C=c[E],M=C.instance,V=C.currentTarget;if(C=C.listener,M!==y&&g.isPropagationStopped())break e;y=C,g.currentTarget=V;try{y(g)}catch(J){mu(J)}g.currentTarget=null,y=M}else for(E=0;E<c.length;E++){if(C=c[E],M=C.instance,V=C.currentTarget,C=C.listener,M!==y&&g.isPropagationStopped())break e;y=C,g.currentTarget=V;try{y(g)}catch(J){mu(J)}g.currentTarget=null,y=M}}}}function De(o,r){var l=r[hd];l===void 0&&(l=r[hd]=new Set);var c=o+"__bubble";l.has(c)||($0(r,o,2,!1),l.add(c))}function tp(o,r,l){var c=0;r&&(c|=4),$0(l,o,c,r)}var tc="_reactListening"+Math.random().toString(36).slice(2);function np(o){if(!o[tc]){o[tc]=!0,Pv.forEach(function(l){l!=="selectionchange"&&(JN.has(l)||tp(l,!1,o),tp(l,!0,o))});var r=o.nodeType===9?o:o.ownerDocument;r===null||r[tc]||(r[tc]=!0,tp("selectionchange",!1,r))}}function $0(o,r,l,c){switch(vS(r)){case 2:var g=SI;break;case 8:g=EI;break;default:g=vp}l=g.bind(null,r,l,o),g=void 0,!Td||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(g=!0),c?g!==void 0?o.addEventListener(r,l,{capture:!0,passive:g}):o.addEventListener(r,l,!0):g!==void 0?o.addEventListener(r,l,{passive:g}):o.addEventListener(r,l,!1)}function ip(o,r,l,c,g){var y=c;if((r&1)===0&&(r&2)===0&&c!==null)e:for(;;){if(c===null)return;var E=c.tag;if(E===3||E===4){var C=c.stateNode.containerInfo;if(C===g)break;if(E===4)for(E=c.return;E!==null;){var M=E.tag;if((M===3||M===4)&&E.stateNode.containerInfo===g)return;E=E.return}for(;C!==null;){if(E=Ir(C),E===null)return;if(M=E.tag,M===5||M===6||M===26||M===27){c=y=E;continue e}C=C.parentNode}}c=c.return}Yv(function(){var V=y,J=Sd(l),W=[];e:{var q=Ey.get(o);if(q!==void 0){var F=du,ue=o;switch(o){case"keypress":if(cu(l)===0)break e;case"keydown":case"keyup":F=HM;break;case"focusin":ue="focus",F=wd;break;case"focusout":ue="blur",F=wd;break;case"beforeblur":case"afterblur":F=wd;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":F=Wv;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":F=xM;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":F=$M;break;case vy:case yy:case _y:F=NM;break;case Sy:F=zM;break;case"scroll":case"scrollend":F=AM;break;case"wheel":F=JM;break;case"copy":case"cut":case"paste":F=DM;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":F=Zv;break;case"toggle":case"beforetoggle":F=KM}var ye=(r&4)!==0,Ke=!ye&&(o==="scroll"||o==="scrollend"),L=ye?q!==null?q+"Capture":null:q;ye=[];for(var U=V,H;U!==null;){var K=U;if(H=K.stateNode,K=K.tag,K!==5&&K!==26&&K!==27||H===null||L===null||(K=aa(U,L),K!=null&&ye.push(Ga(U,K,H))),Ke)break;U=U.return}0<ye.length&&(q=new F(q,ue,null,l,J),W.push({event:q,listeners:ye}))}}if((r&7)===0){e:{if(q=o==="mouseover"||o==="pointerover",F=o==="mouseout"||o==="pointerout",q&&l!==_d&&(ue=l.relatedTarget||l.fromElement)&&(Ir(ue)||ue[Nr]))break e;if((F||q)&&(q=J.window===J?J:(q=J.ownerDocument)?q.defaultView||q.parentWindow:window,F?(ue=l.relatedTarget||l.toElement,F=V,ue=ue?Ir(ue):null,ue!==null&&(Ke=a(ue),ye=ue.tag,ue!==Ke||ye!==5&&ye!==27&&ye!==6)&&(ue=null)):(F=null,ue=V),F!==ue)){if(ye=Wv,K="onMouseLeave",L="onMouseEnter",U="mouse",(o==="pointerout"||o==="pointerover")&&(ye=Zv,K="onPointerLeave",L="onPointerEnter",U="pointer"),Ke=F==null?q:sa(F),H=ue==null?q:sa(ue),q=new ye(K,U+"leave",F,l,J),q.target=Ke,q.relatedTarget=H,K=null,Ir(J)===V&&(ye=new ye(L,U+"enter",ue,l,J),ye.target=H,ye.relatedTarget=Ke,K=ye),Ke=K,F&&ue)t:{for(ye=YN,L=F,U=ue,H=0,K=L;K;K=ye(K))H++;K=0;for(var ge=U;ge;ge=ye(ge))K++;for(;0<H-K;)L=ye(L),H--;for(;0<K-H;)U=ye(U),K--;for(;H--;){if(L===U||U!==null&&L===U.alternate){ye=L;break t}L=ye(L),U=ye(U)}ye=null}else ye=null;F!==null&&q0(W,q,F,ye,!1),ue!==null&&Ke!==null&&q0(W,Ke,ue,ye,!0)}}e:{if(q=V?sa(V):window,F=q.nodeName&&q.nodeName.toLowerCase(),F==="select"||F==="input"&&q.type==="file")var Be=sy;else if(oy(q))if(ay)Be=oN;else{Be=nN;var de=tN}else F=q.nodeName,!F||F.toLowerCase()!=="input"||q.type!=="checkbox"&&q.type!=="radio"?V&&yd(V.elementType)&&(Be=sy):Be=iN;if(Be&&(Be=Be(o,V))){ry(W,Be,l,J);break e}de&&de(o,q,V),o==="focusout"&&V&&q.type==="number"&&V.memoizedProps.value!=null&&vd(q,"number",q.value)}switch(de=V?sa(V):window,o){case"focusin":(oy(de)||de.contentEditable==="true")&&(Gr=de,Dd=V,ma=null);break;case"focusout":ma=Dd=Gr=null;break;case"mousedown":Od=!0;break;case"contextmenu":case"mouseup":case"dragend":Od=!1,my(W,l,J);break;case"selectionchange":if(sN)break;case"keydown":case"keyup":my(W,l,J)}var xe;if(Rd)e:{switch(o){case"compositionstart":var Ue="onCompositionStart";break e;case"compositionend":Ue="onCompositionEnd";break e;case"compositionupdate":Ue="onCompositionUpdate";break e}Ue=void 0}else Hr?ny(o,l)&&(Ue="onCompositionEnd"):o==="keydown"&&l.keyCode===229&&(Ue="onCompositionStart");Ue&&(jv&&l.locale!=="ko"&&(Hr||Ue!=="onCompositionStart"?Ue==="onCompositionEnd"&&Hr&&(xe=Kv()):(no=J,bd="value"in no?no.value:no.textContent,Hr=!0)),de=nc(V,Ue),0<de.length&&(Ue=new Qv(Ue,o,null,l,J),W.push({event:Ue,listeners:de}),xe?Ue.data=xe:(xe=iy(l),xe!==null&&(Ue.data=xe)))),(xe=WM?QM(o,l):ZM(o,l))&&(Ue=nc(V,"onBeforeInput"),0<Ue.length&&(de=new Qv("onBeforeInput","beforeinput",null,l,J),W.push({event:de,listeners:Ue}),de.data=xe)),qN(W,o,V,l,J)}V0(W,r)})}function Ga(o,r,l){return{instance:o,listener:r,currentTarget:l}}function nc(o,r){for(var l=r+"Capture",c=[];o!==null;){var g=o,y=g.stateNode;if(g=g.tag,g!==5&&g!==26&&g!==27||y===null||(g=aa(o,l),g!=null&&c.unshift(Ga(o,g,y)),g=aa(o,r),g!=null&&c.push(Ga(o,g,y))),o.tag===3)return c;o=o.return}return[]}function YN(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5&&o.tag!==27);return o||null}function q0(o,r,l,c,g){for(var y=r._reactName,E=[];l!==null&&l!==c;){var C=l,M=C.alternate,V=C.stateNode;if(C=C.tag,M!==null&&M===c)break;C!==5&&C!==26&&C!==27||V===null||(M=V,g?(V=aa(l,y),V!=null&&E.unshift(Ga(l,V,M))):g||(V=aa(l,y),V!=null&&E.push(Ga(l,V,M)))),l=l.return}E.length!==0&&o.push({event:r,listeners:E})}var KN=/\r\n?/g,XN=/\u0000|\uFFFD/g;function z0(o){return(typeof o=="string"?o:""+o).replace(KN,`
`).replace(XN,"")}function F0(o,r){return r=z0(r),z0(o)===r}function Ye(o,r,l,c,g,y){switch(l){case"children":typeof c=="string"?r==="body"||r==="textarea"&&c===""||Lr(o,c):(typeof c=="number"||typeof c=="bigint")&&r!=="body"&&Lr(o,""+c);break;case"className":su(o,"class",c);break;case"tabIndex":su(o,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":su(o,l,c);break;case"style":Fv(o,c,y);break;case"data":if(r!=="object"){su(o,"data",c);break}case"src":case"href":if(c===""&&(r!=="a"||l!=="href")){o.removeAttribute(l);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){o.removeAttribute(l);break}c=lu(""+c),o.setAttribute(l,c);break;case"action":case"formAction":if(typeof c=="function"){o.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(l==="formAction"?(r!=="input"&&Ye(o,r,"name",g.name,g,null),Ye(o,r,"formEncType",g.formEncType,g,null),Ye(o,r,"formMethod",g.formMethod,g,null),Ye(o,r,"formTarget",g.formTarget,g,null)):(Ye(o,r,"encType",g.encType,g,null),Ye(o,r,"method",g.method,g,null),Ye(o,r,"target",g.target,g,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){o.removeAttribute(l);break}c=lu(""+c),o.setAttribute(l,c);break;case"onClick":c!=null&&(o.onclick=yi);break;case"onScroll":c!=null&&De("scroll",o);break;case"onScrollEnd":c!=null&&De("scrollend",o);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(i(61));if(l=c.__html,l!=null){if(g.children!=null)throw Error(i(60));o.innerHTML=l}}break;case"multiple":o.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":o.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){o.removeAttribute("xlink:href");break}l=lu(""+c),o.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?o.setAttribute(l,""+c):o.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?o.setAttribute(l,""):o.removeAttribute(l);break;case"capture":case"download":c===!0?o.setAttribute(l,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?o.setAttribute(l,c):o.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?o.setAttribute(l,c):o.removeAttribute(l);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?o.removeAttribute(l):o.setAttribute(l,c);break;case"popover":De("beforetoggle",o),De("toggle",o),ru(o,"popover",c);break;case"xlinkActuate":vi(o,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":vi(o,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":vi(o,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":vi(o,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":vi(o,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":vi(o,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":vi(o,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":vi(o,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":vi(o,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":ru(o,"is",c);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=bM.get(l)||l,ru(o,l,c))}}function op(o,r,l,c,g,y){switch(l){case"style":Fv(o,c,y);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(i(61));if(l=c.__html,l!=null){if(g.children!=null)throw Error(i(60));o.innerHTML=l}}break;case"children":typeof c=="string"?Lr(o,c):(typeof c=="number"||typeof c=="bigint")&&Lr(o,""+c);break;case"onScroll":c!=null&&De("scroll",o);break;case"onScrollEnd":c!=null&&De("scrollend",o);break;case"onClick":c!=null&&(o.onclick=yi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Lv.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(g=l.endsWith("Capture"),r=l.slice(2,g?l.length-7:void 0),y=o[Vt]||null,y=y!=null?y[l]:null,typeof y=="function"&&o.removeEventListener(r,y,g),typeof c=="function")){typeof y!="function"&&y!==null&&(l in o?o[l]=null:o.hasAttribute(l)&&o.removeAttribute(l)),o.addEventListener(r,c,g);break e}l in o?o[l]=c:c===!0?o.setAttribute(l,""):ru(o,l,c)}}}function xt(o,r,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":De("error",o),De("load",o);var c=!1,g=!1,y;for(y in l)if(l.hasOwnProperty(y)){var E=l[y];if(E!=null)switch(y){case"src":c=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,r));default:Ye(o,r,y,E,l,null)}}g&&Ye(o,r,"srcSet",l.srcSet,l,null),c&&Ye(o,r,"src",l.src,l,null);return;case"input":De("invalid",o);var C=y=E=g=null,M=null,V=null;for(c in l)if(l.hasOwnProperty(c)){var J=l[c];if(J!=null)switch(c){case"name":g=J;break;case"type":E=J;break;case"checked":M=J;break;case"defaultChecked":V=J;break;case"value":y=J;break;case"defaultValue":C=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(i(137,r));break;default:Ye(o,r,c,J,l,null)}}Vv(o,y,C,M,V,E,g,!1);return;case"select":De("invalid",o),c=E=y=null;for(g in l)if(l.hasOwnProperty(g)&&(C=l[g],C!=null))switch(g){case"value":y=C;break;case"defaultValue":E=C;break;case"multiple":c=C;default:Ye(o,r,g,C,l,null)}r=y,l=E,o.multiple=!!c,r!=null?Pr(o,!!c,r,!1):l!=null&&Pr(o,!!c,l,!0);return;case"textarea":De("invalid",o),y=g=c=null;for(E in l)if(l.hasOwnProperty(E)&&(C=l[E],C!=null))switch(E){case"value":c=C;break;case"defaultValue":g=C;break;case"children":y=C;break;case"dangerouslySetInnerHTML":if(C!=null)throw Error(i(91));break;default:Ye(o,r,E,C,l,null)}qv(o,c,g,y);return;case"option":for(M in l)if(l.hasOwnProperty(M)&&(c=l[M],c!=null))switch(M){case"selected":o.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:Ye(o,r,M,c,l,null)}return;case"dialog":De("beforetoggle",o),De("toggle",o),De("cancel",o),De("close",o);break;case"iframe":case"object":De("load",o);break;case"video":case"audio":for(c=0;c<Ha.length;c++)De(Ha[c],o);break;case"image":De("error",o),De("load",o);break;case"details":De("toggle",o);break;case"embed":case"source":case"link":De("error",o),De("load",o);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(V in l)if(l.hasOwnProperty(V)&&(c=l[V],c!=null))switch(V){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,r));default:Ye(o,r,V,c,l,null)}return;default:if(yd(r)){for(J in l)l.hasOwnProperty(J)&&(c=l[J],c!==void 0&&op(o,r,J,c,l,void 0));return}}for(C in l)l.hasOwnProperty(C)&&(c=l[C],c!=null&&Ye(o,r,C,c,l,null))}function WN(o,r,l,c){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,y=null,E=null,C=null,M=null,V=null,J=null;for(F in l){var W=l[F];if(l.hasOwnProperty(F)&&W!=null)switch(F){case"checked":break;case"value":break;case"defaultValue":M=W;default:c.hasOwnProperty(F)||Ye(o,r,F,null,c,W)}}for(var q in c){var F=c[q];if(W=l[q],c.hasOwnProperty(q)&&(F!=null||W!=null))switch(q){case"type":y=F;break;case"name":g=F;break;case"checked":V=F;break;case"defaultChecked":J=F;break;case"value":E=F;break;case"defaultValue":C=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(i(137,r));break;default:F!==W&&Ye(o,r,q,F,c,W)}}gd(o,E,C,M,V,J,y,g);return;case"select":F=E=C=q=null;for(y in l)if(M=l[y],l.hasOwnProperty(y)&&M!=null)switch(y){case"value":break;case"multiple":F=M;default:c.hasOwnProperty(y)||Ye(o,r,y,null,c,M)}for(g in c)if(y=c[g],M=l[g],c.hasOwnProperty(g)&&(y!=null||M!=null))switch(g){case"value":q=y;break;case"defaultValue":C=y;break;case"multiple":E=y;default:y!==M&&Ye(o,r,g,y,c,M)}r=C,l=E,c=F,q!=null?Pr(o,!!l,q,!1):!!c!=!!l&&(r!=null?Pr(o,!!l,r,!0):Pr(o,!!l,l?[]:"",!1));return;case"textarea":F=q=null;for(C in l)if(g=l[C],l.hasOwnProperty(C)&&g!=null&&!c.hasOwnProperty(C))switch(C){case"value":break;case"children":break;default:Ye(o,r,C,null,c,g)}for(E in c)if(g=c[E],y=l[E],c.hasOwnProperty(E)&&(g!=null||y!=null))switch(E){case"value":q=g;break;case"defaultValue":F=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(i(91));break;default:g!==y&&Ye(o,r,E,g,c,y)}$v(o,q,F);return;case"option":for(var ue in l)if(q=l[ue],l.hasOwnProperty(ue)&&q!=null&&!c.hasOwnProperty(ue))switch(ue){case"selected":o.selected=!1;break;default:Ye(o,r,ue,null,c,q)}for(M in c)if(q=c[M],F=l[M],c.hasOwnProperty(M)&&q!==F&&(q!=null||F!=null))switch(M){case"selected":o.selected=q&&typeof q!="function"&&typeof q!="symbol";break;default:Ye(o,r,M,q,c,F)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ye in l)q=l[ye],l.hasOwnProperty(ye)&&q!=null&&!c.hasOwnProperty(ye)&&Ye(o,r,ye,null,c,q);for(V in c)if(q=c[V],F=l[V],c.hasOwnProperty(V)&&q!==F&&(q!=null||F!=null))switch(V){case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(i(137,r));break;default:Ye(o,r,V,q,c,F)}return;default:if(yd(r)){for(var Ke in l)q=l[Ke],l.hasOwnProperty(Ke)&&q!==void 0&&!c.hasOwnProperty(Ke)&&op(o,r,Ke,void 0,c,q);for(J in c)q=c[J],F=l[J],!c.hasOwnProperty(J)||q===F||q===void 0&&F===void 0||op(o,r,J,q,c,F);return}}for(var L in l)q=l[L],l.hasOwnProperty(L)&&q!=null&&!c.hasOwnProperty(L)&&Ye(o,r,L,null,c,q);for(W in c)q=c[W],F=l[W],!c.hasOwnProperty(W)||q===F||q==null&&F==null||Ye(o,r,W,q,c,F)}function J0(o){switch(o){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function QN(){if(typeof performance.getEntriesByType=="function"){for(var o=0,r=0,l=performance.getEntriesByType("resource"),c=0;c<l.length;c++){var g=l[c],y=g.transferSize,E=g.initiatorType,C=g.duration;if(y&&C&&J0(E)){for(E=0,C=g.responseEnd,c+=1;c<l.length;c++){var M=l[c],V=M.startTime;if(V>C)break;var J=M.transferSize,W=M.initiatorType;J&&J0(W)&&(M=M.responseEnd,E+=J*(M<C?1:(C-V)/(M-V)))}if(--c,r+=8*(y+E)/(g.duration/1e3),o++,10<o)break}}if(0<o)return r/o/1e6}return navigator.connection&&(o=navigator.connection.downlink,typeof o=="number")?o:5}var rp=null,sp=null;function ic(o){return o.nodeType===9?o:o.ownerDocument}function Y0(o){switch(o){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function K0(o,r){if(o===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return o===1&&r==="foreignObject"?0:o}function ap(o,r){return o==="textarea"||o==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var lp=null;function ZN(){var o=window.event;return o&&o.type==="popstate"?o===lp?!1:(lp=o,!0):(lp=null,!1)}var X0=typeof setTimeout=="function"?setTimeout:void 0,jN=typeof clearTimeout=="function"?clearTimeout:void 0,W0=typeof Promise=="function"?Promise:void 0,eI=typeof queueMicrotask=="function"?queueMicrotask:typeof W0<"u"?function(o){return W0.resolve(null).then(o).catch(tI)}:X0;function tI(o){setTimeout(function(){throw o})}function So(o){return o==="head"}function Q0(o,r){var l=r,c=0;do{var g=l.nextSibling;if(o.removeChild(l),g&&g.nodeType===8)if(l=g.data,l==="/$"||l==="/&"){if(c===0){o.removeChild(g),hs(r);return}c--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")c++;else if(l==="html")Va(o.ownerDocument.documentElement);else if(l==="head"){l=o.ownerDocument.head,Va(l);for(var y=l.firstChild;y;){var E=y.nextSibling,C=y.nodeName;y[ra]||C==="SCRIPT"||C==="STYLE"||C==="LINK"&&y.rel.toLowerCase()==="stylesheet"||l.removeChild(y),y=E}}else l==="body"&&Va(o.ownerDocument.body);l=g}while(l);hs(r)}function Z0(o,r){var l=o;o=0;do{var c=l.nextSibling;if(l.nodeType===1?r?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(r?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),c&&c.nodeType===8)if(l=c.data,l==="/$"){if(o===0)break;o--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||o++;l=c}while(l)}function up(o){var r=o.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var l=r;switch(r=r.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":up(l),pd(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}o.removeChild(l)}}function nI(o,r,l,c){for(;o.nodeType===1;){var g=l;if(o.nodeName.toLowerCase()!==r.toLowerCase()){if(!c&&(o.nodeName!=="INPUT"||o.type!=="hidden"))break}else if(c){if(!o[ra])switch(r){case"meta":if(!o.hasAttribute("itemprop"))break;return o;case"link":if(y=o.getAttribute("rel"),y==="stylesheet"&&o.hasAttribute("data-precedence"))break;if(y!==g.rel||o.getAttribute("href")!==(g.href==null||g.href===""?null:g.href)||o.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||o.getAttribute("title")!==(g.title==null?null:g.title))break;return o;case"style":if(o.hasAttribute("data-precedence"))break;return o;case"script":if(y=o.getAttribute("src"),(y!==(g.src==null?null:g.src)||o.getAttribute("type")!==(g.type==null?null:g.type)||o.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&y&&o.hasAttribute("async")&&!o.hasAttribute("itemprop"))break;return o;default:return o}}else if(r==="input"&&o.type==="hidden"){var y=g.name==null?null:""+g.name;if(g.type==="hidden"&&o.getAttribute("name")===y)return o}else return o;if(o=Tn(o.nextSibling),o===null)break}return null}function iI(o,r,l){if(r==="")return null;for(;o.nodeType!==3;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!l||(o=Tn(o.nextSibling),o===null))return null;return o}function j0(o,r){for(;o.nodeType!==8;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!r||(o=Tn(o.nextSibling),o===null))return null;return o}function cp(o){return o.data==="$?"||o.data==="$~"}function fp(o){return o.data==="$!"||o.data==="$?"&&o.ownerDocument.readyState!=="loading"}function oI(o,r){var l=o.ownerDocument;if(o.data==="$~")o._reactRetry=r;else if(o.data!=="$?"||l.readyState!=="loading")r();else{var c=function(){r(),l.removeEventListener("DOMContentLoaded",c)};l.addEventListener("DOMContentLoaded",c),o._reactRetry=c}}function Tn(o){for(;o!=null;o=o.nextSibling){var r=o.nodeType;if(r===1||r===3)break;if(r===8){if(r=o.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return o}var dp=null;function eS(o){o=o.nextSibling;for(var r=0;o;){if(o.nodeType===8){var l=o.data;if(l==="/$"||l==="/&"){if(r===0)return Tn(o.nextSibling);r--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||r++}o=o.nextSibling}return null}function tS(o){o=o.previousSibling;for(var r=0;o;){if(o.nodeType===8){var l=o.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(r===0)return o;r--}else l!=="/$"&&l!=="/&"||r++}o=o.previousSibling}return null}function nS(o,r,l){switch(r=ic(l),o){case"html":if(o=r.documentElement,!o)throw Error(i(452));return o;case"head":if(o=r.head,!o)throw Error(i(453));return o;case"body":if(o=r.body,!o)throw Error(i(454));return o;default:throw Error(i(451))}}function Va(o){for(var r=o.attributes;r.length;)o.removeAttributeNode(r[0]);pd(o)}var bn=new Map,iS=new Set;function oc(o){return typeof o.getRootNode=="function"?o.getRootNode():o.nodeType===9?o:o.ownerDocument}var Ui=Z.d;Z.d={f:rI,r:sI,D:aI,C:lI,L:uI,m:cI,X:dI,S:fI,M:hI};function rI(){var o=Ui.f(),r=Xu();return o||r}function sI(o){var r=Dr(o);r!==null&&r.tag===5&&r.type==="form"?S_(r):Ui.r(o)}var cs=typeof document>"u"?null:document;function oS(o,r,l){var c=cs;if(c&&typeof r=="string"&&r){var g=mn(r);g='link[rel="'+o+'"][href="'+g+'"]',typeof l=="string"&&(g+='[crossorigin="'+l+'"]'),iS.has(g)||(iS.add(g),o={rel:o,crossOrigin:l,href:r},c.querySelector(g)===null&&(r=c.createElement("link"),xt(r,"link",o),gt(r),c.head.appendChild(r)))}}function aI(o){Ui.D(o),oS("dns-prefetch",o,null)}function lI(o,r){Ui.C(o,r),oS("preconnect",o,r)}function uI(o,r,l){Ui.L(o,r,l);var c=cs;if(c&&o&&r){var g='link[rel="preload"][as="'+mn(r)+'"]';r==="image"&&l&&l.imageSrcSet?(g+='[imagesrcset="'+mn(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(g+='[imagesizes="'+mn(l.imageSizes)+'"]')):g+='[href="'+mn(o)+'"]';var y=g;switch(r){case"style":y=fs(o);break;case"script":y=ds(o)}bn.has(y)||(o=_({rel:"preload",href:r==="image"&&l&&l.imageSrcSet?void 0:o,as:r},l),bn.set(y,o),c.querySelector(g)!==null||r==="style"&&c.querySelector($a(y))||r==="script"&&c.querySelector(qa(y))||(r=c.createElement("link"),xt(r,"link",o),gt(r),c.head.appendChild(r)))}}function cI(o,r){Ui.m(o,r);var l=cs;if(l&&o){var c=r&&typeof r.as=="string"?r.as:"script",g='link[rel="modulepreload"][as="'+mn(c)+'"][href="'+mn(o)+'"]',y=g;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=ds(o)}if(!bn.has(y)&&(o=_({rel:"modulepreload",href:o},r),bn.set(y,o),l.querySelector(g)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(qa(y)))return}c=l.createElement("link"),xt(c,"link",o),gt(c),l.head.appendChild(c)}}}function fI(o,r,l){Ui.S(o,r,l);var c=cs;if(c&&o){var g=Or(c).hoistableStyles,y=fs(o);r=r||"default";var E=g.get(y);if(!E){var C={loading:0,preload:null};if(E=c.querySelector($a(y)))C.loading=5;else{o=_({rel:"stylesheet",href:o,"data-precedence":r},l),(l=bn.get(y))&&hp(o,l);var M=E=c.createElement("link");gt(M),xt(M,"link",o),M._p=new Promise(function(V,J){M.onload=V,M.onerror=J}),M.addEventListener("load",function(){C.loading|=1}),M.addEventListener("error",function(){C.loading|=2}),C.loading|=4,rc(E,r,c)}E={type:"stylesheet",instance:E,count:1,state:C},g.set(y,E)}}}function dI(o,r){Ui.X(o,r);var l=cs;if(l&&o){var c=Or(l).hoistableScripts,g=ds(o),y=c.get(g);y||(y=l.querySelector(qa(g)),y||(o=_({src:o,async:!0},r),(r=bn.get(g))&&pp(o,r),y=l.createElement("script"),gt(y),xt(y,"link",o),l.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},c.set(g,y))}}function hI(o,r){Ui.M(o,r);var l=cs;if(l&&o){var c=Or(l).hoistableScripts,g=ds(o),y=c.get(g);y||(y=l.querySelector(qa(g)),y||(o=_({src:o,async:!0,type:"module"},r),(r=bn.get(g))&&pp(o,r),y=l.createElement("script"),gt(y),xt(y,"link",o),l.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},c.set(g,y))}}function rS(o,r,l,c){var g=(g=be.current)?oc(g):null;if(!g)throw Error(i(446));switch(o){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(r=fs(l.href),l=Or(g).hoistableStyles,c=l.get(r),c||(c={type:"style",instance:null,count:0,state:null},l.set(r,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){o=fs(l.href);var y=Or(g).hoistableStyles,E=y.get(o);if(E||(g=g.ownerDocument||g,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(o,E),(y=g.querySelector($a(o)))&&!y._p&&(E.instance=y,E.state.loading=5),bn.has(o)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},bn.set(o,l),y||pI(g,o,l,E.state))),r&&c===null)throw Error(i(528,""));return E}if(r&&c!==null)throw Error(i(529,""));return null;case"script":return r=l.async,l=l.src,typeof l=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=ds(l),l=Or(g).hoistableScripts,c=l.get(r),c||(c={type:"script",instance:null,count:0,state:null},l.set(r,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,o))}}function fs(o){return'href="'+mn(o)+'"'}function $a(o){return'link[rel="stylesheet"]['+o+"]"}function sS(o){return _({},o,{"data-precedence":o.precedence,precedence:null})}function pI(o,r,l,c){o.querySelector('link[rel="preload"][as="style"]['+r+"]")?c.loading=1:(r=o.createElement("link"),c.preload=r,r.addEventListener("load",function(){return c.loading|=1}),r.addEventListener("error",function(){return c.loading|=2}),xt(r,"link",l),gt(r),o.head.appendChild(r))}function ds(o){return'[src="'+mn(o)+'"]'}function qa(o){return"script[async]"+o}function aS(o,r,l){if(r.count++,r.instance===null)switch(r.type){case"style":var c=o.querySelector('style[data-href~="'+mn(l.href)+'"]');if(c)return r.instance=c,gt(c),c;var g=_({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return c=(o.ownerDocument||o).createElement("style"),gt(c),xt(c,"style",g),rc(c,l.precedence,o),r.instance=c;case"stylesheet":g=fs(l.href);var y=o.querySelector($a(g));if(y)return r.state.loading|=4,r.instance=y,gt(y),y;c=sS(l),(g=bn.get(g))&&hp(c,g),y=(o.ownerDocument||o).createElement("link"),gt(y);var E=y;return E._p=new Promise(function(C,M){E.onload=C,E.onerror=M}),xt(y,"link",c),r.state.loading|=4,rc(y,l.precedence,o),r.instance=y;case"script":return y=ds(l.src),(g=o.querySelector(qa(y)))?(r.instance=g,gt(g),g):(c=l,(g=bn.get(y))&&(c=_({},l),pp(c,g)),o=o.ownerDocument||o,g=o.createElement("script"),gt(g),xt(g,"link",c),o.head.appendChild(g),r.instance=g);case"void":return null;default:throw Error(i(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(c=r.instance,r.state.loading|=4,rc(c,l.precedence,o));return r.instance}function rc(o,r,l){for(var c=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=c.length?c[c.length-1]:null,y=g,E=0;E<c.length;E++){var C=c[E];if(C.dataset.precedence===r)y=C;else if(y!==g)break}y?y.parentNode.insertBefore(o,y.nextSibling):(r=l.nodeType===9?l.head:l,r.insertBefore(o,r.firstChild))}function hp(o,r){o.crossOrigin==null&&(o.crossOrigin=r.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=r.referrerPolicy),o.title==null&&(o.title=r.title)}function pp(o,r){o.crossOrigin==null&&(o.crossOrigin=r.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=r.referrerPolicy),o.integrity==null&&(o.integrity=r.integrity)}var sc=null;function lS(o,r,l){if(sc===null){var c=new Map,g=sc=new Map;g.set(l,c)}else g=sc,c=g.get(l),c||(c=new Map,g.set(l,c));if(c.has(o))return c;for(c.set(o,null),l=l.getElementsByTagName(o),g=0;g<l.length;g++){var y=l[g];if(!(y[ra]||y[bt]||o==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var E=y.getAttribute(r)||"";E=o+E;var C=c.get(E);C?C.push(y):c.set(E,[y])}}return c}function uS(o,r,l){o=o.ownerDocument||o,o.head.insertBefore(l,r==="title"?o.querySelector("head > title"):null)}function mI(o,r,l){if(l===1||r.itemProp!=null)return!1;switch(o){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return o=r.disabled,typeof r.precedence=="string"&&o==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function cS(o){return!(o.type==="stylesheet"&&(o.state.loading&3)===0)}function gI(o,r,l,c){if(l.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var g=fs(c.href),y=r.querySelector($a(g));if(y){r=y._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(o.count++,o=ac.bind(o),r.then(o,o)),l.state.loading|=4,l.instance=y,gt(y);return}y=r.ownerDocument||r,c=sS(c),(g=bn.get(g))&&hp(c,g),y=y.createElement("link"),gt(y);var E=y;E._p=new Promise(function(C,M){E.onload=C,E.onerror=M}),xt(y,"link",c),l.instance=y}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(l,r),(r=l.state.preload)&&(l.state.loading&3)===0&&(o.count++,l=ac.bind(o),r.addEventListener("load",l),r.addEventListener("error",l))}}var mp=0;function vI(o,r){return o.stylesheets&&o.count===0&&uc(o,o.stylesheets),0<o.count||0<o.imgCount?function(l){var c=setTimeout(function(){if(o.stylesheets&&uc(o,o.stylesheets),o.unsuspend){var y=o.unsuspend;o.unsuspend=null,y()}},6e4+r);0<o.imgBytes&&mp===0&&(mp=62500*QN());var g=setTimeout(function(){if(o.waitingForImages=!1,o.count===0&&(o.stylesheets&&uc(o,o.stylesheets),o.unsuspend)){var y=o.unsuspend;o.unsuspend=null,y()}},(o.imgBytes>mp?50:800)+r);return o.unsuspend=l,function(){o.unsuspend=null,clearTimeout(c),clearTimeout(g)}}:null}function ac(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)uc(this,this.stylesheets);else if(this.unsuspend){var o=this.unsuspend;this.unsuspend=null,o()}}}var lc=null;function uc(o,r){o.stylesheets=null,o.unsuspend!==null&&(o.count++,lc=new Map,r.forEach(yI,o),lc=null,ac.call(o))}function yI(o,r){if(!(r.state.loading&4)){var l=lc.get(o);if(l)var c=l.get(null);else{l=new Map,lc.set(o,l);for(var g=o.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<g.length;y++){var E=g[y];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(l.set(E.dataset.precedence,E),c=E)}c&&l.set(null,c)}g=r.instance,E=g.getAttribute("data-precedence"),y=l.get(E)||c,y===c&&l.set(null,g),l.set(E,g),this.count++,c=ac.bind(this),g.addEventListener("load",c),g.addEventListener("error",c),y?y.parentNode.insertBefore(g,y.nextSibling):(o=o.nodeType===9?o.head:o,o.insertBefore(g,o.firstChild)),r.state.loading|=4}}var za={$$typeof:N,Provider:null,Consumer:null,_currentValue:se,_currentValue2:se,_threadCount:0};function _I(o,r,l,c,g,y,E,C,M){this.tag=1,this.containerInfo=o,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=cd(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=cd(0),this.hiddenUpdates=cd(null),this.identifierPrefix=c,this.onUncaughtError=g,this.onCaughtError=y,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=M,this.incompleteTransitions=new Map}function fS(o,r,l,c,g,y,E,C,M,V,J,W){return o=new _I(o,r,l,E,M,V,J,W,C),r=1,y===!0&&(r|=24),y=en(3,null,null,r),o.current=y,y.stateNode=o,r=Kd(),r.refCount++,o.pooledCache=r,r.refCount++,y.memoizedState={element:c,isDehydrated:l,cache:r},Zd(y),o}function dS(o){return o?(o=qr,o):qr}function hS(o,r,l,c,g,y){g=dS(g),c.context===null?c.context=g:c.pendingContext=g,c=lo(r),c.payload={element:l},y=y===void 0?null:y,y!==null&&(c.callback=y),l=uo(o,c,r),l!==null&&(Yt(l,o,r),Ta(l,o,r))}function pS(o,r){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var l=o.retryLane;o.retryLane=l!==0&&l<r?l:r}}function gp(o,r){pS(o,r),(o=o.alternate)&&pS(o,r)}function mS(o){if(o.tag===13||o.tag===31){var r=Ko(o,67108864);r!==null&&Yt(r,o,67108864),gp(o,67108864)}}function gS(o){if(o.tag===13||o.tag===31){var r=sn();r=fd(r);var l=Ko(o,r);l!==null&&Yt(l,o,r),gp(o,r)}}var cc=!0;function SI(o,r,l,c){var g=k.T;k.T=null;var y=Z.p;try{Z.p=2,vp(o,r,l,c)}finally{Z.p=y,k.T=g}}function EI(o,r,l,c){var g=k.T;k.T=null;var y=Z.p;try{Z.p=8,vp(o,r,l,c)}finally{Z.p=y,k.T=g}}function vp(o,r,l,c){if(cc){var g=yp(c);if(g===null)ip(o,r,c,fc,l),yS(o,c);else if(bI(g,o,r,l,c))c.stopPropagation();else if(yS(o,c),r&4&&-1<TI.indexOf(o)){for(;g!==null;){var y=Dr(g);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var E=qo(y.pendingLanes);if(E!==0){var C=y;for(C.pendingLanes|=2,C.entangledLanes|=2;E;){var M=1<<31-Zt(E);C.entanglements[1]|=M,E&=~M}ii(y),($e&6)===0&&(Yu=Tt()+500,Ba(0))}}break;case 31:case 13:C=Ko(y,2),C!==null&&Yt(C,y,2),Xu(),gp(y,2)}if(y=yp(c),y===null&&ip(o,r,c,fc,l),y===g)break;g=y}g!==null&&c.stopPropagation()}else ip(o,r,c,null,l)}}function yp(o){return o=Sd(o),_p(o)}var fc=null;function _p(o){if(fc=null,o=Ir(o),o!==null){var r=a(o);if(r===null)o=null;else{var l=r.tag;if(l===13){if(o=u(r),o!==null)return o;o=null}else if(l===31){if(o=f(r),o!==null)return o;o=null}else if(l===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;o=null}else r!==o&&(o=null)}}return fc=o,null}function vS(o){switch(o){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(eu()){case ea:return 2;case ta:return 8;case $o:case lM:return 32;case xv:return 268435456;default:return 32}default:return 32}}var Sp=!1,Eo=null,To=null,bo=null,Fa=new Map,Ja=new Map,Co=[],TI="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function yS(o,r){switch(o){case"focusin":case"focusout":Eo=null;break;case"dragenter":case"dragleave":To=null;break;case"mouseover":case"mouseout":bo=null;break;case"pointerover":case"pointerout":Fa.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ja.delete(r.pointerId)}}function Ya(o,r,l,c,g,y){return o===null||o.nativeEvent!==y?(o={blockedOn:r,domEventName:l,eventSystemFlags:c,nativeEvent:y,targetContainers:[g]},r!==null&&(r=Dr(r),r!==null&&mS(r)),o):(o.eventSystemFlags|=c,r=o.targetContainers,g!==null&&r.indexOf(g)===-1&&r.push(g),o)}function bI(o,r,l,c,g){switch(r){case"focusin":return Eo=Ya(Eo,o,r,l,c,g),!0;case"dragenter":return To=Ya(To,o,r,l,c,g),!0;case"mouseover":return bo=Ya(bo,o,r,l,c,g),!0;case"pointerover":var y=g.pointerId;return Fa.set(y,Ya(Fa.get(y)||null,o,r,l,c,g)),!0;case"gotpointercapture":return y=g.pointerId,Ja.set(y,Ya(Ja.get(y)||null,o,r,l,c,g)),!0}return!1}function _S(o){var r=Ir(o.target);if(r!==null){var l=a(r);if(l!==null){if(r=l.tag,r===13){if(r=u(l),r!==null){o.blockedOn=r,Ov(o.priority,function(){gS(l)});return}}else if(r===31){if(r=f(l),r!==null){o.blockedOn=r,Ov(o.priority,function(){gS(l)});return}}else if(r===3&&l.stateNode.current.memoizedState.isDehydrated){o.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}o.blockedOn=null}function dc(o){if(o.blockedOn!==null)return!1;for(var r=o.targetContainers;0<r.length;){var l=yp(o.nativeEvent);if(l===null){l=o.nativeEvent;var c=new l.constructor(l.type,l);_d=c,l.target.dispatchEvent(c),_d=null}else return r=Dr(l),r!==null&&mS(r),o.blockedOn=l,!1;r.shift()}return!0}function SS(o,r,l){dc(o)&&l.delete(r)}function CI(){Sp=!1,Eo!==null&&dc(Eo)&&(Eo=null),To!==null&&dc(To)&&(To=null),bo!==null&&dc(bo)&&(bo=null),Fa.forEach(SS),Ja.forEach(SS)}function hc(o,r){o.blockedOn===r&&(o.blockedOn=null,Sp||(Sp=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,CI)))}var pc=null;function ES(o){pc!==o&&(pc=o,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){pc===o&&(pc=null);for(var r=0;r<o.length;r+=3){var l=o[r],c=o[r+1],g=o[r+2];if(typeof c!="function"){if(_p(c||l)===null)continue;break}var y=Dr(l);y!==null&&(o.splice(r,3),r-=3,yh(y,{pending:!0,data:g,method:l.method,action:c},c,g))}}))}function hs(o){function r(M){return hc(M,o)}Eo!==null&&hc(Eo,o),To!==null&&hc(To,o),bo!==null&&hc(bo,o),Fa.forEach(r),Ja.forEach(r);for(var l=0;l<Co.length;l++){var c=Co[l];c.blockedOn===o&&(c.blockedOn=null)}for(;0<Co.length&&(l=Co[0],l.blockedOn===null);)_S(l),l.blockedOn===null&&Co.shift();if(l=(o.ownerDocument||o).$$reactFormReplay,l!=null)for(c=0;c<l.length;c+=3){var g=l[c],y=l[c+1],E=g[Vt]||null;if(typeof y=="function")E||ES(l);else if(E){var C=null;if(y&&y.hasAttribute("formAction")){if(g=y,E=y[Vt]||null)C=E.formAction;else if(_p(g)!==null)continue}else C=E.action;typeof C=="function"?l[c+1]=C:(l.splice(c,3),c-=3),ES(l)}}}function TS(){function o(y){y.canIntercept&&y.info==="react-transition"&&y.intercept({handler:function(){return new Promise(function(E){return g=E})},focusReset:"manual",scroll:"manual"})}function r(){g!==null&&(g(),g=null),c||setTimeout(l,20)}function l(){if(!c&&!navigation.transition){var y=navigation.currentEntry;y&&y.url!=null&&navigation.navigate(y.url,{state:y.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var c=!1,g=null;return navigation.addEventListener("navigate",o),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(l,100),function(){c=!0,navigation.removeEventListener("navigate",o),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),g!==null&&(g(),g=null)}}}function Ep(o){this._internalRoot=o}mc.prototype.render=Ep.prototype.render=function(o){var r=this._internalRoot;if(r===null)throw Error(i(409));var l=r.current,c=sn();hS(l,c,o,r,null,null)},mc.prototype.unmount=Ep.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var r=o.containerInfo;hS(o.current,2,null,o,null,null),Xu(),r[Nr]=null}};function mc(o){this._internalRoot=o}mc.prototype.unstable_scheduleHydration=function(o){if(o){var r=Dv();o={blockedOn:null,target:o,priority:r};for(var l=0;l<Co.length&&r!==0&&r<Co[l].priority;l++);Co.splice(l,0,o),l===0&&_S(o)}};var bS=e.version;if(bS!=="19.2.1")throw Error(i(527,bS,"19.2.1"));Z.findDOMNode=function(o){var r=o._reactInternals;if(r===void 0)throw typeof o.render=="function"?Error(i(188)):(o=Object.keys(o).join(","),Error(i(268,o)));return o=h(r),o=o!==null?v(o):null,o=o===null?null:o.stateNode,o};var AI={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:k,reconcilerVersion:"19.2.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var gc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!gc.isDisabled&&gc.supportsFiber)try{na=gc.inject(AI),Qt=gc}catch{}}return Xa.createRoot=function(o,r){if(!s(o))throw Error(i(299));var l=!1,c="",g=N_,y=I_,E=D_;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(c=r.identifierPrefix),r.onUncaughtError!==void 0&&(g=r.onUncaughtError),r.onCaughtError!==void 0&&(y=r.onCaughtError),r.onRecoverableError!==void 0&&(E=r.onRecoverableError)),r=fS(o,1,!1,null,null,l,c,null,g,y,E,TS),o[Nr]=r.current,np(o),new Ep(r)},Xa.hydrateRoot=function(o,r,l){if(!s(o))throw Error(i(299));var c=!1,g="",y=N_,E=I_,C=D_,M=null;return l!=null&&(l.unstable_strictMode===!0&&(c=!0),l.identifierPrefix!==void 0&&(g=l.identifierPrefix),l.onUncaughtError!==void 0&&(y=l.onUncaughtError),l.onCaughtError!==void 0&&(E=l.onCaughtError),l.onRecoverableError!==void 0&&(C=l.onRecoverableError),l.formState!==void 0&&(M=l.formState)),r=fS(o,1,!0,r,l??null,c,g,M,y,E,C,TS),r.context=dS(null),l=r.current,c=sn(),c=fd(c),g=lo(c),g.callback=null,uo(l,g,c),l=c,r.current.lanes=l,oa(r,l),ii(r),o[Nr]=r.current,np(o),new mc(r)},Xa.version="19.2.1",Xa}var OS;function UI(){if(OS)return Cp.exports;OS=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Cp.exports=OI(),Cp.exports}var PI=UI();function ke(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];throw new Error(typeof t=="number"?"[MobX] minified error nr: "+t+(n.length?" "+n.map(String).join(","):"")+". Find the full error at: https://github.com/mobxjs/mobx/blob/main/packages/mobx/src/errors.ts":"[MobX] "+t)}var LI={};function If(){return typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:LI}var oC=Object.assign,nf=Object.getOwnPropertyDescriptor,ui=Object.defineProperty,Il=Object.prototype,hm=[];Object.freeze(hm);var rC={};Object.freeze(rC);var kI=typeof Proxy<"u",BI=Object.toString();function sC(){kI||ke("Proxy not available")}function aC(t){var e=!1;return function(){if(!e)return e=!0,t.apply(this,arguments)}}var ws=function(){};function Xn(t){return typeof t=="function"}function gr(t){var e=typeof t;switch(e){case"string":case"symbol":case"number":return!0}return!1}function Df(t){return t!==null&&typeof t=="object"}function zi(t){if(!Df(t))return!1;var e=Object.getPrototypeOf(t);if(e==null)return!0;var n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n.toString()===BI}function lC(t){var e=t?.constructor;return e?e.name==="GeneratorFunction"||e.displayName==="GeneratorFunction":!1}function Dl(t,e,n){ui(t,e,{enumerable:!1,writable:!0,configurable:!0,value:n})}function uC(t,e,n){ui(t,e,{enumerable:!1,writable:!1,configurable:!0,value:n})}function Po(t,e){var n="isMobX"+t;return e.prototype[n]=!0,function(i){return Df(i)&&i[n]===!0}}function qs(t){return t!=null&&Object.prototype.toString.call(t)==="[object Map]"}function HI(t){var e=Object.getPrototypeOf(t),n=Object.getPrototypeOf(e),i=Object.getPrototypeOf(n);return i===null}function Bi(t){return t!=null&&Object.prototype.toString.call(t)==="[object Set]"}var cC=typeof Object.getOwnPropertySymbols<"u";function GI(t){var e=Object.keys(t);if(!cC)return e;var n=Object.getOwnPropertySymbols(t);return n.length?[].concat(e,n.filter(function(i){return Il.propertyIsEnumerable.call(t,i)})):e}var Ls=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:cC?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:Object.getOwnPropertyNames;function fC(t){return t===null?null:typeof t=="object"?""+t:t}function Vi(t,e){return Il.hasOwnProperty.call(t,e)}var VI=Object.getOwnPropertyDescriptors||function(e){var n={};return Ls(e).forEach(function(i){n[i]=nf(e,i)}),n};function cn(t,e){return!!(t&e)}function fn(t,e,n){return n?t|=e:t&=~e,t}function US(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,i=Array(e);n<e;n++)i[n]=t[n];return i}function $I(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,zI(i.key),i)}}function zs(t,e,n){return e&&$I(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function xs(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n)return(n=n.call(t)).next.bind(n);if(Array.isArray(t)||(n=FI(t))||e){n&&(t=n);var i=0;return function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vr(){return vr=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},vr.apply(null,arguments)}function dC(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,pm(t,e)}function pm(t,e){return pm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},pm(t,e)}function qI(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function zI(t){var e=qI(t,"string");return typeof e=="symbol"?e:e+""}function FI(t,e){if(t){if(typeof t=="string")return US(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?US(t,e):void 0}}var ai=Symbol("mobx-stored-annotations");function ci(t){function e(n,i){if(Ul(i))return t.decorate_20223_(n,i);Ol(n,i,t)}return Object.assign(e,t)}function Ol(t,e,n){Vi(t,ai)||Dl(t,ai,vr({},t[ai])),ZI(n)||(t[ai][e]=n)}function JI(t){return Vi(t,ai)||Dl(t,ai,vr({},t[ai])),t[ai]}function Ul(t){return typeof t=="object"&&typeof t.kind=="string"}var Ee=Symbol("mobx administration"),Lo=(function(){function t(n){n===void 0&&(n="Atom"),this.name_=void 0,this.flags_=0,this.observers_=new Set,this.lastAccessedBy_=0,this.lowestObserverState_=Ge.NOT_TRACKING_,this.onBOL=void 0,this.onBUOL=void 0,this.name_=n}var e=t.prototype;return e.onBO=function(){this.onBOL&&this.onBOL.forEach(function(i){return i()})},e.onBUO=function(){this.onBUOL&&this.onBUOL.forEach(function(i){return i()})},e.reportObserved=function(){return MC(this)},e.reportChanged=function(){xn(),NC(this),Rn()},e.toString=function(){return this.name_},zs(t,[{key:"isBeingObserved",get:function(){return cn(this.flags_,t.isBeingObservedMask_)},set:function(i){this.flags_=fn(this.flags_,t.isBeingObservedMask_,i)}},{key:"isPendingUnobservation",get:function(){return cn(this.flags_,t.isPendingUnobservationMask_)},set:function(i){this.flags_=fn(this.flags_,t.isPendingUnobservationMask_,i)}},{key:"diffValue",get:function(){return cn(this.flags_,t.diffValueMask_)?1:0},set:function(i){this.flags_=fn(this.flags_,t.diffValueMask_,i===1)}}])})();Lo.isBeingObservedMask_=1;Lo.isPendingUnobservationMask_=2;Lo.diffValueMask_=4;var pg=Po("Atom",Lo);function hC(t,e,n){e===void 0&&(e=ws),n===void 0&&(n=ws);var i=new Lo(t);return e!==ws&&t1(i,e),n!==ws&&LC(i,n),i}function YI(t,e){return KC(t,e)}function KI(t,e){return Object.is?Object.is(t,e):t===e?t!==0||1/t===1/e:t!==t&&e!==e}var of={structural:YI,default:KI};function yr(t,e,n){return _g(t)?t:Array.isArray(t)?_t.array(t,{name:n}):zi(t)?_t.object(t,void 0,{name:n}):qs(t)?_t.map(t,{name:n}):Bi(t)?_t.set(t,{name:n}):typeof t=="function"&&!ks(t)&&!El(t)?lC(t)?Bs(t):Sl(n,t):t}function XI(t,e,n){if(t==null||Vl(t)||Gl(t)||Bo(t)||qn(t))return t;if(Array.isArray(t))return _t.array(t,{name:n,deep:!1});if(zi(t))return _t.object(t,void 0,{name:n,deep:!1});if(qs(t))return _t.map(t,{name:n,deep:!1});if(Bi(t))return _t.set(t,{name:n,deep:!1})}function Of(t){return t}function WI(t,e){return KC(t,e)?e:t}var QI="override";function ZI(t){return t.annotationType_===QI}function Pl(t,e){return{annotationType_:t,options_:e,make_:jI,extend_:eD,decorate_20223_:tD}}function jI(t,e,n,i){var s;if((s=this.options_)!=null&&s.bound)return this.extend_(t,e,n,!1)===null?0:1;if(i===t.target_)return this.extend_(t,e,n,!1)===null?0:2;if(ks(n.value))return 1;var a=pC(t,this,e,n,!1);return ui(i,e,a),2}function eD(t,e,n,i){var s=pC(t,this,e,n);return t.defineProperty_(e,s,i)}function tD(t,e){var n=e.kind,i=e.name,s=e.addInitializer,a=this,u=function(h){var v,_,S,T;return _r((v=(_=a.options_)==null?void 0:_.name)!=null?v:i.toString(),h,(S=(T=a.options_)==null?void 0:T.autoAction)!=null?S:!1)};if(n=="field")return function(p){var h,v=p;return ks(v)||(v=u(v)),(h=a.options_)!=null&&h.bound&&(v=v.bind(this),v.isMobxAction=!0),v};if(n=="method"){var f;return ks(t)||(t=u(t)),(f=this.options_)!=null&&f.bound&&s(function(){var p=this,h=p[i].bind(p);h.isMobxAction=!0,p[i]=h}),t}ke("Cannot apply '"+a.annotationType_+"' to '"+String(i)+"' (kind: "+n+"):"+(`
'`+a.annotationType_+"' can only be used on properties with a function value."))}function nD(t,e,n,i){e.annotationType_,i.value}function pC(t,e,n,i,s){var a,u,f,p,h,v,_;s===void 0&&(s=oe.safeDescriptors),nD(t,e,n,i);var S=i.value;if((a=e.options_)!=null&&a.bound){var T;S=S.bind((T=t.proxy_)!=null?T:t.target_)}return{value:_r((u=(f=e.options_)==null?void 0:f.name)!=null?u:n.toString(),S,(p=(h=e.options_)==null?void 0:h.autoAction)!=null?p:!1,(v=e.options_)!=null&&v.bound?(_=t.proxy_)!=null?_:t.target_:void 0),configurable:s?t.isPlainObject_:!0,enumerable:!1,writable:!s}}function mC(t,e){return{annotationType_:t,options_:e,make_:iD,extend_:oD,decorate_20223_:rD}}function iD(t,e,n,i){var s;if(i===t.target_)return this.extend_(t,e,n,!1)===null?0:2;if((s=this.options_)!=null&&s.bound&&(!Vi(t.target_,e)||!El(t.target_[e]))&&this.extend_(t,e,n,!1)===null)return 0;if(El(n.value))return 1;var a=gC(t,this,e,n,!1,!1);return ui(i,e,a),2}function oD(t,e,n,i){var s,a=gC(t,this,e,n,(s=this.options_)==null?void 0:s.bound);return t.defineProperty_(e,a,i)}function rD(t,e){var n,i=e.name,s=e.addInitializer;return El(t)||(t=Bs(t)),(n=this.options_)!=null&&n.bound&&s(function(){var a=this,u=a[i].bind(a);u.isMobXFlow=!0,a[i]=u}),t}function sD(t,e,n,i){e.annotationType_,i.value}function gC(t,e,n,i,s,a){a===void 0&&(a=oe.safeDescriptors),sD(t,e,n,i);var u=i.value;if(El(u)||(u=Bs(u)),s){var f;u=u.bind((f=t.proxy_)!=null?f:t.target_),u.isMobXFlow=!0}return{value:u,configurable:a?t.isPlainObject_:!0,enumerable:!1,writable:!a}}function mg(t,e){return{annotationType_:t,options_:e,make_:aD,extend_:lD,decorate_20223_:uD}}function aD(t,e,n){return this.extend_(t,e,n,!1)===null?0:1}function lD(t,e,n,i){return cD(t,this,e,n),t.defineComputedProperty_(e,vr({},this.options_,{get:n.get,set:n.set}),i)}function uD(t,e){var n=this,i=e.name,s=e.addInitializer;return s(function(){var a=xr(this)[Ee],u=vr({},n.options_,{get:t,context:this});u.name||(u.name="ObservableObject."+i.toString()),a.values_.set(i,new Wn(u))}),function(){return this[Ee].getObservablePropValue_(i)}}function cD(t,e,n,i){e.annotationType_,i.get}function Uf(t,e){return{annotationType_:t,options_:e,make_:fD,extend_:dD,decorate_20223_:hD}}function fD(t,e,n){return this.extend_(t,e,n,!1)===null?0:1}function dD(t,e,n,i){var s,a;return pD(t,this),t.defineObservableProperty_(e,n.value,(s=(a=this.options_)==null?void 0:a.enhancer)!=null?s:yr,i)}function hD(t,e){var n=this,i=e.kind,s=e.name,a=new WeakSet;function u(f,p){var h,v,_=xr(f)[Ee],S=new Do(p,(h=(v=n.options_)==null?void 0:v.enhancer)!=null?h:yr,"ObservableObject."+s.toString(),!1);_.values_.set(s,S),a.add(f)}if(i=="accessor")return{get:function(){return a.has(this)||u(this,t.get.call(this)),this[Ee].getObservablePropValue_(s)},set:function(p){return a.has(this)||u(this,p),this[Ee].setObservablePropValue_(s,p)},init:function(p){return a.has(this)||u(this,p),p}}}function pD(t,e,n,i){e.annotationType_}var mD="true",gD=vC();function vC(t){return{annotationType_:mD,options_:t,make_:vD,extend_:yD,decorate_20223_:_D}}function vD(t,e,n,i){var s,a;if(n.get)return Pf.make_(t,e,n,i);if(n.set){var u=ks(n.set)?n.set:_r(e.toString(),n.set);return i===t.target_?t.defineProperty_(e,{configurable:oe.safeDescriptors?t.isPlainObject_:!0,set:u})===null?0:2:(ui(i,e,{configurable:!0,set:u}),2)}if(i!==t.target_&&typeof n.value=="function"){var f;if(lC(n.value)){var p,h=(p=this.options_)!=null&&p.autoBind?Bs.bound:Bs;return h.make_(t,e,n,i)}var v=(f=this.options_)!=null&&f.autoBind?Sl.bound:Sl;return v.make_(t,e,n,i)}var _=((s=this.options_)==null?void 0:s.deep)===!1?_t.ref:_t;if(typeof n.value=="function"&&(a=this.options_)!=null&&a.autoBind){var S;n.value=n.value.bind((S=t.proxy_)!=null?S:t.target_)}return _.make_(t,e,n,i)}function yD(t,e,n,i){var s,a;if(n.get)return Pf.extend_(t,e,n,i);if(n.set)return t.defineProperty_(e,{configurable:oe.safeDescriptors?t.isPlainObject_:!0,set:_r(e.toString(),n.set)},i);if(typeof n.value=="function"&&(s=this.options_)!=null&&s.autoBind){var u;n.value=n.value.bind((u=t.proxy_)!=null?u:t.target_)}var f=((a=this.options_)==null?void 0:a.deep)===!1?_t.ref:_t;return f.extend_(t,e,n,i)}function _D(t,e){ke("'"+this.annotationType_+"' cannot be used as a decorator")}var SD="observable",ED="observable.ref",TD="observable.shallow",bD="observable.struct",yC={deep:!0,name:void 0,defaultDecorator:void 0,proxy:!0};Object.freeze(yC);function vc(t){return t||yC}var mm=Uf(SD),CD=Uf(ED,{enhancer:Of}),AD=Uf(TD,{enhancer:XI}),wD=Uf(bD,{enhancer:WI}),_C=ci(mm);function yc(t){return t.deep===!0?yr:t.deep===!1?Of:RD(t.defaultDecorator)}function xD(t){var e;return t?(e=t.defaultDecorator)!=null?e:vC(t):void 0}function RD(t){var e,n;return t&&(e=(n=t.options_)==null?void 0:n.enhancer)!=null?e:yr}function SC(t,e,n){if(Ul(e))return mm.decorate_20223_(t,e);if(gr(e)){Ol(t,e,mm);return}return _g(t)?t:zi(t)?_t.object(t,e,n):Array.isArray(t)?_t.array(t,e):qs(t)?_t.map(t,e):Bi(t)?_t.set(t,e):typeof t=="object"&&t!==null?t:_t.box(t,e)}oC(SC,_C);var MD={box:function(e,n){var i=vc(n);return new Do(e,yc(i),i.name,!0,i.equals)},array:function(e,n){var i=vc(n);return(oe.useProxies===!1||i.proxy===!1?w1:g1)(e,yc(i),i.name)},map:function(e,n){var i=vc(n);return new $C(e,yc(i),i.name)},set:function(e,n){var i=vc(n);return new qC(e,yc(i),i.name)},object:function(e,n,i){return Ho(function(){return BC(oe.useProxies===!1||i?.proxy===!1?xr({},i):d1({},i),e,n)})},ref:ci(CD),shallow:ci(AD),deep:_C,struct:ci(wD)},_t=oC(SC,MD),EC="computed",ND="computed.struct",gm=mg(EC),ID=mg(ND,{equals:of.structural}),Pf=function(e,n){if(Ul(n))return gm.decorate_20223_(e,n);if(gr(n))return Ol(e,n,gm);if(zi(e))return ci(mg(EC,e));var i=zi(n)?n:{};return i.get=e,i.name||(i.name=e.name||""),new Wn(i)};Object.assign(Pf,gm);Pf.struct=ci(ID);var PS,LS,rf=0,DD=1,OD=(PS=(LS=nf(function(){},"name"))==null?void 0:LS.configurable)!=null?PS:!1,kS={value:"action",configurable:!0,writable:!1,enumerable:!1};function _r(t,e,n,i){n===void 0&&(n=!1);function s(){return TC(t,n,e,i||this,arguments)}return s.isMobxAction=!0,s.toString=function(){return e.toString()},OD&&(kS.value=t,ui(s,"name",kS)),s}function TC(t,e,n,i,s){var a=UD(t,e);try{return n.apply(i,s)}catch(u){throw a.error_=u,u}finally{PD(a)}}function UD(t,e,n,i){var s=!1,a=0,u=oe.trackingDerivation,f=!e||!u;xn();var p=oe.allowStateChanges;f&&(wr(),p=gg(!0));var h=yg(!0),v={runAsAction_:f,prevDerivation_:u,prevAllowStateChanges_:p,prevAllowStateReads_:h,notifySpy_:s,startTime_:a,actionId_:DD++,parentActionId_:rf};return rf=v.actionId_,v}function PD(t){rf!==t.actionId_&&ke(30),rf=t.parentActionId_,t.error_!==void 0&&(oe.suppressReactionErrors=!0),vg(t.prevAllowStateChanges_),dl(t.prevAllowStateReads_),Rn(),t.runAsAction_&&$i(t.prevDerivation_),oe.suppressReactionErrors=!1}function gg(t){var e=oe.allowStateChanges;return oe.allowStateChanges=t,e}function vg(t){oe.allowStateChanges=t}var Do=(function(t){function e(i,s,a,u,f){var p;return a===void 0&&(a="ObservableValue"),f===void 0&&(f=of.default),p=t.call(this,a)||this,p.enhancer=void 0,p.name_=void 0,p.equals=void 0,p.hasUnreportedChange_=!1,p.interceptors_=void 0,p.changeListeners_=void 0,p.value_=void 0,p.dehancer=void 0,p.enhancer=s,p.name_=a,p.equals=f,p.value_=s(i,void 0,a),p}dC(e,t);var n=e.prototype;return n.dehanceValue=function(s){return this.dehancer!==void 0?this.dehancer(s):s},n.set=function(s){this.value_,s=this.prepareNewValue_(s),s!==oe.UNCHANGED&&this.setNewValue_(s)},n.prepareNewValue_=function(s){if(An(this)){var a=wn(this,{object:this,type:fi,newValue:s});if(!a)return oe.UNCHANGED;s=a.newValue}return s=this.enhancer(s,this.value_,this.name_),this.equals(this.value_,s)?oe.UNCHANGED:s},n.setNewValue_=function(s){var a=this.value_;this.value_=s,this.reportChanged(),Fn(this)&&Jn(this,{type:fi,object:this,newValue:s,oldValue:a})},n.get=function(){return this.reportObserved(),this.dehanceValue(this.value_)},n.intercept_=function(s){return Bl(this,s)},n.observe_=function(s,a){return a&&s({observableKind:"value",debugObjectName:this.name_,object:this,type:fi,newValue:this.value_,oldValue:void 0}),Hl(this,s)},n.raw=function(){return this.value_},n.toJSON=function(){return this.get()},n.toString=function(){return this.name_+"["+this.value_+"]"},n.valueOf=function(){return fC(this.get())},n[Symbol.toPrimitive]=function(){return this.valueOf()},e})(Lo),LD=Po("ObservableValue",Do),Wn=(function(){function t(n){this.dependenciesState_=Ge.NOT_TRACKING_,this.observing_=[],this.newObserving_=null,this.observers_=new Set,this.runId_=0,this.lastAccessedBy_=0,this.lowestObserverState_=Ge.UP_TO_DATE_,this.unboundDepsCount_=0,this.value_=new af(null),this.name_=void 0,this.triggeredBy_=void 0,this.flags_=0,this.derivation=void 0,this.setter_=void 0,this.isTracing_=sf.NONE,this.scope_=void 0,this.equals_=void 0,this.requiresReaction_=void 0,this.keepAlive_=void 0,this.onBOL=void 0,this.onBUOL=void 0,n.get||ke(31),this.derivation=n.get,this.name_=n.name||"ComputedValue",n.set&&(this.setter_=_r("ComputedValue-setter",n.set)),this.equals_=n.equals||(n.compareStructural||n.struct?of.structural:of.default),this.scope_=n.context,this.requiresReaction_=n.requiresReaction,this.keepAlive_=!!n.keepAlive}var e=t.prototype;return e.onBecomeStale_=function(){VD(this)},e.onBO=function(){this.onBOL&&this.onBOL.forEach(function(i){return i()})},e.onBUO=function(){this.onBUOL&&this.onBUOL.forEach(function(i){return i()})},e.get=function(){if(this.isComputing&&ke(32,this.name_,this.derivation),oe.inBatch===0&&this.observers_.size===0&&!this.keepAlive_)vm(this)&&(this.warnAboutUntrackedRead_(),xn(),this.value_=this.computeValue_(!1),Rn());else if(MC(this),vm(this)){var i=oe.trackingContext;this.keepAlive_&&!i&&(oe.trackingContext=this),this.trackAndCompute()&&GD(this),oe.trackingContext=i}var s=this.value_;if(Gc(s))throw s.cause;return s},e.set=function(i){if(this.setter_){this.isRunningSetter&&ke(33,this.name_),this.isRunningSetter=!0;try{this.setter_.call(this.scope_,i)}finally{this.isRunningSetter=!1}}else ke(34,this.name_)},e.trackAndCompute=function(){var i=this.value_,s=this.dependenciesState_===Ge.NOT_TRACKING_,a=this.computeValue_(!0),u=s||Gc(i)||Gc(a)||!this.equals_(i,a);return u&&(this.value_=a),u},e.computeValue_=function(i){this.isComputing=!0;var s=gg(!1),a;if(i)a=bC(this,this.derivation,this.scope_);else if(oe.disableErrorBoundaries===!0)a=this.derivation.call(this.scope_);else try{a=this.derivation.call(this.scope_)}catch(u){a=new af(u)}return vg(s),this.isComputing=!1,a},e.suspend_=function(){this.keepAlive_||(ym(this),this.value_=void 0)},e.observe_=function(i,s){var a=this,u=!0,f=void 0;return WD(function(){var p=a.get();if(!u||s){var h=wr();i({observableKind:"computed",debugObjectName:a.name_,type:fi,object:a,newValue:p,oldValue:f}),$i(h)}u=!1,f=p})},e.warnAboutUntrackedRead_=function(){},e.toString=function(){return this.name_+"["+this.derivation.toString()+"]"},e.valueOf=function(){return fC(this.get())},e[Symbol.toPrimitive]=function(){return this.valueOf()},zs(t,[{key:"isComputing",get:function(){return cn(this.flags_,t.isComputingMask_)},set:function(i){this.flags_=fn(this.flags_,t.isComputingMask_,i)}},{key:"isRunningSetter",get:function(){return cn(this.flags_,t.isRunningSetterMask_)},set:function(i){this.flags_=fn(this.flags_,t.isRunningSetterMask_,i)}},{key:"isBeingObserved",get:function(){return cn(this.flags_,t.isBeingObservedMask_)},set:function(i){this.flags_=fn(this.flags_,t.isBeingObservedMask_,i)}},{key:"isPendingUnobservation",get:function(){return cn(this.flags_,t.isPendingUnobservationMask_)},set:function(i){this.flags_=fn(this.flags_,t.isPendingUnobservationMask_,i)}},{key:"diffValue",get:function(){return cn(this.flags_,t.diffValueMask_)?1:0},set:function(i){this.flags_=fn(this.flags_,t.diffValueMask_,i===1)}}])})();Wn.isComputingMask_=1;Wn.isRunningSetterMask_=2;Wn.isBeingObservedMask_=4;Wn.isPendingUnobservationMask_=8;Wn.diffValueMask_=16;var Ll=Po("ComputedValue",Wn),Ge;(function(t){t[t.NOT_TRACKING_=-1]="NOT_TRACKING_",t[t.UP_TO_DATE_=0]="UP_TO_DATE_",t[t.POSSIBLY_STALE_=1]="POSSIBLY_STALE_",t[t.STALE_=2]="STALE_"})(Ge||(Ge={}));var sf;(function(t){t[t.NONE=0]="NONE",t[t.LOG=1]="LOG",t[t.BREAK=2]="BREAK"})(sf||(sf={}));var af=function(e){this.cause=void 0,this.cause=e};function Gc(t){return t instanceof af}function vm(t){switch(t.dependenciesState_){case Ge.UP_TO_DATE_:return!1;case Ge.NOT_TRACKING_:case Ge.STALE_:return!0;case Ge.POSSIBLY_STALE_:{for(var e=yg(!0),n=wr(),i=t.observing_,s=i.length,a=0;a<s;a++){var u=i[a];if(Ll(u)){if(oe.disableErrorBoundaries)u.get();else try{u.get()}catch{return $i(n),dl(e),!0}if(t.dependenciesState_===Ge.STALE_)return $i(n),dl(e),!0}}return AC(t),$i(n),dl(e),!1}}}function bC(t,e,n){var i=yg(!0);AC(t),t.newObserving_=new Array(t.runId_===0?100:t.observing_.length),t.unboundDepsCount_=0,t.runId_=++oe.runId;var s=oe.trackingDerivation;oe.trackingDerivation=t,oe.inBatch++;var a;if(oe.disableErrorBoundaries===!0)a=e.call(n);else try{a=e.call(n)}catch(u){a=new af(u)}return oe.inBatch--,oe.trackingDerivation=s,kD(t),dl(i),a}function kD(t){for(var e=t.observing_,n=t.observing_=t.newObserving_,i=Ge.UP_TO_DATE_,s=0,a=t.unboundDepsCount_,u=0;u<a;u++){var f=n[u];f.diffValue===0&&(f.diffValue=1,s!==u&&(n[s]=f),s++),f.dependenciesState_>i&&(i=f.dependenciesState_)}for(n.length=s,t.newObserving_=null,a=e.length;a--;){var p=e[a];p.diffValue===0&&xC(p,t),p.diffValue=0}for(;s--;){var h=n[s];h.diffValue===1&&(h.diffValue=0,HD(h,t))}i!==Ge.UP_TO_DATE_&&(t.dependenciesState_=i,t.onBecomeStale_())}function ym(t){var e=t.observing_;t.observing_=[];for(var n=e.length;n--;)xC(e[n],t);t.dependenciesState_=Ge.NOT_TRACKING_}function CC(t){var e=wr();try{return t()}finally{$i(e)}}function wr(){var t=oe.trackingDerivation;return oe.trackingDerivation=null,t}function $i(t){oe.trackingDerivation=t}function yg(t){var e=oe.allowStateReads;return oe.allowStateReads=t,e}function dl(t){oe.allowStateReads=t}function AC(t){if(t.dependenciesState_!==Ge.UP_TO_DATE_){t.dependenciesState_=Ge.UP_TO_DATE_;for(var e=t.observing_,n=e.length;n--;)e[n].lowestObserverState_=Ge.UP_TO_DATE_}}var Vc=function(){this.version=6,this.UNCHANGED={},this.trackingDerivation=null,this.trackingContext=null,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!1,this.allowStateReads=!0,this.enforceActions=!0,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1,this.useProxies=!0,this.verifyProxies=!1,this.safeDescriptors=!0},$c=!0,wC=!1,oe=(function(){var t=If();return t.__mobxInstanceCount>0&&!t.__mobxGlobals&&($c=!1),t.__mobxGlobals&&t.__mobxGlobals.version!==new Vc().version&&($c=!1),$c?t.__mobxGlobals?(t.__mobxInstanceCount+=1,t.__mobxGlobals.UNCHANGED||(t.__mobxGlobals.UNCHANGED={}),t.__mobxGlobals):(t.__mobxInstanceCount=1,t.__mobxGlobals=new Vc):(setTimeout(function(){wC||ke(35)},1),new Vc)})();function BD(){if((oe.pendingReactions.length||oe.inBatch||oe.isRunningReactions)&&ke(36),wC=!0,$c){var t=If();--t.__mobxInstanceCount===0&&(t.__mobxGlobals=void 0),oe=new Vc}}function HD(t,e){t.observers_.add(e),t.lowestObserverState_>e.dependenciesState_&&(t.lowestObserverState_=e.dependenciesState_)}function xC(t,e){t.observers_.delete(e),t.observers_.size===0&&RC(t)}function RC(t){t.isPendingUnobservation===!1&&(t.isPendingUnobservation=!0,oe.pendingUnobservations.push(t))}function xn(){oe.inBatch++}function Rn(){if(--oe.inBatch===0){IC();for(var t=oe.pendingUnobservations,e=0;e<t.length;e++){var n=t[e];n.isPendingUnobservation=!1,n.observers_.size===0&&(n.isBeingObserved&&(n.isBeingObserved=!1,n.onBUO()),n instanceof Wn&&n.suspend_())}oe.pendingUnobservations=[]}}function MC(t){var e=oe.trackingDerivation;return e!==null?(e.runId_!==t.lastAccessedBy_&&(t.lastAccessedBy_=e.runId_,e.newObserving_[e.unboundDepsCount_++]=t,!t.isBeingObserved&&oe.trackingContext&&(t.isBeingObserved=!0,t.onBO())),t.isBeingObserved):(t.observers_.size===0&&oe.inBatch>0&&RC(t),!1)}function NC(t){t.lowestObserverState_!==Ge.STALE_&&(t.lowestObserverState_=Ge.STALE_,t.observers_.forEach(function(e){e.dependenciesState_===Ge.UP_TO_DATE_&&e.onBecomeStale_(),e.dependenciesState_=Ge.STALE_}))}function GD(t){t.lowestObserverState_!==Ge.STALE_&&(t.lowestObserverState_=Ge.STALE_,t.observers_.forEach(function(e){e.dependenciesState_===Ge.POSSIBLY_STALE_?e.dependenciesState_=Ge.STALE_:e.dependenciesState_===Ge.UP_TO_DATE_&&(t.lowestObserverState_=Ge.UP_TO_DATE_)}))}function VD(t){t.lowestObserverState_===Ge.UP_TO_DATE_&&(t.lowestObserverState_=Ge.POSSIBLY_STALE_,t.observers_.forEach(function(e){e.dependenciesState_===Ge.UP_TO_DATE_&&(e.dependenciesState_=Ge.POSSIBLY_STALE_,e.onBecomeStale_())}))}var Fi=(function(){function t(n,i,s,a){n===void 0&&(n="Reaction"),this.name_=void 0,this.onInvalidate_=void 0,this.errorHandler_=void 0,this.requiresObservable_=void 0,this.observing_=[],this.newObserving_=[],this.dependenciesState_=Ge.NOT_TRACKING_,this.runId_=0,this.unboundDepsCount_=0,this.flags_=0,this.isTracing_=sf.NONE,this.name_=n,this.onInvalidate_=i,this.errorHandler_=s,this.requiresObservable_=a}var e=t.prototype;return e.onBecomeStale_=function(){this.schedule_()},e.schedule_=function(){this.isScheduled||(this.isScheduled=!0,oe.pendingReactions.push(this),IC())},e.runReaction_=function(){if(!this.isDisposed){xn(),this.isScheduled=!1;var i=oe.trackingContext;if(oe.trackingContext=this,vm(this)){this.isTrackPending=!0;try{this.onInvalidate_()}catch(s){this.reportExceptionInDerivation_(s)}}oe.trackingContext=i,Rn()}},e.track=function(i){if(!this.isDisposed){xn(),this.isRunning=!0;var s=oe.trackingContext;oe.trackingContext=this;var a=bC(this,i,void 0);oe.trackingContext=s,this.isRunning=!1,this.isTrackPending=!1,this.isDisposed&&ym(this),Gc(a)&&this.reportExceptionInDerivation_(a.cause),Rn()}},e.reportExceptionInDerivation_=function(i){var s=this;if(this.errorHandler_){this.errorHandler_(i,this);return}if(oe.disableErrorBoundaries)throw i;var a="[mobx] uncaught error in '"+this+"'";oe.suppressReactionErrors||console.error(a,i),oe.globalReactionErrorHandlers.forEach(function(u){return u(i,s)})},e.dispose=function(){this.isDisposed||(this.isDisposed=!0,this.isRunning||(xn(),ym(this),Rn()))},e.getDisposer_=function(i){var s=this,a=function u(){s.dispose(),i==null||i.removeEventListener==null||i.removeEventListener("abort",u)};return i==null||i.addEventListener==null||i.addEventListener("abort",a),a[Ee]=this,"dispose"in Symbol&&typeof Symbol.dispose=="symbol"&&(a[Symbol.dispose]=a),a},e.toString=function(){return"Reaction["+this.name_+"]"},e.trace=function(i){},zs(t,[{key:"isDisposed",get:function(){return cn(this.flags_,t.isDisposedMask_)},set:function(i){this.flags_=fn(this.flags_,t.isDisposedMask_,i)}},{key:"isScheduled",get:function(){return cn(this.flags_,t.isScheduledMask_)},set:function(i){this.flags_=fn(this.flags_,t.isScheduledMask_,i)}},{key:"isTrackPending",get:function(){return cn(this.flags_,t.isTrackPendingMask_)},set:function(i){this.flags_=fn(this.flags_,t.isTrackPendingMask_,i)}},{key:"isRunning",get:function(){return cn(this.flags_,t.isRunningMask_)},set:function(i){this.flags_=fn(this.flags_,t.isRunningMask_,i)}},{key:"diffValue",get:function(){return cn(this.flags_,t.diffValueMask_)?1:0},set:function(i){this.flags_=fn(this.flags_,t.diffValueMask_,i===1)}}])})();Fi.isDisposedMask_=1;Fi.isScheduledMask_=2;Fi.isTrackPendingMask_=4;Fi.isRunningMask_=8;Fi.diffValueMask_=16;var $D=100,_m=function(e){return e()};function IC(){oe.inBatch>0||oe.isRunningReactions||_m(qD)}function qD(){oe.isRunningReactions=!0;for(var t=oe.pendingReactions,e=0;t.length>0;){++e===$D&&(console.error("[mobx] cycle in reaction: "+t[0]),t.splice(0));for(var n=t.splice(0),i=0,s=n.length;i<s;i++)n[i].runReaction_()}oe.isRunningReactions=!1}var lf=Po("Reaction",Fi);function zD(t){var e=_m;_m=function(i){return t(function(){return e(i)})}}function hl(){return!1}function FD(t){return console.warn("[mobx.spy] Is a no-op in production builds"),function(){}}var DC="action",JD="action.bound",OC="autoAction",YD="autoAction.bound",UC="<unnamed action>",Sm=Pl(DC),KD=Pl(JD,{bound:!0}),Em=Pl(OC,{autoAction:!0}),XD=Pl(YD,{autoAction:!0,bound:!0});function PC(t){var e=function(i,s){if(Xn(i))return _r(i.name||UC,i,t);if(Xn(s))return _r(i,s,t);if(Ul(s))return(t?Em:Sm).decorate_20223_(i,s);if(gr(s))return Ol(i,s,t?Em:Sm);if(gr(i))return ci(Pl(t?OC:DC,{name:i,autoAction:t}))};return e}var Rs=PC(!1);Object.assign(Rs,Sm);var Sl=PC(!0);Object.assign(Sl,Em);Rs.bound=ci(KD);Sl.bound=ci(XD);function nt(t){return TC(t.name||UC,!1,t,this,void 0)}function ks(t){return Xn(t)&&t.isMobxAction===!0}function WD(t,e){var n,i,s,a;e===void 0&&(e=rC);var u=(n=(i=e)==null?void 0:i.name)!=null?n:"Autorun",f=!e.scheduler&&!e.delay,p;if(f)p=new Fi(u,function(){this.track(_)},e.onError,e.requiresObservable);else{var h=ZD(e),v=!1;p=new Fi(u,function(){v||(v=!0,h(function(){v=!1,p.isDisposed||p.track(_)}))},e.onError,e.requiresObservable)}function _(){t(p)}return(s=e)!=null&&(s=s.signal)!=null&&s.aborted||p.schedule_(),p.getDisposer_((a=e)==null?void 0:a.signal)}var QD=function(e){return e()};function ZD(t){return t.scheduler?t.scheduler:t.delay?function(e){return setTimeout(e,t.delay)}:QD}var jD="onBO",e1="onBUO";function t1(t,e,n){return kC(jD,t,e,n)}function LC(t,e,n){return kC(e1,t,e,n)}function kC(t,e,n,i){var s=ff(e),a=Xn(i)?i:n,u=t+"L";return s[u]?s[u].add(a):s[u]=new Set([a]),function(){var f=s[u];f&&(f.delete(a),f.size===0&&delete s[u])}}var n1="never",_c="always",i1="observed";function o1(t){t.isolateGlobalState===!0&&BD();var e=t.useProxies,n=t.enforceActions;if(e!==void 0&&(oe.useProxies=e===_c?!0:e===n1?!1:typeof Proxy<"u"),e==="ifavailable"&&(oe.verifyProxies=!0),n!==void 0){var i=n===_c?_c:n===i1;oe.enforceActions=i,oe.allowStateChanges=!(i===!0||i===_c)}["computedRequiresReaction","reactionRequiresObservable","observableRequiresReaction","disableErrorBoundaries","safeDescriptors"].forEach(function(s){s in t&&(oe[s]=!!t[s])}),oe.allowStateReads=!oe.observableRequiresReaction,t.reactionScheduler&&zD(t.reactionScheduler)}function BC(t,e,n,i){var s=VI(e);return Ho(function(){var a=xr(t,i)[Ee];Ls(s).forEach(function(u){a.extend_(u,s[u],n&&u in n?n[u]:!0)})}),t}function r1(t,e){return HC(ff(t,e))}function HC(t){var e={name:t.name_};return t.observing_&&t.observing_.length>0&&(e.dependencies=s1(t.observing_).map(HC)),e}function s1(t){return Array.from(new Set(t))}var a1=0;function GC(){this.message="FLOW_CANCELLED"}GC.prototype=Object.create(Error.prototype);var Rp=mC("flow"),l1=mC("flow.bound",{bound:!0}),Bs=Object.assign(function(e,n){if(Ul(n))return Rp.decorate_20223_(e,n);if(gr(n))return Ol(e,n,Rp);var i=e,s=i.name||"<unnamed flow>",a=function(){var f=this,p=arguments,h=++a1,v=Rs(s+" - runid: "+h+" - init",i).apply(f,p),_,S=void 0,T=new Promise(function(b,A){var x=0;_=A;function I(P){S=void 0;var z;try{z=Rs(s+" - runid: "+h+" - yield "+x++,v.next).call(v,P)}catch(G){return A(G)}N(z)}function D(P){S=void 0;var z;try{z=Rs(s+" - runid: "+h+" - yield "+x++,v.throw).call(v,P)}catch(G){return A(G)}N(z)}function N(P){if(Xn(P?.then)){P.then(N,A);return}return P.done?b(P.value):(S=Promise.resolve(P.value),S.then(I,D))}I(void 0)});return T.cancel=Rs(s+" - runid: "+h+" - cancel",function(){try{S&&BS(S);var b=v.return(void 0),A=Promise.resolve(b.value);A.then(ws,ws),BS(A),_(new GC)}catch(x){_(x)}}),T};return a.isMobXFlow=!0,a},Rp);Bs.bound=ci(l1);function BS(t){Xn(t.cancel)&&t.cancel()}function El(t){return t?.isMobXFlow===!0}function u1(t,e){return t?Vl(t)||!!t[Ee]||pg(t)||lf(t)||Ll(t):!1}function _g(t){return u1(t)}function c1(t){if(Vl(t))return t[Ee].ownKeys_();ke(38)}function Sc(t,e,n){return t.set(e,n),n}function Es(t,e){if(t==null||typeof t!="object"||t instanceof Date||!_g(t))return t;if(LD(t)||Ll(t))return Es(t.get(),e);if(e.has(t))return e.get(t);if(Gl(t)){var n=Sc(e,t,new Array(t.length));return t.forEach(function(u,f){n[f]=Es(u,e)}),n}if(qn(t)){var i=Sc(e,t,new Set);return t.forEach(function(u){i.add(Es(u,e))}),i}if(Bo(t)){var s=Sc(e,t,new Map);return t.forEach(function(u,f){s.set(f,Es(u,e))}),s}else{var a=Sc(e,t,{});return c1(t).forEach(function(u){Il.propertyIsEnumerable.call(t,u)&&(a[u]=Es(t[u],e))}),a}}function kl(t,e){return Es(t,new Map)}function Hi(t,e){e===void 0&&(e=void 0),xn();try{return t.apply(e)}finally{Rn()}}function ps(t){return t[Ee]}var f1={has:function(e,n){return ps(e).has_(n)},get:function(e,n){return ps(e).get_(n)},set:function(e,n,i){var s;return gr(n)?(s=ps(e).set_(n,i,!0))!=null?s:!0:!1},deleteProperty:function(e,n){var i;return gr(n)?(i=ps(e).delete_(n,!0))!=null?i:!0:!1},defineProperty:function(e,n,i){var s;return(s=ps(e).defineProperty_(n,i))!=null?s:!0},ownKeys:function(e){return ps(e).ownKeys_()},preventExtensions:function(e){ke(13)}};function d1(t,e){var n,i;return sC(),t=xr(t,e),(i=(n=t[Ee]).proxy_)!=null?i:n.proxy_=new Proxy(t,f1)}function An(t){return t.interceptors_!==void 0&&t.interceptors_.length>0}function Bl(t,e){var n=t.interceptors_||(t.interceptors_=[]);return n.push(e),aC(function(){var i=n.indexOf(e);i!==-1&&n.splice(i,1)})}function wn(t,e){var n=wr();try{for(var i=[].concat(t.interceptors_||[]),s=0,a=i.length;s<a&&(e=i[s](e),e&&!e.type&&ke(14),!!e);s++);return e}finally{$i(n)}}function Fn(t){return t.changeListeners_!==void 0&&t.changeListeners_.length>0}function Hl(t,e){var n=t.changeListeners_||(t.changeListeners_=[]);return n.push(e),aC(function(){var i=n.indexOf(e);i!==-1&&n.splice(i,1)})}function Jn(t,e){var n=wr(),i=t.changeListeners_;if(i){i=i.slice();for(var s=0,a=i.length;s<a;s++)i[s](e);$i(n)}}function h1(t,e,n){return Ho(function(){var i,s=xr(t,n)[Ee];(i=e)!=null||(e=JI(t)),Ls(e).forEach(function(a){return s.make_(a,e[a])})}),t}var Mp=Symbol("mobx-keys");function ko(t,e,n){return zi(t)?BC(t,t,e,n):(Ho(function(){var i=xr(t,n)[Ee];if(!t[Mp]){var s=Object.getPrototypeOf(t),a=new Set([].concat(Ls(t),Ls(s)));a.delete("constructor"),a.delete(Ee),Dl(s,Mp,a)}t[Mp].forEach(function(u){return i.make_(u,e&&u in e?e[u]:!0)})}),t)}var HS="splice",fi="update",p1=1e4,m1={get:function(e,n){var i=e[Ee];return n===Ee?i:n==="length"?i.getArrayLength_():typeof n=="string"&&!isNaN(n)?i.get_(parseInt(n)):Vi(uf,n)?uf[n]:e[n]},set:function(e,n,i){var s=e[Ee];return n==="length"&&s.setArrayLength_(i),typeof n=="symbol"||isNaN(n)?e[n]=i:s.set_(parseInt(n),i),!0},preventExtensions:function(){ke(15)}},Sg=(function(){function t(n,i,s,a){n===void 0&&(n="ObservableArray"),this.owned_=void 0,this.legacyMode_=void 0,this.atom_=void 0,this.values_=[],this.interceptors_=void 0,this.changeListeners_=void 0,this.enhancer_=void 0,this.dehancer=void 0,this.proxy_=void 0,this.lastKnownLength_=0,this.owned_=s,this.legacyMode_=a,this.atom_=new Lo(n),this.enhancer_=function(u,f){return i(u,f,"ObservableArray[..]")}}var e=t.prototype;return e.dehanceValue_=function(i){return this.dehancer!==void 0?this.dehancer(i):i},e.dehanceValues_=function(i){return this.dehancer!==void 0&&i.length>0?i.map(this.dehancer):i},e.intercept_=function(i){return Bl(this,i)},e.observe_=function(i,s){return s===void 0&&(s=!1),s&&i({observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:"splice",index:0,added:this.values_.slice(),addedCount:this.values_.length,removed:[],removedCount:0}),Hl(this,i)},e.getArrayLength_=function(){return this.atom_.reportObserved(),this.values_.length},e.setArrayLength_=function(i){(typeof i!="number"||isNaN(i)||i<0)&&ke("Out of range: "+i);var s=this.values_.length;if(i!==s)if(i>s){for(var a=new Array(i-s),u=0;u<i-s;u++)a[u]=void 0;this.spliceWithArray_(s,0,a)}else this.spliceWithArray_(i,s-i)},e.updateArrayLength_=function(i,s){i!==this.lastKnownLength_&&ke(16),this.lastKnownLength_+=s,this.legacyMode_&&s>0&&YC(i+s+1)},e.spliceWithArray_=function(i,s,a){var u=this;this.atom_;var f=this.values_.length;if(i===void 0?i=0:i>f?i=f:i<0&&(i=Math.max(0,f+i)),arguments.length===1?s=f-i:s==null?s=0:s=Math.max(0,Math.min(s,f-i)),a===void 0&&(a=hm),An(this)){var p=wn(this,{object:this.proxy_,type:HS,index:i,removedCount:s,added:a});if(!p)return hm;s=p.removedCount,a=p.added}if(a=a.length===0?a:a.map(function(_){return u.enhancer_(_,void 0)}),this.legacyMode_){var h=a.length-s;this.updateArrayLength_(f,h)}var v=this.spliceItemsIntoValues_(i,s,a);return(s!==0||a.length!==0)&&this.notifyArraySplice_(i,a,v),this.dehanceValues_(v)},e.spliceItemsIntoValues_=function(i,s,a){if(a.length<p1){var u;return(u=this.values_).splice.apply(u,[i,s].concat(a))}else{var f=this.values_.slice(i,i+s),p=this.values_.slice(i+s);this.values_.length+=a.length-s;for(var h=0;h<a.length;h++)this.values_[i+h]=a[h];for(var v=0;v<p.length;v++)this.values_[i+a.length+v]=p[v];return f}},e.notifyArrayChildUpdate_=function(i,s,a){var u=!this.owned_&&hl(),f=Fn(this),p=f||u?{observableKind:"array",object:this.proxy_,type:fi,debugObjectName:this.atom_.name_,index:i,newValue:s,oldValue:a}:null;this.atom_.reportChanged(),f&&Jn(this,p)},e.notifyArraySplice_=function(i,s,a){var u=!this.owned_&&hl(),f=Fn(this),p=f||u?{observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:HS,index:i,removed:a,added:s,removedCount:a.length,addedCount:s.length}:null;this.atom_.reportChanged(),f&&Jn(this,p)},e.get_=function(i){if(this.legacyMode_&&i>=this.values_.length){console.warn("[mobx] Out of bounds read: "+i);return}return this.atom_.reportObserved(),this.dehanceValue_(this.values_[i])},e.set_=function(i,s){var a=this.values_;if(this.legacyMode_&&i>a.length&&ke(17,i,a.length),i<a.length){this.atom_;var u=a[i];if(An(this)){var f=wn(this,{type:fi,object:this.proxy_,index:i,newValue:s});if(!f)return;s=f.newValue}s=this.enhancer_(s,u);var p=s!==u;p&&(a[i]=s,this.notifyArrayChildUpdate_(i,s,u))}else{for(var h=new Array(i+1-a.length),v=0;v<h.length-1;v++)h[v]=void 0;h[h.length-1]=s,this.spliceWithArray_(a.length,0,h)}},t})();function g1(t,e,n,i){return n===void 0&&(n="ObservableArray"),i===void 0&&(i=!1),sC(),Ho(function(){var s=new Sg(n,e,i,!1);uC(s.values_,Ee,s);var a=new Proxy(s.values_,m1);return s.proxy_=a,t&&t.length&&s.spliceWithArray_(0,0,t),a})}var uf={clear:function(){return this.splice(0)},replace:function(e){var n=this[Ee];return n.spliceWithArray_(0,n.values_.length,e)},toJSON:function(){return this.slice()},splice:function(e,n){for(var i=arguments.length,s=new Array(i>2?i-2:0),a=2;a<i;a++)s[a-2]=arguments[a];var u=this[Ee];switch(arguments.length){case 0:return[];case 1:return u.spliceWithArray_(e);case 2:return u.spliceWithArray_(e,n)}return u.spliceWithArray_(e,n,s)},spliceWithArray:function(e,n,i){return this[Ee].spliceWithArray_(e,n,i)},push:function(){for(var e=this[Ee],n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return e.spliceWithArray_(e.values_.length,0,i),e.values_.length},pop:function(){return this.splice(Math.max(this[Ee].values_.length-1,0),1)[0]},shift:function(){return this.splice(0,1)[0]},unshift:function(){for(var e=this[Ee],n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return e.spliceWithArray_(0,0,i),e.values_.length},reverse:function(){return oe.trackingDerivation&&ke(37,"reverse"),this.replace(this.slice().reverse()),this},sort:function(){oe.trackingDerivation&&ke(37,"sort");var e=this.slice();return e.sort.apply(e,arguments),this.replace(e),this},remove:function(e){var n=this[Ee],i=n.dehanceValues_(n.values_).indexOf(e);return i>-1?(this.splice(i,1),!0):!1}};Qe("at",hn);Qe("concat",hn);Qe("flat",hn);Qe("includes",hn);Qe("indexOf",hn);Qe("join",hn);Qe("lastIndexOf",hn);Qe("slice",hn);Qe("toString",hn);Qe("toLocaleString",hn);Qe("toSorted",hn);Qe("toSpliced",hn);Qe("with",hn);Qe("every",Qn);Qe("filter",Qn);Qe("find",Qn);Qe("findIndex",Qn);Qe("findLast",Qn);Qe("findLastIndex",Qn);Qe("flatMap",Qn);Qe("forEach",Qn);Qe("map",Qn);Qe("some",Qn);Qe("toReversed",Qn);Qe("reduce",VC);Qe("reduceRight",VC);function Qe(t,e){typeof Array.prototype[t]=="function"&&(uf[t]=e(t))}function hn(t){return function(){var e=this[Ee];e.atom_.reportObserved();var n=e.dehanceValues_(e.values_);return n[t].apply(n,arguments)}}function Qn(t){return function(e,n){var i=this,s=this[Ee];s.atom_.reportObserved();var a=s.dehanceValues_(s.values_);return a[t](function(u,f){return e.call(n,u,f,i)})}}function VC(t){return function(){var e=this,n=this[Ee];n.atom_.reportObserved();var i=n.dehanceValues_(n.values_),s=arguments[0];return arguments[0]=function(a,u,f){return s(a,u,f,e)},i[t].apply(i,arguments)}}var v1=Po("ObservableArrayAdministration",Sg);function Gl(t){return Df(t)&&v1(t[Ee])}var y1={},Mo="add",cf="delete",$C=(function(){function t(n,i,s){var a=this;i===void 0&&(i=yr),s===void 0&&(s="ObservableMap"),this.enhancer_=void 0,this.name_=void 0,this[Ee]=y1,this.data_=void 0,this.hasMap_=void 0,this.keysAtom_=void 0,this.interceptors_=void 0,this.changeListeners_=void 0,this.dehancer=void 0,this.enhancer_=i,this.name_=s,Xn(Map)||ke(18),Ho(function(){a.keysAtom_=hC("ObservableMap.keys()"),a.data_=new Map,a.hasMap_=new Map,n&&a.merge(n)})}var e=t.prototype;return e.has_=function(i){return this.data_.has(i)},e.has=function(i){var s=this;if(!oe.trackingDerivation)return this.has_(i);var a=this.hasMap_.get(i);if(!a){var u=a=new Do(this.has_(i),Of,"ObservableMap.key?",!1);this.hasMap_.set(i,u),LC(u,function(){return s.hasMap_.delete(i)})}return a.get()},e.set=function(i,s){var a=this.has_(i);if(An(this)){var u=wn(this,{type:a?fi:Mo,object:this,newValue:s,name:i});if(!u)return this;s=u.newValue}return a?this.updateValue_(i,s):this.addValue_(i,s),this},e.delete=function(i){var s=this;if(this.keysAtom_,An(this)){var a=wn(this,{type:cf,object:this,name:i});if(!a)return!1}if(this.has_(i)){var u=hl(),f=Fn(this),p=f||u?{observableKind:"map",debugObjectName:this.name_,type:cf,object:this,oldValue:this.data_.get(i).value_,name:i}:null;return Hi(function(){var h;s.keysAtom_.reportChanged(),(h=s.hasMap_.get(i))==null||h.setNewValue_(!1);var v=s.data_.get(i);v.setNewValue_(void 0),s.data_.delete(i)}),f&&Jn(this,p),!0}return!1},e.updateValue_=function(i,s){var a=this.data_.get(i);if(s=a.prepareNewValue_(s),s!==oe.UNCHANGED){var u=hl(),f=Fn(this),p=f||u?{observableKind:"map",debugObjectName:this.name_,type:fi,object:this,oldValue:a.value_,name:i,newValue:s}:null;a.setNewValue_(s),f&&Jn(this,p)}},e.addValue_=function(i,s){var a=this;this.keysAtom_,Hi(function(){var h,v=new Do(s,a.enhancer_,"ObservableMap.key",!1);a.data_.set(i,v),s=v.value_,(h=a.hasMap_.get(i))==null||h.setNewValue_(!0),a.keysAtom_.reportChanged()});var u=hl(),f=Fn(this),p=f||u?{observableKind:"map",debugObjectName:this.name_,type:Mo,object:this,name:i,newValue:s}:null;f&&Jn(this,p)},e.get=function(i){return this.has(i)?this.dehanceValue_(this.data_.get(i).get()):this.dehanceValue_(void 0)},e.dehanceValue_=function(i){return this.dehancer!==void 0?this.dehancer(i):i},e.keys=function(){return this.keysAtom_.reportObserved(),this.data_.keys()},e.values=function(){var i=this,s=this.keys();return GS({next:function(){var u=s.next(),f=u.done,p=u.value;return{done:f,value:f?void 0:i.get(p)}}})},e.entries=function(){var i=this,s=this.keys();return GS({next:function(){var u=s.next(),f=u.done,p=u.value;return{done:f,value:f?void 0:[p,i.get(p)]}}})},e[Symbol.iterator]=function(){return this.entries()},e.forEach=function(i,s){for(var a=xs(this),u;!(u=a()).done;){var f=u.value,p=f[0],h=f[1];i.call(s,h,p,this)}},e.merge=function(i){var s=this;return Bo(i)&&(i=new Map(i)),Hi(function(){zi(i)?GI(i).forEach(function(a){return s.set(a,i[a])}):Array.isArray(i)?i.forEach(function(a){var u=a[0],f=a[1];return s.set(u,f)}):qs(i)?(HI(i)||ke(19,i),i.forEach(function(a,u){return s.set(u,a)})):i!=null&&ke(20,i)}),this},e.clear=function(){var i=this;Hi(function(){CC(function(){for(var s=xs(i.keys()),a;!(a=s()).done;){var u=a.value;i.delete(u)}})})},e.replace=function(i){var s=this;return Hi(function(){for(var a=_1(i),u=new Map,f=!1,p=xs(s.data_.keys()),h;!(h=p()).done;){var v=h.value;if(!a.has(v)){var _=s.delete(v);if(_)f=!0;else{var S=s.data_.get(v);u.set(v,S)}}}for(var T=xs(a.entries()),b;!(b=T()).done;){var A=b.value,x=A[0],I=A[1],D=s.data_.has(x);if(s.set(x,I),s.data_.has(x)){var N=s.data_.get(x);u.set(x,N),D||(f=!0)}}if(!f)if(s.data_.size!==u.size)s.keysAtom_.reportChanged();else for(var P=s.data_.keys(),z=u.keys(),G=P.next(),B=z.next();!G.done;){if(G.value!==B.value){s.keysAtom_.reportChanged();break}G=P.next(),B=z.next()}s.data_=u}),this},e.toString=function(){return"[object ObservableMap]"},e.toJSON=function(){return Array.from(this)},e.observe_=function(i,s){return Hl(this,i)},e.intercept_=function(i){return Bl(this,i)},zs(t,[{key:"size",get:function(){return this.keysAtom_.reportObserved(),this.data_.size}},{key:Symbol.toStringTag,get:function(){return"Map"}}])})(),Bo=Po("ObservableMap",$C);function GS(t){return t[Symbol.toStringTag]="MapIterator",Tg(t)}function _1(t){if(qs(t)||Bo(t))return t;if(Array.isArray(t))return new Map(t);if(zi(t)){var e=new Map;for(var n in t)e.set(n,t[n]);return e}else return ke(21,t)}var S1={},qC=(function(){function t(n,i,s){var a=this;i===void 0&&(i=yr),s===void 0&&(s="ObservableSet"),this.name_=void 0,this[Ee]=S1,this.data_=new Set,this.atom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.dehancer=void 0,this.enhancer_=void 0,this.name_=s,Xn(Set)||ke(22),this.enhancer_=function(u,f){return i(u,f,s)},Ho(function(){a.atom_=hC(a.name_),n&&a.replace(n)})}var e=t.prototype;return e.dehanceValue_=function(i){return this.dehancer!==void 0?this.dehancer(i):i},e.clear=function(){var i=this;Hi(function(){CC(function(){for(var s=xs(i.data_.values()),a;!(a=s()).done;){var u=a.value;i.delete(u)}})})},e.forEach=function(i,s){for(var a=xs(this),u;!(u=a()).done;){var f=u.value;i.call(s,f,f,this)}},e.add=function(i){var s=this;if(this.atom_,An(this)){var a=wn(this,{type:Mo,object:this,newValue:i});if(!a)return this;i=a.newValue}if(!this.has(i)){Hi(function(){s.data_.add(s.enhancer_(i,void 0)),s.atom_.reportChanged()});var u=!1,f=Fn(this),p=f||u?{observableKind:"set",debugObjectName:this.name_,type:Mo,object:this,newValue:i}:null;f&&Jn(this,p)}return this},e.delete=function(i){var s=this;if(An(this)){var a=wn(this,{type:cf,object:this,oldValue:i});if(!a)return!1}if(this.has(i)){var u=!1,f=Fn(this),p=f||u?{observableKind:"set",debugObjectName:this.name_,type:cf,object:this,oldValue:i}:null;return Hi(function(){s.atom_.reportChanged(),s.data_.delete(i)}),f&&Jn(this,p),!0}return!1},e.has=function(i){return this.atom_.reportObserved(),this.data_.has(this.dehanceValue_(i))},e.entries=function(){var i=this.values();return VS({next:function(){var a=i.next(),u=a.value,f=a.done;return f?{value:void 0,done:f}:{value:[u,u],done:f}}})},e.keys=function(){return this.values()},e.values=function(){this.atom_.reportObserved();var i=this,s=this.data_.values();return VS({next:function(){var u=s.next(),f=u.value,p=u.done;return p?{value:void 0,done:p}:{value:i.dehanceValue_(f),done:p}}})},e.intersection=function(i){if(Bi(i)&&!qn(i))return i.intersection(this);var s=new Set(this);return s.intersection(i)},e.union=function(i){if(Bi(i)&&!qn(i))return i.union(this);var s=new Set(this);return s.union(i)},e.difference=function(i){return new Set(this).difference(i)},e.symmetricDifference=function(i){if(Bi(i)&&!qn(i))return i.symmetricDifference(this);var s=new Set(this);return s.symmetricDifference(i)},e.isSubsetOf=function(i){return new Set(this).isSubsetOf(i)},e.isSupersetOf=function(i){return new Set(this).isSupersetOf(i)},e.isDisjointFrom=function(i){if(Bi(i)&&!qn(i))return i.isDisjointFrom(this);var s=new Set(this);return s.isDisjointFrom(i)},e.replace=function(i){var s=this;return qn(i)&&(i=new Set(i)),Hi(function(){Array.isArray(i)?(s.clear(),i.forEach(function(a){return s.add(a)})):Bi(i)?(s.clear(),i.forEach(function(a){return s.add(a)})):i!=null&&ke("Cannot initialize set from "+i)}),this},e.observe_=function(i,s){return Hl(this,i)},e.intercept_=function(i){return Bl(this,i)},e.toJSON=function(){return Array.from(this)},e.toString=function(){return"[object ObservableSet]"},e[Symbol.iterator]=function(){return this.values()},zs(t,[{key:"size",get:function(){return this.atom_.reportObserved(),this.data_.size}},{key:Symbol.toStringTag,get:function(){return"Set"}}])})(),qn=Po("ObservableSet",qC);function VS(t){return t[Symbol.toStringTag]="SetIterator",Tg(t)}var $S=Object.create(null),qS="remove",zC=(function(){function t(n,i,s,a){i===void 0&&(i=new Map),a===void 0&&(a=gD),this.target_=void 0,this.values_=void 0,this.name_=void 0,this.defaultAnnotation_=void 0,this.keysAtom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.proxy_=void 0,this.isPlainObject_=void 0,this.appliedAnnotations_=void 0,this.pendingKeys_=void 0,this.target_=n,this.values_=i,this.name_=s,this.defaultAnnotation_=a,this.keysAtom_=new Lo("ObservableObject.keys"),this.isPlainObject_=zi(this.target_)}var e=t.prototype;return e.getObservablePropValue_=function(i){return this.values_.get(i).get()},e.setObservablePropValue_=function(i,s){var a=this.values_.get(i);if(a instanceof Wn)return a.set(s),!0;if(An(this)){var u=wn(this,{type:fi,object:this.proxy_||this.target_,name:i,newValue:s});if(!u)return null;s=u.newValue}if(s=a.prepareNewValue_(s),s!==oe.UNCHANGED){var f=Fn(this),p=!1,h=f||p?{type:fi,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,oldValue:a.value_,name:i,newValue:s}:null;a.setNewValue_(s),f&&Jn(this,h)}return!0},e.get_=function(i){return oe.trackingDerivation&&!Vi(this.target_,i)&&this.has_(i),this.target_[i]},e.set_=function(i,s,a){return a===void 0&&(a=!1),Vi(this.target_,i)?this.values_.has(i)?this.setObservablePropValue_(i,s):a?Reflect.set(this.target_,i,s):(this.target_[i]=s,!0):this.extend_(i,{value:s,enumerable:!0,writable:!0,configurable:!0},this.defaultAnnotation_,a)},e.has_=function(i){if(!oe.trackingDerivation)return i in this.target_;this.pendingKeys_||(this.pendingKeys_=new Map);var s=this.pendingKeys_.get(i);return s||(s=new Do(i in this.target_,Of,"ObservableObject.key?",!1),this.pendingKeys_.set(i,s)),s.get()},e.make_=function(i,s){if(s===!0&&(s=this.defaultAnnotation_),s!==!1){if(!(i in this.target_)){var a;if((a=this.target_[ai])!=null&&a[i])return;ke(1,s.annotationType_,this.name_+"."+i.toString())}for(var u=this.target_;u&&u!==Il;){var f=nf(u,i);if(f){var p=s.make_(this,i,f,u);if(p===0)return;if(p===1)break}u=Object.getPrototypeOf(u)}FS(this,s,i)}},e.extend_=function(i,s,a,u){if(u===void 0&&(u=!1),a===!0&&(a=this.defaultAnnotation_),a===!1)return this.defineProperty_(i,s,u);var f=a.extend_(this,i,s,u);return f&&FS(this,a,i),f},e.defineProperty_=function(i,s,a){a===void 0&&(a=!1),this.keysAtom_;try{xn();var u=this.delete_(i);if(!u)return u;if(An(this)){var f=wn(this,{object:this.proxy_||this.target_,name:i,type:Mo,newValue:s.value});if(!f)return null;var p=f.newValue;s.value!==p&&(s=vr({},s,{value:p}))}if(a){if(!Reflect.defineProperty(this.target_,i,s))return!1}else ui(this.target_,i,s);this.notifyPropertyAddition_(i,s.value)}finally{Rn()}return!0},e.defineObservableProperty_=function(i,s,a,u){u===void 0&&(u=!1),this.keysAtom_;try{xn();var f=this.delete_(i);if(!f)return f;if(An(this)){var p=wn(this,{object:this.proxy_||this.target_,name:i,type:Mo,newValue:s});if(!p)return null;s=p.newValue}var h=zS(i),v={configurable:oe.safeDescriptors?this.isPlainObject_:!0,enumerable:!0,get:h.get,set:h.set};if(u){if(!Reflect.defineProperty(this.target_,i,v))return!1}else ui(this.target_,i,v);var _=new Do(s,a,"ObservableObject.key",!1);this.values_.set(i,_),this.notifyPropertyAddition_(i,_.value_)}finally{Rn()}return!0},e.defineComputedProperty_=function(i,s,a){a===void 0&&(a=!1),this.keysAtom_;try{xn();var u=this.delete_(i);if(!u)return u;if(An(this)){var f=wn(this,{object:this.proxy_||this.target_,name:i,type:Mo,newValue:void 0});if(!f)return null}s.name||(s.name="ObservableObject.key"),s.context=this.proxy_||this.target_;var p=zS(i),h={configurable:oe.safeDescriptors?this.isPlainObject_:!0,enumerable:!1,get:p.get,set:p.set};if(a){if(!Reflect.defineProperty(this.target_,i,h))return!1}else ui(this.target_,i,h);this.values_.set(i,new Wn(s)),this.notifyPropertyAddition_(i,void 0)}finally{Rn()}return!0},e.delete_=function(i,s){if(s===void 0&&(s=!1),this.keysAtom_,!Vi(this.target_,i))return!0;if(An(this)){var a=wn(this,{object:this.proxy_||this.target_,name:i,type:qS});if(!a)return null}try{var u;xn();var f=Fn(this),p=!1,h=this.values_.get(i),v=void 0;if(!h&&(f||p)){var _;v=(_=nf(this.target_,i))==null?void 0:_.value}if(s){if(!Reflect.deleteProperty(this.target_,i))return!1}else delete this.target_[i];if(h&&(this.values_.delete(i),h instanceof Do&&(v=h.value_),NC(h)),this.keysAtom_.reportChanged(),(u=this.pendingKeys_)==null||(u=u.get(i))==null||u.set(i in this.target_),f||p){var S={type:qS,observableKind:"object",object:this.proxy_||this.target_,debugObjectName:this.name_,oldValue:v,name:i};f&&Jn(this,S)}}finally{Rn()}return!0},e.observe_=function(i,s){return Hl(this,i)},e.intercept_=function(i){return Bl(this,i)},e.notifyPropertyAddition_=function(i,s){var a,u=Fn(this),f=!1;if(u||f){var p=u||f?{type:Mo,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,name:i,newValue:s}:null;u&&Jn(this,p)}(a=this.pendingKeys_)==null||(a=a.get(i))==null||a.set(!0),this.keysAtom_.reportChanged()},e.ownKeys_=function(){return this.keysAtom_.reportObserved(),Ls(this.target_)},e.keys_=function(){return this.keysAtom_.reportObserved(),Object.keys(this.target_)},t})();function xr(t,e){var n;if(Vi(t,Ee))return t;var i=(n=e?.name)!=null?n:"ObservableObject",s=new zC(t,new Map,String(i),xD(e));return Dl(t,Ee,s),t}var E1=Po("ObservableObjectAdministration",zC);function zS(t){return $S[t]||($S[t]={get:function(){return this[Ee].getObservablePropValue_(t)},set:function(n){return this[Ee].setObservablePropValue_(t,n)}})}function Vl(t){return Df(t)?E1(t[Ee]):!1}function FS(t,e,n){var i;(i=t.target_[ai])==null||delete i[n]}var T1=JC(0),b1=(function(){var t=!1,e={};return Object.defineProperty(e,"0",{set:function(){t=!0}}),Object.create(e)[0]=1,t===!1})(),Np=0,FC=function(){};function C1(t,e){Object.setPrototypeOf?Object.setPrototypeOf(t.prototype,e):t.prototype.__proto__!==void 0?t.prototype.__proto__=e:t.prototype=e}C1(FC,Array.prototype);var Eg=(function(t){function e(i,s,a,u){var f;return a===void 0&&(a="ObservableArray"),u===void 0&&(u=!1),f=t.call(this)||this,Ho(function(){var p=new Sg(a,s,u,!0);p.proxy_=f,uC(f,Ee,p),i&&i.length&&f.spliceWithArray(0,0,i),b1&&Object.defineProperty(f,"0",T1)}),f}dC(e,t);var n=e.prototype;return n.concat=function(){this[Ee].atom_.reportObserved();for(var s=arguments.length,a=new Array(s),u=0;u<s;u++)a[u]=arguments[u];return Array.prototype.concat.apply(this.slice(),a.map(function(f){return Gl(f)?f.slice():f}))},n[Symbol.iterator]=function(){var i=this,s=0;return Tg({next:function(){return s<i.length?{value:i[s++],done:!1}:{done:!0,value:void 0}}})},zs(e,[{key:"length",get:function(){return this[Ee].getArrayLength_()},set:function(s){this[Ee].setArrayLength_(s)}},{key:Symbol.toStringTag,get:function(){return"Array"}}])})(FC);Object.entries(uf).forEach(function(t){var e=t[0],n=t[1];e!=="concat"&&Dl(Eg.prototype,e,n)});function JC(t){return{enumerable:!1,configurable:!0,get:function(){return this[Ee].get_(t)},set:function(n){this[Ee].set_(t,n)}}}function A1(t){ui(Eg.prototype,""+t,JC(t))}function YC(t){if(t>Np){for(var e=Np;e<t+100;e++)A1(e);Np=t}}YC(1e3);function w1(t,e,n){return new Eg(t,e,n)}function ff(t,e){if(typeof t=="object"&&t!==null){if(Gl(t))return e!==void 0&&ke(23),t[Ee].atom_;if(qn(t))return t.atom_;if(Bo(t)){if(e===void 0)return t.keysAtom_;var n=t.data_.get(e)||t.hasMap_.get(e);return n||ke(25,e,Tm(t)),n}if(Vl(t)){if(!e)return ke(26);var i=t[Ee].values_.get(e);return i||ke(27,e,Tm(t)),i}if(pg(t)||Ll(t)||lf(t))return t}else if(Xn(t)&&lf(t[Ee]))return t[Ee];ke(28)}function x1(t,e){if(t||ke(29),pg(t)||Ll(t)||lf(t)||Bo(t)||qn(t))return t;if(t[Ee])return t[Ee];ke(24,t)}function Tm(t,e){var n;if(e!==void 0)n=ff(t,e);else{if(ks(t))return t.name;Vl(t)||Bo(t)||qn(t)?n=x1(t):n=ff(t)}return n.name_}function Ho(t){var e=wr(),n=gg(!0);xn();try{return t()}finally{Rn(),vg(n),$i(e)}}var JS=Il.toString;function KC(t,e,n){return n===void 0&&(n=-1),bm(t,e,n)}function bm(t,e,n,i,s){if(t===e)return t!==0||1/t===1/e;if(t==null||e==null)return!1;if(t!==t)return e!==e;var a=typeof t;if(a!=="function"&&a!=="object"&&typeof e!="object")return!1;var u=JS.call(t);if(u!==JS.call(e))return!1;switch(u){case"[object RegExp]":case"[object String]":return""+t==""+e;case"[object Number]":return+t!=+t?+e!=+e:+t==0?1/+t===1/e:+t==+e;case"[object Date]":case"[object Boolean]":return+t==+e;case"[object Symbol]":return typeof Symbol<"u"&&Symbol.valueOf.call(t)===Symbol.valueOf.call(e);case"[object Map]":case"[object Set]":n>=0&&n++;break}t=YS(t),e=YS(e);var f=u==="[object Array]";if(!f){if(typeof t!="object"||typeof e!="object")return!1;var p=t.constructor,h=e.constructor;if(p!==h&&!(Xn(p)&&p instanceof p&&Xn(h)&&h instanceof h)&&"constructor"in t&&"constructor"in e)return!1}if(n===0)return!1;n<0&&(n=-1),i=i||[],s=s||[];for(var v=i.length;v--;)if(i[v]===t)return s[v]===e;if(i.push(t),s.push(e),f){if(v=t.length,v!==e.length)return!1;for(;v--;)if(!bm(t[v],e[v],n-1,i,s))return!1}else{var _=Object.keys(t),S=_.length;if(Object.keys(e).length!==S)return!1;for(var T=0;T<S;T++){var b=_[T];if(!(Vi(e,b)&&bm(t[b],e[b],n-1,i,s)))return!1}}return i.pop(),s.pop(),!0}function YS(t){return Gl(t)?t.slice():qs(t)||Bo(t)||Bi(t)||qn(t)?Array.from(t.entries()):t}var KS,R1=((KS=If().Iterator)==null?void 0:KS.prototype)||{};function Tg(t){return t[Symbol.iterator]=M1,Object.assign(Object.create(R1),t)}function M1(){return this}["Symbol","Map","Set"].forEach(function(t){var e=If();typeof e[t]>"u"&&ke("MobX requires global '"+t+"' to be available or polyfilled")});typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__=="object"&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:FD,extras:{getDebugName:Tm},$mobx:Ee});if(!R.useState)throw new Error("mobx-react-lite requires React with Hooks support");if(!h1)throw new Error("mobx-react-lite@3 requires mobx at least version 6 to be available");var XC=iC();const Ms=Nl(XC);function N1(t){t()}function I1(t){t||(t=N1),o1({reactionScheduler:t})}function D1(t){return r1(t)}var O1=1e4,U1=1e4,P1=(function(){function t(e){var n=this;Object.defineProperty(this,"finalize",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"registrations",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),Object.defineProperty(this,"sweepTimeout",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sweep",{enumerable:!0,configurable:!0,writable:!0,value:function(i){i===void 0&&(i=O1),clearTimeout(n.sweepTimeout),n.sweepTimeout=void 0;var s=Date.now();n.registrations.forEach(function(a,u){s-a.registeredAt>=i&&(n.finalize(a.value),n.registrations.delete(u))}),n.registrations.size>0&&n.scheduleSweep()}}),Object.defineProperty(this,"finalizeAllImmediately",{enumerable:!0,configurable:!0,writable:!0,value:function(){n.sweep(0)}})}return Object.defineProperty(t.prototype,"register",{enumerable:!1,configurable:!0,writable:!0,value:function(e,n,i){this.registrations.set(i,{value:n,registeredAt:Date.now()}),this.scheduleSweep()}}),Object.defineProperty(t.prototype,"unregister",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this.registrations.delete(e)}}),Object.defineProperty(t.prototype,"scheduleSweep",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.sweepTimeout===void 0&&(this.sweepTimeout=setTimeout(this.sweep,U1))}}),t})(),L1=typeof FinalizationRegistry<"u"?FinalizationRegistry:P1,Cm=new L1(function(t){var e;(e=t.reaction)===null||e===void 0||e.dispose(),t.reaction=null}),Ip={exports:{}},Dp={};var XS;function k1(){if(XS)return Dp;XS=1;var t=Nf();function e(_,S){return _===S&&(_!==0||1/_===1/S)||_!==_&&S!==S}var n=typeof Object.is=="function"?Object.is:e,i=t.useState,s=t.useEffect,a=t.useLayoutEffect,u=t.useDebugValue;function f(_,S){var T=S(),b=i({inst:{value:T,getSnapshot:S}}),A=b[0].inst,x=b[1];return a(function(){A.value=T,A.getSnapshot=S,p(A)&&x({inst:A})},[_,T,S]),s(function(){return p(A)&&x({inst:A}),_(function(){p(A)&&x({inst:A})})},[_]),u(T),T}function p(_){var S=_.getSnapshot;_=_.value;try{var T=S();return!n(_,T)}catch{return!0}}function h(_,S){return S()}var v=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?h:f;return Dp.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:v,Dp}var WS;function B1(){return WS||(WS=1,Ip.exports=k1()),Ip.exports}var H1=B1();function QS(t){t.reaction=new Fi("observer".concat(t.name),function(){var e;t.stateVersion=Symbol(),(e=t.onStoreChange)===null||e===void 0||e.call(t)})}function G1(t,e){e===void 0&&(e="observed");var n=St.useRef(null);if(!n.current){var i={reaction:null,onStoreChange:null,stateVersion:Symbol(),name:e,subscribe:function(f){return Cm.unregister(i),i.onStoreChange=f,i.reaction||(QS(i),i.stateVersion=Symbol()),function(){var p;i.onStoreChange=null,(p=i.reaction)===null||p===void 0||p.dispose(),i.reaction=null}},getSnapshot:function(){return i.stateVersion}};n.current=i}var s=n.current;s.reaction||(QS(s),Cm.register(n,s,s)),St.useDebugValue(s.reaction,D1),H1.useSyncExternalStore(s.subscribe,s.getSnapshot,s.getSnapshot);var a,u;if(s.reaction.track(function(){try{a=t()}catch(f){u=f}}),u)throw u;return a}var Op,Up,WC=typeof Symbol=="function"&&Symbol.for,V1=(Up=(Op=Object.getOwnPropertyDescriptor(function(){},"name"))===null||Op===void 0?void 0:Op.configurable)!==null&&Up!==void 0?Up:!1,ZS=WC?Symbol.for("react.forward_ref"):typeof R.forwardRef=="function"&&R.forwardRef(function(t){return null}).$$typeof,jS=WC?Symbol.for("react.memo"):typeof R.memo=="function"&&R.memo(function(t){return null}).$$typeof;function Ht(t,e){var n;if(jS&&t.$$typeof===jS)throw new Error("[mobx-react-lite] You are trying to use `observer` on a function component wrapped in either another `observer` or `React.memo`. The observer already applies 'React.memo' for you.");var i=(n=void 0)!==null&&n!==void 0?n:!1,s=t,a=t.displayName||t.name;if(ZS&&t.$$typeof===ZS&&(i=!0,s=t.render,typeof s!="function"))throw new Error("[mobx-react-lite] `render` property of ForwardRef was not a function");var u=function(f,p){return G1(function(){return s(f,p)},a)};return u.displayName=t.displayName,V1&&Object.defineProperty(u,"name",{value:t.name,writable:!0,configurable:!0}),t.contextTypes&&(u.contextTypes=t.contextTypes),i&&(u=R.forwardRef(u)),u=R.memo(u),q1(t,u),u}var $1={$$typeof:!0,render:!0,compare:!0,type:!0,displayName:!0};function q1(t,e){Object.keys(t).forEach(function(n){$1[n]||Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}var Pp;I1(XC.unstable_batchedUpdates);Pp=Cm.finalizeAllImmediately;var Lp={exports:{}};var eE;function z1(){return eE||(eE=1,(function(t){(function(){var e={}.hasOwnProperty;function n(){for(var a="",u=0;u<arguments.length;u++){var f=arguments[u];f&&(a=s(a,i(f)))}return a}function i(a){if(typeof a=="string"||typeof a=="number")return a;if(typeof a!="object")return"";if(Array.isArray(a))return n.apply(null,a);if(a.toString!==Object.prototype.toString&&!a.toString.toString().includes("[native code]"))return a.toString();var u="";for(var f in a)e.call(a,f)&&a[f]&&(u=s(u,f));return u}function s(a,u){return u?a?a+" "+u:a+u:a}t.exports?(n.default=n,t.exports=n):window.classNames=n})()})(Lp)),Lp.exports}var F1=z1();const Re=Nl(F1);function Am(){return Am=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Am.apply(null,arguments)}function QC(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)!==-1)continue;n[i]=t[i]}return n}function tE(t){return"default"+t.charAt(0).toUpperCase()+t.substr(1)}function J1(t){var e=Y1(t,"string");return typeof e=="symbol"?e:String(e)}function Y1(t,e){if(typeof t!="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function K1(t,e,n){var i=R.useRef(t!==void 0),s=R.useState(e),a=s[0],u=s[1],f=t!==void 0,p=i.current;return i.current=f,!f&&p&&a!==e&&u(e),[f?t:a,R.useCallback(function(h){for(var v=arguments.length,_=new Array(v>1?v-1:0),S=1;S<v;S++)_[S-1]=arguments[S];n&&n.apply(void 0,[h].concat(_)),u(h)},[n])]}function bg(t,e){return Object.keys(e).reduce(function(n,i){var s,a=n,u=a[tE(i)],f=a[i],p=QC(a,[tE(i),i].map(J1)),h=e[i],v=K1(f,u,t[h]),_=v[0],S=v[1];return Am({},p,(s={},s[i]=_,s[h]=S,s))},t)}function wm(t,e){return wm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},wm(t,e)}function X1(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,wm(t,e)}const W1=["xxl","xl","lg","md","sm","xs"],Q1="xs",$l=R.createContext({prefixes:{},breakpoints:W1,minBreakpoint:Q1}),{Consumer:Vz,Provider:$z}=$l;function Le(t,e){const{prefixes:n}=R.useContext($l);return t||n[e]||e}function ZC(){const{breakpoints:t}=R.useContext($l);return t}function jC(){const{minBreakpoint:t}=R.useContext($l);return t}function Z1(){const{dir:t}=R.useContext($l);return t==="rtl"}function Lf(t){return t&&t.ownerDocument||document}function j1(t){var e=Lf(t);return e&&e.defaultView||window}function eO(t,e){return j1(t).getComputedStyle(t,e)}var tO=/([A-Z])/g;function nO(t){return t.replace(tO,"-$1").toLowerCase()}var iO=/^ms-/;function Ec(t){return nO(t).replace(iO,"-ms-")}var oO=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function rO(t){return!!(t&&oO.test(t))}function qi(t,e){var n="",i="";if(typeof e=="string")return t.style.getPropertyValue(Ec(e))||eO(t).getPropertyValue(Ec(e));Object.keys(e).forEach(function(s){var a=e[s];!a&&a!==0?t.style.removeProperty(Ec(s)):rO(s)?i+=s+"("+a+") ":n+=Ec(s)+": "+a+";"}),i&&(n+="transform: "+i+";"),t.style.cssText+=";"+n}var kp={exports:{}},Bp,nE;function sO(){if(nE)return Bp;nE=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Bp=t,Bp}var Hp,iE;function aO(){if(iE)return Hp;iE=1;var t=sO();function e(){}function n(){}return n.resetWarningCache=e,Hp=function(){function i(u,f,p,h,v,_){if(_!==t){var S=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw S.name="Invariant Violation",S}}i.isRequired=i;function s(){return i}var a={array:i,bigint:i,bool:i,func:i,number:i,object:i,string:i,symbol:i,any:i,arrayOf:s,element:i,elementType:i,instanceOf:s,node:i,objectOf:s,oneOf:s,oneOfType:s,shape:s,exact:s,checkPropTypes:n,resetWarningCache:e};return a.PropTypes=a,a},Hp}var oE;function lO(){return oE||(oE=1,kp.exports=aO()()),kp.exports}var uO=lO();const Gp=Nl(uO),rE={disabled:!1},eA=St.createContext(null);var cO=function(e){return e.scrollTop},el="unmounted",Ro="exited",$n="entering",Gi="entered",Tl="exiting",Ki=(function(t){X1(e,t);function e(i,s){var a;a=t.call(this,i,s)||this;var u=s,f=u&&!u.isMounting?i.enter:i.appear,p;return a.appearStatus=null,i.in?f?(p=Ro,a.appearStatus=$n):p=Gi:i.unmountOnExit||i.mountOnEnter?p=el:p=Ro,a.state={status:p},a.nextCallback=null,a}e.getDerivedStateFromProps=function(s,a){var u=s.in;return u&&a.status===el?{status:Ro}:null};var n=e.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(s){var a=null;if(s!==this.props){var u=this.state.status;this.props.in?u!==$n&&u!==Gi&&(a=$n):(u===$n||u===Gi)&&(a=Tl)}this.updateStatus(!1,a)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var s=this.props.timeout,a,u,f;return a=u=f=s,s!=null&&typeof s!="number"&&(a=s.exit,u=s.enter,f=s.appear!==void 0?s.appear:u),{exit:a,enter:u,appear:f}},n.updateStatus=function(s,a){if(s===void 0&&(s=!1),a!==null)if(this.cancelNextCallback(),a===$n){if(this.props.unmountOnExit||this.props.mountOnEnter){var u=this.props.nodeRef?this.props.nodeRef.current:Ms.findDOMNode(this);u&&cO(u)}this.performEnter(s)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Ro&&this.setState({status:el})},n.performEnter=function(s){var a=this,u=this.props.enter,f=this.context?this.context.isMounting:s,p=this.props.nodeRef?[f]:[Ms.findDOMNode(this),f],h=p[0],v=p[1],_=this.getTimeouts(),S=f?_.appear:_.enter;if(!s&&!u||rE.disabled){this.safeSetState({status:Gi},function(){a.props.onEntered(h)});return}this.props.onEnter(h,v),this.safeSetState({status:$n},function(){a.props.onEntering(h,v),a.onTransitionEnd(S,function(){a.safeSetState({status:Gi},function(){a.props.onEntered(h,v)})})})},n.performExit=function(){var s=this,a=this.props.exit,u=this.getTimeouts(),f=this.props.nodeRef?void 0:Ms.findDOMNode(this);if(!a||rE.disabled){this.safeSetState({status:Ro},function(){s.props.onExited(f)});return}this.props.onExit(f),this.safeSetState({status:Tl},function(){s.props.onExiting(f),s.onTransitionEnd(u.exit,function(){s.safeSetState({status:Ro},function(){s.props.onExited(f)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(s,a){a=this.setNextCallback(a),this.setState(s,a)},n.setNextCallback=function(s){var a=this,u=!0;return this.nextCallback=function(f){u&&(u=!1,a.nextCallback=null,s(f))},this.nextCallback.cancel=function(){u=!1},this.nextCallback},n.onTransitionEnd=function(s,a){this.setNextCallback(a);var u=this.props.nodeRef?this.props.nodeRef.current:Ms.findDOMNode(this),f=s==null&&!this.props.addEndListener;if(!u||f){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var p=this.props.nodeRef?[this.nextCallback]:[u,this.nextCallback],h=p[0],v=p[1];this.props.addEndListener(h,v)}s!=null&&setTimeout(this.nextCallback,s)},n.render=function(){var s=this.state.status;if(s===el)return null;var a=this.props,u=a.children;a.in,a.mountOnEnter,a.unmountOnExit,a.appear,a.enter,a.exit,a.timeout,a.addEndListener,a.onEnter,a.onEntering,a.onEntered,a.onExit,a.onExiting,a.onExited,a.nodeRef;var f=QC(a,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return St.createElement(eA.Provider,{value:null},typeof u=="function"?u(s,f):St.cloneElement(St.Children.only(u),f))},e})(St.Component);Ki.contextType=eA;Ki.propTypes={};function ms(){}Ki.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:ms,onEntering:ms,onEntered:ms,onExit:ms,onExiting:ms,onExited:ms};Ki.UNMOUNTED=el;Ki.EXITED=Ro;Ki.ENTERING=$n;Ki.ENTERED=Gi;Ki.EXITING=Tl;function fO(t){return t.code==="Escape"||t.keyCode===27}function dO(){const t=R.version.split(".");return{major:+t[0],minor:+t[1],patch:+t[2]}}function Fs(t){if(!t||typeof t=="function")return null;const{major:e}=dO();return e>=19?t.props.ref:t.ref}const kf=!!(typeof window<"u"&&window.document&&window.document.createElement);var xm=!1,Rm=!1;try{var Vp={get passive(){return xm=!0},get once(){return Rm=xm=!0}};kf&&(window.addEventListener("test",Vp,Vp),window.removeEventListener("test",Vp,!0))}catch{}function tA(t,e,n,i){if(i&&typeof i!="boolean"&&!Rm){var s=i.once,a=i.capture,u=n;!Rm&&s&&(u=n.__once||function f(p){this.removeEventListener(e,f,a),n.call(this,p)},n.__once=u),t.addEventListener(e,u,xm?i:a)}t.addEventListener(e,n,i)}function hO(t,e,n,i){var s=i&&typeof i!="boolean"?i.capture:i;t.removeEventListener(e,n,s),n.__once&&t.removeEventListener(e,n.__once,s)}function No(t,e,n,i){return tA(t,e,n,i),function(){hO(t,e,n,i)}}function pO(t,e,n,i){if(i===void 0&&(i=!0),t){var s=document.createEvent("HTMLEvents");s.initEvent(e,n,i),t.dispatchEvent(s)}}function mO(t){var e=qi(t,"transitionDuration")||"",n=e.indexOf("ms")===-1?1e3:1;return parseFloat(e)*n}function gO(t,e,n){n===void 0&&(n=5);var i=!1,s=setTimeout(function(){i||pO(t,"transitionend",!0)},e+n),a=No(t,"transitionend",function(){i=!0},{once:!0});return function(){clearTimeout(s),a()}}function vO(t,e,n,i){n==null&&(n=mO(t)||0);var s=gO(t,n,i),a=No(t,"transitionend",e);return function(){s(),a()}}function sE(t,e){const n=qi(t,e)||"",i=n.indexOf("ms")===-1?1e3:1;return parseFloat(n)*i}function Cg(t,e){const n=sE(t,"transitionDuration"),i=sE(t,"transitionDelay"),s=vO(t,a=>{a.target===t&&(s(),e(a))},n+i)}function Wa(...t){return t.filter(e=>e!=null).reduce((e,n)=>{if(typeof n!="function")throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return e===null?n:function(...s){e.apply(this,s),n.apply(this,s)}},null)}function nA(t){t.offsetHeight}const aE=t=>!t||typeof t=="function"?t:e=>{t.current=e};function yO(t,e){const n=aE(t),i=aE(e);return s=>{n&&n(s),i&&i(s)}}function Ag(t,e){return R.useMemo(()=>yO(t,e),[t,e])}function _O(t){return t&&"setState"in t?Ms.findDOMNode(t):t??null}const Bf=St.forwardRef(({onEnter:t,onEntering:e,onEntered:n,onExit:i,onExiting:s,onExited:a,addEndListener:u,children:f,childRef:p,...h},v)=>{const _=R.useRef(null),S=Ag(_,p),T=G=>{S(_O(G))},b=G=>B=>{G&&_.current&&G(_.current,B)},A=R.useCallback(b(t),[t]),x=R.useCallback(b(e),[e]),I=R.useCallback(b(n),[n]),D=R.useCallback(b(i),[i]),N=R.useCallback(b(s),[s]),P=R.useCallback(b(a),[a]),z=R.useCallback(b(u),[u]);return w.jsx(Ki,{ref:v,...h,onEnter:A,onEntered:I,onEntering:x,onExit:D,onExited:P,onExiting:N,addEndListener:z,nodeRef:_,children:typeof f=="function"?(G,B)=>f(G,{...B,ref:T}):St.cloneElement(f,{ref:T})})});Bf.displayName="TransitionWrapper";const SO={height:["marginTop","marginBottom"],width:["marginLeft","marginRight"]};function EO(t,e){const n=`offset${t[0].toUpperCase()}${t.slice(1)}`,i=e[n],s=SO[t];return i+parseInt(qi(e,s[0]),10)+parseInt(qi(e,s[1]),10)}const TO={[Ro]:"collapse",[Tl]:"collapsing",[$n]:"collapsing",[Gi]:"collapse show"},iA=St.forwardRef(({onEnter:t,onEntering:e,onEntered:n,onExit:i,onExiting:s,className:a,children:u,dimension:f="height",in:p=!1,timeout:h=300,mountOnEnter:v=!1,unmountOnExit:_=!1,appear:S=!1,getDimensionValue:T=EO,...b},A)=>{const x=typeof f=="function"?f():f,I=R.useMemo(()=>Wa(G=>{G.style[x]="0"},t),[x,t]),D=R.useMemo(()=>Wa(G=>{const B=`scroll${x[0].toUpperCase()}${x.slice(1)}`;G.style[x]=`${G[B]}px`},e),[x,e]),N=R.useMemo(()=>Wa(G=>{G.style[x]=null},n),[x,n]),P=R.useMemo(()=>Wa(G=>{G.style[x]=`${T(x,G)}px`,nA(G)},i),[i,T,x]),z=R.useMemo(()=>Wa(G=>{G.style[x]=null},s),[x,s]);return w.jsx(Bf,{ref:A,addEndListener:Cg,...b,"aria-expanded":b.role?p:null,onEnter:I,onEntering:D,onEntered:N,onExit:P,onExiting:z,childRef:Fs(u),in:p,timeout:h,mountOnEnter:v,unmountOnExit:_,appear:S,children:(G,B)=>St.cloneElement(u,{...B,className:Re(a,u.props.className,TO[G],x==="width"&&"collapse-horizontal")})})});iA.displayName="Collapse";function bO(t){const e=R.useRef(t);return R.useEffect(()=>{e.current=t},[t]),e}function ql(t){const e=bO(t);return R.useCallback(function(...n){return e.current&&e.current(...n)},[e])}const wg=(t=>R.forwardRef((e,n)=>w.jsx("div",{...e,ref:n,className:Re(e.className,t)})));function CO(){return R.useState(null)}function AO(t){const e=R.useRef(t);return R.useEffect(()=>{e.current=t},[t]),e}function Dt(t){const e=AO(t);return R.useCallback(function(...n){return e.current&&e.current(...n)},[e])}function wO(t,e,n,i=!1){const s=Dt(n);R.useEffect(()=>{const a=typeof t=="function"?t():t;return a.addEventListener(e,s,i),()=>a.removeEventListener(e,s,i)},[t])}function oA(){const t=R.useRef(!0),e=R.useRef(()=>t.current);return R.useEffect(()=>(t.current=!0,()=>{t.current=!1}),[]),e.current}function rA(t){const e=R.useRef(null);return R.useEffect(()=>{e.current=t}),e.current}const xO=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",RO=typeof document<"u",lE=RO||xO?R.useLayoutEffect:R.useEffect,MO=["as","disabled"];function NO(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)>=0)continue;n[i]=t[i]}return n}function IO(t){return!t||t.trim()==="#"}function xg({tagName:t,disabled:e,href:n,target:i,rel:s,role:a,onClick:u,tabIndex:f=0,type:p}){t||(n!=null||i!=null||s!=null?t="a":t="button");const h={tagName:t};if(t==="button")return[{type:p||"button",disabled:e},h];const v=S=>{if((e||t==="a"&&IO(n))&&S.preventDefault(),e){S.stopPropagation();return}u?.(S)},_=S=>{S.key===" "&&(S.preventDefault(),v(S))};return t==="a"&&(n||(n="#"),e&&(n=void 0)),[{role:a??"button",disabled:void 0,tabIndex:e?void 0:f,href:n,target:t==="a"?i:void 0,"aria-disabled":e||void 0,rel:t==="a"?s:void 0,onClick:v,onKeyDown:_},h]}const Rg=R.forwardRef((t,e)=>{let{as:n,disabled:i}=t,s=NO(t,MO);const[a,{tagName:u}]=xg(Object.assign({tagName:n,disabled:i},s));return w.jsx(u,Object.assign({},s,a,{ref:e}))});Rg.displayName="Button";const DO=["onKeyDown"];function OO(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)>=0)continue;n[i]=t[i]}return n}function UO(t){return!t||t.trim()==="#"}const Mg=R.forwardRef((t,e)=>{let{onKeyDown:n}=t,i=OO(t,DO);const[s]=xg(Object.assign({tagName:"a"},i)),a=Dt(u=>{s.onKeyDown(u),n?.(u)});return UO(i.href)||i.role==="button"?w.jsx("a",Object.assign({ref:e},i,s,{onKeyDown:a})):w.jsx("a",Object.assign({ref:e},i,{onKeyDown:n}))});Mg.displayName="Anchor";const PO={[$n]:"show",[Gi]:"show"},sA=R.forwardRef(({className:t,children:e,transitionClasses:n={},onEnter:i,...s},a)=>{const u={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,...s},f=R.useCallback((p,h)=>{nA(p),i?.(p,h)},[i]);return w.jsx(Bf,{ref:a,addEndListener:Cg,...u,onEnter:f,childRef:Fs(e),children:(p,h)=>R.cloneElement(e,{...h,className:Re("fade",t,e.props.className,PO[p],n[p])})})});sA.displayName="Fade";const LO={"aria-label":Gp.string,onClick:Gp.func,variant:Gp.oneOf(["white"])},Ng=R.forwardRef(({className:t,variant:e,"aria-label":n="Close",...i},s)=>w.jsx("button",{ref:s,type:"button",className:Re("btn-close",e&&`btn-close-${e}`,t),"aria-label":n,...i}));Ng.displayName="CloseButton";Ng.propTypes=LO;const aA=R.forwardRef(({as:t,bsPrefix:e,variant:n="primary",size:i,active:s=!1,disabled:a=!1,className:u,...f},p)=>{const h=Le(e,"btn"),[v,{tagName:_}]=xg({tagName:t,disabled:a,...f}),S=_;return w.jsx(S,{...v,...f,ref:p,disabled:a,className:Re(u,h,s&&"active",n&&`${h}-${n}`,i&&`${h}-${i}`,f.href&&a&&"disabled")})});aA.displayName="Button";const Ig=R.forwardRef(({className:t,bsPrefix:e,as:n="div",...i},s)=>(e=Le(e,"card-body"),w.jsx(n,{ref:s,className:Re(t,e),...i})));Ig.displayName="CardBody";const lA=R.forwardRef(({className:t,bsPrefix:e,as:n="div",...i},s)=>(e=Le(e,"card-footer"),w.jsx(n,{ref:s,className:Re(t,e),...i})));lA.displayName="CardFooter";const Dg=R.createContext(null);Dg.displayName="CardHeaderContext";const uA=R.forwardRef(({bsPrefix:t,className:e,as:n="div",...i},s)=>{const a=Le(t,"card-header"),u=R.useMemo(()=>({cardHeaderBsPrefix:a}),[a]);return w.jsx(Dg.Provider,{value:u,children:w.jsx(n,{ref:s,...i,className:Re(e,a)})})});uA.displayName="CardHeader";const cA=R.forwardRef(({bsPrefix:t,className:e,variant:n,as:i="img",...s},a)=>{const u=Le(t,"card-img");return w.jsx(i,{ref:a,className:Re(n?`${u}-${n}`:u,e),...s})});cA.displayName="CardImg";const fA=R.forwardRef(({className:t,bsPrefix:e,as:n="div",...i},s)=>(e=Le(e,"card-img-overlay"),w.jsx(n,{ref:s,className:Re(t,e),...i})));fA.displayName="CardImgOverlay";const dA=R.forwardRef(({className:t,bsPrefix:e,as:n="a",...i},s)=>(e=Le(e,"card-link"),w.jsx(n,{ref:s,className:Re(t,e),...i})));dA.displayName="CardLink";const kO=wg("h6"),hA=R.forwardRef(({className:t,bsPrefix:e,as:n=kO,...i},s)=>(e=Le(e,"card-subtitle"),w.jsx(n,{ref:s,className:Re(t,e),...i})));hA.displayName="CardSubtitle";const pA=R.forwardRef(({className:t,bsPrefix:e,as:n="p",...i},s)=>(e=Le(e,"card-text"),w.jsx(n,{ref:s,className:Re(t,e),...i})));pA.displayName="CardText";const BO=wg("h5"),mA=R.forwardRef(({className:t,bsPrefix:e,as:n=BO,...i},s)=>(e=Le(e,"card-title"),w.jsx(n,{ref:s,className:Re(t,e),...i})));mA.displayName="CardTitle";const gA=R.forwardRef(({bsPrefix:t,className:e,bg:n,text:i,border:s,body:a=!1,children:u,as:f="div",...p},h)=>{const v=Le(t,"card");return w.jsx(f,{ref:h,...p,className:Re(e,v,n&&`bg-${n}`,i&&`text-${i}`,s&&`border-${s}`),children:a?w.jsx(Ig,{children:u}):u})});gA.displayName="Card";const Tc=Object.assign(gA,{Img:cA,Title:mA,Subtitle:hA,Body:Ig,Link:dA,Text:pA,Header:uA,Footer:lA,ImgOverlay:fA});function HO({as:t,bsPrefix:e,className:n,...i}){e=Le(e,"col");const s=ZC(),a=jC(),u=[],f=[];return s.forEach(p=>{const h=i[p];delete i[p];let v,_,S;typeof h=="object"&&h!=null?{span:v,offset:_,order:S}=h:v=h;const T=p!==a?`-${p}`:"";v&&u.push(v===!0?`${e}${T}`:`${e}${T}-${v}`),S!=null&&f.push(`order${T}-${S}`),_!=null&&f.push(`offset${T}-${_}`)}),[{...i,className:Re(n,...u,...f)},{as:t,bsPrefix:e,spans:u}]}const vA=R.forwardRef((t,e)=>{const[{className:n,...i},{as:s="div",bsPrefix:a,spans:u}]=HO(t);return w.jsx(s,{...i,ref:e,className:Re(n,!u.length&&a)})});vA.displayName="Col";const yA=R.forwardRef(({bsPrefix:t,fluid:e=!1,as:n="div",className:i,...s},a)=>{const u=Le(t,"container"),f=typeof e=="string"?`-${e}`:"-fluid";return w.jsx(n,{ref:a,...s,className:Re(i,e?`${u}${f}`:u)})});yA.displayName="Container";var GO=Function.prototype.bind.call(Function.prototype.call,[].slice);function ki(t,e){return GO(t.querySelectorAll(e))}function VO(t,e,n){const i=R.useRef(t!==void 0),[s,a]=R.useState(e),u=t!==void 0,f=i.current;return i.current=u,!u&&f&&s!==e&&a(e),[u?t:s,R.useCallback((...p)=>{const[h,...v]=p;let _=n?.(h,...v);return a(h),_},[n])]}function _A(){const[,t]=R.useReducer(e=>e+1,0);return t}const Hf=R.createContext(null);var uE=Object.prototype.hasOwnProperty;function cE(t,e,n){for(n of t.keys())if(pl(n,e))return n}function pl(t,e){var n,i,s;if(t===e)return!0;if(t&&e&&(n=t.constructor)===e.constructor){if(n===Date)return t.getTime()===e.getTime();if(n===RegExp)return t.toString()===e.toString();if(n===Array){if((i=t.length)===e.length)for(;i--&&pl(t[i],e[i]););return i===-1}if(n===Set){if(t.size!==e.size)return!1;for(i of t)if(s=i,s&&typeof s=="object"&&(s=cE(e,s),!s)||!e.has(s))return!1;return!0}if(n===Map){if(t.size!==e.size)return!1;for(i of t)if(s=i[0],s&&typeof s=="object"&&(s=cE(e,s),!s)||!pl(i[1],e.get(s)))return!1;return!0}if(n===ArrayBuffer)t=new Uint8Array(t),e=new Uint8Array(e);else if(n===DataView){if((i=t.byteLength)===e.byteLength)for(;i--&&t.getInt8(i)===e.getInt8(i););return i===-1}if(ArrayBuffer.isView(t)){if((i=t.byteLength)===e.byteLength)for(;i--&&t[i]===e[i];);return i===-1}if(!n||typeof t=="object"){i=0;for(n in t)if(uE.call(t,n)&&++i&&!uE.call(e,n)||!(n in e)||!pl(t[n],e[n]))return!1;return Object.keys(e).length===i}}return t!==t&&e!==e}function $O(t){const e=oA();return[t[0],R.useCallback(n=>{if(e())return t[1](n)},[e,t[1]])]}var Xt="top",Dn="bottom",On="right",Wt="left",Og="auto",zl=[Xt,Dn,On,Wt],Hs="start",bl="end",qO="clippingParents",SA="viewport",Qa="popper",zO="reference",fE=zl.reduce(function(t,e){return t.concat([e+"-"+Hs,e+"-"+bl])},[]),EA=[].concat(zl,[Og]).reduce(function(t,e){return t.concat([e,e+"-"+Hs,e+"-"+bl])},[]),FO="beforeRead",JO="read",YO="afterRead",KO="beforeMain",XO="main",WO="afterMain",QO="beforeWrite",ZO="write",jO="afterWrite",eU=[FO,JO,YO,KO,XO,WO,QO,ZO,jO];function di(t){return t.split("-")[0]}function dn(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function Sr(t){var e=dn(t).Element;return t instanceof e||t instanceof Element}function hi(t){var e=dn(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function Ug(t){if(typeof ShadowRoot>"u")return!1;var e=dn(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}var hr=Math.max,df=Math.min,Gs=Math.round;function Mm(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function TA(){return!/^((?!chrome|android).)*safari/i.test(Mm())}function Vs(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!1);var i=t.getBoundingClientRect(),s=1,a=1;e&&hi(t)&&(s=t.offsetWidth>0&&Gs(i.width)/t.offsetWidth||1,a=t.offsetHeight>0&&Gs(i.height)/t.offsetHeight||1);var u=Sr(t)?dn(t):window,f=u.visualViewport,p=!TA()&&n,h=(i.left+(p&&f?f.offsetLeft:0))/s,v=(i.top+(p&&f?f.offsetTop:0))/a,_=i.width/s,S=i.height/a;return{width:_,height:S,top:v,right:h+_,bottom:v+S,left:h,x:h,y:v}}function Pg(t){var e=Vs(t),n=t.offsetWidth,i=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-i)<=1&&(i=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:i}}function bA(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&Ug(n)){var i=e;do{if(i&&t.isSameNode(i))return!0;i=i.parentNode||i.host}while(i)}return!1}function Uo(t){return t?(t.nodeName||"").toLowerCase():null}function Ji(t){return dn(t).getComputedStyle(t)}function tU(t){return["table","td","th"].indexOf(Uo(t))>=0}function Go(t){return((Sr(t)?t.ownerDocument:t.document)||window.document).documentElement}function Gf(t){return Uo(t)==="html"?t:t.assignedSlot||t.parentNode||(Ug(t)?t.host:null)||Go(t)}function dE(t){return!hi(t)||Ji(t).position==="fixed"?null:t.offsetParent}function nU(t){var e=/firefox/i.test(Mm()),n=/Trident/i.test(Mm());if(n&&hi(t)){var i=Ji(t);if(i.position==="fixed")return null}var s=Gf(t);for(Ug(s)&&(s=s.host);hi(s)&&["html","body"].indexOf(Uo(s))<0;){var a=Ji(s);if(a.transform!=="none"||a.perspective!=="none"||a.contain==="paint"||["transform","perspective"].indexOf(a.willChange)!==-1||e&&a.willChange==="filter"||e&&a.filter&&a.filter!=="none")return s;s=s.parentNode}return null}function Fl(t){for(var e=dn(t),n=dE(t);n&&tU(n)&&Ji(n).position==="static";)n=dE(n);return n&&(Uo(n)==="html"||Uo(n)==="body"&&Ji(n).position==="static")?e:n||nU(t)||e}function Lg(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function ml(t,e,n){return hr(t,df(e,n))}function iU(t,e,n){var i=ml(t,e,n);return i>n?n:i}function CA(){return{top:0,right:0,bottom:0,left:0}}function AA(t){return Object.assign({},CA(),t)}function wA(t,e){return e.reduce(function(n,i){return n[i]=t,n},{})}var oU=function(e,n){return e=typeof e=="function"?e(Object.assign({},n.rects,{placement:n.placement})):e,AA(typeof e!="number"?e:wA(e,zl))};function rU(t){var e,n=t.state,i=t.name,s=t.options,a=n.elements.arrow,u=n.modifiersData.popperOffsets,f=di(n.placement),p=Lg(f),h=[Wt,On].indexOf(f)>=0,v=h?"height":"width";if(!(!a||!u)){var _=oU(s.padding,n),S=Pg(a),T=p==="y"?Xt:Wt,b=p==="y"?Dn:On,A=n.rects.reference[v]+n.rects.reference[p]-u[p]-n.rects.popper[v],x=u[p]-n.rects.reference[p],I=Fl(a),D=I?p==="y"?I.clientHeight||0:I.clientWidth||0:0,N=A/2-x/2,P=_[T],z=D-S[v]-_[b],G=D/2-S[v]/2+N,B=ml(P,G,z),Q=p;n.modifiersData[i]=(e={},e[Q]=B,e.centerOffset=B-G,e)}}function sU(t){var e=t.state,n=t.options,i=n.element,s=i===void 0?"[data-popper-arrow]":i;s!=null&&(typeof s=="string"&&(s=e.elements.popper.querySelector(s),!s)||bA(e.elements.popper,s)&&(e.elements.arrow=s))}const aU={name:"arrow",enabled:!0,phase:"main",fn:rU,effect:sU,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function $s(t){return t.split("-")[1]}var lU={top:"auto",right:"auto",bottom:"auto",left:"auto"};function uU(t,e){var n=t.x,i=t.y,s=e.devicePixelRatio||1;return{x:Gs(n*s)/s||0,y:Gs(i*s)/s||0}}function hE(t){var e,n=t.popper,i=t.popperRect,s=t.placement,a=t.variation,u=t.offsets,f=t.position,p=t.gpuAcceleration,h=t.adaptive,v=t.roundOffsets,_=t.isFixed,S=u.x,T=S===void 0?0:S,b=u.y,A=b===void 0?0:b,x=typeof v=="function"?v({x:T,y:A}):{x:T,y:A};T=x.x,A=x.y;var I=u.hasOwnProperty("x"),D=u.hasOwnProperty("y"),N=Wt,P=Xt,z=window;if(h){var G=Fl(n),B="clientHeight",Q="clientWidth";if(G===dn(n)&&(G=Go(n),Ji(G).position!=="static"&&f==="absolute"&&(B="scrollHeight",Q="scrollWidth")),G=G,s===Xt||(s===Wt||s===On)&&a===bl){P=Dn;var X=_&&G===z&&z.visualViewport?z.visualViewport.height:G[B];A-=X-i.height,A*=p?1:-1}if(s===Wt||(s===Xt||s===Dn)&&a===bl){N=On;var te=_&&G===z&&z.visualViewport?z.visualViewport.width:G[Q];T-=te-i.width,T*=p?1:-1}}var j=Object.assign({position:f},h&&lU),le=v===!0?uU({x:T,y:A},dn(n)):{x:T,y:A};if(T=le.x,A=le.y,p){var re;return Object.assign({},j,(re={},re[P]=D?"0":"",re[N]=I?"0":"",re.transform=(z.devicePixelRatio||1)<=1?"translate("+T+"px, "+A+"px)":"translate3d("+T+"px, "+A+"px, 0)",re))}return Object.assign({},j,(e={},e[P]=D?A+"px":"",e[N]=I?T+"px":"",e.transform="",e))}function cU(t){var e=t.state,n=t.options,i=n.gpuAcceleration,s=i===void 0?!0:i,a=n.adaptive,u=a===void 0?!0:a,f=n.roundOffsets,p=f===void 0?!0:f,h={placement:di(e.placement),variation:$s(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:s,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,hE(Object.assign({},h,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:u,roundOffsets:p})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,hE(Object.assign({},h,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:p})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const fU={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:cU,data:{}};var bc={passive:!0};function dU(t){var e=t.state,n=t.instance,i=t.options,s=i.scroll,a=s===void 0?!0:s,u=i.resize,f=u===void 0?!0:u,p=dn(e.elements.popper),h=[].concat(e.scrollParents.reference,e.scrollParents.popper);return a&&h.forEach(function(v){v.addEventListener("scroll",n.update,bc)}),f&&p.addEventListener("resize",n.update,bc),function(){a&&h.forEach(function(v){v.removeEventListener("scroll",n.update,bc)}),f&&p.removeEventListener("resize",n.update,bc)}}const hU={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:dU,data:{}};var pU={left:"right",right:"left",bottom:"top",top:"bottom"};function qc(t){return t.replace(/left|right|bottom|top/g,function(e){return pU[e]})}var mU={start:"end",end:"start"};function pE(t){return t.replace(/start|end/g,function(e){return mU[e]})}function kg(t){var e=dn(t),n=e.pageXOffset,i=e.pageYOffset;return{scrollLeft:n,scrollTop:i}}function Bg(t){return Vs(Go(t)).left+kg(t).scrollLeft}function gU(t,e){var n=dn(t),i=Go(t),s=n.visualViewport,a=i.clientWidth,u=i.clientHeight,f=0,p=0;if(s){a=s.width,u=s.height;var h=TA();(h||!h&&e==="fixed")&&(f=s.offsetLeft,p=s.offsetTop)}return{width:a,height:u,x:f+Bg(t),y:p}}function vU(t){var e,n=Go(t),i=kg(t),s=(e=t.ownerDocument)==null?void 0:e.body,a=hr(n.scrollWidth,n.clientWidth,s?s.scrollWidth:0,s?s.clientWidth:0),u=hr(n.scrollHeight,n.clientHeight,s?s.scrollHeight:0,s?s.clientHeight:0),f=-i.scrollLeft+Bg(t),p=-i.scrollTop;return Ji(s||n).direction==="rtl"&&(f+=hr(n.clientWidth,s?s.clientWidth:0)-a),{width:a,height:u,x:f,y:p}}function Hg(t){var e=Ji(t),n=e.overflow,i=e.overflowX,s=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+s+i)}function xA(t){return["html","body","#document"].indexOf(Uo(t))>=0?t.ownerDocument.body:hi(t)&&Hg(t)?t:xA(Gf(t))}function gl(t,e){var n;e===void 0&&(e=[]);var i=xA(t),s=i===((n=t.ownerDocument)==null?void 0:n.body),a=dn(i),u=s?[a].concat(a.visualViewport||[],Hg(i)?i:[]):i,f=e.concat(u);return s?f:f.concat(gl(Gf(u)))}function Nm(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function yU(t,e){var n=Vs(t,!1,e==="fixed");return n.top=n.top+t.clientTop,n.left=n.left+t.clientLeft,n.bottom=n.top+t.clientHeight,n.right=n.left+t.clientWidth,n.width=t.clientWidth,n.height=t.clientHeight,n.x=n.left,n.y=n.top,n}function mE(t,e,n){return e===SA?Nm(gU(t,n)):Sr(e)?yU(e,n):Nm(vU(Go(t)))}function _U(t){var e=gl(Gf(t)),n=["absolute","fixed"].indexOf(Ji(t).position)>=0,i=n&&hi(t)?Fl(t):t;return Sr(i)?e.filter(function(s){return Sr(s)&&bA(s,i)&&Uo(s)!=="body"}):[]}function SU(t,e,n,i){var s=e==="clippingParents"?_U(t):[].concat(e),a=[].concat(s,[n]),u=a[0],f=a.reduce(function(p,h){var v=mE(t,h,i);return p.top=hr(v.top,p.top),p.right=df(v.right,p.right),p.bottom=df(v.bottom,p.bottom),p.left=hr(v.left,p.left),p},mE(t,u,i));return f.width=f.right-f.left,f.height=f.bottom-f.top,f.x=f.left,f.y=f.top,f}function RA(t){var e=t.reference,n=t.element,i=t.placement,s=i?di(i):null,a=i?$s(i):null,u=e.x+e.width/2-n.width/2,f=e.y+e.height/2-n.height/2,p;switch(s){case Xt:p={x:u,y:e.y-n.height};break;case Dn:p={x:u,y:e.y+e.height};break;case On:p={x:e.x+e.width,y:f};break;case Wt:p={x:e.x-n.width,y:f};break;default:p={x:e.x,y:e.y}}var h=s?Lg(s):null;if(h!=null){var v=h==="y"?"height":"width";switch(a){case Hs:p[h]=p[h]-(e[v]/2-n[v]/2);break;case bl:p[h]=p[h]+(e[v]/2-n[v]/2);break}}return p}function Cl(t,e){e===void 0&&(e={});var n=e,i=n.placement,s=i===void 0?t.placement:i,a=n.strategy,u=a===void 0?t.strategy:a,f=n.boundary,p=f===void 0?qO:f,h=n.rootBoundary,v=h===void 0?SA:h,_=n.elementContext,S=_===void 0?Qa:_,T=n.altBoundary,b=T===void 0?!1:T,A=n.padding,x=A===void 0?0:A,I=AA(typeof x!="number"?x:wA(x,zl)),D=S===Qa?zO:Qa,N=t.rects.popper,P=t.elements[b?D:S],z=SU(Sr(P)?P:P.contextElement||Go(t.elements.popper),p,v,u),G=Vs(t.elements.reference),B=RA({reference:G,element:N,placement:s}),Q=Nm(Object.assign({},N,B)),X=S===Qa?Q:G,te={top:z.top-X.top+I.top,bottom:X.bottom-z.bottom+I.bottom,left:z.left-X.left+I.left,right:X.right-z.right+I.right},j=t.modifiersData.offset;if(S===Qa&&j){var le=j[s];Object.keys(te).forEach(function(re){var fe=[On,Dn].indexOf(re)>=0?1:-1,_e=[Xt,Dn].indexOf(re)>=0?"y":"x";te[re]+=le[_e]*fe})}return te}function EU(t,e){e===void 0&&(e={});var n=e,i=n.placement,s=n.boundary,a=n.rootBoundary,u=n.padding,f=n.flipVariations,p=n.allowedAutoPlacements,h=p===void 0?EA:p,v=$s(i),_=v?f?fE:fE.filter(function(b){return $s(b)===v}):zl,S=_.filter(function(b){return h.indexOf(b)>=0});S.length===0&&(S=_);var T=S.reduce(function(b,A){return b[A]=Cl(t,{placement:A,boundary:s,rootBoundary:a,padding:u})[di(A)],b},{});return Object.keys(T).sort(function(b,A){return T[b]-T[A]})}function TU(t){if(di(t)===Og)return[];var e=qc(t);return[pE(t),e,pE(e)]}function bU(t){var e=t.state,n=t.options,i=t.name;if(!e.modifiersData[i]._skip){for(var s=n.mainAxis,a=s===void 0?!0:s,u=n.altAxis,f=u===void 0?!0:u,p=n.fallbackPlacements,h=n.padding,v=n.boundary,_=n.rootBoundary,S=n.altBoundary,T=n.flipVariations,b=T===void 0?!0:T,A=n.allowedAutoPlacements,x=e.options.placement,I=di(x),D=I===x,N=p||(D||!b?[qc(x)]:TU(x)),P=[x].concat(N).reduce(function(ie,he){return ie.concat(di(he)===Og?EU(e,{placement:he,boundary:v,rootBoundary:_,padding:h,flipVariations:b,allowedAutoPlacements:A}):he)},[]),z=e.rects.reference,G=e.rects.popper,B=new Map,Q=!0,X=P[0],te=0;te<P.length;te++){var j=P[te],le=di(j),re=$s(j)===Hs,fe=[Xt,Dn].indexOf(le)>=0,_e=fe?"width":"height",k=Cl(e,{placement:j,boundary:v,rootBoundary:_,altBoundary:S,padding:h}),Z=fe?re?On:Wt:re?Dn:Xt;z[_e]>G[_e]&&(Z=qc(Z));var se=qc(Z),Se=[];if(a&&Se.push(k[le]<=0),f&&Se.push(k[Z]<=0,k[se]<=0),Se.every(function(ie){return ie})){X=j,Q=!1;break}B.set(j,Se)}if(Q)for(var me=b?3:1,O=function(he){var be=P.find(function(Ne){var Ze=B.get(Ne);if(Ze)return Ze.slice(0,he).every(function(qe){return qe})});if(be)return X=be,"break"},Y=me;Y>0;Y--){var ne=O(Y);if(ne==="break")break}e.placement!==X&&(e.modifiersData[i]._skip=!0,e.placement=X,e.reset=!0)}}const CU={name:"flip",enabled:!0,phase:"main",fn:bU,requiresIfExists:["offset"],data:{_skip:!1}};function gE(t,e,n){return n===void 0&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function vE(t){return[Xt,On,Dn,Wt].some(function(e){return t[e]>=0})}function AU(t){var e=t.state,n=t.name,i=e.rects.reference,s=e.rects.popper,a=e.modifiersData.preventOverflow,u=Cl(e,{elementContext:"reference"}),f=Cl(e,{altBoundary:!0}),p=gE(u,i),h=gE(f,s,a),v=vE(p),_=vE(h);e.modifiersData[n]={referenceClippingOffsets:p,popperEscapeOffsets:h,isReferenceHidden:v,hasPopperEscaped:_},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":v,"data-popper-escaped":_})}const wU={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:AU};function xU(t,e,n){var i=di(t),s=[Wt,Xt].indexOf(i)>=0?-1:1,a=typeof n=="function"?n(Object.assign({},e,{placement:t})):n,u=a[0],f=a[1];return u=u||0,f=(f||0)*s,[Wt,On].indexOf(i)>=0?{x:f,y:u}:{x:u,y:f}}function RU(t){var e=t.state,n=t.options,i=t.name,s=n.offset,a=s===void 0?[0,0]:s,u=EA.reduce(function(v,_){return v[_]=xU(_,e.rects,a),v},{}),f=u[e.placement],p=f.x,h=f.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=p,e.modifiersData.popperOffsets.y+=h),e.modifiersData[i]=u}const MU={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:RU};function NU(t){var e=t.state,n=t.name;e.modifiersData[n]=RA({reference:e.rects.reference,element:e.rects.popper,placement:e.placement})}const IU={name:"popperOffsets",enabled:!0,phase:"read",fn:NU,data:{}};function DU(t){return t==="x"?"y":"x"}function OU(t){var e=t.state,n=t.options,i=t.name,s=n.mainAxis,a=s===void 0?!0:s,u=n.altAxis,f=u===void 0?!1:u,p=n.boundary,h=n.rootBoundary,v=n.altBoundary,_=n.padding,S=n.tether,T=S===void 0?!0:S,b=n.tetherOffset,A=b===void 0?0:b,x=Cl(e,{boundary:p,rootBoundary:h,padding:_,altBoundary:v}),I=di(e.placement),D=$s(e.placement),N=!D,P=Lg(I),z=DU(P),G=e.modifiersData.popperOffsets,B=e.rects.reference,Q=e.rects.popper,X=typeof A=="function"?A(Object.assign({},e.rects,{placement:e.placement})):A,te=typeof X=="number"?{mainAxis:X,altAxis:X}:Object.assign({mainAxis:0,altAxis:0},X),j=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,le={x:0,y:0};if(G){if(a){var re,fe=P==="y"?Xt:Wt,_e=P==="y"?Dn:On,k=P==="y"?"height":"width",Z=G[P],se=Z+x[fe],Se=Z-x[_e],me=T?-Q[k]/2:0,O=D===Hs?B[k]:Q[k],Y=D===Hs?-Q[k]:-B[k],ne=e.elements.arrow,ie=T&&ne?Pg(ne):{width:0,height:0},he=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:CA(),be=he[fe],Ne=he[_e],Ze=ml(0,B[k],ie[k]),qe=N?B[k]/2-me-Ze-be-te.mainAxis:O-Ze-be-te.mainAxis,Ln=N?-B[k]/2+me+Ze+Ne+te.mainAxis:Y+Ze+Ne+te.mainAxis,jn=e.elements.arrow&&Fl(e.elements.arrow),Qi=jn?P==="y"?jn.clientTop||0:jn.clientLeft||0:0,mi=(re=j?.[P])!=null?re:0,Gt=Z+qe-mi-Qi,Xe=Z+Ln-mi,gi=ml(T?df(se,Gt):se,Z,T?hr(Se,Xe):Se);G[P]=gi,le[P]=gi-Z}if(f){var Zi,Ql=P==="x"?Xt:Wt,js=P==="x"?Dn:On,kn=G[z],ji=z==="y"?"height":"width",Zl=kn+x[Ql],jl=kn-x[js],Tt=[Xt,Wt].indexOf(I)!==-1,eu=(Zi=j?.[z])!=null?Zi:0,ea=Tt?Zl:kn-B[ji]-Q[ji]-eu+te.altAxis,ta=Tt?kn+B[ji]+Q[ji]-eu-te.altAxis:jl,$o=T&&Tt?iU(ea,kn,ta):ml(T?ea:Zl,kn,T?ta:jl);G[z]=$o,le[z]=$o-kn}e.modifiersData[i]=le}}const UU={name:"preventOverflow",enabled:!0,phase:"main",fn:OU,requiresIfExists:["offset"]};function PU(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function LU(t){return t===dn(t)||!hi(t)?kg(t):PU(t)}function kU(t){var e=t.getBoundingClientRect(),n=Gs(e.width)/t.offsetWidth||1,i=Gs(e.height)/t.offsetHeight||1;return n!==1||i!==1}function BU(t,e,n){n===void 0&&(n=!1);var i=hi(e),s=hi(e)&&kU(e),a=Go(e),u=Vs(t,s,n),f={scrollLeft:0,scrollTop:0},p={x:0,y:0};return(i||!i&&!n)&&((Uo(e)!=="body"||Hg(a))&&(f=LU(e)),hi(e)?(p=Vs(e,!0),p.x+=e.clientLeft,p.y+=e.clientTop):a&&(p.x=Bg(a))),{x:u.left+f.scrollLeft-p.x,y:u.top+f.scrollTop-p.y,width:u.width,height:u.height}}function HU(t){var e=new Map,n=new Set,i=[];t.forEach(function(a){e.set(a.name,a)});function s(a){n.add(a.name);var u=[].concat(a.requires||[],a.requiresIfExists||[]);u.forEach(function(f){if(!n.has(f)){var p=e.get(f);p&&s(p)}}),i.push(a)}return t.forEach(function(a){n.has(a.name)||s(a)}),i}function GU(t){var e=HU(t);return eU.reduce(function(n,i){return n.concat(e.filter(function(s){return s.phase===i}))},[])}function VU(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}function $U(t){var e=t.reduce(function(n,i){var s=n[i.name];return n[i.name]=s?Object.assign({},s,i,{options:Object.assign({},s.options,i.options),data:Object.assign({},s.data,i.data)}):i,n},{});return Object.keys(e).map(function(n){return e[n]})}var yE={placement:"bottom",modifiers:[],strategy:"absolute"};function _E(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(i){return!(i&&typeof i.getBoundingClientRect=="function")})}function qU(t){t===void 0&&(t={});var e=t,n=e.defaultModifiers,i=n===void 0?[]:n,s=e.defaultOptions,a=s===void 0?yE:s;return function(f,p,h){h===void 0&&(h=a);var v={placement:"bottom",orderedModifiers:[],options:Object.assign({},yE,a),modifiersData:{},elements:{reference:f,popper:p},attributes:{},styles:{}},_=[],S=!1,T={state:v,setOptions:function(I){var D=typeof I=="function"?I(v.options):I;A(),v.options=Object.assign({},a,v.options,D),v.scrollParents={reference:Sr(f)?gl(f):f.contextElement?gl(f.contextElement):[],popper:gl(p)};var N=GU($U([].concat(i,v.options.modifiers)));return v.orderedModifiers=N.filter(function(P){return P.enabled}),b(),T.update()},forceUpdate:function(){if(!S){var I=v.elements,D=I.reference,N=I.popper;if(_E(D,N)){v.rects={reference:BU(D,Fl(N),v.options.strategy==="fixed"),popper:Pg(N)},v.reset=!1,v.placement=v.options.placement,v.orderedModifiers.forEach(function(te){return v.modifiersData[te.name]=Object.assign({},te.data)});for(var P=0;P<v.orderedModifiers.length;P++){if(v.reset===!0){v.reset=!1,P=-1;continue}var z=v.orderedModifiers[P],G=z.fn,B=z.options,Q=B===void 0?{}:B,X=z.name;typeof G=="function"&&(v=G({state:v,options:Q,name:X,instance:T})||v)}}}},update:VU(function(){return new Promise(function(x){T.forceUpdate(),x(v)})}),destroy:function(){A(),S=!0}};if(!_E(f,p))return T;T.setOptions(h).then(function(x){!S&&h.onFirstUpdate&&h.onFirstUpdate(x)});function b(){v.orderedModifiers.forEach(function(x){var I=x.name,D=x.options,N=D===void 0?{}:D,P=x.effect;if(typeof P=="function"){var z=P({state:v,name:I,instance:T,options:N}),G=function(){};_.push(z||G)}})}function A(){_.forEach(function(x){return x()}),_=[]}return T}}const zU=qU({defaultModifiers:[wU,IU,fU,hU,MU,CU,UU,aU]}),FU=["enabled","placement","strategy","modifiers"];function JU(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)>=0)continue;n[i]=t[i]}return n}const YU={name:"applyStyles",enabled:!1,phase:"afterWrite",fn:()=>{}},KU={name:"ariaDescribedBy",enabled:!0,phase:"afterWrite",effect:({state:t})=>()=>{const{reference:e,popper:n}=t.elements;if("removeAttribute"in e){const i=(e.getAttribute("aria-describedby")||"").split(",").filter(s=>s.trim()!==n.id);i.length?e.setAttribute("aria-describedby",i.join(",")):e.removeAttribute("aria-describedby")}},fn:({state:t})=>{var e;const{popper:n,reference:i}=t.elements,s=(e=n.getAttribute("role"))==null?void 0:e.toLowerCase();if(n.id&&s==="tooltip"&&"setAttribute"in i){const a=i.getAttribute("aria-describedby");if(a&&a.split(",").indexOf(n.id)!==-1)return;i.setAttribute("aria-describedby",a?`${a},${n.id}`:n.id)}}},XU=[];function WU(t,e,n={}){let{enabled:i=!0,placement:s="bottom",strategy:a="absolute",modifiers:u=XU}=n,f=JU(n,FU);const p=R.useRef(u),h=R.useRef(),v=R.useCallback(()=>{var x;(x=h.current)==null||x.update()},[]),_=R.useCallback(()=>{var x;(x=h.current)==null||x.forceUpdate()},[]),[S,T]=$O(R.useState({placement:s,update:v,forceUpdate:_,attributes:{},styles:{popper:{},arrow:{}}})),b=R.useMemo(()=>({name:"updateStateModifier",enabled:!0,phase:"write",requires:["computeStyles"],fn:({state:x})=>{const I={},D={};Object.keys(x.elements).forEach(N=>{I[N]=x.styles[N],D[N]=x.attributes[N]}),T({state:x,styles:I,attributes:D,update:v,forceUpdate:_,placement:x.placement})}}),[v,_,T]),A=R.useMemo(()=>(pl(p.current,u)||(p.current=u),p.current),[u]);return R.useEffect(()=>{!h.current||!i||h.current.setOptions({placement:s,strategy:a,modifiers:[...A,b,YU]})},[a,s,b,i,A]),R.useEffect(()=>{if(!(!i||t==null||e==null))return h.current=zU(t,e,Object.assign({},f,{placement:s,strategy:a,modifiers:[...A,KU,b]})),()=>{h.current!=null&&(h.current.destroy(),h.current=void 0,T(x=>Object.assign({},x,{attributes:{},styles:{popper:{}}})))}},[i,t,e]),S}function hf(t,e){if(t.contains)return t.contains(e);if(t.compareDocumentPosition)return t===e||!!(t.compareDocumentPosition(e)&16)}var $p,SE;function QU(){if(SE)return $p;SE=1;var t=function(){};return $p=t,$p}var ZU=QU();const jU=Nl(ZU),EE=()=>{};function eP(t){return t.button===0}function tP(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}const qp=t=>t&&("current"in t?t.current:t),TE={click:"mousedown",mouseup:"mousedown",pointerup:"pointerdown"};function nP(t,e=EE,{disabled:n,clickTrigger:i="click"}={}){const s=R.useRef(!1),a=R.useRef(!1),u=R.useCallback(h=>{const v=qp(t);jU(!!v,"ClickOutside captured a close event but does not have a ref to compare it to. useClickOutside(), should be passed a ref that resolves to a DOM node"),s.current=!v||tP(h)||!eP(h)||!!hf(v,h.target)||a.current,a.current=!1},[t]),f=Dt(h=>{const v=qp(t);v&&hf(v,h.target)?a.current=!0:a.current=!1}),p=Dt(h=>{s.current||e(h)});R.useEffect(()=>{var h,v;if(n||t==null)return;const _=Lf(qp(t)),S=_.defaultView||window;let T=(h=S.event)!=null?h:(v=S.parent)==null?void 0:v.event,b=null;TE[i]&&(b=No(_,TE[i],f,!0));const A=No(_,i,u,!0),x=No(_,i,D=>{if(D===T){T=void 0;return}p(D)});let I=[];return"ontouchstart"in _.documentElement&&(I=[].slice.call(_.body.children).map(D=>No(D,"mousemove",EE))),()=>{b?.(),A(),x(),I.forEach(D=>D())}},[t,n,i,u,f,p])}function iP(t){const e={};return Array.isArray(t)?(t?.forEach(n=>{e[n.name]=n}),e):t||e}function oP(t={}){return Array.isArray(t)?t:Object.keys(t).map(e=>(t[e].name=e,t[e]))}function rP({enabled:t,enableEvents:e,placement:n,flip:i,offset:s,fixed:a,containerPadding:u,arrowElement:f,popperConfig:p={}}){var h,v,_,S,T;const b=iP(p.modifiers);return Object.assign({},p,{placement:n,enabled:t,strategy:a?"fixed":p.strategy,modifiers:oP(Object.assign({},b,{eventListeners:{enabled:e,options:(h=b.eventListeners)==null?void 0:h.options},preventOverflow:Object.assign({},b.preventOverflow,{options:u?Object.assign({padding:u},(v=b.preventOverflow)==null?void 0:v.options):(_=b.preventOverflow)==null?void 0:_.options}),offset:{options:Object.assign({offset:s},(S=b.offset)==null?void 0:S.options)},arrow:Object.assign({},b.arrow,{enabled:!!f,options:Object.assign({},(T=b.arrow)==null?void 0:T.options,{element:f})}),flip:Object.assign({enabled:!!i},b.flip)}))})}const sP=["children","usePopper"];function aP(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)>=0)continue;n[i]=t[i]}return n}const lP=()=>{};function MA(t={}){const e=R.useContext(Hf),[n,i]=CO(),s=R.useRef(!1),{flip:a,offset:u,rootCloseEvent:f,fixed:p=!1,placement:h,popperConfig:v={},enableEventListeners:_=!0,usePopper:S=!!e}=t,T=e?.show==null?!!t.show:e.show;T&&!s.current&&(s.current=!0);const b=G=>{e?.toggle(!1,G)},{placement:A,setMenu:x,menuElement:I,toggleElement:D}=e||{},N=WU(D,I,rP({placement:h||A||"bottom-start",enabled:S,enableEvents:_??T,offset:u,flip:a,fixed:p,arrowElement:n,popperConfig:v})),P=Object.assign({ref:x||lP,"aria-labelledby":D?.id},N.attributes.popper,{style:N.styles.popper}),z={show:T,placement:A,hasShown:s.current,toggle:e?.toggle,popper:S?N:null,arrowProps:S?Object.assign({ref:i},N.attributes.arrow,{style:N.styles.arrow}):{}};return nP(I,b,{clickTrigger:f,disabled:!T}),[P,z]}function NA(t){let{children:e,usePopper:n=!0}=t,i=aP(t,sP);const[s,a]=MA(Object.assign({},i,{usePopper:n}));return w.jsx(w.Fragment,{children:e(s,a)})}NA.displayName="DropdownMenu";const IA={prefix:String(Math.round(Math.random()*1e10)),current:0},DA=St.createContext(IA),uP=St.createContext(!1);let zp=new WeakMap;function cP(t=!1){let e=R.useContext(DA),n=R.useRef(null);if(n.current===null&&!t){var i,s;let a=(s=St.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED)===null||s===void 0||(i=s.ReactCurrentOwner)===null||i===void 0?void 0:i.current;if(a){let u=zp.get(a);u==null?zp.set(a,{id:e.current,state:a.memoizedState}):a.memoizedState!==u.state&&(e.current=u.id,zp.delete(a))}n.current=++e.current}return n.current}function fP(t){let e=R.useContext(DA),n=cP(!!t),i=`react-aria${e.prefix}`;return t||`${i}-${n}`}function dP(t){let e=St.useId(),[n]=R.useState(vP()),i=n?"react-aria":`react-aria${IA.prefix}`;return t||`${i}-${e}`}const hP=typeof St.useId=="function"?dP:fP;function pP(){return!1}function mP(){return!0}function gP(t){return()=>{}}function vP(){return typeof St.useSyncExternalStore=="function"?St.useSyncExternalStore(gP,pP,mP):R.useContext(uP)}const OA=t=>{var e;return((e=t.getAttribute("role"))==null?void 0:e.toLowerCase())==="menu"},bE=()=>{};function UA(){const t=hP(),{show:e=!1,toggle:n=bE,setToggle:i,menuElement:s}=R.useContext(Hf)||{},a=R.useCallback(f=>{n(!e,f)},[e,n]),u={id:t,ref:i||bE,onClick:a,"aria-expanded":!!e};return s&&OA(s)&&(u["aria-haspopup"]=!0),[u,{show:e,toggle:n}]}function PA({children:t}){const[e,n]=UA();return w.jsx(w.Fragment,{children:t(e,n)})}PA.displayName="DropdownToggle";const Er=R.createContext(null),Al=(t,e=null)=>t!=null?String(t):e||null,Vf=R.createContext(null);Vf.displayName="NavContext";const yP="data-rr-ui-",_P="rrUi";function Js(t){return`${yP}${t}`}function SP(t){return`${_P}${t}`}const EP=["eventKey","disabled","onClick","active","as"];function TP(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)>=0)continue;n[i]=t[i]}return n}function LA({key:t,href:e,active:n,disabled:i,onClick:s}){const a=R.useContext(Er),u=R.useContext(Vf),{activeKey:f}=u||{},p=Al(t,e),h=n==null&&t!=null?Al(f)===p:n;return[{onClick:Dt(_=>{i||(s?.(_),a&&!_.isPropagationStopped()&&a(p,_))}),"aria-disabled":i||void 0,"aria-selected":h,[Js("dropdown-item")]:""},{isActive:h}]}const kA=R.forwardRef((t,e)=>{let{eventKey:n,disabled:i,onClick:s,active:a,as:u=Rg}=t,f=TP(t,EP);const[p]=LA({key:n,href:f.href,disabled:i,onClick:s,active:a});return w.jsx(u,Object.assign({},f,{ref:e},p))});kA.displayName="DropdownItem";const BA=R.createContext(kf?window:void 0);BA.Provider;function $f(){return R.useContext(BA)}function CE(){const t=_A(),e=R.useRef(null),n=R.useCallback(i=>{e.current=i,t()},[t]);return[e,n]}function Jl({defaultShow:t,show:e,onSelect:n,onToggle:i,itemSelector:s=`* [${Js("dropdown-item")}]`,focusFirstItemOnShow:a,placement:u="bottom-start",children:f}){const p=$f(),[h,v]=VO(e,t,i),[_,S]=CE(),T=_.current,[b,A]=CE(),x=b.current,I=rA(h),D=R.useRef(null),N=R.useRef(!1),P=R.useContext(Er),z=R.useCallback((j,le,re=le?.type)=>{v(j,{originalEvent:le,source:re})},[v]),G=Dt((j,le)=>{n?.(j,le),z(!1,le,"select"),le.isPropagationStopped()||P?.(j,le)}),B=R.useMemo(()=>({toggle:z,placement:u,show:h,menuElement:T,toggleElement:x,setMenu:S,setToggle:A}),[z,u,h,T,x,S,A]);T&&I&&!h&&(N.current=T.contains(T.ownerDocument.activeElement));const Q=Dt(()=>{x&&x.focus&&x.focus()}),X=Dt(()=>{const j=D.current;let le=a;if(le==null&&(le=_.current&&OA(_.current)?"keyboard":!1),le===!1||le==="keyboard"&&!/^key.+$/.test(j))return;const re=ki(_.current,s)[0];re&&re.focus&&re.focus()});R.useEffect(()=>{h?X():N.current&&(N.current=!1,Q())},[h,N,Q,X]),R.useEffect(()=>{D.current=null});const te=(j,le)=>{if(!_.current)return null;const re=ki(_.current,s);let fe=re.indexOf(j)+le;return fe=Math.max(0,Math.min(fe,re.length)),re[fe]};return wO(R.useCallback(()=>p.document,[p]),"keydown",j=>{var le,re;const{key:fe}=j,_e=j.target,k=(le=_.current)==null?void 0:le.contains(_e),Z=(re=b.current)==null?void 0:re.contains(_e);if(/input|textarea/i.test(_e.tagName)&&(fe===" "||fe!=="Escape"&&k||fe==="Escape"&&_e.type==="search")||!k&&!Z||fe==="Tab"&&(!_.current||!h))return;D.current=j.type;const Se={originalEvent:j,source:j.type};switch(fe){case"ArrowUp":{const me=te(_e,-1);me&&me.focus&&me.focus(),j.preventDefault();return}case"ArrowDown":if(j.preventDefault(),!h)v(!0,Se);else{const me=te(_e,1);me&&me.focus&&me.focus()}return;case"Tab":tA(_e.ownerDocument,"keyup",me=>{var O;(me.key==="Tab"&&!me.target||!((O=_.current)!=null&&O.contains(me.target)))&&v(!1,Se)},{once:!0});break;case"Escape":fe==="Escape"&&(j.preventDefault(),j.stopPropagation()),v(!1,Se);break}}),w.jsx(Er.Provider,{value:G,children:w.jsx(Hf.Provider,{value:B,children:f})})}Jl.displayName="Dropdown";Jl.Menu=NA;Jl.Toggle=PA;Jl.Item=kA;const Gg=R.createContext({});Gg.displayName="DropdownContext";const HA=R.forwardRef(({className:t,bsPrefix:e,as:n="hr",role:i="separator",...s},a)=>(e=Le(e,"dropdown-divider"),w.jsx(n,{ref:a,className:Re(t,e),role:i,...s})));HA.displayName="DropdownDivider";const GA=R.forwardRef(({className:t,bsPrefix:e,as:n="div",role:i="heading",...s},a)=>(e=Le(e,"dropdown-header"),w.jsx(n,{ref:a,className:Re(t,e),role:i,...s})));GA.displayName="DropdownHeader";const VA=R.forwardRef(({bsPrefix:t,className:e,eventKey:n,disabled:i=!1,onClick:s,active:a,as:u=Mg,...f},p)=>{const h=Le(t,"dropdown-item"),[v,_]=LA({key:n,href:f.href,disabled:i,onClick:s,active:a});return w.jsx(u,{...f,...v,ref:p,className:Re(e,h,_.isActive&&"active",i&&"disabled")})});VA.displayName="DropdownItem";const $A=R.forwardRef(({className:t,bsPrefix:e,as:n="span",...i},s)=>(e=Le(e,"dropdown-item-text"),w.jsx(n,{ref:s,className:Re(t,e),...i})));$A.displayName="DropdownItemText";const bP=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",CP=typeof document<"u",qA=CP||bP?R.useLayoutEffect:R.useEffect,Vg=R.createContext(null);Vg.displayName="InputGroupContext";const Rr=R.createContext(null);Rr.displayName="NavbarContext";function zA(t,e){return t}function FA(t,e,n){const i=n?"top-end":"top-start",s=n?"top-start":"top-end",a=n?"bottom-end":"bottom-start",u=n?"bottom-start":"bottom-end",f=n?"right-start":"left-start",p=n?"right-end":"left-end",h=n?"left-start":"right-start",v=n?"left-end":"right-end";let _=t?u:a;return e==="up"?_=t?s:i:e==="end"?_=t?v:h:e==="start"?_=t?p:f:e==="down-centered"?_="bottom":e==="up-centered"&&(_="top"),_}const JA=R.forwardRef(({bsPrefix:t,className:e,align:n,rootCloseEvent:i,flip:s=!0,show:a,renderOnMount:u,as:f="div",popperConfig:p,variant:h,...v},_)=>{let S=!1;const T=R.useContext(Rr),b=Le(t,"dropdown-menu"),{align:A,drop:x,isRTL:I}=R.useContext(Gg);n=n||A;const D=R.useContext(Vg),N=[];if(n)if(typeof n=="object"){const j=Object.keys(n);if(j.length){const le=j[0],re=n[le];S=re==="start",N.push(`${b}-${le}-${re}`)}}else n==="end"&&(S=!0);const P=FA(S,x,I),[z,{hasShown:G,popper:B,show:Q,toggle:X}]=MA({flip:s,rootCloseEvent:i,show:a,usePopper:!T&&N.length===0,offset:[0,2],popperConfig:p,placement:P});if(z.ref=Ag(zA(_),z.ref),qA(()=>{Q&&B?.update()},[Q]),!G&&!u&&!D)return null;typeof f!="string"&&(z.show=Q,z.close=()=>X?.(!1),z.align=n);let te=v.style;return B!=null&&B.placement&&(te={...v.style,...z.style},v["x-placement"]=B.placement),w.jsx(f,{...v,...z,style:te,...(N.length||T)&&{"data-bs-popper":"static"},className:Re(e,b,Q&&"show",S&&`${b}-end`,h&&`${b}-${h}`,...N)})});JA.displayName="DropdownMenu";const YA=R.forwardRef(({bsPrefix:t,split:e,className:n,childBsPrefix:i,as:s=aA,...a},u)=>{const f=Le(t,"dropdown-toggle"),p=R.useContext(Hf);i!==void 0&&(a.bsPrefix=i);const[h]=UA();return h.ref=Ag(h.ref,zA(u)),w.jsx(s,{className:Re(n,f,e&&`${f}-split`,p?.show&&"show"),...h,...a})});YA.displayName="DropdownToggle";const KA=R.forwardRef((t,e)=>{const{bsPrefix:n,drop:i="down",show:s,className:a,align:u="start",onSelect:f,onToggle:p,focusFirstItemOnShow:h,as:v="div",navbar:_,autoClose:S=!0,...T}=bg(t,{show:"onToggle"}),b=R.useContext(Vg),A=Le(n,"dropdown"),x=Z1(),I=B=>S===!1?B==="click":S==="inside"?B!=="rootClose":S==="outside"?B!=="select":!0,D=ql((B,Q)=>{var X;!((X=Q.originalEvent)==null||(X=X.target)==null)&&X.classList.contains("dropdown-toggle")&&Q.source==="mousedown"||(Q.originalEvent.currentTarget===document&&(Q.source!=="keydown"||Q.originalEvent.key==="Escape")&&(Q.source="rootClose"),I(Q.source)&&p?.(B,Q))}),P=FA(u==="end",i,x),z=R.useMemo(()=>({align:u,drop:i,isRTL:x}),[u,i,x]),G={down:A,"down-centered":`${A}-center`,up:"dropup","up-centered":"dropup-center dropup",end:"dropend",start:"dropstart"};return w.jsx(Gg.Provider,{value:z,children:w.jsx(Jl,{placement:P,show:s,onSelect:f,onToggle:D,focusFirstItemOnShow:h,itemSelector:`.${A}-item:not(.disabled):not(:disabled)`,children:b?T.children:w.jsx(v,{...T,ref:e,className:Re(a,s&&"show",G[i])})})})});KA.displayName="Dropdown";const Cc=Object.assign(KA,{Toggle:YA,Menu:JA,Item:VA,ItemText:$A,Divider:HA,Header:GA}),AE=t=>!t||typeof t=="function"?t:e=>{t.current=e};function AP(t,e){const n=AE(t),i=AE(e);return s=>{n&&n(s),i&&i(s)}}function qf(t,e){return R.useMemo(()=>AP(t,e),[t,e])}const XA=R.createContext(null),wP=["as","active","eventKey"];function xP(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)>=0)continue;n[i]=t[i]}return n}function WA({key:t,onClick:e,active:n,id:i,role:s,disabled:a}){const u=R.useContext(Er),f=R.useContext(Vf),p=R.useContext(XA);let h=n;const v={role:s};if(f){!s&&f.role==="tablist"&&(v.role="tab");const _=f.getControllerId(t??null),S=f.getControlledId(t??null);v[Js("event-key")]=t,v.id=_||i,h=n==null&&t!=null?f.activeKey===t:n,(h||!(p!=null&&p.unmountOnExit)&&!(p!=null&&p.mountOnEnter))&&(v["aria-controls"]=S)}return v.role==="tab"&&(v["aria-selected"]=h,h||(v.tabIndex=-1),a&&(v.tabIndex=-1,v["aria-disabled"]=!0)),v.onClick=Dt(_=>{a||(e?.(_),t!=null&&u&&!_.isPropagationStopped()&&u(t,_))}),[v,{isActive:h}]}const QA=R.forwardRef((t,e)=>{let{as:n=Rg,active:i,eventKey:s}=t,a=xP(t,wP);const[u,f]=WA(Object.assign({key:Al(s,a.href),active:i},a));return u[Js("active")]=f.isActive,w.jsx(n,Object.assign({},a,u,{ref:e}))});QA.displayName="NavItem";const RP=["as","onSelect","activeKey","role","onKeyDown"];function MP(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)>=0)continue;n[i]=t[i]}return n}const wE=()=>{},xE=Js("event-key"),ZA=R.forwardRef((t,e)=>{let{as:n="div",onSelect:i,activeKey:s,role:a,onKeyDown:u}=t,f=MP(t,RP);const p=_A(),h=R.useRef(!1),v=R.useContext(Er),_=R.useContext(XA);let S,T;_&&(a=a||"tablist",s=_.activeKey,S=_.getControlledId,T=_.getControllerId);const b=R.useRef(null),A=N=>{const P=b.current;if(!P)return null;const z=ki(P,`[${xE}]:not([aria-disabled=true])`),G=P.querySelector("[aria-selected=true]");if(!G||G!==document.activeElement)return null;const B=z.indexOf(G);if(B===-1)return null;let Q=B+N;return Q>=z.length&&(Q=0),Q<0&&(Q=z.length-1),z[Q]},x=(N,P)=>{N!=null&&(i?.(N,P),v?.(N,P))},I=N=>{if(u?.(N),!_)return;let P;switch(N.key){case"ArrowLeft":case"ArrowUp":P=A(-1);break;case"ArrowRight":case"ArrowDown":P=A(1);break;default:return}P&&(N.preventDefault(),x(P.dataset[SP("EventKey")]||null,N),h.current=!0,p())};R.useEffect(()=>{if(b.current&&h.current){const N=b.current.querySelector(`[${xE}][aria-selected=true]`);N?.focus()}h.current=!1});const D=qf(e,b);return w.jsx(Er.Provider,{value:x,children:w.jsx(Vf.Provider,{value:{role:a,activeKey:Al(s),getControlledId:S||wE,getControllerId:T||wE},children:w.jsx(n,Object.assign({},f,{onKeyDown:I,ref:D,role:a}))})})});ZA.displayName="Nav";const NP=Object.assign(ZA,{Item:QA});function Fp(t){t===void 0&&(t=Lf());try{var e=t.activeElement;return!e||!e.nodeName?null:e}catch{return t.body}}function IP(t){const e=R.useRef(t);return e.current=t,e}function DP(t){const e=IP(t);R.useEffect(()=>()=>e.current(),[])}function OP(t=document){const e=t.defaultView;return Math.abs(e.innerWidth-t.documentElement.clientWidth)}const RE=Js("modal-open");class $g{constructor({ownerDocument:e,handleContainerOverflow:n=!0,isRTL:i=!1}={}){this.handleContainerOverflow=n,this.isRTL=i,this.modals=[],this.ownerDocument=e}getScrollbarWidth(){return OP(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes(e){}removeModalAttributes(e){}setContainerStyle(e){const n={overflow:"hidden"},i=this.isRTL?"paddingLeft":"paddingRight",s=this.getElement();e.style={overflow:s.style.overflow,[i]:s.style[i]},e.scrollBarWidth&&(n[i]=`${parseInt(qi(s,i)||"0",10)+e.scrollBarWidth}px`),s.setAttribute(RE,""),qi(s,n)}reset(){[...this.modals].forEach(e=>this.remove(e))}removeContainerStyle(e){const n=this.getElement();n.removeAttribute(RE),Object.assign(n.style,e.style)}add(e){let n=this.modals.indexOf(e);return n!==-1||(n=this.modals.length,this.modals.push(e),this.setModalAttributes(e),n!==0)||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),n}remove(e){const n=this.modals.indexOf(e);n!==-1&&(this.modals.splice(n,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(e))}isTopModal(e){return!!this.modals.length&&this.modals[this.modals.length-1]===e}}const Jp=(t,e)=>kf?t==null?(e||Lf()).body:(typeof t=="function"&&(t=t()),t&&"current"in t&&(t=t.current),t&&("nodeType"in t||t.getBoundingClientRect)?t:null):null;function UP(t,e){const n=$f(),[i,s]=R.useState(()=>Jp(t,n?.document));if(!i){const a=Jp(t);a&&s(a)}return R.useEffect(()=>{},[e,i]),R.useEffect(()=>{const a=Jp(t);a!==i&&s(a)},[t,i]),i}function PP({children:t,in:e,onExited:n,mountOnEnter:i,unmountOnExit:s}){const a=R.useRef(null),u=R.useRef(e),f=Dt(n);R.useEffect(()=>{e?u.current=!0:f(a.current)},[e,f]);const p=qf(a,Fs(t)),h=R.cloneElement(t,{ref:p});return e?h:s||!u.current&&i?null:h}const LP=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children"];function kP(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)>=0)continue;n[i]=t[i]}return n}function BP(t){let{onEnter:e,onEntering:n,onEntered:i,onExit:s,onExiting:a,onExited:u,addEndListener:f,children:p}=t,h=kP(t,LP);const v=R.useRef(null),_=qf(v,Fs(p)),S=P=>z=>{P&&v.current&&P(v.current,z)},T=R.useCallback(S(e),[e]),b=R.useCallback(S(n),[n]),A=R.useCallback(S(i),[i]),x=R.useCallback(S(s),[s]),I=R.useCallback(S(a),[a]),D=R.useCallback(S(u),[u]),N=R.useCallback(S(f),[f]);return Object.assign({},h,{nodeRef:v},e&&{onEnter:T},n&&{onEntering:b},i&&{onEntered:A},s&&{onExit:x},a&&{onExiting:I},u&&{onExited:D},f&&{addEndListener:N},{children:typeof p=="function"?(P,z)=>p(P,Object.assign({},z,{ref:_})):R.cloneElement(p,{ref:_})})}const HP=["component"];function GP(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)>=0)continue;n[i]=t[i]}return n}const VP=R.forwardRef((t,e)=>{let{component:n}=t,i=GP(t,HP);const s=BP(i);return w.jsx(n,Object.assign({ref:e},s))});function $P({in:t,onTransition:e}){const n=R.useRef(null),i=R.useRef(!0),s=Dt(e);return lE(()=>{if(!n.current)return;let a=!1;return s({in:t,element:n.current,initial:i.current,isStale:()=>a}),()=>{a=!0}},[t,s]),lE(()=>(i.current=!1,()=>{i.current=!0}),[]),n}function qP({children:t,in:e,onExited:n,onEntered:i,transition:s}){const[a,u]=R.useState(!e);e&&a&&u(!1);const f=$P({in:!!e,onTransition:h=>{const v=()=>{h.isStale()||(h.in?i?.(h.element,h.initial):(u(!0),n?.(h.element)))};Promise.resolve(s(h)).then(v,_=>{throw h.in||u(!0),_})}}),p=qf(f,Fs(t));return a&&!e?null:R.cloneElement(t,{ref:p})}function ME(t,e,n){return t?w.jsx(VP,Object.assign({},n,{component:t})):e?w.jsx(qP,Object.assign({},n,{transition:e})):w.jsx(PP,Object.assign({},n))}const zP=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];function FP(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)>=0)continue;n[i]=t[i]}return n}let Yp;function JP(t){return Yp||(Yp=new $g({ownerDocument:t?.document})),Yp}function YP(t){const e=$f(),n=t||JP(e),i=R.useRef({dialog:null,backdrop:null});return Object.assign(i.current,{add:()=>n.add(i.current),remove:()=>n.remove(i.current),isTopModal:()=>n.isTopModal(i.current),setDialogRef:R.useCallback(s=>{i.current.dialog=s},[]),setBackdropRef:R.useCallback(s=>{i.current.backdrop=s},[])})}const jA=R.forwardRef((t,e)=>{let{show:n=!1,role:i="dialog",className:s,style:a,children:u,backdrop:f=!0,keyboard:p=!0,onBackdropClick:h,onEscapeKeyDown:v,transition:_,runTransition:S,backdropTransition:T,runBackdropTransition:b,autoFocus:A=!0,enforceFocus:x=!0,restoreFocus:I=!0,restoreFocusOptions:D,renderDialog:N,renderBackdrop:P=Xe=>w.jsx("div",Object.assign({},Xe)),manager:z,container:G,onShow:B,onHide:Q=()=>{},onExit:X,onExited:te,onExiting:j,onEnter:le,onEntering:re,onEntered:fe}=t,_e=FP(t,zP);const k=$f(),Z=UP(G),se=YP(z),Se=oA(),me=rA(n),[O,Y]=R.useState(!n),ne=R.useRef(null);R.useImperativeHandle(e,()=>se,[se]),kf&&!me&&n&&(ne.current=Fp(k?.document)),n&&O&&Y(!1);const ie=Dt(()=>{if(se.add(),Ln.current=No(document,"keydown",Ze),qe.current=No(document,"focus",()=>setTimeout(be),!0),B&&B(),A){var Xe,gi;const Zi=Fp((Xe=(gi=se.dialog)==null?void 0:gi.ownerDocument)!=null?Xe:k?.document);se.dialog&&Zi&&!hf(se.dialog,Zi)&&(ne.current=Zi,se.dialog.focus())}}),he=Dt(()=>{if(se.remove(),Ln.current==null||Ln.current(),qe.current==null||qe.current(),I){var Xe;(Xe=ne.current)==null||Xe.focus==null||Xe.focus(D),ne.current=null}});R.useEffect(()=>{!n||!Z||ie()},[n,Z,ie]),R.useEffect(()=>{O&&he()},[O,he]),DP(()=>{he()});const be=Dt(()=>{if(!x||!Se()||!se.isTopModal())return;const Xe=Fp(k?.document);se.dialog&&Xe&&!hf(se.dialog,Xe)&&se.dialog.focus()}),Ne=Dt(Xe=>{Xe.target===Xe.currentTarget&&(h?.(Xe),f===!0&&Q())}),Ze=Dt(Xe=>{p&&fO(Xe)&&se.isTopModal()&&(v?.(Xe),Xe.defaultPrevented||Q())}),qe=R.useRef(),Ln=R.useRef(),jn=(...Xe)=>{Y(!0),te?.(...Xe)};if(!Z)return null;const Qi=Object.assign({role:i,ref:se.setDialogRef,"aria-modal":i==="dialog"?!0:void 0},_e,{style:a,className:s,tabIndex:-1});let mi=N?N(Qi):w.jsx("div",Object.assign({},Qi,{children:R.cloneElement(u,{role:"document"})}));mi=ME(_,S,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!n,onExit:X,onExiting:j,onExited:jn,onEnter:le,onEntering:re,onEntered:fe,children:mi});let Gt=null;return f&&(Gt=P({ref:se.setBackdropRef,onClick:Ne}),Gt=ME(T,b,{in:!!n,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:Gt})),w.jsx(w.Fragment,{children:Ms.createPortal(w.jsxs(w.Fragment,{children:[Gt,mi]}),Z)})});jA.displayName="Modal";const KP=Object.assign(jA,{Manager:$g});function XP(t,e){return t.classList?t.classList.contains(e):(" "+(t.className.baseVal||t.className)+" ").indexOf(" "+e+" ")!==-1}function WP(t,e){t.classList?t.classList.add(e):XP(t,e)||(typeof t.className=="string"?t.className=t.className+" "+e:t.setAttribute("class",(t.className&&t.className.baseVal||"")+" "+e))}function NE(t,e){return t.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function QP(t,e){t.classList?t.classList.remove(e):typeof t.className=="string"?t.className=NE(t.className,e):t.setAttribute("class",NE(t.className&&t.className.baseVal||"",e))}const gs={FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top",NAVBAR_TOGGLER:".navbar-toggler"};class ew extends $g{adjustAndStore(e,n,i){const s=n.style[e];n.dataset[e]=s,qi(n,{[e]:`${parseFloat(qi(n,e))+i}px`})}restore(e,n){const i=n.dataset[e];i!==void 0&&(delete n.dataset[e],qi(n,{[e]:i}))}setContainerStyle(e){super.setContainerStyle(e);const n=this.getElement();if(WP(n,"modal-open"),!e.scrollBarWidth)return;const i=this.isRTL?"paddingLeft":"paddingRight",s=this.isRTL?"marginLeft":"marginRight";ki(n,gs.FIXED_CONTENT).forEach(a=>this.adjustAndStore(i,a,e.scrollBarWidth)),ki(n,gs.STICKY_CONTENT).forEach(a=>this.adjustAndStore(s,a,-e.scrollBarWidth)),ki(n,gs.NAVBAR_TOGGLER).forEach(a=>this.adjustAndStore(s,a,e.scrollBarWidth))}removeContainerStyle(e){super.removeContainerStyle(e);const n=this.getElement();QP(n,"modal-open");const i=this.isRTL?"paddingLeft":"paddingRight",s=this.isRTL?"marginLeft":"marginRight";ki(n,gs.FIXED_CONTENT).forEach(a=>this.restore(i,a)),ki(n,gs.STICKY_CONTENT).forEach(a=>this.restore(s,a)),ki(n,gs.NAVBAR_TOGGLER).forEach(a=>this.restore(s,a))}}let Kp;function ZP(t){return Kp||(Kp=new ew(t)),Kp}const tw=R.createContext({onHide(){}}),nw=R.forwardRef(({closeLabel:t="Close",closeVariant:e,closeButton:n=!1,onHide:i,children:s,...a},u)=>{const f=R.useContext(tw),p=ql(()=>{f?.onHide(),i?.()});return w.jsxs("div",{ref:u,...a,children:[s,n&&w.jsx(Ng,{"aria-label":t,variant:e,onClick:p})]})});nw.displayName="AbstractModalHeader";const iw=R.forwardRef(({className:t,bsPrefix:e,as:n="div",...i},s)=>(e=Le(e,"nav-item"),w.jsx(n,{ref:s,className:Re(t,e),...i})));iw.displayName="NavItem";const ow=R.forwardRef(({bsPrefix:t,className:e,as:n=Mg,active:i,eventKey:s,disabled:a=!1,...u},f)=>{t=Le(t,"nav-link");const[p,h]=WA({key:Al(s,u.href),active:i,disabled:a,...u});return w.jsx(n,{...u,...p,ref:f,disabled:a,className:Re(e,t,a&&"disabled",h.isActive&&"active")})});ow.displayName="NavLink";const rw=R.forwardRef((t,e)=>{const{as:n="div",bsPrefix:i,variant:s,fill:a=!1,justify:u=!1,navbar:f,navbarScroll:p,className:h,activeKey:v,..._}=bg(t,{activeKey:"onSelect"}),S=Le(i,"nav");let T,b,A=!1;const x=R.useContext(Rr),I=R.useContext(Dg);return x?(T=x.bsPrefix,A=f??!0):I&&({cardHeaderBsPrefix:b}=I),w.jsx(NP,{as:n,ref:e,activeKey:v,className:Re(h,{[S]:!A,[`${T}-nav`]:A,[`${T}-nav-scroll`]:A&&p,[`${b}-${s}`]:!!b,[`${S}-${s}`]:!!s,[`${S}-fill`]:a,[`${S}-justified`]:u}),..._})});rw.displayName="Nav";const jP=Object.assign(rw,{Item:iw,Link:ow}),sw=R.forwardRef(({bsPrefix:t,className:e,as:n,...i},s)=>{t=Le(t,"navbar-brand");const a=n||(i.href?"a":"span");return w.jsx(a,{...i,ref:s,className:Re(e,t)})});sw.displayName="NavbarBrand";const aw=R.forwardRef(({children:t,bsPrefix:e,...n},i)=>{e=Le(e,"navbar-collapse");const s=R.useContext(Rr);return w.jsx(iA,{in:!!(s&&s.expanded),...n,children:w.jsx("div",{ref:i,className:e,children:t})})});aw.displayName="NavbarCollapse";const lw=R.forwardRef(({bsPrefix:t,className:e,children:n,label:i="Toggle navigation",as:s="button",onClick:a,...u},f)=>{t=Le(t,"navbar-toggler");const{onToggle:p,expanded:h}=R.useContext(Rr)||{},v=ql(_=>{a&&a(_),p&&p()});return s==="button"&&(u.type="button"),w.jsx(s,{...u,ref:f,onClick:v,"aria-label":i,className:Re(e,t,!h&&"collapsed"),children:n||w.jsx("span",{className:`${t}-icon`})})});lw.displayName="NavbarToggle";const Im=new WeakMap,IE=(t,e)=>{if(!t||!e)return;const n=Im.get(e)||new Map;Im.set(e,n);let i=n.get(t);return i||(i=e.matchMedia(t),i.refCount=0,n.set(i.media,i)),i};function eL(t,e=typeof window>"u"?void 0:window){const n=IE(t,e),[i,s]=R.useState(()=>n?n.matches:!1);return qA(()=>{let a=IE(t,e);if(!a)return s(!1);let u=Im.get(e);const f=()=>{s(a.matches)};return a.refCount++,a.addListener(f),f(),()=>{a.removeListener(f),a.refCount--,a.refCount<=0&&u?.delete(a.media),a=void 0}},[t]),i}function tL(t){const e=Object.keys(t);function n(f,p){return f===p?p:f?`${f} and ${p}`:p}function i(f){return e[Math.min(e.indexOf(f)+1,e.length-1)]}function s(f){const p=i(f);let h=t[p];return typeof h=="number"?h=`${h-.2}px`:h=`calc(${h} - 0.2px)`,`(max-width: ${h})`}function a(f){let p=t[f];return typeof p=="number"&&(p=`${p}px`),`(min-width: ${p})`}function u(f,p,h){let v;typeof f=="object"?(v=f,h=p,p=!0):(p=p||!0,v={[f]:p});let _=R.useMemo(()=>Object.entries(v).reduce((S,[T,b])=>((b==="up"||b===!0)&&(S=n(S,a(T))),(b==="down"||b===!0)&&(S=n(S,s(T))),S),""),[JSON.stringify(v)]);return eL(_,h)}return u}const nL=tL({xs:0,sm:576,md:768,lg:992,xl:1200,xxl:1400}),uw=R.forwardRef(({className:t,bsPrefix:e,as:n="div",...i},s)=>(e=Le(e,"offcanvas-body"),w.jsx(n,{ref:s,className:Re(t,e),...i})));uw.displayName="OffcanvasBody";const iL={[$n]:"show",[Gi]:"show"},cw=R.forwardRef(({bsPrefix:t,className:e,children:n,in:i=!1,mountOnEnter:s=!1,unmountOnExit:a=!1,appear:u=!1,...f},p)=>(t=Le(t,"offcanvas"),w.jsx(Bf,{ref:p,addEndListener:Cg,in:i,mountOnEnter:s,unmountOnExit:a,appear:u,...f,childRef:Fs(n),children:(h,v)=>R.cloneElement(n,{...v,className:Re(e,n.props.className,(h===$n||h===Tl)&&`${t}-toggling`,iL[h])})})));cw.displayName="OffcanvasToggling";const fw=R.forwardRef(({bsPrefix:t,className:e,closeLabel:n="Close",closeButton:i=!1,...s},a)=>(t=Le(t,"offcanvas-header"),w.jsx(nw,{ref:a,...s,className:Re(e,t),closeLabel:n,closeButton:i})));fw.displayName="OffcanvasHeader";const oL=wg("h5"),dw=R.forwardRef(({className:t,bsPrefix:e,as:n=oL,...i},s)=>(e=Le(e,"offcanvas-title"),w.jsx(n,{ref:s,className:Re(t,e),...i})));dw.displayName="OffcanvasTitle";function rL(t){return w.jsx(cw,{...t})}function sL(t){return w.jsx(sA,{...t})}const hw=R.forwardRef(({bsPrefix:t,className:e,children:n,"aria-labelledby":i,placement:s="start",responsive:a,show:u=!1,backdrop:f=!0,keyboard:p=!0,scroll:h=!1,onEscapeKeyDown:v,onShow:_,onHide:S,container:T,autoFocus:b=!0,enforceFocus:A=!0,restoreFocus:x=!0,restoreFocusOptions:I,onEntered:D,onExit:N,onExiting:P,onEnter:z,onEntering:G,onExited:B,backdropClassName:Q,manager:X,renderStaticNode:te=!1,...j},le)=>{const re=R.useRef();t=Le(t,"offcanvas");const[fe,_e]=R.useState(!1),k=ql(S),Z=nL(a||"xs","up");R.useEffect(()=>{_e(a?u&&!Z:u)},[u,a,Z]);const se=R.useMemo(()=>({onHide:k}),[k]);function Se(){return X||(h?(re.current||(re.current=new ew({handleContainerOverflow:!1})),re.current):ZP())}const me=(ie,...he)=>{ie&&(ie.style.visibility="visible"),z?.(ie,...he)},O=(ie,...he)=>{ie&&(ie.style.visibility=""),B?.(...he)},Y=R.useCallback(ie=>w.jsx("div",{...ie,className:Re(`${t}-backdrop`,Q)}),[Q,t]),ne=ie=>w.jsx("div",{...ie,...j,className:Re(e,a?`${t}-${a}`:t,`${t}-${s}`),"aria-labelledby":i,children:n});return w.jsxs(w.Fragment,{children:[!fe&&(a||te)&&ne({}),w.jsx(tw.Provider,{value:se,children:w.jsx(KP,{show:fe,ref:le,backdrop:f,container:T,keyboard:p,autoFocus:b,enforceFocus:A&&!h,restoreFocus:x,restoreFocusOptions:I,onEscapeKeyDown:v,onShow:_,onHide:k,onEnter:me,onEntering:G,onEntered:D,onExit:N,onExiting:P,onExited:O,manager:Se(),transition:rL,backdropTransition:sL,renderBackdrop:Y,renderDialog:ne})})]})});hw.displayName="Offcanvas";const aL=Object.assign(hw,{Body:uw,Header:fw,Title:dw}),pw=R.forwardRef(({onHide:t,...e},n)=>{const i=R.useContext(Rr),s=ql(()=>{i==null||i.onToggle==null||i.onToggle(),t?.()});return w.jsx(aL,{ref:n,show:!!(i!=null&&i.expanded),...e,renderStaticNode:!0,onHide:s})});pw.displayName="NavbarOffcanvas";const mw=R.forwardRef(({className:t,bsPrefix:e,as:n="span",...i},s)=>(e=Le(e,"navbar-text"),w.jsx(n,{ref:s,className:Re(t,e),...i})));mw.displayName="NavbarText";const gw=R.forwardRef((t,e)=>{const{bsPrefix:n,expand:i=!0,variant:s="light",bg:a,fixed:u,sticky:f,className:p,as:h="nav",expanded:v,onToggle:_,onSelect:S,collapseOnSelect:T=!1,...b}=bg(t,{expanded:"onToggle"}),A=Le(n,"navbar"),x=R.useCallback((...N)=>{S?.(...N),T&&v&&_?.(!1)},[S,T,v,_]);b.role===void 0&&h!=="nav"&&(b.role="navigation");let I=`${A}-expand`;typeof i=="string"&&(I=`${I}-${i}`);const D=R.useMemo(()=>({onToggle:()=>_?.(!v),bsPrefix:A,expanded:!!v,expand:i}),[A,v,i,_]);return w.jsx(Rr.Provider,{value:D,children:w.jsx(Er.Provider,{value:x,children:w.jsx(h,{ref:e,...b,className:Re(p,A,i&&I,s&&`${A}-${s}`,a&&`bg-${a}`,f&&`sticky-${f}`,u&&`fixed-${u}`)})})})});gw.displayName="Navbar";const DE=Object.assign(gw,{Brand:sw,Collapse:aw,Offcanvas:pw,Text:mw,Toggle:lw}),vw=R.forwardRef(({bsPrefix:t,className:e,as:n="div",...i},s)=>{const a=Le(t,"row"),u=ZC(),f=jC(),p=`${a}-cols`,h=[];return u.forEach(v=>{const _=i[v];delete i[v];let S;_!=null&&typeof _=="object"?{cols:S}=_:S=_;const T=v!==f?`-${v}`:"";S!=null&&h.push(`${p}${T}-${S}`)}),w.jsx(n,{ref:s,...i,className:Re(e,a,...h)})});vw.displayName="Row";const yw=R.forwardRef(({bsPrefix:t,variant:e,animation:n="border",size:i,as:s="div",className:a,...u},f)=>{t=Le(t,"spinner");const p=`${t}-${n}`;return w.jsx(s,{ref:f,...u,className:Re(a,p,i&&`${p}-${i}`,e&&`text-${e}`)})});yw.displayName="Spinner";const _w=({name:t,onClick:e,subItems:n})=>{const[i,s]=R.useState(!1);return w.jsxs("div",{onMouseEnter:()=>s(!0),onMouseLeave:()=>s(!1),style:{position:"relative"},children:[w.jsxs("div",{className:"dropdown-item d-flex justify-content-between",style:{cursor:"pointer"},onClick:e,children:[t," ",n?w.jsx("span",{children:""}):null]}),n&&i&&w.jsx("div",{className:"dropdown-menu show",style:{position:"absolute",top:0,left:"100%",minWidth:"180px",zIndex:1e3},children:n.map((a,u)=>w.jsx(_w,{name:a.name,onClick:a.onClick,subItems:a.subItems},u))})]})},vs=({title:t,items:e,onClick:n})=>{const[i,s]=R.useState(!1),a=e&&e.length>0;return w.jsxs("div",{className:"nav-item dropdown",onMouseEnter:()=>s(!0),onMouseLeave:()=>s(!1),style:{position:"relative"},children:[w.jsx("span",{className:"nav-link dropdown-toggle",style:{cursor:a||n?"pointer":"default"},onClick:()=>{n&&n()},children:t}),i&&a&&w.jsx("div",{className:"dropdown-menu show",style:{minWidth:"180px"},children:e.map((u,f)=>w.jsx(_w,{...u},f))})]})};class Tr{fileHandle;data;constructor(e,n){this.fileHandle=e,this.data=_t(n),ko(this)}static async create(e,n,i={}){try{const s=await e.getFileHandle(n,{create:!0}),u=await(await s.getFile()).text(),f=u.trim()===""?{...i}:{...i,...JSON.parse(u)};return new Tr(s,f)}catch(s){console.error("Error loading JSON:",s);const a=await e.getFileHandle(n,{create:!0});return new Tr(a,{...i})}}async save(){try{let e=await this.fileHandle.queryPermission({mode:"readwrite"});if(e!=="granted"&&(e=await this.fileHandle.requestPermission({mode:"readwrite"})),e!=="granted")throw new Error("No permission to write file");const n=await this.fileHandle.createWritable();await n.write(JSON.stringify(this.data,null,2)),await n.close()}catch(e){console.error("Error saving JSON:",e)}}async updateField(e,n){nt(()=>{this.data[e]=n}),await this.save()}}class br{handle;parent;urlObject=null;base64Data=null;constructor(e,n){this.handle=e,this.parent=n}async getUrlObject(){if(!this.urlObject)try{const e=await this.handle.getFile();this.urlObject=URL.createObjectURL(e)}catch(e){console.error("Failed to create object URL for file:",e),this.urlObject=""}return this.urlObject}revokeUrl(){this.urlObject&&(URL.revokeObjectURL(this.urlObject),this.urlObject=null)}static async fromUrl(e,n){try{const i=await fetch(e);if(!i.ok)throw new Error(`Failed to fetch image: ${i.statusText}`);const s=await i.blob(),a=e.split("/");let u=a[a.length-1];const f=await n.getFileHandle(u,{create:!0}),p=await f.createWritable();return await p.write(s),await p.close(),new br(f,n)}catch(i){throw console.error("Failed to create LocalImage from URL:",i),i}}async delete(e){try{this.revokeUrl(),await e.removeEntry(this.handle.name)}catch(n){throw console.error("Failed to delete image file:",n),n}}async getBase64(){if(this.base64Data)return this.base64Data;try{const e=await this.handle.getFile(),n=await e.arrayBuffer(),i=e.type||"image/png",s=lL(n);return this.base64Data={rawBase64:s,mime:i},this.base64Data}catch(e){return console.error("Failed to create Base64 from file:",e),{rawBase64:"",mime:"image/png"}}}static async fromBase64(e,n,i){try{let s=e.rawBase64;const a=`data:${e.mime};base64,`;s.startsWith(a)&&(s=s.slice(a.length));const u=atob(s),f=u.length,p=new Uint8Array(f);for(let S=0;S<f;S++)p[S]=u.charCodeAt(S);const h=await n.getFileHandle(i,{create:!0}),v=await h.createWritable();await v.write(p),await v.close();const _=new br(h,n);return _.base64Data=e,_}catch(s){throw console.error("Failed to create LocalImage from Base64:",s),s}}}function lL(t){let e="";const n=new Uint8Array(t),i=n.byteLength;for(let s=0;s<i;s++)e+=String.fromCharCode(n[s]);return btoa(e)}var uL={};let cL,fL;function dL(){return{geminiUrl:cL,vertexUrl:fL}}function hL(t,e,n,i){var s,a;if(!t?.baseUrl){const u=dL();return e?(s=u.vertexUrl)!==null&&s!==void 0?s:n:(a=u.geminiUrl)!==null&&a!==void 0?a:i}return t.baseUrl}class Xi{}function ae(t,e){const n=/\{([^}]+)\}/g;return t.replace(n,(i,s)=>{if(Object.prototype.hasOwnProperty.call(e,s)){const a=e[s];return a!=null?String(a):""}else throw new Error(`Key '${s}' not found in valueMap.`)})}function m(t,e,n){for(let a=0;a<e.length-1;a++){const u=e[a];if(u.endsWith("[]")){const f=u.slice(0,-2);if(!(f in t))if(Array.isArray(n))t[f]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${u}`);if(Array.isArray(t[f])){const p=t[f];if(Array.isArray(n))for(let h=0;h<p.length;h++){const v=p[h];m(v,e.slice(a+1),n[h])}else for(const h of p)m(h,e.slice(a+1),n)}return}else if(u.endsWith("[0]")){const f=u.slice(0,-3);f in t||(t[f]=[{}]);const p=t[f];m(p[0],e.slice(a+1),n);return}(!t[u]||typeof t[u]!="object")&&(t[u]={}),t=t[u]}const i=e[e.length-1],s=t[i];if(s!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===s)return;if(typeof s=="object"&&typeof n=="object"&&s!==null&&n!==null)Object.assign(s,n);else throw new Error(`Cannot set value for an existing key. Key: ${i}`)}else i==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(t,n):t[i]=n}function d(t,e,n=void 0){try{if(e.length===1&&e[0]==="_self")return t;for(let i=0;i<e.length;i++){if(typeof t!="object"||t===null)return n;const s=e[i];if(s.endsWith("[]")){const a=s.slice(0,-2);if(a in t){const u=t[a];return Array.isArray(u)?u.map(f=>d(f,e.slice(i+1),n)):n}else return n}else t=t[s]}return t}catch(i){if(i instanceof TypeError)return n;throw i}}function pL(t,e){for(const[n,i]of Object.entries(e)){const s=n.split("."),a=i.split("."),u=new Set;let f=-1;for(let p=0;p<s.length;p++)if(s[p]==="*"){f=p;break}if(f!==-1&&a.length>f)for(let p=f;p<a.length;p++){const h=a[p];h!=="*"&&!h.endsWith("[]")&&!h.endsWith("[0]")&&u.add(h)}Dm(t,s,a,0,u)}}function Dm(t,e,n,i,s){if(i>=e.length||typeof t!="object"||t===null)return;const a=e[i];if(a.endsWith("[]")){const u=a.slice(0,-2),f=t;if(u in f&&Array.isArray(f[u]))for(const p of f[u])Dm(p,e,n,i+1,s)}else if(a==="*"){if(typeof t=="object"&&t!==null&&!Array.isArray(t)){const u=t,f=Object.keys(u).filter(h=>!h.startsWith("_")&&!s.has(h)),p={};for(const h of f)p[h]=u[h];for(const[h,v]of Object.entries(p)){const _=[];for(const S of n.slice(i))S==="*"?_.push(h):_.push(S);m(u,_,v)}for(const h of f)delete u[h]}}else{const u=t;a in u&&Dm(u[a],e,n,i+1,s)}}function qg(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}function mL(t){const e={},n=d(t,["operationName"]);n!=null&&m(e,["operationName"],n);const i=d(t,["resourceName"]);return i!=null&&m(e,["_url","resourceName"],i),e}function gL(t){const e={},n=d(t,["name"]);n!=null&&m(e,["name"],n);const i=d(t,["metadata"]);i!=null&&m(e,["metadata"],i);const s=d(t,["done"]);s!=null&&m(e,["done"],s);const a=d(t,["error"]);a!=null&&m(e,["error"],a);const u=d(t,["response","generateVideoResponse"]);return u!=null&&m(e,["response"],yL(u)),e}function vL(t){const e={},n=d(t,["name"]);n!=null&&m(e,["name"],n);const i=d(t,["metadata"]);i!=null&&m(e,["metadata"],i);const s=d(t,["done"]);s!=null&&m(e,["done"],s);const a=d(t,["error"]);a!=null&&m(e,["error"],a);const u=d(t,["response"]);return u!=null&&m(e,["response"],_L(u)),e}function yL(t){const e={},n=d(t,["generatedSamples"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(u=>SL(u))),m(e,["generatedVideos"],a)}const i=d(t,["raiMediaFilteredCount"]);i!=null&&m(e,["raiMediaFilteredCount"],i);const s=d(t,["raiMediaFilteredReasons"]);return s!=null&&m(e,["raiMediaFilteredReasons"],s),e}function _L(t){const e={},n=d(t,["videos"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(u=>EL(u))),m(e,["generatedVideos"],a)}const i=d(t,["raiMediaFilteredCount"]);i!=null&&m(e,["raiMediaFilteredCount"],i);const s=d(t,["raiMediaFilteredReasons"]);return s!=null&&m(e,["raiMediaFilteredReasons"],s),e}function SL(t){const e={},n=d(t,["video"]);return n!=null&&m(e,["video"],xL(n)),e}function EL(t){const e={},n=d(t,["_self"]);return n!=null&&m(e,["video"],RL(n)),e}function TL(t){const e={},n=d(t,["operationName"]);return n!=null&&m(e,["_url","operationName"],n),e}function bL(t){const e={},n=d(t,["operationName"]);return n!=null&&m(e,["_url","operationName"],n),e}function CL(t){const e={},n=d(t,["name"]);n!=null&&m(e,["name"],n);const i=d(t,["metadata"]);i!=null&&m(e,["metadata"],i);const s=d(t,["done"]);s!=null&&m(e,["done"],s);const a=d(t,["error"]);a!=null&&m(e,["error"],a);const u=d(t,["response"]);return u!=null&&m(e,["response"],AL(u)),e}function AL(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const i=d(t,["parent"]);i!=null&&m(e,["parent"],i);const s=d(t,["documentName"]);return s!=null&&m(e,["documentName"],s),e}function Sw(t){const e={},n=d(t,["name"]);n!=null&&m(e,["name"],n);const i=d(t,["metadata"]);i!=null&&m(e,["metadata"],i);const s=d(t,["done"]);s!=null&&m(e,["done"],s);const a=d(t,["error"]);a!=null&&m(e,["error"],a);const u=d(t,["response"]);return u!=null&&m(e,["response"],wL(u)),e}function wL(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const i=d(t,["parent"]);i!=null&&m(e,["parent"],i);const s=d(t,["documentName"]);return s!=null&&m(e,["documentName"],s),e}function xL(t){const e={},n=d(t,["uri"]);n!=null&&m(e,["uri"],n);const i=d(t,["encodedVideo"]);i!=null&&m(e,["videoBytes"],qg(i));const s=d(t,["encoding"]);return s!=null&&m(e,["mimeType"],s),e}function RL(t){const e={},n=d(t,["gcsUri"]);n!=null&&m(e,["uri"],n);const i=d(t,["bytesBase64Encoded"]);i!=null&&m(e,["videoBytes"],qg(i));const s=d(t,["mimeType"]);return s!=null&&m(e,["mimeType"],s),e}var OE;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(OE||(OE={}));var UE;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(UE||(UE={}));var PE;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(PE||(PE={}));var Io;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(Io||(Io={}));var LE;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(LE||(LE={}));var kE;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(kE||(kE={}));var BE;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(BE||(BE={}));var HE;(function(t){t.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",t.HTTP_IN_QUERY="HTTP_IN_QUERY",t.HTTP_IN_HEADER="HTTP_IN_HEADER",t.HTTP_IN_PATH="HTTP_IN_PATH",t.HTTP_IN_BODY="HTTP_IN_BODY",t.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(HE||(HE={}));var GE;(function(t){t.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",t.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",t.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",t.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(GE||(GE={}));var VE;(function(t){t.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",t.LOW="LOW",t.HIGH="HIGH"})(VE||(VE={}));var $E;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})($E||($E={}));var qE;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(qE||(qE={}));var zE;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(zE||(zE={}));var FE;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",t.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",t.NO_IMAGE="NO_IMAGE",t.IMAGE_RECITATION="IMAGE_RECITATION",t.IMAGE_OTHER="IMAGE_OTHER"})(FE||(FE={}));var JE;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(JE||(JE={}));var YE;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(YE||(YE={}));var KE;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",t.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",t.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(KE||(KE={}));var XE;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY",t.MODEL_ARMOR="MODEL_ARMOR",t.JAILBREAK="JAILBREAK"})(XE||(XE={}));var WE;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(WE||(WE={}));var pf;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(pf||(pf={}));var QE;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(QE||(QE={}));var ZE;(function(t){t.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",t.TUNING_MODE_FULL="TUNING_MODE_FULL",t.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(ZE||(ZE={}));var jE;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(jE||(jE={}));var Om;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Om||(Om={}));var eT;(function(t){t.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",t.TUNING_TASK_I2V="TUNING_TASK_I2V",t.TUNING_TASK_T2V="TUNING_TASK_T2V",t.TUNING_TASK_R2V="TUNING_TASK_R2V"})(eT||(eT={}));var tT;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(tT||(tT={}));var nT;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(nT||(nT={}));var iT;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(iT||(iT={}));var oT;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(oT||(oT={}));var rT;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(rT||(rT={}));var sT;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE",t.VALIDATED="VALIDATED"})(sT||(sT={}));var aT;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(aT||(aT={}));var lT;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(lT||(lT={}));var uT;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(uT||(uT={}));var cT;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(cT||(cT={}));var fT;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(fT||(fT={}));var dT;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(dT||(dT={}));var hT;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(hT||(hT={}));var pT;(function(t){t.FOREGROUND="FOREGROUND",t.BACKGROUND="BACKGROUND",t.PROMPT="PROMPT",t.SEMANTIC="SEMANTIC",t.INTERACTIVE="INTERACTIVE"})(pT||(pT={}));var mT;(function(t){t.ASSET="ASSET",t.STYLE="STYLE"})(mT||(mT={}));var gT;(function(t){t.INSERT="INSERT",t.REMOVE="REMOVE",t.REMOVE_STATIC="REMOVE_STATIC",t.OUTPAINT="OUTPAINT"})(gT||(gT={}));var vT;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(vT||(vT={}));var yT;(function(t){t.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",t.PREFERENCE_TUNING="PREFERENCE_TUNING"})(yT||(yT={}));var _T;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.STATE_PENDING="STATE_PENDING",t.STATE_ACTIVE="STATE_ACTIVE",t.STATE_FAILED="STATE_FAILED"})(_T||(_T={}));var ST;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(ST||(ST={}));var ET;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED"})(ET||(ET={}));var TT;(function(t){t.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.RESPONSE_REJECTED="RESPONSE_REJECTED",t.NEED_MORE_INPUT="NEED_MORE_INPUT"})(TT||(TT={}));var bT;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(bT||(bT={}));var CT;(function(t){t.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",t.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",t.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(CT||(CT={}));var AT;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(AT||(AT={}));var wT;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(wT||(wT={}));var xT;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(xT||(xT={}));var RT;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(RT||(RT={}));var MT;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(MT||(MT={}));var NT;(function(t){t.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",t.QUALITY="QUALITY",t.DIVERSITY="DIVERSITY",t.VOCALIZATION="VOCALIZATION"})(NT||(NT={}));var Ns;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(Ns||(Ns={}));class Um{constructor(e){const n={};for(const i of e.headers.entries())n[i[0]]=i[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class Za{get text(){var e,n,i,s,a,u,f,p;if(((s=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||s===void 0?void 0:s.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let h="",v=!1;const _=[];for(const S of(p=(f=(u=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||u===void 0?void 0:u.content)===null||f===void 0?void 0:f.parts)!==null&&p!==void 0?p:[]){for(const[T,b]of Object.entries(S))T!=="text"&&T!=="thought"&&T!=="thoughtSignature"&&(b!==null||b!==void 0)&&_.push(T);if(typeof S.text=="string"){if(typeof S.thought=="boolean"&&S.thought)continue;v=!0,h+=S.text}}return _.length>0&&console.warn(`there are non-text parts ${_} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),v?h:void 0}get data(){var e,n,i,s,a,u,f,p;if(((s=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||s===void 0?void 0:s.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let h="";const v=[];for(const _ of(p=(f=(u=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||u===void 0?void 0:u.content)===null||f===void 0?void 0:f.parts)!==null&&p!==void 0?p:[]){for(const[S,T]of Object.entries(_))S!=="inlineData"&&(T!==null||T!==void 0)&&v.push(S);_.inlineData&&typeof _.inlineData.data=="string"&&(h+=atob(_.inlineData.data))}return v.length>0&&console.warn(`there are non-data parts ${v} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),h.length>0?btoa(h):void 0}get functionCalls(){var e,n,i,s,a,u,f,p;if(((s=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||s===void 0?void 0:s.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const h=(p=(f=(u=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||u===void 0?void 0:u.content)===null||f===void 0?void 0:f.parts)===null||p===void 0?void 0:p.filter(v=>v.functionCall).map(v=>v.functionCall).filter(v=>v!==void 0);if(h?.length!==0)return h}get executableCode(){var e,n,i,s,a,u,f,p,h;if(((s=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||s===void 0?void 0:s.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const v=(p=(f=(u=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||u===void 0?void 0:u.content)===null||f===void 0?void 0:f.parts)===null||p===void 0?void 0:p.filter(_=>_.executableCode).map(_=>_.executableCode).filter(_=>_!==void 0);if(v?.length!==0)return(h=v?.[0])===null||h===void 0?void 0:h.code}get codeExecutionResult(){var e,n,i,s,a,u,f,p,h;if(((s=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||s===void 0?void 0:s.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const v=(p=(f=(u=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||u===void 0?void 0:u.content)===null||f===void 0?void 0:f.parts)===null||p===void 0?void 0:p.filter(_=>_.codeExecutionResult).map(_=>_.codeExecutionResult).filter(_=>_!==void 0);if(v?.length!==0)return(h=v?.[0])===null||h===void 0?void 0:h.output}}class IT{}class DT{}class ML{}class NL{}class IL{}class DL{}class OT{}class UT{}class PT{}class OL{}class mf{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const i=new mf;let s;const a=e;return n?s=vL(a):s=gL(a),Object.assign(i,s),i}}class LT{}class kT{}class BT{}class HT{}class UL{}class PL{}class LL{}class zg{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const i=new zg,a=CL(e);return Object.assign(i,a),i}}class kL{}class BL{}class HL{}class GT{}class GL{get text(){var e,n,i;let s="",a=!1;const u=[];for(const f of(i=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&i!==void 0?i:[]){for(const[p,h]of Object.entries(f))p!=="text"&&p!=="thought"&&h!==null&&u.push(p);if(typeof f.text=="string"){if(typeof f.thought=="boolean"&&f.thought)continue;a=!0,s+=f.text}}return u.length>0&&console.warn(`there are non-text parts ${u} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),a?s:void 0}get data(){var e,n,i;let s="";const a=[];for(const u of(i=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&i!==void 0?i:[]){for(const[f,p]of Object.entries(u))f!=="inlineData"&&p!==null&&a.push(f);u.inlineData&&typeof u.inlineData.data=="string"&&(s+=atob(u.inlineData.data))}return a.length>0&&console.warn(`there are non-data parts ${a} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),s.length>0?btoa(s):void 0}}class VL{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class Fg{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const i=new Fg,a=Sw(e);return Object.assign(i,a),i}}function Ve(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function Ew(t,e){const n=Ve(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function Tw(t){return Array.isArray(t)?t.map(e=>gf(e)):[gf(t)]}function gf(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function bw(t){const e=gf(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function Cw(t){const e=gf(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function VT(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function Aw(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>VT(e)):[VT(t)]}function Pm(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function $T(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function qT(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function Ut(t){if(t==null)throw new Error("ContentUnion is required");return Pm(t)?t:{role:"user",parts:Aw(t)}}function Jg(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{const i=Ut(n);return i.parts&&i.parts.length>0&&i.parts[0].text!==void 0?[i.parts[0].text]:[]});if(t.isVertexAI()){const n=Ut(e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>Ut(n)):[Ut(e)]}function Nn(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if($T(t)||qT(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[Ut(t)]}const e=[],n=[],i=Pm(t[0]);for(const s of t){const a=Pm(s);if(a!=i)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(a)e.push(s);else{if($T(s)||qT(s))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(s)}}return i||e.push({role:"user",parts:Aw(n)}),e}function $L(t,e){t.includes("null")&&(e.nullable=!0);const n=t.filter(i=>i!=="null");if(n.length===1)e.type=Object.values(Io).includes(n[0].toUpperCase())?n[0].toUpperCase():Io.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const i of n)e.anyOf.push({type:Object.values(Io).includes(i.toUpperCase())?i.toUpperCase():Io.TYPE_UNSPECIFIED})}}function Os(t){const e={},n=["items"],i=["anyOf"],s=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const a=t.anyOf;a!=null&&a.length==2&&(a[0].type==="null"?(e.nullable=!0,t=a[1]):a[1].type==="null"&&(e.nullable=!0,t=a[0])),t.type instanceof Array&&$L(t.type,e);for(const[u,f]of Object.entries(t))if(f!=null)if(u=="type"){if(f==="null")throw new Error("type: null can not be the only possible type for the field.");if(f instanceof Array)continue;e.type=Object.values(Io).includes(f.toUpperCase())?f.toUpperCase():Io.TYPE_UNSPECIFIED}else if(n.includes(u))e[u]=Os(f);else if(i.includes(u)){const p=[];for(const h of f){if(h.type=="null"){e.nullable=!0;continue}p.push(Os(h))}e[u]=p}else if(s.includes(u)){const p={};for(const[h,v]of Object.entries(f))p[h]=Os(v);e[u]=p}else{if(u==="additionalProperties")continue;e[u]=f}return e}function Yg(t){return Os(t)}function Kg(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function Xg(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function Ys(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=Os(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=Os(e.response));return t}function Ks(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const n of t)e.push(n);return e}function qL(t,e,n,i=1){const s=!e.startsWith(`${n}/`)&&e.split("/").length===i;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:s?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:s?`${n}/${e}`:e}function Wi(t,e){if(typeof e!="string")throw new Error("name must be a string");return qL(t,e,"cachedContents")}function ww(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function Vo(t){return qg(t)}function zL(t){return t!=null&&typeof t=="object"&&"name"in t}function FL(t){return t!=null&&typeof t=="object"&&"video"in t}function JL(t){return t!=null&&typeof t=="object"&&"uri"in t}function xw(t){var e;let n;if(zL(t)&&(n=t.name),!(JL(t)&&(n=t.uri,n===void 0))&&!(FL(t)&&(n=(e=t.video)===null||e===void 0?void 0:e.uri,n===void 0))){if(typeof t=="string"&&(n=t),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const s=n.split("files/")[1].match(/[a-z0-9]+/);if(s===null)throw new Error(`Could not extract file name from URI ${n}`);n=s[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function Rw(t,e){let n;return t.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function Mw(t){for(const e of["models","tunedModels","publisherModels"])if(YL(t,e))return t[e];return[]}function YL(t,e){return t!==null&&typeof t=="object"&&e in t}function KL(t,e={}){const n=t,i={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(i.responseJsonSchema=n.outputSchema),e.behavior&&(i.behavior=e.behavior),{functionDeclarations:[i]}}function XL(t,e={}){const n=[],i=new Set;for(const s of t){const a=s.name;if(i.has(a))throw new Error(`Duplicate function name ${a} found in MCP tools. Please ensure function names are unique.`);i.add(a);const u=KL(s,e);u.functionDeclarations&&n.push(...u.functionDeclarations)}return{functionDeclarations:n}}function Nw(t,e){let n;if(typeof e=="string")if(t.isVertexAI())if(e.startsWith("gs://"))n={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))n={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))n={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(t.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:e}}else n=e;const i=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,s=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(t.isVertexAI()){if(s>0||i!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(i>0||s!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function WL(t){if(typeof t!="string")return t;const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function Iw(t){if(typeof t!="object"||t===null)return{};const e=t,n=e.inlinedResponses;if(typeof n!="object"||n===null)return t;const s=n.inlinedResponses;if(!Array.isArray(s)||s.length===0)return t;let a=!1;for(const u of s){if(typeof u!="object"||u===null)continue;const p=u.response;if(typeof p!="object"||p===null)continue;if(p.embedding!==void 0){a=!0;break}}return a&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),t}function Xs(t,e){const n=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function Dw(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}function QL(t){const e={},n=d(t,["responsesFile"]);n!=null&&m(e,["fileName"],n);const i=d(t,["inlinedResponses","inlinedResponses"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(u=>Ik(u))),m(e,["inlinedResponses"],a)}const s=d(t,["inlinedEmbedContentResponses","inlinedResponses"]);if(s!=null){let a=s;Array.isArray(a)&&(a=a.map(u=>u)),m(e,["inlinedEmbedContentResponses"],a)}return e}function ZL(t){const e={},n=d(t,["predictionsFormat"]);n!=null&&m(e,["format"],n);const i=d(t,["gcsDestination","outputUriPrefix"]);i!=null&&m(e,["gcsUri"],i);const s=d(t,["bigqueryDestination","outputUri"]);return s!=null&&m(e,["bigqueryUri"],s),e}function jL(t){const e={},n=d(t,["format"]);n!=null&&m(e,["predictionsFormat"],n);const i=d(t,["gcsUri"]);i!=null&&m(e,["gcsDestination","outputUriPrefix"],i);const s=d(t,["bigqueryUri"]);if(s!=null&&m(e,["bigqueryDestination","outputUri"],s),d(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(d(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(d(t,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function zc(t){const e={},n=d(t,["name"]);n!=null&&m(e,["name"],n);const i=d(t,["metadata","displayName"]);i!=null&&m(e,["displayName"],i);const s=d(t,["metadata","state"]);s!=null&&m(e,["state"],Dw(s));const a=d(t,["metadata","createTime"]);a!=null&&m(e,["createTime"],a);const u=d(t,["metadata","endTime"]);u!=null&&m(e,["endTime"],u);const f=d(t,["metadata","updateTime"]);f!=null&&m(e,["updateTime"],f);const p=d(t,["metadata","model"]);p!=null&&m(e,["model"],p);const h=d(t,["metadata","output"]);return h!=null&&m(e,["dest"],QL(Iw(h))),e}function Lm(t){const e={},n=d(t,["name"]);n!=null&&m(e,["name"],n);const i=d(t,["displayName"]);i!=null&&m(e,["displayName"],i);const s=d(t,["state"]);s!=null&&m(e,["state"],Dw(s));const a=d(t,["error"]);a!=null&&m(e,["error"],a);const u=d(t,["createTime"]);u!=null&&m(e,["createTime"],u);const f=d(t,["startTime"]);f!=null&&m(e,["startTime"],f);const p=d(t,["endTime"]);p!=null&&m(e,["endTime"],p);const h=d(t,["updateTime"]);h!=null&&m(e,["updateTime"],h);const v=d(t,["model"]);v!=null&&m(e,["model"],v);const _=d(t,["inputConfig"]);_!=null&&m(e,["src"],ek(_));const S=d(t,["outputConfig"]);S!=null&&m(e,["dest"],ZL(Iw(S)));const T=d(t,["completionStats"]);return T!=null&&m(e,["completionStats"],T),e}function ek(t){const e={},n=d(t,["instancesFormat"]);n!=null&&m(e,["format"],n);const i=d(t,["gcsSource","uris"]);i!=null&&m(e,["gcsUri"],i);const s=d(t,["bigquerySource","inputUri"]);return s!=null&&m(e,["bigqueryUri"],s),e}function tk(t,e){const n={};if(d(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(d(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(d(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const i=d(e,["fileName"]);i!=null&&m(n,["fileName"],i);const s=d(e,["inlinedRequests"]);if(s!=null){let a=s;Array.isArray(a)&&(a=a.map(u=>Nk(t,u))),m(n,["requests","requests"],a)}return n}function nk(t){const e={},n=d(t,["format"]);n!=null&&m(e,["instancesFormat"],n);const i=d(t,["gcsUri"]);i!=null&&m(e,["gcsSource","uris"],i);const s=d(t,["bigqueryUri"]);if(s!=null&&m(e,["bigquerySource","inputUri"],s),d(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(d(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function ik(t){const e={},n=d(t,["data"]);if(n!=null&&m(e,["data"],n),d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=d(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}function ok(t,e){const n={},i=d(e,["name"]);return i!=null&&m(n,["_url","name"],Xs(t,i)),n}function rk(t,e){const n={},i=d(e,["name"]);return i!=null&&m(n,["_url","name"],Xs(t,i)),n}function sk(t){const e={},n=d(t,["content"]);n!=null&&m(e,["content"],n);const i=d(t,["citationMetadata"]);i!=null&&m(e,["citationMetadata"],ak(i));const s=d(t,["tokenCount"]);s!=null&&m(e,["tokenCount"],s);const a=d(t,["finishReason"]);a!=null&&m(e,["finishReason"],a);const u=d(t,["avgLogprobs"]);u!=null&&m(e,["avgLogprobs"],u);const f=d(t,["groundingMetadata"]);f!=null&&m(e,["groundingMetadata"],f);const p=d(t,["index"]);p!=null&&m(e,["index"],p);const h=d(t,["logprobsResult"]);h!=null&&m(e,["logprobsResult"],h);const v=d(t,["safetyRatings"]);if(v!=null){let S=v;Array.isArray(S)&&(S=S.map(T=>T)),m(e,["safetyRatings"],S)}const _=d(t,["urlContextMetadata"]);return _!=null&&m(e,["urlContextMetadata"],_),e}function ak(t){const e={},n=d(t,["citationSources"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>s)),m(e,["citations"],i)}return e}function Ow(t){const e={},n=d(t,["parts"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(a=>Bk(a))),m(e,["parts"],s)}const i=d(t,["role"]);return i!=null&&m(e,["role"],i),e}function lk(t,e){const n={},i=d(t,["displayName"]);if(e!==void 0&&i!=null&&m(e,["batch","displayName"],i),d(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function uk(t,e){const n={},i=d(t,["displayName"]);e!==void 0&&i!=null&&m(e,["displayName"],i);const s=d(t,["dest"]);return e!==void 0&&s!=null&&m(e,["outputConfig"],jL(WL(s))),n}function zT(t,e){const n={},i=d(e,["model"]);i!=null&&m(n,["_url","model"],Ve(t,i));const s=d(e,["src"]);s!=null&&m(n,["batch","inputConfig"],tk(t,Nw(t,s)));const a=d(e,["config"]);return a!=null&&lk(a,n),n}function ck(t,e){const n={},i=d(e,["model"]);i!=null&&m(n,["model"],Ve(t,i));const s=d(e,["src"]);s!=null&&m(n,["inputConfig"],nk(Nw(t,s)));const a=d(e,["config"]);return a!=null&&uk(a,n),n}function fk(t,e){const n={},i=d(t,["displayName"]);return e!==void 0&&i!=null&&m(e,["batch","displayName"],i),n}function dk(t,e){const n={},i=d(e,["model"]);i!=null&&m(n,["_url","model"],Ve(t,i));const s=d(e,["src"]);s!=null&&m(n,["batch","inputConfig"],_k(t,s));const a=d(e,["config"]);return a!=null&&fk(a,n),n}function hk(t,e){const n={},i=d(e,["name"]);return i!=null&&m(n,["_url","name"],Xs(t,i)),n}function pk(t,e){const n={},i=d(e,["name"]);return i!=null&&m(n,["_url","name"],Xs(t,i)),n}function mk(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const i=d(t,["name"]);i!=null&&m(e,["name"],i);const s=d(t,["done"]);s!=null&&m(e,["done"],s);const a=d(t,["error"]);return a!=null&&m(e,["error"],a),e}function gk(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const i=d(t,["name"]);i!=null&&m(e,["name"],i);const s=d(t,["done"]);s!=null&&m(e,["done"],s);const a=d(t,["error"]);return a!=null&&m(e,["error"],a),e}function vk(t,e){const n={},i=d(e,["contents"]);if(i!=null){let a=Jg(t,i);Array.isArray(a)&&(a=a.map(u=>u)),m(n,["requests[]","request","content"],a)}const s=d(e,["config"]);return s!=null&&(m(n,["_self"],yk(s,n)),pL(n,{"requests[].*":"requests[].request.*"})),n}function yk(t,e){const n={},i=d(t,["taskType"]);e!==void 0&&i!=null&&m(e,["requests[]","taskType"],i);const s=d(t,["title"]);e!==void 0&&s!=null&&m(e,["requests[]","title"],s);const a=d(t,["outputDimensionality"]);if(e!==void 0&&a!=null&&m(e,["requests[]","outputDimensionality"],a),d(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(d(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function _k(t,e){const n={},i=d(e,["fileName"]);i!=null&&m(n,["file_name"],i);const s=d(e,["inlinedRequests"]);return s!=null&&m(n,["requests"],vk(t,s)),n}function Sk(t){const e={};if(d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=d(t,["fileUri"]);n!=null&&m(e,["fileUri"],n);const i=d(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}function Ek(t){const e={},n=d(t,["id"]);n!=null&&m(e,["id"],n);const i=d(t,["args"]);i!=null&&m(e,["args"],i);const s=d(t,["name"]);if(s!=null&&m(e,["name"],s),d(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(d(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Tk(t){const e={},n=d(t,["mode"]);n!=null&&m(e,["mode"],n);const i=d(t,["allowedFunctionNames"]);if(i!=null&&m(e,["allowedFunctionNames"],i),d(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function bk(t,e,n){const i={},s=d(e,["systemInstruction"]);n!==void 0&&s!=null&&m(n,["systemInstruction"],Ow(Ut(s)));const a=d(e,["temperature"]);a!=null&&m(i,["temperature"],a);const u=d(e,["topP"]);u!=null&&m(i,["topP"],u);const f=d(e,["topK"]);f!=null&&m(i,["topK"],f);const p=d(e,["candidateCount"]);p!=null&&m(i,["candidateCount"],p);const h=d(e,["maxOutputTokens"]);h!=null&&m(i,["maxOutputTokens"],h);const v=d(e,["stopSequences"]);v!=null&&m(i,["stopSequences"],v);const _=d(e,["responseLogprobs"]);_!=null&&m(i,["responseLogprobs"],_);const S=d(e,["logprobs"]);S!=null&&m(i,["logprobs"],S);const T=d(e,["presencePenalty"]);T!=null&&m(i,["presencePenalty"],T);const b=d(e,["frequencyPenalty"]);b!=null&&m(i,["frequencyPenalty"],b);const A=d(e,["seed"]);A!=null&&m(i,["seed"],A);const x=d(e,["responseMimeType"]);x!=null&&m(i,["responseMimeType"],x);const I=d(e,["responseSchema"]);I!=null&&m(i,["responseSchema"],Yg(I));const D=d(e,["responseJsonSchema"]);if(D!=null&&m(i,["responseJsonSchema"],D),d(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(d(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const N=d(e,["safetySettings"]);if(n!==void 0&&N!=null){let re=N;Array.isArray(re)&&(re=re.map(fe=>Hk(fe))),m(n,["safetySettings"],re)}const P=d(e,["tools"]);if(n!==void 0&&P!=null){let re=Ks(P);Array.isArray(re)&&(re=re.map(fe=>Vk(Ys(fe)))),m(n,["tools"],re)}const z=d(e,["toolConfig"]);if(n!==void 0&&z!=null&&m(n,["toolConfig"],Gk(z)),d(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const G=d(e,["cachedContent"]);n!==void 0&&G!=null&&m(n,["cachedContent"],Wi(t,G));const B=d(e,["responseModalities"]);B!=null&&m(i,["responseModalities"],B);const Q=d(e,["mediaResolution"]);Q!=null&&m(i,["mediaResolution"],Q);const X=d(e,["speechConfig"]);if(X!=null&&m(i,["speechConfig"],Kg(X)),d(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const te=d(e,["thinkingConfig"]);te!=null&&m(i,["thinkingConfig"],te);const j=d(e,["imageConfig"]);j!=null&&m(i,["imageConfig"],Mk(j));const le=d(e,["enableEnhancedCivicAnswers"]);return le!=null&&m(i,["enableEnhancedCivicAnswers"],le),i}function Ck(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const i=d(t,["candidates"]);if(i!=null){let p=i;Array.isArray(p)&&(p=p.map(h=>sk(h))),m(e,["candidates"],p)}const s=d(t,["modelVersion"]);s!=null&&m(e,["modelVersion"],s);const a=d(t,["promptFeedback"]);a!=null&&m(e,["promptFeedback"],a);const u=d(t,["responseId"]);u!=null&&m(e,["responseId"],u);const f=d(t,["usageMetadata"]);return f!=null&&m(e,["usageMetadata"],f),e}function Ak(t,e){const n={},i=d(e,["name"]);return i!=null&&m(n,["_url","name"],Xs(t,i)),n}function wk(t,e){const n={},i=d(e,["name"]);return i!=null&&m(n,["_url","name"],Xs(t,i)),n}function xk(t){const e={};if(d(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=d(t,["enableWidget"]);return n!=null&&m(e,["enableWidget"],n),e}function Rk(t){const e={};if(d(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(d(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=d(t,["timeRangeFilter"]);return n!=null&&m(e,["timeRangeFilter"],n),e}function Mk(t){const e={},n=d(t,["aspectRatio"]);n!=null&&m(e,["aspectRatio"],n);const i=d(t,["imageSize"]);if(i!=null&&m(e,["imageSize"],i),d(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(d(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function Nk(t,e){const n={},i=d(e,["model"]);i!=null&&m(n,["request","model"],Ve(t,i));const s=d(e,["contents"]);if(s!=null){let f=Nn(s);Array.isArray(f)&&(f=f.map(p=>Ow(p))),m(n,["request","contents"],f)}const a=d(e,["metadata"]);a!=null&&m(n,["metadata"],a);const u=d(e,["config"]);return u!=null&&m(n,["request","generationConfig"],bk(t,u,d(n,["request"],{}))),n}function Ik(t){const e={},n=d(t,["response"]);n!=null&&m(e,["response"],Ck(n));const i=d(t,["error"]);return i!=null&&m(e,["error"],i),e}function Dk(t,e){const n={},i=d(t,["pageSize"]);e!==void 0&&i!=null&&m(e,["_query","pageSize"],i);const s=d(t,["pageToken"]);if(e!==void 0&&s!=null&&m(e,["_query","pageToken"],s),d(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function Ok(t,e){const n={},i=d(t,["pageSize"]);e!==void 0&&i!=null&&m(e,["_query","pageSize"],i);const s=d(t,["pageToken"]);e!==void 0&&s!=null&&m(e,["_query","pageToken"],s);const a=d(t,["filter"]);return e!==void 0&&a!=null&&m(e,["_query","filter"],a),n}function Uk(t){const e={},n=d(t,["config"]);return n!=null&&Dk(n,e),e}function Pk(t){const e={},n=d(t,["config"]);return n!=null&&Ok(n,e),e}function Lk(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const i=d(t,["nextPageToken"]);i!=null&&m(e,["nextPageToken"],i);const s=d(t,["operations"]);if(s!=null){let a=s;Array.isArray(a)&&(a=a.map(u=>zc(u))),m(e,["batchJobs"],a)}return e}function kk(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const i=d(t,["nextPageToken"]);i!=null&&m(e,["nextPageToken"],i);const s=d(t,["batchPredictionJobs"]);if(s!=null){let a=s;Array.isArray(a)&&(a=a.map(u=>Lm(u))),m(e,["batchJobs"],a)}return e}function Bk(t){const e={},n=d(t,["mediaResolution"]);n!=null&&m(e,["mediaResolution"],n);const i=d(t,["codeExecutionResult"]);i!=null&&m(e,["codeExecutionResult"],i);const s=d(t,["executableCode"]);s!=null&&m(e,["executableCode"],s);const a=d(t,["fileData"]);a!=null&&m(e,["fileData"],Sk(a));const u=d(t,["functionCall"]);u!=null&&m(e,["functionCall"],Ek(u));const f=d(t,["functionResponse"]);f!=null&&m(e,["functionResponse"],f);const p=d(t,["inlineData"]);p!=null&&m(e,["inlineData"],ik(p));const h=d(t,["text"]);h!=null&&m(e,["text"],h);const v=d(t,["thought"]);v!=null&&m(e,["thought"],v);const _=d(t,["thoughtSignature"]);_!=null&&m(e,["thoughtSignature"],_);const S=d(t,["videoMetadata"]);return S!=null&&m(e,["videoMetadata"],S),e}function Hk(t){const e={},n=d(t,["category"]);if(n!=null&&m(e,["category"],n),d(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const i=d(t,["threshold"]);return i!=null&&m(e,["threshold"],i),e}function Gk(t){const e={},n=d(t,["functionCallingConfig"]);n!=null&&m(e,["functionCallingConfig"],Tk(n));const i=d(t,["retrievalConfig"]);return i!=null&&m(e,["retrievalConfig"],i),e}function Vk(t){const e={},n=d(t,["functionDeclarations"]);if(n!=null){let v=n;Array.isArray(v)&&(v=v.map(_=>_)),m(e,["functionDeclarations"],v)}if(d(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=d(t,["googleSearchRetrieval"]);i!=null&&m(e,["googleSearchRetrieval"],i);const s=d(t,["computerUse"]);s!=null&&m(e,["computerUse"],s);const a=d(t,["fileSearch"]);a!=null&&m(e,["fileSearch"],a);const u=d(t,["codeExecution"]);if(u!=null&&m(e,["codeExecution"],u),d(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const f=d(t,["googleMaps"]);f!=null&&m(e,["googleMaps"],xk(f));const p=d(t,["googleSearch"]);p!=null&&m(e,["googleSearch"],Rk(p));const h=d(t,["urlContext"]);return h!=null&&m(e,["urlContext"],h),e}var Yi;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents",t.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",t.PAGED_ITEM_DOCUMENTS="documents"})(Yi||(Yi={}));class Mr{constructor(e,n,i,s){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,i,s)}init(e,n,i){var s,a;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n?.sdkHttpResponse,this.idxInternal=0;let u={config:{}};!i||Object.keys(i).length===0?u={config:{}}:typeof i=="object"?u=Object.assign({},i):u=i,u.config&&(u.config.pageToken=n.nextPageToken),this.paramsInternal=u,this.pageInternalSize=(a=(s=u.config)===null||s===void 0?void 0:s.pageSize)!==null&&a!==void 0?a:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}let $k=class extends Xi{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Mr(Yi.PAGED_ITEM_BATCH_JOBS,i=>this.listInternal(i),await this.listInternal(n),n),this.create=async n=>(this.apiClient.isVertexAI()&&(n.config=this.formatDestination(n.src,n.config)),this.createInternal(n)),this.createEmbeddings=async n=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(n)}}createInlinedGenerateContentRequest(e){const n=zT(this.apiClient,e),i=n._url,s=ae("{model}:batchGenerateContent",i),f=n.batch.inputConfig.requests,p=f.requests,h=[];for(const v of p){const _=Object.assign({},v);if(_.systemInstruction){const S=_.systemInstruction;delete _.systemInstruction;const T=_.request;T.systemInstruction=S,_.request=T}h.push(_)}return f.requests=h,delete n.config,delete n._url,delete n._query,{path:s,body:n}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,n){const i=n?Object.assign({},n):{},s=Date.now().toString();if(i.displayName||(i.displayName=`genaiBatchJob_${s}`),i.dest===void 0){const a=this.getGcsUri(e),u=this.getBigqueryUri(e);if(a)a.endsWith(".jsonl")?i.dest=`${a.slice(0,-6)}/dest`:i.dest=`${a}_dest_${s}`;else if(u)i.dest=`${u}_dest_${s}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return i}async createInternal(e){var n,i,s,a;let u,f="",p={};if(this.apiClient.isVertexAI()){const h=ck(this.apiClient,e);return f=ae("batchPredictionJobs",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json()),u.then(v=>Lm(v))}else{const h=zT(this.apiClient,e);return f=ae("{model}:batchGenerateContent",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),u.then(v=>zc(v))}}async createEmbeddingsInternal(e){var n,i;let s,a="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=dk(this.apiClient,e);return a=ae("{model}:asyncBatchEmbedContent",f._url),u=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),s.then(p=>zc(p))}}async get(e){var n,i,s,a;let u,f="",p={};if(this.apiClient.isVertexAI()){const h=wk(this.apiClient,e);return f=ae("batchPredictionJobs/{name}",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json()),u.then(v=>Lm(v))}else{const h=Ak(this.apiClient,e);return f=ae("batches/{name}",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),u.then(v=>zc(v))}}async cancel(e){var n,i,s,a;let u="",f={};if(this.apiClient.isVertexAI()){const p=rk(this.apiClient,e);u=ae("batchPredictionJobs/{name}:cancel",p._url),f=p._query,delete p._url,delete p._query,await this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal})}else{const p=ok(this.apiClient,e);u=ae("batches/{name}:cancel",p._url),f=p._query,delete p._url,delete p._query,await this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal})}}async listInternal(e){var n,i,s,a;let u,f="",p={};if(this.apiClient.isVertexAI()){const h=Pk(e);return f=ae("batchPredictionJobs",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),u.then(v=>{const _=kk(v),S=new GT;return Object.assign(S,_),S})}else{const h=Uk(e);return f=ae("batches",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),u.then(v=>{const _=Lk(v),S=new GT;return Object.assign(S,_),S})}}async delete(e){var n,i,s,a;let u,f="",p={};if(this.apiClient.isVertexAI()){const h=pk(this.apiClient,e);return f=ae("batchPredictionJobs/{name}",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),u.then(v=>gk(v))}else{const h=hk(this.apiClient,e);return f=ae("batches/{name}",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),u.then(v=>mk(v))}}};function qk(t){const e={},n=d(t,["data"]);if(n!=null&&m(e,["data"],n),d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=d(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}function FT(t){const e={},n=d(t,["parts"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(a=>dB(a))),m(e,["parts"],s)}const i=d(t,["role"]);return i!=null&&m(e,["role"],i),e}function zk(t,e){const n={},i=d(t,["ttl"]);e!==void 0&&i!=null&&m(e,["ttl"],i);const s=d(t,["expireTime"]);e!==void 0&&s!=null&&m(e,["expireTime"],s);const a=d(t,["displayName"]);e!==void 0&&a!=null&&m(e,["displayName"],a);const u=d(t,["contents"]);if(e!==void 0&&u!=null){let v=Nn(u);Array.isArray(v)&&(v=v.map(_=>FT(_))),m(e,["contents"],v)}const f=d(t,["systemInstruction"]);e!==void 0&&f!=null&&m(e,["systemInstruction"],FT(Ut(f)));const p=d(t,["tools"]);if(e!==void 0&&p!=null){let v=p;Array.isArray(v)&&(v=v.map(_=>pB(_))),m(e,["tools"],v)}const h=d(t,["toolConfig"]);if(e!==void 0&&h!=null&&m(e,["toolConfig"],hB(h)),d(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function Fk(t,e){const n={},i=d(t,["ttl"]);e!==void 0&&i!=null&&m(e,["ttl"],i);const s=d(t,["expireTime"]);e!==void 0&&s!=null&&m(e,["expireTime"],s);const a=d(t,["displayName"]);e!==void 0&&a!=null&&m(e,["displayName"],a);const u=d(t,["contents"]);if(e!==void 0&&u!=null){let _=Nn(u);Array.isArray(_)&&(_=_.map(S=>S)),m(e,["contents"],_)}const f=d(t,["systemInstruction"]);e!==void 0&&f!=null&&m(e,["systemInstruction"],Ut(f));const p=d(t,["tools"]);if(e!==void 0&&p!=null){let _=p;Array.isArray(_)&&(_=_.map(S=>mB(S))),m(e,["tools"],_)}const h=d(t,["toolConfig"]);e!==void 0&&h!=null&&m(e,["toolConfig"],h);const v=d(t,["kmsKeyName"]);return e!==void 0&&v!=null&&m(e,["encryption_spec","kmsKeyName"],v),n}function Jk(t,e){const n={},i=d(e,["model"]);i!=null&&m(n,["model"],Ew(t,i));const s=d(e,["config"]);return s!=null&&zk(s,n),n}function Yk(t,e){const n={},i=d(e,["model"]);i!=null&&m(n,["model"],Ew(t,i));const s=d(e,["config"]);return s!=null&&Fk(s,n),n}function Kk(t,e){const n={},i=d(e,["name"]);return i!=null&&m(n,["_url","name"],Wi(t,i)),n}function Xk(t,e){const n={},i=d(e,["name"]);return i!=null&&m(n,["_url","name"],Wi(t,i)),n}function Wk(t){const e={},n=d(t,["sdkHttpResponse"]);return n!=null&&m(e,["sdkHttpResponse"],n),e}function Qk(t){const e={},n=d(t,["sdkHttpResponse"]);return n!=null&&m(e,["sdkHttpResponse"],n),e}function Zk(t){const e={};if(d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=d(t,["fileUri"]);n!=null&&m(e,["fileUri"],n);const i=d(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}function jk(t){const e={},n=d(t,["id"]);n!=null&&m(e,["id"],n);const i=d(t,["args"]);i!=null&&m(e,["args"],i);const s=d(t,["name"]);if(s!=null&&m(e,["name"],s),d(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(d(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function eB(t){const e={},n=d(t,["mode"]);n!=null&&m(e,["mode"],n);const i=d(t,["allowedFunctionNames"]);if(i!=null&&m(e,["allowedFunctionNames"],i),d(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function tB(t){const e={};if(d(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=d(t,["description"]);n!=null&&m(e,["description"],n);const i=d(t,["name"]);i!=null&&m(e,["name"],i);const s=d(t,["parameters"]);s!=null&&m(e,["parameters"],s);const a=d(t,["parametersJsonSchema"]);a!=null&&m(e,["parametersJsonSchema"],a);const u=d(t,["response"]);u!=null&&m(e,["response"],u);const f=d(t,["responseJsonSchema"]);return f!=null&&m(e,["responseJsonSchema"],f),e}function nB(t,e){const n={},i=d(e,["name"]);return i!=null&&m(n,["_url","name"],Wi(t,i)),n}function iB(t,e){const n={},i=d(e,["name"]);return i!=null&&m(n,["_url","name"],Wi(t,i)),n}function oB(t){const e={};if(d(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=d(t,["enableWidget"]);return n!=null&&m(e,["enableWidget"],n),e}function rB(t){const e={};if(d(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(d(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=d(t,["timeRangeFilter"]);return n!=null&&m(e,["timeRangeFilter"],n),e}function sB(t,e){const n={},i=d(t,["pageSize"]);e!==void 0&&i!=null&&m(e,["_query","pageSize"],i);const s=d(t,["pageToken"]);return e!==void 0&&s!=null&&m(e,["_query","pageToken"],s),n}function aB(t,e){const n={},i=d(t,["pageSize"]);e!==void 0&&i!=null&&m(e,["_query","pageSize"],i);const s=d(t,["pageToken"]);return e!==void 0&&s!=null&&m(e,["_query","pageToken"],s),n}function lB(t){const e={},n=d(t,["config"]);return n!=null&&sB(n,e),e}function uB(t){const e={},n=d(t,["config"]);return n!=null&&aB(n,e),e}function cB(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const i=d(t,["nextPageToken"]);i!=null&&m(e,["nextPageToken"],i);const s=d(t,["cachedContents"]);if(s!=null){let a=s;Array.isArray(a)&&(a=a.map(u=>u)),m(e,["cachedContents"],a)}return e}function fB(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const i=d(t,["nextPageToken"]);i!=null&&m(e,["nextPageToken"],i);const s=d(t,["cachedContents"]);if(s!=null){let a=s;Array.isArray(a)&&(a=a.map(u=>u)),m(e,["cachedContents"],a)}return e}function dB(t){const e={},n=d(t,["mediaResolution"]);n!=null&&m(e,["mediaResolution"],n);const i=d(t,["codeExecutionResult"]);i!=null&&m(e,["codeExecutionResult"],i);const s=d(t,["executableCode"]);s!=null&&m(e,["executableCode"],s);const a=d(t,["fileData"]);a!=null&&m(e,["fileData"],Zk(a));const u=d(t,["functionCall"]);u!=null&&m(e,["functionCall"],jk(u));const f=d(t,["functionResponse"]);f!=null&&m(e,["functionResponse"],f);const p=d(t,["inlineData"]);p!=null&&m(e,["inlineData"],qk(p));const h=d(t,["text"]);h!=null&&m(e,["text"],h);const v=d(t,["thought"]);v!=null&&m(e,["thought"],v);const _=d(t,["thoughtSignature"]);_!=null&&m(e,["thoughtSignature"],_);const S=d(t,["videoMetadata"]);return S!=null&&m(e,["videoMetadata"],S),e}function hB(t){const e={},n=d(t,["functionCallingConfig"]);n!=null&&m(e,["functionCallingConfig"],eB(n));const i=d(t,["retrievalConfig"]);return i!=null&&m(e,["retrievalConfig"],i),e}function pB(t){const e={},n=d(t,["functionDeclarations"]);if(n!=null){let v=n;Array.isArray(v)&&(v=v.map(_=>_)),m(e,["functionDeclarations"],v)}if(d(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=d(t,["googleSearchRetrieval"]);i!=null&&m(e,["googleSearchRetrieval"],i);const s=d(t,["computerUse"]);s!=null&&m(e,["computerUse"],s);const a=d(t,["fileSearch"]);a!=null&&m(e,["fileSearch"],a);const u=d(t,["codeExecution"]);if(u!=null&&m(e,["codeExecution"],u),d(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const f=d(t,["googleMaps"]);f!=null&&m(e,["googleMaps"],oB(f));const p=d(t,["googleSearch"]);p!=null&&m(e,["googleSearch"],rB(p));const h=d(t,["urlContext"]);return h!=null&&m(e,["urlContext"],h),e}function mB(t){const e={},n=d(t,["functionDeclarations"]);if(n!=null){let _=n;Array.isArray(_)&&(_=_.map(S=>tB(S))),m(e,["functionDeclarations"],_)}const i=d(t,["retrieval"]);i!=null&&m(e,["retrieval"],i);const s=d(t,["googleSearchRetrieval"]);s!=null&&m(e,["googleSearchRetrieval"],s);const a=d(t,["computerUse"]);if(a!=null&&m(e,["computerUse"],a),d(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const u=d(t,["codeExecution"]);u!=null&&m(e,["codeExecution"],u);const f=d(t,["enterpriseWebSearch"]);f!=null&&m(e,["enterpriseWebSearch"],f);const p=d(t,["googleMaps"]);p!=null&&m(e,["googleMaps"],p);const h=d(t,["googleSearch"]);h!=null&&m(e,["googleSearch"],h);const v=d(t,["urlContext"]);return v!=null&&m(e,["urlContext"],v),e}function gB(t,e){const n={},i=d(t,["ttl"]);e!==void 0&&i!=null&&m(e,["ttl"],i);const s=d(t,["expireTime"]);return e!==void 0&&s!=null&&m(e,["expireTime"],s),n}function vB(t,e){const n={},i=d(t,["ttl"]);e!==void 0&&i!=null&&m(e,["ttl"],i);const s=d(t,["expireTime"]);return e!==void 0&&s!=null&&m(e,["expireTime"],s),n}function yB(t,e){const n={},i=d(e,["name"]);i!=null&&m(n,["_url","name"],Wi(t,i));const s=d(e,["config"]);return s!=null&&gB(s,n),n}function _B(t,e){const n={},i=d(e,["name"]);i!=null&&m(n,["_url","name"],Wi(t,i));const s=d(e,["config"]);return s!=null&&vB(s,n),n}class SB extends Xi{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Mr(Yi.PAGED_ITEM_CACHED_CONTENTS,i=>this.listInternal(i),await this.listInternal(n),n)}async create(e){var n,i,s,a;let u,f="",p={};if(this.apiClient.isVertexAI()){const h=Yk(this.apiClient,e);return f=ae("cachedContents",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json()),u.then(v=>v)}else{const h=Jk(this.apiClient,e);return f=ae("cachedContents",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),u.then(v=>v)}}async get(e){var n,i,s,a;let u,f="",p={};if(this.apiClient.isVertexAI()){const h=iB(this.apiClient,e);return f=ae("{name}",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json()),u.then(v=>v)}else{const h=nB(this.apiClient,e);return f=ae("{name}",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),u.then(v=>v)}}async delete(e){var n,i,s,a;let u,f="",p={};if(this.apiClient.isVertexAI()){const h=Xk(this.apiClient,e);return f=ae("{name}",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),u.then(v=>{const _=Qk(v),S=new BT;return Object.assign(S,_),S})}else{const h=Kk(this.apiClient,e);return f=ae("{name}",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),u.then(v=>{const _=Wk(v),S=new BT;return Object.assign(S,_),S})}}async update(e){var n,i,s,a;let u,f="",p={};if(this.apiClient.isVertexAI()){const h=_B(this.apiClient,e);return f=ae("{name}",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json()),u.then(v=>v)}else{const h=yB(this.apiClient,e);return f=ae("{name}",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),u.then(v=>v)}}async listInternal(e){var n,i,s,a;let u,f="",p={};if(this.apiClient.isVertexAI()){const h=uB(e);return f=ae("cachedContents",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),u.then(v=>{const _=fB(v),S=new HT;return Object.assign(S,_),S})}else{const h=lB(e);return f=ae("cachedContents",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),u.then(v=>{const _=cB(v),S=new HT;return Object.assign(S,_),S})}}}function vf(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(t);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(t,i[s])&&(n[i[s]]=t[i[s]]);return n}function JT(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ce(t){return this instanceof Ce?(this.v=t,this):new Ce(t)}function Yn(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=n.apply(t,e||[]),s,a=[];return s=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),f("next"),f("throw"),f("return",u),s[Symbol.asyncIterator]=function(){return this},s;function u(T){return function(b){return Promise.resolve(b).then(T,_)}}function f(T,b){i[T]&&(s[T]=function(A){return new Promise(function(x,I){a.push([T,A,x,I])>1||p(T,A)})},b&&(s[T]=b(s[T])))}function p(T,b){try{h(i[T](b))}catch(A){S(a[0][3],A)}}function h(T){T.value instanceof Ce?Promise.resolve(T.value.v).then(v,_):S(a[0][2],T)}function v(T){p("next",T)}function _(T){p("throw",T)}function S(T,b){T(b),a.shift(),a.length&&p(a[0][0],a[0][1])}}function Kn(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof JT=="function"?JT(t):t[Symbol.iterator](),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(a){n[a]=t[a]&&function(u){return new Promise(function(f,p){u=t[a](u),s(f,p,u.done,u.value)})}}function s(a,u,f,p){Promise.resolve(p).then(function(h){a({value:h,done:f})},u)}}function EB(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:Uw(n)}function Uw(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function TB(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function YT(t){if(t===void 0||t.length===0)return[];const e=[],n=t.length;let i=0;for(;i<n;)if(t[i].role==="user")e.push(t[i]),i++;else{const s=[];let a=!0;for(;i<n&&t[i].role==="model";)s.push(t[i]),a&&!Uw(t[i])&&(a=!1),i++;a?e.push(...s):e.pop()}return e}class bB{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new CB(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}let CB=class{constructor(e,n,i,s={},a=[]){this.apiClient=e,this.modelsModule=n,this.model=i,this.config=s,this.history=a,this.sendPromise=Promise.resolve(),TB(a)}async sendMessage(e){var n;await this.sendPromise;const i=Ut(e.message),s=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(i),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var a,u,f;const p=await s,h=(u=(a=p.candidates)===null||a===void 0?void 0:a[0])===null||u===void 0?void 0:u.content,v=p.automaticFunctionCallingHistory,_=this.getHistory(!0).length;let S=[];v!=null&&(S=(f=v.slice(_))!==null&&f!==void 0?f:[]);const T=h?[h]:[];this.recordHistory(i,T,S)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),s}async sendMessageStream(e){var n;await this.sendPromise;const i=Ut(e.message),s=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(i),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=s.then(()=>{}).catch(()=>{});const a=await s;return this.processStreamResponse(a,i)}getHistory(e=!1){const n=e?YT(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){return Yn(this,arguments,function*(){var s,a,u,f,p,h;const v=[];try{for(var _=!0,S=Kn(e),T;T=yield Ce(S.next()),s=T.done,!s;_=!0){f=T.value,_=!1;const b=f;if(EB(b)){const A=(h=(p=b.candidates)===null||p===void 0?void 0:p[0])===null||h===void 0?void 0:h.content;A!==void 0&&v.push(A)}yield yield Ce(b)}}catch(b){a={error:b}}finally{try{!_&&!s&&(u=S.return)&&(yield Ce(u.call(S)))}finally{if(a)throw a.error}}this.recordHistory(n,v)})}recordHistory(e,n,i){let s=[];n.length>0&&n.every(a=>a.role!==void 0)?s=n:s.push({role:"model",parts:[]}),i&&i.length>0?this.history.push(...YT(i)):this.history.push(e),this.history.push(...s)}};class zf extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,zf.prototype)}}function AB(t){const e={},n=d(t,["file"]);return n!=null&&m(e,["file"],n),e}function wB(t){const e={},n=d(t,["sdkHttpResponse"]);return n!=null&&m(e,["sdkHttpResponse"],n),e}function xB(t){const e={},n=d(t,["name"]);return n!=null&&m(e,["_url","file"],xw(n)),e}function RB(t){const e={},n=d(t,["sdkHttpResponse"]);return n!=null&&m(e,["sdkHttpResponse"],n),e}function MB(t){const e={},n=d(t,["name"]);return n!=null&&m(e,["_url","file"],xw(n)),e}function NB(t,e){const n={},i=d(t,["pageSize"]);e!==void 0&&i!=null&&m(e,["_query","pageSize"],i);const s=d(t,["pageToken"]);return e!==void 0&&s!=null&&m(e,["_query","pageToken"],s),n}function IB(t){const e={},n=d(t,["config"]);return n!=null&&NB(n,e),e}function DB(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const i=d(t,["nextPageToken"]);i!=null&&m(e,["nextPageToken"],i);const s=d(t,["files"]);if(s!=null){let a=s;Array.isArray(a)&&(a=a.map(u=>u)),m(e,["files"],a)}return e}let OB=class extends Xi{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Mr(Yi.PAGED_ITEM_FILES,i=>this.listInternal(i),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>n)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var n,i;let s,a="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=IB(e);return a=ae("files",f._url),u=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:p.headers},v})),s.then(p=>{const h=DB(p),v=new kL;return Object.assign(v,h),v})}}async createInternal(e){var n,i;let s,a="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=AB(e);return a=ae("upload/v1beta/files",f._url),u=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),s.then(p=>{const h=wB(p),v=new BL;return Object.assign(v,h),v})}}async get(e){var n,i;let s,a="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=MB(e);return a=ae("files/{file}",f._url),u=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),s.then(p=>p)}}async delete(e){var n,i;let s,a="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=xB(e);return a=ae("files/{file}",f._url),u=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:p.headers},v})),s.then(p=>{const h=RB(p),v=new HL;return Object.assign(v,h),v})}}};function Fc(t){const e={},n=d(t,["data"]);if(n!=null&&m(e,["data"],n),d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=d(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}function UB(t){const e={},n=d(t,["parts"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(a=>WB(a))),m(e,["parts"],s)}const i=d(t,["role"]);return i!=null&&m(e,["role"],i),e}function PB(t){const e={};if(d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=d(t,["fileUri"]);n!=null&&m(e,["fileUri"],n);const i=d(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}function LB(t){const e={},n=d(t,["id"]);n!=null&&m(e,["id"],n);const i=d(t,["args"]);i!=null&&m(e,["args"],i);const s=d(t,["name"]);if(s!=null&&m(e,["name"],s),d(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(d(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function kB(t){const e={};if(d(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=d(t,["description"]);n!=null&&m(e,["description"],n);const i=d(t,["name"]);i!=null&&m(e,["name"],i);const s=d(t,["parameters"]);s!=null&&m(e,["parameters"],s);const a=d(t,["parametersJsonSchema"]);a!=null&&m(e,["parametersJsonSchema"],a);const u=d(t,["response"]);u!=null&&m(e,["response"],u);const f=d(t,["responseJsonSchema"]);return f!=null&&m(e,["responseJsonSchema"],f),e}function BB(t){const e={},n=d(t,["modelSelectionConfig"]);n!=null&&m(e,["modelConfig"],n);const i=d(t,["responseJsonSchema"]);i!=null&&m(e,["responseJsonSchema"],i);const s=d(t,["audioTimestamp"]);s!=null&&m(e,["audioTimestamp"],s);const a=d(t,["candidateCount"]);a!=null&&m(e,["candidateCount"],a);const u=d(t,["enableAffectiveDialog"]);u!=null&&m(e,["enableAffectiveDialog"],u);const f=d(t,["frequencyPenalty"]);f!=null&&m(e,["frequencyPenalty"],f);const p=d(t,["logprobs"]);p!=null&&m(e,["logprobs"],p);const h=d(t,["maxOutputTokens"]);h!=null&&m(e,["maxOutputTokens"],h);const v=d(t,["mediaResolution"]);v!=null&&m(e,["mediaResolution"],v);const _=d(t,["presencePenalty"]);_!=null&&m(e,["presencePenalty"],_);const S=d(t,["responseLogprobs"]);S!=null&&m(e,["responseLogprobs"],S);const T=d(t,["responseMimeType"]);T!=null&&m(e,["responseMimeType"],T);const b=d(t,["responseModalities"]);b!=null&&m(e,["responseModalities"],b);const A=d(t,["responseSchema"]);A!=null&&m(e,["responseSchema"],A);const x=d(t,["routingConfig"]);x!=null&&m(e,["routingConfig"],x);const I=d(t,["seed"]);I!=null&&m(e,["seed"],I);const D=d(t,["speechConfig"]);D!=null&&m(e,["speechConfig"],Pw(D));const N=d(t,["stopSequences"]);N!=null&&m(e,["stopSequences"],N);const P=d(t,["temperature"]);P!=null&&m(e,["temperature"],P);const z=d(t,["thinkingConfig"]);z!=null&&m(e,["thinkingConfig"],z);const G=d(t,["topK"]);G!=null&&m(e,["topK"],G);const B=d(t,["topP"]);if(B!=null&&m(e,["topP"],B),d(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function HB(t){const e={};if(d(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=d(t,["enableWidget"]);return n!=null&&m(e,["enableWidget"],n),e}function GB(t){const e={};if(d(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(d(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=d(t,["timeRangeFilter"]);return n!=null&&m(e,["timeRangeFilter"],n),e}function VB(t,e){const n={},i=d(t,["generationConfig"]);e!==void 0&&i!=null&&m(e,["setup","generationConfig"],i);const s=d(t,["responseModalities"]);e!==void 0&&s!=null&&m(e,["setup","generationConfig","responseModalities"],s);const a=d(t,["temperature"]);e!==void 0&&a!=null&&m(e,["setup","generationConfig","temperature"],a);const u=d(t,["topP"]);e!==void 0&&u!=null&&m(e,["setup","generationConfig","topP"],u);const f=d(t,["topK"]);e!==void 0&&f!=null&&m(e,["setup","generationConfig","topK"],f);const p=d(t,["maxOutputTokens"]);e!==void 0&&p!=null&&m(e,["setup","generationConfig","maxOutputTokens"],p);const h=d(t,["mediaResolution"]);e!==void 0&&h!=null&&m(e,["setup","generationConfig","mediaResolution"],h);const v=d(t,["seed"]);e!==void 0&&v!=null&&m(e,["setup","generationConfig","seed"],v);const _=d(t,["speechConfig"]);e!==void 0&&_!=null&&m(e,["setup","generationConfig","speechConfig"],Xg(_));const S=d(t,["thinkingConfig"]);e!==void 0&&S!=null&&m(e,["setup","generationConfig","thinkingConfig"],S);const T=d(t,["enableAffectiveDialog"]);e!==void 0&&T!=null&&m(e,["setup","generationConfig","enableAffectiveDialog"],T);const b=d(t,["systemInstruction"]);e!==void 0&&b!=null&&m(e,["setup","systemInstruction"],UB(Ut(b)));const A=d(t,["tools"]);if(e!==void 0&&A!=null){let G=Ks(A);Array.isArray(G)&&(G=G.map(B=>ZB(Ys(B)))),m(e,["setup","tools"],G)}const x=d(t,["sessionResumption"]);e!==void 0&&x!=null&&m(e,["setup","sessionResumption"],QB(x));const I=d(t,["inputAudioTranscription"]);e!==void 0&&I!=null&&m(e,["setup","inputAudioTranscription"],I);const D=d(t,["outputAudioTranscription"]);e!==void 0&&D!=null&&m(e,["setup","outputAudioTranscription"],D);const N=d(t,["realtimeInputConfig"]);e!==void 0&&N!=null&&m(e,["setup","realtimeInputConfig"],N);const P=d(t,["contextWindowCompression"]);e!==void 0&&P!=null&&m(e,["setup","contextWindowCompression"],P);const z=d(t,["proactivity"]);if(e!==void 0&&z!=null&&m(e,["setup","proactivity"],z),d(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function $B(t,e){const n={},i=d(t,["generationConfig"]);e!==void 0&&i!=null&&m(e,["setup","generationConfig"],BB(i));const s=d(t,["responseModalities"]);e!==void 0&&s!=null&&m(e,["setup","generationConfig","responseModalities"],s);const a=d(t,["temperature"]);e!==void 0&&a!=null&&m(e,["setup","generationConfig","temperature"],a);const u=d(t,["topP"]);e!==void 0&&u!=null&&m(e,["setup","generationConfig","topP"],u);const f=d(t,["topK"]);e!==void 0&&f!=null&&m(e,["setup","generationConfig","topK"],f);const p=d(t,["maxOutputTokens"]);e!==void 0&&p!=null&&m(e,["setup","generationConfig","maxOutputTokens"],p);const h=d(t,["mediaResolution"]);e!==void 0&&h!=null&&m(e,["setup","generationConfig","mediaResolution"],h);const v=d(t,["seed"]);e!==void 0&&v!=null&&m(e,["setup","generationConfig","seed"],v);const _=d(t,["speechConfig"]);e!==void 0&&_!=null&&m(e,["setup","generationConfig","speechConfig"],Pw(Xg(_)));const S=d(t,["thinkingConfig"]);e!==void 0&&S!=null&&m(e,["setup","generationConfig","thinkingConfig"],S);const T=d(t,["enableAffectiveDialog"]);e!==void 0&&T!=null&&m(e,["setup","generationConfig","enableAffectiveDialog"],T);const b=d(t,["systemInstruction"]);e!==void 0&&b!=null&&m(e,["setup","systemInstruction"],Ut(b));const A=d(t,["tools"]);if(e!==void 0&&A!=null){let B=Ks(A);Array.isArray(B)&&(B=B.map(Q=>jB(Ys(Q)))),m(e,["setup","tools"],B)}const x=d(t,["sessionResumption"]);e!==void 0&&x!=null&&m(e,["setup","sessionResumption"],x);const I=d(t,["inputAudioTranscription"]);e!==void 0&&I!=null&&m(e,["setup","inputAudioTranscription"],I);const D=d(t,["outputAudioTranscription"]);e!==void 0&&D!=null&&m(e,["setup","outputAudioTranscription"],D);const N=d(t,["realtimeInputConfig"]);e!==void 0&&N!=null&&m(e,["setup","realtimeInputConfig"],N);const P=d(t,["contextWindowCompression"]);e!==void 0&&P!=null&&m(e,["setup","contextWindowCompression"],P);const z=d(t,["proactivity"]);e!==void 0&&z!=null&&m(e,["setup","proactivity"],z);const G=d(t,["explicitVadSignal"]);return e!==void 0&&G!=null&&m(e,["setup","explicitVadSignal"],G),n}function qB(t,e){const n={},i=d(e,["model"]);i!=null&&m(n,["setup","model"],Ve(t,i));const s=d(e,["config"]);return s!=null&&m(n,["config"],VB(s,n)),n}function zB(t,e){const n={},i=d(e,["model"]);i!=null&&m(n,["setup","model"],Ve(t,i));const s=d(e,["config"]);return s!=null&&m(n,["config"],$B(s,n)),n}function FB(t){const e={},n=d(t,["musicGenerationConfig"]);return n!=null&&m(e,["musicGenerationConfig"],n),e}function JB(t){const e={},n=d(t,["weightedPrompts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>s)),m(e,["weightedPrompts"],i)}return e}function YB(t){const e={},n=d(t,["media"]);if(n!=null){let h=Tw(n);Array.isArray(h)&&(h=h.map(v=>Fc(v))),m(e,["mediaChunks"],h)}const i=d(t,["audio"]);i!=null&&m(e,["audio"],Fc(Cw(i)));const s=d(t,["audioStreamEnd"]);s!=null&&m(e,["audioStreamEnd"],s);const a=d(t,["video"]);a!=null&&m(e,["video"],Fc(bw(a)));const u=d(t,["text"]);u!=null&&m(e,["text"],u);const f=d(t,["activityStart"]);f!=null&&m(e,["activityStart"],f);const p=d(t,["activityEnd"]);return p!=null&&m(e,["activityEnd"],p),e}function KB(t){const e={},n=d(t,["media"]);if(n!=null){let h=Tw(n);Array.isArray(h)&&(h=h.map(v=>v)),m(e,["mediaChunks"],h)}const i=d(t,["audio"]);i!=null&&m(e,["audio"],Cw(i));const s=d(t,["audioStreamEnd"]);s!=null&&m(e,["audioStreamEnd"],s);const a=d(t,["video"]);a!=null&&m(e,["video"],bw(a));const u=d(t,["text"]);u!=null&&m(e,["text"],u);const f=d(t,["activityStart"]);f!=null&&m(e,["activityStart"],f);const p=d(t,["activityEnd"]);return p!=null&&m(e,["activityEnd"],p),e}function XB(t){const e={},n=d(t,["setupComplete"]);n!=null&&m(e,["setupComplete"],n);const i=d(t,["serverContent"]);i!=null&&m(e,["serverContent"],i);const s=d(t,["toolCall"]);s!=null&&m(e,["toolCall"],s);const a=d(t,["toolCallCancellation"]);a!=null&&m(e,["toolCallCancellation"],a);const u=d(t,["usageMetadata"]);u!=null&&m(e,["usageMetadata"],e2(u));const f=d(t,["goAway"]);f!=null&&m(e,["goAway"],f);const p=d(t,["sessionResumptionUpdate"]);p!=null&&m(e,["sessionResumptionUpdate"],p);const h=d(t,["voiceActivityDetectionSignal"]);return h!=null&&m(e,["voiceActivityDetectionSignal"],h),e}function WB(t){const e={},n=d(t,["mediaResolution"]);n!=null&&m(e,["mediaResolution"],n);const i=d(t,["codeExecutionResult"]);i!=null&&m(e,["codeExecutionResult"],i);const s=d(t,["executableCode"]);s!=null&&m(e,["executableCode"],s);const a=d(t,["fileData"]);a!=null&&m(e,["fileData"],PB(a));const u=d(t,["functionCall"]);u!=null&&m(e,["functionCall"],LB(u));const f=d(t,["functionResponse"]);f!=null&&m(e,["functionResponse"],f);const p=d(t,["inlineData"]);p!=null&&m(e,["inlineData"],Fc(p));const h=d(t,["text"]);h!=null&&m(e,["text"],h);const v=d(t,["thought"]);v!=null&&m(e,["thought"],v);const _=d(t,["thoughtSignature"]);_!=null&&m(e,["thoughtSignature"],_);const S=d(t,["videoMetadata"]);return S!=null&&m(e,["videoMetadata"],S),e}function QB(t){const e={},n=d(t,["handle"]);if(n!=null&&m(e,["handle"],n),d(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function Pw(t){const e={},n=d(t,["voiceConfig"]);n!=null&&m(e,["voiceConfig"],n);const i=d(t,["languageCode"]);if(i!=null&&m(e,["languageCode"],i),d(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return e}function ZB(t){const e={},n=d(t,["functionDeclarations"]);if(n!=null){let v=n;Array.isArray(v)&&(v=v.map(_=>_)),m(e,["functionDeclarations"],v)}if(d(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=d(t,["googleSearchRetrieval"]);i!=null&&m(e,["googleSearchRetrieval"],i);const s=d(t,["computerUse"]);s!=null&&m(e,["computerUse"],s);const a=d(t,["fileSearch"]);a!=null&&m(e,["fileSearch"],a);const u=d(t,["codeExecution"]);if(u!=null&&m(e,["codeExecution"],u),d(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const f=d(t,["googleMaps"]);f!=null&&m(e,["googleMaps"],HB(f));const p=d(t,["googleSearch"]);p!=null&&m(e,["googleSearch"],GB(p));const h=d(t,["urlContext"]);return h!=null&&m(e,["urlContext"],h),e}function jB(t){const e={},n=d(t,["functionDeclarations"]);if(n!=null){let _=n;Array.isArray(_)&&(_=_.map(S=>kB(S))),m(e,["functionDeclarations"],_)}const i=d(t,["retrieval"]);i!=null&&m(e,["retrieval"],i);const s=d(t,["googleSearchRetrieval"]);s!=null&&m(e,["googleSearchRetrieval"],s);const a=d(t,["computerUse"]);if(a!=null&&m(e,["computerUse"],a),d(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const u=d(t,["codeExecution"]);u!=null&&m(e,["codeExecution"],u);const f=d(t,["enterpriseWebSearch"]);f!=null&&m(e,["enterpriseWebSearch"],f);const p=d(t,["googleMaps"]);p!=null&&m(e,["googleMaps"],p);const h=d(t,["googleSearch"]);h!=null&&m(e,["googleSearch"],h);const v=d(t,["urlContext"]);return v!=null&&m(e,["urlContext"],v),e}function e2(t){const e={},n=d(t,["promptTokenCount"]);n!=null&&m(e,["promptTokenCount"],n);const i=d(t,["cachedContentTokenCount"]);i!=null&&m(e,["cachedContentTokenCount"],i);const s=d(t,["candidatesTokenCount"]);s!=null&&m(e,["responseTokenCount"],s);const a=d(t,["toolUsePromptTokenCount"]);a!=null&&m(e,["toolUsePromptTokenCount"],a);const u=d(t,["thoughtsTokenCount"]);u!=null&&m(e,["thoughtsTokenCount"],u);const f=d(t,["totalTokenCount"]);f!=null&&m(e,["totalTokenCount"],f);const p=d(t,["promptTokensDetails"]);if(p!=null){let T=p;Array.isArray(T)&&(T=T.map(b=>b)),m(e,["promptTokensDetails"],T)}const h=d(t,["cacheTokensDetails"]);if(h!=null){let T=h;Array.isArray(T)&&(T=T.map(b=>b)),m(e,["cacheTokensDetails"],T)}const v=d(t,["candidatesTokensDetails"]);if(v!=null){let T=v;Array.isArray(T)&&(T=T.map(b=>b)),m(e,["responseTokensDetails"],T)}const _=d(t,["toolUsePromptTokensDetails"]);if(_!=null){let T=_;Array.isArray(T)&&(T=T.map(b=>b)),m(e,["toolUsePromptTokensDetails"],T)}const S=d(t,["trafficType"]);return S!=null&&m(e,["trafficType"],S),e}function t2(t){const e={},n=d(t,["data"]);if(n!=null&&m(e,["data"],n),d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=d(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}function n2(t){const e={},n=d(t,["content"]);n!=null&&m(e,["content"],n);const i=d(t,["citationMetadata"]);i!=null&&m(e,["citationMetadata"],i2(i));const s=d(t,["tokenCount"]);s!=null&&m(e,["tokenCount"],s);const a=d(t,["finishReason"]);a!=null&&m(e,["finishReason"],a);const u=d(t,["avgLogprobs"]);u!=null&&m(e,["avgLogprobs"],u);const f=d(t,["groundingMetadata"]);f!=null&&m(e,["groundingMetadata"],f);const p=d(t,["index"]);p!=null&&m(e,["index"],p);const h=d(t,["logprobsResult"]);h!=null&&m(e,["logprobsResult"],h);const v=d(t,["safetyRatings"]);if(v!=null){let S=v;Array.isArray(S)&&(S=S.map(T=>T)),m(e,["safetyRatings"],S)}const _=d(t,["urlContextMetadata"]);return _!=null&&m(e,["urlContextMetadata"],_),e}function i2(t){const e={},n=d(t,["citationSources"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>s)),m(e,["citations"],i)}return e}function o2(t,e){const n={},i=d(e,["model"]);i!=null&&m(n,["_url","model"],Ve(t,i));const s=d(e,["contents"]);if(s!=null){let a=Nn(s);Array.isArray(a)&&(a=a.map(u=>u)),m(n,["contents"],a)}return n}function r2(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const i=d(t,["tokensInfo"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>a)),m(e,["tokensInfo"],s)}return e}function s2(t){const e={},n=d(t,["values"]);n!=null&&m(e,["values"],n);const i=d(t,["statistics"]);return i!=null&&m(e,["statistics"],a2(i)),e}function a2(t){const e={},n=d(t,["truncated"]);n!=null&&m(e,["truncated"],n);const i=d(t,["token_count"]);return i!=null&&m(e,["tokenCount"],i),e}function Ff(t){const e={},n=d(t,["parts"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(a=>gH(a))),m(e,["parts"],s)}const i=d(t,["role"]);return i!=null&&m(e,["role"],i),e}function l2(t){const e={},n=d(t,["controlType"]);n!=null&&m(e,["controlType"],n);const i=d(t,["enableControlImageComputation"]);return i!=null&&m(e,["computeControl"],i),e}function u2(t){const e={};if(d(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(d(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(d(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function c2(t,e){const n={},i=d(t,["systemInstruction"]);e!==void 0&&i!=null&&m(e,["systemInstruction"],Ut(i));const s=d(t,["tools"]);if(e!==void 0&&s!=null){let u=s;Array.isArray(u)&&(u=u.map(f=>Gw(f))),m(e,["tools"],u)}const a=d(t,["generationConfig"]);return e!==void 0&&a!=null&&m(e,["generationConfig"],tH(a)),n}function f2(t,e){const n={},i=d(e,["model"]);i!=null&&m(n,["_url","model"],Ve(t,i));const s=d(e,["contents"]);if(s!=null){let u=Nn(s);Array.isArray(u)&&(u=u.map(f=>Ff(f))),m(n,["contents"],u)}const a=d(e,["config"]);return a!=null&&u2(a),n}function d2(t,e){const n={},i=d(e,["model"]);i!=null&&m(n,["_url","model"],Ve(t,i));const s=d(e,["contents"]);if(s!=null){let u=Nn(s);Array.isArray(u)&&(u=u.map(f=>f)),m(n,["contents"],u)}const a=d(e,["config"]);return a!=null&&c2(a,n),n}function h2(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const i=d(t,["totalTokens"]);i!=null&&m(e,["totalTokens"],i);const s=d(t,["cachedContentTokenCount"]);return s!=null&&m(e,["cachedContentTokenCount"],s),e}function p2(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const i=d(t,["totalTokens"]);return i!=null&&m(e,["totalTokens"],i),e}function m2(t,e){const n={},i=d(e,["model"]);return i!=null&&m(n,["_url","name"],Ve(t,i)),n}function g2(t,e){const n={},i=d(e,["model"]);return i!=null&&m(n,["_url","name"],Ve(t,i)),n}function v2(t){const e={},n=d(t,["sdkHttpResponse"]);return n!=null&&m(e,["sdkHttpResponse"],n),e}function y2(t){const e={},n=d(t,["sdkHttpResponse"]);return n!=null&&m(e,["sdkHttpResponse"],n),e}function _2(t,e){const n={},i=d(t,["outputGcsUri"]);e!==void 0&&i!=null&&m(e,["parameters","storageUri"],i);const s=d(t,["negativePrompt"]);e!==void 0&&s!=null&&m(e,["parameters","negativePrompt"],s);const a=d(t,["numberOfImages"]);e!==void 0&&a!=null&&m(e,["parameters","sampleCount"],a);const u=d(t,["aspectRatio"]);e!==void 0&&u!=null&&m(e,["parameters","aspectRatio"],u);const f=d(t,["guidanceScale"]);e!==void 0&&f!=null&&m(e,["parameters","guidanceScale"],f);const p=d(t,["seed"]);e!==void 0&&p!=null&&m(e,["parameters","seed"],p);const h=d(t,["safetyFilterLevel"]);e!==void 0&&h!=null&&m(e,["parameters","safetySetting"],h);const v=d(t,["personGeneration"]);e!==void 0&&v!=null&&m(e,["parameters","personGeneration"],v);const _=d(t,["includeSafetyAttributes"]);e!==void 0&&_!=null&&m(e,["parameters","includeSafetyAttributes"],_);const S=d(t,["includeRaiReason"]);e!==void 0&&S!=null&&m(e,["parameters","includeRaiReason"],S);const T=d(t,["language"]);e!==void 0&&T!=null&&m(e,["parameters","language"],T);const b=d(t,["outputMimeType"]);e!==void 0&&b!=null&&m(e,["parameters","outputOptions","mimeType"],b);const A=d(t,["outputCompressionQuality"]);e!==void 0&&A!=null&&m(e,["parameters","outputOptions","compressionQuality"],A);const x=d(t,["addWatermark"]);e!==void 0&&x!=null&&m(e,["parameters","addWatermark"],x);const I=d(t,["labels"]);e!==void 0&&I!=null&&m(e,["labels"],I);const D=d(t,["editMode"]);e!==void 0&&D!=null&&m(e,["parameters","editMode"],D);const N=d(t,["baseSteps"]);return e!==void 0&&N!=null&&m(e,["parameters","editConfig","baseSteps"],N),n}function S2(t,e){const n={},i=d(e,["model"]);i!=null&&m(n,["_url","model"],Ve(t,i));const s=d(e,["prompt"]);s!=null&&m(n,["instances[0]","prompt"],s);const a=d(e,["referenceImages"]);if(a!=null){let f=a;Array.isArray(f)&&(f=f.map(p=>TH(p))),m(n,["instances[0]","referenceImages"],f)}const u=d(e,["config"]);return u!=null&&_2(u,n),n}function E2(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const i=d(t,["predictions"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>Jf(a))),m(e,["generatedImages"],s)}return e}function T2(t,e){const n={},i=d(t,["taskType"]);e!==void 0&&i!=null&&m(e,["requests[]","taskType"],i);const s=d(t,["title"]);e!==void 0&&s!=null&&m(e,["requests[]","title"],s);const a=d(t,["outputDimensionality"]);if(e!==void 0&&a!=null&&m(e,["requests[]","outputDimensionality"],a),d(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(d(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function b2(t,e){const n={},i=d(t,["taskType"]);e!==void 0&&i!=null&&m(e,["instances[]","task_type"],i);const s=d(t,["title"]);e!==void 0&&s!=null&&m(e,["instances[]","title"],s);const a=d(t,["outputDimensionality"]);e!==void 0&&a!=null&&m(e,["parameters","outputDimensionality"],a);const u=d(t,["mimeType"]);e!==void 0&&u!=null&&m(e,["instances[]","mimeType"],u);const f=d(t,["autoTruncate"]);return e!==void 0&&f!=null&&m(e,["parameters","autoTruncate"],f),n}function C2(t,e){const n={},i=d(e,["model"]);i!=null&&m(n,["_url","model"],Ve(t,i));const s=d(e,["contents"]);if(s!=null){let f=Jg(t,s);Array.isArray(f)&&(f=f.map(p=>p)),m(n,["requests[]","content"],f)}const a=d(e,["config"]);a!=null&&T2(a,n);const u=d(e,["model"]);return u!==void 0&&m(n,["requests[]","model"],Ve(t,u)),n}function A2(t,e){const n={},i=d(e,["model"]);i!=null&&m(n,["_url","model"],Ve(t,i));const s=d(e,["contents"]);if(s!=null){let u=Jg(t,s);Array.isArray(u)&&(u=u.map(f=>f)),m(n,["instances[]","content"],u)}const a=d(e,["config"]);return a!=null&&b2(a,n),n}function w2(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const i=d(t,["embeddings"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(u=>u)),m(e,["embeddings"],a)}const s=d(t,["metadata"]);return s!=null&&m(e,["metadata"],s),e}function x2(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const i=d(t,["predictions[]","embeddings"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(u=>s2(u))),m(e,["embeddings"],a)}const s=d(t,["metadata"]);return s!=null&&m(e,["metadata"],s),e}function R2(t){const e={},n=d(t,["endpoint"]);n!=null&&m(e,["name"],n);const i=d(t,["deployedModelId"]);return i!=null&&m(e,["deployedModelId"],i),e}function M2(t){const e={};if(d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=d(t,["fileUri"]);n!=null&&m(e,["fileUri"],n);const i=d(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}function N2(t){const e={},n=d(t,["id"]);n!=null&&m(e,["id"],n);const i=d(t,["args"]);i!=null&&m(e,["args"],i);const s=d(t,["name"]);if(s!=null&&m(e,["name"],s),d(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(d(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function I2(t){const e={},n=d(t,["mode"]);n!=null&&m(e,["mode"],n);const i=d(t,["allowedFunctionNames"]);if(i!=null&&m(e,["allowedFunctionNames"],i),d(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function D2(t){const e={};if(d(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=d(t,["description"]);n!=null&&m(e,["description"],n);const i=d(t,["name"]);i!=null&&m(e,["name"],i);const s=d(t,["parameters"]);s!=null&&m(e,["parameters"],s);const a=d(t,["parametersJsonSchema"]);a!=null&&m(e,["parametersJsonSchema"],a);const u=d(t,["response"]);u!=null&&m(e,["response"],u);const f=d(t,["responseJsonSchema"]);return f!=null&&m(e,["responseJsonSchema"],f),e}function O2(t,e,n){const i={},s=d(e,["systemInstruction"]);n!==void 0&&s!=null&&m(n,["systemInstruction"],Ff(Ut(s)));const a=d(e,["temperature"]);a!=null&&m(i,["temperature"],a);const u=d(e,["topP"]);u!=null&&m(i,["topP"],u);const f=d(e,["topK"]);f!=null&&m(i,["topK"],f);const p=d(e,["candidateCount"]);p!=null&&m(i,["candidateCount"],p);const h=d(e,["maxOutputTokens"]);h!=null&&m(i,["maxOutputTokens"],h);const v=d(e,["stopSequences"]);v!=null&&m(i,["stopSequences"],v);const _=d(e,["responseLogprobs"]);_!=null&&m(i,["responseLogprobs"],_);const S=d(e,["logprobs"]);S!=null&&m(i,["logprobs"],S);const T=d(e,["presencePenalty"]);T!=null&&m(i,["presencePenalty"],T);const b=d(e,["frequencyPenalty"]);b!=null&&m(i,["frequencyPenalty"],b);const A=d(e,["seed"]);A!=null&&m(i,["seed"],A);const x=d(e,["responseMimeType"]);x!=null&&m(i,["responseMimeType"],x);const I=d(e,["responseSchema"]);I!=null&&m(i,["responseSchema"],Yg(I));const D=d(e,["responseJsonSchema"]);if(D!=null&&m(i,["responseJsonSchema"],D),d(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(d(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const N=d(e,["safetySettings"]);if(n!==void 0&&N!=null){let re=N;Array.isArray(re)&&(re=re.map(fe=>bH(fe))),m(n,["safetySettings"],re)}const P=d(e,["tools"]);if(n!==void 0&&P!=null){let re=Ks(P);Array.isArray(re)&&(re=re.map(fe=>NH(Ys(fe)))),m(n,["tools"],re)}const z=d(e,["toolConfig"]);if(n!==void 0&&z!=null&&m(n,["toolConfig"],MH(z)),d(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const G=d(e,["cachedContent"]);n!==void 0&&G!=null&&m(n,["cachedContent"],Wi(t,G));const B=d(e,["responseModalities"]);B!=null&&m(i,["responseModalities"],B);const Q=d(e,["mediaResolution"]);Q!=null&&m(i,["mediaResolution"],Q);const X=d(e,["speechConfig"]);if(X!=null&&m(i,["speechConfig"],Kg(X)),d(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const te=d(e,["thinkingConfig"]);te!=null&&m(i,["thinkingConfig"],te);const j=d(e,["imageConfig"]);j!=null&&m(i,["imageConfig"],sH(j));const le=d(e,["enableEnhancedCivicAnswers"]);return le!=null&&m(i,["enableEnhancedCivicAnswers"],le),i}function U2(t,e,n){const i={},s=d(e,["systemInstruction"]);n!==void 0&&s!=null&&m(n,["systemInstruction"],Ut(s));const a=d(e,["temperature"]);a!=null&&m(i,["temperature"],a);const u=d(e,["topP"]);u!=null&&m(i,["topP"],u);const f=d(e,["topK"]);f!=null&&m(i,["topK"],f);const p=d(e,["candidateCount"]);p!=null&&m(i,["candidateCount"],p);const h=d(e,["maxOutputTokens"]);h!=null&&m(i,["maxOutputTokens"],h);const v=d(e,["stopSequences"]);v!=null&&m(i,["stopSequences"],v);const _=d(e,["responseLogprobs"]);_!=null&&m(i,["responseLogprobs"],_);const S=d(e,["logprobs"]);S!=null&&m(i,["logprobs"],S);const T=d(e,["presencePenalty"]);T!=null&&m(i,["presencePenalty"],T);const b=d(e,["frequencyPenalty"]);b!=null&&m(i,["frequencyPenalty"],b);const A=d(e,["seed"]);A!=null&&m(i,["seed"],A);const x=d(e,["responseMimeType"]);x!=null&&m(i,["responseMimeType"],x);const I=d(e,["responseSchema"]);I!=null&&m(i,["responseSchema"],Yg(I));const D=d(e,["responseJsonSchema"]);D!=null&&m(i,["responseJsonSchema"],D);const N=d(e,["routingConfig"]);N!=null&&m(i,["routingConfig"],N);const P=d(e,["modelSelectionConfig"]);P!=null&&m(i,["modelConfig"],P);const z=d(e,["safetySettings"]);if(n!==void 0&&z!=null){let k=z;Array.isArray(k)&&(k=k.map(Z=>Z)),m(n,["safetySettings"],k)}const G=d(e,["tools"]);if(n!==void 0&&G!=null){let k=Ks(G);Array.isArray(k)&&(k=k.map(Z=>Gw(Ys(Z)))),m(n,["tools"],k)}const B=d(e,["toolConfig"]);n!==void 0&&B!=null&&m(n,["toolConfig"],B);const Q=d(e,["labels"]);n!==void 0&&Q!=null&&m(n,["labels"],Q);const X=d(e,["cachedContent"]);n!==void 0&&X!=null&&m(n,["cachedContent"],Wi(t,X));const te=d(e,["responseModalities"]);te!=null&&m(i,["responseModalities"],te);const j=d(e,["mediaResolution"]);j!=null&&m(i,["mediaResolution"],j);const le=d(e,["speechConfig"]);le!=null&&m(i,["speechConfig"],Hw(Kg(le)));const re=d(e,["audioTimestamp"]);re!=null&&m(i,["audioTimestamp"],re);const fe=d(e,["thinkingConfig"]);fe!=null&&m(i,["thinkingConfig"],fe);const _e=d(e,["imageConfig"]);if(_e!=null&&m(i,["imageConfig"],aH(_e)),d(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return i}function KT(t,e){const n={},i=d(e,["model"]);i!=null&&m(n,["_url","model"],Ve(t,i));const s=d(e,["contents"]);if(s!=null){let u=Nn(s);Array.isArray(u)&&(u=u.map(f=>Ff(f))),m(n,["contents"],u)}const a=d(e,["config"]);return a!=null&&m(n,["generationConfig"],O2(t,a,n)),n}function XT(t,e){const n={},i=d(e,["model"]);i!=null&&m(n,["_url","model"],Ve(t,i));const s=d(e,["contents"]);if(s!=null){let u=Nn(s);Array.isArray(u)&&(u=u.map(f=>f)),m(n,["contents"],u)}const a=d(e,["config"]);return a!=null&&m(n,["generationConfig"],U2(t,a,n)),n}function WT(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const i=d(t,["candidates"]);if(i!=null){let p=i;Array.isArray(p)&&(p=p.map(h=>n2(h))),m(e,["candidates"],p)}const s=d(t,["modelVersion"]);s!=null&&m(e,["modelVersion"],s);const a=d(t,["promptFeedback"]);a!=null&&m(e,["promptFeedback"],a);const u=d(t,["responseId"]);u!=null&&m(e,["responseId"],u);const f=d(t,["usageMetadata"]);return f!=null&&m(e,["usageMetadata"],f),e}function QT(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const i=d(t,["candidates"]);if(i!=null){let h=i;Array.isArray(h)&&(h=h.map(v=>v)),m(e,["candidates"],h)}const s=d(t,["createTime"]);s!=null&&m(e,["createTime"],s);const a=d(t,["modelVersion"]);a!=null&&m(e,["modelVersion"],a);const u=d(t,["promptFeedback"]);u!=null&&m(e,["promptFeedback"],u);const f=d(t,["responseId"]);f!=null&&m(e,["responseId"],f);const p=d(t,["usageMetadata"]);return p!=null&&m(e,["usageMetadata"],p),e}function P2(t,e){const n={};if(d(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(d(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const i=d(t,["numberOfImages"]);e!==void 0&&i!=null&&m(e,["parameters","sampleCount"],i);const s=d(t,["aspectRatio"]);e!==void 0&&s!=null&&m(e,["parameters","aspectRatio"],s);const a=d(t,["guidanceScale"]);if(e!==void 0&&a!=null&&m(e,["parameters","guidanceScale"],a),d(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const u=d(t,["safetyFilterLevel"]);e!==void 0&&u!=null&&m(e,["parameters","safetySetting"],u);const f=d(t,["personGeneration"]);e!==void 0&&f!=null&&m(e,["parameters","personGeneration"],f);const p=d(t,["includeSafetyAttributes"]);e!==void 0&&p!=null&&m(e,["parameters","includeSafetyAttributes"],p);const h=d(t,["includeRaiReason"]);e!==void 0&&h!=null&&m(e,["parameters","includeRaiReason"],h);const v=d(t,["language"]);e!==void 0&&v!=null&&m(e,["parameters","language"],v);const _=d(t,["outputMimeType"]);e!==void 0&&_!=null&&m(e,["parameters","outputOptions","mimeType"],_);const S=d(t,["outputCompressionQuality"]);if(e!==void 0&&S!=null&&m(e,["parameters","outputOptions","compressionQuality"],S),d(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(d(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const T=d(t,["imageSize"]);if(e!==void 0&&T!=null&&m(e,["parameters","sampleImageSize"],T),d(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function L2(t,e){const n={},i=d(t,["outputGcsUri"]);e!==void 0&&i!=null&&m(e,["parameters","storageUri"],i);const s=d(t,["negativePrompt"]);e!==void 0&&s!=null&&m(e,["parameters","negativePrompt"],s);const a=d(t,["numberOfImages"]);e!==void 0&&a!=null&&m(e,["parameters","sampleCount"],a);const u=d(t,["aspectRatio"]);e!==void 0&&u!=null&&m(e,["parameters","aspectRatio"],u);const f=d(t,["guidanceScale"]);e!==void 0&&f!=null&&m(e,["parameters","guidanceScale"],f);const p=d(t,["seed"]);e!==void 0&&p!=null&&m(e,["parameters","seed"],p);const h=d(t,["safetyFilterLevel"]);e!==void 0&&h!=null&&m(e,["parameters","safetySetting"],h);const v=d(t,["personGeneration"]);e!==void 0&&v!=null&&m(e,["parameters","personGeneration"],v);const _=d(t,["includeSafetyAttributes"]);e!==void 0&&_!=null&&m(e,["parameters","includeSafetyAttributes"],_);const S=d(t,["includeRaiReason"]);e!==void 0&&S!=null&&m(e,["parameters","includeRaiReason"],S);const T=d(t,["language"]);e!==void 0&&T!=null&&m(e,["parameters","language"],T);const b=d(t,["outputMimeType"]);e!==void 0&&b!=null&&m(e,["parameters","outputOptions","mimeType"],b);const A=d(t,["outputCompressionQuality"]);e!==void 0&&A!=null&&m(e,["parameters","outputOptions","compressionQuality"],A);const x=d(t,["addWatermark"]);e!==void 0&&x!=null&&m(e,["parameters","addWatermark"],x);const I=d(t,["labels"]);e!==void 0&&I!=null&&m(e,["labels"],I);const D=d(t,["imageSize"]);e!==void 0&&D!=null&&m(e,["parameters","sampleImageSize"],D);const N=d(t,["enhancePrompt"]);return e!==void 0&&N!=null&&m(e,["parameters","enhancePrompt"],N),n}function k2(t,e){const n={},i=d(e,["model"]);i!=null&&m(n,["_url","model"],Ve(t,i));const s=d(e,["prompt"]);s!=null&&m(n,["instances[0]","prompt"],s);const a=d(e,["config"]);return a!=null&&P2(a,n),n}function B2(t,e){const n={},i=d(e,["model"]);i!=null&&m(n,["_url","model"],Ve(t,i));const s=d(e,["prompt"]);s!=null&&m(n,["instances[0]","prompt"],s);const a=d(e,["config"]);return a!=null&&L2(a,n),n}function H2(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const i=d(t,["predictions"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(u=>Q2(u))),m(e,["generatedImages"],a)}const s=d(t,["positivePromptSafetyAttributes"]);return s!=null&&m(e,["positivePromptSafetyAttributes"],kw(s)),e}function G2(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const i=d(t,["predictions"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(u=>Jf(u))),m(e,["generatedImages"],a)}const s=d(t,["positivePromptSafetyAttributes"]);return s!=null&&m(e,["positivePromptSafetyAttributes"],Bw(s)),e}function V2(t,e){const n={},i=d(t,["numberOfVideos"]);if(e!==void 0&&i!=null&&m(e,["parameters","sampleCount"],i),d(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(d(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const s=d(t,["durationSeconds"]);if(e!==void 0&&s!=null&&m(e,["parameters","durationSeconds"],s),d(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const a=d(t,["aspectRatio"]);e!==void 0&&a!=null&&m(e,["parameters","aspectRatio"],a);const u=d(t,["resolution"]);e!==void 0&&u!=null&&m(e,["parameters","resolution"],u);const f=d(t,["personGeneration"]);if(e!==void 0&&f!=null&&m(e,["parameters","personGeneration"],f),d(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const p=d(t,["negativePrompt"]);e!==void 0&&p!=null&&m(e,["parameters","negativePrompt"],p);const h=d(t,["enhancePrompt"]);if(e!==void 0&&h!=null&&m(e,["parameters","enhancePrompt"],h),d(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const v=d(t,["lastFrame"]);e!==void 0&&v!=null&&m(e,["instances[0]","lastFrame"],Yf(v));const _=d(t,["referenceImages"]);if(e!==void 0&&_!=null){let S=_;Array.isArray(S)&&(S=S.map(T=>qH(T))),m(e,["instances[0]","referenceImages"],S)}if(d(t,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(d(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function $2(t,e){const n={},i=d(t,["numberOfVideos"]);e!==void 0&&i!=null&&m(e,["parameters","sampleCount"],i);const s=d(t,["outputGcsUri"]);e!==void 0&&s!=null&&m(e,["parameters","storageUri"],s);const a=d(t,["fps"]);e!==void 0&&a!=null&&m(e,["parameters","fps"],a);const u=d(t,["durationSeconds"]);e!==void 0&&u!=null&&m(e,["parameters","durationSeconds"],u);const f=d(t,["seed"]);e!==void 0&&f!=null&&m(e,["parameters","seed"],f);const p=d(t,["aspectRatio"]);e!==void 0&&p!=null&&m(e,["parameters","aspectRatio"],p);const h=d(t,["resolution"]);e!==void 0&&h!=null&&m(e,["parameters","resolution"],h);const v=d(t,["personGeneration"]);e!==void 0&&v!=null&&m(e,["parameters","personGeneration"],v);const _=d(t,["pubsubTopic"]);e!==void 0&&_!=null&&m(e,["parameters","pubsubTopic"],_);const S=d(t,["negativePrompt"]);e!==void 0&&S!=null&&m(e,["parameters","negativePrompt"],S);const T=d(t,["enhancePrompt"]);e!==void 0&&T!=null&&m(e,["parameters","enhancePrompt"],T);const b=d(t,["generateAudio"]);e!==void 0&&b!=null&&m(e,["parameters","generateAudio"],b);const A=d(t,["lastFrame"]);e!==void 0&&A!=null&&m(e,["instances[0]","lastFrame"],Zn(A));const x=d(t,["referenceImages"]);if(e!==void 0&&x!=null){let N=x;Array.isArray(N)&&(N=N.map(P=>zH(P))),m(e,["instances[0]","referenceImages"],N)}const I=d(t,["mask"]);e!==void 0&&I!=null&&m(e,["instances[0]","mask"],$H(I));const D=d(t,["compressionQuality"]);return e!==void 0&&D!=null&&m(e,["parameters","compressionQuality"],D),n}function q2(t){const e={},n=d(t,["name"]);n!=null&&m(e,["name"],n);const i=d(t,["metadata"]);i!=null&&m(e,["metadata"],i);const s=d(t,["done"]);s!=null&&m(e,["done"],s);const a=d(t,["error"]);a!=null&&m(e,["error"],a);const u=d(t,["response","generateVideoResponse"]);return u!=null&&m(e,["response"],Y2(u)),e}function z2(t){const e={},n=d(t,["name"]);n!=null&&m(e,["name"],n);const i=d(t,["metadata"]);i!=null&&m(e,["metadata"],i);const s=d(t,["done"]);s!=null&&m(e,["done"],s);const a=d(t,["error"]);a!=null&&m(e,["error"],a);const u=d(t,["response"]);return u!=null&&m(e,["response"],K2(u)),e}function F2(t,e){const n={},i=d(e,["model"]);i!=null&&m(n,["_url","model"],Ve(t,i));const s=d(e,["prompt"]);s!=null&&m(n,["instances[0]","prompt"],s);const a=d(e,["image"]);a!=null&&m(n,["instances[0]","image"],Yf(a));const u=d(e,["video"]);u!=null&&m(n,["instances[0]","video"],Vw(u));const f=d(e,["source"]);f!=null&&X2(f,n);const p=d(e,["config"]);return p!=null&&V2(p,n),n}function J2(t,e){const n={},i=d(e,["model"]);i!=null&&m(n,["_url","model"],Ve(t,i));const s=d(e,["prompt"]);s!=null&&m(n,["instances[0]","prompt"],s);const a=d(e,["image"]);a!=null&&m(n,["instances[0]","image"],Zn(a));const u=d(e,["video"]);u!=null&&m(n,["instances[0]","video"],$w(u));const f=d(e,["source"]);f!=null&&W2(f,n);const p=d(e,["config"]);return p!=null&&$2(p,n),n}function Y2(t){const e={},n=d(t,["generatedSamples"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(u=>j2(u))),m(e,["generatedVideos"],a)}const i=d(t,["raiMediaFilteredCount"]);i!=null&&m(e,["raiMediaFilteredCount"],i);const s=d(t,["raiMediaFilteredReasons"]);return s!=null&&m(e,["raiMediaFilteredReasons"],s),e}function K2(t){const e={},n=d(t,["videos"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(u=>eH(u))),m(e,["generatedVideos"],a)}const i=d(t,["raiMediaFilteredCount"]);i!=null&&m(e,["raiMediaFilteredCount"],i);const s=d(t,["raiMediaFilteredReasons"]);return s!=null&&m(e,["raiMediaFilteredReasons"],s),e}function X2(t,e){const n={},i=d(t,["prompt"]);e!==void 0&&i!=null&&m(e,["instances[0]","prompt"],i);const s=d(t,["image"]);e!==void 0&&s!=null&&m(e,["instances[0]","image"],Yf(s));const a=d(t,["video"]);return e!==void 0&&a!=null&&m(e,["instances[0]","video"],Vw(a)),n}function W2(t,e){const n={},i=d(t,["prompt"]);e!==void 0&&i!=null&&m(e,["instances[0]","prompt"],i);const s=d(t,["image"]);e!==void 0&&s!=null&&m(e,["instances[0]","image"],Zn(s));const a=d(t,["video"]);return e!==void 0&&a!=null&&m(e,["instances[0]","video"],$w(a)),n}function Q2(t){const e={},n=d(t,["_self"]);n!=null&&m(e,["image"],lH(n));const i=d(t,["raiFilteredReason"]);i!=null&&m(e,["raiFilteredReason"],i);const s=d(t,["_self"]);return s!=null&&m(e,["safetyAttributes"],kw(s)),e}function Jf(t){const e={},n=d(t,["_self"]);n!=null&&m(e,["image"],Lw(n));const i=d(t,["raiFilteredReason"]);i!=null&&m(e,["raiFilteredReason"],i);const s=d(t,["_self"]);s!=null&&m(e,["safetyAttributes"],Bw(s));const a=d(t,["prompt"]);return a!=null&&m(e,["enhancedPrompt"],a),e}function Z2(t){const e={},n=d(t,["_self"]);n!=null&&m(e,["mask"],Lw(n));const i=d(t,["labels"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>a)),m(e,["labels"],s)}return e}function j2(t){const e={},n=d(t,["video"]);return n!=null&&m(e,["video"],GH(n)),e}function eH(t){const e={},n=d(t,["_self"]);return n!=null&&m(e,["video"],VH(n)),e}function tH(t){const e={},n=d(t,["modelSelectionConfig"]);n!=null&&m(e,["modelConfig"],n);const i=d(t,["responseJsonSchema"]);i!=null&&m(e,["responseJsonSchema"],i);const s=d(t,["audioTimestamp"]);s!=null&&m(e,["audioTimestamp"],s);const a=d(t,["candidateCount"]);a!=null&&m(e,["candidateCount"],a);const u=d(t,["enableAffectiveDialog"]);u!=null&&m(e,["enableAffectiveDialog"],u);const f=d(t,["frequencyPenalty"]);f!=null&&m(e,["frequencyPenalty"],f);const p=d(t,["logprobs"]);p!=null&&m(e,["logprobs"],p);const h=d(t,["maxOutputTokens"]);h!=null&&m(e,["maxOutputTokens"],h);const v=d(t,["mediaResolution"]);v!=null&&m(e,["mediaResolution"],v);const _=d(t,["presencePenalty"]);_!=null&&m(e,["presencePenalty"],_);const S=d(t,["responseLogprobs"]);S!=null&&m(e,["responseLogprobs"],S);const T=d(t,["responseMimeType"]);T!=null&&m(e,["responseMimeType"],T);const b=d(t,["responseModalities"]);b!=null&&m(e,["responseModalities"],b);const A=d(t,["responseSchema"]);A!=null&&m(e,["responseSchema"],A);const x=d(t,["routingConfig"]);x!=null&&m(e,["routingConfig"],x);const I=d(t,["seed"]);I!=null&&m(e,["seed"],I);const D=d(t,["speechConfig"]);D!=null&&m(e,["speechConfig"],Hw(D));const N=d(t,["stopSequences"]);N!=null&&m(e,["stopSequences"],N);const P=d(t,["temperature"]);P!=null&&m(e,["temperature"],P);const z=d(t,["thinkingConfig"]);z!=null&&m(e,["thinkingConfig"],z);const G=d(t,["topK"]);G!=null&&m(e,["topK"],G);const B=d(t,["topP"]);if(B!=null&&m(e,["topP"],B),d(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function nH(t,e){const n={},i=d(e,["model"]);return i!=null&&m(n,["_url","name"],Ve(t,i)),n}function iH(t,e){const n={},i=d(e,["model"]);return i!=null&&m(n,["_url","name"],Ve(t,i)),n}function oH(t){const e={};if(d(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=d(t,["enableWidget"]);return n!=null&&m(e,["enableWidget"],n),e}function rH(t){const e={};if(d(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(d(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=d(t,["timeRangeFilter"]);return n!=null&&m(e,["timeRangeFilter"],n),e}function sH(t){const e={},n=d(t,["aspectRatio"]);n!=null&&m(e,["aspectRatio"],n);const i=d(t,["imageSize"]);if(i!=null&&m(e,["imageSize"],i),d(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(d(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function aH(t){const e={},n=d(t,["aspectRatio"]);n!=null&&m(e,["aspectRatio"],n);const i=d(t,["imageSize"]);i!=null&&m(e,["imageSize"],i);const s=d(t,["outputMimeType"]);s!=null&&m(e,["imageOutputOptions","mimeType"],s);const a=d(t,["outputCompressionQuality"]);return a!=null&&m(e,["imageOutputOptions","compressionQuality"],a),e}function lH(t){const e={},n=d(t,["bytesBase64Encoded"]);n!=null&&m(e,["imageBytes"],Vo(n));const i=d(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}function Lw(t){const e={},n=d(t,["gcsUri"]);n!=null&&m(e,["gcsUri"],n);const i=d(t,["bytesBase64Encoded"]);i!=null&&m(e,["imageBytes"],Vo(i));const s=d(t,["mimeType"]);return s!=null&&m(e,["mimeType"],s),e}function Yf(t){const e={};if(d(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=d(t,["imageBytes"]);n!=null&&m(e,["bytesBase64Encoded"],Vo(n));const i=d(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}function Zn(t){const e={},n=d(t,["gcsUri"]);n!=null&&m(e,["gcsUri"],n);const i=d(t,["imageBytes"]);i!=null&&m(e,["bytesBase64Encoded"],Vo(i));const s=d(t,["mimeType"]);return s!=null&&m(e,["mimeType"],s),e}function uH(t,e,n){const i={},s=d(e,["pageSize"]);n!==void 0&&s!=null&&m(n,["_query","pageSize"],s);const a=d(e,["pageToken"]);n!==void 0&&a!=null&&m(n,["_query","pageToken"],a);const u=d(e,["filter"]);n!==void 0&&u!=null&&m(n,["_query","filter"],u);const f=d(e,["queryBase"]);return n!==void 0&&f!=null&&m(n,["_url","models_url"],Rw(t,f)),i}function cH(t,e,n){const i={},s=d(e,["pageSize"]);n!==void 0&&s!=null&&m(n,["_query","pageSize"],s);const a=d(e,["pageToken"]);n!==void 0&&a!=null&&m(n,["_query","pageToken"],a);const u=d(e,["filter"]);n!==void 0&&u!=null&&m(n,["_query","filter"],u);const f=d(e,["queryBase"]);return n!==void 0&&f!=null&&m(n,["_url","models_url"],Rw(t,f)),i}function fH(t,e){const n={},i=d(e,["config"]);return i!=null&&uH(t,i,n),n}function dH(t,e){const n={},i=d(e,["config"]);return i!=null&&cH(t,i,n),n}function hH(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const i=d(t,["nextPageToken"]);i!=null&&m(e,["nextPageToken"],i);const s=d(t,["_self"]);if(s!=null){let a=Mw(s);Array.isArray(a)&&(a=a.map(u=>km(u))),m(e,["models"],a)}return e}function pH(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const i=d(t,["nextPageToken"]);i!=null&&m(e,["nextPageToken"],i);const s=d(t,["_self"]);if(s!=null){let a=Mw(s);Array.isArray(a)&&(a=a.map(u=>Bm(u))),m(e,["models"],a)}return e}function mH(t){const e={},n=d(t,["maskMode"]);n!=null&&m(e,["maskMode"],n);const i=d(t,["segmentationClasses"]);i!=null&&m(e,["maskClasses"],i);const s=d(t,["maskDilation"]);return s!=null&&m(e,["dilation"],s),e}function km(t){const e={},n=d(t,["name"]);n!=null&&m(e,["name"],n);const i=d(t,["displayName"]);i!=null&&m(e,["displayName"],i);const s=d(t,["description"]);s!=null&&m(e,["description"],s);const a=d(t,["version"]);a!=null&&m(e,["version"],a);const u=d(t,["_self"]);u!=null&&m(e,["tunedModelInfo"],IH(u));const f=d(t,["inputTokenLimit"]);f!=null&&m(e,["inputTokenLimit"],f);const p=d(t,["outputTokenLimit"]);p!=null&&m(e,["outputTokenLimit"],p);const h=d(t,["supportedGenerationMethods"]);h!=null&&m(e,["supportedActions"],h);const v=d(t,["temperature"]);v!=null&&m(e,["temperature"],v);const _=d(t,["maxTemperature"]);_!=null&&m(e,["maxTemperature"],_);const S=d(t,["topP"]);S!=null&&m(e,["topP"],S);const T=d(t,["topK"]);T!=null&&m(e,["topK"],T);const b=d(t,["thinking"]);return b!=null&&m(e,["thinking"],b),e}function Bm(t){const e={},n=d(t,["name"]);n!=null&&m(e,["name"],n);const i=d(t,["displayName"]);i!=null&&m(e,["displayName"],i);const s=d(t,["description"]);s!=null&&m(e,["description"],s);const a=d(t,["versionId"]);a!=null&&m(e,["version"],a);const u=d(t,["deployedModels"]);if(u!=null){let _=u;Array.isArray(_)&&(_=_.map(S=>R2(S))),m(e,["endpoints"],_)}const f=d(t,["labels"]);f!=null&&m(e,["labels"],f);const p=d(t,["_self"]);p!=null&&m(e,["tunedModelInfo"],DH(p));const h=d(t,["defaultCheckpointId"]);h!=null&&m(e,["defaultCheckpointId"],h);const v=d(t,["checkpoints"]);if(v!=null){let _=v;Array.isArray(_)&&(_=_.map(S=>S)),m(e,["checkpoints"],_)}return e}function gH(t){const e={},n=d(t,["mediaResolution"]);n!=null&&m(e,["mediaResolution"],n);const i=d(t,["codeExecutionResult"]);i!=null&&m(e,["codeExecutionResult"],i);const s=d(t,["executableCode"]);s!=null&&m(e,["executableCode"],s);const a=d(t,["fileData"]);a!=null&&m(e,["fileData"],M2(a));const u=d(t,["functionCall"]);u!=null&&m(e,["functionCall"],N2(u));const f=d(t,["functionResponse"]);f!=null&&m(e,["functionResponse"],f);const p=d(t,["inlineData"]);p!=null&&m(e,["inlineData"],t2(p));const h=d(t,["text"]);h!=null&&m(e,["text"],h);const v=d(t,["thought"]);v!=null&&m(e,["thought"],v);const _=d(t,["thoughtSignature"]);_!=null&&m(e,["thoughtSignature"],_);const S=d(t,["videoMetadata"]);return S!=null&&m(e,["videoMetadata"],S),e}function vH(t){const e={},n=d(t,["productImage"]);return n!=null&&m(e,["image"],Zn(n)),e}function yH(t,e){const n={},i=d(t,["numberOfImages"]);e!==void 0&&i!=null&&m(e,["parameters","sampleCount"],i);const s=d(t,["baseSteps"]);e!==void 0&&s!=null&&m(e,["parameters","baseSteps"],s);const a=d(t,["outputGcsUri"]);e!==void 0&&a!=null&&m(e,["parameters","storageUri"],a);const u=d(t,["seed"]);e!==void 0&&u!=null&&m(e,["parameters","seed"],u);const f=d(t,["safetyFilterLevel"]);e!==void 0&&f!=null&&m(e,["parameters","safetySetting"],f);const p=d(t,["personGeneration"]);e!==void 0&&p!=null&&m(e,["parameters","personGeneration"],p);const h=d(t,["addWatermark"]);e!==void 0&&h!=null&&m(e,["parameters","addWatermark"],h);const v=d(t,["outputMimeType"]);e!==void 0&&v!=null&&m(e,["parameters","outputOptions","mimeType"],v);const _=d(t,["outputCompressionQuality"]);e!==void 0&&_!=null&&m(e,["parameters","outputOptions","compressionQuality"],_);const S=d(t,["enhancePrompt"]);e!==void 0&&S!=null&&m(e,["parameters","enhancePrompt"],S);const T=d(t,["labels"]);return e!==void 0&&T!=null&&m(e,["labels"],T),n}function _H(t,e){const n={},i=d(e,["model"]);i!=null&&m(n,["_url","model"],Ve(t,i));const s=d(e,["source"]);s!=null&&EH(s,n);const a=d(e,["config"]);return a!=null&&yH(a,n),n}function SH(t){const e={},n=d(t,["predictions"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>Jf(s))),m(e,["generatedImages"],i)}return e}function EH(t,e){const n={},i=d(t,["prompt"]);e!==void 0&&i!=null&&m(e,["instances[0]","prompt"],i);const s=d(t,["personImage"]);e!==void 0&&s!=null&&m(e,["instances[0]","personImage","image"],Zn(s));const a=d(t,["productImages"]);if(e!==void 0&&a!=null){let u=a;Array.isArray(u)&&(u=u.map(f=>vH(f))),m(e,["instances[0]","productImages"],u)}return n}function TH(t){const e={},n=d(t,["referenceImage"]);n!=null&&m(e,["referenceImage"],Zn(n));const i=d(t,["referenceId"]);i!=null&&m(e,["referenceId"],i);const s=d(t,["referenceType"]);s!=null&&m(e,["referenceType"],s);const a=d(t,["maskImageConfig"]);a!=null&&m(e,["maskImageConfig"],mH(a));const u=d(t,["controlImageConfig"]);u!=null&&m(e,["controlImageConfig"],l2(u));const f=d(t,["styleImageConfig"]);f!=null&&m(e,["styleImageConfig"],f);const p=d(t,["subjectImageConfig"]);return p!=null&&m(e,["subjectImageConfig"],p),e}function kw(t){const e={},n=d(t,["safetyAttributes","categories"]);n!=null&&m(e,["categories"],n);const i=d(t,["safetyAttributes","scores"]);i!=null&&m(e,["scores"],i);const s=d(t,["contentType"]);return s!=null&&m(e,["contentType"],s),e}function Bw(t){const e={},n=d(t,["safetyAttributes","categories"]);n!=null&&m(e,["categories"],n);const i=d(t,["safetyAttributes","scores"]);i!=null&&m(e,["scores"],i);const s=d(t,["contentType"]);return s!=null&&m(e,["contentType"],s),e}function bH(t){const e={},n=d(t,["category"]);if(n!=null&&m(e,["category"],n),d(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const i=d(t,["threshold"]);return i!=null&&m(e,["threshold"],i),e}function CH(t){const e={},n=d(t,["image"]);return n!=null&&m(e,["image"],Zn(n)),e}function AH(t,e){const n={},i=d(t,["mode"]);e!==void 0&&i!=null&&m(e,["parameters","mode"],i);const s=d(t,["maxPredictions"]);e!==void 0&&s!=null&&m(e,["parameters","maxPredictions"],s);const a=d(t,["confidenceThreshold"]);e!==void 0&&a!=null&&m(e,["parameters","confidenceThreshold"],a);const u=d(t,["maskDilation"]);e!==void 0&&u!=null&&m(e,["parameters","maskDilation"],u);const f=d(t,["binaryColorThreshold"]);e!==void 0&&f!=null&&m(e,["parameters","binaryColorThreshold"],f);const p=d(t,["labels"]);return e!==void 0&&p!=null&&m(e,["labels"],p),n}function wH(t,e){const n={},i=d(e,["model"]);i!=null&&m(n,["_url","model"],Ve(t,i));const s=d(e,["source"]);s!=null&&RH(s,n);const a=d(e,["config"]);return a!=null&&AH(a,n),n}function xH(t){const e={},n=d(t,["predictions"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>Z2(s))),m(e,["generatedMasks"],i)}return e}function RH(t,e){const n={},i=d(t,["prompt"]);e!==void 0&&i!=null&&m(e,["instances[0]","prompt"],i);const s=d(t,["image"]);e!==void 0&&s!=null&&m(e,["instances[0]","image"],Zn(s));const a=d(t,["scribbleImage"]);return e!==void 0&&a!=null&&m(e,["instances[0]","scribble"],CH(a)),n}function Hw(t){const e={},n=d(t,["voiceConfig"]);n!=null&&m(e,["voiceConfig"],n);const i=d(t,["languageCode"]);if(i!=null&&m(e,["languageCode"],i),d(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return e}function MH(t){const e={},n=d(t,["functionCallingConfig"]);n!=null&&m(e,["functionCallingConfig"],I2(n));const i=d(t,["retrievalConfig"]);return i!=null&&m(e,["retrievalConfig"],i),e}function NH(t){const e={},n=d(t,["functionDeclarations"]);if(n!=null){let v=n;Array.isArray(v)&&(v=v.map(_=>_)),m(e,["functionDeclarations"],v)}if(d(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=d(t,["googleSearchRetrieval"]);i!=null&&m(e,["googleSearchRetrieval"],i);const s=d(t,["computerUse"]);s!=null&&m(e,["computerUse"],s);const a=d(t,["fileSearch"]);a!=null&&m(e,["fileSearch"],a);const u=d(t,["codeExecution"]);if(u!=null&&m(e,["codeExecution"],u),d(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const f=d(t,["googleMaps"]);f!=null&&m(e,["googleMaps"],oH(f));const p=d(t,["googleSearch"]);p!=null&&m(e,["googleSearch"],rH(p));const h=d(t,["urlContext"]);return h!=null&&m(e,["urlContext"],h),e}function Gw(t){const e={},n=d(t,["functionDeclarations"]);if(n!=null){let _=n;Array.isArray(_)&&(_=_.map(S=>D2(S))),m(e,["functionDeclarations"],_)}const i=d(t,["retrieval"]);i!=null&&m(e,["retrieval"],i);const s=d(t,["googleSearchRetrieval"]);s!=null&&m(e,["googleSearchRetrieval"],s);const a=d(t,["computerUse"]);if(a!=null&&m(e,["computerUse"],a),d(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const u=d(t,["codeExecution"]);u!=null&&m(e,["codeExecution"],u);const f=d(t,["enterpriseWebSearch"]);f!=null&&m(e,["enterpriseWebSearch"],f);const p=d(t,["googleMaps"]);p!=null&&m(e,["googleMaps"],p);const h=d(t,["googleSearch"]);h!=null&&m(e,["googleSearch"],h);const v=d(t,["urlContext"]);return v!=null&&m(e,["urlContext"],v),e}function IH(t){const e={},n=d(t,["baseModel"]);n!=null&&m(e,["baseModel"],n);const i=d(t,["createTime"]);i!=null&&m(e,["createTime"],i);const s=d(t,["updateTime"]);return s!=null&&m(e,["updateTime"],s),e}function DH(t){const e={},n=d(t,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&m(e,["baseModel"],n);const i=d(t,["createTime"]);i!=null&&m(e,["createTime"],i);const s=d(t,["updateTime"]);return s!=null&&m(e,["updateTime"],s),e}function OH(t,e){const n={},i=d(t,["displayName"]);e!==void 0&&i!=null&&m(e,["displayName"],i);const s=d(t,["description"]);e!==void 0&&s!=null&&m(e,["description"],s);const a=d(t,["defaultCheckpointId"]);return e!==void 0&&a!=null&&m(e,["defaultCheckpointId"],a),n}function UH(t,e){const n={},i=d(t,["displayName"]);e!==void 0&&i!=null&&m(e,["displayName"],i);const s=d(t,["description"]);e!==void 0&&s!=null&&m(e,["description"],s);const a=d(t,["defaultCheckpointId"]);return e!==void 0&&a!=null&&m(e,["defaultCheckpointId"],a),n}function PH(t,e){const n={},i=d(e,["model"]);i!=null&&m(n,["_url","name"],Ve(t,i));const s=d(e,["config"]);return s!=null&&OH(s,n),n}function LH(t,e){const n={},i=d(e,["model"]);i!=null&&m(n,["_url","model"],Ve(t,i));const s=d(e,["config"]);return s!=null&&UH(s,n),n}function kH(t,e){const n={},i=d(t,["outputGcsUri"]);e!==void 0&&i!=null&&m(e,["parameters","storageUri"],i);const s=d(t,["safetyFilterLevel"]);e!==void 0&&s!=null&&m(e,["parameters","safetySetting"],s);const a=d(t,["personGeneration"]);e!==void 0&&a!=null&&m(e,["parameters","personGeneration"],a);const u=d(t,["includeRaiReason"]);e!==void 0&&u!=null&&m(e,["parameters","includeRaiReason"],u);const f=d(t,["outputMimeType"]);e!==void 0&&f!=null&&m(e,["parameters","outputOptions","mimeType"],f);const p=d(t,["outputCompressionQuality"]);e!==void 0&&p!=null&&m(e,["parameters","outputOptions","compressionQuality"],p);const h=d(t,["enhanceInputImage"]);e!==void 0&&h!=null&&m(e,["parameters","upscaleConfig","enhanceInputImage"],h);const v=d(t,["imagePreservationFactor"]);e!==void 0&&v!=null&&m(e,["parameters","upscaleConfig","imagePreservationFactor"],v);const _=d(t,["labels"]);e!==void 0&&_!=null&&m(e,["labels"],_);const S=d(t,["numberOfImages"]);e!==void 0&&S!=null&&m(e,["parameters","sampleCount"],S);const T=d(t,["mode"]);return e!==void 0&&T!=null&&m(e,["parameters","mode"],T),n}function BH(t,e){const n={},i=d(e,["model"]);i!=null&&m(n,["_url","model"],Ve(t,i));const s=d(e,["image"]);s!=null&&m(n,["instances[0]","image"],Zn(s));const a=d(e,["upscaleFactor"]);a!=null&&m(n,["parameters","upscaleConfig","upscaleFactor"],a);const u=d(e,["config"]);return u!=null&&kH(u,n),n}function HH(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const i=d(t,["predictions"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>Jf(a))),m(e,["generatedImages"],s)}return e}function GH(t){const e={},n=d(t,["uri"]);n!=null&&m(e,["uri"],n);const i=d(t,["encodedVideo"]);i!=null&&m(e,["videoBytes"],Vo(i));const s=d(t,["encoding"]);return s!=null&&m(e,["mimeType"],s),e}function VH(t){const e={},n=d(t,["gcsUri"]);n!=null&&m(e,["uri"],n);const i=d(t,["bytesBase64Encoded"]);i!=null&&m(e,["videoBytes"],Vo(i));const s=d(t,["mimeType"]);return s!=null&&m(e,["mimeType"],s),e}function $H(t){const e={},n=d(t,["image"]);n!=null&&m(e,["_self"],Zn(n));const i=d(t,["maskMode"]);return i!=null&&m(e,["maskMode"],i),e}function qH(t){const e={},n=d(t,["image"]);n!=null&&m(e,["image"],Yf(n));const i=d(t,["referenceType"]);return i!=null&&m(e,["referenceType"],i),e}function zH(t){const e={},n=d(t,["image"]);n!=null&&m(e,["image"],Zn(n));const i=d(t,["referenceType"]);return i!=null&&m(e,["referenceType"],i),e}function Vw(t){const e={},n=d(t,["uri"]);n!=null&&m(e,["uri"],n);const i=d(t,["videoBytes"]);i!=null&&m(e,["encodedVideo"],Vo(i));const s=d(t,["mimeType"]);return s!=null&&m(e,["encoding"],s),e}function $w(t){const e={},n=d(t,["uri"]);n!=null&&m(e,["gcsUri"],n);const i=d(t,["videoBytes"]);i!=null&&m(e,["bytesBase64Encoded"],Vo(i));const s=d(t,["mimeType"]);return s!=null&&m(e,["mimeType"],s),e}function FH(t,e){const n={},i=d(t,["displayName"]);return e!==void 0&&i!=null&&m(e,["displayName"],i),n}function JH(t){const e={},n=d(t,["config"]);return n!=null&&FH(n,e),e}function YH(t,e){const n={},i=d(t,["force"]);return e!==void 0&&i!=null&&m(e,["_query","force"],i),n}function KH(t){const e={},n=d(t,["name"]);n!=null&&m(e,["_url","name"],n);const i=d(t,["config"]);return i!=null&&YH(i,e),e}function XH(t){const e={},n=d(t,["name"]);return n!=null&&m(e,["_url","name"],n),e}function WH(t,e){const n={},i=d(t,["customMetadata"]);if(e!==void 0&&i!=null){let a=i;Array.isArray(a)&&(a=a.map(u=>u)),m(e,["customMetadata"],a)}const s=d(t,["chunkingConfig"]);return e!==void 0&&s!=null&&m(e,["chunkingConfig"],s),n}function QH(t){const e={},n=d(t,["name"]);n!=null&&m(e,["name"],n);const i=d(t,["metadata"]);i!=null&&m(e,["metadata"],i);const s=d(t,["done"]);s!=null&&m(e,["done"],s);const a=d(t,["error"]);a!=null&&m(e,["error"],a);const u=d(t,["response"]);return u!=null&&m(e,["response"],jH(u)),e}function ZH(t){const e={},n=d(t,["fileSearchStoreName"]);n!=null&&m(e,["_url","file_search_store_name"],n);const i=d(t,["fileName"]);i!=null&&m(e,["fileName"],i);const s=d(t,["config"]);return s!=null&&WH(s,e),e}function jH(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const i=d(t,["parent"]);i!=null&&m(e,["parent"],i);const s=d(t,["documentName"]);return s!=null&&m(e,["documentName"],s),e}function eG(t,e){const n={},i=d(t,["pageSize"]);e!==void 0&&i!=null&&m(e,["_query","pageSize"],i);const s=d(t,["pageToken"]);return e!==void 0&&s!=null&&m(e,["_query","pageToken"],s),n}function tG(t){const e={},n=d(t,["config"]);return n!=null&&eG(n,e),e}function nG(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const i=d(t,["nextPageToken"]);i!=null&&m(e,["nextPageToken"],i);const s=d(t,["fileSearchStores"]);if(s!=null){let a=s;Array.isArray(a)&&(a=a.map(u=>u)),m(e,["fileSearchStores"],a)}return e}function qw(t,e){const n={},i=d(t,["mimeType"]);e!==void 0&&i!=null&&m(e,["mimeType"],i);const s=d(t,["displayName"]);e!==void 0&&s!=null&&m(e,["displayName"],s);const a=d(t,["customMetadata"]);if(e!==void 0&&a!=null){let f=a;Array.isArray(f)&&(f=f.map(p=>p)),m(e,["customMetadata"],f)}const u=d(t,["chunkingConfig"]);return e!==void 0&&u!=null&&m(e,["chunkingConfig"],u),n}function iG(t){const e={},n=d(t,["fileSearchStoreName"]);n!=null&&m(e,["_url","file_search_store_name"],n);const i=d(t,["config"]);return i!=null&&qw(i,e),e}function oG(t){const e={},n=d(t,["sdkHttpResponse"]);return n!=null&&m(e,["sdkHttpResponse"],n),e}const rG="Content-Type",sG="X-Server-Timeout",aG="User-Agent",Hm="x-goog-api-client",lG="1.33.0",uG=`google-genai-sdk/${lG}`,cG="v1beta1",fG="v1beta";class dG{constructor(e){var n,i;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const s={};this.clientOptions.vertexai?(s.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:cG,s.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(s.apiVersion=(i=this.clientOptions.apiVersion)!==null&&i!==void 0?i:fG,s.baseUrl="https://generativelanguage.googleapis.com/"),s.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=s,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(s,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const i=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&i.push(e.apiVersion),i.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,i){const s=[this.getRequestUrlInternal(n)];return i&&s.push(this.getBaseResourcePath()),e!==""&&s.push(e),new URL(`${s.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const i=this.shouldPrependVertexProjectPath(e),s=this.constructUrl(e.path,n,i);if(e.queryParams)for(const[u,f]of Object.entries(e.queryParams))s.searchParams.append(u,String(f));let a={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else a.body=e.body;return a=await this.includeExtraHttpOptionsToRequestInit(a,n,s.toString(),e.abortSignal),this.unaryApiCall(s,a,e.httpMethod)}patchHttpOptions(e,n){const i=JSON.parse(JSON.stringify(e));for(const[s,a]of Object.entries(n))typeof a=="object"?i[s]=Object.assign(Object.assign({},i[s]),a):a!==void 0&&(i[s]=a);return i}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const i=this.shouldPrependVertexProjectPath(e),s=this.constructUrl(e.path,n,i);(!s.searchParams.has("alt")||s.searchParams.get("alt")!=="sse")&&s.searchParams.set("alt","sse");let a={};return a.body=e.body,a=await this.includeExtraHttpOptionsToRequestInit(a,n,s.toString(),e.abortSignal),this.streamApiCall(s,a,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,i,s){if(n&&n.timeout||s){const a=new AbortController,u=a.signal;if(n.timeout&&n?.timeout>0){const f=setTimeout(()=>a.abort(),n.timeout);f&&typeof f.unref=="function"&&f.unref()}s&&s.addEventListener("abort",()=>{a.abort()}),e.signal=u}return n&&n.extraBody!==null&&hG(e,n.extraBody),e.headers=await this.getHeadersInternal(n,i),e}async unaryApiCall(e,n,i){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:i})).then(async s=>(await ZT(s),new Um(s))).catch(s=>{throw s instanceof Error?s:new Error(JSON.stringify(s))})}async streamApiCall(e,n,i){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:i})).then(async s=>(await ZT(s),this.processStreamResponse(s))).catch(s=>{throw s instanceof Error?s:new Error(JSON.stringify(s))})}processStreamResponse(e){return Yn(this,arguments,function*(){var i;const s=(i=e?.body)===null||i===void 0?void 0:i.getReader(),a=new TextDecoder("utf-8");if(!s)throw new Error("Response body is empty");try{let u="";const f="data:",p=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:h,value:v}=yield Ce(s.read());if(h){if(u.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const _=a.decode(v,{stream:!0});try{const b=JSON.parse(_);if("error"in b){const A=JSON.parse(JSON.stringify(b.error)),x=A.status,I=A.code,D=`got status: ${x}. ${JSON.stringify(b)}`;if(I>=400&&I<600)throw new zf({message:D,status:I})}}catch(b){if(b.name==="ApiError")throw b}u+=_;let S=-1,T=0;for(;;){S=-1,T=0;for(const x of p){const I=u.indexOf(x);I!==-1&&(S===-1||I<S)&&(S=I,T=x.length)}if(S===-1)break;const b=u.substring(0,S);u=u.substring(S+T);const A=b.trim();if(A.startsWith(f)){const x=A.substring(f.length).trim();try{const I=new Response(x,{headers:e?.headers,status:e?.status,statusText:e?.statusText});yield yield Ce(new Um(I))}catch(I){throw new Error(`exception parsing stream chunk ${x}. ${I}`)}}}}}finally{s.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(i=>{throw new Error(`exception ${i} sending request`)})}getDefaultHeaders(){const e={},n=uG+" "+this.clientOptions.userAgentExtra;return e[aG]=n,e[Hm]=n,e[rG]="application/json",e}async getHeadersInternal(e,n){const i=new Headers;if(e&&e.headers){for(const[s,a]of Object.entries(e.headers))i.append(s,a);e.timeout&&e.timeout>0&&i.append(sG,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(i,n),i}getFileName(e){var n;let i="";return typeof e=="string"&&(i=e.replace(/[/\\]+$/,""),i=(n=i.split(/[/\\]/).pop())!==null&&n!==void 0?n:""),i}async uploadFile(e,n){var i;const s={};n!=null&&(s.mimeType=n.mimeType,s.name=n.name,s.displayName=n.displayName),s.name&&!s.name.startsWith("files/")&&(s.name=`files/${s.name}`);const a=this.clientOptions.uploader,u=await a.stat(e);s.sizeBytes=String(u.size);const f=(i=n?.mimeType)!==null&&i!==void 0?i:u.type;if(f===void 0||f==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");s.mimeType=f;const p={file:s},h=this.getFileName(e),v=ae("upload/v1beta/files",p._url),_=await this.fetchUploadUrl(v,s.sizeBytes,s.mimeType,h,p,n?.httpOptions);return a.upload(e,_,this)}async uploadFileToFileSearchStore(e,n,i){var s;const a=this.clientOptions.uploader,u=await a.stat(n),f=String(u.size),p=(s=i?.mimeType)!==null&&s!==void 0?s:u.type;if(p===void 0||p==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const h=`upload/v1beta/${e}:uploadToFileSearchStore`,v=this.getFileName(n),_={};i!=null&&qw(i,_);const S=await this.fetchUploadUrl(h,f,p,v,_,i?.httpOptions);return a.uploadToFileSearchStore(n,S,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n,i,s,a,u){var f;let p={};u?p=u:p={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n}`,"X-Goog-Upload-Header-Content-Type":`${i}`},s?{"X-Goog-Upload-File-Name":s}:{})};const h=await this.request({path:e,body:JSON.stringify(a),httpMethod:"POST",httpOptions:p});if(!h||!h?.headers)throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const v=(f=h?.headers)===null||f===void 0?void 0:f["x-goog-upload-url"];if(v===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return v}}async function ZT(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const n=t.status;let i;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?i=await t.json():i={error:{message:await t.text(),code:t.status,status:t.statusText}};const s=JSON.stringify(i);throw n>=400&&n<600?new zf({message:s,status:n}):new Error(s)}}function hG(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof t.body=="string"&&t.body.length>0)try{const a=JSON.parse(t.body);if(typeof a=="object"&&a!==null&&!Array.isArray(a))n=a;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function i(a,u){const f=Object.assign({},a);for(const p in u)if(Object.prototype.hasOwnProperty.call(u,p)){const h=u[p],v=f[p];h&&typeof h=="object"&&!Array.isArray(h)&&v&&typeof v=="object"&&!Array.isArray(v)?f[p]=i(v,h):(v&&h&&typeof v!=typeof h&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${p}". Original type: ${typeof v}, New type: ${typeof h}. Overwriting.`),f[p]=h)}return f}const s=i(n,e);t.body=JSON.stringify(s)}const pG="mcp_used/unknown";let mG=!1;function zw(t){for(const e of t)if(gG(e)||typeof e=="object"&&"inputSchema"in e)return!0;return mG}function Fw(t){var e;const n=(e=t[Hm])!==null&&e!==void 0?e:"";t[Hm]=(n+` ${pG}`).trimStart()}function gG(t){return t!==null&&typeof t=="object"&&t instanceof Wg}function vG(t){return Yn(this,arguments,function*(n,i=100){let s,a=0;for(;a<i;){const u=yield Ce(n.listTools({cursor:s}));for(const f of u.tools)yield yield Ce(f),a++;if(!u.nextCursor)break;s=u.nextCursor}})}class Wg{constructor(e=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=n}static create(e,n){return new Wg(e,n)}async initialize(){var e,n,i,s;if(this.mcpTools.length>0)return;const a={},u=[];for(const v of this.mcpClients)try{for(var f=!0,p=(n=void 0,Kn(vG(v))),h;h=await p.next(),e=h.done,!e;f=!0){s=h.value,f=!1;const _=s;u.push(_);const S=_.name;if(a[S])throw new Error(`Duplicate function name ${S} found in MCP tools. Please ensure function names are unique.`);a[S]=v}}catch(_){n={error:_}}finally{try{!f&&!e&&(i=p.return)&&await i.call(p)}finally{if(n)throw n.error}}this.mcpTools=u,this.functionNameToMcpClient=a}async tool(){return await this.initialize(),XL(this.mcpTools,this.config)}async callTool(e){await this.initialize();const n=[];for(const i of e)if(i.name in this.functionNameToMcpClient){const s=this.functionNameToMcpClient[i.name];let a;this.config.timeout&&(a={timeout:this.config.timeout});const u=await s.callTool({name:i.name,arguments:i.args},void 0,a);n.push({functionResponse:{name:i.name,response:u.isError?{error:u}:u}})}return n}}async function yG(t,e,n){const i=new VL;let s;n.data instanceof Blob?s=JSON.parse(await n.data.text()):s=JSON.parse(n.data),Object.assign(i,s),e(i)}class _G{constructor(e,n,i){this.apiClient=e,this.auth=n,this.webSocketFactory=i}async connect(e){var n,i;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const s=this.apiClient.getWebsocketBaseUrl(),a=this.apiClient.getApiVersion(),u=TG(this.apiClient.getDefaultHeaders()),f=this.apiClient.getApiKey(),p=`${s}/ws/google.ai.generativelanguage.${a}.GenerativeService.BidiGenerateMusic?key=${f}`;let h=()=>{};const v=new Promise(N=>{h=N}),_=e.callbacks,S=function(){h({})},T=this.apiClient,b={onopen:S,onmessage:N=>{yG(T,_.onmessage,N)},onerror:(n=_?.onerror)!==null&&n!==void 0?n:function(N){},onclose:(i=_?.onclose)!==null&&i!==void 0?i:function(N){}},A=this.webSocketFactory.create(p,EG(u),b);A.connect(),await v;const D={setup:{model:Ve(this.apiClient,e.model)}};return A.send(JSON.stringify(D)),new SG(A,this.apiClient)}}class SG{constructor(e,n){this.conn=e,this.apiClient=n}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=JB(e);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const n=FB(e);this.conn.send(JSON.stringify(n))}sendPlaybackControl(e){const n={playbackControl:e};this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(Ns.PLAY)}pause(){this.sendPlaybackControl(Ns.PAUSE)}stop(){this.sendPlaybackControl(Ns.STOP)}resetContext(){this.sendPlaybackControl(Ns.RESET_CONTEXT)}close(){this.conn.close()}}function EG(t){const e={};return t.forEach((n,i)=>{e[i]=n}),e}function TG(t){const e=new Headers;for(const[n,i]of Object.entries(t))e.append(n,i);return e}const bG="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function CG(t,e,n){const i=new GL;let s;n.data instanceof Blob?s=await n.data.text():n.data instanceof ArrayBuffer?s=new TextDecoder().decode(n.data):s=n.data;const a=JSON.parse(s);if(t.isVertexAI()){const u=XB(a);Object.assign(i,u)}else Object.assign(i,a);e(i)}class AG{constructor(e,n,i){this.apiClient=e,this.auth=n,this.webSocketFactory=i,this.music=new _G(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,i,s,a,u,f;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const p=this.apiClient.getWebsocketBaseUrl(),h=this.apiClient.getApiVersion();let v;const _=this.apiClient.getHeaders();e.config&&e.config.tools&&zw(e.config.tools)&&Fw(_);const S=MG(_);if(this.apiClient.isVertexAI())v=`${p}/ws/google.cloud.aiplatform.${h}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(S,v);else{const X=this.apiClient.getApiKey();let te="BidiGenerateContent",j="key";X?.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),h!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),te="BidiGenerateContentConstrained",j="access_token"),v=`${p}/ws/google.ai.generativelanguage.${h}.GenerativeService.${te}?${j}=${X}`}let T=()=>{};const b=new Promise(X=>{T=X}),A=e.callbacks,x=function(){var X;(X=A?.onopen)===null||X===void 0||X.call(A),T({})},I=this.apiClient,D={onopen:x,onmessage:X=>{CG(I,A.onmessage,X)},onerror:(n=A?.onerror)!==null&&n!==void 0?n:function(X){},onclose:(i=A?.onclose)!==null&&i!==void 0?i:function(X){}},N=this.webSocketFactory.create(v,RG(S),D);N.connect(),await b;let P=Ve(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&P.startsWith("publishers/")){const X=this.apiClient.getProject(),te=this.apiClient.getLocation();P=`projects/${X}/locations/${te}/`+P}let z={};this.apiClient.isVertexAI()&&((s=e.config)===null||s===void 0?void 0:s.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[pf.AUDIO]}:e.config.responseModalities=[pf.AUDIO]),!((a=e.config)===null||a===void 0)&&a.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const G=(f=(u=e.config)===null||u===void 0?void 0:u.tools)!==null&&f!==void 0?f:[],B=[];for(const X of G)if(this.isCallableTool(X)){const te=X;B.push(await te.tool())}else B.push(X);B.length>0&&(e.config.tools=B);const Q={model:P,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?z=zB(this.apiClient,Q):z=qB(this.apiClient,Q),delete z.config,N.send(JSON.stringify(z)),new xG(N,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const wG={turnComplete:!0};class xG{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let i=[];try{i=Nn(n.turns),e.isVertexAI()||(i=i.map(s=>Ff(s)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:i,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let i=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?i=n.functionResponses:i=[n.functionResponses],i.length===0)throw new Error("functionResponses is required.");for(const a of i){if(typeof a!="object"||a===null||!("name"in a)||!("response"in a))throw new Error(`Could not parse function response, type '${typeof a}'.`);if(!e.isVertexAI()&&!("id"in a))throw new Error(bG)}return{toolResponse:{functionResponses:i}}}sendClientContent(e){e=Object.assign(Object.assign({},wG),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:KB(e)}:n={realtimeInput:YB(e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function RG(t){const e={};return t.forEach((n,i)=>{e[i]=n}),e}function MG(t){const e=new Headers;for(const[n,i]of Object.entries(t))e.append(n,i);return e}const jT=10;function eb(t){var e,n,i;if(!((e=t?.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let s=!1;for(const u of(n=t?.tools)!==null&&n!==void 0?n:[])if(Us(u)){s=!0;break}if(!s)return!0;const a=(i=t?.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls;return a&&(a<0||!Number.isInteger(a))||a==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",a),!0):!1}function Us(t){return"callTool"in t&&typeof t.callTool=="function"}function NG(t){var e,n,i;return(i=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(s=>Us(s)))!==null&&i!==void 0?i:!1}function tb(t){var e;const n=[];return!((e=t?.config)===null||e===void 0)&&e.tools&&t.config.tools.forEach((i,s)=>{if(Us(i))return;const a=i;a.functionDeclarations&&a.functionDeclarations.length>0&&n.push(s)}),n}function nb(t){var e;return!(!((e=t?.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}let IG=class extends Xi{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>{var i,s,a,u,f;const p=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!NG(n)||eb(n.config))return await this.generateContentInternal(p);const h=tb(n);if(h.length>0){const A=h.map(x=>`tools[${x}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${A}.`)}let v,_;const S=Nn(p.contents),T=(a=(s=(i=p.config)===null||i===void 0?void 0:i.automaticFunctionCalling)===null||s===void 0?void 0:s.maximumRemoteCalls)!==null&&a!==void 0?a:jT;let b=0;for(;b<T&&(v=await this.generateContentInternal(p),!(!v.functionCalls||v.functionCalls.length===0));){const A=v.candidates[0].content,x=[];for(const I of(f=(u=n.config)===null||u===void 0?void 0:u.tools)!==null&&f!==void 0?f:[])if(Us(I)){const N=await I.callTool(v.functionCalls);x.push(...N)}b++,_={role:"user",parts:x},p.contents=Nn(p.contents),p.contents.push(A),p.contents.push(_),nb(p.config)&&(S.push(A),S.push(_))}return nb(p.config)&&(v.automaticFunctionCallingHistory=S),v},this.generateContentStream=async n=>{var i,s,a,u,f;if(this.maybeMoveToResponseJsonSchem(n),eb(n.config)){const _=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(_)}const p=tb(n);if(p.length>0){const _=p.map(S=>`tools[${S}]`).join(", ");throw new Error(`Incompatible tools found at ${_}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const h=(a=(s=(i=n?.config)===null||i===void 0?void 0:i.toolConfig)===null||s===void 0?void 0:s.functionCallingConfig)===null||a===void 0?void 0:a.streamFunctionCallArguments,v=(f=(u=n?.config)===null||u===void 0?void 0:u.automaticFunctionCalling)===null||f===void 0?void 0:f.disable;if(h&&!v)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(i=>{var s;let a;const u=[];if(i?.generatedImages)for(const p of i.generatedImages)p&&p?.safetyAttributes&&((s=p?.safetyAttributes)===null||s===void 0?void 0:s.contentType)==="Positive Prompt"?a=p?.safetyAttributes:u.push(p);let f;return a?f={generatedImages:u,positivePromptSafetyAttributes:a,sdkHttpResponse:i.sdkHttpResponse}:f={generatedImages:u,sdkHttpResponse:i.sdkHttpResponse},f}),this.list=async n=>{var i;const u={config:Object.assign(Object.assign({},{queryBase:!0}),n?.config)};if(this.apiClient.isVertexAI()&&!u.config.queryBase){if(!((i=u.config)===null||i===void 0)&&i.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");u.config.filter="labels.tune-type:*"}return new Mr(Yi.PAGED_ITEM_MODELS,f=>this.listInternal(f),await this.listInternal(u),u)},this.editImage=async n=>{const i={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(i.referenceImages=n.referenceImages.map(s=>s.toReferenceImageAPI())),await this.editImageInternal(i)},this.upscaleImage=async n=>{let i={numberOfImages:1,mode:"upscale"};n.config&&(i=Object.assign(Object.assign({},i),n.config));const s={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:i};return await this.upscaleImageInternal(s)},this.generateVideos=async n=>{var i,s,a,u,f,p;if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((i=n.video)===null||i===void 0)&&i.uri&&(!((s=n.video)===null||s===void 0)&&s.videoBytes)?n.video={uri:n.video.uri,mimeType:n.video.mimeType}:!((u=(a=n.source)===null||a===void 0?void 0:a.video)===null||u===void 0)&&u.uri&&(!((p=(f=n.source)===null||f===void 0?void 0:f.video)===null||p===void 0)&&p.videoBytes)&&(n.source.video={uri:n.source.video.uri,mimeType:n.source.video.mimeType})),await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var n,i,s;const a=(n=e.config)===null||n===void 0?void 0:n.tools;if(!a)return e;const u=await Promise.all(a.map(async p=>Us(p)?await p.tool():p)),f={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:u})};if(f.config.tools=u,e.config&&e.config.tools&&zw(e.config.tools)){const p=(s=(i=e.config.httpOptions)===null||i===void 0?void 0:i.headers)!==null&&s!==void 0?s:{};let h=Object.assign({},p);Object.keys(h).length===0&&(h=this.apiClient.getDefaultHeaders()),Fw(h),f.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:h})}return f}async initAfcToolsMap(e){var n,i,s;const a=new Map;for(const u of(i=(n=e.config)===null||n===void 0?void 0:n.tools)!==null&&i!==void 0?i:[])if(Us(u)){const f=u,p=await f.tool();for(const h of(s=p.functionDeclarations)!==null&&s!==void 0?s:[]){if(!h.name)throw new Error("Function declaration name is required.");if(a.has(h.name))throw new Error(`Duplicate tool declaration name: ${h.name}`);a.set(h.name,f)}}return a}async processAfcStream(e){var n,i,s;const a=(s=(i=(n=e.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&s!==void 0?s:jT;let u=!1,f=0;const p=await this.initAfcToolsMap(e);return(function(h,v,_){return Yn(this,arguments,function*(){for(var S,T,b,A,x,I;f<a;){u&&(f++,u=!1);const z=yield Ce(h.processParamsMaybeAddMcpUsage(_)),G=yield Ce(h.generateContentStreamInternal(z)),B=[],Q=[];try{for(var D=!0,N=(T=void 0,Kn(G)),P;P=yield Ce(N.next()),S=P.done,!S;D=!0){A=P.value,D=!1;const X=A;if(yield yield Ce(X),X.candidates&&(!((x=X.candidates[0])===null||x===void 0)&&x.content)){Q.push(X.candidates[0].content);for(const te of(I=X.candidates[0].content.parts)!==null&&I!==void 0?I:[])if(f<a&&te.functionCall){if(!te.functionCall.name)throw new Error("Function call name was not returned by the model.");if(v.has(te.functionCall.name)){const j=yield Ce(v.get(te.functionCall.name).callTool([te.functionCall]));B.push(...j)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${v.keys()}, mising tool: ${te.functionCall.name}`)}}}}catch(X){T={error:X}}finally{try{!D&&!S&&(b=N.return)&&(yield Ce(b.call(N)))}finally{if(T)throw T.error}}if(B.length>0){u=!0;const X=new Za;X.candidates=[{content:{role:"user",parts:B}}],yield yield Ce(X);const te=[];te.push(...Q),te.push({role:"user",parts:B});const j=Nn(_.contents).concat(te);_.contents=j}else break}})})(this,p,e)}async generateContentInternal(e){var n,i,s,a;let u,f="",p={};if(this.apiClient.isVertexAI()){const h=XT(this.apiClient,e);return f=ae("{model}:generateContent",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),u.then(v=>{const _=QT(v),S=new Za;return Object.assign(S,_),S})}else{const h=KT(this.apiClient,e);return f=ae("{model}:generateContent",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),u.then(v=>{const _=WT(v),S=new Za;return Object.assign(S,_),S})}}async generateContentStreamInternal(e){var n,i,s,a;let u,f="",p={};if(this.apiClient.isVertexAI()){const h=XT(this.apiClient,e);return f=ae("{model}:streamGenerateContent?alt=sse",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.requestStream({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}),u.then(function(_){return Yn(this,arguments,function*(){var S,T,b,A;try{for(var x=!0,I=Kn(_),D;D=yield Ce(I.next()),S=D.done,!S;x=!0){A=D.value,x=!1;const N=A,P=QT(yield Ce(N.json()));P.sdkHttpResponse={headers:N.headers};const z=new Za;Object.assign(z,P),yield yield Ce(z)}}catch(N){T={error:N}}finally{try{!x&&!S&&(b=I.return)&&(yield Ce(b.call(I)))}finally{if(T)throw T.error}}})})}else{const h=KT(this.apiClient,e);return f=ae("{model}:streamGenerateContent?alt=sse",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.requestStream({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}),u.then(function(_){return Yn(this,arguments,function*(){var S,T,b,A;try{for(var x=!0,I=Kn(_),D;D=yield Ce(I.next()),S=D.done,!S;x=!0){A=D.value,x=!1;const N=A,P=WT(yield Ce(N.json()));P.sdkHttpResponse={headers:N.headers};const z=new Za;Object.assign(z,P),yield yield Ce(z)}}catch(N){T={error:N}}finally{try{!x&&!S&&(b=I.return)&&(yield Ce(b.call(I)))}finally{if(T)throw T.error}}})})}}async embedContent(e){var n,i,s,a;let u,f="",p={};if(this.apiClient.isVertexAI()){const h=A2(this.apiClient,e);return f=ae("{model}:predict",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),u.then(v=>{const _=x2(v),S=new IT;return Object.assign(S,_),S})}else{const h=C2(this.apiClient,e);return f=ae("{model}:batchEmbedContents",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),u.then(v=>{const _=w2(v),S=new IT;return Object.assign(S,_),S})}}async generateImagesInternal(e){var n,i,s,a;let u,f="",p={};if(this.apiClient.isVertexAI()){const h=B2(this.apiClient,e);return f=ae("{model}:predict",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),u.then(v=>{const _=G2(v),S=new DT;return Object.assign(S,_),S})}else{const h=k2(this.apiClient,e);return f=ae("{model}:predict",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),u.then(v=>{const _=H2(v),S=new DT;return Object.assign(S,_),S})}}async editImageInternal(e){var n,i;let s,a="",u={};if(this.apiClient.isVertexAI()){const f=S2(this.apiClient,e);return a=ae("{model}:predict",f._url),u=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:p.headers},v})),s.then(p=>{const h=E2(p),v=new ML;return Object.assign(v,h),v})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,i;let s,a="",u={};if(this.apiClient.isVertexAI()){const f=BH(this.apiClient,e);return a=ae("{model}:predict",f._url),u=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:p.headers},v})),s.then(p=>{const h=HH(p),v=new NL;return Object.assign(v,h),v})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var n,i;let s,a="",u={};if(this.apiClient.isVertexAI()){const f=_H(this.apiClient,e);return a=ae("{model}:predict",f._url),u=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),s.then(p=>{const h=SH(p),v=new IL;return Object.assign(v,h),v})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var n,i;let s,a="",u={};if(this.apiClient.isVertexAI()){const f=wH(this.apiClient,e);return a=ae("{model}:predict",f._url),u=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),s.then(p=>{const h=xH(p),v=new DL;return Object.assign(v,h),v})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,i,s,a;let u,f="",p={};if(this.apiClient.isVertexAI()){const h=iH(this.apiClient,e);return f=ae("{name}",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json()),u.then(v=>Bm(v))}else{const h=nH(this.apiClient,e);return f=ae("{name}",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),u.then(v=>km(v))}}async listInternal(e){var n,i,s,a;let u,f="",p={};if(this.apiClient.isVertexAI()){const h=dH(this.apiClient,e);return f=ae("{models_url}",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),u.then(v=>{const _=pH(v),S=new OT;return Object.assign(S,_),S})}else{const h=fH(this.apiClient,e);return f=ae("{models_url}",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),u.then(v=>{const _=hH(v),S=new OT;return Object.assign(S,_),S})}}async update(e){var n,i,s,a;let u,f="",p={};if(this.apiClient.isVertexAI()){const h=LH(this.apiClient,e);return f=ae("{model}",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json()),u.then(v=>Bm(v))}else{const h=PH(this.apiClient,e);return f=ae("{name}",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),u.then(v=>km(v))}}async delete(e){var n,i,s,a;let u,f="",p={};if(this.apiClient.isVertexAI()){const h=g2(this.apiClient,e);return f=ae("{name}",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),u.then(v=>{const _=y2(v),S=new UT;return Object.assign(S,_),S})}else{const h=m2(this.apiClient,e);return f=ae("{name}",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),u.then(v=>{const _=v2(v),S=new UT;return Object.assign(S,_),S})}}async countTokens(e){var n,i,s,a;let u,f="",p={};if(this.apiClient.isVertexAI()){const h=d2(this.apiClient,e);return f=ae("{model}:countTokens",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),u.then(v=>{const _=p2(v),S=new PT;return Object.assign(S,_),S})}else{const h=f2(this.apiClient,e);return f=ae("{model}:countTokens",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),u.then(v=>{const _=h2(v),S=new PT;return Object.assign(S,_),S})}}async computeTokens(e){var n,i;let s,a="",u={};if(this.apiClient.isVertexAI()){const f=o2(this.apiClient,e);return a=ae("{model}:computeTokens",f._url),u=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:p.headers},v})),s.then(p=>{const h=r2(p),v=new OL;return Object.assign(v,h),v})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var n,i,s,a;let u,f="",p={};if(this.apiClient.isVertexAI()){const h=J2(this.apiClient,e);return f=ae("{model}:predictLongRunning",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json()),u.then(v=>{const _=z2(v),S=new mf;return Object.assign(S,_),S})}else{const h=F2(this.apiClient,e);return f=ae("{model}:predictLongRunning",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),u.then(v=>{const _=q2(v),S=new mf;return Object.assign(S,_),S})}}};class DG extends Xi{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const n=e.operation,i=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const s=n.name.split("/operations/")[0];let a;i&&"httpOptions"in i&&(a=i.httpOptions);const u=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:s,config:{httpOptions:a}});return n._fromAPIResponse({apiResponse:u,_isVertexAI:!0})}else{const s=await this.getVideosOperationInternal({operationName:n.name,config:i});return n._fromAPIResponse({apiResponse:s,_isVertexAI:!1})}}async get(e){const n=e.operation,i=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const s=n.name.split("/operations/")[0];let a;i&&"httpOptions"in i&&(a=i.httpOptions);const u=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:s,config:{httpOptions:a}});return n._fromAPIResponse({apiResponse:u,_isVertexAI:!0})}else{const s=await this.getVideosOperationInternal({operationName:n.name,config:i});return n._fromAPIResponse({apiResponse:s,_isVertexAI:!1})}}async getVideosOperationInternal(e){var n,i,s,a;let u,f="",p={};if(this.apiClient.isVertexAI()){const h=bL(e);return f=ae("{operationName}",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json()),u}else{const h=TL(e);return f=ae("{operationName}",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),u}}async fetchPredictVideosOperationInternal(e){var n,i;let s,a="",u={};if(this.apiClient.isVertexAI()){const f=mL(e);return a=ae("{resourceName}:fetchPredictOperation",f._url),u=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),s}else throw new Error("This method is only supported by the Vertex AI.")}}function OG(t){const e={},n=d(t,["data"]);if(n!=null&&m(e,["data"],n),d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=d(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}function UG(t){const e={},n=d(t,["parts"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(a=>qG(a))),m(e,["parts"],s)}const i=d(t,["role"]);return i!=null&&m(e,["role"],i),e}function PG(t,e,n){const i={},s=d(e,["expireTime"]);n!==void 0&&s!=null&&m(n,["expireTime"],s);const a=d(e,["newSessionExpireTime"]);n!==void 0&&a!=null&&m(n,["newSessionExpireTime"],a);const u=d(e,["uses"]);n!==void 0&&u!=null&&m(n,["uses"],u);const f=d(e,["liveConnectConstraints"]);n!==void 0&&f!=null&&m(n,["bidiGenerateContentSetup"],$G(t,f));const p=d(e,["lockAdditionalFields"]);return n!==void 0&&p!=null&&m(n,["fieldMask"],p),i}function LG(t,e){const n={},i=d(e,["config"]);return i!=null&&m(n,["config"],PG(t,i,n)),n}function kG(t){const e={};if(d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=d(t,["fileUri"]);n!=null&&m(e,["fileUri"],n);const i=d(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}function BG(t){const e={},n=d(t,["id"]);n!=null&&m(e,["id"],n);const i=d(t,["args"]);i!=null&&m(e,["args"],i);const s=d(t,["name"]);if(s!=null&&m(e,["name"],s),d(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(d(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function HG(t){const e={};if(d(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=d(t,["enableWidget"]);return n!=null&&m(e,["enableWidget"],n),e}function GG(t){const e={};if(d(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(d(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=d(t,["timeRangeFilter"]);return n!=null&&m(e,["timeRangeFilter"],n),e}function VG(t,e){const n={},i=d(t,["generationConfig"]);e!==void 0&&i!=null&&m(e,["setup","generationConfig"],i);const s=d(t,["responseModalities"]);e!==void 0&&s!=null&&m(e,["setup","generationConfig","responseModalities"],s);const a=d(t,["temperature"]);e!==void 0&&a!=null&&m(e,["setup","generationConfig","temperature"],a);const u=d(t,["topP"]);e!==void 0&&u!=null&&m(e,["setup","generationConfig","topP"],u);const f=d(t,["topK"]);e!==void 0&&f!=null&&m(e,["setup","generationConfig","topK"],f);const p=d(t,["maxOutputTokens"]);e!==void 0&&p!=null&&m(e,["setup","generationConfig","maxOutputTokens"],p);const h=d(t,["mediaResolution"]);e!==void 0&&h!=null&&m(e,["setup","generationConfig","mediaResolution"],h);const v=d(t,["seed"]);e!==void 0&&v!=null&&m(e,["setup","generationConfig","seed"],v);const _=d(t,["speechConfig"]);e!==void 0&&_!=null&&m(e,["setup","generationConfig","speechConfig"],Xg(_));const S=d(t,["thinkingConfig"]);e!==void 0&&S!=null&&m(e,["setup","generationConfig","thinkingConfig"],S);const T=d(t,["enableAffectiveDialog"]);e!==void 0&&T!=null&&m(e,["setup","generationConfig","enableAffectiveDialog"],T);const b=d(t,["systemInstruction"]);e!==void 0&&b!=null&&m(e,["setup","systemInstruction"],UG(Ut(b)));const A=d(t,["tools"]);if(e!==void 0&&A!=null){let G=Ks(A);Array.isArray(G)&&(G=G.map(B=>FG(Ys(B)))),m(e,["setup","tools"],G)}const x=d(t,["sessionResumption"]);e!==void 0&&x!=null&&m(e,["setup","sessionResumption"],zG(x));const I=d(t,["inputAudioTranscription"]);e!==void 0&&I!=null&&m(e,["setup","inputAudioTranscription"],I);const D=d(t,["outputAudioTranscription"]);e!==void 0&&D!=null&&m(e,["setup","outputAudioTranscription"],D);const N=d(t,["realtimeInputConfig"]);e!==void 0&&N!=null&&m(e,["setup","realtimeInputConfig"],N);const P=d(t,["contextWindowCompression"]);e!==void 0&&P!=null&&m(e,["setup","contextWindowCompression"],P);const z=d(t,["proactivity"]);if(e!==void 0&&z!=null&&m(e,["setup","proactivity"],z),d(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function $G(t,e){const n={},i=d(e,["model"]);i!=null&&m(n,["setup","model"],Ve(t,i));const s=d(e,["config"]);return s!=null&&m(n,["config"],VG(s,n)),n}function qG(t){const e={},n=d(t,["mediaResolution"]);n!=null&&m(e,["mediaResolution"],n);const i=d(t,["codeExecutionResult"]);i!=null&&m(e,["codeExecutionResult"],i);const s=d(t,["executableCode"]);s!=null&&m(e,["executableCode"],s);const a=d(t,["fileData"]);a!=null&&m(e,["fileData"],kG(a));const u=d(t,["functionCall"]);u!=null&&m(e,["functionCall"],BG(u));const f=d(t,["functionResponse"]);f!=null&&m(e,["functionResponse"],f);const p=d(t,["inlineData"]);p!=null&&m(e,["inlineData"],OG(p));const h=d(t,["text"]);h!=null&&m(e,["text"],h);const v=d(t,["thought"]);v!=null&&m(e,["thought"],v);const _=d(t,["thoughtSignature"]);_!=null&&m(e,["thoughtSignature"],_);const S=d(t,["videoMetadata"]);return S!=null&&m(e,["videoMetadata"],S),e}function zG(t){const e={},n=d(t,["handle"]);if(n!=null&&m(e,["handle"],n),d(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function FG(t){const e={},n=d(t,["functionDeclarations"]);if(n!=null){let v=n;Array.isArray(v)&&(v=v.map(_=>_)),m(e,["functionDeclarations"],v)}if(d(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=d(t,["googleSearchRetrieval"]);i!=null&&m(e,["googleSearchRetrieval"],i);const s=d(t,["computerUse"]);s!=null&&m(e,["computerUse"],s);const a=d(t,["fileSearch"]);a!=null&&m(e,["fileSearch"],a);const u=d(t,["codeExecution"]);if(u!=null&&m(e,["codeExecution"],u),d(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const f=d(t,["googleMaps"]);f!=null&&m(e,["googleMaps"],HG(f));const p=d(t,["googleSearch"]);p!=null&&m(e,["googleSearch"],GG(p));const h=d(t,["urlContext"]);return h!=null&&m(e,["urlContext"],h),e}function JG(t){const e=[];for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const i=t[n];if(typeof i=="object"&&i!=null&&Object.keys(i).length>0){const s=Object.keys(i).map(a=>`${n}.${a}`);e.push(...s)}else e.push(n)}return e.join(",")}function YG(t,e){let n=null;const i=t.bidiGenerateContentSetup;if(typeof i=="object"&&i!==null&&"setup"in i){const a=i.setup;typeof a=="object"&&a!==null?(t.bidiGenerateContentSetup=a,n=a):delete t.bidiGenerateContentSetup}else i!==void 0&&delete t.bidiGenerateContentSetup;const s=t.fieldMask;if(n){const a=JG(n);if(Array.isArray(e?.lockAdditionalFields)&&e?.lockAdditionalFields.length===0)a?t.fieldMask=a:delete t.fieldMask;else if(e?.lockAdditionalFields&&e.lockAdditionalFields.length>0&&s!==null&&Array.isArray(s)&&s.length>0){const u=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let f=[];s.length>0&&(f=s.map(h=>u.includes(h)?`generationConfig.${h}`:h));const p=[];a&&p.push(a),f.length>0&&p.push(...f),p.length>0?t.fieldMask=p.join(","):delete t.fieldMask}else delete t.fieldMask}else s!==null&&Array.isArray(s)&&s.length>0?t.fieldMask=s.join(","):delete t.fieldMask;return t}class KG extends Xi{constructor(e){super(),this.apiClient=e}async create(e){var n,i;let s,a="",u={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const f=LG(this.apiClient,e);a=ae("auth_tokens",f._url),u=f._query,delete f.config,delete f._url,delete f._query;const p=YG(f,e.config);return s=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),s.then(h=>h)}}}function XG(t,e){const n={},i=d(t,["force"]);return e!==void 0&&i!=null&&m(e,["_query","force"],i),n}function WG(t){const e={},n=d(t,["name"]);n!=null&&m(e,["_url","name"],n);const i=d(t,["config"]);return i!=null&&XG(i,e),e}function QG(t){const e={},n=d(t,["name"]);return n!=null&&m(e,["_url","name"],n),e}function ZG(t,e){const n={},i=d(t,["pageSize"]);e!==void 0&&i!=null&&m(e,["_query","pageSize"],i);const s=d(t,["pageToken"]);return e!==void 0&&s!=null&&m(e,["_query","pageToken"],s),n}function jG(t){const e={},n=d(t,["parent"]);n!=null&&m(e,["_url","parent"],n);const i=d(t,["config"]);return i!=null&&ZG(i,e),e}function eV(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const i=d(t,["nextPageToken"]);i!=null&&m(e,["nextPageToken"],i);const s=d(t,["documents"]);if(s!=null){let a=s;Array.isArray(a)&&(a=a.map(u=>u)),m(e,["documents"],a)}return e}class tV extends Xi{constructor(e){super(),this.apiClient=e,this.list=async n=>new Mr(Yi.PAGED_ITEM_DOCUMENTS,i=>this.listInternal({parent:n.parent,config:i.config}),await this.listInternal(n),n)}async get(e){var n,i;let s,a="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=QG(e);return a=ae("{name}",f._url),u=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),s.then(p=>p)}}async delete(e){var n,i;let s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=WG(e);s=ae("{name}",u._url),a=u._query,delete u._url,delete u._query,await this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal})}}async listInternal(e){var n,i;let s,a="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=jG(e);return a=ae("{parent}/documents",f._url),u=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),s.then(p=>{const h=eV(p),v=new UL;return Object.assign(v,h),v})}}}class nV extends Xi{constructor(e,n=new tV(e)){super(),this.apiClient=e,this.documents=n,this.list=async(i={})=>new Mr(Yi.PAGED_ITEM_FILE_SEARCH_STORES,s=>this.listInternal(s),await this.listInternal(i),i)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var n,i;let s,a="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=JH(e);return a=ae("fileSearchStores",f._url),u=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),s.then(p=>p)}}async get(e){var n,i;let s,a="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=XH(e);return a=ae("{name}",f._url),u=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),s.then(p=>p)}}async delete(e){var n,i;let s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=KH(e);s=ae("{name}",u._url),a=u._query,delete u._url,delete u._query,await this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal})}}async listInternal(e){var n,i;let s,a="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=tG(e);return a=ae("fileSearchStores",f._url),u=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),s.then(p=>{const h=nG(p),v=new PL;return Object.assign(v,h),v})}}async uploadToFileSearchStoreInternal(e){var n,i;let s,a="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=iG(e);return a=ae("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",f._url),u=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),s.then(p=>{const h=oG(p),v=new LL;return Object.assign(v,h),v})}}async importFile(e){var n,i;let s,a="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=ZH(e);return a=ae("{file_search_store_name}:importFile",f._url),u=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),s.then(p=>{const h=QH(p),v=new zg;return Object.assign(v,h),v})}}}let Jw=function(){const{crypto:t}=globalThis;if(t?.randomUUID)return Jw=t.randomUUID.bind(t),t.randomUUID();const e=new Uint8Array(1),n=t?()=>t.getRandomValues(e)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,i=>(+i^n()&15>>+i/4).toString(16))};const iV=()=>Jw();function Gm(t){return typeof t=="object"&&t!==null&&("name"in t&&t.name==="AbortError"||"message"in t&&String(t.message).includes("FetchRequestCanceledException"))}const Vm=t=>{if(t instanceof Error)return t;if(typeof t=="object"&&t!==null){try{if(Object.prototype.toString.call(t)==="[object Error]"){const e=new Error(t.message,t.cause?{cause:t.cause}:{});return t.stack&&(e.stack=t.stack),t.cause&&!e.cause&&(e.cause=t.cause),t.name&&(e.name=t.name),e}}catch{}try{return new Error(JSON.stringify(t))}catch{}}return new Error(t)};class Un extends Error{}let Pn=class $m extends Un{constructor(e,n,i,s){super(`${$m.makeMessage(e,n,i)}`),this.status=e,this.headers=s,this.error=n}static makeMessage(e,n,i){const s=n?.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):i;return e&&s?`${e} ${s}`:e?`${e} status code (no body)`:s||"(no status code or body)"}static generate(e,n,i,s){if(!e||!s)return new Kf({message:i,cause:Vm(n)});const a=n;return e===400?new Kw(e,a,i,s):e===401?new Xw(e,a,i,s):e===403?new Ww(e,a,i,s):e===404?new Qw(e,a,i,s):e===409?new Zw(e,a,i,s):e===422?new jw(e,a,i,s):e===429?new ex(e,a,i,s):e>=500?new tx(e,a,i,s):new $m(e,a,i,s)}},qm=class extends Pn{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}},Kf=class extends Pn{constructor({message:e,cause:n}){super(void 0,void 0,e||"Connection error.",void 0),n&&(this.cause=n)}},Yw=class extends Kf{constructor({message:e}={}){super({message:e??"Request timed out."})}},Kw=class extends Pn{},Xw=class extends Pn{},Ww=class extends Pn{},Qw=class extends Pn{},Zw=class extends Pn{},jw=class extends Pn{},ex=class extends Pn{},tx=class extends Pn{};const oV=/^[a-z][a-z0-9+.-]*:/i,rV=t=>oV.test(t);let zm=t=>(zm=Array.isArray,zm(t));const sV=zm;let aV=sV;const ib=aV;function lV(t){if(!t)return!0;for(const e in t)return!1;return!0}function uV(t,e){return Object.prototype.hasOwnProperty.call(t,e)}const cV=(t,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new Un(`${t} must be an integer`);if(e<0)throw new Un(`${t} must be a positive integer`);return e},fV=t=>{try{return JSON.parse(t)}catch{return}};const dV=t=>new Promise(e=>setTimeout(e,t));const Ts="0.0.1";function hV(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const pV=()=>{var t,e,n,i,s;const a=hV();if(a==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ts,"X-Stainless-OS":rb(Deno.build.os),"X-Stainless-Arch":ob(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(e=(t=Deno.version)===null||t===void 0?void 0:t.deno)!==null&&e!==void 0?e:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ts,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(a==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ts,"X-Stainless-OS":rb((n=globalThis.process.platform)!==null&&n!==void 0?n:"unknown"),"X-Stainless-Arch":ob((i=globalThis.process.arch)!==null&&i!==void 0?i:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(s=globalThis.process.version)!==null&&s!==void 0?s:"unknown"};const u=mV();return u?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ts,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${u.browser}`,"X-Stainless-Runtime-Version":u.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ts,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function mV(){if(typeof navigator>"u"||!navigator)return null;const t=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:n}of t){const i=n.exec(navigator.userAgent);if(i){const s=i[1]||0,a=i[2]||0,u=i[3]||0;return{browser:e,version:`${s}.${a}.${u}`}}}return null}const ob=t=>t==="x32"?"x32":t==="x86_64"||t==="x64"?"x64":t==="arm"?"arm":t==="aarch64"||t==="arm64"?"arm64":t?`other:${t}`:"unknown",rb=t=>(t=t.toLowerCase(),t.includes("ios")?"iOS":t==="android"?"Android":t==="darwin"?"MacOS":t==="win32"?"Windows":t==="freebsd"?"FreeBSD":t==="openbsd"?"OpenBSD":t==="linux"?"Linux":t?`Other:${t}`:"Unknown");let Ac;const gV=()=>Ac??(Ac=pV());function vV(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function nx(...t){const e=globalThis.ReadableStream;if(typeof e>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new e(...t)}function yV(t){let e=Symbol.asyncIterator in t?t[Symbol.asyncIterator]():t[Symbol.iterator]();return nx({start(){},async pull(n){const{done:i,value:s}=await e.next();i?n.close():n.enqueue(s)},async cancel(){var n;await((n=e.return)===null||n===void 0?void 0:n.call(e))}})}function ix(t){if(t[Symbol.asyncIterator])return t;const e=t.getReader();return{async next(){try{const n=await e.read();return n?.done&&e.releaseLock(),n}catch(n){throw e.releaseLock(),n}},async return(){const n=e.cancel();return e.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function _V(t){var e,n;if(t===null||typeof t!="object")return;if(t[Symbol.asyncIterator]){await((n=(e=t[Symbol.asyncIterator]()).return)===null||n===void 0?void 0:n.call(e));return}const i=t.getReader(),s=i.cancel();i.releaseLock(),await s}const SV=({headers:t,body:e})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(e)});const ox=()=>{var t;if(typeof File>"u"){const{process:e}=globalThis,n=typeof((t=e?.versions)===null||t===void 0?void 0:t.node)=="string"&&parseInt(e.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(n?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function Xp(t,e,n){return ox(),new File(t,e??"unknown_file",n)}function EV(t){return(typeof t=="object"&&t!==null&&("name"in t&&t.name&&String(t.name)||"url"in t&&t.url&&String(t.url)||"filename"in t&&t.filename&&String(t.filename)||"path"in t&&t.path&&String(t.path))||"").split(/[\\/]/).pop()||void 0}const TV=t=>t!=null&&typeof t=="object"&&typeof t[Symbol.asyncIterator]=="function";const rx=t=>t!=null&&typeof t=="object"&&typeof t.size=="number"&&typeof t.type=="string"&&typeof t.text=="function"&&typeof t.slice=="function"&&typeof t.arrayBuffer=="function",bV=t=>t!=null&&typeof t=="object"&&typeof t.name=="string"&&typeof t.lastModified=="number"&&rx(t),CV=t=>t!=null&&typeof t=="object"&&typeof t.url=="string"&&typeof t.blob=="function";async function AV(t,e,n){if(ox(),t=await t,bV(t))return t instanceof File?t:Xp([await t.arrayBuffer()],t.name);if(CV(t)){const s=await t.blob();return e||(e=new URL(t.url).pathname.split(/[\\/]/).pop()),Xp(await Fm(s),e,n)}const i=await Fm(t);if(e||(e=EV(t)),!n?.type){const s=i.find(a=>typeof a=="object"&&"type"in a&&a.type);typeof s=="string"&&(n=Object.assign(Object.assign({},n),{type:s}))}return Xp(i,e,n)}async function Fm(t){var e,n,i,s,a;let u=[];if(typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer)u.push(t);else if(rx(t))u.push(t instanceof Blob?t:await t.arrayBuffer());else if(TV(t))try{for(var f=!0,p=Kn(t),h;h=await p.next(),e=h.done,!e;f=!0){s=h.value,f=!1;const v=s;u.push(...await Fm(v))}}catch(v){n={error:v}}finally{try{!f&&!e&&(i=p.return)&&await i.call(p)}finally{if(n)throw n.error}}else{const v=(a=t?.constructor)===null||a===void 0?void 0:a.name;throw new Error(`Unexpected data type: ${typeof t}${v?`; constructor: ${v}`:""}${wV(t)}`)}return u}function wV(t){return typeof t!="object"||t===null?"":`; props: [${Object.getOwnPropertyNames(t).map(n=>`"${n}"`).join(", ")}]`}let sx=class{constructor(e){this._client=e}};sx._key=[];function ax(t){return t.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const sb=Object.freeze(Object.create(null)),xV=(t=ax)=>(function(n,...i){if(n.length===1)return n[0];let s=!1;const a=[],u=n.reduce((v,_,S)=>{var T,b,A;/[?#]/.test(_)&&(s=!0);const x=i[S];let I=(s?encodeURIComponent:t)(""+x);return S!==i.length&&(x==null||typeof x=="object"&&x.toString===((A=Object.getPrototypeOf((b=Object.getPrototypeOf((T=x.hasOwnProperty)!==null&&T!==void 0?T:sb))!==null&&b!==void 0?b:sb))===null||A===void 0?void 0:A.toString))&&(I=x+"",a.push({start:v.length+_.length,length:I.length,error:`Value of type ${Object.prototype.toString.call(x).slice(8,-1)} is not a valid path parameter`})),v+_+(S===i.length?"":I)},""),f=u.split(/[?#]/,1)[0],p=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let h;for(;(h=p.exec(f))!==null;)a.push({start:h.index,length:h[0].length,error:`Value "${h[0]}" can't be safely passed as a path parameter`});if(a.sort((v,_)=>v.start-_.start),a.length>0){let v=0;const _=a.reduce((S,T)=>{const b=" ".repeat(T.start-v),A="^".repeat(T.length);return v=T.start+T.length,S+b+A},"");throw new Un(`Path parameters result in path with invalid segments:
${a.map(S=>S.error).join(`
`)}
${u}
${_}`)}return u}),wc=xV(ax);class lx extends sx{create(e,n){var i;const{api_version:s=this._client.apiVersion}=e,a=vf(e,["api_version"]);if("model"in a&&"agent_config"in a)throw new Un("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in a&&"generation_config"in a)throw new Un("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(wc`/${s}/interactions`,Object.assign(Object.assign({body:a},n),{stream:(i=e.stream)!==null&&i!==void 0?i:!1}))}delete(e,n={},i){const{api_version:s=this._client.apiVersion}=n??{};return this._client.delete(wc`/${s}/interactions/${e}`,i)}cancel(e,n={},i){const{api_version:s=this._client.apiVersion}=n??{};return this._client.post(wc`/${s}/interactions/${e}/cancel`,i)}get(e,n={},i){var s;const a=n??{},{api_version:u=this._client.apiVersion}=a,f=vf(a,["api_version"]);return this._client.get(wc`/${u}/interactions/${e}`,Object.assign(Object.assign({query:f},i),{stream:(s=n?.stream)!==null&&s!==void 0?s:!1}))}}lx._key=Object.freeze(["interactions"]);class ux extends lx{}function RV(t){let e=0;for(const s of t)e+=s.length;const n=new Uint8Array(e);let i=0;for(const s of t)n.set(s,i),i+=s.length;return n}let xc;function Qg(t){let e;return(xc??(e=new globalThis.TextEncoder,xc=e.encode.bind(e)))(t)}let Rc;function ab(t){let e;return(Rc??(e=new globalThis.TextDecoder,Rc=e.decode.bind(e)))(t)}let Xf=class{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(e){if(e==null)return[];const n=e instanceof ArrayBuffer?new Uint8Array(e):typeof e=="string"?Qg(e):e;this.buffer=RV([this.buffer,n]);const i=[];let s;for(;(s=MV(this.buffer,this.carriageReturnIndex))!=null;){if(s.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=s.index;continue}if(this.carriageReturnIndex!=null&&(s.index!==this.carriageReturnIndex+1||s.carriage)){i.push(ab(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const a=this.carriageReturnIndex!==null?s.preceding-1:s.preceding,u=ab(this.buffer.subarray(0,a));i.push(u),this.buffer=this.buffer.subarray(s.index),this.carriageReturnIndex=null}return i}flush(){return this.buffer.length?this.decode(`
`):[]}};Xf.NEWLINE_CHARS=new Set([`
`,"\r"]);Xf.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function MV(t,e){for(let s=e??0;s<t.length;s++){if(t[s]===10)return{preceding:s,index:s+1,carriage:!1};if(t[s]===13)return{preceding:s,index:s+1,carriage:!0}}return null}function NV(t){for(let i=0;i<t.length-1;i++){if(t[i]===10&&t[i+1]===10||t[i]===13&&t[i+1]===13)return i+2;if(t[i]===13&&t[i+1]===10&&i+3<t.length&&t[i+2]===13&&t[i+3]===10)return i+4}return-1}const yf={off:0,error:200,warn:300,info:400,debug:500},lb=(t,e,n)=>{if(t){if(uV(yf,t))return t;kt(n).warn(`${e} was set to ${JSON.stringify(t)}, expected one of ${JSON.stringify(Object.keys(yf))}`)}};function tl(){}function Mc(t,e,n){return!e||yf[t]>yf[n]?tl:e[t].bind(e)}const IV={error:tl,warn:tl,info:tl,debug:tl};let ub=new WeakMap;function kt(t){var e;const n=t.logger,i=(e=t.logLevel)!==null&&e!==void 0?e:"off";if(!n)return IV;const s=ub.get(n);if(s&&s[0]===i)return s[1];const a={error:Mc("error",n,i),warn:Mc("warn",n,i),info:Mc("info",n,i),debug:Mc("debug",n,i)};return ub.set(n,[i,a]),a}const lr=t=>(t.options&&(t.options=Object.assign({},t.options),delete t.options.headers),t.headers&&(t.headers=Object.fromEntries((t.headers instanceof Headers?[...t.headers]:Object.entries(t.headers)).map(([e,n])=>[e,e.toLowerCase()==="x-goog-api-key"||e.toLowerCase()==="authorization"||e.toLowerCase()==="cookie"||e.toLowerCase()==="set-cookie"?"***":n]))),"retryOfRequestLogID"in t&&(t.retryOfRequestLogID&&(t.retryOf=t.retryOfRequestLogID),delete t.retryOfRequestLogID),t);let DV=class nl{constructor(e,n,i){this.iterator=e,this.controller=n,this.client=i}static fromSSEResponse(e,n,i){let s=!1;const a=i?kt(i):console;function u(){return Yn(this,arguments,function*(){var p,h,v,_;if(s)throw new Un("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");s=!0;let S=!1;try{try{for(var T=!0,b=Kn(OV(e,n)),A;A=yield Ce(b.next()),p=A.done,!p;T=!0){_=A.value,T=!1;const x=_;if(!S)if(x.data.startsWith("[DONE]")){S=!0;continue}else try{yield yield Ce(JSON.parse(x.data))}catch(I){throw a.error("Could not parse message into JSON:",x.data),a.error("From chunk:",x.raw),I}}}catch(x){h={error:x}}finally{try{!T&&!p&&(v=b.return)&&(yield Ce(v.call(b)))}finally{if(h)throw h.error}}S=!0}catch(x){if(Gm(x))return yield Ce(void 0);throw x}finally{S||n.abort()}})}return new nl(u,n,i)}static fromReadableStream(e,n,i){let s=!1;function a(){return Yn(this,arguments,function*(){var p,h,v,_;const S=new Xf,T=ix(e);try{for(var b=!0,A=Kn(T),x;x=yield Ce(A.next()),p=x.done,!p;b=!0){_=x.value,b=!1;const I=_;for(const D of S.decode(I))yield yield Ce(D)}}catch(I){h={error:I}}finally{try{!b&&!p&&(v=A.return)&&(yield Ce(v.call(A)))}finally{if(h)throw h.error}}for(const I of S.flush())yield yield Ce(I)})}function u(){return Yn(this,arguments,function*(){var p,h,v,_;if(s)throw new Un("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");s=!0;let S=!1;try{try{for(var T=!0,b=Kn(a()),A;A=yield Ce(b.next()),p=A.done,!p;T=!0){_=A.value,T=!1;const x=_;S||x&&(yield yield Ce(JSON.parse(x)))}}catch(x){h={error:x}}finally{try{!T&&!p&&(v=b.return)&&(yield Ce(v.call(b)))}finally{if(h)throw h.error}}S=!0}catch(x){if(Gm(x))return yield Ce(void 0);throw x}finally{S||n.abort()}})}return new nl(u,n,i)}[Symbol.asyncIterator](){return this.iterator()}tee(){const e=[],n=[],i=this.iterator(),s=a=>({next:()=>{if(a.length===0){const u=i.next();e.push(u),n.push(u)}return a.shift()}});return[new nl(()=>s(e),this.controller,this.client),new nl(()=>s(n),this.controller,this.client)]}toReadableStream(){const e=this;let n;return nx({async start(){n=e[Symbol.asyncIterator]()},async pull(i){try{const{value:s,done:a}=await n.next();if(a)return i.close();const u=Qg(JSON.stringify(s)+`
`);i.enqueue(u)}catch(s){i.error(s)}},async cancel(){var i;await((i=n.return)===null||i===void 0?void 0:i.call(n))}})}};function OV(t,e){return Yn(this,arguments,function*(){var i,s,a,u;if(!t.body)throw e.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new Un("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new Un("Attempted to iterate over a response with no body");const f=new PV,p=new Xf,h=ix(t.body);try{for(var v=!0,_=Kn(UV(h)),S;S=yield Ce(_.next()),i=S.done,!i;v=!0){u=S.value,v=!1;const T=u;for(const b of p.decode(T)){const A=f.decode(b);A&&(yield yield Ce(A))}}}catch(T){s={error:T}}finally{try{!v&&!i&&(a=_.return)&&(yield Ce(a.call(_)))}finally{if(s)throw s.error}}for(const T of p.flush()){const b=f.decode(T);b&&(yield yield Ce(b))}})}function UV(t){return Yn(this,arguments,function*(){var n,i,s,a;let u=new Uint8Array;try{for(var f=!0,p=Kn(t),h;h=yield Ce(p.next()),n=h.done,!n;f=!0){a=h.value,f=!1;const v=a;if(v==null)continue;const _=v instanceof ArrayBuffer?new Uint8Array(v):typeof v=="string"?Qg(v):v;let S=new Uint8Array(u.length+_.length);S.set(u),S.set(_,u.length),u=S;let T;for(;(T=NV(u))!==-1;)yield yield Ce(u.slice(0,T)),u=u.slice(T)}}catch(v){i={error:v}}finally{try{!f&&!n&&(s=p.return)&&(yield Ce(s.call(p)))}finally{if(i)throw i.error}}u.length>0&&(yield yield Ce(u))})}let PV=class{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const a={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],a}if(this.chunks.push(e),e.startsWith(":"))return null;let[n,i,s]=LV(e,":");return s.startsWith(" ")&&(s=s.substring(1)),n==="event"?this.event=s:n==="data"&&this.data.push(s),null}};function LV(t,e){const n=t.indexOf(e);return n!==-1?[t.substring(0,n),e,t.substring(n+e.length)]:[t,"",""]}async function kV(t,e){const{response:n,requestLogID:i,retryOfRequestLogID:s,startTime:a}=e,u=await(async()=>{var f;if(e.options.stream)return kt(t).debug("response",n.status,n.url,n.headers,n.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(n,e.controller,t):DV.fromSSEResponse(n,e.controller,t);if(n.status===204)return null;if(e.options.__binaryResponse)return n;const p=n.headers.get("content-type"),h=(f=p?.split(";")[0])===null||f===void 0?void 0:f.trim();return h?.includes("application/json")||h?.endsWith("+json")?await n.json():await n.text()})();return kt(t).debug(`[${i}] response parsed`,lr({retryOfRequestLogID:s,url:n.url,status:n.status,body:u,durationMs:Date.now()-a})),u}let BV=class cx extends Promise{constructor(e,n,i=kV){super(s=>{s(null)}),this.responsePromise=n,this.parseResponse=i,this.client=e}_thenUnwrap(e){return new cx(this.client,this.responsePromise,async(n,i)=>e(await this.parseResponse(n,i),i))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:n}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(e=>this.parseResponse(this.client,e))),this.parsedPromise}then(e,n){return this.parse().then(e,n)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}};const fx=Symbol("brand.privateNullableHeaders");function*HV(t){if(!t)return;if(fx in t){const{values:i,nulls:s}=t;yield*i.entries();for(const a of s)yield[a,null];return}let e=!1,n;t instanceof Headers?n=t.entries():ib(t)?n=t:(e=!0,n=Object.entries(t??{}));for(let i of n){const s=i[0];if(typeof s!="string")throw new TypeError("expected header name to be a string");const a=ib(i[1])?i[1]:[i[1]];let u=!1;for(const f of a)f!==void 0&&(e&&!u&&(u=!0,yield[s,null]),yield[s,f])}}const Wp=t=>{const e=new Headers,n=new Set;for(const i of t){const s=new Set;for(const[a,u]of HV(i)){const f=a.toLowerCase();s.has(f)||(e.delete(a),s.add(f)),u===null?(e.delete(a),n.add(f)):(e.append(a,u),n.delete(f))}}return{[fx]:!0,values:e,nulls:n}};const Qp=t=>{var e,n,i,s,a,u;if(typeof globalThis.process<"u")return(i=(n=(e=uL)===null||e===void 0?void 0:e[t])===null||n===void 0?void 0:n.trim())!==null&&i!==void 0?i:void 0;if(typeof globalThis.Deno<"u")return(u=(a=(s=globalThis.Deno.env)===null||s===void 0?void 0:s.get)===null||a===void 0?void 0:a.call(s,t))===null||u===void 0?void 0:u.trim()};var dx;class Wf{constructor(e){var n,i,s,a,u,f,p,h=e===void 0?{}:e,{baseURL:v=Qp("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:_=(n=Qp("GEMINI_API_KEY"))!==null&&n!==void 0?n:null,apiVersion:S="v1beta"}=h,T=vf(h,["baseURL","apiKey","apiVersion"]);const b=Object.assign(Object.assign({apiKey:_,apiVersion:S},T),{baseURL:v||"https://generativelanguage.googleapis.com"});this.baseURL=b.baseURL,this.timeout=(i=b.timeout)!==null&&i!==void 0?i:Wf.DEFAULT_TIMEOUT,this.logger=(s=b.logger)!==null&&s!==void 0?s:console;const A="warn";this.logLevel=A,this.logLevel=(u=(a=lb(b.logLevel,"ClientOptions.logLevel",this))!==null&&a!==void 0?a:lb(Qp("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&u!==void 0?u:A,this.fetchOptions=b.fetchOptions,this.maxRetries=(f=b.maxRetries)!==null&&f!==void 0?f:2,this.fetch=(p=b.fetch)!==null&&p!==void 0?p:vV(),this.encoder=SV,this._options=b,this.apiKey=_,this.apiVersion=S}withOptions(e){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),e))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:e,nulls:n}){if(!(this.apiKey&&e.get("x-goog-api-key"))&&!n.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(e){if(this.apiKey!=null)return Wp([{"x-goog-api-key":this.apiKey}])}stringifyQuery(e){return Object.entries(e).filter(([n,i])=>typeof i<"u").map(([n,i])=>{if(typeof i=="string"||typeof i=="number"||typeof i=="boolean")return`${encodeURIComponent(n)}=${encodeURIComponent(i)}`;if(i===null)return`${encodeURIComponent(n)}=`;throw new Un(`Cannot stringify type ${typeof i}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${Ts}`}defaultIdempotencyKey(){return`stainless-node-retry-${iV()}`}makeStatusError(e,n,i,s){return Pn.generate(e,n,i,s)}buildURL(e,n,i){const s=!this.baseURLOverridden()&&i||this.baseURL,a=rV(e)?new URL(e):new URL(s+(s.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),u=this.defaultQuery();return lV(u)||(n=Object.assign(Object.assign({},u),n)),typeof n=="object"&&n&&!Array.isArray(n)&&(a.search=this.stringifyQuery(n)),a.toString()}async prepareOptions(e){}async prepareRequest(e,{url:n,options:i}){}get(e,n){return this.methodRequest("get",e,n)}post(e,n){return this.methodRequest("post",e,n)}patch(e,n){return this.methodRequest("patch",e,n)}put(e,n){return this.methodRequest("put",e,n)}delete(e,n){return this.methodRequest("delete",e,n)}methodRequest(e,n,i){return this.request(Promise.resolve(i).then(s=>Object.assign({method:e,path:n},s)))}request(e,n=null){return new BV(this,this.makeRequest(e,n,void 0))}async makeRequest(e,n,i){var s,a,u;const f=await e,p=(s=f.maxRetries)!==null&&s!==void 0?s:this.maxRetries;n==null&&(n=p),await this.prepareOptions(f);const{req:h,url:v,timeout:_}=await this.buildRequest(f,{retryCount:p-n});await this.prepareRequest(h,{url:v,options:f});const S="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),T=i===void 0?"":`, retryOf: ${i}`,b=Date.now();if(kt(this).debug(`[${S}] sending request`,lr({retryOfRequestLogID:i,method:f.method,url:v,options:f,headers:h.headers})),!((a=f.signal)===null||a===void 0)&&a.aborted)throw new qm;const A=new AbortController,x=await this.fetchWithTimeout(v,h,_,A).catch(Vm),I=Date.now();if(x instanceof globalThis.Error){const N=`retrying, ${n} attempts remaining`;if(!((u=f.signal)===null||u===void 0)&&u.aborted)throw new qm;const P=Gm(x)||/timed? ?out/i.test(String(x)+("cause"in x?String(x.cause):""));if(n)return kt(this).info(`[${S}] connection ${P?"timed out":"failed"} - ${N}`),kt(this).debug(`[${S}] connection ${P?"timed out":"failed"} (${N})`,lr({retryOfRequestLogID:i,url:v,durationMs:I-b,message:x.message})),this.retryRequest(f,n,i??S);throw kt(this).info(`[${S}] connection ${P?"timed out":"failed"} - error; no more retries left`),kt(this).debug(`[${S}] connection ${P?"timed out":"failed"} (error; no more retries left)`,lr({retryOfRequestLogID:i,url:v,durationMs:I-b,message:x.message})),P?new Yw:new Kf({cause:x})}const D=`[${S}${T}] ${h.method} ${v} ${x.ok?"succeeded":"failed"} with status ${x.status} in ${I-b}ms`;if(!x.ok){const N=await this.shouldRetry(x);if(n&&N){const X=`retrying, ${n} attempts remaining`;return await _V(x.body),kt(this).info(`${D} - ${X}`),kt(this).debug(`[${S}] response error (${X})`,lr({retryOfRequestLogID:i,url:x.url,status:x.status,headers:x.headers,durationMs:I-b})),this.retryRequest(f,n,i??S,x.headers)}const P=N?"error; no more retries left":"error; not retryable";kt(this).info(`${D} - ${P}`);const z=await x.text().catch(X=>Vm(X).message),G=fV(z),B=G?void 0:z;throw kt(this).debug(`[${S}] response error (${P})`,lr({retryOfRequestLogID:i,url:x.url,status:x.status,headers:x.headers,message:B,durationMs:Date.now()-b})),this.makeStatusError(x.status,G,B,x.headers)}return kt(this).info(D),kt(this).debug(`[${S}] response start`,lr({retryOfRequestLogID:i,url:x.url,status:x.status,headers:x.headers,durationMs:I-b})),{response:x,options:f,controller:A,requestLogID:S,retryOfRequestLogID:i,startTime:b}}async fetchWithTimeout(e,n,i,s){const a=n||{},{signal:u,method:f}=a,p=vf(a,["signal","method"]);u&&u.addEventListener("abort",()=>s.abort());const h=setTimeout(()=>s.abort(),i),v=globalThis.ReadableStream&&p.body instanceof globalThis.ReadableStream||typeof p.body=="object"&&p.body!==null&&Symbol.asyncIterator in p.body,_=Object.assign(Object.assign(Object.assign({signal:s.signal},v?{duplex:"half"}:{}),{method:"GET"}),p);f&&(_.method=f.toUpperCase());try{return await this.fetch.call(void 0,e,_)}finally{clearTimeout(h)}}async shouldRetry(e){const n=e.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,n,i,s){var a;let u;const f=s?.get("retry-after-ms");if(f){const h=parseFloat(f);Number.isNaN(h)||(u=h)}const p=s?.get("retry-after");if(p&&!u){const h=parseFloat(p);Number.isNaN(h)?u=Date.parse(p)-Date.now():u=h*1e3}if(!(u&&0<=u&&u<60*1e3)){const h=(a=e.maxRetries)!==null&&a!==void 0?a:this.maxRetries;u=this.calculateDefaultRetryTimeoutMillis(n,h)}return await dV(u),this.makeRequest(e,n-1,i)}calculateDefaultRetryTimeoutMillis(e,n){const a=n-e,u=Math.min(.5*Math.pow(2,a),8),f=1-Math.random()*.25;return u*f*1e3}async buildRequest(e,{retryCount:n=0}={}){var i,s,a;const u=Object.assign({},e),{method:f,path:p,query:h,defaultBaseURL:v}=u,_=this.buildURL(p,h,v);"timeout"in u&&cV("timeout",u.timeout),u.timeout=(i=u.timeout)!==null&&i!==void 0?i:this.timeout;const{bodyHeaders:S,body:T}=this.buildBody({options:u}),b=await this.buildHeaders({options:e,method:f,bodyHeaders:S,retryCount:n});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:f,headers:b},u.signal&&{signal:u.signal}),globalThis.ReadableStream&&T instanceof globalThis.ReadableStream&&{duplex:"half"}),T&&{body:T}),(s=this.fetchOptions)!==null&&s!==void 0?s:{}),(a=u.fetchOptions)!==null&&a!==void 0?a:{}),url:_,timeout:u.timeout}}async buildHeaders({options:e,method:n,bodyHeaders:i,retryCount:s}){let a={};this.idempotencyHeader&&n!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),a[this.idempotencyHeader]=e.idempotencyKey);const u=Wp([a,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(s)},e.timeout?{"X-Stainless-Timeout":String(Math.trunc(e.timeout/1e3))}:{}),gV()),await this.authHeaders(e),this._options.defaultHeaders,i,e.headers]);return this.validateHeaders(u),u.values}buildBody({options:{body:e,headers:n}}){if(!e)return{bodyHeaders:void 0,body:void 0};const i=Wp([n]);return ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof DataView||typeof e=="string"&&i.values.has("content-type")||globalThis.Blob&&e instanceof globalThis.Blob||e instanceof FormData||e instanceof URLSearchParams||globalThis.ReadableStream&&e instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:e}:typeof e=="object"&&(Symbol.asyncIterator in e||Symbol.iterator in e&&"next"in e&&typeof e.next=="function")?{bodyHeaders:void 0,body:yV(e)}:this.encoder({body:e,headers:i})}}Wf.DEFAULT_TIMEOUT=6e4;class Et extends Wf{constructor(){super(...arguments),this.interactions=new ux(this)}}dx=Et;Et.GeminiNextGenAPIClient=dx;Et.GeminiNextGenAPIClientError=Un;Et.APIError=Pn;Et.APIConnectionError=Kf;Et.APIConnectionTimeoutError=Yw;Et.APIUserAbortError=qm;Et.NotFoundError=Qw;Et.ConflictError=Zw;Et.RateLimitError=ex;Et.BadRequestError=Kw;Et.AuthenticationError=Xw;Et.InternalServerError=tx;Et.PermissionDeniedError=Ww;Et.UnprocessableEntityError=jw;Et.toFile=AV;Et.Interactions=ux;function GV(t,e){const n={},i=d(t,["name"]);return i!=null&&m(n,["_url","name"],i),n}function VV(t,e){const n={},i=d(t,["name"]);return i!=null&&m(n,["_url","name"],i),n}function $V(t,e){const n={},i=d(t,["sdkHttpResponse"]);return i!=null&&m(n,["sdkHttpResponse"],i),n}function qV(t,e){const n={},i=d(t,["sdkHttpResponse"]);return i!=null&&m(n,["sdkHttpResponse"],i),n}function zV(t,e,n){const i={};if(d(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const s=d(t,["tunedModelDisplayName"]);if(e!==void 0&&s!=null&&m(e,["displayName"],s),d(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const a=d(t,["epochCount"]);e!==void 0&&a!=null&&m(e,["tuningTask","hyperparameters","epochCount"],a);const u=d(t,["learningRateMultiplier"]);if(u!=null&&m(i,["tuningTask","hyperparameters","learningRateMultiplier"],u),d(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(d(t,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(d(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const f=d(t,["batchSize"]);e!==void 0&&f!=null&&m(e,["tuningTask","hyperparameters","batchSize"],f);const p=d(t,["learningRate"]);if(e!==void 0&&p!=null&&m(e,["tuningTask","hyperparameters","learningRate"],p),d(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(d(t,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return i}function FV(t,e,n){const i={};let s=d(n,["config","method"]);if(s===void 0&&(s="SUPERVISED_FINE_TUNING"),s==="SUPERVISED_FINE_TUNING"){const T=d(t,["validationDataset"]);e!==void 0&&T!=null&&m(e,["supervisedTuningSpec"],cb(T))}else if(s==="PREFERENCE_TUNING"){const T=d(t,["validationDataset"]);e!==void 0&&T!=null&&m(e,["preferenceOptimizationSpec"],cb(T))}const a=d(t,["tunedModelDisplayName"]);e!==void 0&&a!=null&&m(e,["tunedModelDisplayName"],a);const u=d(t,["description"]);e!==void 0&&u!=null&&m(e,["description"],u);let f=d(n,["config","method"]);if(f===void 0&&(f="SUPERVISED_FINE_TUNING"),f==="SUPERVISED_FINE_TUNING"){const T=d(t,["epochCount"]);e!==void 0&&T!=null&&m(e,["supervisedTuningSpec","hyperParameters","epochCount"],T)}else if(f==="PREFERENCE_TUNING"){const T=d(t,["epochCount"]);e!==void 0&&T!=null&&m(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],T)}let p=d(n,["config","method"]);if(p===void 0&&(p="SUPERVISED_FINE_TUNING"),p==="SUPERVISED_FINE_TUNING"){const T=d(t,["learningRateMultiplier"]);e!==void 0&&T!=null&&m(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],T)}else if(p==="PREFERENCE_TUNING"){const T=d(t,["learningRateMultiplier"]);e!==void 0&&T!=null&&m(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],T)}let h=d(n,["config","method"]);if(h===void 0&&(h="SUPERVISED_FINE_TUNING"),h==="SUPERVISED_FINE_TUNING"){const T=d(t,["exportLastCheckpointOnly"]);e!==void 0&&T!=null&&m(e,["supervisedTuningSpec","exportLastCheckpointOnly"],T)}else if(h==="PREFERENCE_TUNING"){const T=d(t,["exportLastCheckpointOnly"]);e!==void 0&&T!=null&&m(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],T)}let v=d(n,["config","method"]);if(v===void 0&&(v="SUPERVISED_FINE_TUNING"),v==="SUPERVISED_FINE_TUNING"){const T=d(t,["adapterSize"]);e!==void 0&&T!=null&&m(e,["supervisedTuningSpec","hyperParameters","adapterSize"],T)}else if(v==="PREFERENCE_TUNING"){const T=d(t,["adapterSize"]);e!==void 0&&T!=null&&m(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],T)}if(d(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(d(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const _=d(t,["labels"]);e!==void 0&&_!=null&&m(e,["labels"],_);const S=d(t,["beta"]);return e!==void 0&&S!=null&&m(e,["preferenceOptimizationSpec","hyperParameters","beta"],S),i}function JV(t,e){const n={},i=d(t,["baseModel"]);i!=null&&m(n,["baseModel"],i);const s=d(t,["preTunedModel"]);s!=null&&m(n,["preTunedModel"],s);const a=d(t,["trainingDataset"]);a!=null&&i$(a);const u=d(t,["config"]);return u!=null&&zV(u,n),n}function YV(t,e){const n={},i=d(t,["baseModel"]);i!=null&&m(n,["baseModel"],i);const s=d(t,["preTunedModel"]);s!=null&&m(n,["preTunedModel"],s);const a=d(t,["trainingDataset"]);a!=null&&o$(a,n,e);const u=d(t,["config"]);return u!=null&&FV(u,n,e),n}function KV(t,e){const n={},i=d(t,["name"]);return i!=null&&m(n,["_url","name"],i),n}function XV(t,e){const n={},i=d(t,["name"]);return i!=null&&m(n,["_url","name"],i),n}function WV(t,e,n){const i={},s=d(t,["pageSize"]);e!==void 0&&s!=null&&m(e,["_query","pageSize"],s);const a=d(t,["pageToken"]);e!==void 0&&a!=null&&m(e,["_query","pageToken"],a);const u=d(t,["filter"]);return e!==void 0&&u!=null&&m(e,["_query","filter"],u),i}function QV(t,e,n){const i={},s=d(t,["pageSize"]);e!==void 0&&s!=null&&m(e,["_query","pageSize"],s);const a=d(t,["pageToken"]);e!==void 0&&a!=null&&m(e,["_query","pageToken"],a);const u=d(t,["filter"]);return e!==void 0&&u!=null&&m(e,["_query","filter"],u),i}function ZV(t,e){const n={},i=d(t,["config"]);return i!=null&&WV(i,n),n}function jV(t,e){const n={},i=d(t,["config"]);return i!=null&&QV(i,n),n}function e$(t,e){const n={},i=d(t,["sdkHttpResponse"]);i!=null&&m(n,["sdkHttpResponse"],i);const s=d(t,["nextPageToken"]);s!=null&&m(n,["nextPageToken"],s);const a=d(t,["tunedModels"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(f=>hx(f))),m(n,["tuningJobs"],u)}return n}function t$(t,e){const n={},i=d(t,["sdkHttpResponse"]);i!=null&&m(n,["sdkHttpResponse"],i);const s=d(t,["nextPageToken"]);s!=null&&m(n,["nextPageToken"],s);const a=d(t,["tuningJobs"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(f=>Jm(f))),m(n,["tuningJobs"],u)}return n}function n$(t,e){const n={},i=d(t,["name"]);i!=null&&m(n,["model"],i);const s=d(t,["name"]);return s!=null&&m(n,["endpoint"],s),n}function i$(t,e){const n={};if(d(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(d(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const i=d(t,["examples"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>a)),m(n,["examples","examples"],s)}return n}function o$(t,e,n){const i={};let s=d(n,["config","method"]);if(s===void 0&&(s="SUPERVISED_FINE_TUNING"),s==="SUPERVISED_FINE_TUNING"){const u=d(t,["gcsUri"]);e!==void 0&&u!=null&&m(e,["supervisedTuningSpec","trainingDatasetUri"],u)}else if(s==="PREFERENCE_TUNING"){const u=d(t,["gcsUri"]);e!==void 0&&u!=null&&m(e,["preferenceOptimizationSpec","trainingDatasetUri"],u)}let a=d(n,["config","method"]);if(a===void 0&&(a="SUPERVISED_FINE_TUNING"),a==="SUPERVISED_FINE_TUNING"){const u=d(t,["vertexDatasetResource"]);e!==void 0&&u!=null&&m(e,["supervisedTuningSpec","trainingDatasetUri"],u)}else if(a==="PREFERENCE_TUNING"){const u=d(t,["vertexDatasetResource"]);e!==void 0&&u!=null&&m(e,["preferenceOptimizationSpec","trainingDatasetUri"],u)}if(d(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return i}function hx(t,e){const n={},i=d(t,["sdkHttpResponse"]);i!=null&&m(n,["sdkHttpResponse"],i);const s=d(t,["name"]);s!=null&&m(n,["name"],s);const a=d(t,["state"]);a!=null&&m(n,["state"],ww(a));const u=d(t,["createTime"]);u!=null&&m(n,["createTime"],u);const f=d(t,["tuningTask","startTime"]);f!=null&&m(n,["startTime"],f);const p=d(t,["tuningTask","completeTime"]);p!=null&&m(n,["endTime"],p);const h=d(t,["updateTime"]);h!=null&&m(n,["updateTime"],h);const v=d(t,["description"]);v!=null&&m(n,["description"],v);const _=d(t,["baseModel"]);_!=null&&m(n,["baseModel"],_);const S=d(t,["_self"]);return S!=null&&m(n,["tunedModel"],n$(S)),n}function Jm(t,e){const n={},i=d(t,["sdkHttpResponse"]);i!=null&&m(n,["sdkHttpResponse"],i);const s=d(t,["name"]);s!=null&&m(n,["name"],s);const a=d(t,["state"]);a!=null&&m(n,["state"],ww(a));const u=d(t,["createTime"]);u!=null&&m(n,["createTime"],u);const f=d(t,["startTime"]);f!=null&&m(n,["startTime"],f);const p=d(t,["endTime"]);p!=null&&m(n,["endTime"],p);const h=d(t,["updateTime"]);h!=null&&m(n,["updateTime"],h);const v=d(t,["error"]);v!=null&&m(n,["error"],v);const _=d(t,["description"]);_!=null&&m(n,["description"],_);const S=d(t,["baseModel"]);S!=null&&m(n,["baseModel"],S);const T=d(t,["tunedModel"]);T!=null&&m(n,["tunedModel"],T);const b=d(t,["preTunedModel"]);b!=null&&m(n,["preTunedModel"],b);const A=d(t,["supervisedTuningSpec"]);A!=null&&m(n,["supervisedTuningSpec"],A);const x=d(t,["preferenceOptimizationSpec"]);x!=null&&m(n,["preferenceOptimizationSpec"],x);const I=d(t,["tuningDataStats"]);I!=null&&m(n,["tuningDataStats"],I);const D=d(t,["encryptionSpec"]);D!=null&&m(n,["encryptionSpec"],D);const N=d(t,["partnerModelTuningSpec"]);N!=null&&m(n,["partnerModelTuningSpec"],N);const P=d(t,["customBaseModel"]);P!=null&&m(n,["customBaseModel"],P);const z=d(t,["experiment"]);z!=null&&m(n,["experiment"],z);const G=d(t,["labels"]);G!=null&&m(n,["labels"],G);const B=d(t,["outputUri"]);B!=null&&m(n,["outputUri"],B);const Q=d(t,["pipelineJob"]);Q!=null&&m(n,["pipelineJob"],Q);const X=d(t,["serviceAccount"]);X!=null&&m(n,["serviceAccount"],X);const te=d(t,["tunedModelDisplayName"]);te!=null&&m(n,["tunedModelDisplayName"],te);const j=d(t,["veoTuningSpec"]);return j!=null&&m(n,["veoTuningSpec"],j),n}function r$(t,e){const n={},i=d(t,["sdkHttpResponse"]);i!=null&&m(n,["sdkHttpResponse"],i);const s=d(t,["name"]);s!=null&&m(n,["name"],s);const a=d(t,["metadata"]);a!=null&&m(n,["metadata"],a);const u=d(t,["done"]);u!=null&&m(n,["done"],u);const f=d(t,["error"]);return f!=null&&m(n,["error"],f),n}function cb(t,e){const n={},i=d(t,["gcsUri"]);i!=null&&m(n,["validationDatasetUri"],i);const s=d(t,["vertexDatasetResource"]);return s!=null&&m(n,["validationDatasetUri"],s),n}class s$ extends Xi{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Mr(Yi.PAGED_ITEM_TUNING_JOBS,i=>this.listInternal(i),await this.listInternal(n),n),this.get=async n=>await this.getInternal(n),this.tune=async n=>{var i;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const s={tunedModelName:n.baseModel};!((i=n.config)===null||i===void 0)&&i.preTunedModelCheckpointId&&(s.checkpointId=n.config.preTunedModelCheckpointId);const a=Object.assign(Object.assign({},n),{preTunedModel:s});return a.baseModel=void 0,await this.tuneInternal(a)}else{const s=Object.assign({},n);return await this.tuneInternal(s)}else{const s=Object.assign({},n),a=await this.tuneMldevInternal(s);let u="";return a.metadata!==void 0&&a.metadata.tunedModel!==void 0?u=a.metadata.tunedModel:a.name!==void 0&&a.name.includes("/operations/")&&(u=a.name.split("/operations/")[0]),{name:u,state:Om.JOB_STATE_QUEUED}}}}async getInternal(e){var n,i,s,a;let u,f="",p={};if(this.apiClient.isVertexAI()){const h=XV(e);return f=ae("{name}",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),u.then(v=>Jm(v))}else{const h=KV(e);return f=ae("{name}",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),u.then(v=>hx(v))}}async listInternal(e){var n,i,s,a;let u,f="",p={};if(this.apiClient.isVertexAI()){const h=jV(e);return f=ae("tuningJobs",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),u.then(v=>{const _=t$(v),S=new LT;return Object.assign(S,_),S})}else{const h=ZV(e);return f=ae("tunedModels",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),u.then(v=>{const _=e$(v),S=new LT;return Object.assign(S,_),S})}}async cancel(e){var n,i,s,a;let u,f="",p={};if(this.apiClient.isVertexAI()){const h=VV(e);return f=ae("{name}:cancel",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),u.then(v=>{const _=qV(v),S=new kT;return Object.assign(S,_),S})}else{const h=GV(e);return f=ae("{name}:cancel",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),u.then(v=>{const _=$V(v),S=new kT;return Object.assign(S,_),S})}}async tuneInternal(e){var n,i;let s,a="",u={};if(this.apiClient.isVertexAI()){const f=YV(e,e);return a=ae("tuningJobs",f._url),u=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:p.headers},v})),s.then(p=>Jm(p))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,i;let s,a="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=JV(e);return a=ae("tunedModels",f._url),u=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:p.headers},v})),s.then(p=>r$(p))}}}class a${async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const l$=1024*1024*8,u$=3,c$=1e3,f$=2,_f="x-goog-upload-status";async function d$(t,e,n){var i;const s=await px(t,e,n),a=await s?.json();if(((i=s?.headers)===null||i===void 0?void 0:i[_f])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return a.file}async function h$(t,e,n){var i;const s=await px(t,e,n),a=await s?.json();if(((i=s?.headers)===null||i===void 0?void 0:i[_f])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const u=Sw(a),f=new Fg;return Object.assign(f,u),f}async function px(t,e,n){var i,s;let a=0,u=0,f=new Um(new Response),p="upload";for(a=t.size;u<a;){const h=Math.min(l$,a-u),v=t.slice(u,u+h);u+h>=a&&(p+=", finalize");let _=0,S=c$;for(;_<u$&&(f=await n.request({path:"",body:v,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":p,"X-Goog-Upload-Offset":String(u),"Content-Length":String(h)}}}),!(!((i=f?.headers)===null||i===void 0)&&i[_f]));)_++,await m$(S),S=S*f$;if(u+=h,((s=f?.headers)===null||s===void 0?void 0:s[_f])!=="active")break;if(a<=u)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return f}async function p$(t){return{size:t.size,type:t.type}}function m$(t){return new Promise(e=>setTimeout(e,t))}class g${async upload(e,n,i){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await d$(e,n,i)}async uploadToFileSearchStore(e,n,i){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await h$(e,n,i)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await p$(e)}}class v${create(e,n,i){return new y$(e,n,i)}}class y${constructor(e,n,i){this.url=e,this.headers=n,this.callbacks=i}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}const fb="x-goog-api-key";class _${constructor(e){this.apiKey=e}async addAuthHeaders(e,n){if(e.get(fb)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(fb,this.apiKey)}}}const S$="gl-node/";class E${get interactions(){if(this._interactions!==void 0)return this._interactions;if(console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions."),this.vertexai)throw new Error("This version of the GenAI SDK does not support Vertex AI API for interactions.");const e=this.httpOptions;e?.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const n=new Et({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:e?.timeout});return this._interactions=n.interactions,this._interactions}constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;const i=hL(e.httpOptions,e.vertexai,void 0,void 0);i&&(e.httpOptions?e.httpOptions.baseUrl=i:e.httpOptions={baseUrl:i}),this.apiVersion=e.apiVersion,this.httpOptions=e.httpOptions;const s=new _$(this.apiKey);this.apiClient=new dG({auth:s,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:S$+"web",uploader:new g$,downloader:new a$}),this.models=new IG(this.apiClient),this.live=new AG(this.apiClient,s,new v$),this.batches=new $k(this.apiClient),this.chats=new bB(this.models,this.apiClient),this.caches=new SB(this.apiClient),this.files=new OB(this.apiClient),this.operations=new DG(this.apiClient),this.authTokens=new KG(this.apiClient),this.tunings=new s$(this.apiClient),this.fileSearchStores=new nV(this.apiClient)}}let Zp=class extends Error{};class Ps{static getApiKey=null;static setApiKey=null;static getGenAI(){const e=this.getApiKey?.()||"";if(!e)throw new Zp("No Google API key set");return new E$({apiKey:e})}static async txt2txt(e){try{const n=this.getGenAI(),i={},s=await n.models.generateContent({model:"gemini-2.5-flash",contents:e,config:i});return console.log("RES TEXT",s.text),s.text}catch(n){console.error("Goo Err Response",n);const i=n?.message||"";if(i.includes("API key not valid")||i.includes("API_KEY_INVALID")||n instanceof Zp)return this.showKeyPromptWindow(),null;throw n}}static async img2img(e,n){try{const i=this.getGenAI(),s=[{text:e}];if(n?.length)for(const h of n)!h?.rawBase64||!h?.mime||s.push({inlineData:{data:h.rawBase64,mimeType:h.mime}});const a={model:"gemini-2.5-flash-image",contents:s,config:{imageConfig:{aspectRatio:"9:16",response_modalities:["Image"]}}};console.log("Gemini Payload",a);const u=await i.models.generateContent(a);console.log("GEMINI RES",u);const p=(u?.candidates??[])[0]?.content?.parts??[];for(const h of p)if(h.inlineData){const v=h.inlineData.data,_=h.inlineData.mimeType||"image/png";return{base64Obj:{rawBase64:v,mime:_},id:u.responseId}}return null}catch(i){const s=i?.message||"";if(s.includes("API key not valid")||s.includes("API_KEY_INVALID")||i instanceof Zp)return this.showKeyPromptWindow(),null;throw console.error("img2img error",i),i}}static showKeyPromptWindow(){const e=window.prompt("Your Google API key is missing or invalid. Please enter a valid key:");e?this.setApiKey?.(e):console.warn("User did not provide a valid API key.")}static async saveResultImage(e,n){return e&&e.base64Obj?.rawBase64?await br.fromBase64({rawBase64:e.base64Obj.rawBase64,mime:e.base64Obj.mime},n,`${e.id}.png`):(console.warn("No valid image returned from GoogleAI.img2img"),null)}}class db{folder;scene;shotJson=null;images=[];srcImage=null;resultsFolder=null;is_generating=!1;selected_art=null;constructor(e,n){this.folder=e,this.scene=n,ko(this)}async load(){try{this.shotJson=await Tr.create(this.folder,"shotinfo.json"),this.images=[],this.srcImage=null;try{this.resultsFolder=await this.folder.getDirectoryHandle("results",{create:!0});for await(const[e,n]of this.resultsFolder.entries())if(n.kind==="file"){const i=new br(n,this.resultsFolder);this.images.push(i),this.shotJson.data?.srcImage&&e===this.shotJson.data.srcImage&&(this.srcImage=i)}}catch(e){console.warn("No results folder found or failed to read:",e),this.resultsFolder=null}}catch(e){console.error("Error loading shot:",this.folder.name,e),this.shotJson=null,this.images=[],this.srcImage=null,this.resultsFolder=null}}setSrcImage(e){this.srcImage=e,this.shotJson?.data&&(this.shotJson.data.srcImage=e?.handle.name,this.shotJson.save())}async delete(){if(!this.scene?.folder){console.error("Cannot delete shot: scene folder not set");return}try{await this.scene.folder.removeEntry(this.folder.name,{recursive:!0}),nt(()=>{this.scene.shots=this.scene.shots.filter(e=>e!==this)})}catch(e){console.error("Failed to delete shot:",e)}}addImage(e){this.images.push(e),this.srcImage||this.setSrcImage(e)}removeImage(e){this.images=this.images.filter(n=>n!==e),this.srcImage===e&&this.setSrcImage(null)}async GenerateImage(){if(!this.resultsFolder){console.warn("Results folder not set. Attempting to create one...");try{this.resultsFolder=await this.folder.getDirectoryHandle("results",{create:!0})}catch(i){console.error("Failed to create results folder:",i);return}}nt(()=>{this.is_generating=!0});const e=[];for(const i of this.scene.getTags())try{const s=await i.image.getBase64();e.push(s)}catch(s){console.warn("Failed to load tag image:",i.path,s)}const n=this.shotJson?.data.prompt;try{const i=await Ps.img2img(n||"",e),s=await Ps.saveResultImage(i,this.resultsFolder);s&&this.addImage(s)}catch(i){console.error("GenerateImage failed:",i)}finally{nt(()=>{this.is_generating=!1})}}log(){console.log(kl(this))}selectArt(e=null){nt(()=>{this.selected_art=e})}async saveGoogleResultImage(e,n=!1){const i=await Ps.saveResultImage(e,this.resultsFolder);i&&(this.addImage(i),n&&this.selectArt(i))}}function Te(t,e,n,i,s){if(typeof e=="function"?t!==e||!0:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,n),n}function $(t,e,n,i){if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?i:n==="a"?i.call(t):i?i.value:e.get(t)}let mx=function(){const{crypto:t}=globalThis;if(t?.randomUUID)return mx=t.randomUUID.bind(t),t.randomUUID();const e=new Uint8Array(1),n=t?()=>t.getRandomValues(e)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,i=>(+i^n()&15>>+i/4).toString(16))};function Ym(t){return typeof t=="object"&&t!==null&&("name"in t&&t.name==="AbortError"||"message"in t&&String(t.message).includes("FetchRequestCanceledException"))}const Km=t=>{if(t instanceof Error)return t;if(typeof t=="object"&&t!==null){try{if(Object.prototype.toString.call(t)==="[object Error]"){const e=new Error(t.message,t.cause?{cause:t.cause}:{});return t.stack&&(e.stack=t.stack),t.cause&&!e.cause&&(e.cause=t.cause),t.name&&(e.name=t.name),e}}catch{}try{return new Error(JSON.stringify(t))}catch{}}return new Error(t)};class ve extends Error{}class Nt extends ve{constructor(e,n,i,s){super(`${Nt.makeMessage(e,n,i)}`),this.status=e,this.headers=s,this.requestID=s?.get("x-request-id"),this.error=n;const a=n;this.code=a?.code,this.param=a?.param,this.type=a?.type}static makeMessage(e,n,i){const s=n?.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):i;return e&&s?`${e} ${s}`:e?`${e} status code (no body)`:s||"(no status code or body)"}static generate(e,n,i,s){if(!e||!s)return new Qf({message:i,cause:Km(n)});const a=n?.error;return e===400?new gx(e,a,i,s):e===401?new vx(e,a,i,s):e===403?new yx(e,a,i,s):e===404?new _x(e,a,i,s):e===409?new Sx(e,a,i,s):e===422?new Ex(e,a,i,s):e===429?new Tx(e,a,i,s):e>=500?new bx(e,a,i,s):new Nt(e,a,i,s)}}class Mn extends Nt{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}}class Qf extends Nt{constructor({message:e,cause:n}){super(void 0,void 0,e||"Connection error.",void 0),n&&(this.cause=n)}}class Zg extends Qf{constructor({message:e}={}){super({message:e??"Request timed out."})}}class gx extends Nt{}class vx extends Nt{}class yx extends Nt{}class _x extends Nt{}class Sx extends Nt{}class Ex extends Nt{}class Tx extends Nt{}class bx extends Nt{}class Cx extends ve{constructor(){super("Could not parse response content as the length limit was reached")}}class Ax extends ve{constructor(){super("Could not parse response content as the request was rejected by the content filter")}}class il extends Error{constructor(e){super(e)}}const T$=/^[a-z][a-z0-9+.-]*:/i,b$=t=>T$.test(t);let Kt=t=>(Kt=Array.isArray,Kt(t)),hb=Kt;function wx(t){return typeof t!="object"?{}:t??{}}function C$(t){if(!t)return!0;for(const e in t)return!1;return!0}function A$(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function jp(t){return t!=null&&typeof t=="object"&&!Array.isArray(t)}const w$=(t,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new ve(`${t} must be an integer`);if(e<0)throw new ve(`${t} must be a positive integer`);return e},x$=t=>{try{return JSON.parse(t)}catch{return}},Yl=t=>new Promise(e=>setTimeout(e,t)),bs="6.10.0",R$=()=>typeof window<"u"&&typeof window.document<"u"&&typeof navigator<"u";function M$(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const N$=()=>{const t=M$();if(t==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":bs,"X-Stainless-OS":mb(Deno.build.os),"X-Stainless-Arch":pb(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:Deno.version?.deno??"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":bs,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(t==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":bs,"X-Stainless-OS":mb(globalThis.process.platform??"unknown"),"X-Stainless-Arch":pb(globalThis.process.arch??"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":globalThis.process.version??"unknown"};const e=I$();return e?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":bs,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${e.browser}`,"X-Stainless-Runtime-Version":e.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":bs,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function I$(){if(typeof navigator>"u"||!navigator)return null;const t=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:n}of t){const i=n.exec(navigator.userAgent);if(i){const s=i[1]||0,a=i[2]||0,u=i[3]||0;return{browser:e,version:`${s}.${a}.${u}`}}}return null}const pb=t=>t==="x32"?"x32":t==="x86_64"||t==="x64"?"x64":t==="arm"?"arm":t==="aarch64"||t==="arm64"?"arm64":t?`other:${t}`:"unknown",mb=t=>(t=t.toLowerCase(),t.includes("ios")?"iOS":t==="android"?"Android":t==="darwin"?"MacOS":t==="win32"?"Windows":t==="freebsd"?"FreeBSD":t==="openbsd"?"OpenBSD":t==="linux"?"Linux":t?`Other:${t}`:"Unknown");let gb;const D$=()=>gb??(gb=N$());function O$(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new OpenAI({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function xx(...t){const e=globalThis.ReadableStream;if(typeof e>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new e(...t)}function Rx(t){let e=Symbol.asyncIterator in t?t[Symbol.asyncIterator]():t[Symbol.iterator]();return xx({start(){},async pull(n){const{done:i,value:s}=await e.next();i?n.close():n.enqueue(s)},async cancel(){await e.return?.()}})}function Mx(t){if(t[Symbol.asyncIterator])return t;const e=t.getReader();return{async next(){try{const n=await e.read();return n?.done&&e.releaseLock(),n}catch(n){throw e.releaseLock(),n}},async return(){const n=e.cancel();return e.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function U$(t){if(t===null||typeof t!="object")return;if(t[Symbol.asyncIterator]){await t[Symbol.asyncIterator]().return?.();return}const e=t.getReader(),n=e.cancel();e.releaseLock(),await n}const P$=({headers:t,body:e})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(e)}),Nx="RFC3986",Ix=t=>String(t),vb={RFC1738:t=>String(t).replace(/%20/g,"+"),RFC3986:Ix},L$="RFC1738";let Xm=(t,e)=>(Xm=Object.hasOwn??Function.prototype.call.bind(Object.prototype.hasOwnProperty),Xm(t,e));const oi=(()=>{const t=[];for(let e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t})(),em=1024,k$=(t,e,n,i,s)=>{if(t.length===0)return t;let a=t;if(typeof t=="symbol"?a=Symbol.prototype.toString.call(t):typeof t!="string"&&(a=String(t)),n==="iso-8859-1")return escape(a).replace(/%u[0-9a-f]{4}/gi,function(f){return"%26%23"+parseInt(f.slice(2),16)+"%3B"});let u="";for(let f=0;f<a.length;f+=em){const p=a.length>=em?a.slice(f,f+em):a,h=[];for(let v=0;v<p.length;++v){let _=p.charCodeAt(v);if(_===45||_===46||_===95||_===126||_>=48&&_<=57||_>=65&&_<=90||_>=97&&_<=122||s===L$&&(_===40||_===41)){h[h.length]=p.charAt(v);continue}if(_<128){h[h.length]=oi[_];continue}if(_<2048){h[h.length]=oi[192|_>>6]+oi[128|_&63];continue}if(_<55296||_>=57344){h[h.length]=oi[224|_>>12]+oi[128|_>>6&63]+oi[128|_&63];continue}v+=1,_=65536+((_&1023)<<10|p.charCodeAt(v)&1023),h[h.length]=oi[240|_>>18]+oi[128|_>>12&63]+oi[128|_>>6&63]+oi[128|_&63]}u+=h.join("")}return u};function B$(t){return!t||typeof t!="object"?!1:!!(t.constructor&&t.constructor.isBuffer&&t.constructor.isBuffer(t))}function yb(t,e){if(Kt(t)){const n=[];for(let i=0;i<t.length;i+=1)n.push(e(t[i]));return n}return e(t)}const Dx={brackets(t){return String(t)+"[]"},comma:"comma",indices(t,e){return String(t)+"["+e+"]"},repeat(t){return String(t)}},Ox=function(t,e){Array.prototype.push.apply(t,Kt(e)?e:[e])};let _b;const mt={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:k$,encodeValuesOnly:!1,format:Nx,formatter:Ix,indices:!1,serializeDate(t){return(_b??(_b=Function.prototype.call.bind(Date.prototype.toISOString)))(t)},skipNulls:!1,strictNullHandling:!1};function H$(t){return typeof t=="string"||typeof t=="number"||typeof t=="boolean"||typeof t=="symbol"||typeof t=="bigint"}const tm={};function Ux(t,e,n,i,s,a,u,f,p,h,v,_,S,T,b,A,x,I){let D=t,N=I,P=0,z=!1;for(;(N=N.get(tm))!==void 0&&!z;){const te=N.get(t);if(P+=1,typeof te<"u"){if(te===P)throw new RangeError("Cyclic object value");z=!0}typeof N.get(tm)>"u"&&(P=0)}if(typeof h=="function"?D=h(e,D):D instanceof Date?D=S?.(D):n==="comma"&&Kt(D)&&(D=yb(D,function(te){return te instanceof Date?S?.(te):te})),D===null){if(a)return p&&!A?p(e,mt.encoder,x,"key",T):e;D=""}if(H$(D)||B$(D)){if(p){const te=A?e:p(e,mt.encoder,x,"key",T);return[b?.(te)+"="+b?.(p(D,mt.encoder,x,"value",T))]}return[b?.(e)+"="+b?.(String(D))]}const G=[];if(typeof D>"u")return G;let B;if(n==="comma"&&Kt(D))A&&p&&(D=yb(D,p)),B=[{value:D.length>0?D.join(",")||null:void 0}];else if(Kt(h))B=h;else{const te=Object.keys(D);B=v?te.sort(v):te}const Q=f?String(e).replace(/\./g,"%2E"):String(e),X=i&&Kt(D)&&D.length===1?Q+"[]":Q;if(s&&Kt(D)&&D.length===0)return X+"[]";for(let te=0;te<B.length;++te){const j=B[te],le=typeof j=="object"&&typeof j.value<"u"?j.value:D[j];if(u&&le===null)continue;const re=_&&f?j.replace(/\./g,"%2E"):j,fe=Kt(D)?typeof n=="function"?n(X,re):X:X+(_?"."+re:"["+re+"]");I.set(t,P);const _e=new WeakMap;_e.set(tm,I),Ox(G,Ux(le,fe,n,i,s,a,u,f,n==="comma"&&A&&Kt(D)?null:p,h,v,_,S,T,b,A,x,_e))}return G}function G$(t=mt){if(typeof t.allowEmptyArrays<"u"&&typeof t.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof t.encodeDotInKeys<"u"&&typeof t.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(t.encoder!==null&&typeof t.encoder<"u"&&typeof t.encoder!="function")throw new TypeError("Encoder has to be a function.");const e=t.charset||mt.charset;if(typeof t.charset<"u"&&t.charset!=="utf-8"&&t.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");let n=Nx;if(typeof t.format<"u"){if(!Xm(vb,t.format))throw new TypeError("Unknown format option provided.");n=t.format}const i=vb[n];let s=mt.filter;(typeof t.filter=="function"||Kt(t.filter))&&(s=t.filter);let a;if(t.arrayFormat&&t.arrayFormat in Dx?a=t.arrayFormat:"indices"in t?a=t.indices?"indices":"repeat":a=mt.arrayFormat,"commaRoundTrip"in t&&typeof t.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");const u=typeof t.allowDots>"u"?t.encodeDotInKeys?!0:mt.allowDots:!!t.allowDots;return{addQueryPrefix:typeof t.addQueryPrefix=="boolean"?t.addQueryPrefix:mt.addQueryPrefix,allowDots:u,allowEmptyArrays:typeof t.allowEmptyArrays=="boolean"?!!t.allowEmptyArrays:mt.allowEmptyArrays,arrayFormat:a,charset:e,charsetSentinel:typeof t.charsetSentinel=="boolean"?t.charsetSentinel:mt.charsetSentinel,commaRoundTrip:!!t.commaRoundTrip,delimiter:typeof t.delimiter>"u"?mt.delimiter:t.delimiter,encode:typeof t.encode=="boolean"?t.encode:mt.encode,encodeDotInKeys:typeof t.encodeDotInKeys=="boolean"?t.encodeDotInKeys:mt.encodeDotInKeys,encoder:typeof t.encoder=="function"?t.encoder:mt.encoder,encodeValuesOnly:typeof t.encodeValuesOnly=="boolean"?t.encodeValuesOnly:mt.encodeValuesOnly,filter:s,format:n,formatter:i,serializeDate:typeof t.serializeDate=="function"?t.serializeDate:mt.serializeDate,skipNulls:typeof t.skipNulls=="boolean"?t.skipNulls:mt.skipNulls,sort:typeof t.sort=="function"?t.sort:null,strictNullHandling:typeof t.strictNullHandling=="boolean"?t.strictNullHandling:mt.strictNullHandling}}function V$(t,e={}){let n=t;const i=G$(e);let s,a;typeof i.filter=="function"?(a=i.filter,n=a("",n)):Kt(i.filter)&&(a=i.filter,s=a);const u=[];if(typeof n!="object"||n===null)return"";const f=Dx[i.arrayFormat],p=f==="comma"&&i.commaRoundTrip;s||(s=Object.keys(n)),i.sort&&s.sort(i.sort);const h=new WeakMap;for(let S=0;S<s.length;++S){const T=s[S];i.skipNulls&&n[T]===null||Ox(u,Ux(n[T],T,f,p,i.allowEmptyArrays,i.strictNullHandling,i.skipNulls,i.encodeDotInKeys,i.encode?i.encoder:null,i.filter,i.sort,i.allowDots,i.serializeDate,i.format,i.formatter,i.encodeValuesOnly,i.charset,h))}const v=u.join(i.delimiter);let _=i.addQueryPrefix===!0?"?":"";return i.charsetSentinel&&(i.charset==="iso-8859-1"?_+="utf8=%26%2310003%3B&":_+="utf8=%E2%9C%93&"),v.length>0?_+v:""}function $$(t){let e=0;for(const s of t)e+=s.length;const n=new Uint8Array(e);let i=0;for(const s of t)n.set(s,i),i+=s.length;return n}let Sb;function jg(t){let e;return(Sb??(e=new globalThis.TextEncoder,Sb=e.encode.bind(e)))(t)}let Eb;function Tb(t){let e;return(Eb??(e=new globalThis.TextDecoder,Eb=e.decode.bind(e)))(t)}var an,ln;class Zf{constructor(){an.set(this,void 0),ln.set(this,void 0),Te(this,an,new Uint8Array),Te(this,ln,null)}decode(e){if(e==null)return[];const n=e instanceof ArrayBuffer?new Uint8Array(e):typeof e=="string"?jg(e):e;Te(this,an,$$([$(this,an,"f"),n]));const i=[];let s;for(;(s=q$($(this,an,"f"),$(this,ln,"f")))!=null;){if(s.carriage&&$(this,ln,"f")==null){Te(this,ln,s.index);continue}if($(this,ln,"f")!=null&&(s.index!==$(this,ln,"f")+1||s.carriage)){i.push(Tb($(this,an,"f").subarray(0,$(this,ln,"f")-1))),Te(this,an,$(this,an,"f").subarray($(this,ln,"f"))),Te(this,ln,null);continue}const a=$(this,ln,"f")!==null?s.preceding-1:s.preceding,u=Tb($(this,an,"f").subarray(0,a));i.push(u),Te(this,an,$(this,an,"f").subarray(s.index)),Te(this,ln,null)}return i}flush(){return $(this,an,"f").length?this.decode(`
`):[]}}an=new WeakMap,ln=new WeakMap;Zf.NEWLINE_CHARS=new Set([`
`,"\r"]);Zf.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function q$(t,e){for(let s=e??0;s<t.length;s++){if(t[s]===10)return{preceding:s,index:s+1,carriage:!1};if(t[s]===13)return{preceding:s,index:s+1,carriage:!0}}return null}function z$(t){for(let i=0;i<t.length-1;i++){if(t[i]===10&&t[i+1]===10||t[i]===13&&t[i+1]===13)return i+2;if(t[i]===13&&t[i+1]===10&&i+3<t.length&&t[i+2]===13&&t[i+3]===10)return i+4}return-1}const Sf={off:0,error:200,warn:300,info:400,debug:500},bb=(t,e,n)=>{if(t){if(A$(Sf,t))return t;Rt(n).warn(`${e} was set to ${JSON.stringify(t)}, expected one of ${JSON.stringify(Object.keys(Sf))}`)}};function ol(){}function Nc(t,e,n){return!e||Sf[t]>Sf[n]?ol:e[t].bind(e)}const F$={error:ol,warn:ol,info:ol,debug:ol};let Cb=new WeakMap;function Rt(t){const e=t.logger,n=t.logLevel??"off";if(!e)return F$;const i=Cb.get(e);if(i&&i[0]===n)return i[1];const s={error:Nc("error",e,n),warn:Nc("warn",e,n),info:Nc("info",e,n),debug:Nc("debug",e,n)};return Cb.set(e,[n,s]),s}const ur=t=>(t.options&&(t.options={...t.options},delete t.options.headers),t.headers&&(t.headers=Object.fromEntries((t.headers instanceof Headers?[...t.headers]:Object.entries(t.headers)).map(([e,n])=>[e,e.toLowerCase()==="authorization"||e.toLowerCase()==="cookie"||e.toLowerCase()==="set-cookie"?"***":n]))),"retryOfRequestLogID"in t&&(t.retryOfRequestLogID&&(t.retryOf=t.retryOfRequestLogID),delete t.retryOfRequestLogID),t);var ja;class li{constructor(e,n,i){this.iterator=e,ja.set(this,void 0),this.controller=n,Te(this,ja,i)}static fromSSEResponse(e,n,i){let s=!1;const a=i?Rt(i):console;async function*u(){if(s)throw new ve("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");s=!0;let f=!1;try{for await(const p of J$(e,n))if(!f){if(p.data.startsWith("[DONE]")){f=!0;continue}if(p.event===null||!p.event.startsWith("thread.")){let h;try{h=JSON.parse(p.data)}catch(v){throw a.error("Could not parse message into JSON:",p.data),a.error("From chunk:",p.raw),v}if(h&&h.error)throw new Nt(void 0,h.error,void 0,e.headers);yield h}else{let h;try{h=JSON.parse(p.data)}catch(v){throw console.error("Could not parse message into JSON:",p.data),console.error("From chunk:",p.raw),v}if(p.event=="error")throw new Nt(void 0,h.error,h.message,void 0);yield{event:p.event,data:h}}}f=!0}catch(p){if(Ym(p))return;throw p}finally{f||n.abort()}}return new li(u,n,i)}static fromReadableStream(e,n,i){let s=!1;async function*a(){const f=new Zf,p=Mx(e);for await(const h of p)for(const v of f.decode(h))yield v;for(const h of f.flush())yield h}async function*u(){if(s)throw new ve("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");s=!0;let f=!1;try{for await(const p of a())f||p&&(yield JSON.parse(p));f=!0}catch(p){if(Ym(p))return;throw p}finally{f||n.abort()}}return new li(u,n,i)}[(ja=new WeakMap,Symbol.asyncIterator)](){return this.iterator()}tee(){const e=[],n=[],i=this.iterator(),s=a=>({next:()=>{if(a.length===0){const u=i.next();e.push(u),n.push(u)}return a.shift()}});return[new li(()=>s(e),this.controller,$(this,ja,"f")),new li(()=>s(n),this.controller,$(this,ja,"f"))]}toReadableStream(){const e=this;let n;return xx({async start(){n=e[Symbol.asyncIterator]()},async pull(i){try{const{value:s,done:a}=await n.next();if(a)return i.close();const u=jg(JSON.stringify(s)+`
`);i.enqueue(u)}catch(s){i.error(s)}},async cancel(){await n.return?.()}})}}async function*J$(t,e){if(!t.body)throw e.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new ve("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new ve("Attempted to iterate over a response with no body");const n=new K$,i=new Zf,s=Mx(t.body);for await(const a of Y$(s))for(const u of i.decode(a)){const f=n.decode(u);f&&(yield f)}for(const a of i.flush()){const u=n.decode(a);u&&(yield u)}}async function*Y$(t){let e=new Uint8Array;for await(const n of t){if(n==null)continue;const i=n instanceof ArrayBuffer?new Uint8Array(n):typeof n=="string"?jg(n):n;let s=new Uint8Array(e.length+i.length);s.set(e),s.set(i,e.length),e=s;let a;for(;(a=z$(e))!==-1;)yield e.slice(0,a),e=e.slice(a)}e.length>0&&(yield e)}class K${constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const a={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],a}if(this.chunks.push(e),e.startsWith(":"))return null;let[n,i,s]=X$(e,":");return s.startsWith(" ")&&(s=s.substring(1)),n==="event"?this.event=s:n==="data"&&this.data.push(s),null}}function X$(t,e){const n=t.indexOf(e);return n!==-1?[t.substring(0,n),e,t.substring(n+e.length)]:[t,"",""]}async function Px(t,e){const{response:n,requestLogID:i,retryOfRequestLogID:s,startTime:a}=e,u=await(async()=>{if(e.options.stream)return Rt(t).debug("response",n.status,n.url,n.headers,n.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(n,e.controller,t):li.fromSSEResponse(n,e.controller,t);if(n.status===204)return null;if(e.options.__binaryResponse)return n;const p=n.headers.get("content-type")?.split(";")[0]?.trim();if(p?.includes("application/json")||p?.endsWith("+json")){const _=await n.json();return Lx(_,n)}return await n.text()})();return Rt(t).debug(`[${i}] response parsed`,ur({retryOfRequestLogID:s,url:n.url,status:n.status,body:u,durationMs:Date.now()-a})),u}function Lx(t,e){return!t||typeof t!="object"||Array.isArray(t)?t:Object.defineProperty(t,"_request_id",{value:e.headers.get("x-request-id"),enumerable:!1})}var rl;class jf extends Promise{constructor(e,n,i=Px){super(s=>{s(null)}),this.responsePromise=n,this.parseResponse=i,rl.set(this,void 0),Te(this,rl,e)}_thenUnwrap(e){return new jf($(this,rl,"f"),this.responsePromise,async(n,i)=>Lx(e(await this.parseResponse(n,i),i),i.response))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:n,request_id:n.headers.get("x-request-id")}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(e=>this.parseResponse($(this,rl,"f"),e))),this.parsedPromise}then(e,n){return this.parse().then(e,n)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}rl=new WeakMap;var Ic;class ev{constructor(e,n,i,s){Ic.set(this,void 0),Te(this,Ic,e),this.options=s,this.response=n,this.body=i}hasNextPage(){return this.getPaginatedItems().length?this.nextPageRequestOptions()!=null:!1}async getNextPage(){const e=this.nextPageRequestOptions();if(!e)throw new ve("No next page expected; please check `.hasNextPage()` before calling `.getNextPage()`.");return await $(this,Ic,"f").requestAPIList(this.constructor,e)}async*iterPages(){let e=this;for(yield e;e.hasNextPage();)e=await e.getNextPage(),yield e}async*[(Ic=new WeakMap,Symbol.asyncIterator)](){for await(const e of this.iterPages())for(const n of e.getPaginatedItems())yield n}}class W$ extends jf{constructor(e,n,i){super(e,n,async(s,a)=>new i(s,a.response,await Px(s,a),a.options))}async*[Symbol.asyncIterator](){const e=await this;for await(const n of e)yield n}}class ed extends ev{constructor(e,n,i,s){super(e,n,i,s),this.data=i.data||[],this.object=i.object}getPaginatedItems(){return this.data??[]}nextPageRequestOptions(){return null}}class dt extends ev{constructor(e,n,i,s){super(e,n,i,s),this.data=i.data||[],this.has_more=i.has_more||!1}getPaginatedItems(){return this.data??[]}hasNextPage(){return this.has_more===!1?!1:super.hasNextPage()}nextPageRequestOptions(){const e=this.getPaginatedItems(),n=e[e.length-1]?.id;return n?{...this.options,query:{...wx(this.options.query),after:n}}:null}}class Ef extends ev{constructor(e,n,i,s){super(e,n,i,s),this.data=i.data||[],this.has_more=i.has_more||!1,this.last_id=i.last_id||""}getPaginatedItems(){return this.data??[]}hasNextPage(){return this.has_more===!1?!1:super.hasNextPage()}nextPageRequestOptions(){const e=this.last_id;return e?{...this.options,query:{...wx(this.options.query),after:e}}:null}}const kx=()=>{if(typeof File>"u"){const{process:t}=globalThis,e=typeof t?.versions?.node=="string"&&parseInt(t.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(e?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function vl(t,e,n){return kx(),new File(t,e??"unknown_file",n)}function Jc(t){return(typeof t=="object"&&t!==null&&("name"in t&&t.name&&String(t.name)||"url"in t&&t.url&&String(t.url)||"filename"in t&&t.filename&&String(t.filename)||"path"in t&&t.path&&String(t.path))||"").split(/[\\/]/).pop()||void 0}const tv=t=>t!=null&&typeof t=="object"&&typeof t[Symbol.asyncIterator]=="function",Ab=async(t,e)=>Wm(t.body)?{...t,body:await Bx(t.body,e)}:t,Cr=async(t,e)=>({...t,body:await Bx(t.body,e)}),wb=new WeakMap;function Q$(t){const e=typeof t=="function"?t:t.fetch,n=wb.get(e);if(n)return n;const i=(async()=>{try{const s="Response"in e?e.Response:(await e("data:,")).constructor,a=new FormData;return a.toString()!==await new s(a).text()}catch{return!0}})();return wb.set(e,i),i}const Bx=async(t,e)=>{if(!await Q$(e))throw new TypeError("The provided fetch function does not support file uploads with the current global FormData class.");const n=new FormData;return await Promise.all(Object.entries(t||{}).map(([i,s])=>Qm(n,i,s))),n},Hx=t=>t instanceof Blob&&"name"in t,Z$=t=>typeof t=="object"&&t!==null&&(t instanceof Response||tv(t)||Hx(t)),Wm=t=>{if(Z$(t))return!0;if(Array.isArray(t))return t.some(Wm);if(t&&typeof t=="object"){for(const e in t)if(Wm(t[e]))return!0}return!1},Qm=async(t,e,n)=>{if(n!==void 0){if(n==null)throw new TypeError(`Received null for "${e}"; to pass null in FormData, you must use the string 'null'`);if(typeof n=="string"||typeof n=="number"||typeof n=="boolean")t.append(e,String(n));else if(n instanceof Response)t.append(e,vl([await n.blob()],Jc(n)));else if(tv(n))t.append(e,vl([await new Response(Rx(n)).blob()],Jc(n)));else if(Hx(n))t.append(e,n,Jc(n));else if(Array.isArray(n))await Promise.all(n.map(i=>Qm(t,e+"[]",i)));else if(typeof n=="object")await Promise.all(Object.entries(n).map(([i,s])=>Qm(t,`${e}[${i}]`,s)));else throw new TypeError(`Invalid value given to form, expected a string, number, boolean, object, Array, File or Blob but got ${n} instead`)}},Gx=t=>t!=null&&typeof t=="object"&&typeof t.size=="number"&&typeof t.type=="string"&&typeof t.text=="function"&&typeof t.slice=="function"&&typeof t.arrayBuffer=="function",j$=t=>t!=null&&typeof t=="object"&&typeof t.name=="string"&&typeof t.lastModified=="number"&&Gx(t),eq=t=>t!=null&&typeof t=="object"&&typeof t.url=="string"&&typeof t.blob=="function";async function tq(t,e,n){if(kx(),t=await t,j$(t))return t instanceof File?t:vl([await t.arrayBuffer()],t.name);if(eq(t)){const s=await t.blob();return e||(e=new URL(t.url).pathname.split(/[\\/]/).pop()),vl(await Zm(s),e,n)}const i=await Zm(t);if(e||(e=Jc(t)),!n?.type){const s=i.find(a=>typeof a=="object"&&"type"in a&&a.type);typeof s=="string"&&(n={...n,type:s})}return vl(i,e,n)}async function Zm(t){let e=[];if(typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer)e.push(t);else if(Gx(t))e.push(t instanceof Blob?t:await t.arrayBuffer());else if(tv(t))for await(const n of t)e.push(...await Zm(n));else{const n=t?.constructor?.name;throw new Error(`Unexpected data type: ${typeof t}${n?`; constructor: ${n}`:""}${nq(t)}`)}return e}function nq(t){return typeof t!="object"||t===null?"":`; props: [${Object.getOwnPropertyNames(t).map(n=>`"${n}"`).join(", ")}]`}class pe{constructor(e){this._client=e}}function Vx(t){return t.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const xb=Object.freeze(Object.create(null)),iq=(t=Vx)=>function(n,...i){if(n.length===1)return n[0];let s=!1;const a=[],u=n.reduce((v,_,S)=>{/[?#]/.test(_)&&(s=!0);const T=i[S];let b=(s?encodeURIComponent:t)(""+T);return S!==i.length&&(T==null||typeof T=="object"&&T.toString===Object.getPrototypeOf(Object.getPrototypeOf(T.hasOwnProperty??xb)??xb)?.toString)&&(b=T+"",a.push({start:v.length+_.length,length:b.length,error:`Value of type ${Object.prototype.toString.call(T).slice(8,-1)} is not a valid path parameter`})),v+_+(S===i.length?"":b)},""),f=u.split(/[?#]/,1)[0],p=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let h;for(;(h=p.exec(f))!==null;)a.push({start:h.index,length:h[0].length,error:`Value "${h[0]}" can't be safely passed as a path parameter`});if(a.sort((v,_)=>v.start-_.start),a.length>0){let v=0;const _=a.reduce((S,T)=>{const b=" ".repeat(T.start-v),A="^".repeat(T.length);return v=T.start+T.length,S+b+A},"");throw new ve(`Path parameters result in path with invalid segments:
${a.map(S=>S.error).join(`
`)}
${u}
${_}`)}return u},ee=iq(Vx);let $x=class extends pe{list(e,n={},i){return this._client.getAPIList(ee`/chat/completions/${e}/messages`,dt,{query:n,...i})}};function Tf(t){return t!==void 0&&"function"in t&&t.function!==void 0}function nv(t){return t?.$brand==="auto-parseable-response-format"}function Kl(t){return t?.$brand==="auto-parseable-tool"}function oq(t,e){return!e||!qx(e)?{...t,choices:t.choices.map(n=>(zx(n.message.tool_calls),{...n,message:{...n.message,parsed:null,...n.message.tool_calls?{tool_calls:n.message.tool_calls}:void 0}}))}:iv(t,e)}function iv(t,e){const n=t.choices.map(i=>{if(i.finish_reason==="length")throw new Cx;if(i.finish_reason==="content_filter")throw new Ax;return zx(i.message.tool_calls),{...i,message:{...i.message,...i.message.tool_calls?{tool_calls:i.message.tool_calls?.map(s=>sq(e,s))??void 0}:void 0,parsed:i.message.content&&!i.message.refusal?rq(e,i.message.content):null}}});return{...t,choices:n}}function rq(t,e){return t.response_format?.type!=="json_schema"?null:t.response_format?.type==="json_schema"?"$parseRaw"in t.response_format?t.response_format.$parseRaw(e):JSON.parse(e):null}function sq(t,e){const n=t.tools?.find(i=>Tf(i)&&i.function?.name===e.function.name);return{...e,function:{...e.function,parsed_arguments:Kl(n)?n.$parseRaw(e.function.arguments):n?.function.strict?JSON.parse(e.function.arguments):null}}}function aq(t,e){if(!t||!("tools"in t)||!t.tools)return!1;const n=t.tools?.find(i=>Tf(i)&&i.function?.name===e.function.name);return Tf(n)&&(Kl(n)||n?.function.strict||!1)}function qx(t){return nv(t.response_format)?!0:t.tools?.some(e=>Kl(e)||e.type==="function"&&e.function.strict===!0)??!1}function zx(t){for(const e of t||[])if(e.type!=="function")throw new ve(`Currently only \`function\` tool calls are supported; Received \`${e.type}\``)}function lq(t){for(const e of t??[]){if(e.type!=="function")throw new ve(`Currently only \`function\` tool types support auto-parsing; Received \`${e.type}\``);if(e.function.strict!==!0)throw new ve(`The \`${e.function.name}\` tool is not marked with \`strict: true\`. Only strict function tools can be auto-parsed`)}}const bf=t=>t?.role==="assistant",Fx=t=>t?.role==="tool";var jm,Yc,Kc,sl,al,Xc,ll,Li,ul,Cf,Af,Cs,Jx;class ov{constructor(){jm.add(this),this.controller=new AbortController,Yc.set(this,void 0),Kc.set(this,()=>{}),sl.set(this,()=>{}),al.set(this,void 0),Xc.set(this,()=>{}),ll.set(this,()=>{}),Li.set(this,{}),ul.set(this,!1),Cf.set(this,!1),Af.set(this,!1),Cs.set(this,!1),Te(this,Yc,new Promise((e,n)=>{Te(this,Kc,e,"f"),Te(this,sl,n,"f")})),Te(this,al,new Promise((e,n)=>{Te(this,Xc,e,"f"),Te(this,ll,n,"f")})),$(this,Yc,"f").catch(()=>{}),$(this,al,"f").catch(()=>{})}_run(e){setTimeout(()=>{e().then(()=>{this._emitFinal(),this._emit("end")},$(this,jm,"m",Jx).bind(this))},0)}_connected(){this.ended||($(this,Kc,"f").call(this),this._emit("connect"))}get ended(){return $(this,ul,"f")}get errored(){return $(this,Cf,"f")}get aborted(){return $(this,Af,"f")}abort(){this.controller.abort()}on(e,n){return($(this,Li,"f")[e]||($(this,Li,"f")[e]=[])).push({listener:n}),this}off(e,n){const i=$(this,Li,"f")[e];if(!i)return this;const s=i.findIndex(a=>a.listener===n);return s>=0&&i.splice(s,1),this}once(e,n){return($(this,Li,"f")[e]||($(this,Li,"f")[e]=[])).push({listener:n,once:!0}),this}emitted(e){return new Promise((n,i)=>{Te(this,Cs,!0),e!=="error"&&this.once("error",i),this.once(e,n)})}async done(){Te(this,Cs,!0),await $(this,al,"f")}_emit(e,...n){if($(this,ul,"f"))return;e==="end"&&(Te(this,ul,!0),$(this,Xc,"f").call(this));const i=$(this,Li,"f")[e];if(i&&($(this,Li,"f")[e]=i.filter(s=>!s.once),i.forEach(({listener:s})=>s(...n))),e==="abort"){const s=n[0];!$(this,Cs,"f")&&!i?.length&&Promise.reject(s),$(this,sl,"f").call(this,s),$(this,ll,"f").call(this,s),this._emit("end");return}if(e==="error"){const s=n[0];!$(this,Cs,"f")&&!i?.length&&Promise.reject(s),$(this,sl,"f").call(this,s),$(this,ll,"f").call(this,s),this._emit("end")}}_emitFinal(){}}Yc=new WeakMap,Kc=new WeakMap,sl=new WeakMap,al=new WeakMap,Xc=new WeakMap,ll=new WeakMap,Li=new WeakMap,ul=new WeakMap,Cf=new WeakMap,Af=new WeakMap,Cs=new WeakMap,jm=new WeakSet,Jx=function(e){if(Te(this,Cf,!0),e instanceof Error&&e.name==="AbortError"&&(e=new Mn),e instanceof Mn)return Te(this,Af,!0),this._emit("abort",e);if(e instanceof ve)return this._emit("error",e);if(e instanceof Error){const n=new ve(e.message);return n.cause=e,this._emit("error",n)}return this._emit("error",new ve(String(e)))};function uq(t){return typeof t.parse=="function"}var Lt,eg,wf,tg,ng,ig,Yx,Kx;const cq=10;class Xx extends ov{constructor(){super(...arguments),Lt.add(this),this._chatCompletions=[],this.messages=[]}_addChatCompletion(e){this._chatCompletions.push(e),this._emit("chatCompletion",e);const n=e.choices[0]?.message;return n&&this._addMessage(n),e}_addMessage(e,n=!0){if("content"in e||(e.content=null),this.messages.push(e),n){if(this._emit("message",e),Fx(e)&&e.content)this._emit("functionToolCallResult",e.content);else if(bf(e)&&e.tool_calls)for(const i of e.tool_calls)i.type==="function"&&this._emit("functionToolCall",i.function)}}async finalChatCompletion(){await this.done();const e=this._chatCompletions[this._chatCompletions.length-1];if(!e)throw new ve("stream ended without producing a ChatCompletion");return e}async finalContent(){return await this.done(),$(this,Lt,"m",eg).call(this)}async finalMessage(){return await this.done(),$(this,Lt,"m",wf).call(this)}async finalFunctionToolCall(){return await this.done(),$(this,Lt,"m",tg).call(this)}async finalFunctionToolCallResult(){return await this.done(),$(this,Lt,"m",ng).call(this)}async totalUsage(){return await this.done(),$(this,Lt,"m",ig).call(this)}allChatCompletions(){return[...this._chatCompletions]}_emitFinal(){const e=this._chatCompletions[this._chatCompletions.length-1];e&&this._emit("finalChatCompletion",e);const n=$(this,Lt,"m",wf).call(this);n&&this._emit("finalMessage",n);const i=$(this,Lt,"m",eg).call(this);i&&this._emit("finalContent",i);const s=$(this,Lt,"m",tg).call(this);s&&this._emit("finalFunctionToolCall",s);const a=$(this,Lt,"m",ng).call(this);a!=null&&this._emit("finalFunctionToolCallResult",a),this._chatCompletions.some(u=>u.usage)&&this._emit("totalUsage",$(this,Lt,"m",ig).call(this))}async _createChatCompletion(e,n,i){const s=i?.signal;s&&(s.aborted&&this.controller.abort(),s.addEventListener("abort",()=>this.controller.abort())),$(this,Lt,"m",Yx).call(this,n);const a=await e.chat.completions.create({...n,stream:!1},{...i,signal:this.controller.signal});return this._connected(),this._addChatCompletion(iv(a,n))}async _runChatCompletion(e,n,i){for(const s of n.messages)this._addMessage(s,!1);return await this._createChatCompletion(e,n,i)}async _runTools(e,n,i){const s="tool",{tool_choice:a="auto",stream:u,...f}=n,p=typeof a!="string"&&a.type==="function"&&a?.function?.name,{maxChatCompletions:h=cq}=i||{},v=n.tools.map(T=>{if(Kl(T)){if(!T.$callback)throw new ve("Tool given to `.runTools()` that does not have an associated function");return{type:"function",function:{function:T.$callback,name:T.function.name,description:T.function.description||"",parameters:T.function.parameters,parse:T.$parseRaw,strict:!0}}}return T}),_={};for(const T of v)T.type==="function"&&(_[T.function.name||T.function.function.name]=T.function);const S="tools"in n?v.map(T=>T.type==="function"?{type:"function",function:{name:T.function.name||T.function.function.name,parameters:T.function.parameters,description:T.function.description,strict:T.function.strict}}:T):void 0;for(const T of n.messages)this._addMessage(T,!1);for(let T=0;T<h;++T){const A=(await this._createChatCompletion(e,{...f,tool_choice:a,tools:S,messages:[...this.messages]},i)).choices[0]?.message;if(!A)throw new ve("missing message in ChatCompletion response");if(!A.tool_calls?.length)return;for(const x of A.tool_calls){if(x.type!=="function")continue;const I=x.id,{name:D,arguments:N}=x.function,P=_[D];if(P){if(p&&p!==D){const Q=`Invalid tool_call: ${JSON.stringify(D)}. ${JSON.stringify(p)} requested. Please try again`;this._addMessage({role:s,tool_call_id:I,content:Q});continue}}else{const Q=`Invalid tool_call: ${JSON.stringify(D)}. Available options are: ${Object.keys(_).map(X=>JSON.stringify(X)).join(", ")}. Please try again`;this._addMessage({role:s,tool_call_id:I,content:Q});continue}let z;try{z=uq(P)?await P.parse(N):N}catch(Q){const X=Q instanceof Error?Q.message:String(Q);this._addMessage({role:s,tool_call_id:I,content:X});continue}const G=await P.function(z,this),B=$(this,Lt,"m",Kx).call(this,G);if(this._addMessage({role:s,tool_call_id:I,content:B}),p)return}}}}Lt=new WeakSet,eg=function(){return $(this,Lt,"m",wf).call(this).content??null},wf=function(){let e=this.messages.length;for(;e-- >0;){const n=this.messages[e];if(bf(n))return{...n,content:n.content??null,refusal:n.refusal??null}}throw new ve("stream ended without producing a ChatCompletionMessage with role=assistant")},tg=function(){for(let e=this.messages.length-1;e>=0;e--){const n=this.messages[e];if(bf(n)&&n?.tool_calls?.length)return n.tool_calls.filter(i=>i.type==="function").at(-1)?.function}},ng=function(){for(let e=this.messages.length-1;e>=0;e--){const n=this.messages[e];if(Fx(n)&&n.content!=null&&typeof n.content=="string"&&this.messages.some(i=>i.role==="assistant"&&i.tool_calls?.some(s=>s.type==="function"&&s.id===n.tool_call_id)))return n.content}},ig=function(){const e={completion_tokens:0,prompt_tokens:0,total_tokens:0};for(const{usage:n}of this._chatCompletions)n&&(e.completion_tokens+=n.completion_tokens,e.prompt_tokens+=n.prompt_tokens,e.total_tokens+=n.total_tokens);return e},Yx=function(e){if(e.n!=null&&e.n>1)throw new ve("ChatCompletion convenience helpers only support n=1 at this time. To use n>1, please use chat.completions.create() directly.")},Kx=function(e){return typeof e=="string"?e:e===void 0?"undefined":JSON.stringify(e)};class rv extends Xx{static runTools(e,n,i){const s=new rv,a={...i,headers:{...i?.headers,"X-Stainless-Helper-Method":"runTools"}};return s._run(()=>s._runTools(e,n,a)),s}_addMessage(e,n=!0){super._addMessage(e,n),bf(e)&&e.content&&this._emit("content",e.content)}}const Wx=1,Qx=2,Zx=4,jx=8,eR=16,tR=32,nR=64,iR=128,oR=256,rR=iR|oR,sR=eR|tR|rR|nR,aR=Wx|Qx|sR,lR=Zx|jx,fq=aR|lR,yt={STR:Wx,NUM:Qx,ARR:Zx,OBJ:jx,NULL:eR,BOOL:tR,NAN:nR,INFINITY:iR,MINUS_INFINITY:oR,INF:rR,SPECIAL:sR,ATOM:aR,COLLECTION:lR,ALL:fq};class dq extends Error{}class hq extends Error{}function pq(t,e=yt.ALL){if(typeof t!="string")throw new TypeError(`expecting str, got ${typeof t}`);if(!t.trim())throw new Error(`${t} is empty`);return mq(t.trim(),e)}const mq=(t,e)=>{const n=t.length;let i=0;const s=S=>{throw new dq(`${S} at position ${i}`)},a=S=>{throw new hq(`${S} at position ${i}`)},u=()=>(_(),i>=n&&s("Unexpected end of input"),t[i]==='"'?f():t[i]==="{"?p():t[i]==="["?h():t.substring(i,i+4)==="null"||yt.NULL&e&&n-i<4&&"null".startsWith(t.substring(i))?(i+=4,null):t.substring(i,i+4)==="true"||yt.BOOL&e&&n-i<4&&"true".startsWith(t.substring(i))?(i+=4,!0):t.substring(i,i+5)==="false"||yt.BOOL&e&&n-i<5&&"false".startsWith(t.substring(i))?(i+=5,!1):t.substring(i,i+8)==="Infinity"||yt.INFINITY&e&&n-i<8&&"Infinity".startsWith(t.substring(i))?(i+=8,1/0):t.substring(i,i+9)==="-Infinity"||yt.MINUS_INFINITY&e&&1<n-i&&n-i<9&&"-Infinity".startsWith(t.substring(i))?(i+=9,-1/0):t.substring(i,i+3)==="NaN"||yt.NAN&e&&n-i<3&&"NaN".startsWith(t.substring(i))?(i+=3,NaN):v()),f=()=>{const S=i;let T=!1;for(i++;i<n&&(t[i]!=='"'||T&&t[i-1]==="\\");)T=t[i]==="\\"?!T:!1,i++;if(t.charAt(i)=='"')try{return JSON.parse(t.substring(S,++i-Number(T)))}catch(b){a(String(b))}else if(yt.STR&e)try{return JSON.parse(t.substring(S,i-Number(T))+'"')}catch{return JSON.parse(t.substring(S,t.lastIndexOf("\\"))+'"')}s("Unterminated string literal")},p=()=>{i++,_();const S={};try{for(;t[i]!=="}";){if(_(),i>=n&&yt.OBJ&e)return S;const T=f();_(),i++;try{const b=u();Object.defineProperty(S,T,{value:b,writable:!0,enumerable:!0,configurable:!0})}catch(b){if(yt.OBJ&e)return S;throw b}_(),t[i]===","&&i++}}catch{if(yt.OBJ&e)return S;s("Expected '}' at end of object")}return i++,S},h=()=>{i++;const S=[];try{for(;t[i]!=="]";)S.push(u()),_(),t[i]===","&&i++}catch{if(yt.ARR&e)return S;s("Expected ']' at end of array")}return i++,S},v=()=>{if(i===0){t==="-"&&yt.NUM&e&&s("Not sure what '-' is");try{return JSON.parse(t)}catch(T){if(yt.NUM&e)try{return t[t.length-1]==="."?JSON.parse(t.substring(0,t.lastIndexOf("."))):JSON.parse(t.substring(0,t.lastIndexOf("e")))}catch{}a(String(T))}}const S=i;for(t[i]==="-"&&i++;t[i]&&!",]}".includes(t[i]);)i++;i==n&&!(yt.NUM&e)&&s("Unterminated number literal");try{return JSON.parse(t.substring(S,i))}catch{t.substring(S,i)==="-"&&yt.NUM&e&&s("Not sure what '-' is");try{return JSON.parse(t.substring(S,t.lastIndexOf("e")))}catch(b){a(String(b))}}},_=()=>{for(;i<n&&` 
\r	`.includes(t[i]);)i++};return u()},Rb=t=>pq(t,yt.ALL^yt.NUM);var pt,Pi,ys,wo,nm,Dc,im,om,rm,Oc,sm,Mb;class wl extends Xx{constructor(e){super(),pt.add(this),Pi.set(this,void 0),ys.set(this,void 0),wo.set(this,void 0),Te(this,Pi,e),Te(this,ys,[])}get currentChatCompletionSnapshot(){return $(this,wo,"f")}static fromReadableStream(e){const n=new wl(null);return n._run(()=>n._fromReadableStream(e)),n}static createChatCompletion(e,n,i){const s=new wl(n);return s._run(()=>s._runChatCompletion(e,{...n,stream:!0},{...i,headers:{...i?.headers,"X-Stainless-Helper-Method":"stream"}})),s}async _createChatCompletion(e,n,i){super._createChatCompletion;const s=i?.signal;s&&(s.aborted&&this.controller.abort(),s.addEventListener("abort",()=>this.controller.abort())),$(this,pt,"m",nm).call(this);const a=await e.chat.completions.create({...n,stream:!0},{...i,signal:this.controller.signal});this._connected();for await(const u of a)$(this,pt,"m",im).call(this,u);if(a.controller.signal?.aborted)throw new Mn;return this._addChatCompletion($(this,pt,"m",Oc).call(this))}async _fromReadableStream(e,n){const i=n?.signal;i&&(i.aborted&&this.controller.abort(),i.addEventListener("abort",()=>this.controller.abort())),$(this,pt,"m",nm).call(this),this._connected();const s=li.fromReadableStream(e,this.controller);let a;for await(const u of s)a&&a!==u.id&&this._addChatCompletion($(this,pt,"m",Oc).call(this)),$(this,pt,"m",im).call(this,u),a=u.id;if(s.controller.signal?.aborted)throw new Mn;return this._addChatCompletion($(this,pt,"m",Oc).call(this))}[(Pi=new WeakMap,ys=new WeakMap,wo=new WeakMap,pt=new WeakSet,nm=function(){this.ended||Te(this,wo,void 0)},Dc=function(n){let i=$(this,ys,"f")[n.index];return i||(i={content_done:!1,refusal_done:!1,logprobs_content_done:!1,logprobs_refusal_done:!1,done_tool_calls:new Set,current_tool_call_index:null},$(this,ys,"f")[n.index]=i,i)},im=function(n){if(this.ended)return;const i=$(this,pt,"m",Mb).call(this,n);this._emit("chunk",n,i);for(const s of n.choices){const a=i.choices[s.index];s.delta.content!=null&&a.message?.role==="assistant"&&a.message?.content&&(this._emit("content",s.delta.content,a.message.content),this._emit("content.delta",{delta:s.delta.content,snapshot:a.message.content,parsed:a.message.parsed})),s.delta.refusal!=null&&a.message?.role==="assistant"&&a.message?.refusal&&this._emit("refusal.delta",{delta:s.delta.refusal,snapshot:a.message.refusal}),s.logprobs?.content!=null&&a.message?.role==="assistant"&&this._emit("logprobs.content.delta",{content:s.logprobs?.content,snapshot:a.logprobs?.content??[]}),s.logprobs?.refusal!=null&&a.message?.role==="assistant"&&this._emit("logprobs.refusal.delta",{refusal:s.logprobs?.refusal,snapshot:a.logprobs?.refusal??[]});const u=$(this,pt,"m",Dc).call(this,a);a.finish_reason&&($(this,pt,"m",rm).call(this,a),u.current_tool_call_index!=null&&$(this,pt,"m",om).call(this,a,u.current_tool_call_index));for(const f of s.delta.tool_calls??[])u.current_tool_call_index!==f.index&&($(this,pt,"m",rm).call(this,a),u.current_tool_call_index!=null&&$(this,pt,"m",om).call(this,a,u.current_tool_call_index)),u.current_tool_call_index=f.index;for(const f of s.delta.tool_calls??[]){const p=a.message.tool_calls?.[f.index];p?.type&&(p?.type==="function"?this._emit("tool_calls.function.arguments.delta",{name:p.function?.name,index:f.index,arguments:p.function.arguments,parsed_arguments:p.function.parsed_arguments,arguments_delta:f.function?.arguments??""}):(p?.type,void 0))}}},om=function(n,i){if($(this,pt,"m",Dc).call(this,n).done_tool_calls.has(i))return;const a=n.message.tool_calls?.[i];if(!a)throw new Error("no tool call snapshot");if(!a.type)throw new Error("tool call snapshot missing `type`");if(a.type==="function"){const u=$(this,Pi,"f")?.tools?.find(f=>Tf(f)&&f.function.name===a.function.name);this._emit("tool_calls.function.arguments.done",{name:a.function.name,index:i,arguments:a.function.arguments,parsed_arguments:Kl(u)?u.$parseRaw(a.function.arguments):u?.function.strict?JSON.parse(a.function.arguments):null})}else a.type},rm=function(n){const i=$(this,pt,"m",Dc).call(this,n);if(n.message.content&&!i.content_done){i.content_done=!0;const s=$(this,pt,"m",sm).call(this);this._emit("content.done",{content:n.message.content,parsed:s?s.$parseRaw(n.message.content):null})}n.message.refusal&&!i.refusal_done&&(i.refusal_done=!0,this._emit("refusal.done",{refusal:n.message.refusal})),n.logprobs?.content&&!i.logprobs_content_done&&(i.logprobs_content_done=!0,this._emit("logprobs.content.done",{content:n.logprobs.content})),n.logprobs?.refusal&&!i.logprobs_refusal_done&&(i.logprobs_refusal_done=!0,this._emit("logprobs.refusal.done",{refusal:n.logprobs.refusal}))},Oc=function(){if(this.ended)throw new ve("stream has ended, this shouldn't happen");const n=$(this,wo,"f");if(!n)throw new ve("request ended without sending any chunks");return Te(this,wo,void 0),Te(this,ys,[]),gq(n,$(this,Pi,"f"))},sm=function(){const n=$(this,Pi,"f")?.response_format;return nv(n)?n:null},Mb=function(n){var i,s,a,u;let f=$(this,wo,"f");const{choices:p,...h}=n;f?Object.assign(f,h):f=Te(this,wo,{...h,choices:[]});for(const{delta:v,finish_reason:_,index:S,logprobs:T=null,...b}of n.choices){let A=f.choices[S];if(A||(A=f.choices[S]={finish_reason:_,index:S,message:{},logprobs:T,...b}),T)if(!A.logprobs)A.logprobs=Object.assign({},T);else{const{content:G,refusal:B,...Q}=T;Object.assign(A.logprobs,Q),G&&((i=A.logprobs).content??(i.content=[]),A.logprobs.content.push(...G)),B&&((s=A.logprobs).refusal??(s.refusal=[]),A.logprobs.refusal.push(...B))}if(_&&(A.finish_reason=_,$(this,Pi,"f")&&qx($(this,Pi,"f")))){if(_==="length")throw new Cx;if(_==="content_filter")throw new Ax}if(Object.assign(A,b),!v)continue;const{content:x,refusal:I,function_call:D,role:N,tool_calls:P,...z}=v;if(Object.assign(A.message,z),I&&(A.message.refusal=(A.message.refusal||"")+I),N&&(A.message.role=N),D&&(A.message.function_call?(D.name&&(A.message.function_call.name=D.name),D.arguments&&((a=A.message.function_call).arguments??(a.arguments=""),A.message.function_call.arguments+=D.arguments)):A.message.function_call=D),x&&(A.message.content=(A.message.content||"")+x,!A.message.refusal&&$(this,pt,"m",sm).call(this)&&(A.message.parsed=Rb(A.message.content))),P){A.message.tool_calls||(A.message.tool_calls=[]);for(const{index:G,id:B,type:Q,function:X,...te}of P){const j=(u=A.message.tool_calls)[G]??(u[G]={});Object.assign(j,te),B&&(j.id=B),Q&&(j.type=Q),X&&(j.function??(j.function={name:X.name??"",arguments:""})),X?.name&&(j.function.name=X.name),X?.arguments&&(j.function.arguments+=X.arguments,aq($(this,Pi,"f"),j)&&(j.function.parsed_arguments=Rb(j.function.arguments)))}}}return f},Symbol.asyncIterator)](){const e=[],n=[];let i=!1;return this.on("chunk",s=>{const a=n.shift();a?a.resolve(s):e.push(s)}),this.on("end",()=>{i=!0;for(const s of n)s.resolve(void 0);n.length=0}),this.on("abort",s=>{i=!0;for(const a of n)a.reject(s);n.length=0}),this.on("error",s=>{i=!0;for(const a of n)a.reject(s);n.length=0}),{next:async()=>e.length?{value:e.shift(),done:!1}:i?{value:void 0,done:!0}:new Promise((a,u)=>n.push({resolve:a,reject:u})).then(a=>a?{value:a,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}toReadableStream(){return new li(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}}function gq(t,e){const{id:n,choices:i,created:s,model:a,system_fingerprint:u,...f}=t,p={...f,id:n,choices:i.map(({message:h,finish_reason:v,index:_,logprobs:S,...T})=>{if(!v)throw new ve(`missing finish_reason for choice ${_}`);const{content:b=null,function_call:A,tool_calls:x,...I}=h,D=h.role;if(!D)throw new ve(`missing role for choice ${_}`);if(A){const{arguments:N,name:P}=A;if(N==null)throw new ve(`missing function_call.arguments for choice ${_}`);if(!P)throw new ve(`missing function_call.name for choice ${_}`);return{...T,message:{content:b,function_call:{arguments:N,name:P},role:D,refusal:h.refusal??null},finish_reason:v,index:_,logprobs:S}}return x?{...T,index:_,finish_reason:v,logprobs:S,message:{...I,role:D,content:b,refusal:h.refusal??null,tool_calls:x.map((N,P)=>{const{function:z,type:G,id:B,...Q}=N,{arguments:X,name:te,...j}=z||{};if(B==null)throw new ve(`missing choices[${_}].tool_calls[${P}].id
${Uc(t)}`);if(G==null)throw new ve(`missing choices[${_}].tool_calls[${P}].type
${Uc(t)}`);if(te==null)throw new ve(`missing choices[${_}].tool_calls[${P}].function.name
${Uc(t)}`);if(X==null)throw new ve(`missing choices[${_}].tool_calls[${P}].function.arguments
${Uc(t)}`);return{...Q,id:B,type:G,function:{...j,name:te,arguments:X}}})}}:{...T,message:{...I,content:b,role:D,refusal:h.refusal??null},finish_reason:v,index:_,logprobs:S}}),created:s,model:a,object:"chat.completion",...u?{system_fingerprint:u}:{}};return oq(p,e)}function Uc(t){return JSON.stringify(t)}class xf extends wl{static fromReadableStream(e){const n=new xf(null);return n._run(()=>n._fromReadableStream(e)),n}static runTools(e,n,i){const s=new xf(n),a={...i,headers:{...i?.headers,"X-Stainless-Helper-Method":"runTools"}};return s._run(()=>s._runTools(e,n,a)),s}}let sv=class extends pe{constructor(){super(...arguments),this.messages=new $x(this._client)}create(e,n){return this._client.post("/chat/completions",{body:e,...n,stream:e.stream??!1})}retrieve(e,n){return this._client.get(ee`/chat/completions/${e}`,n)}update(e,n,i){return this._client.post(ee`/chat/completions/${e}`,{body:n,...i})}list(e={},n){return this._client.getAPIList("/chat/completions",dt,{query:e,...n})}delete(e,n){return this._client.delete(ee`/chat/completions/${e}`,n)}parse(e,n){return lq(e.tools),this._client.chat.completions.create(e,{...n,headers:{...n?.headers,"X-Stainless-Helper-Method":"chat.completions.parse"}})._thenUnwrap(i=>iv(i,e))}runTools(e,n){return e.stream?xf.runTools(this._client,e,n):rv.runTools(this._client,e,n)}stream(e,n){return wl.createChatCompletion(this._client,e,n)}};sv.Messages=$x;class av extends pe{constructor(){super(...arguments),this.completions=new sv(this._client)}}av.Completions=sv;const uR=Symbol("brand.privateNullableHeaders");function*vq(t){if(!t)return;if(uR in t){const{values:i,nulls:s}=t;yield*i.entries();for(const a of s)yield[a,null];return}let e=!1,n;t instanceof Headers?n=t.entries():hb(t)?n=t:(e=!0,n=Object.entries(t??{}));for(let i of n){const s=i[0];if(typeof s!="string")throw new TypeError("expected header name to be a string");const a=hb(i[1])?i[1]:[i[1]];let u=!1;for(const f of a)f!==void 0&&(e&&!u&&(u=!0,yield[s,null]),yield[s,f])}}const ce=t=>{const e=new Headers,n=new Set;for(const i of t){const s=new Set;for(const[a,u]of vq(i)){const f=a.toLowerCase();s.has(f)||(e.delete(a),s.add(f)),u===null?(e.delete(a),n.add(f)):(e.append(a,u),n.delete(f))}}return{[uR]:!0,values:e,nulls:n}};class cR extends pe{create(e,n){return this._client.post("/audio/speech",{body:e,...n,headers:ce([{Accept:"application/octet-stream"},n?.headers]),__binaryResponse:!0})}}class fR extends pe{create(e,n){return this._client.post("/audio/transcriptions",Cr({body:e,...n,stream:e.stream??!1,__metadata:{model:e.model}},this._client))}}class dR extends pe{create(e,n){return this._client.post("/audio/translations",Cr({body:e,...n,__metadata:{model:e.model}},this._client))}}class Xl extends pe{constructor(){super(...arguments),this.transcriptions=new fR(this._client),this.translations=new dR(this._client),this.speech=new cR(this._client)}}Xl.Transcriptions=fR;Xl.Translations=dR;Xl.Speech=cR;class hR extends pe{create(e,n){return this._client.post("/batches",{body:e,...n})}retrieve(e,n){return this._client.get(ee`/batches/${e}`,n)}list(e={},n){return this._client.getAPIList("/batches",dt,{query:e,...n})}cancel(e,n){return this._client.post(ee`/batches/${e}/cancel`,n)}}class pR extends pe{create(e,n){return this._client.post("/assistants",{body:e,...n,headers:ce([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}retrieve(e,n){return this._client.get(ee`/assistants/${e}`,{...n,headers:ce([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}update(e,n,i){return this._client.post(ee`/assistants/${e}`,{body:n,...i,headers:ce([{"OpenAI-Beta":"assistants=v2"},i?.headers])})}list(e={},n){return this._client.getAPIList("/assistants",dt,{query:e,...n,headers:ce([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}delete(e,n){return this._client.delete(ee`/assistants/${e}`,{...n,headers:ce([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}}let mR=class extends pe{create(e,n){return this._client.post("/realtime/sessions",{body:e,...n,headers:ce([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}};class gR extends pe{create(e,n){return this._client.post("/realtime/transcription_sessions",{body:e,...n,headers:ce([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}}let td=class extends pe{constructor(){super(...arguments),this.sessions=new mR(this._client),this.transcriptionSessions=new gR(this._client)}};td.Sessions=mR;td.TranscriptionSessions=gR;class vR extends pe{create(e,n){return this._client.post("/chatkit/sessions",{body:e,...n,headers:ce([{"OpenAI-Beta":"chatkit_beta=v1"},n?.headers])})}cancel(e,n){return this._client.post(ee`/chatkit/sessions/${e}/cancel`,{...n,headers:ce([{"OpenAI-Beta":"chatkit_beta=v1"},n?.headers])})}}let yR=class extends pe{retrieve(e,n){return this._client.get(ee`/chatkit/threads/${e}`,{...n,headers:ce([{"OpenAI-Beta":"chatkit_beta=v1"},n?.headers])})}list(e={},n){return this._client.getAPIList("/chatkit/threads",Ef,{query:e,...n,headers:ce([{"OpenAI-Beta":"chatkit_beta=v1"},n?.headers])})}delete(e,n){return this._client.delete(ee`/chatkit/threads/${e}`,{...n,headers:ce([{"OpenAI-Beta":"chatkit_beta=v1"},n?.headers])})}listItems(e,n={},i){return this._client.getAPIList(ee`/chatkit/threads/${e}/items`,Ef,{query:n,...i,headers:ce([{"OpenAI-Beta":"chatkit_beta=v1"},i?.headers])})}};class nd extends pe{constructor(){super(...arguments),this.sessions=new vR(this._client),this.threads=new yR(this._client)}}nd.Sessions=vR;nd.Threads=yR;class _R extends pe{create(e,n,i){return this._client.post(ee`/threads/${e}/messages`,{body:n,...i,headers:ce([{"OpenAI-Beta":"assistants=v2"},i?.headers])})}retrieve(e,n,i){const{thread_id:s}=n;return this._client.get(ee`/threads/${s}/messages/${e}`,{...i,headers:ce([{"OpenAI-Beta":"assistants=v2"},i?.headers])})}update(e,n,i){const{thread_id:s,...a}=n;return this._client.post(ee`/threads/${s}/messages/${e}`,{body:a,...i,headers:ce([{"OpenAI-Beta":"assistants=v2"},i?.headers])})}list(e,n={},i){return this._client.getAPIList(ee`/threads/${e}/messages`,dt,{query:n,...i,headers:ce([{"OpenAI-Beta":"assistants=v2"},i?.headers])})}delete(e,n,i){const{thread_id:s}=n;return this._client.delete(ee`/threads/${s}/messages/${e}`,{...i,headers:ce([{"OpenAI-Beta":"assistants=v2"},i?.headers])})}}class SR extends pe{retrieve(e,n,i){const{thread_id:s,run_id:a,...u}=n;return this._client.get(ee`/threads/${s}/runs/${a}/steps/${e}`,{query:u,...i,headers:ce([{"OpenAI-Beta":"assistants=v2"},i?.headers])})}list(e,n,i){const{thread_id:s,...a}=n;return this._client.getAPIList(ee`/threads/${s}/runs/${e}/steps`,dt,{query:a,...i,headers:ce([{"OpenAI-Beta":"assistants=v2"},i?.headers])})}}const yq=t=>{if(typeof Buffer<"u"){const e=Buffer.from(t,"base64");return Array.from(new Float32Array(e.buffer,e.byteOffset,e.length/Float32Array.BYTES_PER_ELEMENT))}else{const e=atob(t),n=e.length,i=new Uint8Array(n);for(let s=0;s<n;s++)i[s]=e.charCodeAt(s);return Array.from(new Float32Array(i.buffer))}};var _q={};const _s=t=>{if(typeof globalThis.process<"u")return _q?.[t]?.trim()??void 0;if(typeof globalThis.Deno<"u")return globalThis.Deno.env?.get?.(t)?.trim()};var Mt,fr,og,si,Wc,Vn,dr,Is,cr,Rf,un,Qc,Zc,yl,cl,fl,Nb,Ib,Db,Ob,Ub,Pb,Lb;class _l extends ov{constructor(){super(...arguments),Mt.add(this),og.set(this,[]),si.set(this,{}),Wc.set(this,{}),Vn.set(this,void 0),dr.set(this,void 0),Is.set(this,void 0),cr.set(this,void 0),Rf.set(this,void 0),un.set(this,void 0),Qc.set(this,void 0),Zc.set(this,void 0),yl.set(this,void 0)}[(og=new WeakMap,si=new WeakMap,Wc=new WeakMap,Vn=new WeakMap,dr=new WeakMap,Is=new WeakMap,cr=new WeakMap,Rf=new WeakMap,un=new WeakMap,Qc=new WeakMap,Zc=new WeakMap,yl=new WeakMap,Mt=new WeakSet,Symbol.asyncIterator)](){const e=[],n=[];let i=!1;return this.on("event",s=>{const a=n.shift();a?a.resolve(s):e.push(s)}),this.on("end",()=>{i=!0;for(const s of n)s.resolve(void 0);n.length=0}),this.on("abort",s=>{i=!0;for(const a of n)a.reject(s);n.length=0}),this.on("error",s=>{i=!0;for(const a of n)a.reject(s);n.length=0}),{next:async()=>e.length?{value:e.shift(),done:!1}:i?{value:void 0,done:!0}:new Promise((a,u)=>n.push({resolve:a,reject:u})).then(a=>a?{value:a,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}static fromReadableStream(e){const n=new fr;return n._run(()=>n._fromReadableStream(e)),n}async _fromReadableStream(e,n){const i=n?.signal;i&&(i.aborted&&this.controller.abort(),i.addEventListener("abort",()=>this.controller.abort())),this._connected();const s=li.fromReadableStream(e,this.controller);for await(const a of s)$(this,Mt,"m",cl).call(this,a);if(s.controller.signal?.aborted)throw new Mn;return this._addRun($(this,Mt,"m",fl).call(this))}toReadableStream(){return new li(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}static createToolAssistantStream(e,n,i,s){const a=new fr;return a._run(()=>a._runToolAssistantStream(e,n,i,{...s,headers:{...s?.headers,"X-Stainless-Helper-Method":"stream"}})),a}async _createToolAssistantStream(e,n,i,s){const a=s?.signal;a&&(a.aborted&&this.controller.abort(),a.addEventListener("abort",()=>this.controller.abort()));const u={...i,stream:!0},f=await e.submitToolOutputs(n,u,{...s,signal:this.controller.signal});this._connected();for await(const p of f)$(this,Mt,"m",cl).call(this,p);if(f.controller.signal?.aborted)throw new Mn;return this._addRun($(this,Mt,"m",fl).call(this))}static createThreadAssistantStream(e,n,i){const s=new fr;return s._run(()=>s._threadAssistantStream(e,n,{...i,headers:{...i?.headers,"X-Stainless-Helper-Method":"stream"}})),s}static createAssistantStream(e,n,i,s){const a=new fr;return a._run(()=>a._runAssistantStream(e,n,i,{...s,headers:{...s?.headers,"X-Stainless-Helper-Method":"stream"}})),a}currentEvent(){return $(this,Qc,"f")}currentRun(){return $(this,Zc,"f")}currentMessageSnapshot(){return $(this,Vn,"f")}currentRunStepSnapshot(){return $(this,yl,"f")}async finalRunSteps(){return await this.done(),Object.values($(this,si,"f"))}async finalMessages(){return await this.done(),Object.values($(this,Wc,"f"))}async finalRun(){if(await this.done(),!$(this,dr,"f"))throw Error("Final run was not received.");return $(this,dr,"f")}async _createThreadAssistantStream(e,n,i){const s=i?.signal;s&&(s.aborted&&this.controller.abort(),s.addEventListener("abort",()=>this.controller.abort()));const a={...n,stream:!0},u=await e.createAndRun(a,{...i,signal:this.controller.signal});this._connected();for await(const f of u)$(this,Mt,"m",cl).call(this,f);if(u.controller.signal?.aborted)throw new Mn;return this._addRun($(this,Mt,"m",fl).call(this))}async _createAssistantStream(e,n,i,s){const a=s?.signal;a&&(a.aborted&&this.controller.abort(),a.addEventListener("abort",()=>this.controller.abort()));const u={...i,stream:!0},f=await e.create(n,u,{...s,signal:this.controller.signal});this._connected();for await(const p of f)$(this,Mt,"m",cl).call(this,p);if(f.controller.signal?.aborted)throw new Mn;return this._addRun($(this,Mt,"m",fl).call(this))}static accumulateDelta(e,n){for(const[i,s]of Object.entries(n)){if(!e.hasOwnProperty(i)){e[i]=s;continue}let a=e[i];if(a==null){e[i]=s;continue}if(i==="index"||i==="type"){e[i]=s;continue}if(typeof a=="string"&&typeof s=="string")a+=s;else if(typeof a=="number"&&typeof s=="number")a+=s;else if(jp(a)&&jp(s))a=this.accumulateDelta(a,s);else if(Array.isArray(a)&&Array.isArray(s)){if(a.every(u=>typeof u=="string"||typeof u=="number")){a.push(...s);continue}for(const u of s){if(!jp(u))throw new Error(`Expected array delta entry to be an object but got: ${u}`);const f=u.index;if(f==null)throw console.error(u),new Error("Expected array delta entry to have an `index` property");if(typeof f!="number")throw new Error(`Expected array delta entry \`index\` property to be a number but got ${f}`);const p=a[f];p==null?a.push(u):a[f]=this.accumulateDelta(p,u)}continue}else throw Error(`Unhandled record type: ${i}, deltaValue: ${s}, accValue: ${a}`);e[i]=a}return e}_addRun(e){return e}async _threadAssistantStream(e,n,i){return await this._createThreadAssistantStream(n,e,i)}async _runAssistantStream(e,n,i,s){return await this._createAssistantStream(n,e,i,s)}async _runToolAssistantStream(e,n,i,s){return await this._createToolAssistantStream(n,e,i,s)}}fr=_l,cl=function(e){if(!this.ended)switch(Te(this,Qc,e),$(this,Mt,"m",Db).call(this,e),e.event){case"thread.created":break;case"thread.run.created":case"thread.run.queued":case"thread.run.in_progress":case"thread.run.requires_action":case"thread.run.completed":case"thread.run.incomplete":case"thread.run.failed":case"thread.run.cancelling":case"thread.run.cancelled":case"thread.run.expired":$(this,Mt,"m",Lb).call(this,e);break;case"thread.run.step.created":case"thread.run.step.in_progress":case"thread.run.step.delta":case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":$(this,Mt,"m",Ib).call(this,e);break;case"thread.message.created":case"thread.message.in_progress":case"thread.message.delta":case"thread.message.completed":case"thread.message.incomplete":$(this,Mt,"m",Nb).call(this,e);break;case"error":throw new Error("Encountered an error event in event processing - errors should be processed earlier")}},fl=function(){if(this.ended)throw new ve("stream has ended, this shouldn't happen");if(!$(this,dr,"f"))throw Error("Final run has not been received");return $(this,dr,"f")},Nb=function(e){const[n,i]=$(this,Mt,"m",Ub).call(this,e,$(this,Vn,"f"));Te(this,Vn,n),$(this,Wc,"f")[n.id]=n;for(const s of i){const a=n.content[s.index];a?.type=="text"&&this._emit("textCreated",a.text)}switch(e.event){case"thread.message.created":this._emit("messageCreated",e.data);break;case"thread.message.in_progress":break;case"thread.message.delta":if(this._emit("messageDelta",e.data.delta,n),e.data.delta.content)for(const s of e.data.delta.content){if(s.type=="text"&&s.text){let a=s.text,u=n.content[s.index];if(u&&u.type=="text")this._emit("textDelta",a,u.text);else throw Error("The snapshot associated with this text delta is not text or missing")}if(s.index!=$(this,Is,"f")){if($(this,cr,"f"))switch($(this,cr,"f").type){case"text":this._emit("textDone",$(this,cr,"f").text,$(this,Vn,"f"));break;case"image_file":this._emit("imageFileDone",$(this,cr,"f").image_file,$(this,Vn,"f"));break}Te(this,Is,s.index)}Te(this,cr,n.content[s.index])}break;case"thread.message.completed":case"thread.message.incomplete":if($(this,Is,"f")!==void 0){const s=e.data.content[$(this,Is,"f")];if(s)switch(s.type){case"image_file":this._emit("imageFileDone",s.image_file,$(this,Vn,"f"));break;case"text":this._emit("textDone",s.text,$(this,Vn,"f"));break}}$(this,Vn,"f")&&this._emit("messageDone",e.data),Te(this,Vn,void 0)}},Ib=function(e){const n=$(this,Mt,"m",Ob).call(this,e);switch(Te(this,yl,n),e.event){case"thread.run.step.created":this._emit("runStepCreated",e.data);break;case"thread.run.step.delta":const i=e.data.delta;if(i.step_details&&i.step_details.type=="tool_calls"&&i.step_details.tool_calls&&n.step_details.type=="tool_calls")for(const a of i.step_details.tool_calls)a.index==$(this,Rf,"f")?this._emit("toolCallDelta",a,n.step_details.tool_calls[a.index]):($(this,un,"f")&&this._emit("toolCallDone",$(this,un,"f")),Te(this,Rf,a.index),Te(this,un,n.step_details.tool_calls[a.index]),$(this,un,"f")&&this._emit("toolCallCreated",$(this,un,"f")));this._emit("runStepDelta",e.data.delta,n);break;case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":Te(this,yl,void 0),e.data.step_details.type=="tool_calls"&&$(this,un,"f")&&(this._emit("toolCallDone",$(this,un,"f")),Te(this,un,void 0)),this._emit("runStepDone",e.data,n);break}},Db=function(e){$(this,og,"f").push(e),this._emit("event",e)},Ob=function(e){switch(e.event){case"thread.run.step.created":return $(this,si,"f")[e.data.id]=e.data,e.data;case"thread.run.step.delta":let n=$(this,si,"f")[e.data.id];if(!n)throw Error("Received a RunStepDelta before creation of a snapshot");let i=e.data;if(i.delta){const s=fr.accumulateDelta(n,i.delta);$(this,si,"f")[e.data.id]=s}return $(this,si,"f")[e.data.id];case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":case"thread.run.step.in_progress":$(this,si,"f")[e.data.id]=e.data;break}if($(this,si,"f")[e.data.id])return $(this,si,"f")[e.data.id];throw new Error("No snapshot available")},Ub=function(e,n){let i=[];switch(e.event){case"thread.message.created":return[e.data,i];case"thread.message.delta":if(!n)throw Error("Received a delta with no existing snapshot (there should be one from message creation)");let s=e.data;if(s.delta.content)for(const a of s.delta.content)if(a.index in n.content){let u=n.content[a.index];n.content[a.index]=$(this,Mt,"m",Pb).call(this,a,u)}else n.content[a.index]=a,i.push(a);return[n,i];case"thread.message.in_progress":case"thread.message.completed":case"thread.message.incomplete":if(n)return[n,i];throw Error("Received thread message event with no existing snapshot")}throw Error("Tried to accumulate a non-message event")},Pb=function(e,n){return fr.accumulateDelta(n,e)},Lb=function(e){switch(Te(this,Zc,e.data),e.event){case"thread.run.created":break;case"thread.run.queued":break;case"thread.run.in_progress":break;case"thread.run.requires_action":case"thread.run.cancelled":case"thread.run.failed":case"thread.run.completed":case"thread.run.expired":case"thread.run.incomplete":Te(this,dr,e.data),$(this,un,"f")&&(this._emit("toolCallDone",$(this,un,"f")),Te(this,un,void 0));break}};let lv=class extends pe{constructor(){super(...arguments),this.steps=new SR(this._client)}create(e,n,i){const{include:s,...a}=n;return this._client.post(ee`/threads/${e}/runs`,{query:{include:s},body:a,...i,headers:ce([{"OpenAI-Beta":"assistants=v2"},i?.headers]),stream:n.stream??!1})}retrieve(e,n,i){const{thread_id:s}=n;return this._client.get(ee`/threads/${s}/runs/${e}`,{...i,headers:ce([{"OpenAI-Beta":"assistants=v2"},i?.headers])})}update(e,n,i){const{thread_id:s,...a}=n;return this._client.post(ee`/threads/${s}/runs/${e}`,{body:a,...i,headers:ce([{"OpenAI-Beta":"assistants=v2"},i?.headers])})}list(e,n={},i){return this._client.getAPIList(ee`/threads/${e}/runs`,dt,{query:n,...i,headers:ce([{"OpenAI-Beta":"assistants=v2"},i?.headers])})}cancel(e,n,i){const{thread_id:s}=n;return this._client.post(ee`/threads/${s}/runs/${e}/cancel`,{...i,headers:ce([{"OpenAI-Beta":"assistants=v2"},i?.headers])})}async createAndPoll(e,n,i){const s=await this.create(e,n,i);return await this.poll(s.id,{thread_id:e},i)}createAndStream(e,n,i){return _l.createAssistantStream(e,this._client.beta.threads.runs,n,i)}async poll(e,n,i){const s=ce([i?.headers,{"X-Stainless-Poll-Helper":"true","X-Stainless-Custom-Poll-Interval":i?.pollIntervalMs?.toString()??void 0}]);for(;;){const{data:a,response:u}=await this.retrieve(e,n,{...i,headers:{...i?.headers,...s}}).withResponse();switch(a.status){case"queued":case"in_progress":case"cancelling":let f=5e3;if(i?.pollIntervalMs)f=i.pollIntervalMs;else{const p=u.headers.get("openai-poll-after-ms");if(p){const h=parseInt(p);isNaN(h)||(f=h)}}await Yl(f);break;case"requires_action":case"incomplete":case"cancelled":case"completed":case"failed":case"expired":return a}}}stream(e,n,i){return _l.createAssistantStream(e,this._client.beta.threads.runs,n,i)}submitToolOutputs(e,n,i){const{thread_id:s,...a}=n;return this._client.post(ee`/threads/${s}/runs/${e}/submit_tool_outputs`,{body:a,...i,headers:ce([{"OpenAI-Beta":"assistants=v2"},i?.headers]),stream:n.stream??!1})}async submitToolOutputsAndPoll(e,n,i){const s=await this.submitToolOutputs(e,n,i);return await this.poll(s.id,n,i)}submitToolOutputsStream(e,n,i){return _l.createToolAssistantStream(e,this._client.beta.threads.runs,n,i)}};lv.Steps=SR;class id extends pe{constructor(){super(...arguments),this.runs=new lv(this._client),this.messages=new _R(this._client)}create(e={},n){return this._client.post("/threads",{body:e,...n,headers:ce([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}retrieve(e,n){return this._client.get(ee`/threads/${e}`,{...n,headers:ce([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}update(e,n,i){return this._client.post(ee`/threads/${e}`,{body:n,...i,headers:ce([{"OpenAI-Beta":"assistants=v2"},i?.headers])})}delete(e,n){return this._client.delete(ee`/threads/${e}`,{...n,headers:ce([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}createAndRun(e,n){return this._client.post("/threads/runs",{body:e,...n,headers:ce([{"OpenAI-Beta":"assistants=v2"},n?.headers]),stream:e.stream??!1})}async createAndRunPoll(e,n){const i=await this.createAndRun(e,n);return await this.runs.poll(i.id,{thread_id:i.thread_id},n)}createAndRunStream(e,n){return _l.createThreadAssistantStream(e,this._client.beta.threads,n)}}id.Runs=lv;id.Messages=_R;class Ws extends pe{constructor(){super(...arguments),this.realtime=new td(this._client),this.chatkit=new nd(this._client),this.assistants=new pR(this._client),this.threads=new id(this._client)}}Ws.Realtime=td;Ws.ChatKit=nd;Ws.Assistants=pR;Ws.Threads=id;class ER extends pe{create(e,n){return this._client.post("/completions",{body:e,...n,stream:e.stream??!1})}}class TR extends pe{retrieve(e,n,i){const{container_id:s}=n;return this._client.get(ee`/containers/${s}/files/${e}/content`,{...i,headers:ce([{Accept:"application/binary"},i?.headers]),__binaryResponse:!0})}}let uv=class extends pe{constructor(){super(...arguments),this.content=new TR(this._client)}create(e,n,i){return this._client.post(ee`/containers/${e}/files`,Cr({body:n,...i},this._client))}retrieve(e,n,i){const{container_id:s}=n;return this._client.get(ee`/containers/${s}/files/${e}`,i)}list(e,n={},i){return this._client.getAPIList(ee`/containers/${e}/files`,dt,{query:n,...i})}delete(e,n,i){const{container_id:s}=n;return this._client.delete(ee`/containers/${s}/files/${e}`,{...i,headers:ce([{Accept:"*/*"},i?.headers])})}};uv.Content=TR;class cv extends pe{constructor(){super(...arguments),this.files=new uv(this._client)}create(e,n){return this._client.post("/containers",{body:e,...n})}retrieve(e,n){return this._client.get(ee`/containers/${e}`,n)}list(e={},n){return this._client.getAPIList("/containers",dt,{query:e,...n})}delete(e,n){return this._client.delete(ee`/containers/${e}`,{...n,headers:ce([{Accept:"*/*"},n?.headers])})}}cv.Files=uv;class bR extends pe{create(e,n,i){const{include:s,...a}=n;return this._client.post(ee`/conversations/${e}/items`,{query:{include:s},body:a,...i})}retrieve(e,n,i){const{conversation_id:s,...a}=n;return this._client.get(ee`/conversations/${s}/items/${e}`,{query:a,...i})}list(e,n={},i){return this._client.getAPIList(ee`/conversations/${e}/items`,Ef,{query:n,...i})}delete(e,n,i){const{conversation_id:s}=n;return this._client.delete(ee`/conversations/${s}/items/${e}`,i)}}class fv extends pe{constructor(){super(...arguments),this.items=new bR(this._client)}create(e={},n){return this._client.post("/conversations",{body:e,...n})}retrieve(e,n){return this._client.get(ee`/conversations/${e}`,n)}update(e,n,i){return this._client.post(ee`/conversations/${e}`,{body:n,...i})}delete(e,n){return this._client.delete(ee`/conversations/${e}`,n)}}fv.Items=bR;class CR extends pe{create(e,n){const i=!!e.encoding_format;let s=i?e.encoding_format:"base64";i&&Rt(this._client).debug("embeddings/user defined encoding_format:",e.encoding_format);const a=this._client.post("/embeddings",{body:{...e,encoding_format:s},...n});return i?a:(Rt(this._client).debug("embeddings/decoding base64 embeddings from base64"),a._thenUnwrap(u=>(u&&u.data&&u.data.forEach(f=>{const p=f.embedding;f.embedding=yq(p)}),u)))}}class AR extends pe{retrieve(e,n,i){const{eval_id:s,run_id:a}=n;return this._client.get(ee`/evals/${s}/runs/${a}/output_items/${e}`,i)}list(e,n,i){const{eval_id:s,...a}=n;return this._client.getAPIList(ee`/evals/${s}/runs/${e}/output_items`,dt,{query:a,...i})}}class dv extends pe{constructor(){super(...arguments),this.outputItems=new AR(this._client)}create(e,n,i){return this._client.post(ee`/evals/${e}/runs`,{body:n,...i})}retrieve(e,n,i){const{eval_id:s}=n;return this._client.get(ee`/evals/${s}/runs/${e}`,i)}list(e,n={},i){return this._client.getAPIList(ee`/evals/${e}/runs`,dt,{query:n,...i})}delete(e,n,i){const{eval_id:s}=n;return this._client.delete(ee`/evals/${s}/runs/${e}`,i)}cancel(e,n,i){const{eval_id:s}=n;return this._client.post(ee`/evals/${s}/runs/${e}`,i)}}dv.OutputItems=AR;class hv extends pe{constructor(){super(...arguments),this.runs=new dv(this._client)}create(e,n){return this._client.post("/evals",{body:e,...n})}retrieve(e,n){return this._client.get(ee`/evals/${e}`,n)}update(e,n,i){return this._client.post(ee`/evals/${e}`,{body:n,...i})}list(e={},n){return this._client.getAPIList("/evals",dt,{query:e,...n})}delete(e,n){return this._client.delete(ee`/evals/${e}`,n)}}hv.Runs=dv;let wR=class extends pe{create(e,n){return this._client.post("/files",Cr({body:e,...n},this._client))}retrieve(e,n){return this._client.get(ee`/files/${e}`,n)}list(e={},n){return this._client.getAPIList("/files",dt,{query:e,...n})}delete(e,n){return this._client.delete(ee`/files/${e}`,n)}content(e,n){return this._client.get(ee`/files/${e}/content`,{...n,headers:ce([{Accept:"application/binary"},n?.headers]),__binaryResponse:!0})}async waitForProcessing(e,{pollInterval:n=5e3,maxWait:i=1800*1e3}={}){const s=new Set(["processed","error","deleted"]),a=Date.now();let u=await this.retrieve(e);for(;!u.status||!s.has(u.status);)if(await Yl(n),u=await this.retrieve(e),Date.now()-a>i)throw new Zg({message:`Giving up on waiting for file ${e} to finish processing after ${i} milliseconds.`});return u}};class xR extends pe{}let RR=class extends pe{run(e,n){return this._client.post("/fine_tuning/alpha/graders/run",{body:e,...n})}validate(e,n){return this._client.post("/fine_tuning/alpha/graders/validate",{body:e,...n})}};class pv extends pe{constructor(){super(...arguments),this.graders=new RR(this._client)}}pv.Graders=RR;class MR extends pe{create(e,n,i){return this._client.getAPIList(ee`/fine_tuning/checkpoints/${e}/permissions`,ed,{body:n,method:"post",...i})}retrieve(e,n={},i){return this._client.get(ee`/fine_tuning/checkpoints/${e}/permissions`,{query:n,...i})}delete(e,n,i){const{fine_tuned_model_checkpoint:s}=n;return this._client.delete(ee`/fine_tuning/checkpoints/${s}/permissions/${e}`,i)}}let mv=class extends pe{constructor(){super(...arguments),this.permissions=new MR(this._client)}};mv.Permissions=MR;class NR extends pe{list(e,n={},i){return this._client.getAPIList(ee`/fine_tuning/jobs/${e}/checkpoints`,dt,{query:n,...i})}}class gv extends pe{constructor(){super(...arguments),this.checkpoints=new NR(this._client)}create(e,n){return this._client.post("/fine_tuning/jobs",{body:e,...n})}retrieve(e,n){return this._client.get(ee`/fine_tuning/jobs/${e}`,n)}list(e={},n){return this._client.getAPIList("/fine_tuning/jobs",dt,{query:e,...n})}cancel(e,n){return this._client.post(ee`/fine_tuning/jobs/${e}/cancel`,n)}listEvents(e,n={},i){return this._client.getAPIList(ee`/fine_tuning/jobs/${e}/events`,dt,{query:n,...i})}pause(e,n){return this._client.post(ee`/fine_tuning/jobs/${e}/pause`,n)}resume(e,n){return this._client.post(ee`/fine_tuning/jobs/${e}/resume`,n)}}gv.Checkpoints=NR;class Qs extends pe{constructor(){super(...arguments),this.methods=new xR(this._client),this.jobs=new gv(this._client),this.checkpoints=new mv(this._client),this.alpha=new pv(this._client)}}Qs.Methods=xR;Qs.Jobs=gv;Qs.Checkpoints=mv;Qs.Alpha=pv;class IR extends pe{}class vv extends pe{constructor(){super(...arguments),this.graderModels=new IR(this._client)}}vv.GraderModels=IR;class DR extends pe{createVariation(e,n){return this._client.post("/images/variations",Cr({body:e,...n},this._client))}edit(e,n){return this._client.post("/images/edits",Cr({body:e,...n,stream:e.stream??!1},this._client))}generate(e,n){return this._client.post("/images/generations",{body:e,...n,stream:e.stream??!1})}}class OR extends pe{retrieve(e,n){return this._client.get(ee`/models/${e}`,n)}list(e){return this._client.getAPIList("/models",ed,e)}delete(e,n){return this._client.delete(ee`/models/${e}`,n)}}class UR extends pe{create(e,n){return this._client.post("/moderations",{body:e,...n})}}class PR extends pe{accept(e,n,i){return this._client.post(ee`/realtime/calls/${e}/accept`,{body:n,...i,headers:ce([{Accept:"*/*"},i?.headers])})}hangup(e,n){return this._client.post(ee`/realtime/calls/${e}/hangup`,{...n,headers:ce([{Accept:"*/*"},n?.headers])})}refer(e,n,i){return this._client.post(ee`/realtime/calls/${e}/refer`,{body:n,...i,headers:ce([{Accept:"*/*"},i?.headers])})}reject(e,n={},i){return this._client.post(ee`/realtime/calls/${e}/reject`,{body:n,...i,headers:ce([{Accept:"*/*"},i?.headers])})}}class LR extends pe{create(e,n){return this._client.post("/realtime/client_secrets",{body:e,...n})}}class od extends pe{constructor(){super(...arguments),this.clientSecrets=new LR(this._client),this.calls=new PR(this._client)}}od.ClientSecrets=LR;od.Calls=PR;function Sq(t,e){return!e||!Tq(e)?{...t,output_parsed:null,output:t.output.map(n=>n.type==="function_call"?{...n,parsed_arguments:null}:n.type==="message"?{...n,content:n.content.map(i=>({...i,parsed:null}))}:n)}:kR(t,e)}function kR(t,e){const n=t.output.map(s=>{if(s.type==="function_call")return{...s,parsed_arguments:Aq(e,s)};if(s.type==="message"){const a=s.content.map(u=>u.type==="output_text"?{...u,parsed:Eq(e,u.text)}:u);return{...s,content:a}}return s}),i=Object.assign({},t,{output:n});return Object.getOwnPropertyDescriptor(t,"output_text")||rg(i),Object.defineProperty(i,"output_parsed",{enumerable:!0,get(){for(const s of i.output)if(s.type==="message"){for(const a of s.content)if(a.type==="output_text"&&a.parsed!==null)return a.parsed}return null}}),i}function Eq(t,e){return t.text?.format?.type!=="json_schema"?null:"$parseRaw"in t.text?.format?(t.text?.format).$parseRaw(e):JSON.parse(e)}function Tq(t){return!!nv(t.text?.format)}function bq(t){return t?.$brand==="auto-parseable-tool"}function Cq(t,e){return t.find(n=>n.type==="function"&&n.name===e)}function Aq(t,e){const n=Cq(t.tools??[],e.name);return{...e,...e,parsed_arguments:bq(n)?n.$parseRaw(e.arguments):n?.strict?JSON.parse(e.arguments):null}}function rg(t){const e=[];for(const n of t.output)if(n.type==="message")for(const i of n.content)i.type==="output_text"&&e.push(i.text);t.output_text=e.join("")}var Ss,Pc,xo,Lc,kb,Bb,Hb,Gb;class yv extends ov{constructor(e){super(),Ss.add(this),Pc.set(this,void 0),xo.set(this,void 0),Lc.set(this,void 0),Te(this,Pc,e)}static createResponse(e,n,i){const s=new yv(n);return s._run(()=>s._createOrRetrieveResponse(e,n,{...i,headers:{...i?.headers,"X-Stainless-Helper-Method":"stream"}})),s}async _createOrRetrieveResponse(e,n,i){const s=i?.signal;s&&(s.aborted&&this.controller.abort(),s.addEventListener("abort",()=>this.controller.abort())),$(this,Ss,"m",kb).call(this);let a,u=null;"response_id"in n?(a=await e.responses.retrieve(n.response_id,{stream:!0},{...i,signal:this.controller.signal,stream:!0}),u=n.starting_after??null):a=await e.responses.create({...n,stream:!0},{...i,signal:this.controller.signal}),this._connected();for await(const f of a)$(this,Ss,"m",Bb).call(this,f,u);if(a.controller.signal?.aborted)throw new Mn;return $(this,Ss,"m",Hb).call(this)}[(Pc=new WeakMap,xo=new WeakMap,Lc=new WeakMap,Ss=new WeakSet,kb=function(){this.ended||Te(this,xo,void 0)},Bb=function(n,i){if(this.ended)return;const s=(u,f)=>{(i==null||f.sequence_number>i)&&this._emit(u,f)},a=$(this,Ss,"m",Gb).call(this,n);switch(s("event",n),n.type){case"response.output_text.delta":{const u=a.output[n.output_index];if(!u)throw new ve(`missing output at index ${n.output_index}`);if(u.type==="message"){const f=u.content[n.content_index];if(!f)throw new ve(`missing content at index ${n.content_index}`);if(f.type!=="output_text")throw new ve(`expected content to be 'output_text', got ${f.type}`);s("response.output_text.delta",{...n,snapshot:f.text})}break}case"response.function_call_arguments.delta":{const u=a.output[n.output_index];if(!u)throw new ve(`missing output at index ${n.output_index}`);u.type==="function_call"&&s("response.function_call_arguments.delta",{...n,snapshot:u.arguments});break}default:s(n.type,n);break}},Hb=function(){if(this.ended)throw new ve("stream has ended, this shouldn't happen");const n=$(this,xo,"f");if(!n)throw new ve("request ended without sending any events");Te(this,xo,void 0);const i=wq(n,$(this,Pc,"f"));return Te(this,Lc,i),i},Gb=function(n){let i=$(this,xo,"f");if(!i){if(n.type!=="response.created")throw new ve(`When snapshot hasn't been set yet, expected 'response.created' event, got ${n.type}`);return i=Te(this,xo,n.response),i}switch(n.type){case"response.output_item.added":{i.output.push(n.item);break}case"response.content_part.added":{const s=i.output[n.output_index];if(!s)throw new ve(`missing output at index ${n.output_index}`);const a=s.type,u=n.part;a==="message"&&u.type!=="reasoning_text"?s.content.push(u):a==="reasoning"&&u.type==="reasoning_text"&&(s.content||(s.content=[]),s.content.push(u));break}case"response.output_text.delta":{const s=i.output[n.output_index];if(!s)throw new ve(`missing output at index ${n.output_index}`);if(s.type==="message"){const a=s.content[n.content_index];if(!a)throw new ve(`missing content at index ${n.content_index}`);if(a.type!=="output_text")throw new ve(`expected content to be 'output_text', got ${a.type}`);a.text+=n.delta}break}case"response.function_call_arguments.delta":{const s=i.output[n.output_index];if(!s)throw new ve(`missing output at index ${n.output_index}`);s.type==="function_call"&&(s.arguments+=n.delta);break}case"response.reasoning_text.delta":{const s=i.output[n.output_index];if(!s)throw new ve(`missing output at index ${n.output_index}`);if(s.type==="reasoning"){const a=s.content?.[n.content_index];if(!a)throw new ve(`missing content at index ${n.content_index}`);if(a.type!=="reasoning_text")throw new ve(`expected content to be 'reasoning_text', got ${a.type}`);a.text+=n.delta}break}case"response.completed":{Te(this,xo,n.response);break}}return i},Symbol.asyncIterator)](){const e=[],n=[];let i=!1;return this.on("event",s=>{const a=n.shift();a?a.resolve(s):e.push(s)}),this.on("end",()=>{i=!0;for(const s of n)s.resolve(void 0);n.length=0}),this.on("abort",s=>{i=!0;for(const a of n)a.reject(s);n.length=0}),this.on("error",s=>{i=!0;for(const a of n)a.reject(s);n.length=0}),{next:async()=>e.length?{value:e.shift(),done:!1}:i?{value:void 0,done:!0}:new Promise((a,u)=>n.push({resolve:a,reject:u})).then(a=>a?{value:a,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}async finalResponse(){await this.done();const e=$(this,Lc,"f");if(!e)throw new ve("stream ended without producing a ChatCompletion");return e}}function wq(t,e){return Sq(t,e)}class BR extends pe{list(e,n={},i){return this._client.getAPIList(ee`/responses/${e}/input_items`,dt,{query:n,...i})}}class HR extends pe{count(e={},n){return this._client.post("/responses/input_tokens",{body:e,...n})}}class rd extends pe{constructor(){super(...arguments),this.inputItems=new BR(this._client),this.inputTokens=new HR(this._client)}create(e,n){return this._client.post("/responses",{body:e,...n,stream:e.stream??!1})._thenUnwrap(i=>("object"in i&&i.object==="response"&&rg(i),i))}retrieve(e,n={},i){return this._client.get(ee`/responses/${e}`,{query:n,...i,stream:n?.stream??!1})._thenUnwrap(s=>("object"in s&&s.object==="response"&&rg(s),s))}delete(e,n){return this._client.delete(ee`/responses/${e}`,{...n,headers:ce([{Accept:"*/*"},n?.headers])})}parse(e,n){return this._client.responses.create(e,n)._thenUnwrap(i=>kR(i,e))}stream(e,n){return yv.createResponse(this._client,e,n)}cancel(e,n){return this._client.post(ee`/responses/${e}/cancel`,n)}compact(e={},n){return this._client.post("/responses/compact",{body:e,...n})}}rd.InputItems=BR;rd.InputTokens=HR;class GR extends pe{create(e,n,i){return this._client.post(ee`/uploads/${e}/parts`,Cr({body:n,...i},this._client))}}class _v extends pe{constructor(){super(...arguments),this.parts=new GR(this._client)}create(e,n){return this._client.post("/uploads",{body:e,...n})}cancel(e,n){return this._client.post(ee`/uploads/${e}/cancel`,n)}complete(e,n,i){return this._client.post(ee`/uploads/${e}/complete`,{body:n,...i})}}_v.Parts=GR;const xq=async t=>{const e=await Promise.allSettled(t),n=e.filter(s=>s.status==="rejected");if(n.length){for(const s of n)console.error(s.reason);throw new Error(`${n.length} promise(s) failed - see the above errors`)}const i=[];for(const s of e)s.status==="fulfilled"&&i.push(s.value);return i};class VR extends pe{create(e,n,i){return this._client.post(ee`/vector_stores/${e}/file_batches`,{body:n,...i,headers:ce([{"OpenAI-Beta":"assistants=v2"},i?.headers])})}retrieve(e,n,i){const{vector_store_id:s}=n;return this._client.get(ee`/vector_stores/${s}/file_batches/${e}`,{...i,headers:ce([{"OpenAI-Beta":"assistants=v2"},i?.headers])})}cancel(e,n,i){const{vector_store_id:s}=n;return this._client.post(ee`/vector_stores/${s}/file_batches/${e}/cancel`,{...i,headers:ce([{"OpenAI-Beta":"assistants=v2"},i?.headers])})}async createAndPoll(e,n,i){const s=await this.create(e,n);return await this.poll(e,s.id,i)}listFiles(e,n,i){const{vector_store_id:s,...a}=n;return this._client.getAPIList(ee`/vector_stores/${s}/file_batches/${e}/files`,dt,{query:a,...i,headers:ce([{"OpenAI-Beta":"assistants=v2"},i?.headers])})}async poll(e,n,i){const s=ce([i?.headers,{"X-Stainless-Poll-Helper":"true","X-Stainless-Custom-Poll-Interval":i?.pollIntervalMs?.toString()??void 0}]);for(;;){const{data:a,response:u}=await this.retrieve(n,{vector_store_id:e},{...i,headers:s}).withResponse();switch(a.status){case"in_progress":let f=5e3;if(i?.pollIntervalMs)f=i.pollIntervalMs;else{const p=u.headers.get("openai-poll-after-ms");if(p){const h=parseInt(p);isNaN(h)||(f=h)}}await Yl(f);break;case"failed":case"cancelled":case"completed":return a}}}async uploadAndPoll(e,{files:n,fileIds:i=[]},s){if(n==null||n.length==0)throw new Error("No `files` provided to process. If you've already uploaded files you should use `.createAndPoll()` instead");const a=s?.maxConcurrency??5,u=Math.min(a,n.length),f=this._client,p=n.values(),h=[...i];async function v(S){for(let T of S){const b=await f.files.create({file:T,purpose:"assistants"},s);h.push(b.id)}}const _=Array(u).fill(p).map(v);return await xq(_),await this.createAndPoll(e,{file_ids:h})}}class $R extends pe{create(e,n,i){return this._client.post(ee`/vector_stores/${e}/files`,{body:n,...i,headers:ce([{"OpenAI-Beta":"assistants=v2"},i?.headers])})}retrieve(e,n,i){const{vector_store_id:s}=n;return this._client.get(ee`/vector_stores/${s}/files/${e}`,{...i,headers:ce([{"OpenAI-Beta":"assistants=v2"},i?.headers])})}update(e,n,i){const{vector_store_id:s,...a}=n;return this._client.post(ee`/vector_stores/${s}/files/${e}`,{body:a,...i,headers:ce([{"OpenAI-Beta":"assistants=v2"},i?.headers])})}list(e,n={},i){return this._client.getAPIList(ee`/vector_stores/${e}/files`,dt,{query:n,...i,headers:ce([{"OpenAI-Beta":"assistants=v2"},i?.headers])})}delete(e,n,i){const{vector_store_id:s}=n;return this._client.delete(ee`/vector_stores/${s}/files/${e}`,{...i,headers:ce([{"OpenAI-Beta":"assistants=v2"},i?.headers])})}async createAndPoll(e,n,i){const s=await this.create(e,n,i);return await this.poll(e,s.id,i)}async poll(e,n,i){const s=ce([i?.headers,{"X-Stainless-Poll-Helper":"true","X-Stainless-Custom-Poll-Interval":i?.pollIntervalMs?.toString()??void 0}]);for(;;){const a=await this.retrieve(n,{vector_store_id:e},{...i,headers:s}).withResponse(),u=a.data;switch(u.status){case"in_progress":let f=5e3;if(i?.pollIntervalMs)f=i.pollIntervalMs;else{const p=a.response.headers.get("openai-poll-after-ms");if(p){const h=parseInt(p);isNaN(h)||(f=h)}}await Yl(f);break;case"failed":case"completed":return u}}}async upload(e,n,i){const s=await this._client.files.create({file:n,purpose:"assistants"},i);return this.create(e,{file_id:s.id},i)}async uploadAndPoll(e,n,i){const s=await this.upload(e,n,i);return await this.poll(e,s.id,i)}content(e,n,i){const{vector_store_id:s}=n;return this._client.getAPIList(ee`/vector_stores/${s}/files/${e}/content`,ed,{...i,headers:ce([{"OpenAI-Beta":"assistants=v2"},i?.headers])})}}class sd extends pe{constructor(){super(...arguments),this.files=new $R(this._client),this.fileBatches=new VR(this._client)}create(e,n){return this._client.post("/vector_stores",{body:e,...n,headers:ce([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}retrieve(e,n){return this._client.get(ee`/vector_stores/${e}`,{...n,headers:ce([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}update(e,n,i){return this._client.post(ee`/vector_stores/${e}`,{body:n,...i,headers:ce([{"OpenAI-Beta":"assistants=v2"},i?.headers])})}list(e={},n){return this._client.getAPIList("/vector_stores",dt,{query:e,...n,headers:ce([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}delete(e,n){return this._client.delete(ee`/vector_stores/${e}`,{...n,headers:ce([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}search(e,n,i){return this._client.getAPIList(ee`/vector_stores/${e}/search`,ed,{body:n,method:"post",...i,headers:ce([{"OpenAI-Beta":"assistants=v2"},i?.headers])})}}sd.Files=$R;sd.FileBatches=VR;class qR extends pe{create(e,n){return this._client.post("/videos",Ab({body:e,...n},this._client))}retrieve(e,n){return this._client.get(ee`/videos/${e}`,n)}list(e={},n){return this._client.getAPIList("/videos",Ef,{query:e,...n})}delete(e,n){return this._client.delete(ee`/videos/${e}`,n)}downloadContent(e,n={},i){return this._client.get(ee`/videos/${e}/content`,{query:n,...i,headers:ce([{Accept:"application/binary"},i?.headers]),__binaryResponse:!0})}remix(e,n,i){return this._client.post(ee`/videos/${e}/remix`,Ab({body:n,...i},this._client))}}var As,zR,jc;class FR extends pe{constructor(){super(...arguments),As.add(this)}async unwrap(e,n,i=this._client.webhookSecret,s=300){return await this.verifySignature(e,n,i,s),JSON.parse(e)}async verifySignature(e,n,i=this._client.webhookSecret,s=300){if(typeof crypto>"u"||typeof crypto.subtle.importKey!="function"||typeof crypto.subtle.verify!="function")throw new Error("Webhook signature verification is only supported when the `crypto` global is defined");$(this,As,"m",zR).call(this,i);const a=ce([n]).values,u=$(this,As,"m",jc).call(this,a,"webhook-signature"),f=$(this,As,"m",jc).call(this,a,"webhook-timestamp"),p=$(this,As,"m",jc).call(this,a,"webhook-id"),h=parseInt(f,10);if(isNaN(h))throw new il("Invalid webhook timestamp format");const v=Math.floor(Date.now()/1e3);if(v-h>s)throw new il("Webhook timestamp is too old");if(h>v+s)throw new il("Webhook timestamp is too new");const _=u.split(" ").map(A=>A.startsWith("v1,")?A.substring(3):A),S=i.startsWith("whsec_")?Buffer.from(i.replace("whsec_",""),"base64"):Buffer.from(i,"utf-8"),T=p?`${p}.${f}.${e}`:`${f}.${e}`,b=await crypto.subtle.importKey("raw",S,{name:"HMAC",hash:"SHA-256"},!1,["verify"]);for(const A of _)try{const x=Buffer.from(A,"base64");if(await crypto.subtle.verify("HMAC",b,x,new TextEncoder().encode(T)))return}catch{continue}throw new il("The given webhook signature does not match the expected signature")}}As=new WeakSet,zR=function(e){if(typeof e!="string"||e.length===0)throw new Error("The webhook secret must either be set using the env var, OPENAI_WEBHOOK_SECRET, on the client class, OpenAI({ webhookSecret: '123' }), or passed to this function")},jc=function(e,n){if(!e)throw new Error("Headers are required");const i=e.get(n);if(i==null)throw new Error(`Missing required header: ${n}`);return i};var sg,Sv,ef,JR;class Me{constructor({baseURL:e=_s("OPENAI_BASE_URL"),apiKey:n=_s("OPENAI_API_KEY"),organization:i=_s("OPENAI_ORG_ID")??null,project:s=_s("OPENAI_PROJECT_ID")??null,webhookSecret:a=_s("OPENAI_WEBHOOK_SECRET")??null,...u}={}){if(sg.add(this),ef.set(this,void 0),this.completions=new ER(this),this.chat=new av(this),this.embeddings=new CR(this),this.files=new wR(this),this.images=new DR(this),this.audio=new Xl(this),this.moderations=new UR(this),this.models=new OR(this),this.fineTuning=new Qs(this),this.graders=new vv(this),this.vectorStores=new sd(this),this.webhooks=new FR(this),this.beta=new Ws(this),this.batches=new hR(this),this.uploads=new _v(this),this.responses=new rd(this),this.realtime=new od(this),this.conversations=new fv(this),this.evals=new hv(this),this.containers=new cv(this),this.videos=new qR(this),n===void 0)throw new ve("Missing credentials. Please pass an `apiKey`, or set the `OPENAI_API_KEY` environment variable.");const f={apiKey:n,organization:i,project:s,webhookSecret:a,...u,baseURL:e||"https://api.openai.com/v1"};if(!f.dangerouslyAllowBrowser&&R$())throw new ve(`It looks like you're running in a browser-like environment.

This is disabled by default, as it risks exposing your secret API credentials to attackers.
If you understand the risks and have appropriate mitigations in place,
you can set the \`dangerouslyAllowBrowser\` option to \`true\`, e.g.,

new OpenAI({ apiKey, dangerouslyAllowBrowser: true });

https://help.openai.com/en/articles/5112595-best-practices-for-api-key-safety
`);this.baseURL=f.baseURL,this.timeout=f.timeout??Sv.DEFAULT_TIMEOUT,this.logger=f.logger??console;const p="warn";this.logLevel=p,this.logLevel=bb(f.logLevel,"ClientOptions.logLevel",this)??bb(_s("OPENAI_LOG"),"process.env['OPENAI_LOG']",this)??p,this.fetchOptions=f.fetchOptions,this.maxRetries=f.maxRetries??2,this.fetch=f.fetch??O$(),Te(this,ef,P$),this._options=f,this.apiKey=typeof n=="string"?n:"Missing Key",this.organization=i,this.project=s,this.webhookSecret=a}withOptions(e){return new this.constructor({...this._options,baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,organization:this.organization,project:this.project,webhookSecret:this.webhookSecret,...e})}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:e,nulls:n}){}async authHeaders(e){return ce([{Authorization:`Bearer ${this.apiKey}`}])}stringifyQuery(e){return V$(e,{arrayFormat:"brackets"})}getUserAgent(){return`${this.constructor.name}/JS ${bs}`}defaultIdempotencyKey(){return`stainless-node-retry-${mx()}`}makeStatusError(e,n,i,s){return Nt.generate(e,n,i,s)}async _callApiKey(){const e=this._options.apiKey;if(typeof e!="function")return!1;let n;try{n=await e()}catch(i){throw i instanceof ve?i:new ve(`Failed to get token from 'apiKey' function: ${i.message}`,{cause:i})}if(typeof n!="string"||!n)throw new ve(`Expected 'apiKey' function argument to return a string but it returned ${n}`);return this.apiKey=n,!0}buildURL(e,n,i){const s=!$(this,sg,"m",JR).call(this)&&i||this.baseURL,a=b$(e)?new URL(e):new URL(s+(s.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),u=this.defaultQuery();return C$(u)||(n={...u,...n}),typeof n=="object"&&n&&!Array.isArray(n)&&(a.search=this.stringifyQuery(n)),a.toString()}async prepareOptions(e){await this._callApiKey()}async prepareRequest(e,{url:n,options:i}){}get(e,n){return this.methodRequest("get",e,n)}post(e,n){return this.methodRequest("post",e,n)}patch(e,n){return this.methodRequest("patch",e,n)}put(e,n){return this.methodRequest("put",e,n)}delete(e,n){return this.methodRequest("delete",e,n)}methodRequest(e,n,i){return this.request(Promise.resolve(i).then(s=>({method:e,path:n,...s})))}request(e,n=null){return new jf(this,this.makeRequest(e,n,void 0))}async makeRequest(e,n,i){const s=await e,a=s.maxRetries??this.maxRetries;n==null&&(n=a),await this.prepareOptions(s);const{req:u,url:f,timeout:p}=await this.buildRequest(s,{retryCount:a-n});await this.prepareRequest(u,{url:f,options:s});const h="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),v=i===void 0?"":`, retryOf: ${i}`,_=Date.now();if(Rt(this).debug(`[${h}] sending request`,ur({retryOfRequestLogID:i,method:s.method,url:f,options:s,headers:u.headers})),s.signal?.aborted)throw new Mn;const S=new AbortController,T=await this.fetchWithTimeout(f,u,p,S).catch(Km),b=Date.now();if(T instanceof globalThis.Error){const I=`retrying, ${n} attempts remaining`;if(s.signal?.aborted)throw new Mn;const D=Ym(T)||/timed? ?out/i.test(String(T)+("cause"in T?String(T.cause):""));if(n)return Rt(this).info(`[${h}] connection ${D?"timed out":"failed"} - ${I}`),Rt(this).debug(`[${h}] connection ${D?"timed out":"failed"} (${I})`,ur({retryOfRequestLogID:i,url:f,durationMs:b-_,message:T.message})),this.retryRequest(s,n,i??h);throw Rt(this).info(`[${h}] connection ${D?"timed out":"failed"} - error; no more retries left`),Rt(this).debug(`[${h}] connection ${D?"timed out":"failed"} (error; no more retries left)`,ur({retryOfRequestLogID:i,url:f,durationMs:b-_,message:T.message})),D?new Zg:new Qf({cause:T})}const A=[...T.headers.entries()].filter(([I])=>I==="x-request-id").map(([I,D])=>", "+I+": "+JSON.stringify(D)).join(""),x=`[${h}${v}${A}] ${u.method} ${f} ${T.ok?"succeeded":"failed"} with status ${T.status} in ${b-_}ms`;if(!T.ok){const I=await this.shouldRetry(T);if(n&&I){const B=`retrying, ${n} attempts remaining`;return await U$(T.body),Rt(this).info(`${x} - ${B}`),Rt(this).debug(`[${h}] response error (${B})`,ur({retryOfRequestLogID:i,url:T.url,status:T.status,headers:T.headers,durationMs:b-_})),this.retryRequest(s,n,i??h,T.headers)}const D=I?"error; no more retries left":"error; not retryable";Rt(this).info(`${x} - ${D}`);const N=await T.text().catch(B=>Km(B).message),P=x$(N),z=P?void 0:N;throw Rt(this).debug(`[${h}] response error (${D})`,ur({retryOfRequestLogID:i,url:T.url,status:T.status,headers:T.headers,message:z,durationMs:Date.now()-_})),this.makeStatusError(T.status,P,z,T.headers)}return Rt(this).info(x),Rt(this).debug(`[${h}] response start`,ur({retryOfRequestLogID:i,url:T.url,status:T.status,headers:T.headers,durationMs:b-_})),{response:T,options:s,controller:S,requestLogID:h,retryOfRequestLogID:i,startTime:_}}getAPIList(e,n,i){return this.requestAPIList(n,{method:"get",path:e,...i})}requestAPIList(e,n){const i=this.makeRequest(n,null,void 0);return new W$(this,i,e)}async fetchWithTimeout(e,n,i,s){const{signal:a,method:u,...f}=n||{};a&&a.addEventListener("abort",()=>s.abort());const p=setTimeout(()=>s.abort(),i),h=globalThis.ReadableStream&&f.body instanceof globalThis.ReadableStream||typeof f.body=="object"&&f.body!==null&&Symbol.asyncIterator in f.body,v={signal:s.signal,...h?{duplex:"half"}:{},method:"GET",...f};u&&(v.method=u.toUpperCase());try{return await this.fetch.call(void 0,e,v)}finally{clearTimeout(p)}}async shouldRetry(e){const n=e.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,n,i,s){let a;const u=s?.get("retry-after-ms");if(u){const p=parseFloat(u);Number.isNaN(p)||(a=p)}const f=s?.get("retry-after");if(f&&!a){const p=parseFloat(f);Number.isNaN(p)?a=Date.parse(f)-Date.now():a=p*1e3}if(!(a&&0<=a&&a<60*1e3)){const p=e.maxRetries??this.maxRetries;a=this.calculateDefaultRetryTimeoutMillis(n,p)}return await Yl(a),this.makeRequest(e,n-1,i)}calculateDefaultRetryTimeoutMillis(e,n){const a=n-e,u=Math.min(.5*Math.pow(2,a),8),f=1-Math.random()*.25;return u*f*1e3}async buildRequest(e,{retryCount:n=0}={}){const i={...e},{method:s,path:a,query:u,defaultBaseURL:f}=i,p=this.buildURL(a,u,f);"timeout"in i&&w$("timeout",i.timeout),i.timeout=i.timeout??this.timeout;const{bodyHeaders:h,body:v}=this.buildBody({options:i}),_=await this.buildHeaders({options:e,method:s,bodyHeaders:h,retryCount:n});return{req:{method:s,headers:_,...i.signal&&{signal:i.signal},...globalThis.ReadableStream&&v instanceof globalThis.ReadableStream&&{duplex:"half"},...v&&{body:v},...this.fetchOptions??{},...i.fetchOptions??{}},url:p,timeout:i.timeout}}async buildHeaders({options:e,method:n,bodyHeaders:i,retryCount:s}){let a={};this.idempotencyHeader&&n!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),a[this.idempotencyHeader]=e.idempotencyKey);const u=ce([a,{Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(s),...e.timeout?{"X-Stainless-Timeout":String(Math.trunc(e.timeout/1e3))}:{},...D$(),"OpenAI-Organization":this.organization,"OpenAI-Project":this.project},await this.authHeaders(e),this._options.defaultHeaders,i,e.headers]);return this.validateHeaders(u),u.values}buildBody({options:{body:e,headers:n}}){if(!e)return{bodyHeaders:void 0,body:void 0};const i=ce([n]);return ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof DataView||typeof e=="string"&&i.values.has("content-type")||globalThis.Blob&&e instanceof globalThis.Blob||e instanceof FormData||e instanceof URLSearchParams||globalThis.ReadableStream&&e instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:e}:typeof e=="object"&&(Symbol.asyncIterator in e||Symbol.iterator in e&&"next"in e&&typeof e.next=="function")?{bodyHeaders:void 0,body:Rx(e)}:$(this,ef,"f").call(this,{body:e,headers:i})}}Sv=Me,ef=new WeakMap,sg=new WeakSet,JR=function(){return this.baseURL!=="https://api.openai.com/v1"};Me.OpenAI=Sv;Me.DEFAULT_TIMEOUT=6e5;Me.OpenAIError=ve;Me.APIError=Nt;Me.APIConnectionError=Qf;Me.APIConnectionTimeoutError=Zg;Me.APIUserAbortError=Mn;Me.NotFoundError=_x;Me.ConflictError=Sx;Me.RateLimitError=Tx;Me.BadRequestError=gx;Me.AuthenticationError=vx;Me.InternalServerError=bx;Me.PermissionDeniedError=yx;Me.UnprocessableEntityError=Ex;Me.InvalidWebhookSignatureError=il;Me.toFile=tq;Me.Completions=ER;Me.Chat=av;Me.Embeddings=CR;Me.Files=wR;Me.Images=DR;Me.Audio=Xl;Me.Moderations=UR;Me.Models=OR;Me.FineTuning=Qs;Me.Graders=vv;Me.VectorStores=sd;Me.Webhooks=FR;Me.Beta=Ws;Me.Batches=hR;Me.Uploads=_v;Me.Responses=rd;Me.Realtime=od;Me.Conversations=fv;Me.Evals=hv;Me.Containers=cv;Me.Videos=qR;class Vb extends Error{}const Rq=["gpt-4o-mini","gpt-5.1","gpt-5-mini","gpt-5-nano","gpt-5"];class Mf{static getApiKey=null;static setApiKey=null;static getClient(){const e=this.getApiKey?.()||"";if(!e)throw new Vb("No OpenAI API key set");return new Me({apiKey:e,dangerouslyAllowBrowser:!0})}static async txt2txt(e,n,i="gpt-4o-mini",s){try{const a=this.getClient(),u=[];n&&u.push({role:"system",content:n}),e&&u.push({role:"user",content:[{type:"input_text",text:e}]}),s&&console.log(s);const f={model:i,input:u};console.log("GPT Payload:",f);const h=(await a.responses.create(f)).output_text;return console.log("GPT Response TEXT:",{text:h}),h}catch(a){if(console.error("ChatGPT Error:",a),(a?.message||"").includes("Incorrect API key provided")||a instanceof Vb){const f=window.prompt("Your OpenAI API key is missing or invalid. Please enter a valid key:");return f?this.setApiKey?.(f):console.warn("User did not provide a valid API key."),null}throw a}}}class Mq{rootHandle=null;project=null;data={};constructor(e=null,n=null){this.rootHandle=e,this.project=n,ko(this)}async load(){if(this.rootHandle)try{const e={};for await(const n of this.rootHandle.values()){if(n.kind!=="directory")continue;const i=n.name,s=n,a={};for await(const u of s.values()){if(u.kind!=="directory")continue;const f=u.name,p=u,h=[];for await(const v of p.values()){if(v.kind!=="file"||!v.name.match(/\.(png|jpg|jpeg|webp|gif)$/i))continue;const _=v,S=`${i}/${f}/${_.name}`;h.push(new Nq(_,p,S,this))}a[f]=h}e[i]=a}nt(()=>{this.data=e})}catch(e){console.error("Error loading artbook:",e),nt(()=>{this.data={}})}}getTag(e){if(!e)return null;const n=e.split("/");if(n.length<3)return null;const[i,s,a]=n,u=this.data[i];if(!u)return null;const f=u[s];return f&&f.find(h=>h.handle.name===a)||null}log(){console.log(kl(this))}getJson(){const e={};for(const[n,i]of Object.entries(this.data)){e[n]={};for(const[s,a]of Object.entries(i))e[n][s]=a.map(u=>u.handle.name)}return e}}class Nq{handle;folder;image;artInfo=null;path;artbook;constructor(e,n,i,s=null){this.handle=e,this.folder=n,this.image=new br(e,this.folder),this.path=i,this.artbook=s,ko(this)}async getArtInfo(){if(this.artInfo)return this.artInfo;try{const e=await Tr.create(this.folder,this.handle.name+".json");nt(()=>{this.artInfo=e})}catch(e){console.warn("Unable to load art info for:",this.handle.name,e)}return this.artInfo}}class $b{folder;sceneJson=null;shots=[];project=null;is_generating_shotsjson=!1;is_generating_tags=!1;constructor(e,n=null){this.folder=e,this.project=n,ko(this)}async load(){try{this.sceneJson=await Tr.create(this.folder,"sceneinfo.json",{tags:[],shotsjson:"",script:""}),this.shots=[];for await(const e of this.folder.values())if(e.kind==="directory"){const n=new db(e,this);await n.load(),this.shots.push(n)}}catch(e){console.error("Error loading scene:",e),this.sceneJson=null,this.shots=[]}}removeTag(e){this.sceneJson?.data?.tags&&(this.sceneJson.data.tags=this.sceneJson.data.tags.filter(n=>n!==e),this.sceneJson.save())}async delete(){if(!this.project?.rootDirHandle){console.error("Cannot delete scene: project root not set");return}try{await(await this.project.rootDirHandle.getDirectoryHandle("SCENES")).removeEntry(this.folder.name,{recursive:!0}),nt(()=>{this.project&&(this.project.scenes=this.project.scenes.filter(n=>n!==this))})}catch(e){console.error("Failed to delete scene:",e)}}async createShot(e){if(!this.folder)return console.error("No scene folder available"),null;const n=this.shots.find(i=>i.folder.name===e);if(n)return n;try{const i=await this.folder.getDirectoryHandle(e,{create:!0}),s=new db(i,this);return await s.load(),nt(()=>{const a=this.shots.findIndex(u=>u.folder.name.localeCompare(e)>0);a===-1?this.shots.push(s):this.shots.splice(a,0,s)}),s}catch(i){return console.error("Failed to create shot:",i),null}}get finishedShotsNum(){return this.shots.filter(e=>e.shotJson?.data?.finished).length}async generateShotsJson(){if(!this.sceneJson?.data?.script)return null;nt(()=>{this.is_generating_shotsjson=!0});const e=this.sceneJson.data.script,n=`
${this.project?.projinfo?.data?.split_shot_prompt}

SCRIPT:
${e}
`,i="You are a helpful assistant. Always respond using ONLY valid JSON. Do not write explanations. Do not wrap the JSON in backticks. The entire response must be a valid JSON object.";try{return await Mf.txt2txt(n,i,this.project?.projinfo?.data.gpt_model)}catch(s){return console.error("Error generating shots JSON:",s),null}finally{nt(()=>{this.is_generating_shotsjson=!1})}}async createShotsFromShotsJson(){if(!this.sceneJson?.data?.shotsjson){console.warn("No shots JSON found in scene.");return}let e;try{e=JSON.parse(this.sceneJson.data.shotsjson)}catch(n){console.error("Invalid shots JSON:",n),alert("Error: The shots JSON is invalid. Please check the format.");return}for(const n of Object.keys(e)){const i=e[n];if(!i||typeof i!="object"){console.warn(`Skipping invalid shot data for key: ${n}`);continue}try{const s=await this.createShot(n);if(!s){console.error(`Failed to create shot ${n}`);continue}s.shotJson&&(Object.assign(s.shotJson.data,i),await s.shotJson.save())}catch(s){console.error(`Error creating shot ${n}:`,s)}}}log(){console.log(kl(this))}getTags(){if(!this.sceneJson?.data?.tags||!this.project?.artbook)return[];const e=[];for(const n of this.sceneJson.data.tags){const i=this.project.artbook.getTag(n);i&&e.push(i)}return e}get tags(){return this.getTags()}async generateTags(){nt(()=>{this.is_generating_tags=!0});const e=`
${this.project?.projinfo?.data?.generate_tags_prompt}

SCRIPT:
${this.sceneJson?.data.script}

SHOTS JSON:
${this.sceneJson?.data.shotsjson}

REFS DICTIONARY:
${JSON.stringify(this.project?.artbook?.getJson(),null,2)}

`,n="You are a helpful assistant. Do not write explanations. ";try{const i=await Mf.txt2txt(e,n,this.project?.projinfo?.data.gpt_model);for(const s of i?.split(`
`)||[]){const a=s.trim();a&&(console.log("Adding Tag: ",a),this.addTag(a))}return i}catch(i){return console.error("Error generating tags:",i),null}finally{nt(()=>{this.is_generating_tags=!1})}}addTag(e){nt(()=>{this.sceneJson?.data.tags.includes(e)||(this.project?.artbook?.getTag(e)?(this.sceneJson?.data.tags.push(e),this.sceneJson?.save()):console.log("Tag not found: ",e))})}}const ag=(t,e)=>e.some(n=>t instanceof n);let qb,zb;function Iq(){return qb||(qb=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Dq(){return zb||(zb=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const lg=new WeakMap,am=new WeakMap,ad=new WeakMap;function Oq(t){const e=new Promise((n,i)=>{const s=()=>{t.removeEventListener("success",a),t.removeEventListener("error",u)},a=()=>{n(pr(t.result)),s()},u=()=>{i(t.error),s()};t.addEventListener("success",a),t.addEventListener("error",u)});return ad.set(e,t),e}function Uq(t){if(lg.has(t))return;const e=new Promise((n,i)=>{const s=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",u),t.removeEventListener("abort",u)},a=()=>{n(),s()},u=()=>{i(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",a),t.addEventListener("error",u),t.addEventListener("abort",u)});lg.set(t,e)}let ug={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return lg.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return pr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function YR(t){ug=t(ug)}function Pq(t){return Dq().includes(t)?function(...e){return t.apply(cg(this),e),pr(this.request)}:function(...e){return pr(t.apply(cg(this),e))}}function Lq(t){return typeof t=="function"?Pq(t):(t instanceof IDBTransaction&&Uq(t),ag(t,Iq())?new Proxy(t,ug):t)}function pr(t){if(t instanceof IDBRequest)return Oq(t);if(am.has(t))return am.get(t);const e=Lq(t);return e!==t&&(am.set(t,e),ad.set(e,t)),e}const cg=t=>ad.get(t);function kq(t,e,{blocked:n,upgrade:i,blocking:s,terminated:a}={}){const u=indexedDB.open(t,e),f=pr(u);return i&&u.addEventListener("upgradeneeded",p=>{i(pr(u.result),p.oldVersion,p.newVersion,pr(u.transaction),p)}),n&&u.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),f.then(p=>{a&&p.addEventListener("close",()=>a()),s&&p.addEventListener("versionchange",h=>s(h.oldVersion,h.newVersion,h))}).catch(()=>{}),f}const Bq=["get","getKey","getAll","getAllKeys","count"],Hq=["put","add","delete","clear"],lm=new Map;function Fb(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(lm.get(e))return lm.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,s=Hq.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(s||Bq.includes(n)))return;const a=async function(u,...f){const p=this.transaction(u,s?"readwrite":"readonly");let h=p.store;return i&&(h=h.index(f.shift())),(await Promise.all([h[n](...f),s&&p.done]))[0]};return lm.set(e,a),a}YR(t=>({...t,get:(e,n,i)=>Fb(e,n)||t.get(e,n,i),has:(e,n)=>!!Fb(e,n)||t.has(e,n)}));const Gq=["continue","continuePrimaryKey","advance"],Jb={},fg=new WeakMap,KR=new WeakMap,Vq={get(t,e){if(!Gq.includes(e))return t[e];let n=Jb[e];return n||(n=Jb[e]=function(...i){fg.set(this,KR.get(this)[e](...i))}),n}};async function*$q(...t){let e=this;if(e instanceof IDBCursor||(e=await e.openCursor(...t)),!e)return;e=e;const n=new Proxy(e,Vq);for(KR.set(n,e),ad.set(n,cg(e));e;)yield n,e=await(fg.get(n)||e.continue()),fg.delete(n)}function Yb(t,e){return e===Symbol.asyncIterator&&ag(t,[IDBIndex,IDBObjectStore,IDBCursor])||e==="iterate"&&ag(t,[IDBIndex,IDBObjectStore])}YR(t=>({...t,get(e,n,i){return Yb(e,n)?$q:t.get(e,n,i)},has(e,n){return Yb(e,n)||t.has(e,n)}}));const qq="ShotMasterRE",kc="settings";class zq{db=null;data={id:"settings",lastOpenedFolder:null,recentFolders:[],api_keys:{}};constructor(){ko(this.data)}async getDB(){return this.db?this.db:(this.db=await kq(qq,1,{upgrade(e){e.objectStoreNames.contains(kc)||e.createObjectStore(kc,{keyPath:"id"})}}),this.db)}async load(){const n=await(await this.getDB()).get(kc,"settings");return n&&nt(()=>{Object.assign(this.data,n)}),this.data}async save(){const e=await this.getDB(),n=kl(this.data);await e.put(kc,n)}async update(e){nt(()=>e(this.data)),await this.save()}}class Fq{fileHandle;text="";scenes=new Map;project=null;constructor(e,n=null){this.fileHandle=e,this.project=n,ko(this,{},{autoBind:!0})}async load(){const e=await this.fileHandle.getFile();this.text=(await e.text()).replace(/\r\n/g,`
`),this.splitIntoScenes()}async save(){const e=await this.fileHandle.createWritable();await e.write(this.text),await e.close()}setText(e){this.text=e,this.splitIntoScenes()}splitIntoScenes(){this.scenes.clear();const e=/^SC_[^\n]{1,32}$/gm,n=[...this.text.matchAll(e)];if(n.length===0){this.scenes.set("",this.text);return}for(let i=0;i<n.length;i++){const s=n[i][0],a=n[i].index;if(i===0&&a>0){const p=this.text.slice(0,a);this.scenes.set("",p)}const u=i+1<n.length?n[i+1].index:this.text.length,f=this.text.slice(a,u);this.scenes.set(s,f)}}get sortedSceneKeys(){return Array.from(this.scenes.keys()).sort((e,n)=>e.localeCompare(n))}joinScenes(){let e="";for(const n of this.sortedSceneKeys)e+=this.scenes.get(n);return e}setSceneText(e,n){this.scenes.set(e,n),this.text=this.joinScenes(),this.splitIntoScenes()}async createScenes(){if(!this.project){console.error("Script has no project reference");return}for(const e of this.sortedSceneKeys){if(e==="")continue;const n=this.scenes.get(e)??"";try{const i=await this.project.createScene(e);if(!i){console.error(`Failed to create scene ${e}`);continue}i.sceneJson&&(i.sceneJson.data.script=n,await i.sceneJson.save())}catch(i){console.error(`Error creating scene ${e}:`,i)}}}}const Jq={gpt_model:"gpt-4o-mini",describe_prompt:"        . ",generate_tags_prompt:`
     (SCRIPT)     (SHOTS JSON)        REFS DICTIONARY     .

     ,        ,      :
  ENV/ROOM1/Night.png
  CHAR/VICTOR/Portrait.png


  `,split_shot_prompt:`
       ,            json,     json   :
{
  "SHOT_010" : 
    {
    "prompt" : "     ", 
    "camera" : "focal length, shot type", 
    "action_description" : "     ", 
    },

}`};class Yq{rootDirHandle=null;scenes=[];artbook=null;script=null;userSettingsDB=new zq;projinfo=null;currentView={type:"none"};selectedScene=null;constructor(e=null){this.rootDirHandle=e,ko(this)}async loadFromFolder(e){e&&(this.rootDirHandle=e,nt(async()=>{this.userSettingsDB.data.lastOpenedFolder=e,(await Promise.all(this.userSettingsDB.data.recentFolders.map(async i=>{try{return await i.isSameEntry(e)}catch{return!1}}))).includes(!0)||(this.userSettingsDB.data.recentFolders.push(e),this.userSettingsDB.data.recentFolders=this.userSettingsDB.data.recentFolders.slice(-5)),await this.userSettingsDB.save(),this.projinfo=await Tr.create(this.rootDirHandle,"projinfo.json",Jq)}),await Promise.all([this.loadScenes(),this.loadArtbook(),this.loadScript()]))}async loadScenes(){if(this.rootDirHandle)try{const e=await this.rootDirHandle.getDirectoryHandle("SCENES",{create:!0}),n=[];for await(const i of e.values())if(i.kind==="directory"){const s=new $b(i,this);await s.load(),n.push(s)}nt(()=>{this.scenes=n})}catch(e){console.error("Error loading scenes:",e),nt(()=>{this.scenes=[]})}}async loadArtbook(){if(this.rootDirHandle)try{const e=await this.rootDirHandle.getDirectoryHandle("REFS",{create:!0}),n=new Mq(e,this);await n.load(),nt(()=>{this.artbook=n})}catch(e){console.error("Error loading artbook:",e),nt(()=>{this.artbook=null})}}async loadScript(){if(this.rootDirHandle)try{const e=await this.rootDirHandle.getFileHandle("script.txt",{create:!0}),n=new Fq(e,this);await n.load(),nt(()=>{this.script=n})}catch(e){console.error("Error loading script:",e),nt(()=>{this.script=null})}}async loadDB(){await this.userSettingsDB.load(),Ps.getApiKey=()=>this.userSettingsDB.data.api_keys.Google_API_KEY||null,Ps.setApiKey=async e=>{await this.userSettingsDB.update(n=>{n.api_keys.Google_API_KEY=e})},Mf.getApiKey=()=>this.userSettingsDB.data.api_keys.GPT_API_KEY||null,Mf.setApiKey=async e=>{await this.userSettingsDB.update(n=>{n.api_keys.GPT_API_KEY=e})}}async createScene(e){if(!this.rootDirHandle)return console.error("No project folder open"),null;const n=this.scenes.find(i=>i.folder.name===e);if(n)return n;try{const s=await(await this.rootDirHandle.getDirectoryHandle("SCENES",{create:!0})).getDirectoryHandle(e,{create:!0}),a=new $b(s,this);return await a.load(),nt(()=>{const u=this.scenes.findIndex(f=>f.folder.name.localeCompare(a.folder.name)>0);u===-1?this.scenes.push(a):this.scenes.splice(u,0,a)}),a}catch(i){return console.error("Failed to create scene:",i),null}}log(){console.log(kl(this))}setView(e,n=null){this.currentView=e,this.selectedScene=n}}const Kq=({onOpenFolder:t,recentFolders:e,onOpenRecent:n,project:i})=>{const s=[{name:"Open",onClick:t},{name:"Recent",subItems:e.length?e.map(f=>({name:f.name,onClick:()=>n(f)})):[{name:"No Recent"}]}],a=[{name:"Undo"},{name:"Redo"}],u=[{name:"About"}];return w.jsx(DE,{expand:"lg",children:w.jsxs(yA,{fluid:!0,children:[w.jsx(DE.Brand,{children:"ShotMasterRT"}),w.jsxs(jP,{className:"me-auto",style:{userSelect:"none"},children:[w.jsx(vs,{title:"File",items:s}),w.jsx(vs,{title:"Edit",items:a}),w.jsx(vs,{title:"Help",items:u}),w.jsx(vs,{title:"Settings",onClick:()=>i.setView({type:"settings"})}),w.jsx(vs,{title:"Script",onClick:()=>i.setView({type:"script"})}),w.jsx(vs,{title:"Artbook",onClick:()=>i.setView({type:"artbook"})})]})]})})},Xq=Ht(({scene:t})=>{const e=()=>{!t||!t.sceneJson||t.project?.setView({type:"scene"},t)};return w.jsxs("li",{className:"d-flex justify-content-between align-items-center py-1 px-2",style:{cursor:"pointer"},onClick:e,children:[w.jsx("span",{children:t.folder.name}),w.jsxs("span",{className:"text-muted",children:[t.finishedShotsNum," / ",t.shots.length]})]})}),Ot=({onClick:t,label:e="Click",className:n=""})=>w.jsx("button",{className:`btn btn-sm btn-outline-secondary ${n}`,onClick:t,children:e}),Wq=Ht(({project:t})=>{if(!t)return w.jsx("div",{children:"No Project Opened"});const e=async()=>{const i=prompt("Enter new scene name");i&&await t.createScene(i)},n=t.rootDirHandle?.name||"No Project Opened";return w.jsxs("div",{style:{width:"200px",borderRight:"1px solid #ced4da",padding:"10px",display:"flex",flexDirection:"column"},children:[w.jsx("h5",{style:{flexShrink:0,marginBottom:8},children:n}),w.jsx(Ot,{label:"+ Add Scene",onClick:e,className:"mb-2"}),w.jsx("ul",{className:"list-unstyled",style:{margin:0,padding:0,overflowY:"auto",maxHeight:"calc(100vh - 100px)"},children:t.scenes.map((i,s)=>w.jsx(Xq,{scene:i},s))})]})});class Kb extends R.Component{constructor(e){super(e),this.state={value:e.value}}handleChange=e=>{const n=e.target.value;this.setState({value:n}),this.props.onChange(n)};render(){const{label:e}=this.props,{value:n}=this.state;return w.jsxs("div",{style:{display:"flex",alignItems:"center",marginBottom:12},children:[w.jsx("label",{style:{marginRight:8,minWidth:120},children:e}),w.jsx("input",{type:"text",value:n,onChange:this.handleChange,style:{flexGrow:1,padding:6}})]})}}const Ev=({label:t="Section",children:e,defaultCollapsed:n=!1,className:i="",headerExtra:s})=>{const[a,u]=R.useState(n);return w.jsxs("div",{className:`border rounded p-2 mb-2 ${i}`,children:[w.jsxs("div",{className:"d-flex align-items-center justify-content-between mb-2",children:[w.jsxs("div",{className:"d-flex align-items-center",children:[w.jsx("button",{className:"btn btn-sm btn-outline-secondary me-2",onClick:()=>u(!a),children:a?"":""}),w.jsx("strong",{children:t})]}),s&&!a&&w.jsx("div",{children:s})]}),!a&&w.jsx("div",{children:e})]})},dg=({label:t,initialText:e,onSave:n,onEdit:i,fitHeight:s=!1,headerExtra:a})=>{const[u,f]=R.useState(e),[p,h]=R.useState(e),[v,_]=R.useState(!1),[S,T]=R.useState(!1),b=R.useRef(null);R.useEffect(()=>{f(e),h(e),s&&b.current&&(b.current.style.height="auto",b.current.style.height=`${b.current.scrollHeight}px`)},[e,s]);const A=u!==p,x=N=>{f(N),i&&i(N)},I=async()=>{n&&(T(!0),await n(u),h(u),T(!1))};R.useEffect(()=>{if(!v||!A)return;const N=setTimeout(()=>I(),1e3);return()=>clearTimeout(N)},[u,v,A]),R.useEffect(()=>{s&&b.current&&(b.current.style.height="auto",b.current.style.height=`${b.current.scrollHeight}px`)},[u,s]);const D=w.jsxs("div",{className:"d-flex align-items-center gap-2",children:[a&&w.jsx(w.Fragment,{children:a}),w.jsx("button",{className:"btn btn-primary btn-sm",disabled:S||!A||!n,onClick:I,children:S?"Saving...":A?"Save*":"Save"}),w.jsxs("label",{className:"d-flex align-items-center gap-1 mb-0",children:[w.jsx("input",{type:"checkbox",checked:v,onChange:N=>_(N.target.checked)}),"Auto-save"]})]});return w.jsx(Ev,{label:t,headerExtra:D,children:w.jsx("textarea",{ref:b,className:"form-control",style:{fontFamily:"monospace",overflowY:"auto",maxHeight:"800px"},value:u,onChange:N=>x(N.target.value)})})},Oo=Ht(({localJson:t,field:e,fitHeight:n=!1,headerExtra:i})=>{const s=async a=>{await t.updateField(e,a)};return w.jsx(dg,{label:e,initialText:t.data[e]??"",onSave:s,fitHeight:n,headerExtra:i})}),xl=({tabs:t})=>{const e=Object.keys(t),[n,i]=R.useState(e[0]);return w.jsxs("div",{children:[w.jsx("ul",{className:"nav nav-tabs",children:e.map(s=>w.jsx("li",{className:"nav-item",children:w.jsx("button",{className:`nav-link ${n===s?"active":""}`,onClick:()=>i(s),children:s})},s))}),w.jsx("div",{className:"tab-content p-3 border border-top-0",children:w.jsx("div",{className:"tab-pane fade show active",children:t[n]})})]})};function Qq({items:t,currentItem:e,onPicked:n,labelRenderer:i,className:s=""}){return w.jsxs(Cc,{className:s,children:[w.jsx(Cc.Toggle,{variant:"outline-secondary",size:"sm",children:i?i(e):String(e)}),w.jsx(Cc.Menu,{children:t.map((a,u)=>w.jsx(Cc.Item,{onClick:()=>n(a),children:i?i(a):String(a)},u))})]})}const Zq=Ht(({project:t})=>{const{userSettingsDB:e}=t;if(!e)return null;const n=t.projinfo?{"  ":w.jsx(Oo,{localJson:t.projinfo,field:"split_shot_prompt",fitHeight:!0})," ":w.jsx(Oo,{localJson:t.projinfo,field:"generate_tags_prompt",fitHeight:!0})}:{};return w.jsxs("div",{style:{padding:20},children:[w.jsx("h3",{children:"API Keys"}),w.jsx(Ot,{onClick:()=>{t.log()},label:"LOG Project"}),w.jsx(Kb,{label:"GPT API Key",value:e.data.api_keys.GPT_API_KEY||"",onChange:async i=>{await e.update(s=>{s.api_keys.GPT_API_KEY=i})}}),w.jsx(Kb,{label:"Google API Key",value:e.data.api_keys.Google_API_KEY||"",onChange:async i=>{await e.update(s=>{s.api_keys.Google_API_KEY=i})}}),w.jsx("div",{children:w.jsx(Qq,{items:Rq,currentItem:t.projinfo?.data.gpt_model,onPicked:i=>{t.projinfo?.updateField("gpt_model",i)}})}),w.jsx("h2",{children:"Prompts"}),Object.keys(n).length>0&&w.jsx(xl,{tabs:n})]})}),jq=Ht(({project:t})=>{if(!t.script)return w.jsx("div",{children:"No script loaded in project."});const e=async s=>{t.script.setText(s),await t.script.save()},n={};for(const s of t.script.sortedSceneKeys)n[s||"Intro"]=w.jsx(dg,{label:s||"Intro",initialText:t.script.scenes.get(s),onSave:async a=>{t.script.setSceneText(s,a),await t.script.save()},fitHeight:!0});const i=async()=>{try{await t.script.createScenes(),alert("Scenes created successfully!")}catch(s){console.error("Error creating scenes:",s),alert("Failed to create scenes. See console for details.")}};return w.jsxs("div",{style:{padding:"1rem"},children:[w.jsx("h4",{children:"Script"}),w.jsx(Ot,{label:"Create Scenes from Script",onClick:i,className:"mb-2"}),w.jsx(xl,{tabs:{"Full Script":w.jsx(dg,{label:"Full Script",initialText:t.script.text,onSave:e,fitHeight:!0}),Scenes:w.jsx(xl,{tabs:n})}})]})}),ez=Ht(({art:t,onClose:e})=>{const[n,i]=R.useState(null),[s,a]=R.useState(!0);R.useEffect(()=>{let f=!0,p=t;a(!0),i(null);async function h(){const v=await p.image.getUrlObject();if(!f||t!==p)return;i(v);const _=await p.getArtInfo();!f||t!==p||(p.artInfo=_,a(!1))}return h(),()=>{f=!1}},[t]);const u=t.handle.name;return s?w.jsx("div",{children:"Loading art info..."}):w.jsxs("div",{className:"art-info-card",style:{border:"1px solid #ccc",padding:"1rem",borderRadius:"8px"},children:[w.jsxs("div",{className:"card-header",style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[w.jsx("strong",{children:u}),w.jsx("button",{onClick:e,style:{cursor:"pointer",border:"none",background:"transparent",fontSize:"1.2rem"},children:""})]}),n?w.jsx("img",{src:n,className:"preview-img",style:{maxWidth:"1000px",width:"auto",maxHeight:"1000px",objectFit:"contain",borderRadius:"4px",display:"block",marginBottom:"1rem"}}):w.jsx("div",{style:{padding:"4rem",textAlign:"center"},children:w.jsx("span",{children:"Loading image..."})}),t.artInfo&&w.jsx(Oo,{localJson:t.artInfo,field:"prompt",fitHeight:!0})]})}),tz=Ht(({artbook:t})=>{const[e,n]=R.useState(null);if(!Object.keys(t.data).length)return w.jsx("div",{children:"No Artbook content found."});const i=({art:f})=>{const[p,h]=R.useState(null);return R.useEffect(()=>{let v=!0;return f.image.getUrlObject().then(_=>{v&&h(_)}),()=>{v=!1}},[f]),w.jsx(vA,{xs:6,md:3,lg:2,style:{marginBottom:"1rem"},children:w.jsxs(Tc,{onClick:()=>n(f),style:{cursor:"pointer"},children:[p?w.jsx(Tc.Img,{variant:"top",src:p}):w.jsx("div",{style:{padding:"2rem",textAlign:"center"},children:w.jsx(yw,{animation:"border"})}),w.jsx(Tc.Body,{children:w.jsx(Tc.Text,{style:{fontSize:"0.8rem"},children:f.handle.name})})]})})},s=(f,p)=>w.jsxs("div",{style:{marginBottom:"2rem"},children:[w.jsx("h5",{children:f}),w.jsx(vw,{children:p.map(h=>w.jsx(i,{art:h},h.handle.name))}),e&&p.includes(e)&&w.jsx("div",{style:{marginTop:"1rem"},children:w.jsx(ez,{art:e,onClose:()=>n(null)})})]},f),a=f=>w.jsxs("div",{style:{padding:"1rem"},children:[Object.entries(f).map(([p,h])=>s(p,h)),w.jsx("div",{style:{height:"500px"}})]}),u={};for(const f in t.data)u[f]=a(t.data[f]);return w.jsxs("div",{style:{padding:"1rem"},children:[w.jsx("h2",{className:"mb-3",children:"Artbook"}),w.jsx(xl,{tabs:u})]})}),nz=Ht(({art:t,scene:e})=>{const[n,i]=R.useState(null);if(R.useEffect(()=>{t.getArtInfo();let a=!0;return(async()=>{const f=await t.image.getUrlObject();a&&i(f||null)})(),()=>{a=!1,t.image.revokeUrl()}},[t]),!n)return null;const s=()=>{e.removeTag(t.path)};return w.jsxs("div",{className:"d-flex align-items-center justify-content-between",children:[w.jsxs("div",{className:"d-flex align-items-center",children:[w.jsx("img",{src:n,alt:t.handle.name,style:{width:40,height:40,objectFit:"cover",marginRight:8}}),w.jsxs("div",{children:[w.jsx("div",{children:t.handle.name}),w.jsx("small",{className:"text-muted",children:t.path}),t.artInfo&&w.jsx("div",{children:w.jsx("small",{children:t.artInfo.data?.description||""})})]})]}),w.jsx(Ot,{onClick:s,label:"X"})]})}),um=({label:t,children:e,direction:n="down",className:i,style:s})=>{const[a,u]=R.useState(!1),f=()=>{switch(n){case"right":return{top:0,left:"calc(100% - 2px)"};case"left":return{top:0,right:"calc(100% - 2px)"};default:return{top:"100%",left:0}}};return w.jsxs("div",{className:`position-relative ${i||""}`,style:{margin:0,padding:0,...s},onMouseEnter:()=>u(!0),onMouseLeave:()=>u(!1),children:[w.jsx("div",{className:"px-2 py-1 hover-bg-light",style:{cursor:"pointer",whiteSpace:"nowrap",width:"100%"},children:t}),a&&w.jsx("div",{className:"border shadow",style:{position:"absolute",backgroundColor:"var(--bs-body-bg)",zIndex:20,minWidth:150,display:"flex",flexDirection:"column",padding:0,...f()},children:e})]})},iz=({art:t,onClick:e})=>{const[n,i]=R.useState("");return R.useEffect(()=>{let s=!0;return t.image.getUrlObject().then(a=>{s&&i(a)}),()=>{s=!1,t.image.revokeUrl()}},[t]),w.jsxs("div",{className:"px-2 py-1 hover-bg-light d-flex align-items-center",style:{cursor:"pointer",gap:6},onClick:e,children:[n&&w.jsx("img",{src:n,alt:t.handle.name,style:{width:36,height:36,objectFit:"cover",borderRadius:2}}),w.jsx("span",{children:t.handle.name})]})},ld=({onClick:t,label:e="Click",className:n="",is_loading:i=!1})=>w.jsx(Ot,{onClick:t,className:`${n} ${i?"disabled":""}`,label:w.jsxs("span",{className:"d-flex align-items-center justify-content-center",children:[w.jsx("span",{className:"spinner-border spinner-border-sm me-2",role:"status","aria-hidden":"true",style:{animation:i?void 0:"none",borderColor:i?void 0:"#6c757d"}}),w.jsx("span",{children:e})]})}),oz=Ht(({scene:t})=>{if(!t.sceneJson||!t.sceneJson.data)return null;const e=t.sceneJson.data.tags,n=t.project?.artbook,i=a=>{t.addTag(a)};if(!n)return null;const s=a=>Object.entries(a).map(([u,f])=>w.jsx(um,{label:u,direction:"left",children:Object.entries(f).map(([p,h])=>w.jsx(um,{label:p,direction:"left",children:h.map(v=>w.jsx(iz,{art:v,onClick:()=>i(v.path)},v.path))},p))},u));return w.jsx(Ev,{label:"Tags",headerExtra:w.jsxs("div",{className:"d-flex align-items-center gap-2",children:[w.jsx(um,{label:"+ Add Tag",direction:"down",children:s(n.data)}),w.jsx(ld,{onClick:()=>{t.generateTags()},className:"btn-outline-success",label:"Generate Tags",is_loading:t.is_generating_tags}),w.jsx(Ot,{onClick:()=>t.project?.artbook?.log(),label:"Log"})]}),children:e.length?w.jsx("ul",{className:"list-group list-group-flush",children:e.map((a,u)=>{const f=n.getTag(a);return f?w.jsx("li",{className:"list-group-item",children:w.jsx(nz,{art:f,scene:t})},u):null})}):w.jsx("div",{children:"No tags yet."})})}),rz=Ht(({scene:t})=>{if(!t.sceneJson)return w.jsx("div",{children:"No scene data available."});const e=async()=>{const s=await t.generateShotsJson();await t.sceneJson?.updateField("shotsjson",s)},n=async()=>{window.confirm(`Are you sure you want to delete scene "${t.folder.name}"?`)&&await t.delete()},i=async()=>{t.createShotsFromShotsJson()};return w.jsxs("div",{children:[w.jsxs("div",{style:{marginBottom:"10px"},children:[w.jsx(Ot,{onClick:n,label:"Delete Scene",className:"btn-outline-danger"}),w.jsx(Ot,{onClick:()=>t.log(),label:"LOG"})]}),w.jsx(Oo,{localJson:t.sceneJson,field:"script",fitHeight:!0,headerExtra:w.jsx(ld,{onClick:e,className:"btn-outline-success",label:"Split Into Shots GPT",is_loading:t.is_generating_shotsjson})}),w.jsx(Oo,{localJson:t.sceneJson,field:"shotsjson",fitHeight:!0,headerExtra:w.jsx(Ot,{onClick:i,label:"Create Shots"})}),w.jsx(oz,{scene:t})]})}),XR=({label:t,value:e,onToggle:n,useIndicator:i=!1})=>i?w.jsx("div",{onClick:()=>n(!e),style:{width:"16px",height:"16px",borderRadius:"50%",backgroundColor:e?"green":"transparent",border:"2px solid green",cursor:"pointer"}}):w.jsx("button",{className:`btn btn-sm ${e?"btn-success":"btn-outline-secondary"}`,onClick:()=>n(!e),children:t}),cm="https://cdn.pixabay.com/photo/2021/05/09/06/07/dog-6240043_1280.jpg",sz=Ht(({shot:t,isSelected:e,onClick:n})=>{const[i,s]=R.useState(cm);return R.useEffect(()=>{let a=!1;return(async()=>{if(t.srcImage)try{const f=await t.srcImage.getUrlObject();!a&&f&&s(f)}catch(f){console.error("Failed to load srcImage URL:",f),a||s(cm)}else s(cm)})(),()=>{a=!0}},[t.srcImage]),w.jsxs("div",{className:"flex-shrink-0 border rounded position-relative d-flex align-items-center justify-content-center",style:{height:"100%",cursor:"pointer",borderWidth:e?2:1,borderColor:e?"#0d6efd":"#dee2e6"},onClick:()=>n(t),children:[w.jsx("img",{src:i,alt:t.folder.name,className:"img-fluid",style:{height:"100%",width:"auto",objectFit:"contain",display:"block"}}),w.jsx("div",{className:"position-absolute text-white px-1",style:{bottom:0,left:0,backgroundColor:"rgba(0,0,0,0.5)",fontSize:"0.75rem",borderTopRightRadius:"4px"},children:t.folder.name}),w.jsx("div",{className:"position-absolute",style:{top:2,right:2},onClick:a=>a.stopPropagation(),children:w.jsx(XR,{label:"Finished",value:!!t.shotJson?.data?.finished,useIndicator:!0,onToggle:a=>{t.shotJson&&t.shotJson.updateField("finished",a)}})})]})}),az=({initialHeight:t=80,minHeight:e=30,children:n})=>{const[i,s]=R.useState(t),a=R.useRef(null),u=R.useRef(!1),f=_=>{u.current=!0,_.preventDefault()},p=_=>{if(!u.current||!a.current)return;const S=a.current.getBoundingClientRect(),T=_.clientY-S.top;T>e&&s(T)},h=()=>{u.current=!1};R.useEffect(()=>(window.addEventListener("mousemove",p),window.addEventListener("mouseup",h),()=>{window.removeEventListener("mousemove",p),window.removeEventListener("mouseup",h)}),[]);const v=6;return w.jsxs("div",{ref:a,className:"position-relative",style:{height:`${i}px`},children:[w.jsx("div",{style:{height:"100%",paddingBottom:`${v}px`,boxSizing:"border-box"},children:n}),w.jsx("div",{style:{position:"absolute",bottom:0,left:0,right:0,height:`${v}px`,cursor:"ns-resize",zIndex:10,backgroundColor:"#0d6efd",opacity:.5},onMouseDown:f})]})},lz=({label:t="Media Gallery",children:e,defaultCollapsed:n=!1,className:i="",headerExtra:s})=>w.jsx(Ev,{label:t,defaultCollapsed:n,className:i,headerExtra:s,children:w.jsx("div",{className:"d-flex flex-wrap gap-2",children:e})}),uz=({localImage:t,height:e=150,topRightExtra:n,onClick:i})=>{const[s,a]=R.useState(null),[u,f]=R.useState(!1);return R.useEffect(()=>{let p=!0;return(async()=>{try{const v=await t.getUrlObject();p&&v&&a(v)}catch(v){console.error("Error loading LocalImage",v)}})(),()=>{p=!1}},[t]),s?w.jsxs("div",{className:"position-relative d-inline-block border rounded",style:{height:`${e}px`,cursor:"pointer"},onMouseEnter:()=>f(!0),onMouseLeave:()=>f(!1),children:[w.jsx("img",{src:s,alt:"Media",className:"img-fluid",onClick:i,style:{height:`${e}px`,width:"auto",objectFit:"contain",display:"block"}}),n&&u&&w.jsx("div",{className:"position-absolute",style:{top:"5px",right:"5px",zIndex:10,display:"flex",gap:"5px"},children:n})]}):w.jsx("div",{className:"d-flex align-items-center justify-content-center border rounded p-2",style:{height:`${e}px`,width:"auto"},children:"Loading..."})};function tt(t,e="Assertion error"){if(!t)throw Error(e)}function hg(t,e){return e.sort(t==="horizontal"?cz:fz)}function cz(t,e){const n=t.element.offsetLeft-e.element.offsetLeft;return n!==0?n:t.element.offsetWidth-e.element.offsetWidth}function fz(t,e){const n=t.element.offsetTop-e.element.offsetTop;return n!==0?n:t.element.offsetHeight-e.element.offsetHeight}function ud({group:t}){const{orientation:e,panels:n}=t;return n.reduce((i,s)=>(i+=e==="horizontal"?s.element.offsetWidth:s.element.offsetHeight,i),0)}function WR(t){const{element:e,orientation:n,panels:i,separators:s}=t,a=hg(n,Array.from(e.children).filter(h=>h instanceof HTMLElement).map(h=>({element:h}))).map(({element:h})=>h),u=[];let f,p;for(const h of a){const v=i.find(_=>_.element===h);if(v){if(f){const _=f.element.getBoundingClientRect(),S=h.getBoundingClientRect();u.push({group:t,groupSize:ud({group:t}),panels:[f,v],separator:p,rect:n==="horizontal"?new DOMRect(_.right,S.top,S.left-_.right,S.height):new DOMRect(S.left,_.bottom,S.width,S.top-_.bottom)})}f=v,p=void 0}else{const _=s.find(S=>S.element===h);_?p=_:(f=void 0,p=void 0)}}return u}function dz(t,e){const n=getComputedStyle(t),i=parseFloat(n.fontSize);return e*i}function hz(t,e){const n=getComputedStyle(t.ownerDocument.body),i=parseFloat(n.fontSize);return e*i}function pz(t){return t/100*window.innerHeight}function mz(t){return t/100*window.innerWidth}function gz(t){switch(typeof t){case"number":return[t,"px"];case"string":{const e=parseFloat(t);return t.endsWith("%")?[e,"%"]:t.endsWith("px")?[e,"px"]:t.endsWith("rem")?[e,"rem"]:t.endsWith("em")?[e,"em"]:t.endsWith("vh")?[e,"vh"]:t.endsWith("vw")?[e,"vw"]:[e,"%"]}}}function Bc({groupSize:t,panelElement:e,styleProp:n}){let i;const[s,a]=gz(n);switch(a){case"%":{i=s/100*t;break}case"px":{i=s;break}case"rem":{i=hz(e,s);break}case"em":{i=dz(e,s);break}case"vh":{i=pz(s);break}case"vw":{i=mz(s);break}}return i}function zn(t){return parseFloat(t.toFixed(3))}function Xb(t){const{panels:e}=t,n=ud({group:t});return e.map(i=>{const{element:s,panelConstraints:a}=i;let u=0;if(a.collapsedSize){const v=Bc({groupSize:n,panelElement:s,styleProp:a.collapsedSize});u=zn(v/n*100)}let f;if(a.defaultSize){const v=Bc({groupSize:n,panelElement:s,styleProp:a.defaultSize});f=zn(v/n*100)}let p=0;if(a.minSize){const v=Bc({groupSize:n,panelElement:s,styleProp:a.minSize});p=zn(v/n*100)}let h=100;if(a.maxSize){const v=Bc({groupSize:n,panelElement:s,styleProp:a.maxSize});h=zn(v/n*100)}return{collapsedSize:u,collapsible:a.collapsible===!0,defaultSize:f,minSize:p,maxSize:h,panelId:i.id}})}class vz{#e={};addListener(e,n){const i=this.#e[e];return i===void 0?this.#e[e]=[n]:i.includes(n)||i.push(n),()=>{this.removeListener(e,n)}}emit(e,n){const i=this.#e[e];if(i!==void 0)if(i.length===1)i[0].call(null,n);else{let s=!1,a=null;const u=Array.from(i);for(let f=0;f<u.length;f++){const p=u[f];try{p.call(null,n)}catch(h){a===null&&(s=!0,a=h)}}if(s)throw a}}removeAllListeners(){this.#e={}}removeListener(e,n){const i=this.#e[e];if(i!==void 0){const s=i.indexOf(n);s>=0&&i.splice(s,1)}}}function Bt(t,e,n=0){return Math.abs(zn(t)-zn(e))<=n}let Cn={cursorFlags:0,interactionState:{state:"inactive"},mountedGroups:new Map};const mr=new vz;function pi(){return Cn}function In(t){const e=typeof t=="function"?t(Cn):t;if(Cn===e)return Cn;const n=Cn;return Cn={...Cn,...e},e.cursorFlags!==void 0&&mr.emit("cursorFlagsChange",Cn.cursorFlags),e.interactionState!==void 0&&mr.emit("interactionStateChange",Cn.interactionState),e.mountedGroups!==void 0&&(Cn.mountedGroups.forEach((i,s)=>{i.derivedPanelConstraints.forEach(a=>{if(a.collapsible){const{layout:u}=n.mountedGroups.get(s)??{};if(u){const f=Bt(a.collapsedSize,i.layout[a.panelId]),p=Bt(a.collapsedSize,u[a.panelId]);f&&!p&&(s.inMemoryLastExpandedPanelSizes[a.panelId]=u[a.panelId])}}})}),mr.emit("mountedGroupsChange",Cn.mountedGroups)),Cn}const yz=t=>t,fm=()=>{},QR=1,ZR=2,jR=4,eM=8,Wb={coarse:10,precise:5};function _z({cursorFlags:t,groups:e,state:n}){let i=0,s=0;switch(n){case"active":case"hover":e.forEach(a=>{if(!a.disableCursor)switch(a.orientation){case"horizontal":{i++;break}case"vertical":{s++;break}}})}if(i===0&&s===0)return null;switch(n){case"active":{const a=(t&QR)!==0,u=(t&ZR)!==0,f=(t&jR)!==0,p=(t&eM)!==0;if(t){if(a)return f?"se-resize":p?"ne-resize":"e-resize";if(u)return f?"sw-resize":p?"nw-resize":"w-resize";if(f)return"s-resize";if(p)return"n-resize"}break}}return i>0&&s>0?"move":i>0?"ew-resize":"ns-resize"}let dm,ri;function Tv(){ri===void 0&&(ri=new CSSStyleSheet,document.adoptedStyleSheets=[ri]);const{cursorFlags:t,interactionState:e}=pi();switch(e.state){case"active":case"hover":{const n=_z({cursorFlags:t,groups:e.hitRegions.map(s=>s.group),state:e.state}),i=`*{cursor: ${n} !important; ${e.state==="active"?"touch-action: none;":""} }`;if(dm===i)return;dm=i,n?ri.cssRules.length===0?ri.insertRule(i):ri.replaceSync(i):ri.cssRules.length===1&&ri.deleteRule(0);break}case"inactive":{dm=void 0,ri.cssRules.length===1&&ri.deleteRule(0);break}}}function Sz(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!=e[n])return!1;return!0}function Rl(t,e){return Bt(t,e)?0:t>e?1:-1}function Ds({panelConstraints:t,size:e}){const{collapsedSize:n=0,collapsible:i,maxSize:s=100,minSize:a=0}=t;if(Rl(e,a)<0)if(i){const u=(n+a)/2;Rl(e,u)<0?e=n:e=a}else e=a;return e=Math.min(s,e),e=zn(e),e}function Ml({delta:t,initialLayout:e,panelConstraints:n,pivotIndices:i,prevLayout:s,trigger:a}){if(Bt(t,0))return e;const u=Object.values(e),f=Object.values(s),p=[...u],[h,v]=i;tt(h!=null,"Invalid first pivot index"),tt(v!=null,"Invalid second pivot index");let _=0;if(a==="keyboard"){{const b=t<0?v:h,A=n[b];tt(A,`Panel constraints not found for index ${b}`);const{collapsedSize:x=0,collapsible:I,minSize:D=0}=A;if(I){const N=u[b];if(tt(N!=null,`Previous layout not found for panel index ${b}`),Bt(N,x)){const P=D-N;Rl(P,Math.abs(t))>0&&(t=t<0?0-P:P)}}}{const b=t<0?h:v,A=n[b];tt(A,`No panel constraints found for index ${b}`);const{collapsedSize:x=0,collapsible:I,minSize:D=0}=A;if(I){const N=u[b];if(tt(N!=null,`Previous layout not found for panel index ${b}`),Bt(N,D)){const P=N-x;Rl(P,Math.abs(t))>0&&(t=t<0?0-P:P)}}}}{const b=t<0?1:-1;let A=t<0?v:h,x=0;for(;;){const D=u[A];tt(D!=null,`Previous layout not found for panel index ${A}`);const N=Ds({panelConstraints:n[A],size:100})-D;if(x+=N,A+=b,A<0||A>=n.length)break}const I=Math.min(Math.abs(t),Math.abs(x));t=t<0?0-I:I}{let b=t<0?h:v;for(;b>=0&&b<n.length;){const A=Math.abs(t)-Math.abs(_),x=u[b];tt(x!=null,`Previous layout not found for panel index ${b}`);const I=x-A,D=Ds({panelConstraints:n[b],size:I});if(!Bt(x,D)&&(_+=x-D,p[b]=D,_.toFixed(3).localeCompare(Math.abs(t).toFixed(3),void 0,{numeric:!0})>=0))break;t<0?b--:b++}}if(Sz(f,p))return s;{const b=t<0?v:h,A=u[b];tt(A!=null,`Previous layout not found for panel index ${b}`);const x=A+_,I=Ds({panelConstraints:n[b],size:x});if(p[b]=I,!Bt(I,x)){let D=x-I,N=t<0?v:h;for(;N>=0&&N<n.length;){const P=p[N];tt(P!=null,`Previous layout not found for panel index ${N}`);const z=P+D,G=Ds({panelConstraints:n[N],size:z});if(Bt(P,G)||(D-=G-P,p[N]=G),Bt(D,0))break;t>0?N--:N++}}}const S=Object.values(p).reduce((b,A)=>A+b,0);if(!Bt(S,100,.1))return s;const T=Object.keys(s);return p.reduce((b,A,x)=>(b[T[x]]=A,b),{})}function Wl(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(Rl(t[n],e[n])!==0)return!1;return!0}function tM({event:t,hitRegions:e,initialLayoutMap:n,mountedGroups:i,pointerDownAtPoint:s}){let a=0;const u=new Map(i);e.forEach(f=>{const{group:p,groupSize:h}=f,{disableCursor:v,orientation:_,panels:S}=p;let T=0;s?_==="horizontal"?T=(t.clientX-s.x)/h*100:T=(t.clientY-s.y)/h*100:_==="horizontal"?T=t.clientX<0?-100:100:T=t.clientY<0?-100:100;const b=n.get(p),{derivedPanelConstraints:A,layout:x,separatorToPanels:I}=i.get(p)??{};if(A&&b&&x&&I){const D=Ml({delta:T,initialLayout:b,panelConstraints:A,pivotIndices:f.panels.map(N=>S.indexOf(N)),prevLayout:x,trigger:"mouse-or-touch"});if(Wl(D,x)){if(T!==0&&!v)switch(_){case"horizontal":{a|=T<0?QR:ZR;break}case"vertical":{a|=T<0?jR:eM;break}}}else{u.set(f.group,{derivedPanelConstraints:A,layout:D,separatorToPanels:I});const N=f.group.panels.map(({id:P})=>P).join(",");f.group.inMemoryLayouts[N]=D}}}),In({cursorFlags:a,mountedGroups:u}),Tv()}function Qb(t){if(t.defaultPrevented||t.relatedTarget!==null||t.clientX===0&&t.clientY===0)return;const{interactionState:e,mountedGroups:n}=pi();switch(e.state){case"active":e.hitRegions.forEach(i=>{t.currentTarget===i.group.element&&tM({event:t,hitRegions:e.hitRegions,initialLayoutMap:e.initialLayoutMap,mountedGroups:n})})}}function tf(t){const e=t.parentElement;tt(e,"Parent group element not found");const{mountedGroups:n}=pi();for(const[i]of n)if(i.element===e)return i;throw Error("Could not find parent Group for separator element")}function Ar({layout:t,panelConstraints:e}){const n=[...Object.values(t)],i=n.reduce((u,f)=>u+f,0);if(n.length!==e.length)throw Error(`Invalid ${e.length} panel layout: ${n.map(u=>`${u}%`).join(", ")}`);if(!Bt(i,100)&&n.length>0)for(let u=0;u<e.length;u++){const f=n[u];tt(f!=null,`No layout data found for index ${u}`);const p=100/i*f;n[u]=p}let s=0;for(let u=0;u<e.length;u++){const f=n[u];tt(f!=null,`No layout data found for index ${u}`);const p=Ds({panelConstraints:e[u],size:f});f!=p&&(s+=f-p,n[u]=p)}if(!Bt(s,0))for(let u=0;u<e.length;u++){const f=n[u];tt(f!=null,`No layout data found for index ${u}`);const p=f+s,h=Ds({panelConstraints:e[u],size:p});if(f!==h&&(s-=h-f,n[u]=h,Bt(s,0)))break}const a=Object.keys(t);return n.reduce((u,f,p)=>(u[a[p]]=f,u),{})}function nM({groupId:t}){const e=()=>{const{mountedGroups:n}=pi();for(const[i,s]of n)if(i.id===t)return{group:i,...s};throw Error(`Group ${t} not found`)};return{getLayout(){const{layout:n}=e();return n},setLayout(n){const{derivedPanelConstraints:i,group:s,layout:a,separatorToPanels:u}=e(),f=Ar({layout:n,panelConstraints:i});return Wl(a,f)||In(p=>({mountedGroups:new Map(p.mountedGroups).set(s,{derivedPanelConstraints:i,layout:f,separatorToPanels:u})})),f}}}function iM(t){const{mountedGroups:e}=pi(),n=e.get(t);return tt(n,`Mounted Group ${t.id} not found`),n}function ar(t,e){const n=tf(t),i=iM(n),s=n.separators.find(v=>v.element===t);tt(s,"Matching separator not found");const a=i.separatorToPanels.get(s);tt(a,"Matching panels not found");const u=a.map(v=>n.panels.indexOf(v)),f=nM({groupId:n.id}).getLayout(),p=Ml({delta:e,initialLayout:f,panelConstraints:i.derivedPanelConstraints,pivotIndices:u,prevLayout:f,trigger:"keyboard"}),h=Ar({layout:p,panelConstraints:i.derivedPanelConstraints});Wl(f,h)||In(v=>({mountedGroups:new Map(v.mountedGroups).set(n,{derivedPanelConstraints:i.derivedPanelConstraints,layout:h,separatorToPanels:i.separatorToPanels})}))}function Zb(t){if(t.defaultPrevented)return;const e=t.currentTarget,n=tf(e);if(!n.disabled)switch(t.key){case"ArrowDown":{t.preventDefault(),n.orientation==="vertical"&&ar(e,5);break}case"ArrowLeft":{t.preventDefault(),n.orientation==="horizontal"&&ar(e,-5);break}case"ArrowRight":{t.preventDefault(),n.orientation==="horizontal"&&ar(e,5);break}case"ArrowUp":{t.preventDefault(),n.orientation==="vertical"&&ar(e,-5);break}case"End":{t.preventDefault(),ar(e,100);break}case"Enter":{t.preventDefault();const i=tf(e),{derivedPanelConstraints:s,layout:a,separatorToPanels:u}=iM(i),f=i.separators.find(_=>_.element===e);tt(f,"Matching separator not found");const p=u.get(f);tt(p,"Matching panels not found");const h=p[0],v=s.find(_=>_.panelId===h.id);if(tt(v,"Panel metadata not found"),v.collapsible){const _=a[h.id],S=v.collapsedSize===_?i.inMemoryLastExpandedPanelSizes[h.id]??v.minSize:v.collapsedSize;ar(e,S-_)}break}case"F6":{t.preventDefault();const i=tf(e).separators.map(u=>u.element),s=Array.from(i).findIndex(u=>u===t.currentTarget);tt(s!==null,"Index not found");const a=t.shiftKey?s>0?s-1:i.length-1:s+1<i.length?s+1:0;i[a].focus();break}case"Home":{t.preventDefault(),ar(e,-100);break}}}function Ez(t,e){return{x:t.x>=e.left&&t.x<=e.right?0:Math.min(Math.abs(t.x-e.left),Math.abs(t.x-e.right)),y:t.y>=e.top&&t.y<=e.bottom?0:Math.min(Math.abs(t.y-e.top),Math.abs(t.y-e.bottom))}}function Tz(t,e,n){let i,s={x:1/0,y:1/0};for(const a of e){const u=Ez(n,a.rect);switch(t){case"horizontal":{u.x<=s.x&&(i=a,s=u);break}case"vertical":{u.y<=s.y&&(i=a,s=u);break}}}return i?{distance:s,hitRegion:i}:void 0}let Hc;function bz(){return Hc===void 0&&(typeof matchMedia=="function"?Hc=!!matchMedia("(pointer:coarse)").matches:Hc=!1),Hc}function oM(t,e){const n=[];return e.forEach((i,s)=>{if(s.disabled)return;const a=bz()?Wb.coarse:Wb.precise,u=WR(s),f=Tz(s.orientation,u,{x:t.clientX,y:t.clientY});f&&f.distance.x<=a&&f.distance.y<=a&&n.push(f.hitRegion)}),n}function jb(t){if(t.defaultPrevented)return;const{mountedGroups:e}=pi(),n=oM(t,e),i=new Set,s=new Set,a=new Set,u=new Map;let f=!1;n.forEach(p=>{i.add(p.group),p.panels.forEach(v=>{s.add(v)}),p.separator&&(a.add(p.separator),f||(f=!0,p.separator.element.focus()));const h=e.get(p.group);h&&u.set(p.group,h.layout)}),In({interactionState:{hitRegions:n,initialLayoutMap:u,pointerDownAtPoint:{x:t.clientX,y:t.clientY},state:"active"}}),n.length&&t.preventDefault()}function eC(t){if(t.defaultPrevented)return;const{interactionState:e,mountedGroups:n}=pi();switch(e.state){case"active":{if(t.type!=="pointerleave"&&t.buttons===0){In(i=>i.interactionState.state==="inactive"?i:{cursorFlags:0,interactionState:{state:"inactive"}});return}tM({event:t,hitRegions:e.hitRegions,initialLayoutMap:e.initialLayoutMap,mountedGroups:n,pointerDownAtPoint:e.pointerDownAtPoint});break}default:{const i=oM(t,n);i.length===0?e.state!=="inactive"&&In({interactionState:{state:"inactive"}}):In({interactionState:{hitRegions:i,state:"hover"}}),Tv();break}}}function tC(t){if(t.defaultPrevented)return;t.preventDefault();const{interactionState:e}=pi();switch(e.state){case"active":In({cursorFlags:0,interactionState:{state:"inactive"}}),Tv()}}function Cz(t){let e=0,n=0;const i={};for(const a of t)if(a.defaultSize!==void 0){e++;const u=zn(a.defaultSize);n+=u,i[a.panelId]=u}else i[a.panelId]=void 0;const s=t.length-e;if(s!==0){const a=zn((100-n)/s);for(const u of t)u.defaultSize===void 0&&(i[u.panelId]=a)}return i}function Az(t,e,n){const i=n[0];if(!i)return;const s=t.panels.find(u=>u.element===e);if(!s||!s.onResize)return;const a=ud({group:t});s.onResize({asPercentage:zn(i.inlineSize/a*100),inPixels:i.inlineSize},s.id)}function wz(t){let e=!0;tt(t.separators.length===0||t.separators.length<t.panels.length,"Invalid Group configuration; too many Separator components");const n=new Set,i=new Set,s=new ResizeObserver(_=>{for(const S of _){const{borderBoxSize:T,target:b}=S;b===t.element?e&&In(A=>{const x=A.mountedGroups.get(t);if(x){const I=Xb(t),D=x.layout,N=Ar({layout:D,panelConstraints:I});return{mountedGroups:new Map(A.mountedGroups).set(t,{derivedPanelConstraints:I,layout:N,separatorToPanels:x.separatorToPanels})}}return A}):Az(t,b,T)}});s.observe(t.element),t.panels.forEach(_=>{tt(!n.has(_.id),`Panel ids must be unique; id "${_.id}" was used more than once`),n.add(_.id),_.onResize&&s.observe(_.element)});const a=Xb(t),u=t.panels.map(({id:_})=>_).join(","),f=t.inMemoryLayouts[u]??t.defaultLayout??Cz(a),p=Ar({layout:f,panelConstraints:a}),h=WR(t),v=In(_=>({mountedGroups:new Map(_.mountedGroups).set(t,{derivedPanelConstraints:a,layout:p,separatorToPanels:new Map(h.filter(S=>S.separator).map(S=>[S.separator,S.panels]))})}));return t.element.addEventListener("pointerleave",Qb),t.separators.forEach(_=>{tt(!i.has(_.id),`Separator ids must be unique; id "${_.id}" was used more than once`),i.add(_.id),_.element.addEventListener("keydown",Zb)}),v.mountedGroups.size===1&&(window.addEventListener("pointerdown",jb),window.addEventListener("pointermove",eC),window.addEventListener("pointerup",tC)),function(){e=!1;const _=In(S=>{const T=new Map(S.mountedGroups);return T.delete(t),{mountedGroups:T}});t.element.removeEventListener("pointerleave",Qb),t.separators.forEach(S=>{S.element.removeEventListener("keydown",Zb)}),_.mountedGroups.size===0&&(window.removeEventListener("pointerdown",jb),window.removeEventListener("pointermove",eC),window.removeEventListener("pointerup",tC)),s.disconnect()}}function bv(t){const e=R.useId();return`${t??e}`}const Zs=typeof window<"u"?R.useLayoutEffect:R.useEffect;function Cv(t){const e=R.useRef(t);return Zs(()=>{e.current=t},[t]),R.useCallback(n=>e.current?.(n),[e])}function Av(...t){return Cv(e=>{t.forEach(n=>{if(n)switch(typeof n){case"function":{n(e);break}case"object":{n.current=e;break}}})})}const rM="--react-resizable-panels--panel--pointer-events";function sM(t,e){const n=t.replace(/[^a-zA-Z0-9\-_]/g,""),i=e.replace(/[^a-zA-Z0-9\-_]/g,"");return`--react-resizable-panels--${n}--${i}`}const aM=R.createContext(null);function xz(t,e){const n=R.useRef({getLayout:()=>({}),setLayout:yz});R.useImperativeHandle(e,()=>n.current,[]),Zs(()=>{Object.assign(n.current,nM({groupId:t}))})}function Rz({children:t,className:e,defaultLayout:n,disableCursor:i,disabled:s,elementRef:a,groupRef:u,id:f,onLayoutChange:p,orientation:h="horizontal",style:v,..._}){const S=R.useRef({}),T=Cv(fe=>{Wl(S.current,fe)||(S.current=fe,p?.(fe))}),b=bv(f),[A,x]=R.useState(!1),[I,D]=R.useState(null),[N,P]=R.useState(n??{}),[z,G]=R.useState([]),[B,Q]=R.useState([]),X=R.useRef({}),te=R.useRef({}),j=Av(D,a);xz(b,u);const le=R.useMemo(()=>({id:b,orientation:h,registerPanel:fe=>(G(_e=>hg(h,[..._e,fe])),()=>{G(_e=>_e.filter(k=>k!==fe))}),registerSeparator:fe=>(Q(_e=>hg(h,[..._e,fe])),()=>{Q(_e=>_e.filter(k=>k!==fe))})}),[b,h]);Zs(()=>{if(I!==null&&z.length>0){const fe={defaultLayout:n,disableCursor:!!i,disabled:!!s,element:I,id:b,inMemoryLastExpandedPanelSizes:X.current,inMemoryLayouts:te.current,orientation:h,panels:z,separators:B},_e=wz(fe),k=pi().mountedGroups.get(fe);k&&(P(k.layout),T?.(k.layout));const Z=mr.addListener("interactionStateChange",Se=>{switch(Se.state){case"active":case"hover":{x(Se.hitRegions.some(me=>me.group===fe));break}}}),se=mr.addListener("mountedGroupsChange",Se=>{const me=Se.get(fe);me&&me.derivedPanelConstraints.length>0&&(P(me.layout),T?.(me.layout))});return()=>{_e(),Z(),se()}}},[n,i,s,I,b,T,h,z,B]);const re={[rM]:A?"none":void 0};for(const fe in N){const _e=sM(b,fe),k=N[fe];re[_e]=k}return w.jsx(aM.Provider,{value:le,children:w.jsx("div",{..._,"aria-orientation":h,className:e,"data-group":!0,"data-testid":b,id:b,ref:j,style:{...v,...re,display:"flex",flexDirection:h==="horizontal"?"row":"column",flexWrap:"nowrap"},children:t})})}function wv(){const t=R.useContext(aM);return tt(t,"Group Context not found; did you render a Panel or Separator outside of a Group?"),t}function Mz({groupId:t,panelId:e}){const n=()=>{const{mountedGroups:f}=pi();for(const[p,{derivedPanelConstraints:h,layout:v,separatorToPanels:_}]of f)if(p.id===t)return{derivedPanelConstraints:h,group:p,layout:v,separatorToPanels:_};throw Error(`Group ${t} not found`)},i=()=>{const f=n().derivedPanelConstraints.find(p=>p.panelId===e);if(f!==void 0)return f;throw Error(`Panel constraints not found for Panel ${e}`)},s=()=>{const f=n().group.panels.find(p=>p.id===e);if(f!==void 0)return f;throw Error(`Layout not found for Panel ${e}`)},a=()=>{const f=n().layout[e];if(f!==void 0)return f;throw Error(`Layout not found for Panel ${e}`)},u=f=>{const p=a();if(f===p)return;const{derivedPanelConstraints:h,group:v,layout:_,separatorToPanels:S}=n(),T=v.panels.findIndex(I=>I.id===e),b=T===v.panels.length-1,A=Ml({delta:b?p-f:f-p,initialLayout:_,panelConstraints:h,pivotIndices:b?[T-1,T]:[T,T+1],prevLayout:_,trigger:"imperative-api"}),x=Ar({layout:A,panelConstraints:h});Wl(_,x)||In(I=>({mountedGroups:new Map(I.mountedGroups).set(v,{derivedPanelConstraints:h,layout:x,separatorToPanels:S})}))};return{collapse:()=>{const{collapsible:f,collapsedSize:p}=i(),h=a();f&&h!==p&&u(p)},expand:()=>{const{collapsible:f,collapsedSize:p,minSize:h}=i(),v=a();f&&v===p&&u(h)},getSize:()=>{const{group:f}=n(),p=a(),{element:h}=s(),v=f.orientation==="horizontal"?h.offsetWidth:h.offsetHeight;return{asPercentage:p,inPixels:v}},isCollapsed:()=>{const{collapsible:f,collapsedSize:p}=i(),h=a();return f&&Bt(p,h)},resize:f=>{if(a()!==f){let p;switch(typeof f){case"number":{const{group:h}=n(),v=ud({group:h});p=zn(f/v*100);break}case"string":{p=parseFloat(f);break}}u(p)}}}}function Nz(t,e){const{id:n}=wv(),i=R.useRef({collapse:fm,expand:fm,getSize:()=>({asPercentage:0,inPixels:0}),isCollapsed:()=>!1,resize:fm});R.useImperativeHandle(e,()=>i.current,[]),Zs(()=>{Object.assign(i.current,Mz({groupId:n,panelId:t}))})}function nC({children:t,className:e,collapsedSize:n="0%",collapsible:i=!1,defaultSize:s,elementRef:a,id:u,maxSize:f="100%",minSize:p="0%",onResize:h,panelRef:v,style:_,...S}){const T=!!u,b=bv(u),[A,x]=R.useState(null),I=Av(x,a),{id:D,registerPanel:N}=wv(),P=h!==null,z=Cv(B=>{h?.(B,u)});Zs(()=>{if(A!==null)return N({element:A,id:b,idIsStable:T,onResize:P?z:void 0,panelConstraints:{collapsedSize:n,collapsible:i,defaultSize:s,maxSize:f,minSize:p}})},[n,i,s,A,P,b,T,f,p,z,N]),Nz(b,v);const G=sM(D,b);return w.jsx("div",{...S,"data-panel":!0,"data-testid":b,id:b,ref:I,style:{...Iz,flexBasis:0,flexGrow:`var(${G}, 1)`,flexShrink:1,overflow:"hidden",pointerEvents:`var(${rM})`},children:w.jsx("div",{className:e,style:{width:"100%",height:"100%",..._},children:t})})}const Iz={minHeight:"unset",maxHeight:"unset",height:"unset",minWidth:"unset",maxWidth:"unset",width:"unset",flex:"unset",flexBasis:"unset",flexShrink:"unset",flexGrow:"unset",border:"unset",borderWidth:"unset",padding:"unset",margin:"unset"};function Dz({layout:t,panelConstraints:e,panelId:n,panelIndex:i}){let s,a;const u=t[n],f=e.find(p=>p.panelId===n);if(f){const p=f.maxSize,h=a=f.collapsible?f.collapsedSize:f.minSize,v=[i,i+1];a=Ar({layout:Ml({delta:h-u,initialLayout:t,panelConstraints:e,pivotIndices:v,prevLayout:t,trigger:"keyboard"}),panelConstraints:e})[n],s=Ar({layout:Ml({delta:p-u,initialLayout:t,panelConstraints:e,pivotIndices:v,prevLayout:t,trigger:"keyboard"}),panelConstraints:e})[n]}return{valueControls:n,valueMax:s,valueMin:a,valueNow:u}}function Oz({children:t,className:e,elementRef:n,id:i,style:s,...a}){const u=bv(i),[f,p]=R.useState({}),[h,v]=R.useState("inactive"),[_,S]=R.useState(null),T=Av(S,n),{id:b,orientation:A,registerSeparator:x}=wv(),I=A==="horizontal"?"vertical":"horizontal";return Zs(()=>{if(_!==null){const D={element:_,id:u},N=x(D),P=mr.addListener("interactionStateChange",G=>{v(G.state!=="inactive"&&G.hitRegions.some(B=>B.separator===D)?G.state:"inactive")}),z=mr.addListener("mountedGroupsChange",G=>{G.forEach(({derivedPanelConstraints:B,layout:Q,separatorToPanels:X},te)=>{if(te.id===b){const j=X.get(D);if(j){const le=j[0],re=te.panels.indexOf(le);p(Dz({layout:Q,panelConstraints:B,panelId:le.id,panelIndex:re}))}}})});return()=>{P(),z(),N()}}},[_,b,u,x]),w.jsx("div",{...a,"aria-controls":f.valueControls,"aria-orientation":I,"aria-valuemax":f.valueMax,"aria-valuemin":f.valueMin,"aria-valuenow":f.valueNow,children:t,className:e,"data-separator":h,"data-testid":u,id:u,ref:T,role:"separator",style:{flexBasis:"auto",...s,flexGrow:0,flexShrink:0},tabIndex:0})}const Uz=({localImage:t,initialText:e="",onImageGenerated:n,onClose:i})=>{const[s,a]=R.useState(null),[u,f]=R.useState(e),[p,h]=R.useState(!1);R.useEffect(()=>{let _=!0;return t.getUrlObject().then(S=>{_&&a(S)}),()=>{_=!1}},[t]);const v=async()=>{h(!0);try{const _=await Ps.img2img(u||"",[await t.getBase64()]);n&&n(_)}catch(_){console.error("GenerateImage failed:",_)}finally{h(!1)}};return w.jsx("div",{className:"border d-flex flex-column",style:{height:"700px"},children:w.jsxs(Rz,{orientation:"horizontal",style:{height:"100%"},children:[w.jsx(nC,{defaultSize:500,minSize:10,children:w.jsx("div",{className:"d-flex align-items-center justify-content-center overflow-hidden",style:{height:"100%"},children:s?w.jsx("img",{src:s,alt:"Preview",className:"img-fluid",style:{objectFit:"contain",maxHeight:"100%",maxWidth:"100%"}}):w.jsx("div",{children:"Loading image"})})}),w.jsx(Oz,{style:{cursor:"ew-resize",backgroundColor:"#8f8f8fff",width:"10px"}}),w.jsx(nC,{minSize:10,children:w.jsxs("div",{className:"d-flex flex-column h-100 p-3",style:{height:"100%"},children:[w.jsx("div",{className:"d-flex justify-content-end mb-2",children:i&&w.jsx("button",{type:"button",onClick:i,style:{cursor:"pointer"},children:""})}),w.jsxs("div",{className:"flex-grow-1 d-flex flex-column",children:[w.jsx("textarea",{value:u,onChange:_=>f(_.target.value),placeholder:"Edit This Image:",style:{flexGrow:1,resize:"none",padding:"8px",fontSize:"14px"}}),w.jsx(ld,{onClick:v,label:"Generate",is_loading:p})]})]})})]})})},Pz=Ht(({shot:t})=>{if(!t.shotJson)return w.jsx("div",{children:"Loading shot info..."});const e=200,n=t.images??[],i=async()=>{window.confirm(`Are you sure you want to delete shot "${t.folder.name}"?`)&&await t.delete()};return w.jsx("div",{className:"card mb-2",children:w.jsxs("div",{className:"card-body",children:[w.jsxs("div",{className:"d-flex align-items-center justify-content-between mb-2",children:[w.jsx("strong",{children:t.folder.name}),w.jsxs("div",{className:"d-flex gap-2",children:[w.jsx(XR,{label:"Finished",value:!!t.shotJson.data?.finished,onToggle:s=>{t.shotJson&&t.shotJson.updateField("finished",s)}}),w.jsx(Ot,{onClick:()=>{t.log()},label:"Log Shot"}),w.jsx(Ot,{onClick:i,label:"Delete Shot",className:"btn-outline-danger"})]})]}),w.jsx(Oo,{localJson:t.shotJson,field:"prompt",fitHeight:!0}),w.jsx(Oo,{localJson:t.shotJson,field:"camera",fitHeight:!0}),w.jsx(Oo,{localJson:t.shotJson,field:"action_description",fitHeight:!0}),w.jsx(lz,{label:"Shot Results",headerExtra:w.jsxs(w.Fragment,{children:[w.jsx(ld,{label:"Generate",className:"btn-outline-success",onClick:async()=>{t.GenerateImage()},is_loading:t.is_generating}),w.jsx(Ot,{label:"Import URL",onClick:async()=>{try{const s=await navigator.clipboard.readText();if(s&&(s.startsWith("http://")||s.startsWith("https://"))){console.log("Importing URL from clipboard:",s);const a=await br.fromUrl(s,t.resultsFolder);t.addImage(a)}else alert("Clipboard does not contain a valid URL.")}catch(s){console.error("Failed to read clipboard:",s),alert("Failed to access clipboard.")}}})]}),children:n.map((s,a)=>w.jsx(uz,{localImage:s,height:e,onClick:()=>{t.selectArt(s)},topRightExtra:w.jsxs(w.Fragment,{children:[w.jsx(Ot,{onClick:()=>t.setSrcImage(s),label:"Pick"}),w.jsx(Ot,{onClick:async()=>{if(window.confirm("Delete this image?"))try{await s.delete(t.resultsFolder),t.removeImage(s)}catch(u){console.error("Failed to delete image:",u),alert("Failed to delete image.")}},label:"Delete",className:"btn-outline-danger"})]})},a))}),t.selected_art&&w.jsx(Uz,{localImage:t.selected_art,initialText:"Notes for this image",onImageGenerated:async s=>{await t.saveGoogleResultImage(s,!0)},onClose:()=>{t.selectArt()}})]})})}),Lz=Ht(({scene:t})=>{const[e,n]=R.useState(null);R.useEffect(()=>{n(null)},[t]);const i=async()=>{const s=prompt("Enter new shot name:");if(!s)return;const a=await t.createShot(s);a&&n(a)};return w.jsxs("div",{className:"d-flex flex-column gap-3",children:[w.jsx(az,{initialHeight:200,children:w.jsxs("div",{className:"d-flex overflow-auto gap-2 h-100",children:[t.shots.map(s=>w.jsx(sz,{shot:s,isSelected:e===s,onClick:n},s.folder.name)),w.jsx("div",{className:"mt-2",children:w.jsx(Ot,{label:"+ Add Shot",onClick:i})})]})}),w.jsx("div",{children:w.jsx(Ot,{onClick:()=>{for(const s of t.shots)s.srcImage||s.GenerateImage()},label:"Generate ALL"})}),e&&w.jsx(Pz,{shot:e})]})}),kz=Ht(({project:t})=>{switch(t.currentView.type){case"settings":return w.jsx(Zq,{project:t});case"script":return w.jsx(jq,{project:t});case"artbook":return t.artbook?w.jsx(tz,{artbook:t.artbook}):w.jsx("div",{children:"No Artbook found."});case"scene":if(!t.selectedScene)return null;const e=t.selectedScene;return w.jsxs("div",{children:[w.jsx("h2",{children:e.folder.name}),w.jsx(xl,{tabs:{Scene:w.jsx(rz,{scene:e}),Shots:w.jsx(Lz,{scene:e})}})]});default:return null}}),Bz=Ht(()=>{const[t]=R.useState(()=>new Yq(null)),e=async()=>{try{const i=await window.showDirectoryPicker();await t.loadFromFolder(i)}catch(i){console.error(i)}},n=async i=>{let s=await i.queryPermission({mode:"readwrite"});s!=="granted"&&(s=await i.requestPermission({mode:"readwrite"})),s==="granted"&&await t.loadFromFolder(i)};return R.useEffect(()=>{(async()=>{if(await t.loadDB(),t.userSettingsDB.data.lastOpenedFolder){const s=t.userSettingsDB.data.lastOpenedFolder;let a=await s.queryPermission({mode:"readwrite"});a!=="granted"&&(a=await s.requestPermission({mode:"readwrite"})),a==="granted"&&await t.loadFromFolder(s)}})()},[]),w.jsxs("div",{style:{minHeight:"100vh"},children:[w.jsx(Kq,{onOpenFolder:e,recentFolders:t.userSettingsDB.data.recentFolders,onOpenRecent:n,project:t}),w.jsxs("div",{className:"d-flex",style:{height:"calc(100vh - 56px)",overflow:"hidden"},children:[w.jsx(Wq,{project:t}),w.jsx("div",{className:"flex-grow-1 d-flex flex-column overflow-hidden",children:w.jsx("div",{className:"flex-grow-1 overflow-auto p-3",children:w.jsx(kz,{project:t})})})]})]})}),Hz=R.createContext(void 0),Gz=({children:t})=>{const[e,n]=R.useState(null);return w.jsx(Hz.Provider,{value:{contentArea:e,setContentArea:n},children:t})};PI.createRoot(document.getElementById("root")).render(w.jsx(R.StrictMode,{children:w.jsx(Gz,{children:w.jsx(Bz,{})})}));
