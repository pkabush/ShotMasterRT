(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const l of r)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function n(r){const l={};return r.integrity&&(l.integrity=r.integrity),r.referrerPolicy&&(l.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?l.credentials="include":r.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(r){if(r.ep)return;r.ep=!0;const l=n(r);fetch(r.href,l)}})();function yc(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var fh={exports:{}},ca={};var X_;function Jx(){if(X_)return ca;X_=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(i,r,l){var c=null;if(l!==void 0&&(c=""+l),r.key!==void 0&&(c=""+r.key),"key"in r){l={};for(var d in r)d!=="key"&&(l[d]=r[d])}else l=r;return r=l.ref,{$$typeof:t,type:i,key:c,ref:r!==void 0?r:null,props:l}}return ca.Fragment=e,ca.jsx=n,ca.jsxs=n,ca}var Q_;function Yx(){return Q_||(Q_=1,fh.exports=Jx()),fh.exports}var C=Yx(),dh={exports:{}},ye={};var W_;function Kx(){if(W_)return ye;W_=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),_=Symbol.for("react.activity"),S=Symbol.iterator;function T(N){return N===null||typeof N!="object"?null:(N=S&&N[S]||N["@@iterator"],typeof N=="function"?N:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},R=Object.assign,x={};function P(N,J,j){this.props=N,this.context=J,this.refs=x,this.updater=j||b}P.prototype.isReactComponent={},P.prototype.setState=function(N,J){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,J,"setState")},P.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function H(){}H.prototype=P.prototype;function B(N,J,j){this.props=N,this.context=J,this.refs=x,this.updater=j||b}var q=B.prototype=new H;q.constructor=B,R(q,P.prototype),q.isPureReactComponent=!0;var Q=Array.isArray;function K(){}var $={H:null,A:null,T:null,S:null},oe=Object.prototype.hasOwnProperty;function Z(N,J,j){var te=j.ref;return{$$typeof:t,type:N,key:J,ref:te!==void 0?te:null,props:j}}function ae(N,J){return Z(N.type,J,N.props)}function de(N){return typeof N=="object"&&N!==null&&N.$$typeof===t}function He(N){var J={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(j){return J[j]})}var Ee=/\/+/g;function $e(N,J){return typeof N=="object"&&N!==null&&N.key!=null?He(""+N.key):J.toString(36)}function nt(N){switch(N.status){case"fulfilled":return N.value;case"rejected":throw N.reason;default:switch(typeof N.status=="string"?N.then(K,K):(N.status="pending",N.then(function(J){N.status==="pending"&&(N.status="fulfilled",N.value=J)},function(J){N.status==="pending"&&(N.status="rejected",N.reason=J)})),N.status){case"fulfilled":return N.value;case"rejected":throw N.reason}}throw N}function G(N,J,j,te,pe){var Ae=typeof N;(Ae==="undefined"||Ae==="boolean")&&(N=null);var Ie=!1;if(N===null)Ie=!0;else switch(Ae){case"bigint":case"string":case"number":Ie=!0;break;case"object":switch(N.$$typeof){case t:case e:Ie=!0;break;case y:return Ie=N._init,G(Ie(N._payload),J,j,te,pe)}}if(Ie)return pe=pe(N),Ie=te===""?"."+$e(N,0):te,Q(pe)?(j="",Ie!=null&&(j=Ie.replace(Ee,"$&/")+"/"),G(pe,J,j,"",function(Wn){return Wn})):pe!=null&&(de(pe)&&(pe=ae(pe,j+(pe.key==null||N&&N.key===pe.key?"":(""+pe.key).replace(Ee,"$&/")+"/")+Ie)),J.push(pe)),1;Ie=0;var _t=te===""?".":te+":";if(Q(N))for(var Xe=0;Xe<N.length;Xe++)te=N[Xe],Ae=_t+$e(te,Xe),Ie+=G(te,J,j,Ae,pe);else if(Xe=T(N),typeof Xe=="function")for(N=Xe.call(N),Xe=0;!(te=N.next()).done;)te=te.value,Ae=_t+$e(te,Xe++),Ie+=G(te,J,j,Ae,pe);else if(Ae==="object"){if(typeof N.then=="function")return G(nt(N),J,j,te,pe);throw J=String(N),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.")}return Ie}function W(N,J,j){if(N==null)return N;var te=[],pe=0;return G(N,te,"","",function(Ae){return J.call(j,Ae,pe++)}),te}function ie(N){if(N._status===-1){var J=N._result;J=J(),J.then(function(j){(N._status===0||N._status===-1)&&(N._status=1,N._result=j)},function(j){(N._status===0||N._status===-1)&&(N._status=2,N._result=j)}),N._status===-1&&(N._status=0,N._result=J)}if(N._status===1)return N._result.default;throw N._result}var Ne=typeof reportError=="function"?reportError:function(N){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var J=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof N=="object"&&N!==null&&typeof N.message=="string"?String(N.message):String(N),error:N});if(!window.dispatchEvent(J))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",N);return}console.error(N)},ke={map:W,forEach:function(N,J,j){W(N,function(){J.apply(this,arguments)},j)},count:function(N){var J=0;return W(N,function(){J++}),J},toArray:function(N){return W(N,function(J){return J})||[]},only:function(N){if(!de(N))throw Error("React.Children.only expected to receive a single React element child.");return N}};return ye.Activity=_,ye.Children=ke,ye.Component=P,ye.Fragment=n,ye.Profiler=r,ye.PureComponent=B,ye.StrictMode=i,ye.Suspense=m,ye.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=$,ye.__COMPILER_RUNTIME={__proto__:null,c:function(N){return $.H.useMemoCache(N)}},ye.cache=function(N){return function(){return N.apply(null,arguments)}},ye.cacheSignal=function(){return null},ye.cloneElement=function(N,J,j){if(N==null)throw Error("The argument must be a React element, but you passed "+N+".");var te=R({},N.props),pe=N.key;if(J!=null)for(Ae in J.key!==void 0&&(pe=""+J.key),J)!oe.call(J,Ae)||Ae==="key"||Ae==="__self"||Ae==="__source"||Ae==="ref"&&J.ref===void 0||(te[Ae]=J[Ae]);var Ae=arguments.length-2;if(Ae===1)te.children=j;else if(1<Ae){for(var Ie=Array(Ae),_t=0;_t<Ae;_t++)Ie[_t]=arguments[_t+2];te.children=Ie}return Z(N.type,pe,te)},ye.createContext=function(N){return N={$$typeof:c,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null},N.Provider=N,N.Consumer={$$typeof:l,_context:N},N},ye.createElement=function(N,J,j){var te,pe={},Ae=null;if(J!=null)for(te in J.key!==void 0&&(Ae=""+J.key),J)oe.call(J,te)&&te!=="key"&&te!=="__self"&&te!=="__source"&&(pe[te]=J[te]);var Ie=arguments.length-2;if(Ie===1)pe.children=j;else if(1<Ie){for(var _t=Array(Ie),Xe=0;Xe<Ie;Xe++)_t[Xe]=arguments[Xe+2];pe.children=_t}if(N&&N.defaultProps)for(te in Ie=N.defaultProps,Ie)pe[te]===void 0&&(pe[te]=Ie[te]);return Z(N,Ae,pe)},ye.createRef=function(){return{current:null}},ye.forwardRef=function(N){return{$$typeof:d,render:N}},ye.isValidElement=de,ye.lazy=function(N){return{$$typeof:y,_payload:{_status:-1,_result:N},_init:ie}},ye.memo=function(N,J){return{$$typeof:p,type:N,compare:J===void 0?null:J}},ye.startTransition=function(N){var J=$.T,j={};$.T=j;try{var te=N(),pe=$.S;pe!==null&&pe(j,te),typeof te=="object"&&te!==null&&typeof te.then=="function"&&te.then(K,Ne)}catch(Ae){Ne(Ae)}finally{J!==null&&j.types!==null&&(J.types=j.types),$.T=J}},ye.unstable_useCacheRefresh=function(){return $.H.useCacheRefresh()},ye.use=function(N){return $.H.use(N)},ye.useActionState=function(N,J,j){return $.H.useActionState(N,J,j)},ye.useCallback=function(N,J){return $.H.useCallback(N,J)},ye.useContext=function(N){return $.H.useContext(N)},ye.useDebugValue=function(){},ye.useDeferredValue=function(N,J){return $.H.useDeferredValue(N,J)},ye.useEffect=function(N,J){return $.H.useEffect(N,J)},ye.useEffectEvent=function(N){return $.H.useEffectEvent(N)},ye.useId=function(){return $.H.useId()},ye.useImperativeHandle=function(N,J,j){return $.H.useImperativeHandle(N,J,j)},ye.useInsertionEffect=function(N,J){return $.H.useInsertionEffect(N,J)},ye.useLayoutEffect=function(N,J){return $.H.useLayoutEffect(N,J)},ye.useMemo=function(N,J){return $.H.useMemo(N,J)},ye.useOptimistic=function(N,J){return $.H.useOptimistic(N,J)},ye.useReducer=function(N,J,j){return $.H.useReducer(N,J,j)},ye.useRef=function(N){return $.H.useRef(N)},ye.useState=function(N){return $.H.useState(N)},ye.useSyncExternalStore=function(N,J,j){return $.H.useSyncExternalStore(N,J,j)},ye.useTransition=function(){return $.H.useTransition()},ye.version="19.2.1",ye}var Z_;function _c(){return Z_||(Z_=1,dh.exports=Kx()),dh.exports}var I=_c();const In=yc(I);var hh={exports:{}},fa={},ph={exports:{}},mh={};var j_;function Xx(){return j_||(j_=1,(function(t){function e(G,W){var ie=G.length;G.push(W);e:for(;0<ie;){var Ne=ie-1>>>1,ke=G[Ne];if(0<r(ke,W))G[Ne]=W,G[ie]=ke,ie=Ne;else break e}}function n(G){return G.length===0?null:G[0]}function i(G){if(G.length===0)return null;var W=G[0],ie=G.pop();if(ie!==W){G[0]=ie;e:for(var Ne=0,ke=G.length,N=ke>>>1;Ne<N;){var J=2*(Ne+1)-1,j=G[J],te=J+1,pe=G[te];if(0>r(j,ie))te<ke&&0>r(pe,j)?(G[Ne]=pe,G[te]=ie,Ne=te):(G[Ne]=j,G[J]=ie,Ne=J);else if(te<ke&&0>r(pe,ie))G[Ne]=pe,G[te]=ie,Ne=te;else break e}}return W}function r(G,W){var ie=G.sortIndex-W.sortIndex;return ie!==0?ie:G.id-W.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var c=Date,d=c.now();t.unstable_now=function(){return c.now()-d}}var m=[],p=[],y=1,_=null,S=3,T=!1,b=!1,R=!1,x=!1,P=typeof setTimeout=="function"?setTimeout:null,H=typeof clearTimeout=="function"?clearTimeout:null,B=typeof setImmediate<"u"?setImmediate:null;function q(G){for(var W=n(p);W!==null;){if(W.callback===null)i(p);else if(W.startTime<=G)i(p),W.sortIndex=W.expirationTime,e(m,W);else break;W=n(p)}}function Q(G){if(R=!1,q(G),!b)if(n(m)!==null)b=!0,K||(K=!0,He());else{var W=n(p);W!==null&&nt(Q,W.startTime-G)}}var K=!1,$=-1,oe=5,Z=-1;function ae(){return x?!0:!(t.unstable_now()-Z<oe)}function de(){if(x=!1,K){var G=t.unstable_now();Z=G;var W=!0;try{e:{b=!1,R&&(R=!1,H($),$=-1),T=!0;var ie=S;try{t:{for(q(G),_=n(m);_!==null&&!(_.expirationTime>G&&ae());){var Ne=_.callback;if(typeof Ne=="function"){_.callback=null,S=_.priorityLevel;var ke=Ne(_.expirationTime<=G);if(G=t.unstable_now(),typeof ke=="function"){_.callback=ke,q(G),W=!0;break t}_===n(m)&&i(m),q(G)}else i(m);_=n(m)}if(_!==null)W=!0;else{var N=n(p);N!==null&&nt(Q,N.startTime-G),W=!1}}break e}finally{_=null,S=ie,T=!1}W=void 0}}finally{W?He():K=!1}}}var He;if(typeof B=="function")He=function(){B(de)};else if(typeof MessageChannel<"u"){var Ee=new MessageChannel,$e=Ee.port2;Ee.port1.onmessage=de,He=function(){$e.postMessage(null)}}else He=function(){P(de,0)};function nt(G,W){$=P(function(){G(t.unstable_now())},W)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(G){G.callback=null},t.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):oe=0<G?Math.floor(1e3/G):5},t.unstable_getCurrentPriorityLevel=function(){return S},t.unstable_next=function(G){switch(S){case 1:case 2:case 3:var W=3;break;default:W=S}var ie=S;S=W;try{return G()}finally{S=ie}},t.unstable_requestPaint=function(){x=!0},t.unstable_runWithPriority=function(G,W){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var ie=S;S=G;try{return W()}finally{S=ie}},t.unstable_scheduleCallback=function(G,W,ie){var Ne=t.unstable_now();switch(typeof ie=="object"&&ie!==null?(ie=ie.delay,ie=typeof ie=="number"&&0<ie?Ne+ie:Ne):ie=Ne,G){case 1:var ke=-1;break;case 2:ke=250;break;case 5:ke=1073741823;break;case 4:ke=1e4;break;default:ke=5e3}return ke=ie+ke,G={id:y++,callback:W,priorityLevel:G,startTime:ie,expirationTime:ke,sortIndex:-1},ie>Ne?(G.sortIndex=ie,e(p,G),n(m)===null&&G===n(p)&&(R?(H($),$=-1):R=!0,nt(Q,ie-Ne))):(G.sortIndex=ke,e(m,G),b||T||(b=!0,K||(K=!0,He()))),G},t.unstable_shouldYield=ae,t.unstable_wrapCallback=function(G){var W=S;return function(){var ie=S;S=W;try{return G.apply(this,arguments)}finally{S=ie}}}})(mh)),mh}var e0;function Qx(){return e0||(e0=1,ph.exports=Xx()),ph.exports}var gh={exports:{}},Mt={};var t0;function Wx(){if(t0)return Mt;t0=1;var t=_c();function e(m){var p="https://react.dev/errors/"+m;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)p+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+m+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},r=Symbol.for("react.portal");function l(m,p,y){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:_==null?null:""+_,children:m,containerInfo:p,implementation:y}}var c=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(m,p){if(m==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Mt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Mt.createPortal=function(m,p){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return l(m,p,null,y)},Mt.flushSync=function(m){var p=c.T,y=i.p;try{if(c.T=null,i.p=2,m)return m()}finally{c.T=p,i.p=y,i.d.f()}},Mt.preconnect=function(m,p){typeof m=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,i.d.C(m,p))},Mt.prefetchDNS=function(m){typeof m=="string"&&i.d.D(m)},Mt.preinit=function(m,p){if(typeof m=="string"&&p&&typeof p.as=="string"){var y=p.as,_=d(y,p.crossOrigin),S=typeof p.integrity=="string"?p.integrity:void 0,T=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;y==="style"?i.d.S(m,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:_,integrity:S,fetchPriority:T}):y==="script"&&i.d.X(m,{crossOrigin:_,integrity:S,fetchPriority:T,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Mt.preinitModule=function(m,p){if(typeof m=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var y=d(p.as,p.crossOrigin);i.d.M(m,{crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&i.d.M(m)},Mt.preload=function(m,p){if(typeof m=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var y=p.as,_=d(y,p.crossOrigin);i.d.L(m,y,{crossOrigin:_,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Mt.preloadModule=function(m,p){if(typeof m=="string")if(p){var y=d(p.as,p.crossOrigin);i.d.m(m,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else i.d.m(m)},Mt.requestFormReset=function(m){i.d.r(m)},Mt.unstable_batchedUpdates=function(m,p){return m(p)},Mt.useFormState=function(m,p,y){return c.H.useFormState(m,p,y)},Mt.useFormStatus=function(){return c.H.useHostTransitionStatus()},Mt.version="19.2.1",Mt}var n0;function rT(){if(n0)return gh.exports;n0=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),gh.exports=Wx(),gh.exports}var i0;function Zx(){if(i0)return fa;i0=1;var t=Qx(),e=_c(),n=rT();function i(o){var s="https://react.dev/errors/"+o;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+o+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function l(o){var s=o,a=o;if(o.alternate)for(;s.return;)s=s.return;else{o=s;do s=o,(s.flags&4098)!==0&&(a=s.return),o=s.return;while(o)}return s.tag===3?a:null}function c(o){if(o.tag===13){var s=o.memoizedState;if(s===null&&(o=o.alternate,o!==null&&(s=o.memoizedState)),s!==null)return s.dehydrated}return null}function d(o){if(o.tag===31){var s=o.memoizedState;if(s===null&&(o=o.alternate,o!==null&&(s=o.memoizedState)),s!==null)return s.dehydrated}return null}function m(o){if(l(o)!==o)throw Error(i(188))}function p(o){var s=o.alternate;if(!s){if(s=l(o),s===null)throw Error(i(188));return s!==o?null:o}for(var a=o,u=s;;){var g=a.return;if(g===null)break;var v=g.alternate;if(v===null){if(u=g.return,u!==null){a=u;continue}break}if(g.child===v.child){for(v=g.child;v;){if(v===a)return m(g),o;if(v===u)return m(g),s;v=v.sibling}throw Error(i(188))}if(a.return!==u.return)a=g,u=v;else{for(var E=!1,A=g.child;A;){if(A===a){E=!0,a=g,u=v;break}if(A===u){E=!0,u=g,a=v;break}A=A.sibling}if(!E){for(A=v.child;A;){if(A===a){E=!0,a=v,u=g;break}if(A===u){E=!0,u=v,a=g;break}A=A.sibling}if(!E)throw Error(i(189))}}if(a.alternate!==u)throw Error(i(190))}if(a.tag!==3)throw Error(i(188));return a.stateNode.current===a?o:s}function y(o){var s=o.tag;if(s===5||s===26||s===27||s===6)return o;for(o=o.child;o!==null;){if(s=y(o),s!==null)return s;o=o.sibling}return null}var _=Object.assign,S=Symbol.for("react.element"),T=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),R=Symbol.for("react.fragment"),x=Symbol.for("react.strict_mode"),P=Symbol.for("react.profiler"),H=Symbol.for("react.consumer"),B=Symbol.for("react.context"),q=Symbol.for("react.forward_ref"),Q=Symbol.for("react.suspense"),K=Symbol.for("react.suspense_list"),$=Symbol.for("react.memo"),oe=Symbol.for("react.lazy"),Z=Symbol.for("react.activity"),ae=Symbol.for("react.memo_cache_sentinel"),de=Symbol.iterator;function He(o){return o===null||typeof o!="object"?null:(o=de&&o[de]||o["@@iterator"],typeof o=="function"?o:null)}var Ee=Symbol.for("react.client.reference");function $e(o){if(o==null)return null;if(typeof o=="function")return o.$$typeof===Ee?null:o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case R:return"Fragment";case P:return"Profiler";case x:return"StrictMode";case Q:return"Suspense";case K:return"SuspenseList";case Z:return"Activity"}if(typeof o=="object")switch(o.$$typeof){case b:return"Portal";case B:return o.displayName||"Context";case H:return(o._context.displayName||"Context")+".Consumer";case q:var s=o.render;return o=o.displayName,o||(o=s.displayName||s.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case $:return s=o.displayName||null,s!==null?s:$e(o.type)||"Memo";case oe:s=o._payload,o=o._init;try{return $e(o(s))}catch{}}return null}var nt=Array.isArray,G=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ie={pending:!1,data:null,method:null,action:null},Ne=[],ke=-1;function N(o){return{current:o}}function J(o){0>ke||(o.current=Ne[ke],Ne[ke]=null,ke--)}function j(o,s){ke++,Ne[ke]=o.current,o.current=s}var te=N(null),pe=N(null),Ae=N(null),Ie=N(null);function _t(o,s){switch(j(Ae,s),j(pe,o),j(te,null),s.nodeType){case 9:case 11:o=(o=s.documentElement)&&(o=o.namespaceURI)?y_(o):0;break;default:if(o=s.tagName,s=s.namespaceURI)s=y_(s),o=__(s,o);else switch(o){case"svg":o=1;break;case"math":o=2;break;default:o=0}}J(te),j(te,o)}function Xe(){J(te),J(pe),J(Ae)}function Wn(o){o.memoizedState!==null&&j(Ie,o);var s=te.current,a=__(s,o.type);s!==a&&(j(pe,o),j(te,a))}function Qo(o){pe.current===o&&(J(te),J(pe)),Ie.current===o&&(J(Ie),ra._currentValue=ie)}var Wo,Zo;function rn(o){if(Wo===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);Wo=s&&s[1]||"",Zo=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Wo+o+Zo}var Qe=!1;function jo(o,s){if(!o||Qe)return"";Qe=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(s){var Y=function(){throw Error()};if(Object.defineProperty(Y.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Y,[])}catch(V){var k=V}Reflect.construct(o,[],Y)}else{try{Y.call()}catch(V){k=V}o.call(Y.prototype)}}else{try{throw Error()}catch(V){k=V}(Y=o())&&typeof Y.catch=="function"&&Y.catch(function(){})}}catch(V){if(V&&k&&typeof V.stack=="string")return[V.stack,k.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var g=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");g&&g.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var v=u.DetermineComponentFrameRoot(),E=v[0],A=v[1];if(E&&A){var w=E.split(`
`),U=A.split(`
`);for(g=u=0;u<w.length&&!w[u].includes("DetermineComponentFrameRoot");)u++;for(;g<U.length&&!U[g].includes("DetermineComponentFrameRoot");)g++;if(u===w.length||g===U.length)for(u=w.length-1,g=U.length-1;1<=u&&0<=g&&w[u]!==U[g];)g--;for(;1<=u&&0<=g;u--,g--)if(w[u]!==U[g]){if(u!==1||g!==1)do if(u--,g--,0>g||w[u]!==U[g]){var F=`
`+w[u].replace(" at new "," at ");return o.displayName&&F.includes("<anonymous>")&&(F=F.replace("<anonymous>",o.displayName)),F}while(1<=u&&0<=g);break}}}finally{Qe=!1,Error.prepareStackTrace=a}return(a=o?o.displayName||o.name:"")?rn(a):""}function vr(o,s){switch(o.tag){case 26:case 27:case 5:return rn(o.type);case 16:return rn("Lazy");case 13:return o.child!==s&&s!==null?rn("Suspense Fallback"):rn("Suspense");case 19:return rn("SuspenseList");case 0:case 15:return jo(o.type,!1);case 11:return jo(o.type.render,!1);case 1:return jo(o.type,!0);case 31:return rn("Activity");default:return""}}function Xm(o){try{var s="",a=null;do s+=vr(o,a),a=o,o=o.return;while(o);return s}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var Xc=Object.prototype.hasOwnProperty,Qc=t.unstable_scheduleCallback,Wc=t.unstable_cancelCallback,Cw=t.unstable_shouldYield,bw=t.unstable_requestPaint,Ft=t.unstable_now,ww=t.unstable_getCurrentPriorityLevel,Qm=t.unstable_ImmediatePriority,Wm=t.unstable_UserBlockingPriority,Xa=t.unstable_NormalPriority,Rw=t.unstable_LowPriority,Zm=t.unstable_IdlePriority,xw=t.log,Mw=t.unstable_setDisableYieldValue,yr=null,zt=null;function Ii(o){if(typeof xw=="function"&&Mw(o),zt&&typeof zt.setStrictMode=="function")try{zt.setStrictMode(yr,o)}catch{}}var $t=Math.clz32?Math.clz32:Dw,Nw=Math.log,Iw=Math.LN2;function Dw(o){return o>>>=0,o===0?32:31-(Nw(o)/Iw|0)|0}var Qa=256,Wa=262144,Za=4194304;function mo(o){var s=o&42;if(s!==0)return s;switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return o&261888;case 262144:case 524288:case 1048576:case 2097152:return o&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return o&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return o}}function ja(o,s,a){var u=o.pendingLanes;if(u===0)return 0;var g=0,v=o.suspendedLanes,E=o.pingedLanes;o=o.warmLanes;var A=u&134217727;return A!==0?(u=A&~v,u!==0?g=mo(u):(E&=A,E!==0?g=mo(E):a||(a=A&~o,a!==0&&(g=mo(a))))):(A=u&~v,A!==0?g=mo(A):E!==0?g=mo(E):a||(a=u&~o,a!==0&&(g=mo(a)))),g===0?0:s!==0&&s!==g&&(s&v)===0&&(v=g&-g,a=s&-s,v>=a||v===32&&(a&4194048)!==0)?s:g}function _r(o,s){return(o.pendingLanes&~(o.suspendedLanes&~o.pingedLanes)&s)===0}function Ow(o,s){switch(o){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function jm(){var o=Za;return Za<<=1,(Za&62914560)===0&&(Za=4194304),o}function Zc(o){for(var s=[],a=0;31>a;a++)s.push(o);return s}function Sr(o,s){o.pendingLanes|=s,s!==268435456&&(o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0)}function Uw(o,s,a,u,g,v){var E=o.pendingLanes;o.pendingLanes=a,o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0,o.expiredLanes&=a,o.entangledLanes&=a,o.errorRecoveryDisabledLanes&=a,o.shellSuspendCounter=0;var A=o.entanglements,w=o.expirationTimes,U=o.hiddenUpdates;for(a=E&~a;0<a;){var F=31-$t(a),Y=1<<F;A[F]=0,w[F]=-1;var k=U[F];if(k!==null)for(U[F]=null,F=0;F<k.length;F++){var V=k[F];V!==null&&(V.lane&=-536870913)}a&=~Y}u!==0&&eg(o,u,0),v!==0&&g===0&&o.tag!==0&&(o.suspendedLanes|=v&~(E&~s))}function eg(o,s,a){o.pendingLanes|=s,o.suspendedLanes&=~s;var u=31-$t(s);o.entangledLanes|=s,o.entanglements[u]=o.entanglements[u]|1073741824|a&261930}function tg(o,s){var a=o.entangledLanes|=s;for(o=o.entanglements;a;){var u=31-$t(a),g=1<<u;g&s|o[u]&s&&(o[u]|=s),a&=~g}}function ng(o,s){var a=s&-s;return a=(a&42)!==0?1:jc(a),(a&(o.suspendedLanes|s))!==0?0:a}function jc(o){switch(o){case 2:o=1;break;case 8:o=4;break;case 32:o=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:o=128;break;case 268435456:o=134217728;break;default:o=0}return o}function ef(o){return o&=-o,2<o?8<o?(o&134217727)!==0?32:268435456:8:2}function ig(){var o=W.p;return o!==0?o:(o=window.event,o===void 0?32:q_(o.type))}function og(o,s){var a=W.p;try{return W.p=o,s()}finally{W.p=a}}var Di=Math.random().toString(36).slice(2),St="__reactFiber$"+Di,Lt="__reactProps$"+Di,es="__reactContainer$"+Di,tf="__reactEvents$"+Di,Lw="__reactListeners$"+Di,Pw="__reactHandles$"+Di,sg="__reactResources$"+Di,Er="__reactMarker$"+Di;function nf(o){delete o[St],delete o[Lt],delete o[tf],delete o[Lw],delete o[Pw]}function ts(o){var s=o[St];if(s)return s;for(var a=o.parentNode;a;){if(s=a[es]||a[St]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(o=w_(o);o!==null;){if(a=o[St])return a;o=w_(o)}return s}o=a,a=o.parentNode}return null}function ns(o){if(o=o[St]||o[es]){var s=o.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return o}return null}function Tr(o){var s=o.tag;if(s===5||s===26||s===27||s===6)return o.stateNode;throw Error(i(33))}function is(o){var s=o[sg];return s||(s=o[sg]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function ht(o){o[Er]=!0}var rg=new Set,ag={};function go(o,s){os(o,s),os(o+"Capture",s)}function os(o,s){for(ag[o]=s,o=0;o<s.length;o++)rg.add(s[o])}var kw=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),lg={},ug={};function Bw(o){return Xc.call(ug,o)?!0:Xc.call(lg,o)?!1:kw.test(o)?ug[o]=!0:(lg[o]=!0,!1)}function el(o,s,a){if(Bw(s))if(a===null)o.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":o.removeAttribute(s);return;case"boolean":var u=s.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){o.removeAttribute(s);return}}o.setAttribute(s,""+a)}}function tl(o,s,a){if(a===null)o.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(s);return}o.setAttribute(s,""+a)}}function Zn(o,s,a,u){if(u===null)o.removeAttribute(a);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(a);return}o.setAttributeNS(s,a,""+u)}}function an(o){switch(typeof o){case"bigint":case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function cg(o){var s=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Hw(o,s,a){var u=Object.getOwnPropertyDescriptor(o.constructor.prototype,s);if(!o.hasOwnProperty(s)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var g=u.get,v=u.set;return Object.defineProperty(o,s,{configurable:!0,get:function(){return g.call(this)},set:function(E){a=""+E,v.call(this,E)}}),Object.defineProperty(o,s,{enumerable:u.enumerable}),{getValue:function(){return a},setValue:function(E){a=""+E},stopTracking:function(){o._valueTracker=null,delete o[s]}}}}function of(o){if(!o._valueTracker){var s=cg(o)?"checked":"value";o._valueTracker=Hw(o,s,""+o[s])}}function fg(o){if(!o)return!1;var s=o._valueTracker;if(!s)return!0;var a=s.getValue(),u="";return o&&(u=cg(o)?o.checked?"true":"false":o.value),o=u,o!==a?(s.setValue(o),!0):!1}function nl(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}var Gw=/[\n"\\]/g;function ln(o){return o.replace(Gw,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function sf(o,s,a,u,g,v,E,A){o.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?o.type=E:o.removeAttribute("type"),s!=null?E==="number"?(s===0&&o.value===""||o.value!=s)&&(o.value=""+an(s)):o.value!==""+an(s)&&(o.value=""+an(s)):E!=="submit"&&E!=="reset"||o.removeAttribute("value"),s!=null?rf(o,E,an(s)):a!=null?rf(o,E,an(a)):u!=null&&o.removeAttribute("value"),g==null&&v!=null&&(o.defaultChecked=!!v),g!=null&&(o.checked=g&&typeof g!="function"&&typeof g!="symbol"),A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?o.name=""+an(A):o.removeAttribute("name")}function dg(o,s,a,u,g,v,E,A){if(v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(o.type=v),s!=null||a!=null){if(!(v!=="submit"&&v!=="reset"||s!=null)){of(o);return}a=a!=null?""+an(a):"",s=s!=null?""+an(s):a,A||s===o.value||(o.value=s),o.defaultValue=s}u=u??g,u=typeof u!="function"&&typeof u!="symbol"&&!!u,o.checked=A?o.checked:!!u,o.defaultChecked=!!u,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(o.name=E),of(o)}function rf(o,s,a){s==="number"&&nl(o.ownerDocument)===o||o.defaultValue===""+a||(o.defaultValue=""+a)}function ss(o,s,a,u){if(o=o.options,s){s={};for(var g=0;g<a.length;g++)s["$"+a[g]]=!0;for(a=0;a<o.length;a++)g=s.hasOwnProperty("$"+o[a].value),o[a].selected!==g&&(o[a].selected=g),g&&u&&(o[a].defaultSelected=!0)}else{for(a=""+an(a),s=null,g=0;g<o.length;g++){if(o[g].value===a){o[g].selected=!0,u&&(o[g].defaultSelected=!0);return}s!==null||o[g].disabled||(s=o[g])}s!==null&&(s.selected=!0)}}function hg(o,s,a){if(s!=null&&(s=""+an(s),s!==o.value&&(o.value=s),a==null)){o.defaultValue!==s&&(o.defaultValue=s);return}o.defaultValue=a!=null?""+an(a):""}function pg(o,s,a,u){if(s==null){if(u!=null){if(a!=null)throw Error(i(92));if(nt(u)){if(1<u.length)throw Error(i(93));u=u[0]}a=u}a==null&&(a=""),s=a}a=an(s),o.defaultValue=a,u=o.textContent,u===a&&u!==""&&u!==null&&(o.value=u),of(o)}function rs(o,s){if(s){var a=o.firstChild;if(a&&a===o.lastChild&&a.nodeType===3){a.nodeValue=s;return}}o.textContent=s}var Vw=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function mg(o,s,a){var u=s.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?u?o.setProperty(s,""):s==="float"?o.cssFloat="":o[s]="":u?o.setProperty(s,a):typeof a!="number"||a===0||Vw.has(s)?s==="float"?o.cssFloat=a:o[s]=(""+a).trim():o[s]=a+"px"}function gg(o,s,a){if(s!=null&&typeof s!="object")throw Error(i(62));if(o=o.style,a!=null){for(var u in a)!a.hasOwnProperty(u)||s!=null&&s.hasOwnProperty(u)||(u.indexOf("--")===0?o.setProperty(u,""):u==="float"?o.cssFloat="":o[u]="");for(var g in s)u=s[g],s.hasOwnProperty(g)&&a[g]!==u&&mg(o,g,u)}else for(var v in s)s.hasOwnProperty(v)&&mg(o,v,s[v])}function af(o){if(o.indexOf("-")===-1)return!1;switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var qw=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Fw=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function il(o){return Fw.test(""+o)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":o}function jn(){}var lf=null;function uf(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var as=null,ls=null;function vg(o){var s=ns(o);if(s&&(o=s.stateNode)){var a=o[Lt]||null;e:switch(o=s.stateNode,s.type){case"input":if(sf(o,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),s=a.name,a.type==="radio"&&s!=null){for(a=o;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+ln(""+s)+'"][type="radio"]'),s=0;s<a.length;s++){var u=a[s];if(u!==o&&u.form===o.form){var g=u[Lt]||null;if(!g)throw Error(i(90));sf(u,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(s=0;s<a.length;s++)u=a[s],u.form===o.form&&fg(u)}break e;case"textarea":hg(o,a.value,a.defaultValue);break e;case"select":s=a.value,s!=null&&ss(o,!!a.multiple,s,!1)}}}var cf=!1;function yg(o,s,a){if(cf)return o(s,a);cf=!0;try{var u=o(s);return u}finally{if(cf=!1,(as!==null||ls!==null)&&(zl(),as&&(s=as,o=ls,ls=as=null,vg(s),o)))for(s=0;s<o.length;s++)vg(o[s])}}function Ar(o,s){var a=o.stateNode;if(a===null)return null;var u=a[Lt]||null;if(u===null)return null;a=u[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(o=o.type,u=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!u;break e;default:o=!1}if(o)return null;if(a&&typeof a!="function")throw Error(i(231,s,typeof a));return a}var ei=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ff=!1;if(ei)try{var Cr={};Object.defineProperty(Cr,"passive",{get:function(){ff=!0}}),window.addEventListener("test",Cr,Cr),window.removeEventListener("test",Cr,Cr)}catch{ff=!1}var Oi=null,df=null,ol=null;function _g(){if(ol)return ol;var o,s=df,a=s.length,u,g="value"in Oi?Oi.value:Oi.textContent,v=g.length;for(o=0;o<a&&s[o]===g[o];o++);var E=a-o;for(u=1;u<=E&&s[a-u]===g[v-u];u++);return ol=g.slice(o,1<u?1-u:void 0)}function sl(o){var s=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&s===13&&(o=13)):o=s,o===10&&(o=13),32<=o||o===13?o:0}function rl(){return!0}function Sg(){return!1}function Pt(o){function s(a,u,g,v,E){this._reactName=a,this._targetInst=g,this.type=u,this.nativeEvent=v,this.target=E,this.currentTarget=null;for(var A in o)o.hasOwnProperty(A)&&(a=o[A],this[A]=a?a(v):v[A]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?rl:Sg,this.isPropagationStopped=Sg,this}return _(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=rl)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=rl)},persist:function(){},isPersistent:rl}),s}var vo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},al=Pt(vo),br=_({},vo,{view:0,detail:0}),zw=Pt(br),hf,pf,wr,ll=_({},br,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:gf,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==wr&&(wr&&o.type==="mousemove"?(hf=o.screenX-wr.screenX,pf=o.screenY-wr.screenY):pf=hf=0,wr=o),hf)},movementY:function(o){return"movementY"in o?o.movementY:pf}}),Eg=Pt(ll),$w=_({},ll,{dataTransfer:0}),Jw=Pt($w),Yw=_({},br,{relatedTarget:0}),mf=Pt(Yw),Kw=_({},vo,{animationName:0,elapsedTime:0,pseudoElement:0}),Xw=Pt(Kw),Qw=_({},vo,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),Ww=Pt(Qw),Zw=_({},vo,{data:0}),Tg=Pt(Zw),jw={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},eR={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},tR={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function nR(o){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(o):(o=tR[o])?!!s[o]:!1}function gf(){return nR}var iR=_({},br,{key:function(o){if(o.key){var s=jw[o.key]||o.key;if(s!=="Unidentified")return s}return o.type==="keypress"?(o=sl(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?eR[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:gf,charCode:function(o){return o.type==="keypress"?sl(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?sl(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),oR=Pt(iR),sR=_({},ll,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ag=Pt(sR),rR=_({},br,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:gf}),aR=Pt(rR),lR=_({},vo,{propertyName:0,elapsedTime:0,pseudoElement:0}),uR=Pt(lR),cR=_({},ll,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),fR=Pt(cR),dR=_({},vo,{newState:0,oldState:0}),hR=Pt(dR),pR=[9,13,27,32],vf=ei&&"CompositionEvent"in window,Rr=null;ei&&"documentMode"in document&&(Rr=document.documentMode);var mR=ei&&"TextEvent"in window&&!Rr,Cg=ei&&(!vf||Rr&&8<Rr&&11>=Rr),bg=" ",wg=!1;function Rg(o,s){switch(o){case"keyup":return pR.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function xg(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var us=!1;function gR(o,s){switch(o){case"compositionend":return xg(s);case"keypress":return s.which!==32?null:(wg=!0,bg);case"textInput":return o=s.data,o===bg&&wg?null:o;default:return null}}function vR(o,s){if(us)return o==="compositionend"||!vf&&Rg(o,s)?(o=_g(),ol=df=Oi=null,us=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Cg&&s.locale!=="ko"?null:s.data;default:return null}}var yR={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Mg(o){var s=o&&o.nodeName&&o.nodeName.toLowerCase();return s==="input"?!!yR[o.type]:s==="textarea"}function Ng(o,s,a,u){as?ls?ls.push(u):ls=[u]:as=u,s=Wl(s,"onChange"),0<s.length&&(a=new al("onChange","change",null,a,u),o.push({event:a,listeners:s}))}var xr=null,Mr=null;function _R(o){d_(o,0)}function ul(o){var s=Tr(o);if(fg(s))return o}function Ig(o,s){if(o==="change")return s}var Dg=!1;if(ei){var yf;if(ei){var _f="oninput"in document;if(!_f){var Og=document.createElement("div");Og.setAttribute("oninput","return;"),_f=typeof Og.oninput=="function"}yf=_f}else yf=!1;Dg=yf&&(!document.documentMode||9<document.documentMode)}function Ug(){xr&&(xr.detachEvent("onpropertychange",Lg),Mr=xr=null)}function Lg(o){if(o.propertyName==="value"&&ul(Mr)){var s=[];Ng(s,Mr,o,uf(o)),yg(_R,s)}}function SR(o,s,a){o==="focusin"?(Ug(),xr=s,Mr=a,xr.attachEvent("onpropertychange",Lg)):o==="focusout"&&Ug()}function ER(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return ul(Mr)}function TR(o,s){if(o==="click")return ul(s)}function AR(o,s){if(o==="input"||o==="change")return ul(s)}function CR(o,s){return o===s&&(o!==0||1/o===1/s)||o!==o&&s!==s}var Jt=typeof Object.is=="function"?Object.is:CR;function Nr(o,s){if(Jt(o,s))return!0;if(typeof o!="object"||o===null||typeof s!="object"||s===null)return!1;var a=Object.keys(o),u=Object.keys(s);if(a.length!==u.length)return!1;for(u=0;u<a.length;u++){var g=a[u];if(!Xc.call(s,g)||!Jt(o[g],s[g]))return!1}return!0}function Pg(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function kg(o,s){var a=Pg(o);o=0;for(var u;a;){if(a.nodeType===3){if(u=o+a.textContent.length,o<=s&&u>=s)return{node:a,offset:s-o};o=u}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Pg(a)}}function Bg(o,s){return o&&s?o===s?!0:o&&o.nodeType===3?!1:s&&s.nodeType===3?Bg(o,s.parentNode):"contains"in o?o.contains(s):o.compareDocumentPosition?!!(o.compareDocumentPosition(s)&16):!1:!1}function Hg(o){o=o!=null&&o.ownerDocument!=null&&o.ownerDocument.defaultView!=null?o.ownerDocument.defaultView:window;for(var s=nl(o.document);s instanceof o.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)o=s.contentWindow;else break;s=nl(o.document)}return s}function Sf(o){var s=o&&o.nodeName&&o.nodeName.toLowerCase();return s&&(s==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||s==="textarea"||o.contentEditable==="true")}var bR=ei&&"documentMode"in document&&11>=document.documentMode,cs=null,Ef=null,Ir=null,Tf=!1;function Gg(o,s,a){var u=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Tf||cs==null||cs!==nl(u)||(u=cs,"selectionStart"in u&&Sf(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Ir&&Nr(Ir,u)||(Ir=u,u=Wl(Ef,"onSelect"),0<u.length&&(s=new al("onSelect","select",null,s,a),o.push({event:s,listeners:u}),s.target=cs)))}function yo(o,s){var a={};return a[o.toLowerCase()]=s.toLowerCase(),a["Webkit"+o]="webkit"+s,a["Moz"+o]="moz"+s,a}var fs={animationend:yo("Animation","AnimationEnd"),animationiteration:yo("Animation","AnimationIteration"),animationstart:yo("Animation","AnimationStart"),transitionrun:yo("Transition","TransitionRun"),transitionstart:yo("Transition","TransitionStart"),transitioncancel:yo("Transition","TransitionCancel"),transitionend:yo("Transition","TransitionEnd")},Af={},Vg={};ei&&(Vg=document.createElement("div").style,"AnimationEvent"in window||(delete fs.animationend.animation,delete fs.animationiteration.animation,delete fs.animationstart.animation),"TransitionEvent"in window||delete fs.transitionend.transition);function _o(o){if(Af[o])return Af[o];if(!fs[o])return o;var s=fs[o],a;for(a in s)if(s.hasOwnProperty(a)&&a in Vg)return Af[o]=s[a];return o}var qg=_o("animationend"),Fg=_o("animationiteration"),zg=_o("animationstart"),wR=_o("transitionrun"),RR=_o("transitionstart"),xR=_o("transitioncancel"),$g=_o("transitionend"),Jg=new Map,Cf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Cf.push("scrollEnd");function bn(o,s){Jg.set(o,s),go(s,[o])}var cl=typeof reportError=="function"?reportError:function(o){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof o=="object"&&o!==null&&typeof o.message=="string"?String(o.message):String(o),error:o});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",o);return}console.error(o)},un=[],ds=0,bf=0;function fl(){for(var o=ds,s=bf=ds=0;s<o;){var a=un[s];un[s++]=null;var u=un[s];un[s++]=null;var g=un[s];un[s++]=null;var v=un[s];if(un[s++]=null,u!==null&&g!==null){var E=u.pending;E===null?g.next=g:(g.next=E.next,E.next=g),u.pending=g}v!==0&&Yg(a,g,v)}}function dl(o,s,a,u){un[ds++]=o,un[ds++]=s,un[ds++]=a,un[ds++]=u,bf|=u,o.lanes|=u,o=o.alternate,o!==null&&(o.lanes|=u)}function wf(o,s,a,u){return dl(o,s,a,u),hl(o)}function So(o,s){return dl(o,null,null,s),hl(o)}function Yg(o,s,a){o.lanes|=a;var u=o.alternate;u!==null&&(u.lanes|=a);for(var g=!1,v=o.return;v!==null;)v.childLanes|=a,u=v.alternate,u!==null&&(u.childLanes|=a),v.tag===22&&(o=v.stateNode,o===null||o._visibility&1||(g=!0)),o=v,v=v.return;return o.tag===3?(v=o.stateNode,g&&s!==null&&(g=31-$t(a),o=v.hiddenUpdates,u=o[g],u===null?o[g]=[s]:u.push(s),s.lane=a|536870912),v):null}function hl(o){if(50<jr)throw jr=0,Ld=null,Error(i(185));for(var s=o.return;s!==null;)o=s,s=o.return;return o.tag===3?o.stateNode:null}var hs={};function MR(o,s,a,u){this.tag=o,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Yt(o,s,a,u){return new MR(o,s,a,u)}function Rf(o){return o=o.prototype,!(!o||!o.isReactComponent)}function ti(o,s){var a=o.alternate;return a===null?(a=Yt(o.tag,s,o.key,o.mode),a.elementType=o.elementType,a.type=o.type,a.stateNode=o.stateNode,a.alternate=o,o.alternate=a):(a.pendingProps=s,a.type=o.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=o.flags&65011712,a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,s=o.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=o.sibling,a.index=o.index,a.ref=o.ref,a.refCleanup=o.refCleanup,a}function Kg(o,s){o.flags&=65011714;var a=o.alternate;return a===null?(o.childLanes=0,o.lanes=s,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=a.childLanes,o.lanes=a.lanes,o.child=a.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=a.memoizedProps,o.memoizedState=a.memoizedState,o.updateQueue=a.updateQueue,o.type=a.type,s=a.dependencies,o.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),o}function pl(o,s,a,u,g,v){var E=0;if(u=o,typeof o=="function")Rf(o)&&(E=1);else if(typeof o=="string")E=Ux(o,a,te.current)?26:o==="html"||o==="head"||o==="body"?27:5;else e:switch(o){case Z:return o=Yt(31,a,s,g),o.elementType=Z,o.lanes=v,o;case R:return Eo(a.children,g,v,s);case x:E=8,g|=24;break;case P:return o=Yt(12,a,s,g|2),o.elementType=P,o.lanes=v,o;case Q:return o=Yt(13,a,s,g),o.elementType=Q,o.lanes=v,o;case K:return o=Yt(19,a,s,g),o.elementType=K,o.lanes=v,o;default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case B:E=10;break e;case H:E=9;break e;case q:E=11;break e;case $:E=14;break e;case oe:E=16,u=null;break e}E=29,a=Error(i(130,o===null?"null":typeof o,"")),u=null}return s=Yt(E,a,s,g),s.elementType=o,s.type=u,s.lanes=v,s}function Eo(o,s,a,u){return o=Yt(7,o,u,s),o.lanes=a,o}function xf(o,s,a){return o=Yt(6,o,null,s),o.lanes=a,o}function Xg(o){var s=Yt(18,null,null,0);return s.stateNode=o,s}function Mf(o,s,a){return s=Yt(4,o.children!==null?o.children:[],o.key,s),s.lanes=a,s.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},s}var Qg=new WeakMap;function cn(o,s){if(typeof o=="object"&&o!==null){var a=Qg.get(o);return a!==void 0?a:(s={value:o,source:s,stack:Xm(s)},Qg.set(o,s),s)}return{value:o,source:s,stack:Xm(s)}}var ps=[],ms=0,ml=null,Dr=0,fn=[],dn=0,Ui=null,Gn=1,Vn="";function ni(o,s){ps[ms++]=Dr,ps[ms++]=ml,ml=o,Dr=s}function Wg(o,s,a){fn[dn++]=Gn,fn[dn++]=Vn,fn[dn++]=Ui,Ui=o;var u=Gn;o=Vn;var g=32-$t(u)-1;u&=~(1<<g),a+=1;var v=32-$t(s)+g;if(30<v){var E=g-g%5;v=(u&(1<<E)-1).toString(32),u>>=E,g-=E,Gn=1<<32-$t(s)+g|a<<g|u,Vn=v+o}else Gn=1<<v|a<<g|u,Vn=o}function Nf(o){o.return!==null&&(ni(o,1),Wg(o,1,0))}function If(o){for(;o===ml;)ml=ps[--ms],ps[ms]=null,Dr=ps[--ms],ps[ms]=null;for(;o===Ui;)Ui=fn[--dn],fn[dn]=null,Vn=fn[--dn],fn[dn]=null,Gn=fn[--dn],fn[dn]=null}function Zg(o,s){fn[dn++]=Gn,fn[dn++]=Vn,fn[dn++]=Ui,Gn=s.id,Vn=s.overflow,Ui=o}var Et=null,We=null,xe=!1,Li=null,hn=!1,Df=Error(i(519));function Pi(o){var s=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Or(cn(s,o)),Df}function jg(o){var s=o.stateNode,a=o.type,u=o.memoizedProps;switch(s[St]=o,s[Lt]=u,a){case"dialog":be("cancel",s),be("close",s);break;case"iframe":case"object":case"embed":be("load",s);break;case"video":case"audio":for(a=0;a<ta.length;a++)be(ta[a],s);break;case"source":be("error",s);break;case"img":case"image":case"link":be("error",s),be("load",s);break;case"details":be("toggle",s);break;case"input":be("invalid",s),dg(s,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":be("invalid",s);break;case"textarea":be("invalid",s),pg(s,u.value,u.defaultValue,u.children)}a=u.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||s.textContent===""+a||u.suppressHydrationWarning===!0||g_(s.textContent,a)?(u.popover!=null&&(be("beforetoggle",s),be("toggle",s)),u.onScroll!=null&&be("scroll",s),u.onScrollEnd!=null&&be("scrollend",s),u.onClick!=null&&(s.onclick=jn),s=!0):s=!1,s||Pi(o,!0)}function ev(o){for(Et=o.return;Et;)switch(Et.tag){case 5:case 31:case 13:hn=!1;return;case 27:case 3:hn=!0;return;default:Et=Et.return}}function gs(o){if(o!==Et)return!1;if(!xe)return ev(o),xe=!0,!1;var s=o.tag,a;if((a=s!==3&&s!==27)&&((a=s===5)&&(a=o.type,a=!(a!=="form"&&a!=="button")||Qd(o.type,o.memoizedProps)),a=!a),a&&We&&Pi(o),ev(o),s===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(i(317));We=b_(o)}else if(s===31){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(i(317));We=b_(o)}else s===27?(s=We,Qi(o.type)?(o=th,th=null,We=o):We=s):We=Et?mn(o.stateNode.nextSibling):null;return!0}function To(){We=Et=null,xe=!1}function Of(){var o=Li;return o!==null&&(Gt===null?Gt=o:Gt.push.apply(Gt,o),Li=null),o}function Or(o){Li===null?Li=[o]:Li.push(o)}var Uf=N(null),Ao=null,ii=null;function ki(o,s,a){j(Uf,s._currentValue),s._currentValue=a}function oi(o){o._currentValue=Uf.current,J(Uf)}function Lf(o,s,a){for(;o!==null;){var u=o.alternate;if((o.childLanes&s)!==s?(o.childLanes|=s,u!==null&&(u.childLanes|=s)):u!==null&&(u.childLanes&s)!==s&&(u.childLanes|=s),o===a)break;o=o.return}}function Pf(o,s,a,u){var g=o.child;for(g!==null&&(g.return=o);g!==null;){var v=g.dependencies;if(v!==null){var E=g.child;v=v.firstContext;e:for(;v!==null;){var A=v;v=g;for(var w=0;w<s.length;w++)if(A.context===s[w]){v.lanes|=a,A=v.alternate,A!==null&&(A.lanes|=a),Lf(v.return,a,o),u||(E=null);break e}v=A.next}}else if(g.tag===18){if(E=g.return,E===null)throw Error(i(341));E.lanes|=a,v=E.alternate,v!==null&&(v.lanes|=a),Lf(E,a,o),E=null}else E=g.child;if(E!==null)E.return=g;else for(E=g;E!==null;){if(E===o){E=null;break}if(g=E.sibling,g!==null){g.return=E.return,E=g;break}E=E.return}g=E}}function vs(o,s,a,u){o=null;for(var g=s,v=!1;g!==null;){if(!v){if((g.flags&524288)!==0)v=!0;else if((g.flags&262144)!==0)break}if(g.tag===10){var E=g.alternate;if(E===null)throw Error(i(387));if(E=E.memoizedProps,E!==null){var A=g.type;Jt(g.pendingProps.value,E.value)||(o!==null?o.push(A):o=[A])}}else if(g===Ie.current){if(E=g.alternate,E===null)throw Error(i(387));E.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(o!==null?o.push(ra):o=[ra])}g=g.return}o!==null&&Pf(s,o,a,u),s.flags|=262144}function gl(o){for(o=o.firstContext;o!==null;){if(!Jt(o.context._currentValue,o.memoizedValue))return!0;o=o.next}return!1}function Co(o){Ao=o,ii=null,o=o.dependencies,o!==null&&(o.firstContext=null)}function Tt(o){return tv(Ao,o)}function vl(o,s){return Ao===null&&Co(o),tv(o,s)}function tv(o,s){var a=s._currentValue;if(s={context:s,memoizedValue:a,next:null},ii===null){if(o===null)throw Error(i(308));ii=s,o.dependencies={lanes:0,firstContext:s},o.flags|=524288}else ii=ii.next=s;return a}var NR=typeof AbortController<"u"?AbortController:function(){var o=[],s=this.signal={aborted:!1,addEventListener:function(a,u){o.push(u)}};this.abort=function(){s.aborted=!0,o.forEach(function(a){return a()})}},IR=t.unstable_scheduleCallback,DR=t.unstable_NormalPriority,st={$$typeof:B,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function kf(){return{controller:new NR,data:new Map,refCount:0}}function Ur(o){o.refCount--,o.refCount===0&&IR(DR,function(){o.controller.abort()})}var Lr=null,Bf=0,ys=0,_s=null;function OR(o,s){if(Lr===null){var a=Lr=[];Bf=0,ys=Vd(),_s={status:"pending",value:void 0,then:function(u){a.push(u)}}}return Bf++,s.then(nv,nv),s}function nv(){if(--Bf===0&&Lr!==null){_s!==null&&(_s.status="fulfilled");var o=Lr;Lr=null,ys=0,_s=null;for(var s=0;s<o.length;s++)(0,o[s])()}}function UR(o,s){var a=[],u={status:"pending",value:null,reason:null,then:function(g){a.push(g)}};return o.then(function(){u.status="fulfilled",u.value=s;for(var g=0;g<a.length;g++)(0,a[g])(s)},function(g){for(u.status="rejected",u.reason=g,g=0;g<a.length;g++)(0,a[g])(void 0)}),u}var iv=G.S;G.S=function(o,s){Gy=Ft(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&OR(o,s),iv!==null&&iv(o,s)};var bo=N(null);function Hf(){var o=bo.current;return o!==null?o:Je.pooledCache}function yl(o,s){s===null?j(bo,bo.current):j(bo,s.pool)}function ov(){var o=Hf();return o===null?null:{parent:st._currentValue,pool:o}}var Ss=Error(i(460)),Gf=Error(i(474)),_l=Error(i(542)),Sl={then:function(){}};function sv(o){return o=o.status,o==="fulfilled"||o==="rejected"}function rv(o,s,a){switch(a=o[a],a===void 0?o.push(s):a!==s&&(s.then(jn,jn),s=a),s.status){case"fulfilled":return s.value;case"rejected":throw o=s.reason,lv(o),o;default:if(typeof s.status=="string")s.then(jn,jn);else{if(o=Je,o!==null&&100<o.shellSuspendCounter)throw Error(i(482));o=s,o.status="pending",o.then(function(u){if(s.status==="pending"){var g=s;g.status="fulfilled",g.value=u}},function(u){if(s.status==="pending"){var g=s;g.status="rejected",g.reason=u}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw o=s.reason,lv(o),o}throw Ro=s,Ss}}function wo(o){try{var s=o._init;return s(o._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Ro=a,Ss):a}}var Ro=null;function av(){if(Ro===null)throw Error(i(459));var o=Ro;return Ro=null,o}function lv(o){if(o===Ss||o===_l)throw Error(i(483))}var Es=null,Pr=0;function El(o){var s=Pr;return Pr+=1,Es===null&&(Es=[]),rv(Es,o,s)}function kr(o,s){s=s.props.ref,o.ref=s!==void 0?s:null}function Tl(o,s){throw s.$$typeof===S?Error(i(525)):(o=Object.prototype.toString.call(s),Error(i(31,o==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":o)))}function uv(o){function s(D,M){if(o){var O=D.deletions;O===null?(D.deletions=[M],D.flags|=16):O.push(M)}}function a(D,M){if(!o)return null;for(;M!==null;)s(D,M),M=M.sibling;return null}function u(D){for(var M=new Map;D!==null;)D.key!==null?M.set(D.key,D):M.set(D.index,D),D=D.sibling;return M}function g(D,M){return D=ti(D,M),D.index=0,D.sibling=null,D}function v(D,M,O){return D.index=O,o?(O=D.alternate,O!==null?(O=O.index,O<M?(D.flags|=67108866,M):O):(D.flags|=67108866,M)):(D.flags|=1048576,M)}function E(D){return o&&D.alternate===null&&(D.flags|=67108866),D}function A(D,M,O,z){return M===null||M.tag!==6?(M=xf(O,D.mode,z),M.return=D,M):(M=g(M,O),M.return=D,M)}function w(D,M,O,z){var ce=O.type;return ce===R?F(D,M,O.props.children,z,O.key):M!==null&&(M.elementType===ce||typeof ce=="object"&&ce!==null&&ce.$$typeof===oe&&wo(ce)===M.type)?(M=g(M,O.props),kr(M,O),M.return=D,M):(M=pl(O.type,O.key,O.props,null,D.mode,z),kr(M,O),M.return=D,M)}function U(D,M,O,z){return M===null||M.tag!==4||M.stateNode.containerInfo!==O.containerInfo||M.stateNode.implementation!==O.implementation?(M=Mf(O,D.mode,z),M.return=D,M):(M=g(M,O.children||[]),M.return=D,M)}function F(D,M,O,z,ce){return M===null||M.tag!==7?(M=Eo(O,D.mode,z,ce),M.return=D,M):(M=g(M,O),M.return=D,M)}function Y(D,M,O){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=xf(""+M,D.mode,O),M.return=D,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case T:return O=pl(M.type,M.key,M.props,null,D.mode,O),kr(O,M),O.return=D,O;case b:return M=Mf(M,D.mode,O),M.return=D,M;case oe:return M=wo(M),Y(D,M,O)}if(nt(M)||He(M))return M=Eo(M,D.mode,O,null),M.return=D,M;if(typeof M.then=="function")return Y(D,El(M),O);if(M.$$typeof===B)return Y(D,vl(D,M),O);Tl(D,M)}return null}function k(D,M,O,z){var ce=M!==null?M.key:null;if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return ce!==null?null:A(D,M,""+O,z);if(typeof O=="object"&&O!==null){switch(O.$$typeof){case T:return O.key===ce?w(D,M,O,z):null;case b:return O.key===ce?U(D,M,O,z):null;case oe:return O=wo(O),k(D,M,O,z)}if(nt(O)||He(O))return ce!==null?null:F(D,M,O,z,null);if(typeof O.then=="function")return k(D,M,El(O),z);if(O.$$typeof===B)return k(D,M,vl(D,O),z);Tl(D,O)}return null}function V(D,M,O,z,ce){if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return D=D.get(O)||null,A(M,D,""+z,ce);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case T:return D=D.get(z.key===null?O:z.key)||null,w(M,D,z,ce);case b:return D=D.get(z.key===null?O:z.key)||null,U(M,D,z,ce);case oe:return z=wo(z),V(D,M,O,z,ce)}if(nt(z)||He(z))return D=D.get(O)||null,F(M,D,z,ce,null);if(typeof z.then=="function")return V(D,M,O,El(z),ce);if(z.$$typeof===B)return V(D,M,O,vl(M,z),ce);Tl(M,z)}return null}function se(D,M,O,z){for(var ce=null,De=null,le=M,Se=M=0,Re=null;le!==null&&Se<O.length;Se++){le.index>Se?(Re=le,le=null):Re=le.sibling;var Oe=k(D,le,O[Se],z);if(Oe===null){le===null&&(le=Re);break}o&&le&&Oe.alternate===null&&s(D,le),M=v(Oe,M,Se),De===null?ce=Oe:De.sibling=Oe,De=Oe,le=Re}if(Se===O.length)return a(D,le),xe&&ni(D,Se),ce;if(le===null){for(;Se<O.length;Se++)le=Y(D,O[Se],z),le!==null&&(M=v(le,M,Se),De===null?ce=le:De.sibling=le,De=le);return xe&&ni(D,Se),ce}for(le=u(le);Se<O.length;Se++)Re=V(le,D,Se,O[Se],z),Re!==null&&(o&&Re.alternate!==null&&le.delete(Re.key===null?Se:Re.key),M=v(Re,M,Se),De===null?ce=Re:De.sibling=Re,De=Re);return o&&le.forEach(function(to){return s(D,to)}),xe&&ni(D,Se),ce}function he(D,M,O,z){if(O==null)throw Error(i(151));for(var ce=null,De=null,le=M,Se=M=0,Re=null,Oe=O.next();le!==null&&!Oe.done;Se++,Oe=O.next()){le.index>Se?(Re=le,le=null):Re=le.sibling;var to=k(D,le,Oe.value,z);if(to===null){le===null&&(le=Re);break}o&&le&&to.alternate===null&&s(D,le),M=v(to,M,Se),De===null?ce=to:De.sibling=to,De=to,le=Re}if(Oe.done)return a(D,le),xe&&ni(D,Se),ce;if(le===null){for(;!Oe.done;Se++,Oe=O.next())Oe=Y(D,Oe.value,z),Oe!==null&&(M=v(Oe,M,Se),De===null?ce=Oe:De.sibling=Oe,De=Oe);return xe&&ni(D,Se),ce}for(le=u(le);!Oe.done;Se++,Oe=O.next())Oe=V(le,D,Se,Oe.value,z),Oe!==null&&(o&&Oe.alternate!==null&&le.delete(Oe.key===null?Se:Oe.key),M=v(Oe,M,Se),De===null?ce=Oe:De.sibling=Oe,De=Oe);return o&&le.forEach(function($x){return s(D,$x)}),xe&&ni(D,Se),ce}function ze(D,M,O,z){if(typeof O=="object"&&O!==null&&O.type===R&&O.key===null&&(O=O.props.children),typeof O=="object"&&O!==null){switch(O.$$typeof){case T:e:{for(var ce=O.key;M!==null;){if(M.key===ce){if(ce=O.type,ce===R){if(M.tag===7){a(D,M.sibling),z=g(M,O.props.children),z.return=D,D=z;break e}}else if(M.elementType===ce||typeof ce=="object"&&ce!==null&&ce.$$typeof===oe&&wo(ce)===M.type){a(D,M.sibling),z=g(M,O.props),kr(z,O),z.return=D,D=z;break e}a(D,M);break}else s(D,M);M=M.sibling}O.type===R?(z=Eo(O.props.children,D.mode,z,O.key),z.return=D,D=z):(z=pl(O.type,O.key,O.props,null,D.mode,z),kr(z,O),z.return=D,D=z)}return E(D);case b:e:{for(ce=O.key;M!==null;){if(M.key===ce)if(M.tag===4&&M.stateNode.containerInfo===O.containerInfo&&M.stateNode.implementation===O.implementation){a(D,M.sibling),z=g(M,O.children||[]),z.return=D,D=z;break e}else{a(D,M);break}else s(D,M);M=M.sibling}z=Mf(O,D.mode,z),z.return=D,D=z}return E(D);case oe:return O=wo(O),ze(D,M,O,z)}if(nt(O))return se(D,M,O,z);if(He(O)){if(ce=He(O),typeof ce!="function")throw Error(i(150));return O=ce.call(O),he(D,M,O,z)}if(typeof O.then=="function")return ze(D,M,El(O),z);if(O.$$typeof===B)return ze(D,M,vl(D,O),z);Tl(D,O)}return typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint"?(O=""+O,M!==null&&M.tag===6?(a(D,M.sibling),z=g(M,O),z.return=D,D=z):(a(D,M),z=xf(O,D.mode,z),z.return=D,D=z),E(D)):a(D,M)}return function(D,M,O,z){try{Pr=0;var ce=ze(D,M,O,z);return Es=null,ce}catch(le){if(le===Ss||le===_l)throw le;var De=Yt(29,le,null,D.mode);return De.lanes=z,De.return=D,De}finally{}}}var xo=uv(!0),cv=uv(!1),Bi=!1;function Vf(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function qf(o,s){o=o.updateQueue,s.updateQueue===o&&(s.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,callbacks:null})}function Hi(o){return{lane:o,tag:0,payload:null,callback:null,next:null}}function Gi(o,s,a){var u=o.updateQueue;if(u===null)return null;if(u=u.shared,(Be&2)!==0){var g=u.pending;return g===null?s.next=s:(s.next=g.next,g.next=s),u.pending=s,s=hl(o),Yg(o,null,a),s}return dl(o,u,s,a),hl(o)}function Br(o,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194048)!==0)){var u=s.lanes;u&=o.pendingLanes,a|=u,s.lanes=a,tg(o,a)}}function Ff(o,s){var a=o.updateQueue,u=o.alternate;if(u!==null&&(u=u.updateQueue,a===u)){var g=null,v=null;if(a=a.firstBaseUpdate,a!==null){do{var E={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};v===null?g=v=E:v=v.next=E,a=a.next}while(a!==null);v===null?g=v=s:v=v.next=s}else g=v=s;a={baseState:u.baseState,firstBaseUpdate:g,lastBaseUpdate:v,shared:u.shared,callbacks:u.callbacks},o.updateQueue=a;return}o=a.lastBaseUpdate,o===null?a.firstBaseUpdate=s:o.next=s,a.lastBaseUpdate=s}var zf=!1;function Hr(){if(zf){var o=_s;if(o!==null)throw o}}function Gr(o,s,a,u){zf=!1;var g=o.updateQueue;Bi=!1;var v=g.firstBaseUpdate,E=g.lastBaseUpdate,A=g.shared.pending;if(A!==null){g.shared.pending=null;var w=A,U=w.next;w.next=null,E===null?v=U:E.next=U,E=w;var F=o.alternate;F!==null&&(F=F.updateQueue,A=F.lastBaseUpdate,A!==E&&(A===null?F.firstBaseUpdate=U:A.next=U,F.lastBaseUpdate=w))}if(v!==null){var Y=g.baseState;E=0,F=U=w=null,A=v;do{var k=A.lane&-536870913,V=k!==A.lane;if(V?(we&k)===k:(u&k)===k){k!==0&&k===ys&&(zf=!0),F!==null&&(F=F.next={lane:0,tag:A.tag,payload:A.payload,callback:null,next:null});e:{var se=o,he=A;k=s;var ze=a;switch(he.tag){case 1:if(se=he.payload,typeof se=="function"){Y=se.call(ze,Y,k);break e}Y=se;break e;case 3:se.flags=se.flags&-65537|128;case 0:if(se=he.payload,k=typeof se=="function"?se.call(ze,Y,k):se,k==null)break e;Y=_({},Y,k);break e;case 2:Bi=!0}}k=A.callback,k!==null&&(o.flags|=64,V&&(o.flags|=8192),V=g.callbacks,V===null?g.callbacks=[k]:V.push(k))}else V={lane:k,tag:A.tag,payload:A.payload,callback:A.callback,next:null},F===null?(U=F=V,w=Y):F=F.next=V,E|=k;if(A=A.next,A===null){if(A=g.shared.pending,A===null)break;V=A,A=V.next,V.next=null,g.lastBaseUpdate=V,g.shared.pending=null}}while(!0);F===null&&(w=Y),g.baseState=w,g.firstBaseUpdate=U,g.lastBaseUpdate=F,v===null&&(g.shared.lanes=0),$i|=E,o.lanes=E,o.memoizedState=Y}}function fv(o,s){if(typeof o!="function")throw Error(i(191,o));o.call(s)}function dv(o,s){var a=o.callbacks;if(a!==null)for(o.callbacks=null,o=0;o<a.length;o++)fv(a[o],s)}var Ts=N(null),Al=N(0);function hv(o,s){o=hi,j(Al,o),j(Ts,s),hi=o|s.baseLanes}function $f(){j(Al,hi),j(Ts,Ts.current)}function Jf(){hi=Al.current,J(Ts),J(Al)}var Kt=N(null),pn=null;function Vi(o){var s=o.alternate;j(it,it.current&1),j(Kt,o),pn===null&&(s===null||Ts.current!==null||s.memoizedState!==null)&&(pn=o)}function Yf(o){j(it,it.current),j(Kt,o),pn===null&&(pn=o)}function pv(o){o.tag===22?(j(it,it.current),j(Kt,o),pn===null&&(pn=o)):qi()}function qi(){j(it,it.current),j(Kt,Kt.current)}function Xt(o){J(Kt),pn===o&&(pn=null),J(it)}var it=N(0);function Cl(o){for(var s=o;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||jd(a)||eh(a)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===o)break;for(;s.sibling===null;){if(s.return===null||s.return===o)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var si=0,_e=null,qe=null,rt=null,bl=!1,As=!1,Mo=!1,wl=0,Vr=0,Cs=null,LR=0;function et(){throw Error(i(321))}function Kf(o,s){if(s===null)return!1;for(var a=0;a<s.length&&a<o.length;a++)if(!Jt(o[a],s[a]))return!1;return!0}function Xf(o,s,a,u,g,v){return si=v,_e=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,G.H=o===null||o.memoizedState===null?Wv:cd,Mo=!1,v=a(u,g),Mo=!1,As&&(v=gv(s,a,u,g)),mv(o),v}function mv(o){G.H=zr;var s=qe!==null&&qe.next!==null;if(si=0,rt=qe=_e=null,bl=!1,Vr=0,Cs=null,s)throw Error(i(300));o===null||at||(o=o.dependencies,o!==null&&gl(o)&&(at=!0))}function gv(o,s,a,u){_e=o;var g=0;do{if(As&&(Cs=null),Vr=0,As=!1,25<=g)throw Error(i(301));if(g+=1,rt=qe=null,o.updateQueue!=null){var v=o.updateQueue;v.lastEffect=null,v.events=null,v.stores=null,v.memoCache!=null&&(v.memoCache.index=0)}G.H=Zv,v=s(a,u)}while(As);return v}function PR(){var o=G.H,s=o.useState()[0];return s=typeof s.then=="function"?qr(s):s,o=o.useState()[0],(qe!==null?qe.memoizedState:null)!==o&&(_e.flags|=1024),s}function Qf(){var o=wl!==0;return wl=0,o}function Wf(o,s,a){s.updateQueue=o.updateQueue,s.flags&=-2053,o.lanes&=~a}function Zf(o){if(bl){for(o=o.memoizedState;o!==null;){var s=o.queue;s!==null&&(s.pending=null),o=o.next}bl=!1}si=0,rt=qe=_e=null,As=!1,Vr=wl=0,Cs=null}function It(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return rt===null?_e.memoizedState=rt=o:rt=rt.next=o,rt}function ot(){if(qe===null){var o=_e.alternate;o=o!==null?o.memoizedState:null}else o=qe.next;var s=rt===null?_e.memoizedState:rt.next;if(s!==null)rt=s,qe=o;else{if(o===null)throw _e.alternate===null?Error(i(467)):Error(i(310));qe=o,o={memoizedState:qe.memoizedState,baseState:qe.baseState,baseQueue:qe.baseQueue,queue:qe.queue,next:null},rt===null?_e.memoizedState=rt=o:rt=rt.next=o}return rt}function Rl(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function qr(o){var s=Vr;return Vr+=1,Cs===null&&(Cs=[]),o=rv(Cs,o,s),s=_e,(rt===null?s.memoizedState:rt.next)===null&&(s=s.alternate,G.H=s===null||s.memoizedState===null?Wv:cd),o}function xl(o){if(o!==null&&typeof o=="object"){if(typeof o.then=="function")return qr(o);if(o.$$typeof===B)return Tt(o)}throw Error(i(438,String(o)))}function jf(o){var s=null,a=_e.updateQueue;if(a!==null&&(s=a.memoCache),s==null){var u=_e.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(s={data:u.data.map(function(g){return g.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),a===null&&(a=Rl(),_e.updateQueue=a),a.memoCache=s,a=s.data[s.index],a===void 0)for(a=s.data[s.index]=Array(o),u=0;u<o;u++)a[u]=ae;return s.index++,a}function ri(o,s){return typeof s=="function"?s(o):s}function Ml(o){var s=ot();return ed(s,qe,o)}function ed(o,s,a){var u=o.queue;if(u===null)throw Error(i(311));u.lastRenderedReducer=a;var g=o.baseQueue,v=u.pending;if(v!==null){if(g!==null){var E=g.next;g.next=v.next,v.next=E}s.baseQueue=g=v,u.pending=null}if(v=o.baseState,g===null)o.memoizedState=v;else{s=g.next;var A=E=null,w=null,U=s,F=!1;do{var Y=U.lane&-536870913;if(Y!==U.lane?(we&Y)===Y:(si&Y)===Y){var k=U.revertLane;if(k===0)w!==null&&(w=w.next={lane:0,revertLane:0,gesture:null,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null}),Y===ys&&(F=!0);else if((si&k)===k){U=U.next,k===ys&&(F=!0);continue}else Y={lane:0,revertLane:U.revertLane,gesture:null,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},w===null?(A=w=Y,E=v):w=w.next=Y,_e.lanes|=k,$i|=k;Y=U.action,Mo&&a(v,Y),v=U.hasEagerState?U.eagerState:a(v,Y)}else k={lane:Y,revertLane:U.revertLane,gesture:U.gesture,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},w===null?(A=w=k,E=v):w=w.next=k,_e.lanes|=Y,$i|=Y;U=U.next}while(U!==null&&U!==s);if(w===null?E=v:w.next=A,!Jt(v,o.memoizedState)&&(at=!0,F&&(a=_s,a!==null)))throw a;o.memoizedState=v,o.baseState=E,o.baseQueue=w,u.lastRenderedState=v}return g===null&&(u.lanes=0),[o.memoizedState,u.dispatch]}function td(o){var s=ot(),a=s.queue;if(a===null)throw Error(i(311));a.lastRenderedReducer=o;var u=a.dispatch,g=a.pending,v=s.memoizedState;if(g!==null){a.pending=null;var E=g=g.next;do v=o(v,E.action),E=E.next;while(E!==g);Jt(v,s.memoizedState)||(at=!0),s.memoizedState=v,s.baseQueue===null&&(s.baseState=v),a.lastRenderedState=v}return[v,u]}function vv(o,s,a){var u=_e,g=ot(),v=xe;if(v){if(a===void 0)throw Error(i(407));a=a()}else a=s();var E=!Jt((qe||g).memoizedState,a);if(E&&(g.memoizedState=a,at=!0),g=g.queue,od(Sv.bind(null,u,g,o),[o]),g.getSnapshot!==s||E||rt!==null&&rt.memoizedState.tag&1){if(u.flags|=2048,bs(9,{destroy:void 0},_v.bind(null,u,g,a,s),null),Je===null)throw Error(i(349));v||(si&127)!==0||yv(u,s,a)}return a}function yv(o,s,a){o.flags|=16384,o={getSnapshot:s,value:a},s=_e.updateQueue,s===null?(s=Rl(),_e.updateQueue=s,s.stores=[o]):(a=s.stores,a===null?s.stores=[o]:a.push(o))}function _v(o,s,a,u){s.value=a,s.getSnapshot=u,Ev(s)&&Tv(o)}function Sv(o,s,a){return a(function(){Ev(s)&&Tv(o)})}function Ev(o){var s=o.getSnapshot;o=o.value;try{var a=s();return!Jt(o,a)}catch{return!0}}function Tv(o){var s=So(o,2);s!==null&&Vt(s,o,2)}function nd(o){var s=It();if(typeof o=="function"){var a=o;if(o=a(),Mo){Ii(!0);try{a()}finally{Ii(!1)}}}return s.memoizedState=s.baseState=o,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ri,lastRenderedState:o},s}function Av(o,s,a,u){return o.baseState=a,ed(o,qe,typeof u=="function"?u:ri)}function kR(o,s,a,u,g){if(Dl(o))throw Error(i(485));if(o=s.action,o!==null){var v={payload:g,action:o,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){v.listeners.push(E)}};G.T!==null?a(!0):v.isTransition=!1,u(v),a=s.pending,a===null?(v.next=s.pending=v,Cv(s,v)):(v.next=a.next,s.pending=a.next=v)}}function Cv(o,s){var a=s.action,u=s.payload,g=o.state;if(s.isTransition){var v=G.T,E={};G.T=E;try{var A=a(g,u),w=G.S;w!==null&&w(E,A),bv(o,s,A)}catch(U){id(o,s,U)}finally{v!==null&&E.types!==null&&(v.types=E.types),G.T=v}}else try{v=a(g,u),bv(o,s,v)}catch(U){id(o,s,U)}}function bv(o,s,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(u){wv(o,s,u)},function(u){return id(o,s,u)}):wv(o,s,a)}function wv(o,s,a){s.status="fulfilled",s.value=a,Rv(s),o.state=a,s=o.pending,s!==null&&(a=s.next,a===s?o.pending=null:(a=a.next,s.next=a,Cv(o,a)))}function id(o,s,a){var u=o.pending;if(o.pending=null,u!==null){u=u.next;do s.status="rejected",s.reason=a,Rv(s),s=s.next;while(s!==u)}o.action=null}function Rv(o){o=o.listeners;for(var s=0;s<o.length;s++)(0,o[s])()}function xv(o,s){return s}function Mv(o,s){if(xe){var a=Je.formState;if(a!==null){e:{var u=_e;if(xe){if(We){t:{for(var g=We,v=hn;g.nodeType!==8;){if(!v){g=null;break t}if(g=mn(g.nextSibling),g===null){g=null;break t}}v=g.data,g=v==="F!"||v==="F"?g:null}if(g){We=mn(g.nextSibling),u=g.data==="F!";break e}}Pi(u)}u=!1}u&&(s=a[0])}}return a=It(),a.memoizedState=a.baseState=s,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:xv,lastRenderedState:s},a.queue=u,a=Kv.bind(null,_e,u),u.dispatch=a,u=nd(!1),v=ud.bind(null,_e,!1,u.queue),u=It(),g={state:s,dispatch:null,action:o,pending:null},u.queue=g,a=kR.bind(null,_e,g,v,a),g.dispatch=a,u.memoizedState=o,[s,a,!1]}function Nv(o){var s=ot();return Iv(s,qe,o)}function Iv(o,s,a){if(s=ed(o,s,xv)[0],o=Ml(ri)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var u=qr(s)}catch(E){throw E===Ss?_l:E}else u=s;s=ot();var g=s.queue,v=g.dispatch;return a!==s.memoizedState&&(_e.flags|=2048,bs(9,{destroy:void 0},BR.bind(null,g,a),null)),[u,v,o]}function BR(o,s){o.action=s}function Dv(o){var s=ot(),a=qe;if(a!==null)return Iv(s,a,o);ot(),s=s.memoizedState,a=ot();var u=a.queue.dispatch;return a.memoizedState=o,[s,u,!1]}function bs(o,s,a,u){return o={tag:o,create:a,deps:u,inst:s,next:null},s=_e.updateQueue,s===null&&(s=Rl(),_e.updateQueue=s),a=s.lastEffect,a===null?s.lastEffect=o.next=o:(u=a.next,a.next=o,o.next=u,s.lastEffect=o),o}function Ov(){return ot().memoizedState}function Nl(o,s,a,u){var g=It();_e.flags|=o,g.memoizedState=bs(1|s,{destroy:void 0},a,u===void 0?null:u)}function Il(o,s,a,u){var g=ot();u=u===void 0?null:u;var v=g.memoizedState.inst;qe!==null&&u!==null&&Kf(u,qe.memoizedState.deps)?g.memoizedState=bs(s,v,a,u):(_e.flags|=o,g.memoizedState=bs(1|s,v,a,u))}function Uv(o,s){Nl(8390656,8,o,s)}function od(o,s){Il(2048,8,o,s)}function HR(o){_e.flags|=4;var s=_e.updateQueue;if(s===null)s=Rl(),_e.updateQueue=s,s.events=[o];else{var a=s.events;a===null?s.events=[o]:a.push(o)}}function Lv(o){var s=ot().memoizedState;return HR({ref:s,nextImpl:o}),function(){if((Be&2)!==0)throw Error(i(440));return s.impl.apply(void 0,arguments)}}function Pv(o,s){return Il(4,2,o,s)}function kv(o,s){return Il(4,4,o,s)}function Bv(o,s){if(typeof s=="function"){o=o();var a=s(o);return function(){typeof a=="function"?a():s(null)}}if(s!=null)return o=o(),s.current=o,function(){s.current=null}}function Hv(o,s,a){a=a!=null?a.concat([o]):null,Il(4,4,Bv.bind(null,s,o),a)}function sd(){}function Gv(o,s){var a=ot();s=s===void 0?null:s;var u=a.memoizedState;return s!==null&&Kf(s,u[1])?u[0]:(a.memoizedState=[o,s],o)}function Vv(o,s){var a=ot();s=s===void 0?null:s;var u=a.memoizedState;if(s!==null&&Kf(s,u[1]))return u[0];if(u=o(),Mo){Ii(!0);try{o()}finally{Ii(!1)}}return a.memoizedState=[u,s],u}function rd(o,s,a){return a===void 0||(si&1073741824)!==0&&(we&261930)===0?o.memoizedState=s:(o.memoizedState=a,o=qy(),_e.lanes|=o,$i|=o,a)}function qv(o,s,a,u){return Jt(a,s)?a:Ts.current!==null?(o=rd(o,a,u),Jt(o,s)||(at=!0),o):(si&42)===0||(si&1073741824)!==0&&(we&261930)===0?(at=!0,o.memoizedState=a):(o=qy(),_e.lanes|=o,$i|=o,s)}function Fv(o,s,a,u,g){var v=W.p;W.p=v!==0&&8>v?v:8;var E=G.T,A={};G.T=A,ud(o,!1,s,a);try{var w=g(),U=G.S;if(U!==null&&U(A,w),w!==null&&typeof w=="object"&&typeof w.then=="function"){var F=UR(w,u);Fr(o,s,F,Zt(o))}else Fr(o,s,u,Zt(o))}catch(Y){Fr(o,s,{then:function(){},status:"rejected",reason:Y},Zt())}finally{W.p=v,E!==null&&A.types!==null&&(E.types=A.types),G.T=E}}function GR(){}function ad(o,s,a,u){if(o.tag!==5)throw Error(i(476));var g=zv(o).queue;Fv(o,g,s,ie,a===null?GR:function(){return $v(o),a(u)})}function zv(o){var s=o.memoizedState;if(s!==null)return s;s={memoizedState:ie,baseState:ie,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ri,lastRenderedState:ie},next:null};var a={};return s.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ri,lastRenderedState:a},next:null},o.memoizedState=s,o=o.alternate,o!==null&&(o.memoizedState=s),s}function $v(o){var s=zv(o);s.next===null&&(s=o.alternate.memoizedState),Fr(o,s.next.queue,{},Zt())}function ld(){return Tt(ra)}function Jv(){return ot().memoizedState}function Yv(){return ot().memoizedState}function VR(o){for(var s=o.return;s!==null;){switch(s.tag){case 24:case 3:var a=Zt();o=Hi(a);var u=Gi(s,o,a);u!==null&&(Vt(u,s,a),Br(u,s,a)),s={cache:kf()},o.payload=s;return}s=s.return}}function qR(o,s,a){var u=Zt();a={lane:u,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Dl(o)?Xv(s,a):(a=wf(o,s,a,u),a!==null&&(Vt(a,o,u),Qv(a,s,u)))}function Kv(o,s,a){var u=Zt();Fr(o,s,a,u)}function Fr(o,s,a,u){var g={lane:u,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Dl(o))Xv(s,g);else{var v=o.alternate;if(o.lanes===0&&(v===null||v.lanes===0)&&(v=s.lastRenderedReducer,v!==null))try{var E=s.lastRenderedState,A=v(E,a);if(g.hasEagerState=!0,g.eagerState=A,Jt(A,E))return dl(o,s,g,0),Je===null&&fl(),!1}catch{}finally{}if(a=wf(o,s,g,u),a!==null)return Vt(a,o,u),Qv(a,s,u),!0}return!1}function ud(o,s,a,u){if(u={lane:2,revertLane:Vd(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},Dl(o)){if(s)throw Error(i(479))}else s=wf(o,a,u,2),s!==null&&Vt(s,o,2)}function Dl(o){var s=o.alternate;return o===_e||s!==null&&s===_e}function Xv(o,s){As=bl=!0;var a=o.pending;a===null?s.next=s:(s.next=a.next,a.next=s),o.pending=s}function Qv(o,s,a){if((a&4194048)!==0){var u=s.lanes;u&=o.pendingLanes,a|=u,s.lanes=a,tg(o,a)}}var zr={readContext:Tt,use:xl,useCallback:et,useContext:et,useEffect:et,useImperativeHandle:et,useLayoutEffect:et,useInsertionEffect:et,useMemo:et,useReducer:et,useRef:et,useState:et,useDebugValue:et,useDeferredValue:et,useTransition:et,useSyncExternalStore:et,useId:et,useHostTransitionStatus:et,useFormState:et,useActionState:et,useOptimistic:et,useMemoCache:et,useCacheRefresh:et};zr.useEffectEvent=et;var Wv={readContext:Tt,use:xl,useCallback:function(o,s){return It().memoizedState=[o,s===void 0?null:s],o},useContext:Tt,useEffect:Uv,useImperativeHandle:function(o,s,a){a=a!=null?a.concat([o]):null,Nl(4194308,4,Bv.bind(null,s,o),a)},useLayoutEffect:function(o,s){return Nl(4194308,4,o,s)},useInsertionEffect:function(o,s){Nl(4,2,o,s)},useMemo:function(o,s){var a=It();s=s===void 0?null:s;var u=o();if(Mo){Ii(!0);try{o()}finally{Ii(!1)}}return a.memoizedState=[u,s],u},useReducer:function(o,s,a){var u=It();if(a!==void 0){var g=a(s);if(Mo){Ii(!0);try{a(s)}finally{Ii(!1)}}}else g=s;return u.memoizedState=u.baseState=g,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:g},u.queue=o,o=o.dispatch=qR.bind(null,_e,o),[u.memoizedState,o]},useRef:function(o){var s=It();return o={current:o},s.memoizedState=o},useState:function(o){o=nd(o);var s=o.queue,a=Kv.bind(null,_e,s);return s.dispatch=a,[o.memoizedState,a]},useDebugValue:sd,useDeferredValue:function(o,s){var a=It();return rd(a,o,s)},useTransition:function(){var o=nd(!1);return o=Fv.bind(null,_e,o.queue,!0,!1),It().memoizedState=o,[!1,o]},useSyncExternalStore:function(o,s,a){var u=_e,g=It();if(xe){if(a===void 0)throw Error(i(407));a=a()}else{if(a=s(),Je===null)throw Error(i(349));(we&127)!==0||yv(u,s,a)}g.memoizedState=a;var v={value:a,getSnapshot:s};return g.queue=v,Uv(Sv.bind(null,u,v,o),[o]),u.flags|=2048,bs(9,{destroy:void 0},_v.bind(null,u,v,a,s),null),a},useId:function(){var o=It(),s=Je.identifierPrefix;if(xe){var a=Vn,u=Gn;a=(u&~(1<<32-$t(u)-1)).toString(32)+a,s="_"+s+"R_"+a,a=wl++,0<a&&(s+="H"+a.toString(32)),s+="_"}else a=LR++,s="_"+s+"r_"+a.toString(32)+"_";return o.memoizedState=s},useHostTransitionStatus:ld,useFormState:Mv,useActionState:Mv,useOptimistic:function(o){var s=It();s.memoizedState=s.baseState=o;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=a,s=ud.bind(null,_e,!0,a),a.dispatch=s,[o,s]},useMemoCache:jf,useCacheRefresh:function(){return It().memoizedState=VR.bind(null,_e)},useEffectEvent:function(o){var s=It(),a={impl:o};return s.memoizedState=a,function(){if((Be&2)!==0)throw Error(i(440));return a.impl.apply(void 0,arguments)}}},cd={readContext:Tt,use:xl,useCallback:Gv,useContext:Tt,useEffect:od,useImperativeHandle:Hv,useInsertionEffect:Pv,useLayoutEffect:kv,useMemo:Vv,useReducer:Ml,useRef:Ov,useState:function(){return Ml(ri)},useDebugValue:sd,useDeferredValue:function(o,s){var a=ot();return qv(a,qe.memoizedState,o,s)},useTransition:function(){var o=Ml(ri)[0],s=ot().memoizedState;return[typeof o=="boolean"?o:qr(o),s]},useSyncExternalStore:vv,useId:Jv,useHostTransitionStatus:ld,useFormState:Nv,useActionState:Nv,useOptimistic:function(o,s){var a=ot();return Av(a,qe,o,s)},useMemoCache:jf,useCacheRefresh:Yv};cd.useEffectEvent=Lv;var Zv={readContext:Tt,use:xl,useCallback:Gv,useContext:Tt,useEffect:od,useImperativeHandle:Hv,useInsertionEffect:Pv,useLayoutEffect:kv,useMemo:Vv,useReducer:td,useRef:Ov,useState:function(){return td(ri)},useDebugValue:sd,useDeferredValue:function(o,s){var a=ot();return qe===null?rd(a,o,s):qv(a,qe.memoizedState,o,s)},useTransition:function(){var o=td(ri)[0],s=ot().memoizedState;return[typeof o=="boolean"?o:qr(o),s]},useSyncExternalStore:vv,useId:Jv,useHostTransitionStatus:ld,useFormState:Dv,useActionState:Dv,useOptimistic:function(o,s){var a=ot();return qe!==null?Av(a,qe,o,s):(a.baseState=o,[o,a.queue.dispatch])},useMemoCache:jf,useCacheRefresh:Yv};Zv.useEffectEvent=Lv;function fd(o,s,a,u){s=o.memoizedState,a=a(u,s),a=a==null?s:_({},s,a),o.memoizedState=a,o.lanes===0&&(o.updateQueue.baseState=a)}var dd={enqueueSetState:function(o,s,a){o=o._reactInternals;var u=Zt(),g=Hi(u);g.payload=s,a!=null&&(g.callback=a),s=Gi(o,g,u),s!==null&&(Vt(s,o,u),Br(s,o,u))},enqueueReplaceState:function(o,s,a){o=o._reactInternals;var u=Zt(),g=Hi(u);g.tag=1,g.payload=s,a!=null&&(g.callback=a),s=Gi(o,g,u),s!==null&&(Vt(s,o,u),Br(s,o,u))},enqueueForceUpdate:function(o,s){o=o._reactInternals;var a=Zt(),u=Hi(a);u.tag=2,s!=null&&(u.callback=s),s=Gi(o,u,a),s!==null&&(Vt(s,o,a),Br(s,o,a))}};function jv(o,s,a,u,g,v,E){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(u,v,E):s.prototype&&s.prototype.isPureReactComponent?!Nr(a,u)||!Nr(g,v):!0}function ey(o,s,a,u){o=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,u),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,u),s.state!==o&&dd.enqueueReplaceState(s,s.state,null)}function No(o,s){var a=s;if("ref"in s){a={};for(var u in s)u!=="ref"&&(a[u]=s[u])}if(o=o.defaultProps){a===s&&(a=_({},a));for(var g in o)a[g]===void 0&&(a[g]=o[g])}return a}function ty(o){cl(o)}function ny(o){console.error(o)}function iy(o){cl(o)}function Ol(o,s){try{var a=o.onUncaughtError;a(s.value,{componentStack:s.stack})}catch(u){setTimeout(function(){throw u})}}function oy(o,s,a){try{var u=o.onCaughtError;u(a.value,{componentStack:a.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function hd(o,s,a){return a=Hi(a),a.tag=3,a.payload={element:null},a.callback=function(){Ol(o,s)},a}function sy(o){return o=Hi(o),o.tag=3,o}function ry(o,s,a,u){var g=a.type.getDerivedStateFromError;if(typeof g=="function"){var v=u.value;o.payload=function(){return g(v)},o.callback=function(){oy(s,a,u)}}var E=a.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(o.callback=function(){oy(s,a,u),typeof g!="function"&&(Ji===null?Ji=new Set([this]):Ji.add(this));var A=u.stack;this.componentDidCatch(u.value,{componentStack:A!==null?A:""})})}function FR(o,s,a,u,g){if(a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(s=a.alternate,s!==null&&vs(s,a,g,!0),a=Kt.current,a!==null){switch(a.tag){case 31:case 13:return pn===null?$l():a.alternate===null&&tt===0&&(tt=3),a.flags&=-257,a.flags|=65536,a.lanes=g,u===Sl?a.flags|=16384:(s=a.updateQueue,s===null?a.updateQueue=new Set([u]):s.add(u),Bd(o,u,g)),!1;case 22:return a.flags|=65536,u===Sl?a.flags|=16384:(s=a.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([u])},a.updateQueue=s):(a=s.retryQueue,a===null?s.retryQueue=new Set([u]):a.add(u)),Bd(o,u,g)),!1}throw Error(i(435,a.tag))}return Bd(o,u,g),$l(),!1}if(xe)return s=Kt.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=g,u!==Df&&(o=Error(i(422),{cause:u}),Or(cn(o,a)))):(u!==Df&&(s=Error(i(423),{cause:u}),Or(cn(s,a))),o=o.current.alternate,o.flags|=65536,g&=-g,o.lanes|=g,u=cn(u,a),g=hd(o.stateNode,u,g),Ff(o,g),tt!==4&&(tt=2)),!1;var v=Error(i(520),{cause:u});if(v=cn(v,a),Zr===null?Zr=[v]:Zr.push(v),tt!==4&&(tt=2),s===null)return!0;u=cn(u,a),a=s;do{switch(a.tag){case 3:return a.flags|=65536,o=g&-g,a.lanes|=o,o=hd(a.stateNode,u,o),Ff(a,o),!1;case 1:if(s=a.type,v=a.stateNode,(a.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(Ji===null||!Ji.has(v))))return a.flags|=65536,g&=-g,a.lanes|=g,g=sy(g),ry(g,o,a,u),Ff(a,g),!1}a=a.return}while(a!==null);return!1}var pd=Error(i(461)),at=!1;function At(o,s,a,u){s.child=o===null?cv(s,null,a,u):xo(s,o.child,a,u)}function ay(o,s,a,u,g){a=a.render;var v=s.ref;if("ref"in u){var E={};for(var A in u)A!=="ref"&&(E[A]=u[A])}else E=u;return Co(s),u=Xf(o,s,a,E,v,g),A=Qf(),o!==null&&!at?(Wf(o,s,g),ai(o,s,g)):(xe&&A&&Nf(s),s.flags|=1,At(o,s,u,g),s.child)}function ly(o,s,a,u,g){if(o===null){var v=a.type;return typeof v=="function"&&!Rf(v)&&v.defaultProps===void 0&&a.compare===null?(s.tag=15,s.type=v,uy(o,s,v,u,g)):(o=pl(a.type,null,u,s,s.mode,g),o.ref=s.ref,o.return=s,s.child=o)}if(v=o.child,!Td(o,g)){var E=v.memoizedProps;if(a=a.compare,a=a!==null?a:Nr,a(E,u)&&o.ref===s.ref)return ai(o,s,g)}return s.flags|=1,o=ti(v,u),o.ref=s.ref,o.return=s,s.child=o}function uy(o,s,a,u,g){if(o!==null){var v=o.memoizedProps;if(Nr(v,u)&&o.ref===s.ref)if(at=!1,s.pendingProps=u=v,Td(o,g))(o.flags&131072)!==0&&(at=!0);else return s.lanes=o.lanes,ai(o,s,g)}return md(o,s,a,u,g)}function cy(o,s,a,u){var g=u.children,v=o!==null?o.memoizedState:null;if(o===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((s.flags&128)!==0){if(v=v!==null?v.baseLanes|a:a,o!==null){for(u=s.child=o.child,g=0;u!==null;)g=g|u.lanes|u.childLanes,u=u.sibling;u=g&~v}else u=0,s.child=null;return fy(o,s,v,a,u)}if((a&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},o!==null&&yl(s,v!==null?v.cachePool:null),v!==null?hv(s,v):$f(),pv(s);else return u=s.lanes=536870912,fy(o,s,v!==null?v.baseLanes|a:a,a,u)}else v!==null?(yl(s,v.cachePool),hv(s,v),qi(),s.memoizedState=null):(o!==null&&yl(s,null),$f(),qi());return At(o,s,g,a),s.child}function $r(o,s){return o!==null&&o.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function fy(o,s,a,u,g){var v=Hf();return v=v===null?null:{parent:st._currentValue,pool:v},s.memoizedState={baseLanes:a,cachePool:v},o!==null&&yl(s,null),$f(),pv(s),o!==null&&vs(o,s,u,!0),s.childLanes=g,null}function Ul(o,s){return s=Pl({mode:s.mode,children:s.children},o.mode),s.ref=o.ref,o.child=s,s.return=o,s}function dy(o,s,a){return xo(s,o.child,null,a),o=Ul(s,s.pendingProps),o.flags|=2,Xt(s),s.memoizedState=null,o}function zR(o,s,a){var u=s.pendingProps,g=(s.flags&128)!==0;if(s.flags&=-129,o===null){if(xe){if(u.mode==="hidden")return o=Ul(s,u),s.lanes=536870912,$r(null,o);if(Yf(s),(o=We)?(o=C_(o,hn),o=o!==null&&o.data==="&"?o:null,o!==null&&(s.memoizedState={dehydrated:o,treeContext:Ui!==null?{id:Gn,overflow:Vn}:null,retryLane:536870912,hydrationErrors:null},a=Xg(o),a.return=s,s.child=a,Et=s,We=null)):o=null,o===null)throw Pi(s);return s.lanes=536870912,null}return Ul(s,u)}var v=o.memoizedState;if(v!==null){var E=v.dehydrated;if(Yf(s),g)if(s.flags&256)s.flags&=-257,s=dy(o,s,a);else if(s.memoizedState!==null)s.child=o.child,s.flags|=128,s=null;else throw Error(i(558));else if(at||vs(o,s,a,!1),g=(a&o.childLanes)!==0,at||g){if(u=Je,u!==null&&(E=ng(u,a),E!==0&&E!==v.retryLane))throw v.retryLane=E,So(o,E),Vt(u,o,E),pd;$l(),s=dy(o,s,a)}else o=v.treeContext,We=mn(E.nextSibling),Et=s,xe=!0,Li=null,hn=!1,o!==null&&Zg(s,o),s=Ul(s,u),s.flags|=4096;return s}return o=ti(o.child,{mode:u.mode,children:u.children}),o.ref=s.ref,s.child=o,o.return=s,o}function Ll(o,s){var a=s.ref;if(a===null)o!==null&&o.ref!==null&&(s.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(i(284));(o===null||o.ref!==a)&&(s.flags|=4194816)}}function md(o,s,a,u,g){return Co(s),a=Xf(o,s,a,u,void 0,g),u=Qf(),o!==null&&!at?(Wf(o,s,g),ai(o,s,g)):(xe&&u&&Nf(s),s.flags|=1,At(o,s,a,g),s.child)}function hy(o,s,a,u,g,v){return Co(s),s.updateQueue=null,a=gv(s,u,a,g),mv(o),u=Qf(),o!==null&&!at?(Wf(o,s,v),ai(o,s,v)):(xe&&u&&Nf(s),s.flags|=1,At(o,s,a,v),s.child)}function py(o,s,a,u,g){if(Co(s),s.stateNode===null){var v=hs,E=a.contextType;typeof E=="object"&&E!==null&&(v=Tt(E)),v=new a(u,v),s.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,v.updater=dd,s.stateNode=v,v._reactInternals=s,v=s.stateNode,v.props=u,v.state=s.memoizedState,v.refs={},Vf(s),E=a.contextType,v.context=typeof E=="object"&&E!==null?Tt(E):hs,v.state=s.memoizedState,E=a.getDerivedStateFromProps,typeof E=="function"&&(fd(s,a,E,u),v.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof v.getSnapshotBeforeUpdate=="function"||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(E=v.state,typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount(),E!==v.state&&dd.enqueueReplaceState(v,v.state,null),Gr(s,u,v,g),Hr(),v.state=s.memoizedState),typeof v.componentDidMount=="function"&&(s.flags|=4194308),u=!0}else if(o===null){v=s.stateNode;var A=s.memoizedProps,w=No(a,A);v.props=w;var U=v.context,F=a.contextType;E=hs,typeof F=="object"&&F!==null&&(E=Tt(F));var Y=a.getDerivedStateFromProps;F=typeof Y=="function"||typeof v.getSnapshotBeforeUpdate=="function",A=s.pendingProps!==A,F||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(A||U!==E)&&ey(s,v,u,E),Bi=!1;var k=s.memoizedState;v.state=k,Gr(s,u,v,g),Hr(),U=s.memoizedState,A||k!==U||Bi?(typeof Y=="function"&&(fd(s,a,Y,u),U=s.memoizedState),(w=Bi||jv(s,a,w,u,k,U,E))?(F||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"&&(s.flags|=4194308)):(typeof v.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=u,s.memoizedState=U),v.props=u,v.state=U,v.context=E,u=w):(typeof v.componentDidMount=="function"&&(s.flags|=4194308),u=!1)}else{v=s.stateNode,qf(o,s),E=s.memoizedProps,F=No(a,E),v.props=F,Y=s.pendingProps,k=v.context,U=a.contextType,w=hs,typeof U=="object"&&U!==null&&(w=Tt(U)),A=a.getDerivedStateFromProps,(U=typeof A=="function"||typeof v.getSnapshotBeforeUpdate=="function")||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(E!==Y||k!==w)&&ey(s,v,u,w),Bi=!1,k=s.memoizedState,v.state=k,Gr(s,u,v,g),Hr();var V=s.memoizedState;E!==Y||k!==V||Bi||o!==null&&o.dependencies!==null&&gl(o.dependencies)?(typeof A=="function"&&(fd(s,a,A,u),V=s.memoizedState),(F=Bi||jv(s,a,F,u,k,V,w)||o!==null&&o.dependencies!==null&&gl(o.dependencies))?(U||typeof v.UNSAFE_componentWillUpdate!="function"&&typeof v.componentWillUpdate!="function"||(typeof v.componentWillUpdate=="function"&&v.componentWillUpdate(u,V,w),typeof v.UNSAFE_componentWillUpdate=="function"&&v.UNSAFE_componentWillUpdate(u,V,w)),typeof v.componentDidUpdate=="function"&&(s.flags|=4),typeof v.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof v.componentDidUpdate!="function"||E===o.memoizedProps&&k===o.memoizedState||(s.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||E===o.memoizedProps&&k===o.memoizedState||(s.flags|=1024),s.memoizedProps=u,s.memoizedState=V),v.props=u,v.state=V,v.context=w,u=F):(typeof v.componentDidUpdate!="function"||E===o.memoizedProps&&k===o.memoizedState||(s.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||E===o.memoizedProps&&k===o.memoizedState||(s.flags|=1024),u=!1)}return v=u,Ll(o,s),u=(s.flags&128)!==0,v||u?(v=s.stateNode,a=u&&typeof a.getDerivedStateFromError!="function"?null:v.render(),s.flags|=1,o!==null&&u?(s.child=xo(s,o.child,null,g),s.child=xo(s,null,a,g)):At(o,s,a,g),s.memoizedState=v.state,o=s.child):o=ai(o,s,g),o}function my(o,s,a,u){return To(),s.flags|=256,At(o,s,a,u),s.child}var gd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function vd(o){return{baseLanes:o,cachePool:ov()}}function yd(o,s,a){return o=o!==null?o.childLanes&~a:0,s&&(o|=Wt),o}function gy(o,s,a){var u=s.pendingProps,g=!1,v=(s.flags&128)!==0,E;if((E=v)||(E=o!==null&&o.memoizedState===null?!1:(it.current&2)!==0),E&&(g=!0,s.flags&=-129),E=(s.flags&32)!==0,s.flags&=-33,o===null){if(xe){if(g?Vi(s):qi(),(o=We)?(o=C_(o,hn),o=o!==null&&o.data!=="&"?o:null,o!==null&&(s.memoizedState={dehydrated:o,treeContext:Ui!==null?{id:Gn,overflow:Vn}:null,retryLane:536870912,hydrationErrors:null},a=Xg(o),a.return=s,s.child=a,Et=s,We=null)):o=null,o===null)throw Pi(s);return eh(o)?s.lanes=32:s.lanes=536870912,null}var A=u.children;return u=u.fallback,g?(qi(),g=s.mode,A=Pl({mode:"hidden",children:A},g),u=Eo(u,g,a,null),A.return=s,u.return=s,A.sibling=u,s.child=A,u=s.child,u.memoizedState=vd(a),u.childLanes=yd(o,E,a),s.memoizedState=gd,$r(null,u)):(Vi(s),_d(s,A))}var w=o.memoizedState;if(w!==null&&(A=w.dehydrated,A!==null)){if(v)s.flags&256?(Vi(s),s.flags&=-257,s=Sd(o,s,a)):s.memoizedState!==null?(qi(),s.child=o.child,s.flags|=128,s=null):(qi(),A=u.fallback,g=s.mode,u=Pl({mode:"visible",children:u.children},g),A=Eo(A,g,a,null),A.flags|=2,u.return=s,A.return=s,u.sibling=A,s.child=u,xo(s,o.child,null,a),u=s.child,u.memoizedState=vd(a),u.childLanes=yd(o,E,a),s.memoizedState=gd,s=$r(null,u));else if(Vi(s),eh(A)){if(E=A.nextSibling&&A.nextSibling.dataset,E)var U=E.dgst;E=U,u=Error(i(419)),u.stack="",u.digest=E,Or({value:u,source:null,stack:null}),s=Sd(o,s,a)}else if(at||vs(o,s,a,!1),E=(a&o.childLanes)!==0,at||E){if(E=Je,E!==null&&(u=ng(E,a),u!==0&&u!==w.retryLane))throw w.retryLane=u,So(o,u),Vt(E,o,u),pd;jd(A)||$l(),s=Sd(o,s,a)}else jd(A)?(s.flags|=192,s.child=o.child,s=null):(o=w.treeContext,We=mn(A.nextSibling),Et=s,xe=!0,Li=null,hn=!1,o!==null&&Zg(s,o),s=_d(s,u.children),s.flags|=4096);return s}return g?(qi(),A=u.fallback,g=s.mode,w=o.child,U=w.sibling,u=ti(w,{mode:"hidden",children:u.children}),u.subtreeFlags=w.subtreeFlags&65011712,U!==null?A=ti(U,A):(A=Eo(A,g,a,null),A.flags|=2),A.return=s,u.return=s,u.sibling=A,s.child=u,$r(null,u),u=s.child,A=o.child.memoizedState,A===null?A=vd(a):(g=A.cachePool,g!==null?(w=st._currentValue,g=g.parent!==w?{parent:w,pool:w}:g):g=ov(),A={baseLanes:A.baseLanes|a,cachePool:g}),u.memoizedState=A,u.childLanes=yd(o,E,a),s.memoizedState=gd,$r(o.child,u)):(Vi(s),a=o.child,o=a.sibling,a=ti(a,{mode:"visible",children:u.children}),a.return=s,a.sibling=null,o!==null&&(E=s.deletions,E===null?(s.deletions=[o],s.flags|=16):E.push(o)),s.child=a,s.memoizedState=null,a)}function _d(o,s){return s=Pl({mode:"visible",children:s},o.mode),s.return=o,o.child=s}function Pl(o,s){return o=Yt(22,o,null,s),o.lanes=0,o}function Sd(o,s,a){return xo(s,o.child,null,a),o=_d(s,s.pendingProps.children),o.flags|=2,s.memoizedState=null,o}function vy(o,s,a){o.lanes|=s;var u=o.alternate;u!==null&&(u.lanes|=s),Lf(o.return,s,a)}function Ed(o,s,a,u,g,v){var E=o.memoizedState;E===null?o.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:u,tail:a,tailMode:g,treeForkCount:v}:(E.isBackwards=s,E.rendering=null,E.renderingStartTime=0,E.last=u,E.tail=a,E.tailMode=g,E.treeForkCount=v)}function yy(o,s,a){var u=s.pendingProps,g=u.revealOrder,v=u.tail;u=u.children;var E=it.current,A=(E&2)!==0;if(A?(E=E&1|2,s.flags|=128):E&=1,j(it,E),At(o,s,u,a),u=xe?Dr:0,!A&&o!==null&&(o.flags&128)!==0)e:for(o=s.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&vy(o,a,s);else if(o.tag===19)vy(o,a,s);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break e;for(;o.sibling===null;){if(o.return===null||o.return===s)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}switch(g){case"forwards":for(a=s.child,g=null;a!==null;)o=a.alternate,o!==null&&Cl(o)===null&&(g=a),a=a.sibling;a=g,a===null?(g=s.child,s.child=null):(g=a.sibling,a.sibling=null),Ed(s,!1,g,a,v,u);break;case"backwards":case"unstable_legacy-backwards":for(a=null,g=s.child,s.child=null;g!==null;){if(o=g.alternate,o!==null&&Cl(o)===null){s.child=g;break}o=g.sibling,g.sibling=a,a=g,g=o}Ed(s,!0,a,null,v,u);break;case"together":Ed(s,!1,null,null,void 0,u);break;default:s.memoizedState=null}return s.child}function ai(o,s,a){if(o!==null&&(s.dependencies=o.dependencies),$i|=s.lanes,(a&s.childLanes)===0)if(o!==null){if(vs(o,s,a,!1),(a&s.childLanes)===0)return null}else return null;if(o!==null&&s.child!==o.child)throw Error(i(153));if(s.child!==null){for(o=s.child,a=ti(o,o.pendingProps),s.child=a,a.return=s;o.sibling!==null;)o=o.sibling,a=a.sibling=ti(o,o.pendingProps),a.return=s;a.sibling=null}return s.child}function Td(o,s){return(o.lanes&s)!==0?!0:(o=o.dependencies,!!(o!==null&&gl(o)))}function $R(o,s,a){switch(s.tag){case 3:_t(s,s.stateNode.containerInfo),ki(s,st,o.memoizedState.cache),To();break;case 27:case 5:Wn(s);break;case 4:_t(s,s.stateNode.containerInfo);break;case 10:ki(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,Yf(s),null;break;case 13:var u=s.memoizedState;if(u!==null)return u.dehydrated!==null?(Vi(s),s.flags|=128,null):(a&s.child.childLanes)!==0?gy(o,s,a):(Vi(s),o=ai(o,s,a),o!==null?o.sibling:null);Vi(s);break;case 19:var g=(o.flags&128)!==0;if(u=(a&s.childLanes)!==0,u||(vs(o,s,a,!1),u=(a&s.childLanes)!==0),g){if(u)return yy(o,s,a);s.flags|=128}if(g=s.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),j(it,it.current),u)break;return null;case 22:return s.lanes=0,cy(o,s,a,s.pendingProps);case 24:ki(s,st,o.memoizedState.cache)}return ai(o,s,a)}function _y(o,s,a){if(o!==null)if(o.memoizedProps!==s.pendingProps)at=!0;else{if(!Td(o,a)&&(s.flags&128)===0)return at=!1,$R(o,s,a);at=(o.flags&131072)!==0}else at=!1,xe&&(s.flags&1048576)!==0&&Wg(s,Dr,s.index);switch(s.lanes=0,s.tag){case 16:e:{var u=s.pendingProps;if(o=wo(s.elementType),s.type=o,typeof o=="function")Rf(o)?(u=No(o,u),s.tag=1,s=py(null,s,o,u,a)):(s.tag=0,s=md(null,s,o,u,a));else{if(o!=null){var g=o.$$typeof;if(g===q){s.tag=11,s=ay(null,s,o,u,a);break e}else if(g===$){s.tag=14,s=ly(null,s,o,u,a);break e}}throw s=$e(o)||o,Error(i(306,s,""))}}return s;case 0:return md(o,s,s.type,s.pendingProps,a);case 1:return u=s.type,g=No(u,s.pendingProps),py(o,s,u,g,a);case 3:e:{if(_t(s,s.stateNode.containerInfo),o===null)throw Error(i(387));u=s.pendingProps;var v=s.memoizedState;g=v.element,qf(o,s),Gr(s,u,null,a);var E=s.memoizedState;if(u=E.cache,ki(s,st,u),u!==v.cache&&Pf(s,[st],a,!0),Hr(),u=E.element,v.isDehydrated)if(v={element:u,isDehydrated:!1,cache:E.cache},s.updateQueue.baseState=v,s.memoizedState=v,s.flags&256){s=my(o,s,u,a);break e}else if(u!==g){g=cn(Error(i(424)),s),Or(g),s=my(o,s,u,a);break e}else{switch(o=s.stateNode.containerInfo,o.nodeType){case 9:o=o.body;break;default:o=o.nodeName==="HTML"?o.ownerDocument.body:o}for(We=mn(o.firstChild),Et=s,xe=!0,Li=null,hn=!0,a=cv(s,null,u,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(To(),u===g){s=ai(o,s,a);break e}At(o,s,u,a)}s=s.child}return s;case 26:return Ll(o,s),o===null?(a=N_(s.type,null,s.pendingProps,null))?s.memoizedState=a:xe||(a=s.type,o=s.pendingProps,u=Zl(Ae.current).createElement(a),u[St]=s,u[Lt]=o,Ct(u,a,o),ht(u),s.stateNode=u):s.memoizedState=N_(s.type,o.memoizedProps,s.pendingProps,o.memoizedState),null;case 27:return Wn(s),o===null&&xe&&(u=s.stateNode=R_(s.type,s.pendingProps,Ae.current),Et=s,hn=!0,g=We,Qi(s.type)?(th=g,We=mn(u.firstChild)):We=g),At(o,s,s.pendingProps.children,a),Ll(o,s),o===null&&(s.flags|=4194304),s.child;case 5:return o===null&&xe&&((g=u=We)&&(u=Ex(u,s.type,s.pendingProps,hn),u!==null?(s.stateNode=u,Et=s,We=mn(u.firstChild),hn=!1,g=!0):g=!1),g||Pi(s)),Wn(s),g=s.type,v=s.pendingProps,E=o!==null?o.memoizedProps:null,u=v.children,Qd(g,v)?u=null:E!==null&&Qd(g,E)&&(s.flags|=32),s.memoizedState!==null&&(g=Xf(o,s,PR,null,null,a),ra._currentValue=g),Ll(o,s),At(o,s,u,a),s.child;case 6:return o===null&&xe&&((o=a=We)&&(a=Tx(a,s.pendingProps,hn),a!==null?(s.stateNode=a,Et=s,We=null,o=!0):o=!1),o||Pi(s)),null;case 13:return gy(o,s,a);case 4:return _t(s,s.stateNode.containerInfo),u=s.pendingProps,o===null?s.child=xo(s,null,u,a):At(o,s,u,a),s.child;case 11:return ay(o,s,s.type,s.pendingProps,a);case 7:return At(o,s,s.pendingProps,a),s.child;case 8:return At(o,s,s.pendingProps.children,a),s.child;case 12:return At(o,s,s.pendingProps.children,a),s.child;case 10:return u=s.pendingProps,ki(s,s.type,u.value),At(o,s,u.children,a),s.child;case 9:return g=s.type._context,u=s.pendingProps.children,Co(s),g=Tt(g),u=u(g),s.flags|=1,At(o,s,u,a),s.child;case 14:return ly(o,s,s.type,s.pendingProps,a);case 15:return uy(o,s,s.type,s.pendingProps,a);case 19:return yy(o,s,a);case 31:return zR(o,s,a);case 22:return cy(o,s,a,s.pendingProps);case 24:return Co(s),u=Tt(st),o===null?(g=Hf(),g===null&&(g=Je,v=kf(),g.pooledCache=v,v.refCount++,v!==null&&(g.pooledCacheLanes|=a),g=v),s.memoizedState={parent:u,cache:g},Vf(s),ki(s,st,g)):((o.lanes&a)!==0&&(qf(o,s),Gr(s,null,null,a),Hr()),g=o.memoizedState,v=s.memoizedState,g.parent!==u?(g={parent:u,cache:u},s.memoizedState=g,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=g),ki(s,st,u)):(u=v.cache,ki(s,st,u),u!==g.cache&&Pf(s,[st],a,!0))),At(o,s,s.pendingProps.children,a),s.child;case 29:throw s.pendingProps}throw Error(i(156,s.tag))}function li(o){o.flags|=4}function Ad(o,s,a,u,g){if((s=(o.mode&32)!==0)&&(s=!1),s){if(o.flags|=16777216,(g&335544128)===g)if(o.stateNode.complete)o.flags|=8192;else if(Jy())o.flags|=8192;else throw Ro=Sl,Gf}else o.flags&=-16777217}function Sy(o,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)o.flags&=-16777217;else if(o.flags|=16777216,!L_(s))if(Jy())o.flags|=8192;else throw Ro=Sl,Gf}function kl(o,s){s!==null&&(o.flags|=4),o.flags&16384&&(s=o.tag!==22?jm():536870912,o.lanes|=s,Ms|=s)}function Jr(o,s){if(!xe)switch(o.tailMode){case"hidden":s=o.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?o.tail=null:a.sibling=null;break;case"collapsed":a=o.tail;for(var u=null;a!==null;)a.alternate!==null&&(u=a),a=a.sibling;u===null?s||o.tail===null?o.tail=null:o.tail.sibling=null:u.sibling=null}}function Ze(o){var s=o.alternate!==null&&o.alternate.child===o.child,a=0,u=0;if(s)for(var g=o.child;g!==null;)a|=g.lanes|g.childLanes,u|=g.subtreeFlags&65011712,u|=g.flags&65011712,g.return=o,g=g.sibling;else for(g=o.child;g!==null;)a|=g.lanes|g.childLanes,u|=g.subtreeFlags,u|=g.flags,g.return=o,g=g.sibling;return o.subtreeFlags|=u,o.childLanes=a,s}function JR(o,s,a){var u=s.pendingProps;switch(If(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ze(s),null;case 1:return Ze(s),null;case 3:return a=s.stateNode,u=null,o!==null&&(u=o.memoizedState.cache),s.memoizedState.cache!==u&&(s.flags|=2048),oi(st),Xe(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(o===null||o.child===null)&&(gs(s)?li(s):o===null||o.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Of())),Ze(s),null;case 26:var g=s.type,v=s.memoizedState;return o===null?(li(s),v!==null?(Ze(s),Sy(s,v)):(Ze(s),Ad(s,g,null,u,a))):v?v!==o.memoizedState?(li(s),Ze(s),Sy(s,v)):(Ze(s),s.flags&=-16777217):(o=o.memoizedProps,o!==u&&li(s),Ze(s),Ad(s,g,o,u,a)),null;case 27:if(Qo(s),a=Ae.current,g=s.type,o!==null&&s.stateNode!=null)o.memoizedProps!==u&&li(s);else{if(!u){if(s.stateNode===null)throw Error(i(166));return Ze(s),null}o=te.current,gs(s)?jg(s):(o=R_(g,u,a),s.stateNode=o,li(s))}return Ze(s),null;case 5:if(Qo(s),g=s.type,o!==null&&s.stateNode!=null)o.memoizedProps!==u&&li(s);else{if(!u){if(s.stateNode===null)throw Error(i(166));return Ze(s),null}if(v=te.current,gs(s))jg(s);else{var E=Zl(Ae.current);switch(v){case 1:v=E.createElementNS("http://www.w3.org/2000/svg",g);break;case 2:v=E.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;default:switch(g){case"svg":v=E.createElementNS("http://www.w3.org/2000/svg",g);break;case"math":v=E.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;case"script":v=E.createElement("div"),v.innerHTML="<script><\/script>",v=v.removeChild(v.firstChild);break;case"select":v=typeof u.is=="string"?E.createElement("select",{is:u.is}):E.createElement("select"),u.multiple?v.multiple=!0:u.size&&(v.size=u.size);break;default:v=typeof u.is=="string"?E.createElement(g,{is:u.is}):E.createElement(g)}}v[St]=s,v[Lt]=u;e:for(E=s.child;E!==null;){if(E.tag===5||E.tag===6)v.appendChild(E.stateNode);else if(E.tag!==4&&E.tag!==27&&E.child!==null){E.child.return=E,E=E.child;continue}if(E===s)break e;for(;E.sibling===null;){if(E.return===null||E.return===s)break e;E=E.return}E.sibling.return=E.return,E=E.sibling}s.stateNode=v;e:switch(Ct(v,g,u),g){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}u&&li(s)}}return Ze(s),Ad(s,s.type,o===null?null:o.memoizedProps,s.pendingProps,a),null;case 6:if(o&&s.stateNode!=null)o.memoizedProps!==u&&li(s);else{if(typeof u!="string"&&s.stateNode===null)throw Error(i(166));if(o=Ae.current,gs(s)){if(o=s.stateNode,a=s.memoizedProps,u=null,g=Et,g!==null)switch(g.tag){case 27:case 5:u=g.memoizedProps}o[St]=s,o=!!(o.nodeValue===a||u!==null&&u.suppressHydrationWarning===!0||g_(o.nodeValue,a)),o||Pi(s,!0)}else o=Zl(o).createTextNode(u),o[St]=s,s.stateNode=o}return Ze(s),null;case 31:if(a=s.memoizedState,o===null||o.memoizedState!==null){if(u=gs(s),a!==null){if(o===null){if(!u)throw Error(i(318));if(o=s.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(i(557));o[St]=s}else To(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Ze(s),o=!1}else a=Of(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=a),o=!0;if(!o)return s.flags&256?(Xt(s),s):(Xt(s),null);if((s.flags&128)!==0)throw Error(i(558))}return Ze(s),null;case 13:if(u=s.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(g=gs(s),u!==null&&u.dehydrated!==null){if(o===null){if(!g)throw Error(i(318));if(g=s.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(i(317));g[St]=s}else To(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Ze(s),g=!1}else g=Of(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=g),g=!0;if(!g)return s.flags&256?(Xt(s),s):(Xt(s),null)}return Xt(s),(s.flags&128)!==0?(s.lanes=a,s):(a=u!==null,o=o!==null&&o.memoizedState!==null,a&&(u=s.child,g=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(g=u.alternate.memoizedState.cachePool.pool),v=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(v=u.memoizedState.cachePool.pool),v!==g&&(u.flags|=2048)),a!==o&&a&&(s.child.flags|=8192),kl(s,s.updateQueue),Ze(s),null);case 4:return Xe(),o===null&&$d(s.stateNode.containerInfo),Ze(s),null;case 10:return oi(s.type),Ze(s),null;case 19:if(J(it),u=s.memoizedState,u===null)return Ze(s),null;if(g=(s.flags&128)!==0,v=u.rendering,v===null)if(g)Jr(u,!1);else{if(tt!==0||o!==null&&(o.flags&128)!==0)for(o=s.child;o!==null;){if(v=Cl(o),v!==null){for(s.flags|=128,Jr(u,!1),o=v.updateQueue,s.updateQueue=o,kl(s,o),s.subtreeFlags=0,o=a,a=s.child;a!==null;)Kg(a,o),a=a.sibling;return j(it,it.current&1|2),xe&&ni(s,u.treeForkCount),s.child}o=o.sibling}u.tail!==null&&Ft()>ql&&(s.flags|=128,g=!0,Jr(u,!1),s.lanes=4194304)}else{if(!g)if(o=Cl(v),o!==null){if(s.flags|=128,g=!0,o=o.updateQueue,s.updateQueue=o,kl(s,o),Jr(u,!0),u.tail===null&&u.tailMode==="hidden"&&!v.alternate&&!xe)return Ze(s),null}else 2*Ft()-u.renderingStartTime>ql&&a!==536870912&&(s.flags|=128,g=!0,Jr(u,!1),s.lanes=4194304);u.isBackwards?(v.sibling=s.child,s.child=v):(o=u.last,o!==null?o.sibling=v:s.child=v,u.last=v)}return u.tail!==null?(o=u.tail,u.rendering=o,u.tail=o.sibling,u.renderingStartTime=Ft(),o.sibling=null,a=it.current,j(it,g?a&1|2:a&1),xe&&ni(s,u.treeForkCount),o):(Ze(s),null);case 22:case 23:return Xt(s),Jf(),u=s.memoizedState!==null,o!==null?o.memoizedState!==null!==u&&(s.flags|=8192):u&&(s.flags|=8192),u?(a&536870912)!==0&&(s.flags&128)===0&&(Ze(s),s.subtreeFlags&6&&(s.flags|=8192)):Ze(s),a=s.updateQueue,a!==null&&kl(s,a.retryQueue),a=null,o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(a=o.memoizedState.cachePool.pool),u=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),u!==a&&(s.flags|=2048),o!==null&&J(bo),null;case 24:return a=null,o!==null&&(a=o.memoizedState.cache),s.memoizedState.cache!==a&&(s.flags|=2048),oi(st),Ze(s),null;case 25:return null;case 30:return null}throw Error(i(156,s.tag))}function YR(o,s){switch(If(s),s.tag){case 1:return o=s.flags,o&65536?(s.flags=o&-65537|128,s):null;case 3:return oi(st),Xe(),o=s.flags,(o&65536)!==0&&(o&128)===0?(s.flags=o&-65537|128,s):null;case 26:case 27:case 5:return Qo(s),null;case 31:if(s.memoizedState!==null){if(Xt(s),s.alternate===null)throw Error(i(340));To()}return o=s.flags,o&65536?(s.flags=o&-65537|128,s):null;case 13:if(Xt(s),o=s.memoizedState,o!==null&&o.dehydrated!==null){if(s.alternate===null)throw Error(i(340));To()}return o=s.flags,o&65536?(s.flags=o&-65537|128,s):null;case 19:return J(it),null;case 4:return Xe(),null;case 10:return oi(s.type),null;case 22:case 23:return Xt(s),Jf(),o!==null&&J(bo),o=s.flags,o&65536?(s.flags=o&-65537|128,s):null;case 24:return oi(st),null;case 25:return null;default:return null}}function Ey(o,s){switch(If(s),s.tag){case 3:oi(st),Xe();break;case 26:case 27:case 5:Qo(s);break;case 4:Xe();break;case 31:s.memoizedState!==null&&Xt(s);break;case 13:Xt(s);break;case 19:J(it);break;case 10:oi(s.type);break;case 22:case 23:Xt(s),Jf(),o!==null&&J(bo);break;case 24:oi(st)}}function Yr(o,s){try{var a=s.updateQueue,u=a!==null?a.lastEffect:null;if(u!==null){var g=u.next;a=g;do{if((a.tag&o)===o){u=void 0;var v=a.create,E=a.inst;u=v(),E.destroy=u}a=a.next}while(a!==g)}}catch(A){Ve(s,s.return,A)}}function Fi(o,s,a){try{var u=s.updateQueue,g=u!==null?u.lastEffect:null;if(g!==null){var v=g.next;u=v;do{if((u.tag&o)===o){var E=u.inst,A=E.destroy;if(A!==void 0){E.destroy=void 0,g=s;var w=a,U=A;try{U()}catch(F){Ve(g,w,F)}}}u=u.next}while(u!==v)}}catch(F){Ve(s,s.return,F)}}function Ty(o){var s=o.updateQueue;if(s!==null){var a=o.stateNode;try{dv(s,a)}catch(u){Ve(o,o.return,u)}}}function Ay(o,s,a){a.props=No(o.type,o.memoizedProps),a.state=o.memoizedState;try{a.componentWillUnmount()}catch(u){Ve(o,s,u)}}function Kr(o,s){try{var a=o.ref;if(a!==null){switch(o.tag){case 26:case 27:case 5:var u=o.stateNode;break;case 30:u=o.stateNode;break;default:u=o.stateNode}typeof a=="function"?o.refCleanup=a(u):a.current=u}}catch(g){Ve(o,s,g)}}function qn(o,s){var a=o.ref,u=o.refCleanup;if(a!==null)if(typeof u=="function")try{u()}catch(g){Ve(o,s,g)}finally{o.refCleanup=null,o=o.alternate,o!=null&&(o.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(g){Ve(o,s,g)}else a.current=null}function Cy(o){var s=o.type,a=o.memoizedProps,u=o.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":a.autoFocus&&u.focus();break e;case"img":a.src?u.src=a.src:a.srcSet&&(u.srcset=a.srcSet)}}catch(g){Ve(o,o.return,g)}}function Cd(o,s,a){try{var u=o.stateNode;mx(u,o.type,a,s),u[Lt]=s}catch(g){Ve(o,o.return,g)}}function by(o){return o.tag===5||o.tag===3||o.tag===26||o.tag===27&&Qi(o.type)||o.tag===4}function bd(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||by(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.tag===27&&Qi(o.type)||o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function wd(o,s,a){var u=o.tag;if(u===5||u===6)o=o.stateNode,s?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(o,s):(s=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,s.appendChild(o),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=jn));else if(u!==4&&(u===27&&Qi(o.type)&&(a=o.stateNode,s=null),o=o.child,o!==null))for(wd(o,s,a),o=o.sibling;o!==null;)wd(o,s,a),o=o.sibling}function Bl(o,s,a){var u=o.tag;if(u===5||u===6)o=o.stateNode,s?a.insertBefore(o,s):a.appendChild(o);else if(u!==4&&(u===27&&Qi(o.type)&&(a=o.stateNode),o=o.child,o!==null))for(Bl(o,s,a),o=o.sibling;o!==null;)Bl(o,s,a),o=o.sibling}function wy(o){var s=o.stateNode,a=o.memoizedProps;try{for(var u=o.type,g=s.attributes;g.length;)s.removeAttributeNode(g[0]);Ct(s,u,a),s[St]=o,s[Lt]=a}catch(v){Ve(o,o.return,v)}}var ui=!1,lt=!1,Rd=!1,Ry=typeof WeakSet=="function"?WeakSet:Set,pt=null;function KR(o,s){if(o=o.containerInfo,Kd=su,o=Hg(o),Sf(o)){if("selectionStart"in o)var a={start:o.selectionStart,end:o.selectionEnd};else e:{a=(a=o.ownerDocument)&&a.defaultView||window;var u=a.getSelection&&a.getSelection();if(u&&u.rangeCount!==0){a=u.anchorNode;var g=u.anchorOffset,v=u.focusNode;u=u.focusOffset;try{a.nodeType,v.nodeType}catch{a=null;break e}var E=0,A=-1,w=-1,U=0,F=0,Y=o,k=null;t:for(;;){for(var V;Y!==a||g!==0&&Y.nodeType!==3||(A=E+g),Y!==v||u!==0&&Y.nodeType!==3||(w=E+u),Y.nodeType===3&&(E+=Y.nodeValue.length),(V=Y.firstChild)!==null;)k=Y,Y=V;for(;;){if(Y===o)break t;if(k===a&&++U===g&&(A=E),k===v&&++F===u&&(w=E),(V=Y.nextSibling)!==null)break;Y=k,k=Y.parentNode}Y=V}a=A===-1||w===-1?null:{start:A,end:w}}else a=null}a=a||{start:0,end:0}}else a=null;for(Xd={focusedElem:o,selectionRange:a},su=!1,pt=s;pt!==null;)if(s=pt,o=s.child,(s.subtreeFlags&1028)!==0&&o!==null)o.return=s,pt=o;else for(;pt!==null;){switch(s=pt,v=s.alternate,o=s.flags,s.tag){case 0:if((o&4)!==0&&(o=s.updateQueue,o=o!==null?o.events:null,o!==null))for(a=0;a<o.length;a++)g=o[a],g.ref.impl=g.nextImpl;break;case 11:case 15:break;case 1:if((o&1024)!==0&&v!==null){o=void 0,a=s,g=v.memoizedProps,v=v.memoizedState,u=a.stateNode;try{var se=No(a.type,g);o=u.getSnapshotBeforeUpdate(se,v),u.__reactInternalSnapshotBeforeUpdate=o}catch(he){Ve(a,a.return,he)}}break;case 3:if((o&1024)!==0){if(o=s.stateNode.containerInfo,a=o.nodeType,a===9)Zd(o);else if(a===1)switch(o.nodeName){case"HEAD":case"HTML":case"BODY":Zd(o);break;default:o.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((o&1024)!==0)throw Error(i(163))}if(o=s.sibling,o!==null){o.return=s.return,pt=o;break}pt=s.return}}function xy(o,s,a){var u=a.flags;switch(a.tag){case 0:case 11:case 15:fi(o,a),u&4&&Yr(5,a);break;case 1:if(fi(o,a),u&4)if(o=a.stateNode,s===null)try{o.componentDidMount()}catch(E){Ve(a,a.return,E)}else{var g=No(a.type,s.memoizedProps);s=s.memoizedState;try{o.componentDidUpdate(g,s,o.__reactInternalSnapshotBeforeUpdate)}catch(E){Ve(a,a.return,E)}}u&64&&Ty(a),u&512&&Kr(a,a.return);break;case 3:if(fi(o,a),u&64&&(o=a.updateQueue,o!==null)){if(s=null,a.child!==null)switch(a.child.tag){case 27:case 5:s=a.child.stateNode;break;case 1:s=a.child.stateNode}try{dv(o,s)}catch(E){Ve(a,a.return,E)}}break;case 27:s===null&&u&4&&wy(a);case 26:case 5:fi(o,a),s===null&&u&4&&Cy(a),u&512&&Kr(a,a.return);break;case 12:fi(o,a);break;case 31:fi(o,a),u&4&&Iy(o,a);break;case 13:fi(o,a),u&4&&Dy(o,a),u&64&&(o=a.memoizedState,o!==null&&(o=o.dehydrated,o!==null&&(a=ix.bind(null,a),Ax(o,a))));break;case 22:if(u=a.memoizedState!==null||ui,!u){s=s!==null&&s.memoizedState!==null||lt,g=ui;var v=lt;ui=u,(lt=s)&&!v?di(o,a,(a.subtreeFlags&8772)!==0):fi(o,a),ui=g,lt=v}break;case 30:break;default:fi(o,a)}}function My(o){var s=o.alternate;s!==null&&(o.alternate=null,My(s)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(s=o.stateNode,s!==null&&nf(s)),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}var je=null,kt=!1;function ci(o,s,a){for(a=a.child;a!==null;)Ny(o,s,a),a=a.sibling}function Ny(o,s,a){if(zt&&typeof zt.onCommitFiberUnmount=="function")try{zt.onCommitFiberUnmount(yr,a)}catch{}switch(a.tag){case 26:lt||qn(a,s),ci(o,s,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:lt||qn(a,s);var u=je,g=kt;Qi(a.type)&&(je=a.stateNode,kt=!1),ci(o,s,a),ia(a.stateNode),je=u,kt=g;break;case 5:lt||qn(a,s);case 6:if(u=je,g=kt,je=null,ci(o,s,a),je=u,kt=g,je!==null)if(kt)try{(je.nodeType===9?je.body:je.nodeName==="HTML"?je.ownerDocument.body:je).removeChild(a.stateNode)}catch(v){Ve(a,s,v)}else try{je.removeChild(a.stateNode)}catch(v){Ve(a,s,v)}break;case 18:je!==null&&(kt?(o=je,T_(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,a.stateNode),ks(o)):T_(je,a.stateNode));break;case 4:u=je,g=kt,je=a.stateNode.containerInfo,kt=!0,ci(o,s,a),je=u,kt=g;break;case 0:case 11:case 14:case 15:Fi(2,a,s),lt||Fi(4,a,s),ci(o,s,a);break;case 1:lt||(qn(a,s),u=a.stateNode,typeof u.componentWillUnmount=="function"&&Ay(a,s,u)),ci(o,s,a);break;case 21:ci(o,s,a);break;case 22:lt=(u=lt)||a.memoizedState!==null,ci(o,s,a),lt=u;break;default:ci(o,s,a)}}function Iy(o,s){if(s.memoizedState===null&&(o=s.alternate,o!==null&&(o=o.memoizedState,o!==null))){o=o.dehydrated;try{ks(o)}catch(a){Ve(s,s.return,a)}}}function Dy(o,s){if(s.memoizedState===null&&(o=s.alternate,o!==null&&(o=o.memoizedState,o!==null&&(o=o.dehydrated,o!==null))))try{ks(o)}catch(a){Ve(s,s.return,a)}}function XR(o){switch(o.tag){case 31:case 13:case 19:var s=o.stateNode;return s===null&&(s=o.stateNode=new Ry),s;case 22:return o=o.stateNode,s=o._retryCache,s===null&&(s=o._retryCache=new Ry),s;default:throw Error(i(435,o.tag))}}function Hl(o,s){var a=XR(o);s.forEach(function(u){if(!a.has(u)){a.add(u);var g=ox.bind(null,o,u);u.then(g,g)}})}function Bt(o,s){var a=s.deletions;if(a!==null)for(var u=0;u<a.length;u++){var g=a[u],v=o,E=s,A=E;e:for(;A!==null;){switch(A.tag){case 27:if(Qi(A.type)){je=A.stateNode,kt=!1;break e}break;case 5:je=A.stateNode,kt=!1;break e;case 3:case 4:je=A.stateNode.containerInfo,kt=!0;break e}A=A.return}if(je===null)throw Error(i(160));Ny(v,E,g),je=null,kt=!1,v=g.alternate,v!==null&&(v.return=null),g.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)Oy(s,o),s=s.sibling}var wn=null;function Oy(o,s){var a=o.alternate,u=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:Bt(s,o),Ht(o),u&4&&(Fi(3,o,o.return),Yr(3,o),Fi(5,o,o.return));break;case 1:Bt(s,o),Ht(o),u&512&&(lt||a===null||qn(a,a.return)),u&64&&ui&&(o=o.updateQueue,o!==null&&(u=o.callbacks,u!==null&&(a=o.shared.hiddenCallbacks,o.shared.hiddenCallbacks=a===null?u:a.concat(u))));break;case 26:var g=wn;if(Bt(s,o),Ht(o),u&512&&(lt||a===null||qn(a,a.return)),u&4){var v=a!==null?a.memoizedState:null;if(u=o.memoizedState,a===null)if(u===null)if(o.stateNode===null){e:{u=o.type,a=o.memoizedProps,g=g.ownerDocument||g;t:switch(u){case"title":v=g.getElementsByTagName("title")[0],(!v||v[Er]||v[St]||v.namespaceURI==="http://www.w3.org/2000/svg"||v.hasAttribute("itemprop"))&&(v=g.createElement(u),g.head.insertBefore(v,g.querySelector("head > title"))),Ct(v,u,a),v[St]=o,ht(v),u=v;break e;case"link":var E=O_("link","href",g).get(u+(a.href||""));if(E){for(var A=0;A<E.length;A++)if(v=E[A],v.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&v.getAttribute("rel")===(a.rel==null?null:a.rel)&&v.getAttribute("title")===(a.title==null?null:a.title)&&v.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){E.splice(A,1);break t}}v=g.createElement(u),Ct(v,u,a),g.head.appendChild(v);break;case"meta":if(E=O_("meta","content",g).get(u+(a.content||""))){for(A=0;A<E.length;A++)if(v=E[A],v.getAttribute("content")===(a.content==null?null:""+a.content)&&v.getAttribute("name")===(a.name==null?null:a.name)&&v.getAttribute("property")===(a.property==null?null:a.property)&&v.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&v.getAttribute("charset")===(a.charSet==null?null:a.charSet)){E.splice(A,1);break t}}v=g.createElement(u),Ct(v,u,a),g.head.appendChild(v);break;default:throw Error(i(468,u))}v[St]=o,ht(v),u=v}o.stateNode=u}else U_(g,o.type,o.stateNode);else o.stateNode=D_(g,u,o.memoizedProps);else v!==u?(v===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):v.count--,u===null?U_(g,o.type,o.stateNode):D_(g,u,o.memoizedProps)):u===null&&o.stateNode!==null&&Cd(o,o.memoizedProps,a.memoizedProps)}break;case 27:Bt(s,o),Ht(o),u&512&&(lt||a===null||qn(a,a.return)),a!==null&&u&4&&Cd(o,o.memoizedProps,a.memoizedProps);break;case 5:if(Bt(s,o),Ht(o),u&512&&(lt||a===null||qn(a,a.return)),o.flags&32){g=o.stateNode;try{rs(g,"")}catch(se){Ve(o,o.return,se)}}u&4&&o.stateNode!=null&&(g=o.memoizedProps,Cd(o,g,a!==null?a.memoizedProps:g)),u&1024&&(Rd=!0);break;case 6:if(Bt(s,o),Ht(o),u&4){if(o.stateNode===null)throw Error(i(162));u=o.memoizedProps,a=o.stateNode;try{a.nodeValue=u}catch(se){Ve(o,o.return,se)}}break;case 3:if(tu=null,g=wn,wn=jl(s.containerInfo),Bt(s,o),wn=g,Ht(o),u&4&&a!==null&&a.memoizedState.isDehydrated)try{ks(s.containerInfo)}catch(se){Ve(o,o.return,se)}Rd&&(Rd=!1,Uy(o));break;case 4:u=wn,wn=jl(o.stateNode.containerInfo),Bt(s,o),Ht(o),wn=u;break;case 12:Bt(s,o),Ht(o);break;case 31:Bt(s,o),Ht(o),u&4&&(u=o.updateQueue,u!==null&&(o.updateQueue=null,Hl(o,u)));break;case 13:Bt(s,o),Ht(o),o.child.flags&8192&&o.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Vl=Ft()),u&4&&(u=o.updateQueue,u!==null&&(o.updateQueue=null,Hl(o,u)));break;case 22:g=o.memoizedState!==null;var w=a!==null&&a.memoizedState!==null,U=ui,F=lt;if(ui=U||g,lt=F||w,Bt(s,o),lt=F,ui=U,Ht(o),u&8192)e:for(s=o.stateNode,s._visibility=g?s._visibility&-2:s._visibility|1,g&&(a===null||w||ui||lt||Io(o)),a=null,s=o;;){if(s.tag===5||s.tag===26){if(a===null){w=a=s;try{if(v=w.stateNode,g)E=v.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{A=w.stateNode;var Y=w.memoizedProps.style,k=Y!=null&&Y.hasOwnProperty("display")?Y.display:null;A.style.display=k==null||typeof k=="boolean"?"":(""+k).trim()}}catch(se){Ve(w,w.return,se)}}}else if(s.tag===6){if(a===null){w=s;try{w.stateNode.nodeValue=g?"":w.memoizedProps}catch(se){Ve(w,w.return,se)}}}else if(s.tag===18){if(a===null){w=s;try{var V=w.stateNode;g?A_(V,!0):A_(w.stateNode,!1)}catch(se){Ve(w,w.return,se)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===o)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===o)break e;for(;s.sibling===null;){if(s.return===null||s.return===o)break e;a===s&&(a=null),s=s.return}a===s&&(a=null),s.sibling.return=s.return,s=s.sibling}u&4&&(u=o.updateQueue,u!==null&&(a=u.retryQueue,a!==null&&(u.retryQueue=null,Hl(o,a))));break;case 19:Bt(s,o),Ht(o),u&4&&(u=o.updateQueue,u!==null&&(o.updateQueue=null,Hl(o,u)));break;case 30:break;case 21:break;default:Bt(s,o),Ht(o)}}function Ht(o){var s=o.flags;if(s&2){try{for(var a,u=o.return;u!==null;){if(by(u)){a=u;break}u=u.return}if(a==null)throw Error(i(160));switch(a.tag){case 27:var g=a.stateNode,v=bd(o);Bl(o,v,g);break;case 5:var E=a.stateNode;a.flags&32&&(rs(E,""),a.flags&=-33);var A=bd(o);Bl(o,A,E);break;case 3:case 4:var w=a.stateNode.containerInfo,U=bd(o);wd(o,U,w);break;default:throw Error(i(161))}}catch(F){Ve(o,o.return,F)}o.flags&=-3}s&4096&&(o.flags&=-4097)}function Uy(o){if(o.subtreeFlags&1024)for(o=o.child;o!==null;){var s=o;Uy(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),o=o.sibling}}function fi(o,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)xy(o,s.alternate,s),s=s.sibling}function Io(o){for(o=o.child;o!==null;){var s=o;switch(s.tag){case 0:case 11:case 14:case 15:Fi(4,s,s.return),Io(s);break;case 1:qn(s,s.return);var a=s.stateNode;typeof a.componentWillUnmount=="function"&&Ay(s,s.return,a),Io(s);break;case 27:ia(s.stateNode);case 26:case 5:qn(s,s.return),Io(s);break;case 22:s.memoizedState===null&&Io(s);break;case 30:Io(s);break;default:Io(s)}o=o.sibling}}function di(o,s,a){for(a=a&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var u=s.alternate,g=o,v=s,E=v.flags;switch(v.tag){case 0:case 11:case 15:di(g,v,a),Yr(4,v);break;case 1:if(di(g,v,a),u=v,g=u.stateNode,typeof g.componentDidMount=="function")try{g.componentDidMount()}catch(U){Ve(u,u.return,U)}if(u=v,g=u.updateQueue,g!==null){var A=u.stateNode;try{var w=g.shared.hiddenCallbacks;if(w!==null)for(g.shared.hiddenCallbacks=null,g=0;g<w.length;g++)fv(w[g],A)}catch(U){Ve(u,u.return,U)}}a&&E&64&&Ty(v),Kr(v,v.return);break;case 27:wy(v);case 26:case 5:di(g,v,a),a&&u===null&&E&4&&Cy(v),Kr(v,v.return);break;case 12:di(g,v,a);break;case 31:di(g,v,a),a&&E&4&&Iy(g,v);break;case 13:di(g,v,a),a&&E&4&&Dy(g,v);break;case 22:v.memoizedState===null&&di(g,v,a),Kr(v,v.return);break;case 30:break;default:di(g,v,a)}s=s.sibling}}function xd(o,s){var a=null;o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(a=o.memoizedState.cachePool.pool),o=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(o=s.memoizedState.cachePool.pool),o!==a&&(o!=null&&o.refCount++,a!=null&&Ur(a))}function Md(o,s){o=null,s.alternate!==null&&(o=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==o&&(s.refCount++,o!=null&&Ur(o))}function Rn(o,s,a,u){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)Ly(o,s,a,u),s=s.sibling}function Ly(o,s,a,u){var g=s.flags;switch(s.tag){case 0:case 11:case 15:Rn(o,s,a,u),g&2048&&Yr(9,s);break;case 1:Rn(o,s,a,u);break;case 3:Rn(o,s,a,u),g&2048&&(o=null,s.alternate!==null&&(o=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==o&&(s.refCount++,o!=null&&Ur(o)));break;case 12:if(g&2048){Rn(o,s,a,u),o=s.stateNode;try{var v=s.memoizedProps,E=v.id,A=v.onPostCommit;typeof A=="function"&&A(E,s.alternate===null?"mount":"update",o.passiveEffectDuration,-0)}catch(w){Ve(s,s.return,w)}}else Rn(o,s,a,u);break;case 31:Rn(o,s,a,u);break;case 13:Rn(o,s,a,u);break;case 23:break;case 22:v=s.stateNode,E=s.alternate,s.memoizedState!==null?v._visibility&2?Rn(o,s,a,u):Xr(o,s):v._visibility&2?Rn(o,s,a,u):(v._visibility|=2,ws(o,s,a,u,(s.subtreeFlags&10256)!==0||!1)),g&2048&&xd(E,s);break;case 24:Rn(o,s,a,u),g&2048&&Md(s.alternate,s);break;default:Rn(o,s,a,u)}}function ws(o,s,a,u,g){for(g=g&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var v=o,E=s,A=a,w=u,U=E.flags;switch(E.tag){case 0:case 11:case 15:ws(v,E,A,w,g),Yr(8,E);break;case 23:break;case 22:var F=E.stateNode;E.memoizedState!==null?F._visibility&2?ws(v,E,A,w,g):Xr(v,E):(F._visibility|=2,ws(v,E,A,w,g)),g&&U&2048&&xd(E.alternate,E);break;case 24:ws(v,E,A,w,g),g&&U&2048&&Md(E.alternate,E);break;default:ws(v,E,A,w,g)}s=s.sibling}}function Xr(o,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var a=o,u=s,g=u.flags;switch(u.tag){case 22:Xr(a,u),g&2048&&xd(u.alternate,u);break;case 24:Xr(a,u),g&2048&&Md(u.alternate,u);break;default:Xr(a,u)}s=s.sibling}}var Qr=8192;function Rs(o,s,a){if(o.subtreeFlags&Qr)for(o=o.child;o!==null;)Py(o,s,a),o=o.sibling}function Py(o,s,a){switch(o.tag){case 26:Rs(o,s,a),o.flags&Qr&&o.memoizedState!==null&&Lx(a,wn,o.memoizedState,o.memoizedProps);break;case 5:Rs(o,s,a);break;case 3:case 4:var u=wn;wn=jl(o.stateNode.containerInfo),Rs(o,s,a),wn=u;break;case 22:o.memoizedState===null&&(u=o.alternate,u!==null&&u.memoizedState!==null?(u=Qr,Qr=16777216,Rs(o,s,a),Qr=u):Rs(o,s,a));break;default:Rs(o,s,a)}}function ky(o){var s=o.alternate;if(s!==null&&(o=s.child,o!==null)){s.child=null;do s=o.sibling,o.sibling=null,o=s;while(o!==null)}}function Wr(o){var s=o.deletions;if((o.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var u=s[a];pt=u,Hy(u,o)}ky(o)}if(o.subtreeFlags&10256)for(o=o.child;o!==null;)By(o),o=o.sibling}function By(o){switch(o.tag){case 0:case 11:case 15:Wr(o),o.flags&2048&&Fi(9,o,o.return);break;case 3:Wr(o);break;case 12:Wr(o);break;case 22:var s=o.stateNode;o.memoizedState!==null&&s._visibility&2&&(o.return===null||o.return.tag!==13)?(s._visibility&=-3,Gl(o)):Wr(o);break;default:Wr(o)}}function Gl(o){var s=o.deletions;if((o.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var u=s[a];pt=u,Hy(u,o)}ky(o)}for(o=o.child;o!==null;){switch(s=o,s.tag){case 0:case 11:case 15:Fi(8,s,s.return),Gl(s);break;case 22:a=s.stateNode,a._visibility&2&&(a._visibility&=-3,Gl(s));break;default:Gl(s)}o=o.sibling}}function Hy(o,s){for(;pt!==null;){var a=pt;switch(a.tag){case 0:case 11:case 15:Fi(8,a,s);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var u=a.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Ur(a.memoizedState.cache)}if(u=a.child,u!==null)u.return=a,pt=u;else e:for(a=o;pt!==null;){u=pt;var g=u.sibling,v=u.return;if(My(u),u===a){pt=null;break e}if(g!==null){g.return=v,pt=g;break e}pt=v}}}var QR={getCacheForType:function(o){var s=Tt(st),a=s.data.get(o);return a===void 0&&(a=o(),s.data.set(o,a)),a},cacheSignal:function(){return Tt(st).controller.signal}},WR=typeof WeakMap=="function"?WeakMap:Map,Be=0,Je=null,Ce=null,we=0,Ge=0,Qt=null,zi=!1,xs=!1,Nd=!1,hi=0,tt=0,$i=0,Do=0,Id=0,Wt=0,Ms=0,Zr=null,Gt=null,Dd=!1,Vl=0,Gy=0,ql=1/0,Fl=null,Ji=null,ct=0,Yi=null,Ns=null,pi=0,Od=0,Ud=null,Vy=null,jr=0,Ld=null;function Zt(){return(Be&2)!==0&&we!==0?we&-we:G.T!==null?Vd():ig()}function qy(){if(Wt===0)if((we&536870912)===0||xe){var o=Wa;Wa<<=1,(Wa&3932160)===0&&(Wa=262144),Wt=o}else Wt=536870912;return o=Kt.current,o!==null&&(o.flags|=32),Wt}function Vt(o,s,a){(o===Je&&(Ge===2||Ge===9)||o.cancelPendingCommit!==null)&&(Is(o,0),Ki(o,we,Wt,!1)),Sr(o,a),((Be&2)===0||o!==Je)&&(o===Je&&((Be&2)===0&&(Do|=a),tt===4&&Ki(o,we,Wt,!1)),Fn(o))}function Fy(o,s,a){if((Be&6)!==0)throw Error(i(327));var u=!a&&(s&127)===0&&(s&o.expiredLanes)===0||_r(o,s),g=u?ex(o,s):kd(o,s,!0),v=u;do{if(g===0){xs&&!u&&Ki(o,s,0,!1);break}else{if(a=o.current.alternate,v&&!ZR(a)){g=kd(o,s,!1),v=!1;continue}if(g===2){if(v=s,o.errorRecoveryDisabledLanes&v)var E=0;else E=o.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){s=E;e:{var A=o;g=Zr;var w=A.current.memoizedState.isDehydrated;if(w&&(Is(A,E).flags|=256),E=kd(A,E,!1),E!==2){if(Nd&&!w){A.errorRecoveryDisabledLanes|=v,Do|=v,g=4;break e}v=Gt,Gt=g,v!==null&&(Gt===null?Gt=v:Gt.push.apply(Gt,v))}g=E}if(v=!1,g!==2)continue}}if(g===1){Is(o,0),Ki(o,s,0,!0);break}e:{switch(u=o,v=g,v){case 0:case 1:throw Error(i(345));case 4:if((s&4194048)!==s)break;case 6:Ki(u,s,Wt,!zi);break e;case 2:Gt=null;break;case 3:case 5:break;default:throw Error(i(329))}if((s&62914560)===s&&(g=Vl+300-Ft(),10<g)){if(Ki(u,s,Wt,!zi),ja(u,0,!0)!==0)break e;pi=s,u.timeoutHandle=S_(zy.bind(null,u,a,Gt,Fl,Dd,s,Wt,Do,Ms,zi,v,"Throttled",-0,0),g);break e}zy(u,a,Gt,Fl,Dd,s,Wt,Do,Ms,zi,v,null,-0,0)}}break}while(!0);Fn(o)}function zy(o,s,a,u,g,v,E,A,w,U,F,Y,k,V){if(o.timeoutHandle=-1,Y=s.subtreeFlags,Y&8192||(Y&16785408)===16785408){Y={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:jn},Py(s,v,Y);var se=(v&62914560)===v?Vl-Ft():(v&4194048)===v?Gy-Ft():0;if(se=Px(Y,se),se!==null){pi=v,o.cancelPendingCommit=se(Zy.bind(null,o,s,v,a,u,g,E,A,w,F,Y,null,k,V)),Ki(o,v,E,!U);return}}Zy(o,s,v,a,u,g,E,A,w)}function ZR(o){for(var s=o;;){var a=s.tag;if((a===0||a===11||a===15)&&s.flags&16384&&(a=s.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var u=0;u<a.length;u++){var g=a[u],v=g.getSnapshot;g=g.value;try{if(!Jt(v(),g))return!1}catch{return!1}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===o)break;for(;s.sibling===null;){if(s.return===null||s.return===o)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Ki(o,s,a,u){s&=~Id,s&=~Do,o.suspendedLanes|=s,o.pingedLanes&=~s,u&&(o.warmLanes|=s),u=o.expirationTimes;for(var g=s;0<g;){var v=31-$t(g),E=1<<v;u[v]=-1,g&=~E}a!==0&&eg(o,a,s)}function zl(){return(Be&6)===0?(ea(0),!1):!0}function Pd(){if(Ce!==null){if(Ge===0)var o=Ce.return;else o=Ce,ii=Ao=null,Zf(o),Es=null,Pr=0,o=Ce;for(;o!==null;)Ey(o.alternate,o),o=o.return;Ce=null}}function Is(o,s){var a=o.timeoutHandle;a!==-1&&(o.timeoutHandle=-1,yx(a)),a=o.cancelPendingCommit,a!==null&&(o.cancelPendingCommit=null,a()),pi=0,Pd(),Je=o,Ce=a=ti(o.current,null),we=s,Ge=0,Qt=null,zi=!1,xs=_r(o,s),Nd=!1,Ms=Wt=Id=Do=$i=tt=0,Gt=Zr=null,Dd=!1,(s&8)!==0&&(s|=s&32);var u=o.entangledLanes;if(u!==0)for(o=o.entanglements,u&=s;0<u;){var g=31-$t(u),v=1<<g;s|=o[g],u&=~v}return hi=s,fl(),a}function $y(o,s){_e=null,G.H=zr,s===Ss||s===_l?(s=av(),Ge=3):s===Gf?(s=av(),Ge=4):Ge=s===pd?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Qt=s,Ce===null&&(tt=1,Ol(o,cn(s,o.current)))}function Jy(){var o=Kt.current;return o===null?!0:(we&4194048)===we?pn===null:(we&62914560)===we||(we&536870912)!==0?o===pn:!1}function Yy(){var o=G.H;return G.H=zr,o===null?zr:o}function Ky(){var o=G.A;return G.A=QR,o}function $l(){tt=4,zi||(we&4194048)!==we&&Kt.current!==null||(xs=!0),($i&134217727)===0&&(Do&134217727)===0||Je===null||Ki(Je,we,Wt,!1)}function kd(o,s,a){var u=Be;Be|=2;var g=Yy(),v=Ky();(Je!==o||we!==s)&&(Fl=null,Is(o,s)),s=!1;var E=tt;e:do try{if(Ge!==0&&Ce!==null){var A=Ce,w=Qt;switch(Ge){case 8:Pd(),E=6;break e;case 3:case 2:case 9:case 6:Kt.current===null&&(s=!0);var U=Ge;if(Ge=0,Qt=null,Ds(o,A,w,U),a&&xs){E=0;break e}break;default:U=Ge,Ge=0,Qt=null,Ds(o,A,w,U)}}jR(),E=tt;break}catch(F){$y(o,F)}while(!0);return s&&o.shellSuspendCounter++,ii=Ao=null,Be=u,G.H=g,G.A=v,Ce===null&&(Je=null,we=0,fl()),E}function jR(){for(;Ce!==null;)Xy(Ce)}function ex(o,s){var a=Be;Be|=2;var u=Yy(),g=Ky();Je!==o||we!==s?(Fl=null,ql=Ft()+500,Is(o,s)):xs=_r(o,s);e:do try{if(Ge!==0&&Ce!==null){s=Ce;var v=Qt;t:switch(Ge){case 1:Ge=0,Qt=null,Ds(o,s,v,1);break;case 2:case 9:if(sv(v)){Ge=0,Qt=null,Qy(s);break}s=function(){Ge!==2&&Ge!==9||Je!==o||(Ge=7),Fn(o)},v.then(s,s);break e;case 3:Ge=7;break e;case 4:Ge=5;break e;case 7:sv(v)?(Ge=0,Qt=null,Qy(s)):(Ge=0,Qt=null,Ds(o,s,v,7));break;case 5:var E=null;switch(Ce.tag){case 26:E=Ce.memoizedState;case 5:case 27:var A=Ce;if(E?L_(E):A.stateNode.complete){Ge=0,Qt=null;var w=A.sibling;if(w!==null)Ce=w;else{var U=A.return;U!==null?(Ce=U,Jl(U)):Ce=null}break t}}Ge=0,Qt=null,Ds(o,s,v,5);break;case 6:Ge=0,Qt=null,Ds(o,s,v,6);break;case 8:Pd(),tt=6;break e;default:throw Error(i(462))}}tx();break}catch(F){$y(o,F)}while(!0);return ii=Ao=null,G.H=u,G.A=g,Be=a,Ce!==null?0:(Je=null,we=0,fl(),tt)}function tx(){for(;Ce!==null&&!Cw();)Xy(Ce)}function Xy(o){var s=_y(o.alternate,o,hi);o.memoizedProps=o.pendingProps,s===null?Jl(o):Ce=s}function Qy(o){var s=o,a=s.alternate;switch(s.tag){case 15:case 0:s=hy(a,s,s.pendingProps,s.type,void 0,we);break;case 11:s=hy(a,s,s.pendingProps,s.type.render,s.ref,we);break;case 5:Zf(s);default:Ey(a,s),s=Ce=Kg(s,hi),s=_y(a,s,hi)}o.memoizedProps=o.pendingProps,s===null?Jl(o):Ce=s}function Ds(o,s,a,u){ii=Ao=null,Zf(s),Es=null,Pr=0;var g=s.return;try{if(FR(o,g,s,a,we)){tt=1,Ol(o,cn(a,o.current)),Ce=null;return}}catch(v){if(g!==null)throw Ce=g,v;tt=1,Ol(o,cn(a,o.current)),Ce=null;return}s.flags&32768?(xe||u===1?o=!0:xs||(we&536870912)!==0?o=!1:(zi=o=!0,(u===2||u===9||u===3||u===6)&&(u=Kt.current,u!==null&&u.tag===13&&(u.flags|=16384))),Wy(s,o)):Jl(s)}function Jl(o){var s=o;do{if((s.flags&32768)!==0){Wy(s,zi);return}o=s.return;var a=JR(s.alternate,s,hi);if(a!==null){Ce=a;return}if(s=s.sibling,s!==null){Ce=s;return}Ce=s=o}while(s!==null);tt===0&&(tt=5)}function Wy(o,s){do{var a=YR(o.alternate,o);if(a!==null){a.flags&=32767,Ce=a;return}if(a=o.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!s&&(o=o.sibling,o!==null)){Ce=o;return}Ce=o=a}while(o!==null);tt=6,Ce=null}function Zy(o,s,a,u,g,v,E,A,w){o.cancelPendingCommit=null;do Yl();while(ct!==0);if((Be&6)!==0)throw Error(i(327));if(s!==null){if(s===o.current)throw Error(i(177));if(v=s.lanes|s.childLanes,v|=bf,Uw(o,a,v,E,A,w),o===Je&&(Ce=Je=null,we=0),Ns=s,Yi=o,pi=a,Od=v,Ud=g,Vy=u,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(o.callbackNode=null,o.callbackPriority=0,sx(Xa,function(){return i_(),null})):(o.callbackNode=null,o.callbackPriority=0),u=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||u){u=G.T,G.T=null,g=W.p,W.p=2,E=Be,Be|=4;try{KR(o,s,a)}finally{Be=E,W.p=g,G.T=u}}ct=1,jy(),e_(),t_()}}function jy(){if(ct===1){ct=0;var o=Yi,s=Ns,a=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||a){a=G.T,G.T=null;var u=W.p;W.p=2;var g=Be;Be|=4;try{Oy(s,o);var v=Xd,E=Hg(o.containerInfo),A=v.focusedElem,w=v.selectionRange;if(E!==A&&A&&A.ownerDocument&&Bg(A.ownerDocument.documentElement,A)){if(w!==null&&Sf(A)){var U=w.start,F=w.end;if(F===void 0&&(F=U),"selectionStart"in A)A.selectionStart=U,A.selectionEnd=Math.min(F,A.value.length);else{var Y=A.ownerDocument||document,k=Y&&Y.defaultView||window;if(k.getSelection){var V=k.getSelection(),se=A.textContent.length,he=Math.min(w.start,se),ze=w.end===void 0?he:Math.min(w.end,se);!V.extend&&he>ze&&(E=ze,ze=he,he=E);var D=kg(A,he),M=kg(A,ze);if(D&&M&&(V.rangeCount!==1||V.anchorNode!==D.node||V.anchorOffset!==D.offset||V.focusNode!==M.node||V.focusOffset!==M.offset)){var O=Y.createRange();O.setStart(D.node,D.offset),V.removeAllRanges(),he>ze?(V.addRange(O),V.extend(M.node,M.offset)):(O.setEnd(M.node,M.offset),V.addRange(O))}}}}for(Y=[],V=A;V=V.parentNode;)V.nodeType===1&&Y.push({element:V,left:V.scrollLeft,top:V.scrollTop});for(typeof A.focus=="function"&&A.focus(),A=0;A<Y.length;A++){var z=Y[A];z.element.scrollLeft=z.left,z.element.scrollTop=z.top}}su=!!Kd,Xd=Kd=null}finally{Be=g,W.p=u,G.T=a}}o.current=s,ct=2}}function e_(){if(ct===2){ct=0;var o=Yi,s=Ns,a=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||a){a=G.T,G.T=null;var u=W.p;W.p=2;var g=Be;Be|=4;try{xy(o,s.alternate,s)}finally{Be=g,W.p=u,G.T=a}}ct=3}}function t_(){if(ct===4||ct===3){ct=0,bw();var o=Yi,s=Ns,a=pi,u=Vy;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?ct=5:(ct=0,Ns=Yi=null,n_(o,o.pendingLanes));var g=o.pendingLanes;if(g===0&&(Ji=null),ef(a),s=s.stateNode,zt&&typeof zt.onCommitFiberRoot=="function")try{zt.onCommitFiberRoot(yr,s,void 0,(s.current.flags&128)===128)}catch{}if(u!==null){s=G.T,g=W.p,W.p=2,G.T=null;try{for(var v=o.onRecoverableError,E=0;E<u.length;E++){var A=u[E];v(A.value,{componentStack:A.stack})}}finally{G.T=s,W.p=g}}(pi&3)!==0&&Yl(),Fn(o),g=o.pendingLanes,(a&261930)!==0&&(g&42)!==0?o===Ld?jr++:(jr=0,Ld=o):jr=0,ea(0)}}function n_(o,s){(o.pooledCacheLanes&=s)===0&&(s=o.pooledCache,s!=null&&(o.pooledCache=null,Ur(s)))}function Yl(){return jy(),e_(),t_(),i_()}function i_(){if(ct!==5)return!1;var o=Yi,s=Od;Od=0;var a=ef(pi),u=G.T,g=W.p;try{W.p=32>a?32:a,G.T=null,a=Ud,Ud=null;var v=Yi,E=pi;if(ct=0,Ns=Yi=null,pi=0,(Be&6)!==0)throw Error(i(331));var A=Be;if(Be|=4,By(v.current),Ly(v,v.current,E,a),Be=A,ea(0,!1),zt&&typeof zt.onPostCommitFiberRoot=="function")try{zt.onPostCommitFiberRoot(yr,v)}catch{}return!0}finally{W.p=g,G.T=u,n_(o,s)}}function o_(o,s,a){s=cn(a,s),s=hd(o.stateNode,s,2),o=Gi(o,s,2),o!==null&&(Sr(o,2),Fn(o))}function Ve(o,s,a){if(o.tag===3)o_(o,o,a);else for(;s!==null;){if(s.tag===3){o_(s,o,a);break}else if(s.tag===1){var u=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Ji===null||!Ji.has(u))){o=cn(a,o),a=sy(2),u=Gi(s,a,2),u!==null&&(ry(a,u,s,o),Sr(u,2),Fn(u));break}}s=s.return}}function Bd(o,s,a){var u=o.pingCache;if(u===null){u=o.pingCache=new WR;var g=new Set;u.set(s,g)}else g=u.get(s),g===void 0&&(g=new Set,u.set(s,g));g.has(a)||(Nd=!0,g.add(a),o=nx.bind(null,o,s,a),s.then(o,o))}function nx(o,s,a){var u=o.pingCache;u!==null&&u.delete(s),o.pingedLanes|=o.suspendedLanes&a,o.warmLanes&=~a,Je===o&&(we&a)===a&&(tt===4||tt===3&&(we&62914560)===we&&300>Ft()-Vl?(Be&2)===0&&Is(o,0):Id|=a,Ms===we&&(Ms=0)),Fn(o)}function s_(o,s){s===0&&(s=jm()),o=So(o,s),o!==null&&(Sr(o,s),Fn(o))}function ix(o){var s=o.memoizedState,a=0;s!==null&&(a=s.retryLane),s_(o,a)}function ox(o,s){var a=0;switch(o.tag){case 31:case 13:var u=o.stateNode,g=o.memoizedState;g!==null&&(a=g.retryLane);break;case 19:u=o.stateNode;break;case 22:u=o.stateNode._retryCache;break;default:throw Error(i(314))}u!==null&&u.delete(s),s_(o,a)}function sx(o,s){return Qc(o,s)}var Kl=null,Os=null,Hd=!1,Xl=!1,Gd=!1,Xi=0;function Fn(o){o!==Os&&o.next===null&&(Os===null?Kl=Os=o:Os=Os.next=o),Xl=!0,Hd||(Hd=!0,ax())}function ea(o,s){if(!Gd&&Xl){Gd=!0;do for(var a=!1,u=Kl;u!==null;){if(o!==0){var g=u.pendingLanes;if(g===0)var v=0;else{var E=u.suspendedLanes,A=u.pingedLanes;v=(1<<31-$t(42|o)+1)-1,v&=g&~(E&~A),v=v&201326741?v&201326741|1:v?v|2:0}v!==0&&(a=!0,u_(u,v))}else v=we,v=ja(u,u===Je?v:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(v&3)===0||_r(u,v)||(a=!0,u_(u,v));u=u.next}while(a);Gd=!1}}function rx(){r_()}function r_(){Xl=Hd=!1;var o=0;Xi!==0&&vx()&&(o=Xi);for(var s=Ft(),a=null,u=Kl;u!==null;){var g=u.next,v=a_(u,s);v===0?(u.next=null,a===null?Kl=g:a.next=g,g===null&&(Os=a)):(a=u,(o!==0||(v&3)!==0)&&(Xl=!0)),u=g}ct!==0&&ct!==5||ea(o),Xi!==0&&(Xi=0)}function a_(o,s){for(var a=o.suspendedLanes,u=o.pingedLanes,g=o.expirationTimes,v=o.pendingLanes&-62914561;0<v;){var E=31-$t(v),A=1<<E,w=g[E];w===-1?((A&a)===0||(A&u)!==0)&&(g[E]=Ow(A,s)):w<=s&&(o.expiredLanes|=A),v&=~A}if(s=Je,a=we,a=ja(o,o===s?a:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),u=o.callbackNode,a===0||o===s&&(Ge===2||Ge===9)||o.cancelPendingCommit!==null)return u!==null&&u!==null&&Wc(u),o.callbackNode=null,o.callbackPriority=0;if((a&3)===0||_r(o,a)){if(s=a&-a,s===o.callbackPriority)return s;switch(u!==null&&Wc(u),ef(a)){case 2:case 8:a=Wm;break;case 32:a=Xa;break;case 268435456:a=Zm;break;default:a=Xa}return u=l_.bind(null,o),a=Qc(a,u),o.callbackPriority=s,o.callbackNode=a,s}return u!==null&&u!==null&&Wc(u),o.callbackPriority=2,o.callbackNode=null,2}function l_(o,s){if(ct!==0&&ct!==5)return o.callbackNode=null,o.callbackPriority=0,null;var a=o.callbackNode;if(Yl()&&o.callbackNode!==a)return null;var u=we;return u=ja(o,o===Je?u:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),u===0?null:(Fy(o,u,s),a_(o,Ft()),o.callbackNode!=null&&o.callbackNode===a?l_.bind(null,o):null)}function u_(o,s){if(Yl())return null;Fy(o,s,!0)}function ax(){_x(function(){(Be&6)!==0?Qc(Qm,rx):r_()})}function Vd(){if(Xi===0){var o=ys;o===0&&(o=Qa,Qa<<=1,(Qa&261888)===0&&(Qa=256)),Xi=o}return Xi}function c_(o){return o==null||typeof o=="symbol"||typeof o=="boolean"?null:typeof o=="function"?o:il(""+o)}function f_(o,s){var a=s.ownerDocument.createElement("input");return a.name=s.name,a.value=s.value,o.id&&a.setAttribute("form",o.id),s.parentNode.insertBefore(a,s),o=new FormData(o),a.parentNode.removeChild(a),o}function lx(o,s,a,u,g){if(s==="submit"&&a&&a.stateNode===g){var v=c_((g[Lt]||null).action),E=u.submitter;E&&(s=(s=E[Lt]||null)?c_(s.formAction):E.getAttribute("formAction"),s!==null&&(v=s,E=null));var A=new al("action","action",null,u,g);o.push({event:A,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(Xi!==0){var w=E?f_(g,E):new FormData(g);ad(a,{pending:!0,data:w,method:g.method,action:v},null,w)}}else typeof v=="function"&&(A.preventDefault(),w=E?f_(g,E):new FormData(g),ad(a,{pending:!0,data:w,method:g.method,action:v},v,w))},currentTarget:g}]})}}for(var qd=0;qd<Cf.length;qd++){var Fd=Cf[qd],ux=Fd.toLowerCase(),cx=Fd[0].toUpperCase()+Fd.slice(1);bn(ux,"on"+cx)}bn(qg,"onAnimationEnd"),bn(Fg,"onAnimationIteration"),bn(zg,"onAnimationStart"),bn("dblclick","onDoubleClick"),bn("focusin","onFocus"),bn("focusout","onBlur"),bn(wR,"onTransitionRun"),bn(RR,"onTransitionStart"),bn(xR,"onTransitionCancel"),bn($g,"onTransitionEnd"),os("onMouseEnter",["mouseout","mouseover"]),os("onMouseLeave",["mouseout","mouseover"]),os("onPointerEnter",["pointerout","pointerover"]),os("onPointerLeave",["pointerout","pointerover"]),go("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),go("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),go("onBeforeInput",["compositionend","keypress","textInput","paste"]),go("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),go("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),go("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ta="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),fx=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ta));function d_(o,s){s=(s&4)!==0;for(var a=0;a<o.length;a++){var u=o[a],g=u.event;u=u.listeners;e:{var v=void 0;if(s)for(var E=u.length-1;0<=E;E--){var A=u[E],w=A.instance,U=A.currentTarget;if(A=A.listener,w!==v&&g.isPropagationStopped())break e;v=A,g.currentTarget=U;try{v(g)}catch(F){cl(F)}g.currentTarget=null,v=w}else for(E=0;E<u.length;E++){if(A=u[E],w=A.instance,U=A.currentTarget,A=A.listener,w!==v&&g.isPropagationStopped())break e;v=A,g.currentTarget=U;try{v(g)}catch(F){cl(F)}g.currentTarget=null,v=w}}}}function be(o,s){var a=s[tf];a===void 0&&(a=s[tf]=new Set);var u=o+"__bubble";a.has(u)||(h_(s,o,2,!1),a.add(u))}function zd(o,s,a){var u=0;s&&(u|=4),h_(a,o,u,s)}var Ql="_reactListening"+Math.random().toString(36).slice(2);function $d(o){if(!o[Ql]){o[Ql]=!0,rg.forEach(function(a){a!=="selectionchange"&&(fx.has(a)||zd(a,!1,o),zd(a,!0,o))});var s=o.nodeType===9?o:o.ownerDocument;s===null||s[Ql]||(s[Ql]=!0,zd("selectionchange",!1,s))}}function h_(o,s,a,u){switch(q_(s)){case 2:var g=Hx;break;case 8:g=Gx;break;default:g=rh}a=g.bind(null,s,a,o),g=void 0,!ff||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(g=!0),u?g!==void 0?o.addEventListener(s,a,{capture:!0,passive:g}):o.addEventListener(s,a,!0):g!==void 0?o.addEventListener(s,a,{passive:g}):o.addEventListener(s,a,!1)}function Jd(o,s,a,u,g){var v=u;if((s&1)===0&&(s&2)===0&&u!==null)e:for(;;){if(u===null)return;var E=u.tag;if(E===3||E===4){var A=u.stateNode.containerInfo;if(A===g)break;if(E===4)for(E=u.return;E!==null;){var w=E.tag;if((w===3||w===4)&&E.stateNode.containerInfo===g)return;E=E.return}for(;A!==null;){if(E=ts(A),E===null)return;if(w=E.tag,w===5||w===6||w===26||w===27){u=v=E;continue e}A=A.parentNode}}u=u.return}yg(function(){var U=v,F=uf(a),Y=[];e:{var k=Jg.get(o);if(k!==void 0){var V=al,se=o;switch(o){case"keypress":if(sl(a)===0)break e;case"keydown":case"keyup":V=oR;break;case"focusin":se="focus",V=mf;break;case"focusout":se="blur",V=mf;break;case"beforeblur":case"afterblur":V=mf;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":V=Eg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":V=Jw;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":V=aR;break;case qg:case Fg:case zg:V=Xw;break;case $g:V=uR;break;case"scroll":case"scrollend":V=zw;break;case"wheel":V=fR;break;case"copy":case"cut":case"paste":V=Ww;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":V=Ag;break;case"toggle":case"beforetoggle":V=hR}var he=(s&4)!==0,ze=!he&&(o==="scroll"||o==="scrollend"),D=he?k!==null?k+"Capture":null:k;he=[];for(var M=U,O;M!==null;){var z=M;if(O=z.stateNode,z=z.tag,z!==5&&z!==26&&z!==27||O===null||D===null||(z=Ar(M,D),z!=null&&he.push(na(M,z,O))),ze)break;M=M.return}0<he.length&&(k=new V(k,se,null,a,F),Y.push({event:k,listeners:he}))}}if((s&7)===0){e:{if(k=o==="mouseover"||o==="pointerover",V=o==="mouseout"||o==="pointerout",k&&a!==lf&&(se=a.relatedTarget||a.fromElement)&&(ts(se)||se[es]))break e;if((V||k)&&(k=F.window===F?F:(k=F.ownerDocument)?k.defaultView||k.parentWindow:window,V?(se=a.relatedTarget||a.toElement,V=U,se=se?ts(se):null,se!==null&&(ze=l(se),he=se.tag,se!==ze||he!==5&&he!==27&&he!==6)&&(se=null)):(V=null,se=U),V!==se)){if(he=Eg,z="onMouseLeave",D="onMouseEnter",M="mouse",(o==="pointerout"||o==="pointerover")&&(he=Ag,z="onPointerLeave",D="onPointerEnter",M="pointer"),ze=V==null?k:Tr(V),O=se==null?k:Tr(se),k=new he(z,M+"leave",V,a,F),k.target=ze,k.relatedTarget=O,z=null,ts(F)===U&&(he=new he(D,M+"enter",se,a,F),he.target=O,he.relatedTarget=ze,z=he),ze=z,V&&se)t:{for(he=dx,D=V,M=se,O=0,z=D;z;z=he(z))O++;z=0;for(var ce=M;ce;ce=he(ce))z++;for(;0<O-z;)D=he(D),O--;for(;0<z-O;)M=he(M),z--;for(;O--;){if(D===M||M!==null&&D===M.alternate){he=D;break t}D=he(D),M=he(M)}he=null}else he=null;V!==null&&p_(Y,k,V,he,!1),se!==null&&ze!==null&&p_(Y,ze,se,he,!0)}}e:{if(k=U?Tr(U):window,V=k.nodeName&&k.nodeName.toLowerCase(),V==="select"||V==="input"&&k.type==="file")var De=Ig;else if(Mg(k))if(Dg)De=AR;else{De=ER;var le=SR}else V=k.nodeName,!V||V.toLowerCase()!=="input"||k.type!=="checkbox"&&k.type!=="radio"?U&&af(U.elementType)&&(De=Ig):De=TR;if(De&&(De=De(o,U))){Ng(Y,De,a,F);break e}le&&le(o,k,U),o==="focusout"&&U&&k.type==="number"&&U.memoizedProps.value!=null&&rf(k,"number",k.value)}switch(le=U?Tr(U):window,o){case"focusin":(Mg(le)||le.contentEditable==="true")&&(cs=le,Ef=U,Ir=null);break;case"focusout":Ir=Ef=cs=null;break;case"mousedown":Tf=!0;break;case"contextmenu":case"mouseup":case"dragend":Tf=!1,Gg(Y,a,F);break;case"selectionchange":if(bR)break;case"keydown":case"keyup":Gg(Y,a,F)}var Se;if(vf)e:{switch(o){case"compositionstart":var Re="onCompositionStart";break e;case"compositionend":Re="onCompositionEnd";break e;case"compositionupdate":Re="onCompositionUpdate";break e}Re=void 0}else us?Rg(o,a)&&(Re="onCompositionEnd"):o==="keydown"&&a.keyCode===229&&(Re="onCompositionStart");Re&&(Cg&&a.locale!=="ko"&&(us||Re!=="onCompositionStart"?Re==="onCompositionEnd"&&us&&(Se=_g()):(Oi=F,df="value"in Oi?Oi.value:Oi.textContent,us=!0)),le=Wl(U,Re),0<le.length&&(Re=new Tg(Re,o,null,a,F),Y.push({event:Re,listeners:le}),Se?Re.data=Se:(Se=xg(a),Se!==null&&(Re.data=Se)))),(Se=mR?gR(o,a):vR(o,a))&&(Re=Wl(U,"onBeforeInput"),0<Re.length&&(le=new Tg("onBeforeInput","beforeinput",null,a,F),Y.push({event:le,listeners:Re}),le.data=Se)),lx(Y,o,U,a,F)}d_(Y,s)})}function na(o,s,a){return{instance:o,listener:s,currentTarget:a}}function Wl(o,s){for(var a=s+"Capture",u=[];o!==null;){var g=o,v=g.stateNode;if(g=g.tag,g!==5&&g!==26&&g!==27||v===null||(g=Ar(o,a),g!=null&&u.unshift(na(o,g,v)),g=Ar(o,s),g!=null&&u.push(na(o,g,v))),o.tag===3)return u;o=o.return}return[]}function dx(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5&&o.tag!==27);return o||null}function p_(o,s,a,u,g){for(var v=s._reactName,E=[];a!==null&&a!==u;){var A=a,w=A.alternate,U=A.stateNode;if(A=A.tag,w!==null&&w===u)break;A!==5&&A!==26&&A!==27||U===null||(w=U,g?(U=Ar(a,v),U!=null&&E.unshift(na(a,U,w))):g||(U=Ar(a,v),U!=null&&E.push(na(a,U,w)))),a=a.return}E.length!==0&&o.push({event:s,listeners:E})}var hx=/\r\n?/g,px=/\u0000|\uFFFD/g;function m_(o){return(typeof o=="string"?o:""+o).replace(hx,`
`).replace(px,"")}function g_(o,s){return s=m_(s),m_(o)===s}function Fe(o,s,a,u,g,v){switch(a){case"children":typeof u=="string"?s==="body"||s==="textarea"&&u===""||rs(o,u):(typeof u=="number"||typeof u=="bigint")&&s!=="body"&&rs(o,""+u);break;case"className":tl(o,"class",u);break;case"tabIndex":tl(o,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":tl(o,a,u);break;case"style":gg(o,u,v);break;case"data":if(s!=="object"){tl(o,"data",u);break}case"src":case"href":if(u===""&&(s!=="a"||a!=="href")){o.removeAttribute(a);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){o.removeAttribute(a);break}u=il(""+u),o.setAttribute(a,u);break;case"action":case"formAction":if(typeof u=="function"){o.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof v=="function"&&(a==="formAction"?(s!=="input"&&Fe(o,s,"name",g.name,g,null),Fe(o,s,"formEncType",g.formEncType,g,null),Fe(o,s,"formMethod",g.formMethod,g,null),Fe(o,s,"formTarget",g.formTarget,g,null)):(Fe(o,s,"encType",g.encType,g,null),Fe(o,s,"method",g.method,g,null),Fe(o,s,"target",g.target,g,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){o.removeAttribute(a);break}u=il(""+u),o.setAttribute(a,u);break;case"onClick":u!=null&&(o.onclick=jn);break;case"onScroll":u!=null&&be("scroll",o);break;case"onScrollEnd":u!=null&&be("scrollend",o);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(a=u.__html,a!=null){if(g.children!=null)throw Error(i(60));o.innerHTML=a}}break;case"multiple":o.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":o.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){o.removeAttribute("xlink:href");break}a=il(""+u),o.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?o.setAttribute(a,""+u):o.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?o.setAttribute(a,""):o.removeAttribute(a);break;case"capture":case"download":u===!0?o.setAttribute(a,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?o.setAttribute(a,u):o.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?o.setAttribute(a,u):o.removeAttribute(a);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?o.removeAttribute(a):o.setAttribute(a,u);break;case"popover":be("beforetoggle",o),be("toggle",o),el(o,"popover",u);break;case"xlinkActuate":Zn(o,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Zn(o,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Zn(o,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Zn(o,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Zn(o,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Zn(o,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Zn(o,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Zn(o,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Zn(o,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":el(o,"is",u);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=qw.get(a)||a,el(o,a,u))}}function Yd(o,s,a,u,g,v){switch(a){case"style":gg(o,u,v);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(a=u.__html,a!=null){if(g.children!=null)throw Error(i(60));o.innerHTML=a}}break;case"children":typeof u=="string"?rs(o,u):(typeof u=="number"||typeof u=="bigint")&&rs(o,""+u);break;case"onScroll":u!=null&&be("scroll",o);break;case"onScrollEnd":u!=null&&be("scrollend",o);break;case"onClick":u!=null&&(o.onclick=jn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ag.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(g=a.endsWith("Capture"),s=a.slice(2,g?a.length-7:void 0),v=o[Lt]||null,v=v!=null?v[a]:null,typeof v=="function"&&o.removeEventListener(s,v,g),typeof u=="function")){typeof v!="function"&&v!==null&&(a in o?o[a]=null:o.hasAttribute(a)&&o.removeAttribute(a)),o.addEventListener(s,u,g);break e}a in o?o[a]=u:u===!0?o.setAttribute(a,""):el(o,a,u)}}}function Ct(o,s,a){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":be("error",o),be("load",o);var u=!1,g=!1,v;for(v in a)if(a.hasOwnProperty(v)){var E=a[v];if(E!=null)switch(v){case"src":u=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:Fe(o,s,v,E,a,null)}}g&&Fe(o,s,"srcSet",a.srcSet,a,null),u&&Fe(o,s,"src",a.src,a,null);return;case"input":be("invalid",o);var A=v=E=g=null,w=null,U=null;for(u in a)if(a.hasOwnProperty(u)){var F=a[u];if(F!=null)switch(u){case"name":g=F;break;case"type":E=F;break;case"checked":w=F;break;case"defaultChecked":U=F;break;case"value":v=F;break;case"defaultValue":A=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(i(137,s));break;default:Fe(o,s,u,F,a,null)}}dg(o,v,A,w,U,E,g,!1);return;case"select":be("invalid",o),u=E=v=null;for(g in a)if(a.hasOwnProperty(g)&&(A=a[g],A!=null))switch(g){case"value":v=A;break;case"defaultValue":E=A;break;case"multiple":u=A;default:Fe(o,s,g,A,a,null)}s=v,a=E,o.multiple=!!u,s!=null?ss(o,!!u,s,!1):a!=null&&ss(o,!!u,a,!0);return;case"textarea":be("invalid",o),v=g=u=null;for(E in a)if(a.hasOwnProperty(E)&&(A=a[E],A!=null))switch(E){case"value":u=A;break;case"defaultValue":g=A;break;case"children":v=A;break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(i(91));break;default:Fe(o,s,E,A,a,null)}pg(o,u,g,v);return;case"option":for(w in a)if(a.hasOwnProperty(w)&&(u=a[w],u!=null))switch(w){case"selected":o.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:Fe(o,s,w,u,a,null)}return;case"dialog":be("beforetoggle",o),be("toggle",o),be("cancel",o),be("close",o);break;case"iframe":case"object":be("load",o);break;case"video":case"audio":for(u=0;u<ta.length;u++)be(ta[u],o);break;case"image":be("error",o),be("load",o);break;case"details":be("toggle",o);break;case"embed":case"source":case"link":be("error",o),be("load",o);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(U in a)if(a.hasOwnProperty(U)&&(u=a[U],u!=null))switch(U){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:Fe(o,s,U,u,a,null)}return;default:if(af(s)){for(F in a)a.hasOwnProperty(F)&&(u=a[F],u!==void 0&&Yd(o,s,F,u,a,void 0));return}}for(A in a)a.hasOwnProperty(A)&&(u=a[A],u!=null&&Fe(o,s,A,u,a,null))}function mx(o,s,a,u){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,v=null,E=null,A=null,w=null,U=null,F=null;for(V in a){var Y=a[V];if(a.hasOwnProperty(V)&&Y!=null)switch(V){case"checked":break;case"value":break;case"defaultValue":w=Y;default:u.hasOwnProperty(V)||Fe(o,s,V,null,u,Y)}}for(var k in u){var V=u[k];if(Y=a[k],u.hasOwnProperty(k)&&(V!=null||Y!=null))switch(k){case"type":v=V;break;case"name":g=V;break;case"checked":U=V;break;case"defaultChecked":F=V;break;case"value":E=V;break;case"defaultValue":A=V;break;case"children":case"dangerouslySetInnerHTML":if(V!=null)throw Error(i(137,s));break;default:V!==Y&&Fe(o,s,k,V,u,Y)}}sf(o,E,A,w,U,F,v,g);return;case"select":V=E=A=k=null;for(v in a)if(w=a[v],a.hasOwnProperty(v)&&w!=null)switch(v){case"value":break;case"multiple":V=w;default:u.hasOwnProperty(v)||Fe(o,s,v,null,u,w)}for(g in u)if(v=u[g],w=a[g],u.hasOwnProperty(g)&&(v!=null||w!=null))switch(g){case"value":k=v;break;case"defaultValue":A=v;break;case"multiple":E=v;default:v!==w&&Fe(o,s,g,v,u,w)}s=A,a=E,u=V,k!=null?ss(o,!!a,k,!1):!!u!=!!a&&(s!=null?ss(o,!!a,s,!0):ss(o,!!a,a?[]:"",!1));return;case"textarea":V=k=null;for(A in a)if(g=a[A],a.hasOwnProperty(A)&&g!=null&&!u.hasOwnProperty(A))switch(A){case"value":break;case"children":break;default:Fe(o,s,A,null,u,g)}for(E in u)if(g=u[E],v=a[E],u.hasOwnProperty(E)&&(g!=null||v!=null))switch(E){case"value":k=g;break;case"defaultValue":V=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(i(91));break;default:g!==v&&Fe(o,s,E,g,u,v)}hg(o,k,V);return;case"option":for(var se in a)if(k=a[se],a.hasOwnProperty(se)&&k!=null&&!u.hasOwnProperty(se))switch(se){case"selected":o.selected=!1;break;default:Fe(o,s,se,null,u,k)}for(w in u)if(k=u[w],V=a[w],u.hasOwnProperty(w)&&k!==V&&(k!=null||V!=null))switch(w){case"selected":o.selected=k&&typeof k!="function"&&typeof k!="symbol";break;default:Fe(o,s,w,k,u,V)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var he in a)k=a[he],a.hasOwnProperty(he)&&k!=null&&!u.hasOwnProperty(he)&&Fe(o,s,he,null,u,k);for(U in u)if(k=u[U],V=a[U],u.hasOwnProperty(U)&&k!==V&&(k!=null||V!=null))switch(U){case"children":case"dangerouslySetInnerHTML":if(k!=null)throw Error(i(137,s));break;default:Fe(o,s,U,k,u,V)}return;default:if(af(s)){for(var ze in a)k=a[ze],a.hasOwnProperty(ze)&&k!==void 0&&!u.hasOwnProperty(ze)&&Yd(o,s,ze,void 0,u,k);for(F in u)k=u[F],V=a[F],!u.hasOwnProperty(F)||k===V||k===void 0&&V===void 0||Yd(o,s,F,k,u,V);return}}for(var D in a)k=a[D],a.hasOwnProperty(D)&&k!=null&&!u.hasOwnProperty(D)&&Fe(o,s,D,null,u,k);for(Y in u)k=u[Y],V=a[Y],!u.hasOwnProperty(Y)||k===V||k==null&&V==null||Fe(o,s,Y,k,u,V)}function v_(o){switch(o){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function gx(){if(typeof performance.getEntriesByType=="function"){for(var o=0,s=0,a=performance.getEntriesByType("resource"),u=0;u<a.length;u++){var g=a[u],v=g.transferSize,E=g.initiatorType,A=g.duration;if(v&&A&&v_(E)){for(E=0,A=g.responseEnd,u+=1;u<a.length;u++){var w=a[u],U=w.startTime;if(U>A)break;var F=w.transferSize,Y=w.initiatorType;F&&v_(Y)&&(w=w.responseEnd,E+=F*(w<A?1:(A-U)/(w-U)))}if(--u,s+=8*(v+E)/(g.duration/1e3),o++,10<o)break}}if(0<o)return s/o/1e6}return navigator.connection&&(o=navigator.connection.downlink,typeof o=="number")?o:5}var Kd=null,Xd=null;function Zl(o){return o.nodeType===9?o:o.ownerDocument}function y_(o){switch(o){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function __(o,s){if(o===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return o===1&&s==="foreignObject"?0:o}function Qd(o,s){return o==="textarea"||o==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Wd=null;function vx(){var o=window.event;return o&&o.type==="popstate"?o===Wd?!1:(Wd=o,!0):(Wd=null,!1)}var S_=typeof setTimeout=="function"?setTimeout:void 0,yx=typeof clearTimeout=="function"?clearTimeout:void 0,E_=typeof Promise=="function"?Promise:void 0,_x=typeof queueMicrotask=="function"?queueMicrotask:typeof E_<"u"?function(o){return E_.resolve(null).then(o).catch(Sx)}:S_;function Sx(o){setTimeout(function(){throw o})}function Qi(o){return o==="head"}function T_(o,s){var a=s,u=0;do{var g=a.nextSibling;if(o.removeChild(a),g&&g.nodeType===8)if(a=g.data,a==="/$"||a==="/&"){if(u===0){o.removeChild(g),ks(s);return}u--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")u++;else if(a==="html")ia(o.ownerDocument.documentElement);else if(a==="head"){a=o.ownerDocument.head,ia(a);for(var v=a.firstChild;v;){var E=v.nextSibling,A=v.nodeName;v[Er]||A==="SCRIPT"||A==="STYLE"||A==="LINK"&&v.rel.toLowerCase()==="stylesheet"||a.removeChild(v),v=E}}else a==="body"&&ia(o.ownerDocument.body);a=g}while(a);ks(s)}function A_(o,s){var a=o;o=0;do{var u=a.nextSibling;if(a.nodeType===1?s?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(s?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),u&&u.nodeType===8)if(a=u.data,a==="/$"){if(o===0)break;o--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||o++;a=u}while(a)}function Zd(o){var s=o.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var a=s;switch(s=s.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Zd(a),nf(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}o.removeChild(a)}}function Ex(o,s,a,u){for(;o.nodeType===1;){var g=a;if(o.nodeName.toLowerCase()!==s.toLowerCase()){if(!u&&(o.nodeName!=="INPUT"||o.type!=="hidden"))break}else if(u){if(!o[Er])switch(s){case"meta":if(!o.hasAttribute("itemprop"))break;return o;case"link":if(v=o.getAttribute("rel"),v==="stylesheet"&&o.hasAttribute("data-precedence"))break;if(v!==g.rel||o.getAttribute("href")!==(g.href==null||g.href===""?null:g.href)||o.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||o.getAttribute("title")!==(g.title==null?null:g.title))break;return o;case"style":if(o.hasAttribute("data-precedence"))break;return o;case"script":if(v=o.getAttribute("src"),(v!==(g.src==null?null:g.src)||o.getAttribute("type")!==(g.type==null?null:g.type)||o.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&v&&o.hasAttribute("async")&&!o.hasAttribute("itemprop"))break;return o;default:return o}}else if(s==="input"&&o.type==="hidden"){var v=g.name==null?null:""+g.name;if(g.type==="hidden"&&o.getAttribute("name")===v)return o}else return o;if(o=mn(o.nextSibling),o===null)break}return null}function Tx(o,s,a){if(s==="")return null;for(;o.nodeType!==3;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!a||(o=mn(o.nextSibling),o===null))return null;return o}function C_(o,s){for(;o.nodeType!==8;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!s||(o=mn(o.nextSibling),o===null))return null;return o}function jd(o){return o.data==="$?"||o.data==="$~"}function eh(o){return o.data==="$!"||o.data==="$?"&&o.ownerDocument.readyState!=="loading"}function Ax(o,s){var a=o.ownerDocument;if(o.data==="$~")o._reactRetry=s;else if(o.data!=="$?"||a.readyState!=="loading")s();else{var u=function(){s(),a.removeEventListener("DOMContentLoaded",u)};a.addEventListener("DOMContentLoaded",u),o._reactRetry=u}}function mn(o){for(;o!=null;o=o.nextSibling){var s=o.nodeType;if(s===1||s===3)break;if(s===8){if(s=o.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return o}var th=null;function b_(o){o=o.nextSibling;for(var s=0;o;){if(o.nodeType===8){var a=o.data;if(a==="/$"||a==="/&"){if(s===0)return mn(o.nextSibling);s--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||s++}o=o.nextSibling}return null}function w_(o){o=o.previousSibling;for(var s=0;o;){if(o.nodeType===8){var a=o.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(s===0)return o;s--}else a!=="/$"&&a!=="/&"||s++}o=o.previousSibling}return null}function R_(o,s,a){switch(s=Zl(a),o){case"html":if(o=s.documentElement,!o)throw Error(i(452));return o;case"head":if(o=s.head,!o)throw Error(i(453));return o;case"body":if(o=s.body,!o)throw Error(i(454));return o;default:throw Error(i(451))}}function ia(o){for(var s=o.attributes;s.length;)o.removeAttributeNode(s[0]);nf(o)}var gn=new Map,x_=new Set;function jl(o){return typeof o.getRootNode=="function"?o.getRootNode():o.nodeType===9?o:o.ownerDocument}var mi=W.d;W.d={f:Cx,r:bx,D:wx,C:Rx,L:xx,m:Mx,X:Ix,S:Nx,M:Dx};function Cx(){var o=mi.f(),s=zl();return o||s}function bx(o){var s=ns(o);s!==null&&s.tag===5&&s.type==="form"?$v(s):mi.r(o)}var Us=typeof document>"u"?null:document;function M_(o,s,a){var u=Us;if(u&&typeof s=="string"&&s){var g=ln(s);g='link[rel="'+o+'"][href="'+g+'"]',typeof a=="string"&&(g+='[crossorigin="'+a+'"]'),x_.has(g)||(x_.add(g),o={rel:o,crossOrigin:a,href:s},u.querySelector(g)===null&&(s=u.createElement("link"),Ct(s,"link",o),ht(s),u.head.appendChild(s)))}}function wx(o){mi.D(o),M_("dns-prefetch",o,null)}function Rx(o,s){mi.C(o,s),M_("preconnect",o,s)}function xx(o,s,a){mi.L(o,s,a);var u=Us;if(u&&o&&s){var g='link[rel="preload"][as="'+ln(s)+'"]';s==="image"&&a&&a.imageSrcSet?(g+='[imagesrcset="'+ln(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(g+='[imagesizes="'+ln(a.imageSizes)+'"]')):g+='[href="'+ln(o)+'"]';var v=g;switch(s){case"style":v=Ls(o);break;case"script":v=Ps(o)}gn.has(v)||(o=_({rel:"preload",href:s==="image"&&a&&a.imageSrcSet?void 0:o,as:s},a),gn.set(v,o),u.querySelector(g)!==null||s==="style"&&u.querySelector(oa(v))||s==="script"&&u.querySelector(sa(v))||(s=u.createElement("link"),Ct(s,"link",o),ht(s),u.head.appendChild(s)))}}function Mx(o,s){mi.m(o,s);var a=Us;if(a&&o){var u=s&&typeof s.as=="string"?s.as:"script",g='link[rel="modulepreload"][as="'+ln(u)+'"][href="'+ln(o)+'"]',v=g;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":v=Ps(o)}if(!gn.has(v)&&(o=_({rel:"modulepreload",href:o},s),gn.set(v,o),a.querySelector(g)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(sa(v)))return}u=a.createElement("link"),Ct(u,"link",o),ht(u),a.head.appendChild(u)}}}function Nx(o,s,a){mi.S(o,s,a);var u=Us;if(u&&o){var g=is(u).hoistableStyles,v=Ls(o);s=s||"default";var E=g.get(v);if(!E){var A={loading:0,preload:null};if(E=u.querySelector(oa(v)))A.loading=5;else{o=_({rel:"stylesheet",href:o,"data-precedence":s},a),(a=gn.get(v))&&nh(o,a);var w=E=u.createElement("link");ht(w),Ct(w,"link",o),w._p=new Promise(function(U,F){w.onload=U,w.onerror=F}),w.addEventListener("load",function(){A.loading|=1}),w.addEventListener("error",function(){A.loading|=2}),A.loading|=4,eu(E,s,u)}E={type:"stylesheet",instance:E,count:1,state:A},g.set(v,E)}}}function Ix(o,s){mi.X(o,s);var a=Us;if(a&&o){var u=is(a).hoistableScripts,g=Ps(o),v=u.get(g);v||(v=a.querySelector(sa(g)),v||(o=_({src:o,async:!0},s),(s=gn.get(g))&&ih(o,s),v=a.createElement("script"),ht(v),Ct(v,"link",o),a.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},u.set(g,v))}}function Dx(o,s){mi.M(o,s);var a=Us;if(a&&o){var u=is(a).hoistableScripts,g=Ps(o),v=u.get(g);v||(v=a.querySelector(sa(g)),v||(o=_({src:o,async:!0,type:"module"},s),(s=gn.get(g))&&ih(o,s),v=a.createElement("script"),ht(v),Ct(v,"link",o),a.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},u.set(g,v))}}function N_(o,s,a,u){var g=(g=Ae.current)?jl(g):null;if(!g)throw Error(i(446));switch(o){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(s=Ls(a.href),a=is(g).hoistableStyles,u=a.get(s),u||(u={type:"style",instance:null,count:0,state:null},a.set(s,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){o=Ls(a.href);var v=is(g).hoistableStyles,E=v.get(o);if(E||(g=g.ownerDocument||g,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},v.set(o,E),(v=g.querySelector(oa(o)))&&!v._p&&(E.instance=v,E.state.loading=5),gn.has(o)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},gn.set(o,a),v||Ox(g,o,a,E.state))),s&&u===null)throw Error(i(528,""));return E}if(s&&u!==null)throw Error(i(529,""));return null;case"script":return s=a.async,a=a.src,typeof a=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Ps(a),a=is(g).hoistableScripts,u=a.get(s),u||(u={type:"script",instance:null,count:0,state:null},a.set(s,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,o))}}function Ls(o){return'href="'+ln(o)+'"'}function oa(o){return'link[rel="stylesheet"]['+o+"]"}function I_(o){return _({},o,{"data-precedence":o.precedence,precedence:null})}function Ox(o,s,a,u){o.querySelector('link[rel="preload"][as="style"]['+s+"]")?u.loading=1:(s=o.createElement("link"),u.preload=s,s.addEventListener("load",function(){return u.loading|=1}),s.addEventListener("error",function(){return u.loading|=2}),Ct(s,"link",a),ht(s),o.head.appendChild(s))}function Ps(o){return'[src="'+ln(o)+'"]'}function sa(o){return"script[async]"+o}function D_(o,s,a){if(s.count++,s.instance===null)switch(s.type){case"style":var u=o.querySelector('style[data-href~="'+ln(a.href)+'"]');if(u)return s.instance=u,ht(u),u;var g=_({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return u=(o.ownerDocument||o).createElement("style"),ht(u),Ct(u,"style",g),eu(u,a.precedence,o),s.instance=u;case"stylesheet":g=Ls(a.href);var v=o.querySelector(oa(g));if(v)return s.state.loading|=4,s.instance=v,ht(v),v;u=I_(a),(g=gn.get(g))&&nh(u,g),v=(o.ownerDocument||o).createElement("link"),ht(v);var E=v;return E._p=new Promise(function(A,w){E.onload=A,E.onerror=w}),Ct(v,"link",u),s.state.loading|=4,eu(v,a.precedence,o),s.instance=v;case"script":return v=Ps(a.src),(g=o.querySelector(sa(v)))?(s.instance=g,ht(g),g):(u=a,(g=gn.get(v))&&(u=_({},a),ih(u,g)),o=o.ownerDocument||o,g=o.createElement("script"),ht(g),Ct(g,"link",u),o.head.appendChild(g),s.instance=g);case"void":return null;default:throw Error(i(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(u=s.instance,s.state.loading|=4,eu(u,a.precedence,o));return s.instance}function eu(o,s,a){for(var u=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=u.length?u[u.length-1]:null,v=g,E=0;E<u.length;E++){var A=u[E];if(A.dataset.precedence===s)v=A;else if(v!==g)break}v?v.parentNode.insertBefore(o,v.nextSibling):(s=a.nodeType===9?a.head:a,s.insertBefore(o,s.firstChild))}function nh(o,s){o.crossOrigin==null&&(o.crossOrigin=s.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=s.referrerPolicy),o.title==null&&(o.title=s.title)}function ih(o,s){o.crossOrigin==null&&(o.crossOrigin=s.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=s.referrerPolicy),o.integrity==null&&(o.integrity=s.integrity)}var tu=null;function O_(o,s,a){if(tu===null){var u=new Map,g=tu=new Map;g.set(a,u)}else g=tu,u=g.get(a),u||(u=new Map,g.set(a,u));if(u.has(o))return u;for(u.set(o,null),a=a.getElementsByTagName(o),g=0;g<a.length;g++){var v=a[g];if(!(v[Er]||v[St]||o==="link"&&v.getAttribute("rel")==="stylesheet")&&v.namespaceURI!=="http://www.w3.org/2000/svg"){var E=v.getAttribute(s)||"";E=o+E;var A=u.get(E);A?A.push(v):u.set(E,[v])}}return u}function U_(o,s,a){o=o.ownerDocument||o,o.head.insertBefore(a,s==="title"?o.querySelector("head > title"):null)}function Ux(o,s,a){if(a===1||s.itemProp!=null)return!1;switch(o){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return o=s.disabled,typeof s.precedence=="string"&&o==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function L_(o){return!(o.type==="stylesheet"&&(o.state.loading&3)===0)}function Lx(o,s,a,u){if(a.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var g=Ls(u.href),v=s.querySelector(oa(g));if(v){s=v._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(o.count++,o=nu.bind(o),s.then(o,o)),a.state.loading|=4,a.instance=v,ht(v);return}v=s.ownerDocument||s,u=I_(u),(g=gn.get(g))&&nh(u,g),v=v.createElement("link"),ht(v);var E=v;E._p=new Promise(function(A,w){E.onload=A,E.onerror=w}),Ct(v,"link",u),a.instance=v}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(a,s),(s=a.state.preload)&&(a.state.loading&3)===0&&(o.count++,a=nu.bind(o),s.addEventListener("load",a),s.addEventListener("error",a))}}var oh=0;function Px(o,s){return o.stylesheets&&o.count===0&&ou(o,o.stylesheets),0<o.count||0<o.imgCount?function(a){var u=setTimeout(function(){if(o.stylesheets&&ou(o,o.stylesheets),o.unsuspend){var v=o.unsuspend;o.unsuspend=null,v()}},6e4+s);0<o.imgBytes&&oh===0&&(oh=62500*gx());var g=setTimeout(function(){if(o.waitingForImages=!1,o.count===0&&(o.stylesheets&&ou(o,o.stylesheets),o.unsuspend)){var v=o.unsuspend;o.unsuspend=null,v()}},(o.imgBytes>oh?50:800)+s);return o.unsuspend=a,function(){o.unsuspend=null,clearTimeout(u),clearTimeout(g)}}:null}function nu(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)ou(this,this.stylesheets);else if(this.unsuspend){var o=this.unsuspend;this.unsuspend=null,o()}}}var iu=null;function ou(o,s){o.stylesheets=null,o.unsuspend!==null&&(o.count++,iu=new Map,s.forEach(kx,o),iu=null,nu.call(o))}function kx(o,s){if(!(s.state.loading&4)){var a=iu.get(o);if(a)var u=a.get(null);else{a=new Map,iu.set(o,a);for(var g=o.querySelectorAll("link[data-precedence],style[data-precedence]"),v=0;v<g.length;v++){var E=g[v];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(a.set(E.dataset.precedence,E),u=E)}u&&a.set(null,u)}g=s.instance,E=g.getAttribute("data-precedence"),v=a.get(E)||u,v===u&&a.set(null,g),a.set(E,g),this.count++,u=nu.bind(this),g.addEventListener("load",u),g.addEventListener("error",u),v?v.parentNode.insertBefore(g,v.nextSibling):(o=o.nodeType===9?o.head:o,o.insertBefore(g,o.firstChild)),s.state.loading|=4}}var ra={$$typeof:B,Provider:null,Consumer:null,_currentValue:ie,_currentValue2:ie,_threadCount:0};function Bx(o,s,a,u,g,v,E,A,w){this.tag=1,this.containerInfo=o,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Zc(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Zc(0),this.hiddenUpdates=Zc(null),this.identifierPrefix=u,this.onUncaughtError=g,this.onCaughtError=v,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=w,this.incompleteTransitions=new Map}function P_(o,s,a,u,g,v,E,A,w,U,F,Y){return o=new Bx(o,s,a,E,w,U,F,Y,A),s=1,v===!0&&(s|=24),v=Yt(3,null,null,s),o.current=v,v.stateNode=o,s=kf(),s.refCount++,o.pooledCache=s,s.refCount++,v.memoizedState={element:u,isDehydrated:a,cache:s},Vf(v),o}function k_(o){return o?(o=hs,o):hs}function B_(o,s,a,u,g,v){g=k_(g),u.context===null?u.context=g:u.pendingContext=g,u=Hi(s),u.payload={element:a},v=v===void 0?null:v,v!==null&&(u.callback=v),a=Gi(o,u,s),a!==null&&(Vt(a,o,s),Br(a,o,s))}function H_(o,s){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var a=o.retryLane;o.retryLane=a!==0&&a<s?a:s}}function sh(o,s){H_(o,s),(o=o.alternate)&&H_(o,s)}function G_(o){if(o.tag===13||o.tag===31){var s=So(o,67108864);s!==null&&Vt(s,o,67108864),sh(o,67108864)}}function V_(o){if(o.tag===13||o.tag===31){var s=Zt();s=jc(s);var a=So(o,s);a!==null&&Vt(a,o,s),sh(o,s)}}var su=!0;function Hx(o,s,a,u){var g=G.T;G.T=null;var v=W.p;try{W.p=2,rh(o,s,a,u)}finally{W.p=v,G.T=g}}function Gx(o,s,a,u){var g=G.T;G.T=null;var v=W.p;try{W.p=8,rh(o,s,a,u)}finally{W.p=v,G.T=g}}function rh(o,s,a,u){if(su){var g=ah(u);if(g===null)Jd(o,s,u,ru,a),F_(o,u);else if(qx(g,o,s,a,u))u.stopPropagation();else if(F_(o,u),s&4&&-1<Vx.indexOf(o)){for(;g!==null;){var v=ns(g);if(v!==null)switch(v.tag){case 3:if(v=v.stateNode,v.current.memoizedState.isDehydrated){var E=mo(v.pendingLanes);if(E!==0){var A=v;for(A.pendingLanes|=2,A.entangledLanes|=2;E;){var w=1<<31-$t(E);A.entanglements[1]|=w,E&=~w}Fn(v),(Be&6)===0&&(ql=Ft()+500,ea(0))}}break;case 31:case 13:A=So(v,2),A!==null&&Vt(A,v,2),zl(),sh(v,2)}if(v=ah(u),v===null&&Jd(o,s,u,ru,a),v===g)break;g=v}g!==null&&u.stopPropagation()}else Jd(o,s,u,null,a)}}function ah(o){return o=uf(o),lh(o)}var ru=null;function lh(o){if(ru=null,o=ts(o),o!==null){var s=l(o);if(s===null)o=null;else{var a=s.tag;if(a===13){if(o=c(s),o!==null)return o;o=null}else if(a===31){if(o=d(s),o!==null)return o;o=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;o=null}else s!==o&&(o=null)}}return ru=o,null}function q_(o){switch(o){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ww()){case Qm:return 2;case Wm:return 8;case Xa:case Rw:return 32;case Zm:return 268435456;default:return 32}default:return 32}}var uh=!1,Wi=null,Zi=null,ji=null,aa=new Map,la=new Map,eo=[],Vx="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function F_(o,s){switch(o){case"focusin":case"focusout":Wi=null;break;case"dragenter":case"dragleave":Zi=null;break;case"mouseover":case"mouseout":ji=null;break;case"pointerover":case"pointerout":aa.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":la.delete(s.pointerId)}}function ua(o,s,a,u,g,v){return o===null||o.nativeEvent!==v?(o={blockedOn:s,domEventName:a,eventSystemFlags:u,nativeEvent:v,targetContainers:[g]},s!==null&&(s=ns(s),s!==null&&G_(s)),o):(o.eventSystemFlags|=u,s=o.targetContainers,g!==null&&s.indexOf(g)===-1&&s.push(g),o)}function qx(o,s,a,u,g){switch(s){case"focusin":return Wi=ua(Wi,o,s,a,u,g),!0;case"dragenter":return Zi=ua(Zi,o,s,a,u,g),!0;case"mouseover":return ji=ua(ji,o,s,a,u,g),!0;case"pointerover":var v=g.pointerId;return aa.set(v,ua(aa.get(v)||null,o,s,a,u,g)),!0;case"gotpointercapture":return v=g.pointerId,la.set(v,ua(la.get(v)||null,o,s,a,u,g)),!0}return!1}function z_(o){var s=ts(o.target);if(s!==null){var a=l(s);if(a!==null){if(s=a.tag,s===13){if(s=c(a),s!==null){o.blockedOn=s,og(o.priority,function(){V_(a)});return}}else if(s===31){if(s=d(a),s!==null){o.blockedOn=s,og(o.priority,function(){V_(a)});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){o.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}o.blockedOn=null}function au(o){if(o.blockedOn!==null)return!1;for(var s=o.targetContainers;0<s.length;){var a=ah(o.nativeEvent);if(a===null){a=o.nativeEvent;var u=new a.constructor(a.type,a);lf=u,a.target.dispatchEvent(u),lf=null}else return s=ns(a),s!==null&&G_(s),o.blockedOn=a,!1;s.shift()}return!0}function $_(o,s,a){au(o)&&a.delete(s)}function Fx(){uh=!1,Wi!==null&&au(Wi)&&(Wi=null),Zi!==null&&au(Zi)&&(Zi=null),ji!==null&&au(ji)&&(ji=null),aa.forEach($_),la.forEach($_)}function lu(o,s){o.blockedOn===s&&(o.blockedOn=null,uh||(uh=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,Fx)))}var uu=null;function J_(o){uu!==o&&(uu=o,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){uu===o&&(uu=null);for(var s=0;s<o.length;s+=3){var a=o[s],u=o[s+1],g=o[s+2];if(typeof u!="function"){if(lh(u||a)===null)continue;break}var v=ns(a);v!==null&&(o.splice(s,3),s-=3,ad(v,{pending:!0,data:g,method:a.method,action:u},u,g))}}))}function ks(o){function s(w){return lu(w,o)}Wi!==null&&lu(Wi,o),Zi!==null&&lu(Zi,o),ji!==null&&lu(ji,o),aa.forEach(s),la.forEach(s);for(var a=0;a<eo.length;a++){var u=eo[a];u.blockedOn===o&&(u.blockedOn=null)}for(;0<eo.length&&(a=eo[0],a.blockedOn===null);)z_(a),a.blockedOn===null&&eo.shift();if(a=(o.ownerDocument||o).$$reactFormReplay,a!=null)for(u=0;u<a.length;u+=3){var g=a[u],v=a[u+1],E=g[Lt]||null;if(typeof v=="function")E||J_(a);else if(E){var A=null;if(v&&v.hasAttribute("formAction")){if(g=v,E=v[Lt]||null)A=E.formAction;else if(lh(g)!==null)continue}else A=E.action;typeof A=="function"?a[u+1]=A:(a.splice(u,3),u-=3),J_(a)}}}function Y_(){function o(v){v.canIntercept&&v.info==="react-transition"&&v.intercept({handler:function(){return new Promise(function(E){return g=E})},focusReset:"manual",scroll:"manual"})}function s(){g!==null&&(g(),g=null),u||setTimeout(a,20)}function a(){if(!u&&!navigation.transition){var v=navigation.currentEntry;v&&v.url!=null&&navigation.navigate(v.url,{state:v.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,g=null;return navigation.addEventListener("navigate",o),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(a,100),function(){u=!0,navigation.removeEventListener("navigate",o),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),g!==null&&(g(),g=null)}}}function ch(o){this._internalRoot=o}cu.prototype.render=ch.prototype.render=function(o){var s=this._internalRoot;if(s===null)throw Error(i(409));var a=s.current,u=Zt();B_(a,u,o,s,null,null)},cu.prototype.unmount=ch.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var s=o.containerInfo;B_(o.current,2,null,o,null,null),zl(),s[es]=null}};function cu(o){this._internalRoot=o}cu.prototype.unstable_scheduleHydration=function(o){if(o){var s=ig();o={blockedOn:null,target:o,priority:s};for(var a=0;a<eo.length&&s!==0&&s<eo[a].priority;a++);eo.splice(a,0,o),a===0&&z_(o)}};var K_=e.version;if(K_!=="19.2.1")throw Error(i(527,K_,"19.2.1"));W.findDOMNode=function(o){var s=o._reactInternals;if(s===void 0)throw typeof o.render=="function"?Error(i(188)):(o=Object.keys(o).join(","),Error(i(268,o)));return o=p(s),o=o!==null?y(o):null,o=o===null?null:o.stateNode,o};var zx={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.2.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var fu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fu.isDisabled&&fu.supportsFiber)try{yr=fu.inject(zx),zt=fu}catch{}}return fa.createRoot=function(o,s){if(!r(o))throw Error(i(299));var a=!1,u="",g=ty,v=ny,E=iy;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(u=s.identifierPrefix),s.onUncaughtError!==void 0&&(g=s.onUncaughtError),s.onCaughtError!==void 0&&(v=s.onCaughtError),s.onRecoverableError!==void 0&&(E=s.onRecoverableError)),s=P_(o,1,!1,null,null,a,u,null,g,v,E,Y_),o[es]=s.current,$d(o),new ch(s)},fa.hydrateRoot=function(o,s,a){if(!r(o))throw Error(i(299));var u=!1,g="",v=ty,E=ny,A=iy,w=null;return a!=null&&(a.unstable_strictMode===!0&&(u=!0),a.identifierPrefix!==void 0&&(g=a.identifierPrefix),a.onUncaughtError!==void 0&&(v=a.onUncaughtError),a.onCaughtError!==void 0&&(E=a.onCaughtError),a.onRecoverableError!==void 0&&(A=a.onRecoverableError),a.formState!==void 0&&(w=a.formState)),s=P_(o,1,!0,s,a??null,u,g,w,v,E,A,Y_),s.context=k_(null),a=s.current,u=Zt(),u=jc(u),g=Hi(u),g.callback=null,Gi(a,g,u),a=u,s.current.lanes=a,Sr(s,a),Fn(s),o[es]=s.current,$d(o),new cu(s)},fa.version="19.2.1",fa}var o0;function jx(){if(o0)return hh.exports;o0=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),hh.exports=Zx(),hh.exports}var eM=jx();function Me(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];throw new Error(typeof t=="number"?"[MobX] minified error nr: "+t+(n.length?" "+n.map(String).join(","):"")+". Find the full error at: https://github.com/mobxjs/mobx/blob/main/packages/mobx/src/errors.ts":"[MobX] "+t)}var tM={};function Sc(){return typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:tM}var aT=Object.assign,$u=Object.getOwnPropertyDescriptor,Kn=Object.defineProperty,Pa=Object.prototype,Qh=[];Object.freeze(Qh);var lT={};Object.freeze(lT);var nM=typeof Proxy<"u",iM=Object.toString();function uT(){nM||Me("Proxy not available")}function cT(t){var e=!1;return function(){if(!e)return e=!0,t.apply(this,arguments)}}var Qs=function(){};function Pn(t){return typeof t=="function"}function Go(t){var e=typeof t;switch(e){case"string":case"symbol":case"number":return!0}return!1}function Ec(t){return t!==null&&typeof t=="object"}function bi(t){if(!Ec(t))return!1;var e=Object.getPrototypeOf(t);if(e==null)return!0;var n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n.toString()===iM}function fT(t){var e=t?.constructor;return e?e.name==="GeneratorFunction"||e.displayName==="GeneratorFunction":!1}function ka(t,e,n){Kn(t,e,{enumerable:!1,writable:!0,configurable:!0,value:n})}function dT(t,e,n){Kn(t,e,{enumerable:!1,writable:!1,configurable:!0,value:n})}function lo(t,e){var n="isMobX"+t;return e.prototype[n]=!0,function(i){return Ec(i)&&i[n]===!0}}function lr(t){return t!=null&&Object.prototype.toString.call(t)==="[object Map]"}function oM(t){var e=Object.getPrototypeOf(t),n=Object.getPrototypeOf(e),i=Object.getPrototypeOf(n);return i===null}function yi(t){return t!=null&&Object.prototype.toString.call(t)==="[object Set]"}var hT=typeof Object.getOwnPropertySymbols<"u";function sM(t){var e=Object.keys(t);if(!hT)return e;var n=Object.getOwnPropertySymbols(t);return n.length?[].concat(e,n.filter(function(i){return Pa.propertyIsEnumerable.call(t,i)})):e}var sr=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:hT?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:Object.getOwnPropertyNames;function pT(t){return t===null?null:typeof t=="object"?""+t:t}function Ti(t,e){return Pa.hasOwnProperty.call(t,e)}var rM=Object.getOwnPropertyDescriptors||function(e){var n={};return sr(e).forEach(function(i){n[i]=$u(e,i)}),n};function nn(t,e){return!!(t&e)}function on(t,e,n){return n?t|=e:t&=~e,t}function s0(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,i=Array(e);n<e;n++)i[n]=t[n];return i}function aM(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,uM(i.key),i)}}function ur(t,e,n){return e&&aM(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ws(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n)return(n=n.call(t)).next.bind(n);if(Array.isArray(t)||(n=cM(t))||e){n&&(t=n);var i=0;return function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Vo(){return Vo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Vo.apply(null,arguments)}function mT(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,Wh(t,e)}function Wh(t,e){return Wh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Wh(t,e)}function lM(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function uM(t){var e=lM(t,"string");return typeof e=="symbol"?e:e+""}function cM(t,e){if(t){if(typeof t=="string")return s0(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s0(t,e):void 0}}var Jn=Symbol("mobx-stored-annotations");function Xn(t){function e(n,i){if(Ha(i))return t.decorate_20223_(n,i);Ba(n,i,t)}return Object.assign(e,t)}function Ba(t,e,n){Ti(t,Jn)||ka(t,Jn,Vo({},t[Jn])),vM(n)||(t[Jn][e]=n)}function fM(t){return Ti(t,Jn)||ka(t,Jn,Vo({},t[Jn])),t[Jn]}function Ha(t){return typeof t=="object"&&typeof t.kind=="string"}var me=Symbol("mobx administration"),uo=(function(){function t(n){n===void 0&&(n="Atom"),this.name_=void 0,this.flags_=0,this.observers_=new Set,this.lastAccessedBy_=0,this.lowestObserverState_=Ue.NOT_TRACKING_,this.onBOL=void 0,this.onBUOL=void 0,this.name_=n}var e=t.prototype;return e.onBO=function(){this.onBOL&&this.onBOL.forEach(function(i){return i()})},e.onBUO=function(){this.onBUOL&&this.onBUOL.forEach(function(i){return i()})},e.reportObserved=function(){return DT(this)},e.reportChanged=function(){_n(),OT(this),Sn()},e.toString=function(){return this.name_},ur(t,[{key:"isBeingObserved",get:function(){return nn(this.flags_,t.isBeingObservedMask_)},set:function(i){this.flags_=on(this.flags_,t.isBeingObservedMask_,i)}},{key:"isPendingUnobservation",get:function(){return nn(this.flags_,t.isPendingUnobservationMask_)},set:function(i){this.flags_=on(this.flags_,t.isPendingUnobservationMask_,i)}},{key:"diffValue",get:function(){return nn(this.flags_,t.diffValueMask_)?1:0},set:function(i){this.flags_=on(this.flags_,t.diffValueMask_,i===1)}}])})();uo.isBeingObservedMask_=1;uo.isPendingUnobservationMask_=2;uo.diffValueMask_=4;var Qp=lo("Atom",uo);function gT(t,e,n){e===void 0&&(e=Qs),n===void 0&&(n=Qs);var i=new uo(t);return e!==Qs&&SN(i,e),n!==Qs&&HT(i,n),i}function dM(t,e){return WT(t,e)}function hM(t,e){return Object.is?Object.is(t,e):t===e?t!==0||1/t===1/e:t!==t&&e!==e}var Ju={structural:dM,default:hM};function qo(t,e,n){return tm(t)?t:Array.isArray(t)?vt.array(t,{name:n}):bi(t)?vt.object(t,void 0,{name:n}):lr(t)?vt.map(t,{name:n}):yi(t)?vt.set(t,{name:n}):typeof t=="function"&&!rr(t)&&!Oa(t)?fT(t)?ar(t):Da(n,t):t}function pM(t,e,n){if(t==null||$a(t)||za(t)||fo(t)||Nn(t))return t;if(Array.isArray(t))return vt.array(t,{name:n,deep:!1});if(bi(t))return vt.object(t,void 0,{name:n,deep:!1});if(lr(t))return vt.map(t,{name:n,deep:!1});if(yi(t))return vt.set(t,{name:n,deep:!1})}function Tc(t){return t}function mM(t,e){return WT(t,e)?e:t}var gM="override";function vM(t){return t.annotationType_===gM}function Ga(t,e){return{annotationType_:t,options_:e,make_:yM,extend_:_M,decorate_20223_:SM}}function yM(t,e,n,i){var r;if((r=this.options_)!=null&&r.bound)return this.extend_(t,e,n,!1)===null?0:1;if(i===t.target_)return this.extend_(t,e,n,!1)===null?0:2;if(rr(n.value))return 1;var l=vT(t,this,e,n,!1);return Kn(i,e,l),2}function _M(t,e,n,i){var r=vT(t,this,e,n);return t.defineProperty_(e,r,i)}function SM(t,e){var n=e.kind,i=e.name,r=e.addInitializer,l=this,c=function(p){var y,_,S,T;return Fo((y=(_=l.options_)==null?void 0:_.name)!=null?y:i.toString(),p,(S=(T=l.options_)==null?void 0:T.autoAction)!=null?S:!1)};if(n=="field")return function(m){var p,y=m;return rr(y)||(y=c(y)),(p=l.options_)!=null&&p.bound&&(y=y.bind(this),y.isMobxAction=!0),y};if(n=="method"){var d;return rr(t)||(t=c(t)),(d=this.options_)!=null&&d.bound&&r(function(){var m=this,p=m[i].bind(m);p.isMobxAction=!0,m[i]=p}),t}Me("Cannot apply '"+l.annotationType_+"' to '"+String(i)+"' (kind: "+n+"):"+(`
'`+l.annotationType_+"' can only be used on properties with a function value."))}function EM(t,e,n,i){e.annotationType_,i.value}function vT(t,e,n,i,r){var l,c,d,m,p,y,_;r===void 0&&(r=ee.safeDescriptors),EM(t,e,n,i);var S=i.value;if((l=e.options_)!=null&&l.bound){var T;S=S.bind((T=t.proxy_)!=null?T:t.target_)}return{value:Fo((c=(d=e.options_)==null?void 0:d.name)!=null?c:n.toString(),S,(m=(p=e.options_)==null?void 0:p.autoAction)!=null?m:!1,(y=e.options_)!=null&&y.bound?(_=t.proxy_)!=null?_:t.target_:void 0),configurable:r?t.isPlainObject_:!0,enumerable:!1,writable:!r}}function yT(t,e){return{annotationType_:t,options_:e,make_:TM,extend_:AM,decorate_20223_:CM}}function TM(t,e,n,i){var r;if(i===t.target_)return this.extend_(t,e,n,!1)===null?0:2;if((r=this.options_)!=null&&r.bound&&(!Ti(t.target_,e)||!Oa(t.target_[e]))&&this.extend_(t,e,n,!1)===null)return 0;if(Oa(n.value))return 1;var l=_T(t,this,e,n,!1,!1);return Kn(i,e,l),2}function AM(t,e,n,i){var r,l=_T(t,this,e,n,(r=this.options_)==null?void 0:r.bound);return t.defineProperty_(e,l,i)}function CM(t,e){var n,i=e.name,r=e.addInitializer;return Oa(t)||(t=ar(t)),(n=this.options_)!=null&&n.bound&&r(function(){var l=this,c=l[i].bind(l);c.isMobXFlow=!0,l[i]=c}),t}function bM(t,e,n,i){e.annotationType_,i.value}function _T(t,e,n,i,r,l){l===void 0&&(l=ee.safeDescriptors),bM(t,e,n,i);var c=i.value;if(Oa(c)||(c=ar(c)),r){var d;c=c.bind((d=t.proxy_)!=null?d:t.target_),c.isMobXFlow=!0}return{value:c,configurable:l?t.isPlainObject_:!0,enumerable:!1,writable:!l}}function Wp(t,e){return{annotationType_:t,options_:e,make_:wM,extend_:RM,decorate_20223_:xM}}function wM(t,e,n){return this.extend_(t,e,n,!1)===null?0:1}function RM(t,e,n,i){return MM(t,this,e,n),t.defineComputedProperty_(e,Vo({},this.options_,{get:n.get,set:n.set}),i)}function xM(t,e){var n=this,i=e.name,r=e.addInitializer;return r(function(){var l=Ko(this)[me],c=Vo({},n.options_,{get:t,context:this});c.name||(c.name="ObservableObject."+i.toString()),l.values_.set(i,new kn(c))}),function(){return this[me].getObservablePropValue_(i)}}function MM(t,e,n,i){e.annotationType_,i.get}function Ac(t,e){return{annotationType_:t,options_:e,make_:NM,extend_:IM,decorate_20223_:DM}}function NM(t,e,n){return this.extend_(t,e,n,!1)===null?0:1}function IM(t,e,n,i){var r,l;return OM(t,this),t.defineObservableProperty_(e,n.value,(r=(l=this.options_)==null?void 0:l.enhancer)!=null?r:qo,i)}function DM(t,e){var n=this,i=e.kind,r=e.name,l=new WeakSet;function c(d,m){var p,y,_=Ko(d)[me],S=new ao(m,(p=(y=n.options_)==null?void 0:y.enhancer)!=null?p:qo,"ObservableObject."+r.toString(),!1);_.values_.set(r,S),l.add(d)}if(i=="accessor")return{get:function(){return l.has(this)||c(this,t.get.call(this)),this[me].getObservablePropValue_(r)},set:function(m){return l.has(this)||c(this,m),this[me].setObservablePropValue_(r,m)},init:function(m){return l.has(this)||c(this,m),m}}}function OM(t,e,n,i){e.annotationType_}var UM="true",LM=ST();function ST(t){return{annotationType_:UM,options_:t,make_:PM,extend_:kM,decorate_20223_:BM}}function PM(t,e,n,i){var r,l;if(n.get)return Cc.make_(t,e,n,i);if(n.set){var c=rr(n.set)?n.set:Fo(e.toString(),n.set);return i===t.target_?t.defineProperty_(e,{configurable:ee.safeDescriptors?t.isPlainObject_:!0,set:c})===null?0:2:(Kn(i,e,{configurable:!0,set:c}),2)}if(i!==t.target_&&typeof n.value=="function"){var d;if(fT(n.value)){var m,p=(m=this.options_)!=null&&m.autoBind?ar.bound:ar;return p.make_(t,e,n,i)}var y=(d=this.options_)!=null&&d.autoBind?Da.bound:Da;return y.make_(t,e,n,i)}var _=((r=this.options_)==null?void 0:r.deep)===!1?vt.ref:vt;if(typeof n.value=="function"&&(l=this.options_)!=null&&l.autoBind){var S;n.value=n.value.bind((S=t.proxy_)!=null?S:t.target_)}return _.make_(t,e,n,i)}function kM(t,e,n,i){var r,l;if(n.get)return Cc.extend_(t,e,n,i);if(n.set)return t.defineProperty_(e,{configurable:ee.safeDescriptors?t.isPlainObject_:!0,set:Fo(e.toString(),n.set)},i);if(typeof n.value=="function"&&(r=this.options_)!=null&&r.autoBind){var c;n.value=n.value.bind((c=t.proxy_)!=null?c:t.target_)}var d=((l=this.options_)==null?void 0:l.deep)===!1?vt.ref:vt;return d.extend_(t,e,n,i)}function BM(t,e){Me("'"+this.annotationType_+"' cannot be used as a decorator")}var HM="observable",GM="observable.ref",VM="observable.shallow",qM="observable.struct",ET={deep:!0,name:void 0,defaultDecorator:void 0,proxy:!0};Object.freeze(ET);function du(t){return t||ET}var Zh=Ac(HM),FM=Ac(GM,{enhancer:Tc}),zM=Ac(VM,{enhancer:pM}),$M=Ac(qM,{enhancer:mM}),TT=Xn(Zh);function hu(t){return t.deep===!0?qo:t.deep===!1?Tc:YM(t.defaultDecorator)}function JM(t){var e;return t?(e=t.defaultDecorator)!=null?e:ST(t):void 0}function YM(t){var e,n;return t&&(e=(n=t.options_)==null?void 0:n.enhancer)!=null?e:qo}function AT(t,e,n){if(Ha(e))return Zh.decorate_20223_(t,e);if(Go(e)){Ba(t,e,Zh);return}return tm(t)?t:bi(t)?vt.object(t,e,n):Array.isArray(t)?vt.array(t,e):lr(t)?vt.map(t,e):yi(t)?vt.set(t,e):typeof t=="object"&&t!==null?t:vt.box(t,e)}aT(AT,TT);var KM={box:function(e,n){var i=du(n);return new ao(e,hu(i),i.name,!0,i.equals)},array:function(e,n){var i=du(n);return(ee.useProxies===!1||i.proxy===!1?$N:LN)(e,hu(i),i.name)},map:function(e,n){var i=du(n);return new $T(e,hu(i),i.name)},set:function(e,n){var i=du(n);return new JT(e,hu(i),i.name)},object:function(e,n,i){return ho(function(){return VT(ee.useProxies===!1||i?.proxy===!1?Ko({},i):IN({},i),e,n)})},ref:Xn(FM),shallow:Xn(zM),deep:TT,struct:Xn($M)},vt=aT(AT,KM),CT="computed",XM="computed.struct",jh=Wp(CT),QM=Wp(XM,{equals:Ju.structural}),Cc=function(e,n){if(Ha(n))return jh.decorate_20223_(e,n);if(Go(n))return Ba(e,n,jh);if(bi(e))return Xn(Wp(CT,e));var i=bi(n)?n:{};return i.get=e,i.name||(i.name=e.name||""),new kn(i)};Object.assign(Cc,jh);Cc.struct=Xn(QM);var r0,a0,Yu=0,WM=1,ZM=(r0=(a0=$u(function(){},"name"))==null?void 0:a0.configurable)!=null?r0:!1,l0={value:"action",configurable:!0,writable:!1,enumerable:!1};function Fo(t,e,n,i){n===void 0&&(n=!1);function r(){return bT(t,n,e,i||this,arguments)}return r.isMobxAction=!0,r.toString=function(){return e.toString()},ZM&&(l0.value=t,Kn(r,"name",l0)),r}function bT(t,e,n,i,r){var l=jM(t,e);try{return n.apply(i,r)}catch(c){throw l.error_=c,c}finally{eN(l)}}function jM(t,e,n,i){var r=!1,l=0,c=ee.trackingDerivation,d=!e||!c;_n();var m=ee.allowStateChanges;d&&(Yo(),m=Zp(!0));var p=em(!0),y={runAsAction_:d,prevDerivation_:c,prevAllowStateChanges_:m,prevAllowStateReads_:p,notifySpy_:r,startTime_:l,actionId_:WM++,parentActionId_:Yu};return Yu=y.actionId_,y}function eN(t){Yu!==t.actionId_&&Me(30),Yu=t.parentActionId_,t.error_!==void 0&&(ee.suppressReactionErrors=!0),jp(t.prevAllowStateChanges_),Ra(t.prevAllowStateReads_),Sn(),t.runAsAction_&&Ai(t.prevDerivation_),ee.suppressReactionErrors=!1}function Zp(t){var e=ee.allowStateChanges;return ee.allowStateChanges=t,e}function jp(t){ee.allowStateChanges=t}var ao=(function(t){function e(i,r,l,c,d){var m;return l===void 0&&(l="ObservableValue"),d===void 0&&(d=Ju.default),m=t.call(this,l)||this,m.enhancer=void 0,m.name_=void 0,m.equals=void 0,m.hasUnreportedChange_=!1,m.interceptors_=void 0,m.changeListeners_=void 0,m.value_=void 0,m.dehancer=void 0,m.enhancer=r,m.name_=l,m.equals=d,m.value_=r(i,void 0,l),m}mT(e,t);var n=e.prototype;return n.dehanceValue=function(r){return this.dehancer!==void 0?this.dehancer(r):r},n.set=function(r){this.value_,r=this.prepareNewValue_(r),r!==ee.UNCHANGED&&this.setNewValue_(r)},n.prepareNewValue_=function(r){if(vn(this)){var l=yn(this,{object:this,type:Qn,newValue:r});if(!l)return ee.UNCHANGED;r=l.newValue}return r=this.enhancer(r,this.value_,this.name_),this.equals(this.value_,r)?ee.UNCHANGED:r},n.setNewValue_=function(r){var l=this.value_;this.value_=r,this.reportChanged(),Dn(this)&&On(this,{type:Qn,object:this,newValue:r,oldValue:l})},n.get=function(){return this.reportObserved(),this.dehanceValue(this.value_)},n.intercept_=function(r){return qa(this,r)},n.observe_=function(r,l){return l&&r({observableKind:"value",debugObjectName:this.name_,object:this,type:Qn,newValue:this.value_,oldValue:void 0}),Fa(this,r)},n.raw=function(){return this.value_},n.toJSON=function(){return this.get()},n.toString=function(){return this.name_+"["+this.value_+"]"},n.valueOf=function(){return pT(this.get())},n[Symbol.toPrimitive]=function(){return this.valueOf()},e})(uo),tN=lo("ObservableValue",ao),kn=(function(){function t(n){this.dependenciesState_=Ue.NOT_TRACKING_,this.observing_=[],this.newObserving_=null,this.observers_=new Set,this.runId_=0,this.lastAccessedBy_=0,this.lowestObserverState_=Ue.UP_TO_DATE_,this.unboundDepsCount_=0,this.value_=new Xu(null),this.name_=void 0,this.triggeredBy_=void 0,this.flags_=0,this.derivation=void 0,this.setter_=void 0,this.isTracing_=Ku.NONE,this.scope_=void 0,this.equals_=void 0,this.requiresReaction_=void 0,this.keepAlive_=void 0,this.onBOL=void 0,this.onBUOL=void 0,n.get||Me(31),this.derivation=n.get,this.name_=n.name||"ComputedValue",n.set&&(this.setter_=Fo("ComputedValue-setter",n.set)),this.equals_=n.equals||(n.compareStructural||n.struct?Ju.structural:Ju.default),this.scope_=n.context,this.requiresReaction_=n.requiresReaction,this.keepAlive_=!!n.keepAlive}var e=t.prototype;return e.onBecomeStale_=function(){rN(this)},e.onBO=function(){this.onBOL&&this.onBOL.forEach(function(i){return i()})},e.onBUO=function(){this.onBUOL&&this.onBUOL.forEach(function(i){return i()})},e.get=function(){if(this.isComputing&&Me(32,this.name_,this.derivation),ee.inBatch===0&&this.observers_.size===0&&!this.keepAlive_)ep(this)&&(this.warnAboutUntrackedRead_(),_n(),this.value_=this.computeValue_(!1),Sn());else if(DT(this),ep(this)){var i=ee.trackingContext;this.keepAlive_&&!i&&(ee.trackingContext=this),this.trackAndCompute()&&sN(this),ee.trackingContext=i}var r=this.value_;if(Iu(r))throw r.cause;return r},e.set=function(i){if(this.setter_){this.isRunningSetter&&Me(33,this.name_),this.isRunningSetter=!0;try{this.setter_.call(this.scope_,i)}finally{this.isRunningSetter=!1}}else Me(34,this.name_)},e.trackAndCompute=function(){var i=this.value_,r=this.dependenciesState_===Ue.NOT_TRACKING_,l=this.computeValue_(!0),c=r||Iu(i)||Iu(l)||!this.equals_(i,l);return c&&(this.value_=l),c},e.computeValue_=function(i){this.isComputing=!0;var r=Zp(!1),l;if(i)l=wT(this,this.derivation,this.scope_);else if(ee.disableErrorBoundaries===!0)l=this.derivation.call(this.scope_);else try{l=this.derivation.call(this.scope_)}catch(c){l=new Xu(c)}return jp(r),this.isComputing=!1,l},e.suspend_=function(){this.keepAlive_||(tp(this),this.value_=void 0)},e.observe_=function(i,r){var l=this,c=!0,d=void 0;return mN(function(){var m=l.get();if(!c||r){var p=Yo();i({observableKind:"computed",debugObjectName:l.name_,type:Qn,object:l,newValue:m,oldValue:d}),Ai(p)}c=!1,d=m})},e.warnAboutUntrackedRead_=function(){},e.toString=function(){return this.name_+"["+this.derivation.toString()+"]"},e.valueOf=function(){return pT(this.get())},e[Symbol.toPrimitive]=function(){return this.valueOf()},ur(t,[{key:"isComputing",get:function(){return nn(this.flags_,t.isComputingMask_)},set:function(i){this.flags_=on(this.flags_,t.isComputingMask_,i)}},{key:"isRunningSetter",get:function(){return nn(this.flags_,t.isRunningSetterMask_)},set:function(i){this.flags_=on(this.flags_,t.isRunningSetterMask_,i)}},{key:"isBeingObserved",get:function(){return nn(this.flags_,t.isBeingObservedMask_)},set:function(i){this.flags_=on(this.flags_,t.isBeingObservedMask_,i)}},{key:"isPendingUnobservation",get:function(){return nn(this.flags_,t.isPendingUnobservationMask_)},set:function(i){this.flags_=on(this.flags_,t.isPendingUnobservationMask_,i)}},{key:"diffValue",get:function(){return nn(this.flags_,t.diffValueMask_)?1:0},set:function(i){this.flags_=on(this.flags_,t.diffValueMask_,i===1)}}])})();kn.isComputingMask_=1;kn.isRunningSetterMask_=2;kn.isBeingObservedMask_=4;kn.isPendingUnobservationMask_=8;kn.diffValueMask_=16;var Va=lo("ComputedValue",kn),Ue;(function(t){t[t.NOT_TRACKING_=-1]="NOT_TRACKING_",t[t.UP_TO_DATE_=0]="UP_TO_DATE_",t[t.POSSIBLY_STALE_=1]="POSSIBLY_STALE_",t[t.STALE_=2]="STALE_"})(Ue||(Ue={}));var Ku;(function(t){t[t.NONE=0]="NONE",t[t.LOG=1]="LOG",t[t.BREAK=2]="BREAK"})(Ku||(Ku={}));var Xu=function(e){this.cause=void 0,this.cause=e};function Iu(t){return t instanceof Xu}function ep(t){switch(t.dependenciesState_){case Ue.UP_TO_DATE_:return!1;case Ue.NOT_TRACKING_:case Ue.STALE_:return!0;case Ue.POSSIBLY_STALE_:{for(var e=em(!0),n=Yo(),i=t.observing_,r=i.length,l=0;l<r;l++){var c=i[l];if(Va(c)){if(ee.disableErrorBoundaries)c.get();else try{c.get()}catch{return Ai(n),Ra(e),!0}if(t.dependenciesState_===Ue.STALE_)return Ai(n),Ra(e),!0}}return xT(t),Ai(n),Ra(e),!1}}}function wT(t,e,n){var i=em(!0);xT(t),t.newObserving_=new Array(t.runId_===0?100:t.observing_.length),t.unboundDepsCount_=0,t.runId_=++ee.runId;var r=ee.trackingDerivation;ee.trackingDerivation=t,ee.inBatch++;var l;if(ee.disableErrorBoundaries===!0)l=e.call(n);else try{l=e.call(n)}catch(c){l=new Xu(c)}return ee.inBatch--,ee.trackingDerivation=r,nN(t),Ra(i),l}function nN(t){for(var e=t.observing_,n=t.observing_=t.newObserving_,i=Ue.UP_TO_DATE_,r=0,l=t.unboundDepsCount_,c=0;c<l;c++){var d=n[c];d.diffValue===0&&(d.diffValue=1,r!==c&&(n[r]=d),r++),d.dependenciesState_>i&&(i=d.dependenciesState_)}for(n.length=r,t.newObserving_=null,l=e.length;l--;){var m=e[l];m.diffValue===0&&NT(m,t),m.diffValue=0}for(;r--;){var p=n[r];p.diffValue===1&&(p.diffValue=0,oN(p,t))}i!==Ue.UP_TO_DATE_&&(t.dependenciesState_=i,t.onBecomeStale_())}function tp(t){var e=t.observing_;t.observing_=[];for(var n=e.length;n--;)NT(e[n],t);t.dependenciesState_=Ue.NOT_TRACKING_}function RT(t){var e=Yo();try{return t()}finally{Ai(e)}}function Yo(){var t=ee.trackingDerivation;return ee.trackingDerivation=null,t}function Ai(t){ee.trackingDerivation=t}function em(t){var e=ee.allowStateReads;return ee.allowStateReads=t,e}function Ra(t){ee.allowStateReads=t}function xT(t){if(t.dependenciesState_!==Ue.UP_TO_DATE_){t.dependenciesState_=Ue.UP_TO_DATE_;for(var e=t.observing_,n=e.length;n--;)e[n].lowestObserverState_=Ue.UP_TO_DATE_}}var Du=function(){this.version=6,this.UNCHANGED={},this.trackingDerivation=null,this.trackingContext=null,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!1,this.allowStateReads=!0,this.enforceActions=!0,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1,this.useProxies=!0,this.verifyProxies=!1,this.safeDescriptors=!0},Ou=!0,MT=!1,ee=(function(){var t=Sc();return t.__mobxInstanceCount>0&&!t.__mobxGlobals&&(Ou=!1),t.__mobxGlobals&&t.__mobxGlobals.version!==new Du().version&&(Ou=!1),Ou?t.__mobxGlobals?(t.__mobxInstanceCount+=1,t.__mobxGlobals.UNCHANGED||(t.__mobxGlobals.UNCHANGED={}),t.__mobxGlobals):(t.__mobxInstanceCount=1,t.__mobxGlobals=new Du):(setTimeout(function(){MT||Me(35)},1),new Du)})();function iN(){if((ee.pendingReactions.length||ee.inBatch||ee.isRunningReactions)&&Me(36),MT=!0,Ou){var t=Sc();--t.__mobxInstanceCount===0&&(t.__mobxGlobals=void 0),ee=new Du}}function oN(t,e){t.observers_.add(e),t.lowestObserverState_>e.dependenciesState_&&(t.lowestObserverState_=e.dependenciesState_)}function NT(t,e){t.observers_.delete(e),t.observers_.size===0&&IT(t)}function IT(t){t.isPendingUnobservation===!1&&(t.isPendingUnobservation=!0,ee.pendingUnobservations.push(t))}function _n(){ee.inBatch++}function Sn(){if(--ee.inBatch===0){UT();for(var t=ee.pendingUnobservations,e=0;e<t.length;e++){var n=t[e];n.isPendingUnobservation=!1,n.observers_.size===0&&(n.isBeingObserved&&(n.isBeingObserved=!1,n.onBUO()),n instanceof kn&&n.suspend_())}ee.pendingUnobservations=[]}}function DT(t){var e=ee.trackingDerivation;return e!==null?(e.runId_!==t.lastAccessedBy_&&(t.lastAccessedBy_=e.runId_,e.newObserving_[e.unboundDepsCount_++]=t,!t.isBeingObserved&&ee.trackingContext&&(t.isBeingObserved=!0,t.onBO())),t.isBeingObserved):(t.observers_.size===0&&ee.inBatch>0&&IT(t),!1)}function OT(t){t.lowestObserverState_!==Ue.STALE_&&(t.lowestObserverState_=Ue.STALE_,t.observers_.forEach(function(e){e.dependenciesState_===Ue.UP_TO_DATE_&&e.onBecomeStale_(),e.dependenciesState_=Ue.STALE_}))}function sN(t){t.lowestObserverState_!==Ue.STALE_&&(t.lowestObserverState_=Ue.STALE_,t.observers_.forEach(function(e){e.dependenciesState_===Ue.POSSIBLY_STALE_?e.dependenciesState_=Ue.STALE_:e.dependenciesState_===Ue.UP_TO_DATE_&&(t.lowestObserverState_=Ue.UP_TO_DATE_)}))}function rN(t){t.lowestObserverState_===Ue.UP_TO_DATE_&&(t.lowestObserverState_=Ue.POSSIBLY_STALE_,t.observers_.forEach(function(e){e.dependenciesState_===Ue.UP_TO_DATE_&&(e.dependenciesState_=Ue.POSSIBLY_STALE_,e.onBecomeStale_())}))}var wi=(function(){function t(n,i,r,l){n===void 0&&(n="Reaction"),this.name_=void 0,this.onInvalidate_=void 0,this.errorHandler_=void 0,this.requiresObservable_=void 0,this.observing_=[],this.newObserving_=[],this.dependenciesState_=Ue.NOT_TRACKING_,this.runId_=0,this.unboundDepsCount_=0,this.flags_=0,this.isTracing_=Ku.NONE,this.name_=n,this.onInvalidate_=i,this.errorHandler_=r,this.requiresObservable_=l}var e=t.prototype;return e.onBecomeStale_=function(){this.schedule_()},e.schedule_=function(){this.isScheduled||(this.isScheduled=!0,ee.pendingReactions.push(this),UT())},e.runReaction_=function(){if(!this.isDisposed){_n(),this.isScheduled=!1;var i=ee.trackingContext;if(ee.trackingContext=this,ep(this)){this.isTrackPending=!0;try{this.onInvalidate_()}catch(r){this.reportExceptionInDerivation_(r)}}ee.trackingContext=i,Sn()}},e.track=function(i){if(!this.isDisposed){_n(),this.isRunning=!0;var r=ee.trackingContext;ee.trackingContext=this;var l=wT(this,i,void 0);ee.trackingContext=r,this.isRunning=!1,this.isTrackPending=!1,this.isDisposed&&tp(this),Iu(l)&&this.reportExceptionInDerivation_(l.cause),Sn()}},e.reportExceptionInDerivation_=function(i){var r=this;if(this.errorHandler_){this.errorHandler_(i,this);return}if(ee.disableErrorBoundaries)throw i;var l="[mobx] uncaught error in '"+this+"'";ee.suppressReactionErrors||console.error(l,i),ee.globalReactionErrorHandlers.forEach(function(c){return c(i,r)})},e.dispose=function(){this.isDisposed||(this.isDisposed=!0,this.isRunning||(_n(),tp(this),Sn()))},e.getDisposer_=function(i){var r=this,l=function c(){r.dispose(),i==null||i.removeEventListener==null||i.removeEventListener("abort",c)};return i==null||i.addEventListener==null||i.addEventListener("abort",l),l[me]=this,"dispose"in Symbol&&typeof Symbol.dispose=="symbol"&&(l[Symbol.dispose]=l),l},e.toString=function(){return"Reaction["+this.name_+"]"},e.trace=function(i){},ur(t,[{key:"isDisposed",get:function(){return nn(this.flags_,t.isDisposedMask_)},set:function(i){this.flags_=on(this.flags_,t.isDisposedMask_,i)}},{key:"isScheduled",get:function(){return nn(this.flags_,t.isScheduledMask_)},set:function(i){this.flags_=on(this.flags_,t.isScheduledMask_,i)}},{key:"isTrackPending",get:function(){return nn(this.flags_,t.isTrackPendingMask_)},set:function(i){this.flags_=on(this.flags_,t.isTrackPendingMask_,i)}},{key:"isRunning",get:function(){return nn(this.flags_,t.isRunningMask_)},set:function(i){this.flags_=on(this.flags_,t.isRunningMask_,i)}},{key:"diffValue",get:function(){return nn(this.flags_,t.diffValueMask_)?1:0},set:function(i){this.flags_=on(this.flags_,t.diffValueMask_,i===1)}}])})();wi.isDisposedMask_=1;wi.isScheduledMask_=2;wi.isTrackPendingMask_=4;wi.isRunningMask_=8;wi.diffValueMask_=16;var aN=100,np=function(e){return e()};function UT(){ee.inBatch>0||ee.isRunningReactions||np(lN)}function lN(){ee.isRunningReactions=!0;for(var t=ee.pendingReactions,e=0;t.length>0;){++e===aN&&(console.error("[mobx] cycle in reaction: "+t[0]),t.splice(0));for(var n=t.splice(0),i=0,r=n.length;i<r;i++)n[i].runReaction_()}ee.isRunningReactions=!1}var Qu=lo("Reaction",wi);function uN(t){var e=np;np=function(i){return t(function(){return e(i)})}}function xa(){return!1}function cN(t){return console.warn("[mobx.spy] Is a no-op in production builds"),function(){}}var LT="action",fN="action.bound",PT="autoAction",dN="autoAction.bound",kT="<unnamed action>",ip=Ga(LT),hN=Ga(fN,{bound:!0}),op=Ga(PT,{autoAction:!0}),pN=Ga(dN,{autoAction:!0,bound:!0});function BT(t){var e=function(i,r){if(Pn(i))return Fo(i.name||kT,i,t);if(Pn(r))return Fo(i,r,t);if(Ha(r))return(t?op:ip).decorate_20223_(i,r);if(Go(r))return Ba(i,r,t?op:ip);if(Go(i))return Xn(Ga(t?PT:LT,{name:i,autoAction:t}))};return e}var Zs=BT(!1);Object.assign(Zs,ip);var Da=BT(!0);Object.assign(Da,op);Zs.bound=Xn(hN);Da.bound=Xn(pN);function gt(t){return bT(t.name||kT,!1,t,this,void 0)}function rr(t){return Pn(t)&&t.isMobxAction===!0}function mN(t,e){var n,i,r,l;e===void 0&&(e=lT);var c=(n=(i=e)==null?void 0:i.name)!=null?n:"Autorun",d=!e.scheduler&&!e.delay,m;if(d)m=new wi(c,function(){this.track(_)},e.onError,e.requiresObservable);else{var p=vN(e),y=!1;m=new wi(c,function(){y||(y=!0,p(function(){y=!1,m.isDisposed||m.track(_)}))},e.onError,e.requiresObservable)}function _(){t(m)}return(r=e)!=null&&(r=r.signal)!=null&&r.aborted||m.schedule_(),m.getDisposer_((l=e)==null?void 0:l.signal)}var gN=function(e){return e()};function vN(t){return t.scheduler?t.scheduler:t.delay?function(e){return setTimeout(e,t.delay)}:gN}var yN="onBO",_N="onBUO";function SN(t,e,n){return GT(yN,t,e,n)}function HT(t,e,n){return GT(_N,t,e,n)}function GT(t,e,n,i){var r=ju(e),l=Pn(i)?i:n,c=t+"L";return r[c]?r[c].add(l):r[c]=new Set([l]),function(){var d=r[c];d&&(d.delete(l),d.size===0&&delete r[c])}}var EN="never",pu="always",TN="observed";function AN(t){t.isolateGlobalState===!0&&iN();var e=t.useProxies,n=t.enforceActions;if(e!==void 0&&(ee.useProxies=e===pu?!0:e===EN?!1:typeof Proxy<"u"),e==="ifavailable"&&(ee.verifyProxies=!0),n!==void 0){var i=n===pu?pu:n===TN;ee.enforceActions=i,ee.allowStateChanges=!(i===!0||i===pu)}["computedRequiresReaction","reactionRequiresObservable","observableRequiresReaction","disableErrorBoundaries","safeDescriptors"].forEach(function(r){r in t&&(ee[r]=!!t[r])}),ee.allowStateReads=!ee.observableRequiresReaction,t.reactionScheduler&&uN(t.reactionScheduler)}function VT(t,e,n,i){var r=rM(e);return ho(function(){var l=Ko(t,i)[me];sr(r).forEach(function(c){l.extend_(c,r[c],n&&c in n?n[c]:!0)})}),t}function CN(t,e){return qT(ju(t,e))}function qT(t){var e={name:t.name_};return t.observing_&&t.observing_.length>0&&(e.dependencies=bN(t.observing_).map(qT)),e}function bN(t){return Array.from(new Set(t))}var wN=0;function FT(){this.message="FLOW_CANCELLED"}FT.prototype=Object.create(Error.prototype);var vh=yT("flow"),RN=yT("flow.bound",{bound:!0}),ar=Object.assign(function(e,n){if(Ha(n))return vh.decorate_20223_(e,n);if(Go(n))return Ba(e,n,vh);var i=e,r=i.name||"<unnamed flow>",l=function(){var d=this,m=arguments,p=++wN,y=Zs(r+" - runid: "+p+" - init",i).apply(d,m),_,S=void 0,T=new Promise(function(b,R){var x=0;_=R;function P(q){S=void 0;var Q;try{Q=Zs(r+" - runid: "+p+" - yield "+x++,y.next).call(y,q)}catch(K){return R(K)}B(Q)}function H(q){S=void 0;var Q;try{Q=Zs(r+" - runid: "+p+" - yield "+x++,y.throw).call(y,q)}catch(K){return R(K)}B(Q)}function B(q){if(Pn(q?.then)){q.then(B,R);return}return q.done?b(q.value):(S=Promise.resolve(q.value),S.then(P,H))}P(void 0)});return T.cancel=Zs(r+" - runid: "+p+" - cancel",function(){try{S&&u0(S);var b=y.return(void 0),R=Promise.resolve(b.value);R.then(Qs,Qs),u0(R),_(new FT)}catch(x){_(x)}}),T};return l.isMobXFlow=!0,l},vh);ar.bound=Xn(RN);function u0(t){Pn(t.cancel)&&t.cancel()}function Oa(t){return t?.isMobXFlow===!0}function xN(t,e){return t?$a(t)||!!t[me]||Qp(t)||Qu(t)||Va(t):!1}function tm(t){return xN(t)}function MN(t){if($a(t))return t[me].ownKeys_();Me(38)}function mu(t,e,n){return t.set(e,n),n}function $s(t,e){if(t==null||typeof t!="object"||t instanceof Date||!tm(t))return t;if(tN(t)||Va(t))return $s(t.get(),e);if(e.has(t))return e.get(t);if(za(t)){var n=mu(e,t,new Array(t.length));return t.forEach(function(c,d){n[d]=$s(c,e)}),n}if(Nn(t)){var i=mu(e,t,new Set);return t.forEach(function(c){i.add($s(c,e))}),i}if(fo(t)){var r=mu(e,t,new Map);return t.forEach(function(c,d){r.set(d,$s(c,e))}),r}else{var l=mu(e,t,{});return MN(t).forEach(function(c){Pa.propertyIsEnumerable.call(t,c)&&(l[c]=$s(t[c],e))}),l}}function nm(t,e){return $s(t,new Map)}function _i(t,e){e===void 0&&(e=void 0),_n();try{return t.apply(e)}finally{Sn()}}function Bs(t){return t[me]}var NN={has:function(e,n){return Bs(e).has_(n)},get:function(e,n){return Bs(e).get_(n)},set:function(e,n,i){var r;return Go(n)?(r=Bs(e).set_(n,i,!0))!=null?r:!0:!1},deleteProperty:function(e,n){var i;return Go(n)?(i=Bs(e).delete_(n,!0))!=null?i:!0:!1},defineProperty:function(e,n,i){var r;return(r=Bs(e).defineProperty_(n,i))!=null?r:!0},ownKeys:function(e){return Bs(e).ownKeys_()},preventExtensions:function(e){Me(13)}};function IN(t,e){var n,i;return uT(),t=Ko(t,e),(i=(n=t[me]).proxy_)!=null?i:n.proxy_=new Proxy(t,NN)}function vn(t){return t.interceptors_!==void 0&&t.interceptors_.length>0}function qa(t,e){var n=t.interceptors_||(t.interceptors_=[]);return n.push(e),cT(function(){var i=n.indexOf(e);i!==-1&&n.splice(i,1)})}function yn(t,e){var n=Yo();try{for(var i=[].concat(t.interceptors_||[]),r=0,l=i.length;r<l&&(e=i[r](e),e&&!e.type&&Me(14),!!e);r++);return e}finally{Ai(n)}}function Dn(t){return t.changeListeners_!==void 0&&t.changeListeners_.length>0}function Fa(t,e){var n=t.changeListeners_||(t.changeListeners_=[]);return n.push(e),cT(function(){var i=n.indexOf(e);i!==-1&&n.splice(i,1)})}function On(t,e){var n=Yo(),i=t.changeListeners_;if(i){i=i.slice();for(var r=0,l=i.length;r<l;r++)i[r](e);Ai(n)}}function DN(t,e,n){return ho(function(){var i,r=Ko(t,n)[me];(i=e)!=null||(e=fM(t)),sr(e).forEach(function(l){return r.make_(l,e[l])})}),t}var yh=Symbol("mobx-keys");function co(t,e,n){return bi(t)?VT(t,t,e,n):(ho(function(){var i=Ko(t,n)[me];if(!t[yh]){var r=Object.getPrototypeOf(t),l=new Set([].concat(sr(t),sr(r)));l.delete("constructor"),l.delete(me),ka(r,yh,l)}t[yh].forEach(function(c){return i.make_(c,e&&c in e?e[c]:!0)})}),t)}var c0="splice",Qn="update",ON=1e4,UN={get:function(e,n){var i=e[me];return n===me?i:n==="length"?i.getArrayLength_():typeof n=="string"&&!isNaN(n)?i.get_(parseInt(n)):Ti(Wu,n)?Wu[n]:e[n]},set:function(e,n,i){var r=e[me];return n==="length"&&r.setArrayLength_(i),typeof n=="symbol"||isNaN(n)?e[n]=i:r.set_(parseInt(n),i),!0},preventExtensions:function(){Me(15)}},im=(function(){function t(n,i,r,l){n===void 0&&(n="ObservableArray"),this.owned_=void 0,this.legacyMode_=void 0,this.atom_=void 0,this.values_=[],this.interceptors_=void 0,this.changeListeners_=void 0,this.enhancer_=void 0,this.dehancer=void 0,this.proxy_=void 0,this.lastKnownLength_=0,this.owned_=r,this.legacyMode_=l,this.atom_=new uo(n),this.enhancer_=function(c,d){return i(c,d,"ObservableArray[..]")}}var e=t.prototype;return e.dehanceValue_=function(i){return this.dehancer!==void 0?this.dehancer(i):i},e.dehanceValues_=function(i){return this.dehancer!==void 0&&i.length>0?i.map(this.dehancer):i},e.intercept_=function(i){return qa(this,i)},e.observe_=function(i,r){return r===void 0&&(r=!1),r&&i({observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:"splice",index:0,added:this.values_.slice(),addedCount:this.values_.length,removed:[],removedCount:0}),Fa(this,i)},e.getArrayLength_=function(){return this.atom_.reportObserved(),this.values_.length},e.setArrayLength_=function(i){(typeof i!="number"||isNaN(i)||i<0)&&Me("Out of range: "+i);var r=this.values_.length;if(i!==r)if(i>r){for(var l=new Array(i-r),c=0;c<i-r;c++)l[c]=void 0;this.spliceWithArray_(r,0,l)}else this.spliceWithArray_(i,r-i)},e.updateArrayLength_=function(i,r){i!==this.lastKnownLength_&&Me(16),this.lastKnownLength_+=r,this.legacyMode_&&r>0&&QT(i+r+1)},e.spliceWithArray_=function(i,r,l){var c=this;this.atom_;var d=this.values_.length;if(i===void 0?i=0:i>d?i=d:i<0&&(i=Math.max(0,d+i)),arguments.length===1?r=d-i:r==null?r=0:r=Math.max(0,Math.min(r,d-i)),l===void 0&&(l=Qh),vn(this)){var m=yn(this,{object:this.proxy_,type:c0,index:i,removedCount:r,added:l});if(!m)return Qh;r=m.removedCount,l=m.added}if(l=l.length===0?l:l.map(function(_){return c.enhancer_(_,void 0)}),this.legacyMode_){var p=l.length-r;this.updateArrayLength_(d,p)}var y=this.spliceItemsIntoValues_(i,r,l);return(r!==0||l.length!==0)&&this.notifyArraySplice_(i,l,y),this.dehanceValues_(y)},e.spliceItemsIntoValues_=function(i,r,l){if(l.length<ON){var c;return(c=this.values_).splice.apply(c,[i,r].concat(l))}else{var d=this.values_.slice(i,i+r),m=this.values_.slice(i+r);this.values_.length+=l.length-r;for(var p=0;p<l.length;p++)this.values_[i+p]=l[p];for(var y=0;y<m.length;y++)this.values_[i+l.length+y]=m[y];return d}},e.notifyArrayChildUpdate_=function(i,r,l){var c=!this.owned_&&xa(),d=Dn(this),m=d||c?{observableKind:"array",object:this.proxy_,type:Qn,debugObjectName:this.atom_.name_,index:i,newValue:r,oldValue:l}:null;this.atom_.reportChanged(),d&&On(this,m)},e.notifyArraySplice_=function(i,r,l){var c=!this.owned_&&xa(),d=Dn(this),m=d||c?{observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:c0,index:i,removed:l,added:r,removedCount:l.length,addedCount:r.length}:null;this.atom_.reportChanged(),d&&On(this,m)},e.get_=function(i){if(this.legacyMode_&&i>=this.values_.length){console.warn("[mobx] Out of bounds read: "+i);return}return this.atom_.reportObserved(),this.dehanceValue_(this.values_[i])},e.set_=function(i,r){var l=this.values_;if(this.legacyMode_&&i>l.length&&Me(17,i,l.length),i<l.length){this.atom_;var c=l[i];if(vn(this)){var d=yn(this,{type:Qn,object:this.proxy_,index:i,newValue:r});if(!d)return;r=d.newValue}r=this.enhancer_(r,c);var m=r!==c;m&&(l[i]=r,this.notifyArrayChildUpdate_(i,r,c))}else{for(var p=new Array(i+1-l.length),y=0;y<p.length-1;y++)p[y]=void 0;p[p.length-1]=r,this.spliceWithArray_(l.length,0,p)}},t})();function LN(t,e,n,i){return n===void 0&&(n="ObservableArray"),i===void 0&&(i=!1),uT(),ho(function(){var r=new im(n,e,i,!1);dT(r.values_,me,r);var l=new Proxy(r.values_,UN);return r.proxy_=l,t&&t.length&&r.spliceWithArray_(0,0,t),l})}var Wu={clear:function(){return this.splice(0)},replace:function(e){var n=this[me];return n.spliceWithArray_(0,n.values_.length,e)},toJSON:function(){return this.slice()},splice:function(e,n){for(var i=arguments.length,r=new Array(i>2?i-2:0),l=2;l<i;l++)r[l-2]=arguments[l];var c=this[me];switch(arguments.length){case 0:return[];case 1:return c.spliceWithArray_(e);case 2:return c.spliceWithArray_(e,n)}return c.spliceWithArray_(e,n,r)},spliceWithArray:function(e,n,i){return this[me].spliceWithArray_(e,n,i)},push:function(){for(var e=this[me],n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return e.spliceWithArray_(e.values_.length,0,i),e.values_.length},pop:function(){return this.splice(Math.max(this[me].values_.length-1,0),1)[0]},shift:function(){return this.splice(0,1)[0]},unshift:function(){for(var e=this[me],n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return e.spliceWithArray_(0,0,i),e.values_.length},reverse:function(){return ee.trackingDerivation&&Me(37,"reverse"),this.replace(this.slice().reverse()),this},sort:function(){ee.trackingDerivation&&Me(37,"sort");var e=this.slice();return e.sort.apply(e,arguments),this.replace(e),this},remove:function(e){var n=this[me],i=n.dehanceValues_(n.values_).indexOf(e);return i>-1?(this.splice(i,1),!0):!1}};Ke("at",sn);Ke("concat",sn);Ke("flat",sn);Ke("includes",sn);Ke("indexOf",sn);Ke("join",sn);Ke("lastIndexOf",sn);Ke("slice",sn);Ke("toString",sn);Ke("toLocaleString",sn);Ke("toSorted",sn);Ke("toSpliced",sn);Ke("with",sn);Ke("every",Bn);Ke("filter",Bn);Ke("find",Bn);Ke("findIndex",Bn);Ke("findLast",Bn);Ke("findLastIndex",Bn);Ke("flatMap",Bn);Ke("forEach",Bn);Ke("map",Bn);Ke("some",Bn);Ke("toReversed",Bn);Ke("reduce",zT);Ke("reduceRight",zT);function Ke(t,e){typeof Array.prototype[t]=="function"&&(Wu[t]=e(t))}function sn(t){return function(){var e=this[me];e.atom_.reportObserved();var n=e.dehanceValues_(e.values_);return n[t].apply(n,arguments)}}function Bn(t){return function(e,n){var i=this,r=this[me];r.atom_.reportObserved();var l=r.dehanceValues_(r.values_);return l[t](function(c,d){return e.call(n,c,d,i)})}}function zT(t){return function(){var e=this,n=this[me];n.atom_.reportObserved();var i=n.dehanceValues_(n.values_),r=arguments[0];return arguments[0]=function(l,c,d){return r(l,c,d,e)},i[t].apply(i,arguments)}}var PN=lo("ObservableArrayAdministration",im);function za(t){return Ec(t)&&PN(t[me])}var kN={},so="add",Zu="delete",$T=(function(){function t(n,i,r){var l=this;i===void 0&&(i=qo),r===void 0&&(r="ObservableMap"),this.enhancer_=void 0,this.name_=void 0,this[me]=kN,this.data_=void 0,this.hasMap_=void 0,this.keysAtom_=void 0,this.interceptors_=void 0,this.changeListeners_=void 0,this.dehancer=void 0,this.enhancer_=i,this.name_=r,Pn(Map)||Me(18),ho(function(){l.keysAtom_=gT("ObservableMap.keys()"),l.data_=new Map,l.hasMap_=new Map,n&&l.merge(n)})}var e=t.prototype;return e.has_=function(i){return this.data_.has(i)},e.has=function(i){var r=this;if(!ee.trackingDerivation)return this.has_(i);var l=this.hasMap_.get(i);if(!l){var c=l=new ao(this.has_(i),Tc,"ObservableMap.key?",!1);this.hasMap_.set(i,c),HT(c,function(){return r.hasMap_.delete(i)})}return l.get()},e.set=function(i,r){var l=this.has_(i);if(vn(this)){var c=yn(this,{type:l?Qn:so,object:this,newValue:r,name:i});if(!c)return this;r=c.newValue}return l?this.updateValue_(i,r):this.addValue_(i,r),this},e.delete=function(i){var r=this;if(this.keysAtom_,vn(this)){var l=yn(this,{type:Zu,object:this,name:i});if(!l)return!1}if(this.has_(i)){var c=xa(),d=Dn(this),m=d||c?{observableKind:"map",debugObjectName:this.name_,type:Zu,object:this,oldValue:this.data_.get(i).value_,name:i}:null;return _i(function(){var p;r.keysAtom_.reportChanged(),(p=r.hasMap_.get(i))==null||p.setNewValue_(!1);var y=r.data_.get(i);y.setNewValue_(void 0),r.data_.delete(i)}),d&&On(this,m),!0}return!1},e.updateValue_=function(i,r){var l=this.data_.get(i);if(r=l.prepareNewValue_(r),r!==ee.UNCHANGED){var c=xa(),d=Dn(this),m=d||c?{observableKind:"map",debugObjectName:this.name_,type:Qn,object:this,oldValue:l.value_,name:i,newValue:r}:null;l.setNewValue_(r),d&&On(this,m)}},e.addValue_=function(i,r){var l=this;this.keysAtom_,_i(function(){var p,y=new ao(r,l.enhancer_,"ObservableMap.key",!1);l.data_.set(i,y),r=y.value_,(p=l.hasMap_.get(i))==null||p.setNewValue_(!0),l.keysAtom_.reportChanged()});var c=xa(),d=Dn(this),m=d||c?{observableKind:"map",debugObjectName:this.name_,type:so,object:this,name:i,newValue:r}:null;d&&On(this,m)},e.get=function(i){return this.has(i)?this.dehanceValue_(this.data_.get(i).get()):this.dehanceValue_(void 0)},e.dehanceValue_=function(i){return this.dehancer!==void 0?this.dehancer(i):i},e.keys=function(){return this.keysAtom_.reportObserved(),this.data_.keys()},e.values=function(){var i=this,r=this.keys();return f0({next:function(){var c=r.next(),d=c.done,m=c.value;return{done:d,value:d?void 0:i.get(m)}}})},e.entries=function(){var i=this,r=this.keys();return f0({next:function(){var c=r.next(),d=c.done,m=c.value;return{done:d,value:d?void 0:[m,i.get(m)]}}})},e[Symbol.iterator]=function(){return this.entries()},e.forEach=function(i,r){for(var l=Ws(this),c;!(c=l()).done;){var d=c.value,m=d[0],p=d[1];i.call(r,p,m,this)}},e.merge=function(i){var r=this;return fo(i)&&(i=new Map(i)),_i(function(){bi(i)?sM(i).forEach(function(l){return r.set(l,i[l])}):Array.isArray(i)?i.forEach(function(l){var c=l[0],d=l[1];return r.set(c,d)}):lr(i)?(oM(i)||Me(19,i),i.forEach(function(l,c){return r.set(c,l)})):i!=null&&Me(20,i)}),this},e.clear=function(){var i=this;_i(function(){RT(function(){for(var r=Ws(i.keys()),l;!(l=r()).done;){var c=l.value;i.delete(c)}})})},e.replace=function(i){var r=this;return _i(function(){for(var l=BN(i),c=new Map,d=!1,m=Ws(r.data_.keys()),p;!(p=m()).done;){var y=p.value;if(!l.has(y)){var _=r.delete(y);if(_)d=!0;else{var S=r.data_.get(y);c.set(y,S)}}}for(var T=Ws(l.entries()),b;!(b=T()).done;){var R=b.value,x=R[0],P=R[1],H=r.data_.has(x);if(r.set(x,P),r.data_.has(x)){var B=r.data_.get(x);c.set(x,B),H||(d=!0)}}if(!d)if(r.data_.size!==c.size)r.keysAtom_.reportChanged();else for(var q=r.data_.keys(),Q=c.keys(),K=q.next(),$=Q.next();!K.done;){if(K.value!==$.value){r.keysAtom_.reportChanged();break}K=q.next(),$=Q.next()}r.data_=c}),this},e.toString=function(){return"[object ObservableMap]"},e.toJSON=function(){return Array.from(this)},e.observe_=function(i,r){return Fa(this,i)},e.intercept_=function(i){return qa(this,i)},ur(t,[{key:"size",get:function(){return this.keysAtom_.reportObserved(),this.data_.size}},{key:Symbol.toStringTag,get:function(){return"Map"}}])})(),fo=lo("ObservableMap",$T);function f0(t){return t[Symbol.toStringTag]="MapIterator",sm(t)}function BN(t){if(lr(t)||fo(t))return t;if(Array.isArray(t))return new Map(t);if(bi(t)){var e=new Map;for(var n in t)e.set(n,t[n]);return e}else return Me(21,t)}var HN={},JT=(function(){function t(n,i,r){var l=this;i===void 0&&(i=qo),r===void 0&&(r="ObservableSet"),this.name_=void 0,this[me]=HN,this.data_=new Set,this.atom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.dehancer=void 0,this.enhancer_=void 0,this.name_=r,Pn(Set)||Me(22),this.enhancer_=function(c,d){return i(c,d,r)},ho(function(){l.atom_=gT(l.name_),n&&l.replace(n)})}var e=t.prototype;return e.dehanceValue_=function(i){return this.dehancer!==void 0?this.dehancer(i):i},e.clear=function(){var i=this;_i(function(){RT(function(){for(var r=Ws(i.data_.values()),l;!(l=r()).done;){var c=l.value;i.delete(c)}})})},e.forEach=function(i,r){for(var l=Ws(this),c;!(c=l()).done;){var d=c.value;i.call(r,d,d,this)}},e.add=function(i){var r=this;if(this.atom_,vn(this)){var l=yn(this,{type:so,object:this,newValue:i});if(!l)return this;i=l.newValue}if(!this.has(i)){_i(function(){r.data_.add(r.enhancer_(i,void 0)),r.atom_.reportChanged()});var c=!1,d=Dn(this),m=d||c?{observableKind:"set",debugObjectName:this.name_,type:so,object:this,newValue:i}:null;d&&On(this,m)}return this},e.delete=function(i){var r=this;if(vn(this)){var l=yn(this,{type:Zu,object:this,oldValue:i});if(!l)return!1}if(this.has(i)){var c=!1,d=Dn(this),m=d||c?{observableKind:"set",debugObjectName:this.name_,type:Zu,object:this,oldValue:i}:null;return _i(function(){r.atom_.reportChanged(),r.data_.delete(i)}),d&&On(this,m),!0}return!1},e.has=function(i){return this.atom_.reportObserved(),this.data_.has(this.dehanceValue_(i))},e.entries=function(){var i=this.values();return d0({next:function(){var l=i.next(),c=l.value,d=l.done;return d?{value:void 0,done:d}:{value:[c,c],done:d}}})},e.keys=function(){return this.values()},e.values=function(){this.atom_.reportObserved();var i=this,r=this.data_.values();return d0({next:function(){var c=r.next(),d=c.value,m=c.done;return m?{value:void 0,done:m}:{value:i.dehanceValue_(d),done:m}}})},e.intersection=function(i){if(yi(i)&&!Nn(i))return i.intersection(this);var r=new Set(this);return r.intersection(i)},e.union=function(i){if(yi(i)&&!Nn(i))return i.union(this);var r=new Set(this);return r.union(i)},e.difference=function(i){return new Set(this).difference(i)},e.symmetricDifference=function(i){if(yi(i)&&!Nn(i))return i.symmetricDifference(this);var r=new Set(this);return r.symmetricDifference(i)},e.isSubsetOf=function(i){return new Set(this).isSubsetOf(i)},e.isSupersetOf=function(i){return new Set(this).isSupersetOf(i)},e.isDisjointFrom=function(i){if(yi(i)&&!Nn(i))return i.isDisjointFrom(this);var r=new Set(this);return r.isDisjointFrom(i)},e.replace=function(i){var r=this;return Nn(i)&&(i=new Set(i)),_i(function(){Array.isArray(i)?(r.clear(),i.forEach(function(l){return r.add(l)})):yi(i)?(r.clear(),i.forEach(function(l){return r.add(l)})):i!=null&&Me("Cannot initialize set from "+i)}),this},e.observe_=function(i,r){return Fa(this,i)},e.intercept_=function(i){return qa(this,i)},e.toJSON=function(){return Array.from(this)},e.toString=function(){return"[object ObservableSet]"},e[Symbol.iterator]=function(){return this.values()},ur(t,[{key:"size",get:function(){return this.atom_.reportObserved(),this.data_.size}},{key:Symbol.toStringTag,get:function(){return"Set"}}])})(),Nn=lo("ObservableSet",JT);function d0(t){return t[Symbol.toStringTag]="SetIterator",sm(t)}var h0=Object.create(null),p0="remove",YT=(function(){function t(n,i,r,l){i===void 0&&(i=new Map),l===void 0&&(l=LM),this.target_=void 0,this.values_=void 0,this.name_=void 0,this.defaultAnnotation_=void 0,this.keysAtom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.proxy_=void 0,this.isPlainObject_=void 0,this.appliedAnnotations_=void 0,this.pendingKeys_=void 0,this.target_=n,this.values_=i,this.name_=r,this.defaultAnnotation_=l,this.keysAtom_=new uo("ObservableObject.keys"),this.isPlainObject_=bi(this.target_)}var e=t.prototype;return e.getObservablePropValue_=function(i){return this.values_.get(i).get()},e.setObservablePropValue_=function(i,r){var l=this.values_.get(i);if(l instanceof kn)return l.set(r),!0;if(vn(this)){var c=yn(this,{type:Qn,object:this.proxy_||this.target_,name:i,newValue:r});if(!c)return null;r=c.newValue}if(r=l.prepareNewValue_(r),r!==ee.UNCHANGED){var d=Dn(this),m=!1,p=d||m?{type:Qn,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,oldValue:l.value_,name:i,newValue:r}:null;l.setNewValue_(r),d&&On(this,p)}return!0},e.get_=function(i){return ee.trackingDerivation&&!Ti(this.target_,i)&&this.has_(i),this.target_[i]},e.set_=function(i,r,l){return l===void 0&&(l=!1),Ti(this.target_,i)?this.values_.has(i)?this.setObservablePropValue_(i,r):l?Reflect.set(this.target_,i,r):(this.target_[i]=r,!0):this.extend_(i,{value:r,enumerable:!0,writable:!0,configurable:!0},this.defaultAnnotation_,l)},e.has_=function(i){if(!ee.trackingDerivation)return i in this.target_;this.pendingKeys_||(this.pendingKeys_=new Map);var r=this.pendingKeys_.get(i);return r||(r=new ao(i in this.target_,Tc,"ObservableObject.key?",!1),this.pendingKeys_.set(i,r)),r.get()},e.make_=function(i,r){if(r===!0&&(r=this.defaultAnnotation_),r!==!1){if(!(i in this.target_)){var l;if((l=this.target_[Jn])!=null&&l[i])return;Me(1,r.annotationType_,this.name_+"."+i.toString())}for(var c=this.target_;c&&c!==Pa;){var d=$u(c,i);if(d){var m=r.make_(this,i,d,c);if(m===0)return;if(m===1)break}c=Object.getPrototypeOf(c)}g0(this,r,i)}},e.extend_=function(i,r,l,c){if(c===void 0&&(c=!1),l===!0&&(l=this.defaultAnnotation_),l===!1)return this.defineProperty_(i,r,c);var d=l.extend_(this,i,r,c);return d&&g0(this,l,i),d},e.defineProperty_=function(i,r,l){l===void 0&&(l=!1),this.keysAtom_;try{_n();var c=this.delete_(i);if(!c)return c;if(vn(this)){var d=yn(this,{object:this.proxy_||this.target_,name:i,type:so,newValue:r.value});if(!d)return null;var m=d.newValue;r.value!==m&&(r=Vo({},r,{value:m}))}if(l){if(!Reflect.defineProperty(this.target_,i,r))return!1}else Kn(this.target_,i,r);this.notifyPropertyAddition_(i,r.value)}finally{Sn()}return!0},e.defineObservableProperty_=function(i,r,l,c){c===void 0&&(c=!1),this.keysAtom_;try{_n();var d=this.delete_(i);if(!d)return d;if(vn(this)){var m=yn(this,{object:this.proxy_||this.target_,name:i,type:so,newValue:r});if(!m)return null;r=m.newValue}var p=m0(i),y={configurable:ee.safeDescriptors?this.isPlainObject_:!0,enumerable:!0,get:p.get,set:p.set};if(c){if(!Reflect.defineProperty(this.target_,i,y))return!1}else Kn(this.target_,i,y);var _=new ao(r,l,"ObservableObject.key",!1);this.values_.set(i,_),this.notifyPropertyAddition_(i,_.value_)}finally{Sn()}return!0},e.defineComputedProperty_=function(i,r,l){l===void 0&&(l=!1),this.keysAtom_;try{_n();var c=this.delete_(i);if(!c)return c;if(vn(this)){var d=yn(this,{object:this.proxy_||this.target_,name:i,type:so,newValue:void 0});if(!d)return null}r.name||(r.name="ObservableObject.key"),r.context=this.proxy_||this.target_;var m=m0(i),p={configurable:ee.safeDescriptors?this.isPlainObject_:!0,enumerable:!1,get:m.get,set:m.set};if(l){if(!Reflect.defineProperty(this.target_,i,p))return!1}else Kn(this.target_,i,p);this.values_.set(i,new kn(r)),this.notifyPropertyAddition_(i,void 0)}finally{Sn()}return!0},e.delete_=function(i,r){if(r===void 0&&(r=!1),this.keysAtom_,!Ti(this.target_,i))return!0;if(vn(this)){var l=yn(this,{object:this.proxy_||this.target_,name:i,type:p0});if(!l)return null}try{var c;_n();var d=Dn(this),m=!1,p=this.values_.get(i),y=void 0;if(!p&&(d||m)){var _;y=(_=$u(this.target_,i))==null?void 0:_.value}if(r){if(!Reflect.deleteProperty(this.target_,i))return!1}else delete this.target_[i];if(p&&(this.values_.delete(i),p instanceof ao&&(y=p.value_),OT(p)),this.keysAtom_.reportChanged(),(c=this.pendingKeys_)==null||(c=c.get(i))==null||c.set(i in this.target_),d||m){var S={type:p0,observableKind:"object",object:this.proxy_||this.target_,debugObjectName:this.name_,oldValue:y,name:i};d&&On(this,S)}}finally{Sn()}return!0},e.observe_=function(i,r){return Fa(this,i)},e.intercept_=function(i){return qa(this,i)},e.notifyPropertyAddition_=function(i,r){var l,c=Dn(this),d=!1;if(c||d){var m=c||d?{type:so,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,name:i,newValue:r}:null;c&&On(this,m)}(l=this.pendingKeys_)==null||(l=l.get(i))==null||l.set(!0),this.keysAtom_.reportChanged()},e.ownKeys_=function(){return this.keysAtom_.reportObserved(),sr(this.target_)},e.keys_=function(){return this.keysAtom_.reportObserved(),Object.keys(this.target_)},t})();function Ko(t,e){var n;if(Ti(t,me))return t;var i=(n=e?.name)!=null?n:"ObservableObject",r=new YT(t,new Map,String(i),JM(e));return ka(t,me,r),t}var GN=lo("ObservableObjectAdministration",YT);function m0(t){return h0[t]||(h0[t]={get:function(){return this[me].getObservablePropValue_(t)},set:function(n){return this[me].setObservablePropValue_(t,n)}})}function $a(t){return Ec(t)?GN(t[me]):!1}function g0(t,e,n){var i;(i=t.target_[Jn])==null||delete i[n]}var VN=XT(0),qN=(function(){var t=!1,e={};return Object.defineProperty(e,"0",{set:function(){t=!0}}),Object.create(e)[0]=1,t===!1})(),_h=0,KT=function(){};function FN(t,e){Object.setPrototypeOf?Object.setPrototypeOf(t.prototype,e):t.prototype.__proto__!==void 0?t.prototype.__proto__=e:t.prototype=e}FN(KT,Array.prototype);var om=(function(t){function e(i,r,l,c){var d;return l===void 0&&(l="ObservableArray"),c===void 0&&(c=!1),d=t.call(this)||this,ho(function(){var m=new im(l,r,c,!0);m.proxy_=d,dT(d,me,m),i&&i.length&&d.spliceWithArray(0,0,i),qN&&Object.defineProperty(d,"0",VN)}),d}mT(e,t);var n=e.prototype;return n.concat=function(){this[me].atom_.reportObserved();for(var r=arguments.length,l=new Array(r),c=0;c<r;c++)l[c]=arguments[c];return Array.prototype.concat.apply(this.slice(),l.map(function(d){return za(d)?d.slice():d}))},n[Symbol.iterator]=function(){var i=this,r=0;return sm({next:function(){return r<i.length?{value:i[r++],done:!1}:{done:!0,value:void 0}}})},ur(e,[{key:"length",get:function(){return this[me].getArrayLength_()},set:function(r){this[me].setArrayLength_(r)}},{key:Symbol.toStringTag,get:function(){return"Array"}}])})(KT);Object.entries(Wu).forEach(function(t){var e=t[0],n=t[1];e!=="concat"&&ka(om.prototype,e,n)});function XT(t){return{enumerable:!1,configurable:!0,get:function(){return this[me].get_(t)},set:function(n){this[me].set_(t,n)}}}function zN(t){Kn(om.prototype,""+t,XT(t))}function QT(t){if(t>_h){for(var e=_h;e<t+100;e++)zN(e);_h=t}}QT(1e3);function $N(t,e,n){return new om(t,e,n)}function ju(t,e){if(typeof t=="object"&&t!==null){if(za(t))return e!==void 0&&Me(23),t[me].atom_;if(Nn(t))return t.atom_;if(fo(t)){if(e===void 0)return t.keysAtom_;var n=t.data_.get(e)||t.hasMap_.get(e);return n||Me(25,e,sp(t)),n}if($a(t)){if(!e)return Me(26);var i=t[me].values_.get(e);return i||Me(27,e,sp(t)),i}if(Qp(t)||Va(t)||Qu(t))return t}else if(Pn(t)&&Qu(t[me]))return t[me];Me(28)}function JN(t,e){if(t||Me(29),Qp(t)||Va(t)||Qu(t)||fo(t)||Nn(t))return t;if(t[me])return t[me];Me(24,t)}function sp(t,e){var n;if(e!==void 0)n=ju(t,e);else{if(rr(t))return t.name;$a(t)||fo(t)||Nn(t)?n=JN(t):n=ju(t)}return n.name_}function ho(t){var e=Yo(),n=Zp(!0);_n();try{return t()}finally{Sn(),jp(n),Ai(e)}}var v0=Pa.toString;function WT(t,e,n){return n===void 0&&(n=-1),rp(t,e,n)}function rp(t,e,n,i,r){if(t===e)return t!==0||1/t===1/e;if(t==null||e==null)return!1;if(t!==t)return e!==e;var l=typeof t;if(l!=="function"&&l!=="object"&&typeof e!="object")return!1;var c=v0.call(t);if(c!==v0.call(e))return!1;switch(c){case"[object RegExp]":case"[object String]":return""+t==""+e;case"[object Number]":return+t!=+t?+e!=+e:+t==0?1/+t===1/e:+t==+e;case"[object Date]":case"[object Boolean]":return+t==+e;case"[object Symbol]":return typeof Symbol<"u"&&Symbol.valueOf.call(t)===Symbol.valueOf.call(e);case"[object Map]":case"[object Set]":n>=0&&n++;break}t=y0(t),e=y0(e);var d=c==="[object Array]";if(!d){if(typeof t!="object"||typeof e!="object")return!1;var m=t.constructor,p=e.constructor;if(m!==p&&!(Pn(m)&&m instanceof m&&Pn(p)&&p instanceof p)&&"constructor"in t&&"constructor"in e)return!1}if(n===0)return!1;n<0&&(n=-1),i=i||[],r=r||[];for(var y=i.length;y--;)if(i[y]===t)return r[y]===e;if(i.push(t),r.push(e),d){if(y=t.length,y!==e.length)return!1;for(;y--;)if(!rp(t[y],e[y],n-1,i,r))return!1}else{var _=Object.keys(t),S=_.length;if(Object.keys(e).length!==S)return!1;for(var T=0;T<S;T++){var b=_[T];if(!(Ti(e,b)&&rp(t[b],e[b],n-1,i,r)))return!1}}return i.pop(),r.pop(),!0}function y0(t){return za(t)?t.slice():lr(t)||fo(t)||yi(t)||Nn(t)?Array.from(t.entries()):t}var _0,YN=((_0=Sc().Iterator)==null?void 0:_0.prototype)||{};function sm(t){return t[Symbol.iterator]=KN,Object.assign(Object.create(YN),t)}function KN(){return this}["Symbol","Map","Set"].forEach(function(t){var e=Sc();typeof e[t]>"u"&&Me("MobX requires global '"+t+"' to be available or polyfilled")});typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__=="object"&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:cN,extras:{getDebugName:sp},$mobx:me});if(!I.useState)throw new Error("mobx-react-lite requires React with Hooks support");if(!DN)throw new Error("mobx-react-lite@3 requires mobx at least version 6 to be available");var ZT=rT();const js=yc(ZT);function XN(t){t()}function QN(t){t||(t=XN),AN({reactionScheduler:t})}function WN(t){return CN(t)}var ZN=1e4,jN=1e4,eI=(function(){function t(e){var n=this;Object.defineProperty(this,"finalize",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"registrations",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),Object.defineProperty(this,"sweepTimeout",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sweep",{enumerable:!0,configurable:!0,writable:!0,value:function(i){i===void 0&&(i=ZN),clearTimeout(n.sweepTimeout),n.sweepTimeout=void 0;var r=Date.now();n.registrations.forEach(function(l,c){r-l.registeredAt>=i&&(n.finalize(l.value),n.registrations.delete(c))}),n.registrations.size>0&&n.scheduleSweep()}}),Object.defineProperty(this,"finalizeAllImmediately",{enumerable:!0,configurable:!0,writable:!0,value:function(){n.sweep(0)}})}return Object.defineProperty(t.prototype,"register",{enumerable:!1,configurable:!0,writable:!0,value:function(e,n,i){this.registrations.set(i,{value:n,registeredAt:Date.now()}),this.scheduleSweep()}}),Object.defineProperty(t.prototype,"unregister",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this.registrations.delete(e)}}),Object.defineProperty(t.prototype,"scheduleSweep",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.sweepTimeout===void 0&&(this.sweepTimeout=setTimeout(this.sweep,jN))}}),t})(),tI=typeof FinalizationRegistry<"u"?FinalizationRegistry:eI,ap=new tI(function(t){var e;(e=t.reaction)===null||e===void 0||e.dispose(),t.reaction=null}),Sh={exports:{}},Eh={};var S0;function nI(){if(S0)return Eh;S0=1;var t=_c();function e(_,S){return _===S&&(_!==0||1/_===1/S)||_!==_&&S!==S}var n=typeof Object.is=="function"?Object.is:e,i=t.useState,r=t.useEffect,l=t.useLayoutEffect,c=t.useDebugValue;function d(_,S){var T=S(),b=i({inst:{value:T,getSnapshot:S}}),R=b[0].inst,x=b[1];return l(function(){R.value=T,R.getSnapshot=S,m(R)&&x({inst:R})},[_,T,S]),r(function(){return m(R)&&x({inst:R}),_(function(){m(R)&&x({inst:R})})},[_]),c(T),T}function m(_){var S=_.getSnapshot;_=_.value;try{var T=S();return!n(_,T)}catch{return!0}}function p(_,S){return S()}var y=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?p:d;return Eh.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:y,Eh}var E0;function iI(){return E0||(E0=1,Sh.exports=nI()),Sh.exports}var oI=iI();function T0(t){t.reaction=new wi("observer".concat(t.name),function(){var e;t.stateVersion=Symbol(),(e=t.onStoreChange)===null||e===void 0||e.call(t)})}function sI(t,e){e===void 0&&(e="observed");var n=In.useRef(null);if(!n.current){var i={reaction:null,onStoreChange:null,stateVersion:Symbol(),name:e,subscribe:function(d){return ap.unregister(i),i.onStoreChange=d,i.reaction||(T0(i),i.stateVersion=Symbol()),function(){var m;i.onStoreChange=null,(m=i.reaction)===null||m===void 0||m.dispose(),i.reaction=null}},getSnapshot:function(){return i.stateVersion}};n.current=i}var r=n.current;r.reaction||(T0(r),ap.register(n,r,r)),In.useDebugValue(r.reaction,WN),oI.useSyncExternalStore(r.subscribe,r.getSnapshot,r.getSnapshot);var l,c;if(r.reaction.track(function(){try{l=t()}catch(d){c=d}}),c)throw c;return l}var Th,Ah,jT=typeof Symbol=="function"&&Symbol.for,rI=(Ah=(Th=Object.getOwnPropertyDescriptor(function(){},"name"))===null||Th===void 0?void 0:Th.configurable)!==null&&Ah!==void 0?Ah:!1,A0=jT?Symbol.for("react.forward_ref"):typeof I.forwardRef=="function"&&I.forwardRef(function(t){return null}).$$typeof,C0=jT?Symbol.for("react.memo"):typeof I.memo=="function"&&I.memo(function(t){return null}).$$typeof;function Ut(t,e){var n;if(C0&&t.$$typeof===C0)throw new Error("[mobx-react-lite] You are trying to use `observer` on a function component wrapped in either another `observer` or `React.memo`. The observer already applies 'React.memo' for you.");var i=(n=void 0)!==null&&n!==void 0?n:!1,r=t,l=t.displayName||t.name;if(A0&&t.$$typeof===A0&&(i=!0,r=t.render,typeof r!="function"))throw new Error("[mobx-react-lite] `render` property of ForwardRef was not a function");var c=function(d,m){return sI(function(){return r(d,m)},l)};return c.displayName=t.displayName,rI&&Object.defineProperty(c,"name",{value:t.name,writable:!0,configurable:!0}),t.contextTypes&&(c.contextTypes=t.contextTypes),i&&(c=I.forwardRef(c)),c=I.memo(c),lI(t,c),c}var aI={$$typeof:!0,render:!0,compare:!0,type:!0,displayName:!0};function lI(t,e){Object.keys(t).forEach(function(n){aI[n]||Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}var Ch;QN(ZT.unstable_batchedUpdates);Ch=ap.finalizeAllImmediately;var bh={exports:{}};var b0;function uI(){return b0||(b0=1,(function(t){(function(){var e={}.hasOwnProperty;function n(){for(var l="",c=0;c<arguments.length;c++){var d=arguments[c];d&&(l=r(l,i(d)))}return l}function i(l){if(typeof l=="string"||typeof l=="number")return l;if(typeof l!="object")return"";if(Array.isArray(l))return n.apply(null,l);if(l.toString!==Object.prototype.toString&&!l.toString.toString().includes("[native code]"))return l.toString();var c="";for(var d in l)e.call(l,d)&&l[d]&&(c=r(c,d));return c}function r(l,c){return c?l?l+" "+c:l+c:l}t.exports?(n.default=n,t.exports=n):window.classNames=n})()})(bh)),bh.exports}var cI=uI();const Le=yc(cI);function lp(){return lp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},lp.apply(null,arguments)}function eA(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)!==-1)continue;n[i]=t[i]}return n}function w0(t){return"default"+t.charAt(0).toUpperCase()+t.substr(1)}function fI(t){var e=dI(t,"string");return typeof e=="symbol"?e:String(e)}function dI(t,e){if(typeof t!="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function hI(t,e,n){var i=I.useRef(t!==void 0),r=I.useState(e),l=r[0],c=r[1],d=t!==void 0,m=i.current;return i.current=d,!d&&m&&l!==e&&c(e),[d?t:l,I.useCallback(function(p){for(var y=arguments.length,_=new Array(y>1?y-1:0),S=1;S<y;S++)_[S-1]=arguments[S];n&&n.apply(void 0,[p].concat(_)),c(p)},[n])]}function tA(t,e){return Object.keys(e).reduce(function(n,i){var r,l=n,c=l[w0(i)],d=l[i],m=eA(l,[w0(i),i].map(fI)),p=e[i],y=hI(d,c,t[p]),_=y[0],S=y[1];return lp({},m,(r={},r[i]=_,r[p]=S,r))},t)}function up(t,e){return up=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},up(t,e)}function pI(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,up(t,e)}const mI=["xxl","xl","lg","md","sm","xs"],gI="xs",bc=I.createContext({prefixes:{},breakpoints:mI,minBreakpoint:gI}),{Consumer:nG,Provider:iG}=bc;function Ye(t,e){const{prefixes:n}=I.useContext(bc);return t||n[e]||e}function nA(){const{breakpoints:t}=I.useContext(bc);return t}function iA(){const{minBreakpoint:t}=I.useContext(bc);return t}function rm(t){return t&&t.ownerDocument||document}function vI(t){var e=rm(t);return e&&e.defaultView||window}function yI(t,e){return vI(t).getComputedStyle(t,e)}var _I=/([A-Z])/g;function SI(t){return t.replace(_I,"-$1").toLowerCase()}var EI=/^ms-/;function gu(t){return SI(t).replace(EI,"-ms-")}var TI=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function AI(t){return!!(t&&TI.test(t))}function Ci(t,e){var n="",i="";if(typeof e=="string")return t.style.getPropertyValue(gu(e))||yI(t).getPropertyValue(gu(e));Object.keys(e).forEach(function(r){var l=e[r];!l&&l!==0?t.style.removeProperty(gu(r)):AI(r)?i+=r+"("+l+") ":n+=gu(r)+": "+l+";"}),i&&(n+="transform: "+i+";"),t.style.cssText+=";"+n}var wh={exports:{}},Rh,R0;function CI(){if(R0)return Rh;R0=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Rh=t,Rh}var xh,x0;function bI(){if(x0)return xh;x0=1;var t=CI();function e(){}function n(){}return n.resetWarningCache=e,xh=function(){function i(c,d,m,p,y,_){if(_!==t){var S=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw S.name="Invariant Violation",S}}i.isRequired=i;function r(){return i}var l={array:i,bigint:i,bool:i,func:i,number:i,object:i,string:i,symbol:i,any:i,arrayOf:r,element:i,elementType:i,instanceOf:r,node:i,objectOf:r,oneOf:r,oneOfType:r,shape:r,exact:r,checkPropTypes:n,resetWarningCache:e};return l.PropTypes=l,l},xh}var M0;function wI(){return M0||(M0=1,wh.exports=bI()()),wh.exports}var RI=wI();const Mh=yc(RI),N0={disabled:!1},oA=In.createContext(null);var xI=function(e){return e.scrollTop},ma="unmounted",oo="exited",Mn="entering",Si="entered",Ua="exiting",xi=(function(t){pI(e,t);function e(i,r){var l;l=t.call(this,i,r)||this;var c=r,d=c&&!c.isMounting?i.enter:i.appear,m;return l.appearStatus=null,i.in?d?(m=oo,l.appearStatus=Mn):m=Si:i.unmountOnExit||i.mountOnEnter?m=ma:m=oo,l.state={status:m},l.nextCallback=null,l}e.getDerivedStateFromProps=function(r,l){var c=r.in;return c&&l.status===ma?{status:oo}:null};var n=e.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(r){var l=null;if(r!==this.props){var c=this.state.status;this.props.in?c!==Mn&&c!==Si&&(l=Mn):(c===Mn||c===Si)&&(l=Ua)}this.updateStatus(!1,l)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var r=this.props.timeout,l,c,d;return l=c=d=r,r!=null&&typeof r!="number"&&(l=r.exit,c=r.enter,d=r.appear!==void 0?r.appear:c),{exit:l,enter:c,appear:d}},n.updateStatus=function(r,l){if(r===void 0&&(r=!1),l!==null)if(this.cancelNextCallback(),l===Mn){if(this.props.unmountOnExit||this.props.mountOnEnter){var c=this.props.nodeRef?this.props.nodeRef.current:js.findDOMNode(this);c&&xI(c)}this.performEnter(r)}else this.performExit();else this.props.unmountOnExit&&this.state.status===oo&&this.setState({status:ma})},n.performEnter=function(r){var l=this,c=this.props.enter,d=this.context?this.context.isMounting:r,m=this.props.nodeRef?[d]:[js.findDOMNode(this),d],p=m[0],y=m[1],_=this.getTimeouts(),S=d?_.appear:_.enter;if(!r&&!c||N0.disabled){this.safeSetState({status:Si},function(){l.props.onEntered(p)});return}this.props.onEnter(p,y),this.safeSetState({status:Mn},function(){l.props.onEntering(p,y),l.onTransitionEnd(S,function(){l.safeSetState({status:Si},function(){l.props.onEntered(p,y)})})})},n.performExit=function(){var r=this,l=this.props.exit,c=this.getTimeouts(),d=this.props.nodeRef?void 0:js.findDOMNode(this);if(!l||N0.disabled){this.safeSetState({status:oo},function(){r.props.onExited(d)});return}this.props.onExit(d),this.safeSetState({status:Ua},function(){r.props.onExiting(d),r.onTransitionEnd(c.exit,function(){r.safeSetState({status:oo},function(){r.props.onExited(d)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(r,l){l=this.setNextCallback(l),this.setState(r,l)},n.setNextCallback=function(r){var l=this,c=!0;return this.nextCallback=function(d){c&&(c=!1,l.nextCallback=null,r(d))},this.nextCallback.cancel=function(){c=!1},this.nextCallback},n.onTransitionEnd=function(r,l){this.setNextCallback(l);var c=this.props.nodeRef?this.props.nodeRef.current:js.findDOMNode(this),d=r==null&&!this.props.addEndListener;if(!c||d){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var m=this.props.nodeRef?[this.nextCallback]:[c,this.nextCallback],p=m[0],y=m[1];this.props.addEndListener(p,y)}r!=null&&setTimeout(this.nextCallback,r)},n.render=function(){var r=this.state.status;if(r===ma)return null;var l=this.props,c=l.children;l.in,l.mountOnEnter,l.unmountOnExit,l.appear,l.enter,l.exit,l.timeout,l.addEndListener,l.onEnter,l.onEntering,l.onEntered,l.onExit,l.onExiting,l.onExited,l.nodeRef;var d=eA(l,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return In.createElement(oA.Provider,{value:null},typeof c=="function"?c(r,d):In.cloneElement(In.Children.only(c),d))},e})(In.Component);xi.contextType=oA;xi.propTypes={};function Hs(){}xi.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Hs,onEntering:Hs,onEntered:Hs,onExit:Hs,onExiting:Hs,onExited:Hs};xi.UNMOUNTED=ma;xi.EXITED=oo;xi.ENTERING=Mn;xi.ENTERED=Si;xi.EXITING=Ua;function MI(t){return t.code==="Escape"||t.keyCode===27}function NI(){const t=I.version.split(".");return{major:+t[0],minor:+t[1],patch:+t[2]}}function cr(t){if(!t||typeof t=="function")return null;const{major:e}=NI();return e>=19?t.props.ref:t.ref}const wc=!!(typeof window<"u"&&window.document&&window.document.createElement);var cp=!1,fp=!1;try{var Nh={get passive(){return cp=!0},get once(){return fp=cp=!0}};wc&&(window.addEventListener("test",Nh,Nh),window.removeEventListener("test",Nh,!0))}catch{}function II(t,e,n,i){if(i&&typeof i!="boolean"&&!fp){var r=i.once,l=i.capture,c=n;!fp&&r&&(c=n.__once||function d(m){this.removeEventListener(e,d,l),n.call(this,m)},n.__once=c),t.addEventListener(e,c,cp?i:l)}t.addEventListener(e,n,i)}function DI(t,e,n,i){var r=i&&typeof i!="boolean"?i.capture:i;t.removeEventListener(e,n,r),n.__once&&t.removeEventListener(e,n.__once,r)}function ec(t,e,n,i){return II(t,e,n,i),function(){DI(t,e,n,i)}}function OI(t,e,n,i){if(i===void 0&&(i=!0),t){var r=document.createEvent("HTMLEvents");r.initEvent(e,n,i),t.dispatchEvent(r)}}function UI(t){var e=Ci(t,"transitionDuration")||"",n=e.indexOf("ms")===-1?1e3:1;return parseFloat(e)*n}function LI(t,e,n){n===void 0&&(n=5);var i=!1,r=setTimeout(function(){i||OI(t,"transitionend",!0)},e+n),l=ec(t,"transitionend",function(){i=!0},{once:!0});return function(){clearTimeout(r),l()}}function PI(t,e,n,i){n==null&&(n=UI(t)||0);var r=LI(t,n,i),l=ec(t,"transitionend",e);return function(){r(),l()}}function I0(t,e){const n=Ci(t,e)||"",i=n.indexOf("ms")===-1?1e3:1;return parseFloat(n)*i}function am(t,e){const n=I0(t,"transitionDuration"),i=I0(t,"transitionDelay"),r=PI(t,l=>{l.target===t&&(r(),e(l))},n+i)}function da(...t){return t.filter(e=>e!=null).reduce((e,n)=>{if(typeof n!="function")throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return e===null?n:function(...r){e.apply(this,r),n.apply(this,r)}},null)}function sA(t){t.offsetHeight}const D0=t=>!t||typeof t=="function"?t:e=>{t.current=e};function kI(t,e){const n=D0(t),i=D0(e);return r=>{n&&n(r),i&&i(r)}}function BI(t,e){return I.useMemo(()=>kI(t,e),[t,e])}function HI(t){return t&&"setState"in t?js.findDOMNode(t):t??null}const Rc=In.forwardRef(({onEnter:t,onEntering:e,onEntered:n,onExit:i,onExiting:r,onExited:l,addEndListener:c,children:d,childRef:m,...p},y)=>{const _=I.useRef(null),S=BI(_,m),T=K=>{S(HI(K))},b=K=>$=>{K&&_.current&&K(_.current,$)},R=I.useCallback(b(t),[t]),x=I.useCallback(b(e),[e]),P=I.useCallback(b(n),[n]),H=I.useCallback(b(i),[i]),B=I.useCallback(b(r),[r]),q=I.useCallback(b(l),[l]),Q=I.useCallback(b(c),[c]);return C.jsx(xi,{ref:y,...p,onEnter:R,onEntered:P,onEntering:x,onExit:H,onExited:q,onExiting:B,addEndListener:Q,nodeRef:_,children:typeof d=="function"?(K,$)=>d(K,{...$,ref:T}):In.cloneElement(d,{ref:T})})});Rc.displayName="TransitionWrapper";const GI={height:["marginTop","marginBottom"],width:["marginLeft","marginRight"]};function VI(t,e){const n=`offset${t[0].toUpperCase()}${t.slice(1)}`,i=e[n],r=GI[t];return i+parseInt(Ci(e,r[0]),10)+parseInt(Ci(e,r[1]),10)}const qI={[oo]:"collapse",[Ua]:"collapsing",[Mn]:"collapsing",[Si]:"collapse show"},rA=In.forwardRef(({onEnter:t,onEntering:e,onEntered:n,onExit:i,onExiting:r,className:l,children:c,dimension:d="height",in:m=!1,timeout:p=300,mountOnEnter:y=!1,unmountOnExit:_=!1,appear:S=!1,getDimensionValue:T=VI,...b},R)=>{const x=typeof d=="function"?d():d,P=I.useMemo(()=>da(K=>{K.style[x]="0"},t),[x,t]),H=I.useMemo(()=>da(K=>{const $=`scroll${x[0].toUpperCase()}${x.slice(1)}`;K.style[x]=`${K[$]}px`},e),[x,e]),B=I.useMemo(()=>da(K=>{K.style[x]=null},n),[x,n]),q=I.useMemo(()=>da(K=>{K.style[x]=`${T(x,K)}px`,sA(K)},i),[i,T,x]),Q=I.useMemo(()=>da(K=>{K.style[x]=null},r),[x,r]);return C.jsx(Rc,{ref:R,addEndListener:am,...b,"aria-expanded":b.role?m:null,onEnter:P,onEntering:H,onEntered:B,onExit:q,onExiting:Q,childRef:cr(c),in:m,timeout:p,mountOnEnter:y,unmountOnExit:_,appear:S,children:(K,$)=>In.cloneElement(c,{...$,className:Le(l,c.props.className,qI[K],x==="width"&&"collapse-horizontal")})})});rA.displayName="Collapse";function FI(t){const e=I.useRef(t);return I.useEffect(()=>{e.current=t},[t]),e}function xc(t){const e=FI(t);return I.useCallback(function(...n){return e.current&&e.current(...n)},[e])}const lm=(t=>I.forwardRef((e,n)=>C.jsx("div",{...e,ref:n,className:Le(e.className,t)})));function zI(t){const e=I.useRef(t);return I.useEffect(()=>{e.current=t},[t]),e}function Ei(t){const e=zI(t);return I.useCallback(function(...n){return e.current&&e.current(...n)},[e])}function $I(){const t=I.useRef(!0),e=I.useRef(()=>t.current);return I.useEffect(()=>(t.current=!0,()=>{t.current=!1}),[]),e.current}function JI(t){const e=I.useRef(null);return I.useEffect(()=>{e.current=t}),e.current}const YI=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",KI=typeof document<"u",O0=KI||YI?I.useLayoutEffect:I.useEffect,XI=["as","disabled"];function QI(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)>=0)continue;n[i]=t[i]}return n}function WI(t){return!t||t.trim()==="#"}function aA({tagName:t,disabled:e,href:n,target:i,rel:r,role:l,onClick:c,tabIndex:d=0,type:m}){t||(n!=null||i!=null||r!=null?t="a":t="button");const p={tagName:t};if(t==="button")return[{type:m||"button",disabled:e},p];const y=S=>{if((e||t==="a"&&WI(n))&&S.preventDefault(),e){S.stopPropagation();return}c?.(S)},_=S=>{S.key===" "&&(S.preventDefault(),y(S))};return t==="a"&&(n||(n="#"),e&&(n=void 0)),[{role:l??"button",disabled:void 0,tabIndex:e?void 0:d,href:n,target:t==="a"?i:void 0,"aria-disabled":e||void 0,rel:t==="a"?r:void 0,onClick:y,onKeyDown:_},p]}const lA=I.forwardRef((t,e)=>{let{as:n,disabled:i}=t,r=QI(t,XI);const[l,{tagName:c}]=aA(Object.assign({tagName:n,disabled:i},r));return C.jsx(c,Object.assign({},r,l,{ref:e}))});lA.displayName="Button";const ZI=["onKeyDown"];function jI(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)>=0)continue;n[i]=t[i]}return n}function eD(t){return!t||t.trim()==="#"}const uA=I.forwardRef((t,e)=>{let{onKeyDown:n}=t,i=jI(t,ZI);const[r]=aA(Object.assign({tagName:"a"},i)),l=Ei(c=>{r.onKeyDown(c),n?.(c)});return eD(i.href)||i.role==="button"?C.jsx("a",Object.assign({ref:e},i,r,{onKeyDown:l})):C.jsx("a",Object.assign({ref:e},i,{onKeyDown:n}))});uA.displayName="Anchor";const tD={[Mn]:"show",[Si]:"show"},cA=I.forwardRef(({className:t,children:e,transitionClasses:n={},onEnter:i,...r},l)=>{const c={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,...r},d=I.useCallback((m,p)=>{sA(m),i?.(m,p)},[i]);return C.jsx(Rc,{ref:l,addEndListener:am,...c,onEnter:d,childRef:cr(e),children:(m,p)=>I.cloneElement(e,{...p,className:Le("fade",t,e.props.className,tD[m],n[m])})})});cA.displayName="Fade";const nD={"aria-label":Mh.string,onClick:Mh.func,variant:Mh.oneOf(["white"])},um=I.forwardRef(({className:t,variant:e,"aria-label":n="Close",...i},r)=>C.jsx("button",{ref:r,type:"button",className:Le("btn-close",e&&`btn-close-${e}`,t),"aria-label":n,...i}));um.displayName="CloseButton";um.propTypes=nD;const cm=I.forwardRef(({className:t,bsPrefix:e,as:n="div",...i},r)=>(e=Ye(e,"card-body"),C.jsx(n,{ref:r,className:Le(t,e),...i})));cm.displayName="CardBody";const fA=I.forwardRef(({className:t,bsPrefix:e,as:n="div",...i},r)=>(e=Ye(e,"card-footer"),C.jsx(n,{ref:r,className:Le(t,e),...i})));fA.displayName="CardFooter";const fm=I.createContext(null);fm.displayName="CardHeaderContext";const dA=I.forwardRef(({bsPrefix:t,className:e,as:n="div",...i},r)=>{const l=Ye(t,"card-header"),c=I.useMemo(()=>({cardHeaderBsPrefix:l}),[l]);return C.jsx(fm.Provider,{value:c,children:C.jsx(n,{ref:r,...i,className:Le(e,l)})})});dA.displayName="CardHeader";const hA=I.forwardRef(({bsPrefix:t,className:e,variant:n,as:i="img",...r},l)=>{const c=Ye(t,"card-img");return C.jsx(i,{ref:l,className:Le(n?`${c}-${n}`:c,e),...r})});hA.displayName="CardImg";const pA=I.forwardRef(({className:t,bsPrefix:e,as:n="div",...i},r)=>(e=Ye(e,"card-img-overlay"),C.jsx(n,{ref:r,className:Le(t,e),...i})));pA.displayName="CardImgOverlay";const mA=I.forwardRef(({className:t,bsPrefix:e,as:n="a",...i},r)=>(e=Ye(e,"card-link"),C.jsx(n,{ref:r,className:Le(t,e),...i})));mA.displayName="CardLink";const iD=lm("h6"),gA=I.forwardRef(({className:t,bsPrefix:e,as:n=iD,...i},r)=>(e=Ye(e,"card-subtitle"),C.jsx(n,{ref:r,className:Le(t,e),...i})));gA.displayName="CardSubtitle";const vA=I.forwardRef(({className:t,bsPrefix:e,as:n="p",...i},r)=>(e=Ye(e,"card-text"),C.jsx(n,{ref:r,className:Le(t,e),...i})));vA.displayName="CardText";const oD=lm("h5"),yA=I.forwardRef(({className:t,bsPrefix:e,as:n=oD,...i},r)=>(e=Ye(e,"card-title"),C.jsx(n,{ref:r,className:Le(t,e),...i})));yA.displayName="CardTitle";const _A=I.forwardRef(({bsPrefix:t,className:e,bg:n,text:i,border:r,body:l=!1,children:c,as:d="div",...m},p)=>{const y=Ye(t,"card");return C.jsx(d,{ref:p,...m,className:Le(e,y,n&&`bg-${n}`,i&&`text-${i}`,r&&`border-${r}`),children:l?C.jsx(cm,{children:c}):c})});_A.displayName="Card";const vu=Object.assign(_A,{Img:hA,Title:yA,Subtitle:gA,Body:cm,Link:mA,Text:vA,Header:dA,Footer:fA,ImgOverlay:pA});function sD({as:t,bsPrefix:e,className:n,...i}){e=Ye(e,"col");const r=nA(),l=iA(),c=[],d=[];return r.forEach(m=>{const p=i[m];delete i[m];let y,_,S;typeof p=="object"&&p!=null?{span:y,offset:_,order:S}=p:y=p;const T=m!==l?`-${m}`:"";y&&c.push(y===!0?`${e}${T}`:`${e}${T}-${y}`),S!=null&&d.push(`order${T}-${S}`),_!=null&&d.push(`offset${T}-${_}`)}),[{...i,className:Le(n,...c,...d)},{as:t,bsPrefix:e,spans:c}]}const SA=I.forwardRef((t,e)=>{const[{className:n,...i},{as:r="div",bsPrefix:l,spans:c}]=sD(t);return C.jsx(r,{...i,ref:e,className:Le(n,!c.length&&l)})});SA.displayName="Col";const EA=I.forwardRef(({bsPrefix:t,fluid:e=!1,as:n="div",className:i,...r},l)=>{const c=Ye(t,"container"),d=typeof e=="string"?`-${e}`:"-fluid";return C.jsx(n,{ref:l,...r,className:Le(i,e?`${c}${d}`:c)})});EA.displayName="Container";var rD=Function.prototype.bind.call(Function.prototype.call,[].slice);function Oo(t,e){return rD(t.querySelectorAll(e))}function aD(){const[,t]=I.useReducer(e=>e+1,0);return t}function U0(t,e){if(t.contains)return t.contains(e);if(t.compareDocumentPosition)return t===e||!!(t.compareDocumentPosition(e)&16)}const tc=I.createContext(null),dm=(t,e=null)=>t!=null?String(t):e||null,hm=I.createContext(null);hm.displayName="NavContext";const lD="data-rr-ui-",uD="rrUi";function Mc(t){return`${lD}${t}`}function cD(t){return`${uD}${t}`}const TA=I.createContext(wc?window:void 0);TA.Provider;function pm(){return I.useContext(TA)}const fD=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",dD=typeof document<"u",hD=dD||fD?I.useLayoutEffect:I.useEffect,fr=I.createContext(null);fr.displayName="NavbarContext";const L0=t=>!t||typeof t=="function"?t:e=>{t.current=e};function pD(t,e){const n=L0(t),i=L0(e);return r=>{n&&n(r),i&&i(r)}}function Nc(t,e){return I.useMemo(()=>pD(t,e),[t,e])}const AA=I.createContext(null),mD=["as","active","eventKey"];function gD(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)>=0)continue;n[i]=t[i]}return n}function CA({key:t,onClick:e,active:n,id:i,role:r,disabled:l}){const c=I.useContext(tc),d=I.useContext(hm),m=I.useContext(AA);let p=n;const y={role:r};if(d){!r&&d.role==="tablist"&&(y.role="tab");const _=d.getControllerId(t??null),S=d.getControlledId(t??null);y[Mc("event-key")]=t,y.id=_||i,p=n==null&&t!=null?d.activeKey===t:n,(p||!(m!=null&&m.unmountOnExit)&&!(m!=null&&m.mountOnEnter))&&(y["aria-controls"]=S)}return y.role==="tab"&&(y["aria-selected"]=p,p||(y.tabIndex=-1),l&&(y.tabIndex=-1,y["aria-disabled"]=!0)),y.onClick=Ei(_=>{l||(e?.(_),t!=null&&c&&!_.isPropagationStopped()&&c(t,_))}),[y,{isActive:p}]}const bA=I.forwardRef((t,e)=>{let{as:n=lA,active:i,eventKey:r}=t,l=gD(t,mD);const[c,d]=CA(Object.assign({key:dm(r,l.href),active:i},l));return c[Mc("active")]=d.isActive,C.jsx(n,Object.assign({},l,c,{ref:e}))});bA.displayName="NavItem";const vD=["as","onSelect","activeKey","role","onKeyDown"];function yD(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)>=0)continue;n[i]=t[i]}return n}const P0=()=>{},k0=Mc("event-key"),wA=I.forwardRef((t,e)=>{let{as:n="div",onSelect:i,activeKey:r,role:l,onKeyDown:c}=t,d=yD(t,vD);const m=aD(),p=I.useRef(!1),y=I.useContext(tc),_=I.useContext(AA);let S,T;_&&(l=l||"tablist",r=_.activeKey,S=_.getControlledId,T=_.getControllerId);const b=I.useRef(null),R=B=>{const q=b.current;if(!q)return null;const Q=Oo(q,`[${k0}]:not([aria-disabled=true])`),K=q.querySelector("[aria-selected=true]");if(!K||K!==document.activeElement)return null;const $=Q.indexOf(K);if($===-1)return null;let oe=$+B;return oe>=Q.length&&(oe=0),oe<0&&(oe=Q.length-1),Q[oe]},x=(B,q)=>{B!=null&&(i?.(B,q),y?.(B,q))},P=B=>{if(c?.(B),!_)return;let q;switch(B.key){case"ArrowLeft":case"ArrowUp":q=R(-1);break;case"ArrowRight":case"ArrowDown":q=R(1);break;default:return}q&&(B.preventDefault(),x(q.dataset[cD("EventKey")]||null,B),p.current=!0,m())};I.useEffect(()=>{if(b.current&&p.current){const B=b.current.querySelector(`[${k0}][aria-selected=true]`);B?.focus()}p.current=!1});const H=Nc(e,b);return C.jsx(tc.Provider,{value:x,children:C.jsx(hm.Provider,{value:{role:l,activeKey:dm(r),getControlledId:S||P0,getControllerId:T||P0},children:C.jsx(n,Object.assign({},d,{onKeyDown:P,ref:H,role:l}))})})});wA.displayName="Nav";const _D=Object.assign(wA,{Item:bA});function Ih(t){t===void 0&&(t=rm());try{var e=t.activeElement;return!e||!e.nodeName?null:e}catch{return t.body}}function SD(t){const e=I.useRef(t);return e.current=t,e}function ED(t){const e=SD(t);I.useEffect(()=>()=>e.current(),[])}function TD(t=document){const e=t.defaultView;return Math.abs(e.innerWidth-t.documentElement.clientWidth)}const B0=Mc("modal-open");class mm{constructor({ownerDocument:e,handleContainerOverflow:n=!0,isRTL:i=!1}={}){this.handleContainerOverflow=n,this.isRTL=i,this.modals=[],this.ownerDocument=e}getScrollbarWidth(){return TD(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes(e){}removeModalAttributes(e){}setContainerStyle(e){const n={overflow:"hidden"},i=this.isRTL?"paddingLeft":"paddingRight",r=this.getElement();e.style={overflow:r.style.overflow,[i]:r.style[i]},e.scrollBarWidth&&(n[i]=`${parseInt(Ci(r,i)||"0",10)+e.scrollBarWidth}px`),r.setAttribute(B0,""),Ci(r,n)}reset(){[...this.modals].forEach(e=>this.remove(e))}removeContainerStyle(e){const n=this.getElement();n.removeAttribute(B0),Object.assign(n.style,e.style)}add(e){let n=this.modals.indexOf(e);return n!==-1||(n=this.modals.length,this.modals.push(e),this.setModalAttributes(e),n!==0)||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),n}remove(e){const n=this.modals.indexOf(e);n!==-1&&(this.modals.splice(n,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(e))}isTopModal(e){return!!this.modals.length&&this.modals[this.modals.length-1]===e}}const Dh=(t,e)=>wc?t==null?(e||rm()).body:(typeof t=="function"&&(t=t()),t&&"current"in t&&(t=t.current),t&&("nodeType"in t||t.getBoundingClientRect)?t:null):null;function AD(t,e){const n=pm(),[i,r]=I.useState(()=>Dh(t,n?.document));if(!i){const l=Dh(t);l&&r(l)}return I.useEffect(()=>{},[e,i]),I.useEffect(()=>{const l=Dh(t);l!==i&&r(l)},[t,i]),i}function CD({children:t,in:e,onExited:n,mountOnEnter:i,unmountOnExit:r}){const l=I.useRef(null),c=I.useRef(e),d=Ei(n);I.useEffect(()=>{e?c.current=!0:d(l.current)},[e,d]);const m=Nc(l,cr(t)),p=I.cloneElement(t,{ref:m});return e?p:r||!c.current&&i?null:p}const bD=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children"];function wD(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)>=0)continue;n[i]=t[i]}return n}function RD(t){let{onEnter:e,onEntering:n,onEntered:i,onExit:r,onExiting:l,onExited:c,addEndListener:d,children:m}=t,p=wD(t,bD);const y=I.useRef(null),_=Nc(y,cr(m)),S=q=>Q=>{q&&y.current&&q(y.current,Q)},T=I.useCallback(S(e),[e]),b=I.useCallback(S(n),[n]),R=I.useCallback(S(i),[i]),x=I.useCallback(S(r),[r]),P=I.useCallback(S(l),[l]),H=I.useCallback(S(c),[c]),B=I.useCallback(S(d),[d]);return Object.assign({},p,{nodeRef:y},e&&{onEnter:T},n&&{onEntering:b},i&&{onEntered:R},r&&{onExit:x},l&&{onExiting:P},c&&{onExited:H},d&&{addEndListener:B},{children:typeof m=="function"?(q,Q)=>m(q,Object.assign({},Q,{ref:_})):I.cloneElement(m,{ref:_})})}const xD=["component"];function MD(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)>=0)continue;n[i]=t[i]}return n}const ND=I.forwardRef((t,e)=>{let{component:n}=t,i=MD(t,xD);const r=RD(i);return C.jsx(n,Object.assign({ref:e},r))});function ID({in:t,onTransition:e}){const n=I.useRef(null),i=I.useRef(!0),r=Ei(e);return O0(()=>{if(!n.current)return;let l=!1;return r({in:t,element:n.current,initial:i.current,isStale:()=>l}),()=>{l=!0}},[t,r]),O0(()=>(i.current=!1,()=>{i.current=!0}),[]),n}function DD({children:t,in:e,onExited:n,onEntered:i,transition:r}){const[l,c]=I.useState(!e);e&&l&&c(!1);const d=ID({in:!!e,onTransition:p=>{const y=()=>{p.isStale()||(p.in?i?.(p.element,p.initial):(c(!0),n?.(p.element)))};Promise.resolve(r(p)).then(y,_=>{throw p.in||c(!0),_})}}),m=Nc(d,cr(t));return l&&!e?null:I.cloneElement(t,{ref:m})}function H0(t,e,n){return t?C.jsx(ND,Object.assign({},n,{component:t})):e?C.jsx(DD,Object.assign({},n,{transition:e})):C.jsx(CD,Object.assign({},n))}const OD=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];function UD(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)>=0)continue;n[i]=t[i]}return n}let Oh;function LD(t){return Oh||(Oh=new mm({ownerDocument:t?.document})),Oh}function PD(t){const e=pm(),n=t||LD(e),i=I.useRef({dialog:null,backdrop:null});return Object.assign(i.current,{add:()=>n.add(i.current),remove:()=>n.remove(i.current),isTopModal:()=>n.isTopModal(i.current),setDialogRef:I.useCallback(r=>{i.current.dialog=r},[]),setBackdropRef:I.useCallback(r=>{i.current.backdrop=r},[])})}const RA=I.forwardRef((t,e)=>{let{show:n=!1,role:i="dialog",className:r,style:l,children:c,backdrop:d=!0,keyboard:m=!0,onBackdropClick:p,onEscapeKeyDown:y,transition:_,runTransition:S,backdropTransition:T,runBackdropTransition:b,autoFocus:R=!0,enforceFocus:x=!0,restoreFocus:P=!0,restoreFocusOptions:H,renderDialog:B,renderBackdrop:q=Qe=>C.jsx("div",Object.assign({},Qe)),manager:Q,container:K,onShow:$,onHide:oe=()=>{},onExit:Z,onExited:ae,onExiting:de,onEnter:He,onEntering:Ee,onEntered:$e}=t,nt=UD(t,OD);const G=pm(),W=AD(K),ie=PD(Q),Ne=$I(),ke=JI(n),[N,J]=I.useState(!n),j=I.useRef(null);I.useImperativeHandle(e,()=>ie,[ie]),wc&&!ke&&n&&(j.current=Ih(G?.document)),n&&N&&J(!1);const te=Ei(()=>{if(ie.add(),Wn.current=ec(document,"keydown",_t),Xe.current=ec(document,"focus",()=>setTimeout(Ae),!0),$&&$(),R){var Qe,jo;const vr=Ih((Qe=(jo=ie.dialog)==null?void 0:jo.ownerDocument)!=null?Qe:G?.document);ie.dialog&&vr&&!U0(ie.dialog,vr)&&(j.current=vr,ie.dialog.focus())}}),pe=Ei(()=>{if(ie.remove(),Wn.current==null||Wn.current(),Xe.current==null||Xe.current(),P){var Qe;(Qe=j.current)==null||Qe.focus==null||Qe.focus(H),j.current=null}});I.useEffect(()=>{!n||!W||te()},[n,W,te]),I.useEffect(()=>{N&&pe()},[N,pe]),ED(()=>{pe()});const Ae=Ei(()=>{if(!x||!Ne()||!ie.isTopModal())return;const Qe=Ih(G?.document);ie.dialog&&Qe&&!U0(ie.dialog,Qe)&&ie.dialog.focus()}),Ie=Ei(Qe=>{Qe.target===Qe.currentTarget&&(p?.(Qe),d===!0&&oe())}),_t=Ei(Qe=>{m&&MI(Qe)&&ie.isTopModal()&&(y?.(Qe),Qe.defaultPrevented||oe())}),Xe=I.useRef(),Wn=I.useRef(),Qo=(...Qe)=>{J(!0),ae?.(...Qe)};if(!W)return null;const Wo=Object.assign({role:i,ref:ie.setDialogRef,"aria-modal":i==="dialog"?!0:void 0},nt,{style:l,className:r,tabIndex:-1});let Zo=B?B(Wo):C.jsx("div",Object.assign({},Wo,{children:I.cloneElement(c,{role:"document"})}));Zo=H0(_,S,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!n,onExit:Z,onExiting:de,onExited:Qo,onEnter:He,onEntering:Ee,onEntered:$e,children:Zo});let rn=null;return d&&(rn=q({ref:ie.setBackdropRef,onClick:Ie}),rn=H0(T,b,{in:!!n,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:rn})),C.jsx(C.Fragment,{children:js.createPortal(C.jsxs(C.Fragment,{children:[rn,Zo]}),W)})});RA.displayName="Modal";const kD=Object.assign(RA,{Manager:mm});function BD(t,e){return t.classList?t.classList.contains(e):(" "+(t.className.baseVal||t.className)+" ").indexOf(" "+e+" ")!==-1}function HD(t,e){t.classList?t.classList.add(e):BD(t,e)||(typeof t.className=="string"?t.className=t.className+" "+e:t.setAttribute("class",(t.className&&t.className.baseVal||"")+" "+e))}function G0(t,e){return t.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function GD(t,e){t.classList?t.classList.remove(e):typeof t.className=="string"?t.className=G0(t.className,e):t.setAttribute("class",G0(t.className&&t.className.baseVal||"",e))}const Gs={FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top",NAVBAR_TOGGLER:".navbar-toggler"};class xA extends mm{adjustAndStore(e,n,i){const r=n.style[e];n.dataset[e]=r,Ci(n,{[e]:`${parseFloat(Ci(n,e))+i}px`})}restore(e,n){const i=n.dataset[e];i!==void 0&&(delete n.dataset[e],Ci(n,{[e]:i}))}setContainerStyle(e){super.setContainerStyle(e);const n=this.getElement();if(HD(n,"modal-open"),!e.scrollBarWidth)return;const i=this.isRTL?"paddingLeft":"paddingRight",r=this.isRTL?"marginLeft":"marginRight";Oo(n,Gs.FIXED_CONTENT).forEach(l=>this.adjustAndStore(i,l,e.scrollBarWidth)),Oo(n,Gs.STICKY_CONTENT).forEach(l=>this.adjustAndStore(r,l,-e.scrollBarWidth)),Oo(n,Gs.NAVBAR_TOGGLER).forEach(l=>this.adjustAndStore(r,l,e.scrollBarWidth))}removeContainerStyle(e){super.removeContainerStyle(e);const n=this.getElement();GD(n,"modal-open");const i=this.isRTL?"paddingLeft":"paddingRight",r=this.isRTL?"marginLeft":"marginRight";Oo(n,Gs.FIXED_CONTENT).forEach(l=>this.restore(i,l)),Oo(n,Gs.STICKY_CONTENT).forEach(l=>this.restore(r,l)),Oo(n,Gs.NAVBAR_TOGGLER).forEach(l=>this.restore(r,l))}}let Uh;function VD(t){return Uh||(Uh=new xA(t)),Uh}const MA=I.createContext({onHide(){}}),NA=I.forwardRef(({closeLabel:t="Close",closeVariant:e,closeButton:n=!1,onHide:i,children:r,...l},c)=>{const d=I.useContext(MA),m=xc(()=>{d?.onHide(),i?.()});return C.jsxs("div",{ref:c,...l,children:[r,n&&C.jsx(um,{"aria-label":t,variant:e,onClick:m})]})});NA.displayName="AbstractModalHeader";const IA=I.forwardRef(({className:t,bsPrefix:e,as:n="div",...i},r)=>(e=Ye(e,"nav-item"),C.jsx(n,{ref:r,className:Le(t,e),...i})));IA.displayName="NavItem";const DA=I.forwardRef(({bsPrefix:t,className:e,as:n=uA,active:i,eventKey:r,disabled:l=!1,...c},d)=>{t=Ye(t,"nav-link");const[m,p]=CA({key:dm(r,c.href),active:i,disabled:l,...c});return C.jsx(n,{...c,...m,ref:d,disabled:l,className:Le(e,t,l&&"disabled",p.isActive&&"active")})});DA.displayName="NavLink";const OA=I.forwardRef((t,e)=>{const{as:n="div",bsPrefix:i,variant:r,fill:l=!1,justify:c=!1,navbar:d,navbarScroll:m,className:p,activeKey:y,..._}=tA(t,{activeKey:"onSelect"}),S=Ye(i,"nav");let T,b,R=!1;const x=I.useContext(fr),P=I.useContext(fm);return x?(T=x.bsPrefix,R=d??!0):P&&({cardHeaderBsPrefix:b}=P),C.jsx(_D,{as:n,ref:e,activeKey:y,className:Le(p,{[S]:!R,[`${T}-nav`]:R,[`${T}-nav-scroll`]:R&&m,[`${b}-${r}`]:!!b,[`${S}-${r}`]:!!r,[`${S}-fill`]:l,[`${S}-justified`]:c}),..._})});OA.displayName="Nav";const qD=Object.assign(OA,{Item:IA,Link:DA}),UA=I.forwardRef(({bsPrefix:t,className:e,as:n,...i},r)=>{t=Ye(t,"navbar-brand");const l=n||(i.href?"a":"span");return C.jsx(l,{...i,ref:r,className:Le(e,t)})});UA.displayName="NavbarBrand";const LA=I.forwardRef(({children:t,bsPrefix:e,...n},i)=>{e=Ye(e,"navbar-collapse");const r=I.useContext(fr);return C.jsx(rA,{in:!!(r&&r.expanded),...n,children:C.jsx("div",{ref:i,className:e,children:t})})});LA.displayName="NavbarCollapse";const PA=I.forwardRef(({bsPrefix:t,className:e,children:n,label:i="Toggle navigation",as:r="button",onClick:l,...c},d)=>{t=Ye(t,"navbar-toggler");const{onToggle:m,expanded:p}=I.useContext(fr)||{},y=xc(_=>{l&&l(_),m&&m()});return r==="button"&&(c.type="button"),C.jsx(r,{...c,ref:d,onClick:y,"aria-label":i,className:Le(e,t,!p&&"collapsed"),children:n||C.jsx("span",{className:`${t}-icon`})})});PA.displayName="NavbarToggle";const dp=new WeakMap,V0=(t,e)=>{if(!t||!e)return;const n=dp.get(e)||new Map;dp.set(e,n);let i=n.get(t);return i||(i=e.matchMedia(t),i.refCount=0,n.set(i.media,i)),i};function FD(t,e=typeof window>"u"?void 0:window){const n=V0(t,e),[i,r]=I.useState(()=>n?n.matches:!1);return hD(()=>{let l=V0(t,e);if(!l)return r(!1);let c=dp.get(e);const d=()=>{r(l.matches)};return l.refCount++,l.addListener(d),d(),()=>{l.removeListener(d),l.refCount--,l.refCount<=0&&c?.delete(l.media),l=void 0}},[t]),i}function zD(t){const e=Object.keys(t);function n(d,m){return d===m?m:d?`${d} and ${m}`:m}function i(d){return e[Math.min(e.indexOf(d)+1,e.length-1)]}function r(d){const m=i(d);let p=t[m];return typeof p=="number"?p=`${p-.2}px`:p=`calc(${p} - 0.2px)`,`(max-width: ${p})`}function l(d){let m=t[d];return typeof m=="number"&&(m=`${m}px`),`(min-width: ${m})`}function c(d,m,p){let y;typeof d=="object"?(y=d,p=m,m=!0):(m=m||!0,y={[d]:m});let _=I.useMemo(()=>Object.entries(y).reduce((S,[T,b])=>((b==="up"||b===!0)&&(S=n(S,l(T))),(b==="down"||b===!0)&&(S=n(S,r(T))),S),""),[JSON.stringify(y)]);return FD(_,p)}return c}const $D=zD({xs:0,sm:576,md:768,lg:992,xl:1200,xxl:1400}),kA=I.forwardRef(({className:t,bsPrefix:e,as:n="div",...i},r)=>(e=Ye(e,"offcanvas-body"),C.jsx(n,{ref:r,className:Le(t,e),...i})));kA.displayName="OffcanvasBody";const JD={[Mn]:"show",[Si]:"show"},BA=I.forwardRef(({bsPrefix:t,className:e,children:n,in:i=!1,mountOnEnter:r=!1,unmountOnExit:l=!1,appear:c=!1,...d},m)=>(t=Ye(t,"offcanvas"),C.jsx(Rc,{ref:m,addEndListener:am,in:i,mountOnEnter:r,unmountOnExit:l,appear:c,...d,childRef:cr(n),children:(p,y)=>I.cloneElement(n,{...y,className:Le(e,n.props.className,(p===Mn||p===Ua)&&`${t}-toggling`,JD[p])})})));BA.displayName="OffcanvasToggling";const HA=I.forwardRef(({bsPrefix:t,className:e,closeLabel:n="Close",closeButton:i=!1,...r},l)=>(t=Ye(t,"offcanvas-header"),C.jsx(NA,{ref:l,...r,className:Le(e,t),closeLabel:n,closeButton:i})));HA.displayName="OffcanvasHeader";const YD=lm("h5"),GA=I.forwardRef(({className:t,bsPrefix:e,as:n=YD,...i},r)=>(e=Ye(e,"offcanvas-title"),C.jsx(n,{ref:r,className:Le(t,e),...i})));GA.displayName="OffcanvasTitle";function KD(t){return C.jsx(BA,{...t})}function XD(t){return C.jsx(cA,{...t})}const VA=I.forwardRef(({bsPrefix:t,className:e,children:n,"aria-labelledby":i,placement:r="start",responsive:l,show:c=!1,backdrop:d=!0,keyboard:m=!0,scroll:p=!1,onEscapeKeyDown:y,onShow:_,onHide:S,container:T,autoFocus:b=!0,enforceFocus:R=!0,restoreFocus:x=!0,restoreFocusOptions:P,onEntered:H,onExit:B,onExiting:q,onEnter:Q,onEntering:K,onExited:$,backdropClassName:oe,manager:Z,renderStaticNode:ae=!1,...de},He)=>{const Ee=I.useRef();t=Ye(t,"offcanvas");const[$e,nt]=I.useState(!1),G=xc(S),W=$D(l||"xs","up");I.useEffect(()=>{nt(l?c&&!W:c)},[c,l,W]);const ie=I.useMemo(()=>({onHide:G}),[G]);function Ne(){return Z||(p?(Ee.current||(Ee.current=new xA({handleContainerOverflow:!1})),Ee.current):VD())}const ke=(te,...pe)=>{te&&(te.style.visibility="visible"),Q?.(te,...pe)},N=(te,...pe)=>{te&&(te.style.visibility=""),$?.(...pe)},J=I.useCallback(te=>C.jsx("div",{...te,className:Le(`${t}-backdrop`,oe)}),[oe,t]),j=te=>C.jsx("div",{...te,...de,className:Le(e,l?`${t}-${l}`:t,`${t}-${r}`),"aria-labelledby":i,children:n});return C.jsxs(C.Fragment,{children:[!$e&&(l||ae)&&j({}),C.jsx(MA.Provider,{value:ie,children:C.jsx(kD,{show:$e,ref:He,backdrop:d,container:T,keyboard:m,autoFocus:b,enforceFocus:R&&!p,restoreFocus:x,restoreFocusOptions:P,onEscapeKeyDown:y,onShow:_,onHide:G,onEnter:ke,onEntering:K,onEntered:H,onExit:B,onExiting:q,onExited:N,manager:Ne(),transition:KD,backdropTransition:XD,renderBackdrop:J,renderDialog:j})})]})});VA.displayName="Offcanvas";const QD=Object.assign(VA,{Body:kA,Header:HA,Title:GA}),qA=I.forwardRef(({onHide:t,...e},n)=>{const i=I.useContext(fr),r=xc(()=>{i==null||i.onToggle==null||i.onToggle(),t?.()});return C.jsx(QD,{ref:n,show:!!(i!=null&&i.expanded),...e,renderStaticNode:!0,onHide:r})});qA.displayName="NavbarOffcanvas";const FA=I.forwardRef(({className:t,bsPrefix:e,as:n="span",...i},r)=>(e=Ye(e,"navbar-text"),C.jsx(n,{ref:r,className:Le(t,e),...i})));FA.displayName="NavbarText";const zA=I.forwardRef((t,e)=>{const{bsPrefix:n,expand:i=!0,variant:r="light",bg:l,fixed:c,sticky:d,className:m,as:p="nav",expanded:y,onToggle:_,onSelect:S,collapseOnSelect:T=!1,...b}=tA(t,{expanded:"onToggle"}),R=Ye(n,"navbar"),x=I.useCallback((...B)=>{S?.(...B),T&&y&&_?.(!1)},[S,T,y,_]);b.role===void 0&&p!=="nav"&&(b.role="navigation");let P=`${R}-expand`;typeof i=="string"&&(P=`${P}-${i}`);const H=I.useMemo(()=>({onToggle:()=>_?.(!y),bsPrefix:R,expanded:!!y,expand:i}),[R,y,i,_]);return C.jsx(fr.Provider,{value:H,children:C.jsx(tc.Provider,{value:x,children:C.jsx(p,{ref:e,...b,className:Le(m,R,i&&P,r&&`${R}-${r}`,l&&`bg-${l}`,d&&`sticky-${d}`,c&&`fixed-${c}`)})})})});zA.displayName="Navbar";const q0=Object.assign(zA,{Brand:UA,Collapse:LA,Offcanvas:qA,Text:FA,Toggle:PA}),$A=I.forwardRef(({bsPrefix:t,className:e,as:n="div",...i},r)=>{const l=Ye(t,"row"),c=nA(),d=iA(),m=`${l}-cols`,p=[];return c.forEach(y=>{const _=i[y];delete i[y];let S;_!=null&&typeof _=="object"?{cols:S}=_:S=_;const T=y!==d?`-${y}`:"";S!=null&&p.push(`${m}${T}-${S}`)}),C.jsx(n,{ref:r,...i,className:Le(e,l,...p)})});$A.displayName="Row";const JA=I.forwardRef(({bsPrefix:t,variant:e,animation:n="border",size:i,as:r="div",className:l,...c},d)=>{t=Ye(t,"spinner");const m=`${t}-${n}`;return C.jsx(r,{ref:d,...c,className:Le(l,m,i&&`${m}-${i}`,e&&`text-${e}`)})});JA.displayName="Spinner";const YA=({name:t,onClick:e,subItems:n})=>{const[i,r]=I.useState(!1);return C.jsxs("div",{onMouseEnter:()=>r(!0),onMouseLeave:()=>r(!1),style:{position:"relative"},children:[C.jsxs("div",{className:"dropdown-item d-flex justify-content-between",style:{cursor:"pointer"},onClick:e,children:[t," ",n?C.jsx("span",{children:""}):null]}),n&&i&&C.jsx("div",{className:"dropdown-menu show",style:{position:"absolute",top:0,left:"100%",minWidth:"180px",zIndex:1e3},children:n.map((l,c)=>C.jsx(YA,{name:l.name,onClick:l.onClick,subItems:l.subItems},c))})]})},Vs=({title:t,items:e,onClick:n})=>{const[i,r]=I.useState(!1),l=e&&e.length>0;return C.jsxs("div",{className:"nav-item dropdown",onMouseEnter:()=>r(!0),onMouseLeave:()=>r(!1),style:{position:"relative"},children:[C.jsx("span",{className:"nav-link dropdown-toggle",style:{cursor:l||n?"pointer":"default"},onClick:()=>{n&&n()},children:t}),i&&l&&C.jsx("div",{className:"dropdown-menu show",style:{minWidth:"180px"},children:e.map((c,d)=>C.jsx(YA,{...c},d))})]})};class zo{fileHandle;data;constructor(e,n){this.fileHandle=e,this.data=vt(n),co(this)}static async create(e,n,i={}){try{const r=await e.getFileHandle(n,{create:!0}),c=await(await r.getFile()).text(),d=c.trim()===""?{...i}:{...i,...JSON.parse(c)};return new zo(r,d)}catch(r){console.error("Error loading JSON:",r);const l=await e.getFileHandle(n,{create:!0});return new zo(l,{...i})}}async save(){try{let e=await this.fileHandle.queryPermission({mode:"readwrite"});if(e!=="granted"&&(e=await this.fileHandle.requestPermission({mode:"readwrite"})),e!=="granted")throw new Error("No permission to write file");const n=await this.fileHandle.createWritable();await n.write(JSON.stringify(this.data,null,2)),await n.close()}catch(e){console.error("Error saving JSON:",e)}}async updateField(e,n){gt(()=>{this.data[e]=n}),await this.save()}}class $o{handle;urlObject=null;base64Data=null;constructor(e){this.handle=e}async getUrlObject(){if(!this.urlObject)try{const e=await this.handle.getFile();this.urlObject=URL.createObjectURL(e)}catch(e){console.error("Failed to create object URL for file:",e),this.urlObject=""}return this.urlObject}revokeUrl(){this.urlObject&&(URL.revokeObjectURL(this.urlObject),this.urlObject=null)}static async fromUrl(e,n){try{const i=await fetch(e);if(!i.ok)throw new Error(`Failed to fetch image: ${i.statusText}`);const r=await i.blob(),l=e.split("/");let c=l[l.length-1];const d=await n.getFileHandle(c,{create:!0}),m=await d.createWritable();return await m.write(r),await m.close(),new $o(d)}catch(i){throw console.error("Failed to create LocalImage from URL:",i),i}}async delete(e){try{this.revokeUrl(),await e.removeEntry(this.handle.name)}catch(n){throw console.error("Failed to delete image file:",n),n}}async getBase64(){if(this.base64Data)return this.base64Data;try{const e=await this.handle.getFile(),n=await e.arrayBuffer(),i=e.type||"image/png",r=WD(n);return this.base64Data={rawBase64:r,mime:i},this.base64Data}catch(e){return console.error("Failed to create Base64 from file:",e),{rawBase64:"",mime:"image/png"}}}static async fromBase64(e,n,i){try{let r=e.rawBase64;const l=`data:${e.mime};base64,`;r.startsWith(l)&&(r=r.slice(l.length));const c=atob(r),d=c.length,m=new Uint8Array(d);for(let S=0;S<d;S++)m[S]=c.charCodeAt(S);const p=await n.getFileHandle(i,{create:!0}),y=await p.createWritable();await y.write(m),await y.close();const _=new $o(p);return _.base64Data=e,_}catch(r){throw console.error("Failed to create LocalImage from Base64:",r),r}}}function WD(t){let e="";const n=new Uint8Array(t),i=n.byteLength;for(let r=0;r<i;r++)e+=String.fromCharCode(n[r]);return btoa(e)}var ZD={};let jD,e1;function t1(){return{geminiUrl:jD,vertexUrl:e1}}function n1(t,e,n,i){var r,l;if(!t?.baseUrl){const c=t1();return e?(r=c.vertexUrl)!==null&&r!==void 0?r:n:(l=c.geminiUrl)!==null&&l!==void 0?l:i}return t.baseUrl}class Mi{}function ne(t,e){const n=/\{([^}]+)\}/g;return t.replace(n,(i,r)=>{if(Object.prototype.hasOwnProperty.call(e,r)){const l=e[r];return l!=null?String(l):""}else throw new Error(`Key '${r}' not found in valueMap.`)})}function h(t,e,n){for(let l=0;l<e.length-1;l++){const c=e[l];if(c.endsWith("[]")){const d=c.slice(0,-2);if(!(d in t))if(Array.isArray(n))t[d]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${c}`);if(Array.isArray(t[d])){const m=t[d];if(Array.isArray(n))for(let p=0;p<m.length;p++){const y=m[p];h(y,e.slice(l+1),n[p])}else for(const p of m)h(p,e.slice(l+1),n)}return}else if(c.endsWith("[0]")){const d=c.slice(0,-3);d in t||(t[d]=[{}]);const m=t[d];h(m[0],e.slice(l+1),n);return}(!t[c]||typeof t[c]!="object")&&(t[c]={}),t=t[c]}const i=e[e.length-1],r=t[i];if(r!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===r)return;if(typeof r=="object"&&typeof n=="object"&&r!==null&&n!==null)Object.assign(r,n);else throw new Error(`Cannot set value for an existing key. Key: ${i}`)}else i==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(t,n):t[i]=n}function f(t,e,n=void 0){try{if(e.length===1&&e[0]==="_self")return t;for(let i=0;i<e.length;i++){if(typeof t!="object"||t===null)return n;const r=e[i];if(r.endsWith("[]")){const l=r.slice(0,-2);if(l in t){const c=t[l];return Array.isArray(c)?c.map(d=>f(d,e.slice(i+1),n)):n}else return n}else t=t[r]}return t}catch(i){if(i instanceof TypeError)return n;throw i}}function i1(t,e){for(const[n,i]of Object.entries(e)){const r=n.split("."),l=i.split("."),c=new Set;let d=-1;for(let m=0;m<r.length;m++)if(r[m]==="*"){d=m;break}if(d!==-1&&l.length>d)for(let m=d;m<l.length;m++){const p=l[m];p!=="*"&&!p.endsWith("[]")&&!p.endsWith("[0]")&&c.add(p)}hp(t,r,l,0,c)}}function hp(t,e,n,i,r){if(i>=e.length||typeof t!="object"||t===null)return;const l=e[i];if(l.endsWith("[]")){const c=l.slice(0,-2),d=t;if(c in d&&Array.isArray(d[c]))for(const m of d[c])hp(m,e,n,i+1,r)}else if(l==="*"){if(typeof t=="object"&&t!==null&&!Array.isArray(t)){const c=t,d=Object.keys(c).filter(p=>!p.startsWith("_")&&!r.has(p)),m={};for(const p of d)m[p]=c[p];for(const[p,y]of Object.entries(m)){const _=[];for(const S of n.slice(i))S==="*"?_.push(p):_.push(S);h(c,_,y)}for(const p of d)delete c[p]}}else{const c=t;l in c&&hp(c[l],e,n,i+1,r)}}function gm(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}function o1(t){const e={},n=f(t,["operationName"]);n!=null&&h(e,["operationName"],n);const i=f(t,["resourceName"]);return i!=null&&h(e,["_url","resourceName"],i),e}function s1(t){const e={},n=f(t,["name"]);n!=null&&h(e,["name"],n);const i=f(t,["metadata"]);i!=null&&h(e,["metadata"],i);const r=f(t,["done"]);r!=null&&h(e,["done"],r);const l=f(t,["error"]);l!=null&&h(e,["error"],l);const c=f(t,["response","generateVideoResponse"]);return c!=null&&h(e,["response"],a1(c)),e}function r1(t){const e={},n=f(t,["name"]);n!=null&&h(e,["name"],n);const i=f(t,["metadata"]);i!=null&&h(e,["metadata"],i);const r=f(t,["done"]);r!=null&&h(e,["done"],r);const l=f(t,["error"]);l!=null&&h(e,["error"],l);const c=f(t,["response"]);return c!=null&&h(e,["response"],l1(c)),e}function a1(t){const e={},n=f(t,["generatedSamples"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(c=>u1(c))),h(e,["generatedVideos"],l)}const i=f(t,["raiMediaFilteredCount"]);i!=null&&h(e,["raiMediaFilteredCount"],i);const r=f(t,["raiMediaFilteredReasons"]);return r!=null&&h(e,["raiMediaFilteredReasons"],r),e}function l1(t){const e={},n=f(t,["videos"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(c=>c1(c))),h(e,["generatedVideos"],l)}const i=f(t,["raiMediaFilteredCount"]);i!=null&&h(e,["raiMediaFilteredCount"],i);const r=f(t,["raiMediaFilteredReasons"]);return r!=null&&h(e,["raiMediaFilteredReasons"],r),e}function u1(t){const e={},n=f(t,["video"]);return n!=null&&h(e,["video"],g1(n)),e}function c1(t){const e={},n=f(t,["_self"]);return n!=null&&h(e,["video"],v1(n)),e}function f1(t){const e={},n=f(t,["operationName"]);return n!=null&&h(e,["_url","operationName"],n),e}function d1(t){const e={},n=f(t,["operationName"]);return n!=null&&h(e,["_url","operationName"],n),e}function h1(t){const e={},n=f(t,["name"]);n!=null&&h(e,["name"],n);const i=f(t,["metadata"]);i!=null&&h(e,["metadata"],i);const r=f(t,["done"]);r!=null&&h(e,["done"],r);const l=f(t,["error"]);l!=null&&h(e,["error"],l);const c=f(t,["response"]);return c!=null&&h(e,["response"],p1(c)),e}function p1(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&h(e,["sdkHttpResponse"],n);const i=f(t,["parent"]);i!=null&&h(e,["parent"],i);const r=f(t,["documentName"]);return r!=null&&h(e,["documentName"],r),e}function KA(t){const e={},n=f(t,["name"]);n!=null&&h(e,["name"],n);const i=f(t,["metadata"]);i!=null&&h(e,["metadata"],i);const r=f(t,["done"]);r!=null&&h(e,["done"],r);const l=f(t,["error"]);l!=null&&h(e,["error"],l);const c=f(t,["response"]);return c!=null&&h(e,["response"],m1(c)),e}function m1(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&h(e,["sdkHttpResponse"],n);const i=f(t,["parent"]);i!=null&&h(e,["parent"],i);const r=f(t,["documentName"]);return r!=null&&h(e,["documentName"],r),e}function g1(t){const e={},n=f(t,["uri"]);n!=null&&h(e,["uri"],n);const i=f(t,["encodedVideo"]);i!=null&&h(e,["videoBytes"],gm(i));const r=f(t,["encoding"]);return r!=null&&h(e,["mimeType"],r),e}function v1(t){const e={},n=f(t,["gcsUri"]);n!=null&&h(e,["uri"],n);const i=f(t,["bytesBase64Encoded"]);i!=null&&h(e,["videoBytes"],gm(i));const r=f(t,["mimeType"]);return r!=null&&h(e,["mimeType"],r),e}var F0;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(F0||(F0={}));var z0;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(z0||(z0={}));var $0;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})($0||($0={}));var ro;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(ro||(ro={}));var J0;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(J0||(J0={}));var Y0;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(Y0||(Y0={}));var K0;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(K0||(K0={}));var X0;(function(t){t.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",t.HTTP_IN_QUERY="HTTP_IN_QUERY",t.HTTP_IN_HEADER="HTTP_IN_HEADER",t.HTTP_IN_PATH="HTTP_IN_PATH",t.HTTP_IN_BODY="HTTP_IN_BODY",t.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(X0||(X0={}));var Q0;(function(t){t.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",t.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",t.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",t.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(Q0||(Q0={}));var W0;(function(t){t.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",t.LOW="LOW",t.HIGH="HIGH"})(W0||(W0={}));var Z0;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(Z0||(Z0={}));var j0;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(j0||(j0={}));var eS;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(eS||(eS={}));var tS;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",t.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",t.NO_IMAGE="NO_IMAGE",t.IMAGE_RECITATION="IMAGE_RECITATION",t.IMAGE_OTHER="IMAGE_OTHER"})(tS||(tS={}));var nS;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(nS||(nS={}));var iS;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(iS||(iS={}));var oS;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",t.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",t.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(oS||(oS={}));var sS;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY",t.MODEL_ARMOR="MODEL_ARMOR",t.JAILBREAK="JAILBREAK"})(sS||(sS={}));var rS;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(rS||(rS={}));var nc;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(nc||(nc={}));var aS;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(aS||(aS={}));var lS;(function(t){t.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",t.TUNING_MODE_FULL="TUNING_MODE_FULL",t.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(lS||(lS={}));var uS;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(uS||(uS={}));var pp;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(pp||(pp={}));var cS;(function(t){t.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",t.TUNING_TASK_I2V="TUNING_TASK_I2V",t.TUNING_TASK_T2V="TUNING_TASK_T2V",t.TUNING_TASK_R2V="TUNING_TASK_R2V"})(cS||(cS={}));var fS;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(fS||(fS={}));var dS;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(dS||(dS={}));var hS;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(hS||(hS={}));var pS;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(pS||(pS={}));var mS;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(mS||(mS={}));var gS;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE",t.VALIDATED="VALIDATED"})(gS||(gS={}));var vS;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(vS||(vS={}));var yS;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(yS||(yS={}));var _S;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(_S||(_S={}));var SS;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(SS||(SS={}));var ES;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(ES||(ES={}));var TS;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(TS||(TS={}));var AS;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(AS||(AS={}));var CS;(function(t){t.FOREGROUND="FOREGROUND",t.BACKGROUND="BACKGROUND",t.PROMPT="PROMPT",t.SEMANTIC="SEMANTIC",t.INTERACTIVE="INTERACTIVE"})(CS||(CS={}));var bS;(function(t){t.ASSET="ASSET",t.STYLE="STYLE"})(bS||(bS={}));var wS;(function(t){t.INSERT="INSERT",t.REMOVE="REMOVE",t.REMOVE_STATIC="REMOVE_STATIC",t.OUTPAINT="OUTPAINT"})(wS||(wS={}));var RS;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(RS||(RS={}));var xS;(function(t){t.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",t.PREFERENCE_TUNING="PREFERENCE_TUNING"})(xS||(xS={}));var MS;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.STATE_PENDING="STATE_PENDING",t.STATE_ACTIVE="STATE_ACTIVE",t.STATE_FAILED="STATE_FAILED"})(MS||(MS={}));var NS;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(NS||(NS={}));var IS;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED"})(IS||(IS={}));var DS;(function(t){t.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.RESPONSE_REJECTED="RESPONSE_REJECTED",t.NEED_MORE_INPUT="NEED_MORE_INPUT"})(DS||(DS={}));var OS;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(OS||(OS={}));var US;(function(t){t.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",t.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",t.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(US||(US={}));var LS;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(LS||(LS={}));var PS;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(PS||(PS={}));var kS;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(kS||(kS={}));var BS;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(BS||(BS={}));var HS;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(HS||(HS={}));var GS;(function(t){t.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",t.QUALITY="QUALITY",t.DIVERSITY="DIVERSITY",t.VOCALIZATION="VOCALIZATION"})(GS||(GS={}));var er;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(er||(er={}));class mp{constructor(e){const n={};for(const i of e.headers.entries())n[i[0]]=i[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class ha{get text(){var e,n,i,r,l,c,d,m;if(((r=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let p="",y=!1;const _=[];for(const S of(m=(d=(c=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||c===void 0?void 0:c.content)===null||d===void 0?void 0:d.parts)!==null&&m!==void 0?m:[]){for(const[T,b]of Object.entries(S))T!=="text"&&T!=="thought"&&T!=="thoughtSignature"&&(b!==null||b!==void 0)&&_.push(T);if(typeof S.text=="string"){if(typeof S.thought=="boolean"&&S.thought)continue;y=!0,p+=S.text}}return _.length>0&&console.warn(`there are non-text parts ${_} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),y?p:void 0}get data(){var e,n,i,r,l,c,d,m;if(((r=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let p="";const y=[];for(const _ of(m=(d=(c=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||c===void 0?void 0:c.content)===null||d===void 0?void 0:d.parts)!==null&&m!==void 0?m:[]){for(const[S,T]of Object.entries(_))S!=="inlineData"&&(T!==null||T!==void 0)&&y.push(S);_.inlineData&&typeof _.inlineData.data=="string"&&(p+=atob(_.inlineData.data))}return y.length>0&&console.warn(`there are non-data parts ${y} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),p.length>0?btoa(p):void 0}get functionCalls(){var e,n,i,r,l,c,d,m;if(((r=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const p=(m=(d=(c=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||c===void 0?void 0:c.content)===null||d===void 0?void 0:d.parts)===null||m===void 0?void 0:m.filter(y=>y.functionCall).map(y=>y.functionCall).filter(y=>y!==void 0);if(p?.length!==0)return p}get executableCode(){var e,n,i,r,l,c,d,m,p;if(((r=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const y=(m=(d=(c=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||c===void 0?void 0:c.content)===null||d===void 0?void 0:d.parts)===null||m===void 0?void 0:m.filter(_=>_.executableCode).map(_=>_.executableCode).filter(_=>_!==void 0);if(y?.length!==0)return(p=y?.[0])===null||p===void 0?void 0:p.code}get codeExecutionResult(){var e,n,i,r,l,c,d,m,p;if(((r=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const y=(m=(d=(c=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||c===void 0?void 0:c.content)===null||d===void 0?void 0:d.parts)===null||m===void 0?void 0:m.filter(_=>_.codeExecutionResult).map(_=>_.codeExecutionResult).filter(_=>_!==void 0);if(y?.length!==0)return(p=y?.[0])===null||p===void 0?void 0:p.output}}class VS{}class qS{}class y1{}class _1{}class S1{}class E1{}class FS{}class zS{}class $S{}class T1{}class ic{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const i=new ic;let r;const l=e;return n?r=r1(l):r=s1(l),Object.assign(i,r),i}}class JS{}class YS{}class KS{}class XS{}class A1{}class C1{}class b1{}class vm{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const i=new vm,l=h1(e);return Object.assign(i,l),i}}class w1{}class R1{}class x1{}class QS{}class M1{get text(){var e,n,i;let r="",l=!1;const c=[];for(const d of(i=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&i!==void 0?i:[]){for(const[m,p]of Object.entries(d))m!=="text"&&m!=="thought"&&p!==null&&c.push(m);if(typeof d.text=="string"){if(typeof d.thought=="boolean"&&d.thought)continue;l=!0,r+=d.text}}return c.length>0&&console.warn(`there are non-text parts ${c} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),l?r:void 0}get data(){var e,n,i;let r="";const l=[];for(const c of(i=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&i!==void 0?i:[]){for(const[d,m]of Object.entries(c))d!=="inlineData"&&m!==null&&l.push(d);c.inlineData&&typeof c.inlineData.data=="string"&&(r+=atob(c.inlineData.data))}return l.length>0&&console.warn(`there are non-data parts ${l} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),r.length>0?btoa(r):void 0}}class N1{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class ym{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const i=new ym,l=KA(e);return Object.assign(i,l),i}}function Pe(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function XA(t,e){const n=Pe(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function QA(t){return Array.isArray(t)?t.map(e=>oc(e)):[oc(t)]}function oc(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function WA(t){const e=oc(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function ZA(t){const e=oc(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function WS(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function jA(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>WS(e)):[WS(t)]}function gp(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function ZS(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function jS(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function Nt(t){if(t==null)throw new Error("ContentUnion is required");return gp(t)?t:{role:"user",parts:jA(t)}}function _m(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{const i=Nt(n);return i.parts&&i.parts.length>0&&i.parts[0].text!==void 0?[i.parts[0].text]:[]});if(t.isVertexAI()){const n=Nt(e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>Nt(n)):[Nt(e)]}function Tn(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(ZS(t)||jS(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[Nt(t)]}const e=[],n=[],i=gp(t[0]);for(const r of t){const l=gp(r);if(l!=i)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(l)e.push(r);else{if(ZS(r)||jS(r))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(r)}}return i||e.push({role:"user",parts:jA(n)}),e}function I1(t,e){t.includes("null")&&(e.nullable=!0);const n=t.filter(i=>i!=="null");if(n.length===1)e.type=Object.values(ro).includes(n[0].toUpperCase())?n[0].toUpperCase():ro.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const i of n)e.anyOf.push({type:Object.values(ro).includes(i.toUpperCase())?i.toUpperCase():ro.TYPE_UNSPECIFIED})}}function nr(t){const e={},n=["items"],i=["anyOf"],r=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const l=t.anyOf;l!=null&&l.length==2&&(l[0].type==="null"?(e.nullable=!0,t=l[1]):l[1].type==="null"&&(e.nullable=!0,t=l[0])),t.type instanceof Array&&I1(t.type,e);for(const[c,d]of Object.entries(t))if(d!=null)if(c=="type"){if(d==="null")throw new Error("type: null can not be the only possible type for the field.");if(d instanceof Array)continue;e.type=Object.values(ro).includes(d.toUpperCase())?d.toUpperCase():ro.TYPE_UNSPECIFIED}else if(n.includes(c))e[c]=nr(d);else if(i.includes(c)){const m=[];for(const p of d){if(p.type=="null"){e.nullable=!0;continue}m.push(nr(p))}e[c]=m}else if(r.includes(c)){const m={};for(const[p,y]of Object.entries(d))m[p]=nr(y);e[c]=m}else{if(c==="additionalProperties")continue;e[c]=d}return e}function Sm(t){return nr(t)}function Em(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function Tm(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function dr(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=nr(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=nr(e.response));return t}function hr(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const n of t)e.push(n);return e}function D1(t,e,n,i=1){const r=!e.startsWith(`${n}/`)&&e.split("/").length===i;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:r?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:r?`${n}/${e}`:e}function Ni(t,e){if(typeof e!="string")throw new Error("name must be a string");return D1(t,e,"cachedContents")}function eC(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function po(t){return gm(t)}function O1(t){return t!=null&&typeof t=="object"&&"name"in t}function U1(t){return t!=null&&typeof t=="object"&&"video"in t}function L1(t){return t!=null&&typeof t=="object"&&"uri"in t}function tC(t){var e;let n;if(O1(t)&&(n=t.name),!(L1(t)&&(n=t.uri,n===void 0))&&!(U1(t)&&(n=(e=t.video)===null||e===void 0?void 0:e.uri,n===void 0))){if(typeof t=="string"&&(n=t),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const r=n.split("files/")[1].match(/[a-z0-9]+/);if(r===null)throw new Error(`Could not extract file name from URI ${n}`);n=r[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function nC(t,e){let n;return t.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function iC(t){for(const e of["models","tunedModels","publisherModels"])if(P1(t,e))return t[e];return[]}function P1(t,e){return t!==null&&typeof t=="object"&&e in t}function k1(t,e={}){const n=t,i={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(i.responseJsonSchema=n.outputSchema),e.behavior&&(i.behavior=e.behavior),{functionDeclarations:[i]}}function B1(t,e={}){const n=[],i=new Set;for(const r of t){const l=r.name;if(i.has(l))throw new Error(`Duplicate function name ${l} found in MCP tools. Please ensure function names are unique.`);i.add(l);const c=k1(r,e);c.functionDeclarations&&n.push(...c.functionDeclarations)}return{functionDeclarations:n}}function oC(t,e){let n;if(typeof e=="string")if(t.isVertexAI())if(e.startsWith("gs://"))n={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))n={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))n={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(t.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:e}}else n=e;const i=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,r=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(t.isVertexAI()){if(r>0||i!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(i>0||r!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function H1(t){if(typeof t!="string")return t;const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function sC(t){if(typeof t!="object"||t===null)return{};const e=t,n=e.inlinedResponses;if(typeof n!="object"||n===null)return t;const r=n.inlinedResponses;if(!Array.isArray(r)||r.length===0)return t;let l=!1;for(const c of r){if(typeof c!="object"||c===null)continue;const m=c.response;if(typeof m!="object"||m===null)continue;if(m.embedding!==void 0){l=!0;break}}return l&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),t}function pr(t,e){const n=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function rC(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}function G1(t){const e={},n=f(t,["responsesFile"]);n!=null&&h(e,["fileName"],n);const i=f(t,["inlinedResponses","inlinedResponses"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(c=>SO(c))),h(e,["inlinedResponses"],l)}const r=f(t,["inlinedEmbedContentResponses","inlinedResponses"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(c=>c)),h(e,["inlinedEmbedContentResponses"],l)}return e}function V1(t){const e={},n=f(t,["predictionsFormat"]);n!=null&&h(e,["format"],n);const i=f(t,["gcsDestination","outputUriPrefix"]);i!=null&&h(e,["gcsUri"],i);const r=f(t,["bigqueryDestination","outputUri"]);return r!=null&&h(e,["bigqueryUri"],r),e}function q1(t){const e={},n=f(t,["format"]);n!=null&&h(e,["predictionsFormat"],n);const i=f(t,["gcsUri"]);i!=null&&h(e,["gcsDestination","outputUriPrefix"],i);const r=f(t,["bigqueryUri"]);if(r!=null&&h(e,["bigqueryDestination","outputUri"],r),f(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(f(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(f(t,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function Uu(t){const e={},n=f(t,["name"]);n!=null&&h(e,["name"],n);const i=f(t,["metadata","displayName"]);i!=null&&h(e,["displayName"],i);const r=f(t,["metadata","state"]);r!=null&&h(e,["state"],rC(r));const l=f(t,["metadata","createTime"]);l!=null&&h(e,["createTime"],l);const c=f(t,["metadata","endTime"]);c!=null&&h(e,["endTime"],c);const d=f(t,["metadata","updateTime"]);d!=null&&h(e,["updateTime"],d);const m=f(t,["metadata","model"]);m!=null&&h(e,["model"],m);const p=f(t,["metadata","output"]);return p!=null&&h(e,["dest"],G1(sC(p))),e}function vp(t){const e={},n=f(t,["name"]);n!=null&&h(e,["name"],n);const i=f(t,["displayName"]);i!=null&&h(e,["displayName"],i);const r=f(t,["state"]);r!=null&&h(e,["state"],rC(r));const l=f(t,["error"]);l!=null&&h(e,["error"],l);const c=f(t,["createTime"]);c!=null&&h(e,["createTime"],c);const d=f(t,["startTime"]);d!=null&&h(e,["startTime"],d);const m=f(t,["endTime"]);m!=null&&h(e,["endTime"],m);const p=f(t,["updateTime"]);p!=null&&h(e,["updateTime"],p);const y=f(t,["model"]);y!=null&&h(e,["model"],y);const _=f(t,["inputConfig"]);_!=null&&h(e,["src"],F1(_));const S=f(t,["outputConfig"]);S!=null&&h(e,["dest"],V1(sC(S)));const T=f(t,["completionStats"]);return T!=null&&h(e,["completionStats"],T),e}function F1(t){const e={},n=f(t,["instancesFormat"]);n!=null&&h(e,["format"],n);const i=f(t,["gcsSource","uris"]);i!=null&&h(e,["gcsUri"],i);const r=f(t,["bigquerySource","inputUri"]);return r!=null&&h(e,["bigqueryUri"],r),e}function z1(t,e){const n={};if(f(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(f(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(f(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const i=f(e,["fileName"]);i!=null&&h(n,["fileName"],i);const r=f(e,["inlinedRequests"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(c=>_O(t,c))),h(n,["requests","requests"],l)}return n}function $1(t){const e={},n=f(t,["format"]);n!=null&&h(e,["instancesFormat"],n);const i=f(t,["gcsUri"]);i!=null&&h(e,["gcsSource","uris"],i);const r=f(t,["bigqueryUri"]);if(r!=null&&h(e,["bigquerySource","inputUri"],r),f(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(f(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function J1(t){const e={},n=f(t,["data"]);if(n!=null&&h(e,["data"],n),f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=f(t,["mimeType"]);return i!=null&&h(e,["mimeType"],i),e}function Y1(t,e){const n={},i=f(e,["name"]);return i!=null&&h(n,["_url","name"],pr(t,i)),n}function K1(t,e){const n={},i=f(e,["name"]);return i!=null&&h(n,["_url","name"],pr(t,i)),n}function X1(t){const e={},n=f(t,["content"]);n!=null&&h(e,["content"],n);const i=f(t,["citationMetadata"]);i!=null&&h(e,["citationMetadata"],Q1(i));const r=f(t,["tokenCount"]);r!=null&&h(e,["tokenCount"],r);const l=f(t,["finishReason"]);l!=null&&h(e,["finishReason"],l);const c=f(t,["avgLogprobs"]);c!=null&&h(e,["avgLogprobs"],c);const d=f(t,["groundingMetadata"]);d!=null&&h(e,["groundingMetadata"],d);const m=f(t,["index"]);m!=null&&h(e,["index"],m);const p=f(t,["logprobsResult"]);p!=null&&h(e,["logprobsResult"],p);const y=f(t,["safetyRatings"]);if(y!=null){let S=y;Array.isArray(S)&&(S=S.map(T=>T)),h(e,["safetyRatings"],S)}const _=f(t,["urlContextMetadata"]);return _!=null&&h(e,["urlContextMetadata"],_),e}function Q1(t){const e={},n=f(t,["citationSources"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(r=>r)),h(e,["citations"],i)}return e}function aC(t){const e={},n=f(t,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(l=>RO(l))),h(e,["parts"],r)}const i=f(t,["role"]);return i!=null&&h(e,["role"],i),e}function W1(t,e){const n={},i=f(t,["displayName"]);if(e!==void 0&&i!=null&&h(e,["batch","displayName"],i),f(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function Z1(t,e){const n={},i=f(t,["displayName"]);e!==void 0&&i!=null&&h(e,["displayName"],i);const r=f(t,["dest"]);return e!==void 0&&r!=null&&h(e,["outputConfig"],q1(H1(r))),n}function eE(t,e){const n={},i=f(e,["model"]);i!=null&&h(n,["_url","model"],Pe(t,i));const r=f(e,["src"]);r!=null&&h(n,["batch","inputConfig"],z1(t,oC(t,r)));const l=f(e,["config"]);return l!=null&&W1(l,n),n}function j1(t,e){const n={},i=f(e,["model"]);i!=null&&h(n,["model"],Pe(t,i));const r=f(e,["src"]);r!=null&&h(n,["inputConfig"],$1(oC(t,r)));const l=f(e,["config"]);return l!=null&&Z1(l,n),n}function eO(t,e){const n={},i=f(t,["displayName"]);return e!==void 0&&i!=null&&h(e,["batch","displayName"],i),n}function tO(t,e){const n={},i=f(e,["model"]);i!=null&&h(n,["_url","model"],Pe(t,i));const r=f(e,["src"]);r!=null&&h(n,["batch","inputConfig"],lO(t,r));const l=f(e,["config"]);return l!=null&&eO(l,n),n}function nO(t,e){const n={},i=f(e,["name"]);return i!=null&&h(n,["_url","name"],pr(t,i)),n}function iO(t,e){const n={},i=f(e,["name"]);return i!=null&&h(n,["_url","name"],pr(t,i)),n}function oO(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&h(e,["sdkHttpResponse"],n);const i=f(t,["name"]);i!=null&&h(e,["name"],i);const r=f(t,["done"]);r!=null&&h(e,["done"],r);const l=f(t,["error"]);return l!=null&&h(e,["error"],l),e}function sO(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&h(e,["sdkHttpResponse"],n);const i=f(t,["name"]);i!=null&&h(e,["name"],i);const r=f(t,["done"]);r!=null&&h(e,["done"],r);const l=f(t,["error"]);return l!=null&&h(e,["error"],l),e}function rO(t,e){const n={},i=f(e,["contents"]);if(i!=null){let l=_m(t,i);Array.isArray(l)&&(l=l.map(c=>c)),h(n,["requests[]","request","content"],l)}const r=f(e,["config"]);return r!=null&&(h(n,["_self"],aO(r,n)),i1(n,{"requests[].*":"requests[].request.*"})),n}function aO(t,e){const n={},i=f(t,["taskType"]);e!==void 0&&i!=null&&h(e,["requests[]","taskType"],i);const r=f(t,["title"]);e!==void 0&&r!=null&&h(e,["requests[]","title"],r);const l=f(t,["outputDimensionality"]);if(e!==void 0&&l!=null&&h(e,["requests[]","outputDimensionality"],l),f(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(f(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function lO(t,e){const n={},i=f(e,["fileName"]);i!=null&&h(n,["file_name"],i);const r=f(e,["inlinedRequests"]);return r!=null&&h(n,["requests"],rO(t,r)),n}function uO(t){const e={};if(f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=f(t,["fileUri"]);n!=null&&h(e,["fileUri"],n);const i=f(t,["mimeType"]);return i!=null&&h(e,["mimeType"],i),e}function cO(t){const e={},n=f(t,["id"]);n!=null&&h(e,["id"],n);const i=f(t,["args"]);i!=null&&h(e,["args"],i);const r=f(t,["name"]);if(r!=null&&h(e,["name"],r),f(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(f(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function fO(t){const e={},n=f(t,["mode"]);n!=null&&h(e,["mode"],n);const i=f(t,["allowedFunctionNames"]);if(i!=null&&h(e,["allowedFunctionNames"],i),f(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function dO(t,e,n){const i={},r=f(e,["systemInstruction"]);n!==void 0&&r!=null&&h(n,["systemInstruction"],aC(Nt(r)));const l=f(e,["temperature"]);l!=null&&h(i,["temperature"],l);const c=f(e,["topP"]);c!=null&&h(i,["topP"],c);const d=f(e,["topK"]);d!=null&&h(i,["topK"],d);const m=f(e,["candidateCount"]);m!=null&&h(i,["candidateCount"],m);const p=f(e,["maxOutputTokens"]);p!=null&&h(i,["maxOutputTokens"],p);const y=f(e,["stopSequences"]);y!=null&&h(i,["stopSequences"],y);const _=f(e,["responseLogprobs"]);_!=null&&h(i,["responseLogprobs"],_);const S=f(e,["logprobs"]);S!=null&&h(i,["logprobs"],S);const T=f(e,["presencePenalty"]);T!=null&&h(i,["presencePenalty"],T);const b=f(e,["frequencyPenalty"]);b!=null&&h(i,["frequencyPenalty"],b);const R=f(e,["seed"]);R!=null&&h(i,["seed"],R);const x=f(e,["responseMimeType"]);x!=null&&h(i,["responseMimeType"],x);const P=f(e,["responseSchema"]);P!=null&&h(i,["responseSchema"],Sm(P));const H=f(e,["responseJsonSchema"]);if(H!=null&&h(i,["responseJsonSchema"],H),f(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(f(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const B=f(e,["safetySettings"]);if(n!==void 0&&B!=null){let Ee=B;Array.isArray(Ee)&&(Ee=Ee.map($e=>xO($e))),h(n,["safetySettings"],Ee)}const q=f(e,["tools"]);if(n!==void 0&&q!=null){let Ee=hr(q);Array.isArray(Ee)&&(Ee=Ee.map($e=>NO(dr($e)))),h(n,["tools"],Ee)}const Q=f(e,["toolConfig"]);if(n!==void 0&&Q!=null&&h(n,["toolConfig"],MO(Q)),f(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const K=f(e,["cachedContent"]);n!==void 0&&K!=null&&h(n,["cachedContent"],Ni(t,K));const $=f(e,["responseModalities"]);$!=null&&h(i,["responseModalities"],$);const oe=f(e,["mediaResolution"]);oe!=null&&h(i,["mediaResolution"],oe);const Z=f(e,["speechConfig"]);if(Z!=null&&h(i,["speechConfig"],Em(Z)),f(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const ae=f(e,["thinkingConfig"]);ae!=null&&h(i,["thinkingConfig"],ae);const de=f(e,["imageConfig"]);de!=null&&h(i,["imageConfig"],yO(de));const He=f(e,["enableEnhancedCivicAnswers"]);return He!=null&&h(i,["enableEnhancedCivicAnswers"],He),i}function hO(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&h(e,["sdkHttpResponse"],n);const i=f(t,["candidates"]);if(i!=null){let m=i;Array.isArray(m)&&(m=m.map(p=>X1(p))),h(e,["candidates"],m)}const r=f(t,["modelVersion"]);r!=null&&h(e,["modelVersion"],r);const l=f(t,["promptFeedback"]);l!=null&&h(e,["promptFeedback"],l);const c=f(t,["responseId"]);c!=null&&h(e,["responseId"],c);const d=f(t,["usageMetadata"]);return d!=null&&h(e,["usageMetadata"],d),e}function pO(t,e){const n={},i=f(e,["name"]);return i!=null&&h(n,["_url","name"],pr(t,i)),n}function mO(t,e){const n={},i=f(e,["name"]);return i!=null&&h(n,["_url","name"],pr(t,i)),n}function gO(t){const e={};if(f(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=f(t,["enableWidget"]);return n!=null&&h(e,["enableWidget"],n),e}function vO(t){const e={};if(f(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(f(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=f(t,["timeRangeFilter"]);return n!=null&&h(e,["timeRangeFilter"],n),e}function yO(t){const e={},n=f(t,["aspectRatio"]);n!=null&&h(e,["aspectRatio"],n);const i=f(t,["imageSize"]);if(i!=null&&h(e,["imageSize"],i),f(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(f(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function _O(t,e){const n={},i=f(e,["model"]);i!=null&&h(n,["request","model"],Pe(t,i));const r=f(e,["contents"]);if(r!=null){let d=Tn(r);Array.isArray(d)&&(d=d.map(m=>aC(m))),h(n,["request","contents"],d)}const l=f(e,["metadata"]);l!=null&&h(n,["metadata"],l);const c=f(e,["config"]);return c!=null&&h(n,["request","generationConfig"],dO(t,c,f(n,["request"],{}))),n}function SO(t){const e={},n=f(t,["response"]);n!=null&&h(e,["response"],hO(n));const i=f(t,["error"]);return i!=null&&h(e,["error"],i),e}function EO(t,e){const n={},i=f(t,["pageSize"]);e!==void 0&&i!=null&&h(e,["_query","pageSize"],i);const r=f(t,["pageToken"]);if(e!==void 0&&r!=null&&h(e,["_query","pageToken"],r),f(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function TO(t,e){const n={},i=f(t,["pageSize"]);e!==void 0&&i!=null&&h(e,["_query","pageSize"],i);const r=f(t,["pageToken"]);e!==void 0&&r!=null&&h(e,["_query","pageToken"],r);const l=f(t,["filter"]);return e!==void 0&&l!=null&&h(e,["_query","filter"],l),n}function AO(t){const e={},n=f(t,["config"]);return n!=null&&EO(n,e),e}function CO(t){const e={},n=f(t,["config"]);return n!=null&&TO(n,e),e}function bO(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&h(e,["sdkHttpResponse"],n);const i=f(t,["nextPageToken"]);i!=null&&h(e,["nextPageToken"],i);const r=f(t,["operations"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(c=>Uu(c))),h(e,["batchJobs"],l)}return e}function wO(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&h(e,["sdkHttpResponse"],n);const i=f(t,["nextPageToken"]);i!=null&&h(e,["nextPageToken"],i);const r=f(t,["batchPredictionJobs"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(c=>vp(c))),h(e,["batchJobs"],l)}return e}function RO(t){const e={},n=f(t,["mediaResolution"]);n!=null&&h(e,["mediaResolution"],n);const i=f(t,["codeExecutionResult"]);i!=null&&h(e,["codeExecutionResult"],i);const r=f(t,["executableCode"]);r!=null&&h(e,["executableCode"],r);const l=f(t,["fileData"]);l!=null&&h(e,["fileData"],uO(l));const c=f(t,["functionCall"]);c!=null&&h(e,["functionCall"],cO(c));const d=f(t,["functionResponse"]);d!=null&&h(e,["functionResponse"],d);const m=f(t,["inlineData"]);m!=null&&h(e,["inlineData"],J1(m));const p=f(t,["text"]);p!=null&&h(e,["text"],p);const y=f(t,["thought"]);y!=null&&h(e,["thought"],y);const _=f(t,["thoughtSignature"]);_!=null&&h(e,["thoughtSignature"],_);const S=f(t,["videoMetadata"]);return S!=null&&h(e,["videoMetadata"],S),e}function xO(t){const e={},n=f(t,["category"]);if(n!=null&&h(e,["category"],n),f(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const i=f(t,["threshold"]);return i!=null&&h(e,["threshold"],i),e}function MO(t){const e={},n=f(t,["functionCallingConfig"]);n!=null&&h(e,["functionCallingConfig"],fO(n));const i=f(t,["retrievalConfig"]);return i!=null&&h(e,["retrievalConfig"],i),e}function NO(t){const e={},n=f(t,["functionDeclarations"]);if(n!=null){let y=n;Array.isArray(y)&&(y=y.map(_=>_)),h(e,["functionDeclarations"],y)}if(f(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=f(t,["googleSearchRetrieval"]);i!=null&&h(e,["googleSearchRetrieval"],i);const r=f(t,["computerUse"]);r!=null&&h(e,["computerUse"],r);const l=f(t,["fileSearch"]);l!=null&&h(e,["fileSearch"],l);const c=f(t,["codeExecution"]);if(c!=null&&h(e,["codeExecution"],c),f(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const d=f(t,["googleMaps"]);d!=null&&h(e,["googleMaps"],gO(d));const m=f(t,["googleSearch"]);m!=null&&h(e,["googleSearch"],vO(m));const p=f(t,["urlContext"]);return p!=null&&h(e,["urlContext"],p),e}var Ri;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents",t.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",t.PAGED_ITEM_DOCUMENTS="documents"})(Ri||(Ri={}));class Xo{constructor(e,n,i,r){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,i,r)}init(e,n,i){var r,l;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n?.sdkHttpResponse,this.idxInternal=0;let c={config:{}};!i||Object.keys(i).length===0?c={config:{}}:typeof i=="object"?c=Object.assign({},i):c=i,c.config&&(c.config.pageToken=n.nextPageToken),this.paramsInternal=c,this.pageInternalSize=(l=(r=c.config)===null||r===void 0?void 0:r.pageSize)!==null&&l!==void 0?l:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}let IO=class extends Mi{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Xo(Ri.PAGED_ITEM_BATCH_JOBS,i=>this.listInternal(i),await this.listInternal(n),n),this.create=async n=>(this.apiClient.isVertexAI()&&(n.config=this.formatDestination(n.src,n.config)),this.createInternal(n)),this.createEmbeddings=async n=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(n)}}createInlinedGenerateContentRequest(e){const n=eE(this.apiClient,e),i=n._url,r=ne("{model}:batchGenerateContent",i),d=n.batch.inputConfig.requests,m=d.requests,p=[];for(const y of m){const _=Object.assign({},y);if(_.systemInstruction){const S=_.systemInstruction;delete _.systemInstruction;const T=_.request;T.systemInstruction=S,_.request=T}p.push(_)}return d.requests=p,delete n.config,delete n._url,delete n._query,{path:r,body:n}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,n){const i=n?Object.assign({},n):{},r=Date.now().toString();if(i.displayName||(i.displayName=`genaiBatchJob_${r}`),i.dest===void 0){const l=this.getGcsUri(e),c=this.getBigqueryUri(e);if(l)l.endsWith(".jsonl")?i.dest=`${l.slice(0,-6)}/dest`:i.dest=`${l}_dest_${r}`;else if(c)i.dest=`${c}_dest_${r}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return i}async createInternal(e){var n,i,r,l;let c,d="",m={};if(this.apiClient.isVertexAI()){const p=j1(this.apiClient,e);return d=ne("batchPredictionJobs",p._url),m=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),c.then(y=>vp(y))}else{const p=eE(this.apiClient,e);return d=ne("{model}:batchGenerateContent",p._url),m=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),c.then(y=>Uu(y))}}async createEmbeddingsInternal(e){var n,i;let r,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=tO(this.apiClient,e);return l=ne("{model}:asyncBatchEmbedContent",d._url),c=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json()),r.then(m=>Uu(m))}}async get(e){var n,i,r,l;let c,d="",m={};if(this.apiClient.isVertexAI()){const p=mO(this.apiClient,e);return d=ne("batchPredictionJobs/{name}",p._url),m=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),c.then(y=>vp(y))}else{const p=pO(this.apiClient,e);return d=ne("batches/{name}",p._url),m=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),c.then(y=>Uu(y))}}async cancel(e){var n,i,r,l;let c="",d={};if(this.apiClient.isVertexAI()){const m=K1(this.apiClient,e);c=ne("batchPredictionJobs/{name}:cancel",m._url),d=m._query,delete m._url,delete m._query,await this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal})}else{const m=Y1(this.apiClient,e);c=ne("batches/{name}:cancel",m._url),d=m._query,delete m._url,delete m._query,await this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal})}}async listInternal(e){var n,i,r,l;let c,d="",m={};if(this.apiClient.isVertexAI()){const p=CO(e);return d=ne("batchPredictionJobs",p._url),m=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:y.headers},S})),c.then(y=>{const _=wO(y),S=new QS;return Object.assign(S,_),S})}else{const p=AO(e);return d=ne("batches",p._url),m=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:y.headers},S})),c.then(y=>{const _=bO(y),S=new QS;return Object.assign(S,_),S})}}async delete(e){var n,i,r,l;let c,d="",m={};if(this.apiClient.isVertexAI()){const p=iO(this.apiClient,e);return d=ne("batchPredictionJobs/{name}",p._url),m=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:y.headers},S})),c.then(y=>sO(y))}else{const p=nO(this.apiClient,e);return d=ne("batches/{name}",p._url),m=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:y.headers},S})),c.then(y=>oO(y))}}};function DO(t){const e={},n=f(t,["data"]);if(n!=null&&h(e,["data"],n),f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=f(t,["mimeType"]);return i!=null&&h(e,["mimeType"],i),e}function tE(t){const e={},n=f(t,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(l=>tU(l))),h(e,["parts"],r)}const i=f(t,["role"]);return i!=null&&h(e,["role"],i),e}function OO(t,e){const n={},i=f(t,["ttl"]);e!==void 0&&i!=null&&h(e,["ttl"],i);const r=f(t,["expireTime"]);e!==void 0&&r!=null&&h(e,["expireTime"],r);const l=f(t,["displayName"]);e!==void 0&&l!=null&&h(e,["displayName"],l);const c=f(t,["contents"]);if(e!==void 0&&c!=null){let y=Tn(c);Array.isArray(y)&&(y=y.map(_=>tE(_))),h(e,["contents"],y)}const d=f(t,["systemInstruction"]);e!==void 0&&d!=null&&h(e,["systemInstruction"],tE(Nt(d)));const m=f(t,["tools"]);if(e!==void 0&&m!=null){let y=m;Array.isArray(y)&&(y=y.map(_=>iU(_))),h(e,["tools"],y)}const p=f(t,["toolConfig"]);if(e!==void 0&&p!=null&&h(e,["toolConfig"],nU(p)),f(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function UO(t,e){const n={},i=f(t,["ttl"]);e!==void 0&&i!=null&&h(e,["ttl"],i);const r=f(t,["expireTime"]);e!==void 0&&r!=null&&h(e,["expireTime"],r);const l=f(t,["displayName"]);e!==void 0&&l!=null&&h(e,["displayName"],l);const c=f(t,["contents"]);if(e!==void 0&&c!=null){let _=Tn(c);Array.isArray(_)&&(_=_.map(S=>S)),h(e,["contents"],_)}const d=f(t,["systemInstruction"]);e!==void 0&&d!=null&&h(e,["systemInstruction"],Nt(d));const m=f(t,["tools"]);if(e!==void 0&&m!=null){let _=m;Array.isArray(_)&&(_=_.map(S=>oU(S))),h(e,["tools"],_)}const p=f(t,["toolConfig"]);e!==void 0&&p!=null&&h(e,["toolConfig"],p);const y=f(t,["kmsKeyName"]);return e!==void 0&&y!=null&&h(e,["encryption_spec","kmsKeyName"],y),n}function LO(t,e){const n={},i=f(e,["model"]);i!=null&&h(n,["model"],XA(t,i));const r=f(e,["config"]);return r!=null&&OO(r,n),n}function PO(t,e){const n={},i=f(e,["model"]);i!=null&&h(n,["model"],XA(t,i));const r=f(e,["config"]);return r!=null&&UO(r,n),n}function kO(t,e){const n={},i=f(e,["name"]);return i!=null&&h(n,["_url","name"],Ni(t,i)),n}function BO(t,e){const n={},i=f(e,["name"]);return i!=null&&h(n,["_url","name"],Ni(t,i)),n}function HO(t){const e={},n=f(t,["sdkHttpResponse"]);return n!=null&&h(e,["sdkHttpResponse"],n),e}function GO(t){const e={},n=f(t,["sdkHttpResponse"]);return n!=null&&h(e,["sdkHttpResponse"],n),e}function VO(t){const e={};if(f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=f(t,["fileUri"]);n!=null&&h(e,["fileUri"],n);const i=f(t,["mimeType"]);return i!=null&&h(e,["mimeType"],i),e}function qO(t){const e={},n=f(t,["id"]);n!=null&&h(e,["id"],n);const i=f(t,["args"]);i!=null&&h(e,["args"],i);const r=f(t,["name"]);if(r!=null&&h(e,["name"],r),f(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(f(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function FO(t){const e={},n=f(t,["mode"]);n!=null&&h(e,["mode"],n);const i=f(t,["allowedFunctionNames"]);if(i!=null&&h(e,["allowedFunctionNames"],i),f(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function zO(t){const e={};if(f(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=f(t,["description"]);n!=null&&h(e,["description"],n);const i=f(t,["name"]);i!=null&&h(e,["name"],i);const r=f(t,["parameters"]);r!=null&&h(e,["parameters"],r);const l=f(t,["parametersJsonSchema"]);l!=null&&h(e,["parametersJsonSchema"],l);const c=f(t,["response"]);c!=null&&h(e,["response"],c);const d=f(t,["responseJsonSchema"]);return d!=null&&h(e,["responseJsonSchema"],d),e}function $O(t,e){const n={},i=f(e,["name"]);return i!=null&&h(n,["_url","name"],Ni(t,i)),n}function JO(t,e){const n={},i=f(e,["name"]);return i!=null&&h(n,["_url","name"],Ni(t,i)),n}function YO(t){const e={};if(f(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=f(t,["enableWidget"]);return n!=null&&h(e,["enableWidget"],n),e}function KO(t){const e={};if(f(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(f(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=f(t,["timeRangeFilter"]);return n!=null&&h(e,["timeRangeFilter"],n),e}function XO(t,e){const n={},i=f(t,["pageSize"]);e!==void 0&&i!=null&&h(e,["_query","pageSize"],i);const r=f(t,["pageToken"]);return e!==void 0&&r!=null&&h(e,["_query","pageToken"],r),n}function QO(t,e){const n={},i=f(t,["pageSize"]);e!==void 0&&i!=null&&h(e,["_query","pageSize"],i);const r=f(t,["pageToken"]);return e!==void 0&&r!=null&&h(e,["_query","pageToken"],r),n}function WO(t){const e={},n=f(t,["config"]);return n!=null&&XO(n,e),e}function ZO(t){const e={},n=f(t,["config"]);return n!=null&&QO(n,e),e}function jO(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&h(e,["sdkHttpResponse"],n);const i=f(t,["nextPageToken"]);i!=null&&h(e,["nextPageToken"],i);const r=f(t,["cachedContents"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(c=>c)),h(e,["cachedContents"],l)}return e}function eU(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&h(e,["sdkHttpResponse"],n);const i=f(t,["nextPageToken"]);i!=null&&h(e,["nextPageToken"],i);const r=f(t,["cachedContents"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(c=>c)),h(e,["cachedContents"],l)}return e}function tU(t){const e={},n=f(t,["mediaResolution"]);n!=null&&h(e,["mediaResolution"],n);const i=f(t,["codeExecutionResult"]);i!=null&&h(e,["codeExecutionResult"],i);const r=f(t,["executableCode"]);r!=null&&h(e,["executableCode"],r);const l=f(t,["fileData"]);l!=null&&h(e,["fileData"],VO(l));const c=f(t,["functionCall"]);c!=null&&h(e,["functionCall"],qO(c));const d=f(t,["functionResponse"]);d!=null&&h(e,["functionResponse"],d);const m=f(t,["inlineData"]);m!=null&&h(e,["inlineData"],DO(m));const p=f(t,["text"]);p!=null&&h(e,["text"],p);const y=f(t,["thought"]);y!=null&&h(e,["thought"],y);const _=f(t,["thoughtSignature"]);_!=null&&h(e,["thoughtSignature"],_);const S=f(t,["videoMetadata"]);return S!=null&&h(e,["videoMetadata"],S),e}function nU(t){const e={},n=f(t,["functionCallingConfig"]);n!=null&&h(e,["functionCallingConfig"],FO(n));const i=f(t,["retrievalConfig"]);return i!=null&&h(e,["retrievalConfig"],i),e}function iU(t){const e={},n=f(t,["functionDeclarations"]);if(n!=null){let y=n;Array.isArray(y)&&(y=y.map(_=>_)),h(e,["functionDeclarations"],y)}if(f(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=f(t,["googleSearchRetrieval"]);i!=null&&h(e,["googleSearchRetrieval"],i);const r=f(t,["computerUse"]);r!=null&&h(e,["computerUse"],r);const l=f(t,["fileSearch"]);l!=null&&h(e,["fileSearch"],l);const c=f(t,["codeExecution"]);if(c!=null&&h(e,["codeExecution"],c),f(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const d=f(t,["googleMaps"]);d!=null&&h(e,["googleMaps"],YO(d));const m=f(t,["googleSearch"]);m!=null&&h(e,["googleSearch"],KO(m));const p=f(t,["urlContext"]);return p!=null&&h(e,["urlContext"],p),e}function oU(t){const e={},n=f(t,["functionDeclarations"]);if(n!=null){let _=n;Array.isArray(_)&&(_=_.map(S=>zO(S))),h(e,["functionDeclarations"],_)}const i=f(t,["retrieval"]);i!=null&&h(e,["retrieval"],i);const r=f(t,["googleSearchRetrieval"]);r!=null&&h(e,["googleSearchRetrieval"],r);const l=f(t,["computerUse"]);if(l!=null&&h(e,["computerUse"],l),f(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const c=f(t,["codeExecution"]);c!=null&&h(e,["codeExecution"],c);const d=f(t,["enterpriseWebSearch"]);d!=null&&h(e,["enterpriseWebSearch"],d);const m=f(t,["googleMaps"]);m!=null&&h(e,["googleMaps"],m);const p=f(t,["googleSearch"]);p!=null&&h(e,["googleSearch"],p);const y=f(t,["urlContext"]);return y!=null&&h(e,["urlContext"],y),e}function sU(t,e){const n={},i=f(t,["ttl"]);e!==void 0&&i!=null&&h(e,["ttl"],i);const r=f(t,["expireTime"]);return e!==void 0&&r!=null&&h(e,["expireTime"],r),n}function rU(t,e){const n={},i=f(t,["ttl"]);e!==void 0&&i!=null&&h(e,["ttl"],i);const r=f(t,["expireTime"]);return e!==void 0&&r!=null&&h(e,["expireTime"],r),n}function aU(t,e){const n={},i=f(e,["name"]);i!=null&&h(n,["_url","name"],Ni(t,i));const r=f(e,["config"]);return r!=null&&sU(r,n),n}function lU(t,e){const n={},i=f(e,["name"]);i!=null&&h(n,["_url","name"],Ni(t,i));const r=f(e,["config"]);return r!=null&&rU(r,n),n}class uU extends Mi{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Xo(Ri.PAGED_ITEM_CACHED_CONTENTS,i=>this.listInternal(i),await this.listInternal(n),n)}async create(e){var n,i,r,l;let c,d="",m={};if(this.apiClient.isVertexAI()){const p=PO(this.apiClient,e);return d=ne("cachedContents",p._url),m=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),c.then(y=>y)}else{const p=LO(this.apiClient,e);return d=ne("cachedContents",p._url),m=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),c.then(y=>y)}}async get(e){var n,i,r,l;let c,d="",m={};if(this.apiClient.isVertexAI()){const p=JO(this.apiClient,e);return d=ne("{name}",p._url),m=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),c.then(y=>y)}else{const p=$O(this.apiClient,e);return d=ne("{name}",p._url),m=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),c.then(y=>y)}}async delete(e){var n,i,r,l;let c,d="",m={};if(this.apiClient.isVertexAI()){const p=BO(this.apiClient,e);return d=ne("{name}",p._url),m=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:y.headers},S})),c.then(y=>{const _=GO(y),S=new KS;return Object.assign(S,_),S})}else{const p=kO(this.apiClient,e);return d=ne("{name}",p._url),m=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:y.headers},S})),c.then(y=>{const _=HO(y),S=new KS;return Object.assign(S,_),S})}}async update(e){var n,i,r,l;let c,d="",m={};if(this.apiClient.isVertexAI()){const p=lU(this.apiClient,e);return d=ne("{name}",p._url),m=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(p),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),c.then(y=>y)}else{const p=aU(this.apiClient,e);return d=ne("{name}",p._url),m=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(p),httpMethod:"PATCH",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),c.then(y=>y)}}async listInternal(e){var n,i,r,l;let c,d="",m={};if(this.apiClient.isVertexAI()){const p=ZO(e);return d=ne("cachedContents",p._url),m=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:y.headers},S})),c.then(y=>{const _=eU(y),S=new XS;return Object.assign(S,_),S})}else{const p=WO(e);return d=ne("cachedContents",p._url),m=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:y.headers},S})),c.then(y=>{const _=jO(y),S=new XS;return Object.assign(S,_),S})}}}function sc(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]]);return n}function nE(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function ve(t){return this instanceof ve?(this.v=t,this):new ve(t)}function Un(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=n.apply(t,e||[]),r,l=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),d("next"),d("throw"),d("return",c),r[Symbol.asyncIterator]=function(){return this},r;function c(T){return function(b){return Promise.resolve(b).then(T,_)}}function d(T,b){i[T]&&(r[T]=function(R){return new Promise(function(x,P){l.push([T,R,x,P])>1||m(T,R)})},b&&(r[T]=b(r[T])))}function m(T,b){try{p(i[T](b))}catch(R){S(l[0][3],R)}}function p(T){T.value instanceof ve?Promise.resolve(T.value.v).then(y,_):S(l[0][2],T)}function y(T){m("next",T)}function _(T){m("throw",T)}function S(T,b){T(b),l.shift(),l.length&&m(l[0][0],l[0][1])}}function Ln(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof nE=="function"?nE(t):t[Symbol.iterator](),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(l){n[l]=t[l]&&function(c){return new Promise(function(d,m){c=t[l](c),r(d,m,c.done,c.value)})}}function r(l,c,d,m){Promise.resolve(m).then(function(p){l({value:p,done:d})},c)}}function cU(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:lC(n)}function lC(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function fU(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function iE(t){if(t===void 0||t.length===0)return[];const e=[],n=t.length;let i=0;for(;i<n;)if(t[i].role==="user")e.push(t[i]),i++;else{const r=[];let l=!0;for(;i<n&&t[i].role==="model";)r.push(t[i]),l&&!lC(t[i])&&(l=!1),i++;l?e.push(...r):e.pop()}return e}class dU{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new hU(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}let hU=class{constructor(e,n,i,r={},l=[]){this.apiClient=e,this.modelsModule=n,this.model=i,this.config=r,this.history=l,this.sendPromise=Promise.resolve(),fU(l)}async sendMessage(e){var n;await this.sendPromise;const i=Nt(e.message),r=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(i),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var l,c,d;const m=await r,p=(c=(l=m.candidates)===null||l===void 0?void 0:l[0])===null||c===void 0?void 0:c.content,y=m.automaticFunctionCallingHistory,_=this.getHistory(!0).length;let S=[];y!=null&&(S=(d=y.slice(_))!==null&&d!==void 0?d:[]);const T=p?[p]:[];this.recordHistory(i,T,S)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),r}async sendMessageStream(e){var n;await this.sendPromise;const i=Nt(e.message),r=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(i),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=r.then(()=>{}).catch(()=>{});const l=await r;return this.processStreamResponse(l,i)}getHistory(e=!1){const n=e?iE(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){return Un(this,arguments,function*(){var r,l,c,d,m,p;const y=[];try{for(var _=!0,S=Ln(e),T;T=yield ve(S.next()),r=T.done,!r;_=!0){d=T.value,_=!1;const b=d;if(cU(b)){const R=(p=(m=b.candidates)===null||m===void 0?void 0:m[0])===null||p===void 0?void 0:p.content;R!==void 0&&y.push(R)}yield yield ve(b)}}catch(b){l={error:b}}finally{try{!_&&!r&&(c=S.return)&&(yield ve(c.call(S)))}finally{if(l)throw l.error}}this.recordHistory(n,y)})}recordHistory(e,n,i){let r=[];n.length>0&&n.every(l=>l.role!==void 0)?r=n:r.push({role:"model",parts:[]}),i&&i.length>0?this.history.push(...iE(i)):this.history.push(e),this.history.push(...r)}};class Ic extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,Ic.prototype)}}function pU(t){const e={},n=f(t,["file"]);return n!=null&&h(e,["file"],n),e}function mU(t){const e={},n=f(t,["sdkHttpResponse"]);return n!=null&&h(e,["sdkHttpResponse"],n),e}function gU(t){const e={},n=f(t,["name"]);return n!=null&&h(e,["_url","file"],tC(n)),e}function vU(t){const e={},n=f(t,["sdkHttpResponse"]);return n!=null&&h(e,["sdkHttpResponse"],n),e}function yU(t){const e={},n=f(t,["name"]);return n!=null&&h(e,["_url","file"],tC(n)),e}function _U(t,e){const n={},i=f(t,["pageSize"]);e!==void 0&&i!=null&&h(e,["_query","pageSize"],i);const r=f(t,["pageToken"]);return e!==void 0&&r!=null&&h(e,["_query","pageToken"],r),n}function SU(t){const e={},n=f(t,["config"]);return n!=null&&_U(n,e),e}function EU(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&h(e,["sdkHttpResponse"],n);const i=f(t,["nextPageToken"]);i!=null&&h(e,["nextPageToken"],i);const r=f(t,["files"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(c=>c)),h(e,["files"],l)}return e}let TU=class extends Mi{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Xo(Ri.PAGED_ITEM_FILES,i=>this.listInternal(i),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>n)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var n,i;let r,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=SU(e);return l=ne("files",d._url),c=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json().then(p=>{const y=p;return y.sdkHttpResponse={headers:m.headers},y})),r.then(m=>{const p=EU(m),y=new w1;return Object.assign(y,p),y})}}async createInternal(e){var n,i;let r,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=pU(e);return l=ne("upload/v1beta/files",d._url),c=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json()),r.then(m=>{const p=mU(m),y=new R1;return Object.assign(y,p),y})}}async get(e){var n,i;let r,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=yU(e);return l=ne("files/{file}",d._url),c=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json()),r.then(m=>m)}}async delete(e){var n,i;let r,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=gU(e);return l=ne("files/{file}",d._url),c=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json().then(p=>{const y=p;return y.sdkHttpResponse={headers:m.headers},y})),r.then(m=>{const p=vU(m),y=new x1;return Object.assign(y,p),y})}}};function Lu(t){const e={},n=f(t,["data"]);if(n!=null&&h(e,["data"],n),f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=f(t,["mimeType"]);return i!=null&&h(e,["mimeType"],i),e}function AU(t){const e={},n=f(t,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(l=>HU(l))),h(e,["parts"],r)}const i=f(t,["role"]);return i!=null&&h(e,["role"],i),e}function CU(t){const e={};if(f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=f(t,["fileUri"]);n!=null&&h(e,["fileUri"],n);const i=f(t,["mimeType"]);return i!=null&&h(e,["mimeType"],i),e}function bU(t){const e={},n=f(t,["id"]);n!=null&&h(e,["id"],n);const i=f(t,["args"]);i!=null&&h(e,["args"],i);const r=f(t,["name"]);if(r!=null&&h(e,["name"],r),f(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(f(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function wU(t){const e={};if(f(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=f(t,["description"]);n!=null&&h(e,["description"],n);const i=f(t,["name"]);i!=null&&h(e,["name"],i);const r=f(t,["parameters"]);r!=null&&h(e,["parameters"],r);const l=f(t,["parametersJsonSchema"]);l!=null&&h(e,["parametersJsonSchema"],l);const c=f(t,["response"]);c!=null&&h(e,["response"],c);const d=f(t,["responseJsonSchema"]);return d!=null&&h(e,["responseJsonSchema"],d),e}function RU(t){const e={},n=f(t,["modelSelectionConfig"]);n!=null&&h(e,["modelConfig"],n);const i=f(t,["responseJsonSchema"]);i!=null&&h(e,["responseJsonSchema"],i);const r=f(t,["audioTimestamp"]);r!=null&&h(e,["audioTimestamp"],r);const l=f(t,["candidateCount"]);l!=null&&h(e,["candidateCount"],l);const c=f(t,["enableAffectiveDialog"]);c!=null&&h(e,["enableAffectiveDialog"],c);const d=f(t,["frequencyPenalty"]);d!=null&&h(e,["frequencyPenalty"],d);const m=f(t,["logprobs"]);m!=null&&h(e,["logprobs"],m);const p=f(t,["maxOutputTokens"]);p!=null&&h(e,["maxOutputTokens"],p);const y=f(t,["mediaResolution"]);y!=null&&h(e,["mediaResolution"],y);const _=f(t,["presencePenalty"]);_!=null&&h(e,["presencePenalty"],_);const S=f(t,["responseLogprobs"]);S!=null&&h(e,["responseLogprobs"],S);const T=f(t,["responseMimeType"]);T!=null&&h(e,["responseMimeType"],T);const b=f(t,["responseModalities"]);b!=null&&h(e,["responseModalities"],b);const R=f(t,["responseSchema"]);R!=null&&h(e,["responseSchema"],R);const x=f(t,["routingConfig"]);x!=null&&h(e,["routingConfig"],x);const P=f(t,["seed"]);P!=null&&h(e,["seed"],P);const H=f(t,["speechConfig"]);H!=null&&h(e,["speechConfig"],uC(H));const B=f(t,["stopSequences"]);B!=null&&h(e,["stopSequences"],B);const q=f(t,["temperature"]);q!=null&&h(e,["temperature"],q);const Q=f(t,["thinkingConfig"]);Q!=null&&h(e,["thinkingConfig"],Q);const K=f(t,["topK"]);K!=null&&h(e,["topK"],K);const $=f(t,["topP"]);if($!=null&&h(e,["topP"],$),f(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function xU(t){const e={};if(f(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=f(t,["enableWidget"]);return n!=null&&h(e,["enableWidget"],n),e}function MU(t){const e={};if(f(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(f(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=f(t,["timeRangeFilter"]);return n!=null&&h(e,["timeRangeFilter"],n),e}function NU(t,e){const n={},i=f(t,["generationConfig"]);e!==void 0&&i!=null&&h(e,["setup","generationConfig"],i);const r=f(t,["responseModalities"]);e!==void 0&&r!=null&&h(e,["setup","generationConfig","responseModalities"],r);const l=f(t,["temperature"]);e!==void 0&&l!=null&&h(e,["setup","generationConfig","temperature"],l);const c=f(t,["topP"]);e!==void 0&&c!=null&&h(e,["setup","generationConfig","topP"],c);const d=f(t,["topK"]);e!==void 0&&d!=null&&h(e,["setup","generationConfig","topK"],d);const m=f(t,["maxOutputTokens"]);e!==void 0&&m!=null&&h(e,["setup","generationConfig","maxOutputTokens"],m);const p=f(t,["mediaResolution"]);e!==void 0&&p!=null&&h(e,["setup","generationConfig","mediaResolution"],p);const y=f(t,["seed"]);e!==void 0&&y!=null&&h(e,["setup","generationConfig","seed"],y);const _=f(t,["speechConfig"]);e!==void 0&&_!=null&&h(e,["setup","generationConfig","speechConfig"],Tm(_));const S=f(t,["thinkingConfig"]);e!==void 0&&S!=null&&h(e,["setup","generationConfig","thinkingConfig"],S);const T=f(t,["enableAffectiveDialog"]);e!==void 0&&T!=null&&h(e,["setup","generationConfig","enableAffectiveDialog"],T);const b=f(t,["systemInstruction"]);e!==void 0&&b!=null&&h(e,["setup","systemInstruction"],AU(Nt(b)));const R=f(t,["tools"]);if(e!==void 0&&R!=null){let K=hr(R);Array.isArray(K)&&(K=K.map($=>VU(dr($)))),h(e,["setup","tools"],K)}const x=f(t,["sessionResumption"]);e!==void 0&&x!=null&&h(e,["setup","sessionResumption"],GU(x));const P=f(t,["inputAudioTranscription"]);e!==void 0&&P!=null&&h(e,["setup","inputAudioTranscription"],P);const H=f(t,["outputAudioTranscription"]);e!==void 0&&H!=null&&h(e,["setup","outputAudioTranscription"],H);const B=f(t,["realtimeInputConfig"]);e!==void 0&&B!=null&&h(e,["setup","realtimeInputConfig"],B);const q=f(t,["contextWindowCompression"]);e!==void 0&&q!=null&&h(e,["setup","contextWindowCompression"],q);const Q=f(t,["proactivity"]);if(e!==void 0&&Q!=null&&h(e,["setup","proactivity"],Q),f(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function IU(t,e){const n={},i=f(t,["generationConfig"]);e!==void 0&&i!=null&&h(e,["setup","generationConfig"],RU(i));const r=f(t,["responseModalities"]);e!==void 0&&r!=null&&h(e,["setup","generationConfig","responseModalities"],r);const l=f(t,["temperature"]);e!==void 0&&l!=null&&h(e,["setup","generationConfig","temperature"],l);const c=f(t,["topP"]);e!==void 0&&c!=null&&h(e,["setup","generationConfig","topP"],c);const d=f(t,["topK"]);e!==void 0&&d!=null&&h(e,["setup","generationConfig","topK"],d);const m=f(t,["maxOutputTokens"]);e!==void 0&&m!=null&&h(e,["setup","generationConfig","maxOutputTokens"],m);const p=f(t,["mediaResolution"]);e!==void 0&&p!=null&&h(e,["setup","generationConfig","mediaResolution"],p);const y=f(t,["seed"]);e!==void 0&&y!=null&&h(e,["setup","generationConfig","seed"],y);const _=f(t,["speechConfig"]);e!==void 0&&_!=null&&h(e,["setup","generationConfig","speechConfig"],uC(Tm(_)));const S=f(t,["thinkingConfig"]);e!==void 0&&S!=null&&h(e,["setup","generationConfig","thinkingConfig"],S);const T=f(t,["enableAffectiveDialog"]);e!==void 0&&T!=null&&h(e,["setup","generationConfig","enableAffectiveDialog"],T);const b=f(t,["systemInstruction"]);e!==void 0&&b!=null&&h(e,["setup","systemInstruction"],Nt(b));const R=f(t,["tools"]);if(e!==void 0&&R!=null){let $=hr(R);Array.isArray($)&&($=$.map(oe=>qU(dr(oe)))),h(e,["setup","tools"],$)}const x=f(t,["sessionResumption"]);e!==void 0&&x!=null&&h(e,["setup","sessionResumption"],x);const P=f(t,["inputAudioTranscription"]);e!==void 0&&P!=null&&h(e,["setup","inputAudioTranscription"],P);const H=f(t,["outputAudioTranscription"]);e!==void 0&&H!=null&&h(e,["setup","outputAudioTranscription"],H);const B=f(t,["realtimeInputConfig"]);e!==void 0&&B!=null&&h(e,["setup","realtimeInputConfig"],B);const q=f(t,["contextWindowCompression"]);e!==void 0&&q!=null&&h(e,["setup","contextWindowCompression"],q);const Q=f(t,["proactivity"]);e!==void 0&&Q!=null&&h(e,["setup","proactivity"],Q);const K=f(t,["explicitVadSignal"]);return e!==void 0&&K!=null&&h(e,["setup","explicitVadSignal"],K),n}function DU(t,e){const n={},i=f(e,["model"]);i!=null&&h(n,["setup","model"],Pe(t,i));const r=f(e,["config"]);return r!=null&&h(n,["config"],NU(r,n)),n}function OU(t,e){const n={},i=f(e,["model"]);i!=null&&h(n,["setup","model"],Pe(t,i));const r=f(e,["config"]);return r!=null&&h(n,["config"],IU(r,n)),n}function UU(t){const e={},n=f(t,["musicGenerationConfig"]);return n!=null&&h(e,["musicGenerationConfig"],n),e}function LU(t){const e={},n=f(t,["weightedPrompts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(r=>r)),h(e,["weightedPrompts"],i)}return e}function PU(t){const e={},n=f(t,["media"]);if(n!=null){let p=QA(n);Array.isArray(p)&&(p=p.map(y=>Lu(y))),h(e,["mediaChunks"],p)}const i=f(t,["audio"]);i!=null&&h(e,["audio"],Lu(ZA(i)));const r=f(t,["audioStreamEnd"]);r!=null&&h(e,["audioStreamEnd"],r);const l=f(t,["video"]);l!=null&&h(e,["video"],Lu(WA(l)));const c=f(t,["text"]);c!=null&&h(e,["text"],c);const d=f(t,["activityStart"]);d!=null&&h(e,["activityStart"],d);const m=f(t,["activityEnd"]);return m!=null&&h(e,["activityEnd"],m),e}function kU(t){const e={},n=f(t,["media"]);if(n!=null){let p=QA(n);Array.isArray(p)&&(p=p.map(y=>y)),h(e,["mediaChunks"],p)}const i=f(t,["audio"]);i!=null&&h(e,["audio"],ZA(i));const r=f(t,["audioStreamEnd"]);r!=null&&h(e,["audioStreamEnd"],r);const l=f(t,["video"]);l!=null&&h(e,["video"],WA(l));const c=f(t,["text"]);c!=null&&h(e,["text"],c);const d=f(t,["activityStart"]);d!=null&&h(e,["activityStart"],d);const m=f(t,["activityEnd"]);return m!=null&&h(e,["activityEnd"],m),e}function BU(t){const e={},n=f(t,["setupComplete"]);n!=null&&h(e,["setupComplete"],n);const i=f(t,["serverContent"]);i!=null&&h(e,["serverContent"],i);const r=f(t,["toolCall"]);r!=null&&h(e,["toolCall"],r);const l=f(t,["toolCallCancellation"]);l!=null&&h(e,["toolCallCancellation"],l);const c=f(t,["usageMetadata"]);c!=null&&h(e,["usageMetadata"],FU(c));const d=f(t,["goAway"]);d!=null&&h(e,["goAway"],d);const m=f(t,["sessionResumptionUpdate"]);m!=null&&h(e,["sessionResumptionUpdate"],m);const p=f(t,["voiceActivityDetectionSignal"]);return p!=null&&h(e,["voiceActivityDetectionSignal"],p),e}function HU(t){const e={},n=f(t,["mediaResolution"]);n!=null&&h(e,["mediaResolution"],n);const i=f(t,["codeExecutionResult"]);i!=null&&h(e,["codeExecutionResult"],i);const r=f(t,["executableCode"]);r!=null&&h(e,["executableCode"],r);const l=f(t,["fileData"]);l!=null&&h(e,["fileData"],CU(l));const c=f(t,["functionCall"]);c!=null&&h(e,["functionCall"],bU(c));const d=f(t,["functionResponse"]);d!=null&&h(e,["functionResponse"],d);const m=f(t,["inlineData"]);m!=null&&h(e,["inlineData"],Lu(m));const p=f(t,["text"]);p!=null&&h(e,["text"],p);const y=f(t,["thought"]);y!=null&&h(e,["thought"],y);const _=f(t,["thoughtSignature"]);_!=null&&h(e,["thoughtSignature"],_);const S=f(t,["videoMetadata"]);return S!=null&&h(e,["videoMetadata"],S),e}function GU(t){const e={},n=f(t,["handle"]);if(n!=null&&h(e,["handle"],n),f(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function uC(t){const e={},n=f(t,["voiceConfig"]);n!=null&&h(e,["voiceConfig"],n);const i=f(t,["languageCode"]);if(i!=null&&h(e,["languageCode"],i),f(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return e}function VU(t){const e={},n=f(t,["functionDeclarations"]);if(n!=null){let y=n;Array.isArray(y)&&(y=y.map(_=>_)),h(e,["functionDeclarations"],y)}if(f(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=f(t,["googleSearchRetrieval"]);i!=null&&h(e,["googleSearchRetrieval"],i);const r=f(t,["computerUse"]);r!=null&&h(e,["computerUse"],r);const l=f(t,["fileSearch"]);l!=null&&h(e,["fileSearch"],l);const c=f(t,["codeExecution"]);if(c!=null&&h(e,["codeExecution"],c),f(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const d=f(t,["googleMaps"]);d!=null&&h(e,["googleMaps"],xU(d));const m=f(t,["googleSearch"]);m!=null&&h(e,["googleSearch"],MU(m));const p=f(t,["urlContext"]);return p!=null&&h(e,["urlContext"],p),e}function qU(t){const e={},n=f(t,["functionDeclarations"]);if(n!=null){let _=n;Array.isArray(_)&&(_=_.map(S=>wU(S))),h(e,["functionDeclarations"],_)}const i=f(t,["retrieval"]);i!=null&&h(e,["retrieval"],i);const r=f(t,["googleSearchRetrieval"]);r!=null&&h(e,["googleSearchRetrieval"],r);const l=f(t,["computerUse"]);if(l!=null&&h(e,["computerUse"],l),f(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const c=f(t,["codeExecution"]);c!=null&&h(e,["codeExecution"],c);const d=f(t,["enterpriseWebSearch"]);d!=null&&h(e,["enterpriseWebSearch"],d);const m=f(t,["googleMaps"]);m!=null&&h(e,["googleMaps"],m);const p=f(t,["googleSearch"]);p!=null&&h(e,["googleSearch"],p);const y=f(t,["urlContext"]);return y!=null&&h(e,["urlContext"],y),e}function FU(t){const e={},n=f(t,["promptTokenCount"]);n!=null&&h(e,["promptTokenCount"],n);const i=f(t,["cachedContentTokenCount"]);i!=null&&h(e,["cachedContentTokenCount"],i);const r=f(t,["candidatesTokenCount"]);r!=null&&h(e,["responseTokenCount"],r);const l=f(t,["toolUsePromptTokenCount"]);l!=null&&h(e,["toolUsePromptTokenCount"],l);const c=f(t,["thoughtsTokenCount"]);c!=null&&h(e,["thoughtsTokenCount"],c);const d=f(t,["totalTokenCount"]);d!=null&&h(e,["totalTokenCount"],d);const m=f(t,["promptTokensDetails"]);if(m!=null){let T=m;Array.isArray(T)&&(T=T.map(b=>b)),h(e,["promptTokensDetails"],T)}const p=f(t,["cacheTokensDetails"]);if(p!=null){let T=p;Array.isArray(T)&&(T=T.map(b=>b)),h(e,["cacheTokensDetails"],T)}const y=f(t,["candidatesTokensDetails"]);if(y!=null){let T=y;Array.isArray(T)&&(T=T.map(b=>b)),h(e,["responseTokensDetails"],T)}const _=f(t,["toolUsePromptTokensDetails"]);if(_!=null){let T=_;Array.isArray(T)&&(T=T.map(b=>b)),h(e,["toolUsePromptTokensDetails"],T)}const S=f(t,["trafficType"]);return S!=null&&h(e,["trafficType"],S),e}function zU(t){const e={},n=f(t,["data"]);if(n!=null&&h(e,["data"],n),f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=f(t,["mimeType"]);return i!=null&&h(e,["mimeType"],i),e}function $U(t){const e={},n=f(t,["content"]);n!=null&&h(e,["content"],n);const i=f(t,["citationMetadata"]);i!=null&&h(e,["citationMetadata"],JU(i));const r=f(t,["tokenCount"]);r!=null&&h(e,["tokenCount"],r);const l=f(t,["finishReason"]);l!=null&&h(e,["finishReason"],l);const c=f(t,["avgLogprobs"]);c!=null&&h(e,["avgLogprobs"],c);const d=f(t,["groundingMetadata"]);d!=null&&h(e,["groundingMetadata"],d);const m=f(t,["index"]);m!=null&&h(e,["index"],m);const p=f(t,["logprobsResult"]);p!=null&&h(e,["logprobsResult"],p);const y=f(t,["safetyRatings"]);if(y!=null){let S=y;Array.isArray(S)&&(S=S.map(T=>T)),h(e,["safetyRatings"],S)}const _=f(t,["urlContextMetadata"]);return _!=null&&h(e,["urlContextMetadata"],_),e}function JU(t){const e={},n=f(t,["citationSources"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(r=>r)),h(e,["citations"],i)}return e}function YU(t,e){const n={},i=f(e,["model"]);i!=null&&h(n,["_url","model"],Pe(t,i));const r=f(e,["contents"]);if(r!=null){let l=Tn(r);Array.isArray(l)&&(l=l.map(c=>c)),h(n,["contents"],l)}return n}function KU(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&h(e,["sdkHttpResponse"],n);const i=f(t,["tokensInfo"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(l=>l)),h(e,["tokensInfo"],r)}return e}function XU(t){const e={},n=f(t,["values"]);n!=null&&h(e,["values"],n);const i=f(t,["statistics"]);return i!=null&&h(e,["statistics"],QU(i)),e}function QU(t){const e={},n=f(t,["truncated"]);n!=null&&h(e,["truncated"],n);const i=f(t,["token_count"]);return i!=null&&h(e,["tokenCount"],i),e}function Dc(t){const e={},n=f(t,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(l=>sP(l))),h(e,["parts"],r)}const i=f(t,["role"]);return i!=null&&h(e,["role"],i),e}function WU(t){const e={},n=f(t,["controlType"]);n!=null&&h(e,["controlType"],n);const i=f(t,["enableControlImageComputation"]);return i!=null&&h(e,["computeControl"],i),e}function ZU(t){const e={};if(f(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(f(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(f(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function jU(t,e){const n={},i=f(t,["systemInstruction"]);e!==void 0&&i!=null&&h(e,["systemInstruction"],Nt(i));const r=f(t,["tools"]);if(e!==void 0&&r!=null){let c=r;Array.isArray(c)&&(c=c.map(d=>pC(d))),h(e,["tools"],c)}const l=f(t,["generationConfig"]);return e!==void 0&&l!=null&&h(e,["generationConfig"],zL(l)),n}function eL(t,e){const n={},i=f(e,["model"]);i!=null&&h(n,["_url","model"],Pe(t,i));const r=f(e,["contents"]);if(r!=null){let c=Tn(r);Array.isArray(c)&&(c=c.map(d=>Dc(d))),h(n,["contents"],c)}const l=f(e,["config"]);return l!=null&&ZU(l),n}function tL(t,e){const n={},i=f(e,["model"]);i!=null&&h(n,["_url","model"],Pe(t,i));const r=f(e,["contents"]);if(r!=null){let c=Tn(r);Array.isArray(c)&&(c=c.map(d=>d)),h(n,["contents"],c)}const l=f(e,["config"]);return l!=null&&jU(l,n),n}function nL(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&h(e,["sdkHttpResponse"],n);const i=f(t,["totalTokens"]);i!=null&&h(e,["totalTokens"],i);const r=f(t,["cachedContentTokenCount"]);return r!=null&&h(e,["cachedContentTokenCount"],r),e}function iL(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&h(e,["sdkHttpResponse"],n);const i=f(t,["totalTokens"]);return i!=null&&h(e,["totalTokens"],i),e}function oL(t,e){const n={},i=f(e,["model"]);return i!=null&&h(n,["_url","name"],Pe(t,i)),n}function sL(t,e){const n={},i=f(e,["model"]);return i!=null&&h(n,["_url","name"],Pe(t,i)),n}function rL(t){const e={},n=f(t,["sdkHttpResponse"]);return n!=null&&h(e,["sdkHttpResponse"],n),e}function aL(t){const e={},n=f(t,["sdkHttpResponse"]);return n!=null&&h(e,["sdkHttpResponse"],n),e}function lL(t,e){const n={},i=f(t,["outputGcsUri"]);e!==void 0&&i!=null&&h(e,["parameters","storageUri"],i);const r=f(t,["negativePrompt"]);e!==void 0&&r!=null&&h(e,["parameters","negativePrompt"],r);const l=f(t,["numberOfImages"]);e!==void 0&&l!=null&&h(e,["parameters","sampleCount"],l);const c=f(t,["aspectRatio"]);e!==void 0&&c!=null&&h(e,["parameters","aspectRatio"],c);const d=f(t,["guidanceScale"]);e!==void 0&&d!=null&&h(e,["parameters","guidanceScale"],d);const m=f(t,["seed"]);e!==void 0&&m!=null&&h(e,["parameters","seed"],m);const p=f(t,["safetyFilterLevel"]);e!==void 0&&p!=null&&h(e,["parameters","safetySetting"],p);const y=f(t,["personGeneration"]);e!==void 0&&y!=null&&h(e,["parameters","personGeneration"],y);const _=f(t,["includeSafetyAttributes"]);e!==void 0&&_!=null&&h(e,["parameters","includeSafetyAttributes"],_);const S=f(t,["includeRaiReason"]);e!==void 0&&S!=null&&h(e,["parameters","includeRaiReason"],S);const T=f(t,["language"]);e!==void 0&&T!=null&&h(e,["parameters","language"],T);const b=f(t,["outputMimeType"]);e!==void 0&&b!=null&&h(e,["parameters","outputOptions","mimeType"],b);const R=f(t,["outputCompressionQuality"]);e!==void 0&&R!=null&&h(e,["parameters","outputOptions","compressionQuality"],R);const x=f(t,["addWatermark"]);e!==void 0&&x!=null&&h(e,["parameters","addWatermark"],x);const P=f(t,["labels"]);e!==void 0&&P!=null&&h(e,["labels"],P);const H=f(t,["editMode"]);e!==void 0&&H!=null&&h(e,["parameters","editMode"],H);const B=f(t,["baseSteps"]);return e!==void 0&&B!=null&&h(e,["parameters","editConfig","baseSteps"],B),n}function uL(t,e){const n={},i=f(e,["model"]);i!=null&&h(n,["_url","model"],Pe(t,i));const r=f(e,["prompt"]);r!=null&&h(n,["instances[0]","prompt"],r);const l=f(e,["referenceImages"]);if(l!=null){let d=l;Array.isArray(d)&&(d=d.map(m=>fP(m))),h(n,["instances[0]","referenceImages"],d)}const c=f(e,["config"]);return c!=null&&lL(c,n),n}function cL(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&h(e,["sdkHttpResponse"],n);const i=f(t,["predictions"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(l=>Oc(l))),h(e,["generatedImages"],r)}return e}function fL(t,e){const n={},i=f(t,["taskType"]);e!==void 0&&i!=null&&h(e,["requests[]","taskType"],i);const r=f(t,["title"]);e!==void 0&&r!=null&&h(e,["requests[]","title"],r);const l=f(t,["outputDimensionality"]);if(e!==void 0&&l!=null&&h(e,["requests[]","outputDimensionality"],l),f(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(f(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function dL(t,e){const n={},i=f(t,["taskType"]);e!==void 0&&i!=null&&h(e,["instances[]","task_type"],i);const r=f(t,["title"]);e!==void 0&&r!=null&&h(e,["instances[]","title"],r);const l=f(t,["outputDimensionality"]);e!==void 0&&l!=null&&h(e,["parameters","outputDimensionality"],l);const c=f(t,["mimeType"]);e!==void 0&&c!=null&&h(e,["instances[]","mimeType"],c);const d=f(t,["autoTruncate"]);return e!==void 0&&d!=null&&h(e,["parameters","autoTruncate"],d),n}function hL(t,e){const n={},i=f(e,["model"]);i!=null&&h(n,["_url","model"],Pe(t,i));const r=f(e,["contents"]);if(r!=null){let d=_m(t,r);Array.isArray(d)&&(d=d.map(m=>m)),h(n,["requests[]","content"],d)}const l=f(e,["config"]);l!=null&&fL(l,n);const c=f(e,["model"]);return c!==void 0&&h(n,["requests[]","model"],Pe(t,c)),n}function pL(t,e){const n={},i=f(e,["model"]);i!=null&&h(n,["_url","model"],Pe(t,i));const r=f(e,["contents"]);if(r!=null){let c=_m(t,r);Array.isArray(c)&&(c=c.map(d=>d)),h(n,["instances[]","content"],c)}const l=f(e,["config"]);return l!=null&&dL(l,n),n}function mL(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&h(e,["sdkHttpResponse"],n);const i=f(t,["embeddings"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(c=>c)),h(e,["embeddings"],l)}const r=f(t,["metadata"]);return r!=null&&h(e,["metadata"],r),e}function gL(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&h(e,["sdkHttpResponse"],n);const i=f(t,["predictions[]","embeddings"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(c=>XU(c))),h(e,["embeddings"],l)}const r=f(t,["metadata"]);return r!=null&&h(e,["metadata"],r),e}function vL(t){const e={},n=f(t,["endpoint"]);n!=null&&h(e,["name"],n);const i=f(t,["deployedModelId"]);return i!=null&&h(e,["deployedModelId"],i),e}function yL(t){const e={};if(f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=f(t,["fileUri"]);n!=null&&h(e,["fileUri"],n);const i=f(t,["mimeType"]);return i!=null&&h(e,["mimeType"],i),e}function _L(t){const e={},n=f(t,["id"]);n!=null&&h(e,["id"],n);const i=f(t,["args"]);i!=null&&h(e,["args"],i);const r=f(t,["name"]);if(r!=null&&h(e,["name"],r),f(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(f(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function SL(t){const e={},n=f(t,["mode"]);n!=null&&h(e,["mode"],n);const i=f(t,["allowedFunctionNames"]);if(i!=null&&h(e,["allowedFunctionNames"],i),f(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function EL(t){const e={};if(f(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=f(t,["description"]);n!=null&&h(e,["description"],n);const i=f(t,["name"]);i!=null&&h(e,["name"],i);const r=f(t,["parameters"]);r!=null&&h(e,["parameters"],r);const l=f(t,["parametersJsonSchema"]);l!=null&&h(e,["parametersJsonSchema"],l);const c=f(t,["response"]);c!=null&&h(e,["response"],c);const d=f(t,["responseJsonSchema"]);return d!=null&&h(e,["responseJsonSchema"],d),e}function TL(t,e,n){const i={},r=f(e,["systemInstruction"]);n!==void 0&&r!=null&&h(n,["systemInstruction"],Dc(Nt(r)));const l=f(e,["temperature"]);l!=null&&h(i,["temperature"],l);const c=f(e,["topP"]);c!=null&&h(i,["topP"],c);const d=f(e,["topK"]);d!=null&&h(i,["topK"],d);const m=f(e,["candidateCount"]);m!=null&&h(i,["candidateCount"],m);const p=f(e,["maxOutputTokens"]);p!=null&&h(i,["maxOutputTokens"],p);const y=f(e,["stopSequences"]);y!=null&&h(i,["stopSequences"],y);const _=f(e,["responseLogprobs"]);_!=null&&h(i,["responseLogprobs"],_);const S=f(e,["logprobs"]);S!=null&&h(i,["logprobs"],S);const T=f(e,["presencePenalty"]);T!=null&&h(i,["presencePenalty"],T);const b=f(e,["frequencyPenalty"]);b!=null&&h(i,["frequencyPenalty"],b);const R=f(e,["seed"]);R!=null&&h(i,["seed"],R);const x=f(e,["responseMimeType"]);x!=null&&h(i,["responseMimeType"],x);const P=f(e,["responseSchema"]);P!=null&&h(i,["responseSchema"],Sm(P));const H=f(e,["responseJsonSchema"]);if(H!=null&&h(i,["responseJsonSchema"],H),f(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(f(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const B=f(e,["safetySettings"]);if(n!==void 0&&B!=null){let Ee=B;Array.isArray(Ee)&&(Ee=Ee.map($e=>dP($e))),h(n,["safetySettings"],Ee)}const q=f(e,["tools"]);if(n!==void 0&&q!=null){let Ee=hr(q);Array.isArray(Ee)&&(Ee=Ee.map($e=>_P(dr($e)))),h(n,["tools"],Ee)}const Q=f(e,["toolConfig"]);if(n!==void 0&&Q!=null&&h(n,["toolConfig"],yP(Q)),f(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const K=f(e,["cachedContent"]);n!==void 0&&K!=null&&h(n,["cachedContent"],Ni(t,K));const $=f(e,["responseModalities"]);$!=null&&h(i,["responseModalities"],$);const oe=f(e,["mediaResolution"]);oe!=null&&h(i,["mediaResolution"],oe);const Z=f(e,["speechConfig"]);if(Z!=null&&h(i,["speechConfig"],Em(Z)),f(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const ae=f(e,["thinkingConfig"]);ae!=null&&h(i,["thinkingConfig"],ae);const de=f(e,["imageConfig"]);de!=null&&h(i,["imageConfig"],XL(de));const He=f(e,["enableEnhancedCivicAnswers"]);return He!=null&&h(i,["enableEnhancedCivicAnswers"],He),i}function AL(t,e,n){const i={},r=f(e,["systemInstruction"]);n!==void 0&&r!=null&&h(n,["systemInstruction"],Nt(r));const l=f(e,["temperature"]);l!=null&&h(i,["temperature"],l);const c=f(e,["topP"]);c!=null&&h(i,["topP"],c);const d=f(e,["topK"]);d!=null&&h(i,["topK"],d);const m=f(e,["candidateCount"]);m!=null&&h(i,["candidateCount"],m);const p=f(e,["maxOutputTokens"]);p!=null&&h(i,["maxOutputTokens"],p);const y=f(e,["stopSequences"]);y!=null&&h(i,["stopSequences"],y);const _=f(e,["responseLogprobs"]);_!=null&&h(i,["responseLogprobs"],_);const S=f(e,["logprobs"]);S!=null&&h(i,["logprobs"],S);const T=f(e,["presencePenalty"]);T!=null&&h(i,["presencePenalty"],T);const b=f(e,["frequencyPenalty"]);b!=null&&h(i,["frequencyPenalty"],b);const R=f(e,["seed"]);R!=null&&h(i,["seed"],R);const x=f(e,["responseMimeType"]);x!=null&&h(i,["responseMimeType"],x);const P=f(e,["responseSchema"]);P!=null&&h(i,["responseSchema"],Sm(P));const H=f(e,["responseJsonSchema"]);H!=null&&h(i,["responseJsonSchema"],H);const B=f(e,["routingConfig"]);B!=null&&h(i,["routingConfig"],B);const q=f(e,["modelSelectionConfig"]);q!=null&&h(i,["modelConfig"],q);const Q=f(e,["safetySettings"]);if(n!==void 0&&Q!=null){let G=Q;Array.isArray(G)&&(G=G.map(W=>W)),h(n,["safetySettings"],G)}const K=f(e,["tools"]);if(n!==void 0&&K!=null){let G=hr(K);Array.isArray(G)&&(G=G.map(W=>pC(dr(W)))),h(n,["tools"],G)}const $=f(e,["toolConfig"]);n!==void 0&&$!=null&&h(n,["toolConfig"],$);const oe=f(e,["labels"]);n!==void 0&&oe!=null&&h(n,["labels"],oe);const Z=f(e,["cachedContent"]);n!==void 0&&Z!=null&&h(n,["cachedContent"],Ni(t,Z));const ae=f(e,["responseModalities"]);ae!=null&&h(i,["responseModalities"],ae);const de=f(e,["mediaResolution"]);de!=null&&h(i,["mediaResolution"],de);const He=f(e,["speechConfig"]);He!=null&&h(i,["speechConfig"],hC(Em(He)));const Ee=f(e,["audioTimestamp"]);Ee!=null&&h(i,["audioTimestamp"],Ee);const $e=f(e,["thinkingConfig"]);$e!=null&&h(i,["thinkingConfig"],$e);const nt=f(e,["imageConfig"]);if(nt!=null&&h(i,["imageConfig"],QL(nt)),f(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return i}function oE(t,e){const n={},i=f(e,["model"]);i!=null&&h(n,["_url","model"],Pe(t,i));const r=f(e,["contents"]);if(r!=null){let c=Tn(r);Array.isArray(c)&&(c=c.map(d=>Dc(d))),h(n,["contents"],c)}const l=f(e,["config"]);return l!=null&&h(n,["generationConfig"],TL(t,l,n)),n}function sE(t,e){const n={},i=f(e,["model"]);i!=null&&h(n,["_url","model"],Pe(t,i));const r=f(e,["contents"]);if(r!=null){let c=Tn(r);Array.isArray(c)&&(c=c.map(d=>d)),h(n,["contents"],c)}const l=f(e,["config"]);return l!=null&&h(n,["generationConfig"],AL(t,l,n)),n}function rE(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&h(e,["sdkHttpResponse"],n);const i=f(t,["candidates"]);if(i!=null){let m=i;Array.isArray(m)&&(m=m.map(p=>$U(p))),h(e,["candidates"],m)}const r=f(t,["modelVersion"]);r!=null&&h(e,["modelVersion"],r);const l=f(t,["promptFeedback"]);l!=null&&h(e,["promptFeedback"],l);const c=f(t,["responseId"]);c!=null&&h(e,["responseId"],c);const d=f(t,["usageMetadata"]);return d!=null&&h(e,["usageMetadata"],d),e}function aE(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&h(e,["sdkHttpResponse"],n);const i=f(t,["candidates"]);if(i!=null){let p=i;Array.isArray(p)&&(p=p.map(y=>y)),h(e,["candidates"],p)}const r=f(t,["createTime"]);r!=null&&h(e,["createTime"],r);const l=f(t,["modelVersion"]);l!=null&&h(e,["modelVersion"],l);const c=f(t,["promptFeedback"]);c!=null&&h(e,["promptFeedback"],c);const d=f(t,["responseId"]);d!=null&&h(e,["responseId"],d);const m=f(t,["usageMetadata"]);return m!=null&&h(e,["usageMetadata"],m),e}function CL(t,e){const n={};if(f(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(f(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const i=f(t,["numberOfImages"]);e!==void 0&&i!=null&&h(e,["parameters","sampleCount"],i);const r=f(t,["aspectRatio"]);e!==void 0&&r!=null&&h(e,["parameters","aspectRatio"],r);const l=f(t,["guidanceScale"]);if(e!==void 0&&l!=null&&h(e,["parameters","guidanceScale"],l),f(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const c=f(t,["safetyFilterLevel"]);e!==void 0&&c!=null&&h(e,["parameters","safetySetting"],c);const d=f(t,["personGeneration"]);e!==void 0&&d!=null&&h(e,["parameters","personGeneration"],d);const m=f(t,["includeSafetyAttributes"]);e!==void 0&&m!=null&&h(e,["parameters","includeSafetyAttributes"],m);const p=f(t,["includeRaiReason"]);e!==void 0&&p!=null&&h(e,["parameters","includeRaiReason"],p);const y=f(t,["language"]);e!==void 0&&y!=null&&h(e,["parameters","language"],y);const _=f(t,["outputMimeType"]);e!==void 0&&_!=null&&h(e,["parameters","outputOptions","mimeType"],_);const S=f(t,["outputCompressionQuality"]);if(e!==void 0&&S!=null&&h(e,["parameters","outputOptions","compressionQuality"],S),f(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(f(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const T=f(t,["imageSize"]);if(e!==void 0&&T!=null&&h(e,["parameters","sampleImageSize"],T),f(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function bL(t,e){const n={},i=f(t,["outputGcsUri"]);e!==void 0&&i!=null&&h(e,["parameters","storageUri"],i);const r=f(t,["negativePrompt"]);e!==void 0&&r!=null&&h(e,["parameters","negativePrompt"],r);const l=f(t,["numberOfImages"]);e!==void 0&&l!=null&&h(e,["parameters","sampleCount"],l);const c=f(t,["aspectRatio"]);e!==void 0&&c!=null&&h(e,["parameters","aspectRatio"],c);const d=f(t,["guidanceScale"]);e!==void 0&&d!=null&&h(e,["parameters","guidanceScale"],d);const m=f(t,["seed"]);e!==void 0&&m!=null&&h(e,["parameters","seed"],m);const p=f(t,["safetyFilterLevel"]);e!==void 0&&p!=null&&h(e,["parameters","safetySetting"],p);const y=f(t,["personGeneration"]);e!==void 0&&y!=null&&h(e,["parameters","personGeneration"],y);const _=f(t,["includeSafetyAttributes"]);e!==void 0&&_!=null&&h(e,["parameters","includeSafetyAttributes"],_);const S=f(t,["includeRaiReason"]);e!==void 0&&S!=null&&h(e,["parameters","includeRaiReason"],S);const T=f(t,["language"]);e!==void 0&&T!=null&&h(e,["parameters","language"],T);const b=f(t,["outputMimeType"]);e!==void 0&&b!=null&&h(e,["parameters","outputOptions","mimeType"],b);const R=f(t,["outputCompressionQuality"]);e!==void 0&&R!=null&&h(e,["parameters","outputOptions","compressionQuality"],R);const x=f(t,["addWatermark"]);e!==void 0&&x!=null&&h(e,["parameters","addWatermark"],x);const P=f(t,["labels"]);e!==void 0&&P!=null&&h(e,["labels"],P);const H=f(t,["imageSize"]);e!==void 0&&H!=null&&h(e,["parameters","sampleImageSize"],H);const B=f(t,["enhancePrompt"]);return e!==void 0&&B!=null&&h(e,["parameters","enhancePrompt"],B),n}function wL(t,e){const n={},i=f(e,["model"]);i!=null&&h(n,["_url","model"],Pe(t,i));const r=f(e,["prompt"]);r!=null&&h(n,["instances[0]","prompt"],r);const l=f(e,["config"]);return l!=null&&CL(l,n),n}function RL(t,e){const n={},i=f(e,["model"]);i!=null&&h(n,["_url","model"],Pe(t,i));const r=f(e,["prompt"]);r!=null&&h(n,["instances[0]","prompt"],r);const l=f(e,["config"]);return l!=null&&bL(l,n),n}function xL(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&h(e,["sdkHttpResponse"],n);const i=f(t,["predictions"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(c=>GL(c))),h(e,["generatedImages"],l)}const r=f(t,["positivePromptSafetyAttributes"]);return r!=null&&h(e,["positivePromptSafetyAttributes"],fC(r)),e}function ML(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&h(e,["sdkHttpResponse"],n);const i=f(t,["predictions"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(c=>Oc(c))),h(e,["generatedImages"],l)}const r=f(t,["positivePromptSafetyAttributes"]);return r!=null&&h(e,["positivePromptSafetyAttributes"],dC(r)),e}function NL(t,e){const n={},i=f(t,["numberOfVideos"]);if(e!==void 0&&i!=null&&h(e,["parameters","sampleCount"],i),f(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(f(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const r=f(t,["durationSeconds"]);if(e!==void 0&&r!=null&&h(e,["parameters","durationSeconds"],r),f(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const l=f(t,["aspectRatio"]);e!==void 0&&l!=null&&h(e,["parameters","aspectRatio"],l);const c=f(t,["resolution"]);e!==void 0&&c!=null&&h(e,["parameters","resolution"],c);const d=f(t,["personGeneration"]);if(e!==void 0&&d!=null&&h(e,["parameters","personGeneration"],d),f(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const m=f(t,["negativePrompt"]);e!==void 0&&m!=null&&h(e,["parameters","negativePrompt"],m);const p=f(t,["enhancePrompt"]);if(e!==void 0&&p!=null&&h(e,["parameters","enhancePrompt"],p),f(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const y=f(t,["lastFrame"]);e!==void 0&&y!=null&&h(e,["instances[0]","lastFrame"],Uc(y));const _=f(t,["referenceImages"]);if(e!==void 0&&_!=null){let S=_;Array.isArray(S)&&(S=S.map(T=>DP(T))),h(e,["instances[0]","referenceImages"],S)}if(f(t,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(f(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function IL(t,e){const n={},i=f(t,["numberOfVideos"]);e!==void 0&&i!=null&&h(e,["parameters","sampleCount"],i);const r=f(t,["outputGcsUri"]);e!==void 0&&r!=null&&h(e,["parameters","storageUri"],r);const l=f(t,["fps"]);e!==void 0&&l!=null&&h(e,["parameters","fps"],l);const c=f(t,["durationSeconds"]);e!==void 0&&c!=null&&h(e,["parameters","durationSeconds"],c);const d=f(t,["seed"]);e!==void 0&&d!=null&&h(e,["parameters","seed"],d);const m=f(t,["aspectRatio"]);e!==void 0&&m!=null&&h(e,["parameters","aspectRatio"],m);const p=f(t,["resolution"]);e!==void 0&&p!=null&&h(e,["parameters","resolution"],p);const y=f(t,["personGeneration"]);e!==void 0&&y!=null&&h(e,["parameters","personGeneration"],y);const _=f(t,["pubsubTopic"]);e!==void 0&&_!=null&&h(e,["parameters","pubsubTopic"],_);const S=f(t,["negativePrompt"]);e!==void 0&&S!=null&&h(e,["parameters","negativePrompt"],S);const T=f(t,["enhancePrompt"]);e!==void 0&&T!=null&&h(e,["parameters","enhancePrompt"],T);const b=f(t,["generateAudio"]);e!==void 0&&b!=null&&h(e,["parameters","generateAudio"],b);const R=f(t,["lastFrame"]);e!==void 0&&R!=null&&h(e,["instances[0]","lastFrame"],Hn(R));const x=f(t,["referenceImages"]);if(e!==void 0&&x!=null){let B=x;Array.isArray(B)&&(B=B.map(q=>OP(q))),h(e,["instances[0]","referenceImages"],B)}const P=f(t,["mask"]);e!==void 0&&P!=null&&h(e,["instances[0]","mask"],IP(P));const H=f(t,["compressionQuality"]);return e!==void 0&&H!=null&&h(e,["parameters","compressionQuality"],H),n}function DL(t){const e={},n=f(t,["name"]);n!=null&&h(e,["name"],n);const i=f(t,["metadata"]);i!=null&&h(e,["metadata"],i);const r=f(t,["done"]);r!=null&&h(e,["done"],r);const l=f(t,["error"]);l!=null&&h(e,["error"],l);const c=f(t,["response","generateVideoResponse"]);return c!=null&&h(e,["response"],PL(c)),e}function OL(t){const e={},n=f(t,["name"]);n!=null&&h(e,["name"],n);const i=f(t,["metadata"]);i!=null&&h(e,["metadata"],i);const r=f(t,["done"]);r!=null&&h(e,["done"],r);const l=f(t,["error"]);l!=null&&h(e,["error"],l);const c=f(t,["response"]);return c!=null&&h(e,["response"],kL(c)),e}function UL(t,e){const n={},i=f(e,["model"]);i!=null&&h(n,["_url","model"],Pe(t,i));const r=f(e,["prompt"]);r!=null&&h(n,["instances[0]","prompt"],r);const l=f(e,["image"]);l!=null&&h(n,["instances[0]","image"],Uc(l));const c=f(e,["video"]);c!=null&&h(n,["instances[0]","video"],mC(c));const d=f(e,["source"]);d!=null&&BL(d,n);const m=f(e,["config"]);return m!=null&&NL(m,n),n}function LL(t,e){const n={},i=f(e,["model"]);i!=null&&h(n,["_url","model"],Pe(t,i));const r=f(e,["prompt"]);r!=null&&h(n,["instances[0]","prompt"],r);const l=f(e,["image"]);l!=null&&h(n,["instances[0]","image"],Hn(l));const c=f(e,["video"]);c!=null&&h(n,["instances[0]","video"],gC(c));const d=f(e,["source"]);d!=null&&HL(d,n);const m=f(e,["config"]);return m!=null&&IL(m,n),n}function PL(t){const e={},n=f(t,["generatedSamples"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(c=>qL(c))),h(e,["generatedVideos"],l)}const i=f(t,["raiMediaFilteredCount"]);i!=null&&h(e,["raiMediaFilteredCount"],i);const r=f(t,["raiMediaFilteredReasons"]);return r!=null&&h(e,["raiMediaFilteredReasons"],r),e}function kL(t){const e={},n=f(t,["videos"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(c=>FL(c))),h(e,["generatedVideos"],l)}const i=f(t,["raiMediaFilteredCount"]);i!=null&&h(e,["raiMediaFilteredCount"],i);const r=f(t,["raiMediaFilteredReasons"]);return r!=null&&h(e,["raiMediaFilteredReasons"],r),e}function BL(t,e){const n={},i=f(t,["prompt"]);e!==void 0&&i!=null&&h(e,["instances[0]","prompt"],i);const r=f(t,["image"]);e!==void 0&&r!=null&&h(e,["instances[0]","image"],Uc(r));const l=f(t,["video"]);return e!==void 0&&l!=null&&h(e,["instances[0]","video"],mC(l)),n}function HL(t,e){const n={},i=f(t,["prompt"]);e!==void 0&&i!=null&&h(e,["instances[0]","prompt"],i);const r=f(t,["image"]);e!==void 0&&r!=null&&h(e,["instances[0]","image"],Hn(r));const l=f(t,["video"]);return e!==void 0&&l!=null&&h(e,["instances[0]","video"],gC(l)),n}function GL(t){const e={},n=f(t,["_self"]);n!=null&&h(e,["image"],WL(n));const i=f(t,["raiFilteredReason"]);i!=null&&h(e,["raiFilteredReason"],i);const r=f(t,["_self"]);return r!=null&&h(e,["safetyAttributes"],fC(r)),e}function Oc(t){const e={},n=f(t,["_self"]);n!=null&&h(e,["image"],cC(n));const i=f(t,["raiFilteredReason"]);i!=null&&h(e,["raiFilteredReason"],i);const r=f(t,["_self"]);r!=null&&h(e,["safetyAttributes"],dC(r));const l=f(t,["prompt"]);return l!=null&&h(e,["enhancedPrompt"],l),e}function VL(t){const e={},n=f(t,["_self"]);n!=null&&h(e,["mask"],cC(n));const i=f(t,["labels"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(l=>l)),h(e,["labels"],r)}return e}function qL(t){const e={},n=f(t,["video"]);return n!=null&&h(e,["video"],MP(n)),e}function FL(t){const e={},n=f(t,["_self"]);return n!=null&&h(e,["video"],NP(n)),e}function zL(t){const e={},n=f(t,["modelSelectionConfig"]);n!=null&&h(e,["modelConfig"],n);const i=f(t,["responseJsonSchema"]);i!=null&&h(e,["responseJsonSchema"],i);const r=f(t,["audioTimestamp"]);r!=null&&h(e,["audioTimestamp"],r);const l=f(t,["candidateCount"]);l!=null&&h(e,["candidateCount"],l);const c=f(t,["enableAffectiveDialog"]);c!=null&&h(e,["enableAffectiveDialog"],c);const d=f(t,["frequencyPenalty"]);d!=null&&h(e,["frequencyPenalty"],d);const m=f(t,["logprobs"]);m!=null&&h(e,["logprobs"],m);const p=f(t,["maxOutputTokens"]);p!=null&&h(e,["maxOutputTokens"],p);const y=f(t,["mediaResolution"]);y!=null&&h(e,["mediaResolution"],y);const _=f(t,["presencePenalty"]);_!=null&&h(e,["presencePenalty"],_);const S=f(t,["responseLogprobs"]);S!=null&&h(e,["responseLogprobs"],S);const T=f(t,["responseMimeType"]);T!=null&&h(e,["responseMimeType"],T);const b=f(t,["responseModalities"]);b!=null&&h(e,["responseModalities"],b);const R=f(t,["responseSchema"]);R!=null&&h(e,["responseSchema"],R);const x=f(t,["routingConfig"]);x!=null&&h(e,["routingConfig"],x);const P=f(t,["seed"]);P!=null&&h(e,["seed"],P);const H=f(t,["speechConfig"]);H!=null&&h(e,["speechConfig"],hC(H));const B=f(t,["stopSequences"]);B!=null&&h(e,["stopSequences"],B);const q=f(t,["temperature"]);q!=null&&h(e,["temperature"],q);const Q=f(t,["thinkingConfig"]);Q!=null&&h(e,["thinkingConfig"],Q);const K=f(t,["topK"]);K!=null&&h(e,["topK"],K);const $=f(t,["topP"]);if($!=null&&h(e,["topP"],$),f(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function $L(t,e){const n={},i=f(e,["model"]);return i!=null&&h(n,["_url","name"],Pe(t,i)),n}function JL(t,e){const n={},i=f(e,["model"]);return i!=null&&h(n,["_url","name"],Pe(t,i)),n}function YL(t){const e={};if(f(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=f(t,["enableWidget"]);return n!=null&&h(e,["enableWidget"],n),e}function KL(t){const e={};if(f(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(f(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=f(t,["timeRangeFilter"]);return n!=null&&h(e,["timeRangeFilter"],n),e}function XL(t){const e={},n=f(t,["aspectRatio"]);n!=null&&h(e,["aspectRatio"],n);const i=f(t,["imageSize"]);if(i!=null&&h(e,["imageSize"],i),f(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(f(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function QL(t){const e={},n=f(t,["aspectRatio"]);n!=null&&h(e,["aspectRatio"],n);const i=f(t,["imageSize"]);i!=null&&h(e,["imageSize"],i);const r=f(t,["outputMimeType"]);r!=null&&h(e,["imageOutputOptions","mimeType"],r);const l=f(t,["outputCompressionQuality"]);return l!=null&&h(e,["imageOutputOptions","compressionQuality"],l),e}function WL(t){const e={},n=f(t,["bytesBase64Encoded"]);n!=null&&h(e,["imageBytes"],po(n));const i=f(t,["mimeType"]);return i!=null&&h(e,["mimeType"],i),e}function cC(t){const e={},n=f(t,["gcsUri"]);n!=null&&h(e,["gcsUri"],n);const i=f(t,["bytesBase64Encoded"]);i!=null&&h(e,["imageBytes"],po(i));const r=f(t,["mimeType"]);return r!=null&&h(e,["mimeType"],r),e}function Uc(t){const e={};if(f(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=f(t,["imageBytes"]);n!=null&&h(e,["bytesBase64Encoded"],po(n));const i=f(t,["mimeType"]);return i!=null&&h(e,["mimeType"],i),e}function Hn(t){const e={},n=f(t,["gcsUri"]);n!=null&&h(e,["gcsUri"],n);const i=f(t,["imageBytes"]);i!=null&&h(e,["bytesBase64Encoded"],po(i));const r=f(t,["mimeType"]);return r!=null&&h(e,["mimeType"],r),e}function ZL(t,e,n){const i={},r=f(e,["pageSize"]);n!==void 0&&r!=null&&h(n,["_query","pageSize"],r);const l=f(e,["pageToken"]);n!==void 0&&l!=null&&h(n,["_query","pageToken"],l);const c=f(e,["filter"]);n!==void 0&&c!=null&&h(n,["_query","filter"],c);const d=f(e,["queryBase"]);return n!==void 0&&d!=null&&h(n,["_url","models_url"],nC(t,d)),i}function jL(t,e,n){const i={},r=f(e,["pageSize"]);n!==void 0&&r!=null&&h(n,["_query","pageSize"],r);const l=f(e,["pageToken"]);n!==void 0&&l!=null&&h(n,["_query","pageToken"],l);const c=f(e,["filter"]);n!==void 0&&c!=null&&h(n,["_query","filter"],c);const d=f(e,["queryBase"]);return n!==void 0&&d!=null&&h(n,["_url","models_url"],nC(t,d)),i}function eP(t,e){const n={},i=f(e,["config"]);return i!=null&&ZL(t,i,n),n}function tP(t,e){const n={},i=f(e,["config"]);return i!=null&&jL(t,i,n),n}function nP(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&h(e,["sdkHttpResponse"],n);const i=f(t,["nextPageToken"]);i!=null&&h(e,["nextPageToken"],i);const r=f(t,["_self"]);if(r!=null){let l=iC(r);Array.isArray(l)&&(l=l.map(c=>yp(c))),h(e,["models"],l)}return e}function iP(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&h(e,["sdkHttpResponse"],n);const i=f(t,["nextPageToken"]);i!=null&&h(e,["nextPageToken"],i);const r=f(t,["_self"]);if(r!=null){let l=iC(r);Array.isArray(l)&&(l=l.map(c=>_p(c))),h(e,["models"],l)}return e}function oP(t){const e={},n=f(t,["maskMode"]);n!=null&&h(e,["maskMode"],n);const i=f(t,["segmentationClasses"]);i!=null&&h(e,["maskClasses"],i);const r=f(t,["maskDilation"]);return r!=null&&h(e,["dilation"],r),e}function yp(t){const e={},n=f(t,["name"]);n!=null&&h(e,["name"],n);const i=f(t,["displayName"]);i!=null&&h(e,["displayName"],i);const r=f(t,["description"]);r!=null&&h(e,["description"],r);const l=f(t,["version"]);l!=null&&h(e,["version"],l);const c=f(t,["_self"]);c!=null&&h(e,["tunedModelInfo"],SP(c));const d=f(t,["inputTokenLimit"]);d!=null&&h(e,["inputTokenLimit"],d);const m=f(t,["outputTokenLimit"]);m!=null&&h(e,["outputTokenLimit"],m);const p=f(t,["supportedGenerationMethods"]);p!=null&&h(e,["supportedActions"],p);const y=f(t,["temperature"]);y!=null&&h(e,["temperature"],y);const _=f(t,["maxTemperature"]);_!=null&&h(e,["maxTemperature"],_);const S=f(t,["topP"]);S!=null&&h(e,["topP"],S);const T=f(t,["topK"]);T!=null&&h(e,["topK"],T);const b=f(t,["thinking"]);return b!=null&&h(e,["thinking"],b),e}function _p(t){const e={},n=f(t,["name"]);n!=null&&h(e,["name"],n);const i=f(t,["displayName"]);i!=null&&h(e,["displayName"],i);const r=f(t,["description"]);r!=null&&h(e,["description"],r);const l=f(t,["versionId"]);l!=null&&h(e,["version"],l);const c=f(t,["deployedModels"]);if(c!=null){let _=c;Array.isArray(_)&&(_=_.map(S=>vL(S))),h(e,["endpoints"],_)}const d=f(t,["labels"]);d!=null&&h(e,["labels"],d);const m=f(t,["_self"]);m!=null&&h(e,["tunedModelInfo"],EP(m));const p=f(t,["defaultCheckpointId"]);p!=null&&h(e,["defaultCheckpointId"],p);const y=f(t,["checkpoints"]);if(y!=null){let _=y;Array.isArray(_)&&(_=_.map(S=>S)),h(e,["checkpoints"],_)}return e}function sP(t){const e={},n=f(t,["mediaResolution"]);n!=null&&h(e,["mediaResolution"],n);const i=f(t,["codeExecutionResult"]);i!=null&&h(e,["codeExecutionResult"],i);const r=f(t,["executableCode"]);r!=null&&h(e,["executableCode"],r);const l=f(t,["fileData"]);l!=null&&h(e,["fileData"],yL(l));const c=f(t,["functionCall"]);c!=null&&h(e,["functionCall"],_L(c));const d=f(t,["functionResponse"]);d!=null&&h(e,["functionResponse"],d);const m=f(t,["inlineData"]);m!=null&&h(e,["inlineData"],zU(m));const p=f(t,["text"]);p!=null&&h(e,["text"],p);const y=f(t,["thought"]);y!=null&&h(e,["thought"],y);const _=f(t,["thoughtSignature"]);_!=null&&h(e,["thoughtSignature"],_);const S=f(t,["videoMetadata"]);return S!=null&&h(e,["videoMetadata"],S),e}function rP(t){const e={},n=f(t,["productImage"]);return n!=null&&h(e,["image"],Hn(n)),e}function aP(t,e){const n={},i=f(t,["numberOfImages"]);e!==void 0&&i!=null&&h(e,["parameters","sampleCount"],i);const r=f(t,["baseSteps"]);e!==void 0&&r!=null&&h(e,["parameters","baseSteps"],r);const l=f(t,["outputGcsUri"]);e!==void 0&&l!=null&&h(e,["parameters","storageUri"],l);const c=f(t,["seed"]);e!==void 0&&c!=null&&h(e,["parameters","seed"],c);const d=f(t,["safetyFilterLevel"]);e!==void 0&&d!=null&&h(e,["parameters","safetySetting"],d);const m=f(t,["personGeneration"]);e!==void 0&&m!=null&&h(e,["parameters","personGeneration"],m);const p=f(t,["addWatermark"]);e!==void 0&&p!=null&&h(e,["parameters","addWatermark"],p);const y=f(t,["outputMimeType"]);e!==void 0&&y!=null&&h(e,["parameters","outputOptions","mimeType"],y);const _=f(t,["outputCompressionQuality"]);e!==void 0&&_!=null&&h(e,["parameters","outputOptions","compressionQuality"],_);const S=f(t,["enhancePrompt"]);e!==void 0&&S!=null&&h(e,["parameters","enhancePrompt"],S);const T=f(t,["labels"]);return e!==void 0&&T!=null&&h(e,["labels"],T),n}function lP(t,e){const n={},i=f(e,["model"]);i!=null&&h(n,["_url","model"],Pe(t,i));const r=f(e,["source"]);r!=null&&cP(r,n);const l=f(e,["config"]);return l!=null&&aP(l,n),n}function uP(t){const e={},n=f(t,["predictions"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(r=>Oc(r))),h(e,["generatedImages"],i)}return e}function cP(t,e){const n={},i=f(t,["prompt"]);e!==void 0&&i!=null&&h(e,["instances[0]","prompt"],i);const r=f(t,["personImage"]);e!==void 0&&r!=null&&h(e,["instances[0]","personImage","image"],Hn(r));const l=f(t,["productImages"]);if(e!==void 0&&l!=null){let c=l;Array.isArray(c)&&(c=c.map(d=>rP(d))),h(e,["instances[0]","productImages"],c)}return n}function fP(t){const e={},n=f(t,["referenceImage"]);n!=null&&h(e,["referenceImage"],Hn(n));const i=f(t,["referenceId"]);i!=null&&h(e,["referenceId"],i);const r=f(t,["referenceType"]);r!=null&&h(e,["referenceType"],r);const l=f(t,["maskImageConfig"]);l!=null&&h(e,["maskImageConfig"],oP(l));const c=f(t,["controlImageConfig"]);c!=null&&h(e,["controlImageConfig"],WU(c));const d=f(t,["styleImageConfig"]);d!=null&&h(e,["styleImageConfig"],d);const m=f(t,["subjectImageConfig"]);return m!=null&&h(e,["subjectImageConfig"],m),e}function fC(t){const e={},n=f(t,["safetyAttributes","categories"]);n!=null&&h(e,["categories"],n);const i=f(t,["safetyAttributes","scores"]);i!=null&&h(e,["scores"],i);const r=f(t,["contentType"]);return r!=null&&h(e,["contentType"],r),e}function dC(t){const e={},n=f(t,["safetyAttributes","categories"]);n!=null&&h(e,["categories"],n);const i=f(t,["safetyAttributes","scores"]);i!=null&&h(e,["scores"],i);const r=f(t,["contentType"]);return r!=null&&h(e,["contentType"],r),e}function dP(t){const e={},n=f(t,["category"]);if(n!=null&&h(e,["category"],n),f(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const i=f(t,["threshold"]);return i!=null&&h(e,["threshold"],i),e}function hP(t){const e={},n=f(t,["image"]);return n!=null&&h(e,["image"],Hn(n)),e}function pP(t,e){const n={},i=f(t,["mode"]);e!==void 0&&i!=null&&h(e,["parameters","mode"],i);const r=f(t,["maxPredictions"]);e!==void 0&&r!=null&&h(e,["parameters","maxPredictions"],r);const l=f(t,["confidenceThreshold"]);e!==void 0&&l!=null&&h(e,["parameters","confidenceThreshold"],l);const c=f(t,["maskDilation"]);e!==void 0&&c!=null&&h(e,["parameters","maskDilation"],c);const d=f(t,["binaryColorThreshold"]);e!==void 0&&d!=null&&h(e,["parameters","binaryColorThreshold"],d);const m=f(t,["labels"]);return e!==void 0&&m!=null&&h(e,["labels"],m),n}function mP(t,e){const n={},i=f(e,["model"]);i!=null&&h(n,["_url","model"],Pe(t,i));const r=f(e,["source"]);r!=null&&vP(r,n);const l=f(e,["config"]);return l!=null&&pP(l,n),n}function gP(t){const e={},n=f(t,["predictions"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(r=>VL(r))),h(e,["generatedMasks"],i)}return e}function vP(t,e){const n={},i=f(t,["prompt"]);e!==void 0&&i!=null&&h(e,["instances[0]","prompt"],i);const r=f(t,["image"]);e!==void 0&&r!=null&&h(e,["instances[0]","image"],Hn(r));const l=f(t,["scribbleImage"]);return e!==void 0&&l!=null&&h(e,["instances[0]","scribble"],hP(l)),n}function hC(t){const e={},n=f(t,["voiceConfig"]);n!=null&&h(e,["voiceConfig"],n);const i=f(t,["languageCode"]);if(i!=null&&h(e,["languageCode"],i),f(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return e}function yP(t){const e={},n=f(t,["functionCallingConfig"]);n!=null&&h(e,["functionCallingConfig"],SL(n));const i=f(t,["retrievalConfig"]);return i!=null&&h(e,["retrievalConfig"],i),e}function _P(t){const e={},n=f(t,["functionDeclarations"]);if(n!=null){let y=n;Array.isArray(y)&&(y=y.map(_=>_)),h(e,["functionDeclarations"],y)}if(f(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=f(t,["googleSearchRetrieval"]);i!=null&&h(e,["googleSearchRetrieval"],i);const r=f(t,["computerUse"]);r!=null&&h(e,["computerUse"],r);const l=f(t,["fileSearch"]);l!=null&&h(e,["fileSearch"],l);const c=f(t,["codeExecution"]);if(c!=null&&h(e,["codeExecution"],c),f(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const d=f(t,["googleMaps"]);d!=null&&h(e,["googleMaps"],YL(d));const m=f(t,["googleSearch"]);m!=null&&h(e,["googleSearch"],KL(m));const p=f(t,["urlContext"]);return p!=null&&h(e,["urlContext"],p),e}function pC(t){const e={},n=f(t,["functionDeclarations"]);if(n!=null){let _=n;Array.isArray(_)&&(_=_.map(S=>EL(S))),h(e,["functionDeclarations"],_)}const i=f(t,["retrieval"]);i!=null&&h(e,["retrieval"],i);const r=f(t,["googleSearchRetrieval"]);r!=null&&h(e,["googleSearchRetrieval"],r);const l=f(t,["computerUse"]);if(l!=null&&h(e,["computerUse"],l),f(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const c=f(t,["codeExecution"]);c!=null&&h(e,["codeExecution"],c);const d=f(t,["enterpriseWebSearch"]);d!=null&&h(e,["enterpriseWebSearch"],d);const m=f(t,["googleMaps"]);m!=null&&h(e,["googleMaps"],m);const p=f(t,["googleSearch"]);p!=null&&h(e,["googleSearch"],p);const y=f(t,["urlContext"]);return y!=null&&h(e,["urlContext"],y),e}function SP(t){const e={},n=f(t,["baseModel"]);n!=null&&h(e,["baseModel"],n);const i=f(t,["createTime"]);i!=null&&h(e,["createTime"],i);const r=f(t,["updateTime"]);return r!=null&&h(e,["updateTime"],r),e}function EP(t){const e={},n=f(t,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&h(e,["baseModel"],n);const i=f(t,["createTime"]);i!=null&&h(e,["createTime"],i);const r=f(t,["updateTime"]);return r!=null&&h(e,["updateTime"],r),e}function TP(t,e){const n={},i=f(t,["displayName"]);e!==void 0&&i!=null&&h(e,["displayName"],i);const r=f(t,["description"]);e!==void 0&&r!=null&&h(e,["description"],r);const l=f(t,["defaultCheckpointId"]);return e!==void 0&&l!=null&&h(e,["defaultCheckpointId"],l),n}function AP(t,e){const n={},i=f(t,["displayName"]);e!==void 0&&i!=null&&h(e,["displayName"],i);const r=f(t,["description"]);e!==void 0&&r!=null&&h(e,["description"],r);const l=f(t,["defaultCheckpointId"]);return e!==void 0&&l!=null&&h(e,["defaultCheckpointId"],l),n}function CP(t,e){const n={},i=f(e,["model"]);i!=null&&h(n,["_url","name"],Pe(t,i));const r=f(e,["config"]);return r!=null&&TP(r,n),n}function bP(t,e){const n={},i=f(e,["model"]);i!=null&&h(n,["_url","model"],Pe(t,i));const r=f(e,["config"]);return r!=null&&AP(r,n),n}function wP(t,e){const n={},i=f(t,["outputGcsUri"]);e!==void 0&&i!=null&&h(e,["parameters","storageUri"],i);const r=f(t,["safetyFilterLevel"]);e!==void 0&&r!=null&&h(e,["parameters","safetySetting"],r);const l=f(t,["personGeneration"]);e!==void 0&&l!=null&&h(e,["parameters","personGeneration"],l);const c=f(t,["includeRaiReason"]);e!==void 0&&c!=null&&h(e,["parameters","includeRaiReason"],c);const d=f(t,["outputMimeType"]);e!==void 0&&d!=null&&h(e,["parameters","outputOptions","mimeType"],d);const m=f(t,["outputCompressionQuality"]);e!==void 0&&m!=null&&h(e,["parameters","outputOptions","compressionQuality"],m);const p=f(t,["enhanceInputImage"]);e!==void 0&&p!=null&&h(e,["parameters","upscaleConfig","enhanceInputImage"],p);const y=f(t,["imagePreservationFactor"]);e!==void 0&&y!=null&&h(e,["parameters","upscaleConfig","imagePreservationFactor"],y);const _=f(t,["labels"]);e!==void 0&&_!=null&&h(e,["labels"],_);const S=f(t,["numberOfImages"]);e!==void 0&&S!=null&&h(e,["parameters","sampleCount"],S);const T=f(t,["mode"]);return e!==void 0&&T!=null&&h(e,["parameters","mode"],T),n}function RP(t,e){const n={},i=f(e,["model"]);i!=null&&h(n,["_url","model"],Pe(t,i));const r=f(e,["image"]);r!=null&&h(n,["instances[0]","image"],Hn(r));const l=f(e,["upscaleFactor"]);l!=null&&h(n,["parameters","upscaleConfig","upscaleFactor"],l);const c=f(e,["config"]);return c!=null&&wP(c,n),n}function xP(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&h(e,["sdkHttpResponse"],n);const i=f(t,["predictions"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(l=>Oc(l))),h(e,["generatedImages"],r)}return e}function MP(t){const e={},n=f(t,["uri"]);n!=null&&h(e,["uri"],n);const i=f(t,["encodedVideo"]);i!=null&&h(e,["videoBytes"],po(i));const r=f(t,["encoding"]);return r!=null&&h(e,["mimeType"],r),e}function NP(t){const e={},n=f(t,["gcsUri"]);n!=null&&h(e,["uri"],n);const i=f(t,["bytesBase64Encoded"]);i!=null&&h(e,["videoBytes"],po(i));const r=f(t,["mimeType"]);return r!=null&&h(e,["mimeType"],r),e}function IP(t){const e={},n=f(t,["image"]);n!=null&&h(e,["_self"],Hn(n));const i=f(t,["maskMode"]);return i!=null&&h(e,["maskMode"],i),e}function DP(t){const e={},n=f(t,["image"]);n!=null&&h(e,["image"],Uc(n));const i=f(t,["referenceType"]);return i!=null&&h(e,["referenceType"],i),e}function OP(t){const e={},n=f(t,["image"]);n!=null&&h(e,["image"],Hn(n));const i=f(t,["referenceType"]);return i!=null&&h(e,["referenceType"],i),e}function mC(t){const e={},n=f(t,["uri"]);n!=null&&h(e,["uri"],n);const i=f(t,["videoBytes"]);i!=null&&h(e,["encodedVideo"],po(i));const r=f(t,["mimeType"]);return r!=null&&h(e,["encoding"],r),e}function gC(t){const e={},n=f(t,["uri"]);n!=null&&h(e,["gcsUri"],n);const i=f(t,["videoBytes"]);i!=null&&h(e,["bytesBase64Encoded"],po(i));const r=f(t,["mimeType"]);return r!=null&&h(e,["mimeType"],r),e}function UP(t,e){const n={},i=f(t,["displayName"]);return e!==void 0&&i!=null&&h(e,["displayName"],i),n}function LP(t){const e={},n=f(t,["config"]);return n!=null&&UP(n,e),e}function PP(t,e){const n={},i=f(t,["force"]);return e!==void 0&&i!=null&&h(e,["_query","force"],i),n}function kP(t){const e={},n=f(t,["name"]);n!=null&&h(e,["_url","name"],n);const i=f(t,["config"]);return i!=null&&PP(i,e),e}function BP(t){const e={},n=f(t,["name"]);return n!=null&&h(e,["_url","name"],n),e}function HP(t,e){const n={},i=f(t,["customMetadata"]);if(e!==void 0&&i!=null){let l=i;Array.isArray(l)&&(l=l.map(c=>c)),h(e,["customMetadata"],l)}const r=f(t,["chunkingConfig"]);return e!==void 0&&r!=null&&h(e,["chunkingConfig"],r),n}function GP(t){const e={},n=f(t,["name"]);n!=null&&h(e,["name"],n);const i=f(t,["metadata"]);i!=null&&h(e,["metadata"],i);const r=f(t,["done"]);r!=null&&h(e,["done"],r);const l=f(t,["error"]);l!=null&&h(e,["error"],l);const c=f(t,["response"]);return c!=null&&h(e,["response"],qP(c)),e}function VP(t){const e={},n=f(t,["fileSearchStoreName"]);n!=null&&h(e,["_url","file_search_store_name"],n);const i=f(t,["fileName"]);i!=null&&h(e,["fileName"],i);const r=f(t,["config"]);return r!=null&&HP(r,e),e}function qP(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&h(e,["sdkHttpResponse"],n);const i=f(t,["parent"]);i!=null&&h(e,["parent"],i);const r=f(t,["documentName"]);return r!=null&&h(e,["documentName"],r),e}function FP(t,e){const n={},i=f(t,["pageSize"]);e!==void 0&&i!=null&&h(e,["_query","pageSize"],i);const r=f(t,["pageToken"]);return e!==void 0&&r!=null&&h(e,["_query","pageToken"],r),n}function zP(t){const e={},n=f(t,["config"]);return n!=null&&FP(n,e),e}function $P(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&h(e,["sdkHttpResponse"],n);const i=f(t,["nextPageToken"]);i!=null&&h(e,["nextPageToken"],i);const r=f(t,["fileSearchStores"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(c=>c)),h(e,["fileSearchStores"],l)}return e}function vC(t,e){const n={},i=f(t,["mimeType"]);e!==void 0&&i!=null&&h(e,["mimeType"],i);const r=f(t,["displayName"]);e!==void 0&&r!=null&&h(e,["displayName"],r);const l=f(t,["customMetadata"]);if(e!==void 0&&l!=null){let d=l;Array.isArray(d)&&(d=d.map(m=>m)),h(e,["customMetadata"],d)}const c=f(t,["chunkingConfig"]);return e!==void 0&&c!=null&&h(e,["chunkingConfig"],c),n}function JP(t){const e={},n=f(t,["fileSearchStoreName"]);n!=null&&h(e,["_url","file_search_store_name"],n);const i=f(t,["config"]);return i!=null&&vC(i,e),e}function YP(t){const e={},n=f(t,["sdkHttpResponse"]);return n!=null&&h(e,["sdkHttpResponse"],n),e}const KP="Content-Type",XP="X-Server-Timeout",QP="User-Agent",Sp="x-goog-api-client",WP="1.33.0",ZP=`google-genai-sdk/${WP}`,jP="v1beta1",ek="v1beta";class tk{constructor(e){var n,i;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const r={};this.clientOptions.vertexai?(r.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:jP,r.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(r.apiVersion=(i=this.clientOptions.apiVersion)!==null&&i!==void 0?i:ek,r.baseUrl="https://generativelanguage.googleapis.com/"),r.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=r,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(r,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const i=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&i.push(e.apiVersion),i.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,i){const r=[this.getRequestUrlInternal(n)];return i&&r.push(this.getBaseResourcePath()),e!==""&&r.push(e),new URL(`${r.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const i=this.shouldPrependVertexProjectPath(e),r=this.constructUrl(e.path,n,i);if(e.queryParams)for(const[c,d]of Object.entries(e.queryParams))r.searchParams.append(c,String(d));let l={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else l.body=e.body;return l=await this.includeExtraHttpOptionsToRequestInit(l,n,r.toString(),e.abortSignal),this.unaryApiCall(r,l,e.httpMethod)}patchHttpOptions(e,n){const i=JSON.parse(JSON.stringify(e));for(const[r,l]of Object.entries(n))typeof l=="object"?i[r]=Object.assign(Object.assign({},i[r]),l):l!==void 0&&(i[r]=l);return i}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const i=this.shouldPrependVertexProjectPath(e),r=this.constructUrl(e.path,n,i);(!r.searchParams.has("alt")||r.searchParams.get("alt")!=="sse")&&r.searchParams.set("alt","sse");let l={};return l.body=e.body,l=await this.includeExtraHttpOptionsToRequestInit(l,n,r.toString(),e.abortSignal),this.streamApiCall(r,l,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,i,r){if(n&&n.timeout||r){const l=new AbortController,c=l.signal;if(n.timeout&&n?.timeout>0){const d=setTimeout(()=>l.abort(),n.timeout);d&&typeof d.unref=="function"&&d.unref()}r&&r.addEventListener("abort",()=>{l.abort()}),e.signal=c}return n&&n.extraBody!==null&&nk(e,n.extraBody),e.headers=await this.getHeadersInternal(n,i),e}async unaryApiCall(e,n,i){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:i})).then(async r=>(await lE(r),new mp(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}async streamApiCall(e,n,i){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:i})).then(async r=>(await lE(r),this.processStreamResponse(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}processStreamResponse(e){return Un(this,arguments,function*(){var i;const r=(i=e?.body)===null||i===void 0?void 0:i.getReader(),l=new TextDecoder("utf-8");if(!r)throw new Error("Response body is empty");try{let c="";const d="data:",m=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:p,value:y}=yield ve(r.read());if(p){if(c.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const _=l.decode(y,{stream:!0});try{const b=JSON.parse(_);if("error"in b){const R=JSON.parse(JSON.stringify(b.error)),x=R.status,P=R.code,H=`got status: ${x}. ${JSON.stringify(b)}`;if(P>=400&&P<600)throw new Ic({message:H,status:P})}}catch(b){if(b.name==="ApiError")throw b}c+=_;let S=-1,T=0;for(;;){S=-1,T=0;for(const x of m){const P=c.indexOf(x);P!==-1&&(S===-1||P<S)&&(S=P,T=x.length)}if(S===-1)break;const b=c.substring(0,S);c=c.substring(S+T);const R=b.trim();if(R.startsWith(d)){const x=R.substring(d.length).trim();try{const P=new Response(x,{headers:e?.headers,status:e?.status,statusText:e?.statusText});yield yield ve(new mp(P))}catch(P){throw new Error(`exception parsing stream chunk ${x}. ${P}`)}}}}}finally{r.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(i=>{throw new Error(`exception ${i} sending request`)})}getDefaultHeaders(){const e={},n=ZP+" "+this.clientOptions.userAgentExtra;return e[QP]=n,e[Sp]=n,e[KP]="application/json",e}async getHeadersInternal(e,n){const i=new Headers;if(e&&e.headers){for(const[r,l]of Object.entries(e.headers))i.append(r,l);e.timeout&&e.timeout>0&&i.append(XP,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(i,n),i}getFileName(e){var n;let i="";return typeof e=="string"&&(i=e.replace(/[/\\]+$/,""),i=(n=i.split(/[/\\]/).pop())!==null&&n!==void 0?n:""),i}async uploadFile(e,n){var i;const r={};n!=null&&(r.mimeType=n.mimeType,r.name=n.name,r.displayName=n.displayName),r.name&&!r.name.startsWith("files/")&&(r.name=`files/${r.name}`);const l=this.clientOptions.uploader,c=await l.stat(e);r.sizeBytes=String(c.size);const d=(i=n?.mimeType)!==null&&i!==void 0?i:c.type;if(d===void 0||d==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");r.mimeType=d;const m={file:r},p=this.getFileName(e),y=ne("upload/v1beta/files",m._url),_=await this.fetchUploadUrl(y,r.sizeBytes,r.mimeType,p,m,n?.httpOptions);return l.upload(e,_,this)}async uploadFileToFileSearchStore(e,n,i){var r;const l=this.clientOptions.uploader,c=await l.stat(n),d=String(c.size),m=(r=i?.mimeType)!==null&&r!==void 0?r:c.type;if(m===void 0||m==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const p=`upload/v1beta/${e}:uploadToFileSearchStore`,y=this.getFileName(n),_={};i!=null&&vC(i,_);const S=await this.fetchUploadUrl(p,d,m,y,_,i?.httpOptions);return l.uploadToFileSearchStore(n,S,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n,i,r,l,c){var d;let m={};c?m=c:m={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n}`,"X-Goog-Upload-Header-Content-Type":`${i}`},r?{"X-Goog-Upload-File-Name":r}:{})};const p=await this.request({path:e,body:JSON.stringify(l),httpMethod:"POST",httpOptions:m});if(!p||!p?.headers)throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const y=(d=p?.headers)===null||d===void 0?void 0:d["x-goog-upload-url"];if(y===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return y}}async function lE(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const n=t.status;let i;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?i=await t.json():i={error:{message:await t.text(),code:t.status,status:t.statusText}};const r=JSON.stringify(i);throw n>=400&&n<600?new Ic({message:r,status:n}):new Error(r)}}function nk(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof t.body=="string"&&t.body.length>0)try{const l=JSON.parse(t.body);if(typeof l=="object"&&l!==null&&!Array.isArray(l))n=l;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function i(l,c){const d=Object.assign({},l);for(const m in c)if(Object.prototype.hasOwnProperty.call(c,m)){const p=c[m],y=d[m];p&&typeof p=="object"&&!Array.isArray(p)&&y&&typeof y=="object"&&!Array.isArray(y)?d[m]=i(y,p):(y&&p&&typeof y!=typeof p&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${m}". Original type: ${typeof y}, New type: ${typeof p}. Overwriting.`),d[m]=p)}return d}const r=i(n,e);t.body=JSON.stringify(r)}const ik="mcp_used/unknown";let ok=!1;function yC(t){for(const e of t)if(sk(e)||typeof e=="object"&&"inputSchema"in e)return!0;return ok}function _C(t){var e;const n=(e=t[Sp])!==null&&e!==void 0?e:"";t[Sp]=(n+` ${ik}`).trimStart()}function sk(t){return t!==null&&typeof t=="object"&&t instanceof Am}function rk(t){return Un(this,arguments,function*(n,i=100){let r,l=0;for(;l<i;){const c=yield ve(n.listTools({cursor:r}));for(const d of c.tools)yield yield ve(d),l++;if(!c.nextCursor)break;r=c.nextCursor}})}class Am{constructor(e=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=n}static create(e,n){return new Am(e,n)}async initialize(){var e,n,i,r;if(this.mcpTools.length>0)return;const l={},c=[];for(const y of this.mcpClients)try{for(var d=!0,m=(n=void 0,Ln(rk(y))),p;p=await m.next(),e=p.done,!e;d=!0){r=p.value,d=!1;const _=r;c.push(_);const S=_.name;if(l[S])throw new Error(`Duplicate function name ${S} found in MCP tools. Please ensure function names are unique.`);l[S]=y}}catch(_){n={error:_}}finally{try{!d&&!e&&(i=m.return)&&await i.call(m)}finally{if(n)throw n.error}}this.mcpTools=c,this.functionNameToMcpClient=l}async tool(){return await this.initialize(),B1(this.mcpTools,this.config)}async callTool(e){await this.initialize();const n=[];for(const i of e)if(i.name in this.functionNameToMcpClient){const r=this.functionNameToMcpClient[i.name];let l;this.config.timeout&&(l={timeout:this.config.timeout});const c=await r.callTool({name:i.name,arguments:i.args},void 0,l);n.push({functionResponse:{name:i.name,response:c.isError?{error:c}:c}})}return n}}async function ak(t,e,n){const i=new N1;let r;n.data instanceof Blob?r=JSON.parse(await n.data.text()):r=JSON.parse(n.data),Object.assign(i,r),e(i)}class lk{constructor(e,n,i){this.apiClient=e,this.auth=n,this.webSocketFactory=i}async connect(e){var n,i;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const r=this.apiClient.getWebsocketBaseUrl(),l=this.apiClient.getApiVersion(),c=fk(this.apiClient.getDefaultHeaders()),d=this.apiClient.getApiKey(),m=`${r}/ws/google.ai.generativelanguage.${l}.GenerativeService.BidiGenerateMusic?key=${d}`;let p=()=>{};const y=new Promise(B=>{p=B}),_=e.callbacks,S=function(){p({})},T=this.apiClient,b={onopen:S,onmessage:B=>{ak(T,_.onmessage,B)},onerror:(n=_?.onerror)!==null&&n!==void 0?n:function(B){},onclose:(i=_?.onclose)!==null&&i!==void 0?i:function(B){}},R=this.webSocketFactory.create(m,ck(c),b);R.connect(),await y;const H={setup:{model:Pe(this.apiClient,e.model)}};return R.send(JSON.stringify(H)),new uk(R,this.apiClient)}}class uk{constructor(e,n){this.conn=e,this.apiClient=n}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=LU(e);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const n=UU(e);this.conn.send(JSON.stringify(n))}sendPlaybackControl(e){const n={playbackControl:e};this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(er.PLAY)}pause(){this.sendPlaybackControl(er.PAUSE)}stop(){this.sendPlaybackControl(er.STOP)}resetContext(){this.sendPlaybackControl(er.RESET_CONTEXT)}close(){this.conn.close()}}function ck(t){const e={};return t.forEach((n,i)=>{e[i]=n}),e}function fk(t){const e=new Headers;for(const[n,i]of Object.entries(t))e.append(n,i);return e}const dk="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function hk(t,e,n){const i=new M1;let r;n.data instanceof Blob?r=await n.data.text():n.data instanceof ArrayBuffer?r=new TextDecoder().decode(n.data):r=n.data;const l=JSON.parse(r);if(t.isVertexAI()){const c=BU(l);Object.assign(i,c)}else Object.assign(i,l);e(i)}class pk{constructor(e,n,i){this.apiClient=e,this.auth=n,this.webSocketFactory=i,this.music=new lk(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,i,r,l,c,d;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const m=this.apiClient.getWebsocketBaseUrl(),p=this.apiClient.getApiVersion();let y;const _=this.apiClient.getHeaders();e.config&&e.config.tools&&yC(e.config.tools)&&_C(_);const S=yk(_);if(this.apiClient.isVertexAI())y=`${m}/ws/google.cloud.aiplatform.${p}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(S,y);else{const Z=this.apiClient.getApiKey();let ae="BidiGenerateContent",de="key";Z?.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),p!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),ae="BidiGenerateContentConstrained",de="access_token"),y=`${m}/ws/google.ai.generativelanguage.${p}.GenerativeService.${ae}?${de}=${Z}`}let T=()=>{};const b=new Promise(Z=>{T=Z}),R=e.callbacks,x=function(){var Z;(Z=R?.onopen)===null||Z===void 0||Z.call(R),T({})},P=this.apiClient,H={onopen:x,onmessage:Z=>{hk(P,R.onmessage,Z)},onerror:(n=R?.onerror)!==null&&n!==void 0?n:function(Z){},onclose:(i=R?.onclose)!==null&&i!==void 0?i:function(Z){}},B=this.webSocketFactory.create(y,vk(S),H);B.connect(),await b;let q=Pe(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&q.startsWith("publishers/")){const Z=this.apiClient.getProject(),ae=this.apiClient.getLocation();q=`projects/${Z}/locations/${ae}/`+q}let Q={};this.apiClient.isVertexAI()&&((r=e.config)===null||r===void 0?void 0:r.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[nc.AUDIO]}:e.config.responseModalities=[nc.AUDIO]),!((l=e.config)===null||l===void 0)&&l.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const K=(d=(c=e.config)===null||c===void 0?void 0:c.tools)!==null&&d!==void 0?d:[],$=[];for(const Z of K)if(this.isCallableTool(Z)){const ae=Z;$.push(await ae.tool())}else $.push(Z);$.length>0&&(e.config.tools=$);const oe={model:q,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?Q=OU(this.apiClient,oe):Q=DU(this.apiClient,oe),delete Q.config,B.send(JSON.stringify(Q)),new gk(B,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const mk={turnComplete:!0};class gk{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let i=[];try{i=Tn(n.turns),e.isVertexAI()||(i=i.map(r=>Dc(r)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:i,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let i=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?i=n.functionResponses:i=[n.functionResponses],i.length===0)throw new Error("functionResponses is required.");for(const l of i){if(typeof l!="object"||l===null||!("name"in l)||!("response"in l))throw new Error(`Could not parse function response, type '${typeof l}'.`);if(!e.isVertexAI()&&!("id"in l))throw new Error(dk)}return{toolResponse:{functionResponses:i}}}sendClientContent(e){e=Object.assign(Object.assign({},mk),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:kU(e)}:n={realtimeInput:PU(e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function vk(t){const e={};return t.forEach((n,i)=>{e[i]=n}),e}function yk(t){const e=new Headers;for(const[n,i]of Object.entries(t))e.append(n,i);return e}const uE=10;function cE(t){var e,n,i;if(!((e=t?.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let r=!1;for(const c of(n=t?.tools)!==null&&n!==void 0?n:[])if(ir(c)){r=!0;break}if(!r)return!0;const l=(i=t?.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls;return l&&(l<0||!Number.isInteger(l))||l==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",l),!0):!1}function ir(t){return"callTool"in t&&typeof t.callTool=="function"}function _k(t){var e,n,i;return(i=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(r=>ir(r)))!==null&&i!==void 0?i:!1}function fE(t){var e;const n=[];return!((e=t?.config)===null||e===void 0)&&e.tools&&t.config.tools.forEach((i,r)=>{if(ir(i))return;const l=i;l.functionDeclarations&&l.functionDeclarations.length>0&&n.push(r)}),n}function dE(t){var e;return!(!((e=t?.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}let Sk=class extends Mi{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>{var i,r,l,c,d;const m=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!_k(n)||cE(n.config))return await this.generateContentInternal(m);const p=fE(n);if(p.length>0){const R=p.map(x=>`tools[${x}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${R}.`)}let y,_;const S=Tn(m.contents),T=(l=(r=(i=m.config)===null||i===void 0?void 0:i.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&l!==void 0?l:uE;let b=0;for(;b<T&&(y=await this.generateContentInternal(m),!(!y.functionCalls||y.functionCalls.length===0));){const R=y.candidates[0].content,x=[];for(const P of(d=(c=n.config)===null||c===void 0?void 0:c.tools)!==null&&d!==void 0?d:[])if(ir(P)){const B=await P.callTool(y.functionCalls);x.push(...B)}b++,_={role:"user",parts:x},m.contents=Tn(m.contents),m.contents.push(R),m.contents.push(_),dE(m.config)&&(S.push(R),S.push(_))}return dE(m.config)&&(y.automaticFunctionCallingHistory=S),y},this.generateContentStream=async n=>{var i,r,l,c,d;if(this.maybeMoveToResponseJsonSchem(n),cE(n.config)){const _=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(_)}const m=fE(n);if(m.length>0){const _=m.map(S=>`tools[${S}]`).join(", ");throw new Error(`Incompatible tools found at ${_}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const p=(l=(r=(i=n?.config)===null||i===void 0?void 0:i.toolConfig)===null||r===void 0?void 0:r.functionCallingConfig)===null||l===void 0?void 0:l.streamFunctionCallArguments,y=(d=(c=n?.config)===null||c===void 0?void 0:c.automaticFunctionCalling)===null||d===void 0?void 0:d.disable;if(p&&!y)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(i=>{var r;let l;const c=[];if(i?.generatedImages)for(const m of i.generatedImages)m&&m?.safetyAttributes&&((r=m?.safetyAttributes)===null||r===void 0?void 0:r.contentType)==="Positive Prompt"?l=m?.safetyAttributes:c.push(m);let d;return l?d={generatedImages:c,positivePromptSafetyAttributes:l,sdkHttpResponse:i.sdkHttpResponse}:d={generatedImages:c,sdkHttpResponse:i.sdkHttpResponse},d}),this.list=async n=>{var i;const c={config:Object.assign(Object.assign({},{queryBase:!0}),n?.config)};if(this.apiClient.isVertexAI()&&!c.config.queryBase){if(!((i=c.config)===null||i===void 0)&&i.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");c.config.filter="labels.tune-type:*"}return new Xo(Ri.PAGED_ITEM_MODELS,d=>this.listInternal(d),await this.listInternal(c),c)},this.editImage=async n=>{const i={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(i.referenceImages=n.referenceImages.map(r=>r.toReferenceImageAPI())),await this.editImageInternal(i)},this.upscaleImage=async n=>{let i={numberOfImages:1,mode:"upscale"};n.config&&(i=Object.assign(Object.assign({},i),n.config));const r={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:i};return await this.upscaleImageInternal(r)},this.generateVideos=async n=>{var i,r,l,c,d,m;if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((i=n.video)===null||i===void 0)&&i.uri&&(!((r=n.video)===null||r===void 0)&&r.videoBytes)?n.video={uri:n.video.uri,mimeType:n.video.mimeType}:!((c=(l=n.source)===null||l===void 0?void 0:l.video)===null||c===void 0)&&c.uri&&(!((m=(d=n.source)===null||d===void 0?void 0:d.video)===null||m===void 0)&&m.videoBytes)&&(n.source.video={uri:n.source.video.uri,mimeType:n.source.video.mimeType})),await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var n,i,r;const l=(n=e.config)===null||n===void 0?void 0:n.tools;if(!l)return e;const c=await Promise.all(l.map(async m=>ir(m)?await m.tool():m)),d={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:c})};if(d.config.tools=c,e.config&&e.config.tools&&yC(e.config.tools)){const m=(r=(i=e.config.httpOptions)===null||i===void 0?void 0:i.headers)!==null&&r!==void 0?r:{};let p=Object.assign({},m);Object.keys(p).length===0&&(p=this.apiClient.getDefaultHeaders()),_C(p),d.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:p})}return d}async initAfcToolsMap(e){var n,i,r;const l=new Map;for(const c of(i=(n=e.config)===null||n===void 0?void 0:n.tools)!==null&&i!==void 0?i:[])if(ir(c)){const d=c,m=await d.tool();for(const p of(r=m.functionDeclarations)!==null&&r!==void 0?r:[]){if(!p.name)throw new Error("Function declaration name is required.");if(l.has(p.name))throw new Error(`Duplicate tool declaration name: ${p.name}`);l.set(p.name,d)}}return l}async processAfcStream(e){var n,i,r;const l=(r=(i=(n=e.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&r!==void 0?r:uE;let c=!1,d=0;const m=await this.initAfcToolsMap(e);return(function(p,y,_){return Un(this,arguments,function*(){for(var S,T,b,R,x,P;d<l;){c&&(d++,c=!1);const Q=yield ve(p.processParamsMaybeAddMcpUsage(_)),K=yield ve(p.generateContentStreamInternal(Q)),$=[],oe=[];try{for(var H=!0,B=(T=void 0,Ln(K)),q;q=yield ve(B.next()),S=q.done,!S;H=!0){R=q.value,H=!1;const Z=R;if(yield yield ve(Z),Z.candidates&&(!((x=Z.candidates[0])===null||x===void 0)&&x.content)){oe.push(Z.candidates[0].content);for(const ae of(P=Z.candidates[0].content.parts)!==null&&P!==void 0?P:[])if(d<l&&ae.functionCall){if(!ae.functionCall.name)throw new Error("Function call name was not returned by the model.");if(y.has(ae.functionCall.name)){const de=yield ve(y.get(ae.functionCall.name).callTool([ae.functionCall]));$.push(...de)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${y.keys()}, mising tool: ${ae.functionCall.name}`)}}}}catch(Z){T={error:Z}}finally{try{!H&&!S&&(b=B.return)&&(yield ve(b.call(B)))}finally{if(T)throw T.error}}if($.length>0){c=!0;const Z=new ha;Z.candidates=[{content:{role:"user",parts:$}}],yield yield ve(Z);const ae=[];ae.push(...oe),ae.push({role:"user",parts:$});const de=Tn(_.contents).concat(ae);_.contents=de}else break}})})(this,m,e)}async generateContentInternal(e){var n,i,r,l;let c,d="",m={};if(this.apiClient.isVertexAI()){const p=sE(this.apiClient,e);return d=ne("{model}:generateContent",p._url),m=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:y.headers},S})),c.then(y=>{const _=aE(y),S=new ha;return Object.assign(S,_),S})}else{const p=oE(this.apiClient,e);return d=ne("{model}:generateContent",p._url),m=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:y.headers},S})),c.then(y=>{const _=rE(y),S=new ha;return Object.assign(S,_),S})}}async generateContentStreamInternal(e){var n,i,r,l;let c,d="",m={};if(this.apiClient.isVertexAI()){const p=sE(this.apiClient,e);return d=ne("{model}:streamGenerateContent?alt=sse",p._url),m=p._query,delete p._url,delete p._query,c=this.apiClient.requestStream({path:d,queryParams:m,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}),c.then(function(_){return Un(this,arguments,function*(){var S,T,b,R;try{for(var x=!0,P=Ln(_),H;H=yield ve(P.next()),S=H.done,!S;x=!0){R=H.value,x=!1;const B=R,q=aE(yield ve(B.json()));q.sdkHttpResponse={headers:B.headers};const Q=new ha;Object.assign(Q,q),yield yield ve(Q)}}catch(B){T={error:B}}finally{try{!x&&!S&&(b=P.return)&&(yield ve(b.call(P)))}finally{if(T)throw T.error}}})})}else{const p=oE(this.apiClient,e);return d=ne("{model}:streamGenerateContent?alt=sse",p._url),m=p._query,delete p._url,delete p._query,c=this.apiClient.requestStream({path:d,queryParams:m,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}),c.then(function(_){return Un(this,arguments,function*(){var S,T,b,R;try{for(var x=!0,P=Ln(_),H;H=yield ve(P.next()),S=H.done,!S;x=!0){R=H.value,x=!1;const B=R,q=rE(yield ve(B.json()));q.sdkHttpResponse={headers:B.headers};const Q=new ha;Object.assign(Q,q),yield yield ve(Q)}}catch(B){T={error:B}}finally{try{!x&&!S&&(b=P.return)&&(yield ve(b.call(P)))}finally{if(T)throw T.error}}})})}}async embedContent(e){var n,i,r,l;let c,d="",m={};if(this.apiClient.isVertexAI()){const p=pL(this.apiClient,e);return d=ne("{model}:predict",p._url),m=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:y.headers},S})),c.then(y=>{const _=gL(y),S=new VS;return Object.assign(S,_),S})}else{const p=hL(this.apiClient,e);return d=ne("{model}:batchEmbedContents",p._url),m=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:y.headers},S})),c.then(y=>{const _=mL(y),S=new VS;return Object.assign(S,_),S})}}async generateImagesInternal(e){var n,i,r,l;let c,d="",m={};if(this.apiClient.isVertexAI()){const p=RL(this.apiClient,e);return d=ne("{model}:predict",p._url),m=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:y.headers},S})),c.then(y=>{const _=ML(y),S=new qS;return Object.assign(S,_),S})}else{const p=wL(this.apiClient,e);return d=ne("{model}:predict",p._url),m=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:y.headers},S})),c.then(y=>{const _=xL(y),S=new qS;return Object.assign(S,_),S})}}async editImageInternal(e){var n,i;let r,l="",c={};if(this.apiClient.isVertexAI()){const d=uL(this.apiClient,e);return l=ne("{model}:predict",d._url),c=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json().then(p=>{const y=p;return y.sdkHttpResponse={headers:m.headers},y})),r.then(m=>{const p=cL(m),y=new y1;return Object.assign(y,p),y})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,i;let r,l="",c={};if(this.apiClient.isVertexAI()){const d=RP(this.apiClient,e);return l=ne("{model}:predict",d._url),c=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json().then(p=>{const y=p;return y.sdkHttpResponse={headers:m.headers},y})),r.then(m=>{const p=xP(m),y=new _1;return Object.assign(y,p),y})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var n,i;let r,l="",c={};if(this.apiClient.isVertexAI()){const d=lP(this.apiClient,e);return l=ne("{model}:predict",d._url),c=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json()),r.then(m=>{const p=uP(m),y=new S1;return Object.assign(y,p),y})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var n,i;let r,l="",c={};if(this.apiClient.isVertexAI()){const d=mP(this.apiClient,e);return l=ne("{model}:predict",d._url),c=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json()),r.then(m=>{const p=gP(m),y=new E1;return Object.assign(y,p),y})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,i,r,l;let c,d="",m={};if(this.apiClient.isVertexAI()){const p=JL(this.apiClient,e);return d=ne("{name}",p._url),m=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),c.then(y=>_p(y))}else{const p=$L(this.apiClient,e);return d=ne("{name}",p._url),m=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),c.then(y=>yp(y))}}async listInternal(e){var n,i,r,l;let c,d="",m={};if(this.apiClient.isVertexAI()){const p=tP(this.apiClient,e);return d=ne("{models_url}",p._url),m=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:y.headers},S})),c.then(y=>{const _=iP(y),S=new FS;return Object.assign(S,_),S})}else{const p=eP(this.apiClient,e);return d=ne("{models_url}",p._url),m=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:y.headers},S})),c.then(y=>{const _=nP(y),S=new FS;return Object.assign(S,_),S})}}async update(e){var n,i,r,l;let c,d="",m={};if(this.apiClient.isVertexAI()){const p=bP(this.apiClient,e);return d=ne("{model}",p._url),m=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(p),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),c.then(y=>_p(y))}else{const p=CP(this.apiClient,e);return d=ne("{name}",p._url),m=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(p),httpMethod:"PATCH",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),c.then(y=>yp(y))}}async delete(e){var n,i,r,l;let c,d="",m={};if(this.apiClient.isVertexAI()){const p=sL(this.apiClient,e);return d=ne("{name}",p._url),m=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:y.headers},S})),c.then(y=>{const _=aL(y),S=new zS;return Object.assign(S,_),S})}else{const p=oL(this.apiClient,e);return d=ne("{name}",p._url),m=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:y.headers},S})),c.then(y=>{const _=rL(y),S=new zS;return Object.assign(S,_),S})}}async countTokens(e){var n,i,r,l;let c,d="",m={};if(this.apiClient.isVertexAI()){const p=tL(this.apiClient,e);return d=ne("{model}:countTokens",p._url),m=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:y.headers},S})),c.then(y=>{const _=iL(y),S=new $S;return Object.assign(S,_),S})}else{const p=eL(this.apiClient,e);return d=ne("{model}:countTokens",p._url),m=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:y.headers},S})),c.then(y=>{const _=nL(y),S=new $S;return Object.assign(S,_),S})}}async computeTokens(e){var n,i;let r,l="",c={};if(this.apiClient.isVertexAI()){const d=YU(this.apiClient,e);return l=ne("{model}:computeTokens",d._url),c=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json().then(p=>{const y=p;return y.sdkHttpResponse={headers:m.headers},y})),r.then(m=>{const p=KU(m),y=new T1;return Object.assign(y,p),y})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var n,i,r,l;let c,d="",m={};if(this.apiClient.isVertexAI()){const p=LL(this.apiClient,e);return d=ne("{model}:predictLongRunning",p._url),m=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),c.then(y=>{const _=OL(y),S=new ic;return Object.assign(S,_),S})}else{const p=UL(this.apiClient,e);return d=ne("{model}:predictLongRunning",p._url),m=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),c.then(y=>{const _=DL(y),S=new ic;return Object.assign(S,_),S})}}};class Ek extends Mi{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const n=e.operation,i=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=n.name.split("/operations/")[0];let l;i&&"httpOptions"in i&&(l=i.httpOptions);const c=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:r,config:{httpOptions:l}});return n._fromAPIResponse({apiResponse:c,_isVertexAI:!0})}else{const r=await this.getVideosOperationInternal({operationName:n.name,config:i});return n._fromAPIResponse({apiResponse:r,_isVertexAI:!1})}}async get(e){const n=e.operation,i=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=n.name.split("/operations/")[0];let l;i&&"httpOptions"in i&&(l=i.httpOptions);const c=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:r,config:{httpOptions:l}});return n._fromAPIResponse({apiResponse:c,_isVertexAI:!0})}else{const r=await this.getVideosOperationInternal({operationName:n.name,config:i});return n._fromAPIResponse({apiResponse:r,_isVertexAI:!1})}}async getVideosOperationInternal(e){var n,i,r,l;let c,d="",m={};if(this.apiClient.isVertexAI()){const p=d1(e);return d=ne("{operationName}",p._url),m=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),c}else{const p=f1(e);return d=ne("{operationName}",p._url),m=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),c}}async fetchPredictVideosOperationInternal(e){var n,i;let r,l="",c={};if(this.apiClient.isVertexAI()){const d=o1(e);return l=ne("{resourceName}:fetchPredictOperation",d._url),c=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json()),r}else throw new Error("This method is only supported by the Vertex AI.")}}function Tk(t){const e={},n=f(t,["data"]);if(n!=null&&h(e,["data"],n),f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=f(t,["mimeType"]);return i!=null&&h(e,["mimeType"],i),e}function Ak(t){const e={},n=f(t,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(l=>Dk(l))),h(e,["parts"],r)}const i=f(t,["role"]);return i!=null&&h(e,["role"],i),e}function Ck(t,e,n){const i={},r=f(e,["expireTime"]);n!==void 0&&r!=null&&h(n,["expireTime"],r);const l=f(e,["newSessionExpireTime"]);n!==void 0&&l!=null&&h(n,["newSessionExpireTime"],l);const c=f(e,["uses"]);n!==void 0&&c!=null&&h(n,["uses"],c);const d=f(e,["liveConnectConstraints"]);n!==void 0&&d!=null&&h(n,["bidiGenerateContentSetup"],Ik(t,d));const m=f(e,["lockAdditionalFields"]);return n!==void 0&&m!=null&&h(n,["fieldMask"],m),i}function bk(t,e){const n={},i=f(e,["config"]);return i!=null&&h(n,["config"],Ck(t,i,n)),n}function wk(t){const e={};if(f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=f(t,["fileUri"]);n!=null&&h(e,["fileUri"],n);const i=f(t,["mimeType"]);return i!=null&&h(e,["mimeType"],i),e}function Rk(t){const e={},n=f(t,["id"]);n!=null&&h(e,["id"],n);const i=f(t,["args"]);i!=null&&h(e,["args"],i);const r=f(t,["name"]);if(r!=null&&h(e,["name"],r),f(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(f(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function xk(t){const e={};if(f(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=f(t,["enableWidget"]);return n!=null&&h(e,["enableWidget"],n),e}function Mk(t){const e={};if(f(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(f(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=f(t,["timeRangeFilter"]);return n!=null&&h(e,["timeRangeFilter"],n),e}function Nk(t,e){const n={},i=f(t,["generationConfig"]);e!==void 0&&i!=null&&h(e,["setup","generationConfig"],i);const r=f(t,["responseModalities"]);e!==void 0&&r!=null&&h(e,["setup","generationConfig","responseModalities"],r);const l=f(t,["temperature"]);e!==void 0&&l!=null&&h(e,["setup","generationConfig","temperature"],l);const c=f(t,["topP"]);e!==void 0&&c!=null&&h(e,["setup","generationConfig","topP"],c);const d=f(t,["topK"]);e!==void 0&&d!=null&&h(e,["setup","generationConfig","topK"],d);const m=f(t,["maxOutputTokens"]);e!==void 0&&m!=null&&h(e,["setup","generationConfig","maxOutputTokens"],m);const p=f(t,["mediaResolution"]);e!==void 0&&p!=null&&h(e,["setup","generationConfig","mediaResolution"],p);const y=f(t,["seed"]);e!==void 0&&y!=null&&h(e,["setup","generationConfig","seed"],y);const _=f(t,["speechConfig"]);e!==void 0&&_!=null&&h(e,["setup","generationConfig","speechConfig"],Tm(_));const S=f(t,["thinkingConfig"]);e!==void 0&&S!=null&&h(e,["setup","generationConfig","thinkingConfig"],S);const T=f(t,["enableAffectiveDialog"]);e!==void 0&&T!=null&&h(e,["setup","generationConfig","enableAffectiveDialog"],T);const b=f(t,["systemInstruction"]);e!==void 0&&b!=null&&h(e,["setup","systemInstruction"],Ak(Nt(b)));const R=f(t,["tools"]);if(e!==void 0&&R!=null){let K=hr(R);Array.isArray(K)&&(K=K.map($=>Uk(dr($)))),h(e,["setup","tools"],K)}const x=f(t,["sessionResumption"]);e!==void 0&&x!=null&&h(e,["setup","sessionResumption"],Ok(x));const P=f(t,["inputAudioTranscription"]);e!==void 0&&P!=null&&h(e,["setup","inputAudioTranscription"],P);const H=f(t,["outputAudioTranscription"]);e!==void 0&&H!=null&&h(e,["setup","outputAudioTranscription"],H);const B=f(t,["realtimeInputConfig"]);e!==void 0&&B!=null&&h(e,["setup","realtimeInputConfig"],B);const q=f(t,["contextWindowCompression"]);e!==void 0&&q!=null&&h(e,["setup","contextWindowCompression"],q);const Q=f(t,["proactivity"]);if(e!==void 0&&Q!=null&&h(e,["setup","proactivity"],Q),f(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function Ik(t,e){const n={},i=f(e,["model"]);i!=null&&h(n,["setup","model"],Pe(t,i));const r=f(e,["config"]);return r!=null&&h(n,["config"],Nk(r,n)),n}function Dk(t){const e={},n=f(t,["mediaResolution"]);n!=null&&h(e,["mediaResolution"],n);const i=f(t,["codeExecutionResult"]);i!=null&&h(e,["codeExecutionResult"],i);const r=f(t,["executableCode"]);r!=null&&h(e,["executableCode"],r);const l=f(t,["fileData"]);l!=null&&h(e,["fileData"],wk(l));const c=f(t,["functionCall"]);c!=null&&h(e,["functionCall"],Rk(c));const d=f(t,["functionResponse"]);d!=null&&h(e,["functionResponse"],d);const m=f(t,["inlineData"]);m!=null&&h(e,["inlineData"],Tk(m));const p=f(t,["text"]);p!=null&&h(e,["text"],p);const y=f(t,["thought"]);y!=null&&h(e,["thought"],y);const _=f(t,["thoughtSignature"]);_!=null&&h(e,["thoughtSignature"],_);const S=f(t,["videoMetadata"]);return S!=null&&h(e,["videoMetadata"],S),e}function Ok(t){const e={},n=f(t,["handle"]);if(n!=null&&h(e,["handle"],n),f(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function Uk(t){const e={},n=f(t,["functionDeclarations"]);if(n!=null){let y=n;Array.isArray(y)&&(y=y.map(_=>_)),h(e,["functionDeclarations"],y)}if(f(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=f(t,["googleSearchRetrieval"]);i!=null&&h(e,["googleSearchRetrieval"],i);const r=f(t,["computerUse"]);r!=null&&h(e,["computerUse"],r);const l=f(t,["fileSearch"]);l!=null&&h(e,["fileSearch"],l);const c=f(t,["codeExecution"]);if(c!=null&&h(e,["codeExecution"],c),f(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const d=f(t,["googleMaps"]);d!=null&&h(e,["googleMaps"],xk(d));const m=f(t,["googleSearch"]);m!=null&&h(e,["googleSearch"],Mk(m));const p=f(t,["urlContext"]);return p!=null&&h(e,["urlContext"],p),e}function Lk(t){const e=[];for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const i=t[n];if(typeof i=="object"&&i!=null&&Object.keys(i).length>0){const r=Object.keys(i).map(l=>`${n}.${l}`);e.push(...r)}else e.push(n)}return e.join(",")}function Pk(t,e){let n=null;const i=t.bidiGenerateContentSetup;if(typeof i=="object"&&i!==null&&"setup"in i){const l=i.setup;typeof l=="object"&&l!==null?(t.bidiGenerateContentSetup=l,n=l):delete t.bidiGenerateContentSetup}else i!==void 0&&delete t.bidiGenerateContentSetup;const r=t.fieldMask;if(n){const l=Lk(n);if(Array.isArray(e?.lockAdditionalFields)&&e?.lockAdditionalFields.length===0)l?t.fieldMask=l:delete t.fieldMask;else if(e?.lockAdditionalFields&&e.lockAdditionalFields.length>0&&r!==null&&Array.isArray(r)&&r.length>0){const c=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let d=[];r.length>0&&(d=r.map(p=>c.includes(p)?`generationConfig.${p}`:p));const m=[];l&&m.push(l),d.length>0&&m.push(...d),m.length>0?t.fieldMask=m.join(","):delete t.fieldMask}else delete t.fieldMask}else r!==null&&Array.isArray(r)&&r.length>0?t.fieldMask=r.join(","):delete t.fieldMask;return t}class kk extends Mi{constructor(e){super(),this.apiClient=e}async create(e){var n,i;let r,l="",c={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const d=bk(this.apiClient,e);l=ne("auth_tokens",d._url),c=d._query,delete d.config,delete d._url,delete d._query;const m=Pk(d,e.config);return r=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),r.then(p=>p)}}}function Bk(t,e){const n={},i=f(t,["force"]);return e!==void 0&&i!=null&&h(e,["_query","force"],i),n}function Hk(t){const e={},n=f(t,["name"]);n!=null&&h(e,["_url","name"],n);const i=f(t,["config"]);return i!=null&&Bk(i,e),e}function Gk(t){const e={},n=f(t,["name"]);return n!=null&&h(e,["_url","name"],n),e}function Vk(t,e){const n={},i=f(t,["pageSize"]);e!==void 0&&i!=null&&h(e,["_query","pageSize"],i);const r=f(t,["pageToken"]);return e!==void 0&&r!=null&&h(e,["_query","pageToken"],r),n}function qk(t){const e={},n=f(t,["parent"]);n!=null&&h(e,["_url","parent"],n);const i=f(t,["config"]);return i!=null&&Vk(i,e),e}function Fk(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&h(e,["sdkHttpResponse"],n);const i=f(t,["nextPageToken"]);i!=null&&h(e,["nextPageToken"],i);const r=f(t,["documents"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(c=>c)),h(e,["documents"],l)}return e}class zk extends Mi{constructor(e){super(),this.apiClient=e,this.list=async n=>new Xo(Ri.PAGED_ITEM_DOCUMENTS,i=>this.listInternal({parent:n.parent,config:i.config}),await this.listInternal(n),n)}async get(e){var n,i;let r,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=Gk(e);return l=ne("{name}",d._url),c=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json()),r.then(m=>m)}}async delete(e){var n,i;let r="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=Hk(e);r=ne("{name}",c._url),l=c._query,delete c._url,delete c._query,await this.apiClient.request({path:r,queryParams:l,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal})}}async listInternal(e){var n,i;let r,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=qk(e);return l=ne("{parent}/documents",d._url),c=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json()),r.then(m=>{const p=Fk(m),y=new A1;return Object.assign(y,p),y})}}}class $k extends Mi{constructor(e,n=new zk(e)){super(),this.apiClient=e,this.documents=n,this.list=async(i={})=>new Xo(Ri.PAGED_ITEM_FILE_SEARCH_STORES,r=>this.listInternal(r),await this.listInternal(i),i)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var n,i;let r,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=LP(e);return l=ne("fileSearchStores",d._url),c=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json()),r.then(m=>m)}}async get(e){var n,i;let r,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=BP(e);return l=ne("{name}",d._url),c=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json()),r.then(m=>m)}}async delete(e){var n,i;let r="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=kP(e);r=ne("{name}",c._url),l=c._query,delete c._url,delete c._query,await this.apiClient.request({path:r,queryParams:l,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal})}}async listInternal(e){var n,i;let r,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=zP(e);return l=ne("fileSearchStores",d._url),c=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json()),r.then(m=>{const p=$P(m),y=new C1;return Object.assign(y,p),y})}}async uploadToFileSearchStoreInternal(e){var n,i;let r,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=JP(e);return l=ne("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",d._url),c=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json()),r.then(m=>{const p=YP(m),y=new b1;return Object.assign(y,p),y})}}async importFile(e){var n,i;let r,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=VP(e);return l=ne("{file_search_store_name}:importFile",d._url),c=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json()),r.then(m=>{const p=GP(m),y=new vm;return Object.assign(y,p),y})}}}let SC=function(){const{crypto:t}=globalThis;if(t?.randomUUID)return SC=t.randomUUID.bind(t),t.randomUUID();const e=new Uint8Array(1),n=t?()=>t.getRandomValues(e)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,i=>(+i^n()&15>>+i/4).toString(16))};const Jk=()=>SC();function Ep(t){return typeof t=="object"&&t!==null&&("name"in t&&t.name==="AbortError"||"message"in t&&String(t.message).includes("FetchRequestCanceledException"))}const Tp=t=>{if(t instanceof Error)return t;if(typeof t=="object"&&t!==null){try{if(Object.prototype.toString.call(t)==="[object Error]"){const e=new Error(t.message,t.cause?{cause:t.cause}:{});return t.stack&&(e.stack=t.stack),t.cause&&!e.cause&&(e.cause=t.cause),t.name&&(e.name=t.name),e}}catch{}try{return new Error(JSON.stringify(t))}catch{}}return new Error(t)};class An extends Error{}let Cn=class Ap extends An{constructor(e,n,i,r){super(`${Ap.makeMessage(e,n,i)}`),this.status=e,this.headers=r,this.error=n}static makeMessage(e,n,i){const r=n?.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):i;return e&&r?`${e} ${r}`:e?`${e} status code (no body)`:r||"(no status code or body)"}static generate(e,n,i,r){if(!e||!r)return new Lc({message:i,cause:Tp(n)});const l=n;return e===400?new TC(e,l,i,r):e===401?new AC(e,l,i,r):e===403?new CC(e,l,i,r):e===404?new bC(e,l,i,r):e===409?new wC(e,l,i,r):e===422?new RC(e,l,i,r):e===429?new xC(e,l,i,r):e>=500?new MC(e,l,i,r):new Ap(e,l,i,r)}},Cp=class extends Cn{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}},Lc=class extends Cn{constructor({message:e,cause:n}){super(void 0,void 0,e||"Connection error.",void 0),n&&(this.cause=n)}},EC=class extends Lc{constructor({message:e}={}){super({message:e??"Request timed out."})}},TC=class extends Cn{},AC=class extends Cn{},CC=class extends Cn{},bC=class extends Cn{},wC=class extends Cn{},RC=class extends Cn{},xC=class extends Cn{},MC=class extends Cn{};const Yk=/^[a-z][a-z0-9+.-]*:/i,Kk=t=>Yk.test(t);let bp=t=>(bp=Array.isArray,bp(t));const Xk=bp;let Qk=Xk;const hE=Qk;function Wk(t){if(!t)return!0;for(const e in t)return!1;return!0}function Zk(t,e){return Object.prototype.hasOwnProperty.call(t,e)}const jk=(t,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new An(`${t} must be an integer`);if(e<0)throw new An(`${t} must be a positive integer`);return e},eB=t=>{try{return JSON.parse(t)}catch{return}};const tB=t=>new Promise(e=>setTimeout(e,t));const Js="0.0.1";function nB(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const iB=()=>{var t,e,n,i,r;const l=nB();if(l==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Js,"X-Stainless-OS":mE(Deno.build.os),"X-Stainless-Arch":pE(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(e=(t=Deno.version)===null||t===void 0?void 0:t.deno)!==null&&e!==void 0?e:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Js,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(l==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Js,"X-Stainless-OS":mE((n=globalThis.process.platform)!==null&&n!==void 0?n:"unknown"),"X-Stainless-Arch":pE((i=globalThis.process.arch)!==null&&i!==void 0?i:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(r=globalThis.process.version)!==null&&r!==void 0?r:"unknown"};const c=oB();return c?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Js,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${c.browser}`,"X-Stainless-Runtime-Version":c.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Js,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function oB(){if(typeof navigator>"u"||!navigator)return null;const t=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:n}of t){const i=n.exec(navigator.userAgent);if(i){const r=i[1]||0,l=i[2]||0,c=i[3]||0;return{browser:e,version:`${r}.${l}.${c}`}}}return null}const pE=t=>t==="x32"?"x32":t==="x86_64"||t==="x64"?"x64":t==="arm"?"arm":t==="aarch64"||t==="arm64"?"arm64":t?`other:${t}`:"unknown",mE=t=>(t=t.toLowerCase(),t.includes("ios")?"iOS":t==="android"?"Android":t==="darwin"?"MacOS":t==="win32"?"Windows":t==="freebsd"?"FreeBSD":t==="openbsd"?"OpenBSD":t==="linux"?"Linux":t?`Other:${t}`:"Unknown");let yu;const sB=()=>yu??(yu=iB());function rB(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function NC(...t){const e=globalThis.ReadableStream;if(typeof e>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new e(...t)}function aB(t){let e=Symbol.asyncIterator in t?t[Symbol.asyncIterator]():t[Symbol.iterator]();return NC({start(){},async pull(n){const{done:i,value:r}=await e.next();i?n.close():n.enqueue(r)},async cancel(){var n;await((n=e.return)===null||n===void 0?void 0:n.call(e))}})}function IC(t){if(t[Symbol.asyncIterator])return t;const e=t.getReader();return{async next(){try{const n=await e.read();return n?.done&&e.releaseLock(),n}catch(n){throw e.releaseLock(),n}},async return(){const n=e.cancel();return e.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function lB(t){var e,n;if(t===null||typeof t!="object")return;if(t[Symbol.asyncIterator]){await((n=(e=t[Symbol.asyncIterator]()).return)===null||n===void 0?void 0:n.call(e));return}const i=t.getReader(),r=i.cancel();i.releaseLock(),await r}const uB=({headers:t,body:e})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(e)});const DC=()=>{var t;if(typeof File>"u"){const{process:e}=globalThis,n=typeof((t=e?.versions)===null||t===void 0?void 0:t.node)=="string"&&parseInt(e.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(n?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function Lh(t,e,n){return DC(),new File(t,e??"unknown_file",n)}function cB(t){return(typeof t=="object"&&t!==null&&("name"in t&&t.name&&String(t.name)||"url"in t&&t.url&&String(t.url)||"filename"in t&&t.filename&&String(t.filename)||"path"in t&&t.path&&String(t.path))||"").split(/[\\/]/).pop()||void 0}const fB=t=>t!=null&&typeof t=="object"&&typeof t[Symbol.asyncIterator]=="function";const OC=t=>t!=null&&typeof t=="object"&&typeof t.size=="number"&&typeof t.type=="string"&&typeof t.text=="function"&&typeof t.slice=="function"&&typeof t.arrayBuffer=="function",dB=t=>t!=null&&typeof t=="object"&&typeof t.name=="string"&&typeof t.lastModified=="number"&&OC(t),hB=t=>t!=null&&typeof t=="object"&&typeof t.url=="string"&&typeof t.blob=="function";async function pB(t,e,n){if(DC(),t=await t,dB(t))return t instanceof File?t:Lh([await t.arrayBuffer()],t.name);if(hB(t)){const r=await t.blob();return e||(e=new URL(t.url).pathname.split(/[\\/]/).pop()),Lh(await wp(r),e,n)}const i=await wp(t);if(e||(e=cB(t)),!n?.type){const r=i.find(l=>typeof l=="object"&&"type"in l&&l.type);typeof r=="string"&&(n=Object.assign(Object.assign({},n),{type:r}))}return Lh(i,e,n)}async function wp(t){var e,n,i,r,l;let c=[];if(typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer)c.push(t);else if(OC(t))c.push(t instanceof Blob?t:await t.arrayBuffer());else if(fB(t))try{for(var d=!0,m=Ln(t),p;p=await m.next(),e=p.done,!e;d=!0){r=p.value,d=!1;const y=r;c.push(...await wp(y))}}catch(y){n={error:y}}finally{try{!d&&!e&&(i=m.return)&&await i.call(m)}finally{if(n)throw n.error}}else{const y=(l=t?.constructor)===null||l===void 0?void 0:l.name;throw new Error(`Unexpected data type: ${typeof t}${y?`; constructor: ${y}`:""}${mB(t)}`)}return c}function mB(t){return typeof t!="object"||t===null?"":`; props: [${Object.getOwnPropertyNames(t).map(n=>`"${n}"`).join(", ")}]`}let UC=class{constructor(e){this._client=e}};UC._key=[];function LC(t){return t.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const gE=Object.freeze(Object.create(null)),gB=(t=LC)=>(function(n,...i){if(n.length===1)return n[0];let r=!1;const l=[],c=n.reduce((y,_,S)=>{var T,b,R;/[?#]/.test(_)&&(r=!0);const x=i[S];let P=(r?encodeURIComponent:t)(""+x);return S!==i.length&&(x==null||typeof x=="object"&&x.toString===((R=Object.getPrototypeOf((b=Object.getPrototypeOf((T=x.hasOwnProperty)!==null&&T!==void 0?T:gE))!==null&&b!==void 0?b:gE))===null||R===void 0?void 0:R.toString))&&(P=x+"",l.push({start:y.length+_.length,length:P.length,error:`Value of type ${Object.prototype.toString.call(x).slice(8,-1)} is not a valid path parameter`})),y+_+(S===i.length?"":P)},""),d=c.split(/[?#]/,1)[0],m=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let p;for(;(p=m.exec(d))!==null;)l.push({start:p.index,length:p[0].length,error:`Value "${p[0]}" can't be safely passed as a path parameter`});if(l.sort((y,_)=>y.start-_.start),l.length>0){let y=0;const _=l.reduce((S,T)=>{const b=" ".repeat(T.start-y),R="^".repeat(T.length);return y=T.start+T.length,S+b+R},"");throw new An(`Path parameters result in path with invalid segments:
${l.map(S=>S.error).join(`
`)}
${c}
${_}`)}return c}),_u=gB(LC);class PC extends UC{create(e,n){var i;const{api_version:r=this._client.apiVersion}=e,l=sc(e,["api_version"]);if("model"in l&&"agent_config"in l)throw new An("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in l&&"generation_config"in l)throw new An("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(_u`/${r}/interactions`,Object.assign(Object.assign({body:l},n),{stream:(i=e.stream)!==null&&i!==void 0?i:!1}))}delete(e,n={},i){const{api_version:r=this._client.apiVersion}=n??{};return this._client.delete(_u`/${r}/interactions/${e}`,i)}cancel(e,n={},i){const{api_version:r=this._client.apiVersion}=n??{};return this._client.post(_u`/${r}/interactions/${e}/cancel`,i)}get(e,n={},i){var r;const l=n??{},{api_version:c=this._client.apiVersion}=l,d=sc(l,["api_version"]);return this._client.get(_u`/${c}/interactions/${e}`,Object.assign(Object.assign({query:d},i),{stream:(r=n?.stream)!==null&&r!==void 0?r:!1}))}}PC._key=Object.freeze(["interactions"]);class kC extends PC{}function vB(t){let e=0;for(const r of t)e+=r.length;const n=new Uint8Array(e);let i=0;for(const r of t)n.set(r,i),i+=r.length;return n}let Su;function Cm(t){let e;return(Su??(e=new globalThis.TextEncoder,Su=e.encode.bind(e)))(t)}let Eu;function vE(t){let e;return(Eu??(e=new globalThis.TextDecoder,Eu=e.decode.bind(e)))(t)}let Pc=class{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(e){if(e==null)return[];const n=e instanceof ArrayBuffer?new Uint8Array(e):typeof e=="string"?Cm(e):e;this.buffer=vB([this.buffer,n]);const i=[];let r;for(;(r=yB(this.buffer,this.carriageReturnIndex))!=null;){if(r.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=r.index;continue}if(this.carriageReturnIndex!=null&&(r.index!==this.carriageReturnIndex+1||r.carriage)){i.push(vE(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const l=this.carriageReturnIndex!==null?r.preceding-1:r.preceding,c=vE(this.buffer.subarray(0,l));i.push(c),this.buffer=this.buffer.subarray(r.index),this.carriageReturnIndex=null}return i}flush(){return this.buffer.length?this.decode(`
`):[]}};Pc.NEWLINE_CHARS=new Set([`
`,"\r"]);Pc.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function yB(t,e){for(let r=e??0;r<t.length;r++){if(t[r]===10)return{preceding:r,index:r+1,carriage:!1};if(t[r]===13)return{preceding:r,index:r+1,carriage:!0}}return null}function _B(t){for(let i=0;i<t.length-1;i++){if(t[i]===10&&t[i+1]===10||t[i]===13&&t[i+1]===13)return i+2;if(t[i]===13&&t[i+1]===10&&i+3<t.length&&t[i+2]===13&&t[i+3]===10)return i+4}return-1}const rc={off:0,error:200,warn:300,info:400,debug:500},yE=(t,e,n)=>{if(t){if(Zk(rc,t))return t;Ot(n).warn(`${e} was set to ${JSON.stringify(t)}, expected one of ${JSON.stringify(Object.keys(rc))}`)}};function ga(){}function Tu(t,e,n){return!e||rc[t]>rc[n]?ga:e[t].bind(e)}const SB={error:ga,warn:ga,info:ga,debug:ga};let _E=new WeakMap;function Ot(t){var e;const n=t.logger,i=(e=t.logLevel)!==null&&e!==void 0?e:"off";if(!n)return SB;const r=_E.get(n);if(r&&r[0]===i)return r[1];const l={error:Tu("error",n,i),warn:Tu("warn",n,i),info:Tu("info",n,i),debug:Tu("debug",n,i)};return _E.set(n,[i,l]),l}const Uo=t=>(t.options&&(t.options=Object.assign({},t.options),delete t.options.headers),t.headers&&(t.headers=Object.fromEntries((t.headers instanceof Headers?[...t.headers]:Object.entries(t.headers)).map(([e,n])=>[e,e.toLowerCase()==="x-goog-api-key"||e.toLowerCase()==="authorization"||e.toLowerCase()==="cookie"||e.toLowerCase()==="set-cookie"?"***":n]))),"retryOfRequestLogID"in t&&(t.retryOfRequestLogID&&(t.retryOf=t.retryOfRequestLogID),delete t.retryOfRequestLogID),t);let EB=class va{constructor(e,n,i){this.iterator=e,this.controller=n,this.client=i}static fromSSEResponse(e,n,i){let r=!1;const l=i?Ot(i):console;function c(){return Un(this,arguments,function*(){var m,p,y,_;if(r)throw new An("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let S=!1;try{try{for(var T=!0,b=Ln(TB(e,n)),R;R=yield ve(b.next()),m=R.done,!m;T=!0){_=R.value,T=!1;const x=_;if(!S)if(x.data.startsWith("[DONE]")){S=!0;continue}else try{yield yield ve(JSON.parse(x.data))}catch(P){throw l.error("Could not parse message into JSON:",x.data),l.error("From chunk:",x.raw),P}}}catch(x){p={error:x}}finally{try{!T&&!m&&(y=b.return)&&(yield ve(y.call(b)))}finally{if(p)throw p.error}}S=!0}catch(x){if(Ep(x))return yield ve(void 0);throw x}finally{S||n.abort()}})}return new va(c,n,i)}static fromReadableStream(e,n,i){let r=!1;function l(){return Un(this,arguments,function*(){var m,p,y,_;const S=new Pc,T=IC(e);try{for(var b=!0,R=Ln(T),x;x=yield ve(R.next()),m=x.done,!m;b=!0){_=x.value,b=!1;const P=_;for(const H of S.decode(P))yield yield ve(H)}}catch(P){p={error:P}}finally{try{!b&&!m&&(y=R.return)&&(yield ve(y.call(R)))}finally{if(p)throw p.error}}for(const P of S.flush())yield yield ve(P)})}function c(){return Un(this,arguments,function*(){var m,p,y,_;if(r)throw new An("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let S=!1;try{try{for(var T=!0,b=Ln(l()),R;R=yield ve(b.next()),m=R.done,!m;T=!0){_=R.value,T=!1;const x=_;S||x&&(yield yield ve(JSON.parse(x)))}}catch(x){p={error:x}}finally{try{!T&&!m&&(y=b.return)&&(yield ve(y.call(b)))}finally{if(p)throw p.error}}S=!0}catch(x){if(Ep(x))return yield ve(void 0);throw x}finally{S||n.abort()}})}return new va(c,n,i)}[Symbol.asyncIterator](){return this.iterator()}tee(){const e=[],n=[],i=this.iterator(),r=l=>({next:()=>{if(l.length===0){const c=i.next();e.push(c),n.push(c)}return l.shift()}});return[new va(()=>r(e),this.controller,this.client),new va(()=>r(n),this.controller,this.client)]}toReadableStream(){const e=this;let n;return NC({async start(){n=e[Symbol.asyncIterator]()},async pull(i){try{const{value:r,done:l}=await n.next();if(l)return i.close();const c=Cm(JSON.stringify(r)+`
`);i.enqueue(c)}catch(r){i.error(r)}},async cancel(){var i;await((i=n.return)===null||i===void 0?void 0:i.call(n))}})}};function TB(t,e){return Un(this,arguments,function*(){var i,r,l,c;if(!t.body)throw e.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new An("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new An("Attempted to iterate over a response with no body");const d=new CB,m=new Pc,p=IC(t.body);try{for(var y=!0,_=Ln(AB(p)),S;S=yield ve(_.next()),i=S.done,!i;y=!0){c=S.value,y=!1;const T=c;for(const b of m.decode(T)){const R=d.decode(b);R&&(yield yield ve(R))}}}catch(T){r={error:T}}finally{try{!y&&!i&&(l=_.return)&&(yield ve(l.call(_)))}finally{if(r)throw r.error}}for(const T of m.flush()){const b=d.decode(T);b&&(yield yield ve(b))}})}function AB(t){return Un(this,arguments,function*(){var n,i,r,l;let c=new Uint8Array;try{for(var d=!0,m=Ln(t),p;p=yield ve(m.next()),n=p.done,!n;d=!0){l=p.value,d=!1;const y=l;if(y==null)continue;const _=y instanceof ArrayBuffer?new Uint8Array(y):typeof y=="string"?Cm(y):y;let S=new Uint8Array(c.length+_.length);S.set(c),S.set(_,c.length),c=S;let T;for(;(T=_B(c))!==-1;)yield yield ve(c.slice(0,T)),c=c.slice(T)}}catch(y){i={error:y}}finally{try{!d&&!n&&(r=m.return)&&(yield ve(r.call(m)))}finally{if(i)throw i.error}}c.length>0&&(yield yield ve(c))})}let CB=class{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const l={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],l}if(this.chunks.push(e),e.startsWith(":"))return null;let[n,i,r]=bB(e,":");return r.startsWith(" ")&&(r=r.substring(1)),n==="event"?this.event=r:n==="data"&&this.data.push(r),null}};function bB(t,e){const n=t.indexOf(e);return n!==-1?[t.substring(0,n),e,t.substring(n+e.length)]:[t,"",""]}async function wB(t,e){const{response:n,requestLogID:i,retryOfRequestLogID:r,startTime:l}=e,c=await(async()=>{var d;if(e.options.stream)return Ot(t).debug("response",n.status,n.url,n.headers,n.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(n,e.controller,t):EB.fromSSEResponse(n,e.controller,t);if(n.status===204)return null;if(e.options.__binaryResponse)return n;const m=n.headers.get("content-type"),p=(d=m?.split(";")[0])===null||d===void 0?void 0:d.trim();return p?.includes("application/json")||p?.endsWith("+json")?await n.json():await n.text()})();return Ot(t).debug(`[${i}] response parsed`,Uo({retryOfRequestLogID:r,url:n.url,status:n.status,body:c,durationMs:Date.now()-l})),c}let RB=class BC extends Promise{constructor(e,n,i=wB){super(r=>{r(null)}),this.responsePromise=n,this.parseResponse=i,this.client=e}_thenUnwrap(e){return new BC(this.client,this.responsePromise,async(n,i)=>e(await this.parseResponse(n,i),i))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:n}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(e=>this.parseResponse(this.client,e))),this.parsedPromise}then(e,n){return this.parse().then(e,n)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}};const HC=Symbol("brand.privateNullableHeaders");function*xB(t){if(!t)return;if(HC in t){const{values:i,nulls:r}=t;yield*i.entries();for(const l of r)yield[l,null];return}let e=!1,n;t instanceof Headers?n=t.entries():hE(t)?n=t:(e=!0,n=Object.entries(t??{}));for(let i of n){const r=i[0];if(typeof r!="string")throw new TypeError("expected header name to be a string");const l=hE(i[1])?i[1]:[i[1]];let c=!1;for(const d of l)d!==void 0&&(e&&!c&&(c=!0,yield[r,null]),yield[r,d])}}const Ph=t=>{const e=new Headers,n=new Set;for(const i of t){const r=new Set;for(const[l,c]of xB(i)){const d=l.toLowerCase();r.has(d)||(e.delete(l),r.add(d)),c===null?(e.delete(l),n.add(d)):(e.append(l,c),n.delete(d))}}return{[HC]:!0,values:e,nulls:n}};const kh=t=>{var e,n,i,r,l,c;if(typeof globalThis.process<"u")return(i=(n=(e=ZD)===null||e===void 0?void 0:e[t])===null||n===void 0?void 0:n.trim())!==null&&i!==void 0?i:void 0;if(typeof globalThis.Deno<"u")return(c=(l=(r=globalThis.Deno.env)===null||r===void 0?void 0:r.get)===null||l===void 0?void 0:l.call(r,t))===null||c===void 0?void 0:c.trim()};var GC;class kc{constructor(e){var n,i,r,l,c,d,m,p=e===void 0?{}:e,{baseURL:y=kh("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:_=(n=kh("GEMINI_API_KEY"))!==null&&n!==void 0?n:null,apiVersion:S="v1beta"}=p,T=sc(p,["baseURL","apiKey","apiVersion"]);const b=Object.assign(Object.assign({apiKey:_,apiVersion:S},T),{baseURL:y||"https://generativelanguage.googleapis.com"});this.baseURL=b.baseURL,this.timeout=(i=b.timeout)!==null&&i!==void 0?i:kc.DEFAULT_TIMEOUT,this.logger=(r=b.logger)!==null&&r!==void 0?r:console;const R="warn";this.logLevel=R,this.logLevel=(c=(l=yE(b.logLevel,"ClientOptions.logLevel",this))!==null&&l!==void 0?l:yE(kh("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&c!==void 0?c:R,this.fetchOptions=b.fetchOptions,this.maxRetries=(d=b.maxRetries)!==null&&d!==void 0?d:2,this.fetch=(m=b.fetch)!==null&&m!==void 0?m:rB(),this.encoder=uB,this._options=b,this.apiKey=_,this.apiVersion=S}withOptions(e){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),e))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:e,nulls:n}){if(!(this.apiKey&&e.get("x-goog-api-key"))&&!n.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(e){if(this.apiKey!=null)return Ph([{"x-goog-api-key":this.apiKey}])}stringifyQuery(e){return Object.entries(e).filter(([n,i])=>typeof i<"u").map(([n,i])=>{if(typeof i=="string"||typeof i=="number"||typeof i=="boolean")return`${encodeURIComponent(n)}=${encodeURIComponent(i)}`;if(i===null)return`${encodeURIComponent(n)}=`;throw new An(`Cannot stringify type ${typeof i}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${Js}`}defaultIdempotencyKey(){return`stainless-node-retry-${Jk()}`}makeStatusError(e,n,i,r){return Cn.generate(e,n,i,r)}buildURL(e,n,i){const r=!this.baseURLOverridden()&&i||this.baseURL,l=Kk(e)?new URL(e):new URL(r+(r.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),c=this.defaultQuery();return Wk(c)||(n=Object.assign(Object.assign({},c),n)),typeof n=="object"&&n&&!Array.isArray(n)&&(l.search=this.stringifyQuery(n)),l.toString()}async prepareOptions(e){}async prepareRequest(e,{url:n,options:i}){}get(e,n){return this.methodRequest("get",e,n)}post(e,n){return this.methodRequest("post",e,n)}patch(e,n){return this.methodRequest("patch",e,n)}put(e,n){return this.methodRequest("put",e,n)}delete(e,n){return this.methodRequest("delete",e,n)}methodRequest(e,n,i){return this.request(Promise.resolve(i).then(r=>Object.assign({method:e,path:n},r)))}request(e,n=null){return new RB(this,this.makeRequest(e,n,void 0))}async makeRequest(e,n,i){var r,l,c;const d=await e,m=(r=d.maxRetries)!==null&&r!==void 0?r:this.maxRetries;n==null&&(n=m),await this.prepareOptions(d);const{req:p,url:y,timeout:_}=await this.buildRequest(d,{retryCount:m-n});await this.prepareRequest(p,{url:y,options:d});const S="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),T=i===void 0?"":`, retryOf: ${i}`,b=Date.now();if(Ot(this).debug(`[${S}] sending request`,Uo({retryOfRequestLogID:i,method:d.method,url:y,options:d,headers:p.headers})),!((l=d.signal)===null||l===void 0)&&l.aborted)throw new Cp;const R=new AbortController,x=await this.fetchWithTimeout(y,p,_,R).catch(Tp),P=Date.now();if(x instanceof globalThis.Error){const B=`retrying, ${n} attempts remaining`;if(!((c=d.signal)===null||c===void 0)&&c.aborted)throw new Cp;const q=Ep(x)||/timed? ?out/i.test(String(x)+("cause"in x?String(x.cause):""));if(n)return Ot(this).info(`[${S}] connection ${q?"timed out":"failed"} - ${B}`),Ot(this).debug(`[${S}] connection ${q?"timed out":"failed"} (${B})`,Uo({retryOfRequestLogID:i,url:y,durationMs:P-b,message:x.message})),this.retryRequest(d,n,i??S);throw Ot(this).info(`[${S}] connection ${q?"timed out":"failed"} - error; no more retries left`),Ot(this).debug(`[${S}] connection ${q?"timed out":"failed"} (error; no more retries left)`,Uo({retryOfRequestLogID:i,url:y,durationMs:P-b,message:x.message})),q?new EC:new Lc({cause:x})}const H=`[${S}${T}] ${p.method} ${y} ${x.ok?"succeeded":"failed"} with status ${x.status} in ${P-b}ms`;if(!x.ok){const B=await this.shouldRetry(x);if(n&&B){const Z=`retrying, ${n} attempts remaining`;return await lB(x.body),Ot(this).info(`${H} - ${Z}`),Ot(this).debug(`[${S}] response error (${Z})`,Uo({retryOfRequestLogID:i,url:x.url,status:x.status,headers:x.headers,durationMs:P-b})),this.retryRequest(d,n,i??S,x.headers)}const q=B?"error; no more retries left":"error; not retryable";Ot(this).info(`${H} - ${q}`);const Q=await x.text().catch(Z=>Tp(Z).message),K=eB(Q),$=K?void 0:Q;throw Ot(this).debug(`[${S}] response error (${q})`,Uo({retryOfRequestLogID:i,url:x.url,status:x.status,headers:x.headers,message:$,durationMs:Date.now()-b})),this.makeStatusError(x.status,K,$,x.headers)}return Ot(this).info(H),Ot(this).debug(`[${S}] response start`,Uo({retryOfRequestLogID:i,url:x.url,status:x.status,headers:x.headers,durationMs:P-b})),{response:x,options:d,controller:R,requestLogID:S,retryOfRequestLogID:i,startTime:b}}async fetchWithTimeout(e,n,i,r){const l=n||{},{signal:c,method:d}=l,m=sc(l,["signal","method"]);c&&c.addEventListener("abort",()=>r.abort());const p=setTimeout(()=>r.abort(),i),y=globalThis.ReadableStream&&m.body instanceof globalThis.ReadableStream||typeof m.body=="object"&&m.body!==null&&Symbol.asyncIterator in m.body,_=Object.assign(Object.assign(Object.assign({signal:r.signal},y?{duplex:"half"}:{}),{method:"GET"}),m);d&&(_.method=d.toUpperCase());try{return await this.fetch.call(void 0,e,_)}finally{clearTimeout(p)}}async shouldRetry(e){const n=e.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,n,i,r){var l;let c;const d=r?.get("retry-after-ms");if(d){const p=parseFloat(d);Number.isNaN(p)||(c=p)}const m=r?.get("retry-after");if(m&&!c){const p=parseFloat(m);Number.isNaN(p)?c=Date.parse(m)-Date.now():c=p*1e3}if(!(c&&0<=c&&c<60*1e3)){const p=(l=e.maxRetries)!==null&&l!==void 0?l:this.maxRetries;c=this.calculateDefaultRetryTimeoutMillis(n,p)}return await tB(c),this.makeRequest(e,n-1,i)}calculateDefaultRetryTimeoutMillis(e,n){const l=n-e,c=Math.min(.5*Math.pow(2,l),8),d=1-Math.random()*.25;return c*d*1e3}async buildRequest(e,{retryCount:n=0}={}){var i,r,l;const c=Object.assign({},e),{method:d,path:m,query:p,defaultBaseURL:y}=c,_=this.buildURL(m,p,y);"timeout"in c&&jk("timeout",c.timeout),c.timeout=(i=c.timeout)!==null&&i!==void 0?i:this.timeout;const{bodyHeaders:S,body:T}=this.buildBody({options:c}),b=await this.buildHeaders({options:e,method:d,bodyHeaders:S,retryCount:n});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:d,headers:b},c.signal&&{signal:c.signal}),globalThis.ReadableStream&&T instanceof globalThis.ReadableStream&&{duplex:"half"}),T&&{body:T}),(r=this.fetchOptions)!==null&&r!==void 0?r:{}),(l=c.fetchOptions)!==null&&l!==void 0?l:{}),url:_,timeout:c.timeout}}async buildHeaders({options:e,method:n,bodyHeaders:i,retryCount:r}){let l={};this.idempotencyHeader&&n!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),l[this.idempotencyHeader]=e.idempotencyKey);const c=Ph([l,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(r)},e.timeout?{"X-Stainless-Timeout":String(Math.trunc(e.timeout/1e3))}:{}),sB()),await this.authHeaders(e),this._options.defaultHeaders,i,e.headers]);return this.validateHeaders(c),c.values}buildBody({options:{body:e,headers:n}}){if(!e)return{bodyHeaders:void 0,body:void 0};const i=Ph([n]);return ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof DataView||typeof e=="string"&&i.values.has("content-type")||globalThis.Blob&&e instanceof globalThis.Blob||e instanceof FormData||e instanceof URLSearchParams||globalThis.ReadableStream&&e instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:e}:typeof e=="object"&&(Symbol.asyncIterator in e||Symbol.iterator in e&&"next"in e&&typeof e.next=="function")?{bodyHeaders:void 0,body:aB(e)}:this.encoder({body:e,headers:i})}}kc.DEFAULT_TIMEOUT=6e4;class yt extends kc{constructor(){super(...arguments),this.interactions=new kC(this)}}GC=yt;yt.GeminiNextGenAPIClient=GC;yt.GeminiNextGenAPIClientError=An;yt.APIError=Cn;yt.APIConnectionError=Lc;yt.APIConnectionTimeoutError=EC;yt.APIUserAbortError=Cp;yt.NotFoundError=bC;yt.ConflictError=wC;yt.RateLimitError=xC;yt.BadRequestError=TC;yt.AuthenticationError=AC;yt.InternalServerError=MC;yt.PermissionDeniedError=CC;yt.UnprocessableEntityError=RC;yt.toFile=pB;yt.Interactions=kC;function MB(t,e){const n={},i=f(t,["name"]);return i!=null&&h(n,["_url","name"],i),n}function NB(t,e){const n={},i=f(t,["name"]);return i!=null&&h(n,["_url","name"],i),n}function IB(t,e){const n={},i=f(t,["sdkHttpResponse"]);return i!=null&&h(n,["sdkHttpResponse"],i),n}function DB(t,e){const n={},i=f(t,["sdkHttpResponse"]);return i!=null&&h(n,["sdkHttpResponse"],i),n}function OB(t,e,n){const i={};if(f(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const r=f(t,["tunedModelDisplayName"]);if(e!==void 0&&r!=null&&h(e,["displayName"],r),f(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const l=f(t,["epochCount"]);e!==void 0&&l!=null&&h(e,["tuningTask","hyperparameters","epochCount"],l);const c=f(t,["learningRateMultiplier"]);if(c!=null&&h(i,["tuningTask","hyperparameters","learningRateMultiplier"],c),f(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(f(t,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(f(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const d=f(t,["batchSize"]);e!==void 0&&d!=null&&h(e,["tuningTask","hyperparameters","batchSize"],d);const m=f(t,["learningRate"]);if(e!==void 0&&m!=null&&h(e,["tuningTask","hyperparameters","learningRate"],m),f(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(f(t,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return i}function UB(t,e,n){const i={};let r=f(n,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){const T=f(t,["validationDataset"]);e!==void 0&&T!=null&&h(e,["supervisedTuningSpec"],SE(T))}else if(r==="PREFERENCE_TUNING"){const T=f(t,["validationDataset"]);e!==void 0&&T!=null&&h(e,["preferenceOptimizationSpec"],SE(T))}const l=f(t,["tunedModelDisplayName"]);e!==void 0&&l!=null&&h(e,["tunedModelDisplayName"],l);const c=f(t,["description"]);e!==void 0&&c!=null&&h(e,["description"],c);let d=f(n,["config","method"]);if(d===void 0&&(d="SUPERVISED_FINE_TUNING"),d==="SUPERVISED_FINE_TUNING"){const T=f(t,["epochCount"]);e!==void 0&&T!=null&&h(e,["supervisedTuningSpec","hyperParameters","epochCount"],T)}else if(d==="PREFERENCE_TUNING"){const T=f(t,["epochCount"]);e!==void 0&&T!=null&&h(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],T)}let m=f(n,["config","method"]);if(m===void 0&&(m="SUPERVISED_FINE_TUNING"),m==="SUPERVISED_FINE_TUNING"){const T=f(t,["learningRateMultiplier"]);e!==void 0&&T!=null&&h(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],T)}else if(m==="PREFERENCE_TUNING"){const T=f(t,["learningRateMultiplier"]);e!==void 0&&T!=null&&h(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],T)}let p=f(n,["config","method"]);if(p===void 0&&(p="SUPERVISED_FINE_TUNING"),p==="SUPERVISED_FINE_TUNING"){const T=f(t,["exportLastCheckpointOnly"]);e!==void 0&&T!=null&&h(e,["supervisedTuningSpec","exportLastCheckpointOnly"],T)}else if(p==="PREFERENCE_TUNING"){const T=f(t,["exportLastCheckpointOnly"]);e!==void 0&&T!=null&&h(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],T)}let y=f(n,["config","method"]);if(y===void 0&&(y="SUPERVISED_FINE_TUNING"),y==="SUPERVISED_FINE_TUNING"){const T=f(t,["adapterSize"]);e!==void 0&&T!=null&&h(e,["supervisedTuningSpec","hyperParameters","adapterSize"],T)}else if(y==="PREFERENCE_TUNING"){const T=f(t,["adapterSize"]);e!==void 0&&T!=null&&h(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],T)}if(f(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(f(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const _=f(t,["labels"]);e!==void 0&&_!=null&&h(e,["labels"],_);const S=f(t,["beta"]);return e!==void 0&&S!=null&&h(e,["preferenceOptimizationSpec","hyperParameters","beta"],S),i}function LB(t,e){const n={},i=f(t,["baseModel"]);i!=null&&h(n,["baseModel"],i);const r=f(t,["preTunedModel"]);r!=null&&h(n,["preTunedModel"],r);const l=f(t,["trainingDataset"]);l!=null&&JB(l);const c=f(t,["config"]);return c!=null&&OB(c,n),n}function PB(t,e){const n={},i=f(t,["baseModel"]);i!=null&&h(n,["baseModel"],i);const r=f(t,["preTunedModel"]);r!=null&&h(n,["preTunedModel"],r);const l=f(t,["trainingDataset"]);l!=null&&YB(l,n,e);const c=f(t,["config"]);return c!=null&&UB(c,n,e),n}function kB(t,e){const n={},i=f(t,["name"]);return i!=null&&h(n,["_url","name"],i),n}function BB(t,e){const n={},i=f(t,["name"]);return i!=null&&h(n,["_url","name"],i),n}function HB(t,e,n){const i={},r=f(t,["pageSize"]);e!==void 0&&r!=null&&h(e,["_query","pageSize"],r);const l=f(t,["pageToken"]);e!==void 0&&l!=null&&h(e,["_query","pageToken"],l);const c=f(t,["filter"]);return e!==void 0&&c!=null&&h(e,["_query","filter"],c),i}function GB(t,e,n){const i={},r=f(t,["pageSize"]);e!==void 0&&r!=null&&h(e,["_query","pageSize"],r);const l=f(t,["pageToken"]);e!==void 0&&l!=null&&h(e,["_query","pageToken"],l);const c=f(t,["filter"]);return e!==void 0&&c!=null&&h(e,["_query","filter"],c),i}function VB(t,e){const n={},i=f(t,["config"]);return i!=null&&HB(i,n),n}function qB(t,e){const n={},i=f(t,["config"]);return i!=null&&GB(i,n),n}function FB(t,e){const n={},i=f(t,["sdkHttpResponse"]);i!=null&&h(n,["sdkHttpResponse"],i);const r=f(t,["nextPageToken"]);r!=null&&h(n,["nextPageToken"],r);const l=f(t,["tunedModels"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(d=>VC(d))),h(n,["tuningJobs"],c)}return n}function zB(t,e){const n={},i=f(t,["sdkHttpResponse"]);i!=null&&h(n,["sdkHttpResponse"],i);const r=f(t,["nextPageToken"]);r!=null&&h(n,["nextPageToken"],r);const l=f(t,["tuningJobs"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(d=>Rp(d))),h(n,["tuningJobs"],c)}return n}function $B(t,e){const n={},i=f(t,["name"]);i!=null&&h(n,["model"],i);const r=f(t,["name"]);return r!=null&&h(n,["endpoint"],r),n}function JB(t,e){const n={};if(f(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(f(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const i=f(t,["examples"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(l=>l)),h(n,["examples","examples"],r)}return n}function YB(t,e,n){const i={};let r=f(n,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){const c=f(t,["gcsUri"]);e!==void 0&&c!=null&&h(e,["supervisedTuningSpec","trainingDatasetUri"],c)}else if(r==="PREFERENCE_TUNING"){const c=f(t,["gcsUri"]);e!==void 0&&c!=null&&h(e,["preferenceOptimizationSpec","trainingDatasetUri"],c)}let l=f(n,["config","method"]);if(l===void 0&&(l="SUPERVISED_FINE_TUNING"),l==="SUPERVISED_FINE_TUNING"){const c=f(t,["vertexDatasetResource"]);e!==void 0&&c!=null&&h(e,["supervisedTuningSpec","trainingDatasetUri"],c)}else if(l==="PREFERENCE_TUNING"){const c=f(t,["vertexDatasetResource"]);e!==void 0&&c!=null&&h(e,["preferenceOptimizationSpec","trainingDatasetUri"],c)}if(f(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return i}function VC(t,e){const n={},i=f(t,["sdkHttpResponse"]);i!=null&&h(n,["sdkHttpResponse"],i);const r=f(t,["name"]);r!=null&&h(n,["name"],r);const l=f(t,["state"]);l!=null&&h(n,["state"],eC(l));const c=f(t,["createTime"]);c!=null&&h(n,["createTime"],c);const d=f(t,["tuningTask","startTime"]);d!=null&&h(n,["startTime"],d);const m=f(t,["tuningTask","completeTime"]);m!=null&&h(n,["endTime"],m);const p=f(t,["updateTime"]);p!=null&&h(n,["updateTime"],p);const y=f(t,["description"]);y!=null&&h(n,["description"],y);const _=f(t,["baseModel"]);_!=null&&h(n,["baseModel"],_);const S=f(t,["_self"]);return S!=null&&h(n,["tunedModel"],$B(S)),n}function Rp(t,e){const n={},i=f(t,["sdkHttpResponse"]);i!=null&&h(n,["sdkHttpResponse"],i);const r=f(t,["name"]);r!=null&&h(n,["name"],r);const l=f(t,["state"]);l!=null&&h(n,["state"],eC(l));const c=f(t,["createTime"]);c!=null&&h(n,["createTime"],c);const d=f(t,["startTime"]);d!=null&&h(n,["startTime"],d);const m=f(t,["endTime"]);m!=null&&h(n,["endTime"],m);const p=f(t,["updateTime"]);p!=null&&h(n,["updateTime"],p);const y=f(t,["error"]);y!=null&&h(n,["error"],y);const _=f(t,["description"]);_!=null&&h(n,["description"],_);const S=f(t,["baseModel"]);S!=null&&h(n,["baseModel"],S);const T=f(t,["tunedModel"]);T!=null&&h(n,["tunedModel"],T);const b=f(t,["preTunedModel"]);b!=null&&h(n,["preTunedModel"],b);const R=f(t,["supervisedTuningSpec"]);R!=null&&h(n,["supervisedTuningSpec"],R);const x=f(t,["preferenceOptimizationSpec"]);x!=null&&h(n,["preferenceOptimizationSpec"],x);const P=f(t,["tuningDataStats"]);P!=null&&h(n,["tuningDataStats"],P);const H=f(t,["encryptionSpec"]);H!=null&&h(n,["encryptionSpec"],H);const B=f(t,["partnerModelTuningSpec"]);B!=null&&h(n,["partnerModelTuningSpec"],B);const q=f(t,["customBaseModel"]);q!=null&&h(n,["customBaseModel"],q);const Q=f(t,["experiment"]);Q!=null&&h(n,["experiment"],Q);const K=f(t,["labels"]);K!=null&&h(n,["labels"],K);const $=f(t,["outputUri"]);$!=null&&h(n,["outputUri"],$);const oe=f(t,["pipelineJob"]);oe!=null&&h(n,["pipelineJob"],oe);const Z=f(t,["serviceAccount"]);Z!=null&&h(n,["serviceAccount"],Z);const ae=f(t,["tunedModelDisplayName"]);ae!=null&&h(n,["tunedModelDisplayName"],ae);const de=f(t,["veoTuningSpec"]);return de!=null&&h(n,["veoTuningSpec"],de),n}function KB(t,e){const n={},i=f(t,["sdkHttpResponse"]);i!=null&&h(n,["sdkHttpResponse"],i);const r=f(t,["name"]);r!=null&&h(n,["name"],r);const l=f(t,["metadata"]);l!=null&&h(n,["metadata"],l);const c=f(t,["done"]);c!=null&&h(n,["done"],c);const d=f(t,["error"]);return d!=null&&h(n,["error"],d),n}function SE(t,e){const n={},i=f(t,["gcsUri"]);i!=null&&h(n,["validationDatasetUri"],i);const r=f(t,["vertexDatasetResource"]);return r!=null&&h(n,["validationDatasetUri"],r),n}class XB extends Mi{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Xo(Ri.PAGED_ITEM_TUNING_JOBS,i=>this.listInternal(i),await this.listInternal(n),n),this.get=async n=>await this.getInternal(n),this.tune=async n=>{var i;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const r={tunedModelName:n.baseModel};!((i=n.config)===null||i===void 0)&&i.preTunedModelCheckpointId&&(r.checkpointId=n.config.preTunedModelCheckpointId);const l=Object.assign(Object.assign({},n),{preTunedModel:r});return l.baseModel=void 0,await this.tuneInternal(l)}else{const r=Object.assign({},n);return await this.tuneInternal(r)}else{const r=Object.assign({},n),l=await this.tuneMldevInternal(r);let c="";return l.metadata!==void 0&&l.metadata.tunedModel!==void 0?c=l.metadata.tunedModel:l.name!==void 0&&l.name.includes("/operations/")&&(c=l.name.split("/operations/")[0]),{name:c,state:pp.JOB_STATE_QUEUED}}}}async getInternal(e){var n,i,r,l;let c,d="",m={};if(this.apiClient.isVertexAI()){const p=BB(e);return d=ne("{name}",p._url),m=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:y.headers},S})),c.then(y=>Rp(y))}else{const p=kB(e);return d=ne("{name}",p._url),m=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:y.headers},S})),c.then(y=>VC(y))}}async listInternal(e){var n,i,r,l;let c,d="",m={};if(this.apiClient.isVertexAI()){const p=qB(e);return d=ne("tuningJobs",p._url),m=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:y.headers},S})),c.then(y=>{const _=zB(y),S=new JS;return Object.assign(S,_),S})}else{const p=VB(e);return d=ne("tunedModels",p._url),m=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:y.headers},S})),c.then(y=>{const _=FB(y),S=new JS;return Object.assign(S,_),S})}}async cancel(e){var n,i,r,l;let c,d="",m={};if(this.apiClient.isVertexAI()){const p=NB(e);return d=ne("{name}:cancel",p._url),m=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:y.headers},S})),c.then(y=>{const _=DB(y),S=new YS;return Object.assign(S,_),S})}else{const p=MB(e);return d=ne("{name}:cancel",p._url),m=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:y.headers},S})),c.then(y=>{const _=IB(y),S=new YS;return Object.assign(S,_),S})}}async tuneInternal(e){var n,i;let r,l="",c={};if(this.apiClient.isVertexAI()){const d=PB(e,e);return l=ne("tuningJobs",d._url),c=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json().then(p=>{const y=p;return y.sdkHttpResponse={headers:m.headers},y})),r.then(m=>Rp(m))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,i;let r,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=LB(e);return l=ne("tunedModels",d._url),c=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json().then(p=>{const y=p;return y.sdkHttpResponse={headers:m.headers},y})),r.then(m=>KB(m))}}}class QB{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const WB=1024*1024*8,ZB=3,jB=1e3,e2=2,ac="x-goog-upload-status";async function t2(t,e,n){var i;const r=await qC(t,e,n),l=await r?.json();if(((i=r?.headers)===null||i===void 0?void 0:i[ac])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return l.file}async function n2(t,e,n){var i;const r=await qC(t,e,n),l=await r?.json();if(((i=r?.headers)===null||i===void 0?void 0:i[ac])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const c=KA(l),d=new ym;return Object.assign(d,c),d}async function qC(t,e,n){var i,r;let l=0,c=0,d=new mp(new Response),m="upload";for(l=t.size;c<l;){const p=Math.min(WB,l-c),y=t.slice(c,c+p);c+p>=l&&(m+=", finalize");let _=0,S=jB;for(;_<ZB&&(d=await n.request({path:"",body:y,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":m,"X-Goog-Upload-Offset":String(c),"Content-Length":String(p)}}}),!(!((i=d?.headers)===null||i===void 0)&&i[ac]));)_++,await o2(S),S=S*e2;if(c+=p,((r=d?.headers)===null||r===void 0?void 0:r[ac])!=="active")break;if(l<=c)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return d}async function i2(t){return{size:t.size,type:t.type}}function o2(t){return new Promise(e=>setTimeout(e,t))}class s2{async upload(e,n,i){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await t2(e,n,i)}async uploadToFileSearchStore(e,n,i){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await n2(e,n,i)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await i2(e)}}class r2{create(e,n,i){return new a2(e,n,i)}}class a2{constructor(e,n,i){this.url=e,this.headers=n,this.callbacks=i}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}const EE="x-goog-api-key";class l2{constructor(e){this.apiKey=e}async addAuthHeaders(e,n){if(e.get(EE)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(EE,this.apiKey)}}}const u2="gl-node/";class c2{get interactions(){if(this._interactions!==void 0)return this._interactions;if(console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions."),this.vertexai)throw new Error("This version of the GenAI SDK does not support Vertex AI API for interactions.");const e=this.httpOptions;e?.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const n=new yt({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:e?.timeout});return this._interactions=n.interactions,this._interactions}constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;const i=n1(e.httpOptions,e.vertexai,void 0,void 0);i&&(e.httpOptions?e.httpOptions.baseUrl=i:e.httpOptions={baseUrl:i}),this.apiVersion=e.apiVersion,this.httpOptions=e.httpOptions;const r=new l2(this.apiKey);this.apiClient=new tk({auth:r,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:u2+"web",uploader:new s2,downloader:new QB}),this.models=new Sk(this.apiClient),this.live=new pk(this.apiClient,r,new r2),this.batches=new IO(this.apiClient),this.chats=new dU(this.models,this.apiClient),this.caches=new uU(this.apiClient),this.files=new TU(this.apiClient),this.operations=new Ek(this.apiClient),this.authTokens=new kk(this.apiClient),this.tunings=new XB(this.apiClient),this.fileSearchStores=new $k(this.apiClient)}}let TE=class extends Error{};class xp{static client=null;static getApiKey=null;static setApiKey=null;static getGenAI(){if(!this.client){const e=this.getApiKey?.()||"";if(!e)throw new TE("No Google API key set");this.client=new c2({apiKey:e})}return this.client}static resetClient(){this.client=null}static async txt2txt(e){try{const n=this.getGenAI(),i={},r=await n.models.generateContent({model:"gemini-2.5-flash",contents:e,config:i});return console.log("RES TEXT",r.text),r.text}catch(n){console.error("Goo Err Response",n);const i=n?.message||"";if(i.includes("API key not valid")||i.includes("API_KEY_INVALID")||n instanceof TE){const r=window.prompt("Your Google API key is missing or invalid. Please enter a valid key:");return r?(this.setApiKey?.(r),this.resetClient()):console.warn("User did not provide a valid API key."),null}throw n}}static async img2img(e,n){try{const i=this.getGenAI(),r=[{text:e}];if(n?.length)for(const p of n)!p?.rawBase64||!p?.mime||r.push({inlineData:{data:p.rawBase64,mimeType:p.mime}});const l={model:"gemini-2.5-flash-image",contents:r,config:{imageConfig:{aspectRatio:"9:16",response_modalities:["Image"]}}};console.log("Gemini Payload",l);const c=await i.models.generateContent(l);console.log("GEMINI RES",c);const m=(c?.candidates??[])[0]?.content?.parts??[];for(const p of m)if(p.inlineData){const y=p.inlineData.data,_=p.inlineData.mimeType||"image/png";return{base64Obj:{rawBase64:y,mime:_},id:c.responseId}}return null}catch(i){throw console.error("img2img error",i),i}}}class AE{folder;scene;shotJson=null;images=[];srcImage=null;resultsFolder=null;constructor(e,n){this.folder=e,this.scene=n,co(this)}async load(){try{this.shotJson=await zo.create(this.folder,"shotinfo.json"),this.images=[],this.srcImage=null;try{this.resultsFolder=await this.folder.getDirectoryHandle("results",{create:!0});for await(const[e,n]of this.resultsFolder.entries())if(n.kind==="file"){const i=new $o(n);this.images.push(i),this.shotJson.data?.srcImage&&e===this.shotJson.data.srcImage&&(this.srcImage=i)}}catch(e){console.warn("No results folder found or failed to read:",e),this.resultsFolder=null}}catch(e){console.error("Error loading shot:",this.folder.name,e),this.shotJson=null,this.images=[],this.srcImage=null,this.resultsFolder=null}}setSrcImage(e){this.srcImage=e,this.shotJson?.data&&(this.shotJson.data.srcImage=e?.handle.name,this.shotJson.save())}async delete(){if(!this.scene?.folder){console.error("Cannot delete shot: scene folder not set");return}try{await this.scene.folder.removeEntry(this.folder.name,{recursive:!0}),gt(()=>{this.scene.shots=this.scene.shots.filter(e=>e!==this)})}catch(e){console.error("Failed to delete shot:",e)}}addImage(e){this.images.push(e),this.srcImage||this.setSrcImage(e)}removeImage(e){this.images=this.images.filter(n=>n!==e),this.srcImage===e&&this.setSrcImage(null)}async GenerateImage(){if(!this.resultsFolder){console.warn("Results folder not set. Attempting to create one...");try{this.resultsFolder=await this.folder.getDirectoryHandle("results",{create:!0})}catch(i){console.error("Failed to create results folder:",i);return}}const e=[];for(const i of this.scene.getTags())try{const r=await i.image.getBase64();e.push(r)}catch(r){console.warn("Failed to load tag image:",i.path,r)}const n=this.shotJson?.data.prompt;try{const i=await xp.img2img(n||"",e);if(i&&i.base64Obj?.rawBase64){const r=await $o.fromBase64({rawBase64:i.base64Obj.rawBase64,mime:i.base64Obj.mime},this.resultsFolder,`${i.id}.png`);this.addImage(r)}else console.warn("No valid image returned from GoogleAI.img2img")}catch(i){return console.error("GenerateImage failed:",i),null}}}function ge(t,e,n,i,r){if(typeof e=="function"?t!==e||!0:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,n),n}function L(t,e,n,i){if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?i:n==="a"?i.call(t):i?i.value:e.get(t)}let FC=function(){const{crypto:t}=globalThis;if(t?.randomUUID)return FC=t.randomUUID.bind(t),t.randomUUID();const e=new Uint8Array(1),n=t?()=>t.getRandomValues(e)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,i=>(+i^n()&15>>+i/4).toString(16))};function Mp(t){return typeof t=="object"&&t!==null&&("name"in t&&t.name==="AbortError"||"message"in t&&String(t.message).includes("FetchRequestCanceledException"))}const Np=t=>{if(t instanceof Error)return t;if(typeof t=="object"&&t!==null){try{if(Object.prototype.toString.call(t)==="[object Error]"){const e=new Error(t.message,t.cause?{cause:t.cause}:{});return t.stack&&(e.stack=t.stack),t.cause&&!e.cause&&(e.cause=t.cause),t.name&&(e.name=t.name),e}}catch{}try{return new Error(JSON.stringify(t))}catch{}}return new Error(t)};class fe extends Error{}class xt extends fe{constructor(e,n,i,r){super(`${xt.makeMessage(e,n,i)}`),this.status=e,this.headers=r,this.requestID=r?.get("x-request-id"),this.error=n;const l=n;this.code=l?.code,this.param=l?.param,this.type=l?.type}static makeMessage(e,n,i){const r=n?.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):i;return e&&r?`${e} ${r}`:e?`${e} status code (no body)`:r||"(no status code or body)"}static generate(e,n,i,r){if(!e||!r)return new Bc({message:i,cause:Np(n)});const l=n?.error;return e===400?new zC(e,l,i,r):e===401?new $C(e,l,i,r):e===403?new JC(e,l,i,r):e===404?new YC(e,l,i,r):e===409?new KC(e,l,i,r):e===422?new XC(e,l,i,r):e===429?new QC(e,l,i,r):e>=500?new WC(e,l,i,r):new xt(e,l,i,r)}}class En extends xt{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}}class Bc extends xt{constructor({message:e,cause:n}){super(void 0,void 0,e||"Connection error.",void 0),n&&(this.cause=n)}}class bm extends Bc{constructor({message:e}={}){super({message:e??"Request timed out."})}}class zC extends xt{}class $C extends xt{}class JC extends xt{}class YC extends xt{}class KC extends xt{}class XC extends xt{}class QC extends xt{}class WC extends xt{}class ZC extends fe{constructor(){super("Could not parse response content as the length limit was reached")}}class jC extends fe{constructor(){super("Could not parse response content as the request was rejected by the content filter")}}class ya extends Error{constructor(e){super(e)}}const f2=/^[a-z][a-z0-9+.-]*:/i,d2=t=>f2.test(t);let qt=t=>(qt=Array.isArray,qt(t)),CE=qt;function eb(t){return typeof t!="object"?{}:t??{}}function h2(t){if(!t)return!0;for(const e in t)return!1;return!0}function p2(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Bh(t){return t!=null&&typeof t=="object"&&!Array.isArray(t)}const m2=(t,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new fe(`${t} must be an integer`);if(e<0)throw new fe(`${t} must be a positive integer`);return e},g2=t=>{try{return JSON.parse(t)}catch{return}},Ja=t=>new Promise(e=>setTimeout(e,t)),Ys="6.10.0",v2=()=>typeof window<"u"&&typeof window.document<"u"&&typeof navigator<"u";function y2(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const _2=()=>{const t=y2();if(t==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ys,"X-Stainless-OS":wE(Deno.build.os),"X-Stainless-Arch":bE(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:Deno.version?.deno??"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ys,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(t==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ys,"X-Stainless-OS":wE(globalThis.process.platform??"unknown"),"X-Stainless-Arch":bE(globalThis.process.arch??"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":globalThis.process.version??"unknown"};const e=S2();return e?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ys,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${e.browser}`,"X-Stainless-Runtime-Version":e.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ys,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function S2(){if(typeof navigator>"u"||!navigator)return null;const t=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:n}of t){const i=n.exec(navigator.userAgent);if(i){const r=i[1]||0,l=i[2]||0,c=i[3]||0;return{browser:e,version:`${r}.${l}.${c}`}}}return null}const bE=t=>t==="x32"?"x32":t==="x86_64"||t==="x64"?"x64":t==="arm"?"arm":t==="aarch64"||t==="arm64"?"arm64":t?`other:${t}`:"unknown",wE=t=>(t=t.toLowerCase(),t.includes("ios")?"iOS":t==="android"?"Android":t==="darwin"?"MacOS":t==="win32"?"Windows":t==="freebsd"?"FreeBSD":t==="openbsd"?"OpenBSD":t==="linux"?"Linux":t?`Other:${t}`:"Unknown");let RE;const E2=()=>RE??(RE=_2());function T2(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new OpenAI({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function tb(...t){const e=globalThis.ReadableStream;if(typeof e>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new e(...t)}function nb(t){let e=Symbol.asyncIterator in t?t[Symbol.asyncIterator]():t[Symbol.iterator]();return tb({start(){},async pull(n){const{done:i,value:r}=await e.next();i?n.close():n.enqueue(r)},async cancel(){await e.return?.()}})}function ib(t){if(t[Symbol.asyncIterator])return t;const e=t.getReader();return{async next(){try{const n=await e.read();return n?.done&&e.releaseLock(),n}catch(n){throw e.releaseLock(),n}},async return(){const n=e.cancel();return e.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function A2(t){if(t===null||typeof t!="object")return;if(t[Symbol.asyncIterator]){await t[Symbol.asyncIterator]().return?.();return}const e=t.getReader(),n=e.cancel();e.releaseLock(),await n}const C2=({headers:t,body:e})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(e)}),ob="RFC3986",sb=t=>String(t),xE={RFC1738:t=>String(t).replace(/%20/g,"+"),RFC3986:sb},b2="RFC1738";let Ip=(t,e)=>(Ip=Object.hasOwn??Function.prototype.call.bind(Object.prototype.hasOwnProperty),Ip(t,e));const zn=(()=>{const t=[];for(let e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t})(),Hh=1024,w2=(t,e,n,i,r)=>{if(t.length===0)return t;let l=t;if(typeof t=="symbol"?l=Symbol.prototype.toString.call(t):typeof t!="string"&&(l=String(t)),n==="iso-8859-1")return escape(l).replace(/%u[0-9a-f]{4}/gi,function(d){return"%26%23"+parseInt(d.slice(2),16)+"%3B"});let c="";for(let d=0;d<l.length;d+=Hh){const m=l.length>=Hh?l.slice(d,d+Hh):l,p=[];for(let y=0;y<m.length;++y){let _=m.charCodeAt(y);if(_===45||_===46||_===95||_===126||_>=48&&_<=57||_>=65&&_<=90||_>=97&&_<=122||r===b2&&(_===40||_===41)){p[p.length]=m.charAt(y);continue}if(_<128){p[p.length]=zn[_];continue}if(_<2048){p[p.length]=zn[192|_>>6]+zn[128|_&63];continue}if(_<55296||_>=57344){p[p.length]=zn[224|_>>12]+zn[128|_>>6&63]+zn[128|_&63];continue}y+=1,_=65536+((_&1023)<<10|m.charCodeAt(y)&1023),p[p.length]=zn[240|_>>18]+zn[128|_>>12&63]+zn[128|_>>6&63]+zn[128|_&63]}c+=p.join("")}return c};function R2(t){return!t||typeof t!="object"?!1:!!(t.constructor&&t.constructor.isBuffer&&t.constructor.isBuffer(t))}function ME(t,e){if(qt(t)){const n=[];for(let i=0;i<t.length;i+=1)n.push(e(t[i]));return n}return e(t)}const rb={brackets(t){return String(t)+"[]"},comma:"comma",indices(t,e){return String(t)+"["+e+"]"},repeat(t){return String(t)}},ab=function(t,e){Array.prototype.push.apply(t,qt(e)?e:[e])};let NE;const dt={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:w2,encodeValuesOnly:!1,format:ob,formatter:sb,indices:!1,serializeDate(t){return(NE??(NE=Function.prototype.call.bind(Date.prototype.toISOString)))(t)},skipNulls:!1,strictNullHandling:!1};function x2(t){return typeof t=="string"||typeof t=="number"||typeof t=="boolean"||typeof t=="symbol"||typeof t=="bigint"}const Gh={};function lb(t,e,n,i,r,l,c,d,m,p,y,_,S,T,b,R,x,P){let H=t,B=P,q=0,Q=!1;for(;(B=B.get(Gh))!==void 0&&!Q;){const ae=B.get(t);if(q+=1,typeof ae<"u"){if(ae===q)throw new RangeError("Cyclic object value");Q=!0}typeof B.get(Gh)>"u"&&(q=0)}if(typeof p=="function"?H=p(e,H):H instanceof Date?H=S?.(H):n==="comma"&&qt(H)&&(H=ME(H,function(ae){return ae instanceof Date?S?.(ae):ae})),H===null){if(l)return m&&!R?m(e,dt.encoder,x,"key",T):e;H=""}if(x2(H)||R2(H)){if(m){const ae=R?e:m(e,dt.encoder,x,"key",T);return[b?.(ae)+"="+b?.(m(H,dt.encoder,x,"value",T))]}return[b?.(e)+"="+b?.(String(H))]}const K=[];if(typeof H>"u")return K;let $;if(n==="comma"&&qt(H))R&&m&&(H=ME(H,m)),$=[{value:H.length>0?H.join(",")||null:void 0}];else if(qt(p))$=p;else{const ae=Object.keys(H);$=y?ae.sort(y):ae}const oe=d?String(e).replace(/\./g,"%2E"):String(e),Z=i&&qt(H)&&H.length===1?oe+"[]":oe;if(r&&qt(H)&&H.length===0)return Z+"[]";for(let ae=0;ae<$.length;++ae){const de=$[ae],He=typeof de=="object"&&typeof de.value<"u"?de.value:H[de];if(c&&He===null)continue;const Ee=_&&d?de.replace(/\./g,"%2E"):de,$e=qt(H)?typeof n=="function"?n(Z,Ee):Z:Z+(_?"."+Ee:"["+Ee+"]");P.set(t,q);const nt=new WeakMap;nt.set(Gh,P),ab(K,lb(He,$e,n,i,r,l,c,d,n==="comma"&&R&&qt(H)?null:m,p,y,_,S,T,b,R,x,nt))}return K}function M2(t=dt){if(typeof t.allowEmptyArrays<"u"&&typeof t.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof t.encodeDotInKeys<"u"&&typeof t.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(t.encoder!==null&&typeof t.encoder<"u"&&typeof t.encoder!="function")throw new TypeError("Encoder has to be a function.");const e=t.charset||dt.charset;if(typeof t.charset<"u"&&t.charset!=="utf-8"&&t.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");let n=ob;if(typeof t.format<"u"){if(!Ip(xE,t.format))throw new TypeError("Unknown format option provided.");n=t.format}const i=xE[n];let r=dt.filter;(typeof t.filter=="function"||qt(t.filter))&&(r=t.filter);let l;if(t.arrayFormat&&t.arrayFormat in rb?l=t.arrayFormat:"indices"in t?l=t.indices?"indices":"repeat":l=dt.arrayFormat,"commaRoundTrip"in t&&typeof t.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");const c=typeof t.allowDots>"u"?t.encodeDotInKeys?!0:dt.allowDots:!!t.allowDots;return{addQueryPrefix:typeof t.addQueryPrefix=="boolean"?t.addQueryPrefix:dt.addQueryPrefix,allowDots:c,allowEmptyArrays:typeof t.allowEmptyArrays=="boolean"?!!t.allowEmptyArrays:dt.allowEmptyArrays,arrayFormat:l,charset:e,charsetSentinel:typeof t.charsetSentinel=="boolean"?t.charsetSentinel:dt.charsetSentinel,commaRoundTrip:!!t.commaRoundTrip,delimiter:typeof t.delimiter>"u"?dt.delimiter:t.delimiter,encode:typeof t.encode=="boolean"?t.encode:dt.encode,encodeDotInKeys:typeof t.encodeDotInKeys=="boolean"?t.encodeDotInKeys:dt.encodeDotInKeys,encoder:typeof t.encoder=="function"?t.encoder:dt.encoder,encodeValuesOnly:typeof t.encodeValuesOnly=="boolean"?t.encodeValuesOnly:dt.encodeValuesOnly,filter:r,format:n,formatter:i,serializeDate:typeof t.serializeDate=="function"?t.serializeDate:dt.serializeDate,skipNulls:typeof t.skipNulls=="boolean"?t.skipNulls:dt.skipNulls,sort:typeof t.sort=="function"?t.sort:null,strictNullHandling:typeof t.strictNullHandling=="boolean"?t.strictNullHandling:dt.strictNullHandling}}function N2(t,e={}){let n=t;const i=M2(e);let r,l;typeof i.filter=="function"?(l=i.filter,n=l("",n)):qt(i.filter)&&(l=i.filter,r=l);const c=[];if(typeof n!="object"||n===null)return"";const d=rb[i.arrayFormat],m=d==="comma"&&i.commaRoundTrip;r||(r=Object.keys(n)),i.sort&&r.sort(i.sort);const p=new WeakMap;for(let S=0;S<r.length;++S){const T=r[S];i.skipNulls&&n[T]===null||ab(c,lb(n[T],T,d,m,i.allowEmptyArrays,i.strictNullHandling,i.skipNulls,i.encodeDotInKeys,i.encode?i.encoder:null,i.filter,i.sort,i.allowDots,i.serializeDate,i.format,i.formatter,i.encodeValuesOnly,i.charset,p))}const y=c.join(i.delimiter);let _=i.addQueryPrefix===!0?"?":"";return i.charsetSentinel&&(i.charset==="iso-8859-1"?_+="utf8=%26%2310003%3B&":_+="utf8=%E2%9C%93&"),y.length>0?_+y:""}function I2(t){let e=0;for(const r of t)e+=r.length;const n=new Uint8Array(e);let i=0;for(const r of t)n.set(r,i),i+=r.length;return n}let IE;function wm(t){let e;return(IE??(e=new globalThis.TextEncoder,IE=e.encode.bind(e)))(t)}let DE;function OE(t){let e;return(DE??(e=new globalThis.TextDecoder,DE=e.decode.bind(e)))(t)}var jt,en;class Hc{constructor(){jt.set(this,void 0),en.set(this,void 0),ge(this,jt,new Uint8Array),ge(this,en,null)}decode(e){if(e==null)return[];const n=e instanceof ArrayBuffer?new Uint8Array(e):typeof e=="string"?wm(e):e;ge(this,jt,I2([L(this,jt,"f"),n]));const i=[];let r;for(;(r=D2(L(this,jt,"f"),L(this,en,"f")))!=null;){if(r.carriage&&L(this,en,"f")==null){ge(this,en,r.index);continue}if(L(this,en,"f")!=null&&(r.index!==L(this,en,"f")+1||r.carriage)){i.push(OE(L(this,jt,"f").subarray(0,L(this,en,"f")-1))),ge(this,jt,L(this,jt,"f").subarray(L(this,en,"f"))),ge(this,en,null);continue}const l=L(this,en,"f")!==null?r.preceding-1:r.preceding,c=OE(L(this,jt,"f").subarray(0,l));i.push(c),ge(this,jt,L(this,jt,"f").subarray(r.index)),ge(this,en,null)}return i}flush(){return L(this,jt,"f").length?this.decode(`
`):[]}}jt=new WeakMap,en=new WeakMap;Hc.NEWLINE_CHARS=new Set([`
`,"\r"]);Hc.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function D2(t,e){for(let r=e??0;r<t.length;r++){if(t[r]===10)return{preceding:r,index:r+1,carriage:!1};if(t[r]===13)return{preceding:r,index:r+1,carriage:!0}}return null}function O2(t){for(let i=0;i<t.length-1;i++){if(t[i]===10&&t[i+1]===10||t[i]===13&&t[i+1]===13)return i+2;if(t[i]===13&&t[i+1]===10&&i+3<t.length&&t[i+2]===13&&t[i+3]===10)return i+4}return-1}const lc={off:0,error:200,warn:300,info:400,debug:500},UE=(t,e,n)=>{if(t){if(p2(lc,t))return t;bt(n).warn(`${e} was set to ${JSON.stringify(t)}, expected one of ${JSON.stringify(Object.keys(lc))}`)}};function _a(){}function Au(t,e,n){return!e||lc[t]>lc[n]?_a:e[t].bind(e)}const U2={error:_a,warn:_a,info:_a,debug:_a};let LE=new WeakMap;function bt(t){const e=t.logger,n=t.logLevel??"off";if(!e)return U2;const i=LE.get(e);if(i&&i[0]===n)return i[1];const r={error:Au("error",e,n),warn:Au("warn",e,n),info:Au("info",e,n),debug:Au("debug",e,n)};return LE.set(e,[n,r]),r}const Lo=t=>(t.options&&(t.options={...t.options},delete t.options.headers),t.headers&&(t.headers=Object.fromEntries((t.headers instanceof Headers?[...t.headers]:Object.entries(t.headers)).map(([e,n])=>[e,e.toLowerCase()==="authorization"||e.toLowerCase()==="cookie"||e.toLowerCase()==="set-cookie"?"***":n]))),"retryOfRequestLogID"in t&&(t.retryOfRequestLogID&&(t.retryOf=t.retryOfRequestLogID),delete t.retryOfRequestLogID),t);var pa;class Yn{constructor(e,n,i){this.iterator=e,pa.set(this,void 0),this.controller=n,ge(this,pa,i)}static fromSSEResponse(e,n,i){let r=!1;const l=i?bt(i):console;async function*c(){if(r)throw new fe("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let d=!1;try{for await(const m of L2(e,n))if(!d){if(m.data.startsWith("[DONE]")){d=!0;continue}if(m.event===null||!m.event.startsWith("thread.")){let p;try{p=JSON.parse(m.data)}catch(y){throw l.error("Could not parse message into JSON:",m.data),l.error("From chunk:",m.raw),y}if(p&&p.error)throw new xt(void 0,p.error,void 0,e.headers);yield p}else{let p;try{p=JSON.parse(m.data)}catch(y){throw console.error("Could not parse message into JSON:",m.data),console.error("From chunk:",m.raw),y}if(m.event=="error")throw new xt(void 0,p.error,p.message,void 0);yield{event:m.event,data:p}}}d=!0}catch(m){if(Mp(m))return;throw m}finally{d||n.abort()}}return new Yn(c,n,i)}static fromReadableStream(e,n,i){let r=!1;async function*l(){const d=new Hc,m=ib(e);for await(const p of m)for(const y of d.decode(p))yield y;for(const p of d.flush())yield p}async function*c(){if(r)throw new fe("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let d=!1;try{for await(const m of l())d||m&&(yield JSON.parse(m));d=!0}catch(m){if(Mp(m))return;throw m}finally{d||n.abort()}}return new Yn(c,n,i)}[(pa=new WeakMap,Symbol.asyncIterator)](){return this.iterator()}tee(){const e=[],n=[],i=this.iterator(),r=l=>({next:()=>{if(l.length===0){const c=i.next();e.push(c),n.push(c)}return l.shift()}});return[new Yn(()=>r(e),this.controller,L(this,pa,"f")),new Yn(()=>r(n),this.controller,L(this,pa,"f"))]}toReadableStream(){const e=this;let n;return tb({async start(){n=e[Symbol.asyncIterator]()},async pull(i){try{const{value:r,done:l}=await n.next();if(l)return i.close();const c=wm(JSON.stringify(r)+`
`);i.enqueue(c)}catch(r){i.error(r)}},async cancel(){await n.return?.()}})}}async function*L2(t,e){if(!t.body)throw e.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new fe("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new fe("Attempted to iterate over a response with no body");const n=new k2,i=new Hc,r=ib(t.body);for await(const l of P2(r))for(const c of i.decode(l)){const d=n.decode(c);d&&(yield d)}for(const l of i.flush()){const c=n.decode(l);c&&(yield c)}}async function*P2(t){let e=new Uint8Array;for await(const n of t){if(n==null)continue;const i=n instanceof ArrayBuffer?new Uint8Array(n):typeof n=="string"?wm(n):n;let r=new Uint8Array(e.length+i.length);r.set(e),r.set(i,e.length),e=r;let l;for(;(l=O2(e))!==-1;)yield e.slice(0,l),e=e.slice(l)}e.length>0&&(yield e)}class k2{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const l={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],l}if(this.chunks.push(e),e.startsWith(":"))return null;let[n,i,r]=B2(e,":");return r.startsWith(" ")&&(r=r.substring(1)),n==="event"?this.event=r:n==="data"&&this.data.push(r),null}}function B2(t,e){const n=t.indexOf(e);return n!==-1?[t.substring(0,n),e,t.substring(n+e.length)]:[t,"",""]}async function ub(t,e){const{response:n,requestLogID:i,retryOfRequestLogID:r,startTime:l}=e,c=await(async()=>{if(e.options.stream)return bt(t).debug("response",n.status,n.url,n.headers,n.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(n,e.controller,t):Yn.fromSSEResponse(n,e.controller,t);if(n.status===204)return null;if(e.options.__binaryResponse)return n;const m=n.headers.get("content-type")?.split(";")[0]?.trim();if(m?.includes("application/json")||m?.endsWith("+json")){const _=await n.json();return cb(_,n)}return await n.text()})();return bt(t).debug(`[${i}] response parsed`,Lo({retryOfRequestLogID:r,url:n.url,status:n.status,body:c,durationMs:Date.now()-l})),c}function cb(t,e){return!t||typeof t!="object"||Array.isArray(t)?t:Object.defineProperty(t,"_request_id",{value:e.headers.get("x-request-id"),enumerable:!1})}var Sa;class Gc extends Promise{constructor(e,n,i=ub){super(r=>{r(null)}),this.responsePromise=n,this.parseResponse=i,Sa.set(this,void 0),ge(this,Sa,e)}_thenUnwrap(e){return new Gc(L(this,Sa,"f"),this.responsePromise,async(n,i)=>cb(e(await this.parseResponse(n,i),i),i.response))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:n,request_id:n.headers.get("x-request-id")}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(e=>this.parseResponse(L(this,Sa,"f"),e))),this.parsedPromise}then(e,n){return this.parse().then(e,n)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}Sa=new WeakMap;var Cu;class Rm{constructor(e,n,i,r){Cu.set(this,void 0),ge(this,Cu,e),this.options=r,this.response=n,this.body=i}hasNextPage(){return this.getPaginatedItems().length?this.nextPageRequestOptions()!=null:!1}async getNextPage(){const e=this.nextPageRequestOptions();if(!e)throw new fe("No next page expected; please check `.hasNextPage()` before calling `.getNextPage()`.");return await L(this,Cu,"f").requestAPIList(this.constructor,e)}async*iterPages(){let e=this;for(yield e;e.hasNextPage();)e=await e.getNextPage(),yield e}async*[(Cu=new WeakMap,Symbol.asyncIterator)](){for await(const e of this.iterPages())for(const n of e.getPaginatedItems())yield n}}class H2 extends Gc{constructor(e,n,i){super(e,n,async(r,l)=>new i(r,l.response,await ub(r,l),l.options))}async*[Symbol.asyncIterator](){const e=await this;for await(const n of e)yield n}}class Vc extends Rm{constructor(e,n,i,r){super(e,n,i,r),this.data=i.data||[],this.object=i.object}getPaginatedItems(){return this.data??[]}nextPageRequestOptions(){return null}}class ut extends Rm{constructor(e,n,i,r){super(e,n,i,r),this.data=i.data||[],this.has_more=i.has_more||!1}getPaginatedItems(){return this.data??[]}hasNextPage(){return this.has_more===!1?!1:super.hasNextPage()}nextPageRequestOptions(){const e=this.getPaginatedItems(),n=e[e.length-1]?.id;return n?{...this.options,query:{...eb(this.options.query),after:n}}:null}}class uc extends Rm{constructor(e,n,i,r){super(e,n,i,r),this.data=i.data||[],this.has_more=i.has_more||!1,this.last_id=i.last_id||""}getPaginatedItems(){return this.data??[]}hasNextPage(){return this.has_more===!1?!1:super.hasNextPage()}nextPageRequestOptions(){const e=this.last_id;return e?{...this.options,query:{...eb(this.options.query),after:e}}:null}}const fb=()=>{if(typeof File>"u"){const{process:t}=globalThis,e=typeof t?.versions?.node=="string"&&parseInt(t.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(e?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function Ma(t,e,n){return fb(),new File(t,e??"unknown_file",n)}function Pu(t){return(typeof t=="object"&&t!==null&&("name"in t&&t.name&&String(t.name)||"url"in t&&t.url&&String(t.url)||"filename"in t&&t.filename&&String(t.filename)||"path"in t&&t.path&&String(t.path))||"").split(/[\\/]/).pop()||void 0}const xm=t=>t!=null&&typeof t=="object"&&typeof t[Symbol.asyncIterator]=="function",PE=async(t,e)=>Dp(t.body)?{...t,body:await db(t.body,e)}:t,Jo=async(t,e)=>({...t,body:await db(t.body,e)}),kE=new WeakMap;function G2(t){const e=typeof t=="function"?t:t.fetch,n=kE.get(e);if(n)return n;const i=(async()=>{try{const r="Response"in e?e.Response:(await e("data:,")).constructor,l=new FormData;return l.toString()!==await new r(l).text()}catch{return!0}})();return kE.set(e,i),i}const db=async(t,e)=>{if(!await G2(e))throw new TypeError("The provided fetch function does not support file uploads with the current global FormData class.");const n=new FormData;return await Promise.all(Object.entries(t||{}).map(([i,r])=>Op(n,i,r))),n},hb=t=>t instanceof Blob&&"name"in t,V2=t=>typeof t=="object"&&t!==null&&(t instanceof Response||xm(t)||hb(t)),Dp=t=>{if(V2(t))return!0;if(Array.isArray(t))return t.some(Dp);if(t&&typeof t=="object"){for(const e in t)if(Dp(t[e]))return!0}return!1},Op=async(t,e,n)=>{if(n!==void 0){if(n==null)throw new TypeError(`Received null for "${e}"; to pass null in FormData, you must use the string 'null'`);if(typeof n=="string"||typeof n=="number"||typeof n=="boolean")t.append(e,String(n));else if(n instanceof Response)t.append(e,Ma([await n.blob()],Pu(n)));else if(xm(n))t.append(e,Ma([await new Response(nb(n)).blob()],Pu(n)));else if(hb(n))t.append(e,n,Pu(n));else if(Array.isArray(n))await Promise.all(n.map(i=>Op(t,e+"[]",i)));else if(typeof n=="object")await Promise.all(Object.entries(n).map(([i,r])=>Op(t,`${e}[${i}]`,r)));else throw new TypeError(`Invalid value given to form, expected a string, number, boolean, object, Array, File or Blob but got ${n} instead`)}},pb=t=>t!=null&&typeof t=="object"&&typeof t.size=="number"&&typeof t.type=="string"&&typeof t.text=="function"&&typeof t.slice=="function"&&typeof t.arrayBuffer=="function",q2=t=>t!=null&&typeof t=="object"&&typeof t.name=="string"&&typeof t.lastModified=="number"&&pb(t),F2=t=>t!=null&&typeof t=="object"&&typeof t.url=="string"&&typeof t.blob=="function";async function z2(t,e,n){if(fb(),t=await t,q2(t))return t instanceof File?t:Ma([await t.arrayBuffer()],t.name);if(F2(t)){const r=await t.blob();return e||(e=new URL(t.url).pathname.split(/[\\/]/).pop()),Ma(await Up(r),e,n)}const i=await Up(t);if(e||(e=Pu(t)),!n?.type){const r=i.find(l=>typeof l=="object"&&"type"in l&&l.type);typeof r=="string"&&(n={...n,type:r})}return Ma(i,e,n)}async function Up(t){let e=[];if(typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer)e.push(t);else if(pb(t))e.push(t instanceof Blob?t:await t.arrayBuffer());else if(xm(t))for await(const n of t)e.push(...await Up(n));else{const n=t?.constructor?.name;throw new Error(`Unexpected data type: ${typeof t}${n?`; constructor: ${n}`:""}${$2(t)}`)}return e}function $2(t){return typeof t!="object"||t===null?"":`; props: [${Object.getOwnPropertyNames(t).map(n=>`"${n}"`).join(", ")}]`}class ue{constructor(e){this._client=e}}function mb(t){return t.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const BE=Object.freeze(Object.create(null)),J2=(t=mb)=>function(n,...i){if(n.length===1)return n[0];let r=!1;const l=[],c=n.reduce((y,_,S)=>{/[?#]/.test(_)&&(r=!0);const T=i[S];let b=(r?encodeURIComponent:t)(""+T);return S!==i.length&&(T==null||typeof T=="object"&&T.toString===Object.getPrototypeOf(Object.getPrototypeOf(T.hasOwnProperty??BE)??BE)?.toString)&&(b=T+"",l.push({start:y.length+_.length,length:b.length,error:`Value of type ${Object.prototype.toString.call(T).slice(8,-1)} is not a valid path parameter`})),y+_+(S===i.length?"":b)},""),d=c.split(/[?#]/,1)[0],m=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let p;for(;(p=m.exec(d))!==null;)l.push({start:p.index,length:p[0].length,error:`Value "${p[0]}" can't be safely passed as a path parameter`});if(l.sort((y,_)=>y.start-_.start),l.length>0){let y=0;const _=l.reduce((S,T)=>{const b=" ".repeat(T.start-y),R="^".repeat(T.length);return y=T.start+T.length,S+b+R},"");throw new fe(`Path parameters result in path with invalid segments:
${l.map(S=>S.error).join(`
`)}
${c}
${_}`)}return c},X=J2(mb);let gb=class extends ue{list(e,n={},i){return this._client.getAPIList(X`/chat/completions/${e}/messages`,ut,{query:n,...i})}};function cc(t){return t!==void 0&&"function"in t&&t.function!==void 0}function Mm(t){return t?.$brand==="auto-parseable-response-format"}function Ya(t){return t?.$brand==="auto-parseable-tool"}function Y2(t,e){return!e||!vb(e)?{...t,choices:t.choices.map(n=>(yb(n.message.tool_calls),{...n,message:{...n.message,parsed:null,...n.message.tool_calls?{tool_calls:n.message.tool_calls}:void 0}}))}:Nm(t,e)}function Nm(t,e){const n=t.choices.map(i=>{if(i.finish_reason==="length")throw new ZC;if(i.finish_reason==="content_filter")throw new jC;return yb(i.message.tool_calls),{...i,message:{...i.message,...i.message.tool_calls?{tool_calls:i.message.tool_calls?.map(r=>X2(e,r))??void 0}:void 0,parsed:i.message.content&&!i.message.refusal?K2(e,i.message.content):null}}});return{...t,choices:n}}function K2(t,e){return t.response_format?.type!=="json_schema"?null:t.response_format?.type==="json_schema"?"$parseRaw"in t.response_format?t.response_format.$parseRaw(e):JSON.parse(e):null}function X2(t,e){const n=t.tools?.find(i=>cc(i)&&i.function?.name===e.function.name);return{...e,function:{...e.function,parsed_arguments:Ya(n)?n.$parseRaw(e.function.arguments):n?.function.strict?JSON.parse(e.function.arguments):null}}}function Q2(t,e){if(!t||!("tools"in t)||!t.tools)return!1;const n=t.tools?.find(i=>cc(i)&&i.function?.name===e.function.name);return cc(n)&&(Ya(n)||n?.function.strict||!1)}function vb(t){return Mm(t.response_format)?!0:t.tools?.some(e=>Ya(e)||e.type==="function"&&e.function.strict===!0)??!1}function yb(t){for(const e of t||[])if(e.type!=="function")throw new fe(`Currently only \`function\` tool calls are supported; Received \`${e.type}\``)}function W2(t){for(const e of t??[]){if(e.type!=="function")throw new fe(`Currently only \`function\` tool types support auto-parsing; Received \`${e.type}\``);if(e.function.strict!==!0)throw new fe(`The \`${e.function.name}\` tool is not marked with \`strict: true\`. Only strict function tools can be auto-parsed`)}}const fc=t=>t?.role==="assistant",_b=t=>t?.role==="tool";var Lp,ku,Bu,Ea,Ta,Hu,Aa,vi,Ca,dc,hc,Ks,Sb;class Im{constructor(){Lp.add(this),this.controller=new AbortController,ku.set(this,void 0),Bu.set(this,()=>{}),Ea.set(this,()=>{}),Ta.set(this,void 0),Hu.set(this,()=>{}),Aa.set(this,()=>{}),vi.set(this,{}),Ca.set(this,!1),dc.set(this,!1),hc.set(this,!1),Ks.set(this,!1),ge(this,ku,new Promise((e,n)=>{ge(this,Bu,e,"f"),ge(this,Ea,n,"f")})),ge(this,Ta,new Promise((e,n)=>{ge(this,Hu,e,"f"),ge(this,Aa,n,"f")})),L(this,ku,"f").catch(()=>{}),L(this,Ta,"f").catch(()=>{})}_run(e){setTimeout(()=>{e().then(()=>{this._emitFinal(),this._emit("end")},L(this,Lp,"m",Sb).bind(this))},0)}_connected(){this.ended||(L(this,Bu,"f").call(this),this._emit("connect"))}get ended(){return L(this,Ca,"f")}get errored(){return L(this,dc,"f")}get aborted(){return L(this,hc,"f")}abort(){this.controller.abort()}on(e,n){return(L(this,vi,"f")[e]||(L(this,vi,"f")[e]=[])).push({listener:n}),this}off(e,n){const i=L(this,vi,"f")[e];if(!i)return this;const r=i.findIndex(l=>l.listener===n);return r>=0&&i.splice(r,1),this}once(e,n){return(L(this,vi,"f")[e]||(L(this,vi,"f")[e]=[])).push({listener:n,once:!0}),this}emitted(e){return new Promise((n,i)=>{ge(this,Ks,!0),e!=="error"&&this.once("error",i),this.once(e,n)})}async done(){ge(this,Ks,!0),await L(this,Ta,"f")}_emit(e,...n){if(L(this,Ca,"f"))return;e==="end"&&(ge(this,Ca,!0),L(this,Hu,"f").call(this));const i=L(this,vi,"f")[e];if(i&&(L(this,vi,"f")[e]=i.filter(r=>!r.once),i.forEach(({listener:r})=>r(...n))),e==="abort"){const r=n[0];!L(this,Ks,"f")&&!i?.length&&Promise.reject(r),L(this,Ea,"f").call(this,r),L(this,Aa,"f").call(this,r),this._emit("end");return}if(e==="error"){const r=n[0];!L(this,Ks,"f")&&!i?.length&&Promise.reject(r),L(this,Ea,"f").call(this,r),L(this,Aa,"f").call(this,r),this._emit("end")}}_emitFinal(){}}ku=new WeakMap,Bu=new WeakMap,Ea=new WeakMap,Ta=new WeakMap,Hu=new WeakMap,Aa=new WeakMap,vi=new WeakMap,Ca=new WeakMap,dc=new WeakMap,hc=new WeakMap,Ks=new WeakMap,Lp=new WeakSet,Sb=function(e){if(ge(this,dc,!0),e instanceof Error&&e.name==="AbortError"&&(e=new En),e instanceof En)return ge(this,hc,!0),this._emit("abort",e);if(e instanceof fe)return this._emit("error",e);if(e instanceof Error){const n=new fe(e.message);return n.cause=e,this._emit("error",n)}return this._emit("error",new fe(String(e)))};function Z2(t){return typeof t.parse=="function"}var Dt,Pp,pc,kp,Bp,Hp,Eb,Tb;const j2=10;class Ab extends Im{constructor(){super(...arguments),Dt.add(this),this._chatCompletions=[],this.messages=[]}_addChatCompletion(e){this._chatCompletions.push(e),this._emit("chatCompletion",e);const n=e.choices[0]?.message;return n&&this._addMessage(n),e}_addMessage(e,n=!0){if("content"in e||(e.content=null),this.messages.push(e),n){if(this._emit("message",e),_b(e)&&e.content)this._emit("functionToolCallResult",e.content);else if(fc(e)&&e.tool_calls)for(const i of e.tool_calls)i.type==="function"&&this._emit("functionToolCall",i.function)}}async finalChatCompletion(){await this.done();const e=this._chatCompletions[this._chatCompletions.length-1];if(!e)throw new fe("stream ended without producing a ChatCompletion");return e}async finalContent(){return await this.done(),L(this,Dt,"m",Pp).call(this)}async finalMessage(){return await this.done(),L(this,Dt,"m",pc).call(this)}async finalFunctionToolCall(){return await this.done(),L(this,Dt,"m",kp).call(this)}async finalFunctionToolCallResult(){return await this.done(),L(this,Dt,"m",Bp).call(this)}async totalUsage(){return await this.done(),L(this,Dt,"m",Hp).call(this)}allChatCompletions(){return[...this._chatCompletions]}_emitFinal(){const e=this._chatCompletions[this._chatCompletions.length-1];e&&this._emit("finalChatCompletion",e);const n=L(this,Dt,"m",pc).call(this);n&&this._emit("finalMessage",n);const i=L(this,Dt,"m",Pp).call(this);i&&this._emit("finalContent",i);const r=L(this,Dt,"m",kp).call(this);r&&this._emit("finalFunctionToolCall",r);const l=L(this,Dt,"m",Bp).call(this);l!=null&&this._emit("finalFunctionToolCallResult",l),this._chatCompletions.some(c=>c.usage)&&this._emit("totalUsage",L(this,Dt,"m",Hp).call(this))}async _createChatCompletion(e,n,i){const r=i?.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",()=>this.controller.abort())),L(this,Dt,"m",Eb).call(this,n);const l=await e.chat.completions.create({...n,stream:!1},{...i,signal:this.controller.signal});return this._connected(),this._addChatCompletion(Nm(l,n))}async _runChatCompletion(e,n,i){for(const r of n.messages)this._addMessage(r,!1);return await this._createChatCompletion(e,n,i)}async _runTools(e,n,i){const r="tool",{tool_choice:l="auto",stream:c,...d}=n,m=typeof l!="string"&&l.type==="function"&&l?.function?.name,{maxChatCompletions:p=j2}=i||{},y=n.tools.map(T=>{if(Ya(T)){if(!T.$callback)throw new fe("Tool given to `.runTools()` that does not have an associated function");return{type:"function",function:{function:T.$callback,name:T.function.name,description:T.function.description||"",parameters:T.function.parameters,parse:T.$parseRaw,strict:!0}}}return T}),_={};for(const T of y)T.type==="function"&&(_[T.function.name||T.function.function.name]=T.function);const S="tools"in n?y.map(T=>T.type==="function"?{type:"function",function:{name:T.function.name||T.function.function.name,parameters:T.function.parameters,description:T.function.description,strict:T.function.strict}}:T):void 0;for(const T of n.messages)this._addMessage(T,!1);for(let T=0;T<p;++T){const R=(await this._createChatCompletion(e,{...d,tool_choice:l,tools:S,messages:[...this.messages]},i)).choices[0]?.message;if(!R)throw new fe("missing message in ChatCompletion response");if(!R.tool_calls?.length)return;for(const x of R.tool_calls){if(x.type!=="function")continue;const P=x.id,{name:H,arguments:B}=x.function,q=_[H];if(q){if(m&&m!==H){const oe=`Invalid tool_call: ${JSON.stringify(H)}. ${JSON.stringify(m)} requested. Please try again`;this._addMessage({role:r,tool_call_id:P,content:oe});continue}}else{const oe=`Invalid tool_call: ${JSON.stringify(H)}. Available options are: ${Object.keys(_).map(Z=>JSON.stringify(Z)).join(", ")}. Please try again`;this._addMessage({role:r,tool_call_id:P,content:oe});continue}let Q;try{Q=Z2(q)?await q.parse(B):B}catch(oe){const Z=oe instanceof Error?oe.message:String(oe);this._addMessage({role:r,tool_call_id:P,content:Z});continue}const K=await q.function(Q,this),$=L(this,Dt,"m",Tb).call(this,K);if(this._addMessage({role:r,tool_call_id:P,content:$}),m)return}}}}Dt=new WeakSet,Pp=function(){return L(this,Dt,"m",pc).call(this).content??null},pc=function(){let e=this.messages.length;for(;e-- >0;){const n=this.messages[e];if(fc(n))return{...n,content:n.content??null,refusal:n.refusal??null}}throw new fe("stream ended without producing a ChatCompletionMessage with role=assistant")},kp=function(){for(let e=this.messages.length-1;e>=0;e--){const n=this.messages[e];if(fc(n)&&n?.tool_calls?.length)return n.tool_calls.filter(i=>i.type==="function").at(-1)?.function}},Bp=function(){for(let e=this.messages.length-1;e>=0;e--){const n=this.messages[e];if(_b(n)&&n.content!=null&&typeof n.content=="string"&&this.messages.some(i=>i.role==="assistant"&&i.tool_calls?.some(r=>r.type==="function"&&r.id===n.tool_call_id)))return n.content}},Hp=function(){const e={completion_tokens:0,prompt_tokens:0,total_tokens:0};for(const{usage:n}of this._chatCompletions)n&&(e.completion_tokens+=n.completion_tokens,e.prompt_tokens+=n.prompt_tokens,e.total_tokens+=n.total_tokens);return e},Eb=function(e){if(e.n!=null&&e.n>1)throw new fe("ChatCompletion convenience helpers only support n=1 at this time. To use n>1, please use chat.completions.create() directly.")},Tb=function(e){return typeof e=="string"?e:e===void 0?"undefined":JSON.stringify(e)};class Dm extends Ab{static runTools(e,n,i){const r=new Dm,l={...i,headers:{...i?.headers,"X-Stainless-Helper-Method":"runTools"}};return r._run(()=>r._runTools(e,n,l)),r}_addMessage(e,n=!0){super._addMessage(e,n),fc(e)&&e.content&&this._emit("content",e.content)}}const Cb=1,bb=2,wb=4,Rb=8,xb=16,Mb=32,Nb=64,Ib=128,Db=256,Ob=Ib|Db,Ub=xb|Mb|Ob|Nb,Lb=Cb|bb|Ub,Pb=wb|Rb,eH=Lb|Pb,mt={STR:Cb,NUM:bb,ARR:wb,OBJ:Rb,NULL:xb,BOOL:Mb,NAN:Nb,INFINITY:Ib,MINUS_INFINITY:Db,INF:Ob,SPECIAL:Ub,ATOM:Lb,COLLECTION:Pb,ALL:eH};class tH extends Error{}class nH extends Error{}function iH(t,e=mt.ALL){if(typeof t!="string")throw new TypeError(`expecting str, got ${typeof t}`);if(!t.trim())throw new Error(`${t} is empty`);return oH(t.trim(),e)}const oH=(t,e)=>{const n=t.length;let i=0;const r=S=>{throw new tH(`${S} at position ${i}`)},l=S=>{throw new nH(`${S} at position ${i}`)},c=()=>(_(),i>=n&&r("Unexpected end of input"),t[i]==='"'?d():t[i]==="{"?m():t[i]==="["?p():t.substring(i,i+4)==="null"||mt.NULL&e&&n-i<4&&"null".startsWith(t.substring(i))?(i+=4,null):t.substring(i,i+4)==="true"||mt.BOOL&e&&n-i<4&&"true".startsWith(t.substring(i))?(i+=4,!0):t.substring(i,i+5)==="false"||mt.BOOL&e&&n-i<5&&"false".startsWith(t.substring(i))?(i+=5,!1):t.substring(i,i+8)==="Infinity"||mt.INFINITY&e&&n-i<8&&"Infinity".startsWith(t.substring(i))?(i+=8,1/0):t.substring(i,i+9)==="-Infinity"||mt.MINUS_INFINITY&e&&1<n-i&&n-i<9&&"-Infinity".startsWith(t.substring(i))?(i+=9,-1/0):t.substring(i,i+3)==="NaN"||mt.NAN&e&&n-i<3&&"NaN".startsWith(t.substring(i))?(i+=3,NaN):y()),d=()=>{const S=i;let T=!1;for(i++;i<n&&(t[i]!=='"'||T&&t[i-1]==="\\");)T=t[i]==="\\"?!T:!1,i++;if(t.charAt(i)=='"')try{return JSON.parse(t.substring(S,++i-Number(T)))}catch(b){l(String(b))}else if(mt.STR&e)try{return JSON.parse(t.substring(S,i-Number(T))+'"')}catch{return JSON.parse(t.substring(S,t.lastIndexOf("\\"))+'"')}r("Unterminated string literal")},m=()=>{i++,_();const S={};try{for(;t[i]!=="}";){if(_(),i>=n&&mt.OBJ&e)return S;const T=d();_(),i++;try{const b=c();Object.defineProperty(S,T,{value:b,writable:!0,enumerable:!0,configurable:!0})}catch(b){if(mt.OBJ&e)return S;throw b}_(),t[i]===","&&i++}}catch{if(mt.OBJ&e)return S;r("Expected '}' at end of object")}return i++,S},p=()=>{i++;const S=[];try{for(;t[i]!=="]";)S.push(c()),_(),t[i]===","&&i++}catch{if(mt.ARR&e)return S;r("Expected ']' at end of array")}return i++,S},y=()=>{if(i===0){t==="-"&&mt.NUM&e&&r("Not sure what '-' is");try{return JSON.parse(t)}catch(T){if(mt.NUM&e)try{return t[t.length-1]==="."?JSON.parse(t.substring(0,t.lastIndexOf("."))):JSON.parse(t.substring(0,t.lastIndexOf("e")))}catch{}l(String(T))}}const S=i;for(t[i]==="-"&&i++;t[i]&&!",]}".includes(t[i]);)i++;i==n&&!(mt.NUM&e)&&r("Unterminated number literal");try{return JSON.parse(t.substring(S,i))}catch{t.substring(S,i)==="-"&&mt.NUM&e&&r("Not sure what '-' is");try{return JSON.parse(t.substring(S,t.lastIndexOf("e")))}catch(b){l(String(b))}}},_=()=>{for(;i<n&&` 
\r	`.includes(t[i]);)i++};return c()},HE=t=>iH(t,mt.ALL^mt.NUM);var ft,gi,qs,no,Vh,bu,qh,Fh,zh,wu,$h,GE;class La extends Ab{constructor(e){super(),ft.add(this),gi.set(this,void 0),qs.set(this,void 0),no.set(this,void 0),ge(this,gi,e),ge(this,qs,[])}get currentChatCompletionSnapshot(){return L(this,no,"f")}static fromReadableStream(e){const n=new La(null);return n._run(()=>n._fromReadableStream(e)),n}static createChatCompletion(e,n,i){const r=new La(n);return r._run(()=>r._runChatCompletion(e,{...n,stream:!0},{...i,headers:{...i?.headers,"X-Stainless-Helper-Method":"stream"}})),r}async _createChatCompletion(e,n,i){super._createChatCompletion;const r=i?.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",()=>this.controller.abort())),L(this,ft,"m",Vh).call(this);const l=await e.chat.completions.create({...n,stream:!0},{...i,signal:this.controller.signal});this._connected();for await(const c of l)L(this,ft,"m",qh).call(this,c);if(l.controller.signal?.aborted)throw new En;return this._addChatCompletion(L(this,ft,"m",wu).call(this))}async _fromReadableStream(e,n){const i=n?.signal;i&&(i.aborted&&this.controller.abort(),i.addEventListener("abort",()=>this.controller.abort())),L(this,ft,"m",Vh).call(this),this._connected();const r=Yn.fromReadableStream(e,this.controller);let l;for await(const c of r)l&&l!==c.id&&this._addChatCompletion(L(this,ft,"m",wu).call(this)),L(this,ft,"m",qh).call(this,c),l=c.id;if(r.controller.signal?.aborted)throw new En;return this._addChatCompletion(L(this,ft,"m",wu).call(this))}[(gi=new WeakMap,qs=new WeakMap,no=new WeakMap,ft=new WeakSet,Vh=function(){this.ended||ge(this,no,void 0)},bu=function(n){let i=L(this,qs,"f")[n.index];return i||(i={content_done:!1,refusal_done:!1,logprobs_content_done:!1,logprobs_refusal_done:!1,done_tool_calls:new Set,current_tool_call_index:null},L(this,qs,"f")[n.index]=i,i)},qh=function(n){if(this.ended)return;const i=L(this,ft,"m",GE).call(this,n);this._emit("chunk",n,i);for(const r of n.choices){const l=i.choices[r.index];r.delta.content!=null&&l.message?.role==="assistant"&&l.message?.content&&(this._emit("content",r.delta.content,l.message.content),this._emit("content.delta",{delta:r.delta.content,snapshot:l.message.content,parsed:l.message.parsed})),r.delta.refusal!=null&&l.message?.role==="assistant"&&l.message?.refusal&&this._emit("refusal.delta",{delta:r.delta.refusal,snapshot:l.message.refusal}),r.logprobs?.content!=null&&l.message?.role==="assistant"&&this._emit("logprobs.content.delta",{content:r.logprobs?.content,snapshot:l.logprobs?.content??[]}),r.logprobs?.refusal!=null&&l.message?.role==="assistant"&&this._emit("logprobs.refusal.delta",{refusal:r.logprobs?.refusal,snapshot:l.logprobs?.refusal??[]});const c=L(this,ft,"m",bu).call(this,l);l.finish_reason&&(L(this,ft,"m",zh).call(this,l),c.current_tool_call_index!=null&&L(this,ft,"m",Fh).call(this,l,c.current_tool_call_index));for(const d of r.delta.tool_calls??[])c.current_tool_call_index!==d.index&&(L(this,ft,"m",zh).call(this,l),c.current_tool_call_index!=null&&L(this,ft,"m",Fh).call(this,l,c.current_tool_call_index)),c.current_tool_call_index=d.index;for(const d of r.delta.tool_calls??[]){const m=l.message.tool_calls?.[d.index];m?.type&&(m?.type==="function"?this._emit("tool_calls.function.arguments.delta",{name:m.function?.name,index:d.index,arguments:m.function.arguments,parsed_arguments:m.function.parsed_arguments,arguments_delta:d.function?.arguments??""}):(m?.type,void 0))}}},Fh=function(n,i){if(L(this,ft,"m",bu).call(this,n).done_tool_calls.has(i))return;const l=n.message.tool_calls?.[i];if(!l)throw new Error("no tool call snapshot");if(!l.type)throw new Error("tool call snapshot missing `type`");if(l.type==="function"){const c=L(this,gi,"f")?.tools?.find(d=>cc(d)&&d.function.name===l.function.name);this._emit("tool_calls.function.arguments.done",{name:l.function.name,index:i,arguments:l.function.arguments,parsed_arguments:Ya(c)?c.$parseRaw(l.function.arguments):c?.function.strict?JSON.parse(l.function.arguments):null})}else l.type},zh=function(n){const i=L(this,ft,"m",bu).call(this,n);if(n.message.content&&!i.content_done){i.content_done=!0;const r=L(this,ft,"m",$h).call(this);this._emit("content.done",{content:n.message.content,parsed:r?r.$parseRaw(n.message.content):null})}n.message.refusal&&!i.refusal_done&&(i.refusal_done=!0,this._emit("refusal.done",{refusal:n.message.refusal})),n.logprobs?.content&&!i.logprobs_content_done&&(i.logprobs_content_done=!0,this._emit("logprobs.content.done",{content:n.logprobs.content})),n.logprobs?.refusal&&!i.logprobs_refusal_done&&(i.logprobs_refusal_done=!0,this._emit("logprobs.refusal.done",{refusal:n.logprobs.refusal}))},wu=function(){if(this.ended)throw new fe("stream has ended, this shouldn't happen");const n=L(this,no,"f");if(!n)throw new fe("request ended without sending any chunks");return ge(this,no,void 0),ge(this,qs,[]),sH(n,L(this,gi,"f"))},$h=function(){const n=L(this,gi,"f")?.response_format;return Mm(n)?n:null},GE=function(n){var i,r,l,c;let d=L(this,no,"f");const{choices:m,...p}=n;d?Object.assign(d,p):d=ge(this,no,{...p,choices:[]});for(const{delta:y,finish_reason:_,index:S,logprobs:T=null,...b}of n.choices){let R=d.choices[S];if(R||(R=d.choices[S]={finish_reason:_,index:S,message:{},logprobs:T,...b}),T)if(!R.logprobs)R.logprobs=Object.assign({},T);else{const{content:K,refusal:$,...oe}=T;Object.assign(R.logprobs,oe),K&&((i=R.logprobs).content??(i.content=[]),R.logprobs.content.push(...K)),$&&((r=R.logprobs).refusal??(r.refusal=[]),R.logprobs.refusal.push(...$))}if(_&&(R.finish_reason=_,L(this,gi,"f")&&vb(L(this,gi,"f")))){if(_==="length")throw new ZC;if(_==="content_filter")throw new jC}if(Object.assign(R,b),!y)continue;const{content:x,refusal:P,function_call:H,role:B,tool_calls:q,...Q}=y;if(Object.assign(R.message,Q),P&&(R.message.refusal=(R.message.refusal||"")+P),B&&(R.message.role=B),H&&(R.message.function_call?(H.name&&(R.message.function_call.name=H.name),H.arguments&&((l=R.message.function_call).arguments??(l.arguments=""),R.message.function_call.arguments+=H.arguments)):R.message.function_call=H),x&&(R.message.content=(R.message.content||"")+x,!R.message.refusal&&L(this,ft,"m",$h).call(this)&&(R.message.parsed=HE(R.message.content))),q){R.message.tool_calls||(R.message.tool_calls=[]);for(const{index:K,id:$,type:oe,function:Z,...ae}of q){const de=(c=R.message.tool_calls)[K]??(c[K]={});Object.assign(de,ae),$&&(de.id=$),oe&&(de.type=oe),Z&&(de.function??(de.function={name:Z.name??"",arguments:""})),Z?.name&&(de.function.name=Z.name),Z?.arguments&&(de.function.arguments+=Z.arguments,Q2(L(this,gi,"f"),de)&&(de.function.parsed_arguments=HE(de.function.arguments)))}}}return d},Symbol.asyncIterator)](){const e=[],n=[];let i=!1;return this.on("chunk",r=>{const l=n.shift();l?l.resolve(r):e.push(r)}),this.on("end",()=>{i=!0;for(const r of n)r.resolve(void 0);n.length=0}),this.on("abort",r=>{i=!0;for(const l of n)l.reject(r);n.length=0}),this.on("error",r=>{i=!0;for(const l of n)l.reject(r);n.length=0}),{next:async()=>e.length?{value:e.shift(),done:!1}:i?{value:void 0,done:!0}:new Promise((l,c)=>n.push({resolve:l,reject:c})).then(l=>l?{value:l,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}toReadableStream(){return new Yn(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}}function sH(t,e){const{id:n,choices:i,created:r,model:l,system_fingerprint:c,...d}=t,m={...d,id:n,choices:i.map(({message:p,finish_reason:y,index:_,logprobs:S,...T})=>{if(!y)throw new fe(`missing finish_reason for choice ${_}`);const{content:b=null,function_call:R,tool_calls:x,...P}=p,H=p.role;if(!H)throw new fe(`missing role for choice ${_}`);if(R){const{arguments:B,name:q}=R;if(B==null)throw new fe(`missing function_call.arguments for choice ${_}`);if(!q)throw new fe(`missing function_call.name for choice ${_}`);return{...T,message:{content:b,function_call:{arguments:B,name:q},role:H,refusal:p.refusal??null},finish_reason:y,index:_,logprobs:S}}return x?{...T,index:_,finish_reason:y,logprobs:S,message:{...P,role:H,content:b,refusal:p.refusal??null,tool_calls:x.map((B,q)=>{const{function:Q,type:K,id:$,...oe}=B,{arguments:Z,name:ae,...de}=Q||{};if($==null)throw new fe(`missing choices[${_}].tool_calls[${q}].id
${Ru(t)}`);if(K==null)throw new fe(`missing choices[${_}].tool_calls[${q}].type
${Ru(t)}`);if(ae==null)throw new fe(`missing choices[${_}].tool_calls[${q}].function.name
${Ru(t)}`);if(Z==null)throw new fe(`missing choices[${_}].tool_calls[${q}].function.arguments
${Ru(t)}`);return{...oe,id:$,type:K,function:{...de,name:ae,arguments:Z}}})}}:{...T,message:{...P,content:b,role:H,refusal:p.refusal??null},finish_reason:y,index:_,logprobs:S}}),created:r,model:l,object:"chat.completion",...c?{system_fingerprint:c}:{}};return Y2(m,e)}function Ru(t){return JSON.stringify(t)}class mc extends La{static fromReadableStream(e){const n=new mc(null);return n._run(()=>n._fromReadableStream(e)),n}static runTools(e,n,i){const r=new mc(n),l={...i,headers:{...i?.headers,"X-Stainless-Helper-Method":"runTools"}};return r._run(()=>r._runTools(e,n,l)),r}}let Om=class extends ue{constructor(){super(...arguments),this.messages=new gb(this._client)}create(e,n){return this._client.post("/chat/completions",{body:e,...n,stream:e.stream??!1})}retrieve(e,n){return this._client.get(X`/chat/completions/${e}`,n)}update(e,n,i){return this._client.post(X`/chat/completions/${e}`,{body:n,...i})}list(e={},n){return this._client.getAPIList("/chat/completions",ut,{query:e,...n})}delete(e,n){return this._client.delete(X`/chat/completions/${e}`,n)}parse(e,n){return W2(e.tools),this._client.chat.completions.create(e,{...n,headers:{...n?.headers,"X-Stainless-Helper-Method":"chat.completions.parse"}})._thenUnwrap(i=>Nm(i,e))}runTools(e,n){return e.stream?mc.runTools(this._client,e,n):Dm.runTools(this._client,e,n)}stream(e,n){return La.createChatCompletion(this._client,e,n)}};Om.Messages=gb;class Um extends ue{constructor(){super(...arguments),this.completions=new Om(this._client)}}Um.Completions=Om;const kb=Symbol("brand.privateNullableHeaders");function*rH(t){if(!t)return;if(kb in t){const{values:i,nulls:r}=t;yield*i.entries();for(const l of r)yield[l,null];return}let e=!1,n;t instanceof Headers?n=t.entries():CE(t)?n=t:(e=!0,n=Object.entries(t??{}));for(let i of n){const r=i[0];if(typeof r!="string")throw new TypeError("expected header name to be a string");const l=CE(i[1])?i[1]:[i[1]];let c=!1;for(const d of l)d!==void 0&&(e&&!c&&(c=!0,yield[r,null]),yield[r,d])}}const re=t=>{const e=new Headers,n=new Set;for(const i of t){const r=new Set;for(const[l,c]of rH(i)){const d=l.toLowerCase();r.has(d)||(e.delete(l),r.add(d)),c===null?(e.delete(l),n.add(d)):(e.append(l,c),n.delete(d))}}return{[kb]:!0,values:e,nulls:n}};class Bb extends ue{create(e,n){return this._client.post("/audio/speech",{body:e,...n,headers:re([{Accept:"application/octet-stream"},n?.headers]),__binaryResponse:!0})}}class Hb extends ue{create(e,n){return this._client.post("/audio/transcriptions",Jo({body:e,...n,stream:e.stream??!1,__metadata:{model:e.model}},this._client))}}class Gb extends ue{create(e,n){return this._client.post("/audio/translations",Jo({body:e,...n,__metadata:{model:e.model}},this._client))}}class Ka extends ue{constructor(){super(...arguments),this.transcriptions=new Hb(this._client),this.translations=new Gb(this._client),this.speech=new Bb(this._client)}}Ka.Transcriptions=Hb;Ka.Translations=Gb;Ka.Speech=Bb;class Vb extends ue{create(e,n){return this._client.post("/batches",{body:e,...n})}retrieve(e,n){return this._client.get(X`/batches/${e}`,n)}list(e={},n){return this._client.getAPIList("/batches",ut,{query:e,...n})}cancel(e,n){return this._client.post(X`/batches/${e}/cancel`,n)}}class qb extends ue{create(e,n){return this._client.post("/assistants",{body:e,...n,headers:re([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}retrieve(e,n){return this._client.get(X`/assistants/${e}`,{...n,headers:re([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}update(e,n,i){return this._client.post(X`/assistants/${e}`,{body:n,...i,headers:re([{"OpenAI-Beta":"assistants=v2"},i?.headers])})}list(e={},n){return this._client.getAPIList("/assistants",ut,{query:e,...n,headers:re([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}delete(e,n){return this._client.delete(X`/assistants/${e}`,{...n,headers:re([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}}let Fb=class extends ue{create(e,n){return this._client.post("/realtime/sessions",{body:e,...n,headers:re([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}};class zb extends ue{create(e,n){return this._client.post("/realtime/transcription_sessions",{body:e,...n,headers:re([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}}let qc=class extends ue{constructor(){super(...arguments),this.sessions=new Fb(this._client),this.transcriptionSessions=new zb(this._client)}};qc.Sessions=Fb;qc.TranscriptionSessions=zb;class $b extends ue{create(e,n){return this._client.post("/chatkit/sessions",{body:e,...n,headers:re([{"OpenAI-Beta":"chatkit_beta=v1"},n?.headers])})}cancel(e,n){return this._client.post(X`/chatkit/sessions/${e}/cancel`,{...n,headers:re([{"OpenAI-Beta":"chatkit_beta=v1"},n?.headers])})}}let Jb=class extends ue{retrieve(e,n){return this._client.get(X`/chatkit/threads/${e}`,{...n,headers:re([{"OpenAI-Beta":"chatkit_beta=v1"},n?.headers])})}list(e={},n){return this._client.getAPIList("/chatkit/threads",uc,{query:e,...n,headers:re([{"OpenAI-Beta":"chatkit_beta=v1"},n?.headers])})}delete(e,n){return this._client.delete(X`/chatkit/threads/${e}`,{...n,headers:re([{"OpenAI-Beta":"chatkit_beta=v1"},n?.headers])})}listItems(e,n={},i){return this._client.getAPIList(X`/chatkit/threads/${e}/items`,uc,{query:n,...i,headers:re([{"OpenAI-Beta":"chatkit_beta=v1"},i?.headers])})}};class Fc extends ue{constructor(){super(...arguments),this.sessions=new $b(this._client),this.threads=new Jb(this._client)}}Fc.Sessions=$b;Fc.Threads=Jb;class Yb extends ue{create(e,n,i){return this._client.post(X`/threads/${e}/messages`,{body:n,...i,headers:re([{"OpenAI-Beta":"assistants=v2"},i?.headers])})}retrieve(e,n,i){const{thread_id:r}=n;return this._client.get(X`/threads/${r}/messages/${e}`,{...i,headers:re([{"OpenAI-Beta":"assistants=v2"},i?.headers])})}update(e,n,i){const{thread_id:r,...l}=n;return this._client.post(X`/threads/${r}/messages/${e}`,{body:l,...i,headers:re([{"OpenAI-Beta":"assistants=v2"},i?.headers])})}list(e,n={},i){return this._client.getAPIList(X`/threads/${e}/messages`,ut,{query:n,...i,headers:re([{"OpenAI-Beta":"assistants=v2"},i?.headers])})}delete(e,n,i){const{thread_id:r}=n;return this._client.delete(X`/threads/${r}/messages/${e}`,{...i,headers:re([{"OpenAI-Beta":"assistants=v2"},i?.headers])})}}class Kb extends ue{retrieve(e,n,i){const{thread_id:r,run_id:l,...c}=n;return this._client.get(X`/threads/${r}/runs/${l}/steps/${e}`,{query:c,...i,headers:re([{"OpenAI-Beta":"assistants=v2"},i?.headers])})}list(e,n,i){const{thread_id:r,...l}=n;return this._client.getAPIList(X`/threads/${r}/runs/${e}/steps`,ut,{query:l,...i,headers:re([{"OpenAI-Beta":"assistants=v2"},i?.headers])})}}const aH=t=>{if(typeof Buffer<"u"){const e=Buffer.from(t,"base64");return Array.from(new Float32Array(e.buffer,e.byteOffset,e.length/Float32Array.BYTES_PER_ELEMENT))}else{const e=atob(t),n=e.length,i=new Uint8Array(n);for(let r=0;r<n;r++)i[r]=e.charCodeAt(r);return Array.from(new Float32Array(i.buffer))}};var lH={};const Fs=t=>{if(typeof globalThis.process<"u")return lH?.[t]?.trim()??void 0;if(typeof globalThis.Deno<"u")return globalThis.Deno.env?.get?.(t)?.trim()};var wt,ko,Gp,$n,Gu,xn,Bo,tr,Po,gc,tn,Vu,qu,Na,ba,wa,VE,qE,FE,zE,$E,JE,YE;class Ia extends Im{constructor(){super(...arguments),wt.add(this),Gp.set(this,[]),$n.set(this,{}),Gu.set(this,{}),xn.set(this,void 0),Bo.set(this,void 0),tr.set(this,void 0),Po.set(this,void 0),gc.set(this,void 0),tn.set(this,void 0),Vu.set(this,void 0),qu.set(this,void 0),Na.set(this,void 0)}[(Gp=new WeakMap,$n=new WeakMap,Gu=new WeakMap,xn=new WeakMap,Bo=new WeakMap,tr=new WeakMap,Po=new WeakMap,gc=new WeakMap,tn=new WeakMap,Vu=new WeakMap,qu=new WeakMap,Na=new WeakMap,wt=new WeakSet,Symbol.asyncIterator)](){const e=[],n=[];let i=!1;return this.on("event",r=>{const l=n.shift();l?l.resolve(r):e.push(r)}),this.on("end",()=>{i=!0;for(const r of n)r.resolve(void 0);n.length=0}),this.on("abort",r=>{i=!0;for(const l of n)l.reject(r);n.length=0}),this.on("error",r=>{i=!0;for(const l of n)l.reject(r);n.length=0}),{next:async()=>e.length?{value:e.shift(),done:!1}:i?{value:void 0,done:!0}:new Promise((l,c)=>n.push({resolve:l,reject:c})).then(l=>l?{value:l,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}static fromReadableStream(e){const n=new ko;return n._run(()=>n._fromReadableStream(e)),n}async _fromReadableStream(e,n){const i=n?.signal;i&&(i.aborted&&this.controller.abort(),i.addEventListener("abort",()=>this.controller.abort())),this._connected();const r=Yn.fromReadableStream(e,this.controller);for await(const l of r)L(this,wt,"m",ba).call(this,l);if(r.controller.signal?.aborted)throw new En;return this._addRun(L(this,wt,"m",wa).call(this))}toReadableStream(){return new Yn(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}static createToolAssistantStream(e,n,i,r){const l=new ko;return l._run(()=>l._runToolAssistantStream(e,n,i,{...r,headers:{...r?.headers,"X-Stainless-Helper-Method":"stream"}})),l}async _createToolAssistantStream(e,n,i,r){const l=r?.signal;l&&(l.aborted&&this.controller.abort(),l.addEventListener("abort",()=>this.controller.abort()));const c={...i,stream:!0},d=await e.submitToolOutputs(n,c,{...r,signal:this.controller.signal});this._connected();for await(const m of d)L(this,wt,"m",ba).call(this,m);if(d.controller.signal?.aborted)throw new En;return this._addRun(L(this,wt,"m",wa).call(this))}static createThreadAssistantStream(e,n,i){const r=new ko;return r._run(()=>r._threadAssistantStream(e,n,{...i,headers:{...i?.headers,"X-Stainless-Helper-Method":"stream"}})),r}static createAssistantStream(e,n,i,r){const l=new ko;return l._run(()=>l._runAssistantStream(e,n,i,{...r,headers:{...r?.headers,"X-Stainless-Helper-Method":"stream"}})),l}currentEvent(){return L(this,Vu,"f")}currentRun(){return L(this,qu,"f")}currentMessageSnapshot(){return L(this,xn,"f")}currentRunStepSnapshot(){return L(this,Na,"f")}async finalRunSteps(){return await this.done(),Object.values(L(this,$n,"f"))}async finalMessages(){return await this.done(),Object.values(L(this,Gu,"f"))}async finalRun(){if(await this.done(),!L(this,Bo,"f"))throw Error("Final run was not received.");return L(this,Bo,"f")}async _createThreadAssistantStream(e,n,i){const r=i?.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",()=>this.controller.abort()));const l={...n,stream:!0},c=await e.createAndRun(l,{...i,signal:this.controller.signal});this._connected();for await(const d of c)L(this,wt,"m",ba).call(this,d);if(c.controller.signal?.aborted)throw new En;return this._addRun(L(this,wt,"m",wa).call(this))}async _createAssistantStream(e,n,i,r){const l=r?.signal;l&&(l.aborted&&this.controller.abort(),l.addEventListener("abort",()=>this.controller.abort()));const c={...i,stream:!0},d=await e.create(n,c,{...r,signal:this.controller.signal});this._connected();for await(const m of d)L(this,wt,"m",ba).call(this,m);if(d.controller.signal?.aborted)throw new En;return this._addRun(L(this,wt,"m",wa).call(this))}static accumulateDelta(e,n){for(const[i,r]of Object.entries(n)){if(!e.hasOwnProperty(i)){e[i]=r;continue}let l=e[i];if(l==null){e[i]=r;continue}if(i==="index"||i==="type"){e[i]=r;continue}if(typeof l=="string"&&typeof r=="string")l+=r;else if(typeof l=="number"&&typeof r=="number")l+=r;else if(Bh(l)&&Bh(r))l=this.accumulateDelta(l,r);else if(Array.isArray(l)&&Array.isArray(r)){if(l.every(c=>typeof c=="string"||typeof c=="number")){l.push(...r);continue}for(const c of r){if(!Bh(c))throw new Error(`Expected array delta entry to be an object but got: ${c}`);const d=c.index;if(d==null)throw console.error(c),new Error("Expected array delta entry to have an `index` property");if(typeof d!="number")throw new Error(`Expected array delta entry \`index\` property to be a number but got ${d}`);const m=l[d];m==null?l.push(c):l[d]=this.accumulateDelta(m,c)}continue}else throw Error(`Unhandled record type: ${i}, deltaValue: ${r}, accValue: ${l}`);e[i]=l}return e}_addRun(e){return e}async _threadAssistantStream(e,n,i){return await this._createThreadAssistantStream(n,e,i)}async _runAssistantStream(e,n,i,r){return await this._createAssistantStream(n,e,i,r)}async _runToolAssistantStream(e,n,i,r){return await this._createToolAssistantStream(n,e,i,r)}}ko=Ia,ba=function(e){if(!this.ended)switch(ge(this,Vu,e),L(this,wt,"m",FE).call(this,e),e.event){case"thread.created":break;case"thread.run.created":case"thread.run.queued":case"thread.run.in_progress":case"thread.run.requires_action":case"thread.run.completed":case"thread.run.incomplete":case"thread.run.failed":case"thread.run.cancelling":case"thread.run.cancelled":case"thread.run.expired":L(this,wt,"m",YE).call(this,e);break;case"thread.run.step.created":case"thread.run.step.in_progress":case"thread.run.step.delta":case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":L(this,wt,"m",qE).call(this,e);break;case"thread.message.created":case"thread.message.in_progress":case"thread.message.delta":case"thread.message.completed":case"thread.message.incomplete":L(this,wt,"m",VE).call(this,e);break;case"error":throw new Error("Encountered an error event in event processing - errors should be processed earlier")}},wa=function(){if(this.ended)throw new fe("stream has ended, this shouldn't happen");if(!L(this,Bo,"f"))throw Error("Final run has not been received");return L(this,Bo,"f")},VE=function(e){const[n,i]=L(this,wt,"m",$E).call(this,e,L(this,xn,"f"));ge(this,xn,n),L(this,Gu,"f")[n.id]=n;for(const r of i){const l=n.content[r.index];l?.type=="text"&&this._emit("textCreated",l.text)}switch(e.event){case"thread.message.created":this._emit("messageCreated",e.data);break;case"thread.message.in_progress":break;case"thread.message.delta":if(this._emit("messageDelta",e.data.delta,n),e.data.delta.content)for(const r of e.data.delta.content){if(r.type=="text"&&r.text){let l=r.text,c=n.content[r.index];if(c&&c.type=="text")this._emit("textDelta",l,c.text);else throw Error("The snapshot associated with this text delta is not text or missing")}if(r.index!=L(this,tr,"f")){if(L(this,Po,"f"))switch(L(this,Po,"f").type){case"text":this._emit("textDone",L(this,Po,"f").text,L(this,xn,"f"));break;case"image_file":this._emit("imageFileDone",L(this,Po,"f").image_file,L(this,xn,"f"));break}ge(this,tr,r.index)}ge(this,Po,n.content[r.index])}break;case"thread.message.completed":case"thread.message.incomplete":if(L(this,tr,"f")!==void 0){const r=e.data.content[L(this,tr,"f")];if(r)switch(r.type){case"image_file":this._emit("imageFileDone",r.image_file,L(this,xn,"f"));break;case"text":this._emit("textDone",r.text,L(this,xn,"f"));break}}L(this,xn,"f")&&this._emit("messageDone",e.data),ge(this,xn,void 0)}},qE=function(e){const n=L(this,wt,"m",zE).call(this,e);switch(ge(this,Na,n),e.event){case"thread.run.step.created":this._emit("runStepCreated",e.data);break;case"thread.run.step.delta":const i=e.data.delta;if(i.step_details&&i.step_details.type=="tool_calls"&&i.step_details.tool_calls&&n.step_details.type=="tool_calls")for(const l of i.step_details.tool_calls)l.index==L(this,gc,"f")?this._emit("toolCallDelta",l,n.step_details.tool_calls[l.index]):(L(this,tn,"f")&&this._emit("toolCallDone",L(this,tn,"f")),ge(this,gc,l.index),ge(this,tn,n.step_details.tool_calls[l.index]),L(this,tn,"f")&&this._emit("toolCallCreated",L(this,tn,"f")));this._emit("runStepDelta",e.data.delta,n);break;case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":ge(this,Na,void 0),e.data.step_details.type=="tool_calls"&&L(this,tn,"f")&&(this._emit("toolCallDone",L(this,tn,"f")),ge(this,tn,void 0)),this._emit("runStepDone",e.data,n);break}},FE=function(e){L(this,Gp,"f").push(e),this._emit("event",e)},zE=function(e){switch(e.event){case"thread.run.step.created":return L(this,$n,"f")[e.data.id]=e.data,e.data;case"thread.run.step.delta":let n=L(this,$n,"f")[e.data.id];if(!n)throw Error("Received a RunStepDelta before creation of a snapshot");let i=e.data;if(i.delta){const r=ko.accumulateDelta(n,i.delta);L(this,$n,"f")[e.data.id]=r}return L(this,$n,"f")[e.data.id];case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":case"thread.run.step.in_progress":L(this,$n,"f")[e.data.id]=e.data;break}if(L(this,$n,"f")[e.data.id])return L(this,$n,"f")[e.data.id];throw new Error("No snapshot available")},$E=function(e,n){let i=[];switch(e.event){case"thread.message.created":return[e.data,i];case"thread.message.delta":if(!n)throw Error("Received a delta with no existing snapshot (there should be one from message creation)");let r=e.data;if(r.delta.content)for(const l of r.delta.content)if(l.index in n.content){let c=n.content[l.index];n.content[l.index]=L(this,wt,"m",JE).call(this,l,c)}else n.content[l.index]=l,i.push(l);return[n,i];case"thread.message.in_progress":case"thread.message.completed":case"thread.message.incomplete":if(n)return[n,i];throw Error("Received thread message event with no existing snapshot")}throw Error("Tried to accumulate a non-message event")},JE=function(e,n){return ko.accumulateDelta(n,e)},YE=function(e){switch(ge(this,qu,e.data),e.event){case"thread.run.created":break;case"thread.run.queued":break;case"thread.run.in_progress":break;case"thread.run.requires_action":case"thread.run.cancelled":case"thread.run.failed":case"thread.run.completed":case"thread.run.expired":case"thread.run.incomplete":ge(this,Bo,e.data),L(this,tn,"f")&&(this._emit("toolCallDone",L(this,tn,"f")),ge(this,tn,void 0));break}};let Lm=class extends ue{constructor(){super(...arguments),this.steps=new Kb(this._client)}create(e,n,i){const{include:r,...l}=n;return this._client.post(X`/threads/${e}/runs`,{query:{include:r},body:l,...i,headers:re([{"OpenAI-Beta":"assistants=v2"},i?.headers]),stream:n.stream??!1})}retrieve(e,n,i){const{thread_id:r}=n;return this._client.get(X`/threads/${r}/runs/${e}`,{...i,headers:re([{"OpenAI-Beta":"assistants=v2"},i?.headers])})}update(e,n,i){const{thread_id:r,...l}=n;return this._client.post(X`/threads/${r}/runs/${e}`,{body:l,...i,headers:re([{"OpenAI-Beta":"assistants=v2"},i?.headers])})}list(e,n={},i){return this._client.getAPIList(X`/threads/${e}/runs`,ut,{query:n,...i,headers:re([{"OpenAI-Beta":"assistants=v2"},i?.headers])})}cancel(e,n,i){const{thread_id:r}=n;return this._client.post(X`/threads/${r}/runs/${e}/cancel`,{...i,headers:re([{"OpenAI-Beta":"assistants=v2"},i?.headers])})}async createAndPoll(e,n,i){const r=await this.create(e,n,i);return await this.poll(r.id,{thread_id:e},i)}createAndStream(e,n,i){return Ia.createAssistantStream(e,this._client.beta.threads.runs,n,i)}async poll(e,n,i){const r=re([i?.headers,{"X-Stainless-Poll-Helper":"true","X-Stainless-Custom-Poll-Interval":i?.pollIntervalMs?.toString()??void 0}]);for(;;){const{data:l,response:c}=await this.retrieve(e,n,{...i,headers:{...i?.headers,...r}}).withResponse();switch(l.status){case"queued":case"in_progress":case"cancelling":let d=5e3;if(i?.pollIntervalMs)d=i.pollIntervalMs;else{const m=c.headers.get("openai-poll-after-ms");if(m){const p=parseInt(m);isNaN(p)||(d=p)}}await Ja(d);break;case"requires_action":case"incomplete":case"cancelled":case"completed":case"failed":case"expired":return l}}}stream(e,n,i){return Ia.createAssistantStream(e,this._client.beta.threads.runs,n,i)}submitToolOutputs(e,n,i){const{thread_id:r,...l}=n;return this._client.post(X`/threads/${r}/runs/${e}/submit_tool_outputs`,{body:l,...i,headers:re([{"OpenAI-Beta":"assistants=v2"},i?.headers]),stream:n.stream??!1})}async submitToolOutputsAndPoll(e,n,i){const r=await this.submitToolOutputs(e,n,i);return await this.poll(r.id,n,i)}submitToolOutputsStream(e,n,i){return Ia.createToolAssistantStream(e,this._client.beta.threads.runs,n,i)}};Lm.Steps=Kb;class zc extends ue{constructor(){super(...arguments),this.runs=new Lm(this._client),this.messages=new Yb(this._client)}create(e={},n){return this._client.post("/threads",{body:e,...n,headers:re([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}retrieve(e,n){return this._client.get(X`/threads/${e}`,{...n,headers:re([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}update(e,n,i){return this._client.post(X`/threads/${e}`,{body:n,...i,headers:re([{"OpenAI-Beta":"assistants=v2"},i?.headers])})}delete(e,n){return this._client.delete(X`/threads/${e}`,{...n,headers:re([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}createAndRun(e,n){return this._client.post("/threads/runs",{body:e,...n,headers:re([{"OpenAI-Beta":"assistants=v2"},n?.headers]),stream:e.stream??!1})}async createAndRunPoll(e,n){const i=await this.createAndRun(e,n);return await this.runs.poll(i.id,{thread_id:i.thread_id},n)}createAndRunStream(e,n){return Ia.createThreadAssistantStream(e,this._client.beta.threads,n)}}zc.Runs=Lm;zc.Messages=Yb;class mr extends ue{constructor(){super(...arguments),this.realtime=new qc(this._client),this.chatkit=new Fc(this._client),this.assistants=new qb(this._client),this.threads=new zc(this._client)}}mr.Realtime=qc;mr.ChatKit=Fc;mr.Assistants=qb;mr.Threads=zc;class Xb extends ue{create(e,n){return this._client.post("/completions",{body:e,...n,stream:e.stream??!1})}}class Qb extends ue{retrieve(e,n,i){const{container_id:r}=n;return this._client.get(X`/containers/${r}/files/${e}/content`,{...i,headers:re([{Accept:"application/binary"},i?.headers]),__binaryResponse:!0})}}let Pm=class extends ue{constructor(){super(...arguments),this.content=new Qb(this._client)}create(e,n,i){return this._client.post(X`/containers/${e}/files`,Jo({body:n,...i},this._client))}retrieve(e,n,i){const{container_id:r}=n;return this._client.get(X`/containers/${r}/files/${e}`,i)}list(e,n={},i){return this._client.getAPIList(X`/containers/${e}/files`,ut,{query:n,...i})}delete(e,n,i){const{container_id:r}=n;return this._client.delete(X`/containers/${r}/files/${e}`,{...i,headers:re([{Accept:"*/*"},i?.headers])})}};Pm.Content=Qb;class km extends ue{constructor(){super(...arguments),this.files=new Pm(this._client)}create(e,n){return this._client.post("/containers",{body:e,...n})}retrieve(e,n){return this._client.get(X`/containers/${e}`,n)}list(e={},n){return this._client.getAPIList("/containers",ut,{query:e,...n})}delete(e,n){return this._client.delete(X`/containers/${e}`,{...n,headers:re([{Accept:"*/*"},n?.headers])})}}km.Files=Pm;class Wb extends ue{create(e,n,i){const{include:r,...l}=n;return this._client.post(X`/conversations/${e}/items`,{query:{include:r},body:l,...i})}retrieve(e,n,i){const{conversation_id:r,...l}=n;return this._client.get(X`/conversations/${r}/items/${e}`,{query:l,...i})}list(e,n={},i){return this._client.getAPIList(X`/conversations/${e}/items`,uc,{query:n,...i})}delete(e,n,i){const{conversation_id:r}=n;return this._client.delete(X`/conversations/${r}/items/${e}`,i)}}class Bm extends ue{constructor(){super(...arguments),this.items=new Wb(this._client)}create(e={},n){return this._client.post("/conversations",{body:e,...n})}retrieve(e,n){return this._client.get(X`/conversations/${e}`,n)}update(e,n,i){return this._client.post(X`/conversations/${e}`,{body:n,...i})}delete(e,n){return this._client.delete(X`/conversations/${e}`,n)}}Bm.Items=Wb;class Zb extends ue{create(e,n){const i=!!e.encoding_format;let r=i?e.encoding_format:"base64";i&&bt(this._client).debug("embeddings/user defined encoding_format:",e.encoding_format);const l=this._client.post("/embeddings",{body:{...e,encoding_format:r},...n});return i?l:(bt(this._client).debug("embeddings/decoding base64 embeddings from base64"),l._thenUnwrap(c=>(c&&c.data&&c.data.forEach(d=>{const m=d.embedding;d.embedding=aH(m)}),c)))}}class jb extends ue{retrieve(e,n,i){const{eval_id:r,run_id:l}=n;return this._client.get(X`/evals/${r}/runs/${l}/output_items/${e}`,i)}list(e,n,i){const{eval_id:r,...l}=n;return this._client.getAPIList(X`/evals/${r}/runs/${e}/output_items`,ut,{query:l,...i})}}class Hm extends ue{constructor(){super(...arguments),this.outputItems=new jb(this._client)}create(e,n,i){return this._client.post(X`/evals/${e}/runs`,{body:n,...i})}retrieve(e,n,i){const{eval_id:r}=n;return this._client.get(X`/evals/${r}/runs/${e}`,i)}list(e,n={},i){return this._client.getAPIList(X`/evals/${e}/runs`,ut,{query:n,...i})}delete(e,n,i){const{eval_id:r}=n;return this._client.delete(X`/evals/${r}/runs/${e}`,i)}cancel(e,n,i){const{eval_id:r}=n;return this._client.post(X`/evals/${r}/runs/${e}`,i)}}Hm.OutputItems=jb;class Gm extends ue{constructor(){super(...arguments),this.runs=new Hm(this._client)}create(e,n){return this._client.post("/evals",{body:e,...n})}retrieve(e,n){return this._client.get(X`/evals/${e}`,n)}update(e,n,i){return this._client.post(X`/evals/${e}`,{body:n,...i})}list(e={},n){return this._client.getAPIList("/evals",ut,{query:e,...n})}delete(e,n){return this._client.delete(X`/evals/${e}`,n)}}Gm.Runs=Hm;let ew=class extends ue{create(e,n){return this._client.post("/files",Jo({body:e,...n},this._client))}retrieve(e,n){return this._client.get(X`/files/${e}`,n)}list(e={},n){return this._client.getAPIList("/files",ut,{query:e,...n})}delete(e,n){return this._client.delete(X`/files/${e}`,n)}content(e,n){return this._client.get(X`/files/${e}/content`,{...n,headers:re([{Accept:"application/binary"},n?.headers]),__binaryResponse:!0})}async waitForProcessing(e,{pollInterval:n=5e3,maxWait:i=1800*1e3}={}){const r=new Set(["processed","error","deleted"]),l=Date.now();let c=await this.retrieve(e);for(;!c.status||!r.has(c.status);)if(await Ja(n),c=await this.retrieve(e),Date.now()-l>i)throw new bm({message:`Giving up on waiting for file ${e} to finish processing after ${i} milliseconds.`});return c}};class tw extends ue{}let nw=class extends ue{run(e,n){return this._client.post("/fine_tuning/alpha/graders/run",{body:e,...n})}validate(e,n){return this._client.post("/fine_tuning/alpha/graders/validate",{body:e,...n})}};class Vm extends ue{constructor(){super(...arguments),this.graders=new nw(this._client)}}Vm.Graders=nw;class iw extends ue{create(e,n,i){return this._client.getAPIList(X`/fine_tuning/checkpoints/${e}/permissions`,Vc,{body:n,method:"post",...i})}retrieve(e,n={},i){return this._client.get(X`/fine_tuning/checkpoints/${e}/permissions`,{query:n,...i})}delete(e,n,i){const{fine_tuned_model_checkpoint:r}=n;return this._client.delete(X`/fine_tuning/checkpoints/${r}/permissions/${e}`,i)}}let qm=class extends ue{constructor(){super(...arguments),this.permissions=new iw(this._client)}};qm.Permissions=iw;class ow extends ue{list(e,n={},i){return this._client.getAPIList(X`/fine_tuning/jobs/${e}/checkpoints`,ut,{query:n,...i})}}class Fm extends ue{constructor(){super(...arguments),this.checkpoints=new ow(this._client)}create(e,n){return this._client.post("/fine_tuning/jobs",{body:e,...n})}retrieve(e,n){return this._client.get(X`/fine_tuning/jobs/${e}`,n)}list(e={},n){return this._client.getAPIList("/fine_tuning/jobs",ut,{query:e,...n})}cancel(e,n){return this._client.post(X`/fine_tuning/jobs/${e}/cancel`,n)}listEvents(e,n={},i){return this._client.getAPIList(X`/fine_tuning/jobs/${e}/events`,ut,{query:n,...i})}pause(e,n){return this._client.post(X`/fine_tuning/jobs/${e}/pause`,n)}resume(e,n){return this._client.post(X`/fine_tuning/jobs/${e}/resume`,n)}}Fm.Checkpoints=ow;class gr extends ue{constructor(){super(...arguments),this.methods=new tw(this._client),this.jobs=new Fm(this._client),this.checkpoints=new qm(this._client),this.alpha=new Vm(this._client)}}gr.Methods=tw;gr.Jobs=Fm;gr.Checkpoints=qm;gr.Alpha=Vm;class sw extends ue{}class zm extends ue{constructor(){super(...arguments),this.graderModels=new sw(this._client)}}zm.GraderModels=sw;class rw extends ue{createVariation(e,n){return this._client.post("/images/variations",Jo({body:e,...n},this._client))}edit(e,n){return this._client.post("/images/edits",Jo({body:e,...n,stream:e.stream??!1},this._client))}generate(e,n){return this._client.post("/images/generations",{body:e,...n,stream:e.stream??!1})}}class aw extends ue{retrieve(e,n){return this._client.get(X`/models/${e}`,n)}list(e){return this._client.getAPIList("/models",Vc,e)}delete(e,n){return this._client.delete(X`/models/${e}`,n)}}class lw extends ue{create(e,n){return this._client.post("/moderations",{body:e,...n})}}class uw extends ue{accept(e,n,i){return this._client.post(X`/realtime/calls/${e}/accept`,{body:n,...i,headers:re([{Accept:"*/*"},i?.headers])})}hangup(e,n){return this._client.post(X`/realtime/calls/${e}/hangup`,{...n,headers:re([{Accept:"*/*"},n?.headers])})}refer(e,n,i){return this._client.post(X`/realtime/calls/${e}/refer`,{body:n,...i,headers:re([{Accept:"*/*"},i?.headers])})}reject(e,n={},i){return this._client.post(X`/realtime/calls/${e}/reject`,{body:n,...i,headers:re([{Accept:"*/*"},i?.headers])})}}class cw extends ue{create(e,n){return this._client.post("/realtime/client_secrets",{body:e,...n})}}class $c extends ue{constructor(){super(...arguments),this.clientSecrets=new cw(this._client),this.calls=new uw(this._client)}}$c.ClientSecrets=cw;$c.Calls=uw;function uH(t,e){return!e||!fH(e)?{...t,output_parsed:null,output:t.output.map(n=>n.type==="function_call"?{...n,parsed_arguments:null}:n.type==="message"?{...n,content:n.content.map(i=>({...i,parsed:null}))}:n)}:fw(t,e)}function fw(t,e){const n=t.output.map(r=>{if(r.type==="function_call")return{...r,parsed_arguments:pH(e,r)};if(r.type==="message"){const l=r.content.map(c=>c.type==="output_text"?{...c,parsed:cH(e,c.text)}:c);return{...r,content:l}}return r}),i=Object.assign({},t,{output:n});return Object.getOwnPropertyDescriptor(t,"output_text")||Vp(i),Object.defineProperty(i,"output_parsed",{enumerable:!0,get(){for(const r of i.output)if(r.type==="message"){for(const l of r.content)if(l.type==="output_text"&&l.parsed!==null)return l.parsed}return null}}),i}function cH(t,e){return t.text?.format?.type!=="json_schema"?null:"$parseRaw"in t.text?.format?(t.text?.format).$parseRaw(e):JSON.parse(e)}function fH(t){return!!Mm(t.text?.format)}function dH(t){return t?.$brand==="auto-parseable-tool"}function hH(t,e){return t.find(n=>n.type==="function"&&n.name===e)}function pH(t,e){const n=hH(t.tools??[],e.name);return{...e,...e,parsed_arguments:dH(n)?n.$parseRaw(e.arguments):n?.strict?JSON.parse(e.arguments):null}}function Vp(t){const e=[];for(const n of t.output)if(n.type==="message")for(const i of n.content)i.type==="output_text"&&e.push(i.text);t.output_text=e.join("")}var zs,xu,io,Mu,KE,XE,QE,WE;class $m extends Im{constructor(e){super(),zs.add(this),xu.set(this,void 0),io.set(this,void 0),Mu.set(this,void 0),ge(this,xu,e)}static createResponse(e,n,i){const r=new $m(n);return r._run(()=>r._createOrRetrieveResponse(e,n,{...i,headers:{...i?.headers,"X-Stainless-Helper-Method":"stream"}})),r}async _createOrRetrieveResponse(e,n,i){const r=i?.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",()=>this.controller.abort())),L(this,zs,"m",KE).call(this);let l,c=null;"response_id"in n?(l=await e.responses.retrieve(n.response_id,{stream:!0},{...i,signal:this.controller.signal,stream:!0}),c=n.starting_after??null):l=await e.responses.create({...n,stream:!0},{...i,signal:this.controller.signal}),this._connected();for await(const d of l)L(this,zs,"m",XE).call(this,d,c);if(l.controller.signal?.aborted)throw new En;return L(this,zs,"m",QE).call(this)}[(xu=new WeakMap,io=new WeakMap,Mu=new WeakMap,zs=new WeakSet,KE=function(){this.ended||ge(this,io,void 0)},XE=function(n,i){if(this.ended)return;const r=(c,d)=>{(i==null||d.sequence_number>i)&&this._emit(c,d)},l=L(this,zs,"m",WE).call(this,n);switch(r("event",n),n.type){case"response.output_text.delta":{const c=l.output[n.output_index];if(!c)throw new fe(`missing output at index ${n.output_index}`);if(c.type==="message"){const d=c.content[n.content_index];if(!d)throw new fe(`missing content at index ${n.content_index}`);if(d.type!=="output_text")throw new fe(`expected content to be 'output_text', got ${d.type}`);r("response.output_text.delta",{...n,snapshot:d.text})}break}case"response.function_call_arguments.delta":{const c=l.output[n.output_index];if(!c)throw new fe(`missing output at index ${n.output_index}`);c.type==="function_call"&&r("response.function_call_arguments.delta",{...n,snapshot:c.arguments});break}default:r(n.type,n);break}},QE=function(){if(this.ended)throw new fe("stream has ended, this shouldn't happen");const n=L(this,io,"f");if(!n)throw new fe("request ended without sending any events");ge(this,io,void 0);const i=mH(n,L(this,xu,"f"));return ge(this,Mu,i),i},WE=function(n){let i=L(this,io,"f");if(!i){if(n.type!=="response.created")throw new fe(`When snapshot hasn't been set yet, expected 'response.created' event, got ${n.type}`);return i=ge(this,io,n.response),i}switch(n.type){case"response.output_item.added":{i.output.push(n.item);break}case"response.content_part.added":{const r=i.output[n.output_index];if(!r)throw new fe(`missing output at index ${n.output_index}`);const l=r.type,c=n.part;l==="message"&&c.type!=="reasoning_text"?r.content.push(c):l==="reasoning"&&c.type==="reasoning_text"&&(r.content||(r.content=[]),r.content.push(c));break}case"response.output_text.delta":{const r=i.output[n.output_index];if(!r)throw new fe(`missing output at index ${n.output_index}`);if(r.type==="message"){const l=r.content[n.content_index];if(!l)throw new fe(`missing content at index ${n.content_index}`);if(l.type!=="output_text")throw new fe(`expected content to be 'output_text', got ${l.type}`);l.text+=n.delta}break}case"response.function_call_arguments.delta":{const r=i.output[n.output_index];if(!r)throw new fe(`missing output at index ${n.output_index}`);r.type==="function_call"&&(r.arguments+=n.delta);break}case"response.reasoning_text.delta":{const r=i.output[n.output_index];if(!r)throw new fe(`missing output at index ${n.output_index}`);if(r.type==="reasoning"){const l=r.content?.[n.content_index];if(!l)throw new fe(`missing content at index ${n.content_index}`);if(l.type!=="reasoning_text")throw new fe(`expected content to be 'reasoning_text', got ${l.type}`);l.text+=n.delta}break}case"response.completed":{ge(this,io,n.response);break}}return i},Symbol.asyncIterator)](){const e=[],n=[];let i=!1;return this.on("event",r=>{const l=n.shift();l?l.resolve(r):e.push(r)}),this.on("end",()=>{i=!0;for(const r of n)r.resolve(void 0);n.length=0}),this.on("abort",r=>{i=!0;for(const l of n)l.reject(r);n.length=0}),this.on("error",r=>{i=!0;for(const l of n)l.reject(r);n.length=0}),{next:async()=>e.length?{value:e.shift(),done:!1}:i?{value:void 0,done:!0}:new Promise((l,c)=>n.push({resolve:l,reject:c})).then(l=>l?{value:l,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}async finalResponse(){await this.done();const e=L(this,Mu,"f");if(!e)throw new fe("stream ended without producing a ChatCompletion");return e}}function mH(t,e){return uH(t,e)}class dw extends ue{list(e,n={},i){return this._client.getAPIList(X`/responses/${e}/input_items`,ut,{query:n,...i})}}class hw extends ue{count(e={},n){return this._client.post("/responses/input_tokens",{body:e,...n})}}class Jc extends ue{constructor(){super(...arguments),this.inputItems=new dw(this._client),this.inputTokens=new hw(this._client)}create(e,n){return this._client.post("/responses",{body:e,...n,stream:e.stream??!1})._thenUnwrap(i=>("object"in i&&i.object==="response"&&Vp(i),i))}retrieve(e,n={},i){return this._client.get(X`/responses/${e}`,{query:n,...i,stream:n?.stream??!1})._thenUnwrap(r=>("object"in r&&r.object==="response"&&Vp(r),r))}delete(e,n){return this._client.delete(X`/responses/${e}`,{...n,headers:re([{Accept:"*/*"},n?.headers])})}parse(e,n){return this._client.responses.create(e,n)._thenUnwrap(i=>fw(i,e))}stream(e,n){return $m.createResponse(this._client,e,n)}cancel(e,n){return this._client.post(X`/responses/${e}/cancel`,n)}compact(e={},n){return this._client.post("/responses/compact",{body:e,...n})}}Jc.InputItems=dw;Jc.InputTokens=hw;class pw extends ue{create(e,n,i){return this._client.post(X`/uploads/${e}/parts`,Jo({body:n,...i},this._client))}}class Jm extends ue{constructor(){super(...arguments),this.parts=new pw(this._client)}create(e,n){return this._client.post("/uploads",{body:e,...n})}cancel(e,n){return this._client.post(X`/uploads/${e}/cancel`,n)}complete(e,n,i){return this._client.post(X`/uploads/${e}/complete`,{body:n,...i})}}Jm.Parts=pw;const gH=async t=>{const e=await Promise.allSettled(t),n=e.filter(r=>r.status==="rejected");if(n.length){for(const r of n)console.error(r.reason);throw new Error(`${n.length} promise(s) failed - see the above errors`)}const i=[];for(const r of e)r.status==="fulfilled"&&i.push(r.value);return i};class mw extends ue{create(e,n,i){return this._client.post(X`/vector_stores/${e}/file_batches`,{body:n,...i,headers:re([{"OpenAI-Beta":"assistants=v2"},i?.headers])})}retrieve(e,n,i){const{vector_store_id:r}=n;return this._client.get(X`/vector_stores/${r}/file_batches/${e}`,{...i,headers:re([{"OpenAI-Beta":"assistants=v2"},i?.headers])})}cancel(e,n,i){const{vector_store_id:r}=n;return this._client.post(X`/vector_stores/${r}/file_batches/${e}/cancel`,{...i,headers:re([{"OpenAI-Beta":"assistants=v2"},i?.headers])})}async createAndPoll(e,n,i){const r=await this.create(e,n);return await this.poll(e,r.id,i)}listFiles(e,n,i){const{vector_store_id:r,...l}=n;return this._client.getAPIList(X`/vector_stores/${r}/file_batches/${e}/files`,ut,{query:l,...i,headers:re([{"OpenAI-Beta":"assistants=v2"},i?.headers])})}async poll(e,n,i){const r=re([i?.headers,{"X-Stainless-Poll-Helper":"true","X-Stainless-Custom-Poll-Interval":i?.pollIntervalMs?.toString()??void 0}]);for(;;){const{data:l,response:c}=await this.retrieve(n,{vector_store_id:e},{...i,headers:r}).withResponse();switch(l.status){case"in_progress":let d=5e3;if(i?.pollIntervalMs)d=i.pollIntervalMs;else{const m=c.headers.get("openai-poll-after-ms");if(m){const p=parseInt(m);isNaN(p)||(d=p)}}await Ja(d);break;case"failed":case"cancelled":case"completed":return l}}}async uploadAndPoll(e,{files:n,fileIds:i=[]},r){if(n==null||n.length==0)throw new Error("No `files` provided to process. If you've already uploaded files you should use `.createAndPoll()` instead");const l=r?.maxConcurrency??5,c=Math.min(l,n.length),d=this._client,m=n.values(),p=[...i];async function y(S){for(let T of S){const b=await d.files.create({file:T,purpose:"assistants"},r);p.push(b.id)}}const _=Array(c).fill(m).map(y);return await gH(_),await this.createAndPoll(e,{file_ids:p})}}class gw extends ue{create(e,n,i){return this._client.post(X`/vector_stores/${e}/files`,{body:n,...i,headers:re([{"OpenAI-Beta":"assistants=v2"},i?.headers])})}retrieve(e,n,i){const{vector_store_id:r}=n;return this._client.get(X`/vector_stores/${r}/files/${e}`,{...i,headers:re([{"OpenAI-Beta":"assistants=v2"},i?.headers])})}update(e,n,i){const{vector_store_id:r,...l}=n;return this._client.post(X`/vector_stores/${r}/files/${e}`,{body:l,...i,headers:re([{"OpenAI-Beta":"assistants=v2"},i?.headers])})}list(e,n={},i){return this._client.getAPIList(X`/vector_stores/${e}/files`,ut,{query:n,...i,headers:re([{"OpenAI-Beta":"assistants=v2"},i?.headers])})}delete(e,n,i){const{vector_store_id:r}=n;return this._client.delete(X`/vector_stores/${r}/files/${e}`,{...i,headers:re([{"OpenAI-Beta":"assistants=v2"},i?.headers])})}async createAndPoll(e,n,i){const r=await this.create(e,n,i);return await this.poll(e,r.id,i)}async poll(e,n,i){const r=re([i?.headers,{"X-Stainless-Poll-Helper":"true","X-Stainless-Custom-Poll-Interval":i?.pollIntervalMs?.toString()??void 0}]);for(;;){const l=await this.retrieve(n,{vector_store_id:e},{...i,headers:r}).withResponse(),c=l.data;switch(c.status){case"in_progress":let d=5e3;if(i?.pollIntervalMs)d=i.pollIntervalMs;else{const m=l.response.headers.get("openai-poll-after-ms");if(m){const p=parseInt(m);isNaN(p)||(d=p)}}await Ja(d);break;case"failed":case"completed":return c}}}async upload(e,n,i){const r=await this._client.files.create({file:n,purpose:"assistants"},i);return this.create(e,{file_id:r.id},i)}async uploadAndPoll(e,n,i){const r=await this.upload(e,n,i);return await this.poll(e,r.id,i)}content(e,n,i){const{vector_store_id:r}=n;return this._client.getAPIList(X`/vector_stores/${r}/files/${e}/content`,Vc,{...i,headers:re([{"OpenAI-Beta":"assistants=v2"},i?.headers])})}}class Yc extends ue{constructor(){super(...arguments),this.files=new gw(this._client),this.fileBatches=new mw(this._client)}create(e,n){return this._client.post("/vector_stores",{body:e,...n,headers:re([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}retrieve(e,n){return this._client.get(X`/vector_stores/${e}`,{...n,headers:re([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}update(e,n,i){return this._client.post(X`/vector_stores/${e}`,{body:n,...i,headers:re([{"OpenAI-Beta":"assistants=v2"},i?.headers])})}list(e={},n){return this._client.getAPIList("/vector_stores",ut,{query:e,...n,headers:re([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}delete(e,n){return this._client.delete(X`/vector_stores/${e}`,{...n,headers:re([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}search(e,n,i){return this._client.getAPIList(X`/vector_stores/${e}/search`,Vc,{body:n,method:"post",...i,headers:re([{"OpenAI-Beta":"assistants=v2"},i?.headers])})}}Yc.Files=gw;Yc.FileBatches=mw;class vw extends ue{create(e,n){return this._client.post("/videos",PE({body:e,...n},this._client))}retrieve(e,n){return this._client.get(X`/videos/${e}`,n)}list(e={},n){return this._client.getAPIList("/videos",uc,{query:e,...n})}delete(e,n){return this._client.delete(X`/videos/${e}`,n)}downloadContent(e,n={},i){return this._client.get(X`/videos/${e}/content`,{query:n,...i,headers:re([{Accept:"application/binary"},i?.headers]),__binaryResponse:!0})}remix(e,n,i){return this._client.post(X`/videos/${e}/remix`,PE({body:n,...i},this._client))}}var Xs,yw,Fu;class _w extends ue{constructor(){super(...arguments),Xs.add(this)}async unwrap(e,n,i=this._client.webhookSecret,r=300){return await this.verifySignature(e,n,i,r),JSON.parse(e)}async verifySignature(e,n,i=this._client.webhookSecret,r=300){if(typeof crypto>"u"||typeof crypto.subtle.importKey!="function"||typeof crypto.subtle.verify!="function")throw new Error("Webhook signature verification is only supported when the `crypto` global is defined");L(this,Xs,"m",yw).call(this,i);const l=re([n]).values,c=L(this,Xs,"m",Fu).call(this,l,"webhook-signature"),d=L(this,Xs,"m",Fu).call(this,l,"webhook-timestamp"),m=L(this,Xs,"m",Fu).call(this,l,"webhook-id"),p=parseInt(d,10);if(isNaN(p))throw new ya("Invalid webhook timestamp format");const y=Math.floor(Date.now()/1e3);if(y-p>r)throw new ya("Webhook timestamp is too old");if(p>y+r)throw new ya("Webhook timestamp is too new");const _=c.split(" ").map(R=>R.startsWith("v1,")?R.substring(3):R),S=i.startsWith("whsec_")?Buffer.from(i.replace("whsec_",""),"base64"):Buffer.from(i,"utf-8"),T=m?`${m}.${d}.${e}`:`${d}.${e}`,b=await crypto.subtle.importKey("raw",S,{name:"HMAC",hash:"SHA-256"},!1,["verify"]);for(const R of _)try{const x=Buffer.from(R,"base64");if(await crypto.subtle.verify("HMAC",b,x,new TextEncoder().encode(T)))return}catch{continue}throw new ya("The given webhook signature does not match the expected signature")}}Xs=new WeakSet,yw=function(e){if(typeof e!="string"||e.length===0)throw new Error("The webhook secret must either be set using the env var, OPENAI_WEBHOOK_SECRET, on the client class, OpenAI({ webhookSecret: '123' }), or passed to this function")},Fu=function(e,n){if(!e)throw new Error("Headers are required");const i=e.get(n);if(i==null)throw new Error(`Missing required header: ${n}`);return i};var qp,Ym,zu,Sw;class Te{constructor({baseURL:e=Fs("OPENAI_BASE_URL"),apiKey:n=Fs("OPENAI_API_KEY"),organization:i=Fs("OPENAI_ORG_ID")??null,project:r=Fs("OPENAI_PROJECT_ID")??null,webhookSecret:l=Fs("OPENAI_WEBHOOK_SECRET")??null,...c}={}){if(qp.add(this),zu.set(this,void 0),this.completions=new Xb(this),this.chat=new Um(this),this.embeddings=new Zb(this),this.files=new ew(this),this.images=new rw(this),this.audio=new Ka(this),this.moderations=new lw(this),this.models=new aw(this),this.fineTuning=new gr(this),this.graders=new zm(this),this.vectorStores=new Yc(this),this.webhooks=new _w(this),this.beta=new mr(this),this.batches=new Vb(this),this.uploads=new Jm(this),this.responses=new Jc(this),this.realtime=new $c(this),this.conversations=new Bm(this),this.evals=new Gm(this),this.containers=new km(this),this.videos=new vw(this),n===void 0)throw new fe("Missing credentials. Please pass an `apiKey`, or set the `OPENAI_API_KEY` environment variable.");const d={apiKey:n,organization:i,project:r,webhookSecret:l,...c,baseURL:e||"https://api.openai.com/v1"};if(!d.dangerouslyAllowBrowser&&v2())throw new fe(`It looks like you're running in a browser-like environment.

This is disabled by default, as it risks exposing your secret API credentials to attackers.
If you understand the risks and have appropriate mitigations in place,
you can set the \`dangerouslyAllowBrowser\` option to \`true\`, e.g.,

new OpenAI({ apiKey, dangerouslyAllowBrowser: true });

https://help.openai.com/en/articles/5112595-best-practices-for-api-key-safety
`);this.baseURL=d.baseURL,this.timeout=d.timeout??Ym.DEFAULT_TIMEOUT,this.logger=d.logger??console;const m="warn";this.logLevel=m,this.logLevel=UE(d.logLevel,"ClientOptions.logLevel",this)??UE(Fs("OPENAI_LOG"),"process.env['OPENAI_LOG']",this)??m,this.fetchOptions=d.fetchOptions,this.maxRetries=d.maxRetries??2,this.fetch=d.fetch??T2(),ge(this,zu,C2),this._options=d,this.apiKey=typeof n=="string"?n:"Missing Key",this.organization=i,this.project=r,this.webhookSecret=l}withOptions(e){return new this.constructor({...this._options,baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,organization:this.organization,project:this.project,webhookSecret:this.webhookSecret,...e})}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:e,nulls:n}){}async authHeaders(e){return re([{Authorization:`Bearer ${this.apiKey}`}])}stringifyQuery(e){return N2(e,{arrayFormat:"brackets"})}getUserAgent(){return`${this.constructor.name}/JS ${Ys}`}defaultIdempotencyKey(){return`stainless-node-retry-${FC()}`}makeStatusError(e,n,i,r){return xt.generate(e,n,i,r)}async _callApiKey(){const e=this._options.apiKey;if(typeof e!="function")return!1;let n;try{n=await e()}catch(i){throw i instanceof fe?i:new fe(`Failed to get token from 'apiKey' function: ${i.message}`,{cause:i})}if(typeof n!="string"||!n)throw new fe(`Expected 'apiKey' function argument to return a string but it returned ${n}`);return this.apiKey=n,!0}buildURL(e,n,i){const r=!L(this,qp,"m",Sw).call(this)&&i||this.baseURL,l=d2(e)?new URL(e):new URL(r+(r.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),c=this.defaultQuery();return h2(c)||(n={...c,...n}),typeof n=="object"&&n&&!Array.isArray(n)&&(l.search=this.stringifyQuery(n)),l.toString()}async prepareOptions(e){await this._callApiKey()}async prepareRequest(e,{url:n,options:i}){}get(e,n){return this.methodRequest("get",e,n)}post(e,n){return this.methodRequest("post",e,n)}patch(e,n){return this.methodRequest("patch",e,n)}put(e,n){return this.methodRequest("put",e,n)}delete(e,n){return this.methodRequest("delete",e,n)}methodRequest(e,n,i){return this.request(Promise.resolve(i).then(r=>({method:e,path:n,...r})))}request(e,n=null){return new Gc(this,this.makeRequest(e,n,void 0))}async makeRequest(e,n,i){const r=await e,l=r.maxRetries??this.maxRetries;n==null&&(n=l),await this.prepareOptions(r);const{req:c,url:d,timeout:m}=await this.buildRequest(r,{retryCount:l-n});await this.prepareRequest(c,{url:d,options:r});const p="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),y=i===void 0?"":`, retryOf: ${i}`,_=Date.now();if(bt(this).debug(`[${p}] sending request`,Lo({retryOfRequestLogID:i,method:r.method,url:d,options:r,headers:c.headers})),r.signal?.aborted)throw new En;const S=new AbortController,T=await this.fetchWithTimeout(d,c,m,S).catch(Np),b=Date.now();if(T instanceof globalThis.Error){const P=`retrying, ${n} attempts remaining`;if(r.signal?.aborted)throw new En;const H=Mp(T)||/timed? ?out/i.test(String(T)+("cause"in T?String(T.cause):""));if(n)return bt(this).info(`[${p}] connection ${H?"timed out":"failed"} - ${P}`),bt(this).debug(`[${p}] connection ${H?"timed out":"failed"} (${P})`,Lo({retryOfRequestLogID:i,url:d,durationMs:b-_,message:T.message})),this.retryRequest(r,n,i??p);throw bt(this).info(`[${p}] connection ${H?"timed out":"failed"} - error; no more retries left`),bt(this).debug(`[${p}] connection ${H?"timed out":"failed"} (error; no more retries left)`,Lo({retryOfRequestLogID:i,url:d,durationMs:b-_,message:T.message})),H?new bm:new Bc({cause:T})}const R=[...T.headers.entries()].filter(([P])=>P==="x-request-id").map(([P,H])=>", "+P+": "+JSON.stringify(H)).join(""),x=`[${p}${y}${R}] ${c.method} ${d} ${T.ok?"succeeded":"failed"} with status ${T.status} in ${b-_}ms`;if(!T.ok){const P=await this.shouldRetry(T);if(n&&P){const $=`retrying, ${n} attempts remaining`;return await A2(T.body),bt(this).info(`${x} - ${$}`),bt(this).debug(`[${p}] response error (${$})`,Lo({retryOfRequestLogID:i,url:T.url,status:T.status,headers:T.headers,durationMs:b-_})),this.retryRequest(r,n,i??p,T.headers)}const H=P?"error; no more retries left":"error; not retryable";bt(this).info(`${x} - ${H}`);const B=await T.text().catch($=>Np($).message),q=g2(B),Q=q?void 0:B;throw bt(this).debug(`[${p}] response error (${H})`,Lo({retryOfRequestLogID:i,url:T.url,status:T.status,headers:T.headers,message:Q,durationMs:Date.now()-_})),this.makeStatusError(T.status,q,Q,T.headers)}return bt(this).info(x),bt(this).debug(`[${p}] response start`,Lo({retryOfRequestLogID:i,url:T.url,status:T.status,headers:T.headers,durationMs:b-_})),{response:T,options:r,controller:S,requestLogID:p,retryOfRequestLogID:i,startTime:_}}getAPIList(e,n,i){return this.requestAPIList(n,{method:"get",path:e,...i})}requestAPIList(e,n){const i=this.makeRequest(n,null,void 0);return new H2(this,i,e)}async fetchWithTimeout(e,n,i,r){const{signal:l,method:c,...d}=n||{};l&&l.addEventListener("abort",()=>r.abort());const m=setTimeout(()=>r.abort(),i),p=globalThis.ReadableStream&&d.body instanceof globalThis.ReadableStream||typeof d.body=="object"&&d.body!==null&&Symbol.asyncIterator in d.body,y={signal:r.signal,...p?{duplex:"half"}:{},method:"GET",...d};c&&(y.method=c.toUpperCase());try{return await this.fetch.call(void 0,e,y)}finally{clearTimeout(m)}}async shouldRetry(e){const n=e.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,n,i,r){let l;const c=r?.get("retry-after-ms");if(c){const m=parseFloat(c);Number.isNaN(m)||(l=m)}const d=r?.get("retry-after");if(d&&!l){const m=parseFloat(d);Number.isNaN(m)?l=Date.parse(d)-Date.now():l=m*1e3}if(!(l&&0<=l&&l<60*1e3)){const m=e.maxRetries??this.maxRetries;l=this.calculateDefaultRetryTimeoutMillis(n,m)}return await Ja(l),this.makeRequest(e,n-1,i)}calculateDefaultRetryTimeoutMillis(e,n){const l=n-e,c=Math.min(.5*Math.pow(2,l),8),d=1-Math.random()*.25;return c*d*1e3}async buildRequest(e,{retryCount:n=0}={}){const i={...e},{method:r,path:l,query:c,defaultBaseURL:d}=i,m=this.buildURL(l,c,d);"timeout"in i&&m2("timeout",i.timeout),i.timeout=i.timeout??this.timeout;const{bodyHeaders:p,body:y}=this.buildBody({options:i}),_=await this.buildHeaders({options:e,method:r,bodyHeaders:p,retryCount:n});return{req:{method:r,headers:_,...i.signal&&{signal:i.signal},...globalThis.ReadableStream&&y instanceof globalThis.ReadableStream&&{duplex:"half"},...y&&{body:y},...this.fetchOptions??{},...i.fetchOptions??{}},url:m,timeout:i.timeout}}async buildHeaders({options:e,method:n,bodyHeaders:i,retryCount:r}){let l={};this.idempotencyHeader&&n!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),l[this.idempotencyHeader]=e.idempotencyKey);const c=re([l,{Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(r),...e.timeout?{"X-Stainless-Timeout":String(Math.trunc(e.timeout/1e3))}:{},...E2(),"OpenAI-Organization":this.organization,"OpenAI-Project":this.project},await this.authHeaders(e),this._options.defaultHeaders,i,e.headers]);return this.validateHeaders(c),c.values}buildBody({options:{body:e,headers:n}}){if(!e)return{bodyHeaders:void 0,body:void 0};const i=re([n]);return ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof DataView||typeof e=="string"&&i.values.has("content-type")||globalThis.Blob&&e instanceof globalThis.Blob||e instanceof FormData||e instanceof URLSearchParams||globalThis.ReadableStream&&e instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:e}:typeof e=="object"&&(Symbol.asyncIterator in e||Symbol.iterator in e&&"next"in e&&typeof e.next=="function")?{bodyHeaders:void 0,body:nb(e)}:L(this,zu,"f").call(this,{body:e,headers:i})}}Ym=Te,zu=new WeakMap,qp=new WeakSet,Sw=function(){return this.baseURL!=="https://api.openai.com/v1"};Te.OpenAI=Ym;Te.DEFAULT_TIMEOUT=6e5;Te.OpenAIError=fe;Te.APIError=xt;Te.APIConnectionError=Bc;Te.APIConnectionTimeoutError=bm;Te.APIUserAbortError=En;Te.NotFoundError=YC;Te.ConflictError=KC;Te.RateLimitError=QC;Te.BadRequestError=zC;Te.AuthenticationError=$C;Te.InternalServerError=WC;Te.PermissionDeniedError=JC;Te.UnprocessableEntityError=XC;Te.InvalidWebhookSignatureError=ya;Te.toFile=z2;Te.Completions=Xb;Te.Chat=Um;Te.Embeddings=Zb;Te.Files=ew;Te.Images=rw;Te.Audio=Ka;Te.Moderations=lw;Te.Models=aw;Te.FineTuning=gr;Te.Graders=zm;Te.VectorStores=Yc;Te.Webhooks=_w;Te.Beta=mr;Te.Batches=Vb;Te.Uploads=Jm;Te.Responses=Jc;Te.Realtime=$c;Te.Conversations=Bm;Te.Evals=Gm;Te.Containers=km;Te.Videos=vw;class ZE extends Error{}class Fp{static client=null;static getApiKey=null;static setApiKey=null;static getClient(){if(!this.client){const e=this.getApiKey?.()||"";if(!e)throw new ZE("No OpenAI API key set");this.client=new Te({apiKey:e,dangerouslyAllowBrowser:!0})}return this.client}static resetClient(){this.client=null}static async txt2txt(e,n,i){try{const r=this.getClient(),l=[];n&&l.push({role:"system",content:n}),e&&l.push({role:"user",content:[{type:"input_text",text:e}]}),i&&console.log(i);const c={model:"gpt-4o-mini",input:l};console.log("GPT Payload:",c);const m=(await r.responses.create(c)).output_text;return console.log("GPT Response TEXT:",{text:m}),m}catch(r){if(console.error("ChatGPT Error:",r),(r?.message||"").includes("Incorrect API key provided")||r instanceof ZE){const c=window.prompt("Your OpenAI API key is missing or invalid. Please enter a valid key:");return c?(this.setApiKey?.(c),this.resetClient()):console.warn("User did not provide a valid API key."),null}throw r}}}class vH{rootHandle=null;project=null;data={};constructor(e=null,n=null){this.rootHandle=e,this.project=n,co(this)}async load(){if(this.rootHandle)try{const e={};for await(const n of this.rootHandle.values()){if(n.kind!=="directory")continue;const i=n.name,r=n,l={};for await(const c of r.values()){if(c.kind!=="directory")continue;const d=c.name,m=c,p=[];for await(const y of m.values()){if(y.kind!=="file"||!y.name.match(/\.(png|jpg|jpeg|webp|gif)$/i))continue;const _=y,S=`${i}/${d}/${_.name}`;p.push(new yH(_,m,S,this))}l[d]=p}e[i]=l}gt(()=>{this.data=e})}catch(e){console.error("Error loading artbook:",e),gt(()=>{this.data={}})}}getTag(e){if(!e)return null;const n=e.split("/");if(n.length<3)return null;const[i,r,l]=n,c=this.data[i];if(!c)return null;const d=c[r];return d&&d.find(p=>p.handle.name===l)||null}}class yH{handle;folder;image;artInfo=null;path;artbook;constructor(e,n,i,r=null){this.handle=e,this.folder=n,this.image=new $o(e),this.path=i,this.artbook=r,co(this)}async getArtInfo(){if(this.artInfo)return this.artInfo;try{const e=await zo.create(this.folder,this.handle.name+".json");gt(()=>{this.artInfo=e})}catch(e){console.warn("Unable to load art info for:",this.handle.name,e)}return this.artInfo}}class jE{folder;sceneJson=null;shots=[];project=null;constructor(e,n=null){this.folder=e,this.project=n,co(this)}async load(){try{this.sceneJson=await zo.create(this.folder,"sceneinfo.json",{tags:[],shotsjson:"",script:""}),this.shots=[];for await(const e of this.folder.values())if(e.kind==="directory"){const n=new AE(e,this);await n.load(),this.shots.push(n)}}catch(e){console.error("Error loading scene:",e),this.sceneJson=null,this.shots=[]}}removeTag(e){this.sceneJson?.data?.tags&&(this.sceneJson.data.tags=this.sceneJson.data.tags.filter(n=>n!==e),this.sceneJson.save())}async delete(){if(!this.project?.rootDirHandle){console.error("Cannot delete scene: project root not set");return}try{await(await this.project.rootDirHandle.getDirectoryHandle("SCENES")).removeEntry(this.folder.name,{recursive:!0}),gt(()=>{this.project&&(this.project.scenes=this.project.scenes.filter(n=>n!==this))})}catch(e){console.error("Failed to delete scene:",e)}}async createShot(e){if(!this.folder)return console.error("No scene folder available"),null;const n=this.shots.find(i=>i.folder.name===e);if(n)return n;try{const i=await this.folder.getDirectoryHandle(e,{create:!0}),r=new AE(i,this);return await r.load(),gt(()=>{const l=this.shots.findIndex(c=>c.folder.name.localeCompare(e)>0);l===-1?this.shots.push(r):this.shots.splice(l,0,r)}),r}catch(i){return console.error("Failed to create shot:",i),null}}get finishedShotsNum(){return this.shots.filter(e=>e.shotJson?.data?.finished).length}async generateShotsJson(){if(!this.sceneJson?.data?.script)return null;const n=`
       ,            json,     json   :
{
  "SHOT_010" : 
    {
    "prompt" : "     ", 
    "camera" : "focal length, shot type", 
    "action_description" : "     ", 
    },

}   

:
${this.sceneJson.data.script}
`,i="You are a helpful assistant. Always respond using ONLY valid JSON. Do not write explanations. Do not wrap the JSON in backticks. The entire response must be a valid JSON object.";try{return await Fp.txt2txt(n,i)}catch(r){return console.error("Error generating shots JSON:",r),null}}async createShotsFromShotsJson(){if(!this.sceneJson?.data?.shotsjson){console.warn("No shots JSON found in scene.");return}let e;try{e=JSON.parse(this.sceneJson.data.shotsjson)}catch(n){console.error("Invalid shots JSON:",n),alert("Error: The shots JSON is invalid. Please check the format.");return}for(const n of Object.keys(e)){const i=e[n];if(!i||typeof i!="object"){console.warn(`Skipping invalid shot data for key: ${n}`);continue}try{const r=await this.createShot(n);if(!r){console.error(`Failed to create shot ${n}`);continue}r.shotJson&&(Object.assign(r.shotJson.data,i),await r.shotJson.save())}catch(r){console.error(`Error creating shot ${n}:`,r)}}}log(){console.log(nm(this))}getTags(){if(!this.sceneJson?.data?.tags||!this.project?.artbook)return[];const e=[];for(const n of this.sceneJson.data.tags){const i=this.project.artbook.getTag(n);i&&e.push(i)}return e}get tags(){return this.getTags()}}const zp=(t,e)=>e.some(n=>t instanceof n);let eT,tT;function _H(){return eT||(eT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function SH(){return tT||(tT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const $p=new WeakMap,Jh=new WeakMap,Kc=new WeakMap;function EH(t){const e=new Promise((n,i)=>{const r=()=>{t.removeEventListener("success",l),t.removeEventListener("error",c)},l=()=>{n(Ho(t.result)),r()},c=()=>{i(t.error),r()};t.addEventListener("success",l),t.addEventListener("error",c)});return Kc.set(e,t),e}function TH(t){if($p.has(t))return;const e=new Promise((n,i)=>{const r=()=>{t.removeEventListener("complete",l),t.removeEventListener("error",c),t.removeEventListener("abort",c)},l=()=>{n(),r()},c=()=>{i(t.error||new DOMException("AbortError","AbortError")),r()};t.addEventListener("complete",l),t.addEventListener("error",c),t.addEventListener("abort",c)});$p.set(t,e)}let Jp={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return $p.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ho(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Ew(t){Jp=t(Jp)}function AH(t){return SH().includes(t)?function(...e){return t.apply(Yp(this),e),Ho(this.request)}:function(...e){return Ho(t.apply(Yp(this),e))}}function CH(t){return typeof t=="function"?AH(t):(t instanceof IDBTransaction&&TH(t),zp(t,_H())?new Proxy(t,Jp):t)}function Ho(t){if(t instanceof IDBRequest)return EH(t);if(Jh.has(t))return Jh.get(t);const e=CH(t);return e!==t&&(Jh.set(t,e),Kc.set(e,t)),e}const Yp=t=>Kc.get(t);function bH(t,e,{blocked:n,upgrade:i,blocking:r,terminated:l}={}){const c=indexedDB.open(t,e),d=Ho(c);return i&&c.addEventListener("upgradeneeded",m=>{i(Ho(c.result),m.oldVersion,m.newVersion,Ho(c.transaction),m)}),n&&c.addEventListener("blocked",m=>n(m.oldVersion,m.newVersion,m)),d.then(m=>{l&&m.addEventListener("close",()=>l()),r&&m.addEventListener("versionchange",p=>r(p.oldVersion,p.newVersion,p))}).catch(()=>{}),d}const wH=["get","getKey","getAll","getAllKeys","count"],RH=["put","add","delete","clear"],Yh=new Map;function nT(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Yh.get(e))return Yh.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,r=RH.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(r||wH.includes(n)))return;const l=async function(c,...d){const m=this.transaction(c,r?"readwrite":"readonly");let p=m.store;return i&&(p=p.index(d.shift())),(await Promise.all([p[n](...d),r&&m.done]))[0]};return Yh.set(e,l),l}Ew(t=>({...t,get:(e,n,i)=>nT(e,n)||t.get(e,n,i),has:(e,n)=>!!nT(e,n)||t.has(e,n)}));const xH=["continue","continuePrimaryKey","advance"],iT={},Kp=new WeakMap,Tw=new WeakMap,MH={get(t,e){if(!xH.includes(e))return t[e];let n=iT[e];return n||(n=iT[e]=function(...i){Kp.set(this,Tw.get(this)[e](...i))}),n}};async function*NH(...t){let e=this;if(e instanceof IDBCursor||(e=await e.openCursor(...t)),!e)return;e=e;const n=new Proxy(e,MH);for(Tw.set(n,e),Kc.set(n,Yp(e));e;)yield n,e=await(Kp.get(n)||e.continue()),Kp.delete(n)}function oT(t,e){return e===Symbol.asyncIterator&&zp(t,[IDBIndex,IDBObjectStore,IDBCursor])||e==="iterate"&&zp(t,[IDBIndex,IDBObjectStore])}Ew(t=>({...t,get(e,n,i){return oT(e,n)?NH:t.get(e,n,i)},has(e,n){return oT(e,n)||t.has(e,n)}}));const IH="ShotMasterRE",Nu="settings";class DH{db=null;data={id:"settings",lastOpenedFolder:null,recentFolders:[],api_keys:{}};constructor(){co(this.data)}async getDB(){return this.db?this.db:(this.db=await bH(IH,1,{upgrade(e){e.objectStoreNames.contains(Nu)||e.createObjectStore(Nu,{keyPath:"id"})}}),this.db)}async load(){const n=await(await this.getDB()).get(Nu,"settings");return n&&gt(()=>{Object.assign(this.data,n)}),this.data}async save(){const e=await this.getDB(),n=nm(this.data);await e.put(Nu,n)}async update(e){gt(()=>e(this.data)),await this.save()}}class OH{fileHandle;text="";scenes=new Map;project=null;constructor(e,n=null){this.fileHandle=e,this.project=n,co(this,{},{autoBind:!0})}async load(){const e=await this.fileHandle.getFile();this.text=(await e.text()).replace(/\r\n/g,`
`),this.splitIntoScenes()}async save(){const e=await this.fileHandle.createWritable();await e.write(this.text),await e.close()}setText(e){this.text=e,this.splitIntoScenes()}splitIntoScenes(){this.scenes.clear();const e=/^SC_[^\n]{1,32}$/gm,n=[...this.text.matchAll(e)];if(n.length===0){this.scenes.set("",this.text);return}for(let i=0;i<n.length;i++){const r=n[i][0],l=n[i].index;if(i===0&&l>0){const m=this.text.slice(0,l);this.scenes.set("",m)}const c=i+1<n.length?n[i+1].index:this.text.length,d=this.text.slice(l,c);this.scenes.set(r,d)}}get sortedSceneKeys(){return Array.from(this.scenes.keys()).sort((e,n)=>e.localeCompare(n))}joinScenes(){let e="";for(const n of this.sortedSceneKeys)e+=this.scenes.get(n);return e}setSceneText(e,n){this.scenes.set(e,n),this.text=this.joinScenes(),this.splitIntoScenes()}async createScenes(){if(!this.project){console.error("Script has no project reference");return}for(const e of this.sortedSceneKeys){if(e==="")continue;const n=this.scenes.get(e)??"";try{const i=await this.project.createScene(e);if(!i){console.error(`Failed to create scene ${e}`);continue}i.sceneJson&&(i.sceneJson.data.script=n,await i.sceneJson.save())}catch(i){console.error(`Error creating scene ${e}:`,i)}}}}class UH{rootDirHandle=null;scenes=[];artbook=null;script=null;userSettingsDB=new DH;projinfo=null;currentView={type:"none"};selectedScene=null;constructor(e=null){this.rootDirHandle=e,co(this)}async loadFromFolder(e){e&&(this.rootDirHandle=e,gt(async()=>{this.userSettingsDB.data.lastOpenedFolder=e,(await Promise.all(this.userSettingsDB.data.recentFolders.map(async i=>{try{return await i.isSameEntry(e)}catch{return!1}}))).includes(!0)||(this.userSettingsDB.data.recentFolders.push(e),this.userSettingsDB.data.recentFolders=this.userSettingsDB.data.recentFolders.slice(-5)),await this.userSettingsDB.save(),this.projinfo=await zo.create(this.rootDirHandle,"projinfo.json")}),await Promise.all([this.loadScenes(),this.loadArtbook(),this.loadScript()]))}async loadScenes(){if(this.rootDirHandle)try{const e=await this.rootDirHandle.getDirectoryHandle("SCENES",{create:!0}),n=[];for await(const i of e.values())if(i.kind==="directory"){const r=new jE(i,this);await r.load(),n.push(r)}gt(()=>{this.scenes=n})}catch(e){console.error("Error loading scenes:",e),gt(()=>{this.scenes=[]})}}async loadArtbook(){if(this.rootDirHandle)try{const e=await this.rootDirHandle.getDirectoryHandle("REFS",{create:!0}),n=new vH(e,this);await n.load(),gt(()=>{this.artbook=n})}catch(e){console.error("Error loading artbook:",e),gt(()=>{this.artbook=null})}}async loadScript(){if(this.rootDirHandle)try{const e=await this.rootDirHandle.getFileHandle("script.txt",{create:!0}),n=new OH(e,this);await n.load(),gt(()=>{this.script=n})}catch(e){console.error("Error loading script:",e),gt(()=>{this.script=null})}}async loadDB(){await this.userSettingsDB.load(),xp.getApiKey=()=>this.userSettingsDB.data.api_keys.Google_API_KEY||null,xp.setApiKey=async e=>{await this.userSettingsDB.update(n=>{n.api_keys.Google_API_KEY=e})},Fp.getApiKey=()=>this.userSettingsDB.data.api_keys.GPT_API_KEY||null,Fp.setApiKey=async e=>{await this.userSettingsDB.update(n=>{n.api_keys.GPT_API_KEY=e})}}async createScene(e){if(!this.rootDirHandle)return console.error("No project folder open"),null;const n=this.scenes.find(i=>i.folder.name===e);if(n)return n;try{const r=await(await this.rootDirHandle.getDirectoryHandle("SCENES",{create:!0})).getDirectoryHandle(e,{create:!0}),l=new jE(r,this);return await l.load(),gt(()=>{const c=this.scenes.findIndex(d=>d.folder.name.localeCompare(l.folder.name)>0);c===-1?this.scenes.push(l):this.scenes.splice(c,0,l)}),l}catch(i){return console.error("Failed to create scene:",i),null}}log(){console.log(nm(this))}setView(e,n=null){this.currentView=e,this.selectedScene=n}}const LH=({onOpenFolder:t,recentFolders:e,onOpenRecent:n,project:i})=>{const r=[{name:"Open",onClick:t},{name:"Recent",subItems:e.length?e.map(d=>({name:d.name,onClick:()=>n(d)})):[{name:"No Recent"}]}],l=[{name:"Undo"},{name:"Redo"}],c=[{name:"About"}];return C.jsx(q0,{expand:"lg",children:C.jsxs(EA,{fluid:!0,children:[C.jsx(q0.Brand,{children:"ShotMasterRT"}),C.jsxs(qD,{className:"me-auto",style:{userSelect:"none"},children:[C.jsx(Vs,{title:"File",items:r}),C.jsx(Vs,{title:"Edit",items:l}),C.jsx(Vs,{title:"Help",items:c}),C.jsx(Vs,{title:"Settings",onClick:()=>i.setView({type:"settings"})}),C.jsx(Vs,{title:"Script",onClick:()=>i.setView({type:"script"})}),C.jsx(Vs,{title:"Artbook",onClick:()=>i.setView({type:"artbook"})})]})]})})},PH=Ut(({scene:t})=>{const e=()=>{!t||!t.sceneJson||t.project?.setView({type:"scene"},t)};return C.jsxs("li",{className:"d-flex justify-content-between align-items-center py-1 px-2",style:{cursor:"pointer"},onClick:e,children:[C.jsx("span",{children:t.folder.name}),C.jsxs("span",{className:"text-muted",children:[t.finishedShotsNum," / ",t.shots.length]})]})}),Rt=({onClick:t,label:e="Click",className:n=""})=>C.jsx("button",{className:`btn btn-sm btn-outline-secondary ${n}`,onClick:t,children:e}),kH=Ut(({project:t})=>{if(!t)return C.jsx("div",{children:"No Project Opened"});const e=async()=>{const i=prompt("Enter new scene name");i&&await t.createScene(i)},n=t.rootDirHandle?.name||"No Project Opened";return C.jsxs("div",{style:{width:"200px",borderRight:"1px solid #ced4da",padding:"10px",display:"flex",flexDirection:"column"},children:[C.jsx("h5",{style:{flexShrink:0,marginBottom:8},children:n}),C.jsx(Rt,{label:"+ Add Scene",onClick:e,className:"mb-2"}),C.jsx("ul",{className:"list-unstyled",style:{margin:0,padding:0,overflowY:"auto",maxHeight:"calc(100vh - 100px)"},children:t.scenes.map((i,r)=>C.jsx(PH,{scene:i},r))})]})});class sT extends I.Component{constructor(e){super(e),this.state={value:e.value}}handleChange=e=>{const n=e.target.value;this.setState({value:n}),this.props.onChange(n)};render(){const{label:e}=this.props,{value:n}=this.state;return C.jsxs("div",{style:{display:"flex",alignItems:"center",marginBottom:12},children:[C.jsx("label",{style:{marginRight:8,minWidth:120},children:e}),C.jsx("input",{type:"text",value:n,onChange:this.handleChange,style:{flexGrow:1,padding:6}})]})}}const BH=Ut(({project:t})=>{const{userSettingsDB:e}=t;return e?C.jsxs("div",{style:{maxWidth:400,padding:20},children:[C.jsx("h3",{children:"API Keys"}),C.jsx(sT,{label:"GPT API Key",value:e.data.api_keys.GPT_API_KEY||"",onChange:async n=>{await e.update(i=>{i.api_keys.GPT_API_KEY=n})}}),C.jsx(sT,{label:"Google API Key",value:e.data.api_keys.Google_API_KEY||"",onChange:async n=>{await e.update(i=>{i.api_keys.Google_API_KEY=n})}}),C.jsx(Rt,{onClick:()=>{t.log()},label:"LOG"})]}):null}),Km=({label:t="Section",children:e,defaultCollapsed:n=!1,className:i="",headerExtra:r})=>{const[l,c]=I.useState(n);return C.jsxs("div",{className:`border rounded p-2 mb-2 ${i}`,children:[C.jsxs("div",{className:"d-flex align-items-center justify-content-between mb-2",children:[C.jsxs("div",{className:"d-flex align-items-center",children:[C.jsx("button",{className:"btn btn-sm btn-outline-secondary me-2",onClick:()=>c(!l),children:l?"":""}),C.jsx("strong",{children:t})]}),r&&!l&&C.jsx("div",{children:r})]}),!l&&C.jsx("div",{children:e})]})},Xp=({label:t,initialText:e,onSave:n,onEdit:i,fitHeight:r=!1,headerExtra:l})=>{const[c,d]=I.useState(e),[m,p]=I.useState(e),[y,_]=I.useState(!1),[S,T]=I.useState(!1),b=I.useRef(null);I.useEffect(()=>{d(e),p(e),r&&b.current&&(b.current.style.height="auto",b.current.style.height=`${b.current.scrollHeight}px`)},[e,r]);const R=c!==m,x=B=>{d(B),i&&i(B)},P=async()=>{n&&(T(!0),await n(c),p(c),T(!1))};I.useEffect(()=>{if(!y||!R)return;const B=setTimeout(()=>P(),1e3);return()=>clearTimeout(B)},[c,y,R]),I.useEffect(()=>{r&&b.current&&(b.current.style.height="auto",b.current.style.height=`${b.current.scrollHeight}px`)},[c,r]);const H=C.jsxs("div",{className:"d-flex align-items-center gap-2",children:[l&&C.jsx(C.Fragment,{children:l}),C.jsx("button",{className:"btn btn-primary btn-sm",disabled:S||!R||!n,onClick:P,children:S?"Saving...":R?"Save*":"Save"}),C.jsxs("label",{className:"d-flex align-items-center gap-1 mb-0",children:[C.jsx("input",{type:"checkbox",checked:y,onChange:B=>_(B.target.checked)}),"Auto-save"]})]});return C.jsx(Km,{label:t,headerExtra:H,children:C.jsx("textarea",{ref:b,className:"form-control",style:{fontFamily:"monospace",overflowY:"auto",maxHeight:"800px"},value:c,onChange:B=>x(B.target.value)})})},vc=({tabs:t})=>{const e=Object.keys(t),[n,i]=I.useState(e[0]);return C.jsxs("div",{children:[C.jsx("ul",{className:"nav nav-tabs",children:e.map(r=>C.jsx("li",{className:"nav-item",children:C.jsx("button",{className:`nav-link ${n===r?"active":""}`,onClick:()=>i(r),children:r})},r))}),C.jsx("div",{className:"tab-content p-3 border border-top-0",children:C.jsx("div",{className:"tab-pane fade show active",children:t[n]})})]})},HH=Ut(({project:t})=>{if(!t.script)return C.jsx("div",{children:"No script loaded in project."});const e=async r=>{t.script.setText(r),await t.script.save()},n={};for(const r of t.script.sortedSceneKeys)n[r||"Intro"]=C.jsx(Xp,{label:r||"Intro",initialText:t.script.scenes.get(r),onSave:async l=>{t.script.setSceneText(r,l),await t.script.save()},fitHeight:!0});const i=async()=>{try{await t.script.createScenes(),alert("Scenes created successfully!")}catch(r){console.error("Error creating scenes:",r),alert("Failed to create scenes. See console for details.")}};return C.jsxs("div",{style:{padding:"1rem"},children:[C.jsx("h4",{children:"Script"}),C.jsx(Rt,{label:"Create Scenes from Script",onClick:i,className:"mb-2"}),C.jsx(vc,{tabs:{"Full Script":C.jsx(Xp,{label:"Full Script",initialText:t.script.text,onSave:e,fitHeight:!0}),Scenes:C.jsx(vc,{tabs:n})}})]})}),or=Ut(({localJson:t,field:e,fitHeight:n=!1,headerExtra:i})=>{const r=async l=>{await t.updateField(e,l)};return C.jsx(Xp,{label:e,initialText:t.data[e]??"",onSave:r,fitHeight:n,headerExtra:i})}),GH=Ut(({art:t,onClose:e})=>{const[n,i]=I.useState(null),[r,l]=I.useState(!0);I.useEffect(()=>{let d=!0,m=t;l(!0),i(null);async function p(){const y=await m.image.getUrlObject();if(!d||t!==m)return;i(y);const _=await m.getArtInfo();!d||t!==m||(m.artInfo=_,l(!1))}return p(),()=>{d=!1}},[t]);const c=t.handle.name;return r?C.jsx("div",{children:"Loading art info..."}):C.jsxs("div",{className:"art-info-card",style:{border:"1px solid #ccc",padding:"1rem",borderRadius:"8px"},children:[C.jsxs("div",{className:"card-header",style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[C.jsx("strong",{children:c}),C.jsx("button",{onClick:e,style:{cursor:"pointer",border:"none",background:"transparent",fontSize:"1.2rem"},children:""})]}),n?C.jsx("img",{src:n,className:"preview-img",style:{maxWidth:"1000px",width:"auto",maxHeight:"1000px",objectFit:"contain",borderRadius:"4px",display:"block",marginBottom:"1rem"}}):C.jsx("div",{style:{padding:"4rem",textAlign:"center"},children:C.jsx("span",{children:"Loading image..."})}),t.artInfo&&C.jsx(or,{localJson:t.artInfo,field:"prompt",fitHeight:!0})]})}),VH=Ut(({artbook:t})=>{const[e,n]=I.useState(null);if(!Object.keys(t.data).length)return C.jsx("div",{children:"No Artbook content found."});const i=({art:d})=>{const[m,p]=I.useState(null);return I.useEffect(()=>{let y=!0;return d.image.getUrlObject().then(_=>{y&&p(_)}),()=>{y=!1}},[d]),C.jsx(SA,{xs:6,md:3,lg:2,style:{marginBottom:"1rem"},children:C.jsxs(vu,{onClick:()=>n(d),style:{cursor:"pointer"},children:[m?C.jsx(vu.Img,{variant:"top",src:m}):C.jsx("div",{style:{padding:"2rem",textAlign:"center"},children:C.jsx(JA,{animation:"border"})}),C.jsx(vu.Body,{children:C.jsx(vu.Text,{style:{fontSize:"0.8rem"},children:d.handle.name})})]})})},r=(d,m)=>C.jsxs("div",{style:{marginBottom:"2rem"},children:[C.jsx("h5",{children:d}),C.jsx($A,{children:m.map(p=>C.jsx(i,{art:p},p.handle.name))}),e&&m.includes(e)&&C.jsx("div",{style:{marginTop:"1rem"},children:C.jsx(GH,{art:e,onClose:()=>n(null)})})]},d),l=d=>C.jsxs("div",{style:{padding:"1rem"},children:[Object.entries(d).map(([m,p])=>r(m,p)),C.jsx("div",{style:{height:"500px"}})]}),c={};for(const d in t.data)c[d]=l(t.data[d]);return C.jsxs("div",{style:{padding:"1rem"},children:[C.jsx("h2",{className:"mb-3",children:"Artbook"}),C.jsx(vc,{tabs:c})]})}),qH=Ut(({art:t,scene:e})=>{const[n,i]=I.useState(null);if(I.useEffect(()=>{t.getArtInfo();let l=!0;return(async()=>{const d=await t.image.getUrlObject();l&&i(d||null)})(),()=>{l=!1,t.image.revokeUrl()}},[t]),!n)return null;const r=()=>{e.removeTag(t.path)};return C.jsxs("div",{className:"d-flex align-items-center justify-content-between",children:[C.jsxs("div",{className:"d-flex align-items-center",children:[C.jsx("img",{src:n,alt:t.handle.name,style:{width:40,height:40,objectFit:"cover",marginRight:8}}),C.jsxs("div",{children:[C.jsx("div",{children:t.handle.name}),C.jsx("small",{className:"text-muted",children:t.path}),t.artInfo&&C.jsx("div",{children:C.jsx("small",{children:t.artInfo.data?.description||""})})]})]}),C.jsx(Rt,{onClick:r,label:"X"})]})}),Kh=({label:t,children:e,direction:n="down",className:i,style:r})=>{const[l,c]=I.useState(!1),d=()=>{switch(n){case"right":return{top:0,left:"calc(100% - 2px)"};case"left":return{top:0,right:"calc(100% - 2px)"};default:return{top:"100%",left:0}}};return C.jsxs("div",{className:`position-relative ${i||""}`,style:{margin:0,padding:0,...r},onMouseEnter:()=>c(!0),onMouseLeave:()=>c(!1),children:[C.jsx("div",{className:"px-2 py-1 hover-bg-light",style:{cursor:"pointer",whiteSpace:"nowrap",width:"100%"},children:t}),l&&C.jsx("div",{className:"border shadow",style:{position:"absolute",backgroundColor:"var(--bs-body-bg)",zIndex:20,minWidth:150,display:"flex",flexDirection:"column",padding:0,...d()},children:e})]})},FH=({art:t,onClick:e})=>{const[n,i]=I.useState("");return I.useEffect(()=>{let r=!0;return t.image.getUrlObject().then(l=>{r&&i(l)}),()=>{r=!1,t.image.revokeUrl()}},[t]),C.jsxs("div",{className:"px-2 py-1 hover-bg-light d-flex align-items-center",style:{cursor:"pointer",gap:6},onClick:e,children:[n&&C.jsx("img",{src:n,alt:t.handle.name,style:{width:36,height:36,objectFit:"cover",borderRadius:2}}),C.jsx("span",{children:t.handle.name})]})},zH=Ut(({scene:t})=>{if(!t.sceneJson||!t.sceneJson.data)return null;const e=t.sceneJson.data.tags,n=t.project?.artbook,i=l=>{gt(()=>{e.push(l),t.sceneJson.save()})};if(!n)return null;const r=l=>Object.entries(l).map(([c,d])=>C.jsx(Kh,{label:c,direction:"left",children:Object.entries(d).map(([m,p])=>C.jsx(Kh,{label:m,direction:"left",children:p.map(y=>C.jsx(FH,{art:y,onClick:()=>i(y.path)},y.path))},m))},c));return C.jsx(Km,{label:"Tags",headerExtra:C.jsxs("div",{className:"d-flex align-items-center gap-2",children:[C.jsx(Kh,{label:"+ Add Tag",direction:"down",children:r(n.data)}),C.jsx(Rt,{onClick:()=>console.log(t.project?.artbook),label:"Log"})]}),children:e.length?C.jsx("ul",{className:"list-group list-group-flush",children:e.map((l,c)=>{const d=n.getTag(l);return d?C.jsx("li",{className:"list-group-item",children:C.jsx(qH,{art:d,scene:t})},c):null})}):C.jsx("div",{children:"No tags yet."})})}),$H=Ut(({scene:t})=>{if(!t.sceneJson)return C.jsx("div",{children:"No scene data available."});const e=async()=>{const r=await t.generateShotsJson();await t.sceneJson?.updateField("shotsjson",r)},n=async()=>{window.confirm(`Are you sure you want to delete scene "${t.folder.name}"?`)&&await t.delete()},i=async()=>{t.createShotsFromShotsJson()};return C.jsxs("div",{children:[C.jsxs("div",{style:{marginBottom:"10px"},children:[C.jsx(Rt,{onClick:n,label:"Delete Scene",className:"btn-outline-danger"}),C.jsx(Rt,{onClick:()=>t.log(),label:"LOG"})]}),C.jsx(or,{localJson:t.sceneJson,field:"script",fitHeight:!0,headerExtra:C.jsx(Rt,{onClick:e,label:"Split Into Shots GPT"})}),C.jsx(or,{localJson:t.sceneJson,field:"shotsjson",fitHeight:!0,headerExtra:C.jsx(Rt,{onClick:i,label:"Create Shots"})}),C.jsx(zH,{scene:t})]})}),Aw=({label:t,value:e,onToggle:n,useIndicator:i=!1})=>i?C.jsx("div",{onClick:()=>n(!e),style:{width:"16px",height:"16px",borderRadius:"50%",backgroundColor:e?"green":"transparent",border:"2px solid green",cursor:"pointer"}}):C.jsx("button",{className:`btn btn-sm ${e?"btn-success":"btn-outline-secondary"}`,onClick:()=>n(!e),children:t}),Xh="https://cdn.pixabay.com/photo/2021/05/09/06/07/dog-6240043_1280.jpg",JH=Ut(({shot:t,isSelected:e,onClick:n})=>{const[i,r]=I.useState(Xh);return I.useEffect(()=>{let l=!1;return(async()=>{if(t.srcImage)try{const d=await t.srcImage.getUrlObject();!l&&d&&r(d)}catch(d){console.error("Failed to load srcImage URL:",d),l||r(Xh)}else r(Xh)})(),()=>{l=!0}},[t.srcImage]),C.jsxs("div",{className:"flex-shrink-0 border rounded position-relative d-flex align-items-center justify-content-center",style:{height:"100%",cursor:"pointer",borderWidth:e?2:1,borderColor:e?"#0d6efd":"#dee2e6"},onClick:()=>n(t),children:[C.jsx("img",{src:i,alt:t.folder.name,className:"img-fluid",style:{height:"100%",width:"auto",objectFit:"contain",display:"block"}}),C.jsx("div",{className:"position-absolute text-white px-1",style:{bottom:0,left:0,backgroundColor:"rgba(0,0,0,0.5)",fontSize:"0.75rem",borderTopRightRadius:"4px"},children:t.folder.name}),C.jsx("div",{className:"position-absolute",style:{top:2,right:2},onClick:l=>l.stopPropagation(),children:C.jsx(Aw,{label:"Finished",value:!!t.shotJson?.data?.finished,useIndicator:!0,onToggle:l=>{t.shotJson&&t.shotJson.updateField("finished",l)}})})]})}),YH=({initialHeight:t=80,minHeight:e=30,children:n})=>{const[i,r]=I.useState(t),l=I.useRef(null),c=I.useRef(!1),d=_=>{c.current=!0,_.preventDefault()},m=_=>{if(!c.current||!l.current)return;const S=l.current.getBoundingClientRect(),T=_.clientY-S.top;T>e&&r(T)},p=()=>{c.current=!1};I.useEffect(()=>(window.addEventListener("mousemove",m),window.addEventListener("mouseup",p),()=>{window.removeEventListener("mousemove",m),window.removeEventListener("mouseup",p)}),[]);const y=6;return C.jsxs("div",{ref:l,className:"position-relative",style:{height:`${i}px`},children:[C.jsx("div",{style:{height:"100%",paddingBottom:`${y}px`,boxSizing:"border-box"},children:n}),C.jsx("div",{style:{position:"absolute",bottom:0,left:0,right:0,height:`${y}px`,cursor:"ns-resize",zIndex:10,backgroundColor:"#0d6efd",opacity:.5},onMouseDown:d})]})},KH=({label:t="Media Gallery",children:e,defaultCollapsed:n=!1,className:i="",headerExtra:r})=>C.jsx(Km,{label:t,defaultCollapsed:n,className:i,headerExtra:r,children:C.jsx("div",{className:"d-flex flex-wrap gap-2",children:e})}),XH=({localImage:t,height:e=150,topRightExtra:n})=>{const[i,r]=I.useState(null),[l,c]=I.useState(!1);return I.useEffect(()=>{let d=!0;return(async()=>{try{const p=await t.getUrlObject();d&&p&&r(p)}catch(p){console.error("Error loading LocalImage",p)}})(),()=>{d=!1}},[t]),i?C.jsxs("div",{className:"position-relative d-inline-block border rounded",style:{height:`${e}px`,cursor:"pointer"},onMouseEnter:()=>c(!0),onMouseLeave:()=>c(!1),children:[C.jsx("img",{src:i,alt:"Media",className:"img-fluid",style:{height:`${e}px`,width:"auto",objectFit:"contain",display:"block"}}),n&&l&&C.jsx("div",{className:"position-absolute",style:{top:"5px",right:"5px",zIndex:10,display:"flex",gap:"5px"},children:n})]}):C.jsx("div",{className:"d-flex align-items-center justify-content-center border rounded p-2",style:{height:`${e}px`,width:"auto"},children:"Loading..."})},QH=Ut(({shot:t})=>{if(!t.shotJson)return C.jsx("div",{children:"Loading shot info..."});const e=200,n=t.images??[],i=async()=>{window.confirm(`Are you sure you want to delete shot "${t.folder.name}"?`)&&await t.delete()};return C.jsx("div",{className:"card mb-2",children:C.jsxs("div",{className:"card-body",children:[C.jsxs("div",{className:"d-flex align-items-center justify-content-between mb-2",children:[C.jsx("strong",{children:t.folder.name}),C.jsxs("div",{className:"d-flex gap-2",children:[C.jsx(Aw,{label:"Finished",value:!!t.shotJson.data?.finished,onToggle:r=>{t.shotJson&&t.shotJson.updateField("finished",r)}}),C.jsx(Rt,{onClick:()=>console.log(t),label:"Log Shot"}),C.jsx(Rt,{onClick:i,label:"Delete Shot",className:"btn-outline-danger"})]})]}),C.jsx(or,{localJson:t.shotJson,field:"prompt",fitHeight:!0}),C.jsx(or,{localJson:t.shotJson,field:"camera",fitHeight:!0}),C.jsx(or,{localJson:t.shotJson,field:"action_description",fitHeight:!0}),C.jsx(KH,{label:"Shot Results",headerExtra:C.jsxs(C.Fragment,{children:[C.jsx(Rt,{label:"Generate",onClick:async()=>{t.GenerateImage()}}),C.jsx(Rt,{label:"Import URL",onClick:async()=>{try{const r=await navigator.clipboard.readText();if(r&&(r.startsWith("http://")||r.startsWith("https://"))){console.log("Importing URL from clipboard:",r);const l=await $o.fromUrl(r,t.resultsFolder);t.addImage(l)}else alert("Clipboard does not contain a valid URL.")}catch(r){console.error("Failed to read clipboard:",r),alert("Failed to access clipboard.")}}})]}),children:n.map((r,l)=>C.jsx(XH,{localImage:r,height:e,topRightExtra:C.jsxs(C.Fragment,{children:[C.jsx(Rt,{onClick:()=>t.setSrcImage(r),label:"Pick"}),C.jsx(Rt,{onClick:async()=>{if(window.confirm("Delete this image?"))try{await r.delete(t.resultsFolder),t.removeImage(r)}catch(c){console.error("Failed to delete image:",c),alert("Failed to delete image.")}},label:"Delete",className:"btn-outline-danger"})]})},l))})]})})}),WH=Ut(({scene:t})=>{const[e,n]=I.useState(null);I.useEffect(()=>{n(null)},[t]);const i=async()=>{const r=prompt("Enter new shot name:");if(!r)return;const l=await t.createShot(r);l&&n(l)};return C.jsxs("div",{className:"d-flex flex-column gap-3",children:[C.jsx(YH,{initialHeight:200,children:C.jsxs("div",{className:"d-flex overflow-auto gap-2 h-100",children:[t.shots.map(r=>C.jsx(JH,{shot:r,isSelected:e===r,onClick:n},r.folder.name)),C.jsx("div",{className:"mt-2",children:C.jsx(Rt,{label:"+ Add Shot",onClick:i})})]})}),C.jsx("div",{children:C.jsx(Rt,{onClick:()=>{for(const r of t.shots)r.srcImage||r.GenerateImage()},label:"Generate ALL"})}),e&&C.jsx(QH,{shot:e})]})}),ZH=Ut(({project:t})=>{switch(t.currentView.type){case"settings":return C.jsx(BH,{project:t});case"script":return C.jsx(HH,{project:t});case"artbook":return t.artbook?C.jsx(VH,{artbook:t.artbook}):C.jsx("div",{children:"No Artbook found."});case"scene":if(!t.selectedScene)return null;const e=t.selectedScene;return C.jsxs("div",{children:[C.jsx("h2",{children:e.folder.name}),C.jsx(vc,{tabs:{Scene:C.jsx($H,{scene:e}),Shots:C.jsx(WH,{scene:e})}})]});default:return null}}),jH=Ut(()=>{const[t]=I.useState(()=>new UH(null)),e=async()=>{try{const i=await window.showDirectoryPicker();await t.loadFromFolder(i)}catch(i){console.error(i)}},n=async i=>{let r=await i.queryPermission({mode:"readwrite"});r!=="granted"&&(r=await i.requestPermission({mode:"readwrite"})),r==="granted"&&await t.loadFromFolder(i)};return I.useEffect(()=>{(async()=>{if(await t.loadDB(),t.userSettingsDB.data.lastOpenedFolder){const r=t.userSettingsDB.data.lastOpenedFolder;let l=await r.queryPermission({mode:"readwrite"});l!=="granted"&&(l=await r.requestPermission({mode:"readwrite"})),l==="granted"&&await t.loadFromFolder(r)}})()},[]),C.jsxs("div",{style:{minHeight:"100vh"},children:[C.jsx(LH,{onOpenFolder:e,recentFolders:t.userSettingsDB.data.recentFolders,onOpenRecent:n,project:t}),C.jsxs("div",{style:{display:"flex",height:"calc(100vh - 56px)"},children:[C.jsx(kH,{project:t}),C.jsx("div",{className:"flex-grow-1 p-3",children:C.jsx(ZH,{project:t})})]})]})}),eG=I.createContext(void 0),tG=({children:t})=>{const[e,n]=I.useState(null);return C.jsx(eG.Provider,{value:{contentArea:e,setContentArea:n},children:t})};eM.createRoot(document.getElementById("root")).render(C.jsx(I.StrictMode,{children:C.jsx(tG,{children:C.jsx(jH,{})})}));
