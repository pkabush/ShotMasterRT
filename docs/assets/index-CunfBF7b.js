function NP(t,e){for(var n=0;n<e.length;n++){const o=e[n];if(typeof o!="string"&&!Array.isArray(o)){for(const r in o)if(r!=="default"&&!(r in t)){const a=Object.getOwnPropertyDescriptor(o,r);a&&Object.defineProperty(t,r,a.get?a:{enumerable:!0,get:()=>o[r]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))o(r);new MutationObserver(r=>{for(const a of r)if(a.type==="childList")for(const u of a.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&o(u)}).observe(document,{childList:!0,subtree:!0});function n(r){const a={};return r.integrity&&(a.integrity=r.integrity),r.referrerPolicy&&(a.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?a.credentials="include":r.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function o(r){if(r.ep)return;r.ep=!0;const a=n(r);fetch(r.href,a)}})();function hu(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Gm={exports:{}},Al={};var wb;function IP(){if(wb)return Al;wb=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(o,r,a){var u=null;if(a!==void 0&&(u=""+a),r.key!==void 0&&(u=""+r.key),"key"in r){a={};for(var c in r)c!=="key"&&(a[c]=r[c])}else a=r;return r=a.ref,{$$typeof:t,type:o,key:u,ref:r!==void 0?r:null,props:a}}return Al.Fragment=e,Al.jsx=n,Al.jsxs=n,Al}var Tb;function DP(){return Tb||(Tb=1,Gm.exports=IP()),Gm.exports}var A=DP(),$m={exports:{}},Ae={};var Cb;function OP(){if(Cb)return Ae;Cb=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),u=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),y=Symbol.for("react.activity"),S=Symbol.iterator;function E(L){return L===null||typeof L!="object"?null:(L=S&&L[S]||L["@@iterator"],typeof L=="function"?L:null)}var T={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,x={};function M(L,Y,se){this.props=L,this.context=Y,this.refs=x,this.updater=se||T}M.prototype.isReactComponent={},M.prototype.setState=function(L,Y){if(typeof L!="object"&&typeof L!="function"&&L!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,L,Y,"setState")},M.prototype.forceUpdate=function(L){this.updater.enqueueForceUpdate(this,L,"forceUpdate")};function I(){}I.prototype=M.prototype;function N(L,Y,se){this.props=L,this.context=Y,this.refs=x,this.updater=se||T}var D=N.prototype=new I;D.constructor=N,C(D,M.prototype),D.isPureReactComponent=!0;var U=Array.isArray;function k(){}var O={H:null,A:null,T:null,S:null},q=Object.prototype.hasOwnProperty;function J(L,Y,se){var le=se.ref;return{$$typeof:t,type:L,key:Y,ref:le!==void 0?le:null,props:se}}function X(L,Y){return J(L.type,Y,L.props)}function j(L){return typeof L=="object"&&L!==null&&L.$$typeof===t}function re(L){var Y={"=":"=0",":":"=2"};return"$"+L.replace(/[=:]/g,function(se){return Y[se]})}var oe=/\/+/g;function ae(L,Y){return typeof L=="object"&&L!==null&&L.key!=null?re(""+L.key):Y.toString(36)}function de(L){switch(L.status){case"fulfilled":return L.value;case"rejected":throw L.reason;default:switch(typeof L.status=="string"?L.then(k,k):(L.status="pending",L.then(function(Y){L.status==="pending"&&(L.status="fulfilled",L.value=Y)},function(Y){L.status==="pending"&&(L.status="rejected",L.reason=Y)})),L.status){case"fulfilled":return L.value;case"rejected":throw L.reason}}throw L}function H(L,Y,se,le,me){var Ee=typeof L;(Ee==="undefined"||Ee==="boolean")&&(L=null);var ve=!1;if(L===null)ve=!0;else switch(Ee){case"bigint":case"string":case"number":ve=!0;break;case"object":switch(L.$$typeof){case t:case e:ve=!0;break;case m:return ve=L._init,H(ve(L._payload),Y,se,le,me)}}if(ve)return me=me(L),ve=le===""?"."+ae(L,0):le,U(me)?(se="",ve!=null&&(se=ve.replace(oe,"$&/")+"/"),H(me,Y,se,"",function(nn){return nn})):me!=null&&(j(me)&&(me=X(me,se+(me.key==null||L&&L.key===me.key?"":(""+me.key).replace(oe,"$&/")+"/")+ve)),Y.push(me)),1;ve=0;var Ve=le===""?".":le+":";if(U(L))for(var ze=0;ze<L.length;ze++)le=L[ze],Ee=Ve+ae(le,ze),ve+=H(le,Y,se,Ee,me);else if(ze=E(L),typeof ze=="function")for(L=ze.call(L),ze=0;!(le=L.next()).done;)le=le.value,Ee=Ve+ae(le,ze++),ve+=H(le,Y,se,Ee,me);else if(Ee==="object"){if(typeof L.then=="function")return H(de(L),Y,se,le,me);throw Y=String(L),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(L).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return ve}function Q(L,Y,se){if(L==null)return L;var le=[],me=0;return H(L,le,"","",function(Ee){return Y.call(se,Ee,me++)}),le}function ee(L){if(L._status===-1){var Y=L._result;Y=Y(),Y.then(function(se){(L._status===0||L._status===-1)&&(L._status=1,L._result=se)},function(se){(L._status===0||L._status===-1)&&(L._status=2,L._result=se)}),L._status===-1&&(L._status=0,L._result=Y)}if(L._status===1)return L._result.default;throw L._result}var ne=typeof reportError=="function"?reportError:function(L){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof L=="object"&&L!==null&&typeof L.message=="string"?String(L.message):String(L),error:L});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",L);return}console.error(L)},ce={map:Q,forEach:function(L,Y,se){Q(L,function(){Y.apply(this,arguments)},se)},count:function(L){var Y=0;return Q(L,function(){Y++}),Y},toArray:function(L){return Q(L,function(Y){return Y})||[]},only:function(L){if(!j(L))throw Error("React.Children.only expected to receive a single React element child.");return L}};return Ae.Activity=y,Ae.Children=ce,Ae.Component=M,Ae.Fragment=n,Ae.Profiler=r,Ae.PureComponent=N,Ae.StrictMode=o,Ae.Suspense=p,Ae.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=O,Ae.__COMPILER_RUNTIME={__proto__:null,c:function(L){return O.H.useMemoCache(L)}},Ae.cache=function(L){return function(){return L.apply(null,arguments)}},Ae.cacheSignal=function(){return null},Ae.cloneElement=function(L,Y,se){if(L==null)throw Error("The argument must be a React element, but you passed "+L+".");var le=C({},L.props),me=L.key;if(Y!=null)for(Ee in Y.key!==void 0&&(me=""+Y.key),Y)!q.call(Y,Ee)||Ee==="key"||Ee==="__self"||Ee==="__source"||Ee==="ref"&&Y.ref===void 0||(le[Ee]=Y[Ee]);var Ee=arguments.length-2;if(Ee===1)le.children=se;else if(1<Ee){for(var ve=Array(Ee),Ve=0;Ve<Ee;Ve++)ve[Ve]=arguments[Ve+2];le.children=ve}return J(L.type,me,le)},Ae.createContext=function(L){return L={$$typeof:u,_currentValue:L,_currentValue2:L,_threadCount:0,Provider:null,Consumer:null},L.Provider=L,L.Consumer={$$typeof:a,_context:L},L},Ae.createElement=function(L,Y,se){var le,me={},Ee=null;if(Y!=null)for(le in Y.key!==void 0&&(Ee=""+Y.key),Y)q.call(Y,le)&&le!=="key"&&le!=="__self"&&le!=="__source"&&(me[le]=Y[le]);var ve=arguments.length-2;if(ve===1)me.children=se;else if(1<ve){for(var Ve=Array(ve),ze=0;ze<ve;ze++)Ve[ze]=arguments[ze+2];me.children=Ve}if(L&&L.defaultProps)for(le in ve=L.defaultProps,ve)me[le]===void 0&&(me[le]=ve[le]);return J(L,Ee,me)},Ae.createRef=function(){return{current:null}},Ae.forwardRef=function(L){return{$$typeof:c,render:L}},Ae.isValidElement=j,Ae.lazy=function(L){return{$$typeof:m,_payload:{_status:-1,_result:L},_init:ee}},Ae.memo=function(L,Y){return{$$typeof:d,type:L,compare:Y===void 0?null:Y}},Ae.startTransition=function(L){var Y=O.T,se={};O.T=se;try{var le=L(),me=O.S;me!==null&&me(se,le),typeof le=="object"&&le!==null&&typeof le.then=="function"&&le.then(k,ne)}catch(Ee){ne(Ee)}finally{Y!==null&&se.types!==null&&(Y.types=se.types),O.T=Y}},Ae.unstable_useCacheRefresh=function(){return O.H.useCacheRefresh()},Ae.use=function(L){return O.H.use(L)},Ae.useActionState=function(L,Y,se){return O.H.useActionState(L,Y,se)},Ae.useCallback=function(L,Y){return O.H.useCallback(L,Y)},Ae.useContext=function(L){return O.H.useContext(L)},Ae.useDebugValue=function(){},Ae.useDeferredValue=function(L,Y){return O.H.useDeferredValue(L,Y)},Ae.useEffect=function(L,Y){return O.H.useEffect(L,Y)},Ae.useEffectEvent=function(L){return O.H.useEffectEvent(L)},Ae.useId=function(){return O.H.useId()},Ae.useImperativeHandle=function(L,Y,se){return O.H.useImperativeHandle(L,Y,se)},Ae.useInsertionEffect=function(L,Y){return O.H.useInsertionEffect(L,Y)},Ae.useLayoutEffect=function(L,Y){return O.H.useLayoutEffect(L,Y)},Ae.useMemo=function(L,Y){return O.H.useMemo(L,Y)},Ae.useOptimistic=function(L,Y){return O.H.useOptimistic(L,Y)},Ae.useReducer=function(L,Y,se){return O.H.useReducer(L,Y,se)},Ae.useRef=function(L){return O.H.useRef(L)},Ae.useState=function(L){return O.H.useState(L)},Ae.useSyncExternalStore=function(L,Y,se){return O.H.useSyncExternalStore(L,Y,se)},Ae.useTransition=function(){return O.H.useTransition()},Ae.version="19.2.1",Ae}var Ab;function Hd(){return Ab||(Ab=1,$m.exports=OP()),$m.exports}var w=Hd();const et=hu(w),IA=NP({__proto__:null,default:et},[w]);var Fm={exports:{}},xl={},Vm={exports:{}},zm={};var xb;function PP(){return xb||(xb=1,(function(t){function e(H,Q){var ee=H.length;H.push(Q);e:for(;0<ee;){var ne=ee-1>>>1,ce=H[ne];if(0<r(ce,Q))H[ne]=Q,H[ee]=ce,ee=ne;else break e}}function n(H){return H.length===0?null:H[0]}function o(H){if(H.length===0)return null;var Q=H[0],ee=H.pop();if(ee!==Q){H[0]=ee;e:for(var ne=0,ce=H.length,L=ce>>>1;ne<L;){var Y=2*(ne+1)-1,se=H[Y],le=Y+1,me=H[le];if(0>r(se,ee))le<ce&&0>r(me,se)?(H[ne]=me,H[le]=ee,ne=le):(H[ne]=se,H[Y]=ee,ne=Y);else if(le<ce&&0>r(me,ee))H[ne]=me,H[le]=ee,ne=le;else break e}}return Q}function r(H,Q){var ee=H.sortIndex-Q.sortIndex;return ee!==0?ee:H.id-Q.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var u=Date,c=u.now();t.unstable_now=function(){return u.now()-c}}var p=[],d=[],m=1,y=null,S=3,E=!1,T=!1,C=!1,x=!1,M=typeof setTimeout=="function"?setTimeout:null,I=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;function D(H){for(var Q=n(d);Q!==null;){if(Q.callback===null)o(d);else if(Q.startTime<=H)o(d),Q.sortIndex=Q.expirationTime,e(p,Q);else break;Q=n(d)}}function U(H){if(C=!1,D(H),!T)if(n(p)!==null)T=!0,k||(k=!0,re());else{var Q=n(d);Q!==null&&de(U,Q.startTime-H)}}var k=!1,O=-1,q=5,J=-1;function X(){return x?!0:!(t.unstable_now()-J<q)}function j(){if(x=!1,k){var H=t.unstable_now();J=H;var Q=!0;try{e:{T=!1,C&&(C=!1,I(O),O=-1),E=!0;var ee=S;try{t:{for(D(H),y=n(p);y!==null&&!(y.expirationTime>H&&X());){var ne=y.callback;if(typeof ne=="function"){y.callback=null,S=y.priorityLevel;var ce=ne(y.expirationTime<=H);if(H=t.unstable_now(),typeof ce=="function"){y.callback=ce,D(H),Q=!0;break t}y===n(p)&&o(p),D(H)}else o(p);y=n(p)}if(y!==null)Q=!0;else{var L=n(d);L!==null&&de(U,L.startTime-H),Q=!1}}break e}finally{y=null,S=ee,E=!1}Q=void 0}}finally{Q?re():k=!1}}}var re;if(typeof N=="function")re=function(){N(j)};else if(typeof MessageChannel<"u"){var oe=new MessageChannel,ae=oe.port2;oe.port1.onmessage=j,re=function(){ae.postMessage(null)}}else re=function(){M(j,0)};function de(H,Q){O=M(function(){H(t.unstable_now())},Q)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(H){H.callback=null},t.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):q=0<H?Math.floor(1e3/H):5},t.unstable_getCurrentPriorityLevel=function(){return S},t.unstable_next=function(H){switch(S){case 1:case 2:case 3:var Q=3;break;default:Q=S}var ee=S;S=Q;try{return H()}finally{S=ee}},t.unstable_requestPaint=function(){x=!0},t.unstable_runWithPriority=function(H,Q){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var ee=S;S=H;try{return Q()}finally{S=ee}},t.unstable_scheduleCallback=function(H,Q,ee){var ne=t.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?ne+ee:ne):ee=ne,H){case 1:var ce=-1;break;case 2:ce=250;break;case 5:ce=1073741823;break;case 4:ce=1e4;break;default:ce=5e3}return ce=ee+ce,H={id:m++,callback:Q,priorityLevel:H,startTime:ee,expirationTime:ce,sortIndex:-1},ee>ne?(H.sortIndex=ee,e(d,H),n(p)===null&&H===n(d)&&(C?(I(O),O=-1):C=!0,de(U,ee-ne))):(H.sortIndex=ce,e(p,H),T||E||(T=!0,k||(k=!0,re()))),H},t.unstable_shouldYield=X,t.unstable_wrapCallback=function(H){var Q=S;return function(){var ee=S;S=Q;try{return H.apply(this,arguments)}finally{S=ee}}}})(zm)),zm}var Rb;function LP(){return Rb||(Rb=1,Vm.exports=PP()),Vm.exports}var qm={exports:{}},Dt={};var Mb;function UP(){if(Mb)return Dt;Mb=1;var t=Hd();function e(p){var d="https://react.dev/errors/"+p;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)d+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+p+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var o={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},r=Symbol.for("react.portal");function a(p,d,m){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:y==null?null:""+y,children:p,containerInfo:d,implementation:m}}var u=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(p,d){if(p==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return Dt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=o,Dt.createPortal=function(p,d){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(e(299));return a(p,d,null,m)},Dt.flushSync=function(p){var d=u.T,m=o.p;try{if(u.T=null,o.p=2,p)return p()}finally{u.T=d,o.p=m,o.d.f()}},Dt.preconnect=function(p,d){typeof p=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,o.d.C(p,d))},Dt.prefetchDNS=function(p){typeof p=="string"&&o.d.D(p)},Dt.preinit=function(p,d){if(typeof p=="string"&&d&&typeof d.as=="string"){var m=d.as,y=c(m,d.crossOrigin),S=typeof d.integrity=="string"?d.integrity:void 0,E=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;m==="style"?o.d.S(p,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:y,integrity:S,fetchPriority:E}):m==="script"&&o.d.X(p,{crossOrigin:y,integrity:S,fetchPriority:E,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},Dt.preinitModule=function(p,d){if(typeof p=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var m=c(d.as,d.crossOrigin);o.d.M(p,{crossOrigin:m,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&o.d.M(p)},Dt.preload=function(p,d){if(typeof p=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var m=d.as,y=c(m,d.crossOrigin);o.d.L(p,m,{crossOrigin:y,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},Dt.preloadModule=function(p,d){if(typeof p=="string")if(d){var m=c(d.as,d.crossOrigin);o.d.m(p,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:m,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else o.d.m(p)},Dt.requestFormReset=function(p){o.d.r(p)},Dt.unstable_batchedUpdates=function(p,d){return p(d)},Dt.useFormState=function(p,d,m){return u.H.useFormState(p,d,m)},Dt.useFormStatus=function(){return u.H.useHostTransitionStatus()},Dt.version="19.2.1",Dt}var Nb;function DA(){if(Nb)return qm.exports;Nb=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),qm.exports=UP(),qm.exports}var Ib;function kP(){if(Ib)return xl;Ib=1;var t=LP(),e=Hd(),n=DA();function o(i){var s="https://react.dev/errors/"+i;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)s+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+i+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function a(i){var s=i,l=i;if(i.alternate)for(;s.return;)s=s.return;else{i=s;do s=i,(s.flags&4098)!==0&&(l=s.return),i=s.return;while(i)}return s.tag===3?l:null}function u(i){if(i.tag===13){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function c(i){if(i.tag===31){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function p(i){if(a(i)!==i)throw Error(o(188))}function d(i){var s=i.alternate;if(!s){if(s=a(i),s===null)throw Error(o(188));return s!==i?null:i}for(var l=i,f=s;;){var v=l.return;if(v===null)break;var _=v.alternate;if(_===null){if(f=v.return,f!==null){l=f;continue}break}if(v.child===_.child){for(_=v.child;_;){if(_===l)return p(v),i;if(_===f)return p(v),s;_=_.sibling}throw Error(o(188))}if(l.return!==f.return)l=v,f=_;else{for(var b=!1,R=v.child;R;){if(R===l){b=!0,l=v,f=_;break}if(R===f){b=!0,f=v,l=_;break}R=R.sibling}if(!b){for(R=_.child;R;){if(R===l){b=!0,l=_,f=v;break}if(R===f){b=!0,f=_,l=v;break}R=R.sibling}if(!b)throw Error(o(189))}}if(l.alternate!==f)throw Error(o(190))}if(l.tag!==3)throw Error(o(188));return l.stateNode.current===l?i:s}function m(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i;for(i=i.child;i!==null;){if(s=m(i),s!==null)return s;i=i.sibling}return null}var y=Object.assign,S=Symbol.for("react.element"),E=Symbol.for("react.transitional.element"),T=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),x=Symbol.for("react.strict_mode"),M=Symbol.for("react.profiler"),I=Symbol.for("react.consumer"),N=Symbol.for("react.context"),D=Symbol.for("react.forward_ref"),U=Symbol.for("react.suspense"),k=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),q=Symbol.for("react.lazy"),J=Symbol.for("react.activity"),X=Symbol.for("react.memo_cache_sentinel"),j=Symbol.iterator;function re(i){return i===null||typeof i!="object"?null:(i=j&&i[j]||i["@@iterator"],typeof i=="function"?i:null)}var oe=Symbol.for("react.client.reference");function ae(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===oe?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case C:return"Fragment";case M:return"Profiler";case x:return"StrictMode";case U:return"Suspense";case k:return"SuspenseList";case J:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case T:return"Portal";case N:return i.displayName||"Context";case I:return(i._context.displayName||"Context")+".Consumer";case D:var s=i.render;return i=i.displayName,i||(i=s.displayName||s.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case O:return s=i.displayName||null,s!==null?s:ae(i.type)||"Memo";case q:s=i._payload,i=i._init;try{return ae(i(s))}catch{}}return null}var de=Array.isArray,H=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Q=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ee={pending:!1,data:null,method:null,action:null},ne=[],ce=-1;function L(i){return{current:i}}function Y(i){0>ce||(i.current=ne[ce],ne[ce]=null,ce--)}function se(i,s){ce++,ne[ce]=i.current,i.current=s}var le=L(null),me=L(null),Ee=L(null),ve=L(null);function Ve(i,s){switch(se(Ee,s),se(me,i),se(le,null),s.nodeType){case 9:case 11:i=(i=s.documentElement)&&(i=i.namespaceURI)?JE(i):0;break;default:if(i=s.tagName,s=s.namespaceURI)s=JE(s),i=KE(s,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}Y(le),se(le,i)}function ze(){Y(le),Y(me),Y(Ee)}function nn(i){i.memoizedState!==null&&se(ve,i);var s=le.current,l=KE(s,i.type);s!==l&&(se(me,i),se(le,l))}function bn(i){me.current===i&&(Y(le),Y(me)),ve.current===i&&(Y(ve),bl._currentValue=ee)}var fo,Vt;function zt(i){if(fo===void 0)try{throw Error()}catch(l){var s=l.stack.trim().match(/\n( *(at )?)/);fo=s&&s[1]||"",Vt=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+fo+i+Vt}var Qe=!1;function Po(i,s){if(!i||Qe)return"";Qe=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var f={DetermineComponentFrameRoot:function(){try{if(s){var te=function(){throw Error()};if(Object.defineProperty(te.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(te,[])}catch(K){var z=K}Reflect.construct(i,[],te)}else{try{te.call()}catch(K){z=K}i.call(te.prototype)}}else{try{throw Error()}catch(K){z=K}(te=i())&&typeof te.catch=="function"&&te.catch(function(){})}}catch(K){if(K&&z&&typeof K.stack=="string")return[K.stack,z.stack]}return[null,null]}};f.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var v=Object.getOwnPropertyDescriptor(f.DetermineComponentFrameRoot,"name");v&&v.configurable&&Object.defineProperty(f.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var _=f.DetermineComponentFrameRoot(),b=_[0],R=_[1];if(b&&R){var P=b.split(`
`),F=R.split(`
`);for(v=f=0;f<P.length&&!P[f].includes("DetermineComponentFrameRoot");)f++;for(;v<F.length&&!F[v].includes("DetermineComponentFrameRoot");)v++;if(f===P.length||v===F.length)for(f=P.length-1,v=F.length-1;1<=f&&0<=v&&P[f]!==F[v];)v--;for(;1<=f&&0<=v;f--,v--)if(P[f]!==F[v]){if(f!==1||v!==1)do if(f--,v--,0>v||P[f]!==F[v]){var W=`
`+P[f].replace(" at new "," at ");return i.displayName&&W.includes("<anonymous>")&&(W=W.replace("<anonymous>",i.displayName)),W}while(1<=f&&0<=v);break}}}finally{Qe=!1,Error.prepareStackTrace=l}return(l=i?i.displayName||i.name:"")?zt(l):""}function vi(i,s){switch(i.tag){case 26:case 27:case 5:return zt(i.type);case 16:return zt("Lazy");case 13:return i.child!==s&&s!==null?zt("Suspense Fallback"):zt("Suspense");case 19:return zt("SuspenseList");case 0:case 15:return Po(i.type,!1);case 11:return Po(i.type.render,!1);case 1:return Po(i.type,!0);case 31:return zt("Activity");default:return""}}function Fu(i){try{var s="",l=null;do s+=vi(i,l),l=i,i=i.return;while(i);return s}catch(f){return`
Error generating stack: `+f.message+`
`+f.stack}}var Ia=Object.prototype.hasOwnProperty,Jn=t.unstable_scheduleCallback,yi=t.unstable_cancelCallback,Vu=t.unstable_shouldYield,zu=t.unstable_requestPaint,wt=t.unstable_now,qu=t.unstable_getCurrentPriorityLevel,Da=t.unstable_ImmediatePriority,Oa=t.unstable_UserBlockingPriority,cr=t.unstable_NormalPriority,fO=t.unstable_LowPriority,A_=t.unstable_IdlePriority,dO=t.log,pO=t.unstable_setDisableYieldValue,Pa=null,on=null;function _i(i){if(typeof dO=="function"&&pO(i),on&&typeof on.setStrictMode=="function")try{on.setStrictMode(Pa,i)}catch{}}var rn=Math.clz32?Math.clz32:gO,hO=Math.log,mO=Math.LN2;function gO(i){return i>>>=0,i===0?32:31-(hO(i)/mO|0)|0}var Ju=256,Ku=262144,Yu=4194304;function fr(i){var s=i&42;if(s!==0)return s;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function Xu(i,s,l){var f=i.pendingLanes;if(f===0)return 0;var v=0,_=i.suspendedLanes,b=i.pingedLanes;i=i.warmLanes;var R=f&134217727;return R!==0?(f=R&~_,f!==0?v=fr(f):(b&=R,b!==0?v=fr(b):l||(l=R&~i,l!==0&&(v=fr(l))))):(R=f&~_,R!==0?v=fr(R):b!==0?v=fr(b):l||(l=f&~i,l!==0&&(v=fr(l)))),v===0?0:s!==0&&s!==v&&(s&_)===0&&(_=v&-v,l=s&-s,_>=l||_===32&&(l&4194048)!==0)?s:v}function La(i,s){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&s)===0}function vO(i,s){switch(i){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function x_(){var i=Yu;return Yu<<=1,(Yu&62914560)===0&&(Yu=4194304),i}function Rp(i){for(var s=[],l=0;31>l;l++)s.push(i);return s}function Ua(i,s){i.pendingLanes|=s,s!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function yO(i,s,l,f,v,_){var b=i.pendingLanes;i.pendingLanes=l,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=l,i.entangledLanes&=l,i.errorRecoveryDisabledLanes&=l,i.shellSuspendCounter=0;var R=i.entanglements,P=i.expirationTimes,F=i.hiddenUpdates;for(l=b&~l;0<l;){var W=31-rn(l),te=1<<W;R[W]=0,P[W]=-1;var z=F[W];if(z!==null)for(F[W]=null,W=0;W<z.length;W++){var K=z[W];K!==null&&(K.lane&=-536870913)}l&=~te}f!==0&&R_(i,f,0),_!==0&&v===0&&i.tag!==0&&(i.suspendedLanes|=_&~(b&~s))}function R_(i,s,l){i.pendingLanes|=s,i.suspendedLanes&=~s;var f=31-rn(s);i.entangledLanes|=s,i.entanglements[f]=i.entanglements[f]|1073741824|l&261930}function M_(i,s){var l=i.entangledLanes|=s;for(i=i.entanglements;l;){var f=31-rn(l),v=1<<f;v&s|i[f]&s&&(i[f]|=s),l&=~v}}function N_(i,s){var l=s&-s;return l=(l&42)!==0?1:Mp(l),(l&(i.suspendedLanes|s))!==0?0:l}function Mp(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function Np(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function I_(){var i=Q.p;return i!==0?i:(i=window.event,i===void 0?32:gb(i.type))}function D_(i,s){var l=Q.p;try{return Q.p=i,s()}finally{Q.p=l}}var Si=Math.random().toString(36).slice(2),Tt="__reactFiber$"+Si,qt="__reactProps$"+Si,ts="__reactContainer$"+Si,Ip="__reactEvents$"+Si,_O="__reactListeners$"+Si,SO="__reactHandles$"+Si,O_="__reactResources$"+Si,ka="__reactMarker$"+Si;function Dp(i){delete i[Tt],delete i[qt],delete i[Ip],delete i[_O],delete i[SO]}function ns(i){var s=i[Tt];if(s)return s;for(var l=i.parentNode;l;){if(s=l[ts]||l[Tt]){if(l=s.alternate,s.child!==null||l!==null&&l.child!==null)for(i=eb(i);i!==null;){if(l=i[Tt])return l;i=eb(i)}return s}i=l,l=i.parentNode}return null}function os(i){if(i=i[Tt]||i[ts]){var s=i.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return i}return null}function Ba(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i.stateNode;throw Error(o(33))}function is(i){var s=i[O_];return s||(s=i[O_]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function yt(i){i[ka]=!0}var P_=new Set,L_={};function dr(i,s){rs(i,s),rs(i+"Capture",s)}function rs(i,s){for(L_[i]=s,i=0;i<s.length;i++)P_.add(s[i])}var EO=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),U_={},k_={};function bO(i){return Ia.call(k_,i)?!0:Ia.call(U_,i)?!1:EO.test(i)?k_[i]=!0:(U_[i]=!0,!1)}function Wu(i,s,l){if(bO(s))if(l===null)i.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":i.removeAttribute(s);return;case"boolean":var f=s.toLowerCase().slice(0,5);if(f!=="data-"&&f!=="aria-"){i.removeAttribute(s);return}}i.setAttribute(s,""+l)}}function ju(i,s,l){if(l===null)i.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(s);return}i.setAttribute(s,""+l)}}function Lo(i,s,l,f){if(f===null)i.removeAttribute(l);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(l);return}i.setAttributeNS(s,l,""+f)}}function wn(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function B_(i){var s=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function wO(i,s,l){var f=Object.getOwnPropertyDescriptor(i.constructor.prototype,s);if(!i.hasOwnProperty(s)&&typeof f<"u"&&typeof f.get=="function"&&typeof f.set=="function"){var v=f.get,_=f.set;return Object.defineProperty(i,s,{configurable:!0,get:function(){return v.call(this)},set:function(b){l=""+b,_.call(this,b)}}),Object.defineProperty(i,s,{enumerable:f.enumerable}),{getValue:function(){return l},setValue:function(b){l=""+b},stopTracking:function(){i._valueTracker=null,delete i[s]}}}}function Op(i){if(!i._valueTracker){var s=B_(i)?"checked":"value";i._valueTracker=wO(i,s,""+i[s])}}function H_(i){if(!i)return!1;var s=i._valueTracker;if(!s)return!0;var l=s.getValue(),f="";return i&&(f=B_(i)?i.checked?"true":"false":i.value),i=f,i!==l?(s.setValue(i),!0):!1}function Qu(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var TO=/[\n"\\]/g;function Tn(i){return i.replace(TO,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Pp(i,s,l,f,v,_,b,R){i.name="",b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?i.type=b:i.removeAttribute("type"),s!=null?b==="number"?(s===0&&i.value===""||i.value!=s)&&(i.value=""+wn(s)):i.value!==""+wn(s)&&(i.value=""+wn(s)):b!=="submit"&&b!=="reset"||i.removeAttribute("value"),s!=null?Lp(i,b,wn(s)):l!=null?Lp(i,b,wn(l)):f!=null&&i.removeAttribute("value"),v==null&&_!=null&&(i.defaultChecked=!!_),v!=null&&(i.checked=v&&typeof v!="function"&&typeof v!="symbol"),R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"?i.name=""+wn(R):i.removeAttribute("name")}function G_(i,s,l,f,v,_,b,R){if(_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(i.type=_),s!=null||l!=null){if(!(_!=="submit"&&_!=="reset"||s!=null)){Op(i);return}l=l!=null?""+wn(l):"",s=s!=null?""+wn(s):l,R||s===i.value||(i.value=s),i.defaultValue=s}f=f??v,f=typeof f!="function"&&typeof f!="symbol"&&!!f,i.checked=R?i.checked:!!f,i.defaultChecked=!!f,b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(i.name=b),Op(i)}function Lp(i,s,l){s==="number"&&Qu(i.ownerDocument)===i||i.defaultValue===""+l||(i.defaultValue=""+l)}function ss(i,s,l,f){if(i=i.options,s){s={};for(var v=0;v<l.length;v++)s["$"+l[v]]=!0;for(l=0;l<i.length;l++)v=s.hasOwnProperty("$"+i[l].value),i[l].selected!==v&&(i[l].selected=v),v&&f&&(i[l].defaultSelected=!0)}else{for(l=""+wn(l),s=null,v=0;v<i.length;v++){if(i[v].value===l){i[v].selected=!0,f&&(i[v].defaultSelected=!0);return}s!==null||i[v].disabled||(s=i[v])}s!==null&&(s.selected=!0)}}function $_(i,s,l){if(s!=null&&(s=""+wn(s),s!==i.value&&(i.value=s),l==null)){i.defaultValue!==s&&(i.defaultValue=s);return}i.defaultValue=l!=null?""+wn(l):""}function F_(i,s,l,f){if(s==null){if(f!=null){if(l!=null)throw Error(o(92));if(de(f)){if(1<f.length)throw Error(o(93));f=f[0]}l=f}l==null&&(l=""),s=l}l=wn(s),i.defaultValue=l,f=i.textContent,f===l&&f!==""&&f!==null&&(i.value=f),Op(i)}function as(i,s){if(s){var l=i.firstChild;if(l&&l===i.lastChild&&l.nodeType===3){l.nodeValue=s;return}}i.textContent=s}var CO=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function V_(i,s,l){var f=s.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?f?i.setProperty(s,""):s==="float"?i.cssFloat="":i[s]="":f?i.setProperty(s,l):typeof l!="number"||l===0||CO.has(s)?s==="float"?i.cssFloat=l:i[s]=(""+l).trim():i[s]=l+"px"}function z_(i,s,l){if(s!=null&&typeof s!="object")throw Error(o(62));if(i=i.style,l!=null){for(var f in l)!l.hasOwnProperty(f)||s!=null&&s.hasOwnProperty(f)||(f.indexOf("--")===0?i.setProperty(f,""):f==="float"?i.cssFloat="":i[f]="");for(var v in s)f=s[v],s.hasOwnProperty(v)&&l[v]!==f&&V_(i,v,f)}else for(var _ in s)s.hasOwnProperty(_)&&V_(i,_,s[_])}function Up(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var AO=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),xO=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Zu(i){return xO.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function Uo(){}var kp=null;function Bp(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var ls=null,us=null;function q_(i){var s=os(i);if(s&&(i=s.stateNode)){var l=i[qt]||null;e:switch(i=s.stateNode,s.type){case"input":if(Pp(i,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),s=l.name,l.type==="radio"&&s!=null){for(l=i;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+Tn(""+s)+'"][type="radio"]'),s=0;s<l.length;s++){var f=l[s];if(f!==i&&f.form===i.form){var v=f[qt]||null;if(!v)throw Error(o(90));Pp(f,v.value,v.defaultValue,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name)}}for(s=0;s<l.length;s++)f=l[s],f.form===i.form&&H_(f)}break e;case"textarea":$_(i,l.value,l.defaultValue);break e;case"select":s=l.value,s!=null&&ss(i,!!l.multiple,s,!1)}}}var Hp=!1;function J_(i,s,l){if(Hp)return i(s,l);Hp=!0;try{var f=i(s);return f}finally{if(Hp=!1,(ls!==null||us!==null)&&(Gc(),ls&&(s=ls,i=us,us=ls=null,q_(s),i)))for(s=0;s<i.length;s++)q_(i[s])}}function Ha(i,s){var l=i.stateNode;if(l===null)return null;var f=l[qt]||null;if(f===null)return null;l=f[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(i=i.type,f=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!f;break e;default:i=!1}if(i)return null;if(l&&typeof l!="function")throw Error(o(231,s,typeof l));return l}var ko=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Gp=!1;if(ko)try{var Ga={};Object.defineProperty(Ga,"passive",{get:function(){Gp=!0}}),window.addEventListener("test",Ga,Ga),window.removeEventListener("test",Ga,Ga)}catch{Gp=!1}var Ei=null,$p=null,ec=null;function K_(){if(ec)return ec;var i,s=$p,l=s.length,f,v="value"in Ei?Ei.value:Ei.textContent,_=v.length;for(i=0;i<l&&s[i]===v[i];i++);var b=l-i;for(f=1;f<=b&&s[l-f]===v[_-f];f++);return ec=v.slice(i,1<f?1-f:void 0)}function tc(i){var s=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&s===13&&(i=13)):i=s,i===10&&(i=13),32<=i||i===13?i:0}function nc(){return!0}function Y_(){return!1}function Jt(i){function s(l,f,v,_,b){this._reactName=l,this._targetInst=v,this.type=f,this.nativeEvent=_,this.target=b,this.currentTarget=null;for(var R in i)i.hasOwnProperty(R)&&(l=i[R],this[R]=l?l(_):_[R]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?nc:Y_,this.isPropagationStopped=Y_,this}return y(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=nc)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=nc)},persist:function(){},isPersistent:nc}),s}var pr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},oc=Jt(pr),$a=y({},pr,{view:0,detail:0}),RO=Jt($a),Fp,Vp,Fa,ic=y({},$a,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:qp,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Fa&&(Fa&&i.type==="mousemove"?(Fp=i.screenX-Fa.screenX,Vp=i.screenY-Fa.screenY):Vp=Fp=0,Fa=i),Fp)},movementY:function(i){return"movementY"in i?i.movementY:Vp}}),X_=Jt(ic),MO=y({},ic,{dataTransfer:0}),NO=Jt(MO),IO=y({},$a,{relatedTarget:0}),zp=Jt(IO),DO=y({},pr,{animationName:0,elapsedTime:0,pseudoElement:0}),OO=Jt(DO),PO=y({},pr,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),LO=Jt(PO),UO=y({},pr,{data:0}),W_=Jt(UO),kO={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},BO={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},HO={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function GO(i){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(i):(i=HO[i])?!!s[i]:!1}function qp(){return GO}var $O=y({},$a,{key:function(i){if(i.key){var s=kO[i.key]||i.key;if(s!=="Unidentified")return s}return i.type==="keypress"?(i=tc(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?BO[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:qp,charCode:function(i){return i.type==="keypress"?tc(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?tc(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),FO=Jt($O),VO=y({},ic,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),j_=Jt(VO),zO=y({},$a,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:qp}),qO=Jt(zO),JO=y({},pr,{propertyName:0,elapsedTime:0,pseudoElement:0}),KO=Jt(JO),YO=y({},ic,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),XO=Jt(YO),WO=y({},pr,{newState:0,oldState:0}),jO=Jt(WO),QO=[9,13,27,32],Jp=ko&&"CompositionEvent"in window,Va=null;ko&&"documentMode"in document&&(Va=document.documentMode);var ZO=ko&&"TextEvent"in window&&!Va,Q_=ko&&(!Jp||Va&&8<Va&&11>=Va),Z_=" ",e0=!1;function t0(i,s){switch(i){case"keyup":return QO.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function n0(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var cs=!1;function e1(i,s){switch(i){case"compositionend":return n0(s);case"keypress":return s.which!==32?null:(e0=!0,Z_);case"textInput":return i=s.data,i===Z_&&e0?null:i;default:return null}}function t1(i,s){if(cs)return i==="compositionend"||!Jp&&t0(i,s)?(i=K_(),ec=$p=Ei=null,cs=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Q_&&s.locale!=="ko"?null:s.data;default:return null}}var n1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function o0(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s==="input"?!!n1[i.type]:s==="textarea"}function i0(i,s,l,f){ls?us?us.push(f):us=[f]:ls=f,s=Kc(s,"onChange"),0<s.length&&(l=new oc("onChange","change",null,l,f),i.push({event:l,listeners:s}))}var za=null,qa=null;function o1(i){GE(i,0)}function rc(i){var s=Ba(i);if(H_(s))return i}function r0(i,s){if(i==="change")return s}var s0=!1;if(ko){var Kp;if(ko){var Yp="oninput"in document;if(!Yp){var a0=document.createElement("div");a0.setAttribute("oninput","return;"),Yp=typeof a0.oninput=="function"}Kp=Yp}else Kp=!1;s0=Kp&&(!document.documentMode||9<document.documentMode)}function l0(){za&&(za.detachEvent("onpropertychange",u0),qa=za=null)}function u0(i){if(i.propertyName==="value"&&rc(qa)){var s=[];i0(s,qa,i,Bp(i)),J_(o1,s)}}function i1(i,s,l){i==="focusin"?(l0(),za=s,qa=l,za.attachEvent("onpropertychange",u0)):i==="focusout"&&l0()}function r1(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return rc(qa)}function s1(i,s){if(i==="click")return rc(s)}function a1(i,s){if(i==="input"||i==="change")return rc(s)}function l1(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var sn=typeof Object.is=="function"?Object.is:l1;function Ja(i,s){if(sn(i,s))return!0;if(typeof i!="object"||i===null||typeof s!="object"||s===null)return!1;var l=Object.keys(i),f=Object.keys(s);if(l.length!==f.length)return!1;for(f=0;f<l.length;f++){var v=l[f];if(!Ia.call(s,v)||!sn(i[v],s[v]))return!1}return!0}function c0(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function f0(i,s){var l=c0(i);i=0;for(var f;l;){if(l.nodeType===3){if(f=i+l.textContent.length,i<=s&&f>=s)return{node:l,offset:s-i};i=f}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=c0(l)}}function d0(i,s){return i&&s?i===s?!0:i&&i.nodeType===3?!1:s&&s.nodeType===3?d0(i,s.parentNode):"contains"in i?i.contains(s):i.compareDocumentPosition?!!(i.compareDocumentPosition(s)&16):!1:!1}function p0(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var s=Qu(i.document);s instanceof i.HTMLIFrameElement;){try{var l=typeof s.contentWindow.location.href=="string"}catch{l=!1}if(l)i=s.contentWindow;else break;s=Qu(i.document)}return s}function Xp(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s&&(s==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||s==="textarea"||i.contentEditable==="true")}var u1=ko&&"documentMode"in document&&11>=document.documentMode,fs=null,Wp=null,Ka=null,jp=!1;function h0(i,s,l){var f=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;jp||fs==null||fs!==Qu(f)||(f=fs,"selectionStart"in f&&Xp(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),Ka&&Ja(Ka,f)||(Ka=f,f=Kc(Wp,"onSelect"),0<f.length&&(s=new oc("onSelect","select",null,s,l),i.push({event:s,listeners:f}),s.target=fs)))}function hr(i,s){var l={};return l[i.toLowerCase()]=s.toLowerCase(),l["Webkit"+i]="webkit"+s,l["Moz"+i]="moz"+s,l}var ds={animationend:hr("Animation","AnimationEnd"),animationiteration:hr("Animation","AnimationIteration"),animationstart:hr("Animation","AnimationStart"),transitionrun:hr("Transition","TransitionRun"),transitionstart:hr("Transition","TransitionStart"),transitioncancel:hr("Transition","TransitionCancel"),transitionend:hr("Transition","TransitionEnd")},Qp={},m0={};ko&&(m0=document.createElement("div").style,"AnimationEvent"in window||(delete ds.animationend.animation,delete ds.animationiteration.animation,delete ds.animationstart.animation),"TransitionEvent"in window||delete ds.transitionend.transition);function mr(i){if(Qp[i])return Qp[i];if(!ds[i])return i;var s=ds[i],l;for(l in s)if(s.hasOwnProperty(l)&&l in m0)return Qp[i]=s[l];return i}var g0=mr("animationend"),v0=mr("animationiteration"),y0=mr("animationstart"),c1=mr("transitionrun"),f1=mr("transitionstart"),d1=mr("transitioncancel"),_0=mr("transitionend"),S0=new Map,Zp="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Zp.push("scrollEnd");function Kn(i,s){S0.set(i,s),dr(s,[i])}var sc=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},Cn=[],ps=0,eh=0;function ac(){for(var i=ps,s=eh=ps=0;s<i;){var l=Cn[s];Cn[s++]=null;var f=Cn[s];Cn[s++]=null;var v=Cn[s];Cn[s++]=null;var _=Cn[s];if(Cn[s++]=null,f!==null&&v!==null){var b=f.pending;b===null?v.next=v:(v.next=b.next,b.next=v),f.pending=v}_!==0&&E0(l,v,_)}}function lc(i,s,l,f){Cn[ps++]=i,Cn[ps++]=s,Cn[ps++]=l,Cn[ps++]=f,eh|=f,i.lanes|=f,i=i.alternate,i!==null&&(i.lanes|=f)}function th(i,s,l,f){return lc(i,s,l,f),uc(i)}function gr(i,s){return lc(i,null,null,s),uc(i)}function E0(i,s,l){i.lanes|=l;var f=i.alternate;f!==null&&(f.lanes|=l);for(var v=!1,_=i.return;_!==null;)_.childLanes|=l,f=_.alternate,f!==null&&(f.childLanes|=l),_.tag===22&&(i=_.stateNode,i===null||i._visibility&1||(v=!0)),i=_,_=_.return;return i.tag===3?(_=i.stateNode,v&&s!==null&&(v=31-rn(l),i=_.hiddenUpdates,f=i[v],f===null?i[v]=[s]:f.push(s),s.lane=l|536870912),_):null}function uc(i){if(50<ml)throw ml=0,cm=null,Error(o(185));for(var s=i.return;s!==null;)i=s,s=i.return;return i.tag===3?i.stateNode:null}var hs={};function p1(i,s,l,f){this.tag=i,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function an(i,s,l,f){return new p1(i,s,l,f)}function nh(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Bo(i,s){var l=i.alternate;return l===null?(l=an(i.tag,s,i.key,i.mode),l.elementType=i.elementType,l.type=i.type,l.stateNode=i.stateNode,l.alternate=i,i.alternate=l):(l.pendingProps=s,l.type=i.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=i.flags&65011712,l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,s=i.dependencies,l.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},l.sibling=i.sibling,l.index=i.index,l.ref=i.ref,l.refCleanup=i.refCleanup,l}function b0(i,s){i.flags&=65011714;var l=i.alternate;return l===null?(i.childLanes=0,i.lanes=s,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,s=l.dependencies,i.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),i}function cc(i,s,l,f,v,_){var b=0;if(f=i,typeof i=="function")nh(i)&&(b=1);else if(typeof i=="string")b=yP(i,l,le.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case J:return i=an(31,l,s,v),i.elementType=J,i.lanes=_,i;case C:return vr(l.children,v,_,s);case x:b=8,v|=24;break;case M:return i=an(12,l,s,v|2),i.elementType=M,i.lanes=_,i;case U:return i=an(13,l,s,v),i.elementType=U,i.lanes=_,i;case k:return i=an(19,l,s,v),i.elementType=k,i.lanes=_,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case N:b=10;break e;case I:b=9;break e;case D:b=11;break e;case O:b=14;break e;case q:b=16,f=null;break e}b=29,l=Error(o(130,i===null?"null":typeof i,"")),f=null}return s=an(b,l,s,v),s.elementType=i,s.type=f,s.lanes=_,s}function vr(i,s,l,f){return i=an(7,i,f,s),i.lanes=l,i}function oh(i,s,l){return i=an(6,i,null,s),i.lanes=l,i}function w0(i){var s=an(18,null,null,0);return s.stateNode=i,s}function ih(i,s,l){return s=an(4,i.children!==null?i.children:[],i.key,s),s.lanes=l,s.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},s}var T0=new WeakMap;function An(i,s){if(typeof i=="object"&&i!==null){var l=T0.get(i);return l!==void 0?l:(s={value:i,source:s,stack:Fu(s)},T0.set(i,s),s)}return{value:i,source:s,stack:Fu(s)}}var ms=[],gs=0,fc=null,Ya=0,xn=[],Rn=0,bi=null,po=1,ho="";function Ho(i,s){ms[gs++]=Ya,ms[gs++]=fc,fc=i,Ya=s}function C0(i,s,l){xn[Rn++]=po,xn[Rn++]=ho,xn[Rn++]=bi,bi=i;var f=po;i=ho;var v=32-rn(f)-1;f&=~(1<<v),l+=1;var _=32-rn(s)+v;if(30<_){var b=v-v%5;_=(f&(1<<b)-1).toString(32),f>>=b,v-=b,po=1<<32-rn(s)+v|l<<v|f,ho=_+i}else po=1<<_|l<<v|f,ho=i}function rh(i){i.return!==null&&(Ho(i,1),C0(i,1,0))}function sh(i){for(;i===fc;)fc=ms[--gs],ms[gs]=null,Ya=ms[--gs],ms[gs]=null;for(;i===bi;)bi=xn[--Rn],xn[Rn]=null,ho=xn[--Rn],xn[Rn]=null,po=xn[--Rn],xn[Rn]=null}function A0(i,s){xn[Rn++]=po,xn[Rn++]=ho,xn[Rn++]=bi,po=s.id,ho=s.overflow,bi=i}var Ct=null,nt=null,Le=!1,wi=null,Mn=!1,ah=Error(o(519));function Ti(i){var s=Error(o(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Xa(An(s,i)),ah}function x0(i){var s=i.stateNode,l=i.type,f=i.memoizedProps;switch(s[Tt]=i,s[qt]=f,l){case"dialog":De("cancel",s),De("close",s);break;case"iframe":case"object":case"embed":De("load",s);break;case"video":case"audio":for(l=0;l<vl.length;l++)De(vl[l],s);break;case"source":De("error",s);break;case"img":case"image":case"link":De("error",s),De("load",s);break;case"details":De("toggle",s);break;case"input":De("invalid",s),G_(s,f.value,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name,!0);break;case"select":De("invalid",s);break;case"textarea":De("invalid",s),F_(s,f.value,f.defaultValue,f.children)}l=f.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||s.textContent===""+l||f.suppressHydrationWarning===!0||zE(s.textContent,l)?(f.popover!=null&&(De("beforetoggle",s),De("toggle",s)),f.onScroll!=null&&De("scroll",s),f.onScrollEnd!=null&&De("scrollend",s),f.onClick!=null&&(s.onclick=Uo),s=!0):s=!1,s||Ti(i,!0)}function R0(i){for(Ct=i.return;Ct;)switch(Ct.tag){case 5:case 31:case 13:Mn=!1;return;case 27:case 3:Mn=!0;return;default:Ct=Ct.return}}function vs(i){if(i!==Ct)return!1;if(!Le)return R0(i),Le=!0,!1;var s=i.tag,l;if((l=s!==3&&s!==27)&&((l=s===5)&&(l=i.type,l=!(l!=="form"&&l!=="button")||Cm(i.type,i.memoizedProps)),l=!l),l&&nt&&Ti(i),R0(i),s===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(o(317));nt=ZE(i)}else if(s===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(o(317));nt=ZE(i)}else s===27?(s=nt,Bi(i.type)?(i=Nm,Nm=null,nt=i):nt=s):nt=Ct?In(i.stateNode.nextSibling):null;return!0}function yr(){nt=Ct=null,Le=!1}function lh(){var i=wi;return i!==null&&(Wt===null?Wt=i:Wt.push.apply(Wt,i),wi=null),i}function Xa(i){wi===null?wi=[i]:wi.push(i)}var uh=L(null),_r=null,Go=null;function Ci(i,s,l){se(uh,s._currentValue),s._currentValue=l}function $o(i){i._currentValue=uh.current,Y(uh)}function ch(i,s,l){for(;i!==null;){var f=i.alternate;if((i.childLanes&s)!==s?(i.childLanes|=s,f!==null&&(f.childLanes|=s)):f!==null&&(f.childLanes&s)!==s&&(f.childLanes|=s),i===l)break;i=i.return}}function fh(i,s,l,f){var v=i.child;for(v!==null&&(v.return=i);v!==null;){var _=v.dependencies;if(_!==null){var b=v.child;_=_.firstContext;e:for(;_!==null;){var R=_;_=v;for(var P=0;P<s.length;P++)if(R.context===s[P]){_.lanes|=l,R=_.alternate,R!==null&&(R.lanes|=l),ch(_.return,l,i),f||(b=null);break e}_=R.next}}else if(v.tag===18){if(b=v.return,b===null)throw Error(o(341));b.lanes|=l,_=b.alternate,_!==null&&(_.lanes|=l),ch(b,l,i),b=null}else b=v.child;if(b!==null)b.return=v;else for(b=v;b!==null;){if(b===i){b=null;break}if(v=b.sibling,v!==null){v.return=b.return,b=v;break}b=b.return}v=b}}function ys(i,s,l,f){i=null;for(var v=s,_=!1;v!==null;){if(!_){if((v.flags&524288)!==0)_=!0;else if((v.flags&262144)!==0)break}if(v.tag===10){var b=v.alternate;if(b===null)throw Error(o(387));if(b=b.memoizedProps,b!==null){var R=v.type;sn(v.pendingProps.value,b.value)||(i!==null?i.push(R):i=[R])}}else if(v===ve.current){if(b=v.alternate,b===null)throw Error(o(387));b.memoizedState.memoizedState!==v.memoizedState.memoizedState&&(i!==null?i.push(bl):i=[bl])}v=v.return}i!==null&&fh(s,i,l,f),s.flags|=262144}function dc(i){for(i=i.firstContext;i!==null;){if(!sn(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Sr(i){_r=i,Go=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function At(i){return M0(_r,i)}function pc(i,s){return _r===null&&Sr(i),M0(i,s)}function M0(i,s){var l=s._currentValue;if(s={context:s,memoizedValue:l,next:null},Go===null){if(i===null)throw Error(o(308));Go=s,i.dependencies={lanes:0,firstContext:s},i.flags|=524288}else Go=Go.next=s;return l}var h1=typeof AbortController<"u"?AbortController:function(){var i=[],s=this.signal={aborted:!1,addEventListener:function(l,f){i.push(f)}};this.abort=function(){s.aborted=!0,i.forEach(function(l){return l()})}},m1=t.unstable_scheduleCallback,g1=t.unstable_NormalPriority,ct={$$typeof:N,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function dh(){return{controller:new h1,data:new Map,refCount:0}}function Wa(i){i.refCount--,i.refCount===0&&m1(g1,function(){i.controller.abort()})}var ja=null,ph=0,_s=0,Ss=null;function v1(i,s){if(ja===null){var l=ja=[];ph=0,_s=gm(),Ss={status:"pending",value:void 0,then:function(f){l.push(f)}}}return ph++,s.then(N0,N0),s}function N0(){if(--ph===0&&ja!==null){Ss!==null&&(Ss.status="fulfilled");var i=ja;ja=null,_s=0,Ss=null;for(var s=0;s<i.length;s++)(0,i[s])()}}function y1(i,s){var l=[],f={status:"pending",value:null,reason:null,then:function(v){l.push(v)}};return i.then(function(){f.status="fulfilled",f.value=s;for(var v=0;v<l.length;v++)(0,l[v])(s)},function(v){for(f.status="rejected",f.reason=v,v=0;v<l.length;v++)(0,l[v])(void 0)}),f}var I0=H.S;H.S=function(i,s){hE=wt(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&v1(i,s),I0!==null&&I0(i,s)};var Er=L(null);function hh(){var i=Er.current;return i!==null?i:Ze.pooledCache}function hc(i,s){s===null?se(Er,Er.current):se(Er,s.pool)}function D0(){var i=hh();return i===null?null:{parent:ct._currentValue,pool:i}}var Es=Error(o(460)),mh=Error(o(474)),mc=Error(o(542)),gc={then:function(){}};function O0(i){return i=i.status,i==="fulfilled"||i==="rejected"}function P0(i,s,l){switch(l=i[l],l===void 0?i.push(s):l!==s&&(s.then(Uo,Uo),s=l),s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,U0(i),i;default:if(typeof s.status=="string")s.then(Uo,Uo);else{if(i=Ze,i!==null&&100<i.shellSuspendCounter)throw Error(o(482));i=s,i.status="pending",i.then(function(f){if(s.status==="pending"){var v=s;v.status="fulfilled",v.value=f}},function(f){if(s.status==="pending"){var v=s;v.status="rejected",v.reason=f}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,U0(i),i}throw wr=s,Es}}function br(i){try{var s=i._init;return s(i._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(wr=l,Es):l}}var wr=null;function L0(){if(wr===null)throw Error(o(459));var i=wr;return wr=null,i}function U0(i){if(i===Es||i===mc)throw Error(o(483))}var bs=null,Qa=0;function vc(i){var s=Qa;return Qa+=1,bs===null&&(bs=[]),P0(bs,i,s)}function Za(i,s){s=s.props.ref,i.ref=s!==void 0?s:null}function yc(i,s){throw s.$$typeof===S?Error(o(525)):(i=Object.prototype.toString.call(s),Error(o(31,i==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":i)))}function k0(i){function s(G,B){if(i){var $=G.deletions;$===null?(G.deletions=[B],G.flags|=16):$.push(B)}}function l(G,B){if(!i)return null;for(;B!==null;)s(G,B),B=B.sibling;return null}function f(G){for(var B=new Map;G!==null;)G.key!==null?B.set(G.key,G):B.set(G.index,G),G=G.sibling;return B}function v(G,B){return G=Bo(G,B),G.index=0,G.sibling=null,G}function _(G,B,$){return G.index=$,i?($=G.alternate,$!==null?($=$.index,$<B?(G.flags|=67108866,B):$):(G.flags|=67108866,B)):(G.flags|=1048576,B)}function b(G){return i&&G.alternate===null&&(G.flags|=67108866),G}function R(G,B,$,Z){return B===null||B.tag!==6?(B=oh($,G.mode,Z),B.return=G,B):(B=v(B,$),B.return=G,B)}function P(G,B,$,Z){var _e=$.type;return _e===C?W(G,B,$.props.children,Z,$.key):B!==null&&(B.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===q&&br(_e)===B.type)?(B=v(B,$.props),Za(B,$),B.return=G,B):(B=cc($.type,$.key,$.props,null,G.mode,Z),Za(B,$),B.return=G,B)}function F(G,B,$,Z){return B===null||B.tag!==4||B.stateNode.containerInfo!==$.containerInfo||B.stateNode.implementation!==$.implementation?(B=ih($,G.mode,Z),B.return=G,B):(B=v(B,$.children||[]),B.return=G,B)}function W(G,B,$,Z,_e){return B===null||B.tag!==7?(B=vr($,G.mode,Z,_e),B.return=G,B):(B=v(B,$),B.return=G,B)}function te(G,B,$){if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return B=oh(""+B,G.mode,$),B.return=G,B;if(typeof B=="object"&&B!==null){switch(B.$$typeof){case E:return $=cc(B.type,B.key,B.props,null,G.mode,$),Za($,B),$.return=G,$;case T:return B=ih(B,G.mode,$),B.return=G,B;case q:return B=br(B),te(G,B,$)}if(de(B)||re(B))return B=vr(B,G.mode,$,null),B.return=G,B;if(typeof B.then=="function")return te(G,vc(B),$);if(B.$$typeof===N)return te(G,pc(G,B),$);yc(G,B)}return null}function z(G,B,$,Z){var _e=B!==null?B.key:null;if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return _e!==null?null:R(G,B,""+$,Z);if(typeof $=="object"&&$!==null){switch($.$$typeof){case E:return $.key===_e?P(G,B,$,Z):null;case T:return $.key===_e?F(G,B,$,Z):null;case q:return $=br($),z(G,B,$,Z)}if(de($)||re($))return _e!==null?null:W(G,B,$,Z,null);if(typeof $.then=="function")return z(G,B,vc($),Z);if($.$$typeof===N)return z(G,B,pc(G,$),Z);yc(G,$)}return null}function K(G,B,$,Z,_e){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return G=G.get($)||null,R(B,G,""+Z,_e);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case E:return G=G.get(Z.key===null?$:Z.key)||null,P(B,G,Z,_e);case T:return G=G.get(Z.key===null?$:Z.key)||null,F(B,G,Z,_e);case q:return Z=br(Z),K(G,B,$,Z,_e)}if(de(Z)||re(Z))return G=G.get($)||null,W(B,G,Z,_e,null);if(typeof Z.then=="function")return K(G,B,$,vc(Z),_e);if(Z.$$typeof===N)return K(G,B,$,pc(B,Z),_e);yc(B,Z)}return null}function pe(G,B,$,Z){for(var _e=null,He=null,ge=B,Re=B=0,Pe=null;ge!==null&&Re<$.length;Re++){ge.index>Re?(Pe=ge,ge=null):Pe=ge.sibling;var Ge=z(G,ge,$[Re],Z);if(Ge===null){ge===null&&(ge=Pe);break}i&&ge&&Ge.alternate===null&&s(G,ge),B=_(Ge,B,Re),He===null?_e=Ge:He.sibling=Ge,He=Ge,ge=Pe}if(Re===$.length)return l(G,ge),Le&&Ho(G,Re),_e;if(ge===null){for(;Re<$.length;Re++)ge=te(G,$[Re],Z),ge!==null&&(B=_(ge,B,Re),He===null?_e=ge:He.sibling=ge,He=ge);return Le&&Ho(G,Re),_e}for(ge=f(ge);Re<$.length;Re++)Pe=K(ge,G,Re,$[Re],Z),Pe!==null&&(i&&Pe.alternate!==null&&ge.delete(Pe.key===null?Re:Pe.key),B=_(Pe,B,Re),He===null?_e=Pe:He.sibling=Pe,He=Pe);return i&&ge.forEach(function(Vi){return s(G,Vi)}),Le&&Ho(G,Re),_e}function be(G,B,$,Z){if($==null)throw Error(o(151));for(var _e=null,He=null,ge=B,Re=B=0,Pe=null,Ge=$.next();ge!==null&&!Ge.done;Re++,Ge=$.next()){ge.index>Re?(Pe=ge,ge=null):Pe=ge.sibling;var Vi=z(G,ge,Ge.value,Z);if(Vi===null){ge===null&&(ge=Pe);break}i&&ge&&Vi.alternate===null&&s(G,ge),B=_(Vi,B,Re),He===null?_e=Vi:He.sibling=Vi,He=Vi,ge=Pe}if(Ge.done)return l(G,ge),Le&&Ho(G,Re),_e;if(ge===null){for(;!Ge.done;Re++,Ge=$.next())Ge=te(G,Ge.value,Z),Ge!==null&&(B=_(Ge,B,Re),He===null?_e=Ge:He.sibling=Ge,He=Ge);return Le&&Ho(G,Re),_e}for(ge=f(ge);!Ge.done;Re++,Ge=$.next())Ge=K(ge,G,Re,Ge.value,Z),Ge!==null&&(i&&Ge.alternate!==null&&ge.delete(Ge.key===null?Re:Ge.key),B=_(Ge,B,Re),He===null?_e=Ge:He.sibling=Ge,He=Ge);return i&&ge.forEach(function(MP){return s(G,MP)}),Le&&Ho(G,Re),_e}function je(G,B,$,Z){if(typeof $=="object"&&$!==null&&$.type===C&&$.key===null&&($=$.props.children),typeof $=="object"&&$!==null){switch($.$$typeof){case E:e:{for(var _e=$.key;B!==null;){if(B.key===_e){if(_e=$.type,_e===C){if(B.tag===7){l(G,B.sibling),Z=v(B,$.props.children),Z.return=G,G=Z;break e}}else if(B.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===q&&br(_e)===B.type){l(G,B.sibling),Z=v(B,$.props),Za(Z,$),Z.return=G,G=Z;break e}l(G,B);break}else s(G,B);B=B.sibling}$.type===C?(Z=vr($.props.children,G.mode,Z,$.key),Z.return=G,G=Z):(Z=cc($.type,$.key,$.props,null,G.mode,Z),Za(Z,$),Z.return=G,G=Z)}return b(G);case T:e:{for(_e=$.key;B!==null;){if(B.key===_e)if(B.tag===4&&B.stateNode.containerInfo===$.containerInfo&&B.stateNode.implementation===$.implementation){l(G,B.sibling),Z=v(B,$.children||[]),Z.return=G,G=Z;break e}else{l(G,B);break}else s(G,B);B=B.sibling}Z=ih($,G.mode,Z),Z.return=G,G=Z}return b(G);case q:return $=br($),je(G,B,$,Z)}if(de($))return pe(G,B,$,Z);if(re($)){if(_e=re($),typeof _e!="function")throw Error(o(150));return $=_e.call($),be(G,B,$,Z)}if(typeof $.then=="function")return je(G,B,vc($),Z);if($.$$typeof===N)return je(G,B,pc(G,$),Z);yc(G,$)}return typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint"?($=""+$,B!==null&&B.tag===6?(l(G,B.sibling),Z=v(B,$),Z.return=G,G=Z):(l(G,B),Z=oh($,G.mode,Z),Z.return=G,G=Z),b(G)):l(G,B)}return function(G,B,$,Z){try{Qa=0;var _e=je(G,B,$,Z);return bs=null,_e}catch(ge){if(ge===Es||ge===mc)throw ge;var He=an(29,ge,null,G.mode);return He.lanes=Z,He.return=G,He}finally{}}}var Tr=k0(!0),B0=k0(!1),Ai=!1;function gh(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function vh(i,s){i=i.updateQueue,s.updateQueue===i&&(s.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function xi(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function Ri(i,s,l){var f=i.updateQueue;if(f===null)return null;if(f=f.shared,(qe&2)!==0){var v=f.pending;return v===null?s.next=s:(s.next=v.next,v.next=s),f.pending=s,s=uc(i),E0(i,null,l),s}return lc(i,f,s,l),uc(i)}function el(i,s,l){if(s=s.updateQueue,s!==null&&(s=s.shared,(l&4194048)!==0)){var f=s.lanes;f&=i.pendingLanes,l|=f,s.lanes=l,M_(i,l)}}function yh(i,s){var l=i.updateQueue,f=i.alternate;if(f!==null&&(f=f.updateQueue,l===f)){var v=null,_=null;if(l=l.firstBaseUpdate,l!==null){do{var b={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};_===null?v=_=b:_=_.next=b,l=l.next}while(l!==null);_===null?v=_=s:_=_.next=s}else v=_=s;l={baseState:f.baseState,firstBaseUpdate:v,lastBaseUpdate:_,shared:f.shared,callbacks:f.callbacks},i.updateQueue=l;return}i=l.lastBaseUpdate,i===null?l.firstBaseUpdate=s:i.next=s,l.lastBaseUpdate=s}var _h=!1;function tl(){if(_h){var i=Ss;if(i!==null)throw i}}function nl(i,s,l,f){_h=!1;var v=i.updateQueue;Ai=!1;var _=v.firstBaseUpdate,b=v.lastBaseUpdate,R=v.shared.pending;if(R!==null){v.shared.pending=null;var P=R,F=P.next;P.next=null,b===null?_=F:b.next=F,b=P;var W=i.alternate;W!==null&&(W=W.updateQueue,R=W.lastBaseUpdate,R!==b&&(R===null?W.firstBaseUpdate=F:R.next=F,W.lastBaseUpdate=P))}if(_!==null){var te=v.baseState;b=0,W=F=P=null,R=_;do{var z=R.lane&-536870913,K=z!==R.lane;if(K?(Oe&z)===z:(f&z)===z){z!==0&&z===_s&&(_h=!0),W!==null&&(W=W.next={lane:0,tag:R.tag,payload:R.payload,callback:null,next:null});e:{var pe=i,be=R;z=s;var je=l;switch(be.tag){case 1:if(pe=be.payload,typeof pe=="function"){te=pe.call(je,te,z);break e}te=pe;break e;case 3:pe.flags=pe.flags&-65537|128;case 0:if(pe=be.payload,z=typeof pe=="function"?pe.call(je,te,z):pe,z==null)break e;te=y({},te,z);break e;case 2:Ai=!0}}z=R.callback,z!==null&&(i.flags|=64,K&&(i.flags|=8192),K=v.callbacks,K===null?v.callbacks=[z]:K.push(z))}else K={lane:z,tag:R.tag,payload:R.payload,callback:R.callback,next:null},W===null?(F=W=K,P=te):W=W.next=K,b|=z;if(R=R.next,R===null){if(R=v.shared.pending,R===null)break;K=R,R=K.next,K.next=null,v.lastBaseUpdate=K,v.shared.pending=null}}while(!0);W===null&&(P=te),v.baseState=P,v.firstBaseUpdate=F,v.lastBaseUpdate=W,_===null&&(v.shared.lanes=0),Oi|=b,i.lanes=b,i.memoizedState=te}}function H0(i,s){if(typeof i!="function")throw Error(o(191,i));i.call(s)}function G0(i,s){var l=i.callbacks;if(l!==null)for(i.callbacks=null,i=0;i<l.length;i++)H0(l[i],s)}var ws=L(null),_c=L(0);function $0(i,s){i=Wo,se(_c,i),se(ws,s),Wo=i|s.baseLanes}function Sh(){se(_c,Wo),se(ws,ws.current)}function Eh(){Wo=_c.current,Y(ws),Y(_c)}var ln=L(null),Nn=null;function Mi(i){var s=i.alternate;se(lt,lt.current&1),se(ln,i),Nn===null&&(s===null||ws.current!==null||s.memoizedState!==null)&&(Nn=i)}function bh(i){se(lt,lt.current),se(ln,i),Nn===null&&(Nn=i)}function F0(i){i.tag===22?(se(lt,lt.current),se(ln,i),Nn===null&&(Nn=i)):Ni()}function Ni(){se(lt,lt.current),se(ln,ln.current)}function un(i){Y(ln),Nn===i&&(Nn=null),Y(lt)}var lt=L(0);function Sc(i){for(var s=i;s!==null;){if(s.tag===13){var l=s.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||Rm(l)||Mm(l)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Fo=0,xe=null,Xe=null,ft=null,Ec=!1,Ts=!1,Cr=!1,bc=0,ol=0,Cs=null,_1=0;function st(){throw Error(o(321))}function wh(i,s){if(s===null)return!1;for(var l=0;l<s.length&&l<i.length;l++)if(!sn(i[l],s[l]))return!1;return!0}function Th(i,s,l,f,v,_){return Fo=_,xe=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,H.H=i===null||i.memoizedState===null?CS:Hh,Cr=!1,_=l(f,v),Cr=!1,Ts&&(_=z0(s,l,f,v)),V0(i),_}function V0(i){H.H=sl;var s=Xe!==null&&Xe.next!==null;if(Fo=0,ft=Xe=xe=null,Ec=!1,ol=0,Cs=null,s)throw Error(o(300));i===null||dt||(i=i.dependencies,i!==null&&dc(i)&&(dt=!0))}function z0(i,s,l,f){xe=i;var v=0;do{if(Ts&&(Cs=null),ol=0,Ts=!1,25<=v)throw Error(o(301));if(v+=1,ft=Xe=null,i.updateQueue!=null){var _=i.updateQueue;_.lastEffect=null,_.events=null,_.stores=null,_.memoCache!=null&&(_.memoCache.index=0)}H.H=AS,_=s(l,f)}while(Ts);return _}function S1(){var i=H.H,s=i.useState()[0];return s=typeof s.then=="function"?il(s):s,i=i.useState()[0],(Xe!==null?Xe.memoizedState:null)!==i&&(xe.flags|=1024),s}function Ch(){var i=bc!==0;return bc=0,i}function Ah(i,s,l){s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~l}function xh(i){if(Ec){for(i=i.memoizedState;i!==null;){var s=i.queue;s!==null&&(s.pending=null),i=i.next}Ec=!1}Fo=0,ft=Xe=xe=null,Ts=!1,ol=bc=0,Cs=null}function Bt(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ft===null?xe.memoizedState=ft=i:ft=ft.next=i,ft}function ut(){if(Xe===null){var i=xe.alternate;i=i!==null?i.memoizedState:null}else i=Xe.next;var s=ft===null?xe.memoizedState:ft.next;if(s!==null)ft=s,Xe=i;else{if(i===null)throw xe.alternate===null?Error(o(467)):Error(o(310));Xe=i,i={memoizedState:Xe.memoizedState,baseState:Xe.baseState,baseQueue:Xe.baseQueue,queue:Xe.queue,next:null},ft===null?xe.memoizedState=ft=i:ft=ft.next=i}return ft}function wc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function il(i){var s=ol;return ol+=1,Cs===null&&(Cs=[]),i=P0(Cs,i,s),s=xe,(ft===null?s.memoizedState:ft.next)===null&&(s=s.alternate,H.H=s===null||s.memoizedState===null?CS:Hh),i}function Tc(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return il(i);if(i.$$typeof===N)return At(i)}throw Error(o(438,String(i)))}function Rh(i){var s=null,l=xe.updateQueue;if(l!==null&&(s=l.memoCache),s==null){var f=xe.alternate;f!==null&&(f=f.updateQueue,f!==null&&(f=f.memoCache,f!=null&&(s={data:f.data.map(function(v){return v.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),l===null&&(l=wc(),xe.updateQueue=l),l.memoCache=s,l=s.data[s.index],l===void 0)for(l=s.data[s.index]=Array(i),f=0;f<i;f++)l[f]=X;return s.index++,l}function Vo(i,s){return typeof s=="function"?s(i):s}function Cc(i){var s=ut();return Mh(s,Xe,i)}function Mh(i,s,l){var f=i.queue;if(f===null)throw Error(o(311));f.lastRenderedReducer=l;var v=i.baseQueue,_=f.pending;if(_!==null){if(v!==null){var b=v.next;v.next=_.next,_.next=b}s.baseQueue=v=_,f.pending=null}if(_=i.baseState,v===null)i.memoizedState=_;else{s=v.next;var R=b=null,P=null,F=s,W=!1;do{var te=F.lane&-536870913;if(te!==F.lane?(Oe&te)===te:(Fo&te)===te){var z=F.revertLane;if(z===0)P!==null&&(P=P.next={lane:0,revertLane:0,gesture:null,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null}),te===_s&&(W=!0);else if((Fo&z)===z){F=F.next,z===_s&&(W=!0);continue}else te={lane:0,revertLane:F.revertLane,gesture:null,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},P===null?(R=P=te,b=_):P=P.next=te,xe.lanes|=z,Oi|=z;te=F.action,Cr&&l(_,te),_=F.hasEagerState?F.eagerState:l(_,te)}else z={lane:te,revertLane:F.revertLane,gesture:F.gesture,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},P===null?(R=P=z,b=_):P=P.next=z,xe.lanes|=te,Oi|=te;F=F.next}while(F!==null&&F!==s);if(P===null?b=_:P.next=R,!sn(_,i.memoizedState)&&(dt=!0,W&&(l=Ss,l!==null)))throw l;i.memoizedState=_,i.baseState=b,i.baseQueue=P,f.lastRenderedState=_}return v===null&&(f.lanes=0),[i.memoizedState,f.dispatch]}function Nh(i){var s=ut(),l=s.queue;if(l===null)throw Error(o(311));l.lastRenderedReducer=i;var f=l.dispatch,v=l.pending,_=s.memoizedState;if(v!==null){l.pending=null;var b=v=v.next;do _=i(_,b.action),b=b.next;while(b!==v);sn(_,s.memoizedState)||(dt=!0),s.memoizedState=_,s.baseQueue===null&&(s.baseState=_),l.lastRenderedState=_}return[_,f]}function q0(i,s,l){var f=xe,v=ut(),_=Le;if(_){if(l===void 0)throw Error(o(407));l=l()}else l=s();var b=!sn((Xe||v).memoizedState,l);if(b&&(v.memoizedState=l,dt=!0),v=v.queue,Oh(Y0.bind(null,f,v,i),[i]),v.getSnapshot!==s||b||ft!==null&&ft.memoizedState.tag&1){if(f.flags|=2048,As(9,{destroy:void 0},K0.bind(null,f,v,l,s),null),Ze===null)throw Error(o(349));_||(Fo&127)!==0||J0(f,s,l)}return l}function J0(i,s,l){i.flags|=16384,i={getSnapshot:s,value:l},s=xe.updateQueue,s===null?(s=wc(),xe.updateQueue=s,s.stores=[i]):(l=s.stores,l===null?s.stores=[i]:l.push(i))}function K0(i,s,l,f){s.value=l,s.getSnapshot=f,X0(s)&&W0(i)}function Y0(i,s,l){return l(function(){X0(s)&&W0(i)})}function X0(i){var s=i.getSnapshot;i=i.value;try{var l=s();return!sn(i,l)}catch{return!0}}function W0(i){var s=gr(i,2);s!==null&&jt(s,i,2)}function Ih(i){var s=Bt();if(typeof i=="function"){var l=i;if(i=l(),Cr){_i(!0);try{l()}finally{_i(!1)}}}return s.memoizedState=s.baseState=i,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vo,lastRenderedState:i},s}function j0(i,s,l,f){return i.baseState=l,Mh(i,Xe,typeof f=="function"?f:Vo)}function E1(i,s,l,f,v){if(Rc(i))throw Error(o(485));if(i=s.action,i!==null){var _={payload:v,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(b){_.listeners.push(b)}};H.T!==null?l(!0):_.isTransition=!1,f(_),l=s.pending,l===null?(_.next=s.pending=_,Q0(s,_)):(_.next=l.next,s.pending=l.next=_)}}function Q0(i,s){var l=s.action,f=s.payload,v=i.state;if(s.isTransition){var _=H.T,b={};H.T=b;try{var R=l(v,f),P=H.S;P!==null&&P(b,R),Z0(i,s,R)}catch(F){Dh(i,s,F)}finally{_!==null&&b.types!==null&&(_.types=b.types),H.T=_}}else try{_=l(v,f),Z0(i,s,_)}catch(F){Dh(i,s,F)}}function Z0(i,s,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(f){eS(i,s,f)},function(f){return Dh(i,s,f)}):eS(i,s,l)}function eS(i,s,l){s.status="fulfilled",s.value=l,tS(s),i.state=l,s=i.pending,s!==null&&(l=s.next,l===s?i.pending=null:(l=l.next,s.next=l,Q0(i,l)))}function Dh(i,s,l){var f=i.pending;if(i.pending=null,f!==null){f=f.next;do s.status="rejected",s.reason=l,tS(s),s=s.next;while(s!==f)}i.action=null}function tS(i){i=i.listeners;for(var s=0;s<i.length;s++)(0,i[s])()}function nS(i,s){return s}function oS(i,s){if(Le){var l=Ze.formState;if(l!==null){e:{var f=xe;if(Le){if(nt){t:{for(var v=nt,_=Mn;v.nodeType!==8;){if(!_){v=null;break t}if(v=In(v.nextSibling),v===null){v=null;break t}}_=v.data,v=_==="F!"||_==="F"?v:null}if(v){nt=In(v.nextSibling),f=v.data==="F!";break e}}Ti(f)}f=!1}f&&(s=l[0])}}return l=Bt(),l.memoizedState=l.baseState=s,f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:nS,lastRenderedState:s},l.queue=f,l=bS.bind(null,xe,f),f.dispatch=l,f=Ih(!1),_=Bh.bind(null,xe,!1,f.queue),f=Bt(),v={state:s,dispatch:null,action:i,pending:null},f.queue=v,l=E1.bind(null,xe,v,_,l),v.dispatch=l,f.memoizedState=i,[s,l,!1]}function iS(i){var s=ut();return rS(s,Xe,i)}function rS(i,s,l){if(s=Mh(i,s,nS)[0],i=Cc(Vo)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var f=il(s)}catch(b){throw b===Es?mc:b}else f=s;s=ut();var v=s.queue,_=v.dispatch;return l!==s.memoizedState&&(xe.flags|=2048,As(9,{destroy:void 0},b1.bind(null,v,l),null)),[f,_,i]}function b1(i,s){i.action=s}function sS(i){var s=ut(),l=Xe;if(l!==null)return rS(s,l,i);ut(),s=s.memoizedState,l=ut();var f=l.queue.dispatch;return l.memoizedState=i,[s,f,!1]}function As(i,s,l,f){return i={tag:i,create:l,deps:f,inst:s,next:null},s=xe.updateQueue,s===null&&(s=wc(),xe.updateQueue=s),l=s.lastEffect,l===null?s.lastEffect=i.next=i:(f=l.next,l.next=i,i.next=f,s.lastEffect=i),i}function aS(){return ut().memoizedState}function Ac(i,s,l,f){var v=Bt();xe.flags|=i,v.memoizedState=As(1|s,{destroy:void 0},l,f===void 0?null:f)}function xc(i,s,l,f){var v=ut();f=f===void 0?null:f;var _=v.memoizedState.inst;Xe!==null&&f!==null&&wh(f,Xe.memoizedState.deps)?v.memoizedState=As(s,_,l,f):(xe.flags|=i,v.memoizedState=As(1|s,_,l,f))}function lS(i,s){Ac(8390656,8,i,s)}function Oh(i,s){xc(2048,8,i,s)}function w1(i){xe.flags|=4;var s=xe.updateQueue;if(s===null)s=wc(),xe.updateQueue=s,s.events=[i];else{var l=s.events;l===null?s.events=[i]:l.push(i)}}function uS(i){var s=ut().memoizedState;return w1({ref:s,nextImpl:i}),function(){if((qe&2)!==0)throw Error(o(440));return s.impl.apply(void 0,arguments)}}function cS(i,s){return xc(4,2,i,s)}function fS(i,s){return xc(4,4,i,s)}function dS(i,s){if(typeof s=="function"){i=i();var l=s(i);return function(){typeof l=="function"?l():s(null)}}if(s!=null)return i=i(),s.current=i,function(){s.current=null}}function pS(i,s,l){l=l!=null?l.concat([i]):null,xc(4,4,dS.bind(null,s,i),l)}function Ph(){}function hS(i,s){var l=ut();s=s===void 0?null:s;var f=l.memoizedState;return s!==null&&wh(s,f[1])?f[0]:(l.memoizedState=[i,s],i)}function mS(i,s){var l=ut();s=s===void 0?null:s;var f=l.memoizedState;if(s!==null&&wh(s,f[1]))return f[0];if(f=i(),Cr){_i(!0);try{i()}finally{_i(!1)}}return l.memoizedState=[f,s],f}function Lh(i,s,l){return l===void 0||(Fo&1073741824)!==0&&(Oe&261930)===0?i.memoizedState=s:(i.memoizedState=l,i=gE(),xe.lanes|=i,Oi|=i,l)}function gS(i,s,l,f){return sn(l,s)?l:ws.current!==null?(i=Lh(i,l,f),sn(i,s)||(dt=!0),i):(Fo&42)===0||(Fo&1073741824)!==0&&(Oe&261930)===0?(dt=!0,i.memoizedState=l):(i=gE(),xe.lanes|=i,Oi|=i,s)}function vS(i,s,l,f,v){var _=Q.p;Q.p=_!==0&&8>_?_:8;var b=H.T,R={};H.T=R,Bh(i,!1,s,l);try{var P=v(),F=H.S;if(F!==null&&F(R,P),P!==null&&typeof P=="object"&&typeof P.then=="function"){var W=y1(P,f);rl(i,s,W,dn(i))}else rl(i,s,f,dn(i))}catch(te){rl(i,s,{then:function(){},status:"rejected",reason:te},dn())}finally{Q.p=_,b!==null&&R.types!==null&&(b.types=R.types),H.T=b}}function T1(){}function Uh(i,s,l,f){if(i.tag!==5)throw Error(o(476));var v=yS(i).queue;vS(i,v,s,ee,l===null?T1:function(){return _S(i),l(f)})}function yS(i){var s=i.memoizedState;if(s!==null)return s;s={memoizedState:ee,baseState:ee,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vo,lastRenderedState:ee},next:null};var l={};return s.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vo,lastRenderedState:l},next:null},i.memoizedState=s,i=i.alternate,i!==null&&(i.memoizedState=s),s}function _S(i){var s=yS(i);s.next===null&&(s=i.alternate.memoizedState),rl(i,s.next.queue,{},dn())}function kh(){return At(bl)}function SS(){return ut().memoizedState}function ES(){return ut().memoizedState}function C1(i){for(var s=i.return;s!==null;){switch(s.tag){case 24:case 3:var l=dn();i=xi(l);var f=Ri(s,i,l);f!==null&&(jt(f,s,l),el(f,s,l)),s={cache:dh()},i.payload=s;return}s=s.return}}function A1(i,s,l){var f=dn();l={lane:f,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Rc(i)?wS(s,l):(l=th(i,s,l,f),l!==null&&(jt(l,i,f),TS(l,s,f)))}function bS(i,s,l){var f=dn();rl(i,s,l,f)}function rl(i,s,l,f){var v={lane:f,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(Rc(i))wS(s,v);else{var _=i.alternate;if(i.lanes===0&&(_===null||_.lanes===0)&&(_=s.lastRenderedReducer,_!==null))try{var b=s.lastRenderedState,R=_(b,l);if(v.hasEagerState=!0,v.eagerState=R,sn(R,b))return lc(i,s,v,0),Ze===null&&ac(),!1}catch{}finally{}if(l=th(i,s,v,f),l!==null)return jt(l,i,f),TS(l,s,f),!0}return!1}function Bh(i,s,l,f){if(f={lane:2,revertLane:gm(),gesture:null,action:f,hasEagerState:!1,eagerState:null,next:null},Rc(i)){if(s)throw Error(o(479))}else s=th(i,l,f,2),s!==null&&jt(s,i,2)}function Rc(i){var s=i.alternate;return i===xe||s!==null&&s===xe}function wS(i,s){Ts=Ec=!0;var l=i.pending;l===null?s.next=s:(s.next=l.next,l.next=s),i.pending=s}function TS(i,s,l){if((l&4194048)!==0){var f=s.lanes;f&=i.pendingLanes,l|=f,s.lanes=l,M_(i,l)}}var sl={readContext:At,use:Tc,useCallback:st,useContext:st,useEffect:st,useImperativeHandle:st,useLayoutEffect:st,useInsertionEffect:st,useMemo:st,useReducer:st,useRef:st,useState:st,useDebugValue:st,useDeferredValue:st,useTransition:st,useSyncExternalStore:st,useId:st,useHostTransitionStatus:st,useFormState:st,useActionState:st,useOptimistic:st,useMemoCache:st,useCacheRefresh:st};sl.useEffectEvent=st;var CS={readContext:At,use:Tc,useCallback:function(i,s){return Bt().memoizedState=[i,s===void 0?null:s],i},useContext:At,useEffect:lS,useImperativeHandle:function(i,s,l){l=l!=null?l.concat([i]):null,Ac(4194308,4,dS.bind(null,s,i),l)},useLayoutEffect:function(i,s){return Ac(4194308,4,i,s)},useInsertionEffect:function(i,s){Ac(4,2,i,s)},useMemo:function(i,s){var l=Bt();s=s===void 0?null:s;var f=i();if(Cr){_i(!0);try{i()}finally{_i(!1)}}return l.memoizedState=[f,s],f},useReducer:function(i,s,l){var f=Bt();if(l!==void 0){var v=l(s);if(Cr){_i(!0);try{l(s)}finally{_i(!1)}}}else v=s;return f.memoizedState=f.baseState=v,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:v},f.queue=i,i=i.dispatch=A1.bind(null,xe,i),[f.memoizedState,i]},useRef:function(i){var s=Bt();return i={current:i},s.memoizedState=i},useState:function(i){i=Ih(i);var s=i.queue,l=bS.bind(null,xe,s);return s.dispatch=l,[i.memoizedState,l]},useDebugValue:Ph,useDeferredValue:function(i,s){var l=Bt();return Lh(l,i,s)},useTransition:function(){var i=Ih(!1);return i=vS.bind(null,xe,i.queue,!0,!1),Bt().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,s,l){var f=xe,v=Bt();if(Le){if(l===void 0)throw Error(o(407));l=l()}else{if(l=s(),Ze===null)throw Error(o(349));(Oe&127)!==0||J0(f,s,l)}v.memoizedState=l;var _={value:l,getSnapshot:s};return v.queue=_,lS(Y0.bind(null,f,_,i),[i]),f.flags|=2048,As(9,{destroy:void 0},K0.bind(null,f,_,l,s),null),l},useId:function(){var i=Bt(),s=Ze.identifierPrefix;if(Le){var l=ho,f=po;l=(f&~(1<<32-rn(f)-1)).toString(32)+l,s="_"+s+"R_"+l,l=bc++,0<l&&(s+="H"+l.toString(32)),s+="_"}else l=_1++,s="_"+s+"r_"+l.toString(32)+"_";return i.memoizedState=s},useHostTransitionStatus:kh,useFormState:oS,useActionState:oS,useOptimistic:function(i){var s=Bt();s.memoizedState=s.baseState=i;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=l,s=Bh.bind(null,xe,!0,l),l.dispatch=s,[i,s]},useMemoCache:Rh,useCacheRefresh:function(){return Bt().memoizedState=C1.bind(null,xe)},useEffectEvent:function(i){var s=Bt(),l={impl:i};return s.memoizedState=l,function(){if((qe&2)!==0)throw Error(o(440));return l.impl.apply(void 0,arguments)}}},Hh={readContext:At,use:Tc,useCallback:hS,useContext:At,useEffect:Oh,useImperativeHandle:pS,useInsertionEffect:cS,useLayoutEffect:fS,useMemo:mS,useReducer:Cc,useRef:aS,useState:function(){return Cc(Vo)},useDebugValue:Ph,useDeferredValue:function(i,s){var l=ut();return gS(l,Xe.memoizedState,i,s)},useTransition:function(){var i=Cc(Vo)[0],s=ut().memoizedState;return[typeof i=="boolean"?i:il(i),s]},useSyncExternalStore:q0,useId:SS,useHostTransitionStatus:kh,useFormState:iS,useActionState:iS,useOptimistic:function(i,s){var l=ut();return j0(l,Xe,i,s)},useMemoCache:Rh,useCacheRefresh:ES};Hh.useEffectEvent=uS;var AS={readContext:At,use:Tc,useCallback:hS,useContext:At,useEffect:Oh,useImperativeHandle:pS,useInsertionEffect:cS,useLayoutEffect:fS,useMemo:mS,useReducer:Nh,useRef:aS,useState:function(){return Nh(Vo)},useDebugValue:Ph,useDeferredValue:function(i,s){var l=ut();return Xe===null?Lh(l,i,s):gS(l,Xe.memoizedState,i,s)},useTransition:function(){var i=Nh(Vo)[0],s=ut().memoizedState;return[typeof i=="boolean"?i:il(i),s]},useSyncExternalStore:q0,useId:SS,useHostTransitionStatus:kh,useFormState:sS,useActionState:sS,useOptimistic:function(i,s){var l=ut();return Xe!==null?j0(l,Xe,i,s):(l.baseState=i,[i,l.queue.dispatch])},useMemoCache:Rh,useCacheRefresh:ES};AS.useEffectEvent=uS;function Gh(i,s,l,f){s=i.memoizedState,l=l(f,s),l=l==null?s:y({},s,l),i.memoizedState=l,i.lanes===0&&(i.updateQueue.baseState=l)}var $h={enqueueSetState:function(i,s,l){i=i._reactInternals;var f=dn(),v=xi(f);v.payload=s,l!=null&&(v.callback=l),s=Ri(i,v,f),s!==null&&(jt(s,i,f),el(s,i,f))},enqueueReplaceState:function(i,s,l){i=i._reactInternals;var f=dn(),v=xi(f);v.tag=1,v.payload=s,l!=null&&(v.callback=l),s=Ri(i,v,f),s!==null&&(jt(s,i,f),el(s,i,f))},enqueueForceUpdate:function(i,s){i=i._reactInternals;var l=dn(),f=xi(l);f.tag=2,s!=null&&(f.callback=s),s=Ri(i,f,l),s!==null&&(jt(s,i,l),el(s,i,l))}};function xS(i,s,l,f,v,_,b){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(f,_,b):s.prototype&&s.prototype.isPureReactComponent?!Ja(l,f)||!Ja(v,_):!0}function RS(i,s,l,f){i=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(l,f),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(l,f),s.state!==i&&$h.enqueueReplaceState(s,s.state,null)}function Ar(i,s){var l=s;if("ref"in s){l={};for(var f in s)f!=="ref"&&(l[f]=s[f])}if(i=i.defaultProps){l===s&&(l=y({},l));for(var v in i)l[v]===void 0&&(l[v]=i[v])}return l}function MS(i){sc(i)}function NS(i){console.error(i)}function IS(i){sc(i)}function Mc(i,s){try{var l=i.onUncaughtError;l(s.value,{componentStack:s.stack})}catch(f){setTimeout(function(){throw f})}}function DS(i,s,l){try{var f=i.onCaughtError;f(l.value,{componentStack:l.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(v){setTimeout(function(){throw v})}}function Fh(i,s,l){return l=xi(l),l.tag=3,l.payload={element:null},l.callback=function(){Mc(i,s)},l}function OS(i){return i=xi(i),i.tag=3,i}function PS(i,s,l,f){var v=l.type.getDerivedStateFromError;if(typeof v=="function"){var _=f.value;i.payload=function(){return v(_)},i.callback=function(){DS(s,l,f)}}var b=l.stateNode;b!==null&&typeof b.componentDidCatch=="function"&&(i.callback=function(){DS(s,l,f),typeof v!="function"&&(Pi===null?Pi=new Set([this]):Pi.add(this));var R=f.stack;this.componentDidCatch(f.value,{componentStack:R!==null?R:""})})}function x1(i,s,l,f,v){if(l.flags|=32768,f!==null&&typeof f=="object"&&typeof f.then=="function"){if(s=l.alternate,s!==null&&ys(s,l,v,!0),l=ln.current,l!==null){switch(l.tag){case 31:case 13:return Nn===null?$c():l.alternate===null&&at===0&&(at=3),l.flags&=-257,l.flags|=65536,l.lanes=v,f===gc?l.flags|=16384:(s=l.updateQueue,s===null?l.updateQueue=new Set([f]):s.add(f),pm(i,f,v)),!1;case 22:return l.flags|=65536,f===gc?l.flags|=16384:(s=l.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([f])},l.updateQueue=s):(l=s.retryQueue,l===null?s.retryQueue=new Set([f]):l.add(f)),pm(i,f,v)),!1}throw Error(o(435,l.tag))}return pm(i,f,v),$c(),!1}if(Le)return s=ln.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=v,f!==ah&&(i=Error(o(422),{cause:f}),Xa(An(i,l)))):(f!==ah&&(s=Error(o(423),{cause:f}),Xa(An(s,l))),i=i.current.alternate,i.flags|=65536,v&=-v,i.lanes|=v,f=An(f,l),v=Fh(i.stateNode,f,v),yh(i,v),at!==4&&(at=2)),!1;var _=Error(o(520),{cause:f});if(_=An(_,l),hl===null?hl=[_]:hl.push(_),at!==4&&(at=2),s===null)return!0;f=An(f,l),l=s;do{switch(l.tag){case 3:return l.flags|=65536,i=v&-v,l.lanes|=i,i=Fh(l.stateNode,f,i),yh(l,i),!1;case 1:if(s=l.type,_=l.stateNode,(l.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(Pi===null||!Pi.has(_))))return l.flags|=65536,v&=-v,l.lanes|=v,v=OS(v),PS(v,i,l,f),yh(l,v),!1}l=l.return}while(l!==null);return!1}var Vh=Error(o(461)),dt=!1;function xt(i,s,l,f){s.child=i===null?B0(s,null,l,f):Tr(s,i.child,l,f)}function LS(i,s,l,f,v){l=l.render;var _=s.ref;if("ref"in f){var b={};for(var R in f)R!=="ref"&&(b[R]=f[R])}else b=f;return Sr(s),f=Th(i,s,l,b,_,v),R=Ch(),i!==null&&!dt?(Ah(i,s,v),zo(i,s,v)):(Le&&R&&rh(s),s.flags|=1,xt(i,s,f,v),s.child)}function US(i,s,l,f,v){if(i===null){var _=l.type;return typeof _=="function"&&!nh(_)&&_.defaultProps===void 0&&l.compare===null?(s.tag=15,s.type=_,kS(i,s,_,f,v)):(i=cc(l.type,null,f,s,s.mode,v),i.ref=s.ref,i.return=s,s.child=i)}if(_=i.child,!jh(i,v)){var b=_.memoizedProps;if(l=l.compare,l=l!==null?l:Ja,l(b,f)&&i.ref===s.ref)return zo(i,s,v)}return s.flags|=1,i=Bo(_,f),i.ref=s.ref,i.return=s,s.child=i}function kS(i,s,l,f,v){if(i!==null){var _=i.memoizedProps;if(Ja(_,f)&&i.ref===s.ref)if(dt=!1,s.pendingProps=f=_,jh(i,v))(i.flags&131072)!==0&&(dt=!0);else return s.lanes=i.lanes,zo(i,s,v)}return zh(i,s,l,f,v)}function BS(i,s,l,f){var v=f.children,_=i!==null?i.memoizedState:null;if(i===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),f.mode==="hidden"){if((s.flags&128)!==0){if(_=_!==null?_.baseLanes|l:l,i!==null){for(f=s.child=i.child,v=0;f!==null;)v=v|f.lanes|f.childLanes,f=f.sibling;f=v&~_}else f=0,s.child=null;return HS(i,s,_,l,f)}if((l&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},i!==null&&hc(s,_!==null?_.cachePool:null),_!==null?$0(s,_):Sh(),F0(s);else return f=s.lanes=536870912,HS(i,s,_!==null?_.baseLanes|l:l,l,f)}else _!==null?(hc(s,_.cachePool),$0(s,_),Ni(),s.memoizedState=null):(i!==null&&hc(s,null),Sh(),Ni());return xt(i,s,v,l),s.child}function al(i,s){return i!==null&&i.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function HS(i,s,l,f,v){var _=hh();return _=_===null?null:{parent:ct._currentValue,pool:_},s.memoizedState={baseLanes:l,cachePool:_},i!==null&&hc(s,null),Sh(),F0(s),i!==null&&ys(i,s,f,!0),s.childLanes=v,null}function Nc(i,s){return s=Dc({mode:s.mode,children:s.children},i.mode),s.ref=i.ref,i.child=s,s.return=i,s}function GS(i,s,l){return Tr(s,i.child,null,l),i=Nc(s,s.pendingProps),i.flags|=2,un(s),s.memoizedState=null,i}function R1(i,s,l){var f=s.pendingProps,v=(s.flags&128)!==0;if(s.flags&=-129,i===null){if(Le){if(f.mode==="hidden")return i=Nc(s,f),s.lanes=536870912,al(null,i);if(bh(s),(i=nt)?(i=QE(i,Mn),i=i!==null&&i.data==="&"?i:null,i!==null&&(s.memoizedState={dehydrated:i,treeContext:bi!==null?{id:po,overflow:ho}:null,retryLane:536870912,hydrationErrors:null},l=w0(i),l.return=s,s.child=l,Ct=s,nt=null)):i=null,i===null)throw Ti(s);return s.lanes=536870912,null}return Nc(s,f)}var _=i.memoizedState;if(_!==null){var b=_.dehydrated;if(bh(s),v)if(s.flags&256)s.flags&=-257,s=GS(i,s,l);else if(s.memoizedState!==null)s.child=i.child,s.flags|=128,s=null;else throw Error(o(558));else if(dt||ys(i,s,l,!1),v=(l&i.childLanes)!==0,dt||v){if(f=Ze,f!==null&&(b=N_(f,l),b!==0&&b!==_.retryLane))throw _.retryLane=b,gr(i,b),jt(f,i,b),Vh;$c(),s=GS(i,s,l)}else i=_.treeContext,nt=In(b.nextSibling),Ct=s,Le=!0,wi=null,Mn=!1,i!==null&&A0(s,i),s=Nc(s,f),s.flags|=4096;return s}return i=Bo(i.child,{mode:f.mode,children:f.children}),i.ref=s.ref,s.child=i,i.return=s,i}function Ic(i,s){var l=s.ref;if(l===null)i!==null&&i.ref!==null&&(s.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(o(284));(i===null||i.ref!==l)&&(s.flags|=4194816)}}function zh(i,s,l,f,v){return Sr(s),l=Th(i,s,l,f,void 0,v),f=Ch(),i!==null&&!dt?(Ah(i,s,v),zo(i,s,v)):(Le&&f&&rh(s),s.flags|=1,xt(i,s,l,v),s.child)}function $S(i,s,l,f,v,_){return Sr(s),s.updateQueue=null,l=z0(s,f,l,v),V0(i),f=Ch(),i!==null&&!dt?(Ah(i,s,_),zo(i,s,_)):(Le&&f&&rh(s),s.flags|=1,xt(i,s,l,_),s.child)}function FS(i,s,l,f,v){if(Sr(s),s.stateNode===null){var _=hs,b=l.contextType;typeof b=="object"&&b!==null&&(_=At(b)),_=new l(f,_),s.memoizedState=_.state!==null&&_.state!==void 0?_.state:null,_.updater=$h,s.stateNode=_,_._reactInternals=s,_=s.stateNode,_.props=f,_.state=s.memoizedState,_.refs={},gh(s),b=l.contextType,_.context=typeof b=="object"&&b!==null?At(b):hs,_.state=s.memoizedState,b=l.getDerivedStateFromProps,typeof b=="function"&&(Gh(s,l,b,f),_.state=s.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof _.getSnapshotBeforeUpdate=="function"||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(b=_.state,typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount(),b!==_.state&&$h.enqueueReplaceState(_,_.state,null),nl(s,f,_,v),tl(),_.state=s.memoizedState),typeof _.componentDidMount=="function"&&(s.flags|=4194308),f=!0}else if(i===null){_=s.stateNode;var R=s.memoizedProps,P=Ar(l,R);_.props=P;var F=_.context,W=l.contextType;b=hs,typeof W=="object"&&W!==null&&(b=At(W));var te=l.getDerivedStateFromProps;W=typeof te=="function"||typeof _.getSnapshotBeforeUpdate=="function",R=s.pendingProps!==R,W||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(R||F!==b)&&RS(s,_,f,b),Ai=!1;var z=s.memoizedState;_.state=z,nl(s,f,_,v),tl(),F=s.memoizedState,R||z!==F||Ai?(typeof te=="function"&&(Gh(s,l,te,f),F=s.memoizedState),(P=Ai||xS(s,l,P,f,z,F,b))?(W||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(s.flags|=4194308)):(typeof _.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=f,s.memoizedState=F),_.props=f,_.state=F,_.context=b,f=P):(typeof _.componentDidMount=="function"&&(s.flags|=4194308),f=!1)}else{_=s.stateNode,vh(i,s),b=s.memoizedProps,W=Ar(l,b),_.props=W,te=s.pendingProps,z=_.context,F=l.contextType,P=hs,typeof F=="object"&&F!==null&&(P=At(F)),R=l.getDerivedStateFromProps,(F=typeof R=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(b!==te||z!==P)&&RS(s,_,f,P),Ai=!1,z=s.memoizedState,_.state=z,nl(s,f,_,v),tl();var K=s.memoizedState;b!==te||z!==K||Ai||i!==null&&i.dependencies!==null&&dc(i.dependencies)?(typeof R=="function"&&(Gh(s,l,R,f),K=s.memoizedState),(W=Ai||xS(s,l,W,f,z,K,P)||i!==null&&i.dependencies!==null&&dc(i.dependencies))?(F||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(f,K,P),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(f,K,P)),typeof _.componentDidUpdate=="function"&&(s.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof _.componentDidUpdate!="function"||b===i.memoizedProps&&z===i.memoizedState||(s.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||b===i.memoizedProps&&z===i.memoizedState||(s.flags|=1024),s.memoizedProps=f,s.memoizedState=K),_.props=f,_.state=K,_.context=P,f=W):(typeof _.componentDidUpdate!="function"||b===i.memoizedProps&&z===i.memoizedState||(s.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||b===i.memoizedProps&&z===i.memoizedState||(s.flags|=1024),f=!1)}return _=f,Ic(i,s),f=(s.flags&128)!==0,_||f?(_=s.stateNode,l=f&&typeof l.getDerivedStateFromError!="function"?null:_.render(),s.flags|=1,i!==null&&f?(s.child=Tr(s,i.child,null,v),s.child=Tr(s,null,l,v)):xt(i,s,l,v),s.memoizedState=_.state,i=s.child):i=zo(i,s,v),i}function VS(i,s,l,f){return yr(),s.flags|=256,xt(i,s,l,f),s.child}var qh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Jh(i){return{baseLanes:i,cachePool:D0()}}function Kh(i,s,l){return i=i!==null?i.childLanes&~l:0,s&&(i|=fn),i}function zS(i,s,l){var f=s.pendingProps,v=!1,_=(s.flags&128)!==0,b;if((b=_)||(b=i!==null&&i.memoizedState===null?!1:(lt.current&2)!==0),b&&(v=!0,s.flags&=-129),b=(s.flags&32)!==0,s.flags&=-33,i===null){if(Le){if(v?Mi(s):Ni(),(i=nt)?(i=QE(i,Mn),i=i!==null&&i.data!=="&"?i:null,i!==null&&(s.memoizedState={dehydrated:i,treeContext:bi!==null?{id:po,overflow:ho}:null,retryLane:536870912,hydrationErrors:null},l=w0(i),l.return=s,s.child=l,Ct=s,nt=null)):i=null,i===null)throw Ti(s);return Mm(i)?s.lanes=32:s.lanes=536870912,null}var R=f.children;return f=f.fallback,v?(Ni(),v=s.mode,R=Dc({mode:"hidden",children:R},v),f=vr(f,v,l,null),R.return=s,f.return=s,R.sibling=f,s.child=R,f=s.child,f.memoizedState=Jh(l),f.childLanes=Kh(i,b,l),s.memoizedState=qh,al(null,f)):(Mi(s),Yh(s,R))}var P=i.memoizedState;if(P!==null&&(R=P.dehydrated,R!==null)){if(_)s.flags&256?(Mi(s),s.flags&=-257,s=Xh(i,s,l)):s.memoizedState!==null?(Ni(),s.child=i.child,s.flags|=128,s=null):(Ni(),R=f.fallback,v=s.mode,f=Dc({mode:"visible",children:f.children},v),R=vr(R,v,l,null),R.flags|=2,f.return=s,R.return=s,f.sibling=R,s.child=f,Tr(s,i.child,null,l),f=s.child,f.memoizedState=Jh(l),f.childLanes=Kh(i,b,l),s.memoizedState=qh,s=al(null,f));else if(Mi(s),Mm(R)){if(b=R.nextSibling&&R.nextSibling.dataset,b)var F=b.dgst;b=F,f=Error(o(419)),f.stack="",f.digest=b,Xa({value:f,source:null,stack:null}),s=Xh(i,s,l)}else if(dt||ys(i,s,l,!1),b=(l&i.childLanes)!==0,dt||b){if(b=Ze,b!==null&&(f=N_(b,l),f!==0&&f!==P.retryLane))throw P.retryLane=f,gr(i,f),jt(b,i,f),Vh;Rm(R)||$c(),s=Xh(i,s,l)}else Rm(R)?(s.flags|=192,s.child=i.child,s=null):(i=P.treeContext,nt=In(R.nextSibling),Ct=s,Le=!0,wi=null,Mn=!1,i!==null&&A0(s,i),s=Yh(s,f.children),s.flags|=4096);return s}return v?(Ni(),R=f.fallback,v=s.mode,P=i.child,F=P.sibling,f=Bo(P,{mode:"hidden",children:f.children}),f.subtreeFlags=P.subtreeFlags&65011712,F!==null?R=Bo(F,R):(R=vr(R,v,l,null),R.flags|=2),R.return=s,f.return=s,f.sibling=R,s.child=f,al(null,f),f=s.child,R=i.child.memoizedState,R===null?R=Jh(l):(v=R.cachePool,v!==null?(P=ct._currentValue,v=v.parent!==P?{parent:P,pool:P}:v):v=D0(),R={baseLanes:R.baseLanes|l,cachePool:v}),f.memoizedState=R,f.childLanes=Kh(i,b,l),s.memoizedState=qh,al(i.child,f)):(Mi(s),l=i.child,i=l.sibling,l=Bo(l,{mode:"visible",children:f.children}),l.return=s,l.sibling=null,i!==null&&(b=s.deletions,b===null?(s.deletions=[i],s.flags|=16):b.push(i)),s.child=l,s.memoizedState=null,l)}function Yh(i,s){return s=Dc({mode:"visible",children:s},i.mode),s.return=i,i.child=s}function Dc(i,s){return i=an(22,i,null,s),i.lanes=0,i}function Xh(i,s,l){return Tr(s,i.child,null,l),i=Yh(s,s.pendingProps.children),i.flags|=2,s.memoizedState=null,i}function qS(i,s,l){i.lanes|=s;var f=i.alternate;f!==null&&(f.lanes|=s),ch(i.return,s,l)}function Wh(i,s,l,f,v,_){var b=i.memoizedState;b===null?i.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:f,tail:l,tailMode:v,treeForkCount:_}:(b.isBackwards=s,b.rendering=null,b.renderingStartTime=0,b.last=f,b.tail=l,b.tailMode=v,b.treeForkCount=_)}function JS(i,s,l){var f=s.pendingProps,v=f.revealOrder,_=f.tail;f=f.children;var b=lt.current,R=(b&2)!==0;if(R?(b=b&1|2,s.flags|=128):b&=1,se(lt,b),xt(i,s,f,l),f=Le?Ya:0,!R&&i!==null&&(i.flags&128)!==0)e:for(i=s.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&qS(i,l,s);else if(i.tag===19)qS(i,l,s);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break e;for(;i.sibling===null;){if(i.return===null||i.return===s)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(v){case"forwards":for(l=s.child,v=null;l!==null;)i=l.alternate,i!==null&&Sc(i)===null&&(v=l),l=l.sibling;l=v,l===null?(v=s.child,s.child=null):(v=l.sibling,l.sibling=null),Wh(s,!1,v,l,_,f);break;case"backwards":case"unstable_legacy-backwards":for(l=null,v=s.child,s.child=null;v!==null;){if(i=v.alternate,i!==null&&Sc(i)===null){s.child=v;break}i=v.sibling,v.sibling=l,l=v,v=i}Wh(s,!0,l,null,_,f);break;case"together":Wh(s,!1,null,null,void 0,f);break;default:s.memoizedState=null}return s.child}function zo(i,s,l){if(i!==null&&(s.dependencies=i.dependencies),Oi|=s.lanes,(l&s.childLanes)===0)if(i!==null){if(ys(i,s,l,!1),(l&s.childLanes)===0)return null}else return null;if(i!==null&&s.child!==i.child)throw Error(o(153));if(s.child!==null){for(i=s.child,l=Bo(i,i.pendingProps),s.child=l,l.return=s;i.sibling!==null;)i=i.sibling,l=l.sibling=Bo(i,i.pendingProps),l.return=s;l.sibling=null}return s.child}function jh(i,s){return(i.lanes&s)!==0?!0:(i=i.dependencies,!!(i!==null&&dc(i)))}function M1(i,s,l){switch(s.tag){case 3:Ve(s,s.stateNode.containerInfo),Ci(s,ct,i.memoizedState.cache),yr();break;case 27:case 5:nn(s);break;case 4:Ve(s,s.stateNode.containerInfo);break;case 10:Ci(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,bh(s),null;break;case 13:var f=s.memoizedState;if(f!==null)return f.dehydrated!==null?(Mi(s),s.flags|=128,null):(l&s.child.childLanes)!==0?zS(i,s,l):(Mi(s),i=zo(i,s,l),i!==null?i.sibling:null);Mi(s);break;case 19:var v=(i.flags&128)!==0;if(f=(l&s.childLanes)!==0,f||(ys(i,s,l,!1),f=(l&s.childLanes)!==0),v){if(f)return JS(i,s,l);s.flags|=128}if(v=s.memoizedState,v!==null&&(v.rendering=null,v.tail=null,v.lastEffect=null),se(lt,lt.current),f)break;return null;case 22:return s.lanes=0,BS(i,s,l,s.pendingProps);case 24:Ci(s,ct,i.memoizedState.cache)}return zo(i,s,l)}function KS(i,s,l){if(i!==null)if(i.memoizedProps!==s.pendingProps)dt=!0;else{if(!jh(i,l)&&(s.flags&128)===0)return dt=!1,M1(i,s,l);dt=(i.flags&131072)!==0}else dt=!1,Le&&(s.flags&1048576)!==0&&C0(s,Ya,s.index);switch(s.lanes=0,s.tag){case 16:e:{var f=s.pendingProps;if(i=br(s.elementType),s.type=i,typeof i=="function")nh(i)?(f=Ar(i,f),s.tag=1,s=FS(null,s,i,f,l)):(s.tag=0,s=zh(null,s,i,f,l));else{if(i!=null){var v=i.$$typeof;if(v===D){s.tag=11,s=LS(null,s,i,f,l);break e}else if(v===O){s.tag=14,s=US(null,s,i,f,l);break e}}throw s=ae(i)||i,Error(o(306,s,""))}}return s;case 0:return zh(i,s,s.type,s.pendingProps,l);case 1:return f=s.type,v=Ar(f,s.pendingProps),FS(i,s,f,v,l);case 3:e:{if(Ve(s,s.stateNode.containerInfo),i===null)throw Error(o(387));f=s.pendingProps;var _=s.memoizedState;v=_.element,vh(i,s),nl(s,f,null,l);var b=s.memoizedState;if(f=b.cache,Ci(s,ct,f),f!==_.cache&&fh(s,[ct],l,!0),tl(),f=b.element,_.isDehydrated)if(_={element:f,isDehydrated:!1,cache:b.cache},s.updateQueue.baseState=_,s.memoizedState=_,s.flags&256){s=VS(i,s,f,l);break e}else if(f!==v){v=An(Error(o(424)),s),Xa(v),s=VS(i,s,f,l);break e}else{switch(i=s.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(nt=In(i.firstChild),Ct=s,Le=!0,wi=null,Mn=!0,l=B0(s,null,f,l),s.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(yr(),f===v){s=zo(i,s,l);break e}xt(i,s,f,l)}s=s.child}return s;case 26:return Ic(i,s),i===null?(l=ib(s.type,null,s.pendingProps,null))?s.memoizedState=l:Le||(l=s.type,i=s.pendingProps,f=Yc(Ee.current).createElement(l),f[Tt]=s,f[qt]=i,Rt(f,l,i),yt(f),s.stateNode=f):s.memoizedState=ib(s.type,i.memoizedProps,s.pendingProps,i.memoizedState),null;case 27:return nn(s),i===null&&Le&&(f=s.stateNode=tb(s.type,s.pendingProps,Ee.current),Ct=s,Mn=!0,v=nt,Bi(s.type)?(Nm=v,nt=In(f.firstChild)):nt=v),xt(i,s,s.pendingProps.children,l),Ic(i,s),i===null&&(s.flags|=4194304),s.child;case 5:return i===null&&Le&&((v=f=nt)&&(f=rP(f,s.type,s.pendingProps,Mn),f!==null?(s.stateNode=f,Ct=s,nt=In(f.firstChild),Mn=!1,v=!0):v=!1),v||Ti(s)),nn(s),v=s.type,_=s.pendingProps,b=i!==null?i.memoizedProps:null,f=_.children,Cm(v,_)?f=null:b!==null&&Cm(v,b)&&(s.flags|=32),s.memoizedState!==null&&(v=Th(i,s,S1,null,null,l),bl._currentValue=v),Ic(i,s),xt(i,s,f,l),s.child;case 6:return i===null&&Le&&((i=l=nt)&&(l=sP(l,s.pendingProps,Mn),l!==null?(s.stateNode=l,Ct=s,nt=null,i=!0):i=!1),i||Ti(s)),null;case 13:return zS(i,s,l);case 4:return Ve(s,s.stateNode.containerInfo),f=s.pendingProps,i===null?s.child=Tr(s,null,f,l):xt(i,s,f,l),s.child;case 11:return LS(i,s,s.type,s.pendingProps,l);case 7:return xt(i,s,s.pendingProps,l),s.child;case 8:return xt(i,s,s.pendingProps.children,l),s.child;case 12:return xt(i,s,s.pendingProps.children,l),s.child;case 10:return f=s.pendingProps,Ci(s,s.type,f.value),xt(i,s,f.children,l),s.child;case 9:return v=s.type._context,f=s.pendingProps.children,Sr(s),v=At(v),f=f(v),s.flags|=1,xt(i,s,f,l),s.child;case 14:return US(i,s,s.type,s.pendingProps,l);case 15:return kS(i,s,s.type,s.pendingProps,l);case 19:return JS(i,s,l);case 31:return R1(i,s,l);case 22:return BS(i,s,l,s.pendingProps);case 24:return Sr(s),f=At(ct),i===null?(v=hh(),v===null&&(v=Ze,_=dh(),v.pooledCache=_,_.refCount++,_!==null&&(v.pooledCacheLanes|=l),v=_),s.memoizedState={parent:f,cache:v},gh(s),Ci(s,ct,v)):((i.lanes&l)!==0&&(vh(i,s),nl(s,null,null,l),tl()),v=i.memoizedState,_=s.memoizedState,v.parent!==f?(v={parent:f,cache:f},s.memoizedState=v,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=v),Ci(s,ct,f)):(f=_.cache,Ci(s,ct,f),f!==v.cache&&fh(s,[ct],l,!0))),xt(i,s,s.pendingProps.children,l),s.child;case 29:throw s.pendingProps}throw Error(o(156,s.tag))}function qo(i){i.flags|=4}function Qh(i,s,l,f,v){if((s=(i.mode&32)!==0)&&(s=!1),s){if(i.flags|=16777216,(v&335544128)===v)if(i.stateNode.complete)i.flags|=8192;else if(SE())i.flags|=8192;else throw wr=gc,mh}else i.flags&=-16777217}function YS(i,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!ub(s))if(SE())i.flags|=8192;else throw wr=gc,mh}function Oc(i,s){s!==null&&(i.flags|=4),i.flags&16384&&(s=i.tag!==22?x_():536870912,i.lanes|=s,Ns|=s)}function ll(i,s){if(!Le)switch(i.tailMode){case"hidden":s=i.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?i.tail=null:l.sibling=null;break;case"collapsed":l=i.tail;for(var f=null;l!==null;)l.alternate!==null&&(f=l),l=l.sibling;f===null?s||i.tail===null?i.tail=null:i.tail.sibling=null:f.sibling=null}}function ot(i){var s=i.alternate!==null&&i.alternate.child===i.child,l=0,f=0;if(s)for(var v=i.child;v!==null;)l|=v.lanes|v.childLanes,f|=v.subtreeFlags&65011712,f|=v.flags&65011712,v.return=i,v=v.sibling;else for(v=i.child;v!==null;)l|=v.lanes|v.childLanes,f|=v.subtreeFlags,f|=v.flags,v.return=i,v=v.sibling;return i.subtreeFlags|=f,i.childLanes=l,s}function N1(i,s,l){var f=s.pendingProps;switch(sh(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ot(s),null;case 1:return ot(s),null;case 3:return l=s.stateNode,f=null,i!==null&&(f=i.memoizedState.cache),s.memoizedState.cache!==f&&(s.flags|=2048),$o(ct),ze(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(i===null||i.child===null)&&(vs(s)?qo(s):i===null||i.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,lh())),ot(s),null;case 26:var v=s.type,_=s.memoizedState;return i===null?(qo(s),_!==null?(ot(s),YS(s,_)):(ot(s),Qh(s,v,null,f,l))):_?_!==i.memoizedState?(qo(s),ot(s),YS(s,_)):(ot(s),s.flags&=-16777217):(i=i.memoizedProps,i!==f&&qo(s),ot(s),Qh(s,v,i,f,l)),null;case 27:if(bn(s),l=Ee.current,v=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==f&&qo(s);else{if(!f){if(s.stateNode===null)throw Error(o(166));return ot(s),null}i=le.current,vs(s)?x0(s):(i=tb(v,f,l),s.stateNode=i,qo(s))}return ot(s),null;case 5:if(bn(s),v=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==f&&qo(s);else{if(!f){if(s.stateNode===null)throw Error(o(166));return ot(s),null}if(_=le.current,vs(s))x0(s);else{var b=Yc(Ee.current);switch(_){case 1:_=b.createElementNS("http://www.w3.org/2000/svg",v);break;case 2:_=b.createElementNS("http://www.w3.org/1998/Math/MathML",v);break;default:switch(v){case"svg":_=b.createElementNS("http://www.w3.org/2000/svg",v);break;case"math":_=b.createElementNS("http://www.w3.org/1998/Math/MathML",v);break;case"script":_=b.createElement("div"),_.innerHTML="<script><\/script>",_=_.removeChild(_.firstChild);break;case"select":_=typeof f.is=="string"?b.createElement("select",{is:f.is}):b.createElement("select"),f.multiple?_.multiple=!0:f.size&&(_.size=f.size);break;default:_=typeof f.is=="string"?b.createElement(v,{is:f.is}):b.createElement(v)}}_[Tt]=s,_[qt]=f;e:for(b=s.child;b!==null;){if(b.tag===5||b.tag===6)_.appendChild(b.stateNode);else if(b.tag!==4&&b.tag!==27&&b.child!==null){b.child.return=b,b=b.child;continue}if(b===s)break e;for(;b.sibling===null;){if(b.return===null||b.return===s)break e;b=b.return}b.sibling.return=b.return,b=b.sibling}s.stateNode=_;e:switch(Rt(_,v,f),v){case"button":case"input":case"select":case"textarea":f=!!f.autoFocus;break e;case"img":f=!0;break e;default:f=!1}f&&qo(s)}}return ot(s),Qh(s,s.type,i===null?null:i.memoizedProps,s.pendingProps,l),null;case 6:if(i&&s.stateNode!=null)i.memoizedProps!==f&&qo(s);else{if(typeof f!="string"&&s.stateNode===null)throw Error(o(166));if(i=Ee.current,vs(s)){if(i=s.stateNode,l=s.memoizedProps,f=null,v=Ct,v!==null)switch(v.tag){case 27:case 5:f=v.memoizedProps}i[Tt]=s,i=!!(i.nodeValue===l||f!==null&&f.suppressHydrationWarning===!0||zE(i.nodeValue,l)),i||Ti(s,!0)}else i=Yc(i).createTextNode(f),i[Tt]=s,s.stateNode=i}return ot(s),null;case 31:if(l=s.memoizedState,i===null||i.memoizedState!==null){if(f=vs(s),l!==null){if(i===null){if(!f)throw Error(o(318));if(i=s.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(o(557));i[Tt]=s}else yr(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;ot(s),i=!1}else l=lh(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=l),i=!0;if(!i)return s.flags&256?(un(s),s):(un(s),null);if((s.flags&128)!==0)throw Error(o(558))}return ot(s),null;case 13:if(f=s.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(v=vs(s),f!==null&&f.dehydrated!==null){if(i===null){if(!v)throw Error(o(318));if(v=s.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(o(317));v[Tt]=s}else yr(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;ot(s),v=!1}else v=lh(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=v),v=!0;if(!v)return s.flags&256?(un(s),s):(un(s),null)}return un(s),(s.flags&128)!==0?(s.lanes=l,s):(l=f!==null,i=i!==null&&i.memoizedState!==null,l&&(f=s.child,v=null,f.alternate!==null&&f.alternate.memoizedState!==null&&f.alternate.memoizedState.cachePool!==null&&(v=f.alternate.memoizedState.cachePool.pool),_=null,f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(_=f.memoizedState.cachePool.pool),_!==v&&(f.flags|=2048)),l!==i&&l&&(s.child.flags|=8192),Oc(s,s.updateQueue),ot(s),null);case 4:return ze(),i===null&&Sm(s.stateNode.containerInfo),ot(s),null;case 10:return $o(s.type),ot(s),null;case 19:if(Y(lt),f=s.memoizedState,f===null)return ot(s),null;if(v=(s.flags&128)!==0,_=f.rendering,_===null)if(v)ll(f,!1);else{if(at!==0||i!==null&&(i.flags&128)!==0)for(i=s.child;i!==null;){if(_=Sc(i),_!==null){for(s.flags|=128,ll(f,!1),i=_.updateQueue,s.updateQueue=i,Oc(s,i),s.subtreeFlags=0,i=l,l=s.child;l!==null;)b0(l,i),l=l.sibling;return se(lt,lt.current&1|2),Le&&Ho(s,f.treeForkCount),s.child}i=i.sibling}f.tail!==null&&wt()>Bc&&(s.flags|=128,v=!0,ll(f,!1),s.lanes=4194304)}else{if(!v)if(i=Sc(_),i!==null){if(s.flags|=128,v=!0,i=i.updateQueue,s.updateQueue=i,Oc(s,i),ll(f,!0),f.tail===null&&f.tailMode==="hidden"&&!_.alternate&&!Le)return ot(s),null}else 2*wt()-f.renderingStartTime>Bc&&l!==536870912&&(s.flags|=128,v=!0,ll(f,!1),s.lanes=4194304);f.isBackwards?(_.sibling=s.child,s.child=_):(i=f.last,i!==null?i.sibling=_:s.child=_,f.last=_)}return f.tail!==null?(i=f.tail,f.rendering=i,f.tail=i.sibling,f.renderingStartTime=wt(),i.sibling=null,l=lt.current,se(lt,v?l&1|2:l&1),Le&&Ho(s,f.treeForkCount),i):(ot(s),null);case 22:case 23:return un(s),Eh(),f=s.memoizedState!==null,i!==null?i.memoizedState!==null!==f&&(s.flags|=8192):f&&(s.flags|=8192),f?(l&536870912)!==0&&(s.flags&128)===0&&(ot(s),s.subtreeFlags&6&&(s.flags|=8192)):ot(s),l=s.updateQueue,l!==null&&Oc(s,l.retryQueue),l=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),f=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(f=s.memoizedState.cachePool.pool),f!==l&&(s.flags|=2048),i!==null&&Y(Er),null;case 24:return l=null,i!==null&&(l=i.memoizedState.cache),s.memoizedState.cache!==l&&(s.flags|=2048),$o(ct),ot(s),null;case 25:return null;case 30:return null}throw Error(o(156,s.tag))}function I1(i,s){switch(sh(s),s.tag){case 1:return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 3:return $o(ct),ze(),i=s.flags,(i&65536)!==0&&(i&128)===0?(s.flags=i&-65537|128,s):null;case 26:case 27:case 5:return bn(s),null;case 31:if(s.memoizedState!==null){if(un(s),s.alternate===null)throw Error(o(340));yr()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 13:if(un(s),i=s.memoizedState,i!==null&&i.dehydrated!==null){if(s.alternate===null)throw Error(o(340));yr()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 19:return Y(lt),null;case 4:return ze(),null;case 10:return $o(s.type),null;case 22:case 23:return un(s),Eh(),i!==null&&Y(Er),i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 24:return $o(ct),null;case 25:return null;default:return null}}function XS(i,s){switch(sh(s),s.tag){case 3:$o(ct),ze();break;case 26:case 27:case 5:bn(s);break;case 4:ze();break;case 31:s.memoizedState!==null&&un(s);break;case 13:un(s);break;case 19:Y(lt);break;case 10:$o(s.type);break;case 22:case 23:un(s),Eh(),i!==null&&Y(Er);break;case 24:$o(ct)}}function ul(i,s){try{var l=s.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var v=f.next;l=v;do{if((l.tag&i)===i){f=void 0;var _=l.create,b=l.inst;f=_(),b.destroy=f}l=l.next}while(l!==v)}}catch(R){Ye(s,s.return,R)}}function Ii(i,s,l){try{var f=s.updateQueue,v=f!==null?f.lastEffect:null;if(v!==null){var _=v.next;f=_;do{if((f.tag&i)===i){var b=f.inst,R=b.destroy;if(R!==void 0){b.destroy=void 0,v=s;var P=l,F=R;try{F()}catch(W){Ye(v,P,W)}}}f=f.next}while(f!==_)}}catch(W){Ye(s,s.return,W)}}function WS(i){var s=i.updateQueue;if(s!==null){var l=i.stateNode;try{G0(s,l)}catch(f){Ye(i,i.return,f)}}}function jS(i,s,l){l.props=Ar(i.type,i.memoizedProps),l.state=i.memoizedState;try{l.componentWillUnmount()}catch(f){Ye(i,s,f)}}function cl(i,s){try{var l=i.ref;if(l!==null){switch(i.tag){case 26:case 27:case 5:var f=i.stateNode;break;case 30:f=i.stateNode;break;default:f=i.stateNode}typeof l=="function"?i.refCleanup=l(f):l.current=f}}catch(v){Ye(i,s,v)}}function mo(i,s){var l=i.ref,f=i.refCleanup;if(l!==null)if(typeof f=="function")try{f()}catch(v){Ye(i,s,v)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(v){Ye(i,s,v)}else l.current=null}function QS(i){var s=i.type,l=i.memoizedProps,f=i.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":l.autoFocus&&f.focus();break e;case"img":l.src?f.src=l.src:l.srcSet&&(f.srcset=l.srcSet)}}catch(v){Ye(i,i.return,v)}}function Zh(i,s,l){try{var f=i.stateNode;Z1(f,i.type,l,s),f[qt]=s}catch(v){Ye(i,i.return,v)}}function ZS(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&Bi(i.type)||i.tag===4}function em(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||ZS(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&Bi(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function tm(i,s,l){var f=i.tag;if(f===5||f===6)i=i.stateNode,s?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(i,s):(s=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,s.appendChild(i),l=l._reactRootContainer,l!=null||s.onclick!==null||(s.onclick=Uo));else if(f!==4&&(f===27&&Bi(i.type)&&(l=i.stateNode,s=null),i=i.child,i!==null))for(tm(i,s,l),i=i.sibling;i!==null;)tm(i,s,l),i=i.sibling}function Pc(i,s,l){var f=i.tag;if(f===5||f===6)i=i.stateNode,s?l.insertBefore(i,s):l.appendChild(i);else if(f!==4&&(f===27&&Bi(i.type)&&(l=i.stateNode),i=i.child,i!==null))for(Pc(i,s,l),i=i.sibling;i!==null;)Pc(i,s,l),i=i.sibling}function eE(i){var s=i.stateNode,l=i.memoizedProps;try{for(var f=i.type,v=s.attributes;v.length;)s.removeAttributeNode(v[0]);Rt(s,f,l),s[Tt]=i,s[qt]=l}catch(_){Ye(i,i.return,_)}}var Jo=!1,pt=!1,nm=!1,tE=typeof WeakSet=="function"?WeakSet:Set,_t=null;function D1(i,s){if(i=i.containerInfo,wm=tf,i=p0(i),Xp(i)){if("selectionStart"in i)var l={start:i.selectionStart,end:i.selectionEnd};else e:{l=(l=i.ownerDocument)&&l.defaultView||window;var f=l.getSelection&&l.getSelection();if(f&&f.rangeCount!==0){l=f.anchorNode;var v=f.anchorOffset,_=f.focusNode;f=f.focusOffset;try{l.nodeType,_.nodeType}catch{l=null;break e}var b=0,R=-1,P=-1,F=0,W=0,te=i,z=null;t:for(;;){for(var K;te!==l||v!==0&&te.nodeType!==3||(R=b+v),te!==_||f!==0&&te.nodeType!==3||(P=b+f),te.nodeType===3&&(b+=te.nodeValue.length),(K=te.firstChild)!==null;)z=te,te=K;for(;;){if(te===i)break t;if(z===l&&++F===v&&(R=b),z===_&&++W===f&&(P=b),(K=te.nextSibling)!==null)break;te=z,z=te.parentNode}te=K}l=R===-1||P===-1?null:{start:R,end:P}}else l=null}l=l||{start:0,end:0}}else l=null;for(Tm={focusedElem:i,selectionRange:l},tf=!1,_t=s;_t!==null;)if(s=_t,i=s.child,(s.subtreeFlags&1028)!==0&&i!==null)i.return=s,_t=i;else for(;_t!==null;){switch(s=_t,_=s.alternate,i=s.flags,s.tag){case 0:if((i&4)!==0&&(i=s.updateQueue,i=i!==null?i.events:null,i!==null))for(l=0;l<i.length;l++)v=i[l],v.ref.impl=v.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&_!==null){i=void 0,l=s,v=_.memoizedProps,_=_.memoizedState,f=l.stateNode;try{var pe=Ar(l.type,v);i=f.getSnapshotBeforeUpdate(pe,_),f.__reactInternalSnapshotBeforeUpdate=i}catch(be){Ye(l,l.return,be)}}break;case 3:if((i&1024)!==0){if(i=s.stateNode.containerInfo,l=i.nodeType,l===9)xm(i);else if(l===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":xm(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(o(163))}if(i=s.sibling,i!==null){i.return=s.return,_t=i;break}_t=s.return}}function nE(i,s,l){var f=l.flags;switch(l.tag){case 0:case 11:case 15:Yo(i,l),f&4&&ul(5,l);break;case 1:if(Yo(i,l),f&4)if(i=l.stateNode,s===null)try{i.componentDidMount()}catch(b){Ye(l,l.return,b)}else{var v=Ar(l.type,s.memoizedProps);s=s.memoizedState;try{i.componentDidUpdate(v,s,i.__reactInternalSnapshotBeforeUpdate)}catch(b){Ye(l,l.return,b)}}f&64&&WS(l),f&512&&cl(l,l.return);break;case 3:if(Yo(i,l),f&64&&(i=l.updateQueue,i!==null)){if(s=null,l.child!==null)switch(l.child.tag){case 27:case 5:s=l.child.stateNode;break;case 1:s=l.child.stateNode}try{G0(i,s)}catch(b){Ye(l,l.return,b)}}break;case 27:s===null&&f&4&&eE(l);case 26:case 5:Yo(i,l),s===null&&f&4&&QS(l),f&512&&cl(l,l.return);break;case 12:Yo(i,l);break;case 31:Yo(i,l),f&4&&rE(i,l);break;case 13:Yo(i,l),f&4&&sE(i,l),f&64&&(i=l.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(l=$1.bind(null,l),aP(i,l))));break;case 22:if(f=l.memoizedState!==null||Jo,!f){s=s!==null&&s.memoizedState!==null||pt,v=Jo;var _=pt;Jo=f,(pt=s)&&!_?Xo(i,l,(l.subtreeFlags&8772)!==0):Yo(i,l),Jo=v,pt=_}break;case 30:break;default:Yo(i,l)}}function oE(i){var s=i.alternate;s!==null&&(i.alternate=null,oE(s)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(s=i.stateNode,s!==null&&Dp(s)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var rt=null,Kt=!1;function Ko(i,s,l){for(l=l.child;l!==null;)iE(i,s,l),l=l.sibling}function iE(i,s,l){if(on&&typeof on.onCommitFiberUnmount=="function")try{on.onCommitFiberUnmount(Pa,l)}catch{}switch(l.tag){case 26:pt||mo(l,s),Ko(i,s,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:pt||mo(l,s);var f=rt,v=Kt;Bi(l.type)&&(rt=l.stateNode,Kt=!1),Ko(i,s,l),_l(l.stateNode),rt=f,Kt=v;break;case 5:pt||mo(l,s);case 6:if(f=rt,v=Kt,rt=null,Ko(i,s,l),rt=f,Kt=v,rt!==null)if(Kt)try{(rt.nodeType===9?rt.body:rt.nodeName==="HTML"?rt.ownerDocument.body:rt).removeChild(l.stateNode)}catch(_){Ye(l,s,_)}else try{rt.removeChild(l.stateNode)}catch(_){Ye(l,s,_)}break;case 18:rt!==null&&(Kt?(i=rt,WE(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,l.stateNode),Bs(i)):WE(rt,l.stateNode));break;case 4:f=rt,v=Kt,rt=l.stateNode.containerInfo,Kt=!0,Ko(i,s,l),rt=f,Kt=v;break;case 0:case 11:case 14:case 15:Ii(2,l,s),pt||Ii(4,l,s),Ko(i,s,l);break;case 1:pt||(mo(l,s),f=l.stateNode,typeof f.componentWillUnmount=="function"&&jS(l,s,f)),Ko(i,s,l);break;case 21:Ko(i,s,l);break;case 22:pt=(f=pt)||l.memoizedState!==null,Ko(i,s,l),pt=f;break;default:Ko(i,s,l)}}function rE(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{Bs(i)}catch(l){Ye(s,s.return,l)}}}function sE(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Bs(i)}catch(l){Ye(s,s.return,l)}}function O1(i){switch(i.tag){case 31:case 13:case 19:var s=i.stateNode;return s===null&&(s=i.stateNode=new tE),s;case 22:return i=i.stateNode,s=i._retryCache,s===null&&(s=i._retryCache=new tE),s;default:throw Error(o(435,i.tag))}}function Lc(i,s){var l=O1(i);s.forEach(function(f){if(!l.has(f)){l.add(f);var v=F1.bind(null,i,f);f.then(v,v)}})}function Yt(i,s){var l=s.deletions;if(l!==null)for(var f=0;f<l.length;f++){var v=l[f],_=i,b=s,R=b;e:for(;R!==null;){switch(R.tag){case 27:if(Bi(R.type)){rt=R.stateNode,Kt=!1;break e}break;case 5:rt=R.stateNode,Kt=!1;break e;case 3:case 4:rt=R.stateNode.containerInfo,Kt=!0;break e}R=R.return}if(rt===null)throw Error(o(160));iE(_,b,v),rt=null,Kt=!1,_=v.alternate,_!==null&&(_.return=null),v.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)aE(s,i),s=s.sibling}var Yn=null;function aE(i,s){var l=i.alternate,f=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Yt(s,i),Xt(i),f&4&&(Ii(3,i,i.return),ul(3,i),Ii(5,i,i.return));break;case 1:Yt(s,i),Xt(i),f&512&&(pt||l===null||mo(l,l.return)),f&64&&Jo&&(i=i.updateQueue,i!==null&&(f=i.callbacks,f!==null&&(l=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=l===null?f:l.concat(f))));break;case 26:var v=Yn;if(Yt(s,i),Xt(i),f&512&&(pt||l===null||mo(l,l.return)),f&4){var _=l!==null?l.memoizedState:null;if(f=i.memoizedState,l===null)if(f===null)if(i.stateNode===null){e:{f=i.type,l=i.memoizedProps,v=v.ownerDocument||v;t:switch(f){case"title":_=v.getElementsByTagName("title")[0],(!_||_[ka]||_[Tt]||_.namespaceURI==="http://www.w3.org/2000/svg"||_.hasAttribute("itemprop"))&&(_=v.createElement(f),v.head.insertBefore(_,v.querySelector("head > title"))),Rt(_,f,l),_[Tt]=i,yt(_),f=_;break e;case"link":var b=ab("link","href",v).get(f+(l.href||""));if(b){for(var R=0;R<b.length;R++)if(_=b[R],_.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&_.getAttribute("rel")===(l.rel==null?null:l.rel)&&_.getAttribute("title")===(l.title==null?null:l.title)&&_.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){b.splice(R,1);break t}}_=v.createElement(f),Rt(_,f,l),v.head.appendChild(_);break;case"meta":if(b=ab("meta","content",v).get(f+(l.content||""))){for(R=0;R<b.length;R++)if(_=b[R],_.getAttribute("content")===(l.content==null?null:""+l.content)&&_.getAttribute("name")===(l.name==null?null:l.name)&&_.getAttribute("property")===(l.property==null?null:l.property)&&_.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&_.getAttribute("charset")===(l.charSet==null?null:l.charSet)){b.splice(R,1);break t}}_=v.createElement(f),Rt(_,f,l),v.head.appendChild(_);break;default:throw Error(o(468,f))}_[Tt]=i,yt(_),f=_}i.stateNode=f}else lb(v,i.type,i.stateNode);else i.stateNode=sb(v,f,i.memoizedProps);else _!==f?(_===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):_.count--,f===null?lb(v,i.type,i.stateNode):sb(v,f,i.memoizedProps)):f===null&&i.stateNode!==null&&Zh(i,i.memoizedProps,l.memoizedProps)}break;case 27:Yt(s,i),Xt(i),f&512&&(pt||l===null||mo(l,l.return)),l!==null&&f&4&&Zh(i,i.memoizedProps,l.memoizedProps);break;case 5:if(Yt(s,i),Xt(i),f&512&&(pt||l===null||mo(l,l.return)),i.flags&32){v=i.stateNode;try{as(v,"")}catch(pe){Ye(i,i.return,pe)}}f&4&&i.stateNode!=null&&(v=i.memoizedProps,Zh(i,v,l!==null?l.memoizedProps:v)),f&1024&&(nm=!0);break;case 6:if(Yt(s,i),Xt(i),f&4){if(i.stateNode===null)throw Error(o(162));f=i.memoizedProps,l=i.stateNode;try{l.nodeValue=f}catch(pe){Ye(i,i.return,pe)}}break;case 3:if(jc=null,v=Yn,Yn=Xc(s.containerInfo),Yt(s,i),Yn=v,Xt(i),f&4&&l!==null&&l.memoizedState.isDehydrated)try{Bs(s.containerInfo)}catch(pe){Ye(i,i.return,pe)}nm&&(nm=!1,lE(i));break;case 4:f=Yn,Yn=Xc(i.stateNode.containerInfo),Yt(s,i),Xt(i),Yn=f;break;case 12:Yt(s,i),Xt(i);break;case 31:Yt(s,i),Xt(i),f&4&&(f=i.updateQueue,f!==null&&(i.updateQueue=null,Lc(i,f)));break;case 13:Yt(s,i),Xt(i),i.child.flags&8192&&i.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(kc=wt()),f&4&&(f=i.updateQueue,f!==null&&(i.updateQueue=null,Lc(i,f)));break;case 22:v=i.memoizedState!==null;var P=l!==null&&l.memoizedState!==null,F=Jo,W=pt;if(Jo=F||v,pt=W||P,Yt(s,i),pt=W,Jo=F,Xt(i),f&8192)e:for(s=i.stateNode,s._visibility=v?s._visibility&-2:s._visibility|1,v&&(l===null||P||Jo||pt||xr(i)),l=null,s=i;;){if(s.tag===5||s.tag===26){if(l===null){P=l=s;try{if(_=P.stateNode,v)b=_.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none";else{R=P.stateNode;var te=P.memoizedProps.style,z=te!=null&&te.hasOwnProperty("display")?te.display:null;R.style.display=z==null||typeof z=="boolean"?"":(""+z).trim()}}catch(pe){Ye(P,P.return,pe)}}}else if(s.tag===6){if(l===null){P=s;try{P.stateNode.nodeValue=v?"":P.memoizedProps}catch(pe){Ye(P,P.return,pe)}}}else if(s.tag===18){if(l===null){P=s;try{var K=P.stateNode;v?jE(K,!0):jE(P.stateNode,!1)}catch(pe){Ye(P,P.return,pe)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===i)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break e;for(;s.sibling===null;){if(s.return===null||s.return===i)break e;l===s&&(l=null),s=s.return}l===s&&(l=null),s.sibling.return=s.return,s=s.sibling}f&4&&(f=i.updateQueue,f!==null&&(l=f.retryQueue,l!==null&&(f.retryQueue=null,Lc(i,l))));break;case 19:Yt(s,i),Xt(i),f&4&&(f=i.updateQueue,f!==null&&(i.updateQueue=null,Lc(i,f)));break;case 30:break;case 21:break;default:Yt(s,i),Xt(i)}}function Xt(i){var s=i.flags;if(s&2){try{for(var l,f=i.return;f!==null;){if(ZS(f)){l=f;break}f=f.return}if(l==null)throw Error(o(160));switch(l.tag){case 27:var v=l.stateNode,_=em(i);Pc(i,_,v);break;case 5:var b=l.stateNode;l.flags&32&&(as(b,""),l.flags&=-33);var R=em(i);Pc(i,R,b);break;case 3:case 4:var P=l.stateNode.containerInfo,F=em(i);tm(i,F,P);break;default:throw Error(o(161))}}catch(W){Ye(i,i.return,W)}i.flags&=-3}s&4096&&(i.flags&=-4097)}function lE(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var s=i;lE(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),i=i.sibling}}function Yo(i,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)nE(i,s.alternate,s),s=s.sibling}function xr(i){for(i=i.child;i!==null;){var s=i;switch(s.tag){case 0:case 11:case 14:case 15:Ii(4,s,s.return),xr(s);break;case 1:mo(s,s.return);var l=s.stateNode;typeof l.componentWillUnmount=="function"&&jS(s,s.return,l),xr(s);break;case 27:_l(s.stateNode);case 26:case 5:mo(s,s.return),xr(s);break;case 22:s.memoizedState===null&&xr(s);break;case 30:xr(s);break;default:xr(s)}i=i.sibling}}function Xo(i,s,l){for(l=l&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var f=s.alternate,v=i,_=s,b=_.flags;switch(_.tag){case 0:case 11:case 15:Xo(v,_,l),ul(4,_);break;case 1:if(Xo(v,_,l),f=_,v=f.stateNode,typeof v.componentDidMount=="function")try{v.componentDidMount()}catch(F){Ye(f,f.return,F)}if(f=_,v=f.updateQueue,v!==null){var R=f.stateNode;try{var P=v.shared.hiddenCallbacks;if(P!==null)for(v.shared.hiddenCallbacks=null,v=0;v<P.length;v++)H0(P[v],R)}catch(F){Ye(f,f.return,F)}}l&&b&64&&WS(_),cl(_,_.return);break;case 27:eE(_);case 26:case 5:Xo(v,_,l),l&&f===null&&b&4&&QS(_),cl(_,_.return);break;case 12:Xo(v,_,l);break;case 31:Xo(v,_,l),l&&b&4&&rE(v,_);break;case 13:Xo(v,_,l),l&&b&4&&sE(v,_);break;case 22:_.memoizedState===null&&Xo(v,_,l),cl(_,_.return);break;case 30:break;default:Xo(v,_,l)}s=s.sibling}}function om(i,s){var l=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),i=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(i=s.memoizedState.cachePool.pool),i!==l&&(i!=null&&i.refCount++,l!=null&&Wa(l))}function im(i,s){i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&Wa(i))}function Xn(i,s,l,f){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)uE(i,s,l,f),s=s.sibling}function uE(i,s,l,f){var v=s.flags;switch(s.tag){case 0:case 11:case 15:Xn(i,s,l,f),v&2048&&ul(9,s);break;case 1:Xn(i,s,l,f);break;case 3:Xn(i,s,l,f),v&2048&&(i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&Wa(i)));break;case 12:if(v&2048){Xn(i,s,l,f),i=s.stateNode;try{var _=s.memoizedProps,b=_.id,R=_.onPostCommit;typeof R=="function"&&R(b,s.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(P){Ye(s,s.return,P)}}else Xn(i,s,l,f);break;case 31:Xn(i,s,l,f);break;case 13:Xn(i,s,l,f);break;case 23:break;case 22:_=s.stateNode,b=s.alternate,s.memoizedState!==null?_._visibility&2?Xn(i,s,l,f):fl(i,s):_._visibility&2?Xn(i,s,l,f):(_._visibility|=2,xs(i,s,l,f,(s.subtreeFlags&10256)!==0||!1)),v&2048&&om(b,s);break;case 24:Xn(i,s,l,f),v&2048&&im(s.alternate,s);break;default:Xn(i,s,l,f)}}function xs(i,s,l,f,v){for(v=v&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var _=i,b=s,R=l,P=f,F=b.flags;switch(b.tag){case 0:case 11:case 15:xs(_,b,R,P,v),ul(8,b);break;case 23:break;case 22:var W=b.stateNode;b.memoizedState!==null?W._visibility&2?xs(_,b,R,P,v):fl(_,b):(W._visibility|=2,xs(_,b,R,P,v)),v&&F&2048&&om(b.alternate,b);break;case 24:xs(_,b,R,P,v),v&&F&2048&&im(b.alternate,b);break;default:xs(_,b,R,P,v)}s=s.sibling}}function fl(i,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var l=i,f=s,v=f.flags;switch(f.tag){case 22:fl(l,f),v&2048&&om(f.alternate,f);break;case 24:fl(l,f),v&2048&&im(f.alternate,f);break;default:fl(l,f)}s=s.sibling}}var dl=8192;function Rs(i,s,l){if(i.subtreeFlags&dl)for(i=i.child;i!==null;)cE(i,s,l),i=i.sibling}function cE(i,s,l){switch(i.tag){case 26:Rs(i,s,l),i.flags&dl&&i.memoizedState!==null&&_P(l,Yn,i.memoizedState,i.memoizedProps);break;case 5:Rs(i,s,l);break;case 3:case 4:var f=Yn;Yn=Xc(i.stateNode.containerInfo),Rs(i,s,l),Yn=f;break;case 22:i.memoizedState===null&&(f=i.alternate,f!==null&&f.memoizedState!==null?(f=dl,dl=16777216,Rs(i,s,l),dl=f):Rs(i,s,l));break;default:Rs(i,s,l)}}function fE(i){var s=i.alternate;if(s!==null&&(i=s.child,i!==null)){s.child=null;do s=i.sibling,i.sibling=null,i=s;while(i!==null)}}function pl(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var l=0;l<s.length;l++){var f=s[l];_t=f,pE(f,i)}fE(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)dE(i),i=i.sibling}function dE(i){switch(i.tag){case 0:case 11:case 15:pl(i),i.flags&2048&&Ii(9,i,i.return);break;case 3:pl(i);break;case 12:pl(i);break;case 22:var s=i.stateNode;i.memoizedState!==null&&s._visibility&2&&(i.return===null||i.return.tag!==13)?(s._visibility&=-3,Uc(i)):pl(i);break;default:pl(i)}}function Uc(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var l=0;l<s.length;l++){var f=s[l];_t=f,pE(f,i)}fE(i)}for(i=i.child;i!==null;){switch(s=i,s.tag){case 0:case 11:case 15:Ii(8,s,s.return),Uc(s);break;case 22:l=s.stateNode,l._visibility&2&&(l._visibility&=-3,Uc(s));break;default:Uc(s)}i=i.sibling}}function pE(i,s){for(;_t!==null;){var l=_t;switch(l.tag){case 0:case 11:case 15:Ii(8,l,s);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var f=l.memoizedState.cachePool.pool;f!=null&&f.refCount++}break;case 24:Wa(l.memoizedState.cache)}if(f=l.child,f!==null)f.return=l,_t=f;else e:for(l=i;_t!==null;){f=_t;var v=f.sibling,_=f.return;if(oE(f),f===l){_t=null;break e}if(v!==null){v.return=_,_t=v;break e}_t=_}}}var P1={getCacheForType:function(i){var s=At(ct),l=s.data.get(i);return l===void 0&&(l=i(),s.data.set(i,l)),l},cacheSignal:function(){return At(ct).controller.signal}},L1=typeof WeakMap=="function"?WeakMap:Map,qe=0,Ze=null,Ie=null,Oe=0,Ke=0,cn=null,Di=!1,Ms=!1,rm=!1,Wo=0,at=0,Oi=0,Rr=0,sm=0,fn=0,Ns=0,hl=null,Wt=null,am=!1,kc=0,hE=0,Bc=1/0,Hc=null,Pi=null,mt=0,Li=null,Is=null,jo=0,lm=0,um=null,mE=null,ml=0,cm=null;function dn(){return(qe&2)!==0&&Oe!==0?Oe&-Oe:H.T!==null?gm():I_()}function gE(){if(fn===0)if((Oe&536870912)===0||Le){var i=Ku;Ku<<=1,(Ku&3932160)===0&&(Ku=262144),fn=i}else fn=536870912;return i=ln.current,i!==null&&(i.flags|=32),fn}function jt(i,s,l){(i===Ze&&(Ke===2||Ke===9)||i.cancelPendingCommit!==null)&&(Ds(i,0),Ui(i,Oe,fn,!1)),Ua(i,l),((qe&2)===0||i!==Ze)&&(i===Ze&&((qe&2)===0&&(Rr|=l),at===4&&Ui(i,Oe,fn,!1)),go(i))}function vE(i,s,l){if((qe&6)!==0)throw Error(o(327));var f=!l&&(s&127)===0&&(s&i.expiredLanes)===0||La(i,s),v=f?B1(i,s):dm(i,s,!0),_=f;do{if(v===0){Ms&&!f&&Ui(i,s,0,!1);break}else{if(l=i.current.alternate,_&&!U1(l)){v=dm(i,s,!1),_=!1;continue}if(v===2){if(_=s,i.errorRecoveryDisabledLanes&_)var b=0;else b=i.pendingLanes&-536870913,b=b!==0?b:b&536870912?536870912:0;if(b!==0){s=b;e:{var R=i;v=hl;var P=R.current.memoizedState.isDehydrated;if(P&&(Ds(R,b).flags|=256),b=dm(R,b,!1),b!==2){if(rm&&!P){R.errorRecoveryDisabledLanes|=_,Rr|=_,v=4;break e}_=Wt,Wt=v,_!==null&&(Wt===null?Wt=_:Wt.push.apply(Wt,_))}v=b}if(_=!1,v!==2)continue}}if(v===1){Ds(i,0),Ui(i,s,0,!0);break}e:{switch(f=i,_=v,_){case 0:case 1:throw Error(o(345));case 4:if((s&4194048)!==s)break;case 6:Ui(f,s,fn,!Di);break e;case 2:Wt=null;break;case 3:case 5:break;default:throw Error(o(329))}if((s&62914560)===s&&(v=kc+300-wt(),10<v)){if(Ui(f,s,fn,!Di),Xu(f,0,!0)!==0)break e;jo=s,f.timeoutHandle=YE(yE.bind(null,f,l,Wt,Hc,am,s,fn,Rr,Ns,Di,_,"Throttled",-0,0),v);break e}yE(f,l,Wt,Hc,am,s,fn,Rr,Ns,Di,_,null,-0,0)}}break}while(!0);go(i)}function yE(i,s,l,f,v,_,b,R,P,F,W,te,z,K){if(i.timeoutHandle=-1,te=s.subtreeFlags,te&8192||(te&16785408)===16785408){te={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Uo},cE(s,_,te);var pe=(_&62914560)===_?kc-wt():(_&4194048)===_?hE-wt():0;if(pe=SP(te,pe),pe!==null){jo=_,i.cancelPendingCommit=pe(AE.bind(null,i,s,_,l,f,v,b,R,P,W,te,null,z,K)),Ui(i,_,b,!F);return}}AE(i,s,_,l,f,v,b,R,P)}function U1(i){for(var s=i;;){var l=s.tag;if((l===0||l===11||l===15)&&s.flags&16384&&(l=s.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var f=0;f<l.length;f++){var v=l[f],_=v.getSnapshot;v=v.value;try{if(!sn(_(),v))return!1}catch{return!1}}if(l=s.child,s.subtreeFlags&16384&&l!==null)l.return=s,s=l;else{if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Ui(i,s,l,f){s&=~sm,s&=~Rr,i.suspendedLanes|=s,i.pingedLanes&=~s,f&&(i.warmLanes|=s),f=i.expirationTimes;for(var v=s;0<v;){var _=31-rn(v),b=1<<_;f[_]=-1,v&=~b}l!==0&&R_(i,l,s)}function Gc(){return(qe&6)===0?(gl(0),!1):!0}function fm(){if(Ie!==null){if(Ke===0)var i=Ie.return;else i=Ie,Go=_r=null,xh(i),bs=null,Qa=0,i=Ie;for(;i!==null;)XS(i.alternate,i),i=i.return;Ie=null}}function Ds(i,s){var l=i.timeoutHandle;l!==-1&&(i.timeoutHandle=-1,nP(l)),l=i.cancelPendingCommit,l!==null&&(i.cancelPendingCommit=null,l()),jo=0,fm(),Ze=i,Ie=l=Bo(i.current,null),Oe=s,Ke=0,cn=null,Di=!1,Ms=La(i,s),rm=!1,Ns=fn=sm=Rr=Oi=at=0,Wt=hl=null,am=!1,(s&8)!==0&&(s|=s&32);var f=i.entangledLanes;if(f!==0)for(i=i.entanglements,f&=s;0<f;){var v=31-rn(f),_=1<<v;s|=i[v],f&=~_}return Wo=s,ac(),l}function _E(i,s){xe=null,H.H=sl,s===Es||s===mc?(s=L0(),Ke=3):s===mh?(s=L0(),Ke=4):Ke=s===Vh?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,cn=s,Ie===null&&(at=1,Mc(i,An(s,i.current)))}function SE(){var i=ln.current;return i===null?!0:(Oe&4194048)===Oe?Nn===null:(Oe&62914560)===Oe||(Oe&536870912)!==0?i===Nn:!1}function EE(){var i=H.H;return H.H=sl,i===null?sl:i}function bE(){var i=H.A;return H.A=P1,i}function $c(){at=4,Di||(Oe&4194048)!==Oe&&ln.current!==null||(Ms=!0),(Oi&134217727)===0&&(Rr&134217727)===0||Ze===null||Ui(Ze,Oe,fn,!1)}function dm(i,s,l){var f=qe;qe|=2;var v=EE(),_=bE();(Ze!==i||Oe!==s)&&(Hc=null,Ds(i,s)),s=!1;var b=at;e:do try{if(Ke!==0&&Ie!==null){var R=Ie,P=cn;switch(Ke){case 8:fm(),b=6;break e;case 3:case 2:case 9:case 6:ln.current===null&&(s=!0);var F=Ke;if(Ke=0,cn=null,Os(i,R,P,F),l&&Ms){b=0;break e}break;default:F=Ke,Ke=0,cn=null,Os(i,R,P,F)}}k1(),b=at;break}catch(W){_E(i,W)}while(!0);return s&&i.shellSuspendCounter++,Go=_r=null,qe=f,H.H=v,H.A=_,Ie===null&&(Ze=null,Oe=0,ac()),b}function k1(){for(;Ie!==null;)wE(Ie)}function B1(i,s){var l=qe;qe|=2;var f=EE(),v=bE();Ze!==i||Oe!==s?(Hc=null,Bc=wt()+500,Ds(i,s)):Ms=La(i,s);e:do try{if(Ke!==0&&Ie!==null){s=Ie;var _=cn;t:switch(Ke){case 1:Ke=0,cn=null,Os(i,s,_,1);break;case 2:case 9:if(O0(_)){Ke=0,cn=null,TE(s);break}s=function(){Ke!==2&&Ke!==9||Ze!==i||(Ke=7),go(i)},_.then(s,s);break e;case 3:Ke=7;break e;case 4:Ke=5;break e;case 7:O0(_)?(Ke=0,cn=null,TE(s)):(Ke=0,cn=null,Os(i,s,_,7));break;case 5:var b=null;switch(Ie.tag){case 26:b=Ie.memoizedState;case 5:case 27:var R=Ie;if(b?ub(b):R.stateNode.complete){Ke=0,cn=null;var P=R.sibling;if(P!==null)Ie=P;else{var F=R.return;F!==null?(Ie=F,Fc(F)):Ie=null}break t}}Ke=0,cn=null,Os(i,s,_,5);break;case 6:Ke=0,cn=null,Os(i,s,_,6);break;case 8:fm(),at=6;break e;default:throw Error(o(462))}}H1();break}catch(W){_E(i,W)}while(!0);return Go=_r=null,H.H=f,H.A=v,qe=l,Ie!==null?0:(Ze=null,Oe=0,ac(),at)}function H1(){for(;Ie!==null&&!Vu();)wE(Ie)}function wE(i){var s=KS(i.alternate,i,Wo);i.memoizedProps=i.pendingProps,s===null?Fc(i):Ie=s}function TE(i){var s=i,l=s.alternate;switch(s.tag){case 15:case 0:s=$S(l,s,s.pendingProps,s.type,void 0,Oe);break;case 11:s=$S(l,s,s.pendingProps,s.type.render,s.ref,Oe);break;case 5:xh(s);default:XS(l,s),s=Ie=b0(s,Wo),s=KS(l,s,Wo)}i.memoizedProps=i.pendingProps,s===null?Fc(i):Ie=s}function Os(i,s,l,f){Go=_r=null,xh(s),bs=null,Qa=0;var v=s.return;try{if(x1(i,v,s,l,Oe)){at=1,Mc(i,An(l,i.current)),Ie=null;return}}catch(_){if(v!==null)throw Ie=v,_;at=1,Mc(i,An(l,i.current)),Ie=null;return}s.flags&32768?(Le||f===1?i=!0:Ms||(Oe&536870912)!==0?i=!1:(Di=i=!0,(f===2||f===9||f===3||f===6)&&(f=ln.current,f!==null&&f.tag===13&&(f.flags|=16384))),CE(s,i)):Fc(s)}function Fc(i){var s=i;do{if((s.flags&32768)!==0){CE(s,Di);return}i=s.return;var l=N1(s.alternate,s,Wo);if(l!==null){Ie=l;return}if(s=s.sibling,s!==null){Ie=s;return}Ie=s=i}while(s!==null);at===0&&(at=5)}function CE(i,s){do{var l=I1(i.alternate,i);if(l!==null){l.flags&=32767,Ie=l;return}if(l=i.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!s&&(i=i.sibling,i!==null)){Ie=i;return}Ie=i=l}while(i!==null);at=6,Ie=null}function AE(i,s,l,f,v,_,b,R,P){i.cancelPendingCommit=null;do Vc();while(mt!==0);if((qe&6)!==0)throw Error(o(327));if(s!==null){if(s===i.current)throw Error(o(177));if(_=s.lanes|s.childLanes,_|=eh,yO(i,l,_,b,R,P),i===Ze&&(Ie=Ze=null,Oe=0),Is=s,Li=i,jo=l,lm=_,um=v,mE=f,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,V1(cr,function(){return IE(),null})):(i.callbackNode=null,i.callbackPriority=0),f=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||f){f=H.T,H.T=null,v=Q.p,Q.p=2,b=qe,qe|=4;try{D1(i,s,l)}finally{qe=b,Q.p=v,H.T=f}}mt=1,xE(),RE(),ME()}}function xE(){if(mt===1){mt=0;var i=Li,s=Is,l=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||l){l=H.T,H.T=null;var f=Q.p;Q.p=2;var v=qe;qe|=4;try{aE(s,i);var _=Tm,b=p0(i.containerInfo),R=_.focusedElem,P=_.selectionRange;if(b!==R&&R&&R.ownerDocument&&d0(R.ownerDocument.documentElement,R)){if(P!==null&&Xp(R)){var F=P.start,W=P.end;if(W===void 0&&(W=F),"selectionStart"in R)R.selectionStart=F,R.selectionEnd=Math.min(W,R.value.length);else{var te=R.ownerDocument||document,z=te&&te.defaultView||window;if(z.getSelection){var K=z.getSelection(),pe=R.textContent.length,be=Math.min(P.start,pe),je=P.end===void 0?be:Math.min(P.end,pe);!K.extend&&be>je&&(b=je,je=be,be=b);var G=f0(R,be),B=f0(R,je);if(G&&B&&(K.rangeCount!==1||K.anchorNode!==G.node||K.anchorOffset!==G.offset||K.focusNode!==B.node||K.focusOffset!==B.offset)){var $=te.createRange();$.setStart(G.node,G.offset),K.removeAllRanges(),be>je?(K.addRange($),K.extend(B.node,B.offset)):($.setEnd(B.node,B.offset),K.addRange($))}}}}for(te=[],K=R;K=K.parentNode;)K.nodeType===1&&te.push({element:K,left:K.scrollLeft,top:K.scrollTop});for(typeof R.focus=="function"&&R.focus(),R=0;R<te.length;R++){var Z=te[R];Z.element.scrollLeft=Z.left,Z.element.scrollTop=Z.top}}tf=!!wm,Tm=wm=null}finally{qe=v,Q.p=f,H.T=l}}i.current=s,mt=2}}function RE(){if(mt===2){mt=0;var i=Li,s=Is,l=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||l){l=H.T,H.T=null;var f=Q.p;Q.p=2;var v=qe;qe|=4;try{nE(i,s.alternate,s)}finally{qe=v,Q.p=f,H.T=l}}mt=3}}function ME(){if(mt===4||mt===3){mt=0,zu();var i=Li,s=Is,l=jo,f=mE;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?mt=5:(mt=0,Is=Li=null,NE(i,i.pendingLanes));var v=i.pendingLanes;if(v===0&&(Pi=null),Np(l),s=s.stateNode,on&&typeof on.onCommitFiberRoot=="function")try{on.onCommitFiberRoot(Pa,s,void 0,(s.current.flags&128)===128)}catch{}if(f!==null){s=H.T,v=Q.p,Q.p=2,H.T=null;try{for(var _=i.onRecoverableError,b=0;b<f.length;b++){var R=f[b];_(R.value,{componentStack:R.stack})}}finally{H.T=s,Q.p=v}}(jo&3)!==0&&Vc(),go(i),v=i.pendingLanes,(l&261930)!==0&&(v&42)!==0?i===cm?ml++:(ml=0,cm=i):ml=0,gl(0)}}function NE(i,s){(i.pooledCacheLanes&=s)===0&&(s=i.pooledCache,s!=null&&(i.pooledCache=null,Wa(s)))}function Vc(){return xE(),RE(),ME(),IE()}function IE(){if(mt!==5)return!1;var i=Li,s=lm;lm=0;var l=Np(jo),f=H.T,v=Q.p;try{Q.p=32>l?32:l,H.T=null,l=um,um=null;var _=Li,b=jo;if(mt=0,Is=Li=null,jo=0,(qe&6)!==0)throw Error(o(331));var R=qe;if(qe|=4,dE(_.current),uE(_,_.current,b,l),qe=R,gl(0,!1),on&&typeof on.onPostCommitFiberRoot=="function")try{on.onPostCommitFiberRoot(Pa,_)}catch{}return!0}finally{Q.p=v,H.T=f,NE(i,s)}}function DE(i,s,l){s=An(l,s),s=Fh(i.stateNode,s,2),i=Ri(i,s,2),i!==null&&(Ua(i,2),go(i))}function Ye(i,s,l){if(i.tag===3)DE(i,i,l);else for(;s!==null;){if(s.tag===3){DE(s,i,l);break}else if(s.tag===1){var f=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(Pi===null||!Pi.has(f))){i=An(l,i),l=OS(2),f=Ri(s,l,2),f!==null&&(PS(l,f,s,i),Ua(f,2),go(f));break}}s=s.return}}function pm(i,s,l){var f=i.pingCache;if(f===null){f=i.pingCache=new L1;var v=new Set;f.set(s,v)}else v=f.get(s),v===void 0&&(v=new Set,f.set(s,v));v.has(l)||(rm=!0,v.add(l),i=G1.bind(null,i,s,l),s.then(i,i))}function G1(i,s,l){var f=i.pingCache;f!==null&&f.delete(s),i.pingedLanes|=i.suspendedLanes&l,i.warmLanes&=~l,Ze===i&&(Oe&l)===l&&(at===4||at===3&&(Oe&62914560)===Oe&&300>wt()-kc?(qe&2)===0&&Ds(i,0):sm|=l,Ns===Oe&&(Ns=0)),go(i)}function OE(i,s){s===0&&(s=x_()),i=gr(i,s),i!==null&&(Ua(i,s),go(i))}function $1(i){var s=i.memoizedState,l=0;s!==null&&(l=s.retryLane),OE(i,l)}function F1(i,s){var l=0;switch(i.tag){case 31:case 13:var f=i.stateNode,v=i.memoizedState;v!==null&&(l=v.retryLane);break;case 19:f=i.stateNode;break;case 22:f=i.stateNode._retryCache;break;default:throw Error(o(314))}f!==null&&f.delete(s),OE(i,l)}function V1(i,s){return Jn(i,s)}var zc=null,Ps=null,hm=!1,qc=!1,mm=!1,ki=0;function go(i){i!==Ps&&i.next===null&&(Ps===null?zc=Ps=i:Ps=Ps.next=i),qc=!0,hm||(hm=!0,q1())}function gl(i,s){if(!mm&&qc){mm=!0;do for(var l=!1,f=zc;f!==null;){if(i!==0){var v=f.pendingLanes;if(v===0)var _=0;else{var b=f.suspendedLanes,R=f.pingedLanes;_=(1<<31-rn(42|i)+1)-1,_&=v&~(b&~R),_=_&201326741?_&201326741|1:_?_|2:0}_!==0&&(l=!0,kE(f,_))}else _=Oe,_=Xu(f,f===Ze?_:0,f.cancelPendingCommit!==null||f.timeoutHandle!==-1),(_&3)===0||La(f,_)||(l=!0,kE(f,_));f=f.next}while(l);mm=!1}}function z1(){PE()}function PE(){qc=hm=!1;var i=0;ki!==0&&tP()&&(i=ki);for(var s=wt(),l=null,f=zc;f!==null;){var v=f.next,_=LE(f,s);_===0?(f.next=null,l===null?zc=v:l.next=v,v===null&&(Ps=l)):(l=f,(i!==0||(_&3)!==0)&&(qc=!0)),f=v}mt!==0&&mt!==5||gl(i),ki!==0&&(ki=0)}function LE(i,s){for(var l=i.suspendedLanes,f=i.pingedLanes,v=i.expirationTimes,_=i.pendingLanes&-62914561;0<_;){var b=31-rn(_),R=1<<b,P=v[b];P===-1?((R&l)===0||(R&f)!==0)&&(v[b]=vO(R,s)):P<=s&&(i.expiredLanes|=R),_&=~R}if(s=Ze,l=Oe,l=Xu(i,i===s?l:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),f=i.callbackNode,l===0||i===s&&(Ke===2||Ke===9)||i.cancelPendingCommit!==null)return f!==null&&f!==null&&yi(f),i.callbackNode=null,i.callbackPriority=0;if((l&3)===0||La(i,l)){if(s=l&-l,s===i.callbackPriority)return s;switch(f!==null&&yi(f),Np(l)){case 2:case 8:l=Oa;break;case 32:l=cr;break;case 268435456:l=A_;break;default:l=cr}return f=UE.bind(null,i),l=Jn(l,f),i.callbackPriority=s,i.callbackNode=l,s}return f!==null&&f!==null&&yi(f),i.callbackPriority=2,i.callbackNode=null,2}function UE(i,s){if(mt!==0&&mt!==5)return i.callbackNode=null,i.callbackPriority=0,null;var l=i.callbackNode;if(Vc()&&i.callbackNode!==l)return null;var f=Oe;return f=Xu(i,i===Ze?f:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),f===0?null:(vE(i,f,s),LE(i,wt()),i.callbackNode!=null&&i.callbackNode===l?UE.bind(null,i):null)}function kE(i,s){if(Vc())return null;vE(i,s,!0)}function q1(){oP(function(){(qe&6)!==0?Jn(Da,z1):PE()})}function gm(){if(ki===0){var i=_s;i===0&&(i=Ju,Ju<<=1,(Ju&261888)===0&&(Ju=256)),ki=i}return ki}function BE(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Zu(""+i)}function HE(i,s){var l=s.ownerDocument.createElement("input");return l.name=s.name,l.value=s.value,i.id&&l.setAttribute("form",i.id),s.parentNode.insertBefore(l,s),i=new FormData(i),l.parentNode.removeChild(l),i}function J1(i,s,l,f,v){if(s==="submit"&&l&&l.stateNode===v){var _=BE((v[qt]||null).action),b=f.submitter;b&&(s=(s=b[qt]||null)?BE(s.formAction):b.getAttribute("formAction"),s!==null&&(_=s,b=null));var R=new oc("action","action",null,f,v);i.push({event:R,listeners:[{instance:null,listener:function(){if(f.defaultPrevented){if(ki!==0){var P=b?HE(v,b):new FormData(v);Uh(l,{pending:!0,data:P,method:v.method,action:_},null,P)}}else typeof _=="function"&&(R.preventDefault(),P=b?HE(v,b):new FormData(v),Uh(l,{pending:!0,data:P,method:v.method,action:_},_,P))},currentTarget:v}]})}}for(var vm=0;vm<Zp.length;vm++){var ym=Zp[vm],K1=ym.toLowerCase(),Y1=ym[0].toUpperCase()+ym.slice(1);Kn(K1,"on"+Y1)}Kn(g0,"onAnimationEnd"),Kn(v0,"onAnimationIteration"),Kn(y0,"onAnimationStart"),Kn("dblclick","onDoubleClick"),Kn("focusin","onFocus"),Kn("focusout","onBlur"),Kn(c1,"onTransitionRun"),Kn(f1,"onTransitionStart"),Kn(d1,"onTransitionCancel"),Kn(_0,"onTransitionEnd"),rs("onMouseEnter",["mouseout","mouseover"]),rs("onMouseLeave",["mouseout","mouseover"]),rs("onPointerEnter",["pointerout","pointerover"]),rs("onPointerLeave",["pointerout","pointerover"]),dr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),dr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),dr("onBeforeInput",["compositionend","keypress","textInput","paste"]),dr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),dr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),dr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var vl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),X1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(vl));function GE(i,s){s=(s&4)!==0;for(var l=0;l<i.length;l++){var f=i[l],v=f.event;f=f.listeners;e:{var _=void 0;if(s)for(var b=f.length-1;0<=b;b--){var R=f[b],P=R.instance,F=R.currentTarget;if(R=R.listener,P!==_&&v.isPropagationStopped())break e;_=R,v.currentTarget=F;try{_(v)}catch(W){sc(W)}v.currentTarget=null,_=P}else for(b=0;b<f.length;b++){if(R=f[b],P=R.instance,F=R.currentTarget,R=R.listener,P!==_&&v.isPropagationStopped())break e;_=R,v.currentTarget=F;try{_(v)}catch(W){sc(W)}v.currentTarget=null,_=P}}}}function De(i,s){var l=s[Ip];l===void 0&&(l=s[Ip]=new Set);var f=i+"__bubble";l.has(f)||($E(s,i,2,!1),l.add(f))}function _m(i,s,l){var f=0;s&&(f|=4),$E(l,i,f,s)}var Jc="_reactListening"+Math.random().toString(36).slice(2);function Sm(i){if(!i[Jc]){i[Jc]=!0,P_.forEach(function(l){l!=="selectionchange"&&(X1.has(l)||_m(l,!1,i),_m(l,!0,i))});var s=i.nodeType===9?i:i.ownerDocument;s===null||s[Jc]||(s[Jc]=!0,_m("selectionchange",!1,s))}}function $E(i,s,l,f){switch(gb(s)){case 2:var v=wP;break;case 8:v=TP;break;default:v=Lm}l=v.bind(null,s,l,i),v=void 0,!Gp||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(v=!0),f?v!==void 0?i.addEventListener(s,l,{capture:!0,passive:v}):i.addEventListener(s,l,!0):v!==void 0?i.addEventListener(s,l,{passive:v}):i.addEventListener(s,l,!1)}function Em(i,s,l,f,v){var _=f;if((s&1)===0&&(s&2)===0&&f!==null)e:for(;;){if(f===null)return;var b=f.tag;if(b===3||b===4){var R=f.stateNode.containerInfo;if(R===v)break;if(b===4)for(b=f.return;b!==null;){var P=b.tag;if((P===3||P===4)&&b.stateNode.containerInfo===v)return;b=b.return}for(;R!==null;){if(b=ns(R),b===null)return;if(P=b.tag,P===5||P===6||P===26||P===27){f=_=b;continue e}R=R.parentNode}}f=f.return}J_(function(){var F=_,W=Bp(l),te=[];e:{var z=S0.get(i);if(z!==void 0){var K=oc,pe=i;switch(i){case"keypress":if(tc(l)===0)break e;case"keydown":case"keyup":K=FO;break;case"focusin":pe="focus",K=zp;break;case"focusout":pe="blur",K=zp;break;case"beforeblur":case"afterblur":K=zp;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":K=X_;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":K=NO;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":K=qO;break;case g0:case v0:case y0:K=OO;break;case _0:K=KO;break;case"scroll":case"scrollend":K=RO;break;case"wheel":K=XO;break;case"copy":case"cut":case"paste":K=LO;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":K=j_;break;case"toggle":case"beforetoggle":K=jO}var be=(s&4)!==0,je=!be&&(i==="scroll"||i==="scrollend"),G=be?z!==null?z+"Capture":null:z;be=[];for(var B=F,$;B!==null;){var Z=B;if($=Z.stateNode,Z=Z.tag,Z!==5&&Z!==26&&Z!==27||$===null||G===null||(Z=Ha(B,G),Z!=null&&be.push(yl(B,Z,$))),je)break;B=B.return}0<be.length&&(z=new K(z,pe,null,l,W),te.push({event:z,listeners:be}))}}if((s&7)===0){e:{if(z=i==="mouseover"||i==="pointerover",K=i==="mouseout"||i==="pointerout",z&&l!==kp&&(pe=l.relatedTarget||l.fromElement)&&(ns(pe)||pe[ts]))break e;if((K||z)&&(z=W.window===W?W:(z=W.ownerDocument)?z.defaultView||z.parentWindow:window,K?(pe=l.relatedTarget||l.toElement,K=F,pe=pe?ns(pe):null,pe!==null&&(je=a(pe),be=pe.tag,pe!==je||be!==5&&be!==27&&be!==6)&&(pe=null)):(K=null,pe=F),K!==pe)){if(be=X_,Z="onMouseLeave",G="onMouseEnter",B="mouse",(i==="pointerout"||i==="pointerover")&&(be=j_,Z="onPointerLeave",G="onPointerEnter",B="pointer"),je=K==null?z:Ba(K),$=pe==null?z:Ba(pe),z=new be(Z,B+"leave",K,l,W),z.target=je,z.relatedTarget=$,Z=null,ns(W)===F&&(be=new be(G,B+"enter",pe,l,W),be.target=$,be.relatedTarget=je,Z=be),je=Z,K&&pe)t:{for(be=W1,G=K,B=pe,$=0,Z=G;Z;Z=be(Z))$++;Z=0;for(var _e=B;_e;_e=be(_e))Z++;for(;0<$-Z;)G=be(G),$--;for(;0<Z-$;)B=be(B),Z--;for(;$--;){if(G===B||B!==null&&G===B.alternate){be=G;break t}G=be(G),B=be(B)}be=null}else be=null;K!==null&&FE(te,z,K,be,!1),pe!==null&&je!==null&&FE(te,je,pe,be,!0)}}e:{if(z=F?Ba(F):window,K=z.nodeName&&z.nodeName.toLowerCase(),K==="select"||K==="input"&&z.type==="file")var He=r0;else if(o0(z))if(s0)He=a1;else{He=r1;var ge=i1}else K=z.nodeName,!K||K.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?F&&Up(F.elementType)&&(He=r0):He=s1;if(He&&(He=He(i,F))){i0(te,He,l,W);break e}ge&&ge(i,z,F),i==="focusout"&&F&&z.type==="number"&&F.memoizedProps.value!=null&&Lp(z,"number",z.value)}switch(ge=F?Ba(F):window,i){case"focusin":(o0(ge)||ge.contentEditable==="true")&&(fs=ge,Wp=F,Ka=null);break;case"focusout":Ka=Wp=fs=null;break;case"mousedown":jp=!0;break;case"contextmenu":case"mouseup":case"dragend":jp=!1,h0(te,l,W);break;case"selectionchange":if(u1)break;case"keydown":case"keyup":h0(te,l,W)}var Re;if(Jp)e:{switch(i){case"compositionstart":var Pe="onCompositionStart";break e;case"compositionend":Pe="onCompositionEnd";break e;case"compositionupdate":Pe="onCompositionUpdate";break e}Pe=void 0}else cs?t0(i,l)&&(Pe="onCompositionEnd"):i==="keydown"&&l.keyCode===229&&(Pe="onCompositionStart");Pe&&(Q_&&l.locale!=="ko"&&(cs||Pe!=="onCompositionStart"?Pe==="onCompositionEnd"&&cs&&(Re=K_()):(Ei=W,$p="value"in Ei?Ei.value:Ei.textContent,cs=!0)),ge=Kc(F,Pe),0<ge.length&&(Pe=new W_(Pe,i,null,l,W),te.push({event:Pe,listeners:ge}),Re?Pe.data=Re:(Re=n0(l),Re!==null&&(Pe.data=Re)))),(Re=ZO?e1(i,l):t1(i,l))&&(Pe=Kc(F,"onBeforeInput"),0<Pe.length&&(ge=new W_("onBeforeInput","beforeinput",null,l,W),te.push({event:ge,listeners:Pe}),ge.data=Re)),J1(te,i,F,l,W)}GE(te,s)})}function yl(i,s,l){return{instance:i,listener:s,currentTarget:l}}function Kc(i,s){for(var l=s+"Capture",f=[];i!==null;){var v=i,_=v.stateNode;if(v=v.tag,v!==5&&v!==26&&v!==27||_===null||(v=Ha(i,l),v!=null&&f.unshift(yl(i,v,_)),v=Ha(i,s),v!=null&&f.push(yl(i,v,_))),i.tag===3)return f;i=i.return}return[]}function W1(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function FE(i,s,l,f,v){for(var _=s._reactName,b=[];l!==null&&l!==f;){var R=l,P=R.alternate,F=R.stateNode;if(R=R.tag,P!==null&&P===f)break;R!==5&&R!==26&&R!==27||F===null||(P=F,v?(F=Ha(l,_),F!=null&&b.unshift(yl(l,F,P))):v||(F=Ha(l,_),F!=null&&b.push(yl(l,F,P)))),l=l.return}b.length!==0&&i.push({event:s,listeners:b})}var j1=/\r\n?/g,Q1=/\u0000|\uFFFD/g;function VE(i){return(typeof i=="string"?i:""+i).replace(j1,`
`).replace(Q1,"")}function zE(i,s){return s=VE(s),VE(i)===s}function We(i,s,l,f,v,_){switch(l){case"children":typeof f=="string"?s==="body"||s==="textarea"&&f===""||as(i,f):(typeof f=="number"||typeof f=="bigint")&&s!=="body"&&as(i,""+f);break;case"className":ju(i,"class",f);break;case"tabIndex":ju(i,"tabindex",f);break;case"dir":case"role":case"viewBox":case"width":case"height":ju(i,l,f);break;case"style":z_(i,f,_);break;case"data":if(s!=="object"){ju(i,"data",f);break}case"src":case"href":if(f===""&&(s!=="a"||l!=="href")){i.removeAttribute(l);break}if(f==null||typeof f=="function"||typeof f=="symbol"||typeof f=="boolean"){i.removeAttribute(l);break}f=Zu(""+f),i.setAttribute(l,f);break;case"action":case"formAction":if(typeof f=="function"){i.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof _=="function"&&(l==="formAction"?(s!=="input"&&We(i,s,"name",v.name,v,null),We(i,s,"formEncType",v.formEncType,v,null),We(i,s,"formMethod",v.formMethod,v,null),We(i,s,"formTarget",v.formTarget,v,null)):(We(i,s,"encType",v.encType,v,null),We(i,s,"method",v.method,v,null),We(i,s,"target",v.target,v,null)));if(f==null||typeof f=="symbol"||typeof f=="boolean"){i.removeAttribute(l);break}f=Zu(""+f),i.setAttribute(l,f);break;case"onClick":f!=null&&(i.onclick=Uo);break;case"onScroll":f!=null&&De("scroll",i);break;case"onScrollEnd":f!=null&&De("scrollend",i);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(o(61));if(l=f.__html,l!=null){if(v.children!=null)throw Error(o(60));i.innerHTML=l}}break;case"multiple":i.multiple=f&&typeof f!="function"&&typeof f!="symbol";break;case"muted":i.muted=f&&typeof f!="function"&&typeof f!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(f==null||typeof f=="function"||typeof f=="boolean"||typeof f=="symbol"){i.removeAttribute("xlink:href");break}l=Zu(""+f),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":f!=null&&typeof f!="function"&&typeof f!="symbol"?i.setAttribute(l,""+f):i.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":f&&typeof f!="function"&&typeof f!="symbol"?i.setAttribute(l,""):i.removeAttribute(l);break;case"capture":case"download":f===!0?i.setAttribute(l,""):f!==!1&&f!=null&&typeof f!="function"&&typeof f!="symbol"?i.setAttribute(l,f):i.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":f!=null&&typeof f!="function"&&typeof f!="symbol"&&!isNaN(f)&&1<=f?i.setAttribute(l,f):i.removeAttribute(l);break;case"rowSpan":case"start":f==null||typeof f=="function"||typeof f=="symbol"||isNaN(f)?i.removeAttribute(l):i.setAttribute(l,f);break;case"popover":De("beforetoggle",i),De("toggle",i),Wu(i,"popover",f);break;case"xlinkActuate":Lo(i,"http://www.w3.org/1999/xlink","xlink:actuate",f);break;case"xlinkArcrole":Lo(i,"http://www.w3.org/1999/xlink","xlink:arcrole",f);break;case"xlinkRole":Lo(i,"http://www.w3.org/1999/xlink","xlink:role",f);break;case"xlinkShow":Lo(i,"http://www.w3.org/1999/xlink","xlink:show",f);break;case"xlinkTitle":Lo(i,"http://www.w3.org/1999/xlink","xlink:title",f);break;case"xlinkType":Lo(i,"http://www.w3.org/1999/xlink","xlink:type",f);break;case"xmlBase":Lo(i,"http://www.w3.org/XML/1998/namespace","xml:base",f);break;case"xmlLang":Lo(i,"http://www.w3.org/XML/1998/namespace","xml:lang",f);break;case"xmlSpace":Lo(i,"http://www.w3.org/XML/1998/namespace","xml:space",f);break;case"is":Wu(i,"is",f);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=AO.get(l)||l,Wu(i,l,f))}}function bm(i,s,l,f,v,_){switch(l){case"style":z_(i,f,_);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(o(61));if(l=f.__html,l!=null){if(v.children!=null)throw Error(o(60));i.innerHTML=l}}break;case"children":typeof f=="string"?as(i,f):(typeof f=="number"||typeof f=="bigint")&&as(i,""+f);break;case"onScroll":f!=null&&De("scroll",i);break;case"onScrollEnd":f!=null&&De("scrollend",i);break;case"onClick":f!=null&&(i.onclick=Uo);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!L_.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(v=l.endsWith("Capture"),s=l.slice(2,v?l.length-7:void 0),_=i[qt]||null,_=_!=null?_[l]:null,typeof _=="function"&&i.removeEventListener(s,_,v),typeof f=="function")){typeof _!="function"&&_!==null&&(l in i?i[l]=null:i.hasAttribute(l)&&i.removeAttribute(l)),i.addEventListener(s,f,v);break e}l in i?i[l]=f:f===!0?i.setAttribute(l,""):Wu(i,l,f)}}}function Rt(i,s,l){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":De("error",i),De("load",i);var f=!1,v=!1,_;for(_ in l)if(l.hasOwnProperty(_)){var b=l[_];if(b!=null)switch(_){case"src":f=!0;break;case"srcSet":v=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(o(137,s));default:We(i,s,_,b,l,null)}}v&&We(i,s,"srcSet",l.srcSet,l,null),f&&We(i,s,"src",l.src,l,null);return;case"input":De("invalid",i);var R=_=b=v=null,P=null,F=null;for(f in l)if(l.hasOwnProperty(f)){var W=l[f];if(W!=null)switch(f){case"name":v=W;break;case"type":b=W;break;case"checked":P=W;break;case"defaultChecked":F=W;break;case"value":_=W;break;case"defaultValue":R=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(o(137,s));break;default:We(i,s,f,W,l,null)}}G_(i,_,R,P,F,b,v,!1);return;case"select":De("invalid",i),f=b=_=null;for(v in l)if(l.hasOwnProperty(v)&&(R=l[v],R!=null))switch(v){case"value":_=R;break;case"defaultValue":b=R;break;case"multiple":f=R;default:We(i,s,v,R,l,null)}s=_,l=b,i.multiple=!!f,s!=null?ss(i,!!f,s,!1):l!=null&&ss(i,!!f,l,!0);return;case"textarea":De("invalid",i),_=v=f=null;for(b in l)if(l.hasOwnProperty(b)&&(R=l[b],R!=null))switch(b){case"value":f=R;break;case"defaultValue":v=R;break;case"children":_=R;break;case"dangerouslySetInnerHTML":if(R!=null)throw Error(o(91));break;default:We(i,s,b,R,l,null)}F_(i,f,v,_);return;case"option":for(P in l)if(l.hasOwnProperty(P)&&(f=l[P],f!=null))switch(P){case"selected":i.selected=f&&typeof f!="function"&&typeof f!="symbol";break;default:We(i,s,P,f,l,null)}return;case"dialog":De("beforetoggle",i),De("toggle",i),De("cancel",i),De("close",i);break;case"iframe":case"object":De("load",i);break;case"video":case"audio":for(f=0;f<vl.length;f++)De(vl[f],i);break;case"image":De("error",i),De("load",i);break;case"details":De("toggle",i);break;case"embed":case"source":case"link":De("error",i),De("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(F in l)if(l.hasOwnProperty(F)&&(f=l[F],f!=null))switch(F){case"children":case"dangerouslySetInnerHTML":throw Error(o(137,s));default:We(i,s,F,f,l,null)}return;default:if(Up(s)){for(W in l)l.hasOwnProperty(W)&&(f=l[W],f!==void 0&&bm(i,s,W,f,l,void 0));return}}for(R in l)l.hasOwnProperty(R)&&(f=l[R],f!=null&&We(i,s,R,f,l,null))}function Z1(i,s,l,f){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var v=null,_=null,b=null,R=null,P=null,F=null,W=null;for(K in l){var te=l[K];if(l.hasOwnProperty(K)&&te!=null)switch(K){case"checked":break;case"value":break;case"defaultValue":P=te;default:f.hasOwnProperty(K)||We(i,s,K,null,f,te)}}for(var z in f){var K=f[z];if(te=l[z],f.hasOwnProperty(z)&&(K!=null||te!=null))switch(z){case"type":_=K;break;case"name":v=K;break;case"checked":F=K;break;case"defaultChecked":W=K;break;case"value":b=K;break;case"defaultValue":R=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(o(137,s));break;default:K!==te&&We(i,s,z,K,f,te)}}Pp(i,b,R,P,F,W,_,v);return;case"select":K=b=R=z=null;for(_ in l)if(P=l[_],l.hasOwnProperty(_)&&P!=null)switch(_){case"value":break;case"multiple":K=P;default:f.hasOwnProperty(_)||We(i,s,_,null,f,P)}for(v in f)if(_=f[v],P=l[v],f.hasOwnProperty(v)&&(_!=null||P!=null))switch(v){case"value":z=_;break;case"defaultValue":R=_;break;case"multiple":b=_;default:_!==P&&We(i,s,v,_,f,P)}s=R,l=b,f=K,z!=null?ss(i,!!l,z,!1):!!f!=!!l&&(s!=null?ss(i,!!l,s,!0):ss(i,!!l,l?[]:"",!1));return;case"textarea":K=z=null;for(R in l)if(v=l[R],l.hasOwnProperty(R)&&v!=null&&!f.hasOwnProperty(R))switch(R){case"value":break;case"children":break;default:We(i,s,R,null,f,v)}for(b in f)if(v=f[b],_=l[b],f.hasOwnProperty(b)&&(v!=null||_!=null))switch(b){case"value":z=v;break;case"defaultValue":K=v;break;case"children":break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(o(91));break;default:v!==_&&We(i,s,b,v,f,_)}$_(i,z,K);return;case"option":for(var pe in l)if(z=l[pe],l.hasOwnProperty(pe)&&z!=null&&!f.hasOwnProperty(pe))switch(pe){case"selected":i.selected=!1;break;default:We(i,s,pe,null,f,z)}for(P in f)if(z=f[P],K=l[P],f.hasOwnProperty(P)&&z!==K&&(z!=null||K!=null))switch(P){case"selected":i.selected=z&&typeof z!="function"&&typeof z!="symbol";break;default:We(i,s,P,z,f,K)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var be in l)z=l[be],l.hasOwnProperty(be)&&z!=null&&!f.hasOwnProperty(be)&&We(i,s,be,null,f,z);for(F in f)if(z=f[F],K=l[F],f.hasOwnProperty(F)&&z!==K&&(z!=null||K!=null))switch(F){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(o(137,s));break;default:We(i,s,F,z,f,K)}return;default:if(Up(s)){for(var je in l)z=l[je],l.hasOwnProperty(je)&&z!==void 0&&!f.hasOwnProperty(je)&&bm(i,s,je,void 0,f,z);for(W in f)z=f[W],K=l[W],!f.hasOwnProperty(W)||z===K||z===void 0&&K===void 0||bm(i,s,W,z,f,K);return}}for(var G in l)z=l[G],l.hasOwnProperty(G)&&z!=null&&!f.hasOwnProperty(G)&&We(i,s,G,null,f,z);for(te in f)z=f[te],K=l[te],!f.hasOwnProperty(te)||z===K||z==null&&K==null||We(i,s,te,z,f,K)}function qE(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function eP(){if(typeof performance.getEntriesByType=="function"){for(var i=0,s=0,l=performance.getEntriesByType("resource"),f=0;f<l.length;f++){var v=l[f],_=v.transferSize,b=v.initiatorType,R=v.duration;if(_&&R&&qE(b)){for(b=0,R=v.responseEnd,f+=1;f<l.length;f++){var P=l[f],F=P.startTime;if(F>R)break;var W=P.transferSize,te=P.initiatorType;W&&qE(te)&&(P=P.responseEnd,b+=W*(P<R?1:(R-F)/(P-F)))}if(--f,s+=8*(_+b)/(v.duration/1e3),i++,10<i)break}}if(0<i)return s/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var wm=null,Tm=null;function Yc(i){return i.nodeType===9?i:i.ownerDocument}function JE(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function KE(i,s){if(i===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&s==="foreignObject"?0:i}function Cm(i,s){return i==="textarea"||i==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Am=null;function tP(){var i=window.event;return i&&i.type==="popstate"?i===Am?!1:(Am=i,!0):(Am=null,!1)}var YE=typeof setTimeout=="function"?setTimeout:void 0,nP=typeof clearTimeout=="function"?clearTimeout:void 0,XE=typeof Promise=="function"?Promise:void 0,oP=typeof queueMicrotask=="function"?queueMicrotask:typeof XE<"u"?function(i){return XE.resolve(null).then(i).catch(iP)}:YE;function iP(i){setTimeout(function(){throw i})}function Bi(i){return i==="head"}function WE(i,s){var l=s,f=0;do{var v=l.nextSibling;if(i.removeChild(l),v&&v.nodeType===8)if(l=v.data,l==="/$"||l==="/&"){if(f===0){i.removeChild(v),Bs(s);return}f--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")f++;else if(l==="html")_l(i.ownerDocument.documentElement);else if(l==="head"){l=i.ownerDocument.head,_l(l);for(var _=l.firstChild;_;){var b=_.nextSibling,R=_.nodeName;_[ka]||R==="SCRIPT"||R==="STYLE"||R==="LINK"&&_.rel.toLowerCase()==="stylesheet"||l.removeChild(_),_=b}}else l==="body"&&_l(i.ownerDocument.body);l=v}while(l);Bs(s)}function jE(i,s){var l=i;i=0;do{var f=l.nextSibling;if(l.nodeType===1?s?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(s?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),f&&f.nodeType===8)if(l=f.data,l==="/$"){if(i===0)break;i--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||i++;l=f}while(l)}function xm(i){var s=i.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var l=s;switch(s=s.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":xm(l),Dp(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}i.removeChild(l)}}function rP(i,s,l,f){for(;i.nodeType===1;){var v=l;if(i.nodeName.toLowerCase()!==s.toLowerCase()){if(!f&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(f){if(!i[ka])switch(s){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(_=i.getAttribute("rel"),_==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(_!==v.rel||i.getAttribute("href")!==(v.href==null||v.href===""?null:v.href)||i.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin)||i.getAttribute("title")!==(v.title==null?null:v.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(_=i.getAttribute("src"),(_!==(v.src==null?null:v.src)||i.getAttribute("type")!==(v.type==null?null:v.type)||i.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin))&&_&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(s==="input"&&i.type==="hidden"){var _=v.name==null?null:""+v.name;if(v.type==="hidden"&&i.getAttribute("name")===_)return i}else return i;if(i=In(i.nextSibling),i===null)break}return null}function sP(i,s,l){if(s==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!l||(i=In(i.nextSibling),i===null))return null;return i}function QE(i,s){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!s||(i=In(i.nextSibling),i===null))return null;return i}function Rm(i){return i.data==="$?"||i.data==="$~"}function Mm(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function aP(i,s){var l=i.ownerDocument;if(i.data==="$~")i._reactRetry=s;else if(i.data!=="$?"||l.readyState!=="loading")s();else{var f=function(){s(),l.removeEventListener("DOMContentLoaded",f)};l.addEventListener("DOMContentLoaded",f),i._reactRetry=f}}function In(i){for(;i!=null;i=i.nextSibling){var s=i.nodeType;if(s===1||s===3)break;if(s===8){if(s=i.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return i}var Nm=null;function ZE(i){i=i.nextSibling;for(var s=0;i;){if(i.nodeType===8){var l=i.data;if(l==="/$"||l==="/&"){if(s===0)return In(i.nextSibling);s--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||s++}i=i.nextSibling}return null}function eb(i){i=i.previousSibling;for(var s=0;i;){if(i.nodeType===8){var l=i.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(s===0)return i;s--}else l!=="/$"&&l!=="/&"||s++}i=i.previousSibling}return null}function tb(i,s,l){switch(s=Yc(l),i){case"html":if(i=s.documentElement,!i)throw Error(o(452));return i;case"head":if(i=s.head,!i)throw Error(o(453));return i;case"body":if(i=s.body,!i)throw Error(o(454));return i;default:throw Error(o(451))}}function _l(i){for(var s=i.attributes;s.length;)i.removeAttributeNode(s[0]);Dp(i)}var Dn=new Map,nb=new Set;function Xc(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var Qo=Q.d;Q.d={f:lP,r:uP,D:cP,C:fP,L:dP,m:pP,X:mP,S:hP,M:gP};function lP(){var i=Qo.f(),s=Gc();return i||s}function uP(i){var s=os(i);s!==null&&s.tag===5&&s.type==="form"?_S(s):Qo.r(i)}var Ls=typeof document>"u"?null:document;function ob(i,s,l){var f=Ls;if(f&&typeof s=="string"&&s){var v=Tn(s);v='link[rel="'+i+'"][href="'+v+'"]',typeof l=="string"&&(v+='[crossorigin="'+l+'"]'),nb.has(v)||(nb.add(v),i={rel:i,crossOrigin:l,href:s},f.querySelector(v)===null&&(s=f.createElement("link"),Rt(s,"link",i),yt(s),f.head.appendChild(s)))}}function cP(i){Qo.D(i),ob("dns-prefetch",i,null)}function fP(i,s){Qo.C(i,s),ob("preconnect",i,s)}function dP(i,s,l){Qo.L(i,s,l);var f=Ls;if(f&&i&&s){var v='link[rel="preload"][as="'+Tn(s)+'"]';s==="image"&&l&&l.imageSrcSet?(v+='[imagesrcset="'+Tn(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(v+='[imagesizes="'+Tn(l.imageSizes)+'"]')):v+='[href="'+Tn(i)+'"]';var _=v;switch(s){case"style":_=Us(i);break;case"script":_=ks(i)}Dn.has(_)||(i=y({rel:"preload",href:s==="image"&&l&&l.imageSrcSet?void 0:i,as:s},l),Dn.set(_,i),f.querySelector(v)!==null||s==="style"&&f.querySelector(Sl(_))||s==="script"&&f.querySelector(El(_))||(s=f.createElement("link"),Rt(s,"link",i),yt(s),f.head.appendChild(s)))}}function pP(i,s){Qo.m(i,s);var l=Ls;if(l&&i){var f=s&&typeof s.as=="string"?s.as:"script",v='link[rel="modulepreload"][as="'+Tn(f)+'"][href="'+Tn(i)+'"]',_=v;switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":_=ks(i)}if(!Dn.has(_)&&(i=y({rel:"modulepreload",href:i},s),Dn.set(_,i),l.querySelector(v)===null)){switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(El(_)))return}f=l.createElement("link"),Rt(f,"link",i),yt(f),l.head.appendChild(f)}}}function hP(i,s,l){Qo.S(i,s,l);var f=Ls;if(f&&i){var v=is(f).hoistableStyles,_=Us(i);s=s||"default";var b=v.get(_);if(!b){var R={loading:0,preload:null};if(b=f.querySelector(Sl(_)))R.loading=5;else{i=y({rel:"stylesheet",href:i,"data-precedence":s},l),(l=Dn.get(_))&&Im(i,l);var P=b=f.createElement("link");yt(P),Rt(P,"link",i),P._p=new Promise(function(F,W){P.onload=F,P.onerror=W}),P.addEventListener("load",function(){R.loading|=1}),P.addEventListener("error",function(){R.loading|=2}),R.loading|=4,Wc(b,s,f)}b={type:"stylesheet",instance:b,count:1,state:R},v.set(_,b)}}}function mP(i,s){Qo.X(i,s);var l=Ls;if(l&&i){var f=is(l).hoistableScripts,v=ks(i),_=f.get(v);_||(_=l.querySelector(El(v)),_||(i=y({src:i,async:!0},s),(s=Dn.get(v))&&Dm(i,s),_=l.createElement("script"),yt(_),Rt(_,"link",i),l.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},f.set(v,_))}}function gP(i,s){Qo.M(i,s);var l=Ls;if(l&&i){var f=is(l).hoistableScripts,v=ks(i),_=f.get(v);_||(_=l.querySelector(El(v)),_||(i=y({src:i,async:!0,type:"module"},s),(s=Dn.get(v))&&Dm(i,s),_=l.createElement("script"),yt(_),Rt(_,"link",i),l.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},f.set(v,_))}}function ib(i,s,l,f){var v=(v=Ee.current)?Xc(v):null;if(!v)throw Error(o(446));switch(i){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(s=Us(l.href),l=is(v).hoistableStyles,f=l.get(s),f||(f={type:"style",instance:null,count:0,state:null},l.set(s,f)),f):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){i=Us(l.href);var _=is(v).hoistableStyles,b=_.get(i);if(b||(v=v.ownerDocument||v,b={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},_.set(i,b),(_=v.querySelector(Sl(i)))&&!_._p&&(b.instance=_,b.state.loading=5),Dn.has(i)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},Dn.set(i,l),_||vP(v,i,l,b.state))),s&&f===null)throw Error(o(528,""));return b}if(s&&f!==null)throw Error(o(529,""));return null;case"script":return s=l.async,l=l.src,typeof l=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=ks(l),l=is(v).hoistableScripts,f=l.get(s),f||(f={type:"script",instance:null,count:0,state:null},l.set(s,f)),f):{type:"void",instance:null,count:0,state:null};default:throw Error(o(444,i))}}function Us(i){return'href="'+Tn(i)+'"'}function Sl(i){return'link[rel="stylesheet"]['+i+"]"}function rb(i){return y({},i,{"data-precedence":i.precedence,precedence:null})}function vP(i,s,l,f){i.querySelector('link[rel="preload"][as="style"]['+s+"]")?f.loading=1:(s=i.createElement("link"),f.preload=s,s.addEventListener("load",function(){return f.loading|=1}),s.addEventListener("error",function(){return f.loading|=2}),Rt(s,"link",l),yt(s),i.head.appendChild(s))}function ks(i){return'[src="'+Tn(i)+'"]'}function El(i){return"script[async]"+i}function sb(i,s,l){if(s.count++,s.instance===null)switch(s.type){case"style":var f=i.querySelector('style[data-href~="'+Tn(l.href)+'"]');if(f)return s.instance=f,yt(f),f;var v=y({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return f=(i.ownerDocument||i).createElement("style"),yt(f),Rt(f,"style",v),Wc(f,l.precedence,i),s.instance=f;case"stylesheet":v=Us(l.href);var _=i.querySelector(Sl(v));if(_)return s.state.loading|=4,s.instance=_,yt(_),_;f=rb(l),(v=Dn.get(v))&&Im(f,v),_=(i.ownerDocument||i).createElement("link"),yt(_);var b=_;return b._p=new Promise(function(R,P){b.onload=R,b.onerror=P}),Rt(_,"link",f),s.state.loading|=4,Wc(_,l.precedence,i),s.instance=_;case"script":return _=ks(l.src),(v=i.querySelector(El(_)))?(s.instance=v,yt(v),v):(f=l,(v=Dn.get(_))&&(f=y({},l),Dm(f,v)),i=i.ownerDocument||i,v=i.createElement("script"),yt(v),Rt(v,"link",f),i.head.appendChild(v),s.instance=v);case"void":return null;default:throw Error(o(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(f=s.instance,s.state.loading|=4,Wc(f,l.precedence,i));return s.instance}function Wc(i,s,l){for(var f=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),v=f.length?f[f.length-1]:null,_=v,b=0;b<f.length;b++){var R=f[b];if(R.dataset.precedence===s)_=R;else if(_!==v)break}_?_.parentNode.insertBefore(i,_.nextSibling):(s=l.nodeType===9?l.head:l,s.insertBefore(i,s.firstChild))}function Im(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.title==null&&(i.title=s.title)}function Dm(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.integrity==null&&(i.integrity=s.integrity)}var jc=null;function ab(i,s,l){if(jc===null){var f=new Map,v=jc=new Map;v.set(l,f)}else v=jc,f=v.get(l),f||(f=new Map,v.set(l,f));if(f.has(i))return f;for(f.set(i,null),l=l.getElementsByTagName(i),v=0;v<l.length;v++){var _=l[v];if(!(_[ka]||_[Tt]||i==="link"&&_.getAttribute("rel")==="stylesheet")&&_.namespaceURI!=="http://www.w3.org/2000/svg"){var b=_.getAttribute(s)||"";b=i+b;var R=f.get(b);R?R.push(_):f.set(b,[_])}}return f}function lb(i,s,l){i=i.ownerDocument||i,i.head.insertBefore(l,s==="title"?i.querySelector("head > title"):null)}function yP(i,s,l){if(l===1||s.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return i=s.disabled,typeof s.precedence=="string"&&i==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function ub(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function _P(i,s,l,f){if(l.type==="stylesheet"&&(typeof f.media!="string"||matchMedia(f.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var v=Us(f.href),_=s.querySelector(Sl(v));if(_){s=_._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(i.count++,i=Qc.bind(i),s.then(i,i)),l.state.loading|=4,l.instance=_,yt(_);return}_=s.ownerDocument||s,f=rb(f),(v=Dn.get(v))&&Im(f,v),_=_.createElement("link"),yt(_);var b=_;b._p=new Promise(function(R,P){b.onload=R,b.onerror=P}),Rt(_,"link",f),l.instance=_}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(l,s),(s=l.state.preload)&&(l.state.loading&3)===0&&(i.count++,l=Qc.bind(i),s.addEventListener("load",l),s.addEventListener("error",l))}}var Om=0;function SP(i,s){return i.stylesheets&&i.count===0&&ef(i,i.stylesheets),0<i.count||0<i.imgCount?function(l){var f=setTimeout(function(){if(i.stylesheets&&ef(i,i.stylesheets),i.unsuspend){var _=i.unsuspend;i.unsuspend=null,_()}},6e4+s);0<i.imgBytes&&Om===0&&(Om=62500*eP());var v=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&ef(i,i.stylesheets),i.unsuspend)){var _=i.unsuspend;i.unsuspend=null,_()}},(i.imgBytes>Om?50:800)+s);return i.unsuspend=l,function(){i.unsuspend=null,clearTimeout(f),clearTimeout(v)}}:null}function Qc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)ef(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Zc=null;function ef(i,s){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Zc=new Map,s.forEach(EP,i),Zc=null,Qc.call(i))}function EP(i,s){if(!(s.state.loading&4)){var l=Zc.get(i);if(l)var f=l.get(null);else{l=new Map,Zc.set(i,l);for(var v=i.querySelectorAll("link[data-precedence],style[data-precedence]"),_=0;_<v.length;_++){var b=v[_];(b.nodeName==="LINK"||b.getAttribute("media")!=="not all")&&(l.set(b.dataset.precedence,b),f=b)}f&&l.set(null,f)}v=s.instance,b=v.getAttribute("data-precedence"),_=l.get(b)||f,_===f&&l.set(null,v),l.set(b,v),this.count++,f=Qc.bind(this),v.addEventListener("load",f),v.addEventListener("error",f),_?_.parentNode.insertBefore(v,_.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(v,i.firstChild)),s.state.loading|=4}}var bl={$$typeof:N,Provider:null,Consumer:null,_currentValue:ee,_currentValue2:ee,_threadCount:0};function bP(i,s,l,f,v,_,b,R,P){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Rp(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Rp(0),this.hiddenUpdates=Rp(null),this.identifierPrefix=f,this.onUncaughtError=v,this.onCaughtError=_,this.onRecoverableError=b,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=P,this.incompleteTransitions=new Map}function cb(i,s,l,f,v,_,b,R,P,F,W,te){return i=new bP(i,s,l,b,P,F,W,te,R),s=1,_===!0&&(s|=24),_=an(3,null,null,s),i.current=_,_.stateNode=i,s=dh(),s.refCount++,i.pooledCache=s,s.refCount++,_.memoizedState={element:f,isDehydrated:l,cache:s},gh(_),i}function fb(i){return i?(i=hs,i):hs}function db(i,s,l,f,v,_){v=fb(v),f.context===null?f.context=v:f.pendingContext=v,f=xi(s),f.payload={element:l},_=_===void 0?null:_,_!==null&&(f.callback=_),l=Ri(i,f,s),l!==null&&(jt(l,i,s),el(l,i,s))}function pb(i,s){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var l=i.retryLane;i.retryLane=l!==0&&l<s?l:s}}function Pm(i,s){pb(i,s),(i=i.alternate)&&pb(i,s)}function hb(i){if(i.tag===13||i.tag===31){var s=gr(i,67108864);s!==null&&jt(s,i,67108864),Pm(i,67108864)}}function mb(i){if(i.tag===13||i.tag===31){var s=dn();s=Mp(s);var l=gr(i,s);l!==null&&jt(l,i,s),Pm(i,s)}}var tf=!0;function wP(i,s,l,f){var v=H.T;H.T=null;var _=Q.p;try{Q.p=2,Lm(i,s,l,f)}finally{Q.p=_,H.T=v}}function TP(i,s,l,f){var v=H.T;H.T=null;var _=Q.p;try{Q.p=8,Lm(i,s,l,f)}finally{Q.p=_,H.T=v}}function Lm(i,s,l,f){if(tf){var v=Um(f);if(v===null)Em(i,s,f,nf,l),vb(i,f);else if(AP(v,i,s,l,f))f.stopPropagation();else if(vb(i,f),s&4&&-1<CP.indexOf(i)){for(;v!==null;){var _=os(v);if(_!==null)switch(_.tag){case 3:if(_=_.stateNode,_.current.memoizedState.isDehydrated){var b=fr(_.pendingLanes);if(b!==0){var R=_;for(R.pendingLanes|=2,R.entangledLanes|=2;b;){var P=1<<31-rn(b);R.entanglements[1]|=P,b&=~P}go(_),(qe&6)===0&&(Bc=wt()+500,gl(0))}}break;case 31:case 13:R=gr(_,2),R!==null&&jt(R,_,2),Gc(),Pm(_,2)}if(_=Um(f),_===null&&Em(i,s,f,nf,l),_===v)break;v=_}v!==null&&f.stopPropagation()}else Em(i,s,f,null,l)}}function Um(i){return i=Bp(i),km(i)}var nf=null;function km(i){if(nf=null,i=ns(i),i!==null){var s=a(i);if(s===null)i=null;else{var l=s.tag;if(l===13){if(i=u(s),i!==null)return i;i=null}else if(l===31){if(i=c(s),i!==null)return i;i=null}else if(l===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null)}}return nf=i,null}function gb(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(qu()){case Da:return 2;case Oa:return 8;case cr:case fO:return 32;case A_:return 268435456;default:return 32}default:return 32}}var Bm=!1,Hi=null,Gi=null,$i=null,wl=new Map,Tl=new Map,Fi=[],CP="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function vb(i,s){switch(i){case"focusin":case"focusout":Hi=null;break;case"dragenter":case"dragleave":Gi=null;break;case"mouseover":case"mouseout":$i=null;break;case"pointerover":case"pointerout":wl.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Tl.delete(s.pointerId)}}function Cl(i,s,l,f,v,_){return i===null||i.nativeEvent!==_?(i={blockedOn:s,domEventName:l,eventSystemFlags:f,nativeEvent:_,targetContainers:[v]},s!==null&&(s=os(s),s!==null&&hb(s)),i):(i.eventSystemFlags|=f,s=i.targetContainers,v!==null&&s.indexOf(v)===-1&&s.push(v),i)}function AP(i,s,l,f,v){switch(s){case"focusin":return Hi=Cl(Hi,i,s,l,f,v),!0;case"dragenter":return Gi=Cl(Gi,i,s,l,f,v),!0;case"mouseover":return $i=Cl($i,i,s,l,f,v),!0;case"pointerover":var _=v.pointerId;return wl.set(_,Cl(wl.get(_)||null,i,s,l,f,v)),!0;case"gotpointercapture":return _=v.pointerId,Tl.set(_,Cl(Tl.get(_)||null,i,s,l,f,v)),!0}return!1}function yb(i){var s=ns(i.target);if(s!==null){var l=a(s);if(l!==null){if(s=l.tag,s===13){if(s=u(l),s!==null){i.blockedOn=s,D_(i.priority,function(){mb(l)});return}}else if(s===31){if(s=c(l),s!==null){i.blockedOn=s,D_(i.priority,function(){mb(l)});return}}else if(s===3&&l.stateNode.current.memoizedState.isDehydrated){i.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}i.blockedOn=null}function of(i){if(i.blockedOn!==null)return!1;for(var s=i.targetContainers;0<s.length;){var l=Um(i.nativeEvent);if(l===null){l=i.nativeEvent;var f=new l.constructor(l.type,l);kp=f,l.target.dispatchEvent(f),kp=null}else return s=os(l),s!==null&&hb(s),i.blockedOn=l,!1;s.shift()}return!0}function _b(i,s,l){of(i)&&l.delete(s)}function xP(){Bm=!1,Hi!==null&&of(Hi)&&(Hi=null),Gi!==null&&of(Gi)&&(Gi=null),$i!==null&&of($i)&&($i=null),wl.forEach(_b),Tl.forEach(_b)}function rf(i,s){i.blockedOn===s&&(i.blockedOn=null,Bm||(Bm=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,xP)))}var sf=null;function Sb(i){sf!==i&&(sf=i,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){sf===i&&(sf=null);for(var s=0;s<i.length;s+=3){var l=i[s],f=i[s+1],v=i[s+2];if(typeof f!="function"){if(km(f||l)===null)continue;break}var _=os(l);_!==null&&(i.splice(s,3),s-=3,Uh(_,{pending:!0,data:v,method:l.method,action:f},f,v))}}))}function Bs(i){function s(P){return rf(P,i)}Hi!==null&&rf(Hi,i),Gi!==null&&rf(Gi,i),$i!==null&&rf($i,i),wl.forEach(s),Tl.forEach(s);for(var l=0;l<Fi.length;l++){var f=Fi[l];f.blockedOn===i&&(f.blockedOn=null)}for(;0<Fi.length&&(l=Fi[0],l.blockedOn===null);)yb(l),l.blockedOn===null&&Fi.shift();if(l=(i.ownerDocument||i).$$reactFormReplay,l!=null)for(f=0;f<l.length;f+=3){var v=l[f],_=l[f+1],b=v[qt]||null;if(typeof _=="function")b||Sb(l);else if(b){var R=null;if(_&&_.hasAttribute("formAction")){if(v=_,b=_[qt]||null)R=b.formAction;else if(km(v)!==null)continue}else R=b.action;typeof R=="function"?l[f+1]=R:(l.splice(f,3),f-=3),Sb(l)}}}function Eb(){function i(_){_.canIntercept&&_.info==="react-transition"&&_.intercept({handler:function(){return new Promise(function(b){return v=b})},focusReset:"manual",scroll:"manual"})}function s(){v!==null&&(v(),v=null),f||setTimeout(l,20)}function l(){if(!f&&!navigation.transition){var _=navigation.currentEntry;_&&_.url!=null&&navigation.navigate(_.url,{state:_.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var f=!1,v=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(l,100),function(){f=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),v!==null&&(v(),v=null)}}}function Hm(i){this._internalRoot=i}af.prototype.render=Hm.prototype.render=function(i){var s=this._internalRoot;if(s===null)throw Error(o(409));var l=s.current,f=dn();db(l,f,i,s,null,null)},af.prototype.unmount=Hm.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var s=i.containerInfo;db(i.current,2,null,i,null,null),Gc(),s[ts]=null}};function af(i){this._internalRoot=i}af.prototype.unstable_scheduleHydration=function(i){if(i){var s=I_();i={blockedOn:null,target:i,priority:s};for(var l=0;l<Fi.length&&s!==0&&s<Fi[l].priority;l++);Fi.splice(l,0,i),l===0&&yb(i)}};var bb=e.version;if(bb!=="19.2.1")throw Error(o(527,bb,"19.2.1"));Q.findDOMNode=function(i){var s=i._reactInternals;if(s===void 0)throw typeof i.render=="function"?Error(o(188)):(i=Object.keys(i).join(","),Error(o(268,i)));return i=d(s),i=i!==null?m(i):null,i=i===null?null:i.stateNode,i};var RP={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.2.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var lf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!lf.isDisabled&&lf.supportsFiber)try{Pa=lf.inject(RP),on=lf}catch{}}return xl.createRoot=function(i,s){if(!r(i))throw Error(o(299));var l=!1,f="",v=MS,_=NS,b=IS;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(f=s.identifierPrefix),s.onUncaughtError!==void 0&&(v=s.onUncaughtError),s.onCaughtError!==void 0&&(_=s.onCaughtError),s.onRecoverableError!==void 0&&(b=s.onRecoverableError)),s=cb(i,1,!1,null,null,l,f,null,v,_,b,Eb),i[ts]=s.current,Sm(i),new Hm(s)},xl.hydrateRoot=function(i,s,l){if(!r(i))throw Error(o(299));var f=!1,v="",_=MS,b=NS,R=IS,P=null;return l!=null&&(l.unstable_strictMode===!0&&(f=!0),l.identifierPrefix!==void 0&&(v=l.identifierPrefix),l.onUncaughtError!==void 0&&(_=l.onUncaughtError),l.onCaughtError!==void 0&&(b=l.onCaughtError),l.onRecoverableError!==void 0&&(R=l.onRecoverableError),l.formState!==void 0&&(P=l.formState)),s=cb(i,1,!0,s,l??null,f,v,P,_,b,R,Eb),s.context=fb(null),l=s.current,f=dn(),f=Mp(f),v=xi(f),v.callback=null,Ri(l,v,f),l=f,s.current.lanes=l,Ua(s,l),go(s),i[ts]=s.current,Sm(i),new af(s)},xl.version="19.2.1",xl}var Db;function BP(){if(Db)return Fm.exports;Db=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Fm.exports=kP(),Fm.exports}var HP=BP();function ke(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),o=1;o<e;o++)n[o-1]=arguments[o];throw new Error(typeof t=="number"?"[MobX] minified error nr: "+t+(n.length?" "+n.map(String).join(","):"")+". Find the full error at: https://github.com/mobxjs/mobx/blob/main/packages/mobx/src/errors.ts":"[MobX] "+t)}var GP={};function Gd(){return typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:GP}var OA=Object.assign,rd=Object.getOwnPropertyDescriptor,To=Object.defineProperty,mu=Object.prototype,$g=[];Object.freeze($g);var PA={};Object.freeze(PA);var $P=typeof Proxy<"u",FP=Object.toString();function LA(){$P||ke("Proxy not available")}function UA(t){var e=!1;return function(){if(!e)return e=!0,t.apply(this,arguments)}}var ea=function(){};function ro(t){return typeof t=="function"}function Hr(t){var e=typeof t;switch(e){case"string":case"symbol":case"number":return!0}return!1}function $d(t){return t!==null&&typeof t=="object"}function li(t){if(!$d(t))return!1;var e=Object.getPrototypeOf(t);if(e==null)return!0;var n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n.toString()===FP}function kA(t){var e=t?.constructor;return e?e.name==="GeneratorFunction"||e.displayName==="GeneratorFunction":!1}function gu(t,e,n){To(t,e,{enumerable:!1,writable:!0,configurable:!0,value:n})}function BA(t,e,n){To(t,e,{enumerable:!1,writable:!1,configurable:!0,value:n})}function nr(t,e){var n="isMobX"+t;return e.prototype[n]=!0,function(o){return $d(o)&&o[n]===!0}}function _a(t){return t!=null&&Object.prototype.toString.call(t)==="[object Map]"}function VP(t){var e=Object.getPrototypeOf(t),n=Object.getPrototypeOf(e),o=Object.getPrototypeOf(n);return o===null}function ni(t){return t!=null&&Object.prototype.toString.call(t)==="[object Set]"}var HA=typeof Object.getOwnPropertySymbols<"u";function zP(t){var e=Object.keys(t);if(!HA)return e;var n=Object.getOwnPropertySymbols(t);return n.length?[].concat(e,n.filter(function(o){return mu.propertyIsEnumerable.call(t,o)})):e}var fa=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:HA?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:Object.getOwnPropertyNames;function GA(t){return t===null?null:typeof t=="object"?""+t:t}function ri(t,e){return mu.hasOwnProperty.call(t,e)}var qP=Object.getOwnPropertyDescriptors||function(e){var n={};return fa(e).forEach(function(o){n[o]=rd(e,o)}),n};function vn(t,e){return!!(t&e)}function yn(t,e,n){return n?t|=e:t&=~e,t}function Ob(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,o=Array(e);n<e;n++)o[n]=t[n];return o}function JP(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,YP(o.key),o)}}function Sa(t,e,n){return e&&JP(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function ta(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n)return(n=n.call(t)).next.bind(n);if(Array.isArray(t)||(n=XP(t))||e){n&&(t=n);var o=0;return function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Gr(){return Gr=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)({}).hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},Gr.apply(null,arguments)}function $A(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,Fg(t,e)}function Fg(t,e){return Fg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,o){return n.__proto__=o,n},Fg(t,e)}function KP(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var o=n.call(t,e);if(typeof o!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function YP(t){var e=KP(t,"string");return typeof e=="symbol"?e:e+""}function XP(t,e){if(t){if(typeof t=="string")return Ob(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ob(t,e):void 0}}var Eo=Symbol("mobx-stored-annotations");function Co(t){function e(n,o){if(yu(o))return t.decorate_20223_(n,o);vu(n,o,t)}return Object.assign(e,t)}function vu(t,e,n){ri(t,Eo)||gu(t,Eo,Gr({},t[Eo])),nL(n)||(t[Eo][e]=n)}function WP(t){return ri(t,Eo)||gu(t,Eo,Gr({},t[Eo])),t[Eo]}function yu(t){return typeof t=="object"&&typeof t.kind=="string"}var we=Symbol("mobx administration"),or=(function(){function t(n){n===void 0&&(n="Atom"),this.name_=void 0,this.flags_=0,this.observers_=new Set,this.lastAccessedBy_=0,this.lowestObserverState_=$e.NOT_TRACKING_,this.onBOL=void 0,this.onBUOL=void 0,this.name_=n}var e=t.prototype;return e.onBO=function(){this.onBOL&&this.onBOL.forEach(function(o){return o()})},e.onBUO=function(){this.onBUOL&&this.onBUOL.forEach(function(o){return o()})},e.reportObserved=function(){return ix(this)},e.reportChanged=function(){Un(),rx(this),kn()},e.toString=function(){return this.name_},Sa(t,[{key:"isBeingObserved",get:function(){return vn(this.flags_,t.isBeingObservedMask_)},set:function(o){this.flags_=yn(this.flags_,t.isBeingObservedMask_,o)}},{key:"isPendingUnobservation",get:function(){return vn(this.flags_,t.isPendingUnobservationMask_)},set:function(o){this.flags_=yn(this.flags_,t.isPendingUnobservationMask_,o)}},{key:"diffValue",get:function(){return vn(this.flags_,t.diffValueMask_)?1:0},set:function(o){this.flags_=yn(this.flags_,t.diffValueMask_,o===1)}}])})();or.isBeingObservedMask_=1;or.isPendingUnobservationMask_=2;or.diffValueMask_=4;var Wv=nr("Atom",or);function FA(t,e,n){e===void 0&&(e=ea),n===void 0&&(n=ea);var o=new or(t);return e!==ea&&rU(o,e),n!==ea&&fx(o,n),o}function jP(t,e){return wx(t,e)}function QP(t,e){return Object.is?Object.is(t,e):t===e?t!==0||1/t===1/e:t!==t&&e!==e}var sd={structural:jP,default:QP};function $r(t,e,n){return ty(t)?t:Array.isArray(t)?Et.array(t,{name:n}):li(t)?Et.object(t,void 0,{name:n}):_a(t)?Et.map(t,{name:n}):ni(t)?Et.set(t,{name:n}):typeof t=="function"&&!da(t)&&!eu(t)?kA(t)?pa(t):Zl(n,t):t}function ZP(t,e,n){if(t==null||Cu(t)||Tu(t)||rr(t)||Qn(t))return t;if(Array.isArray(t))return Et.array(t,{name:n,deep:!1});if(li(t))return Et.object(t,void 0,{name:n,deep:!1});if(_a(t))return Et.map(t,{name:n,deep:!1});if(ni(t))return Et.set(t,{name:n,deep:!1})}function Fd(t){return t}function eL(t,e){return wx(t,e)?e:t}var tL="override";function nL(t){return t.annotationType_===tL}function _u(t,e){return{annotationType_:t,options_:e,make_:oL,extend_:iL,decorate_20223_:rL}}function oL(t,e,n,o){var r;if((r=this.options_)!=null&&r.bound)return this.extend_(t,e,n,!1)===null?0:1;if(o===t.target_)return this.extend_(t,e,n,!1)===null?0:2;if(da(n.value))return 1;var a=VA(t,this,e,n,!1);return To(o,e,a),2}function iL(t,e,n,o){var r=VA(t,this,e,n);return t.defineProperty_(e,r,o)}function rL(t,e){var n=e.kind,o=e.name,r=e.addInitializer,a=this,u=function(d){var m,y,S,E;return Fr((m=(y=a.options_)==null?void 0:y.name)!=null?m:o.toString(),d,(S=(E=a.options_)==null?void 0:E.autoAction)!=null?S:!1)};if(n=="field")return function(p){var d,m=p;return da(m)||(m=u(m)),(d=a.options_)!=null&&d.bound&&(m=m.bind(this),m.isMobxAction=!0),m};if(n=="method"){var c;return da(t)||(t=u(t)),(c=this.options_)!=null&&c.bound&&r(function(){var p=this,d=p[o].bind(p);d.isMobxAction=!0,p[o]=d}),t}ke("Cannot apply '"+a.annotationType_+"' to '"+String(o)+"' (kind: "+n+"):"+(`
'`+a.annotationType_+"' can only be used on properties with a function value."))}function sL(t,e,n,o){e.annotationType_,o.value}function VA(t,e,n,o,r){var a,u,c,p,d,m,y;r===void 0&&(r=ue.safeDescriptors),sL(t,e,n,o);var S=o.value;if((a=e.options_)!=null&&a.bound){var E;S=S.bind((E=t.proxy_)!=null?E:t.target_)}return{value:Fr((u=(c=e.options_)==null?void 0:c.name)!=null?u:n.toString(),S,(p=(d=e.options_)==null?void 0:d.autoAction)!=null?p:!1,(m=e.options_)!=null&&m.bound?(y=t.proxy_)!=null?y:t.target_:void 0),configurable:r?t.isPlainObject_:!0,enumerable:!1,writable:!r}}function zA(t,e){return{annotationType_:t,options_:e,make_:aL,extend_:lL,decorate_20223_:uL}}function aL(t,e,n,o){var r;if(o===t.target_)return this.extend_(t,e,n,!1)===null?0:2;if((r=this.options_)!=null&&r.bound&&(!ri(t.target_,e)||!eu(t.target_[e]))&&this.extend_(t,e,n,!1)===null)return 0;if(eu(n.value))return 1;var a=qA(t,this,e,n,!1,!1);return To(o,e,a),2}function lL(t,e,n,o){var r,a=qA(t,this,e,n,(r=this.options_)==null?void 0:r.bound);return t.defineProperty_(e,a,o)}function uL(t,e){var n,o=e.name,r=e.addInitializer;return eu(t)||(t=pa(t)),(n=this.options_)!=null&&n.bound&&r(function(){var a=this,u=a[o].bind(a);u.isMobXFlow=!0,a[o]=u}),t}function cL(t,e,n,o){e.annotationType_,o.value}function qA(t,e,n,o,r,a){a===void 0&&(a=ue.safeDescriptors),cL(t,e,n,o);var u=o.value;if(eu(u)||(u=pa(u)),r){var c;u=u.bind((c=t.proxy_)!=null?c:t.target_),u.isMobXFlow=!0}return{value:u,configurable:a?t.isPlainObject_:!0,enumerable:!1,writable:!a}}function jv(t,e){return{annotationType_:t,options_:e,make_:fL,extend_:dL,decorate_20223_:pL}}function fL(t,e,n){return this.extend_(t,e,n,!1)===null?0:1}function dL(t,e,n,o){return hL(t,this,e,n),t.defineComputedProperty_(e,Gr({},this.options_,{get:n.get,set:n.set}),o)}function pL(t,e){var n=this,o=e.name,r=e.addInitializer;return r(function(){var a=jr(this)[we],u=Gr({},n.options_,{get:t,context:this});u.name||(u.name="ObservableObject."+o.toString()),a.values_.set(o,new so(u))}),function(){return this[we].getObservablePropValue_(o)}}function hL(t,e,n,o){e.annotationType_,o.get}function Vd(t,e){return{annotationType_:t,options_:e,make_:mL,extend_:gL,decorate_20223_:vL}}function mL(t,e,n){return this.extend_(t,e,n,!1)===null?0:1}function gL(t,e,n,o){var r,a;return yL(t,this),t.defineObservableProperty_(e,n.value,(r=(a=this.options_)==null?void 0:a.enhancer)!=null?r:$r,o)}function vL(t,e){var n=this,o=e.kind,r=e.name,a=new WeakSet;function u(c,p){var d,m,y=jr(c)[we],S=new ji(p,(d=(m=n.options_)==null?void 0:m.enhancer)!=null?d:$r,"ObservableObject."+r.toString(),!1);y.values_.set(r,S),a.add(c)}if(o=="accessor")return{get:function(){return a.has(this)||u(this,t.get.call(this)),this[we].getObservablePropValue_(r)},set:function(p){return a.has(this)||u(this,p),this[we].setObservablePropValue_(r,p)},init:function(p){return a.has(this)||u(this,p),p}}}function yL(t,e,n,o){e.annotationType_}var _L="true",SL=JA();function JA(t){return{annotationType_:_L,options_:t,make_:EL,extend_:bL,decorate_20223_:wL}}function EL(t,e,n,o){var r,a;if(n.get)return zd.make_(t,e,n,o);if(n.set){var u=da(n.set)?n.set:Fr(e.toString(),n.set);return o===t.target_?t.defineProperty_(e,{configurable:ue.safeDescriptors?t.isPlainObject_:!0,set:u})===null?0:2:(To(o,e,{configurable:!0,set:u}),2)}if(o!==t.target_&&typeof n.value=="function"){var c;if(kA(n.value)){var p,d=(p=this.options_)!=null&&p.autoBind?pa.bound:pa;return d.make_(t,e,n,o)}var m=(c=this.options_)!=null&&c.autoBind?Zl.bound:Zl;return m.make_(t,e,n,o)}var y=((r=this.options_)==null?void 0:r.deep)===!1?Et.ref:Et;if(typeof n.value=="function"&&(a=this.options_)!=null&&a.autoBind){var S;n.value=n.value.bind((S=t.proxy_)!=null?S:t.target_)}return y.make_(t,e,n,o)}function bL(t,e,n,o){var r,a;if(n.get)return zd.extend_(t,e,n,o);if(n.set)return t.defineProperty_(e,{configurable:ue.safeDescriptors?t.isPlainObject_:!0,set:Fr(e.toString(),n.set)},o);if(typeof n.value=="function"&&(r=this.options_)!=null&&r.autoBind){var u;n.value=n.value.bind((u=t.proxy_)!=null?u:t.target_)}var c=((a=this.options_)==null?void 0:a.deep)===!1?Et.ref:Et;return c.extend_(t,e,n,o)}function wL(t,e){ke("'"+this.annotationType_+"' cannot be used as a decorator")}var TL="observable",CL="observable.ref",AL="observable.shallow",xL="observable.struct",KA={deep:!0,name:void 0,defaultDecorator:void 0,proxy:!0};Object.freeze(KA);function uf(t){return t||KA}var Vg=Vd(TL),RL=Vd(CL,{enhancer:Fd}),ML=Vd(AL,{enhancer:ZP}),NL=Vd(xL,{enhancer:eL}),YA=Co(Vg);function cf(t){return t.deep===!0?$r:t.deep===!1?Fd:DL(t.defaultDecorator)}function IL(t){var e;return t?(e=t.defaultDecorator)!=null?e:JA(t):void 0}function DL(t){var e,n;return t&&(e=(n=t.options_)==null?void 0:n.enhancer)!=null?e:$r}function XA(t,e,n){if(yu(e))return Vg.decorate_20223_(t,e);if(Hr(e)){vu(t,e,Vg);return}return ty(t)?t:li(t)?Et.object(t,e,n):Array.isArray(t)?Et.array(t,e):_a(t)?Et.map(t,e):ni(t)?Et.set(t,e):typeof t=="object"&&t!==null?t:Et.box(t,e)}OA(XA,YA);var OL={box:function(e,n){var o=uf(n);return new ji(e,cf(o),o.name,!0,o.equals)},array:function(e,n){var o=uf(n);return(ue.useProxies===!1||o.proxy===!1?NU:SU)(e,cf(o),o.name)},map:function(e,n){var o=uf(n);return new vx(e,cf(o),o.name)},set:function(e,n){var o=uf(n);return new yx(e,cf(o),o.name)},object:function(e,n,o){return sr(function(){return px(ue.useProxies===!1||o?.proxy===!1?jr({},o):gU({},o),e,n)})},ref:Co(RL),shallow:Co(ML),deep:YA,struct:Co(NL)},Et=OA(XA,OL),WA="computed",PL="computed.struct",zg=jv(WA),LL=jv(PL,{equals:sd.structural}),zd=function(e,n){if(yu(n))return zg.decorate_20223_(e,n);if(Hr(n))return vu(e,n,zg);if(li(e))return Co(jv(WA,e));var o=li(n)?n:{};return o.get=e,o.name||(o.name=e.name||""),new so(o)};Object.assign(zd,zg);zd.struct=Co(LL);var Pb,Lb,ad=0,UL=1,kL=(Pb=(Lb=rd(function(){},"name"))==null?void 0:Lb.configurable)!=null?Pb:!1,Ub={value:"action",configurable:!0,writable:!1,enumerable:!1};function Fr(t,e,n,o){n===void 0&&(n=!1);function r(){return jA(t,n,e,o||this,arguments)}return r.isMobxAction=!0,r.toString=function(){return e.toString()},kL&&(Ub.value=t,To(r,"name",Ub)),r}function jA(t,e,n,o,r){var a=BL(t,e);try{return n.apply(o,r)}catch(u){throw a.error_=u,u}finally{HL(a)}}function BL(t,e,n,o){var r=!1,a=0,u=ue.trackingDerivation,c=!e||!u;Un();var p=ue.allowStateChanges;c&&(Wr(),p=Qv(!0));var d=ey(!0),m={runAsAction_:c,prevDerivation_:u,prevAllowStateChanges_:p,prevAllowStateReads_:d,notifySpy_:r,startTime_:a,actionId_:UL++,parentActionId_:ad};return ad=m.actionId_,m}function HL(t){ad!==t.actionId_&&ke(30),ad=t.parentActionId_,t.error_!==void 0&&(ue.suppressReactionErrors=!0),Zv(t.prevAllowStateChanges_),ql(t.prevAllowStateReads_),kn(),t.runAsAction_&&si(t.prevDerivation_),ue.suppressReactionErrors=!1}function Qv(t){var e=ue.allowStateChanges;return ue.allowStateChanges=t,e}function Zv(t){ue.allowStateChanges=t}var ji=(function(t){function e(o,r,a,u,c){var p;return a===void 0&&(a="ObservableValue"),c===void 0&&(c=sd.default),p=t.call(this,a)||this,p.enhancer=void 0,p.name_=void 0,p.equals=void 0,p.hasUnreportedChange_=!1,p.interceptors_=void 0,p.changeListeners_=void 0,p.value_=void 0,p.dehancer=void 0,p.enhancer=r,p.name_=a,p.equals=c,p.value_=r(o,void 0,a),p}$A(e,t);var n=e.prototype;return n.dehanceValue=function(r){return this.dehancer!==void 0?this.dehancer(r):r},n.set=function(r){this.value_,r=this.prepareNewValue_(r),r!==ue.UNCHANGED&&this.setNewValue_(r)},n.prepareNewValue_=function(r){if(Pn(this)){var a=Ln(this,{object:this,type:Ao,newValue:r});if(!a)return ue.UNCHANGED;r=a.newValue}return r=this.enhancer(r,this.value_,this.name_),this.equals(this.value_,r)?ue.UNCHANGED:r},n.setNewValue_=function(r){var a=this.value_;this.value_=r,this.reportChanged(),to(this)&&no(this,{type:Ao,object:this,newValue:r,oldValue:a})},n.get=function(){return this.reportObserved(),this.dehanceValue(this.value_)},n.intercept_=function(r){return bu(this,r)},n.observe_=function(r,a){return a&&r({observableKind:"value",debugObjectName:this.name_,object:this,type:Ao,newValue:this.value_,oldValue:void 0}),wu(this,r)},n.raw=function(){return this.value_},n.toJSON=function(){return this.get()},n.toString=function(){return this.name_+"["+this.value_+"]"},n.valueOf=function(){return GA(this.get())},n[Symbol.toPrimitive]=function(){return this.valueOf()},e})(or),GL=nr("ObservableValue",ji),so=(function(){function t(n){this.dependenciesState_=$e.NOT_TRACKING_,this.observing_=[],this.newObserving_=null,this.observers_=new Set,this.runId_=0,this.lastAccessedBy_=0,this.lowestObserverState_=$e.UP_TO_DATE_,this.unboundDepsCount_=0,this.value_=new ud(null),this.name_=void 0,this.triggeredBy_=void 0,this.flags_=0,this.derivation=void 0,this.setter_=void 0,this.isTracing_=ld.NONE,this.scope_=void 0,this.equals_=void 0,this.requiresReaction_=void 0,this.keepAlive_=void 0,this.onBOL=void 0,this.onBUOL=void 0,n.get||ke(31),this.derivation=n.get,this.name_=n.name||"ComputedValue",n.set&&(this.setter_=Fr("ComputedValue-setter",n.set)),this.equals_=n.equals||(n.compareStructural||n.struct?sd.structural:sd.default),this.scope_=n.context,this.requiresReaction_=n.requiresReaction,this.keepAlive_=!!n.keepAlive}var e=t.prototype;return e.onBecomeStale_=function(){qL(this)},e.onBO=function(){this.onBOL&&this.onBOL.forEach(function(o){return o()})},e.onBUO=function(){this.onBUOL&&this.onBUOL.forEach(function(o){return o()})},e.get=function(){if(this.isComputing&&ke(32,this.name_,this.derivation),ue.inBatch===0&&this.observers_.size===0&&!this.keepAlive_)qg(this)&&(this.warnAboutUntrackedRead_(),Un(),this.value_=this.computeValue_(!1),kn());else if(ix(this),qg(this)){var o=ue.trackingContext;this.keepAlive_&&!o&&(ue.trackingContext=this),this.trackAndCompute()&&zL(this),ue.trackingContext=o}var r=this.value_;if(Hf(r))throw r.cause;return r},e.set=function(o){if(this.setter_){this.isRunningSetter&&ke(33,this.name_),this.isRunningSetter=!0;try{this.setter_.call(this.scope_,o)}finally{this.isRunningSetter=!1}}else ke(34,this.name_)},e.trackAndCompute=function(){var o=this.value_,r=this.dependenciesState_===$e.NOT_TRACKING_,a=this.computeValue_(!0),u=r||Hf(o)||Hf(a)||!this.equals_(o,a);return u&&(this.value_=a),u},e.computeValue_=function(o){this.isComputing=!0;var r=Qv(!1),a;if(o)a=QA(this,this.derivation,this.scope_);else if(ue.disableErrorBoundaries===!0)a=this.derivation.call(this.scope_);else try{a=this.derivation.call(this.scope_)}catch(u){a=new ud(u)}return Zv(r),this.isComputing=!1,a},e.suspend_=function(){this.keepAlive_||(Jg(this),this.value_=void 0)},e.observe_=function(o,r){var a=this,u=!0,c=void 0;return eU(function(){var p=a.get();if(!u||r){var d=Wr();o({observableKind:"computed",debugObjectName:a.name_,type:Ao,object:a,newValue:p,oldValue:c}),si(d)}u=!1,c=p})},e.warnAboutUntrackedRead_=function(){},e.toString=function(){return this.name_+"["+this.derivation.toString()+"]"},e.valueOf=function(){return GA(this.get())},e[Symbol.toPrimitive]=function(){return this.valueOf()},Sa(t,[{key:"isComputing",get:function(){return vn(this.flags_,t.isComputingMask_)},set:function(o){this.flags_=yn(this.flags_,t.isComputingMask_,o)}},{key:"isRunningSetter",get:function(){return vn(this.flags_,t.isRunningSetterMask_)},set:function(o){this.flags_=yn(this.flags_,t.isRunningSetterMask_,o)}},{key:"isBeingObserved",get:function(){return vn(this.flags_,t.isBeingObservedMask_)},set:function(o){this.flags_=yn(this.flags_,t.isBeingObservedMask_,o)}},{key:"isPendingUnobservation",get:function(){return vn(this.flags_,t.isPendingUnobservationMask_)},set:function(o){this.flags_=yn(this.flags_,t.isPendingUnobservationMask_,o)}},{key:"diffValue",get:function(){return vn(this.flags_,t.diffValueMask_)?1:0},set:function(o){this.flags_=yn(this.flags_,t.diffValueMask_,o===1)}}])})();so.isComputingMask_=1;so.isRunningSetterMask_=2;so.isBeingObservedMask_=4;so.isPendingUnobservationMask_=8;so.diffValueMask_=16;var Su=nr("ComputedValue",so),$e;(function(t){t[t.NOT_TRACKING_=-1]="NOT_TRACKING_",t[t.UP_TO_DATE_=0]="UP_TO_DATE_",t[t.POSSIBLY_STALE_=1]="POSSIBLY_STALE_",t[t.STALE_=2]="STALE_"})($e||($e={}));var ld;(function(t){t[t.NONE=0]="NONE",t[t.LOG=1]="LOG",t[t.BREAK=2]="BREAK"})(ld||(ld={}));var ud=function(e){this.cause=void 0,this.cause=e};function Hf(t){return t instanceof ud}function qg(t){switch(t.dependenciesState_){case $e.UP_TO_DATE_:return!1;case $e.NOT_TRACKING_:case $e.STALE_:return!0;case $e.POSSIBLY_STALE_:{for(var e=ey(!0),n=Wr(),o=t.observing_,r=o.length,a=0;a<r;a++){var u=o[a];if(Su(u)){if(ue.disableErrorBoundaries)u.get();else try{u.get()}catch{return si(n),ql(e),!0}if(t.dependenciesState_===$e.STALE_)return si(n),ql(e),!0}}return ex(t),si(n),ql(e),!1}}}function QA(t,e,n){var o=ey(!0);ex(t),t.newObserving_=new Array(t.runId_===0?100:t.observing_.length),t.unboundDepsCount_=0,t.runId_=++ue.runId;var r=ue.trackingDerivation;ue.trackingDerivation=t,ue.inBatch++;var a;if(ue.disableErrorBoundaries===!0)a=e.call(n);else try{a=e.call(n)}catch(u){a=new ud(u)}return ue.inBatch--,ue.trackingDerivation=r,$L(t),ql(o),a}function $L(t){for(var e=t.observing_,n=t.observing_=t.newObserving_,o=$e.UP_TO_DATE_,r=0,a=t.unboundDepsCount_,u=0;u<a;u++){var c=n[u];c.diffValue===0&&(c.diffValue=1,r!==u&&(n[r]=c),r++),c.dependenciesState_>o&&(o=c.dependenciesState_)}for(n.length=r,t.newObserving_=null,a=e.length;a--;){var p=e[a];p.diffValue===0&&nx(p,t),p.diffValue=0}for(;r--;){var d=n[r];d.diffValue===1&&(d.diffValue=0,VL(d,t))}o!==$e.UP_TO_DATE_&&(t.dependenciesState_=o,t.onBecomeStale_())}function Jg(t){var e=t.observing_;t.observing_=[];for(var n=e.length;n--;)nx(e[n],t);t.dependenciesState_=$e.NOT_TRACKING_}function ZA(t){var e=Wr();try{return t()}finally{si(e)}}function Wr(){var t=ue.trackingDerivation;return ue.trackingDerivation=null,t}function si(t){ue.trackingDerivation=t}function ey(t){var e=ue.allowStateReads;return ue.allowStateReads=t,e}function ql(t){ue.allowStateReads=t}function ex(t){if(t.dependenciesState_!==$e.UP_TO_DATE_){t.dependenciesState_=$e.UP_TO_DATE_;for(var e=t.observing_,n=e.length;n--;)e[n].lowestObserverState_=$e.UP_TO_DATE_}}var Gf=function(){this.version=6,this.UNCHANGED={},this.trackingDerivation=null,this.trackingContext=null,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!1,this.allowStateReads=!0,this.enforceActions=!0,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1,this.useProxies=!0,this.verifyProxies=!1,this.safeDescriptors=!0},$f=!0,tx=!1,ue=(function(){var t=Gd();return t.__mobxInstanceCount>0&&!t.__mobxGlobals&&($f=!1),t.__mobxGlobals&&t.__mobxGlobals.version!==new Gf().version&&($f=!1),$f?t.__mobxGlobals?(t.__mobxInstanceCount+=1,t.__mobxGlobals.UNCHANGED||(t.__mobxGlobals.UNCHANGED={}),t.__mobxGlobals):(t.__mobxInstanceCount=1,t.__mobxGlobals=new Gf):(setTimeout(function(){tx||ke(35)},1),new Gf)})();function FL(){if((ue.pendingReactions.length||ue.inBatch||ue.isRunningReactions)&&ke(36),tx=!0,$f){var t=Gd();--t.__mobxInstanceCount===0&&(t.__mobxGlobals=void 0),ue=new Gf}}function VL(t,e){t.observers_.add(e),t.lowestObserverState_>e.dependenciesState_&&(t.lowestObserverState_=e.dependenciesState_)}function nx(t,e){t.observers_.delete(e),t.observers_.size===0&&ox(t)}function ox(t){t.isPendingUnobservation===!1&&(t.isPendingUnobservation=!0,ue.pendingUnobservations.push(t))}function Un(){ue.inBatch++}function kn(){if(--ue.inBatch===0){sx();for(var t=ue.pendingUnobservations,e=0;e<t.length;e++){var n=t[e];n.isPendingUnobservation=!1,n.observers_.size===0&&(n.isBeingObserved&&(n.isBeingObserved=!1,n.onBUO()),n instanceof so&&n.suspend_())}ue.pendingUnobservations=[]}}function ix(t){var e=ue.trackingDerivation;return e!==null?(e.runId_!==t.lastAccessedBy_&&(t.lastAccessedBy_=e.runId_,e.newObserving_[e.unboundDepsCount_++]=t,!t.isBeingObserved&&ue.trackingContext&&(t.isBeingObserved=!0,t.onBO())),t.isBeingObserved):(t.observers_.size===0&&ue.inBatch>0&&ox(t),!1)}function rx(t){t.lowestObserverState_!==$e.STALE_&&(t.lowestObserverState_=$e.STALE_,t.observers_.forEach(function(e){e.dependenciesState_===$e.UP_TO_DATE_&&e.onBecomeStale_(),e.dependenciesState_=$e.STALE_}))}function zL(t){t.lowestObserverState_!==$e.STALE_&&(t.lowestObserverState_=$e.STALE_,t.observers_.forEach(function(e){e.dependenciesState_===$e.POSSIBLY_STALE_?e.dependenciesState_=$e.STALE_:e.dependenciesState_===$e.UP_TO_DATE_&&(t.lowestObserverState_=$e.UP_TO_DATE_)}))}function qL(t){t.lowestObserverState_===$e.UP_TO_DATE_&&(t.lowestObserverState_=$e.POSSIBLY_STALE_,t.observers_.forEach(function(e){e.dependenciesState_===$e.UP_TO_DATE_&&(e.dependenciesState_=$e.POSSIBLY_STALE_,e.onBecomeStale_())}))}var ui=(function(){function t(n,o,r,a){n===void 0&&(n="Reaction"),this.name_=void 0,this.onInvalidate_=void 0,this.errorHandler_=void 0,this.requiresObservable_=void 0,this.observing_=[],this.newObserving_=[],this.dependenciesState_=$e.NOT_TRACKING_,this.runId_=0,this.unboundDepsCount_=0,this.flags_=0,this.isTracing_=ld.NONE,this.name_=n,this.onInvalidate_=o,this.errorHandler_=r,this.requiresObservable_=a}var e=t.prototype;return e.onBecomeStale_=function(){this.schedule_()},e.schedule_=function(){this.isScheduled||(this.isScheduled=!0,ue.pendingReactions.push(this),sx())},e.runReaction_=function(){if(!this.isDisposed){Un(),this.isScheduled=!1;var o=ue.trackingContext;if(ue.trackingContext=this,qg(this)){this.isTrackPending=!0;try{this.onInvalidate_()}catch(r){this.reportExceptionInDerivation_(r)}}ue.trackingContext=o,kn()}},e.track=function(o){if(!this.isDisposed){Un(),this.isRunning=!0;var r=ue.trackingContext;ue.trackingContext=this;var a=QA(this,o,void 0);ue.trackingContext=r,this.isRunning=!1,this.isTrackPending=!1,this.isDisposed&&Jg(this),Hf(a)&&this.reportExceptionInDerivation_(a.cause),kn()}},e.reportExceptionInDerivation_=function(o){var r=this;if(this.errorHandler_){this.errorHandler_(o,this);return}if(ue.disableErrorBoundaries)throw o;var a="[mobx] uncaught error in '"+this+"'";ue.suppressReactionErrors||console.error(a,o),ue.globalReactionErrorHandlers.forEach(function(u){return u(o,r)})},e.dispose=function(){this.isDisposed||(this.isDisposed=!0,this.isRunning||(Un(),Jg(this),kn()))},e.getDisposer_=function(o){var r=this,a=function u(){r.dispose(),o==null||o.removeEventListener==null||o.removeEventListener("abort",u)};return o==null||o.addEventListener==null||o.addEventListener("abort",a),a[we]=this,"dispose"in Symbol&&typeof Symbol.dispose=="symbol"&&(a[Symbol.dispose]=a),a},e.toString=function(){return"Reaction["+this.name_+"]"},e.trace=function(o){},Sa(t,[{key:"isDisposed",get:function(){return vn(this.flags_,t.isDisposedMask_)},set:function(o){this.flags_=yn(this.flags_,t.isDisposedMask_,o)}},{key:"isScheduled",get:function(){return vn(this.flags_,t.isScheduledMask_)},set:function(o){this.flags_=yn(this.flags_,t.isScheduledMask_,o)}},{key:"isTrackPending",get:function(){return vn(this.flags_,t.isTrackPendingMask_)},set:function(o){this.flags_=yn(this.flags_,t.isTrackPendingMask_,o)}},{key:"isRunning",get:function(){return vn(this.flags_,t.isRunningMask_)},set:function(o){this.flags_=yn(this.flags_,t.isRunningMask_,o)}},{key:"diffValue",get:function(){return vn(this.flags_,t.diffValueMask_)?1:0},set:function(o){this.flags_=yn(this.flags_,t.diffValueMask_,o===1)}}])})();ui.isDisposedMask_=1;ui.isScheduledMask_=2;ui.isTrackPendingMask_=4;ui.isRunningMask_=8;ui.diffValueMask_=16;var JL=100,Kg=function(e){return e()};function sx(){ue.inBatch>0||ue.isRunningReactions||Kg(KL)}function KL(){ue.isRunningReactions=!0;for(var t=ue.pendingReactions,e=0;t.length>0;){++e===JL&&(console.error("[mobx] cycle in reaction: "+t[0]),t.splice(0));for(var n=t.splice(0),o=0,r=n.length;o<r;o++)n[o].runReaction_()}ue.isRunningReactions=!1}var cd=nr("Reaction",ui);function YL(t){var e=Kg;Kg=function(o){return t(function(){return e(o)})}}function Jl(){return!1}function XL(t){return console.warn("[mobx.spy] Is a no-op in production builds"),function(){}}var ax="action",WL="action.bound",lx="autoAction",jL="autoAction.bound",ux="<unnamed action>",Yg=_u(ax),QL=_u(WL,{bound:!0}),Xg=_u(lx,{autoAction:!0}),ZL=_u(jL,{autoAction:!0,bound:!0});function cx(t){var e=function(o,r){if(ro(o))return Fr(o.name||ux,o,t);if(ro(r))return Fr(o,r,t);if(yu(r))return(t?Xg:Yg).decorate_20223_(o,r);if(Hr(r))return vu(o,r,t?Xg:Yg);if(Hr(o))return Co(_u(t?lx:ax,{name:o,autoAction:t}))};return e}var na=cx(!1);Object.assign(na,Yg);var Zl=cx(!0);Object.assign(Zl,Xg);na.bound=Co(QL);Zl.bound=Co(ZL);function Je(t){return jA(t.name||ux,!1,t,this,void 0)}function da(t){return ro(t)&&t.isMobxAction===!0}function eU(t,e){var n,o,r,a;e===void 0&&(e=PA);var u=(n=(o=e)==null?void 0:o.name)!=null?n:"Autorun",c=!e.scheduler&&!e.delay,p;if(c)p=new ui(u,function(){this.track(y)},e.onError,e.requiresObservable);else{var d=nU(e),m=!1;p=new ui(u,function(){m||(m=!0,d(function(){m=!1,p.isDisposed||p.track(y)}))},e.onError,e.requiresObservable)}function y(){t(p)}return(r=e)!=null&&(r=r.signal)!=null&&r.aborted||p.schedule_(),p.getDisposer_((a=e)==null?void 0:a.signal)}var tU=function(e){return e()};function nU(t){return t.scheduler?t.scheduler:t.delay?function(e){return setTimeout(e,t.delay)}:tU}var oU="onBO",iU="onBUO";function rU(t,e,n){return dx(oU,t,e,n)}function fx(t,e,n){return dx(iU,t,e,n)}function dx(t,e,n,o){var r=pd(e),a=ro(o)?o:n,u=t+"L";return r[u]?r[u].add(a):r[u]=new Set([a]),function(){var c=r[u];c&&(c.delete(a),c.size===0&&delete r[u])}}var sU="never",ff="always",aU="observed";function lU(t){t.isolateGlobalState===!0&&FL();var e=t.useProxies,n=t.enforceActions;if(e!==void 0&&(ue.useProxies=e===ff?!0:e===sU?!1:typeof Proxy<"u"),e==="ifavailable"&&(ue.verifyProxies=!0),n!==void 0){var o=n===ff?ff:n===aU;ue.enforceActions=o,ue.allowStateChanges=!(o===!0||o===ff)}["computedRequiresReaction","reactionRequiresObservable","observableRequiresReaction","disableErrorBoundaries","safeDescriptors"].forEach(function(r){r in t&&(ue[r]=!!t[r])}),ue.allowStateReads=!ue.observableRequiresReaction,t.reactionScheduler&&YL(t.reactionScheduler)}function px(t,e,n,o){var r=qP(e);return sr(function(){var a=jr(t,o)[we];fa(r).forEach(function(u){a.extend_(u,r[u],n&&u in n?n[u]:!0)})}),t}function uU(t,e){return hx(pd(t,e))}function hx(t){var e={name:t.name_};return t.observing_&&t.observing_.length>0&&(e.dependencies=cU(t.observing_).map(hx)),e}function cU(t){return Array.from(new Set(t))}var fU=0;function mx(){this.message="FLOW_CANCELLED"}mx.prototype=Object.create(Error.prototype);var Jm=zA("flow"),dU=zA("flow.bound",{bound:!0}),pa=Object.assign(function(e,n){if(yu(n))return Jm.decorate_20223_(e,n);if(Hr(n))return vu(e,n,Jm);var o=e,r=o.name||"<unnamed flow>",a=function(){var c=this,p=arguments,d=++fU,m=na(r+" - runid: "+d+" - init",o).apply(c,p),y,S=void 0,E=new Promise(function(T,C){var x=0;y=C;function M(D){S=void 0;var U;try{U=na(r+" - runid: "+d+" - yield "+x++,m.next).call(m,D)}catch(k){return C(k)}N(U)}function I(D){S=void 0;var U;try{U=na(r+" - runid: "+d+" - yield "+x++,m.throw).call(m,D)}catch(k){return C(k)}N(U)}function N(D){if(ro(D?.then)){D.then(N,C);return}return D.done?T(D.value):(S=Promise.resolve(D.value),S.then(M,I))}M(void 0)});return E.cancel=na(r+" - runid: "+d+" - cancel",function(){try{S&&kb(S);var T=m.return(void 0),C=Promise.resolve(T.value);C.then(ea,ea),kb(C),y(new mx)}catch(x){y(x)}}),E};return a.isMobXFlow=!0,a},Jm);pa.bound=Co(dU);function kb(t){ro(t.cancel)&&t.cancel()}function eu(t){return t?.isMobXFlow===!0}function pU(t,e){return t?Cu(t)||!!t[we]||Wv(t)||cd(t)||Su(t):!1}function ty(t){return pU(t)}function hU(t){if(Cu(t))return t[we].ownKeys_();ke(38)}function df(t,e,n){return t.set(e,n),n}function Xs(t,e){if(t==null||typeof t!="object"||t instanceof Date||!ty(t))return t;if(GL(t)||Su(t))return Xs(t.get(),e);if(e.has(t))return e.get(t);if(Tu(t)){var n=df(e,t,new Array(t.length));return t.forEach(function(u,c){n[c]=Xs(u,e)}),n}if(Qn(t)){var o=df(e,t,new Set);return t.forEach(function(u){o.add(Xs(u,e))}),o}if(rr(t)){var r=df(e,t,new Map);return t.forEach(function(u,c){r.set(c,Xs(u,e))}),r}else{var a=df(e,t,{});return hU(t).forEach(function(u){mu.propertyIsEnumerable.call(t,u)&&(a[u]=Xs(t[u],e))}),a}}function Eu(t,e){return Xs(t,new Map)}function oi(t,e){e===void 0&&(e=void 0),Un();try{return t.apply(e)}finally{kn()}}function Hs(t){return t[we]}var mU={has:function(e,n){return Hs(e).has_(n)},get:function(e,n){return Hs(e).get_(n)},set:function(e,n,o){var r;return Hr(n)?(r=Hs(e).set_(n,o,!0))!=null?r:!0:!1},deleteProperty:function(e,n){var o;return Hr(n)?(o=Hs(e).delete_(n,!0))!=null?o:!0:!1},defineProperty:function(e,n,o){var r;return(r=Hs(e).defineProperty_(n,o))!=null?r:!0},ownKeys:function(e){return Hs(e).ownKeys_()},preventExtensions:function(e){ke(13)}};function gU(t,e){var n,o;return LA(),t=jr(t,e),(o=(n=t[we]).proxy_)!=null?o:n.proxy_=new Proxy(t,mU)}function Pn(t){return t.interceptors_!==void 0&&t.interceptors_.length>0}function bu(t,e){var n=t.interceptors_||(t.interceptors_=[]);return n.push(e),UA(function(){var o=n.indexOf(e);o!==-1&&n.splice(o,1)})}function Ln(t,e){var n=Wr();try{for(var o=[].concat(t.interceptors_||[]),r=0,a=o.length;r<a&&(e=o[r](e),e&&!e.type&&ke(14),!!e);r++);return e}finally{si(n)}}function to(t){return t.changeListeners_!==void 0&&t.changeListeners_.length>0}function wu(t,e){var n=t.changeListeners_||(t.changeListeners_=[]);return n.push(e),UA(function(){var o=n.indexOf(e);o!==-1&&n.splice(o,1)})}function no(t,e){var n=Wr(),o=t.changeListeners_;if(o){o=o.slice();for(var r=0,a=o.length;r<a;r++)o[r](e);si(n)}}function vU(t,e,n){return sr(function(){var o,r=jr(t,n)[we];(o=e)!=null||(e=WP(t)),fa(e).forEach(function(a){return r.make_(a,e[a])})}),t}var Km=Symbol("mobx-keys");function ir(t,e,n){return li(t)?px(t,t,e,n):(sr(function(){var o=jr(t,n)[we];if(!t[Km]){var r=Object.getPrototypeOf(t),a=new Set([].concat(fa(t),fa(r)));a.delete("constructor"),a.delete(we),gu(r,Km,a)}t[Km].forEach(function(u){return o.make_(u,e&&u in e?e[u]:!0)})}),t)}var Bb="splice",Ao="update",yU=1e4,_U={get:function(e,n){var o=e[we];return n===we?o:n==="length"?o.getArrayLength_():typeof n=="string"&&!isNaN(n)?o.get_(parseInt(n)):ri(fd,n)?fd[n]:e[n]},set:function(e,n,o){var r=e[we];return n==="length"&&r.setArrayLength_(o),typeof n=="symbol"||isNaN(n)?e[n]=o:r.set_(parseInt(n),o),!0},preventExtensions:function(){ke(15)}},ny=(function(){function t(n,o,r,a){n===void 0&&(n="ObservableArray"),this.owned_=void 0,this.legacyMode_=void 0,this.atom_=void 0,this.values_=[],this.interceptors_=void 0,this.changeListeners_=void 0,this.enhancer_=void 0,this.dehancer=void 0,this.proxy_=void 0,this.lastKnownLength_=0,this.owned_=r,this.legacyMode_=a,this.atom_=new or(n),this.enhancer_=function(u,c){return o(u,c,"ObservableArray[..]")}}var e=t.prototype;return e.dehanceValue_=function(o){return this.dehancer!==void 0?this.dehancer(o):o},e.dehanceValues_=function(o){return this.dehancer!==void 0&&o.length>0?o.map(this.dehancer):o},e.intercept_=function(o){return bu(this,o)},e.observe_=function(o,r){return r===void 0&&(r=!1),r&&o({observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:"splice",index:0,added:this.values_.slice(),addedCount:this.values_.length,removed:[],removedCount:0}),wu(this,o)},e.getArrayLength_=function(){return this.atom_.reportObserved(),this.values_.length},e.setArrayLength_=function(o){(typeof o!="number"||isNaN(o)||o<0)&&ke("Out of range: "+o);var r=this.values_.length;if(o!==r)if(o>r){for(var a=new Array(o-r),u=0;u<o-r;u++)a[u]=void 0;this.spliceWithArray_(r,0,a)}else this.spliceWithArray_(o,r-o)},e.updateArrayLength_=function(o,r){o!==this.lastKnownLength_&&ke(16),this.lastKnownLength_+=r,this.legacyMode_&&r>0&&bx(o+r+1)},e.spliceWithArray_=function(o,r,a){var u=this;this.atom_;var c=this.values_.length;if(o===void 0?o=0:o>c?o=c:o<0&&(o=Math.max(0,c+o)),arguments.length===1?r=c-o:r==null?r=0:r=Math.max(0,Math.min(r,c-o)),a===void 0&&(a=$g),Pn(this)){var p=Ln(this,{object:this.proxy_,type:Bb,index:o,removedCount:r,added:a});if(!p)return $g;r=p.removedCount,a=p.added}if(a=a.length===0?a:a.map(function(y){return u.enhancer_(y,void 0)}),this.legacyMode_){var d=a.length-r;this.updateArrayLength_(c,d)}var m=this.spliceItemsIntoValues_(o,r,a);return(r!==0||a.length!==0)&&this.notifyArraySplice_(o,a,m),this.dehanceValues_(m)},e.spliceItemsIntoValues_=function(o,r,a){if(a.length<yU){var u;return(u=this.values_).splice.apply(u,[o,r].concat(a))}else{var c=this.values_.slice(o,o+r),p=this.values_.slice(o+r);this.values_.length+=a.length-r;for(var d=0;d<a.length;d++)this.values_[o+d]=a[d];for(var m=0;m<p.length;m++)this.values_[o+a.length+m]=p[m];return c}},e.notifyArrayChildUpdate_=function(o,r,a){var u=!this.owned_&&Jl(),c=to(this),p=c||u?{observableKind:"array",object:this.proxy_,type:Ao,debugObjectName:this.atom_.name_,index:o,newValue:r,oldValue:a}:null;this.atom_.reportChanged(),c&&no(this,p)},e.notifyArraySplice_=function(o,r,a){var u=!this.owned_&&Jl(),c=to(this),p=c||u?{observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:Bb,index:o,removed:a,added:r,removedCount:a.length,addedCount:r.length}:null;this.atom_.reportChanged(),c&&no(this,p)},e.get_=function(o){if(this.legacyMode_&&o>=this.values_.length){console.warn("[mobx] Out of bounds read: "+o);return}return this.atom_.reportObserved(),this.dehanceValue_(this.values_[o])},e.set_=function(o,r){var a=this.values_;if(this.legacyMode_&&o>a.length&&ke(17,o,a.length),o<a.length){this.atom_;var u=a[o];if(Pn(this)){var c=Ln(this,{type:Ao,object:this.proxy_,index:o,newValue:r});if(!c)return;r=c.newValue}r=this.enhancer_(r,u);var p=r!==u;p&&(a[o]=r,this.notifyArrayChildUpdate_(o,r,u))}else{for(var d=new Array(o+1-a.length),m=0;m<d.length-1;m++)d[m]=void 0;d[d.length-1]=r,this.spliceWithArray_(a.length,0,d)}},t})();function SU(t,e,n,o){return n===void 0&&(n="ObservableArray"),o===void 0&&(o=!1),LA(),sr(function(){var r=new ny(n,e,o,!1);BA(r.values_,we,r);var a=new Proxy(r.values_,_U);return r.proxy_=a,t&&t.length&&r.spliceWithArray_(0,0,t),a})}var fd={clear:function(){return this.splice(0)},replace:function(e){var n=this[we];return n.spliceWithArray_(0,n.values_.length,e)},toJSON:function(){return this.slice()},splice:function(e,n){for(var o=arguments.length,r=new Array(o>2?o-2:0),a=2;a<o;a++)r[a-2]=arguments[a];var u=this[we];switch(arguments.length){case 0:return[];case 1:return u.spliceWithArray_(e);case 2:return u.spliceWithArray_(e,n)}return u.spliceWithArray_(e,n,r)},spliceWithArray:function(e,n,o){return this[we].spliceWithArray_(e,n,o)},push:function(){for(var e=this[we],n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return e.spliceWithArray_(e.values_.length,0,o),e.values_.length},pop:function(){return this.splice(Math.max(this[we].values_.length-1,0),1)[0]},shift:function(){return this.splice(0,1)[0]},unshift:function(){for(var e=this[we],n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return e.spliceWithArray_(0,0,o),e.values_.length},reverse:function(){return ue.trackingDerivation&&ke(37,"reverse"),this.replace(this.slice().reverse()),this},sort:function(){ue.trackingDerivation&&ke(37,"sort");var e=this.slice();return e.sort.apply(e,arguments),this.replace(e),this},remove:function(e){var n=this[we],o=n.dehanceValues_(n.values_).indexOf(e);return o>-1?(this.splice(o,1),!0):!1}};tt("at",En);tt("concat",En);tt("flat",En);tt("includes",En);tt("indexOf",En);tt("join",En);tt("lastIndexOf",En);tt("slice",En);tt("toString",En);tt("toLocaleString",En);tt("toSorted",En);tt("toSpliced",En);tt("with",En);tt("every",uo);tt("filter",uo);tt("find",uo);tt("findIndex",uo);tt("findLast",uo);tt("findLastIndex",uo);tt("flatMap",uo);tt("forEach",uo);tt("map",uo);tt("some",uo);tt("toReversed",uo);tt("reduce",gx);tt("reduceRight",gx);function tt(t,e){typeof Array.prototype[t]=="function"&&(fd[t]=e(t))}function En(t){return function(){var e=this[we];e.atom_.reportObserved();var n=e.dehanceValues_(e.values_);return n[t].apply(n,arguments)}}function uo(t){return function(e,n){var o=this,r=this[we];r.atom_.reportObserved();var a=r.dehanceValues_(r.values_);return a[t](function(u,c){return e.call(n,u,c,o)})}}function gx(t){return function(){var e=this,n=this[we];n.atom_.reportObserved();var o=n.dehanceValues_(n.values_),r=arguments[0];return arguments[0]=function(a,u,c){return r(a,u,c,e)},o[t].apply(o,arguments)}}var EU=nr("ObservableArrayAdministration",ny);function Tu(t){return $d(t)&&EU(t[we])}var bU={},Yi="add",dd="delete",vx=(function(){function t(n,o,r){var a=this;o===void 0&&(o=$r),r===void 0&&(r="ObservableMap"),this.enhancer_=void 0,this.name_=void 0,this[we]=bU,this.data_=void 0,this.hasMap_=void 0,this.keysAtom_=void 0,this.interceptors_=void 0,this.changeListeners_=void 0,this.dehancer=void 0,this.enhancer_=o,this.name_=r,ro(Map)||ke(18),sr(function(){a.keysAtom_=FA("ObservableMap.keys()"),a.data_=new Map,a.hasMap_=new Map,n&&a.merge(n)})}var e=t.prototype;return e.has_=function(o){return this.data_.has(o)},e.has=function(o){var r=this;if(!ue.trackingDerivation)return this.has_(o);var a=this.hasMap_.get(o);if(!a){var u=a=new ji(this.has_(o),Fd,"ObservableMap.key?",!1);this.hasMap_.set(o,u),fx(u,function(){return r.hasMap_.delete(o)})}return a.get()},e.set=function(o,r){var a=this.has_(o);if(Pn(this)){var u=Ln(this,{type:a?Ao:Yi,object:this,newValue:r,name:o});if(!u)return this;r=u.newValue}return a?this.updateValue_(o,r):this.addValue_(o,r),this},e.delete=function(o){var r=this;if(this.keysAtom_,Pn(this)){var a=Ln(this,{type:dd,object:this,name:o});if(!a)return!1}if(this.has_(o)){var u=Jl(),c=to(this),p=c||u?{observableKind:"map",debugObjectName:this.name_,type:dd,object:this,oldValue:this.data_.get(o).value_,name:o}:null;return oi(function(){var d;r.keysAtom_.reportChanged(),(d=r.hasMap_.get(o))==null||d.setNewValue_(!1);var m=r.data_.get(o);m.setNewValue_(void 0),r.data_.delete(o)}),c&&no(this,p),!0}return!1},e.updateValue_=function(o,r){var a=this.data_.get(o);if(r=a.prepareNewValue_(r),r!==ue.UNCHANGED){var u=Jl(),c=to(this),p=c||u?{observableKind:"map",debugObjectName:this.name_,type:Ao,object:this,oldValue:a.value_,name:o,newValue:r}:null;a.setNewValue_(r),c&&no(this,p)}},e.addValue_=function(o,r){var a=this;this.keysAtom_,oi(function(){var d,m=new ji(r,a.enhancer_,"ObservableMap.key",!1);a.data_.set(o,m),r=m.value_,(d=a.hasMap_.get(o))==null||d.setNewValue_(!0),a.keysAtom_.reportChanged()});var u=Jl(),c=to(this),p=c||u?{observableKind:"map",debugObjectName:this.name_,type:Yi,object:this,name:o,newValue:r}:null;c&&no(this,p)},e.get=function(o){return this.has(o)?this.dehanceValue_(this.data_.get(o).get()):this.dehanceValue_(void 0)},e.dehanceValue_=function(o){return this.dehancer!==void 0?this.dehancer(o):o},e.keys=function(){return this.keysAtom_.reportObserved(),this.data_.keys()},e.values=function(){var o=this,r=this.keys();return Hb({next:function(){var u=r.next(),c=u.done,p=u.value;return{done:c,value:c?void 0:o.get(p)}}})},e.entries=function(){var o=this,r=this.keys();return Hb({next:function(){var u=r.next(),c=u.done,p=u.value;return{done:c,value:c?void 0:[p,o.get(p)]}}})},e[Symbol.iterator]=function(){return this.entries()},e.forEach=function(o,r){for(var a=ta(this),u;!(u=a()).done;){var c=u.value,p=c[0],d=c[1];o.call(r,d,p,this)}},e.merge=function(o){var r=this;return rr(o)&&(o=new Map(o)),oi(function(){li(o)?zP(o).forEach(function(a){return r.set(a,o[a])}):Array.isArray(o)?o.forEach(function(a){var u=a[0],c=a[1];return r.set(u,c)}):_a(o)?(VP(o)||ke(19,o),o.forEach(function(a,u){return r.set(u,a)})):o!=null&&ke(20,o)}),this},e.clear=function(){var o=this;oi(function(){ZA(function(){for(var r=ta(o.keys()),a;!(a=r()).done;){var u=a.value;o.delete(u)}})})},e.replace=function(o){var r=this;return oi(function(){for(var a=wU(o),u=new Map,c=!1,p=ta(r.data_.keys()),d;!(d=p()).done;){var m=d.value;if(!a.has(m)){var y=r.delete(m);if(y)c=!0;else{var S=r.data_.get(m);u.set(m,S)}}}for(var E=ta(a.entries()),T;!(T=E()).done;){var C=T.value,x=C[0],M=C[1],I=r.data_.has(x);if(r.set(x,M),r.data_.has(x)){var N=r.data_.get(x);u.set(x,N),I||(c=!0)}}if(!c)if(r.data_.size!==u.size)r.keysAtom_.reportChanged();else for(var D=r.data_.keys(),U=u.keys(),k=D.next(),O=U.next();!k.done;){if(k.value!==O.value){r.keysAtom_.reportChanged();break}k=D.next(),O=U.next()}r.data_=u}),this},e.toString=function(){return"[object ObservableMap]"},e.toJSON=function(){return Array.from(this)},e.observe_=function(o,r){return wu(this,o)},e.intercept_=function(o){return bu(this,o)},Sa(t,[{key:"size",get:function(){return this.keysAtom_.reportObserved(),this.data_.size}},{key:Symbol.toStringTag,get:function(){return"Map"}}])})(),rr=nr("ObservableMap",vx);function Hb(t){return t[Symbol.toStringTag]="MapIterator",iy(t)}function wU(t){if(_a(t)||rr(t))return t;if(Array.isArray(t))return new Map(t);if(li(t)){var e=new Map;for(var n in t)e.set(n,t[n]);return e}else return ke(21,t)}var TU={},yx=(function(){function t(n,o,r){var a=this;o===void 0&&(o=$r),r===void 0&&(r="ObservableSet"),this.name_=void 0,this[we]=TU,this.data_=new Set,this.atom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.dehancer=void 0,this.enhancer_=void 0,this.name_=r,ro(Set)||ke(22),this.enhancer_=function(u,c){return o(u,c,r)},sr(function(){a.atom_=FA(a.name_),n&&a.replace(n)})}var e=t.prototype;return e.dehanceValue_=function(o){return this.dehancer!==void 0?this.dehancer(o):o},e.clear=function(){var o=this;oi(function(){ZA(function(){for(var r=ta(o.data_.values()),a;!(a=r()).done;){var u=a.value;o.delete(u)}})})},e.forEach=function(o,r){for(var a=ta(this),u;!(u=a()).done;){var c=u.value;o.call(r,c,c,this)}},e.add=function(o){var r=this;if(this.atom_,Pn(this)){var a=Ln(this,{type:Yi,object:this,newValue:o});if(!a)return this;o=a.newValue}if(!this.has(o)){oi(function(){r.data_.add(r.enhancer_(o,void 0)),r.atom_.reportChanged()});var u=!1,c=to(this),p=c||u?{observableKind:"set",debugObjectName:this.name_,type:Yi,object:this,newValue:o}:null;c&&no(this,p)}return this},e.delete=function(o){var r=this;if(Pn(this)){var a=Ln(this,{type:dd,object:this,oldValue:o});if(!a)return!1}if(this.has(o)){var u=!1,c=to(this),p=c||u?{observableKind:"set",debugObjectName:this.name_,type:dd,object:this,oldValue:o}:null;return oi(function(){r.atom_.reportChanged(),r.data_.delete(o)}),c&&no(this,p),!0}return!1},e.has=function(o){return this.atom_.reportObserved(),this.data_.has(this.dehanceValue_(o))},e.entries=function(){var o=this.values();return Gb({next:function(){var a=o.next(),u=a.value,c=a.done;return c?{value:void 0,done:c}:{value:[u,u],done:c}}})},e.keys=function(){return this.values()},e.values=function(){this.atom_.reportObserved();var o=this,r=this.data_.values();return Gb({next:function(){var u=r.next(),c=u.value,p=u.done;return p?{value:void 0,done:p}:{value:o.dehanceValue_(c),done:p}}})},e.intersection=function(o){if(ni(o)&&!Qn(o))return o.intersection(this);var r=new Set(this);return r.intersection(o)},e.union=function(o){if(ni(o)&&!Qn(o))return o.union(this);var r=new Set(this);return r.union(o)},e.difference=function(o){return new Set(this).difference(o)},e.symmetricDifference=function(o){if(ni(o)&&!Qn(o))return o.symmetricDifference(this);var r=new Set(this);return r.symmetricDifference(o)},e.isSubsetOf=function(o){return new Set(this).isSubsetOf(o)},e.isSupersetOf=function(o){return new Set(this).isSupersetOf(o)},e.isDisjointFrom=function(o){if(ni(o)&&!Qn(o))return o.isDisjointFrom(this);var r=new Set(this);return r.isDisjointFrom(o)},e.replace=function(o){var r=this;return Qn(o)&&(o=new Set(o)),oi(function(){Array.isArray(o)?(r.clear(),o.forEach(function(a){return r.add(a)})):ni(o)?(r.clear(),o.forEach(function(a){return r.add(a)})):o!=null&&ke("Cannot initialize set from "+o)}),this},e.observe_=function(o,r){return wu(this,o)},e.intercept_=function(o){return bu(this,o)},e.toJSON=function(){return Array.from(this)},e.toString=function(){return"[object ObservableSet]"},e[Symbol.iterator]=function(){return this.values()},Sa(t,[{key:"size",get:function(){return this.atom_.reportObserved(),this.data_.size}},{key:Symbol.toStringTag,get:function(){return"Set"}}])})(),Qn=nr("ObservableSet",yx);function Gb(t){return t[Symbol.toStringTag]="SetIterator",iy(t)}var $b=Object.create(null),Fb="remove",_x=(function(){function t(n,o,r,a){o===void 0&&(o=new Map),a===void 0&&(a=SL),this.target_=void 0,this.values_=void 0,this.name_=void 0,this.defaultAnnotation_=void 0,this.keysAtom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.proxy_=void 0,this.isPlainObject_=void 0,this.appliedAnnotations_=void 0,this.pendingKeys_=void 0,this.target_=n,this.values_=o,this.name_=r,this.defaultAnnotation_=a,this.keysAtom_=new or("ObservableObject.keys"),this.isPlainObject_=li(this.target_)}var e=t.prototype;return e.getObservablePropValue_=function(o){return this.values_.get(o).get()},e.setObservablePropValue_=function(o,r){var a=this.values_.get(o);if(a instanceof so)return a.set(r),!0;if(Pn(this)){var u=Ln(this,{type:Ao,object:this.proxy_||this.target_,name:o,newValue:r});if(!u)return null;r=u.newValue}if(r=a.prepareNewValue_(r),r!==ue.UNCHANGED){var c=to(this),p=!1,d=c||p?{type:Ao,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,oldValue:a.value_,name:o,newValue:r}:null;a.setNewValue_(r),c&&no(this,d)}return!0},e.get_=function(o){return ue.trackingDerivation&&!ri(this.target_,o)&&this.has_(o),this.target_[o]},e.set_=function(o,r,a){return a===void 0&&(a=!1),ri(this.target_,o)?this.values_.has(o)?this.setObservablePropValue_(o,r):a?Reflect.set(this.target_,o,r):(this.target_[o]=r,!0):this.extend_(o,{value:r,enumerable:!0,writable:!0,configurable:!0},this.defaultAnnotation_,a)},e.has_=function(o){if(!ue.trackingDerivation)return o in this.target_;this.pendingKeys_||(this.pendingKeys_=new Map);var r=this.pendingKeys_.get(o);return r||(r=new ji(o in this.target_,Fd,"ObservableObject.key?",!1),this.pendingKeys_.set(o,r)),r.get()},e.make_=function(o,r){if(r===!0&&(r=this.defaultAnnotation_),r!==!1){if(!(o in this.target_)){var a;if((a=this.target_[Eo])!=null&&a[o])return;ke(1,r.annotationType_,this.name_+"."+o.toString())}for(var u=this.target_;u&&u!==mu;){var c=rd(u,o);if(c){var p=r.make_(this,o,c,u);if(p===0)return;if(p===1)break}u=Object.getPrototypeOf(u)}zb(this,r,o)}},e.extend_=function(o,r,a,u){if(u===void 0&&(u=!1),a===!0&&(a=this.defaultAnnotation_),a===!1)return this.defineProperty_(o,r,u);var c=a.extend_(this,o,r,u);return c&&zb(this,a,o),c},e.defineProperty_=function(o,r,a){a===void 0&&(a=!1),this.keysAtom_;try{Un();var u=this.delete_(o);if(!u)return u;if(Pn(this)){var c=Ln(this,{object:this.proxy_||this.target_,name:o,type:Yi,newValue:r.value});if(!c)return null;var p=c.newValue;r.value!==p&&(r=Gr({},r,{value:p}))}if(a){if(!Reflect.defineProperty(this.target_,o,r))return!1}else To(this.target_,o,r);this.notifyPropertyAddition_(o,r.value)}finally{kn()}return!0},e.defineObservableProperty_=function(o,r,a,u){u===void 0&&(u=!1),this.keysAtom_;try{Un();var c=this.delete_(o);if(!c)return c;if(Pn(this)){var p=Ln(this,{object:this.proxy_||this.target_,name:o,type:Yi,newValue:r});if(!p)return null;r=p.newValue}var d=Vb(o),m={configurable:ue.safeDescriptors?this.isPlainObject_:!0,enumerable:!0,get:d.get,set:d.set};if(u){if(!Reflect.defineProperty(this.target_,o,m))return!1}else To(this.target_,o,m);var y=new ji(r,a,"ObservableObject.key",!1);this.values_.set(o,y),this.notifyPropertyAddition_(o,y.value_)}finally{kn()}return!0},e.defineComputedProperty_=function(o,r,a){a===void 0&&(a=!1),this.keysAtom_;try{Un();var u=this.delete_(o);if(!u)return u;if(Pn(this)){var c=Ln(this,{object:this.proxy_||this.target_,name:o,type:Yi,newValue:void 0});if(!c)return null}r.name||(r.name="ObservableObject.key"),r.context=this.proxy_||this.target_;var p=Vb(o),d={configurable:ue.safeDescriptors?this.isPlainObject_:!0,enumerable:!1,get:p.get,set:p.set};if(a){if(!Reflect.defineProperty(this.target_,o,d))return!1}else To(this.target_,o,d);this.values_.set(o,new so(r)),this.notifyPropertyAddition_(o,void 0)}finally{kn()}return!0},e.delete_=function(o,r){if(r===void 0&&(r=!1),this.keysAtom_,!ri(this.target_,o))return!0;if(Pn(this)){var a=Ln(this,{object:this.proxy_||this.target_,name:o,type:Fb});if(!a)return null}try{var u;Un();var c=to(this),p=!1,d=this.values_.get(o),m=void 0;if(!d&&(c||p)){var y;m=(y=rd(this.target_,o))==null?void 0:y.value}if(r){if(!Reflect.deleteProperty(this.target_,o))return!1}else delete this.target_[o];if(d&&(this.values_.delete(o),d instanceof ji&&(m=d.value_),rx(d)),this.keysAtom_.reportChanged(),(u=this.pendingKeys_)==null||(u=u.get(o))==null||u.set(o in this.target_),c||p){var S={type:Fb,observableKind:"object",object:this.proxy_||this.target_,debugObjectName:this.name_,oldValue:m,name:o};c&&no(this,S)}}finally{kn()}return!0},e.observe_=function(o,r){return wu(this,o)},e.intercept_=function(o){return bu(this,o)},e.notifyPropertyAddition_=function(o,r){var a,u=to(this),c=!1;if(u||c){var p=u||c?{type:Yi,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,name:o,newValue:r}:null;u&&no(this,p)}(a=this.pendingKeys_)==null||(a=a.get(o))==null||a.set(!0),this.keysAtom_.reportChanged()},e.ownKeys_=function(){return this.keysAtom_.reportObserved(),fa(this.target_)},e.keys_=function(){return this.keysAtom_.reportObserved(),Object.keys(this.target_)},t})();function jr(t,e){var n;if(ri(t,we))return t;var o=(n=e?.name)!=null?n:"ObservableObject",r=new _x(t,new Map,String(o),IL(e));return gu(t,we,r),t}var CU=nr("ObservableObjectAdministration",_x);function Vb(t){return $b[t]||($b[t]={get:function(){return this[we].getObservablePropValue_(t)},set:function(n){return this[we].setObservablePropValue_(t,n)}})}function Cu(t){return $d(t)?CU(t[we]):!1}function zb(t,e,n){var o;(o=t.target_[Eo])==null||delete o[n]}var AU=Ex(0),xU=(function(){var t=!1,e={};return Object.defineProperty(e,"0",{set:function(){t=!0}}),Object.create(e)[0]=1,t===!1})(),Ym=0,Sx=function(){};function RU(t,e){Object.setPrototypeOf?Object.setPrototypeOf(t.prototype,e):t.prototype.__proto__!==void 0?t.prototype.__proto__=e:t.prototype=e}RU(Sx,Array.prototype);var oy=(function(t){function e(o,r,a,u){var c;return a===void 0&&(a="ObservableArray"),u===void 0&&(u=!1),c=t.call(this)||this,sr(function(){var p=new ny(a,r,u,!0);p.proxy_=c,BA(c,we,p),o&&o.length&&c.spliceWithArray(0,0,o),xU&&Object.defineProperty(c,"0",AU)}),c}$A(e,t);var n=e.prototype;return n.concat=function(){this[we].atom_.reportObserved();for(var r=arguments.length,a=new Array(r),u=0;u<r;u++)a[u]=arguments[u];return Array.prototype.concat.apply(this.slice(),a.map(function(c){return Tu(c)?c.slice():c}))},n[Symbol.iterator]=function(){var o=this,r=0;return iy({next:function(){return r<o.length?{value:o[r++],done:!1}:{done:!0,value:void 0}}})},Sa(e,[{key:"length",get:function(){return this[we].getArrayLength_()},set:function(r){this[we].setArrayLength_(r)}},{key:Symbol.toStringTag,get:function(){return"Array"}}])})(Sx);Object.entries(fd).forEach(function(t){var e=t[0],n=t[1];e!=="concat"&&gu(oy.prototype,e,n)});function Ex(t){return{enumerable:!1,configurable:!0,get:function(){return this[we].get_(t)},set:function(n){this[we].set_(t,n)}}}function MU(t){To(oy.prototype,""+t,Ex(t))}function bx(t){if(t>Ym){for(var e=Ym;e<t+100;e++)MU(e);Ym=t}}bx(1e3);function NU(t,e,n){return new oy(t,e,n)}function pd(t,e){if(typeof t=="object"&&t!==null){if(Tu(t))return e!==void 0&&ke(23),t[we].atom_;if(Qn(t))return t.atom_;if(rr(t)){if(e===void 0)return t.keysAtom_;var n=t.data_.get(e)||t.hasMap_.get(e);return n||ke(25,e,Wg(t)),n}if(Cu(t)){if(!e)return ke(26);var o=t[we].values_.get(e);return o||ke(27,e,Wg(t)),o}if(Wv(t)||Su(t)||cd(t))return t}else if(ro(t)&&cd(t[we]))return t[we];ke(28)}function IU(t,e){if(t||ke(29),Wv(t)||Su(t)||cd(t)||rr(t)||Qn(t))return t;if(t[we])return t[we];ke(24,t)}function Wg(t,e){var n;if(e!==void 0)n=pd(t,e);else{if(da(t))return t.name;Cu(t)||rr(t)||Qn(t)?n=IU(t):n=pd(t)}return n.name_}function sr(t){var e=Wr(),n=Qv(!0);Un();try{return t()}finally{kn(),Zv(n),si(e)}}var qb=mu.toString;function wx(t,e,n){return n===void 0&&(n=-1),jg(t,e,n)}function jg(t,e,n,o,r){if(t===e)return t!==0||1/t===1/e;if(t==null||e==null)return!1;if(t!==t)return e!==e;var a=typeof t;if(a!=="function"&&a!=="object"&&typeof e!="object")return!1;var u=qb.call(t);if(u!==qb.call(e))return!1;switch(u){case"[object RegExp]":case"[object String]":return""+t==""+e;case"[object Number]":return+t!=+t?+e!=+e:+t==0?1/+t===1/e:+t==+e;case"[object Date]":case"[object Boolean]":return+t==+e;case"[object Symbol]":return typeof Symbol<"u"&&Symbol.valueOf.call(t)===Symbol.valueOf.call(e);case"[object Map]":case"[object Set]":n>=0&&n++;break}t=Jb(t),e=Jb(e);var c=u==="[object Array]";if(!c){if(typeof t!="object"||typeof e!="object")return!1;var p=t.constructor,d=e.constructor;if(p!==d&&!(ro(p)&&p instanceof p&&ro(d)&&d instanceof d)&&"constructor"in t&&"constructor"in e)return!1}if(n===0)return!1;n<0&&(n=-1),o=o||[],r=r||[];for(var m=o.length;m--;)if(o[m]===t)return r[m]===e;if(o.push(t),r.push(e),c){if(m=t.length,m!==e.length)return!1;for(;m--;)if(!jg(t[m],e[m],n-1,o,r))return!1}else{var y=Object.keys(t),S=y.length;if(Object.keys(e).length!==S)return!1;for(var E=0;E<S;E++){var T=y[E];if(!(ri(e,T)&&jg(t[T],e[T],n-1,o,r)))return!1}}return o.pop(),r.pop(),!0}function Jb(t){return Tu(t)?t.slice():_a(t)||rr(t)||ni(t)||Qn(t)?Array.from(t.entries()):t}var Kb,DU=((Kb=Gd().Iterator)==null?void 0:Kb.prototype)||{};function iy(t){return t[Symbol.iterator]=OU,Object.assign(Object.create(DU),t)}function OU(){return this}["Symbol","Map","Set"].forEach(function(t){var e=Gd();typeof e[t]>"u"&&ke("MobX requires global '"+t+"' to be available or polyfilled")});typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__=="object"&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:XL,extras:{getDebugName:Wg},$mobx:we});if(!w.useState)throw new Error("mobx-react-lite requires React with Hooks support");if(!vU)throw new Error("mobx-react-lite@3 requires mobx at least version 6 to be available");var qd=DA();const Or=hu(qd);function PU(t){t()}function LU(t){t||(t=PU),lU({reactionScheduler:t})}function UU(t){return uU(t)}var kU=1e4,BU=1e4,HU=(function(){function t(e){var n=this;Object.defineProperty(this,"finalize",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"registrations",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),Object.defineProperty(this,"sweepTimeout",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sweep",{enumerable:!0,configurable:!0,writable:!0,value:function(o){o===void 0&&(o=kU),clearTimeout(n.sweepTimeout),n.sweepTimeout=void 0;var r=Date.now();n.registrations.forEach(function(a,u){r-a.registeredAt>=o&&(n.finalize(a.value),n.registrations.delete(u))}),n.registrations.size>0&&n.scheduleSweep()}}),Object.defineProperty(this,"finalizeAllImmediately",{enumerable:!0,configurable:!0,writable:!0,value:function(){n.sweep(0)}})}return Object.defineProperty(t.prototype,"register",{enumerable:!1,configurable:!0,writable:!0,value:function(e,n,o){this.registrations.set(o,{value:n,registeredAt:Date.now()}),this.scheduleSweep()}}),Object.defineProperty(t.prototype,"unregister",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this.registrations.delete(e)}}),Object.defineProperty(t.prototype,"scheduleSweep",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.sweepTimeout===void 0&&(this.sweepTimeout=setTimeout(this.sweep,BU))}}),t})(),GU=typeof FinalizationRegistry<"u"?FinalizationRegistry:HU,Qg=new GU(function(t){var e;(e=t.reaction)===null||e===void 0||e.dispose(),t.reaction=null}),Xm={exports:{}},Wm={};var Yb;function $U(){if(Yb)return Wm;Yb=1;var t=Hd();function e(y,S){return y===S&&(y!==0||1/y===1/S)||y!==y&&S!==S}var n=typeof Object.is=="function"?Object.is:e,o=t.useState,r=t.useEffect,a=t.useLayoutEffect,u=t.useDebugValue;function c(y,S){var E=S(),T=o({inst:{value:E,getSnapshot:S}}),C=T[0].inst,x=T[1];return a(function(){C.value=E,C.getSnapshot=S,p(C)&&x({inst:C})},[y,E,S]),r(function(){return p(C)&&x({inst:C}),y(function(){p(C)&&x({inst:C})})},[y]),u(E),E}function p(y){var S=y.getSnapshot;y=y.value;try{var E=S();return!n(y,E)}catch{return!0}}function d(y,S){return S()}var m=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?d:c;return Wm.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:m,Wm}var Xb;function FU(){return Xb||(Xb=1,Xm.exports=$U()),Xm.exports}var VU=FU();function Wb(t){t.reaction=new ui("observer".concat(t.name),function(){var e;t.stateVersion=Symbol(),(e=t.onStoreChange)===null||e===void 0||e.call(t)})}function zU(t,e){e===void 0&&(e="observed");var n=et.useRef(null);if(!n.current){var o={reaction:null,onStoreChange:null,stateVersion:Symbol(),name:e,subscribe:function(c){return Qg.unregister(o),o.onStoreChange=c,o.reaction||(Wb(o),o.stateVersion=Symbol()),function(){var p;o.onStoreChange=null,(p=o.reaction)===null||p===void 0||p.dispose(),o.reaction=null}},getSnapshot:function(){return o.stateVersion}};n.current=o}var r=n.current;r.reaction||(Wb(r),Qg.register(n,r,r)),et.useDebugValue(r.reaction,UU),VU.useSyncExternalStore(r.subscribe,r.getSnapshot,r.getSnapshot);var a,u;if(r.reaction.track(function(){try{a=t()}catch(c){u=c}}),u)throw u;return a}var jm,Qm,Tx=typeof Symbol=="function"&&Symbol.for,qU=(Qm=(jm=Object.getOwnPropertyDescriptor(function(){},"name"))===null||jm===void 0?void 0:jm.configurable)!==null&&Qm!==void 0?Qm:!1,jb=Tx?Symbol.for("react.forward_ref"):typeof w.forwardRef=="function"&&w.forwardRef(function(t){return null}).$$typeof,Qb=Tx?Symbol.for("react.memo"):typeof w.memo=="function"&&w.memo(function(t){return null}).$$typeof;function Ut(t,e){var n;if(Qb&&t.$$typeof===Qb)throw new Error("[mobx-react-lite] You are trying to use `observer` on a function component wrapped in either another `observer` or `React.memo`. The observer already applies 'React.memo' for you.");var o=(n=void 0)!==null&&n!==void 0?n:!1,r=t,a=t.displayName||t.name;if(jb&&t.$$typeof===jb&&(o=!0,r=t.render,typeof r!="function"))throw new Error("[mobx-react-lite] `render` property of ForwardRef was not a function");var u=function(c,p){return zU(function(){return r(c,p)},a)};return u.displayName=t.displayName,qU&&Object.defineProperty(u,"name",{value:t.name,writable:!0,configurable:!0}),t.contextTypes&&(u.contextTypes=t.contextTypes),o&&(u=w.forwardRef(u)),u=w.memo(u),KU(t,u),u}var JU={$$typeof:!0,render:!0,compare:!0,type:!0,displayName:!0};function KU(t,e){Object.keys(t).forEach(function(n){JU[n]||Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}var Zm;LU(qd.unstable_batchedUpdates);Zm=Qg.finalizeAllImmediately;var eg={exports:{}};var Zb;function YU(){return Zb||(Zb=1,(function(t){(function(){var e={}.hasOwnProperty;function n(){for(var a="",u=0;u<arguments.length;u++){var c=arguments[u];c&&(a=r(a,o(c)))}return a}function o(a){if(typeof a=="string"||typeof a=="number")return a;if(typeof a!="object")return"";if(Array.isArray(a))return n.apply(null,a);if(a.toString!==Object.prototype.toString&&!a.toString.toString().includes("[native code]"))return a.toString();var u="";for(var c in a)e.call(a,c)&&a[c]&&(u=r(u,c));return u}function r(a,u){return u?a?a+" "+u:a+u:a}t.exports?(n.default=n,t.exports=n):window.classNames=n})()})(eg)),eg.exports}var XU=YU();const Me=hu(XU);function Zg(){return Zg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)({}).hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},Zg.apply(null,arguments)}function Cx(t,e){if(t==null)return{};var n={};for(var o in t)if({}.hasOwnProperty.call(t,o)){if(e.indexOf(o)!==-1)continue;n[o]=t[o]}return n}function ew(t){return"default"+t.charAt(0).toUpperCase()+t.substr(1)}function WU(t){var e=jU(t,"string");return typeof e=="symbol"?e:String(e)}function jU(t,e){if(typeof t!="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var o=n.call(t,e);if(typeof o!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function QU(t,e,n){var o=w.useRef(t!==void 0),r=w.useState(e),a=r[0],u=r[1],c=t!==void 0,p=o.current;return o.current=c,!c&&p&&a!==e&&u(e),[c?t:a,w.useCallback(function(d){for(var m=arguments.length,y=new Array(m>1?m-1:0),S=1;S<m;S++)y[S-1]=arguments[S];n&&n.apply(void 0,[d].concat(y)),u(d)},[n])]}function ry(t,e){return Object.keys(e).reduce(function(n,o){var r,a=n,u=a[ew(o)],c=a[o],p=Cx(a,[ew(o),o].map(WU)),d=e[o],m=QU(c,u,t[d]),y=m[0],S=m[1];return Zg({},p,(r={},r[o]=y,r[d]=S,r))},t)}function ev(t,e){return ev=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,o){return n.__proto__=o,n},ev(t,e)}function ZU(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,ev(t,e)}const ek=["xxl","xl","lg","md","sm","xs"],tk="xs",Au=w.createContext({prefixes:{},breakpoints:ek,minBreakpoint:tk}),{Consumer:cY,Provider:fY}=Au;function Ue(t,e){const{prefixes:n}=w.useContext(Au);return t||n[e]||e}function Ax(){const{breakpoints:t}=w.useContext(Au);return t}function xx(){const{minBreakpoint:t}=w.useContext(Au);return t}function nk(){const{dir:t}=w.useContext(Au);return t==="rtl"}function Jd(t){return t&&t.ownerDocument||document}function ok(t){var e=Jd(t);return e&&e.defaultView||window}function ik(t,e){return ok(t).getComputedStyle(t,e)}var rk=/([A-Z])/g;function sk(t){return t.replace(rk,"-$1").toLowerCase()}var ak=/^ms-/;function pf(t){return sk(t).replace(ak,"-ms-")}var lk=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function uk(t){return!!(t&&lk.test(t))}function ai(t,e){var n="",o="";if(typeof e=="string")return t.style.getPropertyValue(pf(e))||ik(t).getPropertyValue(pf(e));Object.keys(e).forEach(function(r){var a=e[r];!a&&a!==0?t.style.removeProperty(pf(r)):uk(r)?o+=r+"("+a+") ":n+=pf(r)+": "+a+";"}),o&&(n+="transform: "+o+";"),t.style.cssText+=";"+n}var tg={exports:{}},ng,tw;function ck(){if(tw)return ng;tw=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return ng=t,ng}var og,nw;function fk(){if(nw)return og;nw=1;var t=ck();function e(){}function n(){}return n.resetWarningCache=e,og=function(){function o(u,c,p,d,m,y){if(y!==t){var S=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw S.name="Invariant Violation",S}}o.isRequired=o;function r(){return o}var a={array:o,bigint:o,bool:o,func:o,number:o,object:o,string:o,symbol:o,any:o,arrayOf:r,element:o,elementType:o,instanceOf:r,node:o,objectOf:r,oneOf:r,oneOfType:r,shape:r,exact:r,checkPropTypes:n,resetWarningCache:e};return a.PropTypes=a,a},og}var ow;function dk(){return ow||(ow=1,tg.exports=fk()()),tg.exports}var pk=dk();const ig=hu(pk),iw={disabled:!1},Rx=et.createContext(null);var hk=function(e){return e.scrollTop},Dl="unmounted",Ki="exited",jn="entering",ii="entered",tu="exiting",hi=(function(t){ZU(e,t);function e(o,r){var a;a=t.call(this,o,r)||this;var u=r,c=u&&!u.isMounting?o.enter:o.appear,p;return a.appearStatus=null,o.in?c?(p=Ki,a.appearStatus=jn):p=ii:o.unmountOnExit||o.mountOnEnter?p=Dl:p=Ki,a.state={status:p},a.nextCallback=null,a}e.getDerivedStateFromProps=function(r,a){var u=r.in;return u&&a.status===Dl?{status:Ki}:null};var n=e.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(r){var a=null;if(r!==this.props){var u=this.state.status;this.props.in?u!==jn&&u!==ii&&(a=jn):(u===jn||u===ii)&&(a=tu)}this.updateStatus(!1,a)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var r=this.props.timeout,a,u,c;return a=u=c=r,r!=null&&typeof r!="number"&&(a=r.exit,u=r.enter,c=r.appear!==void 0?r.appear:u),{exit:a,enter:u,appear:c}},n.updateStatus=function(r,a){if(r===void 0&&(r=!1),a!==null)if(this.cancelNextCallback(),a===jn){if(this.props.unmountOnExit||this.props.mountOnEnter){var u=this.props.nodeRef?this.props.nodeRef.current:Or.findDOMNode(this);u&&hk(u)}this.performEnter(r)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Ki&&this.setState({status:Dl})},n.performEnter=function(r){var a=this,u=this.props.enter,c=this.context?this.context.isMounting:r,p=this.props.nodeRef?[c]:[Or.findDOMNode(this),c],d=p[0],m=p[1],y=this.getTimeouts(),S=c?y.appear:y.enter;if(!r&&!u||iw.disabled){this.safeSetState({status:ii},function(){a.props.onEntered(d)});return}this.props.onEnter(d,m),this.safeSetState({status:jn},function(){a.props.onEntering(d,m),a.onTransitionEnd(S,function(){a.safeSetState({status:ii},function(){a.props.onEntered(d,m)})})})},n.performExit=function(){var r=this,a=this.props.exit,u=this.getTimeouts(),c=this.props.nodeRef?void 0:Or.findDOMNode(this);if(!a||iw.disabled){this.safeSetState({status:Ki},function(){r.props.onExited(c)});return}this.props.onExit(c),this.safeSetState({status:tu},function(){r.props.onExiting(c),r.onTransitionEnd(u.exit,function(){r.safeSetState({status:Ki},function(){r.props.onExited(c)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(r,a){a=this.setNextCallback(a),this.setState(r,a)},n.setNextCallback=function(r){var a=this,u=!0;return this.nextCallback=function(c){u&&(u=!1,a.nextCallback=null,r(c))},this.nextCallback.cancel=function(){u=!1},this.nextCallback},n.onTransitionEnd=function(r,a){this.setNextCallback(a);var u=this.props.nodeRef?this.props.nodeRef.current:Or.findDOMNode(this),c=r==null&&!this.props.addEndListener;if(!u||c){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var p=this.props.nodeRef?[this.nextCallback]:[u,this.nextCallback],d=p[0],m=p[1];this.props.addEndListener(d,m)}r!=null&&setTimeout(this.nextCallback,r)},n.render=function(){var r=this.state.status;if(r===Dl)return null;var a=this.props,u=a.children;a.in,a.mountOnEnter,a.unmountOnExit,a.appear,a.enter,a.exit,a.timeout,a.addEndListener,a.onEnter,a.onEntering,a.onEntered,a.onExit,a.onExiting,a.onExited,a.nodeRef;var c=Cx(a,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return et.createElement(Rx.Provider,{value:null},typeof u=="function"?u(r,c):et.cloneElement(et.Children.only(u),c))},e})(et.Component);hi.contextType=Rx;hi.propTypes={};function Gs(){}hi.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Gs,onEntering:Gs,onEntered:Gs,onExit:Gs,onExiting:Gs,onExited:Gs};hi.UNMOUNTED=Dl;hi.EXITED=Ki;hi.ENTERING=jn;hi.ENTERED=ii;hi.EXITING=tu;function mk(t){return t.code==="Escape"||t.keyCode===27}function gk(){const t=w.version.split(".");return{major:+t[0],minor:+t[1],patch:+t[2]}}function Ea(t){if(!t||typeof t=="function")return null;const{major:e}=gk();return e>=19?t.props.ref:t.ref}const Kd=!!(typeof window<"u"&&window.document&&window.document.createElement);var tv=!1,nv=!1;try{var rg={get passive(){return tv=!0},get once(){return nv=tv=!0}};Kd&&(window.addEventListener("test",rg,rg),window.removeEventListener("test",rg,!0))}catch{}function Mx(t,e,n,o){if(o&&typeof o!="boolean"&&!nv){var r=o.once,a=o.capture,u=n;!nv&&r&&(u=n.__once||function c(p){this.removeEventListener(e,c,a),n.call(this,p)},n.__once=u),t.addEventListener(e,u,tv?o:a)}t.addEventListener(e,n,o)}function vk(t,e,n,o){var r=o&&typeof o!="boolean"?o.capture:o;t.removeEventListener(e,n,r),n.__once&&t.removeEventListener(e,n.__once,r)}function Xi(t,e,n,o){return Mx(t,e,n,o),function(){vk(t,e,n,o)}}function yk(t,e,n,o){if(o===void 0&&(o=!0),t){var r=document.createEvent("HTMLEvents");r.initEvent(e,n,o),t.dispatchEvent(r)}}function _k(t){var e=ai(t,"transitionDuration")||"",n=e.indexOf("ms")===-1?1e3:1;return parseFloat(e)*n}function Sk(t,e,n){n===void 0&&(n=5);var o=!1,r=setTimeout(function(){o||yk(t,"transitionend",!0)},e+n),a=Xi(t,"transitionend",function(){o=!0},{once:!0});return function(){clearTimeout(r),a()}}function Ek(t,e,n,o){n==null&&(n=_k(t)||0);var r=Sk(t,n,o),a=Xi(t,"transitionend",e);return function(){r(),a()}}function rw(t,e){const n=ai(t,e)||"",o=n.indexOf("ms")===-1?1e3:1;return parseFloat(n)*o}function sy(t,e){const n=rw(t,"transitionDuration"),o=rw(t,"transitionDelay"),r=Ek(t,a=>{a.target===t&&(r(),e(a))},n+o)}function Rl(...t){return t.filter(e=>e!=null).reduce((e,n)=>{if(typeof n!="function")throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return e===null?n:function(...r){e.apply(this,r),n.apply(this,r)}},null)}function Nx(t){t.offsetHeight}const sw=t=>!t||typeof t=="function"?t:e=>{t.current=e};function bk(t,e){const n=sw(t),o=sw(e);return r=>{n&&n(r),o&&o(r)}}function ay(t,e){return w.useMemo(()=>bk(t,e),[t,e])}function wk(t){return t&&"setState"in t?Or.findDOMNode(t):t??null}const Yd=et.forwardRef(({onEnter:t,onEntering:e,onEntered:n,onExit:o,onExiting:r,onExited:a,addEndListener:u,children:c,childRef:p,...d},m)=>{const y=w.useRef(null),S=ay(y,p),E=k=>{S(wk(k))},T=k=>O=>{k&&y.current&&k(y.current,O)},C=w.useCallback(T(t),[t]),x=w.useCallback(T(e),[e]),M=w.useCallback(T(n),[n]),I=w.useCallback(T(o),[o]),N=w.useCallback(T(r),[r]),D=w.useCallback(T(a),[a]),U=w.useCallback(T(u),[u]);return A.jsx(hi,{ref:m,...d,onEnter:C,onEntered:M,onEntering:x,onExit:I,onExited:D,onExiting:N,addEndListener:U,nodeRef:y,children:typeof c=="function"?(k,O)=>c(k,{...O,ref:E}):et.cloneElement(c,{ref:E})})});Yd.displayName="TransitionWrapper";const Tk={height:["marginTop","marginBottom"],width:["marginLeft","marginRight"]};function Ck(t,e){const n=`offset${t[0].toUpperCase()}${t.slice(1)}`,o=e[n],r=Tk[t];return o+parseInt(ai(e,r[0]),10)+parseInt(ai(e,r[1]),10)}const Ak={[Ki]:"collapse",[tu]:"collapsing",[jn]:"collapsing",[ii]:"collapse show"},Ix=et.forwardRef(({onEnter:t,onEntering:e,onEntered:n,onExit:o,onExiting:r,className:a,children:u,dimension:c="height",in:p=!1,timeout:d=300,mountOnEnter:m=!1,unmountOnExit:y=!1,appear:S=!1,getDimensionValue:E=Ck,...T},C)=>{const x=typeof c=="function"?c():c,M=w.useMemo(()=>Rl(k=>{k.style[x]="0"},t),[x,t]),I=w.useMemo(()=>Rl(k=>{const O=`scroll${x[0].toUpperCase()}${x.slice(1)}`;k.style[x]=`${k[O]}px`},e),[x,e]),N=w.useMemo(()=>Rl(k=>{k.style[x]=null},n),[x,n]),D=w.useMemo(()=>Rl(k=>{k.style[x]=`${E(x,k)}px`,Nx(k)},o),[o,E,x]),U=w.useMemo(()=>Rl(k=>{k.style[x]=null},r),[x,r]);return A.jsx(Yd,{ref:C,addEndListener:sy,...T,"aria-expanded":T.role?p:null,onEnter:M,onEntering:I,onEntered:N,onExit:D,onExiting:U,childRef:Ea(u),in:p,timeout:d,mountOnEnter:m,unmountOnExit:y,appear:S,children:(k,O)=>et.cloneElement(u,{...O,className:Me(a,u.props.className,Ak[k],x==="width"&&"collapse-horizontal")})})});Ix.displayName="Collapse";function xk(t){const e=w.useRef(t);return w.useEffect(()=>{e.current=t},[t]),e}function xu(t){const e=xk(t);return w.useCallback(function(...n){return e.current&&e.current(...n)},[e])}const ly=(t=>w.forwardRef((e,n)=>A.jsx("div",{...e,ref:n,className:Me(e.className,t)})));function Rk(){return w.useState(null)}function Mk(t){const e=w.useRef(t);return w.useEffect(()=>{e.current=t},[t]),e}function Ot(t){const e=Mk(t);return w.useCallback(function(...n){return e.current&&e.current(...n)},[e])}function Nk(t,e,n,o=!1){const r=Ot(n);w.useEffect(()=>{const a=typeof t=="function"?t():t;return a.addEventListener(e,r,o),()=>a.removeEventListener(e,r,o)},[t])}function Dx(){const t=w.useRef(!0),e=w.useRef(()=>t.current);return w.useEffect(()=>(t.current=!0,()=>{t.current=!1}),[]),e.current}function Ox(t){const e=w.useRef(null);return w.useEffect(()=>{e.current=t}),e.current}const Ik=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",Dk=typeof document<"u",aw=Dk||Ik?w.useLayoutEffect:w.useEffect,Ok=["as","disabled"];function Pk(t,e){if(t==null)return{};var n={};for(var o in t)if({}.hasOwnProperty.call(t,o)){if(e.indexOf(o)>=0)continue;n[o]=t[o]}return n}function Lk(t){return!t||t.trim()==="#"}function uy({tagName:t,disabled:e,href:n,target:o,rel:r,role:a,onClick:u,tabIndex:c=0,type:p}){t||(n!=null||o!=null||r!=null?t="a":t="button");const d={tagName:t};if(t==="button")return[{type:p||"button",disabled:e},d];const m=S=>{if((e||t==="a"&&Lk(n))&&S.preventDefault(),e){S.stopPropagation();return}u?.(S)},y=S=>{S.key===" "&&(S.preventDefault(),m(S))};return t==="a"&&(n||(n="#"),e&&(n=void 0)),[{role:a??"button",disabled:void 0,tabIndex:e?void 0:c,href:n,target:t==="a"?o:void 0,"aria-disabled":e||void 0,rel:t==="a"?r:void 0,onClick:m,onKeyDown:y},d]}const cy=w.forwardRef((t,e)=>{let{as:n,disabled:o}=t,r=Pk(t,Ok);const[a,{tagName:u}]=uy(Object.assign({tagName:n,disabled:o},r));return A.jsx(u,Object.assign({},r,a,{ref:e}))});cy.displayName="Button";const Uk=["onKeyDown"];function kk(t,e){if(t==null)return{};var n={};for(var o in t)if({}.hasOwnProperty.call(t,o)){if(e.indexOf(o)>=0)continue;n[o]=t[o]}return n}function Bk(t){return!t||t.trim()==="#"}const fy=w.forwardRef((t,e)=>{let{onKeyDown:n}=t,o=kk(t,Uk);const[r]=uy(Object.assign({tagName:"a"},o)),a=Ot(u=>{r.onKeyDown(u),n?.(u)});return Bk(o.href)||o.role==="button"?A.jsx("a",Object.assign({ref:e},o,r,{onKeyDown:a})):A.jsx("a",Object.assign({ref:e},o,{onKeyDown:n}))});fy.displayName="Anchor";const Hk={[jn]:"show",[ii]:"show"},Px=w.forwardRef(({className:t,children:e,transitionClasses:n={},onEnter:o,...r},a)=>{const u={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,...r},c=w.useCallback((p,d)=>{Nx(p),o?.(p,d)},[o]);return A.jsx(Yd,{ref:a,addEndListener:sy,...u,onEnter:c,childRef:Ea(e),children:(p,d)=>w.cloneElement(e,{...d,className:Me("fade",t,e.props.className,Hk[p],n[p])})})});Px.displayName="Fade";const Gk={"aria-label":ig.string,onClick:ig.func,variant:ig.oneOf(["white"])},dy=w.forwardRef(({className:t,variant:e,"aria-label":n="Close",...o},r)=>A.jsx("button",{ref:r,type:"button",className:Me("btn-close",e&&`btn-close-${e}`,t),"aria-label":n,...o}));dy.displayName="CloseButton";dy.propTypes=Gk;const Lx=w.forwardRef(({as:t,bsPrefix:e,variant:n="primary",size:o,active:r=!1,disabled:a=!1,className:u,...c},p)=>{const d=Ue(e,"btn"),[m,{tagName:y}]=uy({tagName:t,disabled:a,...c}),S=y;return A.jsx(S,{...m,...c,ref:p,disabled:a,className:Me(u,d,r&&"active",n&&`${d}-${n}`,o&&`${d}-${o}`,c.href&&a&&"disabled")})});Lx.displayName="Button";const py=w.forwardRef(({className:t,bsPrefix:e,as:n="div",...o},r)=>(e=Ue(e,"card-body"),A.jsx(n,{ref:r,className:Me(t,e),...o})));py.displayName="CardBody";const Ux=w.forwardRef(({className:t,bsPrefix:e,as:n="div",...o},r)=>(e=Ue(e,"card-footer"),A.jsx(n,{ref:r,className:Me(t,e),...o})));Ux.displayName="CardFooter";const hy=w.createContext(null);hy.displayName="CardHeaderContext";const kx=w.forwardRef(({bsPrefix:t,className:e,as:n="div",...o},r)=>{const a=Ue(t,"card-header"),u=w.useMemo(()=>({cardHeaderBsPrefix:a}),[a]);return A.jsx(hy.Provider,{value:u,children:A.jsx(n,{ref:r,...o,className:Me(e,a)})})});kx.displayName="CardHeader";const Bx=w.forwardRef(({bsPrefix:t,className:e,variant:n,as:o="img",...r},a)=>{const u=Ue(t,"card-img");return A.jsx(o,{ref:a,className:Me(n?`${u}-${n}`:u,e),...r})});Bx.displayName="CardImg";const Hx=w.forwardRef(({className:t,bsPrefix:e,as:n="div",...o},r)=>(e=Ue(e,"card-img-overlay"),A.jsx(n,{ref:r,className:Me(t,e),...o})));Hx.displayName="CardImgOverlay";const Gx=w.forwardRef(({className:t,bsPrefix:e,as:n="a",...o},r)=>(e=Ue(e,"card-link"),A.jsx(n,{ref:r,className:Me(t,e),...o})));Gx.displayName="CardLink";const $k=ly("h6"),$x=w.forwardRef(({className:t,bsPrefix:e,as:n=$k,...o},r)=>(e=Ue(e,"card-subtitle"),A.jsx(n,{ref:r,className:Me(t,e),...o})));$x.displayName="CardSubtitle";const Fx=w.forwardRef(({className:t,bsPrefix:e,as:n="p",...o},r)=>(e=Ue(e,"card-text"),A.jsx(n,{ref:r,className:Me(t,e),...o})));Fx.displayName="CardText";const Fk=ly("h5"),Vx=w.forwardRef(({className:t,bsPrefix:e,as:n=Fk,...o},r)=>(e=Ue(e,"card-title"),A.jsx(n,{ref:r,className:Me(t,e),...o})));Vx.displayName="CardTitle";const zx=w.forwardRef(({bsPrefix:t,className:e,bg:n,text:o,border:r,body:a=!1,children:u,as:c="div",...p},d)=>{const m=Ue(t,"card");return A.jsx(c,{ref:d,...p,className:Me(e,m,n&&`bg-${n}`,o&&`text-${o}`,r&&`border-${r}`),children:a?A.jsx(py,{children:u}):u})});zx.displayName="Card";const hf=Object.assign(zx,{Img:Bx,Title:Vx,Subtitle:$x,Body:py,Link:Gx,Text:Fx,Header:kx,Footer:Ux,ImgOverlay:Hx});function Vk({as:t,bsPrefix:e,className:n,...o}){e=Ue(e,"col");const r=Ax(),a=xx(),u=[],c=[];return r.forEach(p=>{const d=o[p];delete o[p];let m,y,S;typeof d=="object"&&d!=null?{span:m,offset:y,order:S}=d:m=d;const E=p!==a?`-${p}`:"";m&&u.push(m===!0?`${e}${E}`:`${e}${E}-${m}`),S!=null&&c.push(`order${E}-${S}`),y!=null&&c.push(`offset${E}-${y}`)}),[{...o,className:Me(n,...u,...c)},{as:t,bsPrefix:e,spans:u}]}const qx=w.forwardRef((t,e)=>{const[{className:n,...o},{as:r="div",bsPrefix:a,spans:u}]=Vk(t);return A.jsx(r,{...o,ref:e,className:Me(n,!u.length&&a)})});qx.displayName="Col";const Jx=w.forwardRef(({bsPrefix:t,fluid:e=!1,as:n="div",className:o,...r},a)=>{const u=Ue(t,"container"),c=typeof e=="string"?`-${e}`:"-fluid";return A.jsx(n,{ref:a,...r,className:Me(o,e?`${u}${c}`:u)})});Jx.displayName="Container";var zk=Function.prototype.bind.call(Function.prototype.call,[].slice);function ti(t,e){return zk(t.querySelectorAll(e))}function qk(t,e,n){const o=w.useRef(t!==void 0),[r,a]=w.useState(e),u=t!==void 0,c=o.current;return o.current=u,!u&&c&&r!==e&&a(e),[u?t:r,w.useCallback((...p)=>{const[d,...m]=p;let y=n?.(d,...m);return a(d),y},[n])]}function Kx(){const[,t]=w.useReducer(e=>e+1,0);return t}const Xd=w.createContext(null);var lw=Object.prototype.hasOwnProperty;function uw(t,e,n){for(n of t.keys())if(Kl(n,e))return n}function Kl(t,e){var n,o,r;if(t===e)return!0;if(t&&e&&(n=t.constructor)===e.constructor){if(n===Date)return t.getTime()===e.getTime();if(n===RegExp)return t.toString()===e.toString();if(n===Array){if((o=t.length)===e.length)for(;o--&&Kl(t[o],e[o]););return o===-1}if(n===Set){if(t.size!==e.size)return!1;for(o of t)if(r=o,r&&typeof r=="object"&&(r=uw(e,r),!r)||!e.has(r))return!1;return!0}if(n===Map){if(t.size!==e.size)return!1;for(o of t)if(r=o[0],r&&typeof r=="object"&&(r=uw(e,r),!r)||!Kl(o[1],e.get(r)))return!1;return!0}if(n===ArrayBuffer)t=new Uint8Array(t),e=new Uint8Array(e);else if(n===DataView){if((o=t.byteLength)===e.byteLength)for(;o--&&t.getInt8(o)===e.getInt8(o););return o===-1}if(ArrayBuffer.isView(t)){if((o=t.byteLength)===e.byteLength)for(;o--&&t[o]===e[o];);return o===-1}if(!n||typeof t=="object"){o=0;for(n in t)if(lw.call(t,n)&&++o&&!lw.call(e,n)||!(n in e)||!Kl(t[n],e[n]))return!1;return Object.keys(e).length===o}}return t!==t&&e!==e}function Jk(t){const e=Dx();return[t[0],w.useCallback(n=>{if(e())return t[1](n)},[e,t[1]])]}var Zt="top",Fn="bottom",Vn="right",en="left",my="auto",Ru=[Zt,Fn,Vn,en],ha="start",nu="end",Kk="clippingParents",Yx="viewport",Ml="popper",Yk="reference",cw=Ru.reduce(function(t,e){return t.concat([e+"-"+ha,e+"-"+nu])},[]),Xx=[].concat(Ru,[my]).reduce(function(t,e){return t.concat([e,e+"-"+ha,e+"-"+nu])},[]),Xk="beforeRead",Wk="read",jk="afterRead",Qk="beforeMain",Zk="main",eB="afterMain",tB="beforeWrite",nB="write",oB="afterWrite",iB=[Xk,Wk,jk,Qk,Zk,eB,tB,nB,oB];function xo(t){return t.split("-")[0]}function Sn(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function Vr(t){var e=Sn(t).Element;return t instanceof e||t instanceof Element}function Ro(t){var e=Sn(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function gy(t){if(typeof ShadowRoot>"u")return!1;var e=Sn(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}var Ur=Math.max,hd=Math.min,ma=Math.round;function ov(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function Wx(){return!/^((?!chrome|android).)*safari/i.test(ov())}function ga(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!1);var o=t.getBoundingClientRect(),r=1,a=1;e&&Ro(t)&&(r=t.offsetWidth>0&&ma(o.width)/t.offsetWidth||1,a=t.offsetHeight>0&&ma(o.height)/t.offsetHeight||1);var u=Vr(t)?Sn(t):window,c=u.visualViewport,p=!Wx()&&n,d=(o.left+(p&&c?c.offsetLeft:0))/r,m=(o.top+(p&&c?c.offsetTop:0))/a,y=o.width/r,S=o.height/a;return{width:y,height:S,top:m,right:d+y,bottom:m+S,left:d,x:d,y:m}}function vy(t){var e=ga(t),n=t.offsetWidth,o=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-o)<=1&&(o=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:o}}function jx(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&gy(n)){var o=e;do{if(o&&t.isSameNode(o))return!0;o=o.parentNode||o.host}while(o)}return!1}function Qi(t){return t?(t.nodeName||"").toLowerCase():null}function ci(t){return Sn(t).getComputedStyle(t)}function rB(t){return["table","td","th"].indexOf(Qi(t))>=0}function ar(t){return((Vr(t)?t.ownerDocument:t.document)||window.document).documentElement}function Wd(t){return Qi(t)==="html"?t:t.assignedSlot||t.parentNode||(gy(t)?t.host:null)||ar(t)}function fw(t){return!Ro(t)||ci(t).position==="fixed"?null:t.offsetParent}function sB(t){var e=/firefox/i.test(ov()),n=/Trident/i.test(ov());if(n&&Ro(t)){var o=ci(t);if(o.position==="fixed")return null}var r=Wd(t);for(gy(r)&&(r=r.host);Ro(r)&&["html","body"].indexOf(Qi(r))<0;){var a=ci(r);if(a.transform!=="none"||a.perspective!=="none"||a.contain==="paint"||["transform","perspective"].indexOf(a.willChange)!==-1||e&&a.willChange==="filter"||e&&a.filter&&a.filter!=="none")return r;r=r.parentNode}return null}function Mu(t){for(var e=Sn(t),n=fw(t);n&&rB(n)&&ci(n).position==="static";)n=fw(n);return n&&(Qi(n)==="html"||Qi(n)==="body"&&ci(n).position==="static")?e:n||sB(t)||e}function yy(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function Yl(t,e,n){return Ur(t,hd(e,n))}function aB(t,e,n){var o=Yl(t,e,n);return o>n?n:o}function Qx(){return{top:0,right:0,bottom:0,left:0}}function Zx(t){return Object.assign({},Qx(),t)}function eR(t,e){return e.reduce(function(n,o){return n[o]=t,n},{})}var lB=function(e,n){return e=typeof e=="function"?e(Object.assign({},n.rects,{placement:n.placement})):e,Zx(typeof e!="number"?e:eR(e,Ru))};function uB(t){var e,n=t.state,o=t.name,r=t.options,a=n.elements.arrow,u=n.modifiersData.popperOffsets,c=xo(n.placement),p=yy(c),d=[en,Vn].indexOf(c)>=0,m=d?"height":"width";if(!(!a||!u)){var y=lB(r.padding,n),S=vy(a),E=p==="y"?Zt:en,T=p==="y"?Fn:Vn,C=n.rects.reference[m]+n.rects.reference[p]-u[p]-n.rects.popper[m],x=u[p]-n.rects.reference[p],M=Mu(a),I=M?p==="y"?M.clientHeight||0:M.clientWidth||0:0,N=C/2-x/2,D=y[E],U=I-S[m]-y[T],k=I/2-S[m]/2+N,O=Yl(D,k,U),q=p;n.modifiersData[o]=(e={},e[q]=O,e.centerOffset=O-k,e)}}function cB(t){var e=t.state,n=t.options,o=n.element,r=o===void 0?"[data-popper-arrow]":o;r!=null&&(typeof r=="string"&&(r=e.elements.popper.querySelector(r),!r)||jx(e.elements.popper,r)&&(e.elements.arrow=r))}const fB={name:"arrow",enabled:!0,phase:"main",fn:uB,effect:cB,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function va(t){return t.split("-")[1]}var dB={top:"auto",right:"auto",bottom:"auto",left:"auto"};function pB(t,e){var n=t.x,o=t.y,r=e.devicePixelRatio||1;return{x:ma(n*r)/r||0,y:ma(o*r)/r||0}}function dw(t){var e,n=t.popper,o=t.popperRect,r=t.placement,a=t.variation,u=t.offsets,c=t.position,p=t.gpuAcceleration,d=t.adaptive,m=t.roundOffsets,y=t.isFixed,S=u.x,E=S===void 0?0:S,T=u.y,C=T===void 0?0:T,x=typeof m=="function"?m({x:E,y:C}):{x:E,y:C};E=x.x,C=x.y;var M=u.hasOwnProperty("x"),I=u.hasOwnProperty("y"),N=en,D=Zt,U=window;if(d){var k=Mu(n),O="clientHeight",q="clientWidth";if(k===Sn(n)&&(k=ar(n),ci(k).position!=="static"&&c==="absolute"&&(O="scrollHeight",q="scrollWidth")),k=k,r===Zt||(r===en||r===Vn)&&a===nu){D=Fn;var J=y&&k===U&&U.visualViewport?U.visualViewport.height:k[O];C-=J-o.height,C*=p?1:-1}if(r===en||(r===Zt||r===Fn)&&a===nu){N=Vn;var X=y&&k===U&&U.visualViewport?U.visualViewport.width:k[q];E-=X-o.width,E*=p?1:-1}}var j=Object.assign({position:c},d&&dB),re=m===!0?pB({x:E,y:C},Sn(n)):{x:E,y:C};if(E=re.x,C=re.y,p){var oe;return Object.assign({},j,(oe={},oe[D]=I?"0":"",oe[N]=M?"0":"",oe.transform=(U.devicePixelRatio||1)<=1?"translate("+E+"px, "+C+"px)":"translate3d("+E+"px, "+C+"px, 0)",oe))}return Object.assign({},j,(e={},e[D]=I?C+"px":"",e[N]=M?E+"px":"",e.transform="",e))}function hB(t){var e=t.state,n=t.options,o=n.gpuAcceleration,r=o===void 0?!0:o,a=n.adaptive,u=a===void 0?!0:a,c=n.roundOffsets,p=c===void 0?!0:c,d={placement:xo(e.placement),variation:va(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:r,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,dw(Object.assign({},d,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:u,roundOffsets:p})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,dw(Object.assign({},d,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:p})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const mB={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:hB,data:{}};var mf={passive:!0};function gB(t){var e=t.state,n=t.instance,o=t.options,r=o.scroll,a=r===void 0?!0:r,u=o.resize,c=u===void 0?!0:u,p=Sn(e.elements.popper),d=[].concat(e.scrollParents.reference,e.scrollParents.popper);return a&&d.forEach(function(m){m.addEventListener("scroll",n.update,mf)}),c&&p.addEventListener("resize",n.update,mf),function(){a&&d.forEach(function(m){m.removeEventListener("scroll",n.update,mf)}),c&&p.removeEventListener("resize",n.update,mf)}}const vB={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:gB,data:{}};var yB={left:"right",right:"left",bottom:"top",top:"bottom"};function Ff(t){return t.replace(/left|right|bottom|top/g,function(e){return yB[e]})}var _B={start:"end",end:"start"};function pw(t){return t.replace(/start|end/g,function(e){return _B[e]})}function _y(t){var e=Sn(t),n=e.pageXOffset,o=e.pageYOffset;return{scrollLeft:n,scrollTop:o}}function Sy(t){return ga(ar(t)).left+_y(t).scrollLeft}function SB(t,e){var n=Sn(t),o=ar(t),r=n.visualViewport,a=o.clientWidth,u=o.clientHeight,c=0,p=0;if(r){a=r.width,u=r.height;var d=Wx();(d||!d&&e==="fixed")&&(c=r.offsetLeft,p=r.offsetTop)}return{width:a,height:u,x:c+Sy(t),y:p}}function EB(t){var e,n=ar(t),o=_y(t),r=(e=t.ownerDocument)==null?void 0:e.body,a=Ur(n.scrollWidth,n.clientWidth,r?r.scrollWidth:0,r?r.clientWidth:0),u=Ur(n.scrollHeight,n.clientHeight,r?r.scrollHeight:0,r?r.clientHeight:0),c=-o.scrollLeft+Sy(t),p=-o.scrollTop;return ci(r||n).direction==="rtl"&&(c+=Ur(n.clientWidth,r?r.clientWidth:0)-a),{width:a,height:u,x:c,y:p}}function Ey(t){var e=ci(t),n=e.overflow,o=e.overflowX,r=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+r+o)}function tR(t){return["html","body","#document"].indexOf(Qi(t))>=0?t.ownerDocument.body:Ro(t)&&Ey(t)?t:tR(Wd(t))}function Xl(t,e){var n;e===void 0&&(e=[]);var o=tR(t),r=o===((n=t.ownerDocument)==null?void 0:n.body),a=Sn(o),u=r?[a].concat(a.visualViewport||[],Ey(o)?o:[]):o,c=e.concat(u);return r?c:c.concat(Xl(Wd(u)))}function iv(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function bB(t,e){var n=ga(t,!1,e==="fixed");return n.top=n.top+t.clientTop,n.left=n.left+t.clientLeft,n.bottom=n.top+t.clientHeight,n.right=n.left+t.clientWidth,n.width=t.clientWidth,n.height=t.clientHeight,n.x=n.left,n.y=n.top,n}function hw(t,e,n){return e===Yx?iv(SB(t,n)):Vr(e)?bB(e,n):iv(EB(ar(t)))}function wB(t){var e=Xl(Wd(t)),n=["absolute","fixed"].indexOf(ci(t).position)>=0,o=n&&Ro(t)?Mu(t):t;return Vr(o)?e.filter(function(r){return Vr(r)&&jx(r,o)&&Qi(r)!=="body"}):[]}function TB(t,e,n,o){var r=e==="clippingParents"?wB(t):[].concat(e),a=[].concat(r,[n]),u=a[0],c=a.reduce(function(p,d){var m=hw(t,d,o);return p.top=Ur(m.top,p.top),p.right=hd(m.right,p.right),p.bottom=hd(m.bottom,p.bottom),p.left=Ur(m.left,p.left),p},hw(t,u,o));return c.width=c.right-c.left,c.height=c.bottom-c.top,c.x=c.left,c.y=c.top,c}function nR(t){var e=t.reference,n=t.element,o=t.placement,r=o?xo(o):null,a=o?va(o):null,u=e.x+e.width/2-n.width/2,c=e.y+e.height/2-n.height/2,p;switch(r){case Zt:p={x:u,y:e.y-n.height};break;case Fn:p={x:u,y:e.y+e.height};break;case Vn:p={x:e.x+e.width,y:c};break;case en:p={x:e.x-n.width,y:c};break;default:p={x:e.x,y:e.y}}var d=r?yy(r):null;if(d!=null){var m=d==="y"?"height":"width";switch(a){case ha:p[d]=p[d]-(e[m]/2-n[m]/2);break;case nu:p[d]=p[d]+(e[m]/2-n[m]/2);break}}return p}function ou(t,e){e===void 0&&(e={});var n=e,o=n.placement,r=o===void 0?t.placement:o,a=n.strategy,u=a===void 0?t.strategy:a,c=n.boundary,p=c===void 0?Kk:c,d=n.rootBoundary,m=d===void 0?Yx:d,y=n.elementContext,S=y===void 0?Ml:y,E=n.altBoundary,T=E===void 0?!1:E,C=n.padding,x=C===void 0?0:C,M=Zx(typeof x!="number"?x:eR(x,Ru)),I=S===Ml?Yk:Ml,N=t.rects.popper,D=t.elements[T?I:S],U=TB(Vr(D)?D:D.contextElement||ar(t.elements.popper),p,m,u),k=ga(t.elements.reference),O=nR({reference:k,element:N,placement:r}),q=iv(Object.assign({},N,O)),J=S===Ml?q:k,X={top:U.top-J.top+M.top,bottom:J.bottom-U.bottom+M.bottom,left:U.left-J.left+M.left,right:J.right-U.right+M.right},j=t.modifiersData.offset;if(S===Ml&&j){var re=j[r];Object.keys(X).forEach(function(oe){var ae=[Vn,Fn].indexOf(oe)>=0?1:-1,de=[Zt,Fn].indexOf(oe)>=0?"y":"x";X[oe]+=re[de]*ae})}return X}function CB(t,e){e===void 0&&(e={});var n=e,o=n.placement,r=n.boundary,a=n.rootBoundary,u=n.padding,c=n.flipVariations,p=n.allowedAutoPlacements,d=p===void 0?Xx:p,m=va(o),y=m?c?cw:cw.filter(function(T){return va(T)===m}):Ru,S=y.filter(function(T){return d.indexOf(T)>=0});S.length===0&&(S=y);var E=S.reduce(function(T,C){return T[C]=ou(t,{placement:C,boundary:r,rootBoundary:a,padding:u})[xo(C)],T},{});return Object.keys(E).sort(function(T,C){return E[T]-E[C]})}function AB(t){if(xo(t)===my)return[];var e=Ff(t);return[pw(t),e,pw(e)]}function xB(t){var e=t.state,n=t.options,o=t.name;if(!e.modifiersData[o]._skip){for(var r=n.mainAxis,a=r===void 0?!0:r,u=n.altAxis,c=u===void 0?!0:u,p=n.fallbackPlacements,d=n.padding,m=n.boundary,y=n.rootBoundary,S=n.altBoundary,E=n.flipVariations,T=E===void 0?!0:E,C=n.allowedAutoPlacements,x=e.options.placement,M=xo(x),I=M===x,N=p||(I||!T?[Ff(x)]:AB(x)),D=[x].concat(N).reduce(function(le,me){return le.concat(xo(me)===my?CB(e,{placement:me,boundary:m,rootBoundary:y,padding:d,flipVariations:T,allowedAutoPlacements:C}):me)},[]),U=e.rects.reference,k=e.rects.popper,O=new Map,q=!0,J=D[0],X=0;X<D.length;X++){var j=D[X],re=xo(j),oe=va(j)===ha,ae=[Zt,Fn].indexOf(re)>=0,de=ae?"width":"height",H=ou(e,{placement:j,boundary:m,rootBoundary:y,altBoundary:S,padding:d}),Q=ae?oe?Vn:en:oe?Fn:Zt;U[de]>k[de]&&(Q=Ff(Q));var ee=Ff(Q),ne=[];if(a&&ne.push(H[re]<=0),c&&ne.push(H[Q]<=0,H[ee]<=0),ne.every(function(le){return le})){J=j,q=!1;break}O.set(j,ne)}if(q)for(var ce=T?3:1,L=function(me){var Ee=D.find(function(ve){var Ve=O.get(ve);if(Ve)return Ve.slice(0,me).every(function(ze){return ze})});if(Ee)return J=Ee,"break"},Y=ce;Y>0;Y--){var se=L(Y);if(se==="break")break}e.placement!==J&&(e.modifiersData[o]._skip=!0,e.placement=J,e.reset=!0)}}const RB={name:"flip",enabled:!0,phase:"main",fn:xB,requiresIfExists:["offset"],data:{_skip:!1}};function mw(t,e,n){return n===void 0&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function gw(t){return[Zt,Vn,Fn,en].some(function(e){return t[e]>=0})}function MB(t){var e=t.state,n=t.name,o=e.rects.reference,r=e.rects.popper,a=e.modifiersData.preventOverflow,u=ou(e,{elementContext:"reference"}),c=ou(e,{altBoundary:!0}),p=mw(u,o),d=mw(c,r,a),m=gw(p),y=gw(d);e.modifiersData[n]={referenceClippingOffsets:p,popperEscapeOffsets:d,isReferenceHidden:m,hasPopperEscaped:y},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":m,"data-popper-escaped":y})}const NB={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:MB};function IB(t,e,n){var o=xo(t),r=[en,Zt].indexOf(o)>=0?-1:1,a=typeof n=="function"?n(Object.assign({},e,{placement:t})):n,u=a[0],c=a[1];return u=u||0,c=(c||0)*r,[en,Vn].indexOf(o)>=0?{x:c,y:u}:{x:u,y:c}}function DB(t){var e=t.state,n=t.options,o=t.name,r=n.offset,a=r===void 0?[0,0]:r,u=Xx.reduce(function(m,y){return m[y]=IB(y,e.rects,a),m},{}),c=u[e.placement],p=c.x,d=c.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=p,e.modifiersData.popperOffsets.y+=d),e.modifiersData[o]=u}const OB={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:DB};function PB(t){var e=t.state,n=t.name;e.modifiersData[n]=nR({reference:e.rects.reference,element:e.rects.popper,placement:e.placement})}const LB={name:"popperOffsets",enabled:!0,phase:"read",fn:PB,data:{}};function UB(t){return t==="x"?"y":"x"}function kB(t){var e=t.state,n=t.options,o=t.name,r=n.mainAxis,a=r===void 0?!0:r,u=n.altAxis,c=u===void 0?!1:u,p=n.boundary,d=n.rootBoundary,m=n.altBoundary,y=n.padding,S=n.tether,E=S===void 0?!0:S,T=n.tetherOffset,C=T===void 0?0:T,x=ou(e,{boundary:p,rootBoundary:d,padding:y,altBoundary:m}),M=xo(e.placement),I=va(e.placement),N=!I,D=yy(M),U=UB(D),k=e.modifiersData.popperOffsets,O=e.rects.reference,q=e.rects.popper,J=typeof C=="function"?C(Object.assign({},e.rects,{placement:e.placement})):C,X=typeof J=="number"?{mainAxis:J,altAxis:J}:Object.assign({mainAxis:0,altAxis:0},J),j=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,re={x:0,y:0};if(k){if(a){var oe,ae=D==="y"?Zt:en,de=D==="y"?Fn:Vn,H=D==="y"?"height":"width",Q=k[D],ee=Q+x[ae],ne=Q-x[de],ce=E?-q[H]/2:0,L=I===ha?O[H]:q[H],Y=I===ha?-q[H]:-O[H],se=e.elements.arrow,le=E&&se?vy(se):{width:0,height:0},me=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:Qx(),Ee=me[ae],ve=me[de],Ve=Yl(0,O[H],le[H]),ze=N?O[H]/2-ce-Ve-Ee-X.mainAxis:L-Ve-Ee-X.mainAxis,nn=N?-O[H]/2+ce+Ve+ve+X.mainAxis:Y+Ve+ve+X.mainAxis,bn=e.elements.arrow&&Mu(e.elements.arrow),fo=bn?D==="y"?bn.clientTop||0:bn.clientLeft||0:0,Vt=(oe=j?.[D])!=null?oe:0,zt=Q+ze-Vt-fo,Qe=Q+nn-Vt,Po=Yl(E?hd(ee,zt):ee,Q,E?Ur(ne,Qe):ne);k[D]=Po,re[D]=Po-Q}if(c){var vi,Fu=D==="x"?Zt:en,Ia=D==="x"?Fn:Vn,Jn=k[U],yi=U==="y"?"height":"width",Vu=Jn+x[Fu],zu=Jn-x[Ia],wt=[Zt,en].indexOf(M)!==-1,qu=(vi=j?.[U])!=null?vi:0,Da=wt?Vu:Jn-O[yi]-q[yi]-qu+X.altAxis,Oa=wt?Jn+O[yi]+q[yi]-qu-X.altAxis:zu,cr=E&&wt?aB(Da,Jn,Oa):Yl(E?Da:Vu,Jn,E?Oa:zu);k[U]=cr,re[U]=cr-Jn}e.modifiersData[o]=re}}const BB={name:"preventOverflow",enabled:!0,phase:"main",fn:kB,requiresIfExists:["offset"]};function HB(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function GB(t){return t===Sn(t)||!Ro(t)?_y(t):HB(t)}function $B(t){var e=t.getBoundingClientRect(),n=ma(e.width)/t.offsetWidth||1,o=ma(e.height)/t.offsetHeight||1;return n!==1||o!==1}function FB(t,e,n){n===void 0&&(n=!1);var o=Ro(e),r=Ro(e)&&$B(e),a=ar(e),u=ga(t,r,n),c={scrollLeft:0,scrollTop:0},p={x:0,y:0};return(o||!o&&!n)&&((Qi(e)!=="body"||Ey(a))&&(c=GB(e)),Ro(e)?(p=ga(e,!0),p.x+=e.clientLeft,p.y+=e.clientTop):a&&(p.x=Sy(a))),{x:u.left+c.scrollLeft-p.x,y:u.top+c.scrollTop-p.y,width:u.width,height:u.height}}function VB(t){var e=new Map,n=new Set,o=[];t.forEach(function(a){e.set(a.name,a)});function r(a){n.add(a.name);var u=[].concat(a.requires||[],a.requiresIfExists||[]);u.forEach(function(c){if(!n.has(c)){var p=e.get(c);p&&r(p)}}),o.push(a)}return t.forEach(function(a){n.has(a.name)||r(a)}),o}function zB(t){var e=VB(t);return iB.reduce(function(n,o){return n.concat(e.filter(function(r){return r.phase===o}))},[])}function qB(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}function JB(t){var e=t.reduce(function(n,o){var r=n[o.name];return n[o.name]=r?Object.assign({},r,o,{options:Object.assign({},r.options,o.options),data:Object.assign({},r.data,o.data)}):o,n},{});return Object.keys(e).map(function(n){return e[n]})}var vw={placement:"bottom",modifiers:[],strategy:"absolute"};function yw(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(o){return!(o&&typeof o.getBoundingClientRect=="function")})}function KB(t){t===void 0&&(t={});var e=t,n=e.defaultModifiers,o=n===void 0?[]:n,r=e.defaultOptions,a=r===void 0?vw:r;return function(c,p,d){d===void 0&&(d=a);var m={placement:"bottom",orderedModifiers:[],options:Object.assign({},vw,a),modifiersData:{},elements:{reference:c,popper:p},attributes:{},styles:{}},y=[],S=!1,E={state:m,setOptions:function(M){var I=typeof M=="function"?M(m.options):M;C(),m.options=Object.assign({},a,m.options,I),m.scrollParents={reference:Vr(c)?Xl(c):c.contextElement?Xl(c.contextElement):[],popper:Xl(p)};var N=zB(JB([].concat(o,m.options.modifiers)));return m.orderedModifiers=N.filter(function(D){return D.enabled}),T(),E.update()},forceUpdate:function(){if(!S){var M=m.elements,I=M.reference,N=M.popper;if(yw(I,N)){m.rects={reference:FB(I,Mu(N),m.options.strategy==="fixed"),popper:vy(N)},m.reset=!1,m.placement=m.options.placement,m.orderedModifiers.forEach(function(X){return m.modifiersData[X.name]=Object.assign({},X.data)});for(var D=0;D<m.orderedModifiers.length;D++){if(m.reset===!0){m.reset=!1,D=-1;continue}var U=m.orderedModifiers[D],k=U.fn,O=U.options,q=O===void 0?{}:O,J=U.name;typeof k=="function"&&(m=k({state:m,options:q,name:J,instance:E})||m)}}}},update:qB(function(){return new Promise(function(x){E.forceUpdate(),x(m)})}),destroy:function(){C(),S=!0}};if(!yw(c,p))return E;E.setOptions(d).then(function(x){!S&&d.onFirstUpdate&&d.onFirstUpdate(x)});function T(){m.orderedModifiers.forEach(function(x){var M=x.name,I=x.options,N=I===void 0?{}:I,D=x.effect;if(typeof D=="function"){var U=D({state:m,name:M,instance:E,options:N}),k=function(){};y.push(U||k)}})}function C(){y.forEach(function(x){return x()}),y=[]}return E}}const YB=KB({defaultModifiers:[NB,LB,mB,vB,OB,RB,BB,fB]}),XB=["enabled","placement","strategy","modifiers"];function WB(t,e){if(t==null)return{};var n={};for(var o in t)if({}.hasOwnProperty.call(t,o)){if(e.indexOf(o)>=0)continue;n[o]=t[o]}return n}const jB={name:"applyStyles",enabled:!1,phase:"afterWrite",fn:()=>{}},QB={name:"ariaDescribedBy",enabled:!0,phase:"afterWrite",effect:({state:t})=>()=>{const{reference:e,popper:n}=t.elements;if("removeAttribute"in e){const o=(e.getAttribute("aria-describedby")||"").split(",").filter(r=>r.trim()!==n.id);o.length?e.setAttribute("aria-describedby",o.join(",")):e.removeAttribute("aria-describedby")}},fn:({state:t})=>{var e;const{popper:n,reference:o}=t.elements,r=(e=n.getAttribute("role"))==null?void 0:e.toLowerCase();if(n.id&&r==="tooltip"&&"setAttribute"in o){const a=o.getAttribute("aria-describedby");if(a&&a.split(",").indexOf(n.id)!==-1)return;o.setAttribute("aria-describedby",a?`${a},${n.id}`:n.id)}}},ZB=[];function e2(t,e,n={}){let{enabled:o=!0,placement:r="bottom",strategy:a="absolute",modifiers:u=ZB}=n,c=WB(n,XB);const p=w.useRef(u),d=w.useRef(),m=w.useCallback(()=>{var x;(x=d.current)==null||x.update()},[]),y=w.useCallback(()=>{var x;(x=d.current)==null||x.forceUpdate()},[]),[S,E]=Jk(w.useState({placement:r,update:m,forceUpdate:y,attributes:{},styles:{popper:{},arrow:{}}})),T=w.useMemo(()=>({name:"updateStateModifier",enabled:!0,phase:"write",requires:["computeStyles"],fn:({state:x})=>{const M={},I={};Object.keys(x.elements).forEach(N=>{M[N]=x.styles[N],I[N]=x.attributes[N]}),E({state:x,styles:M,attributes:I,update:m,forceUpdate:y,placement:x.placement})}}),[m,y,E]),C=w.useMemo(()=>(Kl(p.current,u)||(p.current=u),p.current),[u]);return w.useEffect(()=>{!d.current||!o||d.current.setOptions({placement:r,strategy:a,modifiers:[...C,T,jB]})},[a,r,T,o,C]),w.useEffect(()=>{if(!(!o||t==null||e==null))return d.current=YB(t,e,Object.assign({},c,{placement:r,strategy:a,modifiers:[...C,QB,T]})),()=>{d.current!=null&&(d.current.destroy(),d.current=void 0,E(x=>Object.assign({},x,{attributes:{},styles:{popper:{}}})))}},[o,t,e]),S}function md(t,e){if(t.contains)return t.contains(e);if(t.compareDocumentPosition)return t===e||!!(t.compareDocumentPosition(e)&16)}var sg,_w;function t2(){if(_w)return sg;_w=1;var t=function(){};return sg=t,sg}var n2=t2();const o2=hu(n2),Sw=()=>{};function i2(t){return t.button===0}function r2(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}const ag=t=>t&&("current"in t?t.current:t),Ew={click:"mousedown",mouseup:"mousedown",pointerup:"pointerdown"};function s2(t,e=Sw,{disabled:n,clickTrigger:o="click"}={}){const r=w.useRef(!1),a=w.useRef(!1),u=w.useCallback(d=>{const m=ag(t);o2(!!m,"ClickOutside captured a close event but does not have a ref to compare it to. useClickOutside(), should be passed a ref that resolves to a DOM node"),r.current=!m||r2(d)||!i2(d)||!!md(m,d.target)||a.current,a.current=!1},[t]),c=Ot(d=>{const m=ag(t);m&&md(m,d.target)?a.current=!0:a.current=!1}),p=Ot(d=>{r.current||e(d)});w.useEffect(()=>{var d,m;if(n||t==null)return;const y=Jd(ag(t)),S=y.defaultView||window;let E=(d=S.event)!=null?d:(m=S.parent)==null?void 0:m.event,T=null;Ew[o]&&(T=Xi(y,Ew[o],c,!0));const C=Xi(y,o,u,!0),x=Xi(y,o,I=>{if(I===E){E=void 0;return}p(I)});let M=[];return"ontouchstart"in y.documentElement&&(M=[].slice.call(y.body.children).map(I=>Xi(I,"mousemove",Sw))),()=>{T?.(),C(),x(),M.forEach(I=>I())}},[t,n,o,u,c,p])}function a2(t){const e={};return Array.isArray(t)?(t?.forEach(n=>{e[n.name]=n}),e):t||e}function l2(t={}){return Array.isArray(t)?t:Object.keys(t).map(e=>(t[e].name=e,t[e]))}function u2({enabled:t,enableEvents:e,placement:n,flip:o,offset:r,fixed:a,containerPadding:u,arrowElement:c,popperConfig:p={}}){var d,m,y,S,E;const T=a2(p.modifiers);return Object.assign({},p,{placement:n,enabled:t,strategy:a?"fixed":p.strategy,modifiers:l2(Object.assign({},T,{eventListeners:{enabled:e,options:(d=T.eventListeners)==null?void 0:d.options},preventOverflow:Object.assign({},T.preventOverflow,{options:u?Object.assign({padding:u},(m=T.preventOverflow)==null?void 0:m.options):(y=T.preventOverflow)==null?void 0:y.options}),offset:{options:Object.assign({offset:r},(S=T.offset)==null?void 0:S.options)},arrow:Object.assign({},T.arrow,{enabled:!!c,options:Object.assign({},(E=T.arrow)==null?void 0:E.options,{element:c})}),flip:Object.assign({enabled:!!o},T.flip)}))})}const c2=["children","usePopper"];function f2(t,e){if(t==null)return{};var n={};for(var o in t)if({}.hasOwnProperty.call(t,o)){if(e.indexOf(o)>=0)continue;n[o]=t[o]}return n}const d2=()=>{};function oR(t={}){const e=w.useContext(Xd),[n,o]=Rk(),r=w.useRef(!1),{flip:a,offset:u,rootCloseEvent:c,fixed:p=!1,placement:d,popperConfig:m={},enableEventListeners:y=!0,usePopper:S=!!e}=t,E=e?.show==null?!!t.show:e.show;E&&!r.current&&(r.current=!0);const T=k=>{e?.toggle(!1,k)},{placement:C,setMenu:x,menuElement:M,toggleElement:I}=e||{},N=e2(I,M,u2({placement:d||C||"bottom-start",enabled:S,enableEvents:y??E,offset:u,flip:a,fixed:p,arrowElement:n,popperConfig:m})),D=Object.assign({ref:x||d2,"aria-labelledby":I?.id},N.attributes.popper,{style:N.styles.popper}),U={show:E,placement:C,hasShown:r.current,toggle:e?.toggle,popper:S?N:null,arrowProps:S?Object.assign({ref:o},N.attributes.arrow,{style:N.styles.arrow}):{}};return s2(M,T,{clickTrigger:c,disabled:!E}),[D,U]}function iR(t){let{children:e,usePopper:n=!0}=t,o=f2(t,c2);const[r,a]=oR(Object.assign({},o,{usePopper:n}));return A.jsx(A.Fragment,{children:e(r,a)})}iR.displayName="DropdownMenu";const rR={prefix:String(Math.round(Math.random()*1e10)),current:0},sR=et.createContext(rR),p2=et.createContext(!1);let lg=new WeakMap;function h2(t=!1){let e=w.useContext(sR),n=w.useRef(null);if(n.current===null&&!t){var o,r;let a=(r=et.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED)===null||r===void 0||(o=r.ReactCurrentOwner)===null||o===void 0?void 0:o.current;if(a){let u=lg.get(a);u==null?lg.set(a,{id:e.current,state:a.memoizedState}):a.memoizedState!==u.state&&(e.current=u.id,lg.delete(a))}n.current=++e.current}return n.current}function m2(t){let e=w.useContext(sR),n=h2(!!t),o=`react-aria${e.prefix}`;return t||`${o}-${n}`}function g2(t){let e=et.useId(),[n]=w.useState(E2()),o=n?"react-aria":`react-aria${rR.prefix}`;return t||`${o}-${e}`}const v2=typeof et.useId=="function"?g2:m2;function y2(){return!1}function _2(){return!0}function S2(t){return()=>{}}function E2(){return typeof et.useSyncExternalStore=="function"?et.useSyncExternalStore(S2,y2,_2):w.useContext(p2)}const aR=t=>{var e;return((e=t.getAttribute("role"))==null?void 0:e.toLowerCase())==="menu"},bw=()=>{};function lR(){const t=v2(),{show:e=!1,toggle:n=bw,setToggle:o,menuElement:r}=w.useContext(Xd)||{},a=w.useCallback(c=>{n(!e,c)},[e,n]),u={id:t,ref:o||bw,onClick:a,"aria-expanded":!!e};return r&&aR(r)&&(u["aria-haspopup"]=!0),[u,{show:e,toggle:n}]}function uR({children:t}){const[e,n]=lR();return A.jsx(A.Fragment,{children:t(e,n)})}uR.displayName="DropdownToggle";const zr=w.createContext(null),iu=(t,e=null)=>t!=null?String(t):e||null,jd=w.createContext(null);jd.displayName="NavContext";const b2="data-rr-ui-",w2="rrUi";function ba(t){return`${b2}${t}`}function T2(t){return`${w2}${t}`}const C2=["eventKey","disabled","onClick","active","as"];function A2(t,e){if(t==null)return{};var n={};for(var o in t)if({}.hasOwnProperty.call(t,o)){if(e.indexOf(o)>=0)continue;n[o]=t[o]}return n}function cR({key:t,href:e,active:n,disabled:o,onClick:r}){const a=w.useContext(zr),u=w.useContext(jd),{activeKey:c}=u||{},p=iu(t,e),d=n==null&&t!=null?iu(c)===p:n;return[{onClick:Ot(y=>{o||(r?.(y),a&&!y.isPropagationStopped()&&a(p,y))}),"aria-disabled":o||void 0,"aria-selected":d,[ba("dropdown-item")]:""},{isActive:d}]}const fR=w.forwardRef((t,e)=>{let{eventKey:n,disabled:o,onClick:r,active:a,as:u=cy}=t,c=A2(t,C2);const[p]=cR({key:n,href:c.href,disabled:o,onClick:r,active:a});return A.jsx(u,Object.assign({},c,{ref:e},p))});fR.displayName="DropdownItem";const dR=w.createContext(Kd?window:void 0);dR.Provider;function Qd(){return w.useContext(dR)}function ww(){const t=Kx(),e=w.useRef(null),n=w.useCallback(o=>{e.current=o,t()},[t]);return[e,n]}function Nu({defaultShow:t,show:e,onSelect:n,onToggle:o,itemSelector:r=`* [${ba("dropdown-item")}]`,focusFirstItemOnShow:a,placement:u="bottom-start",children:c}){const p=Qd(),[d,m]=qk(e,t,o),[y,S]=ww(),E=y.current,[T,C]=ww(),x=T.current,M=Ox(d),I=w.useRef(null),N=w.useRef(!1),D=w.useContext(zr),U=w.useCallback((j,re,oe=re?.type)=>{m(j,{originalEvent:re,source:oe})},[m]),k=Ot((j,re)=>{n?.(j,re),U(!1,re,"select"),re.isPropagationStopped()||D?.(j,re)}),O=w.useMemo(()=>({toggle:U,placement:u,show:d,menuElement:E,toggleElement:x,setMenu:S,setToggle:C}),[U,u,d,E,x,S,C]);E&&M&&!d&&(N.current=E.contains(E.ownerDocument.activeElement));const q=Ot(()=>{x&&x.focus&&x.focus()}),J=Ot(()=>{const j=I.current;let re=a;if(re==null&&(re=y.current&&aR(y.current)?"keyboard":!1),re===!1||re==="keyboard"&&!/^key.+$/.test(j))return;const oe=ti(y.current,r)[0];oe&&oe.focus&&oe.focus()});w.useEffect(()=>{d?J():N.current&&(N.current=!1,q())},[d,N,q,J]),w.useEffect(()=>{I.current=null});const X=(j,re)=>{if(!y.current)return null;const oe=ti(y.current,r);let ae=oe.indexOf(j)+re;return ae=Math.max(0,Math.min(ae,oe.length)),oe[ae]};return Nk(w.useCallback(()=>p.document,[p]),"keydown",j=>{var re,oe;const{key:ae}=j,de=j.target,H=(re=y.current)==null?void 0:re.contains(de),Q=(oe=T.current)==null?void 0:oe.contains(de);if(/input|textarea/i.test(de.tagName)&&(ae===" "||ae!=="Escape"&&H||ae==="Escape"&&de.type==="search")||!H&&!Q||ae==="Tab"&&(!y.current||!d))return;I.current=j.type;const ne={originalEvent:j,source:j.type};switch(ae){case"ArrowUp":{const ce=X(de,-1);ce&&ce.focus&&ce.focus(),j.preventDefault();return}case"ArrowDown":if(j.preventDefault(),!d)m(!0,ne);else{const ce=X(de,1);ce&&ce.focus&&ce.focus()}return;case"Tab":Mx(de.ownerDocument,"keyup",ce=>{var L;(ce.key==="Tab"&&!ce.target||!((L=y.current)!=null&&L.contains(ce.target)))&&m(!1,ne)},{once:!0});break;case"Escape":ae==="Escape"&&(j.preventDefault(),j.stopPropagation()),m(!1,ne);break}}),A.jsx(zr.Provider,{value:k,children:A.jsx(Xd.Provider,{value:O,children:c})})}Nu.displayName="Dropdown";Nu.Menu=iR;Nu.Toggle=uR;Nu.Item=fR;const by=w.createContext({});by.displayName="DropdownContext";const pR=w.forwardRef(({className:t,bsPrefix:e,as:n="hr",role:o="separator",...r},a)=>(e=Ue(e,"dropdown-divider"),A.jsx(n,{ref:a,className:Me(t,e),role:o,...r})));pR.displayName="DropdownDivider";const hR=w.forwardRef(({className:t,bsPrefix:e,as:n="div",role:o="heading",...r},a)=>(e=Ue(e,"dropdown-header"),A.jsx(n,{ref:a,className:Me(t,e),role:o,...r})));hR.displayName="DropdownHeader";const mR=w.forwardRef(({bsPrefix:t,className:e,eventKey:n,disabled:o=!1,onClick:r,active:a,as:u=fy,...c},p)=>{const d=Ue(t,"dropdown-item"),[m,y]=cR({key:n,href:c.href,disabled:o,onClick:r,active:a});return A.jsx(u,{...c,...m,ref:p,className:Me(e,d,y.isActive&&"active",o&&"disabled")})});mR.displayName="DropdownItem";const gR=w.forwardRef(({className:t,bsPrefix:e,as:n="span",...o},r)=>(e=Ue(e,"dropdown-item-text"),A.jsx(n,{ref:r,className:Me(t,e),...o})));gR.displayName="DropdownItemText";const x2=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",R2=typeof document<"u",vR=R2||x2?w.useLayoutEffect:w.useEffect,wy=w.createContext(null);wy.displayName="InputGroupContext";const Qr=w.createContext(null);Qr.displayName="NavbarContext";function yR(t,e){return t}function _R(t,e,n){const o=n?"top-end":"top-start",r=n?"top-start":"top-end",a=n?"bottom-end":"bottom-start",u=n?"bottom-start":"bottom-end",c=n?"right-start":"left-start",p=n?"right-end":"left-end",d=n?"left-start":"right-start",m=n?"left-end":"right-end";let y=t?u:a;return e==="up"?y=t?r:o:e==="end"?y=t?m:d:e==="start"?y=t?p:c:e==="down-centered"?y="bottom":e==="up-centered"&&(y="top"),y}const SR=w.forwardRef(({bsPrefix:t,className:e,align:n,rootCloseEvent:o,flip:r=!0,show:a,renderOnMount:u,as:c="div",popperConfig:p,variant:d,...m},y)=>{let S=!1;const E=w.useContext(Qr),T=Ue(t,"dropdown-menu"),{align:C,drop:x,isRTL:M}=w.useContext(by);n=n||C;const I=w.useContext(wy),N=[];if(n)if(typeof n=="object"){const j=Object.keys(n);if(j.length){const re=j[0],oe=n[re];S=oe==="start",N.push(`${T}-${re}-${oe}`)}}else n==="end"&&(S=!0);const D=_R(S,x,M),[U,{hasShown:k,popper:O,show:q,toggle:J}]=oR({flip:r,rootCloseEvent:o,show:a,usePopper:!E&&N.length===0,offset:[0,2],popperConfig:p,placement:D});if(U.ref=ay(yR(y),U.ref),vR(()=>{q&&O?.update()},[q]),!k&&!u&&!I)return null;typeof c!="string"&&(U.show=q,U.close=()=>J?.(!1),U.align=n);let X=m.style;return O!=null&&O.placement&&(X={...m.style,...U.style},m["x-placement"]=O.placement),A.jsx(c,{...m,...U,style:X,...(N.length||E)&&{"data-bs-popper":"static"},className:Me(e,T,q&&"show",S&&`${T}-end`,d&&`${T}-${d}`,...N)})});SR.displayName="DropdownMenu";const ER=w.forwardRef(({bsPrefix:t,split:e,className:n,childBsPrefix:o,as:r=Lx,...a},u)=>{const c=Ue(t,"dropdown-toggle"),p=w.useContext(Xd);o!==void 0&&(a.bsPrefix=o);const[d]=lR();return d.ref=ay(d.ref,yR(u)),A.jsx(r,{className:Me(n,c,e&&`${c}-split`,p?.show&&"show"),...d,...a})});ER.displayName="DropdownToggle";const bR=w.forwardRef((t,e)=>{const{bsPrefix:n,drop:o="down",show:r,className:a,align:u="start",onSelect:c,onToggle:p,focusFirstItemOnShow:d,as:m="div",navbar:y,autoClose:S=!0,...E}=ry(t,{show:"onToggle"}),T=w.useContext(wy),C=Ue(n,"dropdown"),x=nk(),M=O=>S===!1?O==="click":S==="inside"?O!=="rootClose":S==="outside"?O!=="select":!0,I=xu((O,q)=>{var J;!((J=q.originalEvent)==null||(J=J.target)==null)&&J.classList.contains("dropdown-toggle")&&q.source==="mousedown"||(q.originalEvent.currentTarget===document&&(q.source!=="keydown"||q.originalEvent.key==="Escape")&&(q.source="rootClose"),M(q.source)&&p?.(O,q))}),D=_R(u==="end",o,x),U=w.useMemo(()=>({align:u,drop:o,isRTL:x}),[u,o,x]),k={down:C,"down-centered":`${C}-center`,up:"dropup","up-centered":"dropup-center dropup",end:"dropend",start:"dropstart"};return A.jsx(by.Provider,{value:U,children:A.jsx(Nu,{placement:D,show:r,onSelect:c,onToggle:I,focusFirstItemOnShow:d,itemSelector:`.${C}-item:not(.disabled):not(:disabled)`,children:T?E.children:A.jsx(m,{...E,ref:e,className:Me(a,r&&"show",k[o])})})})});bR.displayName="Dropdown";const gf=Object.assign(bR,{Toggle:ER,Menu:SR,Item:mR,ItemText:gR,Divider:pR,Header:hR}),Tw=t=>!t||typeof t=="function"?t:e=>{t.current=e};function M2(t,e){const n=Tw(t),o=Tw(e);return r=>{n&&n(r),o&&o(r)}}function Zd(t,e){return w.useMemo(()=>M2(t,e),[t,e])}const wR=w.createContext(null),N2=["as","active","eventKey"];function I2(t,e){if(t==null)return{};var n={};for(var o in t)if({}.hasOwnProperty.call(t,o)){if(e.indexOf(o)>=0)continue;n[o]=t[o]}return n}function TR({key:t,onClick:e,active:n,id:o,role:r,disabled:a}){const u=w.useContext(zr),c=w.useContext(jd),p=w.useContext(wR);let d=n;const m={role:r};if(c){!r&&c.role==="tablist"&&(m.role="tab");const y=c.getControllerId(t??null),S=c.getControlledId(t??null);m[ba("event-key")]=t,m.id=y||o,d=n==null&&t!=null?c.activeKey===t:n,(d||!(p!=null&&p.unmountOnExit)&&!(p!=null&&p.mountOnEnter))&&(m["aria-controls"]=S)}return m.role==="tab"&&(m["aria-selected"]=d,d||(m.tabIndex=-1),a&&(m.tabIndex=-1,m["aria-disabled"]=!0)),m.onClick=Ot(y=>{a||(e?.(y),t!=null&&u&&!y.isPropagationStopped()&&u(t,y))}),[m,{isActive:d}]}const CR=w.forwardRef((t,e)=>{let{as:n=cy,active:o,eventKey:r}=t,a=I2(t,N2);const[u,c]=TR(Object.assign({key:iu(r,a.href),active:o},a));return u[ba("active")]=c.isActive,A.jsx(n,Object.assign({},a,u,{ref:e}))});CR.displayName="NavItem";const D2=["as","onSelect","activeKey","role","onKeyDown"];function O2(t,e){if(t==null)return{};var n={};for(var o in t)if({}.hasOwnProperty.call(t,o)){if(e.indexOf(o)>=0)continue;n[o]=t[o]}return n}const Cw=()=>{},Aw=ba("event-key"),AR=w.forwardRef((t,e)=>{let{as:n="div",onSelect:o,activeKey:r,role:a,onKeyDown:u}=t,c=O2(t,D2);const p=Kx(),d=w.useRef(!1),m=w.useContext(zr),y=w.useContext(wR);let S,E;y&&(a=a||"tablist",r=y.activeKey,S=y.getControlledId,E=y.getControllerId);const T=w.useRef(null),C=N=>{const D=T.current;if(!D)return null;const U=ti(D,`[${Aw}]:not([aria-disabled=true])`),k=D.querySelector("[aria-selected=true]");if(!k||k!==document.activeElement)return null;const O=U.indexOf(k);if(O===-1)return null;let q=O+N;return q>=U.length&&(q=0),q<0&&(q=U.length-1),U[q]},x=(N,D)=>{N!=null&&(o?.(N,D),m?.(N,D))},M=N=>{if(u?.(N),!y)return;let D;switch(N.key){case"ArrowLeft":case"ArrowUp":D=C(-1);break;case"ArrowRight":case"ArrowDown":D=C(1);break;default:return}D&&(N.preventDefault(),x(D.dataset[T2("EventKey")]||null,N),d.current=!0,p())};w.useEffect(()=>{if(T.current&&d.current){const N=T.current.querySelector(`[${Aw}][aria-selected=true]`);N?.focus()}d.current=!1});const I=Zd(e,T);return A.jsx(zr.Provider,{value:x,children:A.jsx(jd.Provider,{value:{role:a,activeKey:iu(r),getControlledId:S||Cw,getControllerId:E||Cw},children:A.jsx(n,Object.assign({},c,{onKeyDown:M,ref:I,role:a}))})})});AR.displayName="Nav";const P2=Object.assign(AR,{Item:CR});function ug(t){t===void 0&&(t=Jd());try{var e=t.activeElement;return!e||!e.nodeName?null:e}catch{return t.body}}function L2(t){const e=w.useRef(t);return e.current=t,e}function U2(t){const e=L2(t);w.useEffect(()=>()=>e.current(),[])}function k2(t=document){const e=t.defaultView;return Math.abs(e.innerWidth-t.documentElement.clientWidth)}const xw=ba("modal-open");class Ty{constructor({ownerDocument:e,handleContainerOverflow:n=!0,isRTL:o=!1}={}){this.handleContainerOverflow=n,this.isRTL=o,this.modals=[],this.ownerDocument=e}getScrollbarWidth(){return k2(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes(e){}removeModalAttributes(e){}setContainerStyle(e){const n={overflow:"hidden"},o=this.isRTL?"paddingLeft":"paddingRight",r=this.getElement();e.style={overflow:r.style.overflow,[o]:r.style[o]},e.scrollBarWidth&&(n[o]=`${parseInt(ai(r,o)||"0",10)+e.scrollBarWidth}px`),r.setAttribute(xw,""),ai(r,n)}reset(){[...this.modals].forEach(e=>this.remove(e))}removeContainerStyle(e){const n=this.getElement();n.removeAttribute(xw),Object.assign(n.style,e.style)}add(e){let n=this.modals.indexOf(e);return n!==-1||(n=this.modals.length,this.modals.push(e),this.setModalAttributes(e),n!==0)||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),n}remove(e){const n=this.modals.indexOf(e);n!==-1&&(this.modals.splice(n,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(e))}isTopModal(e){return!!this.modals.length&&this.modals[this.modals.length-1]===e}}const cg=(t,e)=>Kd?t==null?(e||Jd()).body:(typeof t=="function"&&(t=t()),t&&"current"in t&&(t=t.current),t&&("nodeType"in t||t.getBoundingClientRect)?t:null):null;function B2(t,e){const n=Qd(),[o,r]=w.useState(()=>cg(t,n?.document));if(!o){const a=cg(t);a&&r(a)}return w.useEffect(()=>{},[e,o]),w.useEffect(()=>{const a=cg(t);a!==o&&r(a)},[t,o]),o}function H2({children:t,in:e,onExited:n,mountOnEnter:o,unmountOnExit:r}){const a=w.useRef(null),u=w.useRef(e),c=Ot(n);w.useEffect(()=>{e?u.current=!0:c(a.current)},[e,c]);const p=Zd(a,Ea(t)),d=w.cloneElement(t,{ref:p});return e?d:r||!u.current&&o?null:d}const G2=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children"];function $2(t,e){if(t==null)return{};var n={};for(var o in t)if({}.hasOwnProperty.call(t,o)){if(e.indexOf(o)>=0)continue;n[o]=t[o]}return n}function F2(t){let{onEnter:e,onEntering:n,onEntered:o,onExit:r,onExiting:a,onExited:u,addEndListener:c,children:p}=t,d=$2(t,G2);const m=w.useRef(null),y=Zd(m,Ea(p)),S=D=>U=>{D&&m.current&&D(m.current,U)},E=w.useCallback(S(e),[e]),T=w.useCallback(S(n),[n]),C=w.useCallback(S(o),[o]),x=w.useCallback(S(r),[r]),M=w.useCallback(S(a),[a]),I=w.useCallback(S(u),[u]),N=w.useCallback(S(c),[c]);return Object.assign({},d,{nodeRef:m},e&&{onEnter:E},n&&{onEntering:T},o&&{onEntered:C},r&&{onExit:x},a&&{onExiting:M},u&&{onExited:I},c&&{addEndListener:N},{children:typeof p=="function"?(D,U)=>p(D,Object.assign({},U,{ref:y})):w.cloneElement(p,{ref:y})})}const V2=["component"];function z2(t,e){if(t==null)return{};var n={};for(var o in t)if({}.hasOwnProperty.call(t,o)){if(e.indexOf(o)>=0)continue;n[o]=t[o]}return n}const q2=w.forwardRef((t,e)=>{let{component:n}=t,o=z2(t,V2);const r=F2(o);return A.jsx(n,Object.assign({ref:e},r))});function J2({in:t,onTransition:e}){const n=w.useRef(null),o=w.useRef(!0),r=Ot(e);return aw(()=>{if(!n.current)return;let a=!1;return r({in:t,element:n.current,initial:o.current,isStale:()=>a}),()=>{a=!0}},[t,r]),aw(()=>(o.current=!1,()=>{o.current=!0}),[]),n}function K2({children:t,in:e,onExited:n,onEntered:o,transition:r}){const[a,u]=w.useState(!e);e&&a&&u(!1);const c=J2({in:!!e,onTransition:d=>{const m=()=>{d.isStale()||(d.in?o?.(d.element,d.initial):(u(!0),n?.(d.element)))};Promise.resolve(r(d)).then(m,y=>{throw d.in||u(!0),y})}}),p=Zd(c,Ea(t));return a&&!e?null:w.cloneElement(t,{ref:p})}function Rw(t,e,n){return t?A.jsx(q2,Object.assign({},n,{component:t})):e?A.jsx(K2,Object.assign({},n,{transition:e})):A.jsx(H2,Object.assign({},n))}const Y2=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];function X2(t,e){if(t==null)return{};var n={};for(var o in t)if({}.hasOwnProperty.call(t,o)){if(e.indexOf(o)>=0)continue;n[o]=t[o]}return n}let fg;function W2(t){return fg||(fg=new Ty({ownerDocument:t?.document})),fg}function j2(t){const e=Qd(),n=t||W2(e),o=w.useRef({dialog:null,backdrop:null});return Object.assign(o.current,{add:()=>n.add(o.current),remove:()=>n.remove(o.current),isTopModal:()=>n.isTopModal(o.current),setDialogRef:w.useCallback(r=>{o.current.dialog=r},[]),setBackdropRef:w.useCallback(r=>{o.current.backdrop=r},[])})}const xR=w.forwardRef((t,e)=>{let{show:n=!1,role:o="dialog",className:r,style:a,children:u,backdrop:c=!0,keyboard:p=!0,onBackdropClick:d,onEscapeKeyDown:m,transition:y,runTransition:S,backdropTransition:E,runBackdropTransition:T,autoFocus:C=!0,enforceFocus:x=!0,restoreFocus:M=!0,restoreFocusOptions:I,renderDialog:N,renderBackdrop:D=Qe=>A.jsx("div",Object.assign({},Qe)),manager:U,container:k,onShow:O,onHide:q=()=>{},onExit:J,onExited:X,onExiting:j,onEnter:re,onEntering:oe,onEntered:ae}=t,de=X2(t,Y2);const H=Qd(),Q=B2(k),ee=j2(U),ne=Dx(),ce=Ox(n),[L,Y]=w.useState(!n),se=w.useRef(null);w.useImperativeHandle(e,()=>ee,[ee]),Kd&&!ce&&n&&(se.current=ug(H?.document)),n&&L&&Y(!1);const le=Ot(()=>{if(ee.add(),nn.current=Xi(document,"keydown",Ve),ze.current=Xi(document,"focus",()=>setTimeout(Ee),!0),O&&O(),C){var Qe,Po;const vi=ug((Qe=(Po=ee.dialog)==null?void 0:Po.ownerDocument)!=null?Qe:H?.document);ee.dialog&&vi&&!md(ee.dialog,vi)&&(se.current=vi,ee.dialog.focus())}}),me=Ot(()=>{if(ee.remove(),nn.current==null||nn.current(),ze.current==null||ze.current(),M){var Qe;(Qe=se.current)==null||Qe.focus==null||Qe.focus(I),se.current=null}});w.useEffect(()=>{!n||!Q||le()},[n,Q,le]),w.useEffect(()=>{L&&me()},[L,me]),U2(()=>{me()});const Ee=Ot(()=>{if(!x||!ne()||!ee.isTopModal())return;const Qe=ug(H?.document);ee.dialog&&Qe&&!md(ee.dialog,Qe)&&ee.dialog.focus()}),ve=Ot(Qe=>{Qe.target===Qe.currentTarget&&(d?.(Qe),c===!0&&q())}),Ve=Ot(Qe=>{p&&mk(Qe)&&ee.isTopModal()&&(m?.(Qe),Qe.defaultPrevented||q())}),ze=w.useRef(),nn=w.useRef(),bn=(...Qe)=>{Y(!0),X?.(...Qe)};if(!Q)return null;const fo=Object.assign({role:o,ref:ee.setDialogRef,"aria-modal":o==="dialog"?!0:void 0},de,{style:a,className:r,tabIndex:-1});let Vt=N?N(fo):A.jsx("div",Object.assign({},fo,{children:w.cloneElement(u,{role:"document"})}));Vt=Rw(y,S,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!n,onExit:J,onExiting:j,onExited:bn,onEnter:re,onEntering:oe,onEntered:ae,children:Vt});let zt=null;return c&&(zt=D({ref:ee.setBackdropRef,onClick:ve}),zt=Rw(E,T,{in:!!n,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:zt})),A.jsx(A.Fragment,{children:Or.createPortal(A.jsxs(A.Fragment,{children:[zt,Vt]}),Q)})});xR.displayName="Modal";const Q2=Object.assign(xR,{Manager:Ty});function Z2(t,e){return t.classList?t.classList.contains(e):(" "+(t.className.baseVal||t.className)+" ").indexOf(" "+e+" ")!==-1}function eH(t,e){t.classList?t.classList.add(e):Z2(t,e)||(typeof t.className=="string"?t.className=t.className+" "+e:t.setAttribute("class",(t.className&&t.className.baseVal||"")+" "+e))}function Mw(t,e){return t.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function tH(t,e){t.classList?t.classList.remove(e):typeof t.className=="string"?t.className=Mw(t.className,e):t.setAttribute("class",Mw(t.className&&t.className.baseVal||"",e))}const $s={FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top",NAVBAR_TOGGLER:".navbar-toggler"};class RR extends Ty{adjustAndStore(e,n,o){const r=n.style[e];n.dataset[e]=r,ai(n,{[e]:`${parseFloat(ai(n,e))+o}px`})}restore(e,n){const o=n.dataset[e];o!==void 0&&(delete n.dataset[e],ai(n,{[e]:o}))}setContainerStyle(e){super.setContainerStyle(e);const n=this.getElement();if(eH(n,"modal-open"),!e.scrollBarWidth)return;const o=this.isRTL?"paddingLeft":"paddingRight",r=this.isRTL?"marginLeft":"marginRight";ti(n,$s.FIXED_CONTENT).forEach(a=>this.adjustAndStore(o,a,e.scrollBarWidth)),ti(n,$s.STICKY_CONTENT).forEach(a=>this.adjustAndStore(r,a,-e.scrollBarWidth)),ti(n,$s.NAVBAR_TOGGLER).forEach(a=>this.adjustAndStore(r,a,e.scrollBarWidth))}removeContainerStyle(e){super.removeContainerStyle(e);const n=this.getElement();tH(n,"modal-open");const o=this.isRTL?"paddingLeft":"paddingRight",r=this.isRTL?"marginLeft":"marginRight";ti(n,$s.FIXED_CONTENT).forEach(a=>this.restore(o,a)),ti(n,$s.STICKY_CONTENT).forEach(a=>this.restore(r,a)),ti(n,$s.NAVBAR_TOGGLER).forEach(a=>this.restore(r,a))}}let dg;function nH(t){return dg||(dg=new RR(t)),dg}const MR=w.createContext({onHide(){}}),NR=w.forwardRef(({closeLabel:t="Close",closeVariant:e,closeButton:n=!1,onHide:o,children:r,...a},u)=>{const c=w.useContext(MR),p=xu(()=>{c?.onHide(),o?.()});return A.jsxs("div",{ref:u,...a,children:[r,n&&A.jsx(dy,{"aria-label":t,variant:e,onClick:p})]})});NR.displayName="AbstractModalHeader";const IR=w.forwardRef(({className:t,bsPrefix:e,as:n="div",...o},r)=>(e=Ue(e,"nav-item"),A.jsx(n,{ref:r,className:Me(t,e),...o})));IR.displayName="NavItem";const DR=w.forwardRef(({bsPrefix:t,className:e,as:n=fy,active:o,eventKey:r,disabled:a=!1,...u},c)=>{t=Ue(t,"nav-link");const[p,d]=TR({key:iu(r,u.href),active:o,disabled:a,...u});return A.jsx(n,{...u,...p,ref:c,disabled:a,className:Me(e,t,a&&"disabled",d.isActive&&"active")})});DR.displayName="NavLink";const OR=w.forwardRef((t,e)=>{const{as:n="div",bsPrefix:o,variant:r,fill:a=!1,justify:u=!1,navbar:c,navbarScroll:p,className:d,activeKey:m,...y}=ry(t,{activeKey:"onSelect"}),S=Ue(o,"nav");let E,T,C=!1;const x=w.useContext(Qr),M=w.useContext(hy);return x?(E=x.bsPrefix,C=c??!0):M&&({cardHeaderBsPrefix:T}=M),A.jsx(P2,{as:n,ref:e,activeKey:m,className:Me(d,{[S]:!C,[`${E}-nav`]:C,[`${E}-nav-scroll`]:C&&p,[`${T}-${r}`]:!!T,[`${S}-${r}`]:!!r,[`${S}-fill`]:a,[`${S}-justified`]:u}),...y})});OR.displayName="Nav";const oH=Object.assign(OR,{Item:IR,Link:DR}),PR=w.forwardRef(({bsPrefix:t,className:e,as:n,...o},r)=>{t=Ue(t,"navbar-brand");const a=n||(o.href?"a":"span");return A.jsx(a,{...o,ref:r,className:Me(e,t)})});PR.displayName="NavbarBrand";const LR=w.forwardRef(({children:t,bsPrefix:e,...n},o)=>{e=Ue(e,"navbar-collapse");const r=w.useContext(Qr);return A.jsx(Ix,{in:!!(r&&r.expanded),...n,children:A.jsx("div",{ref:o,className:e,children:t})})});LR.displayName="NavbarCollapse";const UR=w.forwardRef(({bsPrefix:t,className:e,children:n,label:o="Toggle navigation",as:r="button",onClick:a,...u},c)=>{t=Ue(t,"navbar-toggler");const{onToggle:p,expanded:d}=w.useContext(Qr)||{},m=xu(y=>{a&&a(y),p&&p()});return r==="button"&&(u.type="button"),A.jsx(r,{...u,ref:c,onClick:m,"aria-label":o,className:Me(e,t,!d&&"collapsed"),children:n||A.jsx("span",{className:`${t}-icon`})})});UR.displayName="NavbarToggle";const rv=new WeakMap,Nw=(t,e)=>{if(!t||!e)return;const n=rv.get(e)||new Map;rv.set(e,n);let o=n.get(t);return o||(o=e.matchMedia(t),o.refCount=0,n.set(o.media,o)),o};function iH(t,e=typeof window>"u"?void 0:window){const n=Nw(t,e),[o,r]=w.useState(()=>n?n.matches:!1);return vR(()=>{let a=Nw(t,e);if(!a)return r(!1);let u=rv.get(e);const c=()=>{r(a.matches)};return a.refCount++,a.addListener(c),c(),()=>{a.removeListener(c),a.refCount--,a.refCount<=0&&u?.delete(a.media),a=void 0}},[t]),o}function rH(t){const e=Object.keys(t);function n(c,p){return c===p?p:c?`${c} and ${p}`:p}function o(c){return e[Math.min(e.indexOf(c)+1,e.length-1)]}function r(c){const p=o(c);let d=t[p];return typeof d=="number"?d=`${d-.2}px`:d=`calc(${d} - 0.2px)`,`(max-width: ${d})`}function a(c){let p=t[c];return typeof p=="number"&&(p=`${p}px`),`(min-width: ${p})`}function u(c,p,d){let m;typeof c=="object"?(m=c,d=p,p=!0):(p=p||!0,m={[c]:p});let y=w.useMemo(()=>Object.entries(m).reduce((S,[E,T])=>((T==="up"||T===!0)&&(S=n(S,a(E))),(T==="down"||T===!0)&&(S=n(S,r(E))),S),""),[JSON.stringify(m)]);return iH(y,d)}return u}const sH=rH({xs:0,sm:576,md:768,lg:992,xl:1200,xxl:1400}),kR=w.forwardRef(({className:t,bsPrefix:e,as:n="div",...o},r)=>(e=Ue(e,"offcanvas-body"),A.jsx(n,{ref:r,className:Me(t,e),...o})));kR.displayName="OffcanvasBody";const aH={[jn]:"show",[ii]:"show"},BR=w.forwardRef(({bsPrefix:t,className:e,children:n,in:o=!1,mountOnEnter:r=!1,unmountOnExit:a=!1,appear:u=!1,...c},p)=>(t=Ue(t,"offcanvas"),A.jsx(Yd,{ref:p,addEndListener:sy,in:o,mountOnEnter:r,unmountOnExit:a,appear:u,...c,childRef:Ea(n),children:(d,m)=>w.cloneElement(n,{...m,className:Me(e,n.props.className,(d===jn||d===tu)&&`${t}-toggling`,aH[d])})})));BR.displayName="OffcanvasToggling";const HR=w.forwardRef(({bsPrefix:t,className:e,closeLabel:n="Close",closeButton:o=!1,...r},a)=>(t=Ue(t,"offcanvas-header"),A.jsx(NR,{ref:a,...r,className:Me(e,t),closeLabel:n,closeButton:o})));HR.displayName="OffcanvasHeader";const lH=ly("h5"),GR=w.forwardRef(({className:t,bsPrefix:e,as:n=lH,...o},r)=>(e=Ue(e,"offcanvas-title"),A.jsx(n,{ref:r,className:Me(t,e),...o})));GR.displayName="OffcanvasTitle";function uH(t){return A.jsx(BR,{...t})}function cH(t){return A.jsx(Px,{...t})}const $R=w.forwardRef(({bsPrefix:t,className:e,children:n,"aria-labelledby":o,placement:r="start",responsive:a,show:u=!1,backdrop:c=!0,keyboard:p=!0,scroll:d=!1,onEscapeKeyDown:m,onShow:y,onHide:S,container:E,autoFocus:T=!0,enforceFocus:C=!0,restoreFocus:x=!0,restoreFocusOptions:M,onEntered:I,onExit:N,onExiting:D,onEnter:U,onEntering:k,onExited:O,backdropClassName:q,manager:J,renderStaticNode:X=!1,...j},re)=>{const oe=w.useRef();t=Ue(t,"offcanvas");const[ae,de]=w.useState(!1),H=xu(S),Q=sH(a||"xs","up");w.useEffect(()=>{de(a?u&&!Q:u)},[u,a,Q]);const ee=w.useMemo(()=>({onHide:H}),[H]);function ne(){return J||(d?(oe.current||(oe.current=new RR({handleContainerOverflow:!1})),oe.current):nH())}const ce=(le,...me)=>{le&&(le.style.visibility="visible"),U?.(le,...me)},L=(le,...me)=>{le&&(le.style.visibility=""),O?.(...me)},Y=w.useCallback(le=>A.jsx("div",{...le,className:Me(`${t}-backdrop`,q)}),[q,t]),se=le=>A.jsx("div",{...le,...j,className:Me(e,a?`${t}-${a}`:t,`${t}-${r}`),"aria-labelledby":o,children:n});return A.jsxs(A.Fragment,{children:[!ae&&(a||X)&&se({}),A.jsx(MR.Provider,{value:ee,children:A.jsx(Q2,{show:ae,ref:re,backdrop:c,container:E,keyboard:p,autoFocus:T,enforceFocus:C&&!d,restoreFocus:x,restoreFocusOptions:M,onEscapeKeyDown:m,onShow:y,onHide:H,onEnter:ce,onEntering:k,onEntered:I,onExit:N,onExiting:D,onExited:L,manager:ne(),transition:uH,backdropTransition:cH,renderBackdrop:Y,renderDialog:se})})]})});$R.displayName="Offcanvas";const fH=Object.assign($R,{Body:kR,Header:HR,Title:GR}),FR=w.forwardRef(({onHide:t,...e},n)=>{const o=w.useContext(Qr),r=xu(()=>{o==null||o.onToggle==null||o.onToggle(),t?.()});return A.jsx(fH,{ref:n,show:!!(o!=null&&o.expanded),...e,renderStaticNode:!0,onHide:r})});FR.displayName="NavbarOffcanvas";const VR=w.forwardRef(({className:t,bsPrefix:e,as:n="span",...o},r)=>(e=Ue(e,"navbar-text"),A.jsx(n,{ref:r,className:Me(t,e),...o})));VR.displayName="NavbarText";const zR=w.forwardRef((t,e)=>{const{bsPrefix:n,expand:o=!0,variant:r="light",bg:a,fixed:u,sticky:c,className:p,as:d="nav",expanded:m,onToggle:y,onSelect:S,collapseOnSelect:E=!1,...T}=ry(t,{expanded:"onToggle"}),C=Ue(n,"navbar"),x=w.useCallback((...N)=>{S?.(...N),E&&m&&y?.(!1)},[S,E,m,y]);T.role===void 0&&d!=="nav"&&(T.role="navigation");let M=`${C}-expand`;typeof o=="string"&&(M=`${M}-${o}`);const I=w.useMemo(()=>({onToggle:()=>y?.(!m),bsPrefix:C,expanded:!!m,expand:o}),[C,m,o,y]);return A.jsx(Qr.Provider,{value:I,children:A.jsx(zr.Provider,{value:x,children:A.jsx(d,{ref:e,...T,className:Me(p,C,o&&M,r&&`${C}-${r}`,a&&`bg-${a}`,c&&`sticky-${c}`,u&&`fixed-${u}`)})})})});zR.displayName="Navbar";const Iw=Object.assign(zR,{Brand:PR,Collapse:LR,Offcanvas:FR,Text:VR,Toggle:UR}),qR=w.forwardRef(({bsPrefix:t,className:e,as:n="div",...o},r)=>{const a=Ue(t,"row"),u=Ax(),c=xx(),p=`${a}-cols`,d=[];return u.forEach(m=>{const y=o[m];delete o[m];let S;y!=null&&typeof y=="object"?{cols:S}=y:S=y;const E=m!==c?`-${m}`:"";S!=null&&d.push(`${p}${E}-${S}`)}),A.jsx(n,{ref:r,...o,className:Me(e,a,...d)})});qR.displayName="Row";const JR=w.forwardRef(({bsPrefix:t,variant:e,animation:n="border",size:o,as:r="div",className:a,...u},c)=>{t=Ue(t,"spinner");const p=`${t}-${n}`;return A.jsx(r,{ref:c,...u,className:Me(a,p,o&&`${p}-${o}`,e&&`text-${e}`)})});JR.displayName="Spinner";const KR=({name:t,onClick:e,subItems:n})=>{const[o,r]=w.useState(!1);return A.jsxs("div",{onMouseEnter:()=>r(!0),onMouseLeave:()=>r(!1),style:{position:"relative"},children:[A.jsxs("div",{className:"dropdown-item d-flex justify-content-between",style:{cursor:"pointer"},onClick:e,children:[t," ",n?A.jsx("span",{children:""}):null]}),n&&o&&A.jsx("div",{className:"dropdown-menu show",style:{position:"absolute",top:0,left:"100%",minWidth:"180px",zIndex:1e3},children:n.map((a,u)=>A.jsx(KR,{name:a.name,onClick:a.onClick,subItems:a.subItems},u))})]})},Fs=({title:t,items:e,onClick:n})=>{const[o,r]=w.useState(!1),a=e&&e.length>0;return A.jsxs("div",{className:"nav-item dropdown",onMouseEnter:()=>r(!0),onMouseLeave:()=>r(!1),style:{position:"relative"},children:[A.jsx("span",{className:"nav-link dropdown-toggle",style:{cursor:a||n?"pointer":"default"},onClick:()=>{n&&n()},children:t}),o&&a&&A.jsx("div",{className:"dropdown-menu show",style:{minWidth:"180px"},children:e.map((u,c)=>A.jsx(KR,{...u},c))})]})};class qr{fileHandle;data;constructor(e,n){this.fileHandle=e,this.data=Et(n),ir(this)}static async create(e,n,o={}){try{const r=await e.getFileHandle(n,{create:!0}),u=await(await r.getFile()).text(),c=u.trim()===""?{...o}:{...o,...JSON.parse(u)};return new qr(r,c)}catch(r){console.error("Error loading JSON:",r);const a=await e.getFileHandle(n,{create:!0});return new qr(a,{...o})}}async save(){try{let e=await this.fileHandle.queryPermission({mode:"readwrite"});if(e!=="granted"&&(e=await this.fileHandle.requestPermission({mode:"readwrite"})),e!=="granted")throw new Error("No permission to write file");const n=await this.fileHandle.createWritable();await n.write(JSON.stringify(this.data,null,2)),await n.close()}catch(e){console.error("Error saving JSON:",e)}}async updateField(e,n,o=!0){Je(()=>{const r=e.split("/").filter(Boolean);let a=this.data;for(let u=0;u<r.length;u++){const c=r[u];u===r.length-1?a[c]=n:((a[c]===void 0||a[c]===null||typeof a[c]!="object")&&(a[c]={}),a=a[c])}}),o&&await this.save()}getField(e){const n=e.split("/").filter(Boolean);let o=this.data;for(const r of n){if(o==null||typeof o!="object")return;o=o[r]}return o}}class Jr{handle;parent;urlObject=null;base64Data=null;constructor(e,n){this.handle=e,this.parent=n}async getUrlObject(){if(!this.urlObject)try{const e=await this.handle.getFile();this.urlObject=URL.createObjectURL(e)}catch(e){console.error("Failed to create object URL for file:",e),this.urlObject=""}return this.urlObject}revokeUrl(){this.urlObject&&(URL.revokeObjectURL(this.urlObject),this.urlObject=null)}static async fromUrl(e,n){try{const o=await fetch(e);if(!o.ok)throw new Error(`Failed to fetch image: ${o.statusText}`);const r=await o.blob(),a=e.split("/");let u=a[a.length-1];const c=await n.getFileHandle(u,{create:!0}),p=await c.createWritable();return await p.write(r),await p.close(),new Jr(c,n)}catch(o){throw console.error("Failed to create LocalImage from URL:",o),o}}async delete(e){try{this.revokeUrl(),await e.removeEntry(this.handle.name)}catch(n){throw console.error("Failed to delete image file:",n),n}}async getBase64(){if(this.base64Data)return this.base64Data;try{const e=await this.handle.getFile(),n=await e.arrayBuffer(),o=e.type||"image/png",r=dH(n);return this.base64Data={rawBase64:r,mime:o},this.base64Data}catch(e){return console.error("Failed to create Base64 from file:",e),{rawBase64:"",mime:"image/png"}}}static async fromBase64(e,n,o){try{let r=e.rawBase64;const a=`data:${e.mime};base64,`;r.startsWith(a)&&(r=r.slice(a.length));const u=atob(r),c=u.length,p=new Uint8Array(c);for(let S=0;S<c;S++)p[S]=u.charCodeAt(S);const d=await n.getFileHandle(o,{create:!0}),m=await d.createWritable();await m.write(p),await m.close();const y=new Jr(d,n);return y.base64Data=e,y}catch(r){throw console.error("Failed to create LocalImage from Base64:",r),r}}}function dH(t){let e="";const n=new Uint8Array(t),o=n.byteLength;for(let r=0;r<o;r++)e+=String.fromCharCode(n[r]);return btoa(e)}var pH={};let hH,mH;function gH(){return{geminiUrl:hH,vertexUrl:mH}}function vH(t,e,n,o){var r,a;if(!t?.baseUrl){const u=gH();return e?(r=u.vertexUrl)!==null&&r!==void 0?r:n:(a=u.geminiUrl)!==null&&a!==void 0?a:o}return t.baseUrl}class mi{}function fe(t,e){const n=/\{([^}]+)\}/g;return t.replace(n,(o,r)=>{if(Object.prototype.hasOwnProperty.call(e,r)){const a=e[r];return a!=null?String(a):""}else throw new Error(`Key '${r}' not found in valueMap.`)})}function g(t,e,n){for(let a=0;a<e.length-1;a++){const u=e[a];if(u.endsWith("[]")){const c=u.slice(0,-2);if(!(c in t))if(Array.isArray(n))t[c]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${u}`);if(Array.isArray(t[c])){const p=t[c];if(Array.isArray(n))for(let d=0;d<p.length;d++){const m=p[d];g(m,e.slice(a+1),n[d])}else for(const d of p)g(d,e.slice(a+1),n)}return}else if(u.endsWith("[0]")){const c=u.slice(0,-3);c in t||(t[c]=[{}]);const p=t[c];g(p[0],e.slice(a+1),n);return}(!t[u]||typeof t[u]!="object")&&(t[u]={}),t=t[u]}const o=e[e.length-1],r=t[o];if(r!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===r)return;if(typeof r=="object"&&typeof n=="object"&&r!==null&&n!==null)Object.assign(r,n);else throw new Error(`Cannot set value for an existing key. Key: ${o}`)}else o==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(t,n):t[o]=n}function h(t,e,n=void 0){try{if(e.length===1&&e[0]==="_self")return t;for(let o=0;o<e.length;o++){if(typeof t!="object"||t===null)return n;const r=e[o];if(r.endsWith("[]")){const a=r.slice(0,-2);if(a in t){const u=t[a];return Array.isArray(u)?u.map(c=>h(c,e.slice(o+1),n)):n}else return n}else t=t[r]}return t}catch(o){if(o instanceof TypeError)return n;throw o}}function yH(t,e){for(const[n,o]of Object.entries(e)){const r=n.split("."),a=o.split("."),u=new Set;let c=-1;for(let p=0;p<r.length;p++)if(r[p]==="*"){c=p;break}if(c!==-1&&a.length>c)for(let p=c;p<a.length;p++){const d=a[p];d!=="*"&&!d.endsWith("[]")&&!d.endsWith("[0]")&&u.add(d)}sv(t,r,a,0,u)}}function sv(t,e,n,o,r){if(o>=e.length||typeof t!="object"||t===null)return;const a=e[o];if(a.endsWith("[]")){const u=a.slice(0,-2),c=t;if(u in c&&Array.isArray(c[u]))for(const p of c[u])sv(p,e,n,o+1,r)}else if(a==="*"){if(typeof t=="object"&&t!==null&&!Array.isArray(t)){const u=t,c=Object.keys(u).filter(d=>!d.startsWith("_")&&!r.has(d)),p={};for(const d of c)p[d]=u[d];for(const[d,m]of Object.entries(p)){const y=[];for(const S of n.slice(o))S==="*"?y.push(d):y.push(S);g(u,y,m)}for(const d of c)delete u[d]}}else{const u=t;a in u&&sv(u[a],e,n,o+1,r)}}function Cy(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}function _H(t){const e={},n=h(t,["operationName"]);n!=null&&g(e,["operationName"],n);const o=h(t,["resourceName"]);return o!=null&&g(e,["_url","resourceName"],o),e}function SH(t){const e={},n=h(t,["name"]);n!=null&&g(e,["name"],n);const o=h(t,["metadata"]);o!=null&&g(e,["metadata"],o);const r=h(t,["done"]);r!=null&&g(e,["done"],r);const a=h(t,["error"]);a!=null&&g(e,["error"],a);const u=h(t,["response","generateVideoResponse"]);return u!=null&&g(e,["response"],bH(u)),e}function EH(t){const e={},n=h(t,["name"]);n!=null&&g(e,["name"],n);const o=h(t,["metadata"]);o!=null&&g(e,["metadata"],o);const r=h(t,["done"]);r!=null&&g(e,["done"],r);const a=h(t,["error"]);a!=null&&g(e,["error"],a);const u=h(t,["response"]);return u!=null&&g(e,["response"],wH(u)),e}function bH(t){const e={},n=h(t,["generatedSamples"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(u=>TH(u))),g(e,["generatedVideos"],a)}const o=h(t,["raiMediaFilteredCount"]);o!=null&&g(e,["raiMediaFilteredCount"],o);const r=h(t,["raiMediaFilteredReasons"]);return r!=null&&g(e,["raiMediaFilteredReasons"],r),e}function wH(t){const e={},n=h(t,["videos"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(u=>CH(u))),g(e,["generatedVideos"],a)}const o=h(t,["raiMediaFilteredCount"]);o!=null&&g(e,["raiMediaFilteredCount"],o);const r=h(t,["raiMediaFilteredReasons"]);return r!=null&&g(e,["raiMediaFilteredReasons"],r),e}function TH(t){const e={},n=h(t,["video"]);return n!=null&&g(e,["video"],IH(n)),e}function CH(t){const e={},n=h(t,["_self"]);return n!=null&&g(e,["video"],DH(n)),e}function AH(t){const e={},n=h(t,["operationName"]);return n!=null&&g(e,["_url","operationName"],n),e}function xH(t){const e={},n=h(t,["operationName"]);return n!=null&&g(e,["_url","operationName"],n),e}function RH(t){const e={},n=h(t,["name"]);n!=null&&g(e,["name"],n);const o=h(t,["metadata"]);o!=null&&g(e,["metadata"],o);const r=h(t,["done"]);r!=null&&g(e,["done"],r);const a=h(t,["error"]);a!=null&&g(e,["error"],a);const u=h(t,["response"]);return u!=null&&g(e,["response"],MH(u)),e}function MH(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const o=h(t,["parent"]);o!=null&&g(e,["parent"],o);const r=h(t,["documentName"]);return r!=null&&g(e,["documentName"],r),e}function YR(t){const e={},n=h(t,["name"]);n!=null&&g(e,["name"],n);const o=h(t,["metadata"]);o!=null&&g(e,["metadata"],o);const r=h(t,["done"]);r!=null&&g(e,["done"],r);const a=h(t,["error"]);a!=null&&g(e,["error"],a);const u=h(t,["response"]);return u!=null&&g(e,["response"],NH(u)),e}function NH(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const o=h(t,["parent"]);o!=null&&g(e,["parent"],o);const r=h(t,["documentName"]);return r!=null&&g(e,["documentName"],r),e}function IH(t){const e={},n=h(t,["uri"]);n!=null&&g(e,["uri"],n);const o=h(t,["encodedVideo"]);o!=null&&g(e,["videoBytes"],Cy(o));const r=h(t,["encoding"]);return r!=null&&g(e,["mimeType"],r),e}function DH(t){const e={},n=h(t,["gcsUri"]);n!=null&&g(e,["uri"],n);const o=h(t,["bytesBase64Encoded"]);o!=null&&g(e,["videoBytes"],Cy(o));const r=h(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}var Dw;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(Dw||(Dw={}));var Ow;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(Ow||(Ow={}));var Pw;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(Pw||(Pw={}));var Wi;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(Wi||(Wi={}));var Lw;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(Lw||(Lw={}));var Uw;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(Uw||(Uw={}));var kw;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(kw||(kw={}));var Bw;(function(t){t.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",t.HTTP_IN_QUERY="HTTP_IN_QUERY",t.HTTP_IN_HEADER="HTTP_IN_HEADER",t.HTTP_IN_PATH="HTTP_IN_PATH",t.HTTP_IN_BODY="HTTP_IN_BODY",t.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(Bw||(Bw={}));var Hw;(function(t){t.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",t.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",t.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",t.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(Hw||(Hw={}));var Gw;(function(t){t.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",t.LOW="LOW",t.HIGH="HIGH"})(Gw||(Gw={}));var $w;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})($w||($w={}));var Fw;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(Fw||(Fw={}));var Vw;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(Vw||(Vw={}));var zw;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",t.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",t.NO_IMAGE="NO_IMAGE",t.IMAGE_RECITATION="IMAGE_RECITATION",t.IMAGE_OTHER="IMAGE_OTHER"})(zw||(zw={}));var qw;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(qw||(qw={}));var Jw;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(Jw||(Jw={}));var Kw;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",t.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",t.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(Kw||(Kw={}));var Yw;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY",t.MODEL_ARMOR="MODEL_ARMOR",t.JAILBREAK="JAILBREAK"})(Yw||(Yw={}));var Xw;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(Xw||(Xw={}));var gd;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(gd||(gd={}));var Ww;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(Ww||(Ww={}));var jw;(function(t){t.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",t.TUNING_MODE_FULL="TUNING_MODE_FULL",t.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(jw||(jw={}));var Qw;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(Qw||(Qw={}));var av;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(av||(av={}));var Zw;(function(t){t.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",t.TUNING_TASK_I2V="TUNING_TASK_I2V",t.TUNING_TASK_T2V="TUNING_TASK_T2V",t.TUNING_TASK_R2V="TUNING_TASK_R2V"})(Zw||(Zw={}));var eT;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(eT||(eT={}));var tT;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(tT||(tT={}));var nT;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(nT||(nT={}));var oT;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(oT||(oT={}));var iT;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(iT||(iT={}));var rT;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE",t.VALIDATED="VALIDATED"})(rT||(rT={}));var sT;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(sT||(sT={}));var aT;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(aT||(aT={}));var lT;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(lT||(lT={}));var uT;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(uT||(uT={}));var cT;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(cT||(cT={}));var fT;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(fT||(fT={}));var dT;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(dT||(dT={}));var pT;(function(t){t.FOREGROUND="FOREGROUND",t.BACKGROUND="BACKGROUND",t.PROMPT="PROMPT",t.SEMANTIC="SEMANTIC",t.INTERACTIVE="INTERACTIVE"})(pT||(pT={}));var hT;(function(t){t.ASSET="ASSET",t.STYLE="STYLE"})(hT||(hT={}));var mT;(function(t){t.INSERT="INSERT",t.REMOVE="REMOVE",t.REMOVE_STATIC="REMOVE_STATIC",t.OUTPAINT="OUTPAINT"})(mT||(mT={}));var gT;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(gT||(gT={}));var vT;(function(t){t.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",t.PREFERENCE_TUNING="PREFERENCE_TUNING"})(vT||(vT={}));var yT;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.STATE_PENDING="STATE_PENDING",t.STATE_ACTIVE="STATE_ACTIVE",t.STATE_FAILED="STATE_FAILED"})(yT||(yT={}));var _T;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(_T||(_T={}));var ST;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED"})(ST||(ST={}));var ET;(function(t){t.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.RESPONSE_REJECTED="RESPONSE_REJECTED",t.NEED_MORE_INPUT="NEED_MORE_INPUT"})(ET||(ET={}));var bT;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(bT||(bT={}));var wT;(function(t){t.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",t.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",t.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(wT||(wT={}));var TT;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(TT||(TT={}));var CT;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(CT||(CT={}));var AT;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(AT||(AT={}));var xT;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(xT||(xT={}));var RT;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(RT||(RT={}));var MT;(function(t){t.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",t.QUALITY="QUALITY",t.DIVERSITY="DIVERSITY",t.VOCALIZATION="VOCALIZATION"})(MT||(MT={}));var oa;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(oa||(oa={}));class lv{constructor(e){const n={};for(const o of e.headers.entries())n[o[0]]=o[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class Nl{get text(){var e,n,o,r,a,u,c,p;if(((r=(o=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||o===void 0?void 0:o.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let d="",m=!1;const y=[];for(const S of(p=(c=(u=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||u===void 0?void 0:u.content)===null||c===void 0?void 0:c.parts)!==null&&p!==void 0?p:[]){for(const[E,T]of Object.entries(S))E!=="text"&&E!=="thought"&&E!=="thoughtSignature"&&(T!==null||T!==void 0)&&y.push(E);if(typeof S.text=="string"){if(typeof S.thought=="boolean"&&S.thought)continue;m=!0,d+=S.text}}return y.length>0&&console.warn(`there are non-text parts ${y} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),m?d:void 0}get data(){var e,n,o,r,a,u,c,p;if(((r=(o=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||o===void 0?void 0:o.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let d="";const m=[];for(const y of(p=(c=(u=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||u===void 0?void 0:u.content)===null||c===void 0?void 0:c.parts)!==null&&p!==void 0?p:[]){for(const[S,E]of Object.entries(y))S!=="inlineData"&&(E!==null||E!==void 0)&&m.push(S);y.inlineData&&typeof y.inlineData.data=="string"&&(d+=atob(y.inlineData.data))}return m.length>0&&console.warn(`there are non-data parts ${m} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),d.length>0?btoa(d):void 0}get functionCalls(){var e,n,o,r,a,u,c,p;if(((r=(o=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||o===void 0?void 0:o.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const d=(p=(c=(u=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||u===void 0?void 0:u.content)===null||c===void 0?void 0:c.parts)===null||p===void 0?void 0:p.filter(m=>m.functionCall).map(m=>m.functionCall).filter(m=>m!==void 0);if(d?.length!==0)return d}get executableCode(){var e,n,o,r,a,u,c,p,d;if(((r=(o=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||o===void 0?void 0:o.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const m=(p=(c=(u=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||u===void 0?void 0:u.content)===null||c===void 0?void 0:c.parts)===null||p===void 0?void 0:p.filter(y=>y.executableCode).map(y=>y.executableCode).filter(y=>y!==void 0);if(m?.length!==0)return(d=m?.[0])===null||d===void 0?void 0:d.code}get codeExecutionResult(){var e,n,o,r,a,u,c,p,d;if(((r=(o=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||o===void 0?void 0:o.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const m=(p=(c=(u=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||u===void 0?void 0:u.content)===null||c===void 0?void 0:c.parts)===null||p===void 0?void 0:p.filter(y=>y.codeExecutionResult).map(y=>y.codeExecutionResult).filter(y=>y!==void 0);if(m?.length!==0)return(d=m?.[0])===null||d===void 0?void 0:d.output}}class NT{}class IT{}class OH{}class PH{}class LH{}class UH{}class DT{}class OT{}class PT{}class kH{}class vd{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const o=new vd;let r;const a=e;return n?r=EH(a):r=SH(a),Object.assign(o,r),o}}class LT{}class UT{}class kT{}class BT{}class BH{}class HH{}class GH{}class Ay{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const o=new Ay,a=RH(e);return Object.assign(o,a),o}}class $H{}class FH{}class VH{}class HT{}class zH{get text(){var e,n,o;let r="",a=!1;const u=[];for(const c of(o=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&o!==void 0?o:[]){for(const[p,d]of Object.entries(c))p!=="text"&&p!=="thought"&&d!==null&&u.push(p);if(typeof c.text=="string"){if(typeof c.thought=="boolean"&&c.thought)continue;a=!0,r+=c.text}}return u.length>0&&console.warn(`there are non-text parts ${u} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),a?r:void 0}get data(){var e,n,o;let r="";const a=[];for(const u of(o=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&o!==void 0?o:[]){for(const[c,p]of Object.entries(u))c!=="inlineData"&&p!==null&&a.push(c);u.inlineData&&typeof u.inlineData.data=="string"&&(r+=atob(u.inlineData.data))}return a.length>0&&console.warn(`there are non-data parts ${a} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),r.length>0?btoa(r):void 0}}class qH{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class xy{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const o=new xy,a=YR(e);return Object.assign(o,a),o}}function Fe(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function XR(t,e){const n=Fe(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function WR(t){return Array.isArray(t)?t.map(e=>yd(e)):[yd(t)]}function yd(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function jR(t){const e=yd(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function QR(t){const e=yd(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function GT(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function ZR(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>GT(e)):[GT(t)]}function uv(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function $T(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function FT(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function Lt(t){if(t==null)throw new Error("ContentUnion is required");return uv(t)?t:{role:"user",parts:ZR(t)}}function Ry(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{const o=Lt(n);return o.parts&&o.parts.length>0&&o.parts[0].text!==void 0?[o.parts[0].text]:[]});if(t.isVertexAI()){const n=Lt(e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>Lt(n)):[Lt(e)]}function Hn(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if($T(t)||FT(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[Lt(t)]}const e=[],n=[],o=uv(t[0]);for(const r of t){const a=uv(r);if(a!=o)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(a)e.push(r);else{if($T(r)||FT(r))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(r)}}return o||e.push({role:"user",parts:ZR(n)}),e}function JH(t,e){t.includes("null")&&(e.nullable=!0);const n=t.filter(o=>o!=="null");if(n.length===1)e.type=Object.values(Wi).includes(n[0].toUpperCase())?n[0].toUpperCase():Wi.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const o of n)e.anyOf.push({type:Object.values(Wi).includes(o.toUpperCase())?o.toUpperCase():Wi.TYPE_UNSPECIFIED})}}function sa(t){const e={},n=["items"],o=["anyOf"],r=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const a=t.anyOf;a!=null&&a.length==2&&(a[0].type==="null"?(e.nullable=!0,t=a[1]):a[1].type==="null"&&(e.nullable=!0,t=a[0])),t.type instanceof Array&&JH(t.type,e);for(const[u,c]of Object.entries(t))if(c!=null)if(u=="type"){if(c==="null")throw new Error("type: null can not be the only possible type for the field.");if(c instanceof Array)continue;e.type=Object.values(Wi).includes(c.toUpperCase())?c.toUpperCase():Wi.TYPE_UNSPECIFIED}else if(n.includes(u))e[u]=sa(c);else if(o.includes(u)){const p=[];for(const d of c){if(d.type=="null"){e.nullable=!0;continue}p.push(sa(d))}e[u]=p}else if(r.includes(u)){const p={};for(const[d,m]of Object.entries(c))p[d]=sa(m);e[u]=p}else{if(u==="additionalProperties")continue;e[u]=c}return e}function My(t){return sa(t)}function Ny(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function Iy(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function wa(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=sa(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=sa(e.response));return t}function Ta(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const n of t)e.push(n);return e}function KH(t,e,n,o=1){const r=!e.startsWith(`${n}/`)&&e.split("/").length===o;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:r?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:r?`${n}/${e}`:e}function gi(t,e){if(typeof e!="string")throw new Error("name must be a string");return KH(t,e,"cachedContents")}function eM(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function lr(t){return Cy(t)}function YH(t){return t!=null&&typeof t=="object"&&"name"in t}function XH(t){return t!=null&&typeof t=="object"&&"video"in t}function WH(t){return t!=null&&typeof t=="object"&&"uri"in t}function tM(t){var e;let n;if(YH(t)&&(n=t.name),!(WH(t)&&(n=t.uri,n===void 0))&&!(XH(t)&&(n=(e=t.video)===null||e===void 0?void 0:e.uri,n===void 0))){if(typeof t=="string"&&(n=t),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const r=n.split("files/")[1].match(/[a-z0-9]+/);if(r===null)throw new Error(`Could not extract file name from URI ${n}`);n=r[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function nM(t,e){let n;return t.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function oM(t){for(const e of["models","tunedModels","publisherModels"])if(jH(t,e))return t[e];return[]}function jH(t,e){return t!==null&&typeof t=="object"&&e in t}function QH(t,e={}){const n=t,o={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(o.responseJsonSchema=n.outputSchema),e.behavior&&(o.behavior=e.behavior),{functionDeclarations:[o]}}function ZH(t,e={}){const n=[],o=new Set;for(const r of t){const a=r.name;if(o.has(a))throw new Error(`Duplicate function name ${a} found in MCP tools. Please ensure function names are unique.`);o.add(a);const u=QH(r,e);u.functionDeclarations&&n.push(...u.functionDeclarations)}return{functionDeclarations:n}}function iM(t,e){let n;if(typeof e=="string")if(t.isVertexAI())if(e.startsWith("gs://"))n={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))n={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))n={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(t.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:e}}else n=e;const o=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,r=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(t.isVertexAI()){if(r>0||o!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(o>0||r!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function eG(t){if(typeof t!="string")return t;const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function rM(t){if(typeof t!="object"||t===null)return{};const e=t,n=e.inlinedResponses;if(typeof n!="object"||n===null)return t;const r=n.inlinedResponses;if(!Array.isArray(r)||r.length===0)return t;let a=!1;for(const u of r){if(typeof u!="object"||u===null)continue;const p=u.response;if(typeof p!="object"||p===null)continue;if(p.embedding!==void 0){a=!0;break}}return a&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),t}function Ca(t,e){const n=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function sM(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}function tG(t){const e={},n=h(t,["responsesFile"]);n!=null&&g(e,["fileName"],n);const o=h(t,["inlinedResponses","inlinedResponses"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(u=>LG(u))),g(e,["inlinedResponses"],a)}const r=h(t,["inlinedEmbedContentResponses","inlinedResponses"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(u=>u)),g(e,["inlinedEmbedContentResponses"],a)}return e}function nG(t){const e={},n=h(t,["predictionsFormat"]);n!=null&&g(e,["format"],n);const o=h(t,["gcsDestination","outputUriPrefix"]);o!=null&&g(e,["gcsUri"],o);const r=h(t,["bigqueryDestination","outputUri"]);return r!=null&&g(e,["bigqueryUri"],r),e}function oG(t){const e={},n=h(t,["format"]);n!=null&&g(e,["predictionsFormat"],n);const o=h(t,["gcsUri"]);o!=null&&g(e,["gcsDestination","outputUriPrefix"],o);const r=h(t,["bigqueryUri"]);if(r!=null&&g(e,["bigqueryDestination","outputUri"],r),h(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(h(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(h(t,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function Vf(t){const e={},n=h(t,["name"]);n!=null&&g(e,["name"],n);const o=h(t,["metadata","displayName"]);o!=null&&g(e,["displayName"],o);const r=h(t,["metadata","state"]);r!=null&&g(e,["state"],sM(r));const a=h(t,["metadata","createTime"]);a!=null&&g(e,["createTime"],a);const u=h(t,["metadata","endTime"]);u!=null&&g(e,["endTime"],u);const c=h(t,["metadata","updateTime"]);c!=null&&g(e,["updateTime"],c);const p=h(t,["metadata","model"]);p!=null&&g(e,["model"],p);const d=h(t,["metadata","output"]);return d!=null&&g(e,["dest"],tG(rM(d))),e}function cv(t){const e={},n=h(t,["name"]);n!=null&&g(e,["name"],n);const o=h(t,["displayName"]);o!=null&&g(e,["displayName"],o);const r=h(t,["state"]);r!=null&&g(e,["state"],sM(r));const a=h(t,["error"]);a!=null&&g(e,["error"],a);const u=h(t,["createTime"]);u!=null&&g(e,["createTime"],u);const c=h(t,["startTime"]);c!=null&&g(e,["startTime"],c);const p=h(t,["endTime"]);p!=null&&g(e,["endTime"],p);const d=h(t,["updateTime"]);d!=null&&g(e,["updateTime"],d);const m=h(t,["model"]);m!=null&&g(e,["model"],m);const y=h(t,["inputConfig"]);y!=null&&g(e,["src"],iG(y));const S=h(t,["outputConfig"]);S!=null&&g(e,["dest"],nG(rM(S)));const E=h(t,["completionStats"]);return E!=null&&g(e,["completionStats"],E),e}function iG(t){const e={},n=h(t,["instancesFormat"]);n!=null&&g(e,["format"],n);const o=h(t,["gcsSource","uris"]);o!=null&&g(e,["gcsUri"],o);const r=h(t,["bigquerySource","inputUri"]);return r!=null&&g(e,["bigqueryUri"],r),e}function rG(t,e){const n={};if(h(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(h(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(h(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const o=h(e,["fileName"]);o!=null&&g(n,["fileName"],o);const r=h(e,["inlinedRequests"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(u=>PG(t,u))),g(n,["requests","requests"],a)}return n}function sG(t){const e={},n=h(t,["format"]);n!=null&&g(e,["instancesFormat"],n);const o=h(t,["gcsUri"]);o!=null&&g(e,["gcsSource","uris"],o);const r=h(t,["bigqueryUri"]);if(r!=null&&g(e,["bigquerySource","inputUri"],r),h(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(h(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function aG(t){const e={},n=h(t,["data"]);if(n!=null&&g(e,["data"],n),h(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=h(t,["mimeType"]);return o!=null&&g(e,["mimeType"],o),e}function lG(t,e){const n={},o=h(e,["name"]);return o!=null&&g(n,["_url","name"],Ca(t,o)),n}function uG(t,e){const n={},o=h(e,["name"]);return o!=null&&g(n,["_url","name"],Ca(t,o)),n}function cG(t){const e={},n=h(t,["content"]);n!=null&&g(e,["content"],n);const o=h(t,["citationMetadata"]);o!=null&&g(e,["citationMetadata"],fG(o));const r=h(t,["tokenCount"]);r!=null&&g(e,["tokenCount"],r);const a=h(t,["finishReason"]);a!=null&&g(e,["finishReason"],a);const u=h(t,["avgLogprobs"]);u!=null&&g(e,["avgLogprobs"],u);const c=h(t,["groundingMetadata"]);c!=null&&g(e,["groundingMetadata"],c);const p=h(t,["index"]);p!=null&&g(e,["index"],p);const d=h(t,["logprobsResult"]);d!=null&&g(e,["logprobsResult"],d);const m=h(t,["safetyRatings"]);if(m!=null){let S=m;Array.isArray(S)&&(S=S.map(E=>E)),g(e,["safetyRatings"],S)}const y=h(t,["urlContextMetadata"]);return y!=null&&g(e,["urlContextMetadata"],y),e}function fG(t){const e={},n=h(t,["citationSources"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(r=>r)),g(e,["citations"],o)}return e}function aM(t){const e={},n=h(t,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(a=>FG(a))),g(e,["parts"],r)}const o=h(t,["role"]);return o!=null&&g(e,["role"],o),e}function dG(t,e){const n={},o=h(t,["displayName"]);if(e!==void 0&&o!=null&&g(e,["batch","displayName"],o),h(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function pG(t,e){const n={},o=h(t,["displayName"]);e!==void 0&&o!=null&&g(e,["displayName"],o);const r=h(t,["dest"]);return e!==void 0&&r!=null&&g(e,["outputConfig"],oG(eG(r))),n}function VT(t,e){const n={},o=h(e,["model"]);o!=null&&g(n,["_url","model"],Fe(t,o));const r=h(e,["src"]);r!=null&&g(n,["batch","inputConfig"],rG(t,iM(t,r)));const a=h(e,["config"]);return a!=null&&dG(a,n),n}function hG(t,e){const n={},o=h(e,["model"]);o!=null&&g(n,["model"],Fe(t,o));const r=h(e,["src"]);r!=null&&g(n,["inputConfig"],sG(iM(t,r)));const a=h(e,["config"]);return a!=null&&pG(a,n),n}function mG(t,e){const n={},o=h(t,["displayName"]);return e!==void 0&&o!=null&&g(e,["batch","displayName"],o),n}function gG(t,e){const n={},o=h(e,["model"]);o!=null&&g(n,["_url","model"],Fe(t,o));const r=h(e,["src"]);r!=null&&g(n,["batch","inputConfig"],wG(t,r));const a=h(e,["config"]);return a!=null&&mG(a,n),n}function vG(t,e){const n={},o=h(e,["name"]);return o!=null&&g(n,["_url","name"],Ca(t,o)),n}function yG(t,e){const n={},o=h(e,["name"]);return o!=null&&g(n,["_url","name"],Ca(t,o)),n}function _G(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const o=h(t,["name"]);o!=null&&g(e,["name"],o);const r=h(t,["done"]);r!=null&&g(e,["done"],r);const a=h(t,["error"]);return a!=null&&g(e,["error"],a),e}function SG(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const o=h(t,["name"]);o!=null&&g(e,["name"],o);const r=h(t,["done"]);r!=null&&g(e,["done"],r);const a=h(t,["error"]);return a!=null&&g(e,["error"],a),e}function EG(t,e){const n={},o=h(e,["contents"]);if(o!=null){let a=Ry(t,o);Array.isArray(a)&&(a=a.map(u=>u)),g(n,["requests[]","request","content"],a)}const r=h(e,["config"]);return r!=null&&(g(n,["_self"],bG(r,n)),yH(n,{"requests[].*":"requests[].request.*"})),n}function bG(t,e){const n={},o=h(t,["taskType"]);e!==void 0&&o!=null&&g(e,["requests[]","taskType"],o);const r=h(t,["title"]);e!==void 0&&r!=null&&g(e,["requests[]","title"],r);const a=h(t,["outputDimensionality"]);if(e!==void 0&&a!=null&&g(e,["requests[]","outputDimensionality"],a),h(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(h(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function wG(t,e){const n={},o=h(e,["fileName"]);o!=null&&g(n,["file_name"],o);const r=h(e,["inlinedRequests"]);return r!=null&&g(n,["requests"],EG(t,r)),n}function TG(t){const e={};if(h(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=h(t,["fileUri"]);n!=null&&g(e,["fileUri"],n);const o=h(t,["mimeType"]);return o!=null&&g(e,["mimeType"],o),e}function CG(t){const e={},n=h(t,["id"]);n!=null&&g(e,["id"],n);const o=h(t,["args"]);o!=null&&g(e,["args"],o);const r=h(t,["name"]);if(r!=null&&g(e,["name"],r),h(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(h(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function AG(t){const e={},n=h(t,["mode"]);n!=null&&g(e,["mode"],n);const o=h(t,["allowedFunctionNames"]);if(o!=null&&g(e,["allowedFunctionNames"],o),h(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function xG(t,e,n){const o={},r=h(e,["systemInstruction"]);n!==void 0&&r!=null&&g(n,["systemInstruction"],aM(Lt(r)));const a=h(e,["temperature"]);a!=null&&g(o,["temperature"],a);const u=h(e,["topP"]);u!=null&&g(o,["topP"],u);const c=h(e,["topK"]);c!=null&&g(o,["topK"],c);const p=h(e,["candidateCount"]);p!=null&&g(o,["candidateCount"],p);const d=h(e,["maxOutputTokens"]);d!=null&&g(o,["maxOutputTokens"],d);const m=h(e,["stopSequences"]);m!=null&&g(o,["stopSequences"],m);const y=h(e,["responseLogprobs"]);y!=null&&g(o,["responseLogprobs"],y);const S=h(e,["logprobs"]);S!=null&&g(o,["logprobs"],S);const E=h(e,["presencePenalty"]);E!=null&&g(o,["presencePenalty"],E);const T=h(e,["frequencyPenalty"]);T!=null&&g(o,["frequencyPenalty"],T);const C=h(e,["seed"]);C!=null&&g(o,["seed"],C);const x=h(e,["responseMimeType"]);x!=null&&g(o,["responseMimeType"],x);const M=h(e,["responseSchema"]);M!=null&&g(o,["responseSchema"],My(M));const I=h(e,["responseJsonSchema"]);if(I!=null&&g(o,["responseJsonSchema"],I),h(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(h(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const N=h(e,["safetySettings"]);if(n!==void 0&&N!=null){let oe=N;Array.isArray(oe)&&(oe=oe.map(ae=>VG(ae))),g(n,["safetySettings"],oe)}const D=h(e,["tools"]);if(n!==void 0&&D!=null){let oe=Ta(D);Array.isArray(oe)&&(oe=oe.map(ae=>qG(wa(ae)))),g(n,["tools"],oe)}const U=h(e,["toolConfig"]);if(n!==void 0&&U!=null&&g(n,["toolConfig"],zG(U)),h(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const k=h(e,["cachedContent"]);n!==void 0&&k!=null&&g(n,["cachedContent"],gi(t,k));const O=h(e,["responseModalities"]);O!=null&&g(o,["responseModalities"],O);const q=h(e,["mediaResolution"]);q!=null&&g(o,["mediaResolution"],q);const J=h(e,["speechConfig"]);if(J!=null&&g(o,["speechConfig"],Ny(J)),h(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const X=h(e,["thinkingConfig"]);X!=null&&g(o,["thinkingConfig"],X);const j=h(e,["imageConfig"]);j!=null&&g(o,["imageConfig"],OG(j));const re=h(e,["enableEnhancedCivicAnswers"]);return re!=null&&g(o,["enableEnhancedCivicAnswers"],re),o}function RG(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const o=h(t,["candidates"]);if(o!=null){let p=o;Array.isArray(p)&&(p=p.map(d=>cG(d))),g(e,["candidates"],p)}const r=h(t,["modelVersion"]);r!=null&&g(e,["modelVersion"],r);const a=h(t,["promptFeedback"]);a!=null&&g(e,["promptFeedback"],a);const u=h(t,["responseId"]);u!=null&&g(e,["responseId"],u);const c=h(t,["usageMetadata"]);return c!=null&&g(e,["usageMetadata"],c),e}function MG(t,e){const n={},o=h(e,["name"]);return o!=null&&g(n,["_url","name"],Ca(t,o)),n}function NG(t,e){const n={},o=h(e,["name"]);return o!=null&&g(n,["_url","name"],Ca(t,o)),n}function IG(t){const e={};if(h(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=h(t,["enableWidget"]);return n!=null&&g(e,["enableWidget"],n),e}function DG(t){const e={};if(h(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(h(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=h(t,["timeRangeFilter"]);return n!=null&&g(e,["timeRangeFilter"],n),e}function OG(t){const e={},n=h(t,["aspectRatio"]);n!=null&&g(e,["aspectRatio"],n);const o=h(t,["imageSize"]);if(o!=null&&g(e,["imageSize"],o),h(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(h(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function PG(t,e){const n={},o=h(e,["model"]);o!=null&&g(n,["request","model"],Fe(t,o));const r=h(e,["contents"]);if(r!=null){let c=Hn(r);Array.isArray(c)&&(c=c.map(p=>aM(p))),g(n,["request","contents"],c)}const a=h(e,["metadata"]);a!=null&&g(n,["metadata"],a);const u=h(e,["config"]);return u!=null&&g(n,["request","generationConfig"],xG(t,u,h(n,["request"],{}))),n}function LG(t){const e={},n=h(t,["response"]);n!=null&&g(e,["response"],RG(n));const o=h(t,["error"]);return o!=null&&g(e,["error"],o),e}function UG(t,e){const n={},o=h(t,["pageSize"]);e!==void 0&&o!=null&&g(e,["_query","pageSize"],o);const r=h(t,["pageToken"]);if(e!==void 0&&r!=null&&g(e,["_query","pageToken"],r),h(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function kG(t,e){const n={},o=h(t,["pageSize"]);e!==void 0&&o!=null&&g(e,["_query","pageSize"],o);const r=h(t,["pageToken"]);e!==void 0&&r!=null&&g(e,["_query","pageToken"],r);const a=h(t,["filter"]);return e!==void 0&&a!=null&&g(e,["_query","filter"],a),n}function BG(t){const e={},n=h(t,["config"]);return n!=null&&UG(n,e),e}function HG(t){const e={},n=h(t,["config"]);return n!=null&&kG(n,e),e}function GG(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const o=h(t,["nextPageToken"]);o!=null&&g(e,["nextPageToken"],o);const r=h(t,["operations"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(u=>Vf(u))),g(e,["batchJobs"],a)}return e}function $G(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const o=h(t,["nextPageToken"]);o!=null&&g(e,["nextPageToken"],o);const r=h(t,["batchPredictionJobs"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(u=>cv(u))),g(e,["batchJobs"],a)}return e}function FG(t){const e={},n=h(t,["mediaResolution"]);n!=null&&g(e,["mediaResolution"],n);const o=h(t,["codeExecutionResult"]);o!=null&&g(e,["codeExecutionResult"],o);const r=h(t,["executableCode"]);r!=null&&g(e,["executableCode"],r);const a=h(t,["fileData"]);a!=null&&g(e,["fileData"],TG(a));const u=h(t,["functionCall"]);u!=null&&g(e,["functionCall"],CG(u));const c=h(t,["functionResponse"]);c!=null&&g(e,["functionResponse"],c);const p=h(t,["inlineData"]);p!=null&&g(e,["inlineData"],aG(p));const d=h(t,["text"]);d!=null&&g(e,["text"],d);const m=h(t,["thought"]);m!=null&&g(e,["thought"],m);const y=h(t,["thoughtSignature"]);y!=null&&g(e,["thoughtSignature"],y);const S=h(t,["videoMetadata"]);return S!=null&&g(e,["videoMetadata"],S),e}function VG(t){const e={},n=h(t,["category"]);if(n!=null&&g(e,["category"],n),h(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const o=h(t,["threshold"]);return o!=null&&g(e,["threshold"],o),e}function zG(t){const e={},n=h(t,["functionCallingConfig"]);n!=null&&g(e,["functionCallingConfig"],AG(n));const o=h(t,["retrievalConfig"]);return o!=null&&g(e,["retrievalConfig"],o),e}function qG(t){const e={},n=h(t,["functionDeclarations"]);if(n!=null){let m=n;Array.isArray(m)&&(m=m.map(y=>y)),g(e,["functionDeclarations"],m)}if(h(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=h(t,["googleSearchRetrieval"]);o!=null&&g(e,["googleSearchRetrieval"],o);const r=h(t,["computerUse"]);r!=null&&g(e,["computerUse"],r);const a=h(t,["fileSearch"]);a!=null&&g(e,["fileSearch"],a);const u=h(t,["codeExecution"]);if(u!=null&&g(e,["codeExecution"],u),h(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const c=h(t,["googleMaps"]);c!=null&&g(e,["googleMaps"],IG(c));const p=h(t,["googleSearch"]);p!=null&&g(e,["googleSearch"],DG(p));const d=h(t,["urlContext"]);return d!=null&&g(e,["urlContext"],d),e}var fi;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents",t.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",t.PAGED_ITEM_DOCUMENTS="documents"})(fi||(fi={}));class Zr{constructor(e,n,o,r){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,o,r)}init(e,n,o){var r,a;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n?.sdkHttpResponse,this.idxInternal=0;let u={config:{}};!o||Object.keys(o).length===0?u={config:{}}:typeof o=="object"?u=Object.assign({},o):u=o,u.config&&(u.config.pageToken=n.nextPageToken),this.paramsInternal=u,this.pageInternalSize=(a=(r=u.config)===null||r===void 0?void 0:r.pageSize)!==null&&a!==void 0?a:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}let JG=class extends mi{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Zr(fi.PAGED_ITEM_BATCH_JOBS,o=>this.listInternal(o),await this.listInternal(n),n),this.create=async n=>(this.apiClient.isVertexAI()&&(n.config=this.formatDestination(n.src,n.config)),this.createInternal(n)),this.createEmbeddings=async n=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(n)}}createInlinedGenerateContentRequest(e){const n=VT(this.apiClient,e),o=n._url,r=fe("{model}:batchGenerateContent",o),c=n.batch.inputConfig.requests,p=c.requests,d=[];for(const m of p){const y=Object.assign({},m);if(y.systemInstruction){const S=y.systemInstruction;delete y.systemInstruction;const E=y.request;E.systemInstruction=S,y.request=E}d.push(y)}return c.requests=d,delete n.config,delete n._url,delete n._query,{path:r,body:n}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,n){const o=n?Object.assign({},n):{},r=Date.now().toString();if(o.displayName||(o.displayName=`genaiBatchJob_${r}`),o.dest===void 0){const a=this.getGcsUri(e),u=this.getBigqueryUri(e);if(a)a.endsWith(".jsonl")?o.dest=`${a.slice(0,-6)}/dest`:o.dest=`${a}_dest_${r}`;else if(u)o.dest=`${u}_dest_${r}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return o}async createInternal(e){var n,o,r,a;let u,c="",p={};if(this.apiClient.isVertexAI()){const d=hG(this.apiClient,e);return c=fe("batchPredictionJobs",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json()),u.then(m=>cv(m))}else{const d=VT(this.apiClient,e);return c=fe("{model}:batchGenerateContent",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json()),u.then(m=>Vf(m))}}async createEmbeddingsInternal(e){var n,o;let r,a="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=gG(this.apiClient,e);return a=fe("{model}:asyncBatchEmbedContent",c._url),u=c._query,delete c._url,delete c._query,r=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json()),r.then(p=>Vf(p))}}async get(e){var n,o,r,a;let u,c="",p={};if(this.apiClient.isVertexAI()){const d=NG(this.apiClient,e);return c=fe("batchPredictionJobs/{name}",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json()),u.then(m=>cv(m))}else{const d=MG(this.apiClient,e);return c=fe("batches/{name}",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json()),u.then(m=>Vf(m))}}async cancel(e){var n,o,r,a;let u="",c={};if(this.apiClient.isVertexAI()){const p=uG(this.apiClient,e);u=fe("batchPredictionJobs/{name}:cancel",p._url),c=p._query,delete p._url,delete p._query,await this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}else{const p=lG(this.apiClient,e);u=fe("batches/{name}:cancel",p._url),c=p._query,delete p._url,delete p._query,await this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal})}}async listInternal(e){var n,o,r,a;let u,c="",p={};if(this.apiClient.isVertexAI()){const d=HG(e);return c=fe("batchPredictionJobs",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json().then(y=>{const S=y;return S.sdkHttpResponse={headers:m.headers},S})),u.then(m=>{const y=$G(m),S=new HT;return Object.assign(S,y),S})}else{const d=BG(e);return c=fe("batches",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json().then(y=>{const S=y;return S.sdkHttpResponse={headers:m.headers},S})),u.then(m=>{const y=GG(m),S=new HT;return Object.assign(S,y),S})}}async delete(e){var n,o,r,a;let u,c="",p={};if(this.apiClient.isVertexAI()){const d=yG(this.apiClient,e);return c=fe("batchPredictionJobs/{name}",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json().then(y=>{const S=y;return S.sdkHttpResponse={headers:m.headers},S})),u.then(m=>SG(m))}else{const d=vG(this.apiClient,e);return c=fe("batches/{name}",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json().then(y=>{const S=y;return S.sdkHttpResponse={headers:m.headers},S})),u.then(m=>_G(m))}}};function KG(t){const e={},n=h(t,["data"]);if(n!=null&&g(e,["data"],n),h(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=h(t,["mimeType"]);return o!=null&&g(e,["mimeType"],o),e}function zT(t){const e={},n=h(t,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(a=>g$(a))),g(e,["parts"],r)}const o=h(t,["role"]);return o!=null&&g(e,["role"],o),e}function YG(t,e){const n={},o=h(t,["ttl"]);e!==void 0&&o!=null&&g(e,["ttl"],o);const r=h(t,["expireTime"]);e!==void 0&&r!=null&&g(e,["expireTime"],r);const a=h(t,["displayName"]);e!==void 0&&a!=null&&g(e,["displayName"],a);const u=h(t,["contents"]);if(e!==void 0&&u!=null){let m=Hn(u);Array.isArray(m)&&(m=m.map(y=>zT(y))),g(e,["contents"],m)}const c=h(t,["systemInstruction"]);e!==void 0&&c!=null&&g(e,["systemInstruction"],zT(Lt(c)));const p=h(t,["tools"]);if(e!==void 0&&p!=null){let m=p;Array.isArray(m)&&(m=m.map(y=>y$(y))),g(e,["tools"],m)}const d=h(t,["toolConfig"]);if(e!==void 0&&d!=null&&g(e,["toolConfig"],v$(d)),h(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function XG(t,e){const n={},o=h(t,["ttl"]);e!==void 0&&o!=null&&g(e,["ttl"],o);const r=h(t,["expireTime"]);e!==void 0&&r!=null&&g(e,["expireTime"],r);const a=h(t,["displayName"]);e!==void 0&&a!=null&&g(e,["displayName"],a);const u=h(t,["contents"]);if(e!==void 0&&u!=null){let y=Hn(u);Array.isArray(y)&&(y=y.map(S=>S)),g(e,["contents"],y)}const c=h(t,["systemInstruction"]);e!==void 0&&c!=null&&g(e,["systemInstruction"],Lt(c));const p=h(t,["tools"]);if(e!==void 0&&p!=null){let y=p;Array.isArray(y)&&(y=y.map(S=>_$(S))),g(e,["tools"],y)}const d=h(t,["toolConfig"]);e!==void 0&&d!=null&&g(e,["toolConfig"],d);const m=h(t,["kmsKeyName"]);return e!==void 0&&m!=null&&g(e,["encryption_spec","kmsKeyName"],m),n}function WG(t,e){const n={},o=h(e,["model"]);o!=null&&g(n,["model"],XR(t,o));const r=h(e,["config"]);return r!=null&&YG(r,n),n}function jG(t,e){const n={},o=h(e,["model"]);o!=null&&g(n,["model"],XR(t,o));const r=h(e,["config"]);return r!=null&&XG(r,n),n}function QG(t,e){const n={},o=h(e,["name"]);return o!=null&&g(n,["_url","name"],gi(t,o)),n}function ZG(t,e){const n={},o=h(e,["name"]);return o!=null&&g(n,["_url","name"],gi(t,o)),n}function e$(t){const e={},n=h(t,["sdkHttpResponse"]);return n!=null&&g(e,["sdkHttpResponse"],n),e}function t$(t){const e={},n=h(t,["sdkHttpResponse"]);return n!=null&&g(e,["sdkHttpResponse"],n),e}function n$(t){const e={};if(h(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=h(t,["fileUri"]);n!=null&&g(e,["fileUri"],n);const o=h(t,["mimeType"]);return o!=null&&g(e,["mimeType"],o),e}function o$(t){const e={},n=h(t,["id"]);n!=null&&g(e,["id"],n);const o=h(t,["args"]);o!=null&&g(e,["args"],o);const r=h(t,["name"]);if(r!=null&&g(e,["name"],r),h(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(h(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function i$(t){const e={},n=h(t,["mode"]);n!=null&&g(e,["mode"],n);const o=h(t,["allowedFunctionNames"]);if(o!=null&&g(e,["allowedFunctionNames"],o),h(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function r$(t){const e={};if(h(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=h(t,["description"]);n!=null&&g(e,["description"],n);const o=h(t,["name"]);o!=null&&g(e,["name"],o);const r=h(t,["parameters"]);r!=null&&g(e,["parameters"],r);const a=h(t,["parametersJsonSchema"]);a!=null&&g(e,["parametersJsonSchema"],a);const u=h(t,["response"]);u!=null&&g(e,["response"],u);const c=h(t,["responseJsonSchema"]);return c!=null&&g(e,["responseJsonSchema"],c),e}function s$(t,e){const n={},o=h(e,["name"]);return o!=null&&g(n,["_url","name"],gi(t,o)),n}function a$(t,e){const n={},o=h(e,["name"]);return o!=null&&g(n,["_url","name"],gi(t,o)),n}function l$(t){const e={};if(h(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=h(t,["enableWidget"]);return n!=null&&g(e,["enableWidget"],n),e}function u$(t){const e={};if(h(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(h(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=h(t,["timeRangeFilter"]);return n!=null&&g(e,["timeRangeFilter"],n),e}function c$(t,e){const n={},o=h(t,["pageSize"]);e!==void 0&&o!=null&&g(e,["_query","pageSize"],o);const r=h(t,["pageToken"]);return e!==void 0&&r!=null&&g(e,["_query","pageToken"],r),n}function f$(t,e){const n={},o=h(t,["pageSize"]);e!==void 0&&o!=null&&g(e,["_query","pageSize"],o);const r=h(t,["pageToken"]);return e!==void 0&&r!=null&&g(e,["_query","pageToken"],r),n}function d$(t){const e={},n=h(t,["config"]);return n!=null&&c$(n,e),e}function p$(t){const e={},n=h(t,["config"]);return n!=null&&f$(n,e),e}function h$(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const o=h(t,["nextPageToken"]);o!=null&&g(e,["nextPageToken"],o);const r=h(t,["cachedContents"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(u=>u)),g(e,["cachedContents"],a)}return e}function m$(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const o=h(t,["nextPageToken"]);o!=null&&g(e,["nextPageToken"],o);const r=h(t,["cachedContents"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(u=>u)),g(e,["cachedContents"],a)}return e}function g$(t){const e={},n=h(t,["mediaResolution"]);n!=null&&g(e,["mediaResolution"],n);const o=h(t,["codeExecutionResult"]);o!=null&&g(e,["codeExecutionResult"],o);const r=h(t,["executableCode"]);r!=null&&g(e,["executableCode"],r);const a=h(t,["fileData"]);a!=null&&g(e,["fileData"],n$(a));const u=h(t,["functionCall"]);u!=null&&g(e,["functionCall"],o$(u));const c=h(t,["functionResponse"]);c!=null&&g(e,["functionResponse"],c);const p=h(t,["inlineData"]);p!=null&&g(e,["inlineData"],KG(p));const d=h(t,["text"]);d!=null&&g(e,["text"],d);const m=h(t,["thought"]);m!=null&&g(e,["thought"],m);const y=h(t,["thoughtSignature"]);y!=null&&g(e,["thoughtSignature"],y);const S=h(t,["videoMetadata"]);return S!=null&&g(e,["videoMetadata"],S),e}function v$(t){const e={},n=h(t,["functionCallingConfig"]);n!=null&&g(e,["functionCallingConfig"],i$(n));const o=h(t,["retrievalConfig"]);return o!=null&&g(e,["retrievalConfig"],o),e}function y$(t){const e={},n=h(t,["functionDeclarations"]);if(n!=null){let m=n;Array.isArray(m)&&(m=m.map(y=>y)),g(e,["functionDeclarations"],m)}if(h(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=h(t,["googleSearchRetrieval"]);o!=null&&g(e,["googleSearchRetrieval"],o);const r=h(t,["computerUse"]);r!=null&&g(e,["computerUse"],r);const a=h(t,["fileSearch"]);a!=null&&g(e,["fileSearch"],a);const u=h(t,["codeExecution"]);if(u!=null&&g(e,["codeExecution"],u),h(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const c=h(t,["googleMaps"]);c!=null&&g(e,["googleMaps"],l$(c));const p=h(t,["googleSearch"]);p!=null&&g(e,["googleSearch"],u$(p));const d=h(t,["urlContext"]);return d!=null&&g(e,["urlContext"],d),e}function _$(t){const e={},n=h(t,["functionDeclarations"]);if(n!=null){let y=n;Array.isArray(y)&&(y=y.map(S=>r$(S))),g(e,["functionDeclarations"],y)}const o=h(t,["retrieval"]);o!=null&&g(e,["retrieval"],o);const r=h(t,["googleSearchRetrieval"]);r!=null&&g(e,["googleSearchRetrieval"],r);const a=h(t,["computerUse"]);if(a!=null&&g(e,["computerUse"],a),h(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const u=h(t,["codeExecution"]);u!=null&&g(e,["codeExecution"],u);const c=h(t,["enterpriseWebSearch"]);c!=null&&g(e,["enterpriseWebSearch"],c);const p=h(t,["googleMaps"]);p!=null&&g(e,["googleMaps"],p);const d=h(t,["googleSearch"]);d!=null&&g(e,["googleSearch"],d);const m=h(t,["urlContext"]);return m!=null&&g(e,["urlContext"],m),e}function S$(t,e){const n={},o=h(t,["ttl"]);e!==void 0&&o!=null&&g(e,["ttl"],o);const r=h(t,["expireTime"]);return e!==void 0&&r!=null&&g(e,["expireTime"],r),n}function E$(t,e){const n={},o=h(t,["ttl"]);e!==void 0&&o!=null&&g(e,["ttl"],o);const r=h(t,["expireTime"]);return e!==void 0&&r!=null&&g(e,["expireTime"],r),n}function b$(t,e){const n={},o=h(e,["name"]);o!=null&&g(n,["_url","name"],gi(t,o));const r=h(e,["config"]);return r!=null&&S$(r,n),n}function w$(t,e){const n={},o=h(e,["name"]);o!=null&&g(n,["_url","name"],gi(t,o));const r=h(e,["config"]);return r!=null&&E$(r,n),n}class T$ extends mi{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Zr(fi.PAGED_ITEM_CACHED_CONTENTS,o=>this.listInternal(o),await this.listInternal(n),n)}async create(e){var n,o,r,a;let u,c="",p={};if(this.apiClient.isVertexAI()){const d=jG(this.apiClient,e);return c=fe("cachedContents",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json()),u.then(m=>m)}else{const d=WG(this.apiClient,e);return c=fe("cachedContents",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json()),u.then(m=>m)}}async get(e){var n,o,r,a;let u,c="",p={};if(this.apiClient.isVertexAI()){const d=a$(this.apiClient,e);return c=fe("{name}",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json()),u.then(m=>m)}else{const d=s$(this.apiClient,e);return c=fe("{name}",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json()),u.then(m=>m)}}async delete(e){var n,o,r,a;let u,c="",p={};if(this.apiClient.isVertexAI()){const d=ZG(this.apiClient,e);return c=fe("{name}",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json().then(y=>{const S=y;return S.sdkHttpResponse={headers:m.headers},S})),u.then(m=>{const y=t$(m),S=new kT;return Object.assign(S,y),S})}else{const d=QG(this.apiClient,e);return c=fe("{name}",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json().then(y=>{const S=y;return S.sdkHttpResponse={headers:m.headers},S})),u.then(m=>{const y=e$(m),S=new kT;return Object.assign(S,y),S})}}async update(e){var n,o,r,a;let u,c="",p={};if(this.apiClient.isVertexAI()){const d=w$(this.apiClient,e);return c=fe("{name}",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json()),u.then(m=>m)}else{const d=b$(this.apiClient,e);return c=fe("{name}",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json()),u.then(m=>m)}}async listInternal(e){var n,o,r,a;let u,c="",p={};if(this.apiClient.isVertexAI()){const d=p$(e);return c=fe("cachedContents",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json().then(y=>{const S=y;return S.sdkHttpResponse={headers:m.headers},S})),u.then(m=>{const y=m$(m),S=new BT;return Object.assign(S,y),S})}else{const d=d$(e);return c=fe("cachedContents",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json().then(y=>{const S=y;return S.sdkHttpResponse={headers:m.headers},S})),u.then(m=>{const y=h$(m),S=new BT;return Object.assign(S,y),S})}}}function _d(t,e){var n={};for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&e.indexOf(o)<0&&(n[o]=t[o]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,o=Object.getOwnPropertySymbols(t);r<o.length;r++)e.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(t,o[r])&&(n[o[r]]=t[o[r]]);return n}function qT(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],o=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ce(t){return this instanceof Ce?(this.v=t,this):new Ce(t)}function oo(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o=n.apply(t,e||[]),r,a=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),c("next"),c("throw"),c("return",u),r[Symbol.asyncIterator]=function(){return this},r;function u(E){return function(T){return Promise.resolve(T).then(E,y)}}function c(E,T){o[E]&&(r[E]=function(C){return new Promise(function(x,M){a.push([E,C,x,M])>1||p(E,C)})},T&&(r[E]=T(r[E])))}function p(E,T){try{d(o[E](T))}catch(C){S(a[0][3],C)}}function d(E){E.value instanceof Ce?Promise.resolve(E.value.v).then(m,y):S(a[0][2],E)}function m(E){p("next",E)}function y(E){p("throw",E)}function S(E,T){E(T),a.shift(),a.length&&p(a[0][0],a[0][1])}}function io(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof qT=="function"?qT(t):t[Symbol.iterator](),n={},o("next"),o("throw"),o("return"),n[Symbol.asyncIterator]=function(){return this},n);function o(a){n[a]=t[a]&&function(u){return new Promise(function(c,p){u=t[a](u),r(c,p,u.done,u.value)})}}function r(a,u,c,p){Promise.resolve(p).then(function(d){a({value:d,done:c})},u)}}function C$(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:lM(n)}function lM(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function A$(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function JT(t){if(t===void 0||t.length===0)return[];const e=[],n=t.length;let o=0;for(;o<n;)if(t[o].role==="user")e.push(t[o]),o++;else{const r=[];let a=!0;for(;o<n&&t[o].role==="model";)r.push(t[o]),a&&!lM(t[o])&&(a=!1),o++;a?e.push(...r):e.pop()}return e}class x${constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new R$(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}let R$=class{constructor(e,n,o,r={},a=[]){this.apiClient=e,this.modelsModule=n,this.model=o,this.config=r,this.history=a,this.sendPromise=Promise.resolve(),A$(a)}async sendMessage(e){var n;await this.sendPromise;const o=Lt(e.message),r=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(o),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var a,u,c;const p=await r,d=(u=(a=p.candidates)===null||a===void 0?void 0:a[0])===null||u===void 0?void 0:u.content,m=p.automaticFunctionCallingHistory,y=this.getHistory(!0).length;let S=[];m!=null&&(S=(c=m.slice(y))!==null&&c!==void 0?c:[]);const E=d?[d]:[];this.recordHistory(o,E,S)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),r}async sendMessageStream(e){var n;await this.sendPromise;const o=Lt(e.message),r=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(o),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=r.then(()=>{}).catch(()=>{});const a=await r;return this.processStreamResponse(a,o)}getHistory(e=!1){const n=e?JT(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){return oo(this,arguments,function*(){var r,a,u,c,p,d;const m=[];try{for(var y=!0,S=io(e),E;E=yield Ce(S.next()),r=E.done,!r;y=!0){c=E.value,y=!1;const T=c;if(C$(T)){const C=(d=(p=T.candidates)===null||p===void 0?void 0:p[0])===null||d===void 0?void 0:d.content;C!==void 0&&m.push(C)}yield yield Ce(T)}}catch(T){a={error:T}}finally{try{!y&&!r&&(u=S.return)&&(yield Ce(u.call(S)))}finally{if(a)throw a.error}}this.recordHistory(n,m)})}recordHistory(e,n,o){let r=[];n.length>0&&n.every(a=>a.role!==void 0)?r=n:r.push({role:"model",parts:[]}),o&&o.length>0?this.history.push(...JT(o)):this.history.push(e),this.history.push(...r)}};class ep extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,ep.prototype)}}function M$(t){const e={},n=h(t,["file"]);return n!=null&&g(e,["file"],n),e}function N$(t){const e={},n=h(t,["sdkHttpResponse"]);return n!=null&&g(e,["sdkHttpResponse"],n),e}function I$(t){const e={},n=h(t,["name"]);return n!=null&&g(e,["_url","file"],tM(n)),e}function D$(t){const e={},n=h(t,["sdkHttpResponse"]);return n!=null&&g(e,["sdkHttpResponse"],n),e}function O$(t){const e={},n=h(t,["name"]);return n!=null&&g(e,["_url","file"],tM(n)),e}function P$(t,e){const n={},o=h(t,["pageSize"]);e!==void 0&&o!=null&&g(e,["_query","pageSize"],o);const r=h(t,["pageToken"]);return e!==void 0&&r!=null&&g(e,["_query","pageToken"],r),n}function L$(t){const e={},n=h(t,["config"]);return n!=null&&P$(n,e),e}function U$(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const o=h(t,["nextPageToken"]);o!=null&&g(e,["nextPageToken"],o);const r=h(t,["files"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(u=>u)),g(e,["files"],a)}return e}let k$=class extends mi{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Zr(fi.PAGED_ITEM_FILES,o=>this.listInternal(o),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>n)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var n,o;let r,a="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=L$(e);return a=fe("files",c._url),u=c._query,delete c._url,delete c._query,r=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json().then(d=>{const m=d;return m.sdkHttpResponse={headers:p.headers},m})),r.then(p=>{const d=U$(p),m=new $H;return Object.assign(m,d),m})}}async createInternal(e){var n,o;let r,a="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=M$(e);return a=fe("upload/v1beta/files",c._url),u=c._query,delete c._url,delete c._query,r=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json()),r.then(p=>{const d=N$(p),m=new FH;return Object.assign(m,d),m})}}async get(e){var n,o;let r,a="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=O$(e);return a=fe("files/{file}",c._url),u=c._query,delete c._url,delete c._query,r=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json()),r.then(p=>p)}}async delete(e){var n,o;let r,a="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=I$(e);return a=fe("files/{file}",c._url),u=c._query,delete c._url,delete c._query,r=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json().then(d=>{const m=d;return m.sdkHttpResponse={headers:p.headers},m})),r.then(p=>{const d=D$(p),m=new VH;return Object.assign(m,d),m})}}};function zf(t){const e={},n=h(t,["data"]);if(n!=null&&g(e,["data"],n),h(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=h(t,["mimeType"]);return o!=null&&g(e,["mimeType"],o),e}function B$(t){const e={},n=h(t,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(a=>eF(a))),g(e,["parts"],r)}const o=h(t,["role"]);return o!=null&&g(e,["role"],o),e}function H$(t){const e={};if(h(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=h(t,["fileUri"]);n!=null&&g(e,["fileUri"],n);const o=h(t,["mimeType"]);return o!=null&&g(e,["mimeType"],o),e}function G$(t){const e={},n=h(t,["id"]);n!=null&&g(e,["id"],n);const o=h(t,["args"]);o!=null&&g(e,["args"],o);const r=h(t,["name"]);if(r!=null&&g(e,["name"],r),h(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(h(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function $$(t){const e={};if(h(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=h(t,["description"]);n!=null&&g(e,["description"],n);const o=h(t,["name"]);o!=null&&g(e,["name"],o);const r=h(t,["parameters"]);r!=null&&g(e,["parameters"],r);const a=h(t,["parametersJsonSchema"]);a!=null&&g(e,["parametersJsonSchema"],a);const u=h(t,["response"]);u!=null&&g(e,["response"],u);const c=h(t,["responseJsonSchema"]);return c!=null&&g(e,["responseJsonSchema"],c),e}function F$(t){const e={},n=h(t,["modelSelectionConfig"]);n!=null&&g(e,["modelConfig"],n);const o=h(t,["responseJsonSchema"]);o!=null&&g(e,["responseJsonSchema"],o);const r=h(t,["audioTimestamp"]);r!=null&&g(e,["audioTimestamp"],r);const a=h(t,["candidateCount"]);a!=null&&g(e,["candidateCount"],a);const u=h(t,["enableAffectiveDialog"]);u!=null&&g(e,["enableAffectiveDialog"],u);const c=h(t,["frequencyPenalty"]);c!=null&&g(e,["frequencyPenalty"],c);const p=h(t,["logprobs"]);p!=null&&g(e,["logprobs"],p);const d=h(t,["maxOutputTokens"]);d!=null&&g(e,["maxOutputTokens"],d);const m=h(t,["mediaResolution"]);m!=null&&g(e,["mediaResolution"],m);const y=h(t,["presencePenalty"]);y!=null&&g(e,["presencePenalty"],y);const S=h(t,["responseLogprobs"]);S!=null&&g(e,["responseLogprobs"],S);const E=h(t,["responseMimeType"]);E!=null&&g(e,["responseMimeType"],E);const T=h(t,["responseModalities"]);T!=null&&g(e,["responseModalities"],T);const C=h(t,["responseSchema"]);C!=null&&g(e,["responseSchema"],C);const x=h(t,["routingConfig"]);x!=null&&g(e,["routingConfig"],x);const M=h(t,["seed"]);M!=null&&g(e,["seed"],M);const I=h(t,["speechConfig"]);I!=null&&g(e,["speechConfig"],uM(I));const N=h(t,["stopSequences"]);N!=null&&g(e,["stopSequences"],N);const D=h(t,["temperature"]);D!=null&&g(e,["temperature"],D);const U=h(t,["thinkingConfig"]);U!=null&&g(e,["thinkingConfig"],U);const k=h(t,["topK"]);k!=null&&g(e,["topK"],k);const O=h(t,["topP"]);if(O!=null&&g(e,["topP"],O),h(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function V$(t){const e={};if(h(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=h(t,["enableWidget"]);return n!=null&&g(e,["enableWidget"],n),e}function z$(t){const e={};if(h(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(h(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=h(t,["timeRangeFilter"]);return n!=null&&g(e,["timeRangeFilter"],n),e}function q$(t,e){const n={},o=h(t,["generationConfig"]);e!==void 0&&o!=null&&g(e,["setup","generationConfig"],o);const r=h(t,["responseModalities"]);e!==void 0&&r!=null&&g(e,["setup","generationConfig","responseModalities"],r);const a=h(t,["temperature"]);e!==void 0&&a!=null&&g(e,["setup","generationConfig","temperature"],a);const u=h(t,["topP"]);e!==void 0&&u!=null&&g(e,["setup","generationConfig","topP"],u);const c=h(t,["topK"]);e!==void 0&&c!=null&&g(e,["setup","generationConfig","topK"],c);const p=h(t,["maxOutputTokens"]);e!==void 0&&p!=null&&g(e,["setup","generationConfig","maxOutputTokens"],p);const d=h(t,["mediaResolution"]);e!==void 0&&d!=null&&g(e,["setup","generationConfig","mediaResolution"],d);const m=h(t,["seed"]);e!==void 0&&m!=null&&g(e,["setup","generationConfig","seed"],m);const y=h(t,["speechConfig"]);e!==void 0&&y!=null&&g(e,["setup","generationConfig","speechConfig"],Iy(y));const S=h(t,["thinkingConfig"]);e!==void 0&&S!=null&&g(e,["setup","generationConfig","thinkingConfig"],S);const E=h(t,["enableAffectiveDialog"]);e!==void 0&&E!=null&&g(e,["setup","generationConfig","enableAffectiveDialog"],E);const T=h(t,["systemInstruction"]);e!==void 0&&T!=null&&g(e,["setup","systemInstruction"],B$(Lt(T)));const C=h(t,["tools"]);if(e!==void 0&&C!=null){let k=Ta(C);Array.isArray(k)&&(k=k.map(O=>nF(wa(O)))),g(e,["setup","tools"],k)}const x=h(t,["sessionResumption"]);e!==void 0&&x!=null&&g(e,["setup","sessionResumption"],tF(x));const M=h(t,["inputAudioTranscription"]);e!==void 0&&M!=null&&g(e,["setup","inputAudioTranscription"],M);const I=h(t,["outputAudioTranscription"]);e!==void 0&&I!=null&&g(e,["setup","outputAudioTranscription"],I);const N=h(t,["realtimeInputConfig"]);e!==void 0&&N!=null&&g(e,["setup","realtimeInputConfig"],N);const D=h(t,["contextWindowCompression"]);e!==void 0&&D!=null&&g(e,["setup","contextWindowCompression"],D);const U=h(t,["proactivity"]);if(e!==void 0&&U!=null&&g(e,["setup","proactivity"],U),h(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function J$(t,e){const n={},o=h(t,["generationConfig"]);e!==void 0&&o!=null&&g(e,["setup","generationConfig"],F$(o));const r=h(t,["responseModalities"]);e!==void 0&&r!=null&&g(e,["setup","generationConfig","responseModalities"],r);const a=h(t,["temperature"]);e!==void 0&&a!=null&&g(e,["setup","generationConfig","temperature"],a);const u=h(t,["topP"]);e!==void 0&&u!=null&&g(e,["setup","generationConfig","topP"],u);const c=h(t,["topK"]);e!==void 0&&c!=null&&g(e,["setup","generationConfig","topK"],c);const p=h(t,["maxOutputTokens"]);e!==void 0&&p!=null&&g(e,["setup","generationConfig","maxOutputTokens"],p);const d=h(t,["mediaResolution"]);e!==void 0&&d!=null&&g(e,["setup","generationConfig","mediaResolution"],d);const m=h(t,["seed"]);e!==void 0&&m!=null&&g(e,["setup","generationConfig","seed"],m);const y=h(t,["speechConfig"]);e!==void 0&&y!=null&&g(e,["setup","generationConfig","speechConfig"],uM(Iy(y)));const S=h(t,["thinkingConfig"]);e!==void 0&&S!=null&&g(e,["setup","generationConfig","thinkingConfig"],S);const E=h(t,["enableAffectiveDialog"]);e!==void 0&&E!=null&&g(e,["setup","generationConfig","enableAffectiveDialog"],E);const T=h(t,["systemInstruction"]);e!==void 0&&T!=null&&g(e,["setup","systemInstruction"],Lt(T));const C=h(t,["tools"]);if(e!==void 0&&C!=null){let O=Ta(C);Array.isArray(O)&&(O=O.map(q=>oF(wa(q)))),g(e,["setup","tools"],O)}const x=h(t,["sessionResumption"]);e!==void 0&&x!=null&&g(e,["setup","sessionResumption"],x);const M=h(t,["inputAudioTranscription"]);e!==void 0&&M!=null&&g(e,["setup","inputAudioTranscription"],M);const I=h(t,["outputAudioTranscription"]);e!==void 0&&I!=null&&g(e,["setup","outputAudioTranscription"],I);const N=h(t,["realtimeInputConfig"]);e!==void 0&&N!=null&&g(e,["setup","realtimeInputConfig"],N);const D=h(t,["contextWindowCompression"]);e!==void 0&&D!=null&&g(e,["setup","contextWindowCompression"],D);const U=h(t,["proactivity"]);e!==void 0&&U!=null&&g(e,["setup","proactivity"],U);const k=h(t,["explicitVadSignal"]);return e!==void 0&&k!=null&&g(e,["setup","explicitVadSignal"],k),n}function K$(t,e){const n={},o=h(e,["model"]);o!=null&&g(n,["setup","model"],Fe(t,o));const r=h(e,["config"]);return r!=null&&g(n,["config"],q$(r,n)),n}function Y$(t,e){const n={},o=h(e,["model"]);o!=null&&g(n,["setup","model"],Fe(t,o));const r=h(e,["config"]);return r!=null&&g(n,["config"],J$(r,n)),n}function X$(t){const e={},n=h(t,["musicGenerationConfig"]);return n!=null&&g(e,["musicGenerationConfig"],n),e}function W$(t){const e={},n=h(t,["weightedPrompts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(r=>r)),g(e,["weightedPrompts"],o)}return e}function j$(t){const e={},n=h(t,["media"]);if(n!=null){let d=WR(n);Array.isArray(d)&&(d=d.map(m=>zf(m))),g(e,["mediaChunks"],d)}const o=h(t,["audio"]);o!=null&&g(e,["audio"],zf(QR(o)));const r=h(t,["audioStreamEnd"]);r!=null&&g(e,["audioStreamEnd"],r);const a=h(t,["video"]);a!=null&&g(e,["video"],zf(jR(a)));const u=h(t,["text"]);u!=null&&g(e,["text"],u);const c=h(t,["activityStart"]);c!=null&&g(e,["activityStart"],c);const p=h(t,["activityEnd"]);return p!=null&&g(e,["activityEnd"],p),e}function Q$(t){const e={},n=h(t,["media"]);if(n!=null){let d=WR(n);Array.isArray(d)&&(d=d.map(m=>m)),g(e,["mediaChunks"],d)}const o=h(t,["audio"]);o!=null&&g(e,["audio"],QR(o));const r=h(t,["audioStreamEnd"]);r!=null&&g(e,["audioStreamEnd"],r);const a=h(t,["video"]);a!=null&&g(e,["video"],jR(a));const u=h(t,["text"]);u!=null&&g(e,["text"],u);const c=h(t,["activityStart"]);c!=null&&g(e,["activityStart"],c);const p=h(t,["activityEnd"]);return p!=null&&g(e,["activityEnd"],p),e}function Z$(t){const e={},n=h(t,["setupComplete"]);n!=null&&g(e,["setupComplete"],n);const o=h(t,["serverContent"]);o!=null&&g(e,["serverContent"],o);const r=h(t,["toolCall"]);r!=null&&g(e,["toolCall"],r);const a=h(t,["toolCallCancellation"]);a!=null&&g(e,["toolCallCancellation"],a);const u=h(t,["usageMetadata"]);u!=null&&g(e,["usageMetadata"],iF(u));const c=h(t,["goAway"]);c!=null&&g(e,["goAway"],c);const p=h(t,["sessionResumptionUpdate"]);p!=null&&g(e,["sessionResumptionUpdate"],p);const d=h(t,["voiceActivityDetectionSignal"]);return d!=null&&g(e,["voiceActivityDetectionSignal"],d),e}function eF(t){const e={},n=h(t,["mediaResolution"]);n!=null&&g(e,["mediaResolution"],n);const o=h(t,["codeExecutionResult"]);o!=null&&g(e,["codeExecutionResult"],o);const r=h(t,["executableCode"]);r!=null&&g(e,["executableCode"],r);const a=h(t,["fileData"]);a!=null&&g(e,["fileData"],H$(a));const u=h(t,["functionCall"]);u!=null&&g(e,["functionCall"],G$(u));const c=h(t,["functionResponse"]);c!=null&&g(e,["functionResponse"],c);const p=h(t,["inlineData"]);p!=null&&g(e,["inlineData"],zf(p));const d=h(t,["text"]);d!=null&&g(e,["text"],d);const m=h(t,["thought"]);m!=null&&g(e,["thought"],m);const y=h(t,["thoughtSignature"]);y!=null&&g(e,["thoughtSignature"],y);const S=h(t,["videoMetadata"]);return S!=null&&g(e,["videoMetadata"],S),e}function tF(t){const e={},n=h(t,["handle"]);if(n!=null&&g(e,["handle"],n),h(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function uM(t){const e={},n=h(t,["voiceConfig"]);n!=null&&g(e,["voiceConfig"],n);const o=h(t,["languageCode"]);if(o!=null&&g(e,["languageCode"],o),h(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return e}function nF(t){const e={},n=h(t,["functionDeclarations"]);if(n!=null){let m=n;Array.isArray(m)&&(m=m.map(y=>y)),g(e,["functionDeclarations"],m)}if(h(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=h(t,["googleSearchRetrieval"]);o!=null&&g(e,["googleSearchRetrieval"],o);const r=h(t,["computerUse"]);r!=null&&g(e,["computerUse"],r);const a=h(t,["fileSearch"]);a!=null&&g(e,["fileSearch"],a);const u=h(t,["codeExecution"]);if(u!=null&&g(e,["codeExecution"],u),h(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const c=h(t,["googleMaps"]);c!=null&&g(e,["googleMaps"],V$(c));const p=h(t,["googleSearch"]);p!=null&&g(e,["googleSearch"],z$(p));const d=h(t,["urlContext"]);return d!=null&&g(e,["urlContext"],d),e}function oF(t){const e={},n=h(t,["functionDeclarations"]);if(n!=null){let y=n;Array.isArray(y)&&(y=y.map(S=>$$(S))),g(e,["functionDeclarations"],y)}const o=h(t,["retrieval"]);o!=null&&g(e,["retrieval"],o);const r=h(t,["googleSearchRetrieval"]);r!=null&&g(e,["googleSearchRetrieval"],r);const a=h(t,["computerUse"]);if(a!=null&&g(e,["computerUse"],a),h(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const u=h(t,["codeExecution"]);u!=null&&g(e,["codeExecution"],u);const c=h(t,["enterpriseWebSearch"]);c!=null&&g(e,["enterpriseWebSearch"],c);const p=h(t,["googleMaps"]);p!=null&&g(e,["googleMaps"],p);const d=h(t,["googleSearch"]);d!=null&&g(e,["googleSearch"],d);const m=h(t,["urlContext"]);return m!=null&&g(e,["urlContext"],m),e}function iF(t){const e={},n=h(t,["promptTokenCount"]);n!=null&&g(e,["promptTokenCount"],n);const o=h(t,["cachedContentTokenCount"]);o!=null&&g(e,["cachedContentTokenCount"],o);const r=h(t,["candidatesTokenCount"]);r!=null&&g(e,["responseTokenCount"],r);const a=h(t,["toolUsePromptTokenCount"]);a!=null&&g(e,["toolUsePromptTokenCount"],a);const u=h(t,["thoughtsTokenCount"]);u!=null&&g(e,["thoughtsTokenCount"],u);const c=h(t,["totalTokenCount"]);c!=null&&g(e,["totalTokenCount"],c);const p=h(t,["promptTokensDetails"]);if(p!=null){let E=p;Array.isArray(E)&&(E=E.map(T=>T)),g(e,["promptTokensDetails"],E)}const d=h(t,["cacheTokensDetails"]);if(d!=null){let E=d;Array.isArray(E)&&(E=E.map(T=>T)),g(e,["cacheTokensDetails"],E)}const m=h(t,["candidatesTokensDetails"]);if(m!=null){let E=m;Array.isArray(E)&&(E=E.map(T=>T)),g(e,["responseTokensDetails"],E)}const y=h(t,["toolUsePromptTokensDetails"]);if(y!=null){let E=y;Array.isArray(E)&&(E=E.map(T=>T)),g(e,["toolUsePromptTokensDetails"],E)}const S=h(t,["trafficType"]);return S!=null&&g(e,["trafficType"],S),e}function rF(t){const e={},n=h(t,["data"]);if(n!=null&&g(e,["data"],n),h(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=h(t,["mimeType"]);return o!=null&&g(e,["mimeType"],o),e}function sF(t){const e={},n=h(t,["content"]);n!=null&&g(e,["content"],n);const o=h(t,["citationMetadata"]);o!=null&&g(e,["citationMetadata"],aF(o));const r=h(t,["tokenCount"]);r!=null&&g(e,["tokenCount"],r);const a=h(t,["finishReason"]);a!=null&&g(e,["finishReason"],a);const u=h(t,["avgLogprobs"]);u!=null&&g(e,["avgLogprobs"],u);const c=h(t,["groundingMetadata"]);c!=null&&g(e,["groundingMetadata"],c);const p=h(t,["index"]);p!=null&&g(e,["index"],p);const d=h(t,["logprobsResult"]);d!=null&&g(e,["logprobsResult"],d);const m=h(t,["safetyRatings"]);if(m!=null){let S=m;Array.isArray(S)&&(S=S.map(E=>E)),g(e,["safetyRatings"],S)}const y=h(t,["urlContextMetadata"]);return y!=null&&g(e,["urlContextMetadata"],y),e}function aF(t){const e={},n=h(t,["citationSources"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(r=>r)),g(e,["citations"],o)}return e}function lF(t,e){const n={},o=h(e,["model"]);o!=null&&g(n,["_url","model"],Fe(t,o));const r=h(e,["contents"]);if(r!=null){let a=Hn(r);Array.isArray(a)&&(a=a.map(u=>u)),g(n,["contents"],a)}return n}function uF(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const o=h(t,["tokensInfo"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(a=>a)),g(e,["tokensInfo"],r)}return e}function cF(t){const e={},n=h(t,["values"]);n!=null&&g(e,["values"],n);const o=h(t,["statistics"]);return o!=null&&g(e,["statistics"],fF(o)),e}function fF(t){const e={},n=h(t,["truncated"]);n!=null&&g(e,["truncated"],n);const o=h(t,["token_count"]);return o!=null&&g(e,["tokenCount"],o),e}function tp(t){const e={},n=h(t,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(a=>SV(a))),g(e,["parts"],r)}const o=h(t,["role"]);return o!=null&&g(e,["role"],o),e}function dF(t){const e={},n=h(t,["controlType"]);n!=null&&g(e,["controlType"],n);const o=h(t,["enableControlImageComputation"]);return o!=null&&g(e,["computeControl"],o),e}function pF(t){const e={};if(h(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(h(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(h(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function hF(t,e){const n={},o=h(t,["systemInstruction"]);e!==void 0&&o!=null&&g(e,["systemInstruction"],Lt(o));const r=h(t,["tools"]);if(e!==void 0&&r!=null){let u=r;Array.isArray(u)&&(u=u.map(c=>hM(c))),g(e,["tools"],u)}const a=h(t,["generationConfig"]);return e!==void 0&&a!=null&&g(e,["generationConfig"],rV(a)),n}function mF(t,e){const n={},o=h(e,["model"]);o!=null&&g(n,["_url","model"],Fe(t,o));const r=h(e,["contents"]);if(r!=null){let u=Hn(r);Array.isArray(u)&&(u=u.map(c=>tp(c))),g(n,["contents"],u)}const a=h(e,["config"]);return a!=null&&pF(a),n}function gF(t,e){const n={},o=h(e,["model"]);o!=null&&g(n,["_url","model"],Fe(t,o));const r=h(e,["contents"]);if(r!=null){let u=Hn(r);Array.isArray(u)&&(u=u.map(c=>c)),g(n,["contents"],u)}const a=h(e,["config"]);return a!=null&&hF(a,n),n}function vF(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const o=h(t,["totalTokens"]);o!=null&&g(e,["totalTokens"],o);const r=h(t,["cachedContentTokenCount"]);return r!=null&&g(e,["cachedContentTokenCount"],r),e}function yF(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const o=h(t,["totalTokens"]);return o!=null&&g(e,["totalTokens"],o),e}function _F(t,e){const n={},o=h(e,["model"]);return o!=null&&g(n,["_url","name"],Fe(t,o)),n}function SF(t,e){const n={},o=h(e,["model"]);return o!=null&&g(n,["_url","name"],Fe(t,o)),n}function EF(t){const e={},n=h(t,["sdkHttpResponse"]);return n!=null&&g(e,["sdkHttpResponse"],n),e}function bF(t){const e={},n=h(t,["sdkHttpResponse"]);return n!=null&&g(e,["sdkHttpResponse"],n),e}function wF(t,e){const n={},o=h(t,["outputGcsUri"]);e!==void 0&&o!=null&&g(e,["parameters","storageUri"],o);const r=h(t,["negativePrompt"]);e!==void 0&&r!=null&&g(e,["parameters","negativePrompt"],r);const a=h(t,["numberOfImages"]);e!==void 0&&a!=null&&g(e,["parameters","sampleCount"],a);const u=h(t,["aspectRatio"]);e!==void 0&&u!=null&&g(e,["parameters","aspectRatio"],u);const c=h(t,["guidanceScale"]);e!==void 0&&c!=null&&g(e,["parameters","guidanceScale"],c);const p=h(t,["seed"]);e!==void 0&&p!=null&&g(e,["parameters","seed"],p);const d=h(t,["safetyFilterLevel"]);e!==void 0&&d!=null&&g(e,["parameters","safetySetting"],d);const m=h(t,["personGeneration"]);e!==void 0&&m!=null&&g(e,["parameters","personGeneration"],m);const y=h(t,["includeSafetyAttributes"]);e!==void 0&&y!=null&&g(e,["parameters","includeSafetyAttributes"],y);const S=h(t,["includeRaiReason"]);e!==void 0&&S!=null&&g(e,["parameters","includeRaiReason"],S);const E=h(t,["language"]);e!==void 0&&E!=null&&g(e,["parameters","language"],E);const T=h(t,["outputMimeType"]);e!==void 0&&T!=null&&g(e,["parameters","outputOptions","mimeType"],T);const C=h(t,["outputCompressionQuality"]);e!==void 0&&C!=null&&g(e,["parameters","outputOptions","compressionQuality"],C);const x=h(t,["addWatermark"]);e!==void 0&&x!=null&&g(e,["parameters","addWatermark"],x);const M=h(t,["labels"]);e!==void 0&&M!=null&&g(e,["labels"],M);const I=h(t,["editMode"]);e!==void 0&&I!=null&&g(e,["parameters","editMode"],I);const N=h(t,["baseSteps"]);return e!==void 0&&N!=null&&g(e,["parameters","editConfig","baseSteps"],N),n}function TF(t,e){const n={},o=h(e,["model"]);o!=null&&g(n,["_url","model"],Fe(t,o));const r=h(e,["prompt"]);r!=null&&g(n,["instances[0]","prompt"],r);const a=h(e,["referenceImages"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(p=>AV(p))),g(n,["instances[0]","referenceImages"],c)}const u=h(e,["config"]);return u!=null&&wF(u,n),n}function CF(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const o=h(t,["predictions"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(a=>np(a))),g(e,["generatedImages"],r)}return e}function AF(t,e){const n={},o=h(t,["taskType"]);e!==void 0&&o!=null&&g(e,["requests[]","taskType"],o);const r=h(t,["title"]);e!==void 0&&r!=null&&g(e,["requests[]","title"],r);const a=h(t,["outputDimensionality"]);if(e!==void 0&&a!=null&&g(e,["requests[]","outputDimensionality"],a),h(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(h(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function xF(t,e){const n={},o=h(t,["taskType"]);e!==void 0&&o!=null&&g(e,["instances[]","task_type"],o);const r=h(t,["title"]);e!==void 0&&r!=null&&g(e,["instances[]","title"],r);const a=h(t,["outputDimensionality"]);e!==void 0&&a!=null&&g(e,["parameters","outputDimensionality"],a);const u=h(t,["mimeType"]);e!==void 0&&u!=null&&g(e,["instances[]","mimeType"],u);const c=h(t,["autoTruncate"]);return e!==void 0&&c!=null&&g(e,["parameters","autoTruncate"],c),n}function RF(t,e){const n={},o=h(e,["model"]);o!=null&&g(n,["_url","model"],Fe(t,o));const r=h(e,["contents"]);if(r!=null){let c=Ry(t,r);Array.isArray(c)&&(c=c.map(p=>p)),g(n,["requests[]","content"],c)}const a=h(e,["config"]);a!=null&&AF(a,n);const u=h(e,["model"]);return u!==void 0&&g(n,["requests[]","model"],Fe(t,u)),n}function MF(t,e){const n={},o=h(e,["model"]);o!=null&&g(n,["_url","model"],Fe(t,o));const r=h(e,["contents"]);if(r!=null){let u=Ry(t,r);Array.isArray(u)&&(u=u.map(c=>c)),g(n,["instances[]","content"],u)}const a=h(e,["config"]);return a!=null&&xF(a,n),n}function NF(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const o=h(t,["embeddings"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(u=>u)),g(e,["embeddings"],a)}const r=h(t,["metadata"]);return r!=null&&g(e,["metadata"],r),e}function IF(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const o=h(t,["predictions[]","embeddings"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(u=>cF(u))),g(e,["embeddings"],a)}const r=h(t,["metadata"]);return r!=null&&g(e,["metadata"],r),e}function DF(t){const e={},n=h(t,["endpoint"]);n!=null&&g(e,["name"],n);const o=h(t,["deployedModelId"]);return o!=null&&g(e,["deployedModelId"],o),e}function OF(t){const e={};if(h(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=h(t,["fileUri"]);n!=null&&g(e,["fileUri"],n);const o=h(t,["mimeType"]);return o!=null&&g(e,["mimeType"],o),e}function PF(t){const e={},n=h(t,["id"]);n!=null&&g(e,["id"],n);const o=h(t,["args"]);o!=null&&g(e,["args"],o);const r=h(t,["name"]);if(r!=null&&g(e,["name"],r),h(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(h(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function LF(t){const e={},n=h(t,["mode"]);n!=null&&g(e,["mode"],n);const o=h(t,["allowedFunctionNames"]);if(o!=null&&g(e,["allowedFunctionNames"],o),h(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function UF(t){const e={};if(h(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=h(t,["description"]);n!=null&&g(e,["description"],n);const o=h(t,["name"]);o!=null&&g(e,["name"],o);const r=h(t,["parameters"]);r!=null&&g(e,["parameters"],r);const a=h(t,["parametersJsonSchema"]);a!=null&&g(e,["parametersJsonSchema"],a);const u=h(t,["response"]);u!=null&&g(e,["response"],u);const c=h(t,["responseJsonSchema"]);return c!=null&&g(e,["responseJsonSchema"],c),e}function kF(t,e,n){const o={},r=h(e,["systemInstruction"]);n!==void 0&&r!=null&&g(n,["systemInstruction"],tp(Lt(r)));const a=h(e,["temperature"]);a!=null&&g(o,["temperature"],a);const u=h(e,["topP"]);u!=null&&g(o,["topP"],u);const c=h(e,["topK"]);c!=null&&g(o,["topK"],c);const p=h(e,["candidateCount"]);p!=null&&g(o,["candidateCount"],p);const d=h(e,["maxOutputTokens"]);d!=null&&g(o,["maxOutputTokens"],d);const m=h(e,["stopSequences"]);m!=null&&g(o,["stopSequences"],m);const y=h(e,["responseLogprobs"]);y!=null&&g(o,["responseLogprobs"],y);const S=h(e,["logprobs"]);S!=null&&g(o,["logprobs"],S);const E=h(e,["presencePenalty"]);E!=null&&g(o,["presencePenalty"],E);const T=h(e,["frequencyPenalty"]);T!=null&&g(o,["frequencyPenalty"],T);const C=h(e,["seed"]);C!=null&&g(o,["seed"],C);const x=h(e,["responseMimeType"]);x!=null&&g(o,["responseMimeType"],x);const M=h(e,["responseSchema"]);M!=null&&g(o,["responseSchema"],My(M));const I=h(e,["responseJsonSchema"]);if(I!=null&&g(o,["responseJsonSchema"],I),h(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(h(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const N=h(e,["safetySettings"]);if(n!==void 0&&N!=null){let oe=N;Array.isArray(oe)&&(oe=oe.map(ae=>xV(ae))),g(n,["safetySettings"],oe)}const D=h(e,["tools"]);if(n!==void 0&&D!=null){let oe=Ta(D);Array.isArray(oe)&&(oe=oe.map(ae=>PV(wa(ae)))),g(n,["tools"],oe)}const U=h(e,["toolConfig"]);if(n!==void 0&&U!=null&&g(n,["toolConfig"],OV(U)),h(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const k=h(e,["cachedContent"]);n!==void 0&&k!=null&&g(n,["cachedContent"],gi(t,k));const O=h(e,["responseModalities"]);O!=null&&g(o,["responseModalities"],O);const q=h(e,["mediaResolution"]);q!=null&&g(o,["mediaResolution"],q);const J=h(e,["speechConfig"]);if(J!=null&&g(o,["speechConfig"],Ny(J)),h(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const X=h(e,["thinkingConfig"]);X!=null&&g(o,["thinkingConfig"],X);const j=h(e,["imageConfig"]);j!=null&&g(o,["imageConfig"],cV(j));const re=h(e,["enableEnhancedCivicAnswers"]);return re!=null&&g(o,["enableEnhancedCivicAnswers"],re),o}function BF(t,e,n){const o={},r=h(e,["systemInstruction"]);n!==void 0&&r!=null&&g(n,["systemInstruction"],Lt(r));const a=h(e,["temperature"]);a!=null&&g(o,["temperature"],a);const u=h(e,["topP"]);u!=null&&g(o,["topP"],u);const c=h(e,["topK"]);c!=null&&g(o,["topK"],c);const p=h(e,["candidateCount"]);p!=null&&g(o,["candidateCount"],p);const d=h(e,["maxOutputTokens"]);d!=null&&g(o,["maxOutputTokens"],d);const m=h(e,["stopSequences"]);m!=null&&g(o,["stopSequences"],m);const y=h(e,["responseLogprobs"]);y!=null&&g(o,["responseLogprobs"],y);const S=h(e,["logprobs"]);S!=null&&g(o,["logprobs"],S);const E=h(e,["presencePenalty"]);E!=null&&g(o,["presencePenalty"],E);const T=h(e,["frequencyPenalty"]);T!=null&&g(o,["frequencyPenalty"],T);const C=h(e,["seed"]);C!=null&&g(o,["seed"],C);const x=h(e,["responseMimeType"]);x!=null&&g(o,["responseMimeType"],x);const M=h(e,["responseSchema"]);M!=null&&g(o,["responseSchema"],My(M));const I=h(e,["responseJsonSchema"]);I!=null&&g(o,["responseJsonSchema"],I);const N=h(e,["routingConfig"]);N!=null&&g(o,["routingConfig"],N);const D=h(e,["modelSelectionConfig"]);D!=null&&g(o,["modelConfig"],D);const U=h(e,["safetySettings"]);if(n!==void 0&&U!=null){let H=U;Array.isArray(H)&&(H=H.map(Q=>Q)),g(n,["safetySettings"],H)}const k=h(e,["tools"]);if(n!==void 0&&k!=null){let H=Ta(k);Array.isArray(H)&&(H=H.map(Q=>hM(wa(Q)))),g(n,["tools"],H)}const O=h(e,["toolConfig"]);n!==void 0&&O!=null&&g(n,["toolConfig"],O);const q=h(e,["labels"]);n!==void 0&&q!=null&&g(n,["labels"],q);const J=h(e,["cachedContent"]);n!==void 0&&J!=null&&g(n,["cachedContent"],gi(t,J));const X=h(e,["responseModalities"]);X!=null&&g(o,["responseModalities"],X);const j=h(e,["mediaResolution"]);j!=null&&g(o,["mediaResolution"],j);const re=h(e,["speechConfig"]);re!=null&&g(o,["speechConfig"],pM(Ny(re)));const oe=h(e,["audioTimestamp"]);oe!=null&&g(o,["audioTimestamp"],oe);const ae=h(e,["thinkingConfig"]);ae!=null&&g(o,["thinkingConfig"],ae);const de=h(e,["imageConfig"]);if(de!=null&&g(o,["imageConfig"],fV(de)),h(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return o}function KT(t,e){const n={},o=h(e,["model"]);o!=null&&g(n,["_url","model"],Fe(t,o));const r=h(e,["contents"]);if(r!=null){let u=Hn(r);Array.isArray(u)&&(u=u.map(c=>tp(c))),g(n,["contents"],u)}const a=h(e,["config"]);return a!=null&&g(n,["generationConfig"],kF(t,a,n)),n}function YT(t,e){const n={},o=h(e,["model"]);o!=null&&g(n,["_url","model"],Fe(t,o));const r=h(e,["contents"]);if(r!=null){let u=Hn(r);Array.isArray(u)&&(u=u.map(c=>c)),g(n,["contents"],u)}const a=h(e,["config"]);return a!=null&&g(n,["generationConfig"],BF(t,a,n)),n}function XT(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const o=h(t,["candidates"]);if(o!=null){let p=o;Array.isArray(p)&&(p=p.map(d=>sF(d))),g(e,["candidates"],p)}const r=h(t,["modelVersion"]);r!=null&&g(e,["modelVersion"],r);const a=h(t,["promptFeedback"]);a!=null&&g(e,["promptFeedback"],a);const u=h(t,["responseId"]);u!=null&&g(e,["responseId"],u);const c=h(t,["usageMetadata"]);return c!=null&&g(e,["usageMetadata"],c),e}function WT(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const o=h(t,["candidates"]);if(o!=null){let d=o;Array.isArray(d)&&(d=d.map(m=>m)),g(e,["candidates"],d)}const r=h(t,["createTime"]);r!=null&&g(e,["createTime"],r);const a=h(t,["modelVersion"]);a!=null&&g(e,["modelVersion"],a);const u=h(t,["promptFeedback"]);u!=null&&g(e,["promptFeedback"],u);const c=h(t,["responseId"]);c!=null&&g(e,["responseId"],c);const p=h(t,["usageMetadata"]);return p!=null&&g(e,["usageMetadata"],p),e}function HF(t,e){const n={};if(h(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(h(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const o=h(t,["numberOfImages"]);e!==void 0&&o!=null&&g(e,["parameters","sampleCount"],o);const r=h(t,["aspectRatio"]);e!==void 0&&r!=null&&g(e,["parameters","aspectRatio"],r);const a=h(t,["guidanceScale"]);if(e!==void 0&&a!=null&&g(e,["parameters","guidanceScale"],a),h(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const u=h(t,["safetyFilterLevel"]);e!==void 0&&u!=null&&g(e,["parameters","safetySetting"],u);const c=h(t,["personGeneration"]);e!==void 0&&c!=null&&g(e,["parameters","personGeneration"],c);const p=h(t,["includeSafetyAttributes"]);e!==void 0&&p!=null&&g(e,["parameters","includeSafetyAttributes"],p);const d=h(t,["includeRaiReason"]);e!==void 0&&d!=null&&g(e,["parameters","includeRaiReason"],d);const m=h(t,["language"]);e!==void 0&&m!=null&&g(e,["parameters","language"],m);const y=h(t,["outputMimeType"]);e!==void 0&&y!=null&&g(e,["parameters","outputOptions","mimeType"],y);const S=h(t,["outputCompressionQuality"]);if(e!==void 0&&S!=null&&g(e,["parameters","outputOptions","compressionQuality"],S),h(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(h(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const E=h(t,["imageSize"]);if(e!==void 0&&E!=null&&g(e,["parameters","sampleImageSize"],E),h(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function GF(t,e){const n={},o=h(t,["outputGcsUri"]);e!==void 0&&o!=null&&g(e,["parameters","storageUri"],o);const r=h(t,["negativePrompt"]);e!==void 0&&r!=null&&g(e,["parameters","negativePrompt"],r);const a=h(t,["numberOfImages"]);e!==void 0&&a!=null&&g(e,["parameters","sampleCount"],a);const u=h(t,["aspectRatio"]);e!==void 0&&u!=null&&g(e,["parameters","aspectRatio"],u);const c=h(t,["guidanceScale"]);e!==void 0&&c!=null&&g(e,["parameters","guidanceScale"],c);const p=h(t,["seed"]);e!==void 0&&p!=null&&g(e,["parameters","seed"],p);const d=h(t,["safetyFilterLevel"]);e!==void 0&&d!=null&&g(e,["parameters","safetySetting"],d);const m=h(t,["personGeneration"]);e!==void 0&&m!=null&&g(e,["parameters","personGeneration"],m);const y=h(t,["includeSafetyAttributes"]);e!==void 0&&y!=null&&g(e,["parameters","includeSafetyAttributes"],y);const S=h(t,["includeRaiReason"]);e!==void 0&&S!=null&&g(e,["parameters","includeRaiReason"],S);const E=h(t,["language"]);e!==void 0&&E!=null&&g(e,["parameters","language"],E);const T=h(t,["outputMimeType"]);e!==void 0&&T!=null&&g(e,["parameters","outputOptions","mimeType"],T);const C=h(t,["outputCompressionQuality"]);e!==void 0&&C!=null&&g(e,["parameters","outputOptions","compressionQuality"],C);const x=h(t,["addWatermark"]);e!==void 0&&x!=null&&g(e,["parameters","addWatermark"],x);const M=h(t,["labels"]);e!==void 0&&M!=null&&g(e,["labels"],M);const I=h(t,["imageSize"]);e!==void 0&&I!=null&&g(e,["parameters","sampleImageSize"],I);const N=h(t,["enhancePrompt"]);return e!==void 0&&N!=null&&g(e,["parameters","enhancePrompt"],N),n}function $F(t,e){const n={},o=h(e,["model"]);o!=null&&g(n,["_url","model"],Fe(t,o));const r=h(e,["prompt"]);r!=null&&g(n,["instances[0]","prompt"],r);const a=h(e,["config"]);return a!=null&&HF(a,n),n}function FF(t,e){const n={},o=h(e,["model"]);o!=null&&g(n,["_url","model"],Fe(t,o));const r=h(e,["prompt"]);r!=null&&g(n,["instances[0]","prompt"],r);const a=h(e,["config"]);return a!=null&&GF(a,n),n}function VF(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const o=h(t,["predictions"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(u=>tV(u))),g(e,["generatedImages"],a)}const r=h(t,["positivePromptSafetyAttributes"]);return r!=null&&g(e,["positivePromptSafetyAttributes"],fM(r)),e}function zF(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const o=h(t,["predictions"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(u=>np(u))),g(e,["generatedImages"],a)}const r=h(t,["positivePromptSafetyAttributes"]);return r!=null&&g(e,["positivePromptSafetyAttributes"],dM(r)),e}function qF(t,e){const n={},o=h(t,["numberOfVideos"]);if(e!==void 0&&o!=null&&g(e,["parameters","sampleCount"],o),h(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(h(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const r=h(t,["durationSeconds"]);if(e!==void 0&&r!=null&&g(e,["parameters","durationSeconds"],r),h(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const a=h(t,["aspectRatio"]);e!==void 0&&a!=null&&g(e,["parameters","aspectRatio"],a);const u=h(t,["resolution"]);e!==void 0&&u!=null&&g(e,["parameters","resolution"],u);const c=h(t,["personGeneration"]);if(e!==void 0&&c!=null&&g(e,["parameters","personGeneration"],c),h(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const p=h(t,["negativePrompt"]);e!==void 0&&p!=null&&g(e,["parameters","negativePrompt"],p);const d=h(t,["enhancePrompt"]);if(e!==void 0&&d!=null&&g(e,["parameters","enhancePrompt"],d),h(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const m=h(t,["lastFrame"]);e!==void 0&&m!=null&&g(e,["instances[0]","lastFrame"],op(m));const y=h(t,["referenceImages"]);if(e!==void 0&&y!=null){let S=y;Array.isArray(S)&&(S=S.map(E=>KV(E))),g(e,["instances[0]","referenceImages"],S)}if(h(t,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(h(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function JF(t,e){const n={},o=h(t,["numberOfVideos"]);e!==void 0&&o!=null&&g(e,["parameters","sampleCount"],o);const r=h(t,["outputGcsUri"]);e!==void 0&&r!=null&&g(e,["parameters","storageUri"],r);const a=h(t,["fps"]);e!==void 0&&a!=null&&g(e,["parameters","fps"],a);const u=h(t,["durationSeconds"]);e!==void 0&&u!=null&&g(e,["parameters","durationSeconds"],u);const c=h(t,["seed"]);e!==void 0&&c!=null&&g(e,["parameters","seed"],c);const p=h(t,["aspectRatio"]);e!==void 0&&p!=null&&g(e,["parameters","aspectRatio"],p);const d=h(t,["resolution"]);e!==void 0&&d!=null&&g(e,["parameters","resolution"],d);const m=h(t,["personGeneration"]);e!==void 0&&m!=null&&g(e,["parameters","personGeneration"],m);const y=h(t,["pubsubTopic"]);e!==void 0&&y!=null&&g(e,["parameters","pubsubTopic"],y);const S=h(t,["negativePrompt"]);e!==void 0&&S!=null&&g(e,["parameters","negativePrompt"],S);const E=h(t,["enhancePrompt"]);e!==void 0&&E!=null&&g(e,["parameters","enhancePrompt"],E);const T=h(t,["generateAudio"]);e!==void 0&&T!=null&&g(e,["parameters","generateAudio"],T);const C=h(t,["lastFrame"]);e!==void 0&&C!=null&&g(e,["instances[0]","lastFrame"],co(C));const x=h(t,["referenceImages"]);if(e!==void 0&&x!=null){let N=x;Array.isArray(N)&&(N=N.map(D=>YV(D))),g(e,["instances[0]","referenceImages"],N)}const M=h(t,["mask"]);e!==void 0&&M!=null&&g(e,["instances[0]","mask"],JV(M));const I=h(t,["compressionQuality"]);return e!==void 0&&I!=null&&g(e,["parameters","compressionQuality"],I),n}function KF(t){const e={},n=h(t,["name"]);n!=null&&g(e,["name"],n);const o=h(t,["metadata"]);o!=null&&g(e,["metadata"],o);const r=h(t,["done"]);r!=null&&g(e,["done"],r);const a=h(t,["error"]);a!=null&&g(e,["error"],a);const u=h(t,["response","generateVideoResponse"]);return u!=null&&g(e,["response"],jF(u)),e}function YF(t){const e={},n=h(t,["name"]);n!=null&&g(e,["name"],n);const o=h(t,["metadata"]);o!=null&&g(e,["metadata"],o);const r=h(t,["done"]);r!=null&&g(e,["done"],r);const a=h(t,["error"]);a!=null&&g(e,["error"],a);const u=h(t,["response"]);return u!=null&&g(e,["response"],QF(u)),e}function XF(t,e){const n={},o=h(e,["model"]);o!=null&&g(n,["_url","model"],Fe(t,o));const r=h(e,["prompt"]);r!=null&&g(n,["instances[0]","prompt"],r);const a=h(e,["image"]);a!=null&&g(n,["instances[0]","image"],op(a));const u=h(e,["video"]);u!=null&&g(n,["instances[0]","video"],mM(u));const c=h(e,["source"]);c!=null&&ZF(c,n);const p=h(e,["config"]);return p!=null&&qF(p,n),n}function WF(t,e){const n={},o=h(e,["model"]);o!=null&&g(n,["_url","model"],Fe(t,o));const r=h(e,["prompt"]);r!=null&&g(n,["instances[0]","prompt"],r);const a=h(e,["image"]);a!=null&&g(n,["instances[0]","image"],co(a));const u=h(e,["video"]);u!=null&&g(n,["instances[0]","video"],gM(u));const c=h(e,["source"]);c!=null&&eV(c,n);const p=h(e,["config"]);return p!=null&&JF(p,n),n}function jF(t){const e={},n=h(t,["generatedSamples"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(u=>oV(u))),g(e,["generatedVideos"],a)}const o=h(t,["raiMediaFilteredCount"]);o!=null&&g(e,["raiMediaFilteredCount"],o);const r=h(t,["raiMediaFilteredReasons"]);return r!=null&&g(e,["raiMediaFilteredReasons"],r),e}function QF(t){const e={},n=h(t,["videos"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(u=>iV(u))),g(e,["generatedVideos"],a)}const o=h(t,["raiMediaFilteredCount"]);o!=null&&g(e,["raiMediaFilteredCount"],o);const r=h(t,["raiMediaFilteredReasons"]);return r!=null&&g(e,["raiMediaFilteredReasons"],r),e}function ZF(t,e){const n={},o=h(t,["prompt"]);e!==void 0&&o!=null&&g(e,["instances[0]","prompt"],o);const r=h(t,["image"]);e!==void 0&&r!=null&&g(e,["instances[0]","image"],op(r));const a=h(t,["video"]);return e!==void 0&&a!=null&&g(e,["instances[0]","video"],mM(a)),n}function eV(t,e){const n={},o=h(t,["prompt"]);e!==void 0&&o!=null&&g(e,["instances[0]","prompt"],o);const r=h(t,["image"]);e!==void 0&&r!=null&&g(e,["instances[0]","image"],co(r));const a=h(t,["video"]);return e!==void 0&&a!=null&&g(e,["instances[0]","video"],gM(a)),n}function tV(t){const e={},n=h(t,["_self"]);n!=null&&g(e,["image"],dV(n));const o=h(t,["raiFilteredReason"]);o!=null&&g(e,["raiFilteredReason"],o);const r=h(t,["_self"]);return r!=null&&g(e,["safetyAttributes"],fM(r)),e}function np(t){const e={},n=h(t,["_self"]);n!=null&&g(e,["image"],cM(n));const o=h(t,["raiFilteredReason"]);o!=null&&g(e,["raiFilteredReason"],o);const r=h(t,["_self"]);r!=null&&g(e,["safetyAttributes"],dM(r));const a=h(t,["prompt"]);return a!=null&&g(e,["enhancedPrompt"],a),e}function nV(t){const e={},n=h(t,["_self"]);n!=null&&g(e,["mask"],cM(n));const o=h(t,["labels"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(a=>a)),g(e,["labels"],r)}return e}function oV(t){const e={},n=h(t,["video"]);return n!=null&&g(e,["video"],zV(n)),e}function iV(t){const e={},n=h(t,["_self"]);return n!=null&&g(e,["video"],qV(n)),e}function rV(t){const e={},n=h(t,["modelSelectionConfig"]);n!=null&&g(e,["modelConfig"],n);const o=h(t,["responseJsonSchema"]);o!=null&&g(e,["responseJsonSchema"],o);const r=h(t,["audioTimestamp"]);r!=null&&g(e,["audioTimestamp"],r);const a=h(t,["candidateCount"]);a!=null&&g(e,["candidateCount"],a);const u=h(t,["enableAffectiveDialog"]);u!=null&&g(e,["enableAffectiveDialog"],u);const c=h(t,["frequencyPenalty"]);c!=null&&g(e,["frequencyPenalty"],c);const p=h(t,["logprobs"]);p!=null&&g(e,["logprobs"],p);const d=h(t,["maxOutputTokens"]);d!=null&&g(e,["maxOutputTokens"],d);const m=h(t,["mediaResolution"]);m!=null&&g(e,["mediaResolution"],m);const y=h(t,["presencePenalty"]);y!=null&&g(e,["presencePenalty"],y);const S=h(t,["responseLogprobs"]);S!=null&&g(e,["responseLogprobs"],S);const E=h(t,["responseMimeType"]);E!=null&&g(e,["responseMimeType"],E);const T=h(t,["responseModalities"]);T!=null&&g(e,["responseModalities"],T);const C=h(t,["responseSchema"]);C!=null&&g(e,["responseSchema"],C);const x=h(t,["routingConfig"]);x!=null&&g(e,["routingConfig"],x);const M=h(t,["seed"]);M!=null&&g(e,["seed"],M);const I=h(t,["speechConfig"]);I!=null&&g(e,["speechConfig"],pM(I));const N=h(t,["stopSequences"]);N!=null&&g(e,["stopSequences"],N);const D=h(t,["temperature"]);D!=null&&g(e,["temperature"],D);const U=h(t,["thinkingConfig"]);U!=null&&g(e,["thinkingConfig"],U);const k=h(t,["topK"]);k!=null&&g(e,["topK"],k);const O=h(t,["topP"]);if(O!=null&&g(e,["topP"],O),h(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function sV(t,e){const n={},o=h(e,["model"]);return o!=null&&g(n,["_url","name"],Fe(t,o)),n}function aV(t,e){const n={},o=h(e,["model"]);return o!=null&&g(n,["_url","name"],Fe(t,o)),n}function lV(t){const e={};if(h(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=h(t,["enableWidget"]);return n!=null&&g(e,["enableWidget"],n),e}function uV(t){const e={};if(h(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(h(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=h(t,["timeRangeFilter"]);return n!=null&&g(e,["timeRangeFilter"],n),e}function cV(t){const e={},n=h(t,["aspectRatio"]);n!=null&&g(e,["aspectRatio"],n);const o=h(t,["imageSize"]);if(o!=null&&g(e,["imageSize"],o),h(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(h(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function fV(t){const e={},n=h(t,["aspectRatio"]);n!=null&&g(e,["aspectRatio"],n);const o=h(t,["imageSize"]);o!=null&&g(e,["imageSize"],o);const r=h(t,["outputMimeType"]);r!=null&&g(e,["imageOutputOptions","mimeType"],r);const a=h(t,["outputCompressionQuality"]);return a!=null&&g(e,["imageOutputOptions","compressionQuality"],a),e}function dV(t){const e={},n=h(t,["bytesBase64Encoded"]);n!=null&&g(e,["imageBytes"],lr(n));const o=h(t,["mimeType"]);return o!=null&&g(e,["mimeType"],o),e}function cM(t){const e={},n=h(t,["gcsUri"]);n!=null&&g(e,["gcsUri"],n);const o=h(t,["bytesBase64Encoded"]);o!=null&&g(e,["imageBytes"],lr(o));const r=h(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function op(t){const e={};if(h(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=h(t,["imageBytes"]);n!=null&&g(e,["bytesBase64Encoded"],lr(n));const o=h(t,["mimeType"]);return o!=null&&g(e,["mimeType"],o),e}function co(t){const e={},n=h(t,["gcsUri"]);n!=null&&g(e,["gcsUri"],n);const o=h(t,["imageBytes"]);o!=null&&g(e,["bytesBase64Encoded"],lr(o));const r=h(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function pV(t,e,n){const o={},r=h(e,["pageSize"]);n!==void 0&&r!=null&&g(n,["_query","pageSize"],r);const a=h(e,["pageToken"]);n!==void 0&&a!=null&&g(n,["_query","pageToken"],a);const u=h(e,["filter"]);n!==void 0&&u!=null&&g(n,["_query","filter"],u);const c=h(e,["queryBase"]);return n!==void 0&&c!=null&&g(n,["_url","models_url"],nM(t,c)),o}function hV(t,e,n){const o={},r=h(e,["pageSize"]);n!==void 0&&r!=null&&g(n,["_query","pageSize"],r);const a=h(e,["pageToken"]);n!==void 0&&a!=null&&g(n,["_query","pageToken"],a);const u=h(e,["filter"]);n!==void 0&&u!=null&&g(n,["_query","filter"],u);const c=h(e,["queryBase"]);return n!==void 0&&c!=null&&g(n,["_url","models_url"],nM(t,c)),o}function mV(t,e){const n={},o=h(e,["config"]);return o!=null&&pV(t,o,n),n}function gV(t,e){const n={},o=h(e,["config"]);return o!=null&&hV(t,o,n),n}function vV(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const o=h(t,["nextPageToken"]);o!=null&&g(e,["nextPageToken"],o);const r=h(t,["_self"]);if(r!=null){let a=oM(r);Array.isArray(a)&&(a=a.map(u=>fv(u))),g(e,["models"],a)}return e}function yV(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const o=h(t,["nextPageToken"]);o!=null&&g(e,["nextPageToken"],o);const r=h(t,["_self"]);if(r!=null){let a=oM(r);Array.isArray(a)&&(a=a.map(u=>dv(u))),g(e,["models"],a)}return e}function _V(t){const e={},n=h(t,["maskMode"]);n!=null&&g(e,["maskMode"],n);const o=h(t,["segmentationClasses"]);o!=null&&g(e,["maskClasses"],o);const r=h(t,["maskDilation"]);return r!=null&&g(e,["dilation"],r),e}function fv(t){const e={},n=h(t,["name"]);n!=null&&g(e,["name"],n);const o=h(t,["displayName"]);o!=null&&g(e,["displayName"],o);const r=h(t,["description"]);r!=null&&g(e,["description"],r);const a=h(t,["version"]);a!=null&&g(e,["version"],a);const u=h(t,["_self"]);u!=null&&g(e,["tunedModelInfo"],LV(u));const c=h(t,["inputTokenLimit"]);c!=null&&g(e,["inputTokenLimit"],c);const p=h(t,["outputTokenLimit"]);p!=null&&g(e,["outputTokenLimit"],p);const d=h(t,["supportedGenerationMethods"]);d!=null&&g(e,["supportedActions"],d);const m=h(t,["temperature"]);m!=null&&g(e,["temperature"],m);const y=h(t,["maxTemperature"]);y!=null&&g(e,["maxTemperature"],y);const S=h(t,["topP"]);S!=null&&g(e,["topP"],S);const E=h(t,["topK"]);E!=null&&g(e,["topK"],E);const T=h(t,["thinking"]);return T!=null&&g(e,["thinking"],T),e}function dv(t){const e={},n=h(t,["name"]);n!=null&&g(e,["name"],n);const o=h(t,["displayName"]);o!=null&&g(e,["displayName"],o);const r=h(t,["description"]);r!=null&&g(e,["description"],r);const a=h(t,["versionId"]);a!=null&&g(e,["version"],a);const u=h(t,["deployedModels"]);if(u!=null){let y=u;Array.isArray(y)&&(y=y.map(S=>DF(S))),g(e,["endpoints"],y)}const c=h(t,["labels"]);c!=null&&g(e,["labels"],c);const p=h(t,["_self"]);p!=null&&g(e,["tunedModelInfo"],UV(p));const d=h(t,["defaultCheckpointId"]);d!=null&&g(e,["defaultCheckpointId"],d);const m=h(t,["checkpoints"]);if(m!=null){let y=m;Array.isArray(y)&&(y=y.map(S=>S)),g(e,["checkpoints"],y)}return e}function SV(t){const e={},n=h(t,["mediaResolution"]);n!=null&&g(e,["mediaResolution"],n);const o=h(t,["codeExecutionResult"]);o!=null&&g(e,["codeExecutionResult"],o);const r=h(t,["executableCode"]);r!=null&&g(e,["executableCode"],r);const a=h(t,["fileData"]);a!=null&&g(e,["fileData"],OF(a));const u=h(t,["functionCall"]);u!=null&&g(e,["functionCall"],PF(u));const c=h(t,["functionResponse"]);c!=null&&g(e,["functionResponse"],c);const p=h(t,["inlineData"]);p!=null&&g(e,["inlineData"],rF(p));const d=h(t,["text"]);d!=null&&g(e,["text"],d);const m=h(t,["thought"]);m!=null&&g(e,["thought"],m);const y=h(t,["thoughtSignature"]);y!=null&&g(e,["thoughtSignature"],y);const S=h(t,["videoMetadata"]);return S!=null&&g(e,["videoMetadata"],S),e}function EV(t){const e={},n=h(t,["productImage"]);return n!=null&&g(e,["image"],co(n)),e}function bV(t,e){const n={},o=h(t,["numberOfImages"]);e!==void 0&&o!=null&&g(e,["parameters","sampleCount"],o);const r=h(t,["baseSteps"]);e!==void 0&&r!=null&&g(e,["parameters","baseSteps"],r);const a=h(t,["outputGcsUri"]);e!==void 0&&a!=null&&g(e,["parameters","storageUri"],a);const u=h(t,["seed"]);e!==void 0&&u!=null&&g(e,["parameters","seed"],u);const c=h(t,["safetyFilterLevel"]);e!==void 0&&c!=null&&g(e,["parameters","safetySetting"],c);const p=h(t,["personGeneration"]);e!==void 0&&p!=null&&g(e,["parameters","personGeneration"],p);const d=h(t,["addWatermark"]);e!==void 0&&d!=null&&g(e,["parameters","addWatermark"],d);const m=h(t,["outputMimeType"]);e!==void 0&&m!=null&&g(e,["parameters","outputOptions","mimeType"],m);const y=h(t,["outputCompressionQuality"]);e!==void 0&&y!=null&&g(e,["parameters","outputOptions","compressionQuality"],y);const S=h(t,["enhancePrompt"]);e!==void 0&&S!=null&&g(e,["parameters","enhancePrompt"],S);const E=h(t,["labels"]);return e!==void 0&&E!=null&&g(e,["labels"],E),n}function wV(t,e){const n={},o=h(e,["model"]);o!=null&&g(n,["_url","model"],Fe(t,o));const r=h(e,["source"]);r!=null&&CV(r,n);const a=h(e,["config"]);return a!=null&&bV(a,n),n}function TV(t){const e={},n=h(t,["predictions"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(r=>np(r))),g(e,["generatedImages"],o)}return e}function CV(t,e){const n={},o=h(t,["prompt"]);e!==void 0&&o!=null&&g(e,["instances[0]","prompt"],o);const r=h(t,["personImage"]);e!==void 0&&r!=null&&g(e,["instances[0]","personImage","image"],co(r));const a=h(t,["productImages"]);if(e!==void 0&&a!=null){let u=a;Array.isArray(u)&&(u=u.map(c=>EV(c))),g(e,["instances[0]","productImages"],u)}return n}function AV(t){const e={},n=h(t,["referenceImage"]);n!=null&&g(e,["referenceImage"],co(n));const o=h(t,["referenceId"]);o!=null&&g(e,["referenceId"],o);const r=h(t,["referenceType"]);r!=null&&g(e,["referenceType"],r);const a=h(t,["maskImageConfig"]);a!=null&&g(e,["maskImageConfig"],_V(a));const u=h(t,["controlImageConfig"]);u!=null&&g(e,["controlImageConfig"],dF(u));const c=h(t,["styleImageConfig"]);c!=null&&g(e,["styleImageConfig"],c);const p=h(t,["subjectImageConfig"]);return p!=null&&g(e,["subjectImageConfig"],p),e}function fM(t){const e={},n=h(t,["safetyAttributes","categories"]);n!=null&&g(e,["categories"],n);const o=h(t,["safetyAttributes","scores"]);o!=null&&g(e,["scores"],o);const r=h(t,["contentType"]);return r!=null&&g(e,["contentType"],r),e}function dM(t){const e={},n=h(t,["safetyAttributes","categories"]);n!=null&&g(e,["categories"],n);const o=h(t,["safetyAttributes","scores"]);o!=null&&g(e,["scores"],o);const r=h(t,["contentType"]);return r!=null&&g(e,["contentType"],r),e}function xV(t){const e={},n=h(t,["category"]);if(n!=null&&g(e,["category"],n),h(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const o=h(t,["threshold"]);return o!=null&&g(e,["threshold"],o),e}function RV(t){const e={},n=h(t,["image"]);return n!=null&&g(e,["image"],co(n)),e}function MV(t,e){const n={},o=h(t,["mode"]);e!==void 0&&o!=null&&g(e,["parameters","mode"],o);const r=h(t,["maxPredictions"]);e!==void 0&&r!=null&&g(e,["parameters","maxPredictions"],r);const a=h(t,["confidenceThreshold"]);e!==void 0&&a!=null&&g(e,["parameters","confidenceThreshold"],a);const u=h(t,["maskDilation"]);e!==void 0&&u!=null&&g(e,["parameters","maskDilation"],u);const c=h(t,["binaryColorThreshold"]);e!==void 0&&c!=null&&g(e,["parameters","binaryColorThreshold"],c);const p=h(t,["labels"]);return e!==void 0&&p!=null&&g(e,["labels"],p),n}function NV(t,e){const n={},o=h(e,["model"]);o!=null&&g(n,["_url","model"],Fe(t,o));const r=h(e,["source"]);r!=null&&DV(r,n);const a=h(e,["config"]);return a!=null&&MV(a,n),n}function IV(t){const e={},n=h(t,["predictions"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(r=>nV(r))),g(e,["generatedMasks"],o)}return e}function DV(t,e){const n={},o=h(t,["prompt"]);e!==void 0&&o!=null&&g(e,["instances[0]","prompt"],o);const r=h(t,["image"]);e!==void 0&&r!=null&&g(e,["instances[0]","image"],co(r));const a=h(t,["scribbleImage"]);return e!==void 0&&a!=null&&g(e,["instances[0]","scribble"],RV(a)),n}function pM(t){const e={},n=h(t,["voiceConfig"]);n!=null&&g(e,["voiceConfig"],n);const o=h(t,["languageCode"]);if(o!=null&&g(e,["languageCode"],o),h(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return e}function OV(t){const e={},n=h(t,["functionCallingConfig"]);n!=null&&g(e,["functionCallingConfig"],LF(n));const o=h(t,["retrievalConfig"]);return o!=null&&g(e,["retrievalConfig"],o),e}function PV(t){const e={},n=h(t,["functionDeclarations"]);if(n!=null){let m=n;Array.isArray(m)&&(m=m.map(y=>y)),g(e,["functionDeclarations"],m)}if(h(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=h(t,["googleSearchRetrieval"]);o!=null&&g(e,["googleSearchRetrieval"],o);const r=h(t,["computerUse"]);r!=null&&g(e,["computerUse"],r);const a=h(t,["fileSearch"]);a!=null&&g(e,["fileSearch"],a);const u=h(t,["codeExecution"]);if(u!=null&&g(e,["codeExecution"],u),h(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const c=h(t,["googleMaps"]);c!=null&&g(e,["googleMaps"],lV(c));const p=h(t,["googleSearch"]);p!=null&&g(e,["googleSearch"],uV(p));const d=h(t,["urlContext"]);return d!=null&&g(e,["urlContext"],d),e}function hM(t){const e={},n=h(t,["functionDeclarations"]);if(n!=null){let y=n;Array.isArray(y)&&(y=y.map(S=>UF(S))),g(e,["functionDeclarations"],y)}const o=h(t,["retrieval"]);o!=null&&g(e,["retrieval"],o);const r=h(t,["googleSearchRetrieval"]);r!=null&&g(e,["googleSearchRetrieval"],r);const a=h(t,["computerUse"]);if(a!=null&&g(e,["computerUse"],a),h(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const u=h(t,["codeExecution"]);u!=null&&g(e,["codeExecution"],u);const c=h(t,["enterpriseWebSearch"]);c!=null&&g(e,["enterpriseWebSearch"],c);const p=h(t,["googleMaps"]);p!=null&&g(e,["googleMaps"],p);const d=h(t,["googleSearch"]);d!=null&&g(e,["googleSearch"],d);const m=h(t,["urlContext"]);return m!=null&&g(e,["urlContext"],m),e}function LV(t){const e={},n=h(t,["baseModel"]);n!=null&&g(e,["baseModel"],n);const o=h(t,["createTime"]);o!=null&&g(e,["createTime"],o);const r=h(t,["updateTime"]);return r!=null&&g(e,["updateTime"],r),e}function UV(t){const e={},n=h(t,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&g(e,["baseModel"],n);const o=h(t,["createTime"]);o!=null&&g(e,["createTime"],o);const r=h(t,["updateTime"]);return r!=null&&g(e,["updateTime"],r),e}function kV(t,e){const n={},o=h(t,["displayName"]);e!==void 0&&o!=null&&g(e,["displayName"],o);const r=h(t,["description"]);e!==void 0&&r!=null&&g(e,["description"],r);const a=h(t,["defaultCheckpointId"]);return e!==void 0&&a!=null&&g(e,["defaultCheckpointId"],a),n}function BV(t,e){const n={},o=h(t,["displayName"]);e!==void 0&&o!=null&&g(e,["displayName"],o);const r=h(t,["description"]);e!==void 0&&r!=null&&g(e,["description"],r);const a=h(t,["defaultCheckpointId"]);return e!==void 0&&a!=null&&g(e,["defaultCheckpointId"],a),n}function HV(t,e){const n={},o=h(e,["model"]);o!=null&&g(n,["_url","name"],Fe(t,o));const r=h(e,["config"]);return r!=null&&kV(r,n),n}function GV(t,e){const n={},o=h(e,["model"]);o!=null&&g(n,["_url","model"],Fe(t,o));const r=h(e,["config"]);return r!=null&&BV(r,n),n}function $V(t,e){const n={},o=h(t,["outputGcsUri"]);e!==void 0&&o!=null&&g(e,["parameters","storageUri"],o);const r=h(t,["safetyFilterLevel"]);e!==void 0&&r!=null&&g(e,["parameters","safetySetting"],r);const a=h(t,["personGeneration"]);e!==void 0&&a!=null&&g(e,["parameters","personGeneration"],a);const u=h(t,["includeRaiReason"]);e!==void 0&&u!=null&&g(e,["parameters","includeRaiReason"],u);const c=h(t,["outputMimeType"]);e!==void 0&&c!=null&&g(e,["parameters","outputOptions","mimeType"],c);const p=h(t,["outputCompressionQuality"]);e!==void 0&&p!=null&&g(e,["parameters","outputOptions","compressionQuality"],p);const d=h(t,["enhanceInputImage"]);e!==void 0&&d!=null&&g(e,["parameters","upscaleConfig","enhanceInputImage"],d);const m=h(t,["imagePreservationFactor"]);e!==void 0&&m!=null&&g(e,["parameters","upscaleConfig","imagePreservationFactor"],m);const y=h(t,["labels"]);e!==void 0&&y!=null&&g(e,["labels"],y);const S=h(t,["numberOfImages"]);e!==void 0&&S!=null&&g(e,["parameters","sampleCount"],S);const E=h(t,["mode"]);return e!==void 0&&E!=null&&g(e,["parameters","mode"],E),n}function FV(t,e){const n={},o=h(e,["model"]);o!=null&&g(n,["_url","model"],Fe(t,o));const r=h(e,["image"]);r!=null&&g(n,["instances[0]","image"],co(r));const a=h(e,["upscaleFactor"]);a!=null&&g(n,["parameters","upscaleConfig","upscaleFactor"],a);const u=h(e,["config"]);return u!=null&&$V(u,n),n}function VV(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const o=h(t,["predictions"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(a=>np(a))),g(e,["generatedImages"],r)}return e}function zV(t){const e={},n=h(t,["uri"]);n!=null&&g(e,["uri"],n);const o=h(t,["encodedVideo"]);o!=null&&g(e,["videoBytes"],lr(o));const r=h(t,["encoding"]);return r!=null&&g(e,["mimeType"],r),e}function qV(t){const e={},n=h(t,["gcsUri"]);n!=null&&g(e,["uri"],n);const o=h(t,["bytesBase64Encoded"]);o!=null&&g(e,["videoBytes"],lr(o));const r=h(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function JV(t){const e={},n=h(t,["image"]);n!=null&&g(e,["_self"],co(n));const o=h(t,["maskMode"]);return o!=null&&g(e,["maskMode"],o),e}function KV(t){const e={},n=h(t,["image"]);n!=null&&g(e,["image"],op(n));const o=h(t,["referenceType"]);return o!=null&&g(e,["referenceType"],o),e}function YV(t){const e={},n=h(t,["image"]);n!=null&&g(e,["image"],co(n));const o=h(t,["referenceType"]);return o!=null&&g(e,["referenceType"],o),e}function mM(t){const e={},n=h(t,["uri"]);n!=null&&g(e,["uri"],n);const o=h(t,["videoBytes"]);o!=null&&g(e,["encodedVideo"],lr(o));const r=h(t,["mimeType"]);return r!=null&&g(e,["encoding"],r),e}function gM(t){const e={},n=h(t,["uri"]);n!=null&&g(e,["gcsUri"],n);const o=h(t,["videoBytes"]);o!=null&&g(e,["bytesBase64Encoded"],lr(o));const r=h(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function XV(t,e){const n={},o=h(t,["displayName"]);return e!==void 0&&o!=null&&g(e,["displayName"],o),n}function WV(t){const e={},n=h(t,["config"]);return n!=null&&XV(n,e),e}function jV(t,e){const n={},o=h(t,["force"]);return e!==void 0&&o!=null&&g(e,["_query","force"],o),n}function QV(t){const e={},n=h(t,["name"]);n!=null&&g(e,["_url","name"],n);const o=h(t,["config"]);return o!=null&&jV(o,e),e}function ZV(t){const e={},n=h(t,["name"]);return n!=null&&g(e,["_url","name"],n),e}function ez(t,e){const n={},o=h(t,["customMetadata"]);if(e!==void 0&&o!=null){let a=o;Array.isArray(a)&&(a=a.map(u=>u)),g(e,["customMetadata"],a)}const r=h(t,["chunkingConfig"]);return e!==void 0&&r!=null&&g(e,["chunkingConfig"],r),n}function tz(t){const e={},n=h(t,["name"]);n!=null&&g(e,["name"],n);const o=h(t,["metadata"]);o!=null&&g(e,["metadata"],o);const r=h(t,["done"]);r!=null&&g(e,["done"],r);const a=h(t,["error"]);a!=null&&g(e,["error"],a);const u=h(t,["response"]);return u!=null&&g(e,["response"],oz(u)),e}function nz(t){const e={},n=h(t,["fileSearchStoreName"]);n!=null&&g(e,["_url","file_search_store_name"],n);const o=h(t,["fileName"]);o!=null&&g(e,["fileName"],o);const r=h(t,["config"]);return r!=null&&ez(r,e),e}function oz(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const o=h(t,["parent"]);o!=null&&g(e,["parent"],o);const r=h(t,["documentName"]);return r!=null&&g(e,["documentName"],r),e}function iz(t,e){const n={},o=h(t,["pageSize"]);e!==void 0&&o!=null&&g(e,["_query","pageSize"],o);const r=h(t,["pageToken"]);return e!==void 0&&r!=null&&g(e,["_query","pageToken"],r),n}function rz(t){const e={},n=h(t,["config"]);return n!=null&&iz(n,e),e}function sz(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const o=h(t,["nextPageToken"]);o!=null&&g(e,["nextPageToken"],o);const r=h(t,["fileSearchStores"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(u=>u)),g(e,["fileSearchStores"],a)}return e}function vM(t,e){const n={},o=h(t,["mimeType"]);e!==void 0&&o!=null&&g(e,["mimeType"],o);const r=h(t,["displayName"]);e!==void 0&&r!=null&&g(e,["displayName"],r);const a=h(t,["customMetadata"]);if(e!==void 0&&a!=null){let c=a;Array.isArray(c)&&(c=c.map(p=>p)),g(e,["customMetadata"],c)}const u=h(t,["chunkingConfig"]);return e!==void 0&&u!=null&&g(e,["chunkingConfig"],u),n}function az(t){const e={},n=h(t,["fileSearchStoreName"]);n!=null&&g(e,["_url","file_search_store_name"],n);const o=h(t,["config"]);return o!=null&&vM(o,e),e}function lz(t){const e={},n=h(t,["sdkHttpResponse"]);return n!=null&&g(e,["sdkHttpResponse"],n),e}const uz="Content-Type",cz="X-Server-Timeout",fz="User-Agent",pv="x-goog-api-client",dz="1.33.0",pz=`google-genai-sdk/${dz}`,hz="v1beta1",mz="v1beta";class gz{constructor(e){var n,o;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const r={};this.clientOptions.vertexai?(r.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:hz,r.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(r.apiVersion=(o=this.clientOptions.apiVersion)!==null&&o!==void 0?o:mz,r.baseUrl="https://generativelanguage.googleapis.com/"),r.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=r,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(r,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const o=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&o.push(e.apiVersion),o.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,o){const r=[this.getRequestUrlInternal(n)];return o&&r.push(this.getBaseResourcePath()),e!==""&&r.push(e),new URL(`${r.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const o=this.shouldPrependVertexProjectPath(e),r=this.constructUrl(e.path,n,o);if(e.queryParams)for(const[u,c]of Object.entries(e.queryParams))r.searchParams.append(u,String(c));let a={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else a.body=e.body;return a=await this.includeExtraHttpOptionsToRequestInit(a,n,r.toString(),e.abortSignal),this.unaryApiCall(r,a,e.httpMethod)}patchHttpOptions(e,n){const o=JSON.parse(JSON.stringify(e));for(const[r,a]of Object.entries(n))typeof a=="object"?o[r]=Object.assign(Object.assign({},o[r]),a):a!==void 0&&(o[r]=a);return o}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const o=this.shouldPrependVertexProjectPath(e),r=this.constructUrl(e.path,n,o);(!r.searchParams.has("alt")||r.searchParams.get("alt")!=="sse")&&r.searchParams.set("alt","sse");let a={};return a.body=e.body,a=await this.includeExtraHttpOptionsToRequestInit(a,n,r.toString(),e.abortSignal),this.streamApiCall(r,a,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,o,r){if(n&&n.timeout||r){const a=new AbortController,u=a.signal;if(n.timeout&&n?.timeout>0){const c=setTimeout(()=>a.abort(),n.timeout);c&&typeof c.unref=="function"&&c.unref()}r&&r.addEventListener("abort",()=>{a.abort()}),e.signal=u}return n&&n.extraBody!==null&&vz(e,n.extraBody),e.headers=await this.getHeadersInternal(n,o),e}async unaryApiCall(e,n,o){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:o})).then(async r=>(await jT(r),new lv(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}async streamApiCall(e,n,o){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:o})).then(async r=>(await jT(r),this.processStreamResponse(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}processStreamResponse(e){return oo(this,arguments,function*(){var o;const r=(o=e?.body)===null||o===void 0?void 0:o.getReader(),a=new TextDecoder("utf-8");if(!r)throw new Error("Response body is empty");try{let u="";const c="data:",p=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:d,value:m}=yield Ce(r.read());if(d){if(u.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const y=a.decode(m,{stream:!0});try{const T=JSON.parse(y);if("error"in T){const C=JSON.parse(JSON.stringify(T.error)),x=C.status,M=C.code,I=`got status: ${x}. ${JSON.stringify(T)}`;if(M>=400&&M<600)throw new ep({message:I,status:M})}}catch(T){if(T.name==="ApiError")throw T}u+=y;let S=-1,E=0;for(;;){S=-1,E=0;for(const x of p){const M=u.indexOf(x);M!==-1&&(S===-1||M<S)&&(S=M,E=x.length)}if(S===-1)break;const T=u.substring(0,S);u=u.substring(S+E);const C=T.trim();if(C.startsWith(c)){const x=C.substring(c.length).trim();try{const M=new Response(x,{headers:e?.headers,status:e?.status,statusText:e?.statusText});yield yield Ce(new lv(M))}catch(M){throw new Error(`exception parsing stream chunk ${x}. ${M}`)}}}}}finally{r.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(o=>{throw new Error(`exception ${o} sending request`)})}getDefaultHeaders(){const e={},n=pz+" "+this.clientOptions.userAgentExtra;return e[fz]=n,e[pv]=n,e[uz]="application/json",e}async getHeadersInternal(e,n){const o=new Headers;if(e&&e.headers){for(const[r,a]of Object.entries(e.headers))o.append(r,a);e.timeout&&e.timeout>0&&o.append(cz,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(o,n),o}getFileName(e){var n;let o="";return typeof e=="string"&&(o=e.replace(/[/\\]+$/,""),o=(n=o.split(/[/\\]/).pop())!==null&&n!==void 0?n:""),o}async uploadFile(e,n){var o;const r={};n!=null&&(r.mimeType=n.mimeType,r.name=n.name,r.displayName=n.displayName),r.name&&!r.name.startsWith("files/")&&(r.name=`files/${r.name}`);const a=this.clientOptions.uploader,u=await a.stat(e);r.sizeBytes=String(u.size);const c=(o=n?.mimeType)!==null&&o!==void 0?o:u.type;if(c===void 0||c==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");r.mimeType=c;const p={file:r},d=this.getFileName(e),m=fe("upload/v1beta/files",p._url),y=await this.fetchUploadUrl(m,r.sizeBytes,r.mimeType,d,p,n?.httpOptions);return a.upload(e,y,this)}async uploadFileToFileSearchStore(e,n,o){var r;const a=this.clientOptions.uploader,u=await a.stat(n),c=String(u.size),p=(r=o?.mimeType)!==null&&r!==void 0?r:u.type;if(p===void 0||p==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const d=`upload/v1beta/${e}:uploadToFileSearchStore`,m=this.getFileName(n),y={};o!=null&&vM(o,y);const S=await this.fetchUploadUrl(d,c,p,m,y,o?.httpOptions);return a.uploadToFileSearchStore(n,S,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n,o,r,a,u){var c;let p={};u?p=u:p={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n}`,"X-Goog-Upload-Header-Content-Type":`${o}`},r?{"X-Goog-Upload-File-Name":r}:{})};const d=await this.request({path:e,body:JSON.stringify(a),httpMethod:"POST",httpOptions:p});if(!d||!d?.headers)throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const m=(c=d?.headers)===null||c===void 0?void 0:c["x-goog-upload-url"];if(m===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return m}}async function jT(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const n=t.status;let o;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?o=await t.json():o={error:{message:await t.text(),code:t.status,status:t.statusText}};const r=JSON.stringify(o);throw n>=400&&n<600?new ep({message:r,status:n}):new Error(r)}}function vz(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof t.body=="string"&&t.body.length>0)try{const a=JSON.parse(t.body);if(typeof a=="object"&&a!==null&&!Array.isArray(a))n=a;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function o(a,u){const c=Object.assign({},a);for(const p in u)if(Object.prototype.hasOwnProperty.call(u,p)){const d=u[p],m=c[p];d&&typeof d=="object"&&!Array.isArray(d)&&m&&typeof m=="object"&&!Array.isArray(m)?c[p]=o(m,d):(m&&d&&typeof m!=typeof d&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${p}". Original type: ${typeof m}, New type: ${typeof d}. Overwriting.`),c[p]=d)}return c}const r=o(n,e);t.body=JSON.stringify(r)}const yz="mcp_used/unknown";let _z=!1;function yM(t){for(const e of t)if(Sz(e)||typeof e=="object"&&"inputSchema"in e)return!0;return _z}function _M(t){var e;const n=(e=t[pv])!==null&&e!==void 0?e:"";t[pv]=(n+` ${yz}`).trimStart()}function Sz(t){return t!==null&&typeof t=="object"&&t instanceof Dy}function Ez(t){return oo(this,arguments,function*(n,o=100){let r,a=0;for(;a<o;){const u=yield Ce(n.listTools({cursor:r}));for(const c of u.tools)yield yield Ce(c),a++;if(!u.nextCursor)break;r=u.nextCursor}})}class Dy{constructor(e=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=n}static create(e,n){return new Dy(e,n)}async initialize(){var e,n,o,r;if(this.mcpTools.length>0)return;const a={},u=[];for(const m of this.mcpClients)try{for(var c=!0,p=(n=void 0,io(Ez(m))),d;d=await p.next(),e=d.done,!e;c=!0){r=d.value,c=!1;const y=r;u.push(y);const S=y.name;if(a[S])throw new Error(`Duplicate function name ${S} found in MCP tools. Please ensure function names are unique.`);a[S]=m}}catch(y){n={error:y}}finally{try{!c&&!e&&(o=p.return)&&await o.call(p)}finally{if(n)throw n.error}}this.mcpTools=u,this.functionNameToMcpClient=a}async tool(){return await this.initialize(),ZH(this.mcpTools,this.config)}async callTool(e){await this.initialize();const n=[];for(const o of e)if(o.name in this.functionNameToMcpClient){const r=this.functionNameToMcpClient[o.name];let a;this.config.timeout&&(a={timeout:this.config.timeout});const u=await r.callTool({name:o.name,arguments:o.args},void 0,a);n.push({functionResponse:{name:o.name,response:u.isError?{error:u}:u}})}return n}}async function bz(t,e,n){const o=new qH;let r;n.data instanceof Blob?r=JSON.parse(await n.data.text()):r=JSON.parse(n.data),Object.assign(o,r),e(o)}class wz{constructor(e,n,o){this.apiClient=e,this.auth=n,this.webSocketFactory=o}async connect(e){var n,o;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const r=this.apiClient.getWebsocketBaseUrl(),a=this.apiClient.getApiVersion(),u=Az(this.apiClient.getDefaultHeaders()),c=this.apiClient.getApiKey(),p=`${r}/ws/google.ai.generativelanguage.${a}.GenerativeService.BidiGenerateMusic?key=${c}`;let d=()=>{};const m=new Promise(N=>{d=N}),y=e.callbacks,S=function(){d({})},E=this.apiClient,T={onopen:S,onmessage:N=>{bz(E,y.onmessage,N)},onerror:(n=y?.onerror)!==null&&n!==void 0?n:function(N){},onclose:(o=y?.onclose)!==null&&o!==void 0?o:function(N){}},C=this.webSocketFactory.create(p,Cz(u),T);C.connect(),await m;const I={setup:{model:Fe(this.apiClient,e.model)}};return C.send(JSON.stringify(I)),new Tz(C,this.apiClient)}}class Tz{constructor(e,n){this.conn=e,this.apiClient=n}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=W$(e);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const n=X$(e);this.conn.send(JSON.stringify(n))}sendPlaybackControl(e){const n={playbackControl:e};this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(oa.PLAY)}pause(){this.sendPlaybackControl(oa.PAUSE)}stop(){this.sendPlaybackControl(oa.STOP)}resetContext(){this.sendPlaybackControl(oa.RESET_CONTEXT)}close(){this.conn.close()}}function Cz(t){const e={};return t.forEach((n,o)=>{e[o]=n}),e}function Az(t){const e=new Headers;for(const[n,o]of Object.entries(t))e.append(n,o);return e}const xz="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function Rz(t,e,n){const o=new zH;let r;n.data instanceof Blob?r=await n.data.text():n.data instanceof ArrayBuffer?r=new TextDecoder().decode(n.data):r=n.data;const a=JSON.parse(r);if(t.isVertexAI()){const u=Z$(a);Object.assign(o,u)}else Object.assign(o,a);e(o)}class Mz{constructor(e,n,o){this.apiClient=e,this.auth=n,this.webSocketFactory=o,this.music=new wz(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,o,r,a,u,c;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const p=this.apiClient.getWebsocketBaseUrl(),d=this.apiClient.getApiVersion();let m;const y=this.apiClient.getHeaders();e.config&&e.config.tools&&yM(e.config.tools)&&_M(y);const S=Oz(y);if(this.apiClient.isVertexAI())m=`${p}/ws/google.cloud.aiplatform.${d}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(S,m);else{const J=this.apiClient.getApiKey();let X="BidiGenerateContent",j="key";J?.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),d!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),X="BidiGenerateContentConstrained",j="access_token"),m=`${p}/ws/google.ai.generativelanguage.${d}.GenerativeService.${X}?${j}=${J}`}let E=()=>{};const T=new Promise(J=>{E=J}),C=e.callbacks,x=function(){var J;(J=C?.onopen)===null||J===void 0||J.call(C),E({})},M=this.apiClient,I={onopen:x,onmessage:J=>{Rz(M,C.onmessage,J)},onerror:(n=C?.onerror)!==null&&n!==void 0?n:function(J){},onclose:(o=C?.onclose)!==null&&o!==void 0?o:function(J){}},N=this.webSocketFactory.create(m,Dz(S),I);N.connect(),await T;let D=Fe(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&D.startsWith("publishers/")){const J=this.apiClient.getProject(),X=this.apiClient.getLocation();D=`projects/${J}/locations/${X}/`+D}let U={};this.apiClient.isVertexAI()&&((r=e.config)===null||r===void 0?void 0:r.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[gd.AUDIO]}:e.config.responseModalities=[gd.AUDIO]),!((a=e.config)===null||a===void 0)&&a.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const k=(c=(u=e.config)===null||u===void 0?void 0:u.tools)!==null&&c!==void 0?c:[],O=[];for(const J of k)if(this.isCallableTool(J)){const X=J;O.push(await X.tool())}else O.push(J);O.length>0&&(e.config.tools=O);const q={model:D,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?U=Y$(this.apiClient,q):U=K$(this.apiClient,q),delete U.config,N.send(JSON.stringify(U)),new Iz(N,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const Nz={turnComplete:!0};class Iz{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let o=[];try{o=Hn(n.turns),e.isVertexAI()||(o=o.map(r=>tp(r)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:o,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let o=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?o=n.functionResponses:o=[n.functionResponses],o.length===0)throw new Error("functionResponses is required.");for(const a of o){if(typeof a!="object"||a===null||!("name"in a)||!("response"in a))throw new Error(`Could not parse function response, type '${typeof a}'.`);if(!e.isVertexAI()&&!("id"in a))throw new Error(xz)}return{toolResponse:{functionResponses:o}}}sendClientContent(e){e=Object.assign(Object.assign({},Nz),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:Q$(e)}:n={realtimeInput:j$(e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function Dz(t){const e={};return t.forEach((n,o)=>{e[o]=n}),e}function Oz(t){const e=new Headers;for(const[n,o]of Object.entries(t))e.append(n,o);return e}const QT=10;function ZT(t){var e,n,o;if(!((e=t?.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let r=!1;for(const u of(n=t?.tools)!==null&&n!==void 0?n:[])if(aa(u)){r=!0;break}if(!r)return!0;const a=(o=t?.automaticFunctionCalling)===null||o===void 0?void 0:o.maximumRemoteCalls;return a&&(a<0||!Number.isInteger(a))||a==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",a),!0):!1}function aa(t){return"callTool"in t&&typeof t.callTool=="function"}function Pz(t){var e,n,o;return(o=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(r=>aa(r)))!==null&&o!==void 0?o:!1}function eC(t){var e;const n=[];return!((e=t?.config)===null||e===void 0)&&e.tools&&t.config.tools.forEach((o,r)=>{if(aa(o))return;const a=o;a.functionDeclarations&&a.functionDeclarations.length>0&&n.push(r)}),n}function tC(t){var e;return!(!((e=t?.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}let Lz=class extends mi{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>{var o,r,a,u,c;const p=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!Pz(n)||ZT(n.config))return await this.generateContentInternal(p);const d=eC(n);if(d.length>0){const C=d.map(x=>`tools[${x}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${C}.`)}let m,y;const S=Hn(p.contents),E=(a=(r=(o=p.config)===null||o===void 0?void 0:o.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&a!==void 0?a:QT;let T=0;for(;T<E&&(m=await this.generateContentInternal(p),!(!m.functionCalls||m.functionCalls.length===0));){const C=m.candidates[0].content,x=[];for(const M of(c=(u=n.config)===null||u===void 0?void 0:u.tools)!==null&&c!==void 0?c:[])if(aa(M)){const N=await M.callTool(m.functionCalls);x.push(...N)}T++,y={role:"user",parts:x},p.contents=Hn(p.contents),p.contents.push(C),p.contents.push(y),tC(p.config)&&(S.push(C),S.push(y))}return tC(p.config)&&(m.automaticFunctionCallingHistory=S),m},this.generateContentStream=async n=>{var o,r,a,u,c;if(this.maybeMoveToResponseJsonSchem(n),ZT(n.config)){const y=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(y)}const p=eC(n);if(p.length>0){const y=p.map(S=>`tools[${S}]`).join(", ");throw new Error(`Incompatible tools found at ${y}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const d=(a=(r=(o=n?.config)===null||o===void 0?void 0:o.toolConfig)===null||r===void 0?void 0:r.functionCallingConfig)===null||a===void 0?void 0:a.streamFunctionCallArguments,m=(c=(u=n?.config)===null||u===void 0?void 0:u.automaticFunctionCalling)===null||c===void 0?void 0:c.disable;if(d&&!m)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(o=>{var r;let a;const u=[];if(o?.generatedImages)for(const p of o.generatedImages)p&&p?.safetyAttributes&&((r=p?.safetyAttributes)===null||r===void 0?void 0:r.contentType)==="Positive Prompt"?a=p?.safetyAttributes:u.push(p);let c;return a?c={generatedImages:u,positivePromptSafetyAttributes:a,sdkHttpResponse:o.sdkHttpResponse}:c={generatedImages:u,sdkHttpResponse:o.sdkHttpResponse},c}),this.list=async n=>{var o;const u={config:Object.assign(Object.assign({},{queryBase:!0}),n?.config)};if(this.apiClient.isVertexAI()&&!u.config.queryBase){if(!((o=u.config)===null||o===void 0)&&o.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");u.config.filter="labels.tune-type:*"}return new Zr(fi.PAGED_ITEM_MODELS,c=>this.listInternal(c),await this.listInternal(u),u)},this.editImage=async n=>{const o={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(o.referenceImages=n.referenceImages.map(r=>r.toReferenceImageAPI())),await this.editImageInternal(o)},this.upscaleImage=async n=>{let o={numberOfImages:1,mode:"upscale"};n.config&&(o=Object.assign(Object.assign({},o),n.config));const r={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:o};return await this.upscaleImageInternal(r)},this.generateVideos=async n=>{var o,r,a,u,c,p;if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((o=n.video)===null||o===void 0)&&o.uri&&(!((r=n.video)===null||r===void 0)&&r.videoBytes)?n.video={uri:n.video.uri,mimeType:n.video.mimeType}:!((u=(a=n.source)===null||a===void 0?void 0:a.video)===null||u===void 0)&&u.uri&&(!((p=(c=n.source)===null||c===void 0?void 0:c.video)===null||p===void 0)&&p.videoBytes)&&(n.source.video={uri:n.source.video.uri,mimeType:n.source.video.mimeType})),await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var n,o,r;const a=(n=e.config)===null||n===void 0?void 0:n.tools;if(!a)return e;const u=await Promise.all(a.map(async p=>aa(p)?await p.tool():p)),c={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:u})};if(c.config.tools=u,e.config&&e.config.tools&&yM(e.config.tools)){const p=(r=(o=e.config.httpOptions)===null||o===void 0?void 0:o.headers)!==null&&r!==void 0?r:{};let d=Object.assign({},p);Object.keys(d).length===0&&(d=this.apiClient.getDefaultHeaders()),_M(d),c.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:d})}return c}async initAfcToolsMap(e){var n,o,r;const a=new Map;for(const u of(o=(n=e.config)===null||n===void 0?void 0:n.tools)!==null&&o!==void 0?o:[])if(aa(u)){const c=u,p=await c.tool();for(const d of(r=p.functionDeclarations)!==null&&r!==void 0?r:[]){if(!d.name)throw new Error("Function declaration name is required.");if(a.has(d.name))throw new Error(`Duplicate tool declaration name: ${d.name}`);a.set(d.name,c)}}return a}async processAfcStream(e){var n,o,r;const a=(r=(o=(n=e.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||o===void 0?void 0:o.maximumRemoteCalls)!==null&&r!==void 0?r:QT;let u=!1,c=0;const p=await this.initAfcToolsMap(e);return(function(d,m,y){return oo(this,arguments,function*(){for(var S,E,T,C,x,M;c<a;){u&&(c++,u=!1);const U=yield Ce(d.processParamsMaybeAddMcpUsage(y)),k=yield Ce(d.generateContentStreamInternal(U)),O=[],q=[];try{for(var I=!0,N=(E=void 0,io(k)),D;D=yield Ce(N.next()),S=D.done,!S;I=!0){C=D.value,I=!1;const J=C;if(yield yield Ce(J),J.candidates&&(!((x=J.candidates[0])===null||x===void 0)&&x.content)){q.push(J.candidates[0].content);for(const X of(M=J.candidates[0].content.parts)!==null&&M!==void 0?M:[])if(c<a&&X.functionCall){if(!X.functionCall.name)throw new Error("Function call name was not returned by the model.");if(m.has(X.functionCall.name)){const j=yield Ce(m.get(X.functionCall.name).callTool([X.functionCall]));O.push(...j)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${m.keys()}, mising tool: ${X.functionCall.name}`)}}}}catch(J){E={error:J}}finally{try{!I&&!S&&(T=N.return)&&(yield Ce(T.call(N)))}finally{if(E)throw E.error}}if(O.length>0){u=!0;const J=new Nl;J.candidates=[{content:{role:"user",parts:O}}],yield yield Ce(J);const X=[];X.push(...q),X.push({role:"user",parts:O});const j=Hn(y.contents).concat(X);y.contents=j}else break}})})(this,p,e)}async generateContentInternal(e){var n,o,r,a;let u,c="",p={};if(this.apiClient.isVertexAI()){const d=YT(this.apiClient,e);return c=fe("{model}:generateContent",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json().then(y=>{const S=y;return S.sdkHttpResponse={headers:m.headers},S})),u.then(m=>{const y=WT(m),S=new Nl;return Object.assign(S,y),S})}else{const d=KT(this.apiClient,e);return c=fe("{model}:generateContent",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json().then(y=>{const S=y;return S.sdkHttpResponse={headers:m.headers},S})),u.then(m=>{const y=XT(m),S=new Nl;return Object.assign(S,y),S})}}async generateContentStreamInternal(e){var n,o,r,a;let u,c="",p={};if(this.apiClient.isVertexAI()){const d=YT(this.apiClient,e);return c=fe("{model}:streamGenerateContent?alt=sse",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.requestStream({path:c,queryParams:p,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}),u.then(function(y){return oo(this,arguments,function*(){var S,E,T,C;try{for(var x=!0,M=io(y),I;I=yield Ce(M.next()),S=I.done,!S;x=!0){C=I.value,x=!1;const N=C,D=WT(yield Ce(N.json()));D.sdkHttpResponse={headers:N.headers};const U=new Nl;Object.assign(U,D),yield yield Ce(U)}}catch(N){E={error:N}}finally{try{!x&&!S&&(T=M.return)&&(yield Ce(T.call(M)))}finally{if(E)throw E.error}}})})}else{const d=KT(this.apiClient,e);return c=fe("{model}:streamGenerateContent?alt=sse",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.requestStream({path:c,queryParams:p,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}),u.then(function(y){return oo(this,arguments,function*(){var S,E,T,C;try{for(var x=!0,M=io(y),I;I=yield Ce(M.next()),S=I.done,!S;x=!0){C=I.value,x=!1;const N=C,D=XT(yield Ce(N.json()));D.sdkHttpResponse={headers:N.headers};const U=new Nl;Object.assign(U,D),yield yield Ce(U)}}catch(N){E={error:N}}finally{try{!x&&!S&&(T=M.return)&&(yield Ce(T.call(M)))}finally{if(E)throw E.error}}})})}}async embedContent(e){var n,o,r,a;let u,c="",p={};if(this.apiClient.isVertexAI()){const d=MF(this.apiClient,e);return c=fe("{model}:predict",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json().then(y=>{const S=y;return S.sdkHttpResponse={headers:m.headers},S})),u.then(m=>{const y=IF(m),S=new NT;return Object.assign(S,y),S})}else{const d=RF(this.apiClient,e);return c=fe("{model}:batchEmbedContents",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json().then(y=>{const S=y;return S.sdkHttpResponse={headers:m.headers},S})),u.then(m=>{const y=NF(m),S=new NT;return Object.assign(S,y),S})}}async generateImagesInternal(e){var n,o,r,a;let u,c="",p={};if(this.apiClient.isVertexAI()){const d=FF(this.apiClient,e);return c=fe("{model}:predict",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json().then(y=>{const S=y;return S.sdkHttpResponse={headers:m.headers},S})),u.then(m=>{const y=zF(m),S=new IT;return Object.assign(S,y),S})}else{const d=$F(this.apiClient,e);return c=fe("{model}:predict",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json().then(y=>{const S=y;return S.sdkHttpResponse={headers:m.headers},S})),u.then(m=>{const y=VF(m),S=new IT;return Object.assign(S,y),S})}}async editImageInternal(e){var n,o;let r,a="",u={};if(this.apiClient.isVertexAI()){const c=TF(this.apiClient,e);return a=fe("{model}:predict",c._url),u=c._query,delete c._url,delete c._query,r=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json().then(d=>{const m=d;return m.sdkHttpResponse={headers:p.headers},m})),r.then(p=>{const d=CF(p),m=new OH;return Object.assign(m,d),m})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,o;let r,a="",u={};if(this.apiClient.isVertexAI()){const c=FV(this.apiClient,e);return a=fe("{model}:predict",c._url),u=c._query,delete c._url,delete c._query,r=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json().then(d=>{const m=d;return m.sdkHttpResponse={headers:p.headers},m})),r.then(p=>{const d=VV(p),m=new PH;return Object.assign(m,d),m})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var n,o;let r,a="",u={};if(this.apiClient.isVertexAI()){const c=wV(this.apiClient,e);return a=fe("{model}:predict",c._url),u=c._query,delete c._url,delete c._query,r=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json()),r.then(p=>{const d=TV(p),m=new LH;return Object.assign(m,d),m})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var n,o;let r,a="",u={};if(this.apiClient.isVertexAI()){const c=NV(this.apiClient,e);return a=fe("{model}:predict",c._url),u=c._query,delete c._url,delete c._query,r=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json()),r.then(p=>{const d=IV(p),m=new UH;return Object.assign(m,d),m})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,o,r,a;let u,c="",p={};if(this.apiClient.isVertexAI()){const d=aV(this.apiClient,e);return c=fe("{name}",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json()),u.then(m=>dv(m))}else{const d=sV(this.apiClient,e);return c=fe("{name}",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json()),u.then(m=>fv(m))}}async listInternal(e){var n,o,r,a;let u,c="",p={};if(this.apiClient.isVertexAI()){const d=gV(this.apiClient,e);return c=fe("{models_url}",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json().then(y=>{const S=y;return S.sdkHttpResponse={headers:m.headers},S})),u.then(m=>{const y=yV(m),S=new DT;return Object.assign(S,y),S})}else{const d=mV(this.apiClient,e);return c=fe("{models_url}",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json().then(y=>{const S=y;return S.sdkHttpResponse={headers:m.headers},S})),u.then(m=>{const y=vV(m),S=new DT;return Object.assign(S,y),S})}}async update(e){var n,o,r,a;let u,c="",p={};if(this.apiClient.isVertexAI()){const d=GV(this.apiClient,e);return c=fe("{model}",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json()),u.then(m=>dv(m))}else{const d=HV(this.apiClient,e);return c=fe("{name}",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json()),u.then(m=>fv(m))}}async delete(e){var n,o,r,a;let u,c="",p={};if(this.apiClient.isVertexAI()){const d=SF(this.apiClient,e);return c=fe("{name}",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json().then(y=>{const S=y;return S.sdkHttpResponse={headers:m.headers},S})),u.then(m=>{const y=bF(m),S=new OT;return Object.assign(S,y),S})}else{const d=_F(this.apiClient,e);return c=fe("{name}",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json().then(y=>{const S=y;return S.sdkHttpResponse={headers:m.headers},S})),u.then(m=>{const y=EF(m),S=new OT;return Object.assign(S,y),S})}}async countTokens(e){var n,o,r,a;let u,c="",p={};if(this.apiClient.isVertexAI()){const d=gF(this.apiClient,e);return c=fe("{model}:countTokens",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json().then(y=>{const S=y;return S.sdkHttpResponse={headers:m.headers},S})),u.then(m=>{const y=yF(m),S=new PT;return Object.assign(S,y),S})}else{const d=mF(this.apiClient,e);return c=fe("{model}:countTokens",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json().then(y=>{const S=y;return S.sdkHttpResponse={headers:m.headers},S})),u.then(m=>{const y=vF(m),S=new PT;return Object.assign(S,y),S})}}async computeTokens(e){var n,o;let r,a="",u={};if(this.apiClient.isVertexAI()){const c=lF(this.apiClient,e);return a=fe("{model}:computeTokens",c._url),u=c._query,delete c._url,delete c._query,r=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json().then(d=>{const m=d;return m.sdkHttpResponse={headers:p.headers},m})),r.then(p=>{const d=uF(p),m=new kH;return Object.assign(m,d),m})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var n,o,r,a;let u,c="",p={};if(this.apiClient.isVertexAI()){const d=WF(this.apiClient,e);return c=fe("{model}:predictLongRunning",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json()),u.then(m=>{const y=YF(m),S=new vd;return Object.assign(S,y),S})}else{const d=XF(this.apiClient,e);return c=fe("{model}:predictLongRunning",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json()),u.then(m=>{const y=KF(m),S=new vd;return Object.assign(S,y),S})}}};class Uz extends mi{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const n=e.operation,o=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=n.name.split("/operations/")[0];let a;o&&"httpOptions"in o&&(a=o.httpOptions);const u=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:r,config:{httpOptions:a}});return n._fromAPIResponse({apiResponse:u,_isVertexAI:!0})}else{const r=await this.getVideosOperationInternal({operationName:n.name,config:o});return n._fromAPIResponse({apiResponse:r,_isVertexAI:!1})}}async get(e){const n=e.operation,o=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=n.name.split("/operations/")[0];let a;o&&"httpOptions"in o&&(a=o.httpOptions);const u=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:r,config:{httpOptions:a}});return n._fromAPIResponse({apiResponse:u,_isVertexAI:!0})}else{const r=await this.getVideosOperationInternal({operationName:n.name,config:o});return n._fromAPIResponse({apiResponse:r,_isVertexAI:!1})}}async getVideosOperationInternal(e){var n,o,r,a;let u,c="",p={};if(this.apiClient.isVertexAI()){const d=xH(e);return c=fe("{operationName}",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json()),u}else{const d=AH(e);return c=fe("{operationName}",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json()),u}}async fetchPredictVideosOperationInternal(e){var n,o;let r,a="",u={};if(this.apiClient.isVertexAI()){const c=_H(e);return a=fe("{resourceName}:fetchPredictOperation",c._url),u=c._query,delete c._url,delete c._query,r=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json()),r}else throw new Error("This method is only supported by the Vertex AI.")}}function kz(t){const e={},n=h(t,["data"]);if(n!=null&&g(e,["data"],n),h(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=h(t,["mimeType"]);return o!=null&&g(e,["mimeType"],o),e}function Bz(t){const e={},n=h(t,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(a=>Kz(a))),g(e,["parts"],r)}const o=h(t,["role"]);return o!=null&&g(e,["role"],o),e}function Hz(t,e,n){const o={},r=h(e,["expireTime"]);n!==void 0&&r!=null&&g(n,["expireTime"],r);const a=h(e,["newSessionExpireTime"]);n!==void 0&&a!=null&&g(n,["newSessionExpireTime"],a);const u=h(e,["uses"]);n!==void 0&&u!=null&&g(n,["uses"],u);const c=h(e,["liveConnectConstraints"]);n!==void 0&&c!=null&&g(n,["bidiGenerateContentSetup"],Jz(t,c));const p=h(e,["lockAdditionalFields"]);return n!==void 0&&p!=null&&g(n,["fieldMask"],p),o}function Gz(t,e){const n={},o=h(e,["config"]);return o!=null&&g(n,["config"],Hz(t,o,n)),n}function $z(t){const e={};if(h(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=h(t,["fileUri"]);n!=null&&g(e,["fileUri"],n);const o=h(t,["mimeType"]);return o!=null&&g(e,["mimeType"],o),e}function Fz(t){const e={},n=h(t,["id"]);n!=null&&g(e,["id"],n);const o=h(t,["args"]);o!=null&&g(e,["args"],o);const r=h(t,["name"]);if(r!=null&&g(e,["name"],r),h(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(h(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Vz(t){const e={};if(h(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=h(t,["enableWidget"]);return n!=null&&g(e,["enableWidget"],n),e}function zz(t){const e={};if(h(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(h(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=h(t,["timeRangeFilter"]);return n!=null&&g(e,["timeRangeFilter"],n),e}function qz(t,e){const n={},o=h(t,["generationConfig"]);e!==void 0&&o!=null&&g(e,["setup","generationConfig"],o);const r=h(t,["responseModalities"]);e!==void 0&&r!=null&&g(e,["setup","generationConfig","responseModalities"],r);const a=h(t,["temperature"]);e!==void 0&&a!=null&&g(e,["setup","generationConfig","temperature"],a);const u=h(t,["topP"]);e!==void 0&&u!=null&&g(e,["setup","generationConfig","topP"],u);const c=h(t,["topK"]);e!==void 0&&c!=null&&g(e,["setup","generationConfig","topK"],c);const p=h(t,["maxOutputTokens"]);e!==void 0&&p!=null&&g(e,["setup","generationConfig","maxOutputTokens"],p);const d=h(t,["mediaResolution"]);e!==void 0&&d!=null&&g(e,["setup","generationConfig","mediaResolution"],d);const m=h(t,["seed"]);e!==void 0&&m!=null&&g(e,["setup","generationConfig","seed"],m);const y=h(t,["speechConfig"]);e!==void 0&&y!=null&&g(e,["setup","generationConfig","speechConfig"],Iy(y));const S=h(t,["thinkingConfig"]);e!==void 0&&S!=null&&g(e,["setup","generationConfig","thinkingConfig"],S);const E=h(t,["enableAffectiveDialog"]);e!==void 0&&E!=null&&g(e,["setup","generationConfig","enableAffectiveDialog"],E);const T=h(t,["systemInstruction"]);e!==void 0&&T!=null&&g(e,["setup","systemInstruction"],Bz(Lt(T)));const C=h(t,["tools"]);if(e!==void 0&&C!=null){let k=Ta(C);Array.isArray(k)&&(k=k.map(O=>Xz(wa(O)))),g(e,["setup","tools"],k)}const x=h(t,["sessionResumption"]);e!==void 0&&x!=null&&g(e,["setup","sessionResumption"],Yz(x));const M=h(t,["inputAudioTranscription"]);e!==void 0&&M!=null&&g(e,["setup","inputAudioTranscription"],M);const I=h(t,["outputAudioTranscription"]);e!==void 0&&I!=null&&g(e,["setup","outputAudioTranscription"],I);const N=h(t,["realtimeInputConfig"]);e!==void 0&&N!=null&&g(e,["setup","realtimeInputConfig"],N);const D=h(t,["contextWindowCompression"]);e!==void 0&&D!=null&&g(e,["setup","contextWindowCompression"],D);const U=h(t,["proactivity"]);if(e!==void 0&&U!=null&&g(e,["setup","proactivity"],U),h(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function Jz(t,e){const n={},o=h(e,["model"]);o!=null&&g(n,["setup","model"],Fe(t,o));const r=h(e,["config"]);return r!=null&&g(n,["config"],qz(r,n)),n}function Kz(t){const e={},n=h(t,["mediaResolution"]);n!=null&&g(e,["mediaResolution"],n);const o=h(t,["codeExecutionResult"]);o!=null&&g(e,["codeExecutionResult"],o);const r=h(t,["executableCode"]);r!=null&&g(e,["executableCode"],r);const a=h(t,["fileData"]);a!=null&&g(e,["fileData"],$z(a));const u=h(t,["functionCall"]);u!=null&&g(e,["functionCall"],Fz(u));const c=h(t,["functionResponse"]);c!=null&&g(e,["functionResponse"],c);const p=h(t,["inlineData"]);p!=null&&g(e,["inlineData"],kz(p));const d=h(t,["text"]);d!=null&&g(e,["text"],d);const m=h(t,["thought"]);m!=null&&g(e,["thought"],m);const y=h(t,["thoughtSignature"]);y!=null&&g(e,["thoughtSignature"],y);const S=h(t,["videoMetadata"]);return S!=null&&g(e,["videoMetadata"],S),e}function Yz(t){const e={},n=h(t,["handle"]);if(n!=null&&g(e,["handle"],n),h(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function Xz(t){const e={},n=h(t,["functionDeclarations"]);if(n!=null){let m=n;Array.isArray(m)&&(m=m.map(y=>y)),g(e,["functionDeclarations"],m)}if(h(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=h(t,["googleSearchRetrieval"]);o!=null&&g(e,["googleSearchRetrieval"],o);const r=h(t,["computerUse"]);r!=null&&g(e,["computerUse"],r);const a=h(t,["fileSearch"]);a!=null&&g(e,["fileSearch"],a);const u=h(t,["codeExecution"]);if(u!=null&&g(e,["codeExecution"],u),h(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const c=h(t,["googleMaps"]);c!=null&&g(e,["googleMaps"],Vz(c));const p=h(t,["googleSearch"]);p!=null&&g(e,["googleSearch"],zz(p));const d=h(t,["urlContext"]);return d!=null&&g(e,["urlContext"],d),e}function Wz(t){const e=[];for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const o=t[n];if(typeof o=="object"&&o!=null&&Object.keys(o).length>0){const r=Object.keys(o).map(a=>`${n}.${a}`);e.push(...r)}else e.push(n)}return e.join(",")}function jz(t,e){let n=null;const o=t.bidiGenerateContentSetup;if(typeof o=="object"&&o!==null&&"setup"in o){const a=o.setup;typeof a=="object"&&a!==null?(t.bidiGenerateContentSetup=a,n=a):delete t.bidiGenerateContentSetup}else o!==void 0&&delete t.bidiGenerateContentSetup;const r=t.fieldMask;if(n){const a=Wz(n);if(Array.isArray(e?.lockAdditionalFields)&&e?.lockAdditionalFields.length===0)a?t.fieldMask=a:delete t.fieldMask;else if(e?.lockAdditionalFields&&e.lockAdditionalFields.length>0&&r!==null&&Array.isArray(r)&&r.length>0){const u=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let c=[];r.length>0&&(c=r.map(d=>u.includes(d)?`generationConfig.${d}`:d));const p=[];a&&p.push(a),c.length>0&&p.push(...c),p.length>0?t.fieldMask=p.join(","):delete t.fieldMask}else delete t.fieldMask}else r!==null&&Array.isArray(r)&&r.length>0?t.fieldMask=r.join(","):delete t.fieldMask;return t}class Qz extends mi{constructor(e){super(),this.apiClient=e}async create(e){var n,o;let r,a="",u={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const c=Gz(this.apiClient,e);a=fe("auth_tokens",c._url),u=c._query,delete c.config,delete c._url,delete c._query;const p=jz(c,e.config);return r=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),r.then(d=>d)}}}function Zz(t,e){const n={},o=h(t,["force"]);return e!==void 0&&o!=null&&g(e,["_query","force"],o),n}function eq(t){const e={},n=h(t,["name"]);n!=null&&g(e,["_url","name"],n);const o=h(t,["config"]);return o!=null&&Zz(o,e),e}function tq(t){const e={},n=h(t,["name"]);return n!=null&&g(e,["_url","name"],n),e}function nq(t,e){const n={},o=h(t,["pageSize"]);e!==void 0&&o!=null&&g(e,["_query","pageSize"],o);const r=h(t,["pageToken"]);return e!==void 0&&r!=null&&g(e,["_query","pageToken"],r),n}function oq(t){const e={},n=h(t,["parent"]);n!=null&&g(e,["_url","parent"],n);const o=h(t,["config"]);return o!=null&&nq(o,e),e}function iq(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const o=h(t,["nextPageToken"]);o!=null&&g(e,["nextPageToken"],o);const r=h(t,["documents"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(u=>u)),g(e,["documents"],a)}return e}class rq extends mi{constructor(e){super(),this.apiClient=e,this.list=async n=>new Zr(fi.PAGED_ITEM_DOCUMENTS,o=>this.listInternal({parent:n.parent,config:o.config}),await this.listInternal(n),n)}async get(e){var n,o;let r,a="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=tq(e);return a=fe("{name}",c._url),u=c._query,delete c._url,delete c._query,r=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json()),r.then(p=>p)}}async delete(e){var n,o;let r="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=eq(e);r=fe("{name}",u._url),a=u._query,delete u._url,delete u._query,await this.apiClient.request({path:r,queryParams:a,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}}async listInternal(e){var n,o;let r,a="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=oq(e);return a=fe("{parent}/documents",c._url),u=c._query,delete c._url,delete c._query,r=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json()),r.then(p=>{const d=iq(p),m=new BH;return Object.assign(m,d),m})}}}class sq extends mi{constructor(e,n=new rq(e)){super(),this.apiClient=e,this.documents=n,this.list=async(o={})=>new Zr(fi.PAGED_ITEM_FILE_SEARCH_STORES,r=>this.listInternal(r),await this.listInternal(o),o)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var n,o;let r,a="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=WV(e);return a=fe("fileSearchStores",c._url),u=c._query,delete c._url,delete c._query,r=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json()),r.then(p=>p)}}async get(e){var n,o;let r,a="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=ZV(e);return a=fe("{name}",c._url),u=c._query,delete c._url,delete c._query,r=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json()),r.then(p=>p)}}async delete(e){var n,o;let r="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=QV(e);r=fe("{name}",u._url),a=u._query,delete u._url,delete u._query,await this.apiClient.request({path:r,queryParams:a,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}}async listInternal(e){var n,o;let r,a="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=rz(e);return a=fe("fileSearchStores",c._url),u=c._query,delete c._url,delete c._query,r=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json()),r.then(p=>{const d=sz(p),m=new HH;return Object.assign(m,d),m})}}async uploadToFileSearchStoreInternal(e){var n,o;let r,a="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=az(e);return a=fe("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",c._url),u=c._query,delete c._url,delete c._query,r=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json()),r.then(p=>{const d=lz(p),m=new GH;return Object.assign(m,d),m})}}async importFile(e){var n,o;let r,a="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=nz(e);return a=fe("{file_search_store_name}:importFile",c._url),u=c._query,delete c._url,delete c._query,r=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json()),r.then(p=>{const d=tz(p),m=new Ay;return Object.assign(m,d),m})}}}let SM=function(){const{crypto:t}=globalThis;if(t?.randomUUID)return SM=t.randomUUID.bind(t),t.randomUUID();const e=new Uint8Array(1),n=t?()=>t.getRandomValues(e)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,o=>(+o^n()&15>>+o/4).toString(16))};const aq=()=>SM();function hv(t){return typeof t=="object"&&t!==null&&("name"in t&&t.name==="AbortError"||"message"in t&&String(t.message).includes("FetchRequestCanceledException"))}const mv=t=>{if(t instanceof Error)return t;if(typeof t=="object"&&t!==null){try{if(Object.prototype.toString.call(t)==="[object Error]"){const e=new Error(t.message,t.cause?{cause:t.cause}:{});return t.stack&&(e.stack=t.stack),t.cause&&!e.cause&&(e.cause=t.cause),t.name&&(e.name=t.name),e}}catch{}try{return new Error(JSON.stringify(t))}catch{}}return new Error(t)};class zn extends Error{}let qn=class gv extends zn{constructor(e,n,o,r){super(`${gv.makeMessage(e,n,o)}`),this.status=e,this.headers=r,this.error=n}static makeMessage(e,n,o){const r=n?.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):o;return e&&r?`${e} ${r}`:e?`${e} status code (no body)`:r||"(no status code or body)"}static generate(e,n,o,r){if(!e||!r)return new ip({message:o,cause:mv(n)});const a=n;return e===400?new bM(e,a,o,r):e===401?new wM(e,a,o,r):e===403?new TM(e,a,o,r):e===404?new CM(e,a,o,r):e===409?new AM(e,a,o,r):e===422?new xM(e,a,o,r):e===429?new RM(e,a,o,r):e>=500?new MM(e,a,o,r):new gv(e,a,o,r)}},vv=class extends qn{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}},ip=class extends qn{constructor({message:e,cause:n}){super(void 0,void 0,e||"Connection error.",void 0),n&&(this.cause=n)}},EM=class extends ip{constructor({message:e}={}){super({message:e??"Request timed out."})}},bM=class extends qn{},wM=class extends qn{},TM=class extends qn{},CM=class extends qn{},AM=class extends qn{},xM=class extends qn{},RM=class extends qn{},MM=class extends qn{};const lq=/^[a-z][a-z0-9+.-]*:/i,uq=t=>lq.test(t);let yv=t=>(yv=Array.isArray,yv(t));const cq=yv;let fq=cq;const nC=fq;function dq(t){if(!t)return!0;for(const e in t)return!1;return!0}function pq(t,e){return Object.prototype.hasOwnProperty.call(t,e)}const hq=(t,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new zn(`${t} must be an integer`);if(e<0)throw new zn(`${t} must be a positive integer`);return e},mq=t=>{try{return JSON.parse(t)}catch{return}};const gq=t=>new Promise(e=>setTimeout(e,t));const Ws="0.0.1";function vq(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const yq=()=>{var t,e,n,o,r;const a=vq();if(a==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ws,"X-Stainless-OS":iC(Deno.build.os),"X-Stainless-Arch":oC(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(e=(t=Deno.version)===null||t===void 0?void 0:t.deno)!==null&&e!==void 0?e:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ws,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(a==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ws,"X-Stainless-OS":iC((n=globalThis.process.platform)!==null&&n!==void 0?n:"unknown"),"X-Stainless-Arch":oC((o=globalThis.process.arch)!==null&&o!==void 0?o:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(r=globalThis.process.version)!==null&&r!==void 0?r:"unknown"};const u=_q();return u?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ws,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${u.browser}`,"X-Stainless-Runtime-Version":u.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ws,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function _q(){if(typeof navigator>"u"||!navigator)return null;const t=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:n}of t){const o=n.exec(navigator.userAgent);if(o){const r=o[1]||0,a=o[2]||0,u=o[3]||0;return{browser:e,version:`${r}.${a}.${u}`}}}return null}const oC=t=>t==="x32"?"x32":t==="x86_64"||t==="x64"?"x64":t==="arm"?"arm":t==="aarch64"||t==="arm64"?"arm64":t?`other:${t}`:"unknown",iC=t=>(t=t.toLowerCase(),t.includes("ios")?"iOS":t==="android"?"Android":t==="darwin"?"MacOS":t==="win32"?"Windows":t==="freebsd"?"FreeBSD":t==="openbsd"?"OpenBSD":t==="linux"?"Linux":t?`Other:${t}`:"Unknown");let vf;const Sq=()=>vf??(vf=yq());function Eq(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function NM(...t){const e=globalThis.ReadableStream;if(typeof e>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new e(...t)}function bq(t){let e=Symbol.asyncIterator in t?t[Symbol.asyncIterator]():t[Symbol.iterator]();return NM({start(){},async pull(n){const{done:o,value:r}=await e.next();o?n.close():n.enqueue(r)},async cancel(){var n;await((n=e.return)===null||n===void 0?void 0:n.call(e))}})}function IM(t){if(t[Symbol.asyncIterator])return t;const e=t.getReader();return{async next(){try{const n=await e.read();return n?.done&&e.releaseLock(),n}catch(n){throw e.releaseLock(),n}},async return(){const n=e.cancel();return e.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function wq(t){var e,n;if(t===null||typeof t!="object")return;if(t[Symbol.asyncIterator]){await((n=(e=t[Symbol.asyncIterator]()).return)===null||n===void 0?void 0:n.call(e));return}const o=t.getReader(),r=o.cancel();o.releaseLock(),await r}const Tq=({headers:t,body:e})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(e)});const DM=()=>{var t;if(typeof File>"u"){const{process:e}=globalThis,n=typeof((t=e?.versions)===null||t===void 0?void 0:t.node)=="string"&&parseInt(e.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(n?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function pg(t,e,n){return DM(),new File(t,e??"unknown_file",n)}function Cq(t){return(typeof t=="object"&&t!==null&&("name"in t&&t.name&&String(t.name)||"url"in t&&t.url&&String(t.url)||"filename"in t&&t.filename&&String(t.filename)||"path"in t&&t.path&&String(t.path))||"").split(/[\\/]/).pop()||void 0}const Aq=t=>t!=null&&typeof t=="object"&&typeof t[Symbol.asyncIterator]=="function";const OM=t=>t!=null&&typeof t=="object"&&typeof t.size=="number"&&typeof t.type=="string"&&typeof t.text=="function"&&typeof t.slice=="function"&&typeof t.arrayBuffer=="function",xq=t=>t!=null&&typeof t=="object"&&typeof t.name=="string"&&typeof t.lastModified=="number"&&OM(t),Rq=t=>t!=null&&typeof t=="object"&&typeof t.url=="string"&&typeof t.blob=="function";async function Mq(t,e,n){if(DM(),t=await t,xq(t))return t instanceof File?t:pg([await t.arrayBuffer()],t.name);if(Rq(t)){const r=await t.blob();return e||(e=new URL(t.url).pathname.split(/[\\/]/).pop()),pg(await _v(r),e,n)}const o=await _v(t);if(e||(e=Cq(t)),!n?.type){const r=o.find(a=>typeof a=="object"&&"type"in a&&a.type);typeof r=="string"&&(n=Object.assign(Object.assign({},n),{type:r}))}return pg(o,e,n)}async function _v(t){var e,n,o,r,a;let u=[];if(typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer)u.push(t);else if(OM(t))u.push(t instanceof Blob?t:await t.arrayBuffer());else if(Aq(t))try{for(var c=!0,p=io(t),d;d=await p.next(),e=d.done,!e;c=!0){r=d.value,c=!1;const m=r;u.push(...await _v(m))}}catch(m){n={error:m}}finally{try{!c&&!e&&(o=p.return)&&await o.call(p)}finally{if(n)throw n.error}}else{const m=(a=t?.constructor)===null||a===void 0?void 0:a.name;throw new Error(`Unexpected data type: ${typeof t}${m?`; constructor: ${m}`:""}${Nq(t)}`)}return u}function Nq(t){return typeof t!="object"||t===null?"":`; props: [${Object.getOwnPropertyNames(t).map(n=>`"${n}"`).join(", ")}]`}let PM=class{constructor(e){this._client=e}};PM._key=[];function LM(t){return t.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const rC=Object.freeze(Object.create(null)),Iq=(t=LM)=>(function(n,...o){if(n.length===1)return n[0];let r=!1;const a=[],u=n.reduce((m,y,S)=>{var E,T,C;/[?#]/.test(y)&&(r=!0);const x=o[S];let M=(r?encodeURIComponent:t)(""+x);return S!==o.length&&(x==null||typeof x=="object"&&x.toString===((C=Object.getPrototypeOf((T=Object.getPrototypeOf((E=x.hasOwnProperty)!==null&&E!==void 0?E:rC))!==null&&T!==void 0?T:rC))===null||C===void 0?void 0:C.toString))&&(M=x+"",a.push({start:m.length+y.length,length:M.length,error:`Value of type ${Object.prototype.toString.call(x).slice(8,-1)} is not a valid path parameter`})),m+y+(S===o.length?"":M)},""),c=u.split(/[?#]/,1)[0],p=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let d;for(;(d=p.exec(c))!==null;)a.push({start:d.index,length:d[0].length,error:`Value "${d[0]}" can't be safely passed as a path parameter`});if(a.sort((m,y)=>m.start-y.start),a.length>0){let m=0;const y=a.reduce((S,E)=>{const T=" ".repeat(E.start-m),C="^".repeat(E.length);return m=E.start+E.length,S+T+C},"");throw new zn(`Path parameters result in path with invalid segments:
${a.map(S=>S.error).join(`
`)}
${u}
${y}`)}return u}),yf=Iq(LM);class UM extends PM{create(e,n){var o;const{api_version:r=this._client.apiVersion}=e,a=_d(e,["api_version"]);if("model"in a&&"agent_config"in a)throw new zn("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in a&&"generation_config"in a)throw new zn("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(yf`/${r}/interactions`,Object.assign(Object.assign({body:a},n),{stream:(o=e.stream)!==null&&o!==void 0?o:!1}))}delete(e,n={},o){const{api_version:r=this._client.apiVersion}=n??{};return this._client.delete(yf`/${r}/interactions/${e}`,o)}cancel(e,n={},o){const{api_version:r=this._client.apiVersion}=n??{};return this._client.post(yf`/${r}/interactions/${e}/cancel`,o)}get(e,n={},o){var r;const a=n??{},{api_version:u=this._client.apiVersion}=a,c=_d(a,["api_version"]);return this._client.get(yf`/${u}/interactions/${e}`,Object.assign(Object.assign({query:c},o),{stream:(r=n?.stream)!==null&&r!==void 0?r:!1}))}}UM._key=Object.freeze(["interactions"]);class kM extends UM{}function Dq(t){let e=0;for(const r of t)e+=r.length;const n=new Uint8Array(e);let o=0;for(const r of t)n.set(r,o),o+=r.length;return n}let _f;function Oy(t){let e;return(_f??(e=new globalThis.TextEncoder,_f=e.encode.bind(e)))(t)}let Sf;function sC(t){let e;return(Sf??(e=new globalThis.TextDecoder,Sf=e.decode.bind(e)))(t)}let rp=class{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(e){if(e==null)return[];const n=e instanceof ArrayBuffer?new Uint8Array(e):typeof e=="string"?Oy(e):e;this.buffer=Dq([this.buffer,n]);const o=[];let r;for(;(r=Oq(this.buffer,this.carriageReturnIndex))!=null;){if(r.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=r.index;continue}if(this.carriageReturnIndex!=null&&(r.index!==this.carriageReturnIndex+1||r.carriage)){o.push(sC(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const a=this.carriageReturnIndex!==null?r.preceding-1:r.preceding,u=sC(this.buffer.subarray(0,a));o.push(u),this.buffer=this.buffer.subarray(r.index),this.carriageReturnIndex=null}return o}flush(){return this.buffer.length?this.decode(`
`):[]}};rp.NEWLINE_CHARS=new Set([`
`,"\r"]);rp.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function Oq(t,e){for(let r=e??0;r<t.length;r++){if(t[r]===10)return{preceding:r,index:r+1,carriage:!1};if(t[r]===13)return{preceding:r,index:r+1,carriage:!0}}return null}function Pq(t){for(let o=0;o<t.length-1;o++){if(t[o]===10&&t[o+1]===10||t[o]===13&&t[o+1]===13)return o+2;if(t[o]===13&&t[o+1]===10&&o+3<t.length&&t[o+2]===13&&t[o+3]===10)return o+4}return-1}const Sd={off:0,error:200,warn:300,info:400,debug:500},aC=(t,e,n)=>{if(t){if(pq(Sd,t))return t;Gt(n).warn(`${e} was set to ${JSON.stringify(t)}, expected one of ${JSON.stringify(Object.keys(Sd))}`)}};function Ol(){}function Ef(t,e,n){return!e||Sd[t]>Sd[n]?Ol:e[t].bind(e)}const Lq={error:Ol,warn:Ol,info:Ol,debug:Ol};let lC=new WeakMap;function Gt(t){var e;const n=t.logger,o=(e=t.logLevel)!==null&&e!==void 0?e:"off";if(!n)return Lq;const r=lC.get(n);if(r&&r[0]===o)return r[1];const a={error:Ef("error",n,o),warn:Ef("warn",n,o),info:Ef("info",n,o),debug:Ef("debug",n,o)};return lC.set(n,[o,a]),a}const Nr=t=>(t.options&&(t.options=Object.assign({},t.options),delete t.options.headers),t.headers&&(t.headers=Object.fromEntries((t.headers instanceof Headers?[...t.headers]:Object.entries(t.headers)).map(([e,n])=>[e,e.toLowerCase()==="x-goog-api-key"||e.toLowerCase()==="authorization"||e.toLowerCase()==="cookie"||e.toLowerCase()==="set-cookie"?"***":n]))),"retryOfRequestLogID"in t&&(t.retryOfRequestLogID&&(t.retryOf=t.retryOfRequestLogID),delete t.retryOfRequestLogID),t);let Uq=class Pl{constructor(e,n,o){this.iterator=e,this.controller=n,this.client=o}static fromSSEResponse(e,n,o){let r=!1;const a=o?Gt(o):console;function u(){return oo(this,arguments,function*(){var p,d,m,y;if(r)throw new zn("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let S=!1;try{try{for(var E=!0,T=io(kq(e,n)),C;C=yield Ce(T.next()),p=C.done,!p;E=!0){y=C.value,E=!1;const x=y;if(!S)if(x.data.startsWith("[DONE]")){S=!0;continue}else try{yield yield Ce(JSON.parse(x.data))}catch(M){throw a.error("Could not parse message into JSON:",x.data),a.error("From chunk:",x.raw),M}}}catch(x){d={error:x}}finally{try{!E&&!p&&(m=T.return)&&(yield Ce(m.call(T)))}finally{if(d)throw d.error}}S=!0}catch(x){if(hv(x))return yield Ce(void 0);throw x}finally{S||n.abort()}})}return new Pl(u,n,o)}static fromReadableStream(e,n,o){let r=!1;function a(){return oo(this,arguments,function*(){var p,d,m,y;const S=new rp,E=IM(e);try{for(var T=!0,C=io(E),x;x=yield Ce(C.next()),p=x.done,!p;T=!0){y=x.value,T=!1;const M=y;for(const I of S.decode(M))yield yield Ce(I)}}catch(M){d={error:M}}finally{try{!T&&!p&&(m=C.return)&&(yield Ce(m.call(C)))}finally{if(d)throw d.error}}for(const M of S.flush())yield yield Ce(M)})}function u(){return oo(this,arguments,function*(){var p,d,m,y;if(r)throw new zn("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let S=!1;try{try{for(var E=!0,T=io(a()),C;C=yield Ce(T.next()),p=C.done,!p;E=!0){y=C.value,E=!1;const x=y;S||x&&(yield yield Ce(JSON.parse(x)))}}catch(x){d={error:x}}finally{try{!E&&!p&&(m=T.return)&&(yield Ce(m.call(T)))}finally{if(d)throw d.error}}S=!0}catch(x){if(hv(x))return yield Ce(void 0);throw x}finally{S||n.abort()}})}return new Pl(u,n,o)}[Symbol.asyncIterator](){return this.iterator()}tee(){const e=[],n=[],o=this.iterator(),r=a=>({next:()=>{if(a.length===0){const u=o.next();e.push(u),n.push(u)}return a.shift()}});return[new Pl(()=>r(e),this.controller,this.client),new Pl(()=>r(n),this.controller,this.client)]}toReadableStream(){const e=this;let n;return NM({async start(){n=e[Symbol.asyncIterator]()},async pull(o){try{const{value:r,done:a}=await n.next();if(a)return o.close();const u=Oy(JSON.stringify(r)+`
`);o.enqueue(u)}catch(r){o.error(r)}},async cancel(){var o;await((o=n.return)===null||o===void 0?void 0:o.call(n))}})}};function kq(t,e){return oo(this,arguments,function*(){var o,r,a,u;if(!t.body)throw e.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new zn("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new zn("Attempted to iterate over a response with no body");const c=new Hq,p=new rp,d=IM(t.body);try{for(var m=!0,y=io(Bq(d)),S;S=yield Ce(y.next()),o=S.done,!o;m=!0){u=S.value,m=!1;const E=u;for(const T of p.decode(E)){const C=c.decode(T);C&&(yield yield Ce(C))}}}catch(E){r={error:E}}finally{try{!m&&!o&&(a=y.return)&&(yield Ce(a.call(y)))}finally{if(r)throw r.error}}for(const E of p.flush()){const T=c.decode(E);T&&(yield yield Ce(T))}})}function Bq(t){return oo(this,arguments,function*(){var n,o,r,a;let u=new Uint8Array;try{for(var c=!0,p=io(t),d;d=yield Ce(p.next()),n=d.done,!n;c=!0){a=d.value,c=!1;const m=a;if(m==null)continue;const y=m instanceof ArrayBuffer?new Uint8Array(m):typeof m=="string"?Oy(m):m;let S=new Uint8Array(u.length+y.length);S.set(u),S.set(y,u.length),u=S;let E;for(;(E=Pq(u))!==-1;)yield yield Ce(u.slice(0,E)),u=u.slice(E)}}catch(m){o={error:m}}finally{try{!c&&!n&&(r=p.return)&&(yield Ce(r.call(p)))}finally{if(o)throw o.error}}u.length>0&&(yield yield Ce(u))})}let Hq=class{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const a={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],a}if(this.chunks.push(e),e.startsWith(":"))return null;let[n,o,r]=Gq(e,":");return r.startsWith(" ")&&(r=r.substring(1)),n==="event"?this.event=r:n==="data"&&this.data.push(r),null}};function Gq(t,e){const n=t.indexOf(e);return n!==-1?[t.substring(0,n),e,t.substring(n+e.length)]:[t,"",""]}async function $q(t,e){const{response:n,requestLogID:o,retryOfRequestLogID:r,startTime:a}=e,u=await(async()=>{var c;if(e.options.stream)return Gt(t).debug("response",n.status,n.url,n.headers,n.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(n,e.controller,t):Uq.fromSSEResponse(n,e.controller,t);if(n.status===204)return null;if(e.options.__binaryResponse)return n;const p=n.headers.get("content-type"),d=(c=p?.split(";")[0])===null||c===void 0?void 0:c.trim();return d?.includes("application/json")||d?.endsWith("+json")?await n.json():await n.text()})();return Gt(t).debug(`[${o}] response parsed`,Nr({retryOfRequestLogID:r,url:n.url,status:n.status,body:u,durationMs:Date.now()-a})),u}let Fq=class BM extends Promise{constructor(e,n,o=$q){super(r=>{r(null)}),this.responsePromise=n,this.parseResponse=o,this.client=e}_thenUnwrap(e){return new BM(this.client,this.responsePromise,async(n,o)=>e(await this.parseResponse(n,o),o))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:n}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(e=>this.parseResponse(this.client,e))),this.parsedPromise}then(e,n){return this.parse().then(e,n)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}};const HM=Symbol("brand.privateNullableHeaders");function*Vq(t){if(!t)return;if(HM in t){const{values:o,nulls:r}=t;yield*o.entries();for(const a of r)yield[a,null];return}let e=!1,n;t instanceof Headers?n=t.entries():nC(t)?n=t:(e=!0,n=Object.entries(t??{}));for(let o of n){const r=o[0];if(typeof r!="string")throw new TypeError("expected header name to be a string");const a=nC(o[1])?o[1]:[o[1]];let u=!1;for(const c of a)c!==void 0&&(e&&!u&&(u=!0,yield[r,null]),yield[r,c])}}const hg=t=>{const e=new Headers,n=new Set;for(const o of t){const r=new Set;for(const[a,u]of Vq(o)){const c=a.toLowerCase();r.has(c)||(e.delete(a),r.add(c)),u===null?(e.delete(a),n.add(c)):(e.append(a,u),n.delete(c))}}return{[HM]:!0,values:e,nulls:n}};const mg=t=>{var e,n,o,r,a,u;if(typeof globalThis.process<"u")return(o=(n=(e=pH)===null||e===void 0?void 0:e[t])===null||n===void 0?void 0:n.trim())!==null&&o!==void 0?o:void 0;if(typeof globalThis.Deno<"u")return(u=(a=(r=globalThis.Deno.env)===null||r===void 0?void 0:r.get)===null||a===void 0?void 0:a.call(r,t))===null||u===void 0?void 0:u.trim()};var GM;class sp{constructor(e){var n,o,r,a,u,c,p,d=e===void 0?{}:e,{baseURL:m=mg("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:y=(n=mg("GEMINI_API_KEY"))!==null&&n!==void 0?n:null,apiVersion:S="v1beta"}=d,E=_d(d,["baseURL","apiKey","apiVersion"]);const T=Object.assign(Object.assign({apiKey:y,apiVersion:S},E),{baseURL:m||"https://generativelanguage.googleapis.com"});this.baseURL=T.baseURL,this.timeout=(o=T.timeout)!==null&&o!==void 0?o:sp.DEFAULT_TIMEOUT,this.logger=(r=T.logger)!==null&&r!==void 0?r:console;const C="warn";this.logLevel=C,this.logLevel=(u=(a=aC(T.logLevel,"ClientOptions.logLevel",this))!==null&&a!==void 0?a:aC(mg("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&u!==void 0?u:C,this.fetchOptions=T.fetchOptions,this.maxRetries=(c=T.maxRetries)!==null&&c!==void 0?c:2,this.fetch=(p=T.fetch)!==null&&p!==void 0?p:Eq(),this.encoder=Tq,this._options=T,this.apiKey=y,this.apiVersion=S}withOptions(e){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),e))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:e,nulls:n}){if(!(this.apiKey&&e.get("x-goog-api-key"))&&!n.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(e){if(this.apiKey!=null)return hg([{"x-goog-api-key":this.apiKey}])}stringifyQuery(e){return Object.entries(e).filter(([n,o])=>typeof o<"u").map(([n,o])=>{if(typeof o=="string"||typeof o=="number"||typeof o=="boolean")return`${encodeURIComponent(n)}=${encodeURIComponent(o)}`;if(o===null)return`${encodeURIComponent(n)}=`;throw new zn(`Cannot stringify type ${typeof o}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${Ws}`}defaultIdempotencyKey(){return`stainless-node-retry-${aq()}`}makeStatusError(e,n,o,r){return qn.generate(e,n,o,r)}buildURL(e,n,o){const r=!this.baseURLOverridden()&&o||this.baseURL,a=uq(e)?new URL(e):new URL(r+(r.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),u=this.defaultQuery();return dq(u)||(n=Object.assign(Object.assign({},u),n)),typeof n=="object"&&n&&!Array.isArray(n)&&(a.search=this.stringifyQuery(n)),a.toString()}async prepareOptions(e){}async prepareRequest(e,{url:n,options:o}){}get(e,n){return this.methodRequest("get",e,n)}post(e,n){return this.methodRequest("post",e,n)}patch(e,n){return this.methodRequest("patch",e,n)}put(e,n){return this.methodRequest("put",e,n)}delete(e,n){return this.methodRequest("delete",e,n)}methodRequest(e,n,o){return this.request(Promise.resolve(o).then(r=>Object.assign({method:e,path:n},r)))}request(e,n=null){return new Fq(this,this.makeRequest(e,n,void 0))}async makeRequest(e,n,o){var r,a,u;const c=await e,p=(r=c.maxRetries)!==null&&r!==void 0?r:this.maxRetries;n==null&&(n=p),await this.prepareOptions(c);const{req:d,url:m,timeout:y}=await this.buildRequest(c,{retryCount:p-n});await this.prepareRequest(d,{url:m,options:c});const S="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),E=o===void 0?"":`, retryOf: ${o}`,T=Date.now();if(Gt(this).debug(`[${S}] sending request`,Nr({retryOfRequestLogID:o,method:c.method,url:m,options:c,headers:d.headers})),!((a=c.signal)===null||a===void 0)&&a.aborted)throw new vv;const C=new AbortController,x=await this.fetchWithTimeout(m,d,y,C).catch(mv),M=Date.now();if(x instanceof globalThis.Error){const N=`retrying, ${n} attempts remaining`;if(!((u=c.signal)===null||u===void 0)&&u.aborted)throw new vv;const D=hv(x)||/timed? ?out/i.test(String(x)+("cause"in x?String(x.cause):""));if(n)return Gt(this).info(`[${S}] connection ${D?"timed out":"failed"} - ${N}`),Gt(this).debug(`[${S}] connection ${D?"timed out":"failed"} (${N})`,Nr({retryOfRequestLogID:o,url:m,durationMs:M-T,message:x.message})),this.retryRequest(c,n,o??S);throw Gt(this).info(`[${S}] connection ${D?"timed out":"failed"} - error; no more retries left`),Gt(this).debug(`[${S}] connection ${D?"timed out":"failed"} (error; no more retries left)`,Nr({retryOfRequestLogID:o,url:m,durationMs:M-T,message:x.message})),D?new EM:new ip({cause:x})}const I=`[${S}${E}] ${d.method} ${m} ${x.ok?"succeeded":"failed"} with status ${x.status} in ${M-T}ms`;if(!x.ok){const N=await this.shouldRetry(x);if(n&&N){const J=`retrying, ${n} attempts remaining`;return await wq(x.body),Gt(this).info(`${I} - ${J}`),Gt(this).debug(`[${S}] response error (${J})`,Nr({retryOfRequestLogID:o,url:x.url,status:x.status,headers:x.headers,durationMs:M-T})),this.retryRequest(c,n,o??S,x.headers)}const D=N?"error; no more retries left":"error; not retryable";Gt(this).info(`${I} - ${D}`);const U=await x.text().catch(J=>mv(J).message),k=mq(U),O=k?void 0:U;throw Gt(this).debug(`[${S}] response error (${D})`,Nr({retryOfRequestLogID:o,url:x.url,status:x.status,headers:x.headers,message:O,durationMs:Date.now()-T})),this.makeStatusError(x.status,k,O,x.headers)}return Gt(this).info(I),Gt(this).debug(`[${S}] response start`,Nr({retryOfRequestLogID:o,url:x.url,status:x.status,headers:x.headers,durationMs:M-T})),{response:x,options:c,controller:C,requestLogID:S,retryOfRequestLogID:o,startTime:T}}async fetchWithTimeout(e,n,o,r){const a=n||{},{signal:u,method:c}=a,p=_d(a,["signal","method"]);u&&u.addEventListener("abort",()=>r.abort());const d=setTimeout(()=>r.abort(),o),m=globalThis.ReadableStream&&p.body instanceof globalThis.ReadableStream||typeof p.body=="object"&&p.body!==null&&Symbol.asyncIterator in p.body,y=Object.assign(Object.assign(Object.assign({signal:r.signal},m?{duplex:"half"}:{}),{method:"GET"}),p);c&&(y.method=c.toUpperCase());try{return await this.fetch.call(void 0,e,y)}finally{clearTimeout(d)}}async shouldRetry(e){const n=e.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,n,o,r){var a;let u;const c=r?.get("retry-after-ms");if(c){const d=parseFloat(c);Number.isNaN(d)||(u=d)}const p=r?.get("retry-after");if(p&&!u){const d=parseFloat(p);Number.isNaN(d)?u=Date.parse(p)-Date.now():u=d*1e3}if(!(u&&0<=u&&u<60*1e3)){const d=(a=e.maxRetries)!==null&&a!==void 0?a:this.maxRetries;u=this.calculateDefaultRetryTimeoutMillis(n,d)}return await gq(u),this.makeRequest(e,n-1,o)}calculateDefaultRetryTimeoutMillis(e,n){const a=n-e,u=Math.min(.5*Math.pow(2,a),8),c=1-Math.random()*.25;return u*c*1e3}async buildRequest(e,{retryCount:n=0}={}){var o,r,a;const u=Object.assign({},e),{method:c,path:p,query:d,defaultBaseURL:m}=u,y=this.buildURL(p,d,m);"timeout"in u&&hq("timeout",u.timeout),u.timeout=(o=u.timeout)!==null&&o!==void 0?o:this.timeout;const{bodyHeaders:S,body:E}=this.buildBody({options:u}),T=await this.buildHeaders({options:e,method:c,bodyHeaders:S,retryCount:n});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:c,headers:T},u.signal&&{signal:u.signal}),globalThis.ReadableStream&&E instanceof globalThis.ReadableStream&&{duplex:"half"}),E&&{body:E}),(r=this.fetchOptions)!==null&&r!==void 0?r:{}),(a=u.fetchOptions)!==null&&a!==void 0?a:{}),url:y,timeout:u.timeout}}async buildHeaders({options:e,method:n,bodyHeaders:o,retryCount:r}){let a={};this.idempotencyHeader&&n!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),a[this.idempotencyHeader]=e.idempotencyKey);const u=hg([a,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(r)},e.timeout?{"X-Stainless-Timeout":String(Math.trunc(e.timeout/1e3))}:{}),Sq()),await this.authHeaders(e),this._options.defaultHeaders,o,e.headers]);return this.validateHeaders(u),u.values}buildBody({options:{body:e,headers:n}}){if(!e)return{bodyHeaders:void 0,body:void 0};const o=hg([n]);return ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof DataView||typeof e=="string"&&o.values.has("content-type")||globalThis.Blob&&e instanceof globalThis.Blob||e instanceof FormData||e instanceof URLSearchParams||globalThis.ReadableStream&&e instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:e}:typeof e=="object"&&(Symbol.asyncIterator in e||Symbol.iterator in e&&"next"in e&&typeof e.next=="function")?{bodyHeaders:void 0,body:bq(e)}:this.encoder({body:e,headers:o})}}sp.DEFAULT_TIMEOUT=6e4;class bt extends sp{constructor(){super(...arguments),this.interactions=new kM(this)}}GM=bt;bt.GeminiNextGenAPIClient=GM;bt.GeminiNextGenAPIClientError=zn;bt.APIError=qn;bt.APIConnectionError=ip;bt.APIConnectionTimeoutError=EM;bt.APIUserAbortError=vv;bt.NotFoundError=CM;bt.ConflictError=AM;bt.RateLimitError=RM;bt.BadRequestError=bM;bt.AuthenticationError=wM;bt.InternalServerError=MM;bt.PermissionDeniedError=TM;bt.UnprocessableEntityError=xM;bt.toFile=Mq;bt.Interactions=kM;function zq(t,e){const n={},o=h(t,["name"]);return o!=null&&g(n,["_url","name"],o),n}function qq(t,e){const n={},o=h(t,["name"]);return o!=null&&g(n,["_url","name"],o),n}function Jq(t,e){const n={},o=h(t,["sdkHttpResponse"]);return o!=null&&g(n,["sdkHttpResponse"],o),n}function Kq(t,e){const n={},o=h(t,["sdkHttpResponse"]);return o!=null&&g(n,["sdkHttpResponse"],o),n}function Yq(t,e,n){const o={};if(h(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const r=h(t,["tunedModelDisplayName"]);if(e!==void 0&&r!=null&&g(e,["displayName"],r),h(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const a=h(t,["epochCount"]);e!==void 0&&a!=null&&g(e,["tuningTask","hyperparameters","epochCount"],a);const u=h(t,["learningRateMultiplier"]);if(u!=null&&g(o,["tuningTask","hyperparameters","learningRateMultiplier"],u),h(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(h(t,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(h(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const c=h(t,["batchSize"]);e!==void 0&&c!=null&&g(e,["tuningTask","hyperparameters","batchSize"],c);const p=h(t,["learningRate"]);if(e!==void 0&&p!=null&&g(e,["tuningTask","hyperparameters","learningRate"],p),h(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(h(t,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return o}function Xq(t,e,n){const o={};let r=h(n,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){const E=h(t,["validationDataset"]);e!==void 0&&E!=null&&g(e,["supervisedTuningSpec"],uC(E))}else if(r==="PREFERENCE_TUNING"){const E=h(t,["validationDataset"]);e!==void 0&&E!=null&&g(e,["preferenceOptimizationSpec"],uC(E))}const a=h(t,["tunedModelDisplayName"]);e!==void 0&&a!=null&&g(e,["tunedModelDisplayName"],a);const u=h(t,["description"]);e!==void 0&&u!=null&&g(e,["description"],u);let c=h(n,["config","method"]);if(c===void 0&&(c="SUPERVISED_FINE_TUNING"),c==="SUPERVISED_FINE_TUNING"){const E=h(t,["epochCount"]);e!==void 0&&E!=null&&g(e,["supervisedTuningSpec","hyperParameters","epochCount"],E)}else if(c==="PREFERENCE_TUNING"){const E=h(t,["epochCount"]);e!==void 0&&E!=null&&g(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],E)}let p=h(n,["config","method"]);if(p===void 0&&(p="SUPERVISED_FINE_TUNING"),p==="SUPERVISED_FINE_TUNING"){const E=h(t,["learningRateMultiplier"]);e!==void 0&&E!=null&&g(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],E)}else if(p==="PREFERENCE_TUNING"){const E=h(t,["learningRateMultiplier"]);e!==void 0&&E!=null&&g(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],E)}let d=h(n,["config","method"]);if(d===void 0&&(d="SUPERVISED_FINE_TUNING"),d==="SUPERVISED_FINE_TUNING"){const E=h(t,["exportLastCheckpointOnly"]);e!==void 0&&E!=null&&g(e,["supervisedTuningSpec","exportLastCheckpointOnly"],E)}else if(d==="PREFERENCE_TUNING"){const E=h(t,["exportLastCheckpointOnly"]);e!==void 0&&E!=null&&g(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],E)}let m=h(n,["config","method"]);if(m===void 0&&(m="SUPERVISED_FINE_TUNING"),m==="SUPERVISED_FINE_TUNING"){const E=h(t,["adapterSize"]);e!==void 0&&E!=null&&g(e,["supervisedTuningSpec","hyperParameters","adapterSize"],E)}else if(m==="PREFERENCE_TUNING"){const E=h(t,["adapterSize"]);e!==void 0&&E!=null&&g(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],E)}if(h(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(h(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const y=h(t,["labels"]);e!==void 0&&y!=null&&g(e,["labels"],y);const S=h(t,["beta"]);return e!==void 0&&S!=null&&g(e,["preferenceOptimizationSpec","hyperParameters","beta"],S),o}function Wq(t,e){const n={},o=h(t,["baseModel"]);o!=null&&g(n,["baseModel"],o);const r=h(t,["preTunedModel"]);r!=null&&g(n,["preTunedModel"],r);const a=h(t,["trainingDataset"]);a!=null&&a3(a);const u=h(t,["config"]);return u!=null&&Yq(u,n),n}function jq(t,e){const n={},o=h(t,["baseModel"]);o!=null&&g(n,["baseModel"],o);const r=h(t,["preTunedModel"]);r!=null&&g(n,["preTunedModel"],r);const a=h(t,["trainingDataset"]);a!=null&&l3(a,n,e);const u=h(t,["config"]);return u!=null&&Xq(u,n,e),n}function Qq(t,e){const n={},o=h(t,["name"]);return o!=null&&g(n,["_url","name"],o),n}function Zq(t,e){const n={},o=h(t,["name"]);return o!=null&&g(n,["_url","name"],o),n}function e3(t,e,n){const o={},r=h(t,["pageSize"]);e!==void 0&&r!=null&&g(e,["_query","pageSize"],r);const a=h(t,["pageToken"]);e!==void 0&&a!=null&&g(e,["_query","pageToken"],a);const u=h(t,["filter"]);return e!==void 0&&u!=null&&g(e,["_query","filter"],u),o}function t3(t,e,n){const o={},r=h(t,["pageSize"]);e!==void 0&&r!=null&&g(e,["_query","pageSize"],r);const a=h(t,["pageToken"]);e!==void 0&&a!=null&&g(e,["_query","pageToken"],a);const u=h(t,["filter"]);return e!==void 0&&u!=null&&g(e,["_query","filter"],u),o}function n3(t,e){const n={},o=h(t,["config"]);return o!=null&&e3(o,n),n}function o3(t,e){const n={},o=h(t,["config"]);return o!=null&&t3(o,n),n}function i3(t,e){const n={},o=h(t,["sdkHttpResponse"]);o!=null&&g(n,["sdkHttpResponse"],o);const r=h(t,["nextPageToken"]);r!=null&&g(n,["nextPageToken"],r);const a=h(t,["tunedModels"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(c=>$M(c))),g(n,["tuningJobs"],u)}return n}function r3(t,e){const n={},o=h(t,["sdkHttpResponse"]);o!=null&&g(n,["sdkHttpResponse"],o);const r=h(t,["nextPageToken"]);r!=null&&g(n,["nextPageToken"],r);const a=h(t,["tuningJobs"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(c=>Sv(c))),g(n,["tuningJobs"],u)}return n}function s3(t,e){const n={},o=h(t,["name"]);o!=null&&g(n,["model"],o);const r=h(t,["name"]);return r!=null&&g(n,["endpoint"],r),n}function a3(t,e){const n={};if(h(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(h(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const o=h(t,["examples"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(a=>a)),g(n,["examples","examples"],r)}return n}function l3(t,e,n){const o={};let r=h(n,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){const u=h(t,["gcsUri"]);e!==void 0&&u!=null&&g(e,["supervisedTuningSpec","trainingDatasetUri"],u)}else if(r==="PREFERENCE_TUNING"){const u=h(t,["gcsUri"]);e!==void 0&&u!=null&&g(e,["preferenceOptimizationSpec","trainingDatasetUri"],u)}let a=h(n,["config","method"]);if(a===void 0&&(a="SUPERVISED_FINE_TUNING"),a==="SUPERVISED_FINE_TUNING"){const u=h(t,["vertexDatasetResource"]);e!==void 0&&u!=null&&g(e,["supervisedTuningSpec","trainingDatasetUri"],u)}else if(a==="PREFERENCE_TUNING"){const u=h(t,["vertexDatasetResource"]);e!==void 0&&u!=null&&g(e,["preferenceOptimizationSpec","trainingDatasetUri"],u)}if(h(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return o}function $M(t,e){const n={},o=h(t,["sdkHttpResponse"]);o!=null&&g(n,["sdkHttpResponse"],o);const r=h(t,["name"]);r!=null&&g(n,["name"],r);const a=h(t,["state"]);a!=null&&g(n,["state"],eM(a));const u=h(t,["createTime"]);u!=null&&g(n,["createTime"],u);const c=h(t,["tuningTask","startTime"]);c!=null&&g(n,["startTime"],c);const p=h(t,["tuningTask","completeTime"]);p!=null&&g(n,["endTime"],p);const d=h(t,["updateTime"]);d!=null&&g(n,["updateTime"],d);const m=h(t,["description"]);m!=null&&g(n,["description"],m);const y=h(t,["baseModel"]);y!=null&&g(n,["baseModel"],y);const S=h(t,["_self"]);return S!=null&&g(n,["tunedModel"],s3(S)),n}function Sv(t,e){const n={},o=h(t,["sdkHttpResponse"]);o!=null&&g(n,["sdkHttpResponse"],o);const r=h(t,["name"]);r!=null&&g(n,["name"],r);const a=h(t,["state"]);a!=null&&g(n,["state"],eM(a));const u=h(t,["createTime"]);u!=null&&g(n,["createTime"],u);const c=h(t,["startTime"]);c!=null&&g(n,["startTime"],c);const p=h(t,["endTime"]);p!=null&&g(n,["endTime"],p);const d=h(t,["updateTime"]);d!=null&&g(n,["updateTime"],d);const m=h(t,["error"]);m!=null&&g(n,["error"],m);const y=h(t,["description"]);y!=null&&g(n,["description"],y);const S=h(t,["baseModel"]);S!=null&&g(n,["baseModel"],S);const E=h(t,["tunedModel"]);E!=null&&g(n,["tunedModel"],E);const T=h(t,["preTunedModel"]);T!=null&&g(n,["preTunedModel"],T);const C=h(t,["supervisedTuningSpec"]);C!=null&&g(n,["supervisedTuningSpec"],C);const x=h(t,["preferenceOptimizationSpec"]);x!=null&&g(n,["preferenceOptimizationSpec"],x);const M=h(t,["tuningDataStats"]);M!=null&&g(n,["tuningDataStats"],M);const I=h(t,["encryptionSpec"]);I!=null&&g(n,["encryptionSpec"],I);const N=h(t,["partnerModelTuningSpec"]);N!=null&&g(n,["partnerModelTuningSpec"],N);const D=h(t,["customBaseModel"]);D!=null&&g(n,["customBaseModel"],D);const U=h(t,["experiment"]);U!=null&&g(n,["experiment"],U);const k=h(t,["labels"]);k!=null&&g(n,["labels"],k);const O=h(t,["outputUri"]);O!=null&&g(n,["outputUri"],O);const q=h(t,["pipelineJob"]);q!=null&&g(n,["pipelineJob"],q);const J=h(t,["serviceAccount"]);J!=null&&g(n,["serviceAccount"],J);const X=h(t,["tunedModelDisplayName"]);X!=null&&g(n,["tunedModelDisplayName"],X);const j=h(t,["veoTuningSpec"]);return j!=null&&g(n,["veoTuningSpec"],j),n}function u3(t,e){const n={},o=h(t,["sdkHttpResponse"]);o!=null&&g(n,["sdkHttpResponse"],o);const r=h(t,["name"]);r!=null&&g(n,["name"],r);const a=h(t,["metadata"]);a!=null&&g(n,["metadata"],a);const u=h(t,["done"]);u!=null&&g(n,["done"],u);const c=h(t,["error"]);return c!=null&&g(n,["error"],c),n}function uC(t,e){const n={},o=h(t,["gcsUri"]);o!=null&&g(n,["validationDatasetUri"],o);const r=h(t,["vertexDatasetResource"]);return r!=null&&g(n,["validationDatasetUri"],r),n}class c3 extends mi{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Zr(fi.PAGED_ITEM_TUNING_JOBS,o=>this.listInternal(o),await this.listInternal(n),n),this.get=async n=>await this.getInternal(n),this.tune=async n=>{var o;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const r={tunedModelName:n.baseModel};!((o=n.config)===null||o===void 0)&&o.preTunedModelCheckpointId&&(r.checkpointId=n.config.preTunedModelCheckpointId);const a=Object.assign(Object.assign({},n),{preTunedModel:r});return a.baseModel=void 0,await this.tuneInternal(a)}else{const r=Object.assign({},n);return await this.tuneInternal(r)}else{const r=Object.assign({},n),a=await this.tuneMldevInternal(r);let u="";return a.metadata!==void 0&&a.metadata.tunedModel!==void 0?u=a.metadata.tunedModel:a.name!==void 0&&a.name.includes("/operations/")&&(u=a.name.split("/operations/")[0]),{name:u,state:av.JOB_STATE_QUEUED}}}}async getInternal(e){var n,o,r,a;let u,c="",p={};if(this.apiClient.isVertexAI()){const d=Zq(e);return c=fe("{name}",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json().then(y=>{const S=y;return S.sdkHttpResponse={headers:m.headers},S})),u.then(m=>Sv(m))}else{const d=Qq(e);return c=fe("{name}",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json().then(y=>{const S=y;return S.sdkHttpResponse={headers:m.headers},S})),u.then(m=>$M(m))}}async listInternal(e){var n,o,r,a;let u,c="",p={};if(this.apiClient.isVertexAI()){const d=o3(e);return c=fe("tuningJobs",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json().then(y=>{const S=y;return S.sdkHttpResponse={headers:m.headers},S})),u.then(m=>{const y=r3(m),S=new LT;return Object.assign(S,y),S})}else{const d=n3(e);return c=fe("tunedModels",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json().then(y=>{const S=y;return S.sdkHttpResponse={headers:m.headers},S})),u.then(m=>{const y=i3(m),S=new LT;return Object.assign(S,y),S})}}async cancel(e){var n,o,r,a;let u,c="",p={};if(this.apiClient.isVertexAI()){const d=qq(e);return c=fe("{name}:cancel",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json().then(y=>{const S=y;return S.sdkHttpResponse={headers:m.headers},S})),u.then(m=>{const y=Kq(m),S=new UT;return Object.assign(S,y),S})}else{const d=zq(e);return c=fe("{name}:cancel",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json().then(y=>{const S=y;return S.sdkHttpResponse={headers:m.headers},S})),u.then(m=>{const y=Jq(m),S=new UT;return Object.assign(S,y),S})}}async tuneInternal(e){var n,o;let r,a="",u={};if(this.apiClient.isVertexAI()){const c=jq(e,e);return a=fe("tuningJobs",c._url),u=c._query,delete c._url,delete c._query,r=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json().then(d=>{const m=d;return m.sdkHttpResponse={headers:p.headers},m})),r.then(p=>Sv(p))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,o;let r,a="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=Wq(e);return a=fe("tunedModels",c._url),u=c._query,delete c._url,delete c._query,r=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json().then(d=>{const m=d;return m.sdkHttpResponse={headers:p.headers},m})),r.then(p=>u3(p))}}}class f3{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const d3=1024*1024*8,p3=3,h3=1e3,m3=2,Ed="x-goog-upload-status";async function g3(t,e,n){var o;const r=await FM(t,e,n),a=await r?.json();if(((o=r?.headers)===null||o===void 0?void 0:o[Ed])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return a.file}async function v3(t,e,n){var o;const r=await FM(t,e,n),a=await r?.json();if(((o=r?.headers)===null||o===void 0?void 0:o[Ed])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const u=YR(a),c=new xy;return Object.assign(c,u),c}async function FM(t,e,n){var o,r;let a=0,u=0,c=new lv(new Response),p="upload";for(a=t.size;u<a;){const d=Math.min(d3,a-u),m=t.slice(u,u+d);u+d>=a&&(p+=", finalize");let y=0,S=h3;for(;y<p3&&(c=await n.request({path:"",body:m,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":p,"X-Goog-Upload-Offset":String(u),"Content-Length":String(d)}}}),!(!((o=c?.headers)===null||o===void 0)&&o[Ed]));)y++,await _3(S),S=S*m3;if(u+=d,((r=c?.headers)===null||r===void 0?void 0:r[Ed])!=="active")break;if(a<=u)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return c}async function y3(t){return{size:t.size,type:t.type}}function _3(t){return new Promise(e=>setTimeout(e,t))}class S3{async upload(e,n,o){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await g3(e,n,o)}async uploadToFileSearchStore(e,n,o){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await v3(e,n,o)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await y3(e)}}class E3{create(e,n,o){return new b3(e,n,o)}}class b3{constructor(e,n,o){this.url=e,this.headers=n,this.callbacks=o}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}const cC="x-goog-api-key";class w3{constructor(e){this.apiKey=e}async addAuthHeaders(e,n){if(e.get(cC)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(cC,this.apiKey)}}}const T3="gl-node/";class C3{get interactions(){if(this._interactions!==void 0)return this._interactions;if(console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions."),this.vertexai)throw new Error("This version of the GenAI SDK does not support Vertex AI API for interactions.");const e=this.httpOptions;e?.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const n=new bt({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:e?.timeout});return this._interactions=n.interactions,this._interactions}constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;const o=vH(e.httpOptions,e.vertexai,void 0,void 0);o&&(e.httpOptions?e.httpOptions.baseUrl=o:e.httpOptions={baseUrl:o}),this.apiVersion=e.apiVersion,this.httpOptions=e.httpOptions;const r=new w3(this.apiKey);this.apiClient=new gz({auth:r,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:T3+"web",uploader:new S3,downloader:new f3}),this.models=new Lz(this.apiClient),this.live=new Mz(this.apiClient,r,new E3),this.batches=new JG(this.apiClient),this.chats=new x$(this.models,this.apiClient),this.caches=new T$(this.apiClient),this.files=new k$(this.apiClient),this.operations=new Uz(this.apiClient),this.authTokens=new Qz(this.apiClient),this.tunings=new c3(this.apiClient),this.fileSearchStores=new sq(this.apiClient)}}let gg=class extends Error{};const VM=["gemini-2.5-flash-image","gemini-3-pro-image-preview"];class la{static getApiKey=null;static setApiKey=null;static getGenAI(){const e=this.getApiKey?.()||"";if(!e)throw new gg("No Google API key set");return new C3({apiKey:e})}static async txt2txt(e){try{const n=this.getGenAI(),o={},r=await n.models.generateContent({model:"gemini-2.5-flash",contents:e,config:o});return console.log("RES TEXT",r.text),r.text}catch(n){console.error("Goo Err Response",n);const o=n?.message||"";if(o.includes("API key not valid")||o.includes("API_KEY_INVALID")||n instanceof gg)return this.showKeyPromptWindow(),null;throw n}}static async img2img(e,n=VM[0],o){try{const r=this.getGenAI(),a=[{text:e}];if(o?.length)for(const m of o)!m?.rawBase64||!m?.mime||(m.description&&a.push({text:m.description}),a.push({inlineData:{data:m.rawBase64,mimeType:m.mime}}));const u={model:n,contents:a,config:{imageConfig:{aspectRatio:"9:16",response_modalities:["Image"]}}};console.log("Gemini Payload",u);const c=await r.models.generateContent(u);console.log("GEMINI RES",c);const d=(c?.candidates??[])[0]?.content?.parts??[];for(const m of d)if(m.inlineData){const y=m.inlineData.data,S=m.inlineData.mimeType||"image/png";return{base64Obj:{rawBase64:y,mime:S},id:c.responseId}}return null}catch(r){const a=r?.message||"";if(a.includes("API key not valid")||a.includes("API_KEY_INVALID")||r instanceof gg)return this.showKeyPromptWindow(),null;throw console.error("img2img error",r),r}}static showKeyPromptWindow(){const e=window.prompt("Your Google API key is missing or invalid. Please enter a valid key:");e?this.setApiKey?.(e):console.warn("User did not provide a valid API key.")}static async saveResultImage(e,n){return e&&e.base64Obj?.rawBase64?await Jr.fromBase64({rawBase64:e.base64Obj.rawBase64,mime:e.base64Obj.mime},n,`${e.id}.png`):(console.warn("No valid image returned from GoogleAI.img2img"),null)}}async function fC(t,e){const n=Math.floor(Date.now()/1e3),o={alg:"HS256",typ:"JWT"},r={iss:t,exp:n+1800,nbf:n-5},a=vg(JSON.stringify(o)),u=vg(JSON.stringify(r)),c=`${a}.${u}`,p=await crypto.subtle.importKey("raw",new TextEncoder().encode(e),{name:"HMAC",hash:"SHA-256"},!1,["sign"]),d=await crypto.subtle.sign("HMAC",p,new TextEncoder().encode(c));return`${c}.${vg(d)}`}function vg(t){let e;typeof t=="string"?e=new TextEncoder().encode(t):e=new Uint8Array(t);let n="";for(let o=0;o<e.length;o++)n+=String.fromCharCode(e[o]);return btoa(n).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}const dC=["kling-v1-6","kling-v2-master","kling-v2-1-master","kling-v2-5-turbo","kling-v2-6","kling-v1"];class A3{static async txt2video(e,n){const r=`http://localhost:4000/proxy/${encodeURIComponent("https://api-singapore.klingai.com/v1/videos/text2video")}`,a={model_name:"kling-v1",mode:"pro",duration:"5",prompt:e,cfg_scale:.5},u=await fC(n.accessKey,n.secretKey);console.log("Kling Generate Video payload",{payload:a});const c=await fetch(r,{method:"POST",headers:{Authorization:`Bearer ${u}`,"Content-Type":"application/json"},body:JSON.stringify(a)});if(!c.ok){const d=await c.text();throw new Error(`Request failed: ${d}`)}const p=await c.json();return console.log("Kling Generate Video response",{data:p}),p}static async getStatus(e,n){const o=await fC(n.accessKey,n.secretKey),r=`https://api-singapore.klingai.com/v1/videos/text2video/${e}`,u=`http://localhost:4000/proxy/${encodeURIComponent(r)}`,c=await fetch(u,{method:"GET",headers:{Authorization:`Bearer ${o}`,"Content-Type":"application/json"}});if(!c.ok){const d=await c.text();throw new Error(`Task status request failed: ${d}`)}if((c.headers.get("content-type")||"").includes("application/json")){const d=await c.json();return{task_status:d?.data?.task_status||"unknown",task_status_msg:d?.data?.task_status_msg||"",video_url:d?.data?.task_result?.videos?.[0]?.url||null}}}}class pC{folder;scene;shotJson=null;images=[];srcImage=null;resultsFolder=null;is_generating=!1;selected_art=null;constructor(e,n){this.folder=e,this.scene=n,ir(this)}async load(){try{this.shotJson=await qr.create(this.folder,"shotinfo.json"),this.images=[],this.srcImage=null;try{this.resultsFolder=await this.folder.getDirectoryHandle("results",{create:!0});for await(const[e,n]of this.resultsFolder.entries())if(n.kind==="file"){const o=new Jr(n,this.resultsFolder);this.images.push(o),this.shotJson.data?.srcImage&&e===this.shotJson.data.srcImage&&(this.srcImage=o)}}catch(e){console.warn("No results folder found or failed to read:",e),this.resultsFolder=null}}catch(e){console.error("Error loading shot:",this.folder.name,e),this.shotJson=null,this.images=[],this.srcImage=null,this.resultsFolder=null}}setSrcImage(e){this.srcImage=e,this.shotJson?.data&&(this.shotJson.data.srcImage=e?.handle.name,this.shotJson.save())}async delete(){if(!this.scene?.folder){console.error("Cannot delete shot: scene folder not set");return}try{await this.scene.folder.removeEntry(this.folder.name,{recursive:!0}),Je(()=>{this.scene.shots=this.scene.shots.filter(e=>e!==this)})}catch(e){console.error("Failed to delete shot:",e)}}addImage(e){this.images.push(e),this.srcImage||this.setSrcImage(e)}removeImage(e){this.images=this.images.filter(n=>n!==e),this.srcImage===e&&this.setSrcImage(null)}async GenerateVideo(){return await A3.getStatus("840169918770987091",{accessKey:this.scene.project.userSettingsDB.data.api_keys.Kling_Acess_Key,secretKey:this.scene.project.userSettingsDB.data.api_keys.Kling_Secret_Key})}async GenerateImage(){if(!this.resultsFolder){console.warn("Results folder not set. Attempting to create one...");try{this.resultsFolder=await this.folder.getDirectoryHandle("results",{create:!0})}catch(r){console.error("Failed to create results folder:",r);return}}Je(()=>{this.is_generating=!0});const e=this.getSkippedTags(),n=[];for(const r of this.scene.getTags())if(!e.includes(r.path))try{const a=await r.image.getBase64();n.push({rawBase64:a.rawBase64,mime:a.mime,description:r.path})}catch(a){console.warn("Failed to load tag image:",r.path,a)}let o=this.shotJson?.data.prompt||"";try{const r=await la.img2img(o||"",this.scene.project.workflows.generate_shot_image.model,n),a=await la.saveResultImage(r,this.resultsFolder);a&&this.addImage(a)}catch(r){console.error("GenerateImage failed:",r)}finally{Je(()=>{this.is_generating=!1})}}log(){console.log(Eu(this))}selectArt(e=null){Je(()=>{this.selected_art=e})}async saveGoogleResultImage(e,n=!1){const o=await la.saveResultImage(e,this.resultsFolder);o&&(this.addImage(o),n&&this.selectArt(o))}getSkippedTags(){return this.shotJson?.data?.skippedTags||[]}setTagSkipped(e,n){this.shotJson?.data&&(Array.isArray(this.shotJson.data.skippedTags)||(this.shotJson.data.skippedTags=[]),Je(()=>{const o=this.shotJson.data.skippedTags;n?o.includes(e)||o.push(e):this.shotJson.data.skippedTags=o.filter(r=>r!==e)}),this.shotJson.save())}}function Te(t,e,n,o,r){if(typeof e=="function"?t!==e||!0:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,n),n}function V(t,e,n,o){if(n==="a"&&!o)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!o:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?o:n==="a"?o.call(t):o?o.value:e.get(t)}let zM=function(){const{crypto:t}=globalThis;if(t?.randomUUID)return zM=t.randomUUID.bind(t),t.randomUUID();const e=new Uint8Array(1),n=t?()=>t.getRandomValues(e)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,o=>(+o^n()&15>>+o/4).toString(16))};function Ev(t){return typeof t=="object"&&t!==null&&("name"in t&&t.name==="AbortError"||"message"in t&&String(t.message).includes("FetchRequestCanceledException"))}const bv=t=>{if(t instanceof Error)return t;if(typeof t=="object"&&t!==null){try{if(Object.prototype.toString.call(t)==="[object Error]"){const e=new Error(t.message,t.cause?{cause:t.cause}:{});return t.stack&&(e.stack=t.stack),t.cause&&!e.cause&&(e.cause=t.cause),t.name&&(e.name=t.name),e}}catch{}try{return new Error(JSON.stringify(t))}catch{}}return new Error(t)};class Se extends Error{}class It extends Se{constructor(e,n,o,r){super(`${It.makeMessage(e,n,o)}`),this.status=e,this.headers=r,this.requestID=r?.get("x-request-id"),this.error=n;const a=n;this.code=a?.code,this.param=a?.param,this.type=a?.type}static makeMessage(e,n,o){const r=n?.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):o;return e&&r?`${e} ${r}`:e?`${e} status code (no body)`:r||"(no status code or body)"}static generate(e,n,o,r){if(!e||!r)return new ap({message:o,cause:bv(n)});const a=n?.error;return e===400?new qM(e,a,o,r):e===401?new JM(e,a,o,r):e===403?new KM(e,a,o,r):e===404?new YM(e,a,o,r):e===409?new XM(e,a,o,r):e===422?new WM(e,a,o,r):e===429?new jM(e,a,o,r):e>=500?new QM(e,a,o,r):new It(e,a,o,r)}}class Bn extends It{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}}class ap extends It{constructor({message:e,cause:n}){super(void 0,void 0,e||"Connection error.",void 0),n&&(this.cause=n)}}class Py extends ap{constructor({message:e}={}){super({message:e??"Request timed out."})}}class qM extends It{}class JM extends It{}class KM extends It{}class YM extends It{}class XM extends It{}class WM extends It{}class jM extends It{}class QM extends It{}class ZM extends Se{constructor(){super("Could not parse response content as the length limit was reached")}}class eN extends Se{constructor(){super("Could not parse response content as the request was rejected by the content filter")}}class Ll extends Error{constructor(e){super(e)}}const x3=/^[a-z][a-z0-9+.-]*:/i,R3=t=>x3.test(t);let Qt=t=>(Qt=Array.isArray,Qt(t)),hC=Qt;function tN(t){return typeof t!="object"?{}:t??{}}function M3(t){if(!t)return!0;for(const e in t)return!1;return!0}function N3(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function yg(t){return t!=null&&typeof t=="object"&&!Array.isArray(t)}const I3=(t,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new Se(`${t} must be an integer`);if(e<0)throw new Se(`${t} must be a positive integer`);return e},D3=t=>{try{return JSON.parse(t)}catch{return}},Iu=t=>new Promise(e=>setTimeout(e,t)),js="6.10.0",O3=()=>typeof window<"u"&&typeof window.document<"u"&&typeof navigator<"u";function P3(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const L3=()=>{const t=P3();if(t==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":js,"X-Stainless-OS":gC(Deno.build.os),"X-Stainless-Arch":mC(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:Deno.version?.deno??"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":js,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(t==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":js,"X-Stainless-OS":gC(globalThis.process.platform??"unknown"),"X-Stainless-Arch":mC(globalThis.process.arch??"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":globalThis.process.version??"unknown"};const e=U3();return e?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":js,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${e.browser}`,"X-Stainless-Runtime-Version":e.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":js,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function U3(){if(typeof navigator>"u"||!navigator)return null;const t=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:n}of t){const o=n.exec(navigator.userAgent);if(o){const r=o[1]||0,a=o[2]||0,u=o[3]||0;return{browser:e,version:`${r}.${a}.${u}`}}}return null}const mC=t=>t==="x32"?"x32":t==="x86_64"||t==="x64"?"x64":t==="arm"?"arm":t==="aarch64"||t==="arm64"?"arm64":t?`other:${t}`:"unknown",gC=t=>(t=t.toLowerCase(),t.includes("ios")?"iOS":t==="android"?"Android":t==="darwin"?"MacOS":t==="win32"?"Windows":t==="freebsd"?"FreeBSD":t==="openbsd"?"OpenBSD":t==="linux"?"Linux":t?`Other:${t}`:"Unknown");let vC;const k3=()=>vC??(vC=L3());function B3(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new OpenAI({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function nN(...t){const e=globalThis.ReadableStream;if(typeof e>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new e(...t)}function oN(t){let e=Symbol.asyncIterator in t?t[Symbol.asyncIterator]():t[Symbol.iterator]();return nN({start(){},async pull(n){const{done:o,value:r}=await e.next();o?n.close():n.enqueue(r)},async cancel(){await e.return?.()}})}function iN(t){if(t[Symbol.asyncIterator])return t;const e=t.getReader();return{async next(){try{const n=await e.read();return n?.done&&e.releaseLock(),n}catch(n){throw e.releaseLock(),n}},async return(){const n=e.cancel();return e.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function H3(t){if(t===null||typeof t!="object")return;if(t[Symbol.asyncIterator]){await t[Symbol.asyncIterator]().return?.();return}const e=t.getReader(),n=e.cancel();e.releaseLock(),await n}const G3=({headers:t,body:e})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(e)}),rN="RFC3986",sN=t=>String(t),yC={RFC1738:t=>String(t).replace(/%20/g,"+"),RFC3986:sN},$3="RFC1738";let wv=(t,e)=>(wv=Object.hasOwn??Function.prototype.call.bind(Object.prototype.hasOwnProperty),wv(t,e));const vo=(()=>{const t=[];for(let e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t})(),_g=1024,F3=(t,e,n,o,r)=>{if(t.length===0)return t;let a=t;if(typeof t=="symbol"?a=Symbol.prototype.toString.call(t):typeof t!="string"&&(a=String(t)),n==="iso-8859-1")return escape(a).replace(/%u[0-9a-f]{4}/gi,function(c){return"%26%23"+parseInt(c.slice(2),16)+"%3B"});let u="";for(let c=0;c<a.length;c+=_g){const p=a.length>=_g?a.slice(c,c+_g):a,d=[];for(let m=0;m<p.length;++m){let y=p.charCodeAt(m);if(y===45||y===46||y===95||y===126||y>=48&&y<=57||y>=65&&y<=90||y>=97&&y<=122||r===$3&&(y===40||y===41)){d[d.length]=p.charAt(m);continue}if(y<128){d[d.length]=vo[y];continue}if(y<2048){d[d.length]=vo[192|y>>6]+vo[128|y&63];continue}if(y<55296||y>=57344){d[d.length]=vo[224|y>>12]+vo[128|y>>6&63]+vo[128|y&63];continue}m+=1,y=65536+((y&1023)<<10|p.charCodeAt(m)&1023),d[d.length]=vo[240|y>>18]+vo[128|y>>12&63]+vo[128|y>>6&63]+vo[128|y&63]}u+=d.join("")}return u};function V3(t){return!t||typeof t!="object"?!1:!!(t.constructor&&t.constructor.isBuffer&&t.constructor.isBuffer(t))}function _C(t,e){if(Qt(t)){const n=[];for(let o=0;o<t.length;o+=1)n.push(e(t[o]));return n}return e(t)}const aN={brackets(t){return String(t)+"[]"},comma:"comma",indices(t,e){return String(t)+"["+e+"]"},repeat(t){return String(t)}},lN=function(t,e){Array.prototype.push.apply(t,Qt(e)?e:[e])};let SC;const vt={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:F3,encodeValuesOnly:!1,format:rN,formatter:sN,indices:!1,serializeDate(t){return(SC??(SC=Function.prototype.call.bind(Date.prototype.toISOString)))(t)},skipNulls:!1,strictNullHandling:!1};function z3(t){return typeof t=="string"||typeof t=="number"||typeof t=="boolean"||typeof t=="symbol"||typeof t=="bigint"}const Sg={};function uN(t,e,n,o,r,a,u,c,p,d,m,y,S,E,T,C,x,M){let I=t,N=M,D=0,U=!1;for(;(N=N.get(Sg))!==void 0&&!U;){const X=N.get(t);if(D+=1,typeof X<"u"){if(X===D)throw new RangeError("Cyclic object value");U=!0}typeof N.get(Sg)>"u"&&(D=0)}if(typeof d=="function"?I=d(e,I):I instanceof Date?I=S?.(I):n==="comma"&&Qt(I)&&(I=_C(I,function(X){return X instanceof Date?S?.(X):X})),I===null){if(a)return p&&!C?p(e,vt.encoder,x,"key",E):e;I=""}if(z3(I)||V3(I)){if(p){const X=C?e:p(e,vt.encoder,x,"key",E);return[T?.(X)+"="+T?.(p(I,vt.encoder,x,"value",E))]}return[T?.(e)+"="+T?.(String(I))]}const k=[];if(typeof I>"u")return k;let O;if(n==="comma"&&Qt(I))C&&p&&(I=_C(I,p)),O=[{value:I.length>0?I.join(",")||null:void 0}];else if(Qt(d))O=d;else{const X=Object.keys(I);O=m?X.sort(m):X}const q=c?String(e).replace(/\./g,"%2E"):String(e),J=o&&Qt(I)&&I.length===1?q+"[]":q;if(r&&Qt(I)&&I.length===0)return J+"[]";for(let X=0;X<O.length;++X){const j=O[X],re=typeof j=="object"&&typeof j.value<"u"?j.value:I[j];if(u&&re===null)continue;const oe=y&&c?j.replace(/\./g,"%2E"):j,ae=Qt(I)?typeof n=="function"?n(J,oe):J:J+(y?"."+oe:"["+oe+"]");M.set(t,D);const de=new WeakMap;de.set(Sg,M),lN(k,uN(re,ae,n,o,r,a,u,c,n==="comma"&&C&&Qt(I)?null:p,d,m,y,S,E,T,C,x,de))}return k}function q3(t=vt){if(typeof t.allowEmptyArrays<"u"&&typeof t.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof t.encodeDotInKeys<"u"&&typeof t.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(t.encoder!==null&&typeof t.encoder<"u"&&typeof t.encoder!="function")throw new TypeError("Encoder has to be a function.");const e=t.charset||vt.charset;if(typeof t.charset<"u"&&t.charset!=="utf-8"&&t.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");let n=rN;if(typeof t.format<"u"){if(!wv(yC,t.format))throw new TypeError("Unknown format option provided.");n=t.format}const o=yC[n];let r=vt.filter;(typeof t.filter=="function"||Qt(t.filter))&&(r=t.filter);let a;if(t.arrayFormat&&t.arrayFormat in aN?a=t.arrayFormat:"indices"in t?a=t.indices?"indices":"repeat":a=vt.arrayFormat,"commaRoundTrip"in t&&typeof t.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");const u=typeof t.allowDots>"u"?t.encodeDotInKeys?!0:vt.allowDots:!!t.allowDots;return{addQueryPrefix:typeof t.addQueryPrefix=="boolean"?t.addQueryPrefix:vt.addQueryPrefix,allowDots:u,allowEmptyArrays:typeof t.allowEmptyArrays=="boolean"?!!t.allowEmptyArrays:vt.allowEmptyArrays,arrayFormat:a,charset:e,charsetSentinel:typeof t.charsetSentinel=="boolean"?t.charsetSentinel:vt.charsetSentinel,commaRoundTrip:!!t.commaRoundTrip,delimiter:typeof t.delimiter>"u"?vt.delimiter:t.delimiter,encode:typeof t.encode=="boolean"?t.encode:vt.encode,encodeDotInKeys:typeof t.encodeDotInKeys=="boolean"?t.encodeDotInKeys:vt.encodeDotInKeys,encoder:typeof t.encoder=="function"?t.encoder:vt.encoder,encodeValuesOnly:typeof t.encodeValuesOnly=="boolean"?t.encodeValuesOnly:vt.encodeValuesOnly,filter:r,format:n,formatter:o,serializeDate:typeof t.serializeDate=="function"?t.serializeDate:vt.serializeDate,skipNulls:typeof t.skipNulls=="boolean"?t.skipNulls:vt.skipNulls,sort:typeof t.sort=="function"?t.sort:null,strictNullHandling:typeof t.strictNullHandling=="boolean"?t.strictNullHandling:vt.strictNullHandling}}function J3(t,e={}){let n=t;const o=q3(e);let r,a;typeof o.filter=="function"?(a=o.filter,n=a("",n)):Qt(o.filter)&&(a=o.filter,r=a);const u=[];if(typeof n!="object"||n===null)return"";const c=aN[o.arrayFormat],p=c==="comma"&&o.commaRoundTrip;r||(r=Object.keys(n)),o.sort&&r.sort(o.sort);const d=new WeakMap;for(let S=0;S<r.length;++S){const E=r[S];o.skipNulls&&n[E]===null||lN(u,uN(n[E],E,c,p,o.allowEmptyArrays,o.strictNullHandling,o.skipNulls,o.encodeDotInKeys,o.encode?o.encoder:null,o.filter,o.sort,o.allowDots,o.serializeDate,o.format,o.formatter,o.encodeValuesOnly,o.charset,d))}const m=u.join(o.delimiter);let y=o.addQueryPrefix===!0?"?":"";return o.charsetSentinel&&(o.charset==="iso-8859-1"?y+="utf8=%26%2310003%3B&":y+="utf8=%E2%9C%93&"),m.length>0?y+m:""}function K3(t){let e=0;for(const r of t)e+=r.length;const n=new Uint8Array(e);let o=0;for(const r of t)n.set(r,o),o+=r.length;return n}let EC;function Ly(t){let e;return(EC??(e=new globalThis.TextEncoder,EC=e.encode.bind(e)))(t)}let bC;function wC(t){let e;return(bC??(e=new globalThis.TextDecoder,bC=e.decode.bind(e)))(t)}var pn,hn;class lp{constructor(){pn.set(this,void 0),hn.set(this,void 0),Te(this,pn,new Uint8Array),Te(this,hn,null)}decode(e){if(e==null)return[];const n=e instanceof ArrayBuffer?new Uint8Array(e):typeof e=="string"?Ly(e):e;Te(this,pn,K3([V(this,pn,"f"),n]));const o=[];let r;for(;(r=Y3(V(this,pn,"f"),V(this,hn,"f")))!=null;){if(r.carriage&&V(this,hn,"f")==null){Te(this,hn,r.index);continue}if(V(this,hn,"f")!=null&&(r.index!==V(this,hn,"f")+1||r.carriage)){o.push(wC(V(this,pn,"f").subarray(0,V(this,hn,"f")-1))),Te(this,pn,V(this,pn,"f").subarray(V(this,hn,"f"))),Te(this,hn,null);continue}const a=V(this,hn,"f")!==null?r.preceding-1:r.preceding,u=wC(V(this,pn,"f").subarray(0,a));o.push(u),Te(this,pn,V(this,pn,"f").subarray(r.index)),Te(this,hn,null)}return o}flush(){return V(this,pn,"f").length?this.decode(`
`):[]}}pn=new WeakMap,hn=new WeakMap;lp.NEWLINE_CHARS=new Set([`
`,"\r"]);lp.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function Y3(t,e){for(let r=e??0;r<t.length;r++){if(t[r]===10)return{preceding:r,index:r+1,carriage:!1};if(t[r]===13)return{preceding:r,index:r+1,carriage:!0}}return null}function X3(t){for(let o=0;o<t.length-1;o++){if(t[o]===10&&t[o+1]===10||t[o]===13&&t[o+1]===13)return o+2;if(t[o]===13&&t[o+1]===10&&o+3<t.length&&t[o+2]===13&&t[o+3]===10)return o+4}return-1}const bd={off:0,error:200,warn:300,info:400,debug:500},TC=(t,e,n)=>{if(t){if(N3(bd,t))return t;Mt(n).warn(`${e} was set to ${JSON.stringify(t)}, expected one of ${JSON.stringify(Object.keys(bd))}`)}};function Ul(){}function bf(t,e,n){return!e||bd[t]>bd[n]?Ul:e[t].bind(e)}const W3={error:Ul,warn:Ul,info:Ul,debug:Ul};let CC=new WeakMap;function Mt(t){const e=t.logger,n=t.logLevel??"off";if(!e)return W3;const o=CC.get(e);if(o&&o[0]===n)return o[1];const r={error:bf("error",e,n),warn:bf("warn",e,n),info:bf("info",e,n),debug:bf("debug",e,n)};return CC.set(e,[n,r]),r}const Ir=t=>(t.options&&(t.options={...t.options},delete t.options.headers),t.headers&&(t.headers=Object.fromEntries((t.headers instanceof Headers?[...t.headers]:Object.entries(t.headers)).map(([e,n])=>[e,e.toLowerCase()==="authorization"||e.toLowerCase()==="cookie"||e.toLowerCase()==="set-cookie"?"***":n]))),"retryOfRequestLogID"in t&&(t.retryOfRequestLogID&&(t.retryOf=t.retryOfRequestLogID),delete t.retryOfRequestLogID),t);var Il;class bo{constructor(e,n,o){this.iterator=e,Il.set(this,void 0),this.controller=n,Te(this,Il,o)}static fromSSEResponse(e,n,o){let r=!1;const a=o?Mt(o):console;async function*u(){if(r)throw new Se("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let c=!1;try{for await(const p of j3(e,n))if(!c){if(p.data.startsWith("[DONE]")){c=!0;continue}if(p.event===null||!p.event.startsWith("thread.")){let d;try{d=JSON.parse(p.data)}catch(m){throw a.error("Could not parse message into JSON:",p.data),a.error("From chunk:",p.raw),m}if(d&&d.error)throw new It(void 0,d.error,void 0,e.headers);yield d}else{let d;try{d=JSON.parse(p.data)}catch(m){throw console.error("Could not parse message into JSON:",p.data),console.error("From chunk:",p.raw),m}if(p.event=="error")throw new It(void 0,d.error,d.message,void 0);yield{event:p.event,data:d}}}c=!0}catch(p){if(Ev(p))return;throw p}finally{c||n.abort()}}return new bo(u,n,o)}static fromReadableStream(e,n,o){let r=!1;async function*a(){const c=new lp,p=iN(e);for await(const d of p)for(const m of c.decode(d))yield m;for(const d of c.flush())yield d}async function*u(){if(r)throw new Se("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let c=!1;try{for await(const p of a())c||p&&(yield JSON.parse(p));c=!0}catch(p){if(Ev(p))return;throw p}finally{c||n.abort()}}return new bo(u,n,o)}[(Il=new WeakMap,Symbol.asyncIterator)](){return this.iterator()}tee(){const e=[],n=[],o=this.iterator(),r=a=>({next:()=>{if(a.length===0){const u=o.next();e.push(u),n.push(u)}return a.shift()}});return[new bo(()=>r(e),this.controller,V(this,Il,"f")),new bo(()=>r(n),this.controller,V(this,Il,"f"))]}toReadableStream(){const e=this;let n;return nN({async start(){n=e[Symbol.asyncIterator]()},async pull(o){try{const{value:r,done:a}=await n.next();if(a)return o.close();const u=Ly(JSON.stringify(r)+`
`);o.enqueue(u)}catch(r){o.error(r)}},async cancel(){await n.return?.()}})}}async function*j3(t,e){if(!t.body)throw e.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new Se("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new Se("Attempted to iterate over a response with no body");const n=new Z3,o=new lp,r=iN(t.body);for await(const a of Q3(r))for(const u of o.decode(a)){const c=n.decode(u);c&&(yield c)}for(const a of o.flush()){const u=n.decode(a);u&&(yield u)}}async function*Q3(t){let e=new Uint8Array;for await(const n of t){if(n==null)continue;const o=n instanceof ArrayBuffer?new Uint8Array(n):typeof n=="string"?Ly(n):n;let r=new Uint8Array(e.length+o.length);r.set(e),r.set(o,e.length),e=r;let a;for(;(a=X3(e))!==-1;)yield e.slice(0,a),e=e.slice(a)}e.length>0&&(yield e)}class Z3{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const a={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],a}if(this.chunks.push(e),e.startsWith(":"))return null;let[n,o,r]=e4(e,":");return r.startsWith(" ")&&(r=r.substring(1)),n==="event"?this.event=r:n==="data"&&this.data.push(r),null}}function e4(t,e){const n=t.indexOf(e);return n!==-1?[t.substring(0,n),e,t.substring(n+e.length)]:[t,"",""]}async function cN(t,e){const{response:n,requestLogID:o,retryOfRequestLogID:r,startTime:a}=e,u=await(async()=>{if(e.options.stream)return Mt(t).debug("response",n.status,n.url,n.headers,n.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(n,e.controller,t):bo.fromSSEResponse(n,e.controller,t);if(n.status===204)return null;if(e.options.__binaryResponse)return n;const p=n.headers.get("content-type")?.split(";")[0]?.trim();if(p?.includes("application/json")||p?.endsWith("+json")){const y=await n.json();return fN(y,n)}return await n.text()})();return Mt(t).debug(`[${o}] response parsed`,Ir({retryOfRequestLogID:r,url:n.url,status:n.status,body:u,durationMs:Date.now()-a})),u}function fN(t,e){return!t||typeof t!="object"||Array.isArray(t)?t:Object.defineProperty(t,"_request_id",{value:e.headers.get("x-request-id"),enumerable:!1})}var kl;class up extends Promise{constructor(e,n,o=cN){super(r=>{r(null)}),this.responsePromise=n,this.parseResponse=o,kl.set(this,void 0),Te(this,kl,e)}_thenUnwrap(e){return new up(V(this,kl,"f"),this.responsePromise,async(n,o)=>fN(e(await this.parseResponse(n,o),o),o.response))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:n,request_id:n.headers.get("x-request-id")}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(e=>this.parseResponse(V(this,kl,"f"),e))),this.parsedPromise}then(e,n){return this.parse().then(e,n)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}kl=new WeakMap;var wf;class Uy{constructor(e,n,o,r){wf.set(this,void 0),Te(this,wf,e),this.options=r,this.response=n,this.body=o}hasNextPage(){return this.getPaginatedItems().length?this.nextPageRequestOptions()!=null:!1}async getNextPage(){const e=this.nextPageRequestOptions();if(!e)throw new Se("No next page expected; please check `.hasNextPage()` before calling `.getNextPage()`.");return await V(this,wf,"f").requestAPIList(this.constructor,e)}async*iterPages(){let e=this;for(yield e;e.hasNextPage();)e=await e.getNextPage(),yield e}async*[(wf=new WeakMap,Symbol.asyncIterator)](){for await(const e of this.iterPages())for(const n of e.getPaginatedItems())yield n}}class t4 extends up{constructor(e,n,o){super(e,n,async(r,a)=>new o(r,a.response,await cN(r,a),a.options))}async*[Symbol.asyncIterator](){const e=await this;for await(const n of e)yield n}}class cp extends Uy{constructor(e,n,o,r){super(e,n,o,r),this.data=o.data||[],this.object=o.object}getPaginatedItems(){return this.data??[]}nextPageRequestOptions(){return null}}class ht extends Uy{constructor(e,n,o,r){super(e,n,o,r),this.data=o.data||[],this.has_more=o.has_more||!1}getPaginatedItems(){return this.data??[]}hasNextPage(){return this.has_more===!1?!1:super.hasNextPage()}nextPageRequestOptions(){const e=this.getPaginatedItems(),n=e[e.length-1]?.id;return n?{...this.options,query:{...tN(this.options.query),after:n}}:null}}class wd extends Uy{constructor(e,n,o,r){super(e,n,o,r),this.data=o.data||[],this.has_more=o.has_more||!1,this.last_id=o.last_id||""}getPaginatedItems(){return this.data??[]}hasNextPage(){return this.has_more===!1?!1:super.hasNextPage()}nextPageRequestOptions(){const e=this.last_id;return e?{...this.options,query:{...tN(this.options.query),after:e}}:null}}const dN=()=>{if(typeof File>"u"){const{process:t}=globalThis,e=typeof t?.versions?.node=="string"&&parseInt(t.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(e?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function Wl(t,e,n){return dN(),new File(t,e??"unknown_file",n)}function qf(t){return(typeof t=="object"&&t!==null&&("name"in t&&t.name&&String(t.name)||"url"in t&&t.url&&String(t.url)||"filename"in t&&t.filename&&String(t.filename)||"path"in t&&t.path&&String(t.path))||"").split(/[\\/]/).pop()||void 0}const ky=t=>t!=null&&typeof t=="object"&&typeof t[Symbol.asyncIterator]=="function",AC=async(t,e)=>Tv(t.body)?{...t,body:await pN(t.body,e)}:t,Kr=async(t,e)=>({...t,body:await pN(t.body,e)}),xC=new WeakMap;function n4(t){const e=typeof t=="function"?t:t.fetch,n=xC.get(e);if(n)return n;const o=(async()=>{try{const r="Response"in e?e.Response:(await e("data:,")).constructor,a=new FormData;return a.toString()!==await new r(a).text()}catch{return!0}})();return xC.set(e,o),o}const pN=async(t,e)=>{if(!await n4(e))throw new TypeError("The provided fetch function does not support file uploads with the current global FormData class.");const n=new FormData;return await Promise.all(Object.entries(t||{}).map(([o,r])=>Cv(n,o,r))),n},hN=t=>t instanceof Blob&&"name"in t,o4=t=>typeof t=="object"&&t!==null&&(t instanceof Response||ky(t)||hN(t)),Tv=t=>{if(o4(t))return!0;if(Array.isArray(t))return t.some(Tv);if(t&&typeof t=="object"){for(const e in t)if(Tv(t[e]))return!0}return!1},Cv=async(t,e,n)=>{if(n!==void 0){if(n==null)throw new TypeError(`Received null for "${e}"; to pass null in FormData, you must use the string 'null'`);if(typeof n=="string"||typeof n=="number"||typeof n=="boolean")t.append(e,String(n));else if(n instanceof Response)t.append(e,Wl([await n.blob()],qf(n)));else if(ky(n))t.append(e,Wl([await new Response(oN(n)).blob()],qf(n)));else if(hN(n))t.append(e,n,qf(n));else if(Array.isArray(n))await Promise.all(n.map(o=>Cv(t,e+"[]",o)));else if(typeof n=="object")await Promise.all(Object.entries(n).map(([o,r])=>Cv(t,`${e}[${o}]`,r)));else throw new TypeError(`Invalid value given to form, expected a string, number, boolean, object, Array, File or Blob but got ${n} instead`)}},mN=t=>t!=null&&typeof t=="object"&&typeof t.size=="number"&&typeof t.type=="string"&&typeof t.text=="function"&&typeof t.slice=="function"&&typeof t.arrayBuffer=="function",i4=t=>t!=null&&typeof t=="object"&&typeof t.name=="string"&&typeof t.lastModified=="number"&&mN(t),r4=t=>t!=null&&typeof t=="object"&&typeof t.url=="string"&&typeof t.blob=="function";async function s4(t,e,n){if(dN(),t=await t,i4(t))return t instanceof File?t:Wl([await t.arrayBuffer()],t.name);if(r4(t)){const r=await t.blob();return e||(e=new URL(t.url).pathname.split(/[\\/]/).pop()),Wl(await Av(r),e,n)}const o=await Av(t);if(e||(e=qf(t)),!n?.type){const r=o.find(a=>typeof a=="object"&&"type"in a&&a.type);typeof r=="string"&&(n={...n,type:r})}return Wl(o,e,n)}async function Av(t){let e=[];if(typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer)e.push(t);else if(mN(t))e.push(t instanceof Blob?t:await t.arrayBuffer());else if(ky(t))for await(const n of t)e.push(...await Av(n));else{const n=t?.constructor?.name;throw new Error(`Unexpected data type: ${typeof t}${n?`; constructor: ${n}`:""}${a4(t)}`)}return e}function a4(t){return typeof t!="object"||t===null?"":`; props: [${Object.getOwnPropertyNames(t).map(n=>`"${n}"`).join(", ")}]`}class ye{constructor(e){this._client=e}}function gN(t){return t.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const RC=Object.freeze(Object.create(null)),l4=(t=gN)=>function(n,...o){if(n.length===1)return n[0];let r=!1;const a=[],u=n.reduce((m,y,S)=>{/[?#]/.test(y)&&(r=!0);const E=o[S];let T=(r?encodeURIComponent:t)(""+E);return S!==o.length&&(E==null||typeof E=="object"&&E.toString===Object.getPrototypeOf(Object.getPrototypeOf(E.hasOwnProperty??RC)??RC)?.toString)&&(T=E+"",a.push({start:m.length+y.length,length:T.length,error:`Value of type ${Object.prototype.toString.call(E).slice(8,-1)} is not a valid path parameter`})),m+y+(S===o.length?"":T)},""),c=u.split(/[?#]/,1)[0],p=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let d;for(;(d=p.exec(c))!==null;)a.push({start:d.index,length:d[0].length,error:`Value "${d[0]}" can't be safely passed as a path parameter`});if(a.sort((m,y)=>m.start-y.start),a.length>0){let m=0;const y=a.reduce((S,E)=>{const T=" ".repeat(E.start-m),C="^".repeat(E.length);return m=E.start+E.length,S+T+C},"");throw new Se(`Path parameters result in path with invalid segments:
${a.map(S=>S.error).join(`
`)}
${u}
${y}`)}return u},ie=l4(gN);let vN=class extends ye{list(e,n={},o){return this._client.getAPIList(ie`/chat/completions/${e}/messages`,ht,{query:n,...o})}};function Td(t){return t!==void 0&&"function"in t&&t.function!==void 0}function By(t){return t?.$brand==="auto-parseable-response-format"}function Du(t){return t?.$brand==="auto-parseable-tool"}function u4(t,e){return!e||!yN(e)?{...t,choices:t.choices.map(n=>(_N(n.message.tool_calls),{...n,message:{...n.message,parsed:null,...n.message.tool_calls?{tool_calls:n.message.tool_calls}:void 0}}))}:Hy(t,e)}function Hy(t,e){const n=t.choices.map(o=>{if(o.finish_reason==="length")throw new ZM;if(o.finish_reason==="content_filter")throw new eN;return _N(o.message.tool_calls),{...o,message:{...o.message,...o.message.tool_calls?{tool_calls:o.message.tool_calls?.map(r=>f4(e,r))??void 0}:void 0,parsed:o.message.content&&!o.message.refusal?c4(e,o.message.content):null}}});return{...t,choices:n}}function c4(t,e){return t.response_format?.type!=="json_schema"?null:t.response_format?.type==="json_schema"?"$parseRaw"in t.response_format?t.response_format.$parseRaw(e):JSON.parse(e):null}function f4(t,e){const n=t.tools?.find(o=>Td(o)&&o.function?.name===e.function.name);return{...e,function:{...e.function,parsed_arguments:Du(n)?n.$parseRaw(e.function.arguments):n?.function.strict?JSON.parse(e.function.arguments):null}}}function d4(t,e){if(!t||!("tools"in t)||!t.tools)return!1;const n=t.tools?.find(o=>Td(o)&&o.function?.name===e.function.name);return Td(n)&&(Du(n)||n?.function.strict||!1)}function yN(t){return By(t.response_format)?!0:t.tools?.some(e=>Du(e)||e.type==="function"&&e.function.strict===!0)??!1}function _N(t){for(const e of t||[])if(e.type!=="function")throw new Se(`Currently only \`function\` tool calls are supported; Received \`${e.type}\``)}function p4(t){for(const e of t??[]){if(e.type!=="function")throw new Se(`Currently only \`function\` tool types support auto-parsing; Received \`${e.type}\``);if(e.function.strict!==!0)throw new Se(`The \`${e.function.name}\` tool is not marked with \`strict: true\`. Only strict function tools can be auto-parsed`)}}const Cd=t=>t?.role==="assistant",SN=t=>t?.role==="tool";var xv,Jf,Kf,Bl,Hl,Yf,Gl,ei,$l,Ad,xd,Qs,EN;class Gy{constructor(){xv.add(this),this.controller=new AbortController,Jf.set(this,void 0),Kf.set(this,()=>{}),Bl.set(this,()=>{}),Hl.set(this,void 0),Yf.set(this,()=>{}),Gl.set(this,()=>{}),ei.set(this,{}),$l.set(this,!1),Ad.set(this,!1),xd.set(this,!1),Qs.set(this,!1),Te(this,Jf,new Promise((e,n)=>{Te(this,Kf,e,"f"),Te(this,Bl,n,"f")})),Te(this,Hl,new Promise((e,n)=>{Te(this,Yf,e,"f"),Te(this,Gl,n,"f")})),V(this,Jf,"f").catch(()=>{}),V(this,Hl,"f").catch(()=>{})}_run(e){setTimeout(()=>{e().then(()=>{this._emitFinal(),this._emit("end")},V(this,xv,"m",EN).bind(this))},0)}_connected(){this.ended||(V(this,Kf,"f").call(this),this._emit("connect"))}get ended(){return V(this,$l,"f")}get errored(){return V(this,Ad,"f")}get aborted(){return V(this,xd,"f")}abort(){this.controller.abort()}on(e,n){return(V(this,ei,"f")[e]||(V(this,ei,"f")[e]=[])).push({listener:n}),this}off(e,n){const o=V(this,ei,"f")[e];if(!o)return this;const r=o.findIndex(a=>a.listener===n);return r>=0&&o.splice(r,1),this}once(e,n){return(V(this,ei,"f")[e]||(V(this,ei,"f")[e]=[])).push({listener:n,once:!0}),this}emitted(e){return new Promise((n,o)=>{Te(this,Qs,!0),e!=="error"&&this.once("error",o),this.once(e,n)})}async done(){Te(this,Qs,!0),await V(this,Hl,"f")}_emit(e,...n){if(V(this,$l,"f"))return;e==="end"&&(Te(this,$l,!0),V(this,Yf,"f").call(this));const o=V(this,ei,"f")[e];if(o&&(V(this,ei,"f")[e]=o.filter(r=>!r.once),o.forEach(({listener:r})=>r(...n))),e==="abort"){const r=n[0];!V(this,Qs,"f")&&!o?.length&&Promise.reject(r),V(this,Bl,"f").call(this,r),V(this,Gl,"f").call(this,r),this._emit("end");return}if(e==="error"){const r=n[0];!V(this,Qs,"f")&&!o?.length&&Promise.reject(r),V(this,Bl,"f").call(this,r),V(this,Gl,"f").call(this,r),this._emit("end")}}_emitFinal(){}}Jf=new WeakMap,Kf=new WeakMap,Bl=new WeakMap,Hl=new WeakMap,Yf=new WeakMap,Gl=new WeakMap,ei=new WeakMap,$l=new WeakMap,Ad=new WeakMap,xd=new WeakMap,Qs=new WeakMap,xv=new WeakSet,EN=function(e){if(Te(this,Ad,!0),e instanceof Error&&e.name==="AbortError"&&(e=new Bn),e instanceof Bn)return Te(this,xd,!0),this._emit("abort",e);if(e instanceof Se)return this._emit("error",e);if(e instanceof Error){const n=new Se(e.message);return n.cause=e,this._emit("error",n)}return this._emit("error",new Se(String(e)))};function h4(t){return typeof t.parse=="function"}var Ht,Rv,Rd,Mv,Nv,Iv,bN,wN;const m4=10;class TN extends Gy{constructor(){super(...arguments),Ht.add(this),this._chatCompletions=[],this.messages=[]}_addChatCompletion(e){this._chatCompletions.push(e),this._emit("chatCompletion",e);const n=e.choices[0]?.message;return n&&this._addMessage(n),e}_addMessage(e,n=!0){if("content"in e||(e.content=null),this.messages.push(e),n){if(this._emit("message",e),SN(e)&&e.content)this._emit("functionToolCallResult",e.content);else if(Cd(e)&&e.tool_calls)for(const o of e.tool_calls)o.type==="function"&&this._emit("functionToolCall",o.function)}}async finalChatCompletion(){await this.done();const e=this._chatCompletions[this._chatCompletions.length-1];if(!e)throw new Se("stream ended without producing a ChatCompletion");return e}async finalContent(){return await this.done(),V(this,Ht,"m",Rv).call(this)}async finalMessage(){return await this.done(),V(this,Ht,"m",Rd).call(this)}async finalFunctionToolCall(){return await this.done(),V(this,Ht,"m",Mv).call(this)}async finalFunctionToolCallResult(){return await this.done(),V(this,Ht,"m",Nv).call(this)}async totalUsage(){return await this.done(),V(this,Ht,"m",Iv).call(this)}allChatCompletions(){return[...this._chatCompletions]}_emitFinal(){const e=this._chatCompletions[this._chatCompletions.length-1];e&&this._emit("finalChatCompletion",e);const n=V(this,Ht,"m",Rd).call(this);n&&this._emit("finalMessage",n);const o=V(this,Ht,"m",Rv).call(this);o&&this._emit("finalContent",o);const r=V(this,Ht,"m",Mv).call(this);r&&this._emit("finalFunctionToolCall",r);const a=V(this,Ht,"m",Nv).call(this);a!=null&&this._emit("finalFunctionToolCallResult",a),this._chatCompletions.some(u=>u.usage)&&this._emit("totalUsage",V(this,Ht,"m",Iv).call(this))}async _createChatCompletion(e,n,o){const r=o?.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",()=>this.controller.abort())),V(this,Ht,"m",bN).call(this,n);const a=await e.chat.completions.create({...n,stream:!1},{...o,signal:this.controller.signal});return this._connected(),this._addChatCompletion(Hy(a,n))}async _runChatCompletion(e,n,o){for(const r of n.messages)this._addMessage(r,!1);return await this._createChatCompletion(e,n,o)}async _runTools(e,n,o){const r="tool",{tool_choice:a="auto",stream:u,...c}=n,p=typeof a!="string"&&a.type==="function"&&a?.function?.name,{maxChatCompletions:d=m4}=o||{},m=n.tools.map(E=>{if(Du(E)){if(!E.$callback)throw new Se("Tool given to `.runTools()` that does not have an associated function");return{type:"function",function:{function:E.$callback,name:E.function.name,description:E.function.description||"",parameters:E.function.parameters,parse:E.$parseRaw,strict:!0}}}return E}),y={};for(const E of m)E.type==="function"&&(y[E.function.name||E.function.function.name]=E.function);const S="tools"in n?m.map(E=>E.type==="function"?{type:"function",function:{name:E.function.name||E.function.function.name,parameters:E.function.parameters,description:E.function.description,strict:E.function.strict}}:E):void 0;for(const E of n.messages)this._addMessage(E,!1);for(let E=0;E<d;++E){const C=(await this._createChatCompletion(e,{...c,tool_choice:a,tools:S,messages:[...this.messages]},o)).choices[0]?.message;if(!C)throw new Se("missing message in ChatCompletion response");if(!C.tool_calls?.length)return;for(const x of C.tool_calls){if(x.type!=="function")continue;const M=x.id,{name:I,arguments:N}=x.function,D=y[I];if(D){if(p&&p!==I){const q=`Invalid tool_call: ${JSON.stringify(I)}. ${JSON.stringify(p)} requested. Please try again`;this._addMessage({role:r,tool_call_id:M,content:q});continue}}else{const q=`Invalid tool_call: ${JSON.stringify(I)}. Available options are: ${Object.keys(y).map(J=>JSON.stringify(J)).join(", ")}. Please try again`;this._addMessage({role:r,tool_call_id:M,content:q});continue}let U;try{U=h4(D)?await D.parse(N):N}catch(q){const J=q instanceof Error?q.message:String(q);this._addMessage({role:r,tool_call_id:M,content:J});continue}const k=await D.function(U,this),O=V(this,Ht,"m",wN).call(this,k);if(this._addMessage({role:r,tool_call_id:M,content:O}),p)return}}}}Ht=new WeakSet,Rv=function(){return V(this,Ht,"m",Rd).call(this).content??null},Rd=function(){let e=this.messages.length;for(;e-- >0;){const n=this.messages[e];if(Cd(n))return{...n,content:n.content??null,refusal:n.refusal??null}}throw new Se("stream ended without producing a ChatCompletionMessage with role=assistant")},Mv=function(){for(let e=this.messages.length-1;e>=0;e--){const n=this.messages[e];if(Cd(n)&&n?.tool_calls?.length)return n.tool_calls.filter(o=>o.type==="function").at(-1)?.function}},Nv=function(){for(let e=this.messages.length-1;e>=0;e--){const n=this.messages[e];if(SN(n)&&n.content!=null&&typeof n.content=="string"&&this.messages.some(o=>o.role==="assistant"&&o.tool_calls?.some(r=>r.type==="function"&&r.id===n.tool_call_id)))return n.content}},Iv=function(){const e={completion_tokens:0,prompt_tokens:0,total_tokens:0};for(const{usage:n}of this._chatCompletions)n&&(e.completion_tokens+=n.completion_tokens,e.prompt_tokens+=n.prompt_tokens,e.total_tokens+=n.total_tokens);return e},bN=function(e){if(e.n!=null&&e.n>1)throw new Se("ChatCompletion convenience helpers only support n=1 at this time. To use n>1, please use chat.completions.create() directly.")},wN=function(e){return typeof e=="string"?e:e===void 0?"undefined":JSON.stringify(e)};class $y extends TN{static runTools(e,n,o){const r=new $y,a={...o,headers:{...o?.headers,"X-Stainless-Helper-Method":"runTools"}};return r._run(()=>r._runTools(e,n,a)),r}_addMessage(e,n=!0){super._addMessage(e,n),Cd(e)&&e.content&&this._emit("content",e.content)}}const CN=1,AN=2,xN=4,RN=8,MN=16,NN=32,IN=64,DN=128,ON=256,PN=DN|ON,LN=MN|NN|PN|IN,UN=CN|AN|LN,kN=xN|RN,g4=UN|kN,St={STR:CN,NUM:AN,ARR:xN,OBJ:RN,NULL:MN,BOOL:NN,NAN:IN,INFINITY:DN,MINUS_INFINITY:ON,INF:PN,SPECIAL:LN,ATOM:UN,COLLECTION:kN,ALL:g4};class v4 extends Error{}class y4 extends Error{}function _4(t,e=St.ALL){if(typeof t!="string")throw new TypeError(`expecting str, got ${typeof t}`);if(!t.trim())throw new Error(`${t} is empty`);return S4(t.trim(),e)}const S4=(t,e)=>{const n=t.length;let o=0;const r=S=>{throw new v4(`${S} at position ${o}`)},a=S=>{throw new y4(`${S} at position ${o}`)},u=()=>(y(),o>=n&&r("Unexpected end of input"),t[o]==='"'?c():t[o]==="{"?p():t[o]==="["?d():t.substring(o,o+4)==="null"||St.NULL&e&&n-o<4&&"null".startsWith(t.substring(o))?(o+=4,null):t.substring(o,o+4)==="true"||St.BOOL&e&&n-o<4&&"true".startsWith(t.substring(o))?(o+=4,!0):t.substring(o,o+5)==="false"||St.BOOL&e&&n-o<5&&"false".startsWith(t.substring(o))?(o+=5,!1):t.substring(o,o+8)==="Infinity"||St.INFINITY&e&&n-o<8&&"Infinity".startsWith(t.substring(o))?(o+=8,1/0):t.substring(o,o+9)==="-Infinity"||St.MINUS_INFINITY&e&&1<n-o&&n-o<9&&"-Infinity".startsWith(t.substring(o))?(o+=9,-1/0):t.substring(o,o+3)==="NaN"||St.NAN&e&&n-o<3&&"NaN".startsWith(t.substring(o))?(o+=3,NaN):m()),c=()=>{const S=o;let E=!1;for(o++;o<n&&(t[o]!=='"'||E&&t[o-1]==="\\");)E=t[o]==="\\"?!E:!1,o++;if(t.charAt(o)=='"')try{return JSON.parse(t.substring(S,++o-Number(E)))}catch(T){a(String(T))}else if(St.STR&e)try{return JSON.parse(t.substring(S,o-Number(E))+'"')}catch{return JSON.parse(t.substring(S,t.lastIndexOf("\\"))+'"')}r("Unterminated string literal")},p=()=>{o++,y();const S={};try{for(;t[o]!=="}";){if(y(),o>=n&&St.OBJ&e)return S;const E=c();y(),o++;try{const T=u();Object.defineProperty(S,E,{value:T,writable:!0,enumerable:!0,configurable:!0})}catch(T){if(St.OBJ&e)return S;throw T}y(),t[o]===","&&o++}}catch{if(St.OBJ&e)return S;r("Expected '}' at end of object")}return o++,S},d=()=>{o++;const S=[];try{for(;t[o]!=="]";)S.push(u()),y(),t[o]===","&&o++}catch{if(St.ARR&e)return S;r("Expected ']' at end of array")}return o++,S},m=()=>{if(o===0){t==="-"&&St.NUM&e&&r("Not sure what '-' is");try{return JSON.parse(t)}catch(E){if(St.NUM&e)try{return t[t.length-1]==="."?JSON.parse(t.substring(0,t.lastIndexOf("."))):JSON.parse(t.substring(0,t.lastIndexOf("e")))}catch{}a(String(E))}}const S=o;for(t[o]==="-"&&o++;t[o]&&!",]}".includes(t[o]);)o++;o==n&&!(St.NUM&e)&&r("Unterminated number literal");try{return JSON.parse(t.substring(S,o))}catch{t.substring(S,o)==="-"&&St.NUM&e&&r("Not sure what '-' is");try{return JSON.parse(t.substring(S,t.lastIndexOf("e")))}catch(T){a(String(T))}}},y=()=>{for(;o<n&&` 
\r	`.includes(t[o]);)o++};return u()},MC=t=>_4(t,St.ALL^St.NUM);var gt,Zo,Vs,zi,Eg,Tf,bg,wg,Tg,Cf,Cg,NC;class ru extends TN{constructor(e){super(),gt.add(this),Zo.set(this,void 0),Vs.set(this,void 0),zi.set(this,void 0),Te(this,Zo,e),Te(this,Vs,[])}get currentChatCompletionSnapshot(){return V(this,zi,"f")}static fromReadableStream(e){const n=new ru(null);return n._run(()=>n._fromReadableStream(e)),n}static createChatCompletion(e,n,o){const r=new ru(n);return r._run(()=>r._runChatCompletion(e,{...n,stream:!0},{...o,headers:{...o?.headers,"X-Stainless-Helper-Method":"stream"}})),r}async _createChatCompletion(e,n,o){super._createChatCompletion;const r=o?.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",()=>this.controller.abort())),V(this,gt,"m",Eg).call(this);const a=await e.chat.completions.create({...n,stream:!0},{...o,signal:this.controller.signal});this._connected();for await(const u of a)V(this,gt,"m",bg).call(this,u);if(a.controller.signal?.aborted)throw new Bn;return this._addChatCompletion(V(this,gt,"m",Cf).call(this))}async _fromReadableStream(e,n){const o=n?.signal;o&&(o.aborted&&this.controller.abort(),o.addEventListener("abort",()=>this.controller.abort())),V(this,gt,"m",Eg).call(this),this._connected();const r=bo.fromReadableStream(e,this.controller);let a;for await(const u of r)a&&a!==u.id&&this._addChatCompletion(V(this,gt,"m",Cf).call(this)),V(this,gt,"m",bg).call(this,u),a=u.id;if(r.controller.signal?.aborted)throw new Bn;return this._addChatCompletion(V(this,gt,"m",Cf).call(this))}[(Zo=new WeakMap,Vs=new WeakMap,zi=new WeakMap,gt=new WeakSet,Eg=function(){this.ended||Te(this,zi,void 0)},Tf=function(n){let o=V(this,Vs,"f")[n.index];return o||(o={content_done:!1,refusal_done:!1,logprobs_content_done:!1,logprobs_refusal_done:!1,done_tool_calls:new Set,current_tool_call_index:null},V(this,Vs,"f")[n.index]=o,o)},bg=function(n){if(this.ended)return;const o=V(this,gt,"m",NC).call(this,n);this._emit("chunk",n,o);for(const r of n.choices){const a=o.choices[r.index];r.delta.content!=null&&a.message?.role==="assistant"&&a.message?.content&&(this._emit("content",r.delta.content,a.message.content),this._emit("content.delta",{delta:r.delta.content,snapshot:a.message.content,parsed:a.message.parsed})),r.delta.refusal!=null&&a.message?.role==="assistant"&&a.message?.refusal&&this._emit("refusal.delta",{delta:r.delta.refusal,snapshot:a.message.refusal}),r.logprobs?.content!=null&&a.message?.role==="assistant"&&this._emit("logprobs.content.delta",{content:r.logprobs?.content,snapshot:a.logprobs?.content??[]}),r.logprobs?.refusal!=null&&a.message?.role==="assistant"&&this._emit("logprobs.refusal.delta",{refusal:r.logprobs?.refusal,snapshot:a.logprobs?.refusal??[]});const u=V(this,gt,"m",Tf).call(this,a);a.finish_reason&&(V(this,gt,"m",Tg).call(this,a),u.current_tool_call_index!=null&&V(this,gt,"m",wg).call(this,a,u.current_tool_call_index));for(const c of r.delta.tool_calls??[])u.current_tool_call_index!==c.index&&(V(this,gt,"m",Tg).call(this,a),u.current_tool_call_index!=null&&V(this,gt,"m",wg).call(this,a,u.current_tool_call_index)),u.current_tool_call_index=c.index;for(const c of r.delta.tool_calls??[]){const p=a.message.tool_calls?.[c.index];p?.type&&(p?.type==="function"?this._emit("tool_calls.function.arguments.delta",{name:p.function?.name,index:c.index,arguments:p.function.arguments,parsed_arguments:p.function.parsed_arguments,arguments_delta:c.function?.arguments??""}):(p?.type,void 0))}}},wg=function(n,o){if(V(this,gt,"m",Tf).call(this,n).done_tool_calls.has(o))return;const a=n.message.tool_calls?.[o];if(!a)throw new Error("no tool call snapshot");if(!a.type)throw new Error("tool call snapshot missing `type`");if(a.type==="function"){const u=V(this,Zo,"f")?.tools?.find(c=>Td(c)&&c.function.name===a.function.name);this._emit("tool_calls.function.arguments.done",{name:a.function.name,index:o,arguments:a.function.arguments,parsed_arguments:Du(u)?u.$parseRaw(a.function.arguments):u?.function.strict?JSON.parse(a.function.arguments):null})}else a.type},Tg=function(n){const o=V(this,gt,"m",Tf).call(this,n);if(n.message.content&&!o.content_done){o.content_done=!0;const r=V(this,gt,"m",Cg).call(this);this._emit("content.done",{content:n.message.content,parsed:r?r.$parseRaw(n.message.content):null})}n.message.refusal&&!o.refusal_done&&(o.refusal_done=!0,this._emit("refusal.done",{refusal:n.message.refusal})),n.logprobs?.content&&!o.logprobs_content_done&&(o.logprobs_content_done=!0,this._emit("logprobs.content.done",{content:n.logprobs.content})),n.logprobs?.refusal&&!o.logprobs_refusal_done&&(o.logprobs_refusal_done=!0,this._emit("logprobs.refusal.done",{refusal:n.logprobs.refusal}))},Cf=function(){if(this.ended)throw new Se("stream has ended, this shouldn't happen");const n=V(this,zi,"f");if(!n)throw new Se("request ended without sending any chunks");return Te(this,zi,void 0),Te(this,Vs,[]),E4(n,V(this,Zo,"f"))},Cg=function(){const n=V(this,Zo,"f")?.response_format;return By(n)?n:null},NC=function(n){var o,r,a,u;let c=V(this,zi,"f");const{choices:p,...d}=n;c?Object.assign(c,d):c=Te(this,zi,{...d,choices:[]});for(const{delta:m,finish_reason:y,index:S,logprobs:E=null,...T}of n.choices){let C=c.choices[S];if(C||(C=c.choices[S]={finish_reason:y,index:S,message:{},logprobs:E,...T}),E)if(!C.logprobs)C.logprobs=Object.assign({},E);else{const{content:k,refusal:O,...q}=E;Object.assign(C.logprobs,q),k&&((o=C.logprobs).content??(o.content=[]),C.logprobs.content.push(...k)),O&&((r=C.logprobs).refusal??(r.refusal=[]),C.logprobs.refusal.push(...O))}if(y&&(C.finish_reason=y,V(this,Zo,"f")&&yN(V(this,Zo,"f")))){if(y==="length")throw new ZM;if(y==="content_filter")throw new eN}if(Object.assign(C,T),!m)continue;const{content:x,refusal:M,function_call:I,role:N,tool_calls:D,...U}=m;if(Object.assign(C.message,U),M&&(C.message.refusal=(C.message.refusal||"")+M),N&&(C.message.role=N),I&&(C.message.function_call?(I.name&&(C.message.function_call.name=I.name),I.arguments&&((a=C.message.function_call).arguments??(a.arguments=""),C.message.function_call.arguments+=I.arguments)):C.message.function_call=I),x&&(C.message.content=(C.message.content||"")+x,!C.message.refusal&&V(this,gt,"m",Cg).call(this)&&(C.message.parsed=MC(C.message.content))),D){C.message.tool_calls||(C.message.tool_calls=[]);for(const{index:k,id:O,type:q,function:J,...X}of D){const j=(u=C.message.tool_calls)[k]??(u[k]={});Object.assign(j,X),O&&(j.id=O),q&&(j.type=q),J&&(j.function??(j.function={name:J.name??"",arguments:""})),J?.name&&(j.function.name=J.name),J?.arguments&&(j.function.arguments+=J.arguments,d4(V(this,Zo,"f"),j)&&(j.function.parsed_arguments=MC(j.function.arguments)))}}}return c},Symbol.asyncIterator)](){const e=[],n=[];let o=!1;return this.on("chunk",r=>{const a=n.shift();a?a.resolve(r):e.push(r)}),this.on("end",()=>{o=!0;for(const r of n)r.resolve(void 0);n.length=0}),this.on("abort",r=>{o=!0;for(const a of n)a.reject(r);n.length=0}),this.on("error",r=>{o=!0;for(const a of n)a.reject(r);n.length=0}),{next:async()=>e.length?{value:e.shift(),done:!1}:o?{value:void 0,done:!0}:new Promise((a,u)=>n.push({resolve:a,reject:u})).then(a=>a?{value:a,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}toReadableStream(){return new bo(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}}function E4(t,e){const{id:n,choices:o,created:r,model:a,system_fingerprint:u,...c}=t,p={...c,id:n,choices:o.map(({message:d,finish_reason:m,index:y,logprobs:S,...E})=>{if(!m)throw new Se(`missing finish_reason for choice ${y}`);const{content:T=null,function_call:C,tool_calls:x,...M}=d,I=d.role;if(!I)throw new Se(`missing role for choice ${y}`);if(C){const{arguments:N,name:D}=C;if(N==null)throw new Se(`missing function_call.arguments for choice ${y}`);if(!D)throw new Se(`missing function_call.name for choice ${y}`);return{...E,message:{content:T,function_call:{arguments:N,name:D},role:I,refusal:d.refusal??null},finish_reason:m,index:y,logprobs:S}}return x?{...E,index:y,finish_reason:m,logprobs:S,message:{...M,role:I,content:T,refusal:d.refusal??null,tool_calls:x.map((N,D)=>{const{function:U,type:k,id:O,...q}=N,{arguments:J,name:X,...j}=U||{};if(O==null)throw new Se(`missing choices[${y}].tool_calls[${D}].id
${Af(t)}`);if(k==null)throw new Se(`missing choices[${y}].tool_calls[${D}].type
${Af(t)}`);if(X==null)throw new Se(`missing choices[${y}].tool_calls[${D}].function.name
${Af(t)}`);if(J==null)throw new Se(`missing choices[${y}].tool_calls[${D}].function.arguments
${Af(t)}`);return{...q,id:O,type:k,function:{...j,name:X,arguments:J}}})}}:{...E,message:{...M,content:T,role:I,refusal:d.refusal??null},finish_reason:m,index:y,logprobs:S}}),created:r,model:a,object:"chat.completion",...u?{system_fingerprint:u}:{}};return u4(p,e)}function Af(t){return JSON.stringify(t)}class Md extends ru{static fromReadableStream(e){const n=new Md(null);return n._run(()=>n._fromReadableStream(e)),n}static runTools(e,n,o){const r=new Md(n),a={...o,headers:{...o?.headers,"X-Stainless-Helper-Method":"runTools"}};return r._run(()=>r._runTools(e,n,a)),r}}let Fy=class extends ye{constructor(){super(...arguments),this.messages=new vN(this._client)}create(e,n){return this._client.post("/chat/completions",{body:e,...n,stream:e.stream??!1})}retrieve(e,n){return this._client.get(ie`/chat/completions/${e}`,n)}update(e,n,o){return this._client.post(ie`/chat/completions/${e}`,{body:n,...o})}list(e={},n){return this._client.getAPIList("/chat/completions",ht,{query:e,...n})}delete(e,n){return this._client.delete(ie`/chat/completions/${e}`,n)}parse(e,n){return p4(e.tools),this._client.chat.completions.create(e,{...n,headers:{...n?.headers,"X-Stainless-Helper-Method":"chat.completions.parse"}})._thenUnwrap(o=>Hy(o,e))}runTools(e,n){return e.stream?Md.runTools(this._client,e,n):$y.runTools(this._client,e,n)}stream(e,n){return ru.createChatCompletion(this._client,e,n)}};Fy.Messages=vN;class Vy extends ye{constructor(){super(...arguments),this.completions=new Fy(this._client)}}Vy.Completions=Fy;const BN=Symbol("brand.privateNullableHeaders");function*b4(t){if(!t)return;if(BN in t){const{values:o,nulls:r}=t;yield*o.entries();for(const a of r)yield[a,null];return}let e=!1,n;t instanceof Headers?n=t.entries():hC(t)?n=t:(e=!0,n=Object.entries(t??{}));for(let o of n){const r=o[0];if(typeof r!="string")throw new TypeError("expected header name to be a string");const a=hC(o[1])?o[1]:[o[1]];let u=!1;for(const c of a)c!==void 0&&(e&&!u&&(u=!0,yield[r,null]),yield[r,c])}}const he=t=>{const e=new Headers,n=new Set;for(const o of t){const r=new Set;for(const[a,u]of b4(o)){const c=a.toLowerCase();r.has(c)||(e.delete(a),r.add(c)),u===null?(e.delete(a),n.add(c)):(e.append(a,u),n.delete(c))}}return{[BN]:!0,values:e,nulls:n}};class HN extends ye{create(e,n){return this._client.post("/audio/speech",{body:e,...n,headers:he([{Accept:"application/octet-stream"},n?.headers]),__binaryResponse:!0})}}class GN extends ye{create(e,n){return this._client.post("/audio/transcriptions",Kr({body:e,...n,stream:e.stream??!1,__metadata:{model:e.model}},this._client))}}class $N extends ye{create(e,n){return this._client.post("/audio/translations",Kr({body:e,...n,__metadata:{model:e.model}},this._client))}}class Ou extends ye{constructor(){super(...arguments),this.transcriptions=new GN(this._client),this.translations=new $N(this._client),this.speech=new HN(this._client)}}Ou.Transcriptions=GN;Ou.Translations=$N;Ou.Speech=HN;class FN extends ye{create(e,n){return this._client.post("/batches",{body:e,...n})}retrieve(e,n){return this._client.get(ie`/batches/${e}`,n)}list(e={},n){return this._client.getAPIList("/batches",ht,{query:e,...n})}cancel(e,n){return this._client.post(ie`/batches/${e}/cancel`,n)}}class VN extends ye{create(e,n){return this._client.post("/assistants",{body:e,...n,headers:he([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}retrieve(e,n){return this._client.get(ie`/assistants/${e}`,{...n,headers:he([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}update(e,n,o){return this._client.post(ie`/assistants/${e}`,{body:n,...o,headers:he([{"OpenAI-Beta":"assistants=v2"},o?.headers])})}list(e={},n){return this._client.getAPIList("/assistants",ht,{query:e,...n,headers:he([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}delete(e,n){return this._client.delete(ie`/assistants/${e}`,{...n,headers:he([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}}let zN=class extends ye{create(e,n){return this._client.post("/realtime/sessions",{body:e,...n,headers:he([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}};class qN extends ye{create(e,n){return this._client.post("/realtime/transcription_sessions",{body:e,...n,headers:he([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}}let fp=class extends ye{constructor(){super(...arguments),this.sessions=new zN(this._client),this.transcriptionSessions=new qN(this._client)}};fp.Sessions=zN;fp.TranscriptionSessions=qN;class JN extends ye{create(e,n){return this._client.post("/chatkit/sessions",{body:e,...n,headers:he([{"OpenAI-Beta":"chatkit_beta=v1"},n?.headers])})}cancel(e,n){return this._client.post(ie`/chatkit/sessions/${e}/cancel`,{...n,headers:he([{"OpenAI-Beta":"chatkit_beta=v1"},n?.headers])})}}let KN=class extends ye{retrieve(e,n){return this._client.get(ie`/chatkit/threads/${e}`,{...n,headers:he([{"OpenAI-Beta":"chatkit_beta=v1"},n?.headers])})}list(e={},n){return this._client.getAPIList("/chatkit/threads",wd,{query:e,...n,headers:he([{"OpenAI-Beta":"chatkit_beta=v1"},n?.headers])})}delete(e,n){return this._client.delete(ie`/chatkit/threads/${e}`,{...n,headers:he([{"OpenAI-Beta":"chatkit_beta=v1"},n?.headers])})}listItems(e,n={},o){return this._client.getAPIList(ie`/chatkit/threads/${e}/items`,wd,{query:n,...o,headers:he([{"OpenAI-Beta":"chatkit_beta=v1"},o?.headers])})}};class dp extends ye{constructor(){super(...arguments),this.sessions=new JN(this._client),this.threads=new KN(this._client)}}dp.Sessions=JN;dp.Threads=KN;class YN extends ye{create(e,n,o){return this._client.post(ie`/threads/${e}/messages`,{body:n,...o,headers:he([{"OpenAI-Beta":"assistants=v2"},o?.headers])})}retrieve(e,n,o){const{thread_id:r}=n;return this._client.get(ie`/threads/${r}/messages/${e}`,{...o,headers:he([{"OpenAI-Beta":"assistants=v2"},o?.headers])})}update(e,n,o){const{thread_id:r,...a}=n;return this._client.post(ie`/threads/${r}/messages/${e}`,{body:a,...o,headers:he([{"OpenAI-Beta":"assistants=v2"},o?.headers])})}list(e,n={},o){return this._client.getAPIList(ie`/threads/${e}/messages`,ht,{query:n,...o,headers:he([{"OpenAI-Beta":"assistants=v2"},o?.headers])})}delete(e,n,o){const{thread_id:r}=n;return this._client.delete(ie`/threads/${r}/messages/${e}`,{...o,headers:he([{"OpenAI-Beta":"assistants=v2"},o?.headers])})}}class XN extends ye{retrieve(e,n,o){const{thread_id:r,run_id:a,...u}=n;return this._client.get(ie`/threads/${r}/runs/${a}/steps/${e}`,{query:u,...o,headers:he([{"OpenAI-Beta":"assistants=v2"},o?.headers])})}list(e,n,o){const{thread_id:r,...a}=n;return this._client.getAPIList(ie`/threads/${r}/runs/${e}/steps`,ht,{query:a,...o,headers:he([{"OpenAI-Beta":"assistants=v2"},o?.headers])})}}const w4=t=>{if(typeof Buffer<"u"){const e=Buffer.from(t,"base64");return Array.from(new Float32Array(e.buffer,e.byteOffset,e.length/Float32Array.BYTES_PER_ELEMENT))}else{const e=atob(t),n=e.length,o=new Uint8Array(n);for(let r=0;r<n;r++)o[r]=e.charCodeAt(r);return Array.from(new Float32Array(o.buffer))}};var T4={};const zs=t=>{if(typeof globalThis.process<"u")return T4?.[t]?.trim()??void 0;if(typeof globalThis.Deno<"u")return globalThis.Deno.env?.get?.(t)?.trim()};var Nt,Pr,Dv,_o,Xf,Wn,Lr,ia,Dr,Nd,mn,Wf,jf,jl,Fl,Vl,IC,DC,OC,PC,LC,UC,kC;class Ql extends Gy{constructor(){super(...arguments),Nt.add(this),Dv.set(this,[]),_o.set(this,{}),Xf.set(this,{}),Wn.set(this,void 0),Lr.set(this,void 0),ia.set(this,void 0),Dr.set(this,void 0),Nd.set(this,void 0),mn.set(this,void 0),Wf.set(this,void 0),jf.set(this,void 0),jl.set(this,void 0)}[(Dv=new WeakMap,_o=new WeakMap,Xf=new WeakMap,Wn=new WeakMap,Lr=new WeakMap,ia=new WeakMap,Dr=new WeakMap,Nd=new WeakMap,mn=new WeakMap,Wf=new WeakMap,jf=new WeakMap,jl=new WeakMap,Nt=new WeakSet,Symbol.asyncIterator)](){const e=[],n=[];let o=!1;return this.on("event",r=>{const a=n.shift();a?a.resolve(r):e.push(r)}),this.on("end",()=>{o=!0;for(const r of n)r.resolve(void 0);n.length=0}),this.on("abort",r=>{o=!0;for(const a of n)a.reject(r);n.length=0}),this.on("error",r=>{o=!0;for(const a of n)a.reject(r);n.length=0}),{next:async()=>e.length?{value:e.shift(),done:!1}:o?{value:void 0,done:!0}:new Promise((a,u)=>n.push({resolve:a,reject:u})).then(a=>a?{value:a,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}static fromReadableStream(e){const n=new Pr;return n._run(()=>n._fromReadableStream(e)),n}async _fromReadableStream(e,n){const o=n?.signal;o&&(o.aborted&&this.controller.abort(),o.addEventListener("abort",()=>this.controller.abort())),this._connected();const r=bo.fromReadableStream(e,this.controller);for await(const a of r)V(this,Nt,"m",Fl).call(this,a);if(r.controller.signal?.aborted)throw new Bn;return this._addRun(V(this,Nt,"m",Vl).call(this))}toReadableStream(){return new bo(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}static createToolAssistantStream(e,n,o,r){const a=new Pr;return a._run(()=>a._runToolAssistantStream(e,n,o,{...r,headers:{...r?.headers,"X-Stainless-Helper-Method":"stream"}})),a}async _createToolAssistantStream(e,n,o,r){const a=r?.signal;a&&(a.aborted&&this.controller.abort(),a.addEventListener("abort",()=>this.controller.abort()));const u={...o,stream:!0},c=await e.submitToolOutputs(n,u,{...r,signal:this.controller.signal});this._connected();for await(const p of c)V(this,Nt,"m",Fl).call(this,p);if(c.controller.signal?.aborted)throw new Bn;return this._addRun(V(this,Nt,"m",Vl).call(this))}static createThreadAssistantStream(e,n,o){const r=new Pr;return r._run(()=>r._threadAssistantStream(e,n,{...o,headers:{...o?.headers,"X-Stainless-Helper-Method":"stream"}})),r}static createAssistantStream(e,n,o,r){const a=new Pr;return a._run(()=>a._runAssistantStream(e,n,o,{...r,headers:{...r?.headers,"X-Stainless-Helper-Method":"stream"}})),a}currentEvent(){return V(this,Wf,"f")}currentRun(){return V(this,jf,"f")}currentMessageSnapshot(){return V(this,Wn,"f")}currentRunStepSnapshot(){return V(this,jl,"f")}async finalRunSteps(){return await this.done(),Object.values(V(this,_o,"f"))}async finalMessages(){return await this.done(),Object.values(V(this,Xf,"f"))}async finalRun(){if(await this.done(),!V(this,Lr,"f"))throw Error("Final run was not received.");return V(this,Lr,"f")}async _createThreadAssistantStream(e,n,o){const r=o?.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",()=>this.controller.abort()));const a={...n,stream:!0},u=await e.createAndRun(a,{...o,signal:this.controller.signal});this._connected();for await(const c of u)V(this,Nt,"m",Fl).call(this,c);if(u.controller.signal?.aborted)throw new Bn;return this._addRun(V(this,Nt,"m",Vl).call(this))}async _createAssistantStream(e,n,o,r){const a=r?.signal;a&&(a.aborted&&this.controller.abort(),a.addEventListener("abort",()=>this.controller.abort()));const u={...o,stream:!0},c=await e.create(n,u,{...r,signal:this.controller.signal});this._connected();for await(const p of c)V(this,Nt,"m",Fl).call(this,p);if(c.controller.signal?.aborted)throw new Bn;return this._addRun(V(this,Nt,"m",Vl).call(this))}static accumulateDelta(e,n){for(const[o,r]of Object.entries(n)){if(!e.hasOwnProperty(o)){e[o]=r;continue}let a=e[o];if(a==null){e[o]=r;continue}if(o==="index"||o==="type"){e[o]=r;continue}if(typeof a=="string"&&typeof r=="string")a+=r;else if(typeof a=="number"&&typeof r=="number")a+=r;else if(yg(a)&&yg(r))a=this.accumulateDelta(a,r);else if(Array.isArray(a)&&Array.isArray(r)){if(a.every(u=>typeof u=="string"||typeof u=="number")){a.push(...r);continue}for(const u of r){if(!yg(u))throw new Error(`Expected array delta entry to be an object but got: ${u}`);const c=u.index;if(c==null)throw console.error(u),new Error("Expected array delta entry to have an `index` property");if(typeof c!="number")throw new Error(`Expected array delta entry \`index\` property to be a number but got ${c}`);const p=a[c];p==null?a.push(u):a[c]=this.accumulateDelta(p,u)}continue}else throw Error(`Unhandled record type: ${o}, deltaValue: ${r}, accValue: ${a}`);e[o]=a}return e}_addRun(e){return e}async _threadAssistantStream(e,n,o){return await this._createThreadAssistantStream(n,e,o)}async _runAssistantStream(e,n,o,r){return await this._createAssistantStream(n,e,o,r)}async _runToolAssistantStream(e,n,o,r){return await this._createToolAssistantStream(n,e,o,r)}}Pr=Ql,Fl=function(e){if(!this.ended)switch(Te(this,Wf,e),V(this,Nt,"m",OC).call(this,e),e.event){case"thread.created":break;case"thread.run.created":case"thread.run.queued":case"thread.run.in_progress":case"thread.run.requires_action":case"thread.run.completed":case"thread.run.incomplete":case"thread.run.failed":case"thread.run.cancelling":case"thread.run.cancelled":case"thread.run.expired":V(this,Nt,"m",kC).call(this,e);break;case"thread.run.step.created":case"thread.run.step.in_progress":case"thread.run.step.delta":case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":V(this,Nt,"m",DC).call(this,e);break;case"thread.message.created":case"thread.message.in_progress":case"thread.message.delta":case"thread.message.completed":case"thread.message.incomplete":V(this,Nt,"m",IC).call(this,e);break;case"error":throw new Error("Encountered an error event in event processing - errors should be processed earlier")}},Vl=function(){if(this.ended)throw new Se("stream has ended, this shouldn't happen");if(!V(this,Lr,"f"))throw Error("Final run has not been received");return V(this,Lr,"f")},IC=function(e){const[n,o]=V(this,Nt,"m",LC).call(this,e,V(this,Wn,"f"));Te(this,Wn,n),V(this,Xf,"f")[n.id]=n;for(const r of o){const a=n.content[r.index];a?.type=="text"&&this._emit("textCreated",a.text)}switch(e.event){case"thread.message.created":this._emit("messageCreated",e.data);break;case"thread.message.in_progress":break;case"thread.message.delta":if(this._emit("messageDelta",e.data.delta,n),e.data.delta.content)for(const r of e.data.delta.content){if(r.type=="text"&&r.text){let a=r.text,u=n.content[r.index];if(u&&u.type=="text")this._emit("textDelta",a,u.text);else throw Error("The snapshot associated with this text delta is not text or missing")}if(r.index!=V(this,ia,"f")){if(V(this,Dr,"f"))switch(V(this,Dr,"f").type){case"text":this._emit("textDone",V(this,Dr,"f").text,V(this,Wn,"f"));break;case"image_file":this._emit("imageFileDone",V(this,Dr,"f").image_file,V(this,Wn,"f"));break}Te(this,ia,r.index)}Te(this,Dr,n.content[r.index])}break;case"thread.message.completed":case"thread.message.incomplete":if(V(this,ia,"f")!==void 0){const r=e.data.content[V(this,ia,"f")];if(r)switch(r.type){case"image_file":this._emit("imageFileDone",r.image_file,V(this,Wn,"f"));break;case"text":this._emit("textDone",r.text,V(this,Wn,"f"));break}}V(this,Wn,"f")&&this._emit("messageDone",e.data),Te(this,Wn,void 0)}},DC=function(e){const n=V(this,Nt,"m",PC).call(this,e);switch(Te(this,jl,n),e.event){case"thread.run.step.created":this._emit("runStepCreated",e.data);break;case"thread.run.step.delta":const o=e.data.delta;if(o.step_details&&o.step_details.type=="tool_calls"&&o.step_details.tool_calls&&n.step_details.type=="tool_calls")for(const a of o.step_details.tool_calls)a.index==V(this,Nd,"f")?this._emit("toolCallDelta",a,n.step_details.tool_calls[a.index]):(V(this,mn,"f")&&this._emit("toolCallDone",V(this,mn,"f")),Te(this,Nd,a.index),Te(this,mn,n.step_details.tool_calls[a.index]),V(this,mn,"f")&&this._emit("toolCallCreated",V(this,mn,"f")));this._emit("runStepDelta",e.data.delta,n);break;case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":Te(this,jl,void 0),e.data.step_details.type=="tool_calls"&&V(this,mn,"f")&&(this._emit("toolCallDone",V(this,mn,"f")),Te(this,mn,void 0)),this._emit("runStepDone",e.data,n);break}},OC=function(e){V(this,Dv,"f").push(e),this._emit("event",e)},PC=function(e){switch(e.event){case"thread.run.step.created":return V(this,_o,"f")[e.data.id]=e.data,e.data;case"thread.run.step.delta":let n=V(this,_o,"f")[e.data.id];if(!n)throw Error("Received a RunStepDelta before creation of a snapshot");let o=e.data;if(o.delta){const r=Pr.accumulateDelta(n,o.delta);V(this,_o,"f")[e.data.id]=r}return V(this,_o,"f")[e.data.id];case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":case"thread.run.step.in_progress":V(this,_o,"f")[e.data.id]=e.data;break}if(V(this,_o,"f")[e.data.id])return V(this,_o,"f")[e.data.id];throw new Error("No snapshot available")},LC=function(e,n){let o=[];switch(e.event){case"thread.message.created":return[e.data,o];case"thread.message.delta":if(!n)throw Error("Received a delta with no existing snapshot (there should be one from message creation)");let r=e.data;if(r.delta.content)for(const a of r.delta.content)if(a.index in n.content){let u=n.content[a.index];n.content[a.index]=V(this,Nt,"m",UC).call(this,a,u)}else n.content[a.index]=a,o.push(a);return[n,o];case"thread.message.in_progress":case"thread.message.completed":case"thread.message.incomplete":if(n)return[n,o];throw Error("Received thread message event with no existing snapshot")}throw Error("Tried to accumulate a non-message event")},UC=function(e,n){return Pr.accumulateDelta(n,e)},kC=function(e){switch(Te(this,jf,e.data),e.event){case"thread.run.created":break;case"thread.run.queued":break;case"thread.run.in_progress":break;case"thread.run.requires_action":case"thread.run.cancelled":case"thread.run.failed":case"thread.run.completed":case"thread.run.expired":case"thread.run.incomplete":Te(this,Lr,e.data),V(this,mn,"f")&&(this._emit("toolCallDone",V(this,mn,"f")),Te(this,mn,void 0));break}};let zy=class extends ye{constructor(){super(...arguments),this.steps=new XN(this._client)}create(e,n,o){const{include:r,...a}=n;return this._client.post(ie`/threads/${e}/runs`,{query:{include:r},body:a,...o,headers:he([{"OpenAI-Beta":"assistants=v2"},o?.headers]),stream:n.stream??!1})}retrieve(e,n,o){const{thread_id:r}=n;return this._client.get(ie`/threads/${r}/runs/${e}`,{...o,headers:he([{"OpenAI-Beta":"assistants=v2"},o?.headers])})}update(e,n,o){const{thread_id:r,...a}=n;return this._client.post(ie`/threads/${r}/runs/${e}`,{body:a,...o,headers:he([{"OpenAI-Beta":"assistants=v2"},o?.headers])})}list(e,n={},o){return this._client.getAPIList(ie`/threads/${e}/runs`,ht,{query:n,...o,headers:he([{"OpenAI-Beta":"assistants=v2"},o?.headers])})}cancel(e,n,o){const{thread_id:r}=n;return this._client.post(ie`/threads/${r}/runs/${e}/cancel`,{...o,headers:he([{"OpenAI-Beta":"assistants=v2"},o?.headers])})}async createAndPoll(e,n,o){const r=await this.create(e,n,o);return await this.poll(r.id,{thread_id:e},o)}createAndStream(e,n,o){return Ql.createAssistantStream(e,this._client.beta.threads.runs,n,o)}async poll(e,n,o){const r=he([o?.headers,{"X-Stainless-Poll-Helper":"true","X-Stainless-Custom-Poll-Interval":o?.pollIntervalMs?.toString()??void 0}]);for(;;){const{data:a,response:u}=await this.retrieve(e,n,{...o,headers:{...o?.headers,...r}}).withResponse();switch(a.status){case"queued":case"in_progress":case"cancelling":let c=5e3;if(o?.pollIntervalMs)c=o.pollIntervalMs;else{const p=u.headers.get("openai-poll-after-ms");if(p){const d=parseInt(p);isNaN(d)||(c=d)}}await Iu(c);break;case"requires_action":case"incomplete":case"cancelled":case"completed":case"failed":case"expired":return a}}}stream(e,n,o){return Ql.createAssistantStream(e,this._client.beta.threads.runs,n,o)}submitToolOutputs(e,n,o){const{thread_id:r,...a}=n;return this._client.post(ie`/threads/${r}/runs/${e}/submit_tool_outputs`,{body:a,...o,headers:he([{"OpenAI-Beta":"assistants=v2"},o?.headers]),stream:n.stream??!1})}async submitToolOutputsAndPoll(e,n,o){const r=await this.submitToolOutputs(e,n,o);return await this.poll(r.id,n,o)}submitToolOutputsStream(e,n,o){return Ql.createToolAssistantStream(e,this._client.beta.threads.runs,n,o)}};zy.Steps=XN;class pp extends ye{constructor(){super(...arguments),this.runs=new zy(this._client),this.messages=new YN(this._client)}create(e={},n){return this._client.post("/threads",{body:e,...n,headers:he([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}retrieve(e,n){return this._client.get(ie`/threads/${e}`,{...n,headers:he([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}update(e,n,o){return this._client.post(ie`/threads/${e}`,{body:n,...o,headers:he([{"OpenAI-Beta":"assistants=v2"},o?.headers])})}delete(e,n){return this._client.delete(ie`/threads/${e}`,{...n,headers:he([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}createAndRun(e,n){return this._client.post("/threads/runs",{body:e,...n,headers:he([{"OpenAI-Beta":"assistants=v2"},n?.headers]),stream:e.stream??!1})}async createAndRunPoll(e,n){const o=await this.createAndRun(e,n);return await this.runs.poll(o.id,{thread_id:o.thread_id},n)}createAndRunStream(e,n){return Ql.createThreadAssistantStream(e,this._client.beta.threads,n)}}pp.Runs=zy;pp.Messages=YN;class Aa extends ye{constructor(){super(...arguments),this.realtime=new fp(this._client),this.chatkit=new dp(this._client),this.assistants=new VN(this._client),this.threads=new pp(this._client)}}Aa.Realtime=fp;Aa.ChatKit=dp;Aa.Assistants=VN;Aa.Threads=pp;class WN extends ye{create(e,n){return this._client.post("/completions",{body:e,...n,stream:e.stream??!1})}}let jN=class extends ye{retrieve(e,n,o){const{container_id:r}=n;return this._client.get(ie`/containers/${r}/files/${e}/content`,{...o,headers:he([{Accept:"application/binary"},o?.headers]),__binaryResponse:!0})}},qy=class extends ye{constructor(){super(...arguments),this.content=new jN(this._client)}create(e,n,o){return this._client.post(ie`/containers/${e}/files`,Kr({body:n,...o},this._client))}retrieve(e,n,o){const{container_id:r}=n;return this._client.get(ie`/containers/${r}/files/${e}`,o)}list(e,n={},o){return this._client.getAPIList(ie`/containers/${e}/files`,ht,{query:n,...o})}delete(e,n,o){const{container_id:r}=n;return this._client.delete(ie`/containers/${r}/files/${e}`,{...o,headers:he([{Accept:"*/*"},o?.headers])})}};qy.Content=jN;class Jy extends ye{constructor(){super(...arguments),this.files=new qy(this._client)}create(e,n){return this._client.post("/containers",{body:e,...n})}retrieve(e,n){return this._client.get(ie`/containers/${e}`,n)}list(e={},n){return this._client.getAPIList("/containers",ht,{query:e,...n})}delete(e,n){return this._client.delete(ie`/containers/${e}`,{...n,headers:he([{Accept:"*/*"},n?.headers])})}}Jy.Files=qy;class QN extends ye{create(e,n,o){const{include:r,...a}=n;return this._client.post(ie`/conversations/${e}/items`,{query:{include:r},body:a,...o})}retrieve(e,n,o){const{conversation_id:r,...a}=n;return this._client.get(ie`/conversations/${r}/items/${e}`,{query:a,...o})}list(e,n={},o){return this._client.getAPIList(ie`/conversations/${e}/items`,wd,{query:n,...o})}delete(e,n,o){const{conversation_id:r}=n;return this._client.delete(ie`/conversations/${r}/items/${e}`,o)}}class Ky extends ye{constructor(){super(...arguments),this.items=new QN(this._client)}create(e={},n){return this._client.post("/conversations",{body:e,...n})}retrieve(e,n){return this._client.get(ie`/conversations/${e}`,n)}update(e,n,o){return this._client.post(ie`/conversations/${e}`,{body:n,...o})}delete(e,n){return this._client.delete(ie`/conversations/${e}`,n)}}Ky.Items=QN;class ZN extends ye{create(e,n){const o=!!e.encoding_format;let r=o?e.encoding_format:"base64";o&&Mt(this._client).debug("embeddings/user defined encoding_format:",e.encoding_format);const a=this._client.post("/embeddings",{body:{...e,encoding_format:r},...n});return o?a:(Mt(this._client).debug("embeddings/decoding base64 embeddings from base64"),a._thenUnwrap(u=>(u&&u.data&&u.data.forEach(c=>{const p=c.embedding;c.embedding=w4(p)}),u)))}}class eI extends ye{retrieve(e,n,o){const{eval_id:r,run_id:a}=n;return this._client.get(ie`/evals/${r}/runs/${a}/output_items/${e}`,o)}list(e,n,o){const{eval_id:r,...a}=n;return this._client.getAPIList(ie`/evals/${r}/runs/${e}/output_items`,ht,{query:a,...o})}}class Yy extends ye{constructor(){super(...arguments),this.outputItems=new eI(this._client)}create(e,n,o){return this._client.post(ie`/evals/${e}/runs`,{body:n,...o})}retrieve(e,n,o){const{eval_id:r}=n;return this._client.get(ie`/evals/${r}/runs/${e}`,o)}list(e,n={},o){return this._client.getAPIList(ie`/evals/${e}/runs`,ht,{query:n,...o})}delete(e,n,o){const{eval_id:r}=n;return this._client.delete(ie`/evals/${r}/runs/${e}`,o)}cancel(e,n,o){const{eval_id:r}=n;return this._client.post(ie`/evals/${r}/runs/${e}`,o)}}Yy.OutputItems=eI;class Xy extends ye{constructor(){super(...arguments),this.runs=new Yy(this._client)}create(e,n){return this._client.post("/evals",{body:e,...n})}retrieve(e,n){return this._client.get(ie`/evals/${e}`,n)}update(e,n,o){return this._client.post(ie`/evals/${e}`,{body:n,...o})}list(e={},n){return this._client.getAPIList("/evals",ht,{query:e,...n})}delete(e,n){return this._client.delete(ie`/evals/${e}`,n)}}Xy.Runs=Yy;let tI=class extends ye{create(e,n){return this._client.post("/files",Kr({body:e,...n},this._client))}retrieve(e,n){return this._client.get(ie`/files/${e}`,n)}list(e={},n){return this._client.getAPIList("/files",ht,{query:e,...n})}delete(e,n){return this._client.delete(ie`/files/${e}`,n)}content(e,n){return this._client.get(ie`/files/${e}/content`,{...n,headers:he([{Accept:"application/binary"},n?.headers]),__binaryResponse:!0})}async waitForProcessing(e,{pollInterval:n=5e3,maxWait:o=1800*1e3}={}){const r=new Set(["processed","error","deleted"]),a=Date.now();let u=await this.retrieve(e);for(;!u.status||!r.has(u.status);)if(await Iu(n),u=await this.retrieve(e),Date.now()-a>o)throw new Py({message:`Giving up on waiting for file ${e} to finish processing after ${o} milliseconds.`});return u}};class nI extends ye{}let oI=class extends ye{run(e,n){return this._client.post("/fine_tuning/alpha/graders/run",{body:e,...n})}validate(e,n){return this._client.post("/fine_tuning/alpha/graders/validate",{body:e,...n})}};class Wy extends ye{constructor(){super(...arguments),this.graders=new oI(this._client)}}Wy.Graders=oI;class iI extends ye{create(e,n,o){return this._client.getAPIList(ie`/fine_tuning/checkpoints/${e}/permissions`,cp,{body:n,method:"post",...o})}retrieve(e,n={},o){return this._client.get(ie`/fine_tuning/checkpoints/${e}/permissions`,{query:n,...o})}delete(e,n,o){const{fine_tuned_model_checkpoint:r}=n;return this._client.delete(ie`/fine_tuning/checkpoints/${r}/permissions/${e}`,o)}}let jy=class extends ye{constructor(){super(...arguments),this.permissions=new iI(this._client)}};jy.Permissions=iI;class rI extends ye{list(e,n={},o){return this._client.getAPIList(ie`/fine_tuning/jobs/${e}/checkpoints`,ht,{query:n,...o})}}class Qy extends ye{constructor(){super(...arguments),this.checkpoints=new rI(this._client)}create(e,n){return this._client.post("/fine_tuning/jobs",{body:e,...n})}retrieve(e,n){return this._client.get(ie`/fine_tuning/jobs/${e}`,n)}list(e={},n){return this._client.getAPIList("/fine_tuning/jobs",ht,{query:e,...n})}cancel(e,n){return this._client.post(ie`/fine_tuning/jobs/${e}/cancel`,n)}listEvents(e,n={},o){return this._client.getAPIList(ie`/fine_tuning/jobs/${e}/events`,ht,{query:n,...o})}pause(e,n){return this._client.post(ie`/fine_tuning/jobs/${e}/pause`,n)}resume(e,n){return this._client.post(ie`/fine_tuning/jobs/${e}/resume`,n)}}Qy.Checkpoints=rI;class xa extends ye{constructor(){super(...arguments),this.methods=new nI(this._client),this.jobs=new Qy(this._client),this.checkpoints=new jy(this._client),this.alpha=new Wy(this._client)}}xa.Methods=nI;xa.Jobs=Qy;xa.Checkpoints=jy;xa.Alpha=Wy;class sI extends ye{}class Zy extends ye{constructor(){super(...arguments),this.graderModels=new sI(this._client)}}Zy.GraderModels=sI;class aI extends ye{createVariation(e,n){return this._client.post("/images/variations",Kr({body:e,...n},this._client))}edit(e,n){return this._client.post("/images/edits",Kr({body:e,...n,stream:e.stream??!1},this._client))}generate(e,n){return this._client.post("/images/generations",{body:e,...n,stream:e.stream??!1})}}class lI extends ye{retrieve(e,n){return this._client.get(ie`/models/${e}`,n)}list(e){return this._client.getAPIList("/models",cp,e)}delete(e,n){return this._client.delete(ie`/models/${e}`,n)}}class uI extends ye{create(e,n){return this._client.post("/moderations",{body:e,...n})}}class cI extends ye{accept(e,n,o){return this._client.post(ie`/realtime/calls/${e}/accept`,{body:n,...o,headers:he([{Accept:"*/*"},o?.headers])})}hangup(e,n){return this._client.post(ie`/realtime/calls/${e}/hangup`,{...n,headers:he([{Accept:"*/*"},n?.headers])})}refer(e,n,o){return this._client.post(ie`/realtime/calls/${e}/refer`,{body:n,...o,headers:he([{Accept:"*/*"},o?.headers])})}reject(e,n={},o){return this._client.post(ie`/realtime/calls/${e}/reject`,{body:n,...o,headers:he([{Accept:"*/*"},o?.headers])})}}class fI extends ye{create(e,n){return this._client.post("/realtime/client_secrets",{body:e,...n})}}class hp extends ye{constructor(){super(...arguments),this.clientSecrets=new fI(this._client),this.calls=new cI(this._client)}}hp.ClientSecrets=fI;hp.Calls=cI;function C4(t,e){return!e||!x4(e)?{...t,output_parsed:null,output:t.output.map(n=>n.type==="function_call"?{...n,parsed_arguments:null}:n.type==="message"?{...n,content:n.content.map(o=>({...o,parsed:null}))}:n)}:dI(t,e)}function dI(t,e){const n=t.output.map(r=>{if(r.type==="function_call")return{...r,parsed_arguments:N4(e,r)};if(r.type==="message"){const a=r.content.map(u=>u.type==="output_text"?{...u,parsed:A4(e,u.text)}:u);return{...r,content:a}}return r}),o=Object.assign({},t,{output:n});return Object.getOwnPropertyDescriptor(t,"output_text")||Ov(o),Object.defineProperty(o,"output_parsed",{enumerable:!0,get(){for(const r of o.output)if(r.type==="message"){for(const a of r.content)if(a.type==="output_text"&&a.parsed!==null)return a.parsed}return null}}),o}function A4(t,e){return t.text?.format?.type!=="json_schema"?null:"$parseRaw"in t.text?.format?(t.text?.format).$parseRaw(e):JSON.parse(e)}function x4(t){return!!By(t.text?.format)}function R4(t){return t?.$brand==="auto-parseable-tool"}function M4(t,e){return t.find(n=>n.type==="function"&&n.name===e)}function N4(t,e){const n=M4(t.tools??[],e.name);return{...e,...e,parsed_arguments:R4(n)?n.$parseRaw(e.arguments):n?.strict?JSON.parse(e.arguments):null}}function Ov(t){const e=[];for(const n of t.output)if(n.type==="message")for(const o of n.content)o.type==="output_text"&&e.push(o.text);t.output_text=e.join("")}var qs,xf,qi,Rf,BC,HC,GC,$C;class e_ extends Gy{constructor(e){super(),qs.add(this),xf.set(this,void 0),qi.set(this,void 0),Rf.set(this,void 0),Te(this,xf,e)}static createResponse(e,n,o){const r=new e_(n);return r._run(()=>r._createOrRetrieveResponse(e,n,{...o,headers:{...o?.headers,"X-Stainless-Helper-Method":"stream"}})),r}async _createOrRetrieveResponse(e,n,o){const r=o?.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",()=>this.controller.abort())),V(this,qs,"m",BC).call(this);let a,u=null;"response_id"in n?(a=await e.responses.retrieve(n.response_id,{stream:!0},{...o,signal:this.controller.signal,stream:!0}),u=n.starting_after??null):a=await e.responses.create({...n,stream:!0},{...o,signal:this.controller.signal}),this._connected();for await(const c of a)V(this,qs,"m",HC).call(this,c,u);if(a.controller.signal?.aborted)throw new Bn;return V(this,qs,"m",GC).call(this)}[(xf=new WeakMap,qi=new WeakMap,Rf=new WeakMap,qs=new WeakSet,BC=function(){this.ended||Te(this,qi,void 0)},HC=function(n,o){if(this.ended)return;const r=(u,c)=>{(o==null||c.sequence_number>o)&&this._emit(u,c)},a=V(this,qs,"m",$C).call(this,n);switch(r("event",n),n.type){case"response.output_text.delta":{const u=a.output[n.output_index];if(!u)throw new Se(`missing output at index ${n.output_index}`);if(u.type==="message"){const c=u.content[n.content_index];if(!c)throw new Se(`missing content at index ${n.content_index}`);if(c.type!=="output_text")throw new Se(`expected content to be 'output_text', got ${c.type}`);r("response.output_text.delta",{...n,snapshot:c.text})}break}case"response.function_call_arguments.delta":{const u=a.output[n.output_index];if(!u)throw new Se(`missing output at index ${n.output_index}`);u.type==="function_call"&&r("response.function_call_arguments.delta",{...n,snapshot:u.arguments});break}default:r(n.type,n);break}},GC=function(){if(this.ended)throw new Se("stream has ended, this shouldn't happen");const n=V(this,qi,"f");if(!n)throw new Se("request ended without sending any events");Te(this,qi,void 0);const o=I4(n,V(this,xf,"f"));return Te(this,Rf,o),o},$C=function(n){let o=V(this,qi,"f");if(!o){if(n.type!=="response.created")throw new Se(`When snapshot hasn't been set yet, expected 'response.created' event, got ${n.type}`);return o=Te(this,qi,n.response),o}switch(n.type){case"response.output_item.added":{o.output.push(n.item);break}case"response.content_part.added":{const r=o.output[n.output_index];if(!r)throw new Se(`missing output at index ${n.output_index}`);const a=r.type,u=n.part;a==="message"&&u.type!=="reasoning_text"?r.content.push(u):a==="reasoning"&&u.type==="reasoning_text"&&(r.content||(r.content=[]),r.content.push(u));break}case"response.output_text.delta":{const r=o.output[n.output_index];if(!r)throw new Se(`missing output at index ${n.output_index}`);if(r.type==="message"){const a=r.content[n.content_index];if(!a)throw new Se(`missing content at index ${n.content_index}`);if(a.type!=="output_text")throw new Se(`expected content to be 'output_text', got ${a.type}`);a.text+=n.delta}break}case"response.function_call_arguments.delta":{const r=o.output[n.output_index];if(!r)throw new Se(`missing output at index ${n.output_index}`);r.type==="function_call"&&(r.arguments+=n.delta);break}case"response.reasoning_text.delta":{const r=o.output[n.output_index];if(!r)throw new Se(`missing output at index ${n.output_index}`);if(r.type==="reasoning"){const a=r.content?.[n.content_index];if(!a)throw new Se(`missing content at index ${n.content_index}`);if(a.type!=="reasoning_text")throw new Se(`expected content to be 'reasoning_text', got ${a.type}`);a.text+=n.delta}break}case"response.completed":{Te(this,qi,n.response);break}}return o},Symbol.asyncIterator)](){const e=[],n=[];let o=!1;return this.on("event",r=>{const a=n.shift();a?a.resolve(r):e.push(r)}),this.on("end",()=>{o=!0;for(const r of n)r.resolve(void 0);n.length=0}),this.on("abort",r=>{o=!0;for(const a of n)a.reject(r);n.length=0}),this.on("error",r=>{o=!0;for(const a of n)a.reject(r);n.length=0}),{next:async()=>e.length?{value:e.shift(),done:!1}:o?{value:void 0,done:!0}:new Promise((a,u)=>n.push({resolve:a,reject:u})).then(a=>a?{value:a,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}async finalResponse(){await this.done();const e=V(this,Rf,"f");if(!e)throw new Se("stream ended without producing a ChatCompletion");return e}}function I4(t,e){return C4(t,e)}class pI extends ye{list(e,n={},o){return this._client.getAPIList(ie`/responses/${e}/input_items`,ht,{query:n,...o})}}class hI extends ye{count(e={},n){return this._client.post("/responses/input_tokens",{body:e,...n})}}class mp extends ye{constructor(){super(...arguments),this.inputItems=new pI(this._client),this.inputTokens=new hI(this._client)}create(e,n){return this._client.post("/responses",{body:e,...n,stream:e.stream??!1})._thenUnwrap(o=>("object"in o&&o.object==="response"&&Ov(o),o))}retrieve(e,n={},o){return this._client.get(ie`/responses/${e}`,{query:n,...o,stream:n?.stream??!1})._thenUnwrap(r=>("object"in r&&r.object==="response"&&Ov(r),r))}delete(e,n){return this._client.delete(ie`/responses/${e}`,{...n,headers:he([{Accept:"*/*"},n?.headers])})}parse(e,n){return this._client.responses.create(e,n)._thenUnwrap(o=>dI(o,e))}stream(e,n){return e_.createResponse(this._client,e,n)}cancel(e,n){return this._client.post(ie`/responses/${e}/cancel`,n)}compact(e={},n){return this._client.post("/responses/compact",{body:e,...n})}}mp.InputItems=pI;mp.InputTokens=hI;class mI extends ye{create(e,n,o){return this._client.post(ie`/uploads/${e}/parts`,Kr({body:n,...o},this._client))}}class t_ extends ye{constructor(){super(...arguments),this.parts=new mI(this._client)}create(e,n){return this._client.post("/uploads",{body:e,...n})}cancel(e,n){return this._client.post(ie`/uploads/${e}/cancel`,n)}complete(e,n,o){return this._client.post(ie`/uploads/${e}/complete`,{body:n,...o})}}t_.Parts=mI;const D4=async t=>{const e=await Promise.allSettled(t),n=e.filter(r=>r.status==="rejected");if(n.length){for(const r of n)console.error(r.reason);throw new Error(`${n.length} promise(s) failed - see the above errors`)}const o=[];for(const r of e)r.status==="fulfilled"&&o.push(r.value);return o};class gI extends ye{create(e,n,o){return this._client.post(ie`/vector_stores/${e}/file_batches`,{body:n,...o,headers:he([{"OpenAI-Beta":"assistants=v2"},o?.headers])})}retrieve(e,n,o){const{vector_store_id:r}=n;return this._client.get(ie`/vector_stores/${r}/file_batches/${e}`,{...o,headers:he([{"OpenAI-Beta":"assistants=v2"},o?.headers])})}cancel(e,n,o){const{vector_store_id:r}=n;return this._client.post(ie`/vector_stores/${r}/file_batches/${e}/cancel`,{...o,headers:he([{"OpenAI-Beta":"assistants=v2"},o?.headers])})}async createAndPoll(e,n,o){const r=await this.create(e,n);return await this.poll(e,r.id,o)}listFiles(e,n,o){const{vector_store_id:r,...a}=n;return this._client.getAPIList(ie`/vector_stores/${r}/file_batches/${e}/files`,ht,{query:a,...o,headers:he([{"OpenAI-Beta":"assistants=v2"},o?.headers])})}async poll(e,n,o){const r=he([o?.headers,{"X-Stainless-Poll-Helper":"true","X-Stainless-Custom-Poll-Interval":o?.pollIntervalMs?.toString()??void 0}]);for(;;){const{data:a,response:u}=await this.retrieve(n,{vector_store_id:e},{...o,headers:r}).withResponse();switch(a.status){case"in_progress":let c=5e3;if(o?.pollIntervalMs)c=o.pollIntervalMs;else{const p=u.headers.get("openai-poll-after-ms");if(p){const d=parseInt(p);isNaN(d)||(c=d)}}await Iu(c);break;case"failed":case"cancelled":case"completed":return a}}}async uploadAndPoll(e,{files:n,fileIds:o=[]},r){if(n==null||n.length==0)throw new Error("No `files` provided to process. If you've already uploaded files you should use `.createAndPoll()` instead");const a=r?.maxConcurrency??5,u=Math.min(a,n.length),c=this._client,p=n.values(),d=[...o];async function m(S){for(let E of S){const T=await c.files.create({file:E,purpose:"assistants"},r);d.push(T.id)}}const y=Array(u).fill(p).map(m);return await D4(y),await this.createAndPoll(e,{file_ids:d})}}class vI extends ye{create(e,n,o){return this._client.post(ie`/vector_stores/${e}/files`,{body:n,...o,headers:he([{"OpenAI-Beta":"assistants=v2"},o?.headers])})}retrieve(e,n,o){const{vector_store_id:r}=n;return this._client.get(ie`/vector_stores/${r}/files/${e}`,{...o,headers:he([{"OpenAI-Beta":"assistants=v2"},o?.headers])})}update(e,n,o){const{vector_store_id:r,...a}=n;return this._client.post(ie`/vector_stores/${r}/files/${e}`,{body:a,...o,headers:he([{"OpenAI-Beta":"assistants=v2"},o?.headers])})}list(e,n={},o){return this._client.getAPIList(ie`/vector_stores/${e}/files`,ht,{query:n,...o,headers:he([{"OpenAI-Beta":"assistants=v2"},o?.headers])})}delete(e,n,o){const{vector_store_id:r}=n;return this._client.delete(ie`/vector_stores/${r}/files/${e}`,{...o,headers:he([{"OpenAI-Beta":"assistants=v2"},o?.headers])})}async createAndPoll(e,n,o){const r=await this.create(e,n,o);return await this.poll(e,r.id,o)}async poll(e,n,o){const r=he([o?.headers,{"X-Stainless-Poll-Helper":"true","X-Stainless-Custom-Poll-Interval":o?.pollIntervalMs?.toString()??void 0}]);for(;;){const a=await this.retrieve(n,{vector_store_id:e},{...o,headers:r}).withResponse(),u=a.data;switch(u.status){case"in_progress":let c=5e3;if(o?.pollIntervalMs)c=o.pollIntervalMs;else{const p=a.response.headers.get("openai-poll-after-ms");if(p){const d=parseInt(p);isNaN(d)||(c=d)}}await Iu(c);break;case"failed":case"completed":return u}}}async upload(e,n,o){const r=await this._client.files.create({file:n,purpose:"assistants"},o);return this.create(e,{file_id:r.id},o)}async uploadAndPoll(e,n,o){const r=await this.upload(e,n,o);return await this.poll(e,r.id,o)}content(e,n,o){const{vector_store_id:r}=n;return this._client.getAPIList(ie`/vector_stores/${r}/files/${e}/content`,cp,{...o,headers:he([{"OpenAI-Beta":"assistants=v2"},o?.headers])})}}class gp extends ye{constructor(){super(...arguments),this.files=new vI(this._client),this.fileBatches=new gI(this._client)}create(e,n){return this._client.post("/vector_stores",{body:e,...n,headers:he([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}retrieve(e,n){return this._client.get(ie`/vector_stores/${e}`,{...n,headers:he([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}update(e,n,o){return this._client.post(ie`/vector_stores/${e}`,{body:n,...o,headers:he([{"OpenAI-Beta":"assistants=v2"},o?.headers])})}list(e={},n){return this._client.getAPIList("/vector_stores",ht,{query:e,...n,headers:he([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}delete(e,n){return this._client.delete(ie`/vector_stores/${e}`,{...n,headers:he([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}search(e,n,o){return this._client.getAPIList(ie`/vector_stores/${e}/search`,cp,{body:n,method:"post",...o,headers:he([{"OpenAI-Beta":"assistants=v2"},o?.headers])})}}gp.Files=vI;gp.FileBatches=gI;class yI extends ye{create(e,n){return this._client.post("/videos",AC({body:e,...n},this._client))}retrieve(e,n){return this._client.get(ie`/videos/${e}`,n)}list(e={},n){return this._client.getAPIList("/videos",wd,{query:e,...n})}delete(e,n){return this._client.delete(ie`/videos/${e}`,n)}downloadContent(e,n={},o){return this._client.get(ie`/videos/${e}/content`,{query:n,...o,headers:he([{Accept:"application/binary"},o?.headers]),__binaryResponse:!0})}remix(e,n,o){return this._client.post(ie`/videos/${e}/remix`,AC({body:n,...o},this._client))}}var Zs,_I,Qf;class SI extends ye{constructor(){super(...arguments),Zs.add(this)}async unwrap(e,n,o=this._client.webhookSecret,r=300){return await this.verifySignature(e,n,o,r),JSON.parse(e)}async verifySignature(e,n,o=this._client.webhookSecret,r=300){if(typeof crypto>"u"||typeof crypto.subtle.importKey!="function"||typeof crypto.subtle.verify!="function")throw new Error("Webhook signature verification is only supported when the `crypto` global is defined");V(this,Zs,"m",_I).call(this,o);const a=he([n]).values,u=V(this,Zs,"m",Qf).call(this,a,"webhook-signature"),c=V(this,Zs,"m",Qf).call(this,a,"webhook-timestamp"),p=V(this,Zs,"m",Qf).call(this,a,"webhook-id"),d=parseInt(c,10);if(isNaN(d))throw new Ll("Invalid webhook timestamp format");const m=Math.floor(Date.now()/1e3);if(m-d>r)throw new Ll("Webhook timestamp is too old");if(d>m+r)throw new Ll("Webhook timestamp is too new");const y=u.split(" ").map(C=>C.startsWith("v1,")?C.substring(3):C),S=o.startsWith("whsec_")?Buffer.from(o.replace("whsec_",""),"base64"):Buffer.from(o,"utf-8"),E=p?`${p}.${c}.${e}`:`${c}.${e}`,T=await crypto.subtle.importKey("raw",S,{name:"HMAC",hash:"SHA-256"},!1,["verify"]);for(const C of y)try{const x=Buffer.from(C,"base64");if(await crypto.subtle.verify("HMAC",T,x,new TextEncoder().encode(E)))return}catch{continue}throw new Ll("The given webhook signature does not match the expected signature")}}Zs=new WeakSet,_I=function(e){if(typeof e!="string"||e.length===0)throw new Error("The webhook secret must either be set using the env var, OPENAI_WEBHOOK_SECRET, on the client class, OpenAI({ webhookSecret: '123' }), or passed to this function")},Qf=function(e,n){if(!e)throw new Error("Headers are required");const o=e.get(n);if(o==null)throw new Error(`Missing required header: ${n}`);return o};var Pv,n_,Zf,EI;class Ne{constructor({baseURL:e=zs("OPENAI_BASE_URL"),apiKey:n=zs("OPENAI_API_KEY"),organization:o=zs("OPENAI_ORG_ID")??null,project:r=zs("OPENAI_PROJECT_ID")??null,webhookSecret:a=zs("OPENAI_WEBHOOK_SECRET")??null,...u}={}){if(Pv.add(this),Zf.set(this,void 0),this.completions=new WN(this),this.chat=new Vy(this),this.embeddings=new ZN(this),this.files=new tI(this),this.images=new aI(this),this.audio=new Ou(this),this.moderations=new uI(this),this.models=new lI(this),this.fineTuning=new xa(this),this.graders=new Zy(this),this.vectorStores=new gp(this),this.webhooks=new SI(this),this.beta=new Aa(this),this.batches=new FN(this),this.uploads=new t_(this),this.responses=new mp(this),this.realtime=new hp(this),this.conversations=new Ky(this),this.evals=new Xy(this),this.containers=new Jy(this),this.videos=new yI(this),n===void 0)throw new Se("Missing credentials. Please pass an `apiKey`, or set the `OPENAI_API_KEY` environment variable.");const c={apiKey:n,organization:o,project:r,webhookSecret:a,...u,baseURL:e||"https://api.openai.com/v1"};if(!c.dangerouslyAllowBrowser&&O3())throw new Se(`It looks like you're running in a browser-like environment.

This is disabled by default, as it risks exposing your secret API credentials to attackers.
If you understand the risks and have appropriate mitigations in place,
you can set the \`dangerouslyAllowBrowser\` option to \`true\`, e.g.,

new OpenAI({ apiKey, dangerouslyAllowBrowser: true });

https://help.openai.com/en/articles/5112595-best-practices-for-api-key-safety
`);this.baseURL=c.baseURL,this.timeout=c.timeout??n_.DEFAULT_TIMEOUT,this.logger=c.logger??console;const p="warn";this.logLevel=p,this.logLevel=TC(c.logLevel,"ClientOptions.logLevel",this)??TC(zs("OPENAI_LOG"),"process.env['OPENAI_LOG']",this)??p,this.fetchOptions=c.fetchOptions,this.maxRetries=c.maxRetries??2,this.fetch=c.fetch??B3(),Te(this,Zf,G3),this._options=c,this.apiKey=typeof n=="string"?n:"Missing Key",this.organization=o,this.project=r,this.webhookSecret=a}withOptions(e){return new this.constructor({...this._options,baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,organization:this.organization,project:this.project,webhookSecret:this.webhookSecret,...e})}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:e,nulls:n}){}async authHeaders(e){return he([{Authorization:`Bearer ${this.apiKey}`}])}stringifyQuery(e){return J3(e,{arrayFormat:"brackets"})}getUserAgent(){return`${this.constructor.name}/JS ${js}`}defaultIdempotencyKey(){return`stainless-node-retry-${zM()}`}makeStatusError(e,n,o,r){return It.generate(e,n,o,r)}async _callApiKey(){const e=this._options.apiKey;if(typeof e!="function")return!1;let n;try{n=await e()}catch(o){throw o instanceof Se?o:new Se(`Failed to get token from 'apiKey' function: ${o.message}`,{cause:o})}if(typeof n!="string"||!n)throw new Se(`Expected 'apiKey' function argument to return a string but it returned ${n}`);return this.apiKey=n,!0}buildURL(e,n,o){const r=!V(this,Pv,"m",EI).call(this)&&o||this.baseURL,a=R3(e)?new URL(e):new URL(r+(r.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),u=this.defaultQuery();return M3(u)||(n={...u,...n}),typeof n=="object"&&n&&!Array.isArray(n)&&(a.search=this.stringifyQuery(n)),a.toString()}async prepareOptions(e){await this._callApiKey()}async prepareRequest(e,{url:n,options:o}){}get(e,n){return this.methodRequest("get",e,n)}post(e,n){return this.methodRequest("post",e,n)}patch(e,n){return this.methodRequest("patch",e,n)}put(e,n){return this.methodRequest("put",e,n)}delete(e,n){return this.methodRequest("delete",e,n)}methodRequest(e,n,o){return this.request(Promise.resolve(o).then(r=>({method:e,path:n,...r})))}request(e,n=null){return new up(this,this.makeRequest(e,n,void 0))}async makeRequest(e,n,o){const r=await e,a=r.maxRetries??this.maxRetries;n==null&&(n=a),await this.prepareOptions(r);const{req:u,url:c,timeout:p}=await this.buildRequest(r,{retryCount:a-n});await this.prepareRequest(u,{url:c,options:r});const d="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),m=o===void 0?"":`, retryOf: ${o}`,y=Date.now();if(Mt(this).debug(`[${d}] sending request`,Ir({retryOfRequestLogID:o,method:r.method,url:c,options:r,headers:u.headers})),r.signal?.aborted)throw new Bn;const S=new AbortController,E=await this.fetchWithTimeout(c,u,p,S).catch(bv),T=Date.now();if(E instanceof globalThis.Error){const M=`retrying, ${n} attempts remaining`;if(r.signal?.aborted)throw new Bn;const I=Ev(E)||/timed? ?out/i.test(String(E)+("cause"in E?String(E.cause):""));if(n)return Mt(this).info(`[${d}] connection ${I?"timed out":"failed"} - ${M}`),Mt(this).debug(`[${d}] connection ${I?"timed out":"failed"} (${M})`,Ir({retryOfRequestLogID:o,url:c,durationMs:T-y,message:E.message})),this.retryRequest(r,n,o??d);throw Mt(this).info(`[${d}] connection ${I?"timed out":"failed"} - error; no more retries left`),Mt(this).debug(`[${d}] connection ${I?"timed out":"failed"} (error; no more retries left)`,Ir({retryOfRequestLogID:o,url:c,durationMs:T-y,message:E.message})),I?new Py:new ap({cause:E})}const C=[...E.headers.entries()].filter(([M])=>M==="x-request-id").map(([M,I])=>", "+M+": "+JSON.stringify(I)).join(""),x=`[${d}${m}${C}] ${u.method} ${c} ${E.ok?"succeeded":"failed"} with status ${E.status} in ${T-y}ms`;if(!E.ok){const M=await this.shouldRetry(E);if(n&&M){const O=`retrying, ${n} attempts remaining`;return await H3(E.body),Mt(this).info(`${x} - ${O}`),Mt(this).debug(`[${d}] response error (${O})`,Ir({retryOfRequestLogID:o,url:E.url,status:E.status,headers:E.headers,durationMs:T-y})),this.retryRequest(r,n,o??d,E.headers)}const I=M?"error; no more retries left":"error; not retryable";Mt(this).info(`${x} - ${I}`);const N=await E.text().catch(O=>bv(O).message),D=D3(N),U=D?void 0:N;throw Mt(this).debug(`[${d}] response error (${I})`,Ir({retryOfRequestLogID:o,url:E.url,status:E.status,headers:E.headers,message:U,durationMs:Date.now()-y})),this.makeStatusError(E.status,D,U,E.headers)}return Mt(this).info(x),Mt(this).debug(`[${d}] response start`,Ir({retryOfRequestLogID:o,url:E.url,status:E.status,headers:E.headers,durationMs:T-y})),{response:E,options:r,controller:S,requestLogID:d,retryOfRequestLogID:o,startTime:y}}getAPIList(e,n,o){return this.requestAPIList(n,{method:"get",path:e,...o})}requestAPIList(e,n){const o=this.makeRequest(n,null,void 0);return new t4(this,o,e)}async fetchWithTimeout(e,n,o,r){const{signal:a,method:u,...c}=n||{};a&&a.addEventListener("abort",()=>r.abort());const p=setTimeout(()=>r.abort(),o),d=globalThis.ReadableStream&&c.body instanceof globalThis.ReadableStream||typeof c.body=="object"&&c.body!==null&&Symbol.asyncIterator in c.body,m={signal:r.signal,...d?{duplex:"half"}:{},method:"GET",...c};u&&(m.method=u.toUpperCase());try{return await this.fetch.call(void 0,e,m)}finally{clearTimeout(p)}}async shouldRetry(e){const n=e.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,n,o,r){let a;const u=r?.get("retry-after-ms");if(u){const p=parseFloat(u);Number.isNaN(p)||(a=p)}const c=r?.get("retry-after");if(c&&!a){const p=parseFloat(c);Number.isNaN(p)?a=Date.parse(c)-Date.now():a=p*1e3}if(!(a&&0<=a&&a<60*1e3)){const p=e.maxRetries??this.maxRetries;a=this.calculateDefaultRetryTimeoutMillis(n,p)}return await Iu(a),this.makeRequest(e,n-1,o)}calculateDefaultRetryTimeoutMillis(e,n){const a=n-e,u=Math.min(.5*Math.pow(2,a),8),c=1-Math.random()*.25;return u*c*1e3}async buildRequest(e,{retryCount:n=0}={}){const o={...e},{method:r,path:a,query:u,defaultBaseURL:c}=o,p=this.buildURL(a,u,c);"timeout"in o&&I3("timeout",o.timeout),o.timeout=o.timeout??this.timeout;const{bodyHeaders:d,body:m}=this.buildBody({options:o}),y=await this.buildHeaders({options:e,method:r,bodyHeaders:d,retryCount:n});return{req:{method:r,headers:y,...o.signal&&{signal:o.signal},...globalThis.ReadableStream&&m instanceof globalThis.ReadableStream&&{duplex:"half"},...m&&{body:m},...this.fetchOptions??{},...o.fetchOptions??{}},url:p,timeout:o.timeout}}async buildHeaders({options:e,method:n,bodyHeaders:o,retryCount:r}){let a={};this.idempotencyHeader&&n!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),a[this.idempotencyHeader]=e.idempotencyKey);const u=he([a,{Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(r),...e.timeout?{"X-Stainless-Timeout":String(Math.trunc(e.timeout/1e3))}:{},...k3(),"OpenAI-Organization":this.organization,"OpenAI-Project":this.project},await this.authHeaders(e),this._options.defaultHeaders,o,e.headers]);return this.validateHeaders(u),u.values}buildBody({options:{body:e,headers:n}}){if(!e)return{bodyHeaders:void 0,body:void 0};const o=he([n]);return ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof DataView||typeof e=="string"&&o.values.has("content-type")||globalThis.Blob&&e instanceof globalThis.Blob||e instanceof FormData||e instanceof URLSearchParams||globalThis.ReadableStream&&e instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:e}:typeof e=="object"&&(Symbol.asyncIterator in e||Symbol.iterator in e&&"next"in e&&typeof e.next=="function")?{bodyHeaders:void 0,body:oN(e)}:V(this,Zf,"f").call(this,{body:e,headers:o})}}n_=Ne,Zf=new WeakMap,Pv=new WeakSet,EI=function(){return this.baseURL!=="https://api.openai.com/v1"};Ne.OpenAI=n_;Ne.DEFAULT_TIMEOUT=6e5;Ne.OpenAIError=Se;Ne.APIError=It;Ne.APIConnectionError=ap;Ne.APIConnectionTimeoutError=Py;Ne.APIUserAbortError=Bn;Ne.NotFoundError=YM;Ne.ConflictError=XM;Ne.RateLimitError=jM;Ne.BadRequestError=qM;Ne.AuthenticationError=JM;Ne.InternalServerError=QM;Ne.PermissionDeniedError=KM;Ne.UnprocessableEntityError=WM;Ne.InvalidWebhookSignatureError=Ll;Ne.toFile=s4;Ne.Completions=WN;Ne.Chat=Vy;Ne.Embeddings=ZN;Ne.Files=tI;Ne.Images=aI;Ne.Audio=Ou;Ne.Moderations=uI;Ne.Models=lI;Ne.FineTuning=xa;Ne.Graders=Zy;Ne.VectorStores=gp;Ne.Webhooks=SI;Ne.Beta=Aa;Ne.Batches=FN;Ne.Uploads=t_;Ne.Responses=mp;Ne.Realtime=hp;Ne.Conversations=Ky;Ne.Evals=Xy;Ne.Containers=Jy;Ne.Videos=yI;class FC extends Error{}const bI=["gpt-4o-mini","gpt-5.1","gpt-5-mini","gpt-5-nano","gpt-5"];class Id{static getApiKey=null;static setApiKey=null;static getClient(){const e=this.getApiKey?.()||"";if(!e)throw new FC("No OpenAI API key set");return new Ne({apiKey:e,dangerouslyAllowBrowser:!0})}static async txt2txt(e,n,o="gpt-4o-mini",r){try{const a=this.getClient(),u=[];n&&u.push({role:"system",content:n}),e&&u.push({role:"user",content:[{type:"input_text",text:e}]}),r&&console.log(r);const c={model:o,input:u};console.log("GPT Payload:",c);const d=(await a.responses.create(c)).output_text;return console.log("GPT Response TEXT:",{text:d}),d}catch(a){if(console.error("ChatGPT Error:",a),(a?.message||"").includes("Incorrect API key provided")||a instanceof FC){const c=window.prompt("Your OpenAI API key is missing or invalid. Please enter a valid key:");return c?this.setApiKey?.(c):console.warn("User did not provide a valid API key."),null}throw a}}}class O4{rootHandle=null;project=null;data={};constructor(e=null,n=null){this.rootHandle=e,this.project=n,ir(this)}async load(){if(this.rootHandle)try{const e={};for await(const n of this.rootHandle.values()){if(n.kind!=="directory")continue;const o=n.name,r=n,a={};for await(const u of r.values()){if(u.kind!=="directory")continue;const c=u.name,p=u,d=[];for await(const m of p.values()){if(m.kind!=="file"||!m.name.match(/\.(png|jpg|jpeg|webp|gif)$/i))continue;const y=m,S=`${o}/${c}/${y.name}`;d.push(new P4(y,p,S,this))}a[c]=d}e[o]=a}Je(()=>{this.data=e})}catch(e){console.error("Error loading artbook:",e),Je(()=>{this.data={}})}}getTag(e){if(!e)return null;const n=e.split("/");if(n.length<3)return null;const[o,r,a]=n,u=this.data[o];if(!u)return null;const c=u[r];return c&&c.find(d=>d.handle.name===a)||null}log(){console.log(Eu(this))}getJson(){const e={};for(const[n,o]of Object.entries(this.data)){e[n]={};for(const[r,a]of Object.entries(o))e[n][r]=a.map(u=>u.handle.name)}return e}}class P4{handle;folder;image;artInfo=null;path;artbook;constructor(e,n,o,r=null){this.handle=e,this.folder=n,this.image=new Jr(e,this.folder),this.path=o,this.artbook=r,ir(this)}async getArtInfo(){if(this.artInfo)return this.artInfo;try{const e=await qr.create(this.folder,this.handle.name+".json");Je(()=>{this.artInfo=e})}catch(e){console.warn("Unable to load art info for:",this.handle.name,e)}return this.artInfo}}const L4={tags:[],shotsjson:"",script:"",split_shots_prompt:{preset:"split_shots"}};class VC{folder;sceneJson=null;shots=[];project;is_generating_shotsjson=!1;is_generating_tags=!1;is_generating_all_shot_images=!1;split_shots_prompt=null;constructor(e,n){this.folder=e,this.project=n,ir(this)}async load(){try{this.sceneJson=await qr.create(this.folder,"sceneinfo.json",L4),this.shots=[];for await(const e of this.folder.values())if(e.kind==="directory"){const n=new pC(e,this);await n.load(),this.shots.push(n)}}catch(e){console.error("Error loading scene:",e),this.sceneJson=null,this.shots=[]}}removeTag(e){this.sceneJson?.data?.tags&&(this.sceneJson.data.tags=this.sceneJson.data.tags.filter(n=>n!==e),this.sceneJson.save())}async delete(){if(!this.project?.rootDirHandle){console.error("Cannot delete scene: project root not set");return}try{await(await this.project.rootDirHandle.getDirectoryHandle("SCENES")).removeEntry(this.folder.name,{recursive:!0}),Je(()=>{this.project&&(this.project.scenes=this.project.scenes.filter(n=>n!==this))})}catch(e){console.error("Failed to delete scene:",e)}}async createShot(e){if(!this.folder)return console.error("No scene folder available"),null;const n=this.shots.find(o=>o.folder.name===e);if(n)return n;try{const o=await this.folder.getDirectoryHandle(e,{create:!0}),r=new pC(o,this);return await r.load(),Je(()=>{const a=this.shots.findIndex(u=>u.folder.name.localeCompare(e)>0);a===-1?this.shots.push(r):this.shots.splice(a,0,r)}),r}catch(o){return console.error("Failed to create shot:",o),null}}get finishedShotsNum(){return this.shots.filter(e=>e.shotJson?.data?.finished).length}async generateShotsJson(){if(!this.sceneJson?.data?.script)return null;Je(()=>{this.is_generating_shotsjson=!0});const e=this.sceneJson.data.script,n=`
${this.project.workflows.split_scene_into_shots.prompt}

${this.sceneJson.data.split_prompt}

SCRIPT:
${e}
`,o=this.project.projinfo?.getField("workflows/split_scene_into_shots/system_message");try{return await Id.txt2txt(n,o,this.project?.projinfo?.getField("workflows/split_scene_into_shots/model"))}catch(r){return console.error("Error generating shots JSON:",r),null}finally{Je(()=>{this.is_generating_shotsjson=!1})}}async createShotsFromShotsJson(){if(!this.sceneJson?.data?.shotsjson){console.warn("No shots JSON found in scene.");return}let e;try{e=JSON.parse(this.sceneJson.data.shotsjson)}catch(n){console.error("Invalid shots JSON:",n),alert("Error: The shots JSON is invalid. Please check the format.");return}for(const n of Object.keys(e)){const o=e[n];if(!o||typeof o!="object"){console.warn(`Skipping invalid shot data for key: ${n}`);continue}try{const r=await this.createShot(n);if(!r){console.error(`Failed to create shot ${n}`);continue}r.shotJson&&(Object.assign(r.shotJson.data,o),await r.shotJson.save())}catch(r){console.error(`Error creating shot ${n}:`,r)}}}log(){console.log(Eu(this))}getTags(){if(!this.sceneJson?.data?.tags||!this.project?.artbook)return[];const e=[];for(const n of this.sceneJson.data.tags){const o=this.project.artbook.getTag(n);o&&e.push(o)}return e}get tags(){return this.getTags()}async generateTags(){Je(()=>{this.is_generating_tags=!0});const e=`
${this.project?.projinfo?.data?.generate_tags_prompt}

SCRIPT:
${this.sceneJson?.data.script}

SHOTS JSON:
${this.sceneJson?.data.shotsjson}

REFS DICTIONARY:
${JSON.stringify(this.project?.artbook?.getJson(),null,2)}

`,n="You are a helpful assistant. Do not write explanations. ";try{const o=await Id.txt2txt(e,n,this.project?.projinfo?.data.gpt_model);for(const r of o?.split(`
`)||[]){const a=r.trim();a&&(console.log("Adding Tag: ",a),this.addTag(a))}return o}catch(o){return console.error("Error generating tags:",o),null}finally{Je(()=>{this.is_generating_tags=!1})}}addTag(e){Je(()=>{this.sceneJson?.data.tags.includes(e)||(this.project?.artbook?.getTag(e)?(this.sceneJson?.data.tags.push(e),this.sceneJson?.save()):console.log("Tag not found: ",e))})}async generateAllShotImages(){Je(()=>{this.is_generating_all_shot_images=!0});const e=this.shots.filter(n=>!n.srcImage).map(n=>n.GenerateImage());await Promise.all(e),Je(()=>{this.is_generating_all_shot_images=!1})}}const Lv=(t,e)=>e.some(n=>t instanceof n);let zC,qC;function U4(){return zC||(zC=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function k4(){return qC||(qC=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Uv=new WeakMap,Ag=new WeakMap,vp=new WeakMap;function B4(t){const e=new Promise((n,o)=>{const r=()=>{t.removeEventListener("success",a),t.removeEventListener("error",u)},a=()=>{n(kr(t.result)),r()},u=()=>{o(t.error),r()};t.addEventListener("success",a),t.addEventListener("error",u)});return vp.set(e,t),e}function H4(t){if(Uv.has(t))return;const e=new Promise((n,o)=>{const r=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",u),t.removeEventListener("abort",u)},a=()=>{n(),r()},u=()=>{o(t.error||new DOMException("AbortError","AbortError")),r()};t.addEventListener("complete",a),t.addEventListener("error",u),t.addEventListener("abort",u)});Uv.set(t,e)}let kv={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Uv.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return kr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function wI(t){kv=t(kv)}function G4(t){return k4().includes(t)?function(...e){return t.apply(Bv(this),e),kr(this.request)}:function(...e){return kr(t.apply(Bv(this),e))}}function $4(t){return typeof t=="function"?G4(t):(t instanceof IDBTransaction&&H4(t),Lv(t,U4())?new Proxy(t,kv):t)}function kr(t){if(t instanceof IDBRequest)return B4(t);if(Ag.has(t))return Ag.get(t);const e=$4(t);return e!==t&&(Ag.set(t,e),vp.set(e,t)),e}const Bv=t=>vp.get(t);function F4(t,e,{blocked:n,upgrade:o,blocking:r,terminated:a}={}){const u=indexedDB.open(t,e),c=kr(u);return o&&u.addEventListener("upgradeneeded",p=>{o(kr(u.result),p.oldVersion,p.newVersion,kr(u.transaction),p)}),n&&u.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),c.then(p=>{a&&p.addEventListener("close",()=>a()),r&&p.addEventListener("versionchange",d=>r(d.oldVersion,d.newVersion,d))}).catch(()=>{}),c}const V4=["get","getKey","getAll","getAllKeys","count"],z4=["put","add","delete","clear"],xg=new Map;function JC(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(xg.get(e))return xg.get(e);const n=e.replace(/FromIndex$/,""),o=e!==n,r=z4.includes(n);if(!(n in(o?IDBIndex:IDBObjectStore).prototype)||!(r||V4.includes(n)))return;const a=async function(u,...c){const p=this.transaction(u,r?"readwrite":"readonly");let d=p.store;return o&&(d=d.index(c.shift())),(await Promise.all([d[n](...c),r&&p.done]))[0]};return xg.set(e,a),a}wI(t=>({...t,get:(e,n,o)=>JC(e,n)||t.get(e,n,o),has:(e,n)=>!!JC(e,n)||t.has(e,n)}));const q4=["continue","continuePrimaryKey","advance"],KC={},Hv=new WeakMap,TI=new WeakMap,J4={get(t,e){if(!q4.includes(e))return t[e];let n=KC[e];return n||(n=KC[e]=function(...o){Hv.set(this,TI.get(this)[e](...o))}),n}};async function*K4(...t){let e=this;if(e instanceof IDBCursor||(e=await e.openCursor(...t)),!e)return;e=e;const n=new Proxy(e,J4);for(TI.set(n,e),vp.set(n,Bv(e));e;)yield n,e=await(Hv.get(n)||e.continue()),Hv.delete(n)}function YC(t,e){return e===Symbol.asyncIterator&&Lv(t,[IDBIndex,IDBObjectStore,IDBCursor])||e==="iterate"&&Lv(t,[IDBIndex,IDBObjectStore])}wI(t=>({...t,get(e,n,o){return YC(e,n)?K4:t.get(e,n,o)},has(e,n){return YC(e,n)||t.has(e,n)}}));const Y4="ShotMasterRE",Mf="settings";class X4{db=null;data={id:"settings",lastOpenedFolder:null,recentFolders:[],api_keys:{}};constructor(){ir(this.data)}async getDB(){return this.db?this.db:(this.db=await F4(Y4,1,{upgrade(e){e.objectStoreNames.contains(Mf)||e.createObjectStore(Mf,{keyPath:"id"})}}),this.db)}async load(){const n=await(await this.getDB()).get(Mf,"settings");return n&&Je(()=>{Object.assign(this.data,n)}),this.data}async save(){const e=await this.getDB(),n=Eu(this.data);await e.put(Mf,n)}async update(e){Je(()=>e(this.data)),await this.save()}}class W4{fileHandle;text="";scenes=new Map;project=null;constructor(e,n=null){this.fileHandle=e,this.project=n,ir(this,{},{autoBind:!0})}async load(){const e=await this.fileHandle.getFile();this.text=(await e.text()).replace(/\r\n/g,`
`),this.splitIntoScenes()}async save(){const e=await this.fileHandle.createWritable();await e.write(this.text),await e.close()}setText(e){this.text=e,this.splitIntoScenes()}splitIntoScenes(){this.scenes.clear();const e=/^SC_[^\n]{1,32}$/gm,n=[...this.text.matchAll(e)];if(n.length===0){this.scenes.set("",this.text);return}for(let o=0;o<n.length;o++){const r=n[o][0],a=n[o].index;if(o===0&&a>0){const p=this.text.slice(0,a);this.scenes.set("",p)}const u=o+1<n.length?n[o+1].index:this.text.length,c=this.text.slice(a,u);this.scenes.set(r,c)}}get sortedSceneKeys(){return Array.from(this.scenes.keys()).sort((e,n)=>e.localeCompare(n))}joinScenes(){let e="";for(const n of this.sortedSceneKeys)e+=this.scenes.get(n);return e}setSceneText(e,n){this.scenes.set(e,n),this.text=this.joinScenes(),this.splitIntoScenes()}async createScenes(){if(!this.project){console.error("Script has no project reference");return}for(const e of this.sortedSceneKeys){if(e==="")continue;const n=this.scenes.get(e)??"";try{const o=await this.project.createScene(e);if(!o){console.error(`Failed to create scene ${e}`);continue}o.sceneJson&&(o.sceneJson.data.script=n,await o.sceneJson.save())}catch(o){console.error(`Error creating scene ${e}:`,o)}}}}const j4={gpt_model:"gpt-4o-mini",describe_prompt:"        . ",generate_tags_prompt:`
     (SCRIPT)     (SHOTS JSON)        REFS DICTIONARY     .

     ,        ,      :
  ENV/ROOM1/Night.png
  CHAR/VICTOR/Portrait.png


  `,split_shot_prompt:`
       ,            json,     json   :
{
  "SHOT_010" : 
    {
    "prompt" : "     ", 
    "camera" : "focal length, shot type", 
    "action_description" : "     ", 
    },

}`,prompt_presets:{split_shots:{model:"gpt-4o",prompt:`
       ,            json,     json   :
{
  "SHOT_010" : 
    {
    "prompt" : "     ", 
    "camera" : "focal length, shot type", 
    "action_description" : "     ", 
    },

}`,system_message:"You are a helpful assistant. Always respond using ONLY valid JSON. Do not write explanations. Do not wrap the JSON in backticks. The entire response must be a valid JSON object."},generate_tags:{model:"gpt-4o",prompt:"Generate Tags ",system_message:"You are a tagger "}},workflows:{generate_shot_image:{model:"gemini-2.5-flash-image"},split_scene_into_shots:{model:"gpt-4o-mini",prompt:`
       ,            json,     json   :
{
  "SHOT_010" : 
    {
    "prompt" : "     ", 
    "camera" : "focal length, shot type", 
    "action_description" : "     ", 
    },

}`,system_message:"You are a helpful assistant. Always respond using ONLY valid JSON. Do not write explanations. Do not wrap the JSON in backticks. The entire response must be a valid JSON object."}}};class Q4{rootDirHandle=null;scenes=[];artbook=null;script=null;userSettingsDB=new X4;projinfo=null;currentView={type:"none"};selectedScene=null;constructor(e=null){this.rootDirHandle=e,ir(this)}async loadFromFolder(e){e&&(this.rootDirHandle=e,Je(async()=>{this.userSettingsDB.data.lastOpenedFolder=e,(await Promise.all(this.userSettingsDB.data.recentFolders.map(async o=>{try{return await o.isSameEntry(e)}catch{return!1}}))).includes(!0)||(this.userSettingsDB.data.recentFolders.push(e),this.userSettingsDB.data.recentFolders=this.userSettingsDB.data.recentFolders.slice(-5)),await this.userSettingsDB.save(),this.projinfo=await qr.create(this.rootDirHandle,"projinfo.json",j4)}),await Promise.all([this.loadScenes(),this.loadArtbook(),this.loadScript()]))}async loadScenes(){if(this.rootDirHandle)try{const e=await this.rootDirHandle.getDirectoryHandle("SCENES",{create:!0}),n=[];for await(const o of e.values())if(o.kind==="directory"){const r=new VC(o,this);await r.load(),n.push(r)}Je(()=>{this.scenes=n})}catch(e){console.error("Error loading scenes:",e),Je(()=>{this.scenes=[]})}}async loadArtbook(){if(this.rootDirHandle)try{const e=await this.rootDirHandle.getDirectoryHandle("REFS",{create:!0}),n=new O4(e,this);await n.load(),Je(()=>{this.artbook=n})}catch(e){console.error("Error loading artbook:",e),Je(()=>{this.artbook=null})}}async loadScript(){if(this.rootDirHandle)try{const e=await this.rootDirHandle.getFileHandle("script.txt",{create:!0}),n=new W4(e,this);await n.load(),Je(()=>{this.script=n})}catch(e){console.error("Error loading script:",e),Je(()=>{this.script=null})}}async loadDB(){await this.userSettingsDB.load(),la.getApiKey=()=>this.userSettingsDB.data.api_keys.Google_API_KEY||null,la.setApiKey=async e=>{await this.userSettingsDB.update(n=>{n.api_keys.Google_API_KEY=e})},Id.getApiKey=()=>this.userSettingsDB.data.api_keys.GPT_API_KEY||null,Id.setApiKey=async e=>{await this.userSettingsDB.update(n=>{n.api_keys.GPT_API_KEY=e})}}async createScene(e){if(!this.rootDirHandle)return console.error("No project folder open"),null;const n=this.scenes.find(o=>o.folder.name===e);if(n)return n;try{const r=await(await this.rootDirHandle.getDirectoryHandle("SCENES",{create:!0})).getDirectoryHandle(e,{create:!0}),a=new VC(r,this);return await a.load(),Je(()=>{const u=this.scenes.findIndex(c=>c.folder.name.localeCompare(a.folder.name)>0);u===-1?this.scenes.push(a):this.scenes.splice(u,0,a)}),a}catch(o){return console.error("Failed to create scene:",o),null}}log(){console.log(Eu(this))}setView(e,n=null){this.currentView=e,this.selectedScene=n}get promptPresets(){return this.projinfo?this.projinfo.data.prompt_presets:{}}savePromptPreset(e){Je(()=>{this.projinfo&&(this.projinfo.data.prompt_presets[e.preset]=e,this.projinfo?.save())})}get workflows(){return this.projinfo?.data.workflows}updateWorkflow(e,n,o){Je(()=>{this.workflows[e][n]=o,this.projinfo?.save()})}}const Z4=({onOpenFolder:t,recentFolders:e,onOpenRecent:n,project:o})=>{const r=[{name:"Open",onClick:t},{name:"Recent",subItems:e.length?e.map(c=>({name:c.name,onClick:()=>n(c)})):[{name:"No Recent"}]}],a=[{name:"Undo"},{name:"Redo"}],u=[{name:"About"}];return A.jsx(Iw,{expand:!0,children:A.jsxs(Jx,{fluid:!0,children:[A.jsx(Iw.Brand,{children:"ShotMasterRT"}),A.jsxs(oH,{className:"me-auto",style:{userSelect:"none"},children:[A.jsx(Fs,{title:"File",items:r}),A.jsx(Fs,{title:"Edit",items:a}),A.jsx(Fs,{title:"Help",items:u}),A.jsx(Fs,{title:"Settings",onClick:()=>o.setView({type:"settings"})}),A.jsx(Fs,{title:"Script",onClick:()=>o.setView({type:"script"})}),A.jsx(Fs,{title:"Artbook",onClick:()=>o.setView({type:"artbook"})})]})]})})},e6=Ut(({scene:t})=>{const e=()=>{!t||!t.sceneJson||t.project?.setView({type:"scene"},t)};return A.jsxs("li",{className:"d-flex justify-content-between align-items-center py-1 px-2",style:{cursor:"pointer"},onClick:e,children:[A.jsx("span",{children:t.folder.name}),A.jsxs("span",{className:"text-muted",children:[t.finishedShotsNum," / ",t.shots.length]})]})}),Pt=({onClick:t,label:e="Click",className:n=""})=>A.jsx("button",{className:`btn btn-sm btn-outline-secondary ${n}`,onClick:t,children:e}),t6=Ut(({project:t})=>{if(!t)return A.jsx("div",{children:"No Project Opened"});const e=async()=>{const o=prompt("Enter new scene name");o&&await t.createScene(o)},n=t.rootDirHandle?.name||"No Project Opened";return A.jsxs("div",{style:{width:"200px",minWidth:"200px",borderRight:"1px solid #ced4da",padding:"10px",display:"flex",flexDirection:"column"},children:[A.jsx("h5",{style:{flexShrink:0,marginBottom:8},children:n}),A.jsx(Pt,{label:"+ Add Scene",onClick:e,className:"mb-2"}),A.jsx("ul",{className:"list-unstyled",style:{margin:0,padding:0,overflowY:"auto",maxHeight:"calc(100vh - 100px)"},children:t.scenes.map((o,r)=>A.jsx(e6,{scene:o},r))})]})});class Nf extends w.Component{constructor(e){super(e),this.state={value:e.value}}handleChange=e=>{const n=e.target.value;this.setState({value:n}),this.props.onChange(n)};render(){const{label:e}=this.props,{value:n}=this.state;return A.jsxs("div",{style:{display:"flex",alignItems:"center",marginBottom:12},children:[A.jsx("label",{style:{marginRight:8,minWidth:120},children:e}),A.jsx("input",{type:"text",value:n,onChange:this.handleChange,style:{flexGrow:1,padding:6}})]})}}const yp=({label:t="Section",children:e,defaultCollapsed:n=!1,className:o="",headerExtra:r})=>{const[a,u]=w.useState(n);return A.jsxs("div",{className:`border rounded p-2 mb-2 ${o}`,children:[A.jsxs("div",{className:"d-flex align-items-center justify-content-between mb-2",children:[A.jsxs("div",{className:"d-flex align-items-center",children:[A.jsx("button",{className:"btn btn-sm btn-outline-secondary me-2",onClick:()=>u(!a),children:a?"":""}),A.jsx("strong",{children:t})]}),r&&!a&&A.jsx("div",{children:r})]}),!a&&A.jsx("div",{children:e})]})},Gv=({label:t,initialText:e,onSave:n,onEdit:o,fitHeight:r=!1,headerExtra:a})=>{const[u,c]=w.useState(e),[p,d]=w.useState(e),[m,y]=w.useState(!1),[S,E]=w.useState(!1),T=w.useRef(null);w.useEffect(()=>{c(e),d(e),r&&T.current&&(T.current.style.height="auto",T.current.style.height=`${T.current.scrollHeight}px`)},[e,r]);const C=u!==p,x=N=>{c(N),o&&o(N)},M=async()=>{n&&(E(!0),await n(u),d(u),E(!1))};w.useEffect(()=>{if(!m||!C)return;const N=setTimeout(()=>M(),1e3);return()=>clearTimeout(N)},[u,m,C]),w.useEffect(()=>{r&&T.current&&(T.current.style.height="auto",T.current.style.height=`${T.current.scrollHeight}px`)},[u,r]);const I=A.jsxs("div",{className:"d-flex align-items-center gap-2",children:[a&&A.jsx(A.Fragment,{children:a}),A.jsx("button",{className:"btn btn-primary btn-sm",disabled:S||!C||!n,onClick:M,children:S?"Saving...":C?"Save*":"Save"}),A.jsxs("label",{className:"d-flex align-items-center gap-1 mb-0",children:[A.jsx("input",{type:"checkbox",checked:m,onChange:N=>y(N.target.checked)}),"Auto-save"]})]});return A.jsx(yp,{label:t,headerExtra:I,children:A.jsx("textarea",{ref:T,className:"form-control",style:{fontFamily:"monospace",overflowY:"auto",maxHeight:"800px"},value:u,onChange:N=>x(N.target.value)})})},Zn=Ut(({localJson:t,field:e,fitHeight:n=!1,headerExtra:o})=>{if(!t)return;const r=async a=>{await t.updateField(e,a)};return A.jsx(Gv,{label:e,initialText:t.getField(e)??"",onSave:r,fitHeight:n,headerExtra:o})}),su=({tabs:t})=>{const e=Object.keys(t),[n,o]=w.useState(e[0]);return A.jsxs("div",{children:[A.jsx("ul",{className:"nav nav-tabs",children:e.map(r=>A.jsx("li",{className:"nav-item",children:A.jsx("button",{className:`nav-link ${n===r?"active":""}`,onClick:()=>o(r),children:r})},r))}),A.jsx("div",{className:"tab-content p-3 border border-top-0",children:A.jsx("div",{className:"tab-pane fade show active",children:t[n]})})]})};function n6({items:t,currentItem:e,onPicked:n,labelRenderer:o,className:r=""}){return A.jsxs(gf,{className:r,children:[A.jsx(gf.Toggle,{variant:"outline-secondary",size:"sm",children:o?o(e):String(e)}),A.jsx(gf.Menu,{children:t.map((a,u)=>A.jsx(gf.Item,{onClick:()=>n(a),children:o?o(a):String(a)},u))})]})}const o6=Ut(({project:t})=>{const{userSettingsDB:e}=t;if(!e)return null;const n=t.projinfo?{"  ":A.jsx(Zn,{localJson:t.projinfo,field:"split_shot_prompt",fitHeight:!0})," ":A.jsx(Zn,{localJson:t.projinfo,field:"generate_tags_prompt",fitHeight:!0})}:{};return A.jsxs("div",{style:{padding:20},children:[A.jsx("h3",{children:"API Keys"}),A.jsx(Pt,{onClick:()=>{t.log()},label:"LOG Project"}),A.jsx(Nf,{label:"GPT API Key",value:e.data.api_keys.GPT_API_KEY||"",onChange:async o=>{await e.update(r=>{r.api_keys.GPT_API_KEY=o})}}),A.jsx(Nf,{label:"Google API Key",value:e.data.api_keys.Google_API_KEY||"",onChange:async o=>{await e.update(r=>{r.api_keys.Google_API_KEY=o})}}),A.jsx(Nf,{label:"Kling Acess Key",value:e.data.api_keys.Kling_Acess_Key||"",onChange:async o=>{await e.update(r=>{r.api_keys.Kling_Acess_Key=o})}}),A.jsx(Nf,{label:"Kling Secret Key",value:e.data.api_keys.Kling_Secret_Key||"",onChange:async o=>{await e.update(r=>{r.api_keys.Kling_Secret_Key=o})}}),A.jsx("div",{children:A.jsx(n6,{items:bI,currentItem:t.projinfo?.data.gpt_model,onPicked:o=>{t.projinfo?.updateField("gpt_model",o)}})}),A.jsx("h2",{children:"Prompts"}),Object.keys(n).length>0&&A.jsx(su,{tabs:n})]})}),i6=Ut(({project:t})=>{if(!t.script)return A.jsx("div",{children:"No script loaded in project."});const e=async r=>{t.script.setText(r),await t.script.save()},n={};for(const r of t.script.sortedSceneKeys)n[r||"Intro"]=A.jsx(Gv,{label:r||"Intro",initialText:t.script.scenes.get(r),onSave:async a=>{t.script.setSceneText(r,a),await t.script.save()},fitHeight:!0});const o=async()=>{try{await t.script.createScenes(),alert("Scenes created successfully!")}catch(r){console.error("Error creating scenes:",r),alert("Failed to create scenes. See console for details.")}};return A.jsxs("div",{style:{padding:"1rem"},children:[A.jsx("h4",{children:"Script"}),A.jsx(Pt,{label:"Create Scenes from Script",onClick:o,className:"mb-2"}),A.jsx(su,{tabs:{"Full Script":A.jsx(Gv,{label:"Full Script",initialText:t.script.text,onSave:e,fitHeight:!0}),Scenes:A.jsx(su,{tabs:n})}})]})}),r6=Ut(({art:t,onClose:e})=>{const[n,o]=w.useState(null),[r,a]=w.useState(!0);w.useEffect(()=>{let c=!0,p=t;a(!0),o(null);async function d(){const m=await p.image.getUrlObject();if(!c||t!==p)return;o(m);const y=await p.getArtInfo();!c||t!==p||(p.artInfo=y,a(!1))}return d(),()=>{c=!1}},[t]);const u=t.handle.name;return r?A.jsx("div",{children:"Loading art info..."}):A.jsxs("div",{className:"art-info-card",style:{border:"1px solid #ccc",padding:"1rem",borderRadius:"8px"},children:[A.jsxs("div",{className:"card-header",style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[A.jsx("strong",{children:u}),A.jsx("button",{onClick:e,style:{cursor:"pointer",border:"none",background:"transparent",fontSize:"1.2rem"},children:""})]}),n?A.jsx("img",{src:n,className:"preview-img",style:{maxWidth:"1000px",width:"auto",maxHeight:"1000px",objectFit:"contain",borderRadius:"4px",display:"block",marginBottom:"1rem"}}):A.jsx("div",{style:{padding:"4rem",textAlign:"center"},children:A.jsx("span",{children:"Loading image..."})}),t.artInfo&&A.jsx(Zn,{localJson:t.artInfo,field:"prompt",fitHeight:!0})]})}),s6=Ut(({artbook:t})=>{const[e,n]=w.useState(null);if(!Object.keys(t.data).length)return A.jsx("div",{children:"No Artbook content found."});const o=({art:c})=>{const[p,d]=w.useState(null);return w.useEffect(()=>{let m=!0;return c.image.getUrlObject().then(y=>{m&&d(y)}),()=>{m=!1}},[c]),A.jsx(qx,{xs:6,md:3,lg:2,style:{marginBottom:"1rem"},children:A.jsxs(hf,{onClick:()=>n(c),style:{cursor:"pointer"},children:[p?A.jsx(hf.Img,{variant:"top",src:p}):A.jsx("div",{style:{padding:"2rem",textAlign:"center"},children:A.jsx(JR,{animation:"border"})}),A.jsx(hf.Body,{children:A.jsx(hf.Text,{style:{fontSize:"0.8rem"},children:c.handle.name})})]})})},r=(c,p)=>A.jsxs("div",{style:{marginBottom:"2rem"},children:[A.jsx("h5",{children:c}),A.jsx(qR,{children:p.map(d=>A.jsx(o,{art:d},d.handle.name))}),e&&p.includes(e)&&A.jsx("div",{style:{marginTop:"1rem"},children:A.jsx(r6,{art:e,onClose:()=>n(null)})})]},c),a=c=>A.jsxs("div",{style:{padding:"1rem"},children:[Object.entries(c).map(([p,d])=>r(p,d)),A.jsx("div",{style:{height:"500px"}})]}),u={};for(const c in t.data)u[c]=a(t.data[c]);return A.jsxs("div",{style:{padding:"1rem"},children:[A.jsx("h2",{className:"mb-3",children:"Artbook"}),A.jsx(su,{tabs:u})]})}),a6=Ut(({art:t,scene:e})=>{const[n,o]=w.useState(null);if(w.useEffect(()=>{t.getArtInfo();let a=!0;return(async()=>{const c=await t.image.getUrlObject();a&&o(c||null)})(),()=>{a=!1,t.image.revokeUrl()}},[t]),!n)return null;const r=()=>{e.removeTag(t.path)};return A.jsxs("div",{className:"d-flex align-items-center justify-content-between",children:[A.jsxs("div",{className:"d-flex align-items-center",children:[A.jsx("img",{src:n,alt:t.handle.name,style:{width:40,height:40,objectFit:"cover",marginRight:8}}),A.jsxs("div",{children:[A.jsx("div",{children:t.handle.name}),A.jsx("small",{className:"text-muted",children:t.path}),t.artInfo&&A.jsx("div",{children:A.jsx("small",{children:t.artInfo.data?.description||""})})]})]}),A.jsx(Pt,{onClick:r,label:"X"})]})}),l6=({art:t,onClick:e})=>{const[n,o]=w.useState("");return w.useEffect(()=>{let r=!0;return t.image.getUrlObject().then(a=>{r&&o(a)}),()=>{r=!1,t.image.revokeUrl()}},[t]),A.jsxs("div",{className:"px-2 py-1 hover-bg-light d-flex align-items-center",style:{cursor:"pointer",gap:6},onClick:e,children:[n&&A.jsx("img",{src:n,alt:t.handle.name,style:{width:36,height:36,objectFit:"cover",borderRadius:2}}),A.jsx("span",{children:t.handle.name})]})},o_=({onClick:t,label:e="Click",className:n="",is_loading:o=!1})=>A.jsx(Pt,{onClick:t,className:`${n} ${o?"disabled":""}`,label:A.jsxs("span",{className:"d-flex align-items-center justify-content-center",children:[A.jsx("span",{className:"spinner-border spinner-border-sm me-2",role:"status","aria-hidden":"true",style:{animation:o?void 0:"none",borderColor:o?void 0:"#6c757d"}}),A.jsx("span",{children:e})]})});function Be(t,e,{checkForDefaultPrevented:n=!0}={}){return function(r){if(t?.(r),n===!1||!r.defaultPrevented)return e?.(r)}}function XC(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function _p(...t){return e=>{let n=!1;const o=t.map(r=>{const a=XC(r,e);return!n&&typeof a=="function"&&(n=!0),a});if(n)return()=>{for(let r=0;r<o.length;r++){const a=o[r];typeof a=="function"?a():XC(t[r],null)}}}}function tn(...t){return w.useCallback(_p(...t),t)}function Pu(t,e=[]){let n=[];function o(a,u){const c=w.createContext(u),p=n.length;n=[...n,u];const d=y=>{const{scope:S,children:E,...T}=y,C=S?.[t]?.[p]||c,x=w.useMemo(()=>T,Object.values(T));return A.jsx(C.Provider,{value:x,children:E})};d.displayName=a+"Provider";function m(y,S){const E=S?.[t]?.[p]||c,T=w.useContext(E);if(T)return T;if(u!==void 0)return u;throw new Error(`\`${y}\` must be used within \`${a}\``)}return[d,m]}const r=()=>{const a=n.map(u=>w.createContext(u));return function(c){const p=c?.[t]||a;return w.useMemo(()=>({[`__scope${t}`]:{...c,[t]:p}}),[c,p])}};return r.scopeName=t,[o,u6(r,...e)]}function u6(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const o=t.map(r=>({useScope:r(),scopeName:r.scopeName}));return function(a){const u=o.reduce((c,{useScope:p,scopeName:d})=>{const y=p(a)[`__scope${d}`];return{...c,...y}},{});return w.useMemo(()=>({[`__scope${e.scopeName}`]:u}),[u])}};return n.scopeName=e.scopeName,n}var Zi=globalThis?.document?w.useLayoutEffect:()=>{},c6=IA[" useInsertionEffect ".trim().toString()]||Zi;function i_({prop:t,defaultProp:e,onChange:n=()=>{},caller:o}){const[r,a,u]=f6({defaultProp:e,onChange:n}),c=t!==void 0,p=c?t:r;{const m=w.useRef(t!==void 0);w.useEffect(()=>{const y=m.current;y!==c&&console.warn(`${o} is changing from ${y?"controlled":"uncontrolled"} to ${c?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),m.current=c},[c,o])}const d=w.useCallback(m=>{if(c){const y=d6(m)?m(t):m;y!==t&&u.current?.(y)}else a(m)},[c,t,a,u]);return[p,d]}function f6({defaultProp:t,onChange:e}){const[n,o]=w.useState(t),r=w.useRef(n),a=w.useRef(e);return c6(()=>{a.current=e},[e]),w.useEffect(()=>{r.current!==n&&(a.current?.(n),r.current=n)},[n,r]),[n,o,a]}function d6(t){return typeof t=="function"}function Dd(t){const e=p6(t),n=w.forwardRef((o,r)=>{const{children:a,...u}=o,c=w.Children.toArray(a),p=c.find(m6);if(p){const d=p.props.children,m=c.map(y=>y===p?w.Children.count(d)>1?w.Children.only(null):w.isValidElement(d)?d.props.children:null:y);return A.jsx(e,{...u,ref:r,children:w.isValidElement(d)?w.cloneElement(d,void 0,m):null})}return A.jsx(e,{...u,ref:r,children:a})});return n.displayName=`${t}.Slot`,n}function p6(t){const e=w.forwardRef((n,o)=>{const{children:r,...a}=n;if(w.isValidElement(r)){const u=v6(r),c=g6(a,r.props);return r.type!==w.Fragment&&(c.ref=o?_p(o,u):u),w.cloneElement(r,c)}return w.Children.count(r)>1?w.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var h6=Symbol("radix.slottable");function m6(t){return w.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===h6}function g6(t,e){const n={...e};for(const o in e){const r=t[o],a=e[o];/^on[A-Z]/.test(o)?r&&a?n[o]=(...c)=>{const p=a(...c);return r(...c),p}:r&&(n[o]=r):o==="style"?n[o]={...r,...a}:o==="className"&&(n[o]=[r,a].filter(Boolean).join(" "))}return{...t,...n}}function v6(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var y6=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Ft=y6.reduce((t,e)=>{const n=Dd(`Primitive.${e}`),o=w.forwardRef((r,a)=>{const{asChild:u,...c}=r,p=u?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),A.jsx(p,{...c,ref:a})});return o.displayName=`Primitive.${e}`,{...t,[e]:o}},{});function CI(t,e){t&&qd.flushSync(()=>t.dispatchEvent(e))}function AI(t){const e=t+"CollectionProvider",[n,o]=Pu(e),[r,a]=n(e,{collectionRef:{current:null},itemMap:new Map}),u=C=>{const{scope:x,children:M}=C,I=et.useRef(null),N=et.useRef(new Map).current;return A.jsx(r,{scope:x,itemMap:N,collectionRef:I,children:M})};u.displayName=e;const c=t+"CollectionSlot",p=Dd(c),d=et.forwardRef((C,x)=>{const{scope:M,children:I}=C,N=a(c,M),D=tn(x,N.collectionRef);return A.jsx(p,{ref:D,children:I})});d.displayName=c;const m=t+"CollectionItemSlot",y="data-radix-collection-item",S=Dd(m),E=et.forwardRef((C,x)=>{const{scope:M,children:I,...N}=C,D=et.useRef(null),U=tn(x,D),k=a(m,M);return et.useEffect(()=>(k.itemMap.set(D,{ref:D,...N}),()=>void k.itemMap.delete(D))),A.jsx(S,{[y]:"",ref:U,children:I})});E.displayName=m;function T(C){const x=a(t+"CollectionConsumer",C);return et.useCallback(()=>{const I=x.collectionRef.current;if(!I)return[];const N=Array.from(I.querySelectorAll(`[${y}]`));return Array.from(x.itemMap.values()).sort((k,O)=>N.indexOf(k.ref.current)-N.indexOf(O.ref.current))},[x.collectionRef,x.itemMap])}return[{Provider:u,Slot:d,ItemSlot:E},T,o]}var _6=w.createContext(void 0);function xI(t){const e=w.useContext(_6);return t||e||"ltr"}function No(t){const e=w.useRef(t);return w.useEffect(()=>{e.current=t}),w.useMemo(()=>(...n)=>e.current?.(...n),[])}function S6(t,e=globalThis?.document){const n=No(t);w.useEffect(()=>{const o=r=>{r.key==="Escape"&&n(r)};return e.addEventListener("keydown",o,{capture:!0}),()=>e.removeEventListener("keydown",o,{capture:!0})},[n,e])}var E6="DismissableLayer",$v="dismissableLayer.update",b6="dismissableLayer.pointerDownOutside",w6="dismissableLayer.focusOutside",WC,RI=w.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),MI=w.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:o,onPointerDownOutside:r,onFocusOutside:a,onInteractOutside:u,onDismiss:c,...p}=t,d=w.useContext(RI),[m,y]=w.useState(null),S=m?.ownerDocument??globalThis?.document,[,E]=w.useState({}),T=tn(e,O=>y(O)),C=Array.from(d.layers),[x]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),M=C.indexOf(x),I=m?C.indexOf(m):-1,N=d.layersWithOutsidePointerEventsDisabled.size>0,D=I>=M,U=A6(O=>{const q=O.target,J=[...d.branches].some(X=>X.contains(q));!D||J||(r?.(O),u?.(O),O.defaultPrevented||c?.())},S),k=x6(O=>{const q=O.target;[...d.branches].some(X=>X.contains(q))||(a?.(O),u?.(O),O.defaultPrevented||c?.())},S);return S6(O=>{I===d.layers.size-1&&(o?.(O),!O.defaultPrevented&&c&&(O.preventDefault(),c()))},S),w.useEffect(()=>{if(m)return n&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(WC=S.body.style.pointerEvents,S.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(m)),d.layers.add(m),jC(),()=>{n&&d.layersWithOutsidePointerEventsDisabled.size===1&&(S.body.style.pointerEvents=WC)}},[m,S,n,d]),w.useEffect(()=>()=>{m&&(d.layers.delete(m),d.layersWithOutsidePointerEventsDisabled.delete(m),jC())},[m,d]),w.useEffect(()=>{const O=()=>E({});return document.addEventListener($v,O),()=>document.removeEventListener($v,O)},[]),A.jsx(Ft.div,{...p,ref:T,style:{pointerEvents:N?D?"auto":"none":void 0,...t.style},onFocusCapture:Be(t.onFocusCapture,k.onFocusCapture),onBlurCapture:Be(t.onBlurCapture,k.onBlurCapture),onPointerDownCapture:Be(t.onPointerDownCapture,U.onPointerDownCapture)})});MI.displayName=E6;var T6="DismissableLayerBranch",C6=w.forwardRef((t,e)=>{const n=w.useContext(RI),o=w.useRef(null),r=tn(e,o);return w.useEffect(()=>{const a=o.current;if(a)return n.branches.add(a),()=>{n.branches.delete(a)}},[n.branches]),A.jsx(Ft.div,{...t,ref:r})});C6.displayName=T6;function A6(t,e=globalThis?.document){const n=No(t),o=w.useRef(!1),r=w.useRef(()=>{});return w.useEffect(()=>{const a=c=>{if(c.target&&!o.current){let p=function(){NI(b6,n,d,{discrete:!0})};const d={originalEvent:c};c.pointerType==="touch"?(e.removeEventListener("click",r.current),r.current=p,e.addEventListener("click",r.current,{once:!0})):p()}else e.removeEventListener("click",r.current);o.current=!1},u=window.setTimeout(()=>{e.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(u),e.removeEventListener("pointerdown",a),e.removeEventListener("click",r.current)}},[e,n]),{onPointerDownCapture:()=>o.current=!0}}function x6(t,e=globalThis?.document){const n=No(t),o=w.useRef(!1);return w.useEffect(()=>{const r=a=>{a.target&&!o.current&&NI(w6,n,{originalEvent:a},{discrete:!1})};return e.addEventListener("focusin",r),()=>e.removeEventListener("focusin",r)},[e,n]),{onFocusCapture:()=>o.current=!0,onBlurCapture:()=>o.current=!1}}function jC(){const t=new CustomEvent($v);document.dispatchEvent(t)}function NI(t,e,n,{discrete:o}){const r=n.originalEvent.target,a=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&r.addEventListener(t,e,{once:!0}),o?CI(r,a):r.dispatchEvent(a)}var Rg=0;function R6(){w.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??QC()),document.body.insertAdjacentElement("beforeend",t[1]??QC()),Rg++,()=>{Rg===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Rg--}},[])}function QC(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Mg="focusScope.autoFocusOnMount",Ng="focusScope.autoFocusOnUnmount",ZC={bubbles:!1,cancelable:!0},M6="FocusScope",II=w.forwardRef((t,e)=>{const{loop:n=!1,trapped:o=!1,onMountAutoFocus:r,onUnmountAutoFocus:a,...u}=t,[c,p]=w.useState(null),d=No(r),m=No(a),y=w.useRef(null),S=tn(e,C=>p(C)),E=w.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;w.useEffect(()=>{if(o){let C=function(N){if(E.paused||!c)return;const D=N.target;c.contains(D)?y.current=D:Ji(y.current,{select:!0})},x=function(N){if(E.paused||!c)return;const D=N.relatedTarget;D!==null&&(c.contains(D)||Ji(y.current,{select:!0}))},M=function(N){if(document.activeElement===document.body)for(const U of N)U.removedNodes.length>0&&Ji(c)};document.addEventListener("focusin",C),document.addEventListener("focusout",x);const I=new MutationObserver(M);return c&&I.observe(c,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",C),document.removeEventListener("focusout",x),I.disconnect()}}},[o,c,E.paused]),w.useEffect(()=>{if(c){tA.add(E);const C=document.activeElement;if(!c.contains(C)){const M=new CustomEvent(Mg,ZC);c.addEventListener(Mg,d),c.dispatchEvent(M),M.defaultPrevented||(N6(L6(DI(c)),{select:!0}),document.activeElement===C&&Ji(c))}return()=>{c.removeEventListener(Mg,d),setTimeout(()=>{const M=new CustomEvent(Ng,ZC);c.addEventListener(Ng,m),c.dispatchEvent(M),M.defaultPrevented||Ji(C??document.body,{select:!0}),c.removeEventListener(Ng,m),tA.remove(E)},0)}}},[c,d,m,E]);const T=w.useCallback(C=>{if(!n&&!o||E.paused)return;const x=C.key==="Tab"&&!C.altKey&&!C.ctrlKey&&!C.metaKey,M=document.activeElement;if(x&&M){const I=C.currentTarget,[N,D]=I6(I);N&&D?!C.shiftKey&&M===D?(C.preventDefault(),n&&Ji(N,{select:!0})):C.shiftKey&&M===N&&(C.preventDefault(),n&&Ji(D,{select:!0})):M===I&&C.preventDefault()}},[n,o,E.paused]);return A.jsx(Ft.div,{tabIndex:-1,...u,ref:S,onKeyDown:T})});II.displayName=M6;function N6(t,{select:e=!1}={}){const n=document.activeElement;for(const o of t)if(Ji(o,{select:e}),document.activeElement!==n)return}function I6(t){const e=DI(t),n=eA(e,t),o=eA(e.reverse(),t);return[n,o]}function DI(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:o=>{const r=o.tagName==="INPUT"&&o.type==="hidden";return o.disabled||o.hidden||r?NodeFilter.FILTER_SKIP:o.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function eA(t,e){for(const n of t)if(!D6(n,{upTo:e}))return n}function D6(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function O6(t){return t instanceof HTMLInputElement&&"select"in t}function Ji(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&O6(t)&&e&&t.select()}}var tA=P6();function P6(){let t=[];return{add(e){const n=t[0];e!==n&&n?.pause(),t=nA(t,e),t.unshift(e)},remove(e){t=nA(t,e),t[0]?.resume()}}}function nA(t,e){const n=[...t],o=n.indexOf(e);return o!==-1&&n.splice(o,1),n}function L6(t){return t.filter(e=>e.tagName!=="A")}var U6=IA[" useId ".trim().toString()]||(()=>{}),k6=0;function au(t){const[e,n]=w.useState(U6());return Zi(()=>{n(o=>o??String(k6++))},[t]),t||(e?`radix-${e}`:"")}const B6=["top","right","bottom","left"],er=Math.min,gn=Math.max,Od=Math.round,If=Math.floor,Mo=t=>({x:t,y:t}),H6={left:"right",right:"left",bottom:"top",top:"bottom"},G6={start:"end",end:"start"};function Fv(t,e,n){return gn(t,er(e,n))}function di(t,e){return typeof t=="function"?t(e):t}function pi(t){return t.split("-")[0]}function Ra(t){return t.split("-")[1]}function r_(t){return t==="x"?"y":"x"}function s_(t){return t==="y"?"height":"width"}const $6=new Set(["top","bottom"]);function wo(t){return $6.has(pi(t))?"y":"x"}function a_(t){return r_(wo(t))}function F6(t,e,n){n===void 0&&(n=!1);const o=Ra(t),r=a_(t),a=s_(r);let u=r==="x"?o===(n?"end":"start")?"right":"left":o==="start"?"bottom":"top";return e.reference[a]>e.floating[a]&&(u=Pd(u)),[u,Pd(u)]}function V6(t){const e=Pd(t);return[Vv(t),e,Vv(e)]}function Vv(t){return t.replace(/start|end/g,e=>G6[e])}const oA=["left","right"],iA=["right","left"],z6=["top","bottom"],q6=["bottom","top"];function J6(t,e,n){switch(t){case"top":case"bottom":return n?e?iA:oA:e?oA:iA;case"left":case"right":return e?z6:q6;default:return[]}}function K6(t,e,n,o){const r=Ra(t);let a=J6(pi(t),n==="start",o);return r&&(a=a.map(u=>u+"-"+r),e&&(a=a.concat(a.map(Vv)))),a}function Pd(t){return t.replace(/left|right|bottom|top/g,e=>H6[e])}function Y6(t){return{top:0,right:0,bottom:0,left:0,...t}}function OI(t){return typeof t!="number"?Y6(t):{top:t,right:t,bottom:t,left:t}}function Ld(t){const{x:e,y:n,width:o,height:r}=t;return{width:o,height:r,top:n,left:e,right:e+o,bottom:n+r,x:e,y:n}}function rA(t,e,n){let{reference:o,floating:r}=t;const a=wo(e),u=a_(e),c=s_(u),p=pi(e),d=a==="y",m=o.x+o.width/2-r.width/2,y=o.y+o.height/2-r.height/2,S=o[c]/2-r[c]/2;let E;switch(p){case"top":E={x:m,y:o.y-r.height};break;case"bottom":E={x:m,y:o.y+o.height};break;case"right":E={x:o.x+o.width,y};break;case"left":E={x:o.x-r.width,y};break;default:E={x:o.x,y:o.y}}switch(Ra(e)){case"start":E[u]-=S*(n&&d?-1:1);break;case"end":E[u]+=S*(n&&d?-1:1);break}return E}const X6=async(t,e,n)=>{const{placement:o="bottom",strategy:r="absolute",middleware:a=[],platform:u}=n,c=a.filter(Boolean),p=await(u.isRTL==null?void 0:u.isRTL(e));let d=await u.getElementRects({reference:t,floating:e,strategy:r}),{x:m,y}=rA(d,o,p),S=o,E={},T=0;for(let C=0;C<c.length;C++){const{name:x,fn:M}=c[C],{x:I,y:N,data:D,reset:U}=await M({x:m,y,initialPlacement:o,placement:S,strategy:r,middlewareData:E,rects:d,platform:u,elements:{reference:t,floating:e}});m=I??m,y=N??y,E={...E,[x]:{...E[x],...D}},U&&T<=50&&(T++,typeof U=="object"&&(U.placement&&(S=U.placement),U.rects&&(d=U.rects===!0?await u.getElementRects({reference:t,floating:e,strategy:r}):U.rects),{x:m,y}=rA(d,S,p)),C=-1)}return{x:m,y,placement:S,strategy:r,middlewareData:E}};async function lu(t,e){var n;e===void 0&&(e={});const{x:o,y:r,platform:a,rects:u,elements:c,strategy:p}=t,{boundary:d="clippingAncestors",rootBoundary:m="viewport",elementContext:y="floating",altBoundary:S=!1,padding:E=0}=di(e,t),T=OI(E),x=c[S?y==="floating"?"reference":"floating":y],M=Ld(await a.getClippingRect({element:(n=await(a.isElement==null?void 0:a.isElement(x)))==null||n?x:x.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(c.floating)),boundary:d,rootBoundary:m,strategy:p})),I=y==="floating"?{x:o,y:r,width:u.floating.width,height:u.floating.height}:u.reference,N=await(a.getOffsetParent==null?void 0:a.getOffsetParent(c.floating)),D=await(a.isElement==null?void 0:a.isElement(N))?await(a.getScale==null?void 0:a.getScale(N))||{x:1,y:1}:{x:1,y:1},U=Ld(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:I,offsetParent:N,strategy:p}):I);return{top:(M.top-U.top+T.top)/D.y,bottom:(U.bottom-M.bottom+T.bottom)/D.y,left:(M.left-U.left+T.left)/D.x,right:(U.right-M.right+T.right)/D.x}}const W6=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:o,placement:r,rects:a,platform:u,elements:c,middlewareData:p}=e,{element:d,padding:m=0}=di(t,e)||{};if(d==null)return{};const y=OI(m),S={x:n,y:o},E=a_(r),T=s_(E),C=await u.getDimensions(d),x=E==="y",M=x?"top":"left",I=x?"bottom":"right",N=x?"clientHeight":"clientWidth",D=a.reference[T]+a.reference[E]-S[E]-a.floating[T],U=S[E]-a.reference[E],k=await(u.getOffsetParent==null?void 0:u.getOffsetParent(d));let O=k?k[N]:0;(!O||!await(u.isElement==null?void 0:u.isElement(k)))&&(O=c.floating[N]||a.floating[T]);const q=D/2-U/2,J=O/2-C[T]/2-1,X=er(y[M],J),j=er(y[I],J),re=X,oe=O-C[T]-j,ae=O/2-C[T]/2+q,de=Fv(re,ae,oe),H=!p.arrow&&Ra(r)!=null&&ae!==de&&a.reference[T]/2-(ae<re?X:j)-C[T]/2<0,Q=H?ae<re?ae-re:ae-oe:0;return{[E]:S[E]+Q,data:{[E]:de,centerOffset:ae-de-Q,...H&&{alignmentOffset:Q}},reset:H}}}),j6=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,o;const{placement:r,middlewareData:a,rects:u,initialPlacement:c,platform:p,elements:d}=e,{mainAxis:m=!0,crossAxis:y=!0,fallbackPlacements:S,fallbackStrategy:E="bestFit",fallbackAxisSideDirection:T="none",flipAlignment:C=!0,...x}=di(t,e);if((n=a.arrow)!=null&&n.alignmentOffset)return{};const M=pi(r),I=wo(c),N=pi(c)===c,D=await(p.isRTL==null?void 0:p.isRTL(d.floating)),U=S||(N||!C?[Pd(c)]:V6(c)),k=T!=="none";!S&&k&&U.push(...K6(c,C,T,D));const O=[c,...U],q=await lu(e,x),J=[];let X=((o=a.flip)==null?void 0:o.overflows)||[];if(m&&J.push(q[M]),y){const ae=F6(r,u,D);J.push(q[ae[0]],q[ae[1]])}if(X=[...X,{placement:r,overflows:J}],!J.every(ae=>ae<=0)){var j,re;const ae=(((j=a.flip)==null?void 0:j.index)||0)+1,de=O[ae];if(de&&(!(y==="alignment"?I!==wo(de):!1)||X.every(ee=>wo(ee.placement)===I?ee.overflows[0]>0:!0)))return{data:{index:ae,overflows:X},reset:{placement:de}};let H=(re=X.filter(Q=>Q.overflows[0]<=0).sort((Q,ee)=>Q.overflows[1]-ee.overflows[1])[0])==null?void 0:re.placement;if(!H)switch(E){case"bestFit":{var oe;const Q=(oe=X.filter(ee=>{if(k){const ne=wo(ee.placement);return ne===I||ne==="y"}return!0}).map(ee=>[ee.placement,ee.overflows.filter(ne=>ne>0).reduce((ne,ce)=>ne+ce,0)]).sort((ee,ne)=>ee[1]-ne[1])[0])==null?void 0:oe[0];Q&&(H=Q);break}case"initialPlacement":H=c;break}if(r!==H)return{reset:{placement:H}}}return{}}}};function sA(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function aA(t){return B6.some(e=>t[e]>=0)}const Q6=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:o="referenceHidden",...r}=di(t,e);switch(o){case"referenceHidden":{const a=await lu(e,{...r,elementContext:"reference"}),u=sA(a,n.reference);return{data:{referenceHiddenOffsets:u,referenceHidden:aA(u)}}}case"escaped":{const a=await lu(e,{...r,altBoundary:!0}),u=sA(a,n.floating);return{data:{escapedOffsets:u,escaped:aA(u)}}}default:return{}}}}},PI=new Set(["left","top"]);async function Z6(t,e){const{placement:n,platform:o,elements:r}=t,a=await(o.isRTL==null?void 0:o.isRTL(r.floating)),u=pi(n),c=Ra(n),p=wo(n)==="y",d=PI.has(u)?-1:1,m=a&&p?-1:1,y=di(e,t);let{mainAxis:S,crossAxis:E,alignmentAxis:T}=typeof y=="number"?{mainAxis:y,crossAxis:0,alignmentAxis:null}:{mainAxis:y.mainAxis||0,crossAxis:y.crossAxis||0,alignmentAxis:y.alignmentAxis};return c&&typeof T=="number"&&(E=c==="end"?T*-1:T),p?{x:E*m,y:S*d}:{x:S*d,y:E*m}}const e5=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,o;const{x:r,y:a,placement:u,middlewareData:c}=e,p=await Z6(e,t);return u===((n=c.offset)==null?void 0:n.placement)&&(o=c.arrow)!=null&&o.alignmentOffset?{}:{x:r+p.x,y:a+p.y,data:{...p,placement:u}}}}},t5=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:o,placement:r}=e,{mainAxis:a=!0,crossAxis:u=!1,limiter:c={fn:x=>{let{x:M,y:I}=x;return{x:M,y:I}}},...p}=di(t,e),d={x:n,y:o},m=await lu(e,p),y=wo(pi(r)),S=r_(y);let E=d[S],T=d[y];if(a){const x=S==="y"?"top":"left",M=S==="y"?"bottom":"right",I=E+m[x],N=E-m[M];E=Fv(I,E,N)}if(u){const x=y==="y"?"top":"left",M=y==="y"?"bottom":"right",I=T+m[x],N=T-m[M];T=Fv(I,T,N)}const C=c.fn({...e,[S]:E,[y]:T});return{...C,data:{x:C.x-n,y:C.y-o,enabled:{[S]:a,[y]:u}}}}}},n5=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:o,placement:r,rects:a,middlewareData:u}=e,{offset:c=0,mainAxis:p=!0,crossAxis:d=!0}=di(t,e),m={x:n,y:o},y=wo(r),S=r_(y);let E=m[S],T=m[y];const C=di(c,e),x=typeof C=="number"?{mainAxis:C,crossAxis:0}:{mainAxis:0,crossAxis:0,...C};if(p){const N=S==="y"?"height":"width",D=a.reference[S]-a.floating[N]+x.mainAxis,U=a.reference[S]+a.reference[N]-x.mainAxis;E<D?E=D:E>U&&(E=U)}if(d){var M,I;const N=S==="y"?"width":"height",D=PI.has(pi(r)),U=a.reference[y]-a.floating[N]+(D&&((M=u.offset)==null?void 0:M[y])||0)+(D?0:x.crossAxis),k=a.reference[y]+a.reference[N]+(D?0:((I=u.offset)==null?void 0:I[y])||0)-(D?x.crossAxis:0);T<U?T=U:T>k&&(T=k)}return{[S]:E,[y]:T}}}},o5=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,o;const{placement:r,rects:a,platform:u,elements:c}=e,{apply:p=()=>{},...d}=di(t,e),m=await lu(e,d),y=pi(r),S=Ra(r),E=wo(r)==="y",{width:T,height:C}=a.floating;let x,M;y==="top"||y==="bottom"?(x=y,M=S===(await(u.isRTL==null?void 0:u.isRTL(c.floating))?"start":"end")?"left":"right"):(M=y,x=S==="end"?"top":"bottom");const I=C-m.top-m.bottom,N=T-m.left-m.right,D=er(C-m[x],I),U=er(T-m[M],N),k=!e.middlewareData.shift;let O=D,q=U;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(q=N),(o=e.middlewareData.shift)!=null&&o.enabled.y&&(O=I),k&&!S){const X=gn(m.left,0),j=gn(m.right,0),re=gn(m.top,0),oe=gn(m.bottom,0);E?q=T-2*(X!==0||j!==0?X+j:gn(m.left,m.right)):O=C-2*(re!==0||oe!==0?re+oe:gn(m.top,m.bottom))}await p({...e,availableWidth:q,availableHeight:O});const J=await u.getDimensions(c.floating);return T!==J.width||C!==J.height?{reset:{rects:!0}}:{}}}};function Sp(){return typeof window<"u"}function Ma(t){return LI(t)?(t.nodeName||"").toLowerCase():"#document"}function _n(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Do(t){var e;return(e=(LI(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function LI(t){return Sp()?t instanceof Node||t instanceof _n(t).Node:!1}function ao(t){return Sp()?t instanceof Element||t instanceof _n(t).Element:!1}function Io(t){return Sp()?t instanceof HTMLElement||t instanceof _n(t).HTMLElement:!1}function lA(t){return!Sp()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof _n(t).ShadowRoot}const i5=new Set(["inline","contents"]);function Lu(t){const{overflow:e,overflowX:n,overflowY:o,display:r}=lo(t);return/auto|scroll|overlay|hidden|clip/.test(e+o+n)&&!i5.has(r)}const r5=new Set(["table","td","th"]);function s5(t){return r5.has(Ma(t))}const a5=[":popover-open",":modal"];function Ep(t){return a5.some(e=>{try{return t.matches(e)}catch{return!1}})}const l5=["transform","translate","scale","rotate","perspective"],u5=["transform","translate","scale","rotate","perspective","filter"],c5=["paint","layout","strict","content"];function l_(t){const e=u_(),n=ao(t)?lo(t):t;return l5.some(o=>n[o]?n[o]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||u5.some(o=>(n.willChange||"").includes(o))||c5.some(o=>(n.contain||"").includes(o))}function f5(t){let e=tr(t);for(;Io(e)&&!ya(e);){if(l_(e))return e;if(Ep(e))return null;e=tr(e)}return null}function u_(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const d5=new Set(["html","body","#document"]);function ya(t){return d5.has(Ma(t))}function lo(t){return _n(t).getComputedStyle(t)}function bp(t){return ao(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function tr(t){if(Ma(t)==="html")return t;const e=t.assignedSlot||t.parentNode||lA(t)&&t.host||Do(t);return lA(e)?e.host:e}function UI(t){const e=tr(t);return ya(e)?t.ownerDocument?t.ownerDocument.body:t.body:Io(e)&&Lu(e)?e:UI(e)}function uu(t,e,n){var o;e===void 0&&(e=[]),n===void 0&&(n=!0);const r=UI(t),a=r===((o=t.ownerDocument)==null?void 0:o.body),u=_n(r);if(a){const c=zv(u);return e.concat(u,u.visualViewport||[],Lu(r)?r:[],c&&n?uu(c):[])}return e.concat(r,uu(r,[],n))}function zv(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function kI(t){const e=lo(t);let n=parseFloat(e.width)||0,o=parseFloat(e.height)||0;const r=Io(t),a=r?t.offsetWidth:n,u=r?t.offsetHeight:o,c=Od(n)!==a||Od(o)!==u;return c&&(n=a,o=u),{width:n,height:o,$:c}}function c_(t){return ao(t)?t:t.contextElement}function ua(t){const e=c_(t);if(!Io(e))return Mo(1);const n=e.getBoundingClientRect(),{width:o,height:r,$:a}=kI(e);let u=(a?Od(n.width):n.width)/o,c=(a?Od(n.height):n.height)/r;return(!u||!Number.isFinite(u))&&(u=1),(!c||!Number.isFinite(c))&&(c=1),{x:u,y:c}}const p5=Mo(0);function BI(t){const e=_n(t);return!u_()||!e.visualViewport?p5:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function h5(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==_n(t)?!1:e}function Yr(t,e,n,o){e===void 0&&(e=!1),n===void 0&&(n=!1);const r=t.getBoundingClientRect(),a=c_(t);let u=Mo(1);e&&(o?ao(o)&&(u=ua(o)):u=ua(t));const c=h5(a,n,o)?BI(a):Mo(0);let p=(r.left+c.x)/u.x,d=(r.top+c.y)/u.y,m=r.width/u.x,y=r.height/u.y;if(a){const S=_n(a),E=o&&ao(o)?_n(o):o;let T=S,C=zv(T);for(;C&&o&&E!==T;){const x=ua(C),M=C.getBoundingClientRect(),I=lo(C),N=M.left+(C.clientLeft+parseFloat(I.paddingLeft))*x.x,D=M.top+(C.clientTop+parseFloat(I.paddingTop))*x.y;p*=x.x,d*=x.y,m*=x.x,y*=x.y,p+=N,d+=D,T=_n(C),C=zv(T)}}return Ld({width:m,height:y,x:p,y:d})}function wp(t,e){const n=bp(t).scrollLeft;return e?e.left+n:Yr(Do(t)).left+n}function HI(t,e){const n=t.getBoundingClientRect(),o=n.left+e.scrollLeft-wp(t,n),r=n.top+e.scrollTop;return{x:o,y:r}}function m5(t){let{elements:e,rect:n,offsetParent:o,strategy:r}=t;const a=r==="fixed",u=Do(o),c=e?Ep(e.floating):!1;if(o===u||c&&a)return n;let p={scrollLeft:0,scrollTop:0},d=Mo(1);const m=Mo(0),y=Io(o);if((y||!y&&!a)&&((Ma(o)!=="body"||Lu(u))&&(p=bp(o)),Io(o))){const E=Yr(o);d=ua(o),m.x=E.x+o.clientLeft,m.y=E.y+o.clientTop}const S=u&&!y&&!a?HI(u,p):Mo(0);return{width:n.width*d.x,height:n.height*d.y,x:n.x*d.x-p.scrollLeft*d.x+m.x+S.x,y:n.y*d.y-p.scrollTop*d.y+m.y+S.y}}function g5(t){return Array.from(t.getClientRects())}function v5(t){const e=Do(t),n=bp(t),o=t.ownerDocument.body,r=gn(e.scrollWidth,e.clientWidth,o.scrollWidth,o.clientWidth),a=gn(e.scrollHeight,e.clientHeight,o.scrollHeight,o.clientHeight);let u=-n.scrollLeft+wp(t);const c=-n.scrollTop;return lo(o).direction==="rtl"&&(u+=gn(e.clientWidth,o.clientWidth)-r),{width:r,height:a,x:u,y:c}}const uA=25;function y5(t,e){const n=_n(t),o=Do(t),r=n.visualViewport;let a=o.clientWidth,u=o.clientHeight,c=0,p=0;if(r){a=r.width,u=r.height;const m=u_();(!m||m&&e==="fixed")&&(c=r.offsetLeft,p=r.offsetTop)}const d=wp(o);if(d<=0){const m=o.ownerDocument,y=m.body,S=getComputedStyle(y),E=m.compatMode==="CSS1Compat"&&parseFloat(S.marginLeft)+parseFloat(S.marginRight)||0,T=Math.abs(o.clientWidth-y.clientWidth-E);T<=uA&&(a-=T)}else d<=uA&&(a+=d);return{width:a,height:u,x:c,y:p}}const _5=new Set(["absolute","fixed"]);function S5(t,e){const n=Yr(t,!0,e==="fixed"),o=n.top+t.clientTop,r=n.left+t.clientLeft,a=Io(t)?ua(t):Mo(1),u=t.clientWidth*a.x,c=t.clientHeight*a.y,p=r*a.x,d=o*a.y;return{width:u,height:c,x:p,y:d}}function cA(t,e,n){let o;if(e==="viewport")o=y5(t,n);else if(e==="document")o=v5(Do(t));else if(ao(e))o=S5(e,n);else{const r=BI(t);o={x:e.x-r.x,y:e.y-r.y,width:e.width,height:e.height}}return Ld(o)}function GI(t,e){const n=tr(t);return n===e||!ao(n)||ya(n)?!1:lo(n).position==="fixed"||GI(n,e)}function E5(t,e){const n=e.get(t);if(n)return n;let o=uu(t,[],!1).filter(c=>ao(c)&&Ma(c)!=="body"),r=null;const a=lo(t).position==="fixed";let u=a?tr(t):t;for(;ao(u)&&!ya(u);){const c=lo(u),p=l_(u);!p&&c.position==="fixed"&&(r=null),(a?!p&&!r:!p&&c.position==="static"&&!!r&&_5.has(r.position)||Lu(u)&&!p&&GI(t,u))?o=o.filter(m=>m!==u):r=c,u=tr(u)}return e.set(t,o),o}function b5(t){let{element:e,boundary:n,rootBoundary:o,strategy:r}=t;const u=[...n==="clippingAncestors"?Ep(e)?[]:E5(e,this._c):[].concat(n),o],c=u[0],p=u.reduce((d,m)=>{const y=cA(e,m,r);return d.top=gn(y.top,d.top),d.right=er(y.right,d.right),d.bottom=er(y.bottom,d.bottom),d.left=gn(y.left,d.left),d},cA(e,c,r));return{width:p.right-p.left,height:p.bottom-p.top,x:p.left,y:p.top}}function w5(t){const{width:e,height:n}=kI(t);return{width:e,height:n}}function T5(t,e,n){const o=Io(e),r=Do(e),a=n==="fixed",u=Yr(t,!0,a,e);let c={scrollLeft:0,scrollTop:0};const p=Mo(0);function d(){p.x=wp(r)}if(o||!o&&!a)if((Ma(e)!=="body"||Lu(r))&&(c=bp(e)),o){const E=Yr(e,!0,a,e);p.x=E.x+e.clientLeft,p.y=E.y+e.clientTop}else r&&d();a&&!o&&r&&d();const m=r&&!o&&!a?HI(r,c):Mo(0),y=u.left+c.scrollLeft-p.x-m.x,S=u.top+c.scrollTop-p.y-m.y;return{x:y,y:S,width:u.width,height:u.height}}function Ig(t){return lo(t).position==="static"}function fA(t,e){if(!Io(t)||lo(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Do(t)===n&&(n=n.ownerDocument.body),n}function $I(t,e){const n=_n(t);if(Ep(t))return n;if(!Io(t)){let r=tr(t);for(;r&&!ya(r);){if(ao(r)&&!Ig(r))return r;r=tr(r)}return n}let o=fA(t,e);for(;o&&s5(o)&&Ig(o);)o=fA(o,e);return o&&ya(o)&&Ig(o)&&!l_(o)?n:o||f5(t)||n}const C5=async function(t){const e=this.getOffsetParent||$I,n=this.getDimensions,o=await n(t.floating);return{reference:T5(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:o.width,height:o.height}}};function A5(t){return lo(t).direction==="rtl"}const x5={convertOffsetParentRelativeRectToViewportRelativeRect:m5,getDocumentElement:Do,getClippingRect:b5,getOffsetParent:$I,getElementRects:C5,getClientRects:g5,getDimensions:w5,getScale:ua,isElement:ao,isRTL:A5};function FI(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function R5(t,e){let n=null,o;const r=Do(t);function a(){var c;clearTimeout(o),(c=n)==null||c.disconnect(),n=null}function u(c,p){c===void 0&&(c=!1),p===void 0&&(p=1),a();const d=t.getBoundingClientRect(),{left:m,top:y,width:S,height:E}=d;if(c||e(),!S||!E)return;const T=If(y),C=If(r.clientWidth-(m+S)),x=If(r.clientHeight-(y+E)),M=If(m),N={rootMargin:-T+"px "+-C+"px "+-x+"px "+-M+"px",threshold:gn(0,er(1,p))||1};let D=!0;function U(k){const O=k[0].intersectionRatio;if(O!==p){if(!D)return u();O?u(!1,O):o=setTimeout(()=>{u(!1,1e-7)},1e3)}O===1&&!FI(d,t.getBoundingClientRect())&&u(),D=!1}try{n=new IntersectionObserver(U,{...N,root:r.ownerDocument})}catch{n=new IntersectionObserver(U,N)}n.observe(t)}return u(!0),a}function M5(t,e,n,o){o===void 0&&(o={});const{ancestorScroll:r=!0,ancestorResize:a=!0,elementResize:u=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:p=!1}=o,d=c_(t),m=r||a?[...d?uu(d):[],...uu(e)]:[];m.forEach(M=>{r&&M.addEventListener("scroll",n,{passive:!0}),a&&M.addEventListener("resize",n)});const y=d&&c?R5(d,n):null;let S=-1,E=null;u&&(E=new ResizeObserver(M=>{let[I]=M;I&&I.target===d&&E&&(E.unobserve(e),cancelAnimationFrame(S),S=requestAnimationFrame(()=>{var N;(N=E)==null||N.observe(e)})),n()}),d&&!p&&E.observe(d),E.observe(e));let T,C=p?Yr(t):null;p&&x();function x(){const M=Yr(t);C&&!FI(C,M)&&n(),C=M,T=requestAnimationFrame(x)}return n(),()=>{var M;m.forEach(I=>{r&&I.removeEventListener("scroll",n),a&&I.removeEventListener("resize",n)}),y?.(),(M=E)==null||M.disconnect(),E=null,p&&cancelAnimationFrame(T)}}const N5=e5,I5=t5,D5=j6,O5=o5,P5=Q6,dA=W6,L5=n5,U5=(t,e,n)=>{const o=new Map,r={platform:x5,...n},a={...r.platform,_c:o};return X6(t,e,{...r,platform:a})};var k5=typeof document<"u",B5=function(){},ed=k5?w.useLayoutEffect:B5;function Ud(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,o,r;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(o=n;o--!==0;)if(!Ud(t[o],e[o]))return!1;return!0}if(r=Object.keys(t),n=r.length,n!==Object.keys(e).length)return!1;for(o=n;o--!==0;)if(!{}.hasOwnProperty.call(e,r[o]))return!1;for(o=n;o--!==0;){const a=r[o];if(!(a==="_owner"&&t.$$typeof)&&!Ud(t[a],e[a]))return!1}return!0}return t!==t&&e!==e}function VI(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function pA(t,e){const n=VI(t);return Math.round(e*n)/n}function Dg(t){const e=w.useRef(t);return ed(()=>{e.current=t}),e}function H5(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:o=[],platform:r,elements:{reference:a,floating:u}={},transform:c=!0,whileElementsMounted:p,open:d}=t,[m,y]=w.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[S,E]=w.useState(o);Ud(S,o)||E(o);const[T,C]=w.useState(null),[x,M]=w.useState(null),I=w.useCallback(ee=>{ee!==k.current&&(k.current=ee,C(ee))},[]),N=w.useCallback(ee=>{ee!==O.current&&(O.current=ee,M(ee))},[]),D=a||T,U=u||x,k=w.useRef(null),O=w.useRef(null),q=w.useRef(m),J=p!=null,X=Dg(p),j=Dg(r),re=Dg(d),oe=w.useCallback(()=>{if(!k.current||!O.current)return;const ee={placement:e,strategy:n,middleware:S};j.current&&(ee.platform=j.current),U5(k.current,O.current,ee).then(ne=>{const ce={...ne,isPositioned:re.current!==!1};ae.current&&!Ud(q.current,ce)&&(q.current=ce,qd.flushSync(()=>{y(ce)}))})},[S,e,n,j,re]);ed(()=>{d===!1&&q.current.isPositioned&&(q.current.isPositioned=!1,y(ee=>({...ee,isPositioned:!1})))},[d]);const ae=w.useRef(!1);ed(()=>(ae.current=!0,()=>{ae.current=!1}),[]),ed(()=>{if(D&&(k.current=D),U&&(O.current=U),D&&U){if(X.current)return X.current(D,U,oe);oe()}},[D,U,oe,X,J]);const de=w.useMemo(()=>({reference:k,floating:O,setReference:I,setFloating:N}),[I,N]),H=w.useMemo(()=>({reference:D,floating:U}),[D,U]),Q=w.useMemo(()=>{const ee={position:n,left:0,top:0};if(!H.floating)return ee;const ne=pA(H.floating,m.x),ce=pA(H.floating,m.y);return c?{...ee,transform:"translate("+ne+"px, "+ce+"px)",...VI(H.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:ne,top:ce}},[n,c,H.floating,m.x,m.y]);return w.useMemo(()=>({...m,update:oe,refs:de,elements:H,floatingStyles:Q}),[m,oe,de,H,Q])}const G5=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:o,padding:r}=typeof t=="function"?t(n):t;return o&&e(o)?o.current!=null?dA({element:o.current,padding:r}).fn(n):{}:o?dA({element:o,padding:r}).fn(n):{}}}},$5=(t,e)=>({...N5(t),options:[t,e]}),F5=(t,e)=>({...I5(t),options:[t,e]}),V5=(t,e)=>({...L5(t),options:[t,e]}),z5=(t,e)=>({...D5(t),options:[t,e]}),q5=(t,e)=>({...O5(t),options:[t,e]}),J5=(t,e)=>({...P5(t),options:[t,e]}),K5=(t,e)=>({...G5(t),options:[t,e]});var Y5="Arrow",zI=w.forwardRef((t,e)=>{const{children:n,width:o=10,height:r=5,...a}=t;return A.jsx(Ft.svg,{...a,ref:e,width:o,height:r,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:A.jsx("polygon",{points:"0,0 30,0 15,10"})})});zI.displayName=Y5;var X5=zI;function W5(t){const[e,n]=w.useState(void 0);return Zi(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const o=new ResizeObserver(r=>{if(!Array.isArray(r)||!r.length)return;const a=r[0];let u,c;if("borderBoxSize"in a){const p=a.borderBoxSize,d=Array.isArray(p)?p[0]:p;u=d.inlineSize,c=d.blockSize}else u=t.offsetWidth,c=t.offsetHeight;n({width:u,height:c})});return o.observe(t,{box:"border-box"}),()=>o.unobserve(t)}else n(void 0)},[t]),e}var f_="Popper",[qI,JI]=Pu(f_),[j5,KI]=qI(f_),YI=t=>{const{__scopePopper:e,children:n}=t,[o,r]=w.useState(null);return A.jsx(j5,{scope:e,anchor:o,onAnchorChange:r,children:n})};YI.displayName=f_;var XI="PopperAnchor",WI=w.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:o,...r}=t,a=KI(XI,n),u=w.useRef(null),c=tn(e,u),p=w.useRef(null);return w.useEffect(()=>{const d=p.current;p.current=o?.current||u.current,d!==p.current&&a.onAnchorChange(p.current)}),o?null:A.jsx(Ft.div,{...r,ref:c})});WI.displayName=XI;var d_="PopperContent",[Q5,Z5]=qI(d_),jI=w.forwardRef((t,e)=>{const{__scopePopper:n,side:o="bottom",sideOffset:r=0,align:a="center",alignOffset:u=0,arrowPadding:c=0,avoidCollisions:p=!0,collisionBoundary:d=[],collisionPadding:m=0,sticky:y="partial",hideWhenDetached:S=!1,updatePositionStrategy:E="optimized",onPlaced:T,...C}=t,x=KI(d_,n),[M,I]=w.useState(null),N=tn(e,ve=>I(ve)),[D,U]=w.useState(null),k=W5(D),O=k?.width??0,q=k?.height??0,J=o+(a!=="center"?"-"+a:""),X=typeof m=="number"?m:{top:0,right:0,bottom:0,left:0,...m},j=Array.isArray(d)?d:[d],re=j.length>0,oe={padding:X,boundary:j.filter(t8),altBoundary:re},{refs:ae,floatingStyles:de,placement:H,isPositioned:Q,middlewareData:ee}=H5({strategy:"fixed",placement:J,whileElementsMounted:(...ve)=>M5(...ve,{animationFrame:E==="always"}),elements:{reference:x.anchor},middleware:[$5({mainAxis:r+q,alignmentAxis:u}),p&&F5({mainAxis:!0,crossAxis:!1,limiter:y==="partial"?V5():void 0,...oe}),p&&z5({...oe}),q5({...oe,apply:({elements:ve,rects:Ve,availableWidth:ze,availableHeight:nn})=>{const{width:bn,height:fo}=Ve.reference,Vt=ve.floating.style;Vt.setProperty("--radix-popper-available-width",`${ze}px`),Vt.setProperty("--radix-popper-available-height",`${nn}px`),Vt.setProperty("--radix-popper-anchor-width",`${bn}px`),Vt.setProperty("--radix-popper-anchor-height",`${fo}px`)}}),D&&K5({element:D,padding:c}),n8({arrowWidth:O,arrowHeight:q}),S&&J5({strategy:"referenceHidden",...oe})]}),[ne,ce]=eD(H),L=No(T);Zi(()=>{Q&&L?.()},[Q,L]);const Y=ee.arrow?.x,se=ee.arrow?.y,le=ee.arrow?.centerOffset!==0,[me,Ee]=w.useState();return Zi(()=>{M&&Ee(window.getComputedStyle(M).zIndex)},[M]),A.jsx("div",{ref:ae.setFloating,"data-radix-popper-content-wrapper":"",style:{...de,transform:Q?de.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:me,"--radix-popper-transform-origin":[ee.transformOrigin?.x,ee.transformOrigin?.y].join(" "),...ee.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:A.jsx(Q5,{scope:n,placedSide:ne,onArrowChange:U,arrowX:Y,arrowY:se,shouldHideArrow:le,children:A.jsx(Ft.div,{"data-side":ne,"data-align":ce,...C,ref:N,style:{...C.style,animation:Q?void 0:"none"}})})})});jI.displayName=d_;var QI="PopperArrow",e8={top:"bottom",right:"left",bottom:"top",left:"right"},ZI=w.forwardRef(function(e,n){const{__scopePopper:o,...r}=e,a=Z5(QI,o),u=e8[a.placedSide];return A.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[u]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:A.jsx(X5,{...r,ref:n,style:{...r.style,display:"block"}})})});ZI.displayName=QI;function t8(t){return t!==null}var n8=t=>({name:"transformOrigin",options:t,fn(e){const{placement:n,rects:o,middlewareData:r}=e,u=r.arrow?.centerOffset!==0,c=u?0:t.arrowWidth,p=u?0:t.arrowHeight,[d,m]=eD(n),y={start:"0%",center:"50%",end:"100%"}[m],S=(r.arrow?.x??0)+c/2,E=(r.arrow?.y??0)+p/2;let T="",C="";return d==="bottom"?(T=u?y:`${S}px`,C=`${-p}px`):d==="top"?(T=u?y:`${S}px`,C=`${o.floating.height+p}px`):d==="right"?(T=`${-p}px`,C=u?y:`${E}px`):d==="left"&&(T=`${o.floating.width+p}px`,C=u?y:`${E}px`),{data:{x:T,y:C}}}});function eD(t){const[e,n="center"]=t.split("-");return[e,n]}var tD=YI,o8=WI,i8=jI,r8=ZI,s8="Portal",nD=w.forwardRef((t,e)=>{const{container:n,...o}=t,[r,a]=w.useState(!1);Zi(()=>a(!0),[]);const u=n||r&&globalThis?.document?.body;return u?Or.createPortal(A.jsx(Ft.div,{...o,ref:e}),u):null});nD.displayName=s8;function a8(t,e){return w.useReducer((n,o)=>e[n][o]??n,t)}var Uu=t=>{const{present:e,children:n}=t,o=l8(e),r=typeof n=="function"?n({present:o.isPresent}):w.Children.only(n),a=tn(o.ref,u8(r));return typeof n=="function"||o.isPresent?w.cloneElement(r,{ref:a}):null};Uu.displayName="Presence";function l8(t){const[e,n]=w.useState(),o=w.useRef(null),r=w.useRef(t),a=w.useRef("none"),u=t?"mounted":"unmounted",[c,p]=a8(u,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return w.useEffect(()=>{const d=Df(o.current);a.current=c==="mounted"?d:"none"},[c]),Zi(()=>{const d=o.current,m=r.current;if(m!==t){const S=a.current,E=Df(d);t?p("MOUNT"):E==="none"||d?.display==="none"?p("UNMOUNT"):p(m&&S!==E?"ANIMATION_OUT":"UNMOUNT"),r.current=t}},[t,p]),Zi(()=>{if(e){let d;const m=e.ownerDocument.defaultView??window,y=E=>{const C=Df(o.current).includes(CSS.escape(E.animationName));if(E.target===e&&C&&(p("ANIMATION_END"),!r.current)){const x=e.style.animationFillMode;e.style.animationFillMode="forwards",d=m.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=x)})}},S=E=>{E.target===e&&(a.current=Df(o.current))};return e.addEventListener("animationstart",S),e.addEventListener("animationcancel",y),e.addEventListener("animationend",y),()=>{m.clearTimeout(d),e.removeEventListener("animationstart",S),e.removeEventListener("animationcancel",y),e.removeEventListener("animationend",y)}}else p("ANIMATION_END")},[e,p]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:w.useCallback(d=>{o.current=d?getComputedStyle(d):null,n(d)},[])}}function Df(t){return t?.animationName||"none"}function u8(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var Og="rovingFocusGroup.onEntryFocus",c8={bubbles:!1,cancelable:!0},ku="RovingFocusGroup",[qv,oD,f8]=AI(ku),[d8,iD]=Pu(ku,[f8]),[p8,h8]=d8(ku),rD=w.forwardRef((t,e)=>A.jsx(qv.Provider,{scope:t.__scopeRovingFocusGroup,children:A.jsx(qv.Slot,{scope:t.__scopeRovingFocusGroup,children:A.jsx(m8,{...t,ref:e})})}));rD.displayName=ku;var m8=w.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:o,loop:r=!1,dir:a,currentTabStopId:u,defaultCurrentTabStopId:c,onCurrentTabStopIdChange:p,onEntryFocus:d,preventScrollOnEntryFocus:m=!1,...y}=t,S=w.useRef(null),E=tn(e,S),T=xI(a),[C,x]=i_({prop:u,defaultProp:c??null,onChange:p,caller:ku}),[M,I]=w.useState(!1),N=No(d),D=oD(n),U=w.useRef(!1),[k,O]=w.useState(0);return w.useEffect(()=>{const q=S.current;if(q)return q.addEventListener(Og,N),()=>q.removeEventListener(Og,N)},[N]),A.jsx(p8,{scope:n,orientation:o,dir:T,loop:r,currentTabStopId:C,onItemFocus:w.useCallback(q=>x(q),[x]),onItemShiftTab:w.useCallback(()=>I(!0),[]),onFocusableItemAdd:w.useCallback(()=>O(q=>q+1),[]),onFocusableItemRemove:w.useCallback(()=>O(q=>q-1),[]),children:A.jsx(Ft.div,{tabIndex:M||k===0?-1:0,"data-orientation":o,...y,ref:E,style:{outline:"none",...t.style},onMouseDown:Be(t.onMouseDown,()=>{U.current=!0}),onFocus:Be(t.onFocus,q=>{const J=!U.current;if(q.target===q.currentTarget&&J&&!M){const X=new CustomEvent(Og,c8);if(q.currentTarget.dispatchEvent(X),!X.defaultPrevented){const j=D().filter(H=>H.focusable),re=j.find(H=>H.active),oe=j.find(H=>H.id===C),de=[re,oe,...j].filter(Boolean).map(H=>H.ref.current);lD(de,m)}}U.current=!1}),onBlur:Be(t.onBlur,()=>I(!1))})})}),sD="RovingFocusGroupItem",aD=w.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:o=!0,active:r=!1,tabStopId:a,children:u,...c}=t,p=au(),d=a||p,m=h8(sD,n),y=m.currentTabStopId===d,S=oD(n),{onFocusableItemAdd:E,onFocusableItemRemove:T,currentTabStopId:C}=m;return w.useEffect(()=>{if(o)return E(),()=>T()},[o,E,T]),A.jsx(qv.ItemSlot,{scope:n,id:d,focusable:o,active:r,children:A.jsx(Ft.span,{tabIndex:y?0:-1,"data-orientation":m.orientation,...c,ref:e,onMouseDown:Be(t.onMouseDown,x=>{o?m.onItemFocus(d):x.preventDefault()}),onFocus:Be(t.onFocus,()=>m.onItemFocus(d)),onKeyDown:Be(t.onKeyDown,x=>{if(x.key==="Tab"&&x.shiftKey){m.onItemShiftTab();return}if(x.target!==x.currentTarget)return;const M=y8(x,m.orientation,m.dir);if(M!==void 0){if(x.metaKey||x.ctrlKey||x.altKey||x.shiftKey)return;x.preventDefault();let N=S().filter(D=>D.focusable).map(D=>D.ref.current);if(M==="last")N.reverse();else if(M==="prev"||M==="next"){M==="prev"&&N.reverse();const D=N.indexOf(x.currentTarget);N=m.loop?_8(N,D+1):N.slice(D+1)}setTimeout(()=>lD(N))}}),children:typeof u=="function"?u({isCurrentTabStop:y,hasTabStop:C!=null}):u})})});aD.displayName=sD;var g8={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function v8(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function y8(t,e,n){const o=v8(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(o))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(o)))return g8[o]}function lD(t,e=!1){const n=document.activeElement;for(const o of t)if(o===n||(o.focus({preventScroll:e}),document.activeElement!==n))return}function _8(t,e){return t.map((n,o)=>t[(e+o)%t.length])}var S8=rD,E8=aD,b8=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Js=new WeakMap,Of=new WeakMap,Pf={},Pg=0,uD=function(t){return t&&(t.host||uD(t.parentNode))},w8=function(t,e){return e.map(function(n){if(t.contains(n))return n;var o=uD(n);return o&&t.contains(o)?o:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},T8=function(t,e,n,o){var r=w8(e,Array.isArray(t)?t:[t]);Pf[n]||(Pf[n]=new WeakMap);var a=Pf[n],u=[],c=new Set,p=new Set(r),d=function(y){!y||c.has(y)||(c.add(y),d(y.parentNode))};r.forEach(d);var m=function(y){!y||p.has(y)||Array.prototype.forEach.call(y.children,function(S){if(c.has(S))m(S);else try{var E=S.getAttribute(o),T=E!==null&&E!=="false",C=(Js.get(S)||0)+1,x=(a.get(S)||0)+1;Js.set(S,C),a.set(S,x),u.push(S),C===1&&T&&Of.set(S,!0),x===1&&S.setAttribute(n,"true"),T||S.setAttribute(o,"true")}catch(M){console.error("aria-hidden: cannot operate on ",S,M)}})};return m(e),c.clear(),Pg++,function(){u.forEach(function(y){var S=Js.get(y)-1,E=a.get(y)-1;Js.set(y,S),a.set(y,E),S||(Of.has(y)||y.removeAttribute(o),Of.delete(y)),E||y.removeAttribute(n)}),Pg--,Pg||(Js=new WeakMap,Js=new WeakMap,Of=new WeakMap,Pf={})}},C8=function(t,e,n){n===void 0&&(n="data-aria-hidden");var o=Array.from(Array.isArray(t)?t:[t]),r=b8(t);return r?(o.push.apply(o,Array.from(r.querySelectorAll("[aria-live], script"))),T8(o,r,n,"aria-hidden")):function(){return null}},So=function(){return So=Object.assign||function(e){for(var n,o=1,r=arguments.length;o<r;o++){n=arguments[o];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},So.apply(this,arguments)};function cD(t,e){var n={};for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&e.indexOf(o)<0&&(n[o]=t[o]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,o=Object.getOwnPropertySymbols(t);r<o.length;r++)e.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(t,o[r])&&(n[o[r]]=t[o[r]]);return n}function A8(t,e,n){if(n||arguments.length===2)for(var o=0,r=e.length,a;o<r;o++)(a||!(o in e))&&(a||(a=Array.prototype.slice.call(e,0,o)),a[o]=e[o]);return t.concat(a||Array.prototype.slice.call(e))}var td="right-scroll-bar-position",nd="width-before-scroll-bar",x8="with-scroll-bars-hidden",R8="--removed-body-scroll-bar-size";function Lg(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function M8(t,e){var n=w.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(o){var r=n.value;r!==o&&(n.value=o,n.callback(o,r))}}}})[0];return n.callback=e,n.facade}var N8=typeof window<"u"?w.useLayoutEffect:w.useEffect,hA=new WeakMap;function I8(t,e){var n=M8(null,function(o){return t.forEach(function(r){return Lg(r,o)})});return N8(function(){var o=hA.get(n);if(o){var r=new Set(o),a=new Set(t),u=n.current;r.forEach(function(c){a.has(c)||Lg(c,null)}),a.forEach(function(c){r.has(c)||Lg(c,u)})}hA.set(n,t)},[t]),n}function D8(t){return t}function O8(t,e){e===void 0&&(e=D8);var n=[],o=!1,r={read:function(){if(o)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(a){var u=e(a,o);return n.push(u),function(){n=n.filter(function(c){return c!==u})}},assignSyncMedium:function(a){for(o=!0;n.length;){var u=n;n=[],u.forEach(a)}n={push:function(c){return a(c)},filter:function(){return n}}},assignMedium:function(a){o=!0;var u=[];if(n.length){var c=n;n=[],c.forEach(a),u=n}var p=function(){var m=u;u=[],m.forEach(a)},d=function(){return Promise.resolve().then(p)};d(),n={push:function(m){u.push(m),d()},filter:function(m){return u=u.filter(m),n}}}};return r}function P8(t){t===void 0&&(t={});var e=O8(null);return e.options=So({async:!0,ssr:!1},t),e}var fD=function(t){var e=t.sideCar,n=cD(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var o=e.read();if(!o)throw new Error("Sidecar medium not found");return w.createElement(o,So({},n))};fD.isSideCarExport=!0;function L8(t,e){return t.useMedium(e),fD}var dD=P8(),Ug=function(){},Tp=w.forwardRef(function(t,e){var n=w.useRef(null),o=w.useState({onScrollCapture:Ug,onWheelCapture:Ug,onTouchMoveCapture:Ug}),r=o[0],a=o[1],u=t.forwardProps,c=t.children,p=t.className,d=t.removeScrollBar,m=t.enabled,y=t.shards,S=t.sideCar,E=t.noRelative,T=t.noIsolation,C=t.inert,x=t.allowPinchZoom,M=t.as,I=M===void 0?"div":M,N=t.gapMode,D=cD(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),U=S,k=I8([n,e]),O=So(So({},D),r);return w.createElement(w.Fragment,null,m&&w.createElement(U,{sideCar:dD,removeScrollBar:d,shards:y,noRelative:E,noIsolation:T,inert:C,setCallbacks:a,allowPinchZoom:!!x,lockRef:n,gapMode:N}),u?w.cloneElement(w.Children.only(c),So(So({},O),{ref:k})):w.createElement(I,So({},O,{className:p,ref:k}),c))});Tp.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Tp.classNames={fullWidth:nd,zeroRight:td};var U8=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function k8(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=U8();return e&&t.setAttribute("nonce",e),t}function B8(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function H8(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var G8=function(){var t=0,e=null;return{add:function(n){t==0&&(e=k8())&&(B8(e,n),H8(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},$8=function(){var t=G8();return function(e,n){w.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},pD=function(){var t=$8(),e=function(n){var o=n.styles,r=n.dynamic;return t(o,r),null};return e},F8={left:0,top:0,right:0,gap:0},kg=function(t){return parseInt(t||"",10)||0},V8=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],o=e[t==="padding"?"paddingTop":"marginTop"],r=e[t==="padding"?"paddingRight":"marginRight"];return[kg(n),kg(o),kg(r)]},z8=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return F8;var e=V8(t),n=document.documentElement.clientWidth,o=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,o-n+e[2]-e[0])}},q8=pD(),ca="data-scroll-locked",J8=function(t,e,n,o){var r=t.left,a=t.top,u=t.right,c=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(x8,` {
   overflow: hidden `).concat(o,`;
   padding-right: `).concat(c,"px ").concat(o,`;
  }
  body[`).concat(ca,`] {
    overflow: hidden `).concat(o,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(o,";"),n==="margin"&&`
    padding-left: `.concat(r,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(u,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(c,"px ").concat(o,`;
    `),n==="padding"&&"padding-right: ".concat(c,"px ").concat(o,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(td,` {
    right: `).concat(c,"px ").concat(o,`;
  }
  
  .`).concat(nd,` {
    margin-right: `).concat(c,"px ").concat(o,`;
  }
  
  .`).concat(td," .").concat(td,` {
    right: 0 `).concat(o,`;
  }
  
  .`).concat(nd," .").concat(nd,` {
    margin-right: 0 `).concat(o,`;
  }
  
  body[`).concat(ca,`] {
    `).concat(R8,": ").concat(c,`px;
  }
`)},mA=function(){var t=parseInt(document.body.getAttribute(ca)||"0",10);return isFinite(t)?t:0},K8=function(){w.useEffect(function(){return document.body.setAttribute(ca,(mA()+1).toString()),function(){var t=mA()-1;t<=0?document.body.removeAttribute(ca):document.body.setAttribute(ca,t.toString())}},[])},Y8=function(t){var e=t.noRelative,n=t.noImportant,o=t.gapMode,r=o===void 0?"margin":o;K8();var a=w.useMemo(function(){return z8(r)},[r]);return w.createElement(q8,{styles:J8(a,!e,r,n?"":"!important")})},Jv=!1;if(typeof window<"u")try{var Lf=Object.defineProperty({},"passive",{get:function(){return Jv=!0,!0}});window.addEventListener("test",Lf,Lf),window.removeEventListener("test",Lf,Lf)}catch{Jv=!1}var Ks=Jv?{passive:!1}:!1,X8=function(t){return t.tagName==="TEXTAREA"},hD=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!X8(t)&&n[e]==="visible")},W8=function(t){return hD(t,"overflowY")},j8=function(t){return hD(t,"overflowX")},gA=function(t,e){var n=e.ownerDocument,o=e;do{typeof ShadowRoot<"u"&&o instanceof ShadowRoot&&(o=o.host);var r=mD(t,o);if(r){var a=gD(t,o),u=a[1],c=a[2];if(u>c)return!0}o=o.parentNode}while(o&&o!==n.body);return!1},Q8=function(t){var e=t.scrollTop,n=t.scrollHeight,o=t.clientHeight;return[e,n,o]},Z8=function(t){var e=t.scrollLeft,n=t.scrollWidth,o=t.clientWidth;return[e,n,o]},mD=function(t,e){return t==="v"?W8(e):j8(e)},gD=function(t,e){return t==="v"?Q8(e):Z8(e)},eJ=function(t,e){return t==="h"&&e==="rtl"?-1:1},tJ=function(t,e,n,o,r){var a=eJ(t,window.getComputedStyle(e).direction),u=a*o,c=n.target,p=e.contains(c),d=!1,m=u>0,y=0,S=0;do{if(!c)break;var E=gD(t,c),T=E[0],C=E[1],x=E[2],M=C-x-a*T;(T||M)&&mD(t,c)&&(y+=M,S+=T);var I=c.parentNode;c=I&&I.nodeType===Node.DOCUMENT_FRAGMENT_NODE?I.host:I}while(!p&&c!==document.body||p&&(e.contains(c)||e===c));return(m&&Math.abs(y)<1||!m&&Math.abs(S)<1)&&(d=!0),d},Uf=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},vA=function(t){return[t.deltaX,t.deltaY]},yA=function(t){return t&&"current"in t?t.current:t},nJ=function(t,e){return t[0]===e[0]&&t[1]===e[1]},oJ=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},iJ=0,Ys=[];function rJ(t){var e=w.useRef([]),n=w.useRef([0,0]),o=w.useRef(),r=w.useState(iJ++)[0],a=w.useState(pD)[0],u=w.useRef(t);w.useEffect(function(){u.current=t},[t]),w.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(r));var C=A8([t.lockRef.current],(t.shards||[]).map(yA),!0).filter(Boolean);return C.forEach(function(x){return x.classList.add("allow-interactivity-".concat(r))}),function(){document.body.classList.remove("block-interactivity-".concat(r)),C.forEach(function(x){return x.classList.remove("allow-interactivity-".concat(r))})}}},[t.inert,t.lockRef.current,t.shards]);var c=w.useCallback(function(C,x){if("touches"in C&&C.touches.length===2||C.type==="wheel"&&C.ctrlKey)return!u.current.allowPinchZoom;var M=Uf(C),I=n.current,N="deltaX"in C?C.deltaX:I[0]-M[0],D="deltaY"in C?C.deltaY:I[1]-M[1],U,k=C.target,O=Math.abs(N)>Math.abs(D)?"h":"v";if("touches"in C&&O==="h"&&k.type==="range")return!1;var q=window.getSelection(),J=q&&q.anchorNode,X=J?J===k||J.contains(k):!1;if(X)return!1;var j=gA(O,k);if(!j)return!0;if(j?U=O:(U=O==="v"?"h":"v",j=gA(O,k)),!j)return!1;if(!o.current&&"changedTouches"in C&&(N||D)&&(o.current=U),!U)return!0;var re=o.current||U;return tJ(re,x,C,re==="h"?N:D)},[]),p=w.useCallback(function(C){var x=C;if(!(!Ys.length||Ys[Ys.length-1]!==a)){var M="deltaY"in x?vA(x):Uf(x),I=e.current.filter(function(U){return U.name===x.type&&(U.target===x.target||x.target===U.shadowParent)&&nJ(U.delta,M)})[0];if(I&&I.should){x.cancelable&&x.preventDefault();return}if(!I){var N=(u.current.shards||[]).map(yA).filter(Boolean).filter(function(U){return U.contains(x.target)}),D=N.length>0?c(x,N[0]):!u.current.noIsolation;D&&x.cancelable&&x.preventDefault()}}},[]),d=w.useCallback(function(C,x,M,I){var N={name:C,delta:x,target:M,should:I,shadowParent:sJ(M)};e.current.push(N),setTimeout(function(){e.current=e.current.filter(function(D){return D!==N})},1)},[]),m=w.useCallback(function(C){n.current=Uf(C),o.current=void 0},[]),y=w.useCallback(function(C){d(C.type,vA(C),C.target,c(C,t.lockRef.current))},[]),S=w.useCallback(function(C){d(C.type,Uf(C),C.target,c(C,t.lockRef.current))},[]);w.useEffect(function(){return Ys.push(a),t.setCallbacks({onScrollCapture:y,onWheelCapture:y,onTouchMoveCapture:S}),document.addEventListener("wheel",p,Ks),document.addEventListener("touchmove",p,Ks),document.addEventListener("touchstart",m,Ks),function(){Ys=Ys.filter(function(C){return C!==a}),document.removeEventListener("wheel",p,Ks),document.removeEventListener("touchmove",p,Ks),document.removeEventListener("touchstart",m,Ks)}},[]);var E=t.removeScrollBar,T=t.inert;return w.createElement(w.Fragment,null,T?w.createElement(a,{styles:oJ(r)}):null,E?w.createElement(Y8,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function sJ(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const aJ=L8(dD,rJ);var vD=w.forwardRef(function(t,e){return w.createElement(Tp,So({},t,{ref:e,sideCar:aJ}))});vD.classNames=Tp.classNames;var Kv=["Enter"," "],lJ=["ArrowDown","PageUp","Home"],yD=["ArrowUp","PageDown","End"],uJ=[...lJ,...yD],cJ={ltr:[...Kv,"ArrowRight"],rtl:[...Kv,"ArrowLeft"]},fJ={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Bu="Menu",[cu,dJ,pJ]=AI(Bu),[es,_D]=Pu(Bu,[pJ,JI,iD]),Hu=JI(),SD=iD(),[ED,ur]=es(Bu),[hJ,Gu]=es(Bu),bD=t=>{const{__scopeMenu:e,open:n=!1,children:o,dir:r,onOpenChange:a,modal:u=!0}=t,c=Hu(e),[p,d]=w.useState(null),m=w.useRef(!1),y=No(a),S=xI(r);return w.useEffect(()=>{const E=()=>{m.current=!0,document.addEventListener("pointerdown",T,{capture:!0,once:!0}),document.addEventListener("pointermove",T,{capture:!0,once:!0})},T=()=>m.current=!1;return document.addEventListener("keydown",E,{capture:!0}),()=>{document.removeEventListener("keydown",E,{capture:!0}),document.removeEventListener("pointerdown",T,{capture:!0}),document.removeEventListener("pointermove",T,{capture:!0})}},[]),A.jsx(tD,{...c,children:A.jsx(ED,{scope:e,open:n,onOpenChange:y,content:p,onContentChange:d,children:A.jsx(hJ,{scope:e,onClose:w.useCallback(()=>y(!1),[y]),isUsingKeyboardRef:m,dir:S,modal:u,children:o})})})};bD.displayName=Bu;var mJ="MenuAnchor",p_=w.forwardRef((t,e)=>{const{__scopeMenu:n,...o}=t,r=Hu(n);return A.jsx(o8,{...r,...o,ref:e})});p_.displayName=mJ;var h_="MenuPortal",[gJ,wD]=es(h_,{forceMount:void 0}),TD=t=>{const{__scopeMenu:e,forceMount:n,children:o,container:r}=t,a=ur(h_,e);return A.jsx(gJ,{scope:e,forceMount:n,children:A.jsx(Uu,{present:n||a.open,children:A.jsx(nD,{asChild:!0,container:r,children:o})})})};TD.displayName=h_;var Gn="MenuContent",[vJ,m_]=es(Gn),CD=w.forwardRef((t,e)=>{const n=wD(Gn,t.__scopeMenu),{forceMount:o=n.forceMount,...r}=t,a=ur(Gn,t.__scopeMenu),u=Gu(Gn,t.__scopeMenu);return A.jsx(cu.Provider,{scope:t.__scopeMenu,children:A.jsx(Uu,{present:o||a.open,children:A.jsx(cu.Slot,{scope:t.__scopeMenu,children:u.modal?A.jsx(yJ,{...r,ref:e}):A.jsx(_J,{...r,ref:e})})})})}),yJ=w.forwardRef((t,e)=>{const n=ur(Gn,t.__scopeMenu),o=w.useRef(null),r=tn(e,o);return w.useEffect(()=>{const a=o.current;if(a)return C8(a)},[]),A.jsx(g_,{...t,ref:r,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:Be(t.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),_J=w.forwardRef((t,e)=>{const n=ur(Gn,t.__scopeMenu);return A.jsx(g_,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),SJ=Dd("MenuContent.ScrollLock"),g_=w.forwardRef((t,e)=>{const{__scopeMenu:n,loop:o=!1,trapFocus:r,onOpenAutoFocus:a,onCloseAutoFocus:u,disableOutsidePointerEvents:c,onEntryFocus:p,onEscapeKeyDown:d,onPointerDownOutside:m,onFocusOutside:y,onInteractOutside:S,onDismiss:E,disableOutsideScroll:T,...C}=t,x=ur(Gn,n),M=Gu(Gn,n),I=Hu(n),N=SD(n),D=dJ(n),[U,k]=w.useState(null),O=w.useRef(null),q=tn(e,O,x.onContentChange),J=w.useRef(0),X=w.useRef(""),j=w.useRef(0),re=w.useRef(null),oe=w.useRef("right"),ae=w.useRef(0),de=T?vD:w.Fragment,H=T?{as:SJ,allowPinchZoom:!0}:void 0,Q=ne=>{const ce=X.current+ne,L=D().filter(ve=>!ve.disabled),Y=document.activeElement,se=L.find(ve=>ve.ref.current===Y)?.textValue,le=L.map(ve=>ve.textValue),me=DJ(le,ce,se),Ee=L.find(ve=>ve.textValue===me)?.ref.current;(function ve(Ve){X.current=Ve,window.clearTimeout(J.current),Ve!==""&&(J.current=window.setTimeout(()=>ve(""),1e3))})(ce),Ee&&setTimeout(()=>Ee.focus())};w.useEffect(()=>()=>window.clearTimeout(J.current),[]),R6();const ee=w.useCallback(ne=>oe.current===re.current?.side&&PJ(ne,re.current?.area),[]);return A.jsx(vJ,{scope:n,searchRef:X,onItemEnter:w.useCallback(ne=>{ee(ne)&&ne.preventDefault()},[ee]),onItemLeave:w.useCallback(ne=>{ee(ne)||(O.current?.focus(),k(null))},[ee]),onTriggerLeave:w.useCallback(ne=>{ee(ne)&&ne.preventDefault()},[ee]),pointerGraceTimerRef:j,onPointerGraceIntentChange:w.useCallback(ne=>{re.current=ne},[]),children:A.jsx(de,{...H,children:A.jsx(II,{asChild:!0,trapped:r,onMountAutoFocus:Be(a,ne=>{ne.preventDefault(),O.current?.focus({preventScroll:!0})}),onUnmountAutoFocus:u,children:A.jsx(MI,{asChild:!0,disableOutsidePointerEvents:c,onEscapeKeyDown:d,onPointerDownOutside:m,onFocusOutside:y,onInteractOutside:S,onDismiss:E,children:A.jsx(S8,{asChild:!0,...N,dir:M.dir,orientation:"vertical",loop:o,currentTabStopId:U,onCurrentTabStopIdChange:k,onEntryFocus:Be(p,ne=>{M.isUsingKeyboardRef.current||ne.preventDefault()}),preventScrollOnEntryFocus:!0,children:A.jsx(i8,{role:"menu","aria-orientation":"vertical","data-state":FD(x.open),"data-radix-menu-content":"",dir:M.dir,...I,...C,ref:q,style:{outline:"none",...C.style},onKeyDown:Be(C.onKeyDown,ne=>{const L=ne.target.closest("[data-radix-menu-content]")===ne.currentTarget,Y=ne.ctrlKey||ne.altKey||ne.metaKey,se=ne.key.length===1;L&&(ne.key==="Tab"&&ne.preventDefault(),!Y&&se&&Q(ne.key));const le=O.current;if(ne.target!==le||!uJ.includes(ne.key))return;ne.preventDefault();const Ee=D().filter(ve=>!ve.disabled).map(ve=>ve.ref.current);yD.includes(ne.key)&&Ee.reverse(),NJ(Ee)}),onBlur:Be(t.onBlur,ne=>{ne.currentTarget.contains(ne.target)||(window.clearTimeout(J.current),X.current="")}),onPointerMove:Be(t.onPointerMove,fu(ne=>{const ce=ne.target,L=ae.current!==ne.clientX;if(ne.currentTarget.contains(ce)&&L){const Y=ne.clientX>ae.current?"right":"left";oe.current=Y,ae.current=ne.clientX}}))})})})})})})});CD.displayName=Gn;var EJ="MenuGroup",v_=w.forwardRef((t,e)=>{const{__scopeMenu:n,...o}=t;return A.jsx(Ft.div,{role:"group",...o,ref:e})});v_.displayName=EJ;var bJ="MenuLabel",AD=w.forwardRef((t,e)=>{const{__scopeMenu:n,...o}=t;return A.jsx(Ft.div,{...o,ref:e})});AD.displayName=bJ;var kd="MenuItem",_A="menu.itemSelect",Cp=w.forwardRef((t,e)=>{const{disabled:n=!1,onSelect:o,...r}=t,a=w.useRef(null),u=Gu(kd,t.__scopeMenu),c=m_(kd,t.__scopeMenu),p=tn(e,a),d=w.useRef(!1),m=()=>{const y=a.current;if(!n&&y){const S=new CustomEvent(_A,{bubbles:!0,cancelable:!0});y.addEventListener(_A,E=>o?.(E),{once:!0}),CI(y,S),S.defaultPrevented?d.current=!1:u.onClose()}};return A.jsx(xD,{...r,ref:p,disabled:n,onClick:Be(t.onClick,m),onPointerDown:y=>{t.onPointerDown?.(y),d.current=!0},onPointerUp:Be(t.onPointerUp,y=>{d.current||y.currentTarget?.click()}),onKeyDown:Be(t.onKeyDown,y=>{const S=c.searchRef.current!=="";n||S&&y.key===" "||Kv.includes(y.key)&&(y.currentTarget.click(),y.preventDefault())})})});Cp.displayName=kd;var xD=w.forwardRef((t,e)=>{const{__scopeMenu:n,disabled:o=!1,textValue:r,...a}=t,u=m_(kd,n),c=SD(n),p=w.useRef(null),d=tn(e,p),[m,y]=w.useState(!1),[S,E]=w.useState("");return w.useEffect(()=>{const T=p.current;T&&E((T.textContent??"").trim())},[a.children]),A.jsx(cu.ItemSlot,{scope:n,disabled:o,textValue:r??S,children:A.jsx(E8,{asChild:!0,...c,focusable:!o,children:A.jsx(Ft.div,{role:"menuitem","data-highlighted":m?"":void 0,"aria-disabled":o||void 0,"data-disabled":o?"":void 0,...a,ref:d,onPointerMove:Be(t.onPointerMove,fu(T=>{o?u.onItemLeave(T):(u.onItemEnter(T),T.defaultPrevented||T.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Be(t.onPointerLeave,fu(T=>u.onItemLeave(T))),onFocus:Be(t.onFocus,()=>y(!0)),onBlur:Be(t.onBlur,()=>y(!1))})})})}),wJ="MenuCheckboxItem",RD=w.forwardRef((t,e)=>{const{checked:n=!1,onCheckedChange:o,...r}=t;return A.jsx(OD,{scope:t.__scopeMenu,checked:n,children:A.jsx(Cp,{role:"menuitemcheckbox","aria-checked":Bd(n)?"mixed":n,...r,ref:e,"data-state":S_(n),onSelect:Be(r.onSelect,()=>o?.(Bd(n)?!0:!n),{checkForDefaultPrevented:!1})})})});RD.displayName=wJ;var MD="MenuRadioGroup",[TJ,CJ]=es(MD,{value:void 0,onValueChange:()=>{}}),ND=w.forwardRef((t,e)=>{const{value:n,onValueChange:o,...r}=t,a=No(o);return A.jsx(TJ,{scope:t.__scopeMenu,value:n,onValueChange:a,children:A.jsx(v_,{...r,ref:e})})});ND.displayName=MD;var ID="MenuRadioItem",DD=w.forwardRef((t,e)=>{const{value:n,...o}=t,r=CJ(ID,t.__scopeMenu),a=n===r.value;return A.jsx(OD,{scope:t.__scopeMenu,checked:a,children:A.jsx(Cp,{role:"menuitemradio","aria-checked":a,...o,ref:e,"data-state":S_(a),onSelect:Be(o.onSelect,()=>r.onValueChange?.(n),{checkForDefaultPrevented:!1})})})});DD.displayName=ID;var y_="MenuItemIndicator",[OD,AJ]=es(y_,{checked:!1}),PD=w.forwardRef((t,e)=>{const{__scopeMenu:n,forceMount:o,...r}=t,a=AJ(y_,n);return A.jsx(Uu,{present:o||Bd(a.checked)||a.checked===!0,children:A.jsx(Ft.span,{...r,ref:e,"data-state":S_(a.checked)})})});PD.displayName=y_;var xJ="MenuSeparator",LD=w.forwardRef((t,e)=>{const{__scopeMenu:n,...o}=t;return A.jsx(Ft.div,{role:"separator","aria-orientation":"horizontal",...o,ref:e})});LD.displayName=xJ;var RJ="MenuArrow",UD=w.forwardRef((t,e)=>{const{__scopeMenu:n,...o}=t,r=Hu(n);return A.jsx(r8,{...r,...o,ref:e})});UD.displayName=RJ;var __="MenuSub",[MJ,kD]=es(__),BD=t=>{const{__scopeMenu:e,children:n,open:o=!1,onOpenChange:r}=t,a=ur(__,e),u=Hu(e),[c,p]=w.useState(null),[d,m]=w.useState(null),y=No(r);return w.useEffect(()=>(a.open===!1&&y(!1),()=>y(!1)),[a.open,y]),A.jsx(tD,{...u,children:A.jsx(ED,{scope:e,open:o,onOpenChange:y,content:d,onContentChange:m,children:A.jsx(MJ,{scope:e,contentId:au(),triggerId:au(),trigger:c,onTriggerChange:p,children:n})})})};BD.displayName=__;var zl="MenuSubTrigger",HD=w.forwardRef((t,e)=>{const n=ur(zl,t.__scopeMenu),o=Gu(zl,t.__scopeMenu),r=kD(zl,t.__scopeMenu),a=m_(zl,t.__scopeMenu),u=w.useRef(null),{pointerGraceTimerRef:c,onPointerGraceIntentChange:p}=a,d={__scopeMenu:t.__scopeMenu},m=w.useCallback(()=>{u.current&&window.clearTimeout(u.current),u.current=null},[]);return w.useEffect(()=>m,[m]),w.useEffect(()=>{const y=c.current;return()=>{window.clearTimeout(y),p(null)}},[c,p]),A.jsx(p_,{asChild:!0,...d,children:A.jsx(xD,{id:r.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":r.contentId,"data-state":FD(n.open),...t,ref:_p(e,r.onTriggerChange),onClick:y=>{t.onClick?.(y),!(t.disabled||y.defaultPrevented)&&(y.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:Be(t.onPointerMove,fu(y=>{a.onItemEnter(y),!y.defaultPrevented&&!t.disabled&&!n.open&&!u.current&&(a.onPointerGraceIntentChange(null),u.current=window.setTimeout(()=>{n.onOpenChange(!0),m()},100))})),onPointerLeave:Be(t.onPointerLeave,fu(y=>{m();const S=n.content?.getBoundingClientRect();if(S){const E=n.content?.dataset.side,T=E==="right",C=T?-5:5,x=S[T?"left":"right"],M=S[T?"right":"left"];a.onPointerGraceIntentChange({area:[{x:y.clientX+C,y:y.clientY},{x,y:S.top},{x:M,y:S.top},{x:M,y:S.bottom},{x,y:S.bottom}],side:E}),window.clearTimeout(c.current),c.current=window.setTimeout(()=>a.onPointerGraceIntentChange(null),300)}else{if(a.onTriggerLeave(y),y.defaultPrevented)return;a.onPointerGraceIntentChange(null)}})),onKeyDown:Be(t.onKeyDown,y=>{const S=a.searchRef.current!=="";t.disabled||S&&y.key===" "||cJ[o.dir].includes(y.key)&&(n.onOpenChange(!0),n.content?.focus(),y.preventDefault())})})})});HD.displayName=zl;var GD="MenuSubContent",$D=w.forwardRef((t,e)=>{const n=wD(Gn,t.__scopeMenu),{forceMount:o=n.forceMount,...r}=t,a=ur(Gn,t.__scopeMenu),u=Gu(Gn,t.__scopeMenu),c=kD(GD,t.__scopeMenu),p=w.useRef(null),d=tn(e,p);return A.jsx(cu.Provider,{scope:t.__scopeMenu,children:A.jsx(Uu,{present:o||a.open,children:A.jsx(cu.Slot,{scope:t.__scopeMenu,children:A.jsx(g_,{id:c.contentId,"aria-labelledby":c.triggerId,...r,ref:d,align:"start",side:u.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:m=>{u.isUsingKeyboardRef.current&&p.current?.focus(),m.preventDefault()},onCloseAutoFocus:m=>m.preventDefault(),onFocusOutside:Be(t.onFocusOutside,m=>{m.target!==c.trigger&&a.onOpenChange(!1)}),onEscapeKeyDown:Be(t.onEscapeKeyDown,m=>{u.onClose(),m.preventDefault()}),onKeyDown:Be(t.onKeyDown,m=>{const y=m.currentTarget.contains(m.target),S=fJ[u.dir].includes(m.key);y&&S&&(a.onOpenChange(!1),c.trigger?.focus(),m.preventDefault())})})})})})});$D.displayName=GD;function FD(t){return t?"open":"closed"}function Bd(t){return t==="indeterminate"}function S_(t){return Bd(t)?"indeterminate":t?"checked":"unchecked"}function NJ(t){const e=document.activeElement;for(const n of t)if(n===e||(n.focus(),document.activeElement!==e))return}function IJ(t,e){return t.map((n,o)=>t[(e+o)%t.length])}function DJ(t,e,n){const r=e.length>1&&Array.from(e).every(d=>d===e[0])?e[0]:e,a=n?t.indexOf(n):-1;let u=IJ(t,Math.max(a,0));r.length===1&&(u=u.filter(d=>d!==n));const p=u.find(d=>d.toLowerCase().startsWith(r.toLowerCase()));return p!==n?p:void 0}function OJ(t,e){const{x:n,y:o}=t;let r=!1;for(let a=0,u=e.length-1;a<e.length;u=a++){const c=e[a],p=e[u],d=c.x,m=c.y,y=p.x,S=p.y;m>o!=S>o&&n<(y-d)*(o-m)/(S-m)+d&&(r=!r)}return r}function PJ(t,e){if(!e)return!1;const n={x:t.clientX,y:t.clientY};return OJ(n,e)}function fu(t){return e=>e.pointerType==="mouse"?t(e):void 0}var LJ=bD,UJ=p_,kJ=TD,BJ=CD,HJ=v_,GJ=AD,$J=Cp,FJ=RD,VJ=ND,zJ=DD,qJ=PD,JJ=LD,KJ=UD,YJ=BD,XJ=HD,WJ=$D,Ap="DropdownMenu",[jJ]=Pu(Ap,[_D]),kt=_D(),[QJ,VD]=jJ(Ap),zD=t=>{const{__scopeDropdownMenu:e,children:n,dir:o,open:r,defaultOpen:a,onOpenChange:u,modal:c=!0}=t,p=kt(e),d=w.useRef(null),[m,y]=i_({prop:r,defaultProp:a??!1,onChange:u,caller:Ap});return A.jsx(QJ,{scope:e,triggerId:au(),triggerRef:d,contentId:au(),open:m,onOpenChange:y,onOpenToggle:w.useCallback(()=>y(S=>!S),[y]),modal:c,children:A.jsx(LJ,{...p,open:m,onOpenChange:y,dir:o,modal:c,children:n})})};zD.displayName=Ap;var qD="DropdownMenuTrigger",JD=w.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,disabled:o=!1,...r}=t,a=VD(qD,n),u=kt(n);return A.jsx(UJ,{asChild:!0,...u,children:A.jsx(Ft.button,{type:"button",id:a.triggerId,"aria-haspopup":"menu","aria-expanded":a.open,"aria-controls":a.open?a.contentId:void 0,"data-state":a.open?"open":"closed","data-disabled":o?"":void 0,disabled:o,...r,ref:_p(e,a.triggerRef),onPointerDown:Be(t.onPointerDown,c=>{!o&&c.button===0&&c.ctrlKey===!1&&(a.onOpenToggle(),a.open||c.preventDefault())}),onKeyDown:Be(t.onKeyDown,c=>{o||(["Enter"," "].includes(c.key)&&a.onOpenToggle(),c.key==="ArrowDown"&&a.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(c.key)&&c.preventDefault())})})})});JD.displayName=qD;var ZJ="DropdownMenuPortal",KD=t=>{const{__scopeDropdownMenu:e,...n}=t,o=kt(e);return A.jsx(kJ,{...o,...n})};KD.displayName=ZJ;var YD="DropdownMenuContent",XD=w.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...o}=t,r=VD(YD,n),a=kt(n),u=w.useRef(!1);return A.jsx(BJ,{id:r.contentId,"aria-labelledby":r.triggerId,...a,...o,ref:e,onCloseAutoFocus:Be(t.onCloseAutoFocus,c=>{u.current||r.triggerRef.current?.focus(),u.current=!1,c.preventDefault()}),onInteractOutside:Be(t.onInteractOutside,c=>{const p=c.detail.originalEvent,d=p.button===0&&p.ctrlKey===!0,m=p.button===2||d;(!r.modal||m)&&(u.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});XD.displayName=YD;var eK="DropdownMenuGroup",tK=w.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...o}=t,r=kt(n);return A.jsx(HJ,{...r,...o,ref:e})});tK.displayName=eK;var nK="DropdownMenuLabel",oK=w.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...o}=t,r=kt(n);return A.jsx(GJ,{...r,...o,ref:e})});oK.displayName=nK;var iK="DropdownMenuItem",rK=w.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...o}=t,r=kt(n);return A.jsx($J,{...r,...o,ref:e})});rK.displayName=iK;var sK="DropdownMenuCheckboxItem",aK=w.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...o}=t,r=kt(n);return A.jsx(FJ,{...r,...o,ref:e})});aK.displayName=sK;var lK="DropdownMenuRadioGroup",uK=w.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...o}=t,r=kt(n);return A.jsx(VJ,{...r,...o,ref:e})});uK.displayName=lK;var cK="DropdownMenuRadioItem",fK=w.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...o}=t,r=kt(n);return A.jsx(zJ,{...r,...o,ref:e})});fK.displayName=cK;var dK="DropdownMenuItemIndicator",pK=w.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...o}=t,r=kt(n);return A.jsx(qJ,{...r,...o,ref:e})});pK.displayName=dK;var hK="DropdownMenuSeparator",mK=w.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...o}=t,r=kt(n);return A.jsx(JJ,{...r,...o,ref:e})});mK.displayName=hK;var gK="DropdownMenuArrow",vK=w.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...o}=t,r=kt(n);return A.jsx(KJ,{...r,...o,ref:e})});vK.displayName=gK;var yK=t=>{const{__scopeDropdownMenu:e,children:n,open:o,onOpenChange:r,defaultOpen:a}=t,u=kt(e),[c,p]=i_({prop:o,defaultProp:a??!1,onChange:r,caller:"DropdownMenuSub"});return A.jsx(YJ,{...u,open:c,onOpenChange:p,children:n})},_K="DropdownMenuSubTrigger",WD=w.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...o}=t,r=kt(n);return A.jsx(XJ,{...r,...o,ref:e})});WD.displayName=_K;var SK="DropdownMenuSubContent",jD=w.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...o}=t,r=kt(n);return A.jsx(WJ,{...r,...o,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});jD.displayName=SK;var EK=zD,bK=JD,wK=KD,TK=XD,SA=yK,EA=WD,bA=jD;const CK=Ut(({scene:t})=>{if(!t.sceneJson||!t.sceneJson.data)return null;const e=t.sceneJson.data.tags,n=t.project?.artbook,o=a=>{t.addTag(a)};if(!n)return null;const r=a=>A.jsxs(EK,{children:[A.jsx(bK,{className:"dropdown-trigger",children:"Add Tag"}),A.jsx(wK,{children:A.jsx(TK,{className:"dropdown-content",align:"start",children:Object.entries(a).map(([u,c])=>A.jsxs(SA,{children:[A.jsx(EA,{className:"submenu-trigger",children:u}),A.jsx(bA,{className:"dropdown-content",children:Object.entries(c).map(([p,d])=>A.jsxs(SA,{children:[A.jsx(EA,{className:"submenu-trigger",children:p}),A.jsx(bA,{className:"dropdown-content",children:d.map(m=>A.jsx(l6,{art:m,onClick:()=>o(m.path)},m.path))})]},p))})]},u))})})]});return A.jsx(yp,{label:"Tags",headerExtra:A.jsxs("div",{className:"d-flex align-items-center gap-2",children:[r(n.data),A.jsx(o_,{onClick:()=>{t.generateTags()},className:"btn-outline-success",label:"Generate Tags",is_loading:t.is_generating_tags}),A.jsx(Pt,{onClick:()=>t.project?.artbook?.log(),label:"Log"})]}),children:e.length?A.jsx("ul",{className:"list-group list-group-flush",children:e.map((a,u)=>{const c=n.getTag(a);return c?A.jsx("li",{className:"list-group-item",children:A.jsx(a6,{art:c,scene:t})},u):null})}):A.jsx("div",{children:"No tags yet."})})}),od=({value:t,options:e,onChange:n,label:o,className:r=""})=>A.jsxs("div",{className:"btn-group",role:"group",children:[o&&A.jsx("span",{className:"btn btn-sm btn-outline-secondary disabled",children:o}),A.jsx("div",{className:`btn btn-sm btn-outline-secondary p-0 ${r}`,children:A.jsx("select",{className:"form-select form-select-sm border-0 rounded-0",value:t,onChange:a=>n?.(a.target.value),children:e.map(a=>A.jsx("option",{value:a,children:a},a))})})]}),Yv=({isLoading:t,className:e="",asButton:n=!1})=>{const o=A.jsx("span",{className:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true",style:{animation:t?void 0:"none",borderColor:t?void 0:"#6c757d"}});return n?A.jsx("button",{type:"button",className:`btn btn-sm btn-outline-secondary disabled d-flex align-items-center justify-content-center ${e}`,tabIndex:-1,style:{pointerEvents:"none"},children:o}):A.jsx("span",{className:e,children:o})},AK=({buttons:t,content:e,className:n=""})=>{const[o,r]=w.useState(!1);return A.jsxs("div",{className:`w-100 ${n}`,style:{display:"inline-block"},children:[A.jsxs("div",{className:"btn-group",role:"group",children:[t,A.jsx("button",{className:"btn btn-sm btn-outline-secondary",onClick:()=>r(a=>!a),"aria-label":"Toggle settings",type:"button",style:{borderBottomRightRadius:o?0:void 0},children:""})]}),o&&A.jsx("div",{className:"w-100 border p-2",style:{borderTopLeftRadius:0,borderTopRightRadius:5,borderBottomLeftRadius:5,borderBottomRightRadius:5,backgroundColor:"#383838ff",marginTop:0},children:e})]})},xK=Ut(({scene:t})=>{if(!t.sceneJson)return A.jsx("div",{children:"No scene data available."});const e=async()=>{window.confirm(`Are you sure you want to delete scene "${t.folder.name}"?`)&&await t.delete()},n=async()=>{t.createShotsFromShotsJson()};return A.jsxs("div",{children:[A.jsxs("div",{style:{marginBottom:"10px"},children:[A.jsx(Pt,{onClick:e,label:"Delete Scene",className:"btn-outline-danger"}),A.jsx(Pt,{onClick:()=>t.log(),label:"LOG"})]}),A.jsx(AK,{className:"mb-2",buttons:A.jsxs(A.Fragment,{children:[A.jsx("button",{className:"btn btn-sm btn-outline-success",onClick:async()=>{const o=await t.generateShotsJson();t.sceneJson?.updateField("shotsjson",o)},children:" Split Into Shots "}),A.jsx(od,{value:t.project.workflows.split_scene_into_shots.model,options:bI,onChange:o=>{t.project.updateWorkflow("split_scene_into_shots","model",o)}}),A.jsx(Yv,{isLoading:t.is_generating_shotsjson,asButton:!0})]}),content:A.jsxs(A.Fragment,{children:[A.jsx(Zn,{localJson:t.sceneJson,field:"split_prompt",fitHeight:!0}),A.jsx(Zn,{localJson:t.project.projinfo,field:"workflows/split_scene_into_shots/system_message",fitHeight:!0}),A.jsx(Zn,{localJson:t.project.projinfo,field:"workflows/split_scene_into_shots/prompt",fitHeight:!0})]})}),A.jsx(Zn,{localJson:t.sceneJson,field:"script",fitHeight:!0}),A.jsx(Zn,{localJson:t.sceneJson,field:"shotsjson",fitHeight:!0,headerExtra:A.jsx(Pt,{onClick:n,label:"Create Shots"})}),A.jsx(CK,{scene:t}),A.jsx("div",{style:{height:"500px"}})]})}),QD=({label:t,value:e,onToggle:n,useIndicator:o=!1})=>o?A.jsx("div",{onClick:()=>n(!e),style:{width:"16px",height:"16px",borderRadius:"50%",backgroundColor:e?"green":"transparent",border:"2px solid green",cursor:"pointer"}}):A.jsx("button",{className:`btn btn-sm ${e?"btn-success":"btn-outline-secondary"}`,onClick:()=>n(!e),children:t}),Bg="https://cdn.pixabay.com/photo/2021/05/09/06/07/dog-6240043_1280.jpg",RK=Ut(({shot:t,isSelected:e,onClick:n})=>{const[o,r]=w.useState(Bg);return w.useEffect(()=>{let a=!1;return(async()=>{if(t.srcImage)try{const c=await t.srcImage.getUrlObject();!a&&c&&r(c)}catch(c){console.error("Failed to load srcImage URL:",c),a||r(Bg)}else r(Bg)})(),()=>{a=!0}},[t.srcImage]),A.jsxs("div",{className:"flex-shrink-0 border rounded position-relative d-flex align-items-center justify-content-center",style:{height:"100%",cursor:"pointer",borderWidth:e?2:1,borderColor:e?"#0d6efd":"#dee2e6"},onClick:()=>n(t),children:[A.jsx("img",{src:o,alt:t.folder.name,className:"img-fluid",style:{height:"100%",width:"auto",objectFit:"contain",display:"block"}}),A.jsx("div",{className:"position-absolute text-white px-1",style:{bottom:0,left:0,backgroundColor:"rgba(0,0,0,0.5)",fontSize:"0.75rem",borderTopRightRadius:"4px"},children:t.folder.name}),A.jsx("div",{className:"position-absolute",style:{top:2,right:2},onClick:a=>a.stopPropagation(),children:A.jsx(QD,{label:"Finished",value:!!t.shotJson?.data?.finished,useIndicator:!0,onToggle:a=>{t.shotJson&&t.shotJson.updateField("finished",a)}})})]})}),MK=({initialHeight:t=80,minHeight:e=30,children:n})=>{const[o,r]=w.useState(t),a=w.useRef(null),u=w.useRef(!1),c=y=>{u.current=!0,y.preventDefault()},p=y=>{if(!u.current||!a.current)return;const S=a.current.getBoundingClientRect(),E=y.clientY-S.top;E>e&&r(E)},d=()=>{u.current=!1};w.useEffect(()=>(window.addEventListener("mousemove",p),window.addEventListener("mouseup",d),()=>{window.removeEventListener("mousemove",p),window.removeEventListener("mouseup",d)}),[]);const m=6;return A.jsxs("div",{ref:a,className:"position-relative",style:{height:`${o}px`},children:[A.jsx("div",{style:{height:"100%",paddingBottom:`${m}px`,boxSizing:"border-box"},children:n}),A.jsx("div",{style:{position:"absolute",bottom:0,left:0,right:0,height:`${m}px`,cursor:"ns-resize",zIndex:10,backgroundColor:"#0d6efd",opacity:.5},onMouseDown:c})]})},NK=({label:t="Media Gallery",children:e,defaultCollapsed:n=!1,className:o="",headerExtra:r})=>A.jsx(yp,{label:t,defaultCollapsed:n,className:o,headerExtra:r,children:A.jsx("div",{className:"d-flex flex-wrap gap-2",children:e})}),IK=({localImage:t,height:e=150,topRightExtra:n,onClick:o})=>{const[r,a]=w.useState(null),[u,c]=w.useState(!1);return w.useEffect(()=>{let p=!0;return(async()=>{try{const m=await t.getUrlObject();p&&m&&a(m)}catch(m){console.error("Error loading LocalImage",m)}})(),()=>{p=!1}},[t]),r?A.jsxs("div",{className:"position-relative d-inline-block border rounded",style:{height:`${e}px`,cursor:"pointer"},onMouseEnter:()=>c(!0),onMouseLeave:()=>c(!1),children:[A.jsx("img",{src:r,alt:"Media",className:"img-fluid",onClick:o,style:{height:`${e}px`,width:"auto",objectFit:"contain",display:"block"}}),n&&u&&A.jsx("div",{className:"position-absolute",style:{top:"5px",right:"5px",zIndex:10,display:"flex",gap:"5px"},children:n})]}):A.jsx("div",{className:"d-flex align-items-center justify-content-center border rounded p-2",style:{height:`${e}px`,width:"auto"},children:"Loading..."})};function it(t,e="Assertion error"){if(!t)throw Error(e)}function Xv(t,e){return e.sort(t==="horizontal"?DK:OK)}function DK(t,e){const n=t.element.offsetLeft-e.element.offsetLeft;return n!==0?n:t.element.offsetWidth-e.element.offsetWidth}function OK(t,e){const n=t.element.offsetTop-e.element.offsetTop;return n!==0?n:t.element.offsetHeight-e.element.offsetHeight}function xp({group:t}){const{orientation:e,panels:n}=t;return n.reduce((o,r)=>(o+=e==="horizontal"?r.element.offsetWidth:r.element.offsetHeight,o),0)}function ZD(t){const{element:e,orientation:n,panels:o,separators:r}=t,a=Xv(n,Array.from(e.children).filter(d=>d instanceof HTMLElement).map(d=>({element:d}))).map(({element:d})=>d),u=[];let c,p;for(const d of a){const m=o.find(y=>y.element===d);if(m){if(c){const y=c.element.getBoundingClientRect(),S=d.getBoundingClientRect();u.push({group:t,groupSize:xp({group:t}),panels:[c,m],separator:p,rect:n==="horizontal"?new DOMRect(y.right,S.top,S.left-y.right,S.height):new DOMRect(S.left,y.bottom,S.width,S.top-y.bottom)})}c=m,p=void 0}else{const y=r.find(S=>S.element===d);y?p=y:(c=void 0,p=void 0)}}return u}function PK(t,e){const n=getComputedStyle(t),o=parseFloat(n.fontSize);return e*o}function LK(t,e){const n=getComputedStyle(t.ownerDocument.body),o=parseFloat(n.fontSize);return e*o}function UK(t){return t/100*window.innerHeight}function kK(t){return t/100*window.innerWidth}function BK(t){switch(typeof t){case"number":return[t,"px"];case"string":{const e=parseFloat(t);return t.endsWith("%")?[e,"%"]:t.endsWith("px")?[e,"px"]:t.endsWith("rem")?[e,"rem"]:t.endsWith("em")?[e,"em"]:t.endsWith("vh")?[e,"vh"]:t.endsWith("vw")?[e,"vw"]:[e,"%"]}}}function kf({groupSize:t,panelElement:e,styleProp:n}){let o;const[r,a]=BK(n);switch(a){case"%":{o=r/100*t;break}case"px":{o=r;break}case"rem":{o=LK(e,r);break}case"em":{o=PK(e,r);break}case"vh":{o=UK(r);break}case"vw":{o=kK(r);break}}return o}function eo(t){return parseFloat(t.toFixed(3))}function wA(t){const{panels:e}=t,n=xp({group:t});return e.map(o=>{const{element:r,panelConstraints:a}=o;let u=0;if(a.collapsedSize){const m=kf({groupSize:n,panelElement:r,styleProp:a.collapsedSize});u=eo(m/n*100)}let c;if(a.defaultSize){const m=kf({groupSize:n,panelElement:r,styleProp:a.defaultSize});c=eo(m/n*100)}let p=0;if(a.minSize){const m=kf({groupSize:n,panelElement:r,styleProp:a.minSize});p=eo(m/n*100)}let d=100;if(a.maxSize){const m=kf({groupSize:n,panelElement:r,styleProp:a.maxSize});d=eo(m/n*100)}return{collapsedSize:u,collapsible:a.collapsible===!0,defaultSize:c,minSize:p,maxSize:d,panelId:o.id}})}class HK{#e={};addListener(e,n){const o=this.#e[e];return o===void 0?this.#e[e]=[n]:o.includes(n)||o.push(n),()=>{this.removeListener(e,n)}}emit(e,n){const o=this.#e[e];if(o!==void 0)if(o.length===1)o[0].call(null,n);else{let r=!1,a=null;const u=Array.from(o);for(let c=0;c<u.length;c++){const p=u[c];try{p.call(null,n)}catch(d){a===null&&(r=!0,a=d)}}if(r)throw a}}removeAllListeners(){this.#e={}}removeListener(e,n){const o=this.#e[e];if(o!==void 0){const r=o.indexOf(n);r>=0&&o.splice(r,1)}}}function $t(t,e,n=0){return Math.abs(eo(t)-eo(e))<=n}let On={cursorFlags:0,interactionState:{state:"inactive"},mountedGroups:new Map};const Br=new HK;function Oo(){return On}function $n(t){const e=typeof t=="function"?t(On):t;if(On===e)return On;const n=On;return On={...On,...e},e.cursorFlags!==void 0&&Br.emit("cursorFlagsChange",On.cursorFlags),e.interactionState!==void 0&&Br.emit("interactionStateChange",On.interactionState),e.mountedGroups!==void 0&&(On.mountedGroups.forEach((o,r)=>{o.derivedPanelConstraints.forEach(a=>{if(a.collapsible){const{layout:u}=n.mountedGroups.get(r)??{};if(u){const c=$t(a.collapsedSize,o.layout[a.panelId]),p=$t(a.collapsedSize,u[a.panelId]);c&&!p&&(r.inMemoryLastExpandedPanelSizes[a.panelId]=u[a.panelId])}}})}),Br.emit("mountedGroupsChange",On.mountedGroups)),On}const GK=t=>t,Hg=()=>{},eO=1,tO=2,nO=4,oO=8,TA={coarse:10,precise:5};function $K({cursorFlags:t,groups:e,state:n}){let o=0,r=0;switch(n){case"active":case"hover":e.forEach(a=>{if(!a.disableCursor)switch(a.orientation){case"horizontal":{o++;break}case"vertical":{r++;break}}})}if(o===0&&r===0)return null;switch(n){case"active":{const a=(t&eO)!==0,u=(t&tO)!==0,c=(t&nO)!==0,p=(t&oO)!==0;if(t){if(a)return c?"se-resize":p?"ne-resize":"e-resize";if(u)return c?"sw-resize":p?"nw-resize":"w-resize";if(c)return"s-resize";if(p)return"n-resize"}break}}return o>0&&r>0?"move":o>0?"ew-resize":"ns-resize"}let Gg,yo;function E_(){yo===void 0&&(yo=new CSSStyleSheet,document.adoptedStyleSheets=[yo]);const{cursorFlags:t,interactionState:e}=Oo();switch(e.state){case"active":case"hover":{const n=$K({cursorFlags:t,groups:e.hitRegions.map(r=>r.group),state:e.state}),o=`*{cursor: ${n} !important; ${e.state==="active"?"touch-action: none;":""} }`;if(Gg===o)return;Gg=o,n?yo.cssRules.length===0?yo.insertRule(o):yo.replaceSync(o):yo.cssRules.length===1&&yo.deleteRule(0);break}case"inactive":{Gg=void 0,yo.cssRules.length===1&&yo.deleteRule(0);break}}}function FK(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!=e[n])return!1;return!0}function du(t,e){return $t(t,e)?0:t>e?1:-1}function ra({panelConstraints:t,size:e}){const{collapsedSize:n=0,collapsible:o,maxSize:r=100,minSize:a=0}=t;if(du(e,a)<0)if(o){const u=(n+a)/2;du(e,u)<0?e=n:e=a}else e=a;return e=Math.min(r,e),e=eo(e),e}function pu({delta:t,initialLayout:e,panelConstraints:n,pivotIndices:o,prevLayout:r,trigger:a}){if($t(t,0))return e;const u=Object.values(e),c=Object.values(r),p=[...u],[d,m]=o;it(d!=null,"Invalid first pivot index"),it(m!=null,"Invalid second pivot index");let y=0;if(a==="keyboard"){{const T=t<0?m:d,C=n[T];it(C,`Panel constraints not found for index ${T}`);const{collapsedSize:x=0,collapsible:M,minSize:I=0}=C;if(M){const N=u[T];if(it(N!=null,`Previous layout not found for panel index ${T}`),$t(N,x)){const D=I-N;du(D,Math.abs(t))>0&&(t=t<0?0-D:D)}}}{const T=t<0?d:m,C=n[T];it(C,`No panel constraints found for index ${T}`);const{collapsedSize:x=0,collapsible:M,minSize:I=0}=C;if(M){const N=u[T];if(it(N!=null,`Previous layout not found for panel index ${T}`),$t(N,I)){const D=N-x;du(D,Math.abs(t))>0&&(t=t<0?0-D:D)}}}}{const T=t<0?1:-1;let C=t<0?m:d,x=0;for(;;){const I=u[C];it(I!=null,`Previous layout not found for panel index ${C}`);const N=ra({panelConstraints:n[C],size:100})-I;if(x+=N,C+=T,C<0||C>=n.length)break}const M=Math.min(Math.abs(t),Math.abs(x));t=t<0?0-M:M}{let T=t<0?d:m;for(;T>=0&&T<n.length;){const C=Math.abs(t)-Math.abs(y),x=u[T];it(x!=null,`Previous layout not found for panel index ${T}`);const M=x-C,I=ra({panelConstraints:n[T],size:M});if(!$t(x,I)&&(y+=x-I,p[T]=I,y.toFixed(3).localeCompare(Math.abs(t).toFixed(3),void 0,{numeric:!0})>=0))break;t<0?T--:T++}}if(FK(c,p))return r;{const T=t<0?m:d,C=u[T];it(C!=null,`Previous layout not found for panel index ${T}`);const x=C+y,M=ra({panelConstraints:n[T],size:x});if(p[T]=M,!$t(M,x)){let I=x-M,N=t<0?m:d;for(;N>=0&&N<n.length;){const D=p[N];it(D!=null,`Previous layout not found for panel index ${N}`);const U=D+I,k=ra({panelConstraints:n[N],size:U});if($t(D,k)||(I-=k-D,p[N]=k),$t(I,0))break;t>0?N--:N++}}}const S=Object.values(p).reduce((T,C)=>C+T,0);if(!$t(S,100,.1))return r;const E=Object.keys(r);return p.reduce((T,C,x)=>(T[E[x]]=C,T),{})}function $u(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(du(t[n],e[n])!==0)return!1;return!0}function iO({event:t,hitRegions:e,initialLayoutMap:n,mountedGroups:o,pointerDownAtPoint:r}){let a=0;const u=new Map(o);e.forEach(c=>{const{group:p,groupSize:d}=c,{disableCursor:m,orientation:y,panels:S}=p;let E=0;r?y==="horizontal"?E=(t.clientX-r.x)/d*100:E=(t.clientY-r.y)/d*100:y==="horizontal"?E=t.clientX<0?-100:100:E=t.clientY<0?-100:100;const T=n.get(p),{derivedPanelConstraints:C,layout:x,separatorToPanels:M}=o.get(p)??{};if(C&&T&&x&&M){const I=pu({delta:E,initialLayout:T,panelConstraints:C,pivotIndices:c.panels.map(N=>S.indexOf(N)),prevLayout:x,trigger:"mouse-or-touch"});if($u(I,x)){if(E!==0&&!m)switch(y){case"horizontal":{a|=E<0?eO:tO;break}case"vertical":{a|=E<0?nO:oO;break}}}else{u.set(c.group,{derivedPanelConstraints:C,layout:I,separatorToPanels:M});const N=c.group.panels.map(({id:D})=>D).join(",");c.group.inMemoryLayouts[N]=I}}}),$n({cursorFlags:a,mountedGroups:u}),E_()}function CA(t){if(t.defaultPrevented||t.relatedTarget!==null||t.clientX===0&&t.clientY===0)return;const{interactionState:e,mountedGroups:n}=Oo();switch(e.state){case"active":e.hitRegions.forEach(o=>{t.currentTarget===o.group.element&&iO({event:t,hitRegions:e.hitRegions,initialLayoutMap:e.initialLayoutMap,mountedGroups:n})})}}function id(t){const e=t.parentElement;it(e,"Parent group element not found");const{mountedGroups:n}=Oo();for(const[o]of n)if(o.element===e)return o;throw Error("Could not find parent Group for separator element")}function Xr({layout:t,panelConstraints:e}){const n=[...Object.values(t)],o=n.reduce((u,c)=>u+c,0);if(n.length!==e.length)throw Error(`Invalid ${e.length} panel layout: ${n.map(u=>`${u}%`).join(", ")}`);if(!$t(o,100)&&n.length>0)for(let u=0;u<e.length;u++){const c=n[u];it(c!=null,`No layout data found for index ${u}`);const p=100/o*c;n[u]=p}let r=0;for(let u=0;u<e.length;u++){const c=n[u];it(c!=null,`No layout data found for index ${u}`);const p=ra({panelConstraints:e[u],size:c});c!=p&&(r+=c-p,n[u]=p)}if(!$t(r,0))for(let u=0;u<e.length;u++){const c=n[u];it(c!=null,`No layout data found for index ${u}`);const p=c+r,d=ra({panelConstraints:e[u],size:p});if(c!==d&&(r-=d-c,n[u]=d,$t(r,0)))break}const a=Object.keys(t);return n.reduce((u,c,p)=>(u[a[p]]=c,u),{})}function rO({groupId:t}){const e=()=>{const{mountedGroups:n}=Oo();for(const[o,r]of n)if(o.id===t)return{group:o,...r};throw Error(`Group ${t} not found`)};return{getLayout(){const{layout:n}=e();return n},setLayout(n){const{derivedPanelConstraints:o,group:r,layout:a,separatorToPanels:u}=e(),c=Xr({layout:n,panelConstraints:o});return $u(a,c)||$n(p=>({mountedGroups:new Map(p.mountedGroups).set(r,{derivedPanelConstraints:o,layout:c,separatorToPanels:u})})),c}}}function sO(t){const{mountedGroups:e}=Oo(),n=e.get(t);return it(n,`Mounted Group ${t.id} not found`),n}function Mr(t,e){const n=id(t),o=sO(n),r=n.separators.find(m=>m.element===t);it(r,"Matching separator not found");const a=o.separatorToPanels.get(r);it(a,"Matching panels not found");const u=a.map(m=>n.panels.indexOf(m)),c=rO({groupId:n.id}).getLayout(),p=pu({delta:e,initialLayout:c,panelConstraints:o.derivedPanelConstraints,pivotIndices:u,prevLayout:c,trigger:"keyboard"}),d=Xr({layout:p,panelConstraints:o.derivedPanelConstraints});$u(c,d)||$n(m=>({mountedGroups:new Map(m.mountedGroups).set(n,{derivedPanelConstraints:o.derivedPanelConstraints,layout:d,separatorToPanels:o.separatorToPanels})}))}function AA(t){if(t.defaultPrevented)return;const e=t.currentTarget,n=id(e);if(!n.disabled)switch(t.key){case"ArrowDown":{t.preventDefault(),n.orientation==="vertical"&&Mr(e,5);break}case"ArrowLeft":{t.preventDefault(),n.orientation==="horizontal"&&Mr(e,-5);break}case"ArrowRight":{t.preventDefault(),n.orientation==="horizontal"&&Mr(e,5);break}case"ArrowUp":{t.preventDefault(),n.orientation==="vertical"&&Mr(e,-5);break}case"End":{t.preventDefault(),Mr(e,100);break}case"Enter":{t.preventDefault();const o=id(e),{derivedPanelConstraints:r,layout:a,separatorToPanels:u}=sO(o),c=o.separators.find(y=>y.element===e);it(c,"Matching separator not found");const p=u.get(c);it(p,"Matching panels not found");const d=p[0],m=r.find(y=>y.panelId===d.id);if(it(m,"Panel metadata not found"),m.collapsible){const y=a[d.id],S=m.collapsedSize===y?o.inMemoryLastExpandedPanelSizes[d.id]??m.minSize:m.collapsedSize;Mr(e,S-y)}break}case"F6":{t.preventDefault();const o=id(e).separators.map(u=>u.element),r=Array.from(o).findIndex(u=>u===t.currentTarget);it(r!==null,"Index not found");const a=t.shiftKey?r>0?r-1:o.length-1:r+1<o.length?r+1:0;o[a].focus();break}case"Home":{t.preventDefault(),Mr(e,-100);break}}}function VK(t,e){return{x:t.x>=e.left&&t.x<=e.right?0:Math.min(Math.abs(t.x-e.left),Math.abs(t.x-e.right)),y:t.y>=e.top&&t.y<=e.bottom?0:Math.min(Math.abs(t.y-e.top),Math.abs(t.y-e.bottom))}}function zK(t,e,n){let o,r={x:1/0,y:1/0};for(const a of e){const u=VK(n,a.rect);switch(t){case"horizontal":{u.x<=r.x&&(o=a,r=u);break}case"vertical":{u.y<=r.y&&(o=a,r=u);break}}}return o?{distance:r,hitRegion:o}:void 0}let Bf;function qK(){return Bf===void 0&&(typeof matchMedia=="function"?Bf=!!matchMedia("(pointer:coarse)").matches:Bf=!1),Bf}function aO(t,e){const n=[];return e.forEach((o,r)=>{if(r.disabled)return;const a=qK()?TA.coarse:TA.precise,u=ZD(r),c=zK(r.orientation,u,{x:t.clientX,y:t.clientY});c&&c.distance.x<=a&&c.distance.y<=a&&n.push(c.hitRegion)}),n}function xA(t){if(t.defaultPrevented)return;const{mountedGroups:e}=Oo(),n=aO(t,e),o=new Set,r=new Set,a=new Set,u=new Map;let c=!1;n.forEach(p=>{o.add(p.group),p.panels.forEach(m=>{r.add(m)}),p.separator&&(a.add(p.separator),c||(c=!0,p.separator.element.focus()));const d=e.get(p.group);d&&u.set(p.group,d.layout)}),$n({interactionState:{hitRegions:n,initialLayoutMap:u,pointerDownAtPoint:{x:t.clientX,y:t.clientY},state:"active"}}),n.length&&t.preventDefault()}function RA(t){if(t.defaultPrevented)return;const{interactionState:e,mountedGroups:n}=Oo();switch(e.state){case"active":{if(t.type!=="pointerleave"&&t.buttons===0){$n(o=>o.interactionState.state==="inactive"?o:{cursorFlags:0,interactionState:{state:"inactive"}});return}iO({event:t,hitRegions:e.hitRegions,initialLayoutMap:e.initialLayoutMap,mountedGroups:n,pointerDownAtPoint:e.pointerDownAtPoint});break}default:{const o=aO(t,n);o.length===0?e.state!=="inactive"&&$n({interactionState:{state:"inactive"}}):$n({interactionState:{hitRegions:o,state:"hover"}}),E_();break}}}function MA(t){if(t.defaultPrevented)return;t.preventDefault();const{interactionState:e}=Oo();switch(e.state){case"active":$n({cursorFlags:0,interactionState:{state:"inactive"}}),E_()}}function JK(t){let e=0,n=0;const o={};for(const a of t)if(a.defaultSize!==void 0){e++;const u=eo(a.defaultSize);n+=u,o[a.panelId]=u}else o[a.panelId]=void 0;const r=t.length-e;if(r!==0){const a=eo((100-n)/r);for(const u of t)u.defaultSize===void 0&&(o[u.panelId]=a)}return o}function KK(t,e,n){const o=n[0];if(!o)return;const r=t.panels.find(u=>u.element===e);if(!r||!r.onResize)return;const a=xp({group:t});r.onResize({asPercentage:eo(o.inlineSize/a*100),inPixels:o.inlineSize},r.id)}function YK(t){let e=!0;it(t.separators.length===0||t.separators.length<t.panels.length,"Invalid Group configuration; too many Separator components");const n=new Set,o=new Set,r=new ResizeObserver(y=>{for(const S of y){const{borderBoxSize:E,target:T}=S;T===t.element?e&&$n(C=>{const x=C.mountedGroups.get(t);if(x){const M=wA(t),I=x.layout,N=Xr({layout:I,panelConstraints:M});return{mountedGroups:new Map(C.mountedGroups).set(t,{derivedPanelConstraints:M,layout:N,separatorToPanels:x.separatorToPanels})}}return C}):KK(t,T,E)}});r.observe(t.element),t.panels.forEach(y=>{it(!n.has(y.id),`Panel ids must be unique; id "${y.id}" was used more than once`),n.add(y.id),y.onResize&&r.observe(y.element)});const a=wA(t),u=t.panels.map(({id:y})=>y).join(","),c=t.inMemoryLayouts[u]??t.defaultLayout??JK(a),p=Xr({layout:c,panelConstraints:a}),d=ZD(t),m=$n(y=>({mountedGroups:new Map(y.mountedGroups).set(t,{derivedPanelConstraints:a,layout:p,separatorToPanels:new Map(d.filter(S=>S.separator).map(S=>[S.separator,S.panels]))})}));return t.element.addEventListener("pointerleave",CA),t.separators.forEach(y=>{it(!o.has(y.id),`Separator ids must be unique; id "${y.id}" was used more than once`),o.add(y.id),y.element.addEventListener("keydown",AA)}),m.mountedGroups.size===1&&(window.addEventListener("pointerdown",xA),window.addEventListener("pointermove",RA),window.addEventListener("pointerup",MA)),function(){e=!1;const y=$n(S=>{const E=new Map(S.mountedGroups);return E.delete(t),{mountedGroups:E}});t.element.removeEventListener("pointerleave",CA),t.separators.forEach(S=>{S.element.removeEventListener("keydown",AA)}),y.mountedGroups.size===0&&(window.removeEventListener("pointerdown",xA),window.removeEventListener("pointermove",RA),window.removeEventListener("pointerup",MA)),r.disconnect()}}function b_(t){const e=w.useId();return`${t??e}`}const Na=typeof window<"u"?w.useLayoutEffect:w.useEffect;function w_(t){const e=w.useRef(t);return Na(()=>{e.current=t},[t]),w.useCallback(n=>e.current?.(n),[e])}function T_(...t){return w_(e=>{t.forEach(n=>{if(n)switch(typeof n){case"function":{n(e);break}case"object":{n.current=e;break}}})})}const lO="--react-resizable-panels--panel--pointer-events";function uO(t,e){const n=t.replace(/[^a-zA-Z0-9\-_]/g,""),o=e.replace(/[^a-zA-Z0-9\-_]/g,"");return`--react-resizable-panels--${n}--${o}`}const cO=w.createContext(null);function XK(t,e){const n=w.useRef({getLayout:()=>({}),setLayout:GK});w.useImperativeHandle(e,()=>n.current,[]),Na(()=>{Object.assign(n.current,rO({groupId:t}))})}function WK({children:t,className:e,defaultLayout:n,disableCursor:o,disabled:r,elementRef:a,groupRef:u,id:c,onLayoutChange:p,orientation:d="horizontal",style:m,...y}){const S=w.useRef({}),E=w_(ae=>{$u(S.current,ae)||(S.current=ae,p?.(ae))}),T=b_(c),[C,x]=w.useState(!1),[M,I]=w.useState(null),[N,D]=w.useState(n??{}),[U,k]=w.useState([]),[O,q]=w.useState([]),J=w.useRef({}),X=w.useRef({}),j=T_(I,a);XK(T,u);const re=w.useMemo(()=>({id:T,orientation:d,registerPanel:ae=>(k(de=>Xv(d,[...de,ae])),()=>{k(de=>de.filter(H=>H!==ae))}),registerSeparator:ae=>(q(de=>Xv(d,[...de,ae])),()=>{q(de=>de.filter(H=>H!==ae))})}),[T,d]);Na(()=>{if(M!==null&&U.length>0){const ae={defaultLayout:n,disableCursor:!!o,disabled:!!r,element:M,id:T,inMemoryLastExpandedPanelSizes:J.current,inMemoryLayouts:X.current,orientation:d,panels:U,separators:O},de=YK(ae),H=Oo().mountedGroups.get(ae);H&&(D(H.layout),E?.(H.layout));const Q=Br.addListener("interactionStateChange",ne=>{switch(ne.state){case"active":case"hover":{x(ne.hitRegions.some(ce=>ce.group===ae));break}}}),ee=Br.addListener("mountedGroupsChange",ne=>{const ce=ne.get(ae);ce&&ce.derivedPanelConstraints.length>0&&(D(ce.layout),E?.(ce.layout))});return()=>{de(),Q(),ee()}}},[n,o,r,M,T,E,d,U,O]);const oe={[lO]:C?"none":void 0};for(const ae in N){const de=uO(T,ae),H=N[ae];oe[de]=H}return A.jsx(cO.Provider,{value:re,children:A.jsx("div",{...y,"aria-orientation":d,className:e,"data-group":!0,"data-testid":T,id:T,ref:j,style:{...m,...oe,display:"flex",flexDirection:d==="horizontal"?"row":"column",flexWrap:"nowrap"},children:t})})}function C_(){const t=w.useContext(cO);return it(t,"Group Context not found; did you render a Panel or Separator outside of a Group?"),t}function jK({groupId:t,panelId:e}){const n=()=>{const{mountedGroups:c}=Oo();for(const[p,{derivedPanelConstraints:d,layout:m,separatorToPanels:y}]of c)if(p.id===t)return{derivedPanelConstraints:d,group:p,layout:m,separatorToPanels:y};throw Error(`Group ${t} not found`)},o=()=>{const c=n().derivedPanelConstraints.find(p=>p.panelId===e);if(c!==void 0)return c;throw Error(`Panel constraints not found for Panel ${e}`)},r=()=>{const c=n().group.panels.find(p=>p.id===e);if(c!==void 0)return c;throw Error(`Layout not found for Panel ${e}`)},a=()=>{const c=n().layout[e];if(c!==void 0)return c;throw Error(`Layout not found for Panel ${e}`)},u=c=>{const p=a();if(c===p)return;const{derivedPanelConstraints:d,group:m,layout:y,separatorToPanels:S}=n(),E=m.panels.findIndex(M=>M.id===e),T=E===m.panels.length-1,C=pu({delta:T?p-c:c-p,initialLayout:y,panelConstraints:d,pivotIndices:T?[E-1,E]:[E,E+1],prevLayout:y,trigger:"imperative-api"}),x=Xr({layout:C,panelConstraints:d});$u(y,x)||$n(M=>({mountedGroups:new Map(M.mountedGroups).set(m,{derivedPanelConstraints:d,layout:x,separatorToPanels:S})}))};return{collapse:()=>{const{collapsible:c,collapsedSize:p}=o(),d=a();c&&d!==p&&u(p)},expand:()=>{const{collapsible:c,collapsedSize:p,minSize:d}=o(),m=a();c&&m===p&&u(d)},getSize:()=>{const{group:c}=n(),p=a(),{element:d}=r(),m=c.orientation==="horizontal"?d.offsetWidth:d.offsetHeight;return{asPercentage:p,inPixels:m}},isCollapsed:()=>{const{collapsible:c,collapsedSize:p}=o(),d=a();return c&&$t(p,d)},resize:c=>{if(a()!==c){let p;switch(typeof c){case"number":{const{group:d}=n(),m=xp({group:d});p=eo(c/m*100);break}case"string":{p=parseFloat(c);break}}u(p)}}}}function QK(t,e){const{id:n}=C_(),o=w.useRef({collapse:Hg,expand:Hg,getSize:()=>({asPercentage:0,inPixels:0}),isCollapsed:()=>!1,resize:Hg});w.useImperativeHandle(e,()=>o.current,[]),Na(()=>{Object.assign(o.current,jK({groupId:n,panelId:t}))})}function NA({children:t,className:e,collapsedSize:n="0%",collapsible:o=!1,defaultSize:r,elementRef:a,id:u,maxSize:c="100%",minSize:p="0%",onResize:d,panelRef:m,style:y,...S}){const E=!!u,T=b_(u),[C,x]=w.useState(null),M=T_(x,a),{id:I,registerPanel:N}=C_(),D=d!==null,U=w_(O=>{d?.(O,u)});Na(()=>{if(C!==null)return N({element:C,id:T,idIsStable:E,onResize:D?U:void 0,panelConstraints:{collapsedSize:n,collapsible:o,defaultSize:r,maxSize:c,minSize:p}})},[n,o,r,C,D,T,E,c,p,U,N]),QK(T,m);const k=uO(I,T);return A.jsx("div",{...S,"data-panel":!0,"data-testid":T,id:T,ref:M,style:{...ZK,flexBasis:0,flexGrow:`var(${k}, 1)`,flexShrink:1,overflow:"hidden",pointerEvents:`var(${lO})`},children:A.jsx("div",{className:e,style:{width:"100%",height:"100%",...y},children:t})})}const ZK={minHeight:"unset",maxHeight:"unset",height:"unset",minWidth:"unset",maxWidth:"unset",width:"unset",flex:"unset",flexBasis:"unset",flexShrink:"unset",flexGrow:"unset",border:"unset",borderWidth:"unset",padding:"unset",margin:"unset"};function eY({layout:t,panelConstraints:e,panelId:n,panelIndex:o}){let r,a;const u=t[n],c=e.find(p=>p.panelId===n);if(c){const p=c.maxSize,d=a=c.collapsible?c.collapsedSize:c.minSize,m=[o,o+1];a=Xr({layout:pu({delta:d-u,initialLayout:t,panelConstraints:e,pivotIndices:m,prevLayout:t,trigger:"keyboard"}),panelConstraints:e})[n],r=Xr({layout:pu({delta:p-u,initialLayout:t,panelConstraints:e,pivotIndices:m,prevLayout:t,trigger:"keyboard"}),panelConstraints:e})[n]}return{valueControls:n,valueMax:r,valueMin:a,valueNow:u}}function tY({children:t,className:e,elementRef:n,id:o,style:r,...a}){const u=b_(o),[c,p]=w.useState({}),[d,m]=w.useState("inactive"),[y,S]=w.useState(null),E=T_(S,n),{id:T,orientation:C,registerSeparator:x}=C_(),M=C==="horizontal"?"vertical":"horizontal";return Na(()=>{if(y!==null){const I={element:y,id:u},N=x(I),D=Br.addListener("interactionStateChange",k=>{m(k.state!=="inactive"&&k.hitRegions.some(O=>O.separator===I)?k.state:"inactive")}),U=Br.addListener("mountedGroupsChange",k=>{k.forEach(({derivedPanelConstraints:O,layout:q,separatorToPanels:J},X)=>{if(X.id===T){const j=J.get(I);if(j){const re=j[0],oe=X.panels.indexOf(re);p(eY({layout:q,panelConstraints:O,panelId:re.id,panelIndex:oe}))}}})});return()=>{D(),U(),N()}}},[y,T,u,x]),A.jsx("div",{...a,"aria-controls":c.valueControls,"aria-orientation":M,"aria-valuemax":c.valueMax,"aria-valuemin":c.valueMin,"aria-valuenow":c.valueNow,children:t,className:e,"data-separator":d,"data-testid":u,id:u,ref:E,role:"separator",style:{flexBasis:"auto",...r,flexGrow:0,flexShrink:0},tabIndex:0})}const nY=({localImage:t,initialText:e="",onImageGenerated:n,onClose:o})=>{const[r,a]=w.useState(null),[u,c]=w.useState(e),[p,d]=w.useState(!1);w.useEffect(()=>{let y=!0;return t.getUrlObject().then(S=>{y&&a(S)}),()=>{y=!1}},[t]);const m=async()=>{d(!0);try{const y=await t.getBase64(),S=await la.img2img(u||"","",[{rawBase64:y.rawBase64,mime:y.mime,description:""}]);n&&n(S)}catch(y){console.error("GenerateImage failed:",y)}finally{d(!1)}};return A.jsx("div",{className:"border d-flex flex-column",style:{height:"700px"},children:A.jsxs(WK,{orientation:"horizontal",style:{height:"100%"},children:[A.jsx(NA,{defaultSize:500,minSize:10,children:A.jsx("div",{className:"d-flex align-items-center justify-content-center overflow-hidden",style:{height:"100%"},children:r?A.jsx("img",{src:r,alt:"Preview",className:"img-fluid",style:{objectFit:"contain",maxHeight:"100%",maxWidth:"100%"}}):A.jsx("div",{children:"Loading image"})})}),A.jsx(tY,{style:{cursor:"ew-resize",backgroundColor:"#8f8f8fff",width:"10px"}}),A.jsx(NA,{minSize:10,children:A.jsxs("div",{className:"d-flex flex-column h-100 p-3",style:{height:"100%"},children:[A.jsx("div",{className:"d-flex justify-content-end mb-2",children:o&&A.jsx("button",{type:"button",onClick:o,style:{cursor:"pointer"},children:""})}),A.jsxs("div",{className:"flex-grow-1 d-flex flex-column",children:[A.jsx("textarea",{value:u,onChange:y=>c(y.target.value),placeholder:"Edit This Image:",style:{flexGrow:1,resize:"none",padding:"8px",fontSize:"14px"}}),A.jsx(o_,{onClick:m,label:"Generate",is_loading:p})]})]})})]})})},oY=Ut(({shot:t})=>{const e=t.scene;if(!e.sceneJson||!e.sceneJson.data)return null;const n=e.sceneJson.data.tags,o=e.project?.artbook;return o?A.jsx(yp,{label:"Tags",children:n.length?A.jsx("ul",{className:"list-group list-group-flush",children:n.map((r,a)=>{const u=o.getTag(r);if(!u)return null;const c=!t.getSkippedTags().includes(u.path);return A.jsxs("li",{className:"list-group-item p-0 border-0 d-flex align-items-center gap-2",children:[A.jsx("input",{type:"checkbox",className:"form-check-input m-0",checked:c,onChange:p=>{t.setTagSkipped(u.path,!p.target.checked)}}),A.jsx("span",{className:c?"":"text-muted",children:u.path})]},a)})}):A.jsx("div",{children:"No tags."})}):null}),iY=Ut(({shot:t})=>{if(!t.shotJson)return A.jsx("div",{children:"Loading shot info..."});const e=200,n=t.images??[],o=async()=>{window.confirm(`Are you sure you want to delete shot "${t.folder.name}"?`)&&await t.delete()};return A.jsx("div",{className:"card mb-2",children:A.jsxs("div",{className:"card-body",children:[A.jsxs("div",{className:"d-flex align-items-center justify-content-between mb-2",children:[A.jsx("strong",{children:t.folder.name}),A.jsxs("div",{className:"d-flex gap-2",children:[A.jsx(QD,{label:"Finished",value:!!t.shotJson.data?.finished,onToggle:r=>{t.shotJson&&t.shotJson.updateField("finished",r)}}),A.jsx(Pt,{onClick:()=>{t.log()},label:"Log Shot"}),A.jsx(Pt,{onClick:o,label:"Delete Shot",className:"btn-outline-danger"})]})]}),A.jsx("div",{className:"shot_type-group mb-2",role:"group",children:A.jsx(od,{value:t.shotJson.getField("shot_type")||"shot_type",options:["simple shot","actor shot"],onChange:r=>{t.shotJson?.updateField("shot_type",r)}})}),A.jsx("div",{className:"mb-0",children:A.jsxs("div",{className:"btn-group mb-2",role:"group",children:[A.jsx("button",{className:"btn btn-sm btn-outline-success",onClick:async()=>{t.GenerateImage()},children:" Generate Image "}),A.jsx(od,{value:t.scene.project.workflows.generate_shot_image.model,options:VM,onChange:r=>{t.scene.project.updateWorkflow("generate_shot_image","model",r)}}),A.jsx(Yv,{isLoading:t.is_generating,asButton:!0})]})}),A.jsxs("div",{className:"btn-group mb-2",role:"group",children:[A.jsx("button",{className:"btn btn-sm btn-outline-success",onClick:async()=>{t.GenerateVideo()},children:" Generate Video"}),A.jsx(od,{value:t.scene.project?.workflows?.generate_video_kling?.model||dC[0],options:dC,onChange:r=>{console.log(r)}}),A.jsx(Yv,{isLoading:t.is_generating,asButton:!0})]}),A.jsx(Zn,{localJson:t.shotJson,field:"prompt",fitHeight:!0}),A.jsx(Zn,{localJson:t.shotJson,field:"camera",fitHeight:!0}),A.jsx(Zn,{localJson:t.shotJson,field:"action_description",fitHeight:!0}),A.jsx(oY,{shot:t}),A.jsx(NK,{label:"Shot Results",headerExtra:A.jsx(A.Fragment,{children:A.jsx(Pt,{label:"Import URL",onClick:async()=>{try{const r=await navigator.clipboard.readText();if(r&&(r.startsWith("http://")||r.startsWith("https://"))){console.log("Importing URL from clipboard:",r);const a=await Jr.fromUrl(r,t.resultsFolder);t.addImage(a)}else alert("Clipboard does not contain a valid URL.")}catch(r){console.error("Failed to read clipboard:",r),alert("Failed to access clipboard.")}}})}),children:n.map((r,a)=>A.jsx(IK,{localImage:r,height:e,onClick:()=>{t.selectArt(r)},topRightExtra:A.jsxs(A.Fragment,{children:[A.jsx(Pt,{onClick:()=>t.setSrcImage(r),label:"Pick"}),A.jsx(Pt,{onClick:async()=>{if(window.confirm("Delete this image?"))try{await r.delete(t.resultsFolder),t.removeImage(r)}catch(u){console.error("Failed to delete image:",u),alert("Failed to delete image.")}},label:"Delete",className:"btn-outline-danger"})]})},a))}),t.selected_art&&A.jsx(nY,{localImage:t.selected_art,initialText:"Notes for this image",onImageGenerated:async r=>{await t.saveGoogleResultImage(r,!0)},onClose:()=>{t.selectArt()}})]})})}),rY=Ut(({scene:t})=>{const[e,n]=w.useState(null);w.useEffect(()=>{n(null)},[t]);const o=async()=>{const r=prompt("Enter new shot name:");if(!r)return;const a=await t.createShot(r);a&&n(a)};return A.jsxs("div",{className:"d-flex flex-column gap-3",children:[A.jsx(MK,{initialHeight:200,children:A.jsxs("div",{className:"d-flex overflow-auto gap-2 h-100",children:[t.shots.map(r=>A.jsx(RK,{shot:r,isSelected:e===r,onClick:n},r.folder.name)),A.jsx("div",{className:"mt-2",children:A.jsx(Pt,{label:"+ Add Shot",onClick:o})})]})}),A.jsxs("div",{children:[A.jsx(o_,{onClick:()=>{t.generateAllShotImages()},label:"Generate ALL",is_loading:t.is_generating_all_shot_images}),A.jsx(Pt,{label:"+ Add Shot",onClick:o})]}),e&&A.jsx(iY,{shot:e})]})}),sY=Ut(({project:t})=>{switch(t.currentView.type){case"settings":return A.jsx(o6,{project:t});case"script":return A.jsx(i6,{project:t});case"artbook":return t.artbook?A.jsx(s6,{artbook:t.artbook}):A.jsx("div",{children:"No Artbook found."});case"scene":if(!t.selectedScene)return null;const e=t.selectedScene;return A.jsxs("div",{children:[A.jsx("h2",{children:e.folder.name}),A.jsx(su,{tabs:{Scene:A.jsx(xK,{scene:e}),Shots:A.jsx(rY,{scene:e})}})]});default:return null}}),aY=Ut(()=>{const[t]=w.useState(()=>new Q4(null)),e=async()=>{try{const o=await window.showDirectoryPicker();await t.loadFromFolder(o)}catch(o){console.error(o)}},n=async o=>{let r=await o.queryPermission({mode:"readwrite"});r!=="granted"&&(r=await o.requestPermission({mode:"readwrite"})),r==="granted"&&await t.loadFromFolder(o)};return w.useEffect(()=>{(async()=>{if(await t.loadDB(),t.userSettingsDB.data.lastOpenedFolder){const r=t.userSettingsDB.data.lastOpenedFolder;let a=await r.queryPermission({mode:"readwrite"});a!=="granted"&&(a=await r.requestPermission({mode:"readwrite"})),a==="granted"&&await t.loadFromFolder(r)}})()},[]),A.jsxs("div",{style:{minHeight:"100vh"},children:[A.jsx(Z4,{onOpenFolder:e,recentFolders:t.userSettingsDB.data.recentFolders,onOpenRecent:n,project:t}),A.jsxs("div",{className:"d-flex",style:{height:"calc(100vh - 56px)",overflow:"hidden"},children:[A.jsx(t6,{project:t}),A.jsx("div",{className:"flex-grow-1 d-flex flex-column overflow-hidden",children:A.jsx("div",{className:"flex-grow-1 overflow-auto p-3",children:A.jsx(sY,{project:t})})})]})]})}),lY=w.createContext(void 0),uY=({children:t})=>{const[e,n]=w.useState(null);return A.jsx(lY.Provider,{value:{contentArea:e,setContentArea:n},children:t})};HP.createRoot(document.getElementById("root")).render(A.jsx(w.StrictMode,{children:A.jsx(uY,{children:A.jsx(aY,{})})}));
