function PP(t,e){for(var n=0;n<e.length;n++){const o=e[n];if(typeof o!="string"&&!Array.isArray(o)){for(const r in o)if(r!=="default"&&!(r in t)){const a=Object.getOwnPropertyDescriptor(o,r);a&&Object.defineProperty(t,r,a.get?a:{enumerable:!0,get:()=>o[r]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))o(r);new MutationObserver(r=>{for(const a of r)if(a.type==="childList")for(const u of a.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&o(u)}).observe(document,{childList:!0,subtree:!0});function n(r){const a={};return r.integrity&&(a.integrity=r.integrity),r.referrerPolicy&&(a.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?a.credentials="include":r.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function o(r){if(r.ep)return;r.ep=!0;const a=n(r);fetch(r.href,a)}})();function vu(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Vm={exports:{}},xl={};var Cb;function kP(){if(Cb)return xl;Cb=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(o,r,a){var u=null;if(a!==void 0&&(u=""+a),r.key!==void 0&&(u=""+r.key),"key"in r){a={};for(var c in r)c!=="key"&&(a[c]=r[c])}else a=r;return r=a.ref,{$$typeof:t,type:o,key:u,ref:r!==void 0?r:null,props:a}}return xl.Fragment=e,xl.jsx=n,xl.jsxs=n,xl}var Ab;function LP(){return Ab||(Ab=1,Vm.exports=kP()),Vm.exports}var T=LP(),zm={exports:{}},Ae={};var xb;function UP(){if(xb)return Ae;xb=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),u=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),y=Symbol.for("react.activity"),S=Symbol.iterator;function E(k){return k===null||typeof k!="object"?null:(k=S&&k[S]||k["@@iterator"],typeof k=="function"?k:null)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,x={};function M(k,Y,se){this.props=k,this.context=Y,this.refs=x,this.updater=se||C}M.prototype.isReactComponent={},M.prototype.setState=function(k,Y){if(typeof k!="object"&&typeof k!="function"&&k!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,k,Y,"setState")},M.prototype.forceUpdate=function(k){this.updater.enqueueForceUpdate(this,k,"forceUpdate")};function I(){}I.prototype=M.prototype;function N(k,Y,se){this.props=k,this.context=Y,this.refs=x,this.updater=se||C}var D=N.prototype=new I;D.constructor=N,A(D,M.prototype),D.isPureReactComponent=!0;var L=Array.isArray;function U(){}var O={H:null,A:null,T:null,S:null},q=Object.prototype.hasOwnProperty;function J(k,Y,se){var le=se.ref;return{$$typeof:t,type:k,key:Y,ref:le!==void 0?le:null,props:se}}function X(k,Y){return J(k.type,Y,k.props)}function W(k){return typeof k=="object"&&k!==null&&k.$$typeof===t}function re(k){var Y={"=":"=0",":":"=2"};return"$"+k.replace(/[=:]/g,function(se){return Y[se]})}var oe=/\/+/g;function ae(k,Y){return typeof k=="object"&&k!==null&&k.key!=null?re(""+k.key):Y.toString(36)}function de(k){switch(k.status){case"fulfilled":return k.value;case"rejected":throw k.reason;default:switch(typeof k.status=="string"?k.then(U,U):(k.status="pending",k.then(function(Y){k.status==="pending"&&(k.status="fulfilled",k.value=Y)},function(Y){k.status==="pending"&&(k.status="rejected",k.reason=Y)})),k.status){case"fulfilled":return k.value;case"rejected":throw k.reason}}throw k}function H(k,Y,se,le,me){var Ee=typeof k;(Ee==="undefined"||Ee==="boolean")&&(k=null);var ve=!1;if(k===null)ve=!0;else switch(Ee){case"bigint":case"string":case"number":ve=!0;break;case"object":switch(k.$$typeof){case t:case e:ve=!0;break;case m:return ve=k._init,H(ve(k._payload),Y,se,le,me)}}if(ve)return me=me(k),ve=le===""?"."+ae(k,0):le,L(me)?(se="",ve!=null&&(se=ve.replace(oe,"$&/")+"/"),H(me,Y,se,"",function(nn){return nn})):me!=null&&(W(me)&&(me=X(me,se+(me.key==null||k&&k.key===me.key?"":(""+me.key).replace(oe,"$&/")+"/")+ve)),Y.push(me)),1;ve=0;var ze=le===""?".":le+":";if(L(k))for(var qe=0;qe<k.length;qe++)le=k[qe],Ee=ze+ae(le,qe),ve+=H(le,Y,se,Ee,me);else if(qe=E(k),typeof qe=="function")for(k=qe.call(k),qe=0;!(le=k.next()).done;)le=le.value,Ee=ze+ae(le,qe++),ve+=H(le,Y,se,Ee,me);else if(Ee==="object"){if(typeof k.then=="function")return H(de(k),Y,se,le,me);throw Y=String(k),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(k).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return ve}function Q(k,Y,se){if(k==null)return k;var le=[],me=0;return H(k,le,"","",function(Ee){return Y.call(se,Ee,me++)}),le}function ee(k){if(k._status===-1){var Y=k._result;Y=Y(),Y.then(function(se){(k._status===0||k._status===-1)&&(k._status=1,k._result=se)},function(se){(k._status===0||k._status===-1)&&(k._status=2,k._result=se)}),k._status===-1&&(k._status=0,k._result=Y)}if(k._status===1)return k._result.default;throw k._result}var ne=typeof reportError=="function"?reportError:function(k){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof k=="object"&&k!==null&&typeof k.message=="string"?String(k.message):String(k),error:k});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",k);return}console.error(k)},ce={map:Q,forEach:function(k,Y,se){Q(k,function(){Y.apply(this,arguments)},se)},count:function(k){var Y=0;return Q(k,function(){Y++}),Y},toArray:function(k){return Q(k,function(Y){return Y})||[]},only:function(k){if(!W(k))throw Error("React.Children.only expected to receive a single React element child.");return k}};return Ae.Activity=y,Ae.Children=ce,Ae.Component=M,Ae.Fragment=n,Ae.Profiler=r,Ae.PureComponent=N,Ae.StrictMode=o,Ae.Suspense=h,Ae.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=O,Ae.__COMPILER_RUNTIME={__proto__:null,c:function(k){return O.H.useMemoCache(k)}},Ae.cache=function(k){return function(){return k.apply(null,arguments)}},Ae.cacheSignal=function(){return null},Ae.cloneElement=function(k,Y,se){if(k==null)throw Error("The argument must be a React element, but you passed "+k+".");var le=A({},k.props),me=k.key;if(Y!=null)for(Ee in Y.key!==void 0&&(me=""+Y.key),Y)!q.call(Y,Ee)||Ee==="key"||Ee==="__self"||Ee==="__source"||Ee==="ref"&&Y.ref===void 0||(le[Ee]=Y[Ee]);var Ee=arguments.length-2;if(Ee===1)le.children=se;else if(1<Ee){for(var ve=Array(Ee),ze=0;ze<Ee;ze++)ve[ze]=arguments[ze+2];le.children=ve}return J(k.type,me,le)},Ae.createContext=function(k){return k={$$typeof:u,_currentValue:k,_currentValue2:k,_threadCount:0,Provider:null,Consumer:null},k.Provider=k,k.Consumer={$$typeof:a,_context:k},k},Ae.createElement=function(k,Y,se){var le,me={},Ee=null;if(Y!=null)for(le in Y.key!==void 0&&(Ee=""+Y.key),Y)q.call(Y,le)&&le!=="key"&&le!=="__self"&&le!=="__source"&&(me[le]=Y[le]);var ve=arguments.length-2;if(ve===1)me.children=se;else if(1<ve){for(var ze=Array(ve),qe=0;qe<ve;qe++)ze[qe]=arguments[qe+2];me.children=ze}if(k&&k.defaultProps)for(le in ve=k.defaultProps,ve)me[le]===void 0&&(me[le]=ve[le]);return J(k,Ee,me)},Ae.createRef=function(){return{current:null}},Ae.forwardRef=function(k){return{$$typeof:c,render:k}},Ae.isValidElement=W,Ae.lazy=function(k){return{$$typeof:m,_payload:{_status:-1,_result:k},_init:ee}},Ae.memo=function(k,Y){return{$$typeof:d,type:k,compare:Y===void 0?null:Y}},Ae.startTransition=function(k){var Y=O.T,se={};O.T=se;try{var le=k(),me=O.S;me!==null&&me(se,le),typeof le=="object"&&le!==null&&typeof le.then=="function"&&le.then(U,ne)}catch(Ee){ne(Ee)}finally{Y!==null&&se.types!==null&&(Y.types=se.types),O.T=Y}},Ae.unstable_useCacheRefresh=function(){return O.H.useCacheRefresh()},Ae.use=function(k){return O.H.use(k)},Ae.useActionState=function(k,Y,se){return O.H.useActionState(k,Y,se)},Ae.useCallback=function(k,Y){return O.H.useCallback(k,Y)},Ae.useContext=function(k){return O.H.useContext(k)},Ae.useDebugValue=function(){},Ae.useDeferredValue=function(k,Y){return O.H.useDeferredValue(k,Y)},Ae.useEffect=function(k,Y){return O.H.useEffect(k,Y)},Ae.useEffectEvent=function(k){return O.H.useEffectEvent(k)},Ae.useId=function(){return O.H.useId()},Ae.useImperativeHandle=function(k,Y,se){return O.H.useImperativeHandle(k,Y,se)},Ae.useInsertionEffect=function(k,Y){return O.H.useInsertionEffect(k,Y)},Ae.useLayoutEffect=function(k,Y){return O.H.useLayoutEffect(k,Y)},Ae.useMemo=function(k,Y){return O.H.useMemo(k,Y)},Ae.useOptimistic=function(k,Y){return O.H.useOptimistic(k,Y)},Ae.useReducer=function(k,Y,se){return O.H.useReducer(k,Y,se)},Ae.useRef=function(k){return O.H.useRef(k)},Ae.useState=function(k){return O.H.useState(k)},Ae.useSyncExternalStore=function(k,Y,se){return O.H.useSyncExternalStore(k,Y,se)},Ae.useTransition=function(){return O.H.useTransition()},Ae.version="19.2.1",Ae}var Rb;function Vd(){return Rb||(Rb=1,zm.exports=UP()),zm.exports}var w=Vd();const et=vu(w),OA=PP({__proto__:null,default:et},[w]);var qm={exports:{}},Rl={},Jm={exports:{}},Km={};var Mb;function BP(){return Mb||(Mb=1,(function(t){function e(H,Q){var ee=H.length;H.push(Q);e:for(;0<ee;){var ne=ee-1>>>1,ce=H[ne];if(0<r(ce,Q))H[ne]=Q,H[ee]=ce,ee=ne;else break e}}function n(H){return H.length===0?null:H[0]}function o(H){if(H.length===0)return null;var Q=H[0],ee=H.pop();if(ee!==Q){H[0]=ee;e:for(var ne=0,ce=H.length,k=ce>>>1;ne<k;){var Y=2*(ne+1)-1,se=H[Y],le=Y+1,me=H[le];if(0>r(se,ee))le<ce&&0>r(me,se)?(H[ne]=me,H[le]=ee,ne=le):(H[ne]=se,H[Y]=ee,ne=Y);else if(le<ce&&0>r(me,ee))H[ne]=me,H[le]=ee,ne=le;else break e}}return Q}function r(H,Q){var ee=H.sortIndex-Q.sortIndex;return ee!==0?ee:H.id-Q.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var u=Date,c=u.now();t.unstable_now=function(){return u.now()-c}}var h=[],d=[],m=1,y=null,S=3,E=!1,C=!1,A=!1,x=!1,M=typeof setTimeout=="function"?setTimeout:null,I=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;function D(H){for(var Q=n(d);Q!==null;){if(Q.callback===null)o(d);else if(Q.startTime<=H)o(d),Q.sortIndex=Q.expirationTime,e(h,Q);else break;Q=n(d)}}function L(H){if(A=!1,D(H),!C)if(n(h)!==null)C=!0,U||(U=!0,re());else{var Q=n(d);Q!==null&&de(L,Q.startTime-H)}}var U=!1,O=-1,q=5,J=-1;function X(){return x?!0:!(t.unstable_now()-J<q)}function W(){if(x=!1,U){var H=t.unstable_now();J=H;var Q=!0;try{e:{C=!1,A&&(A=!1,I(O),O=-1),E=!0;var ee=S;try{t:{for(D(H),y=n(h);y!==null&&!(y.expirationTime>H&&X());){var ne=y.callback;if(typeof ne=="function"){y.callback=null,S=y.priorityLevel;var ce=ne(y.expirationTime<=H);if(H=t.unstable_now(),typeof ce=="function"){y.callback=ce,D(H),Q=!0;break t}y===n(h)&&o(h),D(H)}else o(h);y=n(h)}if(y!==null)Q=!0;else{var k=n(d);k!==null&&de(L,k.startTime-H),Q=!1}}break e}finally{y=null,S=ee,E=!1}Q=void 0}}finally{Q?re():U=!1}}}var re;if(typeof N=="function")re=function(){N(W)};else if(typeof MessageChannel<"u"){var oe=new MessageChannel,ae=oe.port2;oe.port1.onmessage=W,re=function(){ae.postMessage(null)}}else re=function(){M(W,0)};function de(H,Q){O=M(function(){H(t.unstable_now())},Q)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(H){H.callback=null},t.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):q=0<H?Math.floor(1e3/H):5},t.unstable_getCurrentPriorityLevel=function(){return S},t.unstable_next=function(H){switch(S){case 1:case 2:case 3:var Q=3;break;default:Q=S}var ee=S;S=Q;try{return H()}finally{S=ee}},t.unstable_requestPaint=function(){x=!0},t.unstable_runWithPriority=function(H,Q){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var ee=S;S=H;try{return Q()}finally{S=ee}},t.unstable_scheduleCallback=function(H,Q,ee){var ne=t.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?ne+ee:ne):ee=ne,H){case 1:var ce=-1;break;case 2:ce=250;break;case 5:ce=1073741823;break;case 4:ce=1e4;break;default:ce=5e3}return ce=ee+ce,H={id:m++,callback:Q,priorityLevel:H,startTime:ee,expirationTime:ce,sortIndex:-1},ee>ne?(H.sortIndex=ee,e(d,H),n(h)===null&&H===n(d)&&(A?(I(O),O=-1):A=!0,de(L,ee-ne))):(H.sortIndex=ce,e(h,H),C||E||(C=!0,U||(U=!0,re()))),H},t.unstable_shouldYield=X,t.unstable_wrapCallback=function(H){var Q=S;return function(){var ee=S;S=Q;try{return H.apply(this,arguments)}finally{S=ee}}}})(Km)),Km}var Nb;function HP(){return Nb||(Nb=1,Jm.exports=BP()),Jm.exports}var Ym={exports:{}},Pt={};var Ib;function FP(){if(Ib)return Pt;Ib=1;var t=Vd();function e(h){var d="https://react.dev/errors/"+h;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)d+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+h+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var o={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},r=Symbol.for("react.portal");function a(h,d,m){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:y==null?null:""+y,children:h,containerInfo:d,implementation:m}}var u=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(h,d){if(h==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return Pt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=o,Pt.createPortal=function(h,d){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(e(299));return a(h,d,null,m)},Pt.flushSync=function(h){var d=u.T,m=o.p;try{if(u.T=null,o.p=2,h)return h()}finally{u.T=d,o.p=m,o.d.f()}},Pt.preconnect=function(h,d){typeof h=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,o.d.C(h,d))},Pt.prefetchDNS=function(h){typeof h=="string"&&o.d.D(h)},Pt.preinit=function(h,d){if(typeof h=="string"&&d&&typeof d.as=="string"){var m=d.as,y=c(m,d.crossOrigin),S=typeof d.integrity=="string"?d.integrity:void 0,E=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;m==="style"?o.d.S(h,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:y,integrity:S,fetchPriority:E}):m==="script"&&o.d.X(h,{crossOrigin:y,integrity:S,fetchPriority:E,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},Pt.preinitModule=function(h,d){if(typeof h=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var m=c(d.as,d.crossOrigin);o.d.M(h,{crossOrigin:m,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&o.d.M(h)},Pt.preload=function(h,d){if(typeof h=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var m=d.as,y=c(m,d.crossOrigin);o.d.L(h,m,{crossOrigin:y,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},Pt.preloadModule=function(h,d){if(typeof h=="string")if(d){var m=c(d.as,d.crossOrigin);o.d.m(h,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:m,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else o.d.m(h)},Pt.requestFormReset=function(h){o.d.r(h)},Pt.unstable_batchedUpdates=function(h,d){return h(d)},Pt.useFormState=function(h,d,m){return u.H.useFormState(h,d,m)},Pt.useFormStatus=function(){return u.H.useHostTransitionStatus()},Pt.version="19.2.1",Pt}var Db;function PA(){if(Db)return Ym.exports;Db=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Ym.exports=FP(),Ym.exports}var Ob;function $P(){if(Ob)return Rl;Ob=1;var t=HP(),e=Vd(),n=PA();function o(i){var s="https://react.dev/errors/"+i;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)s+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+i+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function a(i){var s=i,l=i;if(i.alternate)for(;s.return;)s=s.return;else{i=s;do s=i,(s.flags&4098)!==0&&(l=s.return),i=s.return;while(i)}return s.tag===3?l:null}function u(i){if(i.tag===13){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function c(i){if(i.tag===31){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function h(i){if(a(i)!==i)throw Error(o(188))}function d(i){var s=i.alternate;if(!s){if(s=a(i),s===null)throw Error(o(188));return s!==i?null:i}for(var l=i,f=s;;){var v=l.return;if(v===null)break;var _=v.alternate;if(_===null){if(f=v.return,f!==null){l=f;continue}break}if(v.child===_.child){for(_=v.child;_;){if(_===l)return h(v),i;if(_===f)return h(v),s;_=_.sibling}throw Error(o(188))}if(l.return!==f.return)l=v,f=_;else{for(var b=!1,R=v.child;R;){if(R===l){b=!0,l=v,f=_;break}if(R===f){b=!0,f=v,l=_;break}R=R.sibling}if(!b){for(R=_.child;R;){if(R===l){b=!0,l=_,f=v;break}if(R===f){b=!0,f=_,l=v;break}R=R.sibling}if(!b)throw Error(o(189))}}if(l.alternate!==f)throw Error(o(190))}if(l.tag!==3)throw Error(o(188));return l.stateNode.current===l?i:s}function m(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i;for(i=i.child;i!==null;){if(s=m(i),s!==null)return s;i=i.sibling}return null}var y=Object.assign,S=Symbol.for("react.element"),E=Symbol.for("react.transitional.element"),C=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),x=Symbol.for("react.strict_mode"),M=Symbol.for("react.profiler"),I=Symbol.for("react.consumer"),N=Symbol.for("react.context"),D=Symbol.for("react.forward_ref"),L=Symbol.for("react.suspense"),U=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),q=Symbol.for("react.lazy"),J=Symbol.for("react.activity"),X=Symbol.for("react.memo_cache_sentinel"),W=Symbol.iterator;function re(i){return i===null||typeof i!="object"?null:(i=W&&i[W]||i["@@iterator"],typeof i=="function"?i:null)}var oe=Symbol.for("react.client.reference");function ae(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===oe?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case A:return"Fragment";case M:return"Profiler";case x:return"StrictMode";case L:return"Suspense";case U:return"SuspenseList";case J:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case C:return"Portal";case N:return i.displayName||"Context";case I:return(i._context.displayName||"Context")+".Consumer";case D:var s=i.render;return i=i.displayName,i||(i=s.displayName||s.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case O:return s=i.displayName||null,s!==null?s:ae(i.type)||"Memo";case q:s=i._payload,i=i._init;try{return ae(i(s))}catch{}}return null}var de=Array.isArray,H=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Q=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ee={pending:!1,data:null,method:null,action:null},ne=[],ce=-1;function k(i){return{current:i}}function Y(i){0>ce||(i.current=ne[ce],ne[ce]=null,ce--)}function se(i,s){ce++,ne[ce]=i.current,i.current=s}var le=k(null),me=k(null),Ee=k(null),ve=k(null);function ze(i,s){switch(se(Ee,s),se(me,i),se(le,null),s.nodeType){case 9:case 11:i=(i=s.documentElement)&&(i=i.namespaceURI)?YE(i):0;break;default:if(i=s.tagName,s=s.namespaceURI)s=YE(s),i=XE(s,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}Y(le),se(le,i)}function qe(){Y(le),Y(me),Y(Ee)}function nn(i){i.memoizedState!==null&&se(ve,i);var s=le.current,l=XE(s,i.type);s!==l&&(se(me,i),se(le,l))}function bn(i){me.current===i&&(Y(le),Y(me)),ve.current===i&&(Y(ve),wl._currentValue=ee)}var fo,Vt;function zt(i){if(fo===void 0)try{throw Error()}catch(l){var s=l.stack.trim().match(/\n( *(at )?)/);fo=s&&s[1]||"",Vt=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+fo+i+Vt}var Qe=!1;function Po(i,s){if(!i||Qe)return"";Qe=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var f={DetermineComponentFrameRoot:function(){try{if(s){var te=function(){throw Error()};if(Object.defineProperty(te.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(te,[])}catch(K){var z=K}Reflect.construct(i,[],te)}else{try{te.call()}catch(K){z=K}i.call(te.prototype)}}else{try{throw Error()}catch(K){z=K}(te=i())&&typeof te.catch=="function"&&te.catch(function(){})}}catch(K){if(K&&z&&typeof K.stack=="string")return[K.stack,z.stack]}return[null,null]}};f.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var v=Object.getOwnPropertyDescriptor(f.DetermineComponentFrameRoot,"name");v&&v.configurable&&Object.defineProperty(f.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var _=f.DetermineComponentFrameRoot(),b=_[0],R=_[1];if(b&&R){var P=b.split(`
`),G=R.split(`
`);for(v=f=0;f<P.length&&!P[f].includes("DetermineComponentFrameRoot");)f++;for(;v<G.length&&!G[v].includes("DetermineComponentFrameRoot");)v++;if(f===P.length||v===G.length)for(f=P.length-1,v=G.length-1;1<=f&&0<=v&&P[f]!==G[v];)v--;for(;1<=f&&0<=v;f--,v--)if(P[f]!==G[v]){if(f!==1||v!==1)do if(f--,v--,0>v||P[f]!==G[v]){var j=`
`+P[f].replace(" at new "," at ");return i.displayName&&j.includes("<anonymous>")&&(j=j.replace("<anonymous>",i.displayName)),j}while(1<=f&&0<=v);break}}}finally{Qe=!1,Error.prepareStackTrace=l}return(l=i?i.displayName||i.name:"")?zt(l):""}function yi(i,s){switch(i.tag){case 26:case 27:case 5:return zt(i.type);case 16:return zt("Lazy");case 13:return i.child!==s&&s!==null?zt("Suspense Fallback"):zt("Suspense");case 19:return zt("SuspenseList");case 0:case 15:return Po(i.type,!1);case 11:return Po(i.type.render,!1);case 1:return Po(i.type,!0);case 31:return zt("Activity");default:return""}}function qu(i){try{var s="",l=null;do s+=yi(i,l),l=i,i=i.return;while(i);return s}catch(f){return`
Error generating stack: `+f.message+`
`+f.stack}}var Da=Object.prototype.hasOwnProperty,Jn=t.unstable_scheduleCallback,_i=t.unstable_cancelCallback,Ju=t.unstable_shouldYield,Ku=t.unstable_requestPaint,Ct=t.unstable_now,Yu=t.unstable_getCurrentPriorityLevel,Oa=t.unstable_ImmediatePriority,Pa=t.unstable_UserBlockingPriority,cr=t.unstable_NormalPriority,mO=t.unstable_LowPriority,R_=t.unstable_IdlePriority,gO=t.log,vO=t.unstable_setDisableYieldValue,ka=null,on=null;function Si(i){if(typeof gO=="function"&&vO(i),on&&typeof on.setStrictMode=="function")try{on.setStrictMode(ka,i)}catch{}}var rn=Math.clz32?Math.clz32:SO,yO=Math.log,_O=Math.LN2;function SO(i){return i>>>=0,i===0?32:31-(yO(i)/_O|0)|0}var Xu=256,ju=262144,Wu=4194304;function fr(i){var s=i&42;if(s!==0)return s;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function Qu(i,s,l){var f=i.pendingLanes;if(f===0)return 0;var v=0,_=i.suspendedLanes,b=i.pingedLanes;i=i.warmLanes;var R=f&134217727;return R!==0?(f=R&~_,f!==0?v=fr(f):(b&=R,b!==0?v=fr(b):l||(l=R&~i,l!==0&&(v=fr(l))))):(R=f&~_,R!==0?v=fr(R):b!==0?v=fr(b):l||(l=f&~i,l!==0&&(v=fr(l)))),v===0?0:s!==0&&s!==v&&(s&_)===0&&(_=v&-v,l=s&-s,_>=l||_===32&&(l&4194048)!==0)?s:v}function La(i,s){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&s)===0}function EO(i,s){switch(i){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function M_(){var i=Wu;return Wu<<=1,(Wu&62914560)===0&&(Wu=4194304),i}function Ih(i){for(var s=[],l=0;31>l;l++)s.push(i);return s}function Ua(i,s){i.pendingLanes|=s,s!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function bO(i,s,l,f,v,_){var b=i.pendingLanes;i.pendingLanes=l,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=l,i.entangledLanes&=l,i.errorRecoveryDisabledLanes&=l,i.shellSuspendCounter=0;var R=i.entanglements,P=i.expirationTimes,G=i.hiddenUpdates;for(l=b&~l;0<l;){var j=31-rn(l),te=1<<j;R[j]=0,P[j]=-1;var z=G[j];if(z!==null)for(G[j]=null,j=0;j<z.length;j++){var K=z[j];K!==null&&(K.lane&=-536870913)}l&=~te}f!==0&&N_(i,f,0),_!==0&&v===0&&i.tag!==0&&(i.suspendedLanes|=_&~(b&~s))}function N_(i,s,l){i.pendingLanes|=s,i.suspendedLanes&=~s;var f=31-rn(s);i.entangledLanes|=s,i.entanglements[f]=i.entanglements[f]|1073741824|l&261930}function I_(i,s){var l=i.entangledLanes|=s;for(i=i.entanglements;l;){var f=31-rn(l),v=1<<f;v&s|i[f]&s&&(i[f]|=s),l&=~v}}function D_(i,s){var l=s&-s;return l=(l&42)!==0?1:Dh(l),(l&(i.suspendedLanes|s))!==0?0:l}function Dh(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function Oh(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function O_(){var i=Q.p;return i!==0?i:(i=window.event,i===void 0?32:yb(i.type))}function P_(i,s){var l=Q.p;try{return Q.p=i,s()}finally{Q.p=l}}var Ei=Math.random().toString(36).slice(2),At="__reactFiber$"+Ei,qt="__reactProps$"+Ei,ns="__reactContainer$"+Ei,Ph="__reactEvents$"+Ei,wO="__reactListeners$"+Ei,TO="__reactHandles$"+Ei,k_="__reactResources$"+Ei,Ba="__reactMarker$"+Ei;function kh(i){delete i[At],delete i[qt],delete i[Ph],delete i[wO],delete i[TO]}function os(i){var s=i[At];if(s)return s;for(var l=i.parentNode;l;){if(s=l[ns]||l[At]){if(l=s.alternate,s.child!==null||l!==null&&l.child!==null)for(i=nb(i);i!==null;){if(l=i[At])return l;i=nb(i)}return s}i=l,l=i.parentNode}return null}function is(i){if(i=i[At]||i[ns]){var s=i.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return i}return null}function Ha(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i.stateNode;throw Error(o(33))}function rs(i){var s=i[k_];return s||(s=i[k_]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function _t(i){i[Ba]=!0}var L_=new Set,U_={};function dr(i,s){ss(i,s),ss(i+"Capture",s)}function ss(i,s){for(U_[i]=s,i=0;i<s.length;i++)L_.add(s[i])}var CO=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),B_={},H_={};function AO(i){return Da.call(H_,i)?!0:Da.call(B_,i)?!1:CO.test(i)?H_[i]=!0:(B_[i]=!0,!1)}function Zu(i,s,l){if(AO(s))if(l===null)i.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":i.removeAttribute(s);return;case"boolean":var f=s.toLowerCase().slice(0,5);if(f!=="data-"&&f!=="aria-"){i.removeAttribute(s);return}}i.setAttribute(s,""+l)}}function ec(i,s,l){if(l===null)i.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(s);return}i.setAttribute(s,""+l)}}function ko(i,s,l,f){if(f===null)i.removeAttribute(l);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(l);return}i.setAttributeNS(s,l,""+f)}}function wn(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function F_(i){var s=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function xO(i,s,l){var f=Object.getOwnPropertyDescriptor(i.constructor.prototype,s);if(!i.hasOwnProperty(s)&&typeof f<"u"&&typeof f.get=="function"&&typeof f.set=="function"){var v=f.get,_=f.set;return Object.defineProperty(i,s,{configurable:!0,get:function(){return v.call(this)},set:function(b){l=""+b,_.call(this,b)}}),Object.defineProperty(i,s,{enumerable:f.enumerable}),{getValue:function(){return l},setValue:function(b){l=""+b},stopTracking:function(){i._valueTracker=null,delete i[s]}}}}function Lh(i){if(!i._valueTracker){var s=F_(i)?"checked":"value";i._valueTracker=xO(i,s,""+i[s])}}function $_(i){if(!i)return!1;var s=i._valueTracker;if(!s)return!0;var l=s.getValue(),f="";return i&&(f=F_(i)?i.checked?"true":"false":i.value),i=f,i!==l?(s.setValue(i),!0):!1}function tc(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var RO=/[\n"\\]/g;function Tn(i){return i.replace(RO,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Uh(i,s,l,f,v,_,b,R){i.name="",b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?i.type=b:i.removeAttribute("type"),s!=null?b==="number"?(s===0&&i.value===""||i.value!=s)&&(i.value=""+wn(s)):i.value!==""+wn(s)&&(i.value=""+wn(s)):b!=="submit"&&b!=="reset"||i.removeAttribute("value"),s!=null?Bh(i,b,wn(s)):l!=null?Bh(i,b,wn(l)):f!=null&&i.removeAttribute("value"),v==null&&_!=null&&(i.defaultChecked=!!_),v!=null&&(i.checked=v&&typeof v!="function"&&typeof v!="symbol"),R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"?i.name=""+wn(R):i.removeAttribute("name")}function G_(i,s,l,f,v,_,b,R){if(_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(i.type=_),s!=null||l!=null){if(!(_!=="submit"&&_!=="reset"||s!=null)){Lh(i);return}l=l!=null?""+wn(l):"",s=s!=null?""+wn(s):l,R||s===i.value||(i.value=s),i.defaultValue=s}f=f??v,f=typeof f!="function"&&typeof f!="symbol"&&!!f,i.checked=R?i.checked:!!f,i.defaultChecked=!!f,b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(i.name=b),Lh(i)}function Bh(i,s,l){s==="number"&&tc(i.ownerDocument)===i||i.defaultValue===""+l||(i.defaultValue=""+l)}function as(i,s,l,f){if(i=i.options,s){s={};for(var v=0;v<l.length;v++)s["$"+l[v]]=!0;for(l=0;l<i.length;l++)v=s.hasOwnProperty("$"+i[l].value),i[l].selected!==v&&(i[l].selected=v),v&&f&&(i[l].defaultSelected=!0)}else{for(l=""+wn(l),s=null,v=0;v<i.length;v++){if(i[v].value===l){i[v].selected=!0,f&&(i[v].defaultSelected=!0);return}s!==null||i[v].disabled||(s=i[v])}s!==null&&(s.selected=!0)}}function V_(i,s,l){if(s!=null&&(s=""+wn(s),s!==i.value&&(i.value=s),l==null)){i.defaultValue!==s&&(i.defaultValue=s);return}i.defaultValue=l!=null?""+wn(l):""}function z_(i,s,l,f){if(s==null){if(f!=null){if(l!=null)throw Error(o(92));if(de(f)){if(1<f.length)throw Error(o(93));f=f[0]}l=f}l==null&&(l=""),s=l}l=wn(s),i.defaultValue=l,f=i.textContent,f===l&&f!==""&&f!==null&&(i.value=f),Lh(i)}function ls(i,s){if(s){var l=i.firstChild;if(l&&l===i.lastChild&&l.nodeType===3){l.nodeValue=s;return}}i.textContent=s}var MO=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function q_(i,s,l){var f=s.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?f?i.setProperty(s,""):s==="float"?i.cssFloat="":i[s]="":f?i.setProperty(s,l):typeof l!="number"||l===0||MO.has(s)?s==="float"?i.cssFloat=l:i[s]=(""+l).trim():i[s]=l+"px"}function J_(i,s,l){if(s!=null&&typeof s!="object")throw Error(o(62));if(i=i.style,l!=null){for(var f in l)!l.hasOwnProperty(f)||s!=null&&s.hasOwnProperty(f)||(f.indexOf("--")===0?i.setProperty(f,""):f==="float"?i.cssFloat="":i[f]="");for(var v in s)f=s[v],s.hasOwnProperty(v)&&l[v]!==f&&q_(i,v,f)}else for(var _ in s)s.hasOwnProperty(_)&&q_(i,_,s[_])}function Hh(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var NO=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),IO=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function nc(i){return IO.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function Lo(){}var Fh=null;function $h(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var us=null,cs=null;function K_(i){var s=is(i);if(s&&(i=s.stateNode)){var l=i[qt]||null;e:switch(i=s.stateNode,s.type){case"input":if(Uh(i,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),s=l.name,l.type==="radio"&&s!=null){for(l=i;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+Tn(""+s)+'"][type="radio"]'),s=0;s<l.length;s++){var f=l[s];if(f!==i&&f.form===i.form){var v=f[qt]||null;if(!v)throw Error(o(90));Uh(f,v.value,v.defaultValue,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name)}}for(s=0;s<l.length;s++)f=l[s],f.form===i.form&&$_(f)}break e;case"textarea":V_(i,l.value,l.defaultValue);break e;case"select":s=l.value,s!=null&&as(i,!!l.multiple,s,!1)}}}var Gh=!1;function Y_(i,s,l){if(Gh)return i(s,l);Gh=!0;try{var f=i(s);return f}finally{if(Gh=!1,(us!==null||cs!==null)&&(Vc(),us&&(s=us,i=cs,cs=us=null,K_(s),i)))for(s=0;s<i.length;s++)K_(i[s])}}function Fa(i,s){var l=i.stateNode;if(l===null)return null;var f=l[qt]||null;if(f===null)return null;l=f[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(i=i.type,f=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!f;break e;default:i=!1}if(i)return null;if(l&&typeof l!="function")throw Error(o(231,s,typeof l));return l}var Uo=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Vh=!1;if(Uo)try{var $a={};Object.defineProperty($a,"passive",{get:function(){Vh=!0}}),window.addEventListener("test",$a,$a),window.removeEventListener("test",$a,$a)}catch{Vh=!1}var bi=null,zh=null,oc=null;function X_(){if(oc)return oc;var i,s=zh,l=s.length,f,v="value"in bi?bi.value:bi.textContent,_=v.length;for(i=0;i<l&&s[i]===v[i];i++);var b=l-i;for(f=1;f<=b&&s[l-f]===v[_-f];f++);return oc=v.slice(i,1<f?1-f:void 0)}function ic(i){var s=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&s===13&&(i=13)):i=s,i===10&&(i=13),32<=i||i===13?i:0}function rc(){return!0}function j_(){return!1}function Jt(i){function s(l,f,v,_,b){this._reactName=l,this._targetInst=v,this.type=f,this.nativeEvent=_,this.target=b,this.currentTarget=null;for(var R in i)i.hasOwnProperty(R)&&(l=i[R],this[R]=l?l(_):_[R]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?rc:j_,this.isPropagationStopped=j_,this}return y(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=rc)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=rc)},persist:function(){},isPersistent:rc}),s}var hr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},sc=Jt(hr),Ga=y({},hr,{view:0,detail:0}),DO=Jt(Ga),qh,Jh,Va,ac=y({},Ga,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Yh,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Va&&(Va&&i.type==="mousemove"?(qh=i.screenX-Va.screenX,Jh=i.screenY-Va.screenY):Jh=qh=0,Va=i),qh)},movementY:function(i){return"movementY"in i?i.movementY:Jh}}),W_=Jt(ac),OO=y({},ac,{dataTransfer:0}),PO=Jt(OO),kO=y({},Ga,{relatedTarget:0}),Kh=Jt(kO),LO=y({},hr,{animationName:0,elapsedTime:0,pseudoElement:0}),UO=Jt(LO),BO=y({},hr,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),HO=Jt(BO),FO=y({},hr,{data:0}),Q_=Jt(FO),$O={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},GO={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},VO={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function zO(i){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(i):(i=VO[i])?!!s[i]:!1}function Yh(){return zO}var qO=y({},Ga,{key:function(i){if(i.key){var s=$O[i.key]||i.key;if(s!=="Unidentified")return s}return i.type==="keypress"?(i=ic(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?GO[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Yh,charCode:function(i){return i.type==="keypress"?ic(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?ic(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),JO=Jt(qO),KO=y({},ac,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Z_=Jt(KO),YO=y({},Ga,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Yh}),XO=Jt(YO),jO=y({},hr,{propertyName:0,elapsedTime:0,pseudoElement:0}),WO=Jt(jO),QO=y({},ac,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),ZO=Jt(QO),e1=y({},hr,{newState:0,oldState:0}),t1=Jt(e1),n1=[9,13,27,32],Xh=Uo&&"CompositionEvent"in window,za=null;Uo&&"documentMode"in document&&(za=document.documentMode);var o1=Uo&&"TextEvent"in window&&!za,e0=Uo&&(!Xh||za&&8<za&&11>=za),t0=" ",n0=!1;function o0(i,s){switch(i){case"keyup":return n1.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function i0(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var fs=!1;function i1(i,s){switch(i){case"compositionend":return i0(s);case"keypress":return s.which!==32?null:(n0=!0,t0);case"textInput":return i=s.data,i===t0&&n0?null:i;default:return null}}function r1(i,s){if(fs)return i==="compositionend"||!Xh&&o0(i,s)?(i=X_(),oc=zh=bi=null,fs=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return e0&&s.locale!=="ko"?null:s.data;default:return null}}var s1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function r0(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s==="input"?!!s1[i.type]:s==="textarea"}function s0(i,s,l,f){us?cs?cs.push(f):cs=[f]:us=f,s=jc(s,"onChange"),0<s.length&&(l=new sc("onChange","change",null,l,f),i.push({event:l,listeners:s}))}var qa=null,Ja=null;function a1(i){GE(i,0)}function lc(i){var s=Ha(i);if($_(s))return i}function a0(i,s){if(i==="change")return s}var l0=!1;if(Uo){var jh;if(Uo){var Wh="oninput"in document;if(!Wh){var u0=document.createElement("div");u0.setAttribute("oninput","return;"),Wh=typeof u0.oninput=="function"}jh=Wh}else jh=!1;l0=jh&&(!document.documentMode||9<document.documentMode)}function c0(){qa&&(qa.detachEvent("onpropertychange",f0),Ja=qa=null)}function f0(i){if(i.propertyName==="value"&&lc(Ja)){var s=[];s0(s,Ja,i,$h(i)),Y_(a1,s)}}function l1(i,s,l){i==="focusin"?(c0(),qa=s,Ja=l,qa.attachEvent("onpropertychange",f0)):i==="focusout"&&c0()}function u1(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return lc(Ja)}function c1(i,s){if(i==="click")return lc(s)}function f1(i,s){if(i==="input"||i==="change")return lc(s)}function d1(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var sn=typeof Object.is=="function"?Object.is:d1;function Ka(i,s){if(sn(i,s))return!0;if(typeof i!="object"||i===null||typeof s!="object"||s===null)return!1;var l=Object.keys(i),f=Object.keys(s);if(l.length!==f.length)return!1;for(f=0;f<l.length;f++){var v=l[f];if(!Da.call(s,v)||!sn(i[v],s[v]))return!1}return!0}function d0(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function h0(i,s){var l=d0(i);i=0;for(var f;l;){if(l.nodeType===3){if(f=i+l.textContent.length,i<=s&&f>=s)return{node:l,offset:s-i};i=f}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=d0(l)}}function p0(i,s){return i&&s?i===s?!0:i&&i.nodeType===3?!1:s&&s.nodeType===3?p0(i,s.parentNode):"contains"in i?i.contains(s):i.compareDocumentPosition?!!(i.compareDocumentPosition(s)&16):!1:!1}function m0(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var s=tc(i.document);s instanceof i.HTMLIFrameElement;){try{var l=typeof s.contentWindow.location.href=="string"}catch{l=!1}if(l)i=s.contentWindow;else break;s=tc(i.document)}return s}function Qh(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s&&(s==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||s==="textarea"||i.contentEditable==="true")}var h1=Uo&&"documentMode"in document&&11>=document.documentMode,ds=null,Zh=null,Ya=null,ep=!1;function g0(i,s,l){var f=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;ep||ds==null||ds!==tc(f)||(f=ds,"selectionStart"in f&&Qh(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),Ya&&Ka(Ya,f)||(Ya=f,f=jc(Zh,"onSelect"),0<f.length&&(s=new sc("onSelect","select",null,s,l),i.push({event:s,listeners:f}),s.target=ds)))}function pr(i,s){var l={};return l[i.toLowerCase()]=s.toLowerCase(),l["Webkit"+i]="webkit"+s,l["Moz"+i]="moz"+s,l}var hs={animationend:pr("Animation","AnimationEnd"),animationiteration:pr("Animation","AnimationIteration"),animationstart:pr("Animation","AnimationStart"),transitionrun:pr("Transition","TransitionRun"),transitionstart:pr("Transition","TransitionStart"),transitioncancel:pr("Transition","TransitionCancel"),transitionend:pr("Transition","TransitionEnd")},tp={},v0={};Uo&&(v0=document.createElement("div").style,"AnimationEvent"in window||(delete hs.animationend.animation,delete hs.animationiteration.animation,delete hs.animationstart.animation),"TransitionEvent"in window||delete hs.transitionend.transition);function mr(i){if(tp[i])return tp[i];if(!hs[i])return i;var s=hs[i],l;for(l in s)if(s.hasOwnProperty(l)&&l in v0)return tp[i]=s[l];return i}var y0=mr("animationend"),_0=mr("animationiteration"),S0=mr("animationstart"),p1=mr("transitionrun"),m1=mr("transitionstart"),g1=mr("transitioncancel"),E0=mr("transitionend"),b0=new Map,np="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");np.push("scrollEnd");function Kn(i,s){b0.set(i,s),dr(s,[i])}var uc=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},Cn=[],ps=0,op=0;function cc(){for(var i=ps,s=op=ps=0;s<i;){var l=Cn[s];Cn[s++]=null;var f=Cn[s];Cn[s++]=null;var v=Cn[s];Cn[s++]=null;var _=Cn[s];if(Cn[s++]=null,f!==null&&v!==null){var b=f.pending;b===null?v.next=v:(v.next=b.next,b.next=v),f.pending=v}_!==0&&w0(l,v,_)}}function fc(i,s,l,f){Cn[ps++]=i,Cn[ps++]=s,Cn[ps++]=l,Cn[ps++]=f,op|=f,i.lanes|=f,i=i.alternate,i!==null&&(i.lanes|=f)}function ip(i,s,l,f){return fc(i,s,l,f),dc(i)}function gr(i,s){return fc(i,null,null,s),dc(i)}function w0(i,s,l){i.lanes|=l;var f=i.alternate;f!==null&&(f.lanes|=l);for(var v=!1,_=i.return;_!==null;)_.childLanes|=l,f=_.alternate,f!==null&&(f.childLanes|=l),_.tag===22&&(i=_.stateNode,i===null||i._visibility&1||(v=!0)),i=_,_=_.return;return i.tag===3?(_=i.stateNode,v&&s!==null&&(v=31-rn(l),i=_.hiddenUpdates,f=i[v],f===null?i[v]=[s]:f.push(s),s.lane=l|536870912),_):null}function dc(i){if(50<gl)throw gl=0,hm=null,Error(o(185));for(var s=i.return;s!==null;)i=s,s=i.return;return i.tag===3?i.stateNode:null}var ms={};function v1(i,s,l,f){this.tag=i,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function an(i,s,l,f){return new v1(i,s,l,f)}function rp(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Bo(i,s){var l=i.alternate;return l===null?(l=an(i.tag,s,i.key,i.mode),l.elementType=i.elementType,l.type=i.type,l.stateNode=i.stateNode,l.alternate=i,i.alternate=l):(l.pendingProps=s,l.type=i.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=i.flags&65011712,l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,s=i.dependencies,l.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},l.sibling=i.sibling,l.index=i.index,l.ref=i.ref,l.refCleanup=i.refCleanup,l}function T0(i,s){i.flags&=65011714;var l=i.alternate;return l===null?(i.childLanes=0,i.lanes=s,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,s=l.dependencies,i.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),i}function hc(i,s,l,f,v,_){var b=0;if(f=i,typeof i=="function")rp(i)&&(b=1);else if(typeof i=="string")b=bP(i,l,le.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case J:return i=an(31,l,s,v),i.elementType=J,i.lanes=_,i;case A:return vr(l.children,v,_,s);case x:b=8,v|=24;break;case M:return i=an(12,l,s,v|2),i.elementType=M,i.lanes=_,i;case L:return i=an(13,l,s,v),i.elementType=L,i.lanes=_,i;case U:return i=an(19,l,s,v),i.elementType=U,i.lanes=_,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case N:b=10;break e;case I:b=9;break e;case D:b=11;break e;case O:b=14;break e;case q:b=16,f=null;break e}b=29,l=Error(o(130,i===null?"null":typeof i,"")),f=null}return s=an(b,l,s,v),s.elementType=i,s.type=f,s.lanes=_,s}function vr(i,s,l,f){return i=an(7,i,f,s),i.lanes=l,i}function sp(i,s,l){return i=an(6,i,null,s),i.lanes=l,i}function C0(i){var s=an(18,null,null,0);return s.stateNode=i,s}function ap(i,s,l){return s=an(4,i.children!==null?i.children:[],i.key,s),s.lanes=l,s.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},s}var A0=new WeakMap;function An(i,s){if(typeof i=="object"&&i!==null){var l=A0.get(i);return l!==void 0?l:(s={value:i,source:s,stack:qu(s)},A0.set(i,s),s)}return{value:i,source:s,stack:qu(s)}}var gs=[],vs=0,pc=null,Xa=0,xn=[],Rn=0,wi=null,ho=1,po="";function Ho(i,s){gs[vs++]=Xa,gs[vs++]=pc,pc=i,Xa=s}function x0(i,s,l){xn[Rn++]=ho,xn[Rn++]=po,xn[Rn++]=wi,wi=i;var f=ho;i=po;var v=32-rn(f)-1;f&=~(1<<v),l+=1;var _=32-rn(s)+v;if(30<_){var b=v-v%5;_=(f&(1<<b)-1).toString(32),f>>=b,v-=b,ho=1<<32-rn(s)+v|l<<v|f,po=_+i}else ho=1<<_|l<<v|f,po=i}function lp(i){i.return!==null&&(Ho(i,1),x0(i,1,0))}function up(i){for(;i===pc;)pc=gs[--vs],gs[vs]=null,Xa=gs[--vs],gs[vs]=null;for(;i===wi;)wi=xn[--Rn],xn[Rn]=null,po=xn[--Rn],xn[Rn]=null,ho=xn[--Rn],xn[Rn]=null}function R0(i,s){xn[Rn++]=ho,xn[Rn++]=po,xn[Rn++]=wi,ho=s.id,po=s.overflow,wi=i}var xt=null,nt=null,Le=!1,Ti=null,Mn=!1,cp=Error(o(519));function Ci(i){var s=Error(o(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ja(An(s,i)),cp}function M0(i){var s=i.stateNode,l=i.type,f=i.memoizedProps;switch(s[At]=i,s[qt]=f,l){case"dialog":Oe("cancel",s),Oe("close",s);break;case"iframe":case"object":case"embed":Oe("load",s);break;case"video":case"audio":for(l=0;l<yl.length;l++)Oe(yl[l],s);break;case"source":Oe("error",s);break;case"img":case"image":case"link":Oe("error",s),Oe("load",s);break;case"details":Oe("toggle",s);break;case"input":Oe("invalid",s),G_(s,f.value,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name,!0);break;case"select":Oe("invalid",s);break;case"textarea":Oe("invalid",s),z_(s,f.value,f.defaultValue,f.children)}l=f.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||s.textContent===""+l||f.suppressHydrationWarning===!0||JE(s.textContent,l)?(f.popover!=null&&(Oe("beforetoggle",s),Oe("toggle",s)),f.onScroll!=null&&Oe("scroll",s),f.onScrollEnd!=null&&Oe("scrollend",s),f.onClick!=null&&(s.onclick=Lo),s=!0):s=!1,s||Ci(i,!0)}function N0(i){for(xt=i.return;xt;)switch(xt.tag){case 5:case 31:case 13:Mn=!1;return;case 27:case 3:Mn=!0;return;default:xt=xt.return}}function ys(i){if(i!==xt)return!1;if(!Le)return N0(i),Le=!0,!1;var s=i.tag,l;if((l=s!==3&&s!==27)&&((l=s===5)&&(l=i.type,l=!(l!=="form"&&l!=="button")||Rm(i.type,i.memoizedProps)),l=!l),l&&nt&&Ci(i),N0(i),s===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(o(317));nt=tb(i)}else if(s===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(o(317));nt=tb(i)}else s===27?(s=nt,Hi(i.type)?(i=Om,Om=null,nt=i):nt=s):nt=xt?In(i.stateNode.nextSibling):null;return!0}function yr(){nt=xt=null,Le=!1}function fp(){var i=Ti;return i!==null&&(jt===null?jt=i:jt.push.apply(jt,i),Ti=null),i}function ja(i){Ti===null?Ti=[i]:Ti.push(i)}var dp=k(null),_r=null,Fo=null;function Ai(i,s,l){se(dp,s._currentValue),s._currentValue=l}function $o(i){i._currentValue=dp.current,Y(dp)}function hp(i,s,l){for(;i!==null;){var f=i.alternate;if((i.childLanes&s)!==s?(i.childLanes|=s,f!==null&&(f.childLanes|=s)):f!==null&&(f.childLanes&s)!==s&&(f.childLanes|=s),i===l)break;i=i.return}}function pp(i,s,l,f){var v=i.child;for(v!==null&&(v.return=i);v!==null;){var _=v.dependencies;if(_!==null){var b=v.child;_=_.firstContext;e:for(;_!==null;){var R=_;_=v;for(var P=0;P<s.length;P++)if(R.context===s[P]){_.lanes|=l,R=_.alternate,R!==null&&(R.lanes|=l),hp(_.return,l,i),f||(b=null);break e}_=R.next}}else if(v.tag===18){if(b=v.return,b===null)throw Error(o(341));b.lanes|=l,_=b.alternate,_!==null&&(_.lanes|=l),hp(b,l,i),b=null}else b=v.child;if(b!==null)b.return=v;else for(b=v;b!==null;){if(b===i){b=null;break}if(v=b.sibling,v!==null){v.return=b.return,b=v;break}b=b.return}v=b}}function _s(i,s,l,f){i=null;for(var v=s,_=!1;v!==null;){if(!_){if((v.flags&524288)!==0)_=!0;else if((v.flags&262144)!==0)break}if(v.tag===10){var b=v.alternate;if(b===null)throw Error(o(387));if(b=b.memoizedProps,b!==null){var R=v.type;sn(v.pendingProps.value,b.value)||(i!==null?i.push(R):i=[R])}}else if(v===ve.current){if(b=v.alternate,b===null)throw Error(o(387));b.memoizedState.memoizedState!==v.memoizedState.memoizedState&&(i!==null?i.push(wl):i=[wl])}v=v.return}i!==null&&pp(s,i,l,f),s.flags|=262144}function mc(i){for(i=i.firstContext;i!==null;){if(!sn(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Sr(i){_r=i,Fo=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Rt(i){return I0(_r,i)}function gc(i,s){return _r===null&&Sr(i),I0(i,s)}function I0(i,s){var l=s._currentValue;if(s={context:s,memoizedValue:l,next:null},Fo===null){if(i===null)throw Error(o(308));Fo=s,i.dependencies={lanes:0,firstContext:s},i.flags|=524288}else Fo=Fo.next=s;return l}var y1=typeof AbortController<"u"?AbortController:function(){var i=[],s=this.signal={aborted:!1,addEventListener:function(l,f){i.push(f)}};this.abort=function(){s.aborted=!0,i.forEach(function(l){return l()})}},_1=t.unstable_scheduleCallback,S1=t.unstable_NormalPriority,ft={$$typeof:N,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function mp(){return{controller:new y1,data:new Map,refCount:0}}function Wa(i){i.refCount--,i.refCount===0&&_1(S1,function(){i.controller.abort()})}var Qa=null,gp=0,Ss=0,Es=null;function E1(i,s){if(Qa===null){var l=Qa=[];gp=0,Ss=_m(),Es={status:"pending",value:void 0,then:function(f){l.push(f)}}}return gp++,s.then(D0,D0),s}function D0(){if(--gp===0&&Qa!==null){Es!==null&&(Es.status="fulfilled");var i=Qa;Qa=null,Ss=0,Es=null;for(var s=0;s<i.length;s++)(0,i[s])()}}function b1(i,s){var l=[],f={status:"pending",value:null,reason:null,then:function(v){l.push(v)}};return i.then(function(){f.status="fulfilled",f.value=s;for(var v=0;v<l.length;v++)(0,l[v])(s)},function(v){for(f.status="rejected",f.reason=v,v=0;v<l.length;v++)(0,l[v])(void 0)}),f}var O0=H.S;H.S=function(i,s){gE=Ct(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&E1(i,s),O0!==null&&O0(i,s)};var Er=k(null);function vp(){var i=Er.current;return i!==null?i:Ze.pooledCache}function vc(i,s){s===null?se(Er,Er.current):se(Er,s.pool)}function P0(){var i=vp();return i===null?null:{parent:ft._currentValue,pool:i}}var bs=Error(o(460)),yp=Error(o(474)),yc=Error(o(542)),_c={then:function(){}};function k0(i){return i=i.status,i==="fulfilled"||i==="rejected"}function L0(i,s,l){switch(l=i[l],l===void 0?i.push(s):l!==s&&(s.then(Lo,Lo),s=l),s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,B0(i),i;default:if(typeof s.status=="string")s.then(Lo,Lo);else{if(i=Ze,i!==null&&100<i.shellSuspendCounter)throw Error(o(482));i=s,i.status="pending",i.then(function(f){if(s.status==="pending"){var v=s;v.status="fulfilled",v.value=f}},function(f){if(s.status==="pending"){var v=s;v.status="rejected",v.reason=f}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,B0(i),i}throw wr=s,bs}}function br(i){try{var s=i._init;return s(i._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(wr=l,bs):l}}var wr=null;function U0(){if(wr===null)throw Error(o(459));var i=wr;return wr=null,i}function B0(i){if(i===bs||i===yc)throw Error(o(483))}var ws=null,Za=0;function Sc(i){var s=Za;return Za+=1,ws===null&&(ws=[]),L0(ws,i,s)}function el(i,s){s=s.props.ref,i.ref=s!==void 0?s:null}function Ec(i,s){throw s.$$typeof===S?Error(o(525)):(i=Object.prototype.toString.call(s),Error(o(31,i==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":i)))}function H0(i){function s(F,B){if(i){var $=F.deletions;$===null?(F.deletions=[B],F.flags|=16):$.push(B)}}function l(F,B){if(!i)return null;for(;B!==null;)s(F,B),B=B.sibling;return null}function f(F){for(var B=new Map;F!==null;)F.key!==null?B.set(F.key,F):B.set(F.index,F),F=F.sibling;return B}function v(F,B){return F=Bo(F,B),F.index=0,F.sibling=null,F}function _(F,B,$){return F.index=$,i?($=F.alternate,$!==null?($=$.index,$<B?(F.flags|=67108866,B):$):(F.flags|=67108866,B)):(F.flags|=1048576,B)}function b(F){return i&&F.alternate===null&&(F.flags|=67108866),F}function R(F,B,$,Z){return B===null||B.tag!==6?(B=sp($,F.mode,Z),B.return=F,B):(B=v(B,$),B.return=F,B)}function P(F,B,$,Z){var _e=$.type;return _e===A?j(F,B,$.props.children,Z,$.key):B!==null&&(B.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===q&&br(_e)===B.type)?(B=v(B,$.props),el(B,$),B.return=F,B):(B=hc($.type,$.key,$.props,null,F.mode,Z),el(B,$),B.return=F,B)}function G(F,B,$,Z){return B===null||B.tag!==4||B.stateNode.containerInfo!==$.containerInfo||B.stateNode.implementation!==$.implementation?(B=ap($,F.mode,Z),B.return=F,B):(B=v(B,$.children||[]),B.return=F,B)}function j(F,B,$,Z,_e){return B===null||B.tag!==7?(B=vr($,F.mode,Z,_e),B.return=F,B):(B=v(B,$),B.return=F,B)}function te(F,B,$){if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return B=sp(""+B,F.mode,$),B.return=F,B;if(typeof B=="object"&&B!==null){switch(B.$$typeof){case E:return $=hc(B.type,B.key,B.props,null,F.mode,$),el($,B),$.return=F,$;case C:return B=ap(B,F.mode,$),B.return=F,B;case q:return B=br(B),te(F,B,$)}if(de(B)||re(B))return B=vr(B,F.mode,$,null),B.return=F,B;if(typeof B.then=="function")return te(F,Sc(B),$);if(B.$$typeof===N)return te(F,gc(F,B),$);Ec(F,B)}return null}function z(F,B,$,Z){var _e=B!==null?B.key:null;if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return _e!==null?null:R(F,B,""+$,Z);if(typeof $=="object"&&$!==null){switch($.$$typeof){case E:return $.key===_e?P(F,B,$,Z):null;case C:return $.key===_e?G(F,B,$,Z):null;case q:return $=br($),z(F,B,$,Z)}if(de($)||re($))return _e!==null?null:j(F,B,$,Z,null);if(typeof $.then=="function")return z(F,B,Sc($),Z);if($.$$typeof===N)return z(F,B,gc(F,$),Z);Ec(F,$)}return null}function K(F,B,$,Z,_e){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return F=F.get($)||null,R(B,F,""+Z,_e);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case E:return F=F.get(Z.key===null?$:Z.key)||null,P(B,F,Z,_e);case C:return F=F.get(Z.key===null?$:Z.key)||null,G(B,F,Z,_e);case q:return Z=br(Z),K(F,B,$,Z,_e)}if(de(Z)||re(Z))return F=F.get($)||null,j(B,F,Z,_e,null);if(typeof Z.then=="function")return K(F,B,$,Sc(Z),_e);if(Z.$$typeof===N)return K(F,B,$,gc(B,Z),_e);Ec(B,Z)}return null}function he(F,B,$,Z){for(var _e=null,Fe=null,ge=B,Re=B=0,ke=null;ge!==null&&Re<$.length;Re++){ge.index>Re?(ke=ge,ge=null):ke=ge.sibling;var $e=z(F,ge,$[Re],Z);if($e===null){ge===null&&(ge=ke);break}i&&ge&&$e.alternate===null&&s(F,ge),B=_($e,B,Re),Fe===null?_e=$e:Fe.sibling=$e,Fe=$e,ge=ke}if(Re===$.length)return l(F,ge),Le&&Ho(F,Re),_e;if(ge===null){for(;Re<$.length;Re++)ge=te(F,$[Re],Z),ge!==null&&(B=_(ge,B,Re),Fe===null?_e=ge:Fe.sibling=ge,Fe=ge);return Le&&Ho(F,Re),_e}for(ge=f(ge);Re<$.length;Re++)ke=K(ge,F,Re,$[Re],Z),ke!==null&&(i&&ke.alternate!==null&&ge.delete(ke.key===null?Re:ke.key),B=_(ke,B,Re),Fe===null?_e=ke:Fe.sibling=ke,Fe=ke);return i&&ge.forEach(function(zi){return s(F,zi)}),Le&&Ho(F,Re),_e}function be(F,B,$,Z){if($==null)throw Error(o(151));for(var _e=null,Fe=null,ge=B,Re=B=0,ke=null,$e=$.next();ge!==null&&!$e.done;Re++,$e=$.next()){ge.index>Re?(ke=ge,ge=null):ke=ge.sibling;var zi=z(F,ge,$e.value,Z);if(zi===null){ge===null&&(ge=ke);break}i&&ge&&zi.alternate===null&&s(F,ge),B=_(zi,B,Re),Fe===null?_e=zi:Fe.sibling=zi,Fe=zi,ge=ke}if($e.done)return l(F,ge),Le&&Ho(F,Re),_e;if(ge===null){for(;!$e.done;Re++,$e=$.next())$e=te(F,$e.value,Z),$e!==null&&(B=_($e,B,Re),Fe===null?_e=$e:Fe.sibling=$e,Fe=$e);return Le&&Ho(F,Re),_e}for(ge=f(ge);!$e.done;Re++,$e=$.next())$e=K(ge,F,Re,$e.value,Z),$e!==null&&(i&&$e.alternate!==null&&ge.delete($e.key===null?Re:$e.key),B=_($e,B,Re),Fe===null?_e=$e:Fe.sibling=$e,Fe=$e);return i&&ge.forEach(function(OP){return s(F,OP)}),Le&&Ho(F,Re),_e}function We(F,B,$,Z){if(typeof $=="object"&&$!==null&&$.type===A&&$.key===null&&($=$.props.children),typeof $=="object"&&$!==null){switch($.$$typeof){case E:e:{for(var _e=$.key;B!==null;){if(B.key===_e){if(_e=$.type,_e===A){if(B.tag===7){l(F,B.sibling),Z=v(B,$.props.children),Z.return=F,F=Z;break e}}else if(B.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===q&&br(_e)===B.type){l(F,B.sibling),Z=v(B,$.props),el(Z,$),Z.return=F,F=Z;break e}l(F,B);break}else s(F,B);B=B.sibling}$.type===A?(Z=vr($.props.children,F.mode,Z,$.key),Z.return=F,F=Z):(Z=hc($.type,$.key,$.props,null,F.mode,Z),el(Z,$),Z.return=F,F=Z)}return b(F);case C:e:{for(_e=$.key;B!==null;){if(B.key===_e)if(B.tag===4&&B.stateNode.containerInfo===$.containerInfo&&B.stateNode.implementation===$.implementation){l(F,B.sibling),Z=v(B,$.children||[]),Z.return=F,F=Z;break e}else{l(F,B);break}else s(F,B);B=B.sibling}Z=ap($,F.mode,Z),Z.return=F,F=Z}return b(F);case q:return $=br($),We(F,B,$,Z)}if(de($))return he(F,B,$,Z);if(re($)){if(_e=re($),typeof _e!="function")throw Error(o(150));return $=_e.call($),be(F,B,$,Z)}if(typeof $.then=="function")return We(F,B,Sc($),Z);if($.$$typeof===N)return We(F,B,gc(F,$),Z);Ec(F,$)}return typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint"?($=""+$,B!==null&&B.tag===6?(l(F,B.sibling),Z=v(B,$),Z.return=F,F=Z):(l(F,B),Z=sp($,F.mode,Z),Z.return=F,F=Z),b(F)):l(F,B)}return function(F,B,$,Z){try{Za=0;var _e=We(F,B,$,Z);return ws=null,_e}catch(ge){if(ge===bs||ge===yc)throw ge;var Fe=an(29,ge,null,F.mode);return Fe.lanes=Z,Fe.return=F,Fe}finally{}}}var Tr=H0(!0),F0=H0(!1),xi=!1;function _p(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Sp(i,s){i=i.updateQueue,s.updateQueue===i&&(s.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Ri(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function Mi(i,s,l){var f=i.updateQueue;if(f===null)return null;if(f=f.shared,(Je&2)!==0){var v=f.pending;return v===null?s.next=s:(s.next=v.next,v.next=s),f.pending=s,s=dc(i),w0(i,null,l),s}return fc(i,f,s,l),dc(i)}function tl(i,s,l){if(s=s.updateQueue,s!==null&&(s=s.shared,(l&4194048)!==0)){var f=s.lanes;f&=i.pendingLanes,l|=f,s.lanes=l,I_(i,l)}}function Ep(i,s){var l=i.updateQueue,f=i.alternate;if(f!==null&&(f=f.updateQueue,l===f)){var v=null,_=null;if(l=l.firstBaseUpdate,l!==null){do{var b={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};_===null?v=_=b:_=_.next=b,l=l.next}while(l!==null);_===null?v=_=s:_=_.next=s}else v=_=s;l={baseState:f.baseState,firstBaseUpdate:v,lastBaseUpdate:_,shared:f.shared,callbacks:f.callbacks},i.updateQueue=l;return}i=l.lastBaseUpdate,i===null?l.firstBaseUpdate=s:i.next=s,l.lastBaseUpdate=s}var bp=!1;function nl(){if(bp){var i=Es;if(i!==null)throw i}}function ol(i,s,l,f){bp=!1;var v=i.updateQueue;xi=!1;var _=v.firstBaseUpdate,b=v.lastBaseUpdate,R=v.shared.pending;if(R!==null){v.shared.pending=null;var P=R,G=P.next;P.next=null,b===null?_=G:b.next=G,b=P;var j=i.alternate;j!==null&&(j=j.updateQueue,R=j.lastBaseUpdate,R!==b&&(R===null?j.firstBaseUpdate=G:R.next=G,j.lastBaseUpdate=P))}if(_!==null){var te=v.baseState;b=0,j=G=P=null,R=_;do{var z=R.lane&-536870913,K=z!==R.lane;if(K?(Pe&z)===z:(f&z)===z){z!==0&&z===Ss&&(bp=!0),j!==null&&(j=j.next={lane:0,tag:R.tag,payload:R.payload,callback:null,next:null});e:{var he=i,be=R;z=s;var We=l;switch(be.tag){case 1:if(he=be.payload,typeof he=="function"){te=he.call(We,te,z);break e}te=he;break e;case 3:he.flags=he.flags&-65537|128;case 0:if(he=be.payload,z=typeof he=="function"?he.call(We,te,z):he,z==null)break e;te=y({},te,z);break e;case 2:xi=!0}}z=R.callback,z!==null&&(i.flags|=64,K&&(i.flags|=8192),K=v.callbacks,K===null?v.callbacks=[z]:K.push(z))}else K={lane:z,tag:R.tag,payload:R.payload,callback:R.callback,next:null},j===null?(G=j=K,P=te):j=j.next=K,b|=z;if(R=R.next,R===null){if(R=v.shared.pending,R===null)break;K=R,R=K.next,K.next=null,v.lastBaseUpdate=K,v.shared.pending=null}}while(!0);j===null&&(P=te),v.baseState=P,v.firstBaseUpdate=G,v.lastBaseUpdate=j,_===null&&(v.shared.lanes=0),Pi|=b,i.lanes=b,i.memoizedState=te}}function $0(i,s){if(typeof i!="function")throw Error(o(191,i));i.call(s)}function G0(i,s){var l=i.callbacks;if(l!==null)for(i.callbacks=null,i=0;i<l.length;i++)$0(l[i],s)}var Ts=k(null),bc=k(0);function V0(i,s){i=jo,se(bc,i),se(Ts,s),jo=i|s.baseLanes}function wp(){se(bc,jo),se(Ts,Ts.current)}function Tp(){jo=bc.current,Y(Ts),Y(bc)}var ln=k(null),Nn=null;function Ni(i){var s=i.alternate;se(lt,lt.current&1),se(ln,i),Nn===null&&(s===null||Ts.current!==null||s.memoizedState!==null)&&(Nn=i)}function Cp(i){se(lt,lt.current),se(ln,i),Nn===null&&(Nn=i)}function z0(i){i.tag===22?(se(lt,lt.current),se(ln,i),Nn===null&&(Nn=i)):Ii()}function Ii(){se(lt,lt.current),se(ln,ln.current)}function un(i){Y(ln),Nn===i&&(Nn=null),Y(lt)}var lt=k(0);function wc(i){for(var s=i;s!==null;){if(s.tag===13){var l=s.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||Im(l)||Dm(l)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Go=0,xe=null,Xe=null,dt=null,Tc=!1,Cs=!1,Cr=!1,Cc=0,il=0,As=null,w1=0;function st(){throw Error(o(321))}function Ap(i,s){if(s===null)return!1;for(var l=0;l<s.length&&l<i.length;l++)if(!sn(i[l],s[l]))return!1;return!0}function xp(i,s,l,f,v,_){return Go=_,xe=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,H.H=i===null||i.memoizedState===null?xS:Gp,Cr=!1,_=l(f,v),Cr=!1,Cs&&(_=J0(s,l,f,v)),q0(i),_}function q0(i){H.H=al;var s=Xe!==null&&Xe.next!==null;if(Go=0,dt=Xe=xe=null,Tc=!1,il=0,As=null,s)throw Error(o(300));i===null||ht||(i=i.dependencies,i!==null&&mc(i)&&(ht=!0))}function J0(i,s,l,f){xe=i;var v=0;do{if(Cs&&(As=null),il=0,Cs=!1,25<=v)throw Error(o(301));if(v+=1,dt=Xe=null,i.updateQueue!=null){var _=i.updateQueue;_.lastEffect=null,_.events=null,_.stores=null,_.memoCache!=null&&(_.memoCache.index=0)}H.H=RS,_=s(l,f)}while(Cs);return _}function T1(){var i=H.H,s=i.useState()[0];return s=typeof s.then=="function"?rl(s):s,i=i.useState()[0],(Xe!==null?Xe.memoizedState:null)!==i&&(xe.flags|=1024),s}function Rp(){var i=Cc!==0;return Cc=0,i}function Mp(i,s,l){s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~l}function Np(i){if(Tc){for(i=i.memoizedState;i!==null;){var s=i.queue;s!==null&&(s.pending=null),i=i.next}Tc=!1}Go=0,dt=Xe=xe=null,Cs=!1,il=Cc=0,As=null}function Bt(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return dt===null?xe.memoizedState=dt=i:dt=dt.next=i,dt}function ut(){if(Xe===null){var i=xe.alternate;i=i!==null?i.memoizedState:null}else i=Xe.next;var s=dt===null?xe.memoizedState:dt.next;if(s!==null)dt=s,Xe=i;else{if(i===null)throw xe.alternate===null?Error(o(467)):Error(o(310));Xe=i,i={memoizedState:Xe.memoizedState,baseState:Xe.baseState,baseQueue:Xe.baseQueue,queue:Xe.queue,next:null},dt===null?xe.memoizedState=dt=i:dt=dt.next=i}return dt}function Ac(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function rl(i){var s=il;return il+=1,As===null&&(As=[]),i=L0(As,i,s),s=xe,(dt===null?s.memoizedState:dt.next)===null&&(s=s.alternate,H.H=s===null||s.memoizedState===null?xS:Gp),i}function xc(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return rl(i);if(i.$$typeof===N)return Rt(i)}throw Error(o(438,String(i)))}function Ip(i){var s=null,l=xe.updateQueue;if(l!==null&&(s=l.memoCache),s==null){var f=xe.alternate;f!==null&&(f=f.updateQueue,f!==null&&(f=f.memoCache,f!=null&&(s={data:f.data.map(function(v){return v.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),l===null&&(l=Ac(),xe.updateQueue=l),l.memoCache=s,l=s.data[s.index],l===void 0)for(l=s.data[s.index]=Array(i),f=0;f<i;f++)l[f]=X;return s.index++,l}function Vo(i,s){return typeof s=="function"?s(i):s}function Rc(i){var s=ut();return Dp(s,Xe,i)}function Dp(i,s,l){var f=i.queue;if(f===null)throw Error(o(311));f.lastRenderedReducer=l;var v=i.baseQueue,_=f.pending;if(_!==null){if(v!==null){var b=v.next;v.next=_.next,_.next=b}s.baseQueue=v=_,f.pending=null}if(_=i.baseState,v===null)i.memoizedState=_;else{s=v.next;var R=b=null,P=null,G=s,j=!1;do{var te=G.lane&-536870913;if(te!==G.lane?(Pe&te)===te:(Go&te)===te){var z=G.revertLane;if(z===0)P!==null&&(P=P.next={lane:0,revertLane:0,gesture:null,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null}),te===Ss&&(j=!0);else if((Go&z)===z){G=G.next,z===Ss&&(j=!0);continue}else te={lane:0,revertLane:G.revertLane,gesture:null,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},P===null?(R=P=te,b=_):P=P.next=te,xe.lanes|=z,Pi|=z;te=G.action,Cr&&l(_,te),_=G.hasEagerState?G.eagerState:l(_,te)}else z={lane:te,revertLane:G.revertLane,gesture:G.gesture,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},P===null?(R=P=z,b=_):P=P.next=z,xe.lanes|=te,Pi|=te;G=G.next}while(G!==null&&G!==s);if(P===null?b=_:P.next=R,!sn(_,i.memoizedState)&&(ht=!0,j&&(l=Es,l!==null)))throw l;i.memoizedState=_,i.baseState=b,i.baseQueue=P,f.lastRenderedState=_}return v===null&&(f.lanes=0),[i.memoizedState,f.dispatch]}function Op(i){var s=ut(),l=s.queue;if(l===null)throw Error(o(311));l.lastRenderedReducer=i;var f=l.dispatch,v=l.pending,_=s.memoizedState;if(v!==null){l.pending=null;var b=v=v.next;do _=i(_,b.action),b=b.next;while(b!==v);sn(_,s.memoizedState)||(ht=!0),s.memoizedState=_,s.baseQueue===null&&(s.baseState=_),l.lastRenderedState=_}return[_,f]}function K0(i,s,l){var f=xe,v=ut(),_=Le;if(_){if(l===void 0)throw Error(o(407));l=l()}else l=s();var b=!sn((Xe||v).memoizedState,l);if(b&&(v.memoizedState=l,ht=!0),v=v.queue,Lp(j0.bind(null,f,v,i),[i]),v.getSnapshot!==s||b||dt!==null&&dt.memoizedState.tag&1){if(f.flags|=2048,xs(9,{destroy:void 0},X0.bind(null,f,v,l,s),null),Ze===null)throw Error(o(349));_||(Go&127)!==0||Y0(f,s,l)}return l}function Y0(i,s,l){i.flags|=16384,i={getSnapshot:s,value:l},s=xe.updateQueue,s===null?(s=Ac(),xe.updateQueue=s,s.stores=[i]):(l=s.stores,l===null?s.stores=[i]:l.push(i))}function X0(i,s,l,f){s.value=l,s.getSnapshot=f,W0(s)&&Q0(i)}function j0(i,s,l){return l(function(){W0(s)&&Q0(i)})}function W0(i){var s=i.getSnapshot;i=i.value;try{var l=s();return!sn(i,l)}catch{return!0}}function Q0(i){var s=gr(i,2);s!==null&&Wt(s,i,2)}function Pp(i){var s=Bt();if(typeof i=="function"){var l=i;if(i=l(),Cr){Si(!0);try{l()}finally{Si(!1)}}}return s.memoizedState=s.baseState=i,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vo,lastRenderedState:i},s}function Z0(i,s,l,f){return i.baseState=l,Dp(i,Xe,typeof f=="function"?f:Vo)}function C1(i,s,l,f,v){if(Ic(i))throw Error(o(485));if(i=s.action,i!==null){var _={payload:v,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(b){_.listeners.push(b)}};H.T!==null?l(!0):_.isTransition=!1,f(_),l=s.pending,l===null?(_.next=s.pending=_,eS(s,_)):(_.next=l.next,s.pending=l.next=_)}}function eS(i,s){var l=s.action,f=s.payload,v=i.state;if(s.isTransition){var _=H.T,b={};H.T=b;try{var R=l(v,f),P=H.S;P!==null&&P(b,R),tS(i,s,R)}catch(G){kp(i,s,G)}finally{_!==null&&b.types!==null&&(_.types=b.types),H.T=_}}else try{_=l(v,f),tS(i,s,_)}catch(G){kp(i,s,G)}}function tS(i,s,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(f){nS(i,s,f)},function(f){return kp(i,s,f)}):nS(i,s,l)}function nS(i,s,l){s.status="fulfilled",s.value=l,oS(s),i.state=l,s=i.pending,s!==null&&(l=s.next,l===s?i.pending=null:(l=l.next,s.next=l,eS(i,l)))}function kp(i,s,l){var f=i.pending;if(i.pending=null,f!==null){f=f.next;do s.status="rejected",s.reason=l,oS(s),s=s.next;while(s!==f)}i.action=null}function oS(i){i=i.listeners;for(var s=0;s<i.length;s++)(0,i[s])()}function iS(i,s){return s}function rS(i,s){if(Le){var l=Ze.formState;if(l!==null){e:{var f=xe;if(Le){if(nt){t:{for(var v=nt,_=Mn;v.nodeType!==8;){if(!_){v=null;break t}if(v=In(v.nextSibling),v===null){v=null;break t}}_=v.data,v=_==="F!"||_==="F"?v:null}if(v){nt=In(v.nextSibling),f=v.data==="F!";break e}}Ci(f)}f=!1}f&&(s=l[0])}}return l=Bt(),l.memoizedState=l.baseState=s,f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:iS,lastRenderedState:s},l.queue=f,l=TS.bind(null,xe,f),f.dispatch=l,f=Pp(!1),_=$p.bind(null,xe,!1,f.queue),f=Bt(),v={state:s,dispatch:null,action:i,pending:null},f.queue=v,l=C1.bind(null,xe,v,_,l),v.dispatch=l,f.memoizedState=i,[s,l,!1]}function sS(i){var s=ut();return aS(s,Xe,i)}function aS(i,s,l){if(s=Dp(i,s,iS)[0],i=Rc(Vo)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var f=rl(s)}catch(b){throw b===bs?yc:b}else f=s;s=ut();var v=s.queue,_=v.dispatch;return l!==s.memoizedState&&(xe.flags|=2048,xs(9,{destroy:void 0},A1.bind(null,v,l),null)),[f,_,i]}function A1(i,s){i.action=s}function lS(i){var s=ut(),l=Xe;if(l!==null)return aS(s,l,i);ut(),s=s.memoizedState,l=ut();var f=l.queue.dispatch;return l.memoizedState=i,[s,f,!1]}function xs(i,s,l,f){return i={tag:i,create:l,deps:f,inst:s,next:null},s=xe.updateQueue,s===null&&(s=Ac(),xe.updateQueue=s),l=s.lastEffect,l===null?s.lastEffect=i.next=i:(f=l.next,l.next=i,i.next=f,s.lastEffect=i),i}function uS(){return ut().memoizedState}function Mc(i,s,l,f){var v=Bt();xe.flags|=i,v.memoizedState=xs(1|s,{destroy:void 0},l,f===void 0?null:f)}function Nc(i,s,l,f){var v=ut();f=f===void 0?null:f;var _=v.memoizedState.inst;Xe!==null&&f!==null&&Ap(f,Xe.memoizedState.deps)?v.memoizedState=xs(s,_,l,f):(xe.flags|=i,v.memoizedState=xs(1|s,_,l,f))}function cS(i,s){Mc(8390656,8,i,s)}function Lp(i,s){Nc(2048,8,i,s)}function x1(i){xe.flags|=4;var s=xe.updateQueue;if(s===null)s=Ac(),xe.updateQueue=s,s.events=[i];else{var l=s.events;l===null?s.events=[i]:l.push(i)}}function fS(i){var s=ut().memoizedState;return x1({ref:s,nextImpl:i}),function(){if((Je&2)!==0)throw Error(o(440));return s.impl.apply(void 0,arguments)}}function dS(i,s){return Nc(4,2,i,s)}function hS(i,s){return Nc(4,4,i,s)}function pS(i,s){if(typeof s=="function"){i=i();var l=s(i);return function(){typeof l=="function"?l():s(null)}}if(s!=null)return i=i(),s.current=i,function(){s.current=null}}function mS(i,s,l){l=l!=null?l.concat([i]):null,Nc(4,4,pS.bind(null,s,i),l)}function Up(){}function gS(i,s){var l=ut();s=s===void 0?null:s;var f=l.memoizedState;return s!==null&&Ap(s,f[1])?f[0]:(l.memoizedState=[i,s],i)}function vS(i,s){var l=ut();s=s===void 0?null:s;var f=l.memoizedState;if(s!==null&&Ap(s,f[1]))return f[0];if(f=i(),Cr){Si(!0);try{i()}finally{Si(!1)}}return l.memoizedState=[f,s],f}function Bp(i,s,l){return l===void 0||(Go&1073741824)!==0&&(Pe&261930)===0?i.memoizedState=s:(i.memoizedState=l,i=yE(),xe.lanes|=i,Pi|=i,l)}function yS(i,s,l,f){return sn(l,s)?l:Ts.current!==null?(i=Bp(i,l,f),sn(i,s)||(ht=!0),i):(Go&42)===0||(Go&1073741824)!==0&&(Pe&261930)===0?(ht=!0,i.memoizedState=l):(i=yE(),xe.lanes|=i,Pi|=i,s)}function _S(i,s,l,f,v){var _=Q.p;Q.p=_!==0&&8>_?_:8;var b=H.T,R={};H.T=R,$p(i,!1,s,l);try{var P=v(),G=H.S;if(G!==null&&G(R,P),P!==null&&typeof P=="object"&&typeof P.then=="function"){var j=b1(P,f);sl(i,s,j,dn(i))}else sl(i,s,f,dn(i))}catch(te){sl(i,s,{then:function(){},status:"rejected",reason:te},dn())}finally{Q.p=_,b!==null&&R.types!==null&&(b.types=R.types),H.T=b}}function R1(){}function Hp(i,s,l,f){if(i.tag!==5)throw Error(o(476));var v=SS(i).queue;_S(i,v,s,ee,l===null?R1:function(){return ES(i),l(f)})}function SS(i){var s=i.memoizedState;if(s!==null)return s;s={memoizedState:ee,baseState:ee,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vo,lastRenderedState:ee},next:null};var l={};return s.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vo,lastRenderedState:l},next:null},i.memoizedState=s,i=i.alternate,i!==null&&(i.memoizedState=s),s}function ES(i){var s=SS(i);s.next===null&&(s=i.alternate.memoizedState),sl(i,s.next.queue,{},dn())}function Fp(){return Rt(wl)}function bS(){return ut().memoizedState}function wS(){return ut().memoizedState}function M1(i){for(var s=i.return;s!==null;){switch(s.tag){case 24:case 3:var l=dn();i=Ri(l);var f=Mi(s,i,l);f!==null&&(Wt(f,s,l),tl(f,s,l)),s={cache:mp()},i.payload=s;return}s=s.return}}function N1(i,s,l){var f=dn();l={lane:f,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Ic(i)?CS(s,l):(l=ip(i,s,l,f),l!==null&&(Wt(l,i,f),AS(l,s,f)))}function TS(i,s,l){var f=dn();sl(i,s,l,f)}function sl(i,s,l,f){var v={lane:f,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(Ic(i))CS(s,v);else{var _=i.alternate;if(i.lanes===0&&(_===null||_.lanes===0)&&(_=s.lastRenderedReducer,_!==null))try{var b=s.lastRenderedState,R=_(b,l);if(v.hasEagerState=!0,v.eagerState=R,sn(R,b))return fc(i,s,v,0),Ze===null&&cc(),!1}catch{}finally{}if(l=ip(i,s,v,f),l!==null)return Wt(l,i,f),AS(l,s,f),!0}return!1}function $p(i,s,l,f){if(f={lane:2,revertLane:_m(),gesture:null,action:f,hasEagerState:!1,eagerState:null,next:null},Ic(i)){if(s)throw Error(o(479))}else s=ip(i,l,f,2),s!==null&&Wt(s,i,2)}function Ic(i){var s=i.alternate;return i===xe||s!==null&&s===xe}function CS(i,s){Cs=Tc=!0;var l=i.pending;l===null?s.next=s:(s.next=l.next,l.next=s),i.pending=s}function AS(i,s,l){if((l&4194048)!==0){var f=s.lanes;f&=i.pendingLanes,l|=f,s.lanes=l,I_(i,l)}}var al={readContext:Rt,use:xc,useCallback:st,useContext:st,useEffect:st,useImperativeHandle:st,useLayoutEffect:st,useInsertionEffect:st,useMemo:st,useReducer:st,useRef:st,useState:st,useDebugValue:st,useDeferredValue:st,useTransition:st,useSyncExternalStore:st,useId:st,useHostTransitionStatus:st,useFormState:st,useActionState:st,useOptimistic:st,useMemoCache:st,useCacheRefresh:st};al.useEffectEvent=st;var xS={readContext:Rt,use:xc,useCallback:function(i,s){return Bt().memoizedState=[i,s===void 0?null:s],i},useContext:Rt,useEffect:cS,useImperativeHandle:function(i,s,l){l=l!=null?l.concat([i]):null,Mc(4194308,4,pS.bind(null,s,i),l)},useLayoutEffect:function(i,s){return Mc(4194308,4,i,s)},useInsertionEffect:function(i,s){Mc(4,2,i,s)},useMemo:function(i,s){var l=Bt();s=s===void 0?null:s;var f=i();if(Cr){Si(!0);try{i()}finally{Si(!1)}}return l.memoizedState=[f,s],f},useReducer:function(i,s,l){var f=Bt();if(l!==void 0){var v=l(s);if(Cr){Si(!0);try{l(s)}finally{Si(!1)}}}else v=s;return f.memoizedState=f.baseState=v,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:v},f.queue=i,i=i.dispatch=N1.bind(null,xe,i),[f.memoizedState,i]},useRef:function(i){var s=Bt();return i={current:i},s.memoizedState=i},useState:function(i){i=Pp(i);var s=i.queue,l=TS.bind(null,xe,s);return s.dispatch=l,[i.memoizedState,l]},useDebugValue:Up,useDeferredValue:function(i,s){var l=Bt();return Bp(l,i,s)},useTransition:function(){var i=Pp(!1);return i=_S.bind(null,xe,i.queue,!0,!1),Bt().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,s,l){var f=xe,v=Bt();if(Le){if(l===void 0)throw Error(o(407));l=l()}else{if(l=s(),Ze===null)throw Error(o(349));(Pe&127)!==0||Y0(f,s,l)}v.memoizedState=l;var _={value:l,getSnapshot:s};return v.queue=_,cS(j0.bind(null,f,_,i),[i]),f.flags|=2048,xs(9,{destroy:void 0},X0.bind(null,f,_,l,s),null),l},useId:function(){var i=Bt(),s=Ze.identifierPrefix;if(Le){var l=po,f=ho;l=(f&~(1<<32-rn(f)-1)).toString(32)+l,s="_"+s+"R_"+l,l=Cc++,0<l&&(s+="H"+l.toString(32)),s+="_"}else l=w1++,s="_"+s+"r_"+l.toString(32)+"_";return i.memoizedState=s},useHostTransitionStatus:Fp,useFormState:rS,useActionState:rS,useOptimistic:function(i){var s=Bt();s.memoizedState=s.baseState=i;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=l,s=$p.bind(null,xe,!0,l),l.dispatch=s,[i,s]},useMemoCache:Ip,useCacheRefresh:function(){return Bt().memoizedState=M1.bind(null,xe)},useEffectEvent:function(i){var s=Bt(),l={impl:i};return s.memoizedState=l,function(){if((Je&2)!==0)throw Error(o(440));return l.impl.apply(void 0,arguments)}}},Gp={readContext:Rt,use:xc,useCallback:gS,useContext:Rt,useEffect:Lp,useImperativeHandle:mS,useInsertionEffect:dS,useLayoutEffect:hS,useMemo:vS,useReducer:Rc,useRef:uS,useState:function(){return Rc(Vo)},useDebugValue:Up,useDeferredValue:function(i,s){var l=ut();return yS(l,Xe.memoizedState,i,s)},useTransition:function(){var i=Rc(Vo)[0],s=ut().memoizedState;return[typeof i=="boolean"?i:rl(i),s]},useSyncExternalStore:K0,useId:bS,useHostTransitionStatus:Fp,useFormState:sS,useActionState:sS,useOptimistic:function(i,s){var l=ut();return Z0(l,Xe,i,s)},useMemoCache:Ip,useCacheRefresh:wS};Gp.useEffectEvent=fS;var RS={readContext:Rt,use:xc,useCallback:gS,useContext:Rt,useEffect:Lp,useImperativeHandle:mS,useInsertionEffect:dS,useLayoutEffect:hS,useMemo:vS,useReducer:Op,useRef:uS,useState:function(){return Op(Vo)},useDebugValue:Up,useDeferredValue:function(i,s){var l=ut();return Xe===null?Bp(l,i,s):yS(l,Xe.memoizedState,i,s)},useTransition:function(){var i=Op(Vo)[0],s=ut().memoizedState;return[typeof i=="boolean"?i:rl(i),s]},useSyncExternalStore:K0,useId:bS,useHostTransitionStatus:Fp,useFormState:lS,useActionState:lS,useOptimistic:function(i,s){var l=ut();return Xe!==null?Z0(l,Xe,i,s):(l.baseState=i,[i,l.queue.dispatch])},useMemoCache:Ip,useCacheRefresh:wS};RS.useEffectEvent=fS;function Vp(i,s,l,f){s=i.memoizedState,l=l(f,s),l=l==null?s:y({},s,l),i.memoizedState=l,i.lanes===0&&(i.updateQueue.baseState=l)}var zp={enqueueSetState:function(i,s,l){i=i._reactInternals;var f=dn(),v=Ri(f);v.payload=s,l!=null&&(v.callback=l),s=Mi(i,v,f),s!==null&&(Wt(s,i,f),tl(s,i,f))},enqueueReplaceState:function(i,s,l){i=i._reactInternals;var f=dn(),v=Ri(f);v.tag=1,v.payload=s,l!=null&&(v.callback=l),s=Mi(i,v,f),s!==null&&(Wt(s,i,f),tl(s,i,f))},enqueueForceUpdate:function(i,s){i=i._reactInternals;var l=dn(),f=Ri(l);f.tag=2,s!=null&&(f.callback=s),s=Mi(i,f,l),s!==null&&(Wt(s,i,l),tl(s,i,l))}};function MS(i,s,l,f,v,_,b){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(f,_,b):s.prototype&&s.prototype.isPureReactComponent?!Ka(l,f)||!Ka(v,_):!0}function NS(i,s,l,f){i=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(l,f),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(l,f),s.state!==i&&zp.enqueueReplaceState(s,s.state,null)}function Ar(i,s){var l=s;if("ref"in s){l={};for(var f in s)f!=="ref"&&(l[f]=s[f])}if(i=i.defaultProps){l===s&&(l=y({},l));for(var v in i)l[v]===void 0&&(l[v]=i[v])}return l}function IS(i){uc(i)}function DS(i){console.error(i)}function OS(i){uc(i)}function Dc(i,s){try{var l=i.onUncaughtError;l(s.value,{componentStack:s.stack})}catch(f){setTimeout(function(){throw f})}}function PS(i,s,l){try{var f=i.onCaughtError;f(l.value,{componentStack:l.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(v){setTimeout(function(){throw v})}}function qp(i,s,l){return l=Ri(l),l.tag=3,l.payload={element:null},l.callback=function(){Dc(i,s)},l}function kS(i){return i=Ri(i),i.tag=3,i}function LS(i,s,l,f){var v=l.type.getDerivedStateFromError;if(typeof v=="function"){var _=f.value;i.payload=function(){return v(_)},i.callback=function(){PS(s,l,f)}}var b=l.stateNode;b!==null&&typeof b.componentDidCatch=="function"&&(i.callback=function(){PS(s,l,f),typeof v!="function"&&(ki===null?ki=new Set([this]):ki.add(this));var R=f.stack;this.componentDidCatch(f.value,{componentStack:R!==null?R:""})})}function I1(i,s,l,f,v){if(l.flags|=32768,f!==null&&typeof f=="object"&&typeof f.then=="function"){if(s=l.alternate,s!==null&&_s(s,l,v,!0),l=ln.current,l!==null){switch(l.tag){case 31:case 13:return Nn===null?zc():l.alternate===null&&at===0&&(at=3),l.flags&=-257,l.flags|=65536,l.lanes=v,f===_c?l.flags|=16384:(s=l.updateQueue,s===null?l.updateQueue=new Set([f]):s.add(f),gm(i,f,v)),!1;case 22:return l.flags|=65536,f===_c?l.flags|=16384:(s=l.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([f])},l.updateQueue=s):(l=s.retryQueue,l===null?s.retryQueue=new Set([f]):l.add(f)),gm(i,f,v)),!1}throw Error(o(435,l.tag))}return gm(i,f,v),zc(),!1}if(Le)return s=ln.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=v,f!==cp&&(i=Error(o(422),{cause:f}),ja(An(i,l)))):(f!==cp&&(s=Error(o(423),{cause:f}),ja(An(s,l))),i=i.current.alternate,i.flags|=65536,v&=-v,i.lanes|=v,f=An(f,l),v=qp(i.stateNode,f,v),Ep(i,v),at!==4&&(at=2)),!1;var _=Error(o(520),{cause:f});if(_=An(_,l),ml===null?ml=[_]:ml.push(_),at!==4&&(at=2),s===null)return!0;f=An(f,l),l=s;do{switch(l.tag){case 3:return l.flags|=65536,i=v&-v,l.lanes|=i,i=qp(l.stateNode,f,i),Ep(l,i),!1;case 1:if(s=l.type,_=l.stateNode,(l.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(ki===null||!ki.has(_))))return l.flags|=65536,v&=-v,l.lanes|=v,v=kS(v),LS(v,i,l,f),Ep(l,v),!1}l=l.return}while(l!==null);return!1}var Jp=Error(o(461)),ht=!1;function Mt(i,s,l,f){s.child=i===null?F0(s,null,l,f):Tr(s,i.child,l,f)}function US(i,s,l,f,v){l=l.render;var _=s.ref;if("ref"in f){var b={};for(var R in f)R!=="ref"&&(b[R]=f[R])}else b=f;return Sr(s),f=xp(i,s,l,b,_,v),R=Rp(),i!==null&&!ht?(Mp(i,s,v),zo(i,s,v)):(Le&&R&&lp(s),s.flags|=1,Mt(i,s,f,v),s.child)}function BS(i,s,l,f,v){if(i===null){var _=l.type;return typeof _=="function"&&!rp(_)&&_.defaultProps===void 0&&l.compare===null?(s.tag=15,s.type=_,HS(i,s,_,f,v)):(i=hc(l.type,null,f,s,s.mode,v),i.ref=s.ref,i.return=s,s.child=i)}if(_=i.child,!em(i,v)){var b=_.memoizedProps;if(l=l.compare,l=l!==null?l:Ka,l(b,f)&&i.ref===s.ref)return zo(i,s,v)}return s.flags|=1,i=Bo(_,f),i.ref=s.ref,i.return=s,s.child=i}function HS(i,s,l,f,v){if(i!==null){var _=i.memoizedProps;if(Ka(_,f)&&i.ref===s.ref)if(ht=!1,s.pendingProps=f=_,em(i,v))(i.flags&131072)!==0&&(ht=!0);else return s.lanes=i.lanes,zo(i,s,v)}return Kp(i,s,l,f,v)}function FS(i,s,l,f){var v=f.children,_=i!==null?i.memoizedState:null;if(i===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),f.mode==="hidden"){if((s.flags&128)!==0){if(_=_!==null?_.baseLanes|l:l,i!==null){for(f=s.child=i.child,v=0;f!==null;)v=v|f.lanes|f.childLanes,f=f.sibling;f=v&~_}else f=0,s.child=null;return $S(i,s,_,l,f)}if((l&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},i!==null&&vc(s,_!==null?_.cachePool:null),_!==null?V0(s,_):wp(),z0(s);else return f=s.lanes=536870912,$S(i,s,_!==null?_.baseLanes|l:l,l,f)}else _!==null?(vc(s,_.cachePool),V0(s,_),Ii(),s.memoizedState=null):(i!==null&&vc(s,null),wp(),Ii());return Mt(i,s,v,l),s.child}function ll(i,s){return i!==null&&i.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function $S(i,s,l,f,v){var _=vp();return _=_===null?null:{parent:ft._currentValue,pool:_},s.memoizedState={baseLanes:l,cachePool:_},i!==null&&vc(s,null),wp(),z0(s),i!==null&&_s(i,s,f,!0),s.childLanes=v,null}function Oc(i,s){return s=kc({mode:s.mode,children:s.children},i.mode),s.ref=i.ref,i.child=s,s.return=i,s}function GS(i,s,l){return Tr(s,i.child,null,l),i=Oc(s,s.pendingProps),i.flags|=2,un(s),s.memoizedState=null,i}function D1(i,s,l){var f=s.pendingProps,v=(s.flags&128)!==0;if(s.flags&=-129,i===null){if(Le){if(f.mode==="hidden")return i=Oc(s,f),s.lanes=536870912,ll(null,i);if(Cp(s),(i=nt)?(i=eb(i,Mn),i=i!==null&&i.data==="&"?i:null,i!==null&&(s.memoizedState={dehydrated:i,treeContext:wi!==null?{id:ho,overflow:po}:null,retryLane:536870912,hydrationErrors:null},l=C0(i),l.return=s,s.child=l,xt=s,nt=null)):i=null,i===null)throw Ci(s);return s.lanes=536870912,null}return Oc(s,f)}var _=i.memoizedState;if(_!==null){var b=_.dehydrated;if(Cp(s),v)if(s.flags&256)s.flags&=-257,s=GS(i,s,l);else if(s.memoizedState!==null)s.child=i.child,s.flags|=128,s=null;else throw Error(o(558));else if(ht||_s(i,s,l,!1),v=(l&i.childLanes)!==0,ht||v){if(f=Ze,f!==null&&(b=D_(f,l),b!==0&&b!==_.retryLane))throw _.retryLane=b,gr(i,b),Wt(f,i,b),Jp;zc(),s=GS(i,s,l)}else i=_.treeContext,nt=In(b.nextSibling),xt=s,Le=!0,Ti=null,Mn=!1,i!==null&&R0(s,i),s=Oc(s,f),s.flags|=4096;return s}return i=Bo(i.child,{mode:f.mode,children:f.children}),i.ref=s.ref,s.child=i,i.return=s,i}function Pc(i,s){var l=s.ref;if(l===null)i!==null&&i.ref!==null&&(s.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(o(284));(i===null||i.ref!==l)&&(s.flags|=4194816)}}function Kp(i,s,l,f,v){return Sr(s),l=xp(i,s,l,f,void 0,v),f=Rp(),i!==null&&!ht?(Mp(i,s,v),zo(i,s,v)):(Le&&f&&lp(s),s.flags|=1,Mt(i,s,l,v),s.child)}function VS(i,s,l,f,v,_){return Sr(s),s.updateQueue=null,l=J0(s,f,l,v),q0(i),f=Rp(),i!==null&&!ht?(Mp(i,s,_),zo(i,s,_)):(Le&&f&&lp(s),s.flags|=1,Mt(i,s,l,_),s.child)}function zS(i,s,l,f,v){if(Sr(s),s.stateNode===null){var _=ms,b=l.contextType;typeof b=="object"&&b!==null&&(_=Rt(b)),_=new l(f,_),s.memoizedState=_.state!==null&&_.state!==void 0?_.state:null,_.updater=zp,s.stateNode=_,_._reactInternals=s,_=s.stateNode,_.props=f,_.state=s.memoizedState,_.refs={},_p(s),b=l.contextType,_.context=typeof b=="object"&&b!==null?Rt(b):ms,_.state=s.memoizedState,b=l.getDerivedStateFromProps,typeof b=="function"&&(Vp(s,l,b,f),_.state=s.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof _.getSnapshotBeforeUpdate=="function"||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(b=_.state,typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount(),b!==_.state&&zp.enqueueReplaceState(_,_.state,null),ol(s,f,_,v),nl(),_.state=s.memoizedState),typeof _.componentDidMount=="function"&&(s.flags|=4194308),f=!0}else if(i===null){_=s.stateNode;var R=s.memoizedProps,P=Ar(l,R);_.props=P;var G=_.context,j=l.contextType;b=ms,typeof j=="object"&&j!==null&&(b=Rt(j));var te=l.getDerivedStateFromProps;j=typeof te=="function"||typeof _.getSnapshotBeforeUpdate=="function",R=s.pendingProps!==R,j||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(R||G!==b)&&NS(s,_,f,b),xi=!1;var z=s.memoizedState;_.state=z,ol(s,f,_,v),nl(),G=s.memoizedState,R||z!==G||xi?(typeof te=="function"&&(Vp(s,l,te,f),G=s.memoizedState),(P=xi||MS(s,l,P,f,z,G,b))?(j||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(s.flags|=4194308)):(typeof _.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=f,s.memoizedState=G),_.props=f,_.state=G,_.context=b,f=P):(typeof _.componentDidMount=="function"&&(s.flags|=4194308),f=!1)}else{_=s.stateNode,Sp(i,s),b=s.memoizedProps,j=Ar(l,b),_.props=j,te=s.pendingProps,z=_.context,G=l.contextType,P=ms,typeof G=="object"&&G!==null&&(P=Rt(G)),R=l.getDerivedStateFromProps,(G=typeof R=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(b!==te||z!==P)&&NS(s,_,f,P),xi=!1,z=s.memoizedState,_.state=z,ol(s,f,_,v),nl();var K=s.memoizedState;b!==te||z!==K||xi||i!==null&&i.dependencies!==null&&mc(i.dependencies)?(typeof R=="function"&&(Vp(s,l,R,f),K=s.memoizedState),(j=xi||MS(s,l,j,f,z,K,P)||i!==null&&i.dependencies!==null&&mc(i.dependencies))?(G||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(f,K,P),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(f,K,P)),typeof _.componentDidUpdate=="function"&&(s.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof _.componentDidUpdate!="function"||b===i.memoizedProps&&z===i.memoizedState||(s.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||b===i.memoizedProps&&z===i.memoizedState||(s.flags|=1024),s.memoizedProps=f,s.memoizedState=K),_.props=f,_.state=K,_.context=P,f=j):(typeof _.componentDidUpdate!="function"||b===i.memoizedProps&&z===i.memoizedState||(s.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||b===i.memoizedProps&&z===i.memoizedState||(s.flags|=1024),f=!1)}return _=f,Pc(i,s),f=(s.flags&128)!==0,_||f?(_=s.stateNode,l=f&&typeof l.getDerivedStateFromError!="function"?null:_.render(),s.flags|=1,i!==null&&f?(s.child=Tr(s,i.child,null,v),s.child=Tr(s,null,l,v)):Mt(i,s,l,v),s.memoizedState=_.state,i=s.child):i=zo(i,s,v),i}function qS(i,s,l,f){return yr(),s.flags|=256,Mt(i,s,l,f),s.child}var Yp={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Xp(i){return{baseLanes:i,cachePool:P0()}}function jp(i,s,l){return i=i!==null?i.childLanes&~l:0,s&&(i|=fn),i}function JS(i,s,l){var f=s.pendingProps,v=!1,_=(s.flags&128)!==0,b;if((b=_)||(b=i!==null&&i.memoizedState===null?!1:(lt.current&2)!==0),b&&(v=!0,s.flags&=-129),b=(s.flags&32)!==0,s.flags&=-33,i===null){if(Le){if(v?Ni(s):Ii(),(i=nt)?(i=eb(i,Mn),i=i!==null&&i.data!=="&"?i:null,i!==null&&(s.memoizedState={dehydrated:i,treeContext:wi!==null?{id:ho,overflow:po}:null,retryLane:536870912,hydrationErrors:null},l=C0(i),l.return=s,s.child=l,xt=s,nt=null)):i=null,i===null)throw Ci(s);return Dm(i)?s.lanes=32:s.lanes=536870912,null}var R=f.children;return f=f.fallback,v?(Ii(),v=s.mode,R=kc({mode:"hidden",children:R},v),f=vr(f,v,l,null),R.return=s,f.return=s,R.sibling=f,s.child=R,f=s.child,f.memoizedState=Xp(l),f.childLanes=jp(i,b,l),s.memoizedState=Yp,ll(null,f)):(Ni(s),Wp(s,R))}var P=i.memoizedState;if(P!==null&&(R=P.dehydrated,R!==null)){if(_)s.flags&256?(Ni(s),s.flags&=-257,s=Qp(i,s,l)):s.memoizedState!==null?(Ii(),s.child=i.child,s.flags|=128,s=null):(Ii(),R=f.fallback,v=s.mode,f=kc({mode:"visible",children:f.children},v),R=vr(R,v,l,null),R.flags|=2,f.return=s,R.return=s,f.sibling=R,s.child=f,Tr(s,i.child,null,l),f=s.child,f.memoizedState=Xp(l),f.childLanes=jp(i,b,l),s.memoizedState=Yp,s=ll(null,f));else if(Ni(s),Dm(R)){if(b=R.nextSibling&&R.nextSibling.dataset,b)var G=b.dgst;b=G,f=Error(o(419)),f.stack="",f.digest=b,ja({value:f,source:null,stack:null}),s=Qp(i,s,l)}else if(ht||_s(i,s,l,!1),b=(l&i.childLanes)!==0,ht||b){if(b=Ze,b!==null&&(f=D_(b,l),f!==0&&f!==P.retryLane))throw P.retryLane=f,gr(i,f),Wt(b,i,f),Jp;Im(R)||zc(),s=Qp(i,s,l)}else Im(R)?(s.flags|=192,s.child=i.child,s=null):(i=P.treeContext,nt=In(R.nextSibling),xt=s,Le=!0,Ti=null,Mn=!1,i!==null&&R0(s,i),s=Wp(s,f.children),s.flags|=4096);return s}return v?(Ii(),R=f.fallback,v=s.mode,P=i.child,G=P.sibling,f=Bo(P,{mode:"hidden",children:f.children}),f.subtreeFlags=P.subtreeFlags&65011712,G!==null?R=Bo(G,R):(R=vr(R,v,l,null),R.flags|=2),R.return=s,f.return=s,f.sibling=R,s.child=f,ll(null,f),f=s.child,R=i.child.memoizedState,R===null?R=Xp(l):(v=R.cachePool,v!==null?(P=ft._currentValue,v=v.parent!==P?{parent:P,pool:P}:v):v=P0(),R={baseLanes:R.baseLanes|l,cachePool:v}),f.memoizedState=R,f.childLanes=jp(i,b,l),s.memoizedState=Yp,ll(i.child,f)):(Ni(s),l=i.child,i=l.sibling,l=Bo(l,{mode:"visible",children:f.children}),l.return=s,l.sibling=null,i!==null&&(b=s.deletions,b===null?(s.deletions=[i],s.flags|=16):b.push(i)),s.child=l,s.memoizedState=null,l)}function Wp(i,s){return s=kc({mode:"visible",children:s},i.mode),s.return=i,i.child=s}function kc(i,s){return i=an(22,i,null,s),i.lanes=0,i}function Qp(i,s,l){return Tr(s,i.child,null,l),i=Wp(s,s.pendingProps.children),i.flags|=2,s.memoizedState=null,i}function KS(i,s,l){i.lanes|=s;var f=i.alternate;f!==null&&(f.lanes|=s),hp(i.return,s,l)}function Zp(i,s,l,f,v,_){var b=i.memoizedState;b===null?i.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:f,tail:l,tailMode:v,treeForkCount:_}:(b.isBackwards=s,b.rendering=null,b.renderingStartTime=0,b.last=f,b.tail=l,b.tailMode=v,b.treeForkCount=_)}function YS(i,s,l){var f=s.pendingProps,v=f.revealOrder,_=f.tail;f=f.children;var b=lt.current,R=(b&2)!==0;if(R?(b=b&1|2,s.flags|=128):b&=1,se(lt,b),Mt(i,s,f,l),f=Le?Xa:0,!R&&i!==null&&(i.flags&128)!==0)e:for(i=s.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&KS(i,l,s);else if(i.tag===19)KS(i,l,s);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break e;for(;i.sibling===null;){if(i.return===null||i.return===s)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(v){case"forwards":for(l=s.child,v=null;l!==null;)i=l.alternate,i!==null&&wc(i)===null&&(v=l),l=l.sibling;l=v,l===null?(v=s.child,s.child=null):(v=l.sibling,l.sibling=null),Zp(s,!1,v,l,_,f);break;case"backwards":case"unstable_legacy-backwards":for(l=null,v=s.child,s.child=null;v!==null;){if(i=v.alternate,i!==null&&wc(i)===null){s.child=v;break}i=v.sibling,v.sibling=l,l=v,v=i}Zp(s,!0,l,null,_,f);break;case"together":Zp(s,!1,null,null,void 0,f);break;default:s.memoizedState=null}return s.child}function zo(i,s,l){if(i!==null&&(s.dependencies=i.dependencies),Pi|=s.lanes,(l&s.childLanes)===0)if(i!==null){if(_s(i,s,l,!1),(l&s.childLanes)===0)return null}else return null;if(i!==null&&s.child!==i.child)throw Error(o(153));if(s.child!==null){for(i=s.child,l=Bo(i,i.pendingProps),s.child=l,l.return=s;i.sibling!==null;)i=i.sibling,l=l.sibling=Bo(i,i.pendingProps),l.return=s;l.sibling=null}return s.child}function em(i,s){return(i.lanes&s)!==0?!0:(i=i.dependencies,!!(i!==null&&mc(i)))}function O1(i,s,l){switch(s.tag){case 3:ze(s,s.stateNode.containerInfo),Ai(s,ft,i.memoizedState.cache),yr();break;case 27:case 5:nn(s);break;case 4:ze(s,s.stateNode.containerInfo);break;case 10:Ai(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,Cp(s),null;break;case 13:var f=s.memoizedState;if(f!==null)return f.dehydrated!==null?(Ni(s),s.flags|=128,null):(l&s.child.childLanes)!==0?JS(i,s,l):(Ni(s),i=zo(i,s,l),i!==null?i.sibling:null);Ni(s);break;case 19:var v=(i.flags&128)!==0;if(f=(l&s.childLanes)!==0,f||(_s(i,s,l,!1),f=(l&s.childLanes)!==0),v){if(f)return YS(i,s,l);s.flags|=128}if(v=s.memoizedState,v!==null&&(v.rendering=null,v.tail=null,v.lastEffect=null),se(lt,lt.current),f)break;return null;case 22:return s.lanes=0,FS(i,s,l,s.pendingProps);case 24:Ai(s,ft,i.memoizedState.cache)}return zo(i,s,l)}function XS(i,s,l){if(i!==null)if(i.memoizedProps!==s.pendingProps)ht=!0;else{if(!em(i,l)&&(s.flags&128)===0)return ht=!1,O1(i,s,l);ht=(i.flags&131072)!==0}else ht=!1,Le&&(s.flags&1048576)!==0&&x0(s,Xa,s.index);switch(s.lanes=0,s.tag){case 16:e:{var f=s.pendingProps;if(i=br(s.elementType),s.type=i,typeof i=="function")rp(i)?(f=Ar(i,f),s.tag=1,s=zS(null,s,i,f,l)):(s.tag=0,s=Kp(null,s,i,f,l));else{if(i!=null){var v=i.$$typeof;if(v===D){s.tag=11,s=US(null,s,i,f,l);break e}else if(v===O){s.tag=14,s=BS(null,s,i,f,l);break e}}throw s=ae(i)||i,Error(o(306,s,""))}}return s;case 0:return Kp(i,s,s.type,s.pendingProps,l);case 1:return f=s.type,v=Ar(f,s.pendingProps),zS(i,s,f,v,l);case 3:e:{if(ze(s,s.stateNode.containerInfo),i===null)throw Error(o(387));f=s.pendingProps;var _=s.memoizedState;v=_.element,Sp(i,s),ol(s,f,null,l);var b=s.memoizedState;if(f=b.cache,Ai(s,ft,f),f!==_.cache&&pp(s,[ft],l,!0),nl(),f=b.element,_.isDehydrated)if(_={element:f,isDehydrated:!1,cache:b.cache},s.updateQueue.baseState=_,s.memoizedState=_,s.flags&256){s=qS(i,s,f,l);break e}else if(f!==v){v=An(Error(o(424)),s),ja(v),s=qS(i,s,f,l);break e}else{switch(i=s.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(nt=In(i.firstChild),xt=s,Le=!0,Ti=null,Mn=!0,l=F0(s,null,f,l),s.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(yr(),f===v){s=zo(i,s,l);break e}Mt(i,s,f,l)}s=s.child}return s;case 26:return Pc(i,s),i===null?(l=sb(s.type,null,s.pendingProps,null))?s.memoizedState=l:Le||(l=s.type,i=s.pendingProps,f=Wc(Ee.current).createElement(l),f[At]=s,f[qt]=i,Nt(f,l,i),_t(f),s.stateNode=f):s.memoizedState=sb(s.type,i.memoizedProps,s.pendingProps,i.memoizedState),null;case 27:return nn(s),i===null&&Le&&(f=s.stateNode=ob(s.type,s.pendingProps,Ee.current),xt=s,Mn=!0,v=nt,Hi(s.type)?(Om=v,nt=In(f.firstChild)):nt=v),Mt(i,s,s.pendingProps.children,l),Pc(i,s),i===null&&(s.flags|=4194304),s.child;case 5:return i===null&&Le&&((v=f=nt)&&(f=uP(f,s.type,s.pendingProps,Mn),f!==null?(s.stateNode=f,xt=s,nt=In(f.firstChild),Mn=!1,v=!0):v=!1),v||Ci(s)),nn(s),v=s.type,_=s.pendingProps,b=i!==null?i.memoizedProps:null,f=_.children,Rm(v,_)?f=null:b!==null&&Rm(v,b)&&(s.flags|=32),s.memoizedState!==null&&(v=xp(i,s,T1,null,null,l),wl._currentValue=v),Pc(i,s),Mt(i,s,f,l),s.child;case 6:return i===null&&Le&&((i=l=nt)&&(l=cP(l,s.pendingProps,Mn),l!==null?(s.stateNode=l,xt=s,nt=null,i=!0):i=!1),i||Ci(s)),null;case 13:return JS(i,s,l);case 4:return ze(s,s.stateNode.containerInfo),f=s.pendingProps,i===null?s.child=Tr(s,null,f,l):Mt(i,s,f,l),s.child;case 11:return US(i,s,s.type,s.pendingProps,l);case 7:return Mt(i,s,s.pendingProps,l),s.child;case 8:return Mt(i,s,s.pendingProps.children,l),s.child;case 12:return Mt(i,s,s.pendingProps.children,l),s.child;case 10:return f=s.pendingProps,Ai(s,s.type,f.value),Mt(i,s,f.children,l),s.child;case 9:return v=s.type._context,f=s.pendingProps.children,Sr(s),v=Rt(v),f=f(v),s.flags|=1,Mt(i,s,f,l),s.child;case 14:return BS(i,s,s.type,s.pendingProps,l);case 15:return HS(i,s,s.type,s.pendingProps,l);case 19:return YS(i,s,l);case 31:return D1(i,s,l);case 22:return FS(i,s,l,s.pendingProps);case 24:return Sr(s),f=Rt(ft),i===null?(v=vp(),v===null&&(v=Ze,_=mp(),v.pooledCache=_,_.refCount++,_!==null&&(v.pooledCacheLanes|=l),v=_),s.memoizedState={parent:f,cache:v},_p(s),Ai(s,ft,v)):((i.lanes&l)!==0&&(Sp(i,s),ol(s,null,null,l),nl()),v=i.memoizedState,_=s.memoizedState,v.parent!==f?(v={parent:f,cache:f},s.memoizedState=v,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=v),Ai(s,ft,f)):(f=_.cache,Ai(s,ft,f),f!==v.cache&&pp(s,[ft],l,!0))),Mt(i,s,s.pendingProps.children,l),s.child;case 29:throw s.pendingProps}throw Error(o(156,s.tag))}function qo(i){i.flags|=4}function tm(i,s,l,f,v){if((s=(i.mode&32)!==0)&&(s=!1),s){if(i.flags|=16777216,(v&335544128)===v)if(i.stateNode.complete)i.flags|=8192;else if(bE())i.flags|=8192;else throw wr=_c,yp}else i.flags&=-16777217}function jS(i,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!fb(s))if(bE())i.flags|=8192;else throw wr=_c,yp}function Lc(i,s){s!==null&&(i.flags|=4),i.flags&16384&&(s=i.tag!==22?M_():536870912,i.lanes|=s,Is|=s)}function ul(i,s){if(!Le)switch(i.tailMode){case"hidden":s=i.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?i.tail=null:l.sibling=null;break;case"collapsed":l=i.tail;for(var f=null;l!==null;)l.alternate!==null&&(f=l),l=l.sibling;f===null?s||i.tail===null?i.tail=null:i.tail.sibling=null:f.sibling=null}}function ot(i){var s=i.alternate!==null&&i.alternate.child===i.child,l=0,f=0;if(s)for(var v=i.child;v!==null;)l|=v.lanes|v.childLanes,f|=v.subtreeFlags&65011712,f|=v.flags&65011712,v.return=i,v=v.sibling;else for(v=i.child;v!==null;)l|=v.lanes|v.childLanes,f|=v.subtreeFlags,f|=v.flags,v.return=i,v=v.sibling;return i.subtreeFlags|=f,i.childLanes=l,s}function P1(i,s,l){var f=s.pendingProps;switch(up(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ot(s),null;case 1:return ot(s),null;case 3:return l=s.stateNode,f=null,i!==null&&(f=i.memoizedState.cache),s.memoizedState.cache!==f&&(s.flags|=2048),$o(ft),qe(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(i===null||i.child===null)&&(ys(s)?qo(s):i===null||i.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,fp())),ot(s),null;case 26:var v=s.type,_=s.memoizedState;return i===null?(qo(s),_!==null?(ot(s),jS(s,_)):(ot(s),tm(s,v,null,f,l))):_?_!==i.memoizedState?(qo(s),ot(s),jS(s,_)):(ot(s),s.flags&=-16777217):(i=i.memoizedProps,i!==f&&qo(s),ot(s),tm(s,v,i,f,l)),null;case 27:if(bn(s),l=Ee.current,v=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==f&&qo(s);else{if(!f){if(s.stateNode===null)throw Error(o(166));return ot(s),null}i=le.current,ys(s)?M0(s):(i=ob(v,f,l),s.stateNode=i,qo(s))}return ot(s),null;case 5:if(bn(s),v=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==f&&qo(s);else{if(!f){if(s.stateNode===null)throw Error(o(166));return ot(s),null}if(_=le.current,ys(s))M0(s);else{var b=Wc(Ee.current);switch(_){case 1:_=b.createElementNS("http://www.w3.org/2000/svg",v);break;case 2:_=b.createElementNS("http://www.w3.org/1998/Math/MathML",v);break;default:switch(v){case"svg":_=b.createElementNS("http://www.w3.org/2000/svg",v);break;case"math":_=b.createElementNS("http://www.w3.org/1998/Math/MathML",v);break;case"script":_=b.createElement("div"),_.innerHTML="<script><\/script>",_=_.removeChild(_.firstChild);break;case"select":_=typeof f.is=="string"?b.createElement("select",{is:f.is}):b.createElement("select"),f.multiple?_.multiple=!0:f.size&&(_.size=f.size);break;default:_=typeof f.is=="string"?b.createElement(v,{is:f.is}):b.createElement(v)}}_[At]=s,_[qt]=f;e:for(b=s.child;b!==null;){if(b.tag===5||b.tag===6)_.appendChild(b.stateNode);else if(b.tag!==4&&b.tag!==27&&b.child!==null){b.child.return=b,b=b.child;continue}if(b===s)break e;for(;b.sibling===null;){if(b.return===null||b.return===s)break e;b=b.return}b.sibling.return=b.return,b=b.sibling}s.stateNode=_;e:switch(Nt(_,v,f),v){case"button":case"input":case"select":case"textarea":f=!!f.autoFocus;break e;case"img":f=!0;break e;default:f=!1}f&&qo(s)}}return ot(s),tm(s,s.type,i===null?null:i.memoizedProps,s.pendingProps,l),null;case 6:if(i&&s.stateNode!=null)i.memoizedProps!==f&&qo(s);else{if(typeof f!="string"&&s.stateNode===null)throw Error(o(166));if(i=Ee.current,ys(s)){if(i=s.stateNode,l=s.memoizedProps,f=null,v=xt,v!==null)switch(v.tag){case 27:case 5:f=v.memoizedProps}i[At]=s,i=!!(i.nodeValue===l||f!==null&&f.suppressHydrationWarning===!0||JE(i.nodeValue,l)),i||Ci(s,!0)}else i=Wc(i).createTextNode(f),i[At]=s,s.stateNode=i}return ot(s),null;case 31:if(l=s.memoizedState,i===null||i.memoizedState!==null){if(f=ys(s),l!==null){if(i===null){if(!f)throw Error(o(318));if(i=s.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(o(557));i[At]=s}else yr(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;ot(s),i=!1}else l=fp(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=l),i=!0;if(!i)return s.flags&256?(un(s),s):(un(s),null);if((s.flags&128)!==0)throw Error(o(558))}return ot(s),null;case 13:if(f=s.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(v=ys(s),f!==null&&f.dehydrated!==null){if(i===null){if(!v)throw Error(o(318));if(v=s.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(o(317));v[At]=s}else yr(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;ot(s),v=!1}else v=fp(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=v),v=!0;if(!v)return s.flags&256?(un(s),s):(un(s),null)}return un(s),(s.flags&128)!==0?(s.lanes=l,s):(l=f!==null,i=i!==null&&i.memoizedState!==null,l&&(f=s.child,v=null,f.alternate!==null&&f.alternate.memoizedState!==null&&f.alternate.memoizedState.cachePool!==null&&(v=f.alternate.memoizedState.cachePool.pool),_=null,f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(_=f.memoizedState.cachePool.pool),_!==v&&(f.flags|=2048)),l!==i&&l&&(s.child.flags|=8192),Lc(s,s.updateQueue),ot(s),null);case 4:return qe(),i===null&&wm(s.stateNode.containerInfo),ot(s),null;case 10:return $o(s.type),ot(s),null;case 19:if(Y(lt),f=s.memoizedState,f===null)return ot(s),null;if(v=(s.flags&128)!==0,_=f.rendering,_===null)if(v)ul(f,!1);else{if(at!==0||i!==null&&(i.flags&128)!==0)for(i=s.child;i!==null;){if(_=wc(i),_!==null){for(s.flags|=128,ul(f,!1),i=_.updateQueue,s.updateQueue=i,Lc(s,i),s.subtreeFlags=0,i=l,l=s.child;l!==null;)T0(l,i),l=l.sibling;return se(lt,lt.current&1|2),Le&&Ho(s,f.treeForkCount),s.child}i=i.sibling}f.tail!==null&&Ct()>$c&&(s.flags|=128,v=!0,ul(f,!1),s.lanes=4194304)}else{if(!v)if(i=wc(_),i!==null){if(s.flags|=128,v=!0,i=i.updateQueue,s.updateQueue=i,Lc(s,i),ul(f,!0),f.tail===null&&f.tailMode==="hidden"&&!_.alternate&&!Le)return ot(s),null}else 2*Ct()-f.renderingStartTime>$c&&l!==536870912&&(s.flags|=128,v=!0,ul(f,!1),s.lanes=4194304);f.isBackwards?(_.sibling=s.child,s.child=_):(i=f.last,i!==null?i.sibling=_:s.child=_,f.last=_)}return f.tail!==null?(i=f.tail,f.rendering=i,f.tail=i.sibling,f.renderingStartTime=Ct(),i.sibling=null,l=lt.current,se(lt,v?l&1|2:l&1),Le&&Ho(s,f.treeForkCount),i):(ot(s),null);case 22:case 23:return un(s),Tp(),f=s.memoizedState!==null,i!==null?i.memoizedState!==null!==f&&(s.flags|=8192):f&&(s.flags|=8192),f?(l&536870912)!==0&&(s.flags&128)===0&&(ot(s),s.subtreeFlags&6&&(s.flags|=8192)):ot(s),l=s.updateQueue,l!==null&&Lc(s,l.retryQueue),l=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),f=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(f=s.memoizedState.cachePool.pool),f!==l&&(s.flags|=2048),i!==null&&Y(Er),null;case 24:return l=null,i!==null&&(l=i.memoizedState.cache),s.memoizedState.cache!==l&&(s.flags|=2048),$o(ft),ot(s),null;case 25:return null;case 30:return null}throw Error(o(156,s.tag))}function k1(i,s){switch(up(s),s.tag){case 1:return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 3:return $o(ft),qe(),i=s.flags,(i&65536)!==0&&(i&128)===0?(s.flags=i&-65537|128,s):null;case 26:case 27:case 5:return bn(s),null;case 31:if(s.memoizedState!==null){if(un(s),s.alternate===null)throw Error(o(340));yr()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 13:if(un(s),i=s.memoizedState,i!==null&&i.dehydrated!==null){if(s.alternate===null)throw Error(o(340));yr()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 19:return Y(lt),null;case 4:return qe(),null;case 10:return $o(s.type),null;case 22:case 23:return un(s),Tp(),i!==null&&Y(Er),i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 24:return $o(ft),null;case 25:return null;default:return null}}function WS(i,s){switch(up(s),s.tag){case 3:$o(ft),qe();break;case 26:case 27:case 5:bn(s);break;case 4:qe();break;case 31:s.memoizedState!==null&&un(s);break;case 13:un(s);break;case 19:Y(lt);break;case 10:$o(s.type);break;case 22:case 23:un(s),Tp(),i!==null&&Y(Er);break;case 24:$o(ft)}}function cl(i,s){try{var l=s.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var v=f.next;l=v;do{if((l.tag&i)===i){f=void 0;var _=l.create,b=l.inst;f=_(),b.destroy=f}l=l.next}while(l!==v)}}catch(R){Ye(s,s.return,R)}}function Di(i,s,l){try{var f=s.updateQueue,v=f!==null?f.lastEffect:null;if(v!==null){var _=v.next;f=_;do{if((f.tag&i)===i){var b=f.inst,R=b.destroy;if(R!==void 0){b.destroy=void 0,v=s;var P=l,G=R;try{G()}catch(j){Ye(v,P,j)}}}f=f.next}while(f!==_)}}catch(j){Ye(s,s.return,j)}}function QS(i){var s=i.updateQueue;if(s!==null){var l=i.stateNode;try{G0(s,l)}catch(f){Ye(i,i.return,f)}}}function ZS(i,s,l){l.props=Ar(i.type,i.memoizedProps),l.state=i.memoizedState;try{l.componentWillUnmount()}catch(f){Ye(i,s,f)}}function fl(i,s){try{var l=i.ref;if(l!==null){switch(i.tag){case 26:case 27:case 5:var f=i.stateNode;break;case 30:f=i.stateNode;break;default:f=i.stateNode}typeof l=="function"?i.refCleanup=l(f):l.current=f}}catch(v){Ye(i,s,v)}}function mo(i,s){var l=i.ref,f=i.refCleanup;if(l!==null)if(typeof f=="function")try{f()}catch(v){Ye(i,s,v)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(v){Ye(i,s,v)}else l.current=null}function eE(i){var s=i.type,l=i.memoizedProps,f=i.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":l.autoFocus&&f.focus();break e;case"img":l.src?f.src=l.src:l.srcSet&&(f.srcset=l.srcSet)}}catch(v){Ye(i,i.return,v)}}function nm(i,s,l){try{var f=i.stateNode;oP(f,i.type,l,s),f[qt]=s}catch(v){Ye(i,i.return,v)}}function tE(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&Hi(i.type)||i.tag===4}function om(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||tE(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&Hi(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function im(i,s,l){var f=i.tag;if(f===5||f===6)i=i.stateNode,s?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(i,s):(s=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,s.appendChild(i),l=l._reactRootContainer,l!=null||s.onclick!==null||(s.onclick=Lo));else if(f!==4&&(f===27&&Hi(i.type)&&(l=i.stateNode,s=null),i=i.child,i!==null))for(im(i,s,l),i=i.sibling;i!==null;)im(i,s,l),i=i.sibling}function Uc(i,s,l){var f=i.tag;if(f===5||f===6)i=i.stateNode,s?l.insertBefore(i,s):l.appendChild(i);else if(f!==4&&(f===27&&Hi(i.type)&&(l=i.stateNode),i=i.child,i!==null))for(Uc(i,s,l),i=i.sibling;i!==null;)Uc(i,s,l),i=i.sibling}function nE(i){var s=i.stateNode,l=i.memoizedProps;try{for(var f=i.type,v=s.attributes;v.length;)s.removeAttributeNode(v[0]);Nt(s,f,l),s[At]=i,s[qt]=l}catch(_){Ye(i,i.return,_)}}var Jo=!1,pt=!1,rm=!1,oE=typeof WeakSet=="function"?WeakSet:Set,St=null;function L1(i,s){if(i=i.containerInfo,Am=rf,i=m0(i),Qh(i)){if("selectionStart"in i)var l={start:i.selectionStart,end:i.selectionEnd};else e:{l=(l=i.ownerDocument)&&l.defaultView||window;var f=l.getSelection&&l.getSelection();if(f&&f.rangeCount!==0){l=f.anchorNode;var v=f.anchorOffset,_=f.focusNode;f=f.focusOffset;try{l.nodeType,_.nodeType}catch{l=null;break e}var b=0,R=-1,P=-1,G=0,j=0,te=i,z=null;t:for(;;){for(var K;te!==l||v!==0&&te.nodeType!==3||(R=b+v),te!==_||f!==0&&te.nodeType!==3||(P=b+f),te.nodeType===3&&(b+=te.nodeValue.length),(K=te.firstChild)!==null;)z=te,te=K;for(;;){if(te===i)break t;if(z===l&&++G===v&&(R=b),z===_&&++j===f&&(P=b),(K=te.nextSibling)!==null)break;te=z,z=te.parentNode}te=K}l=R===-1||P===-1?null:{start:R,end:P}}else l=null}l=l||{start:0,end:0}}else l=null;for(xm={focusedElem:i,selectionRange:l},rf=!1,St=s;St!==null;)if(s=St,i=s.child,(s.subtreeFlags&1028)!==0&&i!==null)i.return=s,St=i;else for(;St!==null;){switch(s=St,_=s.alternate,i=s.flags,s.tag){case 0:if((i&4)!==0&&(i=s.updateQueue,i=i!==null?i.events:null,i!==null))for(l=0;l<i.length;l++)v=i[l],v.ref.impl=v.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&_!==null){i=void 0,l=s,v=_.memoizedProps,_=_.memoizedState,f=l.stateNode;try{var he=Ar(l.type,v);i=f.getSnapshotBeforeUpdate(he,_),f.__reactInternalSnapshotBeforeUpdate=i}catch(be){Ye(l,l.return,be)}}break;case 3:if((i&1024)!==0){if(i=s.stateNode.containerInfo,l=i.nodeType,l===9)Nm(i);else if(l===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Nm(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(o(163))}if(i=s.sibling,i!==null){i.return=s.return,St=i;break}St=s.return}}function iE(i,s,l){var f=l.flags;switch(l.tag){case 0:case 11:case 15:Yo(i,l),f&4&&cl(5,l);break;case 1:if(Yo(i,l),f&4)if(i=l.stateNode,s===null)try{i.componentDidMount()}catch(b){Ye(l,l.return,b)}else{var v=Ar(l.type,s.memoizedProps);s=s.memoizedState;try{i.componentDidUpdate(v,s,i.__reactInternalSnapshotBeforeUpdate)}catch(b){Ye(l,l.return,b)}}f&64&&QS(l),f&512&&fl(l,l.return);break;case 3:if(Yo(i,l),f&64&&(i=l.updateQueue,i!==null)){if(s=null,l.child!==null)switch(l.child.tag){case 27:case 5:s=l.child.stateNode;break;case 1:s=l.child.stateNode}try{G0(i,s)}catch(b){Ye(l,l.return,b)}}break;case 27:s===null&&f&4&&nE(l);case 26:case 5:Yo(i,l),s===null&&f&4&&eE(l),f&512&&fl(l,l.return);break;case 12:Yo(i,l);break;case 31:Yo(i,l),f&4&&aE(i,l);break;case 13:Yo(i,l),f&4&&lE(i,l),f&64&&(i=l.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(l=q1.bind(null,l),fP(i,l))));break;case 22:if(f=l.memoizedState!==null||Jo,!f){s=s!==null&&s.memoizedState!==null||pt,v=Jo;var _=pt;Jo=f,(pt=s)&&!_?Xo(i,l,(l.subtreeFlags&8772)!==0):Yo(i,l),Jo=v,pt=_}break;case 30:break;default:Yo(i,l)}}function rE(i){var s=i.alternate;s!==null&&(i.alternate=null,rE(s)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(s=i.stateNode,s!==null&&kh(s)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var rt=null,Kt=!1;function Ko(i,s,l){for(l=l.child;l!==null;)sE(i,s,l),l=l.sibling}function sE(i,s,l){if(on&&typeof on.onCommitFiberUnmount=="function")try{on.onCommitFiberUnmount(ka,l)}catch{}switch(l.tag){case 26:pt||mo(l,s),Ko(i,s,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:pt||mo(l,s);var f=rt,v=Kt;Hi(l.type)&&(rt=l.stateNode,Kt=!1),Ko(i,s,l),Sl(l.stateNode),rt=f,Kt=v;break;case 5:pt||mo(l,s);case 6:if(f=rt,v=Kt,rt=null,Ko(i,s,l),rt=f,Kt=v,rt!==null)if(Kt)try{(rt.nodeType===9?rt.body:rt.nodeName==="HTML"?rt.ownerDocument.body:rt).removeChild(l.stateNode)}catch(_){Ye(l,s,_)}else try{rt.removeChild(l.stateNode)}catch(_){Ye(l,s,_)}break;case 18:rt!==null&&(Kt?(i=rt,QE(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,l.stateNode),Hs(i)):QE(rt,l.stateNode));break;case 4:f=rt,v=Kt,rt=l.stateNode.containerInfo,Kt=!0,Ko(i,s,l),rt=f,Kt=v;break;case 0:case 11:case 14:case 15:Di(2,l,s),pt||Di(4,l,s),Ko(i,s,l);break;case 1:pt||(mo(l,s),f=l.stateNode,typeof f.componentWillUnmount=="function"&&ZS(l,s,f)),Ko(i,s,l);break;case 21:Ko(i,s,l);break;case 22:pt=(f=pt)||l.memoizedState!==null,Ko(i,s,l),pt=f;break;default:Ko(i,s,l)}}function aE(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{Hs(i)}catch(l){Ye(s,s.return,l)}}}function lE(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Hs(i)}catch(l){Ye(s,s.return,l)}}function U1(i){switch(i.tag){case 31:case 13:case 19:var s=i.stateNode;return s===null&&(s=i.stateNode=new oE),s;case 22:return i=i.stateNode,s=i._retryCache,s===null&&(s=i._retryCache=new oE),s;default:throw Error(o(435,i.tag))}}function Bc(i,s){var l=U1(i);s.forEach(function(f){if(!l.has(f)){l.add(f);var v=J1.bind(null,i,f);f.then(v,v)}})}function Yt(i,s){var l=s.deletions;if(l!==null)for(var f=0;f<l.length;f++){var v=l[f],_=i,b=s,R=b;e:for(;R!==null;){switch(R.tag){case 27:if(Hi(R.type)){rt=R.stateNode,Kt=!1;break e}break;case 5:rt=R.stateNode,Kt=!1;break e;case 3:case 4:rt=R.stateNode.containerInfo,Kt=!0;break e}R=R.return}if(rt===null)throw Error(o(160));sE(_,b,v),rt=null,Kt=!1,_=v.alternate,_!==null&&(_.return=null),v.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)uE(s,i),s=s.sibling}var Yn=null;function uE(i,s){var l=i.alternate,f=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Yt(s,i),Xt(i),f&4&&(Di(3,i,i.return),cl(3,i),Di(5,i,i.return));break;case 1:Yt(s,i),Xt(i),f&512&&(pt||l===null||mo(l,l.return)),f&64&&Jo&&(i=i.updateQueue,i!==null&&(f=i.callbacks,f!==null&&(l=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=l===null?f:l.concat(f))));break;case 26:var v=Yn;if(Yt(s,i),Xt(i),f&512&&(pt||l===null||mo(l,l.return)),f&4){var _=l!==null?l.memoizedState:null;if(f=i.memoizedState,l===null)if(f===null)if(i.stateNode===null){e:{f=i.type,l=i.memoizedProps,v=v.ownerDocument||v;t:switch(f){case"title":_=v.getElementsByTagName("title")[0],(!_||_[Ba]||_[At]||_.namespaceURI==="http://www.w3.org/2000/svg"||_.hasAttribute("itemprop"))&&(_=v.createElement(f),v.head.insertBefore(_,v.querySelector("head > title"))),Nt(_,f,l),_[At]=i,_t(_),f=_;break e;case"link":var b=ub("link","href",v).get(f+(l.href||""));if(b){for(var R=0;R<b.length;R++)if(_=b[R],_.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&_.getAttribute("rel")===(l.rel==null?null:l.rel)&&_.getAttribute("title")===(l.title==null?null:l.title)&&_.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){b.splice(R,1);break t}}_=v.createElement(f),Nt(_,f,l),v.head.appendChild(_);break;case"meta":if(b=ub("meta","content",v).get(f+(l.content||""))){for(R=0;R<b.length;R++)if(_=b[R],_.getAttribute("content")===(l.content==null?null:""+l.content)&&_.getAttribute("name")===(l.name==null?null:l.name)&&_.getAttribute("property")===(l.property==null?null:l.property)&&_.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&_.getAttribute("charset")===(l.charSet==null?null:l.charSet)){b.splice(R,1);break t}}_=v.createElement(f),Nt(_,f,l),v.head.appendChild(_);break;default:throw Error(o(468,f))}_[At]=i,_t(_),f=_}i.stateNode=f}else cb(v,i.type,i.stateNode);else i.stateNode=lb(v,f,i.memoizedProps);else _!==f?(_===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):_.count--,f===null?cb(v,i.type,i.stateNode):lb(v,f,i.memoizedProps)):f===null&&i.stateNode!==null&&nm(i,i.memoizedProps,l.memoizedProps)}break;case 27:Yt(s,i),Xt(i),f&512&&(pt||l===null||mo(l,l.return)),l!==null&&f&4&&nm(i,i.memoizedProps,l.memoizedProps);break;case 5:if(Yt(s,i),Xt(i),f&512&&(pt||l===null||mo(l,l.return)),i.flags&32){v=i.stateNode;try{ls(v,"")}catch(he){Ye(i,i.return,he)}}f&4&&i.stateNode!=null&&(v=i.memoizedProps,nm(i,v,l!==null?l.memoizedProps:v)),f&1024&&(rm=!0);break;case 6:if(Yt(s,i),Xt(i),f&4){if(i.stateNode===null)throw Error(o(162));f=i.memoizedProps,l=i.stateNode;try{l.nodeValue=f}catch(he){Ye(i,i.return,he)}}break;case 3:if(ef=null,v=Yn,Yn=Qc(s.containerInfo),Yt(s,i),Yn=v,Xt(i),f&4&&l!==null&&l.memoizedState.isDehydrated)try{Hs(s.containerInfo)}catch(he){Ye(i,i.return,he)}rm&&(rm=!1,cE(i));break;case 4:f=Yn,Yn=Qc(i.stateNode.containerInfo),Yt(s,i),Xt(i),Yn=f;break;case 12:Yt(s,i),Xt(i);break;case 31:Yt(s,i),Xt(i),f&4&&(f=i.updateQueue,f!==null&&(i.updateQueue=null,Bc(i,f)));break;case 13:Yt(s,i),Xt(i),i.child.flags&8192&&i.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(Fc=Ct()),f&4&&(f=i.updateQueue,f!==null&&(i.updateQueue=null,Bc(i,f)));break;case 22:v=i.memoizedState!==null;var P=l!==null&&l.memoizedState!==null,G=Jo,j=pt;if(Jo=G||v,pt=j||P,Yt(s,i),pt=j,Jo=G,Xt(i),f&8192)e:for(s=i.stateNode,s._visibility=v?s._visibility&-2:s._visibility|1,v&&(l===null||P||Jo||pt||xr(i)),l=null,s=i;;){if(s.tag===5||s.tag===26){if(l===null){P=l=s;try{if(_=P.stateNode,v)b=_.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none";else{R=P.stateNode;var te=P.memoizedProps.style,z=te!=null&&te.hasOwnProperty("display")?te.display:null;R.style.display=z==null||typeof z=="boolean"?"":(""+z).trim()}}catch(he){Ye(P,P.return,he)}}}else if(s.tag===6){if(l===null){P=s;try{P.stateNode.nodeValue=v?"":P.memoizedProps}catch(he){Ye(P,P.return,he)}}}else if(s.tag===18){if(l===null){P=s;try{var K=P.stateNode;v?ZE(K,!0):ZE(P.stateNode,!1)}catch(he){Ye(P,P.return,he)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===i)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break e;for(;s.sibling===null;){if(s.return===null||s.return===i)break e;l===s&&(l=null),s=s.return}l===s&&(l=null),s.sibling.return=s.return,s=s.sibling}f&4&&(f=i.updateQueue,f!==null&&(l=f.retryQueue,l!==null&&(f.retryQueue=null,Bc(i,l))));break;case 19:Yt(s,i),Xt(i),f&4&&(f=i.updateQueue,f!==null&&(i.updateQueue=null,Bc(i,f)));break;case 30:break;case 21:break;default:Yt(s,i),Xt(i)}}function Xt(i){var s=i.flags;if(s&2){try{for(var l,f=i.return;f!==null;){if(tE(f)){l=f;break}f=f.return}if(l==null)throw Error(o(160));switch(l.tag){case 27:var v=l.stateNode,_=om(i);Uc(i,_,v);break;case 5:var b=l.stateNode;l.flags&32&&(ls(b,""),l.flags&=-33);var R=om(i);Uc(i,R,b);break;case 3:case 4:var P=l.stateNode.containerInfo,G=om(i);im(i,G,P);break;default:throw Error(o(161))}}catch(j){Ye(i,i.return,j)}i.flags&=-3}s&4096&&(i.flags&=-4097)}function cE(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var s=i;cE(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),i=i.sibling}}function Yo(i,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)iE(i,s.alternate,s),s=s.sibling}function xr(i){for(i=i.child;i!==null;){var s=i;switch(s.tag){case 0:case 11:case 14:case 15:Di(4,s,s.return),xr(s);break;case 1:mo(s,s.return);var l=s.stateNode;typeof l.componentWillUnmount=="function"&&ZS(s,s.return,l),xr(s);break;case 27:Sl(s.stateNode);case 26:case 5:mo(s,s.return),xr(s);break;case 22:s.memoizedState===null&&xr(s);break;case 30:xr(s);break;default:xr(s)}i=i.sibling}}function Xo(i,s,l){for(l=l&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var f=s.alternate,v=i,_=s,b=_.flags;switch(_.tag){case 0:case 11:case 15:Xo(v,_,l),cl(4,_);break;case 1:if(Xo(v,_,l),f=_,v=f.stateNode,typeof v.componentDidMount=="function")try{v.componentDidMount()}catch(G){Ye(f,f.return,G)}if(f=_,v=f.updateQueue,v!==null){var R=f.stateNode;try{var P=v.shared.hiddenCallbacks;if(P!==null)for(v.shared.hiddenCallbacks=null,v=0;v<P.length;v++)$0(P[v],R)}catch(G){Ye(f,f.return,G)}}l&&b&64&&QS(_),fl(_,_.return);break;case 27:nE(_);case 26:case 5:Xo(v,_,l),l&&f===null&&b&4&&eE(_),fl(_,_.return);break;case 12:Xo(v,_,l);break;case 31:Xo(v,_,l),l&&b&4&&aE(v,_);break;case 13:Xo(v,_,l),l&&b&4&&lE(v,_);break;case 22:_.memoizedState===null&&Xo(v,_,l),fl(_,_.return);break;case 30:break;default:Xo(v,_,l)}s=s.sibling}}function sm(i,s){var l=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),i=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(i=s.memoizedState.cachePool.pool),i!==l&&(i!=null&&i.refCount++,l!=null&&Wa(l))}function am(i,s){i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&Wa(i))}function Xn(i,s,l,f){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)fE(i,s,l,f),s=s.sibling}function fE(i,s,l,f){var v=s.flags;switch(s.tag){case 0:case 11:case 15:Xn(i,s,l,f),v&2048&&cl(9,s);break;case 1:Xn(i,s,l,f);break;case 3:Xn(i,s,l,f),v&2048&&(i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&Wa(i)));break;case 12:if(v&2048){Xn(i,s,l,f),i=s.stateNode;try{var _=s.memoizedProps,b=_.id,R=_.onPostCommit;typeof R=="function"&&R(b,s.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(P){Ye(s,s.return,P)}}else Xn(i,s,l,f);break;case 31:Xn(i,s,l,f);break;case 13:Xn(i,s,l,f);break;case 23:break;case 22:_=s.stateNode,b=s.alternate,s.memoizedState!==null?_._visibility&2?Xn(i,s,l,f):dl(i,s):_._visibility&2?Xn(i,s,l,f):(_._visibility|=2,Rs(i,s,l,f,(s.subtreeFlags&10256)!==0||!1)),v&2048&&sm(b,s);break;case 24:Xn(i,s,l,f),v&2048&&am(s.alternate,s);break;default:Xn(i,s,l,f)}}function Rs(i,s,l,f,v){for(v=v&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var _=i,b=s,R=l,P=f,G=b.flags;switch(b.tag){case 0:case 11:case 15:Rs(_,b,R,P,v),cl(8,b);break;case 23:break;case 22:var j=b.stateNode;b.memoizedState!==null?j._visibility&2?Rs(_,b,R,P,v):dl(_,b):(j._visibility|=2,Rs(_,b,R,P,v)),v&&G&2048&&sm(b.alternate,b);break;case 24:Rs(_,b,R,P,v),v&&G&2048&&am(b.alternate,b);break;default:Rs(_,b,R,P,v)}s=s.sibling}}function dl(i,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var l=i,f=s,v=f.flags;switch(f.tag){case 22:dl(l,f),v&2048&&sm(f.alternate,f);break;case 24:dl(l,f),v&2048&&am(f.alternate,f);break;default:dl(l,f)}s=s.sibling}}var hl=8192;function Ms(i,s,l){if(i.subtreeFlags&hl)for(i=i.child;i!==null;)dE(i,s,l),i=i.sibling}function dE(i,s,l){switch(i.tag){case 26:Ms(i,s,l),i.flags&hl&&i.memoizedState!==null&&wP(l,Yn,i.memoizedState,i.memoizedProps);break;case 5:Ms(i,s,l);break;case 3:case 4:var f=Yn;Yn=Qc(i.stateNode.containerInfo),Ms(i,s,l),Yn=f;break;case 22:i.memoizedState===null&&(f=i.alternate,f!==null&&f.memoizedState!==null?(f=hl,hl=16777216,Ms(i,s,l),hl=f):Ms(i,s,l));break;default:Ms(i,s,l)}}function hE(i){var s=i.alternate;if(s!==null&&(i=s.child,i!==null)){s.child=null;do s=i.sibling,i.sibling=null,i=s;while(i!==null)}}function pl(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var l=0;l<s.length;l++){var f=s[l];St=f,mE(f,i)}hE(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)pE(i),i=i.sibling}function pE(i){switch(i.tag){case 0:case 11:case 15:pl(i),i.flags&2048&&Di(9,i,i.return);break;case 3:pl(i);break;case 12:pl(i);break;case 22:var s=i.stateNode;i.memoizedState!==null&&s._visibility&2&&(i.return===null||i.return.tag!==13)?(s._visibility&=-3,Hc(i)):pl(i);break;default:pl(i)}}function Hc(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var l=0;l<s.length;l++){var f=s[l];St=f,mE(f,i)}hE(i)}for(i=i.child;i!==null;){switch(s=i,s.tag){case 0:case 11:case 15:Di(8,s,s.return),Hc(s);break;case 22:l=s.stateNode,l._visibility&2&&(l._visibility&=-3,Hc(s));break;default:Hc(s)}i=i.sibling}}function mE(i,s){for(;St!==null;){var l=St;switch(l.tag){case 0:case 11:case 15:Di(8,l,s);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var f=l.memoizedState.cachePool.pool;f!=null&&f.refCount++}break;case 24:Wa(l.memoizedState.cache)}if(f=l.child,f!==null)f.return=l,St=f;else e:for(l=i;St!==null;){f=St;var v=f.sibling,_=f.return;if(rE(f),f===l){St=null;break e}if(v!==null){v.return=_,St=v;break e}St=_}}}var B1={getCacheForType:function(i){var s=Rt(ft),l=s.data.get(i);return l===void 0&&(l=i(),s.data.set(i,l)),l},cacheSignal:function(){return Rt(ft).controller.signal}},H1=typeof WeakMap=="function"?WeakMap:Map,Je=0,Ze=null,De=null,Pe=0,Ke=0,cn=null,Oi=!1,Ns=!1,lm=!1,jo=0,at=0,Pi=0,Rr=0,um=0,fn=0,Is=0,ml=null,jt=null,cm=!1,Fc=0,gE=0,$c=1/0,Gc=null,ki=null,gt=0,Li=null,Ds=null,Wo=0,fm=0,dm=null,vE=null,gl=0,hm=null;function dn(){return(Je&2)!==0&&Pe!==0?Pe&-Pe:H.T!==null?_m():O_()}function yE(){if(fn===0)if((Pe&536870912)===0||Le){var i=ju;ju<<=1,(ju&3932160)===0&&(ju=262144),fn=i}else fn=536870912;return i=ln.current,i!==null&&(i.flags|=32),fn}function Wt(i,s,l){(i===Ze&&(Ke===2||Ke===9)||i.cancelPendingCommit!==null)&&(Os(i,0),Ui(i,Pe,fn,!1)),Ua(i,l),((Je&2)===0||i!==Ze)&&(i===Ze&&((Je&2)===0&&(Rr|=l),at===4&&Ui(i,Pe,fn,!1)),go(i))}function _E(i,s,l){if((Je&6)!==0)throw Error(o(327));var f=!l&&(s&127)===0&&(s&i.expiredLanes)===0||La(i,s),v=f?G1(i,s):mm(i,s,!0),_=f;do{if(v===0){Ns&&!f&&Ui(i,s,0,!1);break}else{if(l=i.current.alternate,_&&!F1(l)){v=mm(i,s,!1),_=!1;continue}if(v===2){if(_=s,i.errorRecoveryDisabledLanes&_)var b=0;else b=i.pendingLanes&-536870913,b=b!==0?b:b&536870912?536870912:0;if(b!==0){s=b;e:{var R=i;v=ml;var P=R.current.memoizedState.isDehydrated;if(P&&(Os(R,b).flags|=256),b=mm(R,b,!1),b!==2){if(lm&&!P){R.errorRecoveryDisabledLanes|=_,Rr|=_,v=4;break e}_=jt,jt=v,_!==null&&(jt===null?jt=_:jt.push.apply(jt,_))}v=b}if(_=!1,v!==2)continue}}if(v===1){Os(i,0),Ui(i,s,0,!0);break}e:{switch(f=i,_=v,_){case 0:case 1:throw Error(o(345));case 4:if((s&4194048)!==s)break;case 6:Ui(f,s,fn,!Oi);break e;case 2:jt=null;break;case 3:case 5:break;default:throw Error(o(329))}if((s&62914560)===s&&(v=Fc+300-Ct(),10<v)){if(Ui(f,s,fn,!Oi),Qu(f,0,!0)!==0)break e;Wo=s,f.timeoutHandle=jE(SE.bind(null,f,l,jt,Gc,cm,s,fn,Rr,Is,Oi,_,"Throttled",-0,0),v);break e}SE(f,l,jt,Gc,cm,s,fn,Rr,Is,Oi,_,null,-0,0)}}break}while(!0);go(i)}function SE(i,s,l,f,v,_,b,R,P,G,j,te,z,K){if(i.timeoutHandle=-1,te=s.subtreeFlags,te&8192||(te&16785408)===16785408){te={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Lo},dE(s,_,te);var he=(_&62914560)===_?Fc-Ct():(_&4194048)===_?gE-Ct():0;if(he=TP(te,he),he!==null){Wo=_,i.cancelPendingCommit=he(RE.bind(null,i,s,_,l,f,v,b,R,P,j,te,null,z,K)),Ui(i,_,b,!G);return}}RE(i,s,_,l,f,v,b,R,P)}function F1(i){for(var s=i;;){var l=s.tag;if((l===0||l===11||l===15)&&s.flags&16384&&(l=s.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var f=0;f<l.length;f++){var v=l[f],_=v.getSnapshot;v=v.value;try{if(!sn(_(),v))return!1}catch{return!1}}if(l=s.child,s.subtreeFlags&16384&&l!==null)l.return=s,s=l;else{if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Ui(i,s,l,f){s&=~um,s&=~Rr,i.suspendedLanes|=s,i.pingedLanes&=~s,f&&(i.warmLanes|=s),f=i.expirationTimes;for(var v=s;0<v;){var _=31-rn(v),b=1<<_;f[_]=-1,v&=~b}l!==0&&N_(i,l,s)}function Vc(){return(Je&6)===0?(vl(0),!1):!0}function pm(){if(De!==null){if(Ke===0)var i=De.return;else i=De,Fo=_r=null,Np(i),ws=null,Za=0,i=De;for(;i!==null;)WS(i.alternate,i),i=i.return;De=null}}function Os(i,s){var l=i.timeoutHandle;l!==-1&&(i.timeoutHandle=-1,sP(l)),l=i.cancelPendingCommit,l!==null&&(i.cancelPendingCommit=null,l()),Wo=0,pm(),Ze=i,De=l=Bo(i.current,null),Pe=s,Ke=0,cn=null,Oi=!1,Ns=La(i,s),lm=!1,Is=fn=um=Rr=Pi=at=0,jt=ml=null,cm=!1,(s&8)!==0&&(s|=s&32);var f=i.entangledLanes;if(f!==0)for(i=i.entanglements,f&=s;0<f;){var v=31-rn(f),_=1<<v;s|=i[v],f&=~_}return jo=s,cc(),l}function EE(i,s){xe=null,H.H=al,s===bs||s===yc?(s=U0(),Ke=3):s===yp?(s=U0(),Ke=4):Ke=s===Jp?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,cn=s,De===null&&(at=1,Dc(i,An(s,i.current)))}function bE(){var i=ln.current;return i===null?!0:(Pe&4194048)===Pe?Nn===null:(Pe&62914560)===Pe||(Pe&536870912)!==0?i===Nn:!1}function wE(){var i=H.H;return H.H=al,i===null?al:i}function TE(){var i=H.A;return H.A=B1,i}function zc(){at=4,Oi||(Pe&4194048)!==Pe&&ln.current!==null||(Ns=!0),(Pi&134217727)===0&&(Rr&134217727)===0||Ze===null||Ui(Ze,Pe,fn,!1)}function mm(i,s,l){var f=Je;Je|=2;var v=wE(),_=TE();(Ze!==i||Pe!==s)&&(Gc=null,Os(i,s)),s=!1;var b=at;e:do try{if(Ke!==0&&De!==null){var R=De,P=cn;switch(Ke){case 8:pm(),b=6;break e;case 3:case 2:case 9:case 6:ln.current===null&&(s=!0);var G=Ke;if(Ke=0,cn=null,Ps(i,R,P,G),l&&Ns){b=0;break e}break;default:G=Ke,Ke=0,cn=null,Ps(i,R,P,G)}}$1(),b=at;break}catch(j){EE(i,j)}while(!0);return s&&i.shellSuspendCounter++,Fo=_r=null,Je=f,H.H=v,H.A=_,De===null&&(Ze=null,Pe=0,cc()),b}function $1(){for(;De!==null;)CE(De)}function G1(i,s){var l=Je;Je|=2;var f=wE(),v=TE();Ze!==i||Pe!==s?(Gc=null,$c=Ct()+500,Os(i,s)):Ns=La(i,s);e:do try{if(Ke!==0&&De!==null){s=De;var _=cn;t:switch(Ke){case 1:Ke=0,cn=null,Ps(i,s,_,1);break;case 2:case 9:if(k0(_)){Ke=0,cn=null,AE(s);break}s=function(){Ke!==2&&Ke!==9||Ze!==i||(Ke=7),go(i)},_.then(s,s);break e;case 3:Ke=7;break e;case 4:Ke=5;break e;case 7:k0(_)?(Ke=0,cn=null,AE(s)):(Ke=0,cn=null,Ps(i,s,_,7));break;case 5:var b=null;switch(De.tag){case 26:b=De.memoizedState;case 5:case 27:var R=De;if(b?fb(b):R.stateNode.complete){Ke=0,cn=null;var P=R.sibling;if(P!==null)De=P;else{var G=R.return;G!==null?(De=G,qc(G)):De=null}break t}}Ke=0,cn=null,Ps(i,s,_,5);break;case 6:Ke=0,cn=null,Ps(i,s,_,6);break;case 8:pm(),at=6;break e;default:throw Error(o(462))}}V1();break}catch(j){EE(i,j)}while(!0);return Fo=_r=null,H.H=f,H.A=v,Je=l,De!==null?0:(Ze=null,Pe=0,cc(),at)}function V1(){for(;De!==null&&!Ju();)CE(De)}function CE(i){var s=XS(i.alternate,i,jo);i.memoizedProps=i.pendingProps,s===null?qc(i):De=s}function AE(i){var s=i,l=s.alternate;switch(s.tag){case 15:case 0:s=VS(l,s,s.pendingProps,s.type,void 0,Pe);break;case 11:s=VS(l,s,s.pendingProps,s.type.render,s.ref,Pe);break;case 5:Np(s);default:WS(l,s),s=De=T0(s,jo),s=XS(l,s,jo)}i.memoizedProps=i.pendingProps,s===null?qc(i):De=s}function Ps(i,s,l,f){Fo=_r=null,Np(s),ws=null,Za=0;var v=s.return;try{if(I1(i,v,s,l,Pe)){at=1,Dc(i,An(l,i.current)),De=null;return}}catch(_){if(v!==null)throw De=v,_;at=1,Dc(i,An(l,i.current)),De=null;return}s.flags&32768?(Le||f===1?i=!0:Ns||(Pe&536870912)!==0?i=!1:(Oi=i=!0,(f===2||f===9||f===3||f===6)&&(f=ln.current,f!==null&&f.tag===13&&(f.flags|=16384))),xE(s,i)):qc(s)}function qc(i){var s=i;do{if((s.flags&32768)!==0){xE(s,Oi);return}i=s.return;var l=P1(s.alternate,s,jo);if(l!==null){De=l;return}if(s=s.sibling,s!==null){De=s;return}De=s=i}while(s!==null);at===0&&(at=5)}function xE(i,s){do{var l=k1(i.alternate,i);if(l!==null){l.flags&=32767,De=l;return}if(l=i.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!s&&(i=i.sibling,i!==null)){De=i;return}De=i=l}while(i!==null);at=6,De=null}function RE(i,s,l,f,v,_,b,R,P){i.cancelPendingCommit=null;do Jc();while(gt!==0);if((Je&6)!==0)throw Error(o(327));if(s!==null){if(s===i.current)throw Error(o(177));if(_=s.lanes|s.childLanes,_|=op,bO(i,l,_,b,R,P),i===Ze&&(De=Ze=null,Pe=0),Ds=s,Li=i,Wo=l,fm=_,dm=v,vE=f,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,K1(cr,function(){return OE(),null})):(i.callbackNode=null,i.callbackPriority=0),f=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||f){f=H.T,H.T=null,v=Q.p,Q.p=2,b=Je,Je|=4;try{L1(i,s,l)}finally{Je=b,Q.p=v,H.T=f}}gt=1,ME(),NE(),IE()}}function ME(){if(gt===1){gt=0;var i=Li,s=Ds,l=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||l){l=H.T,H.T=null;var f=Q.p;Q.p=2;var v=Je;Je|=4;try{uE(s,i);var _=xm,b=m0(i.containerInfo),R=_.focusedElem,P=_.selectionRange;if(b!==R&&R&&R.ownerDocument&&p0(R.ownerDocument.documentElement,R)){if(P!==null&&Qh(R)){var G=P.start,j=P.end;if(j===void 0&&(j=G),"selectionStart"in R)R.selectionStart=G,R.selectionEnd=Math.min(j,R.value.length);else{var te=R.ownerDocument||document,z=te&&te.defaultView||window;if(z.getSelection){var K=z.getSelection(),he=R.textContent.length,be=Math.min(P.start,he),We=P.end===void 0?be:Math.min(P.end,he);!K.extend&&be>We&&(b=We,We=be,be=b);var F=h0(R,be),B=h0(R,We);if(F&&B&&(K.rangeCount!==1||K.anchorNode!==F.node||K.anchorOffset!==F.offset||K.focusNode!==B.node||K.focusOffset!==B.offset)){var $=te.createRange();$.setStart(F.node,F.offset),K.removeAllRanges(),be>We?(K.addRange($),K.extend(B.node,B.offset)):($.setEnd(B.node,B.offset),K.addRange($))}}}}for(te=[],K=R;K=K.parentNode;)K.nodeType===1&&te.push({element:K,left:K.scrollLeft,top:K.scrollTop});for(typeof R.focus=="function"&&R.focus(),R=0;R<te.length;R++){var Z=te[R];Z.element.scrollLeft=Z.left,Z.element.scrollTop=Z.top}}rf=!!Am,xm=Am=null}finally{Je=v,Q.p=f,H.T=l}}i.current=s,gt=2}}function NE(){if(gt===2){gt=0;var i=Li,s=Ds,l=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||l){l=H.T,H.T=null;var f=Q.p;Q.p=2;var v=Je;Je|=4;try{iE(i,s.alternate,s)}finally{Je=v,Q.p=f,H.T=l}}gt=3}}function IE(){if(gt===4||gt===3){gt=0,Ku();var i=Li,s=Ds,l=Wo,f=vE;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?gt=5:(gt=0,Ds=Li=null,DE(i,i.pendingLanes));var v=i.pendingLanes;if(v===0&&(ki=null),Oh(l),s=s.stateNode,on&&typeof on.onCommitFiberRoot=="function")try{on.onCommitFiberRoot(ka,s,void 0,(s.current.flags&128)===128)}catch{}if(f!==null){s=H.T,v=Q.p,Q.p=2,H.T=null;try{for(var _=i.onRecoverableError,b=0;b<f.length;b++){var R=f[b];_(R.value,{componentStack:R.stack})}}finally{H.T=s,Q.p=v}}(Wo&3)!==0&&Jc(),go(i),v=i.pendingLanes,(l&261930)!==0&&(v&42)!==0?i===hm?gl++:(gl=0,hm=i):gl=0,vl(0)}}function DE(i,s){(i.pooledCacheLanes&=s)===0&&(s=i.pooledCache,s!=null&&(i.pooledCache=null,Wa(s)))}function Jc(){return ME(),NE(),IE(),OE()}function OE(){if(gt!==5)return!1;var i=Li,s=fm;fm=0;var l=Oh(Wo),f=H.T,v=Q.p;try{Q.p=32>l?32:l,H.T=null,l=dm,dm=null;var _=Li,b=Wo;if(gt=0,Ds=Li=null,Wo=0,(Je&6)!==0)throw Error(o(331));var R=Je;if(Je|=4,pE(_.current),fE(_,_.current,b,l),Je=R,vl(0,!1),on&&typeof on.onPostCommitFiberRoot=="function")try{on.onPostCommitFiberRoot(ka,_)}catch{}return!0}finally{Q.p=v,H.T=f,DE(i,s)}}function PE(i,s,l){s=An(l,s),s=qp(i.stateNode,s,2),i=Mi(i,s,2),i!==null&&(Ua(i,2),go(i))}function Ye(i,s,l){if(i.tag===3)PE(i,i,l);else for(;s!==null;){if(s.tag===3){PE(s,i,l);break}else if(s.tag===1){var f=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(ki===null||!ki.has(f))){i=An(l,i),l=kS(2),f=Mi(s,l,2),f!==null&&(LS(l,f,s,i),Ua(f,2),go(f));break}}s=s.return}}function gm(i,s,l){var f=i.pingCache;if(f===null){f=i.pingCache=new H1;var v=new Set;f.set(s,v)}else v=f.get(s),v===void 0&&(v=new Set,f.set(s,v));v.has(l)||(lm=!0,v.add(l),i=z1.bind(null,i,s,l),s.then(i,i))}function z1(i,s,l){var f=i.pingCache;f!==null&&f.delete(s),i.pingedLanes|=i.suspendedLanes&l,i.warmLanes&=~l,Ze===i&&(Pe&l)===l&&(at===4||at===3&&(Pe&62914560)===Pe&&300>Ct()-Fc?(Je&2)===0&&Os(i,0):um|=l,Is===Pe&&(Is=0)),go(i)}function kE(i,s){s===0&&(s=M_()),i=gr(i,s),i!==null&&(Ua(i,s),go(i))}function q1(i){var s=i.memoizedState,l=0;s!==null&&(l=s.retryLane),kE(i,l)}function J1(i,s){var l=0;switch(i.tag){case 31:case 13:var f=i.stateNode,v=i.memoizedState;v!==null&&(l=v.retryLane);break;case 19:f=i.stateNode;break;case 22:f=i.stateNode._retryCache;break;default:throw Error(o(314))}f!==null&&f.delete(s),kE(i,l)}function K1(i,s){return Jn(i,s)}var Kc=null,ks=null,vm=!1,Yc=!1,ym=!1,Bi=0;function go(i){i!==ks&&i.next===null&&(ks===null?Kc=ks=i:ks=ks.next=i),Yc=!0,vm||(vm=!0,X1())}function vl(i,s){if(!ym&&Yc){ym=!0;do for(var l=!1,f=Kc;f!==null;){if(i!==0){var v=f.pendingLanes;if(v===0)var _=0;else{var b=f.suspendedLanes,R=f.pingedLanes;_=(1<<31-rn(42|i)+1)-1,_&=v&~(b&~R),_=_&201326741?_&201326741|1:_?_|2:0}_!==0&&(l=!0,HE(f,_))}else _=Pe,_=Qu(f,f===Ze?_:0,f.cancelPendingCommit!==null||f.timeoutHandle!==-1),(_&3)===0||La(f,_)||(l=!0,HE(f,_));f=f.next}while(l);ym=!1}}function Y1(){LE()}function LE(){Yc=vm=!1;var i=0;Bi!==0&&rP()&&(i=Bi);for(var s=Ct(),l=null,f=Kc;f!==null;){var v=f.next,_=UE(f,s);_===0?(f.next=null,l===null?Kc=v:l.next=v,v===null&&(ks=l)):(l=f,(i!==0||(_&3)!==0)&&(Yc=!0)),f=v}gt!==0&&gt!==5||vl(i),Bi!==0&&(Bi=0)}function UE(i,s){for(var l=i.suspendedLanes,f=i.pingedLanes,v=i.expirationTimes,_=i.pendingLanes&-62914561;0<_;){var b=31-rn(_),R=1<<b,P=v[b];P===-1?((R&l)===0||(R&f)!==0)&&(v[b]=EO(R,s)):P<=s&&(i.expiredLanes|=R),_&=~R}if(s=Ze,l=Pe,l=Qu(i,i===s?l:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),f=i.callbackNode,l===0||i===s&&(Ke===2||Ke===9)||i.cancelPendingCommit!==null)return f!==null&&f!==null&&_i(f),i.callbackNode=null,i.callbackPriority=0;if((l&3)===0||La(i,l)){if(s=l&-l,s===i.callbackPriority)return s;switch(f!==null&&_i(f),Oh(l)){case 2:case 8:l=Pa;break;case 32:l=cr;break;case 268435456:l=R_;break;default:l=cr}return f=BE.bind(null,i),l=Jn(l,f),i.callbackPriority=s,i.callbackNode=l,s}return f!==null&&f!==null&&_i(f),i.callbackPriority=2,i.callbackNode=null,2}function BE(i,s){if(gt!==0&&gt!==5)return i.callbackNode=null,i.callbackPriority=0,null;var l=i.callbackNode;if(Jc()&&i.callbackNode!==l)return null;var f=Pe;return f=Qu(i,i===Ze?f:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),f===0?null:(_E(i,f,s),UE(i,Ct()),i.callbackNode!=null&&i.callbackNode===l?BE.bind(null,i):null)}function HE(i,s){if(Jc())return null;_E(i,s,!0)}function X1(){aP(function(){(Je&6)!==0?Jn(Oa,Y1):LE()})}function _m(){if(Bi===0){var i=Ss;i===0&&(i=Xu,Xu<<=1,(Xu&261888)===0&&(Xu=256)),Bi=i}return Bi}function FE(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:nc(""+i)}function $E(i,s){var l=s.ownerDocument.createElement("input");return l.name=s.name,l.value=s.value,i.id&&l.setAttribute("form",i.id),s.parentNode.insertBefore(l,s),i=new FormData(i),l.parentNode.removeChild(l),i}function j1(i,s,l,f,v){if(s==="submit"&&l&&l.stateNode===v){var _=FE((v[qt]||null).action),b=f.submitter;b&&(s=(s=b[qt]||null)?FE(s.formAction):b.getAttribute("formAction"),s!==null&&(_=s,b=null));var R=new sc("action","action",null,f,v);i.push({event:R,listeners:[{instance:null,listener:function(){if(f.defaultPrevented){if(Bi!==0){var P=b?$E(v,b):new FormData(v);Hp(l,{pending:!0,data:P,method:v.method,action:_},null,P)}}else typeof _=="function"&&(R.preventDefault(),P=b?$E(v,b):new FormData(v),Hp(l,{pending:!0,data:P,method:v.method,action:_},_,P))},currentTarget:v}]})}}for(var Sm=0;Sm<np.length;Sm++){var Em=np[Sm],W1=Em.toLowerCase(),Q1=Em[0].toUpperCase()+Em.slice(1);Kn(W1,"on"+Q1)}Kn(y0,"onAnimationEnd"),Kn(_0,"onAnimationIteration"),Kn(S0,"onAnimationStart"),Kn("dblclick","onDoubleClick"),Kn("focusin","onFocus"),Kn("focusout","onBlur"),Kn(p1,"onTransitionRun"),Kn(m1,"onTransitionStart"),Kn(g1,"onTransitionCancel"),Kn(E0,"onTransitionEnd"),ss("onMouseEnter",["mouseout","mouseover"]),ss("onMouseLeave",["mouseout","mouseover"]),ss("onPointerEnter",["pointerout","pointerover"]),ss("onPointerLeave",["pointerout","pointerover"]),dr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),dr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),dr("onBeforeInput",["compositionend","keypress","textInput","paste"]),dr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),dr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),dr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var yl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Z1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(yl));function GE(i,s){s=(s&4)!==0;for(var l=0;l<i.length;l++){var f=i[l],v=f.event;f=f.listeners;e:{var _=void 0;if(s)for(var b=f.length-1;0<=b;b--){var R=f[b],P=R.instance,G=R.currentTarget;if(R=R.listener,P!==_&&v.isPropagationStopped())break e;_=R,v.currentTarget=G;try{_(v)}catch(j){uc(j)}v.currentTarget=null,_=P}else for(b=0;b<f.length;b++){if(R=f[b],P=R.instance,G=R.currentTarget,R=R.listener,P!==_&&v.isPropagationStopped())break e;_=R,v.currentTarget=G;try{_(v)}catch(j){uc(j)}v.currentTarget=null,_=P}}}}function Oe(i,s){var l=s[Ph];l===void 0&&(l=s[Ph]=new Set);var f=i+"__bubble";l.has(f)||(VE(s,i,2,!1),l.add(f))}function bm(i,s,l){var f=0;s&&(f|=4),VE(l,i,f,s)}var Xc="_reactListening"+Math.random().toString(36).slice(2);function wm(i){if(!i[Xc]){i[Xc]=!0,L_.forEach(function(l){l!=="selectionchange"&&(Z1.has(l)||bm(l,!1,i),bm(l,!0,i))});var s=i.nodeType===9?i:i.ownerDocument;s===null||s[Xc]||(s[Xc]=!0,bm("selectionchange",!1,s))}}function VE(i,s,l,f){switch(yb(s)){case 2:var v=xP;break;case 8:v=RP;break;default:v=Bm}l=v.bind(null,s,l,i),v=void 0,!Vh||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(v=!0),f?v!==void 0?i.addEventListener(s,l,{capture:!0,passive:v}):i.addEventListener(s,l,!0):v!==void 0?i.addEventListener(s,l,{passive:v}):i.addEventListener(s,l,!1)}function Tm(i,s,l,f,v){var _=f;if((s&1)===0&&(s&2)===0&&f!==null)e:for(;;){if(f===null)return;var b=f.tag;if(b===3||b===4){var R=f.stateNode.containerInfo;if(R===v)break;if(b===4)for(b=f.return;b!==null;){var P=b.tag;if((P===3||P===4)&&b.stateNode.containerInfo===v)return;b=b.return}for(;R!==null;){if(b=os(R),b===null)return;if(P=b.tag,P===5||P===6||P===26||P===27){f=_=b;continue e}R=R.parentNode}}f=f.return}Y_(function(){var G=_,j=$h(l),te=[];e:{var z=b0.get(i);if(z!==void 0){var K=sc,he=i;switch(i){case"keypress":if(ic(l)===0)break e;case"keydown":case"keyup":K=JO;break;case"focusin":he="focus",K=Kh;break;case"focusout":he="blur",K=Kh;break;case"beforeblur":case"afterblur":K=Kh;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":K=W_;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":K=PO;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":K=XO;break;case y0:case _0:case S0:K=UO;break;case E0:K=WO;break;case"scroll":case"scrollend":K=DO;break;case"wheel":K=ZO;break;case"copy":case"cut":case"paste":K=HO;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":K=Z_;break;case"toggle":case"beforetoggle":K=t1}var be=(s&4)!==0,We=!be&&(i==="scroll"||i==="scrollend"),F=be?z!==null?z+"Capture":null:z;be=[];for(var B=G,$;B!==null;){var Z=B;if($=Z.stateNode,Z=Z.tag,Z!==5&&Z!==26&&Z!==27||$===null||F===null||(Z=Fa(B,F),Z!=null&&be.push(_l(B,Z,$))),We)break;B=B.return}0<be.length&&(z=new K(z,he,null,l,j),te.push({event:z,listeners:be}))}}if((s&7)===0){e:{if(z=i==="mouseover"||i==="pointerover",K=i==="mouseout"||i==="pointerout",z&&l!==Fh&&(he=l.relatedTarget||l.fromElement)&&(os(he)||he[ns]))break e;if((K||z)&&(z=j.window===j?j:(z=j.ownerDocument)?z.defaultView||z.parentWindow:window,K?(he=l.relatedTarget||l.toElement,K=G,he=he?os(he):null,he!==null&&(We=a(he),be=he.tag,he!==We||be!==5&&be!==27&&be!==6)&&(he=null)):(K=null,he=G),K!==he)){if(be=W_,Z="onMouseLeave",F="onMouseEnter",B="mouse",(i==="pointerout"||i==="pointerover")&&(be=Z_,Z="onPointerLeave",F="onPointerEnter",B="pointer"),We=K==null?z:Ha(K),$=he==null?z:Ha(he),z=new be(Z,B+"leave",K,l,j),z.target=We,z.relatedTarget=$,Z=null,os(j)===G&&(be=new be(F,B+"enter",he,l,j),be.target=$,be.relatedTarget=We,Z=be),We=Z,K&&he)t:{for(be=eP,F=K,B=he,$=0,Z=F;Z;Z=be(Z))$++;Z=0;for(var _e=B;_e;_e=be(_e))Z++;for(;0<$-Z;)F=be(F),$--;for(;0<Z-$;)B=be(B),Z--;for(;$--;){if(F===B||B!==null&&F===B.alternate){be=F;break t}F=be(F),B=be(B)}be=null}else be=null;K!==null&&zE(te,z,K,be,!1),he!==null&&We!==null&&zE(te,We,he,be,!0)}}e:{if(z=G?Ha(G):window,K=z.nodeName&&z.nodeName.toLowerCase(),K==="select"||K==="input"&&z.type==="file")var Fe=a0;else if(r0(z))if(l0)Fe=f1;else{Fe=u1;var ge=l1}else K=z.nodeName,!K||K.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?G&&Hh(G.elementType)&&(Fe=a0):Fe=c1;if(Fe&&(Fe=Fe(i,G))){s0(te,Fe,l,j);break e}ge&&ge(i,z,G),i==="focusout"&&G&&z.type==="number"&&G.memoizedProps.value!=null&&Bh(z,"number",z.value)}switch(ge=G?Ha(G):window,i){case"focusin":(r0(ge)||ge.contentEditable==="true")&&(ds=ge,Zh=G,Ya=null);break;case"focusout":Ya=Zh=ds=null;break;case"mousedown":ep=!0;break;case"contextmenu":case"mouseup":case"dragend":ep=!1,g0(te,l,j);break;case"selectionchange":if(h1)break;case"keydown":case"keyup":g0(te,l,j)}var Re;if(Xh)e:{switch(i){case"compositionstart":var ke="onCompositionStart";break e;case"compositionend":ke="onCompositionEnd";break e;case"compositionupdate":ke="onCompositionUpdate";break e}ke=void 0}else fs?o0(i,l)&&(ke="onCompositionEnd"):i==="keydown"&&l.keyCode===229&&(ke="onCompositionStart");ke&&(e0&&l.locale!=="ko"&&(fs||ke!=="onCompositionStart"?ke==="onCompositionEnd"&&fs&&(Re=X_()):(bi=j,zh="value"in bi?bi.value:bi.textContent,fs=!0)),ge=jc(G,ke),0<ge.length&&(ke=new Q_(ke,i,null,l,j),te.push({event:ke,listeners:ge}),Re?ke.data=Re:(Re=i0(l),Re!==null&&(ke.data=Re)))),(Re=o1?i1(i,l):r1(i,l))&&(ke=jc(G,"onBeforeInput"),0<ke.length&&(ge=new Q_("onBeforeInput","beforeinput",null,l,j),te.push({event:ge,listeners:ke}),ge.data=Re)),j1(te,i,G,l,j)}GE(te,s)})}function _l(i,s,l){return{instance:i,listener:s,currentTarget:l}}function jc(i,s){for(var l=s+"Capture",f=[];i!==null;){var v=i,_=v.stateNode;if(v=v.tag,v!==5&&v!==26&&v!==27||_===null||(v=Fa(i,l),v!=null&&f.unshift(_l(i,v,_)),v=Fa(i,s),v!=null&&f.push(_l(i,v,_))),i.tag===3)return f;i=i.return}return[]}function eP(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function zE(i,s,l,f,v){for(var _=s._reactName,b=[];l!==null&&l!==f;){var R=l,P=R.alternate,G=R.stateNode;if(R=R.tag,P!==null&&P===f)break;R!==5&&R!==26&&R!==27||G===null||(P=G,v?(G=Fa(l,_),G!=null&&b.unshift(_l(l,G,P))):v||(G=Fa(l,_),G!=null&&b.push(_l(l,G,P)))),l=l.return}b.length!==0&&i.push({event:s,listeners:b})}var tP=/\r\n?/g,nP=/\u0000|\uFFFD/g;function qE(i){return(typeof i=="string"?i:""+i).replace(tP,`
`).replace(nP,"")}function JE(i,s){return s=qE(s),qE(i)===s}function je(i,s,l,f,v,_){switch(l){case"children":typeof f=="string"?s==="body"||s==="textarea"&&f===""||ls(i,f):(typeof f=="number"||typeof f=="bigint")&&s!=="body"&&ls(i,""+f);break;case"className":ec(i,"class",f);break;case"tabIndex":ec(i,"tabindex",f);break;case"dir":case"role":case"viewBox":case"width":case"height":ec(i,l,f);break;case"style":J_(i,f,_);break;case"data":if(s!=="object"){ec(i,"data",f);break}case"src":case"href":if(f===""&&(s!=="a"||l!=="href")){i.removeAttribute(l);break}if(f==null||typeof f=="function"||typeof f=="symbol"||typeof f=="boolean"){i.removeAttribute(l);break}f=nc(""+f),i.setAttribute(l,f);break;case"action":case"formAction":if(typeof f=="function"){i.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof _=="function"&&(l==="formAction"?(s!=="input"&&je(i,s,"name",v.name,v,null),je(i,s,"formEncType",v.formEncType,v,null),je(i,s,"formMethod",v.formMethod,v,null),je(i,s,"formTarget",v.formTarget,v,null)):(je(i,s,"encType",v.encType,v,null),je(i,s,"method",v.method,v,null),je(i,s,"target",v.target,v,null)));if(f==null||typeof f=="symbol"||typeof f=="boolean"){i.removeAttribute(l);break}f=nc(""+f),i.setAttribute(l,f);break;case"onClick":f!=null&&(i.onclick=Lo);break;case"onScroll":f!=null&&Oe("scroll",i);break;case"onScrollEnd":f!=null&&Oe("scrollend",i);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(o(61));if(l=f.__html,l!=null){if(v.children!=null)throw Error(o(60));i.innerHTML=l}}break;case"multiple":i.multiple=f&&typeof f!="function"&&typeof f!="symbol";break;case"muted":i.muted=f&&typeof f!="function"&&typeof f!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(f==null||typeof f=="function"||typeof f=="boolean"||typeof f=="symbol"){i.removeAttribute("xlink:href");break}l=nc(""+f),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":f!=null&&typeof f!="function"&&typeof f!="symbol"?i.setAttribute(l,""+f):i.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":f&&typeof f!="function"&&typeof f!="symbol"?i.setAttribute(l,""):i.removeAttribute(l);break;case"capture":case"download":f===!0?i.setAttribute(l,""):f!==!1&&f!=null&&typeof f!="function"&&typeof f!="symbol"?i.setAttribute(l,f):i.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":f!=null&&typeof f!="function"&&typeof f!="symbol"&&!isNaN(f)&&1<=f?i.setAttribute(l,f):i.removeAttribute(l);break;case"rowSpan":case"start":f==null||typeof f=="function"||typeof f=="symbol"||isNaN(f)?i.removeAttribute(l):i.setAttribute(l,f);break;case"popover":Oe("beforetoggle",i),Oe("toggle",i),Zu(i,"popover",f);break;case"xlinkActuate":ko(i,"http://www.w3.org/1999/xlink","xlink:actuate",f);break;case"xlinkArcrole":ko(i,"http://www.w3.org/1999/xlink","xlink:arcrole",f);break;case"xlinkRole":ko(i,"http://www.w3.org/1999/xlink","xlink:role",f);break;case"xlinkShow":ko(i,"http://www.w3.org/1999/xlink","xlink:show",f);break;case"xlinkTitle":ko(i,"http://www.w3.org/1999/xlink","xlink:title",f);break;case"xlinkType":ko(i,"http://www.w3.org/1999/xlink","xlink:type",f);break;case"xmlBase":ko(i,"http://www.w3.org/XML/1998/namespace","xml:base",f);break;case"xmlLang":ko(i,"http://www.w3.org/XML/1998/namespace","xml:lang",f);break;case"xmlSpace":ko(i,"http://www.w3.org/XML/1998/namespace","xml:space",f);break;case"is":Zu(i,"is",f);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=NO.get(l)||l,Zu(i,l,f))}}function Cm(i,s,l,f,v,_){switch(l){case"style":J_(i,f,_);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(o(61));if(l=f.__html,l!=null){if(v.children!=null)throw Error(o(60));i.innerHTML=l}}break;case"children":typeof f=="string"?ls(i,f):(typeof f=="number"||typeof f=="bigint")&&ls(i,""+f);break;case"onScroll":f!=null&&Oe("scroll",i);break;case"onScrollEnd":f!=null&&Oe("scrollend",i);break;case"onClick":f!=null&&(i.onclick=Lo);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!U_.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(v=l.endsWith("Capture"),s=l.slice(2,v?l.length-7:void 0),_=i[qt]||null,_=_!=null?_[l]:null,typeof _=="function"&&i.removeEventListener(s,_,v),typeof f=="function")){typeof _!="function"&&_!==null&&(l in i?i[l]=null:i.hasAttribute(l)&&i.removeAttribute(l)),i.addEventListener(s,f,v);break e}l in i?i[l]=f:f===!0?i.setAttribute(l,""):Zu(i,l,f)}}}function Nt(i,s,l){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Oe("error",i),Oe("load",i);var f=!1,v=!1,_;for(_ in l)if(l.hasOwnProperty(_)){var b=l[_];if(b!=null)switch(_){case"src":f=!0;break;case"srcSet":v=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(o(137,s));default:je(i,s,_,b,l,null)}}v&&je(i,s,"srcSet",l.srcSet,l,null),f&&je(i,s,"src",l.src,l,null);return;case"input":Oe("invalid",i);var R=_=b=v=null,P=null,G=null;for(f in l)if(l.hasOwnProperty(f)){var j=l[f];if(j!=null)switch(f){case"name":v=j;break;case"type":b=j;break;case"checked":P=j;break;case"defaultChecked":G=j;break;case"value":_=j;break;case"defaultValue":R=j;break;case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(o(137,s));break;default:je(i,s,f,j,l,null)}}G_(i,_,R,P,G,b,v,!1);return;case"select":Oe("invalid",i),f=b=_=null;for(v in l)if(l.hasOwnProperty(v)&&(R=l[v],R!=null))switch(v){case"value":_=R;break;case"defaultValue":b=R;break;case"multiple":f=R;default:je(i,s,v,R,l,null)}s=_,l=b,i.multiple=!!f,s!=null?as(i,!!f,s,!1):l!=null&&as(i,!!f,l,!0);return;case"textarea":Oe("invalid",i),_=v=f=null;for(b in l)if(l.hasOwnProperty(b)&&(R=l[b],R!=null))switch(b){case"value":f=R;break;case"defaultValue":v=R;break;case"children":_=R;break;case"dangerouslySetInnerHTML":if(R!=null)throw Error(o(91));break;default:je(i,s,b,R,l,null)}z_(i,f,v,_);return;case"option":for(P in l)if(l.hasOwnProperty(P)&&(f=l[P],f!=null))switch(P){case"selected":i.selected=f&&typeof f!="function"&&typeof f!="symbol";break;default:je(i,s,P,f,l,null)}return;case"dialog":Oe("beforetoggle",i),Oe("toggle",i),Oe("cancel",i),Oe("close",i);break;case"iframe":case"object":Oe("load",i);break;case"video":case"audio":for(f=0;f<yl.length;f++)Oe(yl[f],i);break;case"image":Oe("error",i),Oe("load",i);break;case"details":Oe("toggle",i);break;case"embed":case"source":case"link":Oe("error",i),Oe("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(G in l)if(l.hasOwnProperty(G)&&(f=l[G],f!=null))switch(G){case"children":case"dangerouslySetInnerHTML":throw Error(o(137,s));default:je(i,s,G,f,l,null)}return;default:if(Hh(s)){for(j in l)l.hasOwnProperty(j)&&(f=l[j],f!==void 0&&Cm(i,s,j,f,l,void 0));return}}for(R in l)l.hasOwnProperty(R)&&(f=l[R],f!=null&&je(i,s,R,f,l,null))}function oP(i,s,l,f){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var v=null,_=null,b=null,R=null,P=null,G=null,j=null;for(K in l){var te=l[K];if(l.hasOwnProperty(K)&&te!=null)switch(K){case"checked":break;case"value":break;case"defaultValue":P=te;default:f.hasOwnProperty(K)||je(i,s,K,null,f,te)}}for(var z in f){var K=f[z];if(te=l[z],f.hasOwnProperty(z)&&(K!=null||te!=null))switch(z){case"type":_=K;break;case"name":v=K;break;case"checked":G=K;break;case"defaultChecked":j=K;break;case"value":b=K;break;case"defaultValue":R=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(o(137,s));break;default:K!==te&&je(i,s,z,K,f,te)}}Uh(i,b,R,P,G,j,_,v);return;case"select":K=b=R=z=null;for(_ in l)if(P=l[_],l.hasOwnProperty(_)&&P!=null)switch(_){case"value":break;case"multiple":K=P;default:f.hasOwnProperty(_)||je(i,s,_,null,f,P)}for(v in f)if(_=f[v],P=l[v],f.hasOwnProperty(v)&&(_!=null||P!=null))switch(v){case"value":z=_;break;case"defaultValue":R=_;break;case"multiple":b=_;default:_!==P&&je(i,s,v,_,f,P)}s=R,l=b,f=K,z!=null?as(i,!!l,z,!1):!!f!=!!l&&(s!=null?as(i,!!l,s,!0):as(i,!!l,l?[]:"",!1));return;case"textarea":K=z=null;for(R in l)if(v=l[R],l.hasOwnProperty(R)&&v!=null&&!f.hasOwnProperty(R))switch(R){case"value":break;case"children":break;default:je(i,s,R,null,f,v)}for(b in f)if(v=f[b],_=l[b],f.hasOwnProperty(b)&&(v!=null||_!=null))switch(b){case"value":z=v;break;case"defaultValue":K=v;break;case"children":break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(o(91));break;default:v!==_&&je(i,s,b,v,f,_)}V_(i,z,K);return;case"option":for(var he in l)if(z=l[he],l.hasOwnProperty(he)&&z!=null&&!f.hasOwnProperty(he))switch(he){case"selected":i.selected=!1;break;default:je(i,s,he,null,f,z)}for(P in f)if(z=f[P],K=l[P],f.hasOwnProperty(P)&&z!==K&&(z!=null||K!=null))switch(P){case"selected":i.selected=z&&typeof z!="function"&&typeof z!="symbol";break;default:je(i,s,P,z,f,K)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var be in l)z=l[be],l.hasOwnProperty(be)&&z!=null&&!f.hasOwnProperty(be)&&je(i,s,be,null,f,z);for(G in f)if(z=f[G],K=l[G],f.hasOwnProperty(G)&&z!==K&&(z!=null||K!=null))switch(G){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(o(137,s));break;default:je(i,s,G,z,f,K)}return;default:if(Hh(s)){for(var We in l)z=l[We],l.hasOwnProperty(We)&&z!==void 0&&!f.hasOwnProperty(We)&&Cm(i,s,We,void 0,f,z);for(j in f)z=f[j],K=l[j],!f.hasOwnProperty(j)||z===K||z===void 0&&K===void 0||Cm(i,s,j,z,f,K);return}}for(var F in l)z=l[F],l.hasOwnProperty(F)&&z!=null&&!f.hasOwnProperty(F)&&je(i,s,F,null,f,z);for(te in f)z=f[te],K=l[te],!f.hasOwnProperty(te)||z===K||z==null&&K==null||je(i,s,te,z,f,K)}function KE(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function iP(){if(typeof performance.getEntriesByType=="function"){for(var i=0,s=0,l=performance.getEntriesByType("resource"),f=0;f<l.length;f++){var v=l[f],_=v.transferSize,b=v.initiatorType,R=v.duration;if(_&&R&&KE(b)){for(b=0,R=v.responseEnd,f+=1;f<l.length;f++){var P=l[f],G=P.startTime;if(G>R)break;var j=P.transferSize,te=P.initiatorType;j&&KE(te)&&(P=P.responseEnd,b+=j*(P<R?1:(R-G)/(P-G)))}if(--f,s+=8*(_+b)/(v.duration/1e3),i++,10<i)break}}if(0<i)return s/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var Am=null,xm=null;function Wc(i){return i.nodeType===9?i:i.ownerDocument}function YE(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function XE(i,s){if(i===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&s==="foreignObject"?0:i}function Rm(i,s){return i==="textarea"||i==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Mm=null;function rP(){var i=window.event;return i&&i.type==="popstate"?i===Mm?!1:(Mm=i,!0):(Mm=null,!1)}var jE=typeof setTimeout=="function"?setTimeout:void 0,sP=typeof clearTimeout=="function"?clearTimeout:void 0,WE=typeof Promise=="function"?Promise:void 0,aP=typeof queueMicrotask=="function"?queueMicrotask:typeof WE<"u"?function(i){return WE.resolve(null).then(i).catch(lP)}:jE;function lP(i){setTimeout(function(){throw i})}function Hi(i){return i==="head"}function QE(i,s){var l=s,f=0;do{var v=l.nextSibling;if(i.removeChild(l),v&&v.nodeType===8)if(l=v.data,l==="/$"||l==="/&"){if(f===0){i.removeChild(v),Hs(s);return}f--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")f++;else if(l==="html")Sl(i.ownerDocument.documentElement);else if(l==="head"){l=i.ownerDocument.head,Sl(l);for(var _=l.firstChild;_;){var b=_.nextSibling,R=_.nodeName;_[Ba]||R==="SCRIPT"||R==="STYLE"||R==="LINK"&&_.rel.toLowerCase()==="stylesheet"||l.removeChild(_),_=b}}else l==="body"&&Sl(i.ownerDocument.body);l=v}while(l);Hs(s)}function ZE(i,s){var l=i;i=0;do{var f=l.nextSibling;if(l.nodeType===1?s?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(s?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),f&&f.nodeType===8)if(l=f.data,l==="/$"){if(i===0)break;i--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||i++;l=f}while(l)}function Nm(i){var s=i.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var l=s;switch(s=s.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":Nm(l),kh(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}i.removeChild(l)}}function uP(i,s,l,f){for(;i.nodeType===1;){var v=l;if(i.nodeName.toLowerCase()!==s.toLowerCase()){if(!f&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(f){if(!i[Ba])switch(s){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(_=i.getAttribute("rel"),_==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(_!==v.rel||i.getAttribute("href")!==(v.href==null||v.href===""?null:v.href)||i.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin)||i.getAttribute("title")!==(v.title==null?null:v.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(_=i.getAttribute("src"),(_!==(v.src==null?null:v.src)||i.getAttribute("type")!==(v.type==null?null:v.type)||i.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin))&&_&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(s==="input"&&i.type==="hidden"){var _=v.name==null?null:""+v.name;if(v.type==="hidden"&&i.getAttribute("name")===_)return i}else return i;if(i=In(i.nextSibling),i===null)break}return null}function cP(i,s,l){if(s==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!l||(i=In(i.nextSibling),i===null))return null;return i}function eb(i,s){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!s||(i=In(i.nextSibling),i===null))return null;return i}function Im(i){return i.data==="$?"||i.data==="$~"}function Dm(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function fP(i,s){var l=i.ownerDocument;if(i.data==="$~")i._reactRetry=s;else if(i.data!=="$?"||l.readyState!=="loading")s();else{var f=function(){s(),l.removeEventListener("DOMContentLoaded",f)};l.addEventListener("DOMContentLoaded",f),i._reactRetry=f}}function In(i){for(;i!=null;i=i.nextSibling){var s=i.nodeType;if(s===1||s===3)break;if(s===8){if(s=i.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return i}var Om=null;function tb(i){i=i.nextSibling;for(var s=0;i;){if(i.nodeType===8){var l=i.data;if(l==="/$"||l==="/&"){if(s===0)return In(i.nextSibling);s--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||s++}i=i.nextSibling}return null}function nb(i){i=i.previousSibling;for(var s=0;i;){if(i.nodeType===8){var l=i.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(s===0)return i;s--}else l!=="/$"&&l!=="/&"||s++}i=i.previousSibling}return null}function ob(i,s,l){switch(s=Wc(l),i){case"html":if(i=s.documentElement,!i)throw Error(o(452));return i;case"head":if(i=s.head,!i)throw Error(o(453));return i;case"body":if(i=s.body,!i)throw Error(o(454));return i;default:throw Error(o(451))}}function Sl(i){for(var s=i.attributes;s.length;)i.removeAttributeNode(s[0]);kh(i)}var Dn=new Map,ib=new Set;function Qc(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var Qo=Q.d;Q.d={f:dP,r:hP,D:pP,C:mP,L:gP,m:vP,X:_P,S:yP,M:SP};function dP(){var i=Qo.f(),s=Vc();return i||s}function hP(i){var s=is(i);s!==null&&s.tag===5&&s.type==="form"?ES(s):Qo.r(i)}var Ls=typeof document>"u"?null:document;function rb(i,s,l){var f=Ls;if(f&&typeof s=="string"&&s){var v=Tn(s);v='link[rel="'+i+'"][href="'+v+'"]',typeof l=="string"&&(v+='[crossorigin="'+l+'"]'),ib.has(v)||(ib.add(v),i={rel:i,crossOrigin:l,href:s},f.querySelector(v)===null&&(s=f.createElement("link"),Nt(s,"link",i),_t(s),f.head.appendChild(s)))}}function pP(i){Qo.D(i),rb("dns-prefetch",i,null)}function mP(i,s){Qo.C(i,s),rb("preconnect",i,s)}function gP(i,s,l){Qo.L(i,s,l);var f=Ls;if(f&&i&&s){var v='link[rel="preload"][as="'+Tn(s)+'"]';s==="image"&&l&&l.imageSrcSet?(v+='[imagesrcset="'+Tn(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(v+='[imagesizes="'+Tn(l.imageSizes)+'"]')):v+='[href="'+Tn(i)+'"]';var _=v;switch(s){case"style":_=Us(i);break;case"script":_=Bs(i)}Dn.has(_)||(i=y({rel:"preload",href:s==="image"&&l&&l.imageSrcSet?void 0:i,as:s},l),Dn.set(_,i),f.querySelector(v)!==null||s==="style"&&f.querySelector(El(_))||s==="script"&&f.querySelector(bl(_))||(s=f.createElement("link"),Nt(s,"link",i),_t(s),f.head.appendChild(s)))}}function vP(i,s){Qo.m(i,s);var l=Ls;if(l&&i){var f=s&&typeof s.as=="string"?s.as:"script",v='link[rel="modulepreload"][as="'+Tn(f)+'"][href="'+Tn(i)+'"]',_=v;switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":_=Bs(i)}if(!Dn.has(_)&&(i=y({rel:"modulepreload",href:i},s),Dn.set(_,i),l.querySelector(v)===null)){switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(bl(_)))return}f=l.createElement("link"),Nt(f,"link",i),_t(f),l.head.appendChild(f)}}}function yP(i,s,l){Qo.S(i,s,l);var f=Ls;if(f&&i){var v=rs(f).hoistableStyles,_=Us(i);s=s||"default";var b=v.get(_);if(!b){var R={loading:0,preload:null};if(b=f.querySelector(El(_)))R.loading=5;else{i=y({rel:"stylesheet",href:i,"data-precedence":s},l),(l=Dn.get(_))&&Pm(i,l);var P=b=f.createElement("link");_t(P),Nt(P,"link",i),P._p=new Promise(function(G,j){P.onload=G,P.onerror=j}),P.addEventListener("load",function(){R.loading|=1}),P.addEventListener("error",function(){R.loading|=2}),R.loading|=4,Zc(b,s,f)}b={type:"stylesheet",instance:b,count:1,state:R},v.set(_,b)}}}function _P(i,s){Qo.X(i,s);var l=Ls;if(l&&i){var f=rs(l).hoistableScripts,v=Bs(i),_=f.get(v);_||(_=l.querySelector(bl(v)),_||(i=y({src:i,async:!0},s),(s=Dn.get(v))&&km(i,s),_=l.createElement("script"),_t(_),Nt(_,"link",i),l.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},f.set(v,_))}}function SP(i,s){Qo.M(i,s);var l=Ls;if(l&&i){var f=rs(l).hoistableScripts,v=Bs(i),_=f.get(v);_||(_=l.querySelector(bl(v)),_||(i=y({src:i,async:!0,type:"module"},s),(s=Dn.get(v))&&km(i,s),_=l.createElement("script"),_t(_),Nt(_,"link",i),l.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},f.set(v,_))}}function sb(i,s,l,f){var v=(v=Ee.current)?Qc(v):null;if(!v)throw Error(o(446));switch(i){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(s=Us(l.href),l=rs(v).hoistableStyles,f=l.get(s),f||(f={type:"style",instance:null,count:0,state:null},l.set(s,f)),f):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){i=Us(l.href);var _=rs(v).hoistableStyles,b=_.get(i);if(b||(v=v.ownerDocument||v,b={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},_.set(i,b),(_=v.querySelector(El(i)))&&!_._p&&(b.instance=_,b.state.loading=5),Dn.has(i)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},Dn.set(i,l),_||EP(v,i,l,b.state))),s&&f===null)throw Error(o(528,""));return b}if(s&&f!==null)throw Error(o(529,""));return null;case"script":return s=l.async,l=l.src,typeof l=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Bs(l),l=rs(v).hoistableScripts,f=l.get(s),f||(f={type:"script",instance:null,count:0,state:null},l.set(s,f)),f):{type:"void",instance:null,count:0,state:null};default:throw Error(o(444,i))}}function Us(i){return'href="'+Tn(i)+'"'}function El(i){return'link[rel="stylesheet"]['+i+"]"}function ab(i){return y({},i,{"data-precedence":i.precedence,precedence:null})}function EP(i,s,l,f){i.querySelector('link[rel="preload"][as="style"]['+s+"]")?f.loading=1:(s=i.createElement("link"),f.preload=s,s.addEventListener("load",function(){return f.loading|=1}),s.addEventListener("error",function(){return f.loading|=2}),Nt(s,"link",l),_t(s),i.head.appendChild(s))}function Bs(i){return'[src="'+Tn(i)+'"]'}function bl(i){return"script[async]"+i}function lb(i,s,l){if(s.count++,s.instance===null)switch(s.type){case"style":var f=i.querySelector('style[data-href~="'+Tn(l.href)+'"]');if(f)return s.instance=f,_t(f),f;var v=y({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return f=(i.ownerDocument||i).createElement("style"),_t(f),Nt(f,"style",v),Zc(f,l.precedence,i),s.instance=f;case"stylesheet":v=Us(l.href);var _=i.querySelector(El(v));if(_)return s.state.loading|=4,s.instance=_,_t(_),_;f=ab(l),(v=Dn.get(v))&&Pm(f,v),_=(i.ownerDocument||i).createElement("link"),_t(_);var b=_;return b._p=new Promise(function(R,P){b.onload=R,b.onerror=P}),Nt(_,"link",f),s.state.loading|=4,Zc(_,l.precedence,i),s.instance=_;case"script":return _=Bs(l.src),(v=i.querySelector(bl(_)))?(s.instance=v,_t(v),v):(f=l,(v=Dn.get(_))&&(f=y({},l),km(f,v)),i=i.ownerDocument||i,v=i.createElement("script"),_t(v),Nt(v,"link",f),i.head.appendChild(v),s.instance=v);case"void":return null;default:throw Error(o(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(f=s.instance,s.state.loading|=4,Zc(f,l.precedence,i));return s.instance}function Zc(i,s,l){for(var f=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),v=f.length?f[f.length-1]:null,_=v,b=0;b<f.length;b++){var R=f[b];if(R.dataset.precedence===s)_=R;else if(_!==v)break}_?_.parentNode.insertBefore(i,_.nextSibling):(s=l.nodeType===9?l.head:l,s.insertBefore(i,s.firstChild))}function Pm(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.title==null&&(i.title=s.title)}function km(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.integrity==null&&(i.integrity=s.integrity)}var ef=null;function ub(i,s,l){if(ef===null){var f=new Map,v=ef=new Map;v.set(l,f)}else v=ef,f=v.get(l),f||(f=new Map,v.set(l,f));if(f.has(i))return f;for(f.set(i,null),l=l.getElementsByTagName(i),v=0;v<l.length;v++){var _=l[v];if(!(_[Ba]||_[At]||i==="link"&&_.getAttribute("rel")==="stylesheet")&&_.namespaceURI!=="http://www.w3.org/2000/svg"){var b=_.getAttribute(s)||"";b=i+b;var R=f.get(b);R?R.push(_):f.set(b,[_])}}return f}function cb(i,s,l){i=i.ownerDocument||i,i.head.insertBefore(l,s==="title"?i.querySelector("head > title"):null)}function bP(i,s,l){if(l===1||s.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return i=s.disabled,typeof s.precedence=="string"&&i==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function fb(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function wP(i,s,l,f){if(l.type==="stylesheet"&&(typeof f.media!="string"||matchMedia(f.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var v=Us(f.href),_=s.querySelector(El(v));if(_){s=_._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(i.count++,i=tf.bind(i),s.then(i,i)),l.state.loading|=4,l.instance=_,_t(_);return}_=s.ownerDocument||s,f=ab(f),(v=Dn.get(v))&&Pm(f,v),_=_.createElement("link"),_t(_);var b=_;b._p=new Promise(function(R,P){b.onload=R,b.onerror=P}),Nt(_,"link",f),l.instance=_}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(l,s),(s=l.state.preload)&&(l.state.loading&3)===0&&(i.count++,l=tf.bind(i),s.addEventListener("load",l),s.addEventListener("error",l))}}var Lm=0;function TP(i,s){return i.stylesheets&&i.count===0&&of(i,i.stylesheets),0<i.count||0<i.imgCount?function(l){var f=setTimeout(function(){if(i.stylesheets&&of(i,i.stylesheets),i.unsuspend){var _=i.unsuspend;i.unsuspend=null,_()}},6e4+s);0<i.imgBytes&&Lm===0&&(Lm=62500*iP());var v=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&of(i,i.stylesheets),i.unsuspend)){var _=i.unsuspend;i.unsuspend=null,_()}},(i.imgBytes>Lm?50:800)+s);return i.unsuspend=l,function(){i.unsuspend=null,clearTimeout(f),clearTimeout(v)}}:null}function tf(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)of(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var nf=null;function of(i,s){i.stylesheets=null,i.unsuspend!==null&&(i.count++,nf=new Map,s.forEach(CP,i),nf=null,tf.call(i))}function CP(i,s){if(!(s.state.loading&4)){var l=nf.get(i);if(l)var f=l.get(null);else{l=new Map,nf.set(i,l);for(var v=i.querySelectorAll("link[data-precedence],style[data-precedence]"),_=0;_<v.length;_++){var b=v[_];(b.nodeName==="LINK"||b.getAttribute("media")!=="not all")&&(l.set(b.dataset.precedence,b),f=b)}f&&l.set(null,f)}v=s.instance,b=v.getAttribute("data-precedence"),_=l.get(b)||f,_===f&&l.set(null,v),l.set(b,v),this.count++,f=tf.bind(this),v.addEventListener("load",f),v.addEventListener("error",f),_?_.parentNode.insertBefore(v,_.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(v,i.firstChild)),s.state.loading|=4}}var wl={$$typeof:N,Provider:null,Consumer:null,_currentValue:ee,_currentValue2:ee,_threadCount:0};function AP(i,s,l,f,v,_,b,R,P){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ih(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ih(0),this.hiddenUpdates=Ih(null),this.identifierPrefix=f,this.onUncaughtError=v,this.onCaughtError=_,this.onRecoverableError=b,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=P,this.incompleteTransitions=new Map}function db(i,s,l,f,v,_,b,R,P,G,j,te){return i=new AP(i,s,l,b,P,G,j,te,R),s=1,_===!0&&(s|=24),_=an(3,null,null,s),i.current=_,_.stateNode=i,s=mp(),s.refCount++,i.pooledCache=s,s.refCount++,_.memoizedState={element:f,isDehydrated:l,cache:s},_p(_),i}function hb(i){return i?(i=ms,i):ms}function pb(i,s,l,f,v,_){v=hb(v),f.context===null?f.context=v:f.pendingContext=v,f=Ri(s),f.payload={element:l},_=_===void 0?null:_,_!==null&&(f.callback=_),l=Mi(i,f,s),l!==null&&(Wt(l,i,s),tl(l,i,s))}function mb(i,s){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var l=i.retryLane;i.retryLane=l!==0&&l<s?l:s}}function Um(i,s){mb(i,s),(i=i.alternate)&&mb(i,s)}function gb(i){if(i.tag===13||i.tag===31){var s=gr(i,67108864);s!==null&&Wt(s,i,67108864),Um(i,67108864)}}function vb(i){if(i.tag===13||i.tag===31){var s=dn();s=Dh(s);var l=gr(i,s);l!==null&&Wt(l,i,s),Um(i,s)}}var rf=!0;function xP(i,s,l,f){var v=H.T;H.T=null;var _=Q.p;try{Q.p=2,Bm(i,s,l,f)}finally{Q.p=_,H.T=v}}function RP(i,s,l,f){var v=H.T;H.T=null;var _=Q.p;try{Q.p=8,Bm(i,s,l,f)}finally{Q.p=_,H.T=v}}function Bm(i,s,l,f){if(rf){var v=Hm(f);if(v===null)Tm(i,s,f,sf,l),_b(i,f);else if(NP(v,i,s,l,f))f.stopPropagation();else if(_b(i,f),s&4&&-1<MP.indexOf(i)){for(;v!==null;){var _=is(v);if(_!==null)switch(_.tag){case 3:if(_=_.stateNode,_.current.memoizedState.isDehydrated){var b=fr(_.pendingLanes);if(b!==0){var R=_;for(R.pendingLanes|=2,R.entangledLanes|=2;b;){var P=1<<31-rn(b);R.entanglements[1]|=P,b&=~P}go(_),(Je&6)===0&&($c=Ct()+500,vl(0))}}break;case 31:case 13:R=gr(_,2),R!==null&&Wt(R,_,2),Vc(),Um(_,2)}if(_=Hm(f),_===null&&Tm(i,s,f,sf,l),_===v)break;v=_}v!==null&&f.stopPropagation()}else Tm(i,s,f,null,l)}}function Hm(i){return i=$h(i),Fm(i)}var sf=null;function Fm(i){if(sf=null,i=os(i),i!==null){var s=a(i);if(s===null)i=null;else{var l=s.tag;if(l===13){if(i=u(s),i!==null)return i;i=null}else if(l===31){if(i=c(s),i!==null)return i;i=null}else if(l===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null)}}return sf=i,null}function yb(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Yu()){case Oa:return 2;case Pa:return 8;case cr:case mO:return 32;case R_:return 268435456;default:return 32}default:return 32}}var $m=!1,Fi=null,$i=null,Gi=null,Tl=new Map,Cl=new Map,Vi=[],MP="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function _b(i,s){switch(i){case"focusin":case"focusout":Fi=null;break;case"dragenter":case"dragleave":$i=null;break;case"mouseover":case"mouseout":Gi=null;break;case"pointerover":case"pointerout":Tl.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Cl.delete(s.pointerId)}}function Al(i,s,l,f,v,_){return i===null||i.nativeEvent!==_?(i={blockedOn:s,domEventName:l,eventSystemFlags:f,nativeEvent:_,targetContainers:[v]},s!==null&&(s=is(s),s!==null&&gb(s)),i):(i.eventSystemFlags|=f,s=i.targetContainers,v!==null&&s.indexOf(v)===-1&&s.push(v),i)}function NP(i,s,l,f,v){switch(s){case"focusin":return Fi=Al(Fi,i,s,l,f,v),!0;case"dragenter":return $i=Al($i,i,s,l,f,v),!0;case"mouseover":return Gi=Al(Gi,i,s,l,f,v),!0;case"pointerover":var _=v.pointerId;return Tl.set(_,Al(Tl.get(_)||null,i,s,l,f,v)),!0;case"gotpointercapture":return _=v.pointerId,Cl.set(_,Al(Cl.get(_)||null,i,s,l,f,v)),!0}return!1}function Sb(i){var s=os(i.target);if(s!==null){var l=a(s);if(l!==null){if(s=l.tag,s===13){if(s=u(l),s!==null){i.blockedOn=s,P_(i.priority,function(){vb(l)});return}}else if(s===31){if(s=c(l),s!==null){i.blockedOn=s,P_(i.priority,function(){vb(l)});return}}else if(s===3&&l.stateNode.current.memoizedState.isDehydrated){i.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}i.blockedOn=null}function af(i){if(i.blockedOn!==null)return!1;for(var s=i.targetContainers;0<s.length;){var l=Hm(i.nativeEvent);if(l===null){l=i.nativeEvent;var f=new l.constructor(l.type,l);Fh=f,l.target.dispatchEvent(f),Fh=null}else return s=is(l),s!==null&&gb(s),i.blockedOn=l,!1;s.shift()}return!0}function Eb(i,s,l){af(i)&&l.delete(s)}function IP(){$m=!1,Fi!==null&&af(Fi)&&(Fi=null),$i!==null&&af($i)&&($i=null),Gi!==null&&af(Gi)&&(Gi=null),Tl.forEach(Eb),Cl.forEach(Eb)}function lf(i,s){i.blockedOn===s&&(i.blockedOn=null,$m||($m=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,IP)))}var uf=null;function bb(i){uf!==i&&(uf=i,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){uf===i&&(uf=null);for(var s=0;s<i.length;s+=3){var l=i[s],f=i[s+1],v=i[s+2];if(typeof f!="function"){if(Fm(f||l)===null)continue;break}var _=is(l);_!==null&&(i.splice(s,3),s-=3,Hp(_,{pending:!0,data:v,method:l.method,action:f},f,v))}}))}function Hs(i){function s(P){return lf(P,i)}Fi!==null&&lf(Fi,i),$i!==null&&lf($i,i),Gi!==null&&lf(Gi,i),Tl.forEach(s),Cl.forEach(s);for(var l=0;l<Vi.length;l++){var f=Vi[l];f.blockedOn===i&&(f.blockedOn=null)}for(;0<Vi.length&&(l=Vi[0],l.blockedOn===null);)Sb(l),l.blockedOn===null&&Vi.shift();if(l=(i.ownerDocument||i).$$reactFormReplay,l!=null)for(f=0;f<l.length;f+=3){var v=l[f],_=l[f+1],b=v[qt]||null;if(typeof _=="function")b||bb(l);else if(b){var R=null;if(_&&_.hasAttribute("formAction")){if(v=_,b=_[qt]||null)R=b.formAction;else if(Fm(v)!==null)continue}else R=b.action;typeof R=="function"?l[f+1]=R:(l.splice(f,3),f-=3),bb(l)}}}function wb(){function i(_){_.canIntercept&&_.info==="react-transition"&&_.intercept({handler:function(){return new Promise(function(b){return v=b})},focusReset:"manual",scroll:"manual"})}function s(){v!==null&&(v(),v=null),f||setTimeout(l,20)}function l(){if(!f&&!navigation.transition){var _=navigation.currentEntry;_&&_.url!=null&&navigation.navigate(_.url,{state:_.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var f=!1,v=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(l,100),function(){f=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),v!==null&&(v(),v=null)}}}function Gm(i){this._internalRoot=i}cf.prototype.render=Gm.prototype.render=function(i){var s=this._internalRoot;if(s===null)throw Error(o(409));var l=s.current,f=dn();pb(l,f,i,s,null,null)},cf.prototype.unmount=Gm.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var s=i.containerInfo;pb(i.current,2,null,i,null,null),Vc(),s[ns]=null}};function cf(i){this._internalRoot=i}cf.prototype.unstable_scheduleHydration=function(i){if(i){var s=O_();i={blockedOn:null,target:i,priority:s};for(var l=0;l<Vi.length&&s!==0&&s<Vi[l].priority;l++);Vi.splice(l,0,i),l===0&&Sb(i)}};var Tb=e.version;if(Tb!=="19.2.1")throw Error(o(527,Tb,"19.2.1"));Q.findDOMNode=function(i){var s=i._reactInternals;if(s===void 0)throw typeof i.render=="function"?Error(o(188)):(i=Object.keys(i).join(","),Error(o(268,i)));return i=d(s),i=i!==null?m(i):null,i=i===null?null:i.stateNode,i};var DP={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.2.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ff=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ff.isDisabled&&ff.supportsFiber)try{ka=ff.inject(DP),on=ff}catch{}}return Rl.createRoot=function(i,s){if(!r(i))throw Error(o(299));var l=!1,f="",v=IS,_=DS,b=OS;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(f=s.identifierPrefix),s.onUncaughtError!==void 0&&(v=s.onUncaughtError),s.onCaughtError!==void 0&&(_=s.onCaughtError),s.onRecoverableError!==void 0&&(b=s.onRecoverableError)),s=db(i,1,!1,null,null,l,f,null,v,_,b,wb),i[ns]=s.current,wm(i),new Gm(s)},Rl.hydrateRoot=function(i,s,l){if(!r(i))throw Error(o(299));var f=!1,v="",_=IS,b=DS,R=OS,P=null;return l!=null&&(l.unstable_strictMode===!0&&(f=!0),l.identifierPrefix!==void 0&&(v=l.identifierPrefix),l.onUncaughtError!==void 0&&(_=l.onUncaughtError),l.onCaughtError!==void 0&&(b=l.onCaughtError),l.onRecoverableError!==void 0&&(R=l.onRecoverableError),l.formState!==void 0&&(P=l.formState)),s=db(i,1,!0,s,l??null,f,v,P,_,b,R,wb),s.context=hb(null),l=s.current,f=dn(),f=Dh(f),v=Ri(f),v.callback=null,Mi(l,v,f),l=f,s.current.lanes=l,Ua(s,l),go(s),i[ns]=s.current,wm(i),new cf(s)},Rl.version="19.2.1",Rl}var Pb;function GP(){if(Pb)return qm.exports;Pb=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),qm.exports=$P(),qm.exports}var VP=GP();function Be(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),o=1;o<e;o++)n[o-1]=arguments[o];throw new Error(typeof t=="number"?"[MobX] minified error nr: "+t+(n.length?" "+n.map(String).join(","):"")+". Find the full error at: https://github.com/mobxjs/mobx/blob/main/packages/mobx/src/errors.ts":"[MobX] "+t)}var zP={};function zd(){return typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:zP}var kA=Object.assign,ld=Object.getOwnPropertyDescriptor,To=Object.defineProperty,yu=Object.prototype,zg=[];Object.freeze(zg);var LA={};Object.freeze(LA);var qP=typeof Proxy<"u",JP=Object.toString();function UA(){qP||Be("Proxy not available")}function BA(t){var e=!1;return function(){if(!e)return e=!0,t.apply(this,arguments)}}var ta=function(){};function ro(t){return typeof t=="function"}function Hr(t){var e=typeof t;switch(e){case"string":case"symbol":case"number":return!0}return!1}function qd(t){return t!==null&&typeof t=="object"}function li(t){if(!qd(t))return!1;var e=Object.getPrototypeOf(t);if(e==null)return!0;var n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n.toString()===JP}function HA(t){var e=t?.constructor;return e?e.name==="GeneratorFunction"||e.displayName==="GeneratorFunction":!1}function _u(t,e,n){To(t,e,{enumerable:!1,writable:!0,configurable:!0,value:n})}function FA(t,e,n){To(t,e,{enumerable:!1,writable:!1,configurable:!0,value:n})}function or(t,e){var n="isMobX"+t;return e.prototype[n]=!0,function(o){return qd(o)&&o[n]===!0}}function Sa(t){return t!=null&&Object.prototype.toString.call(t)==="[object Map]"}function KP(t){var e=Object.getPrototypeOf(t),n=Object.getPrototypeOf(e),o=Object.getPrototypeOf(n);return o===null}function ni(t){return t!=null&&Object.prototype.toString.call(t)==="[object Set]"}var $A=typeof Object.getOwnPropertySymbols<"u";function YP(t){var e=Object.keys(t);if(!$A)return e;var n=Object.getOwnPropertySymbols(t);return n.length?[].concat(e,n.filter(function(o){return yu.propertyIsEnumerable.call(t,o)})):e}var da=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:$A?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:Object.getOwnPropertyNames;function GA(t){return t===null?null:typeof t=="object"?""+t:t}function ri(t,e){return yu.hasOwnProperty.call(t,e)}var XP=Object.getOwnPropertyDescriptors||function(e){var n={};return da(e).forEach(function(o){n[o]=ld(e,o)}),n};function vn(t,e){return!!(t&e)}function yn(t,e,n){return n?t|=e:t&=~e,t}function kb(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,o=Array(e);n<e;n++)o[n]=t[n];return o}function jP(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,QP(o.key),o)}}function Ea(t,e,n){return e&&jP(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function na(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n)return(n=n.call(t)).next.bind(n);if(Array.isArray(t)||(n=ZP(t))||e){n&&(t=n);var o=0;return function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Fr(){return Fr=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)({}).hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},Fr.apply(null,arguments)}function VA(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,qg(t,e)}function qg(t,e){return qg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,o){return n.__proto__=o,n},qg(t,e)}function WP(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var o=n.call(t,e);if(typeof o!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function QP(t){var e=WP(t,"string");return typeof e=="symbol"?e:e+""}function ZP(t,e){if(t){if(typeof t=="string")return kb(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?kb(t,e):void 0}}var Eo=Symbol("mobx-stored-annotations");function Co(t){function e(n,o){if(Eu(o))return t.decorate_20223_(n,o);Su(n,o,t)}return Object.assign(e,t)}function Su(t,e,n){ri(t,Eo)||_u(t,Eo,Fr({},t[Eo])),sk(n)||(t[Eo][e]=n)}function ek(t){return ri(t,Eo)||_u(t,Eo,Fr({},t[Eo])),t[Eo]}function Eu(t){return typeof t=="object"&&typeof t.kind=="string"}var we=Symbol("mobx administration"),ir=(function(){function t(n){n===void 0&&(n="Atom"),this.name_=void 0,this.flags_=0,this.observers_=new Set,this.lastAccessedBy_=0,this.lowestObserverState_=Ge.NOT_TRACKING_,this.onBOL=void 0,this.onBUOL=void 0,this.name_=n}var e=t.prototype;return e.onBO=function(){this.onBOL&&this.onBOL.forEach(function(o){return o()})},e.onBUO=function(){this.onBUOL&&this.onBUOL.forEach(function(o){return o()})},e.reportObserved=function(){return sx(this)},e.reportChanged=function(){Ln(),ax(this),Un()},e.toString=function(){return this.name_},Ea(t,[{key:"isBeingObserved",get:function(){return vn(this.flags_,t.isBeingObservedMask_)},set:function(o){this.flags_=yn(this.flags_,t.isBeingObservedMask_,o)}},{key:"isPendingUnobservation",get:function(){return vn(this.flags_,t.isPendingUnobservationMask_)},set:function(o){this.flags_=yn(this.flags_,t.isPendingUnobservationMask_,o)}},{key:"diffValue",get:function(){return vn(this.flags_,t.diffValueMask_)?1:0},set:function(o){this.flags_=yn(this.flags_,t.diffValueMask_,o===1)}}])})();ir.isBeingObservedMask_=1;ir.isPendingUnobservationMask_=2;ir.diffValueMask_=4;var Qv=or("Atom",ir);function zA(t,e,n){e===void 0&&(e=ta),n===void 0&&(n=ta);var o=new ir(t);return e!==ta&&uL(o,e),n!==ta&&hx(o,n),o}function tk(t,e){return Cx(t,e)}function nk(t,e){return Object.is?Object.is(t,e):t===e?t!==0||1/t===1/e:t!==t&&e!==e}var ud={structural:tk,default:nk};function $r(t,e,n){return oy(t)?t:Array.isArray(t)?bt.array(t,{name:n}):li(t)?bt.object(t,void 0,{name:n}):Sa(t)?bt.map(t,{name:n}):ni(t)?bt.set(t,{name:n}):typeof t=="function"&&!ha(t)&&!tu(t)?HA(t)?pa(t):eu(n,t):t}function ok(t,e,n){if(t==null||xu(t)||Au(t)||rr(t)||Qn(t))return t;if(Array.isArray(t))return bt.array(t,{name:n,deep:!1});if(li(t))return bt.object(t,void 0,{name:n,deep:!1});if(Sa(t))return bt.map(t,{name:n,deep:!1});if(ni(t))return bt.set(t,{name:n,deep:!1})}function Jd(t){return t}function ik(t,e){return Cx(t,e)?e:t}var rk="override";function sk(t){return t.annotationType_===rk}function bu(t,e){return{annotationType_:t,options_:e,make_:ak,extend_:lk,decorate_20223_:uk}}function ak(t,e,n,o){var r;if((r=this.options_)!=null&&r.bound)return this.extend_(t,e,n,!1)===null?0:1;if(o===t.target_)return this.extend_(t,e,n,!1)===null?0:2;if(ha(n.value))return 1;var a=qA(t,this,e,n,!1);return To(o,e,a),2}function lk(t,e,n,o){var r=qA(t,this,e,n);return t.defineProperty_(e,r,o)}function uk(t,e){var n=e.kind,o=e.name,r=e.addInitializer,a=this,u=function(d){var m,y,S,E;return Gr((m=(y=a.options_)==null?void 0:y.name)!=null?m:o.toString(),d,(S=(E=a.options_)==null?void 0:E.autoAction)!=null?S:!1)};if(n=="field")return function(h){var d,m=h;return ha(m)||(m=u(m)),(d=a.options_)!=null&&d.bound&&(m=m.bind(this),m.isMobxAction=!0),m};if(n=="method"){var c;return ha(t)||(t=u(t)),(c=this.options_)!=null&&c.bound&&r(function(){var h=this,d=h[o].bind(h);d.isMobxAction=!0,h[o]=d}),t}Be("Cannot apply '"+a.annotationType_+"' to '"+String(o)+"' (kind: "+n+"):"+(`
'`+a.annotationType_+"' can only be used on properties with a function value."))}function ck(t,e,n,o){e.annotationType_,o.value}function qA(t,e,n,o,r){var a,u,c,h,d,m,y;r===void 0&&(r=ue.safeDescriptors),ck(t,e,n,o);var S=o.value;if((a=e.options_)!=null&&a.bound){var E;S=S.bind((E=t.proxy_)!=null?E:t.target_)}return{value:Gr((u=(c=e.options_)==null?void 0:c.name)!=null?u:n.toString(),S,(h=(d=e.options_)==null?void 0:d.autoAction)!=null?h:!1,(m=e.options_)!=null&&m.bound?(y=t.proxy_)!=null?y:t.target_:void 0),configurable:r?t.isPlainObject_:!0,enumerable:!1,writable:!r}}function JA(t,e){return{annotationType_:t,options_:e,make_:fk,extend_:dk,decorate_20223_:hk}}function fk(t,e,n,o){var r;if(o===t.target_)return this.extend_(t,e,n,!1)===null?0:2;if((r=this.options_)!=null&&r.bound&&(!ri(t.target_,e)||!tu(t.target_[e]))&&this.extend_(t,e,n,!1)===null)return 0;if(tu(n.value))return 1;var a=KA(t,this,e,n,!1,!1);return To(o,e,a),2}function dk(t,e,n,o){var r,a=KA(t,this,e,n,(r=this.options_)==null?void 0:r.bound);return t.defineProperty_(e,a,o)}function hk(t,e){var n,o=e.name,r=e.addInitializer;return tu(t)||(t=pa(t)),(n=this.options_)!=null&&n.bound&&r(function(){var a=this,u=a[o].bind(a);u.isMobXFlow=!0,a[o]=u}),t}function pk(t,e,n,o){e.annotationType_,o.value}function KA(t,e,n,o,r,a){a===void 0&&(a=ue.safeDescriptors),pk(t,e,n,o);var u=o.value;if(tu(u)||(u=pa(u)),r){var c;u=u.bind((c=t.proxy_)!=null?c:t.target_),u.isMobXFlow=!0}return{value:u,configurable:a?t.isPlainObject_:!0,enumerable:!1,writable:!a}}function Zv(t,e){return{annotationType_:t,options_:e,make_:mk,extend_:gk,decorate_20223_:vk}}function mk(t,e,n){return this.extend_(t,e,n,!1)===null?0:1}function gk(t,e,n,o){return yk(t,this,e,n),t.defineComputedProperty_(e,Fr({},this.options_,{get:n.get,set:n.set}),o)}function vk(t,e){var n=this,o=e.name,r=e.addInitializer;return r(function(){var a=Qr(this)[we],u=Fr({},n.options_,{get:t,context:this});u.name||(u.name="ObservableObject."+o.toString()),a.values_.set(o,new so(u))}),function(){return this[we].getObservablePropValue_(o)}}function yk(t,e,n,o){e.annotationType_,o.get}function Kd(t,e){return{annotationType_:t,options_:e,make_:_k,extend_:Sk,decorate_20223_:Ek}}function _k(t,e,n){return this.extend_(t,e,n,!1)===null?0:1}function Sk(t,e,n,o){var r,a;return bk(t,this),t.defineObservableProperty_(e,n.value,(r=(a=this.options_)==null?void 0:a.enhancer)!=null?r:$r,o)}function Ek(t,e){var n=this,o=e.kind,r=e.name,a=new WeakSet;function u(c,h){var d,m,y=Qr(c)[we],S=new Qi(h,(d=(m=n.options_)==null?void 0:m.enhancer)!=null?d:$r,"ObservableObject."+r.toString(),!1);y.values_.set(r,S),a.add(c)}if(o=="accessor")return{get:function(){return a.has(this)||u(this,t.get.call(this)),this[we].getObservablePropValue_(r)},set:function(h){return a.has(this)||u(this,h),this[we].setObservablePropValue_(r,h)},init:function(h){return a.has(this)||u(this,h),h}}}function bk(t,e,n,o){e.annotationType_}var wk="true",Tk=YA();function YA(t){return{annotationType_:wk,options_:t,make_:Ck,extend_:Ak,decorate_20223_:xk}}function Ck(t,e,n,o){var r,a;if(n.get)return Yd.make_(t,e,n,o);if(n.set){var u=ha(n.set)?n.set:Gr(e.toString(),n.set);return o===t.target_?t.defineProperty_(e,{configurable:ue.safeDescriptors?t.isPlainObject_:!0,set:u})===null?0:2:(To(o,e,{configurable:!0,set:u}),2)}if(o!==t.target_&&typeof n.value=="function"){var c;if(HA(n.value)){var h,d=(h=this.options_)!=null&&h.autoBind?pa.bound:pa;return d.make_(t,e,n,o)}var m=(c=this.options_)!=null&&c.autoBind?eu.bound:eu;return m.make_(t,e,n,o)}var y=((r=this.options_)==null?void 0:r.deep)===!1?bt.ref:bt;if(typeof n.value=="function"&&(a=this.options_)!=null&&a.autoBind){var S;n.value=n.value.bind((S=t.proxy_)!=null?S:t.target_)}return y.make_(t,e,n,o)}function Ak(t,e,n,o){var r,a;if(n.get)return Yd.extend_(t,e,n,o);if(n.set)return t.defineProperty_(e,{configurable:ue.safeDescriptors?t.isPlainObject_:!0,set:Gr(e.toString(),n.set)},o);if(typeof n.value=="function"&&(r=this.options_)!=null&&r.autoBind){var u;n.value=n.value.bind((u=t.proxy_)!=null?u:t.target_)}var c=((a=this.options_)==null?void 0:a.deep)===!1?bt.ref:bt;return c.extend_(t,e,n,o)}function xk(t,e){Be("'"+this.annotationType_+"' cannot be used as a decorator")}var Rk="observable",Mk="observable.ref",Nk="observable.shallow",Ik="observable.struct",XA={deep:!0,name:void 0,defaultDecorator:void 0,proxy:!0};Object.freeze(XA);function df(t){return t||XA}var Jg=Kd(Rk),Dk=Kd(Mk,{enhancer:Jd}),Ok=Kd(Nk,{enhancer:ok}),Pk=Kd(Ik,{enhancer:ik}),jA=Co(Jg);function hf(t){return t.deep===!0?$r:t.deep===!1?Jd:Lk(t.defaultDecorator)}function kk(t){var e;return t?(e=t.defaultDecorator)!=null?e:YA(t):void 0}function Lk(t){var e,n;return t&&(e=(n=t.options_)==null?void 0:n.enhancer)!=null?e:$r}function WA(t,e,n){if(Eu(e))return Jg.decorate_20223_(t,e);if(Hr(e)){Su(t,e,Jg);return}return oy(t)?t:li(t)?bt.object(t,e,n):Array.isArray(t)?bt.array(t,e):Sa(t)?bt.map(t,e):ni(t)?bt.set(t,e):typeof t=="object"&&t!==null?t:bt.box(t,e)}kA(WA,jA);var Uk={box:function(e,n){var o=df(n);return new Qi(e,hf(o),o.name,!0,o.equals)},array:function(e,n){var o=df(n);return(ue.useProxies===!1||o.proxy===!1?PL:TL)(e,hf(o),o.name)},map:function(e,n){var o=df(n);return new _x(e,hf(o),o.name)},set:function(e,n){var o=df(n);return new Sx(e,hf(o),o.name)},object:function(e,n,o){return sr(function(){return mx(ue.useProxies===!1||o?.proxy===!1?Qr({},o):SL({},o),e,n)})},ref:Co(Dk),shallow:Co(Ok),deep:jA,struct:Co(Pk)},bt=kA(WA,Uk),QA="computed",Bk="computed.struct",Kg=Zv(QA),Hk=Zv(Bk,{equals:ud.structural}),Yd=function(e,n){if(Eu(n))return Kg.decorate_20223_(e,n);if(Hr(n))return Su(e,n,Kg);if(li(e))return Co(Zv(QA,e));var o=li(n)?n:{};return o.get=e,o.name||(o.name=e.name||""),new so(o)};Object.assign(Yd,Kg);Yd.struct=Co(Hk);var Lb,Ub,cd=0,Fk=1,$k=(Lb=(Ub=ld(function(){},"name"))==null?void 0:Ub.configurable)!=null?Lb:!1,Bb={value:"action",configurable:!0,writable:!1,enumerable:!1};function Gr(t,e,n,o){n===void 0&&(n=!1);function r(){return ZA(t,n,e,o||this,arguments)}return r.isMobxAction=!0,r.toString=function(){return e.toString()},$k&&(Bb.value=t,To(r,"name",Bb)),r}function ZA(t,e,n,o,r){var a=Gk(t,e);try{return n.apply(o,r)}catch(u){throw a.error_=u,u}finally{Vk(a)}}function Gk(t,e,n,o){var r=!1,a=0,u=ue.trackingDerivation,c=!e||!u;Ln();var h=ue.allowStateChanges;c&&(Wr(),h=ey(!0));var d=ny(!0),m={runAsAction_:c,prevDerivation_:u,prevAllowStateChanges_:h,prevAllowStateReads_:d,notifySpy_:r,startTime_:a,actionId_:Fk++,parentActionId_:cd};return cd=m.actionId_,m}function Vk(t){cd!==t.actionId_&&Be(30),cd=t.parentActionId_,t.error_!==void 0&&(ue.suppressReactionErrors=!0),ty(t.prevAllowStateChanges_),Jl(t.prevAllowStateReads_),Un(),t.runAsAction_&&si(t.prevDerivation_),ue.suppressReactionErrors=!1}function ey(t){var e=ue.allowStateChanges;return ue.allowStateChanges=t,e}function ty(t){ue.allowStateChanges=t}var Qi=(function(t){function e(o,r,a,u,c){var h;return a===void 0&&(a="ObservableValue"),c===void 0&&(c=ud.default),h=t.call(this,a)||this,h.enhancer=void 0,h.name_=void 0,h.equals=void 0,h.hasUnreportedChange_=!1,h.interceptors_=void 0,h.changeListeners_=void 0,h.value_=void 0,h.dehancer=void 0,h.enhancer=r,h.name_=a,h.equals=c,h.value_=r(o,void 0,a),h}VA(e,t);var n=e.prototype;return n.dehanceValue=function(r){return this.dehancer!==void 0?this.dehancer(r):r},n.set=function(r){this.value_,r=this.prepareNewValue_(r),r!==ue.UNCHANGED&&this.setNewValue_(r)},n.prepareNewValue_=function(r){if(Pn(this)){var a=kn(this,{object:this,type:Ao,newValue:r});if(!a)return ue.UNCHANGED;r=a.newValue}return r=this.enhancer(r,this.value_,this.name_),this.equals(this.value_,r)?ue.UNCHANGED:r},n.setNewValue_=function(r){var a=this.value_;this.value_=r,this.reportChanged(),to(this)&&no(this,{type:Ao,object:this,newValue:r,oldValue:a})},n.get=function(){return this.reportObserved(),this.dehanceValue(this.value_)},n.intercept_=function(r){return Tu(this,r)},n.observe_=function(r,a){return a&&r({observableKind:"value",debugObjectName:this.name_,object:this,type:Ao,newValue:this.value_,oldValue:void 0}),Cu(this,r)},n.raw=function(){return this.value_},n.toJSON=function(){return this.get()},n.toString=function(){return this.name_+"["+this.value_+"]"},n.valueOf=function(){return GA(this.get())},n[Symbol.toPrimitive]=function(){return this.valueOf()},e})(ir),zk=or("ObservableValue",Qi),so=(function(){function t(n){this.dependenciesState_=Ge.NOT_TRACKING_,this.observing_=[],this.newObserving_=null,this.observers_=new Set,this.runId_=0,this.lastAccessedBy_=0,this.lowestObserverState_=Ge.UP_TO_DATE_,this.unboundDepsCount_=0,this.value_=new dd(null),this.name_=void 0,this.triggeredBy_=void 0,this.flags_=0,this.derivation=void 0,this.setter_=void 0,this.isTracing_=fd.NONE,this.scope_=void 0,this.equals_=void 0,this.requiresReaction_=void 0,this.keepAlive_=void 0,this.onBOL=void 0,this.onBUOL=void 0,n.get||Be(31),this.derivation=n.get,this.name_=n.name||"ComputedValue",n.set&&(this.setter_=Gr("ComputedValue-setter",n.set)),this.equals_=n.equals||(n.compareStructural||n.struct?ud.structural:ud.default),this.scope_=n.context,this.requiresReaction_=n.requiresReaction,this.keepAlive_=!!n.keepAlive}var e=t.prototype;return e.onBecomeStale_=function(){Xk(this)},e.onBO=function(){this.onBOL&&this.onBOL.forEach(function(o){return o()})},e.onBUO=function(){this.onBUOL&&this.onBUOL.forEach(function(o){return o()})},e.get=function(){if(this.isComputing&&Be(32,this.name_,this.derivation),ue.inBatch===0&&this.observers_.size===0&&!this.keepAlive_)Yg(this)&&(this.warnAboutUntrackedRead_(),Ln(),this.value_=this.computeValue_(!1),Un());else if(sx(this),Yg(this)){var o=ue.trackingContext;this.keepAlive_&&!o&&(ue.trackingContext=this),this.trackAndCompute()&&Yk(this),ue.trackingContext=o}var r=this.value_;if(Gf(r))throw r.cause;return r},e.set=function(o){if(this.setter_){this.isRunningSetter&&Be(33,this.name_),this.isRunningSetter=!0;try{this.setter_.call(this.scope_,o)}finally{this.isRunningSetter=!1}}else Be(34,this.name_)},e.trackAndCompute=function(){var o=this.value_,r=this.dependenciesState_===Ge.NOT_TRACKING_,a=this.computeValue_(!0),u=r||Gf(o)||Gf(a)||!this.equals_(o,a);return u&&(this.value_=a),u},e.computeValue_=function(o){this.isComputing=!0;var r=ey(!1),a;if(o)a=ex(this,this.derivation,this.scope_);else if(ue.disableErrorBoundaries===!0)a=this.derivation.call(this.scope_);else try{a=this.derivation.call(this.scope_)}catch(u){a=new dd(u)}return ty(r),this.isComputing=!1,a},e.suspend_=function(){this.keepAlive_||(Xg(this),this.value_=void 0)},e.observe_=function(o,r){var a=this,u=!0,c=void 0;return iL(function(){var h=a.get();if(!u||r){var d=Wr();o({observableKind:"computed",debugObjectName:a.name_,type:Ao,object:a,newValue:h,oldValue:c}),si(d)}u=!1,c=h})},e.warnAboutUntrackedRead_=function(){},e.toString=function(){return this.name_+"["+this.derivation.toString()+"]"},e.valueOf=function(){return GA(this.get())},e[Symbol.toPrimitive]=function(){return this.valueOf()},Ea(t,[{key:"isComputing",get:function(){return vn(this.flags_,t.isComputingMask_)},set:function(o){this.flags_=yn(this.flags_,t.isComputingMask_,o)}},{key:"isRunningSetter",get:function(){return vn(this.flags_,t.isRunningSetterMask_)},set:function(o){this.flags_=yn(this.flags_,t.isRunningSetterMask_,o)}},{key:"isBeingObserved",get:function(){return vn(this.flags_,t.isBeingObservedMask_)},set:function(o){this.flags_=yn(this.flags_,t.isBeingObservedMask_,o)}},{key:"isPendingUnobservation",get:function(){return vn(this.flags_,t.isPendingUnobservationMask_)},set:function(o){this.flags_=yn(this.flags_,t.isPendingUnobservationMask_,o)}},{key:"diffValue",get:function(){return vn(this.flags_,t.diffValueMask_)?1:0},set:function(o){this.flags_=yn(this.flags_,t.diffValueMask_,o===1)}}])})();so.isComputingMask_=1;so.isRunningSetterMask_=2;so.isBeingObservedMask_=4;so.isPendingUnobservationMask_=8;so.diffValueMask_=16;var wu=or("ComputedValue",so),Ge;(function(t){t[t.NOT_TRACKING_=-1]="NOT_TRACKING_",t[t.UP_TO_DATE_=0]="UP_TO_DATE_",t[t.POSSIBLY_STALE_=1]="POSSIBLY_STALE_",t[t.STALE_=2]="STALE_"})(Ge||(Ge={}));var fd;(function(t){t[t.NONE=0]="NONE",t[t.LOG=1]="LOG",t[t.BREAK=2]="BREAK"})(fd||(fd={}));var dd=function(e){this.cause=void 0,this.cause=e};function Gf(t){return t instanceof dd}function Yg(t){switch(t.dependenciesState_){case Ge.UP_TO_DATE_:return!1;case Ge.NOT_TRACKING_:case Ge.STALE_:return!0;case Ge.POSSIBLY_STALE_:{for(var e=ny(!0),n=Wr(),o=t.observing_,r=o.length,a=0;a<r;a++){var u=o[a];if(wu(u)){if(ue.disableErrorBoundaries)u.get();else try{u.get()}catch{return si(n),Jl(e),!0}if(t.dependenciesState_===Ge.STALE_)return si(n),Jl(e),!0}}return nx(t),si(n),Jl(e),!1}}}function ex(t,e,n){var o=ny(!0);nx(t),t.newObserving_=new Array(t.runId_===0?100:t.observing_.length),t.unboundDepsCount_=0,t.runId_=++ue.runId;var r=ue.trackingDerivation;ue.trackingDerivation=t,ue.inBatch++;var a;if(ue.disableErrorBoundaries===!0)a=e.call(n);else try{a=e.call(n)}catch(u){a=new dd(u)}return ue.inBatch--,ue.trackingDerivation=r,qk(t),Jl(o),a}function qk(t){for(var e=t.observing_,n=t.observing_=t.newObserving_,o=Ge.UP_TO_DATE_,r=0,a=t.unboundDepsCount_,u=0;u<a;u++){var c=n[u];c.diffValue===0&&(c.diffValue=1,r!==u&&(n[r]=c),r++),c.dependenciesState_>o&&(o=c.dependenciesState_)}for(n.length=r,t.newObserving_=null,a=e.length;a--;){var h=e[a];h.diffValue===0&&ix(h,t),h.diffValue=0}for(;r--;){var d=n[r];d.diffValue===1&&(d.diffValue=0,Kk(d,t))}o!==Ge.UP_TO_DATE_&&(t.dependenciesState_=o,t.onBecomeStale_())}function Xg(t){var e=t.observing_;t.observing_=[];for(var n=e.length;n--;)ix(e[n],t);t.dependenciesState_=Ge.NOT_TRACKING_}function tx(t){var e=Wr();try{return t()}finally{si(e)}}function Wr(){var t=ue.trackingDerivation;return ue.trackingDerivation=null,t}function si(t){ue.trackingDerivation=t}function ny(t){var e=ue.allowStateReads;return ue.allowStateReads=t,e}function Jl(t){ue.allowStateReads=t}function nx(t){if(t.dependenciesState_!==Ge.UP_TO_DATE_){t.dependenciesState_=Ge.UP_TO_DATE_;for(var e=t.observing_,n=e.length;n--;)e[n].lowestObserverState_=Ge.UP_TO_DATE_}}var Vf=function(){this.version=6,this.UNCHANGED={},this.trackingDerivation=null,this.trackingContext=null,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!1,this.allowStateReads=!0,this.enforceActions=!0,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1,this.useProxies=!0,this.verifyProxies=!1,this.safeDescriptors=!0},zf=!0,ox=!1,ue=(function(){var t=zd();return t.__mobxInstanceCount>0&&!t.__mobxGlobals&&(zf=!1),t.__mobxGlobals&&t.__mobxGlobals.version!==new Vf().version&&(zf=!1),zf?t.__mobxGlobals?(t.__mobxInstanceCount+=1,t.__mobxGlobals.UNCHANGED||(t.__mobxGlobals.UNCHANGED={}),t.__mobxGlobals):(t.__mobxInstanceCount=1,t.__mobxGlobals=new Vf):(setTimeout(function(){ox||Be(35)},1),new Vf)})();function Jk(){if((ue.pendingReactions.length||ue.inBatch||ue.isRunningReactions)&&Be(36),ox=!0,zf){var t=zd();--t.__mobxInstanceCount===0&&(t.__mobxGlobals=void 0),ue=new Vf}}function Kk(t,e){t.observers_.add(e),t.lowestObserverState_>e.dependenciesState_&&(t.lowestObserverState_=e.dependenciesState_)}function ix(t,e){t.observers_.delete(e),t.observers_.size===0&&rx(t)}function rx(t){t.isPendingUnobservation===!1&&(t.isPendingUnobservation=!0,ue.pendingUnobservations.push(t))}function Ln(){ue.inBatch++}function Un(){if(--ue.inBatch===0){lx();for(var t=ue.pendingUnobservations,e=0;e<t.length;e++){var n=t[e];n.isPendingUnobservation=!1,n.observers_.size===0&&(n.isBeingObserved&&(n.isBeingObserved=!1,n.onBUO()),n instanceof so&&n.suspend_())}ue.pendingUnobservations=[]}}function sx(t){var e=ue.trackingDerivation;return e!==null?(e.runId_!==t.lastAccessedBy_&&(t.lastAccessedBy_=e.runId_,e.newObserving_[e.unboundDepsCount_++]=t,!t.isBeingObserved&&ue.trackingContext&&(t.isBeingObserved=!0,t.onBO())),t.isBeingObserved):(t.observers_.size===0&&ue.inBatch>0&&rx(t),!1)}function ax(t){t.lowestObserverState_!==Ge.STALE_&&(t.lowestObserverState_=Ge.STALE_,t.observers_.forEach(function(e){e.dependenciesState_===Ge.UP_TO_DATE_&&e.onBecomeStale_(),e.dependenciesState_=Ge.STALE_}))}function Yk(t){t.lowestObserverState_!==Ge.STALE_&&(t.lowestObserverState_=Ge.STALE_,t.observers_.forEach(function(e){e.dependenciesState_===Ge.POSSIBLY_STALE_?e.dependenciesState_=Ge.STALE_:e.dependenciesState_===Ge.UP_TO_DATE_&&(t.lowestObserverState_=Ge.UP_TO_DATE_)}))}function Xk(t){t.lowestObserverState_===Ge.UP_TO_DATE_&&(t.lowestObserverState_=Ge.POSSIBLY_STALE_,t.observers_.forEach(function(e){e.dependenciesState_===Ge.UP_TO_DATE_&&(e.dependenciesState_=Ge.POSSIBLY_STALE_,e.onBecomeStale_())}))}var ui=(function(){function t(n,o,r,a){n===void 0&&(n="Reaction"),this.name_=void 0,this.onInvalidate_=void 0,this.errorHandler_=void 0,this.requiresObservable_=void 0,this.observing_=[],this.newObserving_=[],this.dependenciesState_=Ge.NOT_TRACKING_,this.runId_=0,this.unboundDepsCount_=0,this.flags_=0,this.isTracing_=fd.NONE,this.name_=n,this.onInvalidate_=o,this.errorHandler_=r,this.requiresObservable_=a}var e=t.prototype;return e.onBecomeStale_=function(){this.schedule_()},e.schedule_=function(){this.isScheduled||(this.isScheduled=!0,ue.pendingReactions.push(this),lx())},e.runReaction_=function(){if(!this.isDisposed){Ln(),this.isScheduled=!1;var o=ue.trackingContext;if(ue.trackingContext=this,Yg(this)){this.isTrackPending=!0;try{this.onInvalidate_()}catch(r){this.reportExceptionInDerivation_(r)}}ue.trackingContext=o,Un()}},e.track=function(o){if(!this.isDisposed){Ln(),this.isRunning=!0;var r=ue.trackingContext;ue.trackingContext=this;var a=ex(this,o,void 0);ue.trackingContext=r,this.isRunning=!1,this.isTrackPending=!1,this.isDisposed&&Xg(this),Gf(a)&&this.reportExceptionInDerivation_(a.cause),Un()}},e.reportExceptionInDerivation_=function(o){var r=this;if(this.errorHandler_){this.errorHandler_(o,this);return}if(ue.disableErrorBoundaries)throw o;var a="[mobx] uncaught error in '"+this+"'";ue.suppressReactionErrors||console.error(a,o),ue.globalReactionErrorHandlers.forEach(function(u){return u(o,r)})},e.dispose=function(){this.isDisposed||(this.isDisposed=!0,this.isRunning||(Ln(),Xg(this),Un()))},e.getDisposer_=function(o){var r=this,a=function u(){r.dispose(),o==null||o.removeEventListener==null||o.removeEventListener("abort",u)};return o==null||o.addEventListener==null||o.addEventListener("abort",a),a[we]=this,"dispose"in Symbol&&typeof Symbol.dispose=="symbol"&&(a[Symbol.dispose]=a),a},e.toString=function(){return"Reaction["+this.name_+"]"},e.trace=function(o){},Ea(t,[{key:"isDisposed",get:function(){return vn(this.flags_,t.isDisposedMask_)},set:function(o){this.flags_=yn(this.flags_,t.isDisposedMask_,o)}},{key:"isScheduled",get:function(){return vn(this.flags_,t.isScheduledMask_)},set:function(o){this.flags_=yn(this.flags_,t.isScheduledMask_,o)}},{key:"isTrackPending",get:function(){return vn(this.flags_,t.isTrackPendingMask_)},set:function(o){this.flags_=yn(this.flags_,t.isTrackPendingMask_,o)}},{key:"isRunning",get:function(){return vn(this.flags_,t.isRunningMask_)},set:function(o){this.flags_=yn(this.flags_,t.isRunningMask_,o)}},{key:"diffValue",get:function(){return vn(this.flags_,t.diffValueMask_)?1:0},set:function(o){this.flags_=yn(this.flags_,t.diffValueMask_,o===1)}}])})();ui.isDisposedMask_=1;ui.isScheduledMask_=2;ui.isTrackPendingMask_=4;ui.isRunningMask_=8;ui.diffValueMask_=16;var jk=100,jg=function(e){return e()};function lx(){ue.inBatch>0||ue.isRunningReactions||jg(Wk)}function Wk(){ue.isRunningReactions=!0;for(var t=ue.pendingReactions,e=0;t.length>0;){++e===jk&&(console.error("[mobx] cycle in reaction: "+t[0]),t.splice(0));for(var n=t.splice(0),o=0,r=n.length;o<r;o++)n[o].runReaction_()}ue.isRunningReactions=!1}var hd=or("Reaction",ui);function Qk(t){var e=jg;jg=function(o){return t(function(){return e(o)})}}function Kl(){return!1}function Zk(t){return console.warn("[mobx.spy] Is a no-op in production builds"),function(){}}var ux="action",eL="action.bound",cx="autoAction",tL="autoAction.bound",fx="<unnamed action>",Wg=bu(ux),nL=bu(eL,{bound:!0}),Qg=bu(cx,{autoAction:!0}),oL=bu(tL,{autoAction:!0,bound:!0});function dx(t){var e=function(o,r){if(ro(o))return Gr(o.name||fx,o,t);if(ro(r))return Gr(o,r,t);if(Eu(r))return(t?Qg:Wg).decorate_20223_(o,r);if(Hr(r))return Su(o,r,t?Qg:Wg);if(Hr(o))return Co(bu(t?cx:ux,{name:o,autoAction:t}))};return e}var oa=dx(!1);Object.assign(oa,Wg);var eu=dx(!0);Object.assign(eu,Qg);oa.bound=Co(nL);eu.bound=Co(oL);function Ie(t){return ZA(t.name||fx,!1,t,this,void 0)}function ha(t){return ro(t)&&t.isMobxAction===!0}function iL(t,e){var n,o,r,a;e===void 0&&(e=LA);var u=(n=(o=e)==null?void 0:o.name)!=null?n:"Autorun",c=!e.scheduler&&!e.delay,h;if(c)h=new ui(u,function(){this.track(y)},e.onError,e.requiresObservable);else{var d=sL(e),m=!1;h=new ui(u,function(){m||(m=!0,d(function(){m=!1,h.isDisposed||h.track(y)}))},e.onError,e.requiresObservable)}function y(){t(h)}return(r=e)!=null&&(r=r.signal)!=null&&r.aborted||h.schedule_(),h.getDisposer_((a=e)==null?void 0:a.signal)}var rL=function(e){return e()};function sL(t){return t.scheduler?t.scheduler:t.delay?function(e){return setTimeout(e,t.delay)}:rL}var aL="onBO",lL="onBUO";function uL(t,e,n){return px(aL,t,e,n)}function hx(t,e,n){return px(lL,t,e,n)}function px(t,e,n,o){var r=gd(e),a=ro(o)?o:n,u=t+"L";return r[u]?r[u].add(a):r[u]=new Set([a]),function(){var c=r[u];c&&(c.delete(a),c.size===0&&delete r[u])}}var cL="never",pf="always",fL="observed";function dL(t){t.isolateGlobalState===!0&&Jk();var e=t.useProxies,n=t.enforceActions;if(e!==void 0&&(ue.useProxies=e===pf?!0:e===cL?!1:typeof Proxy<"u"),e==="ifavailable"&&(ue.verifyProxies=!0),n!==void 0){var o=n===pf?pf:n===fL;ue.enforceActions=o,ue.allowStateChanges=!(o===!0||o===pf)}["computedRequiresReaction","reactionRequiresObservable","observableRequiresReaction","disableErrorBoundaries","safeDescriptors"].forEach(function(r){r in t&&(ue[r]=!!t[r])}),ue.allowStateReads=!ue.observableRequiresReaction,t.reactionScheduler&&Qk(t.reactionScheduler)}function mx(t,e,n,o){var r=XP(e);return sr(function(){var a=Qr(t,o)[we];da(r).forEach(function(u){a.extend_(u,r[u],n&&u in n?n[u]:!0)})}),t}function hL(t,e){return gx(gd(t,e))}function gx(t){var e={name:t.name_};return t.observing_&&t.observing_.length>0&&(e.dependencies=pL(t.observing_).map(gx)),e}function pL(t){return Array.from(new Set(t))}var mL=0;function vx(){this.message="FLOW_CANCELLED"}vx.prototype=Object.create(Error.prototype);var Xm=JA("flow"),gL=JA("flow.bound",{bound:!0}),pa=Object.assign(function(e,n){if(Eu(n))return Xm.decorate_20223_(e,n);if(Hr(n))return Su(e,n,Xm);var o=e,r=o.name||"<unnamed flow>",a=function(){var c=this,h=arguments,d=++mL,m=oa(r+" - runid: "+d+" - init",o).apply(c,h),y,S=void 0,E=new Promise(function(C,A){var x=0;y=A;function M(D){S=void 0;var L;try{L=oa(r+" - runid: "+d+" - yield "+x++,m.next).call(m,D)}catch(U){return A(U)}N(L)}function I(D){S=void 0;var L;try{L=oa(r+" - runid: "+d+" - yield "+x++,m.throw).call(m,D)}catch(U){return A(U)}N(L)}function N(D){if(ro(D?.then)){D.then(N,A);return}return D.done?C(D.value):(S=Promise.resolve(D.value),S.then(M,I))}M(void 0)});return E.cancel=oa(r+" - runid: "+d+" - cancel",function(){try{S&&Hb(S);var C=m.return(void 0),A=Promise.resolve(C.value);A.then(ta,ta),Hb(A),y(new vx)}catch(x){y(x)}}),E};return a.isMobXFlow=!0,a},Xm);pa.bound=Co(gL);function Hb(t){ro(t.cancel)&&t.cancel()}function tu(t){return t?.isMobXFlow===!0}function vL(t,e){return t?xu(t)||!!t[we]||Qv(t)||hd(t)||wu(t):!1}function oy(t){return vL(t)}function yL(t){if(xu(t))return t[we].ownKeys_();Be(38)}function mf(t,e,n){return t.set(e,n),n}function js(t,e){if(t==null||typeof t!="object"||t instanceof Date||!oy(t))return t;if(zk(t)||wu(t))return js(t.get(),e);if(e.has(t))return e.get(t);if(Au(t)){var n=mf(e,t,new Array(t.length));return t.forEach(function(u,c){n[c]=js(u,e)}),n}if(Qn(t)){var o=mf(e,t,new Set);return t.forEach(function(u){o.add(js(u,e))}),o}if(rr(t)){var r=mf(e,t,new Map);return t.forEach(function(u,c){r.set(c,js(u,e))}),r}else{var a=mf(e,t,{});return yL(t).forEach(function(u){yu.propertyIsEnumerable.call(t,u)&&(a[u]=js(t[u],e))}),a}}function Vr(t,e){return js(t,new Map)}function oi(t,e){e===void 0&&(e=void 0),Ln();try{return t.apply(e)}finally{Un()}}function Fs(t){return t[we]}var _L={has:function(e,n){return Fs(e).has_(n)},get:function(e,n){return Fs(e).get_(n)},set:function(e,n,o){var r;return Hr(n)?(r=Fs(e).set_(n,o,!0))!=null?r:!0:!1},deleteProperty:function(e,n){var o;return Hr(n)?(o=Fs(e).delete_(n,!0))!=null?o:!0:!1},defineProperty:function(e,n,o){var r;return(r=Fs(e).defineProperty_(n,o))!=null?r:!0},ownKeys:function(e){return Fs(e).ownKeys_()},preventExtensions:function(e){Be(13)}};function SL(t,e){var n,o;return UA(),t=Qr(t,e),(o=(n=t[we]).proxy_)!=null?o:n.proxy_=new Proxy(t,_L)}function Pn(t){return t.interceptors_!==void 0&&t.interceptors_.length>0}function Tu(t,e){var n=t.interceptors_||(t.interceptors_=[]);return n.push(e),BA(function(){var o=n.indexOf(e);o!==-1&&n.splice(o,1)})}function kn(t,e){var n=Wr();try{for(var o=[].concat(t.interceptors_||[]),r=0,a=o.length;r<a&&(e=o[r](e),e&&!e.type&&Be(14),!!e);r++);return e}finally{si(n)}}function to(t){return t.changeListeners_!==void 0&&t.changeListeners_.length>0}function Cu(t,e){var n=t.changeListeners_||(t.changeListeners_=[]);return n.push(e),BA(function(){var o=n.indexOf(e);o!==-1&&n.splice(o,1)})}function no(t,e){var n=Wr(),o=t.changeListeners_;if(o){o=o.slice();for(var r=0,a=o.length;r<a;r++)o[r](e);si(n)}}function EL(t,e,n){return sr(function(){var o,r=Qr(t,n)[we];(o=e)!=null||(e=ek(t)),da(e).forEach(function(a){return r.make_(a,e[a])})}),t}var jm=Symbol("mobx-keys");function pi(t,e,n){return li(t)?mx(t,t,e,n):(sr(function(){var o=Qr(t,n)[we];if(!t[jm]){var r=Object.getPrototypeOf(t),a=new Set([].concat(da(t),da(r)));a.delete("constructor"),a.delete(we),_u(r,jm,a)}t[jm].forEach(function(u){return o.make_(u,e&&u in e?e[u]:!0)})}),t)}var Fb="splice",Ao="update",bL=1e4,wL={get:function(e,n){var o=e[we];return n===we?o:n==="length"?o.getArrayLength_():typeof n=="string"&&!isNaN(n)?o.get_(parseInt(n)):ri(pd,n)?pd[n]:e[n]},set:function(e,n,o){var r=e[we];return n==="length"&&r.setArrayLength_(o),typeof n=="symbol"||isNaN(n)?e[n]=o:r.set_(parseInt(n),o),!0},preventExtensions:function(){Be(15)}},iy=(function(){function t(n,o,r,a){n===void 0&&(n="ObservableArray"),this.owned_=void 0,this.legacyMode_=void 0,this.atom_=void 0,this.values_=[],this.interceptors_=void 0,this.changeListeners_=void 0,this.enhancer_=void 0,this.dehancer=void 0,this.proxy_=void 0,this.lastKnownLength_=0,this.owned_=r,this.legacyMode_=a,this.atom_=new ir(n),this.enhancer_=function(u,c){return o(u,c,"ObservableArray[..]")}}var e=t.prototype;return e.dehanceValue_=function(o){return this.dehancer!==void 0?this.dehancer(o):o},e.dehanceValues_=function(o){return this.dehancer!==void 0&&o.length>0?o.map(this.dehancer):o},e.intercept_=function(o){return Tu(this,o)},e.observe_=function(o,r){return r===void 0&&(r=!1),r&&o({observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:"splice",index:0,added:this.values_.slice(),addedCount:this.values_.length,removed:[],removedCount:0}),Cu(this,o)},e.getArrayLength_=function(){return this.atom_.reportObserved(),this.values_.length},e.setArrayLength_=function(o){(typeof o!="number"||isNaN(o)||o<0)&&Be("Out of range: "+o);var r=this.values_.length;if(o!==r)if(o>r){for(var a=new Array(o-r),u=0;u<o-r;u++)a[u]=void 0;this.spliceWithArray_(r,0,a)}else this.spliceWithArray_(o,r-o)},e.updateArrayLength_=function(o,r){o!==this.lastKnownLength_&&Be(16),this.lastKnownLength_+=r,this.legacyMode_&&r>0&&Tx(o+r+1)},e.spliceWithArray_=function(o,r,a){var u=this;this.atom_;var c=this.values_.length;if(o===void 0?o=0:o>c?o=c:o<0&&(o=Math.max(0,c+o)),arguments.length===1?r=c-o:r==null?r=0:r=Math.max(0,Math.min(r,c-o)),a===void 0&&(a=zg),Pn(this)){var h=kn(this,{object:this.proxy_,type:Fb,index:o,removedCount:r,added:a});if(!h)return zg;r=h.removedCount,a=h.added}if(a=a.length===0?a:a.map(function(y){return u.enhancer_(y,void 0)}),this.legacyMode_){var d=a.length-r;this.updateArrayLength_(c,d)}var m=this.spliceItemsIntoValues_(o,r,a);return(r!==0||a.length!==0)&&this.notifyArraySplice_(o,a,m),this.dehanceValues_(m)},e.spliceItemsIntoValues_=function(o,r,a){if(a.length<bL){var u;return(u=this.values_).splice.apply(u,[o,r].concat(a))}else{var c=this.values_.slice(o,o+r),h=this.values_.slice(o+r);this.values_.length+=a.length-r;for(var d=0;d<a.length;d++)this.values_[o+d]=a[d];for(var m=0;m<h.length;m++)this.values_[o+a.length+m]=h[m];return c}},e.notifyArrayChildUpdate_=function(o,r,a){var u=!this.owned_&&Kl(),c=to(this),h=c||u?{observableKind:"array",object:this.proxy_,type:Ao,debugObjectName:this.atom_.name_,index:o,newValue:r,oldValue:a}:null;this.atom_.reportChanged(),c&&no(this,h)},e.notifyArraySplice_=function(o,r,a){var u=!this.owned_&&Kl(),c=to(this),h=c||u?{observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:Fb,index:o,removed:a,added:r,removedCount:a.length,addedCount:r.length}:null;this.atom_.reportChanged(),c&&no(this,h)},e.get_=function(o){if(this.legacyMode_&&o>=this.values_.length){console.warn("[mobx] Out of bounds read: "+o);return}return this.atom_.reportObserved(),this.dehanceValue_(this.values_[o])},e.set_=function(o,r){var a=this.values_;if(this.legacyMode_&&o>a.length&&Be(17,o,a.length),o<a.length){this.atom_;var u=a[o];if(Pn(this)){var c=kn(this,{type:Ao,object:this.proxy_,index:o,newValue:r});if(!c)return;r=c.newValue}r=this.enhancer_(r,u);var h=r!==u;h&&(a[o]=r,this.notifyArrayChildUpdate_(o,r,u))}else{for(var d=new Array(o+1-a.length),m=0;m<d.length-1;m++)d[m]=void 0;d[d.length-1]=r,this.spliceWithArray_(a.length,0,d)}},t})();function TL(t,e,n,o){return n===void 0&&(n="ObservableArray"),o===void 0&&(o=!1),UA(),sr(function(){var r=new iy(n,e,o,!1);FA(r.values_,we,r);var a=new Proxy(r.values_,wL);return r.proxy_=a,t&&t.length&&r.spliceWithArray_(0,0,t),a})}var pd={clear:function(){return this.splice(0)},replace:function(e){var n=this[we];return n.spliceWithArray_(0,n.values_.length,e)},toJSON:function(){return this.slice()},splice:function(e,n){for(var o=arguments.length,r=new Array(o>2?o-2:0),a=2;a<o;a++)r[a-2]=arguments[a];var u=this[we];switch(arguments.length){case 0:return[];case 1:return u.spliceWithArray_(e);case 2:return u.spliceWithArray_(e,n)}return u.spliceWithArray_(e,n,r)},spliceWithArray:function(e,n,o){return this[we].spliceWithArray_(e,n,o)},push:function(){for(var e=this[we],n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return e.spliceWithArray_(e.values_.length,0,o),e.values_.length},pop:function(){return this.splice(Math.max(this[we].values_.length-1,0),1)[0]},shift:function(){return this.splice(0,1)[0]},unshift:function(){for(var e=this[we],n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return e.spliceWithArray_(0,0,o),e.values_.length},reverse:function(){return ue.trackingDerivation&&Be(37,"reverse"),this.replace(this.slice().reverse()),this},sort:function(){ue.trackingDerivation&&Be(37,"sort");var e=this.slice();return e.sort.apply(e,arguments),this.replace(e),this},remove:function(e){var n=this[we],o=n.dehanceValues_(n.values_).indexOf(e);return o>-1?(this.splice(o,1),!0):!1}};tt("at",En);tt("concat",En);tt("flat",En);tt("includes",En);tt("indexOf",En);tt("join",En);tt("lastIndexOf",En);tt("slice",En);tt("toString",En);tt("toLocaleString",En);tt("toSorted",En);tt("toSpliced",En);tt("with",En);tt("every",uo);tt("filter",uo);tt("find",uo);tt("findIndex",uo);tt("findLast",uo);tt("findLastIndex",uo);tt("flatMap",uo);tt("forEach",uo);tt("map",uo);tt("some",uo);tt("toReversed",uo);tt("reduce",yx);tt("reduceRight",yx);function tt(t,e){typeof Array.prototype[t]=="function"&&(pd[t]=e(t))}function En(t){return function(){var e=this[we];e.atom_.reportObserved();var n=e.dehanceValues_(e.values_);return n[t].apply(n,arguments)}}function uo(t){return function(e,n){var o=this,r=this[we];r.atom_.reportObserved();var a=r.dehanceValues_(r.values_);return a[t](function(u,c){return e.call(n,u,c,o)})}}function yx(t){return function(){var e=this,n=this[we];n.atom_.reportObserved();var o=n.dehanceValues_(n.values_),r=arguments[0];return arguments[0]=function(a,u,c){return r(a,u,c,e)},o[t].apply(o,arguments)}}var CL=or("ObservableArrayAdministration",iy);function Au(t){return qd(t)&&CL(t[we])}var AL={},Xi="add",md="delete",_x=(function(){function t(n,o,r){var a=this;o===void 0&&(o=$r),r===void 0&&(r="ObservableMap"),this.enhancer_=void 0,this.name_=void 0,this[we]=AL,this.data_=void 0,this.hasMap_=void 0,this.keysAtom_=void 0,this.interceptors_=void 0,this.changeListeners_=void 0,this.dehancer=void 0,this.enhancer_=o,this.name_=r,ro(Map)||Be(18),sr(function(){a.keysAtom_=zA("ObservableMap.keys()"),a.data_=new Map,a.hasMap_=new Map,n&&a.merge(n)})}var e=t.prototype;return e.has_=function(o){return this.data_.has(o)},e.has=function(o){var r=this;if(!ue.trackingDerivation)return this.has_(o);var a=this.hasMap_.get(o);if(!a){var u=a=new Qi(this.has_(o),Jd,"ObservableMap.key?",!1);this.hasMap_.set(o,u),hx(u,function(){return r.hasMap_.delete(o)})}return a.get()},e.set=function(o,r){var a=this.has_(o);if(Pn(this)){var u=kn(this,{type:a?Ao:Xi,object:this,newValue:r,name:o});if(!u)return this;r=u.newValue}return a?this.updateValue_(o,r):this.addValue_(o,r),this},e.delete=function(o){var r=this;if(this.keysAtom_,Pn(this)){var a=kn(this,{type:md,object:this,name:o});if(!a)return!1}if(this.has_(o)){var u=Kl(),c=to(this),h=c||u?{observableKind:"map",debugObjectName:this.name_,type:md,object:this,oldValue:this.data_.get(o).value_,name:o}:null;return oi(function(){var d;r.keysAtom_.reportChanged(),(d=r.hasMap_.get(o))==null||d.setNewValue_(!1);var m=r.data_.get(o);m.setNewValue_(void 0),r.data_.delete(o)}),c&&no(this,h),!0}return!1},e.updateValue_=function(o,r){var a=this.data_.get(o);if(r=a.prepareNewValue_(r),r!==ue.UNCHANGED){var u=Kl(),c=to(this),h=c||u?{observableKind:"map",debugObjectName:this.name_,type:Ao,object:this,oldValue:a.value_,name:o,newValue:r}:null;a.setNewValue_(r),c&&no(this,h)}},e.addValue_=function(o,r){var a=this;this.keysAtom_,oi(function(){var d,m=new Qi(r,a.enhancer_,"ObservableMap.key",!1);a.data_.set(o,m),r=m.value_,(d=a.hasMap_.get(o))==null||d.setNewValue_(!0),a.keysAtom_.reportChanged()});var u=Kl(),c=to(this),h=c||u?{observableKind:"map",debugObjectName:this.name_,type:Xi,object:this,name:o,newValue:r}:null;c&&no(this,h)},e.get=function(o){return this.has(o)?this.dehanceValue_(this.data_.get(o).get()):this.dehanceValue_(void 0)},e.dehanceValue_=function(o){return this.dehancer!==void 0?this.dehancer(o):o},e.keys=function(){return this.keysAtom_.reportObserved(),this.data_.keys()},e.values=function(){var o=this,r=this.keys();return $b({next:function(){var u=r.next(),c=u.done,h=u.value;return{done:c,value:c?void 0:o.get(h)}}})},e.entries=function(){var o=this,r=this.keys();return $b({next:function(){var u=r.next(),c=u.done,h=u.value;return{done:c,value:c?void 0:[h,o.get(h)]}}})},e[Symbol.iterator]=function(){return this.entries()},e.forEach=function(o,r){for(var a=na(this),u;!(u=a()).done;){var c=u.value,h=c[0],d=c[1];o.call(r,d,h,this)}},e.merge=function(o){var r=this;return rr(o)&&(o=new Map(o)),oi(function(){li(o)?YP(o).forEach(function(a){return r.set(a,o[a])}):Array.isArray(o)?o.forEach(function(a){var u=a[0],c=a[1];return r.set(u,c)}):Sa(o)?(KP(o)||Be(19,o),o.forEach(function(a,u){return r.set(u,a)})):o!=null&&Be(20,o)}),this},e.clear=function(){var o=this;oi(function(){tx(function(){for(var r=na(o.keys()),a;!(a=r()).done;){var u=a.value;o.delete(u)}})})},e.replace=function(o){var r=this;return oi(function(){for(var a=xL(o),u=new Map,c=!1,h=na(r.data_.keys()),d;!(d=h()).done;){var m=d.value;if(!a.has(m)){var y=r.delete(m);if(y)c=!0;else{var S=r.data_.get(m);u.set(m,S)}}}for(var E=na(a.entries()),C;!(C=E()).done;){var A=C.value,x=A[0],M=A[1],I=r.data_.has(x);if(r.set(x,M),r.data_.has(x)){var N=r.data_.get(x);u.set(x,N),I||(c=!0)}}if(!c)if(r.data_.size!==u.size)r.keysAtom_.reportChanged();else for(var D=r.data_.keys(),L=u.keys(),U=D.next(),O=L.next();!U.done;){if(U.value!==O.value){r.keysAtom_.reportChanged();break}U=D.next(),O=L.next()}r.data_=u}),this},e.toString=function(){return"[object ObservableMap]"},e.toJSON=function(){return Array.from(this)},e.observe_=function(o,r){return Cu(this,o)},e.intercept_=function(o){return Tu(this,o)},Ea(t,[{key:"size",get:function(){return this.keysAtom_.reportObserved(),this.data_.size}},{key:Symbol.toStringTag,get:function(){return"Map"}}])})(),rr=or("ObservableMap",_x);function $b(t){return t[Symbol.toStringTag]="MapIterator",sy(t)}function xL(t){if(Sa(t)||rr(t))return t;if(Array.isArray(t))return new Map(t);if(li(t)){var e=new Map;for(var n in t)e.set(n,t[n]);return e}else return Be(21,t)}var RL={},Sx=(function(){function t(n,o,r){var a=this;o===void 0&&(o=$r),r===void 0&&(r="ObservableSet"),this.name_=void 0,this[we]=RL,this.data_=new Set,this.atom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.dehancer=void 0,this.enhancer_=void 0,this.name_=r,ro(Set)||Be(22),this.enhancer_=function(u,c){return o(u,c,r)},sr(function(){a.atom_=zA(a.name_),n&&a.replace(n)})}var e=t.prototype;return e.dehanceValue_=function(o){return this.dehancer!==void 0?this.dehancer(o):o},e.clear=function(){var o=this;oi(function(){tx(function(){for(var r=na(o.data_.values()),a;!(a=r()).done;){var u=a.value;o.delete(u)}})})},e.forEach=function(o,r){for(var a=na(this),u;!(u=a()).done;){var c=u.value;o.call(r,c,c,this)}},e.add=function(o){var r=this;if(this.atom_,Pn(this)){var a=kn(this,{type:Xi,object:this,newValue:o});if(!a)return this;o=a.newValue}if(!this.has(o)){oi(function(){r.data_.add(r.enhancer_(o,void 0)),r.atom_.reportChanged()});var u=!1,c=to(this),h=c||u?{observableKind:"set",debugObjectName:this.name_,type:Xi,object:this,newValue:o}:null;c&&no(this,h)}return this},e.delete=function(o){var r=this;if(Pn(this)){var a=kn(this,{type:md,object:this,oldValue:o});if(!a)return!1}if(this.has(o)){var u=!1,c=to(this),h=c||u?{observableKind:"set",debugObjectName:this.name_,type:md,object:this,oldValue:o}:null;return oi(function(){r.atom_.reportChanged(),r.data_.delete(o)}),c&&no(this,h),!0}return!1},e.has=function(o){return this.atom_.reportObserved(),this.data_.has(this.dehanceValue_(o))},e.entries=function(){var o=this.values();return Gb({next:function(){var a=o.next(),u=a.value,c=a.done;return c?{value:void 0,done:c}:{value:[u,u],done:c}}})},e.keys=function(){return this.values()},e.values=function(){this.atom_.reportObserved();var o=this,r=this.data_.values();return Gb({next:function(){var u=r.next(),c=u.value,h=u.done;return h?{value:void 0,done:h}:{value:o.dehanceValue_(c),done:h}}})},e.intersection=function(o){if(ni(o)&&!Qn(o))return o.intersection(this);var r=new Set(this);return r.intersection(o)},e.union=function(o){if(ni(o)&&!Qn(o))return o.union(this);var r=new Set(this);return r.union(o)},e.difference=function(o){return new Set(this).difference(o)},e.symmetricDifference=function(o){if(ni(o)&&!Qn(o))return o.symmetricDifference(this);var r=new Set(this);return r.symmetricDifference(o)},e.isSubsetOf=function(o){return new Set(this).isSubsetOf(o)},e.isSupersetOf=function(o){return new Set(this).isSupersetOf(o)},e.isDisjointFrom=function(o){if(ni(o)&&!Qn(o))return o.isDisjointFrom(this);var r=new Set(this);return r.isDisjointFrom(o)},e.replace=function(o){var r=this;return Qn(o)&&(o=new Set(o)),oi(function(){Array.isArray(o)?(r.clear(),o.forEach(function(a){return r.add(a)})):ni(o)?(r.clear(),o.forEach(function(a){return r.add(a)})):o!=null&&Be("Cannot initialize set from "+o)}),this},e.observe_=function(o,r){return Cu(this,o)},e.intercept_=function(o){return Tu(this,o)},e.toJSON=function(){return Array.from(this)},e.toString=function(){return"[object ObservableSet]"},e[Symbol.iterator]=function(){return this.values()},Ea(t,[{key:"size",get:function(){return this.atom_.reportObserved(),this.data_.size}},{key:Symbol.toStringTag,get:function(){return"Set"}}])})(),Qn=or("ObservableSet",Sx);function Gb(t){return t[Symbol.toStringTag]="SetIterator",sy(t)}var Vb=Object.create(null),zb="remove",Ex=(function(){function t(n,o,r,a){o===void 0&&(o=new Map),a===void 0&&(a=Tk),this.target_=void 0,this.values_=void 0,this.name_=void 0,this.defaultAnnotation_=void 0,this.keysAtom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.proxy_=void 0,this.isPlainObject_=void 0,this.appliedAnnotations_=void 0,this.pendingKeys_=void 0,this.target_=n,this.values_=o,this.name_=r,this.defaultAnnotation_=a,this.keysAtom_=new ir("ObservableObject.keys"),this.isPlainObject_=li(this.target_)}var e=t.prototype;return e.getObservablePropValue_=function(o){return this.values_.get(o).get()},e.setObservablePropValue_=function(o,r){var a=this.values_.get(o);if(a instanceof so)return a.set(r),!0;if(Pn(this)){var u=kn(this,{type:Ao,object:this.proxy_||this.target_,name:o,newValue:r});if(!u)return null;r=u.newValue}if(r=a.prepareNewValue_(r),r!==ue.UNCHANGED){var c=to(this),h=!1,d=c||h?{type:Ao,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,oldValue:a.value_,name:o,newValue:r}:null;a.setNewValue_(r),c&&no(this,d)}return!0},e.get_=function(o){return ue.trackingDerivation&&!ri(this.target_,o)&&this.has_(o),this.target_[o]},e.set_=function(o,r,a){return a===void 0&&(a=!1),ri(this.target_,o)?this.values_.has(o)?this.setObservablePropValue_(o,r):a?Reflect.set(this.target_,o,r):(this.target_[o]=r,!0):this.extend_(o,{value:r,enumerable:!0,writable:!0,configurable:!0},this.defaultAnnotation_,a)},e.has_=function(o){if(!ue.trackingDerivation)return o in this.target_;this.pendingKeys_||(this.pendingKeys_=new Map);var r=this.pendingKeys_.get(o);return r||(r=new Qi(o in this.target_,Jd,"ObservableObject.key?",!1),this.pendingKeys_.set(o,r)),r.get()},e.make_=function(o,r){if(r===!0&&(r=this.defaultAnnotation_),r!==!1){if(!(o in this.target_)){var a;if((a=this.target_[Eo])!=null&&a[o])return;Be(1,r.annotationType_,this.name_+"."+o.toString())}for(var u=this.target_;u&&u!==yu;){var c=ld(u,o);if(c){var h=r.make_(this,o,c,u);if(h===0)return;if(h===1)break}u=Object.getPrototypeOf(u)}Jb(this,r,o)}},e.extend_=function(o,r,a,u){if(u===void 0&&(u=!1),a===!0&&(a=this.defaultAnnotation_),a===!1)return this.defineProperty_(o,r,u);var c=a.extend_(this,o,r,u);return c&&Jb(this,a,o),c},e.defineProperty_=function(o,r,a){a===void 0&&(a=!1),this.keysAtom_;try{Ln();var u=this.delete_(o);if(!u)return u;if(Pn(this)){var c=kn(this,{object:this.proxy_||this.target_,name:o,type:Xi,newValue:r.value});if(!c)return null;var h=c.newValue;r.value!==h&&(r=Fr({},r,{value:h}))}if(a){if(!Reflect.defineProperty(this.target_,o,r))return!1}else To(this.target_,o,r);this.notifyPropertyAddition_(o,r.value)}finally{Un()}return!0},e.defineObservableProperty_=function(o,r,a,u){u===void 0&&(u=!1),this.keysAtom_;try{Ln();var c=this.delete_(o);if(!c)return c;if(Pn(this)){var h=kn(this,{object:this.proxy_||this.target_,name:o,type:Xi,newValue:r});if(!h)return null;r=h.newValue}var d=qb(o),m={configurable:ue.safeDescriptors?this.isPlainObject_:!0,enumerable:!0,get:d.get,set:d.set};if(u){if(!Reflect.defineProperty(this.target_,o,m))return!1}else To(this.target_,o,m);var y=new Qi(r,a,"ObservableObject.key",!1);this.values_.set(o,y),this.notifyPropertyAddition_(o,y.value_)}finally{Un()}return!0},e.defineComputedProperty_=function(o,r,a){a===void 0&&(a=!1),this.keysAtom_;try{Ln();var u=this.delete_(o);if(!u)return u;if(Pn(this)){var c=kn(this,{object:this.proxy_||this.target_,name:o,type:Xi,newValue:void 0});if(!c)return null}r.name||(r.name="ObservableObject.key"),r.context=this.proxy_||this.target_;var h=qb(o),d={configurable:ue.safeDescriptors?this.isPlainObject_:!0,enumerable:!1,get:h.get,set:h.set};if(a){if(!Reflect.defineProperty(this.target_,o,d))return!1}else To(this.target_,o,d);this.values_.set(o,new so(r)),this.notifyPropertyAddition_(o,void 0)}finally{Un()}return!0},e.delete_=function(o,r){if(r===void 0&&(r=!1),this.keysAtom_,!ri(this.target_,o))return!0;if(Pn(this)){var a=kn(this,{object:this.proxy_||this.target_,name:o,type:zb});if(!a)return null}try{var u;Ln();var c=to(this),h=!1,d=this.values_.get(o),m=void 0;if(!d&&(c||h)){var y;m=(y=ld(this.target_,o))==null?void 0:y.value}if(r){if(!Reflect.deleteProperty(this.target_,o))return!1}else delete this.target_[o];if(d&&(this.values_.delete(o),d instanceof Qi&&(m=d.value_),ax(d)),this.keysAtom_.reportChanged(),(u=this.pendingKeys_)==null||(u=u.get(o))==null||u.set(o in this.target_),c||h){var S={type:zb,observableKind:"object",object:this.proxy_||this.target_,debugObjectName:this.name_,oldValue:m,name:o};c&&no(this,S)}}finally{Un()}return!0},e.observe_=function(o,r){return Cu(this,o)},e.intercept_=function(o){return Tu(this,o)},e.notifyPropertyAddition_=function(o,r){var a,u=to(this),c=!1;if(u||c){var h=u||c?{type:Xi,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,name:o,newValue:r}:null;u&&no(this,h)}(a=this.pendingKeys_)==null||(a=a.get(o))==null||a.set(!0),this.keysAtom_.reportChanged()},e.ownKeys_=function(){return this.keysAtom_.reportObserved(),da(this.target_)},e.keys_=function(){return this.keysAtom_.reportObserved(),Object.keys(this.target_)},t})();function Qr(t,e){var n;if(ri(t,we))return t;var o=(n=e?.name)!=null?n:"ObservableObject",r=new Ex(t,new Map,String(o),kk(e));return _u(t,we,r),t}var ML=or("ObservableObjectAdministration",Ex);function qb(t){return Vb[t]||(Vb[t]={get:function(){return this[we].getObservablePropValue_(t)},set:function(n){return this[we].setObservablePropValue_(t,n)}})}function xu(t){return qd(t)?ML(t[we]):!1}function Jb(t,e,n){var o;(o=t.target_[Eo])==null||delete o[n]}var NL=wx(0),IL=(function(){var t=!1,e={};return Object.defineProperty(e,"0",{set:function(){t=!0}}),Object.create(e)[0]=1,t===!1})(),Wm=0,bx=function(){};function DL(t,e){Object.setPrototypeOf?Object.setPrototypeOf(t.prototype,e):t.prototype.__proto__!==void 0?t.prototype.__proto__=e:t.prototype=e}DL(bx,Array.prototype);var ry=(function(t){function e(o,r,a,u){var c;return a===void 0&&(a="ObservableArray"),u===void 0&&(u=!1),c=t.call(this)||this,sr(function(){var h=new iy(a,r,u,!0);h.proxy_=c,FA(c,we,h),o&&o.length&&c.spliceWithArray(0,0,o),IL&&Object.defineProperty(c,"0",NL)}),c}VA(e,t);var n=e.prototype;return n.concat=function(){this[we].atom_.reportObserved();for(var r=arguments.length,a=new Array(r),u=0;u<r;u++)a[u]=arguments[u];return Array.prototype.concat.apply(this.slice(),a.map(function(c){return Au(c)?c.slice():c}))},n[Symbol.iterator]=function(){var o=this,r=0;return sy({next:function(){return r<o.length?{value:o[r++],done:!1}:{done:!0,value:void 0}}})},Ea(e,[{key:"length",get:function(){return this[we].getArrayLength_()},set:function(r){this[we].setArrayLength_(r)}},{key:Symbol.toStringTag,get:function(){return"Array"}}])})(bx);Object.entries(pd).forEach(function(t){var e=t[0],n=t[1];e!=="concat"&&_u(ry.prototype,e,n)});function wx(t){return{enumerable:!1,configurable:!0,get:function(){return this[we].get_(t)},set:function(n){this[we].set_(t,n)}}}function OL(t){To(ry.prototype,""+t,wx(t))}function Tx(t){if(t>Wm){for(var e=Wm;e<t+100;e++)OL(e);Wm=t}}Tx(1e3);function PL(t,e,n){return new ry(t,e,n)}function gd(t,e){if(typeof t=="object"&&t!==null){if(Au(t))return e!==void 0&&Be(23),t[we].atom_;if(Qn(t))return t.atom_;if(rr(t)){if(e===void 0)return t.keysAtom_;var n=t.data_.get(e)||t.hasMap_.get(e);return n||Be(25,e,Zg(t)),n}if(xu(t)){if(!e)return Be(26);var o=t[we].values_.get(e);return o||Be(27,e,Zg(t)),o}if(Qv(t)||wu(t)||hd(t))return t}else if(ro(t)&&hd(t[we]))return t[we];Be(28)}function kL(t,e){if(t||Be(29),Qv(t)||wu(t)||hd(t)||rr(t)||Qn(t))return t;if(t[we])return t[we];Be(24,t)}function Zg(t,e){var n;if(e!==void 0)n=gd(t,e);else{if(ha(t))return t.name;xu(t)||rr(t)||Qn(t)?n=kL(t):n=gd(t)}return n.name_}function sr(t){var e=Wr(),n=ey(!0);Ln();try{return t()}finally{Un(),ty(n),si(e)}}var Kb=yu.toString;function Cx(t,e,n){return n===void 0&&(n=-1),ev(t,e,n)}function ev(t,e,n,o,r){if(t===e)return t!==0||1/t===1/e;if(t==null||e==null)return!1;if(t!==t)return e!==e;var a=typeof t;if(a!=="function"&&a!=="object"&&typeof e!="object")return!1;var u=Kb.call(t);if(u!==Kb.call(e))return!1;switch(u){case"[object RegExp]":case"[object String]":return""+t==""+e;case"[object Number]":return+t!=+t?+e!=+e:+t==0?1/+t===1/e:+t==+e;case"[object Date]":case"[object Boolean]":return+t==+e;case"[object Symbol]":return typeof Symbol<"u"&&Symbol.valueOf.call(t)===Symbol.valueOf.call(e);case"[object Map]":case"[object Set]":n>=0&&n++;break}t=Yb(t),e=Yb(e);var c=u==="[object Array]";if(!c){if(typeof t!="object"||typeof e!="object")return!1;var h=t.constructor,d=e.constructor;if(h!==d&&!(ro(h)&&h instanceof h&&ro(d)&&d instanceof d)&&"constructor"in t&&"constructor"in e)return!1}if(n===0)return!1;n<0&&(n=-1),o=o||[],r=r||[];for(var m=o.length;m--;)if(o[m]===t)return r[m]===e;if(o.push(t),r.push(e),c){if(m=t.length,m!==e.length)return!1;for(;m--;)if(!ev(t[m],e[m],n-1,o,r))return!1}else{var y=Object.keys(t),S=y.length;if(Object.keys(e).length!==S)return!1;for(var E=0;E<S;E++){var C=y[E];if(!(ri(e,C)&&ev(t[C],e[C],n-1,o,r)))return!1}}return o.pop(),r.pop(),!0}function Yb(t){return Au(t)?t.slice():Sa(t)||rr(t)||ni(t)||Qn(t)?Array.from(t.entries()):t}var Xb,LL=((Xb=zd().Iterator)==null?void 0:Xb.prototype)||{};function sy(t){return t[Symbol.iterator]=UL,Object.assign(Object.create(LL),t)}function UL(){return this}["Symbol","Map","Set"].forEach(function(t){var e=zd();typeof e[t]>"u"&&Be("MobX requires global '"+t+"' to be available or polyfilled")});typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__=="object"&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:Zk,extras:{getDebugName:Zg},$mobx:we});if(!w.useState)throw new Error("mobx-react-lite requires React with Hooks support");if(!EL)throw new Error("mobx-react-lite@3 requires mobx at least version 6 to be available");var Xd=PA();const Or=vu(Xd);function BL(t){t()}function HL(t){t||(t=BL),dL({reactionScheduler:t})}function FL(t){return hL(t)}var $L=1e4,GL=1e4,VL=(function(){function t(e){var n=this;Object.defineProperty(this,"finalize",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"registrations",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),Object.defineProperty(this,"sweepTimeout",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sweep",{enumerable:!0,configurable:!0,writable:!0,value:function(o){o===void 0&&(o=$L),clearTimeout(n.sweepTimeout),n.sweepTimeout=void 0;var r=Date.now();n.registrations.forEach(function(a,u){r-a.registeredAt>=o&&(n.finalize(a.value),n.registrations.delete(u))}),n.registrations.size>0&&n.scheduleSweep()}}),Object.defineProperty(this,"finalizeAllImmediately",{enumerable:!0,configurable:!0,writable:!0,value:function(){n.sweep(0)}})}return Object.defineProperty(t.prototype,"register",{enumerable:!1,configurable:!0,writable:!0,value:function(e,n,o){this.registrations.set(o,{value:n,registeredAt:Date.now()}),this.scheduleSweep()}}),Object.defineProperty(t.prototype,"unregister",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this.registrations.delete(e)}}),Object.defineProperty(t.prototype,"scheduleSweep",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.sweepTimeout===void 0&&(this.sweepTimeout=setTimeout(this.sweep,GL))}}),t})(),zL=typeof FinalizationRegistry<"u"?FinalizationRegistry:VL,tv=new zL(function(t){var e;(e=t.reaction)===null||e===void 0||e.dispose(),t.reaction=null}),Qm={exports:{}},Zm={};var jb;function qL(){if(jb)return Zm;jb=1;var t=Vd();function e(y,S){return y===S&&(y!==0||1/y===1/S)||y!==y&&S!==S}var n=typeof Object.is=="function"?Object.is:e,o=t.useState,r=t.useEffect,a=t.useLayoutEffect,u=t.useDebugValue;function c(y,S){var E=S(),C=o({inst:{value:E,getSnapshot:S}}),A=C[0].inst,x=C[1];return a(function(){A.value=E,A.getSnapshot=S,h(A)&&x({inst:A})},[y,E,S]),r(function(){return h(A)&&x({inst:A}),y(function(){h(A)&&x({inst:A})})},[y]),u(E),E}function h(y){var S=y.getSnapshot;y=y.value;try{var E=S();return!n(y,E)}catch{return!0}}function d(y,S){return S()}var m=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?d:c;return Zm.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:m,Zm}var Wb;function JL(){return Wb||(Wb=1,Qm.exports=qL()),Qm.exports}var KL=JL();function Qb(t){t.reaction=new ui("observer".concat(t.name),function(){var e;t.stateVersion=Symbol(),(e=t.onStoreChange)===null||e===void 0||e.call(t)})}function YL(t,e){e===void 0&&(e="observed");var n=et.useRef(null);if(!n.current){var o={reaction:null,onStoreChange:null,stateVersion:Symbol(),name:e,subscribe:function(c){return tv.unregister(o),o.onStoreChange=c,o.reaction||(Qb(o),o.stateVersion=Symbol()),function(){var h;o.onStoreChange=null,(h=o.reaction)===null||h===void 0||h.dispose(),o.reaction=null}},getSnapshot:function(){return o.stateVersion}};n.current=o}var r=n.current;r.reaction||(Qb(r),tv.register(n,r,r)),et.useDebugValue(r.reaction,FL),KL.useSyncExternalStore(r.subscribe,r.getSnapshot,r.getSnapshot);var a,u;if(r.reaction.track(function(){try{a=t()}catch(c){u=c}}),u)throw u;return a}var eg,tg,Ax=typeof Symbol=="function"&&Symbol.for,XL=(tg=(eg=Object.getOwnPropertyDescriptor(function(){},"name"))===null||eg===void 0?void 0:eg.configurable)!==null&&tg!==void 0?tg:!1,Zb=Ax?Symbol.for("react.forward_ref"):typeof w.forwardRef=="function"&&w.forwardRef(function(t){return null}).$$typeof,ew=Ax?Symbol.for("react.memo"):typeof w.memo=="function"&&w.memo(function(t){return null}).$$typeof;function wt(t,e){var n;if(ew&&t.$$typeof===ew)throw new Error("[mobx-react-lite] You are trying to use `observer` on a function component wrapped in either another `observer` or `React.memo`. The observer already applies 'React.memo' for you.");var o=(n=void 0)!==null&&n!==void 0?n:!1,r=t,a=t.displayName||t.name;if(Zb&&t.$$typeof===Zb&&(o=!0,r=t.render,typeof r!="function"))throw new Error("[mobx-react-lite] `render` property of ForwardRef was not a function");var u=function(c,h){return YL(function(){return r(c,h)},a)};return u.displayName=t.displayName,XL&&Object.defineProperty(u,"name",{value:t.name,writable:!0,configurable:!0}),t.contextTypes&&(u.contextTypes=t.contextTypes),o&&(u=w.forwardRef(u)),u=w.memo(u),WL(t,u),u}var jL={$$typeof:!0,render:!0,compare:!0,type:!0,displayName:!0};function WL(t,e){Object.keys(t).forEach(function(n){jL[n]||Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}var ng;HL(Xd.unstable_batchedUpdates);ng=tv.finalizeAllImmediately;var og={exports:{}};var tw;function QL(){return tw||(tw=1,(function(t){(function(){var e={}.hasOwnProperty;function n(){for(var a="",u=0;u<arguments.length;u++){var c=arguments[u];c&&(a=r(a,o(c)))}return a}function o(a){if(typeof a=="string"||typeof a=="number")return a;if(typeof a!="object")return"";if(Array.isArray(a))return n.apply(null,a);if(a.toString!==Object.prototype.toString&&!a.toString.toString().includes("[native code]"))return a.toString();var u="";for(var c in a)e.call(a,c)&&a[c]&&(u=r(u,c));return u}function r(a,u){return u?a?a+" "+u:a+u:a}t.exports?(n.default=n,t.exports=n):window.classNames=n})()})(og)),og.exports}var ZL=QL();const Me=vu(ZL);function nv(){return nv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)({}).hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},nv.apply(null,arguments)}function xx(t,e){if(t==null)return{};var n={};for(var o in t)if({}.hasOwnProperty.call(t,o)){if(e.indexOf(o)!==-1)continue;n[o]=t[o]}return n}function nw(t){return"default"+t.charAt(0).toUpperCase()+t.substr(1)}function eU(t){var e=tU(t,"string");return typeof e=="symbol"?e:String(e)}function tU(t,e){if(typeof t!="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var o=n.call(t,e);if(typeof o!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function nU(t,e,n){var o=w.useRef(t!==void 0),r=w.useState(e),a=r[0],u=r[1],c=t!==void 0,h=o.current;return o.current=c,!c&&h&&a!==e&&u(e),[c?t:a,w.useCallback(function(d){for(var m=arguments.length,y=new Array(m>1?m-1:0),S=1;S<m;S++)y[S-1]=arguments[S];n&&n.apply(void 0,[d].concat(y)),u(d)},[n])]}function ay(t,e){return Object.keys(e).reduce(function(n,o){var r,a=n,u=a[nw(o)],c=a[o],h=xx(a,[nw(o),o].map(eU)),d=e[o],m=nU(c,u,t[d]),y=m[0],S=m[1];return nv({},h,(r={},r[o]=y,r[d]=S,r))},t)}function ov(t,e){return ov=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,o){return n.__proto__=o,n},ov(t,e)}function oU(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,ov(t,e)}const iU=["xxl","xl","lg","md","sm","xs"],rU="xs",Ru=w.createContext({prefixes:{},breakpoints:iU,minBreakpoint:rU}),{Consumer:gY,Provider:vY}=Ru;function Ue(t,e){const{prefixes:n}=w.useContext(Ru);return t||n[e]||e}function Rx(){const{breakpoints:t}=w.useContext(Ru);return t}function Mx(){const{minBreakpoint:t}=w.useContext(Ru);return t}function sU(){const{dir:t}=w.useContext(Ru);return t==="rtl"}function jd(t){return t&&t.ownerDocument||document}function aU(t){var e=jd(t);return e&&e.defaultView||window}function lU(t,e){return aU(t).getComputedStyle(t,e)}var uU=/([A-Z])/g;function cU(t){return t.replace(uU,"-$1").toLowerCase()}var fU=/^ms-/;function gf(t){return cU(t).replace(fU,"-ms-")}var dU=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function hU(t){return!!(t&&dU.test(t))}function ai(t,e){var n="",o="";if(typeof e=="string")return t.style.getPropertyValue(gf(e))||lU(t).getPropertyValue(gf(e));Object.keys(e).forEach(function(r){var a=e[r];!a&&a!==0?t.style.removeProperty(gf(r)):hU(r)?o+=r+"("+a+") ":n+=gf(r)+": "+a+";"}),o&&(n+="transform: "+o+";"),t.style.cssText+=";"+n}var ig={exports:{}},rg,ow;function pU(){if(ow)return rg;ow=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return rg=t,rg}var sg,iw;function mU(){if(iw)return sg;iw=1;var t=pU();function e(){}function n(){}return n.resetWarningCache=e,sg=function(){function o(u,c,h,d,m,y){if(y!==t){var S=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw S.name="Invariant Violation",S}}o.isRequired=o;function r(){return o}var a={array:o,bigint:o,bool:o,func:o,number:o,object:o,string:o,symbol:o,any:o,arrayOf:r,element:o,elementType:o,instanceOf:r,node:o,objectOf:r,oneOf:r,oneOfType:r,shape:r,exact:r,checkPropTypes:n,resetWarningCache:e};return a.PropTypes=a,a},sg}var rw;function gU(){return rw||(rw=1,ig.exports=mU()()),ig.exports}var vU=gU();const ag=vu(vU),sw={disabled:!1},Nx=et.createContext(null);var yU=function(e){return e.scrollTop},Ol="unmounted",Yi="exited",Wn="entering",ii="entered",nu="exiting",mi=(function(t){oU(e,t);function e(o,r){var a;a=t.call(this,o,r)||this;var u=r,c=u&&!u.isMounting?o.enter:o.appear,h;return a.appearStatus=null,o.in?c?(h=Yi,a.appearStatus=Wn):h=ii:o.unmountOnExit||o.mountOnEnter?h=Ol:h=Yi,a.state={status:h},a.nextCallback=null,a}e.getDerivedStateFromProps=function(r,a){var u=r.in;return u&&a.status===Ol?{status:Yi}:null};var n=e.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(r){var a=null;if(r!==this.props){var u=this.state.status;this.props.in?u!==Wn&&u!==ii&&(a=Wn):(u===Wn||u===ii)&&(a=nu)}this.updateStatus(!1,a)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var r=this.props.timeout,a,u,c;return a=u=c=r,r!=null&&typeof r!="number"&&(a=r.exit,u=r.enter,c=r.appear!==void 0?r.appear:u),{exit:a,enter:u,appear:c}},n.updateStatus=function(r,a){if(r===void 0&&(r=!1),a!==null)if(this.cancelNextCallback(),a===Wn){if(this.props.unmountOnExit||this.props.mountOnEnter){var u=this.props.nodeRef?this.props.nodeRef.current:Or.findDOMNode(this);u&&yU(u)}this.performEnter(r)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Yi&&this.setState({status:Ol})},n.performEnter=function(r){var a=this,u=this.props.enter,c=this.context?this.context.isMounting:r,h=this.props.nodeRef?[c]:[Or.findDOMNode(this),c],d=h[0],m=h[1],y=this.getTimeouts(),S=c?y.appear:y.enter;if(!r&&!u||sw.disabled){this.safeSetState({status:ii},function(){a.props.onEntered(d)});return}this.props.onEnter(d,m),this.safeSetState({status:Wn},function(){a.props.onEntering(d,m),a.onTransitionEnd(S,function(){a.safeSetState({status:ii},function(){a.props.onEntered(d,m)})})})},n.performExit=function(){var r=this,a=this.props.exit,u=this.getTimeouts(),c=this.props.nodeRef?void 0:Or.findDOMNode(this);if(!a||sw.disabled){this.safeSetState({status:Yi},function(){r.props.onExited(c)});return}this.props.onExit(c),this.safeSetState({status:nu},function(){r.props.onExiting(c),r.onTransitionEnd(u.exit,function(){r.safeSetState({status:Yi},function(){r.props.onExited(c)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(r,a){a=this.setNextCallback(a),this.setState(r,a)},n.setNextCallback=function(r){var a=this,u=!0;return this.nextCallback=function(c){u&&(u=!1,a.nextCallback=null,r(c))},this.nextCallback.cancel=function(){u=!1},this.nextCallback},n.onTransitionEnd=function(r,a){this.setNextCallback(a);var u=this.props.nodeRef?this.props.nodeRef.current:Or.findDOMNode(this),c=r==null&&!this.props.addEndListener;if(!u||c){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var h=this.props.nodeRef?[this.nextCallback]:[u,this.nextCallback],d=h[0],m=h[1];this.props.addEndListener(d,m)}r!=null&&setTimeout(this.nextCallback,r)},n.render=function(){var r=this.state.status;if(r===Ol)return null;var a=this.props,u=a.children;a.in,a.mountOnEnter,a.unmountOnExit,a.appear,a.enter,a.exit,a.timeout,a.addEndListener,a.onEnter,a.onEntering,a.onEntered,a.onExit,a.onExiting,a.onExited,a.nodeRef;var c=xx(a,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return et.createElement(Nx.Provider,{value:null},typeof u=="function"?u(r,c):et.cloneElement(et.Children.only(u),c))},e})(et.Component);mi.contextType=Nx;mi.propTypes={};function $s(){}mi.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:$s,onEntering:$s,onEntered:$s,onExit:$s,onExiting:$s,onExited:$s};mi.UNMOUNTED=Ol;mi.EXITED=Yi;mi.ENTERING=Wn;mi.ENTERED=ii;mi.EXITING=nu;function _U(t){return t.code==="Escape"||t.keyCode===27}function SU(){const t=w.version.split(".");return{major:+t[0],minor:+t[1],patch:+t[2]}}function ba(t){if(!t||typeof t=="function")return null;const{major:e}=SU();return e>=19?t.props.ref:t.ref}const Wd=!!(typeof window<"u"&&window.document&&window.document.createElement);var iv=!1,rv=!1;try{var lg={get passive(){return iv=!0},get once(){return rv=iv=!0}};Wd&&(window.addEventListener("test",lg,lg),window.removeEventListener("test",lg,!0))}catch{}function Ix(t,e,n,o){if(o&&typeof o!="boolean"&&!rv){var r=o.once,a=o.capture,u=n;!rv&&r&&(u=n.__once||function c(h){this.removeEventListener(e,c,a),n.call(this,h)},n.__once=u),t.addEventListener(e,u,iv?o:a)}t.addEventListener(e,n,o)}function EU(t,e,n,o){var r=o&&typeof o!="boolean"?o.capture:o;t.removeEventListener(e,n,r),n.__once&&t.removeEventListener(e,n.__once,r)}function ji(t,e,n,o){return Ix(t,e,n,o),function(){EU(t,e,n,o)}}function bU(t,e,n,o){if(o===void 0&&(o=!0),t){var r=document.createEvent("HTMLEvents");r.initEvent(e,n,o),t.dispatchEvent(r)}}function wU(t){var e=ai(t,"transitionDuration")||"",n=e.indexOf("ms")===-1?1e3:1;return parseFloat(e)*n}function TU(t,e,n){n===void 0&&(n=5);var o=!1,r=setTimeout(function(){o||bU(t,"transitionend",!0)},e+n),a=ji(t,"transitionend",function(){o=!0},{once:!0});return function(){clearTimeout(r),a()}}function CU(t,e,n,o){n==null&&(n=wU(t)||0);var r=TU(t,n,o),a=ji(t,"transitionend",e);return function(){r(),a()}}function aw(t,e){const n=ai(t,e)||"",o=n.indexOf("ms")===-1?1e3:1;return parseFloat(n)*o}function ly(t,e){const n=aw(t,"transitionDuration"),o=aw(t,"transitionDelay"),r=CU(t,a=>{a.target===t&&(r(),e(a))},n+o)}function Ml(...t){return t.filter(e=>e!=null).reduce((e,n)=>{if(typeof n!="function")throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return e===null?n:function(...r){e.apply(this,r),n.apply(this,r)}},null)}function Dx(t){t.offsetHeight}const lw=t=>!t||typeof t=="function"?t:e=>{t.current=e};function AU(t,e){const n=lw(t),o=lw(e);return r=>{n&&n(r),o&&o(r)}}function uy(t,e){return w.useMemo(()=>AU(t,e),[t,e])}function xU(t){return t&&"setState"in t?Or.findDOMNode(t):t??null}const Qd=et.forwardRef(({onEnter:t,onEntering:e,onEntered:n,onExit:o,onExiting:r,onExited:a,addEndListener:u,children:c,childRef:h,...d},m)=>{const y=w.useRef(null),S=uy(y,h),E=U=>{S(xU(U))},C=U=>O=>{U&&y.current&&U(y.current,O)},A=w.useCallback(C(t),[t]),x=w.useCallback(C(e),[e]),M=w.useCallback(C(n),[n]),I=w.useCallback(C(o),[o]),N=w.useCallback(C(r),[r]),D=w.useCallback(C(a),[a]),L=w.useCallback(C(u),[u]);return T.jsx(mi,{ref:m,...d,onEnter:A,onEntered:M,onEntering:x,onExit:I,onExited:D,onExiting:N,addEndListener:L,nodeRef:y,children:typeof c=="function"?(U,O)=>c(U,{...O,ref:E}):et.cloneElement(c,{ref:E})})});Qd.displayName="TransitionWrapper";const RU={height:["marginTop","marginBottom"],width:["marginLeft","marginRight"]};function MU(t,e){const n=`offset${t[0].toUpperCase()}${t.slice(1)}`,o=e[n],r=RU[t];return o+parseInt(ai(e,r[0]),10)+parseInt(ai(e,r[1]),10)}const NU={[Yi]:"collapse",[nu]:"collapsing",[Wn]:"collapsing",[ii]:"collapse show"},Ox=et.forwardRef(({onEnter:t,onEntering:e,onEntered:n,onExit:o,onExiting:r,className:a,children:u,dimension:c="height",in:h=!1,timeout:d=300,mountOnEnter:m=!1,unmountOnExit:y=!1,appear:S=!1,getDimensionValue:E=MU,...C},A)=>{const x=typeof c=="function"?c():c,M=w.useMemo(()=>Ml(U=>{U.style[x]="0"},t),[x,t]),I=w.useMemo(()=>Ml(U=>{const O=`scroll${x[0].toUpperCase()}${x.slice(1)}`;U.style[x]=`${U[O]}px`},e),[x,e]),N=w.useMemo(()=>Ml(U=>{U.style[x]=null},n),[x,n]),D=w.useMemo(()=>Ml(U=>{U.style[x]=`${E(x,U)}px`,Dx(U)},o),[o,E,x]),L=w.useMemo(()=>Ml(U=>{U.style[x]=null},r),[x,r]);return T.jsx(Qd,{ref:A,addEndListener:ly,...C,"aria-expanded":C.role?h:null,onEnter:M,onEntering:I,onEntered:N,onExit:D,onExiting:L,childRef:ba(u),in:h,timeout:d,mountOnEnter:m,unmountOnExit:y,appear:S,children:(U,O)=>et.cloneElement(u,{...O,className:Me(a,u.props.className,NU[U],x==="width"&&"collapse-horizontal")})})});Ox.displayName="Collapse";function IU(t){const e=w.useRef(t);return w.useEffect(()=>{e.current=t},[t]),e}function Mu(t){const e=IU(t);return w.useCallback(function(...n){return e.current&&e.current(...n)},[e])}const cy=(t=>w.forwardRef((e,n)=>T.jsx("div",{...e,ref:n,className:Me(e.className,t)})));function DU(){return w.useState(null)}function OU(t){const e=w.useRef(t);return w.useEffect(()=>{e.current=t},[t]),e}function kt(t){const e=OU(t);return w.useCallback(function(...n){return e.current&&e.current(...n)},[e])}function PU(t,e,n,o=!1){const r=kt(n);w.useEffect(()=>{const a=typeof t=="function"?t():t;return a.addEventListener(e,r,o),()=>a.removeEventListener(e,r,o)},[t])}function Px(){const t=w.useRef(!0),e=w.useRef(()=>t.current);return w.useEffect(()=>(t.current=!0,()=>{t.current=!1}),[]),e.current}function kx(t){const e=w.useRef(null);return w.useEffect(()=>{e.current=t}),e.current}const kU=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",LU=typeof document<"u",uw=LU||kU?w.useLayoutEffect:w.useEffect,UU=["as","disabled"];function BU(t,e){if(t==null)return{};var n={};for(var o in t)if({}.hasOwnProperty.call(t,o)){if(e.indexOf(o)>=0)continue;n[o]=t[o]}return n}function HU(t){return!t||t.trim()==="#"}function fy({tagName:t,disabled:e,href:n,target:o,rel:r,role:a,onClick:u,tabIndex:c=0,type:h}){t||(n!=null||o!=null||r!=null?t="a":t="button");const d={tagName:t};if(t==="button")return[{type:h||"button",disabled:e},d];const m=S=>{if((e||t==="a"&&HU(n))&&S.preventDefault(),e){S.stopPropagation();return}u?.(S)},y=S=>{S.key===" "&&(S.preventDefault(),m(S))};return t==="a"&&(n||(n="#"),e&&(n=void 0)),[{role:a??"button",disabled:void 0,tabIndex:e?void 0:c,href:n,target:t==="a"?o:void 0,"aria-disabled":e||void 0,rel:t==="a"?r:void 0,onClick:m,onKeyDown:y},d]}const dy=w.forwardRef((t,e)=>{let{as:n,disabled:o}=t,r=BU(t,UU);const[a,{tagName:u}]=fy(Object.assign({tagName:n,disabled:o},r));return T.jsx(u,Object.assign({},r,a,{ref:e}))});dy.displayName="Button";const FU=["onKeyDown"];function $U(t,e){if(t==null)return{};var n={};for(var o in t)if({}.hasOwnProperty.call(t,o)){if(e.indexOf(o)>=0)continue;n[o]=t[o]}return n}function GU(t){return!t||t.trim()==="#"}const hy=w.forwardRef((t,e)=>{let{onKeyDown:n}=t,o=$U(t,FU);const[r]=fy(Object.assign({tagName:"a"},o)),a=kt(u=>{r.onKeyDown(u),n?.(u)});return GU(o.href)||o.role==="button"?T.jsx("a",Object.assign({ref:e},o,r,{onKeyDown:a})):T.jsx("a",Object.assign({ref:e},o,{onKeyDown:n}))});hy.displayName="Anchor";const VU={[Wn]:"show",[ii]:"show"},Lx=w.forwardRef(({className:t,children:e,transitionClasses:n={},onEnter:o,...r},a)=>{const u={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,...r},c=w.useCallback((h,d)=>{Dx(h),o?.(h,d)},[o]);return T.jsx(Qd,{ref:a,addEndListener:ly,...u,onEnter:c,childRef:ba(e),children:(h,d)=>w.cloneElement(e,{...d,className:Me("fade",t,e.props.className,VU[h],n[h])})})});Lx.displayName="Fade";const zU={"aria-label":ag.string,onClick:ag.func,variant:ag.oneOf(["white"])},py=w.forwardRef(({className:t,variant:e,"aria-label":n="Close",...o},r)=>T.jsx("button",{ref:r,type:"button",className:Me("btn-close",e&&`btn-close-${e}`,t),"aria-label":n,...o}));py.displayName="CloseButton";py.propTypes=zU;const Ux=w.forwardRef(({as:t,bsPrefix:e,variant:n="primary",size:o,active:r=!1,disabled:a=!1,className:u,...c},h)=>{const d=Ue(e,"btn"),[m,{tagName:y}]=fy({tagName:t,disabled:a,...c}),S=y;return T.jsx(S,{...m,...c,ref:h,disabled:a,className:Me(u,d,r&&"active",n&&`${d}-${n}`,o&&`${d}-${o}`,c.href&&a&&"disabled")})});Ux.displayName="Button";const my=w.forwardRef(({className:t,bsPrefix:e,as:n="div",...o},r)=>(e=Ue(e,"card-body"),T.jsx(n,{ref:r,className:Me(t,e),...o})));my.displayName="CardBody";const Bx=w.forwardRef(({className:t,bsPrefix:e,as:n="div",...o},r)=>(e=Ue(e,"card-footer"),T.jsx(n,{ref:r,className:Me(t,e),...o})));Bx.displayName="CardFooter";const gy=w.createContext(null);gy.displayName="CardHeaderContext";const Hx=w.forwardRef(({bsPrefix:t,className:e,as:n="div",...o},r)=>{const a=Ue(t,"card-header"),u=w.useMemo(()=>({cardHeaderBsPrefix:a}),[a]);return T.jsx(gy.Provider,{value:u,children:T.jsx(n,{ref:r,...o,className:Me(e,a)})})});Hx.displayName="CardHeader";const Fx=w.forwardRef(({bsPrefix:t,className:e,variant:n,as:o="img",...r},a)=>{const u=Ue(t,"card-img");return T.jsx(o,{ref:a,className:Me(n?`${u}-${n}`:u,e),...r})});Fx.displayName="CardImg";const $x=w.forwardRef(({className:t,bsPrefix:e,as:n="div",...o},r)=>(e=Ue(e,"card-img-overlay"),T.jsx(n,{ref:r,className:Me(t,e),...o})));$x.displayName="CardImgOverlay";const Gx=w.forwardRef(({className:t,bsPrefix:e,as:n="a",...o},r)=>(e=Ue(e,"card-link"),T.jsx(n,{ref:r,className:Me(t,e),...o})));Gx.displayName="CardLink";const qU=cy("h6"),Vx=w.forwardRef(({className:t,bsPrefix:e,as:n=qU,...o},r)=>(e=Ue(e,"card-subtitle"),T.jsx(n,{ref:r,className:Me(t,e),...o})));Vx.displayName="CardSubtitle";const zx=w.forwardRef(({className:t,bsPrefix:e,as:n="p",...o},r)=>(e=Ue(e,"card-text"),T.jsx(n,{ref:r,className:Me(t,e),...o})));zx.displayName="CardText";const JU=cy("h5"),qx=w.forwardRef(({className:t,bsPrefix:e,as:n=JU,...o},r)=>(e=Ue(e,"card-title"),T.jsx(n,{ref:r,className:Me(t,e),...o})));qx.displayName="CardTitle";const Jx=w.forwardRef(({bsPrefix:t,className:e,bg:n,text:o,border:r,body:a=!1,children:u,as:c="div",...h},d)=>{const m=Ue(t,"card");return T.jsx(c,{ref:d,...h,className:Me(e,m,n&&`bg-${n}`,o&&`text-${o}`,r&&`border-${r}`),children:a?T.jsx(my,{children:u}):u})});Jx.displayName="Card";const vf=Object.assign(Jx,{Img:Fx,Title:qx,Subtitle:Vx,Body:my,Link:Gx,Text:zx,Header:Hx,Footer:Bx,ImgOverlay:$x});function KU({as:t,bsPrefix:e,className:n,...o}){e=Ue(e,"col");const r=Rx(),a=Mx(),u=[],c=[];return r.forEach(h=>{const d=o[h];delete o[h];let m,y,S;typeof d=="object"&&d!=null?{span:m,offset:y,order:S}=d:m=d;const E=h!==a?`-${h}`:"";m&&u.push(m===!0?`${e}${E}`:`${e}${E}-${m}`),S!=null&&c.push(`order${E}-${S}`),y!=null&&c.push(`offset${E}-${y}`)}),[{...o,className:Me(n,...u,...c)},{as:t,bsPrefix:e,spans:u}]}const Kx=w.forwardRef((t,e)=>{const[{className:n,...o},{as:r="div",bsPrefix:a,spans:u}]=KU(t);return T.jsx(r,{...o,ref:e,className:Me(n,!u.length&&a)})});Kx.displayName="Col";const Yx=w.forwardRef(({bsPrefix:t,fluid:e=!1,as:n="div",className:o,...r},a)=>{const u=Ue(t,"container"),c=typeof e=="string"?`-${e}`:"-fluid";return T.jsx(n,{ref:a,...r,className:Me(o,e?`${u}${c}`:u)})});Yx.displayName="Container";var YU=Function.prototype.bind.call(Function.prototype.call,[].slice);function ti(t,e){return YU(t.querySelectorAll(e))}function XU(t,e,n){const o=w.useRef(t!==void 0),[r,a]=w.useState(e),u=t!==void 0,c=o.current;return o.current=u,!u&&c&&r!==e&&a(e),[u?t:r,w.useCallback((...h)=>{const[d,...m]=h;let y=n?.(d,...m);return a(d),y},[n])]}function Xx(){const[,t]=w.useReducer(e=>e+1,0);return t}const Zd=w.createContext(null);var cw=Object.prototype.hasOwnProperty;function fw(t,e,n){for(n of t.keys())if(Yl(n,e))return n}function Yl(t,e){var n,o,r;if(t===e)return!0;if(t&&e&&(n=t.constructor)===e.constructor){if(n===Date)return t.getTime()===e.getTime();if(n===RegExp)return t.toString()===e.toString();if(n===Array){if((o=t.length)===e.length)for(;o--&&Yl(t[o],e[o]););return o===-1}if(n===Set){if(t.size!==e.size)return!1;for(o of t)if(r=o,r&&typeof r=="object"&&(r=fw(e,r),!r)||!e.has(r))return!1;return!0}if(n===Map){if(t.size!==e.size)return!1;for(o of t)if(r=o[0],r&&typeof r=="object"&&(r=fw(e,r),!r)||!Yl(o[1],e.get(r)))return!1;return!0}if(n===ArrayBuffer)t=new Uint8Array(t),e=new Uint8Array(e);else if(n===DataView){if((o=t.byteLength)===e.byteLength)for(;o--&&t.getInt8(o)===e.getInt8(o););return o===-1}if(ArrayBuffer.isView(t)){if((o=t.byteLength)===e.byteLength)for(;o--&&t[o]===e[o];);return o===-1}if(!n||typeof t=="object"){o=0;for(n in t)if(cw.call(t,n)&&++o&&!cw.call(e,n)||!(n in e)||!Yl(t[n],e[n]))return!1;return Object.keys(e).length===o}}return t!==t&&e!==e}function jU(t){const e=Px();return[t[0],w.useCallback(n=>{if(e())return t[1](n)},[e,t[1]])]}var Zt="top",Gn="bottom",Vn="right",en="left",vy="auto",Nu=[Zt,Gn,Vn,en],ma="start",ou="end",WU="clippingParents",jx="viewport",Nl="popper",QU="reference",dw=Nu.reduce(function(t,e){return t.concat([e+"-"+ma,e+"-"+ou])},[]),Wx=[].concat(Nu,[vy]).reduce(function(t,e){return t.concat([e,e+"-"+ma,e+"-"+ou])},[]),ZU="beforeRead",eB="read",tB="afterRead",nB="beforeMain",oB="main",iB="afterMain",rB="beforeWrite",sB="write",aB="afterWrite",lB=[ZU,eB,tB,nB,oB,iB,rB,sB,aB];function xo(t){return t.split("-")[0]}function Sn(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function zr(t){var e=Sn(t).Element;return t instanceof e||t instanceof Element}function Ro(t){var e=Sn(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function yy(t){if(typeof ShadowRoot>"u")return!1;var e=Sn(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}var Lr=Math.max,vd=Math.min,ga=Math.round;function sv(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function Qx(){return!/^((?!chrome|android).)*safari/i.test(sv())}function va(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!1);var o=t.getBoundingClientRect(),r=1,a=1;e&&Ro(t)&&(r=t.offsetWidth>0&&ga(o.width)/t.offsetWidth||1,a=t.offsetHeight>0&&ga(o.height)/t.offsetHeight||1);var u=zr(t)?Sn(t):window,c=u.visualViewport,h=!Qx()&&n,d=(o.left+(h&&c?c.offsetLeft:0))/r,m=(o.top+(h&&c?c.offsetTop:0))/a,y=o.width/r,S=o.height/a;return{width:y,height:S,top:m,right:d+y,bottom:m+S,left:d,x:d,y:m}}function _y(t){var e=va(t),n=t.offsetWidth,o=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-o)<=1&&(o=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:o}}function Zx(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&yy(n)){var o=e;do{if(o&&t.isSameNode(o))return!0;o=o.parentNode||o.host}while(o)}return!1}function Zi(t){return t?(t.nodeName||"").toLowerCase():null}function ci(t){return Sn(t).getComputedStyle(t)}function uB(t){return["table","td","th"].indexOf(Zi(t))>=0}function ar(t){return((zr(t)?t.ownerDocument:t.document)||window.document).documentElement}function eh(t){return Zi(t)==="html"?t:t.assignedSlot||t.parentNode||(yy(t)?t.host:null)||ar(t)}function hw(t){return!Ro(t)||ci(t).position==="fixed"?null:t.offsetParent}function cB(t){var e=/firefox/i.test(sv()),n=/Trident/i.test(sv());if(n&&Ro(t)){var o=ci(t);if(o.position==="fixed")return null}var r=eh(t);for(yy(r)&&(r=r.host);Ro(r)&&["html","body"].indexOf(Zi(r))<0;){var a=ci(r);if(a.transform!=="none"||a.perspective!=="none"||a.contain==="paint"||["transform","perspective"].indexOf(a.willChange)!==-1||e&&a.willChange==="filter"||e&&a.filter&&a.filter!=="none")return r;r=r.parentNode}return null}function Iu(t){for(var e=Sn(t),n=hw(t);n&&uB(n)&&ci(n).position==="static";)n=hw(n);return n&&(Zi(n)==="html"||Zi(n)==="body"&&ci(n).position==="static")?e:n||cB(t)||e}function Sy(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function Xl(t,e,n){return Lr(t,vd(e,n))}function fB(t,e,n){var o=Xl(t,e,n);return o>n?n:o}function eR(){return{top:0,right:0,bottom:0,left:0}}function tR(t){return Object.assign({},eR(),t)}function nR(t,e){return e.reduce(function(n,o){return n[o]=t,n},{})}var dB=function(e,n){return e=typeof e=="function"?e(Object.assign({},n.rects,{placement:n.placement})):e,tR(typeof e!="number"?e:nR(e,Nu))};function hB(t){var e,n=t.state,o=t.name,r=t.options,a=n.elements.arrow,u=n.modifiersData.popperOffsets,c=xo(n.placement),h=Sy(c),d=[en,Vn].indexOf(c)>=0,m=d?"height":"width";if(!(!a||!u)){var y=dB(r.padding,n),S=_y(a),E=h==="y"?Zt:en,C=h==="y"?Gn:Vn,A=n.rects.reference[m]+n.rects.reference[h]-u[h]-n.rects.popper[m],x=u[h]-n.rects.reference[h],M=Iu(a),I=M?h==="y"?M.clientHeight||0:M.clientWidth||0:0,N=A/2-x/2,D=y[E],L=I-S[m]-y[C],U=I/2-S[m]/2+N,O=Xl(D,U,L),q=h;n.modifiersData[o]=(e={},e[q]=O,e.centerOffset=O-U,e)}}function pB(t){var e=t.state,n=t.options,o=n.element,r=o===void 0?"[data-popper-arrow]":o;r!=null&&(typeof r=="string"&&(r=e.elements.popper.querySelector(r),!r)||Zx(e.elements.popper,r)&&(e.elements.arrow=r))}const mB={name:"arrow",enabled:!0,phase:"main",fn:hB,effect:pB,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function ya(t){return t.split("-")[1]}var gB={top:"auto",right:"auto",bottom:"auto",left:"auto"};function vB(t,e){var n=t.x,o=t.y,r=e.devicePixelRatio||1;return{x:ga(n*r)/r||0,y:ga(o*r)/r||0}}function pw(t){var e,n=t.popper,o=t.popperRect,r=t.placement,a=t.variation,u=t.offsets,c=t.position,h=t.gpuAcceleration,d=t.adaptive,m=t.roundOffsets,y=t.isFixed,S=u.x,E=S===void 0?0:S,C=u.y,A=C===void 0?0:C,x=typeof m=="function"?m({x:E,y:A}):{x:E,y:A};E=x.x,A=x.y;var M=u.hasOwnProperty("x"),I=u.hasOwnProperty("y"),N=en,D=Zt,L=window;if(d){var U=Iu(n),O="clientHeight",q="clientWidth";if(U===Sn(n)&&(U=ar(n),ci(U).position!=="static"&&c==="absolute"&&(O="scrollHeight",q="scrollWidth")),U=U,r===Zt||(r===en||r===Vn)&&a===ou){D=Gn;var J=y&&U===L&&L.visualViewport?L.visualViewport.height:U[O];A-=J-o.height,A*=h?1:-1}if(r===en||(r===Zt||r===Gn)&&a===ou){N=Vn;var X=y&&U===L&&L.visualViewport?L.visualViewport.width:U[q];E-=X-o.width,E*=h?1:-1}}var W=Object.assign({position:c},d&&gB),re=m===!0?vB({x:E,y:A},Sn(n)):{x:E,y:A};if(E=re.x,A=re.y,h){var oe;return Object.assign({},W,(oe={},oe[D]=I?"0":"",oe[N]=M?"0":"",oe.transform=(L.devicePixelRatio||1)<=1?"translate("+E+"px, "+A+"px)":"translate3d("+E+"px, "+A+"px, 0)",oe))}return Object.assign({},W,(e={},e[D]=I?A+"px":"",e[N]=M?E+"px":"",e.transform="",e))}function yB(t){var e=t.state,n=t.options,o=n.gpuAcceleration,r=o===void 0?!0:o,a=n.adaptive,u=a===void 0?!0:a,c=n.roundOffsets,h=c===void 0?!0:c,d={placement:xo(e.placement),variation:ya(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:r,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,pw(Object.assign({},d,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:u,roundOffsets:h})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,pw(Object.assign({},d,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:h})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const _B={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:yB,data:{}};var yf={passive:!0};function SB(t){var e=t.state,n=t.instance,o=t.options,r=o.scroll,a=r===void 0?!0:r,u=o.resize,c=u===void 0?!0:u,h=Sn(e.elements.popper),d=[].concat(e.scrollParents.reference,e.scrollParents.popper);return a&&d.forEach(function(m){m.addEventListener("scroll",n.update,yf)}),c&&h.addEventListener("resize",n.update,yf),function(){a&&d.forEach(function(m){m.removeEventListener("scroll",n.update,yf)}),c&&h.removeEventListener("resize",n.update,yf)}}const EB={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:SB,data:{}};var bB={left:"right",right:"left",bottom:"top",top:"bottom"};function qf(t){return t.replace(/left|right|bottom|top/g,function(e){return bB[e]})}var wB={start:"end",end:"start"};function mw(t){return t.replace(/start|end/g,function(e){return wB[e]})}function Ey(t){var e=Sn(t),n=e.pageXOffset,o=e.pageYOffset;return{scrollLeft:n,scrollTop:o}}function by(t){return va(ar(t)).left+Ey(t).scrollLeft}function TB(t,e){var n=Sn(t),o=ar(t),r=n.visualViewport,a=o.clientWidth,u=o.clientHeight,c=0,h=0;if(r){a=r.width,u=r.height;var d=Qx();(d||!d&&e==="fixed")&&(c=r.offsetLeft,h=r.offsetTop)}return{width:a,height:u,x:c+by(t),y:h}}function CB(t){var e,n=ar(t),o=Ey(t),r=(e=t.ownerDocument)==null?void 0:e.body,a=Lr(n.scrollWidth,n.clientWidth,r?r.scrollWidth:0,r?r.clientWidth:0),u=Lr(n.scrollHeight,n.clientHeight,r?r.scrollHeight:0,r?r.clientHeight:0),c=-o.scrollLeft+by(t),h=-o.scrollTop;return ci(r||n).direction==="rtl"&&(c+=Lr(n.clientWidth,r?r.clientWidth:0)-a),{width:a,height:u,x:c,y:h}}function wy(t){var e=ci(t),n=e.overflow,o=e.overflowX,r=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+r+o)}function oR(t){return["html","body","#document"].indexOf(Zi(t))>=0?t.ownerDocument.body:Ro(t)&&wy(t)?t:oR(eh(t))}function jl(t,e){var n;e===void 0&&(e=[]);var o=oR(t),r=o===((n=t.ownerDocument)==null?void 0:n.body),a=Sn(o),u=r?[a].concat(a.visualViewport||[],wy(o)?o:[]):o,c=e.concat(u);return r?c:c.concat(jl(eh(u)))}function av(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function AB(t,e){var n=va(t,!1,e==="fixed");return n.top=n.top+t.clientTop,n.left=n.left+t.clientLeft,n.bottom=n.top+t.clientHeight,n.right=n.left+t.clientWidth,n.width=t.clientWidth,n.height=t.clientHeight,n.x=n.left,n.y=n.top,n}function gw(t,e,n){return e===jx?av(TB(t,n)):zr(e)?AB(e,n):av(CB(ar(t)))}function xB(t){var e=jl(eh(t)),n=["absolute","fixed"].indexOf(ci(t).position)>=0,o=n&&Ro(t)?Iu(t):t;return zr(o)?e.filter(function(r){return zr(r)&&Zx(r,o)&&Zi(r)!=="body"}):[]}function RB(t,e,n,o){var r=e==="clippingParents"?xB(t):[].concat(e),a=[].concat(r,[n]),u=a[0],c=a.reduce(function(h,d){var m=gw(t,d,o);return h.top=Lr(m.top,h.top),h.right=vd(m.right,h.right),h.bottom=vd(m.bottom,h.bottom),h.left=Lr(m.left,h.left),h},gw(t,u,o));return c.width=c.right-c.left,c.height=c.bottom-c.top,c.x=c.left,c.y=c.top,c}function iR(t){var e=t.reference,n=t.element,o=t.placement,r=o?xo(o):null,a=o?ya(o):null,u=e.x+e.width/2-n.width/2,c=e.y+e.height/2-n.height/2,h;switch(r){case Zt:h={x:u,y:e.y-n.height};break;case Gn:h={x:u,y:e.y+e.height};break;case Vn:h={x:e.x+e.width,y:c};break;case en:h={x:e.x-n.width,y:c};break;default:h={x:e.x,y:e.y}}var d=r?Sy(r):null;if(d!=null){var m=d==="y"?"height":"width";switch(a){case ma:h[d]=h[d]-(e[m]/2-n[m]/2);break;case ou:h[d]=h[d]+(e[m]/2-n[m]/2);break}}return h}function iu(t,e){e===void 0&&(e={});var n=e,o=n.placement,r=o===void 0?t.placement:o,a=n.strategy,u=a===void 0?t.strategy:a,c=n.boundary,h=c===void 0?WU:c,d=n.rootBoundary,m=d===void 0?jx:d,y=n.elementContext,S=y===void 0?Nl:y,E=n.altBoundary,C=E===void 0?!1:E,A=n.padding,x=A===void 0?0:A,M=tR(typeof x!="number"?x:nR(x,Nu)),I=S===Nl?QU:Nl,N=t.rects.popper,D=t.elements[C?I:S],L=RB(zr(D)?D:D.contextElement||ar(t.elements.popper),h,m,u),U=va(t.elements.reference),O=iR({reference:U,element:N,placement:r}),q=av(Object.assign({},N,O)),J=S===Nl?q:U,X={top:L.top-J.top+M.top,bottom:J.bottom-L.bottom+M.bottom,left:L.left-J.left+M.left,right:J.right-L.right+M.right},W=t.modifiersData.offset;if(S===Nl&&W){var re=W[r];Object.keys(X).forEach(function(oe){var ae=[Vn,Gn].indexOf(oe)>=0?1:-1,de=[Zt,Gn].indexOf(oe)>=0?"y":"x";X[oe]+=re[de]*ae})}return X}function MB(t,e){e===void 0&&(e={});var n=e,o=n.placement,r=n.boundary,a=n.rootBoundary,u=n.padding,c=n.flipVariations,h=n.allowedAutoPlacements,d=h===void 0?Wx:h,m=ya(o),y=m?c?dw:dw.filter(function(C){return ya(C)===m}):Nu,S=y.filter(function(C){return d.indexOf(C)>=0});S.length===0&&(S=y);var E=S.reduce(function(C,A){return C[A]=iu(t,{placement:A,boundary:r,rootBoundary:a,padding:u})[xo(A)],C},{});return Object.keys(E).sort(function(C,A){return E[C]-E[A]})}function NB(t){if(xo(t)===vy)return[];var e=qf(t);return[mw(t),e,mw(e)]}function IB(t){var e=t.state,n=t.options,o=t.name;if(!e.modifiersData[o]._skip){for(var r=n.mainAxis,a=r===void 0?!0:r,u=n.altAxis,c=u===void 0?!0:u,h=n.fallbackPlacements,d=n.padding,m=n.boundary,y=n.rootBoundary,S=n.altBoundary,E=n.flipVariations,C=E===void 0?!0:E,A=n.allowedAutoPlacements,x=e.options.placement,M=xo(x),I=M===x,N=h||(I||!C?[qf(x)]:NB(x)),D=[x].concat(N).reduce(function(le,me){return le.concat(xo(me)===vy?MB(e,{placement:me,boundary:m,rootBoundary:y,padding:d,flipVariations:C,allowedAutoPlacements:A}):me)},[]),L=e.rects.reference,U=e.rects.popper,O=new Map,q=!0,J=D[0],X=0;X<D.length;X++){var W=D[X],re=xo(W),oe=ya(W)===ma,ae=[Zt,Gn].indexOf(re)>=0,de=ae?"width":"height",H=iu(e,{placement:W,boundary:m,rootBoundary:y,altBoundary:S,padding:d}),Q=ae?oe?Vn:en:oe?Gn:Zt;L[de]>U[de]&&(Q=qf(Q));var ee=qf(Q),ne=[];if(a&&ne.push(H[re]<=0),c&&ne.push(H[Q]<=0,H[ee]<=0),ne.every(function(le){return le})){J=W,q=!1;break}O.set(W,ne)}if(q)for(var ce=C?3:1,k=function(me){var Ee=D.find(function(ve){var ze=O.get(ve);if(ze)return ze.slice(0,me).every(function(qe){return qe})});if(Ee)return J=Ee,"break"},Y=ce;Y>0;Y--){var se=k(Y);if(se==="break")break}e.placement!==J&&(e.modifiersData[o]._skip=!0,e.placement=J,e.reset=!0)}}const DB={name:"flip",enabled:!0,phase:"main",fn:IB,requiresIfExists:["offset"],data:{_skip:!1}};function vw(t,e,n){return n===void 0&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function yw(t){return[Zt,Vn,Gn,en].some(function(e){return t[e]>=0})}function OB(t){var e=t.state,n=t.name,o=e.rects.reference,r=e.rects.popper,a=e.modifiersData.preventOverflow,u=iu(e,{elementContext:"reference"}),c=iu(e,{altBoundary:!0}),h=vw(u,o),d=vw(c,r,a),m=yw(h),y=yw(d);e.modifiersData[n]={referenceClippingOffsets:h,popperEscapeOffsets:d,isReferenceHidden:m,hasPopperEscaped:y},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":m,"data-popper-escaped":y})}const PB={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:OB};function kB(t,e,n){var o=xo(t),r=[en,Zt].indexOf(o)>=0?-1:1,a=typeof n=="function"?n(Object.assign({},e,{placement:t})):n,u=a[0],c=a[1];return u=u||0,c=(c||0)*r,[en,Vn].indexOf(o)>=0?{x:c,y:u}:{x:u,y:c}}function LB(t){var e=t.state,n=t.options,o=t.name,r=n.offset,a=r===void 0?[0,0]:r,u=Wx.reduce(function(m,y){return m[y]=kB(y,e.rects,a),m},{}),c=u[e.placement],h=c.x,d=c.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=h,e.modifiersData.popperOffsets.y+=d),e.modifiersData[o]=u}const UB={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:LB};function BB(t){var e=t.state,n=t.name;e.modifiersData[n]=iR({reference:e.rects.reference,element:e.rects.popper,placement:e.placement})}const HB={name:"popperOffsets",enabled:!0,phase:"read",fn:BB,data:{}};function FB(t){return t==="x"?"y":"x"}function $B(t){var e=t.state,n=t.options,o=t.name,r=n.mainAxis,a=r===void 0?!0:r,u=n.altAxis,c=u===void 0?!1:u,h=n.boundary,d=n.rootBoundary,m=n.altBoundary,y=n.padding,S=n.tether,E=S===void 0?!0:S,C=n.tetherOffset,A=C===void 0?0:C,x=iu(e,{boundary:h,rootBoundary:d,padding:y,altBoundary:m}),M=xo(e.placement),I=ya(e.placement),N=!I,D=Sy(M),L=FB(D),U=e.modifiersData.popperOffsets,O=e.rects.reference,q=e.rects.popper,J=typeof A=="function"?A(Object.assign({},e.rects,{placement:e.placement})):A,X=typeof J=="number"?{mainAxis:J,altAxis:J}:Object.assign({mainAxis:0,altAxis:0},J),W=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,re={x:0,y:0};if(U){if(a){var oe,ae=D==="y"?Zt:en,de=D==="y"?Gn:Vn,H=D==="y"?"height":"width",Q=U[D],ee=Q+x[ae],ne=Q-x[de],ce=E?-q[H]/2:0,k=I===ma?O[H]:q[H],Y=I===ma?-q[H]:-O[H],se=e.elements.arrow,le=E&&se?_y(se):{width:0,height:0},me=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:eR(),Ee=me[ae],ve=me[de],ze=Xl(0,O[H],le[H]),qe=N?O[H]/2-ce-ze-Ee-X.mainAxis:k-ze-Ee-X.mainAxis,nn=N?-O[H]/2+ce+ze+ve+X.mainAxis:Y+ze+ve+X.mainAxis,bn=e.elements.arrow&&Iu(e.elements.arrow),fo=bn?D==="y"?bn.clientTop||0:bn.clientLeft||0:0,Vt=(oe=W?.[D])!=null?oe:0,zt=Q+qe-Vt-fo,Qe=Q+nn-Vt,Po=Xl(E?vd(ee,zt):ee,Q,E?Lr(ne,Qe):ne);U[D]=Po,re[D]=Po-Q}if(c){var yi,qu=D==="x"?Zt:en,Da=D==="x"?Gn:Vn,Jn=U[L],_i=L==="y"?"height":"width",Ju=Jn+x[qu],Ku=Jn-x[Da],Ct=[Zt,en].indexOf(M)!==-1,Yu=(yi=W?.[L])!=null?yi:0,Oa=Ct?Ju:Jn-O[_i]-q[_i]-Yu+X.altAxis,Pa=Ct?Jn+O[_i]+q[_i]-Yu-X.altAxis:Ku,cr=E&&Ct?fB(Oa,Jn,Pa):Xl(E?Oa:Ju,Jn,E?Pa:Ku);U[L]=cr,re[L]=cr-Jn}e.modifiersData[o]=re}}const GB={name:"preventOverflow",enabled:!0,phase:"main",fn:$B,requiresIfExists:["offset"]};function VB(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function zB(t){return t===Sn(t)||!Ro(t)?Ey(t):VB(t)}function qB(t){var e=t.getBoundingClientRect(),n=ga(e.width)/t.offsetWidth||1,o=ga(e.height)/t.offsetHeight||1;return n!==1||o!==1}function JB(t,e,n){n===void 0&&(n=!1);var o=Ro(e),r=Ro(e)&&qB(e),a=ar(e),u=va(t,r,n),c={scrollLeft:0,scrollTop:0},h={x:0,y:0};return(o||!o&&!n)&&((Zi(e)!=="body"||wy(a))&&(c=zB(e)),Ro(e)?(h=va(e,!0),h.x+=e.clientLeft,h.y+=e.clientTop):a&&(h.x=by(a))),{x:u.left+c.scrollLeft-h.x,y:u.top+c.scrollTop-h.y,width:u.width,height:u.height}}function KB(t){var e=new Map,n=new Set,o=[];t.forEach(function(a){e.set(a.name,a)});function r(a){n.add(a.name);var u=[].concat(a.requires||[],a.requiresIfExists||[]);u.forEach(function(c){if(!n.has(c)){var h=e.get(c);h&&r(h)}}),o.push(a)}return t.forEach(function(a){n.has(a.name)||r(a)}),o}function YB(t){var e=KB(t);return lB.reduce(function(n,o){return n.concat(e.filter(function(r){return r.phase===o}))},[])}function XB(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}function jB(t){var e=t.reduce(function(n,o){var r=n[o.name];return n[o.name]=r?Object.assign({},r,o,{options:Object.assign({},r.options,o.options),data:Object.assign({},r.data,o.data)}):o,n},{});return Object.keys(e).map(function(n){return e[n]})}var _w={placement:"bottom",modifiers:[],strategy:"absolute"};function Sw(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(o){return!(o&&typeof o.getBoundingClientRect=="function")})}function WB(t){t===void 0&&(t={});var e=t,n=e.defaultModifiers,o=n===void 0?[]:n,r=e.defaultOptions,a=r===void 0?_w:r;return function(c,h,d){d===void 0&&(d=a);var m={placement:"bottom",orderedModifiers:[],options:Object.assign({},_w,a),modifiersData:{},elements:{reference:c,popper:h},attributes:{},styles:{}},y=[],S=!1,E={state:m,setOptions:function(M){var I=typeof M=="function"?M(m.options):M;A(),m.options=Object.assign({},a,m.options,I),m.scrollParents={reference:zr(c)?jl(c):c.contextElement?jl(c.contextElement):[],popper:jl(h)};var N=YB(jB([].concat(o,m.options.modifiers)));return m.orderedModifiers=N.filter(function(D){return D.enabled}),C(),E.update()},forceUpdate:function(){if(!S){var M=m.elements,I=M.reference,N=M.popper;if(Sw(I,N)){m.rects={reference:JB(I,Iu(N),m.options.strategy==="fixed"),popper:_y(N)},m.reset=!1,m.placement=m.options.placement,m.orderedModifiers.forEach(function(X){return m.modifiersData[X.name]=Object.assign({},X.data)});for(var D=0;D<m.orderedModifiers.length;D++){if(m.reset===!0){m.reset=!1,D=-1;continue}var L=m.orderedModifiers[D],U=L.fn,O=L.options,q=O===void 0?{}:O,J=L.name;typeof U=="function"&&(m=U({state:m,options:q,name:J,instance:E})||m)}}}},update:XB(function(){return new Promise(function(x){E.forceUpdate(),x(m)})}),destroy:function(){A(),S=!0}};if(!Sw(c,h))return E;E.setOptions(d).then(function(x){!S&&d.onFirstUpdate&&d.onFirstUpdate(x)});function C(){m.orderedModifiers.forEach(function(x){var M=x.name,I=x.options,N=I===void 0?{}:I,D=x.effect;if(typeof D=="function"){var L=D({state:m,name:M,instance:E,options:N}),U=function(){};y.push(L||U)}})}function A(){y.forEach(function(x){return x()}),y=[]}return E}}const QB=WB({defaultModifiers:[PB,HB,_B,EB,UB,DB,GB,mB]}),ZB=["enabled","placement","strategy","modifiers"];function e2(t,e){if(t==null)return{};var n={};for(var o in t)if({}.hasOwnProperty.call(t,o)){if(e.indexOf(o)>=0)continue;n[o]=t[o]}return n}const t2={name:"applyStyles",enabled:!1,phase:"afterWrite",fn:()=>{}},n2={name:"ariaDescribedBy",enabled:!0,phase:"afterWrite",effect:({state:t})=>()=>{const{reference:e,popper:n}=t.elements;if("removeAttribute"in e){const o=(e.getAttribute("aria-describedby")||"").split(",").filter(r=>r.trim()!==n.id);o.length?e.setAttribute("aria-describedby",o.join(",")):e.removeAttribute("aria-describedby")}},fn:({state:t})=>{var e;const{popper:n,reference:o}=t.elements,r=(e=n.getAttribute("role"))==null?void 0:e.toLowerCase();if(n.id&&r==="tooltip"&&"setAttribute"in o){const a=o.getAttribute("aria-describedby");if(a&&a.split(",").indexOf(n.id)!==-1)return;o.setAttribute("aria-describedby",a?`${a},${n.id}`:n.id)}}},o2=[];function i2(t,e,n={}){let{enabled:o=!0,placement:r="bottom",strategy:a="absolute",modifiers:u=o2}=n,c=e2(n,ZB);const h=w.useRef(u),d=w.useRef(),m=w.useCallback(()=>{var x;(x=d.current)==null||x.update()},[]),y=w.useCallback(()=>{var x;(x=d.current)==null||x.forceUpdate()},[]),[S,E]=jU(w.useState({placement:r,update:m,forceUpdate:y,attributes:{},styles:{popper:{},arrow:{}}})),C=w.useMemo(()=>({name:"updateStateModifier",enabled:!0,phase:"write",requires:["computeStyles"],fn:({state:x})=>{const M={},I={};Object.keys(x.elements).forEach(N=>{M[N]=x.styles[N],I[N]=x.attributes[N]}),E({state:x,styles:M,attributes:I,update:m,forceUpdate:y,placement:x.placement})}}),[m,y,E]),A=w.useMemo(()=>(Yl(h.current,u)||(h.current=u),h.current),[u]);return w.useEffect(()=>{!d.current||!o||d.current.setOptions({placement:r,strategy:a,modifiers:[...A,C,t2]})},[a,r,C,o,A]),w.useEffect(()=>{if(!(!o||t==null||e==null))return d.current=QB(t,e,Object.assign({},c,{placement:r,strategy:a,modifiers:[...A,n2,C]})),()=>{d.current!=null&&(d.current.destroy(),d.current=void 0,E(x=>Object.assign({},x,{attributes:{},styles:{popper:{}}})))}},[o,t,e]),S}function yd(t,e){if(t.contains)return t.contains(e);if(t.compareDocumentPosition)return t===e||!!(t.compareDocumentPosition(e)&16)}var ug,Ew;function r2(){if(Ew)return ug;Ew=1;var t=function(){};return ug=t,ug}var s2=r2();const a2=vu(s2),bw=()=>{};function l2(t){return t.button===0}function u2(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}const cg=t=>t&&("current"in t?t.current:t),ww={click:"mousedown",mouseup:"mousedown",pointerup:"pointerdown"};function c2(t,e=bw,{disabled:n,clickTrigger:o="click"}={}){const r=w.useRef(!1),a=w.useRef(!1),u=w.useCallback(d=>{const m=cg(t);a2(!!m,"ClickOutside captured a close event but does not have a ref to compare it to. useClickOutside(), should be passed a ref that resolves to a DOM node"),r.current=!m||u2(d)||!l2(d)||!!yd(m,d.target)||a.current,a.current=!1},[t]),c=kt(d=>{const m=cg(t);m&&yd(m,d.target)?a.current=!0:a.current=!1}),h=kt(d=>{r.current||e(d)});w.useEffect(()=>{var d,m;if(n||t==null)return;const y=jd(cg(t)),S=y.defaultView||window;let E=(d=S.event)!=null?d:(m=S.parent)==null?void 0:m.event,C=null;ww[o]&&(C=ji(y,ww[o],c,!0));const A=ji(y,o,u,!0),x=ji(y,o,I=>{if(I===E){E=void 0;return}h(I)});let M=[];return"ontouchstart"in y.documentElement&&(M=[].slice.call(y.body.children).map(I=>ji(I,"mousemove",bw))),()=>{C?.(),A(),x(),M.forEach(I=>I())}},[t,n,o,u,c,h])}function f2(t){const e={};return Array.isArray(t)?(t?.forEach(n=>{e[n.name]=n}),e):t||e}function d2(t={}){return Array.isArray(t)?t:Object.keys(t).map(e=>(t[e].name=e,t[e]))}function h2({enabled:t,enableEvents:e,placement:n,flip:o,offset:r,fixed:a,containerPadding:u,arrowElement:c,popperConfig:h={}}){var d,m,y,S,E;const C=f2(h.modifiers);return Object.assign({},h,{placement:n,enabled:t,strategy:a?"fixed":h.strategy,modifiers:d2(Object.assign({},C,{eventListeners:{enabled:e,options:(d=C.eventListeners)==null?void 0:d.options},preventOverflow:Object.assign({},C.preventOverflow,{options:u?Object.assign({padding:u},(m=C.preventOverflow)==null?void 0:m.options):(y=C.preventOverflow)==null?void 0:y.options}),offset:{options:Object.assign({offset:r},(S=C.offset)==null?void 0:S.options)},arrow:Object.assign({},C.arrow,{enabled:!!c,options:Object.assign({},(E=C.arrow)==null?void 0:E.options,{element:c})}),flip:Object.assign({enabled:!!o},C.flip)}))})}const p2=["children","usePopper"];function m2(t,e){if(t==null)return{};var n={};for(var o in t)if({}.hasOwnProperty.call(t,o)){if(e.indexOf(o)>=0)continue;n[o]=t[o]}return n}const g2=()=>{};function rR(t={}){const e=w.useContext(Zd),[n,o]=DU(),r=w.useRef(!1),{flip:a,offset:u,rootCloseEvent:c,fixed:h=!1,placement:d,popperConfig:m={},enableEventListeners:y=!0,usePopper:S=!!e}=t,E=e?.show==null?!!t.show:e.show;E&&!r.current&&(r.current=!0);const C=U=>{e?.toggle(!1,U)},{placement:A,setMenu:x,menuElement:M,toggleElement:I}=e||{},N=i2(I,M,h2({placement:d||A||"bottom-start",enabled:S,enableEvents:y??E,offset:u,flip:a,fixed:h,arrowElement:n,popperConfig:m})),D=Object.assign({ref:x||g2,"aria-labelledby":I?.id},N.attributes.popper,{style:N.styles.popper}),L={show:E,placement:A,hasShown:r.current,toggle:e?.toggle,popper:S?N:null,arrowProps:S?Object.assign({ref:o},N.attributes.arrow,{style:N.styles.arrow}):{}};return c2(M,C,{clickTrigger:c,disabled:!E}),[D,L]}function sR(t){let{children:e,usePopper:n=!0}=t,o=m2(t,p2);const[r,a]=rR(Object.assign({},o,{usePopper:n}));return T.jsx(T.Fragment,{children:e(r,a)})}sR.displayName="DropdownMenu";const aR={prefix:String(Math.round(Math.random()*1e10)),current:0},lR=et.createContext(aR),v2=et.createContext(!1);let fg=new WeakMap;function y2(t=!1){let e=w.useContext(lR),n=w.useRef(null);if(n.current===null&&!t){var o,r;let a=(r=et.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED)===null||r===void 0||(o=r.ReactCurrentOwner)===null||o===void 0?void 0:o.current;if(a){let u=fg.get(a);u==null?fg.set(a,{id:e.current,state:a.memoizedState}):a.memoizedState!==u.state&&(e.current=u.id,fg.delete(a))}n.current=++e.current}return n.current}function _2(t){let e=w.useContext(lR),n=y2(!!t),o=`react-aria${e.prefix}`;return t||`${o}-${n}`}function S2(t){let e=et.useId(),[n]=w.useState(C2()),o=n?"react-aria":`react-aria${aR.prefix}`;return t||`${o}-${e}`}const E2=typeof et.useId=="function"?S2:_2;function b2(){return!1}function w2(){return!0}function T2(t){return()=>{}}function C2(){return typeof et.useSyncExternalStore=="function"?et.useSyncExternalStore(T2,b2,w2):w.useContext(v2)}const uR=t=>{var e;return((e=t.getAttribute("role"))==null?void 0:e.toLowerCase())==="menu"},Tw=()=>{};function cR(){const t=E2(),{show:e=!1,toggle:n=Tw,setToggle:o,menuElement:r}=w.useContext(Zd)||{},a=w.useCallback(c=>{n(!e,c)},[e,n]),u={id:t,ref:o||Tw,onClick:a,"aria-expanded":!!e};return r&&uR(r)&&(u["aria-haspopup"]=!0),[u,{show:e,toggle:n}]}function fR({children:t}){const[e,n]=cR();return T.jsx(T.Fragment,{children:t(e,n)})}fR.displayName="DropdownToggle";const qr=w.createContext(null),ru=(t,e=null)=>t!=null?String(t):e||null,th=w.createContext(null);th.displayName="NavContext";const A2="data-rr-ui-",x2="rrUi";function wa(t){return`${A2}${t}`}function R2(t){return`${x2}${t}`}const M2=["eventKey","disabled","onClick","active","as"];function N2(t,e){if(t==null)return{};var n={};for(var o in t)if({}.hasOwnProperty.call(t,o)){if(e.indexOf(o)>=0)continue;n[o]=t[o]}return n}function dR({key:t,href:e,active:n,disabled:o,onClick:r}){const a=w.useContext(qr),u=w.useContext(th),{activeKey:c}=u||{},h=ru(t,e),d=n==null&&t!=null?ru(c)===h:n;return[{onClick:kt(y=>{o||(r?.(y),a&&!y.isPropagationStopped()&&a(h,y))}),"aria-disabled":o||void 0,"aria-selected":d,[wa("dropdown-item")]:""},{isActive:d}]}const hR=w.forwardRef((t,e)=>{let{eventKey:n,disabled:o,onClick:r,active:a,as:u=dy}=t,c=N2(t,M2);const[h]=dR({key:n,href:c.href,disabled:o,onClick:r,active:a});return T.jsx(u,Object.assign({},c,{ref:e},h))});hR.displayName="DropdownItem";const pR=w.createContext(Wd?window:void 0);pR.Provider;function nh(){return w.useContext(pR)}function Cw(){const t=Xx(),e=w.useRef(null),n=w.useCallback(o=>{e.current=o,t()},[t]);return[e,n]}function Du({defaultShow:t,show:e,onSelect:n,onToggle:o,itemSelector:r=`* [${wa("dropdown-item")}]`,focusFirstItemOnShow:a,placement:u="bottom-start",children:c}){const h=nh(),[d,m]=XU(e,t,o),[y,S]=Cw(),E=y.current,[C,A]=Cw(),x=C.current,M=kx(d),I=w.useRef(null),N=w.useRef(!1),D=w.useContext(qr),L=w.useCallback((W,re,oe=re?.type)=>{m(W,{originalEvent:re,source:oe})},[m]),U=kt((W,re)=>{n?.(W,re),L(!1,re,"select"),re.isPropagationStopped()||D?.(W,re)}),O=w.useMemo(()=>({toggle:L,placement:u,show:d,menuElement:E,toggleElement:x,setMenu:S,setToggle:A}),[L,u,d,E,x,S,A]);E&&M&&!d&&(N.current=E.contains(E.ownerDocument.activeElement));const q=kt(()=>{x&&x.focus&&x.focus()}),J=kt(()=>{const W=I.current;let re=a;if(re==null&&(re=y.current&&uR(y.current)?"keyboard":!1),re===!1||re==="keyboard"&&!/^key.+$/.test(W))return;const oe=ti(y.current,r)[0];oe&&oe.focus&&oe.focus()});w.useEffect(()=>{d?J():N.current&&(N.current=!1,q())},[d,N,q,J]),w.useEffect(()=>{I.current=null});const X=(W,re)=>{if(!y.current)return null;const oe=ti(y.current,r);let ae=oe.indexOf(W)+re;return ae=Math.max(0,Math.min(ae,oe.length)),oe[ae]};return PU(w.useCallback(()=>h.document,[h]),"keydown",W=>{var re,oe;const{key:ae}=W,de=W.target,H=(re=y.current)==null?void 0:re.contains(de),Q=(oe=C.current)==null?void 0:oe.contains(de);if(/input|textarea/i.test(de.tagName)&&(ae===" "||ae!=="Escape"&&H||ae==="Escape"&&de.type==="search")||!H&&!Q||ae==="Tab"&&(!y.current||!d))return;I.current=W.type;const ne={originalEvent:W,source:W.type};switch(ae){case"ArrowUp":{const ce=X(de,-1);ce&&ce.focus&&ce.focus(),W.preventDefault();return}case"ArrowDown":if(W.preventDefault(),!d)m(!0,ne);else{const ce=X(de,1);ce&&ce.focus&&ce.focus()}return;case"Tab":Ix(de.ownerDocument,"keyup",ce=>{var k;(ce.key==="Tab"&&!ce.target||!((k=y.current)!=null&&k.contains(ce.target)))&&m(!1,ne)},{once:!0});break;case"Escape":ae==="Escape"&&(W.preventDefault(),W.stopPropagation()),m(!1,ne);break}}),T.jsx(qr.Provider,{value:U,children:T.jsx(Zd.Provider,{value:O,children:c})})}Du.displayName="Dropdown";Du.Menu=sR;Du.Toggle=fR;Du.Item=hR;const Ty=w.createContext({});Ty.displayName="DropdownContext";const mR=w.forwardRef(({className:t,bsPrefix:e,as:n="hr",role:o="separator",...r},a)=>(e=Ue(e,"dropdown-divider"),T.jsx(n,{ref:a,className:Me(t,e),role:o,...r})));mR.displayName="DropdownDivider";const gR=w.forwardRef(({className:t,bsPrefix:e,as:n="div",role:o="heading",...r},a)=>(e=Ue(e,"dropdown-header"),T.jsx(n,{ref:a,className:Me(t,e),role:o,...r})));gR.displayName="DropdownHeader";const vR=w.forwardRef(({bsPrefix:t,className:e,eventKey:n,disabled:o=!1,onClick:r,active:a,as:u=hy,...c},h)=>{const d=Ue(t,"dropdown-item"),[m,y]=dR({key:n,href:c.href,disabled:o,onClick:r,active:a});return T.jsx(u,{...c,...m,ref:h,className:Me(e,d,y.isActive&&"active",o&&"disabled")})});vR.displayName="DropdownItem";const yR=w.forwardRef(({className:t,bsPrefix:e,as:n="span",...o},r)=>(e=Ue(e,"dropdown-item-text"),T.jsx(n,{ref:r,className:Me(t,e),...o})));yR.displayName="DropdownItemText";const I2=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",D2=typeof document<"u",_R=D2||I2?w.useLayoutEffect:w.useEffect,Cy=w.createContext(null);Cy.displayName="InputGroupContext";const Zr=w.createContext(null);Zr.displayName="NavbarContext";function SR(t,e){return t}function ER(t,e,n){const o=n?"top-end":"top-start",r=n?"top-start":"top-end",a=n?"bottom-end":"bottom-start",u=n?"bottom-start":"bottom-end",c=n?"right-start":"left-start",h=n?"right-end":"left-end",d=n?"left-start":"right-start",m=n?"left-end":"right-end";let y=t?u:a;return e==="up"?y=t?r:o:e==="end"?y=t?m:d:e==="start"?y=t?h:c:e==="down-centered"?y="bottom":e==="up-centered"&&(y="top"),y}const bR=w.forwardRef(({bsPrefix:t,className:e,align:n,rootCloseEvent:o,flip:r=!0,show:a,renderOnMount:u,as:c="div",popperConfig:h,variant:d,...m},y)=>{let S=!1;const E=w.useContext(Zr),C=Ue(t,"dropdown-menu"),{align:A,drop:x,isRTL:M}=w.useContext(Ty);n=n||A;const I=w.useContext(Cy),N=[];if(n)if(typeof n=="object"){const W=Object.keys(n);if(W.length){const re=W[0],oe=n[re];S=oe==="start",N.push(`${C}-${re}-${oe}`)}}else n==="end"&&(S=!0);const D=ER(S,x,M),[L,{hasShown:U,popper:O,show:q,toggle:J}]=rR({flip:r,rootCloseEvent:o,show:a,usePopper:!E&&N.length===0,offset:[0,2],popperConfig:h,placement:D});if(L.ref=uy(SR(y),L.ref),_R(()=>{q&&O?.update()},[q]),!U&&!u&&!I)return null;typeof c!="string"&&(L.show=q,L.close=()=>J?.(!1),L.align=n);let X=m.style;return O!=null&&O.placement&&(X={...m.style,...L.style},m["x-placement"]=O.placement),T.jsx(c,{...m,...L,style:X,...(N.length||E)&&{"data-bs-popper":"static"},className:Me(e,C,q&&"show",S&&`${C}-end`,d&&`${C}-${d}`,...N)})});bR.displayName="DropdownMenu";const wR=w.forwardRef(({bsPrefix:t,split:e,className:n,childBsPrefix:o,as:r=Ux,...a},u)=>{const c=Ue(t,"dropdown-toggle"),h=w.useContext(Zd);o!==void 0&&(a.bsPrefix=o);const[d]=cR();return d.ref=uy(d.ref,SR(u)),T.jsx(r,{className:Me(n,c,e&&`${c}-split`,h?.show&&"show"),...d,...a})});wR.displayName="DropdownToggle";const TR=w.forwardRef((t,e)=>{const{bsPrefix:n,drop:o="down",show:r,className:a,align:u="start",onSelect:c,onToggle:h,focusFirstItemOnShow:d,as:m="div",navbar:y,autoClose:S=!0,...E}=ay(t,{show:"onToggle"}),C=w.useContext(Cy),A=Ue(n,"dropdown"),x=sU(),M=O=>S===!1?O==="click":S==="inside"?O!=="rootClose":S==="outside"?O!=="select":!0,I=Mu((O,q)=>{var J;!((J=q.originalEvent)==null||(J=J.target)==null)&&J.classList.contains("dropdown-toggle")&&q.source==="mousedown"||(q.originalEvent.currentTarget===document&&(q.source!=="keydown"||q.originalEvent.key==="Escape")&&(q.source="rootClose"),M(q.source)&&h?.(O,q))}),D=ER(u==="end",o,x),L=w.useMemo(()=>({align:u,drop:o,isRTL:x}),[u,o,x]),U={down:A,"down-centered":`${A}-center`,up:"dropup","up-centered":"dropup-center dropup",end:"dropend",start:"dropstart"};return T.jsx(Ty.Provider,{value:L,children:T.jsx(Du,{placement:D,show:r,onSelect:c,onToggle:I,focusFirstItemOnShow:d,itemSelector:`.${A}-item:not(.disabled):not(:disabled)`,children:C?E.children:T.jsx(m,{...E,ref:e,className:Me(a,r&&"show",U[o])})})})});TR.displayName="Dropdown";const _f=Object.assign(TR,{Toggle:wR,Menu:bR,Item:vR,ItemText:yR,Divider:mR,Header:gR}),Aw=t=>!t||typeof t=="function"?t:e=>{t.current=e};function O2(t,e){const n=Aw(t),o=Aw(e);return r=>{n&&n(r),o&&o(r)}}function oh(t,e){return w.useMemo(()=>O2(t,e),[t,e])}const CR=w.createContext(null),P2=["as","active","eventKey"];function k2(t,e){if(t==null)return{};var n={};for(var o in t)if({}.hasOwnProperty.call(t,o)){if(e.indexOf(o)>=0)continue;n[o]=t[o]}return n}function AR({key:t,onClick:e,active:n,id:o,role:r,disabled:a}){const u=w.useContext(qr),c=w.useContext(th),h=w.useContext(CR);let d=n;const m={role:r};if(c){!r&&c.role==="tablist"&&(m.role="tab");const y=c.getControllerId(t??null),S=c.getControlledId(t??null);m[wa("event-key")]=t,m.id=y||o,d=n==null&&t!=null?c.activeKey===t:n,(d||!(h!=null&&h.unmountOnExit)&&!(h!=null&&h.mountOnEnter))&&(m["aria-controls"]=S)}return m.role==="tab"&&(m["aria-selected"]=d,d||(m.tabIndex=-1),a&&(m.tabIndex=-1,m["aria-disabled"]=!0)),m.onClick=kt(y=>{a||(e?.(y),t!=null&&u&&!y.isPropagationStopped()&&u(t,y))}),[m,{isActive:d}]}const xR=w.forwardRef((t,e)=>{let{as:n=dy,active:o,eventKey:r}=t,a=k2(t,P2);const[u,c]=AR(Object.assign({key:ru(r,a.href),active:o},a));return u[wa("active")]=c.isActive,T.jsx(n,Object.assign({},a,u,{ref:e}))});xR.displayName="NavItem";const L2=["as","onSelect","activeKey","role","onKeyDown"];function U2(t,e){if(t==null)return{};var n={};for(var o in t)if({}.hasOwnProperty.call(t,o)){if(e.indexOf(o)>=0)continue;n[o]=t[o]}return n}const xw=()=>{},Rw=wa("event-key"),RR=w.forwardRef((t,e)=>{let{as:n="div",onSelect:o,activeKey:r,role:a,onKeyDown:u}=t,c=U2(t,L2);const h=Xx(),d=w.useRef(!1),m=w.useContext(qr),y=w.useContext(CR);let S,E;y&&(a=a||"tablist",r=y.activeKey,S=y.getControlledId,E=y.getControllerId);const C=w.useRef(null),A=N=>{const D=C.current;if(!D)return null;const L=ti(D,`[${Rw}]:not([aria-disabled=true])`),U=D.querySelector("[aria-selected=true]");if(!U||U!==document.activeElement)return null;const O=L.indexOf(U);if(O===-1)return null;let q=O+N;return q>=L.length&&(q=0),q<0&&(q=L.length-1),L[q]},x=(N,D)=>{N!=null&&(o?.(N,D),m?.(N,D))},M=N=>{if(u?.(N),!y)return;let D;switch(N.key){case"ArrowLeft":case"ArrowUp":D=A(-1);break;case"ArrowRight":case"ArrowDown":D=A(1);break;default:return}D&&(N.preventDefault(),x(D.dataset[R2("EventKey")]||null,N),d.current=!0,h())};w.useEffect(()=>{if(C.current&&d.current){const N=C.current.querySelector(`[${Rw}][aria-selected=true]`);N?.focus()}d.current=!1});const I=oh(e,C);return T.jsx(qr.Provider,{value:x,children:T.jsx(th.Provider,{value:{role:a,activeKey:ru(r),getControlledId:S||xw,getControllerId:E||xw},children:T.jsx(n,Object.assign({},c,{onKeyDown:M,ref:I,role:a}))})})});RR.displayName="Nav";const B2=Object.assign(RR,{Item:xR});function dg(t){t===void 0&&(t=jd());try{var e=t.activeElement;return!e||!e.nodeName?null:e}catch{return t.body}}function H2(t){const e=w.useRef(t);return e.current=t,e}function F2(t){const e=H2(t);w.useEffect(()=>()=>e.current(),[])}function $2(t=document){const e=t.defaultView;return Math.abs(e.innerWidth-t.documentElement.clientWidth)}const Mw=wa("modal-open");class Ay{constructor({ownerDocument:e,handleContainerOverflow:n=!0,isRTL:o=!1}={}){this.handleContainerOverflow=n,this.isRTL=o,this.modals=[],this.ownerDocument=e}getScrollbarWidth(){return $2(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes(e){}removeModalAttributes(e){}setContainerStyle(e){const n={overflow:"hidden"},o=this.isRTL?"paddingLeft":"paddingRight",r=this.getElement();e.style={overflow:r.style.overflow,[o]:r.style[o]},e.scrollBarWidth&&(n[o]=`${parseInt(ai(r,o)||"0",10)+e.scrollBarWidth}px`),r.setAttribute(Mw,""),ai(r,n)}reset(){[...this.modals].forEach(e=>this.remove(e))}removeContainerStyle(e){const n=this.getElement();n.removeAttribute(Mw),Object.assign(n.style,e.style)}add(e){let n=this.modals.indexOf(e);return n!==-1||(n=this.modals.length,this.modals.push(e),this.setModalAttributes(e),n!==0)||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),n}remove(e){const n=this.modals.indexOf(e);n!==-1&&(this.modals.splice(n,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(e))}isTopModal(e){return!!this.modals.length&&this.modals[this.modals.length-1]===e}}const hg=(t,e)=>Wd?t==null?(e||jd()).body:(typeof t=="function"&&(t=t()),t&&"current"in t&&(t=t.current),t&&("nodeType"in t||t.getBoundingClientRect)?t:null):null;function G2(t,e){const n=nh(),[o,r]=w.useState(()=>hg(t,n?.document));if(!o){const a=hg(t);a&&r(a)}return w.useEffect(()=>{},[e,o]),w.useEffect(()=>{const a=hg(t);a!==o&&r(a)},[t,o]),o}function V2({children:t,in:e,onExited:n,mountOnEnter:o,unmountOnExit:r}){const a=w.useRef(null),u=w.useRef(e),c=kt(n);w.useEffect(()=>{e?u.current=!0:c(a.current)},[e,c]);const h=oh(a,ba(t)),d=w.cloneElement(t,{ref:h});return e?d:r||!u.current&&o?null:d}const z2=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children"];function q2(t,e){if(t==null)return{};var n={};for(var o in t)if({}.hasOwnProperty.call(t,o)){if(e.indexOf(o)>=0)continue;n[o]=t[o]}return n}function J2(t){let{onEnter:e,onEntering:n,onEntered:o,onExit:r,onExiting:a,onExited:u,addEndListener:c,children:h}=t,d=q2(t,z2);const m=w.useRef(null),y=oh(m,ba(h)),S=D=>L=>{D&&m.current&&D(m.current,L)},E=w.useCallback(S(e),[e]),C=w.useCallback(S(n),[n]),A=w.useCallback(S(o),[o]),x=w.useCallback(S(r),[r]),M=w.useCallback(S(a),[a]),I=w.useCallback(S(u),[u]),N=w.useCallback(S(c),[c]);return Object.assign({},d,{nodeRef:m},e&&{onEnter:E},n&&{onEntering:C},o&&{onEntered:A},r&&{onExit:x},a&&{onExiting:M},u&&{onExited:I},c&&{addEndListener:N},{children:typeof h=="function"?(D,L)=>h(D,Object.assign({},L,{ref:y})):w.cloneElement(h,{ref:y})})}const K2=["component"];function Y2(t,e){if(t==null)return{};var n={};for(var o in t)if({}.hasOwnProperty.call(t,o)){if(e.indexOf(o)>=0)continue;n[o]=t[o]}return n}const X2=w.forwardRef((t,e)=>{let{component:n}=t,o=Y2(t,K2);const r=J2(o);return T.jsx(n,Object.assign({ref:e},r))});function j2({in:t,onTransition:e}){const n=w.useRef(null),o=w.useRef(!0),r=kt(e);return uw(()=>{if(!n.current)return;let a=!1;return r({in:t,element:n.current,initial:o.current,isStale:()=>a}),()=>{a=!0}},[t,r]),uw(()=>(o.current=!1,()=>{o.current=!0}),[]),n}function W2({children:t,in:e,onExited:n,onEntered:o,transition:r}){const[a,u]=w.useState(!e);e&&a&&u(!1);const c=j2({in:!!e,onTransition:d=>{const m=()=>{d.isStale()||(d.in?o?.(d.element,d.initial):(u(!0),n?.(d.element)))};Promise.resolve(r(d)).then(m,y=>{throw d.in||u(!0),y})}}),h=oh(c,ba(t));return a&&!e?null:w.cloneElement(t,{ref:h})}function Nw(t,e,n){return t?T.jsx(X2,Object.assign({},n,{component:t})):e?T.jsx(W2,Object.assign({},n,{transition:e})):T.jsx(V2,Object.assign({},n))}const Q2=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];function Z2(t,e){if(t==null)return{};var n={};for(var o in t)if({}.hasOwnProperty.call(t,o)){if(e.indexOf(o)>=0)continue;n[o]=t[o]}return n}let pg;function eH(t){return pg||(pg=new Ay({ownerDocument:t?.document})),pg}function tH(t){const e=nh(),n=t||eH(e),o=w.useRef({dialog:null,backdrop:null});return Object.assign(o.current,{add:()=>n.add(o.current),remove:()=>n.remove(o.current),isTopModal:()=>n.isTopModal(o.current),setDialogRef:w.useCallback(r=>{o.current.dialog=r},[]),setBackdropRef:w.useCallback(r=>{o.current.backdrop=r},[])})}const MR=w.forwardRef((t,e)=>{let{show:n=!1,role:o="dialog",className:r,style:a,children:u,backdrop:c=!0,keyboard:h=!0,onBackdropClick:d,onEscapeKeyDown:m,transition:y,runTransition:S,backdropTransition:E,runBackdropTransition:C,autoFocus:A=!0,enforceFocus:x=!0,restoreFocus:M=!0,restoreFocusOptions:I,renderDialog:N,renderBackdrop:D=Qe=>T.jsx("div",Object.assign({},Qe)),manager:L,container:U,onShow:O,onHide:q=()=>{},onExit:J,onExited:X,onExiting:W,onEnter:re,onEntering:oe,onEntered:ae}=t,de=Z2(t,Q2);const H=nh(),Q=G2(U),ee=tH(L),ne=Px(),ce=kx(n),[k,Y]=w.useState(!n),se=w.useRef(null);w.useImperativeHandle(e,()=>ee,[ee]),Wd&&!ce&&n&&(se.current=dg(H?.document)),n&&k&&Y(!1);const le=kt(()=>{if(ee.add(),nn.current=ji(document,"keydown",ze),qe.current=ji(document,"focus",()=>setTimeout(Ee),!0),O&&O(),A){var Qe,Po;const yi=dg((Qe=(Po=ee.dialog)==null?void 0:Po.ownerDocument)!=null?Qe:H?.document);ee.dialog&&yi&&!yd(ee.dialog,yi)&&(se.current=yi,ee.dialog.focus())}}),me=kt(()=>{if(ee.remove(),nn.current==null||nn.current(),qe.current==null||qe.current(),M){var Qe;(Qe=se.current)==null||Qe.focus==null||Qe.focus(I),se.current=null}});w.useEffect(()=>{!n||!Q||le()},[n,Q,le]),w.useEffect(()=>{k&&me()},[k,me]),F2(()=>{me()});const Ee=kt(()=>{if(!x||!ne()||!ee.isTopModal())return;const Qe=dg(H?.document);ee.dialog&&Qe&&!yd(ee.dialog,Qe)&&ee.dialog.focus()}),ve=kt(Qe=>{Qe.target===Qe.currentTarget&&(d?.(Qe),c===!0&&q())}),ze=kt(Qe=>{h&&_U(Qe)&&ee.isTopModal()&&(m?.(Qe),Qe.defaultPrevented||q())}),qe=w.useRef(),nn=w.useRef(),bn=(...Qe)=>{Y(!0),X?.(...Qe)};if(!Q)return null;const fo=Object.assign({role:o,ref:ee.setDialogRef,"aria-modal":o==="dialog"?!0:void 0},de,{style:a,className:r,tabIndex:-1});let Vt=N?N(fo):T.jsx("div",Object.assign({},fo,{children:w.cloneElement(u,{role:"document"})}));Vt=Nw(y,S,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!n,onExit:J,onExiting:W,onExited:bn,onEnter:re,onEntering:oe,onEntered:ae,children:Vt});let zt=null;return c&&(zt=D({ref:ee.setBackdropRef,onClick:ve}),zt=Nw(E,C,{in:!!n,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:zt})),T.jsx(T.Fragment,{children:Or.createPortal(T.jsxs(T.Fragment,{children:[zt,Vt]}),Q)})});MR.displayName="Modal";const nH=Object.assign(MR,{Manager:Ay});function oH(t,e){return t.classList?t.classList.contains(e):(" "+(t.className.baseVal||t.className)+" ").indexOf(" "+e+" ")!==-1}function iH(t,e){t.classList?t.classList.add(e):oH(t,e)||(typeof t.className=="string"?t.className=t.className+" "+e:t.setAttribute("class",(t.className&&t.className.baseVal||"")+" "+e))}function Iw(t,e){return t.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function rH(t,e){t.classList?t.classList.remove(e):typeof t.className=="string"?t.className=Iw(t.className,e):t.setAttribute("class",Iw(t.className&&t.className.baseVal||"",e))}const Gs={FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top",NAVBAR_TOGGLER:".navbar-toggler"};class NR extends Ay{adjustAndStore(e,n,o){const r=n.style[e];n.dataset[e]=r,ai(n,{[e]:`${parseFloat(ai(n,e))+o}px`})}restore(e,n){const o=n.dataset[e];o!==void 0&&(delete n.dataset[e],ai(n,{[e]:o}))}setContainerStyle(e){super.setContainerStyle(e);const n=this.getElement();if(iH(n,"modal-open"),!e.scrollBarWidth)return;const o=this.isRTL?"paddingLeft":"paddingRight",r=this.isRTL?"marginLeft":"marginRight";ti(n,Gs.FIXED_CONTENT).forEach(a=>this.adjustAndStore(o,a,e.scrollBarWidth)),ti(n,Gs.STICKY_CONTENT).forEach(a=>this.adjustAndStore(r,a,-e.scrollBarWidth)),ti(n,Gs.NAVBAR_TOGGLER).forEach(a=>this.adjustAndStore(r,a,e.scrollBarWidth))}removeContainerStyle(e){super.removeContainerStyle(e);const n=this.getElement();rH(n,"modal-open");const o=this.isRTL?"paddingLeft":"paddingRight",r=this.isRTL?"marginLeft":"marginRight";ti(n,Gs.FIXED_CONTENT).forEach(a=>this.restore(o,a)),ti(n,Gs.STICKY_CONTENT).forEach(a=>this.restore(r,a)),ti(n,Gs.NAVBAR_TOGGLER).forEach(a=>this.restore(r,a))}}let mg;function sH(t){return mg||(mg=new NR(t)),mg}const IR=w.createContext({onHide(){}}),DR=w.forwardRef(({closeLabel:t="Close",closeVariant:e,closeButton:n=!1,onHide:o,children:r,...a},u)=>{const c=w.useContext(IR),h=Mu(()=>{c?.onHide(),o?.()});return T.jsxs("div",{ref:u,...a,children:[r,n&&T.jsx(py,{"aria-label":t,variant:e,onClick:h})]})});DR.displayName="AbstractModalHeader";const OR=w.forwardRef(({className:t,bsPrefix:e,as:n="div",...o},r)=>(e=Ue(e,"nav-item"),T.jsx(n,{ref:r,className:Me(t,e),...o})));OR.displayName="NavItem";const PR=w.forwardRef(({bsPrefix:t,className:e,as:n=hy,active:o,eventKey:r,disabled:a=!1,...u},c)=>{t=Ue(t,"nav-link");const[h,d]=AR({key:ru(r,u.href),active:o,disabled:a,...u});return T.jsx(n,{...u,...h,ref:c,disabled:a,className:Me(e,t,a&&"disabled",d.isActive&&"active")})});PR.displayName="NavLink";const kR=w.forwardRef((t,e)=>{const{as:n="div",bsPrefix:o,variant:r,fill:a=!1,justify:u=!1,navbar:c,navbarScroll:h,className:d,activeKey:m,...y}=ay(t,{activeKey:"onSelect"}),S=Ue(o,"nav");let E,C,A=!1;const x=w.useContext(Zr),M=w.useContext(gy);return x?(E=x.bsPrefix,A=c??!0):M&&({cardHeaderBsPrefix:C}=M),T.jsx(B2,{as:n,ref:e,activeKey:m,className:Me(d,{[S]:!A,[`${E}-nav`]:A,[`${E}-nav-scroll`]:A&&h,[`${C}-${r}`]:!!C,[`${S}-${r}`]:!!r,[`${S}-fill`]:a,[`${S}-justified`]:u}),...y})});kR.displayName="Nav";const aH=Object.assign(kR,{Item:OR,Link:PR}),LR=w.forwardRef(({bsPrefix:t,className:e,as:n,...o},r)=>{t=Ue(t,"navbar-brand");const a=n||(o.href?"a":"span");return T.jsx(a,{...o,ref:r,className:Me(e,t)})});LR.displayName="NavbarBrand";const UR=w.forwardRef(({children:t,bsPrefix:e,...n},o)=>{e=Ue(e,"navbar-collapse");const r=w.useContext(Zr);return T.jsx(Ox,{in:!!(r&&r.expanded),...n,children:T.jsx("div",{ref:o,className:e,children:t})})});UR.displayName="NavbarCollapse";const BR=w.forwardRef(({bsPrefix:t,className:e,children:n,label:o="Toggle navigation",as:r="button",onClick:a,...u},c)=>{t=Ue(t,"navbar-toggler");const{onToggle:h,expanded:d}=w.useContext(Zr)||{},m=Mu(y=>{a&&a(y),h&&h()});return r==="button"&&(u.type="button"),T.jsx(r,{...u,ref:c,onClick:m,"aria-label":o,className:Me(e,t,!d&&"collapsed"),children:n||T.jsx("span",{className:`${t}-icon`})})});BR.displayName="NavbarToggle";const lv=new WeakMap,Dw=(t,e)=>{if(!t||!e)return;const n=lv.get(e)||new Map;lv.set(e,n);let o=n.get(t);return o||(o=e.matchMedia(t),o.refCount=0,n.set(o.media,o)),o};function lH(t,e=typeof window>"u"?void 0:window){const n=Dw(t,e),[o,r]=w.useState(()=>n?n.matches:!1);return _R(()=>{let a=Dw(t,e);if(!a)return r(!1);let u=lv.get(e);const c=()=>{r(a.matches)};return a.refCount++,a.addListener(c),c(),()=>{a.removeListener(c),a.refCount--,a.refCount<=0&&u?.delete(a.media),a=void 0}},[t]),o}function uH(t){const e=Object.keys(t);function n(c,h){return c===h?h:c?`${c} and ${h}`:h}function o(c){return e[Math.min(e.indexOf(c)+1,e.length-1)]}function r(c){const h=o(c);let d=t[h];return typeof d=="number"?d=`${d-.2}px`:d=`calc(${d} - 0.2px)`,`(max-width: ${d})`}function a(c){let h=t[c];return typeof h=="number"&&(h=`${h}px`),`(min-width: ${h})`}function u(c,h,d){let m;typeof c=="object"?(m=c,d=h,h=!0):(h=h||!0,m={[c]:h});let y=w.useMemo(()=>Object.entries(m).reduce((S,[E,C])=>((C==="up"||C===!0)&&(S=n(S,a(E))),(C==="down"||C===!0)&&(S=n(S,r(E))),S),""),[JSON.stringify(m)]);return lH(y,d)}return u}const cH=uH({xs:0,sm:576,md:768,lg:992,xl:1200,xxl:1400}),HR=w.forwardRef(({className:t,bsPrefix:e,as:n="div",...o},r)=>(e=Ue(e,"offcanvas-body"),T.jsx(n,{ref:r,className:Me(t,e),...o})));HR.displayName="OffcanvasBody";const fH={[Wn]:"show",[ii]:"show"},FR=w.forwardRef(({bsPrefix:t,className:e,children:n,in:o=!1,mountOnEnter:r=!1,unmountOnExit:a=!1,appear:u=!1,...c},h)=>(t=Ue(t,"offcanvas"),T.jsx(Qd,{ref:h,addEndListener:ly,in:o,mountOnEnter:r,unmountOnExit:a,appear:u,...c,childRef:ba(n),children:(d,m)=>w.cloneElement(n,{...m,className:Me(e,n.props.className,(d===Wn||d===nu)&&`${t}-toggling`,fH[d])})})));FR.displayName="OffcanvasToggling";const $R=w.forwardRef(({bsPrefix:t,className:e,closeLabel:n="Close",closeButton:o=!1,...r},a)=>(t=Ue(t,"offcanvas-header"),T.jsx(DR,{ref:a,...r,className:Me(e,t),closeLabel:n,closeButton:o})));$R.displayName="OffcanvasHeader";const dH=cy("h5"),GR=w.forwardRef(({className:t,bsPrefix:e,as:n=dH,...o},r)=>(e=Ue(e,"offcanvas-title"),T.jsx(n,{ref:r,className:Me(t,e),...o})));GR.displayName="OffcanvasTitle";function hH(t){return T.jsx(FR,{...t})}function pH(t){return T.jsx(Lx,{...t})}const VR=w.forwardRef(({bsPrefix:t,className:e,children:n,"aria-labelledby":o,placement:r="start",responsive:a,show:u=!1,backdrop:c=!0,keyboard:h=!0,scroll:d=!1,onEscapeKeyDown:m,onShow:y,onHide:S,container:E,autoFocus:C=!0,enforceFocus:A=!0,restoreFocus:x=!0,restoreFocusOptions:M,onEntered:I,onExit:N,onExiting:D,onEnter:L,onEntering:U,onExited:O,backdropClassName:q,manager:J,renderStaticNode:X=!1,...W},re)=>{const oe=w.useRef();t=Ue(t,"offcanvas");const[ae,de]=w.useState(!1),H=Mu(S),Q=cH(a||"xs","up");w.useEffect(()=>{de(a?u&&!Q:u)},[u,a,Q]);const ee=w.useMemo(()=>({onHide:H}),[H]);function ne(){return J||(d?(oe.current||(oe.current=new NR({handleContainerOverflow:!1})),oe.current):sH())}const ce=(le,...me)=>{le&&(le.style.visibility="visible"),L?.(le,...me)},k=(le,...me)=>{le&&(le.style.visibility=""),O?.(...me)},Y=w.useCallback(le=>T.jsx("div",{...le,className:Me(`${t}-backdrop`,q)}),[q,t]),se=le=>T.jsx("div",{...le,...W,className:Me(e,a?`${t}-${a}`:t,`${t}-${r}`),"aria-labelledby":o,children:n});return T.jsxs(T.Fragment,{children:[!ae&&(a||X)&&se({}),T.jsx(IR.Provider,{value:ee,children:T.jsx(nH,{show:ae,ref:re,backdrop:c,container:E,keyboard:h,autoFocus:C,enforceFocus:A&&!d,restoreFocus:x,restoreFocusOptions:M,onEscapeKeyDown:m,onShow:y,onHide:H,onEnter:ce,onEntering:U,onEntered:I,onExit:N,onExiting:D,onExited:k,manager:ne(),transition:hH,backdropTransition:pH,renderBackdrop:Y,renderDialog:se})})]})});VR.displayName="Offcanvas";const mH=Object.assign(VR,{Body:HR,Header:$R,Title:GR}),zR=w.forwardRef(({onHide:t,...e},n)=>{const o=w.useContext(Zr),r=Mu(()=>{o==null||o.onToggle==null||o.onToggle(),t?.()});return T.jsx(mH,{ref:n,show:!!(o!=null&&o.expanded),...e,renderStaticNode:!0,onHide:r})});zR.displayName="NavbarOffcanvas";const qR=w.forwardRef(({className:t,bsPrefix:e,as:n="span",...o},r)=>(e=Ue(e,"navbar-text"),T.jsx(n,{ref:r,className:Me(t,e),...o})));qR.displayName="NavbarText";const JR=w.forwardRef((t,e)=>{const{bsPrefix:n,expand:o=!0,variant:r="light",bg:a,fixed:u,sticky:c,className:h,as:d="nav",expanded:m,onToggle:y,onSelect:S,collapseOnSelect:E=!1,...C}=ay(t,{expanded:"onToggle"}),A=Ue(n,"navbar"),x=w.useCallback((...N)=>{S?.(...N),E&&m&&y?.(!1)},[S,E,m,y]);C.role===void 0&&d!=="nav"&&(C.role="navigation");let M=`${A}-expand`;typeof o=="string"&&(M=`${M}-${o}`);const I=w.useMemo(()=>({onToggle:()=>y?.(!m),bsPrefix:A,expanded:!!m,expand:o}),[A,m,o,y]);return T.jsx(Zr.Provider,{value:I,children:T.jsx(qr.Provider,{value:x,children:T.jsx(d,{ref:e,...C,className:Me(h,A,o&&M,r&&`${A}-${r}`,a&&`bg-${a}`,c&&`sticky-${c}`,u&&`fixed-${u}`)})})})});JR.displayName="Navbar";const Ow=Object.assign(JR,{Brand:LR,Collapse:UR,Offcanvas:zR,Text:qR,Toggle:BR}),KR=w.forwardRef(({bsPrefix:t,className:e,as:n="div",...o},r)=>{const a=Ue(t,"row"),u=Rx(),c=Mx(),h=`${a}-cols`,d=[];return u.forEach(m=>{const y=o[m];delete o[m];let S;y!=null&&typeof y=="object"?{cols:S}=y:S=y;const E=m!==c?`-${m}`:"";S!=null&&d.push(`${h}${E}-${S}`)}),T.jsx(n,{ref:r,...o,className:Me(e,a,...d)})});KR.displayName="Row";const YR=w.forwardRef(({bsPrefix:t,variant:e,animation:n="border",size:o,as:r="div",className:a,...u},c)=>{t=Ue(t,"spinner");const h=`${t}-${n}`;return T.jsx(r,{ref:c,...u,className:Me(a,h,o&&`${h}-${o}`,e&&`text-${e}`)})});YR.displayName="Spinner";const XR=({name:t,onClick:e,subItems:n})=>{const[o,r]=w.useState(!1);return T.jsxs("div",{onMouseEnter:()=>r(!0),onMouseLeave:()=>r(!1),style:{position:"relative"},children:[T.jsxs("div",{className:"dropdown-item d-flex justify-content-between",style:{cursor:"pointer"},onClick:e,children:[t," ",n?T.jsx("span",{children:""}):null]}),n&&o&&T.jsx("div",{className:"dropdown-menu show",style:{position:"absolute",top:0,left:"100%",minWidth:"180px",zIndex:1e3},children:n.map((a,u)=>T.jsx(XR,{name:a.name,onClick:a.onClick,subItems:a.subItems},u))})]})},Vs=({title:t,items:e,onClick:n})=>{const[o,r]=w.useState(!1),a=e&&e.length>0;return T.jsxs("div",{className:"nav-item dropdown",onMouseEnter:()=>r(!0),onMouseLeave:()=>r(!1),style:{position:"relative"},children:[T.jsx("span",{className:"nav-link dropdown-toggle",style:{cursor:a||n?"pointer":"default"},onClick:()=>{n&&n()},children:t}),o&&a&&T.jsx("div",{className:"dropdown-menu show",style:{minWidth:"180px"},children:e.map((u,c)=>T.jsx(XR,{...u},c))})]})};class Jr{fileHandle;data;constructor(e,n){this.fileHandle=e,this.data=bt(n),pi(this)}static async create(e,n,o={}){try{const r=await e.getFileHandle(n,{create:!0}),u=await(await r.getFile()).text(),c=u.trim()===""?{...o}:{...o,...JSON.parse(u)};return new Jr(r,c)}catch(r){console.error("Error loading JSON:",r);const a=await e.getFileHandle(n,{create:!0});return new Jr(a,{...o})}}async save(){try{let e=await this.fileHandle.queryPermission({mode:"readwrite"});if(e!=="granted"&&(e=await this.fileHandle.requestPermission({mode:"readwrite"})),e!=="granted")throw new Error("No permission to write file");const n=await this.fileHandle.createWritable();await n.write(JSON.stringify(this.data,null,2)),await n.close()}catch(e){console.error("Error saving JSON:",e)}}async updateField(e,n,o=!0){Ie(()=>{const r=e.split("/").filter(Boolean);let a=this.data;for(let u=0;u<r.length;u++){const c=r[u];u===r.length-1?a[c]=n:((a[c]===void 0||a[c]===null||typeof a[c]!="object")&&(a[c]={}),a=a[c])}}),o&&await this.save()}getField(e){const n=e.split("/").filter(Boolean);let o=this.data;for(const r of n){if(o==null||typeof o!="object")return;o=o[r]}return o}}class Kr{handle;parent;urlObject=null;base64Data=null;constructor(e,n){this.handle=e,this.parent=n}async getUrlObject(){if(!this.urlObject)try{const e=await this.handle.getFile();this.urlObject=URL.createObjectURL(e)}catch(e){console.error("Failed to create object URL for file:",e),this.urlObject=""}return this.urlObject}revokeUrl(){this.urlObject&&(URL.revokeObjectURL(this.urlObject),this.urlObject=null)}static async fromUrl(e,n){try{const o=await fetch(e);if(!o.ok)throw new Error(`Failed to fetch image: ${o.statusText}`);const r=await o.blob(),a=e.split("/");let u=a[a.length-1];const c=await n.getFileHandle(u,{create:!0}),h=await c.createWritable();return await h.write(r),await h.close(),new Kr(c,n)}catch(o){throw console.error("Failed to create LocalImage from URL:",o),o}}async delete(e){try{this.revokeUrl(),await e.removeEntry(this.handle.name)}catch(n){throw console.error("Failed to delete image file:",n),n}}async getBase64(){if(this.base64Data)return this.base64Data;try{const e=await this.handle.getFile(),n=await e.arrayBuffer(),o=e.type||"image/png",r=gH(n);return this.base64Data={rawBase64:r,mime:o},this.base64Data}catch(e){return console.error("Failed to create Base64 from file:",e),{rawBase64:"",mime:"image/png"}}}static async fromBase64(e,n,o){try{let r=e.rawBase64;const a=`data:${e.mime};base64,`;r.startsWith(a)&&(r=r.slice(a.length));const u=atob(r),c=u.length,h=new Uint8Array(c);for(let S=0;S<c;S++)h[S]=u.charCodeAt(S);const d=await n.getFileHandle(o,{create:!0}),m=await d.createWritable();await m.write(h),await m.close();const y=new Kr(d,n);return y.base64Data=e,y}catch(r){throw console.error("Failed to create LocalImage from Base64:",r),r}}}function gH(t){let e="";const n=new Uint8Array(t),o=n.byteLength;for(let r=0;r<o;r++)e+=String.fromCharCode(n[r]);return btoa(e)}var vH={};let yH,_H;function SH(){return{geminiUrl:yH,vertexUrl:_H}}function EH(t,e,n,o){var r,a;if(!t?.baseUrl){const u=SH();return e?(r=u.vertexUrl)!==null&&r!==void 0?r:n:(a=u.geminiUrl)!==null&&a!==void 0?a:o}return t.baseUrl}class gi{}function fe(t,e){const n=/\{([^}]+)\}/g;return t.replace(n,(o,r)=>{if(Object.prototype.hasOwnProperty.call(e,r)){const a=e[r];return a!=null?String(a):""}else throw new Error(`Key '${r}' not found in valueMap.`)})}function g(t,e,n){for(let a=0;a<e.length-1;a++){const u=e[a];if(u.endsWith("[]")){const c=u.slice(0,-2);if(!(c in t))if(Array.isArray(n))t[c]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${u}`);if(Array.isArray(t[c])){const h=t[c];if(Array.isArray(n))for(let d=0;d<h.length;d++){const m=h[d];g(m,e.slice(a+1),n[d])}else for(const d of h)g(d,e.slice(a+1),n)}return}else if(u.endsWith("[0]")){const c=u.slice(0,-3);c in t||(t[c]=[{}]);const h=t[c];g(h[0],e.slice(a+1),n);return}(!t[u]||typeof t[u]!="object")&&(t[u]={}),t=t[u]}const o=e[e.length-1],r=t[o];if(r!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===r)return;if(typeof r=="object"&&typeof n=="object"&&r!==null&&n!==null)Object.assign(r,n);else throw new Error(`Cannot set value for an existing key. Key: ${o}`)}else o==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(t,n):t[o]=n}function p(t,e,n=void 0){try{if(e.length===1&&e[0]==="_self")return t;for(let o=0;o<e.length;o++){if(typeof t!="object"||t===null)return n;const r=e[o];if(r.endsWith("[]")){const a=r.slice(0,-2);if(a in t){const u=t[a];return Array.isArray(u)?u.map(c=>p(c,e.slice(o+1),n)):n}else return n}else t=t[r]}return t}catch(o){if(o instanceof TypeError)return n;throw o}}function bH(t,e){for(const[n,o]of Object.entries(e)){const r=n.split("."),a=o.split("."),u=new Set;let c=-1;for(let h=0;h<r.length;h++)if(r[h]==="*"){c=h;break}if(c!==-1&&a.length>c)for(let h=c;h<a.length;h++){const d=a[h];d!=="*"&&!d.endsWith("[]")&&!d.endsWith("[0]")&&u.add(d)}uv(t,r,a,0,u)}}function uv(t,e,n,o,r){if(o>=e.length||typeof t!="object"||t===null)return;const a=e[o];if(a.endsWith("[]")){const u=a.slice(0,-2),c=t;if(u in c&&Array.isArray(c[u]))for(const h of c[u])uv(h,e,n,o+1,r)}else if(a==="*"){if(typeof t=="object"&&t!==null&&!Array.isArray(t)){const u=t,c=Object.keys(u).filter(d=>!d.startsWith("_")&&!r.has(d)),h={};for(const d of c)h[d]=u[d];for(const[d,m]of Object.entries(h)){const y=[];for(const S of n.slice(o))S==="*"?y.push(d):y.push(S);g(u,y,m)}for(const d of c)delete u[d]}}else{const u=t;a in u&&uv(u[a],e,n,o+1,r)}}function xy(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}function wH(t){const e={},n=p(t,["operationName"]);n!=null&&g(e,["operationName"],n);const o=p(t,["resourceName"]);return o!=null&&g(e,["_url","resourceName"],o),e}function TH(t){const e={},n=p(t,["name"]);n!=null&&g(e,["name"],n);const o=p(t,["metadata"]);o!=null&&g(e,["metadata"],o);const r=p(t,["done"]);r!=null&&g(e,["done"],r);const a=p(t,["error"]);a!=null&&g(e,["error"],a);const u=p(t,["response","generateVideoResponse"]);return u!=null&&g(e,["response"],AH(u)),e}function CH(t){const e={},n=p(t,["name"]);n!=null&&g(e,["name"],n);const o=p(t,["metadata"]);o!=null&&g(e,["metadata"],o);const r=p(t,["done"]);r!=null&&g(e,["done"],r);const a=p(t,["error"]);a!=null&&g(e,["error"],a);const u=p(t,["response"]);return u!=null&&g(e,["response"],xH(u)),e}function AH(t){const e={},n=p(t,["generatedSamples"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(u=>RH(u))),g(e,["generatedVideos"],a)}const o=p(t,["raiMediaFilteredCount"]);o!=null&&g(e,["raiMediaFilteredCount"],o);const r=p(t,["raiMediaFilteredReasons"]);return r!=null&&g(e,["raiMediaFilteredReasons"],r),e}function xH(t){const e={},n=p(t,["videos"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(u=>MH(u))),g(e,["generatedVideos"],a)}const o=p(t,["raiMediaFilteredCount"]);o!=null&&g(e,["raiMediaFilteredCount"],o);const r=p(t,["raiMediaFilteredReasons"]);return r!=null&&g(e,["raiMediaFilteredReasons"],r),e}function RH(t){const e={},n=p(t,["video"]);return n!=null&&g(e,["video"],kH(n)),e}function MH(t){const e={},n=p(t,["_self"]);return n!=null&&g(e,["video"],LH(n)),e}function NH(t){const e={},n=p(t,["operationName"]);return n!=null&&g(e,["_url","operationName"],n),e}function IH(t){const e={},n=p(t,["operationName"]);return n!=null&&g(e,["_url","operationName"],n),e}function DH(t){const e={},n=p(t,["name"]);n!=null&&g(e,["name"],n);const o=p(t,["metadata"]);o!=null&&g(e,["metadata"],o);const r=p(t,["done"]);r!=null&&g(e,["done"],r);const a=p(t,["error"]);a!=null&&g(e,["error"],a);const u=p(t,["response"]);return u!=null&&g(e,["response"],OH(u)),e}function OH(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const o=p(t,["parent"]);o!=null&&g(e,["parent"],o);const r=p(t,["documentName"]);return r!=null&&g(e,["documentName"],r),e}function jR(t){const e={},n=p(t,["name"]);n!=null&&g(e,["name"],n);const o=p(t,["metadata"]);o!=null&&g(e,["metadata"],o);const r=p(t,["done"]);r!=null&&g(e,["done"],r);const a=p(t,["error"]);a!=null&&g(e,["error"],a);const u=p(t,["response"]);return u!=null&&g(e,["response"],PH(u)),e}function PH(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const o=p(t,["parent"]);o!=null&&g(e,["parent"],o);const r=p(t,["documentName"]);return r!=null&&g(e,["documentName"],r),e}function kH(t){const e={},n=p(t,["uri"]);n!=null&&g(e,["uri"],n);const o=p(t,["encodedVideo"]);o!=null&&g(e,["videoBytes"],xy(o));const r=p(t,["encoding"]);return r!=null&&g(e,["mimeType"],r),e}function LH(t){const e={},n=p(t,["gcsUri"]);n!=null&&g(e,["uri"],n);const o=p(t,["bytesBase64Encoded"]);o!=null&&g(e,["videoBytes"],xy(o));const r=p(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}var Pw;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(Pw||(Pw={}));var kw;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(kw||(kw={}));var Lw;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(Lw||(Lw={}));var Wi;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(Wi||(Wi={}));var Uw;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(Uw||(Uw={}));var Bw;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(Bw||(Bw={}));var Hw;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(Hw||(Hw={}));var Fw;(function(t){t.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",t.HTTP_IN_QUERY="HTTP_IN_QUERY",t.HTTP_IN_HEADER="HTTP_IN_HEADER",t.HTTP_IN_PATH="HTTP_IN_PATH",t.HTTP_IN_BODY="HTTP_IN_BODY",t.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(Fw||(Fw={}));var $w;(function(t){t.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",t.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",t.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",t.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})($w||($w={}));var Gw;(function(t){t.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",t.LOW="LOW",t.HIGH="HIGH"})(Gw||(Gw={}));var Vw;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(Vw||(Vw={}));var zw;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(zw||(zw={}));var qw;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(qw||(qw={}));var Jw;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",t.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",t.NO_IMAGE="NO_IMAGE",t.IMAGE_RECITATION="IMAGE_RECITATION",t.IMAGE_OTHER="IMAGE_OTHER"})(Jw||(Jw={}));var Kw;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(Kw||(Kw={}));var Yw;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(Yw||(Yw={}));var Xw;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",t.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",t.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(Xw||(Xw={}));var jw;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY",t.MODEL_ARMOR="MODEL_ARMOR",t.JAILBREAK="JAILBREAK"})(jw||(jw={}));var Ww;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(Ww||(Ww={}));var _d;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(_d||(_d={}));var Qw;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(Qw||(Qw={}));var Zw;(function(t){t.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",t.TUNING_MODE_FULL="TUNING_MODE_FULL",t.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(Zw||(Zw={}));var eT;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(eT||(eT={}));var cv;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(cv||(cv={}));var tT;(function(t){t.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",t.TUNING_TASK_I2V="TUNING_TASK_I2V",t.TUNING_TASK_T2V="TUNING_TASK_T2V",t.TUNING_TASK_R2V="TUNING_TASK_R2V"})(tT||(tT={}));var nT;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(nT||(nT={}));var oT;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(oT||(oT={}));var iT;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(iT||(iT={}));var rT;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(rT||(rT={}));var sT;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(sT||(sT={}));var aT;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE",t.VALIDATED="VALIDATED"})(aT||(aT={}));var lT;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(lT||(lT={}));var uT;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(uT||(uT={}));var cT;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(cT||(cT={}));var fT;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(fT||(fT={}));var dT;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(dT||(dT={}));var hT;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(hT||(hT={}));var pT;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(pT||(pT={}));var mT;(function(t){t.FOREGROUND="FOREGROUND",t.BACKGROUND="BACKGROUND",t.PROMPT="PROMPT",t.SEMANTIC="SEMANTIC",t.INTERACTIVE="INTERACTIVE"})(mT||(mT={}));var gT;(function(t){t.ASSET="ASSET",t.STYLE="STYLE"})(gT||(gT={}));var vT;(function(t){t.INSERT="INSERT",t.REMOVE="REMOVE",t.REMOVE_STATIC="REMOVE_STATIC",t.OUTPAINT="OUTPAINT"})(vT||(vT={}));var yT;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(yT||(yT={}));var _T;(function(t){t.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",t.PREFERENCE_TUNING="PREFERENCE_TUNING"})(_T||(_T={}));var ST;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.STATE_PENDING="STATE_PENDING",t.STATE_ACTIVE="STATE_ACTIVE",t.STATE_FAILED="STATE_FAILED"})(ST||(ST={}));var ET;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(ET||(ET={}));var bT;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED"})(bT||(bT={}));var wT;(function(t){t.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.RESPONSE_REJECTED="RESPONSE_REJECTED",t.NEED_MORE_INPUT="NEED_MORE_INPUT"})(wT||(wT={}));var TT;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(TT||(TT={}));var CT;(function(t){t.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",t.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",t.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(CT||(CT={}));var AT;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(AT||(AT={}));var xT;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(xT||(xT={}));var RT;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(RT||(RT={}));var MT;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(MT||(MT={}));var NT;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(NT||(NT={}));var IT;(function(t){t.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",t.QUALITY="QUALITY",t.DIVERSITY="DIVERSITY",t.VOCALIZATION="VOCALIZATION"})(IT||(IT={}));var ia;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(ia||(ia={}));class fv{constructor(e){const n={};for(const o of e.headers.entries())n[o[0]]=o[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class Il{get text(){var e,n,o,r,a,u,c,h;if(((r=(o=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||o===void 0?void 0:o.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let d="",m=!1;const y=[];for(const S of(h=(c=(u=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||u===void 0?void 0:u.content)===null||c===void 0?void 0:c.parts)!==null&&h!==void 0?h:[]){for(const[E,C]of Object.entries(S))E!=="text"&&E!=="thought"&&E!=="thoughtSignature"&&(C!==null||C!==void 0)&&y.push(E);if(typeof S.text=="string"){if(typeof S.thought=="boolean"&&S.thought)continue;m=!0,d+=S.text}}return y.length>0&&console.warn(`there are non-text parts ${y} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),m?d:void 0}get data(){var e,n,o,r,a,u,c,h;if(((r=(o=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||o===void 0?void 0:o.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let d="";const m=[];for(const y of(h=(c=(u=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||u===void 0?void 0:u.content)===null||c===void 0?void 0:c.parts)!==null&&h!==void 0?h:[]){for(const[S,E]of Object.entries(y))S!=="inlineData"&&(E!==null||E!==void 0)&&m.push(S);y.inlineData&&typeof y.inlineData.data=="string"&&(d+=atob(y.inlineData.data))}return m.length>0&&console.warn(`there are non-data parts ${m} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),d.length>0?btoa(d):void 0}get functionCalls(){var e,n,o,r,a,u,c,h;if(((r=(o=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||o===void 0?void 0:o.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const d=(h=(c=(u=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||u===void 0?void 0:u.content)===null||c===void 0?void 0:c.parts)===null||h===void 0?void 0:h.filter(m=>m.functionCall).map(m=>m.functionCall).filter(m=>m!==void 0);if(d?.length!==0)return d}get executableCode(){var e,n,o,r,a,u,c,h,d;if(((r=(o=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||o===void 0?void 0:o.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const m=(h=(c=(u=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||u===void 0?void 0:u.content)===null||c===void 0?void 0:c.parts)===null||h===void 0?void 0:h.filter(y=>y.executableCode).map(y=>y.executableCode).filter(y=>y!==void 0);if(m?.length!==0)return(d=m?.[0])===null||d===void 0?void 0:d.code}get codeExecutionResult(){var e,n,o,r,a,u,c,h,d;if(((r=(o=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||o===void 0?void 0:o.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const m=(h=(c=(u=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||u===void 0?void 0:u.content)===null||c===void 0?void 0:c.parts)===null||h===void 0?void 0:h.filter(y=>y.codeExecutionResult).map(y=>y.codeExecutionResult).filter(y=>y!==void 0);if(m?.length!==0)return(d=m?.[0])===null||d===void 0?void 0:d.output}}class DT{}class OT{}class UH{}class BH{}class HH{}class FH{}class PT{}class kT{}class LT{}class $H{}class Sd{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const o=new Sd;let r;const a=e;return n?r=CH(a):r=TH(a),Object.assign(o,r),o}}class UT{}class BT{}class HT{}class FT{}class GH{}class VH{}class zH{}class Ry{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const o=new Ry,a=DH(e);return Object.assign(o,a),o}}class qH{}class JH{}class KH{}class $T{}class YH{get text(){var e,n,o;let r="",a=!1;const u=[];for(const c of(o=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&o!==void 0?o:[]){for(const[h,d]of Object.entries(c))h!=="text"&&h!=="thought"&&d!==null&&u.push(h);if(typeof c.text=="string"){if(typeof c.thought=="boolean"&&c.thought)continue;a=!0,r+=c.text}}return u.length>0&&console.warn(`there are non-text parts ${u} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),a?r:void 0}get data(){var e,n,o;let r="";const a=[];for(const u of(o=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&o!==void 0?o:[]){for(const[c,h]of Object.entries(u))c!=="inlineData"&&h!==null&&a.push(c);u.inlineData&&typeof u.inlineData.data=="string"&&(r+=atob(u.inlineData.data))}return a.length>0&&console.warn(`there are non-data parts ${a} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),r.length>0?btoa(r):void 0}}class XH{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class My{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const o=new My,a=jR(e);return Object.assign(o,a),o}}function Ve(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function WR(t,e){const n=Ve(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function QR(t){return Array.isArray(t)?t.map(e=>Ed(e)):[Ed(t)]}function Ed(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function ZR(t){const e=Ed(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function eM(t){const e=Ed(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function GT(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function tM(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>GT(e)):[GT(t)]}function dv(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function VT(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function zT(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function Lt(t){if(t==null)throw new Error("ContentUnion is required");return dv(t)?t:{role:"user",parts:tM(t)}}function Ny(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{const o=Lt(n);return o.parts&&o.parts.length>0&&o.parts[0].text!==void 0?[o.parts[0].text]:[]});if(t.isVertexAI()){const n=Lt(e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>Lt(n)):[Lt(e)]}function Hn(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(VT(t)||zT(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[Lt(t)]}const e=[],n=[],o=dv(t[0]);for(const r of t){const a=dv(r);if(a!=o)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(a)e.push(r);else{if(VT(r)||zT(r))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(r)}}return o||e.push({role:"user",parts:tM(n)}),e}function jH(t,e){t.includes("null")&&(e.nullable=!0);const n=t.filter(o=>o!=="null");if(n.length===1)e.type=Object.values(Wi).includes(n[0].toUpperCase())?n[0].toUpperCase():Wi.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const o of n)e.anyOf.push({type:Object.values(Wi).includes(o.toUpperCase())?o.toUpperCase():Wi.TYPE_UNSPECIFIED})}}function aa(t){const e={},n=["items"],o=["anyOf"],r=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const a=t.anyOf;a!=null&&a.length==2&&(a[0].type==="null"?(e.nullable=!0,t=a[1]):a[1].type==="null"&&(e.nullable=!0,t=a[0])),t.type instanceof Array&&jH(t.type,e);for(const[u,c]of Object.entries(t))if(c!=null)if(u=="type"){if(c==="null")throw new Error("type: null can not be the only possible type for the field.");if(c instanceof Array)continue;e.type=Object.values(Wi).includes(c.toUpperCase())?c.toUpperCase():Wi.TYPE_UNSPECIFIED}else if(n.includes(u))e[u]=aa(c);else if(o.includes(u)){const h=[];for(const d of c){if(d.type=="null"){e.nullable=!0;continue}h.push(aa(d))}e[u]=h}else if(r.includes(u)){const h={};for(const[d,m]of Object.entries(c))h[d]=aa(m);e[u]=h}else{if(u==="additionalProperties")continue;e[u]=c}return e}function Iy(t){return aa(t)}function Dy(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function Oy(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function Ta(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=aa(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=aa(e.response));return t}function Ca(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const n of t)e.push(n);return e}function WH(t,e,n,o=1){const r=!e.startsWith(`${n}/`)&&e.split("/").length===o;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:r?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:r?`${n}/${e}`:e}function vi(t,e){if(typeof e!="string")throw new Error("name must be a string");return WH(t,e,"cachedContents")}function nM(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function lr(t){return xy(t)}function QH(t){return t!=null&&typeof t=="object"&&"name"in t}function ZH(t){return t!=null&&typeof t=="object"&&"video"in t}function eF(t){return t!=null&&typeof t=="object"&&"uri"in t}function oM(t){var e;let n;if(QH(t)&&(n=t.name),!(eF(t)&&(n=t.uri,n===void 0))&&!(ZH(t)&&(n=(e=t.video)===null||e===void 0?void 0:e.uri,n===void 0))){if(typeof t=="string"&&(n=t),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const r=n.split("files/")[1].match(/[a-z0-9]+/);if(r===null)throw new Error(`Could not extract file name from URI ${n}`);n=r[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function iM(t,e){let n;return t.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function rM(t){for(const e of["models","tunedModels","publisherModels"])if(tF(t,e))return t[e];return[]}function tF(t,e){return t!==null&&typeof t=="object"&&e in t}function nF(t,e={}){const n=t,o={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(o.responseJsonSchema=n.outputSchema),e.behavior&&(o.behavior=e.behavior),{functionDeclarations:[o]}}function oF(t,e={}){const n=[],o=new Set;for(const r of t){const a=r.name;if(o.has(a))throw new Error(`Duplicate function name ${a} found in MCP tools. Please ensure function names are unique.`);o.add(a);const u=nF(r,e);u.functionDeclarations&&n.push(...u.functionDeclarations)}return{functionDeclarations:n}}function sM(t,e){let n;if(typeof e=="string")if(t.isVertexAI())if(e.startsWith("gs://"))n={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))n={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))n={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(t.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:e}}else n=e;const o=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,r=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(t.isVertexAI()){if(r>0||o!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(o>0||r!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function iF(t){if(typeof t!="string")return t;const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function aM(t){if(typeof t!="object"||t===null)return{};const e=t,n=e.inlinedResponses;if(typeof n!="object"||n===null)return t;const r=n.inlinedResponses;if(!Array.isArray(r)||r.length===0)return t;let a=!1;for(const u of r){if(typeof u!="object"||u===null)continue;const h=u.response;if(typeof h!="object"||h===null)continue;if(h.embedding!==void 0){a=!0;break}}return a&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),t}function Aa(t,e){const n=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function lM(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}function rF(t){const e={},n=p(t,["responsesFile"]);n!=null&&g(e,["fileName"],n);const o=p(t,["inlinedResponses","inlinedResponses"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(u=>HF(u))),g(e,["inlinedResponses"],a)}const r=p(t,["inlinedEmbedContentResponses","inlinedResponses"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(u=>u)),g(e,["inlinedEmbedContentResponses"],a)}return e}function sF(t){const e={},n=p(t,["predictionsFormat"]);n!=null&&g(e,["format"],n);const o=p(t,["gcsDestination","outputUriPrefix"]);o!=null&&g(e,["gcsUri"],o);const r=p(t,["bigqueryDestination","outputUri"]);return r!=null&&g(e,["bigqueryUri"],r),e}function aF(t){const e={},n=p(t,["format"]);n!=null&&g(e,["predictionsFormat"],n);const o=p(t,["gcsUri"]);o!=null&&g(e,["gcsDestination","outputUriPrefix"],o);const r=p(t,["bigqueryUri"]);if(r!=null&&g(e,["bigqueryDestination","outputUri"],r),p(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(p(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(p(t,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function Jf(t){const e={},n=p(t,["name"]);n!=null&&g(e,["name"],n);const o=p(t,["metadata","displayName"]);o!=null&&g(e,["displayName"],o);const r=p(t,["metadata","state"]);r!=null&&g(e,["state"],lM(r));const a=p(t,["metadata","createTime"]);a!=null&&g(e,["createTime"],a);const u=p(t,["metadata","endTime"]);u!=null&&g(e,["endTime"],u);const c=p(t,["metadata","updateTime"]);c!=null&&g(e,["updateTime"],c);const h=p(t,["metadata","model"]);h!=null&&g(e,["model"],h);const d=p(t,["metadata","output"]);return d!=null&&g(e,["dest"],rF(aM(d))),e}function hv(t){const e={},n=p(t,["name"]);n!=null&&g(e,["name"],n);const o=p(t,["displayName"]);o!=null&&g(e,["displayName"],o);const r=p(t,["state"]);r!=null&&g(e,["state"],lM(r));const a=p(t,["error"]);a!=null&&g(e,["error"],a);const u=p(t,["createTime"]);u!=null&&g(e,["createTime"],u);const c=p(t,["startTime"]);c!=null&&g(e,["startTime"],c);const h=p(t,["endTime"]);h!=null&&g(e,["endTime"],h);const d=p(t,["updateTime"]);d!=null&&g(e,["updateTime"],d);const m=p(t,["model"]);m!=null&&g(e,["model"],m);const y=p(t,["inputConfig"]);y!=null&&g(e,["src"],lF(y));const S=p(t,["outputConfig"]);S!=null&&g(e,["dest"],sF(aM(S)));const E=p(t,["completionStats"]);return E!=null&&g(e,["completionStats"],E),e}function lF(t){const e={},n=p(t,["instancesFormat"]);n!=null&&g(e,["format"],n);const o=p(t,["gcsSource","uris"]);o!=null&&g(e,["gcsUri"],o);const r=p(t,["bigquerySource","inputUri"]);return r!=null&&g(e,["bigqueryUri"],r),e}function uF(t,e){const n={};if(p(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(p(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(p(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const o=p(e,["fileName"]);o!=null&&g(n,["fileName"],o);const r=p(e,["inlinedRequests"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(u=>BF(t,u))),g(n,["requests","requests"],a)}return n}function cF(t){const e={},n=p(t,["format"]);n!=null&&g(e,["instancesFormat"],n);const o=p(t,["gcsUri"]);o!=null&&g(e,["gcsSource","uris"],o);const r=p(t,["bigqueryUri"]);if(r!=null&&g(e,["bigquerySource","inputUri"],r),p(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(p(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function fF(t){const e={},n=p(t,["data"]);if(n!=null&&g(e,["data"],n),p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=p(t,["mimeType"]);return o!=null&&g(e,["mimeType"],o),e}function dF(t,e){const n={},o=p(e,["name"]);return o!=null&&g(n,["_url","name"],Aa(t,o)),n}function hF(t,e){const n={},o=p(e,["name"]);return o!=null&&g(n,["_url","name"],Aa(t,o)),n}function pF(t){const e={},n=p(t,["content"]);n!=null&&g(e,["content"],n);const o=p(t,["citationMetadata"]);o!=null&&g(e,["citationMetadata"],mF(o));const r=p(t,["tokenCount"]);r!=null&&g(e,["tokenCount"],r);const a=p(t,["finishReason"]);a!=null&&g(e,["finishReason"],a);const u=p(t,["avgLogprobs"]);u!=null&&g(e,["avgLogprobs"],u);const c=p(t,["groundingMetadata"]);c!=null&&g(e,["groundingMetadata"],c);const h=p(t,["index"]);h!=null&&g(e,["index"],h);const d=p(t,["logprobsResult"]);d!=null&&g(e,["logprobsResult"],d);const m=p(t,["safetyRatings"]);if(m!=null){let S=m;Array.isArray(S)&&(S=S.map(E=>E)),g(e,["safetyRatings"],S)}const y=p(t,["urlContextMetadata"]);return y!=null&&g(e,["urlContextMetadata"],y),e}function mF(t){const e={},n=p(t,["citationSources"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(r=>r)),g(e,["citations"],o)}return e}function uM(t){const e={},n=p(t,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(a=>JF(a))),g(e,["parts"],r)}const o=p(t,["role"]);return o!=null&&g(e,["role"],o),e}function gF(t,e){const n={},o=p(t,["displayName"]);if(e!==void 0&&o!=null&&g(e,["batch","displayName"],o),p(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function vF(t,e){const n={},o=p(t,["displayName"]);e!==void 0&&o!=null&&g(e,["displayName"],o);const r=p(t,["dest"]);return e!==void 0&&r!=null&&g(e,["outputConfig"],aF(iF(r))),n}function qT(t,e){const n={},o=p(e,["model"]);o!=null&&g(n,["_url","model"],Ve(t,o));const r=p(e,["src"]);r!=null&&g(n,["batch","inputConfig"],uF(t,sM(t,r)));const a=p(e,["config"]);return a!=null&&gF(a,n),n}function yF(t,e){const n={},o=p(e,["model"]);o!=null&&g(n,["model"],Ve(t,o));const r=p(e,["src"]);r!=null&&g(n,["inputConfig"],cF(sM(t,r)));const a=p(e,["config"]);return a!=null&&vF(a,n),n}function _F(t,e){const n={},o=p(t,["displayName"]);return e!==void 0&&o!=null&&g(e,["batch","displayName"],o),n}function SF(t,e){const n={},o=p(e,["model"]);o!=null&&g(n,["_url","model"],Ve(t,o));const r=p(e,["src"]);r!=null&&g(n,["batch","inputConfig"],xF(t,r));const a=p(e,["config"]);return a!=null&&_F(a,n),n}function EF(t,e){const n={},o=p(e,["name"]);return o!=null&&g(n,["_url","name"],Aa(t,o)),n}function bF(t,e){const n={},o=p(e,["name"]);return o!=null&&g(n,["_url","name"],Aa(t,o)),n}function wF(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const o=p(t,["name"]);o!=null&&g(e,["name"],o);const r=p(t,["done"]);r!=null&&g(e,["done"],r);const a=p(t,["error"]);return a!=null&&g(e,["error"],a),e}function TF(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const o=p(t,["name"]);o!=null&&g(e,["name"],o);const r=p(t,["done"]);r!=null&&g(e,["done"],r);const a=p(t,["error"]);return a!=null&&g(e,["error"],a),e}function CF(t,e){const n={},o=p(e,["contents"]);if(o!=null){let a=Ny(t,o);Array.isArray(a)&&(a=a.map(u=>u)),g(n,["requests[]","request","content"],a)}const r=p(e,["config"]);return r!=null&&(g(n,["_self"],AF(r,n)),bH(n,{"requests[].*":"requests[].request.*"})),n}function AF(t,e){const n={},o=p(t,["taskType"]);e!==void 0&&o!=null&&g(e,["requests[]","taskType"],o);const r=p(t,["title"]);e!==void 0&&r!=null&&g(e,["requests[]","title"],r);const a=p(t,["outputDimensionality"]);if(e!==void 0&&a!=null&&g(e,["requests[]","outputDimensionality"],a),p(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(p(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function xF(t,e){const n={},o=p(e,["fileName"]);o!=null&&g(n,["file_name"],o);const r=p(e,["inlinedRequests"]);return r!=null&&g(n,["requests"],CF(t,r)),n}function RF(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=p(t,["fileUri"]);n!=null&&g(e,["fileUri"],n);const o=p(t,["mimeType"]);return o!=null&&g(e,["mimeType"],o),e}function MF(t){const e={},n=p(t,["id"]);n!=null&&g(e,["id"],n);const o=p(t,["args"]);o!=null&&g(e,["args"],o);const r=p(t,["name"]);if(r!=null&&g(e,["name"],r),p(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(p(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function NF(t){const e={},n=p(t,["mode"]);n!=null&&g(e,["mode"],n);const o=p(t,["allowedFunctionNames"]);if(o!=null&&g(e,["allowedFunctionNames"],o),p(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function IF(t,e,n){const o={},r=p(e,["systemInstruction"]);n!==void 0&&r!=null&&g(n,["systemInstruction"],uM(Lt(r)));const a=p(e,["temperature"]);a!=null&&g(o,["temperature"],a);const u=p(e,["topP"]);u!=null&&g(o,["topP"],u);const c=p(e,["topK"]);c!=null&&g(o,["topK"],c);const h=p(e,["candidateCount"]);h!=null&&g(o,["candidateCount"],h);const d=p(e,["maxOutputTokens"]);d!=null&&g(o,["maxOutputTokens"],d);const m=p(e,["stopSequences"]);m!=null&&g(o,["stopSequences"],m);const y=p(e,["responseLogprobs"]);y!=null&&g(o,["responseLogprobs"],y);const S=p(e,["logprobs"]);S!=null&&g(o,["logprobs"],S);const E=p(e,["presencePenalty"]);E!=null&&g(o,["presencePenalty"],E);const C=p(e,["frequencyPenalty"]);C!=null&&g(o,["frequencyPenalty"],C);const A=p(e,["seed"]);A!=null&&g(o,["seed"],A);const x=p(e,["responseMimeType"]);x!=null&&g(o,["responseMimeType"],x);const M=p(e,["responseSchema"]);M!=null&&g(o,["responseSchema"],Iy(M));const I=p(e,["responseJsonSchema"]);if(I!=null&&g(o,["responseJsonSchema"],I),p(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(p(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const N=p(e,["safetySettings"]);if(n!==void 0&&N!=null){let oe=N;Array.isArray(oe)&&(oe=oe.map(ae=>KF(ae))),g(n,["safetySettings"],oe)}const D=p(e,["tools"]);if(n!==void 0&&D!=null){let oe=Ca(D);Array.isArray(oe)&&(oe=oe.map(ae=>XF(Ta(ae)))),g(n,["tools"],oe)}const L=p(e,["toolConfig"]);if(n!==void 0&&L!=null&&g(n,["toolConfig"],YF(L)),p(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const U=p(e,["cachedContent"]);n!==void 0&&U!=null&&g(n,["cachedContent"],vi(t,U));const O=p(e,["responseModalities"]);O!=null&&g(o,["responseModalities"],O);const q=p(e,["mediaResolution"]);q!=null&&g(o,["mediaResolution"],q);const J=p(e,["speechConfig"]);if(J!=null&&g(o,["speechConfig"],Dy(J)),p(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const X=p(e,["thinkingConfig"]);X!=null&&g(o,["thinkingConfig"],X);const W=p(e,["imageConfig"]);W!=null&&g(o,["imageConfig"],UF(W));const re=p(e,["enableEnhancedCivicAnswers"]);return re!=null&&g(o,["enableEnhancedCivicAnswers"],re),o}function DF(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const o=p(t,["candidates"]);if(o!=null){let h=o;Array.isArray(h)&&(h=h.map(d=>pF(d))),g(e,["candidates"],h)}const r=p(t,["modelVersion"]);r!=null&&g(e,["modelVersion"],r);const a=p(t,["promptFeedback"]);a!=null&&g(e,["promptFeedback"],a);const u=p(t,["responseId"]);u!=null&&g(e,["responseId"],u);const c=p(t,["usageMetadata"]);return c!=null&&g(e,["usageMetadata"],c),e}function OF(t,e){const n={},o=p(e,["name"]);return o!=null&&g(n,["_url","name"],Aa(t,o)),n}function PF(t,e){const n={},o=p(e,["name"]);return o!=null&&g(n,["_url","name"],Aa(t,o)),n}function kF(t){const e={};if(p(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=p(t,["enableWidget"]);return n!=null&&g(e,["enableWidget"],n),e}function LF(t){const e={};if(p(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(p(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=p(t,["timeRangeFilter"]);return n!=null&&g(e,["timeRangeFilter"],n),e}function UF(t){const e={},n=p(t,["aspectRatio"]);n!=null&&g(e,["aspectRatio"],n);const o=p(t,["imageSize"]);if(o!=null&&g(e,["imageSize"],o),p(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(p(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function BF(t,e){const n={},o=p(e,["model"]);o!=null&&g(n,["request","model"],Ve(t,o));const r=p(e,["contents"]);if(r!=null){let c=Hn(r);Array.isArray(c)&&(c=c.map(h=>uM(h))),g(n,["request","contents"],c)}const a=p(e,["metadata"]);a!=null&&g(n,["metadata"],a);const u=p(e,["config"]);return u!=null&&g(n,["request","generationConfig"],IF(t,u,p(n,["request"],{}))),n}function HF(t){const e={},n=p(t,["response"]);n!=null&&g(e,["response"],DF(n));const o=p(t,["error"]);return o!=null&&g(e,["error"],o),e}function FF(t,e){const n={},o=p(t,["pageSize"]);e!==void 0&&o!=null&&g(e,["_query","pageSize"],o);const r=p(t,["pageToken"]);if(e!==void 0&&r!=null&&g(e,["_query","pageToken"],r),p(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function $F(t,e){const n={},o=p(t,["pageSize"]);e!==void 0&&o!=null&&g(e,["_query","pageSize"],o);const r=p(t,["pageToken"]);e!==void 0&&r!=null&&g(e,["_query","pageToken"],r);const a=p(t,["filter"]);return e!==void 0&&a!=null&&g(e,["_query","filter"],a),n}function GF(t){const e={},n=p(t,["config"]);return n!=null&&FF(n,e),e}function VF(t){const e={},n=p(t,["config"]);return n!=null&&$F(n,e),e}function zF(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const o=p(t,["nextPageToken"]);o!=null&&g(e,["nextPageToken"],o);const r=p(t,["operations"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(u=>Jf(u))),g(e,["batchJobs"],a)}return e}function qF(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const o=p(t,["nextPageToken"]);o!=null&&g(e,["nextPageToken"],o);const r=p(t,["batchPredictionJobs"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(u=>hv(u))),g(e,["batchJobs"],a)}return e}function JF(t){const e={},n=p(t,["mediaResolution"]);n!=null&&g(e,["mediaResolution"],n);const o=p(t,["codeExecutionResult"]);o!=null&&g(e,["codeExecutionResult"],o);const r=p(t,["executableCode"]);r!=null&&g(e,["executableCode"],r);const a=p(t,["fileData"]);a!=null&&g(e,["fileData"],RF(a));const u=p(t,["functionCall"]);u!=null&&g(e,["functionCall"],MF(u));const c=p(t,["functionResponse"]);c!=null&&g(e,["functionResponse"],c);const h=p(t,["inlineData"]);h!=null&&g(e,["inlineData"],fF(h));const d=p(t,["text"]);d!=null&&g(e,["text"],d);const m=p(t,["thought"]);m!=null&&g(e,["thought"],m);const y=p(t,["thoughtSignature"]);y!=null&&g(e,["thoughtSignature"],y);const S=p(t,["videoMetadata"]);return S!=null&&g(e,["videoMetadata"],S),e}function KF(t){const e={},n=p(t,["category"]);if(n!=null&&g(e,["category"],n),p(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const o=p(t,["threshold"]);return o!=null&&g(e,["threshold"],o),e}function YF(t){const e={},n=p(t,["functionCallingConfig"]);n!=null&&g(e,["functionCallingConfig"],NF(n));const o=p(t,["retrievalConfig"]);return o!=null&&g(e,["retrievalConfig"],o),e}function XF(t){const e={},n=p(t,["functionDeclarations"]);if(n!=null){let m=n;Array.isArray(m)&&(m=m.map(y=>y)),g(e,["functionDeclarations"],m)}if(p(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=p(t,["googleSearchRetrieval"]);o!=null&&g(e,["googleSearchRetrieval"],o);const r=p(t,["computerUse"]);r!=null&&g(e,["computerUse"],r);const a=p(t,["fileSearch"]);a!=null&&g(e,["fileSearch"],a);const u=p(t,["codeExecution"]);if(u!=null&&g(e,["codeExecution"],u),p(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const c=p(t,["googleMaps"]);c!=null&&g(e,["googleMaps"],kF(c));const h=p(t,["googleSearch"]);h!=null&&g(e,["googleSearch"],LF(h));const d=p(t,["urlContext"]);return d!=null&&g(e,["urlContext"],d),e}var fi;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents",t.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",t.PAGED_ITEM_DOCUMENTS="documents"})(fi||(fi={}));class es{constructor(e,n,o,r){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,o,r)}init(e,n,o){var r,a;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n?.sdkHttpResponse,this.idxInternal=0;let u={config:{}};!o||Object.keys(o).length===0?u={config:{}}:typeof o=="object"?u=Object.assign({},o):u=o,u.config&&(u.config.pageToken=n.nextPageToken),this.paramsInternal=u,this.pageInternalSize=(a=(r=u.config)===null||r===void 0?void 0:r.pageSize)!==null&&a!==void 0?a:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}let jF=class extends gi{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new es(fi.PAGED_ITEM_BATCH_JOBS,o=>this.listInternal(o),await this.listInternal(n),n),this.create=async n=>(this.apiClient.isVertexAI()&&(n.config=this.formatDestination(n.src,n.config)),this.createInternal(n)),this.createEmbeddings=async n=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(n)}}createInlinedGenerateContentRequest(e){const n=qT(this.apiClient,e),o=n._url,r=fe("{model}:batchGenerateContent",o),c=n.batch.inputConfig.requests,h=c.requests,d=[];for(const m of h){const y=Object.assign({},m);if(y.systemInstruction){const S=y.systemInstruction;delete y.systemInstruction;const E=y.request;E.systemInstruction=S,y.request=E}d.push(y)}return c.requests=d,delete n.config,delete n._url,delete n._query,{path:r,body:n}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,n){const o=n?Object.assign({},n):{},r=Date.now().toString();if(o.displayName||(o.displayName=`genaiBatchJob_${r}`),o.dest===void 0){const a=this.getGcsUri(e),u=this.getBigqueryUri(e);if(a)a.endsWith(".jsonl")?o.dest=`${a.slice(0,-6)}/dest`:o.dest=`${a}_dest_${r}`;else if(u)o.dest=`${u}_dest_${r}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return o}async createInternal(e){var n,o,r,a;let u,c="",h={};if(this.apiClient.isVertexAI()){const d=yF(this.apiClient,e);return c=fe("batchPredictionJobs",d._url),h=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json()),u.then(m=>hv(m))}else{const d=qT(this.apiClient,e);return c=fe("{model}:batchGenerateContent",d._url),h=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json()),u.then(m=>Jf(m))}}async createEmbeddingsInternal(e){var n,o;let r,a="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=SF(this.apiClient,e);return a=fe("{model}:asyncBatchEmbedContent",c._url),u=c._query,delete c._url,delete c._query,r=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),r.then(h=>Jf(h))}}async get(e){var n,o,r,a;let u,c="",h={};if(this.apiClient.isVertexAI()){const d=PF(this.apiClient,e);return c=fe("batchPredictionJobs/{name}",d._url),h=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json()),u.then(m=>hv(m))}else{const d=OF(this.apiClient,e);return c=fe("batches/{name}",d._url),h=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json()),u.then(m=>Jf(m))}}async cancel(e){var n,o,r,a;let u="",c={};if(this.apiClient.isVertexAI()){const h=hF(this.apiClient,e);u=fe("batchPredictionJobs/{name}:cancel",h._url),c=h._query,delete h._url,delete h._query,await this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}else{const h=dF(this.apiClient,e);u=fe("batches/{name}:cancel",h._url),c=h._query,delete h._url,delete h._query,await this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal})}}async listInternal(e){var n,o,r,a;let u,c="",h={};if(this.apiClient.isVertexAI()){const d=VF(e);return c=fe("batchPredictionJobs",d._url),h=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json().then(y=>{const S=y;return S.sdkHttpResponse={headers:m.headers},S})),u.then(m=>{const y=qF(m),S=new $T;return Object.assign(S,y),S})}else{const d=GF(e);return c=fe("batches",d._url),h=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json().then(y=>{const S=y;return S.sdkHttpResponse={headers:m.headers},S})),u.then(m=>{const y=zF(m),S=new $T;return Object.assign(S,y),S})}}async delete(e){var n,o,r,a;let u,c="",h={};if(this.apiClient.isVertexAI()){const d=bF(this.apiClient,e);return c=fe("batchPredictionJobs/{name}",d._url),h=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json().then(y=>{const S=y;return S.sdkHttpResponse={headers:m.headers},S})),u.then(m=>TF(m))}else{const d=EF(this.apiClient,e);return c=fe("batches/{name}",d._url),h=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json().then(y=>{const S=y;return S.sdkHttpResponse={headers:m.headers},S})),u.then(m=>wF(m))}}};function WF(t){const e={},n=p(t,["data"]);if(n!=null&&g(e,["data"],n),p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=p(t,["mimeType"]);return o!=null&&g(e,["mimeType"],o),e}function JT(t){const e={},n=p(t,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(a=>S$(a))),g(e,["parts"],r)}const o=p(t,["role"]);return o!=null&&g(e,["role"],o),e}function QF(t,e){const n={},o=p(t,["ttl"]);e!==void 0&&o!=null&&g(e,["ttl"],o);const r=p(t,["expireTime"]);e!==void 0&&r!=null&&g(e,["expireTime"],r);const a=p(t,["displayName"]);e!==void 0&&a!=null&&g(e,["displayName"],a);const u=p(t,["contents"]);if(e!==void 0&&u!=null){let m=Hn(u);Array.isArray(m)&&(m=m.map(y=>JT(y))),g(e,["contents"],m)}const c=p(t,["systemInstruction"]);e!==void 0&&c!=null&&g(e,["systemInstruction"],JT(Lt(c)));const h=p(t,["tools"]);if(e!==void 0&&h!=null){let m=h;Array.isArray(m)&&(m=m.map(y=>b$(y))),g(e,["tools"],m)}const d=p(t,["toolConfig"]);if(e!==void 0&&d!=null&&g(e,["toolConfig"],E$(d)),p(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function ZF(t,e){const n={},o=p(t,["ttl"]);e!==void 0&&o!=null&&g(e,["ttl"],o);const r=p(t,["expireTime"]);e!==void 0&&r!=null&&g(e,["expireTime"],r);const a=p(t,["displayName"]);e!==void 0&&a!=null&&g(e,["displayName"],a);const u=p(t,["contents"]);if(e!==void 0&&u!=null){let y=Hn(u);Array.isArray(y)&&(y=y.map(S=>S)),g(e,["contents"],y)}const c=p(t,["systemInstruction"]);e!==void 0&&c!=null&&g(e,["systemInstruction"],Lt(c));const h=p(t,["tools"]);if(e!==void 0&&h!=null){let y=h;Array.isArray(y)&&(y=y.map(S=>w$(S))),g(e,["tools"],y)}const d=p(t,["toolConfig"]);e!==void 0&&d!=null&&g(e,["toolConfig"],d);const m=p(t,["kmsKeyName"]);return e!==void 0&&m!=null&&g(e,["encryption_spec","kmsKeyName"],m),n}function e$(t,e){const n={},o=p(e,["model"]);o!=null&&g(n,["model"],WR(t,o));const r=p(e,["config"]);return r!=null&&QF(r,n),n}function t$(t,e){const n={},o=p(e,["model"]);o!=null&&g(n,["model"],WR(t,o));const r=p(e,["config"]);return r!=null&&ZF(r,n),n}function n$(t,e){const n={},o=p(e,["name"]);return o!=null&&g(n,["_url","name"],vi(t,o)),n}function o$(t,e){const n={},o=p(e,["name"]);return o!=null&&g(n,["_url","name"],vi(t,o)),n}function i$(t){const e={},n=p(t,["sdkHttpResponse"]);return n!=null&&g(e,["sdkHttpResponse"],n),e}function r$(t){const e={},n=p(t,["sdkHttpResponse"]);return n!=null&&g(e,["sdkHttpResponse"],n),e}function s$(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=p(t,["fileUri"]);n!=null&&g(e,["fileUri"],n);const o=p(t,["mimeType"]);return o!=null&&g(e,["mimeType"],o),e}function a$(t){const e={},n=p(t,["id"]);n!=null&&g(e,["id"],n);const o=p(t,["args"]);o!=null&&g(e,["args"],o);const r=p(t,["name"]);if(r!=null&&g(e,["name"],r),p(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(p(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function l$(t){const e={},n=p(t,["mode"]);n!=null&&g(e,["mode"],n);const o=p(t,["allowedFunctionNames"]);if(o!=null&&g(e,["allowedFunctionNames"],o),p(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function u$(t){const e={};if(p(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=p(t,["description"]);n!=null&&g(e,["description"],n);const o=p(t,["name"]);o!=null&&g(e,["name"],o);const r=p(t,["parameters"]);r!=null&&g(e,["parameters"],r);const a=p(t,["parametersJsonSchema"]);a!=null&&g(e,["parametersJsonSchema"],a);const u=p(t,["response"]);u!=null&&g(e,["response"],u);const c=p(t,["responseJsonSchema"]);return c!=null&&g(e,["responseJsonSchema"],c),e}function c$(t,e){const n={},o=p(e,["name"]);return o!=null&&g(n,["_url","name"],vi(t,o)),n}function f$(t,e){const n={},o=p(e,["name"]);return o!=null&&g(n,["_url","name"],vi(t,o)),n}function d$(t){const e={};if(p(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=p(t,["enableWidget"]);return n!=null&&g(e,["enableWidget"],n),e}function h$(t){const e={};if(p(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(p(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=p(t,["timeRangeFilter"]);return n!=null&&g(e,["timeRangeFilter"],n),e}function p$(t,e){const n={},o=p(t,["pageSize"]);e!==void 0&&o!=null&&g(e,["_query","pageSize"],o);const r=p(t,["pageToken"]);return e!==void 0&&r!=null&&g(e,["_query","pageToken"],r),n}function m$(t,e){const n={},o=p(t,["pageSize"]);e!==void 0&&o!=null&&g(e,["_query","pageSize"],o);const r=p(t,["pageToken"]);return e!==void 0&&r!=null&&g(e,["_query","pageToken"],r),n}function g$(t){const e={},n=p(t,["config"]);return n!=null&&p$(n,e),e}function v$(t){const e={},n=p(t,["config"]);return n!=null&&m$(n,e),e}function y$(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const o=p(t,["nextPageToken"]);o!=null&&g(e,["nextPageToken"],o);const r=p(t,["cachedContents"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(u=>u)),g(e,["cachedContents"],a)}return e}function _$(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const o=p(t,["nextPageToken"]);o!=null&&g(e,["nextPageToken"],o);const r=p(t,["cachedContents"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(u=>u)),g(e,["cachedContents"],a)}return e}function S$(t){const e={},n=p(t,["mediaResolution"]);n!=null&&g(e,["mediaResolution"],n);const o=p(t,["codeExecutionResult"]);o!=null&&g(e,["codeExecutionResult"],o);const r=p(t,["executableCode"]);r!=null&&g(e,["executableCode"],r);const a=p(t,["fileData"]);a!=null&&g(e,["fileData"],s$(a));const u=p(t,["functionCall"]);u!=null&&g(e,["functionCall"],a$(u));const c=p(t,["functionResponse"]);c!=null&&g(e,["functionResponse"],c);const h=p(t,["inlineData"]);h!=null&&g(e,["inlineData"],WF(h));const d=p(t,["text"]);d!=null&&g(e,["text"],d);const m=p(t,["thought"]);m!=null&&g(e,["thought"],m);const y=p(t,["thoughtSignature"]);y!=null&&g(e,["thoughtSignature"],y);const S=p(t,["videoMetadata"]);return S!=null&&g(e,["videoMetadata"],S),e}function E$(t){const e={},n=p(t,["functionCallingConfig"]);n!=null&&g(e,["functionCallingConfig"],l$(n));const o=p(t,["retrievalConfig"]);return o!=null&&g(e,["retrievalConfig"],o),e}function b$(t){const e={},n=p(t,["functionDeclarations"]);if(n!=null){let m=n;Array.isArray(m)&&(m=m.map(y=>y)),g(e,["functionDeclarations"],m)}if(p(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=p(t,["googleSearchRetrieval"]);o!=null&&g(e,["googleSearchRetrieval"],o);const r=p(t,["computerUse"]);r!=null&&g(e,["computerUse"],r);const a=p(t,["fileSearch"]);a!=null&&g(e,["fileSearch"],a);const u=p(t,["codeExecution"]);if(u!=null&&g(e,["codeExecution"],u),p(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const c=p(t,["googleMaps"]);c!=null&&g(e,["googleMaps"],d$(c));const h=p(t,["googleSearch"]);h!=null&&g(e,["googleSearch"],h$(h));const d=p(t,["urlContext"]);return d!=null&&g(e,["urlContext"],d),e}function w$(t){const e={},n=p(t,["functionDeclarations"]);if(n!=null){let y=n;Array.isArray(y)&&(y=y.map(S=>u$(S))),g(e,["functionDeclarations"],y)}const o=p(t,["retrieval"]);o!=null&&g(e,["retrieval"],o);const r=p(t,["googleSearchRetrieval"]);r!=null&&g(e,["googleSearchRetrieval"],r);const a=p(t,["computerUse"]);if(a!=null&&g(e,["computerUse"],a),p(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const u=p(t,["codeExecution"]);u!=null&&g(e,["codeExecution"],u);const c=p(t,["enterpriseWebSearch"]);c!=null&&g(e,["enterpriseWebSearch"],c);const h=p(t,["googleMaps"]);h!=null&&g(e,["googleMaps"],h);const d=p(t,["googleSearch"]);d!=null&&g(e,["googleSearch"],d);const m=p(t,["urlContext"]);return m!=null&&g(e,["urlContext"],m),e}function T$(t,e){const n={},o=p(t,["ttl"]);e!==void 0&&o!=null&&g(e,["ttl"],o);const r=p(t,["expireTime"]);return e!==void 0&&r!=null&&g(e,["expireTime"],r),n}function C$(t,e){const n={},o=p(t,["ttl"]);e!==void 0&&o!=null&&g(e,["ttl"],o);const r=p(t,["expireTime"]);return e!==void 0&&r!=null&&g(e,["expireTime"],r),n}function A$(t,e){const n={},o=p(e,["name"]);o!=null&&g(n,["_url","name"],vi(t,o));const r=p(e,["config"]);return r!=null&&T$(r,n),n}function x$(t,e){const n={},o=p(e,["name"]);o!=null&&g(n,["_url","name"],vi(t,o));const r=p(e,["config"]);return r!=null&&C$(r,n),n}class R$ extends gi{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new es(fi.PAGED_ITEM_CACHED_CONTENTS,o=>this.listInternal(o),await this.listInternal(n),n)}async create(e){var n,o,r,a;let u,c="",h={};if(this.apiClient.isVertexAI()){const d=t$(this.apiClient,e);return c=fe("cachedContents",d._url),h=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json()),u.then(m=>m)}else{const d=e$(this.apiClient,e);return c=fe("cachedContents",d._url),h=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json()),u.then(m=>m)}}async get(e){var n,o,r,a;let u,c="",h={};if(this.apiClient.isVertexAI()){const d=f$(this.apiClient,e);return c=fe("{name}",d._url),h=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json()),u.then(m=>m)}else{const d=c$(this.apiClient,e);return c=fe("{name}",d._url),h=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json()),u.then(m=>m)}}async delete(e){var n,o,r,a;let u,c="",h={};if(this.apiClient.isVertexAI()){const d=o$(this.apiClient,e);return c=fe("{name}",d._url),h=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json().then(y=>{const S=y;return S.sdkHttpResponse={headers:m.headers},S})),u.then(m=>{const y=r$(m),S=new HT;return Object.assign(S,y),S})}else{const d=n$(this.apiClient,e);return c=fe("{name}",d._url),h=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json().then(y=>{const S=y;return S.sdkHttpResponse={headers:m.headers},S})),u.then(m=>{const y=i$(m),S=new HT;return Object.assign(S,y),S})}}async update(e){var n,o,r,a;let u,c="",h={};if(this.apiClient.isVertexAI()){const d=x$(this.apiClient,e);return c=fe("{name}",d._url),h=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json()),u.then(m=>m)}else{const d=A$(this.apiClient,e);return c=fe("{name}",d._url),h=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json()),u.then(m=>m)}}async listInternal(e){var n,o,r,a;let u,c="",h={};if(this.apiClient.isVertexAI()){const d=v$(e);return c=fe("cachedContents",d._url),h=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json().then(y=>{const S=y;return S.sdkHttpResponse={headers:m.headers},S})),u.then(m=>{const y=_$(m),S=new FT;return Object.assign(S,y),S})}else{const d=g$(e);return c=fe("cachedContents",d._url),h=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json().then(y=>{const S=y;return S.sdkHttpResponse={headers:m.headers},S})),u.then(m=>{const y=y$(m),S=new FT;return Object.assign(S,y),S})}}}function bd(t,e){var n={};for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&e.indexOf(o)<0&&(n[o]=t[o]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,o=Object.getOwnPropertySymbols(t);r<o.length;r++)e.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(t,o[r])&&(n[o[r]]=t[o[r]]);return n}function KT(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],o=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ce(t){return this instanceof Ce?(this.v=t,this):new Ce(t)}function oo(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o=n.apply(t,e||[]),r,a=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),c("next"),c("throw"),c("return",u),r[Symbol.asyncIterator]=function(){return this},r;function u(E){return function(C){return Promise.resolve(C).then(E,y)}}function c(E,C){o[E]&&(r[E]=function(A){return new Promise(function(x,M){a.push([E,A,x,M])>1||h(E,A)})},C&&(r[E]=C(r[E])))}function h(E,C){try{d(o[E](C))}catch(A){S(a[0][3],A)}}function d(E){E.value instanceof Ce?Promise.resolve(E.value.v).then(m,y):S(a[0][2],E)}function m(E){h("next",E)}function y(E){h("throw",E)}function S(E,C){E(C),a.shift(),a.length&&h(a[0][0],a[0][1])}}function io(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof KT=="function"?KT(t):t[Symbol.iterator](),n={},o("next"),o("throw"),o("return"),n[Symbol.asyncIterator]=function(){return this},n);function o(a){n[a]=t[a]&&function(u){return new Promise(function(c,h){u=t[a](u),r(c,h,u.done,u.value)})}}function r(a,u,c,h){Promise.resolve(h).then(function(d){a({value:d,done:c})},u)}}function M$(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:cM(n)}function cM(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function N$(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function YT(t){if(t===void 0||t.length===0)return[];const e=[],n=t.length;let o=0;for(;o<n;)if(t[o].role==="user")e.push(t[o]),o++;else{const r=[];let a=!0;for(;o<n&&t[o].role==="model";)r.push(t[o]),a&&!cM(t[o])&&(a=!1),o++;a?e.push(...r):e.pop()}return e}class I${constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new D$(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}let D$=class{constructor(e,n,o,r={},a=[]){this.apiClient=e,this.modelsModule=n,this.model=o,this.config=r,this.history=a,this.sendPromise=Promise.resolve(),N$(a)}async sendMessage(e){var n;await this.sendPromise;const o=Lt(e.message),r=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(o),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var a,u,c;const h=await r,d=(u=(a=h.candidates)===null||a===void 0?void 0:a[0])===null||u===void 0?void 0:u.content,m=h.automaticFunctionCallingHistory,y=this.getHistory(!0).length;let S=[];m!=null&&(S=(c=m.slice(y))!==null&&c!==void 0?c:[]);const E=d?[d]:[];this.recordHistory(o,E,S)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),r}async sendMessageStream(e){var n;await this.sendPromise;const o=Lt(e.message),r=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(o),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=r.then(()=>{}).catch(()=>{});const a=await r;return this.processStreamResponse(a,o)}getHistory(e=!1){const n=e?YT(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){return oo(this,arguments,function*(){var r,a,u,c,h,d;const m=[];try{for(var y=!0,S=io(e),E;E=yield Ce(S.next()),r=E.done,!r;y=!0){c=E.value,y=!1;const C=c;if(M$(C)){const A=(d=(h=C.candidates)===null||h===void 0?void 0:h[0])===null||d===void 0?void 0:d.content;A!==void 0&&m.push(A)}yield yield Ce(C)}}catch(C){a={error:C}}finally{try{!y&&!r&&(u=S.return)&&(yield Ce(u.call(S)))}finally{if(a)throw a.error}}this.recordHistory(n,m)})}recordHistory(e,n,o){let r=[];n.length>0&&n.every(a=>a.role!==void 0)?r=n:r.push({role:"model",parts:[]}),o&&o.length>0?this.history.push(...YT(o)):this.history.push(e),this.history.push(...r)}};class ih extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,ih.prototype)}}function O$(t){const e={},n=p(t,["file"]);return n!=null&&g(e,["file"],n),e}function P$(t){const e={},n=p(t,["sdkHttpResponse"]);return n!=null&&g(e,["sdkHttpResponse"],n),e}function k$(t){const e={},n=p(t,["name"]);return n!=null&&g(e,["_url","file"],oM(n)),e}function L$(t){const e={},n=p(t,["sdkHttpResponse"]);return n!=null&&g(e,["sdkHttpResponse"],n),e}function U$(t){const e={},n=p(t,["name"]);return n!=null&&g(e,["_url","file"],oM(n)),e}function B$(t,e){const n={},o=p(t,["pageSize"]);e!==void 0&&o!=null&&g(e,["_query","pageSize"],o);const r=p(t,["pageToken"]);return e!==void 0&&r!=null&&g(e,["_query","pageToken"],r),n}function H$(t){const e={},n=p(t,["config"]);return n!=null&&B$(n,e),e}function F$(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const o=p(t,["nextPageToken"]);o!=null&&g(e,["nextPageToken"],o);const r=p(t,["files"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(u=>u)),g(e,["files"],a)}return e}let $$=class extends gi{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new es(fi.PAGED_ITEM_FILES,o=>this.listInternal(o),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>n)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var n,o;let r,a="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=H$(e);return a=fe("files",c._url),u=c._query,delete c._url,delete c._query,r=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(d=>{const m=d;return m.sdkHttpResponse={headers:h.headers},m})),r.then(h=>{const d=F$(h),m=new qH;return Object.assign(m,d),m})}}async createInternal(e){var n,o;let r,a="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=O$(e);return a=fe("upload/v1beta/files",c._url),u=c._query,delete c._url,delete c._query,r=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),r.then(h=>{const d=P$(h),m=new JH;return Object.assign(m,d),m})}}async get(e){var n,o;let r,a="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=U$(e);return a=fe("files/{file}",c._url),u=c._query,delete c._url,delete c._query,r=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),r.then(h=>h)}}async delete(e){var n,o;let r,a="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=k$(e);return a=fe("files/{file}",c._url),u=c._query,delete c._url,delete c._query,r=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(d=>{const m=d;return m.sdkHttpResponse={headers:h.headers},m})),r.then(h=>{const d=L$(h),m=new KH;return Object.assign(m,d),m})}}};function Kf(t){const e={},n=p(t,["data"]);if(n!=null&&g(e,["data"],n),p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=p(t,["mimeType"]);return o!=null&&g(e,["mimeType"],o),e}function G$(t){const e={},n=p(t,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(a=>iG(a))),g(e,["parts"],r)}const o=p(t,["role"]);return o!=null&&g(e,["role"],o),e}function V$(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=p(t,["fileUri"]);n!=null&&g(e,["fileUri"],n);const o=p(t,["mimeType"]);return o!=null&&g(e,["mimeType"],o),e}function z$(t){const e={},n=p(t,["id"]);n!=null&&g(e,["id"],n);const o=p(t,["args"]);o!=null&&g(e,["args"],o);const r=p(t,["name"]);if(r!=null&&g(e,["name"],r),p(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(p(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function q$(t){const e={};if(p(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=p(t,["description"]);n!=null&&g(e,["description"],n);const o=p(t,["name"]);o!=null&&g(e,["name"],o);const r=p(t,["parameters"]);r!=null&&g(e,["parameters"],r);const a=p(t,["parametersJsonSchema"]);a!=null&&g(e,["parametersJsonSchema"],a);const u=p(t,["response"]);u!=null&&g(e,["response"],u);const c=p(t,["responseJsonSchema"]);return c!=null&&g(e,["responseJsonSchema"],c),e}function J$(t){const e={},n=p(t,["modelSelectionConfig"]);n!=null&&g(e,["modelConfig"],n);const o=p(t,["responseJsonSchema"]);o!=null&&g(e,["responseJsonSchema"],o);const r=p(t,["audioTimestamp"]);r!=null&&g(e,["audioTimestamp"],r);const a=p(t,["candidateCount"]);a!=null&&g(e,["candidateCount"],a);const u=p(t,["enableAffectiveDialog"]);u!=null&&g(e,["enableAffectiveDialog"],u);const c=p(t,["frequencyPenalty"]);c!=null&&g(e,["frequencyPenalty"],c);const h=p(t,["logprobs"]);h!=null&&g(e,["logprobs"],h);const d=p(t,["maxOutputTokens"]);d!=null&&g(e,["maxOutputTokens"],d);const m=p(t,["mediaResolution"]);m!=null&&g(e,["mediaResolution"],m);const y=p(t,["presencePenalty"]);y!=null&&g(e,["presencePenalty"],y);const S=p(t,["responseLogprobs"]);S!=null&&g(e,["responseLogprobs"],S);const E=p(t,["responseMimeType"]);E!=null&&g(e,["responseMimeType"],E);const C=p(t,["responseModalities"]);C!=null&&g(e,["responseModalities"],C);const A=p(t,["responseSchema"]);A!=null&&g(e,["responseSchema"],A);const x=p(t,["routingConfig"]);x!=null&&g(e,["routingConfig"],x);const M=p(t,["seed"]);M!=null&&g(e,["seed"],M);const I=p(t,["speechConfig"]);I!=null&&g(e,["speechConfig"],fM(I));const N=p(t,["stopSequences"]);N!=null&&g(e,["stopSequences"],N);const D=p(t,["temperature"]);D!=null&&g(e,["temperature"],D);const L=p(t,["thinkingConfig"]);L!=null&&g(e,["thinkingConfig"],L);const U=p(t,["topK"]);U!=null&&g(e,["topK"],U);const O=p(t,["topP"]);if(O!=null&&g(e,["topP"],O),p(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function K$(t){const e={};if(p(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=p(t,["enableWidget"]);return n!=null&&g(e,["enableWidget"],n),e}function Y$(t){const e={};if(p(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(p(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=p(t,["timeRangeFilter"]);return n!=null&&g(e,["timeRangeFilter"],n),e}function X$(t,e){const n={},o=p(t,["generationConfig"]);e!==void 0&&o!=null&&g(e,["setup","generationConfig"],o);const r=p(t,["responseModalities"]);e!==void 0&&r!=null&&g(e,["setup","generationConfig","responseModalities"],r);const a=p(t,["temperature"]);e!==void 0&&a!=null&&g(e,["setup","generationConfig","temperature"],a);const u=p(t,["topP"]);e!==void 0&&u!=null&&g(e,["setup","generationConfig","topP"],u);const c=p(t,["topK"]);e!==void 0&&c!=null&&g(e,["setup","generationConfig","topK"],c);const h=p(t,["maxOutputTokens"]);e!==void 0&&h!=null&&g(e,["setup","generationConfig","maxOutputTokens"],h);const d=p(t,["mediaResolution"]);e!==void 0&&d!=null&&g(e,["setup","generationConfig","mediaResolution"],d);const m=p(t,["seed"]);e!==void 0&&m!=null&&g(e,["setup","generationConfig","seed"],m);const y=p(t,["speechConfig"]);e!==void 0&&y!=null&&g(e,["setup","generationConfig","speechConfig"],Oy(y));const S=p(t,["thinkingConfig"]);e!==void 0&&S!=null&&g(e,["setup","generationConfig","thinkingConfig"],S);const E=p(t,["enableAffectiveDialog"]);e!==void 0&&E!=null&&g(e,["setup","generationConfig","enableAffectiveDialog"],E);const C=p(t,["systemInstruction"]);e!==void 0&&C!=null&&g(e,["setup","systemInstruction"],G$(Lt(C)));const A=p(t,["tools"]);if(e!==void 0&&A!=null){let U=Ca(A);Array.isArray(U)&&(U=U.map(O=>sG(Ta(O)))),g(e,["setup","tools"],U)}const x=p(t,["sessionResumption"]);e!==void 0&&x!=null&&g(e,["setup","sessionResumption"],rG(x));const M=p(t,["inputAudioTranscription"]);e!==void 0&&M!=null&&g(e,["setup","inputAudioTranscription"],M);const I=p(t,["outputAudioTranscription"]);e!==void 0&&I!=null&&g(e,["setup","outputAudioTranscription"],I);const N=p(t,["realtimeInputConfig"]);e!==void 0&&N!=null&&g(e,["setup","realtimeInputConfig"],N);const D=p(t,["contextWindowCompression"]);e!==void 0&&D!=null&&g(e,["setup","contextWindowCompression"],D);const L=p(t,["proactivity"]);if(e!==void 0&&L!=null&&g(e,["setup","proactivity"],L),p(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function j$(t,e){const n={},o=p(t,["generationConfig"]);e!==void 0&&o!=null&&g(e,["setup","generationConfig"],J$(o));const r=p(t,["responseModalities"]);e!==void 0&&r!=null&&g(e,["setup","generationConfig","responseModalities"],r);const a=p(t,["temperature"]);e!==void 0&&a!=null&&g(e,["setup","generationConfig","temperature"],a);const u=p(t,["topP"]);e!==void 0&&u!=null&&g(e,["setup","generationConfig","topP"],u);const c=p(t,["topK"]);e!==void 0&&c!=null&&g(e,["setup","generationConfig","topK"],c);const h=p(t,["maxOutputTokens"]);e!==void 0&&h!=null&&g(e,["setup","generationConfig","maxOutputTokens"],h);const d=p(t,["mediaResolution"]);e!==void 0&&d!=null&&g(e,["setup","generationConfig","mediaResolution"],d);const m=p(t,["seed"]);e!==void 0&&m!=null&&g(e,["setup","generationConfig","seed"],m);const y=p(t,["speechConfig"]);e!==void 0&&y!=null&&g(e,["setup","generationConfig","speechConfig"],fM(Oy(y)));const S=p(t,["thinkingConfig"]);e!==void 0&&S!=null&&g(e,["setup","generationConfig","thinkingConfig"],S);const E=p(t,["enableAffectiveDialog"]);e!==void 0&&E!=null&&g(e,["setup","generationConfig","enableAffectiveDialog"],E);const C=p(t,["systemInstruction"]);e!==void 0&&C!=null&&g(e,["setup","systemInstruction"],Lt(C));const A=p(t,["tools"]);if(e!==void 0&&A!=null){let O=Ca(A);Array.isArray(O)&&(O=O.map(q=>aG(Ta(q)))),g(e,["setup","tools"],O)}const x=p(t,["sessionResumption"]);e!==void 0&&x!=null&&g(e,["setup","sessionResumption"],x);const M=p(t,["inputAudioTranscription"]);e!==void 0&&M!=null&&g(e,["setup","inputAudioTranscription"],M);const I=p(t,["outputAudioTranscription"]);e!==void 0&&I!=null&&g(e,["setup","outputAudioTranscription"],I);const N=p(t,["realtimeInputConfig"]);e!==void 0&&N!=null&&g(e,["setup","realtimeInputConfig"],N);const D=p(t,["contextWindowCompression"]);e!==void 0&&D!=null&&g(e,["setup","contextWindowCompression"],D);const L=p(t,["proactivity"]);e!==void 0&&L!=null&&g(e,["setup","proactivity"],L);const U=p(t,["explicitVadSignal"]);return e!==void 0&&U!=null&&g(e,["setup","explicitVadSignal"],U),n}function W$(t,e){const n={},o=p(e,["model"]);o!=null&&g(n,["setup","model"],Ve(t,o));const r=p(e,["config"]);return r!=null&&g(n,["config"],X$(r,n)),n}function Q$(t,e){const n={},o=p(e,["model"]);o!=null&&g(n,["setup","model"],Ve(t,o));const r=p(e,["config"]);return r!=null&&g(n,["config"],j$(r,n)),n}function Z$(t){const e={},n=p(t,["musicGenerationConfig"]);return n!=null&&g(e,["musicGenerationConfig"],n),e}function eG(t){const e={},n=p(t,["weightedPrompts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(r=>r)),g(e,["weightedPrompts"],o)}return e}function tG(t){const e={},n=p(t,["media"]);if(n!=null){let d=QR(n);Array.isArray(d)&&(d=d.map(m=>Kf(m))),g(e,["mediaChunks"],d)}const o=p(t,["audio"]);o!=null&&g(e,["audio"],Kf(eM(o)));const r=p(t,["audioStreamEnd"]);r!=null&&g(e,["audioStreamEnd"],r);const a=p(t,["video"]);a!=null&&g(e,["video"],Kf(ZR(a)));const u=p(t,["text"]);u!=null&&g(e,["text"],u);const c=p(t,["activityStart"]);c!=null&&g(e,["activityStart"],c);const h=p(t,["activityEnd"]);return h!=null&&g(e,["activityEnd"],h),e}function nG(t){const e={},n=p(t,["media"]);if(n!=null){let d=QR(n);Array.isArray(d)&&(d=d.map(m=>m)),g(e,["mediaChunks"],d)}const o=p(t,["audio"]);o!=null&&g(e,["audio"],eM(o));const r=p(t,["audioStreamEnd"]);r!=null&&g(e,["audioStreamEnd"],r);const a=p(t,["video"]);a!=null&&g(e,["video"],ZR(a));const u=p(t,["text"]);u!=null&&g(e,["text"],u);const c=p(t,["activityStart"]);c!=null&&g(e,["activityStart"],c);const h=p(t,["activityEnd"]);return h!=null&&g(e,["activityEnd"],h),e}function oG(t){const e={},n=p(t,["setupComplete"]);n!=null&&g(e,["setupComplete"],n);const o=p(t,["serverContent"]);o!=null&&g(e,["serverContent"],o);const r=p(t,["toolCall"]);r!=null&&g(e,["toolCall"],r);const a=p(t,["toolCallCancellation"]);a!=null&&g(e,["toolCallCancellation"],a);const u=p(t,["usageMetadata"]);u!=null&&g(e,["usageMetadata"],lG(u));const c=p(t,["goAway"]);c!=null&&g(e,["goAway"],c);const h=p(t,["sessionResumptionUpdate"]);h!=null&&g(e,["sessionResumptionUpdate"],h);const d=p(t,["voiceActivityDetectionSignal"]);return d!=null&&g(e,["voiceActivityDetectionSignal"],d),e}function iG(t){const e={},n=p(t,["mediaResolution"]);n!=null&&g(e,["mediaResolution"],n);const o=p(t,["codeExecutionResult"]);o!=null&&g(e,["codeExecutionResult"],o);const r=p(t,["executableCode"]);r!=null&&g(e,["executableCode"],r);const a=p(t,["fileData"]);a!=null&&g(e,["fileData"],V$(a));const u=p(t,["functionCall"]);u!=null&&g(e,["functionCall"],z$(u));const c=p(t,["functionResponse"]);c!=null&&g(e,["functionResponse"],c);const h=p(t,["inlineData"]);h!=null&&g(e,["inlineData"],Kf(h));const d=p(t,["text"]);d!=null&&g(e,["text"],d);const m=p(t,["thought"]);m!=null&&g(e,["thought"],m);const y=p(t,["thoughtSignature"]);y!=null&&g(e,["thoughtSignature"],y);const S=p(t,["videoMetadata"]);return S!=null&&g(e,["videoMetadata"],S),e}function rG(t){const e={},n=p(t,["handle"]);if(n!=null&&g(e,["handle"],n),p(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function fM(t){const e={},n=p(t,["voiceConfig"]);n!=null&&g(e,["voiceConfig"],n);const o=p(t,["languageCode"]);if(o!=null&&g(e,["languageCode"],o),p(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return e}function sG(t){const e={},n=p(t,["functionDeclarations"]);if(n!=null){let m=n;Array.isArray(m)&&(m=m.map(y=>y)),g(e,["functionDeclarations"],m)}if(p(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=p(t,["googleSearchRetrieval"]);o!=null&&g(e,["googleSearchRetrieval"],o);const r=p(t,["computerUse"]);r!=null&&g(e,["computerUse"],r);const a=p(t,["fileSearch"]);a!=null&&g(e,["fileSearch"],a);const u=p(t,["codeExecution"]);if(u!=null&&g(e,["codeExecution"],u),p(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const c=p(t,["googleMaps"]);c!=null&&g(e,["googleMaps"],K$(c));const h=p(t,["googleSearch"]);h!=null&&g(e,["googleSearch"],Y$(h));const d=p(t,["urlContext"]);return d!=null&&g(e,["urlContext"],d),e}function aG(t){const e={},n=p(t,["functionDeclarations"]);if(n!=null){let y=n;Array.isArray(y)&&(y=y.map(S=>q$(S))),g(e,["functionDeclarations"],y)}const o=p(t,["retrieval"]);o!=null&&g(e,["retrieval"],o);const r=p(t,["googleSearchRetrieval"]);r!=null&&g(e,["googleSearchRetrieval"],r);const a=p(t,["computerUse"]);if(a!=null&&g(e,["computerUse"],a),p(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const u=p(t,["codeExecution"]);u!=null&&g(e,["codeExecution"],u);const c=p(t,["enterpriseWebSearch"]);c!=null&&g(e,["enterpriseWebSearch"],c);const h=p(t,["googleMaps"]);h!=null&&g(e,["googleMaps"],h);const d=p(t,["googleSearch"]);d!=null&&g(e,["googleSearch"],d);const m=p(t,["urlContext"]);return m!=null&&g(e,["urlContext"],m),e}function lG(t){const e={},n=p(t,["promptTokenCount"]);n!=null&&g(e,["promptTokenCount"],n);const o=p(t,["cachedContentTokenCount"]);o!=null&&g(e,["cachedContentTokenCount"],o);const r=p(t,["candidatesTokenCount"]);r!=null&&g(e,["responseTokenCount"],r);const a=p(t,["toolUsePromptTokenCount"]);a!=null&&g(e,["toolUsePromptTokenCount"],a);const u=p(t,["thoughtsTokenCount"]);u!=null&&g(e,["thoughtsTokenCount"],u);const c=p(t,["totalTokenCount"]);c!=null&&g(e,["totalTokenCount"],c);const h=p(t,["promptTokensDetails"]);if(h!=null){let E=h;Array.isArray(E)&&(E=E.map(C=>C)),g(e,["promptTokensDetails"],E)}const d=p(t,["cacheTokensDetails"]);if(d!=null){let E=d;Array.isArray(E)&&(E=E.map(C=>C)),g(e,["cacheTokensDetails"],E)}const m=p(t,["candidatesTokensDetails"]);if(m!=null){let E=m;Array.isArray(E)&&(E=E.map(C=>C)),g(e,["responseTokensDetails"],E)}const y=p(t,["toolUsePromptTokensDetails"]);if(y!=null){let E=y;Array.isArray(E)&&(E=E.map(C=>C)),g(e,["toolUsePromptTokensDetails"],E)}const S=p(t,["trafficType"]);return S!=null&&g(e,["trafficType"],S),e}function uG(t){const e={},n=p(t,["data"]);if(n!=null&&g(e,["data"],n),p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=p(t,["mimeType"]);return o!=null&&g(e,["mimeType"],o),e}function cG(t){const e={},n=p(t,["content"]);n!=null&&g(e,["content"],n);const o=p(t,["citationMetadata"]);o!=null&&g(e,["citationMetadata"],fG(o));const r=p(t,["tokenCount"]);r!=null&&g(e,["tokenCount"],r);const a=p(t,["finishReason"]);a!=null&&g(e,["finishReason"],a);const u=p(t,["avgLogprobs"]);u!=null&&g(e,["avgLogprobs"],u);const c=p(t,["groundingMetadata"]);c!=null&&g(e,["groundingMetadata"],c);const h=p(t,["index"]);h!=null&&g(e,["index"],h);const d=p(t,["logprobsResult"]);d!=null&&g(e,["logprobsResult"],d);const m=p(t,["safetyRatings"]);if(m!=null){let S=m;Array.isArray(S)&&(S=S.map(E=>E)),g(e,["safetyRatings"],S)}const y=p(t,["urlContextMetadata"]);return y!=null&&g(e,["urlContextMetadata"],y),e}function fG(t){const e={},n=p(t,["citationSources"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(r=>r)),g(e,["citations"],o)}return e}function dG(t,e){const n={},o=p(e,["model"]);o!=null&&g(n,["_url","model"],Ve(t,o));const r=p(e,["contents"]);if(r!=null){let a=Hn(r);Array.isArray(a)&&(a=a.map(u=>u)),g(n,["contents"],a)}return n}function hG(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const o=p(t,["tokensInfo"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(a=>a)),g(e,["tokensInfo"],r)}return e}function pG(t){const e={},n=p(t,["values"]);n!=null&&g(e,["values"],n);const o=p(t,["statistics"]);return o!=null&&g(e,["statistics"],mG(o)),e}function mG(t){const e={},n=p(t,["truncated"]);n!=null&&g(e,["truncated"],n);const o=p(t,["token_count"]);return o!=null&&g(e,["tokenCount"],o),e}function rh(t){const e={},n=p(t,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(a=>TV(a))),g(e,["parts"],r)}const o=p(t,["role"]);return o!=null&&g(e,["role"],o),e}function gG(t){const e={},n=p(t,["controlType"]);n!=null&&g(e,["controlType"],n);const o=p(t,["enableControlImageComputation"]);return o!=null&&g(e,["computeControl"],o),e}function vG(t){const e={};if(p(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(p(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(p(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function yG(t,e){const n={},o=p(t,["systemInstruction"]);e!==void 0&&o!=null&&g(e,["systemInstruction"],Lt(o));const r=p(t,["tools"]);if(e!==void 0&&r!=null){let u=r;Array.isArray(u)&&(u=u.map(c=>gM(c))),g(e,["tools"],u)}const a=p(t,["generationConfig"]);return e!==void 0&&a!=null&&g(e,["generationConfig"],uV(a)),n}function _G(t,e){const n={},o=p(e,["model"]);o!=null&&g(n,["_url","model"],Ve(t,o));const r=p(e,["contents"]);if(r!=null){let u=Hn(r);Array.isArray(u)&&(u=u.map(c=>rh(c))),g(n,["contents"],u)}const a=p(e,["config"]);return a!=null&&vG(a),n}function SG(t,e){const n={},o=p(e,["model"]);o!=null&&g(n,["_url","model"],Ve(t,o));const r=p(e,["contents"]);if(r!=null){let u=Hn(r);Array.isArray(u)&&(u=u.map(c=>c)),g(n,["contents"],u)}const a=p(e,["config"]);return a!=null&&yG(a,n),n}function EG(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const o=p(t,["totalTokens"]);o!=null&&g(e,["totalTokens"],o);const r=p(t,["cachedContentTokenCount"]);return r!=null&&g(e,["cachedContentTokenCount"],r),e}function bG(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const o=p(t,["totalTokens"]);return o!=null&&g(e,["totalTokens"],o),e}function wG(t,e){const n={},o=p(e,["model"]);return o!=null&&g(n,["_url","name"],Ve(t,o)),n}function TG(t,e){const n={},o=p(e,["model"]);return o!=null&&g(n,["_url","name"],Ve(t,o)),n}function CG(t){const e={},n=p(t,["sdkHttpResponse"]);return n!=null&&g(e,["sdkHttpResponse"],n),e}function AG(t){const e={},n=p(t,["sdkHttpResponse"]);return n!=null&&g(e,["sdkHttpResponse"],n),e}function xG(t,e){const n={},o=p(t,["outputGcsUri"]);e!==void 0&&o!=null&&g(e,["parameters","storageUri"],o);const r=p(t,["negativePrompt"]);e!==void 0&&r!=null&&g(e,["parameters","negativePrompt"],r);const a=p(t,["numberOfImages"]);e!==void 0&&a!=null&&g(e,["parameters","sampleCount"],a);const u=p(t,["aspectRatio"]);e!==void 0&&u!=null&&g(e,["parameters","aspectRatio"],u);const c=p(t,["guidanceScale"]);e!==void 0&&c!=null&&g(e,["parameters","guidanceScale"],c);const h=p(t,["seed"]);e!==void 0&&h!=null&&g(e,["parameters","seed"],h);const d=p(t,["safetyFilterLevel"]);e!==void 0&&d!=null&&g(e,["parameters","safetySetting"],d);const m=p(t,["personGeneration"]);e!==void 0&&m!=null&&g(e,["parameters","personGeneration"],m);const y=p(t,["includeSafetyAttributes"]);e!==void 0&&y!=null&&g(e,["parameters","includeSafetyAttributes"],y);const S=p(t,["includeRaiReason"]);e!==void 0&&S!=null&&g(e,["parameters","includeRaiReason"],S);const E=p(t,["language"]);e!==void 0&&E!=null&&g(e,["parameters","language"],E);const C=p(t,["outputMimeType"]);e!==void 0&&C!=null&&g(e,["parameters","outputOptions","mimeType"],C);const A=p(t,["outputCompressionQuality"]);e!==void 0&&A!=null&&g(e,["parameters","outputOptions","compressionQuality"],A);const x=p(t,["addWatermark"]);e!==void 0&&x!=null&&g(e,["parameters","addWatermark"],x);const M=p(t,["labels"]);e!==void 0&&M!=null&&g(e,["labels"],M);const I=p(t,["editMode"]);e!==void 0&&I!=null&&g(e,["parameters","editMode"],I);const N=p(t,["baseSteps"]);return e!==void 0&&N!=null&&g(e,["parameters","editConfig","baseSteps"],N),n}function RG(t,e){const n={},o=p(e,["model"]);o!=null&&g(n,["_url","model"],Ve(t,o));const r=p(e,["prompt"]);r!=null&&g(n,["instances[0]","prompt"],r);const a=p(e,["referenceImages"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(h=>NV(h))),g(n,["instances[0]","referenceImages"],c)}const u=p(e,["config"]);return u!=null&&xG(u,n),n}function MG(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const o=p(t,["predictions"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(a=>sh(a))),g(e,["generatedImages"],r)}return e}function NG(t,e){const n={},o=p(t,["taskType"]);e!==void 0&&o!=null&&g(e,["requests[]","taskType"],o);const r=p(t,["title"]);e!==void 0&&r!=null&&g(e,["requests[]","title"],r);const a=p(t,["outputDimensionality"]);if(e!==void 0&&a!=null&&g(e,["requests[]","outputDimensionality"],a),p(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(p(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function IG(t,e){const n={},o=p(t,["taskType"]);e!==void 0&&o!=null&&g(e,["instances[]","task_type"],o);const r=p(t,["title"]);e!==void 0&&r!=null&&g(e,["instances[]","title"],r);const a=p(t,["outputDimensionality"]);e!==void 0&&a!=null&&g(e,["parameters","outputDimensionality"],a);const u=p(t,["mimeType"]);e!==void 0&&u!=null&&g(e,["instances[]","mimeType"],u);const c=p(t,["autoTruncate"]);return e!==void 0&&c!=null&&g(e,["parameters","autoTruncate"],c),n}function DG(t,e){const n={},o=p(e,["model"]);o!=null&&g(n,["_url","model"],Ve(t,o));const r=p(e,["contents"]);if(r!=null){let c=Ny(t,r);Array.isArray(c)&&(c=c.map(h=>h)),g(n,["requests[]","content"],c)}const a=p(e,["config"]);a!=null&&NG(a,n);const u=p(e,["model"]);return u!==void 0&&g(n,["requests[]","model"],Ve(t,u)),n}function OG(t,e){const n={},o=p(e,["model"]);o!=null&&g(n,["_url","model"],Ve(t,o));const r=p(e,["contents"]);if(r!=null){let u=Ny(t,r);Array.isArray(u)&&(u=u.map(c=>c)),g(n,["instances[]","content"],u)}const a=p(e,["config"]);return a!=null&&IG(a,n),n}function PG(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const o=p(t,["embeddings"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(u=>u)),g(e,["embeddings"],a)}const r=p(t,["metadata"]);return r!=null&&g(e,["metadata"],r),e}function kG(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const o=p(t,["predictions[]","embeddings"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(u=>pG(u))),g(e,["embeddings"],a)}const r=p(t,["metadata"]);return r!=null&&g(e,["metadata"],r),e}function LG(t){const e={},n=p(t,["endpoint"]);n!=null&&g(e,["name"],n);const o=p(t,["deployedModelId"]);return o!=null&&g(e,["deployedModelId"],o),e}function UG(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=p(t,["fileUri"]);n!=null&&g(e,["fileUri"],n);const o=p(t,["mimeType"]);return o!=null&&g(e,["mimeType"],o),e}function BG(t){const e={},n=p(t,["id"]);n!=null&&g(e,["id"],n);const o=p(t,["args"]);o!=null&&g(e,["args"],o);const r=p(t,["name"]);if(r!=null&&g(e,["name"],r),p(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(p(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function HG(t){const e={},n=p(t,["mode"]);n!=null&&g(e,["mode"],n);const o=p(t,["allowedFunctionNames"]);if(o!=null&&g(e,["allowedFunctionNames"],o),p(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function FG(t){const e={};if(p(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=p(t,["description"]);n!=null&&g(e,["description"],n);const o=p(t,["name"]);o!=null&&g(e,["name"],o);const r=p(t,["parameters"]);r!=null&&g(e,["parameters"],r);const a=p(t,["parametersJsonSchema"]);a!=null&&g(e,["parametersJsonSchema"],a);const u=p(t,["response"]);u!=null&&g(e,["response"],u);const c=p(t,["responseJsonSchema"]);return c!=null&&g(e,["responseJsonSchema"],c),e}function $G(t,e,n){const o={},r=p(e,["systemInstruction"]);n!==void 0&&r!=null&&g(n,["systemInstruction"],rh(Lt(r)));const a=p(e,["temperature"]);a!=null&&g(o,["temperature"],a);const u=p(e,["topP"]);u!=null&&g(o,["topP"],u);const c=p(e,["topK"]);c!=null&&g(o,["topK"],c);const h=p(e,["candidateCount"]);h!=null&&g(o,["candidateCount"],h);const d=p(e,["maxOutputTokens"]);d!=null&&g(o,["maxOutputTokens"],d);const m=p(e,["stopSequences"]);m!=null&&g(o,["stopSequences"],m);const y=p(e,["responseLogprobs"]);y!=null&&g(o,["responseLogprobs"],y);const S=p(e,["logprobs"]);S!=null&&g(o,["logprobs"],S);const E=p(e,["presencePenalty"]);E!=null&&g(o,["presencePenalty"],E);const C=p(e,["frequencyPenalty"]);C!=null&&g(o,["frequencyPenalty"],C);const A=p(e,["seed"]);A!=null&&g(o,["seed"],A);const x=p(e,["responseMimeType"]);x!=null&&g(o,["responseMimeType"],x);const M=p(e,["responseSchema"]);M!=null&&g(o,["responseSchema"],Iy(M));const I=p(e,["responseJsonSchema"]);if(I!=null&&g(o,["responseJsonSchema"],I),p(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(p(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const N=p(e,["safetySettings"]);if(n!==void 0&&N!=null){let oe=N;Array.isArray(oe)&&(oe=oe.map(ae=>IV(ae))),g(n,["safetySettings"],oe)}const D=p(e,["tools"]);if(n!==void 0&&D!=null){let oe=Ca(D);Array.isArray(oe)&&(oe=oe.map(ae=>BV(Ta(ae)))),g(n,["tools"],oe)}const L=p(e,["toolConfig"]);if(n!==void 0&&L!=null&&g(n,["toolConfig"],UV(L)),p(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const U=p(e,["cachedContent"]);n!==void 0&&U!=null&&g(n,["cachedContent"],vi(t,U));const O=p(e,["responseModalities"]);O!=null&&g(o,["responseModalities"],O);const q=p(e,["mediaResolution"]);q!=null&&g(o,["mediaResolution"],q);const J=p(e,["speechConfig"]);if(J!=null&&g(o,["speechConfig"],Dy(J)),p(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const X=p(e,["thinkingConfig"]);X!=null&&g(o,["thinkingConfig"],X);const W=p(e,["imageConfig"]);W!=null&&g(o,["imageConfig"],pV(W));const re=p(e,["enableEnhancedCivicAnswers"]);return re!=null&&g(o,["enableEnhancedCivicAnswers"],re),o}function GG(t,e,n){const o={},r=p(e,["systemInstruction"]);n!==void 0&&r!=null&&g(n,["systemInstruction"],Lt(r));const a=p(e,["temperature"]);a!=null&&g(o,["temperature"],a);const u=p(e,["topP"]);u!=null&&g(o,["topP"],u);const c=p(e,["topK"]);c!=null&&g(o,["topK"],c);const h=p(e,["candidateCount"]);h!=null&&g(o,["candidateCount"],h);const d=p(e,["maxOutputTokens"]);d!=null&&g(o,["maxOutputTokens"],d);const m=p(e,["stopSequences"]);m!=null&&g(o,["stopSequences"],m);const y=p(e,["responseLogprobs"]);y!=null&&g(o,["responseLogprobs"],y);const S=p(e,["logprobs"]);S!=null&&g(o,["logprobs"],S);const E=p(e,["presencePenalty"]);E!=null&&g(o,["presencePenalty"],E);const C=p(e,["frequencyPenalty"]);C!=null&&g(o,["frequencyPenalty"],C);const A=p(e,["seed"]);A!=null&&g(o,["seed"],A);const x=p(e,["responseMimeType"]);x!=null&&g(o,["responseMimeType"],x);const M=p(e,["responseSchema"]);M!=null&&g(o,["responseSchema"],Iy(M));const I=p(e,["responseJsonSchema"]);I!=null&&g(o,["responseJsonSchema"],I);const N=p(e,["routingConfig"]);N!=null&&g(o,["routingConfig"],N);const D=p(e,["modelSelectionConfig"]);D!=null&&g(o,["modelConfig"],D);const L=p(e,["safetySettings"]);if(n!==void 0&&L!=null){let H=L;Array.isArray(H)&&(H=H.map(Q=>Q)),g(n,["safetySettings"],H)}const U=p(e,["tools"]);if(n!==void 0&&U!=null){let H=Ca(U);Array.isArray(H)&&(H=H.map(Q=>gM(Ta(Q)))),g(n,["tools"],H)}const O=p(e,["toolConfig"]);n!==void 0&&O!=null&&g(n,["toolConfig"],O);const q=p(e,["labels"]);n!==void 0&&q!=null&&g(n,["labels"],q);const J=p(e,["cachedContent"]);n!==void 0&&J!=null&&g(n,["cachedContent"],vi(t,J));const X=p(e,["responseModalities"]);X!=null&&g(o,["responseModalities"],X);const W=p(e,["mediaResolution"]);W!=null&&g(o,["mediaResolution"],W);const re=p(e,["speechConfig"]);re!=null&&g(o,["speechConfig"],mM(Dy(re)));const oe=p(e,["audioTimestamp"]);oe!=null&&g(o,["audioTimestamp"],oe);const ae=p(e,["thinkingConfig"]);ae!=null&&g(o,["thinkingConfig"],ae);const de=p(e,["imageConfig"]);if(de!=null&&g(o,["imageConfig"],mV(de)),p(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return o}function XT(t,e){const n={},o=p(e,["model"]);o!=null&&g(n,["_url","model"],Ve(t,o));const r=p(e,["contents"]);if(r!=null){let u=Hn(r);Array.isArray(u)&&(u=u.map(c=>rh(c))),g(n,["contents"],u)}const a=p(e,["config"]);return a!=null&&g(n,["generationConfig"],$G(t,a,n)),n}function jT(t,e){const n={},o=p(e,["model"]);o!=null&&g(n,["_url","model"],Ve(t,o));const r=p(e,["contents"]);if(r!=null){let u=Hn(r);Array.isArray(u)&&(u=u.map(c=>c)),g(n,["contents"],u)}const a=p(e,["config"]);return a!=null&&g(n,["generationConfig"],GG(t,a,n)),n}function WT(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const o=p(t,["candidates"]);if(o!=null){let h=o;Array.isArray(h)&&(h=h.map(d=>cG(d))),g(e,["candidates"],h)}const r=p(t,["modelVersion"]);r!=null&&g(e,["modelVersion"],r);const a=p(t,["promptFeedback"]);a!=null&&g(e,["promptFeedback"],a);const u=p(t,["responseId"]);u!=null&&g(e,["responseId"],u);const c=p(t,["usageMetadata"]);return c!=null&&g(e,["usageMetadata"],c),e}function QT(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const o=p(t,["candidates"]);if(o!=null){let d=o;Array.isArray(d)&&(d=d.map(m=>m)),g(e,["candidates"],d)}const r=p(t,["createTime"]);r!=null&&g(e,["createTime"],r);const a=p(t,["modelVersion"]);a!=null&&g(e,["modelVersion"],a);const u=p(t,["promptFeedback"]);u!=null&&g(e,["promptFeedback"],u);const c=p(t,["responseId"]);c!=null&&g(e,["responseId"],c);const h=p(t,["usageMetadata"]);return h!=null&&g(e,["usageMetadata"],h),e}function VG(t,e){const n={};if(p(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(p(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const o=p(t,["numberOfImages"]);e!==void 0&&o!=null&&g(e,["parameters","sampleCount"],o);const r=p(t,["aspectRatio"]);e!==void 0&&r!=null&&g(e,["parameters","aspectRatio"],r);const a=p(t,["guidanceScale"]);if(e!==void 0&&a!=null&&g(e,["parameters","guidanceScale"],a),p(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const u=p(t,["safetyFilterLevel"]);e!==void 0&&u!=null&&g(e,["parameters","safetySetting"],u);const c=p(t,["personGeneration"]);e!==void 0&&c!=null&&g(e,["parameters","personGeneration"],c);const h=p(t,["includeSafetyAttributes"]);e!==void 0&&h!=null&&g(e,["parameters","includeSafetyAttributes"],h);const d=p(t,["includeRaiReason"]);e!==void 0&&d!=null&&g(e,["parameters","includeRaiReason"],d);const m=p(t,["language"]);e!==void 0&&m!=null&&g(e,["parameters","language"],m);const y=p(t,["outputMimeType"]);e!==void 0&&y!=null&&g(e,["parameters","outputOptions","mimeType"],y);const S=p(t,["outputCompressionQuality"]);if(e!==void 0&&S!=null&&g(e,["parameters","outputOptions","compressionQuality"],S),p(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(p(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const E=p(t,["imageSize"]);if(e!==void 0&&E!=null&&g(e,["parameters","sampleImageSize"],E),p(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function zG(t,e){const n={},o=p(t,["outputGcsUri"]);e!==void 0&&o!=null&&g(e,["parameters","storageUri"],o);const r=p(t,["negativePrompt"]);e!==void 0&&r!=null&&g(e,["parameters","negativePrompt"],r);const a=p(t,["numberOfImages"]);e!==void 0&&a!=null&&g(e,["parameters","sampleCount"],a);const u=p(t,["aspectRatio"]);e!==void 0&&u!=null&&g(e,["parameters","aspectRatio"],u);const c=p(t,["guidanceScale"]);e!==void 0&&c!=null&&g(e,["parameters","guidanceScale"],c);const h=p(t,["seed"]);e!==void 0&&h!=null&&g(e,["parameters","seed"],h);const d=p(t,["safetyFilterLevel"]);e!==void 0&&d!=null&&g(e,["parameters","safetySetting"],d);const m=p(t,["personGeneration"]);e!==void 0&&m!=null&&g(e,["parameters","personGeneration"],m);const y=p(t,["includeSafetyAttributes"]);e!==void 0&&y!=null&&g(e,["parameters","includeSafetyAttributes"],y);const S=p(t,["includeRaiReason"]);e!==void 0&&S!=null&&g(e,["parameters","includeRaiReason"],S);const E=p(t,["language"]);e!==void 0&&E!=null&&g(e,["parameters","language"],E);const C=p(t,["outputMimeType"]);e!==void 0&&C!=null&&g(e,["parameters","outputOptions","mimeType"],C);const A=p(t,["outputCompressionQuality"]);e!==void 0&&A!=null&&g(e,["parameters","outputOptions","compressionQuality"],A);const x=p(t,["addWatermark"]);e!==void 0&&x!=null&&g(e,["parameters","addWatermark"],x);const M=p(t,["labels"]);e!==void 0&&M!=null&&g(e,["labels"],M);const I=p(t,["imageSize"]);e!==void 0&&I!=null&&g(e,["parameters","sampleImageSize"],I);const N=p(t,["enhancePrompt"]);return e!==void 0&&N!=null&&g(e,["parameters","enhancePrompt"],N),n}function qG(t,e){const n={},o=p(e,["model"]);o!=null&&g(n,["_url","model"],Ve(t,o));const r=p(e,["prompt"]);r!=null&&g(n,["instances[0]","prompt"],r);const a=p(e,["config"]);return a!=null&&VG(a,n),n}function JG(t,e){const n={},o=p(e,["model"]);o!=null&&g(n,["_url","model"],Ve(t,o));const r=p(e,["prompt"]);r!=null&&g(n,["instances[0]","prompt"],r);const a=p(e,["config"]);return a!=null&&zG(a,n),n}function KG(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const o=p(t,["predictions"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(u=>rV(u))),g(e,["generatedImages"],a)}const r=p(t,["positivePromptSafetyAttributes"]);return r!=null&&g(e,["positivePromptSafetyAttributes"],hM(r)),e}function YG(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const o=p(t,["predictions"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(u=>sh(u))),g(e,["generatedImages"],a)}const r=p(t,["positivePromptSafetyAttributes"]);return r!=null&&g(e,["positivePromptSafetyAttributes"],pM(r)),e}function XG(t,e){const n={},o=p(t,["numberOfVideos"]);if(e!==void 0&&o!=null&&g(e,["parameters","sampleCount"],o),p(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(p(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const r=p(t,["durationSeconds"]);if(e!==void 0&&r!=null&&g(e,["parameters","durationSeconds"],r),p(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const a=p(t,["aspectRatio"]);e!==void 0&&a!=null&&g(e,["parameters","aspectRatio"],a);const u=p(t,["resolution"]);e!==void 0&&u!=null&&g(e,["parameters","resolution"],u);const c=p(t,["personGeneration"]);if(e!==void 0&&c!=null&&g(e,["parameters","personGeneration"],c),p(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const h=p(t,["negativePrompt"]);e!==void 0&&h!=null&&g(e,["parameters","negativePrompt"],h);const d=p(t,["enhancePrompt"]);if(e!==void 0&&d!=null&&g(e,["parameters","enhancePrompt"],d),p(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const m=p(t,["lastFrame"]);e!==void 0&&m!=null&&g(e,["instances[0]","lastFrame"],ah(m));const y=p(t,["referenceImages"]);if(e!==void 0&&y!=null){let S=y;Array.isArray(S)&&(S=S.map(E=>WV(E))),g(e,["instances[0]","referenceImages"],S)}if(p(t,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(p(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function jG(t,e){const n={},o=p(t,["numberOfVideos"]);e!==void 0&&o!=null&&g(e,["parameters","sampleCount"],o);const r=p(t,["outputGcsUri"]);e!==void 0&&r!=null&&g(e,["parameters","storageUri"],r);const a=p(t,["fps"]);e!==void 0&&a!=null&&g(e,["parameters","fps"],a);const u=p(t,["durationSeconds"]);e!==void 0&&u!=null&&g(e,["parameters","durationSeconds"],u);const c=p(t,["seed"]);e!==void 0&&c!=null&&g(e,["parameters","seed"],c);const h=p(t,["aspectRatio"]);e!==void 0&&h!=null&&g(e,["parameters","aspectRatio"],h);const d=p(t,["resolution"]);e!==void 0&&d!=null&&g(e,["parameters","resolution"],d);const m=p(t,["personGeneration"]);e!==void 0&&m!=null&&g(e,["parameters","personGeneration"],m);const y=p(t,["pubsubTopic"]);e!==void 0&&y!=null&&g(e,["parameters","pubsubTopic"],y);const S=p(t,["negativePrompt"]);e!==void 0&&S!=null&&g(e,["parameters","negativePrompt"],S);const E=p(t,["enhancePrompt"]);e!==void 0&&E!=null&&g(e,["parameters","enhancePrompt"],E);const C=p(t,["generateAudio"]);e!==void 0&&C!=null&&g(e,["parameters","generateAudio"],C);const A=p(t,["lastFrame"]);e!==void 0&&A!=null&&g(e,["instances[0]","lastFrame"],co(A));const x=p(t,["referenceImages"]);if(e!==void 0&&x!=null){let N=x;Array.isArray(N)&&(N=N.map(D=>QV(D))),g(e,["instances[0]","referenceImages"],N)}const M=p(t,["mask"]);e!==void 0&&M!=null&&g(e,["instances[0]","mask"],jV(M));const I=p(t,["compressionQuality"]);return e!==void 0&&I!=null&&g(e,["parameters","compressionQuality"],I),n}function WG(t){const e={},n=p(t,["name"]);n!=null&&g(e,["name"],n);const o=p(t,["metadata"]);o!=null&&g(e,["metadata"],o);const r=p(t,["done"]);r!=null&&g(e,["done"],r);const a=p(t,["error"]);a!=null&&g(e,["error"],a);const u=p(t,["response","generateVideoResponse"]);return u!=null&&g(e,["response"],tV(u)),e}function QG(t){const e={},n=p(t,["name"]);n!=null&&g(e,["name"],n);const o=p(t,["metadata"]);o!=null&&g(e,["metadata"],o);const r=p(t,["done"]);r!=null&&g(e,["done"],r);const a=p(t,["error"]);a!=null&&g(e,["error"],a);const u=p(t,["response"]);return u!=null&&g(e,["response"],nV(u)),e}function ZG(t,e){const n={},o=p(e,["model"]);o!=null&&g(n,["_url","model"],Ve(t,o));const r=p(e,["prompt"]);r!=null&&g(n,["instances[0]","prompt"],r);const a=p(e,["image"]);a!=null&&g(n,["instances[0]","image"],ah(a));const u=p(e,["video"]);u!=null&&g(n,["instances[0]","video"],vM(u));const c=p(e,["source"]);c!=null&&oV(c,n);const h=p(e,["config"]);return h!=null&&XG(h,n),n}function eV(t,e){const n={},o=p(e,["model"]);o!=null&&g(n,["_url","model"],Ve(t,o));const r=p(e,["prompt"]);r!=null&&g(n,["instances[0]","prompt"],r);const a=p(e,["image"]);a!=null&&g(n,["instances[0]","image"],co(a));const u=p(e,["video"]);u!=null&&g(n,["instances[0]","video"],yM(u));const c=p(e,["source"]);c!=null&&iV(c,n);const h=p(e,["config"]);return h!=null&&jG(h,n),n}function tV(t){const e={},n=p(t,["generatedSamples"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(u=>aV(u))),g(e,["generatedVideos"],a)}const o=p(t,["raiMediaFilteredCount"]);o!=null&&g(e,["raiMediaFilteredCount"],o);const r=p(t,["raiMediaFilteredReasons"]);return r!=null&&g(e,["raiMediaFilteredReasons"],r),e}function nV(t){const e={},n=p(t,["videos"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(u=>lV(u))),g(e,["generatedVideos"],a)}const o=p(t,["raiMediaFilteredCount"]);o!=null&&g(e,["raiMediaFilteredCount"],o);const r=p(t,["raiMediaFilteredReasons"]);return r!=null&&g(e,["raiMediaFilteredReasons"],r),e}function oV(t,e){const n={},o=p(t,["prompt"]);e!==void 0&&o!=null&&g(e,["instances[0]","prompt"],o);const r=p(t,["image"]);e!==void 0&&r!=null&&g(e,["instances[0]","image"],ah(r));const a=p(t,["video"]);return e!==void 0&&a!=null&&g(e,["instances[0]","video"],vM(a)),n}function iV(t,e){const n={},o=p(t,["prompt"]);e!==void 0&&o!=null&&g(e,["instances[0]","prompt"],o);const r=p(t,["image"]);e!==void 0&&r!=null&&g(e,["instances[0]","image"],co(r));const a=p(t,["video"]);return e!==void 0&&a!=null&&g(e,["instances[0]","video"],yM(a)),n}function rV(t){const e={},n=p(t,["_self"]);n!=null&&g(e,["image"],gV(n));const o=p(t,["raiFilteredReason"]);o!=null&&g(e,["raiFilteredReason"],o);const r=p(t,["_self"]);return r!=null&&g(e,["safetyAttributes"],hM(r)),e}function sh(t){const e={},n=p(t,["_self"]);n!=null&&g(e,["image"],dM(n));const o=p(t,["raiFilteredReason"]);o!=null&&g(e,["raiFilteredReason"],o);const r=p(t,["_self"]);r!=null&&g(e,["safetyAttributes"],pM(r));const a=p(t,["prompt"]);return a!=null&&g(e,["enhancedPrompt"],a),e}function sV(t){const e={},n=p(t,["_self"]);n!=null&&g(e,["mask"],dM(n));const o=p(t,["labels"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(a=>a)),g(e,["labels"],r)}return e}function aV(t){const e={},n=p(t,["video"]);return n!=null&&g(e,["video"],YV(n)),e}function lV(t){const e={},n=p(t,["_self"]);return n!=null&&g(e,["video"],XV(n)),e}function uV(t){const e={},n=p(t,["modelSelectionConfig"]);n!=null&&g(e,["modelConfig"],n);const o=p(t,["responseJsonSchema"]);o!=null&&g(e,["responseJsonSchema"],o);const r=p(t,["audioTimestamp"]);r!=null&&g(e,["audioTimestamp"],r);const a=p(t,["candidateCount"]);a!=null&&g(e,["candidateCount"],a);const u=p(t,["enableAffectiveDialog"]);u!=null&&g(e,["enableAffectiveDialog"],u);const c=p(t,["frequencyPenalty"]);c!=null&&g(e,["frequencyPenalty"],c);const h=p(t,["logprobs"]);h!=null&&g(e,["logprobs"],h);const d=p(t,["maxOutputTokens"]);d!=null&&g(e,["maxOutputTokens"],d);const m=p(t,["mediaResolution"]);m!=null&&g(e,["mediaResolution"],m);const y=p(t,["presencePenalty"]);y!=null&&g(e,["presencePenalty"],y);const S=p(t,["responseLogprobs"]);S!=null&&g(e,["responseLogprobs"],S);const E=p(t,["responseMimeType"]);E!=null&&g(e,["responseMimeType"],E);const C=p(t,["responseModalities"]);C!=null&&g(e,["responseModalities"],C);const A=p(t,["responseSchema"]);A!=null&&g(e,["responseSchema"],A);const x=p(t,["routingConfig"]);x!=null&&g(e,["routingConfig"],x);const M=p(t,["seed"]);M!=null&&g(e,["seed"],M);const I=p(t,["speechConfig"]);I!=null&&g(e,["speechConfig"],mM(I));const N=p(t,["stopSequences"]);N!=null&&g(e,["stopSequences"],N);const D=p(t,["temperature"]);D!=null&&g(e,["temperature"],D);const L=p(t,["thinkingConfig"]);L!=null&&g(e,["thinkingConfig"],L);const U=p(t,["topK"]);U!=null&&g(e,["topK"],U);const O=p(t,["topP"]);if(O!=null&&g(e,["topP"],O),p(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function cV(t,e){const n={},o=p(e,["model"]);return o!=null&&g(n,["_url","name"],Ve(t,o)),n}function fV(t,e){const n={},o=p(e,["model"]);return o!=null&&g(n,["_url","name"],Ve(t,o)),n}function dV(t){const e={};if(p(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=p(t,["enableWidget"]);return n!=null&&g(e,["enableWidget"],n),e}function hV(t){const e={};if(p(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(p(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=p(t,["timeRangeFilter"]);return n!=null&&g(e,["timeRangeFilter"],n),e}function pV(t){const e={},n=p(t,["aspectRatio"]);n!=null&&g(e,["aspectRatio"],n);const o=p(t,["imageSize"]);if(o!=null&&g(e,["imageSize"],o),p(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(p(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function mV(t){const e={},n=p(t,["aspectRatio"]);n!=null&&g(e,["aspectRatio"],n);const o=p(t,["imageSize"]);o!=null&&g(e,["imageSize"],o);const r=p(t,["outputMimeType"]);r!=null&&g(e,["imageOutputOptions","mimeType"],r);const a=p(t,["outputCompressionQuality"]);return a!=null&&g(e,["imageOutputOptions","compressionQuality"],a),e}function gV(t){const e={},n=p(t,["bytesBase64Encoded"]);n!=null&&g(e,["imageBytes"],lr(n));const o=p(t,["mimeType"]);return o!=null&&g(e,["mimeType"],o),e}function dM(t){const e={},n=p(t,["gcsUri"]);n!=null&&g(e,["gcsUri"],n);const o=p(t,["bytesBase64Encoded"]);o!=null&&g(e,["imageBytes"],lr(o));const r=p(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function ah(t){const e={};if(p(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=p(t,["imageBytes"]);n!=null&&g(e,["bytesBase64Encoded"],lr(n));const o=p(t,["mimeType"]);return o!=null&&g(e,["mimeType"],o),e}function co(t){const e={},n=p(t,["gcsUri"]);n!=null&&g(e,["gcsUri"],n);const o=p(t,["imageBytes"]);o!=null&&g(e,["bytesBase64Encoded"],lr(o));const r=p(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function vV(t,e,n){const o={},r=p(e,["pageSize"]);n!==void 0&&r!=null&&g(n,["_query","pageSize"],r);const a=p(e,["pageToken"]);n!==void 0&&a!=null&&g(n,["_query","pageToken"],a);const u=p(e,["filter"]);n!==void 0&&u!=null&&g(n,["_query","filter"],u);const c=p(e,["queryBase"]);return n!==void 0&&c!=null&&g(n,["_url","models_url"],iM(t,c)),o}function yV(t,e,n){const o={},r=p(e,["pageSize"]);n!==void 0&&r!=null&&g(n,["_query","pageSize"],r);const a=p(e,["pageToken"]);n!==void 0&&a!=null&&g(n,["_query","pageToken"],a);const u=p(e,["filter"]);n!==void 0&&u!=null&&g(n,["_query","filter"],u);const c=p(e,["queryBase"]);return n!==void 0&&c!=null&&g(n,["_url","models_url"],iM(t,c)),o}function _V(t,e){const n={},o=p(e,["config"]);return o!=null&&vV(t,o,n),n}function SV(t,e){const n={},o=p(e,["config"]);return o!=null&&yV(t,o,n),n}function EV(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const o=p(t,["nextPageToken"]);o!=null&&g(e,["nextPageToken"],o);const r=p(t,["_self"]);if(r!=null){let a=rM(r);Array.isArray(a)&&(a=a.map(u=>pv(u))),g(e,["models"],a)}return e}function bV(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const o=p(t,["nextPageToken"]);o!=null&&g(e,["nextPageToken"],o);const r=p(t,["_self"]);if(r!=null){let a=rM(r);Array.isArray(a)&&(a=a.map(u=>mv(u))),g(e,["models"],a)}return e}function wV(t){const e={},n=p(t,["maskMode"]);n!=null&&g(e,["maskMode"],n);const o=p(t,["segmentationClasses"]);o!=null&&g(e,["maskClasses"],o);const r=p(t,["maskDilation"]);return r!=null&&g(e,["dilation"],r),e}function pv(t){const e={},n=p(t,["name"]);n!=null&&g(e,["name"],n);const o=p(t,["displayName"]);o!=null&&g(e,["displayName"],o);const r=p(t,["description"]);r!=null&&g(e,["description"],r);const a=p(t,["version"]);a!=null&&g(e,["version"],a);const u=p(t,["_self"]);u!=null&&g(e,["tunedModelInfo"],HV(u));const c=p(t,["inputTokenLimit"]);c!=null&&g(e,["inputTokenLimit"],c);const h=p(t,["outputTokenLimit"]);h!=null&&g(e,["outputTokenLimit"],h);const d=p(t,["supportedGenerationMethods"]);d!=null&&g(e,["supportedActions"],d);const m=p(t,["temperature"]);m!=null&&g(e,["temperature"],m);const y=p(t,["maxTemperature"]);y!=null&&g(e,["maxTemperature"],y);const S=p(t,["topP"]);S!=null&&g(e,["topP"],S);const E=p(t,["topK"]);E!=null&&g(e,["topK"],E);const C=p(t,["thinking"]);return C!=null&&g(e,["thinking"],C),e}function mv(t){const e={},n=p(t,["name"]);n!=null&&g(e,["name"],n);const o=p(t,["displayName"]);o!=null&&g(e,["displayName"],o);const r=p(t,["description"]);r!=null&&g(e,["description"],r);const a=p(t,["versionId"]);a!=null&&g(e,["version"],a);const u=p(t,["deployedModels"]);if(u!=null){let y=u;Array.isArray(y)&&(y=y.map(S=>LG(S))),g(e,["endpoints"],y)}const c=p(t,["labels"]);c!=null&&g(e,["labels"],c);const h=p(t,["_self"]);h!=null&&g(e,["tunedModelInfo"],FV(h));const d=p(t,["defaultCheckpointId"]);d!=null&&g(e,["defaultCheckpointId"],d);const m=p(t,["checkpoints"]);if(m!=null){let y=m;Array.isArray(y)&&(y=y.map(S=>S)),g(e,["checkpoints"],y)}return e}function TV(t){const e={},n=p(t,["mediaResolution"]);n!=null&&g(e,["mediaResolution"],n);const o=p(t,["codeExecutionResult"]);o!=null&&g(e,["codeExecutionResult"],o);const r=p(t,["executableCode"]);r!=null&&g(e,["executableCode"],r);const a=p(t,["fileData"]);a!=null&&g(e,["fileData"],UG(a));const u=p(t,["functionCall"]);u!=null&&g(e,["functionCall"],BG(u));const c=p(t,["functionResponse"]);c!=null&&g(e,["functionResponse"],c);const h=p(t,["inlineData"]);h!=null&&g(e,["inlineData"],uG(h));const d=p(t,["text"]);d!=null&&g(e,["text"],d);const m=p(t,["thought"]);m!=null&&g(e,["thought"],m);const y=p(t,["thoughtSignature"]);y!=null&&g(e,["thoughtSignature"],y);const S=p(t,["videoMetadata"]);return S!=null&&g(e,["videoMetadata"],S),e}function CV(t){const e={},n=p(t,["productImage"]);return n!=null&&g(e,["image"],co(n)),e}function AV(t,e){const n={},o=p(t,["numberOfImages"]);e!==void 0&&o!=null&&g(e,["parameters","sampleCount"],o);const r=p(t,["baseSteps"]);e!==void 0&&r!=null&&g(e,["parameters","baseSteps"],r);const a=p(t,["outputGcsUri"]);e!==void 0&&a!=null&&g(e,["parameters","storageUri"],a);const u=p(t,["seed"]);e!==void 0&&u!=null&&g(e,["parameters","seed"],u);const c=p(t,["safetyFilterLevel"]);e!==void 0&&c!=null&&g(e,["parameters","safetySetting"],c);const h=p(t,["personGeneration"]);e!==void 0&&h!=null&&g(e,["parameters","personGeneration"],h);const d=p(t,["addWatermark"]);e!==void 0&&d!=null&&g(e,["parameters","addWatermark"],d);const m=p(t,["outputMimeType"]);e!==void 0&&m!=null&&g(e,["parameters","outputOptions","mimeType"],m);const y=p(t,["outputCompressionQuality"]);e!==void 0&&y!=null&&g(e,["parameters","outputOptions","compressionQuality"],y);const S=p(t,["enhancePrompt"]);e!==void 0&&S!=null&&g(e,["parameters","enhancePrompt"],S);const E=p(t,["labels"]);return e!==void 0&&E!=null&&g(e,["labels"],E),n}function xV(t,e){const n={},o=p(e,["model"]);o!=null&&g(n,["_url","model"],Ve(t,o));const r=p(e,["source"]);r!=null&&MV(r,n);const a=p(e,["config"]);return a!=null&&AV(a,n),n}function RV(t){const e={},n=p(t,["predictions"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(r=>sh(r))),g(e,["generatedImages"],o)}return e}function MV(t,e){const n={},o=p(t,["prompt"]);e!==void 0&&o!=null&&g(e,["instances[0]","prompt"],o);const r=p(t,["personImage"]);e!==void 0&&r!=null&&g(e,["instances[0]","personImage","image"],co(r));const a=p(t,["productImages"]);if(e!==void 0&&a!=null){let u=a;Array.isArray(u)&&(u=u.map(c=>CV(c))),g(e,["instances[0]","productImages"],u)}return n}function NV(t){const e={},n=p(t,["referenceImage"]);n!=null&&g(e,["referenceImage"],co(n));const o=p(t,["referenceId"]);o!=null&&g(e,["referenceId"],o);const r=p(t,["referenceType"]);r!=null&&g(e,["referenceType"],r);const a=p(t,["maskImageConfig"]);a!=null&&g(e,["maskImageConfig"],wV(a));const u=p(t,["controlImageConfig"]);u!=null&&g(e,["controlImageConfig"],gG(u));const c=p(t,["styleImageConfig"]);c!=null&&g(e,["styleImageConfig"],c);const h=p(t,["subjectImageConfig"]);return h!=null&&g(e,["subjectImageConfig"],h),e}function hM(t){const e={},n=p(t,["safetyAttributes","categories"]);n!=null&&g(e,["categories"],n);const o=p(t,["safetyAttributes","scores"]);o!=null&&g(e,["scores"],o);const r=p(t,["contentType"]);return r!=null&&g(e,["contentType"],r),e}function pM(t){const e={},n=p(t,["safetyAttributes","categories"]);n!=null&&g(e,["categories"],n);const o=p(t,["safetyAttributes","scores"]);o!=null&&g(e,["scores"],o);const r=p(t,["contentType"]);return r!=null&&g(e,["contentType"],r),e}function IV(t){const e={},n=p(t,["category"]);if(n!=null&&g(e,["category"],n),p(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const o=p(t,["threshold"]);return o!=null&&g(e,["threshold"],o),e}function DV(t){const e={},n=p(t,["image"]);return n!=null&&g(e,["image"],co(n)),e}function OV(t,e){const n={},o=p(t,["mode"]);e!==void 0&&o!=null&&g(e,["parameters","mode"],o);const r=p(t,["maxPredictions"]);e!==void 0&&r!=null&&g(e,["parameters","maxPredictions"],r);const a=p(t,["confidenceThreshold"]);e!==void 0&&a!=null&&g(e,["parameters","confidenceThreshold"],a);const u=p(t,["maskDilation"]);e!==void 0&&u!=null&&g(e,["parameters","maskDilation"],u);const c=p(t,["binaryColorThreshold"]);e!==void 0&&c!=null&&g(e,["parameters","binaryColorThreshold"],c);const h=p(t,["labels"]);return e!==void 0&&h!=null&&g(e,["labels"],h),n}function PV(t,e){const n={},o=p(e,["model"]);o!=null&&g(n,["_url","model"],Ve(t,o));const r=p(e,["source"]);r!=null&&LV(r,n);const a=p(e,["config"]);return a!=null&&OV(a,n),n}function kV(t){const e={},n=p(t,["predictions"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(r=>sV(r))),g(e,["generatedMasks"],o)}return e}function LV(t,e){const n={},o=p(t,["prompt"]);e!==void 0&&o!=null&&g(e,["instances[0]","prompt"],o);const r=p(t,["image"]);e!==void 0&&r!=null&&g(e,["instances[0]","image"],co(r));const a=p(t,["scribbleImage"]);return e!==void 0&&a!=null&&g(e,["instances[0]","scribble"],DV(a)),n}function mM(t){const e={},n=p(t,["voiceConfig"]);n!=null&&g(e,["voiceConfig"],n);const o=p(t,["languageCode"]);if(o!=null&&g(e,["languageCode"],o),p(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return e}function UV(t){const e={},n=p(t,["functionCallingConfig"]);n!=null&&g(e,["functionCallingConfig"],HG(n));const o=p(t,["retrievalConfig"]);return o!=null&&g(e,["retrievalConfig"],o),e}function BV(t){const e={},n=p(t,["functionDeclarations"]);if(n!=null){let m=n;Array.isArray(m)&&(m=m.map(y=>y)),g(e,["functionDeclarations"],m)}if(p(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=p(t,["googleSearchRetrieval"]);o!=null&&g(e,["googleSearchRetrieval"],o);const r=p(t,["computerUse"]);r!=null&&g(e,["computerUse"],r);const a=p(t,["fileSearch"]);a!=null&&g(e,["fileSearch"],a);const u=p(t,["codeExecution"]);if(u!=null&&g(e,["codeExecution"],u),p(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const c=p(t,["googleMaps"]);c!=null&&g(e,["googleMaps"],dV(c));const h=p(t,["googleSearch"]);h!=null&&g(e,["googleSearch"],hV(h));const d=p(t,["urlContext"]);return d!=null&&g(e,["urlContext"],d),e}function gM(t){const e={},n=p(t,["functionDeclarations"]);if(n!=null){let y=n;Array.isArray(y)&&(y=y.map(S=>FG(S))),g(e,["functionDeclarations"],y)}const o=p(t,["retrieval"]);o!=null&&g(e,["retrieval"],o);const r=p(t,["googleSearchRetrieval"]);r!=null&&g(e,["googleSearchRetrieval"],r);const a=p(t,["computerUse"]);if(a!=null&&g(e,["computerUse"],a),p(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const u=p(t,["codeExecution"]);u!=null&&g(e,["codeExecution"],u);const c=p(t,["enterpriseWebSearch"]);c!=null&&g(e,["enterpriseWebSearch"],c);const h=p(t,["googleMaps"]);h!=null&&g(e,["googleMaps"],h);const d=p(t,["googleSearch"]);d!=null&&g(e,["googleSearch"],d);const m=p(t,["urlContext"]);return m!=null&&g(e,["urlContext"],m),e}function HV(t){const e={},n=p(t,["baseModel"]);n!=null&&g(e,["baseModel"],n);const o=p(t,["createTime"]);o!=null&&g(e,["createTime"],o);const r=p(t,["updateTime"]);return r!=null&&g(e,["updateTime"],r),e}function FV(t){const e={},n=p(t,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&g(e,["baseModel"],n);const o=p(t,["createTime"]);o!=null&&g(e,["createTime"],o);const r=p(t,["updateTime"]);return r!=null&&g(e,["updateTime"],r),e}function $V(t,e){const n={},o=p(t,["displayName"]);e!==void 0&&o!=null&&g(e,["displayName"],o);const r=p(t,["description"]);e!==void 0&&r!=null&&g(e,["description"],r);const a=p(t,["defaultCheckpointId"]);return e!==void 0&&a!=null&&g(e,["defaultCheckpointId"],a),n}function GV(t,e){const n={},o=p(t,["displayName"]);e!==void 0&&o!=null&&g(e,["displayName"],o);const r=p(t,["description"]);e!==void 0&&r!=null&&g(e,["description"],r);const a=p(t,["defaultCheckpointId"]);return e!==void 0&&a!=null&&g(e,["defaultCheckpointId"],a),n}function VV(t,e){const n={},o=p(e,["model"]);o!=null&&g(n,["_url","name"],Ve(t,o));const r=p(e,["config"]);return r!=null&&$V(r,n),n}function zV(t,e){const n={},o=p(e,["model"]);o!=null&&g(n,["_url","model"],Ve(t,o));const r=p(e,["config"]);return r!=null&&GV(r,n),n}function qV(t,e){const n={},o=p(t,["outputGcsUri"]);e!==void 0&&o!=null&&g(e,["parameters","storageUri"],o);const r=p(t,["safetyFilterLevel"]);e!==void 0&&r!=null&&g(e,["parameters","safetySetting"],r);const a=p(t,["personGeneration"]);e!==void 0&&a!=null&&g(e,["parameters","personGeneration"],a);const u=p(t,["includeRaiReason"]);e!==void 0&&u!=null&&g(e,["parameters","includeRaiReason"],u);const c=p(t,["outputMimeType"]);e!==void 0&&c!=null&&g(e,["parameters","outputOptions","mimeType"],c);const h=p(t,["outputCompressionQuality"]);e!==void 0&&h!=null&&g(e,["parameters","outputOptions","compressionQuality"],h);const d=p(t,["enhanceInputImage"]);e!==void 0&&d!=null&&g(e,["parameters","upscaleConfig","enhanceInputImage"],d);const m=p(t,["imagePreservationFactor"]);e!==void 0&&m!=null&&g(e,["parameters","upscaleConfig","imagePreservationFactor"],m);const y=p(t,["labels"]);e!==void 0&&y!=null&&g(e,["labels"],y);const S=p(t,["numberOfImages"]);e!==void 0&&S!=null&&g(e,["parameters","sampleCount"],S);const E=p(t,["mode"]);return e!==void 0&&E!=null&&g(e,["parameters","mode"],E),n}function JV(t,e){const n={},o=p(e,["model"]);o!=null&&g(n,["_url","model"],Ve(t,o));const r=p(e,["image"]);r!=null&&g(n,["instances[0]","image"],co(r));const a=p(e,["upscaleFactor"]);a!=null&&g(n,["parameters","upscaleConfig","upscaleFactor"],a);const u=p(e,["config"]);return u!=null&&qV(u,n),n}function KV(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const o=p(t,["predictions"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(a=>sh(a))),g(e,["generatedImages"],r)}return e}function YV(t){const e={},n=p(t,["uri"]);n!=null&&g(e,["uri"],n);const o=p(t,["encodedVideo"]);o!=null&&g(e,["videoBytes"],lr(o));const r=p(t,["encoding"]);return r!=null&&g(e,["mimeType"],r),e}function XV(t){const e={},n=p(t,["gcsUri"]);n!=null&&g(e,["uri"],n);const o=p(t,["bytesBase64Encoded"]);o!=null&&g(e,["videoBytes"],lr(o));const r=p(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function jV(t){const e={},n=p(t,["image"]);n!=null&&g(e,["_self"],co(n));const o=p(t,["maskMode"]);return o!=null&&g(e,["maskMode"],o),e}function WV(t){const e={},n=p(t,["image"]);n!=null&&g(e,["image"],ah(n));const o=p(t,["referenceType"]);return o!=null&&g(e,["referenceType"],o),e}function QV(t){const e={},n=p(t,["image"]);n!=null&&g(e,["image"],co(n));const o=p(t,["referenceType"]);return o!=null&&g(e,["referenceType"],o),e}function vM(t){const e={},n=p(t,["uri"]);n!=null&&g(e,["uri"],n);const o=p(t,["videoBytes"]);o!=null&&g(e,["encodedVideo"],lr(o));const r=p(t,["mimeType"]);return r!=null&&g(e,["encoding"],r),e}function yM(t){const e={},n=p(t,["uri"]);n!=null&&g(e,["gcsUri"],n);const o=p(t,["videoBytes"]);o!=null&&g(e,["bytesBase64Encoded"],lr(o));const r=p(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function ZV(t,e){const n={},o=p(t,["displayName"]);return e!==void 0&&o!=null&&g(e,["displayName"],o),n}function ez(t){const e={},n=p(t,["config"]);return n!=null&&ZV(n,e),e}function tz(t,e){const n={},o=p(t,["force"]);return e!==void 0&&o!=null&&g(e,["_query","force"],o),n}function nz(t){const e={},n=p(t,["name"]);n!=null&&g(e,["_url","name"],n);const o=p(t,["config"]);return o!=null&&tz(o,e),e}function oz(t){const e={},n=p(t,["name"]);return n!=null&&g(e,["_url","name"],n),e}function iz(t,e){const n={},o=p(t,["customMetadata"]);if(e!==void 0&&o!=null){let a=o;Array.isArray(a)&&(a=a.map(u=>u)),g(e,["customMetadata"],a)}const r=p(t,["chunkingConfig"]);return e!==void 0&&r!=null&&g(e,["chunkingConfig"],r),n}function rz(t){const e={},n=p(t,["name"]);n!=null&&g(e,["name"],n);const o=p(t,["metadata"]);o!=null&&g(e,["metadata"],o);const r=p(t,["done"]);r!=null&&g(e,["done"],r);const a=p(t,["error"]);a!=null&&g(e,["error"],a);const u=p(t,["response"]);return u!=null&&g(e,["response"],az(u)),e}function sz(t){const e={},n=p(t,["fileSearchStoreName"]);n!=null&&g(e,["_url","file_search_store_name"],n);const o=p(t,["fileName"]);o!=null&&g(e,["fileName"],o);const r=p(t,["config"]);return r!=null&&iz(r,e),e}function az(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const o=p(t,["parent"]);o!=null&&g(e,["parent"],o);const r=p(t,["documentName"]);return r!=null&&g(e,["documentName"],r),e}function lz(t,e){const n={},o=p(t,["pageSize"]);e!==void 0&&o!=null&&g(e,["_query","pageSize"],o);const r=p(t,["pageToken"]);return e!==void 0&&r!=null&&g(e,["_query","pageToken"],r),n}function uz(t){const e={},n=p(t,["config"]);return n!=null&&lz(n,e),e}function cz(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const o=p(t,["nextPageToken"]);o!=null&&g(e,["nextPageToken"],o);const r=p(t,["fileSearchStores"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(u=>u)),g(e,["fileSearchStores"],a)}return e}function _M(t,e){const n={},o=p(t,["mimeType"]);e!==void 0&&o!=null&&g(e,["mimeType"],o);const r=p(t,["displayName"]);e!==void 0&&r!=null&&g(e,["displayName"],r);const a=p(t,["customMetadata"]);if(e!==void 0&&a!=null){let c=a;Array.isArray(c)&&(c=c.map(h=>h)),g(e,["customMetadata"],c)}const u=p(t,["chunkingConfig"]);return e!==void 0&&u!=null&&g(e,["chunkingConfig"],u),n}function fz(t){const e={},n=p(t,["fileSearchStoreName"]);n!=null&&g(e,["_url","file_search_store_name"],n);const o=p(t,["config"]);return o!=null&&_M(o,e),e}function dz(t){const e={},n=p(t,["sdkHttpResponse"]);return n!=null&&g(e,["sdkHttpResponse"],n),e}const hz="Content-Type",pz="X-Server-Timeout",mz="User-Agent",gv="x-goog-api-client",gz="1.33.0",vz=`google-genai-sdk/${gz}`,yz="v1beta1",_z="v1beta";class Sz{constructor(e){var n,o;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const r={};this.clientOptions.vertexai?(r.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:yz,r.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(r.apiVersion=(o=this.clientOptions.apiVersion)!==null&&o!==void 0?o:_z,r.baseUrl="https://generativelanguage.googleapis.com/"),r.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=r,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(r,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const o=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&o.push(e.apiVersion),o.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,o){const r=[this.getRequestUrlInternal(n)];return o&&r.push(this.getBaseResourcePath()),e!==""&&r.push(e),new URL(`${r.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const o=this.shouldPrependVertexProjectPath(e),r=this.constructUrl(e.path,n,o);if(e.queryParams)for(const[u,c]of Object.entries(e.queryParams))r.searchParams.append(u,String(c));let a={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else a.body=e.body;return a=await this.includeExtraHttpOptionsToRequestInit(a,n,r.toString(),e.abortSignal),this.unaryApiCall(r,a,e.httpMethod)}patchHttpOptions(e,n){const o=JSON.parse(JSON.stringify(e));for(const[r,a]of Object.entries(n))typeof a=="object"?o[r]=Object.assign(Object.assign({},o[r]),a):a!==void 0&&(o[r]=a);return o}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const o=this.shouldPrependVertexProjectPath(e),r=this.constructUrl(e.path,n,o);(!r.searchParams.has("alt")||r.searchParams.get("alt")!=="sse")&&r.searchParams.set("alt","sse");let a={};return a.body=e.body,a=await this.includeExtraHttpOptionsToRequestInit(a,n,r.toString(),e.abortSignal),this.streamApiCall(r,a,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,o,r){if(n&&n.timeout||r){const a=new AbortController,u=a.signal;if(n.timeout&&n?.timeout>0){const c=setTimeout(()=>a.abort(),n.timeout);c&&typeof c.unref=="function"&&c.unref()}r&&r.addEventListener("abort",()=>{a.abort()}),e.signal=u}return n&&n.extraBody!==null&&Ez(e,n.extraBody),e.headers=await this.getHeadersInternal(n,o),e}async unaryApiCall(e,n,o){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:o})).then(async r=>(await ZT(r),new fv(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}async streamApiCall(e,n,o){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:o})).then(async r=>(await ZT(r),this.processStreamResponse(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}processStreamResponse(e){return oo(this,arguments,function*(){var o;const r=(o=e?.body)===null||o===void 0?void 0:o.getReader(),a=new TextDecoder("utf-8");if(!r)throw new Error("Response body is empty");try{let u="";const c="data:",h=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:d,value:m}=yield Ce(r.read());if(d){if(u.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const y=a.decode(m,{stream:!0});try{const C=JSON.parse(y);if("error"in C){const A=JSON.parse(JSON.stringify(C.error)),x=A.status,M=A.code,I=`got status: ${x}. ${JSON.stringify(C)}`;if(M>=400&&M<600)throw new ih({message:I,status:M})}}catch(C){if(C.name==="ApiError")throw C}u+=y;let S=-1,E=0;for(;;){S=-1,E=0;for(const x of h){const M=u.indexOf(x);M!==-1&&(S===-1||M<S)&&(S=M,E=x.length)}if(S===-1)break;const C=u.substring(0,S);u=u.substring(S+E);const A=C.trim();if(A.startsWith(c)){const x=A.substring(c.length).trim();try{const M=new Response(x,{headers:e?.headers,status:e?.status,statusText:e?.statusText});yield yield Ce(new fv(M))}catch(M){throw new Error(`exception parsing stream chunk ${x}. ${M}`)}}}}}finally{r.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(o=>{throw new Error(`exception ${o} sending request`)})}getDefaultHeaders(){const e={},n=vz+" "+this.clientOptions.userAgentExtra;return e[mz]=n,e[gv]=n,e[hz]="application/json",e}async getHeadersInternal(e,n){const o=new Headers;if(e&&e.headers){for(const[r,a]of Object.entries(e.headers))o.append(r,a);e.timeout&&e.timeout>0&&o.append(pz,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(o,n),o}getFileName(e){var n;let o="";return typeof e=="string"&&(o=e.replace(/[/\\]+$/,""),o=(n=o.split(/[/\\]/).pop())!==null&&n!==void 0?n:""),o}async uploadFile(e,n){var o;const r={};n!=null&&(r.mimeType=n.mimeType,r.name=n.name,r.displayName=n.displayName),r.name&&!r.name.startsWith("files/")&&(r.name=`files/${r.name}`);const a=this.clientOptions.uploader,u=await a.stat(e);r.sizeBytes=String(u.size);const c=(o=n?.mimeType)!==null&&o!==void 0?o:u.type;if(c===void 0||c==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");r.mimeType=c;const h={file:r},d=this.getFileName(e),m=fe("upload/v1beta/files",h._url),y=await this.fetchUploadUrl(m,r.sizeBytes,r.mimeType,d,h,n?.httpOptions);return a.upload(e,y,this)}async uploadFileToFileSearchStore(e,n,o){var r;const a=this.clientOptions.uploader,u=await a.stat(n),c=String(u.size),h=(r=o?.mimeType)!==null&&r!==void 0?r:u.type;if(h===void 0||h==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const d=`upload/v1beta/${e}:uploadToFileSearchStore`,m=this.getFileName(n),y={};o!=null&&_M(o,y);const S=await this.fetchUploadUrl(d,c,h,m,y,o?.httpOptions);return a.uploadToFileSearchStore(n,S,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n,o,r,a,u){var c;let h={};u?h=u:h={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n}`,"X-Goog-Upload-Header-Content-Type":`${o}`},r?{"X-Goog-Upload-File-Name":r}:{})};const d=await this.request({path:e,body:JSON.stringify(a),httpMethod:"POST",httpOptions:h});if(!d||!d?.headers)throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const m=(c=d?.headers)===null||c===void 0?void 0:c["x-goog-upload-url"];if(m===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return m}}async function ZT(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const n=t.status;let o;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?o=await t.json():o={error:{message:await t.text(),code:t.status,status:t.statusText}};const r=JSON.stringify(o);throw n>=400&&n<600?new ih({message:r,status:n}):new Error(r)}}function Ez(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof t.body=="string"&&t.body.length>0)try{const a=JSON.parse(t.body);if(typeof a=="object"&&a!==null&&!Array.isArray(a))n=a;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function o(a,u){const c=Object.assign({},a);for(const h in u)if(Object.prototype.hasOwnProperty.call(u,h)){const d=u[h],m=c[h];d&&typeof d=="object"&&!Array.isArray(d)&&m&&typeof m=="object"&&!Array.isArray(m)?c[h]=o(m,d):(m&&d&&typeof m!=typeof d&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${h}". Original type: ${typeof m}, New type: ${typeof d}. Overwriting.`),c[h]=d)}return c}const r=o(n,e);t.body=JSON.stringify(r)}const bz="mcp_used/unknown";let wz=!1;function SM(t){for(const e of t)if(Tz(e)||typeof e=="object"&&"inputSchema"in e)return!0;return wz}function EM(t){var e;const n=(e=t[gv])!==null&&e!==void 0?e:"";t[gv]=(n+` ${bz}`).trimStart()}function Tz(t){return t!==null&&typeof t=="object"&&t instanceof Py}function Cz(t){return oo(this,arguments,function*(n,o=100){let r,a=0;for(;a<o;){const u=yield Ce(n.listTools({cursor:r}));for(const c of u.tools)yield yield Ce(c),a++;if(!u.nextCursor)break;r=u.nextCursor}})}class Py{constructor(e=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=n}static create(e,n){return new Py(e,n)}async initialize(){var e,n,o,r;if(this.mcpTools.length>0)return;const a={},u=[];for(const m of this.mcpClients)try{for(var c=!0,h=(n=void 0,io(Cz(m))),d;d=await h.next(),e=d.done,!e;c=!0){r=d.value,c=!1;const y=r;u.push(y);const S=y.name;if(a[S])throw new Error(`Duplicate function name ${S} found in MCP tools. Please ensure function names are unique.`);a[S]=m}}catch(y){n={error:y}}finally{try{!c&&!e&&(o=h.return)&&await o.call(h)}finally{if(n)throw n.error}}this.mcpTools=u,this.functionNameToMcpClient=a}async tool(){return await this.initialize(),oF(this.mcpTools,this.config)}async callTool(e){await this.initialize();const n=[];for(const o of e)if(o.name in this.functionNameToMcpClient){const r=this.functionNameToMcpClient[o.name];let a;this.config.timeout&&(a={timeout:this.config.timeout});const u=await r.callTool({name:o.name,arguments:o.args},void 0,a);n.push({functionResponse:{name:o.name,response:u.isError?{error:u}:u}})}return n}}async function Az(t,e,n){const o=new XH;let r;n.data instanceof Blob?r=JSON.parse(await n.data.text()):r=JSON.parse(n.data),Object.assign(o,r),e(o)}class xz{constructor(e,n,o){this.apiClient=e,this.auth=n,this.webSocketFactory=o}async connect(e){var n,o;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const r=this.apiClient.getWebsocketBaseUrl(),a=this.apiClient.getApiVersion(),u=Nz(this.apiClient.getDefaultHeaders()),c=this.apiClient.getApiKey(),h=`${r}/ws/google.ai.generativelanguage.${a}.GenerativeService.BidiGenerateMusic?key=${c}`;let d=()=>{};const m=new Promise(N=>{d=N}),y=e.callbacks,S=function(){d({})},E=this.apiClient,C={onopen:S,onmessage:N=>{Az(E,y.onmessage,N)},onerror:(n=y?.onerror)!==null&&n!==void 0?n:function(N){},onclose:(o=y?.onclose)!==null&&o!==void 0?o:function(N){}},A=this.webSocketFactory.create(h,Mz(u),C);A.connect(),await m;const I={setup:{model:Ve(this.apiClient,e.model)}};return A.send(JSON.stringify(I)),new Rz(A,this.apiClient)}}class Rz{constructor(e,n){this.conn=e,this.apiClient=n}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=eG(e);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const n=Z$(e);this.conn.send(JSON.stringify(n))}sendPlaybackControl(e){const n={playbackControl:e};this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(ia.PLAY)}pause(){this.sendPlaybackControl(ia.PAUSE)}stop(){this.sendPlaybackControl(ia.STOP)}resetContext(){this.sendPlaybackControl(ia.RESET_CONTEXT)}close(){this.conn.close()}}function Mz(t){const e={};return t.forEach((n,o)=>{e[o]=n}),e}function Nz(t){const e=new Headers;for(const[n,o]of Object.entries(t))e.append(n,o);return e}const Iz="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function Dz(t,e,n){const o=new YH;let r;n.data instanceof Blob?r=await n.data.text():n.data instanceof ArrayBuffer?r=new TextDecoder().decode(n.data):r=n.data;const a=JSON.parse(r);if(t.isVertexAI()){const u=oG(a);Object.assign(o,u)}else Object.assign(o,a);e(o)}class Oz{constructor(e,n,o){this.apiClient=e,this.auth=n,this.webSocketFactory=o,this.music=new xz(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,o,r,a,u,c;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const h=this.apiClient.getWebsocketBaseUrl(),d=this.apiClient.getApiVersion();let m;const y=this.apiClient.getHeaders();e.config&&e.config.tools&&SM(e.config.tools)&&EM(y);const S=Uz(y);if(this.apiClient.isVertexAI())m=`${h}/ws/google.cloud.aiplatform.${d}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(S,m);else{const J=this.apiClient.getApiKey();let X="BidiGenerateContent",W="key";J?.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),d!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),X="BidiGenerateContentConstrained",W="access_token"),m=`${h}/ws/google.ai.generativelanguage.${d}.GenerativeService.${X}?${W}=${J}`}let E=()=>{};const C=new Promise(J=>{E=J}),A=e.callbacks,x=function(){var J;(J=A?.onopen)===null||J===void 0||J.call(A),E({})},M=this.apiClient,I={onopen:x,onmessage:J=>{Dz(M,A.onmessage,J)},onerror:(n=A?.onerror)!==null&&n!==void 0?n:function(J){},onclose:(o=A?.onclose)!==null&&o!==void 0?o:function(J){}},N=this.webSocketFactory.create(m,Lz(S),I);N.connect(),await C;let D=Ve(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&D.startsWith("publishers/")){const J=this.apiClient.getProject(),X=this.apiClient.getLocation();D=`projects/${J}/locations/${X}/`+D}let L={};this.apiClient.isVertexAI()&&((r=e.config)===null||r===void 0?void 0:r.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[_d.AUDIO]}:e.config.responseModalities=[_d.AUDIO]),!((a=e.config)===null||a===void 0)&&a.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const U=(c=(u=e.config)===null||u===void 0?void 0:u.tools)!==null&&c!==void 0?c:[],O=[];for(const J of U)if(this.isCallableTool(J)){const X=J;O.push(await X.tool())}else O.push(J);O.length>0&&(e.config.tools=O);const q={model:D,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?L=Q$(this.apiClient,q):L=W$(this.apiClient,q),delete L.config,N.send(JSON.stringify(L)),new kz(N,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const Pz={turnComplete:!0};class kz{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let o=[];try{o=Hn(n.turns),e.isVertexAI()||(o=o.map(r=>rh(r)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:o,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let o=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?o=n.functionResponses:o=[n.functionResponses],o.length===0)throw new Error("functionResponses is required.");for(const a of o){if(typeof a!="object"||a===null||!("name"in a)||!("response"in a))throw new Error(`Could not parse function response, type '${typeof a}'.`);if(!e.isVertexAI()&&!("id"in a))throw new Error(Iz)}return{toolResponse:{functionResponses:o}}}sendClientContent(e){e=Object.assign(Object.assign({},Pz),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:nG(e)}:n={realtimeInput:tG(e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function Lz(t){const e={};return t.forEach((n,o)=>{e[o]=n}),e}function Uz(t){const e=new Headers;for(const[n,o]of Object.entries(t))e.append(n,o);return e}const eC=10;function tC(t){var e,n,o;if(!((e=t?.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let r=!1;for(const u of(n=t?.tools)!==null&&n!==void 0?n:[])if(la(u)){r=!0;break}if(!r)return!0;const a=(o=t?.automaticFunctionCalling)===null||o===void 0?void 0:o.maximumRemoteCalls;return a&&(a<0||!Number.isInteger(a))||a==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",a),!0):!1}function la(t){return"callTool"in t&&typeof t.callTool=="function"}function Bz(t){var e,n,o;return(o=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(r=>la(r)))!==null&&o!==void 0?o:!1}function nC(t){var e;const n=[];return!((e=t?.config)===null||e===void 0)&&e.tools&&t.config.tools.forEach((o,r)=>{if(la(o))return;const a=o;a.functionDeclarations&&a.functionDeclarations.length>0&&n.push(r)}),n}function oC(t){var e;return!(!((e=t?.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}let Hz=class extends gi{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>{var o,r,a,u,c;const h=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!Bz(n)||tC(n.config))return await this.generateContentInternal(h);const d=nC(n);if(d.length>0){const A=d.map(x=>`tools[${x}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${A}.`)}let m,y;const S=Hn(h.contents),E=(a=(r=(o=h.config)===null||o===void 0?void 0:o.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&a!==void 0?a:eC;let C=0;for(;C<E&&(m=await this.generateContentInternal(h),!(!m.functionCalls||m.functionCalls.length===0));){const A=m.candidates[0].content,x=[];for(const M of(c=(u=n.config)===null||u===void 0?void 0:u.tools)!==null&&c!==void 0?c:[])if(la(M)){const N=await M.callTool(m.functionCalls);x.push(...N)}C++,y={role:"user",parts:x},h.contents=Hn(h.contents),h.contents.push(A),h.contents.push(y),oC(h.config)&&(S.push(A),S.push(y))}return oC(h.config)&&(m.automaticFunctionCallingHistory=S),m},this.generateContentStream=async n=>{var o,r,a,u,c;if(this.maybeMoveToResponseJsonSchem(n),tC(n.config)){const y=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(y)}const h=nC(n);if(h.length>0){const y=h.map(S=>`tools[${S}]`).join(", ");throw new Error(`Incompatible tools found at ${y}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const d=(a=(r=(o=n?.config)===null||o===void 0?void 0:o.toolConfig)===null||r===void 0?void 0:r.functionCallingConfig)===null||a===void 0?void 0:a.streamFunctionCallArguments,m=(c=(u=n?.config)===null||u===void 0?void 0:u.automaticFunctionCalling)===null||c===void 0?void 0:c.disable;if(d&&!m)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(o=>{var r;let a;const u=[];if(o?.generatedImages)for(const h of o.generatedImages)h&&h?.safetyAttributes&&((r=h?.safetyAttributes)===null||r===void 0?void 0:r.contentType)==="Positive Prompt"?a=h?.safetyAttributes:u.push(h);let c;return a?c={generatedImages:u,positivePromptSafetyAttributes:a,sdkHttpResponse:o.sdkHttpResponse}:c={generatedImages:u,sdkHttpResponse:o.sdkHttpResponse},c}),this.list=async n=>{var o;const u={config:Object.assign(Object.assign({},{queryBase:!0}),n?.config)};if(this.apiClient.isVertexAI()&&!u.config.queryBase){if(!((o=u.config)===null||o===void 0)&&o.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");u.config.filter="labels.tune-type:*"}return new es(fi.PAGED_ITEM_MODELS,c=>this.listInternal(c),await this.listInternal(u),u)},this.editImage=async n=>{const o={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(o.referenceImages=n.referenceImages.map(r=>r.toReferenceImageAPI())),await this.editImageInternal(o)},this.upscaleImage=async n=>{let o={numberOfImages:1,mode:"upscale"};n.config&&(o=Object.assign(Object.assign({},o),n.config));const r={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:o};return await this.upscaleImageInternal(r)},this.generateVideos=async n=>{var o,r,a,u,c,h;if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((o=n.video)===null||o===void 0)&&o.uri&&(!((r=n.video)===null||r===void 0)&&r.videoBytes)?n.video={uri:n.video.uri,mimeType:n.video.mimeType}:!((u=(a=n.source)===null||a===void 0?void 0:a.video)===null||u===void 0)&&u.uri&&(!((h=(c=n.source)===null||c===void 0?void 0:c.video)===null||h===void 0)&&h.videoBytes)&&(n.source.video={uri:n.source.video.uri,mimeType:n.source.video.mimeType})),await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var n,o,r;const a=(n=e.config)===null||n===void 0?void 0:n.tools;if(!a)return e;const u=await Promise.all(a.map(async h=>la(h)?await h.tool():h)),c={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:u})};if(c.config.tools=u,e.config&&e.config.tools&&SM(e.config.tools)){const h=(r=(o=e.config.httpOptions)===null||o===void 0?void 0:o.headers)!==null&&r!==void 0?r:{};let d=Object.assign({},h);Object.keys(d).length===0&&(d=this.apiClient.getDefaultHeaders()),EM(d),c.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:d})}return c}async initAfcToolsMap(e){var n,o,r;const a=new Map;for(const u of(o=(n=e.config)===null||n===void 0?void 0:n.tools)!==null&&o!==void 0?o:[])if(la(u)){const c=u,h=await c.tool();for(const d of(r=h.functionDeclarations)!==null&&r!==void 0?r:[]){if(!d.name)throw new Error("Function declaration name is required.");if(a.has(d.name))throw new Error(`Duplicate tool declaration name: ${d.name}`);a.set(d.name,c)}}return a}async processAfcStream(e){var n,o,r;const a=(r=(o=(n=e.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||o===void 0?void 0:o.maximumRemoteCalls)!==null&&r!==void 0?r:eC;let u=!1,c=0;const h=await this.initAfcToolsMap(e);return(function(d,m,y){return oo(this,arguments,function*(){for(var S,E,C,A,x,M;c<a;){u&&(c++,u=!1);const L=yield Ce(d.processParamsMaybeAddMcpUsage(y)),U=yield Ce(d.generateContentStreamInternal(L)),O=[],q=[];try{for(var I=!0,N=(E=void 0,io(U)),D;D=yield Ce(N.next()),S=D.done,!S;I=!0){A=D.value,I=!1;const J=A;if(yield yield Ce(J),J.candidates&&(!((x=J.candidates[0])===null||x===void 0)&&x.content)){q.push(J.candidates[0].content);for(const X of(M=J.candidates[0].content.parts)!==null&&M!==void 0?M:[])if(c<a&&X.functionCall){if(!X.functionCall.name)throw new Error("Function call name was not returned by the model.");if(m.has(X.functionCall.name)){const W=yield Ce(m.get(X.functionCall.name).callTool([X.functionCall]));O.push(...W)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${m.keys()}, mising tool: ${X.functionCall.name}`)}}}}catch(J){E={error:J}}finally{try{!I&&!S&&(C=N.return)&&(yield Ce(C.call(N)))}finally{if(E)throw E.error}}if(O.length>0){u=!0;const J=new Il;J.candidates=[{content:{role:"user",parts:O}}],yield yield Ce(J);const X=[];X.push(...q),X.push({role:"user",parts:O});const W=Hn(y.contents).concat(X);y.contents=W}else break}})})(this,h,e)}async generateContentInternal(e){var n,o,r,a;let u,c="",h={};if(this.apiClient.isVertexAI()){const d=jT(this.apiClient,e);return c=fe("{model}:generateContent",d._url),h=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json().then(y=>{const S=y;return S.sdkHttpResponse={headers:m.headers},S})),u.then(m=>{const y=QT(m),S=new Il;return Object.assign(S,y),S})}else{const d=XT(this.apiClient,e);return c=fe("{model}:generateContent",d._url),h=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json().then(y=>{const S=y;return S.sdkHttpResponse={headers:m.headers},S})),u.then(m=>{const y=WT(m),S=new Il;return Object.assign(S,y),S})}}async generateContentStreamInternal(e){var n,o,r,a;let u,c="",h={};if(this.apiClient.isVertexAI()){const d=jT(this.apiClient,e);return c=fe("{model}:streamGenerateContent?alt=sse",d._url),h=d._query,delete d._url,delete d._query,u=this.apiClient.requestStream({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}),u.then(function(y){return oo(this,arguments,function*(){var S,E,C,A;try{for(var x=!0,M=io(y),I;I=yield Ce(M.next()),S=I.done,!S;x=!0){A=I.value,x=!1;const N=A,D=QT(yield Ce(N.json()));D.sdkHttpResponse={headers:N.headers};const L=new Il;Object.assign(L,D),yield yield Ce(L)}}catch(N){E={error:N}}finally{try{!x&&!S&&(C=M.return)&&(yield Ce(C.call(M)))}finally{if(E)throw E.error}}})})}else{const d=XT(this.apiClient,e);return c=fe("{model}:streamGenerateContent?alt=sse",d._url),h=d._query,delete d._url,delete d._query,u=this.apiClient.requestStream({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}),u.then(function(y){return oo(this,arguments,function*(){var S,E,C,A;try{for(var x=!0,M=io(y),I;I=yield Ce(M.next()),S=I.done,!S;x=!0){A=I.value,x=!1;const N=A,D=WT(yield Ce(N.json()));D.sdkHttpResponse={headers:N.headers};const L=new Il;Object.assign(L,D),yield yield Ce(L)}}catch(N){E={error:N}}finally{try{!x&&!S&&(C=M.return)&&(yield Ce(C.call(M)))}finally{if(E)throw E.error}}})})}}async embedContent(e){var n,o,r,a;let u,c="",h={};if(this.apiClient.isVertexAI()){const d=OG(this.apiClient,e);return c=fe("{model}:predict",d._url),h=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json().then(y=>{const S=y;return S.sdkHttpResponse={headers:m.headers},S})),u.then(m=>{const y=kG(m),S=new DT;return Object.assign(S,y),S})}else{const d=DG(this.apiClient,e);return c=fe("{model}:batchEmbedContents",d._url),h=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json().then(y=>{const S=y;return S.sdkHttpResponse={headers:m.headers},S})),u.then(m=>{const y=PG(m),S=new DT;return Object.assign(S,y),S})}}async generateImagesInternal(e){var n,o,r,a;let u,c="",h={};if(this.apiClient.isVertexAI()){const d=JG(this.apiClient,e);return c=fe("{model}:predict",d._url),h=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json().then(y=>{const S=y;return S.sdkHttpResponse={headers:m.headers},S})),u.then(m=>{const y=YG(m),S=new OT;return Object.assign(S,y),S})}else{const d=qG(this.apiClient,e);return c=fe("{model}:predict",d._url),h=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json().then(y=>{const S=y;return S.sdkHttpResponse={headers:m.headers},S})),u.then(m=>{const y=KG(m),S=new OT;return Object.assign(S,y),S})}}async editImageInternal(e){var n,o;let r,a="",u={};if(this.apiClient.isVertexAI()){const c=RG(this.apiClient,e);return a=fe("{model}:predict",c._url),u=c._query,delete c._url,delete c._query,r=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(d=>{const m=d;return m.sdkHttpResponse={headers:h.headers},m})),r.then(h=>{const d=MG(h),m=new UH;return Object.assign(m,d),m})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,o;let r,a="",u={};if(this.apiClient.isVertexAI()){const c=JV(this.apiClient,e);return a=fe("{model}:predict",c._url),u=c._query,delete c._url,delete c._query,r=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(d=>{const m=d;return m.sdkHttpResponse={headers:h.headers},m})),r.then(h=>{const d=KV(h),m=new BH;return Object.assign(m,d),m})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var n,o;let r,a="",u={};if(this.apiClient.isVertexAI()){const c=xV(this.apiClient,e);return a=fe("{model}:predict",c._url),u=c._query,delete c._url,delete c._query,r=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),r.then(h=>{const d=RV(h),m=new HH;return Object.assign(m,d),m})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var n,o;let r,a="",u={};if(this.apiClient.isVertexAI()){const c=PV(this.apiClient,e);return a=fe("{model}:predict",c._url),u=c._query,delete c._url,delete c._query,r=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),r.then(h=>{const d=kV(h),m=new FH;return Object.assign(m,d),m})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,o,r,a;let u,c="",h={};if(this.apiClient.isVertexAI()){const d=fV(this.apiClient,e);return c=fe("{name}",d._url),h=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json()),u.then(m=>mv(m))}else{const d=cV(this.apiClient,e);return c=fe("{name}",d._url),h=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json()),u.then(m=>pv(m))}}async listInternal(e){var n,o,r,a;let u,c="",h={};if(this.apiClient.isVertexAI()){const d=SV(this.apiClient,e);return c=fe("{models_url}",d._url),h=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json().then(y=>{const S=y;return S.sdkHttpResponse={headers:m.headers},S})),u.then(m=>{const y=bV(m),S=new PT;return Object.assign(S,y),S})}else{const d=_V(this.apiClient,e);return c=fe("{models_url}",d._url),h=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json().then(y=>{const S=y;return S.sdkHttpResponse={headers:m.headers},S})),u.then(m=>{const y=EV(m),S=new PT;return Object.assign(S,y),S})}}async update(e){var n,o,r,a;let u,c="",h={};if(this.apiClient.isVertexAI()){const d=zV(this.apiClient,e);return c=fe("{model}",d._url),h=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json()),u.then(m=>mv(m))}else{const d=VV(this.apiClient,e);return c=fe("{name}",d._url),h=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json()),u.then(m=>pv(m))}}async delete(e){var n,o,r,a;let u,c="",h={};if(this.apiClient.isVertexAI()){const d=TG(this.apiClient,e);return c=fe("{name}",d._url),h=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json().then(y=>{const S=y;return S.sdkHttpResponse={headers:m.headers},S})),u.then(m=>{const y=AG(m),S=new kT;return Object.assign(S,y),S})}else{const d=wG(this.apiClient,e);return c=fe("{name}",d._url),h=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json().then(y=>{const S=y;return S.sdkHttpResponse={headers:m.headers},S})),u.then(m=>{const y=CG(m),S=new kT;return Object.assign(S,y),S})}}async countTokens(e){var n,o,r,a;let u,c="",h={};if(this.apiClient.isVertexAI()){const d=SG(this.apiClient,e);return c=fe("{model}:countTokens",d._url),h=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json().then(y=>{const S=y;return S.sdkHttpResponse={headers:m.headers},S})),u.then(m=>{const y=bG(m),S=new LT;return Object.assign(S,y),S})}else{const d=_G(this.apiClient,e);return c=fe("{model}:countTokens",d._url),h=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json().then(y=>{const S=y;return S.sdkHttpResponse={headers:m.headers},S})),u.then(m=>{const y=EG(m),S=new LT;return Object.assign(S,y),S})}}async computeTokens(e){var n,o;let r,a="",u={};if(this.apiClient.isVertexAI()){const c=dG(this.apiClient,e);return a=fe("{model}:computeTokens",c._url),u=c._query,delete c._url,delete c._query,r=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(d=>{const m=d;return m.sdkHttpResponse={headers:h.headers},m})),r.then(h=>{const d=hG(h),m=new $H;return Object.assign(m,d),m})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var n,o,r,a;let u,c="",h={};if(this.apiClient.isVertexAI()){const d=eV(this.apiClient,e);return c=fe("{model}:predictLongRunning",d._url),h=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json()),u.then(m=>{const y=QG(m),S=new Sd;return Object.assign(S,y),S})}else{const d=ZG(this.apiClient,e);return c=fe("{model}:predictLongRunning",d._url),h=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json()),u.then(m=>{const y=WG(m),S=new Sd;return Object.assign(S,y),S})}}};class Fz extends gi{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const n=e.operation,o=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=n.name.split("/operations/")[0];let a;o&&"httpOptions"in o&&(a=o.httpOptions);const u=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:r,config:{httpOptions:a}});return n._fromAPIResponse({apiResponse:u,_isVertexAI:!0})}else{const r=await this.getVideosOperationInternal({operationName:n.name,config:o});return n._fromAPIResponse({apiResponse:r,_isVertexAI:!1})}}async get(e){const n=e.operation,o=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=n.name.split("/operations/")[0];let a;o&&"httpOptions"in o&&(a=o.httpOptions);const u=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:r,config:{httpOptions:a}});return n._fromAPIResponse({apiResponse:u,_isVertexAI:!0})}else{const r=await this.getVideosOperationInternal({operationName:n.name,config:o});return n._fromAPIResponse({apiResponse:r,_isVertexAI:!1})}}async getVideosOperationInternal(e){var n,o,r,a;let u,c="",h={};if(this.apiClient.isVertexAI()){const d=IH(e);return c=fe("{operationName}",d._url),h=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json()),u}else{const d=NH(e);return c=fe("{operationName}",d._url),h=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json()),u}}async fetchPredictVideosOperationInternal(e){var n,o;let r,a="",u={};if(this.apiClient.isVertexAI()){const c=wH(e);return a=fe("{resourceName}:fetchPredictOperation",c._url),u=c._query,delete c._url,delete c._query,r=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),r}else throw new Error("This method is only supported by the Vertex AI.")}}function $z(t){const e={},n=p(t,["data"]);if(n!=null&&g(e,["data"],n),p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=p(t,["mimeType"]);return o!=null&&g(e,["mimeType"],o),e}function Gz(t){const e={},n=p(t,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(a=>Wz(a))),g(e,["parts"],r)}const o=p(t,["role"]);return o!=null&&g(e,["role"],o),e}function Vz(t,e,n){const o={},r=p(e,["expireTime"]);n!==void 0&&r!=null&&g(n,["expireTime"],r);const a=p(e,["newSessionExpireTime"]);n!==void 0&&a!=null&&g(n,["newSessionExpireTime"],a);const u=p(e,["uses"]);n!==void 0&&u!=null&&g(n,["uses"],u);const c=p(e,["liveConnectConstraints"]);n!==void 0&&c!=null&&g(n,["bidiGenerateContentSetup"],jz(t,c));const h=p(e,["lockAdditionalFields"]);return n!==void 0&&h!=null&&g(n,["fieldMask"],h),o}function zz(t,e){const n={},o=p(e,["config"]);return o!=null&&g(n,["config"],Vz(t,o,n)),n}function qz(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=p(t,["fileUri"]);n!=null&&g(e,["fileUri"],n);const o=p(t,["mimeType"]);return o!=null&&g(e,["mimeType"],o),e}function Jz(t){const e={},n=p(t,["id"]);n!=null&&g(e,["id"],n);const o=p(t,["args"]);o!=null&&g(e,["args"],o);const r=p(t,["name"]);if(r!=null&&g(e,["name"],r),p(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(p(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Kz(t){const e={};if(p(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=p(t,["enableWidget"]);return n!=null&&g(e,["enableWidget"],n),e}function Yz(t){const e={};if(p(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(p(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=p(t,["timeRangeFilter"]);return n!=null&&g(e,["timeRangeFilter"],n),e}function Xz(t,e){const n={},o=p(t,["generationConfig"]);e!==void 0&&o!=null&&g(e,["setup","generationConfig"],o);const r=p(t,["responseModalities"]);e!==void 0&&r!=null&&g(e,["setup","generationConfig","responseModalities"],r);const a=p(t,["temperature"]);e!==void 0&&a!=null&&g(e,["setup","generationConfig","temperature"],a);const u=p(t,["topP"]);e!==void 0&&u!=null&&g(e,["setup","generationConfig","topP"],u);const c=p(t,["topK"]);e!==void 0&&c!=null&&g(e,["setup","generationConfig","topK"],c);const h=p(t,["maxOutputTokens"]);e!==void 0&&h!=null&&g(e,["setup","generationConfig","maxOutputTokens"],h);const d=p(t,["mediaResolution"]);e!==void 0&&d!=null&&g(e,["setup","generationConfig","mediaResolution"],d);const m=p(t,["seed"]);e!==void 0&&m!=null&&g(e,["setup","generationConfig","seed"],m);const y=p(t,["speechConfig"]);e!==void 0&&y!=null&&g(e,["setup","generationConfig","speechConfig"],Oy(y));const S=p(t,["thinkingConfig"]);e!==void 0&&S!=null&&g(e,["setup","generationConfig","thinkingConfig"],S);const E=p(t,["enableAffectiveDialog"]);e!==void 0&&E!=null&&g(e,["setup","generationConfig","enableAffectiveDialog"],E);const C=p(t,["systemInstruction"]);e!==void 0&&C!=null&&g(e,["setup","systemInstruction"],Gz(Lt(C)));const A=p(t,["tools"]);if(e!==void 0&&A!=null){let U=Ca(A);Array.isArray(U)&&(U=U.map(O=>Zz(Ta(O)))),g(e,["setup","tools"],U)}const x=p(t,["sessionResumption"]);e!==void 0&&x!=null&&g(e,["setup","sessionResumption"],Qz(x));const M=p(t,["inputAudioTranscription"]);e!==void 0&&M!=null&&g(e,["setup","inputAudioTranscription"],M);const I=p(t,["outputAudioTranscription"]);e!==void 0&&I!=null&&g(e,["setup","outputAudioTranscription"],I);const N=p(t,["realtimeInputConfig"]);e!==void 0&&N!=null&&g(e,["setup","realtimeInputConfig"],N);const D=p(t,["contextWindowCompression"]);e!==void 0&&D!=null&&g(e,["setup","contextWindowCompression"],D);const L=p(t,["proactivity"]);if(e!==void 0&&L!=null&&g(e,["setup","proactivity"],L),p(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function jz(t,e){const n={},o=p(e,["model"]);o!=null&&g(n,["setup","model"],Ve(t,o));const r=p(e,["config"]);return r!=null&&g(n,["config"],Xz(r,n)),n}function Wz(t){const e={},n=p(t,["mediaResolution"]);n!=null&&g(e,["mediaResolution"],n);const o=p(t,["codeExecutionResult"]);o!=null&&g(e,["codeExecutionResult"],o);const r=p(t,["executableCode"]);r!=null&&g(e,["executableCode"],r);const a=p(t,["fileData"]);a!=null&&g(e,["fileData"],qz(a));const u=p(t,["functionCall"]);u!=null&&g(e,["functionCall"],Jz(u));const c=p(t,["functionResponse"]);c!=null&&g(e,["functionResponse"],c);const h=p(t,["inlineData"]);h!=null&&g(e,["inlineData"],$z(h));const d=p(t,["text"]);d!=null&&g(e,["text"],d);const m=p(t,["thought"]);m!=null&&g(e,["thought"],m);const y=p(t,["thoughtSignature"]);y!=null&&g(e,["thoughtSignature"],y);const S=p(t,["videoMetadata"]);return S!=null&&g(e,["videoMetadata"],S),e}function Qz(t){const e={},n=p(t,["handle"]);if(n!=null&&g(e,["handle"],n),p(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function Zz(t){const e={},n=p(t,["functionDeclarations"]);if(n!=null){let m=n;Array.isArray(m)&&(m=m.map(y=>y)),g(e,["functionDeclarations"],m)}if(p(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=p(t,["googleSearchRetrieval"]);o!=null&&g(e,["googleSearchRetrieval"],o);const r=p(t,["computerUse"]);r!=null&&g(e,["computerUse"],r);const a=p(t,["fileSearch"]);a!=null&&g(e,["fileSearch"],a);const u=p(t,["codeExecution"]);if(u!=null&&g(e,["codeExecution"],u),p(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const c=p(t,["googleMaps"]);c!=null&&g(e,["googleMaps"],Kz(c));const h=p(t,["googleSearch"]);h!=null&&g(e,["googleSearch"],Yz(h));const d=p(t,["urlContext"]);return d!=null&&g(e,["urlContext"],d),e}function eq(t){const e=[];for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const o=t[n];if(typeof o=="object"&&o!=null&&Object.keys(o).length>0){const r=Object.keys(o).map(a=>`${n}.${a}`);e.push(...r)}else e.push(n)}return e.join(",")}function tq(t,e){let n=null;const o=t.bidiGenerateContentSetup;if(typeof o=="object"&&o!==null&&"setup"in o){const a=o.setup;typeof a=="object"&&a!==null?(t.bidiGenerateContentSetup=a,n=a):delete t.bidiGenerateContentSetup}else o!==void 0&&delete t.bidiGenerateContentSetup;const r=t.fieldMask;if(n){const a=eq(n);if(Array.isArray(e?.lockAdditionalFields)&&e?.lockAdditionalFields.length===0)a?t.fieldMask=a:delete t.fieldMask;else if(e?.lockAdditionalFields&&e.lockAdditionalFields.length>0&&r!==null&&Array.isArray(r)&&r.length>0){const u=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let c=[];r.length>0&&(c=r.map(d=>u.includes(d)?`generationConfig.${d}`:d));const h=[];a&&h.push(a),c.length>0&&h.push(...c),h.length>0?t.fieldMask=h.join(","):delete t.fieldMask}else delete t.fieldMask}else r!==null&&Array.isArray(r)&&r.length>0?t.fieldMask=r.join(","):delete t.fieldMask;return t}class nq extends gi{constructor(e){super(),this.apiClient=e}async create(e){var n,o;let r,a="",u={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const c=zz(this.apiClient,e);a=fe("auth_tokens",c._url),u=c._query,delete c.config,delete c._url,delete c._query;const h=tq(c,e.config);return r=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),r.then(d=>d)}}}function oq(t,e){const n={},o=p(t,["force"]);return e!==void 0&&o!=null&&g(e,["_query","force"],o),n}function iq(t){const e={},n=p(t,["name"]);n!=null&&g(e,["_url","name"],n);const o=p(t,["config"]);return o!=null&&oq(o,e),e}function rq(t){const e={},n=p(t,["name"]);return n!=null&&g(e,["_url","name"],n),e}function sq(t,e){const n={},o=p(t,["pageSize"]);e!==void 0&&o!=null&&g(e,["_query","pageSize"],o);const r=p(t,["pageToken"]);return e!==void 0&&r!=null&&g(e,["_query","pageToken"],r),n}function aq(t){const e={},n=p(t,["parent"]);n!=null&&g(e,["_url","parent"],n);const o=p(t,["config"]);return o!=null&&sq(o,e),e}function lq(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const o=p(t,["nextPageToken"]);o!=null&&g(e,["nextPageToken"],o);const r=p(t,["documents"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(u=>u)),g(e,["documents"],a)}return e}class uq extends gi{constructor(e){super(),this.apiClient=e,this.list=async n=>new es(fi.PAGED_ITEM_DOCUMENTS,o=>this.listInternal({parent:n.parent,config:o.config}),await this.listInternal(n),n)}async get(e){var n,o;let r,a="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=rq(e);return a=fe("{name}",c._url),u=c._query,delete c._url,delete c._query,r=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),r.then(h=>h)}}async delete(e){var n,o;let r="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=iq(e);r=fe("{name}",u._url),a=u._query,delete u._url,delete u._query,await this.apiClient.request({path:r,queryParams:a,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}}async listInternal(e){var n,o;let r,a="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=aq(e);return a=fe("{parent}/documents",c._url),u=c._query,delete c._url,delete c._query,r=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),r.then(h=>{const d=lq(h),m=new GH;return Object.assign(m,d),m})}}}class cq extends gi{constructor(e,n=new uq(e)){super(),this.apiClient=e,this.documents=n,this.list=async(o={})=>new es(fi.PAGED_ITEM_FILE_SEARCH_STORES,r=>this.listInternal(r),await this.listInternal(o),o)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var n,o;let r,a="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=ez(e);return a=fe("fileSearchStores",c._url),u=c._query,delete c._url,delete c._query,r=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),r.then(h=>h)}}async get(e){var n,o;let r,a="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=oz(e);return a=fe("{name}",c._url),u=c._query,delete c._url,delete c._query,r=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),r.then(h=>h)}}async delete(e){var n,o;let r="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=nz(e);r=fe("{name}",u._url),a=u._query,delete u._url,delete u._query,await this.apiClient.request({path:r,queryParams:a,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}}async listInternal(e){var n,o;let r,a="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=uz(e);return a=fe("fileSearchStores",c._url),u=c._query,delete c._url,delete c._query,r=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),r.then(h=>{const d=cz(h),m=new VH;return Object.assign(m,d),m})}}async uploadToFileSearchStoreInternal(e){var n,o;let r,a="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=fz(e);return a=fe("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",c._url),u=c._query,delete c._url,delete c._query,r=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),r.then(h=>{const d=dz(h),m=new zH;return Object.assign(m,d),m})}}async importFile(e){var n,o;let r,a="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=sz(e);return a=fe("{file_search_store_name}:importFile",c._url),u=c._query,delete c._url,delete c._query,r=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),r.then(h=>{const d=rz(h),m=new Ry;return Object.assign(m,d),m})}}}let bM=function(){const{crypto:t}=globalThis;if(t?.randomUUID)return bM=t.randomUUID.bind(t),t.randomUUID();const e=new Uint8Array(1),n=t?()=>t.getRandomValues(e)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,o=>(+o^n()&15>>+o/4).toString(16))};const fq=()=>bM();function vv(t){return typeof t=="object"&&t!==null&&("name"in t&&t.name==="AbortError"||"message"in t&&String(t.message).includes("FetchRequestCanceledException"))}const yv=t=>{if(t instanceof Error)return t;if(typeof t=="object"&&t!==null){try{if(Object.prototype.toString.call(t)==="[object Error]"){const e=new Error(t.message,t.cause?{cause:t.cause}:{});return t.stack&&(e.stack=t.stack),t.cause&&!e.cause&&(e.cause=t.cause),t.name&&(e.name=t.name),e}}catch{}try{return new Error(JSON.stringify(t))}catch{}}return new Error(t)};class zn extends Error{}let qn=class _v extends zn{constructor(e,n,o,r){super(`${_v.makeMessage(e,n,o)}`),this.status=e,this.headers=r,this.error=n}static makeMessage(e,n,o){const r=n?.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):o;return e&&r?`${e} ${r}`:e?`${e} status code (no body)`:r||"(no status code or body)"}static generate(e,n,o,r){if(!e||!r)return new lh({message:o,cause:yv(n)});const a=n;return e===400?new TM(e,a,o,r):e===401?new CM(e,a,o,r):e===403?new AM(e,a,o,r):e===404?new xM(e,a,o,r):e===409?new RM(e,a,o,r):e===422?new MM(e,a,o,r):e===429?new NM(e,a,o,r):e>=500?new IM(e,a,o,r):new _v(e,a,o,r)}},Sv=class extends qn{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}},lh=class extends qn{constructor({message:e,cause:n}){super(void 0,void 0,e||"Connection error.",void 0),n&&(this.cause=n)}},wM=class extends lh{constructor({message:e}={}){super({message:e??"Request timed out."})}},TM=class extends qn{},CM=class extends qn{},AM=class extends qn{},xM=class extends qn{},RM=class extends qn{},MM=class extends qn{},NM=class extends qn{},IM=class extends qn{};const dq=/^[a-z][a-z0-9+.-]*:/i,hq=t=>dq.test(t);let Ev=t=>(Ev=Array.isArray,Ev(t));const pq=Ev;let mq=pq;const iC=mq;function gq(t){if(!t)return!0;for(const e in t)return!1;return!0}function vq(t,e){return Object.prototype.hasOwnProperty.call(t,e)}const yq=(t,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new zn(`${t} must be an integer`);if(e<0)throw new zn(`${t} must be a positive integer`);return e},_q=t=>{try{return JSON.parse(t)}catch{return}};const Sq=t=>new Promise(e=>setTimeout(e,t));const Ws="0.0.1";function Eq(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const bq=()=>{var t,e,n,o,r;const a=Eq();if(a==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ws,"X-Stainless-OS":sC(Deno.build.os),"X-Stainless-Arch":rC(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(e=(t=Deno.version)===null||t===void 0?void 0:t.deno)!==null&&e!==void 0?e:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ws,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(a==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ws,"X-Stainless-OS":sC((n=globalThis.process.platform)!==null&&n!==void 0?n:"unknown"),"X-Stainless-Arch":rC((o=globalThis.process.arch)!==null&&o!==void 0?o:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(r=globalThis.process.version)!==null&&r!==void 0?r:"unknown"};const u=wq();return u?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ws,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${u.browser}`,"X-Stainless-Runtime-Version":u.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ws,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function wq(){if(typeof navigator>"u"||!navigator)return null;const t=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:n}of t){const o=n.exec(navigator.userAgent);if(o){const r=o[1]||0,a=o[2]||0,u=o[3]||0;return{browser:e,version:`${r}.${a}.${u}`}}}return null}const rC=t=>t==="x32"?"x32":t==="x86_64"||t==="x64"?"x64":t==="arm"?"arm":t==="aarch64"||t==="arm64"?"arm64":t?`other:${t}`:"unknown",sC=t=>(t=t.toLowerCase(),t.includes("ios")?"iOS":t==="android"?"Android":t==="darwin"?"MacOS":t==="win32"?"Windows":t==="freebsd"?"FreeBSD":t==="openbsd"?"OpenBSD":t==="linux"?"Linux":t?`Other:${t}`:"Unknown");let Sf;const Tq=()=>Sf??(Sf=bq());function Cq(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function DM(...t){const e=globalThis.ReadableStream;if(typeof e>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new e(...t)}function Aq(t){let e=Symbol.asyncIterator in t?t[Symbol.asyncIterator]():t[Symbol.iterator]();return DM({start(){},async pull(n){const{done:o,value:r}=await e.next();o?n.close():n.enqueue(r)},async cancel(){var n;await((n=e.return)===null||n===void 0?void 0:n.call(e))}})}function OM(t){if(t[Symbol.asyncIterator])return t;const e=t.getReader();return{async next(){try{const n=await e.read();return n?.done&&e.releaseLock(),n}catch(n){throw e.releaseLock(),n}},async return(){const n=e.cancel();return e.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function xq(t){var e,n;if(t===null||typeof t!="object")return;if(t[Symbol.asyncIterator]){await((n=(e=t[Symbol.asyncIterator]()).return)===null||n===void 0?void 0:n.call(e));return}const o=t.getReader(),r=o.cancel();o.releaseLock(),await r}const Rq=({headers:t,body:e})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(e)});const PM=()=>{var t;if(typeof File>"u"){const{process:e}=globalThis,n=typeof((t=e?.versions)===null||t===void 0?void 0:t.node)=="string"&&parseInt(e.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(n?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function gg(t,e,n){return PM(),new File(t,e??"unknown_file",n)}function Mq(t){return(typeof t=="object"&&t!==null&&("name"in t&&t.name&&String(t.name)||"url"in t&&t.url&&String(t.url)||"filename"in t&&t.filename&&String(t.filename)||"path"in t&&t.path&&String(t.path))||"").split(/[\\/]/).pop()||void 0}const Nq=t=>t!=null&&typeof t=="object"&&typeof t[Symbol.asyncIterator]=="function";const kM=t=>t!=null&&typeof t=="object"&&typeof t.size=="number"&&typeof t.type=="string"&&typeof t.text=="function"&&typeof t.slice=="function"&&typeof t.arrayBuffer=="function",Iq=t=>t!=null&&typeof t=="object"&&typeof t.name=="string"&&typeof t.lastModified=="number"&&kM(t),Dq=t=>t!=null&&typeof t=="object"&&typeof t.url=="string"&&typeof t.blob=="function";async function Oq(t,e,n){if(PM(),t=await t,Iq(t))return t instanceof File?t:gg([await t.arrayBuffer()],t.name);if(Dq(t)){const r=await t.blob();return e||(e=new URL(t.url).pathname.split(/[\\/]/).pop()),gg(await bv(r),e,n)}const o=await bv(t);if(e||(e=Mq(t)),!n?.type){const r=o.find(a=>typeof a=="object"&&"type"in a&&a.type);typeof r=="string"&&(n=Object.assign(Object.assign({},n),{type:r}))}return gg(o,e,n)}async function bv(t){var e,n,o,r,a;let u=[];if(typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer)u.push(t);else if(kM(t))u.push(t instanceof Blob?t:await t.arrayBuffer());else if(Nq(t))try{for(var c=!0,h=io(t),d;d=await h.next(),e=d.done,!e;c=!0){r=d.value,c=!1;const m=r;u.push(...await bv(m))}}catch(m){n={error:m}}finally{try{!c&&!e&&(o=h.return)&&await o.call(h)}finally{if(n)throw n.error}}else{const m=(a=t?.constructor)===null||a===void 0?void 0:a.name;throw new Error(`Unexpected data type: ${typeof t}${m?`; constructor: ${m}`:""}${Pq(t)}`)}return u}function Pq(t){return typeof t!="object"||t===null?"":`; props: [${Object.getOwnPropertyNames(t).map(n=>`"${n}"`).join(", ")}]`}let LM=class{constructor(e){this._client=e}};LM._key=[];function UM(t){return t.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const aC=Object.freeze(Object.create(null)),kq=(t=UM)=>(function(n,...o){if(n.length===1)return n[0];let r=!1;const a=[],u=n.reduce((m,y,S)=>{var E,C,A;/[?#]/.test(y)&&(r=!0);const x=o[S];let M=(r?encodeURIComponent:t)(""+x);return S!==o.length&&(x==null||typeof x=="object"&&x.toString===((A=Object.getPrototypeOf((C=Object.getPrototypeOf((E=x.hasOwnProperty)!==null&&E!==void 0?E:aC))!==null&&C!==void 0?C:aC))===null||A===void 0?void 0:A.toString))&&(M=x+"",a.push({start:m.length+y.length,length:M.length,error:`Value of type ${Object.prototype.toString.call(x).slice(8,-1)} is not a valid path parameter`})),m+y+(S===o.length?"":M)},""),c=u.split(/[?#]/,1)[0],h=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let d;for(;(d=h.exec(c))!==null;)a.push({start:d.index,length:d[0].length,error:`Value "${d[0]}" can't be safely passed as a path parameter`});if(a.sort((m,y)=>m.start-y.start),a.length>0){let m=0;const y=a.reduce((S,E)=>{const C=" ".repeat(E.start-m),A="^".repeat(E.length);return m=E.start+E.length,S+C+A},"");throw new zn(`Path parameters result in path with invalid segments:
${a.map(S=>S.error).join(`
`)}
${u}
${y}`)}return u}),Ef=kq(UM);class BM extends LM{create(e,n){var o;const{api_version:r=this._client.apiVersion}=e,a=bd(e,["api_version"]);if("model"in a&&"agent_config"in a)throw new zn("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in a&&"generation_config"in a)throw new zn("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(Ef`/${r}/interactions`,Object.assign(Object.assign({body:a},n),{stream:(o=e.stream)!==null&&o!==void 0?o:!1}))}delete(e,n={},o){const{api_version:r=this._client.apiVersion}=n??{};return this._client.delete(Ef`/${r}/interactions/${e}`,o)}cancel(e,n={},o){const{api_version:r=this._client.apiVersion}=n??{};return this._client.post(Ef`/${r}/interactions/${e}/cancel`,o)}get(e,n={},o){var r;const a=n??{},{api_version:u=this._client.apiVersion}=a,c=bd(a,["api_version"]);return this._client.get(Ef`/${u}/interactions/${e}`,Object.assign(Object.assign({query:c},o),{stream:(r=n?.stream)!==null&&r!==void 0?r:!1}))}}BM._key=Object.freeze(["interactions"]);class HM extends BM{}function Lq(t){let e=0;for(const r of t)e+=r.length;const n=new Uint8Array(e);let o=0;for(const r of t)n.set(r,o),o+=r.length;return n}let bf;function ky(t){let e;return(bf??(e=new globalThis.TextEncoder,bf=e.encode.bind(e)))(t)}let wf;function lC(t){let e;return(wf??(e=new globalThis.TextDecoder,wf=e.decode.bind(e)))(t)}let uh=class{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(e){if(e==null)return[];const n=e instanceof ArrayBuffer?new Uint8Array(e):typeof e=="string"?ky(e):e;this.buffer=Lq([this.buffer,n]);const o=[];let r;for(;(r=Uq(this.buffer,this.carriageReturnIndex))!=null;){if(r.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=r.index;continue}if(this.carriageReturnIndex!=null&&(r.index!==this.carriageReturnIndex+1||r.carriage)){o.push(lC(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const a=this.carriageReturnIndex!==null?r.preceding-1:r.preceding,u=lC(this.buffer.subarray(0,a));o.push(u),this.buffer=this.buffer.subarray(r.index),this.carriageReturnIndex=null}return o}flush(){return this.buffer.length?this.decode(`
`):[]}};uh.NEWLINE_CHARS=new Set([`
`,"\r"]);uh.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function Uq(t,e){for(let r=e??0;r<t.length;r++){if(t[r]===10)return{preceding:r,index:r+1,carriage:!1};if(t[r]===13)return{preceding:r,index:r+1,carriage:!0}}return null}function Bq(t){for(let o=0;o<t.length-1;o++){if(t[o]===10&&t[o+1]===10||t[o]===13&&t[o+1]===13)return o+2;if(t[o]===13&&t[o+1]===10&&o+3<t.length&&t[o+2]===13&&t[o+3]===10)return o+4}return-1}const wd={off:0,error:200,warn:300,info:400,debug:500},uC=(t,e,n)=>{if(t){if(vq(wd,t))return t;Ft(n).warn(`${e} was set to ${JSON.stringify(t)}, expected one of ${JSON.stringify(Object.keys(wd))}`)}};function Pl(){}function Tf(t,e,n){return!e||wd[t]>wd[n]?Pl:e[t].bind(e)}const Hq={error:Pl,warn:Pl,info:Pl,debug:Pl};let cC=new WeakMap;function Ft(t){var e;const n=t.logger,o=(e=t.logLevel)!==null&&e!==void 0?e:"off";if(!n)return Hq;const r=cC.get(n);if(r&&r[0]===o)return r[1];const a={error:Tf("error",n,o),warn:Tf("warn",n,o),info:Tf("info",n,o),debug:Tf("debug",n,o)};return cC.set(n,[o,a]),a}const Nr=t=>(t.options&&(t.options=Object.assign({},t.options),delete t.options.headers),t.headers&&(t.headers=Object.fromEntries((t.headers instanceof Headers?[...t.headers]:Object.entries(t.headers)).map(([e,n])=>[e,e.toLowerCase()==="x-goog-api-key"||e.toLowerCase()==="authorization"||e.toLowerCase()==="cookie"||e.toLowerCase()==="set-cookie"?"***":n]))),"retryOfRequestLogID"in t&&(t.retryOfRequestLogID&&(t.retryOf=t.retryOfRequestLogID),delete t.retryOfRequestLogID),t);let Fq=class kl{constructor(e,n,o){this.iterator=e,this.controller=n,this.client=o}static fromSSEResponse(e,n,o){let r=!1;const a=o?Ft(o):console;function u(){return oo(this,arguments,function*(){var h,d,m,y;if(r)throw new zn("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let S=!1;try{try{for(var E=!0,C=io($q(e,n)),A;A=yield Ce(C.next()),h=A.done,!h;E=!0){y=A.value,E=!1;const x=y;if(!S)if(x.data.startsWith("[DONE]")){S=!0;continue}else try{yield yield Ce(JSON.parse(x.data))}catch(M){throw a.error("Could not parse message into JSON:",x.data),a.error("From chunk:",x.raw),M}}}catch(x){d={error:x}}finally{try{!E&&!h&&(m=C.return)&&(yield Ce(m.call(C)))}finally{if(d)throw d.error}}S=!0}catch(x){if(vv(x))return yield Ce(void 0);throw x}finally{S||n.abort()}})}return new kl(u,n,o)}static fromReadableStream(e,n,o){let r=!1;function a(){return oo(this,arguments,function*(){var h,d,m,y;const S=new uh,E=OM(e);try{for(var C=!0,A=io(E),x;x=yield Ce(A.next()),h=x.done,!h;C=!0){y=x.value,C=!1;const M=y;for(const I of S.decode(M))yield yield Ce(I)}}catch(M){d={error:M}}finally{try{!C&&!h&&(m=A.return)&&(yield Ce(m.call(A)))}finally{if(d)throw d.error}}for(const M of S.flush())yield yield Ce(M)})}function u(){return oo(this,arguments,function*(){var h,d,m,y;if(r)throw new zn("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let S=!1;try{try{for(var E=!0,C=io(a()),A;A=yield Ce(C.next()),h=A.done,!h;E=!0){y=A.value,E=!1;const x=y;S||x&&(yield yield Ce(JSON.parse(x)))}}catch(x){d={error:x}}finally{try{!E&&!h&&(m=C.return)&&(yield Ce(m.call(C)))}finally{if(d)throw d.error}}S=!0}catch(x){if(vv(x))return yield Ce(void 0);throw x}finally{S||n.abort()}})}return new kl(u,n,o)}[Symbol.asyncIterator](){return this.iterator()}tee(){const e=[],n=[],o=this.iterator(),r=a=>({next:()=>{if(a.length===0){const u=o.next();e.push(u),n.push(u)}return a.shift()}});return[new kl(()=>r(e),this.controller,this.client),new kl(()=>r(n),this.controller,this.client)]}toReadableStream(){const e=this;let n;return DM({async start(){n=e[Symbol.asyncIterator]()},async pull(o){try{const{value:r,done:a}=await n.next();if(a)return o.close();const u=ky(JSON.stringify(r)+`
`);o.enqueue(u)}catch(r){o.error(r)}},async cancel(){var o;await((o=n.return)===null||o===void 0?void 0:o.call(n))}})}};function $q(t,e){return oo(this,arguments,function*(){var o,r,a,u;if(!t.body)throw e.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new zn("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new zn("Attempted to iterate over a response with no body");const c=new Vq,h=new uh,d=OM(t.body);try{for(var m=!0,y=io(Gq(d)),S;S=yield Ce(y.next()),o=S.done,!o;m=!0){u=S.value,m=!1;const E=u;for(const C of h.decode(E)){const A=c.decode(C);A&&(yield yield Ce(A))}}}catch(E){r={error:E}}finally{try{!m&&!o&&(a=y.return)&&(yield Ce(a.call(y)))}finally{if(r)throw r.error}}for(const E of h.flush()){const C=c.decode(E);C&&(yield yield Ce(C))}})}function Gq(t){return oo(this,arguments,function*(){var n,o,r,a;let u=new Uint8Array;try{for(var c=!0,h=io(t),d;d=yield Ce(h.next()),n=d.done,!n;c=!0){a=d.value,c=!1;const m=a;if(m==null)continue;const y=m instanceof ArrayBuffer?new Uint8Array(m):typeof m=="string"?ky(m):m;let S=new Uint8Array(u.length+y.length);S.set(u),S.set(y,u.length),u=S;let E;for(;(E=Bq(u))!==-1;)yield yield Ce(u.slice(0,E)),u=u.slice(E)}}catch(m){o={error:m}}finally{try{!c&&!n&&(r=h.return)&&(yield Ce(r.call(h)))}finally{if(o)throw o.error}}u.length>0&&(yield yield Ce(u))})}let Vq=class{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const a={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],a}if(this.chunks.push(e),e.startsWith(":"))return null;let[n,o,r]=zq(e,":");return r.startsWith(" ")&&(r=r.substring(1)),n==="event"?this.event=r:n==="data"&&this.data.push(r),null}};function zq(t,e){const n=t.indexOf(e);return n!==-1?[t.substring(0,n),e,t.substring(n+e.length)]:[t,"",""]}async function qq(t,e){const{response:n,requestLogID:o,retryOfRequestLogID:r,startTime:a}=e,u=await(async()=>{var c;if(e.options.stream)return Ft(t).debug("response",n.status,n.url,n.headers,n.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(n,e.controller,t):Fq.fromSSEResponse(n,e.controller,t);if(n.status===204)return null;if(e.options.__binaryResponse)return n;const h=n.headers.get("content-type"),d=(c=h?.split(";")[0])===null||c===void 0?void 0:c.trim();return d?.includes("application/json")||d?.endsWith("+json")?await n.json():await n.text()})();return Ft(t).debug(`[${o}] response parsed`,Nr({retryOfRequestLogID:r,url:n.url,status:n.status,body:u,durationMs:Date.now()-a})),u}let Jq=class FM extends Promise{constructor(e,n,o=qq){super(r=>{r(null)}),this.responsePromise=n,this.parseResponse=o,this.client=e}_thenUnwrap(e){return new FM(this.client,this.responsePromise,async(n,o)=>e(await this.parseResponse(n,o),o))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:n}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(e=>this.parseResponse(this.client,e))),this.parsedPromise}then(e,n){return this.parse().then(e,n)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}};const $M=Symbol("brand.privateNullableHeaders");function*Kq(t){if(!t)return;if($M in t){const{values:o,nulls:r}=t;yield*o.entries();for(const a of r)yield[a,null];return}let e=!1,n;t instanceof Headers?n=t.entries():iC(t)?n=t:(e=!0,n=Object.entries(t??{}));for(let o of n){const r=o[0];if(typeof r!="string")throw new TypeError("expected header name to be a string");const a=iC(o[1])?o[1]:[o[1]];let u=!1;for(const c of a)c!==void 0&&(e&&!u&&(u=!0,yield[r,null]),yield[r,c])}}const vg=t=>{const e=new Headers,n=new Set;for(const o of t){const r=new Set;for(const[a,u]of Kq(o)){const c=a.toLowerCase();r.has(c)||(e.delete(a),r.add(c)),u===null?(e.delete(a),n.add(c)):(e.append(a,u),n.delete(c))}}return{[$M]:!0,values:e,nulls:n}};const yg=t=>{var e,n,o,r,a,u;if(typeof globalThis.process<"u")return(o=(n=(e=vH)===null||e===void 0?void 0:e[t])===null||n===void 0?void 0:n.trim())!==null&&o!==void 0?o:void 0;if(typeof globalThis.Deno<"u")return(u=(a=(r=globalThis.Deno.env)===null||r===void 0?void 0:r.get)===null||a===void 0?void 0:a.call(r,t))===null||u===void 0?void 0:u.trim()};var GM;class ch{constructor(e){var n,o,r,a,u,c,h,d=e===void 0?{}:e,{baseURL:m=yg("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:y=(n=yg("GEMINI_API_KEY"))!==null&&n!==void 0?n:null,apiVersion:S="v1beta"}=d,E=bd(d,["baseURL","apiKey","apiVersion"]);const C=Object.assign(Object.assign({apiKey:y,apiVersion:S},E),{baseURL:m||"https://generativelanguage.googleapis.com"});this.baseURL=C.baseURL,this.timeout=(o=C.timeout)!==null&&o!==void 0?o:ch.DEFAULT_TIMEOUT,this.logger=(r=C.logger)!==null&&r!==void 0?r:console;const A="warn";this.logLevel=A,this.logLevel=(u=(a=uC(C.logLevel,"ClientOptions.logLevel",this))!==null&&a!==void 0?a:uC(yg("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&u!==void 0?u:A,this.fetchOptions=C.fetchOptions,this.maxRetries=(c=C.maxRetries)!==null&&c!==void 0?c:2,this.fetch=(h=C.fetch)!==null&&h!==void 0?h:Cq(),this.encoder=Rq,this._options=C,this.apiKey=y,this.apiVersion=S}withOptions(e){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),e))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:e,nulls:n}){if(!(this.apiKey&&e.get("x-goog-api-key"))&&!n.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(e){if(this.apiKey!=null)return vg([{"x-goog-api-key":this.apiKey}])}stringifyQuery(e){return Object.entries(e).filter(([n,o])=>typeof o<"u").map(([n,o])=>{if(typeof o=="string"||typeof o=="number"||typeof o=="boolean")return`${encodeURIComponent(n)}=${encodeURIComponent(o)}`;if(o===null)return`${encodeURIComponent(n)}=`;throw new zn(`Cannot stringify type ${typeof o}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${Ws}`}defaultIdempotencyKey(){return`stainless-node-retry-${fq()}`}makeStatusError(e,n,o,r){return qn.generate(e,n,o,r)}buildURL(e,n,o){const r=!this.baseURLOverridden()&&o||this.baseURL,a=hq(e)?new URL(e):new URL(r+(r.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),u=this.defaultQuery();return gq(u)||(n=Object.assign(Object.assign({},u),n)),typeof n=="object"&&n&&!Array.isArray(n)&&(a.search=this.stringifyQuery(n)),a.toString()}async prepareOptions(e){}async prepareRequest(e,{url:n,options:o}){}get(e,n){return this.methodRequest("get",e,n)}post(e,n){return this.methodRequest("post",e,n)}patch(e,n){return this.methodRequest("patch",e,n)}put(e,n){return this.methodRequest("put",e,n)}delete(e,n){return this.methodRequest("delete",e,n)}methodRequest(e,n,o){return this.request(Promise.resolve(o).then(r=>Object.assign({method:e,path:n},r)))}request(e,n=null){return new Jq(this,this.makeRequest(e,n,void 0))}async makeRequest(e,n,o){var r,a,u;const c=await e,h=(r=c.maxRetries)!==null&&r!==void 0?r:this.maxRetries;n==null&&(n=h),await this.prepareOptions(c);const{req:d,url:m,timeout:y}=await this.buildRequest(c,{retryCount:h-n});await this.prepareRequest(d,{url:m,options:c});const S="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),E=o===void 0?"":`, retryOf: ${o}`,C=Date.now();if(Ft(this).debug(`[${S}] sending request`,Nr({retryOfRequestLogID:o,method:c.method,url:m,options:c,headers:d.headers})),!((a=c.signal)===null||a===void 0)&&a.aborted)throw new Sv;const A=new AbortController,x=await this.fetchWithTimeout(m,d,y,A).catch(yv),M=Date.now();if(x instanceof globalThis.Error){const N=`retrying, ${n} attempts remaining`;if(!((u=c.signal)===null||u===void 0)&&u.aborted)throw new Sv;const D=vv(x)||/timed? ?out/i.test(String(x)+("cause"in x?String(x.cause):""));if(n)return Ft(this).info(`[${S}] connection ${D?"timed out":"failed"} - ${N}`),Ft(this).debug(`[${S}] connection ${D?"timed out":"failed"} (${N})`,Nr({retryOfRequestLogID:o,url:m,durationMs:M-C,message:x.message})),this.retryRequest(c,n,o??S);throw Ft(this).info(`[${S}] connection ${D?"timed out":"failed"} - error; no more retries left`),Ft(this).debug(`[${S}] connection ${D?"timed out":"failed"} (error; no more retries left)`,Nr({retryOfRequestLogID:o,url:m,durationMs:M-C,message:x.message})),D?new wM:new lh({cause:x})}const I=`[${S}${E}] ${d.method} ${m} ${x.ok?"succeeded":"failed"} with status ${x.status} in ${M-C}ms`;if(!x.ok){const N=await this.shouldRetry(x);if(n&&N){const J=`retrying, ${n} attempts remaining`;return await xq(x.body),Ft(this).info(`${I} - ${J}`),Ft(this).debug(`[${S}] response error (${J})`,Nr({retryOfRequestLogID:o,url:x.url,status:x.status,headers:x.headers,durationMs:M-C})),this.retryRequest(c,n,o??S,x.headers)}const D=N?"error; no more retries left":"error; not retryable";Ft(this).info(`${I} - ${D}`);const L=await x.text().catch(J=>yv(J).message),U=_q(L),O=U?void 0:L;throw Ft(this).debug(`[${S}] response error (${D})`,Nr({retryOfRequestLogID:o,url:x.url,status:x.status,headers:x.headers,message:O,durationMs:Date.now()-C})),this.makeStatusError(x.status,U,O,x.headers)}return Ft(this).info(I),Ft(this).debug(`[${S}] response start`,Nr({retryOfRequestLogID:o,url:x.url,status:x.status,headers:x.headers,durationMs:M-C})),{response:x,options:c,controller:A,requestLogID:S,retryOfRequestLogID:o,startTime:C}}async fetchWithTimeout(e,n,o,r){const a=n||{},{signal:u,method:c}=a,h=bd(a,["signal","method"]);u&&u.addEventListener("abort",()=>r.abort());const d=setTimeout(()=>r.abort(),o),m=globalThis.ReadableStream&&h.body instanceof globalThis.ReadableStream||typeof h.body=="object"&&h.body!==null&&Symbol.asyncIterator in h.body,y=Object.assign(Object.assign(Object.assign({signal:r.signal},m?{duplex:"half"}:{}),{method:"GET"}),h);c&&(y.method=c.toUpperCase());try{return await this.fetch.call(void 0,e,y)}finally{clearTimeout(d)}}async shouldRetry(e){const n=e.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,n,o,r){var a;let u;const c=r?.get("retry-after-ms");if(c){const d=parseFloat(c);Number.isNaN(d)||(u=d)}const h=r?.get("retry-after");if(h&&!u){const d=parseFloat(h);Number.isNaN(d)?u=Date.parse(h)-Date.now():u=d*1e3}if(!(u&&0<=u&&u<60*1e3)){const d=(a=e.maxRetries)!==null&&a!==void 0?a:this.maxRetries;u=this.calculateDefaultRetryTimeoutMillis(n,d)}return await Sq(u),this.makeRequest(e,n-1,o)}calculateDefaultRetryTimeoutMillis(e,n){const a=n-e,u=Math.min(.5*Math.pow(2,a),8),c=1-Math.random()*.25;return u*c*1e3}async buildRequest(e,{retryCount:n=0}={}){var o,r,a;const u=Object.assign({},e),{method:c,path:h,query:d,defaultBaseURL:m}=u,y=this.buildURL(h,d,m);"timeout"in u&&yq("timeout",u.timeout),u.timeout=(o=u.timeout)!==null&&o!==void 0?o:this.timeout;const{bodyHeaders:S,body:E}=this.buildBody({options:u}),C=await this.buildHeaders({options:e,method:c,bodyHeaders:S,retryCount:n});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:c,headers:C},u.signal&&{signal:u.signal}),globalThis.ReadableStream&&E instanceof globalThis.ReadableStream&&{duplex:"half"}),E&&{body:E}),(r=this.fetchOptions)!==null&&r!==void 0?r:{}),(a=u.fetchOptions)!==null&&a!==void 0?a:{}),url:y,timeout:u.timeout}}async buildHeaders({options:e,method:n,bodyHeaders:o,retryCount:r}){let a={};this.idempotencyHeader&&n!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),a[this.idempotencyHeader]=e.idempotencyKey);const u=vg([a,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(r)},e.timeout?{"X-Stainless-Timeout":String(Math.trunc(e.timeout/1e3))}:{}),Tq()),await this.authHeaders(e),this._options.defaultHeaders,o,e.headers]);return this.validateHeaders(u),u.values}buildBody({options:{body:e,headers:n}}){if(!e)return{bodyHeaders:void 0,body:void 0};const o=vg([n]);return ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof DataView||typeof e=="string"&&o.values.has("content-type")||globalThis.Blob&&e instanceof globalThis.Blob||e instanceof FormData||e instanceof URLSearchParams||globalThis.ReadableStream&&e instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:e}:typeof e=="object"&&(Symbol.asyncIterator in e||Symbol.iterator in e&&"next"in e&&typeof e.next=="function")?{bodyHeaders:void 0,body:Aq(e)}:this.encoder({body:e,headers:o})}}ch.DEFAULT_TIMEOUT=6e4;class Tt extends ch{constructor(){super(...arguments),this.interactions=new HM(this)}}GM=Tt;Tt.GeminiNextGenAPIClient=GM;Tt.GeminiNextGenAPIClientError=zn;Tt.APIError=qn;Tt.APIConnectionError=lh;Tt.APIConnectionTimeoutError=wM;Tt.APIUserAbortError=Sv;Tt.NotFoundError=xM;Tt.ConflictError=RM;Tt.RateLimitError=NM;Tt.BadRequestError=TM;Tt.AuthenticationError=CM;Tt.InternalServerError=IM;Tt.PermissionDeniedError=AM;Tt.UnprocessableEntityError=MM;Tt.toFile=Oq;Tt.Interactions=HM;function Yq(t,e){const n={},o=p(t,["name"]);return o!=null&&g(n,["_url","name"],o),n}function Xq(t,e){const n={},o=p(t,["name"]);return o!=null&&g(n,["_url","name"],o),n}function jq(t,e){const n={},o=p(t,["sdkHttpResponse"]);return o!=null&&g(n,["sdkHttpResponse"],o),n}function Wq(t,e){const n={},o=p(t,["sdkHttpResponse"]);return o!=null&&g(n,["sdkHttpResponse"],o),n}function Qq(t,e,n){const o={};if(p(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const r=p(t,["tunedModelDisplayName"]);if(e!==void 0&&r!=null&&g(e,["displayName"],r),p(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const a=p(t,["epochCount"]);e!==void 0&&a!=null&&g(e,["tuningTask","hyperparameters","epochCount"],a);const u=p(t,["learningRateMultiplier"]);if(u!=null&&g(o,["tuningTask","hyperparameters","learningRateMultiplier"],u),p(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(p(t,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(p(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const c=p(t,["batchSize"]);e!==void 0&&c!=null&&g(e,["tuningTask","hyperparameters","batchSize"],c);const h=p(t,["learningRate"]);if(e!==void 0&&h!=null&&g(e,["tuningTask","hyperparameters","learningRate"],h),p(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(p(t,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return o}function Zq(t,e,n){const o={};let r=p(n,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){const E=p(t,["validationDataset"]);e!==void 0&&E!=null&&g(e,["supervisedTuningSpec"],fC(E))}else if(r==="PREFERENCE_TUNING"){const E=p(t,["validationDataset"]);e!==void 0&&E!=null&&g(e,["preferenceOptimizationSpec"],fC(E))}const a=p(t,["tunedModelDisplayName"]);e!==void 0&&a!=null&&g(e,["tunedModelDisplayName"],a);const u=p(t,["description"]);e!==void 0&&u!=null&&g(e,["description"],u);let c=p(n,["config","method"]);if(c===void 0&&(c="SUPERVISED_FINE_TUNING"),c==="SUPERVISED_FINE_TUNING"){const E=p(t,["epochCount"]);e!==void 0&&E!=null&&g(e,["supervisedTuningSpec","hyperParameters","epochCount"],E)}else if(c==="PREFERENCE_TUNING"){const E=p(t,["epochCount"]);e!==void 0&&E!=null&&g(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],E)}let h=p(n,["config","method"]);if(h===void 0&&(h="SUPERVISED_FINE_TUNING"),h==="SUPERVISED_FINE_TUNING"){const E=p(t,["learningRateMultiplier"]);e!==void 0&&E!=null&&g(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],E)}else if(h==="PREFERENCE_TUNING"){const E=p(t,["learningRateMultiplier"]);e!==void 0&&E!=null&&g(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],E)}let d=p(n,["config","method"]);if(d===void 0&&(d="SUPERVISED_FINE_TUNING"),d==="SUPERVISED_FINE_TUNING"){const E=p(t,["exportLastCheckpointOnly"]);e!==void 0&&E!=null&&g(e,["supervisedTuningSpec","exportLastCheckpointOnly"],E)}else if(d==="PREFERENCE_TUNING"){const E=p(t,["exportLastCheckpointOnly"]);e!==void 0&&E!=null&&g(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],E)}let m=p(n,["config","method"]);if(m===void 0&&(m="SUPERVISED_FINE_TUNING"),m==="SUPERVISED_FINE_TUNING"){const E=p(t,["adapterSize"]);e!==void 0&&E!=null&&g(e,["supervisedTuningSpec","hyperParameters","adapterSize"],E)}else if(m==="PREFERENCE_TUNING"){const E=p(t,["adapterSize"]);e!==void 0&&E!=null&&g(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],E)}if(p(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(p(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const y=p(t,["labels"]);e!==void 0&&y!=null&&g(e,["labels"],y);const S=p(t,["beta"]);return e!==void 0&&S!=null&&g(e,["preferenceOptimizationSpec","hyperParameters","beta"],S),o}function e3(t,e){const n={},o=p(t,["baseModel"]);o!=null&&g(n,["baseModel"],o);const r=p(t,["preTunedModel"]);r!=null&&g(n,["preTunedModel"],r);const a=p(t,["trainingDataset"]);a!=null&&f3(a);const u=p(t,["config"]);return u!=null&&Qq(u,n),n}function t3(t,e){const n={},o=p(t,["baseModel"]);o!=null&&g(n,["baseModel"],o);const r=p(t,["preTunedModel"]);r!=null&&g(n,["preTunedModel"],r);const a=p(t,["trainingDataset"]);a!=null&&d3(a,n,e);const u=p(t,["config"]);return u!=null&&Zq(u,n,e),n}function n3(t,e){const n={},o=p(t,["name"]);return o!=null&&g(n,["_url","name"],o),n}function o3(t,e){const n={},o=p(t,["name"]);return o!=null&&g(n,["_url","name"],o),n}function i3(t,e,n){const o={},r=p(t,["pageSize"]);e!==void 0&&r!=null&&g(e,["_query","pageSize"],r);const a=p(t,["pageToken"]);e!==void 0&&a!=null&&g(e,["_query","pageToken"],a);const u=p(t,["filter"]);return e!==void 0&&u!=null&&g(e,["_query","filter"],u),o}function r3(t,e,n){const o={},r=p(t,["pageSize"]);e!==void 0&&r!=null&&g(e,["_query","pageSize"],r);const a=p(t,["pageToken"]);e!==void 0&&a!=null&&g(e,["_query","pageToken"],a);const u=p(t,["filter"]);return e!==void 0&&u!=null&&g(e,["_query","filter"],u),o}function s3(t,e){const n={},o=p(t,["config"]);return o!=null&&i3(o,n),n}function a3(t,e){const n={},o=p(t,["config"]);return o!=null&&r3(o,n),n}function l3(t,e){const n={},o=p(t,["sdkHttpResponse"]);o!=null&&g(n,["sdkHttpResponse"],o);const r=p(t,["nextPageToken"]);r!=null&&g(n,["nextPageToken"],r);const a=p(t,["tunedModels"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(c=>VM(c))),g(n,["tuningJobs"],u)}return n}function u3(t,e){const n={},o=p(t,["sdkHttpResponse"]);o!=null&&g(n,["sdkHttpResponse"],o);const r=p(t,["nextPageToken"]);r!=null&&g(n,["nextPageToken"],r);const a=p(t,["tuningJobs"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(c=>wv(c))),g(n,["tuningJobs"],u)}return n}function c3(t,e){const n={},o=p(t,["name"]);o!=null&&g(n,["model"],o);const r=p(t,["name"]);return r!=null&&g(n,["endpoint"],r),n}function f3(t,e){const n={};if(p(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(p(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const o=p(t,["examples"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(a=>a)),g(n,["examples","examples"],r)}return n}function d3(t,e,n){const o={};let r=p(n,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){const u=p(t,["gcsUri"]);e!==void 0&&u!=null&&g(e,["supervisedTuningSpec","trainingDatasetUri"],u)}else if(r==="PREFERENCE_TUNING"){const u=p(t,["gcsUri"]);e!==void 0&&u!=null&&g(e,["preferenceOptimizationSpec","trainingDatasetUri"],u)}let a=p(n,["config","method"]);if(a===void 0&&(a="SUPERVISED_FINE_TUNING"),a==="SUPERVISED_FINE_TUNING"){const u=p(t,["vertexDatasetResource"]);e!==void 0&&u!=null&&g(e,["supervisedTuningSpec","trainingDatasetUri"],u)}else if(a==="PREFERENCE_TUNING"){const u=p(t,["vertexDatasetResource"]);e!==void 0&&u!=null&&g(e,["preferenceOptimizationSpec","trainingDatasetUri"],u)}if(p(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return o}function VM(t,e){const n={},o=p(t,["sdkHttpResponse"]);o!=null&&g(n,["sdkHttpResponse"],o);const r=p(t,["name"]);r!=null&&g(n,["name"],r);const a=p(t,["state"]);a!=null&&g(n,["state"],nM(a));const u=p(t,["createTime"]);u!=null&&g(n,["createTime"],u);const c=p(t,["tuningTask","startTime"]);c!=null&&g(n,["startTime"],c);const h=p(t,["tuningTask","completeTime"]);h!=null&&g(n,["endTime"],h);const d=p(t,["updateTime"]);d!=null&&g(n,["updateTime"],d);const m=p(t,["description"]);m!=null&&g(n,["description"],m);const y=p(t,["baseModel"]);y!=null&&g(n,["baseModel"],y);const S=p(t,["_self"]);return S!=null&&g(n,["tunedModel"],c3(S)),n}function wv(t,e){const n={},o=p(t,["sdkHttpResponse"]);o!=null&&g(n,["sdkHttpResponse"],o);const r=p(t,["name"]);r!=null&&g(n,["name"],r);const a=p(t,["state"]);a!=null&&g(n,["state"],nM(a));const u=p(t,["createTime"]);u!=null&&g(n,["createTime"],u);const c=p(t,["startTime"]);c!=null&&g(n,["startTime"],c);const h=p(t,["endTime"]);h!=null&&g(n,["endTime"],h);const d=p(t,["updateTime"]);d!=null&&g(n,["updateTime"],d);const m=p(t,["error"]);m!=null&&g(n,["error"],m);const y=p(t,["description"]);y!=null&&g(n,["description"],y);const S=p(t,["baseModel"]);S!=null&&g(n,["baseModel"],S);const E=p(t,["tunedModel"]);E!=null&&g(n,["tunedModel"],E);const C=p(t,["preTunedModel"]);C!=null&&g(n,["preTunedModel"],C);const A=p(t,["supervisedTuningSpec"]);A!=null&&g(n,["supervisedTuningSpec"],A);const x=p(t,["preferenceOptimizationSpec"]);x!=null&&g(n,["preferenceOptimizationSpec"],x);const M=p(t,["tuningDataStats"]);M!=null&&g(n,["tuningDataStats"],M);const I=p(t,["encryptionSpec"]);I!=null&&g(n,["encryptionSpec"],I);const N=p(t,["partnerModelTuningSpec"]);N!=null&&g(n,["partnerModelTuningSpec"],N);const D=p(t,["customBaseModel"]);D!=null&&g(n,["customBaseModel"],D);const L=p(t,["experiment"]);L!=null&&g(n,["experiment"],L);const U=p(t,["labels"]);U!=null&&g(n,["labels"],U);const O=p(t,["outputUri"]);O!=null&&g(n,["outputUri"],O);const q=p(t,["pipelineJob"]);q!=null&&g(n,["pipelineJob"],q);const J=p(t,["serviceAccount"]);J!=null&&g(n,["serviceAccount"],J);const X=p(t,["tunedModelDisplayName"]);X!=null&&g(n,["tunedModelDisplayName"],X);const W=p(t,["veoTuningSpec"]);return W!=null&&g(n,["veoTuningSpec"],W),n}function h3(t,e){const n={},o=p(t,["sdkHttpResponse"]);o!=null&&g(n,["sdkHttpResponse"],o);const r=p(t,["name"]);r!=null&&g(n,["name"],r);const a=p(t,["metadata"]);a!=null&&g(n,["metadata"],a);const u=p(t,["done"]);u!=null&&g(n,["done"],u);const c=p(t,["error"]);return c!=null&&g(n,["error"],c),n}function fC(t,e){const n={},o=p(t,["gcsUri"]);o!=null&&g(n,["validationDatasetUri"],o);const r=p(t,["vertexDatasetResource"]);return r!=null&&g(n,["validationDatasetUri"],r),n}class p3 extends gi{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new es(fi.PAGED_ITEM_TUNING_JOBS,o=>this.listInternal(o),await this.listInternal(n),n),this.get=async n=>await this.getInternal(n),this.tune=async n=>{var o;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const r={tunedModelName:n.baseModel};!((o=n.config)===null||o===void 0)&&o.preTunedModelCheckpointId&&(r.checkpointId=n.config.preTunedModelCheckpointId);const a=Object.assign(Object.assign({},n),{preTunedModel:r});return a.baseModel=void 0,await this.tuneInternal(a)}else{const r=Object.assign({},n);return await this.tuneInternal(r)}else{const r=Object.assign({},n),a=await this.tuneMldevInternal(r);let u="";return a.metadata!==void 0&&a.metadata.tunedModel!==void 0?u=a.metadata.tunedModel:a.name!==void 0&&a.name.includes("/operations/")&&(u=a.name.split("/operations/")[0]),{name:u,state:cv.JOB_STATE_QUEUED}}}}async getInternal(e){var n,o,r,a;let u,c="",h={};if(this.apiClient.isVertexAI()){const d=o3(e);return c=fe("{name}",d._url),h=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json().then(y=>{const S=y;return S.sdkHttpResponse={headers:m.headers},S})),u.then(m=>wv(m))}else{const d=n3(e);return c=fe("{name}",d._url),h=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json().then(y=>{const S=y;return S.sdkHttpResponse={headers:m.headers},S})),u.then(m=>VM(m))}}async listInternal(e){var n,o,r,a;let u,c="",h={};if(this.apiClient.isVertexAI()){const d=a3(e);return c=fe("tuningJobs",d._url),h=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json().then(y=>{const S=y;return S.sdkHttpResponse={headers:m.headers},S})),u.then(m=>{const y=u3(m),S=new UT;return Object.assign(S,y),S})}else{const d=s3(e);return c=fe("tunedModels",d._url),h=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json().then(y=>{const S=y;return S.sdkHttpResponse={headers:m.headers},S})),u.then(m=>{const y=l3(m),S=new UT;return Object.assign(S,y),S})}}async cancel(e){var n,o,r,a;let u,c="",h={};if(this.apiClient.isVertexAI()){const d=Xq(e);return c=fe("{name}:cancel",d._url),h=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json().then(y=>{const S=y;return S.sdkHttpResponse={headers:m.headers},S})),u.then(m=>{const y=Wq(m),S=new BT;return Object.assign(S,y),S})}else{const d=Yq(e);return c=fe("{name}:cancel",d._url),h=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json().then(y=>{const S=y;return S.sdkHttpResponse={headers:m.headers},S})),u.then(m=>{const y=jq(m),S=new BT;return Object.assign(S,y),S})}}async tuneInternal(e){var n,o;let r,a="",u={};if(this.apiClient.isVertexAI()){const c=t3(e,e);return a=fe("tuningJobs",c._url),u=c._query,delete c._url,delete c._query,r=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(d=>{const m=d;return m.sdkHttpResponse={headers:h.headers},m})),r.then(h=>wv(h))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,o;let r,a="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=e3(e);return a=fe("tunedModels",c._url),u=c._query,delete c._url,delete c._query,r=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(d=>{const m=d;return m.sdkHttpResponse={headers:h.headers},m})),r.then(h=>h3(h))}}}class m3{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const g3=1024*1024*8,v3=3,y3=1e3,_3=2,Td="x-goog-upload-status";async function S3(t,e,n){var o;const r=await zM(t,e,n),a=await r?.json();if(((o=r?.headers)===null||o===void 0?void 0:o[Td])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return a.file}async function E3(t,e,n){var o;const r=await zM(t,e,n),a=await r?.json();if(((o=r?.headers)===null||o===void 0?void 0:o[Td])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const u=jR(a),c=new My;return Object.assign(c,u),c}async function zM(t,e,n){var o,r;let a=0,u=0,c=new fv(new Response),h="upload";for(a=t.size;u<a;){const d=Math.min(g3,a-u),m=t.slice(u,u+d);u+d>=a&&(h+=", finalize");let y=0,S=y3;for(;y<v3&&(c=await n.request({path:"",body:m,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":h,"X-Goog-Upload-Offset":String(u),"Content-Length":String(d)}}}),!(!((o=c?.headers)===null||o===void 0)&&o[Td]));)y++,await w3(S),S=S*_3;if(u+=d,((r=c?.headers)===null||r===void 0?void 0:r[Td])!=="active")break;if(a<=u)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return c}async function b3(t){return{size:t.size,type:t.type}}function w3(t){return new Promise(e=>setTimeout(e,t))}class T3{async upload(e,n,o){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await S3(e,n,o)}async uploadToFileSearchStore(e,n,o){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await E3(e,n,o)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await b3(e)}}class C3{create(e,n,o){return new A3(e,n,o)}}class A3{constructor(e,n,o){this.url=e,this.headers=n,this.callbacks=o}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}const dC="x-goog-api-key";class x3{constructor(e){this.apiKey=e}async addAuthHeaders(e,n){if(e.get(dC)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(dC,this.apiKey)}}}const R3="gl-node/";class M3{get interactions(){if(this._interactions!==void 0)return this._interactions;if(console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions."),this.vertexai)throw new Error("This version of the GenAI SDK does not support Vertex AI API for interactions.");const e=this.httpOptions;e?.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const n=new Tt({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:e?.timeout});return this._interactions=n.interactions,this._interactions}constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;const o=EH(e.httpOptions,e.vertexai,void 0,void 0);o&&(e.httpOptions?e.httpOptions.baseUrl=o:e.httpOptions={baseUrl:o}),this.apiVersion=e.apiVersion,this.httpOptions=e.httpOptions;const r=new x3(this.apiKey);this.apiClient=new Sz({auth:r,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:R3+"web",uploader:new T3,downloader:new m3}),this.models=new Hz(this.apiClient),this.live=new Oz(this.apiClient,r,new C3),this.batches=new jF(this.apiClient),this.chats=new I$(this.models,this.apiClient),this.caches=new R$(this.apiClient),this.files=new $$(this.apiClient),this.operations=new Fz(this.apiClient),this.authTokens=new nq(this.apiClient),this.tunings=new p3(this.apiClient),this.fileSearchStores=new cq(this.apiClient)}}let _g=class extends Error{};const qM=["gemini-2.5-flash-image","gemini-3-pro-image-preview"];class ua{static getApiKey=null;static setApiKey=null;static getGenAI(){const e=this.getApiKey?.()||"";if(!e)throw new _g("No Google API key set");return new M3({apiKey:e})}static async txt2txt(e){try{const n=this.getGenAI(),o={},r=await n.models.generateContent({model:"gemini-2.5-flash",contents:e,config:o});return console.log("RES TEXT",r.text),r.text}catch(n){console.error("Goo Err Response",n);const o=n?.message||"";if(o.includes("API key not valid")||o.includes("API_KEY_INVALID")||n instanceof _g)return this.showKeyPromptWindow(),null;throw n}}static async img2img(e,n=qM[0],o){try{const r=this.getGenAI(),a=[{text:e}];if(o?.length)for(const m of o)!m?.rawBase64||!m?.mime||(m.description&&a.push({text:m.description}),a.push({inlineData:{data:m.rawBase64,mimeType:m.mime}}));const u={model:n,contents:a,config:{imageConfig:{aspectRatio:"9:16",response_modalities:["Image"]}}};console.log("Gemini Payload",u);const c=await r.models.generateContent(u);console.log("GEMINI RES",c);const d=(c?.candidates??[])[0]?.content?.parts??[];for(const m of d)if(m.inlineData){const y=m.inlineData.data,S=m.inlineData.mimeType||"image/png";return{base64Obj:{rawBase64:y,mime:S},id:c.responseId}}return null}catch(r){const a=r?.message||"";if(a.includes("API key not valid")||a.includes("API_KEY_INVALID")||r instanceof _g)return this.showKeyPromptWindow(),null;throw console.error("img2img error",r),r}}static showKeyPromptWindow(){const e=window.prompt("Your Google API key is missing or invalid. Please enter a valid key:");e?this.setApiKey?.(e):console.warn("User did not provide a valid API key.")}static async saveResultImage(e,n){return e&&e.base64Obj?.rawBase64?await Kr.fromBase64({rawBase64:e.base64Obj.rawBase64,mime:e.base64Obj.mime},n,`${e.id}.png`):(console.warn("No valid image returned from GoogleAI.img2img"),null)}}async function N3(t,e){const n=Math.floor(Date.now()/1e3),o={alg:"HS256",typ:"JWT"},r={iss:t,exp:n+1800,nbf:n-5},a=Sg(JSON.stringify(o)),u=Sg(JSON.stringify(r)),c=`${a}.${u}`,h=await crypto.subtle.importKey("raw",new TextEncoder().encode(e),{name:"HMAC",hash:"SHA-256"},!1,["sign"]),d=await crypto.subtle.sign("HMAC",h,new TextEncoder().encode(c));return`${c}.${Sg(d)}`}function Sg(t){let e;typeof t=="string"?e=new TextEncoder().encode(t):e=new Uint8Array(t);let n="";for(let o=0;o<e.length;o++)n+=String.fromCharCode(e[o]);return btoa(n).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}class su{static getKeysDict=null;static videoModels=["kling-v1","kling-v1-5","kling-v1-6","kling-v2-master","kling-v2-1","kling-v2-1-master","kling-v2-5-turbo","kling-v2-6","kling-video-o1"];static async getToken(){const e=this.getKeysDict?.();if(!e)throw new Error("No Kling API keys provided or getKeysDict not set");return await N3(e.accessKey,e.secretKey)}static async postToKling(e,n){const r=`http://localhost:4000/proxy/${encodeURIComponent(e)}`,a=await this.getToken();console.log(`Kling API request to ${e}:`,n);const u=await fetch(r,{method:"POST",headers:{Authorization:`Bearer ${a}`,"Content-Type":"application/json"},body:JSON.stringify(n)});if(!u.ok){const h=await u.text();throw new Error(`Kling API request failed: ${h}`)}const c=await u.json();return console.log(`Kling API response from ${e}:`,c),c}static async txt2video(e,n="kling-v1"){const o={model_name:n,mode:"std",duration:"5",prompt:e,cfg_scale:.5};return{id:(await this.postToKling("https://api-singapore.klingai.com/v1/videos/text2video",o)).data.task_id,workflow:"text2video"}}static async img2video(e){const{image:n,prompt:o,model:r="kling-v1",duration:a="5",mode:u="std",cfg_scale:c=.5,static_mask:h,dynamic_masks:d,image_tail:m,camera_control:y,voice_list:S,sound:E="off",negative_prompt:C,callback_url:A,external_task_id:x}=e,M={model_name:r,image:n,prompt:o,duration:a,mode:u,cfg_scale:c,sound:E};return h&&(M.static_mask=h),d&&(M.dynamic_masks=d),m&&(M.image_tail=m),y&&(M.camera_control=y),S&&(M.voice_list=S),C&&(M.negative_prompt=C),A&&(M.callback_url=A),x&&(M.external_task_id=x),{id:(await this.postToKling("https://api-singapore.klingai.com/v1/videos/image2video",M)).data.task_id,workflow:"image2video"}}static async getStatus(e,n="text2video"){const o=`https://api-singapore.klingai.com/v1/videos/${n}/${e}`,a=`http://localhost:4000/proxy/${encodeURIComponent(o)}`,u=await this.getToken();console.log("KLING_AI Get Status sent");const c=await fetch(a,{method:"GET",headers:{Authorization:`Bearer ${u}`,"Content-Type":"application/json"}});if(!c.ok){const d=await c.text();throw new Error(`Task status request failed: ${d}`)}if((c.headers.get("content-type")||"").includes("application/json")){const d=await c.json();return console.log("KLING check status:",d),{status:d?.data?.task_status||"unknown",status_msg:d?.data?.task_status_msg||"",url:d?.data?.task_result?.videos?.[0]?.url||null}}}}const JM={KLING:"kling",GPT:"gpt",GOOGLE:"google"};class au{handle;parent;urlObject=null;constructor(e,n){this.handle=e,this.parent=n}async getUrlObject(){if(!this.urlObject)try{const e=await this.handle.getFile();this.urlObject=URL.createObjectURL(e)}catch(e){console.error("Failed to create object URL for video:",e),this.urlObject=""}return this.urlObject}revokeUrl(){this.urlObject&&(URL.revokeObjectURL(this.urlObject),this.urlObject=null)}static async fromUrl(e,n){try{const o=await fetch(e);if(!o.ok)throw new Error(`Failed to fetch video: ${o.statusText}`);const r=await o.blob(),a=e.split("/"),u=a[a.length-1].split("?")[0],c=await n.getFileHandle(u,{create:!0}),h=await c.createWritable();return await h.write(r),await h.close(),new au(c,n)}catch(o){throw console.error("Failed to create LocalVideo from URL:",o),o}}async delete(e){try{this.revokeUrl(),await e.removeEntry(this.handle.name)}catch(n){throw console.error("Failed to delete video file:",n),n}}static async fromBase64(e,n,o){try{const r=atob(e),a=r.length,u=new Uint8Array(a);for(let d=0;d<a;d++)u[d]=r.charCodeAt(d);const c=await n.getFileHandle(o,{create:!0}),h=await c.createWritable();return await h.write(u),await h.close(),new au(c,n)}catch(r){throw console.error("Failed to create LocalVideo from Base64:",r),r}}}class hC{shot;id;is_checking_status=!1;_status_log="";constructor(e,n){this.shot=e,this.id=n,pi(this)}update(e){const o={...this.data||{},...e};this.shot.shotJson?.updateField(`tasks/${this.id}`,o)}log(){console.log({task:Vr(this),data:Vr(this.data)})}delete(){this.shot.removeTask(this)}get data(){return this.shot.shotJson?.getField(`tasks/${this.id}`)}finish_checking(){Ie(()=>{this.is_checking_status=!1}),this._status_log=""}async check_status(e=30,n=5e3){if(this.data.provider===JM.KLING){Ie(()=>{this.is_checking_status=!0,this._status_log="start checking"}),console.log("started checking status");for(let o=0;o<=e;o++){try{console.log("new attempt");const r=await su.getStatus(this.id,this.data.workflow);if(console.log("status",r),this.update(r),r?.status==="succeed"&&r.url){await this.downloadResults(),this.finish_checking();return}if(r?.status==="failed"){console.warn(`Task ${this.id} failed.`),this.finish_checking();return}}catch(r){console.error("Status check failed:",r)}o<e&&(Ie(()=>{this._status_log=`(attempt ${o+1}/${e})`}),await new Promise(r=>setTimeout(r,n)))}console.warn(`Task ${this.id} did not finish after ${e} retries.`),this.finish_checking()}}async downloadResults(){const e=this.data?.url,n=this.shot.genVideoFolder;if(!e)return console.warn("No URL found to download."),null;if(!n)return console.warn("No results folder available to save file."),null;try{const o=await au.fromUrl(e,n);return console.log(`Downloaded result video: ${o.handle.name}`),Ie(()=>{this.shot.videos.push(o)}),o}catch(o){return console.error("Failed to download Kling task result:",o),null}}}class pC{folder;scene;shotJson=null;images=[];videos=[];srcImage=null;resultsFolder=null;genVideoFolder=null;is_generating=!1;selected_art=null;tasks=[];is_submitting_video=!1;constructor(e,n){this.folder=e,this.scene=n,pi(this)}async load(){try{this.shotJson=await Jr.create(this.folder,"shotinfo.json"),this.images=[],this.srcImage=null;try{this.resultsFolder=await this.folder.getDirectoryHandle("results",{create:!0});for await(const[e,n]of this.resultsFolder.entries())if(n.kind==="file"){const o=new Kr(n,this.resultsFolder);this.images.push(o),this.shotJson.data?.srcImage&&e===this.shotJson.data.srcImage&&(this.srcImage=o)}}catch(e){console.warn("No results folder found or failed to read:",e),this.resultsFolder=null}try{this.genVideoFolder=await this.folder.getDirectoryHandle("genVideo",{create:!0});for await(const[,e]of this.genVideoFolder.entries())if(e.kind==="file"){const n=new au(e,this.genVideoFolder);this.videos.push(n)}}catch(e){console.warn("No genVideo folder found or failed to read:",e),this.genVideoFolder=null}this.loadTasks()}catch(e){console.error("Error loading shot:",this.folder.name,e),this.shotJson=null,this.images=[],this.srcImage=null,this.resultsFolder=null}}loadTasks(){const e=this.shotJson?.getField("tasks");Ie(()=>{if(this.tasks=[],!(!e||typeof e!="object"))for(const n of Object.keys(e))this.tasks.push(new hC(this,n))})}addTask(e,n){const o=new hC(this,e);return Ie(()=>{this.tasks.push(o)}),o.update(n),o}removeTask(e){Ie(()=>{this.tasks=this.tasks.filter(o=>o!==e)});const n=this.shotJson?.getField("tasks")??{};delete n[e.id],this.shotJson?.updateField("tasks",n)}setSrcImage(e){this.srcImage=e,this.shotJson?.data&&(this.shotJson.data.srcImage=e?.handle.name,this.shotJson.save())}async delete(){if(!this.scene?.folder){console.error("Cannot delete shot: scene folder not set");return}try{await this.scene.folder.removeEntry(this.folder.name,{recursive:!0}),Ie(()=>{this.scene.shots=this.scene.shots.filter(e=>e!==this)})}catch(e){console.error("Failed to delete shot:",e)}}addImage(e){this.images.push(e),this.srcImage||this.setSrcImage(e)}removeImage(e){this.images=this.images.filter(n=>n!==e),this.srcImage===e&&this.setSrcImage(null)}async GenerateVideo(){Ie(()=>{this.is_submitting_video=!0});let e=this.shotJson?.data.prompt||"";try{if(this.srcImage){const n=(await this.srcImage.getBase64()).rawBase64,o=await su.img2video({image:n,prompt:e,model:this.scene.project.workflows.generate_video_kling.model}),r=this.addTask(o.id,{provider:JM.KLING,workflow:o.workflow});await new Promise(a=>setTimeout(a,100)),console.log("created_task"),await r.check_status()}}catch(n){console.error("Submitting Video Generation Failed:",n)}finally{Ie(()=>{this.is_submitting_video=!1})}}async GenerateImage(){Ie(()=>{this.is_generating=!0});const e=this.getSkippedTags(),n=[];for(const r of this.scene.getTags())if(!e.includes(r.path))try{const a=await r.image.getBase64();n.push({rawBase64:a.rawBase64,mime:a.mime,description:r.path})}catch(a){console.warn("Failed to load tag image:",r.path,a)}let o=this.shotJson?.data.prompt||"";try{const r=await ua.img2img(o||"",this.scene.project.workflows.generate_shot_image.model,n),a=await ua.saveResultImage(r,this.resultsFolder);a&&this.addImage(a)}catch(r){console.error("GenerateImage failed:",r)}finally{Ie(()=>{this.is_generating=!1})}}selectArt(e=null){Ie(()=>{this.selected_art=e})}async saveGoogleResultImage(e,n=!1){const o=await ua.saveResultImage(e,this.resultsFolder);o&&(this.addImage(o),n&&this.selectArt(o))}getSkippedTags(){return this.shotJson?.data?.skippedTags||[]}setTagSkipped(e,n){this.shotJson?.data&&(Array.isArray(this.shotJson.data.skippedTags)||(this.shotJson.data.skippedTags=[]),Ie(()=>{const o=this.shotJson.data.skippedTags;n?o.includes(e)||o.push(e):this.shotJson.data.skippedTags=o.filter(r=>r!==e)}),this.shotJson.save())}log(){console.log(Vr(this))}}function Te(t,e,n,o,r){if(typeof e=="function"?t!==e||!0:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,n),n}function V(t,e,n,o){if(n==="a"&&!o)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!o:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?o:n==="a"?o.call(t):o?o.value:e.get(t)}let KM=function(){const{crypto:t}=globalThis;if(t?.randomUUID)return KM=t.randomUUID.bind(t),t.randomUUID();const e=new Uint8Array(1),n=t?()=>t.getRandomValues(e)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,o=>(+o^n()&15>>+o/4).toString(16))};function Tv(t){return typeof t=="object"&&t!==null&&("name"in t&&t.name==="AbortError"||"message"in t&&String(t.message).includes("FetchRequestCanceledException"))}const Cv=t=>{if(t instanceof Error)return t;if(typeof t=="object"&&t!==null){try{if(Object.prototype.toString.call(t)==="[object Error]"){const e=new Error(t.message,t.cause?{cause:t.cause}:{});return t.stack&&(e.stack=t.stack),t.cause&&!e.cause&&(e.cause=t.cause),t.name&&(e.name=t.name),e}}catch{}try{return new Error(JSON.stringify(t))}catch{}}return new Error(t)};class Se extends Error{}class Ot extends Se{constructor(e,n,o,r){super(`${Ot.makeMessage(e,n,o)}`),this.status=e,this.headers=r,this.requestID=r?.get("x-request-id"),this.error=n;const a=n;this.code=a?.code,this.param=a?.param,this.type=a?.type}static makeMessage(e,n,o){const r=n?.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):o;return e&&r?`${e} ${r}`:e?`${e} status code (no body)`:r||"(no status code or body)"}static generate(e,n,o,r){if(!e||!r)return new fh({message:o,cause:Cv(n)});const a=n?.error;return e===400?new YM(e,a,o,r):e===401?new XM(e,a,o,r):e===403?new jM(e,a,o,r):e===404?new WM(e,a,o,r):e===409?new QM(e,a,o,r):e===422?new ZM(e,a,o,r):e===429?new eN(e,a,o,r):e>=500?new tN(e,a,o,r):new Ot(e,a,o,r)}}class Bn extends Ot{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}}class fh extends Ot{constructor({message:e,cause:n}){super(void 0,void 0,e||"Connection error.",void 0),n&&(this.cause=n)}}class Ly extends fh{constructor({message:e}={}){super({message:e??"Request timed out."})}}class YM extends Ot{}class XM extends Ot{}class jM extends Ot{}class WM extends Ot{}class QM extends Ot{}class ZM extends Ot{}class eN extends Ot{}class tN extends Ot{}class nN extends Se{constructor(){super("Could not parse response content as the length limit was reached")}}class oN extends Se{constructor(){super("Could not parse response content as the request was rejected by the content filter")}}class Ll extends Error{constructor(e){super(e)}}const I3=/^[a-z][a-z0-9+.-]*:/i,D3=t=>I3.test(t);let Qt=t=>(Qt=Array.isArray,Qt(t)),mC=Qt;function iN(t){return typeof t!="object"?{}:t??{}}function O3(t){if(!t)return!0;for(const e in t)return!1;return!0}function P3(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Eg(t){return t!=null&&typeof t=="object"&&!Array.isArray(t)}const k3=(t,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new Se(`${t} must be an integer`);if(e<0)throw new Se(`${t} must be a positive integer`);return e},L3=t=>{try{return JSON.parse(t)}catch{return}},Ou=t=>new Promise(e=>setTimeout(e,t)),Qs="6.10.0",U3=()=>typeof window<"u"&&typeof window.document<"u"&&typeof navigator<"u";function B3(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const H3=()=>{const t=B3();if(t==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Qs,"X-Stainless-OS":vC(Deno.build.os),"X-Stainless-Arch":gC(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:Deno.version?.deno??"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Qs,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(t==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Qs,"X-Stainless-OS":vC(globalThis.process.platform??"unknown"),"X-Stainless-Arch":gC(globalThis.process.arch??"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":globalThis.process.version??"unknown"};const e=F3();return e?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Qs,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${e.browser}`,"X-Stainless-Runtime-Version":e.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Qs,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function F3(){if(typeof navigator>"u"||!navigator)return null;const t=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:n}of t){const o=n.exec(navigator.userAgent);if(o){const r=o[1]||0,a=o[2]||0,u=o[3]||0;return{browser:e,version:`${r}.${a}.${u}`}}}return null}const gC=t=>t==="x32"?"x32":t==="x86_64"||t==="x64"?"x64":t==="arm"?"arm":t==="aarch64"||t==="arm64"?"arm64":t?`other:${t}`:"unknown",vC=t=>(t=t.toLowerCase(),t.includes("ios")?"iOS":t==="android"?"Android":t==="darwin"?"MacOS":t==="win32"?"Windows":t==="freebsd"?"FreeBSD":t==="openbsd"?"OpenBSD":t==="linux"?"Linux":t?`Other:${t}`:"Unknown");let yC;const $3=()=>yC??(yC=H3());function G3(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new OpenAI({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function rN(...t){const e=globalThis.ReadableStream;if(typeof e>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new e(...t)}function sN(t){let e=Symbol.asyncIterator in t?t[Symbol.asyncIterator]():t[Symbol.iterator]();return rN({start(){},async pull(n){const{done:o,value:r}=await e.next();o?n.close():n.enqueue(r)},async cancel(){await e.return?.()}})}function aN(t){if(t[Symbol.asyncIterator])return t;const e=t.getReader();return{async next(){try{const n=await e.read();return n?.done&&e.releaseLock(),n}catch(n){throw e.releaseLock(),n}},async return(){const n=e.cancel();return e.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function V3(t){if(t===null||typeof t!="object")return;if(t[Symbol.asyncIterator]){await t[Symbol.asyncIterator]().return?.();return}const e=t.getReader(),n=e.cancel();e.releaseLock(),await n}const z3=({headers:t,body:e})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(e)}),lN="RFC3986",uN=t=>String(t),_C={RFC1738:t=>String(t).replace(/%20/g,"+"),RFC3986:uN},q3="RFC1738";let Av=(t,e)=>(Av=Object.hasOwn??Function.prototype.call.bind(Object.prototype.hasOwnProperty),Av(t,e));const vo=(()=>{const t=[];for(let e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t})(),bg=1024,J3=(t,e,n,o,r)=>{if(t.length===0)return t;let a=t;if(typeof t=="symbol"?a=Symbol.prototype.toString.call(t):typeof t!="string"&&(a=String(t)),n==="iso-8859-1")return escape(a).replace(/%u[0-9a-f]{4}/gi,function(c){return"%26%23"+parseInt(c.slice(2),16)+"%3B"});let u="";for(let c=0;c<a.length;c+=bg){const h=a.length>=bg?a.slice(c,c+bg):a,d=[];for(let m=0;m<h.length;++m){let y=h.charCodeAt(m);if(y===45||y===46||y===95||y===126||y>=48&&y<=57||y>=65&&y<=90||y>=97&&y<=122||r===q3&&(y===40||y===41)){d[d.length]=h.charAt(m);continue}if(y<128){d[d.length]=vo[y];continue}if(y<2048){d[d.length]=vo[192|y>>6]+vo[128|y&63];continue}if(y<55296||y>=57344){d[d.length]=vo[224|y>>12]+vo[128|y>>6&63]+vo[128|y&63];continue}m+=1,y=65536+((y&1023)<<10|h.charCodeAt(m)&1023),d[d.length]=vo[240|y>>18]+vo[128|y>>12&63]+vo[128|y>>6&63]+vo[128|y&63]}u+=d.join("")}return u};function K3(t){return!t||typeof t!="object"?!1:!!(t.constructor&&t.constructor.isBuffer&&t.constructor.isBuffer(t))}function SC(t,e){if(Qt(t)){const n=[];for(let o=0;o<t.length;o+=1)n.push(e(t[o]));return n}return e(t)}const cN={brackets(t){return String(t)+"[]"},comma:"comma",indices(t,e){return String(t)+"["+e+"]"},repeat(t){return String(t)}},fN=function(t,e){Array.prototype.push.apply(t,Qt(e)?e:[e])};let EC;const yt={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:J3,encodeValuesOnly:!1,format:lN,formatter:uN,indices:!1,serializeDate(t){return(EC??(EC=Function.prototype.call.bind(Date.prototype.toISOString)))(t)},skipNulls:!1,strictNullHandling:!1};function Y3(t){return typeof t=="string"||typeof t=="number"||typeof t=="boolean"||typeof t=="symbol"||typeof t=="bigint"}const wg={};function dN(t,e,n,o,r,a,u,c,h,d,m,y,S,E,C,A,x,M){let I=t,N=M,D=0,L=!1;for(;(N=N.get(wg))!==void 0&&!L;){const X=N.get(t);if(D+=1,typeof X<"u"){if(X===D)throw new RangeError("Cyclic object value");L=!0}typeof N.get(wg)>"u"&&(D=0)}if(typeof d=="function"?I=d(e,I):I instanceof Date?I=S?.(I):n==="comma"&&Qt(I)&&(I=SC(I,function(X){return X instanceof Date?S?.(X):X})),I===null){if(a)return h&&!A?h(e,yt.encoder,x,"key",E):e;I=""}if(Y3(I)||K3(I)){if(h){const X=A?e:h(e,yt.encoder,x,"key",E);return[C?.(X)+"="+C?.(h(I,yt.encoder,x,"value",E))]}return[C?.(e)+"="+C?.(String(I))]}const U=[];if(typeof I>"u")return U;let O;if(n==="comma"&&Qt(I))A&&h&&(I=SC(I,h)),O=[{value:I.length>0?I.join(",")||null:void 0}];else if(Qt(d))O=d;else{const X=Object.keys(I);O=m?X.sort(m):X}const q=c?String(e).replace(/\./g,"%2E"):String(e),J=o&&Qt(I)&&I.length===1?q+"[]":q;if(r&&Qt(I)&&I.length===0)return J+"[]";for(let X=0;X<O.length;++X){const W=O[X],re=typeof W=="object"&&typeof W.value<"u"?W.value:I[W];if(u&&re===null)continue;const oe=y&&c?W.replace(/\./g,"%2E"):W,ae=Qt(I)?typeof n=="function"?n(J,oe):J:J+(y?"."+oe:"["+oe+"]");M.set(t,D);const de=new WeakMap;de.set(wg,M),fN(U,dN(re,ae,n,o,r,a,u,c,n==="comma"&&A&&Qt(I)?null:h,d,m,y,S,E,C,A,x,de))}return U}function X3(t=yt){if(typeof t.allowEmptyArrays<"u"&&typeof t.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof t.encodeDotInKeys<"u"&&typeof t.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(t.encoder!==null&&typeof t.encoder<"u"&&typeof t.encoder!="function")throw new TypeError("Encoder has to be a function.");const e=t.charset||yt.charset;if(typeof t.charset<"u"&&t.charset!=="utf-8"&&t.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");let n=lN;if(typeof t.format<"u"){if(!Av(_C,t.format))throw new TypeError("Unknown format option provided.");n=t.format}const o=_C[n];let r=yt.filter;(typeof t.filter=="function"||Qt(t.filter))&&(r=t.filter);let a;if(t.arrayFormat&&t.arrayFormat in cN?a=t.arrayFormat:"indices"in t?a=t.indices?"indices":"repeat":a=yt.arrayFormat,"commaRoundTrip"in t&&typeof t.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");const u=typeof t.allowDots>"u"?t.encodeDotInKeys?!0:yt.allowDots:!!t.allowDots;return{addQueryPrefix:typeof t.addQueryPrefix=="boolean"?t.addQueryPrefix:yt.addQueryPrefix,allowDots:u,allowEmptyArrays:typeof t.allowEmptyArrays=="boolean"?!!t.allowEmptyArrays:yt.allowEmptyArrays,arrayFormat:a,charset:e,charsetSentinel:typeof t.charsetSentinel=="boolean"?t.charsetSentinel:yt.charsetSentinel,commaRoundTrip:!!t.commaRoundTrip,delimiter:typeof t.delimiter>"u"?yt.delimiter:t.delimiter,encode:typeof t.encode=="boolean"?t.encode:yt.encode,encodeDotInKeys:typeof t.encodeDotInKeys=="boolean"?t.encodeDotInKeys:yt.encodeDotInKeys,encoder:typeof t.encoder=="function"?t.encoder:yt.encoder,encodeValuesOnly:typeof t.encodeValuesOnly=="boolean"?t.encodeValuesOnly:yt.encodeValuesOnly,filter:r,format:n,formatter:o,serializeDate:typeof t.serializeDate=="function"?t.serializeDate:yt.serializeDate,skipNulls:typeof t.skipNulls=="boolean"?t.skipNulls:yt.skipNulls,sort:typeof t.sort=="function"?t.sort:null,strictNullHandling:typeof t.strictNullHandling=="boolean"?t.strictNullHandling:yt.strictNullHandling}}function j3(t,e={}){let n=t;const o=X3(e);let r,a;typeof o.filter=="function"?(a=o.filter,n=a("",n)):Qt(o.filter)&&(a=o.filter,r=a);const u=[];if(typeof n!="object"||n===null)return"";const c=cN[o.arrayFormat],h=c==="comma"&&o.commaRoundTrip;r||(r=Object.keys(n)),o.sort&&r.sort(o.sort);const d=new WeakMap;for(let S=0;S<r.length;++S){const E=r[S];o.skipNulls&&n[E]===null||fN(u,dN(n[E],E,c,h,o.allowEmptyArrays,o.strictNullHandling,o.skipNulls,o.encodeDotInKeys,o.encode?o.encoder:null,o.filter,o.sort,o.allowDots,o.serializeDate,o.format,o.formatter,o.encodeValuesOnly,o.charset,d))}const m=u.join(o.delimiter);let y=o.addQueryPrefix===!0?"?":"";return o.charsetSentinel&&(o.charset==="iso-8859-1"?y+="utf8=%26%2310003%3B&":y+="utf8=%E2%9C%93&"),m.length>0?y+m:""}function W3(t){let e=0;for(const r of t)e+=r.length;const n=new Uint8Array(e);let o=0;for(const r of t)n.set(r,o),o+=r.length;return n}let bC;function Uy(t){let e;return(bC??(e=new globalThis.TextEncoder,bC=e.encode.bind(e)))(t)}let wC;function TC(t){let e;return(wC??(e=new globalThis.TextDecoder,wC=e.decode.bind(e)))(t)}var hn,pn;class dh{constructor(){hn.set(this,void 0),pn.set(this,void 0),Te(this,hn,new Uint8Array),Te(this,pn,null)}decode(e){if(e==null)return[];const n=e instanceof ArrayBuffer?new Uint8Array(e):typeof e=="string"?Uy(e):e;Te(this,hn,W3([V(this,hn,"f"),n]));const o=[];let r;for(;(r=Q3(V(this,hn,"f"),V(this,pn,"f")))!=null;){if(r.carriage&&V(this,pn,"f")==null){Te(this,pn,r.index);continue}if(V(this,pn,"f")!=null&&(r.index!==V(this,pn,"f")+1||r.carriage)){o.push(TC(V(this,hn,"f").subarray(0,V(this,pn,"f")-1))),Te(this,hn,V(this,hn,"f").subarray(V(this,pn,"f"))),Te(this,pn,null);continue}const a=V(this,pn,"f")!==null?r.preceding-1:r.preceding,u=TC(V(this,hn,"f").subarray(0,a));o.push(u),Te(this,hn,V(this,hn,"f").subarray(r.index)),Te(this,pn,null)}return o}flush(){return V(this,hn,"f").length?this.decode(`
`):[]}}hn=new WeakMap,pn=new WeakMap;dh.NEWLINE_CHARS=new Set([`
`,"\r"]);dh.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function Q3(t,e){for(let r=e??0;r<t.length;r++){if(t[r]===10)return{preceding:r,index:r+1,carriage:!1};if(t[r]===13)return{preceding:r,index:r+1,carriage:!0}}return null}function Z3(t){for(let o=0;o<t.length-1;o++){if(t[o]===10&&t[o+1]===10||t[o]===13&&t[o+1]===13)return o+2;if(t[o]===13&&t[o+1]===10&&o+3<t.length&&t[o+2]===13&&t[o+3]===10)return o+4}return-1}const Cd={off:0,error:200,warn:300,info:400,debug:500},CC=(t,e,n)=>{if(t){if(P3(Cd,t))return t;It(n).warn(`${e} was set to ${JSON.stringify(t)}, expected one of ${JSON.stringify(Object.keys(Cd))}`)}};function Ul(){}function Cf(t,e,n){return!e||Cd[t]>Cd[n]?Ul:e[t].bind(e)}const e4={error:Ul,warn:Ul,info:Ul,debug:Ul};let AC=new WeakMap;function It(t){const e=t.logger,n=t.logLevel??"off";if(!e)return e4;const o=AC.get(e);if(o&&o[0]===n)return o[1];const r={error:Cf("error",e,n),warn:Cf("warn",e,n),info:Cf("info",e,n),debug:Cf("debug",e,n)};return AC.set(e,[n,r]),r}const Ir=t=>(t.options&&(t.options={...t.options},delete t.options.headers),t.headers&&(t.headers=Object.fromEntries((t.headers instanceof Headers?[...t.headers]:Object.entries(t.headers)).map(([e,n])=>[e,e.toLowerCase()==="authorization"||e.toLowerCase()==="cookie"||e.toLowerCase()==="set-cookie"?"***":n]))),"retryOfRequestLogID"in t&&(t.retryOfRequestLogID&&(t.retryOf=t.retryOfRequestLogID),delete t.retryOfRequestLogID),t);var Dl;class bo{constructor(e,n,o){this.iterator=e,Dl.set(this,void 0),this.controller=n,Te(this,Dl,o)}static fromSSEResponse(e,n,o){let r=!1;const a=o?It(o):console;async function*u(){if(r)throw new Se("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let c=!1;try{for await(const h of t4(e,n))if(!c){if(h.data.startsWith("[DONE]")){c=!0;continue}if(h.event===null||!h.event.startsWith("thread.")){let d;try{d=JSON.parse(h.data)}catch(m){throw a.error("Could not parse message into JSON:",h.data),a.error("From chunk:",h.raw),m}if(d&&d.error)throw new Ot(void 0,d.error,void 0,e.headers);yield d}else{let d;try{d=JSON.parse(h.data)}catch(m){throw console.error("Could not parse message into JSON:",h.data),console.error("From chunk:",h.raw),m}if(h.event=="error")throw new Ot(void 0,d.error,d.message,void 0);yield{event:h.event,data:d}}}c=!0}catch(h){if(Tv(h))return;throw h}finally{c||n.abort()}}return new bo(u,n,o)}static fromReadableStream(e,n,o){let r=!1;async function*a(){const c=new dh,h=aN(e);for await(const d of h)for(const m of c.decode(d))yield m;for(const d of c.flush())yield d}async function*u(){if(r)throw new Se("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let c=!1;try{for await(const h of a())c||h&&(yield JSON.parse(h));c=!0}catch(h){if(Tv(h))return;throw h}finally{c||n.abort()}}return new bo(u,n,o)}[(Dl=new WeakMap,Symbol.asyncIterator)](){return this.iterator()}tee(){const e=[],n=[],o=this.iterator(),r=a=>({next:()=>{if(a.length===0){const u=o.next();e.push(u),n.push(u)}return a.shift()}});return[new bo(()=>r(e),this.controller,V(this,Dl,"f")),new bo(()=>r(n),this.controller,V(this,Dl,"f"))]}toReadableStream(){const e=this;let n;return rN({async start(){n=e[Symbol.asyncIterator]()},async pull(o){try{const{value:r,done:a}=await n.next();if(a)return o.close();const u=Uy(JSON.stringify(r)+`
`);o.enqueue(u)}catch(r){o.error(r)}},async cancel(){await n.return?.()}})}}async function*t4(t,e){if(!t.body)throw e.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new Se("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new Se("Attempted to iterate over a response with no body");const n=new o4,o=new dh,r=aN(t.body);for await(const a of n4(r))for(const u of o.decode(a)){const c=n.decode(u);c&&(yield c)}for(const a of o.flush()){const u=n.decode(a);u&&(yield u)}}async function*n4(t){let e=new Uint8Array;for await(const n of t){if(n==null)continue;const o=n instanceof ArrayBuffer?new Uint8Array(n):typeof n=="string"?Uy(n):n;let r=new Uint8Array(e.length+o.length);r.set(e),r.set(o,e.length),e=r;let a;for(;(a=Z3(e))!==-1;)yield e.slice(0,a),e=e.slice(a)}e.length>0&&(yield e)}class o4{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const a={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],a}if(this.chunks.push(e),e.startsWith(":"))return null;let[n,o,r]=i4(e,":");return r.startsWith(" ")&&(r=r.substring(1)),n==="event"?this.event=r:n==="data"&&this.data.push(r),null}}function i4(t,e){const n=t.indexOf(e);return n!==-1?[t.substring(0,n),e,t.substring(n+e.length)]:[t,"",""]}async function hN(t,e){const{response:n,requestLogID:o,retryOfRequestLogID:r,startTime:a}=e,u=await(async()=>{if(e.options.stream)return It(t).debug("response",n.status,n.url,n.headers,n.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(n,e.controller,t):bo.fromSSEResponse(n,e.controller,t);if(n.status===204)return null;if(e.options.__binaryResponse)return n;const h=n.headers.get("content-type")?.split(";")[0]?.trim();if(h?.includes("application/json")||h?.endsWith("+json")){const y=await n.json();return pN(y,n)}return await n.text()})();return It(t).debug(`[${o}] response parsed`,Ir({retryOfRequestLogID:r,url:n.url,status:n.status,body:u,durationMs:Date.now()-a})),u}function pN(t,e){return!t||typeof t!="object"||Array.isArray(t)?t:Object.defineProperty(t,"_request_id",{value:e.headers.get("x-request-id"),enumerable:!1})}var Bl;class hh extends Promise{constructor(e,n,o=hN){super(r=>{r(null)}),this.responsePromise=n,this.parseResponse=o,Bl.set(this,void 0),Te(this,Bl,e)}_thenUnwrap(e){return new hh(V(this,Bl,"f"),this.responsePromise,async(n,o)=>pN(e(await this.parseResponse(n,o),o),o.response))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:n,request_id:n.headers.get("x-request-id")}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(e=>this.parseResponse(V(this,Bl,"f"),e))),this.parsedPromise}then(e,n){return this.parse().then(e,n)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}Bl=new WeakMap;var Af;class By{constructor(e,n,o,r){Af.set(this,void 0),Te(this,Af,e),this.options=r,this.response=n,this.body=o}hasNextPage(){return this.getPaginatedItems().length?this.nextPageRequestOptions()!=null:!1}async getNextPage(){const e=this.nextPageRequestOptions();if(!e)throw new Se("No next page expected; please check `.hasNextPage()` before calling `.getNextPage()`.");return await V(this,Af,"f").requestAPIList(this.constructor,e)}async*iterPages(){let e=this;for(yield e;e.hasNextPage();)e=await e.getNextPage(),yield e}async*[(Af=new WeakMap,Symbol.asyncIterator)](){for await(const e of this.iterPages())for(const n of e.getPaginatedItems())yield n}}class r4 extends hh{constructor(e,n,o){super(e,n,async(r,a)=>new o(r,a.response,await hN(r,a),a.options))}async*[Symbol.asyncIterator](){const e=await this;for await(const n of e)yield n}}class ph extends By{constructor(e,n,o,r){super(e,n,o,r),this.data=o.data||[],this.object=o.object}getPaginatedItems(){return this.data??[]}nextPageRequestOptions(){return null}}class mt extends By{constructor(e,n,o,r){super(e,n,o,r),this.data=o.data||[],this.has_more=o.has_more||!1}getPaginatedItems(){return this.data??[]}hasNextPage(){return this.has_more===!1?!1:super.hasNextPage()}nextPageRequestOptions(){const e=this.getPaginatedItems(),n=e[e.length-1]?.id;return n?{...this.options,query:{...iN(this.options.query),after:n}}:null}}class Ad extends By{constructor(e,n,o,r){super(e,n,o,r),this.data=o.data||[],this.has_more=o.has_more||!1,this.last_id=o.last_id||""}getPaginatedItems(){return this.data??[]}hasNextPage(){return this.has_more===!1?!1:super.hasNextPage()}nextPageRequestOptions(){const e=this.last_id;return e?{...this.options,query:{...iN(this.options.query),after:e}}:null}}const mN=()=>{if(typeof File>"u"){const{process:t}=globalThis,e=typeof t?.versions?.node=="string"&&parseInt(t.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(e?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function Wl(t,e,n){return mN(),new File(t,e??"unknown_file",n)}function Yf(t){return(typeof t=="object"&&t!==null&&("name"in t&&t.name&&String(t.name)||"url"in t&&t.url&&String(t.url)||"filename"in t&&t.filename&&String(t.filename)||"path"in t&&t.path&&String(t.path))||"").split(/[\\/]/).pop()||void 0}const Hy=t=>t!=null&&typeof t=="object"&&typeof t[Symbol.asyncIterator]=="function",xC=async(t,e)=>xv(t.body)?{...t,body:await gN(t.body,e)}:t,Yr=async(t,e)=>({...t,body:await gN(t.body,e)}),RC=new WeakMap;function s4(t){const e=typeof t=="function"?t:t.fetch,n=RC.get(e);if(n)return n;const o=(async()=>{try{const r="Response"in e?e.Response:(await e("data:,")).constructor,a=new FormData;return a.toString()!==await new r(a).text()}catch{return!0}})();return RC.set(e,o),o}const gN=async(t,e)=>{if(!await s4(e))throw new TypeError("The provided fetch function does not support file uploads with the current global FormData class.");const n=new FormData;return await Promise.all(Object.entries(t||{}).map(([o,r])=>Rv(n,o,r))),n},vN=t=>t instanceof Blob&&"name"in t,a4=t=>typeof t=="object"&&t!==null&&(t instanceof Response||Hy(t)||vN(t)),xv=t=>{if(a4(t))return!0;if(Array.isArray(t))return t.some(xv);if(t&&typeof t=="object"){for(const e in t)if(xv(t[e]))return!0}return!1},Rv=async(t,e,n)=>{if(n!==void 0){if(n==null)throw new TypeError(`Received null for "${e}"; to pass null in FormData, you must use the string 'null'`);if(typeof n=="string"||typeof n=="number"||typeof n=="boolean")t.append(e,String(n));else if(n instanceof Response)t.append(e,Wl([await n.blob()],Yf(n)));else if(Hy(n))t.append(e,Wl([await new Response(sN(n)).blob()],Yf(n)));else if(vN(n))t.append(e,n,Yf(n));else if(Array.isArray(n))await Promise.all(n.map(o=>Rv(t,e+"[]",o)));else if(typeof n=="object")await Promise.all(Object.entries(n).map(([o,r])=>Rv(t,`${e}[${o}]`,r)));else throw new TypeError(`Invalid value given to form, expected a string, number, boolean, object, Array, File or Blob but got ${n} instead`)}},yN=t=>t!=null&&typeof t=="object"&&typeof t.size=="number"&&typeof t.type=="string"&&typeof t.text=="function"&&typeof t.slice=="function"&&typeof t.arrayBuffer=="function",l4=t=>t!=null&&typeof t=="object"&&typeof t.name=="string"&&typeof t.lastModified=="number"&&yN(t),u4=t=>t!=null&&typeof t=="object"&&typeof t.url=="string"&&typeof t.blob=="function";async function c4(t,e,n){if(mN(),t=await t,l4(t))return t instanceof File?t:Wl([await t.arrayBuffer()],t.name);if(u4(t)){const r=await t.blob();return e||(e=new URL(t.url).pathname.split(/[\\/]/).pop()),Wl(await Mv(r),e,n)}const o=await Mv(t);if(e||(e=Yf(t)),!n?.type){const r=o.find(a=>typeof a=="object"&&"type"in a&&a.type);typeof r=="string"&&(n={...n,type:r})}return Wl(o,e,n)}async function Mv(t){let e=[];if(typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer)e.push(t);else if(yN(t))e.push(t instanceof Blob?t:await t.arrayBuffer());else if(Hy(t))for await(const n of t)e.push(...await Mv(n));else{const n=t?.constructor?.name;throw new Error(`Unexpected data type: ${typeof t}${n?`; constructor: ${n}`:""}${f4(t)}`)}return e}function f4(t){return typeof t!="object"||t===null?"":`; props: [${Object.getOwnPropertyNames(t).map(n=>`"${n}"`).join(", ")}]`}class ye{constructor(e){this._client=e}}function _N(t){return t.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const MC=Object.freeze(Object.create(null)),d4=(t=_N)=>function(n,...o){if(n.length===1)return n[0];let r=!1;const a=[],u=n.reduce((m,y,S)=>{/[?#]/.test(y)&&(r=!0);const E=o[S];let C=(r?encodeURIComponent:t)(""+E);return S!==o.length&&(E==null||typeof E=="object"&&E.toString===Object.getPrototypeOf(Object.getPrototypeOf(E.hasOwnProperty??MC)??MC)?.toString)&&(C=E+"",a.push({start:m.length+y.length,length:C.length,error:`Value of type ${Object.prototype.toString.call(E).slice(8,-1)} is not a valid path parameter`})),m+y+(S===o.length?"":C)},""),c=u.split(/[?#]/,1)[0],h=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let d;for(;(d=h.exec(c))!==null;)a.push({start:d.index,length:d[0].length,error:`Value "${d[0]}" can't be safely passed as a path parameter`});if(a.sort((m,y)=>m.start-y.start),a.length>0){let m=0;const y=a.reduce((S,E)=>{const C=" ".repeat(E.start-m),A="^".repeat(E.length);return m=E.start+E.length,S+C+A},"");throw new Se(`Path parameters result in path with invalid segments:
${a.map(S=>S.error).join(`
`)}
${u}
${y}`)}return u},ie=d4(_N);let SN=class extends ye{list(e,n={},o){return this._client.getAPIList(ie`/chat/completions/${e}/messages`,mt,{query:n,...o})}};function xd(t){return t!==void 0&&"function"in t&&t.function!==void 0}function Fy(t){return t?.$brand==="auto-parseable-response-format"}function Pu(t){return t?.$brand==="auto-parseable-tool"}function h4(t,e){return!e||!EN(e)?{...t,choices:t.choices.map(n=>(bN(n.message.tool_calls),{...n,message:{...n.message,parsed:null,...n.message.tool_calls?{tool_calls:n.message.tool_calls}:void 0}}))}:$y(t,e)}function $y(t,e){const n=t.choices.map(o=>{if(o.finish_reason==="length")throw new nN;if(o.finish_reason==="content_filter")throw new oN;return bN(o.message.tool_calls),{...o,message:{...o.message,...o.message.tool_calls?{tool_calls:o.message.tool_calls?.map(r=>m4(e,r))??void 0}:void 0,parsed:o.message.content&&!o.message.refusal?p4(e,o.message.content):null}}});return{...t,choices:n}}function p4(t,e){return t.response_format?.type!=="json_schema"?null:t.response_format?.type==="json_schema"?"$parseRaw"in t.response_format?t.response_format.$parseRaw(e):JSON.parse(e):null}function m4(t,e){const n=t.tools?.find(o=>xd(o)&&o.function?.name===e.function.name);return{...e,function:{...e.function,parsed_arguments:Pu(n)?n.$parseRaw(e.function.arguments):n?.function.strict?JSON.parse(e.function.arguments):null}}}function g4(t,e){if(!t||!("tools"in t)||!t.tools)return!1;const n=t.tools?.find(o=>xd(o)&&o.function?.name===e.function.name);return xd(n)&&(Pu(n)||n?.function.strict||!1)}function EN(t){return Fy(t.response_format)?!0:t.tools?.some(e=>Pu(e)||e.type==="function"&&e.function.strict===!0)??!1}function bN(t){for(const e of t||[])if(e.type!=="function")throw new Se(`Currently only \`function\` tool calls are supported; Received \`${e.type}\``)}function v4(t){for(const e of t??[]){if(e.type!=="function")throw new Se(`Currently only \`function\` tool types support auto-parsing; Received \`${e.type}\``);if(e.function.strict!==!0)throw new Se(`The \`${e.function.name}\` tool is not marked with \`strict: true\`. Only strict function tools can be auto-parsed`)}}const Rd=t=>t?.role==="assistant",wN=t=>t?.role==="tool";var Nv,Xf,jf,Hl,Fl,Wf,$l,ei,Gl,Md,Nd,Zs,TN;class Gy{constructor(){Nv.add(this),this.controller=new AbortController,Xf.set(this,void 0),jf.set(this,()=>{}),Hl.set(this,()=>{}),Fl.set(this,void 0),Wf.set(this,()=>{}),$l.set(this,()=>{}),ei.set(this,{}),Gl.set(this,!1),Md.set(this,!1),Nd.set(this,!1),Zs.set(this,!1),Te(this,Xf,new Promise((e,n)=>{Te(this,jf,e,"f"),Te(this,Hl,n,"f")})),Te(this,Fl,new Promise((e,n)=>{Te(this,Wf,e,"f"),Te(this,$l,n,"f")})),V(this,Xf,"f").catch(()=>{}),V(this,Fl,"f").catch(()=>{})}_run(e){setTimeout(()=>{e().then(()=>{this._emitFinal(),this._emit("end")},V(this,Nv,"m",TN).bind(this))},0)}_connected(){this.ended||(V(this,jf,"f").call(this),this._emit("connect"))}get ended(){return V(this,Gl,"f")}get errored(){return V(this,Md,"f")}get aborted(){return V(this,Nd,"f")}abort(){this.controller.abort()}on(e,n){return(V(this,ei,"f")[e]||(V(this,ei,"f")[e]=[])).push({listener:n}),this}off(e,n){const o=V(this,ei,"f")[e];if(!o)return this;const r=o.findIndex(a=>a.listener===n);return r>=0&&o.splice(r,1),this}once(e,n){return(V(this,ei,"f")[e]||(V(this,ei,"f")[e]=[])).push({listener:n,once:!0}),this}emitted(e){return new Promise((n,o)=>{Te(this,Zs,!0),e!=="error"&&this.once("error",o),this.once(e,n)})}async done(){Te(this,Zs,!0),await V(this,Fl,"f")}_emit(e,...n){if(V(this,Gl,"f"))return;e==="end"&&(Te(this,Gl,!0),V(this,Wf,"f").call(this));const o=V(this,ei,"f")[e];if(o&&(V(this,ei,"f")[e]=o.filter(r=>!r.once),o.forEach(({listener:r})=>r(...n))),e==="abort"){const r=n[0];!V(this,Zs,"f")&&!o?.length&&Promise.reject(r),V(this,Hl,"f").call(this,r),V(this,$l,"f").call(this,r),this._emit("end");return}if(e==="error"){const r=n[0];!V(this,Zs,"f")&&!o?.length&&Promise.reject(r),V(this,Hl,"f").call(this,r),V(this,$l,"f").call(this,r),this._emit("end")}}_emitFinal(){}}Xf=new WeakMap,jf=new WeakMap,Hl=new WeakMap,Fl=new WeakMap,Wf=new WeakMap,$l=new WeakMap,ei=new WeakMap,Gl=new WeakMap,Md=new WeakMap,Nd=new WeakMap,Zs=new WeakMap,Nv=new WeakSet,TN=function(e){if(Te(this,Md,!0),e instanceof Error&&e.name==="AbortError"&&(e=new Bn),e instanceof Bn)return Te(this,Nd,!0),this._emit("abort",e);if(e instanceof Se)return this._emit("error",e);if(e instanceof Error){const n=new Se(e.message);return n.cause=e,this._emit("error",n)}return this._emit("error",new Se(String(e)))};function y4(t){return typeof t.parse=="function"}var Ht,Iv,Id,Dv,Ov,Pv,CN,AN;const _4=10;class xN extends Gy{constructor(){super(...arguments),Ht.add(this),this._chatCompletions=[],this.messages=[]}_addChatCompletion(e){this._chatCompletions.push(e),this._emit("chatCompletion",e);const n=e.choices[0]?.message;return n&&this._addMessage(n),e}_addMessage(e,n=!0){if("content"in e||(e.content=null),this.messages.push(e),n){if(this._emit("message",e),wN(e)&&e.content)this._emit("functionToolCallResult",e.content);else if(Rd(e)&&e.tool_calls)for(const o of e.tool_calls)o.type==="function"&&this._emit("functionToolCall",o.function)}}async finalChatCompletion(){await this.done();const e=this._chatCompletions[this._chatCompletions.length-1];if(!e)throw new Se("stream ended without producing a ChatCompletion");return e}async finalContent(){return await this.done(),V(this,Ht,"m",Iv).call(this)}async finalMessage(){return await this.done(),V(this,Ht,"m",Id).call(this)}async finalFunctionToolCall(){return await this.done(),V(this,Ht,"m",Dv).call(this)}async finalFunctionToolCallResult(){return await this.done(),V(this,Ht,"m",Ov).call(this)}async totalUsage(){return await this.done(),V(this,Ht,"m",Pv).call(this)}allChatCompletions(){return[...this._chatCompletions]}_emitFinal(){const e=this._chatCompletions[this._chatCompletions.length-1];e&&this._emit("finalChatCompletion",e);const n=V(this,Ht,"m",Id).call(this);n&&this._emit("finalMessage",n);const o=V(this,Ht,"m",Iv).call(this);o&&this._emit("finalContent",o);const r=V(this,Ht,"m",Dv).call(this);r&&this._emit("finalFunctionToolCall",r);const a=V(this,Ht,"m",Ov).call(this);a!=null&&this._emit("finalFunctionToolCallResult",a),this._chatCompletions.some(u=>u.usage)&&this._emit("totalUsage",V(this,Ht,"m",Pv).call(this))}async _createChatCompletion(e,n,o){const r=o?.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",()=>this.controller.abort())),V(this,Ht,"m",CN).call(this,n);const a=await e.chat.completions.create({...n,stream:!1},{...o,signal:this.controller.signal});return this._connected(),this._addChatCompletion($y(a,n))}async _runChatCompletion(e,n,o){for(const r of n.messages)this._addMessage(r,!1);return await this._createChatCompletion(e,n,o)}async _runTools(e,n,o){const r="tool",{tool_choice:a="auto",stream:u,...c}=n,h=typeof a!="string"&&a.type==="function"&&a?.function?.name,{maxChatCompletions:d=_4}=o||{},m=n.tools.map(E=>{if(Pu(E)){if(!E.$callback)throw new Se("Tool given to `.runTools()` that does not have an associated function");return{type:"function",function:{function:E.$callback,name:E.function.name,description:E.function.description||"",parameters:E.function.parameters,parse:E.$parseRaw,strict:!0}}}return E}),y={};for(const E of m)E.type==="function"&&(y[E.function.name||E.function.function.name]=E.function);const S="tools"in n?m.map(E=>E.type==="function"?{type:"function",function:{name:E.function.name||E.function.function.name,parameters:E.function.parameters,description:E.function.description,strict:E.function.strict}}:E):void 0;for(const E of n.messages)this._addMessage(E,!1);for(let E=0;E<d;++E){const A=(await this._createChatCompletion(e,{...c,tool_choice:a,tools:S,messages:[...this.messages]},o)).choices[0]?.message;if(!A)throw new Se("missing message in ChatCompletion response");if(!A.tool_calls?.length)return;for(const x of A.tool_calls){if(x.type!=="function")continue;const M=x.id,{name:I,arguments:N}=x.function,D=y[I];if(D){if(h&&h!==I){const q=`Invalid tool_call: ${JSON.stringify(I)}. ${JSON.stringify(h)} requested. Please try again`;this._addMessage({role:r,tool_call_id:M,content:q});continue}}else{const q=`Invalid tool_call: ${JSON.stringify(I)}. Available options are: ${Object.keys(y).map(J=>JSON.stringify(J)).join(", ")}. Please try again`;this._addMessage({role:r,tool_call_id:M,content:q});continue}let L;try{L=y4(D)?await D.parse(N):N}catch(q){const J=q instanceof Error?q.message:String(q);this._addMessage({role:r,tool_call_id:M,content:J});continue}const U=await D.function(L,this),O=V(this,Ht,"m",AN).call(this,U);if(this._addMessage({role:r,tool_call_id:M,content:O}),h)return}}}}Ht=new WeakSet,Iv=function(){return V(this,Ht,"m",Id).call(this).content??null},Id=function(){let e=this.messages.length;for(;e-- >0;){const n=this.messages[e];if(Rd(n))return{...n,content:n.content??null,refusal:n.refusal??null}}throw new Se("stream ended without producing a ChatCompletionMessage with role=assistant")},Dv=function(){for(let e=this.messages.length-1;e>=0;e--){const n=this.messages[e];if(Rd(n)&&n?.tool_calls?.length)return n.tool_calls.filter(o=>o.type==="function").at(-1)?.function}},Ov=function(){for(let e=this.messages.length-1;e>=0;e--){const n=this.messages[e];if(wN(n)&&n.content!=null&&typeof n.content=="string"&&this.messages.some(o=>o.role==="assistant"&&o.tool_calls?.some(r=>r.type==="function"&&r.id===n.tool_call_id)))return n.content}},Pv=function(){const e={completion_tokens:0,prompt_tokens:0,total_tokens:0};for(const{usage:n}of this._chatCompletions)n&&(e.completion_tokens+=n.completion_tokens,e.prompt_tokens+=n.prompt_tokens,e.total_tokens+=n.total_tokens);return e},CN=function(e){if(e.n!=null&&e.n>1)throw new Se("ChatCompletion convenience helpers only support n=1 at this time. To use n>1, please use chat.completions.create() directly.")},AN=function(e){return typeof e=="string"?e:e===void 0?"undefined":JSON.stringify(e)};class Vy extends xN{static runTools(e,n,o){const r=new Vy,a={...o,headers:{...o?.headers,"X-Stainless-Helper-Method":"runTools"}};return r._run(()=>r._runTools(e,n,a)),r}_addMessage(e,n=!0){super._addMessage(e,n),Rd(e)&&e.content&&this._emit("content",e.content)}}const RN=1,MN=2,NN=4,IN=8,DN=16,ON=32,PN=64,kN=128,LN=256,UN=kN|LN,BN=DN|ON|UN|PN,HN=RN|MN|BN,FN=NN|IN,S4=HN|FN,Et={STR:RN,NUM:MN,ARR:NN,OBJ:IN,NULL:DN,BOOL:ON,NAN:PN,INFINITY:kN,MINUS_INFINITY:LN,INF:UN,SPECIAL:BN,ATOM:HN,COLLECTION:FN,ALL:S4};class E4 extends Error{}class b4 extends Error{}function w4(t,e=Et.ALL){if(typeof t!="string")throw new TypeError(`expecting str, got ${typeof t}`);if(!t.trim())throw new Error(`${t} is empty`);return T4(t.trim(),e)}const T4=(t,e)=>{const n=t.length;let o=0;const r=S=>{throw new E4(`${S} at position ${o}`)},a=S=>{throw new b4(`${S} at position ${o}`)},u=()=>(y(),o>=n&&r("Unexpected end of input"),t[o]==='"'?c():t[o]==="{"?h():t[o]==="["?d():t.substring(o,o+4)==="null"||Et.NULL&e&&n-o<4&&"null".startsWith(t.substring(o))?(o+=4,null):t.substring(o,o+4)==="true"||Et.BOOL&e&&n-o<4&&"true".startsWith(t.substring(o))?(o+=4,!0):t.substring(o,o+5)==="false"||Et.BOOL&e&&n-o<5&&"false".startsWith(t.substring(o))?(o+=5,!1):t.substring(o,o+8)==="Infinity"||Et.INFINITY&e&&n-o<8&&"Infinity".startsWith(t.substring(o))?(o+=8,1/0):t.substring(o,o+9)==="-Infinity"||Et.MINUS_INFINITY&e&&1<n-o&&n-o<9&&"-Infinity".startsWith(t.substring(o))?(o+=9,-1/0):t.substring(o,o+3)==="NaN"||Et.NAN&e&&n-o<3&&"NaN".startsWith(t.substring(o))?(o+=3,NaN):m()),c=()=>{const S=o;let E=!1;for(o++;o<n&&(t[o]!=='"'||E&&t[o-1]==="\\");)E=t[o]==="\\"?!E:!1,o++;if(t.charAt(o)=='"')try{return JSON.parse(t.substring(S,++o-Number(E)))}catch(C){a(String(C))}else if(Et.STR&e)try{return JSON.parse(t.substring(S,o-Number(E))+'"')}catch{return JSON.parse(t.substring(S,t.lastIndexOf("\\"))+'"')}r("Unterminated string literal")},h=()=>{o++,y();const S={};try{for(;t[o]!=="}";){if(y(),o>=n&&Et.OBJ&e)return S;const E=c();y(),o++;try{const C=u();Object.defineProperty(S,E,{value:C,writable:!0,enumerable:!0,configurable:!0})}catch(C){if(Et.OBJ&e)return S;throw C}y(),t[o]===","&&o++}}catch{if(Et.OBJ&e)return S;r("Expected '}' at end of object")}return o++,S},d=()=>{o++;const S=[];try{for(;t[o]!=="]";)S.push(u()),y(),t[o]===","&&o++}catch{if(Et.ARR&e)return S;r("Expected ']' at end of array")}return o++,S},m=()=>{if(o===0){t==="-"&&Et.NUM&e&&r("Not sure what '-' is");try{return JSON.parse(t)}catch(E){if(Et.NUM&e)try{return t[t.length-1]==="."?JSON.parse(t.substring(0,t.lastIndexOf("."))):JSON.parse(t.substring(0,t.lastIndexOf("e")))}catch{}a(String(E))}}const S=o;for(t[o]==="-"&&o++;t[o]&&!",]}".includes(t[o]);)o++;o==n&&!(Et.NUM&e)&&r("Unterminated number literal");try{return JSON.parse(t.substring(S,o))}catch{t.substring(S,o)==="-"&&Et.NUM&e&&r("Not sure what '-' is");try{return JSON.parse(t.substring(S,t.lastIndexOf("e")))}catch(C){a(String(C))}}},y=()=>{for(;o<n&&` 
\r	`.includes(t[o]);)o++};return u()},NC=t=>w4(t,Et.ALL^Et.NUM);var vt,Zo,zs,qi,Tg,xf,Cg,Ag,xg,Rf,Rg,IC;class lu extends xN{constructor(e){super(),vt.add(this),Zo.set(this,void 0),zs.set(this,void 0),qi.set(this,void 0),Te(this,Zo,e),Te(this,zs,[])}get currentChatCompletionSnapshot(){return V(this,qi,"f")}static fromReadableStream(e){const n=new lu(null);return n._run(()=>n._fromReadableStream(e)),n}static createChatCompletion(e,n,o){const r=new lu(n);return r._run(()=>r._runChatCompletion(e,{...n,stream:!0},{...o,headers:{...o?.headers,"X-Stainless-Helper-Method":"stream"}})),r}async _createChatCompletion(e,n,o){super._createChatCompletion;const r=o?.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",()=>this.controller.abort())),V(this,vt,"m",Tg).call(this);const a=await e.chat.completions.create({...n,stream:!0},{...o,signal:this.controller.signal});this._connected();for await(const u of a)V(this,vt,"m",Cg).call(this,u);if(a.controller.signal?.aborted)throw new Bn;return this._addChatCompletion(V(this,vt,"m",Rf).call(this))}async _fromReadableStream(e,n){const o=n?.signal;o&&(o.aborted&&this.controller.abort(),o.addEventListener("abort",()=>this.controller.abort())),V(this,vt,"m",Tg).call(this),this._connected();const r=bo.fromReadableStream(e,this.controller);let a;for await(const u of r)a&&a!==u.id&&this._addChatCompletion(V(this,vt,"m",Rf).call(this)),V(this,vt,"m",Cg).call(this,u),a=u.id;if(r.controller.signal?.aborted)throw new Bn;return this._addChatCompletion(V(this,vt,"m",Rf).call(this))}[(Zo=new WeakMap,zs=new WeakMap,qi=new WeakMap,vt=new WeakSet,Tg=function(){this.ended||Te(this,qi,void 0)},xf=function(n){let o=V(this,zs,"f")[n.index];return o||(o={content_done:!1,refusal_done:!1,logprobs_content_done:!1,logprobs_refusal_done:!1,done_tool_calls:new Set,current_tool_call_index:null},V(this,zs,"f")[n.index]=o,o)},Cg=function(n){if(this.ended)return;const o=V(this,vt,"m",IC).call(this,n);this._emit("chunk",n,o);for(const r of n.choices){const a=o.choices[r.index];r.delta.content!=null&&a.message?.role==="assistant"&&a.message?.content&&(this._emit("content",r.delta.content,a.message.content),this._emit("content.delta",{delta:r.delta.content,snapshot:a.message.content,parsed:a.message.parsed})),r.delta.refusal!=null&&a.message?.role==="assistant"&&a.message?.refusal&&this._emit("refusal.delta",{delta:r.delta.refusal,snapshot:a.message.refusal}),r.logprobs?.content!=null&&a.message?.role==="assistant"&&this._emit("logprobs.content.delta",{content:r.logprobs?.content,snapshot:a.logprobs?.content??[]}),r.logprobs?.refusal!=null&&a.message?.role==="assistant"&&this._emit("logprobs.refusal.delta",{refusal:r.logprobs?.refusal,snapshot:a.logprobs?.refusal??[]});const u=V(this,vt,"m",xf).call(this,a);a.finish_reason&&(V(this,vt,"m",xg).call(this,a),u.current_tool_call_index!=null&&V(this,vt,"m",Ag).call(this,a,u.current_tool_call_index));for(const c of r.delta.tool_calls??[])u.current_tool_call_index!==c.index&&(V(this,vt,"m",xg).call(this,a),u.current_tool_call_index!=null&&V(this,vt,"m",Ag).call(this,a,u.current_tool_call_index)),u.current_tool_call_index=c.index;for(const c of r.delta.tool_calls??[]){const h=a.message.tool_calls?.[c.index];h?.type&&(h?.type==="function"?this._emit("tool_calls.function.arguments.delta",{name:h.function?.name,index:c.index,arguments:h.function.arguments,parsed_arguments:h.function.parsed_arguments,arguments_delta:c.function?.arguments??""}):(h?.type,void 0))}}},Ag=function(n,o){if(V(this,vt,"m",xf).call(this,n).done_tool_calls.has(o))return;const a=n.message.tool_calls?.[o];if(!a)throw new Error("no tool call snapshot");if(!a.type)throw new Error("tool call snapshot missing `type`");if(a.type==="function"){const u=V(this,Zo,"f")?.tools?.find(c=>xd(c)&&c.function.name===a.function.name);this._emit("tool_calls.function.arguments.done",{name:a.function.name,index:o,arguments:a.function.arguments,parsed_arguments:Pu(u)?u.$parseRaw(a.function.arguments):u?.function.strict?JSON.parse(a.function.arguments):null})}else a.type},xg=function(n){const o=V(this,vt,"m",xf).call(this,n);if(n.message.content&&!o.content_done){o.content_done=!0;const r=V(this,vt,"m",Rg).call(this);this._emit("content.done",{content:n.message.content,parsed:r?r.$parseRaw(n.message.content):null})}n.message.refusal&&!o.refusal_done&&(o.refusal_done=!0,this._emit("refusal.done",{refusal:n.message.refusal})),n.logprobs?.content&&!o.logprobs_content_done&&(o.logprobs_content_done=!0,this._emit("logprobs.content.done",{content:n.logprobs.content})),n.logprobs?.refusal&&!o.logprobs_refusal_done&&(o.logprobs_refusal_done=!0,this._emit("logprobs.refusal.done",{refusal:n.logprobs.refusal}))},Rf=function(){if(this.ended)throw new Se("stream has ended, this shouldn't happen");const n=V(this,qi,"f");if(!n)throw new Se("request ended without sending any chunks");return Te(this,qi,void 0),Te(this,zs,[]),C4(n,V(this,Zo,"f"))},Rg=function(){const n=V(this,Zo,"f")?.response_format;return Fy(n)?n:null},IC=function(n){var o,r,a,u;let c=V(this,qi,"f");const{choices:h,...d}=n;c?Object.assign(c,d):c=Te(this,qi,{...d,choices:[]});for(const{delta:m,finish_reason:y,index:S,logprobs:E=null,...C}of n.choices){let A=c.choices[S];if(A||(A=c.choices[S]={finish_reason:y,index:S,message:{},logprobs:E,...C}),E)if(!A.logprobs)A.logprobs=Object.assign({},E);else{const{content:U,refusal:O,...q}=E;Object.assign(A.logprobs,q),U&&((o=A.logprobs).content??(o.content=[]),A.logprobs.content.push(...U)),O&&((r=A.logprobs).refusal??(r.refusal=[]),A.logprobs.refusal.push(...O))}if(y&&(A.finish_reason=y,V(this,Zo,"f")&&EN(V(this,Zo,"f")))){if(y==="length")throw new nN;if(y==="content_filter")throw new oN}if(Object.assign(A,C),!m)continue;const{content:x,refusal:M,function_call:I,role:N,tool_calls:D,...L}=m;if(Object.assign(A.message,L),M&&(A.message.refusal=(A.message.refusal||"")+M),N&&(A.message.role=N),I&&(A.message.function_call?(I.name&&(A.message.function_call.name=I.name),I.arguments&&((a=A.message.function_call).arguments??(a.arguments=""),A.message.function_call.arguments+=I.arguments)):A.message.function_call=I),x&&(A.message.content=(A.message.content||"")+x,!A.message.refusal&&V(this,vt,"m",Rg).call(this)&&(A.message.parsed=NC(A.message.content))),D){A.message.tool_calls||(A.message.tool_calls=[]);for(const{index:U,id:O,type:q,function:J,...X}of D){const W=(u=A.message.tool_calls)[U]??(u[U]={});Object.assign(W,X),O&&(W.id=O),q&&(W.type=q),J&&(W.function??(W.function={name:J.name??"",arguments:""})),J?.name&&(W.function.name=J.name),J?.arguments&&(W.function.arguments+=J.arguments,g4(V(this,Zo,"f"),W)&&(W.function.parsed_arguments=NC(W.function.arguments)))}}}return c},Symbol.asyncIterator)](){const e=[],n=[];let o=!1;return this.on("chunk",r=>{const a=n.shift();a?a.resolve(r):e.push(r)}),this.on("end",()=>{o=!0;for(const r of n)r.resolve(void 0);n.length=0}),this.on("abort",r=>{o=!0;for(const a of n)a.reject(r);n.length=0}),this.on("error",r=>{o=!0;for(const a of n)a.reject(r);n.length=0}),{next:async()=>e.length?{value:e.shift(),done:!1}:o?{value:void 0,done:!0}:new Promise((a,u)=>n.push({resolve:a,reject:u})).then(a=>a?{value:a,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}toReadableStream(){return new bo(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}}function C4(t,e){const{id:n,choices:o,created:r,model:a,system_fingerprint:u,...c}=t,h={...c,id:n,choices:o.map(({message:d,finish_reason:m,index:y,logprobs:S,...E})=>{if(!m)throw new Se(`missing finish_reason for choice ${y}`);const{content:C=null,function_call:A,tool_calls:x,...M}=d,I=d.role;if(!I)throw new Se(`missing role for choice ${y}`);if(A){const{arguments:N,name:D}=A;if(N==null)throw new Se(`missing function_call.arguments for choice ${y}`);if(!D)throw new Se(`missing function_call.name for choice ${y}`);return{...E,message:{content:C,function_call:{arguments:N,name:D},role:I,refusal:d.refusal??null},finish_reason:m,index:y,logprobs:S}}return x?{...E,index:y,finish_reason:m,logprobs:S,message:{...M,role:I,content:C,refusal:d.refusal??null,tool_calls:x.map((N,D)=>{const{function:L,type:U,id:O,...q}=N,{arguments:J,name:X,...W}=L||{};if(O==null)throw new Se(`missing choices[${y}].tool_calls[${D}].id
${Mf(t)}`);if(U==null)throw new Se(`missing choices[${y}].tool_calls[${D}].type
${Mf(t)}`);if(X==null)throw new Se(`missing choices[${y}].tool_calls[${D}].function.name
${Mf(t)}`);if(J==null)throw new Se(`missing choices[${y}].tool_calls[${D}].function.arguments
${Mf(t)}`);return{...q,id:O,type:U,function:{...W,name:X,arguments:J}}})}}:{...E,message:{...M,content:C,role:I,refusal:d.refusal??null},finish_reason:m,index:y,logprobs:S}}),created:r,model:a,object:"chat.completion",...u?{system_fingerprint:u}:{}};return h4(h,e)}function Mf(t){return JSON.stringify(t)}class Dd extends lu{static fromReadableStream(e){const n=new Dd(null);return n._run(()=>n._fromReadableStream(e)),n}static runTools(e,n,o){const r=new Dd(n),a={...o,headers:{...o?.headers,"X-Stainless-Helper-Method":"runTools"}};return r._run(()=>r._runTools(e,n,a)),r}}let zy=class extends ye{constructor(){super(...arguments),this.messages=new SN(this._client)}create(e,n){return this._client.post("/chat/completions",{body:e,...n,stream:e.stream??!1})}retrieve(e,n){return this._client.get(ie`/chat/completions/${e}`,n)}update(e,n,o){return this._client.post(ie`/chat/completions/${e}`,{body:n,...o})}list(e={},n){return this._client.getAPIList("/chat/completions",mt,{query:e,...n})}delete(e,n){return this._client.delete(ie`/chat/completions/${e}`,n)}parse(e,n){return v4(e.tools),this._client.chat.completions.create(e,{...n,headers:{...n?.headers,"X-Stainless-Helper-Method":"chat.completions.parse"}})._thenUnwrap(o=>$y(o,e))}runTools(e,n){return e.stream?Dd.runTools(this._client,e,n):Vy.runTools(this._client,e,n)}stream(e,n){return lu.createChatCompletion(this._client,e,n)}};zy.Messages=SN;class qy extends ye{constructor(){super(...arguments),this.completions=new zy(this._client)}}qy.Completions=zy;const $N=Symbol("brand.privateNullableHeaders");function*A4(t){if(!t)return;if($N in t){const{values:o,nulls:r}=t;yield*o.entries();for(const a of r)yield[a,null];return}let e=!1,n;t instanceof Headers?n=t.entries():mC(t)?n=t:(e=!0,n=Object.entries(t??{}));for(let o of n){const r=o[0];if(typeof r!="string")throw new TypeError("expected header name to be a string");const a=mC(o[1])?o[1]:[o[1]];let u=!1;for(const c of a)c!==void 0&&(e&&!u&&(u=!0,yield[r,null]),yield[r,c])}}const pe=t=>{const e=new Headers,n=new Set;for(const o of t){const r=new Set;for(const[a,u]of A4(o)){const c=a.toLowerCase();r.has(c)||(e.delete(a),r.add(c)),u===null?(e.delete(a),n.add(c)):(e.append(a,u),n.delete(c))}}return{[$N]:!0,values:e,nulls:n}};class GN extends ye{create(e,n){return this._client.post("/audio/speech",{body:e,...n,headers:pe([{Accept:"application/octet-stream"},n?.headers]),__binaryResponse:!0})}}class VN extends ye{create(e,n){return this._client.post("/audio/transcriptions",Yr({body:e,...n,stream:e.stream??!1,__metadata:{model:e.model}},this._client))}}class zN extends ye{create(e,n){return this._client.post("/audio/translations",Yr({body:e,...n,__metadata:{model:e.model}},this._client))}}class ku extends ye{constructor(){super(...arguments),this.transcriptions=new VN(this._client),this.translations=new zN(this._client),this.speech=new GN(this._client)}}ku.Transcriptions=VN;ku.Translations=zN;ku.Speech=GN;class qN extends ye{create(e,n){return this._client.post("/batches",{body:e,...n})}retrieve(e,n){return this._client.get(ie`/batches/${e}`,n)}list(e={},n){return this._client.getAPIList("/batches",mt,{query:e,...n})}cancel(e,n){return this._client.post(ie`/batches/${e}/cancel`,n)}}class JN extends ye{create(e,n){return this._client.post("/assistants",{body:e,...n,headers:pe([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}retrieve(e,n){return this._client.get(ie`/assistants/${e}`,{...n,headers:pe([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}update(e,n,o){return this._client.post(ie`/assistants/${e}`,{body:n,...o,headers:pe([{"OpenAI-Beta":"assistants=v2"},o?.headers])})}list(e={},n){return this._client.getAPIList("/assistants",mt,{query:e,...n,headers:pe([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}delete(e,n){return this._client.delete(ie`/assistants/${e}`,{...n,headers:pe([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}}let KN=class extends ye{create(e,n){return this._client.post("/realtime/sessions",{body:e,...n,headers:pe([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}};class YN extends ye{create(e,n){return this._client.post("/realtime/transcription_sessions",{body:e,...n,headers:pe([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}}let mh=class extends ye{constructor(){super(...arguments),this.sessions=new KN(this._client),this.transcriptionSessions=new YN(this._client)}};mh.Sessions=KN;mh.TranscriptionSessions=YN;class XN extends ye{create(e,n){return this._client.post("/chatkit/sessions",{body:e,...n,headers:pe([{"OpenAI-Beta":"chatkit_beta=v1"},n?.headers])})}cancel(e,n){return this._client.post(ie`/chatkit/sessions/${e}/cancel`,{...n,headers:pe([{"OpenAI-Beta":"chatkit_beta=v1"},n?.headers])})}}let jN=class extends ye{retrieve(e,n){return this._client.get(ie`/chatkit/threads/${e}`,{...n,headers:pe([{"OpenAI-Beta":"chatkit_beta=v1"},n?.headers])})}list(e={},n){return this._client.getAPIList("/chatkit/threads",Ad,{query:e,...n,headers:pe([{"OpenAI-Beta":"chatkit_beta=v1"},n?.headers])})}delete(e,n){return this._client.delete(ie`/chatkit/threads/${e}`,{...n,headers:pe([{"OpenAI-Beta":"chatkit_beta=v1"},n?.headers])})}listItems(e,n={},o){return this._client.getAPIList(ie`/chatkit/threads/${e}/items`,Ad,{query:n,...o,headers:pe([{"OpenAI-Beta":"chatkit_beta=v1"},o?.headers])})}};class gh extends ye{constructor(){super(...arguments),this.sessions=new XN(this._client),this.threads=new jN(this._client)}}gh.Sessions=XN;gh.Threads=jN;class WN extends ye{create(e,n,o){return this._client.post(ie`/threads/${e}/messages`,{body:n,...o,headers:pe([{"OpenAI-Beta":"assistants=v2"},o?.headers])})}retrieve(e,n,o){const{thread_id:r}=n;return this._client.get(ie`/threads/${r}/messages/${e}`,{...o,headers:pe([{"OpenAI-Beta":"assistants=v2"},o?.headers])})}update(e,n,o){const{thread_id:r,...a}=n;return this._client.post(ie`/threads/${r}/messages/${e}`,{body:a,...o,headers:pe([{"OpenAI-Beta":"assistants=v2"},o?.headers])})}list(e,n={},o){return this._client.getAPIList(ie`/threads/${e}/messages`,mt,{query:n,...o,headers:pe([{"OpenAI-Beta":"assistants=v2"},o?.headers])})}delete(e,n,o){const{thread_id:r}=n;return this._client.delete(ie`/threads/${r}/messages/${e}`,{...o,headers:pe([{"OpenAI-Beta":"assistants=v2"},o?.headers])})}}class QN extends ye{retrieve(e,n,o){const{thread_id:r,run_id:a,...u}=n;return this._client.get(ie`/threads/${r}/runs/${a}/steps/${e}`,{query:u,...o,headers:pe([{"OpenAI-Beta":"assistants=v2"},o?.headers])})}list(e,n,o){const{thread_id:r,...a}=n;return this._client.getAPIList(ie`/threads/${r}/runs/${e}/steps`,mt,{query:a,...o,headers:pe([{"OpenAI-Beta":"assistants=v2"},o?.headers])})}}const x4=t=>{if(typeof Buffer<"u"){const e=Buffer.from(t,"base64");return Array.from(new Float32Array(e.buffer,e.byteOffset,e.length/Float32Array.BYTES_PER_ELEMENT))}else{const e=atob(t),n=e.length,o=new Uint8Array(n);for(let r=0;r<n;r++)o[r]=e.charCodeAt(r);return Array.from(new Float32Array(o.buffer))}};var R4={};const qs=t=>{if(typeof globalThis.process<"u")return R4?.[t]?.trim()??void 0;if(typeof globalThis.Deno<"u")return globalThis.Deno.env?.get?.(t)?.trim()};var Dt,Pr,kv,_o,Qf,jn,kr,ra,Dr,Od,mn,Zf,ed,Ql,Vl,zl,DC,OC,PC,kC,LC,UC,BC;class Zl extends Gy{constructor(){super(...arguments),Dt.add(this),kv.set(this,[]),_o.set(this,{}),Qf.set(this,{}),jn.set(this,void 0),kr.set(this,void 0),ra.set(this,void 0),Dr.set(this,void 0),Od.set(this,void 0),mn.set(this,void 0),Zf.set(this,void 0),ed.set(this,void 0),Ql.set(this,void 0)}[(kv=new WeakMap,_o=new WeakMap,Qf=new WeakMap,jn=new WeakMap,kr=new WeakMap,ra=new WeakMap,Dr=new WeakMap,Od=new WeakMap,mn=new WeakMap,Zf=new WeakMap,ed=new WeakMap,Ql=new WeakMap,Dt=new WeakSet,Symbol.asyncIterator)](){const e=[],n=[];let o=!1;return this.on("event",r=>{const a=n.shift();a?a.resolve(r):e.push(r)}),this.on("end",()=>{o=!0;for(const r of n)r.resolve(void 0);n.length=0}),this.on("abort",r=>{o=!0;for(const a of n)a.reject(r);n.length=0}),this.on("error",r=>{o=!0;for(const a of n)a.reject(r);n.length=0}),{next:async()=>e.length?{value:e.shift(),done:!1}:o?{value:void 0,done:!0}:new Promise((a,u)=>n.push({resolve:a,reject:u})).then(a=>a?{value:a,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}static fromReadableStream(e){const n=new Pr;return n._run(()=>n._fromReadableStream(e)),n}async _fromReadableStream(e,n){const o=n?.signal;o&&(o.aborted&&this.controller.abort(),o.addEventListener("abort",()=>this.controller.abort())),this._connected();const r=bo.fromReadableStream(e,this.controller);for await(const a of r)V(this,Dt,"m",Vl).call(this,a);if(r.controller.signal?.aborted)throw new Bn;return this._addRun(V(this,Dt,"m",zl).call(this))}toReadableStream(){return new bo(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}static createToolAssistantStream(e,n,o,r){const a=new Pr;return a._run(()=>a._runToolAssistantStream(e,n,o,{...r,headers:{...r?.headers,"X-Stainless-Helper-Method":"stream"}})),a}async _createToolAssistantStream(e,n,o,r){const a=r?.signal;a&&(a.aborted&&this.controller.abort(),a.addEventListener("abort",()=>this.controller.abort()));const u={...o,stream:!0},c=await e.submitToolOutputs(n,u,{...r,signal:this.controller.signal});this._connected();for await(const h of c)V(this,Dt,"m",Vl).call(this,h);if(c.controller.signal?.aborted)throw new Bn;return this._addRun(V(this,Dt,"m",zl).call(this))}static createThreadAssistantStream(e,n,o){const r=new Pr;return r._run(()=>r._threadAssistantStream(e,n,{...o,headers:{...o?.headers,"X-Stainless-Helper-Method":"stream"}})),r}static createAssistantStream(e,n,o,r){const a=new Pr;return a._run(()=>a._runAssistantStream(e,n,o,{...r,headers:{...r?.headers,"X-Stainless-Helper-Method":"stream"}})),a}currentEvent(){return V(this,Zf,"f")}currentRun(){return V(this,ed,"f")}currentMessageSnapshot(){return V(this,jn,"f")}currentRunStepSnapshot(){return V(this,Ql,"f")}async finalRunSteps(){return await this.done(),Object.values(V(this,_o,"f"))}async finalMessages(){return await this.done(),Object.values(V(this,Qf,"f"))}async finalRun(){if(await this.done(),!V(this,kr,"f"))throw Error("Final run was not received.");return V(this,kr,"f")}async _createThreadAssistantStream(e,n,o){const r=o?.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",()=>this.controller.abort()));const a={...n,stream:!0},u=await e.createAndRun(a,{...o,signal:this.controller.signal});this._connected();for await(const c of u)V(this,Dt,"m",Vl).call(this,c);if(u.controller.signal?.aborted)throw new Bn;return this._addRun(V(this,Dt,"m",zl).call(this))}async _createAssistantStream(e,n,o,r){const a=r?.signal;a&&(a.aborted&&this.controller.abort(),a.addEventListener("abort",()=>this.controller.abort()));const u={...o,stream:!0},c=await e.create(n,u,{...r,signal:this.controller.signal});this._connected();for await(const h of c)V(this,Dt,"m",Vl).call(this,h);if(c.controller.signal?.aborted)throw new Bn;return this._addRun(V(this,Dt,"m",zl).call(this))}static accumulateDelta(e,n){for(const[o,r]of Object.entries(n)){if(!e.hasOwnProperty(o)){e[o]=r;continue}let a=e[o];if(a==null){e[o]=r;continue}if(o==="index"||o==="type"){e[o]=r;continue}if(typeof a=="string"&&typeof r=="string")a+=r;else if(typeof a=="number"&&typeof r=="number")a+=r;else if(Eg(a)&&Eg(r))a=this.accumulateDelta(a,r);else if(Array.isArray(a)&&Array.isArray(r)){if(a.every(u=>typeof u=="string"||typeof u=="number")){a.push(...r);continue}for(const u of r){if(!Eg(u))throw new Error(`Expected array delta entry to be an object but got: ${u}`);const c=u.index;if(c==null)throw console.error(u),new Error("Expected array delta entry to have an `index` property");if(typeof c!="number")throw new Error(`Expected array delta entry \`index\` property to be a number but got ${c}`);const h=a[c];h==null?a.push(u):a[c]=this.accumulateDelta(h,u)}continue}else throw Error(`Unhandled record type: ${o}, deltaValue: ${r}, accValue: ${a}`);e[o]=a}return e}_addRun(e){return e}async _threadAssistantStream(e,n,o){return await this._createThreadAssistantStream(n,e,o)}async _runAssistantStream(e,n,o,r){return await this._createAssistantStream(n,e,o,r)}async _runToolAssistantStream(e,n,o,r){return await this._createToolAssistantStream(n,e,o,r)}}Pr=Zl,Vl=function(e){if(!this.ended)switch(Te(this,Zf,e),V(this,Dt,"m",PC).call(this,e),e.event){case"thread.created":break;case"thread.run.created":case"thread.run.queued":case"thread.run.in_progress":case"thread.run.requires_action":case"thread.run.completed":case"thread.run.incomplete":case"thread.run.failed":case"thread.run.cancelling":case"thread.run.cancelled":case"thread.run.expired":V(this,Dt,"m",BC).call(this,e);break;case"thread.run.step.created":case"thread.run.step.in_progress":case"thread.run.step.delta":case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":V(this,Dt,"m",OC).call(this,e);break;case"thread.message.created":case"thread.message.in_progress":case"thread.message.delta":case"thread.message.completed":case"thread.message.incomplete":V(this,Dt,"m",DC).call(this,e);break;case"error":throw new Error("Encountered an error event in event processing - errors should be processed earlier")}},zl=function(){if(this.ended)throw new Se("stream has ended, this shouldn't happen");if(!V(this,kr,"f"))throw Error("Final run has not been received");return V(this,kr,"f")},DC=function(e){const[n,o]=V(this,Dt,"m",LC).call(this,e,V(this,jn,"f"));Te(this,jn,n),V(this,Qf,"f")[n.id]=n;for(const r of o){const a=n.content[r.index];a?.type=="text"&&this._emit("textCreated",a.text)}switch(e.event){case"thread.message.created":this._emit("messageCreated",e.data);break;case"thread.message.in_progress":break;case"thread.message.delta":if(this._emit("messageDelta",e.data.delta,n),e.data.delta.content)for(const r of e.data.delta.content){if(r.type=="text"&&r.text){let a=r.text,u=n.content[r.index];if(u&&u.type=="text")this._emit("textDelta",a,u.text);else throw Error("The snapshot associated with this text delta is not text or missing")}if(r.index!=V(this,ra,"f")){if(V(this,Dr,"f"))switch(V(this,Dr,"f").type){case"text":this._emit("textDone",V(this,Dr,"f").text,V(this,jn,"f"));break;case"image_file":this._emit("imageFileDone",V(this,Dr,"f").image_file,V(this,jn,"f"));break}Te(this,ra,r.index)}Te(this,Dr,n.content[r.index])}break;case"thread.message.completed":case"thread.message.incomplete":if(V(this,ra,"f")!==void 0){const r=e.data.content[V(this,ra,"f")];if(r)switch(r.type){case"image_file":this._emit("imageFileDone",r.image_file,V(this,jn,"f"));break;case"text":this._emit("textDone",r.text,V(this,jn,"f"));break}}V(this,jn,"f")&&this._emit("messageDone",e.data),Te(this,jn,void 0)}},OC=function(e){const n=V(this,Dt,"m",kC).call(this,e);switch(Te(this,Ql,n),e.event){case"thread.run.step.created":this._emit("runStepCreated",e.data);break;case"thread.run.step.delta":const o=e.data.delta;if(o.step_details&&o.step_details.type=="tool_calls"&&o.step_details.tool_calls&&n.step_details.type=="tool_calls")for(const a of o.step_details.tool_calls)a.index==V(this,Od,"f")?this._emit("toolCallDelta",a,n.step_details.tool_calls[a.index]):(V(this,mn,"f")&&this._emit("toolCallDone",V(this,mn,"f")),Te(this,Od,a.index),Te(this,mn,n.step_details.tool_calls[a.index]),V(this,mn,"f")&&this._emit("toolCallCreated",V(this,mn,"f")));this._emit("runStepDelta",e.data.delta,n);break;case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":Te(this,Ql,void 0),e.data.step_details.type=="tool_calls"&&V(this,mn,"f")&&(this._emit("toolCallDone",V(this,mn,"f")),Te(this,mn,void 0)),this._emit("runStepDone",e.data,n);break}},PC=function(e){V(this,kv,"f").push(e),this._emit("event",e)},kC=function(e){switch(e.event){case"thread.run.step.created":return V(this,_o,"f")[e.data.id]=e.data,e.data;case"thread.run.step.delta":let n=V(this,_o,"f")[e.data.id];if(!n)throw Error("Received a RunStepDelta before creation of a snapshot");let o=e.data;if(o.delta){const r=Pr.accumulateDelta(n,o.delta);V(this,_o,"f")[e.data.id]=r}return V(this,_o,"f")[e.data.id];case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":case"thread.run.step.in_progress":V(this,_o,"f")[e.data.id]=e.data;break}if(V(this,_o,"f")[e.data.id])return V(this,_o,"f")[e.data.id];throw new Error("No snapshot available")},LC=function(e,n){let o=[];switch(e.event){case"thread.message.created":return[e.data,o];case"thread.message.delta":if(!n)throw Error("Received a delta with no existing snapshot (there should be one from message creation)");let r=e.data;if(r.delta.content)for(const a of r.delta.content)if(a.index in n.content){let u=n.content[a.index];n.content[a.index]=V(this,Dt,"m",UC).call(this,a,u)}else n.content[a.index]=a,o.push(a);return[n,o];case"thread.message.in_progress":case"thread.message.completed":case"thread.message.incomplete":if(n)return[n,o];throw Error("Received thread message event with no existing snapshot")}throw Error("Tried to accumulate a non-message event")},UC=function(e,n){return Pr.accumulateDelta(n,e)},BC=function(e){switch(Te(this,ed,e.data),e.event){case"thread.run.created":break;case"thread.run.queued":break;case"thread.run.in_progress":break;case"thread.run.requires_action":case"thread.run.cancelled":case"thread.run.failed":case"thread.run.completed":case"thread.run.expired":case"thread.run.incomplete":Te(this,kr,e.data),V(this,mn,"f")&&(this._emit("toolCallDone",V(this,mn,"f")),Te(this,mn,void 0));break}};let Jy=class extends ye{constructor(){super(...arguments),this.steps=new QN(this._client)}create(e,n,o){const{include:r,...a}=n;return this._client.post(ie`/threads/${e}/runs`,{query:{include:r},body:a,...o,headers:pe([{"OpenAI-Beta":"assistants=v2"},o?.headers]),stream:n.stream??!1})}retrieve(e,n,o){const{thread_id:r}=n;return this._client.get(ie`/threads/${r}/runs/${e}`,{...o,headers:pe([{"OpenAI-Beta":"assistants=v2"},o?.headers])})}update(e,n,o){const{thread_id:r,...a}=n;return this._client.post(ie`/threads/${r}/runs/${e}`,{body:a,...o,headers:pe([{"OpenAI-Beta":"assistants=v2"},o?.headers])})}list(e,n={},o){return this._client.getAPIList(ie`/threads/${e}/runs`,mt,{query:n,...o,headers:pe([{"OpenAI-Beta":"assistants=v2"},o?.headers])})}cancel(e,n,o){const{thread_id:r}=n;return this._client.post(ie`/threads/${r}/runs/${e}/cancel`,{...o,headers:pe([{"OpenAI-Beta":"assistants=v2"},o?.headers])})}async createAndPoll(e,n,o){const r=await this.create(e,n,o);return await this.poll(r.id,{thread_id:e},o)}createAndStream(e,n,o){return Zl.createAssistantStream(e,this._client.beta.threads.runs,n,o)}async poll(e,n,o){const r=pe([o?.headers,{"X-Stainless-Poll-Helper":"true","X-Stainless-Custom-Poll-Interval":o?.pollIntervalMs?.toString()??void 0}]);for(;;){const{data:a,response:u}=await this.retrieve(e,n,{...o,headers:{...o?.headers,...r}}).withResponse();switch(a.status){case"queued":case"in_progress":case"cancelling":let c=5e3;if(o?.pollIntervalMs)c=o.pollIntervalMs;else{const h=u.headers.get("openai-poll-after-ms");if(h){const d=parseInt(h);isNaN(d)||(c=d)}}await Ou(c);break;case"requires_action":case"incomplete":case"cancelled":case"completed":case"failed":case"expired":return a}}}stream(e,n,o){return Zl.createAssistantStream(e,this._client.beta.threads.runs,n,o)}submitToolOutputs(e,n,o){const{thread_id:r,...a}=n;return this._client.post(ie`/threads/${r}/runs/${e}/submit_tool_outputs`,{body:a,...o,headers:pe([{"OpenAI-Beta":"assistants=v2"},o?.headers]),stream:n.stream??!1})}async submitToolOutputsAndPoll(e,n,o){const r=await this.submitToolOutputs(e,n,o);return await this.poll(r.id,n,o)}submitToolOutputsStream(e,n,o){return Zl.createToolAssistantStream(e,this._client.beta.threads.runs,n,o)}};Jy.Steps=QN;class vh extends ye{constructor(){super(...arguments),this.runs=new Jy(this._client),this.messages=new WN(this._client)}create(e={},n){return this._client.post("/threads",{body:e,...n,headers:pe([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}retrieve(e,n){return this._client.get(ie`/threads/${e}`,{...n,headers:pe([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}update(e,n,o){return this._client.post(ie`/threads/${e}`,{body:n,...o,headers:pe([{"OpenAI-Beta":"assistants=v2"},o?.headers])})}delete(e,n){return this._client.delete(ie`/threads/${e}`,{...n,headers:pe([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}createAndRun(e,n){return this._client.post("/threads/runs",{body:e,...n,headers:pe([{"OpenAI-Beta":"assistants=v2"},n?.headers]),stream:e.stream??!1})}async createAndRunPoll(e,n){const o=await this.createAndRun(e,n);return await this.runs.poll(o.id,{thread_id:o.thread_id},n)}createAndRunStream(e,n){return Zl.createThreadAssistantStream(e,this._client.beta.threads,n)}}vh.Runs=Jy;vh.Messages=WN;class xa extends ye{constructor(){super(...arguments),this.realtime=new mh(this._client),this.chatkit=new gh(this._client),this.assistants=new JN(this._client),this.threads=new vh(this._client)}}xa.Realtime=mh;xa.ChatKit=gh;xa.Assistants=JN;xa.Threads=vh;class ZN extends ye{create(e,n){return this._client.post("/completions",{body:e,...n,stream:e.stream??!1})}}let eI=class extends ye{retrieve(e,n,o){const{container_id:r}=n;return this._client.get(ie`/containers/${r}/files/${e}/content`,{...o,headers:pe([{Accept:"application/binary"},o?.headers]),__binaryResponse:!0})}},Ky=class extends ye{constructor(){super(...arguments),this.content=new eI(this._client)}create(e,n,o){return this._client.post(ie`/containers/${e}/files`,Yr({body:n,...o},this._client))}retrieve(e,n,o){const{container_id:r}=n;return this._client.get(ie`/containers/${r}/files/${e}`,o)}list(e,n={},o){return this._client.getAPIList(ie`/containers/${e}/files`,mt,{query:n,...o})}delete(e,n,o){const{container_id:r}=n;return this._client.delete(ie`/containers/${r}/files/${e}`,{...o,headers:pe([{Accept:"*/*"},o?.headers])})}};Ky.Content=eI;class Yy extends ye{constructor(){super(...arguments),this.files=new Ky(this._client)}create(e,n){return this._client.post("/containers",{body:e,...n})}retrieve(e,n){return this._client.get(ie`/containers/${e}`,n)}list(e={},n){return this._client.getAPIList("/containers",mt,{query:e,...n})}delete(e,n){return this._client.delete(ie`/containers/${e}`,{...n,headers:pe([{Accept:"*/*"},n?.headers])})}}Yy.Files=Ky;class tI extends ye{create(e,n,o){const{include:r,...a}=n;return this._client.post(ie`/conversations/${e}/items`,{query:{include:r},body:a,...o})}retrieve(e,n,o){const{conversation_id:r,...a}=n;return this._client.get(ie`/conversations/${r}/items/${e}`,{query:a,...o})}list(e,n={},o){return this._client.getAPIList(ie`/conversations/${e}/items`,Ad,{query:n,...o})}delete(e,n,o){const{conversation_id:r}=n;return this._client.delete(ie`/conversations/${r}/items/${e}`,o)}}class Xy extends ye{constructor(){super(...arguments),this.items=new tI(this._client)}create(e={},n){return this._client.post("/conversations",{body:e,...n})}retrieve(e,n){return this._client.get(ie`/conversations/${e}`,n)}update(e,n,o){return this._client.post(ie`/conversations/${e}`,{body:n,...o})}delete(e,n){return this._client.delete(ie`/conversations/${e}`,n)}}Xy.Items=tI;class nI extends ye{create(e,n){const o=!!e.encoding_format;let r=o?e.encoding_format:"base64";o&&It(this._client).debug("embeddings/user defined encoding_format:",e.encoding_format);const a=this._client.post("/embeddings",{body:{...e,encoding_format:r},...n});return o?a:(It(this._client).debug("embeddings/decoding base64 embeddings from base64"),a._thenUnwrap(u=>(u&&u.data&&u.data.forEach(c=>{const h=c.embedding;c.embedding=x4(h)}),u)))}}class oI extends ye{retrieve(e,n,o){const{eval_id:r,run_id:a}=n;return this._client.get(ie`/evals/${r}/runs/${a}/output_items/${e}`,o)}list(e,n,o){const{eval_id:r,...a}=n;return this._client.getAPIList(ie`/evals/${r}/runs/${e}/output_items`,mt,{query:a,...o})}}class jy extends ye{constructor(){super(...arguments),this.outputItems=new oI(this._client)}create(e,n,o){return this._client.post(ie`/evals/${e}/runs`,{body:n,...o})}retrieve(e,n,o){const{eval_id:r}=n;return this._client.get(ie`/evals/${r}/runs/${e}`,o)}list(e,n={},o){return this._client.getAPIList(ie`/evals/${e}/runs`,mt,{query:n,...o})}delete(e,n,o){const{eval_id:r}=n;return this._client.delete(ie`/evals/${r}/runs/${e}`,o)}cancel(e,n,o){const{eval_id:r}=n;return this._client.post(ie`/evals/${r}/runs/${e}`,o)}}jy.OutputItems=oI;class Wy extends ye{constructor(){super(...arguments),this.runs=new jy(this._client)}create(e,n){return this._client.post("/evals",{body:e,...n})}retrieve(e,n){return this._client.get(ie`/evals/${e}`,n)}update(e,n,o){return this._client.post(ie`/evals/${e}`,{body:n,...o})}list(e={},n){return this._client.getAPIList("/evals",mt,{query:e,...n})}delete(e,n){return this._client.delete(ie`/evals/${e}`,n)}}Wy.Runs=jy;let iI=class extends ye{create(e,n){return this._client.post("/files",Yr({body:e,...n},this._client))}retrieve(e,n){return this._client.get(ie`/files/${e}`,n)}list(e={},n){return this._client.getAPIList("/files",mt,{query:e,...n})}delete(e,n){return this._client.delete(ie`/files/${e}`,n)}content(e,n){return this._client.get(ie`/files/${e}/content`,{...n,headers:pe([{Accept:"application/binary"},n?.headers]),__binaryResponse:!0})}async waitForProcessing(e,{pollInterval:n=5e3,maxWait:o=1800*1e3}={}){const r=new Set(["processed","error","deleted"]),a=Date.now();let u=await this.retrieve(e);for(;!u.status||!r.has(u.status);)if(await Ou(n),u=await this.retrieve(e),Date.now()-a>o)throw new Ly({message:`Giving up on waiting for file ${e} to finish processing after ${o} milliseconds.`});return u}};class rI extends ye{}let sI=class extends ye{run(e,n){return this._client.post("/fine_tuning/alpha/graders/run",{body:e,...n})}validate(e,n){return this._client.post("/fine_tuning/alpha/graders/validate",{body:e,...n})}};class Qy extends ye{constructor(){super(...arguments),this.graders=new sI(this._client)}}Qy.Graders=sI;class aI extends ye{create(e,n,o){return this._client.getAPIList(ie`/fine_tuning/checkpoints/${e}/permissions`,ph,{body:n,method:"post",...o})}retrieve(e,n={},o){return this._client.get(ie`/fine_tuning/checkpoints/${e}/permissions`,{query:n,...o})}delete(e,n,o){const{fine_tuned_model_checkpoint:r}=n;return this._client.delete(ie`/fine_tuning/checkpoints/${r}/permissions/${e}`,o)}}let Zy=class extends ye{constructor(){super(...arguments),this.permissions=new aI(this._client)}};Zy.Permissions=aI;class lI extends ye{list(e,n={},o){return this._client.getAPIList(ie`/fine_tuning/jobs/${e}/checkpoints`,mt,{query:n,...o})}}class e_ extends ye{constructor(){super(...arguments),this.checkpoints=new lI(this._client)}create(e,n){return this._client.post("/fine_tuning/jobs",{body:e,...n})}retrieve(e,n){return this._client.get(ie`/fine_tuning/jobs/${e}`,n)}list(e={},n){return this._client.getAPIList("/fine_tuning/jobs",mt,{query:e,...n})}cancel(e,n){return this._client.post(ie`/fine_tuning/jobs/${e}/cancel`,n)}listEvents(e,n={},o){return this._client.getAPIList(ie`/fine_tuning/jobs/${e}/events`,mt,{query:n,...o})}pause(e,n){return this._client.post(ie`/fine_tuning/jobs/${e}/pause`,n)}resume(e,n){return this._client.post(ie`/fine_tuning/jobs/${e}/resume`,n)}}e_.Checkpoints=lI;class Ra extends ye{constructor(){super(...arguments),this.methods=new rI(this._client),this.jobs=new e_(this._client),this.checkpoints=new Zy(this._client),this.alpha=new Qy(this._client)}}Ra.Methods=rI;Ra.Jobs=e_;Ra.Checkpoints=Zy;Ra.Alpha=Qy;class uI extends ye{}class t_ extends ye{constructor(){super(...arguments),this.graderModels=new uI(this._client)}}t_.GraderModels=uI;class cI extends ye{createVariation(e,n){return this._client.post("/images/variations",Yr({body:e,...n},this._client))}edit(e,n){return this._client.post("/images/edits",Yr({body:e,...n,stream:e.stream??!1},this._client))}generate(e,n){return this._client.post("/images/generations",{body:e,...n,stream:e.stream??!1})}}class fI extends ye{retrieve(e,n){return this._client.get(ie`/models/${e}`,n)}list(e){return this._client.getAPIList("/models",ph,e)}delete(e,n){return this._client.delete(ie`/models/${e}`,n)}}class dI extends ye{create(e,n){return this._client.post("/moderations",{body:e,...n})}}class hI extends ye{accept(e,n,o){return this._client.post(ie`/realtime/calls/${e}/accept`,{body:n,...o,headers:pe([{Accept:"*/*"},o?.headers])})}hangup(e,n){return this._client.post(ie`/realtime/calls/${e}/hangup`,{...n,headers:pe([{Accept:"*/*"},n?.headers])})}refer(e,n,o){return this._client.post(ie`/realtime/calls/${e}/refer`,{body:n,...o,headers:pe([{Accept:"*/*"},o?.headers])})}reject(e,n={},o){return this._client.post(ie`/realtime/calls/${e}/reject`,{body:n,...o,headers:pe([{Accept:"*/*"},o?.headers])})}}class pI extends ye{create(e,n){return this._client.post("/realtime/client_secrets",{body:e,...n})}}class yh extends ye{constructor(){super(...arguments),this.clientSecrets=new pI(this._client),this.calls=new hI(this._client)}}yh.ClientSecrets=pI;yh.Calls=hI;function M4(t,e){return!e||!I4(e)?{...t,output_parsed:null,output:t.output.map(n=>n.type==="function_call"?{...n,parsed_arguments:null}:n.type==="message"?{...n,content:n.content.map(o=>({...o,parsed:null}))}:n)}:mI(t,e)}function mI(t,e){const n=t.output.map(r=>{if(r.type==="function_call")return{...r,parsed_arguments:P4(e,r)};if(r.type==="message"){const a=r.content.map(u=>u.type==="output_text"?{...u,parsed:N4(e,u.text)}:u);return{...r,content:a}}return r}),o=Object.assign({},t,{output:n});return Object.getOwnPropertyDescriptor(t,"output_text")||Lv(o),Object.defineProperty(o,"output_parsed",{enumerable:!0,get(){for(const r of o.output)if(r.type==="message"){for(const a of r.content)if(a.type==="output_text"&&a.parsed!==null)return a.parsed}return null}}),o}function N4(t,e){return t.text?.format?.type!=="json_schema"?null:"$parseRaw"in t.text?.format?(t.text?.format).$parseRaw(e):JSON.parse(e)}function I4(t){return!!Fy(t.text?.format)}function D4(t){return t?.$brand==="auto-parseable-tool"}function O4(t,e){return t.find(n=>n.type==="function"&&n.name===e)}function P4(t,e){const n=O4(t.tools??[],e.name);return{...e,...e,parsed_arguments:D4(n)?n.$parseRaw(e.arguments):n?.strict?JSON.parse(e.arguments):null}}function Lv(t){const e=[];for(const n of t.output)if(n.type==="message")for(const o of n.content)o.type==="output_text"&&e.push(o.text);t.output_text=e.join("")}var Js,Nf,Ji,If,HC,FC,$C,GC;class n_ extends Gy{constructor(e){super(),Js.add(this),Nf.set(this,void 0),Ji.set(this,void 0),If.set(this,void 0),Te(this,Nf,e)}static createResponse(e,n,o){const r=new n_(n);return r._run(()=>r._createOrRetrieveResponse(e,n,{...o,headers:{...o?.headers,"X-Stainless-Helper-Method":"stream"}})),r}async _createOrRetrieveResponse(e,n,o){const r=o?.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",()=>this.controller.abort())),V(this,Js,"m",HC).call(this);let a,u=null;"response_id"in n?(a=await e.responses.retrieve(n.response_id,{stream:!0},{...o,signal:this.controller.signal,stream:!0}),u=n.starting_after??null):a=await e.responses.create({...n,stream:!0},{...o,signal:this.controller.signal}),this._connected();for await(const c of a)V(this,Js,"m",FC).call(this,c,u);if(a.controller.signal?.aborted)throw new Bn;return V(this,Js,"m",$C).call(this)}[(Nf=new WeakMap,Ji=new WeakMap,If=new WeakMap,Js=new WeakSet,HC=function(){this.ended||Te(this,Ji,void 0)},FC=function(n,o){if(this.ended)return;const r=(u,c)=>{(o==null||c.sequence_number>o)&&this._emit(u,c)},a=V(this,Js,"m",GC).call(this,n);switch(r("event",n),n.type){case"response.output_text.delta":{const u=a.output[n.output_index];if(!u)throw new Se(`missing output at index ${n.output_index}`);if(u.type==="message"){const c=u.content[n.content_index];if(!c)throw new Se(`missing content at index ${n.content_index}`);if(c.type!=="output_text")throw new Se(`expected content to be 'output_text', got ${c.type}`);r("response.output_text.delta",{...n,snapshot:c.text})}break}case"response.function_call_arguments.delta":{const u=a.output[n.output_index];if(!u)throw new Se(`missing output at index ${n.output_index}`);u.type==="function_call"&&r("response.function_call_arguments.delta",{...n,snapshot:u.arguments});break}default:r(n.type,n);break}},$C=function(){if(this.ended)throw new Se("stream has ended, this shouldn't happen");const n=V(this,Ji,"f");if(!n)throw new Se("request ended without sending any events");Te(this,Ji,void 0);const o=k4(n,V(this,Nf,"f"));return Te(this,If,o),o},GC=function(n){let o=V(this,Ji,"f");if(!o){if(n.type!=="response.created")throw new Se(`When snapshot hasn't been set yet, expected 'response.created' event, got ${n.type}`);return o=Te(this,Ji,n.response),o}switch(n.type){case"response.output_item.added":{o.output.push(n.item);break}case"response.content_part.added":{const r=o.output[n.output_index];if(!r)throw new Se(`missing output at index ${n.output_index}`);const a=r.type,u=n.part;a==="message"&&u.type!=="reasoning_text"?r.content.push(u):a==="reasoning"&&u.type==="reasoning_text"&&(r.content||(r.content=[]),r.content.push(u));break}case"response.output_text.delta":{const r=o.output[n.output_index];if(!r)throw new Se(`missing output at index ${n.output_index}`);if(r.type==="message"){const a=r.content[n.content_index];if(!a)throw new Se(`missing content at index ${n.content_index}`);if(a.type!=="output_text")throw new Se(`expected content to be 'output_text', got ${a.type}`);a.text+=n.delta}break}case"response.function_call_arguments.delta":{const r=o.output[n.output_index];if(!r)throw new Se(`missing output at index ${n.output_index}`);r.type==="function_call"&&(r.arguments+=n.delta);break}case"response.reasoning_text.delta":{const r=o.output[n.output_index];if(!r)throw new Se(`missing output at index ${n.output_index}`);if(r.type==="reasoning"){const a=r.content?.[n.content_index];if(!a)throw new Se(`missing content at index ${n.content_index}`);if(a.type!=="reasoning_text")throw new Se(`expected content to be 'reasoning_text', got ${a.type}`);a.text+=n.delta}break}case"response.completed":{Te(this,Ji,n.response);break}}return o},Symbol.asyncIterator)](){const e=[],n=[];let o=!1;return this.on("event",r=>{const a=n.shift();a?a.resolve(r):e.push(r)}),this.on("end",()=>{o=!0;for(const r of n)r.resolve(void 0);n.length=0}),this.on("abort",r=>{o=!0;for(const a of n)a.reject(r);n.length=0}),this.on("error",r=>{o=!0;for(const a of n)a.reject(r);n.length=0}),{next:async()=>e.length?{value:e.shift(),done:!1}:o?{value:void 0,done:!0}:new Promise((a,u)=>n.push({resolve:a,reject:u})).then(a=>a?{value:a,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}async finalResponse(){await this.done();const e=V(this,If,"f");if(!e)throw new Se("stream ended without producing a ChatCompletion");return e}}function k4(t,e){return M4(t,e)}class gI extends ye{list(e,n={},o){return this._client.getAPIList(ie`/responses/${e}/input_items`,mt,{query:n,...o})}}class vI extends ye{count(e={},n){return this._client.post("/responses/input_tokens",{body:e,...n})}}class _h extends ye{constructor(){super(...arguments),this.inputItems=new gI(this._client),this.inputTokens=new vI(this._client)}create(e,n){return this._client.post("/responses",{body:e,...n,stream:e.stream??!1})._thenUnwrap(o=>("object"in o&&o.object==="response"&&Lv(o),o))}retrieve(e,n={},o){return this._client.get(ie`/responses/${e}`,{query:n,...o,stream:n?.stream??!1})._thenUnwrap(r=>("object"in r&&r.object==="response"&&Lv(r),r))}delete(e,n){return this._client.delete(ie`/responses/${e}`,{...n,headers:pe([{Accept:"*/*"},n?.headers])})}parse(e,n){return this._client.responses.create(e,n)._thenUnwrap(o=>mI(o,e))}stream(e,n){return n_.createResponse(this._client,e,n)}cancel(e,n){return this._client.post(ie`/responses/${e}/cancel`,n)}compact(e={},n){return this._client.post("/responses/compact",{body:e,...n})}}_h.InputItems=gI;_h.InputTokens=vI;class yI extends ye{create(e,n,o){return this._client.post(ie`/uploads/${e}/parts`,Yr({body:n,...o},this._client))}}class o_ extends ye{constructor(){super(...arguments),this.parts=new yI(this._client)}create(e,n){return this._client.post("/uploads",{body:e,...n})}cancel(e,n){return this._client.post(ie`/uploads/${e}/cancel`,n)}complete(e,n,o){return this._client.post(ie`/uploads/${e}/complete`,{body:n,...o})}}o_.Parts=yI;const L4=async t=>{const e=await Promise.allSettled(t),n=e.filter(r=>r.status==="rejected");if(n.length){for(const r of n)console.error(r.reason);throw new Error(`${n.length} promise(s) failed - see the above errors`)}const o=[];for(const r of e)r.status==="fulfilled"&&o.push(r.value);return o};class _I extends ye{create(e,n,o){return this._client.post(ie`/vector_stores/${e}/file_batches`,{body:n,...o,headers:pe([{"OpenAI-Beta":"assistants=v2"},o?.headers])})}retrieve(e,n,o){const{vector_store_id:r}=n;return this._client.get(ie`/vector_stores/${r}/file_batches/${e}`,{...o,headers:pe([{"OpenAI-Beta":"assistants=v2"},o?.headers])})}cancel(e,n,o){const{vector_store_id:r}=n;return this._client.post(ie`/vector_stores/${r}/file_batches/${e}/cancel`,{...o,headers:pe([{"OpenAI-Beta":"assistants=v2"},o?.headers])})}async createAndPoll(e,n,o){const r=await this.create(e,n);return await this.poll(e,r.id,o)}listFiles(e,n,o){const{vector_store_id:r,...a}=n;return this._client.getAPIList(ie`/vector_stores/${r}/file_batches/${e}/files`,mt,{query:a,...o,headers:pe([{"OpenAI-Beta":"assistants=v2"},o?.headers])})}async poll(e,n,o){const r=pe([o?.headers,{"X-Stainless-Poll-Helper":"true","X-Stainless-Custom-Poll-Interval":o?.pollIntervalMs?.toString()??void 0}]);for(;;){const{data:a,response:u}=await this.retrieve(n,{vector_store_id:e},{...o,headers:r}).withResponse();switch(a.status){case"in_progress":let c=5e3;if(o?.pollIntervalMs)c=o.pollIntervalMs;else{const h=u.headers.get("openai-poll-after-ms");if(h){const d=parseInt(h);isNaN(d)||(c=d)}}await Ou(c);break;case"failed":case"cancelled":case"completed":return a}}}async uploadAndPoll(e,{files:n,fileIds:o=[]},r){if(n==null||n.length==0)throw new Error("No `files` provided to process. If you've already uploaded files you should use `.createAndPoll()` instead");const a=r?.maxConcurrency??5,u=Math.min(a,n.length),c=this._client,h=n.values(),d=[...o];async function m(S){for(let E of S){const C=await c.files.create({file:E,purpose:"assistants"},r);d.push(C.id)}}const y=Array(u).fill(h).map(m);return await L4(y),await this.createAndPoll(e,{file_ids:d})}}class SI extends ye{create(e,n,o){return this._client.post(ie`/vector_stores/${e}/files`,{body:n,...o,headers:pe([{"OpenAI-Beta":"assistants=v2"},o?.headers])})}retrieve(e,n,o){const{vector_store_id:r}=n;return this._client.get(ie`/vector_stores/${r}/files/${e}`,{...o,headers:pe([{"OpenAI-Beta":"assistants=v2"},o?.headers])})}update(e,n,o){const{vector_store_id:r,...a}=n;return this._client.post(ie`/vector_stores/${r}/files/${e}`,{body:a,...o,headers:pe([{"OpenAI-Beta":"assistants=v2"},o?.headers])})}list(e,n={},o){return this._client.getAPIList(ie`/vector_stores/${e}/files`,mt,{query:n,...o,headers:pe([{"OpenAI-Beta":"assistants=v2"},o?.headers])})}delete(e,n,o){const{vector_store_id:r}=n;return this._client.delete(ie`/vector_stores/${r}/files/${e}`,{...o,headers:pe([{"OpenAI-Beta":"assistants=v2"},o?.headers])})}async createAndPoll(e,n,o){const r=await this.create(e,n,o);return await this.poll(e,r.id,o)}async poll(e,n,o){const r=pe([o?.headers,{"X-Stainless-Poll-Helper":"true","X-Stainless-Custom-Poll-Interval":o?.pollIntervalMs?.toString()??void 0}]);for(;;){const a=await this.retrieve(n,{vector_store_id:e},{...o,headers:r}).withResponse(),u=a.data;switch(u.status){case"in_progress":let c=5e3;if(o?.pollIntervalMs)c=o.pollIntervalMs;else{const h=a.response.headers.get("openai-poll-after-ms");if(h){const d=parseInt(h);isNaN(d)||(c=d)}}await Ou(c);break;case"failed":case"completed":return u}}}async upload(e,n,o){const r=await this._client.files.create({file:n,purpose:"assistants"},o);return this.create(e,{file_id:r.id},o)}async uploadAndPoll(e,n,o){const r=await this.upload(e,n,o);return await this.poll(e,r.id,o)}content(e,n,o){const{vector_store_id:r}=n;return this._client.getAPIList(ie`/vector_stores/${r}/files/${e}/content`,ph,{...o,headers:pe([{"OpenAI-Beta":"assistants=v2"},o?.headers])})}}class Sh extends ye{constructor(){super(...arguments),this.files=new SI(this._client),this.fileBatches=new _I(this._client)}create(e,n){return this._client.post("/vector_stores",{body:e,...n,headers:pe([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}retrieve(e,n){return this._client.get(ie`/vector_stores/${e}`,{...n,headers:pe([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}update(e,n,o){return this._client.post(ie`/vector_stores/${e}`,{body:n,...o,headers:pe([{"OpenAI-Beta":"assistants=v2"},o?.headers])})}list(e={},n){return this._client.getAPIList("/vector_stores",mt,{query:e,...n,headers:pe([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}delete(e,n){return this._client.delete(ie`/vector_stores/${e}`,{...n,headers:pe([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}search(e,n,o){return this._client.getAPIList(ie`/vector_stores/${e}/search`,ph,{body:n,method:"post",...o,headers:pe([{"OpenAI-Beta":"assistants=v2"},o?.headers])})}}Sh.Files=SI;Sh.FileBatches=_I;class EI extends ye{create(e,n){return this._client.post("/videos",xC({body:e,...n},this._client))}retrieve(e,n){return this._client.get(ie`/videos/${e}`,n)}list(e={},n){return this._client.getAPIList("/videos",Ad,{query:e,...n})}delete(e,n){return this._client.delete(ie`/videos/${e}`,n)}downloadContent(e,n={},o){return this._client.get(ie`/videos/${e}/content`,{query:n,...o,headers:pe([{Accept:"application/binary"},o?.headers]),__binaryResponse:!0})}remix(e,n,o){return this._client.post(ie`/videos/${e}/remix`,xC({body:n,...o},this._client))}}var ea,bI,td;class wI extends ye{constructor(){super(...arguments),ea.add(this)}async unwrap(e,n,o=this._client.webhookSecret,r=300){return await this.verifySignature(e,n,o,r),JSON.parse(e)}async verifySignature(e,n,o=this._client.webhookSecret,r=300){if(typeof crypto>"u"||typeof crypto.subtle.importKey!="function"||typeof crypto.subtle.verify!="function")throw new Error("Webhook signature verification is only supported when the `crypto` global is defined");V(this,ea,"m",bI).call(this,o);const a=pe([n]).values,u=V(this,ea,"m",td).call(this,a,"webhook-signature"),c=V(this,ea,"m",td).call(this,a,"webhook-timestamp"),h=V(this,ea,"m",td).call(this,a,"webhook-id"),d=parseInt(c,10);if(isNaN(d))throw new Ll("Invalid webhook timestamp format");const m=Math.floor(Date.now()/1e3);if(m-d>r)throw new Ll("Webhook timestamp is too old");if(d>m+r)throw new Ll("Webhook timestamp is too new");const y=u.split(" ").map(A=>A.startsWith("v1,")?A.substring(3):A),S=o.startsWith("whsec_")?Buffer.from(o.replace("whsec_",""),"base64"):Buffer.from(o,"utf-8"),E=h?`${h}.${c}.${e}`:`${c}.${e}`,C=await crypto.subtle.importKey("raw",S,{name:"HMAC",hash:"SHA-256"},!1,["verify"]);for(const A of y)try{const x=Buffer.from(A,"base64");if(await crypto.subtle.verify("HMAC",C,x,new TextEncoder().encode(E)))return}catch{continue}throw new Ll("The given webhook signature does not match the expected signature")}}ea=new WeakSet,bI=function(e){if(typeof e!="string"||e.length===0)throw new Error("The webhook secret must either be set using the env var, OPENAI_WEBHOOK_SECRET, on the client class, OpenAI({ webhookSecret: '123' }), or passed to this function")},td=function(e,n){if(!e)throw new Error("Headers are required");const o=e.get(n);if(o==null)throw new Error(`Missing required header: ${n}`);return o};var Uv,i_,nd,TI;class Ne{constructor({baseURL:e=qs("OPENAI_BASE_URL"),apiKey:n=qs("OPENAI_API_KEY"),organization:o=qs("OPENAI_ORG_ID")??null,project:r=qs("OPENAI_PROJECT_ID")??null,webhookSecret:a=qs("OPENAI_WEBHOOK_SECRET")??null,...u}={}){if(Uv.add(this),nd.set(this,void 0),this.completions=new ZN(this),this.chat=new qy(this),this.embeddings=new nI(this),this.files=new iI(this),this.images=new cI(this),this.audio=new ku(this),this.moderations=new dI(this),this.models=new fI(this),this.fineTuning=new Ra(this),this.graders=new t_(this),this.vectorStores=new Sh(this),this.webhooks=new wI(this),this.beta=new xa(this),this.batches=new qN(this),this.uploads=new o_(this),this.responses=new _h(this),this.realtime=new yh(this),this.conversations=new Xy(this),this.evals=new Wy(this),this.containers=new Yy(this),this.videos=new EI(this),n===void 0)throw new Se("Missing credentials. Please pass an `apiKey`, or set the `OPENAI_API_KEY` environment variable.");const c={apiKey:n,organization:o,project:r,webhookSecret:a,...u,baseURL:e||"https://api.openai.com/v1"};if(!c.dangerouslyAllowBrowser&&U3())throw new Se(`It looks like you're running in a browser-like environment.

This is disabled by default, as it risks exposing your secret API credentials to attackers.
If you understand the risks and have appropriate mitigations in place,
you can set the \`dangerouslyAllowBrowser\` option to \`true\`, e.g.,

new OpenAI({ apiKey, dangerouslyAllowBrowser: true });

https://help.openai.com/en/articles/5112595-best-practices-for-api-key-safety
`);this.baseURL=c.baseURL,this.timeout=c.timeout??i_.DEFAULT_TIMEOUT,this.logger=c.logger??console;const h="warn";this.logLevel=h,this.logLevel=CC(c.logLevel,"ClientOptions.logLevel",this)??CC(qs("OPENAI_LOG"),"process.env['OPENAI_LOG']",this)??h,this.fetchOptions=c.fetchOptions,this.maxRetries=c.maxRetries??2,this.fetch=c.fetch??G3(),Te(this,nd,z3),this._options=c,this.apiKey=typeof n=="string"?n:"Missing Key",this.organization=o,this.project=r,this.webhookSecret=a}withOptions(e){return new this.constructor({...this._options,baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,organization:this.organization,project:this.project,webhookSecret:this.webhookSecret,...e})}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:e,nulls:n}){}async authHeaders(e){return pe([{Authorization:`Bearer ${this.apiKey}`}])}stringifyQuery(e){return j3(e,{arrayFormat:"brackets"})}getUserAgent(){return`${this.constructor.name}/JS ${Qs}`}defaultIdempotencyKey(){return`stainless-node-retry-${KM()}`}makeStatusError(e,n,o,r){return Ot.generate(e,n,o,r)}async _callApiKey(){const e=this._options.apiKey;if(typeof e!="function")return!1;let n;try{n=await e()}catch(o){throw o instanceof Se?o:new Se(`Failed to get token from 'apiKey' function: ${o.message}`,{cause:o})}if(typeof n!="string"||!n)throw new Se(`Expected 'apiKey' function argument to return a string but it returned ${n}`);return this.apiKey=n,!0}buildURL(e,n,o){const r=!V(this,Uv,"m",TI).call(this)&&o||this.baseURL,a=D3(e)?new URL(e):new URL(r+(r.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),u=this.defaultQuery();return O3(u)||(n={...u,...n}),typeof n=="object"&&n&&!Array.isArray(n)&&(a.search=this.stringifyQuery(n)),a.toString()}async prepareOptions(e){await this._callApiKey()}async prepareRequest(e,{url:n,options:o}){}get(e,n){return this.methodRequest("get",e,n)}post(e,n){return this.methodRequest("post",e,n)}patch(e,n){return this.methodRequest("patch",e,n)}put(e,n){return this.methodRequest("put",e,n)}delete(e,n){return this.methodRequest("delete",e,n)}methodRequest(e,n,o){return this.request(Promise.resolve(o).then(r=>({method:e,path:n,...r})))}request(e,n=null){return new hh(this,this.makeRequest(e,n,void 0))}async makeRequest(e,n,o){const r=await e,a=r.maxRetries??this.maxRetries;n==null&&(n=a),await this.prepareOptions(r);const{req:u,url:c,timeout:h}=await this.buildRequest(r,{retryCount:a-n});await this.prepareRequest(u,{url:c,options:r});const d="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),m=o===void 0?"":`, retryOf: ${o}`,y=Date.now();if(It(this).debug(`[${d}] sending request`,Ir({retryOfRequestLogID:o,method:r.method,url:c,options:r,headers:u.headers})),r.signal?.aborted)throw new Bn;const S=new AbortController,E=await this.fetchWithTimeout(c,u,h,S).catch(Cv),C=Date.now();if(E instanceof globalThis.Error){const M=`retrying, ${n} attempts remaining`;if(r.signal?.aborted)throw new Bn;const I=Tv(E)||/timed? ?out/i.test(String(E)+("cause"in E?String(E.cause):""));if(n)return It(this).info(`[${d}] connection ${I?"timed out":"failed"} - ${M}`),It(this).debug(`[${d}] connection ${I?"timed out":"failed"} (${M})`,Ir({retryOfRequestLogID:o,url:c,durationMs:C-y,message:E.message})),this.retryRequest(r,n,o??d);throw It(this).info(`[${d}] connection ${I?"timed out":"failed"} - error; no more retries left`),It(this).debug(`[${d}] connection ${I?"timed out":"failed"} (error; no more retries left)`,Ir({retryOfRequestLogID:o,url:c,durationMs:C-y,message:E.message})),I?new Ly:new fh({cause:E})}const A=[...E.headers.entries()].filter(([M])=>M==="x-request-id").map(([M,I])=>", "+M+": "+JSON.stringify(I)).join(""),x=`[${d}${m}${A}] ${u.method} ${c} ${E.ok?"succeeded":"failed"} with status ${E.status} in ${C-y}ms`;if(!E.ok){const M=await this.shouldRetry(E);if(n&&M){const O=`retrying, ${n} attempts remaining`;return await V3(E.body),It(this).info(`${x} - ${O}`),It(this).debug(`[${d}] response error (${O})`,Ir({retryOfRequestLogID:o,url:E.url,status:E.status,headers:E.headers,durationMs:C-y})),this.retryRequest(r,n,o??d,E.headers)}const I=M?"error; no more retries left":"error; not retryable";It(this).info(`${x} - ${I}`);const N=await E.text().catch(O=>Cv(O).message),D=L3(N),L=D?void 0:N;throw It(this).debug(`[${d}] response error (${I})`,Ir({retryOfRequestLogID:o,url:E.url,status:E.status,headers:E.headers,message:L,durationMs:Date.now()-y})),this.makeStatusError(E.status,D,L,E.headers)}return It(this).info(x),It(this).debug(`[${d}] response start`,Ir({retryOfRequestLogID:o,url:E.url,status:E.status,headers:E.headers,durationMs:C-y})),{response:E,options:r,controller:S,requestLogID:d,retryOfRequestLogID:o,startTime:y}}getAPIList(e,n,o){return this.requestAPIList(n,{method:"get",path:e,...o})}requestAPIList(e,n){const o=this.makeRequest(n,null,void 0);return new r4(this,o,e)}async fetchWithTimeout(e,n,o,r){const{signal:a,method:u,...c}=n||{};a&&a.addEventListener("abort",()=>r.abort());const h=setTimeout(()=>r.abort(),o),d=globalThis.ReadableStream&&c.body instanceof globalThis.ReadableStream||typeof c.body=="object"&&c.body!==null&&Symbol.asyncIterator in c.body,m={signal:r.signal,...d?{duplex:"half"}:{},method:"GET",...c};u&&(m.method=u.toUpperCase());try{return await this.fetch.call(void 0,e,m)}finally{clearTimeout(h)}}async shouldRetry(e){const n=e.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,n,o,r){let a;const u=r?.get("retry-after-ms");if(u){const h=parseFloat(u);Number.isNaN(h)||(a=h)}const c=r?.get("retry-after");if(c&&!a){const h=parseFloat(c);Number.isNaN(h)?a=Date.parse(c)-Date.now():a=h*1e3}if(!(a&&0<=a&&a<60*1e3)){const h=e.maxRetries??this.maxRetries;a=this.calculateDefaultRetryTimeoutMillis(n,h)}return await Ou(a),this.makeRequest(e,n-1,o)}calculateDefaultRetryTimeoutMillis(e,n){const a=n-e,u=Math.min(.5*Math.pow(2,a),8),c=1-Math.random()*.25;return u*c*1e3}async buildRequest(e,{retryCount:n=0}={}){const o={...e},{method:r,path:a,query:u,defaultBaseURL:c}=o,h=this.buildURL(a,u,c);"timeout"in o&&k3("timeout",o.timeout),o.timeout=o.timeout??this.timeout;const{bodyHeaders:d,body:m}=this.buildBody({options:o}),y=await this.buildHeaders({options:e,method:r,bodyHeaders:d,retryCount:n});return{req:{method:r,headers:y,...o.signal&&{signal:o.signal},...globalThis.ReadableStream&&m instanceof globalThis.ReadableStream&&{duplex:"half"},...m&&{body:m},...this.fetchOptions??{},...o.fetchOptions??{}},url:h,timeout:o.timeout}}async buildHeaders({options:e,method:n,bodyHeaders:o,retryCount:r}){let a={};this.idempotencyHeader&&n!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),a[this.idempotencyHeader]=e.idempotencyKey);const u=pe([a,{Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(r),...e.timeout?{"X-Stainless-Timeout":String(Math.trunc(e.timeout/1e3))}:{},...$3(),"OpenAI-Organization":this.organization,"OpenAI-Project":this.project},await this.authHeaders(e),this._options.defaultHeaders,o,e.headers]);return this.validateHeaders(u),u.values}buildBody({options:{body:e,headers:n}}){if(!e)return{bodyHeaders:void 0,body:void 0};const o=pe([n]);return ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof DataView||typeof e=="string"&&o.values.has("content-type")||globalThis.Blob&&e instanceof globalThis.Blob||e instanceof FormData||e instanceof URLSearchParams||globalThis.ReadableStream&&e instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:e}:typeof e=="object"&&(Symbol.asyncIterator in e||Symbol.iterator in e&&"next"in e&&typeof e.next=="function")?{bodyHeaders:void 0,body:sN(e)}:V(this,nd,"f").call(this,{body:e,headers:o})}}i_=Ne,nd=new WeakMap,Uv=new WeakSet,TI=function(){return this.baseURL!=="https://api.openai.com/v1"};Ne.OpenAI=i_;Ne.DEFAULT_TIMEOUT=6e5;Ne.OpenAIError=Se;Ne.APIError=Ot;Ne.APIConnectionError=fh;Ne.APIConnectionTimeoutError=Ly;Ne.APIUserAbortError=Bn;Ne.NotFoundError=WM;Ne.ConflictError=QM;Ne.RateLimitError=eN;Ne.BadRequestError=YM;Ne.AuthenticationError=XM;Ne.InternalServerError=tN;Ne.PermissionDeniedError=jM;Ne.UnprocessableEntityError=ZM;Ne.InvalidWebhookSignatureError=Ll;Ne.toFile=c4;Ne.Completions=ZN;Ne.Chat=qy;Ne.Embeddings=nI;Ne.Files=iI;Ne.Images=cI;Ne.Audio=ku;Ne.Moderations=dI;Ne.Models=fI;Ne.FineTuning=Ra;Ne.Graders=t_;Ne.VectorStores=Sh;Ne.Webhooks=wI;Ne.Beta=xa;Ne.Batches=qN;Ne.Uploads=o_;Ne.Responses=_h;Ne.Realtime=yh;Ne.Conversations=Xy;Ne.Evals=Wy;Ne.Containers=Yy;Ne.Videos=EI;class VC extends Error{}const CI=["gpt-4o-mini","gpt-5.1","gpt-5-mini","gpt-5-nano","gpt-5"];class Pd{static getApiKey=null;static setApiKey=null;static getClient(){const e=this.getApiKey?.()||"";if(!e)throw new VC("No OpenAI API key set");return new Ne({apiKey:e,dangerouslyAllowBrowser:!0})}static async txt2txt(e,n,o="gpt-4o-mini",r){try{const a=this.getClient(),u=[];n&&u.push({role:"system",content:n}),e&&u.push({role:"user",content:[{type:"input_text",text:e}]}),r&&console.log(r);const c={model:o,input:u};console.log("GPT Payload:",c);const d=(await a.responses.create(c)).output_text;return console.log("GPT Response TEXT:",{text:d}),d}catch(a){if(console.error("ChatGPT Error:",a),(a?.message||"").includes("Incorrect API key provided")||a instanceof VC){const c=window.prompt("Your OpenAI API key is missing or invalid. Please enter a valid key:");return c?this.setApiKey?.(c):console.warn("User did not provide a valid API key."),null}throw a}}}class U4{rootHandle=null;project=null;data={};constructor(e=null,n=null){this.rootHandle=e,this.project=n,pi(this)}async load(){if(this.rootHandle)try{const e={};for await(const n of this.rootHandle.values()){if(n.kind!=="directory")continue;const o=n.name,r=n,a={};for await(const u of r.values()){if(u.kind!=="directory")continue;const c=u.name,h=u,d=[];for await(const m of h.values()){if(m.kind!=="file"||!m.name.match(/\.(png|jpg|jpeg|webp|gif)$/i))continue;const y=m,S=`${o}/${c}/${y.name}`;d.push(new B4(y,h,S,this))}a[c]=d}e[o]=a}Ie(()=>{this.data=e})}catch(e){console.error("Error loading artbook:",e),Ie(()=>{this.data={}})}}getTag(e){if(!e)return null;const n=e.split("/");if(n.length<3)return null;const[o,r,a]=n,u=this.data[o];if(!u)return null;const c=u[r];return c&&c.find(d=>d.handle.name===a)||null}log(){console.log(Vr(this))}getJson(){const e={};for(const[n,o]of Object.entries(this.data)){e[n]={};for(const[r,a]of Object.entries(o))e[n][r]=a.map(u=>u.handle.name)}return e}}class B4{handle;folder;image;artInfo=null;path;artbook;constructor(e,n,o,r=null){this.handle=e,this.folder=n,this.image=new Kr(e,this.folder),this.path=o,this.artbook=r,pi(this)}async getArtInfo(){if(this.artInfo)return this.artInfo;try{const e=await Jr.create(this.folder,this.handle.name+".json");Ie(()=>{this.artInfo=e})}catch(e){console.warn("Unable to load art info for:",this.handle.name,e)}return this.artInfo}}const H4={tags:[],shotsjson:"",script:"",split_shots_prompt:{preset:"split_shots"}};class zC{folder;sceneJson=null;shots=[];project;is_generating_shotsjson=!1;is_generating_tags=!1;is_generating_all_shot_images=!1;split_shots_prompt=null;constructor(e,n){this.folder=e,this.project=n,pi(this)}async load(){try{this.sceneJson=await Jr.create(this.folder,"sceneinfo.json",H4),this.shots=[];for await(const e of this.folder.values())if(e.kind==="directory"){const n=new pC(e,this);await n.load(),this.shots.push(n)}}catch(e){console.error("Error loading scene:",e),this.sceneJson=null,this.shots=[]}}removeTag(e){this.sceneJson?.data?.tags&&(this.sceneJson.data.tags=this.sceneJson.data.tags.filter(n=>n!==e),this.sceneJson.save())}async delete(){if(!this.project?.rootDirHandle){console.error("Cannot delete scene: project root not set");return}try{await(await this.project.rootDirHandle.getDirectoryHandle("SCENES")).removeEntry(this.folder.name,{recursive:!0}),Ie(()=>{this.project&&(this.project.scenes=this.project.scenes.filter(n=>n!==this))})}catch(e){console.error("Failed to delete scene:",e)}}async createShot(e){if(!this.folder)return console.error("No scene folder available"),null;const n=this.shots.find(o=>o.folder.name===e);if(n)return n;try{const o=await this.folder.getDirectoryHandle(e,{create:!0}),r=new pC(o,this);return await r.load(),Ie(()=>{const a=this.shots.findIndex(u=>u.folder.name.localeCompare(e)>0);a===-1?this.shots.push(r):this.shots.splice(a,0,r)}),r}catch(o){return console.error("Failed to create shot:",o),null}}get finishedShotsNum(){return this.shots.filter(e=>e.shotJson?.data?.finished).length}async generateShotsJson(){if(!this.sceneJson?.data?.script)return null;Ie(()=>{this.is_generating_shotsjson=!0});const e=this.sceneJson.data.script,n=`
${this.project.workflows.split_scene_into_shots.prompt}

${this.sceneJson.data.split_prompt}

SCRIPT:
${e}
`,o=this.project.projinfo?.getField("workflows/split_scene_into_shots/system_message");try{return await Pd.txt2txt(n,o,this.project?.projinfo?.getField("workflows/split_scene_into_shots/model"))}catch(r){return console.error("Error generating shots JSON:",r),null}finally{Ie(()=>{this.is_generating_shotsjson=!1})}}async createShotsFromShotsJson(){if(!this.sceneJson?.data?.shotsjson){console.warn("No shots JSON found in scene.");return}let e;try{e=JSON.parse(this.sceneJson.data.shotsjson)}catch(n){console.error("Invalid shots JSON:",n),alert("Error: The shots JSON is invalid. Please check the format.");return}for(const n of Object.keys(e)){const o=e[n];if(!o||typeof o!="object"){console.warn(`Skipping invalid shot data for key: ${n}`);continue}try{const r=await this.createShot(n);if(!r){console.error(`Failed to create shot ${n}`);continue}r.shotJson&&(Object.assign(r.shotJson.data,o),await r.shotJson.save())}catch(r){console.error(`Error creating shot ${n}:`,r)}}}log(){console.log(Vr(this))}getTags(){if(!this.sceneJson?.data?.tags||!this.project?.artbook)return[];const e=[];for(const n of this.sceneJson.data.tags){const o=this.project.artbook.getTag(n);o&&e.push(o)}return e}get tags(){return this.getTags()}async generateTags(){Ie(()=>{this.is_generating_tags=!0});const e=`
${this.project?.projinfo?.data?.generate_tags_prompt}

SCRIPT:
${this.sceneJson?.data.script}

SHOTS JSON:
${this.sceneJson?.data.shotsjson}

REFS DICTIONARY:
${JSON.stringify(this.project?.artbook?.getJson(),null,2)}

`,n="You are a helpful assistant. Do not write explanations. ";try{const o=await Pd.txt2txt(e,n,this.project?.projinfo?.data.gpt_model);for(const r of o?.split(`
`)||[]){const a=r.trim();a&&(console.log("Adding Tag: ",a),this.addTag(a))}return o}catch(o){return console.error("Error generating tags:",o),null}finally{Ie(()=>{this.is_generating_tags=!1})}}addTag(e){Ie(()=>{this.sceneJson?.data.tags.includes(e)||(this.project?.artbook?.getTag(e)?(this.sceneJson?.data.tags.push(e),this.sceneJson?.save()):console.log("Tag not found: ",e))})}async generateAllShotImages(){Ie(()=>{this.is_generating_all_shot_images=!0});const e=this.shots.filter(n=>!n.srcImage).map(n=>n.GenerateImage());await Promise.all(e),Ie(()=>{this.is_generating_all_shot_images=!1})}}const Bv=(t,e)=>e.some(n=>t instanceof n);let qC,JC;function F4(){return qC||(qC=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function $4(){return JC||(JC=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Hv=new WeakMap,Mg=new WeakMap,Eh=new WeakMap;function G4(t){const e=new Promise((n,o)=>{const r=()=>{t.removeEventListener("success",a),t.removeEventListener("error",u)},a=()=>{n(Ur(t.result)),r()},u=()=>{o(t.error),r()};t.addEventListener("success",a),t.addEventListener("error",u)});return Eh.set(e,t),e}function V4(t){if(Hv.has(t))return;const e=new Promise((n,o)=>{const r=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",u),t.removeEventListener("abort",u)},a=()=>{n(),r()},u=()=>{o(t.error||new DOMException("AbortError","AbortError")),r()};t.addEventListener("complete",a),t.addEventListener("error",u),t.addEventListener("abort",u)});Hv.set(t,e)}let Fv={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Hv.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ur(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function AI(t){Fv=t(Fv)}function z4(t){return $4().includes(t)?function(...e){return t.apply($v(this),e),Ur(this.request)}:function(...e){return Ur(t.apply($v(this),e))}}function q4(t){return typeof t=="function"?z4(t):(t instanceof IDBTransaction&&V4(t),Bv(t,F4())?new Proxy(t,Fv):t)}function Ur(t){if(t instanceof IDBRequest)return G4(t);if(Mg.has(t))return Mg.get(t);const e=q4(t);return e!==t&&(Mg.set(t,e),Eh.set(e,t)),e}const $v=t=>Eh.get(t);function J4(t,e,{blocked:n,upgrade:o,blocking:r,terminated:a}={}){const u=indexedDB.open(t,e),c=Ur(u);return o&&u.addEventListener("upgradeneeded",h=>{o(Ur(u.result),h.oldVersion,h.newVersion,Ur(u.transaction),h)}),n&&u.addEventListener("blocked",h=>n(h.oldVersion,h.newVersion,h)),c.then(h=>{a&&h.addEventListener("close",()=>a()),r&&h.addEventListener("versionchange",d=>r(d.oldVersion,d.newVersion,d))}).catch(()=>{}),c}const K4=["get","getKey","getAll","getAllKeys","count"],Y4=["put","add","delete","clear"],Ng=new Map;function KC(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Ng.get(e))return Ng.get(e);const n=e.replace(/FromIndex$/,""),o=e!==n,r=Y4.includes(n);if(!(n in(o?IDBIndex:IDBObjectStore).prototype)||!(r||K4.includes(n)))return;const a=async function(u,...c){const h=this.transaction(u,r?"readwrite":"readonly");let d=h.store;return o&&(d=d.index(c.shift())),(await Promise.all([d[n](...c),r&&h.done]))[0]};return Ng.set(e,a),a}AI(t=>({...t,get:(e,n,o)=>KC(e,n)||t.get(e,n,o),has:(e,n)=>!!KC(e,n)||t.has(e,n)}));const X4=["continue","continuePrimaryKey","advance"],YC={},Gv=new WeakMap,xI=new WeakMap,j4={get(t,e){if(!X4.includes(e))return t[e];let n=YC[e];return n||(n=YC[e]=function(...o){Gv.set(this,xI.get(this)[e](...o))}),n}};async function*W4(...t){let e=this;if(e instanceof IDBCursor||(e=await e.openCursor(...t)),!e)return;e=e;const n=new Proxy(e,j4);for(xI.set(n,e),Eh.set(n,$v(e));e;)yield n,e=await(Gv.get(n)||e.continue()),Gv.delete(n)}function XC(t,e){return e===Symbol.asyncIterator&&Bv(t,[IDBIndex,IDBObjectStore,IDBCursor])||e==="iterate"&&Bv(t,[IDBIndex,IDBObjectStore])}AI(t=>({...t,get(e,n,o){return XC(e,n)?W4:t.get(e,n,o)},has(e,n){return XC(e,n)||t.has(e,n)}}));const Q4="ShotMasterRE",Df="settings";class Z4{db=null;data={id:"settings",lastOpenedFolder:null,recentFolders:[],api_keys:{}};constructor(){pi(this.data)}async getDB(){return this.db?this.db:(this.db=await J4(Q4,1,{upgrade(e){e.objectStoreNames.contains(Df)||e.createObjectStore(Df,{keyPath:"id"})}}),this.db)}async load(){const n=await(await this.getDB()).get(Df,"settings");return n&&Ie(()=>{Object.assign(this.data,n)}),this.data}async save(){const e=await this.getDB(),n=Vr(this.data);await e.put(Df,n)}async update(e){Ie(()=>e(this.data)),await this.save()}}class e6{fileHandle;text="";scenes=new Map;project=null;constructor(e,n=null){this.fileHandle=e,this.project=n,pi(this,{},{autoBind:!0})}async load(){const e=await this.fileHandle.getFile();this.text=(await e.text()).replace(/\r\n/g,`
`),this.splitIntoScenes()}async save(){const e=await this.fileHandle.createWritable();await e.write(this.text),await e.close()}setText(e){this.text=e,this.splitIntoScenes()}splitIntoScenes(){this.scenes.clear();const e=/^SC_[^\n]{1,32}$/gm,n=[...this.text.matchAll(e)];if(n.length===0){this.scenes.set("",this.text);return}for(let o=0;o<n.length;o++){const r=n[o][0],a=n[o].index;if(o===0&&a>0){const h=this.text.slice(0,a);this.scenes.set("",h)}const u=o+1<n.length?n[o+1].index:this.text.length,c=this.text.slice(a,u);this.scenes.set(r,c)}}get sortedSceneKeys(){return Array.from(this.scenes.keys()).sort((e,n)=>e.localeCompare(n))}joinScenes(){let e="";for(const n of this.sortedSceneKeys)e+=this.scenes.get(n);return e}setSceneText(e,n){this.scenes.set(e,n),this.text=this.joinScenes(),this.splitIntoScenes()}async createScenes(){if(!this.project){console.error("Script has no project reference");return}for(const e of this.sortedSceneKeys){if(e==="")continue;const n=this.scenes.get(e)??"";try{const o=await this.project.createScene(e);if(!o){console.error(`Failed to create scene ${e}`);continue}o.sceneJson&&(o.sceneJson.data.script=n,await o.sceneJson.save())}catch(o){console.error(`Error creating scene ${e}:`,o)}}}}const t6={gpt_model:"gpt-4o-mini",describe_prompt:"        . ",generate_tags_prompt:`
     (SCRIPT)     (SHOTS JSON)        REFS DICTIONARY     .

     ,        ,      :
  ENV/ROOM1/Night.png
  CHAR/VICTOR/Portrait.png


  `,split_shot_prompt:`
       ,            json,     json   :
{
  "SHOT_010" : 
    {
    "prompt" : "     ", 
    "camera" : "focal length, shot type", 
    "action_description" : "     ", 
    },

}`,prompt_presets:{split_shots:{model:"gpt-4o",prompt:`
       ,            json,     json   :
{
  "SHOT_010" : 
    {
    "prompt" : "     ", 
    "camera" : "focal length, shot type", 
    "action_description" : "     ", 
    },

}`,system_message:"You are a helpful assistant. Always respond using ONLY valid JSON. Do not write explanations. Do not wrap the JSON in backticks. The entire response must be a valid JSON object."},generate_tags:{model:"gpt-4o",prompt:"Generate Tags ",system_message:"You are a tagger "}},workflows:{generate_shot_image:{model:"gemini-2.5-flash-image"},split_scene_into_shots:{model:"gpt-4o-mini",prompt:`
       ,            json,     json   :
{
  "SHOT_010" : 
    {
    "prompt" : "     ", 
    "camera" : "focal length, shot type", 
    "action_description" : "     ", 
    },

}`,system_message:"You are a helpful assistant. Always respond using ONLY valid JSON. Do not write explanations. Do not wrap the JSON in backticks. The entire response must be a valid JSON object."},generate_video_kling:{model:"kling-v1-6"}}};class n6{rootDirHandle=null;scenes=[];artbook=null;script=null;userSettingsDB=new Z4;projinfo=null;currentView={type:"none"};selectedScene=null;constructor(e=null){this.rootDirHandle=e,pi(this)}async loadFromFolder(e){e&&(this.rootDirHandle=e,Ie(async()=>{this.userSettingsDB.data.lastOpenedFolder=e,(await Promise.all(this.userSettingsDB.data.recentFolders.map(async o=>{try{return await o.isSameEntry(e)}catch{return!1}}))).includes(!0)||(this.userSettingsDB.data.recentFolders.push(e),this.userSettingsDB.data.recentFolders=this.userSettingsDB.data.recentFolders.slice(-5)),await this.userSettingsDB.save(),this.projinfo=await Jr.create(this.rootDirHandle,"projinfo.json",t6)}),await Promise.all([this.loadScenes(),this.loadArtbook(),this.loadScript()]))}async loadScenes(){if(this.rootDirHandle)try{const e=await this.rootDirHandle.getDirectoryHandle("SCENES",{create:!0}),n=[];for await(const o of e.values())if(o.kind==="directory"){const r=new zC(o,this);await r.load(),n.push(r)}Ie(()=>{this.scenes=n})}catch(e){console.error("Error loading scenes:",e),Ie(()=>{this.scenes=[]})}}async loadArtbook(){if(this.rootDirHandle)try{const e=await this.rootDirHandle.getDirectoryHandle("REFS",{create:!0}),n=new U4(e,this);await n.load(),Ie(()=>{this.artbook=n})}catch(e){console.error("Error loading artbook:",e),Ie(()=>{this.artbook=null})}}async loadScript(){if(this.rootDirHandle)try{const e=await this.rootDirHandle.getFileHandle("script.txt",{create:!0}),n=new e6(e,this);await n.load(),Ie(()=>{this.script=n})}catch(e){console.error("Error loading script:",e),Ie(()=>{this.script=null})}}async loadDB(){await this.userSettingsDB.load(),ua.getApiKey=()=>this.userSettingsDB.data.api_keys.Google_API_KEY||null,ua.setApiKey=async e=>{await this.userSettingsDB.update(n=>{n.api_keys.Google_API_KEY=e})},Pd.getApiKey=()=>this.userSettingsDB.data.api_keys.GPT_API_KEY||null,Pd.setApiKey=async e=>{await this.userSettingsDB.update(n=>{n.api_keys.GPT_API_KEY=e})},su.getKeysDict=()=>({accessKey:this.userSettingsDB.data.api_keys.Kling_Acess_Key,secretKey:this.userSettingsDB.data.api_keys.Kling_Secret_Key})}async createScene(e){if(!this.rootDirHandle)return console.error("No project folder open"),null;const n=this.scenes.find(o=>o.folder.name===e);if(n)return n;try{const r=await(await this.rootDirHandle.getDirectoryHandle("SCENES",{create:!0})).getDirectoryHandle(e,{create:!0}),a=new zC(r,this);return await a.load(),Ie(()=>{const u=this.scenes.findIndex(c=>c.folder.name.localeCompare(a.folder.name)>0);u===-1?this.scenes.push(a):this.scenes.splice(u,0,a)}),a}catch(o){return console.error("Failed to create scene:",o),null}}log(){console.log(Vr(this))}setView(e,n=null){this.currentView=e,this.selectedScene=n}get promptPresets(){return this.projinfo?this.projinfo.data.prompt_presets:{}}savePromptPreset(e){Ie(()=>{this.projinfo&&(this.projinfo.data.prompt_presets[e.preset]=e,this.projinfo?.save())})}get workflows(){return this.projinfo?.data.workflows}updateWorkflow(e,n,o){Ie(()=>{this.workflows[e][n]=o,this.projinfo?.save()})}download_asset(e,n){const o=document.createElement("a");o.href=e,o.download=n,document.body.appendChild(o),o.click(),document.body.removeChild(o)}}const o6=({onOpenFolder:t,recentFolders:e,onOpenRecent:n,project:o})=>{const r=[{name:"Open",onClick:t},{name:"Recent",subItems:e.length?e.map(c=>({name:c.name,onClick:()=>n(c)})):[{name:"No Recent"}]}],a=[{name:"Undo"},{name:"Redo"}],u=[{name:"About"}];return T.jsx(Ow,{expand:!0,children:T.jsxs(Yx,{fluid:!0,children:[T.jsx(Ow.Brand,{children:"ShotMasterRT"}),T.jsxs(aH,{className:"me-auto",style:{userSelect:"none"},children:[T.jsx(Vs,{title:"File",items:r}),T.jsx(Vs,{title:"Edit",items:a}),T.jsx(Vs,{title:"Help",items:u}),T.jsx(Vs,{title:"Settings",onClick:()=>o.setView({type:"settings"})}),T.jsx(Vs,{title:"Script",onClick:()=>o.setView({type:"script"})}),T.jsx(Vs,{title:"Artbook",onClick:()=>o.setView({type:"artbook"})})]})]})})},i6=wt(({scene:t})=>{const e=()=>{!t||!t.sceneJson||t.project?.setView({type:"scene"},t)};return T.jsxs("li",{className:"d-flex justify-content-between align-items-center py-1 px-2",style:{cursor:"pointer"},onClick:e,children:[T.jsx("span",{children:t.folder.name}),T.jsxs("span",{className:"text-muted",children:[t.finishedShotsNum," / ",t.shots.length]})]})}),ct=({onClick:t,label:e="Click",className:n=""})=>T.jsx("button",{className:`btn btn-sm btn-outline-secondary ${n}`,onClick:t,children:e}),r6=wt(({project:t})=>{if(!t)return T.jsx("div",{children:"No Project Opened"});const e=async()=>{const o=prompt("Enter new scene name");o&&await t.createScene(o)},n=t.rootDirHandle?.name||"No Project Opened";return T.jsxs("div",{style:{width:"200px",minWidth:"200px",borderRight:"1px solid #ced4da",padding:"10px",display:"flex",flexDirection:"column"},children:[T.jsx("h5",{style:{flexShrink:0,marginBottom:8},children:n}),T.jsx(ct,{label:"+ Add Scene",onClick:e,className:"mb-2"}),T.jsx("ul",{className:"list-unstyled",style:{margin:0,padding:0,overflowY:"auto",maxHeight:"calc(100vh - 100px)"},children:t.scenes.map((o,r)=>T.jsx(i6,{scene:o},r))})]})});class Of extends w.Component{constructor(e){super(e),this.state={value:e.value}}handleChange=e=>{const n=e.target.value;this.setState({value:n}),this.props.onChange(n)};render(){const{label:e}=this.props,{value:n}=this.state;return T.jsxs("div",{style:{display:"flex",alignItems:"center",marginBottom:12},children:[T.jsx("label",{style:{marginRight:8,minWidth:120},children:e}),T.jsx("input",{type:"text",value:n,onChange:this.handleChange,style:{flexGrow:1,padding:6}})]})}}const Lu=({label:t="Section",children:e,defaultCollapsed:n=!1,className:o="",headerExtra:r})=>{const[a,u]=w.useState(n);return T.jsxs("div",{className:`border rounded p-2 mb-2 ${o}`,children:[T.jsxs("div",{className:"d-flex align-items-center justify-content-between mb-0",children:[T.jsxs("div",{className:"d-flex align-items-center",children:[T.jsx("button",{className:"btn btn-sm ",onClick:()=>u(!a),children:a?"":""}),T.jsx("strong",{children:t})]}),r&&!a&&T.jsx("div",{children:r})]}),!a&&T.jsx("div",{className:"mt-2",children:e})]})},Vv=({label:t,initialText:e,onSave:n,onEdit:o,fitHeight:r=!1,headerExtra:a})=>{const[u,c]=w.useState(e),[h,d]=w.useState(e),[m,y]=w.useState(!1),[S,E]=w.useState(!1),C=w.useRef(null);w.useEffect(()=>{c(e),d(e),r&&C.current&&(C.current.style.height="auto",C.current.style.height=`${C.current.scrollHeight}px`)},[e,r]);const A=u!==h,x=N=>{c(N),o&&o(N)},M=async()=>{n&&(E(!0),await n(u),d(u),E(!1))};w.useEffect(()=>{if(!m||!A)return;const N=setTimeout(()=>M(),1e3);return()=>clearTimeout(N)},[u,m,A]),w.useEffect(()=>{r&&C.current&&(C.current.style.height="auto",C.current.style.height=`${C.current.scrollHeight}px`)},[u,r]);const I=T.jsxs("div",{className:"d-flex align-items-center gap-2",children:[a&&T.jsx(T.Fragment,{children:a}),T.jsx("button",{className:"btn btn-primary btn-sm",disabled:S||!A||!n,onClick:M,children:S?"Saving...":A?"Save*":"Save"}),T.jsxs("label",{className:"d-flex align-items-center gap-1 mb-0",children:[T.jsx("input",{type:"checkbox",checked:m,onChange:N=>y(N.target.checked)}),"Auto-save"]})]});return T.jsx(Lu,{label:t,headerExtra:I,children:T.jsx("textarea",{ref:C,className:"form-control",style:{fontFamily:"monospace",overflowY:"auto",maxHeight:"800px"},value:u,onChange:N=>x(N.target.value)})})},Zn=wt(({localJson:t,field:e,fitHeight:n=!1,headerExtra:o})=>{if(!t)return;const r=async a=>{await t.updateField(e,a)};return T.jsx(Vv,{label:e,initialText:t.getField(e)??"",onSave:r,fitHeight:n,headerExtra:o})}),uu=({tabs:t})=>{const e=Object.keys(t),[n,o]=w.useState(e[0]);return T.jsxs("div",{children:[T.jsx("ul",{className:"nav nav-tabs",children:e.map(r=>T.jsx("li",{className:"nav-item",children:T.jsx("button",{className:`nav-link ${n===r?"active":""}`,onClick:()=>o(r),children:r})},r))}),T.jsx("div",{className:"tab-content p-3 border border-top-0",children:T.jsx("div",{className:"tab-pane fade show active",children:t[n]})})]})};function s6({items:t,currentItem:e,onPicked:n,labelRenderer:o,className:r=""}){return T.jsxs(_f,{className:r,children:[T.jsx(_f.Toggle,{variant:"outline-secondary",size:"sm",children:o?o(e):String(e)}),T.jsx(_f.Menu,{children:t.map((a,u)=>T.jsx(_f.Item,{onClick:()=>n(a),children:o?o(a):String(a)},u))})]})}const a6=wt(({project:t})=>{const{userSettingsDB:e}=t;if(!e)return null;const n=t.projinfo?{"  ":T.jsx(Zn,{localJson:t.projinfo,field:"split_shot_prompt",fitHeight:!0})," ":T.jsx(Zn,{localJson:t.projinfo,field:"generate_tags_prompt",fitHeight:!0})}:{};return T.jsxs("div",{style:{padding:20},children:[T.jsx("h3",{children:"API Keys"}),T.jsx(ct,{onClick:()=>{t.log()},label:"LOG Project"}),T.jsx(ct,{onClick:()=>{t.download_asset("assets/server.exe","server.exe")},label:"Download Server"}),T.jsx(Of,{label:"GPT API Key",value:e.data.api_keys.GPT_API_KEY||"",onChange:async o=>{await e.update(r=>{r.api_keys.GPT_API_KEY=o})}}),T.jsx(Of,{label:"Google API Key",value:e.data.api_keys.Google_API_KEY||"",onChange:async o=>{await e.update(r=>{r.api_keys.Google_API_KEY=o})}}),T.jsx(Of,{label:"Kling Acess Key",value:e.data.api_keys.Kling_Acess_Key||"",onChange:async o=>{await e.update(r=>{r.api_keys.Kling_Acess_Key=o})}}),T.jsx(Of,{label:"Kling Secret Key",value:e.data.api_keys.Kling_Secret_Key||"",onChange:async o=>{await e.update(r=>{r.api_keys.Kling_Secret_Key=o})}}),T.jsx("div",{children:T.jsx(s6,{items:CI,currentItem:t.projinfo?.data.gpt_model,onPicked:o=>{t.projinfo?.updateField("gpt_model",o)}})}),T.jsx("h2",{children:"Prompts"}),Object.keys(n).length>0&&T.jsx(uu,{tabs:n})]})}),l6=wt(({project:t})=>{if(!t.script)return T.jsx("div",{children:"No script loaded in project."});const e=async r=>{t.script.setText(r),await t.script.save()},n={};for(const r of t.script.sortedSceneKeys)n[r||"Intro"]=T.jsx(Vv,{label:r||"Intro",initialText:t.script.scenes.get(r),onSave:async a=>{t.script.setSceneText(r,a),await t.script.save()},fitHeight:!0});const o=async()=>{try{await t.script.createScenes(),alert("Scenes created successfully!")}catch(r){console.error("Error creating scenes:",r),alert("Failed to create scenes. See console for details.")}};return T.jsxs("div",{style:{padding:"1rem"},children:[T.jsx("h4",{children:"Script"}),T.jsx(ct,{label:"Create Scenes from Script",onClick:o,className:"mb-2"}),T.jsx(uu,{tabs:{"Full Script":T.jsx(Vv,{label:"Full Script",initialText:t.script.text,onSave:e,fitHeight:!0}),Scenes:T.jsx(uu,{tabs:n})}})]})}),u6=wt(({art:t,onClose:e})=>{const[n,o]=w.useState(null),[r,a]=w.useState(!0);w.useEffect(()=>{let c=!0,h=t;a(!0),o(null);async function d(){const m=await h.image.getUrlObject();if(!c||t!==h)return;o(m);const y=await h.getArtInfo();!c||t!==h||(h.artInfo=y,a(!1))}return d(),()=>{c=!1}},[t]);const u=t.handle.name;return r?T.jsx("div",{children:"Loading art info..."}):T.jsxs("div",{className:"art-info-card",style:{border:"1px solid #ccc",padding:"1rem",borderRadius:"8px"},children:[T.jsxs("div",{className:"card-header",style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[T.jsx("strong",{children:u}),T.jsx("button",{onClick:e,style:{cursor:"pointer",border:"none",background:"transparent",fontSize:"1.2rem"},children:""})]}),n?T.jsx("img",{src:n,className:"preview-img",style:{maxWidth:"1000px",width:"auto",maxHeight:"1000px",objectFit:"contain",borderRadius:"4px",display:"block",marginBottom:"1rem"}}):T.jsx("div",{style:{padding:"4rem",textAlign:"center"},children:T.jsx("span",{children:"Loading image..."})}),t.artInfo&&T.jsx(Zn,{localJson:t.artInfo,field:"prompt",fitHeight:!0})]})}),c6=wt(({artbook:t})=>{const[e,n]=w.useState(null);if(!Object.keys(t.data).length)return T.jsx("div",{children:"No Artbook content found."});const o=({art:c})=>{const[h,d]=w.useState(null);return w.useEffect(()=>{let m=!0;return c.image.getUrlObject().then(y=>{m&&d(y)}),()=>{m=!1}},[c]),T.jsx(Kx,{xs:6,md:3,lg:2,style:{marginBottom:"1rem"},children:T.jsxs(vf,{onClick:()=>n(c),style:{cursor:"pointer"},children:[h?T.jsx(vf.Img,{variant:"top",src:h}):T.jsx("div",{style:{padding:"2rem",textAlign:"center"},children:T.jsx(YR,{animation:"border"})}),T.jsx(vf.Body,{children:T.jsx(vf.Text,{style:{fontSize:"0.8rem"},children:c.handle.name})})]})})},r=(c,h)=>T.jsxs("div",{style:{marginBottom:"2rem"},children:[T.jsx("h5",{children:c}),T.jsx(KR,{children:h.map(d=>T.jsx(o,{art:d},d.handle.name))}),e&&h.includes(e)&&T.jsx("div",{style:{marginTop:"1rem"},children:T.jsx(u6,{art:e,onClose:()=>n(null)})})]},c),a=c=>T.jsxs("div",{style:{padding:"1rem"},children:[Object.entries(c).map(([h,d])=>r(h,d)),T.jsx("div",{style:{height:"500px"}})]}),u={};for(const c in t.data)u[c]=a(t.data[c]);return T.jsxs("div",{style:{padding:"1rem"},children:[T.jsx("h2",{className:"mb-3",children:"Artbook"}),T.jsx(uu,{tabs:u})]})}),f6=wt(({art:t,scene:e})=>{const[n,o]=w.useState(null);if(w.useEffect(()=>{t.getArtInfo();let a=!0;return(async()=>{const c=await t.image.getUrlObject();a&&o(c||null)})(),()=>{a=!1,t.image.revokeUrl()}},[t]),!n)return null;const r=()=>{e.removeTag(t.path)};return T.jsxs("div",{className:"d-flex align-items-center justify-content-between",children:[T.jsxs("div",{className:"d-flex align-items-center",children:[T.jsx("img",{src:n,alt:t.handle.name,style:{width:40,height:40,objectFit:"cover",marginRight:8}}),T.jsxs("div",{children:[T.jsx("div",{children:t.handle.name}),T.jsx("small",{className:"text-muted",children:t.path}),t.artInfo&&T.jsx("div",{children:T.jsx("small",{children:t.artInfo.data?.description||""})})]})]}),T.jsx(ct,{onClick:r,label:"X"})]})}),d6=({art:t,onClick:e})=>{const[n,o]=w.useState("");return w.useEffect(()=>{let r=!0;return t.image.getUrlObject().then(a=>{r&&o(a)}),()=>{r=!1,t.image.revokeUrl()}},[t]),T.jsxs("div",{className:"px-2 py-1 hover-bg-light d-flex align-items-center",style:{cursor:"pointer",gap:6},onClick:e,children:[n&&T.jsx("img",{src:n,alt:t.handle.name,style:{width:36,height:36,objectFit:"cover",borderRadius:2}}),T.jsx("span",{children:t.handle.name})]})},r_=({onClick:t,label:e="Click",className:n="",is_loading:o=!1})=>T.jsx(ct,{onClick:t,className:`${n} ${o?"disabled":""}`,label:T.jsxs("span",{className:"d-flex align-items-center justify-content-center",children:[T.jsx("span",{className:"spinner-border spinner-border-sm me-2",role:"status","aria-hidden":"true",style:{animation:o?void 0:"none",borderColor:o?void 0:"#6c757d"}}),T.jsx("span",{children:e})]})});function He(t,e,{checkForDefaultPrevented:n=!0}={}){return function(r){if(t?.(r),n===!1||!r.defaultPrevented)return e?.(r)}}function jC(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function bh(...t){return e=>{let n=!1;const o=t.map(r=>{const a=jC(r,e);return!n&&typeof a=="function"&&(n=!0),a});if(n)return()=>{for(let r=0;r<o.length;r++){const a=o[r];typeof a=="function"?a():jC(t[r],null)}}}}function tn(...t){return w.useCallback(bh(...t),t)}function Uu(t,e=[]){let n=[];function o(a,u){const c=w.createContext(u),h=n.length;n=[...n,u];const d=y=>{const{scope:S,children:E,...C}=y,A=S?.[t]?.[h]||c,x=w.useMemo(()=>C,Object.values(C));return T.jsx(A.Provider,{value:x,children:E})};d.displayName=a+"Provider";function m(y,S){const E=S?.[t]?.[h]||c,C=w.useContext(E);if(C)return C;if(u!==void 0)return u;throw new Error(`\`${y}\` must be used within \`${a}\``)}return[d,m]}const r=()=>{const a=n.map(u=>w.createContext(u));return function(c){const h=c?.[t]||a;return w.useMemo(()=>({[`__scope${t}`]:{...c,[t]:h}}),[c,h])}};return r.scopeName=t,[o,h6(r,...e)]}function h6(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const o=t.map(r=>({useScope:r(),scopeName:r.scopeName}));return function(a){const u=o.reduce((c,{useScope:h,scopeName:d})=>{const y=h(a)[`__scope${d}`];return{...c,...y}},{});return w.useMemo(()=>({[`__scope${e.scopeName}`]:u}),[u])}};return n.scopeName=e.scopeName,n}var er=globalThis?.document?w.useLayoutEffect:()=>{},p6=OA[" useInsertionEffect ".trim().toString()]||er;function s_({prop:t,defaultProp:e,onChange:n=()=>{},caller:o}){const[r,a,u]=m6({defaultProp:e,onChange:n}),c=t!==void 0,h=c?t:r;{const m=w.useRef(t!==void 0);w.useEffect(()=>{const y=m.current;y!==c&&console.warn(`${o} is changing from ${y?"controlled":"uncontrolled"} to ${c?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),m.current=c},[c,o])}const d=w.useCallback(m=>{if(c){const y=g6(m)?m(t):m;y!==t&&u.current?.(y)}else a(m)},[c,t,a,u]);return[h,d]}function m6({defaultProp:t,onChange:e}){const[n,o]=w.useState(t),r=w.useRef(n),a=w.useRef(e);return p6(()=>{a.current=e},[e]),w.useEffect(()=>{r.current!==n&&(a.current?.(n),r.current=n)},[n,r]),[n,o,a]}function g6(t){return typeof t=="function"}function kd(t){const e=v6(t),n=w.forwardRef((o,r)=>{const{children:a,...u}=o,c=w.Children.toArray(a),h=c.find(_6);if(h){const d=h.props.children,m=c.map(y=>y===h?w.Children.count(d)>1?w.Children.only(null):w.isValidElement(d)?d.props.children:null:y);return T.jsx(e,{...u,ref:r,children:w.isValidElement(d)?w.cloneElement(d,void 0,m):null})}return T.jsx(e,{...u,ref:r,children:a})});return n.displayName=`${t}.Slot`,n}function v6(t){const e=w.forwardRef((n,o)=>{const{children:r,...a}=n;if(w.isValidElement(r)){const u=E6(r),c=S6(a,r.props);return r.type!==w.Fragment&&(c.ref=o?bh(o,u):u),w.cloneElement(r,c)}return w.Children.count(r)>1?w.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var y6=Symbol("radix.slottable");function _6(t){return w.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===y6}function S6(t,e){const n={...e};for(const o in e){const r=t[o],a=e[o];/^on[A-Z]/.test(o)?r&&a?n[o]=(...c)=>{const h=a(...c);return r(...c),h}:r&&(n[o]=r):o==="style"?n[o]={...r,...a}:o==="className"&&(n[o]=[r,a].filter(Boolean).join(" "))}return{...t,...n}}function E6(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var b6=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Gt=b6.reduce((t,e)=>{const n=kd(`Primitive.${e}`),o=w.forwardRef((r,a)=>{const{asChild:u,...c}=r,h=u?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),T.jsx(h,{...c,ref:a})});return o.displayName=`Primitive.${e}`,{...t,[e]:o}},{});function RI(t,e){t&&Xd.flushSync(()=>t.dispatchEvent(e))}function MI(t){const e=t+"CollectionProvider",[n,o]=Uu(e),[r,a]=n(e,{collectionRef:{current:null},itemMap:new Map}),u=A=>{const{scope:x,children:M}=A,I=et.useRef(null),N=et.useRef(new Map).current;return T.jsx(r,{scope:x,itemMap:N,collectionRef:I,children:M})};u.displayName=e;const c=t+"CollectionSlot",h=kd(c),d=et.forwardRef((A,x)=>{const{scope:M,children:I}=A,N=a(c,M),D=tn(x,N.collectionRef);return T.jsx(h,{ref:D,children:I})});d.displayName=c;const m=t+"CollectionItemSlot",y="data-radix-collection-item",S=kd(m),E=et.forwardRef((A,x)=>{const{scope:M,children:I,...N}=A,D=et.useRef(null),L=tn(x,D),U=a(m,M);return et.useEffect(()=>(U.itemMap.set(D,{ref:D,...N}),()=>void U.itemMap.delete(D))),T.jsx(S,{[y]:"",ref:L,children:I})});E.displayName=m;function C(A){const x=a(t+"CollectionConsumer",A);return et.useCallback(()=>{const I=x.collectionRef.current;if(!I)return[];const N=Array.from(I.querySelectorAll(`[${y}]`));return Array.from(x.itemMap.values()).sort((U,O)=>N.indexOf(U.ref.current)-N.indexOf(O.ref.current))},[x.collectionRef,x.itemMap])}return[{Provider:u,Slot:d,ItemSlot:E},C,o]}var w6=w.createContext(void 0);function NI(t){const e=w.useContext(w6);return t||e||"ltr"}function No(t){const e=w.useRef(t);return w.useEffect(()=>{e.current=t}),w.useMemo(()=>(...n)=>e.current?.(...n),[])}function T6(t,e=globalThis?.document){const n=No(t);w.useEffect(()=>{const o=r=>{r.key==="Escape"&&n(r)};return e.addEventListener("keydown",o,{capture:!0}),()=>e.removeEventListener("keydown",o,{capture:!0})},[n,e])}var C6="DismissableLayer",zv="dismissableLayer.update",A6="dismissableLayer.pointerDownOutside",x6="dismissableLayer.focusOutside",WC,II=w.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),DI=w.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:o,onPointerDownOutside:r,onFocusOutside:a,onInteractOutside:u,onDismiss:c,...h}=t,d=w.useContext(II),[m,y]=w.useState(null),S=m?.ownerDocument??globalThis?.document,[,E]=w.useState({}),C=tn(e,O=>y(O)),A=Array.from(d.layers),[x]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),M=A.indexOf(x),I=m?A.indexOf(m):-1,N=d.layersWithOutsidePointerEventsDisabled.size>0,D=I>=M,L=N6(O=>{const q=O.target,J=[...d.branches].some(X=>X.contains(q));!D||J||(r?.(O),u?.(O),O.defaultPrevented||c?.())},S),U=I6(O=>{const q=O.target;[...d.branches].some(X=>X.contains(q))||(a?.(O),u?.(O),O.defaultPrevented||c?.())},S);return T6(O=>{I===d.layers.size-1&&(o?.(O),!O.defaultPrevented&&c&&(O.preventDefault(),c()))},S),w.useEffect(()=>{if(m)return n&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(WC=S.body.style.pointerEvents,S.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(m)),d.layers.add(m),QC(),()=>{n&&d.layersWithOutsidePointerEventsDisabled.size===1&&(S.body.style.pointerEvents=WC)}},[m,S,n,d]),w.useEffect(()=>()=>{m&&(d.layers.delete(m),d.layersWithOutsidePointerEventsDisabled.delete(m),QC())},[m,d]),w.useEffect(()=>{const O=()=>E({});return document.addEventListener(zv,O),()=>document.removeEventListener(zv,O)},[]),T.jsx(Gt.div,{...h,ref:C,style:{pointerEvents:N?D?"auto":"none":void 0,...t.style},onFocusCapture:He(t.onFocusCapture,U.onFocusCapture),onBlurCapture:He(t.onBlurCapture,U.onBlurCapture),onPointerDownCapture:He(t.onPointerDownCapture,L.onPointerDownCapture)})});DI.displayName=C6;var R6="DismissableLayerBranch",M6=w.forwardRef((t,e)=>{const n=w.useContext(II),o=w.useRef(null),r=tn(e,o);return w.useEffect(()=>{const a=o.current;if(a)return n.branches.add(a),()=>{n.branches.delete(a)}},[n.branches]),T.jsx(Gt.div,{...t,ref:r})});M6.displayName=R6;function N6(t,e=globalThis?.document){const n=No(t),o=w.useRef(!1),r=w.useRef(()=>{});return w.useEffect(()=>{const a=c=>{if(c.target&&!o.current){let h=function(){OI(A6,n,d,{discrete:!0})};const d={originalEvent:c};c.pointerType==="touch"?(e.removeEventListener("click",r.current),r.current=h,e.addEventListener("click",r.current,{once:!0})):h()}else e.removeEventListener("click",r.current);o.current=!1},u=window.setTimeout(()=>{e.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(u),e.removeEventListener("pointerdown",a),e.removeEventListener("click",r.current)}},[e,n]),{onPointerDownCapture:()=>o.current=!0}}function I6(t,e=globalThis?.document){const n=No(t),o=w.useRef(!1);return w.useEffect(()=>{const r=a=>{a.target&&!o.current&&OI(x6,n,{originalEvent:a},{discrete:!1})};return e.addEventListener("focusin",r),()=>e.removeEventListener("focusin",r)},[e,n]),{onFocusCapture:()=>o.current=!0,onBlurCapture:()=>o.current=!1}}function QC(){const t=new CustomEvent(zv);document.dispatchEvent(t)}function OI(t,e,n,{discrete:o}){const r=n.originalEvent.target,a=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&r.addEventListener(t,e,{once:!0}),o?RI(r,a):r.dispatchEvent(a)}var Ig=0;function D6(){w.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??ZC()),document.body.insertAdjacentElement("beforeend",t[1]??ZC()),Ig++,()=>{Ig===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Ig--}},[])}function ZC(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Dg="focusScope.autoFocusOnMount",Og="focusScope.autoFocusOnUnmount",eA={bubbles:!1,cancelable:!0},O6="FocusScope",PI=w.forwardRef((t,e)=>{const{loop:n=!1,trapped:o=!1,onMountAutoFocus:r,onUnmountAutoFocus:a,...u}=t,[c,h]=w.useState(null),d=No(r),m=No(a),y=w.useRef(null),S=tn(e,A=>h(A)),E=w.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;w.useEffect(()=>{if(o){let A=function(N){if(E.paused||!c)return;const D=N.target;c.contains(D)?y.current=D:Ki(y.current,{select:!0})},x=function(N){if(E.paused||!c)return;const D=N.relatedTarget;D!==null&&(c.contains(D)||Ki(y.current,{select:!0}))},M=function(N){if(document.activeElement===document.body)for(const L of N)L.removedNodes.length>0&&Ki(c)};document.addEventListener("focusin",A),document.addEventListener("focusout",x);const I=new MutationObserver(M);return c&&I.observe(c,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",A),document.removeEventListener("focusout",x),I.disconnect()}}},[o,c,E.paused]),w.useEffect(()=>{if(c){nA.add(E);const A=document.activeElement;if(!c.contains(A)){const M=new CustomEvent(Dg,eA);c.addEventListener(Dg,d),c.dispatchEvent(M),M.defaultPrevented||(P6(H6(kI(c)),{select:!0}),document.activeElement===A&&Ki(c))}return()=>{c.removeEventListener(Dg,d),setTimeout(()=>{const M=new CustomEvent(Og,eA);c.addEventListener(Og,m),c.dispatchEvent(M),M.defaultPrevented||Ki(A??document.body,{select:!0}),c.removeEventListener(Og,m),nA.remove(E)},0)}}},[c,d,m,E]);const C=w.useCallback(A=>{if(!n&&!o||E.paused)return;const x=A.key==="Tab"&&!A.altKey&&!A.ctrlKey&&!A.metaKey,M=document.activeElement;if(x&&M){const I=A.currentTarget,[N,D]=k6(I);N&&D?!A.shiftKey&&M===D?(A.preventDefault(),n&&Ki(N,{select:!0})):A.shiftKey&&M===N&&(A.preventDefault(),n&&Ki(D,{select:!0})):M===I&&A.preventDefault()}},[n,o,E.paused]);return T.jsx(Gt.div,{tabIndex:-1,...u,ref:S,onKeyDown:C})});PI.displayName=O6;function P6(t,{select:e=!1}={}){const n=document.activeElement;for(const o of t)if(Ki(o,{select:e}),document.activeElement!==n)return}function k6(t){const e=kI(t),n=tA(e,t),o=tA(e.reverse(),t);return[n,o]}function kI(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:o=>{const r=o.tagName==="INPUT"&&o.type==="hidden";return o.disabled||o.hidden||r?NodeFilter.FILTER_SKIP:o.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function tA(t,e){for(const n of t)if(!L6(n,{upTo:e}))return n}function L6(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function U6(t){return t instanceof HTMLInputElement&&"select"in t}function Ki(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&U6(t)&&e&&t.select()}}var nA=B6();function B6(){let t=[];return{add(e){const n=t[0];e!==n&&n?.pause(),t=oA(t,e),t.unshift(e)},remove(e){t=oA(t,e),t[0]?.resume()}}}function oA(t,e){const n=[...t],o=n.indexOf(e);return o!==-1&&n.splice(o,1),n}function H6(t){return t.filter(e=>e.tagName!=="A")}var F6=OA[" useId ".trim().toString()]||(()=>{}),$6=0;function cu(t){const[e,n]=w.useState(F6());return er(()=>{n(o=>o??String($6++))},[t]),t||(e?`radix-${e}`:"")}const G6=["top","right","bottom","left"],tr=Math.min,gn=Math.max,Ld=Math.round,Pf=Math.floor,Mo=t=>({x:t,y:t}),V6={left:"right",right:"left",bottom:"top",top:"bottom"},z6={start:"end",end:"start"};function qv(t,e,n){return gn(t,tr(e,n))}function di(t,e){return typeof t=="function"?t(e):t}function hi(t){return t.split("-")[0]}function Ma(t){return t.split("-")[1]}function a_(t){return t==="x"?"y":"x"}function l_(t){return t==="y"?"height":"width"}const q6=new Set(["top","bottom"]);function wo(t){return q6.has(hi(t))?"y":"x"}function u_(t){return a_(wo(t))}function J6(t,e,n){n===void 0&&(n=!1);const o=Ma(t),r=u_(t),a=l_(r);let u=r==="x"?o===(n?"end":"start")?"right":"left":o==="start"?"bottom":"top";return e.reference[a]>e.floating[a]&&(u=Ud(u)),[u,Ud(u)]}function K6(t){const e=Ud(t);return[Jv(t),e,Jv(e)]}function Jv(t){return t.replace(/start|end/g,e=>z6[e])}const iA=["left","right"],rA=["right","left"],Y6=["top","bottom"],X6=["bottom","top"];function j6(t,e,n){switch(t){case"top":case"bottom":return n?e?rA:iA:e?iA:rA;case"left":case"right":return e?Y6:X6;default:return[]}}function W6(t,e,n,o){const r=Ma(t);let a=j6(hi(t),n==="start",o);return r&&(a=a.map(u=>u+"-"+r),e&&(a=a.concat(a.map(Jv)))),a}function Ud(t){return t.replace(/left|right|bottom|top/g,e=>V6[e])}function Q6(t){return{top:0,right:0,bottom:0,left:0,...t}}function LI(t){return typeof t!="number"?Q6(t):{top:t,right:t,bottom:t,left:t}}function Bd(t){const{x:e,y:n,width:o,height:r}=t;return{width:o,height:r,top:n,left:e,right:e+o,bottom:n+r,x:e,y:n}}function sA(t,e,n){let{reference:o,floating:r}=t;const a=wo(e),u=u_(e),c=l_(u),h=hi(e),d=a==="y",m=o.x+o.width/2-r.width/2,y=o.y+o.height/2-r.height/2,S=o[c]/2-r[c]/2;let E;switch(h){case"top":E={x:m,y:o.y-r.height};break;case"bottom":E={x:m,y:o.y+o.height};break;case"right":E={x:o.x+o.width,y};break;case"left":E={x:o.x-r.width,y};break;default:E={x:o.x,y:o.y}}switch(Ma(e)){case"start":E[u]-=S*(n&&d?-1:1);break;case"end":E[u]+=S*(n&&d?-1:1);break}return E}const Z6=async(t,e,n)=>{const{placement:o="bottom",strategy:r="absolute",middleware:a=[],platform:u}=n,c=a.filter(Boolean),h=await(u.isRTL==null?void 0:u.isRTL(e));let d=await u.getElementRects({reference:t,floating:e,strategy:r}),{x:m,y}=sA(d,o,h),S=o,E={},C=0;for(let A=0;A<c.length;A++){const{name:x,fn:M}=c[A],{x:I,y:N,data:D,reset:L}=await M({x:m,y,initialPlacement:o,placement:S,strategy:r,middlewareData:E,rects:d,platform:u,elements:{reference:t,floating:e}});m=I??m,y=N??y,E={...E,[x]:{...E[x],...D}},L&&C<=50&&(C++,typeof L=="object"&&(L.placement&&(S=L.placement),L.rects&&(d=L.rects===!0?await u.getElementRects({reference:t,floating:e,strategy:r}):L.rects),{x:m,y}=sA(d,S,h)),A=-1)}return{x:m,y,placement:S,strategy:r,middlewareData:E}};async function fu(t,e){var n;e===void 0&&(e={});const{x:o,y:r,platform:a,rects:u,elements:c,strategy:h}=t,{boundary:d="clippingAncestors",rootBoundary:m="viewport",elementContext:y="floating",altBoundary:S=!1,padding:E=0}=di(e,t),C=LI(E),x=c[S?y==="floating"?"reference":"floating":y],M=Bd(await a.getClippingRect({element:(n=await(a.isElement==null?void 0:a.isElement(x)))==null||n?x:x.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(c.floating)),boundary:d,rootBoundary:m,strategy:h})),I=y==="floating"?{x:o,y:r,width:u.floating.width,height:u.floating.height}:u.reference,N=await(a.getOffsetParent==null?void 0:a.getOffsetParent(c.floating)),D=await(a.isElement==null?void 0:a.isElement(N))?await(a.getScale==null?void 0:a.getScale(N))||{x:1,y:1}:{x:1,y:1},L=Bd(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:I,offsetParent:N,strategy:h}):I);return{top:(M.top-L.top+C.top)/D.y,bottom:(L.bottom-M.bottom+C.bottom)/D.y,left:(M.left-L.left+C.left)/D.x,right:(L.right-M.right+C.right)/D.x}}const e5=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:o,placement:r,rects:a,platform:u,elements:c,middlewareData:h}=e,{element:d,padding:m=0}=di(t,e)||{};if(d==null)return{};const y=LI(m),S={x:n,y:o},E=u_(r),C=l_(E),A=await u.getDimensions(d),x=E==="y",M=x?"top":"left",I=x?"bottom":"right",N=x?"clientHeight":"clientWidth",D=a.reference[C]+a.reference[E]-S[E]-a.floating[C],L=S[E]-a.reference[E],U=await(u.getOffsetParent==null?void 0:u.getOffsetParent(d));let O=U?U[N]:0;(!O||!await(u.isElement==null?void 0:u.isElement(U)))&&(O=c.floating[N]||a.floating[C]);const q=D/2-L/2,J=O/2-A[C]/2-1,X=tr(y[M],J),W=tr(y[I],J),re=X,oe=O-A[C]-W,ae=O/2-A[C]/2+q,de=qv(re,ae,oe),H=!h.arrow&&Ma(r)!=null&&ae!==de&&a.reference[C]/2-(ae<re?X:W)-A[C]/2<0,Q=H?ae<re?ae-re:ae-oe:0;return{[E]:S[E]+Q,data:{[E]:de,centerOffset:ae-de-Q,...H&&{alignmentOffset:Q}},reset:H}}}),t5=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,o;const{placement:r,middlewareData:a,rects:u,initialPlacement:c,platform:h,elements:d}=e,{mainAxis:m=!0,crossAxis:y=!0,fallbackPlacements:S,fallbackStrategy:E="bestFit",fallbackAxisSideDirection:C="none",flipAlignment:A=!0,...x}=di(t,e);if((n=a.arrow)!=null&&n.alignmentOffset)return{};const M=hi(r),I=wo(c),N=hi(c)===c,D=await(h.isRTL==null?void 0:h.isRTL(d.floating)),L=S||(N||!A?[Ud(c)]:K6(c)),U=C!=="none";!S&&U&&L.push(...W6(c,A,C,D));const O=[c,...L],q=await fu(e,x),J=[];let X=((o=a.flip)==null?void 0:o.overflows)||[];if(m&&J.push(q[M]),y){const ae=J6(r,u,D);J.push(q[ae[0]],q[ae[1]])}if(X=[...X,{placement:r,overflows:J}],!J.every(ae=>ae<=0)){var W,re;const ae=(((W=a.flip)==null?void 0:W.index)||0)+1,de=O[ae];if(de&&(!(y==="alignment"?I!==wo(de):!1)||X.every(ee=>wo(ee.placement)===I?ee.overflows[0]>0:!0)))return{data:{index:ae,overflows:X},reset:{placement:de}};let H=(re=X.filter(Q=>Q.overflows[0]<=0).sort((Q,ee)=>Q.overflows[1]-ee.overflows[1])[0])==null?void 0:re.placement;if(!H)switch(E){case"bestFit":{var oe;const Q=(oe=X.filter(ee=>{if(U){const ne=wo(ee.placement);return ne===I||ne==="y"}return!0}).map(ee=>[ee.placement,ee.overflows.filter(ne=>ne>0).reduce((ne,ce)=>ne+ce,0)]).sort((ee,ne)=>ee[1]-ne[1])[0])==null?void 0:oe[0];Q&&(H=Q);break}case"initialPlacement":H=c;break}if(r!==H)return{reset:{placement:H}}}return{}}}};function aA(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function lA(t){return G6.some(e=>t[e]>=0)}const n5=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:o="referenceHidden",...r}=di(t,e);switch(o){case"referenceHidden":{const a=await fu(e,{...r,elementContext:"reference"}),u=aA(a,n.reference);return{data:{referenceHiddenOffsets:u,referenceHidden:lA(u)}}}case"escaped":{const a=await fu(e,{...r,altBoundary:!0}),u=aA(a,n.floating);return{data:{escapedOffsets:u,escaped:lA(u)}}}default:return{}}}}},UI=new Set(["left","top"]);async function o5(t,e){const{placement:n,platform:o,elements:r}=t,a=await(o.isRTL==null?void 0:o.isRTL(r.floating)),u=hi(n),c=Ma(n),h=wo(n)==="y",d=UI.has(u)?-1:1,m=a&&h?-1:1,y=di(e,t);let{mainAxis:S,crossAxis:E,alignmentAxis:C}=typeof y=="number"?{mainAxis:y,crossAxis:0,alignmentAxis:null}:{mainAxis:y.mainAxis||0,crossAxis:y.crossAxis||0,alignmentAxis:y.alignmentAxis};return c&&typeof C=="number"&&(E=c==="end"?C*-1:C),h?{x:E*m,y:S*d}:{x:S*d,y:E*m}}const i5=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,o;const{x:r,y:a,placement:u,middlewareData:c}=e,h=await o5(e,t);return u===((n=c.offset)==null?void 0:n.placement)&&(o=c.arrow)!=null&&o.alignmentOffset?{}:{x:r+h.x,y:a+h.y,data:{...h,placement:u}}}}},r5=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:o,placement:r}=e,{mainAxis:a=!0,crossAxis:u=!1,limiter:c={fn:x=>{let{x:M,y:I}=x;return{x:M,y:I}}},...h}=di(t,e),d={x:n,y:o},m=await fu(e,h),y=wo(hi(r)),S=a_(y);let E=d[S],C=d[y];if(a){const x=S==="y"?"top":"left",M=S==="y"?"bottom":"right",I=E+m[x],N=E-m[M];E=qv(I,E,N)}if(u){const x=y==="y"?"top":"left",M=y==="y"?"bottom":"right",I=C+m[x],N=C-m[M];C=qv(I,C,N)}const A=c.fn({...e,[S]:E,[y]:C});return{...A,data:{x:A.x-n,y:A.y-o,enabled:{[S]:a,[y]:u}}}}}},s5=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:o,placement:r,rects:a,middlewareData:u}=e,{offset:c=0,mainAxis:h=!0,crossAxis:d=!0}=di(t,e),m={x:n,y:o},y=wo(r),S=a_(y);let E=m[S],C=m[y];const A=di(c,e),x=typeof A=="number"?{mainAxis:A,crossAxis:0}:{mainAxis:0,crossAxis:0,...A};if(h){const N=S==="y"?"height":"width",D=a.reference[S]-a.floating[N]+x.mainAxis,L=a.reference[S]+a.reference[N]-x.mainAxis;E<D?E=D:E>L&&(E=L)}if(d){var M,I;const N=S==="y"?"width":"height",D=UI.has(hi(r)),L=a.reference[y]-a.floating[N]+(D&&((M=u.offset)==null?void 0:M[y])||0)+(D?0:x.crossAxis),U=a.reference[y]+a.reference[N]+(D?0:((I=u.offset)==null?void 0:I[y])||0)-(D?x.crossAxis:0);C<L?C=L:C>U&&(C=U)}return{[S]:E,[y]:C}}}},a5=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,o;const{placement:r,rects:a,platform:u,elements:c}=e,{apply:h=()=>{},...d}=di(t,e),m=await fu(e,d),y=hi(r),S=Ma(r),E=wo(r)==="y",{width:C,height:A}=a.floating;let x,M;y==="top"||y==="bottom"?(x=y,M=S===(await(u.isRTL==null?void 0:u.isRTL(c.floating))?"start":"end")?"left":"right"):(M=y,x=S==="end"?"top":"bottom");const I=A-m.top-m.bottom,N=C-m.left-m.right,D=tr(A-m[x],I),L=tr(C-m[M],N),U=!e.middlewareData.shift;let O=D,q=L;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(q=N),(o=e.middlewareData.shift)!=null&&o.enabled.y&&(O=I),U&&!S){const X=gn(m.left,0),W=gn(m.right,0),re=gn(m.top,0),oe=gn(m.bottom,0);E?q=C-2*(X!==0||W!==0?X+W:gn(m.left,m.right)):O=A-2*(re!==0||oe!==0?re+oe:gn(m.top,m.bottom))}await h({...e,availableWidth:q,availableHeight:O});const J=await u.getDimensions(c.floating);return C!==J.width||A!==J.height?{reset:{rects:!0}}:{}}}};function wh(){return typeof window<"u"}function Na(t){return BI(t)?(t.nodeName||"").toLowerCase():"#document"}function _n(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Do(t){var e;return(e=(BI(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function BI(t){return wh()?t instanceof Node||t instanceof _n(t).Node:!1}function ao(t){return wh()?t instanceof Element||t instanceof _n(t).Element:!1}function Io(t){return wh()?t instanceof HTMLElement||t instanceof _n(t).HTMLElement:!1}function uA(t){return!wh()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof _n(t).ShadowRoot}const l5=new Set(["inline","contents"]);function Bu(t){const{overflow:e,overflowX:n,overflowY:o,display:r}=lo(t);return/auto|scroll|overlay|hidden|clip/.test(e+o+n)&&!l5.has(r)}const u5=new Set(["table","td","th"]);function c5(t){return u5.has(Na(t))}const f5=[":popover-open",":modal"];function Th(t){return f5.some(e=>{try{return t.matches(e)}catch{return!1}})}const d5=["transform","translate","scale","rotate","perspective"],h5=["transform","translate","scale","rotate","perspective","filter"],p5=["paint","layout","strict","content"];function c_(t){const e=f_(),n=ao(t)?lo(t):t;return d5.some(o=>n[o]?n[o]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||h5.some(o=>(n.willChange||"").includes(o))||p5.some(o=>(n.contain||"").includes(o))}function m5(t){let e=nr(t);for(;Io(e)&&!_a(e);){if(c_(e))return e;if(Th(e))return null;e=nr(e)}return null}function f_(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const g5=new Set(["html","body","#document"]);function _a(t){return g5.has(Na(t))}function lo(t){return _n(t).getComputedStyle(t)}function Ch(t){return ao(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function nr(t){if(Na(t)==="html")return t;const e=t.assignedSlot||t.parentNode||uA(t)&&t.host||Do(t);return uA(e)?e.host:e}function HI(t){const e=nr(t);return _a(e)?t.ownerDocument?t.ownerDocument.body:t.body:Io(e)&&Bu(e)?e:HI(e)}function du(t,e,n){var o;e===void 0&&(e=[]),n===void 0&&(n=!0);const r=HI(t),a=r===((o=t.ownerDocument)==null?void 0:o.body),u=_n(r);if(a){const c=Kv(u);return e.concat(u,u.visualViewport||[],Bu(r)?r:[],c&&n?du(c):[])}return e.concat(r,du(r,[],n))}function Kv(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function FI(t){const e=lo(t);let n=parseFloat(e.width)||0,o=parseFloat(e.height)||0;const r=Io(t),a=r?t.offsetWidth:n,u=r?t.offsetHeight:o,c=Ld(n)!==a||Ld(o)!==u;return c&&(n=a,o=u),{width:n,height:o,$:c}}function d_(t){return ao(t)?t:t.contextElement}function ca(t){const e=d_(t);if(!Io(e))return Mo(1);const n=e.getBoundingClientRect(),{width:o,height:r,$:a}=FI(e);let u=(a?Ld(n.width):n.width)/o,c=(a?Ld(n.height):n.height)/r;return(!u||!Number.isFinite(u))&&(u=1),(!c||!Number.isFinite(c))&&(c=1),{x:u,y:c}}const v5=Mo(0);function $I(t){const e=_n(t);return!f_()||!e.visualViewport?v5:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function y5(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==_n(t)?!1:e}function Xr(t,e,n,o){e===void 0&&(e=!1),n===void 0&&(n=!1);const r=t.getBoundingClientRect(),a=d_(t);let u=Mo(1);e&&(o?ao(o)&&(u=ca(o)):u=ca(t));const c=y5(a,n,o)?$I(a):Mo(0);let h=(r.left+c.x)/u.x,d=(r.top+c.y)/u.y,m=r.width/u.x,y=r.height/u.y;if(a){const S=_n(a),E=o&&ao(o)?_n(o):o;let C=S,A=Kv(C);for(;A&&o&&E!==C;){const x=ca(A),M=A.getBoundingClientRect(),I=lo(A),N=M.left+(A.clientLeft+parseFloat(I.paddingLeft))*x.x,D=M.top+(A.clientTop+parseFloat(I.paddingTop))*x.y;h*=x.x,d*=x.y,m*=x.x,y*=x.y,h+=N,d+=D,C=_n(A),A=Kv(C)}}return Bd({width:m,height:y,x:h,y:d})}function Ah(t,e){const n=Ch(t).scrollLeft;return e?e.left+n:Xr(Do(t)).left+n}function GI(t,e){const n=t.getBoundingClientRect(),o=n.left+e.scrollLeft-Ah(t,n),r=n.top+e.scrollTop;return{x:o,y:r}}function _5(t){let{elements:e,rect:n,offsetParent:o,strategy:r}=t;const a=r==="fixed",u=Do(o),c=e?Th(e.floating):!1;if(o===u||c&&a)return n;let h={scrollLeft:0,scrollTop:0},d=Mo(1);const m=Mo(0),y=Io(o);if((y||!y&&!a)&&((Na(o)!=="body"||Bu(u))&&(h=Ch(o)),Io(o))){const E=Xr(o);d=ca(o),m.x=E.x+o.clientLeft,m.y=E.y+o.clientTop}const S=u&&!y&&!a?GI(u,h):Mo(0);return{width:n.width*d.x,height:n.height*d.y,x:n.x*d.x-h.scrollLeft*d.x+m.x+S.x,y:n.y*d.y-h.scrollTop*d.y+m.y+S.y}}function S5(t){return Array.from(t.getClientRects())}function E5(t){const e=Do(t),n=Ch(t),o=t.ownerDocument.body,r=gn(e.scrollWidth,e.clientWidth,o.scrollWidth,o.clientWidth),a=gn(e.scrollHeight,e.clientHeight,o.scrollHeight,o.clientHeight);let u=-n.scrollLeft+Ah(t);const c=-n.scrollTop;return lo(o).direction==="rtl"&&(u+=gn(e.clientWidth,o.clientWidth)-r),{width:r,height:a,x:u,y:c}}const cA=25;function b5(t,e){const n=_n(t),o=Do(t),r=n.visualViewport;let a=o.clientWidth,u=o.clientHeight,c=0,h=0;if(r){a=r.width,u=r.height;const m=f_();(!m||m&&e==="fixed")&&(c=r.offsetLeft,h=r.offsetTop)}const d=Ah(o);if(d<=0){const m=o.ownerDocument,y=m.body,S=getComputedStyle(y),E=m.compatMode==="CSS1Compat"&&parseFloat(S.marginLeft)+parseFloat(S.marginRight)||0,C=Math.abs(o.clientWidth-y.clientWidth-E);C<=cA&&(a-=C)}else d<=cA&&(a+=d);return{width:a,height:u,x:c,y:h}}const w5=new Set(["absolute","fixed"]);function T5(t,e){const n=Xr(t,!0,e==="fixed"),o=n.top+t.clientTop,r=n.left+t.clientLeft,a=Io(t)?ca(t):Mo(1),u=t.clientWidth*a.x,c=t.clientHeight*a.y,h=r*a.x,d=o*a.y;return{width:u,height:c,x:h,y:d}}function fA(t,e,n){let o;if(e==="viewport")o=b5(t,n);else if(e==="document")o=E5(Do(t));else if(ao(e))o=T5(e,n);else{const r=$I(t);o={x:e.x-r.x,y:e.y-r.y,width:e.width,height:e.height}}return Bd(o)}function VI(t,e){const n=nr(t);return n===e||!ao(n)||_a(n)?!1:lo(n).position==="fixed"||VI(n,e)}function C5(t,e){const n=e.get(t);if(n)return n;let o=du(t,[],!1).filter(c=>ao(c)&&Na(c)!=="body"),r=null;const a=lo(t).position==="fixed";let u=a?nr(t):t;for(;ao(u)&&!_a(u);){const c=lo(u),h=c_(u);!h&&c.position==="fixed"&&(r=null),(a?!h&&!r:!h&&c.position==="static"&&!!r&&w5.has(r.position)||Bu(u)&&!h&&VI(t,u))?o=o.filter(m=>m!==u):r=c,u=nr(u)}return e.set(t,o),o}function A5(t){let{element:e,boundary:n,rootBoundary:o,strategy:r}=t;const u=[...n==="clippingAncestors"?Th(e)?[]:C5(e,this._c):[].concat(n),o],c=u[0],h=u.reduce((d,m)=>{const y=fA(e,m,r);return d.top=gn(y.top,d.top),d.right=tr(y.right,d.right),d.bottom=tr(y.bottom,d.bottom),d.left=gn(y.left,d.left),d},fA(e,c,r));return{width:h.right-h.left,height:h.bottom-h.top,x:h.left,y:h.top}}function x5(t){const{width:e,height:n}=FI(t);return{width:e,height:n}}function R5(t,e,n){const o=Io(e),r=Do(e),a=n==="fixed",u=Xr(t,!0,a,e);let c={scrollLeft:0,scrollTop:0};const h=Mo(0);function d(){h.x=Ah(r)}if(o||!o&&!a)if((Na(e)!=="body"||Bu(r))&&(c=Ch(e)),o){const E=Xr(e,!0,a,e);h.x=E.x+e.clientLeft,h.y=E.y+e.clientTop}else r&&d();a&&!o&&r&&d();const m=r&&!o&&!a?GI(r,c):Mo(0),y=u.left+c.scrollLeft-h.x-m.x,S=u.top+c.scrollTop-h.y-m.y;return{x:y,y:S,width:u.width,height:u.height}}function Pg(t){return lo(t).position==="static"}function dA(t,e){if(!Io(t)||lo(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Do(t)===n&&(n=n.ownerDocument.body),n}function zI(t,e){const n=_n(t);if(Th(t))return n;if(!Io(t)){let r=nr(t);for(;r&&!_a(r);){if(ao(r)&&!Pg(r))return r;r=nr(r)}return n}let o=dA(t,e);for(;o&&c5(o)&&Pg(o);)o=dA(o,e);return o&&_a(o)&&Pg(o)&&!c_(o)?n:o||m5(t)||n}const M5=async function(t){const e=this.getOffsetParent||zI,n=this.getDimensions,o=await n(t.floating);return{reference:R5(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:o.width,height:o.height}}};function N5(t){return lo(t).direction==="rtl"}const I5={convertOffsetParentRelativeRectToViewportRelativeRect:_5,getDocumentElement:Do,getClippingRect:A5,getOffsetParent:zI,getElementRects:M5,getClientRects:S5,getDimensions:x5,getScale:ca,isElement:ao,isRTL:N5};function qI(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function D5(t,e){let n=null,o;const r=Do(t);function a(){var c;clearTimeout(o),(c=n)==null||c.disconnect(),n=null}function u(c,h){c===void 0&&(c=!1),h===void 0&&(h=1),a();const d=t.getBoundingClientRect(),{left:m,top:y,width:S,height:E}=d;if(c||e(),!S||!E)return;const C=Pf(y),A=Pf(r.clientWidth-(m+S)),x=Pf(r.clientHeight-(y+E)),M=Pf(m),N={rootMargin:-C+"px "+-A+"px "+-x+"px "+-M+"px",threshold:gn(0,tr(1,h))||1};let D=!0;function L(U){const O=U[0].intersectionRatio;if(O!==h){if(!D)return u();O?u(!1,O):o=setTimeout(()=>{u(!1,1e-7)},1e3)}O===1&&!qI(d,t.getBoundingClientRect())&&u(),D=!1}try{n=new IntersectionObserver(L,{...N,root:r.ownerDocument})}catch{n=new IntersectionObserver(L,N)}n.observe(t)}return u(!0),a}function O5(t,e,n,o){o===void 0&&(o={});const{ancestorScroll:r=!0,ancestorResize:a=!0,elementResize:u=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:h=!1}=o,d=d_(t),m=r||a?[...d?du(d):[],...du(e)]:[];m.forEach(M=>{r&&M.addEventListener("scroll",n,{passive:!0}),a&&M.addEventListener("resize",n)});const y=d&&c?D5(d,n):null;let S=-1,E=null;u&&(E=new ResizeObserver(M=>{let[I]=M;I&&I.target===d&&E&&(E.unobserve(e),cancelAnimationFrame(S),S=requestAnimationFrame(()=>{var N;(N=E)==null||N.observe(e)})),n()}),d&&!h&&E.observe(d),E.observe(e));let C,A=h?Xr(t):null;h&&x();function x(){const M=Xr(t);A&&!qI(A,M)&&n(),A=M,C=requestAnimationFrame(x)}return n(),()=>{var M;m.forEach(I=>{r&&I.removeEventListener("scroll",n),a&&I.removeEventListener("resize",n)}),y?.(),(M=E)==null||M.disconnect(),E=null,h&&cancelAnimationFrame(C)}}const P5=i5,k5=r5,L5=t5,U5=a5,B5=n5,hA=e5,H5=s5,F5=(t,e,n)=>{const o=new Map,r={platform:I5,...n},a={...r.platform,_c:o};return Z6(t,e,{...r,platform:a})};var $5=typeof document<"u",G5=function(){},od=$5?w.useLayoutEffect:G5;function Hd(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,o,r;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(o=n;o--!==0;)if(!Hd(t[o],e[o]))return!1;return!0}if(r=Object.keys(t),n=r.length,n!==Object.keys(e).length)return!1;for(o=n;o--!==0;)if(!{}.hasOwnProperty.call(e,r[o]))return!1;for(o=n;o--!==0;){const a=r[o];if(!(a==="_owner"&&t.$$typeof)&&!Hd(t[a],e[a]))return!1}return!0}return t!==t&&e!==e}function JI(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function pA(t,e){const n=JI(t);return Math.round(e*n)/n}function kg(t){const e=w.useRef(t);return od(()=>{e.current=t}),e}function V5(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:o=[],platform:r,elements:{reference:a,floating:u}={},transform:c=!0,whileElementsMounted:h,open:d}=t,[m,y]=w.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[S,E]=w.useState(o);Hd(S,o)||E(o);const[C,A]=w.useState(null),[x,M]=w.useState(null),I=w.useCallback(ee=>{ee!==U.current&&(U.current=ee,A(ee))},[]),N=w.useCallback(ee=>{ee!==O.current&&(O.current=ee,M(ee))},[]),D=a||C,L=u||x,U=w.useRef(null),O=w.useRef(null),q=w.useRef(m),J=h!=null,X=kg(h),W=kg(r),re=kg(d),oe=w.useCallback(()=>{if(!U.current||!O.current)return;const ee={placement:e,strategy:n,middleware:S};W.current&&(ee.platform=W.current),F5(U.current,O.current,ee).then(ne=>{const ce={...ne,isPositioned:re.current!==!1};ae.current&&!Hd(q.current,ce)&&(q.current=ce,Xd.flushSync(()=>{y(ce)}))})},[S,e,n,W,re]);od(()=>{d===!1&&q.current.isPositioned&&(q.current.isPositioned=!1,y(ee=>({...ee,isPositioned:!1})))},[d]);const ae=w.useRef(!1);od(()=>(ae.current=!0,()=>{ae.current=!1}),[]),od(()=>{if(D&&(U.current=D),L&&(O.current=L),D&&L){if(X.current)return X.current(D,L,oe);oe()}},[D,L,oe,X,J]);const de=w.useMemo(()=>({reference:U,floating:O,setReference:I,setFloating:N}),[I,N]),H=w.useMemo(()=>({reference:D,floating:L}),[D,L]),Q=w.useMemo(()=>{const ee={position:n,left:0,top:0};if(!H.floating)return ee;const ne=pA(H.floating,m.x),ce=pA(H.floating,m.y);return c?{...ee,transform:"translate("+ne+"px, "+ce+"px)",...JI(H.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:ne,top:ce}},[n,c,H.floating,m.x,m.y]);return w.useMemo(()=>({...m,update:oe,refs:de,elements:H,floatingStyles:Q}),[m,oe,de,H,Q])}const z5=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:o,padding:r}=typeof t=="function"?t(n):t;return o&&e(o)?o.current!=null?hA({element:o.current,padding:r}).fn(n):{}:o?hA({element:o,padding:r}).fn(n):{}}}},q5=(t,e)=>({...P5(t),options:[t,e]}),J5=(t,e)=>({...k5(t),options:[t,e]}),K5=(t,e)=>({...H5(t),options:[t,e]}),Y5=(t,e)=>({...L5(t),options:[t,e]}),X5=(t,e)=>({...U5(t),options:[t,e]}),j5=(t,e)=>({...B5(t),options:[t,e]}),W5=(t,e)=>({...z5(t),options:[t,e]});var Q5="Arrow",KI=w.forwardRef((t,e)=>{const{children:n,width:o=10,height:r=5,...a}=t;return T.jsx(Gt.svg,{...a,ref:e,width:o,height:r,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:T.jsx("polygon",{points:"0,0 30,0 15,10"})})});KI.displayName=Q5;var Z5=KI;function e8(t){const[e,n]=w.useState(void 0);return er(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const o=new ResizeObserver(r=>{if(!Array.isArray(r)||!r.length)return;const a=r[0];let u,c;if("borderBoxSize"in a){const h=a.borderBoxSize,d=Array.isArray(h)?h[0]:h;u=d.inlineSize,c=d.blockSize}else u=t.offsetWidth,c=t.offsetHeight;n({width:u,height:c})});return o.observe(t,{box:"border-box"}),()=>o.unobserve(t)}else n(void 0)},[t]),e}var h_="Popper",[YI,XI]=Uu(h_),[t8,jI]=YI(h_),WI=t=>{const{__scopePopper:e,children:n}=t,[o,r]=w.useState(null);return T.jsx(t8,{scope:e,anchor:o,onAnchorChange:r,children:n})};WI.displayName=h_;var QI="PopperAnchor",ZI=w.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:o,...r}=t,a=jI(QI,n),u=w.useRef(null),c=tn(e,u),h=w.useRef(null);return w.useEffect(()=>{const d=h.current;h.current=o?.current||u.current,d!==h.current&&a.onAnchorChange(h.current)}),o?null:T.jsx(Gt.div,{...r,ref:c})});ZI.displayName=QI;var p_="PopperContent",[n8,o8]=YI(p_),eD=w.forwardRef((t,e)=>{const{__scopePopper:n,side:o="bottom",sideOffset:r=0,align:a="center",alignOffset:u=0,arrowPadding:c=0,avoidCollisions:h=!0,collisionBoundary:d=[],collisionPadding:m=0,sticky:y="partial",hideWhenDetached:S=!1,updatePositionStrategy:E="optimized",onPlaced:C,...A}=t,x=jI(p_,n),[M,I]=w.useState(null),N=tn(e,ve=>I(ve)),[D,L]=w.useState(null),U=e8(D),O=U?.width??0,q=U?.height??0,J=o+(a!=="center"?"-"+a:""),X=typeof m=="number"?m:{top:0,right:0,bottom:0,left:0,...m},W=Array.isArray(d)?d:[d],re=W.length>0,oe={padding:X,boundary:W.filter(r8),altBoundary:re},{refs:ae,floatingStyles:de,placement:H,isPositioned:Q,middlewareData:ee}=V5({strategy:"fixed",placement:J,whileElementsMounted:(...ve)=>O5(...ve,{animationFrame:E==="always"}),elements:{reference:x.anchor},middleware:[q5({mainAxis:r+q,alignmentAxis:u}),h&&J5({mainAxis:!0,crossAxis:!1,limiter:y==="partial"?K5():void 0,...oe}),h&&Y5({...oe}),X5({...oe,apply:({elements:ve,rects:ze,availableWidth:qe,availableHeight:nn})=>{const{width:bn,height:fo}=ze.reference,Vt=ve.floating.style;Vt.setProperty("--radix-popper-available-width",`${qe}px`),Vt.setProperty("--radix-popper-available-height",`${nn}px`),Vt.setProperty("--radix-popper-anchor-width",`${bn}px`),Vt.setProperty("--radix-popper-anchor-height",`${fo}px`)}}),D&&W5({element:D,padding:c}),s8({arrowWidth:O,arrowHeight:q}),S&&j5({strategy:"referenceHidden",...oe})]}),[ne,ce]=oD(H),k=No(C);er(()=>{Q&&k?.()},[Q,k]);const Y=ee.arrow?.x,se=ee.arrow?.y,le=ee.arrow?.centerOffset!==0,[me,Ee]=w.useState();return er(()=>{M&&Ee(window.getComputedStyle(M).zIndex)},[M]),T.jsx("div",{ref:ae.setFloating,"data-radix-popper-content-wrapper":"",style:{...de,transform:Q?de.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:me,"--radix-popper-transform-origin":[ee.transformOrigin?.x,ee.transformOrigin?.y].join(" "),...ee.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:T.jsx(n8,{scope:n,placedSide:ne,onArrowChange:L,arrowX:Y,arrowY:se,shouldHideArrow:le,children:T.jsx(Gt.div,{"data-side":ne,"data-align":ce,...A,ref:N,style:{...A.style,animation:Q?void 0:"none"}})})})});eD.displayName=p_;var tD="PopperArrow",i8={top:"bottom",right:"left",bottom:"top",left:"right"},nD=w.forwardRef(function(e,n){const{__scopePopper:o,...r}=e,a=o8(tD,o),u=i8[a.placedSide];return T.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[u]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:T.jsx(Z5,{...r,ref:n,style:{...r.style,display:"block"}})})});nD.displayName=tD;function r8(t){return t!==null}var s8=t=>({name:"transformOrigin",options:t,fn(e){const{placement:n,rects:o,middlewareData:r}=e,u=r.arrow?.centerOffset!==0,c=u?0:t.arrowWidth,h=u?0:t.arrowHeight,[d,m]=oD(n),y={start:"0%",center:"50%",end:"100%"}[m],S=(r.arrow?.x??0)+c/2,E=(r.arrow?.y??0)+h/2;let C="",A="";return d==="bottom"?(C=u?y:`${S}px`,A=`${-h}px`):d==="top"?(C=u?y:`${S}px`,A=`${o.floating.height+h}px`):d==="right"?(C=`${-h}px`,A=u?y:`${E}px`):d==="left"&&(C=`${o.floating.width+h}px`,A=u?y:`${E}px`),{data:{x:C,y:A}}}});function oD(t){const[e,n="center"]=t.split("-");return[e,n]}var iD=WI,a8=ZI,l8=eD,u8=nD,c8="Portal",rD=w.forwardRef((t,e)=>{const{container:n,...o}=t,[r,a]=w.useState(!1);er(()=>a(!0),[]);const u=n||r&&globalThis?.document?.body;return u?Or.createPortal(T.jsx(Gt.div,{...o,ref:e}),u):null});rD.displayName=c8;function f8(t,e){return w.useReducer((n,o)=>e[n][o]??n,t)}var Hu=t=>{const{present:e,children:n}=t,o=d8(e),r=typeof n=="function"?n({present:o.isPresent}):w.Children.only(n),a=tn(o.ref,h8(r));return typeof n=="function"||o.isPresent?w.cloneElement(r,{ref:a}):null};Hu.displayName="Presence";function d8(t){const[e,n]=w.useState(),o=w.useRef(null),r=w.useRef(t),a=w.useRef("none"),u=t?"mounted":"unmounted",[c,h]=f8(u,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return w.useEffect(()=>{const d=kf(o.current);a.current=c==="mounted"?d:"none"},[c]),er(()=>{const d=o.current,m=r.current;if(m!==t){const S=a.current,E=kf(d);t?h("MOUNT"):E==="none"||d?.display==="none"?h("UNMOUNT"):h(m&&S!==E?"ANIMATION_OUT":"UNMOUNT"),r.current=t}},[t,h]),er(()=>{if(e){let d;const m=e.ownerDocument.defaultView??window,y=E=>{const A=kf(o.current).includes(CSS.escape(E.animationName));if(E.target===e&&A&&(h("ANIMATION_END"),!r.current)){const x=e.style.animationFillMode;e.style.animationFillMode="forwards",d=m.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=x)})}},S=E=>{E.target===e&&(a.current=kf(o.current))};return e.addEventListener("animationstart",S),e.addEventListener("animationcancel",y),e.addEventListener("animationend",y),()=>{m.clearTimeout(d),e.removeEventListener("animationstart",S),e.removeEventListener("animationcancel",y),e.removeEventListener("animationend",y)}}else h("ANIMATION_END")},[e,h]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:w.useCallback(d=>{o.current=d?getComputedStyle(d):null,n(d)},[])}}function kf(t){return t?.animationName||"none"}function h8(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var Lg="rovingFocusGroup.onEntryFocus",p8={bubbles:!1,cancelable:!0},Fu="RovingFocusGroup",[Yv,sD,m8]=MI(Fu),[g8,aD]=Uu(Fu,[m8]),[v8,y8]=g8(Fu),lD=w.forwardRef((t,e)=>T.jsx(Yv.Provider,{scope:t.__scopeRovingFocusGroup,children:T.jsx(Yv.Slot,{scope:t.__scopeRovingFocusGroup,children:T.jsx(_8,{...t,ref:e})})}));lD.displayName=Fu;var _8=w.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:o,loop:r=!1,dir:a,currentTabStopId:u,defaultCurrentTabStopId:c,onCurrentTabStopIdChange:h,onEntryFocus:d,preventScrollOnEntryFocus:m=!1,...y}=t,S=w.useRef(null),E=tn(e,S),C=NI(a),[A,x]=s_({prop:u,defaultProp:c??null,onChange:h,caller:Fu}),[M,I]=w.useState(!1),N=No(d),D=sD(n),L=w.useRef(!1),[U,O]=w.useState(0);return w.useEffect(()=>{const q=S.current;if(q)return q.addEventListener(Lg,N),()=>q.removeEventListener(Lg,N)},[N]),T.jsx(v8,{scope:n,orientation:o,dir:C,loop:r,currentTabStopId:A,onItemFocus:w.useCallback(q=>x(q),[x]),onItemShiftTab:w.useCallback(()=>I(!0),[]),onFocusableItemAdd:w.useCallback(()=>O(q=>q+1),[]),onFocusableItemRemove:w.useCallback(()=>O(q=>q-1),[]),children:T.jsx(Gt.div,{tabIndex:M||U===0?-1:0,"data-orientation":o,...y,ref:E,style:{outline:"none",...t.style},onMouseDown:He(t.onMouseDown,()=>{L.current=!0}),onFocus:He(t.onFocus,q=>{const J=!L.current;if(q.target===q.currentTarget&&J&&!M){const X=new CustomEvent(Lg,p8);if(q.currentTarget.dispatchEvent(X),!X.defaultPrevented){const W=D().filter(H=>H.focusable),re=W.find(H=>H.active),oe=W.find(H=>H.id===A),de=[re,oe,...W].filter(Boolean).map(H=>H.ref.current);fD(de,m)}}L.current=!1}),onBlur:He(t.onBlur,()=>I(!1))})})}),uD="RovingFocusGroupItem",cD=w.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:o=!0,active:r=!1,tabStopId:a,children:u,...c}=t,h=cu(),d=a||h,m=y8(uD,n),y=m.currentTabStopId===d,S=sD(n),{onFocusableItemAdd:E,onFocusableItemRemove:C,currentTabStopId:A}=m;return w.useEffect(()=>{if(o)return E(),()=>C()},[o,E,C]),T.jsx(Yv.ItemSlot,{scope:n,id:d,focusable:o,active:r,children:T.jsx(Gt.span,{tabIndex:y?0:-1,"data-orientation":m.orientation,...c,ref:e,onMouseDown:He(t.onMouseDown,x=>{o?m.onItemFocus(d):x.preventDefault()}),onFocus:He(t.onFocus,()=>m.onItemFocus(d)),onKeyDown:He(t.onKeyDown,x=>{if(x.key==="Tab"&&x.shiftKey){m.onItemShiftTab();return}if(x.target!==x.currentTarget)return;const M=b8(x,m.orientation,m.dir);if(M!==void 0){if(x.metaKey||x.ctrlKey||x.altKey||x.shiftKey)return;x.preventDefault();let N=S().filter(D=>D.focusable).map(D=>D.ref.current);if(M==="last")N.reverse();else if(M==="prev"||M==="next"){M==="prev"&&N.reverse();const D=N.indexOf(x.currentTarget);N=m.loop?w8(N,D+1):N.slice(D+1)}setTimeout(()=>fD(N))}}),children:typeof u=="function"?u({isCurrentTabStop:y,hasTabStop:A!=null}):u})})});cD.displayName=uD;var S8={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function E8(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function b8(t,e,n){const o=E8(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(o))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(o)))return S8[o]}function fD(t,e=!1){const n=document.activeElement;for(const o of t)if(o===n||(o.focus({preventScroll:e}),document.activeElement!==n))return}function w8(t,e){return t.map((n,o)=>t[(e+o)%t.length])}var T8=lD,C8=cD,A8=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Ks=new WeakMap,Lf=new WeakMap,Uf={},Ug=0,dD=function(t){return t&&(t.host||dD(t.parentNode))},x8=function(t,e){return e.map(function(n){if(t.contains(n))return n;var o=dD(n);return o&&t.contains(o)?o:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},R8=function(t,e,n,o){var r=x8(e,Array.isArray(t)?t:[t]);Uf[n]||(Uf[n]=new WeakMap);var a=Uf[n],u=[],c=new Set,h=new Set(r),d=function(y){!y||c.has(y)||(c.add(y),d(y.parentNode))};r.forEach(d);var m=function(y){!y||h.has(y)||Array.prototype.forEach.call(y.children,function(S){if(c.has(S))m(S);else try{var E=S.getAttribute(o),C=E!==null&&E!=="false",A=(Ks.get(S)||0)+1,x=(a.get(S)||0)+1;Ks.set(S,A),a.set(S,x),u.push(S),A===1&&C&&Lf.set(S,!0),x===1&&S.setAttribute(n,"true"),C||S.setAttribute(o,"true")}catch(M){console.error("aria-hidden: cannot operate on ",S,M)}})};return m(e),c.clear(),Ug++,function(){u.forEach(function(y){var S=Ks.get(y)-1,E=a.get(y)-1;Ks.set(y,S),a.set(y,E),S||(Lf.has(y)||y.removeAttribute(o),Lf.delete(y)),E||y.removeAttribute(n)}),Ug--,Ug||(Ks=new WeakMap,Ks=new WeakMap,Lf=new WeakMap,Uf={})}},M8=function(t,e,n){n===void 0&&(n="data-aria-hidden");var o=Array.from(Array.isArray(t)?t:[t]),r=A8(t);return r?(o.push.apply(o,Array.from(r.querySelectorAll("[aria-live], script"))),R8(o,r,n,"aria-hidden")):function(){return null}},So=function(){return So=Object.assign||function(e){for(var n,o=1,r=arguments.length;o<r;o++){n=arguments[o];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},So.apply(this,arguments)};function hD(t,e){var n={};for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&e.indexOf(o)<0&&(n[o]=t[o]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,o=Object.getOwnPropertySymbols(t);r<o.length;r++)e.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(t,o[r])&&(n[o[r]]=t[o[r]]);return n}function N8(t,e,n){if(n||arguments.length===2)for(var o=0,r=e.length,a;o<r;o++)(a||!(o in e))&&(a||(a=Array.prototype.slice.call(e,0,o)),a[o]=e[o]);return t.concat(a||Array.prototype.slice.call(e))}var id="right-scroll-bar-position",rd="width-before-scroll-bar",I8="with-scroll-bars-hidden",D8="--removed-body-scroll-bar-size";function Bg(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function O8(t,e){var n=w.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(o){var r=n.value;r!==o&&(n.value=o,n.callback(o,r))}}}})[0];return n.callback=e,n.facade}var P8=typeof window<"u"?w.useLayoutEffect:w.useEffect,mA=new WeakMap;function k8(t,e){var n=O8(null,function(o){return t.forEach(function(r){return Bg(r,o)})});return P8(function(){var o=mA.get(n);if(o){var r=new Set(o),a=new Set(t),u=n.current;r.forEach(function(c){a.has(c)||Bg(c,null)}),a.forEach(function(c){r.has(c)||Bg(c,u)})}mA.set(n,t)},[t]),n}function L8(t){return t}function U8(t,e){e===void 0&&(e=L8);var n=[],o=!1,r={read:function(){if(o)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(a){var u=e(a,o);return n.push(u),function(){n=n.filter(function(c){return c!==u})}},assignSyncMedium:function(a){for(o=!0;n.length;){var u=n;n=[],u.forEach(a)}n={push:function(c){return a(c)},filter:function(){return n}}},assignMedium:function(a){o=!0;var u=[];if(n.length){var c=n;n=[],c.forEach(a),u=n}var h=function(){var m=u;u=[],m.forEach(a)},d=function(){return Promise.resolve().then(h)};d(),n={push:function(m){u.push(m),d()},filter:function(m){return u=u.filter(m),n}}}};return r}function B8(t){t===void 0&&(t={});var e=U8(null);return e.options=So({async:!0,ssr:!1},t),e}var pD=function(t){var e=t.sideCar,n=hD(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var o=e.read();if(!o)throw new Error("Sidecar medium not found");return w.createElement(o,So({},n))};pD.isSideCarExport=!0;function H8(t,e){return t.useMedium(e),pD}var mD=B8(),Hg=function(){},xh=w.forwardRef(function(t,e){var n=w.useRef(null),o=w.useState({onScrollCapture:Hg,onWheelCapture:Hg,onTouchMoveCapture:Hg}),r=o[0],a=o[1],u=t.forwardProps,c=t.children,h=t.className,d=t.removeScrollBar,m=t.enabled,y=t.shards,S=t.sideCar,E=t.noRelative,C=t.noIsolation,A=t.inert,x=t.allowPinchZoom,M=t.as,I=M===void 0?"div":M,N=t.gapMode,D=hD(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),L=S,U=k8([n,e]),O=So(So({},D),r);return w.createElement(w.Fragment,null,m&&w.createElement(L,{sideCar:mD,removeScrollBar:d,shards:y,noRelative:E,noIsolation:C,inert:A,setCallbacks:a,allowPinchZoom:!!x,lockRef:n,gapMode:N}),u?w.cloneElement(w.Children.only(c),So(So({},O),{ref:U})):w.createElement(I,So({},O,{className:h,ref:U}),c))});xh.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};xh.classNames={fullWidth:rd,zeroRight:id};var F8=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function $8(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=F8();return e&&t.setAttribute("nonce",e),t}function G8(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function V8(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var z8=function(){var t=0,e=null;return{add:function(n){t==0&&(e=$8())&&(G8(e,n),V8(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},q8=function(){var t=z8();return function(e,n){w.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},gD=function(){var t=q8(),e=function(n){var o=n.styles,r=n.dynamic;return t(o,r),null};return e},J8={left:0,top:0,right:0,gap:0},Fg=function(t){return parseInt(t||"",10)||0},K8=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],o=e[t==="padding"?"paddingTop":"marginTop"],r=e[t==="padding"?"paddingRight":"marginRight"];return[Fg(n),Fg(o),Fg(r)]},Y8=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return J8;var e=K8(t),n=document.documentElement.clientWidth,o=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,o-n+e[2]-e[0])}},X8=gD(),fa="data-scroll-locked",j8=function(t,e,n,o){var r=t.left,a=t.top,u=t.right,c=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(I8,` {
   overflow: hidden `).concat(o,`;
   padding-right: `).concat(c,"px ").concat(o,`;
  }
  body[`).concat(fa,`] {
    overflow: hidden `).concat(o,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(o,";"),n==="margin"&&`
    padding-left: `.concat(r,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(u,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(c,"px ").concat(o,`;
    `),n==="padding"&&"padding-right: ".concat(c,"px ").concat(o,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(id,` {
    right: `).concat(c,"px ").concat(o,`;
  }
  
  .`).concat(rd,` {
    margin-right: `).concat(c,"px ").concat(o,`;
  }
  
  .`).concat(id," .").concat(id,` {
    right: 0 `).concat(o,`;
  }
  
  .`).concat(rd," .").concat(rd,` {
    margin-right: 0 `).concat(o,`;
  }
  
  body[`).concat(fa,`] {
    `).concat(D8,": ").concat(c,`px;
  }
`)},gA=function(){var t=parseInt(document.body.getAttribute(fa)||"0",10);return isFinite(t)?t:0},W8=function(){w.useEffect(function(){return document.body.setAttribute(fa,(gA()+1).toString()),function(){var t=gA()-1;t<=0?document.body.removeAttribute(fa):document.body.setAttribute(fa,t.toString())}},[])},Q8=function(t){var e=t.noRelative,n=t.noImportant,o=t.gapMode,r=o===void 0?"margin":o;W8();var a=w.useMemo(function(){return Y8(r)},[r]);return w.createElement(X8,{styles:j8(a,!e,r,n?"":"!important")})},Xv=!1;if(typeof window<"u")try{var Bf=Object.defineProperty({},"passive",{get:function(){return Xv=!0,!0}});window.addEventListener("test",Bf,Bf),window.removeEventListener("test",Bf,Bf)}catch{Xv=!1}var Ys=Xv?{passive:!1}:!1,Z8=function(t){return t.tagName==="TEXTAREA"},vD=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!Z8(t)&&n[e]==="visible")},eJ=function(t){return vD(t,"overflowY")},tJ=function(t){return vD(t,"overflowX")},vA=function(t,e){var n=e.ownerDocument,o=e;do{typeof ShadowRoot<"u"&&o instanceof ShadowRoot&&(o=o.host);var r=yD(t,o);if(r){var a=_D(t,o),u=a[1],c=a[2];if(u>c)return!0}o=o.parentNode}while(o&&o!==n.body);return!1},nJ=function(t){var e=t.scrollTop,n=t.scrollHeight,o=t.clientHeight;return[e,n,o]},oJ=function(t){var e=t.scrollLeft,n=t.scrollWidth,o=t.clientWidth;return[e,n,o]},yD=function(t,e){return t==="v"?eJ(e):tJ(e)},_D=function(t,e){return t==="v"?nJ(e):oJ(e)},iJ=function(t,e){return t==="h"&&e==="rtl"?-1:1},rJ=function(t,e,n,o,r){var a=iJ(t,window.getComputedStyle(e).direction),u=a*o,c=n.target,h=e.contains(c),d=!1,m=u>0,y=0,S=0;do{if(!c)break;var E=_D(t,c),C=E[0],A=E[1],x=E[2],M=A-x-a*C;(C||M)&&yD(t,c)&&(y+=M,S+=C);var I=c.parentNode;c=I&&I.nodeType===Node.DOCUMENT_FRAGMENT_NODE?I.host:I}while(!h&&c!==document.body||h&&(e.contains(c)||e===c));return(m&&Math.abs(y)<1||!m&&Math.abs(S)<1)&&(d=!0),d},Hf=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},yA=function(t){return[t.deltaX,t.deltaY]},_A=function(t){return t&&"current"in t?t.current:t},sJ=function(t,e){return t[0]===e[0]&&t[1]===e[1]},aJ=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},lJ=0,Xs=[];function uJ(t){var e=w.useRef([]),n=w.useRef([0,0]),o=w.useRef(),r=w.useState(lJ++)[0],a=w.useState(gD)[0],u=w.useRef(t);w.useEffect(function(){u.current=t},[t]),w.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(r));var A=N8([t.lockRef.current],(t.shards||[]).map(_A),!0).filter(Boolean);return A.forEach(function(x){return x.classList.add("allow-interactivity-".concat(r))}),function(){document.body.classList.remove("block-interactivity-".concat(r)),A.forEach(function(x){return x.classList.remove("allow-interactivity-".concat(r))})}}},[t.inert,t.lockRef.current,t.shards]);var c=w.useCallback(function(A,x){if("touches"in A&&A.touches.length===2||A.type==="wheel"&&A.ctrlKey)return!u.current.allowPinchZoom;var M=Hf(A),I=n.current,N="deltaX"in A?A.deltaX:I[0]-M[0],D="deltaY"in A?A.deltaY:I[1]-M[1],L,U=A.target,O=Math.abs(N)>Math.abs(D)?"h":"v";if("touches"in A&&O==="h"&&U.type==="range")return!1;var q=window.getSelection(),J=q&&q.anchorNode,X=J?J===U||J.contains(U):!1;if(X)return!1;var W=vA(O,U);if(!W)return!0;if(W?L=O:(L=O==="v"?"h":"v",W=vA(O,U)),!W)return!1;if(!o.current&&"changedTouches"in A&&(N||D)&&(o.current=L),!L)return!0;var re=o.current||L;return rJ(re,x,A,re==="h"?N:D)},[]),h=w.useCallback(function(A){var x=A;if(!(!Xs.length||Xs[Xs.length-1]!==a)){var M="deltaY"in x?yA(x):Hf(x),I=e.current.filter(function(L){return L.name===x.type&&(L.target===x.target||x.target===L.shadowParent)&&sJ(L.delta,M)})[0];if(I&&I.should){x.cancelable&&x.preventDefault();return}if(!I){var N=(u.current.shards||[]).map(_A).filter(Boolean).filter(function(L){return L.contains(x.target)}),D=N.length>0?c(x,N[0]):!u.current.noIsolation;D&&x.cancelable&&x.preventDefault()}}},[]),d=w.useCallback(function(A,x,M,I){var N={name:A,delta:x,target:M,should:I,shadowParent:cJ(M)};e.current.push(N),setTimeout(function(){e.current=e.current.filter(function(D){return D!==N})},1)},[]),m=w.useCallback(function(A){n.current=Hf(A),o.current=void 0},[]),y=w.useCallback(function(A){d(A.type,yA(A),A.target,c(A,t.lockRef.current))},[]),S=w.useCallback(function(A){d(A.type,Hf(A),A.target,c(A,t.lockRef.current))},[]);w.useEffect(function(){return Xs.push(a),t.setCallbacks({onScrollCapture:y,onWheelCapture:y,onTouchMoveCapture:S}),document.addEventListener("wheel",h,Ys),document.addEventListener("touchmove",h,Ys),document.addEventListener("touchstart",m,Ys),function(){Xs=Xs.filter(function(A){return A!==a}),document.removeEventListener("wheel",h,Ys),document.removeEventListener("touchmove",h,Ys),document.removeEventListener("touchstart",m,Ys)}},[]);var E=t.removeScrollBar,C=t.inert;return w.createElement(w.Fragment,null,C?w.createElement(a,{styles:aJ(r)}):null,E?w.createElement(Q8,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function cJ(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const fJ=H8(mD,uJ);var SD=w.forwardRef(function(t,e){return w.createElement(xh,So({},t,{ref:e,sideCar:fJ}))});SD.classNames=xh.classNames;var jv=["Enter"," "],dJ=["ArrowDown","PageUp","Home"],ED=["ArrowUp","PageDown","End"],hJ=[...dJ,...ED],pJ={ltr:[...jv,"ArrowRight"],rtl:[...jv,"ArrowLeft"]},mJ={ltr:["ArrowLeft"],rtl:["ArrowRight"]},$u="Menu",[hu,gJ,vJ]=MI($u),[ts,bD]=Uu($u,[vJ,XI,aD]),Gu=XI(),wD=aD(),[TD,ur]=ts($u),[yJ,Vu]=ts($u),CD=t=>{const{__scopeMenu:e,open:n=!1,children:o,dir:r,onOpenChange:a,modal:u=!0}=t,c=Gu(e),[h,d]=w.useState(null),m=w.useRef(!1),y=No(a),S=NI(r);return w.useEffect(()=>{const E=()=>{m.current=!0,document.addEventListener("pointerdown",C,{capture:!0,once:!0}),document.addEventListener("pointermove",C,{capture:!0,once:!0})},C=()=>m.current=!1;return document.addEventListener("keydown",E,{capture:!0}),()=>{document.removeEventListener("keydown",E,{capture:!0}),document.removeEventListener("pointerdown",C,{capture:!0}),document.removeEventListener("pointermove",C,{capture:!0})}},[]),T.jsx(iD,{...c,children:T.jsx(TD,{scope:e,open:n,onOpenChange:y,content:h,onContentChange:d,children:T.jsx(yJ,{scope:e,onClose:w.useCallback(()=>y(!1),[y]),isUsingKeyboardRef:m,dir:S,modal:u,children:o})})})};CD.displayName=$u;var _J="MenuAnchor",m_=w.forwardRef((t,e)=>{const{__scopeMenu:n,...o}=t,r=Gu(n);return T.jsx(a8,{...r,...o,ref:e})});m_.displayName=_J;var g_="MenuPortal",[SJ,AD]=ts(g_,{forceMount:void 0}),xD=t=>{const{__scopeMenu:e,forceMount:n,children:o,container:r}=t,a=ur(g_,e);return T.jsx(SJ,{scope:e,forceMount:n,children:T.jsx(Hu,{present:n||a.open,children:T.jsx(rD,{asChild:!0,container:r,children:o})})})};xD.displayName=g_;var Fn="MenuContent",[EJ,v_]=ts(Fn),RD=w.forwardRef((t,e)=>{const n=AD(Fn,t.__scopeMenu),{forceMount:o=n.forceMount,...r}=t,a=ur(Fn,t.__scopeMenu),u=Vu(Fn,t.__scopeMenu);return T.jsx(hu.Provider,{scope:t.__scopeMenu,children:T.jsx(Hu,{present:o||a.open,children:T.jsx(hu.Slot,{scope:t.__scopeMenu,children:u.modal?T.jsx(bJ,{...r,ref:e}):T.jsx(wJ,{...r,ref:e})})})})}),bJ=w.forwardRef((t,e)=>{const n=ur(Fn,t.__scopeMenu),o=w.useRef(null),r=tn(e,o);return w.useEffect(()=>{const a=o.current;if(a)return M8(a)},[]),T.jsx(y_,{...t,ref:r,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:He(t.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),wJ=w.forwardRef((t,e)=>{const n=ur(Fn,t.__scopeMenu);return T.jsx(y_,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),TJ=kd("MenuContent.ScrollLock"),y_=w.forwardRef((t,e)=>{const{__scopeMenu:n,loop:o=!1,trapFocus:r,onOpenAutoFocus:a,onCloseAutoFocus:u,disableOutsidePointerEvents:c,onEntryFocus:h,onEscapeKeyDown:d,onPointerDownOutside:m,onFocusOutside:y,onInteractOutside:S,onDismiss:E,disableOutsideScroll:C,...A}=t,x=ur(Fn,n),M=Vu(Fn,n),I=Gu(n),N=wD(n),D=gJ(n),[L,U]=w.useState(null),O=w.useRef(null),q=tn(e,O,x.onContentChange),J=w.useRef(0),X=w.useRef(""),W=w.useRef(0),re=w.useRef(null),oe=w.useRef("right"),ae=w.useRef(0),de=C?SD:w.Fragment,H=C?{as:TJ,allowPinchZoom:!0}:void 0,Q=ne=>{const ce=X.current+ne,k=D().filter(ve=>!ve.disabled),Y=document.activeElement,se=k.find(ve=>ve.ref.current===Y)?.textValue,le=k.map(ve=>ve.textValue),me=LJ(le,ce,se),Ee=k.find(ve=>ve.textValue===me)?.ref.current;(function ve(ze){X.current=ze,window.clearTimeout(J.current),ze!==""&&(J.current=window.setTimeout(()=>ve(""),1e3))})(ce),Ee&&setTimeout(()=>Ee.focus())};w.useEffect(()=>()=>window.clearTimeout(J.current),[]),D6();const ee=w.useCallback(ne=>oe.current===re.current?.side&&BJ(ne,re.current?.area),[]);return T.jsx(EJ,{scope:n,searchRef:X,onItemEnter:w.useCallback(ne=>{ee(ne)&&ne.preventDefault()},[ee]),onItemLeave:w.useCallback(ne=>{ee(ne)||(O.current?.focus(),U(null))},[ee]),onTriggerLeave:w.useCallback(ne=>{ee(ne)&&ne.preventDefault()},[ee]),pointerGraceTimerRef:W,onPointerGraceIntentChange:w.useCallback(ne=>{re.current=ne},[]),children:T.jsx(de,{...H,children:T.jsx(PI,{asChild:!0,trapped:r,onMountAutoFocus:He(a,ne=>{ne.preventDefault(),O.current?.focus({preventScroll:!0})}),onUnmountAutoFocus:u,children:T.jsx(DI,{asChild:!0,disableOutsidePointerEvents:c,onEscapeKeyDown:d,onPointerDownOutside:m,onFocusOutside:y,onInteractOutside:S,onDismiss:E,children:T.jsx(T8,{asChild:!0,...N,dir:M.dir,orientation:"vertical",loop:o,currentTabStopId:L,onCurrentTabStopIdChange:U,onEntryFocus:He(h,ne=>{M.isUsingKeyboardRef.current||ne.preventDefault()}),preventScrollOnEntryFocus:!0,children:T.jsx(l8,{role:"menu","aria-orientation":"vertical","data-state":qD(x.open),"data-radix-menu-content":"",dir:M.dir,...I,...A,ref:q,style:{outline:"none",...A.style},onKeyDown:He(A.onKeyDown,ne=>{const k=ne.target.closest("[data-radix-menu-content]")===ne.currentTarget,Y=ne.ctrlKey||ne.altKey||ne.metaKey,se=ne.key.length===1;k&&(ne.key==="Tab"&&ne.preventDefault(),!Y&&se&&Q(ne.key));const le=O.current;if(ne.target!==le||!hJ.includes(ne.key))return;ne.preventDefault();const Ee=D().filter(ve=>!ve.disabled).map(ve=>ve.ref.current);ED.includes(ne.key)&&Ee.reverse(),PJ(Ee)}),onBlur:He(t.onBlur,ne=>{ne.currentTarget.contains(ne.target)||(window.clearTimeout(J.current),X.current="")}),onPointerMove:He(t.onPointerMove,pu(ne=>{const ce=ne.target,k=ae.current!==ne.clientX;if(ne.currentTarget.contains(ce)&&k){const Y=ne.clientX>ae.current?"right":"left";oe.current=Y,ae.current=ne.clientX}}))})})})})})})});RD.displayName=Fn;var CJ="MenuGroup",__=w.forwardRef((t,e)=>{const{__scopeMenu:n,...o}=t;return T.jsx(Gt.div,{role:"group",...o,ref:e})});__.displayName=CJ;var AJ="MenuLabel",MD=w.forwardRef((t,e)=>{const{__scopeMenu:n,...o}=t;return T.jsx(Gt.div,{...o,ref:e})});MD.displayName=AJ;var Fd="MenuItem",SA="menu.itemSelect",Rh=w.forwardRef((t,e)=>{const{disabled:n=!1,onSelect:o,...r}=t,a=w.useRef(null),u=Vu(Fd,t.__scopeMenu),c=v_(Fd,t.__scopeMenu),h=tn(e,a),d=w.useRef(!1),m=()=>{const y=a.current;if(!n&&y){const S=new CustomEvent(SA,{bubbles:!0,cancelable:!0});y.addEventListener(SA,E=>o?.(E),{once:!0}),RI(y,S),S.defaultPrevented?d.current=!1:u.onClose()}};return T.jsx(ND,{...r,ref:h,disabled:n,onClick:He(t.onClick,m),onPointerDown:y=>{t.onPointerDown?.(y),d.current=!0},onPointerUp:He(t.onPointerUp,y=>{d.current||y.currentTarget?.click()}),onKeyDown:He(t.onKeyDown,y=>{const S=c.searchRef.current!=="";n||S&&y.key===" "||jv.includes(y.key)&&(y.currentTarget.click(),y.preventDefault())})})});Rh.displayName=Fd;var ND=w.forwardRef((t,e)=>{const{__scopeMenu:n,disabled:o=!1,textValue:r,...a}=t,u=v_(Fd,n),c=wD(n),h=w.useRef(null),d=tn(e,h),[m,y]=w.useState(!1),[S,E]=w.useState("");return w.useEffect(()=>{const C=h.current;C&&E((C.textContent??"").trim())},[a.children]),T.jsx(hu.ItemSlot,{scope:n,disabled:o,textValue:r??S,children:T.jsx(C8,{asChild:!0,...c,focusable:!o,children:T.jsx(Gt.div,{role:"menuitem","data-highlighted":m?"":void 0,"aria-disabled":o||void 0,"data-disabled":o?"":void 0,...a,ref:d,onPointerMove:He(t.onPointerMove,pu(C=>{o?u.onItemLeave(C):(u.onItemEnter(C),C.defaultPrevented||C.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:He(t.onPointerLeave,pu(C=>u.onItemLeave(C))),onFocus:He(t.onFocus,()=>y(!0)),onBlur:He(t.onBlur,()=>y(!1))})})})}),xJ="MenuCheckboxItem",ID=w.forwardRef((t,e)=>{const{checked:n=!1,onCheckedChange:o,...r}=t;return T.jsx(LD,{scope:t.__scopeMenu,checked:n,children:T.jsx(Rh,{role:"menuitemcheckbox","aria-checked":$d(n)?"mixed":n,...r,ref:e,"data-state":b_(n),onSelect:He(r.onSelect,()=>o?.($d(n)?!0:!n),{checkForDefaultPrevented:!1})})})});ID.displayName=xJ;var DD="MenuRadioGroup",[RJ,MJ]=ts(DD,{value:void 0,onValueChange:()=>{}}),OD=w.forwardRef((t,e)=>{const{value:n,onValueChange:o,...r}=t,a=No(o);return T.jsx(RJ,{scope:t.__scopeMenu,value:n,onValueChange:a,children:T.jsx(__,{...r,ref:e})})});OD.displayName=DD;var PD="MenuRadioItem",kD=w.forwardRef((t,e)=>{const{value:n,...o}=t,r=MJ(PD,t.__scopeMenu),a=n===r.value;return T.jsx(LD,{scope:t.__scopeMenu,checked:a,children:T.jsx(Rh,{role:"menuitemradio","aria-checked":a,...o,ref:e,"data-state":b_(a),onSelect:He(o.onSelect,()=>r.onValueChange?.(n),{checkForDefaultPrevented:!1})})})});kD.displayName=PD;var S_="MenuItemIndicator",[LD,NJ]=ts(S_,{checked:!1}),UD=w.forwardRef((t,e)=>{const{__scopeMenu:n,forceMount:o,...r}=t,a=NJ(S_,n);return T.jsx(Hu,{present:o||$d(a.checked)||a.checked===!0,children:T.jsx(Gt.span,{...r,ref:e,"data-state":b_(a.checked)})})});UD.displayName=S_;var IJ="MenuSeparator",BD=w.forwardRef((t,e)=>{const{__scopeMenu:n,...o}=t;return T.jsx(Gt.div,{role:"separator","aria-orientation":"horizontal",...o,ref:e})});BD.displayName=IJ;var DJ="MenuArrow",HD=w.forwardRef((t,e)=>{const{__scopeMenu:n,...o}=t,r=Gu(n);return T.jsx(u8,{...r,...o,ref:e})});HD.displayName=DJ;var E_="MenuSub",[OJ,FD]=ts(E_),$D=t=>{const{__scopeMenu:e,children:n,open:o=!1,onOpenChange:r}=t,a=ur(E_,e),u=Gu(e),[c,h]=w.useState(null),[d,m]=w.useState(null),y=No(r);return w.useEffect(()=>(a.open===!1&&y(!1),()=>y(!1)),[a.open,y]),T.jsx(iD,{...u,children:T.jsx(TD,{scope:e,open:o,onOpenChange:y,content:d,onContentChange:m,children:T.jsx(OJ,{scope:e,contentId:cu(),triggerId:cu(),trigger:c,onTriggerChange:h,children:n})})})};$D.displayName=E_;var ql="MenuSubTrigger",GD=w.forwardRef((t,e)=>{const n=ur(ql,t.__scopeMenu),o=Vu(ql,t.__scopeMenu),r=FD(ql,t.__scopeMenu),a=v_(ql,t.__scopeMenu),u=w.useRef(null),{pointerGraceTimerRef:c,onPointerGraceIntentChange:h}=a,d={__scopeMenu:t.__scopeMenu},m=w.useCallback(()=>{u.current&&window.clearTimeout(u.current),u.current=null},[]);return w.useEffect(()=>m,[m]),w.useEffect(()=>{const y=c.current;return()=>{window.clearTimeout(y),h(null)}},[c,h]),T.jsx(m_,{asChild:!0,...d,children:T.jsx(ND,{id:r.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":r.contentId,"data-state":qD(n.open),...t,ref:bh(e,r.onTriggerChange),onClick:y=>{t.onClick?.(y),!(t.disabled||y.defaultPrevented)&&(y.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:He(t.onPointerMove,pu(y=>{a.onItemEnter(y),!y.defaultPrevented&&!t.disabled&&!n.open&&!u.current&&(a.onPointerGraceIntentChange(null),u.current=window.setTimeout(()=>{n.onOpenChange(!0),m()},100))})),onPointerLeave:He(t.onPointerLeave,pu(y=>{m();const S=n.content?.getBoundingClientRect();if(S){const E=n.content?.dataset.side,C=E==="right",A=C?-5:5,x=S[C?"left":"right"],M=S[C?"right":"left"];a.onPointerGraceIntentChange({area:[{x:y.clientX+A,y:y.clientY},{x,y:S.top},{x:M,y:S.top},{x:M,y:S.bottom},{x,y:S.bottom}],side:E}),window.clearTimeout(c.current),c.current=window.setTimeout(()=>a.onPointerGraceIntentChange(null),300)}else{if(a.onTriggerLeave(y),y.defaultPrevented)return;a.onPointerGraceIntentChange(null)}})),onKeyDown:He(t.onKeyDown,y=>{const S=a.searchRef.current!=="";t.disabled||S&&y.key===" "||pJ[o.dir].includes(y.key)&&(n.onOpenChange(!0),n.content?.focus(),y.preventDefault())})})})});GD.displayName=ql;var VD="MenuSubContent",zD=w.forwardRef((t,e)=>{const n=AD(Fn,t.__scopeMenu),{forceMount:o=n.forceMount,...r}=t,a=ur(Fn,t.__scopeMenu),u=Vu(Fn,t.__scopeMenu),c=FD(VD,t.__scopeMenu),h=w.useRef(null),d=tn(e,h);return T.jsx(hu.Provider,{scope:t.__scopeMenu,children:T.jsx(Hu,{present:o||a.open,children:T.jsx(hu.Slot,{scope:t.__scopeMenu,children:T.jsx(y_,{id:c.contentId,"aria-labelledby":c.triggerId,...r,ref:d,align:"start",side:u.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:m=>{u.isUsingKeyboardRef.current&&h.current?.focus(),m.preventDefault()},onCloseAutoFocus:m=>m.preventDefault(),onFocusOutside:He(t.onFocusOutside,m=>{m.target!==c.trigger&&a.onOpenChange(!1)}),onEscapeKeyDown:He(t.onEscapeKeyDown,m=>{u.onClose(),m.preventDefault()}),onKeyDown:He(t.onKeyDown,m=>{const y=m.currentTarget.contains(m.target),S=mJ[u.dir].includes(m.key);y&&S&&(a.onOpenChange(!1),c.trigger?.focus(),m.preventDefault())})})})})})});zD.displayName=VD;function qD(t){return t?"open":"closed"}function $d(t){return t==="indeterminate"}function b_(t){return $d(t)?"indeterminate":t?"checked":"unchecked"}function PJ(t){const e=document.activeElement;for(const n of t)if(n===e||(n.focus(),document.activeElement!==e))return}function kJ(t,e){return t.map((n,o)=>t[(e+o)%t.length])}function LJ(t,e,n){const r=e.length>1&&Array.from(e).every(d=>d===e[0])?e[0]:e,a=n?t.indexOf(n):-1;let u=kJ(t,Math.max(a,0));r.length===1&&(u=u.filter(d=>d!==n));const h=u.find(d=>d.toLowerCase().startsWith(r.toLowerCase()));return h!==n?h:void 0}function UJ(t,e){const{x:n,y:o}=t;let r=!1;for(let a=0,u=e.length-1;a<e.length;u=a++){const c=e[a],h=e[u],d=c.x,m=c.y,y=h.x,S=h.y;m>o!=S>o&&n<(y-d)*(o-m)/(S-m)+d&&(r=!r)}return r}function BJ(t,e){if(!e)return!1;const n={x:t.clientX,y:t.clientY};return UJ(n,e)}function pu(t){return e=>e.pointerType==="mouse"?t(e):void 0}var HJ=CD,FJ=m_,$J=xD,GJ=RD,VJ=__,zJ=MD,qJ=Rh,JJ=ID,KJ=OD,YJ=kD,XJ=UD,jJ=BD,WJ=HD,QJ=$D,ZJ=GD,eK=zD,Mh="DropdownMenu",[tK]=Uu(Mh,[bD]),Ut=bD(),[nK,JD]=tK(Mh),KD=t=>{const{__scopeDropdownMenu:e,children:n,dir:o,open:r,defaultOpen:a,onOpenChange:u,modal:c=!0}=t,h=Ut(e),d=w.useRef(null),[m,y]=s_({prop:r,defaultProp:a??!1,onChange:u,caller:Mh});return T.jsx(nK,{scope:e,triggerId:cu(),triggerRef:d,contentId:cu(),open:m,onOpenChange:y,onOpenToggle:w.useCallback(()=>y(S=>!S),[y]),modal:c,children:T.jsx(HJ,{...h,open:m,onOpenChange:y,dir:o,modal:c,children:n})})};KD.displayName=Mh;var YD="DropdownMenuTrigger",XD=w.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,disabled:o=!1,...r}=t,a=JD(YD,n),u=Ut(n);return T.jsx(FJ,{asChild:!0,...u,children:T.jsx(Gt.button,{type:"button",id:a.triggerId,"aria-haspopup":"menu","aria-expanded":a.open,"aria-controls":a.open?a.contentId:void 0,"data-state":a.open?"open":"closed","data-disabled":o?"":void 0,disabled:o,...r,ref:bh(e,a.triggerRef),onPointerDown:He(t.onPointerDown,c=>{!o&&c.button===0&&c.ctrlKey===!1&&(a.onOpenToggle(),a.open||c.preventDefault())}),onKeyDown:He(t.onKeyDown,c=>{o||(["Enter"," "].includes(c.key)&&a.onOpenToggle(),c.key==="ArrowDown"&&a.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(c.key)&&c.preventDefault())})})})});XD.displayName=YD;var oK="DropdownMenuPortal",jD=t=>{const{__scopeDropdownMenu:e,...n}=t,o=Ut(e);return T.jsx($J,{...o,...n})};jD.displayName=oK;var WD="DropdownMenuContent",QD=w.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...o}=t,r=JD(WD,n),a=Ut(n),u=w.useRef(!1);return T.jsx(GJ,{id:r.contentId,"aria-labelledby":r.triggerId,...a,...o,ref:e,onCloseAutoFocus:He(t.onCloseAutoFocus,c=>{u.current||r.triggerRef.current?.focus(),u.current=!1,c.preventDefault()}),onInteractOutside:He(t.onInteractOutside,c=>{const h=c.detail.originalEvent,d=h.button===0&&h.ctrlKey===!0,m=h.button===2||d;(!r.modal||m)&&(u.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});QD.displayName=WD;var iK="DropdownMenuGroup",rK=w.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...o}=t,r=Ut(n);return T.jsx(VJ,{...r,...o,ref:e})});rK.displayName=iK;var sK="DropdownMenuLabel",aK=w.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...o}=t,r=Ut(n);return T.jsx(zJ,{...r,...o,ref:e})});aK.displayName=sK;var lK="DropdownMenuItem",uK=w.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...o}=t,r=Ut(n);return T.jsx(qJ,{...r,...o,ref:e})});uK.displayName=lK;var cK="DropdownMenuCheckboxItem",fK=w.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...o}=t,r=Ut(n);return T.jsx(JJ,{...r,...o,ref:e})});fK.displayName=cK;var dK="DropdownMenuRadioGroup",hK=w.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...o}=t,r=Ut(n);return T.jsx(KJ,{...r,...o,ref:e})});hK.displayName=dK;var pK="DropdownMenuRadioItem",mK=w.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...o}=t,r=Ut(n);return T.jsx(YJ,{...r,...o,ref:e})});mK.displayName=pK;var gK="DropdownMenuItemIndicator",vK=w.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...o}=t,r=Ut(n);return T.jsx(XJ,{...r,...o,ref:e})});vK.displayName=gK;var yK="DropdownMenuSeparator",_K=w.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...o}=t,r=Ut(n);return T.jsx(jJ,{...r,...o,ref:e})});_K.displayName=yK;var SK="DropdownMenuArrow",EK=w.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...o}=t,r=Ut(n);return T.jsx(WJ,{...r,...o,ref:e})});EK.displayName=SK;var bK=t=>{const{__scopeDropdownMenu:e,children:n,open:o,onOpenChange:r,defaultOpen:a}=t,u=Ut(e),[c,h]=s_({prop:o,defaultProp:a??!1,onChange:r,caller:"DropdownMenuSub"});return T.jsx(QJ,{...u,open:c,onOpenChange:h,children:n})},wK="DropdownMenuSubTrigger",ZD=w.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...o}=t,r=Ut(n);return T.jsx(ZJ,{...r,...o,ref:e})});ZD.displayName=wK;var TK="DropdownMenuSubContent",eO=w.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...o}=t,r=Ut(n);return T.jsx(eK,{...r,...o,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});eO.displayName=TK;var CK=KD,AK=XD,xK=jD,RK=QD,EA=bK,bA=ZD,wA=eO;const MK=wt(({scene:t})=>{if(!t.sceneJson||!t.sceneJson.data)return null;const e=t.sceneJson.data.tags,n=t.project?.artbook,o=a=>{t.addTag(a)};if(!n)return null;const r=a=>T.jsxs(CK,{children:[T.jsx(AK,{className:"dropdown-trigger",children:"Add Tag"}),T.jsx(xK,{children:T.jsx(RK,{className:"dropdown-content",align:"start",children:Object.entries(a).map(([u,c])=>T.jsxs(EA,{children:[T.jsx(bA,{className:"submenu-trigger",children:u}),T.jsx(wA,{className:"dropdown-content",children:Object.entries(c).map(([h,d])=>T.jsxs(EA,{children:[T.jsx(bA,{className:"submenu-trigger",children:h}),T.jsx(wA,{className:"dropdown-content",children:d.map(m=>T.jsx(d6,{art:m,onClick:()=>o(m.path)},m.path))})]},h))})]},u))})})]});return T.jsx(Lu,{label:"Tags",headerExtra:T.jsxs("div",{className:"d-flex align-items-center gap-2",children:[r(n.data),T.jsx(r_,{onClick:()=>{t.generateTags()},className:"btn-outline-success",label:"Generate Tags",is_loading:t.is_generating_tags}),T.jsx(ct,{onClick:()=>t.project?.artbook?.log(),label:"Log"})]}),children:e.length?T.jsx("ul",{className:"list-group list-group-flush",children:e.map((a,u)=>{const c=n.getTag(a);return c?T.jsx("li",{className:"list-group-item",children:T.jsx(f6,{art:c,scene:t})},u):null})}):T.jsx("div",{children:"No tags yet."})})}),sd=({value:t,options:e,onChange:n,label:o,className:r=""})=>T.jsxs("div",{className:"btn-group",role:"group",children:[o&&T.jsx("span",{className:"btn btn-sm btn-outline-secondary disabled",children:o}),T.jsx("div",{className:`btn btn-sm btn-outline-secondary p-0 ${r}`,children:T.jsx("select",{className:"form-select form-select-sm border-0 rounded-0",value:t,onChange:a=>n?.(a.target.value),children:e.map(a=>T.jsx("option",{value:a,children:a},a))})})]}),Gd=({isLoading:t,className:e="",asButton:n=!1})=>{const o=T.jsx("span",{className:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true",style:{animation:t?void 0:"none",borderColor:t?void 0:"#6c757d"}});return n?T.jsx("button",{type:"button",className:`btn btn-sm btn-outline-secondary disabled d-flex align-items-center justify-content-center ${e}`,tabIndex:-1,style:{pointerEvents:"none"},children:o}):T.jsx("span",{className:e,children:o})},tO=({buttons:t,content:e,className:n=""})=>{const[o,r]=w.useState(!1);return T.jsxs("div",{className:`w-100 ${n}`,style:{display:"inline-block"},children:[T.jsxs("div",{className:"btn-group",role:"group",children:[t,T.jsx("button",{className:"btn btn-sm btn-outline-secondary",onClick:()=>r(a=>!a),"aria-label":"Toggle settings",type:"button",style:{borderBottomRightRadius:o?0:void 0},children:""})]}),o&&T.jsx("div",{className:"w-100 border p-2",style:{borderTopLeftRadius:0,borderTopRightRadius:5,borderBottomLeftRadius:5,borderBottomRightRadius:5,backgroundColor:"#383838ff",marginTop:0},children:e})]})},NK=wt(({scene:t})=>{if(!t.sceneJson)return T.jsx("div",{children:"No scene data available."});const e=async()=>{window.confirm(`Are you sure you want to delete scene "${t.folder.name}"?`)&&await t.delete()},n=async()=>{t.createShotsFromShotsJson()};return T.jsxs("div",{children:[T.jsxs("div",{style:{marginBottom:"10px"},children:[T.jsx(ct,{onClick:e,label:"Delete Scene",className:"btn-outline-danger"}),T.jsx(ct,{onClick:()=>t.log(),label:"LOG"})]}),T.jsx(tO,{className:"mb-2",buttons:T.jsxs(T.Fragment,{children:[T.jsx("button",{className:"btn btn-sm btn-outline-success",onClick:async()=>{const o=await t.generateShotsJson();t.sceneJson?.updateField("shotsjson",o)},children:" Split Into Shots "}),T.jsx(sd,{value:t.project.workflows.split_scene_into_shots.model,options:CI,onChange:o=>{t.project.updateWorkflow("split_scene_into_shots","model",o)}}),T.jsx(Gd,{isLoading:t.is_generating_shotsjson,asButton:!0})]}),content:T.jsxs(T.Fragment,{children:[T.jsx(Zn,{localJson:t.sceneJson,field:"split_prompt",fitHeight:!0}),T.jsx(Zn,{localJson:t.project.projinfo,field:"workflows/split_scene_into_shots/system_message",fitHeight:!0}),T.jsx(Zn,{localJson:t.project.projinfo,field:"workflows/split_scene_into_shots/prompt",fitHeight:!0})]})}),T.jsx(Zn,{localJson:t.sceneJson,field:"script",fitHeight:!0}),T.jsx(Zn,{localJson:t.sceneJson,field:"shotsjson",fitHeight:!0,headerExtra:T.jsx(ct,{onClick:n,label:"Create Shots"})}),T.jsx(MK,{scene:t}),T.jsx("div",{style:{height:"500px"}})]})}),nO=({label:t,value:e,onToggle:n,useIndicator:o=!1})=>o?T.jsx("div",{onClick:()=>n(!e),style:{width:"16px",height:"16px",borderRadius:"50%",backgroundColor:e?"green":"transparent",border:"2px solid green",cursor:"pointer"}}):T.jsx("button",{className:`btn btn-sm ${e?"btn-success":"btn-outline-secondary"}`,onClick:()=>n(!e),children:t}),$g="https://cdn.pixabay.com/photo/2021/05/09/06/07/dog-6240043_1280.jpg",IK=wt(({shot:t,isSelected:e,onClick:n})=>{const[o,r]=w.useState($g);return w.useEffect(()=>{let a=!1;return(async()=>{if(t.srcImage)try{const c=await t.srcImage.getUrlObject();!a&&c&&r(c)}catch(c){console.error("Failed to load srcImage URL:",c),a||r($g)}else r($g)})(),()=>{a=!0}},[t.srcImage]),T.jsxs("div",{className:"flex-shrink-0 border rounded position-relative d-flex align-items-center justify-content-center",style:{height:"100%",cursor:"pointer",borderWidth:e?2:1,borderColor:e?"#0d6efd":"#dee2e6"},onClick:()=>n(t),children:[T.jsx("img",{src:o,alt:t.folder.name,className:"img-fluid",style:{height:"100%",width:"auto",objectFit:"contain",display:"block"}}),T.jsx("div",{className:"position-absolute text-white px-1",style:{bottom:0,left:0,backgroundColor:"rgba(0,0,0,0.5)",fontSize:"0.75rem",borderTopRightRadius:"4px"},children:t.folder.name}),T.jsx("div",{className:"position-absolute",style:{top:2,right:2},onClick:a=>a.stopPropagation(),children:T.jsx(nO,{label:"Finished",value:!!t.shotJson?.data?.finished,useIndicator:!0,onToggle:a=>{t.shotJson&&t.shotJson.updateField("finished",a)}})})]})}),DK=({initialHeight:t=80,minHeight:e=30,children:n})=>{const[o,r]=w.useState(t),a=w.useRef(null),u=w.useRef(!1),c=y=>{u.current=!0,y.preventDefault()},h=y=>{if(!u.current||!a.current)return;const S=a.current.getBoundingClientRect(),E=y.clientY-S.top;E>e&&r(E)},d=()=>{u.current=!1};w.useEffect(()=>(window.addEventListener("mousemove",h),window.addEventListener("mouseup",d),()=>{window.removeEventListener("mousemove",h),window.removeEventListener("mouseup",d)}),[]);const m=6;return T.jsxs("div",{ref:a,className:"position-relative",style:{height:`${o}px`},children:[T.jsx("div",{style:{height:"100%",paddingBottom:`${m}px`,boxSizing:"border-box"},children:n}),T.jsx("div",{style:{position:"absolute",bottom:0,left:0,right:0,height:`${m}px`,cursor:"ns-resize",zIndex:10,backgroundColor:"#0d6efd",opacity:.5},onMouseDown:c})]})},TA=({label:t="Media Gallery",children:e,defaultCollapsed:n=!1,className:o="",headerExtra:r})=>T.jsx(Lu,{label:t,defaultCollapsed:n,className:o,headerExtra:r,children:T.jsx("div",{className:"d-flex flex-wrap gap-2",children:e})}),OK=({localImage:t,height:e=150,topRightExtra:n,onClick:o})=>{const[r,a]=w.useState(null),[u,c]=w.useState(!1);return w.useEffect(()=>{let h=!0;return(async()=>{try{const m=await t.getUrlObject();h&&m&&a(m)}catch(m){console.error("Error loading LocalImage",m)}})(),()=>{h=!1}},[t]),r?T.jsxs("div",{className:"position-relative d-inline-block border rounded",style:{height:`${e}px`,cursor:"pointer"},onMouseEnter:()=>c(!0),onMouseLeave:()=>c(!1),children:[T.jsx("img",{src:r,alt:"Media",className:"img-fluid",onClick:o,style:{height:`${e}px`,width:"auto",objectFit:"contain",display:"block"}}),n&&u&&T.jsx("div",{className:"position-absolute",style:{top:"5px",right:"5px",zIndex:10,display:"flex",gap:"5px"},children:n})]}):T.jsx("div",{className:"d-flex align-items-center justify-content-center border rounded p-2",style:{height:`${e}px`,width:"auto"},children:"Loading..."})};function it(t,e="Assertion error"){if(!t)throw Error(e)}function Wv(t,e){return e.sort(t==="horizontal"?PK:kK)}function PK(t,e){const n=t.element.offsetLeft-e.element.offsetLeft;return n!==0?n:t.element.offsetWidth-e.element.offsetWidth}function kK(t,e){const n=t.element.offsetTop-e.element.offsetTop;return n!==0?n:t.element.offsetHeight-e.element.offsetHeight}function Nh({group:t}){const{orientation:e,panels:n}=t;return n.reduce((o,r)=>(o+=e==="horizontal"?r.element.offsetWidth:r.element.offsetHeight,o),0)}function oO(t){const{element:e,orientation:n,panels:o,separators:r}=t,a=Wv(n,Array.from(e.children).filter(d=>d instanceof HTMLElement).map(d=>({element:d}))).map(({element:d})=>d),u=[];let c,h;for(const d of a){const m=o.find(y=>y.element===d);if(m){if(c){const y=c.element.getBoundingClientRect(),S=d.getBoundingClientRect();u.push({group:t,groupSize:Nh({group:t}),panels:[c,m],separator:h,rect:n==="horizontal"?new DOMRect(y.right,S.top,S.left-y.right,S.height):new DOMRect(S.left,y.bottom,S.width,S.top-y.bottom)})}c=m,h=void 0}else{const y=r.find(S=>S.element===d);y?h=y:(c=void 0,h=void 0)}}return u}function LK(t,e){const n=getComputedStyle(t),o=parseFloat(n.fontSize);return e*o}function UK(t,e){const n=getComputedStyle(t.ownerDocument.body),o=parseFloat(n.fontSize);return e*o}function BK(t){return t/100*window.innerHeight}function HK(t){return t/100*window.innerWidth}function FK(t){switch(typeof t){case"number":return[t,"px"];case"string":{const e=parseFloat(t);return t.endsWith("%")?[e,"%"]:t.endsWith("px")?[e,"px"]:t.endsWith("rem")?[e,"rem"]:t.endsWith("em")?[e,"em"]:t.endsWith("vh")?[e,"vh"]:t.endsWith("vw")?[e,"vw"]:[e,"%"]}}}function Ff({groupSize:t,panelElement:e,styleProp:n}){let o;const[r,a]=FK(n);switch(a){case"%":{o=r/100*t;break}case"px":{o=r;break}case"rem":{o=UK(e,r);break}case"em":{o=LK(e,r);break}case"vh":{o=BK(r);break}case"vw":{o=HK(r);break}}return o}function eo(t){return parseFloat(t.toFixed(3))}function CA(t){const{panels:e}=t,n=Nh({group:t});return e.map(o=>{const{element:r,panelConstraints:a}=o;let u=0;if(a.collapsedSize){const m=Ff({groupSize:n,panelElement:r,styleProp:a.collapsedSize});u=eo(m/n*100)}let c;if(a.defaultSize){const m=Ff({groupSize:n,panelElement:r,styleProp:a.defaultSize});c=eo(m/n*100)}let h=0;if(a.minSize){const m=Ff({groupSize:n,panelElement:r,styleProp:a.minSize});h=eo(m/n*100)}let d=100;if(a.maxSize){const m=Ff({groupSize:n,panelElement:r,styleProp:a.maxSize});d=eo(m/n*100)}return{collapsedSize:u,collapsible:a.collapsible===!0,defaultSize:c,minSize:h,maxSize:d,panelId:o.id}})}class $K{#e={};addListener(e,n){const o=this.#e[e];return o===void 0?this.#e[e]=[n]:o.includes(n)||o.push(n),()=>{this.removeListener(e,n)}}emit(e,n){const o=this.#e[e];if(o!==void 0)if(o.length===1)o[0].call(null,n);else{let r=!1,a=null;const u=Array.from(o);for(let c=0;c<u.length;c++){const h=u[c];try{h.call(null,n)}catch(d){a===null&&(r=!0,a=d)}}if(r)throw a}}removeAllListeners(){this.#e={}}removeListener(e,n){const o=this.#e[e];if(o!==void 0){const r=o.indexOf(n);r>=0&&o.splice(r,1)}}}function $t(t,e,n=0){return Math.abs(eo(t)-eo(e))<=n}let On={cursorFlags:0,interactionState:{state:"inactive"},mountedGroups:new Map};const Br=new $K;function Oo(){return On}function $n(t){const e=typeof t=="function"?t(On):t;if(On===e)return On;const n=On;return On={...On,...e},e.cursorFlags!==void 0&&Br.emit("cursorFlagsChange",On.cursorFlags),e.interactionState!==void 0&&Br.emit("interactionStateChange",On.interactionState),e.mountedGroups!==void 0&&(On.mountedGroups.forEach((o,r)=>{o.derivedPanelConstraints.forEach(a=>{if(a.collapsible){const{layout:u}=n.mountedGroups.get(r)??{};if(u){const c=$t(a.collapsedSize,o.layout[a.panelId]),h=$t(a.collapsedSize,u[a.panelId]);c&&!h&&(r.inMemoryLastExpandedPanelSizes[a.panelId]=u[a.panelId])}}})}),Br.emit("mountedGroupsChange",On.mountedGroups)),On}const GK=t=>t,Gg=()=>{},iO=1,rO=2,sO=4,aO=8,AA={coarse:10,precise:5};function VK({cursorFlags:t,groups:e,state:n}){let o=0,r=0;switch(n){case"active":case"hover":e.forEach(a=>{if(!a.disableCursor)switch(a.orientation){case"horizontal":{o++;break}case"vertical":{r++;break}}})}if(o===0&&r===0)return null;switch(n){case"active":{const a=(t&iO)!==0,u=(t&rO)!==0,c=(t&sO)!==0,h=(t&aO)!==0;if(t){if(a)return c?"se-resize":h?"ne-resize":"e-resize";if(u)return c?"sw-resize":h?"nw-resize":"w-resize";if(c)return"s-resize";if(h)return"n-resize"}break}}return o>0&&r>0?"move":o>0?"ew-resize":"ns-resize"}let Vg,yo;function w_(){yo===void 0&&(yo=new CSSStyleSheet,document.adoptedStyleSheets=[yo]);const{cursorFlags:t,interactionState:e}=Oo();switch(e.state){case"active":case"hover":{const n=VK({cursorFlags:t,groups:e.hitRegions.map(r=>r.group),state:e.state}),o=`*{cursor: ${n} !important; ${e.state==="active"?"touch-action: none;":""} }`;if(Vg===o)return;Vg=o,n?yo.cssRules.length===0?yo.insertRule(o):yo.replaceSync(o):yo.cssRules.length===1&&yo.deleteRule(0);break}case"inactive":{Vg=void 0,yo.cssRules.length===1&&yo.deleteRule(0);break}}}function zK(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!=e[n])return!1;return!0}function mu(t,e){return $t(t,e)?0:t>e?1:-1}function sa({panelConstraints:t,size:e}){const{collapsedSize:n=0,collapsible:o,maxSize:r=100,minSize:a=0}=t;if(mu(e,a)<0)if(o){const u=(n+a)/2;mu(e,u)<0?e=n:e=a}else e=a;return e=Math.min(r,e),e=eo(e),e}function gu({delta:t,initialLayout:e,panelConstraints:n,pivotIndices:o,prevLayout:r,trigger:a}){if($t(t,0))return e;const u=Object.values(e),c=Object.values(r),h=[...u],[d,m]=o;it(d!=null,"Invalid first pivot index"),it(m!=null,"Invalid second pivot index");let y=0;if(a==="keyboard"){{const C=t<0?m:d,A=n[C];it(A,`Panel constraints not found for index ${C}`);const{collapsedSize:x=0,collapsible:M,minSize:I=0}=A;if(M){const N=u[C];if(it(N!=null,`Previous layout not found for panel index ${C}`),$t(N,x)){const D=I-N;mu(D,Math.abs(t))>0&&(t=t<0?0-D:D)}}}{const C=t<0?d:m,A=n[C];it(A,`No panel constraints found for index ${C}`);const{collapsedSize:x=0,collapsible:M,minSize:I=0}=A;if(M){const N=u[C];if(it(N!=null,`Previous layout not found for panel index ${C}`),$t(N,I)){const D=N-x;mu(D,Math.abs(t))>0&&(t=t<0?0-D:D)}}}}{const C=t<0?1:-1;let A=t<0?m:d,x=0;for(;;){const I=u[A];it(I!=null,`Previous layout not found for panel index ${A}`);const N=sa({panelConstraints:n[A],size:100})-I;if(x+=N,A+=C,A<0||A>=n.length)break}const M=Math.min(Math.abs(t),Math.abs(x));t=t<0?0-M:M}{let C=t<0?d:m;for(;C>=0&&C<n.length;){const A=Math.abs(t)-Math.abs(y),x=u[C];it(x!=null,`Previous layout not found for panel index ${C}`);const M=x-A,I=sa({panelConstraints:n[C],size:M});if(!$t(x,I)&&(y+=x-I,h[C]=I,y.toFixed(3).localeCompare(Math.abs(t).toFixed(3),void 0,{numeric:!0})>=0))break;t<0?C--:C++}}if(zK(c,h))return r;{const C=t<0?m:d,A=u[C];it(A!=null,`Previous layout not found for panel index ${C}`);const x=A+y,M=sa({panelConstraints:n[C],size:x});if(h[C]=M,!$t(M,x)){let I=x-M,N=t<0?m:d;for(;N>=0&&N<n.length;){const D=h[N];it(D!=null,`Previous layout not found for panel index ${N}`);const L=D+I,U=sa({panelConstraints:n[N],size:L});if($t(D,U)||(I-=U-D,h[N]=U),$t(I,0))break;t>0?N--:N++}}}const S=Object.values(h).reduce((C,A)=>A+C,0);if(!$t(S,100,.1))return r;const E=Object.keys(r);return h.reduce((C,A,x)=>(C[E[x]]=A,C),{})}function zu(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(mu(t[n],e[n])!==0)return!1;return!0}function lO({event:t,hitRegions:e,initialLayoutMap:n,mountedGroups:o,pointerDownAtPoint:r}){let a=0;const u=new Map(o);e.forEach(c=>{const{group:h,groupSize:d}=c,{disableCursor:m,orientation:y,panels:S}=h;let E=0;r?y==="horizontal"?E=(t.clientX-r.x)/d*100:E=(t.clientY-r.y)/d*100:y==="horizontal"?E=t.clientX<0?-100:100:E=t.clientY<0?-100:100;const C=n.get(h),{derivedPanelConstraints:A,layout:x,separatorToPanels:M}=o.get(h)??{};if(A&&C&&x&&M){const I=gu({delta:E,initialLayout:C,panelConstraints:A,pivotIndices:c.panels.map(N=>S.indexOf(N)),prevLayout:x,trigger:"mouse-or-touch"});if(zu(I,x)){if(E!==0&&!m)switch(y){case"horizontal":{a|=E<0?iO:rO;break}case"vertical":{a|=E<0?sO:aO;break}}}else{u.set(c.group,{derivedPanelConstraints:A,layout:I,separatorToPanels:M});const N=c.group.panels.map(({id:D})=>D).join(",");c.group.inMemoryLayouts[N]=I}}}),$n({cursorFlags:a,mountedGroups:u}),w_()}function xA(t){if(t.defaultPrevented||t.relatedTarget!==null||t.clientX===0&&t.clientY===0)return;const{interactionState:e,mountedGroups:n}=Oo();switch(e.state){case"active":e.hitRegions.forEach(o=>{t.currentTarget===o.group.element&&lO({event:t,hitRegions:e.hitRegions,initialLayoutMap:e.initialLayoutMap,mountedGroups:n})})}}function ad(t){const e=t.parentElement;it(e,"Parent group element not found");const{mountedGroups:n}=Oo();for(const[o]of n)if(o.element===e)return o;throw Error("Could not find parent Group for separator element")}function jr({layout:t,panelConstraints:e}){const n=[...Object.values(t)],o=n.reduce((u,c)=>u+c,0);if(n.length!==e.length)throw Error(`Invalid ${e.length} panel layout: ${n.map(u=>`${u}%`).join(", ")}`);if(!$t(o,100)&&n.length>0)for(let u=0;u<e.length;u++){const c=n[u];it(c!=null,`No layout data found for index ${u}`);const h=100/o*c;n[u]=h}let r=0;for(let u=0;u<e.length;u++){const c=n[u];it(c!=null,`No layout data found for index ${u}`);const h=sa({panelConstraints:e[u],size:c});c!=h&&(r+=c-h,n[u]=h)}if(!$t(r,0))for(let u=0;u<e.length;u++){const c=n[u];it(c!=null,`No layout data found for index ${u}`);const h=c+r,d=sa({panelConstraints:e[u],size:h});if(c!==d&&(r-=d-c,n[u]=d,$t(r,0)))break}const a=Object.keys(t);return n.reduce((u,c,h)=>(u[a[h]]=c,u),{})}function uO({groupId:t}){const e=()=>{const{mountedGroups:n}=Oo();for(const[o,r]of n)if(o.id===t)return{group:o,...r};throw Error(`Group ${t} not found`)};return{getLayout(){const{layout:n}=e();return n},setLayout(n){const{derivedPanelConstraints:o,group:r,layout:a,separatorToPanels:u}=e(),c=jr({layout:n,panelConstraints:o});return zu(a,c)||$n(h=>({mountedGroups:new Map(h.mountedGroups).set(r,{derivedPanelConstraints:o,layout:c,separatorToPanels:u})})),c}}}function cO(t){const{mountedGroups:e}=Oo(),n=e.get(t);return it(n,`Mounted Group ${t.id} not found`),n}function Mr(t,e){const n=ad(t),o=cO(n),r=n.separators.find(m=>m.element===t);it(r,"Matching separator not found");const a=o.separatorToPanels.get(r);it(a,"Matching panels not found");const u=a.map(m=>n.panels.indexOf(m)),c=uO({groupId:n.id}).getLayout(),h=gu({delta:e,initialLayout:c,panelConstraints:o.derivedPanelConstraints,pivotIndices:u,prevLayout:c,trigger:"keyboard"}),d=jr({layout:h,panelConstraints:o.derivedPanelConstraints});zu(c,d)||$n(m=>({mountedGroups:new Map(m.mountedGroups).set(n,{derivedPanelConstraints:o.derivedPanelConstraints,layout:d,separatorToPanels:o.separatorToPanels})}))}function RA(t){if(t.defaultPrevented)return;const e=t.currentTarget,n=ad(e);if(!n.disabled)switch(t.key){case"ArrowDown":{t.preventDefault(),n.orientation==="vertical"&&Mr(e,5);break}case"ArrowLeft":{t.preventDefault(),n.orientation==="horizontal"&&Mr(e,-5);break}case"ArrowRight":{t.preventDefault(),n.orientation==="horizontal"&&Mr(e,5);break}case"ArrowUp":{t.preventDefault(),n.orientation==="vertical"&&Mr(e,-5);break}case"End":{t.preventDefault(),Mr(e,100);break}case"Enter":{t.preventDefault();const o=ad(e),{derivedPanelConstraints:r,layout:a,separatorToPanels:u}=cO(o),c=o.separators.find(y=>y.element===e);it(c,"Matching separator not found");const h=u.get(c);it(h,"Matching panels not found");const d=h[0],m=r.find(y=>y.panelId===d.id);if(it(m,"Panel metadata not found"),m.collapsible){const y=a[d.id],S=m.collapsedSize===y?o.inMemoryLastExpandedPanelSizes[d.id]??m.minSize:m.collapsedSize;Mr(e,S-y)}break}case"F6":{t.preventDefault();const o=ad(e).separators.map(u=>u.element),r=Array.from(o).findIndex(u=>u===t.currentTarget);it(r!==null,"Index not found");const a=t.shiftKey?r>0?r-1:o.length-1:r+1<o.length?r+1:0;o[a].focus();break}case"Home":{t.preventDefault(),Mr(e,-100);break}}}function qK(t,e){return{x:t.x>=e.left&&t.x<=e.right?0:Math.min(Math.abs(t.x-e.left),Math.abs(t.x-e.right)),y:t.y>=e.top&&t.y<=e.bottom?0:Math.min(Math.abs(t.y-e.top),Math.abs(t.y-e.bottom))}}function JK(t,e,n){let o,r={x:1/0,y:1/0};for(const a of e){const u=qK(n,a.rect);switch(t){case"horizontal":{u.x<=r.x&&(o=a,r=u);break}case"vertical":{u.y<=r.y&&(o=a,r=u);break}}}return o?{distance:r,hitRegion:o}:void 0}let $f;function KK(){return $f===void 0&&(typeof matchMedia=="function"?$f=!!matchMedia("(pointer:coarse)").matches:$f=!1),$f}function fO(t,e){const n=[];return e.forEach((o,r)=>{if(r.disabled)return;const a=KK()?AA.coarse:AA.precise,u=oO(r),c=JK(r.orientation,u,{x:t.clientX,y:t.clientY});c&&c.distance.x<=a&&c.distance.y<=a&&n.push(c.hitRegion)}),n}function MA(t){if(t.defaultPrevented)return;const{mountedGroups:e}=Oo(),n=fO(t,e),o=new Set,r=new Set,a=new Set,u=new Map;let c=!1;n.forEach(h=>{o.add(h.group),h.panels.forEach(m=>{r.add(m)}),h.separator&&(a.add(h.separator),c||(c=!0,h.separator.element.focus()));const d=e.get(h.group);d&&u.set(h.group,d.layout)}),$n({interactionState:{hitRegions:n,initialLayoutMap:u,pointerDownAtPoint:{x:t.clientX,y:t.clientY},state:"active"}}),n.length&&t.preventDefault()}function NA(t){if(t.defaultPrevented)return;const{interactionState:e,mountedGroups:n}=Oo();switch(e.state){case"active":{if(t.type!=="pointerleave"&&t.buttons===0){$n(o=>o.interactionState.state==="inactive"?o:{cursorFlags:0,interactionState:{state:"inactive"}});return}lO({event:t,hitRegions:e.hitRegions,initialLayoutMap:e.initialLayoutMap,mountedGroups:n,pointerDownAtPoint:e.pointerDownAtPoint});break}default:{const o=fO(t,n);o.length===0?e.state!=="inactive"&&$n({interactionState:{state:"inactive"}}):$n({interactionState:{hitRegions:o,state:"hover"}}),w_();break}}}function IA(t){if(t.defaultPrevented)return;t.preventDefault();const{interactionState:e}=Oo();switch(e.state){case"active":$n({cursorFlags:0,interactionState:{state:"inactive"}}),w_()}}function YK(t){let e=0,n=0;const o={};for(const a of t)if(a.defaultSize!==void 0){e++;const u=eo(a.defaultSize);n+=u,o[a.panelId]=u}else o[a.panelId]=void 0;const r=t.length-e;if(r!==0){const a=eo((100-n)/r);for(const u of t)u.defaultSize===void 0&&(o[u.panelId]=a)}return o}function XK(t,e,n){const o=n[0];if(!o)return;const r=t.panels.find(u=>u.element===e);if(!r||!r.onResize)return;const a=Nh({group:t});r.onResize({asPercentage:eo(o.inlineSize/a*100),inPixels:o.inlineSize},r.id)}function jK(t){let e=!0;it(t.separators.length===0||t.separators.length<t.panels.length,"Invalid Group configuration; too many Separator components");const n=new Set,o=new Set,r=new ResizeObserver(y=>{for(const S of y){const{borderBoxSize:E,target:C}=S;C===t.element?e&&$n(A=>{const x=A.mountedGroups.get(t);if(x){const M=CA(t),I=x.layout,N=jr({layout:I,panelConstraints:M});return{mountedGroups:new Map(A.mountedGroups).set(t,{derivedPanelConstraints:M,layout:N,separatorToPanels:x.separatorToPanels})}}return A}):XK(t,C,E)}});r.observe(t.element),t.panels.forEach(y=>{it(!n.has(y.id),`Panel ids must be unique; id "${y.id}" was used more than once`),n.add(y.id),y.onResize&&r.observe(y.element)});const a=CA(t),u=t.panels.map(({id:y})=>y).join(","),c=t.inMemoryLayouts[u]??t.defaultLayout??YK(a),h=jr({layout:c,panelConstraints:a}),d=oO(t),m=$n(y=>({mountedGroups:new Map(y.mountedGroups).set(t,{derivedPanelConstraints:a,layout:h,separatorToPanels:new Map(d.filter(S=>S.separator).map(S=>[S.separator,S.panels]))})}));return t.element.addEventListener("pointerleave",xA),t.separators.forEach(y=>{it(!o.has(y.id),`Separator ids must be unique; id "${y.id}" was used more than once`),o.add(y.id),y.element.addEventListener("keydown",RA)}),m.mountedGroups.size===1&&(window.addEventListener("pointerdown",MA),window.addEventListener("pointermove",NA),window.addEventListener("pointerup",IA)),function(){e=!1;const y=$n(S=>{const E=new Map(S.mountedGroups);return E.delete(t),{mountedGroups:E}});t.element.removeEventListener("pointerleave",xA),t.separators.forEach(S=>{S.element.removeEventListener("keydown",RA)}),y.mountedGroups.size===0&&(window.removeEventListener("pointerdown",MA),window.removeEventListener("pointermove",NA),window.removeEventListener("pointerup",IA)),r.disconnect()}}function T_(t){const e=w.useId();return`${t??e}`}const Ia=typeof window<"u"?w.useLayoutEffect:w.useEffect;function C_(t){const e=w.useRef(t);return Ia(()=>{e.current=t},[t]),w.useCallback(n=>e.current?.(n),[e])}function A_(...t){return C_(e=>{t.forEach(n=>{if(n)switch(typeof n){case"function":{n(e);break}case"object":{n.current=e;break}}})})}const dO="--react-resizable-panels--panel--pointer-events";function hO(t,e){const n=t.replace(/[^a-zA-Z0-9\-_]/g,""),o=e.replace(/[^a-zA-Z0-9\-_]/g,"");return`--react-resizable-panels--${n}--${o}`}const pO=w.createContext(null);function WK(t,e){const n=w.useRef({getLayout:()=>({}),setLayout:GK});w.useImperativeHandle(e,()=>n.current,[]),Ia(()=>{Object.assign(n.current,uO({groupId:t}))})}function QK({children:t,className:e,defaultLayout:n,disableCursor:o,disabled:r,elementRef:a,groupRef:u,id:c,onLayoutChange:h,orientation:d="horizontal",style:m,...y}){const S=w.useRef({}),E=C_(ae=>{zu(S.current,ae)||(S.current=ae,h?.(ae))}),C=T_(c),[A,x]=w.useState(!1),[M,I]=w.useState(null),[N,D]=w.useState(n??{}),[L,U]=w.useState([]),[O,q]=w.useState([]),J=w.useRef({}),X=w.useRef({}),W=A_(I,a);WK(C,u);const re=w.useMemo(()=>({id:C,orientation:d,registerPanel:ae=>(U(de=>Wv(d,[...de,ae])),()=>{U(de=>de.filter(H=>H!==ae))}),registerSeparator:ae=>(q(de=>Wv(d,[...de,ae])),()=>{q(de=>de.filter(H=>H!==ae))})}),[C,d]);Ia(()=>{if(M!==null&&L.length>0){const ae={defaultLayout:n,disableCursor:!!o,disabled:!!r,element:M,id:C,inMemoryLastExpandedPanelSizes:J.current,inMemoryLayouts:X.current,orientation:d,panels:L,separators:O},de=jK(ae),H=Oo().mountedGroups.get(ae);H&&(D(H.layout),E?.(H.layout));const Q=Br.addListener("interactionStateChange",ne=>{switch(ne.state){case"active":case"hover":{x(ne.hitRegions.some(ce=>ce.group===ae));break}}}),ee=Br.addListener("mountedGroupsChange",ne=>{const ce=ne.get(ae);ce&&ce.derivedPanelConstraints.length>0&&(D(ce.layout),E?.(ce.layout))});return()=>{de(),Q(),ee()}}},[n,o,r,M,C,E,d,L,O]);const oe={[dO]:A?"none":void 0};for(const ae in N){const de=hO(C,ae),H=N[ae];oe[de]=H}return T.jsx(pO.Provider,{value:re,children:T.jsx("div",{...y,"aria-orientation":d,className:e,"data-group":!0,"data-testid":C,id:C,ref:W,style:{...m,...oe,display:"flex",flexDirection:d==="horizontal"?"row":"column",flexWrap:"nowrap"},children:t})})}function x_(){const t=w.useContext(pO);return it(t,"Group Context not found; did you render a Panel or Separator outside of a Group?"),t}function ZK({groupId:t,panelId:e}){const n=()=>{const{mountedGroups:c}=Oo();for(const[h,{derivedPanelConstraints:d,layout:m,separatorToPanels:y}]of c)if(h.id===t)return{derivedPanelConstraints:d,group:h,layout:m,separatorToPanels:y};throw Error(`Group ${t} not found`)},o=()=>{const c=n().derivedPanelConstraints.find(h=>h.panelId===e);if(c!==void 0)return c;throw Error(`Panel constraints not found for Panel ${e}`)},r=()=>{const c=n().group.panels.find(h=>h.id===e);if(c!==void 0)return c;throw Error(`Layout not found for Panel ${e}`)},a=()=>{const c=n().layout[e];if(c!==void 0)return c;throw Error(`Layout not found for Panel ${e}`)},u=c=>{const h=a();if(c===h)return;const{derivedPanelConstraints:d,group:m,layout:y,separatorToPanels:S}=n(),E=m.panels.findIndex(M=>M.id===e),C=E===m.panels.length-1,A=gu({delta:C?h-c:c-h,initialLayout:y,panelConstraints:d,pivotIndices:C?[E-1,E]:[E,E+1],prevLayout:y,trigger:"imperative-api"}),x=jr({layout:A,panelConstraints:d});zu(y,x)||$n(M=>({mountedGroups:new Map(M.mountedGroups).set(m,{derivedPanelConstraints:d,layout:x,separatorToPanels:S})}))};return{collapse:()=>{const{collapsible:c,collapsedSize:h}=o(),d=a();c&&d!==h&&u(h)},expand:()=>{const{collapsible:c,collapsedSize:h,minSize:d}=o(),m=a();c&&m===h&&u(d)},getSize:()=>{const{group:c}=n(),h=a(),{element:d}=r(),m=c.orientation==="horizontal"?d.offsetWidth:d.offsetHeight;return{asPercentage:h,inPixels:m}},isCollapsed:()=>{const{collapsible:c,collapsedSize:h}=o(),d=a();return c&&$t(h,d)},resize:c=>{if(a()!==c){let h;switch(typeof c){case"number":{const{group:d}=n(),m=Nh({group:d});h=eo(c/m*100);break}case"string":{h=parseFloat(c);break}}u(h)}}}}function eY(t,e){const{id:n}=x_(),o=w.useRef({collapse:Gg,expand:Gg,getSize:()=>({asPercentage:0,inPixels:0}),isCollapsed:()=>!1,resize:Gg});w.useImperativeHandle(e,()=>o.current,[]),Ia(()=>{Object.assign(o.current,ZK({groupId:n,panelId:t}))})}function DA({children:t,className:e,collapsedSize:n="0%",collapsible:o=!1,defaultSize:r,elementRef:a,id:u,maxSize:c="100%",minSize:h="0%",onResize:d,panelRef:m,style:y,...S}){const E=!!u,C=T_(u),[A,x]=w.useState(null),M=A_(x,a),{id:I,registerPanel:N}=x_(),D=d!==null,L=C_(O=>{d?.(O,u)});Ia(()=>{if(A!==null)return N({element:A,id:C,idIsStable:E,onResize:D?L:void 0,panelConstraints:{collapsedSize:n,collapsible:o,defaultSize:r,maxSize:c,minSize:h}})},[n,o,r,A,D,C,E,c,h,L,N]),eY(C,m);const U=hO(I,C);return T.jsx("div",{...S,"data-panel":!0,"data-testid":C,id:C,ref:M,style:{...tY,flexBasis:0,flexGrow:`var(${U}, 1)`,flexShrink:1,overflow:"hidden",pointerEvents:`var(${dO})`},children:T.jsx("div",{className:e,style:{width:"100%",height:"100%",...y},children:t})})}const tY={minHeight:"unset",maxHeight:"unset",height:"unset",minWidth:"unset",maxWidth:"unset",width:"unset",flex:"unset",flexBasis:"unset",flexShrink:"unset",flexGrow:"unset",border:"unset",borderWidth:"unset",padding:"unset",margin:"unset"};function nY({layout:t,panelConstraints:e,panelId:n,panelIndex:o}){let r,a;const u=t[n],c=e.find(h=>h.panelId===n);if(c){const h=c.maxSize,d=a=c.collapsible?c.collapsedSize:c.minSize,m=[o,o+1];a=jr({layout:gu({delta:d-u,initialLayout:t,panelConstraints:e,pivotIndices:m,prevLayout:t,trigger:"keyboard"}),panelConstraints:e})[n],r=jr({layout:gu({delta:h-u,initialLayout:t,panelConstraints:e,pivotIndices:m,prevLayout:t,trigger:"keyboard"}),panelConstraints:e})[n]}return{valueControls:n,valueMax:r,valueMin:a,valueNow:u}}function oY({children:t,className:e,elementRef:n,id:o,style:r,...a}){const u=T_(o),[c,h]=w.useState({}),[d,m]=w.useState("inactive"),[y,S]=w.useState(null),E=A_(S,n),{id:C,orientation:A,registerSeparator:x}=x_(),M=A==="horizontal"?"vertical":"horizontal";return Ia(()=>{if(y!==null){const I={element:y,id:u},N=x(I),D=Br.addListener("interactionStateChange",U=>{m(U.state!=="inactive"&&U.hitRegions.some(O=>O.separator===I)?U.state:"inactive")}),L=Br.addListener("mountedGroupsChange",U=>{U.forEach(({derivedPanelConstraints:O,layout:q,separatorToPanels:J},X)=>{if(X.id===C){const W=J.get(I);if(W){const re=W[0],oe=X.panels.indexOf(re);h(nY({layout:q,panelConstraints:O,panelId:re.id,panelIndex:oe}))}}})});return()=>{D(),L(),N()}}},[y,C,u,x]),T.jsx("div",{...a,"aria-controls":c.valueControls,"aria-orientation":M,"aria-valuemax":c.valueMax,"aria-valuemin":c.valueMin,"aria-valuenow":c.valueNow,children:t,className:e,"data-separator":d,"data-testid":u,id:u,ref:E,role:"separator",style:{flexBasis:"auto",...r,flexGrow:0,flexShrink:0},tabIndex:0})}const iY=({localImage:t,initialText:e="",onImageGenerated:n,onClose:o})=>{const[r,a]=w.useState(null),[u,c]=w.useState(e),[h,d]=w.useState(!1);w.useEffect(()=>{let y=!0;return t.getUrlObject().then(S=>{y&&a(S)}),()=>{y=!1}},[t]);const m=async()=>{d(!0);try{const y=await t.getBase64(),S=await ua.img2img(u||"","",[{rawBase64:y.rawBase64,mime:y.mime,description:""}]);n&&n(S)}catch(y){console.error("GenerateImage failed:",y)}finally{d(!1)}};return T.jsx("div",{className:"border d-flex flex-column",style:{height:"700px"},children:T.jsxs(QK,{orientation:"horizontal",style:{height:"100%"},children:[T.jsx(DA,{defaultSize:500,minSize:10,children:T.jsx("div",{className:"d-flex align-items-center justify-content-center overflow-hidden",style:{height:"100%"},children:r?T.jsx("img",{src:r,alt:"Preview",className:"img-fluid",style:{objectFit:"contain",maxHeight:"100%",maxWidth:"100%"}}):T.jsx("div",{children:"Loading image"})})}),T.jsx(oY,{style:{cursor:"ew-resize",backgroundColor:"#8f8f8fff",width:"10px"}}),T.jsx(DA,{minSize:10,children:T.jsxs("div",{className:"d-flex flex-column h-100 p-3",style:{height:"100%"},children:[T.jsx("div",{className:"d-flex justify-content-end mb-2",children:o&&T.jsx("button",{type:"button",onClick:o,style:{cursor:"pointer"},children:""})}),T.jsxs("div",{className:"flex-grow-1 d-flex flex-column",children:[T.jsx("textarea",{value:u,onChange:y=>c(y.target.value),placeholder:"Edit This Image:",style:{flexGrow:1,resize:"none",padding:"8px",fontSize:"14px"}}),T.jsx(r_,{onClick:m,label:"Generate",is_loading:h})]})]})})]})})},rY=wt(({shot:t})=>{const e=t.scene;if(!e.sceneJson||!e.sceneJson.data)return null;const n=e.sceneJson.data.tags,o=e.project?.artbook;return o?T.jsx(Lu,{label:"Tags",children:n.length?T.jsx("ul",{className:"list-group list-group-flush",children:n.map((r,a)=>{const u=o.getTag(r);if(!u)return null;const c=!t.getSkippedTags().includes(u.path);return T.jsxs("li",{className:"list-group-item p-0 border-0 d-flex align-items-center gap-2",children:[T.jsx("input",{type:"checkbox",className:"form-check-input m-0",checked:c,onChange:h=>{t.setTagSkipped(u.path,!h.target.checked)}}),T.jsx("span",{className:c?"":"text-muted",children:u.path})]},a)})}):T.jsx("div",{children:"No tags."})}):null}),sY={submitted:"gray",processing:"orange",succeed:"green",failed:"red"},aY=wt(({task:t})=>{const n=t.data?.status??"submitted",o=sY[n]??"gray";return T.jsx("div",{className:"card mb-0",children:T.jsxs("div",{className:"card-body d-flex align-items-center justify-content-between py-0",children:[T.jsxs("div",{className:"d-flex align-items-center gap-2",children:[T.jsx("div",{style:{width:12,height:12,borderRadius:"50%",backgroundColor:o}}),T.jsx("span",{className:"fw-bold",children:t.id}),T.jsx("span",{className:"text-muted",children:n})]}),T.jsxs("div",{className:"d-flex gap-0",children:[T.jsx("span",{className:"text-muted me-2",children:t._status_log}),T.jsx(ct,{label:"Check Status",className:"btn-outline-primary btn-sm rounded-0",onClick:()=>{t.check_status()}}),T.jsx(ct,{label:"Delete",className:"btn-outline-danger btn-sm rounded-0",onClick:()=>{window.confirm(`Delete task ${t.id}?`)&&t.delete()}}),T.jsx(ct,{label:"Log",className:"btn-outline-secondary btn-sm rounded-0",onClick:()=>{t.log()}}),T.jsx(Gd,{isLoading:t.is_checking_status,asButton:!0})]})]})})}),lY=wt(({shot:t})=>!t.tasks||t.tasks.length===0?T.jsx("div",{className:"mt-2 text-muted",children:"No tasks"}):T.jsx(Lu,{label:`Tasks (${t.tasks.length})`,defaultCollapsed:!1,className:"mt-2 mb-2",children:T.jsx("div",{className:"d-flex flex-column gap-0",children:t.tasks.map(e=>T.jsx(aY,{task:e},e.id))})})),uY=({localVideo:t,height:e=250,topRightExtra:n,onClick:o,autoPlay:r=!0,loop:a=!0})=>{const[u,c]=w.useState(null),[h,d]=w.useState(!1);return w.useEffect(()=>{let m=!0;return(async()=>{try{const S=await t.getUrlObject();m&&S&&c(S)}catch(S){console.error("Error loading LocalVideo",S)}})(),()=>{m=!1,t.revokeUrl()}},[t]),u?T.jsxs("div",{className:"position-relative d-inline-block border rounded",style:{height:`${e}px`,cursor:"pointer"},onMouseEnter:()=>d(!0),onMouseLeave:()=>d(!1),children:[T.jsx("video",{src:u,height:e,onClick:o,autoPlay:r,loop:a,style:{height:`${e}px`,width:"auto",objectFit:"contain",display:"block"}}),n&&h&&T.jsx("div",{className:"position-absolute",style:{top:"5px",right:"5px",zIndex:10,display:"flex",gap:"5px"},children:n})]}):T.jsx("div",{className:"d-flex align-items-center justify-content-center border rounded p-2",style:{height:`${e}px`,width:"auto"},children:"Loading..."})},cY=wt(({shot:t})=>{if(!t.shotJson)return T.jsx("div",{children:"Loading shot info..."});const e=200,n=t.images??[],o=async()=>{window.confirm(`Are you sure you want to delete shot "${t.folder.name}"?`)&&await t.delete()};return T.jsx("div",{className:"card mb-2",children:T.jsxs("div",{className:"card-body",children:[T.jsxs("div",{className:"d-flex align-items-center justify-content-between mb-2",children:[T.jsx("strong",{children:t.folder.name}),T.jsxs("div",{className:"d-flex gap-2",children:[T.jsx(nO,{label:"Finished",value:!!t.shotJson.data?.finished,onToggle:r=>{t.shotJson&&t.shotJson.updateField("finished",r)}}),T.jsx(ct,{onClick:()=>{t.log()},label:"Log Shot"}),T.jsx(ct,{onClick:o,label:"Delete Shot",className:"btn-outline-danger"})]})]}),T.jsx("div",{className:"shot_type-group mb-2",role:"group",children:T.jsx(sd,{value:t.shotJson.getField("shot_type")||"shot_type",options:["simple shot","actor shot"],onChange:r=>{t.shotJson?.updateField("shot_type",r)}})}),T.jsx("div",{className:"mb-0",children:T.jsxs("div",{className:"btn-group mb-2",role:"group",children:[T.jsx("button",{className:"btn btn-sm btn-outline-success",onClick:async()=>{t.GenerateImage()},children:" Generate Image "}),T.jsx(sd,{value:t.scene.project.workflows.generate_shot_image.model,options:qM,onChange:r=>{t.scene.project.updateWorkflow("generate_shot_image","model",r)}}),T.jsx(Gd,{isLoading:t.is_generating,asButton:!0})]})}),T.jsx(tO,{className:"mb-2",buttons:T.jsxs(T.Fragment,{children:[T.jsx("button",{className:"btn btn-sm btn-outline-success",onClick:async()=>{t.GenerateVideo()},children:" Generate Video"}),T.jsx(sd,{value:t.scene.project?.workflows?.generate_video_kling?.model||su.videoModels[0],options:su.videoModels,onChange:r=>{t.scene.project.updateWorkflow("generate_video_kling","model",r)}}),T.jsx(Gd,{isLoading:t.is_submitting_video,asButton:!0})]}),content:T.jsx(T.Fragment,{})}),T.jsx(lY,{shot:t}),T.jsx(Zn,{localJson:t.shotJson,field:"prompt",fitHeight:!0}),T.jsx(Zn,{localJson:t.shotJson,field:"camera",fitHeight:!0}),T.jsx(Zn,{localJson:t.shotJson,field:"action_description",fitHeight:!0}),T.jsx(rY,{shot:t}),T.jsx(TA,{label:"Shot Results",headerExtra:T.jsx(T.Fragment,{children:T.jsx(ct,{label:"Import URL",onClick:async()=>{try{const r=await navigator.clipboard.readText();if(r&&(r.startsWith("http://")||r.startsWith("https://"))){console.log("Importing URL from clipboard:",r);const a=await Kr.fromUrl(r,t.resultsFolder);t.addImage(a)}else alert("Clipboard does not contain a valid URL.")}catch(r){console.error("Failed to read clipboard:",r),alert("Failed to access clipboard.")}}})}),children:n.map((r,a)=>T.jsx(OK,{localImage:r,height:e,onClick:()=>{t.selectArt(r)},topRightExtra:T.jsxs(T.Fragment,{children:[T.jsx(ct,{onClick:()=>t.setSrcImage(r),label:"Pick"}),T.jsx(ct,{onClick:async()=>{if(window.confirm("Delete this image?"))try{await r.delete(t.resultsFolder),t.removeImage(r)}catch(u){console.error("Failed to delete image:",u),alert("Failed to delete image.")}},label:"Delete",className:"btn-outline-danger"})]})},a))}),t.selected_art&&T.jsx(iY,{localImage:t.selected_art,initialText:"Notes for this image",onImageGenerated:async r=>{await t.saveGoogleResultImage(r,!0)},onClose:()=>{t.selectArt()}}),T.jsx(TA,{label:"Generated Videos",children:t.videos.map((r,a)=>T.jsx(uY,{localVideo:r,height:500,topRightExtra:T.jsx(ct,{label:"Delete",className:"btn-outline-danger btn-sm",onClick:async()=>{console.log("delete")}})},a))})]})})}),fY=wt(({scene:t})=>{const[e,n]=w.useState(null);w.useEffect(()=>{n(null)},[t]);const o=async()=>{const r=prompt("Enter new shot name:");if(!r)return;const a=await t.createShot(r);a&&n(a)};return T.jsxs("div",{className:"d-flex flex-column gap-3",children:[T.jsx(DK,{initialHeight:200,children:T.jsxs("div",{className:"d-flex overflow-auto gap-2 h-100",children:[t.shots.map(r=>T.jsx(IK,{shot:r,isSelected:e===r,onClick:n},r.folder.name)),T.jsx("div",{className:"mt-2",children:T.jsx(ct,{label:"+ Add Shot",onClick:o})})]})}),T.jsxs("div",{children:[T.jsx(r_,{onClick:()=>{t.generateAllShotImages()},label:"Generate ALL",is_loading:t.is_generating_all_shot_images}),T.jsx(ct,{label:"+ Add Shot",onClick:o})]}),e&&T.jsx(cY,{shot:e})]})}),dY=wt(({project:t})=>{switch(t.currentView.type){case"settings":return T.jsx(a6,{project:t});case"script":return T.jsx(l6,{project:t});case"artbook":return t.artbook?T.jsx(c6,{artbook:t.artbook}):T.jsx("div",{children:"No Artbook found."});case"scene":if(!t.selectedScene)return null;const e=t.selectedScene;return T.jsxs("div",{children:[T.jsx("h2",{children:e.folder.name}),T.jsx(uu,{tabs:{Scene:T.jsx(NK,{scene:e}),Shots:T.jsx(fY,{scene:e})}})]});default:return null}}),hY=wt(()=>{const[t]=w.useState(()=>new n6(null)),e=async()=>{try{const o=await window.showDirectoryPicker();await t.loadFromFolder(o)}catch(o){console.error(o)}},n=async o=>{let r=await o.queryPermission({mode:"readwrite"});r!=="granted"&&(r=await o.requestPermission({mode:"readwrite"})),r==="granted"&&await t.loadFromFolder(o)};return w.useEffect(()=>{(async()=>{if(await t.loadDB(),t.userSettingsDB.data.lastOpenedFolder){const r=t.userSettingsDB.data.lastOpenedFolder;let a=await r.queryPermission({mode:"readwrite"});a!=="granted"&&(a=await r.requestPermission({mode:"readwrite"})),a==="granted"&&await t.loadFromFolder(r)}})()},[]),T.jsxs("div",{style:{minHeight:"100vh"},children:[T.jsx(o6,{onOpenFolder:e,recentFolders:t.userSettingsDB.data.recentFolders,onOpenRecent:n,project:t}),T.jsxs("div",{className:"d-flex",style:{height:"calc(100vh - 56px)",overflow:"hidden"},children:[T.jsx(r6,{project:t}),T.jsx("div",{className:"flex-grow-1 d-flex flex-column overflow-hidden",children:T.jsx("div",{className:"flex-grow-1 overflow-auto p-3",children:T.jsx(dY,{project:t})})})]})]})}),pY=w.createContext(void 0),mY=({children:t})=>{const[e,n]=w.useState(null);return T.jsx(pY.Provider,{value:{contentArea:e,setContentArea:n},children:t})};VP.createRoot(document.getElementById("root")).render(T.jsx(w.StrictMode,{children:T.jsx(mY,{children:T.jsx(hY,{})})}));
