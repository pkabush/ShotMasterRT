function GP(t,e){for(var n=0;n<e.length;n++){const i=e[n];if(typeof i!="string"&&!Array.isArray(i)){for(const r in i)if(r!=="default"&&!(r in t)){const a=Object.getOwnPropertyDescriptor(i,r);a&&Object.defineProperty(t,r,a.get?a:{enumerable:!0,get:()=>i[r]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const a of r)if(a.type==="childList")for(const u of a.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function n(r){const a={};return r.integrity&&(a.integrity=r.integrity),r.referrerPolicy&&(a.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?a.credentials="include":r.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(r){if(r.ep)return;r.ep=!0;const a=n(r);fetch(r.href,a)}})();function Su(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var jm={exports:{}},Ol={};var PE;function VP(){if(PE)return Ol;PE=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(i,r,a){var u=null;if(a!==void 0&&(u=""+a),r.key!==void 0&&(u=""+r.key),"key"in r){a={};for(var c in r)c!=="key"&&(a[c]=r[c])}else a=r;return r=a.ref,{$$typeof:t,type:i,key:u,ref:r!==void 0?r:null,props:a}}return Ol.Fragment=e,Ol.jsx=n,Ol.jsxs=n,Ol}var kE;function zP(){return kE||(kE=1,jm.exports=VP()),jm.exports}var E=zP(),Xm={exports:{}},xe={};var LE;function qP(){if(LE)return xe;LE=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),u=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),y=Symbol.for("react.activity"),S=Symbol.iterator;function b(k){return k===null||typeof k!="object"?null:(k=S&&k[S]||k["@@iterator"],typeof k=="function"?k:null)}var T={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,x={};function M(k,Y,se){this.props=k,this.context=Y,this.refs=x,this.updater=se||T}M.prototype.isReactComponent={},M.prototype.setState=function(k,Y){if(typeof k!="object"&&typeof k!="function"&&k!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,k,Y,"setState")},M.prototype.forceUpdate=function(k){this.updater.enqueueForceUpdate(this,k,"forceUpdate")};function I(){}I.prototype=M.prototype;function N(k,Y,se){this.props=k,this.context=Y,this.refs=x,this.updater=se||T}var D=N.prototype=new I;D.constructor=N,A(D,M.prototype),D.isPureReactComponent=!0;var L=Array.isArray;function U(){}var O={H:null,A:null,T:null,S:null},q=Object.prototype.hasOwnProperty;function J(k,Y,se){var le=se.ref;return{$$typeof:t,type:k,key:Y,ref:le!==void 0?le:null,props:se}}function j(k,Y){return J(k.type,Y,k.props)}function W(k){return typeof k=="object"&&k!==null&&k.$$typeof===t}function re(k){var Y={"=":"=0",":":"=2"};return"$"+k.replace(/[=:]/g,function(se){return Y[se]})}var ie=/\/+/g;function ae(k,Y){return typeof k=="object"&&k!==null&&k.key!=null?re(""+k.key):Y.toString(36)}function de(k){switch(k.status){case"fulfilled":return k.value;case"rejected":throw k.reason;default:switch(typeof k.status=="string"?k.then(U,U):(k.status="pending",k.then(function(Y){k.status==="pending"&&(k.status="fulfilled",k.value=Y)},function(Y){k.status==="pending"&&(k.status="rejected",k.reason=Y)})),k.status){case"fulfilled":return k.value;case"rejected":throw k.reason}}throw k}function F(k,Y,se,le,me){var be=typeof k;(be==="undefined"||be==="boolean")&&(k=null);var ve=!1;if(k===null)ve=!0;else switch(be){case"bigint":case"string":case"number":ve=!0;break;case"object":switch(k.$$typeof){case t:case e:ve=!0;break;case m:return ve=k._init,F(ve(k._payload),Y,se,le,me)}}if(ve)return me=me(k),ve=le===""?"."+ae(k,0):le,L(me)?(se="",ve!=null&&(se=ve.replace(ie,"$&/")+"/"),F(me,Y,se,"",function(rn){return rn})):me!=null&&(W(me)&&(me=j(me,se+(me.key==null||k&&k.key===me.key?"":(""+me.key).replace(ie,"$&/")+"/")+ve)),Y.push(me)),1;ve=0;var ze=le===""?".":le+":";if(L(k))for(var qe=0;qe<k.length;qe++)le=k[qe],be=ze+ae(le,qe),ve+=F(le,Y,se,be,me);else if(qe=b(k),typeof qe=="function")for(k=qe.call(k),qe=0;!(le=k.next()).done;)le=le.value,be=ze+ae(le,qe++),ve+=F(le,Y,se,be,me);else if(be==="object"){if(typeof k.then=="function")return F(de(k),Y,se,le,me);throw Y=String(k),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(k).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return ve}function Q(k,Y,se){if(k==null)return k;var le=[],me=0;return F(k,le,"","",function(be){return Y.call(se,be,me++)}),le}function ee(k){if(k._status===-1){var Y=k._result;Y=Y(),Y.then(function(se){(k._status===0||k._status===-1)&&(k._status=1,k._result=se)},function(se){(k._status===0||k._status===-1)&&(k._status=2,k._result=se)}),k._status===-1&&(k._status=0,k._result=Y)}if(k._status===1)return k._result.default;throw k._result}var ne=typeof reportError=="function"?reportError:function(k){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof k=="object"&&k!==null&&typeof k.message=="string"?String(k.message):String(k),error:k});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",k);return}console.error(k)},ce={map:Q,forEach:function(k,Y,se){Q(k,function(){Y.apply(this,arguments)},se)},count:function(k){var Y=0;return Q(k,function(){Y++}),Y},toArray:function(k){return Q(k,function(Y){return Y})||[]},only:function(k){if(!W(k))throw Error("React.Children.only expected to receive a single React element child.");return k}};return xe.Activity=y,xe.Children=ce,xe.Component=M,xe.Fragment=n,xe.Profiler=r,xe.PureComponent=N,xe.StrictMode=i,xe.Suspense=h,xe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=O,xe.__COMPILER_RUNTIME={__proto__:null,c:function(k){return O.H.useMemoCache(k)}},xe.cache=function(k){return function(){return k.apply(null,arguments)}},xe.cacheSignal=function(){return null},xe.cloneElement=function(k,Y,se){if(k==null)throw Error("The argument must be a React element, but you passed "+k+".");var le=A({},k.props),me=k.key;if(Y!=null)for(be in Y.key!==void 0&&(me=""+Y.key),Y)!q.call(Y,be)||be==="key"||be==="__self"||be==="__source"||be==="ref"&&Y.ref===void 0||(le[be]=Y[be]);var be=arguments.length-2;if(be===1)le.children=se;else if(1<be){for(var ve=Array(be),ze=0;ze<be;ze++)ve[ze]=arguments[ze+2];le.children=ve}return J(k.type,me,le)},xe.createContext=function(k){return k={$$typeof:u,_currentValue:k,_currentValue2:k,_threadCount:0,Provider:null,Consumer:null},k.Provider=k,k.Consumer={$$typeof:a,_context:k},k},xe.createElement=function(k,Y,se){var le,me={},be=null;if(Y!=null)for(le in Y.key!==void 0&&(be=""+Y.key),Y)q.call(Y,le)&&le!=="key"&&le!=="__self"&&le!=="__source"&&(me[le]=Y[le]);var ve=arguments.length-2;if(ve===1)me.children=se;else if(1<ve){for(var ze=Array(ve),qe=0;qe<ve;qe++)ze[qe]=arguments[qe+2];me.children=ze}if(k&&k.defaultProps)for(le in ve=k.defaultProps,ve)me[le]===void 0&&(me[le]=ve[le]);return J(k,be,me)},xe.createRef=function(){return{current:null}},xe.forwardRef=function(k){return{$$typeof:c,render:k}},xe.isValidElement=W,xe.lazy=function(k){return{$$typeof:m,_payload:{_status:-1,_result:k},_init:ee}},xe.memo=function(k,Y){return{$$typeof:d,type:k,compare:Y===void 0?null:Y}},xe.startTransition=function(k){var Y=O.T,se={};O.T=se;try{var le=k(),me=O.S;me!==null&&me(se,le),typeof le=="object"&&le!==null&&typeof le.then=="function"&&le.then(U,ne)}catch(be){ne(be)}finally{Y!==null&&se.types!==null&&(Y.types=se.types),O.T=Y}},xe.unstable_useCacheRefresh=function(){return O.H.useCacheRefresh()},xe.use=function(k){return O.H.use(k)},xe.useActionState=function(k,Y,se){return O.H.useActionState(k,Y,se)},xe.useCallback=function(k,Y){return O.H.useCallback(k,Y)},xe.useContext=function(k){return O.H.useContext(k)},xe.useDebugValue=function(){},xe.useDeferredValue=function(k,Y){return O.H.useDeferredValue(k,Y)},xe.useEffect=function(k,Y){return O.H.useEffect(k,Y)},xe.useEffectEvent=function(k){return O.H.useEffectEvent(k)},xe.useId=function(){return O.H.useId()},xe.useImperativeHandle=function(k,Y,se){return O.H.useImperativeHandle(k,Y,se)},xe.useInsertionEffect=function(k,Y){return O.H.useInsertionEffect(k,Y)},xe.useLayoutEffect=function(k,Y){return O.H.useLayoutEffect(k,Y)},xe.useMemo=function(k,Y){return O.H.useMemo(k,Y)},xe.useOptimistic=function(k,Y){return O.H.useOptimistic(k,Y)},xe.useReducer=function(k,Y,se){return O.H.useReducer(k,Y,se)},xe.useRef=function(k){return O.H.useRef(k)},xe.useState=function(k){return O.H.useState(k)},xe.useSyncExternalStore=function(k,Y,se){return O.H.useSyncExternalStore(k,Y,se)},xe.useTransition=function(){return O.H.useTransition()},xe.version="19.2.1",xe}var UE;function Yd(){return UE||(UE=1,Xm.exports=qP()),Xm.exports}var w=Yd();const tt=Su(w),$A=GP({__proto__:null,default:tt},[w]);var Wm={exports:{}},Pl={},Qm={exports:{}},Zm={};var BE;function JP(){return BE||(BE=1,(function(t){function e(F,Q){var ee=F.length;F.push(Q);e:for(;0<ee;){var ne=ee-1>>>1,ce=F[ne];if(0<r(ce,Q))F[ne]=Q,F[ee]=ce,ee=ne;else break e}}function n(F){return F.length===0?null:F[0]}function i(F){if(F.length===0)return null;var Q=F[0],ee=F.pop();if(ee!==Q){F[0]=ee;e:for(var ne=0,ce=F.length,k=ce>>>1;ne<k;){var Y=2*(ne+1)-1,se=F[Y],le=Y+1,me=F[le];if(0>r(se,ee))le<ce&&0>r(me,se)?(F[ne]=me,F[le]=ee,ne=le):(F[ne]=se,F[Y]=ee,ne=Y);else if(le<ce&&0>r(me,ee))F[ne]=me,F[le]=ee,ne=le;else break e}}return Q}function r(F,Q){var ee=F.sortIndex-Q.sortIndex;return ee!==0?ee:F.id-Q.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var u=Date,c=u.now();t.unstable_now=function(){return u.now()-c}}var h=[],d=[],m=1,y=null,S=3,b=!1,T=!1,A=!1,x=!1,M=typeof setTimeout=="function"?setTimeout:null,I=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;function D(F){for(var Q=n(d);Q!==null;){if(Q.callback===null)i(d);else if(Q.startTime<=F)i(d),Q.sortIndex=Q.expirationTime,e(h,Q);else break;Q=n(d)}}function L(F){if(A=!1,D(F),!T)if(n(h)!==null)T=!0,U||(U=!0,re());else{var Q=n(d);Q!==null&&de(L,Q.startTime-F)}}var U=!1,O=-1,q=5,J=-1;function j(){return x?!0:!(t.unstable_now()-J<q)}function W(){if(x=!1,U){var F=t.unstable_now();J=F;var Q=!0;try{e:{T=!1,A&&(A=!1,I(O),O=-1),b=!0;var ee=S;try{t:{for(D(F),y=n(h);y!==null&&!(y.expirationTime>F&&j());){var ne=y.callback;if(typeof ne=="function"){y.callback=null,S=y.priorityLevel;var ce=ne(y.expirationTime<=F);if(F=t.unstable_now(),typeof ce=="function"){y.callback=ce,D(F),Q=!0;break t}y===n(h)&&i(h),D(F)}else i(h);y=n(h)}if(y!==null)Q=!0;else{var k=n(d);k!==null&&de(L,k.startTime-F),Q=!1}}break e}finally{y=null,S=ee,b=!1}Q=void 0}}finally{Q?re():U=!1}}}var re;if(typeof N=="function")re=function(){N(W)};else if(typeof MessageChannel<"u"){var ie=new MessageChannel,ae=ie.port2;ie.port1.onmessage=W,re=function(){ae.postMessage(null)}}else re=function(){M(W,0)};function de(F,Q){O=M(function(){F(t.unstable_now())},Q)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(F){F.callback=null},t.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):q=0<F?Math.floor(1e3/F):5},t.unstable_getCurrentPriorityLevel=function(){return S},t.unstable_next=function(F){switch(S){case 1:case 2:case 3:var Q=3;break;default:Q=S}var ee=S;S=Q;try{return F()}finally{S=ee}},t.unstable_requestPaint=function(){x=!0},t.unstable_runWithPriority=function(F,Q){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var ee=S;S=F;try{return Q()}finally{S=ee}},t.unstable_scheduleCallback=function(F,Q,ee){var ne=t.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?ne+ee:ne):ee=ne,F){case 1:var ce=-1;break;case 2:ce=250;break;case 5:ce=1073741823;break;case 4:ce=1e4;break;default:ce=5e3}return ce=ee+ce,F={id:m++,callback:Q,priorityLevel:F,startTime:ee,expirationTime:ce,sortIndex:-1},ee>ne?(F.sortIndex=ee,e(d,F),n(h)===null&&F===n(d)&&(A?(I(O),O=-1):A=!0,de(L,ee-ne))):(F.sortIndex=ce,e(h,F),T||b||(T=!0,U||(U=!0,re()))),F},t.unstable_shouldYield=j,t.unstable_wrapCallback=function(F){var Q=S;return function(){var ee=S;S=Q;try{return F.apply(this,arguments)}finally{S=ee}}}})(Zm)),Zm}var FE;function KP(){return FE||(FE=1,Qm.exports=JP()),Qm.exports}var eg={exports:{}},kt={};var $E;function YP(){if($E)return kt;$E=1;var t=Yd();function e(h){var d="https://react.dev/errors/"+h;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)d+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+h+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},r=Symbol.for("react.portal");function a(h,d,m){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:y==null?null:""+y,children:h,containerInfo:d,implementation:m}}var u=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(h,d){if(h==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return kt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,kt.createPortal=function(h,d){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(e(299));return a(h,d,null,m)},kt.flushSync=function(h){var d=u.T,m=i.p;try{if(u.T=null,i.p=2,h)return h()}finally{u.T=d,i.p=m,i.d.f()}},kt.preconnect=function(h,d){typeof h=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,i.d.C(h,d))},kt.prefetchDNS=function(h){typeof h=="string"&&i.d.D(h)},kt.preinit=function(h,d){if(typeof h=="string"&&d&&typeof d.as=="string"){var m=d.as,y=c(m,d.crossOrigin),S=typeof d.integrity=="string"?d.integrity:void 0,b=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;m==="style"?i.d.S(h,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:y,integrity:S,fetchPriority:b}):m==="script"&&i.d.X(h,{crossOrigin:y,integrity:S,fetchPriority:b,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},kt.preinitModule=function(h,d){if(typeof h=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var m=c(d.as,d.crossOrigin);i.d.M(h,{crossOrigin:m,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&i.d.M(h)},kt.preload=function(h,d){if(typeof h=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var m=d.as,y=c(m,d.crossOrigin);i.d.L(h,m,{crossOrigin:y,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},kt.preloadModule=function(h,d){if(typeof h=="string")if(d){var m=c(d.as,d.crossOrigin);i.d.m(h,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:m,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else i.d.m(h)},kt.requestFormReset=function(h){i.d.r(h)},kt.unstable_batchedUpdates=function(h,d){return h(d)},kt.useFormState=function(h,d,m){return u.H.useFormState(h,d,m)},kt.useFormStatus=function(){return u.H.useHostTransitionStatus()},kt.version="19.2.1",kt}var HE;function HA(){if(HE)return eg.exports;HE=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),eg.exports=YP(),eg.exports}var GE;function jP(){if(GE)return Pl;GE=1;var t=KP(),e=Yd(),n=HA();function i(o){var s="https://react.dev/errors/"+o;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)s+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+o+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function a(o){var s=o,l=o;if(o.alternate)for(;s.return;)s=s.return;else{o=s;do s=o,(s.flags&4098)!==0&&(l=s.return),o=s.return;while(o)}return s.tag===3?l:null}function u(o){if(o.tag===13){var s=o.memoizedState;if(s===null&&(o=o.alternate,o!==null&&(s=o.memoizedState)),s!==null)return s.dehydrated}return null}function c(o){if(o.tag===31){var s=o.memoizedState;if(s===null&&(o=o.alternate,o!==null&&(s=o.memoizedState)),s!==null)return s.dehydrated}return null}function h(o){if(a(o)!==o)throw Error(i(188))}function d(o){var s=o.alternate;if(!s){if(s=a(o),s===null)throw Error(i(188));return s!==o?null:o}for(var l=o,f=s;;){var v=l.return;if(v===null)break;var _=v.alternate;if(_===null){if(f=v.return,f!==null){l=f;continue}break}if(v.child===_.child){for(_=v.child;_;){if(_===l)return h(v),o;if(_===f)return h(v),s;_=_.sibling}throw Error(i(188))}if(l.return!==f.return)l=v,f=_;else{for(var C=!1,R=v.child;R;){if(R===l){C=!0,l=v,f=_;break}if(R===f){C=!0,f=v,l=_;break}R=R.sibling}if(!C){for(R=_.child;R;){if(R===l){C=!0,l=_,f=v;break}if(R===f){C=!0,f=_,l=v;break}R=R.sibling}if(!C)throw Error(i(189))}}if(l.alternate!==f)throw Error(i(190))}if(l.tag!==3)throw Error(i(188));return l.stateNode.current===l?o:s}function m(o){var s=o.tag;if(s===5||s===26||s===27||s===6)return o;for(o=o.child;o!==null;){if(s=m(o),s!==null)return s;o=o.sibling}return null}var y=Object.assign,S=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),T=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),x=Symbol.for("react.strict_mode"),M=Symbol.for("react.profiler"),I=Symbol.for("react.consumer"),N=Symbol.for("react.context"),D=Symbol.for("react.forward_ref"),L=Symbol.for("react.suspense"),U=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),q=Symbol.for("react.lazy"),J=Symbol.for("react.activity"),j=Symbol.for("react.memo_cache_sentinel"),W=Symbol.iterator;function re(o){return o===null||typeof o!="object"?null:(o=W&&o[W]||o["@@iterator"],typeof o=="function"?o:null)}var ie=Symbol.for("react.client.reference");function ae(o){if(o==null)return null;if(typeof o=="function")return o.$$typeof===ie?null:o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case A:return"Fragment";case M:return"Profiler";case x:return"StrictMode";case L:return"Suspense";case U:return"SuspenseList";case J:return"Activity"}if(typeof o=="object")switch(o.$$typeof){case T:return"Portal";case N:return o.displayName||"Context";case I:return(o._context.displayName||"Context")+".Consumer";case D:var s=o.render;return o=o.displayName,o||(o=s.displayName||s.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case O:return s=o.displayName||null,s!==null?s:ae(o.type)||"Memo";case q:s=o._payload,o=o._init;try{return ae(o(s))}catch{}}return null}var de=Array.isArray,F=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Q=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ee={pending:!1,data:null,method:null,action:null},ne=[],ce=-1;function k(o){return{current:o}}function Y(o){0>ce||(o.current=ne[ce],ne[ce]=null,ce--)}function se(o,s){ce++,ne[ce]=o.current,o.current=s}var le=k(null),me=k(null),be=k(null),ve=k(null);function ze(o,s){switch(se(be,s),se(me,o),se(le,null),s.nodeType){case 9:case 11:o=(o=s.documentElement)&&(o=o.namespaceURI)?iE(o):0;break;default:if(o=s.tagName,s=s.namespaceURI)s=iE(s),o=oE(s,o);else switch(o){case"svg":o=1;break;case"math":o=2;break;default:o=0}}Y(le),se(le,o)}function qe(){Y(le),Y(me),Y(be)}function rn(o){o.memoizedState!==null&&se(ve,o);var s=le.current,l=oE(s,o.type);s!==l&&(se(me,o),se(le,l))}function Cn(o){me.current===o&&(Y(le),Y(me)),ve.current===o&&(Y(ve),Ml._currentValue=ee)}var di,qt;function Jt(o){if(di===void 0)try{throw Error()}catch(l){var s=l.stack.trim().match(/\n( *(at )?)/);di=s&&s[1]||"",qt=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+di+o+qt}var Ze=!1;function Li(o,s){if(!o||Ze)return"";Ze=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var f={DetermineComponentFrameRoot:function(){try{if(s){var te=function(){throw Error()};if(Object.defineProperty(te.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(te,[])}catch(K){var z=K}Reflect.construct(o,[],te)}else{try{te.call()}catch(K){z=K}o.call(te.prototype)}}else{try{throw Error()}catch(K){z=K}(te=o())&&typeof te.catch=="function"&&te.catch(function(){})}}catch(K){if(K&&z&&typeof K.stack=="string")return[K.stack,z.stack]}return[null,null]}};f.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var v=Object.getOwnPropertyDescriptor(f.DetermineComponentFrameRoot,"name");v&&v.configurable&&Object.defineProperty(f.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var _=f.DetermineComponentFrameRoot(),C=_[0],R=_[1];if(C&&R){var P=C.split(`
`),G=R.split(`
`);for(v=f=0;f<P.length&&!P[f].includes("DetermineComponentFrameRoot");)f++;for(;v<G.length&&!G[v].includes("DetermineComponentFrameRoot");)v++;if(f===P.length||v===G.length)for(f=P.length-1,v=G.length-1;1<=f&&0<=v&&P[f]!==G[v];)v--;for(;1<=f&&0<=v;f--,v--)if(P[f]!==G[v]){if(f!==1||v!==1)do if(f--,v--,0>v||P[f]!==G[v]){var X=`
`+P[f].replace(" at new "," at ");return o.displayName&&X.includes("<anonymous>")&&(X=X.replace("<anonymous>",o.displayName)),X}while(1<=f&&0<=v);break}}}finally{Ze=!1,Error.prepareStackTrace=l}return(l=o?o.displayName||o.name:"")?Jt(l):""}function bo(o,s){switch(o.tag){case 26:case 27:case 5:return Jt(o.type);case 16:return Jt("Lazy");case 13:return o.child!==s&&s!==null?Jt("Suspense Fallback"):Jt("Suspense");case 19:return Jt("SuspenseList");case 0:case 15:return Li(o.type,!1);case 11:return Li(o.type.render,!1);case 1:return Li(o.type,!0);case 31:return Jt("Activity");default:return""}}function ju(o){try{var s="",l=null;do s+=bo(o,l),l=o,o=o.return;while(o);return s}catch(f){return`
Error generating stack: `+f.message+`
`+f.stack}}var Ba=Object.prototype.hasOwnProperty,Yn=t.unstable_scheduleCallback,Eo=t.unstable_cancelCallback,Xu=t.unstable_shouldYield,Wu=t.unstable_requestPaint,At=t.unstable_now,Qu=t.unstable_getCurrentPriorityLevel,Fa=t.unstable_ImmediatePriority,$a=t.unstable_UserBlockingPriority,mr=t.unstable_NormalPriority,wO=t.unstable_LowPriority,U_=t.unstable_IdlePriority,CO=t.log,TO=t.unstable_setDisableYieldValue,Ha=null,sn=null;function wo(o){if(typeof CO=="function"&&TO(o),sn&&typeof sn.setStrictMode=="function")try{sn.setStrictMode(Ha,o)}catch{}}var an=Math.clz32?Math.clz32:RO,AO=Math.log,xO=Math.LN2;function RO(o){return o>>>=0,o===0?32:31-(AO(o)/xO|0)|0}var Zu=256,ec=262144,tc=4194304;function gr(o){var s=o&42;if(s!==0)return s;switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return o&261888;case 262144:case 524288:case 1048576:case 2097152:return o&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return o&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return o}}function nc(o,s,l){var f=o.pendingLanes;if(f===0)return 0;var v=0,_=o.suspendedLanes,C=o.pingedLanes;o=o.warmLanes;var R=f&134217727;return R!==0?(f=R&~_,f!==0?v=gr(f):(C&=R,C!==0?v=gr(C):l||(l=R&~o,l!==0&&(v=gr(l))))):(R=f&~_,R!==0?v=gr(R):C!==0?v=gr(C):l||(l=f&~o,l!==0&&(v=gr(l)))),v===0?0:s!==0&&s!==v&&(s&_)===0&&(_=v&-v,l=s&-s,_>=l||_===32&&(l&4194048)!==0)?s:v}function Ga(o,s){return(o.pendingLanes&~(o.suspendedLanes&~o.pingedLanes)&s)===0}function MO(o,s){switch(o){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function B_(){var o=tc;return tc<<=1,(tc&62914560)===0&&(tc=4194304),o}function Uh(o){for(var s=[],l=0;31>l;l++)s.push(o);return s}function Va(o,s){o.pendingLanes|=s,s!==268435456&&(o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0)}function NO(o,s,l,f,v,_){var C=o.pendingLanes;o.pendingLanes=l,o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0,o.expiredLanes&=l,o.entangledLanes&=l,o.errorRecoveryDisabledLanes&=l,o.shellSuspendCounter=0;var R=o.entanglements,P=o.expirationTimes,G=o.hiddenUpdates;for(l=C&~l;0<l;){var X=31-an(l),te=1<<X;R[X]=0,P[X]=-1;var z=G[X];if(z!==null)for(G[X]=null,X=0;X<z.length;X++){var K=z[X];K!==null&&(K.lane&=-536870913)}l&=~te}f!==0&&F_(o,f,0),_!==0&&v===0&&o.tag!==0&&(o.suspendedLanes|=_&~(C&~s))}function F_(o,s,l){o.pendingLanes|=s,o.suspendedLanes&=~s;var f=31-an(s);o.entangledLanes|=s,o.entanglements[f]=o.entanglements[f]|1073741824|l&261930}function $_(o,s){var l=o.entangledLanes|=s;for(o=o.entanglements;l;){var f=31-an(l),v=1<<f;v&s|o[f]&s&&(o[f]|=s),l&=~v}}function H_(o,s){var l=s&-s;return l=(l&42)!==0?1:Bh(l),(l&(o.suspendedLanes|s))!==0?0:l}function Bh(o){switch(o){case 2:o=1;break;case 8:o=4;break;case 32:o=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:o=128;break;case 268435456:o=134217728;break;default:o=0}return o}function Fh(o){return o&=-o,2<o?8<o?(o&134217727)!==0?32:268435456:8:2}function G_(){var o=Q.p;return o!==0?o:(o=window.event,o===void 0?32:xE(o.type))}function V_(o,s){var l=Q.p;try{return Q.p=o,s()}finally{Q.p=l}}var Co=Math.random().toString(36).slice(2),xt="__reactFiber$"+Co,Kt="__reactProps$"+Co,ss="__reactContainer$"+Co,$h="__reactEvents$"+Co,IO="__reactListeners$"+Co,DO="__reactHandles$"+Co,z_="__reactResources$"+Co,za="__reactMarker$"+Co;function Hh(o){delete o[xt],delete o[Kt],delete o[$h],delete o[IO],delete o[DO]}function as(o){var s=o[xt];if(s)return s;for(var l=o.parentNode;l;){if(s=l[ss]||l[xt]){if(l=s.alternate,s.child!==null||l!==null&&l.child!==null)for(o=fE(o);o!==null;){if(l=o[xt])return l;o=fE(o)}return s}o=l,l=o.parentNode}return null}function ls(o){if(o=o[xt]||o[ss]){var s=o.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return o}return null}function qa(o){var s=o.tag;if(s===5||s===26||s===27||s===6)return o.stateNode;throw Error(i(33))}function us(o){var s=o[z_];return s||(s=o[z_]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function bt(o){o[za]=!0}var q_=new Set,J_={};function vr(o,s){cs(o,s),cs(o+"Capture",s)}function cs(o,s){for(J_[o]=s,o=0;o<s.length;o++)q_.add(s[o])}var OO=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),K_={},Y_={};function PO(o){return Ba.call(Y_,o)?!0:Ba.call(K_,o)?!1:OO.test(o)?Y_[o]=!0:(K_[o]=!0,!1)}function ic(o,s,l){if(PO(s))if(l===null)o.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":o.removeAttribute(s);return;case"boolean":var f=s.toLowerCase().slice(0,5);if(f!=="data-"&&f!=="aria-"){o.removeAttribute(s);return}}o.setAttribute(s,""+l)}}function oc(o,s,l){if(l===null)o.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(s);return}o.setAttribute(s,""+l)}}function Ui(o,s,l,f){if(f===null)o.removeAttribute(l);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(l);return}o.setAttributeNS(s,l,""+f)}}function Tn(o){switch(typeof o){case"bigint":case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function j_(o){var s=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function kO(o,s,l){var f=Object.getOwnPropertyDescriptor(o.constructor.prototype,s);if(!o.hasOwnProperty(s)&&typeof f<"u"&&typeof f.get=="function"&&typeof f.set=="function"){var v=f.get,_=f.set;return Object.defineProperty(o,s,{configurable:!0,get:function(){return v.call(this)},set:function(C){l=""+C,_.call(this,C)}}),Object.defineProperty(o,s,{enumerable:f.enumerable}),{getValue:function(){return l},setValue:function(C){l=""+C},stopTracking:function(){o._valueTracker=null,delete o[s]}}}}function Gh(o){if(!o._valueTracker){var s=j_(o)?"checked":"value";o._valueTracker=kO(o,s,""+o[s])}}function X_(o){if(!o)return!1;var s=o._valueTracker;if(!s)return!0;var l=s.getValue(),f="";return o&&(f=j_(o)?o.checked?"true":"false":o.value),o=f,o!==l?(s.setValue(o),!0):!1}function rc(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}var LO=/[\n"\\]/g;function An(o){return o.replace(LO,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Vh(o,s,l,f,v,_,C,R){o.name="",C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?o.type=C:o.removeAttribute("type"),s!=null?C==="number"?(s===0&&o.value===""||o.value!=s)&&(o.value=""+Tn(s)):o.value!==""+Tn(s)&&(o.value=""+Tn(s)):C!=="submit"&&C!=="reset"||o.removeAttribute("value"),s!=null?zh(o,C,Tn(s)):l!=null?zh(o,C,Tn(l)):f!=null&&o.removeAttribute("value"),v==null&&_!=null&&(o.defaultChecked=!!_),v!=null&&(o.checked=v&&typeof v!="function"&&typeof v!="symbol"),R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"?o.name=""+Tn(R):o.removeAttribute("name")}function W_(o,s,l,f,v,_,C,R){if(_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(o.type=_),s!=null||l!=null){if(!(_!=="submit"&&_!=="reset"||s!=null)){Gh(o);return}l=l!=null?""+Tn(l):"",s=s!=null?""+Tn(s):l,R||s===o.value||(o.value=s),o.defaultValue=s}f=f??v,f=typeof f!="function"&&typeof f!="symbol"&&!!f,o.checked=R?o.checked:!!f,o.defaultChecked=!!f,C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"&&(o.name=C),Gh(o)}function zh(o,s,l){s==="number"&&rc(o.ownerDocument)===o||o.defaultValue===""+l||(o.defaultValue=""+l)}function fs(o,s,l,f){if(o=o.options,s){s={};for(var v=0;v<l.length;v++)s["$"+l[v]]=!0;for(l=0;l<o.length;l++)v=s.hasOwnProperty("$"+o[l].value),o[l].selected!==v&&(o[l].selected=v),v&&f&&(o[l].defaultSelected=!0)}else{for(l=""+Tn(l),s=null,v=0;v<o.length;v++){if(o[v].value===l){o[v].selected=!0,f&&(o[v].defaultSelected=!0);return}s!==null||o[v].disabled||(s=o[v])}s!==null&&(s.selected=!0)}}function Q_(o,s,l){if(s!=null&&(s=""+Tn(s),s!==o.value&&(o.value=s),l==null)){o.defaultValue!==s&&(o.defaultValue=s);return}o.defaultValue=l!=null?""+Tn(l):""}function Z_(o,s,l,f){if(s==null){if(f!=null){if(l!=null)throw Error(i(92));if(de(f)){if(1<f.length)throw Error(i(93));f=f[0]}l=f}l==null&&(l=""),s=l}l=Tn(s),o.defaultValue=l,f=o.textContent,f===l&&f!==""&&f!==null&&(o.value=f),Gh(o)}function ds(o,s){if(s){var l=o.firstChild;if(l&&l===o.lastChild&&l.nodeType===3){l.nodeValue=s;return}}o.textContent=s}var UO=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function e0(o,s,l){var f=s.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?f?o.setProperty(s,""):s==="float"?o.cssFloat="":o[s]="":f?o.setProperty(s,l):typeof l!="number"||l===0||UO.has(s)?s==="float"?o.cssFloat=l:o[s]=(""+l).trim():o[s]=l+"px"}function t0(o,s,l){if(s!=null&&typeof s!="object")throw Error(i(62));if(o=o.style,l!=null){for(var f in l)!l.hasOwnProperty(f)||s!=null&&s.hasOwnProperty(f)||(f.indexOf("--")===0?o.setProperty(f,""):f==="float"?o.cssFloat="":o[f]="");for(var v in s)f=s[v],s.hasOwnProperty(v)&&l[v]!==f&&e0(o,v,f)}else for(var _ in s)s.hasOwnProperty(_)&&e0(o,_,s[_])}function qh(o){if(o.indexOf("-")===-1)return!1;switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var BO=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),FO=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function sc(o){return FO.test(""+o)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":o}function Bi(){}var Jh=null;function Kh(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var hs=null,ps=null;function n0(o){var s=ls(o);if(s&&(o=s.stateNode)){var l=o[Kt]||null;e:switch(o=s.stateNode,s.type){case"input":if(Vh(o,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),s=l.name,l.type==="radio"&&s!=null){for(l=o;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+An(""+s)+'"][type="radio"]'),s=0;s<l.length;s++){var f=l[s];if(f!==o&&f.form===o.form){var v=f[Kt]||null;if(!v)throw Error(i(90));Vh(f,v.value,v.defaultValue,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name)}}for(s=0;s<l.length;s++)f=l[s],f.form===o.form&&X_(f)}break e;case"textarea":Q_(o,l.value,l.defaultValue);break e;case"select":s=l.value,s!=null&&fs(o,!!l.multiple,s,!1)}}}var Yh=!1;function i0(o,s,l){if(Yh)return o(s,l);Yh=!0;try{var f=o(s);return f}finally{if(Yh=!1,(hs!==null||ps!==null)&&(Kc(),hs&&(s=hs,o=ps,ps=hs=null,n0(s),o)))for(s=0;s<o.length;s++)n0(o[s])}}function Ja(o,s){var l=o.stateNode;if(l===null)return null;var f=l[Kt]||null;if(f===null)return null;l=f[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(o=o.type,f=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!f;break e;default:o=!1}if(o)return null;if(l&&typeof l!="function")throw Error(i(231,s,typeof l));return l}var Fi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),jh=!1;if(Fi)try{var Ka={};Object.defineProperty(Ka,"passive",{get:function(){jh=!0}}),window.addEventListener("test",Ka,Ka),window.removeEventListener("test",Ka,Ka)}catch{jh=!1}var To=null,Xh=null,ac=null;function o0(){if(ac)return ac;var o,s=Xh,l=s.length,f,v="value"in To?To.value:To.textContent,_=v.length;for(o=0;o<l&&s[o]===v[o];o++);var C=l-o;for(f=1;f<=C&&s[l-f]===v[_-f];f++);return ac=v.slice(o,1<f?1-f:void 0)}function lc(o){var s=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&s===13&&(o=13)):o=s,o===10&&(o=13),32<=o||o===13?o:0}function uc(){return!0}function r0(){return!1}function Yt(o){function s(l,f,v,_,C){this._reactName=l,this._targetInst=v,this.type=f,this.nativeEvent=_,this.target=C,this.currentTarget=null;for(var R in o)o.hasOwnProperty(R)&&(l=o[R],this[R]=l?l(_):_[R]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?uc:r0,this.isPropagationStopped=r0,this}return y(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=uc)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=uc)},persist:function(){},isPersistent:uc}),s}var yr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cc=Yt(yr),Ya=y({},yr,{view:0,detail:0}),$O=Yt(Ya),Wh,Qh,ja,fc=y({},Ya,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ep,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==ja&&(ja&&o.type==="mousemove"?(Wh=o.screenX-ja.screenX,Qh=o.screenY-ja.screenY):Qh=Wh=0,ja=o),Wh)},movementY:function(o){return"movementY"in o?o.movementY:Qh}}),s0=Yt(fc),HO=y({},fc,{dataTransfer:0}),GO=Yt(HO),VO=y({},Ya,{relatedTarget:0}),Zh=Yt(VO),zO=y({},yr,{animationName:0,elapsedTime:0,pseudoElement:0}),qO=Yt(zO),JO=y({},yr,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),KO=Yt(JO),YO=y({},yr,{data:0}),a0=Yt(YO),jO={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},XO={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},WO={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function QO(o){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(o):(o=WO[o])?!!s[o]:!1}function ep(){return QO}var ZO=y({},Ya,{key:function(o){if(o.key){var s=jO[o.key]||o.key;if(s!=="Unidentified")return s}return o.type==="keypress"?(o=lc(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?XO[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ep,charCode:function(o){return o.type==="keypress"?lc(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?lc(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),e1=Yt(ZO),t1=y({},fc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),l0=Yt(t1),n1=y({},Ya,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ep}),i1=Yt(n1),o1=y({},yr,{propertyName:0,elapsedTime:0,pseudoElement:0}),r1=Yt(o1),s1=y({},fc,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),a1=Yt(s1),l1=y({},yr,{newState:0,oldState:0}),u1=Yt(l1),c1=[9,13,27,32],tp=Fi&&"CompositionEvent"in window,Xa=null;Fi&&"documentMode"in document&&(Xa=document.documentMode);var f1=Fi&&"TextEvent"in window&&!Xa,u0=Fi&&(!tp||Xa&&8<Xa&&11>=Xa),c0=" ",f0=!1;function d0(o,s){switch(o){case"keyup":return c1.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function h0(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var ms=!1;function d1(o,s){switch(o){case"compositionend":return h0(s);case"keypress":return s.which!==32?null:(f0=!0,c0);case"textInput":return o=s.data,o===c0&&f0?null:o;default:return null}}function h1(o,s){if(ms)return o==="compositionend"||!tp&&d0(o,s)?(o=o0(),ac=Xh=To=null,ms=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return u0&&s.locale!=="ko"?null:s.data;default:return null}}var p1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function p0(o){var s=o&&o.nodeName&&o.nodeName.toLowerCase();return s==="input"?!!p1[o.type]:s==="textarea"}function m0(o,s,l,f){hs?ps?ps.push(f):ps=[f]:hs=f,s=ef(s,"onChange"),0<s.length&&(l=new cc("onChange","change",null,l,f),o.push({event:l,listeners:s}))}var Wa=null,Qa=null;function m1(o){Wb(o,0)}function dc(o){var s=qa(o);if(X_(s))return o}function g0(o,s){if(o==="change")return s}var v0=!1;if(Fi){var np;if(Fi){var ip="oninput"in document;if(!ip){var y0=document.createElement("div");y0.setAttribute("oninput","return;"),ip=typeof y0.oninput=="function"}np=ip}else np=!1;v0=np&&(!document.documentMode||9<document.documentMode)}function _0(){Wa&&(Wa.detachEvent("onpropertychange",S0),Qa=Wa=null)}function S0(o){if(o.propertyName==="value"&&dc(Qa)){var s=[];m0(s,Qa,o,Kh(o)),i0(m1,s)}}function g1(o,s,l){o==="focusin"?(_0(),Wa=s,Qa=l,Wa.attachEvent("onpropertychange",S0)):o==="focusout"&&_0()}function v1(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return dc(Qa)}function y1(o,s){if(o==="click")return dc(s)}function _1(o,s){if(o==="input"||o==="change")return dc(s)}function S1(o,s){return o===s&&(o!==0||1/o===1/s)||o!==o&&s!==s}var ln=typeof Object.is=="function"?Object.is:S1;function Za(o,s){if(ln(o,s))return!0;if(typeof o!="object"||o===null||typeof s!="object"||s===null)return!1;var l=Object.keys(o),f=Object.keys(s);if(l.length!==f.length)return!1;for(f=0;f<l.length;f++){var v=l[f];if(!Ba.call(s,v)||!ln(o[v],s[v]))return!1}return!0}function b0(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function E0(o,s){var l=b0(o);o=0;for(var f;l;){if(l.nodeType===3){if(f=o+l.textContent.length,o<=s&&f>=s)return{node:l,offset:s-o};o=f}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=b0(l)}}function w0(o,s){return o&&s?o===s?!0:o&&o.nodeType===3?!1:s&&s.nodeType===3?w0(o,s.parentNode):"contains"in o?o.contains(s):o.compareDocumentPosition?!!(o.compareDocumentPosition(s)&16):!1:!1}function C0(o){o=o!=null&&o.ownerDocument!=null&&o.ownerDocument.defaultView!=null?o.ownerDocument.defaultView:window;for(var s=rc(o.document);s instanceof o.HTMLIFrameElement;){try{var l=typeof s.contentWindow.location.href=="string"}catch{l=!1}if(l)o=s.contentWindow;else break;s=rc(o.document)}return s}function op(o){var s=o&&o.nodeName&&o.nodeName.toLowerCase();return s&&(s==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||s==="textarea"||o.contentEditable==="true")}var b1=Fi&&"documentMode"in document&&11>=document.documentMode,gs=null,rp=null,el=null,sp=!1;function T0(o,s,l){var f=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;sp||gs==null||gs!==rc(f)||(f=gs,"selectionStart"in f&&op(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),el&&Za(el,f)||(el=f,f=ef(rp,"onSelect"),0<f.length&&(s=new cc("onSelect","select",null,s,l),o.push({event:s,listeners:f}),s.target=gs)))}function _r(o,s){var l={};return l[o.toLowerCase()]=s.toLowerCase(),l["Webkit"+o]="webkit"+s,l["Moz"+o]="moz"+s,l}var vs={animationend:_r("Animation","AnimationEnd"),animationiteration:_r("Animation","AnimationIteration"),animationstart:_r("Animation","AnimationStart"),transitionrun:_r("Transition","TransitionRun"),transitionstart:_r("Transition","TransitionStart"),transitioncancel:_r("Transition","TransitionCancel"),transitionend:_r("Transition","TransitionEnd")},ap={},A0={};Fi&&(A0=document.createElement("div").style,"AnimationEvent"in window||(delete vs.animationend.animation,delete vs.animationiteration.animation,delete vs.animationstart.animation),"TransitionEvent"in window||delete vs.transitionend.transition);function Sr(o){if(ap[o])return ap[o];if(!vs[o])return o;var s=vs[o],l;for(l in s)if(s.hasOwnProperty(l)&&l in A0)return ap[o]=s[l];return o}var x0=Sr("animationend"),R0=Sr("animationiteration"),M0=Sr("animationstart"),E1=Sr("transitionrun"),w1=Sr("transitionstart"),C1=Sr("transitioncancel"),N0=Sr("transitionend"),I0=new Map,lp="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");lp.push("scrollEnd");function jn(o,s){I0.set(o,s),vr(s,[o])}var hc=typeof reportError=="function"?reportError:function(o){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof o=="object"&&o!==null&&typeof o.message=="string"?String(o.message):String(o),error:o});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",o);return}console.error(o)},xn=[],ys=0,up=0;function pc(){for(var o=ys,s=up=ys=0;s<o;){var l=xn[s];xn[s++]=null;var f=xn[s];xn[s++]=null;var v=xn[s];xn[s++]=null;var _=xn[s];if(xn[s++]=null,f!==null&&v!==null){var C=f.pending;C===null?v.next=v:(v.next=C.next,C.next=v),f.pending=v}_!==0&&D0(l,v,_)}}function mc(o,s,l,f){xn[ys++]=o,xn[ys++]=s,xn[ys++]=l,xn[ys++]=f,up|=f,o.lanes|=f,o=o.alternate,o!==null&&(o.lanes|=f)}function cp(o,s,l,f){return mc(o,s,l,f),gc(o)}function br(o,s){return mc(o,null,null,s),gc(o)}function D0(o,s,l){o.lanes|=l;var f=o.alternate;f!==null&&(f.lanes|=l);for(var v=!1,_=o.return;_!==null;)_.childLanes|=l,f=_.alternate,f!==null&&(f.childLanes|=l),_.tag===22&&(o=_.stateNode,o===null||o._visibility&1||(v=!0)),o=_,_=_.return;return o.tag===3?(_=o.stateNode,v&&s!==null&&(v=31-an(l),o=_.hiddenUpdates,f=o[v],f===null?o[v]=[s]:f.push(s),s.lane=l|536870912),_):null}function gc(o){if(50<El)throw El=0,_m=null,Error(i(185));for(var s=o.return;s!==null;)o=s,s=o.return;return o.tag===3?o.stateNode:null}var _s={};function T1(o,s,l,f){this.tag=o,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function un(o,s,l,f){return new T1(o,s,l,f)}function fp(o){return o=o.prototype,!(!o||!o.isReactComponent)}function $i(o,s){var l=o.alternate;return l===null?(l=un(o.tag,s,o.key,o.mode),l.elementType=o.elementType,l.type=o.type,l.stateNode=o.stateNode,l.alternate=o,o.alternate=l):(l.pendingProps=s,l.type=o.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=o.flags&65011712,l.childLanes=o.childLanes,l.lanes=o.lanes,l.child=o.child,l.memoizedProps=o.memoizedProps,l.memoizedState=o.memoizedState,l.updateQueue=o.updateQueue,s=o.dependencies,l.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},l.sibling=o.sibling,l.index=o.index,l.ref=o.ref,l.refCleanup=o.refCleanup,l}function O0(o,s){o.flags&=65011714;var l=o.alternate;return l===null?(o.childLanes=0,o.lanes=s,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=l.childLanes,o.lanes=l.lanes,o.child=l.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=l.memoizedProps,o.memoizedState=l.memoizedState,o.updateQueue=l.updateQueue,o.type=l.type,s=l.dependencies,o.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),o}function vc(o,s,l,f,v,_){var C=0;if(f=o,typeof o=="function")fp(o)&&(C=1);else if(typeof o=="string")C=NP(o,l,le.current)?26:o==="html"||o==="head"||o==="body"?27:5;else e:switch(o){case J:return o=un(31,l,s,v),o.elementType=J,o.lanes=_,o;case A:return Er(l.children,v,_,s);case x:C=8,v|=24;break;case M:return o=un(12,l,s,v|2),o.elementType=M,o.lanes=_,o;case L:return o=un(13,l,s,v),o.elementType=L,o.lanes=_,o;case U:return o=un(19,l,s,v),o.elementType=U,o.lanes=_,o;default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case N:C=10;break e;case I:C=9;break e;case D:C=11;break e;case O:C=14;break e;case q:C=16,f=null;break e}C=29,l=Error(i(130,o===null?"null":typeof o,"")),f=null}return s=un(C,l,s,v),s.elementType=o,s.type=f,s.lanes=_,s}function Er(o,s,l,f){return o=un(7,o,f,s),o.lanes=l,o}function dp(o,s,l){return o=un(6,o,null,s),o.lanes=l,o}function P0(o){var s=un(18,null,null,0);return s.stateNode=o,s}function hp(o,s,l){return s=un(4,o.children!==null?o.children:[],o.key,s),s.lanes=l,s.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},s}var k0=new WeakMap;function Rn(o,s){if(typeof o=="object"&&o!==null){var l=k0.get(o);return l!==void 0?l:(s={value:o,source:s,stack:ju(s)},k0.set(o,s),s)}return{value:o,source:s,stack:ju(s)}}var Ss=[],bs=0,yc=null,tl=0,Mn=[],Nn=0,Ao=null,hi=1,pi="";function Hi(o,s){Ss[bs++]=tl,Ss[bs++]=yc,yc=o,tl=s}function L0(o,s,l){Mn[Nn++]=hi,Mn[Nn++]=pi,Mn[Nn++]=Ao,Ao=o;var f=hi;o=pi;var v=32-an(f)-1;f&=~(1<<v),l+=1;var _=32-an(s)+v;if(30<_){var C=v-v%5;_=(f&(1<<C)-1).toString(32),f>>=C,v-=C,hi=1<<32-an(s)+v|l<<v|f,pi=_+o}else hi=1<<_|l<<v|f,pi=o}function pp(o){o.return!==null&&(Hi(o,1),L0(o,1,0))}function mp(o){for(;o===yc;)yc=Ss[--bs],Ss[bs]=null,tl=Ss[--bs],Ss[bs]=null;for(;o===Ao;)Ao=Mn[--Nn],Mn[Nn]=null,pi=Mn[--Nn],Mn[Nn]=null,hi=Mn[--Nn],Mn[Nn]=null}function U0(o,s){Mn[Nn++]=hi,Mn[Nn++]=pi,Mn[Nn++]=Ao,hi=s.id,pi=s.overflow,Ao=o}var Rt=null,it=null,Le=!1,xo=null,In=!1,gp=Error(i(519));function Ro(o){var s=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw nl(Rn(s,o)),gp}function B0(o){var s=o.stateNode,l=o.type,f=o.memoizedProps;switch(s[xt]=o,s[Kt]=f,l){case"dialog":Oe("cancel",s),Oe("close",s);break;case"iframe":case"object":case"embed":Oe("load",s);break;case"video":case"audio":for(l=0;l<Cl.length;l++)Oe(Cl[l],s);break;case"source":Oe("error",s);break;case"img":case"image":case"link":Oe("error",s),Oe("load",s);break;case"details":Oe("toggle",s);break;case"input":Oe("invalid",s),W_(s,f.value,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name,!0);break;case"select":Oe("invalid",s);break;case"textarea":Oe("invalid",s),Z_(s,f.value,f.defaultValue,f.children)}l=f.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||s.textContent===""+l||f.suppressHydrationWarning===!0||tE(s.textContent,l)?(f.popover!=null&&(Oe("beforetoggle",s),Oe("toggle",s)),f.onScroll!=null&&Oe("scroll",s),f.onScrollEnd!=null&&Oe("scrollend",s),f.onClick!=null&&(s.onclick=Bi),s=!0):s=!1,s||Ro(o,!0)}function F0(o){for(Rt=o.return;Rt;)switch(Rt.tag){case 5:case 31:case 13:In=!1;return;case 27:case 3:In=!0;return;default:Rt=Rt.return}}function Es(o){if(o!==Rt)return!1;if(!Le)return F0(o),Le=!0,!1;var s=o.tag,l;if((l=s!==3&&s!==27)&&((l=s===5)&&(l=o.type,l=!(l!=="form"&&l!=="button")||Pm(o.type,o.memoizedProps)),l=!l),l&&it&&Ro(o),F0(o),s===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(i(317));it=cE(o)}else if(s===31){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(i(317));it=cE(o)}else s===27?(s=it,Go(o.type)?(o=Fm,Fm=null,it=o):it=s):it=Rt?On(o.stateNode.nextSibling):null;return!0}function wr(){it=Rt=null,Le=!1}function vp(){var o=xo;return o!==null&&(Qt===null?Qt=o:Qt.push.apply(Qt,o),xo=null),o}function nl(o){xo===null?xo=[o]:xo.push(o)}var yp=k(null),Cr=null,Gi=null;function Mo(o,s,l){se(yp,s._currentValue),s._currentValue=l}function Vi(o){o._currentValue=yp.current,Y(yp)}function _p(o,s,l){for(;o!==null;){var f=o.alternate;if((o.childLanes&s)!==s?(o.childLanes|=s,f!==null&&(f.childLanes|=s)):f!==null&&(f.childLanes&s)!==s&&(f.childLanes|=s),o===l)break;o=o.return}}function Sp(o,s,l,f){var v=o.child;for(v!==null&&(v.return=o);v!==null;){var _=v.dependencies;if(_!==null){var C=v.child;_=_.firstContext;e:for(;_!==null;){var R=_;_=v;for(var P=0;P<s.length;P++)if(R.context===s[P]){_.lanes|=l,R=_.alternate,R!==null&&(R.lanes|=l),_p(_.return,l,o),f||(C=null);break e}_=R.next}}else if(v.tag===18){if(C=v.return,C===null)throw Error(i(341));C.lanes|=l,_=C.alternate,_!==null&&(_.lanes|=l),_p(C,l,o),C=null}else C=v.child;if(C!==null)C.return=v;else for(C=v;C!==null;){if(C===o){C=null;break}if(v=C.sibling,v!==null){v.return=C.return,C=v;break}C=C.return}v=C}}function ws(o,s,l,f){o=null;for(var v=s,_=!1;v!==null;){if(!_){if((v.flags&524288)!==0)_=!0;else if((v.flags&262144)!==0)break}if(v.tag===10){var C=v.alternate;if(C===null)throw Error(i(387));if(C=C.memoizedProps,C!==null){var R=v.type;ln(v.pendingProps.value,C.value)||(o!==null?o.push(R):o=[R])}}else if(v===ve.current){if(C=v.alternate,C===null)throw Error(i(387));C.memoizedState.memoizedState!==v.memoizedState.memoizedState&&(o!==null?o.push(Ml):o=[Ml])}v=v.return}o!==null&&Sp(s,o,l,f),s.flags|=262144}function _c(o){for(o=o.firstContext;o!==null;){if(!ln(o.context._currentValue,o.memoizedValue))return!0;o=o.next}return!1}function Tr(o){Cr=o,Gi=null,o=o.dependencies,o!==null&&(o.firstContext=null)}function Mt(o){return $0(Cr,o)}function Sc(o,s){return Cr===null&&Tr(o),$0(o,s)}function $0(o,s){var l=s._currentValue;if(s={context:s,memoizedValue:l,next:null},Gi===null){if(o===null)throw Error(i(308));Gi=s,o.dependencies={lanes:0,firstContext:s},o.flags|=524288}else Gi=Gi.next=s;return l}var A1=typeof AbortController<"u"?AbortController:function(){var o=[],s=this.signal={aborted:!1,addEventListener:function(l,f){o.push(f)}};this.abort=function(){s.aborted=!0,o.forEach(function(l){return l()})}},x1=t.unstable_scheduleCallback,R1=t.unstable_NormalPriority,ht={$$typeof:N,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function bp(){return{controller:new A1,data:new Map,refCount:0}}function il(o){o.refCount--,o.refCount===0&&x1(R1,function(){o.controller.abort()})}var ol=null,Ep=0,Cs=0,Ts=null;function M1(o,s){if(ol===null){var l=ol=[];Ep=0,Cs=Tm(),Ts={status:"pending",value:void 0,then:function(f){l.push(f)}}}return Ep++,s.then(H0,H0),s}function H0(){if(--Ep===0&&ol!==null){Ts!==null&&(Ts.status="fulfilled");var o=ol;ol=null,Cs=0,Ts=null;for(var s=0;s<o.length;s++)(0,o[s])()}}function N1(o,s){var l=[],f={status:"pending",value:null,reason:null,then:function(v){l.push(v)}};return o.then(function(){f.status="fulfilled",f.value=s;for(var v=0;v<l.length;v++)(0,l[v])(s)},function(v){for(f.status="rejected",f.reason=v,v=0;v<l.length;v++)(0,l[v])(void 0)}),f}var G0=F.S;F.S=function(o,s){Tb=At(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&M1(o,s),G0!==null&&G0(o,s)};var Ar=k(null);function wp(){var o=Ar.current;return o!==null?o:et.pooledCache}function bc(o,s){s===null?se(Ar,Ar.current):se(Ar,s.pool)}function V0(){var o=wp();return o===null?null:{parent:ht._currentValue,pool:o}}var As=Error(i(460)),Cp=Error(i(474)),Ec=Error(i(542)),wc={then:function(){}};function z0(o){return o=o.status,o==="fulfilled"||o==="rejected"}function q0(o,s,l){switch(l=o[l],l===void 0?o.push(s):l!==s&&(s.then(Bi,Bi),s=l),s.status){case"fulfilled":return s.value;case"rejected":throw o=s.reason,K0(o),o;default:if(typeof s.status=="string")s.then(Bi,Bi);else{if(o=et,o!==null&&100<o.shellSuspendCounter)throw Error(i(482));o=s,o.status="pending",o.then(function(f){if(s.status==="pending"){var v=s;v.status="fulfilled",v.value=f}},function(f){if(s.status==="pending"){var v=s;v.status="rejected",v.reason=f}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw o=s.reason,K0(o),o}throw Rr=s,As}}function xr(o){try{var s=o._init;return s(o._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(Rr=l,As):l}}var Rr=null;function J0(){if(Rr===null)throw Error(i(459));var o=Rr;return Rr=null,o}function K0(o){if(o===As||o===Ec)throw Error(i(483))}var xs=null,rl=0;function Cc(o){var s=rl;return rl+=1,xs===null&&(xs=[]),q0(xs,o,s)}function sl(o,s){s=s.props.ref,o.ref=s!==void 0?s:null}function Tc(o,s){throw s.$$typeof===S?Error(i(525)):(o=Object.prototype.toString.call(s),Error(i(31,o==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":o)))}function Y0(o){function s($,B){if(o){var H=$.deletions;H===null?($.deletions=[B],$.flags|=16):H.push(B)}}function l($,B){if(!o)return null;for(;B!==null;)s($,B),B=B.sibling;return null}function f($){for(var B=new Map;$!==null;)$.key!==null?B.set($.key,$):B.set($.index,$),$=$.sibling;return B}function v($,B){return $=$i($,B),$.index=0,$.sibling=null,$}function _($,B,H){return $.index=H,o?(H=$.alternate,H!==null?(H=H.index,H<B?($.flags|=67108866,B):H):($.flags|=67108866,B)):($.flags|=1048576,B)}function C($){return o&&$.alternate===null&&($.flags|=67108866),$}function R($,B,H,Z){return B===null||B.tag!==6?(B=dp(H,$.mode,Z),B.return=$,B):(B=v(B,H),B.return=$,B)}function P($,B,H,Z){var _e=H.type;return _e===A?X($,B,H.props.children,Z,H.key):B!==null&&(B.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===q&&xr(_e)===B.type)?(B=v(B,H.props),sl(B,H),B.return=$,B):(B=vc(H.type,H.key,H.props,null,$.mode,Z),sl(B,H),B.return=$,B)}function G($,B,H,Z){return B===null||B.tag!==4||B.stateNode.containerInfo!==H.containerInfo||B.stateNode.implementation!==H.implementation?(B=hp(H,$.mode,Z),B.return=$,B):(B=v(B,H.children||[]),B.return=$,B)}function X($,B,H,Z,_e){return B===null||B.tag!==7?(B=Er(H,$.mode,Z,_e),B.return=$,B):(B=v(B,H),B.return=$,B)}function te($,B,H){if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return B=dp(""+B,$.mode,H),B.return=$,B;if(typeof B=="object"&&B!==null){switch(B.$$typeof){case b:return H=vc(B.type,B.key,B.props,null,$.mode,H),sl(H,B),H.return=$,H;case T:return B=hp(B,$.mode,H),B.return=$,B;case q:return B=xr(B),te($,B,H)}if(de(B)||re(B))return B=Er(B,$.mode,H,null),B.return=$,B;if(typeof B.then=="function")return te($,Cc(B),H);if(B.$$typeof===N)return te($,Sc($,B),H);Tc($,B)}return null}function z($,B,H,Z){var _e=B!==null?B.key:null;if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return _e!==null?null:R($,B,""+H,Z);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case b:return H.key===_e?P($,B,H,Z):null;case T:return H.key===_e?G($,B,H,Z):null;case q:return H=xr(H),z($,B,H,Z)}if(de(H)||re(H))return _e!==null?null:X($,B,H,Z,null);if(typeof H.then=="function")return z($,B,Cc(H),Z);if(H.$$typeof===N)return z($,B,Sc($,H),Z);Tc($,H)}return null}function K($,B,H,Z,_e){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return $=$.get(H)||null,R(B,$,""+Z,_e);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case b:return $=$.get(Z.key===null?H:Z.key)||null,P(B,$,Z,_e);case T:return $=$.get(Z.key===null?H:Z.key)||null,G(B,$,Z,_e);case q:return Z=xr(Z),K($,B,H,Z,_e)}if(de(Z)||re(Z))return $=$.get(H)||null,X(B,$,Z,_e,null);if(typeof Z.then=="function")return K($,B,H,Cc(Z),_e);if(Z.$$typeof===N)return K($,B,H,Sc(B,Z),_e);Tc(B,Z)}return null}function he($,B,H,Z){for(var _e=null,$e=null,ge=B,Me=B=0,ke=null;ge!==null&&Me<H.length;Me++){ge.index>Me?(ke=ge,ge=null):ke=ge.sibling;var He=z($,ge,H[Me],Z);if(He===null){ge===null&&(ge=ke);break}o&&ge&&He.alternate===null&&s($,ge),B=_(He,B,Me),$e===null?_e=He:$e.sibling=He,$e=He,ge=ke}if(Me===H.length)return l($,ge),Le&&Hi($,Me),_e;if(ge===null){for(;Me<H.length;Me++)ge=te($,H[Me],Z),ge!==null&&(B=_(ge,B,Me),$e===null?_e=ge:$e.sibling=ge,$e=ge);return Le&&Hi($,Me),_e}for(ge=f(ge);Me<H.length;Me++)ke=K(ge,$,Me,H[Me],Z),ke!==null&&(o&&ke.alternate!==null&&ge.delete(ke.key===null?Me:ke.key),B=_(ke,B,Me),$e===null?_e=ke:$e.sibling=ke,$e=ke);return o&&ge.forEach(function(Ko){return s($,Ko)}),Le&&Hi($,Me),_e}function Ee($,B,H,Z){if(H==null)throw Error(i(151));for(var _e=null,$e=null,ge=B,Me=B=0,ke=null,He=H.next();ge!==null&&!He.done;Me++,He=H.next()){ge.index>Me?(ke=ge,ge=null):ke=ge.sibling;var Ko=z($,ge,He.value,Z);if(Ko===null){ge===null&&(ge=ke);break}o&&ge&&Ko.alternate===null&&s($,ge),B=_(Ko,B,Me),$e===null?_e=Ko:$e.sibling=Ko,$e=Ko,ge=ke}if(He.done)return l($,ge),Le&&Hi($,Me),_e;if(ge===null){for(;!He.done;Me++,He=H.next())He=te($,He.value,Z),He!==null&&(B=_(He,B,Me),$e===null?_e=He:$e.sibling=He,$e=He);return Le&&Hi($,Me),_e}for(ge=f(ge);!He.done;Me++,He=H.next())He=K(ge,$,Me,He.value,Z),He!==null&&(o&&He.alternate!==null&&ge.delete(He.key===null?Me:He.key),B=_(He,B,Me),$e===null?_e=He:$e.sibling=He,$e=He);return o&&ge.forEach(function(HP){return s($,HP)}),Le&&Hi($,Me),_e}function Qe($,B,H,Z){if(typeof H=="object"&&H!==null&&H.type===A&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case b:e:{for(var _e=H.key;B!==null;){if(B.key===_e){if(_e=H.type,_e===A){if(B.tag===7){l($,B.sibling),Z=v(B,H.props.children),Z.return=$,$=Z;break e}}else if(B.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===q&&xr(_e)===B.type){l($,B.sibling),Z=v(B,H.props),sl(Z,H),Z.return=$,$=Z;break e}l($,B);break}else s($,B);B=B.sibling}H.type===A?(Z=Er(H.props.children,$.mode,Z,H.key),Z.return=$,$=Z):(Z=vc(H.type,H.key,H.props,null,$.mode,Z),sl(Z,H),Z.return=$,$=Z)}return C($);case T:e:{for(_e=H.key;B!==null;){if(B.key===_e)if(B.tag===4&&B.stateNode.containerInfo===H.containerInfo&&B.stateNode.implementation===H.implementation){l($,B.sibling),Z=v(B,H.children||[]),Z.return=$,$=Z;break e}else{l($,B);break}else s($,B);B=B.sibling}Z=hp(H,$.mode,Z),Z.return=$,$=Z}return C($);case q:return H=xr(H),Qe($,B,H,Z)}if(de(H))return he($,B,H,Z);if(re(H)){if(_e=re(H),typeof _e!="function")throw Error(i(150));return H=_e.call(H),Ee($,B,H,Z)}if(typeof H.then=="function")return Qe($,B,Cc(H),Z);if(H.$$typeof===N)return Qe($,B,Sc($,H),Z);Tc($,H)}return typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint"?(H=""+H,B!==null&&B.tag===6?(l($,B.sibling),Z=v(B,H),Z.return=$,$=Z):(l($,B),Z=dp(H,$.mode,Z),Z.return=$,$=Z),C($)):l($,B)}return function($,B,H,Z){try{rl=0;var _e=Qe($,B,H,Z);return xs=null,_e}catch(ge){if(ge===As||ge===Ec)throw ge;var $e=un(29,ge,null,$.mode);return $e.lanes=Z,$e.return=$,$e}finally{}}}var Mr=Y0(!0),j0=Y0(!1),No=!1;function Tp(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ap(o,s){o=o.updateQueue,s.updateQueue===o&&(s.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,callbacks:null})}function Io(o){return{lane:o,tag:0,payload:null,callback:null,next:null}}function Do(o,s,l){var f=o.updateQueue;if(f===null)return null;if(f=f.shared,(Je&2)!==0){var v=f.pending;return v===null?s.next=s:(s.next=v.next,v.next=s),f.pending=s,s=gc(o),D0(o,null,l),s}return mc(o,f,s,l),gc(o)}function al(o,s,l){if(s=s.updateQueue,s!==null&&(s=s.shared,(l&4194048)!==0)){var f=s.lanes;f&=o.pendingLanes,l|=f,s.lanes=l,$_(o,l)}}function xp(o,s){var l=o.updateQueue,f=o.alternate;if(f!==null&&(f=f.updateQueue,l===f)){var v=null,_=null;if(l=l.firstBaseUpdate,l!==null){do{var C={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};_===null?v=_=C:_=_.next=C,l=l.next}while(l!==null);_===null?v=_=s:_=_.next=s}else v=_=s;l={baseState:f.baseState,firstBaseUpdate:v,lastBaseUpdate:_,shared:f.shared,callbacks:f.callbacks},o.updateQueue=l;return}o=l.lastBaseUpdate,o===null?l.firstBaseUpdate=s:o.next=s,l.lastBaseUpdate=s}var Rp=!1;function ll(){if(Rp){var o=Ts;if(o!==null)throw o}}function ul(o,s,l,f){Rp=!1;var v=o.updateQueue;No=!1;var _=v.firstBaseUpdate,C=v.lastBaseUpdate,R=v.shared.pending;if(R!==null){v.shared.pending=null;var P=R,G=P.next;P.next=null,C===null?_=G:C.next=G,C=P;var X=o.alternate;X!==null&&(X=X.updateQueue,R=X.lastBaseUpdate,R!==C&&(R===null?X.firstBaseUpdate=G:R.next=G,X.lastBaseUpdate=P))}if(_!==null){var te=v.baseState;C=0,X=G=P=null,R=_;do{var z=R.lane&-536870913,K=z!==R.lane;if(K?(Pe&z)===z:(f&z)===z){z!==0&&z===Cs&&(Rp=!0),X!==null&&(X=X.next={lane:0,tag:R.tag,payload:R.payload,callback:null,next:null});e:{var he=o,Ee=R;z=s;var Qe=l;switch(Ee.tag){case 1:if(he=Ee.payload,typeof he=="function"){te=he.call(Qe,te,z);break e}te=he;break e;case 3:he.flags=he.flags&-65537|128;case 0:if(he=Ee.payload,z=typeof he=="function"?he.call(Qe,te,z):he,z==null)break e;te=y({},te,z);break e;case 2:No=!0}}z=R.callback,z!==null&&(o.flags|=64,K&&(o.flags|=8192),K=v.callbacks,K===null?v.callbacks=[z]:K.push(z))}else K={lane:z,tag:R.tag,payload:R.payload,callback:R.callback,next:null},X===null?(G=X=K,P=te):X=X.next=K,C|=z;if(R=R.next,R===null){if(R=v.shared.pending,R===null)break;K=R,R=K.next,K.next=null,v.lastBaseUpdate=K,v.shared.pending=null}}while(!0);X===null&&(P=te),v.baseState=P,v.firstBaseUpdate=G,v.lastBaseUpdate=X,_===null&&(v.shared.lanes=0),Uo|=C,o.lanes=C,o.memoizedState=te}}function X0(o,s){if(typeof o!="function")throw Error(i(191,o));o.call(s)}function W0(o,s){var l=o.callbacks;if(l!==null)for(o.callbacks=null,o=0;o<l.length;o++)X0(l[o],s)}var Rs=k(null),Ac=k(0);function Q0(o,s){o=Qi,se(Ac,o),se(Rs,s),Qi=o|s.baseLanes}function Mp(){se(Ac,Qi),se(Rs,Rs.current)}function Np(){Qi=Ac.current,Y(Rs),Y(Ac)}var cn=k(null),Dn=null;function Oo(o){var s=o.alternate;se(ft,ft.current&1),se(cn,o),Dn===null&&(s===null||Rs.current!==null||s.memoizedState!==null)&&(Dn=o)}function Ip(o){se(ft,ft.current),se(cn,o),Dn===null&&(Dn=o)}function Z0(o){o.tag===22?(se(ft,ft.current),se(cn,o),Dn===null&&(Dn=o)):Po()}function Po(){se(ft,ft.current),se(cn,cn.current)}function fn(o){Y(cn),Dn===o&&(Dn=null),Y(ft)}var ft=k(0);function xc(o){for(var s=o;s!==null;){if(s.tag===13){var l=s.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||Um(l)||Bm(l)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===o)break;for(;s.sibling===null;){if(s.return===null||s.return===o)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var zi=0,Re=null,Xe=null,pt=null,Rc=!1,Ms=!1,Nr=!1,Mc=0,cl=0,Ns=null,I1=0;function at(){throw Error(i(321))}function Dp(o,s){if(s===null)return!1;for(var l=0;l<s.length&&l<o.length;l++)if(!ln(o[l],s[l]))return!1;return!0}function Op(o,s,l,f,v,_){return zi=_,Re=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,F.H=o===null||o.memoizedState===null?LS:Yp,Nr=!1,_=l(f,v),Nr=!1,Ms&&(_=tS(s,l,f,v)),eS(o),_}function eS(o){F.H=hl;var s=Xe!==null&&Xe.next!==null;if(zi=0,pt=Xe=Re=null,Rc=!1,cl=0,Ns=null,s)throw Error(i(300));o===null||mt||(o=o.dependencies,o!==null&&_c(o)&&(mt=!0))}function tS(o,s,l,f){Re=o;var v=0;do{if(Ms&&(Ns=null),cl=0,Ms=!1,25<=v)throw Error(i(301));if(v+=1,pt=Xe=null,o.updateQueue!=null){var _=o.updateQueue;_.lastEffect=null,_.events=null,_.stores=null,_.memoCache!=null&&(_.memoCache.index=0)}F.H=US,_=s(l,f)}while(Ms);return _}function D1(){var o=F.H,s=o.useState()[0];return s=typeof s.then=="function"?fl(s):s,o=o.useState()[0],(Xe!==null?Xe.memoizedState:null)!==o&&(Re.flags|=1024),s}function Pp(){var o=Mc!==0;return Mc=0,o}function kp(o,s,l){s.updateQueue=o.updateQueue,s.flags&=-2053,o.lanes&=~l}function Lp(o){if(Rc){for(o=o.memoizedState;o!==null;){var s=o.queue;s!==null&&(s.pending=null),o=o.next}Rc=!1}zi=0,pt=Xe=Re=null,Ms=!1,cl=Mc=0,Ns=null}function Ft(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return pt===null?Re.memoizedState=pt=o:pt=pt.next=o,pt}function dt(){if(Xe===null){var o=Re.alternate;o=o!==null?o.memoizedState:null}else o=Xe.next;var s=pt===null?Re.memoizedState:pt.next;if(s!==null)pt=s,Xe=o;else{if(o===null)throw Re.alternate===null?Error(i(467)):Error(i(310));Xe=o,o={memoizedState:Xe.memoizedState,baseState:Xe.baseState,baseQueue:Xe.baseQueue,queue:Xe.queue,next:null},pt===null?Re.memoizedState=pt=o:pt=pt.next=o}return pt}function Nc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function fl(o){var s=cl;return cl+=1,Ns===null&&(Ns=[]),o=q0(Ns,o,s),s=Re,(pt===null?s.memoizedState:pt.next)===null&&(s=s.alternate,F.H=s===null||s.memoizedState===null?LS:Yp),o}function Ic(o){if(o!==null&&typeof o=="object"){if(typeof o.then=="function")return fl(o);if(o.$$typeof===N)return Mt(o)}throw Error(i(438,String(o)))}function Up(o){var s=null,l=Re.updateQueue;if(l!==null&&(s=l.memoCache),s==null){var f=Re.alternate;f!==null&&(f=f.updateQueue,f!==null&&(f=f.memoCache,f!=null&&(s={data:f.data.map(function(v){return v.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),l===null&&(l=Nc(),Re.updateQueue=l),l.memoCache=s,l=s.data[s.index],l===void 0)for(l=s.data[s.index]=Array(o),f=0;f<o;f++)l[f]=j;return s.index++,l}function qi(o,s){return typeof s=="function"?s(o):s}function Dc(o){var s=dt();return Bp(s,Xe,o)}function Bp(o,s,l){var f=o.queue;if(f===null)throw Error(i(311));f.lastRenderedReducer=l;var v=o.baseQueue,_=f.pending;if(_!==null){if(v!==null){var C=v.next;v.next=_.next,_.next=C}s.baseQueue=v=_,f.pending=null}if(_=o.baseState,v===null)o.memoizedState=_;else{s=v.next;var R=C=null,P=null,G=s,X=!1;do{var te=G.lane&-536870913;if(te!==G.lane?(Pe&te)===te:(zi&te)===te){var z=G.revertLane;if(z===0)P!==null&&(P=P.next={lane:0,revertLane:0,gesture:null,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null}),te===Cs&&(X=!0);else if((zi&z)===z){G=G.next,z===Cs&&(X=!0);continue}else te={lane:0,revertLane:G.revertLane,gesture:null,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},P===null?(R=P=te,C=_):P=P.next=te,Re.lanes|=z,Uo|=z;te=G.action,Nr&&l(_,te),_=G.hasEagerState?G.eagerState:l(_,te)}else z={lane:te,revertLane:G.revertLane,gesture:G.gesture,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},P===null?(R=P=z,C=_):P=P.next=z,Re.lanes|=te,Uo|=te;G=G.next}while(G!==null&&G!==s);if(P===null?C=_:P.next=R,!ln(_,o.memoizedState)&&(mt=!0,X&&(l=Ts,l!==null)))throw l;o.memoizedState=_,o.baseState=C,o.baseQueue=P,f.lastRenderedState=_}return v===null&&(f.lanes=0),[o.memoizedState,f.dispatch]}function Fp(o){var s=dt(),l=s.queue;if(l===null)throw Error(i(311));l.lastRenderedReducer=o;var f=l.dispatch,v=l.pending,_=s.memoizedState;if(v!==null){l.pending=null;var C=v=v.next;do _=o(_,C.action),C=C.next;while(C!==v);ln(_,s.memoizedState)||(mt=!0),s.memoizedState=_,s.baseQueue===null&&(s.baseState=_),l.lastRenderedState=_}return[_,f]}function nS(o,s,l){var f=Re,v=dt(),_=Le;if(_){if(l===void 0)throw Error(i(407));l=l()}else l=s();var C=!ln((Xe||v).memoizedState,l);if(C&&(v.memoizedState=l,mt=!0),v=v.queue,Gp(rS.bind(null,f,v,o),[o]),v.getSnapshot!==s||C||pt!==null&&pt.memoizedState.tag&1){if(f.flags|=2048,Is(9,{destroy:void 0},oS.bind(null,f,v,l,s),null),et===null)throw Error(i(349));_||(zi&127)!==0||iS(f,s,l)}return l}function iS(o,s,l){o.flags|=16384,o={getSnapshot:s,value:l},s=Re.updateQueue,s===null?(s=Nc(),Re.updateQueue=s,s.stores=[o]):(l=s.stores,l===null?s.stores=[o]:l.push(o))}function oS(o,s,l,f){s.value=l,s.getSnapshot=f,sS(s)&&aS(o)}function rS(o,s,l){return l(function(){sS(s)&&aS(o)})}function sS(o){var s=o.getSnapshot;o=o.value;try{var l=s();return!ln(o,l)}catch{return!0}}function aS(o){var s=br(o,2);s!==null&&Zt(s,o,2)}function $p(o){var s=Ft();if(typeof o=="function"){var l=o;if(o=l(),Nr){wo(!0);try{l()}finally{wo(!1)}}}return s.memoizedState=s.baseState=o,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:qi,lastRenderedState:o},s}function lS(o,s,l,f){return o.baseState=l,Bp(o,Xe,typeof f=="function"?f:qi)}function O1(o,s,l,f,v){if(kc(o))throw Error(i(485));if(o=s.action,o!==null){var _={payload:v,action:o,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(C){_.listeners.push(C)}};F.T!==null?l(!0):_.isTransition=!1,f(_),l=s.pending,l===null?(_.next=s.pending=_,uS(s,_)):(_.next=l.next,s.pending=l.next=_)}}function uS(o,s){var l=s.action,f=s.payload,v=o.state;if(s.isTransition){var _=F.T,C={};F.T=C;try{var R=l(v,f),P=F.S;P!==null&&P(C,R),cS(o,s,R)}catch(G){Hp(o,s,G)}finally{_!==null&&C.types!==null&&(_.types=C.types),F.T=_}}else try{_=l(v,f),cS(o,s,_)}catch(G){Hp(o,s,G)}}function cS(o,s,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(f){fS(o,s,f)},function(f){return Hp(o,s,f)}):fS(o,s,l)}function fS(o,s,l){s.status="fulfilled",s.value=l,dS(s),o.state=l,s=o.pending,s!==null&&(l=s.next,l===s?o.pending=null:(l=l.next,s.next=l,uS(o,l)))}function Hp(o,s,l){var f=o.pending;if(o.pending=null,f!==null){f=f.next;do s.status="rejected",s.reason=l,dS(s),s=s.next;while(s!==f)}o.action=null}function dS(o){o=o.listeners;for(var s=0;s<o.length;s++)(0,o[s])()}function hS(o,s){return s}function pS(o,s){if(Le){var l=et.formState;if(l!==null){e:{var f=Re;if(Le){if(it){t:{for(var v=it,_=In;v.nodeType!==8;){if(!_){v=null;break t}if(v=On(v.nextSibling),v===null){v=null;break t}}_=v.data,v=_==="F!"||_==="F"?v:null}if(v){it=On(v.nextSibling),f=v.data==="F!";break e}}Ro(f)}f=!1}f&&(s=l[0])}}return l=Ft(),l.memoizedState=l.baseState=s,f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:hS,lastRenderedState:s},l.queue=f,l=OS.bind(null,Re,f),f.dispatch=l,f=$p(!1),_=Kp.bind(null,Re,!1,f.queue),f=Ft(),v={state:s,dispatch:null,action:o,pending:null},f.queue=v,l=O1.bind(null,Re,v,_,l),v.dispatch=l,f.memoizedState=o,[s,l,!1]}function mS(o){var s=dt();return gS(s,Xe,o)}function gS(o,s,l){if(s=Bp(o,s,hS)[0],o=Dc(qi)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var f=fl(s)}catch(C){throw C===As?Ec:C}else f=s;s=dt();var v=s.queue,_=v.dispatch;return l!==s.memoizedState&&(Re.flags|=2048,Is(9,{destroy:void 0},P1.bind(null,v,l),null)),[f,_,o]}function P1(o,s){o.action=s}function vS(o){var s=dt(),l=Xe;if(l!==null)return gS(s,l,o);dt(),s=s.memoizedState,l=dt();var f=l.queue.dispatch;return l.memoizedState=o,[s,f,!1]}function Is(o,s,l,f){return o={tag:o,create:l,deps:f,inst:s,next:null},s=Re.updateQueue,s===null&&(s=Nc(),Re.updateQueue=s),l=s.lastEffect,l===null?s.lastEffect=o.next=o:(f=l.next,l.next=o,o.next=f,s.lastEffect=o),o}function yS(){return dt().memoizedState}function Oc(o,s,l,f){var v=Ft();Re.flags|=o,v.memoizedState=Is(1|s,{destroy:void 0},l,f===void 0?null:f)}function Pc(o,s,l,f){var v=dt();f=f===void 0?null:f;var _=v.memoizedState.inst;Xe!==null&&f!==null&&Dp(f,Xe.memoizedState.deps)?v.memoizedState=Is(s,_,l,f):(Re.flags|=o,v.memoizedState=Is(1|s,_,l,f))}function _S(o,s){Oc(8390656,8,o,s)}function Gp(o,s){Pc(2048,8,o,s)}function k1(o){Re.flags|=4;var s=Re.updateQueue;if(s===null)s=Nc(),Re.updateQueue=s,s.events=[o];else{var l=s.events;l===null?s.events=[o]:l.push(o)}}function SS(o){var s=dt().memoizedState;return k1({ref:s,nextImpl:o}),function(){if((Je&2)!==0)throw Error(i(440));return s.impl.apply(void 0,arguments)}}function bS(o,s){return Pc(4,2,o,s)}function ES(o,s){return Pc(4,4,o,s)}function wS(o,s){if(typeof s=="function"){o=o();var l=s(o);return function(){typeof l=="function"?l():s(null)}}if(s!=null)return o=o(),s.current=o,function(){s.current=null}}function CS(o,s,l){l=l!=null?l.concat([o]):null,Pc(4,4,wS.bind(null,s,o),l)}function Vp(){}function TS(o,s){var l=dt();s=s===void 0?null:s;var f=l.memoizedState;return s!==null&&Dp(s,f[1])?f[0]:(l.memoizedState=[o,s],o)}function AS(o,s){var l=dt();s=s===void 0?null:s;var f=l.memoizedState;if(s!==null&&Dp(s,f[1]))return f[0];if(f=o(),Nr){wo(!0);try{o()}finally{wo(!1)}}return l.memoizedState=[f,s],f}function zp(o,s,l){return l===void 0||(zi&1073741824)!==0&&(Pe&261930)===0?o.memoizedState=s:(o.memoizedState=l,o=xb(),Re.lanes|=o,Uo|=o,l)}function xS(o,s,l,f){return ln(l,s)?l:Rs.current!==null?(o=zp(o,l,f),ln(o,s)||(mt=!0),o):(zi&42)===0||(zi&1073741824)!==0&&(Pe&261930)===0?(mt=!0,o.memoizedState=l):(o=xb(),Re.lanes|=o,Uo|=o,s)}function RS(o,s,l,f,v){var _=Q.p;Q.p=_!==0&&8>_?_:8;var C=F.T,R={};F.T=R,Kp(o,!1,s,l);try{var P=v(),G=F.S;if(G!==null&&G(R,P),P!==null&&typeof P=="object"&&typeof P.then=="function"){var X=N1(P,f);dl(o,s,X,pn(o))}else dl(o,s,f,pn(o))}catch(te){dl(o,s,{then:function(){},status:"rejected",reason:te},pn())}finally{Q.p=_,C!==null&&R.types!==null&&(C.types=R.types),F.T=C}}function L1(){}function qp(o,s,l,f){if(o.tag!==5)throw Error(i(476));var v=MS(o).queue;RS(o,v,s,ee,l===null?L1:function(){return NS(o),l(f)})}function MS(o){var s=o.memoizedState;if(s!==null)return s;s={memoizedState:ee,baseState:ee,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:qi,lastRenderedState:ee},next:null};var l={};return s.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:qi,lastRenderedState:l},next:null},o.memoizedState=s,o=o.alternate,o!==null&&(o.memoizedState=s),s}function NS(o){var s=MS(o);s.next===null&&(s=o.alternate.memoizedState),dl(o,s.next.queue,{},pn())}function Jp(){return Mt(Ml)}function IS(){return dt().memoizedState}function DS(){return dt().memoizedState}function U1(o){for(var s=o.return;s!==null;){switch(s.tag){case 24:case 3:var l=pn();o=Io(l);var f=Do(s,o,l);f!==null&&(Zt(f,s,l),al(f,s,l)),s={cache:bp()},o.payload=s;return}s=s.return}}function B1(o,s,l){var f=pn();l={lane:f,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},kc(o)?PS(s,l):(l=cp(o,s,l,f),l!==null&&(Zt(l,o,f),kS(l,s,f)))}function OS(o,s,l){var f=pn();dl(o,s,l,f)}function dl(o,s,l,f){var v={lane:f,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(kc(o))PS(s,v);else{var _=o.alternate;if(o.lanes===0&&(_===null||_.lanes===0)&&(_=s.lastRenderedReducer,_!==null))try{var C=s.lastRenderedState,R=_(C,l);if(v.hasEagerState=!0,v.eagerState=R,ln(R,C))return mc(o,s,v,0),et===null&&pc(),!1}catch{}finally{}if(l=cp(o,s,v,f),l!==null)return Zt(l,o,f),kS(l,s,f),!0}return!1}function Kp(o,s,l,f){if(f={lane:2,revertLane:Tm(),gesture:null,action:f,hasEagerState:!1,eagerState:null,next:null},kc(o)){if(s)throw Error(i(479))}else s=cp(o,l,f,2),s!==null&&Zt(s,o,2)}function kc(o){var s=o.alternate;return o===Re||s!==null&&s===Re}function PS(o,s){Ms=Rc=!0;var l=o.pending;l===null?s.next=s:(s.next=l.next,l.next=s),o.pending=s}function kS(o,s,l){if((l&4194048)!==0){var f=s.lanes;f&=o.pendingLanes,l|=f,s.lanes=l,$_(o,l)}}var hl={readContext:Mt,use:Ic,useCallback:at,useContext:at,useEffect:at,useImperativeHandle:at,useLayoutEffect:at,useInsertionEffect:at,useMemo:at,useReducer:at,useRef:at,useState:at,useDebugValue:at,useDeferredValue:at,useTransition:at,useSyncExternalStore:at,useId:at,useHostTransitionStatus:at,useFormState:at,useActionState:at,useOptimistic:at,useMemoCache:at,useCacheRefresh:at};hl.useEffectEvent=at;var LS={readContext:Mt,use:Ic,useCallback:function(o,s){return Ft().memoizedState=[o,s===void 0?null:s],o},useContext:Mt,useEffect:_S,useImperativeHandle:function(o,s,l){l=l!=null?l.concat([o]):null,Oc(4194308,4,wS.bind(null,s,o),l)},useLayoutEffect:function(o,s){return Oc(4194308,4,o,s)},useInsertionEffect:function(o,s){Oc(4,2,o,s)},useMemo:function(o,s){var l=Ft();s=s===void 0?null:s;var f=o();if(Nr){wo(!0);try{o()}finally{wo(!1)}}return l.memoizedState=[f,s],f},useReducer:function(o,s,l){var f=Ft();if(l!==void 0){var v=l(s);if(Nr){wo(!0);try{l(s)}finally{wo(!1)}}}else v=s;return f.memoizedState=f.baseState=v,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:v},f.queue=o,o=o.dispatch=B1.bind(null,Re,o),[f.memoizedState,o]},useRef:function(o){var s=Ft();return o={current:o},s.memoizedState=o},useState:function(o){o=$p(o);var s=o.queue,l=OS.bind(null,Re,s);return s.dispatch=l,[o.memoizedState,l]},useDebugValue:Vp,useDeferredValue:function(o,s){var l=Ft();return zp(l,o,s)},useTransition:function(){var o=$p(!1);return o=RS.bind(null,Re,o.queue,!0,!1),Ft().memoizedState=o,[!1,o]},useSyncExternalStore:function(o,s,l){var f=Re,v=Ft();if(Le){if(l===void 0)throw Error(i(407));l=l()}else{if(l=s(),et===null)throw Error(i(349));(Pe&127)!==0||iS(f,s,l)}v.memoizedState=l;var _={value:l,getSnapshot:s};return v.queue=_,_S(rS.bind(null,f,_,o),[o]),f.flags|=2048,Is(9,{destroy:void 0},oS.bind(null,f,_,l,s),null),l},useId:function(){var o=Ft(),s=et.identifierPrefix;if(Le){var l=pi,f=hi;l=(f&~(1<<32-an(f)-1)).toString(32)+l,s="_"+s+"R_"+l,l=Mc++,0<l&&(s+="H"+l.toString(32)),s+="_"}else l=I1++,s="_"+s+"r_"+l.toString(32)+"_";return o.memoizedState=s},useHostTransitionStatus:Jp,useFormState:pS,useActionState:pS,useOptimistic:function(o){var s=Ft();s.memoizedState=s.baseState=o;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=l,s=Kp.bind(null,Re,!0,l),l.dispatch=s,[o,s]},useMemoCache:Up,useCacheRefresh:function(){return Ft().memoizedState=U1.bind(null,Re)},useEffectEvent:function(o){var s=Ft(),l={impl:o};return s.memoizedState=l,function(){if((Je&2)!==0)throw Error(i(440));return l.impl.apply(void 0,arguments)}}},Yp={readContext:Mt,use:Ic,useCallback:TS,useContext:Mt,useEffect:Gp,useImperativeHandle:CS,useInsertionEffect:bS,useLayoutEffect:ES,useMemo:AS,useReducer:Dc,useRef:yS,useState:function(){return Dc(qi)},useDebugValue:Vp,useDeferredValue:function(o,s){var l=dt();return xS(l,Xe.memoizedState,o,s)},useTransition:function(){var o=Dc(qi)[0],s=dt().memoizedState;return[typeof o=="boolean"?o:fl(o),s]},useSyncExternalStore:nS,useId:IS,useHostTransitionStatus:Jp,useFormState:mS,useActionState:mS,useOptimistic:function(o,s){var l=dt();return lS(l,Xe,o,s)},useMemoCache:Up,useCacheRefresh:DS};Yp.useEffectEvent=SS;var US={readContext:Mt,use:Ic,useCallback:TS,useContext:Mt,useEffect:Gp,useImperativeHandle:CS,useInsertionEffect:bS,useLayoutEffect:ES,useMemo:AS,useReducer:Fp,useRef:yS,useState:function(){return Fp(qi)},useDebugValue:Vp,useDeferredValue:function(o,s){var l=dt();return Xe===null?zp(l,o,s):xS(l,Xe.memoizedState,o,s)},useTransition:function(){var o=Fp(qi)[0],s=dt().memoizedState;return[typeof o=="boolean"?o:fl(o),s]},useSyncExternalStore:nS,useId:IS,useHostTransitionStatus:Jp,useFormState:vS,useActionState:vS,useOptimistic:function(o,s){var l=dt();return Xe!==null?lS(l,Xe,o,s):(l.baseState=o,[o,l.queue.dispatch])},useMemoCache:Up,useCacheRefresh:DS};US.useEffectEvent=SS;function jp(o,s,l,f){s=o.memoizedState,l=l(f,s),l=l==null?s:y({},s,l),o.memoizedState=l,o.lanes===0&&(o.updateQueue.baseState=l)}var Xp={enqueueSetState:function(o,s,l){o=o._reactInternals;var f=pn(),v=Io(f);v.payload=s,l!=null&&(v.callback=l),s=Do(o,v,f),s!==null&&(Zt(s,o,f),al(s,o,f))},enqueueReplaceState:function(o,s,l){o=o._reactInternals;var f=pn(),v=Io(f);v.tag=1,v.payload=s,l!=null&&(v.callback=l),s=Do(o,v,f),s!==null&&(Zt(s,o,f),al(s,o,f))},enqueueForceUpdate:function(o,s){o=o._reactInternals;var l=pn(),f=Io(l);f.tag=2,s!=null&&(f.callback=s),s=Do(o,f,l),s!==null&&(Zt(s,o,l),al(s,o,l))}};function BS(o,s,l,f,v,_,C){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(f,_,C):s.prototype&&s.prototype.isPureReactComponent?!Za(l,f)||!Za(v,_):!0}function FS(o,s,l,f){o=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(l,f),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(l,f),s.state!==o&&Xp.enqueueReplaceState(s,s.state,null)}function Ir(o,s){var l=s;if("ref"in s){l={};for(var f in s)f!=="ref"&&(l[f]=s[f])}if(o=o.defaultProps){l===s&&(l=y({},l));for(var v in o)l[v]===void 0&&(l[v]=o[v])}return l}function $S(o){hc(o)}function HS(o){console.error(o)}function GS(o){hc(o)}function Lc(o,s){try{var l=o.onUncaughtError;l(s.value,{componentStack:s.stack})}catch(f){setTimeout(function(){throw f})}}function VS(o,s,l){try{var f=o.onCaughtError;f(l.value,{componentStack:l.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(v){setTimeout(function(){throw v})}}function Wp(o,s,l){return l=Io(l),l.tag=3,l.payload={element:null},l.callback=function(){Lc(o,s)},l}function zS(o){return o=Io(o),o.tag=3,o}function qS(o,s,l,f){var v=l.type.getDerivedStateFromError;if(typeof v=="function"){var _=f.value;o.payload=function(){return v(_)},o.callback=function(){VS(s,l,f)}}var C=l.stateNode;C!==null&&typeof C.componentDidCatch=="function"&&(o.callback=function(){VS(s,l,f),typeof v!="function"&&(Bo===null?Bo=new Set([this]):Bo.add(this));var R=f.stack;this.componentDidCatch(f.value,{componentStack:R!==null?R:""})})}function F1(o,s,l,f,v){if(l.flags|=32768,f!==null&&typeof f=="object"&&typeof f.then=="function"){if(s=l.alternate,s!==null&&ws(s,l,v,!0),l=cn.current,l!==null){switch(l.tag){case 31:case 13:return Dn===null?Yc():l.alternate===null&&lt===0&&(lt=3),l.flags&=-257,l.flags|=65536,l.lanes=v,f===wc?l.flags|=16384:(s=l.updateQueue,s===null?l.updateQueue=new Set([f]):s.add(f),Em(o,f,v)),!1;case 22:return l.flags|=65536,f===wc?l.flags|=16384:(s=l.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([f])},l.updateQueue=s):(l=s.retryQueue,l===null?s.retryQueue=new Set([f]):l.add(f)),Em(o,f,v)),!1}throw Error(i(435,l.tag))}return Em(o,f,v),Yc(),!1}if(Le)return s=cn.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=v,f!==gp&&(o=Error(i(422),{cause:f}),nl(Rn(o,l)))):(f!==gp&&(s=Error(i(423),{cause:f}),nl(Rn(s,l))),o=o.current.alternate,o.flags|=65536,v&=-v,o.lanes|=v,f=Rn(f,l),v=Wp(o.stateNode,f,v),xp(o,v),lt!==4&&(lt=2)),!1;var _=Error(i(520),{cause:f});if(_=Rn(_,l),bl===null?bl=[_]:bl.push(_),lt!==4&&(lt=2),s===null)return!0;f=Rn(f,l),l=s;do{switch(l.tag){case 3:return l.flags|=65536,o=v&-v,l.lanes|=o,o=Wp(l.stateNode,f,o),xp(l,o),!1;case 1:if(s=l.type,_=l.stateNode,(l.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(Bo===null||!Bo.has(_))))return l.flags|=65536,v&=-v,l.lanes|=v,v=zS(v),qS(v,o,l,f),xp(l,v),!1}l=l.return}while(l!==null);return!1}var Qp=Error(i(461)),mt=!1;function Nt(o,s,l,f){s.child=o===null?j0(s,null,l,f):Mr(s,o.child,l,f)}function JS(o,s,l,f,v){l=l.render;var _=s.ref;if("ref"in f){var C={};for(var R in f)R!=="ref"&&(C[R]=f[R])}else C=f;return Tr(s),f=Op(o,s,l,C,_,v),R=Pp(),o!==null&&!mt?(kp(o,s,v),Ji(o,s,v)):(Le&&R&&pp(s),s.flags|=1,Nt(o,s,f,v),s.child)}function KS(o,s,l,f,v){if(o===null){var _=l.type;return typeof _=="function"&&!fp(_)&&_.defaultProps===void 0&&l.compare===null?(s.tag=15,s.type=_,YS(o,s,_,f,v)):(o=vc(l.type,null,f,s,s.mode,v),o.ref=s.ref,o.return=s,s.child=o)}if(_=o.child,!sm(o,v)){var C=_.memoizedProps;if(l=l.compare,l=l!==null?l:Za,l(C,f)&&o.ref===s.ref)return Ji(o,s,v)}return s.flags|=1,o=$i(_,f),o.ref=s.ref,o.return=s,s.child=o}function YS(o,s,l,f,v){if(o!==null){var _=o.memoizedProps;if(Za(_,f)&&o.ref===s.ref)if(mt=!1,s.pendingProps=f=_,sm(o,v))(o.flags&131072)!==0&&(mt=!0);else return s.lanes=o.lanes,Ji(o,s,v)}return Zp(o,s,l,f,v)}function jS(o,s,l,f){var v=f.children,_=o!==null?o.memoizedState:null;if(o===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),f.mode==="hidden"){if((s.flags&128)!==0){if(_=_!==null?_.baseLanes|l:l,o!==null){for(f=s.child=o.child,v=0;f!==null;)v=v|f.lanes|f.childLanes,f=f.sibling;f=v&~_}else f=0,s.child=null;return XS(o,s,_,l,f)}if((l&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},o!==null&&bc(s,_!==null?_.cachePool:null),_!==null?Q0(s,_):Mp(),Z0(s);else return f=s.lanes=536870912,XS(o,s,_!==null?_.baseLanes|l:l,l,f)}else _!==null?(bc(s,_.cachePool),Q0(s,_),Po(),s.memoizedState=null):(o!==null&&bc(s,null),Mp(),Po());return Nt(o,s,v,l),s.child}function pl(o,s){return o!==null&&o.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function XS(o,s,l,f,v){var _=wp();return _=_===null?null:{parent:ht._currentValue,pool:_},s.memoizedState={baseLanes:l,cachePool:_},o!==null&&bc(s,null),Mp(),Z0(s),o!==null&&ws(o,s,f,!0),s.childLanes=v,null}function Uc(o,s){return s=Fc({mode:s.mode,children:s.children},o.mode),s.ref=o.ref,o.child=s,s.return=o,s}function WS(o,s,l){return Mr(s,o.child,null,l),o=Uc(s,s.pendingProps),o.flags|=2,fn(s),s.memoizedState=null,o}function $1(o,s,l){var f=s.pendingProps,v=(s.flags&128)!==0;if(s.flags&=-129,o===null){if(Le){if(f.mode==="hidden")return o=Uc(s,f),s.lanes=536870912,pl(null,o);if(Ip(s),(o=it)?(o=uE(o,In),o=o!==null&&o.data==="&"?o:null,o!==null&&(s.memoizedState={dehydrated:o,treeContext:Ao!==null?{id:hi,overflow:pi}:null,retryLane:536870912,hydrationErrors:null},l=P0(o),l.return=s,s.child=l,Rt=s,it=null)):o=null,o===null)throw Ro(s);return s.lanes=536870912,null}return Uc(s,f)}var _=o.memoizedState;if(_!==null){var C=_.dehydrated;if(Ip(s),v)if(s.flags&256)s.flags&=-257,s=WS(o,s,l);else if(s.memoizedState!==null)s.child=o.child,s.flags|=128,s=null;else throw Error(i(558));else if(mt||ws(o,s,l,!1),v=(l&o.childLanes)!==0,mt||v){if(f=et,f!==null&&(C=H_(f,l),C!==0&&C!==_.retryLane))throw _.retryLane=C,br(o,C),Zt(f,o,C),Qp;Yc(),s=WS(o,s,l)}else o=_.treeContext,it=On(C.nextSibling),Rt=s,Le=!0,xo=null,In=!1,o!==null&&U0(s,o),s=Uc(s,f),s.flags|=4096;return s}return o=$i(o.child,{mode:f.mode,children:f.children}),o.ref=s.ref,s.child=o,o.return=s,o}function Bc(o,s){var l=s.ref;if(l===null)o!==null&&o.ref!==null&&(s.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(i(284));(o===null||o.ref!==l)&&(s.flags|=4194816)}}function Zp(o,s,l,f,v){return Tr(s),l=Op(o,s,l,f,void 0,v),f=Pp(),o!==null&&!mt?(kp(o,s,v),Ji(o,s,v)):(Le&&f&&pp(s),s.flags|=1,Nt(o,s,l,v),s.child)}function QS(o,s,l,f,v,_){return Tr(s),s.updateQueue=null,l=tS(s,f,l,v),eS(o),f=Pp(),o!==null&&!mt?(kp(o,s,_),Ji(o,s,_)):(Le&&f&&pp(s),s.flags|=1,Nt(o,s,l,_),s.child)}function ZS(o,s,l,f,v){if(Tr(s),s.stateNode===null){var _=_s,C=l.contextType;typeof C=="object"&&C!==null&&(_=Mt(C)),_=new l(f,_),s.memoizedState=_.state!==null&&_.state!==void 0?_.state:null,_.updater=Xp,s.stateNode=_,_._reactInternals=s,_=s.stateNode,_.props=f,_.state=s.memoizedState,_.refs={},Tp(s),C=l.contextType,_.context=typeof C=="object"&&C!==null?Mt(C):_s,_.state=s.memoizedState,C=l.getDerivedStateFromProps,typeof C=="function"&&(jp(s,l,C,f),_.state=s.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof _.getSnapshotBeforeUpdate=="function"||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(C=_.state,typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount(),C!==_.state&&Xp.enqueueReplaceState(_,_.state,null),ul(s,f,_,v),ll(),_.state=s.memoizedState),typeof _.componentDidMount=="function"&&(s.flags|=4194308),f=!0}else if(o===null){_=s.stateNode;var R=s.memoizedProps,P=Ir(l,R);_.props=P;var G=_.context,X=l.contextType;C=_s,typeof X=="object"&&X!==null&&(C=Mt(X));var te=l.getDerivedStateFromProps;X=typeof te=="function"||typeof _.getSnapshotBeforeUpdate=="function",R=s.pendingProps!==R,X||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(R||G!==C)&&FS(s,_,f,C),No=!1;var z=s.memoizedState;_.state=z,ul(s,f,_,v),ll(),G=s.memoizedState,R||z!==G||No?(typeof te=="function"&&(jp(s,l,te,f),G=s.memoizedState),(P=No||BS(s,l,P,f,z,G,C))?(X||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(s.flags|=4194308)):(typeof _.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=f,s.memoizedState=G),_.props=f,_.state=G,_.context=C,f=P):(typeof _.componentDidMount=="function"&&(s.flags|=4194308),f=!1)}else{_=s.stateNode,Ap(o,s),C=s.memoizedProps,X=Ir(l,C),_.props=X,te=s.pendingProps,z=_.context,G=l.contextType,P=_s,typeof G=="object"&&G!==null&&(P=Mt(G)),R=l.getDerivedStateFromProps,(G=typeof R=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(C!==te||z!==P)&&FS(s,_,f,P),No=!1,z=s.memoizedState,_.state=z,ul(s,f,_,v),ll();var K=s.memoizedState;C!==te||z!==K||No||o!==null&&o.dependencies!==null&&_c(o.dependencies)?(typeof R=="function"&&(jp(s,l,R,f),K=s.memoizedState),(X=No||BS(s,l,X,f,z,K,P)||o!==null&&o.dependencies!==null&&_c(o.dependencies))?(G||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(f,K,P),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(f,K,P)),typeof _.componentDidUpdate=="function"&&(s.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof _.componentDidUpdate!="function"||C===o.memoizedProps&&z===o.memoizedState||(s.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||C===o.memoizedProps&&z===o.memoizedState||(s.flags|=1024),s.memoizedProps=f,s.memoizedState=K),_.props=f,_.state=K,_.context=P,f=X):(typeof _.componentDidUpdate!="function"||C===o.memoizedProps&&z===o.memoizedState||(s.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||C===o.memoizedProps&&z===o.memoizedState||(s.flags|=1024),f=!1)}return _=f,Bc(o,s),f=(s.flags&128)!==0,_||f?(_=s.stateNode,l=f&&typeof l.getDerivedStateFromError!="function"?null:_.render(),s.flags|=1,o!==null&&f?(s.child=Mr(s,o.child,null,v),s.child=Mr(s,null,l,v)):Nt(o,s,l,v),s.memoizedState=_.state,o=s.child):o=Ji(o,s,v),o}function eb(o,s,l,f){return wr(),s.flags|=256,Nt(o,s,l,f),s.child}var em={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function tm(o){return{baseLanes:o,cachePool:V0()}}function nm(o,s,l){return o=o!==null?o.childLanes&~l:0,s&&(o|=hn),o}function tb(o,s,l){var f=s.pendingProps,v=!1,_=(s.flags&128)!==0,C;if((C=_)||(C=o!==null&&o.memoizedState===null?!1:(ft.current&2)!==0),C&&(v=!0,s.flags&=-129),C=(s.flags&32)!==0,s.flags&=-33,o===null){if(Le){if(v?Oo(s):Po(),(o=it)?(o=uE(o,In),o=o!==null&&o.data!=="&"?o:null,o!==null&&(s.memoizedState={dehydrated:o,treeContext:Ao!==null?{id:hi,overflow:pi}:null,retryLane:536870912,hydrationErrors:null},l=P0(o),l.return=s,s.child=l,Rt=s,it=null)):o=null,o===null)throw Ro(s);return Bm(o)?s.lanes=32:s.lanes=536870912,null}var R=f.children;return f=f.fallback,v?(Po(),v=s.mode,R=Fc({mode:"hidden",children:R},v),f=Er(f,v,l,null),R.return=s,f.return=s,R.sibling=f,s.child=R,f=s.child,f.memoizedState=tm(l),f.childLanes=nm(o,C,l),s.memoizedState=em,pl(null,f)):(Oo(s),im(s,R))}var P=o.memoizedState;if(P!==null&&(R=P.dehydrated,R!==null)){if(_)s.flags&256?(Oo(s),s.flags&=-257,s=om(o,s,l)):s.memoizedState!==null?(Po(),s.child=o.child,s.flags|=128,s=null):(Po(),R=f.fallback,v=s.mode,f=Fc({mode:"visible",children:f.children},v),R=Er(R,v,l,null),R.flags|=2,f.return=s,R.return=s,f.sibling=R,s.child=f,Mr(s,o.child,null,l),f=s.child,f.memoizedState=tm(l),f.childLanes=nm(o,C,l),s.memoizedState=em,s=pl(null,f));else if(Oo(s),Bm(R)){if(C=R.nextSibling&&R.nextSibling.dataset,C)var G=C.dgst;C=G,f=Error(i(419)),f.stack="",f.digest=C,nl({value:f,source:null,stack:null}),s=om(o,s,l)}else if(mt||ws(o,s,l,!1),C=(l&o.childLanes)!==0,mt||C){if(C=et,C!==null&&(f=H_(C,l),f!==0&&f!==P.retryLane))throw P.retryLane=f,br(o,f),Zt(C,o,f),Qp;Um(R)||Yc(),s=om(o,s,l)}else Um(R)?(s.flags|=192,s.child=o.child,s=null):(o=P.treeContext,it=On(R.nextSibling),Rt=s,Le=!0,xo=null,In=!1,o!==null&&U0(s,o),s=im(s,f.children),s.flags|=4096);return s}return v?(Po(),R=f.fallback,v=s.mode,P=o.child,G=P.sibling,f=$i(P,{mode:"hidden",children:f.children}),f.subtreeFlags=P.subtreeFlags&65011712,G!==null?R=$i(G,R):(R=Er(R,v,l,null),R.flags|=2),R.return=s,f.return=s,f.sibling=R,s.child=f,pl(null,f),f=s.child,R=o.child.memoizedState,R===null?R=tm(l):(v=R.cachePool,v!==null?(P=ht._currentValue,v=v.parent!==P?{parent:P,pool:P}:v):v=V0(),R={baseLanes:R.baseLanes|l,cachePool:v}),f.memoizedState=R,f.childLanes=nm(o,C,l),s.memoizedState=em,pl(o.child,f)):(Oo(s),l=o.child,o=l.sibling,l=$i(l,{mode:"visible",children:f.children}),l.return=s,l.sibling=null,o!==null&&(C=s.deletions,C===null?(s.deletions=[o],s.flags|=16):C.push(o)),s.child=l,s.memoizedState=null,l)}function im(o,s){return s=Fc({mode:"visible",children:s},o.mode),s.return=o,o.child=s}function Fc(o,s){return o=un(22,o,null,s),o.lanes=0,o}function om(o,s,l){return Mr(s,o.child,null,l),o=im(s,s.pendingProps.children),o.flags|=2,s.memoizedState=null,o}function nb(o,s,l){o.lanes|=s;var f=o.alternate;f!==null&&(f.lanes|=s),_p(o.return,s,l)}function rm(o,s,l,f,v,_){var C=o.memoizedState;C===null?o.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:f,tail:l,tailMode:v,treeForkCount:_}:(C.isBackwards=s,C.rendering=null,C.renderingStartTime=0,C.last=f,C.tail=l,C.tailMode=v,C.treeForkCount=_)}function ib(o,s,l){var f=s.pendingProps,v=f.revealOrder,_=f.tail;f=f.children;var C=ft.current,R=(C&2)!==0;if(R?(C=C&1|2,s.flags|=128):C&=1,se(ft,C),Nt(o,s,f,l),f=Le?tl:0,!R&&o!==null&&(o.flags&128)!==0)e:for(o=s.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&nb(o,l,s);else if(o.tag===19)nb(o,l,s);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break e;for(;o.sibling===null;){if(o.return===null||o.return===s)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}switch(v){case"forwards":for(l=s.child,v=null;l!==null;)o=l.alternate,o!==null&&xc(o)===null&&(v=l),l=l.sibling;l=v,l===null?(v=s.child,s.child=null):(v=l.sibling,l.sibling=null),rm(s,!1,v,l,_,f);break;case"backwards":case"unstable_legacy-backwards":for(l=null,v=s.child,s.child=null;v!==null;){if(o=v.alternate,o!==null&&xc(o)===null){s.child=v;break}o=v.sibling,v.sibling=l,l=v,v=o}rm(s,!0,l,null,_,f);break;case"together":rm(s,!1,null,null,void 0,f);break;default:s.memoizedState=null}return s.child}function Ji(o,s,l){if(o!==null&&(s.dependencies=o.dependencies),Uo|=s.lanes,(l&s.childLanes)===0)if(o!==null){if(ws(o,s,l,!1),(l&s.childLanes)===0)return null}else return null;if(o!==null&&s.child!==o.child)throw Error(i(153));if(s.child!==null){for(o=s.child,l=$i(o,o.pendingProps),s.child=l,l.return=s;o.sibling!==null;)o=o.sibling,l=l.sibling=$i(o,o.pendingProps),l.return=s;l.sibling=null}return s.child}function sm(o,s){return(o.lanes&s)!==0?!0:(o=o.dependencies,!!(o!==null&&_c(o)))}function H1(o,s,l){switch(s.tag){case 3:ze(s,s.stateNode.containerInfo),Mo(s,ht,o.memoizedState.cache),wr();break;case 27:case 5:rn(s);break;case 4:ze(s,s.stateNode.containerInfo);break;case 10:Mo(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,Ip(s),null;break;case 13:var f=s.memoizedState;if(f!==null)return f.dehydrated!==null?(Oo(s),s.flags|=128,null):(l&s.child.childLanes)!==0?tb(o,s,l):(Oo(s),o=Ji(o,s,l),o!==null?o.sibling:null);Oo(s);break;case 19:var v=(o.flags&128)!==0;if(f=(l&s.childLanes)!==0,f||(ws(o,s,l,!1),f=(l&s.childLanes)!==0),v){if(f)return ib(o,s,l);s.flags|=128}if(v=s.memoizedState,v!==null&&(v.rendering=null,v.tail=null,v.lastEffect=null),se(ft,ft.current),f)break;return null;case 22:return s.lanes=0,jS(o,s,l,s.pendingProps);case 24:Mo(s,ht,o.memoizedState.cache)}return Ji(o,s,l)}function ob(o,s,l){if(o!==null)if(o.memoizedProps!==s.pendingProps)mt=!0;else{if(!sm(o,l)&&(s.flags&128)===0)return mt=!1,H1(o,s,l);mt=(o.flags&131072)!==0}else mt=!1,Le&&(s.flags&1048576)!==0&&L0(s,tl,s.index);switch(s.lanes=0,s.tag){case 16:e:{var f=s.pendingProps;if(o=xr(s.elementType),s.type=o,typeof o=="function")fp(o)?(f=Ir(o,f),s.tag=1,s=ZS(null,s,o,f,l)):(s.tag=0,s=Zp(null,s,o,f,l));else{if(o!=null){var v=o.$$typeof;if(v===D){s.tag=11,s=JS(null,s,o,f,l);break e}else if(v===O){s.tag=14,s=KS(null,s,o,f,l);break e}}throw s=ae(o)||o,Error(i(306,s,""))}}return s;case 0:return Zp(o,s,s.type,s.pendingProps,l);case 1:return f=s.type,v=Ir(f,s.pendingProps),ZS(o,s,f,v,l);case 3:e:{if(ze(s,s.stateNode.containerInfo),o===null)throw Error(i(387));f=s.pendingProps;var _=s.memoizedState;v=_.element,Ap(o,s),ul(s,f,null,l);var C=s.memoizedState;if(f=C.cache,Mo(s,ht,f),f!==_.cache&&Sp(s,[ht],l,!0),ll(),f=C.element,_.isDehydrated)if(_={element:f,isDehydrated:!1,cache:C.cache},s.updateQueue.baseState=_,s.memoizedState=_,s.flags&256){s=eb(o,s,f,l);break e}else if(f!==v){v=Rn(Error(i(424)),s),nl(v),s=eb(o,s,f,l);break e}else{switch(o=s.stateNode.containerInfo,o.nodeType){case 9:o=o.body;break;default:o=o.nodeName==="HTML"?o.ownerDocument.body:o}for(it=On(o.firstChild),Rt=s,Le=!0,xo=null,In=!0,l=j0(s,null,f,l),s.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(wr(),f===v){s=Ji(o,s,l);break e}Nt(o,s,f,l)}s=s.child}return s;case 26:return Bc(o,s),o===null?(l=mE(s.type,null,s.pendingProps,null))?s.memoizedState=l:Le||(l=s.type,o=s.pendingProps,f=tf(be.current).createElement(l),f[xt]=s,f[Kt]=o,It(f,l,o),bt(f),s.stateNode=f):s.memoizedState=mE(s.type,o.memoizedProps,s.pendingProps,o.memoizedState),null;case 27:return rn(s),o===null&&Le&&(f=s.stateNode=dE(s.type,s.pendingProps,be.current),Rt=s,In=!0,v=it,Go(s.type)?(Fm=v,it=On(f.firstChild)):it=v),Nt(o,s,s.pendingProps.children,l),Bc(o,s),o===null&&(s.flags|=4194304),s.child;case 5:return o===null&&Le&&((v=f=it)&&(f=vP(f,s.type,s.pendingProps,In),f!==null?(s.stateNode=f,Rt=s,it=On(f.firstChild),In=!1,v=!0):v=!1),v||Ro(s)),rn(s),v=s.type,_=s.pendingProps,C=o!==null?o.memoizedProps:null,f=_.children,Pm(v,_)?f=null:C!==null&&Pm(v,C)&&(s.flags|=32),s.memoizedState!==null&&(v=Op(o,s,D1,null,null,l),Ml._currentValue=v),Bc(o,s),Nt(o,s,f,l),s.child;case 6:return o===null&&Le&&((o=l=it)&&(l=yP(l,s.pendingProps,In),l!==null?(s.stateNode=l,Rt=s,it=null,o=!0):o=!1),o||Ro(s)),null;case 13:return tb(o,s,l);case 4:return ze(s,s.stateNode.containerInfo),f=s.pendingProps,o===null?s.child=Mr(s,null,f,l):Nt(o,s,f,l),s.child;case 11:return JS(o,s,s.type,s.pendingProps,l);case 7:return Nt(o,s,s.pendingProps,l),s.child;case 8:return Nt(o,s,s.pendingProps.children,l),s.child;case 12:return Nt(o,s,s.pendingProps.children,l),s.child;case 10:return f=s.pendingProps,Mo(s,s.type,f.value),Nt(o,s,f.children,l),s.child;case 9:return v=s.type._context,f=s.pendingProps.children,Tr(s),v=Mt(v),f=f(v),s.flags|=1,Nt(o,s,f,l),s.child;case 14:return KS(o,s,s.type,s.pendingProps,l);case 15:return YS(o,s,s.type,s.pendingProps,l);case 19:return ib(o,s,l);case 31:return $1(o,s,l);case 22:return jS(o,s,l,s.pendingProps);case 24:return Tr(s),f=Mt(ht),o===null?(v=wp(),v===null&&(v=et,_=bp(),v.pooledCache=_,_.refCount++,_!==null&&(v.pooledCacheLanes|=l),v=_),s.memoizedState={parent:f,cache:v},Tp(s),Mo(s,ht,v)):((o.lanes&l)!==0&&(Ap(o,s),ul(s,null,null,l),ll()),v=o.memoizedState,_=s.memoizedState,v.parent!==f?(v={parent:f,cache:f},s.memoizedState=v,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=v),Mo(s,ht,f)):(f=_.cache,Mo(s,ht,f),f!==v.cache&&Sp(s,[ht],l,!0))),Nt(o,s,s.pendingProps.children,l),s.child;case 29:throw s.pendingProps}throw Error(i(156,s.tag))}function Ki(o){o.flags|=4}function am(o,s,l,f,v){if((s=(o.mode&32)!==0)&&(s=!1),s){if(o.flags|=16777216,(v&335544128)===v)if(o.stateNode.complete)o.flags|=8192;else if(Ib())o.flags|=8192;else throw Rr=wc,Cp}else o.flags&=-16777217}function rb(o,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)o.flags&=-16777217;else if(o.flags|=16777216,!SE(s))if(Ib())o.flags|=8192;else throw Rr=wc,Cp}function $c(o,s){s!==null&&(o.flags|=4),o.flags&16384&&(s=o.tag!==22?B_():536870912,o.lanes|=s,ks|=s)}function ml(o,s){if(!Le)switch(o.tailMode){case"hidden":s=o.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?o.tail=null:l.sibling=null;break;case"collapsed":l=o.tail;for(var f=null;l!==null;)l.alternate!==null&&(f=l),l=l.sibling;f===null?s||o.tail===null?o.tail=null:o.tail.sibling=null:f.sibling=null}}function ot(o){var s=o.alternate!==null&&o.alternate.child===o.child,l=0,f=0;if(s)for(var v=o.child;v!==null;)l|=v.lanes|v.childLanes,f|=v.subtreeFlags&65011712,f|=v.flags&65011712,v.return=o,v=v.sibling;else for(v=o.child;v!==null;)l|=v.lanes|v.childLanes,f|=v.subtreeFlags,f|=v.flags,v.return=o,v=v.sibling;return o.subtreeFlags|=f,o.childLanes=l,s}function G1(o,s,l){var f=s.pendingProps;switch(mp(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ot(s),null;case 1:return ot(s),null;case 3:return l=s.stateNode,f=null,o!==null&&(f=o.memoizedState.cache),s.memoizedState.cache!==f&&(s.flags|=2048),Vi(ht),qe(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(o===null||o.child===null)&&(Es(s)?Ki(s):o===null||o.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,vp())),ot(s),null;case 26:var v=s.type,_=s.memoizedState;return o===null?(Ki(s),_!==null?(ot(s),rb(s,_)):(ot(s),am(s,v,null,f,l))):_?_!==o.memoizedState?(Ki(s),ot(s),rb(s,_)):(ot(s),s.flags&=-16777217):(o=o.memoizedProps,o!==f&&Ki(s),ot(s),am(s,v,o,f,l)),null;case 27:if(Cn(s),l=be.current,v=s.type,o!==null&&s.stateNode!=null)o.memoizedProps!==f&&Ki(s);else{if(!f){if(s.stateNode===null)throw Error(i(166));return ot(s),null}o=le.current,Es(s)?B0(s):(o=dE(v,f,l),s.stateNode=o,Ki(s))}return ot(s),null;case 5:if(Cn(s),v=s.type,o!==null&&s.stateNode!=null)o.memoizedProps!==f&&Ki(s);else{if(!f){if(s.stateNode===null)throw Error(i(166));return ot(s),null}if(_=le.current,Es(s))B0(s);else{var C=tf(be.current);switch(_){case 1:_=C.createElementNS("http://www.w3.org/2000/svg",v);break;case 2:_=C.createElementNS("http://www.w3.org/1998/Math/MathML",v);break;default:switch(v){case"svg":_=C.createElementNS("http://www.w3.org/2000/svg",v);break;case"math":_=C.createElementNS("http://www.w3.org/1998/Math/MathML",v);break;case"script":_=C.createElement("div"),_.innerHTML="<script><\/script>",_=_.removeChild(_.firstChild);break;case"select":_=typeof f.is=="string"?C.createElement("select",{is:f.is}):C.createElement("select"),f.multiple?_.multiple=!0:f.size&&(_.size=f.size);break;default:_=typeof f.is=="string"?C.createElement(v,{is:f.is}):C.createElement(v)}}_[xt]=s,_[Kt]=f;e:for(C=s.child;C!==null;){if(C.tag===5||C.tag===6)_.appendChild(C.stateNode);else if(C.tag!==4&&C.tag!==27&&C.child!==null){C.child.return=C,C=C.child;continue}if(C===s)break e;for(;C.sibling===null;){if(C.return===null||C.return===s)break e;C=C.return}C.sibling.return=C.return,C=C.sibling}s.stateNode=_;e:switch(It(_,v,f),v){case"button":case"input":case"select":case"textarea":f=!!f.autoFocus;break e;case"img":f=!0;break e;default:f=!1}f&&Ki(s)}}return ot(s),am(s,s.type,o===null?null:o.memoizedProps,s.pendingProps,l),null;case 6:if(o&&s.stateNode!=null)o.memoizedProps!==f&&Ki(s);else{if(typeof f!="string"&&s.stateNode===null)throw Error(i(166));if(o=be.current,Es(s)){if(o=s.stateNode,l=s.memoizedProps,f=null,v=Rt,v!==null)switch(v.tag){case 27:case 5:f=v.memoizedProps}o[xt]=s,o=!!(o.nodeValue===l||f!==null&&f.suppressHydrationWarning===!0||tE(o.nodeValue,l)),o||Ro(s,!0)}else o=tf(o).createTextNode(f),o[xt]=s,s.stateNode=o}return ot(s),null;case 31:if(l=s.memoizedState,o===null||o.memoizedState!==null){if(f=Es(s),l!==null){if(o===null){if(!f)throw Error(i(318));if(o=s.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(i(557));o[xt]=s}else wr(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;ot(s),o=!1}else l=vp(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=l),o=!0;if(!o)return s.flags&256?(fn(s),s):(fn(s),null);if((s.flags&128)!==0)throw Error(i(558))}return ot(s),null;case 13:if(f=s.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(v=Es(s),f!==null&&f.dehydrated!==null){if(o===null){if(!v)throw Error(i(318));if(v=s.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(i(317));v[xt]=s}else wr(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;ot(s),v=!1}else v=vp(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=v),v=!0;if(!v)return s.flags&256?(fn(s),s):(fn(s),null)}return fn(s),(s.flags&128)!==0?(s.lanes=l,s):(l=f!==null,o=o!==null&&o.memoizedState!==null,l&&(f=s.child,v=null,f.alternate!==null&&f.alternate.memoizedState!==null&&f.alternate.memoizedState.cachePool!==null&&(v=f.alternate.memoizedState.cachePool.pool),_=null,f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(_=f.memoizedState.cachePool.pool),_!==v&&(f.flags|=2048)),l!==o&&l&&(s.child.flags|=8192),$c(s,s.updateQueue),ot(s),null);case 4:return qe(),o===null&&Mm(s.stateNode.containerInfo),ot(s),null;case 10:return Vi(s.type),ot(s),null;case 19:if(Y(ft),f=s.memoizedState,f===null)return ot(s),null;if(v=(s.flags&128)!==0,_=f.rendering,_===null)if(v)ml(f,!1);else{if(lt!==0||o!==null&&(o.flags&128)!==0)for(o=s.child;o!==null;){if(_=xc(o),_!==null){for(s.flags|=128,ml(f,!1),o=_.updateQueue,s.updateQueue=o,$c(s,o),s.subtreeFlags=0,o=l,l=s.child;l!==null;)O0(l,o),l=l.sibling;return se(ft,ft.current&1|2),Le&&Hi(s,f.treeForkCount),s.child}o=o.sibling}f.tail!==null&&At()>qc&&(s.flags|=128,v=!0,ml(f,!1),s.lanes=4194304)}else{if(!v)if(o=xc(_),o!==null){if(s.flags|=128,v=!0,o=o.updateQueue,s.updateQueue=o,$c(s,o),ml(f,!0),f.tail===null&&f.tailMode==="hidden"&&!_.alternate&&!Le)return ot(s),null}else 2*At()-f.renderingStartTime>qc&&l!==536870912&&(s.flags|=128,v=!0,ml(f,!1),s.lanes=4194304);f.isBackwards?(_.sibling=s.child,s.child=_):(o=f.last,o!==null?o.sibling=_:s.child=_,f.last=_)}return f.tail!==null?(o=f.tail,f.rendering=o,f.tail=o.sibling,f.renderingStartTime=At(),o.sibling=null,l=ft.current,se(ft,v?l&1|2:l&1),Le&&Hi(s,f.treeForkCount),o):(ot(s),null);case 22:case 23:return fn(s),Np(),f=s.memoizedState!==null,o!==null?o.memoizedState!==null!==f&&(s.flags|=8192):f&&(s.flags|=8192),f?(l&536870912)!==0&&(s.flags&128)===0&&(ot(s),s.subtreeFlags&6&&(s.flags|=8192)):ot(s),l=s.updateQueue,l!==null&&$c(s,l.retryQueue),l=null,o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(l=o.memoizedState.cachePool.pool),f=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(f=s.memoizedState.cachePool.pool),f!==l&&(s.flags|=2048),o!==null&&Y(Ar),null;case 24:return l=null,o!==null&&(l=o.memoizedState.cache),s.memoizedState.cache!==l&&(s.flags|=2048),Vi(ht),ot(s),null;case 25:return null;case 30:return null}throw Error(i(156,s.tag))}function V1(o,s){switch(mp(s),s.tag){case 1:return o=s.flags,o&65536?(s.flags=o&-65537|128,s):null;case 3:return Vi(ht),qe(),o=s.flags,(o&65536)!==0&&(o&128)===0?(s.flags=o&-65537|128,s):null;case 26:case 27:case 5:return Cn(s),null;case 31:if(s.memoizedState!==null){if(fn(s),s.alternate===null)throw Error(i(340));wr()}return o=s.flags,o&65536?(s.flags=o&-65537|128,s):null;case 13:if(fn(s),o=s.memoizedState,o!==null&&o.dehydrated!==null){if(s.alternate===null)throw Error(i(340));wr()}return o=s.flags,o&65536?(s.flags=o&-65537|128,s):null;case 19:return Y(ft),null;case 4:return qe(),null;case 10:return Vi(s.type),null;case 22:case 23:return fn(s),Np(),o!==null&&Y(Ar),o=s.flags,o&65536?(s.flags=o&-65537|128,s):null;case 24:return Vi(ht),null;case 25:return null;default:return null}}function sb(o,s){switch(mp(s),s.tag){case 3:Vi(ht),qe();break;case 26:case 27:case 5:Cn(s);break;case 4:qe();break;case 31:s.memoizedState!==null&&fn(s);break;case 13:fn(s);break;case 19:Y(ft);break;case 10:Vi(s.type);break;case 22:case 23:fn(s),Np(),o!==null&&Y(Ar);break;case 24:Vi(ht)}}function gl(o,s){try{var l=s.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var v=f.next;l=v;do{if((l.tag&o)===o){f=void 0;var _=l.create,C=l.inst;f=_(),C.destroy=f}l=l.next}while(l!==v)}}catch(R){Ye(s,s.return,R)}}function ko(o,s,l){try{var f=s.updateQueue,v=f!==null?f.lastEffect:null;if(v!==null){var _=v.next;f=_;do{if((f.tag&o)===o){var C=f.inst,R=C.destroy;if(R!==void 0){C.destroy=void 0,v=s;var P=l,G=R;try{G()}catch(X){Ye(v,P,X)}}}f=f.next}while(f!==_)}}catch(X){Ye(s,s.return,X)}}function ab(o){var s=o.updateQueue;if(s!==null){var l=o.stateNode;try{W0(s,l)}catch(f){Ye(o,o.return,f)}}}function lb(o,s,l){l.props=Ir(o.type,o.memoizedProps),l.state=o.memoizedState;try{l.componentWillUnmount()}catch(f){Ye(o,s,f)}}function vl(o,s){try{var l=o.ref;if(l!==null){switch(o.tag){case 26:case 27:case 5:var f=o.stateNode;break;case 30:f=o.stateNode;break;default:f=o.stateNode}typeof l=="function"?o.refCleanup=l(f):l.current=f}}catch(v){Ye(o,s,v)}}function mi(o,s){var l=o.ref,f=o.refCleanup;if(l!==null)if(typeof f=="function")try{f()}catch(v){Ye(o,s,v)}finally{o.refCleanup=null,o=o.alternate,o!=null&&(o.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(v){Ye(o,s,v)}else l.current=null}function ub(o){var s=o.type,l=o.memoizedProps,f=o.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":l.autoFocus&&f.focus();break e;case"img":l.src?f.src=l.src:l.srcSet&&(f.srcset=l.srcSet)}}catch(v){Ye(o,o.return,v)}}function lm(o,s,l){try{var f=o.stateNode;fP(f,o.type,l,s),f[Kt]=s}catch(v){Ye(o,o.return,v)}}function cb(o){return o.tag===5||o.tag===3||o.tag===26||o.tag===27&&Go(o.type)||o.tag===4}function um(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||cb(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.tag===27&&Go(o.type)||o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function cm(o,s,l){var f=o.tag;if(f===5||f===6)o=o.stateNode,s?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(o,s):(s=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,s.appendChild(o),l=l._reactRootContainer,l!=null||s.onclick!==null||(s.onclick=Bi));else if(f!==4&&(f===27&&Go(o.type)&&(l=o.stateNode,s=null),o=o.child,o!==null))for(cm(o,s,l),o=o.sibling;o!==null;)cm(o,s,l),o=o.sibling}function Hc(o,s,l){var f=o.tag;if(f===5||f===6)o=o.stateNode,s?l.insertBefore(o,s):l.appendChild(o);else if(f!==4&&(f===27&&Go(o.type)&&(l=o.stateNode),o=o.child,o!==null))for(Hc(o,s,l),o=o.sibling;o!==null;)Hc(o,s,l),o=o.sibling}function fb(o){var s=o.stateNode,l=o.memoizedProps;try{for(var f=o.type,v=s.attributes;v.length;)s.removeAttributeNode(v[0]);It(s,f,l),s[xt]=o,s[Kt]=l}catch(_){Ye(o,o.return,_)}}var Yi=!1,gt=!1,fm=!1,db=typeof WeakSet=="function"?WeakSet:Set,Et=null;function z1(o,s){if(o=o.containerInfo,Dm=uf,o=C0(o),op(o)){if("selectionStart"in o)var l={start:o.selectionStart,end:o.selectionEnd};else e:{l=(l=o.ownerDocument)&&l.defaultView||window;var f=l.getSelection&&l.getSelection();if(f&&f.rangeCount!==0){l=f.anchorNode;var v=f.anchorOffset,_=f.focusNode;f=f.focusOffset;try{l.nodeType,_.nodeType}catch{l=null;break e}var C=0,R=-1,P=-1,G=0,X=0,te=o,z=null;t:for(;;){for(var K;te!==l||v!==0&&te.nodeType!==3||(R=C+v),te!==_||f!==0&&te.nodeType!==3||(P=C+f),te.nodeType===3&&(C+=te.nodeValue.length),(K=te.firstChild)!==null;)z=te,te=K;for(;;){if(te===o)break t;if(z===l&&++G===v&&(R=C),z===_&&++X===f&&(P=C),(K=te.nextSibling)!==null)break;te=z,z=te.parentNode}te=K}l=R===-1||P===-1?null:{start:R,end:P}}else l=null}l=l||{start:0,end:0}}else l=null;for(Om={focusedElem:o,selectionRange:l},uf=!1,Et=s;Et!==null;)if(s=Et,o=s.child,(s.subtreeFlags&1028)!==0&&o!==null)o.return=s,Et=o;else for(;Et!==null;){switch(s=Et,_=s.alternate,o=s.flags,s.tag){case 0:if((o&4)!==0&&(o=s.updateQueue,o=o!==null?o.events:null,o!==null))for(l=0;l<o.length;l++)v=o[l],v.ref.impl=v.nextImpl;break;case 11:case 15:break;case 1:if((o&1024)!==0&&_!==null){o=void 0,l=s,v=_.memoizedProps,_=_.memoizedState,f=l.stateNode;try{var he=Ir(l.type,v);o=f.getSnapshotBeforeUpdate(he,_),f.__reactInternalSnapshotBeforeUpdate=o}catch(Ee){Ye(l,l.return,Ee)}}break;case 3:if((o&1024)!==0){if(o=s.stateNode.containerInfo,l=o.nodeType,l===9)Lm(o);else if(l===1)switch(o.nodeName){case"HEAD":case"HTML":case"BODY":Lm(o);break;default:o.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((o&1024)!==0)throw Error(i(163))}if(o=s.sibling,o!==null){o.return=s.return,Et=o;break}Et=s.return}}function hb(o,s,l){var f=l.flags;switch(l.tag){case 0:case 11:case 15:Xi(o,l),f&4&&gl(5,l);break;case 1:if(Xi(o,l),f&4)if(o=l.stateNode,s===null)try{o.componentDidMount()}catch(C){Ye(l,l.return,C)}else{var v=Ir(l.type,s.memoizedProps);s=s.memoizedState;try{o.componentDidUpdate(v,s,o.__reactInternalSnapshotBeforeUpdate)}catch(C){Ye(l,l.return,C)}}f&64&&ab(l),f&512&&vl(l,l.return);break;case 3:if(Xi(o,l),f&64&&(o=l.updateQueue,o!==null)){if(s=null,l.child!==null)switch(l.child.tag){case 27:case 5:s=l.child.stateNode;break;case 1:s=l.child.stateNode}try{W0(o,s)}catch(C){Ye(l,l.return,C)}}break;case 27:s===null&&f&4&&fb(l);case 26:case 5:Xi(o,l),s===null&&f&4&&ub(l),f&512&&vl(l,l.return);break;case 12:Xi(o,l);break;case 31:Xi(o,l),f&4&&gb(o,l);break;case 13:Xi(o,l),f&4&&vb(o,l),f&64&&(o=l.memoizedState,o!==null&&(o=o.dehydrated,o!==null&&(l=Z1.bind(null,l),_P(o,l))));break;case 22:if(f=l.memoizedState!==null||Yi,!f){s=s!==null&&s.memoizedState!==null||gt,v=Yi;var _=gt;Yi=f,(gt=s)&&!_?Wi(o,l,(l.subtreeFlags&8772)!==0):Xi(o,l),Yi=v,gt=_}break;case 30:break;default:Xi(o,l)}}function pb(o){var s=o.alternate;s!==null&&(o.alternate=null,pb(s)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(s=o.stateNode,s!==null&&Hh(s)),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}var st=null,jt=!1;function ji(o,s,l){for(l=l.child;l!==null;)mb(o,s,l),l=l.sibling}function mb(o,s,l){if(sn&&typeof sn.onCommitFiberUnmount=="function")try{sn.onCommitFiberUnmount(Ha,l)}catch{}switch(l.tag){case 26:gt||mi(l,s),ji(o,s,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:gt||mi(l,s);var f=st,v=jt;Go(l.type)&&(st=l.stateNode,jt=!1),ji(o,s,l),Al(l.stateNode),st=f,jt=v;break;case 5:gt||mi(l,s);case 6:if(f=st,v=jt,st=null,ji(o,s,l),st=f,jt=v,st!==null)if(jt)try{(st.nodeType===9?st.body:st.nodeName==="HTML"?st.ownerDocument.body:st).removeChild(l.stateNode)}catch(_){Ye(l,s,_)}else try{st.removeChild(l.stateNode)}catch(_){Ye(l,s,_)}break;case 18:st!==null&&(jt?(o=st,aE(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,l.stateNode),Vs(o)):aE(st,l.stateNode));break;case 4:f=st,v=jt,st=l.stateNode.containerInfo,jt=!0,ji(o,s,l),st=f,jt=v;break;case 0:case 11:case 14:case 15:ko(2,l,s),gt||ko(4,l,s),ji(o,s,l);break;case 1:gt||(mi(l,s),f=l.stateNode,typeof f.componentWillUnmount=="function"&&lb(l,s,f)),ji(o,s,l);break;case 21:ji(o,s,l);break;case 22:gt=(f=gt)||l.memoizedState!==null,ji(o,s,l),gt=f;break;default:ji(o,s,l)}}function gb(o,s){if(s.memoizedState===null&&(o=s.alternate,o!==null&&(o=o.memoizedState,o!==null))){o=o.dehydrated;try{Vs(o)}catch(l){Ye(s,s.return,l)}}}function vb(o,s){if(s.memoizedState===null&&(o=s.alternate,o!==null&&(o=o.memoizedState,o!==null&&(o=o.dehydrated,o!==null))))try{Vs(o)}catch(l){Ye(s,s.return,l)}}function q1(o){switch(o.tag){case 31:case 13:case 19:var s=o.stateNode;return s===null&&(s=o.stateNode=new db),s;case 22:return o=o.stateNode,s=o._retryCache,s===null&&(s=o._retryCache=new db),s;default:throw Error(i(435,o.tag))}}function Gc(o,s){var l=q1(o);s.forEach(function(f){if(!l.has(f)){l.add(f);var v=eP.bind(null,o,f);f.then(v,v)}})}function Xt(o,s){var l=s.deletions;if(l!==null)for(var f=0;f<l.length;f++){var v=l[f],_=o,C=s,R=C;e:for(;R!==null;){switch(R.tag){case 27:if(Go(R.type)){st=R.stateNode,jt=!1;break e}break;case 5:st=R.stateNode,jt=!1;break e;case 3:case 4:st=R.stateNode.containerInfo,jt=!0;break e}R=R.return}if(st===null)throw Error(i(160));mb(_,C,v),st=null,jt=!1,_=v.alternate,_!==null&&(_.return=null),v.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)yb(s,o),s=s.sibling}var Xn=null;function yb(o,s){var l=o.alternate,f=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:Xt(s,o),Wt(o),f&4&&(ko(3,o,o.return),gl(3,o),ko(5,o,o.return));break;case 1:Xt(s,o),Wt(o),f&512&&(gt||l===null||mi(l,l.return)),f&64&&Yi&&(o=o.updateQueue,o!==null&&(f=o.callbacks,f!==null&&(l=o.shared.hiddenCallbacks,o.shared.hiddenCallbacks=l===null?f:l.concat(f))));break;case 26:var v=Xn;if(Xt(s,o),Wt(o),f&512&&(gt||l===null||mi(l,l.return)),f&4){var _=l!==null?l.memoizedState:null;if(f=o.memoizedState,l===null)if(f===null)if(o.stateNode===null){e:{f=o.type,l=o.memoizedProps,v=v.ownerDocument||v;t:switch(f){case"title":_=v.getElementsByTagName("title")[0],(!_||_[za]||_[xt]||_.namespaceURI==="http://www.w3.org/2000/svg"||_.hasAttribute("itemprop"))&&(_=v.createElement(f),v.head.insertBefore(_,v.querySelector("head > title"))),It(_,f,l),_[xt]=o,bt(_),f=_;break e;case"link":var C=yE("link","href",v).get(f+(l.href||""));if(C){for(var R=0;R<C.length;R++)if(_=C[R],_.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&_.getAttribute("rel")===(l.rel==null?null:l.rel)&&_.getAttribute("title")===(l.title==null?null:l.title)&&_.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){C.splice(R,1);break t}}_=v.createElement(f),It(_,f,l),v.head.appendChild(_);break;case"meta":if(C=yE("meta","content",v).get(f+(l.content||""))){for(R=0;R<C.length;R++)if(_=C[R],_.getAttribute("content")===(l.content==null?null:""+l.content)&&_.getAttribute("name")===(l.name==null?null:l.name)&&_.getAttribute("property")===(l.property==null?null:l.property)&&_.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&_.getAttribute("charset")===(l.charSet==null?null:l.charSet)){C.splice(R,1);break t}}_=v.createElement(f),It(_,f,l),v.head.appendChild(_);break;default:throw Error(i(468,f))}_[xt]=o,bt(_),f=_}o.stateNode=f}else _E(v,o.type,o.stateNode);else o.stateNode=vE(v,f,o.memoizedProps);else _!==f?(_===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):_.count--,f===null?_E(v,o.type,o.stateNode):vE(v,f,o.memoizedProps)):f===null&&o.stateNode!==null&&lm(o,o.memoizedProps,l.memoizedProps)}break;case 27:Xt(s,o),Wt(o),f&512&&(gt||l===null||mi(l,l.return)),l!==null&&f&4&&lm(o,o.memoizedProps,l.memoizedProps);break;case 5:if(Xt(s,o),Wt(o),f&512&&(gt||l===null||mi(l,l.return)),o.flags&32){v=o.stateNode;try{ds(v,"")}catch(he){Ye(o,o.return,he)}}f&4&&o.stateNode!=null&&(v=o.memoizedProps,lm(o,v,l!==null?l.memoizedProps:v)),f&1024&&(fm=!0);break;case 6:if(Xt(s,o),Wt(o),f&4){if(o.stateNode===null)throw Error(i(162));f=o.memoizedProps,l=o.stateNode;try{l.nodeValue=f}catch(he){Ye(o,o.return,he)}}break;case 3:if(rf=null,v=Xn,Xn=nf(s.containerInfo),Xt(s,o),Xn=v,Wt(o),f&4&&l!==null&&l.memoizedState.isDehydrated)try{Vs(s.containerInfo)}catch(he){Ye(o,o.return,he)}fm&&(fm=!1,_b(o));break;case 4:f=Xn,Xn=nf(o.stateNode.containerInfo),Xt(s,o),Wt(o),Xn=f;break;case 12:Xt(s,o),Wt(o);break;case 31:Xt(s,o),Wt(o),f&4&&(f=o.updateQueue,f!==null&&(o.updateQueue=null,Gc(o,f)));break;case 13:Xt(s,o),Wt(o),o.child.flags&8192&&o.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(zc=At()),f&4&&(f=o.updateQueue,f!==null&&(o.updateQueue=null,Gc(o,f)));break;case 22:v=o.memoizedState!==null;var P=l!==null&&l.memoizedState!==null,G=Yi,X=gt;if(Yi=G||v,gt=X||P,Xt(s,o),gt=X,Yi=G,Wt(o),f&8192)e:for(s=o.stateNode,s._visibility=v?s._visibility&-2:s._visibility|1,v&&(l===null||P||Yi||gt||Dr(o)),l=null,s=o;;){if(s.tag===5||s.tag===26){if(l===null){P=l=s;try{if(_=P.stateNode,v)C=_.style,typeof C.setProperty=="function"?C.setProperty("display","none","important"):C.display="none";else{R=P.stateNode;var te=P.memoizedProps.style,z=te!=null&&te.hasOwnProperty("display")?te.display:null;R.style.display=z==null||typeof z=="boolean"?"":(""+z).trim()}}catch(he){Ye(P,P.return,he)}}}else if(s.tag===6){if(l===null){P=s;try{P.stateNode.nodeValue=v?"":P.memoizedProps}catch(he){Ye(P,P.return,he)}}}else if(s.tag===18){if(l===null){P=s;try{var K=P.stateNode;v?lE(K,!0):lE(P.stateNode,!1)}catch(he){Ye(P,P.return,he)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===o)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===o)break e;for(;s.sibling===null;){if(s.return===null||s.return===o)break e;l===s&&(l=null),s=s.return}l===s&&(l=null),s.sibling.return=s.return,s=s.sibling}f&4&&(f=o.updateQueue,f!==null&&(l=f.retryQueue,l!==null&&(f.retryQueue=null,Gc(o,l))));break;case 19:Xt(s,o),Wt(o),f&4&&(f=o.updateQueue,f!==null&&(o.updateQueue=null,Gc(o,f)));break;case 30:break;case 21:break;default:Xt(s,o),Wt(o)}}function Wt(o){var s=o.flags;if(s&2){try{for(var l,f=o.return;f!==null;){if(cb(f)){l=f;break}f=f.return}if(l==null)throw Error(i(160));switch(l.tag){case 27:var v=l.stateNode,_=um(o);Hc(o,_,v);break;case 5:var C=l.stateNode;l.flags&32&&(ds(C,""),l.flags&=-33);var R=um(o);Hc(o,R,C);break;case 3:case 4:var P=l.stateNode.containerInfo,G=um(o);cm(o,G,P);break;default:throw Error(i(161))}}catch(X){Ye(o,o.return,X)}o.flags&=-3}s&4096&&(o.flags&=-4097)}function _b(o){if(o.subtreeFlags&1024)for(o=o.child;o!==null;){var s=o;_b(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),o=o.sibling}}function Xi(o,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)hb(o,s.alternate,s),s=s.sibling}function Dr(o){for(o=o.child;o!==null;){var s=o;switch(s.tag){case 0:case 11:case 14:case 15:ko(4,s,s.return),Dr(s);break;case 1:mi(s,s.return);var l=s.stateNode;typeof l.componentWillUnmount=="function"&&lb(s,s.return,l),Dr(s);break;case 27:Al(s.stateNode);case 26:case 5:mi(s,s.return),Dr(s);break;case 22:s.memoizedState===null&&Dr(s);break;case 30:Dr(s);break;default:Dr(s)}o=o.sibling}}function Wi(o,s,l){for(l=l&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var f=s.alternate,v=o,_=s,C=_.flags;switch(_.tag){case 0:case 11:case 15:Wi(v,_,l),gl(4,_);break;case 1:if(Wi(v,_,l),f=_,v=f.stateNode,typeof v.componentDidMount=="function")try{v.componentDidMount()}catch(G){Ye(f,f.return,G)}if(f=_,v=f.updateQueue,v!==null){var R=f.stateNode;try{var P=v.shared.hiddenCallbacks;if(P!==null)for(v.shared.hiddenCallbacks=null,v=0;v<P.length;v++)X0(P[v],R)}catch(G){Ye(f,f.return,G)}}l&&C&64&&ab(_),vl(_,_.return);break;case 27:fb(_);case 26:case 5:Wi(v,_,l),l&&f===null&&C&4&&ub(_),vl(_,_.return);break;case 12:Wi(v,_,l);break;case 31:Wi(v,_,l),l&&C&4&&gb(v,_);break;case 13:Wi(v,_,l),l&&C&4&&vb(v,_);break;case 22:_.memoizedState===null&&Wi(v,_,l),vl(_,_.return);break;case 30:break;default:Wi(v,_,l)}s=s.sibling}}function dm(o,s){var l=null;o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(l=o.memoizedState.cachePool.pool),o=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(o=s.memoizedState.cachePool.pool),o!==l&&(o!=null&&o.refCount++,l!=null&&il(l))}function hm(o,s){o=null,s.alternate!==null&&(o=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==o&&(s.refCount++,o!=null&&il(o))}function Wn(o,s,l,f){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)Sb(o,s,l,f),s=s.sibling}function Sb(o,s,l,f){var v=s.flags;switch(s.tag){case 0:case 11:case 15:Wn(o,s,l,f),v&2048&&gl(9,s);break;case 1:Wn(o,s,l,f);break;case 3:Wn(o,s,l,f),v&2048&&(o=null,s.alternate!==null&&(o=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==o&&(s.refCount++,o!=null&&il(o)));break;case 12:if(v&2048){Wn(o,s,l,f),o=s.stateNode;try{var _=s.memoizedProps,C=_.id,R=_.onPostCommit;typeof R=="function"&&R(C,s.alternate===null?"mount":"update",o.passiveEffectDuration,-0)}catch(P){Ye(s,s.return,P)}}else Wn(o,s,l,f);break;case 31:Wn(o,s,l,f);break;case 13:Wn(o,s,l,f);break;case 23:break;case 22:_=s.stateNode,C=s.alternate,s.memoizedState!==null?_._visibility&2?Wn(o,s,l,f):yl(o,s):_._visibility&2?Wn(o,s,l,f):(_._visibility|=2,Ds(o,s,l,f,(s.subtreeFlags&10256)!==0||!1)),v&2048&&dm(C,s);break;case 24:Wn(o,s,l,f),v&2048&&hm(s.alternate,s);break;default:Wn(o,s,l,f)}}function Ds(o,s,l,f,v){for(v=v&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var _=o,C=s,R=l,P=f,G=C.flags;switch(C.tag){case 0:case 11:case 15:Ds(_,C,R,P,v),gl(8,C);break;case 23:break;case 22:var X=C.stateNode;C.memoizedState!==null?X._visibility&2?Ds(_,C,R,P,v):yl(_,C):(X._visibility|=2,Ds(_,C,R,P,v)),v&&G&2048&&dm(C.alternate,C);break;case 24:Ds(_,C,R,P,v),v&&G&2048&&hm(C.alternate,C);break;default:Ds(_,C,R,P,v)}s=s.sibling}}function yl(o,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var l=o,f=s,v=f.flags;switch(f.tag){case 22:yl(l,f),v&2048&&dm(f.alternate,f);break;case 24:yl(l,f),v&2048&&hm(f.alternate,f);break;default:yl(l,f)}s=s.sibling}}var _l=8192;function Os(o,s,l){if(o.subtreeFlags&_l)for(o=o.child;o!==null;)bb(o,s,l),o=o.sibling}function bb(o,s,l){switch(o.tag){case 26:Os(o,s,l),o.flags&_l&&o.memoizedState!==null&&IP(l,Xn,o.memoizedState,o.memoizedProps);break;case 5:Os(o,s,l);break;case 3:case 4:var f=Xn;Xn=nf(o.stateNode.containerInfo),Os(o,s,l),Xn=f;break;case 22:o.memoizedState===null&&(f=o.alternate,f!==null&&f.memoizedState!==null?(f=_l,_l=16777216,Os(o,s,l),_l=f):Os(o,s,l));break;default:Os(o,s,l)}}function Eb(o){var s=o.alternate;if(s!==null&&(o=s.child,o!==null)){s.child=null;do s=o.sibling,o.sibling=null,o=s;while(o!==null)}}function Sl(o){var s=o.deletions;if((o.flags&16)!==0){if(s!==null)for(var l=0;l<s.length;l++){var f=s[l];Et=f,Cb(f,o)}Eb(o)}if(o.subtreeFlags&10256)for(o=o.child;o!==null;)wb(o),o=o.sibling}function wb(o){switch(o.tag){case 0:case 11:case 15:Sl(o),o.flags&2048&&ko(9,o,o.return);break;case 3:Sl(o);break;case 12:Sl(o);break;case 22:var s=o.stateNode;o.memoizedState!==null&&s._visibility&2&&(o.return===null||o.return.tag!==13)?(s._visibility&=-3,Vc(o)):Sl(o);break;default:Sl(o)}}function Vc(o){var s=o.deletions;if((o.flags&16)!==0){if(s!==null)for(var l=0;l<s.length;l++){var f=s[l];Et=f,Cb(f,o)}Eb(o)}for(o=o.child;o!==null;){switch(s=o,s.tag){case 0:case 11:case 15:ko(8,s,s.return),Vc(s);break;case 22:l=s.stateNode,l._visibility&2&&(l._visibility&=-3,Vc(s));break;default:Vc(s)}o=o.sibling}}function Cb(o,s){for(;Et!==null;){var l=Et;switch(l.tag){case 0:case 11:case 15:ko(8,l,s);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var f=l.memoizedState.cachePool.pool;f!=null&&f.refCount++}break;case 24:il(l.memoizedState.cache)}if(f=l.child,f!==null)f.return=l,Et=f;else e:for(l=o;Et!==null;){f=Et;var v=f.sibling,_=f.return;if(pb(f),f===l){Et=null;break e}if(v!==null){v.return=_,Et=v;break e}Et=_}}}var J1={getCacheForType:function(o){var s=Mt(ht),l=s.data.get(o);return l===void 0&&(l=o(),s.data.set(o,l)),l},cacheSignal:function(){return Mt(ht).controller.signal}},K1=typeof WeakMap=="function"?WeakMap:Map,Je=0,et=null,De=null,Pe=0,Ke=0,dn=null,Lo=!1,Ps=!1,pm=!1,Qi=0,lt=0,Uo=0,Or=0,mm=0,hn=0,ks=0,bl=null,Qt=null,gm=!1,zc=0,Tb=0,qc=1/0,Jc=null,Bo=null,yt=0,Fo=null,Ls=null,Zi=0,vm=0,ym=null,Ab=null,El=0,_m=null;function pn(){return(Je&2)!==0&&Pe!==0?Pe&-Pe:F.T!==null?Tm():G_()}function xb(){if(hn===0)if((Pe&536870912)===0||Le){var o=ec;ec<<=1,(ec&3932160)===0&&(ec=262144),hn=o}else hn=536870912;return o=cn.current,o!==null&&(o.flags|=32),hn}function Zt(o,s,l){(o===et&&(Ke===2||Ke===9)||o.cancelPendingCommit!==null)&&(Us(o,0),$o(o,Pe,hn,!1)),Va(o,l),((Je&2)===0||o!==et)&&(o===et&&((Je&2)===0&&(Or|=l),lt===4&&$o(o,Pe,hn,!1)),gi(o))}function Rb(o,s,l){if((Je&6)!==0)throw Error(i(327));var f=!l&&(s&127)===0&&(s&o.expiredLanes)===0||Ga(o,s),v=f?X1(o,s):bm(o,s,!0),_=f;do{if(v===0){Ps&&!f&&$o(o,s,0,!1);break}else{if(l=o.current.alternate,_&&!Y1(l)){v=bm(o,s,!1),_=!1;continue}if(v===2){if(_=s,o.errorRecoveryDisabledLanes&_)var C=0;else C=o.pendingLanes&-536870913,C=C!==0?C:C&536870912?536870912:0;if(C!==0){s=C;e:{var R=o;v=bl;var P=R.current.memoizedState.isDehydrated;if(P&&(Us(R,C).flags|=256),C=bm(R,C,!1),C!==2){if(pm&&!P){R.errorRecoveryDisabledLanes|=_,Or|=_,v=4;break e}_=Qt,Qt=v,_!==null&&(Qt===null?Qt=_:Qt.push.apply(Qt,_))}v=C}if(_=!1,v!==2)continue}}if(v===1){Us(o,0),$o(o,s,0,!0);break}e:{switch(f=o,_=v,_){case 0:case 1:throw Error(i(345));case 4:if((s&4194048)!==s)break;case 6:$o(f,s,hn,!Lo);break e;case 2:Qt=null;break;case 3:case 5:break;default:throw Error(i(329))}if((s&62914560)===s&&(v=zc+300-At(),10<v)){if($o(f,s,hn,!Lo),nc(f,0,!0)!==0)break e;Zi=s,f.timeoutHandle=rE(Mb.bind(null,f,l,Qt,Jc,gm,s,hn,Or,ks,Lo,_,"Throttled",-0,0),v);break e}Mb(f,l,Qt,Jc,gm,s,hn,Or,ks,Lo,_,null,-0,0)}}break}while(!0);gi(o)}function Mb(o,s,l,f,v,_,C,R,P,G,X,te,z,K){if(o.timeoutHandle=-1,te=s.subtreeFlags,te&8192||(te&16785408)===16785408){te={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Bi},bb(s,_,te);var he=(_&62914560)===_?zc-At():(_&4194048)===_?Tb-At():0;if(he=DP(te,he),he!==null){Zi=_,o.cancelPendingCommit=he(Ub.bind(null,o,s,_,l,f,v,C,R,P,X,te,null,z,K)),$o(o,_,C,!G);return}}Ub(o,s,_,l,f,v,C,R,P)}function Y1(o){for(var s=o;;){var l=s.tag;if((l===0||l===11||l===15)&&s.flags&16384&&(l=s.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var f=0;f<l.length;f++){var v=l[f],_=v.getSnapshot;v=v.value;try{if(!ln(_(),v))return!1}catch{return!1}}if(l=s.child,s.subtreeFlags&16384&&l!==null)l.return=s,s=l;else{if(s===o)break;for(;s.sibling===null;){if(s.return===null||s.return===o)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function $o(o,s,l,f){s&=~mm,s&=~Or,o.suspendedLanes|=s,o.pingedLanes&=~s,f&&(o.warmLanes|=s),f=o.expirationTimes;for(var v=s;0<v;){var _=31-an(v),C=1<<_;f[_]=-1,v&=~C}l!==0&&F_(o,l,s)}function Kc(){return(Je&6)===0?(wl(0),!1):!0}function Sm(){if(De!==null){if(Ke===0)var o=De.return;else o=De,Gi=Cr=null,Lp(o),xs=null,rl=0,o=De;for(;o!==null;)sb(o.alternate,o),o=o.return;De=null}}function Us(o,s){var l=o.timeoutHandle;l!==-1&&(o.timeoutHandle=-1,pP(l)),l=o.cancelPendingCommit,l!==null&&(o.cancelPendingCommit=null,l()),Zi=0,Sm(),et=o,De=l=$i(o.current,null),Pe=s,Ke=0,dn=null,Lo=!1,Ps=Ga(o,s),pm=!1,ks=hn=mm=Or=Uo=lt=0,Qt=bl=null,gm=!1,(s&8)!==0&&(s|=s&32);var f=o.entangledLanes;if(f!==0)for(o=o.entanglements,f&=s;0<f;){var v=31-an(f),_=1<<v;s|=o[v],f&=~_}return Qi=s,pc(),l}function Nb(o,s){Re=null,F.H=hl,s===As||s===Ec?(s=J0(),Ke=3):s===Cp?(s=J0(),Ke=4):Ke=s===Qp?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,dn=s,De===null&&(lt=1,Lc(o,Rn(s,o.current)))}function Ib(){var o=cn.current;return o===null?!0:(Pe&4194048)===Pe?Dn===null:(Pe&62914560)===Pe||(Pe&536870912)!==0?o===Dn:!1}function Db(){var o=F.H;return F.H=hl,o===null?hl:o}function Ob(){var o=F.A;return F.A=J1,o}function Yc(){lt=4,Lo||(Pe&4194048)!==Pe&&cn.current!==null||(Ps=!0),(Uo&134217727)===0&&(Or&134217727)===0||et===null||$o(et,Pe,hn,!1)}function bm(o,s,l){var f=Je;Je|=2;var v=Db(),_=Ob();(et!==o||Pe!==s)&&(Jc=null,Us(o,s)),s=!1;var C=lt;e:do try{if(Ke!==0&&De!==null){var R=De,P=dn;switch(Ke){case 8:Sm(),C=6;break e;case 3:case 2:case 9:case 6:cn.current===null&&(s=!0);var G=Ke;if(Ke=0,dn=null,Bs(o,R,P,G),l&&Ps){C=0;break e}break;default:G=Ke,Ke=0,dn=null,Bs(o,R,P,G)}}j1(),C=lt;break}catch(X){Nb(o,X)}while(!0);return s&&o.shellSuspendCounter++,Gi=Cr=null,Je=f,F.H=v,F.A=_,De===null&&(et=null,Pe=0,pc()),C}function j1(){for(;De!==null;)Pb(De)}function X1(o,s){var l=Je;Je|=2;var f=Db(),v=Ob();et!==o||Pe!==s?(Jc=null,qc=At()+500,Us(o,s)):Ps=Ga(o,s);e:do try{if(Ke!==0&&De!==null){s=De;var _=dn;t:switch(Ke){case 1:Ke=0,dn=null,Bs(o,s,_,1);break;case 2:case 9:if(z0(_)){Ke=0,dn=null,kb(s);break}s=function(){Ke!==2&&Ke!==9||et!==o||(Ke=7),gi(o)},_.then(s,s);break e;case 3:Ke=7;break e;case 4:Ke=5;break e;case 7:z0(_)?(Ke=0,dn=null,kb(s)):(Ke=0,dn=null,Bs(o,s,_,7));break;case 5:var C=null;switch(De.tag){case 26:C=De.memoizedState;case 5:case 27:var R=De;if(C?SE(C):R.stateNode.complete){Ke=0,dn=null;var P=R.sibling;if(P!==null)De=P;else{var G=R.return;G!==null?(De=G,jc(G)):De=null}break t}}Ke=0,dn=null,Bs(o,s,_,5);break;case 6:Ke=0,dn=null,Bs(o,s,_,6);break;case 8:Sm(),lt=6;break e;default:throw Error(i(462))}}W1();break}catch(X){Nb(o,X)}while(!0);return Gi=Cr=null,F.H=f,F.A=v,Je=l,De!==null?0:(et=null,Pe=0,pc(),lt)}function W1(){for(;De!==null&&!Xu();)Pb(De)}function Pb(o){var s=ob(o.alternate,o,Qi);o.memoizedProps=o.pendingProps,s===null?jc(o):De=s}function kb(o){var s=o,l=s.alternate;switch(s.tag){case 15:case 0:s=QS(l,s,s.pendingProps,s.type,void 0,Pe);break;case 11:s=QS(l,s,s.pendingProps,s.type.render,s.ref,Pe);break;case 5:Lp(s);default:sb(l,s),s=De=O0(s,Qi),s=ob(l,s,Qi)}o.memoizedProps=o.pendingProps,s===null?jc(o):De=s}function Bs(o,s,l,f){Gi=Cr=null,Lp(s),xs=null,rl=0;var v=s.return;try{if(F1(o,v,s,l,Pe)){lt=1,Lc(o,Rn(l,o.current)),De=null;return}}catch(_){if(v!==null)throw De=v,_;lt=1,Lc(o,Rn(l,o.current)),De=null;return}s.flags&32768?(Le||f===1?o=!0:Ps||(Pe&536870912)!==0?o=!1:(Lo=o=!0,(f===2||f===9||f===3||f===6)&&(f=cn.current,f!==null&&f.tag===13&&(f.flags|=16384))),Lb(s,o)):jc(s)}function jc(o){var s=o;do{if((s.flags&32768)!==0){Lb(s,Lo);return}o=s.return;var l=G1(s.alternate,s,Qi);if(l!==null){De=l;return}if(s=s.sibling,s!==null){De=s;return}De=s=o}while(s!==null);lt===0&&(lt=5)}function Lb(o,s){do{var l=V1(o.alternate,o);if(l!==null){l.flags&=32767,De=l;return}if(l=o.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!s&&(o=o.sibling,o!==null)){De=o;return}De=o=l}while(o!==null);lt=6,De=null}function Ub(o,s,l,f,v,_,C,R,P){o.cancelPendingCommit=null;do Xc();while(yt!==0);if((Je&6)!==0)throw Error(i(327));if(s!==null){if(s===o.current)throw Error(i(177));if(_=s.lanes|s.childLanes,_|=up,NO(o,l,_,C,R,P),o===et&&(De=et=null,Pe=0),Ls=s,Fo=o,Zi=l,vm=_,ym=v,Ab=f,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(o.callbackNode=null,o.callbackPriority=0,tP(mr,function(){return Gb(),null})):(o.callbackNode=null,o.callbackPriority=0),f=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||f){f=F.T,F.T=null,v=Q.p,Q.p=2,C=Je,Je|=4;try{z1(o,s,l)}finally{Je=C,Q.p=v,F.T=f}}yt=1,Bb(),Fb(),$b()}}function Bb(){if(yt===1){yt=0;var o=Fo,s=Ls,l=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||l){l=F.T,F.T=null;var f=Q.p;Q.p=2;var v=Je;Je|=4;try{yb(s,o);var _=Om,C=C0(o.containerInfo),R=_.focusedElem,P=_.selectionRange;if(C!==R&&R&&R.ownerDocument&&w0(R.ownerDocument.documentElement,R)){if(P!==null&&op(R)){var G=P.start,X=P.end;if(X===void 0&&(X=G),"selectionStart"in R)R.selectionStart=G,R.selectionEnd=Math.min(X,R.value.length);else{var te=R.ownerDocument||document,z=te&&te.defaultView||window;if(z.getSelection){var K=z.getSelection(),he=R.textContent.length,Ee=Math.min(P.start,he),Qe=P.end===void 0?Ee:Math.min(P.end,he);!K.extend&&Ee>Qe&&(C=Qe,Qe=Ee,Ee=C);var $=E0(R,Ee),B=E0(R,Qe);if($&&B&&(K.rangeCount!==1||K.anchorNode!==$.node||K.anchorOffset!==$.offset||K.focusNode!==B.node||K.focusOffset!==B.offset)){var H=te.createRange();H.setStart($.node,$.offset),K.removeAllRanges(),Ee>Qe?(K.addRange(H),K.extend(B.node,B.offset)):(H.setEnd(B.node,B.offset),K.addRange(H))}}}}for(te=[],K=R;K=K.parentNode;)K.nodeType===1&&te.push({element:K,left:K.scrollLeft,top:K.scrollTop});for(typeof R.focus=="function"&&R.focus(),R=0;R<te.length;R++){var Z=te[R];Z.element.scrollLeft=Z.left,Z.element.scrollTop=Z.top}}uf=!!Dm,Om=Dm=null}finally{Je=v,Q.p=f,F.T=l}}o.current=s,yt=2}}function Fb(){if(yt===2){yt=0;var o=Fo,s=Ls,l=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||l){l=F.T,F.T=null;var f=Q.p;Q.p=2;var v=Je;Je|=4;try{hb(o,s.alternate,s)}finally{Je=v,Q.p=f,F.T=l}}yt=3}}function $b(){if(yt===4||yt===3){yt=0,Wu();var o=Fo,s=Ls,l=Zi,f=Ab;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?yt=5:(yt=0,Ls=Fo=null,Hb(o,o.pendingLanes));var v=o.pendingLanes;if(v===0&&(Bo=null),Fh(l),s=s.stateNode,sn&&typeof sn.onCommitFiberRoot=="function")try{sn.onCommitFiberRoot(Ha,s,void 0,(s.current.flags&128)===128)}catch{}if(f!==null){s=F.T,v=Q.p,Q.p=2,F.T=null;try{for(var _=o.onRecoverableError,C=0;C<f.length;C++){var R=f[C];_(R.value,{componentStack:R.stack})}}finally{F.T=s,Q.p=v}}(Zi&3)!==0&&Xc(),gi(o),v=o.pendingLanes,(l&261930)!==0&&(v&42)!==0?o===_m?El++:(El=0,_m=o):El=0,wl(0)}}function Hb(o,s){(o.pooledCacheLanes&=s)===0&&(s=o.pooledCache,s!=null&&(o.pooledCache=null,il(s)))}function Xc(){return Bb(),Fb(),$b(),Gb()}function Gb(){if(yt!==5)return!1;var o=Fo,s=vm;vm=0;var l=Fh(Zi),f=F.T,v=Q.p;try{Q.p=32>l?32:l,F.T=null,l=ym,ym=null;var _=Fo,C=Zi;if(yt=0,Ls=Fo=null,Zi=0,(Je&6)!==0)throw Error(i(331));var R=Je;if(Je|=4,wb(_.current),Sb(_,_.current,C,l),Je=R,wl(0,!1),sn&&typeof sn.onPostCommitFiberRoot=="function")try{sn.onPostCommitFiberRoot(Ha,_)}catch{}return!0}finally{Q.p=v,F.T=f,Hb(o,s)}}function Vb(o,s,l){s=Rn(l,s),s=Wp(o.stateNode,s,2),o=Do(o,s,2),o!==null&&(Va(o,2),gi(o))}function Ye(o,s,l){if(o.tag===3)Vb(o,o,l);else for(;s!==null;){if(s.tag===3){Vb(s,o,l);break}else if(s.tag===1){var f=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(Bo===null||!Bo.has(f))){o=Rn(l,o),l=zS(2),f=Do(s,l,2),f!==null&&(qS(l,f,s,o),Va(f,2),gi(f));break}}s=s.return}}function Em(o,s,l){var f=o.pingCache;if(f===null){f=o.pingCache=new K1;var v=new Set;f.set(s,v)}else v=f.get(s),v===void 0&&(v=new Set,f.set(s,v));v.has(l)||(pm=!0,v.add(l),o=Q1.bind(null,o,s,l),s.then(o,o))}function Q1(o,s,l){var f=o.pingCache;f!==null&&f.delete(s),o.pingedLanes|=o.suspendedLanes&l,o.warmLanes&=~l,et===o&&(Pe&l)===l&&(lt===4||lt===3&&(Pe&62914560)===Pe&&300>At()-zc?(Je&2)===0&&Us(o,0):mm|=l,ks===Pe&&(ks=0)),gi(o)}function zb(o,s){s===0&&(s=B_()),o=br(o,s),o!==null&&(Va(o,s),gi(o))}function Z1(o){var s=o.memoizedState,l=0;s!==null&&(l=s.retryLane),zb(o,l)}function eP(o,s){var l=0;switch(o.tag){case 31:case 13:var f=o.stateNode,v=o.memoizedState;v!==null&&(l=v.retryLane);break;case 19:f=o.stateNode;break;case 22:f=o.stateNode._retryCache;break;default:throw Error(i(314))}f!==null&&f.delete(s),zb(o,l)}function tP(o,s){return Yn(o,s)}var Wc=null,Fs=null,wm=!1,Qc=!1,Cm=!1,Ho=0;function gi(o){o!==Fs&&o.next===null&&(Fs===null?Wc=Fs=o:Fs=Fs.next=o),Qc=!0,wm||(wm=!0,iP())}function wl(o,s){if(!Cm&&Qc){Cm=!0;do for(var l=!1,f=Wc;f!==null;){if(o!==0){var v=f.pendingLanes;if(v===0)var _=0;else{var C=f.suspendedLanes,R=f.pingedLanes;_=(1<<31-an(42|o)+1)-1,_&=v&~(C&~R),_=_&201326741?_&201326741|1:_?_|2:0}_!==0&&(l=!0,Yb(f,_))}else _=Pe,_=nc(f,f===et?_:0,f.cancelPendingCommit!==null||f.timeoutHandle!==-1),(_&3)===0||Ga(f,_)||(l=!0,Yb(f,_));f=f.next}while(l);Cm=!1}}function nP(){qb()}function qb(){Qc=wm=!1;var o=0;Ho!==0&&hP()&&(o=Ho);for(var s=At(),l=null,f=Wc;f!==null;){var v=f.next,_=Jb(f,s);_===0?(f.next=null,l===null?Wc=v:l.next=v,v===null&&(Fs=l)):(l=f,(o!==0||(_&3)!==0)&&(Qc=!0)),f=v}yt!==0&&yt!==5||wl(o),Ho!==0&&(Ho=0)}function Jb(o,s){for(var l=o.suspendedLanes,f=o.pingedLanes,v=o.expirationTimes,_=o.pendingLanes&-62914561;0<_;){var C=31-an(_),R=1<<C,P=v[C];P===-1?((R&l)===0||(R&f)!==0)&&(v[C]=MO(R,s)):P<=s&&(o.expiredLanes|=R),_&=~R}if(s=et,l=Pe,l=nc(o,o===s?l:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),f=o.callbackNode,l===0||o===s&&(Ke===2||Ke===9)||o.cancelPendingCommit!==null)return f!==null&&f!==null&&Eo(f),o.callbackNode=null,o.callbackPriority=0;if((l&3)===0||Ga(o,l)){if(s=l&-l,s===o.callbackPriority)return s;switch(f!==null&&Eo(f),Fh(l)){case 2:case 8:l=$a;break;case 32:l=mr;break;case 268435456:l=U_;break;default:l=mr}return f=Kb.bind(null,o),l=Yn(l,f),o.callbackPriority=s,o.callbackNode=l,s}return f!==null&&f!==null&&Eo(f),o.callbackPriority=2,o.callbackNode=null,2}function Kb(o,s){if(yt!==0&&yt!==5)return o.callbackNode=null,o.callbackPriority=0,null;var l=o.callbackNode;if(Xc()&&o.callbackNode!==l)return null;var f=Pe;return f=nc(o,o===et?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),f===0?null:(Rb(o,f,s),Jb(o,At()),o.callbackNode!=null&&o.callbackNode===l?Kb.bind(null,o):null)}function Yb(o,s){if(Xc())return null;Rb(o,s,!0)}function iP(){mP(function(){(Je&6)!==0?Yn(Fa,nP):qb()})}function Tm(){if(Ho===0){var o=Cs;o===0&&(o=Zu,Zu<<=1,(Zu&261888)===0&&(Zu=256)),Ho=o}return Ho}function jb(o){return o==null||typeof o=="symbol"||typeof o=="boolean"?null:typeof o=="function"?o:sc(""+o)}function Xb(o,s){var l=s.ownerDocument.createElement("input");return l.name=s.name,l.value=s.value,o.id&&l.setAttribute("form",o.id),s.parentNode.insertBefore(l,s),o=new FormData(o),l.parentNode.removeChild(l),o}function oP(o,s,l,f,v){if(s==="submit"&&l&&l.stateNode===v){var _=jb((v[Kt]||null).action),C=f.submitter;C&&(s=(s=C[Kt]||null)?jb(s.formAction):C.getAttribute("formAction"),s!==null&&(_=s,C=null));var R=new cc("action","action",null,f,v);o.push({event:R,listeners:[{instance:null,listener:function(){if(f.defaultPrevented){if(Ho!==0){var P=C?Xb(v,C):new FormData(v);qp(l,{pending:!0,data:P,method:v.method,action:_},null,P)}}else typeof _=="function"&&(R.preventDefault(),P=C?Xb(v,C):new FormData(v),qp(l,{pending:!0,data:P,method:v.method,action:_},_,P))},currentTarget:v}]})}}for(var Am=0;Am<lp.length;Am++){var xm=lp[Am],rP=xm.toLowerCase(),sP=xm[0].toUpperCase()+xm.slice(1);jn(rP,"on"+sP)}jn(x0,"onAnimationEnd"),jn(R0,"onAnimationIteration"),jn(M0,"onAnimationStart"),jn("dblclick","onDoubleClick"),jn("focusin","onFocus"),jn("focusout","onBlur"),jn(E1,"onTransitionRun"),jn(w1,"onTransitionStart"),jn(C1,"onTransitionCancel"),jn(N0,"onTransitionEnd"),cs("onMouseEnter",["mouseout","mouseover"]),cs("onMouseLeave",["mouseout","mouseover"]),cs("onPointerEnter",["pointerout","pointerover"]),cs("onPointerLeave",["pointerout","pointerover"]),vr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),vr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),vr("onBeforeInput",["compositionend","keypress","textInput","paste"]),vr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),vr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),vr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Cl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),aP=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Cl));function Wb(o,s){s=(s&4)!==0;for(var l=0;l<o.length;l++){var f=o[l],v=f.event;f=f.listeners;e:{var _=void 0;if(s)for(var C=f.length-1;0<=C;C--){var R=f[C],P=R.instance,G=R.currentTarget;if(R=R.listener,P!==_&&v.isPropagationStopped())break e;_=R,v.currentTarget=G;try{_(v)}catch(X){hc(X)}v.currentTarget=null,_=P}else for(C=0;C<f.length;C++){if(R=f[C],P=R.instance,G=R.currentTarget,R=R.listener,P!==_&&v.isPropagationStopped())break e;_=R,v.currentTarget=G;try{_(v)}catch(X){hc(X)}v.currentTarget=null,_=P}}}}function Oe(o,s){var l=s[$h];l===void 0&&(l=s[$h]=new Set);var f=o+"__bubble";l.has(f)||(Qb(s,o,2,!1),l.add(f))}function Rm(o,s,l){var f=0;s&&(f|=4),Qb(l,o,f,s)}var Zc="_reactListening"+Math.random().toString(36).slice(2);function Mm(o){if(!o[Zc]){o[Zc]=!0,q_.forEach(function(l){l!=="selectionchange"&&(aP.has(l)||Rm(l,!1,o),Rm(l,!0,o))});var s=o.nodeType===9?o:o.ownerDocument;s===null||s[Zc]||(s[Zc]=!0,Rm("selectionchange",!1,s))}}function Qb(o,s,l,f){switch(xE(s)){case 2:var v=kP;break;case 8:v=LP;break;default:v=zm}l=v.bind(null,s,l,o),v=void 0,!jh||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(v=!0),f?v!==void 0?o.addEventListener(s,l,{capture:!0,passive:v}):o.addEventListener(s,l,!0):v!==void 0?o.addEventListener(s,l,{passive:v}):o.addEventListener(s,l,!1)}function Nm(o,s,l,f,v){var _=f;if((s&1)===0&&(s&2)===0&&f!==null)e:for(;;){if(f===null)return;var C=f.tag;if(C===3||C===4){var R=f.stateNode.containerInfo;if(R===v)break;if(C===4)for(C=f.return;C!==null;){var P=C.tag;if((P===3||P===4)&&C.stateNode.containerInfo===v)return;C=C.return}for(;R!==null;){if(C=as(R),C===null)return;if(P=C.tag,P===5||P===6||P===26||P===27){f=_=C;continue e}R=R.parentNode}}f=f.return}i0(function(){var G=_,X=Kh(l),te=[];e:{var z=I0.get(o);if(z!==void 0){var K=cc,he=o;switch(o){case"keypress":if(lc(l)===0)break e;case"keydown":case"keyup":K=e1;break;case"focusin":he="focus",K=Zh;break;case"focusout":he="blur",K=Zh;break;case"beforeblur":case"afterblur":K=Zh;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":K=s0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":K=GO;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":K=i1;break;case x0:case R0:case M0:K=qO;break;case N0:K=r1;break;case"scroll":case"scrollend":K=$O;break;case"wheel":K=a1;break;case"copy":case"cut":case"paste":K=KO;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":K=l0;break;case"toggle":case"beforetoggle":K=u1}var Ee=(s&4)!==0,Qe=!Ee&&(o==="scroll"||o==="scrollend"),$=Ee?z!==null?z+"Capture":null:z;Ee=[];for(var B=G,H;B!==null;){var Z=B;if(H=Z.stateNode,Z=Z.tag,Z!==5&&Z!==26&&Z!==27||H===null||$===null||(Z=Ja(B,$),Z!=null&&Ee.push(Tl(B,Z,H))),Qe)break;B=B.return}0<Ee.length&&(z=new K(z,he,null,l,X),te.push({event:z,listeners:Ee}))}}if((s&7)===0){e:{if(z=o==="mouseover"||o==="pointerover",K=o==="mouseout"||o==="pointerout",z&&l!==Jh&&(he=l.relatedTarget||l.fromElement)&&(as(he)||he[ss]))break e;if((K||z)&&(z=X.window===X?X:(z=X.ownerDocument)?z.defaultView||z.parentWindow:window,K?(he=l.relatedTarget||l.toElement,K=G,he=he?as(he):null,he!==null&&(Qe=a(he),Ee=he.tag,he!==Qe||Ee!==5&&Ee!==27&&Ee!==6)&&(he=null)):(K=null,he=G),K!==he)){if(Ee=s0,Z="onMouseLeave",$="onMouseEnter",B="mouse",(o==="pointerout"||o==="pointerover")&&(Ee=l0,Z="onPointerLeave",$="onPointerEnter",B="pointer"),Qe=K==null?z:qa(K),H=he==null?z:qa(he),z=new Ee(Z,B+"leave",K,l,X),z.target=Qe,z.relatedTarget=H,Z=null,as(X)===G&&(Ee=new Ee($,B+"enter",he,l,X),Ee.target=H,Ee.relatedTarget=Qe,Z=Ee),Qe=Z,K&&he)t:{for(Ee=lP,$=K,B=he,H=0,Z=$;Z;Z=Ee(Z))H++;Z=0;for(var _e=B;_e;_e=Ee(_e))Z++;for(;0<H-Z;)$=Ee($),H--;for(;0<Z-H;)B=Ee(B),Z--;for(;H--;){if($===B||B!==null&&$===B.alternate){Ee=$;break t}$=Ee($),B=Ee(B)}Ee=null}else Ee=null;K!==null&&Zb(te,z,K,Ee,!1),he!==null&&Qe!==null&&Zb(te,Qe,he,Ee,!0)}}e:{if(z=G?qa(G):window,K=z.nodeName&&z.nodeName.toLowerCase(),K==="select"||K==="input"&&z.type==="file")var $e=g0;else if(p0(z))if(v0)$e=_1;else{$e=v1;var ge=g1}else K=z.nodeName,!K||K.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?G&&qh(G.elementType)&&($e=g0):$e=y1;if($e&&($e=$e(o,G))){m0(te,$e,l,X);break e}ge&&ge(o,z,G),o==="focusout"&&G&&z.type==="number"&&G.memoizedProps.value!=null&&zh(z,"number",z.value)}switch(ge=G?qa(G):window,o){case"focusin":(p0(ge)||ge.contentEditable==="true")&&(gs=ge,rp=G,el=null);break;case"focusout":el=rp=gs=null;break;case"mousedown":sp=!0;break;case"contextmenu":case"mouseup":case"dragend":sp=!1,T0(te,l,X);break;case"selectionchange":if(b1)break;case"keydown":case"keyup":T0(te,l,X)}var Me;if(tp)e:{switch(o){case"compositionstart":var ke="onCompositionStart";break e;case"compositionend":ke="onCompositionEnd";break e;case"compositionupdate":ke="onCompositionUpdate";break e}ke=void 0}else ms?d0(o,l)&&(ke="onCompositionEnd"):o==="keydown"&&l.keyCode===229&&(ke="onCompositionStart");ke&&(u0&&l.locale!=="ko"&&(ms||ke!=="onCompositionStart"?ke==="onCompositionEnd"&&ms&&(Me=o0()):(To=X,Xh="value"in To?To.value:To.textContent,ms=!0)),ge=ef(G,ke),0<ge.length&&(ke=new a0(ke,o,null,l,X),te.push({event:ke,listeners:ge}),Me?ke.data=Me:(Me=h0(l),Me!==null&&(ke.data=Me)))),(Me=f1?d1(o,l):h1(o,l))&&(ke=ef(G,"onBeforeInput"),0<ke.length&&(ge=new a0("onBeforeInput","beforeinput",null,l,X),te.push({event:ge,listeners:ke}),ge.data=Me)),oP(te,o,G,l,X)}Wb(te,s)})}function Tl(o,s,l){return{instance:o,listener:s,currentTarget:l}}function ef(o,s){for(var l=s+"Capture",f=[];o!==null;){var v=o,_=v.stateNode;if(v=v.tag,v!==5&&v!==26&&v!==27||_===null||(v=Ja(o,l),v!=null&&f.unshift(Tl(o,v,_)),v=Ja(o,s),v!=null&&f.push(Tl(o,v,_))),o.tag===3)return f;o=o.return}return[]}function lP(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5&&o.tag!==27);return o||null}function Zb(o,s,l,f,v){for(var _=s._reactName,C=[];l!==null&&l!==f;){var R=l,P=R.alternate,G=R.stateNode;if(R=R.tag,P!==null&&P===f)break;R!==5&&R!==26&&R!==27||G===null||(P=G,v?(G=Ja(l,_),G!=null&&C.unshift(Tl(l,G,P))):v||(G=Ja(l,_),G!=null&&C.push(Tl(l,G,P)))),l=l.return}C.length!==0&&o.push({event:s,listeners:C})}var uP=/\r\n?/g,cP=/\u0000|\uFFFD/g;function eE(o){return(typeof o=="string"?o:""+o).replace(uP,`
`).replace(cP,"")}function tE(o,s){return s=eE(s),eE(o)===s}function We(o,s,l,f,v,_){switch(l){case"children":typeof f=="string"?s==="body"||s==="textarea"&&f===""||ds(o,f):(typeof f=="number"||typeof f=="bigint")&&s!=="body"&&ds(o,""+f);break;case"className":oc(o,"class",f);break;case"tabIndex":oc(o,"tabindex",f);break;case"dir":case"role":case"viewBox":case"width":case"height":oc(o,l,f);break;case"style":t0(o,f,_);break;case"data":if(s!=="object"){oc(o,"data",f);break}case"src":case"href":if(f===""&&(s!=="a"||l!=="href")){o.removeAttribute(l);break}if(f==null||typeof f=="function"||typeof f=="symbol"||typeof f=="boolean"){o.removeAttribute(l);break}f=sc(""+f),o.setAttribute(l,f);break;case"action":case"formAction":if(typeof f=="function"){o.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof _=="function"&&(l==="formAction"?(s!=="input"&&We(o,s,"name",v.name,v,null),We(o,s,"formEncType",v.formEncType,v,null),We(o,s,"formMethod",v.formMethod,v,null),We(o,s,"formTarget",v.formTarget,v,null)):(We(o,s,"encType",v.encType,v,null),We(o,s,"method",v.method,v,null),We(o,s,"target",v.target,v,null)));if(f==null||typeof f=="symbol"||typeof f=="boolean"){o.removeAttribute(l);break}f=sc(""+f),o.setAttribute(l,f);break;case"onClick":f!=null&&(o.onclick=Bi);break;case"onScroll":f!=null&&Oe("scroll",o);break;case"onScrollEnd":f!=null&&Oe("scrollend",o);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(i(61));if(l=f.__html,l!=null){if(v.children!=null)throw Error(i(60));o.innerHTML=l}}break;case"multiple":o.multiple=f&&typeof f!="function"&&typeof f!="symbol";break;case"muted":o.muted=f&&typeof f!="function"&&typeof f!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(f==null||typeof f=="function"||typeof f=="boolean"||typeof f=="symbol"){o.removeAttribute("xlink:href");break}l=sc(""+f),o.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":f!=null&&typeof f!="function"&&typeof f!="symbol"?o.setAttribute(l,""+f):o.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":f&&typeof f!="function"&&typeof f!="symbol"?o.setAttribute(l,""):o.removeAttribute(l);break;case"capture":case"download":f===!0?o.setAttribute(l,""):f!==!1&&f!=null&&typeof f!="function"&&typeof f!="symbol"?o.setAttribute(l,f):o.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":f!=null&&typeof f!="function"&&typeof f!="symbol"&&!isNaN(f)&&1<=f?o.setAttribute(l,f):o.removeAttribute(l);break;case"rowSpan":case"start":f==null||typeof f=="function"||typeof f=="symbol"||isNaN(f)?o.removeAttribute(l):o.setAttribute(l,f);break;case"popover":Oe("beforetoggle",o),Oe("toggle",o),ic(o,"popover",f);break;case"xlinkActuate":Ui(o,"http://www.w3.org/1999/xlink","xlink:actuate",f);break;case"xlinkArcrole":Ui(o,"http://www.w3.org/1999/xlink","xlink:arcrole",f);break;case"xlinkRole":Ui(o,"http://www.w3.org/1999/xlink","xlink:role",f);break;case"xlinkShow":Ui(o,"http://www.w3.org/1999/xlink","xlink:show",f);break;case"xlinkTitle":Ui(o,"http://www.w3.org/1999/xlink","xlink:title",f);break;case"xlinkType":Ui(o,"http://www.w3.org/1999/xlink","xlink:type",f);break;case"xmlBase":Ui(o,"http://www.w3.org/XML/1998/namespace","xml:base",f);break;case"xmlLang":Ui(o,"http://www.w3.org/XML/1998/namespace","xml:lang",f);break;case"xmlSpace":Ui(o,"http://www.w3.org/XML/1998/namespace","xml:space",f);break;case"is":ic(o,"is",f);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=BO.get(l)||l,ic(o,l,f))}}function Im(o,s,l,f,v,_){switch(l){case"style":t0(o,f,_);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(i(61));if(l=f.__html,l!=null){if(v.children!=null)throw Error(i(60));o.innerHTML=l}}break;case"children":typeof f=="string"?ds(o,f):(typeof f=="number"||typeof f=="bigint")&&ds(o,""+f);break;case"onScroll":f!=null&&Oe("scroll",o);break;case"onScrollEnd":f!=null&&Oe("scrollend",o);break;case"onClick":f!=null&&(o.onclick=Bi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!J_.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(v=l.endsWith("Capture"),s=l.slice(2,v?l.length-7:void 0),_=o[Kt]||null,_=_!=null?_[l]:null,typeof _=="function"&&o.removeEventListener(s,_,v),typeof f=="function")){typeof _!="function"&&_!==null&&(l in o?o[l]=null:o.hasAttribute(l)&&o.removeAttribute(l)),o.addEventListener(s,f,v);break e}l in o?o[l]=f:f===!0?o.setAttribute(l,""):ic(o,l,f)}}}function It(o,s,l){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Oe("error",o),Oe("load",o);var f=!1,v=!1,_;for(_ in l)if(l.hasOwnProperty(_)){var C=l[_];if(C!=null)switch(_){case"src":f=!0;break;case"srcSet":v=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:We(o,s,_,C,l,null)}}v&&We(o,s,"srcSet",l.srcSet,l,null),f&&We(o,s,"src",l.src,l,null);return;case"input":Oe("invalid",o);var R=_=C=v=null,P=null,G=null;for(f in l)if(l.hasOwnProperty(f)){var X=l[f];if(X!=null)switch(f){case"name":v=X;break;case"type":C=X;break;case"checked":P=X;break;case"defaultChecked":G=X;break;case"value":_=X;break;case"defaultValue":R=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(i(137,s));break;default:We(o,s,f,X,l,null)}}W_(o,_,R,P,G,C,v,!1);return;case"select":Oe("invalid",o),f=C=_=null;for(v in l)if(l.hasOwnProperty(v)&&(R=l[v],R!=null))switch(v){case"value":_=R;break;case"defaultValue":C=R;break;case"multiple":f=R;default:We(o,s,v,R,l,null)}s=_,l=C,o.multiple=!!f,s!=null?fs(o,!!f,s,!1):l!=null&&fs(o,!!f,l,!0);return;case"textarea":Oe("invalid",o),_=v=f=null;for(C in l)if(l.hasOwnProperty(C)&&(R=l[C],R!=null))switch(C){case"value":f=R;break;case"defaultValue":v=R;break;case"children":_=R;break;case"dangerouslySetInnerHTML":if(R!=null)throw Error(i(91));break;default:We(o,s,C,R,l,null)}Z_(o,f,v,_);return;case"option":for(P in l)if(l.hasOwnProperty(P)&&(f=l[P],f!=null))switch(P){case"selected":o.selected=f&&typeof f!="function"&&typeof f!="symbol";break;default:We(o,s,P,f,l,null)}return;case"dialog":Oe("beforetoggle",o),Oe("toggle",o),Oe("cancel",o),Oe("close",o);break;case"iframe":case"object":Oe("load",o);break;case"video":case"audio":for(f=0;f<Cl.length;f++)Oe(Cl[f],o);break;case"image":Oe("error",o),Oe("load",o);break;case"details":Oe("toggle",o);break;case"embed":case"source":case"link":Oe("error",o),Oe("load",o);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(G in l)if(l.hasOwnProperty(G)&&(f=l[G],f!=null))switch(G){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:We(o,s,G,f,l,null)}return;default:if(qh(s)){for(X in l)l.hasOwnProperty(X)&&(f=l[X],f!==void 0&&Im(o,s,X,f,l,void 0));return}}for(R in l)l.hasOwnProperty(R)&&(f=l[R],f!=null&&We(o,s,R,f,l,null))}function fP(o,s,l,f){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var v=null,_=null,C=null,R=null,P=null,G=null,X=null;for(K in l){var te=l[K];if(l.hasOwnProperty(K)&&te!=null)switch(K){case"checked":break;case"value":break;case"defaultValue":P=te;default:f.hasOwnProperty(K)||We(o,s,K,null,f,te)}}for(var z in f){var K=f[z];if(te=l[z],f.hasOwnProperty(z)&&(K!=null||te!=null))switch(z){case"type":_=K;break;case"name":v=K;break;case"checked":G=K;break;case"defaultChecked":X=K;break;case"value":C=K;break;case"defaultValue":R=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(i(137,s));break;default:K!==te&&We(o,s,z,K,f,te)}}Vh(o,C,R,P,G,X,_,v);return;case"select":K=C=R=z=null;for(_ in l)if(P=l[_],l.hasOwnProperty(_)&&P!=null)switch(_){case"value":break;case"multiple":K=P;default:f.hasOwnProperty(_)||We(o,s,_,null,f,P)}for(v in f)if(_=f[v],P=l[v],f.hasOwnProperty(v)&&(_!=null||P!=null))switch(v){case"value":z=_;break;case"defaultValue":R=_;break;case"multiple":C=_;default:_!==P&&We(o,s,v,_,f,P)}s=R,l=C,f=K,z!=null?fs(o,!!l,z,!1):!!f!=!!l&&(s!=null?fs(o,!!l,s,!0):fs(o,!!l,l?[]:"",!1));return;case"textarea":K=z=null;for(R in l)if(v=l[R],l.hasOwnProperty(R)&&v!=null&&!f.hasOwnProperty(R))switch(R){case"value":break;case"children":break;default:We(o,s,R,null,f,v)}for(C in f)if(v=f[C],_=l[C],f.hasOwnProperty(C)&&(v!=null||_!=null))switch(C){case"value":z=v;break;case"defaultValue":K=v;break;case"children":break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(i(91));break;default:v!==_&&We(o,s,C,v,f,_)}Q_(o,z,K);return;case"option":for(var he in l)if(z=l[he],l.hasOwnProperty(he)&&z!=null&&!f.hasOwnProperty(he))switch(he){case"selected":o.selected=!1;break;default:We(o,s,he,null,f,z)}for(P in f)if(z=f[P],K=l[P],f.hasOwnProperty(P)&&z!==K&&(z!=null||K!=null))switch(P){case"selected":o.selected=z&&typeof z!="function"&&typeof z!="symbol";break;default:We(o,s,P,z,f,K)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ee in l)z=l[Ee],l.hasOwnProperty(Ee)&&z!=null&&!f.hasOwnProperty(Ee)&&We(o,s,Ee,null,f,z);for(G in f)if(z=f[G],K=l[G],f.hasOwnProperty(G)&&z!==K&&(z!=null||K!=null))switch(G){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(i(137,s));break;default:We(o,s,G,z,f,K)}return;default:if(qh(s)){for(var Qe in l)z=l[Qe],l.hasOwnProperty(Qe)&&z!==void 0&&!f.hasOwnProperty(Qe)&&Im(o,s,Qe,void 0,f,z);for(X in f)z=f[X],K=l[X],!f.hasOwnProperty(X)||z===K||z===void 0&&K===void 0||Im(o,s,X,z,f,K);return}}for(var $ in l)z=l[$],l.hasOwnProperty($)&&z!=null&&!f.hasOwnProperty($)&&We(o,s,$,null,f,z);for(te in f)z=f[te],K=l[te],!f.hasOwnProperty(te)||z===K||z==null&&K==null||We(o,s,te,z,f,K)}function nE(o){switch(o){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function dP(){if(typeof performance.getEntriesByType=="function"){for(var o=0,s=0,l=performance.getEntriesByType("resource"),f=0;f<l.length;f++){var v=l[f],_=v.transferSize,C=v.initiatorType,R=v.duration;if(_&&R&&nE(C)){for(C=0,R=v.responseEnd,f+=1;f<l.length;f++){var P=l[f],G=P.startTime;if(G>R)break;var X=P.transferSize,te=P.initiatorType;X&&nE(te)&&(P=P.responseEnd,C+=X*(P<R?1:(R-G)/(P-G)))}if(--f,s+=8*(_+C)/(v.duration/1e3),o++,10<o)break}}if(0<o)return s/o/1e6}return navigator.connection&&(o=navigator.connection.downlink,typeof o=="number")?o:5}var Dm=null,Om=null;function tf(o){return o.nodeType===9?o:o.ownerDocument}function iE(o){switch(o){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function oE(o,s){if(o===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return o===1&&s==="foreignObject"?0:o}function Pm(o,s){return o==="textarea"||o==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var km=null;function hP(){var o=window.event;return o&&o.type==="popstate"?o===km?!1:(km=o,!0):(km=null,!1)}var rE=typeof setTimeout=="function"?setTimeout:void 0,pP=typeof clearTimeout=="function"?clearTimeout:void 0,sE=typeof Promise=="function"?Promise:void 0,mP=typeof queueMicrotask=="function"?queueMicrotask:typeof sE<"u"?function(o){return sE.resolve(null).then(o).catch(gP)}:rE;function gP(o){setTimeout(function(){throw o})}function Go(o){return o==="head"}function aE(o,s){var l=s,f=0;do{var v=l.nextSibling;if(o.removeChild(l),v&&v.nodeType===8)if(l=v.data,l==="/$"||l==="/&"){if(f===0){o.removeChild(v),Vs(s);return}f--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")f++;else if(l==="html")Al(o.ownerDocument.documentElement);else if(l==="head"){l=o.ownerDocument.head,Al(l);for(var _=l.firstChild;_;){var C=_.nextSibling,R=_.nodeName;_[za]||R==="SCRIPT"||R==="STYLE"||R==="LINK"&&_.rel.toLowerCase()==="stylesheet"||l.removeChild(_),_=C}}else l==="body"&&Al(o.ownerDocument.body);l=v}while(l);Vs(s)}function lE(o,s){var l=o;o=0;do{var f=l.nextSibling;if(l.nodeType===1?s?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(s?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),f&&f.nodeType===8)if(l=f.data,l==="/$"){if(o===0)break;o--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||o++;l=f}while(l)}function Lm(o){var s=o.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var l=s;switch(s=s.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":Lm(l),Hh(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}o.removeChild(l)}}function vP(o,s,l,f){for(;o.nodeType===1;){var v=l;if(o.nodeName.toLowerCase()!==s.toLowerCase()){if(!f&&(o.nodeName!=="INPUT"||o.type!=="hidden"))break}else if(f){if(!o[za])switch(s){case"meta":if(!o.hasAttribute("itemprop"))break;return o;case"link":if(_=o.getAttribute("rel"),_==="stylesheet"&&o.hasAttribute("data-precedence"))break;if(_!==v.rel||o.getAttribute("href")!==(v.href==null||v.href===""?null:v.href)||o.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin)||o.getAttribute("title")!==(v.title==null?null:v.title))break;return o;case"style":if(o.hasAttribute("data-precedence"))break;return o;case"script":if(_=o.getAttribute("src"),(_!==(v.src==null?null:v.src)||o.getAttribute("type")!==(v.type==null?null:v.type)||o.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin))&&_&&o.hasAttribute("async")&&!o.hasAttribute("itemprop"))break;return o;default:return o}}else if(s==="input"&&o.type==="hidden"){var _=v.name==null?null:""+v.name;if(v.type==="hidden"&&o.getAttribute("name")===_)return o}else return o;if(o=On(o.nextSibling),o===null)break}return null}function yP(o,s,l){if(s==="")return null;for(;o.nodeType!==3;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!l||(o=On(o.nextSibling),o===null))return null;return o}function uE(o,s){for(;o.nodeType!==8;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!s||(o=On(o.nextSibling),o===null))return null;return o}function Um(o){return o.data==="$?"||o.data==="$~"}function Bm(o){return o.data==="$!"||o.data==="$?"&&o.ownerDocument.readyState!=="loading"}function _P(o,s){var l=o.ownerDocument;if(o.data==="$~")o._reactRetry=s;else if(o.data!=="$?"||l.readyState!=="loading")s();else{var f=function(){s(),l.removeEventListener("DOMContentLoaded",f)};l.addEventListener("DOMContentLoaded",f),o._reactRetry=f}}function On(o){for(;o!=null;o=o.nextSibling){var s=o.nodeType;if(s===1||s===3)break;if(s===8){if(s=o.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return o}var Fm=null;function cE(o){o=o.nextSibling;for(var s=0;o;){if(o.nodeType===8){var l=o.data;if(l==="/$"||l==="/&"){if(s===0)return On(o.nextSibling);s--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||s++}o=o.nextSibling}return null}function fE(o){o=o.previousSibling;for(var s=0;o;){if(o.nodeType===8){var l=o.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(s===0)return o;s--}else l!=="/$"&&l!=="/&"||s++}o=o.previousSibling}return null}function dE(o,s,l){switch(s=tf(l),o){case"html":if(o=s.documentElement,!o)throw Error(i(452));return o;case"head":if(o=s.head,!o)throw Error(i(453));return o;case"body":if(o=s.body,!o)throw Error(i(454));return o;default:throw Error(i(451))}}function Al(o){for(var s=o.attributes;s.length;)o.removeAttributeNode(s[0]);Hh(o)}var Pn=new Map,hE=new Set;function nf(o){return typeof o.getRootNode=="function"?o.getRootNode():o.nodeType===9?o:o.ownerDocument}var eo=Q.d;Q.d={f:SP,r:bP,D:EP,C:wP,L:CP,m:TP,X:xP,S:AP,M:RP};function SP(){var o=eo.f(),s=Kc();return o||s}function bP(o){var s=ls(o);s!==null&&s.tag===5&&s.type==="form"?NS(s):eo.r(o)}var $s=typeof document>"u"?null:document;function pE(o,s,l){var f=$s;if(f&&typeof s=="string"&&s){var v=An(s);v='link[rel="'+o+'"][href="'+v+'"]',typeof l=="string"&&(v+='[crossorigin="'+l+'"]'),hE.has(v)||(hE.add(v),o={rel:o,crossOrigin:l,href:s},f.querySelector(v)===null&&(s=f.createElement("link"),It(s,"link",o),bt(s),f.head.appendChild(s)))}}function EP(o){eo.D(o),pE("dns-prefetch",o,null)}function wP(o,s){eo.C(o,s),pE("preconnect",o,s)}function CP(o,s,l){eo.L(o,s,l);var f=$s;if(f&&o&&s){var v='link[rel="preload"][as="'+An(s)+'"]';s==="image"&&l&&l.imageSrcSet?(v+='[imagesrcset="'+An(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(v+='[imagesizes="'+An(l.imageSizes)+'"]')):v+='[href="'+An(o)+'"]';var _=v;switch(s){case"style":_=Hs(o);break;case"script":_=Gs(o)}Pn.has(_)||(o=y({rel:"preload",href:s==="image"&&l&&l.imageSrcSet?void 0:o,as:s},l),Pn.set(_,o),f.querySelector(v)!==null||s==="style"&&f.querySelector(xl(_))||s==="script"&&f.querySelector(Rl(_))||(s=f.createElement("link"),It(s,"link",o),bt(s),f.head.appendChild(s)))}}function TP(o,s){eo.m(o,s);var l=$s;if(l&&o){var f=s&&typeof s.as=="string"?s.as:"script",v='link[rel="modulepreload"][as="'+An(f)+'"][href="'+An(o)+'"]',_=v;switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":_=Gs(o)}if(!Pn.has(_)&&(o=y({rel:"modulepreload",href:o},s),Pn.set(_,o),l.querySelector(v)===null)){switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(Rl(_)))return}f=l.createElement("link"),It(f,"link",o),bt(f),l.head.appendChild(f)}}}function AP(o,s,l){eo.S(o,s,l);var f=$s;if(f&&o){var v=us(f).hoistableStyles,_=Hs(o);s=s||"default";var C=v.get(_);if(!C){var R={loading:0,preload:null};if(C=f.querySelector(xl(_)))R.loading=5;else{o=y({rel:"stylesheet",href:o,"data-precedence":s},l),(l=Pn.get(_))&&$m(o,l);var P=C=f.createElement("link");bt(P),It(P,"link",o),P._p=new Promise(function(G,X){P.onload=G,P.onerror=X}),P.addEventListener("load",function(){R.loading|=1}),P.addEventListener("error",function(){R.loading|=2}),R.loading|=4,of(C,s,f)}C={type:"stylesheet",instance:C,count:1,state:R},v.set(_,C)}}}function xP(o,s){eo.X(o,s);var l=$s;if(l&&o){var f=us(l).hoistableScripts,v=Gs(o),_=f.get(v);_||(_=l.querySelector(Rl(v)),_||(o=y({src:o,async:!0},s),(s=Pn.get(v))&&Hm(o,s),_=l.createElement("script"),bt(_),It(_,"link",o),l.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},f.set(v,_))}}function RP(o,s){eo.M(o,s);var l=$s;if(l&&o){var f=us(l).hoistableScripts,v=Gs(o),_=f.get(v);_||(_=l.querySelector(Rl(v)),_||(o=y({src:o,async:!0,type:"module"},s),(s=Pn.get(v))&&Hm(o,s),_=l.createElement("script"),bt(_),It(_,"link",o),l.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},f.set(v,_))}}function mE(o,s,l,f){var v=(v=be.current)?nf(v):null;if(!v)throw Error(i(446));switch(o){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(s=Hs(l.href),l=us(v).hoistableStyles,f=l.get(s),f||(f={type:"style",instance:null,count:0,state:null},l.set(s,f)),f):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){o=Hs(l.href);var _=us(v).hoistableStyles,C=_.get(o);if(C||(v=v.ownerDocument||v,C={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},_.set(o,C),(_=v.querySelector(xl(o)))&&!_._p&&(C.instance=_,C.state.loading=5),Pn.has(o)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},Pn.set(o,l),_||MP(v,o,l,C.state))),s&&f===null)throw Error(i(528,""));return C}if(s&&f!==null)throw Error(i(529,""));return null;case"script":return s=l.async,l=l.src,typeof l=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Gs(l),l=us(v).hoistableScripts,f=l.get(s),f||(f={type:"script",instance:null,count:0,state:null},l.set(s,f)),f):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,o))}}function Hs(o){return'href="'+An(o)+'"'}function xl(o){return'link[rel="stylesheet"]['+o+"]"}function gE(o){return y({},o,{"data-precedence":o.precedence,precedence:null})}function MP(o,s,l,f){o.querySelector('link[rel="preload"][as="style"]['+s+"]")?f.loading=1:(s=o.createElement("link"),f.preload=s,s.addEventListener("load",function(){return f.loading|=1}),s.addEventListener("error",function(){return f.loading|=2}),It(s,"link",l),bt(s),o.head.appendChild(s))}function Gs(o){return'[src="'+An(o)+'"]'}function Rl(o){return"script[async]"+o}function vE(o,s,l){if(s.count++,s.instance===null)switch(s.type){case"style":var f=o.querySelector('style[data-href~="'+An(l.href)+'"]');if(f)return s.instance=f,bt(f),f;var v=y({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return f=(o.ownerDocument||o).createElement("style"),bt(f),It(f,"style",v),of(f,l.precedence,o),s.instance=f;case"stylesheet":v=Hs(l.href);var _=o.querySelector(xl(v));if(_)return s.state.loading|=4,s.instance=_,bt(_),_;f=gE(l),(v=Pn.get(v))&&$m(f,v),_=(o.ownerDocument||o).createElement("link"),bt(_);var C=_;return C._p=new Promise(function(R,P){C.onload=R,C.onerror=P}),It(_,"link",f),s.state.loading|=4,of(_,l.precedence,o),s.instance=_;case"script":return _=Gs(l.src),(v=o.querySelector(Rl(_)))?(s.instance=v,bt(v),v):(f=l,(v=Pn.get(_))&&(f=y({},l),Hm(f,v)),o=o.ownerDocument||o,v=o.createElement("script"),bt(v),It(v,"link",f),o.head.appendChild(v),s.instance=v);case"void":return null;default:throw Error(i(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(f=s.instance,s.state.loading|=4,of(f,l.precedence,o));return s.instance}function of(o,s,l){for(var f=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),v=f.length?f[f.length-1]:null,_=v,C=0;C<f.length;C++){var R=f[C];if(R.dataset.precedence===s)_=R;else if(_!==v)break}_?_.parentNode.insertBefore(o,_.nextSibling):(s=l.nodeType===9?l.head:l,s.insertBefore(o,s.firstChild))}function $m(o,s){o.crossOrigin==null&&(o.crossOrigin=s.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=s.referrerPolicy),o.title==null&&(o.title=s.title)}function Hm(o,s){o.crossOrigin==null&&(o.crossOrigin=s.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=s.referrerPolicy),o.integrity==null&&(o.integrity=s.integrity)}var rf=null;function yE(o,s,l){if(rf===null){var f=new Map,v=rf=new Map;v.set(l,f)}else v=rf,f=v.get(l),f||(f=new Map,v.set(l,f));if(f.has(o))return f;for(f.set(o,null),l=l.getElementsByTagName(o),v=0;v<l.length;v++){var _=l[v];if(!(_[za]||_[xt]||o==="link"&&_.getAttribute("rel")==="stylesheet")&&_.namespaceURI!=="http://www.w3.org/2000/svg"){var C=_.getAttribute(s)||"";C=o+C;var R=f.get(C);R?R.push(_):f.set(C,[_])}}return f}function _E(o,s,l){o=o.ownerDocument||o,o.head.insertBefore(l,s==="title"?o.querySelector("head > title"):null)}function NP(o,s,l){if(l===1||s.itemProp!=null)return!1;switch(o){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return o=s.disabled,typeof s.precedence=="string"&&o==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function SE(o){return!(o.type==="stylesheet"&&(o.state.loading&3)===0)}function IP(o,s,l,f){if(l.type==="stylesheet"&&(typeof f.media!="string"||matchMedia(f.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var v=Hs(f.href),_=s.querySelector(xl(v));if(_){s=_._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(o.count++,o=sf.bind(o),s.then(o,o)),l.state.loading|=4,l.instance=_,bt(_);return}_=s.ownerDocument||s,f=gE(f),(v=Pn.get(v))&&$m(f,v),_=_.createElement("link"),bt(_);var C=_;C._p=new Promise(function(R,P){C.onload=R,C.onerror=P}),It(_,"link",f),l.instance=_}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(l,s),(s=l.state.preload)&&(l.state.loading&3)===0&&(o.count++,l=sf.bind(o),s.addEventListener("load",l),s.addEventListener("error",l))}}var Gm=0;function DP(o,s){return o.stylesheets&&o.count===0&&lf(o,o.stylesheets),0<o.count||0<o.imgCount?function(l){var f=setTimeout(function(){if(o.stylesheets&&lf(o,o.stylesheets),o.unsuspend){var _=o.unsuspend;o.unsuspend=null,_()}},6e4+s);0<o.imgBytes&&Gm===0&&(Gm=62500*dP());var v=setTimeout(function(){if(o.waitingForImages=!1,o.count===0&&(o.stylesheets&&lf(o,o.stylesheets),o.unsuspend)){var _=o.unsuspend;o.unsuspend=null,_()}},(o.imgBytes>Gm?50:800)+s);return o.unsuspend=l,function(){o.unsuspend=null,clearTimeout(f),clearTimeout(v)}}:null}function sf(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)lf(this,this.stylesheets);else if(this.unsuspend){var o=this.unsuspend;this.unsuspend=null,o()}}}var af=null;function lf(o,s){o.stylesheets=null,o.unsuspend!==null&&(o.count++,af=new Map,s.forEach(OP,o),af=null,sf.call(o))}function OP(o,s){if(!(s.state.loading&4)){var l=af.get(o);if(l)var f=l.get(null);else{l=new Map,af.set(o,l);for(var v=o.querySelectorAll("link[data-precedence],style[data-precedence]"),_=0;_<v.length;_++){var C=v[_];(C.nodeName==="LINK"||C.getAttribute("media")!=="not all")&&(l.set(C.dataset.precedence,C),f=C)}f&&l.set(null,f)}v=s.instance,C=v.getAttribute("data-precedence"),_=l.get(C)||f,_===f&&l.set(null,v),l.set(C,v),this.count++,f=sf.bind(this),v.addEventListener("load",f),v.addEventListener("error",f),_?_.parentNode.insertBefore(v,_.nextSibling):(o=o.nodeType===9?o.head:o,o.insertBefore(v,o.firstChild)),s.state.loading|=4}}var Ml={$$typeof:N,Provider:null,Consumer:null,_currentValue:ee,_currentValue2:ee,_threadCount:0};function PP(o,s,l,f,v,_,C,R,P){this.tag=1,this.containerInfo=o,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Uh(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Uh(0),this.hiddenUpdates=Uh(null),this.identifierPrefix=f,this.onUncaughtError=v,this.onCaughtError=_,this.onRecoverableError=C,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=P,this.incompleteTransitions=new Map}function bE(o,s,l,f,v,_,C,R,P,G,X,te){return o=new PP(o,s,l,C,P,G,X,te,R),s=1,_===!0&&(s|=24),_=un(3,null,null,s),o.current=_,_.stateNode=o,s=bp(),s.refCount++,o.pooledCache=s,s.refCount++,_.memoizedState={element:f,isDehydrated:l,cache:s},Tp(_),o}function EE(o){return o?(o=_s,o):_s}function wE(o,s,l,f,v,_){v=EE(v),f.context===null?f.context=v:f.pendingContext=v,f=Io(s),f.payload={element:l},_=_===void 0?null:_,_!==null&&(f.callback=_),l=Do(o,f,s),l!==null&&(Zt(l,o,s),al(l,o,s))}function CE(o,s){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var l=o.retryLane;o.retryLane=l!==0&&l<s?l:s}}function Vm(o,s){CE(o,s),(o=o.alternate)&&CE(o,s)}function TE(o){if(o.tag===13||o.tag===31){var s=br(o,67108864);s!==null&&Zt(s,o,67108864),Vm(o,67108864)}}function AE(o){if(o.tag===13||o.tag===31){var s=pn();s=Bh(s);var l=br(o,s);l!==null&&Zt(l,o,s),Vm(o,s)}}var uf=!0;function kP(o,s,l,f){var v=F.T;F.T=null;var _=Q.p;try{Q.p=2,zm(o,s,l,f)}finally{Q.p=_,F.T=v}}function LP(o,s,l,f){var v=F.T;F.T=null;var _=Q.p;try{Q.p=8,zm(o,s,l,f)}finally{Q.p=_,F.T=v}}function zm(o,s,l,f){if(uf){var v=qm(f);if(v===null)Nm(o,s,f,cf,l),RE(o,f);else if(BP(v,o,s,l,f))f.stopPropagation();else if(RE(o,f),s&4&&-1<UP.indexOf(o)){for(;v!==null;){var _=ls(v);if(_!==null)switch(_.tag){case 3:if(_=_.stateNode,_.current.memoizedState.isDehydrated){var C=gr(_.pendingLanes);if(C!==0){var R=_;for(R.pendingLanes|=2,R.entangledLanes|=2;C;){var P=1<<31-an(C);R.entanglements[1]|=P,C&=~P}gi(_),(Je&6)===0&&(qc=At()+500,wl(0))}}break;case 31:case 13:R=br(_,2),R!==null&&Zt(R,_,2),Kc(),Vm(_,2)}if(_=qm(f),_===null&&Nm(o,s,f,cf,l),_===v)break;v=_}v!==null&&f.stopPropagation()}else Nm(o,s,f,null,l)}}function qm(o){return o=Kh(o),Jm(o)}var cf=null;function Jm(o){if(cf=null,o=as(o),o!==null){var s=a(o);if(s===null)o=null;else{var l=s.tag;if(l===13){if(o=u(s),o!==null)return o;o=null}else if(l===31){if(o=c(s),o!==null)return o;o=null}else if(l===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;o=null}else s!==o&&(o=null)}}return cf=o,null}function xE(o){switch(o){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Qu()){case Fa:return 2;case $a:return 8;case mr:case wO:return 32;case U_:return 268435456;default:return 32}default:return 32}}var Km=!1,Vo=null,zo=null,qo=null,Nl=new Map,Il=new Map,Jo=[],UP="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function RE(o,s){switch(o){case"focusin":case"focusout":Vo=null;break;case"dragenter":case"dragleave":zo=null;break;case"mouseover":case"mouseout":qo=null;break;case"pointerover":case"pointerout":Nl.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Il.delete(s.pointerId)}}function Dl(o,s,l,f,v,_){return o===null||o.nativeEvent!==_?(o={blockedOn:s,domEventName:l,eventSystemFlags:f,nativeEvent:_,targetContainers:[v]},s!==null&&(s=ls(s),s!==null&&TE(s)),o):(o.eventSystemFlags|=f,s=o.targetContainers,v!==null&&s.indexOf(v)===-1&&s.push(v),o)}function BP(o,s,l,f,v){switch(s){case"focusin":return Vo=Dl(Vo,o,s,l,f,v),!0;case"dragenter":return zo=Dl(zo,o,s,l,f,v),!0;case"mouseover":return qo=Dl(qo,o,s,l,f,v),!0;case"pointerover":var _=v.pointerId;return Nl.set(_,Dl(Nl.get(_)||null,o,s,l,f,v)),!0;case"gotpointercapture":return _=v.pointerId,Il.set(_,Dl(Il.get(_)||null,o,s,l,f,v)),!0}return!1}function ME(o){var s=as(o.target);if(s!==null){var l=a(s);if(l!==null){if(s=l.tag,s===13){if(s=u(l),s!==null){o.blockedOn=s,V_(o.priority,function(){AE(l)});return}}else if(s===31){if(s=c(l),s!==null){o.blockedOn=s,V_(o.priority,function(){AE(l)});return}}else if(s===3&&l.stateNode.current.memoizedState.isDehydrated){o.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}o.blockedOn=null}function ff(o){if(o.blockedOn!==null)return!1;for(var s=o.targetContainers;0<s.length;){var l=qm(o.nativeEvent);if(l===null){l=o.nativeEvent;var f=new l.constructor(l.type,l);Jh=f,l.target.dispatchEvent(f),Jh=null}else return s=ls(l),s!==null&&TE(s),o.blockedOn=l,!1;s.shift()}return!0}function NE(o,s,l){ff(o)&&l.delete(s)}function FP(){Km=!1,Vo!==null&&ff(Vo)&&(Vo=null),zo!==null&&ff(zo)&&(zo=null),qo!==null&&ff(qo)&&(qo=null),Nl.forEach(NE),Il.forEach(NE)}function df(o,s){o.blockedOn===s&&(o.blockedOn=null,Km||(Km=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,FP)))}var hf=null;function IE(o){hf!==o&&(hf=o,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){hf===o&&(hf=null);for(var s=0;s<o.length;s+=3){var l=o[s],f=o[s+1],v=o[s+2];if(typeof f!="function"){if(Jm(f||l)===null)continue;break}var _=ls(l);_!==null&&(o.splice(s,3),s-=3,qp(_,{pending:!0,data:v,method:l.method,action:f},f,v))}}))}function Vs(o){function s(P){return df(P,o)}Vo!==null&&df(Vo,o),zo!==null&&df(zo,o),qo!==null&&df(qo,o),Nl.forEach(s),Il.forEach(s);for(var l=0;l<Jo.length;l++){var f=Jo[l];f.blockedOn===o&&(f.blockedOn=null)}for(;0<Jo.length&&(l=Jo[0],l.blockedOn===null);)ME(l),l.blockedOn===null&&Jo.shift();if(l=(o.ownerDocument||o).$$reactFormReplay,l!=null)for(f=0;f<l.length;f+=3){var v=l[f],_=l[f+1],C=v[Kt]||null;if(typeof _=="function")C||IE(l);else if(C){var R=null;if(_&&_.hasAttribute("formAction")){if(v=_,C=_[Kt]||null)R=C.formAction;else if(Jm(v)!==null)continue}else R=C.action;typeof R=="function"?l[f+1]=R:(l.splice(f,3),f-=3),IE(l)}}}function DE(){function o(_){_.canIntercept&&_.info==="react-transition"&&_.intercept({handler:function(){return new Promise(function(C){return v=C})},focusReset:"manual",scroll:"manual"})}function s(){v!==null&&(v(),v=null),f||setTimeout(l,20)}function l(){if(!f&&!navigation.transition){var _=navigation.currentEntry;_&&_.url!=null&&navigation.navigate(_.url,{state:_.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var f=!1,v=null;return navigation.addEventListener("navigate",o),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(l,100),function(){f=!0,navigation.removeEventListener("navigate",o),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),v!==null&&(v(),v=null)}}}function Ym(o){this._internalRoot=o}pf.prototype.render=Ym.prototype.render=function(o){var s=this._internalRoot;if(s===null)throw Error(i(409));var l=s.current,f=pn();wE(l,f,o,s,null,null)},pf.prototype.unmount=Ym.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var s=o.containerInfo;wE(o.current,2,null,o,null,null),Kc(),s[ss]=null}};function pf(o){this._internalRoot=o}pf.prototype.unstable_scheduleHydration=function(o){if(o){var s=G_();o={blockedOn:null,target:o,priority:s};for(var l=0;l<Jo.length&&s!==0&&s<Jo[l].priority;l++);Jo.splice(l,0,o),l===0&&ME(o)}};var OE=e.version;if(OE!=="19.2.1")throw Error(i(527,OE,"19.2.1"));Q.findDOMNode=function(o){var s=o._reactInternals;if(s===void 0)throw typeof o.render=="function"?Error(i(188)):(o=Object.keys(o).join(","),Error(i(268,o)));return o=d(s),o=o!==null?m(o):null,o=o===null?null:o.stateNode,o};var $P={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:F,reconcilerVersion:"19.2.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var mf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!mf.isDisabled&&mf.supportsFiber)try{Ha=mf.inject($P),sn=mf}catch{}}return Pl.createRoot=function(o,s){if(!r(o))throw Error(i(299));var l=!1,f="",v=$S,_=HS,C=GS;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(f=s.identifierPrefix),s.onUncaughtError!==void 0&&(v=s.onUncaughtError),s.onCaughtError!==void 0&&(_=s.onCaughtError),s.onRecoverableError!==void 0&&(C=s.onRecoverableError)),s=bE(o,1,!1,null,null,l,f,null,v,_,C,DE),o[ss]=s.current,Mm(o),new Ym(s)},Pl.hydrateRoot=function(o,s,l){if(!r(o))throw Error(i(299));var f=!1,v="",_=$S,C=HS,R=GS,P=null;return l!=null&&(l.unstable_strictMode===!0&&(f=!0),l.identifierPrefix!==void 0&&(v=l.identifierPrefix),l.onUncaughtError!==void 0&&(_=l.onUncaughtError),l.onCaughtError!==void 0&&(C=l.onCaughtError),l.onRecoverableError!==void 0&&(R=l.onRecoverableError),l.formState!==void 0&&(P=l.formState)),s=bE(o,1,!0,s,l??null,f,v,P,_,C,R,DE),s.context=EE(null),l=s.current,f=pn(),f=Bh(f),v=Io(f),v.callback=null,Do(l,v,f),l=f,s.current.lanes=l,Va(s,l),gi(s),o[ss]=s.current,Mm(o),new pf(s)},Pl.version="19.2.1",Pl}var VE;function XP(){if(VE)return Wm.exports;VE=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Wm.exports=jP(),Wm.exports}var WP=XP();function Be(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];throw new Error(typeof t=="number"?"[MobX] minified error nr: "+t+(n.length?" "+n.map(String).join(","):"")+". Find the full error at: https://github.com/mobxjs/mobx/blob/main/packages/mobx/src/errors.ts":"[MobX] "+t)}var QP={};function jd(){return typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:QP}var GA=Object.assign,fd=Object.getOwnPropertyDescriptor,Ci=Object.defineProperty,bu=Object.prototype,Qg=[];Object.freeze(Qg);var VA={};Object.freeze(VA);var ZP=typeof Proxy<"u",ek=Object.toString();function zA(){ZP||Be("Proxy not available")}function qA(t){var e=!1;return function(){if(!e)return e=!0,t.apply(this,arguments)}}var ra=function(){};function si(t){return typeof t=="function"}function zr(t){var e=typeof t;switch(e){case"string":case"symbol":case"number":return!0}return!1}function Xd(t){return t!==null&&typeof t=="object"}function fo(t){if(!Xd(t))return!1;var e=Object.getPrototypeOf(t);if(e==null)return!0;var n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n.toString()===ek}function JA(t){var e=t?.constructor;return e?e.name==="GeneratorFunction"||e.displayName==="GeneratorFunction":!1}function Eu(t,e,n){Ci(t,e,{enumerable:!1,writable:!0,configurable:!0,value:n})}function KA(t,e,n){Ci(t,e,{enumerable:!1,writable:!1,configurable:!0,value:n})}function lr(t,e){var n="isMobX"+t;return e.prototype[n]=!0,function(i){return Xd(i)&&i[n]===!0}}function Aa(t){return t!=null&&Object.prototype.toString.call(t)==="[object Map]"}function tk(t){var e=Object.getPrototypeOf(t),n=Object.getPrototypeOf(e),i=Object.getPrototypeOf(n);return i===null}function oo(t){return t!=null&&Object.prototype.toString.call(t)==="[object Set]"}var YA=typeof Object.getOwnPropertySymbols<"u";function nk(t){var e=Object.keys(t);if(!YA)return e;var n=Object.getOwnPropertySymbols(t);return n.length?[].concat(e,n.filter(function(i){return bu.propertyIsEnumerable.call(t,i)})):e}var ga=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:YA?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:Object.getOwnPropertyNames;function jA(t){return t===null?null:typeof t=="object"?""+t:t}function ao(t,e){return bu.hasOwnProperty.call(t,e)}var ik=Object.getOwnPropertyDescriptors||function(e){var n={};return ga(e).forEach(function(i){n[i]=fd(e,i)}),n};function _n(t,e){return!!(t&e)}function Sn(t,e,n){return n?t|=e:t&=~e,t}function zE(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,i=Array(e);n<e;n++)i[n]=t[n];return i}function ok(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,sk(i.key),i)}}function xa(t,e,n){return e&&ok(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function sa(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n)return(n=n.call(t)).next.bind(n);if(Array.isArray(t)||(n=ak(t))||e){n&&(t=n);var i=0;return function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qr(){return qr=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},qr.apply(null,arguments)}function XA(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,Zg(t,e)}function Zg(t,e){return Zg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Zg(t,e)}function rk(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function sk(t){var e=rk(t,"string");return typeof e=="symbol"?e:e+""}function ak(t,e){if(t){if(typeof t=="string")return zE(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?zE(t,e):void 0}}var bi=Symbol("mobx-stored-annotations");function Ti(t){function e(n,i){if(Cu(i))return t.decorate_20223_(n,i);wu(n,i,t)}return Object.assign(e,t)}function wu(t,e,n){ao(t,bi)||Eu(t,bi,qr({},t[bi])),pk(n)||(t[bi][e]=n)}function lk(t){return ao(t,bi)||Eu(t,bi,qr({},t[bi])),t[bi]}function Cu(t){return typeof t=="object"&&typeof t.kind=="string"}var we=Symbol("mobx administration"),ur=(function(){function t(n){n===void 0&&(n="Atom"),this.name_=void 0,this.flags_=0,this.observers_=new Set,this.lastAccessedBy_=0,this.lowestObserverState_=Ge.NOT_TRACKING_,this.onBOL=void 0,this.onBUOL=void 0,this.name_=n}var e=t.prototype;return e.onBO=function(){this.onBOL&&this.onBOL.forEach(function(i){return i()})},e.onBUO=function(){this.onBUOL&&this.onBUOL.forEach(function(i){return i()})},e.reportObserved=function(){return hx(this)},e.reportChanged=function(){Bn(),px(this),Fn()},e.toString=function(){return this.name_},xa(t,[{key:"isBeingObserved",get:function(){return _n(this.flags_,t.isBeingObservedMask_)},set:function(i){this.flags_=Sn(this.flags_,t.isBeingObservedMask_,i)}},{key:"isPendingUnobservation",get:function(){return _n(this.flags_,t.isPendingUnobservationMask_)},set:function(i){this.flags_=Sn(this.flags_,t.isPendingUnobservationMask_,i)}},{key:"diffValue",get:function(){return _n(this.flags_,t.diffValueMask_)?1:0},set:function(i){this.flags_=Sn(this.flags_,t.diffValueMask_,i===1)}}])})();ur.isBeingObservedMask_=1;ur.isPendingUnobservationMask_=2;ur.diffValueMask_=4;var sy=lr("Atom",ur);function WA(t,e,n){e===void 0&&(e=ra),n===void 0&&(n=ra);var i=new ur(t);return e!==ra&&vL(i,e),n!==ra&&Sx(i,n),i}function uk(t,e){return Dx(t,e)}function ck(t,e){return Object.is?Object.is(t,e):t===e?t!==0||1/t===1/e:t!==t&&e!==e}var dd={structural:uk,default:ck};function Jr(t,e,n){return fy(t)?t:Array.isArray(t)?Ct.array(t,{name:n}):fo(t)?Ct.object(t,void 0,{name:n}):Aa(t)?Ct.map(t,{name:n}):oo(t)?Ct.set(t,{name:n}):typeof t=="function"&&!va(t)&&!au(t)?JA(t)?ya(t):su(n,t):t}function fk(t,e,n){if(t==null||Nu(t)||Mu(t)||cr(t)||ei(t))return t;if(Array.isArray(t))return Ct.array(t,{name:n,deep:!1});if(fo(t))return Ct.object(t,void 0,{name:n,deep:!1});if(Aa(t))return Ct.map(t,{name:n,deep:!1});if(oo(t))return Ct.set(t,{name:n,deep:!1})}function Wd(t){return t}function dk(t,e){return Dx(t,e)?e:t}var hk="override";function pk(t){return t.annotationType_===hk}function Tu(t,e){return{annotationType_:t,options_:e,make_:mk,extend_:gk,decorate_20223_:vk}}function mk(t,e,n,i){var r;if((r=this.options_)!=null&&r.bound)return this.extend_(t,e,n,!1)===null?0:1;if(i===t.target_)return this.extend_(t,e,n,!1)===null?0:2;if(va(n.value))return 1;var a=QA(t,this,e,n,!1);return Ci(i,e,a),2}function gk(t,e,n,i){var r=QA(t,this,e,n);return t.defineProperty_(e,r,i)}function vk(t,e){var n=e.kind,i=e.name,r=e.addInitializer,a=this,u=function(d){var m,y,S,b;return Kr((m=(y=a.options_)==null?void 0:y.name)!=null?m:i.toString(),d,(S=(b=a.options_)==null?void 0:b.autoAction)!=null?S:!1)};if(n=="field")return function(h){var d,m=h;return va(m)||(m=u(m)),(d=a.options_)!=null&&d.bound&&(m=m.bind(this),m.isMobxAction=!0),m};if(n=="method"){var c;return va(t)||(t=u(t)),(c=this.options_)!=null&&c.bound&&r(function(){var h=this,d=h[i].bind(h);d.isMobxAction=!0,h[i]=d}),t}Be("Cannot apply '"+a.annotationType_+"' to '"+String(i)+"' (kind: "+n+"):"+(`
'`+a.annotationType_+"' can only be used on properties with a function value."))}function yk(t,e,n,i){e.annotationType_,i.value}function QA(t,e,n,i,r){var a,u,c,h,d,m,y;r===void 0&&(r=ue.safeDescriptors),yk(t,e,n,i);var S=i.value;if((a=e.options_)!=null&&a.bound){var b;S=S.bind((b=t.proxy_)!=null?b:t.target_)}return{value:Kr((u=(c=e.options_)==null?void 0:c.name)!=null?u:n.toString(),S,(h=(d=e.options_)==null?void 0:d.autoAction)!=null?h:!1,(m=e.options_)!=null&&m.bound?(y=t.proxy_)!=null?y:t.target_:void 0),configurable:r?t.isPlainObject_:!0,enumerable:!1,writable:!r}}function ZA(t,e){return{annotationType_:t,options_:e,make_:_k,extend_:Sk,decorate_20223_:bk}}function _k(t,e,n,i){var r;if(i===t.target_)return this.extend_(t,e,n,!1)===null?0:2;if((r=this.options_)!=null&&r.bound&&(!ao(t.target_,e)||!au(t.target_[e]))&&this.extend_(t,e,n,!1)===null)return 0;if(au(n.value))return 1;var a=ex(t,this,e,n,!1,!1);return Ci(i,e,a),2}function Sk(t,e,n,i){var r,a=ex(t,this,e,n,(r=this.options_)==null?void 0:r.bound);return t.defineProperty_(e,a,i)}function bk(t,e){var n,i=e.name,r=e.addInitializer;return au(t)||(t=ya(t)),(n=this.options_)!=null&&n.bound&&r(function(){var a=this,u=a[i].bind(a);u.isMobXFlow=!0,a[i]=u}),t}function Ek(t,e,n,i){e.annotationType_,i.value}function ex(t,e,n,i,r,a){a===void 0&&(a=ue.safeDescriptors),Ek(t,e,n,i);var u=i.value;if(au(u)||(u=ya(u)),r){var c;u=u.bind((c=t.proxy_)!=null?c:t.target_),u.isMobXFlow=!0}return{value:u,configurable:a?t.isPlainObject_:!0,enumerable:!1,writable:!a}}function ay(t,e){return{annotationType_:t,options_:e,make_:wk,extend_:Ck,decorate_20223_:Tk}}function wk(t,e,n){return this.extend_(t,e,n,!1)===null?0:1}function Ck(t,e,n,i){return Ak(t,this,e,n),t.defineComputedProperty_(e,qr({},this.options_,{get:n.get,set:n.set}),i)}function Tk(t,e){var n=this,i=e.name,r=e.addInitializer;return r(function(){var a=ns(this)[we],u=qr({},n.options_,{get:t,context:this});u.name||(u.name="ObservableObject."+i.toString()),a.values_.set(i,new ai(u))}),function(){return this[we].getObservablePropValue_(i)}}function Ak(t,e,n,i){e.annotationType_,i.get}function Qd(t,e){return{annotationType_:t,options_:e,make_:xk,extend_:Rk,decorate_20223_:Mk}}function xk(t,e,n){return this.extend_(t,e,n,!1)===null?0:1}function Rk(t,e,n,i){var r,a;return Nk(t,this),t.defineObservableProperty_(e,n.value,(r=(a=this.options_)==null?void 0:a.enhancer)!=null?r:Jr,i)}function Mk(t,e){var n=this,i=e.kind,r=e.name,a=new WeakSet;function u(c,h){var d,m,y=ns(c)[we],S=new nr(h,(d=(m=n.options_)==null?void 0:m.enhancer)!=null?d:Jr,"ObservableObject."+r.toString(),!1);y.values_.set(r,S),a.add(c)}if(i=="accessor")return{get:function(){return a.has(this)||u(this,t.get.call(this)),this[we].getObservablePropValue_(r)},set:function(h){return a.has(this)||u(this,h),this[we].setObservablePropValue_(r,h)},init:function(h){return a.has(this)||u(this,h),h}}}function Nk(t,e,n,i){e.annotationType_}var Ik="true",Dk=tx();function tx(t){return{annotationType_:Ik,options_:t,make_:Ok,extend_:Pk,decorate_20223_:kk}}function Ok(t,e,n,i){var r,a;if(n.get)return Zd.make_(t,e,n,i);if(n.set){var u=va(n.set)?n.set:Kr(e.toString(),n.set);return i===t.target_?t.defineProperty_(e,{configurable:ue.safeDescriptors?t.isPlainObject_:!0,set:u})===null?0:2:(Ci(i,e,{configurable:!0,set:u}),2)}if(i!==t.target_&&typeof n.value=="function"){var c;if(JA(n.value)){var h,d=(h=this.options_)!=null&&h.autoBind?ya.bound:ya;return d.make_(t,e,n,i)}var m=(c=this.options_)!=null&&c.autoBind?su.bound:su;return m.make_(t,e,n,i)}var y=((r=this.options_)==null?void 0:r.deep)===!1?Ct.ref:Ct;if(typeof n.value=="function"&&(a=this.options_)!=null&&a.autoBind){var S;n.value=n.value.bind((S=t.proxy_)!=null?S:t.target_)}return y.make_(t,e,n,i)}function Pk(t,e,n,i){var r,a;if(n.get)return Zd.extend_(t,e,n,i);if(n.set)return t.defineProperty_(e,{configurable:ue.safeDescriptors?t.isPlainObject_:!0,set:Kr(e.toString(),n.set)},i);if(typeof n.value=="function"&&(r=this.options_)!=null&&r.autoBind){var u;n.value=n.value.bind((u=t.proxy_)!=null?u:t.target_)}var c=((a=this.options_)==null?void 0:a.deep)===!1?Ct.ref:Ct;return c.extend_(t,e,n,i)}function kk(t,e){Be("'"+this.annotationType_+"' cannot be used as a decorator")}var Lk="observable",Uk="observable.ref",Bk="observable.shallow",Fk="observable.struct",nx={deep:!0,name:void 0,defaultDecorator:void 0,proxy:!0};Object.freeze(nx);function gf(t){return t||nx}var ev=Qd(Lk),$k=Qd(Uk,{enhancer:Wd}),Hk=Qd(Bk,{enhancer:fk}),Gk=Qd(Fk,{enhancer:dk}),ix=Ti(ev);function vf(t){return t.deep===!0?Jr:t.deep===!1?Wd:zk(t.defaultDecorator)}function Vk(t){var e;return t?(e=t.defaultDecorator)!=null?e:tx(t):void 0}function zk(t){var e,n;return t&&(e=(n=t.options_)==null?void 0:n.enhancer)!=null?e:Jr}function ox(t,e,n){if(Cu(e))return ev.decorate_20223_(t,e);if(zr(e)){wu(t,e,ev);return}return fy(t)?t:fo(t)?Ct.object(t,e,n):Array.isArray(t)?Ct.array(t,e):Aa(t)?Ct.map(t,e):oo(t)?Ct.set(t,e):typeof t=="object"&&t!==null?t:Ct.box(t,e)}GA(ox,ix);var qk={box:function(e,n){var i=gf(n);return new nr(e,vf(i),i.name,!0,i.equals)},array:function(e,n){var i=gf(n);return(ue.useProxies===!1||i.proxy===!1?GL:DL)(e,vf(i),i.name)},map:function(e,n){var i=gf(n);return new Ax(e,vf(i),i.name)},set:function(e,n){var i=gf(n);return new xx(e,vf(i),i.name)},object:function(e,n,i){return fr(function(){return Ex(ue.useProxies===!1||i?.proxy===!1?ns({},i):RL({},i),e,n)})},ref:Ti($k),shallow:Ti(Hk),deep:ix,struct:Ti(Gk)},Ct=GA(ox,qk),rx="computed",Jk="computed.struct",tv=ay(rx),Kk=ay(Jk,{equals:dd.structural}),Zd=function(e,n){if(Cu(n))return tv.decorate_20223_(e,n);if(zr(n))return wu(e,n,tv);if(fo(e))return Ti(ay(rx,e));var i=fo(n)?n:{};return i.get=e,i.name||(i.name=e.name||""),new ai(i)};Object.assign(Zd,tv);Zd.struct=Ti(Kk);var qE,JE,hd=0,Yk=1,jk=(qE=(JE=fd(function(){},"name"))==null?void 0:JE.configurable)!=null?qE:!1,KE={value:"action",configurable:!0,writable:!1,enumerable:!1};function Kr(t,e,n,i){n===void 0&&(n=!1);function r(){return sx(t,n,e,i||this,arguments)}return r.isMobxAction=!0,r.toString=function(){return e.toString()},jk&&(KE.value=t,Ci(r,"name",KE)),r}function sx(t,e,n,i,r){var a=Xk(t,e);try{return n.apply(i,r)}catch(u){throw a.error_=u,u}finally{Wk(a)}}function Xk(t,e,n,i){var r=!1,a=0,u=ue.trackingDerivation,c=!e||!u;Bn();var h=ue.allowStateChanges;c&&(ts(),h=ly(!0));var d=cy(!0),m={runAsAction_:c,prevDerivation_:u,prevAllowStateChanges_:h,prevAllowStateReads_:d,notifySpy_:r,startTime_:a,actionId_:Yk++,parentActionId_:hd};return hd=m.actionId_,m}function Wk(t){hd!==t.actionId_&&Be(30),hd=t.parentActionId_,t.error_!==void 0&&(ue.suppressReactionErrors=!0),uy(t.prevAllowStateChanges_),Ql(t.prevAllowStateReads_),Fn(),t.runAsAction_&&lo(t.prevDerivation_),ue.suppressReactionErrors=!1}function ly(t){var e=ue.allowStateChanges;return ue.allowStateChanges=t,e}function uy(t){ue.allowStateChanges=t}var nr=(function(t){function e(i,r,a,u,c){var h;return a===void 0&&(a="ObservableValue"),c===void 0&&(c=dd.default),h=t.call(this,a)||this,h.enhancer=void 0,h.name_=void 0,h.equals=void 0,h.hasUnreportedChange_=!1,h.interceptors_=void 0,h.changeListeners_=void 0,h.value_=void 0,h.dehancer=void 0,h.enhancer=r,h.name_=a,h.equals=c,h.value_=r(i,void 0,a),h}XA(e,t);var n=e.prototype;return n.dehanceValue=function(r){return this.dehancer!==void 0?this.dehancer(r):r},n.set=function(r){this.value_,r=this.prepareNewValue_(r),r!==ue.UNCHANGED&&this.setNewValue_(r)},n.prepareNewValue_=function(r){if(Ln(this)){var a=Un(this,{object:this,type:Ai,newValue:r});if(!a)return ue.UNCHANGED;r=a.newValue}return r=this.enhancer(r,this.value_,this.name_),this.equals(this.value_,r)?ue.UNCHANGED:r},n.setNewValue_=function(r){var a=this.value_;this.value_=r,this.reportChanged(),ni(this)&&ii(this,{type:Ai,object:this,newValue:r,oldValue:a})},n.get=function(){return this.reportObserved(),this.dehanceValue(this.value_)},n.intercept_=function(r){return xu(this,r)},n.observe_=function(r,a){return a&&r({observableKind:"value",debugObjectName:this.name_,object:this,type:Ai,newValue:this.value_,oldValue:void 0}),Ru(this,r)},n.raw=function(){return this.value_},n.toJSON=function(){return this.get()},n.toString=function(){return this.name_+"["+this.value_+"]"},n.valueOf=function(){return jA(this.get())},n[Symbol.toPrimitive]=function(){return this.valueOf()},e})(ur),Qk=lr("ObservableValue",nr),ai=(function(){function t(n){this.dependenciesState_=Ge.NOT_TRACKING_,this.observing_=[],this.newObserving_=null,this.observers_=new Set,this.runId_=0,this.lastAccessedBy_=0,this.lowestObserverState_=Ge.UP_TO_DATE_,this.unboundDepsCount_=0,this.value_=new md(null),this.name_=void 0,this.triggeredBy_=void 0,this.flags_=0,this.derivation=void 0,this.setter_=void 0,this.isTracing_=pd.NONE,this.scope_=void 0,this.equals_=void 0,this.requiresReaction_=void 0,this.keepAlive_=void 0,this.onBOL=void 0,this.onBUOL=void 0,n.get||Be(31),this.derivation=n.get,this.name_=n.name||"ComputedValue",n.set&&(this.setter_=Kr("ComputedValue-setter",n.set)),this.equals_=n.equals||(n.compareStructural||n.struct?dd.structural:dd.default),this.scope_=n.context,this.requiresReaction_=n.requiresReaction,this.keepAlive_=!!n.keepAlive}var e=t.prototype;return e.onBecomeStale_=function(){iL(this)},e.onBO=function(){this.onBOL&&this.onBOL.forEach(function(i){return i()})},e.onBUO=function(){this.onBUOL&&this.onBUOL.forEach(function(i){return i()})},e.get=function(){if(this.isComputing&&Be(32,this.name_,this.derivation),ue.inBatch===0&&this.observers_.size===0&&!this.keepAlive_)nv(this)&&(this.warnAboutUntrackedRead_(),Bn(),this.value_=this.computeValue_(!1),Fn());else if(hx(this),nv(this)){var i=ue.trackingContext;this.keepAlive_&&!i&&(ue.trackingContext=this),this.trackAndCompute()&&nL(this),ue.trackingContext=i}var r=this.value_;if(Jf(r))throw r.cause;return r},e.set=function(i){if(this.setter_){this.isRunningSetter&&Be(33,this.name_),this.isRunningSetter=!0;try{this.setter_.call(this.scope_,i)}finally{this.isRunningSetter=!1}}else Be(34,this.name_)},e.trackAndCompute=function(){var i=this.value_,r=this.dependenciesState_===Ge.NOT_TRACKING_,a=this.computeValue_(!0),u=r||Jf(i)||Jf(a)||!this.equals_(i,a);return u&&(this.value_=a),u},e.computeValue_=function(i){this.isComputing=!0;var r=ly(!1),a;if(i)a=ax(this,this.derivation,this.scope_);else if(ue.disableErrorBoundaries===!0)a=this.derivation.call(this.scope_);else try{a=this.derivation.call(this.scope_)}catch(u){a=new md(u)}return uy(r),this.isComputing=!1,a},e.suspend_=function(){this.keepAlive_||(iv(this),this.value_=void 0)},e.observe_=function(i,r){var a=this,u=!0,c=void 0;return dL(function(){var h=a.get();if(!u||r){var d=ts();i({observableKind:"computed",debugObjectName:a.name_,type:Ai,object:a,newValue:h,oldValue:c}),lo(d)}u=!1,c=h})},e.warnAboutUntrackedRead_=function(){},e.toString=function(){return this.name_+"["+this.derivation.toString()+"]"},e.valueOf=function(){return jA(this.get())},e[Symbol.toPrimitive]=function(){return this.valueOf()},xa(t,[{key:"isComputing",get:function(){return _n(this.flags_,t.isComputingMask_)},set:function(i){this.flags_=Sn(this.flags_,t.isComputingMask_,i)}},{key:"isRunningSetter",get:function(){return _n(this.flags_,t.isRunningSetterMask_)},set:function(i){this.flags_=Sn(this.flags_,t.isRunningSetterMask_,i)}},{key:"isBeingObserved",get:function(){return _n(this.flags_,t.isBeingObservedMask_)},set:function(i){this.flags_=Sn(this.flags_,t.isBeingObservedMask_,i)}},{key:"isPendingUnobservation",get:function(){return _n(this.flags_,t.isPendingUnobservationMask_)},set:function(i){this.flags_=Sn(this.flags_,t.isPendingUnobservationMask_,i)}},{key:"diffValue",get:function(){return _n(this.flags_,t.diffValueMask_)?1:0},set:function(i){this.flags_=Sn(this.flags_,t.diffValueMask_,i===1)}}])})();ai.isComputingMask_=1;ai.isRunningSetterMask_=2;ai.isBeingObservedMask_=4;ai.isPendingUnobservationMask_=8;ai.diffValueMask_=16;var Au=lr("ComputedValue",ai),Ge;(function(t){t[t.NOT_TRACKING_=-1]="NOT_TRACKING_",t[t.UP_TO_DATE_=0]="UP_TO_DATE_",t[t.POSSIBLY_STALE_=1]="POSSIBLY_STALE_",t[t.STALE_=2]="STALE_"})(Ge||(Ge={}));var pd;(function(t){t[t.NONE=0]="NONE",t[t.LOG=1]="LOG",t[t.BREAK=2]="BREAK"})(pd||(pd={}));var md=function(e){this.cause=void 0,this.cause=e};function Jf(t){return t instanceof md}function nv(t){switch(t.dependenciesState_){case Ge.UP_TO_DATE_:return!1;case Ge.NOT_TRACKING_:case Ge.STALE_:return!0;case Ge.POSSIBLY_STALE_:{for(var e=cy(!0),n=ts(),i=t.observing_,r=i.length,a=0;a<r;a++){var u=i[a];if(Au(u)){if(ue.disableErrorBoundaries)u.get();else try{u.get()}catch{return lo(n),Ql(e),!0}if(t.dependenciesState_===Ge.STALE_)return lo(n),Ql(e),!0}}return ux(t),lo(n),Ql(e),!1}}}function ax(t,e,n){var i=cy(!0);ux(t),t.newObserving_=new Array(t.runId_===0?100:t.observing_.length),t.unboundDepsCount_=0,t.runId_=++ue.runId;var r=ue.trackingDerivation;ue.trackingDerivation=t,ue.inBatch++;var a;if(ue.disableErrorBoundaries===!0)a=e.call(n);else try{a=e.call(n)}catch(u){a=new md(u)}return ue.inBatch--,ue.trackingDerivation=r,Zk(t),Ql(i),a}function Zk(t){for(var e=t.observing_,n=t.observing_=t.newObserving_,i=Ge.UP_TO_DATE_,r=0,a=t.unboundDepsCount_,u=0;u<a;u++){var c=n[u];c.diffValue===0&&(c.diffValue=1,r!==u&&(n[r]=c),r++),c.dependenciesState_>i&&(i=c.dependenciesState_)}for(n.length=r,t.newObserving_=null,a=e.length;a--;){var h=e[a];h.diffValue===0&&fx(h,t),h.diffValue=0}for(;r--;){var d=n[r];d.diffValue===1&&(d.diffValue=0,tL(d,t))}i!==Ge.UP_TO_DATE_&&(t.dependenciesState_=i,t.onBecomeStale_())}function iv(t){var e=t.observing_;t.observing_=[];for(var n=e.length;n--;)fx(e[n],t);t.dependenciesState_=Ge.NOT_TRACKING_}function lx(t){var e=ts();try{return t()}finally{lo(e)}}function ts(){var t=ue.trackingDerivation;return ue.trackingDerivation=null,t}function lo(t){ue.trackingDerivation=t}function cy(t){var e=ue.allowStateReads;return ue.allowStateReads=t,e}function Ql(t){ue.allowStateReads=t}function ux(t){if(t.dependenciesState_!==Ge.UP_TO_DATE_){t.dependenciesState_=Ge.UP_TO_DATE_;for(var e=t.observing_,n=e.length;n--;)e[n].lowestObserverState_=Ge.UP_TO_DATE_}}var Kf=function(){this.version=6,this.UNCHANGED={},this.trackingDerivation=null,this.trackingContext=null,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!1,this.allowStateReads=!0,this.enforceActions=!0,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1,this.useProxies=!0,this.verifyProxies=!1,this.safeDescriptors=!0},Yf=!0,cx=!1,ue=(function(){var t=jd();return t.__mobxInstanceCount>0&&!t.__mobxGlobals&&(Yf=!1),t.__mobxGlobals&&t.__mobxGlobals.version!==new Kf().version&&(Yf=!1),Yf?t.__mobxGlobals?(t.__mobxInstanceCount+=1,t.__mobxGlobals.UNCHANGED||(t.__mobxGlobals.UNCHANGED={}),t.__mobxGlobals):(t.__mobxInstanceCount=1,t.__mobxGlobals=new Kf):(setTimeout(function(){cx||Be(35)},1),new Kf)})();function eL(){if((ue.pendingReactions.length||ue.inBatch||ue.isRunningReactions)&&Be(36),cx=!0,Yf){var t=jd();--t.__mobxInstanceCount===0&&(t.__mobxGlobals=void 0),ue=new Kf}}function tL(t,e){t.observers_.add(e),t.lowestObserverState_>e.dependenciesState_&&(t.lowestObserverState_=e.dependenciesState_)}function fx(t,e){t.observers_.delete(e),t.observers_.size===0&&dx(t)}function dx(t){t.isPendingUnobservation===!1&&(t.isPendingUnobservation=!0,ue.pendingUnobservations.push(t))}function Bn(){ue.inBatch++}function Fn(){if(--ue.inBatch===0){mx();for(var t=ue.pendingUnobservations,e=0;e<t.length;e++){var n=t[e];n.isPendingUnobservation=!1,n.observers_.size===0&&(n.isBeingObserved&&(n.isBeingObserved=!1,n.onBUO()),n instanceof ai&&n.suspend_())}ue.pendingUnobservations=[]}}function hx(t){var e=ue.trackingDerivation;return e!==null?(e.runId_!==t.lastAccessedBy_&&(t.lastAccessedBy_=e.runId_,e.newObserving_[e.unboundDepsCount_++]=t,!t.isBeingObserved&&ue.trackingContext&&(t.isBeingObserved=!0,t.onBO())),t.isBeingObserved):(t.observers_.size===0&&ue.inBatch>0&&dx(t),!1)}function px(t){t.lowestObserverState_!==Ge.STALE_&&(t.lowestObserverState_=Ge.STALE_,t.observers_.forEach(function(e){e.dependenciesState_===Ge.UP_TO_DATE_&&e.onBecomeStale_(),e.dependenciesState_=Ge.STALE_}))}function nL(t){t.lowestObserverState_!==Ge.STALE_&&(t.lowestObserverState_=Ge.STALE_,t.observers_.forEach(function(e){e.dependenciesState_===Ge.POSSIBLY_STALE_?e.dependenciesState_=Ge.STALE_:e.dependenciesState_===Ge.UP_TO_DATE_&&(t.lowestObserverState_=Ge.UP_TO_DATE_)}))}function iL(t){t.lowestObserverState_===Ge.UP_TO_DATE_&&(t.lowestObserverState_=Ge.POSSIBLY_STALE_,t.observers_.forEach(function(e){e.dependenciesState_===Ge.UP_TO_DATE_&&(e.dependenciesState_=Ge.POSSIBLY_STALE_,e.onBecomeStale_())}))}var ho=(function(){function t(n,i,r,a){n===void 0&&(n="Reaction"),this.name_=void 0,this.onInvalidate_=void 0,this.errorHandler_=void 0,this.requiresObservable_=void 0,this.observing_=[],this.newObserving_=[],this.dependenciesState_=Ge.NOT_TRACKING_,this.runId_=0,this.unboundDepsCount_=0,this.flags_=0,this.isTracing_=pd.NONE,this.name_=n,this.onInvalidate_=i,this.errorHandler_=r,this.requiresObservable_=a}var e=t.prototype;return e.onBecomeStale_=function(){this.schedule_()},e.schedule_=function(){this.isScheduled||(this.isScheduled=!0,ue.pendingReactions.push(this),mx())},e.runReaction_=function(){if(!this.isDisposed){Bn(),this.isScheduled=!1;var i=ue.trackingContext;if(ue.trackingContext=this,nv(this)){this.isTrackPending=!0;try{this.onInvalidate_()}catch(r){this.reportExceptionInDerivation_(r)}}ue.trackingContext=i,Fn()}},e.track=function(i){if(!this.isDisposed){Bn(),this.isRunning=!0;var r=ue.trackingContext;ue.trackingContext=this;var a=ax(this,i,void 0);ue.trackingContext=r,this.isRunning=!1,this.isTrackPending=!1,this.isDisposed&&iv(this),Jf(a)&&this.reportExceptionInDerivation_(a.cause),Fn()}},e.reportExceptionInDerivation_=function(i){var r=this;if(this.errorHandler_){this.errorHandler_(i,this);return}if(ue.disableErrorBoundaries)throw i;var a="[mobx] uncaught error in '"+this+"'";ue.suppressReactionErrors||console.error(a,i),ue.globalReactionErrorHandlers.forEach(function(u){return u(i,r)})},e.dispose=function(){this.isDisposed||(this.isDisposed=!0,this.isRunning||(Bn(),iv(this),Fn()))},e.getDisposer_=function(i){var r=this,a=function u(){r.dispose(),i==null||i.removeEventListener==null||i.removeEventListener("abort",u)};return i==null||i.addEventListener==null||i.addEventListener("abort",a),a[we]=this,"dispose"in Symbol&&typeof Symbol.dispose=="symbol"&&(a[Symbol.dispose]=a),a},e.toString=function(){return"Reaction["+this.name_+"]"},e.trace=function(i){},xa(t,[{key:"isDisposed",get:function(){return _n(this.flags_,t.isDisposedMask_)},set:function(i){this.flags_=Sn(this.flags_,t.isDisposedMask_,i)}},{key:"isScheduled",get:function(){return _n(this.flags_,t.isScheduledMask_)},set:function(i){this.flags_=Sn(this.flags_,t.isScheduledMask_,i)}},{key:"isTrackPending",get:function(){return _n(this.flags_,t.isTrackPendingMask_)},set:function(i){this.flags_=Sn(this.flags_,t.isTrackPendingMask_,i)}},{key:"isRunning",get:function(){return _n(this.flags_,t.isRunningMask_)},set:function(i){this.flags_=Sn(this.flags_,t.isRunningMask_,i)}},{key:"diffValue",get:function(){return _n(this.flags_,t.diffValueMask_)?1:0},set:function(i){this.flags_=Sn(this.flags_,t.diffValueMask_,i===1)}}])})();ho.isDisposedMask_=1;ho.isScheduledMask_=2;ho.isTrackPendingMask_=4;ho.isRunningMask_=8;ho.diffValueMask_=16;var oL=100,ov=function(e){return e()};function mx(){ue.inBatch>0||ue.isRunningReactions||ov(rL)}function rL(){ue.isRunningReactions=!0;for(var t=ue.pendingReactions,e=0;t.length>0;){++e===oL&&(console.error("[mobx] cycle in reaction: "+t[0]),t.splice(0));for(var n=t.splice(0),i=0,r=n.length;i<r;i++)n[i].runReaction_()}ue.isRunningReactions=!1}var gd=lr("Reaction",ho);function sL(t){var e=ov;ov=function(i){return t(function(){return e(i)})}}function Zl(){return!1}function aL(t){return console.warn("[mobx.spy] Is a no-op in production builds"),function(){}}var gx="action",lL="action.bound",vx="autoAction",uL="autoAction.bound",yx="<unnamed action>",rv=Tu(gx),cL=Tu(lL,{bound:!0}),sv=Tu(vx,{autoAction:!0}),fL=Tu(uL,{autoAction:!0,bound:!0});function _x(t){var e=function(i,r){if(si(i))return Kr(i.name||yx,i,t);if(si(r))return Kr(i,r,t);if(Cu(r))return(t?sv:rv).decorate_20223_(i,r);if(zr(r))return wu(i,r,t?sv:rv);if(zr(i))return Ti(Tu(t?vx:gx,{name:i,autoAction:t}))};return e}var aa=_x(!1);Object.assign(aa,rv);var su=_x(!0);Object.assign(su,sv);aa.bound=Ti(cL);su.bound=Ti(fL);function Ae(t){return sx(t.name||yx,!1,t,this,void 0)}function va(t){return si(t)&&t.isMobxAction===!0}function dL(t,e){var n,i,r,a;e===void 0&&(e=VA);var u=(n=(i=e)==null?void 0:i.name)!=null?n:"Autorun",c=!e.scheduler&&!e.delay,h;if(c)h=new ho(u,function(){this.track(y)},e.onError,e.requiresObservable);else{var d=pL(e),m=!1;h=new ho(u,function(){m||(m=!0,d(function(){m=!1,h.isDisposed||h.track(y)}))},e.onError,e.requiresObservable)}function y(){t(h)}return(r=e)!=null&&(r=r.signal)!=null&&r.aborted||h.schedule_(),h.getDisposer_((a=e)==null?void 0:a.signal)}var hL=function(e){return e()};function pL(t){return t.scheduler?t.scheduler:t.delay?function(e){return setTimeout(e,t.delay)}:hL}var mL="onBO",gL="onBUO";function vL(t,e,n){return bx(mL,t,e,n)}function Sx(t,e,n){return bx(gL,t,e,n)}function bx(t,e,n,i){var r=_d(e),a=si(i)?i:n,u=t+"L";return r[u]?r[u].add(a):r[u]=new Set([a]),function(){var c=r[u];c&&(c.delete(a),c.size===0&&delete r[u])}}var yL="never",yf="always",_L="observed";function SL(t){t.isolateGlobalState===!0&&eL();var e=t.useProxies,n=t.enforceActions;if(e!==void 0&&(ue.useProxies=e===yf?!0:e===yL?!1:typeof Proxy<"u"),e==="ifavailable"&&(ue.verifyProxies=!0),n!==void 0){var i=n===yf?yf:n===_L;ue.enforceActions=i,ue.allowStateChanges=!(i===!0||i===yf)}["computedRequiresReaction","reactionRequiresObservable","observableRequiresReaction","disableErrorBoundaries","safeDescriptors"].forEach(function(r){r in t&&(ue[r]=!!t[r])}),ue.allowStateReads=!ue.observableRequiresReaction,t.reactionScheduler&&sL(t.reactionScheduler)}function Ex(t,e,n,i){var r=ik(e);return fr(function(){var a=ns(t,i)[we];ga(r).forEach(function(u){a.extend_(u,r[u],n&&u in n?n[u]:!0)})}),t}function bL(t,e){return wx(_d(t,e))}function wx(t){var e={name:t.name_};return t.observing_&&t.observing_.length>0&&(e.dependencies=EL(t.observing_).map(wx)),e}function EL(t){return Array.from(new Set(t))}var wL=0;function Cx(){this.message="FLOW_CANCELLED"}Cx.prototype=Object.create(Error.prototype);var tg=ZA("flow"),CL=ZA("flow.bound",{bound:!0}),ya=Object.assign(function(e,n){if(Cu(n))return tg.decorate_20223_(e,n);if(zr(n))return wu(e,n,tg);var i=e,r=i.name||"<unnamed flow>",a=function(){var c=this,h=arguments,d=++wL,m=aa(r+" - runid: "+d+" - init",i).apply(c,h),y,S=void 0,b=new Promise(function(T,A){var x=0;y=A;function M(D){S=void 0;var L;try{L=aa(r+" - runid: "+d+" - yield "+x++,m.next).call(m,D)}catch(U){return A(U)}N(L)}function I(D){S=void 0;var L;try{L=aa(r+" - runid: "+d+" - yield "+x++,m.throw).call(m,D)}catch(U){return A(U)}N(L)}function N(D){if(si(D?.then)){D.then(N,A);return}return D.done?T(D.value):(S=Promise.resolve(D.value),S.then(M,I))}M(void 0)});return b.cancel=aa(r+" - runid: "+d+" - cancel",function(){try{S&&YE(S);var T=m.return(void 0),A=Promise.resolve(T.value);A.then(ra,ra),YE(A),y(new Cx)}catch(x){y(x)}}),b};return a.isMobXFlow=!0,a},tg);ya.bound=Ti(CL);function YE(t){si(t.cancel)&&t.cancel()}function au(t){return t?.isMobXFlow===!0}function TL(t,e){return t?Nu(t)||!!t[we]||sy(t)||gd(t)||Au(t):!1}function fy(t){return TL(t)}function AL(t){if(Nu(t))return t[we].ownKeys_();Be(38)}function _f(t,e,n){return t.set(e,n),n}function ea(t,e){if(t==null||typeof t!="object"||t instanceof Date||!fy(t))return t;if(Qk(t)||Au(t))return ea(t.get(),e);if(e.has(t))return e.get(t);if(Mu(t)){var n=_f(e,t,new Array(t.length));return t.forEach(function(u,c){n[c]=ea(u,e)}),n}if(ei(t)){var i=_f(e,t,new Set);return t.forEach(function(u){i.add(ea(u,e))}),i}if(cr(t)){var r=_f(e,t,new Map);return t.forEach(function(u,c){r.set(c,ea(u,e))}),r}else{var a=_f(e,t,{});return AL(t).forEach(function(u){bu.propertyIsEnumerable.call(t,u)&&(a[u]=ea(t[u],e))}),a}}function ir(t,e){return ea(t,new Map)}function ro(t,e){e===void 0&&(e=void 0),Bn();try{return t.apply(e)}finally{Fn()}}function zs(t){return t[we]}var xL={has:function(e,n){return zs(e).has_(n)},get:function(e,n){return zs(e).get_(n)},set:function(e,n,i){var r;return zr(n)?(r=zs(e).set_(n,i,!0))!=null?r:!0:!1},deleteProperty:function(e,n){var i;return zr(n)?(i=zs(e).delete_(n,!0))!=null?i:!0:!1},defineProperty:function(e,n,i){var r;return(r=zs(e).defineProperty_(n,i))!=null?r:!0},ownKeys:function(e){return zs(e).ownKeys_()},preventExtensions:function(e){Be(13)}};function RL(t,e){var n,i;return zA(),t=ns(t,e),(i=(n=t[we]).proxy_)!=null?i:n.proxy_=new Proxy(t,xL)}function Ln(t){return t.interceptors_!==void 0&&t.interceptors_.length>0}function xu(t,e){var n=t.interceptors_||(t.interceptors_=[]);return n.push(e),qA(function(){var i=n.indexOf(e);i!==-1&&n.splice(i,1)})}function Un(t,e){var n=ts();try{for(var i=[].concat(t.interceptors_||[]),r=0,a=i.length;r<a&&(e=i[r](e),e&&!e.type&&Be(14),!!e);r++);return e}finally{lo(n)}}function ni(t){return t.changeListeners_!==void 0&&t.changeListeners_.length>0}function Ru(t,e){var n=t.changeListeners_||(t.changeListeners_=[]);return n.push(e),qA(function(){var i=n.indexOf(e);i!==-1&&n.splice(i,1)})}function ii(t,e){var n=ts(),i=t.changeListeners_;if(i){i=i.slice();for(var r=0,a=i.length;r<a;r++)i[r](e);lo(n)}}function ML(t,e,n){return fr(function(){var i,r=ns(t,n)[we];(i=e)!=null||(e=lk(t)),ga(e).forEach(function(a){return r.make_(a,e[a])})}),t}var ng=Symbol("mobx-keys");function Oi(t,e,n){return fo(t)?Ex(t,t,e,n):(fr(function(){var i=ns(t,n)[we];if(!t[ng]){var r=Object.getPrototypeOf(t),a=new Set([].concat(ga(t),ga(r)));a.delete("constructor"),a.delete(we),Eu(r,ng,a)}t[ng].forEach(function(u){return i.make_(u,e&&u in e?e[u]:!0)})}),t)}var jE="splice",Ai="update",NL=1e4,IL={get:function(e,n){var i=e[we];return n===we?i:n==="length"?i.getArrayLength_():typeof n=="string"&&!isNaN(n)?i.get_(parseInt(n)):ao(vd,n)?vd[n]:e[n]},set:function(e,n,i){var r=e[we];return n==="length"&&r.setArrayLength_(i),typeof n=="symbol"||isNaN(n)?e[n]=i:r.set_(parseInt(n),i),!0},preventExtensions:function(){Be(15)}},dy=(function(){function t(n,i,r,a){n===void 0&&(n="ObservableArray"),this.owned_=void 0,this.legacyMode_=void 0,this.atom_=void 0,this.values_=[],this.interceptors_=void 0,this.changeListeners_=void 0,this.enhancer_=void 0,this.dehancer=void 0,this.proxy_=void 0,this.lastKnownLength_=0,this.owned_=r,this.legacyMode_=a,this.atom_=new ur(n),this.enhancer_=function(u,c){return i(u,c,"ObservableArray[..]")}}var e=t.prototype;return e.dehanceValue_=function(i){return this.dehancer!==void 0?this.dehancer(i):i},e.dehanceValues_=function(i){return this.dehancer!==void 0&&i.length>0?i.map(this.dehancer):i},e.intercept_=function(i){return xu(this,i)},e.observe_=function(i,r){return r===void 0&&(r=!1),r&&i({observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:"splice",index:0,added:this.values_.slice(),addedCount:this.values_.length,removed:[],removedCount:0}),Ru(this,i)},e.getArrayLength_=function(){return this.atom_.reportObserved(),this.values_.length},e.setArrayLength_=function(i){(typeof i!="number"||isNaN(i)||i<0)&&Be("Out of range: "+i);var r=this.values_.length;if(i!==r)if(i>r){for(var a=new Array(i-r),u=0;u<i-r;u++)a[u]=void 0;this.spliceWithArray_(r,0,a)}else this.spliceWithArray_(i,r-i)},e.updateArrayLength_=function(i,r){i!==this.lastKnownLength_&&Be(16),this.lastKnownLength_+=r,this.legacyMode_&&r>0&&Ix(i+r+1)},e.spliceWithArray_=function(i,r,a){var u=this;this.atom_;var c=this.values_.length;if(i===void 0?i=0:i>c?i=c:i<0&&(i=Math.max(0,c+i)),arguments.length===1?r=c-i:r==null?r=0:r=Math.max(0,Math.min(r,c-i)),a===void 0&&(a=Qg),Ln(this)){var h=Un(this,{object:this.proxy_,type:jE,index:i,removedCount:r,added:a});if(!h)return Qg;r=h.removedCount,a=h.added}if(a=a.length===0?a:a.map(function(y){return u.enhancer_(y,void 0)}),this.legacyMode_){var d=a.length-r;this.updateArrayLength_(c,d)}var m=this.spliceItemsIntoValues_(i,r,a);return(r!==0||a.length!==0)&&this.notifyArraySplice_(i,a,m),this.dehanceValues_(m)},e.spliceItemsIntoValues_=function(i,r,a){if(a.length<NL){var u;return(u=this.values_).splice.apply(u,[i,r].concat(a))}else{var c=this.values_.slice(i,i+r),h=this.values_.slice(i+r);this.values_.length+=a.length-r;for(var d=0;d<a.length;d++)this.values_[i+d]=a[d];for(var m=0;m<h.length;m++)this.values_[i+a.length+m]=h[m];return c}},e.notifyArrayChildUpdate_=function(i,r,a){var u=!this.owned_&&Zl(),c=ni(this),h=c||u?{observableKind:"array",object:this.proxy_,type:Ai,debugObjectName:this.atom_.name_,index:i,newValue:r,oldValue:a}:null;this.atom_.reportChanged(),c&&ii(this,h)},e.notifyArraySplice_=function(i,r,a){var u=!this.owned_&&Zl(),c=ni(this),h=c||u?{observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:jE,index:i,removed:a,added:r,removedCount:a.length,addedCount:r.length}:null;this.atom_.reportChanged(),c&&ii(this,h)},e.get_=function(i){if(this.legacyMode_&&i>=this.values_.length){console.warn("[mobx] Out of bounds read: "+i);return}return this.atom_.reportObserved(),this.dehanceValue_(this.values_[i])},e.set_=function(i,r){var a=this.values_;if(this.legacyMode_&&i>a.length&&Be(17,i,a.length),i<a.length){this.atom_;var u=a[i];if(Ln(this)){var c=Un(this,{type:Ai,object:this.proxy_,index:i,newValue:r});if(!c)return;r=c.newValue}r=this.enhancer_(r,u);var h=r!==u;h&&(a[i]=r,this.notifyArrayChildUpdate_(i,r,u))}else{for(var d=new Array(i+1-a.length),m=0;m<d.length-1;m++)d[m]=void 0;d[d.length-1]=r,this.spliceWithArray_(a.length,0,d)}},t})();function DL(t,e,n,i){return n===void 0&&(n="ObservableArray"),i===void 0&&(i=!1),zA(),fr(function(){var r=new dy(n,e,i,!1);KA(r.values_,we,r);var a=new Proxy(r.values_,IL);return r.proxy_=a,t&&t.length&&r.spliceWithArray_(0,0,t),a})}var vd={clear:function(){return this.splice(0)},replace:function(e){var n=this[we];return n.spliceWithArray_(0,n.values_.length,e)},toJSON:function(){return this.slice()},splice:function(e,n){for(var i=arguments.length,r=new Array(i>2?i-2:0),a=2;a<i;a++)r[a-2]=arguments[a];var u=this[we];switch(arguments.length){case 0:return[];case 1:return u.spliceWithArray_(e);case 2:return u.spliceWithArray_(e,n)}return u.spliceWithArray_(e,n,r)},spliceWithArray:function(e,n,i){return this[we].spliceWithArray_(e,n,i)},push:function(){for(var e=this[we],n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return e.spliceWithArray_(e.values_.length,0,i),e.values_.length},pop:function(){return this.splice(Math.max(this[we].values_.length-1,0),1)[0]},shift:function(){return this.splice(0,1)[0]},unshift:function(){for(var e=this[we],n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return e.spliceWithArray_(0,0,i),e.values_.length},reverse:function(){return ue.trackingDerivation&&Be(37,"reverse"),this.replace(this.slice().reverse()),this},sort:function(){ue.trackingDerivation&&Be(37,"sort");var e=this.slice();return e.sort.apply(e,arguments),this.replace(e),this},remove:function(e){var n=this[we],i=n.dehanceValues_(n.values_).indexOf(e);return i>-1?(this.splice(i,1),!0):!1}};nt("at",wn);nt("concat",wn);nt("flat",wn);nt("includes",wn);nt("indexOf",wn);nt("join",wn);nt("lastIndexOf",wn);nt("slice",wn);nt("toString",wn);nt("toLocaleString",wn);nt("toSorted",wn);nt("toSpliced",wn);nt("with",wn);nt("every",ci);nt("filter",ci);nt("find",ci);nt("findIndex",ci);nt("findLast",ci);nt("findLastIndex",ci);nt("flatMap",ci);nt("forEach",ci);nt("map",ci);nt("some",ci);nt("toReversed",ci);nt("reduce",Tx);nt("reduceRight",Tx);function nt(t,e){typeof Array.prototype[t]=="function"&&(vd[t]=e(t))}function wn(t){return function(){var e=this[we];e.atom_.reportObserved();var n=e.dehanceValues_(e.values_);return n[t].apply(n,arguments)}}function ci(t){return function(e,n){var i=this,r=this[we];r.atom_.reportObserved();var a=r.dehanceValues_(r.values_);return a[t](function(u,c){return e.call(n,u,c,i)})}}function Tx(t){return function(){var e=this,n=this[we];n.atom_.reportObserved();var i=n.dehanceValues_(n.values_),r=arguments[0];return arguments[0]=function(a,u,c){return r(a,u,c,e)},i[t].apply(i,arguments)}}var OL=lr("ObservableArrayAdministration",dy);function Mu(t){return Xd(t)&&OL(t[we])}var PL={},Zo="add",yd="delete",Ax=(function(){function t(n,i,r){var a=this;i===void 0&&(i=Jr),r===void 0&&(r="ObservableMap"),this.enhancer_=void 0,this.name_=void 0,this[we]=PL,this.data_=void 0,this.hasMap_=void 0,this.keysAtom_=void 0,this.interceptors_=void 0,this.changeListeners_=void 0,this.dehancer=void 0,this.enhancer_=i,this.name_=r,si(Map)||Be(18),fr(function(){a.keysAtom_=WA("ObservableMap.keys()"),a.data_=new Map,a.hasMap_=new Map,n&&a.merge(n)})}var e=t.prototype;return e.has_=function(i){return this.data_.has(i)},e.has=function(i){var r=this;if(!ue.trackingDerivation)return this.has_(i);var a=this.hasMap_.get(i);if(!a){var u=a=new nr(this.has_(i),Wd,"ObservableMap.key?",!1);this.hasMap_.set(i,u),Sx(u,function(){return r.hasMap_.delete(i)})}return a.get()},e.set=function(i,r){var a=this.has_(i);if(Ln(this)){var u=Un(this,{type:a?Ai:Zo,object:this,newValue:r,name:i});if(!u)return this;r=u.newValue}return a?this.updateValue_(i,r):this.addValue_(i,r),this},e.delete=function(i){var r=this;if(this.keysAtom_,Ln(this)){var a=Un(this,{type:yd,object:this,name:i});if(!a)return!1}if(this.has_(i)){var u=Zl(),c=ni(this),h=c||u?{observableKind:"map",debugObjectName:this.name_,type:yd,object:this,oldValue:this.data_.get(i).value_,name:i}:null;return ro(function(){var d;r.keysAtom_.reportChanged(),(d=r.hasMap_.get(i))==null||d.setNewValue_(!1);var m=r.data_.get(i);m.setNewValue_(void 0),r.data_.delete(i)}),c&&ii(this,h),!0}return!1},e.updateValue_=function(i,r){var a=this.data_.get(i);if(r=a.prepareNewValue_(r),r!==ue.UNCHANGED){var u=Zl(),c=ni(this),h=c||u?{observableKind:"map",debugObjectName:this.name_,type:Ai,object:this,oldValue:a.value_,name:i,newValue:r}:null;a.setNewValue_(r),c&&ii(this,h)}},e.addValue_=function(i,r){var a=this;this.keysAtom_,ro(function(){var d,m=new nr(r,a.enhancer_,"ObservableMap.key",!1);a.data_.set(i,m),r=m.value_,(d=a.hasMap_.get(i))==null||d.setNewValue_(!0),a.keysAtom_.reportChanged()});var u=Zl(),c=ni(this),h=c||u?{observableKind:"map",debugObjectName:this.name_,type:Zo,object:this,name:i,newValue:r}:null;c&&ii(this,h)},e.get=function(i){return this.has(i)?this.dehanceValue_(this.data_.get(i).get()):this.dehanceValue_(void 0)},e.dehanceValue_=function(i){return this.dehancer!==void 0?this.dehancer(i):i},e.keys=function(){return this.keysAtom_.reportObserved(),this.data_.keys()},e.values=function(){var i=this,r=this.keys();return XE({next:function(){var u=r.next(),c=u.done,h=u.value;return{done:c,value:c?void 0:i.get(h)}}})},e.entries=function(){var i=this,r=this.keys();return XE({next:function(){var u=r.next(),c=u.done,h=u.value;return{done:c,value:c?void 0:[h,i.get(h)]}}})},e[Symbol.iterator]=function(){return this.entries()},e.forEach=function(i,r){for(var a=sa(this),u;!(u=a()).done;){var c=u.value,h=c[0],d=c[1];i.call(r,d,h,this)}},e.merge=function(i){var r=this;return cr(i)&&(i=new Map(i)),ro(function(){fo(i)?nk(i).forEach(function(a){return r.set(a,i[a])}):Array.isArray(i)?i.forEach(function(a){var u=a[0],c=a[1];return r.set(u,c)}):Aa(i)?(tk(i)||Be(19,i),i.forEach(function(a,u){return r.set(u,a)})):i!=null&&Be(20,i)}),this},e.clear=function(){var i=this;ro(function(){lx(function(){for(var r=sa(i.keys()),a;!(a=r()).done;){var u=a.value;i.delete(u)}})})},e.replace=function(i){var r=this;return ro(function(){for(var a=kL(i),u=new Map,c=!1,h=sa(r.data_.keys()),d;!(d=h()).done;){var m=d.value;if(!a.has(m)){var y=r.delete(m);if(y)c=!0;else{var S=r.data_.get(m);u.set(m,S)}}}for(var b=sa(a.entries()),T;!(T=b()).done;){var A=T.value,x=A[0],M=A[1],I=r.data_.has(x);if(r.set(x,M),r.data_.has(x)){var N=r.data_.get(x);u.set(x,N),I||(c=!0)}}if(!c)if(r.data_.size!==u.size)r.keysAtom_.reportChanged();else for(var D=r.data_.keys(),L=u.keys(),U=D.next(),O=L.next();!U.done;){if(U.value!==O.value){r.keysAtom_.reportChanged();break}U=D.next(),O=L.next()}r.data_=u}),this},e.toString=function(){return"[object ObservableMap]"},e.toJSON=function(){return Array.from(this)},e.observe_=function(i,r){return Ru(this,i)},e.intercept_=function(i){return xu(this,i)},xa(t,[{key:"size",get:function(){return this.keysAtom_.reportObserved(),this.data_.size}},{key:Symbol.toStringTag,get:function(){return"Map"}}])})(),cr=lr("ObservableMap",Ax);function XE(t){return t[Symbol.toStringTag]="MapIterator",py(t)}function kL(t){if(Aa(t)||cr(t))return t;if(Array.isArray(t))return new Map(t);if(fo(t)){var e=new Map;for(var n in t)e.set(n,t[n]);return e}else return Be(21,t)}var LL={},xx=(function(){function t(n,i,r){var a=this;i===void 0&&(i=Jr),r===void 0&&(r="ObservableSet"),this.name_=void 0,this[we]=LL,this.data_=new Set,this.atom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.dehancer=void 0,this.enhancer_=void 0,this.name_=r,si(Set)||Be(22),this.enhancer_=function(u,c){return i(u,c,r)},fr(function(){a.atom_=WA(a.name_),n&&a.replace(n)})}var e=t.prototype;return e.dehanceValue_=function(i){return this.dehancer!==void 0?this.dehancer(i):i},e.clear=function(){var i=this;ro(function(){lx(function(){for(var r=sa(i.data_.values()),a;!(a=r()).done;){var u=a.value;i.delete(u)}})})},e.forEach=function(i,r){for(var a=sa(this),u;!(u=a()).done;){var c=u.value;i.call(r,c,c,this)}},e.add=function(i){var r=this;if(this.atom_,Ln(this)){var a=Un(this,{type:Zo,object:this,newValue:i});if(!a)return this;i=a.newValue}if(!this.has(i)){ro(function(){r.data_.add(r.enhancer_(i,void 0)),r.atom_.reportChanged()});var u=!1,c=ni(this),h=c||u?{observableKind:"set",debugObjectName:this.name_,type:Zo,object:this,newValue:i}:null;c&&ii(this,h)}return this},e.delete=function(i){var r=this;if(Ln(this)){var a=Un(this,{type:yd,object:this,oldValue:i});if(!a)return!1}if(this.has(i)){var u=!1,c=ni(this),h=c||u?{observableKind:"set",debugObjectName:this.name_,type:yd,object:this,oldValue:i}:null;return ro(function(){r.atom_.reportChanged(),r.data_.delete(i)}),c&&ii(this,h),!0}return!1},e.has=function(i){return this.atom_.reportObserved(),this.data_.has(this.dehanceValue_(i))},e.entries=function(){var i=this.values();return WE({next:function(){var a=i.next(),u=a.value,c=a.done;return c?{value:void 0,done:c}:{value:[u,u],done:c}}})},e.keys=function(){return this.values()},e.values=function(){this.atom_.reportObserved();var i=this,r=this.data_.values();return WE({next:function(){var u=r.next(),c=u.value,h=u.done;return h?{value:void 0,done:h}:{value:i.dehanceValue_(c),done:h}}})},e.intersection=function(i){if(oo(i)&&!ei(i))return i.intersection(this);var r=new Set(this);return r.intersection(i)},e.union=function(i){if(oo(i)&&!ei(i))return i.union(this);var r=new Set(this);return r.union(i)},e.difference=function(i){return new Set(this).difference(i)},e.symmetricDifference=function(i){if(oo(i)&&!ei(i))return i.symmetricDifference(this);var r=new Set(this);return r.symmetricDifference(i)},e.isSubsetOf=function(i){return new Set(this).isSubsetOf(i)},e.isSupersetOf=function(i){return new Set(this).isSupersetOf(i)},e.isDisjointFrom=function(i){if(oo(i)&&!ei(i))return i.isDisjointFrom(this);var r=new Set(this);return r.isDisjointFrom(i)},e.replace=function(i){var r=this;return ei(i)&&(i=new Set(i)),ro(function(){Array.isArray(i)?(r.clear(),i.forEach(function(a){return r.add(a)})):oo(i)?(r.clear(),i.forEach(function(a){return r.add(a)})):i!=null&&Be("Cannot initialize set from "+i)}),this},e.observe_=function(i,r){return Ru(this,i)},e.intercept_=function(i){return xu(this,i)},e.toJSON=function(){return Array.from(this)},e.toString=function(){return"[object ObservableSet]"},e[Symbol.iterator]=function(){return this.values()},xa(t,[{key:"size",get:function(){return this.atom_.reportObserved(),this.data_.size}},{key:Symbol.toStringTag,get:function(){return"Set"}}])})(),ei=lr("ObservableSet",xx);function WE(t){return t[Symbol.toStringTag]="SetIterator",py(t)}var QE=Object.create(null),ZE="remove",Rx=(function(){function t(n,i,r,a){i===void 0&&(i=new Map),a===void 0&&(a=Dk),this.target_=void 0,this.values_=void 0,this.name_=void 0,this.defaultAnnotation_=void 0,this.keysAtom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.proxy_=void 0,this.isPlainObject_=void 0,this.appliedAnnotations_=void 0,this.pendingKeys_=void 0,this.target_=n,this.values_=i,this.name_=r,this.defaultAnnotation_=a,this.keysAtom_=new ur("ObservableObject.keys"),this.isPlainObject_=fo(this.target_)}var e=t.prototype;return e.getObservablePropValue_=function(i){return this.values_.get(i).get()},e.setObservablePropValue_=function(i,r){var a=this.values_.get(i);if(a instanceof ai)return a.set(r),!0;if(Ln(this)){var u=Un(this,{type:Ai,object:this.proxy_||this.target_,name:i,newValue:r});if(!u)return null;r=u.newValue}if(r=a.prepareNewValue_(r),r!==ue.UNCHANGED){var c=ni(this),h=!1,d=c||h?{type:Ai,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,oldValue:a.value_,name:i,newValue:r}:null;a.setNewValue_(r),c&&ii(this,d)}return!0},e.get_=function(i){return ue.trackingDerivation&&!ao(this.target_,i)&&this.has_(i),this.target_[i]},e.set_=function(i,r,a){return a===void 0&&(a=!1),ao(this.target_,i)?this.values_.has(i)?this.setObservablePropValue_(i,r):a?Reflect.set(this.target_,i,r):(this.target_[i]=r,!0):this.extend_(i,{value:r,enumerable:!0,writable:!0,configurable:!0},this.defaultAnnotation_,a)},e.has_=function(i){if(!ue.trackingDerivation)return i in this.target_;this.pendingKeys_||(this.pendingKeys_=new Map);var r=this.pendingKeys_.get(i);return r||(r=new nr(i in this.target_,Wd,"ObservableObject.key?",!1),this.pendingKeys_.set(i,r)),r.get()},e.make_=function(i,r){if(r===!0&&(r=this.defaultAnnotation_),r!==!1){if(!(i in this.target_)){var a;if((a=this.target_[bi])!=null&&a[i])return;Be(1,r.annotationType_,this.name_+"."+i.toString())}for(var u=this.target_;u&&u!==bu;){var c=fd(u,i);if(c){var h=r.make_(this,i,c,u);if(h===0)return;if(h===1)break}u=Object.getPrototypeOf(u)}tw(this,r,i)}},e.extend_=function(i,r,a,u){if(u===void 0&&(u=!1),a===!0&&(a=this.defaultAnnotation_),a===!1)return this.defineProperty_(i,r,u);var c=a.extend_(this,i,r,u);return c&&tw(this,a,i),c},e.defineProperty_=function(i,r,a){a===void 0&&(a=!1),this.keysAtom_;try{Bn();var u=this.delete_(i);if(!u)return u;if(Ln(this)){var c=Un(this,{object:this.proxy_||this.target_,name:i,type:Zo,newValue:r.value});if(!c)return null;var h=c.newValue;r.value!==h&&(r=qr({},r,{value:h}))}if(a){if(!Reflect.defineProperty(this.target_,i,r))return!1}else Ci(this.target_,i,r);this.notifyPropertyAddition_(i,r.value)}finally{Fn()}return!0},e.defineObservableProperty_=function(i,r,a,u){u===void 0&&(u=!1),this.keysAtom_;try{Bn();var c=this.delete_(i);if(!c)return c;if(Ln(this)){var h=Un(this,{object:this.proxy_||this.target_,name:i,type:Zo,newValue:r});if(!h)return null;r=h.newValue}var d=ew(i),m={configurable:ue.safeDescriptors?this.isPlainObject_:!0,enumerable:!0,get:d.get,set:d.set};if(u){if(!Reflect.defineProperty(this.target_,i,m))return!1}else Ci(this.target_,i,m);var y=new nr(r,a,"ObservableObject.key",!1);this.values_.set(i,y),this.notifyPropertyAddition_(i,y.value_)}finally{Fn()}return!0},e.defineComputedProperty_=function(i,r,a){a===void 0&&(a=!1),this.keysAtom_;try{Bn();var u=this.delete_(i);if(!u)return u;if(Ln(this)){var c=Un(this,{object:this.proxy_||this.target_,name:i,type:Zo,newValue:void 0});if(!c)return null}r.name||(r.name="ObservableObject.key"),r.context=this.proxy_||this.target_;var h=ew(i),d={configurable:ue.safeDescriptors?this.isPlainObject_:!0,enumerable:!1,get:h.get,set:h.set};if(a){if(!Reflect.defineProperty(this.target_,i,d))return!1}else Ci(this.target_,i,d);this.values_.set(i,new ai(r)),this.notifyPropertyAddition_(i,void 0)}finally{Fn()}return!0},e.delete_=function(i,r){if(r===void 0&&(r=!1),this.keysAtom_,!ao(this.target_,i))return!0;if(Ln(this)){var a=Un(this,{object:this.proxy_||this.target_,name:i,type:ZE});if(!a)return null}try{var u;Bn();var c=ni(this),h=!1,d=this.values_.get(i),m=void 0;if(!d&&(c||h)){var y;m=(y=fd(this.target_,i))==null?void 0:y.value}if(r){if(!Reflect.deleteProperty(this.target_,i))return!1}else delete this.target_[i];if(d&&(this.values_.delete(i),d instanceof nr&&(m=d.value_),px(d)),this.keysAtom_.reportChanged(),(u=this.pendingKeys_)==null||(u=u.get(i))==null||u.set(i in this.target_),c||h){var S={type:ZE,observableKind:"object",object:this.proxy_||this.target_,debugObjectName:this.name_,oldValue:m,name:i};c&&ii(this,S)}}finally{Fn()}return!0},e.observe_=function(i,r){return Ru(this,i)},e.intercept_=function(i){return xu(this,i)},e.notifyPropertyAddition_=function(i,r){var a,u=ni(this),c=!1;if(u||c){var h=u||c?{type:Zo,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,name:i,newValue:r}:null;u&&ii(this,h)}(a=this.pendingKeys_)==null||(a=a.get(i))==null||a.set(!0),this.keysAtom_.reportChanged()},e.ownKeys_=function(){return this.keysAtom_.reportObserved(),ga(this.target_)},e.keys_=function(){return this.keysAtom_.reportObserved(),Object.keys(this.target_)},t})();function ns(t,e){var n;if(ao(t,we))return t;var i=(n=e?.name)!=null?n:"ObservableObject",r=new Rx(t,new Map,String(i),Vk(e));return Eu(t,we,r),t}var UL=lr("ObservableObjectAdministration",Rx);function ew(t){return QE[t]||(QE[t]={get:function(){return this[we].getObservablePropValue_(t)},set:function(n){return this[we].setObservablePropValue_(t,n)}})}function Nu(t){return Xd(t)?UL(t[we]):!1}function tw(t,e,n){var i;(i=t.target_[bi])==null||delete i[n]}var BL=Nx(0),FL=(function(){var t=!1,e={};return Object.defineProperty(e,"0",{set:function(){t=!0}}),Object.create(e)[0]=1,t===!1})(),ig=0,Mx=function(){};function $L(t,e){Object.setPrototypeOf?Object.setPrototypeOf(t.prototype,e):t.prototype.__proto__!==void 0?t.prototype.__proto__=e:t.prototype=e}$L(Mx,Array.prototype);var hy=(function(t){function e(i,r,a,u){var c;return a===void 0&&(a="ObservableArray"),u===void 0&&(u=!1),c=t.call(this)||this,fr(function(){var h=new dy(a,r,u,!0);h.proxy_=c,KA(c,we,h),i&&i.length&&c.spliceWithArray(0,0,i),FL&&Object.defineProperty(c,"0",BL)}),c}XA(e,t);var n=e.prototype;return n.concat=function(){this[we].atom_.reportObserved();for(var r=arguments.length,a=new Array(r),u=0;u<r;u++)a[u]=arguments[u];return Array.prototype.concat.apply(this.slice(),a.map(function(c){return Mu(c)?c.slice():c}))},n[Symbol.iterator]=function(){var i=this,r=0;return py({next:function(){return r<i.length?{value:i[r++],done:!1}:{done:!0,value:void 0}}})},xa(e,[{key:"length",get:function(){return this[we].getArrayLength_()},set:function(r){this[we].setArrayLength_(r)}},{key:Symbol.toStringTag,get:function(){return"Array"}}])})(Mx);Object.entries(vd).forEach(function(t){var e=t[0],n=t[1];e!=="concat"&&Eu(hy.prototype,e,n)});function Nx(t){return{enumerable:!1,configurable:!0,get:function(){return this[we].get_(t)},set:function(n){this[we].set_(t,n)}}}function HL(t){Ci(hy.prototype,""+t,Nx(t))}function Ix(t){if(t>ig){for(var e=ig;e<t+100;e++)HL(e);ig=t}}Ix(1e3);function GL(t,e,n){return new hy(t,e,n)}function _d(t,e){if(typeof t=="object"&&t!==null){if(Mu(t))return e!==void 0&&Be(23),t[we].atom_;if(ei(t))return t.atom_;if(cr(t)){if(e===void 0)return t.keysAtom_;var n=t.data_.get(e)||t.hasMap_.get(e);return n||Be(25,e,av(t)),n}if(Nu(t)){if(!e)return Be(26);var i=t[we].values_.get(e);return i||Be(27,e,av(t)),i}if(sy(t)||Au(t)||gd(t))return t}else if(si(t)&&gd(t[we]))return t[we];Be(28)}function VL(t,e){if(t||Be(29),sy(t)||Au(t)||gd(t)||cr(t)||ei(t))return t;if(t[we])return t[we];Be(24,t)}function av(t,e){var n;if(e!==void 0)n=_d(t,e);else{if(va(t))return t.name;Nu(t)||cr(t)||ei(t)?n=VL(t):n=_d(t)}return n.name_}function fr(t){var e=ts(),n=ly(!0);Bn();try{return t()}finally{Fn(),uy(n),lo(e)}}var nw=bu.toString;function Dx(t,e,n){return n===void 0&&(n=-1),lv(t,e,n)}function lv(t,e,n,i,r){if(t===e)return t!==0||1/t===1/e;if(t==null||e==null)return!1;if(t!==t)return e!==e;var a=typeof t;if(a!=="function"&&a!=="object"&&typeof e!="object")return!1;var u=nw.call(t);if(u!==nw.call(e))return!1;switch(u){case"[object RegExp]":case"[object String]":return""+t==""+e;case"[object Number]":return+t!=+t?+e!=+e:+t==0?1/+t===1/e:+t==+e;case"[object Date]":case"[object Boolean]":return+t==+e;case"[object Symbol]":return typeof Symbol<"u"&&Symbol.valueOf.call(t)===Symbol.valueOf.call(e);case"[object Map]":case"[object Set]":n>=0&&n++;break}t=iw(t),e=iw(e);var c=u==="[object Array]";if(!c){if(typeof t!="object"||typeof e!="object")return!1;var h=t.constructor,d=e.constructor;if(h!==d&&!(si(h)&&h instanceof h&&si(d)&&d instanceof d)&&"constructor"in t&&"constructor"in e)return!1}if(n===0)return!1;n<0&&(n=-1),i=i||[],r=r||[];for(var m=i.length;m--;)if(i[m]===t)return r[m]===e;if(i.push(t),r.push(e),c){if(m=t.length,m!==e.length)return!1;for(;m--;)if(!lv(t[m],e[m],n-1,i,r))return!1}else{var y=Object.keys(t),S=y.length;if(Object.keys(e).length!==S)return!1;for(var b=0;b<S;b++){var T=y[b];if(!(ao(e,T)&&lv(t[T],e[T],n-1,i,r)))return!1}}return i.pop(),r.pop(),!0}function iw(t){return Mu(t)?t.slice():Aa(t)||cr(t)||oo(t)||ei(t)?Array.from(t.entries()):t}var ow,zL=((ow=jd().Iterator)==null?void 0:ow.prototype)||{};function py(t){return t[Symbol.iterator]=qL,Object.assign(Object.create(zL),t)}function qL(){return this}["Symbol","Map","Set"].forEach(function(t){var e=jd();typeof e[t]>"u"&&Be("MobX requires global '"+t+"' to be available or polyfilled")});typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__=="object"&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:aL,extras:{getDebugName:av},$mobx:we});if(!w.useState)throw new Error("mobx-react-lite requires React with Hooks support");if(!ML)throw new Error("mobx-react-lite@3 requires mobx at least version 6 to be available");var eh=HA();const Br=Su(eh);function JL(t){t()}function KL(t){t||(t=JL),SL({reactionScheduler:t})}function YL(t){return bL(t)}var jL=1e4,XL=1e4,WL=(function(){function t(e){var n=this;Object.defineProperty(this,"finalize",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"registrations",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),Object.defineProperty(this,"sweepTimeout",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sweep",{enumerable:!0,configurable:!0,writable:!0,value:function(i){i===void 0&&(i=jL),clearTimeout(n.sweepTimeout),n.sweepTimeout=void 0;var r=Date.now();n.registrations.forEach(function(a,u){r-a.registeredAt>=i&&(n.finalize(a.value),n.registrations.delete(u))}),n.registrations.size>0&&n.scheduleSweep()}}),Object.defineProperty(this,"finalizeAllImmediately",{enumerable:!0,configurable:!0,writable:!0,value:function(){n.sweep(0)}})}return Object.defineProperty(t.prototype,"register",{enumerable:!1,configurable:!0,writable:!0,value:function(e,n,i){this.registrations.set(i,{value:n,registeredAt:Date.now()}),this.scheduleSweep()}}),Object.defineProperty(t.prototype,"unregister",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this.registrations.delete(e)}}),Object.defineProperty(t.prototype,"scheduleSweep",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.sweepTimeout===void 0&&(this.sweepTimeout=setTimeout(this.sweep,XL))}}),t})(),QL=typeof FinalizationRegistry<"u"?FinalizationRegistry:WL,uv=new QL(function(t){var e;(e=t.reaction)===null||e===void 0||e.dispose(),t.reaction=null}),og={exports:{}},rg={};var rw;function ZL(){if(rw)return rg;rw=1;var t=Yd();function e(y,S){return y===S&&(y!==0||1/y===1/S)||y!==y&&S!==S}var n=typeof Object.is=="function"?Object.is:e,i=t.useState,r=t.useEffect,a=t.useLayoutEffect,u=t.useDebugValue;function c(y,S){var b=S(),T=i({inst:{value:b,getSnapshot:S}}),A=T[0].inst,x=T[1];return a(function(){A.value=b,A.getSnapshot=S,h(A)&&x({inst:A})},[y,b,S]),r(function(){return h(A)&&x({inst:A}),y(function(){h(A)&&x({inst:A})})},[y]),u(b),b}function h(y){var S=y.getSnapshot;y=y.value;try{var b=S();return!n(y,b)}catch{return!0}}function d(y,S){return S()}var m=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?d:c;return rg.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:m,rg}var sw;function eU(){return sw||(sw=1,og.exports=ZL()),og.exports}var tU=eU();function aw(t){t.reaction=new ho("observer".concat(t.name),function(){var e;t.stateVersion=Symbol(),(e=t.onStoreChange)===null||e===void 0||e.call(t)})}function nU(t,e){e===void 0&&(e="observed");var n=tt.useRef(null);if(!n.current){var i={reaction:null,onStoreChange:null,stateVersion:Symbol(),name:e,subscribe:function(c){return uv.unregister(i),i.onStoreChange=c,i.reaction||(aw(i),i.stateVersion=Symbol()),function(){var h;i.onStoreChange=null,(h=i.reaction)===null||h===void 0||h.dispose(),i.reaction=null}},getSnapshot:function(){return i.stateVersion}};n.current=i}var r=n.current;r.reaction||(aw(r),uv.register(n,r,r)),tt.useDebugValue(r.reaction,YL),tU.useSyncExternalStore(r.subscribe,r.getSnapshot,r.getSnapshot);var a,u;if(r.reaction.track(function(){try{a=t()}catch(c){u=c}}),u)throw u;return a}var sg,ag,Ox=typeof Symbol=="function"&&Symbol.for,iU=(ag=(sg=Object.getOwnPropertyDescriptor(function(){},"name"))===null||sg===void 0?void 0:sg.configurable)!==null&&ag!==void 0?ag:!1,lw=Ox?Symbol.for("react.forward_ref"):typeof w.forwardRef=="function"&&w.forwardRef(function(t){return null}).$$typeof,uw=Ox?Symbol.for("react.memo"):typeof w.memo=="function"&&w.memo(function(t){return null}).$$typeof;function ct(t,e){var n;if(uw&&t.$$typeof===uw)throw new Error("[mobx-react-lite] You are trying to use `observer` on a function component wrapped in either another `observer` or `React.memo`. The observer already applies 'React.memo' for you.");var i=(n=void 0)!==null&&n!==void 0?n:!1,r=t,a=t.displayName||t.name;if(lw&&t.$$typeof===lw&&(i=!0,r=t.render,typeof r!="function"))throw new Error("[mobx-react-lite] `render` property of ForwardRef was not a function");var u=function(c,h){return nU(function(){return r(c,h)},a)};return u.displayName=t.displayName,iU&&Object.defineProperty(u,"name",{value:t.name,writable:!0,configurable:!0}),t.contextTypes&&(u.contextTypes=t.contextTypes),i&&(u=w.forwardRef(u)),u=w.memo(u),rU(t,u),u}var oU={$$typeof:!0,render:!0,compare:!0,type:!0,displayName:!0};function rU(t,e){Object.keys(t).forEach(function(n){oU[n]||Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}var lg;KL(eh.unstable_batchedUpdates);lg=uv.finalizeAllImmediately;var ug={exports:{}};var cw;function sU(){return cw||(cw=1,(function(t){(function(){var e={}.hasOwnProperty;function n(){for(var a="",u=0;u<arguments.length;u++){var c=arguments[u];c&&(a=r(a,i(c)))}return a}function i(a){if(typeof a=="string"||typeof a=="number")return a;if(typeof a!="object")return"";if(Array.isArray(a))return n.apply(null,a);if(a.toString!==Object.prototype.toString&&!a.toString.toString().includes("[native code]"))return a.toString();var u="";for(var c in a)e.call(a,c)&&a[c]&&(u=r(u,c));return u}function r(a,u){return u?a?a+" "+u:a+u:a}t.exports?(n.default=n,t.exports=n):window.classNames=n})()})(ug)),ug.exports}var aU=sU();const Ne=Su(aU);function cv(){return cv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},cv.apply(null,arguments)}function Px(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)!==-1)continue;n[i]=t[i]}return n}function fw(t){return"default"+t.charAt(0).toUpperCase()+t.substr(1)}function lU(t){var e=uU(t,"string");return typeof e=="symbol"?e:String(e)}function uU(t,e){if(typeof t!="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function cU(t,e,n){var i=w.useRef(t!==void 0),r=w.useState(e),a=r[0],u=r[1],c=t!==void 0,h=i.current;return i.current=c,!c&&h&&a!==e&&u(e),[c?t:a,w.useCallback(function(d){for(var m=arguments.length,y=new Array(m>1?m-1:0),S=1;S<m;S++)y[S-1]=arguments[S];n&&n.apply(void 0,[d].concat(y)),u(d)},[n])]}function my(t,e){return Object.keys(e).reduce(function(n,i){var r,a=n,u=a[fw(i)],c=a[i],h=Px(a,[fw(i),i].map(lU)),d=e[i],m=cU(c,u,t[d]),y=m[0],S=m[1];return cv({},h,(r={},r[i]=y,r[d]=S,r))},t)}function fv(t,e){return fv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},fv(t,e)}function fU(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,fv(t,e)}const dU=["xxl","xl","lg","md","sm","xs"],hU="xs",Iu=w.createContext({prefixes:{},breakpoints:dU,minBreakpoint:hU}),{Consumer:RY,Provider:MY}=Iu;function Ue(t,e){const{prefixes:n}=w.useContext(Iu);return t||n[e]||e}function kx(){const{breakpoints:t}=w.useContext(Iu);return t}function Lx(){const{minBreakpoint:t}=w.useContext(Iu);return t}function pU(){const{dir:t}=w.useContext(Iu);return t==="rtl"}function th(t){return t&&t.ownerDocument||document}function mU(t){var e=th(t);return e&&e.defaultView||window}function gU(t,e){return mU(t).getComputedStyle(t,e)}var vU=/([A-Z])/g;function yU(t){return t.replace(vU,"-$1").toLowerCase()}var _U=/^ms-/;function Sf(t){return yU(t).replace(_U,"-ms-")}var SU=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function bU(t){return!!(t&&SU.test(t))}function uo(t,e){var n="",i="";if(typeof e=="string")return t.style.getPropertyValue(Sf(e))||gU(t).getPropertyValue(Sf(e));Object.keys(e).forEach(function(r){var a=e[r];!a&&a!==0?t.style.removeProperty(Sf(r)):bU(r)?i+=r+"("+a+") ":n+=Sf(r)+": "+a+";"}),i&&(n+="transform: "+i+";"),t.style.cssText+=";"+n}var cg={exports:{}},fg,dw;function EU(){if(dw)return fg;dw=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return fg=t,fg}var dg,hw;function wU(){if(hw)return dg;hw=1;var t=EU();function e(){}function n(){}return n.resetWarningCache=e,dg=function(){function i(u,c,h,d,m,y){if(y!==t){var S=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw S.name="Invariant Violation",S}}i.isRequired=i;function r(){return i}var a={array:i,bigint:i,bool:i,func:i,number:i,object:i,string:i,symbol:i,any:i,arrayOf:r,element:i,elementType:i,instanceOf:r,node:i,objectOf:r,oneOf:r,oneOfType:r,shape:r,exact:r,checkPropTypes:n,resetWarningCache:e};return a.PropTypes=a,a},dg}var pw;function CU(){return pw||(pw=1,cg.exports=wU()()),cg.exports}var TU=CU();const hg=Su(TU),mw={disabled:!1},Ux=tt.createContext(null);var AU=function(e){return e.scrollTop},Fl="unmounted",Wo="exited",Zn="entering",so="entered",lu="exiting",yo=(function(t){fU(e,t);function e(i,r){var a;a=t.call(this,i,r)||this;var u=r,c=u&&!u.isMounting?i.enter:i.appear,h;return a.appearStatus=null,i.in?c?(h=Wo,a.appearStatus=Zn):h=so:i.unmountOnExit||i.mountOnEnter?h=Fl:h=Wo,a.state={status:h},a.nextCallback=null,a}e.getDerivedStateFromProps=function(r,a){var u=r.in;return u&&a.status===Fl?{status:Wo}:null};var n=e.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(r){var a=null;if(r!==this.props){var u=this.state.status;this.props.in?u!==Zn&&u!==so&&(a=Zn):(u===Zn||u===so)&&(a=lu)}this.updateStatus(!1,a)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var r=this.props.timeout,a,u,c;return a=u=c=r,r!=null&&typeof r!="number"&&(a=r.exit,u=r.enter,c=r.appear!==void 0?r.appear:u),{exit:a,enter:u,appear:c}},n.updateStatus=function(r,a){if(r===void 0&&(r=!1),a!==null)if(this.cancelNextCallback(),a===Zn){if(this.props.unmountOnExit||this.props.mountOnEnter){var u=this.props.nodeRef?this.props.nodeRef.current:Br.findDOMNode(this);u&&AU(u)}this.performEnter(r)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Wo&&this.setState({status:Fl})},n.performEnter=function(r){var a=this,u=this.props.enter,c=this.context?this.context.isMounting:r,h=this.props.nodeRef?[c]:[Br.findDOMNode(this),c],d=h[0],m=h[1],y=this.getTimeouts(),S=c?y.appear:y.enter;if(!r&&!u||mw.disabled){this.safeSetState({status:so},function(){a.props.onEntered(d)});return}this.props.onEnter(d,m),this.safeSetState({status:Zn},function(){a.props.onEntering(d,m),a.onTransitionEnd(S,function(){a.safeSetState({status:so},function(){a.props.onEntered(d,m)})})})},n.performExit=function(){var r=this,a=this.props.exit,u=this.getTimeouts(),c=this.props.nodeRef?void 0:Br.findDOMNode(this);if(!a||mw.disabled){this.safeSetState({status:Wo},function(){r.props.onExited(c)});return}this.props.onExit(c),this.safeSetState({status:lu},function(){r.props.onExiting(c),r.onTransitionEnd(u.exit,function(){r.safeSetState({status:Wo},function(){r.props.onExited(c)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(r,a){a=this.setNextCallback(a),this.setState(r,a)},n.setNextCallback=function(r){var a=this,u=!0;return this.nextCallback=function(c){u&&(u=!1,a.nextCallback=null,r(c))},this.nextCallback.cancel=function(){u=!1},this.nextCallback},n.onTransitionEnd=function(r,a){this.setNextCallback(a);var u=this.props.nodeRef?this.props.nodeRef.current:Br.findDOMNode(this),c=r==null&&!this.props.addEndListener;if(!u||c){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var h=this.props.nodeRef?[this.nextCallback]:[u,this.nextCallback],d=h[0],m=h[1];this.props.addEndListener(d,m)}r!=null&&setTimeout(this.nextCallback,r)},n.render=function(){var r=this.state.status;if(r===Fl)return null;var a=this.props,u=a.children;a.in,a.mountOnEnter,a.unmountOnExit,a.appear,a.enter,a.exit,a.timeout,a.addEndListener,a.onEnter,a.onEntering,a.onEntered,a.onExit,a.onExiting,a.onExited,a.nodeRef;var c=Px(a,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return tt.createElement(Ux.Provider,{value:null},typeof u=="function"?u(r,c):tt.cloneElement(tt.Children.only(u),c))},e})(tt.Component);yo.contextType=Ux;yo.propTypes={};function qs(){}yo.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:qs,onEntering:qs,onEntered:qs,onExit:qs,onExiting:qs,onExited:qs};yo.UNMOUNTED=Fl;yo.EXITED=Wo;yo.ENTERING=Zn;yo.ENTERED=so;yo.EXITING=lu;function xU(t){return t.code==="Escape"||t.keyCode===27}function RU(){const t=w.version.split(".");return{major:+t[0],minor:+t[1],patch:+t[2]}}function Ra(t){if(!t||typeof t=="function")return null;const{major:e}=RU();return e>=19?t.props.ref:t.ref}const nh=!!(typeof window<"u"&&window.document&&window.document.createElement);var dv=!1,hv=!1;try{var pg={get passive(){return dv=!0},get once(){return hv=dv=!0}};nh&&(window.addEventListener("test",pg,pg),window.removeEventListener("test",pg,!0))}catch{}function Bx(t,e,n,i){if(i&&typeof i!="boolean"&&!hv){var r=i.once,a=i.capture,u=n;!hv&&r&&(u=n.__once||function c(h){this.removeEventListener(e,c,a),n.call(this,h)},n.__once=u),t.addEventListener(e,u,dv?i:a)}t.addEventListener(e,n,i)}function MU(t,e,n,i){var r=i&&typeof i!="boolean"?i.capture:i;t.removeEventListener(e,n,r),n.__once&&t.removeEventListener(e,n.__once,r)}function er(t,e,n,i){return Bx(t,e,n,i),function(){MU(t,e,n,i)}}function NU(t,e,n,i){if(i===void 0&&(i=!0),t){var r=document.createEvent("HTMLEvents");r.initEvent(e,n,i),t.dispatchEvent(r)}}function IU(t){var e=uo(t,"transitionDuration")||"",n=e.indexOf("ms")===-1?1e3:1;return parseFloat(e)*n}function DU(t,e,n){n===void 0&&(n=5);var i=!1,r=setTimeout(function(){i||NU(t,"transitionend",!0)},e+n),a=er(t,"transitionend",function(){i=!0},{once:!0});return function(){clearTimeout(r),a()}}function OU(t,e,n,i){n==null&&(n=IU(t)||0);var r=DU(t,n,i),a=er(t,"transitionend",e);return function(){r(),a()}}function gw(t,e){const n=uo(t,e)||"",i=n.indexOf("ms")===-1?1e3:1;return parseFloat(n)*i}function gy(t,e){const n=gw(t,"transitionDuration"),i=gw(t,"transitionDelay"),r=OU(t,a=>{a.target===t&&(r(),e(a))},n+i)}function kl(...t){return t.filter(e=>e!=null).reduce((e,n)=>{if(typeof n!="function")throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return e===null?n:function(...r){e.apply(this,r),n.apply(this,r)}},null)}function Fx(t){t.offsetHeight}const vw=t=>!t||typeof t=="function"?t:e=>{t.current=e};function PU(t,e){const n=vw(t),i=vw(e);return r=>{n&&n(r),i&&i(r)}}function vy(t,e){return w.useMemo(()=>PU(t,e),[t,e])}function kU(t){return t&&"setState"in t?Br.findDOMNode(t):t??null}const ih=tt.forwardRef(({onEnter:t,onEntering:e,onEntered:n,onExit:i,onExiting:r,onExited:a,addEndListener:u,children:c,childRef:h,...d},m)=>{const y=w.useRef(null),S=vy(y,h),b=U=>{S(kU(U))},T=U=>O=>{U&&y.current&&U(y.current,O)},A=w.useCallback(T(t),[t]),x=w.useCallback(T(e),[e]),M=w.useCallback(T(n),[n]),I=w.useCallback(T(i),[i]),N=w.useCallback(T(r),[r]),D=w.useCallback(T(a),[a]),L=w.useCallback(T(u),[u]);return E.jsx(yo,{ref:m,...d,onEnter:A,onEntered:M,onEntering:x,onExit:I,onExited:D,onExiting:N,addEndListener:L,nodeRef:y,children:typeof c=="function"?(U,O)=>c(U,{...O,ref:b}):tt.cloneElement(c,{ref:b})})});ih.displayName="TransitionWrapper";const LU={height:["marginTop","marginBottom"],width:["marginLeft","marginRight"]};function UU(t,e){const n=`offset${t[0].toUpperCase()}${t.slice(1)}`,i=e[n],r=LU[t];return i+parseInt(uo(e,r[0]),10)+parseInt(uo(e,r[1]),10)}const BU={[Wo]:"collapse",[lu]:"collapsing",[Zn]:"collapsing",[so]:"collapse show"},$x=tt.forwardRef(({onEnter:t,onEntering:e,onEntered:n,onExit:i,onExiting:r,className:a,children:u,dimension:c="height",in:h=!1,timeout:d=300,mountOnEnter:m=!1,unmountOnExit:y=!1,appear:S=!1,getDimensionValue:b=UU,...T},A)=>{const x=typeof c=="function"?c():c,M=w.useMemo(()=>kl(U=>{U.style[x]="0"},t),[x,t]),I=w.useMemo(()=>kl(U=>{const O=`scroll${x[0].toUpperCase()}${x.slice(1)}`;U.style[x]=`${U[O]}px`},e),[x,e]),N=w.useMemo(()=>kl(U=>{U.style[x]=null},n),[x,n]),D=w.useMemo(()=>kl(U=>{U.style[x]=`${b(x,U)}px`,Fx(U)},i),[i,b,x]),L=w.useMemo(()=>kl(U=>{U.style[x]=null},r),[x,r]);return E.jsx(ih,{ref:A,addEndListener:gy,...T,"aria-expanded":T.role?h:null,onEnter:M,onEntering:I,onEntered:N,onExit:D,onExiting:L,childRef:Ra(u),in:h,timeout:d,mountOnEnter:m,unmountOnExit:y,appear:S,children:(U,O)=>tt.cloneElement(u,{...O,className:Ne(a,u.props.className,BU[U],x==="width"&&"collapse-horizontal")})})});$x.displayName="Collapse";function FU(t){const e=w.useRef(t);return w.useEffect(()=>{e.current=t},[t]),e}function Du(t){const e=FU(t);return w.useCallback(function(...n){return e.current&&e.current(...n)},[e])}const yy=(t=>w.forwardRef((e,n)=>E.jsx("div",{...e,ref:n,className:Ne(e.className,t)})));function $U(){return w.useState(null)}function HU(t){const e=w.useRef(t);return w.useEffect(()=>{e.current=t},[t]),e}function Lt(t){const e=HU(t);return w.useCallback(function(...n){return e.current&&e.current(...n)},[e])}function GU(t,e,n,i=!1){const r=Lt(n);w.useEffect(()=>{const a=typeof t=="function"?t():t;return a.addEventListener(e,r,i),()=>a.removeEventListener(e,r,i)},[t])}function Hx(){const t=w.useRef(!0),e=w.useRef(()=>t.current);return w.useEffect(()=>(t.current=!0,()=>{t.current=!1}),[]),e.current}function Gx(t){const e=w.useRef(null);return w.useEffect(()=>{e.current=t}),e.current}const VU=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",zU=typeof document<"u",yw=zU||VU?w.useLayoutEffect:w.useEffect,qU=["as","disabled"];function JU(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)>=0)continue;n[i]=t[i]}return n}function KU(t){return!t||t.trim()==="#"}function _y({tagName:t,disabled:e,href:n,target:i,rel:r,role:a,onClick:u,tabIndex:c=0,type:h}){t||(n!=null||i!=null||r!=null?t="a":t="button");const d={tagName:t};if(t==="button")return[{type:h||"button",disabled:e},d];const m=S=>{if((e||t==="a"&&KU(n))&&S.preventDefault(),e){S.stopPropagation();return}u?.(S)},y=S=>{S.key===" "&&(S.preventDefault(),m(S))};return t==="a"&&(n||(n="#"),e&&(n=void 0)),[{role:a??"button",disabled:void 0,tabIndex:e?void 0:c,href:n,target:t==="a"?i:void 0,"aria-disabled":e||void 0,rel:t==="a"?r:void 0,onClick:m,onKeyDown:y},d]}const Sy=w.forwardRef((t,e)=>{let{as:n,disabled:i}=t,r=JU(t,qU);const[a,{tagName:u}]=_y(Object.assign({tagName:n,disabled:i},r));return E.jsx(u,Object.assign({},r,a,{ref:e}))});Sy.displayName="Button";const YU=["onKeyDown"];function jU(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)>=0)continue;n[i]=t[i]}return n}function XU(t){return!t||t.trim()==="#"}const by=w.forwardRef((t,e)=>{let{onKeyDown:n}=t,i=jU(t,YU);const[r]=_y(Object.assign({tagName:"a"},i)),a=Lt(u=>{r.onKeyDown(u),n?.(u)});return XU(i.href)||i.role==="button"?E.jsx("a",Object.assign({ref:e},i,r,{onKeyDown:a})):E.jsx("a",Object.assign({ref:e},i,{onKeyDown:n}))});by.displayName="Anchor";const WU={[Zn]:"show",[so]:"show"},Vx=w.forwardRef(({className:t,children:e,transitionClasses:n={},onEnter:i,...r},a)=>{const u={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,...r},c=w.useCallback((h,d)=>{Fx(h),i?.(h,d)},[i]);return E.jsx(ih,{ref:a,addEndListener:gy,...u,onEnter:c,childRef:Ra(e),children:(h,d)=>w.cloneElement(e,{...d,className:Ne("fade",t,e.props.className,WU[h],n[h])})})});Vx.displayName="Fade";const QU={"aria-label":hg.string,onClick:hg.func,variant:hg.oneOf(["white"])},Ey=w.forwardRef(({className:t,variant:e,"aria-label":n="Close",...i},r)=>E.jsx("button",{ref:r,type:"button",className:Ne("btn-close",e&&`btn-close-${e}`,t),"aria-label":n,...i}));Ey.displayName="CloseButton";Ey.propTypes=QU;const zx=w.forwardRef(({as:t,bsPrefix:e,variant:n="primary",size:i,active:r=!1,disabled:a=!1,className:u,...c},h)=>{const d=Ue(e,"btn"),[m,{tagName:y}]=_y({tagName:t,disabled:a,...c}),S=y;return E.jsx(S,{...m,...c,ref:h,disabled:a,className:Ne(u,d,r&&"active",n&&`${d}-${n}`,i&&`${d}-${i}`,c.href&&a&&"disabled")})});zx.displayName="Button";const wy=w.forwardRef(({className:t,bsPrefix:e,as:n="div",...i},r)=>(e=Ue(e,"card-body"),E.jsx(n,{ref:r,className:Ne(t,e),...i})));wy.displayName="CardBody";const qx=w.forwardRef(({className:t,bsPrefix:e,as:n="div",...i},r)=>(e=Ue(e,"card-footer"),E.jsx(n,{ref:r,className:Ne(t,e),...i})));qx.displayName="CardFooter";const Cy=w.createContext(null);Cy.displayName="CardHeaderContext";const Jx=w.forwardRef(({bsPrefix:t,className:e,as:n="div",...i},r)=>{const a=Ue(t,"card-header"),u=w.useMemo(()=>({cardHeaderBsPrefix:a}),[a]);return E.jsx(Cy.Provider,{value:u,children:E.jsx(n,{ref:r,...i,className:Ne(e,a)})})});Jx.displayName="CardHeader";const Kx=w.forwardRef(({bsPrefix:t,className:e,variant:n,as:i="img",...r},a)=>{const u=Ue(t,"card-img");return E.jsx(i,{ref:a,className:Ne(n?`${u}-${n}`:u,e),...r})});Kx.displayName="CardImg";const Yx=w.forwardRef(({className:t,bsPrefix:e,as:n="div",...i},r)=>(e=Ue(e,"card-img-overlay"),E.jsx(n,{ref:r,className:Ne(t,e),...i})));Yx.displayName="CardImgOverlay";const jx=w.forwardRef(({className:t,bsPrefix:e,as:n="a",...i},r)=>(e=Ue(e,"card-link"),E.jsx(n,{ref:r,className:Ne(t,e),...i})));jx.displayName="CardLink";const ZU=yy("h6"),Xx=w.forwardRef(({className:t,bsPrefix:e,as:n=ZU,...i},r)=>(e=Ue(e,"card-subtitle"),E.jsx(n,{ref:r,className:Ne(t,e),...i})));Xx.displayName="CardSubtitle";const Wx=w.forwardRef(({className:t,bsPrefix:e,as:n="p",...i},r)=>(e=Ue(e,"card-text"),E.jsx(n,{ref:r,className:Ne(t,e),...i})));Wx.displayName="CardText";const e2=yy("h5"),Qx=w.forwardRef(({className:t,bsPrefix:e,as:n=e2,...i},r)=>(e=Ue(e,"card-title"),E.jsx(n,{ref:r,className:Ne(t,e),...i})));Qx.displayName="CardTitle";const Zx=w.forwardRef(({bsPrefix:t,className:e,bg:n,text:i,border:r,body:a=!1,children:u,as:c="div",...h},d)=>{const m=Ue(t,"card");return E.jsx(c,{ref:d,...h,className:Ne(e,m,n&&`bg-${n}`,i&&`text-${i}`,r&&`border-${r}`),children:a?E.jsx(wy,{children:u}):u})});Zx.displayName="Card";const bf=Object.assign(Zx,{Img:Kx,Title:Qx,Subtitle:Xx,Body:wy,Link:jx,Text:Wx,Header:Jx,Footer:qx,ImgOverlay:Yx});function t2({as:t,bsPrefix:e,className:n,...i}){e=Ue(e,"col");const r=kx(),a=Lx(),u=[],c=[];return r.forEach(h=>{const d=i[h];delete i[h];let m,y,S;typeof d=="object"&&d!=null?{span:m,offset:y,order:S}=d:m=d;const b=h!==a?`-${h}`:"";m&&u.push(m===!0?`${e}${b}`:`${e}${b}-${m}`),S!=null&&c.push(`order${b}-${S}`),y!=null&&c.push(`offset${b}-${y}`)}),[{...i,className:Ne(n,...u,...c)},{as:t,bsPrefix:e,spans:u}]}const eR=w.forwardRef((t,e)=>{const[{className:n,...i},{as:r="div",bsPrefix:a,spans:u}]=t2(t);return E.jsx(r,{...i,ref:e,className:Ne(n,!u.length&&a)})});eR.displayName="Col";const tR=w.forwardRef(({bsPrefix:t,fluid:e=!1,as:n="div",className:i,...r},a)=>{const u=Ue(t,"container"),c=typeof e=="string"?`-${e}`:"-fluid";return E.jsx(n,{ref:a,...r,className:Ne(i,e?`${u}${c}`:u)})});tR.displayName="Container";var n2=Function.prototype.bind.call(Function.prototype.call,[].slice);function io(t,e){return n2(t.querySelectorAll(e))}function i2(t,e,n){const i=w.useRef(t!==void 0),[r,a]=w.useState(e),u=t!==void 0,c=i.current;return i.current=u,!u&&c&&r!==e&&a(e),[u?t:r,w.useCallback((...h)=>{const[d,...m]=h;let y=n?.(d,...m);return a(d),y},[n])]}function nR(){const[,t]=w.useReducer(e=>e+1,0);return t}const oh=w.createContext(null);var _w=Object.prototype.hasOwnProperty;function Sw(t,e,n){for(n of t.keys())if(eu(n,e))return n}function eu(t,e){var n,i,r;if(t===e)return!0;if(t&&e&&(n=t.constructor)===e.constructor){if(n===Date)return t.getTime()===e.getTime();if(n===RegExp)return t.toString()===e.toString();if(n===Array){if((i=t.length)===e.length)for(;i--&&eu(t[i],e[i]););return i===-1}if(n===Set){if(t.size!==e.size)return!1;for(i of t)if(r=i,r&&typeof r=="object"&&(r=Sw(e,r),!r)||!e.has(r))return!1;return!0}if(n===Map){if(t.size!==e.size)return!1;for(i of t)if(r=i[0],r&&typeof r=="object"&&(r=Sw(e,r),!r)||!eu(i[1],e.get(r)))return!1;return!0}if(n===ArrayBuffer)t=new Uint8Array(t),e=new Uint8Array(e);else if(n===DataView){if((i=t.byteLength)===e.byteLength)for(;i--&&t.getInt8(i)===e.getInt8(i););return i===-1}if(ArrayBuffer.isView(t)){if((i=t.byteLength)===e.byteLength)for(;i--&&t[i]===e[i];);return i===-1}if(!n||typeof t=="object"){i=0;for(n in t)if(_w.call(t,n)&&++i&&!_w.call(e,n)||!(n in e)||!eu(t[n],e[n]))return!1;return Object.keys(e).length===i}}return t!==t&&e!==e}function o2(t){const e=Hx();return[t[0],w.useCallback(n=>{if(e())return t[1](n)},[e,t[1]])]}var tn="top",zn="bottom",qn="right",nn="left",Ty="auto",Ou=[tn,zn,qn,nn],_a="start",uu="end",r2="clippingParents",iR="viewport",Ll="popper",s2="reference",bw=Ou.reduce(function(t,e){return t.concat([e+"-"+_a,e+"-"+uu])},[]),oR=[].concat(Ou,[Ty]).reduce(function(t,e){return t.concat([e,e+"-"+_a,e+"-"+uu])},[]),a2="beforeRead",l2="read",u2="afterRead",c2="beforeMain",f2="main",d2="afterMain",h2="beforeWrite",p2="write",m2="afterWrite",g2=[a2,l2,u2,c2,f2,d2,h2,p2,m2];function xi(t){return t.split("-")[0]}function En(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function Yr(t){var e=En(t).Element;return t instanceof e||t instanceof Element}function Ri(t){var e=En(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function Ay(t){if(typeof ShadowRoot>"u")return!1;var e=En(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}var Hr=Math.max,Sd=Math.min,Sa=Math.round;function pv(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function rR(){return!/^((?!chrome|android).)*safari/i.test(pv())}function ba(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!1);var i=t.getBoundingClientRect(),r=1,a=1;e&&Ri(t)&&(r=t.offsetWidth>0&&Sa(i.width)/t.offsetWidth||1,a=t.offsetHeight>0&&Sa(i.height)/t.offsetHeight||1);var u=Yr(t)?En(t):window,c=u.visualViewport,h=!rR()&&n,d=(i.left+(h&&c?c.offsetLeft:0))/r,m=(i.top+(h&&c?c.offsetTop:0))/a,y=i.width/r,S=i.height/a;return{width:y,height:S,top:m,right:d+y,bottom:m+S,left:d,x:d,y:m}}function xy(t){var e=ba(t),n=t.offsetWidth,i=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-i)<=1&&(i=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:i}}function sR(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&Ay(n)){var i=e;do{if(i&&t.isSameNode(i))return!0;i=i.parentNode||i.host}while(i)}return!1}function or(t){return t?(t.nodeName||"").toLowerCase():null}function po(t){return En(t).getComputedStyle(t)}function v2(t){return["table","td","th"].indexOf(or(t))>=0}function dr(t){return((Yr(t)?t.ownerDocument:t.document)||window.document).documentElement}function rh(t){return or(t)==="html"?t:t.assignedSlot||t.parentNode||(Ay(t)?t.host:null)||dr(t)}function Ew(t){return!Ri(t)||po(t).position==="fixed"?null:t.offsetParent}function y2(t){var e=/firefox/i.test(pv()),n=/Trident/i.test(pv());if(n&&Ri(t)){var i=po(t);if(i.position==="fixed")return null}var r=rh(t);for(Ay(r)&&(r=r.host);Ri(r)&&["html","body"].indexOf(or(r))<0;){var a=po(r);if(a.transform!=="none"||a.perspective!=="none"||a.contain==="paint"||["transform","perspective"].indexOf(a.willChange)!==-1||e&&a.willChange==="filter"||e&&a.filter&&a.filter!=="none")return r;r=r.parentNode}return null}function Pu(t){for(var e=En(t),n=Ew(t);n&&v2(n)&&po(n).position==="static";)n=Ew(n);return n&&(or(n)==="html"||or(n)==="body"&&po(n).position==="static")?e:n||y2(t)||e}function Ry(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function tu(t,e,n){return Hr(t,Sd(e,n))}function _2(t,e,n){var i=tu(t,e,n);return i>n?n:i}function aR(){return{top:0,right:0,bottom:0,left:0}}function lR(t){return Object.assign({},aR(),t)}function uR(t,e){return e.reduce(function(n,i){return n[i]=t,n},{})}var S2=function(e,n){return e=typeof e=="function"?e(Object.assign({},n.rects,{placement:n.placement})):e,lR(typeof e!="number"?e:uR(e,Ou))};function b2(t){var e,n=t.state,i=t.name,r=t.options,a=n.elements.arrow,u=n.modifiersData.popperOffsets,c=xi(n.placement),h=Ry(c),d=[nn,qn].indexOf(c)>=0,m=d?"height":"width";if(!(!a||!u)){var y=S2(r.padding,n),S=xy(a),b=h==="y"?tn:nn,T=h==="y"?zn:qn,A=n.rects.reference[m]+n.rects.reference[h]-u[h]-n.rects.popper[m],x=u[h]-n.rects.reference[h],M=Pu(a),I=M?h==="y"?M.clientHeight||0:M.clientWidth||0:0,N=A/2-x/2,D=y[b],L=I-S[m]-y[T],U=I/2-S[m]/2+N,O=tu(D,U,L),q=h;n.modifiersData[i]=(e={},e[q]=O,e.centerOffset=O-U,e)}}function E2(t){var e=t.state,n=t.options,i=n.element,r=i===void 0?"[data-popper-arrow]":i;r!=null&&(typeof r=="string"&&(r=e.elements.popper.querySelector(r),!r)||sR(e.elements.popper,r)&&(e.elements.arrow=r))}const w2={name:"arrow",enabled:!0,phase:"main",fn:b2,effect:E2,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Ea(t){return t.split("-")[1]}var C2={top:"auto",right:"auto",bottom:"auto",left:"auto"};function T2(t,e){var n=t.x,i=t.y,r=e.devicePixelRatio||1;return{x:Sa(n*r)/r||0,y:Sa(i*r)/r||0}}function ww(t){var e,n=t.popper,i=t.popperRect,r=t.placement,a=t.variation,u=t.offsets,c=t.position,h=t.gpuAcceleration,d=t.adaptive,m=t.roundOffsets,y=t.isFixed,S=u.x,b=S===void 0?0:S,T=u.y,A=T===void 0?0:T,x=typeof m=="function"?m({x:b,y:A}):{x:b,y:A};b=x.x,A=x.y;var M=u.hasOwnProperty("x"),I=u.hasOwnProperty("y"),N=nn,D=tn,L=window;if(d){var U=Pu(n),O="clientHeight",q="clientWidth";if(U===En(n)&&(U=dr(n),po(U).position!=="static"&&c==="absolute"&&(O="scrollHeight",q="scrollWidth")),U=U,r===tn||(r===nn||r===qn)&&a===uu){D=zn;var J=y&&U===L&&L.visualViewport?L.visualViewport.height:U[O];A-=J-i.height,A*=h?1:-1}if(r===nn||(r===tn||r===zn)&&a===uu){N=qn;var j=y&&U===L&&L.visualViewport?L.visualViewport.width:U[q];b-=j-i.width,b*=h?1:-1}}var W=Object.assign({position:c},d&&C2),re=m===!0?T2({x:b,y:A},En(n)):{x:b,y:A};if(b=re.x,A=re.y,h){var ie;return Object.assign({},W,(ie={},ie[D]=I?"0":"",ie[N]=M?"0":"",ie.transform=(L.devicePixelRatio||1)<=1?"translate("+b+"px, "+A+"px)":"translate3d("+b+"px, "+A+"px, 0)",ie))}return Object.assign({},W,(e={},e[D]=I?A+"px":"",e[N]=M?b+"px":"",e.transform="",e))}function A2(t){var e=t.state,n=t.options,i=n.gpuAcceleration,r=i===void 0?!0:i,a=n.adaptive,u=a===void 0?!0:a,c=n.roundOffsets,h=c===void 0?!0:c,d={placement:xi(e.placement),variation:Ea(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:r,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,ww(Object.assign({},d,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:u,roundOffsets:h})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,ww(Object.assign({},d,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:h})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const x2={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:A2,data:{}};var Ef={passive:!0};function R2(t){var e=t.state,n=t.instance,i=t.options,r=i.scroll,a=r===void 0?!0:r,u=i.resize,c=u===void 0?!0:u,h=En(e.elements.popper),d=[].concat(e.scrollParents.reference,e.scrollParents.popper);return a&&d.forEach(function(m){m.addEventListener("scroll",n.update,Ef)}),c&&h.addEventListener("resize",n.update,Ef),function(){a&&d.forEach(function(m){m.removeEventListener("scroll",n.update,Ef)}),c&&h.removeEventListener("resize",n.update,Ef)}}const M2={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:R2,data:{}};var N2={left:"right",right:"left",bottom:"top",top:"bottom"};function jf(t){return t.replace(/left|right|bottom|top/g,function(e){return N2[e]})}var I2={start:"end",end:"start"};function Cw(t){return t.replace(/start|end/g,function(e){return I2[e]})}function My(t){var e=En(t),n=e.pageXOffset,i=e.pageYOffset;return{scrollLeft:n,scrollTop:i}}function Ny(t){return ba(dr(t)).left+My(t).scrollLeft}function D2(t,e){var n=En(t),i=dr(t),r=n.visualViewport,a=i.clientWidth,u=i.clientHeight,c=0,h=0;if(r){a=r.width,u=r.height;var d=rR();(d||!d&&e==="fixed")&&(c=r.offsetLeft,h=r.offsetTop)}return{width:a,height:u,x:c+Ny(t),y:h}}function O2(t){var e,n=dr(t),i=My(t),r=(e=t.ownerDocument)==null?void 0:e.body,a=Hr(n.scrollWidth,n.clientWidth,r?r.scrollWidth:0,r?r.clientWidth:0),u=Hr(n.scrollHeight,n.clientHeight,r?r.scrollHeight:0,r?r.clientHeight:0),c=-i.scrollLeft+Ny(t),h=-i.scrollTop;return po(r||n).direction==="rtl"&&(c+=Hr(n.clientWidth,r?r.clientWidth:0)-a),{width:a,height:u,x:c,y:h}}function Iy(t){var e=po(t),n=e.overflow,i=e.overflowX,r=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+r+i)}function cR(t){return["html","body","#document"].indexOf(or(t))>=0?t.ownerDocument.body:Ri(t)&&Iy(t)?t:cR(rh(t))}function nu(t,e){var n;e===void 0&&(e=[]);var i=cR(t),r=i===((n=t.ownerDocument)==null?void 0:n.body),a=En(i),u=r?[a].concat(a.visualViewport||[],Iy(i)?i:[]):i,c=e.concat(u);return r?c:c.concat(nu(rh(u)))}function mv(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function P2(t,e){var n=ba(t,!1,e==="fixed");return n.top=n.top+t.clientTop,n.left=n.left+t.clientLeft,n.bottom=n.top+t.clientHeight,n.right=n.left+t.clientWidth,n.width=t.clientWidth,n.height=t.clientHeight,n.x=n.left,n.y=n.top,n}function Tw(t,e,n){return e===iR?mv(D2(t,n)):Yr(e)?P2(e,n):mv(O2(dr(t)))}function k2(t){var e=nu(rh(t)),n=["absolute","fixed"].indexOf(po(t).position)>=0,i=n&&Ri(t)?Pu(t):t;return Yr(i)?e.filter(function(r){return Yr(r)&&sR(r,i)&&or(r)!=="body"}):[]}function L2(t,e,n,i){var r=e==="clippingParents"?k2(t):[].concat(e),a=[].concat(r,[n]),u=a[0],c=a.reduce(function(h,d){var m=Tw(t,d,i);return h.top=Hr(m.top,h.top),h.right=Sd(m.right,h.right),h.bottom=Sd(m.bottom,h.bottom),h.left=Hr(m.left,h.left),h},Tw(t,u,i));return c.width=c.right-c.left,c.height=c.bottom-c.top,c.x=c.left,c.y=c.top,c}function fR(t){var e=t.reference,n=t.element,i=t.placement,r=i?xi(i):null,a=i?Ea(i):null,u=e.x+e.width/2-n.width/2,c=e.y+e.height/2-n.height/2,h;switch(r){case tn:h={x:u,y:e.y-n.height};break;case zn:h={x:u,y:e.y+e.height};break;case qn:h={x:e.x+e.width,y:c};break;case nn:h={x:e.x-n.width,y:c};break;default:h={x:e.x,y:e.y}}var d=r?Ry(r):null;if(d!=null){var m=d==="y"?"height":"width";switch(a){case _a:h[d]=h[d]-(e[m]/2-n[m]/2);break;case uu:h[d]=h[d]+(e[m]/2-n[m]/2);break}}return h}function cu(t,e){e===void 0&&(e={});var n=e,i=n.placement,r=i===void 0?t.placement:i,a=n.strategy,u=a===void 0?t.strategy:a,c=n.boundary,h=c===void 0?r2:c,d=n.rootBoundary,m=d===void 0?iR:d,y=n.elementContext,S=y===void 0?Ll:y,b=n.altBoundary,T=b===void 0?!1:b,A=n.padding,x=A===void 0?0:A,M=lR(typeof x!="number"?x:uR(x,Ou)),I=S===Ll?s2:Ll,N=t.rects.popper,D=t.elements[T?I:S],L=L2(Yr(D)?D:D.contextElement||dr(t.elements.popper),h,m,u),U=ba(t.elements.reference),O=fR({reference:U,element:N,placement:r}),q=mv(Object.assign({},N,O)),J=S===Ll?q:U,j={top:L.top-J.top+M.top,bottom:J.bottom-L.bottom+M.bottom,left:L.left-J.left+M.left,right:J.right-L.right+M.right},W=t.modifiersData.offset;if(S===Ll&&W){var re=W[r];Object.keys(j).forEach(function(ie){var ae=[qn,zn].indexOf(ie)>=0?1:-1,de=[tn,zn].indexOf(ie)>=0?"y":"x";j[ie]+=re[de]*ae})}return j}function U2(t,e){e===void 0&&(e={});var n=e,i=n.placement,r=n.boundary,a=n.rootBoundary,u=n.padding,c=n.flipVariations,h=n.allowedAutoPlacements,d=h===void 0?oR:h,m=Ea(i),y=m?c?bw:bw.filter(function(T){return Ea(T)===m}):Ou,S=y.filter(function(T){return d.indexOf(T)>=0});S.length===0&&(S=y);var b=S.reduce(function(T,A){return T[A]=cu(t,{placement:A,boundary:r,rootBoundary:a,padding:u})[xi(A)],T},{});return Object.keys(b).sort(function(T,A){return b[T]-b[A]})}function B2(t){if(xi(t)===Ty)return[];var e=jf(t);return[Cw(t),e,Cw(e)]}function F2(t){var e=t.state,n=t.options,i=t.name;if(!e.modifiersData[i]._skip){for(var r=n.mainAxis,a=r===void 0?!0:r,u=n.altAxis,c=u===void 0?!0:u,h=n.fallbackPlacements,d=n.padding,m=n.boundary,y=n.rootBoundary,S=n.altBoundary,b=n.flipVariations,T=b===void 0?!0:b,A=n.allowedAutoPlacements,x=e.options.placement,M=xi(x),I=M===x,N=h||(I||!T?[jf(x)]:B2(x)),D=[x].concat(N).reduce(function(le,me){return le.concat(xi(me)===Ty?U2(e,{placement:me,boundary:m,rootBoundary:y,padding:d,flipVariations:T,allowedAutoPlacements:A}):me)},[]),L=e.rects.reference,U=e.rects.popper,O=new Map,q=!0,J=D[0],j=0;j<D.length;j++){var W=D[j],re=xi(W),ie=Ea(W)===_a,ae=[tn,zn].indexOf(re)>=0,de=ae?"width":"height",F=cu(e,{placement:W,boundary:m,rootBoundary:y,altBoundary:S,padding:d}),Q=ae?ie?qn:nn:ie?zn:tn;L[de]>U[de]&&(Q=jf(Q));var ee=jf(Q),ne=[];if(a&&ne.push(F[re]<=0),c&&ne.push(F[Q]<=0,F[ee]<=0),ne.every(function(le){return le})){J=W,q=!1;break}O.set(W,ne)}if(q)for(var ce=T?3:1,k=function(me){var be=D.find(function(ve){var ze=O.get(ve);if(ze)return ze.slice(0,me).every(function(qe){return qe})});if(be)return J=be,"break"},Y=ce;Y>0;Y--){var se=k(Y);if(se==="break")break}e.placement!==J&&(e.modifiersData[i]._skip=!0,e.placement=J,e.reset=!0)}}const $2={name:"flip",enabled:!0,phase:"main",fn:F2,requiresIfExists:["offset"],data:{_skip:!1}};function Aw(t,e,n){return n===void 0&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function xw(t){return[tn,qn,zn,nn].some(function(e){return t[e]>=0})}function H2(t){var e=t.state,n=t.name,i=e.rects.reference,r=e.rects.popper,a=e.modifiersData.preventOverflow,u=cu(e,{elementContext:"reference"}),c=cu(e,{altBoundary:!0}),h=Aw(u,i),d=Aw(c,r,a),m=xw(h),y=xw(d);e.modifiersData[n]={referenceClippingOffsets:h,popperEscapeOffsets:d,isReferenceHidden:m,hasPopperEscaped:y},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":m,"data-popper-escaped":y})}const G2={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:H2};function V2(t,e,n){var i=xi(t),r=[nn,tn].indexOf(i)>=0?-1:1,a=typeof n=="function"?n(Object.assign({},e,{placement:t})):n,u=a[0],c=a[1];return u=u||0,c=(c||0)*r,[nn,qn].indexOf(i)>=0?{x:c,y:u}:{x:u,y:c}}function z2(t){var e=t.state,n=t.options,i=t.name,r=n.offset,a=r===void 0?[0,0]:r,u=oR.reduce(function(m,y){return m[y]=V2(y,e.rects,a),m},{}),c=u[e.placement],h=c.x,d=c.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=h,e.modifiersData.popperOffsets.y+=d),e.modifiersData[i]=u}const q2={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:z2};function J2(t){var e=t.state,n=t.name;e.modifiersData[n]=fR({reference:e.rects.reference,element:e.rects.popper,placement:e.placement})}const K2={name:"popperOffsets",enabled:!0,phase:"read",fn:J2,data:{}};function Y2(t){return t==="x"?"y":"x"}function j2(t){var e=t.state,n=t.options,i=t.name,r=n.mainAxis,a=r===void 0?!0:r,u=n.altAxis,c=u===void 0?!1:u,h=n.boundary,d=n.rootBoundary,m=n.altBoundary,y=n.padding,S=n.tether,b=S===void 0?!0:S,T=n.tetherOffset,A=T===void 0?0:T,x=cu(e,{boundary:h,rootBoundary:d,padding:y,altBoundary:m}),M=xi(e.placement),I=Ea(e.placement),N=!I,D=Ry(M),L=Y2(D),U=e.modifiersData.popperOffsets,O=e.rects.reference,q=e.rects.popper,J=typeof A=="function"?A(Object.assign({},e.rects,{placement:e.placement})):A,j=typeof J=="number"?{mainAxis:J,altAxis:J}:Object.assign({mainAxis:0,altAxis:0},J),W=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,re={x:0,y:0};if(U){if(a){var ie,ae=D==="y"?tn:nn,de=D==="y"?zn:qn,F=D==="y"?"height":"width",Q=U[D],ee=Q+x[ae],ne=Q-x[de],ce=b?-q[F]/2:0,k=I===_a?O[F]:q[F],Y=I===_a?-q[F]:-O[F],se=e.elements.arrow,le=b&&se?xy(se):{width:0,height:0},me=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:aR(),be=me[ae],ve=me[de],ze=tu(0,O[F],le[F]),qe=N?O[F]/2-ce-ze-be-j.mainAxis:k-ze-be-j.mainAxis,rn=N?-O[F]/2+ce+ze+ve+j.mainAxis:Y+ze+ve+j.mainAxis,Cn=e.elements.arrow&&Pu(e.elements.arrow),di=Cn?D==="y"?Cn.clientTop||0:Cn.clientLeft||0:0,qt=(ie=W?.[D])!=null?ie:0,Jt=Q+qe-qt-di,Ze=Q+rn-qt,Li=tu(b?Sd(ee,Jt):ee,Q,b?Hr(ne,Ze):ne);U[D]=Li,re[D]=Li-Q}if(c){var bo,ju=D==="x"?tn:nn,Ba=D==="x"?zn:qn,Yn=U[L],Eo=L==="y"?"height":"width",Xu=Yn+x[ju],Wu=Yn-x[Ba],At=[tn,nn].indexOf(M)!==-1,Qu=(bo=W?.[L])!=null?bo:0,Fa=At?Xu:Yn-O[Eo]-q[Eo]-Qu+j.altAxis,$a=At?Yn+O[Eo]+q[Eo]-Qu-j.altAxis:Wu,mr=b&&At?_2(Fa,Yn,$a):tu(b?Fa:Xu,Yn,b?$a:Wu);U[L]=mr,re[L]=mr-Yn}e.modifiersData[i]=re}}const X2={name:"preventOverflow",enabled:!0,phase:"main",fn:j2,requiresIfExists:["offset"]};function W2(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function Q2(t){return t===En(t)||!Ri(t)?My(t):W2(t)}function Z2(t){var e=t.getBoundingClientRect(),n=Sa(e.width)/t.offsetWidth||1,i=Sa(e.height)/t.offsetHeight||1;return n!==1||i!==1}function eB(t,e,n){n===void 0&&(n=!1);var i=Ri(e),r=Ri(e)&&Z2(e),a=dr(e),u=ba(t,r,n),c={scrollLeft:0,scrollTop:0},h={x:0,y:0};return(i||!i&&!n)&&((or(e)!=="body"||Iy(a))&&(c=Q2(e)),Ri(e)?(h=ba(e,!0),h.x+=e.clientLeft,h.y+=e.clientTop):a&&(h.x=Ny(a))),{x:u.left+c.scrollLeft-h.x,y:u.top+c.scrollTop-h.y,width:u.width,height:u.height}}function tB(t){var e=new Map,n=new Set,i=[];t.forEach(function(a){e.set(a.name,a)});function r(a){n.add(a.name);var u=[].concat(a.requires||[],a.requiresIfExists||[]);u.forEach(function(c){if(!n.has(c)){var h=e.get(c);h&&r(h)}}),i.push(a)}return t.forEach(function(a){n.has(a.name)||r(a)}),i}function nB(t){var e=tB(t);return g2.reduce(function(n,i){return n.concat(e.filter(function(r){return r.phase===i}))},[])}function iB(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}function oB(t){var e=t.reduce(function(n,i){var r=n[i.name];return n[i.name]=r?Object.assign({},r,i,{options:Object.assign({},r.options,i.options),data:Object.assign({},r.data,i.data)}):i,n},{});return Object.keys(e).map(function(n){return e[n]})}var Rw={placement:"bottom",modifiers:[],strategy:"absolute"};function Mw(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(i){return!(i&&typeof i.getBoundingClientRect=="function")})}function rB(t){t===void 0&&(t={});var e=t,n=e.defaultModifiers,i=n===void 0?[]:n,r=e.defaultOptions,a=r===void 0?Rw:r;return function(c,h,d){d===void 0&&(d=a);var m={placement:"bottom",orderedModifiers:[],options:Object.assign({},Rw,a),modifiersData:{},elements:{reference:c,popper:h},attributes:{},styles:{}},y=[],S=!1,b={state:m,setOptions:function(M){var I=typeof M=="function"?M(m.options):M;A(),m.options=Object.assign({},a,m.options,I),m.scrollParents={reference:Yr(c)?nu(c):c.contextElement?nu(c.contextElement):[],popper:nu(h)};var N=nB(oB([].concat(i,m.options.modifiers)));return m.orderedModifiers=N.filter(function(D){return D.enabled}),T(),b.update()},forceUpdate:function(){if(!S){var M=m.elements,I=M.reference,N=M.popper;if(Mw(I,N)){m.rects={reference:eB(I,Pu(N),m.options.strategy==="fixed"),popper:xy(N)},m.reset=!1,m.placement=m.options.placement,m.orderedModifiers.forEach(function(j){return m.modifiersData[j.name]=Object.assign({},j.data)});for(var D=0;D<m.orderedModifiers.length;D++){if(m.reset===!0){m.reset=!1,D=-1;continue}var L=m.orderedModifiers[D],U=L.fn,O=L.options,q=O===void 0?{}:O,J=L.name;typeof U=="function"&&(m=U({state:m,options:q,name:J,instance:b})||m)}}}},update:iB(function(){return new Promise(function(x){b.forceUpdate(),x(m)})}),destroy:function(){A(),S=!0}};if(!Mw(c,h))return b;b.setOptions(d).then(function(x){!S&&d.onFirstUpdate&&d.onFirstUpdate(x)});function T(){m.orderedModifiers.forEach(function(x){var M=x.name,I=x.options,N=I===void 0?{}:I,D=x.effect;if(typeof D=="function"){var L=D({state:m,name:M,instance:b,options:N}),U=function(){};y.push(L||U)}})}function A(){y.forEach(function(x){return x()}),y=[]}return b}}const sB=rB({defaultModifiers:[G2,K2,x2,M2,q2,$2,X2,w2]}),aB=["enabled","placement","strategy","modifiers"];function lB(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)>=0)continue;n[i]=t[i]}return n}const uB={name:"applyStyles",enabled:!1,phase:"afterWrite",fn:()=>{}},cB={name:"ariaDescribedBy",enabled:!0,phase:"afterWrite",effect:({state:t})=>()=>{const{reference:e,popper:n}=t.elements;if("removeAttribute"in e){const i=(e.getAttribute("aria-describedby")||"").split(",").filter(r=>r.trim()!==n.id);i.length?e.setAttribute("aria-describedby",i.join(",")):e.removeAttribute("aria-describedby")}},fn:({state:t})=>{var e;const{popper:n,reference:i}=t.elements,r=(e=n.getAttribute("role"))==null?void 0:e.toLowerCase();if(n.id&&r==="tooltip"&&"setAttribute"in i){const a=i.getAttribute("aria-describedby");if(a&&a.split(",").indexOf(n.id)!==-1)return;i.setAttribute("aria-describedby",a?`${a},${n.id}`:n.id)}}},fB=[];function dB(t,e,n={}){let{enabled:i=!0,placement:r="bottom",strategy:a="absolute",modifiers:u=fB}=n,c=lB(n,aB);const h=w.useRef(u),d=w.useRef(),m=w.useCallback(()=>{var x;(x=d.current)==null||x.update()},[]),y=w.useCallback(()=>{var x;(x=d.current)==null||x.forceUpdate()},[]),[S,b]=o2(w.useState({placement:r,update:m,forceUpdate:y,attributes:{},styles:{popper:{},arrow:{}}})),T=w.useMemo(()=>({name:"updateStateModifier",enabled:!0,phase:"write",requires:["computeStyles"],fn:({state:x})=>{const M={},I={};Object.keys(x.elements).forEach(N=>{M[N]=x.styles[N],I[N]=x.attributes[N]}),b({state:x,styles:M,attributes:I,update:m,forceUpdate:y,placement:x.placement})}}),[m,y,b]),A=w.useMemo(()=>(eu(h.current,u)||(h.current=u),h.current),[u]);return w.useEffect(()=>{!d.current||!i||d.current.setOptions({placement:r,strategy:a,modifiers:[...A,T,uB]})},[a,r,T,i,A]),w.useEffect(()=>{if(!(!i||t==null||e==null))return d.current=sB(t,e,Object.assign({},c,{placement:r,strategy:a,modifiers:[...A,cB,T]})),()=>{d.current!=null&&(d.current.destroy(),d.current=void 0,b(x=>Object.assign({},x,{attributes:{},styles:{popper:{}}})))}},[i,t,e]),S}function bd(t,e){if(t.contains)return t.contains(e);if(t.compareDocumentPosition)return t===e||!!(t.compareDocumentPosition(e)&16)}var mg,Nw;function hB(){if(Nw)return mg;Nw=1;var t=function(){};return mg=t,mg}var pB=hB();const mB=Su(pB),Iw=()=>{};function gB(t){return t.button===0}function vB(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}const gg=t=>t&&("current"in t?t.current:t),Dw={click:"mousedown",mouseup:"mousedown",pointerup:"pointerdown"};function yB(t,e=Iw,{disabled:n,clickTrigger:i="click"}={}){const r=w.useRef(!1),a=w.useRef(!1),u=w.useCallback(d=>{const m=gg(t);mB(!!m,"ClickOutside captured a close event but does not have a ref to compare it to. useClickOutside(), should be passed a ref that resolves to a DOM node"),r.current=!m||vB(d)||!gB(d)||!!bd(m,d.target)||a.current,a.current=!1},[t]),c=Lt(d=>{const m=gg(t);m&&bd(m,d.target)?a.current=!0:a.current=!1}),h=Lt(d=>{r.current||e(d)});w.useEffect(()=>{var d,m;if(n||t==null)return;const y=th(gg(t)),S=y.defaultView||window;let b=(d=S.event)!=null?d:(m=S.parent)==null?void 0:m.event,T=null;Dw[i]&&(T=er(y,Dw[i],c,!0));const A=er(y,i,u,!0),x=er(y,i,I=>{if(I===b){b=void 0;return}h(I)});let M=[];return"ontouchstart"in y.documentElement&&(M=[].slice.call(y.body.children).map(I=>er(I,"mousemove",Iw))),()=>{T?.(),A(),x(),M.forEach(I=>I())}},[t,n,i,u,c,h])}function _B(t){const e={};return Array.isArray(t)?(t?.forEach(n=>{e[n.name]=n}),e):t||e}function SB(t={}){return Array.isArray(t)?t:Object.keys(t).map(e=>(t[e].name=e,t[e]))}function bB({enabled:t,enableEvents:e,placement:n,flip:i,offset:r,fixed:a,containerPadding:u,arrowElement:c,popperConfig:h={}}){var d,m,y,S,b;const T=_B(h.modifiers);return Object.assign({},h,{placement:n,enabled:t,strategy:a?"fixed":h.strategy,modifiers:SB(Object.assign({},T,{eventListeners:{enabled:e,options:(d=T.eventListeners)==null?void 0:d.options},preventOverflow:Object.assign({},T.preventOverflow,{options:u?Object.assign({padding:u},(m=T.preventOverflow)==null?void 0:m.options):(y=T.preventOverflow)==null?void 0:y.options}),offset:{options:Object.assign({offset:r},(S=T.offset)==null?void 0:S.options)},arrow:Object.assign({},T.arrow,{enabled:!!c,options:Object.assign({},(b=T.arrow)==null?void 0:b.options,{element:c})}),flip:Object.assign({enabled:!!i},T.flip)}))})}const EB=["children","usePopper"];function wB(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)>=0)continue;n[i]=t[i]}return n}const CB=()=>{};function dR(t={}){const e=w.useContext(oh),[n,i]=$U(),r=w.useRef(!1),{flip:a,offset:u,rootCloseEvent:c,fixed:h=!1,placement:d,popperConfig:m={},enableEventListeners:y=!0,usePopper:S=!!e}=t,b=e?.show==null?!!t.show:e.show;b&&!r.current&&(r.current=!0);const T=U=>{e?.toggle(!1,U)},{placement:A,setMenu:x,menuElement:M,toggleElement:I}=e||{},N=dB(I,M,bB({placement:d||A||"bottom-start",enabled:S,enableEvents:y??b,offset:u,flip:a,fixed:h,arrowElement:n,popperConfig:m})),D=Object.assign({ref:x||CB,"aria-labelledby":I?.id},N.attributes.popper,{style:N.styles.popper}),L={show:b,placement:A,hasShown:r.current,toggle:e?.toggle,popper:S?N:null,arrowProps:S?Object.assign({ref:i},N.attributes.arrow,{style:N.styles.arrow}):{}};return yB(M,T,{clickTrigger:c,disabled:!b}),[D,L]}function hR(t){let{children:e,usePopper:n=!0}=t,i=wB(t,EB);const[r,a]=dR(Object.assign({},i,{usePopper:n}));return E.jsx(E.Fragment,{children:e(r,a)})}hR.displayName="DropdownMenu";const pR={prefix:String(Math.round(Math.random()*1e10)),current:0},mR=tt.createContext(pR),TB=tt.createContext(!1);let vg=new WeakMap;function AB(t=!1){let e=w.useContext(mR),n=w.useRef(null);if(n.current===null&&!t){var i,r;let a=(r=tt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED)===null||r===void 0||(i=r.ReactCurrentOwner)===null||i===void 0?void 0:i.current;if(a){let u=vg.get(a);u==null?vg.set(a,{id:e.current,state:a.memoizedState}):a.memoizedState!==u.state&&(e.current=u.id,vg.delete(a))}n.current=++e.current}return n.current}function xB(t){let e=w.useContext(mR),n=AB(!!t),i=`react-aria${e.prefix}`;return t||`${i}-${n}`}function RB(t){let e=tt.useId(),[n]=w.useState(OB()),i=n?"react-aria":`react-aria${pR.prefix}`;return t||`${i}-${e}`}const MB=typeof tt.useId=="function"?RB:xB;function NB(){return!1}function IB(){return!0}function DB(t){return()=>{}}function OB(){return typeof tt.useSyncExternalStore=="function"?tt.useSyncExternalStore(DB,NB,IB):w.useContext(TB)}const gR=t=>{var e;return((e=t.getAttribute("role"))==null?void 0:e.toLowerCase())==="menu"},Ow=()=>{};function vR(){const t=MB(),{show:e=!1,toggle:n=Ow,setToggle:i,menuElement:r}=w.useContext(oh)||{},a=w.useCallback(c=>{n(!e,c)},[e,n]),u={id:t,ref:i||Ow,onClick:a,"aria-expanded":!!e};return r&&gR(r)&&(u["aria-haspopup"]=!0),[u,{show:e,toggle:n}]}function yR({children:t}){const[e,n]=vR();return E.jsx(E.Fragment,{children:t(e,n)})}yR.displayName="DropdownToggle";const jr=w.createContext(null),fu=(t,e=null)=>t!=null?String(t):e||null,sh=w.createContext(null);sh.displayName="NavContext";const PB="data-rr-ui-",kB="rrUi";function Ma(t){return`${PB}${t}`}function LB(t){return`${kB}${t}`}const UB=["eventKey","disabled","onClick","active","as"];function BB(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)>=0)continue;n[i]=t[i]}return n}function _R({key:t,href:e,active:n,disabled:i,onClick:r}){const a=w.useContext(jr),u=w.useContext(sh),{activeKey:c}=u||{},h=fu(t,e),d=n==null&&t!=null?fu(c)===h:n;return[{onClick:Lt(y=>{i||(r?.(y),a&&!y.isPropagationStopped()&&a(h,y))}),"aria-disabled":i||void 0,"aria-selected":d,[Ma("dropdown-item")]:""},{isActive:d}]}const SR=w.forwardRef((t,e)=>{let{eventKey:n,disabled:i,onClick:r,active:a,as:u=Sy}=t,c=BB(t,UB);const[h]=_R({key:n,href:c.href,disabled:i,onClick:r,active:a});return E.jsx(u,Object.assign({},c,{ref:e},h))});SR.displayName="DropdownItem";const bR=w.createContext(nh?window:void 0);bR.Provider;function ah(){return w.useContext(bR)}function Pw(){const t=nR(),e=w.useRef(null),n=w.useCallback(i=>{e.current=i,t()},[t]);return[e,n]}function ku({defaultShow:t,show:e,onSelect:n,onToggle:i,itemSelector:r=`* [${Ma("dropdown-item")}]`,focusFirstItemOnShow:a,placement:u="bottom-start",children:c}){const h=ah(),[d,m]=i2(e,t,i),[y,S]=Pw(),b=y.current,[T,A]=Pw(),x=T.current,M=Gx(d),I=w.useRef(null),N=w.useRef(!1),D=w.useContext(jr),L=w.useCallback((W,re,ie=re?.type)=>{m(W,{originalEvent:re,source:ie})},[m]),U=Lt((W,re)=>{n?.(W,re),L(!1,re,"select"),re.isPropagationStopped()||D?.(W,re)}),O=w.useMemo(()=>({toggle:L,placement:u,show:d,menuElement:b,toggleElement:x,setMenu:S,setToggle:A}),[L,u,d,b,x,S,A]);b&&M&&!d&&(N.current=b.contains(b.ownerDocument.activeElement));const q=Lt(()=>{x&&x.focus&&x.focus()}),J=Lt(()=>{const W=I.current;let re=a;if(re==null&&(re=y.current&&gR(y.current)?"keyboard":!1),re===!1||re==="keyboard"&&!/^key.+$/.test(W))return;const ie=io(y.current,r)[0];ie&&ie.focus&&ie.focus()});w.useEffect(()=>{d?J():N.current&&(N.current=!1,q())},[d,N,q,J]),w.useEffect(()=>{I.current=null});const j=(W,re)=>{if(!y.current)return null;const ie=io(y.current,r);let ae=ie.indexOf(W)+re;return ae=Math.max(0,Math.min(ae,ie.length)),ie[ae]};return GU(w.useCallback(()=>h.document,[h]),"keydown",W=>{var re,ie;const{key:ae}=W,de=W.target,F=(re=y.current)==null?void 0:re.contains(de),Q=(ie=T.current)==null?void 0:ie.contains(de);if(/input|textarea/i.test(de.tagName)&&(ae===" "||ae!=="Escape"&&F||ae==="Escape"&&de.type==="search")||!F&&!Q||ae==="Tab"&&(!y.current||!d))return;I.current=W.type;const ne={originalEvent:W,source:W.type};switch(ae){case"ArrowUp":{const ce=j(de,-1);ce&&ce.focus&&ce.focus(),W.preventDefault();return}case"ArrowDown":if(W.preventDefault(),!d)m(!0,ne);else{const ce=j(de,1);ce&&ce.focus&&ce.focus()}return;case"Tab":Bx(de.ownerDocument,"keyup",ce=>{var k;(ce.key==="Tab"&&!ce.target||!((k=y.current)!=null&&k.contains(ce.target)))&&m(!1,ne)},{once:!0});break;case"Escape":ae==="Escape"&&(W.preventDefault(),W.stopPropagation()),m(!1,ne);break}}),E.jsx(jr.Provider,{value:U,children:E.jsx(oh.Provider,{value:O,children:c})})}ku.displayName="Dropdown";ku.Menu=hR;ku.Toggle=yR;ku.Item=SR;const Dy=w.createContext({});Dy.displayName="DropdownContext";const ER=w.forwardRef(({className:t,bsPrefix:e,as:n="hr",role:i="separator",...r},a)=>(e=Ue(e,"dropdown-divider"),E.jsx(n,{ref:a,className:Ne(t,e),role:i,...r})));ER.displayName="DropdownDivider";const wR=w.forwardRef(({className:t,bsPrefix:e,as:n="div",role:i="heading",...r},a)=>(e=Ue(e,"dropdown-header"),E.jsx(n,{ref:a,className:Ne(t,e),role:i,...r})));wR.displayName="DropdownHeader";const CR=w.forwardRef(({bsPrefix:t,className:e,eventKey:n,disabled:i=!1,onClick:r,active:a,as:u=by,...c},h)=>{const d=Ue(t,"dropdown-item"),[m,y]=_R({key:n,href:c.href,disabled:i,onClick:r,active:a});return E.jsx(u,{...c,...m,ref:h,className:Ne(e,d,y.isActive&&"active",i&&"disabled")})});CR.displayName="DropdownItem";const TR=w.forwardRef(({className:t,bsPrefix:e,as:n="span",...i},r)=>(e=Ue(e,"dropdown-item-text"),E.jsx(n,{ref:r,className:Ne(t,e),...i})));TR.displayName="DropdownItemText";const FB=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",$B=typeof document<"u",AR=$B||FB?w.useLayoutEffect:w.useEffect,Oy=w.createContext(null);Oy.displayName="InputGroupContext";const is=w.createContext(null);is.displayName="NavbarContext";function xR(t,e){return t}function RR(t,e,n){const i=n?"top-end":"top-start",r=n?"top-start":"top-end",a=n?"bottom-end":"bottom-start",u=n?"bottom-start":"bottom-end",c=n?"right-start":"left-start",h=n?"right-end":"left-end",d=n?"left-start":"right-start",m=n?"left-end":"right-end";let y=t?u:a;return e==="up"?y=t?r:i:e==="end"?y=t?m:d:e==="start"?y=t?h:c:e==="down-centered"?y="bottom":e==="up-centered"&&(y="top"),y}const MR=w.forwardRef(({bsPrefix:t,className:e,align:n,rootCloseEvent:i,flip:r=!0,show:a,renderOnMount:u,as:c="div",popperConfig:h,variant:d,...m},y)=>{let S=!1;const b=w.useContext(is),T=Ue(t,"dropdown-menu"),{align:A,drop:x,isRTL:M}=w.useContext(Dy);n=n||A;const I=w.useContext(Oy),N=[];if(n)if(typeof n=="object"){const W=Object.keys(n);if(W.length){const re=W[0],ie=n[re];S=ie==="start",N.push(`${T}-${re}-${ie}`)}}else n==="end"&&(S=!0);const D=RR(S,x,M),[L,{hasShown:U,popper:O,show:q,toggle:J}]=dR({flip:r,rootCloseEvent:i,show:a,usePopper:!b&&N.length===0,offset:[0,2],popperConfig:h,placement:D});if(L.ref=vy(xR(y),L.ref),AR(()=>{q&&O?.update()},[q]),!U&&!u&&!I)return null;typeof c!="string"&&(L.show=q,L.close=()=>J?.(!1),L.align=n);let j=m.style;return O!=null&&O.placement&&(j={...m.style,...L.style},m["x-placement"]=O.placement),E.jsx(c,{...m,...L,style:j,...(N.length||b)&&{"data-bs-popper":"static"},className:Ne(e,T,q&&"show",S&&`${T}-end`,d&&`${T}-${d}`,...N)})});MR.displayName="DropdownMenu";const NR=w.forwardRef(({bsPrefix:t,split:e,className:n,childBsPrefix:i,as:r=zx,...a},u)=>{const c=Ue(t,"dropdown-toggle"),h=w.useContext(oh);i!==void 0&&(a.bsPrefix=i);const[d]=vR();return d.ref=vy(d.ref,xR(u)),E.jsx(r,{className:Ne(n,c,e&&`${c}-split`,h?.show&&"show"),...d,...a})});NR.displayName="DropdownToggle";const IR=w.forwardRef((t,e)=>{const{bsPrefix:n,drop:i="down",show:r,className:a,align:u="start",onSelect:c,onToggle:h,focusFirstItemOnShow:d,as:m="div",navbar:y,autoClose:S=!0,...b}=my(t,{show:"onToggle"}),T=w.useContext(Oy),A=Ue(n,"dropdown"),x=pU(),M=O=>S===!1?O==="click":S==="inside"?O!=="rootClose":S==="outside"?O!=="select":!0,I=Du((O,q)=>{var J;!((J=q.originalEvent)==null||(J=J.target)==null)&&J.classList.contains("dropdown-toggle")&&q.source==="mousedown"||(q.originalEvent.currentTarget===document&&(q.source!=="keydown"||q.originalEvent.key==="Escape")&&(q.source="rootClose"),M(q.source)&&h?.(O,q))}),D=RR(u==="end",i,x),L=w.useMemo(()=>({align:u,drop:i,isRTL:x}),[u,i,x]),U={down:A,"down-centered":`${A}-center`,up:"dropup","up-centered":"dropup-center dropup",end:"dropend",start:"dropstart"};return E.jsx(Dy.Provider,{value:L,children:E.jsx(ku,{placement:D,show:r,onSelect:c,onToggle:I,focusFirstItemOnShow:d,itemSelector:`.${A}-item:not(.disabled):not(:disabled)`,children:T?b.children:E.jsx(m,{...b,ref:e,className:Ne(a,r&&"show",U[i])})})})});IR.displayName="Dropdown";const wf=Object.assign(IR,{Toggle:NR,Menu:MR,Item:CR,ItemText:TR,Divider:ER,Header:wR}),kw=t=>!t||typeof t=="function"?t:e=>{t.current=e};function HB(t,e){const n=kw(t),i=kw(e);return r=>{n&&n(r),i&&i(r)}}function lh(t,e){return w.useMemo(()=>HB(t,e),[t,e])}const DR=w.createContext(null),GB=["as","active","eventKey"];function VB(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)>=0)continue;n[i]=t[i]}return n}function OR({key:t,onClick:e,active:n,id:i,role:r,disabled:a}){const u=w.useContext(jr),c=w.useContext(sh),h=w.useContext(DR);let d=n;const m={role:r};if(c){!r&&c.role==="tablist"&&(m.role="tab");const y=c.getControllerId(t??null),S=c.getControlledId(t??null);m[Ma("event-key")]=t,m.id=y||i,d=n==null&&t!=null?c.activeKey===t:n,(d||!(h!=null&&h.unmountOnExit)&&!(h!=null&&h.mountOnEnter))&&(m["aria-controls"]=S)}return m.role==="tab"&&(m["aria-selected"]=d,d||(m.tabIndex=-1),a&&(m.tabIndex=-1,m["aria-disabled"]=!0)),m.onClick=Lt(y=>{a||(e?.(y),t!=null&&u&&!y.isPropagationStopped()&&u(t,y))}),[m,{isActive:d}]}const PR=w.forwardRef((t,e)=>{let{as:n=Sy,active:i,eventKey:r}=t,a=VB(t,GB);const[u,c]=OR(Object.assign({key:fu(r,a.href),active:i},a));return u[Ma("active")]=c.isActive,E.jsx(n,Object.assign({},a,u,{ref:e}))});PR.displayName="NavItem";const zB=["as","onSelect","activeKey","role","onKeyDown"];function qB(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)>=0)continue;n[i]=t[i]}return n}const Lw=()=>{},Uw=Ma("event-key"),kR=w.forwardRef((t,e)=>{let{as:n="div",onSelect:i,activeKey:r,role:a,onKeyDown:u}=t,c=qB(t,zB);const h=nR(),d=w.useRef(!1),m=w.useContext(jr),y=w.useContext(DR);let S,b;y&&(a=a||"tablist",r=y.activeKey,S=y.getControlledId,b=y.getControllerId);const T=w.useRef(null),A=N=>{const D=T.current;if(!D)return null;const L=io(D,`[${Uw}]:not([aria-disabled=true])`),U=D.querySelector("[aria-selected=true]");if(!U||U!==document.activeElement)return null;const O=L.indexOf(U);if(O===-1)return null;let q=O+N;return q>=L.length&&(q=0),q<0&&(q=L.length-1),L[q]},x=(N,D)=>{N!=null&&(i?.(N,D),m?.(N,D))},M=N=>{if(u?.(N),!y)return;let D;switch(N.key){case"ArrowLeft":case"ArrowUp":D=A(-1);break;case"ArrowRight":case"ArrowDown":D=A(1);break;default:return}D&&(N.preventDefault(),x(D.dataset[LB("EventKey")]||null,N),d.current=!0,h())};w.useEffect(()=>{if(T.current&&d.current){const N=T.current.querySelector(`[${Uw}][aria-selected=true]`);N?.focus()}d.current=!1});const I=lh(e,T);return E.jsx(jr.Provider,{value:x,children:E.jsx(sh.Provider,{value:{role:a,activeKey:fu(r),getControlledId:S||Lw,getControllerId:b||Lw},children:E.jsx(n,Object.assign({},c,{onKeyDown:M,ref:I,role:a}))})})});kR.displayName="Nav";const JB=Object.assign(kR,{Item:PR});function yg(t){t===void 0&&(t=th());try{var e=t.activeElement;return!e||!e.nodeName?null:e}catch{return t.body}}function KB(t){const e=w.useRef(t);return e.current=t,e}function YB(t){const e=KB(t);w.useEffect(()=>()=>e.current(),[])}function jB(t=document){const e=t.defaultView;return Math.abs(e.innerWidth-t.documentElement.clientWidth)}const Bw=Ma("modal-open");class Py{constructor({ownerDocument:e,handleContainerOverflow:n=!0,isRTL:i=!1}={}){this.handleContainerOverflow=n,this.isRTL=i,this.modals=[],this.ownerDocument=e}getScrollbarWidth(){return jB(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes(e){}removeModalAttributes(e){}setContainerStyle(e){const n={overflow:"hidden"},i=this.isRTL?"paddingLeft":"paddingRight",r=this.getElement();e.style={overflow:r.style.overflow,[i]:r.style[i]},e.scrollBarWidth&&(n[i]=`${parseInt(uo(r,i)||"0",10)+e.scrollBarWidth}px`),r.setAttribute(Bw,""),uo(r,n)}reset(){[...this.modals].forEach(e=>this.remove(e))}removeContainerStyle(e){const n=this.getElement();n.removeAttribute(Bw),Object.assign(n.style,e.style)}add(e){let n=this.modals.indexOf(e);return n!==-1||(n=this.modals.length,this.modals.push(e),this.setModalAttributes(e),n!==0)||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),n}remove(e){const n=this.modals.indexOf(e);n!==-1&&(this.modals.splice(n,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(e))}isTopModal(e){return!!this.modals.length&&this.modals[this.modals.length-1]===e}}const _g=(t,e)=>nh?t==null?(e||th()).body:(typeof t=="function"&&(t=t()),t&&"current"in t&&(t=t.current),t&&("nodeType"in t||t.getBoundingClientRect)?t:null):null;function XB(t,e){const n=ah(),[i,r]=w.useState(()=>_g(t,n?.document));if(!i){const a=_g(t);a&&r(a)}return w.useEffect(()=>{},[e,i]),w.useEffect(()=>{const a=_g(t);a!==i&&r(a)},[t,i]),i}function WB({children:t,in:e,onExited:n,mountOnEnter:i,unmountOnExit:r}){const a=w.useRef(null),u=w.useRef(e),c=Lt(n);w.useEffect(()=>{e?u.current=!0:c(a.current)},[e,c]);const h=lh(a,Ra(t)),d=w.cloneElement(t,{ref:h});return e?d:r||!u.current&&i?null:d}const QB=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children"];function ZB(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)>=0)continue;n[i]=t[i]}return n}function eF(t){let{onEnter:e,onEntering:n,onEntered:i,onExit:r,onExiting:a,onExited:u,addEndListener:c,children:h}=t,d=ZB(t,QB);const m=w.useRef(null),y=lh(m,Ra(h)),S=D=>L=>{D&&m.current&&D(m.current,L)},b=w.useCallback(S(e),[e]),T=w.useCallback(S(n),[n]),A=w.useCallback(S(i),[i]),x=w.useCallback(S(r),[r]),M=w.useCallback(S(a),[a]),I=w.useCallback(S(u),[u]),N=w.useCallback(S(c),[c]);return Object.assign({},d,{nodeRef:m},e&&{onEnter:b},n&&{onEntering:T},i&&{onEntered:A},r&&{onExit:x},a&&{onExiting:M},u&&{onExited:I},c&&{addEndListener:N},{children:typeof h=="function"?(D,L)=>h(D,Object.assign({},L,{ref:y})):w.cloneElement(h,{ref:y})})}const tF=["component"];function nF(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)>=0)continue;n[i]=t[i]}return n}const iF=w.forwardRef((t,e)=>{let{component:n}=t,i=nF(t,tF);const r=eF(i);return E.jsx(n,Object.assign({ref:e},r))});function oF({in:t,onTransition:e}){const n=w.useRef(null),i=w.useRef(!0),r=Lt(e);return yw(()=>{if(!n.current)return;let a=!1;return r({in:t,element:n.current,initial:i.current,isStale:()=>a}),()=>{a=!0}},[t,r]),yw(()=>(i.current=!1,()=>{i.current=!0}),[]),n}function rF({children:t,in:e,onExited:n,onEntered:i,transition:r}){const[a,u]=w.useState(!e);e&&a&&u(!1);const c=oF({in:!!e,onTransition:d=>{const m=()=>{d.isStale()||(d.in?i?.(d.element,d.initial):(u(!0),n?.(d.element)))};Promise.resolve(r(d)).then(m,y=>{throw d.in||u(!0),y})}}),h=lh(c,Ra(t));return a&&!e?null:w.cloneElement(t,{ref:h})}function Fw(t,e,n){return t?E.jsx(iF,Object.assign({},n,{component:t})):e?E.jsx(rF,Object.assign({},n,{transition:e})):E.jsx(WB,Object.assign({},n))}const sF=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];function aF(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)>=0)continue;n[i]=t[i]}return n}let Sg;function lF(t){return Sg||(Sg=new Py({ownerDocument:t?.document})),Sg}function uF(t){const e=ah(),n=t||lF(e),i=w.useRef({dialog:null,backdrop:null});return Object.assign(i.current,{add:()=>n.add(i.current),remove:()=>n.remove(i.current),isTopModal:()=>n.isTopModal(i.current),setDialogRef:w.useCallback(r=>{i.current.dialog=r},[]),setBackdropRef:w.useCallback(r=>{i.current.backdrop=r},[])})}const LR=w.forwardRef((t,e)=>{let{show:n=!1,role:i="dialog",className:r,style:a,children:u,backdrop:c=!0,keyboard:h=!0,onBackdropClick:d,onEscapeKeyDown:m,transition:y,runTransition:S,backdropTransition:b,runBackdropTransition:T,autoFocus:A=!0,enforceFocus:x=!0,restoreFocus:M=!0,restoreFocusOptions:I,renderDialog:N,renderBackdrop:D=Ze=>E.jsx("div",Object.assign({},Ze)),manager:L,container:U,onShow:O,onHide:q=()=>{},onExit:J,onExited:j,onExiting:W,onEnter:re,onEntering:ie,onEntered:ae}=t,de=aF(t,sF);const F=ah(),Q=XB(U),ee=uF(L),ne=Hx(),ce=Gx(n),[k,Y]=w.useState(!n),se=w.useRef(null);w.useImperativeHandle(e,()=>ee,[ee]),nh&&!ce&&n&&(se.current=yg(F?.document)),n&&k&&Y(!1);const le=Lt(()=>{if(ee.add(),rn.current=er(document,"keydown",ze),qe.current=er(document,"focus",()=>setTimeout(be),!0),O&&O(),A){var Ze,Li;const bo=yg((Ze=(Li=ee.dialog)==null?void 0:Li.ownerDocument)!=null?Ze:F?.document);ee.dialog&&bo&&!bd(ee.dialog,bo)&&(se.current=bo,ee.dialog.focus())}}),me=Lt(()=>{if(ee.remove(),rn.current==null||rn.current(),qe.current==null||qe.current(),M){var Ze;(Ze=se.current)==null||Ze.focus==null||Ze.focus(I),se.current=null}});w.useEffect(()=>{!n||!Q||le()},[n,Q,le]),w.useEffect(()=>{k&&me()},[k,me]),YB(()=>{me()});const be=Lt(()=>{if(!x||!ne()||!ee.isTopModal())return;const Ze=yg(F?.document);ee.dialog&&Ze&&!bd(ee.dialog,Ze)&&ee.dialog.focus()}),ve=Lt(Ze=>{Ze.target===Ze.currentTarget&&(d?.(Ze),c===!0&&q())}),ze=Lt(Ze=>{h&&xU(Ze)&&ee.isTopModal()&&(m?.(Ze),Ze.defaultPrevented||q())}),qe=w.useRef(),rn=w.useRef(),Cn=(...Ze)=>{Y(!0),j?.(...Ze)};if(!Q)return null;const di=Object.assign({role:i,ref:ee.setDialogRef,"aria-modal":i==="dialog"?!0:void 0},de,{style:a,className:r,tabIndex:-1});let qt=N?N(di):E.jsx("div",Object.assign({},di,{children:w.cloneElement(u,{role:"document"})}));qt=Fw(y,S,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!n,onExit:J,onExiting:W,onExited:Cn,onEnter:re,onEntering:ie,onEntered:ae,children:qt});let Jt=null;return c&&(Jt=D({ref:ee.setBackdropRef,onClick:ve}),Jt=Fw(b,T,{in:!!n,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:Jt})),E.jsx(E.Fragment,{children:Br.createPortal(E.jsxs(E.Fragment,{children:[Jt,qt]}),Q)})});LR.displayName="Modal";const cF=Object.assign(LR,{Manager:Py});function fF(t,e){return t.classList?t.classList.contains(e):(" "+(t.className.baseVal||t.className)+" ").indexOf(" "+e+" ")!==-1}function dF(t,e){t.classList?t.classList.add(e):fF(t,e)||(typeof t.className=="string"?t.className=t.className+" "+e:t.setAttribute("class",(t.className&&t.className.baseVal||"")+" "+e))}function $w(t,e){return t.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function hF(t,e){t.classList?t.classList.remove(e):typeof t.className=="string"?t.className=$w(t.className,e):t.setAttribute("class",$w(t.className&&t.className.baseVal||"",e))}const Js={FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top",NAVBAR_TOGGLER:".navbar-toggler"};class UR extends Py{adjustAndStore(e,n,i){const r=n.style[e];n.dataset[e]=r,uo(n,{[e]:`${parseFloat(uo(n,e))+i}px`})}restore(e,n){const i=n.dataset[e];i!==void 0&&(delete n.dataset[e],uo(n,{[e]:i}))}setContainerStyle(e){super.setContainerStyle(e);const n=this.getElement();if(dF(n,"modal-open"),!e.scrollBarWidth)return;const i=this.isRTL?"paddingLeft":"paddingRight",r=this.isRTL?"marginLeft":"marginRight";io(n,Js.FIXED_CONTENT).forEach(a=>this.adjustAndStore(i,a,e.scrollBarWidth)),io(n,Js.STICKY_CONTENT).forEach(a=>this.adjustAndStore(r,a,-e.scrollBarWidth)),io(n,Js.NAVBAR_TOGGLER).forEach(a=>this.adjustAndStore(r,a,e.scrollBarWidth))}removeContainerStyle(e){super.removeContainerStyle(e);const n=this.getElement();hF(n,"modal-open");const i=this.isRTL?"paddingLeft":"paddingRight",r=this.isRTL?"marginLeft":"marginRight";io(n,Js.FIXED_CONTENT).forEach(a=>this.restore(i,a)),io(n,Js.STICKY_CONTENT).forEach(a=>this.restore(r,a)),io(n,Js.NAVBAR_TOGGLER).forEach(a=>this.restore(r,a))}}let bg;function pF(t){return bg||(bg=new UR(t)),bg}const BR=w.createContext({onHide(){}}),FR=w.forwardRef(({closeLabel:t="Close",closeVariant:e,closeButton:n=!1,onHide:i,children:r,...a},u)=>{const c=w.useContext(BR),h=Du(()=>{c?.onHide(),i?.()});return E.jsxs("div",{ref:u,...a,children:[r,n&&E.jsx(Ey,{"aria-label":t,variant:e,onClick:h})]})});FR.displayName="AbstractModalHeader";const $R=w.forwardRef(({className:t,bsPrefix:e,as:n="div",...i},r)=>(e=Ue(e,"nav-item"),E.jsx(n,{ref:r,className:Ne(t,e),...i})));$R.displayName="NavItem";const HR=w.forwardRef(({bsPrefix:t,className:e,as:n=by,active:i,eventKey:r,disabled:a=!1,...u},c)=>{t=Ue(t,"nav-link");const[h,d]=OR({key:fu(r,u.href),active:i,disabled:a,...u});return E.jsx(n,{...u,...h,ref:c,disabled:a,className:Ne(e,t,a&&"disabled",d.isActive&&"active")})});HR.displayName="NavLink";const GR=w.forwardRef((t,e)=>{const{as:n="div",bsPrefix:i,variant:r,fill:a=!1,justify:u=!1,navbar:c,navbarScroll:h,className:d,activeKey:m,...y}=my(t,{activeKey:"onSelect"}),S=Ue(i,"nav");let b,T,A=!1;const x=w.useContext(is),M=w.useContext(Cy);return x?(b=x.bsPrefix,A=c??!0):M&&({cardHeaderBsPrefix:T}=M),E.jsx(JB,{as:n,ref:e,activeKey:m,className:Ne(d,{[S]:!A,[`${b}-nav`]:A,[`${b}-nav-scroll`]:A&&h,[`${T}-${r}`]:!!T,[`${S}-${r}`]:!!r,[`${S}-fill`]:a,[`${S}-justified`]:u}),...y})});GR.displayName="Nav";const mF=Object.assign(GR,{Item:$R,Link:HR}),VR=w.forwardRef(({bsPrefix:t,className:e,as:n,...i},r)=>{t=Ue(t,"navbar-brand");const a=n||(i.href?"a":"span");return E.jsx(a,{...i,ref:r,className:Ne(e,t)})});VR.displayName="NavbarBrand";const zR=w.forwardRef(({children:t,bsPrefix:e,...n},i)=>{e=Ue(e,"navbar-collapse");const r=w.useContext(is);return E.jsx($x,{in:!!(r&&r.expanded),...n,children:E.jsx("div",{ref:i,className:e,children:t})})});zR.displayName="NavbarCollapse";const qR=w.forwardRef(({bsPrefix:t,className:e,children:n,label:i="Toggle navigation",as:r="button",onClick:a,...u},c)=>{t=Ue(t,"navbar-toggler");const{onToggle:h,expanded:d}=w.useContext(is)||{},m=Du(y=>{a&&a(y),h&&h()});return r==="button"&&(u.type="button"),E.jsx(r,{...u,ref:c,onClick:m,"aria-label":i,className:Ne(e,t,!d&&"collapsed"),children:n||E.jsx("span",{className:`${t}-icon`})})});qR.displayName="NavbarToggle";const gv=new WeakMap,Hw=(t,e)=>{if(!t||!e)return;const n=gv.get(e)||new Map;gv.set(e,n);let i=n.get(t);return i||(i=e.matchMedia(t),i.refCount=0,n.set(i.media,i)),i};function gF(t,e=typeof window>"u"?void 0:window){const n=Hw(t,e),[i,r]=w.useState(()=>n?n.matches:!1);return AR(()=>{let a=Hw(t,e);if(!a)return r(!1);let u=gv.get(e);const c=()=>{r(a.matches)};return a.refCount++,a.addListener(c),c(),()=>{a.removeListener(c),a.refCount--,a.refCount<=0&&u?.delete(a.media),a=void 0}},[t]),i}function vF(t){const e=Object.keys(t);function n(c,h){return c===h?h:c?`${c} and ${h}`:h}function i(c){return e[Math.min(e.indexOf(c)+1,e.length-1)]}function r(c){const h=i(c);let d=t[h];return typeof d=="number"?d=`${d-.2}px`:d=`calc(${d} - 0.2px)`,`(max-width: ${d})`}function a(c){let h=t[c];return typeof h=="number"&&(h=`${h}px`),`(min-width: ${h})`}function u(c,h,d){let m;typeof c=="object"?(m=c,d=h,h=!0):(h=h||!0,m={[c]:h});let y=w.useMemo(()=>Object.entries(m).reduce((S,[b,T])=>((T==="up"||T===!0)&&(S=n(S,a(b))),(T==="down"||T===!0)&&(S=n(S,r(b))),S),""),[JSON.stringify(m)]);return gF(y,d)}return u}const yF=vF({xs:0,sm:576,md:768,lg:992,xl:1200,xxl:1400}),JR=w.forwardRef(({className:t,bsPrefix:e,as:n="div",...i},r)=>(e=Ue(e,"offcanvas-body"),E.jsx(n,{ref:r,className:Ne(t,e),...i})));JR.displayName="OffcanvasBody";const _F={[Zn]:"show",[so]:"show"},KR=w.forwardRef(({bsPrefix:t,className:e,children:n,in:i=!1,mountOnEnter:r=!1,unmountOnExit:a=!1,appear:u=!1,...c},h)=>(t=Ue(t,"offcanvas"),E.jsx(ih,{ref:h,addEndListener:gy,in:i,mountOnEnter:r,unmountOnExit:a,appear:u,...c,childRef:Ra(n),children:(d,m)=>w.cloneElement(n,{...m,className:Ne(e,n.props.className,(d===Zn||d===lu)&&`${t}-toggling`,_F[d])})})));KR.displayName="OffcanvasToggling";const YR=w.forwardRef(({bsPrefix:t,className:e,closeLabel:n="Close",closeButton:i=!1,...r},a)=>(t=Ue(t,"offcanvas-header"),E.jsx(FR,{ref:a,...r,className:Ne(e,t),closeLabel:n,closeButton:i})));YR.displayName="OffcanvasHeader";const SF=yy("h5"),jR=w.forwardRef(({className:t,bsPrefix:e,as:n=SF,...i},r)=>(e=Ue(e,"offcanvas-title"),E.jsx(n,{ref:r,className:Ne(t,e),...i})));jR.displayName="OffcanvasTitle";function bF(t){return E.jsx(KR,{...t})}function EF(t){return E.jsx(Vx,{...t})}const XR=w.forwardRef(({bsPrefix:t,className:e,children:n,"aria-labelledby":i,placement:r="start",responsive:a,show:u=!1,backdrop:c=!0,keyboard:h=!0,scroll:d=!1,onEscapeKeyDown:m,onShow:y,onHide:S,container:b,autoFocus:T=!0,enforceFocus:A=!0,restoreFocus:x=!0,restoreFocusOptions:M,onEntered:I,onExit:N,onExiting:D,onEnter:L,onEntering:U,onExited:O,backdropClassName:q,manager:J,renderStaticNode:j=!1,...W},re)=>{const ie=w.useRef();t=Ue(t,"offcanvas");const[ae,de]=w.useState(!1),F=Du(S),Q=yF(a||"xs","up");w.useEffect(()=>{de(a?u&&!Q:u)},[u,a,Q]);const ee=w.useMemo(()=>({onHide:F}),[F]);function ne(){return J||(d?(ie.current||(ie.current=new UR({handleContainerOverflow:!1})),ie.current):pF())}const ce=(le,...me)=>{le&&(le.style.visibility="visible"),L?.(le,...me)},k=(le,...me)=>{le&&(le.style.visibility=""),O?.(...me)},Y=w.useCallback(le=>E.jsx("div",{...le,className:Ne(`${t}-backdrop`,q)}),[q,t]),se=le=>E.jsx("div",{...le,...W,className:Ne(e,a?`${t}-${a}`:t,`${t}-${r}`),"aria-labelledby":i,children:n});return E.jsxs(E.Fragment,{children:[!ae&&(a||j)&&se({}),E.jsx(BR.Provider,{value:ee,children:E.jsx(cF,{show:ae,ref:re,backdrop:c,container:b,keyboard:h,autoFocus:T,enforceFocus:A&&!d,restoreFocus:x,restoreFocusOptions:M,onEscapeKeyDown:m,onShow:y,onHide:F,onEnter:ce,onEntering:U,onEntered:I,onExit:N,onExiting:D,onExited:k,manager:ne(),transition:bF,backdropTransition:EF,renderBackdrop:Y,renderDialog:se})})]})});XR.displayName="Offcanvas";const wF=Object.assign(XR,{Body:JR,Header:YR,Title:jR}),WR=w.forwardRef(({onHide:t,...e},n)=>{const i=w.useContext(is),r=Du(()=>{i==null||i.onToggle==null||i.onToggle(),t?.()});return E.jsx(wF,{ref:n,show:!!(i!=null&&i.expanded),...e,renderStaticNode:!0,onHide:r})});WR.displayName="NavbarOffcanvas";const QR=w.forwardRef(({className:t,bsPrefix:e,as:n="span",...i},r)=>(e=Ue(e,"navbar-text"),E.jsx(n,{ref:r,className:Ne(t,e),...i})));QR.displayName="NavbarText";const ZR=w.forwardRef((t,e)=>{const{bsPrefix:n,expand:i=!0,variant:r="light",bg:a,fixed:u,sticky:c,className:h,as:d="nav",expanded:m,onToggle:y,onSelect:S,collapseOnSelect:b=!1,...T}=my(t,{expanded:"onToggle"}),A=Ue(n,"navbar"),x=w.useCallback((...N)=>{S?.(...N),b&&m&&y?.(!1)},[S,b,m,y]);T.role===void 0&&d!=="nav"&&(T.role="navigation");let M=`${A}-expand`;typeof i=="string"&&(M=`${M}-${i}`);const I=w.useMemo(()=>({onToggle:()=>y?.(!m),bsPrefix:A,expanded:!!m,expand:i}),[A,m,i,y]);return E.jsx(is.Provider,{value:I,children:E.jsx(jr.Provider,{value:x,children:E.jsx(d,{ref:e,...T,className:Ne(h,A,i&&M,r&&`${A}-${r}`,a&&`bg-${a}`,c&&`sticky-${c}`,u&&`fixed-${u}`)})})})});ZR.displayName="Navbar";const Gw=Object.assign(ZR,{Brand:VR,Collapse:zR,Offcanvas:WR,Text:QR,Toggle:qR}),eM=w.forwardRef(({bsPrefix:t,className:e,as:n="div",...i},r)=>{const a=Ue(t,"row"),u=kx(),c=Lx(),h=`${a}-cols`,d=[];return u.forEach(m=>{const y=i[m];delete i[m];let S;y!=null&&typeof y=="object"?{cols:S}=y:S=y;const b=m!==c?`-${m}`:"";S!=null&&d.push(`${h}${b}-${S}`)}),E.jsx(n,{ref:r,...i,className:Ne(e,a,...d)})});eM.displayName="Row";const tM=w.forwardRef(({bsPrefix:t,variant:e,animation:n="border",size:i,as:r="div",className:a,...u},c)=>{t=Ue(t,"spinner");const h=`${t}-${n}`;return E.jsx(r,{ref:c,...u,className:Ne(a,h,i&&`${h}-${i}`,e&&`text-${e}`)})});tM.displayName="Spinner";const nM=({name:t,onClick:e,subItems:n})=>{const[i,r]=w.useState(!1);return E.jsxs("div",{onMouseEnter:()=>r(!0),onMouseLeave:()=>r(!1),style:{position:"relative"},children:[E.jsxs("div",{className:"dropdown-item d-flex justify-content-between",style:{cursor:"pointer"},onClick:e,children:[t," ",n?E.jsx("span",{children:""}):null]}),n&&i&&E.jsx("div",{className:"dropdown-menu show",style:{position:"absolute",top:0,left:"100%",minWidth:"180px",zIndex:1e3},children:n.map((a,u)=>E.jsx(nM,{name:a.name,onClick:a.onClick,subItems:a.subItems},u))})]})},Ks=({title:t,items:e,onClick:n})=>{const[i,r]=w.useState(!1),a=e&&e.length>0;return E.jsxs("div",{className:"nav-item dropdown",onMouseEnter:()=>r(!0),onMouseLeave:()=>r(!1),style:{position:"relative"},children:[E.jsx("span",{className:"nav-link dropdown-toggle",style:{cursor:a||n?"pointer":"default"},onClick:()=>{n&&n()},children:t}),i&&a&&E.jsx("div",{className:"dropdown-menu show",style:{minWidth:"180px"},children:e.map((u,c)=>E.jsx(nM,{...u},c))})]})};class Xr{fileHandle;data;constructor(e,n){this.fileHandle=e,this.data=Ct(n),Oi(this)}static async create(e,n,i={}){try{const r=await e.getFileHandle(n,{create:!0}),u=await(await r.getFile()).text(),c=u.trim()===""?{...i}:{...i,...JSON.parse(u)};return new Xr(r,c)}catch(r){console.error("Error loading JSON:",r);const a=await e.getFileHandle(n,{create:!0});return new Xr(a,{...i})}}async save(){try{let e=await this.fileHandle.queryPermission({mode:"readwrite"});if(e!=="granted"&&(e=await this.fileHandle.requestPermission({mode:"readwrite"})),e!=="granted")throw new Error("No permission to write file");const n=await this.fileHandle.createWritable();await n.write(JSON.stringify(this.data,null,2)),await n.close()}catch(e){console.error("Error saving JSON:",e)}}async updateField(e,n,i=!0){Ae(()=>{const r=e.split("/").filter(Boolean);let a=this.data;for(let u=0;u<r.length;u++){const c=r[u];u===r.length-1?a[c]=n:((a[c]===void 0||a[c]===null||typeof a[c]!="object")&&(a[c]={}),a=a[c])}}),i&&await this.save()}getField(e){const n=e.split("/").filter(Boolean);let i=this.data;for(const r of n){if(i==null||typeof i!="object")return;i=i[r]}return i}}class Mi{handle;parent;urlObject=null;base64Data=null;path="";constructor(e,n,i=""){this.handle=e,this.parent=n,this.path=i+"/"+e.name}async getUrlObject(){if(!this.urlObject)try{const e=await this.handle.getFile();this.urlObject=URL.createObjectURL(e)}catch(e){console.error("Failed to create object URL for file:",e),this.urlObject=""}return this.urlObject}revokeUrl(){this.urlObject&&(URL.revokeObjectURL(this.urlObject),this.urlObject=null)}static async fromUrl(e,n){try{const i=await fetch(e);if(!i.ok)throw new Error(`Failed to fetch image: ${i.statusText}`);const r=await i.blob(),a=e.split("/");let u=a[a.length-1];const c=await n.getFileHandle(u,{create:!0}),h=await c.createWritable();return await h.write(r),await h.close(),new Mi(c,n)}catch(i){throw console.error("Failed to create LocalImage from URL:",i),i}}async delete(){try{this.revokeUrl(),await this.parent.removeEntry(this.handle.name)}catch(e){throw console.error("Failed to delete image file:",e),e}}async getBase64(){if(this.base64Data)return this.base64Data;try{const e=await this.handle.getFile(),n=await e.arrayBuffer(),i=e.type||"image/png",r=CF(n);return this.base64Data={rawBase64:r,mime:i},this.base64Data}catch(e){return console.error("Failed to create Base64 from file:",e),{rawBase64:"",mime:"image/png"}}}static async fromBase64(e,n,i){try{let r=e.rawBase64;const a=`data:${e.mime};base64,`;r.startsWith(a)&&(r=r.slice(a.length));const u=atob(r),c=u.length,h=new Uint8Array(c);for(let S=0;S<c;S++)h[S]=u.charCodeAt(S);const d=await n.getFileHandle(i,{create:!0}),m=await d.createWritable();await m.write(h),await m.close();const y=new Mi(d,n);return y.base64Data=e,y}catch(r){throw console.error("Failed to create LocalImage from Base64:",r),r}}}function CF(t){let e="";const n=new Uint8Array(t),i=n.byteLength;for(let r=0;r<i;r++)e+=String.fromCharCode(n[r]);return btoa(e)}var TF={};let AF,xF;function RF(){return{geminiUrl:AF,vertexUrl:xF}}function MF(t,e,n,i){var r,a;if(!t?.baseUrl){const u=RF();return e?(r=u.vertexUrl)!==null&&r!==void 0?r:n:(a=u.geminiUrl)!==null&&a!==void 0?a:i}return t.baseUrl}class _o{}function fe(t,e){const n=/\{([^}]+)\}/g;return t.replace(n,(i,r)=>{if(Object.prototype.hasOwnProperty.call(e,r)){const a=e[r];return a!=null?String(a):""}else throw new Error(`Key '${r}' not found in valueMap.`)})}function g(t,e,n){for(let a=0;a<e.length-1;a++){const u=e[a];if(u.endsWith("[]")){const c=u.slice(0,-2);if(!(c in t))if(Array.isArray(n))t[c]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${u}`);if(Array.isArray(t[c])){const h=t[c];if(Array.isArray(n))for(let d=0;d<h.length;d++){const m=h[d];g(m,e.slice(a+1),n[d])}else for(const d of h)g(d,e.slice(a+1),n)}return}else if(u.endsWith("[0]")){const c=u.slice(0,-3);c in t||(t[c]=[{}]);const h=t[c];g(h[0],e.slice(a+1),n);return}(!t[u]||typeof t[u]!="object")&&(t[u]={}),t=t[u]}const i=e[e.length-1],r=t[i];if(r!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===r)return;if(typeof r=="object"&&typeof n=="object"&&r!==null&&n!==null)Object.assign(r,n);else throw new Error(`Cannot set value for an existing key. Key: ${i}`)}else i==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(t,n):t[i]=n}function p(t,e,n=void 0){try{if(e.length===1&&e[0]==="_self")return t;for(let i=0;i<e.length;i++){if(typeof t!="object"||t===null)return n;const r=e[i];if(r.endsWith("[]")){const a=r.slice(0,-2);if(a in t){const u=t[a];return Array.isArray(u)?u.map(c=>p(c,e.slice(i+1),n)):n}else return n}else t=t[r]}return t}catch(i){if(i instanceof TypeError)return n;throw i}}function NF(t,e){for(const[n,i]of Object.entries(e)){const r=n.split("."),a=i.split("."),u=new Set;let c=-1;for(let h=0;h<r.length;h++)if(r[h]==="*"){c=h;break}if(c!==-1&&a.length>c)for(let h=c;h<a.length;h++){const d=a[h];d!=="*"&&!d.endsWith("[]")&&!d.endsWith("[0]")&&u.add(d)}vv(t,r,a,0,u)}}function vv(t,e,n,i,r){if(i>=e.length||typeof t!="object"||t===null)return;const a=e[i];if(a.endsWith("[]")){const u=a.slice(0,-2),c=t;if(u in c&&Array.isArray(c[u]))for(const h of c[u])vv(h,e,n,i+1,r)}else if(a==="*"){if(typeof t=="object"&&t!==null&&!Array.isArray(t)){const u=t,c=Object.keys(u).filter(d=>!d.startsWith("_")&&!r.has(d)),h={};for(const d of c)h[d]=u[d];for(const[d,m]of Object.entries(h)){const y=[];for(const S of n.slice(i))S==="*"?y.push(d):y.push(S);g(u,y,m)}for(const d of c)delete u[d]}}else{const u=t;a in u&&vv(u[a],e,n,i+1,r)}}function ky(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}function IF(t){const e={},n=p(t,["operationName"]);n!=null&&g(e,["operationName"],n);const i=p(t,["resourceName"]);return i!=null&&g(e,["_url","resourceName"],i),e}function DF(t){const e={},n=p(t,["name"]);n!=null&&g(e,["name"],n);const i=p(t,["metadata"]);i!=null&&g(e,["metadata"],i);const r=p(t,["done"]);r!=null&&g(e,["done"],r);const a=p(t,["error"]);a!=null&&g(e,["error"],a);const u=p(t,["response","generateVideoResponse"]);return u!=null&&g(e,["response"],PF(u)),e}function OF(t){const e={},n=p(t,["name"]);n!=null&&g(e,["name"],n);const i=p(t,["metadata"]);i!=null&&g(e,["metadata"],i);const r=p(t,["done"]);r!=null&&g(e,["done"],r);const a=p(t,["error"]);a!=null&&g(e,["error"],a);const u=p(t,["response"]);return u!=null&&g(e,["response"],kF(u)),e}function PF(t){const e={},n=p(t,["generatedSamples"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(u=>LF(u))),g(e,["generatedVideos"],a)}const i=p(t,["raiMediaFilteredCount"]);i!=null&&g(e,["raiMediaFilteredCount"],i);const r=p(t,["raiMediaFilteredReasons"]);return r!=null&&g(e,["raiMediaFilteredReasons"],r),e}function kF(t){const e={},n=p(t,["videos"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(u=>UF(u))),g(e,["generatedVideos"],a)}const i=p(t,["raiMediaFilteredCount"]);i!=null&&g(e,["raiMediaFilteredCount"],i);const r=p(t,["raiMediaFilteredReasons"]);return r!=null&&g(e,["raiMediaFilteredReasons"],r),e}function LF(t){const e={},n=p(t,["video"]);return n!=null&&g(e,["video"],VF(n)),e}function UF(t){const e={},n=p(t,["_self"]);return n!=null&&g(e,["video"],zF(n)),e}function BF(t){const e={},n=p(t,["operationName"]);return n!=null&&g(e,["_url","operationName"],n),e}function FF(t){const e={},n=p(t,["operationName"]);return n!=null&&g(e,["_url","operationName"],n),e}function $F(t){const e={},n=p(t,["name"]);n!=null&&g(e,["name"],n);const i=p(t,["metadata"]);i!=null&&g(e,["metadata"],i);const r=p(t,["done"]);r!=null&&g(e,["done"],r);const a=p(t,["error"]);a!=null&&g(e,["error"],a);const u=p(t,["response"]);return u!=null&&g(e,["response"],HF(u)),e}function HF(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const i=p(t,["parent"]);i!=null&&g(e,["parent"],i);const r=p(t,["documentName"]);return r!=null&&g(e,["documentName"],r),e}function iM(t){const e={},n=p(t,["name"]);n!=null&&g(e,["name"],n);const i=p(t,["metadata"]);i!=null&&g(e,["metadata"],i);const r=p(t,["done"]);r!=null&&g(e,["done"],r);const a=p(t,["error"]);a!=null&&g(e,["error"],a);const u=p(t,["response"]);return u!=null&&g(e,["response"],GF(u)),e}function GF(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const i=p(t,["parent"]);i!=null&&g(e,["parent"],i);const r=p(t,["documentName"]);return r!=null&&g(e,["documentName"],r),e}function VF(t){const e={},n=p(t,["uri"]);n!=null&&g(e,["uri"],n);const i=p(t,["encodedVideo"]);i!=null&&g(e,["videoBytes"],ky(i));const r=p(t,["encoding"]);return r!=null&&g(e,["mimeType"],r),e}function zF(t){const e={},n=p(t,["gcsUri"]);n!=null&&g(e,["uri"],n);const i=p(t,["bytesBase64Encoded"]);i!=null&&g(e,["videoBytes"],ky(i));const r=p(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}var Vw;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(Vw||(Vw={}));var zw;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(zw||(zw={}));var qw;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(qw||(qw={}));var tr;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(tr||(tr={}));var Jw;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(Jw||(Jw={}));var Kw;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(Kw||(Kw={}));var Yw;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(Yw||(Yw={}));var jw;(function(t){t.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",t.HTTP_IN_QUERY="HTTP_IN_QUERY",t.HTTP_IN_HEADER="HTTP_IN_HEADER",t.HTTP_IN_PATH="HTTP_IN_PATH",t.HTTP_IN_BODY="HTTP_IN_BODY",t.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(jw||(jw={}));var Xw;(function(t){t.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",t.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",t.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",t.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(Xw||(Xw={}));var Ww;(function(t){t.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",t.LOW="LOW",t.HIGH="HIGH"})(Ww||(Ww={}));var Qw;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(Qw||(Qw={}));var Zw;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(Zw||(Zw={}));var eC;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(eC||(eC={}));var tC;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",t.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",t.NO_IMAGE="NO_IMAGE",t.IMAGE_RECITATION="IMAGE_RECITATION",t.IMAGE_OTHER="IMAGE_OTHER"})(tC||(tC={}));var nC;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(nC||(nC={}));var iC;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(iC||(iC={}));var oC;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",t.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",t.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(oC||(oC={}));var rC;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY",t.MODEL_ARMOR="MODEL_ARMOR",t.JAILBREAK="JAILBREAK"})(rC||(rC={}));var sC;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(sC||(sC={}));var Ed;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(Ed||(Ed={}));var aC;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(aC||(aC={}));var lC;(function(t){t.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",t.TUNING_MODE_FULL="TUNING_MODE_FULL",t.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(lC||(lC={}));var uC;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(uC||(uC={}));var yv;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(yv||(yv={}));var cC;(function(t){t.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",t.TUNING_TASK_I2V="TUNING_TASK_I2V",t.TUNING_TASK_T2V="TUNING_TASK_T2V",t.TUNING_TASK_R2V="TUNING_TASK_R2V"})(cC||(cC={}));var fC;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(fC||(fC={}));var dC;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(dC||(dC={}));var hC;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(hC||(hC={}));var pC;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(pC||(pC={}));var mC;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(mC||(mC={}));var gC;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE",t.VALIDATED="VALIDATED"})(gC||(gC={}));var vC;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(vC||(vC={}));var yC;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(yC||(yC={}));var _C;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(_C||(_C={}));var SC;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(SC||(SC={}));var bC;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(bC||(bC={}));var EC;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(EC||(EC={}));var wC;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(wC||(wC={}));var CC;(function(t){t.FOREGROUND="FOREGROUND",t.BACKGROUND="BACKGROUND",t.PROMPT="PROMPT",t.SEMANTIC="SEMANTIC",t.INTERACTIVE="INTERACTIVE"})(CC||(CC={}));var TC;(function(t){t.ASSET="ASSET",t.STYLE="STYLE"})(TC||(TC={}));var AC;(function(t){t.INSERT="INSERT",t.REMOVE="REMOVE",t.REMOVE_STATIC="REMOVE_STATIC",t.OUTPAINT="OUTPAINT"})(AC||(AC={}));var xC;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(xC||(xC={}));var RC;(function(t){t.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",t.PREFERENCE_TUNING="PREFERENCE_TUNING"})(RC||(RC={}));var MC;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.STATE_PENDING="STATE_PENDING",t.STATE_ACTIVE="STATE_ACTIVE",t.STATE_FAILED="STATE_FAILED"})(MC||(MC={}));var NC;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(NC||(NC={}));var IC;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED"})(IC||(IC={}));var DC;(function(t){t.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.RESPONSE_REJECTED="RESPONSE_REJECTED",t.NEED_MORE_INPUT="NEED_MORE_INPUT"})(DC||(DC={}));var OC;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(OC||(OC={}));var PC;(function(t){t.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",t.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",t.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(PC||(PC={}));var kC;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(kC||(kC={}));var LC;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(LC||(LC={}));var UC;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(UC||(UC={}));var BC;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(BC||(BC={}));var FC;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(FC||(FC={}));var $C;(function(t){t.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",t.QUALITY="QUALITY",t.DIVERSITY="DIVERSITY",t.VOCALIZATION="VOCALIZATION"})($C||($C={}));var la;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(la||(la={}));class _v{constructor(e){const n={};for(const i of e.headers.entries())n[i[0]]=i[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class Ul{get text(){var e,n,i,r,a,u,c,h;if(((r=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let d="",m=!1;const y=[];for(const S of(h=(c=(u=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||u===void 0?void 0:u.content)===null||c===void 0?void 0:c.parts)!==null&&h!==void 0?h:[]){for(const[b,T]of Object.entries(S))b!=="text"&&b!=="thought"&&b!=="thoughtSignature"&&(T!==null||T!==void 0)&&y.push(b);if(typeof S.text=="string"){if(typeof S.thought=="boolean"&&S.thought)continue;m=!0,d+=S.text}}return y.length>0&&console.warn(`there are non-text parts ${y} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),m?d:void 0}get data(){var e,n,i,r,a,u,c,h;if(((r=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let d="";const m=[];for(const y of(h=(c=(u=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||u===void 0?void 0:u.content)===null||c===void 0?void 0:c.parts)!==null&&h!==void 0?h:[]){for(const[S,b]of Object.entries(y))S!=="inlineData"&&(b!==null||b!==void 0)&&m.push(S);y.inlineData&&typeof y.inlineData.data=="string"&&(d+=atob(y.inlineData.data))}return m.length>0&&console.warn(`there are non-data parts ${m} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),d.length>0?btoa(d):void 0}get functionCalls(){var e,n,i,r,a,u,c,h;if(((r=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const d=(h=(c=(u=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||u===void 0?void 0:u.content)===null||c===void 0?void 0:c.parts)===null||h===void 0?void 0:h.filter(m=>m.functionCall).map(m=>m.functionCall).filter(m=>m!==void 0);if(d?.length!==0)return d}get executableCode(){var e,n,i,r,a,u,c,h,d;if(((r=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const m=(h=(c=(u=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||u===void 0?void 0:u.content)===null||c===void 0?void 0:c.parts)===null||h===void 0?void 0:h.filter(y=>y.executableCode).map(y=>y.executableCode).filter(y=>y!==void 0);if(m?.length!==0)return(d=m?.[0])===null||d===void 0?void 0:d.code}get codeExecutionResult(){var e,n,i,r,a,u,c,h,d;if(((r=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const m=(h=(c=(u=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||u===void 0?void 0:u.content)===null||c===void 0?void 0:c.parts)===null||h===void 0?void 0:h.filter(y=>y.codeExecutionResult).map(y=>y.codeExecutionResult).filter(y=>y!==void 0);if(m?.length!==0)return(d=m?.[0])===null||d===void 0?void 0:d.output}}class HC{}class GC{}class qF{}class JF{}class KF{}class YF{}class VC{}class zC{}class qC{}class jF{}class wd{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const i=new wd;let r;const a=e;return n?r=OF(a):r=DF(a),Object.assign(i,r),i}}class JC{}class KC{}class YC{}class jC{}class XF{}class WF{}class QF{}class Ly{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const i=new Ly,a=$F(e);return Object.assign(i,a),i}}class ZF{}class e${}class t${}class XC{}class n${get text(){var e,n,i;let r="",a=!1;const u=[];for(const c of(i=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&i!==void 0?i:[]){for(const[h,d]of Object.entries(c))h!=="text"&&h!=="thought"&&d!==null&&u.push(h);if(typeof c.text=="string"){if(typeof c.thought=="boolean"&&c.thought)continue;a=!0,r+=c.text}}return u.length>0&&console.warn(`there are non-text parts ${u} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),a?r:void 0}get data(){var e,n,i;let r="";const a=[];for(const u of(i=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&i!==void 0?i:[]){for(const[c,h]of Object.entries(u))c!=="inlineData"&&h!==null&&a.push(c);u.inlineData&&typeof u.inlineData.data=="string"&&(r+=atob(u.inlineData.data))}return a.length>0&&console.warn(`there are non-data parts ${a} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),r.length>0?btoa(r):void 0}}class i${get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class Uy{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const i=new Uy,a=iM(e);return Object.assign(i,a),i}}function Ve(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function oM(t,e){const n=Ve(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function rM(t){return Array.isArray(t)?t.map(e=>Cd(e)):[Cd(t)]}function Cd(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function sM(t){const e=Cd(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function aM(t){const e=Cd(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function WC(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function lM(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>WC(e)):[WC(t)]}function Sv(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function QC(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function ZC(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function Ut(t){if(t==null)throw new Error("ContentUnion is required");return Sv(t)?t:{role:"user",parts:lM(t)}}function By(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{const i=Ut(n);return i.parts&&i.parts.length>0&&i.parts[0].text!==void 0?[i.parts[0].text]:[]});if(t.isVertexAI()){const n=Ut(e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>Ut(n)):[Ut(e)]}function Hn(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(QC(t)||ZC(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[Ut(t)]}const e=[],n=[],i=Sv(t[0]);for(const r of t){const a=Sv(r);if(a!=i)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(a)e.push(r);else{if(QC(r)||ZC(r))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(r)}}return i||e.push({role:"user",parts:lM(n)}),e}function o$(t,e){t.includes("null")&&(e.nullable=!0);const n=t.filter(i=>i!=="null");if(n.length===1)e.type=Object.values(tr).includes(n[0].toUpperCase())?n[0].toUpperCase():tr.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const i of n)e.anyOf.push({type:Object.values(tr).includes(i.toUpperCase())?i.toUpperCase():tr.TYPE_UNSPECIFIED})}}function fa(t){const e={},n=["items"],i=["anyOf"],r=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const a=t.anyOf;a!=null&&a.length==2&&(a[0].type==="null"?(e.nullable=!0,t=a[1]):a[1].type==="null"&&(e.nullable=!0,t=a[0])),t.type instanceof Array&&o$(t.type,e);for(const[u,c]of Object.entries(t))if(c!=null)if(u=="type"){if(c==="null")throw new Error("type: null can not be the only possible type for the field.");if(c instanceof Array)continue;e.type=Object.values(tr).includes(c.toUpperCase())?c.toUpperCase():tr.TYPE_UNSPECIFIED}else if(n.includes(u))e[u]=fa(c);else if(i.includes(u)){const h=[];for(const d of c){if(d.type=="null"){e.nullable=!0;continue}h.push(fa(d))}e[u]=h}else if(r.includes(u)){const h={};for(const[d,m]of Object.entries(c))h[d]=fa(m);e[u]=h}else{if(u==="additionalProperties")continue;e[u]=c}return e}function Fy(t){return fa(t)}function $y(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function Hy(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function Na(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=fa(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=fa(e.response));return t}function Ia(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const n of t)e.push(n);return e}function r$(t,e,n,i=1){const r=!e.startsWith(`${n}/`)&&e.split("/").length===i;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:r?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:r?`${n}/${e}`:e}function So(t,e){if(typeof e!="string")throw new Error("name must be a string");return r$(t,e,"cachedContents")}function uM(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function hr(t){return ky(t)}function s$(t){return t!=null&&typeof t=="object"&&"name"in t}function a$(t){return t!=null&&typeof t=="object"&&"video"in t}function l$(t){return t!=null&&typeof t=="object"&&"uri"in t}function cM(t){var e;let n;if(s$(t)&&(n=t.name),!(l$(t)&&(n=t.uri,n===void 0))&&!(a$(t)&&(n=(e=t.video)===null||e===void 0?void 0:e.uri,n===void 0))){if(typeof t=="string"&&(n=t),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const r=n.split("files/")[1].match(/[a-z0-9]+/);if(r===null)throw new Error(`Could not extract file name from URI ${n}`);n=r[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function fM(t,e){let n;return t.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function dM(t){for(const e of["models","tunedModels","publisherModels"])if(u$(t,e))return t[e];return[]}function u$(t,e){return t!==null&&typeof t=="object"&&e in t}function c$(t,e={}){const n=t,i={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(i.responseJsonSchema=n.outputSchema),e.behavior&&(i.behavior=e.behavior),{functionDeclarations:[i]}}function f$(t,e={}){const n=[],i=new Set;for(const r of t){const a=r.name;if(i.has(a))throw new Error(`Duplicate function name ${a} found in MCP tools. Please ensure function names are unique.`);i.add(a);const u=c$(r,e);u.functionDeclarations&&n.push(...u.functionDeclarations)}return{functionDeclarations:n}}function hM(t,e){let n;if(typeof e=="string")if(t.isVertexAI())if(e.startsWith("gs://"))n={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))n={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))n={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(t.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:e}}else n=e;const i=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,r=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(t.isVertexAI()){if(r>0||i!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(i>0||r!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function d$(t){if(typeof t!="string")return t;const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function pM(t){if(typeof t!="object"||t===null)return{};const e=t,n=e.inlinedResponses;if(typeof n!="object"||n===null)return t;const r=n.inlinedResponses;if(!Array.isArray(r)||r.length===0)return t;let a=!1;for(const u of r){if(typeof u!="object"||u===null)continue;const h=u.response;if(typeof h!="object"||h===null)continue;if(h.embedding!==void 0){a=!0;break}}return a&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),t}function Da(t,e){const n=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function mM(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}function h$(t){const e={},n=p(t,["responsesFile"]);n!=null&&g(e,["fileName"],n);const i=p(t,["inlinedResponses","inlinedResponses"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(u=>K$(u))),g(e,["inlinedResponses"],a)}const r=p(t,["inlinedEmbedContentResponses","inlinedResponses"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(u=>u)),g(e,["inlinedEmbedContentResponses"],a)}return e}function p$(t){const e={},n=p(t,["predictionsFormat"]);n!=null&&g(e,["format"],n);const i=p(t,["gcsDestination","outputUriPrefix"]);i!=null&&g(e,["gcsUri"],i);const r=p(t,["bigqueryDestination","outputUri"]);return r!=null&&g(e,["bigqueryUri"],r),e}function m$(t){const e={},n=p(t,["format"]);n!=null&&g(e,["predictionsFormat"],n);const i=p(t,["gcsUri"]);i!=null&&g(e,["gcsDestination","outputUriPrefix"],i);const r=p(t,["bigqueryUri"]);if(r!=null&&g(e,["bigqueryDestination","outputUri"],r),p(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(p(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(p(t,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function Xf(t){const e={},n=p(t,["name"]);n!=null&&g(e,["name"],n);const i=p(t,["metadata","displayName"]);i!=null&&g(e,["displayName"],i);const r=p(t,["metadata","state"]);r!=null&&g(e,["state"],mM(r));const a=p(t,["metadata","createTime"]);a!=null&&g(e,["createTime"],a);const u=p(t,["metadata","endTime"]);u!=null&&g(e,["endTime"],u);const c=p(t,["metadata","updateTime"]);c!=null&&g(e,["updateTime"],c);const h=p(t,["metadata","model"]);h!=null&&g(e,["model"],h);const d=p(t,["metadata","output"]);return d!=null&&g(e,["dest"],h$(pM(d))),e}function bv(t){const e={},n=p(t,["name"]);n!=null&&g(e,["name"],n);const i=p(t,["displayName"]);i!=null&&g(e,["displayName"],i);const r=p(t,["state"]);r!=null&&g(e,["state"],mM(r));const a=p(t,["error"]);a!=null&&g(e,["error"],a);const u=p(t,["createTime"]);u!=null&&g(e,["createTime"],u);const c=p(t,["startTime"]);c!=null&&g(e,["startTime"],c);const h=p(t,["endTime"]);h!=null&&g(e,["endTime"],h);const d=p(t,["updateTime"]);d!=null&&g(e,["updateTime"],d);const m=p(t,["model"]);m!=null&&g(e,["model"],m);const y=p(t,["inputConfig"]);y!=null&&g(e,["src"],g$(y));const S=p(t,["outputConfig"]);S!=null&&g(e,["dest"],p$(pM(S)));const b=p(t,["completionStats"]);return b!=null&&g(e,["completionStats"],b),e}function g$(t){const e={},n=p(t,["instancesFormat"]);n!=null&&g(e,["format"],n);const i=p(t,["gcsSource","uris"]);i!=null&&g(e,["gcsUri"],i);const r=p(t,["bigquerySource","inputUri"]);return r!=null&&g(e,["bigqueryUri"],r),e}function v$(t,e){const n={};if(p(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(p(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(p(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const i=p(e,["fileName"]);i!=null&&g(n,["fileName"],i);const r=p(e,["inlinedRequests"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(u=>J$(t,u))),g(n,["requests","requests"],a)}return n}function y$(t){const e={},n=p(t,["format"]);n!=null&&g(e,["instancesFormat"],n);const i=p(t,["gcsUri"]);i!=null&&g(e,["gcsSource","uris"],i);const r=p(t,["bigqueryUri"]);if(r!=null&&g(e,["bigquerySource","inputUri"],r),p(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(p(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function _$(t){const e={},n=p(t,["data"]);if(n!=null&&g(e,["data"],n),p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=p(t,["mimeType"]);return i!=null&&g(e,["mimeType"],i),e}function S$(t,e){const n={},i=p(e,["name"]);return i!=null&&g(n,["_url","name"],Da(t,i)),n}function b$(t,e){const n={},i=p(e,["name"]);return i!=null&&g(n,["_url","name"],Da(t,i)),n}function E$(t){const e={},n=p(t,["content"]);n!=null&&g(e,["content"],n);const i=p(t,["citationMetadata"]);i!=null&&g(e,["citationMetadata"],w$(i));const r=p(t,["tokenCount"]);r!=null&&g(e,["tokenCount"],r);const a=p(t,["finishReason"]);a!=null&&g(e,["finishReason"],a);const u=p(t,["avgLogprobs"]);u!=null&&g(e,["avgLogprobs"],u);const c=p(t,["groundingMetadata"]);c!=null&&g(e,["groundingMetadata"],c);const h=p(t,["index"]);h!=null&&g(e,["index"],h);const d=p(t,["logprobsResult"]);d!=null&&g(e,["logprobsResult"],d);const m=p(t,["safetyRatings"]);if(m!=null){let S=m;Array.isArray(S)&&(S=S.map(b=>b)),g(e,["safetyRatings"],S)}const y=p(t,["urlContextMetadata"]);return y!=null&&g(e,["urlContextMetadata"],y),e}function w$(t){const e={},n=p(t,["citationSources"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(r=>r)),g(e,["citations"],i)}return e}function gM(t){const e={},n=p(t,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(a=>eH(a))),g(e,["parts"],r)}const i=p(t,["role"]);return i!=null&&g(e,["role"],i),e}function C$(t,e){const n={},i=p(t,["displayName"]);if(e!==void 0&&i!=null&&g(e,["batch","displayName"],i),p(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function T$(t,e){const n={},i=p(t,["displayName"]);e!==void 0&&i!=null&&g(e,["displayName"],i);const r=p(t,["dest"]);return e!==void 0&&r!=null&&g(e,["outputConfig"],m$(d$(r))),n}function eT(t,e){const n={},i=p(e,["model"]);i!=null&&g(n,["_url","model"],Ve(t,i));const r=p(e,["src"]);r!=null&&g(n,["batch","inputConfig"],v$(t,hM(t,r)));const a=p(e,["config"]);return a!=null&&C$(a,n),n}function A$(t,e){const n={},i=p(e,["model"]);i!=null&&g(n,["model"],Ve(t,i));const r=p(e,["src"]);r!=null&&g(n,["inputConfig"],y$(hM(t,r)));const a=p(e,["config"]);return a!=null&&T$(a,n),n}function x$(t,e){const n={},i=p(t,["displayName"]);return e!==void 0&&i!=null&&g(e,["batch","displayName"],i),n}function R$(t,e){const n={},i=p(e,["model"]);i!=null&&g(n,["_url","model"],Ve(t,i));const r=p(e,["src"]);r!=null&&g(n,["batch","inputConfig"],k$(t,r));const a=p(e,["config"]);return a!=null&&x$(a,n),n}function M$(t,e){const n={},i=p(e,["name"]);return i!=null&&g(n,["_url","name"],Da(t,i)),n}function N$(t,e){const n={},i=p(e,["name"]);return i!=null&&g(n,["_url","name"],Da(t,i)),n}function I$(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const i=p(t,["name"]);i!=null&&g(e,["name"],i);const r=p(t,["done"]);r!=null&&g(e,["done"],r);const a=p(t,["error"]);return a!=null&&g(e,["error"],a),e}function D$(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const i=p(t,["name"]);i!=null&&g(e,["name"],i);const r=p(t,["done"]);r!=null&&g(e,["done"],r);const a=p(t,["error"]);return a!=null&&g(e,["error"],a),e}function O$(t,e){const n={},i=p(e,["contents"]);if(i!=null){let a=By(t,i);Array.isArray(a)&&(a=a.map(u=>u)),g(n,["requests[]","request","content"],a)}const r=p(e,["config"]);return r!=null&&(g(n,["_self"],P$(r,n)),NF(n,{"requests[].*":"requests[].request.*"})),n}function P$(t,e){const n={},i=p(t,["taskType"]);e!==void 0&&i!=null&&g(e,["requests[]","taskType"],i);const r=p(t,["title"]);e!==void 0&&r!=null&&g(e,["requests[]","title"],r);const a=p(t,["outputDimensionality"]);if(e!==void 0&&a!=null&&g(e,["requests[]","outputDimensionality"],a),p(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(p(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function k$(t,e){const n={},i=p(e,["fileName"]);i!=null&&g(n,["file_name"],i);const r=p(e,["inlinedRequests"]);return r!=null&&g(n,["requests"],O$(t,r)),n}function L$(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=p(t,["fileUri"]);n!=null&&g(e,["fileUri"],n);const i=p(t,["mimeType"]);return i!=null&&g(e,["mimeType"],i),e}function U$(t){const e={},n=p(t,["id"]);n!=null&&g(e,["id"],n);const i=p(t,["args"]);i!=null&&g(e,["args"],i);const r=p(t,["name"]);if(r!=null&&g(e,["name"],r),p(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(p(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function B$(t){const e={},n=p(t,["mode"]);n!=null&&g(e,["mode"],n);const i=p(t,["allowedFunctionNames"]);if(i!=null&&g(e,["allowedFunctionNames"],i),p(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function F$(t,e,n){const i={},r=p(e,["systemInstruction"]);n!==void 0&&r!=null&&g(n,["systemInstruction"],gM(Ut(r)));const a=p(e,["temperature"]);a!=null&&g(i,["temperature"],a);const u=p(e,["topP"]);u!=null&&g(i,["topP"],u);const c=p(e,["topK"]);c!=null&&g(i,["topK"],c);const h=p(e,["candidateCount"]);h!=null&&g(i,["candidateCount"],h);const d=p(e,["maxOutputTokens"]);d!=null&&g(i,["maxOutputTokens"],d);const m=p(e,["stopSequences"]);m!=null&&g(i,["stopSequences"],m);const y=p(e,["responseLogprobs"]);y!=null&&g(i,["responseLogprobs"],y);const S=p(e,["logprobs"]);S!=null&&g(i,["logprobs"],S);const b=p(e,["presencePenalty"]);b!=null&&g(i,["presencePenalty"],b);const T=p(e,["frequencyPenalty"]);T!=null&&g(i,["frequencyPenalty"],T);const A=p(e,["seed"]);A!=null&&g(i,["seed"],A);const x=p(e,["responseMimeType"]);x!=null&&g(i,["responseMimeType"],x);const M=p(e,["responseSchema"]);M!=null&&g(i,["responseSchema"],Fy(M));const I=p(e,["responseJsonSchema"]);if(I!=null&&g(i,["responseJsonSchema"],I),p(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(p(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const N=p(e,["safetySettings"]);if(n!==void 0&&N!=null){let ie=N;Array.isArray(ie)&&(ie=ie.map(ae=>tH(ae))),g(n,["safetySettings"],ie)}const D=p(e,["tools"]);if(n!==void 0&&D!=null){let ie=Ia(D);Array.isArray(ie)&&(ie=ie.map(ae=>iH(Na(ae)))),g(n,["tools"],ie)}const L=p(e,["toolConfig"]);if(n!==void 0&&L!=null&&g(n,["toolConfig"],nH(L)),p(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const U=p(e,["cachedContent"]);n!==void 0&&U!=null&&g(n,["cachedContent"],So(t,U));const O=p(e,["responseModalities"]);O!=null&&g(i,["responseModalities"],O);const q=p(e,["mediaResolution"]);q!=null&&g(i,["mediaResolution"],q);const J=p(e,["speechConfig"]);if(J!=null&&g(i,["speechConfig"],$y(J)),p(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const j=p(e,["thinkingConfig"]);j!=null&&g(i,["thinkingConfig"],j);const W=p(e,["imageConfig"]);W!=null&&g(i,["imageConfig"],q$(W));const re=p(e,["enableEnhancedCivicAnswers"]);return re!=null&&g(i,["enableEnhancedCivicAnswers"],re),i}function $$(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const i=p(t,["candidates"]);if(i!=null){let h=i;Array.isArray(h)&&(h=h.map(d=>E$(d))),g(e,["candidates"],h)}const r=p(t,["modelVersion"]);r!=null&&g(e,["modelVersion"],r);const a=p(t,["promptFeedback"]);a!=null&&g(e,["promptFeedback"],a);const u=p(t,["responseId"]);u!=null&&g(e,["responseId"],u);const c=p(t,["usageMetadata"]);return c!=null&&g(e,["usageMetadata"],c),e}function H$(t,e){const n={},i=p(e,["name"]);return i!=null&&g(n,["_url","name"],Da(t,i)),n}function G$(t,e){const n={},i=p(e,["name"]);return i!=null&&g(n,["_url","name"],Da(t,i)),n}function V$(t){const e={};if(p(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=p(t,["enableWidget"]);return n!=null&&g(e,["enableWidget"],n),e}function z$(t){const e={};if(p(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(p(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=p(t,["timeRangeFilter"]);return n!=null&&g(e,["timeRangeFilter"],n),e}function q$(t){const e={},n=p(t,["aspectRatio"]);n!=null&&g(e,["aspectRatio"],n);const i=p(t,["imageSize"]);if(i!=null&&g(e,["imageSize"],i),p(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(p(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function J$(t,e){const n={},i=p(e,["model"]);i!=null&&g(n,["request","model"],Ve(t,i));const r=p(e,["contents"]);if(r!=null){let c=Hn(r);Array.isArray(c)&&(c=c.map(h=>gM(h))),g(n,["request","contents"],c)}const a=p(e,["metadata"]);a!=null&&g(n,["metadata"],a);const u=p(e,["config"]);return u!=null&&g(n,["request","generationConfig"],F$(t,u,p(n,["request"],{}))),n}function K$(t){const e={},n=p(t,["response"]);n!=null&&g(e,["response"],$$(n));const i=p(t,["error"]);return i!=null&&g(e,["error"],i),e}function Y$(t,e){const n={},i=p(t,["pageSize"]);e!==void 0&&i!=null&&g(e,["_query","pageSize"],i);const r=p(t,["pageToken"]);if(e!==void 0&&r!=null&&g(e,["_query","pageToken"],r),p(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function j$(t,e){const n={},i=p(t,["pageSize"]);e!==void 0&&i!=null&&g(e,["_query","pageSize"],i);const r=p(t,["pageToken"]);e!==void 0&&r!=null&&g(e,["_query","pageToken"],r);const a=p(t,["filter"]);return e!==void 0&&a!=null&&g(e,["_query","filter"],a),n}function X$(t){const e={},n=p(t,["config"]);return n!=null&&Y$(n,e),e}function W$(t){const e={},n=p(t,["config"]);return n!=null&&j$(n,e),e}function Q$(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const i=p(t,["nextPageToken"]);i!=null&&g(e,["nextPageToken"],i);const r=p(t,["operations"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(u=>Xf(u))),g(e,["batchJobs"],a)}return e}function Z$(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const i=p(t,["nextPageToken"]);i!=null&&g(e,["nextPageToken"],i);const r=p(t,["batchPredictionJobs"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(u=>bv(u))),g(e,["batchJobs"],a)}return e}function eH(t){const e={},n=p(t,["mediaResolution"]);n!=null&&g(e,["mediaResolution"],n);const i=p(t,["codeExecutionResult"]);i!=null&&g(e,["codeExecutionResult"],i);const r=p(t,["executableCode"]);r!=null&&g(e,["executableCode"],r);const a=p(t,["fileData"]);a!=null&&g(e,["fileData"],L$(a));const u=p(t,["functionCall"]);u!=null&&g(e,["functionCall"],U$(u));const c=p(t,["functionResponse"]);c!=null&&g(e,["functionResponse"],c);const h=p(t,["inlineData"]);h!=null&&g(e,["inlineData"],_$(h));const d=p(t,["text"]);d!=null&&g(e,["text"],d);const m=p(t,["thought"]);m!=null&&g(e,["thought"],m);const y=p(t,["thoughtSignature"]);y!=null&&g(e,["thoughtSignature"],y);const S=p(t,["videoMetadata"]);return S!=null&&g(e,["videoMetadata"],S),e}function tH(t){const e={},n=p(t,["category"]);if(n!=null&&g(e,["category"],n),p(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const i=p(t,["threshold"]);return i!=null&&g(e,["threshold"],i),e}function nH(t){const e={},n=p(t,["functionCallingConfig"]);n!=null&&g(e,["functionCallingConfig"],B$(n));const i=p(t,["retrievalConfig"]);return i!=null&&g(e,["retrievalConfig"],i),e}function iH(t){const e={},n=p(t,["functionDeclarations"]);if(n!=null){let m=n;Array.isArray(m)&&(m=m.map(y=>y)),g(e,["functionDeclarations"],m)}if(p(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=p(t,["googleSearchRetrieval"]);i!=null&&g(e,["googleSearchRetrieval"],i);const r=p(t,["computerUse"]);r!=null&&g(e,["computerUse"],r);const a=p(t,["fileSearch"]);a!=null&&g(e,["fileSearch"],a);const u=p(t,["codeExecution"]);if(u!=null&&g(e,["codeExecution"],u),p(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const c=p(t,["googleMaps"]);c!=null&&g(e,["googleMaps"],V$(c));const h=p(t,["googleSearch"]);h!=null&&g(e,["googleSearch"],z$(h));const d=p(t,["urlContext"]);return d!=null&&g(e,["urlContext"],d),e}var mo;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents",t.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",t.PAGED_ITEM_DOCUMENTS="documents"})(mo||(mo={}));class os{constructor(e,n,i,r){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,i,r)}init(e,n,i){var r,a;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n?.sdkHttpResponse,this.idxInternal=0;let u={config:{}};!i||Object.keys(i).length===0?u={config:{}}:typeof i=="object"?u=Object.assign({},i):u=i,u.config&&(u.config.pageToken=n.nextPageToken),this.paramsInternal=u,this.pageInternalSize=(a=(r=u.config)===null||r===void 0?void 0:r.pageSize)!==null&&a!==void 0?a:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}let oH=class extends _o{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new os(mo.PAGED_ITEM_BATCH_JOBS,i=>this.listInternal(i),await this.listInternal(n),n),this.create=async n=>(this.apiClient.isVertexAI()&&(n.config=this.formatDestination(n.src,n.config)),this.createInternal(n)),this.createEmbeddings=async n=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(n)}}createInlinedGenerateContentRequest(e){const n=eT(this.apiClient,e),i=n._url,r=fe("{model}:batchGenerateContent",i),c=n.batch.inputConfig.requests,h=c.requests,d=[];for(const m of h){const y=Object.assign({},m);if(y.systemInstruction){const S=y.systemInstruction;delete y.systemInstruction;const b=y.request;b.systemInstruction=S,y.request=b}d.push(y)}return c.requests=d,delete n.config,delete n._url,delete n._query,{path:r,body:n}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,n){const i=n?Object.assign({},n):{},r=Date.now().toString();if(i.displayName||(i.displayName=`genaiBatchJob_${r}`),i.dest===void 0){const a=this.getGcsUri(e),u=this.getBigqueryUri(e);if(a)a.endsWith(".jsonl")?i.dest=`${a.slice(0,-6)}/dest`:i.dest=`${a}_dest_${r}`;else if(u)i.dest=`${u}_dest_${r}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return i}async createInternal(e){var n,i,r,a;let u,c="",h={};if(this.apiClient.isVertexAI()){const d=A$(this.apiClient,e);return c=fe("batchPredictionJobs",d._url),h=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json()),u.then(m=>bv(m))}else{const d=eT(this.apiClient,e);return c=fe("{model}:batchGenerateContent",d._url),h=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json()),u.then(m=>Xf(m))}}async createEmbeddingsInternal(e){var n,i;let r,a="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=R$(this.apiClient,e);return a=fe("{model}:asyncBatchEmbedContent",c._url),u=c._query,delete c._url,delete c._query,r=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),r.then(h=>Xf(h))}}async get(e){var n,i,r,a;let u,c="",h={};if(this.apiClient.isVertexAI()){const d=G$(this.apiClient,e);return c=fe("batchPredictionJobs/{name}",d._url),h=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json()),u.then(m=>bv(m))}else{const d=H$(this.apiClient,e);return c=fe("batches/{name}",d._url),h=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json()),u.then(m=>Xf(m))}}async cancel(e){var n,i,r,a;let u="",c={};if(this.apiClient.isVertexAI()){const h=b$(this.apiClient,e);u=fe("batchPredictionJobs/{name}:cancel",h._url),c=h._query,delete h._url,delete h._query,await this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal})}else{const h=S$(this.apiClient,e);u=fe("batches/{name}:cancel",h._url),c=h._query,delete h._url,delete h._query,await this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal})}}async listInternal(e){var n,i,r,a;let u,c="",h={};if(this.apiClient.isVertexAI()){const d=W$(e);return c=fe("batchPredictionJobs",d._url),h=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json().then(y=>{const S=y;return S.sdkHttpResponse={headers:m.headers},S})),u.then(m=>{const y=Z$(m),S=new XC;return Object.assign(S,y),S})}else{const d=X$(e);return c=fe("batches",d._url),h=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json().then(y=>{const S=y;return S.sdkHttpResponse={headers:m.headers},S})),u.then(m=>{const y=Q$(m),S=new XC;return Object.assign(S,y),S})}}async delete(e){var n,i,r,a;let u,c="",h={};if(this.apiClient.isVertexAI()){const d=N$(this.apiClient,e);return c=fe("batchPredictionJobs/{name}",d._url),h=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json().then(y=>{const S=y;return S.sdkHttpResponse={headers:m.headers},S})),u.then(m=>D$(m))}else{const d=M$(this.apiClient,e);return c=fe("batches/{name}",d._url),h=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json().then(y=>{const S=y;return S.sdkHttpResponse={headers:m.headers},S})),u.then(m=>I$(m))}}};function rH(t){const e={},n=p(t,["data"]);if(n!=null&&g(e,["data"],n),p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=p(t,["mimeType"]);return i!=null&&g(e,["mimeType"],i),e}function tT(t){const e={},n=p(t,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(a=>RH(a))),g(e,["parts"],r)}const i=p(t,["role"]);return i!=null&&g(e,["role"],i),e}function sH(t,e){const n={},i=p(t,["ttl"]);e!==void 0&&i!=null&&g(e,["ttl"],i);const r=p(t,["expireTime"]);e!==void 0&&r!=null&&g(e,["expireTime"],r);const a=p(t,["displayName"]);e!==void 0&&a!=null&&g(e,["displayName"],a);const u=p(t,["contents"]);if(e!==void 0&&u!=null){let m=Hn(u);Array.isArray(m)&&(m=m.map(y=>tT(y))),g(e,["contents"],m)}const c=p(t,["systemInstruction"]);e!==void 0&&c!=null&&g(e,["systemInstruction"],tT(Ut(c)));const h=p(t,["tools"]);if(e!==void 0&&h!=null){let m=h;Array.isArray(m)&&(m=m.map(y=>NH(y))),g(e,["tools"],m)}const d=p(t,["toolConfig"]);if(e!==void 0&&d!=null&&g(e,["toolConfig"],MH(d)),p(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function aH(t,e){const n={},i=p(t,["ttl"]);e!==void 0&&i!=null&&g(e,["ttl"],i);const r=p(t,["expireTime"]);e!==void 0&&r!=null&&g(e,["expireTime"],r);const a=p(t,["displayName"]);e!==void 0&&a!=null&&g(e,["displayName"],a);const u=p(t,["contents"]);if(e!==void 0&&u!=null){let y=Hn(u);Array.isArray(y)&&(y=y.map(S=>S)),g(e,["contents"],y)}const c=p(t,["systemInstruction"]);e!==void 0&&c!=null&&g(e,["systemInstruction"],Ut(c));const h=p(t,["tools"]);if(e!==void 0&&h!=null){let y=h;Array.isArray(y)&&(y=y.map(S=>IH(S))),g(e,["tools"],y)}const d=p(t,["toolConfig"]);e!==void 0&&d!=null&&g(e,["toolConfig"],d);const m=p(t,["kmsKeyName"]);return e!==void 0&&m!=null&&g(e,["encryption_spec","kmsKeyName"],m),n}function lH(t,e){const n={},i=p(e,["model"]);i!=null&&g(n,["model"],oM(t,i));const r=p(e,["config"]);return r!=null&&sH(r,n),n}function uH(t,e){const n={},i=p(e,["model"]);i!=null&&g(n,["model"],oM(t,i));const r=p(e,["config"]);return r!=null&&aH(r,n),n}function cH(t,e){const n={},i=p(e,["name"]);return i!=null&&g(n,["_url","name"],So(t,i)),n}function fH(t,e){const n={},i=p(e,["name"]);return i!=null&&g(n,["_url","name"],So(t,i)),n}function dH(t){const e={},n=p(t,["sdkHttpResponse"]);return n!=null&&g(e,["sdkHttpResponse"],n),e}function hH(t){const e={},n=p(t,["sdkHttpResponse"]);return n!=null&&g(e,["sdkHttpResponse"],n),e}function pH(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=p(t,["fileUri"]);n!=null&&g(e,["fileUri"],n);const i=p(t,["mimeType"]);return i!=null&&g(e,["mimeType"],i),e}function mH(t){const e={},n=p(t,["id"]);n!=null&&g(e,["id"],n);const i=p(t,["args"]);i!=null&&g(e,["args"],i);const r=p(t,["name"]);if(r!=null&&g(e,["name"],r),p(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(p(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function gH(t){const e={},n=p(t,["mode"]);n!=null&&g(e,["mode"],n);const i=p(t,["allowedFunctionNames"]);if(i!=null&&g(e,["allowedFunctionNames"],i),p(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function vH(t){const e={};if(p(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=p(t,["description"]);n!=null&&g(e,["description"],n);const i=p(t,["name"]);i!=null&&g(e,["name"],i);const r=p(t,["parameters"]);r!=null&&g(e,["parameters"],r);const a=p(t,["parametersJsonSchema"]);a!=null&&g(e,["parametersJsonSchema"],a);const u=p(t,["response"]);u!=null&&g(e,["response"],u);const c=p(t,["responseJsonSchema"]);return c!=null&&g(e,["responseJsonSchema"],c),e}function yH(t,e){const n={},i=p(e,["name"]);return i!=null&&g(n,["_url","name"],So(t,i)),n}function _H(t,e){const n={},i=p(e,["name"]);return i!=null&&g(n,["_url","name"],So(t,i)),n}function SH(t){const e={};if(p(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=p(t,["enableWidget"]);return n!=null&&g(e,["enableWidget"],n),e}function bH(t){const e={};if(p(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(p(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=p(t,["timeRangeFilter"]);return n!=null&&g(e,["timeRangeFilter"],n),e}function EH(t,e){const n={},i=p(t,["pageSize"]);e!==void 0&&i!=null&&g(e,["_query","pageSize"],i);const r=p(t,["pageToken"]);return e!==void 0&&r!=null&&g(e,["_query","pageToken"],r),n}function wH(t,e){const n={},i=p(t,["pageSize"]);e!==void 0&&i!=null&&g(e,["_query","pageSize"],i);const r=p(t,["pageToken"]);return e!==void 0&&r!=null&&g(e,["_query","pageToken"],r),n}function CH(t){const e={},n=p(t,["config"]);return n!=null&&EH(n,e),e}function TH(t){const e={},n=p(t,["config"]);return n!=null&&wH(n,e),e}function AH(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const i=p(t,["nextPageToken"]);i!=null&&g(e,["nextPageToken"],i);const r=p(t,["cachedContents"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(u=>u)),g(e,["cachedContents"],a)}return e}function xH(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const i=p(t,["nextPageToken"]);i!=null&&g(e,["nextPageToken"],i);const r=p(t,["cachedContents"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(u=>u)),g(e,["cachedContents"],a)}return e}function RH(t){const e={},n=p(t,["mediaResolution"]);n!=null&&g(e,["mediaResolution"],n);const i=p(t,["codeExecutionResult"]);i!=null&&g(e,["codeExecutionResult"],i);const r=p(t,["executableCode"]);r!=null&&g(e,["executableCode"],r);const a=p(t,["fileData"]);a!=null&&g(e,["fileData"],pH(a));const u=p(t,["functionCall"]);u!=null&&g(e,["functionCall"],mH(u));const c=p(t,["functionResponse"]);c!=null&&g(e,["functionResponse"],c);const h=p(t,["inlineData"]);h!=null&&g(e,["inlineData"],rH(h));const d=p(t,["text"]);d!=null&&g(e,["text"],d);const m=p(t,["thought"]);m!=null&&g(e,["thought"],m);const y=p(t,["thoughtSignature"]);y!=null&&g(e,["thoughtSignature"],y);const S=p(t,["videoMetadata"]);return S!=null&&g(e,["videoMetadata"],S),e}function MH(t){const e={},n=p(t,["functionCallingConfig"]);n!=null&&g(e,["functionCallingConfig"],gH(n));const i=p(t,["retrievalConfig"]);return i!=null&&g(e,["retrievalConfig"],i),e}function NH(t){const e={},n=p(t,["functionDeclarations"]);if(n!=null){let m=n;Array.isArray(m)&&(m=m.map(y=>y)),g(e,["functionDeclarations"],m)}if(p(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=p(t,["googleSearchRetrieval"]);i!=null&&g(e,["googleSearchRetrieval"],i);const r=p(t,["computerUse"]);r!=null&&g(e,["computerUse"],r);const a=p(t,["fileSearch"]);a!=null&&g(e,["fileSearch"],a);const u=p(t,["codeExecution"]);if(u!=null&&g(e,["codeExecution"],u),p(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const c=p(t,["googleMaps"]);c!=null&&g(e,["googleMaps"],SH(c));const h=p(t,["googleSearch"]);h!=null&&g(e,["googleSearch"],bH(h));const d=p(t,["urlContext"]);return d!=null&&g(e,["urlContext"],d),e}function IH(t){const e={},n=p(t,["functionDeclarations"]);if(n!=null){let y=n;Array.isArray(y)&&(y=y.map(S=>vH(S))),g(e,["functionDeclarations"],y)}const i=p(t,["retrieval"]);i!=null&&g(e,["retrieval"],i);const r=p(t,["googleSearchRetrieval"]);r!=null&&g(e,["googleSearchRetrieval"],r);const a=p(t,["computerUse"]);if(a!=null&&g(e,["computerUse"],a),p(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const u=p(t,["codeExecution"]);u!=null&&g(e,["codeExecution"],u);const c=p(t,["enterpriseWebSearch"]);c!=null&&g(e,["enterpriseWebSearch"],c);const h=p(t,["googleMaps"]);h!=null&&g(e,["googleMaps"],h);const d=p(t,["googleSearch"]);d!=null&&g(e,["googleSearch"],d);const m=p(t,["urlContext"]);return m!=null&&g(e,["urlContext"],m),e}function DH(t,e){const n={},i=p(t,["ttl"]);e!==void 0&&i!=null&&g(e,["ttl"],i);const r=p(t,["expireTime"]);return e!==void 0&&r!=null&&g(e,["expireTime"],r),n}function OH(t,e){const n={},i=p(t,["ttl"]);e!==void 0&&i!=null&&g(e,["ttl"],i);const r=p(t,["expireTime"]);return e!==void 0&&r!=null&&g(e,["expireTime"],r),n}function PH(t,e){const n={},i=p(e,["name"]);i!=null&&g(n,["_url","name"],So(t,i));const r=p(e,["config"]);return r!=null&&DH(r,n),n}function kH(t,e){const n={},i=p(e,["name"]);i!=null&&g(n,["_url","name"],So(t,i));const r=p(e,["config"]);return r!=null&&OH(r,n),n}class LH extends _o{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new os(mo.PAGED_ITEM_CACHED_CONTENTS,i=>this.listInternal(i),await this.listInternal(n),n)}async create(e){var n,i,r,a;let u,c="",h={};if(this.apiClient.isVertexAI()){const d=uH(this.apiClient,e);return c=fe("cachedContents",d._url),h=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json()),u.then(m=>m)}else{const d=lH(this.apiClient,e);return c=fe("cachedContents",d._url),h=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json()),u.then(m=>m)}}async get(e){var n,i,r,a;let u,c="",h={};if(this.apiClient.isVertexAI()){const d=_H(this.apiClient,e);return c=fe("{name}",d._url),h=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json()),u.then(m=>m)}else{const d=yH(this.apiClient,e);return c=fe("{name}",d._url),h=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json()),u.then(m=>m)}}async delete(e){var n,i,r,a;let u,c="",h={};if(this.apiClient.isVertexAI()){const d=fH(this.apiClient,e);return c=fe("{name}",d._url),h=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json().then(y=>{const S=y;return S.sdkHttpResponse={headers:m.headers},S})),u.then(m=>{const y=hH(m),S=new YC;return Object.assign(S,y),S})}else{const d=cH(this.apiClient,e);return c=fe("{name}",d._url),h=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json().then(y=>{const S=y;return S.sdkHttpResponse={headers:m.headers},S})),u.then(m=>{const y=dH(m),S=new YC;return Object.assign(S,y),S})}}async update(e){var n,i,r,a;let u,c="",h={};if(this.apiClient.isVertexAI()){const d=kH(this.apiClient,e);return c=fe("{name}",d._url),h=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json()),u.then(m=>m)}else{const d=PH(this.apiClient,e);return c=fe("{name}",d._url),h=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json()),u.then(m=>m)}}async listInternal(e){var n,i,r,a;let u,c="",h={};if(this.apiClient.isVertexAI()){const d=TH(e);return c=fe("cachedContents",d._url),h=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json().then(y=>{const S=y;return S.sdkHttpResponse={headers:m.headers},S})),u.then(m=>{const y=xH(m),S=new jC;return Object.assign(S,y),S})}else{const d=CH(e);return c=fe("cachedContents",d._url),h=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json().then(y=>{const S=y;return S.sdkHttpResponse={headers:m.headers},S})),u.then(m=>{const y=AH(m),S=new jC;return Object.assign(S,y),S})}}}function Td(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]]);return n}function nT(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Te(t){return this instanceof Te?(this.v=t,this):new Te(t)}function oi(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=n.apply(t,e||[]),r,a=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),c("next"),c("throw"),c("return",u),r[Symbol.asyncIterator]=function(){return this},r;function u(b){return function(T){return Promise.resolve(T).then(b,y)}}function c(b,T){i[b]&&(r[b]=function(A){return new Promise(function(x,M){a.push([b,A,x,M])>1||h(b,A)})},T&&(r[b]=T(r[b])))}function h(b,T){try{d(i[b](T))}catch(A){S(a[0][3],A)}}function d(b){b.value instanceof Te?Promise.resolve(b.value.v).then(m,y):S(a[0][2],b)}function m(b){h("next",b)}function y(b){h("throw",b)}function S(b,T){b(T),a.shift(),a.length&&h(a[0][0],a[0][1])}}function ri(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof nT=="function"?nT(t):t[Symbol.iterator](),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(a){n[a]=t[a]&&function(u){return new Promise(function(c,h){u=t[a](u),r(c,h,u.done,u.value)})}}function r(a,u,c,h){Promise.resolve(h).then(function(d){a({value:d,done:c})},u)}}function UH(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:vM(n)}function vM(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function BH(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function iT(t){if(t===void 0||t.length===0)return[];const e=[],n=t.length;let i=0;for(;i<n;)if(t[i].role==="user")e.push(t[i]),i++;else{const r=[];let a=!0;for(;i<n&&t[i].role==="model";)r.push(t[i]),a&&!vM(t[i])&&(a=!1),i++;a?e.push(...r):e.pop()}return e}class FH{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new $H(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}let $H=class{constructor(e,n,i,r={},a=[]){this.apiClient=e,this.modelsModule=n,this.model=i,this.config=r,this.history=a,this.sendPromise=Promise.resolve(),BH(a)}async sendMessage(e){var n;await this.sendPromise;const i=Ut(e.message),r=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(i),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var a,u,c;const h=await r,d=(u=(a=h.candidates)===null||a===void 0?void 0:a[0])===null||u===void 0?void 0:u.content,m=h.automaticFunctionCallingHistory,y=this.getHistory(!0).length;let S=[];m!=null&&(S=(c=m.slice(y))!==null&&c!==void 0?c:[]);const b=d?[d]:[];this.recordHistory(i,b,S)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),r}async sendMessageStream(e){var n;await this.sendPromise;const i=Ut(e.message),r=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(i),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=r.then(()=>{}).catch(()=>{});const a=await r;return this.processStreamResponse(a,i)}getHistory(e=!1){const n=e?iT(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){return oi(this,arguments,function*(){var r,a,u,c,h,d;const m=[];try{for(var y=!0,S=ri(e),b;b=yield Te(S.next()),r=b.done,!r;y=!0){c=b.value,y=!1;const T=c;if(UH(T)){const A=(d=(h=T.candidates)===null||h===void 0?void 0:h[0])===null||d===void 0?void 0:d.content;A!==void 0&&m.push(A)}yield yield Te(T)}}catch(T){a={error:T}}finally{try{!y&&!r&&(u=S.return)&&(yield Te(u.call(S)))}finally{if(a)throw a.error}}this.recordHistory(n,m)})}recordHistory(e,n,i){let r=[];n.length>0&&n.every(a=>a.role!==void 0)?r=n:r.push({role:"model",parts:[]}),i&&i.length>0?this.history.push(...iT(i)):this.history.push(e),this.history.push(...r)}};class uh extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,uh.prototype)}}function HH(t){const e={},n=p(t,["file"]);return n!=null&&g(e,["file"],n),e}function GH(t){const e={},n=p(t,["sdkHttpResponse"]);return n!=null&&g(e,["sdkHttpResponse"],n),e}function VH(t){const e={},n=p(t,["name"]);return n!=null&&g(e,["_url","file"],cM(n)),e}function zH(t){const e={},n=p(t,["sdkHttpResponse"]);return n!=null&&g(e,["sdkHttpResponse"],n),e}function qH(t){const e={},n=p(t,["name"]);return n!=null&&g(e,["_url","file"],cM(n)),e}function JH(t,e){const n={},i=p(t,["pageSize"]);e!==void 0&&i!=null&&g(e,["_query","pageSize"],i);const r=p(t,["pageToken"]);return e!==void 0&&r!=null&&g(e,["_query","pageToken"],r),n}function KH(t){const e={},n=p(t,["config"]);return n!=null&&JH(n,e),e}function YH(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const i=p(t,["nextPageToken"]);i!=null&&g(e,["nextPageToken"],i);const r=p(t,["files"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(u=>u)),g(e,["files"],a)}return e}let jH=class extends _o{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new os(mo.PAGED_ITEM_FILES,i=>this.listInternal(i),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>n)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var n,i;let r,a="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=KH(e);return a=fe("files",c._url),u=c._query,delete c._url,delete c._query,r=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json().then(d=>{const m=d;return m.sdkHttpResponse={headers:h.headers},m})),r.then(h=>{const d=YH(h),m=new ZF;return Object.assign(m,d),m})}}async createInternal(e){var n,i;let r,a="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=HH(e);return a=fe("upload/v1beta/files",c._url),u=c._query,delete c._url,delete c._query,r=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),r.then(h=>{const d=GH(h),m=new e$;return Object.assign(m,d),m})}}async get(e){var n,i;let r,a="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=qH(e);return a=fe("files/{file}",c._url),u=c._query,delete c._url,delete c._query,r=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),r.then(h=>h)}}async delete(e){var n,i;let r,a="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=VH(e);return a=fe("files/{file}",c._url),u=c._query,delete c._url,delete c._query,r=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json().then(d=>{const m=d;return m.sdkHttpResponse={headers:h.headers},m})),r.then(h=>{const d=zH(h),m=new t$;return Object.assign(m,d),m})}}};function Wf(t){const e={},n=p(t,["data"]);if(n!=null&&g(e,["data"],n),p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=p(t,["mimeType"]);return i!=null&&g(e,["mimeType"],i),e}function XH(t){const e={},n=p(t,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(a=>dG(a))),g(e,["parts"],r)}const i=p(t,["role"]);return i!=null&&g(e,["role"],i),e}function WH(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=p(t,["fileUri"]);n!=null&&g(e,["fileUri"],n);const i=p(t,["mimeType"]);return i!=null&&g(e,["mimeType"],i),e}function QH(t){const e={},n=p(t,["id"]);n!=null&&g(e,["id"],n);const i=p(t,["args"]);i!=null&&g(e,["args"],i);const r=p(t,["name"]);if(r!=null&&g(e,["name"],r),p(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(p(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function ZH(t){const e={};if(p(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=p(t,["description"]);n!=null&&g(e,["description"],n);const i=p(t,["name"]);i!=null&&g(e,["name"],i);const r=p(t,["parameters"]);r!=null&&g(e,["parameters"],r);const a=p(t,["parametersJsonSchema"]);a!=null&&g(e,["parametersJsonSchema"],a);const u=p(t,["response"]);u!=null&&g(e,["response"],u);const c=p(t,["responseJsonSchema"]);return c!=null&&g(e,["responseJsonSchema"],c),e}function eG(t){const e={},n=p(t,["modelSelectionConfig"]);n!=null&&g(e,["modelConfig"],n);const i=p(t,["responseJsonSchema"]);i!=null&&g(e,["responseJsonSchema"],i);const r=p(t,["audioTimestamp"]);r!=null&&g(e,["audioTimestamp"],r);const a=p(t,["candidateCount"]);a!=null&&g(e,["candidateCount"],a);const u=p(t,["enableAffectiveDialog"]);u!=null&&g(e,["enableAffectiveDialog"],u);const c=p(t,["frequencyPenalty"]);c!=null&&g(e,["frequencyPenalty"],c);const h=p(t,["logprobs"]);h!=null&&g(e,["logprobs"],h);const d=p(t,["maxOutputTokens"]);d!=null&&g(e,["maxOutputTokens"],d);const m=p(t,["mediaResolution"]);m!=null&&g(e,["mediaResolution"],m);const y=p(t,["presencePenalty"]);y!=null&&g(e,["presencePenalty"],y);const S=p(t,["responseLogprobs"]);S!=null&&g(e,["responseLogprobs"],S);const b=p(t,["responseMimeType"]);b!=null&&g(e,["responseMimeType"],b);const T=p(t,["responseModalities"]);T!=null&&g(e,["responseModalities"],T);const A=p(t,["responseSchema"]);A!=null&&g(e,["responseSchema"],A);const x=p(t,["routingConfig"]);x!=null&&g(e,["routingConfig"],x);const M=p(t,["seed"]);M!=null&&g(e,["seed"],M);const I=p(t,["speechConfig"]);I!=null&&g(e,["speechConfig"],yM(I));const N=p(t,["stopSequences"]);N!=null&&g(e,["stopSequences"],N);const D=p(t,["temperature"]);D!=null&&g(e,["temperature"],D);const L=p(t,["thinkingConfig"]);L!=null&&g(e,["thinkingConfig"],L);const U=p(t,["topK"]);U!=null&&g(e,["topK"],U);const O=p(t,["topP"]);if(O!=null&&g(e,["topP"],O),p(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function tG(t){const e={};if(p(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=p(t,["enableWidget"]);return n!=null&&g(e,["enableWidget"],n),e}function nG(t){const e={};if(p(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(p(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=p(t,["timeRangeFilter"]);return n!=null&&g(e,["timeRangeFilter"],n),e}function iG(t,e){const n={},i=p(t,["generationConfig"]);e!==void 0&&i!=null&&g(e,["setup","generationConfig"],i);const r=p(t,["responseModalities"]);e!==void 0&&r!=null&&g(e,["setup","generationConfig","responseModalities"],r);const a=p(t,["temperature"]);e!==void 0&&a!=null&&g(e,["setup","generationConfig","temperature"],a);const u=p(t,["topP"]);e!==void 0&&u!=null&&g(e,["setup","generationConfig","topP"],u);const c=p(t,["topK"]);e!==void 0&&c!=null&&g(e,["setup","generationConfig","topK"],c);const h=p(t,["maxOutputTokens"]);e!==void 0&&h!=null&&g(e,["setup","generationConfig","maxOutputTokens"],h);const d=p(t,["mediaResolution"]);e!==void 0&&d!=null&&g(e,["setup","generationConfig","mediaResolution"],d);const m=p(t,["seed"]);e!==void 0&&m!=null&&g(e,["setup","generationConfig","seed"],m);const y=p(t,["speechConfig"]);e!==void 0&&y!=null&&g(e,["setup","generationConfig","speechConfig"],Hy(y));const S=p(t,["thinkingConfig"]);e!==void 0&&S!=null&&g(e,["setup","generationConfig","thinkingConfig"],S);const b=p(t,["enableAffectiveDialog"]);e!==void 0&&b!=null&&g(e,["setup","generationConfig","enableAffectiveDialog"],b);const T=p(t,["systemInstruction"]);e!==void 0&&T!=null&&g(e,["setup","systemInstruction"],XH(Ut(T)));const A=p(t,["tools"]);if(e!==void 0&&A!=null){let U=Ia(A);Array.isArray(U)&&(U=U.map(O=>pG(Na(O)))),g(e,["setup","tools"],U)}const x=p(t,["sessionResumption"]);e!==void 0&&x!=null&&g(e,["setup","sessionResumption"],hG(x));const M=p(t,["inputAudioTranscription"]);e!==void 0&&M!=null&&g(e,["setup","inputAudioTranscription"],M);const I=p(t,["outputAudioTranscription"]);e!==void 0&&I!=null&&g(e,["setup","outputAudioTranscription"],I);const N=p(t,["realtimeInputConfig"]);e!==void 0&&N!=null&&g(e,["setup","realtimeInputConfig"],N);const D=p(t,["contextWindowCompression"]);e!==void 0&&D!=null&&g(e,["setup","contextWindowCompression"],D);const L=p(t,["proactivity"]);if(e!==void 0&&L!=null&&g(e,["setup","proactivity"],L),p(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function oG(t,e){const n={},i=p(t,["generationConfig"]);e!==void 0&&i!=null&&g(e,["setup","generationConfig"],eG(i));const r=p(t,["responseModalities"]);e!==void 0&&r!=null&&g(e,["setup","generationConfig","responseModalities"],r);const a=p(t,["temperature"]);e!==void 0&&a!=null&&g(e,["setup","generationConfig","temperature"],a);const u=p(t,["topP"]);e!==void 0&&u!=null&&g(e,["setup","generationConfig","topP"],u);const c=p(t,["topK"]);e!==void 0&&c!=null&&g(e,["setup","generationConfig","topK"],c);const h=p(t,["maxOutputTokens"]);e!==void 0&&h!=null&&g(e,["setup","generationConfig","maxOutputTokens"],h);const d=p(t,["mediaResolution"]);e!==void 0&&d!=null&&g(e,["setup","generationConfig","mediaResolution"],d);const m=p(t,["seed"]);e!==void 0&&m!=null&&g(e,["setup","generationConfig","seed"],m);const y=p(t,["speechConfig"]);e!==void 0&&y!=null&&g(e,["setup","generationConfig","speechConfig"],yM(Hy(y)));const S=p(t,["thinkingConfig"]);e!==void 0&&S!=null&&g(e,["setup","generationConfig","thinkingConfig"],S);const b=p(t,["enableAffectiveDialog"]);e!==void 0&&b!=null&&g(e,["setup","generationConfig","enableAffectiveDialog"],b);const T=p(t,["systemInstruction"]);e!==void 0&&T!=null&&g(e,["setup","systemInstruction"],Ut(T));const A=p(t,["tools"]);if(e!==void 0&&A!=null){let O=Ia(A);Array.isArray(O)&&(O=O.map(q=>mG(Na(q)))),g(e,["setup","tools"],O)}const x=p(t,["sessionResumption"]);e!==void 0&&x!=null&&g(e,["setup","sessionResumption"],x);const M=p(t,["inputAudioTranscription"]);e!==void 0&&M!=null&&g(e,["setup","inputAudioTranscription"],M);const I=p(t,["outputAudioTranscription"]);e!==void 0&&I!=null&&g(e,["setup","outputAudioTranscription"],I);const N=p(t,["realtimeInputConfig"]);e!==void 0&&N!=null&&g(e,["setup","realtimeInputConfig"],N);const D=p(t,["contextWindowCompression"]);e!==void 0&&D!=null&&g(e,["setup","contextWindowCompression"],D);const L=p(t,["proactivity"]);e!==void 0&&L!=null&&g(e,["setup","proactivity"],L);const U=p(t,["explicitVadSignal"]);return e!==void 0&&U!=null&&g(e,["setup","explicitVadSignal"],U),n}function rG(t,e){const n={},i=p(e,["model"]);i!=null&&g(n,["setup","model"],Ve(t,i));const r=p(e,["config"]);return r!=null&&g(n,["config"],iG(r,n)),n}function sG(t,e){const n={},i=p(e,["model"]);i!=null&&g(n,["setup","model"],Ve(t,i));const r=p(e,["config"]);return r!=null&&g(n,["config"],oG(r,n)),n}function aG(t){const e={},n=p(t,["musicGenerationConfig"]);return n!=null&&g(e,["musicGenerationConfig"],n),e}function lG(t){const e={},n=p(t,["weightedPrompts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(r=>r)),g(e,["weightedPrompts"],i)}return e}function uG(t){const e={},n=p(t,["media"]);if(n!=null){let d=rM(n);Array.isArray(d)&&(d=d.map(m=>Wf(m))),g(e,["mediaChunks"],d)}const i=p(t,["audio"]);i!=null&&g(e,["audio"],Wf(aM(i)));const r=p(t,["audioStreamEnd"]);r!=null&&g(e,["audioStreamEnd"],r);const a=p(t,["video"]);a!=null&&g(e,["video"],Wf(sM(a)));const u=p(t,["text"]);u!=null&&g(e,["text"],u);const c=p(t,["activityStart"]);c!=null&&g(e,["activityStart"],c);const h=p(t,["activityEnd"]);return h!=null&&g(e,["activityEnd"],h),e}function cG(t){const e={},n=p(t,["media"]);if(n!=null){let d=rM(n);Array.isArray(d)&&(d=d.map(m=>m)),g(e,["mediaChunks"],d)}const i=p(t,["audio"]);i!=null&&g(e,["audio"],aM(i));const r=p(t,["audioStreamEnd"]);r!=null&&g(e,["audioStreamEnd"],r);const a=p(t,["video"]);a!=null&&g(e,["video"],sM(a));const u=p(t,["text"]);u!=null&&g(e,["text"],u);const c=p(t,["activityStart"]);c!=null&&g(e,["activityStart"],c);const h=p(t,["activityEnd"]);return h!=null&&g(e,["activityEnd"],h),e}function fG(t){const e={},n=p(t,["setupComplete"]);n!=null&&g(e,["setupComplete"],n);const i=p(t,["serverContent"]);i!=null&&g(e,["serverContent"],i);const r=p(t,["toolCall"]);r!=null&&g(e,["toolCall"],r);const a=p(t,["toolCallCancellation"]);a!=null&&g(e,["toolCallCancellation"],a);const u=p(t,["usageMetadata"]);u!=null&&g(e,["usageMetadata"],gG(u));const c=p(t,["goAway"]);c!=null&&g(e,["goAway"],c);const h=p(t,["sessionResumptionUpdate"]);h!=null&&g(e,["sessionResumptionUpdate"],h);const d=p(t,["voiceActivityDetectionSignal"]);return d!=null&&g(e,["voiceActivityDetectionSignal"],d),e}function dG(t){const e={},n=p(t,["mediaResolution"]);n!=null&&g(e,["mediaResolution"],n);const i=p(t,["codeExecutionResult"]);i!=null&&g(e,["codeExecutionResult"],i);const r=p(t,["executableCode"]);r!=null&&g(e,["executableCode"],r);const a=p(t,["fileData"]);a!=null&&g(e,["fileData"],WH(a));const u=p(t,["functionCall"]);u!=null&&g(e,["functionCall"],QH(u));const c=p(t,["functionResponse"]);c!=null&&g(e,["functionResponse"],c);const h=p(t,["inlineData"]);h!=null&&g(e,["inlineData"],Wf(h));const d=p(t,["text"]);d!=null&&g(e,["text"],d);const m=p(t,["thought"]);m!=null&&g(e,["thought"],m);const y=p(t,["thoughtSignature"]);y!=null&&g(e,["thoughtSignature"],y);const S=p(t,["videoMetadata"]);return S!=null&&g(e,["videoMetadata"],S),e}function hG(t){const e={},n=p(t,["handle"]);if(n!=null&&g(e,["handle"],n),p(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function yM(t){const e={},n=p(t,["voiceConfig"]);n!=null&&g(e,["voiceConfig"],n);const i=p(t,["languageCode"]);if(i!=null&&g(e,["languageCode"],i),p(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return e}function pG(t){const e={},n=p(t,["functionDeclarations"]);if(n!=null){let m=n;Array.isArray(m)&&(m=m.map(y=>y)),g(e,["functionDeclarations"],m)}if(p(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=p(t,["googleSearchRetrieval"]);i!=null&&g(e,["googleSearchRetrieval"],i);const r=p(t,["computerUse"]);r!=null&&g(e,["computerUse"],r);const a=p(t,["fileSearch"]);a!=null&&g(e,["fileSearch"],a);const u=p(t,["codeExecution"]);if(u!=null&&g(e,["codeExecution"],u),p(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const c=p(t,["googleMaps"]);c!=null&&g(e,["googleMaps"],tG(c));const h=p(t,["googleSearch"]);h!=null&&g(e,["googleSearch"],nG(h));const d=p(t,["urlContext"]);return d!=null&&g(e,["urlContext"],d),e}function mG(t){const e={},n=p(t,["functionDeclarations"]);if(n!=null){let y=n;Array.isArray(y)&&(y=y.map(S=>ZH(S))),g(e,["functionDeclarations"],y)}const i=p(t,["retrieval"]);i!=null&&g(e,["retrieval"],i);const r=p(t,["googleSearchRetrieval"]);r!=null&&g(e,["googleSearchRetrieval"],r);const a=p(t,["computerUse"]);if(a!=null&&g(e,["computerUse"],a),p(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const u=p(t,["codeExecution"]);u!=null&&g(e,["codeExecution"],u);const c=p(t,["enterpriseWebSearch"]);c!=null&&g(e,["enterpriseWebSearch"],c);const h=p(t,["googleMaps"]);h!=null&&g(e,["googleMaps"],h);const d=p(t,["googleSearch"]);d!=null&&g(e,["googleSearch"],d);const m=p(t,["urlContext"]);return m!=null&&g(e,["urlContext"],m),e}function gG(t){const e={},n=p(t,["promptTokenCount"]);n!=null&&g(e,["promptTokenCount"],n);const i=p(t,["cachedContentTokenCount"]);i!=null&&g(e,["cachedContentTokenCount"],i);const r=p(t,["candidatesTokenCount"]);r!=null&&g(e,["responseTokenCount"],r);const a=p(t,["toolUsePromptTokenCount"]);a!=null&&g(e,["toolUsePromptTokenCount"],a);const u=p(t,["thoughtsTokenCount"]);u!=null&&g(e,["thoughtsTokenCount"],u);const c=p(t,["totalTokenCount"]);c!=null&&g(e,["totalTokenCount"],c);const h=p(t,["promptTokensDetails"]);if(h!=null){let b=h;Array.isArray(b)&&(b=b.map(T=>T)),g(e,["promptTokensDetails"],b)}const d=p(t,["cacheTokensDetails"]);if(d!=null){let b=d;Array.isArray(b)&&(b=b.map(T=>T)),g(e,["cacheTokensDetails"],b)}const m=p(t,["candidatesTokensDetails"]);if(m!=null){let b=m;Array.isArray(b)&&(b=b.map(T=>T)),g(e,["responseTokensDetails"],b)}const y=p(t,["toolUsePromptTokensDetails"]);if(y!=null){let b=y;Array.isArray(b)&&(b=b.map(T=>T)),g(e,["toolUsePromptTokensDetails"],b)}const S=p(t,["trafficType"]);return S!=null&&g(e,["trafficType"],S),e}function vG(t){const e={},n=p(t,["data"]);if(n!=null&&g(e,["data"],n),p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=p(t,["mimeType"]);return i!=null&&g(e,["mimeType"],i),e}function yG(t){const e={},n=p(t,["content"]);n!=null&&g(e,["content"],n);const i=p(t,["citationMetadata"]);i!=null&&g(e,["citationMetadata"],_G(i));const r=p(t,["tokenCount"]);r!=null&&g(e,["tokenCount"],r);const a=p(t,["finishReason"]);a!=null&&g(e,["finishReason"],a);const u=p(t,["avgLogprobs"]);u!=null&&g(e,["avgLogprobs"],u);const c=p(t,["groundingMetadata"]);c!=null&&g(e,["groundingMetadata"],c);const h=p(t,["index"]);h!=null&&g(e,["index"],h);const d=p(t,["logprobsResult"]);d!=null&&g(e,["logprobsResult"],d);const m=p(t,["safetyRatings"]);if(m!=null){let S=m;Array.isArray(S)&&(S=S.map(b=>b)),g(e,["safetyRatings"],S)}const y=p(t,["urlContextMetadata"]);return y!=null&&g(e,["urlContextMetadata"],y),e}function _G(t){const e={},n=p(t,["citationSources"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(r=>r)),g(e,["citations"],i)}return e}function SG(t,e){const n={},i=p(e,["model"]);i!=null&&g(n,["_url","model"],Ve(t,i));const r=p(e,["contents"]);if(r!=null){let a=Hn(r);Array.isArray(a)&&(a=a.map(u=>u)),g(n,["contents"],a)}return n}function bG(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const i=p(t,["tokensInfo"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(a=>a)),g(e,["tokensInfo"],r)}return e}function EG(t){const e={},n=p(t,["values"]);n!=null&&g(e,["values"],n);const i=p(t,["statistics"]);return i!=null&&g(e,["statistics"],wG(i)),e}function wG(t){const e={},n=p(t,["truncated"]);n!=null&&g(e,["truncated"],n);const i=p(t,["token_count"]);return i!=null&&g(e,["tokenCount"],i),e}function ch(t){const e={},n=p(t,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(a=>DV(a))),g(e,["parts"],r)}const i=p(t,["role"]);return i!=null&&g(e,["role"],i),e}function CG(t){const e={},n=p(t,["controlType"]);n!=null&&g(e,["controlType"],n);const i=p(t,["enableControlImageComputation"]);return i!=null&&g(e,["computeControl"],i),e}function TG(t){const e={};if(p(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(p(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(p(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function AG(t,e){const n={},i=p(t,["systemInstruction"]);e!==void 0&&i!=null&&g(e,["systemInstruction"],Ut(i));const r=p(t,["tools"]);if(e!==void 0&&r!=null){let u=r;Array.isArray(u)&&(u=u.map(c=>wM(c))),g(e,["tools"],u)}const a=p(t,["generationConfig"]);return e!==void 0&&a!=null&&g(e,["generationConfig"],vV(a)),n}function xG(t,e){const n={},i=p(e,["model"]);i!=null&&g(n,["_url","model"],Ve(t,i));const r=p(e,["contents"]);if(r!=null){let u=Hn(r);Array.isArray(u)&&(u=u.map(c=>ch(c))),g(n,["contents"],u)}const a=p(e,["config"]);return a!=null&&TG(a),n}function RG(t,e){const n={},i=p(e,["model"]);i!=null&&g(n,["_url","model"],Ve(t,i));const r=p(e,["contents"]);if(r!=null){let u=Hn(r);Array.isArray(u)&&(u=u.map(c=>c)),g(n,["contents"],u)}const a=p(e,["config"]);return a!=null&&AG(a,n),n}function MG(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const i=p(t,["totalTokens"]);i!=null&&g(e,["totalTokens"],i);const r=p(t,["cachedContentTokenCount"]);return r!=null&&g(e,["cachedContentTokenCount"],r),e}function NG(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const i=p(t,["totalTokens"]);return i!=null&&g(e,["totalTokens"],i),e}function IG(t,e){const n={},i=p(e,["model"]);return i!=null&&g(n,["_url","name"],Ve(t,i)),n}function DG(t,e){const n={},i=p(e,["model"]);return i!=null&&g(n,["_url","name"],Ve(t,i)),n}function OG(t){const e={},n=p(t,["sdkHttpResponse"]);return n!=null&&g(e,["sdkHttpResponse"],n),e}function PG(t){const e={},n=p(t,["sdkHttpResponse"]);return n!=null&&g(e,["sdkHttpResponse"],n),e}function kG(t,e){const n={},i=p(t,["outputGcsUri"]);e!==void 0&&i!=null&&g(e,["parameters","storageUri"],i);const r=p(t,["negativePrompt"]);e!==void 0&&r!=null&&g(e,["parameters","negativePrompt"],r);const a=p(t,["numberOfImages"]);e!==void 0&&a!=null&&g(e,["parameters","sampleCount"],a);const u=p(t,["aspectRatio"]);e!==void 0&&u!=null&&g(e,["parameters","aspectRatio"],u);const c=p(t,["guidanceScale"]);e!==void 0&&c!=null&&g(e,["parameters","guidanceScale"],c);const h=p(t,["seed"]);e!==void 0&&h!=null&&g(e,["parameters","seed"],h);const d=p(t,["safetyFilterLevel"]);e!==void 0&&d!=null&&g(e,["parameters","safetySetting"],d);const m=p(t,["personGeneration"]);e!==void 0&&m!=null&&g(e,["parameters","personGeneration"],m);const y=p(t,["includeSafetyAttributes"]);e!==void 0&&y!=null&&g(e,["parameters","includeSafetyAttributes"],y);const S=p(t,["includeRaiReason"]);e!==void 0&&S!=null&&g(e,["parameters","includeRaiReason"],S);const b=p(t,["language"]);e!==void 0&&b!=null&&g(e,["parameters","language"],b);const T=p(t,["outputMimeType"]);e!==void 0&&T!=null&&g(e,["parameters","outputOptions","mimeType"],T);const A=p(t,["outputCompressionQuality"]);e!==void 0&&A!=null&&g(e,["parameters","outputOptions","compressionQuality"],A);const x=p(t,["addWatermark"]);e!==void 0&&x!=null&&g(e,["parameters","addWatermark"],x);const M=p(t,["labels"]);e!==void 0&&M!=null&&g(e,["labels"],M);const I=p(t,["editMode"]);e!==void 0&&I!=null&&g(e,["parameters","editMode"],I);const N=p(t,["baseSteps"]);return e!==void 0&&N!=null&&g(e,["parameters","editConfig","baseSteps"],N),n}function LG(t,e){const n={},i=p(e,["model"]);i!=null&&g(n,["_url","model"],Ve(t,i));const r=p(e,["prompt"]);r!=null&&g(n,["instances[0]","prompt"],r);const a=p(e,["referenceImages"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(h=>BV(h))),g(n,["instances[0]","referenceImages"],c)}const u=p(e,["config"]);return u!=null&&kG(u,n),n}function UG(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const i=p(t,["predictions"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(a=>fh(a))),g(e,["generatedImages"],r)}return e}function BG(t,e){const n={},i=p(t,["taskType"]);e!==void 0&&i!=null&&g(e,["requests[]","taskType"],i);const r=p(t,["title"]);e!==void 0&&r!=null&&g(e,["requests[]","title"],r);const a=p(t,["outputDimensionality"]);if(e!==void 0&&a!=null&&g(e,["requests[]","outputDimensionality"],a),p(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(p(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function FG(t,e){const n={},i=p(t,["taskType"]);e!==void 0&&i!=null&&g(e,["instances[]","task_type"],i);const r=p(t,["title"]);e!==void 0&&r!=null&&g(e,["instances[]","title"],r);const a=p(t,["outputDimensionality"]);e!==void 0&&a!=null&&g(e,["parameters","outputDimensionality"],a);const u=p(t,["mimeType"]);e!==void 0&&u!=null&&g(e,["instances[]","mimeType"],u);const c=p(t,["autoTruncate"]);return e!==void 0&&c!=null&&g(e,["parameters","autoTruncate"],c),n}function $G(t,e){const n={},i=p(e,["model"]);i!=null&&g(n,["_url","model"],Ve(t,i));const r=p(e,["contents"]);if(r!=null){let c=By(t,r);Array.isArray(c)&&(c=c.map(h=>h)),g(n,["requests[]","content"],c)}const a=p(e,["config"]);a!=null&&BG(a,n);const u=p(e,["model"]);return u!==void 0&&g(n,["requests[]","model"],Ve(t,u)),n}function HG(t,e){const n={},i=p(e,["model"]);i!=null&&g(n,["_url","model"],Ve(t,i));const r=p(e,["contents"]);if(r!=null){let u=By(t,r);Array.isArray(u)&&(u=u.map(c=>c)),g(n,["instances[]","content"],u)}const a=p(e,["config"]);return a!=null&&FG(a,n),n}function GG(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const i=p(t,["embeddings"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(u=>u)),g(e,["embeddings"],a)}const r=p(t,["metadata"]);return r!=null&&g(e,["metadata"],r),e}function VG(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const i=p(t,["predictions[]","embeddings"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(u=>EG(u))),g(e,["embeddings"],a)}const r=p(t,["metadata"]);return r!=null&&g(e,["metadata"],r),e}function zG(t){const e={},n=p(t,["endpoint"]);n!=null&&g(e,["name"],n);const i=p(t,["deployedModelId"]);return i!=null&&g(e,["deployedModelId"],i),e}function qG(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=p(t,["fileUri"]);n!=null&&g(e,["fileUri"],n);const i=p(t,["mimeType"]);return i!=null&&g(e,["mimeType"],i),e}function JG(t){const e={},n=p(t,["id"]);n!=null&&g(e,["id"],n);const i=p(t,["args"]);i!=null&&g(e,["args"],i);const r=p(t,["name"]);if(r!=null&&g(e,["name"],r),p(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(p(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function KG(t){const e={},n=p(t,["mode"]);n!=null&&g(e,["mode"],n);const i=p(t,["allowedFunctionNames"]);if(i!=null&&g(e,["allowedFunctionNames"],i),p(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function YG(t){const e={};if(p(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=p(t,["description"]);n!=null&&g(e,["description"],n);const i=p(t,["name"]);i!=null&&g(e,["name"],i);const r=p(t,["parameters"]);r!=null&&g(e,["parameters"],r);const a=p(t,["parametersJsonSchema"]);a!=null&&g(e,["parametersJsonSchema"],a);const u=p(t,["response"]);u!=null&&g(e,["response"],u);const c=p(t,["responseJsonSchema"]);return c!=null&&g(e,["responseJsonSchema"],c),e}function jG(t,e,n){const i={},r=p(e,["systemInstruction"]);n!==void 0&&r!=null&&g(n,["systemInstruction"],ch(Ut(r)));const a=p(e,["temperature"]);a!=null&&g(i,["temperature"],a);const u=p(e,["topP"]);u!=null&&g(i,["topP"],u);const c=p(e,["topK"]);c!=null&&g(i,["topK"],c);const h=p(e,["candidateCount"]);h!=null&&g(i,["candidateCount"],h);const d=p(e,["maxOutputTokens"]);d!=null&&g(i,["maxOutputTokens"],d);const m=p(e,["stopSequences"]);m!=null&&g(i,["stopSequences"],m);const y=p(e,["responseLogprobs"]);y!=null&&g(i,["responseLogprobs"],y);const S=p(e,["logprobs"]);S!=null&&g(i,["logprobs"],S);const b=p(e,["presencePenalty"]);b!=null&&g(i,["presencePenalty"],b);const T=p(e,["frequencyPenalty"]);T!=null&&g(i,["frequencyPenalty"],T);const A=p(e,["seed"]);A!=null&&g(i,["seed"],A);const x=p(e,["responseMimeType"]);x!=null&&g(i,["responseMimeType"],x);const M=p(e,["responseSchema"]);M!=null&&g(i,["responseSchema"],Fy(M));const I=p(e,["responseJsonSchema"]);if(I!=null&&g(i,["responseJsonSchema"],I),p(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(p(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const N=p(e,["safetySettings"]);if(n!==void 0&&N!=null){let ie=N;Array.isArray(ie)&&(ie=ie.map(ae=>FV(ae))),g(n,["safetySettings"],ie)}const D=p(e,["tools"]);if(n!==void 0&&D!=null){let ie=Ia(D);Array.isArray(ie)&&(ie=ie.map(ae=>JV(Na(ae)))),g(n,["tools"],ie)}const L=p(e,["toolConfig"]);if(n!==void 0&&L!=null&&g(n,["toolConfig"],qV(L)),p(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const U=p(e,["cachedContent"]);n!==void 0&&U!=null&&g(n,["cachedContent"],So(t,U));const O=p(e,["responseModalities"]);O!=null&&g(i,["responseModalities"],O);const q=p(e,["mediaResolution"]);q!=null&&g(i,["mediaResolution"],q);const J=p(e,["speechConfig"]);if(J!=null&&g(i,["speechConfig"],$y(J)),p(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const j=p(e,["thinkingConfig"]);j!=null&&g(i,["thinkingConfig"],j);const W=p(e,["imageConfig"]);W!=null&&g(i,["imageConfig"],EV(W));const re=p(e,["enableEnhancedCivicAnswers"]);return re!=null&&g(i,["enableEnhancedCivicAnswers"],re),i}function XG(t,e,n){const i={},r=p(e,["systemInstruction"]);n!==void 0&&r!=null&&g(n,["systemInstruction"],Ut(r));const a=p(e,["temperature"]);a!=null&&g(i,["temperature"],a);const u=p(e,["topP"]);u!=null&&g(i,["topP"],u);const c=p(e,["topK"]);c!=null&&g(i,["topK"],c);const h=p(e,["candidateCount"]);h!=null&&g(i,["candidateCount"],h);const d=p(e,["maxOutputTokens"]);d!=null&&g(i,["maxOutputTokens"],d);const m=p(e,["stopSequences"]);m!=null&&g(i,["stopSequences"],m);const y=p(e,["responseLogprobs"]);y!=null&&g(i,["responseLogprobs"],y);const S=p(e,["logprobs"]);S!=null&&g(i,["logprobs"],S);const b=p(e,["presencePenalty"]);b!=null&&g(i,["presencePenalty"],b);const T=p(e,["frequencyPenalty"]);T!=null&&g(i,["frequencyPenalty"],T);const A=p(e,["seed"]);A!=null&&g(i,["seed"],A);const x=p(e,["responseMimeType"]);x!=null&&g(i,["responseMimeType"],x);const M=p(e,["responseSchema"]);M!=null&&g(i,["responseSchema"],Fy(M));const I=p(e,["responseJsonSchema"]);I!=null&&g(i,["responseJsonSchema"],I);const N=p(e,["routingConfig"]);N!=null&&g(i,["routingConfig"],N);const D=p(e,["modelSelectionConfig"]);D!=null&&g(i,["modelConfig"],D);const L=p(e,["safetySettings"]);if(n!==void 0&&L!=null){let F=L;Array.isArray(F)&&(F=F.map(Q=>Q)),g(n,["safetySettings"],F)}const U=p(e,["tools"]);if(n!==void 0&&U!=null){let F=Ia(U);Array.isArray(F)&&(F=F.map(Q=>wM(Na(Q)))),g(n,["tools"],F)}const O=p(e,["toolConfig"]);n!==void 0&&O!=null&&g(n,["toolConfig"],O);const q=p(e,["labels"]);n!==void 0&&q!=null&&g(n,["labels"],q);const J=p(e,["cachedContent"]);n!==void 0&&J!=null&&g(n,["cachedContent"],So(t,J));const j=p(e,["responseModalities"]);j!=null&&g(i,["responseModalities"],j);const W=p(e,["mediaResolution"]);W!=null&&g(i,["mediaResolution"],W);const re=p(e,["speechConfig"]);re!=null&&g(i,["speechConfig"],EM($y(re)));const ie=p(e,["audioTimestamp"]);ie!=null&&g(i,["audioTimestamp"],ie);const ae=p(e,["thinkingConfig"]);ae!=null&&g(i,["thinkingConfig"],ae);const de=p(e,["imageConfig"]);if(de!=null&&g(i,["imageConfig"],wV(de)),p(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return i}function oT(t,e){const n={},i=p(e,["model"]);i!=null&&g(n,["_url","model"],Ve(t,i));const r=p(e,["contents"]);if(r!=null){let u=Hn(r);Array.isArray(u)&&(u=u.map(c=>ch(c))),g(n,["contents"],u)}const a=p(e,["config"]);return a!=null&&g(n,["generationConfig"],jG(t,a,n)),n}function rT(t,e){const n={},i=p(e,["model"]);i!=null&&g(n,["_url","model"],Ve(t,i));const r=p(e,["contents"]);if(r!=null){let u=Hn(r);Array.isArray(u)&&(u=u.map(c=>c)),g(n,["contents"],u)}const a=p(e,["config"]);return a!=null&&g(n,["generationConfig"],XG(t,a,n)),n}function sT(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const i=p(t,["candidates"]);if(i!=null){let h=i;Array.isArray(h)&&(h=h.map(d=>yG(d))),g(e,["candidates"],h)}const r=p(t,["modelVersion"]);r!=null&&g(e,["modelVersion"],r);const a=p(t,["promptFeedback"]);a!=null&&g(e,["promptFeedback"],a);const u=p(t,["responseId"]);u!=null&&g(e,["responseId"],u);const c=p(t,["usageMetadata"]);return c!=null&&g(e,["usageMetadata"],c),e}function aT(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const i=p(t,["candidates"]);if(i!=null){let d=i;Array.isArray(d)&&(d=d.map(m=>m)),g(e,["candidates"],d)}const r=p(t,["createTime"]);r!=null&&g(e,["createTime"],r);const a=p(t,["modelVersion"]);a!=null&&g(e,["modelVersion"],a);const u=p(t,["promptFeedback"]);u!=null&&g(e,["promptFeedback"],u);const c=p(t,["responseId"]);c!=null&&g(e,["responseId"],c);const h=p(t,["usageMetadata"]);return h!=null&&g(e,["usageMetadata"],h),e}function WG(t,e){const n={};if(p(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(p(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const i=p(t,["numberOfImages"]);e!==void 0&&i!=null&&g(e,["parameters","sampleCount"],i);const r=p(t,["aspectRatio"]);e!==void 0&&r!=null&&g(e,["parameters","aspectRatio"],r);const a=p(t,["guidanceScale"]);if(e!==void 0&&a!=null&&g(e,["parameters","guidanceScale"],a),p(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const u=p(t,["safetyFilterLevel"]);e!==void 0&&u!=null&&g(e,["parameters","safetySetting"],u);const c=p(t,["personGeneration"]);e!==void 0&&c!=null&&g(e,["parameters","personGeneration"],c);const h=p(t,["includeSafetyAttributes"]);e!==void 0&&h!=null&&g(e,["parameters","includeSafetyAttributes"],h);const d=p(t,["includeRaiReason"]);e!==void 0&&d!=null&&g(e,["parameters","includeRaiReason"],d);const m=p(t,["language"]);e!==void 0&&m!=null&&g(e,["parameters","language"],m);const y=p(t,["outputMimeType"]);e!==void 0&&y!=null&&g(e,["parameters","outputOptions","mimeType"],y);const S=p(t,["outputCompressionQuality"]);if(e!==void 0&&S!=null&&g(e,["parameters","outputOptions","compressionQuality"],S),p(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(p(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const b=p(t,["imageSize"]);if(e!==void 0&&b!=null&&g(e,["parameters","sampleImageSize"],b),p(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function QG(t,e){const n={},i=p(t,["outputGcsUri"]);e!==void 0&&i!=null&&g(e,["parameters","storageUri"],i);const r=p(t,["negativePrompt"]);e!==void 0&&r!=null&&g(e,["parameters","negativePrompt"],r);const a=p(t,["numberOfImages"]);e!==void 0&&a!=null&&g(e,["parameters","sampleCount"],a);const u=p(t,["aspectRatio"]);e!==void 0&&u!=null&&g(e,["parameters","aspectRatio"],u);const c=p(t,["guidanceScale"]);e!==void 0&&c!=null&&g(e,["parameters","guidanceScale"],c);const h=p(t,["seed"]);e!==void 0&&h!=null&&g(e,["parameters","seed"],h);const d=p(t,["safetyFilterLevel"]);e!==void 0&&d!=null&&g(e,["parameters","safetySetting"],d);const m=p(t,["personGeneration"]);e!==void 0&&m!=null&&g(e,["parameters","personGeneration"],m);const y=p(t,["includeSafetyAttributes"]);e!==void 0&&y!=null&&g(e,["parameters","includeSafetyAttributes"],y);const S=p(t,["includeRaiReason"]);e!==void 0&&S!=null&&g(e,["parameters","includeRaiReason"],S);const b=p(t,["language"]);e!==void 0&&b!=null&&g(e,["parameters","language"],b);const T=p(t,["outputMimeType"]);e!==void 0&&T!=null&&g(e,["parameters","outputOptions","mimeType"],T);const A=p(t,["outputCompressionQuality"]);e!==void 0&&A!=null&&g(e,["parameters","outputOptions","compressionQuality"],A);const x=p(t,["addWatermark"]);e!==void 0&&x!=null&&g(e,["parameters","addWatermark"],x);const M=p(t,["labels"]);e!==void 0&&M!=null&&g(e,["labels"],M);const I=p(t,["imageSize"]);e!==void 0&&I!=null&&g(e,["parameters","sampleImageSize"],I);const N=p(t,["enhancePrompt"]);return e!==void 0&&N!=null&&g(e,["parameters","enhancePrompt"],N),n}function ZG(t,e){const n={},i=p(e,["model"]);i!=null&&g(n,["_url","model"],Ve(t,i));const r=p(e,["prompt"]);r!=null&&g(n,["instances[0]","prompt"],r);const a=p(e,["config"]);return a!=null&&WG(a,n),n}function eV(t,e){const n={},i=p(e,["model"]);i!=null&&g(n,["_url","model"],Ve(t,i));const r=p(e,["prompt"]);r!=null&&g(n,["instances[0]","prompt"],r);const a=p(e,["config"]);return a!=null&&QG(a,n),n}function tV(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const i=p(t,["predictions"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(u=>hV(u))),g(e,["generatedImages"],a)}const r=p(t,["positivePromptSafetyAttributes"]);return r!=null&&g(e,["positivePromptSafetyAttributes"],SM(r)),e}function nV(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const i=p(t,["predictions"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(u=>fh(u))),g(e,["generatedImages"],a)}const r=p(t,["positivePromptSafetyAttributes"]);return r!=null&&g(e,["positivePromptSafetyAttributes"],bM(r)),e}function iV(t,e){const n={},i=p(t,["numberOfVideos"]);if(e!==void 0&&i!=null&&g(e,["parameters","sampleCount"],i),p(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(p(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const r=p(t,["durationSeconds"]);if(e!==void 0&&r!=null&&g(e,["parameters","durationSeconds"],r),p(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const a=p(t,["aspectRatio"]);e!==void 0&&a!=null&&g(e,["parameters","aspectRatio"],a);const u=p(t,["resolution"]);e!==void 0&&u!=null&&g(e,["parameters","resolution"],u);const c=p(t,["personGeneration"]);if(e!==void 0&&c!=null&&g(e,["parameters","personGeneration"],c),p(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const h=p(t,["negativePrompt"]);e!==void 0&&h!=null&&g(e,["parameters","negativePrompt"],h);const d=p(t,["enhancePrompt"]);if(e!==void 0&&d!=null&&g(e,["parameters","enhancePrompt"],d),p(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const m=p(t,["lastFrame"]);e!==void 0&&m!=null&&g(e,["instances[0]","lastFrame"],dh(m));const y=p(t,["referenceImages"]);if(e!==void 0&&y!=null){let S=y;Array.isArray(S)&&(S=S.map(b=>rz(b))),g(e,["instances[0]","referenceImages"],S)}if(p(t,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(p(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function oV(t,e){const n={},i=p(t,["numberOfVideos"]);e!==void 0&&i!=null&&g(e,["parameters","sampleCount"],i);const r=p(t,["outputGcsUri"]);e!==void 0&&r!=null&&g(e,["parameters","storageUri"],r);const a=p(t,["fps"]);e!==void 0&&a!=null&&g(e,["parameters","fps"],a);const u=p(t,["durationSeconds"]);e!==void 0&&u!=null&&g(e,["parameters","durationSeconds"],u);const c=p(t,["seed"]);e!==void 0&&c!=null&&g(e,["parameters","seed"],c);const h=p(t,["aspectRatio"]);e!==void 0&&h!=null&&g(e,["parameters","aspectRatio"],h);const d=p(t,["resolution"]);e!==void 0&&d!=null&&g(e,["parameters","resolution"],d);const m=p(t,["personGeneration"]);e!==void 0&&m!=null&&g(e,["parameters","personGeneration"],m);const y=p(t,["pubsubTopic"]);e!==void 0&&y!=null&&g(e,["parameters","pubsubTopic"],y);const S=p(t,["negativePrompt"]);e!==void 0&&S!=null&&g(e,["parameters","negativePrompt"],S);const b=p(t,["enhancePrompt"]);e!==void 0&&b!=null&&g(e,["parameters","enhancePrompt"],b);const T=p(t,["generateAudio"]);e!==void 0&&T!=null&&g(e,["parameters","generateAudio"],T);const A=p(t,["lastFrame"]);e!==void 0&&A!=null&&g(e,["instances[0]","lastFrame"],fi(A));const x=p(t,["referenceImages"]);if(e!==void 0&&x!=null){let N=x;Array.isArray(N)&&(N=N.map(D=>sz(D))),g(e,["instances[0]","referenceImages"],N)}const M=p(t,["mask"]);e!==void 0&&M!=null&&g(e,["instances[0]","mask"],oz(M));const I=p(t,["compressionQuality"]);return e!==void 0&&I!=null&&g(e,["parameters","compressionQuality"],I),n}function rV(t){const e={},n=p(t,["name"]);n!=null&&g(e,["name"],n);const i=p(t,["metadata"]);i!=null&&g(e,["metadata"],i);const r=p(t,["done"]);r!=null&&g(e,["done"],r);const a=p(t,["error"]);a!=null&&g(e,["error"],a);const u=p(t,["response","generateVideoResponse"]);return u!=null&&g(e,["response"],uV(u)),e}function sV(t){const e={},n=p(t,["name"]);n!=null&&g(e,["name"],n);const i=p(t,["metadata"]);i!=null&&g(e,["metadata"],i);const r=p(t,["done"]);r!=null&&g(e,["done"],r);const a=p(t,["error"]);a!=null&&g(e,["error"],a);const u=p(t,["response"]);return u!=null&&g(e,["response"],cV(u)),e}function aV(t,e){const n={},i=p(e,["model"]);i!=null&&g(n,["_url","model"],Ve(t,i));const r=p(e,["prompt"]);r!=null&&g(n,["instances[0]","prompt"],r);const a=p(e,["image"]);a!=null&&g(n,["instances[0]","image"],dh(a));const u=p(e,["video"]);u!=null&&g(n,["instances[0]","video"],CM(u));const c=p(e,["source"]);c!=null&&fV(c,n);const h=p(e,["config"]);return h!=null&&iV(h,n),n}function lV(t,e){const n={},i=p(e,["model"]);i!=null&&g(n,["_url","model"],Ve(t,i));const r=p(e,["prompt"]);r!=null&&g(n,["instances[0]","prompt"],r);const a=p(e,["image"]);a!=null&&g(n,["instances[0]","image"],fi(a));const u=p(e,["video"]);u!=null&&g(n,["instances[0]","video"],TM(u));const c=p(e,["source"]);c!=null&&dV(c,n);const h=p(e,["config"]);return h!=null&&oV(h,n),n}function uV(t){const e={},n=p(t,["generatedSamples"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(u=>mV(u))),g(e,["generatedVideos"],a)}const i=p(t,["raiMediaFilteredCount"]);i!=null&&g(e,["raiMediaFilteredCount"],i);const r=p(t,["raiMediaFilteredReasons"]);return r!=null&&g(e,["raiMediaFilteredReasons"],r),e}function cV(t){const e={},n=p(t,["videos"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(u=>gV(u))),g(e,["generatedVideos"],a)}const i=p(t,["raiMediaFilteredCount"]);i!=null&&g(e,["raiMediaFilteredCount"],i);const r=p(t,["raiMediaFilteredReasons"]);return r!=null&&g(e,["raiMediaFilteredReasons"],r),e}function fV(t,e){const n={},i=p(t,["prompt"]);e!==void 0&&i!=null&&g(e,["instances[0]","prompt"],i);const r=p(t,["image"]);e!==void 0&&r!=null&&g(e,["instances[0]","image"],dh(r));const a=p(t,["video"]);return e!==void 0&&a!=null&&g(e,["instances[0]","video"],CM(a)),n}function dV(t,e){const n={},i=p(t,["prompt"]);e!==void 0&&i!=null&&g(e,["instances[0]","prompt"],i);const r=p(t,["image"]);e!==void 0&&r!=null&&g(e,["instances[0]","image"],fi(r));const a=p(t,["video"]);return e!==void 0&&a!=null&&g(e,["instances[0]","video"],TM(a)),n}function hV(t){const e={},n=p(t,["_self"]);n!=null&&g(e,["image"],CV(n));const i=p(t,["raiFilteredReason"]);i!=null&&g(e,["raiFilteredReason"],i);const r=p(t,["_self"]);return r!=null&&g(e,["safetyAttributes"],SM(r)),e}function fh(t){const e={},n=p(t,["_self"]);n!=null&&g(e,["image"],_M(n));const i=p(t,["raiFilteredReason"]);i!=null&&g(e,["raiFilteredReason"],i);const r=p(t,["_self"]);r!=null&&g(e,["safetyAttributes"],bM(r));const a=p(t,["prompt"]);return a!=null&&g(e,["enhancedPrompt"],a),e}function pV(t){const e={},n=p(t,["_self"]);n!=null&&g(e,["mask"],_M(n));const i=p(t,["labels"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(a=>a)),g(e,["labels"],r)}return e}function mV(t){const e={},n=p(t,["video"]);return n!=null&&g(e,["video"],nz(n)),e}function gV(t){const e={},n=p(t,["_self"]);return n!=null&&g(e,["video"],iz(n)),e}function vV(t){const e={},n=p(t,["modelSelectionConfig"]);n!=null&&g(e,["modelConfig"],n);const i=p(t,["responseJsonSchema"]);i!=null&&g(e,["responseJsonSchema"],i);const r=p(t,["audioTimestamp"]);r!=null&&g(e,["audioTimestamp"],r);const a=p(t,["candidateCount"]);a!=null&&g(e,["candidateCount"],a);const u=p(t,["enableAffectiveDialog"]);u!=null&&g(e,["enableAffectiveDialog"],u);const c=p(t,["frequencyPenalty"]);c!=null&&g(e,["frequencyPenalty"],c);const h=p(t,["logprobs"]);h!=null&&g(e,["logprobs"],h);const d=p(t,["maxOutputTokens"]);d!=null&&g(e,["maxOutputTokens"],d);const m=p(t,["mediaResolution"]);m!=null&&g(e,["mediaResolution"],m);const y=p(t,["presencePenalty"]);y!=null&&g(e,["presencePenalty"],y);const S=p(t,["responseLogprobs"]);S!=null&&g(e,["responseLogprobs"],S);const b=p(t,["responseMimeType"]);b!=null&&g(e,["responseMimeType"],b);const T=p(t,["responseModalities"]);T!=null&&g(e,["responseModalities"],T);const A=p(t,["responseSchema"]);A!=null&&g(e,["responseSchema"],A);const x=p(t,["routingConfig"]);x!=null&&g(e,["routingConfig"],x);const M=p(t,["seed"]);M!=null&&g(e,["seed"],M);const I=p(t,["speechConfig"]);I!=null&&g(e,["speechConfig"],EM(I));const N=p(t,["stopSequences"]);N!=null&&g(e,["stopSequences"],N);const D=p(t,["temperature"]);D!=null&&g(e,["temperature"],D);const L=p(t,["thinkingConfig"]);L!=null&&g(e,["thinkingConfig"],L);const U=p(t,["topK"]);U!=null&&g(e,["topK"],U);const O=p(t,["topP"]);if(O!=null&&g(e,["topP"],O),p(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function yV(t,e){const n={},i=p(e,["model"]);return i!=null&&g(n,["_url","name"],Ve(t,i)),n}function _V(t,e){const n={},i=p(e,["model"]);return i!=null&&g(n,["_url","name"],Ve(t,i)),n}function SV(t){const e={};if(p(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=p(t,["enableWidget"]);return n!=null&&g(e,["enableWidget"],n),e}function bV(t){const e={};if(p(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(p(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=p(t,["timeRangeFilter"]);return n!=null&&g(e,["timeRangeFilter"],n),e}function EV(t){const e={},n=p(t,["aspectRatio"]);n!=null&&g(e,["aspectRatio"],n);const i=p(t,["imageSize"]);if(i!=null&&g(e,["imageSize"],i),p(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(p(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function wV(t){const e={},n=p(t,["aspectRatio"]);n!=null&&g(e,["aspectRatio"],n);const i=p(t,["imageSize"]);i!=null&&g(e,["imageSize"],i);const r=p(t,["outputMimeType"]);r!=null&&g(e,["imageOutputOptions","mimeType"],r);const a=p(t,["outputCompressionQuality"]);return a!=null&&g(e,["imageOutputOptions","compressionQuality"],a),e}function CV(t){const e={},n=p(t,["bytesBase64Encoded"]);n!=null&&g(e,["imageBytes"],hr(n));const i=p(t,["mimeType"]);return i!=null&&g(e,["mimeType"],i),e}function _M(t){const e={},n=p(t,["gcsUri"]);n!=null&&g(e,["gcsUri"],n);const i=p(t,["bytesBase64Encoded"]);i!=null&&g(e,["imageBytes"],hr(i));const r=p(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function dh(t){const e={};if(p(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=p(t,["imageBytes"]);n!=null&&g(e,["bytesBase64Encoded"],hr(n));const i=p(t,["mimeType"]);return i!=null&&g(e,["mimeType"],i),e}function fi(t){const e={},n=p(t,["gcsUri"]);n!=null&&g(e,["gcsUri"],n);const i=p(t,["imageBytes"]);i!=null&&g(e,["bytesBase64Encoded"],hr(i));const r=p(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function TV(t,e,n){const i={},r=p(e,["pageSize"]);n!==void 0&&r!=null&&g(n,["_query","pageSize"],r);const a=p(e,["pageToken"]);n!==void 0&&a!=null&&g(n,["_query","pageToken"],a);const u=p(e,["filter"]);n!==void 0&&u!=null&&g(n,["_query","filter"],u);const c=p(e,["queryBase"]);return n!==void 0&&c!=null&&g(n,["_url","models_url"],fM(t,c)),i}function AV(t,e,n){const i={},r=p(e,["pageSize"]);n!==void 0&&r!=null&&g(n,["_query","pageSize"],r);const a=p(e,["pageToken"]);n!==void 0&&a!=null&&g(n,["_query","pageToken"],a);const u=p(e,["filter"]);n!==void 0&&u!=null&&g(n,["_query","filter"],u);const c=p(e,["queryBase"]);return n!==void 0&&c!=null&&g(n,["_url","models_url"],fM(t,c)),i}function xV(t,e){const n={},i=p(e,["config"]);return i!=null&&TV(t,i,n),n}function RV(t,e){const n={},i=p(e,["config"]);return i!=null&&AV(t,i,n),n}function MV(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const i=p(t,["nextPageToken"]);i!=null&&g(e,["nextPageToken"],i);const r=p(t,["_self"]);if(r!=null){let a=dM(r);Array.isArray(a)&&(a=a.map(u=>Ev(u))),g(e,["models"],a)}return e}function NV(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const i=p(t,["nextPageToken"]);i!=null&&g(e,["nextPageToken"],i);const r=p(t,["_self"]);if(r!=null){let a=dM(r);Array.isArray(a)&&(a=a.map(u=>wv(u))),g(e,["models"],a)}return e}function IV(t){const e={},n=p(t,["maskMode"]);n!=null&&g(e,["maskMode"],n);const i=p(t,["segmentationClasses"]);i!=null&&g(e,["maskClasses"],i);const r=p(t,["maskDilation"]);return r!=null&&g(e,["dilation"],r),e}function Ev(t){const e={},n=p(t,["name"]);n!=null&&g(e,["name"],n);const i=p(t,["displayName"]);i!=null&&g(e,["displayName"],i);const r=p(t,["description"]);r!=null&&g(e,["description"],r);const a=p(t,["version"]);a!=null&&g(e,["version"],a);const u=p(t,["_self"]);u!=null&&g(e,["tunedModelInfo"],KV(u));const c=p(t,["inputTokenLimit"]);c!=null&&g(e,["inputTokenLimit"],c);const h=p(t,["outputTokenLimit"]);h!=null&&g(e,["outputTokenLimit"],h);const d=p(t,["supportedGenerationMethods"]);d!=null&&g(e,["supportedActions"],d);const m=p(t,["temperature"]);m!=null&&g(e,["temperature"],m);const y=p(t,["maxTemperature"]);y!=null&&g(e,["maxTemperature"],y);const S=p(t,["topP"]);S!=null&&g(e,["topP"],S);const b=p(t,["topK"]);b!=null&&g(e,["topK"],b);const T=p(t,["thinking"]);return T!=null&&g(e,["thinking"],T),e}function wv(t){const e={},n=p(t,["name"]);n!=null&&g(e,["name"],n);const i=p(t,["displayName"]);i!=null&&g(e,["displayName"],i);const r=p(t,["description"]);r!=null&&g(e,["description"],r);const a=p(t,["versionId"]);a!=null&&g(e,["version"],a);const u=p(t,["deployedModels"]);if(u!=null){let y=u;Array.isArray(y)&&(y=y.map(S=>zG(S))),g(e,["endpoints"],y)}const c=p(t,["labels"]);c!=null&&g(e,["labels"],c);const h=p(t,["_self"]);h!=null&&g(e,["tunedModelInfo"],YV(h));const d=p(t,["defaultCheckpointId"]);d!=null&&g(e,["defaultCheckpointId"],d);const m=p(t,["checkpoints"]);if(m!=null){let y=m;Array.isArray(y)&&(y=y.map(S=>S)),g(e,["checkpoints"],y)}return e}function DV(t){const e={},n=p(t,["mediaResolution"]);n!=null&&g(e,["mediaResolution"],n);const i=p(t,["codeExecutionResult"]);i!=null&&g(e,["codeExecutionResult"],i);const r=p(t,["executableCode"]);r!=null&&g(e,["executableCode"],r);const a=p(t,["fileData"]);a!=null&&g(e,["fileData"],qG(a));const u=p(t,["functionCall"]);u!=null&&g(e,["functionCall"],JG(u));const c=p(t,["functionResponse"]);c!=null&&g(e,["functionResponse"],c);const h=p(t,["inlineData"]);h!=null&&g(e,["inlineData"],vG(h));const d=p(t,["text"]);d!=null&&g(e,["text"],d);const m=p(t,["thought"]);m!=null&&g(e,["thought"],m);const y=p(t,["thoughtSignature"]);y!=null&&g(e,["thoughtSignature"],y);const S=p(t,["videoMetadata"]);return S!=null&&g(e,["videoMetadata"],S),e}function OV(t){const e={},n=p(t,["productImage"]);return n!=null&&g(e,["image"],fi(n)),e}function PV(t,e){const n={},i=p(t,["numberOfImages"]);e!==void 0&&i!=null&&g(e,["parameters","sampleCount"],i);const r=p(t,["baseSteps"]);e!==void 0&&r!=null&&g(e,["parameters","baseSteps"],r);const a=p(t,["outputGcsUri"]);e!==void 0&&a!=null&&g(e,["parameters","storageUri"],a);const u=p(t,["seed"]);e!==void 0&&u!=null&&g(e,["parameters","seed"],u);const c=p(t,["safetyFilterLevel"]);e!==void 0&&c!=null&&g(e,["parameters","safetySetting"],c);const h=p(t,["personGeneration"]);e!==void 0&&h!=null&&g(e,["parameters","personGeneration"],h);const d=p(t,["addWatermark"]);e!==void 0&&d!=null&&g(e,["parameters","addWatermark"],d);const m=p(t,["outputMimeType"]);e!==void 0&&m!=null&&g(e,["parameters","outputOptions","mimeType"],m);const y=p(t,["outputCompressionQuality"]);e!==void 0&&y!=null&&g(e,["parameters","outputOptions","compressionQuality"],y);const S=p(t,["enhancePrompt"]);e!==void 0&&S!=null&&g(e,["parameters","enhancePrompt"],S);const b=p(t,["labels"]);return e!==void 0&&b!=null&&g(e,["labels"],b),n}function kV(t,e){const n={},i=p(e,["model"]);i!=null&&g(n,["_url","model"],Ve(t,i));const r=p(e,["source"]);r!=null&&UV(r,n);const a=p(e,["config"]);return a!=null&&PV(a,n),n}function LV(t){const e={},n=p(t,["predictions"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(r=>fh(r))),g(e,["generatedImages"],i)}return e}function UV(t,e){const n={},i=p(t,["prompt"]);e!==void 0&&i!=null&&g(e,["instances[0]","prompt"],i);const r=p(t,["personImage"]);e!==void 0&&r!=null&&g(e,["instances[0]","personImage","image"],fi(r));const a=p(t,["productImages"]);if(e!==void 0&&a!=null){let u=a;Array.isArray(u)&&(u=u.map(c=>OV(c))),g(e,["instances[0]","productImages"],u)}return n}function BV(t){const e={},n=p(t,["referenceImage"]);n!=null&&g(e,["referenceImage"],fi(n));const i=p(t,["referenceId"]);i!=null&&g(e,["referenceId"],i);const r=p(t,["referenceType"]);r!=null&&g(e,["referenceType"],r);const a=p(t,["maskImageConfig"]);a!=null&&g(e,["maskImageConfig"],IV(a));const u=p(t,["controlImageConfig"]);u!=null&&g(e,["controlImageConfig"],CG(u));const c=p(t,["styleImageConfig"]);c!=null&&g(e,["styleImageConfig"],c);const h=p(t,["subjectImageConfig"]);return h!=null&&g(e,["subjectImageConfig"],h),e}function SM(t){const e={},n=p(t,["safetyAttributes","categories"]);n!=null&&g(e,["categories"],n);const i=p(t,["safetyAttributes","scores"]);i!=null&&g(e,["scores"],i);const r=p(t,["contentType"]);return r!=null&&g(e,["contentType"],r),e}function bM(t){const e={},n=p(t,["safetyAttributes","categories"]);n!=null&&g(e,["categories"],n);const i=p(t,["safetyAttributes","scores"]);i!=null&&g(e,["scores"],i);const r=p(t,["contentType"]);return r!=null&&g(e,["contentType"],r),e}function FV(t){const e={},n=p(t,["category"]);if(n!=null&&g(e,["category"],n),p(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const i=p(t,["threshold"]);return i!=null&&g(e,["threshold"],i),e}function $V(t){const e={},n=p(t,["image"]);return n!=null&&g(e,["image"],fi(n)),e}function HV(t,e){const n={},i=p(t,["mode"]);e!==void 0&&i!=null&&g(e,["parameters","mode"],i);const r=p(t,["maxPredictions"]);e!==void 0&&r!=null&&g(e,["parameters","maxPredictions"],r);const a=p(t,["confidenceThreshold"]);e!==void 0&&a!=null&&g(e,["parameters","confidenceThreshold"],a);const u=p(t,["maskDilation"]);e!==void 0&&u!=null&&g(e,["parameters","maskDilation"],u);const c=p(t,["binaryColorThreshold"]);e!==void 0&&c!=null&&g(e,["parameters","binaryColorThreshold"],c);const h=p(t,["labels"]);return e!==void 0&&h!=null&&g(e,["labels"],h),n}function GV(t,e){const n={},i=p(e,["model"]);i!=null&&g(n,["_url","model"],Ve(t,i));const r=p(e,["source"]);r!=null&&zV(r,n);const a=p(e,["config"]);return a!=null&&HV(a,n),n}function VV(t){const e={},n=p(t,["predictions"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(r=>pV(r))),g(e,["generatedMasks"],i)}return e}function zV(t,e){const n={},i=p(t,["prompt"]);e!==void 0&&i!=null&&g(e,["instances[0]","prompt"],i);const r=p(t,["image"]);e!==void 0&&r!=null&&g(e,["instances[0]","image"],fi(r));const a=p(t,["scribbleImage"]);return e!==void 0&&a!=null&&g(e,["instances[0]","scribble"],$V(a)),n}function EM(t){const e={},n=p(t,["voiceConfig"]);n!=null&&g(e,["voiceConfig"],n);const i=p(t,["languageCode"]);if(i!=null&&g(e,["languageCode"],i),p(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return e}function qV(t){const e={},n=p(t,["functionCallingConfig"]);n!=null&&g(e,["functionCallingConfig"],KG(n));const i=p(t,["retrievalConfig"]);return i!=null&&g(e,["retrievalConfig"],i),e}function JV(t){const e={},n=p(t,["functionDeclarations"]);if(n!=null){let m=n;Array.isArray(m)&&(m=m.map(y=>y)),g(e,["functionDeclarations"],m)}if(p(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=p(t,["googleSearchRetrieval"]);i!=null&&g(e,["googleSearchRetrieval"],i);const r=p(t,["computerUse"]);r!=null&&g(e,["computerUse"],r);const a=p(t,["fileSearch"]);a!=null&&g(e,["fileSearch"],a);const u=p(t,["codeExecution"]);if(u!=null&&g(e,["codeExecution"],u),p(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const c=p(t,["googleMaps"]);c!=null&&g(e,["googleMaps"],SV(c));const h=p(t,["googleSearch"]);h!=null&&g(e,["googleSearch"],bV(h));const d=p(t,["urlContext"]);return d!=null&&g(e,["urlContext"],d),e}function wM(t){const e={},n=p(t,["functionDeclarations"]);if(n!=null){let y=n;Array.isArray(y)&&(y=y.map(S=>YG(S))),g(e,["functionDeclarations"],y)}const i=p(t,["retrieval"]);i!=null&&g(e,["retrieval"],i);const r=p(t,["googleSearchRetrieval"]);r!=null&&g(e,["googleSearchRetrieval"],r);const a=p(t,["computerUse"]);if(a!=null&&g(e,["computerUse"],a),p(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const u=p(t,["codeExecution"]);u!=null&&g(e,["codeExecution"],u);const c=p(t,["enterpriseWebSearch"]);c!=null&&g(e,["enterpriseWebSearch"],c);const h=p(t,["googleMaps"]);h!=null&&g(e,["googleMaps"],h);const d=p(t,["googleSearch"]);d!=null&&g(e,["googleSearch"],d);const m=p(t,["urlContext"]);return m!=null&&g(e,["urlContext"],m),e}function KV(t){const e={},n=p(t,["baseModel"]);n!=null&&g(e,["baseModel"],n);const i=p(t,["createTime"]);i!=null&&g(e,["createTime"],i);const r=p(t,["updateTime"]);return r!=null&&g(e,["updateTime"],r),e}function YV(t){const e={},n=p(t,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&g(e,["baseModel"],n);const i=p(t,["createTime"]);i!=null&&g(e,["createTime"],i);const r=p(t,["updateTime"]);return r!=null&&g(e,["updateTime"],r),e}function jV(t,e){const n={},i=p(t,["displayName"]);e!==void 0&&i!=null&&g(e,["displayName"],i);const r=p(t,["description"]);e!==void 0&&r!=null&&g(e,["description"],r);const a=p(t,["defaultCheckpointId"]);return e!==void 0&&a!=null&&g(e,["defaultCheckpointId"],a),n}function XV(t,e){const n={},i=p(t,["displayName"]);e!==void 0&&i!=null&&g(e,["displayName"],i);const r=p(t,["description"]);e!==void 0&&r!=null&&g(e,["description"],r);const a=p(t,["defaultCheckpointId"]);return e!==void 0&&a!=null&&g(e,["defaultCheckpointId"],a),n}function WV(t,e){const n={},i=p(e,["model"]);i!=null&&g(n,["_url","name"],Ve(t,i));const r=p(e,["config"]);return r!=null&&jV(r,n),n}function QV(t,e){const n={},i=p(e,["model"]);i!=null&&g(n,["_url","model"],Ve(t,i));const r=p(e,["config"]);return r!=null&&XV(r,n),n}function ZV(t,e){const n={},i=p(t,["outputGcsUri"]);e!==void 0&&i!=null&&g(e,["parameters","storageUri"],i);const r=p(t,["safetyFilterLevel"]);e!==void 0&&r!=null&&g(e,["parameters","safetySetting"],r);const a=p(t,["personGeneration"]);e!==void 0&&a!=null&&g(e,["parameters","personGeneration"],a);const u=p(t,["includeRaiReason"]);e!==void 0&&u!=null&&g(e,["parameters","includeRaiReason"],u);const c=p(t,["outputMimeType"]);e!==void 0&&c!=null&&g(e,["parameters","outputOptions","mimeType"],c);const h=p(t,["outputCompressionQuality"]);e!==void 0&&h!=null&&g(e,["parameters","outputOptions","compressionQuality"],h);const d=p(t,["enhanceInputImage"]);e!==void 0&&d!=null&&g(e,["parameters","upscaleConfig","enhanceInputImage"],d);const m=p(t,["imagePreservationFactor"]);e!==void 0&&m!=null&&g(e,["parameters","upscaleConfig","imagePreservationFactor"],m);const y=p(t,["labels"]);e!==void 0&&y!=null&&g(e,["labels"],y);const S=p(t,["numberOfImages"]);e!==void 0&&S!=null&&g(e,["parameters","sampleCount"],S);const b=p(t,["mode"]);return e!==void 0&&b!=null&&g(e,["parameters","mode"],b),n}function ez(t,e){const n={},i=p(e,["model"]);i!=null&&g(n,["_url","model"],Ve(t,i));const r=p(e,["image"]);r!=null&&g(n,["instances[0]","image"],fi(r));const a=p(e,["upscaleFactor"]);a!=null&&g(n,["parameters","upscaleConfig","upscaleFactor"],a);const u=p(e,["config"]);return u!=null&&ZV(u,n),n}function tz(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const i=p(t,["predictions"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(a=>fh(a))),g(e,["generatedImages"],r)}return e}function nz(t){const e={},n=p(t,["uri"]);n!=null&&g(e,["uri"],n);const i=p(t,["encodedVideo"]);i!=null&&g(e,["videoBytes"],hr(i));const r=p(t,["encoding"]);return r!=null&&g(e,["mimeType"],r),e}function iz(t){const e={},n=p(t,["gcsUri"]);n!=null&&g(e,["uri"],n);const i=p(t,["bytesBase64Encoded"]);i!=null&&g(e,["videoBytes"],hr(i));const r=p(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function oz(t){const e={},n=p(t,["image"]);n!=null&&g(e,["_self"],fi(n));const i=p(t,["maskMode"]);return i!=null&&g(e,["maskMode"],i),e}function rz(t){const e={},n=p(t,["image"]);n!=null&&g(e,["image"],dh(n));const i=p(t,["referenceType"]);return i!=null&&g(e,["referenceType"],i),e}function sz(t){const e={},n=p(t,["image"]);n!=null&&g(e,["image"],fi(n));const i=p(t,["referenceType"]);return i!=null&&g(e,["referenceType"],i),e}function CM(t){const e={},n=p(t,["uri"]);n!=null&&g(e,["uri"],n);const i=p(t,["videoBytes"]);i!=null&&g(e,["encodedVideo"],hr(i));const r=p(t,["mimeType"]);return r!=null&&g(e,["encoding"],r),e}function TM(t){const e={},n=p(t,["uri"]);n!=null&&g(e,["gcsUri"],n);const i=p(t,["videoBytes"]);i!=null&&g(e,["bytesBase64Encoded"],hr(i));const r=p(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function az(t,e){const n={},i=p(t,["displayName"]);return e!==void 0&&i!=null&&g(e,["displayName"],i),n}function lz(t){const e={},n=p(t,["config"]);return n!=null&&az(n,e),e}function uz(t,e){const n={},i=p(t,["force"]);return e!==void 0&&i!=null&&g(e,["_query","force"],i),n}function cz(t){const e={},n=p(t,["name"]);n!=null&&g(e,["_url","name"],n);const i=p(t,["config"]);return i!=null&&uz(i,e),e}function fz(t){const e={},n=p(t,["name"]);return n!=null&&g(e,["_url","name"],n),e}function dz(t,e){const n={},i=p(t,["customMetadata"]);if(e!==void 0&&i!=null){let a=i;Array.isArray(a)&&(a=a.map(u=>u)),g(e,["customMetadata"],a)}const r=p(t,["chunkingConfig"]);return e!==void 0&&r!=null&&g(e,["chunkingConfig"],r),n}function hz(t){const e={},n=p(t,["name"]);n!=null&&g(e,["name"],n);const i=p(t,["metadata"]);i!=null&&g(e,["metadata"],i);const r=p(t,["done"]);r!=null&&g(e,["done"],r);const a=p(t,["error"]);a!=null&&g(e,["error"],a);const u=p(t,["response"]);return u!=null&&g(e,["response"],mz(u)),e}function pz(t){const e={},n=p(t,["fileSearchStoreName"]);n!=null&&g(e,["_url","file_search_store_name"],n);const i=p(t,["fileName"]);i!=null&&g(e,["fileName"],i);const r=p(t,["config"]);return r!=null&&dz(r,e),e}function mz(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const i=p(t,["parent"]);i!=null&&g(e,["parent"],i);const r=p(t,["documentName"]);return r!=null&&g(e,["documentName"],r),e}function gz(t,e){const n={},i=p(t,["pageSize"]);e!==void 0&&i!=null&&g(e,["_query","pageSize"],i);const r=p(t,["pageToken"]);return e!==void 0&&r!=null&&g(e,["_query","pageToken"],r),n}function vz(t){const e={},n=p(t,["config"]);return n!=null&&gz(n,e),e}function yz(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const i=p(t,["nextPageToken"]);i!=null&&g(e,["nextPageToken"],i);const r=p(t,["fileSearchStores"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(u=>u)),g(e,["fileSearchStores"],a)}return e}function AM(t,e){const n={},i=p(t,["mimeType"]);e!==void 0&&i!=null&&g(e,["mimeType"],i);const r=p(t,["displayName"]);e!==void 0&&r!=null&&g(e,["displayName"],r);const a=p(t,["customMetadata"]);if(e!==void 0&&a!=null){let c=a;Array.isArray(c)&&(c=c.map(h=>h)),g(e,["customMetadata"],c)}const u=p(t,["chunkingConfig"]);return e!==void 0&&u!=null&&g(e,["chunkingConfig"],u),n}function _z(t){const e={},n=p(t,["fileSearchStoreName"]);n!=null&&g(e,["_url","file_search_store_name"],n);const i=p(t,["config"]);return i!=null&&AM(i,e),e}function Sz(t){const e={},n=p(t,["sdkHttpResponse"]);return n!=null&&g(e,["sdkHttpResponse"],n),e}const bz="Content-Type",Ez="X-Server-Timeout",wz="User-Agent",Cv="x-goog-api-client",Cz="1.33.0",Tz=`google-genai-sdk/${Cz}`,Az="v1beta1",xz="v1beta";class Rz{constructor(e){var n,i;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const r={};this.clientOptions.vertexai?(r.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:Az,r.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(r.apiVersion=(i=this.clientOptions.apiVersion)!==null&&i!==void 0?i:xz,r.baseUrl="https://generativelanguage.googleapis.com/"),r.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=r,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(r,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const i=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&i.push(e.apiVersion),i.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,i){const r=[this.getRequestUrlInternal(n)];return i&&r.push(this.getBaseResourcePath()),e!==""&&r.push(e),new URL(`${r.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const i=this.shouldPrependVertexProjectPath(e),r=this.constructUrl(e.path,n,i);if(e.queryParams)for(const[u,c]of Object.entries(e.queryParams))r.searchParams.append(u,String(c));let a={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else a.body=e.body;return a=await this.includeExtraHttpOptionsToRequestInit(a,n,r.toString(),e.abortSignal),this.unaryApiCall(r,a,e.httpMethod)}patchHttpOptions(e,n){const i=JSON.parse(JSON.stringify(e));for(const[r,a]of Object.entries(n))typeof a=="object"?i[r]=Object.assign(Object.assign({},i[r]),a):a!==void 0&&(i[r]=a);return i}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const i=this.shouldPrependVertexProjectPath(e),r=this.constructUrl(e.path,n,i);(!r.searchParams.has("alt")||r.searchParams.get("alt")!=="sse")&&r.searchParams.set("alt","sse");let a={};return a.body=e.body,a=await this.includeExtraHttpOptionsToRequestInit(a,n,r.toString(),e.abortSignal),this.streamApiCall(r,a,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,i,r){if(n&&n.timeout||r){const a=new AbortController,u=a.signal;if(n.timeout&&n?.timeout>0){const c=setTimeout(()=>a.abort(),n.timeout);c&&typeof c.unref=="function"&&c.unref()}r&&r.addEventListener("abort",()=>{a.abort()}),e.signal=u}return n&&n.extraBody!==null&&Mz(e,n.extraBody),e.headers=await this.getHeadersInternal(n,i),e}async unaryApiCall(e,n,i){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:i})).then(async r=>(await lT(r),new _v(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}async streamApiCall(e,n,i){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:i})).then(async r=>(await lT(r),this.processStreamResponse(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}processStreamResponse(e){return oi(this,arguments,function*(){var i;const r=(i=e?.body)===null||i===void 0?void 0:i.getReader(),a=new TextDecoder("utf-8");if(!r)throw new Error("Response body is empty");try{let u="";const c="data:",h=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:d,value:m}=yield Te(r.read());if(d){if(u.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const y=a.decode(m,{stream:!0});try{const T=JSON.parse(y);if("error"in T){const A=JSON.parse(JSON.stringify(T.error)),x=A.status,M=A.code,I=`got status: ${x}. ${JSON.stringify(T)}`;if(M>=400&&M<600)throw new uh({message:I,status:M})}}catch(T){if(T.name==="ApiError")throw T}u+=y;let S=-1,b=0;for(;;){S=-1,b=0;for(const x of h){const M=u.indexOf(x);M!==-1&&(S===-1||M<S)&&(S=M,b=x.length)}if(S===-1)break;const T=u.substring(0,S);u=u.substring(S+b);const A=T.trim();if(A.startsWith(c)){const x=A.substring(c.length).trim();try{const M=new Response(x,{headers:e?.headers,status:e?.status,statusText:e?.statusText});yield yield Te(new _v(M))}catch(M){throw new Error(`exception parsing stream chunk ${x}. ${M}`)}}}}}finally{r.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(i=>{throw new Error(`exception ${i} sending request`)})}getDefaultHeaders(){const e={},n=Tz+" "+this.clientOptions.userAgentExtra;return e[wz]=n,e[Cv]=n,e[bz]="application/json",e}async getHeadersInternal(e,n){const i=new Headers;if(e&&e.headers){for(const[r,a]of Object.entries(e.headers))i.append(r,a);e.timeout&&e.timeout>0&&i.append(Ez,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(i,n),i}getFileName(e){var n;let i="";return typeof e=="string"&&(i=e.replace(/[/\\]+$/,""),i=(n=i.split(/[/\\]/).pop())!==null&&n!==void 0?n:""),i}async uploadFile(e,n){var i;const r={};n!=null&&(r.mimeType=n.mimeType,r.name=n.name,r.displayName=n.displayName),r.name&&!r.name.startsWith("files/")&&(r.name=`files/${r.name}`);const a=this.clientOptions.uploader,u=await a.stat(e);r.sizeBytes=String(u.size);const c=(i=n?.mimeType)!==null&&i!==void 0?i:u.type;if(c===void 0||c==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");r.mimeType=c;const h={file:r},d=this.getFileName(e),m=fe("upload/v1beta/files",h._url),y=await this.fetchUploadUrl(m,r.sizeBytes,r.mimeType,d,h,n?.httpOptions);return a.upload(e,y,this)}async uploadFileToFileSearchStore(e,n,i){var r;const a=this.clientOptions.uploader,u=await a.stat(n),c=String(u.size),h=(r=i?.mimeType)!==null&&r!==void 0?r:u.type;if(h===void 0||h==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const d=`upload/v1beta/${e}:uploadToFileSearchStore`,m=this.getFileName(n),y={};i!=null&&AM(i,y);const S=await this.fetchUploadUrl(d,c,h,m,y,i?.httpOptions);return a.uploadToFileSearchStore(n,S,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n,i,r,a,u){var c;let h={};u?h=u:h={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n}`,"X-Goog-Upload-Header-Content-Type":`${i}`},r?{"X-Goog-Upload-File-Name":r}:{})};const d=await this.request({path:e,body:JSON.stringify(a),httpMethod:"POST",httpOptions:h});if(!d||!d?.headers)throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const m=(c=d?.headers)===null||c===void 0?void 0:c["x-goog-upload-url"];if(m===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return m}}async function lT(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const n=t.status;let i;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?i=await t.json():i={error:{message:await t.text(),code:t.status,status:t.statusText}};const r=JSON.stringify(i);throw n>=400&&n<600?new uh({message:r,status:n}):new Error(r)}}function Mz(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof t.body=="string"&&t.body.length>0)try{const a=JSON.parse(t.body);if(typeof a=="object"&&a!==null&&!Array.isArray(a))n=a;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function i(a,u){const c=Object.assign({},a);for(const h in u)if(Object.prototype.hasOwnProperty.call(u,h)){const d=u[h],m=c[h];d&&typeof d=="object"&&!Array.isArray(d)&&m&&typeof m=="object"&&!Array.isArray(m)?c[h]=i(m,d):(m&&d&&typeof m!=typeof d&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${h}". Original type: ${typeof m}, New type: ${typeof d}. Overwriting.`),c[h]=d)}return c}const r=i(n,e);t.body=JSON.stringify(r)}const Nz="mcp_used/unknown";let Iz=!1;function xM(t){for(const e of t)if(Dz(e)||typeof e=="object"&&"inputSchema"in e)return!0;return Iz}function RM(t){var e;const n=(e=t[Cv])!==null&&e!==void 0?e:"";t[Cv]=(n+` ${Nz}`).trimStart()}function Dz(t){return t!==null&&typeof t=="object"&&t instanceof Gy}function Oz(t){return oi(this,arguments,function*(n,i=100){let r,a=0;for(;a<i;){const u=yield Te(n.listTools({cursor:r}));for(const c of u.tools)yield yield Te(c),a++;if(!u.nextCursor)break;r=u.nextCursor}})}class Gy{constructor(e=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=n}static create(e,n){return new Gy(e,n)}async initialize(){var e,n,i,r;if(this.mcpTools.length>0)return;const a={},u=[];for(const m of this.mcpClients)try{for(var c=!0,h=(n=void 0,ri(Oz(m))),d;d=await h.next(),e=d.done,!e;c=!0){r=d.value,c=!1;const y=r;u.push(y);const S=y.name;if(a[S])throw new Error(`Duplicate function name ${S} found in MCP tools. Please ensure function names are unique.`);a[S]=m}}catch(y){n={error:y}}finally{try{!c&&!e&&(i=h.return)&&await i.call(h)}finally{if(n)throw n.error}}this.mcpTools=u,this.functionNameToMcpClient=a}async tool(){return await this.initialize(),f$(this.mcpTools,this.config)}async callTool(e){await this.initialize();const n=[];for(const i of e)if(i.name in this.functionNameToMcpClient){const r=this.functionNameToMcpClient[i.name];let a;this.config.timeout&&(a={timeout:this.config.timeout});const u=await r.callTool({name:i.name,arguments:i.args},void 0,a);n.push({functionResponse:{name:i.name,response:u.isError?{error:u}:u}})}return n}}async function Pz(t,e,n){const i=new i$;let r;n.data instanceof Blob?r=JSON.parse(await n.data.text()):r=JSON.parse(n.data),Object.assign(i,r),e(i)}class kz{constructor(e,n,i){this.apiClient=e,this.auth=n,this.webSocketFactory=i}async connect(e){var n,i;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const r=this.apiClient.getWebsocketBaseUrl(),a=this.apiClient.getApiVersion(),u=Bz(this.apiClient.getDefaultHeaders()),c=this.apiClient.getApiKey(),h=`${r}/ws/google.ai.generativelanguage.${a}.GenerativeService.BidiGenerateMusic?key=${c}`;let d=()=>{};const m=new Promise(N=>{d=N}),y=e.callbacks,S=function(){d({})},b=this.apiClient,T={onopen:S,onmessage:N=>{Pz(b,y.onmessage,N)},onerror:(n=y?.onerror)!==null&&n!==void 0?n:function(N){},onclose:(i=y?.onclose)!==null&&i!==void 0?i:function(N){}},A=this.webSocketFactory.create(h,Uz(u),T);A.connect(),await m;const I={setup:{model:Ve(this.apiClient,e.model)}};return A.send(JSON.stringify(I)),new Lz(A,this.apiClient)}}class Lz{constructor(e,n){this.conn=e,this.apiClient=n}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=lG(e);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const n=aG(e);this.conn.send(JSON.stringify(n))}sendPlaybackControl(e){const n={playbackControl:e};this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(la.PLAY)}pause(){this.sendPlaybackControl(la.PAUSE)}stop(){this.sendPlaybackControl(la.STOP)}resetContext(){this.sendPlaybackControl(la.RESET_CONTEXT)}close(){this.conn.close()}}function Uz(t){const e={};return t.forEach((n,i)=>{e[i]=n}),e}function Bz(t){const e=new Headers;for(const[n,i]of Object.entries(t))e.append(n,i);return e}const Fz="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function $z(t,e,n){const i=new n$;let r;n.data instanceof Blob?r=await n.data.text():n.data instanceof ArrayBuffer?r=new TextDecoder().decode(n.data):r=n.data;const a=JSON.parse(r);if(t.isVertexAI()){const u=fG(a);Object.assign(i,u)}else Object.assign(i,a);e(i)}class Hz{constructor(e,n,i){this.apiClient=e,this.auth=n,this.webSocketFactory=i,this.music=new kz(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,i,r,a,u,c;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const h=this.apiClient.getWebsocketBaseUrl(),d=this.apiClient.getApiVersion();let m;const y=this.apiClient.getHeaders();e.config&&e.config.tools&&xM(e.config.tools)&&RM(y);const S=qz(y);if(this.apiClient.isVertexAI())m=`${h}/ws/google.cloud.aiplatform.${d}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(S,m);else{const J=this.apiClient.getApiKey();let j="BidiGenerateContent",W="key";J?.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),d!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),j="BidiGenerateContentConstrained",W="access_token"),m=`${h}/ws/google.ai.generativelanguage.${d}.GenerativeService.${j}?${W}=${J}`}let b=()=>{};const T=new Promise(J=>{b=J}),A=e.callbacks,x=function(){var J;(J=A?.onopen)===null||J===void 0||J.call(A),b({})},M=this.apiClient,I={onopen:x,onmessage:J=>{$z(M,A.onmessage,J)},onerror:(n=A?.onerror)!==null&&n!==void 0?n:function(J){},onclose:(i=A?.onclose)!==null&&i!==void 0?i:function(J){}},N=this.webSocketFactory.create(m,zz(S),I);N.connect(),await T;let D=Ve(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&D.startsWith("publishers/")){const J=this.apiClient.getProject(),j=this.apiClient.getLocation();D=`projects/${J}/locations/${j}/`+D}let L={};this.apiClient.isVertexAI()&&((r=e.config)===null||r===void 0?void 0:r.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[Ed.AUDIO]}:e.config.responseModalities=[Ed.AUDIO]),!((a=e.config)===null||a===void 0)&&a.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const U=(c=(u=e.config)===null||u===void 0?void 0:u.tools)!==null&&c!==void 0?c:[],O=[];for(const J of U)if(this.isCallableTool(J)){const j=J;O.push(await j.tool())}else O.push(J);O.length>0&&(e.config.tools=O);const q={model:D,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?L=sG(this.apiClient,q):L=rG(this.apiClient,q),delete L.config,N.send(JSON.stringify(L)),new Vz(N,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const Gz={turnComplete:!0};class Vz{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let i=[];try{i=Hn(n.turns),e.isVertexAI()||(i=i.map(r=>ch(r)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:i,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let i=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?i=n.functionResponses:i=[n.functionResponses],i.length===0)throw new Error("functionResponses is required.");for(const a of i){if(typeof a!="object"||a===null||!("name"in a)||!("response"in a))throw new Error(`Could not parse function response, type '${typeof a}'.`);if(!e.isVertexAI()&&!("id"in a))throw new Error(Fz)}return{toolResponse:{functionResponses:i}}}sendClientContent(e){e=Object.assign(Object.assign({},Gz),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:cG(e)}:n={realtimeInput:uG(e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function zz(t){const e={};return t.forEach((n,i)=>{e[i]=n}),e}function qz(t){const e=new Headers;for(const[n,i]of Object.entries(t))e.append(n,i);return e}const uT=10;function cT(t){var e,n,i;if(!((e=t?.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let r=!1;for(const u of(n=t?.tools)!==null&&n!==void 0?n:[])if(da(u)){r=!0;break}if(!r)return!0;const a=(i=t?.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls;return a&&(a<0||!Number.isInteger(a))||a==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",a),!0):!1}function da(t){return"callTool"in t&&typeof t.callTool=="function"}function Jz(t){var e,n,i;return(i=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(r=>da(r)))!==null&&i!==void 0?i:!1}function fT(t){var e;const n=[];return!((e=t?.config)===null||e===void 0)&&e.tools&&t.config.tools.forEach((i,r)=>{if(da(i))return;const a=i;a.functionDeclarations&&a.functionDeclarations.length>0&&n.push(r)}),n}function dT(t){var e;return!(!((e=t?.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}let Kz=class extends _o{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>{var i,r,a,u,c;const h=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!Jz(n)||cT(n.config))return await this.generateContentInternal(h);const d=fT(n);if(d.length>0){const A=d.map(x=>`tools[${x}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${A}.`)}let m,y;const S=Hn(h.contents),b=(a=(r=(i=h.config)===null||i===void 0?void 0:i.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&a!==void 0?a:uT;let T=0;for(;T<b&&(m=await this.generateContentInternal(h),!(!m.functionCalls||m.functionCalls.length===0));){const A=m.candidates[0].content,x=[];for(const M of(c=(u=n.config)===null||u===void 0?void 0:u.tools)!==null&&c!==void 0?c:[])if(da(M)){const N=await M.callTool(m.functionCalls);x.push(...N)}T++,y={role:"user",parts:x},h.contents=Hn(h.contents),h.contents.push(A),h.contents.push(y),dT(h.config)&&(S.push(A),S.push(y))}return dT(h.config)&&(m.automaticFunctionCallingHistory=S),m},this.generateContentStream=async n=>{var i,r,a,u,c;if(this.maybeMoveToResponseJsonSchem(n),cT(n.config)){const y=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(y)}const h=fT(n);if(h.length>0){const y=h.map(S=>`tools[${S}]`).join(", ");throw new Error(`Incompatible tools found at ${y}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const d=(a=(r=(i=n?.config)===null||i===void 0?void 0:i.toolConfig)===null||r===void 0?void 0:r.functionCallingConfig)===null||a===void 0?void 0:a.streamFunctionCallArguments,m=(c=(u=n?.config)===null||u===void 0?void 0:u.automaticFunctionCalling)===null||c===void 0?void 0:c.disable;if(d&&!m)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(i=>{var r;let a;const u=[];if(i?.generatedImages)for(const h of i.generatedImages)h&&h?.safetyAttributes&&((r=h?.safetyAttributes)===null||r===void 0?void 0:r.contentType)==="Positive Prompt"?a=h?.safetyAttributes:u.push(h);let c;return a?c={generatedImages:u,positivePromptSafetyAttributes:a,sdkHttpResponse:i.sdkHttpResponse}:c={generatedImages:u,sdkHttpResponse:i.sdkHttpResponse},c}),this.list=async n=>{var i;const u={config:Object.assign(Object.assign({},{queryBase:!0}),n?.config)};if(this.apiClient.isVertexAI()&&!u.config.queryBase){if(!((i=u.config)===null||i===void 0)&&i.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");u.config.filter="labels.tune-type:*"}return new os(mo.PAGED_ITEM_MODELS,c=>this.listInternal(c),await this.listInternal(u),u)},this.editImage=async n=>{const i={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(i.referenceImages=n.referenceImages.map(r=>r.toReferenceImageAPI())),await this.editImageInternal(i)},this.upscaleImage=async n=>{let i={numberOfImages:1,mode:"upscale"};n.config&&(i=Object.assign(Object.assign({},i),n.config));const r={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:i};return await this.upscaleImageInternal(r)},this.generateVideos=async n=>{var i,r,a,u,c,h;if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((i=n.video)===null||i===void 0)&&i.uri&&(!((r=n.video)===null||r===void 0)&&r.videoBytes)?n.video={uri:n.video.uri,mimeType:n.video.mimeType}:!((u=(a=n.source)===null||a===void 0?void 0:a.video)===null||u===void 0)&&u.uri&&(!((h=(c=n.source)===null||c===void 0?void 0:c.video)===null||h===void 0)&&h.videoBytes)&&(n.source.video={uri:n.source.video.uri,mimeType:n.source.video.mimeType})),await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var n,i,r;const a=(n=e.config)===null||n===void 0?void 0:n.tools;if(!a)return e;const u=await Promise.all(a.map(async h=>da(h)?await h.tool():h)),c={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:u})};if(c.config.tools=u,e.config&&e.config.tools&&xM(e.config.tools)){const h=(r=(i=e.config.httpOptions)===null||i===void 0?void 0:i.headers)!==null&&r!==void 0?r:{};let d=Object.assign({},h);Object.keys(d).length===0&&(d=this.apiClient.getDefaultHeaders()),RM(d),c.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:d})}return c}async initAfcToolsMap(e){var n,i,r;const a=new Map;for(const u of(i=(n=e.config)===null||n===void 0?void 0:n.tools)!==null&&i!==void 0?i:[])if(da(u)){const c=u,h=await c.tool();for(const d of(r=h.functionDeclarations)!==null&&r!==void 0?r:[]){if(!d.name)throw new Error("Function declaration name is required.");if(a.has(d.name))throw new Error(`Duplicate tool declaration name: ${d.name}`);a.set(d.name,c)}}return a}async processAfcStream(e){var n,i,r;const a=(r=(i=(n=e.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&r!==void 0?r:uT;let u=!1,c=0;const h=await this.initAfcToolsMap(e);return(function(d,m,y){return oi(this,arguments,function*(){for(var S,b,T,A,x,M;c<a;){u&&(c++,u=!1);const L=yield Te(d.processParamsMaybeAddMcpUsage(y)),U=yield Te(d.generateContentStreamInternal(L)),O=[],q=[];try{for(var I=!0,N=(b=void 0,ri(U)),D;D=yield Te(N.next()),S=D.done,!S;I=!0){A=D.value,I=!1;const J=A;if(yield yield Te(J),J.candidates&&(!((x=J.candidates[0])===null||x===void 0)&&x.content)){q.push(J.candidates[0].content);for(const j of(M=J.candidates[0].content.parts)!==null&&M!==void 0?M:[])if(c<a&&j.functionCall){if(!j.functionCall.name)throw new Error("Function call name was not returned by the model.");if(m.has(j.functionCall.name)){const W=yield Te(m.get(j.functionCall.name).callTool([j.functionCall]));O.push(...W)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${m.keys()}, mising tool: ${j.functionCall.name}`)}}}}catch(J){b={error:J}}finally{try{!I&&!S&&(T=N.return)&&(yield Te(T.call(N)))}finally{if(b)throw b.error}}if(O.length>0){u=!0;const J=new Ul;J.candidates=[{content:{role:"user",parts:O}}],yield yield Te(J);const j=[];j.push(...q),j.push({role:"user",parts:O});const W=Hn(y.contents).concat(j);y.contents=W}else break}})})(this,h,e)}async generateContentInternal(e){var n,i,r,a;let u,c="",h={};if(this.apiClient.isVertexAI()){const d=rT(this.apiClient,e);return c=fe("{model}:generateContent",d._url),h=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json().then(y=>{const S=y;return S.sdkHttpResponse={headers:m.headers},S})),u.then(m=>{const y=aT(m),S=new Ul;return Object.assign(S,y),S})}else{const d=oT(this.apiClient,e);return c=fe("{model}:generateContent",d._url),h=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json().then(y=>{const S=y;return S.sdkHttpResponse={headers:m.headers},S})),u.then(m=>{const y=sT(m),S=new Ul;return Object.assign(S,y),S})}}async generateContentStreamInternal(e){var n,i,r,a;let u,c="",h={};if(this.apiClient.isVertexAI()){const d=rT(this.apiClient,e);return c=fe("{model}:streamGenerateContent?alt=sse",d._url),h=d._query,delete d._url,delete d._query,u=this.apiClient.requestStream({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}),u.then(function(y){return oi(this,arguments,function*(){var S,b,T,A;try{for(var x=!0,M=ri(y),I;I=yield Te(M.next()),S=I.done,!S;x=!0){A=I.value,x=!1;const N=A,D=aT(yield Te(N.json()));D.sdkHttpResponse={headers:N.headers};const L=new Ul;Object.assign(L,D),yield yield Te(L)}}catch(N){b={error:N}}finally{try{!x&&!S&&(T=M.return)&&(yield Te(T.call(M)))}finally{if(b)throw b.error}}})})}else{const d=oT(this.apiClient,e);return c=fe("{model}:streamGenerateContent?alt=sse",d._url),h=d._query,delete d._url,delete d._query,u=this.apiClient.requestStream({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}),u.then(function(y){return oi(this,arguments,function*(){var S,b,T,A;try{for(var x=!0,M=ri(y),I;I=yield Te(M.next()),S=I.done,!S;x=!0){A=I.value,x=!1;const N=A,D=sT(yield Te(N.json()));D.sdkHttpResponse={headers:N.headers};const L=new Ul;Object.assign(L,D),yield yield Te(L)}}catch(N){b={error:N}}finally{try{!x&&!S&&(T=M.return)&&(yield Te(T.call(M)))}finally{if(b)throw b.error}}})})}}async embedContent(e){var n,i,r,a;let u,c="",h={};if(this.apiClient.isVertexAI()){const d=HG(this.apiClient,e);return c=fe("{model}:predict",d._url),h=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json().then(y=>{const S=y;return S.sdkHttpResponse={headers:m.headers},S})),u.then(m=>{const y=VG(m),S=new HC;return Object.assign(S,y),S})}else{const d=$G(this.apiClient,e);return c=fe("{model}:batchEmbedContents",d._url),h=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json().then(y=>{const S=y;return S.sdkHttpResponse={headers:m.headers},S})),u.then(m=>{const y=GG(m),S=new HC;return Object.assign(S,y),S})}}async generateImagesInternal(e){var n,i,r,a;let u,c="",h={};if(this.apiClient.isVertexAI()){const d=eV(this.apiClient,e);return c=fe("{model}:predict",d._url),h=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json().then(y=>{const S=y;return S.sdkHttpResponse={headers:m.headers},S})),u.then(m=>{const y=nV(m),S=new GC;return Object.assign(S,y),S})}else{const d=ZG(this.apiClient,e);return c=fe("{model}:predict",d._url),h=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json().then(y=>{const S=y;return S.sdkHttpResponse={headers:m.headers},S})),u.then(m=>{const y=tV(m),S=new GC;return Object.assign(S,y),S})}}async editImageInternal(e){var n,i;let r,a="",u={};if(this.apiClient.isVertexAI()){const c=LG(this.apiClient,e);return a=fe("{model}:predict",c._url),u=c._query,delete c._url,delete c._query,r=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json().then(d=>{const m=d;return m.sdkHttpResponse={headers:h.headers},m})),r.then(h=>{const d=UG(h),m=new qF;return Object.assign(m,d),m})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,i;let r,a="",u={};if(this.apiClient.isVertexAI()){const c=ez(this.apiClient,e);return a=fe("{model}:predict",c._url),u=c._query,delete c._url,delete c._query,r=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json().then(d=>{const m=d;return m.sdkHttpResponse={headers:h.headers},m})),r.then(h=>{const d=tz(h),m=new JF;return Object.assign(m,d),m})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var n,i;let r,a="",u={};if(this.apiClient.isVertexAI()){const c=kV(this.apiClient,e);return a=fe("{model}:predict",c._url),u=c._query,delete c._url,delete c._query,r=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),r.then(h=>{const d=LV(h),m=new KF;return Object.assign(m,d),m})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var n,i;let r,a="",u={};if(this.apiClient.isVertexAI()){const c=GV(this.apiClient,e);return a=fe("{model}:predict",c._url),u=c._query,delete c._url,delete c._query,r=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),r.then(h=>{const d=VV(h),m=new YF;return Object.assign(m,d),m})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,i,r,a;let u,c="",h={};if(this.apiClient.isVertexAI()){const d=_V(this.apiClient,e);return c=fe("{name}",d._url),h=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json()),u.then(m=>wv(m))}else{const d=yV(this.apiClient,e);return c=fe("{name}",d._url),h=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json()),u.then(m=>Ev(m))}}async listInternal(e){var n,i,r,a;let u,c="",h={};if(this.apiClient.isVertexAI()){const d=RV(this.apiClient,e);return c=fe("{models_url}",d._url),h=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json().then(y=>{const S=y;return S.sdkHttpResponse={headers:m.headers},S})),u.then(m=>{const y=NV(m),S=new VC;return Object.assign(S,y),S})}else{const d=xV(this.apiClient,e);return c=fe("{models_url}",d._url),h=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json().then(y=>{const S=y;return S.sdkHttpResponse={headers:m.headers},S})),u.then(m=>{const y=MV(m),S=new VC;return Object.assign(S,y),S})}}async update(e){var n,i,r,a;let u,c="",h={};if(this.apiClient.isVertexAI()){const d=QV(this.apiClient,e);return c=fe("{model}",d._url),h=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json()),u.then(m=>wv(m))}else{const d=WV(this.apiClient,e);return c=fe("{name}",d._url),h=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json()),u.then(m=>Ev(m))}}async delete(e){var n,i,r,a;let u,c="",h={};if(this.apiClient.isVertexAI()){const d=DG(this.apiClient,e);return c=fe("{name}",d._url),h=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json().then(y=>{const S=y;return S.sdkHttpResponse={headers:m.headers},S})),u.then(m=>{const y=PG(m),S=new zC;return Object.assign(S,y),S})}else{const d=IG(this.apiClient,e);return c=fe("{name}",d._url),h=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json().then(y=>{const S=y;return S.sdkHttpResponse={headers:m.headers},S})),u.then(m=>{const y=OG(m),S=new zC;return Object.assign(S,y),S})}}async countTokens(e){var n,i,r,a;let u,c="",h={};if(this.apiClient.isVertexAI()){const d=RG(this.apiClient,e);return c=fe("{model}:countTokens",d._url),h=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json().then(y=>{const S=y;return S.sdkHttpResponse={headers:m.headers},S})),u.then(m=>{const y=NG(m),S=new qC;return Object.assign(S,y),S})}else{const d=xG(this.apiClient,e);return c=fe("{model}:countTokens",d._url),h=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json().then(y=>{const S=y;return S.sdkHttpResponse={headers:m.headers},S})),u.then(m=>{const y=MG(m),S=new qC;return Object.assign(S,y),S})}}async computeTokens(e){var n,i;let r,a="",u={};if(this.apiClient.isVertexAI()){const c=SG(this.apiClient,e);return a=fe("{model}:computeTokens",c._url),u=c._query,delete c._url,delete c._query,r=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json().then(d=>{const m=d;return m.sdkHttpResponse={headers:h.headers},m})),r.then(h=>{const d=bG(h),m=new jF;return Object.assign(m,d),m})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var n,i,r,a;let u,c="",h={};if(this.apiClient.isVertexAI()){const d=lV(this.apiClient,e);return c=fe("{model}:predictLongRunning",d._url),h=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json()),u.then(m=>{const y=sV(m),S=new wd;return Object.assign(S,y),S})}else{const d=aV(this.apiClient,e);return c=fe("{model}:predictLongRunning",d._url),h=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json()),u.then(m=>{const y=rV(m),S=new wd;return Object.assign(S,y),S})}}};class Yz extends _o{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const n=e.operation,i=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=n.name.split("/operations/")[0];let a;i&&"httpOptions"in i&&(a=i.httpOptions);const u=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:r,config:{httpOptions:a}});return n._fromAPIResponse({apiResponse:u,_isVertexAI:!0})}else{const r=await this.getVideosOperationInternal({operationName:n.name,config:i});return n._fromAPIResponse({apiResponse:r,_isVertexAI:!1})}}async get(e){const n=e.operation,i=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=n.name.split("/operations/")[0];let a;i&&"httpOptions"in i&&(a=i.httpOptions);const u=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:r,config:{httpOptions:a}});return n._fromAPIResponse({apiResponse:u,_isVertexAI:!0})}else{const r=await this.getVideosOperationInternal({operationName:n.name,config:i});return n._fromAPIResponse({apiResponse:r,_isVertexAI:!1})}}async getVideosOperationInternal(e){var n,i,r,a;let u,c="",h={};if(this.apiClient.isVertexAI()){const d=FF(e);return c=fe("{operationName}",d._url),h=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json()),u}else{const d=BF(e);return c=fe("{operationName}",d._url),h=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json()),u}}async fetchPredictVideosOperationInternal(e){var n,i;let r,a="",u={};if(this.apiClient.isVertexAI()){const c=IF(e);return a=fe("{resourceName}:fetchPredictOperation",c._url),u=c._query,delete c._url,delete c._query,r=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),r}else throw new Error("This method is only supported by the Vertex AI.")}}function jz(t){const e={},n=p(t,["data"]);if(n!=null&&g(e,["data"],n),p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=p(t,["mimeType"]);return i!=null&&g(e,["mimeType"],i),e}function Xz(t){const e={},n=p(t,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(a=>rq(a))),g(e,["parts"],r)}const i=p(t,["role"]);return i!=null&&g(e,["role"],i),e}function Wz(t,e,n){const i={},r=p(e,["expireTime"]);n!==void 0&&r!=null&&g(n,["expireTime"],r);const a=p(e,["newSessionExpireTime"]);n!==void 0&&a!=null&&g(n,["newSessionExpireTime"],a);const u=p(e,["uses"]);n!==void 0&&u!=null&&g(n,["uses"],u);const c=p(e,["liveConnectConstraints"]);n!==void 0&&c!=null&&g(n,["bidiGenerateContentSetup"],oq(t,c));const h=p(e,["lockAdditionalFields"]);return n!==void 0&&h!=null&&g(n,["fieldMask"],h),i}function Qz(t,e){const n={},i=p(e,["config"]);return i!=null&&g(n,["config"],Wz(t,i,n)),n}function Zz(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=p(t,["fileUri"]);n!=null&&g(e,["fileUri"],n);const i=p(t,["mimeType"]);return i!=null&&g(e,["mimeType"],i),e}function eq(t){const e={},n=p(t,["id"]);n!=null&&g(e,["id"],n);const i=p(t,["args"]);i!=null&&g(e,["args"],i);const r=p(t,["name"]);if(r!=null&&g(e,["name"],r),p(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(p(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function tq(t){const e={};if(p(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=p(t,["enableWidget"]);return n!=null&&g(e,["enableWidget"],n),e}function nq(t){const e={};if(p(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(p(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=p(t,["timeRangeFilter"]);return n!=null&&g(e,["timeRangeFilter"],n),e}function iq(t,e){const n={},i=p(t,["generationConfig"]);e!==void 0&&i!=null&&g(e,["setup","generationConfig"],i);const r=p(t,["responseModalities"]);e!==void 0&&r!=null&&g(e,["setup","generationConfig","responseModalities"],r);const a=p(t,["temperature"]);e!==void 0&&a!=null&&g(e,["setup","generationConfig","temperature"],a);const u=p(t,["topP"]);e!==void 0&&u!=null&&g(e,["setup","generationConfig","topP"],u);const c=p(t,["topK"]);e!==void 0&&c!=null&&g(e,["setup","generationConfig","topK"],c);const h=p(t,["maxOutputTokens"]);e!==void 0&&h!=null&&g(e,["setup","generationConfig","maxOutputTokens"],h);const d=p(t,["mediaResolution"]);e!==void 0&&d!=null&&g(e,["setup","generationConfig","mediaResolution"],d);const m=p(t,["seed"]);e!==void 0&&m!=null&&g(e,["setup","generationConfig","seed"],m);const y=p(t,["speechConfig"]);e!==void 0&&y!=null&&g(e,["setup","generationConfig","speechConfig"],Hy(y));const S=p(t,["thinkingConfig"]);e!==void 0&&S!=null&&g(e,["setup","generationConfig","thinkingConfig"],S);const b=p(t,["enableAffectiveDialog"]);e!==void 0&&b!=null&&g(e,["setup","generationConfig","enableAffectiveDialog"],b);const T=p(t,["systemInstruction"]);e!==void 0&&T!=null&&g(e,["setup","systemInstruction"],Xz(Ut(T)));const A=p(t,["tools"]);if(e!==void 0&&A!=null){let U=Ia(A);Array.isArray(U)&&(U=U.map(O=>aq(Na(O)))),g(e,["setup","tools"],U)}const x=p(t,["sessionResumption"]);e!==void 0&&x!=null&&g(e,["setup","sessionResumption"],sq(x));const M=p(t,["inputAudioTranscription"]);e!==void 0&&M!=null&&g(e,["setup","inputAudioTranscription"],M);const I=p(t,["outputAudioTranscription"]);e!==void 0&&I!=null&&g(e,["setup","outputAudioTranscription"],I);const N=p(t,["realtimeInputConfig"]);e!==void 0&&N!=null&&g(e,["setup","realtimeInputConfig"],N);const D=p(t,["contextWindowCompression"]);e!==void 0&&D!=null&&g(e,["setup","contextWindowCompression"],D);const L=p(t,["proactivity"]);if(e!==void 0&&L!=null&&g(e,["setup","proactivity"],L),p(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function oq(t,e){const n={},i=p(e,["model"]);i!=null&&g(n,["setup","model"],Ve(t,i));const r=p(e,["config"]);return r!=null&&g(n,["config"],iq(r,n)),n}function rq(t){const e={},n=p(t,["mediaResolution"]);n!=null&&g(e,["mediaResolution"],n);const i=p(t,["codeExecutionResult"]);i!=null&&g(e,["codeExecutionResult"],i);const r=p(t,["executableCode"]);r!=null&&g(e,["executableCode"],r);const a=p(t,["fileData"]);a!=null&&g(e,["fileData"],Zz(a));const u=p(t,["functionCall"]);u!=null&&g(e,["functionCall"],eq(u));const c=p(t,["functionResponse"]);c!=null&&g(e,["functionResponse"],c);const h=p(t,["inlineData"]);h!=null&&g(e,["inlineData"],jz(h));const d=p(t,["text"]);d!=null&&g(e,["text"],d);const m=p(t,["thought"]);m!=null&&g(e,["thought"],m);const y=p(t,["thoughtSignature"]);y!=null&&g(e,["thoughtSignature"],y);const S=p(t,["videoMetadata"]);return S!=null&&g(e,["videoMetadata"],S),e}function sq(t){const e={},n=p(t,["handle"]);if(n!=null&&g(e,["handle"],n),p(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function aq(t){const e={},n=p(t,["functionDeclarations"]);if(n!=null){let m=n;Array.isArray(m)&&(m=m.map(y=>y)),g(e,["functionDeclarations"],m)}if(p(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=p(t,["googleSearchRetrieval"]);i!=null&&g(e,["googleSearchRetrieval"],i);const r=p(t,["computerUse"]);r!=null&&g(e,["computerUse"],r);const a=p(t,["fileSearch"]);a!=null&&g(e,["fileSearch"],a);const u=p(t,["codeExecution"]);if(u!=null&&g(e,["codeExecution"],u),p(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const c=p(t,["googleMaps"]);c!=null&&g(e,["googleMaps"],tq(c));const h=p(t,["googleSearch"]);h!=null&&g(e,["googleSearch"],nq(h));const d=p(t,["urlContext"]);return d!=null&&g(e,["urlContext"],d),e}function lq(t){const e=[];for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const i=t[n];if(typeof i=="object"&&i!=null&&Object.keys(i).length>0){const r=Object.keys(i).map(a=>`${n}.${a}`);e.push(...r)}else e.push(n)}return e.join(",")}function uq(t,e){let n=null;const i=t.bidiGenerateContentSetup;if(typeof i=="object"&&i!==null&&"setup"in i){const a=i.setup;typeof a=="object"&&a!==null?(t.bidiGenerateContentSetup=a,n=a):delete t.bidiGenerateContentSetup}else i!==void 0&&delete t.bidiGenerateContentSetup;const r=t.fieldMask;if(n){const a=lq(n);if(Array.isArray(e?.lockAdditionalFields)&&e?.lockAdditionalFields.length===0)a?t.fieldMask=a:delete t.fieldMask;else if(e?.lockAdditionalFields&&e.lockAdditionalFields.length>0&&r!==null&&Array.isArray(r)&&r.length>0){const u=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let c=[];r.length>0&&(c=r.map(d=>u.includes(d)?`generationConfig.${d}`:d));const h=[];a&&h.push(a),c.length>0&&h.push(...c),h.length>0?t.fieldMask=h.join(","):delete t.fieldMask}else delete t.fieldMask}else r!==null&&Array.isArray(r)&&r.length>0?t.fieldMask=r.join(","):delete t.fieldMask;return t}class cq extends _o{constructor(e){super(),this.apiClient=e}async create(e){var n,i;let r,a="",u={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const c=Qz(this.apiClient,e);a=fe("auth_tokens",c._url),u=c._query,delete c.config,delete c._url,delete c._query;const h=uq(c,e.config);return r=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),r.then(d=>d)}}}function fq(t,e){const n={},i=p(t,["force"]);return e!==void 0&&i!=null&&g(e,["_query","force"],i),n}function dq(t){const e={},n=p(t,["name"]);n!=null&&g(e,["_url","name"],n);const i=p(t,["config"]);return i!=null&&fq(i,e),e}function hq(t){const e={},n=p(t,["name"]);return n!=null&&g(e,["_url","name"],n),e}function pq(t,e){const n={},i=p(t,["pageSize"]);e!==void 0&&i!=null&&g(e,["_query","pageSize"],i);const r=p(t,["pageToken"]);return e!==void 0&&r!=null&&g(e,["_query","pageToken"],r),n}function mq(t){const e={},n=p(t,["parent"]);n!=null&&g(e,["_url","parent"],n);const i=p(t,["config"]);return i!=null&&pq(i,e),e}function gq(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const i=p(t,["nextPageToken"]);i!=null&&g(e,["nextPageToken"],i);const r=p(t,["documents"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(u=>u)),g(e,["documents"],a)}return e}class vq extends _o{constructor(e){super(),this.apiClient=e,this.list=async n=>new os(mo.PAGED_ITEM_DOCUMENTS,i=>this.listInternal({parent:n.parent,config:i.config}),await this.listInternal(n),n)}async get(e){var n,i;let r,a="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=hq(e);return a=fe("{name}",c._url),u=c._query,delete c._url,delete c._query,r=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),r.then(h=>h)}}async delete(e){var n,i;let r="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=dq(e);r=fe("{name}",u._url),a=u._query,delete u._url,delete u._query,await this.apiClient.request({path:r,queryParams:a,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal})}}async listInternal(e){var n,i;let r,a="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=mq(e);return a=fe("{parent}/documents",c._url),u=c._query,delete c._url,delete c._query,r=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),r.then(h=>{const d=gq(h),m=new XF;return Object.assign(m,d),m})}}}class yq extends _o{constructor(e,n=new vq(e)){super(),this.apiClient=e,this.documents=n,this.list=async(i={})=>new os(mo.PAGED_ITEM_FILE_SEARCH_STORES,r=>this.listInternal(r),await this.listInternal(i),i)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var n,i;let r,a="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=lz(e);return a=fe("fileSearchStores",c._url),u=c._query,delete c._url,delete c._query,r=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),r.then(h=>h)}}async get(e){var n,i;let r,a="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=fz(e);return a=fe("{name}",c._url),u=c._query,delete c._url,delete c._query,r=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),r.then(h=>h)}}async delete(e){var n,i;let r="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=cz(e);r=fe("{name}",u._url),a=u._query,delete u._url,delete u._query,await this.apiClient.request({path:r,queryParams:a,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal})}}async listInternal(e){var n,i;let r,a="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=vz(e);return a=fe("fileSearchStores",c._url),u=c._query,delete c._url,delete c._query,r=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),r.then(h=>{const d=yz(h),m=new WF;return Object.assign(m,d),m})}}async uploadToFileSearchStoreInternal(e){var n,i;let r,a="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=_z(e);return a=fe("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",c._url),u=c._query,delete c._url,delete c._query,r=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),r.then(h=>{const d=Sz(h),m=new QF;return Object.assign(m,d),m})}}async importFile(e){var n,i;let r,a="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=pz(e);return a=fe("{file_search_store_name}:importFile",c._url),u=c._query,delete c._url,delete c._query,r=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),r.then(h=>{const d=hz(h),m=new Ly;return Object.assign(m,d),m})}}}let MM=function(){const{crypto:t}=globalThis;if(t?.randomUUID)return MM=t.randomUUID.bind(t),t.randomUUID();const e=new Uint8Array(1),n=t?()=>t.getRandomValues(e)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,i=>(+i^n()&15>>+i/4).toString(16))};const _q=()=>MM();function Tv(t){return typeof t=="object"&&t!==null&&("name"in t&&t.name==="AbortError"||"message"in t&&String(t.message).includes("FetchRequestCanceledException"))}const Av=t=>{if(t instanceof Error)return t;if(typeof t=="object"&&t!==null){try{if(Object.prototype.toString.call(t)==="[object Error]"){const e=new Error(t.message,t.cause?{cause:t.cause}:{});return t.stack&&(e.stack=t.stack),t.cause&&!e.cause&&(e.cause=t.cause),t.name&&(e.name=t.name),e}}catch{}try{return new Error(JSON.stringify(t))}catch{}}return new Error(t)};class Jn extends Error{}let Kn=class xv extends Jn{constructor(e,n,i,r){super(`${xv.makeMessage(e,n,i)}`),this.status=e,this.headers=r,this.error=n}static makeMessage(e,n,i){const r=n?.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):i;return e&&r?`${e} ${r}`:e?`${e} status code (no body)`:r||"(no status code or body)"}static generate(e,n,i,r){if(!e||!r)return new hh({message:i,cause:Av(n)});const a=n;return e===400?new IM(e,a,i,r):e===401?new DM(e,a,i,r):e===403?new OM(e,a,i,r):e===404?new PM(e,a,i,r):e===409?new kM(e,a,i,r):e===422?new LM(e,a,i,r):e===429?new UM(e,a,i,r):e>=500?new BM(e,a,i,r):new xv(e,a,i,r)}},Rv=class extends Kn{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}},hh=class extends Kn{constructor({message:e,cause:n}){super(void 0,void 0,e||"Connection error.",void 0),n&&(this.cause=n)}},NM=class extends hh{constructor({message:e}={}){super({message:e??"Request timed out."})}},IM=class extends Kn{},DM=class extends Kn{},OM=class extends Kn{},PM=class extends Kn{},kM=class extends Kn{},LM=class extends Kn{},UM=class extends Kn{},BM=class extends Kn{};const Sq=/^[a-z][a-z0-9+.-]*:/i,bq=t=>Sq.test(t);let Mv=t=>(Mv=Array.isArray,Mv(t));const Eq=Mv;let wq=Eq;const hT=wq;function Cq(t){if(!t)return!0;for(const e in t)return!1;return!0}function Tq(t,e){return Object.prototype.hasOwnProperty.call(t,e)}const Aq=(t,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new Jn(`${t} must be an integer`);if(e<0)throw new Jn(`${t} must be a positive integer`);return e},xq=t=>{try{return JSON.parse(t)}catch{return}};const Rq=t=>new Promise(e=>setTimeout(e,t));const ta="0.0.1";function Mq(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const Nq=()=>{var t,e,n,i,r;const a=Mq();if(a==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ta,"X-Stainless-OS":mT(Deno.build.os),"X-Stainless-Arch":pT(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(e=(t=Deno.version)===null||t===void 0?void 0:t.deno)!==null&&e!==void 0?e:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ta,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(a==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ta,"X-Stainless-OS":mT((n=globalThis.process.platform)!==null&&n!==void 0?n:"unknown"),"X-Stainless-Arch":pT((i=globalThis.process.arch)!==null&&i!==void 0?i:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(r=globalThis.process.version)!==null&&r!==void 0?r:"unknown"};const u=Iq();return u?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ta,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${u.browser}`,"X-Stainless-Runtime-Version":u.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ta,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function Iq(){if(typeof navigator>"u"||!navigator)return null;const t=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:n}of t){const i=n.exec(navigator.userAgent);if(i){const r=i[1]||0,a=i[2]||0,u=i[3]||0;return{browser:e,version:`${r}.${a}.${u}`}}}return null}const pT=t=>t==="x32"?"x32":t==="x86_64"||t==="x64"?"x64":t==="arm"?"arm":t==="aarch64"||t==="arm64"?"arm64":t?`other:${t}`:"unknown",mT=t=>(t=t.toLowerCase(),t.includes("ios")?"iOS":t==="android"?"Android":t==="darwin"?"MacOS":t==="win32"?"Windows":t==="freebsd"?"FreeBSD":t==="openbsd"?"OpenBSD":t==="linux"?"Linux":t?`Other:${t}`:"Unknown");let Cf;const Dq=()=>Cf??(Cf=Nq());function Oq(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function FM(...t){const e=globalThis.ReadableStream;if(typeof e>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new e(...t)}function Pq(t){let e=Symbol.asyncIterator in t?t[Symbol.asyncIterator]():t[Symbol.iterator]();return FM({start(){},async pull(n){const{done:i,value:r}=await e.next();i?n.close():n.enqueue(r)},async cancel(){var n;await((n=e.return)===null||n===void 0?void 0:n.call(e))}})}function $M(t){if(t[Symbol.asyncIterator])return t;const e=t.getReader();return{async next(){try{const n=await e.read();return n?.done&&e.releaseLock(),n}catch(n){throw e.releaseLock(),n}},async return(){const n=e.cancel();return e.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function kq(t){var e,n;if(t===null||typeof t!="object")return;if(t[Symbol.asyncIterator]){await((n=(e=t[Symbol.asyncIterator]()).return)===null||n===void 0?void 0:n.call(e));return}const i=t.getReader(),r=i.cancel();i.releaseLock(),await r}const Lq=({headers:t,body:e})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(e)});const HM=()=>{var t;if(typeof File>"u"){const{process:e}=globalThis,n=typeof((t=e?.versions)===null||t===void 0?void 0:t.node)=="string"&&parseInt(e.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(n?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function Eg(t,e,n){return HM(),new File(t,e??"unknown_file",n)}function Uq(t){return(typeof t=="object"&&t!==null&&("name"in t&&t.name&&String(t.name)||"url"in t&&t.url&&String(t.url)||"filename"in t&&t.filename&&String(t.filename)||"path"in t&&t.path&&String(t.path))||"").split(/[\\/]/).pop()||void 0}const Bq=t=>t!=null&&typeof t=="object"&&typeof t[Symbol.asyncIterator]=="function";const GM=t=>t!=null&&typeof t=="object"&&typeof t.size=="number"&&typeof t.type=="string"&&typeof t.text=="function"&&typeof t.slice=="function"&&typeof t.arrayBuffer=="function",Fq=t=>t!=null&&typeof t=="object"&&typeof t.name=="string"&&typeof t.lastModified=="number"&&GM(t),$q=t=>t!=null&&typeof t=="object"&&typeof t.url=="string"&&typeof t.blob=="function";async function Hq(t,e,n){if(HM(),t=await t,Fq(t))return t instanceof File?t:Eg([await t.arrayBuffer()],t.name);if($q(t)){const r=await t.blob();return e||(e=new URL(t.url).pathname.split(/[\\/]/).pop()),Eg(await Nv(r),e,n)}const i=await Nv(t);if(e||(e=Uq(t)),!n?.type){const r=i.find(a=>typeof a=="object"&&"type"in a&&a.type);typeof r=="string"&&(n=Object.assign(Object.assign({},n),{type:r}))}return Eg(i,e,n)}async function Nv(t){var e,n,i,r,a;let u=[];if(typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer)u.push(t);else if(GM(t))u.push(t instanceof Blob?t:await t.arrayBuffer());else if(Bq(t))try{for(var c=!0,h=ri(t),d;d=await h.next(),e=d.done,!e;c=!0){r=d.value,c=!1;const m=r;u.push(...await Nv(m))}}catch(m){n={error:m}}finally{try{!c&&!e&&(i=h.return)&&await i.call(h)}finally{if(n)throw n.error}}else{const m=(a=t?.constructor)===null||a===void 0?void 0:a.name;throw new Error(`Unexpected data type: ${typeof t}${m?`; constructor: ${m}`:""}${Gq(t)}`)}return u}function Gq(t){return typeof t!="object"||t===null?"":`; props: [${Object.getOwnPropertyNames(t).map(n=>`"${n}"`).join(", ")}]`}let VM=class{constructor(e){this._client=e}};VM._key=[];function zM(t){return t.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const gT=Object.freeze(Object.create(null)),Vq=(t=zM)=>(function(n,...i){if(n.length===1)return n[0];let r=!1;const a=[],u=n.reduce((m,y,S)=>{var b,T,A;/[?#]/.test(y)&&(r=!0);const x=i[S];let M=(r?encodeURIComponent:t)(""+x);return S!==i.length&&(x==null||typeof x=="object"&&x.toString===((A=Object.getPrototypeOf((T=Object.getPrototypeOf((b=x.hasOwnProperty)!==null&&b!==void 0?b:gT))!==null&&T!==void 0?T:gT))===null||A===void 0?void 0:A.toString))&&(M=x+"",a.push({start:m.length+y.length,length:M.length,error:`Value of type ${Object.prototype.toString.call(x).slice(8,-1)} is not a valid path parameter`})),m+y+(S===i.length?"":M)},""),c=u.split(/[?#]/,1)[0],h=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let d;for(;(d=h.exec(c))!==null;)a.push({start:d.index,length:d[0].length,error:`Value "${d[0]}" can't be safely passed as a path parameter`});if(a.sort((m,y)=>m.start-y.start),a.length>0){let m=0;const y=a.reduce((S,b)=>{const T=" ".repeat(b.start-m),A="^".repeat(b.length);return m=b.start+b.length,S+T+A},"");throw new Jn(`Path parameters result in path with invalid segments:
${a.map(S=>S.error).join(`
`)}
${u}
${y}`)}return u}),Tf=Vq(zM);class qM extends VM{create(e,n){var i;const{api_version:r=this._client.apiVersion}=e,a=Td(e,["api_version"]);if("model"in a&&"agent_config"in a)throw new Jn("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in a&&"generation_config"in a)throw new Jn("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(Tf`/${r}/interactions`,Object.assign(Object.assign({body:a},n),{stream:(i=e.stream)!==null&&i!==void 0?i:!1}))}delete(e,n={},i){const{api_version:r=this._client.apiVersion}=n??{};return this._client.delete(Tf`/${r}/interactions/${e}`,i)}cancel(e,n={},i){const{api_version:r=this._client.apiVersion}=n??{};return this._client.post(Tf`/${r}/interactions/${e}/cancel`,i)}get(e,n={},i){var r;const a=n??{},{api_version:u=this._client.apiVersion}=a,c=Td(a,["api_version"]);return this._client.get(Tf`/${u}/interactions/${e}`,Object.assign(Object.assign({query:c},i),{stream:(r=n?.stream)!==null&&r!==void 0?r:!1}))}}qM._key=Object.freeze(["interactions"]);class JM extends qM{}function zq(t){let e=0;for(const r of t)e+=r.length;const n=new Uint8Array(e);let i=0;for(const r of t)n.set(r,i),i+=r.length;return n}let Af;function Vy(t){let e;return(Af??(e=new globalThis.TextEncoder,Af=e.encode.bind(e)))(t)}let xf;function vT(t){let e;return(xf??(e=new globalThis.TextDecoder,xf=e.decode.bind(e)))(t)}let ph=class{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(e){if(e==null)return[];const n=e instanceof ArrayBuffer?new Uint8Array(e):typeof e=="string"?Vy(e):e;this.buffer=zq([this.buffer,n]);const i=[];let r;for(;(r=qq(this.buffer,this.carriageReturnIndex))!=null;){if(r.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=r.index;continue}if(this.carriageReturnIndex!=null&&(r.index!==this.carriageReturnIndex+1||r.carriage)){i.push(vT(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const a=this.carriageReturnIndex!==null?r.preceding-1:r.preceding,u=vT(this.buffer.subarray(0,a));i.push(u),this.buffer=this.buffer.subarray(r.index),this.carriageReturnIndex=null}return i}flush(){return this.buffer.length?this.decode(`
`):[]}};ph.NEWLINE_CHARS=new Set([`
`,"\r"]);ph.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function qq(t,e){for(let r=e??0;r<t.length;r++){if(t[r]===10)return{preceding:r,index:r+1,carriage:!1};if(t[r]===13)return{preceding:r,index:r+1,carriage:!0}}return null}function Jq(t){for(let i=0;i<t.length-1;i++){if(t[i]===10&&t[i+1]===10||t[i]===13&&t[i+1]===13)return i+2;if(t[i]===13&&t[i+1]===10&&i+3<t.length&&t[i+2]===13&&t[i+3]===10)return i+4}return-1}const Ad={off:0,error:200,warn:300,info:400,debug:500},yT=(t,e,n)=>{if(t){if(Tq(Ad,t))return t;Ht(n).warn(`${e} was set to ${JSON.stringify(t)}, expected one of ${JSON.stringify(Object.keys(Ad))}`)}};function $l(){}function Rf(t,e,n){return!e||Ad[t]>Ad[n]?$l:e[t].bind(e)}const Kq={error:$l,warn:$l,info:$l,debug:$l};let _T=new WeakMap;function Ht(t){var e;const n=t.logger,i=(e=t.logLevel)!==null&&e!==void 0?e:"off";if(!n)return Kq;const r=_T.get(n);if(r&&r[0]===i)return r[1];const a={error:Rf("error",n,i),warn:Rf("warn",n,i),info:Rf("info",n,i),debug:Rf("debug",n,i)};return _T.set(n,[i,a]),a}const kr=t=>(t.options&&(t.options=Object.assign({},t.options),delete t.options.headers),t.headers&&(t.headers=Object.fromEntries((t.headers instanceof Headers?[...t.headers]:Object.entries(t.headers)).map(([e,n])=>[e,e.toLowerCase()==="x-goog-api-key"||e.toLowerCase()==="authorization"||e.toLowerCase()==="cookie"||e.toLowerCase()==="set-cookie"?"***":n]))),"retryOfRequestLogID"in t&&(t.retryOfRequestLogID&&(t.retryOf=t.retryOfRequestLogID),delete t.retryOfRequestLogID),t);let Yq=class Hl{constructor(e,n,i){this.iterator=e,this.controller=n,this.client=i}static fromSSEResponse(e,n,i){let r=!1;const a=i?Ht(i):console;function u(){return oi(this,arguments,function*(){var h,d,m,y;if(r)throw new Jn("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let S=!1;try{try{for(var b=!0,T=ri(jq(e,n)),A;A=yield Te(T.next()),h=A.done,!h;b=!0){y=A.value,b=!1;const x=y;if(!S)if(x.data.startsWith("[DONE]")){S=!0;continue}else try{yield yield Te(JSON.parse(x.data))}catch(M){throw a.error("Could not parse message into JSON:",x.data),a.error("From chunk:",x.raw),M}}}catch(x){d={error:x}}finally{try{!b&&!h&&(m=T.return)&&(yield Te(m.call(T)))}finally{if(d)throw d.error}}S=!0}catch(x){if(Tv(x))return yield Te(void 0);throw x}finally{S||n.abort()}})}return new Hl(u,n,i)}static fromReadableStream(e,n,i){let r=!1;function a(){return oi(this,arguments,function*(){var h,d,m,y;const S=new ph,b=$M(e);try{for(var T=!0,A=ri(b),x;x=yield Te(A.next()),h=x.done,!h;T=!0){y=x.value,T=!1;const M=y;for(const I of S.decode(M))yield yield Te(I)}}catch(M){d={error:M}}finally{try{!T&&!h&&(m=A.return)&&(yield Te(m.call(A)))}finally{if(d)throw d.error}}for(const M of S.flush())yield yield Te(M)})}function u(){return oi(this,arguments,function*(){var h,d,m,y;if(r)throw new Jn("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let S=!1;try{try{for(var b=!0,T=ri(a()),A;A=yield Te(T.next()),h=A.done,!h;b=!0){y=A.value,b=!1;const x=y;S||x&&(yield yield Te(JSON.parse(x)))}}catch(x){d={error:x}}finally{try{!b&&!h&&(m=T.return)&&(yield Te(m.call(T)))}finally{if(d)throw d.error}}S=!0}catch(x){if(Tv(x))return yield Te(void 0);throw x}finally{S||n.abort()}})}return new Hl(u,n,i)}[Symbol.asyncIterator](){return this.iterator()}tee(){const e=[],n=[],i=this.iterator(),r=a=>({next:()=>{if(a.length===0){const u=i.next();e.push(u),n.push(u)}return a.shift()}});return[new Hl(()=>r(e),this.controller,this.client),new Hl(()=>r(n),this.controller,this.client)]}toReadableStream(){const e=this;let n;return FM({async start(){n=e[Symbol.asyncIterator]()},async pull(i){try{const{value:r,done:a}=await n.next();if(a)return i.close();const u=Vy(JSON.stringify(r)+`
`);i.enqueue(u)}catch(r){i.error(r)}},async cancel(){var i;await((i=n.return)===null||i===void 0?void 0:i.call(n))}})}};function jq(t,e){return oi(this,arguments,function*(){var i,r,a,u;if(!t.body)throw e.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new Jn("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new Jn("Attempted to iterate over a response with no body");const c=new Wq,h=new ph,d=$M(t.body);try{for(var m=!0,y=ri(Xq(d)),S;S=yield Te(y.next()),i=S.done,!i;m=!0){u=S.value,m=!1;const b=u;for(const T of h.decode(b)){const A=c.decode(T);A&&(yield yield Te(A))}}}catch(b){r={error:b}}finally{try{!m&&!i&&(a=y.return)&&(yield Te(a.call(y)))}finally{if(r)throw r.error}}for(const b of h.flush()){const T=c.decode(b);T&&(yield yield Te(T))}})}function Xq(t){return oi(this,arguments,function*(){var n,i,r,a;let u=new Uint8Array;try{for(var c=!0,h=ri(t),d;d=yield Te(h.next()),n=d.done,!n;c=!0){a=d.value,c=!1;const m=a;if(m==null)continue;const y=m instanceof ArrayBuffer?new Uint8Array(m):typeof m=="string"?Vy(m):m;let S=new Uint8Array(u.length+y.length);S.set(u),S.set(y,u.length),u=S;let b;for(;(b=Jq(u))!==-1;)yield yield Te(u.slice(0,b)),u=u.slice(b)}}catch(m){i={error:m}}finally{try{!c&&!n&&(r=h.return)&&(yield Te(r.call(h)))}finally{if(i)throw i.error}}u.length>0&&(yield yield Te(u))})}let Wq=class{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const a={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],a}if(this.chunks.push(e),e.startsWith(":"))return null;let[n,i,r]=Qq(e,":");return r.startsWith(" ")&&(r=r.substring(1)),n==="event"?this.event=r:n==="data"&&this.data.push(r),null}};function Qq(t,e){const n=t.indexOf(e);return n!==-1?[t.substring(0,n),e,t.substring(n+e.length)]:[t,"",""]}async function Zq(t,e){const{response:n,requestLogID:i,retryOfRequestLogID:r,startTime:a}=e,u=await(async()=>{var c;if(e.options.stream)return Ht(t).debug("response",n.status,n.url,n.headers,n.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(n,e.controller,t):Yq.fromSSEResponse(n,e.controller,t);if(n.status===204)return null;if(e.options.__binaryResponse)return n;const h=n.headers.get("content-type"),d=(c=h?.split(";")[0])===null||c===void 0?void 0:c.trim();return d?.includes("application/json")||d?.endsWith("+json")?await n.json():await n.text()})();return Ht(t).debug(`[${i}] response parsed`,kr({retryOfRequestLogID:r,url:n.url,status:n.status,body:u,durationMs:Date.now()-a})),u}let e3=class KM extends Promise{constructor(e,n,i=Zq){super(r=>{r(null)}),this.responsePromise=n,this.parseResponse=i,this.client=e}_thenUnwrap(e){return new KM(this.client,this.responsePromise,async(n,i)=>e(await this.parseResponse(n,i),i))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:n}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(e=>this.parseResponse(this.client,e))),this.parsedPromise}then(e,n){return this.parse().then(e,n)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}};const YM=Symbol("brand.privateNullableHeaders");function*t3(t){if(!t)return;if(YM in t){const{values:i,nulls:r}=t;yield*i.entries();for(const a of r)yield[a,null];return}let e=!1,n;t instanceof Headers?n=t.entries():hT(t)?n=t:(e=!0,n=Object.entries(t??{}));for(let i of n){const r=i[0];if(typeof r!="string")throw new TypeError("expected header name to be a string");const a=hT(i[1])?i[1]:[i[1]];let u=!1;for(const c of a)c!==void 0&&(e&&!u&&(u=!0,yield[r,null]),yield[r,c])}}const wg=t=>{const e=new Headers,n=new Set;for(const i of t){const r=new Set;for(const[a,u]of t3(i)){const c=a.toLowerCase();r.has(c)||(e.delete(a),r.add(c)),u===null?(e.delete(a),n.add(c)):(e.append(a,u),n.delete(c))}}return{[YM]:!0,values:e,nulls:n}};const Cg=t=>{var e,n,i,r,a,u;if(typeof globalThis.process<"u")return(i=(n=(e=TF)===null||e===void 0?void 0:e[t])===null||n===void 0?void 0:n.trim())!==null&&i!==void 0?i:void 0;if(typeof globalThis.Deno<"u")return(u=(a=(r=globalThis.Deno.env)===null||r===void 0?void 0:r.get)===null||a===void 0?void 0:a.call(r,t))===null||u===void 0?void 0:u.trim()};var jM;class mh{constructor(e){var n,i,r,a,u,c,h,d=e===void 0?{}:e,{baseURL:m=Cg("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:y=(n=Cg("GEMINI_API_KEY"))!==null&&n!==void 0?n:null,apiVersion:S="v1beta"}=d,b=Td(d,["baseURL","apiKey","apiVersion"]);const T=Object.assign(Object.assign({apiKey:y,apiVersion:S},b),{baseURL:m||"https://generativelanguage.googleapis.com"});this.baseURL=T.baseURL,this.timeout=(i=T.timeout)!==null&&i!==void 0?i:mh.DEFAULT_TIMEOUT,this.logger=(r=T.logger)!==null&&r!==void 0?r:console;const A="warn";this.logLevel=A,this.logLevel=(u=(a=yT(T.logLevel,"ClientOptions.logLevel",this))!==null&&a!==void 0?a:yT(Cg("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&u!==void 0?u:A,this.fetchOptions=T.fetchOptions,this.maxRetries=(c=T.maxRetries)!==null&&c!==void 0?c:2,this.fetch=(h=T.fetch)!==null&&h!==void 0?h:Oq(),this.encoder=Lq,this._options=T,this.apiKey=y,this.apiVersion=S}withOptions(e){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),e))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:e,nulls:n}){if(!(this.apiKey&&e.get("x-goog-api-key"))&&!n.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(e){if(this.apiKey!=null)return wg([{"x-goog-api-key":this.apiKey}])}stringifyQuery(e){return Object.entries(e).filter(([n,i])=>typeof i<"u").map(([n,i])=>{if(typeof i=="string"||typeof i=="number"||typeof i=="boolean")return`${encodeURIComponent(n)}=${encodeURIComponent(i)}`;if(i===null)return`${encodeURIComponent(n)}=`;throw new Jn(`Cannot stringify type ${typeof i}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${ta}`}defaultIdempotencyKey(){return`stainless-node-retry-${_q()}`}makeStatusError(e,n,i,r){return Kn.generate(e,n,i,r)}buildURL(e,n,i){const r=!this.baseURLOverridden()&&i||this.baseURL,a=bq(e)?new URL(e):new URL(r+(r.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),u=this.defaultQuery();return Cq(u)||(n=Object.assign(Object.assign({},u),n)),typeof n=="object"&&n&&!Array.isArray(n)&&(a.search=this.stringifyQuery(n)),a.toString()}async prepareOptions(e){}async prepareRequest(e,{url:n,options:i}){}get(e,n){return this.methodRequest("get",e,n)}post(e,n){return this.methodRequest("post",e,n)}patch(e,n){return this.methodRequest("patch",e,n)}put(e,n){return this.methodRequest("put",e,n)}delete(e,n){return this.methodRequest("delete",e,n)}methodRequest(e,n,i){return this.request(Promise.resolve(i).then(r=>Object.assign({method:e,path:n},r)))}request(e,n=null){return new e3(this,this.makeRequest(e,n,void 0))}async makeRequest(e,n,i){var r,a,u;const c=await e,h=(r=c.maxRetries)!==null&&r!==void 0?r:this.maxRetries;n==null&&(n=h),await this.prepareOptions(c);const{req:d,url:m,timeout:y}=await this.buildRequest(c,{retryCount:h-n});await this.prepareRequest(d,{url:m,options:c});const S="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),b=i===void 0?"":`, retryOf: ${i}`,T=Date.now();if(Ht(this).debug(`[${S}] sending request`,kr({retryOfRequestLogID:i,method:c.method,url:m,options:c,headers:d.headers})),!((a=c.signal)===null||a===void 0)&&a.aborted)throw new Rv;const A=new AbortController,x=await this.fetchWithTimeout(m,d,y,A).catch(Av),M=Date.now();if(x instanceof globalThis.Error){const N=`retrying, ${n} attempts remaining`;if(!((u=c.signal)===null||u===void 0)&&u.aborted)throw new Rv;const D=Tv(x)||/timed? ?out/i.test(String(x)+("cause"in x?String(x.cause):""));if(n)return Ht(this).info(`[${S}] connection ${D?"timed out":"failed"} - ${N}`),Ht(this).debug(`[${S}] connection ${D?"timed out":"failed"} (${N})`,kr({retryOfRequestLogID:i,url:m,durationMs:M-T,message:x.message})),this.retryRequest(c,n,i??S);throw Ht(this).info(`[${S}] connection ${D?"timed out":"failed"} - error; no more retries left`),Ht(this).debug(`[${S}] connection ${D?"timed out":"failed"} (error; no more retries left)`,kr({retryOfRequestLogID:i,url:m,durationMs:M-T,message:x.message})),D?new NM:new hh({cause:x})}const I=`[${S}${b}] ${d.method} ${m} ${x.ok?"succeeded":"failed"} with status ${x.status} in ${M-T}ms`;if(!x.ok){const N=await this.shouldRetry(x);if(n&&N){const J=`retrying, ${n} attempts remaining`;return await kq(x.body),Ht(this).info(`${I} - ${J}`),Ht(this).debug(`[${S}] response error (${J})`,kr({retryOfRequestLogID:i,url:x.url,status:x.status,headers:x.headers,durationMs:M-T})),this.retryRequest(c,n,i??S,x.headers)}const D=N?"error; no more retries left":"error; not retryable";Ht(this).info(`${I} - ${D}`);const L=await x.text().catch(J=>Av(J).message),U=xq(L),O=U?void 0:L;throw Ht(this).debug(`[${S}] response error (${D})`,kr({retryOfRequestLogID:i,url:x.url,status:x.status,headers:x.headers,message:O,durationMs:Date.now()-T})),this.makeStatusError(x.status,U,O,x.headers)}return Ht(this).info(I),Ht(this).debug(`[${S}] response start`,kr({retryOfRequestLogID:i,url:x.url,status:x.status,headers:x.headers,durationMs:M-T})),{response:x,options:c,controller:A,requestLogID:S,retryOfRequestLogID:i,startTime:T}}async fetchWithTimeout(e,n,i,r){const a=n||{},{signal:u,method:c}=a,h=Td(a,["signal","method"]);u&&u.addEventListener("abort",()=>r.abort());const d=setTimeout(()=>r.abort(),i),m=globalThis.ReadableStream&&h.body instanceof globalThis.ReadableStream||typeof h.body=="object"&&h.body!==null&&Symbol.asyncIterator in h.body,y=Object.assign(Object.assign(Object.assign({signal:r.signal},m?{duplex:"half"}:{}),{method:"GET"}),h);c&&(y.method=c.toUpperCase());try{return await this.fetch.call(void 0,e,y)}finally{clearTimeout(d)}}async shouldRetry(e){const n=e.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,n,i,r){var a;let u;const c=r?.get("retry-after-ms");if(c){const d=parseFloat(c);Number.isNaN(d)||(u=d)}const h=r?.get("retry-after");if(h&&!u){const d=parseFloat(h);Number.isNaN(d)?u=Date.parse(h)-Date.now():u=d*1e3}if(!(u&&0<=u&&u<60*1e3)){const d=(a=e.maxRetries)!==null&&a!==void 0?a:this.maxRetries;u=this.calculateDefaultRetryTimeoutMillis(n,d)}return await Rq(u),this.makeRequest(e,n-1,i)}calculateDefaultRetryTimeoutMillis(e,n){const a=n-e,u=Math.min(.5*Math.pow(2,a),8),c=1-Math.random()*.25;return u*c*1e3}async buildRequest(e,{retryCount:n=0}={}){var i,r,a;const u=Object.assign({},e),{method:c,path:h,query:d,defaultBaseURL:m}=u,y=this.buildURL(h,d,m);"timeout"in u&&Aq("timeout",u.timeout),u.timeout=(i=u.timeout)!==null&&i!==void 0?i:this.timeout;const{bodyHeaders:S,body:b}=this.buildBody({options:u}),T=await this.buildHeaders({options:e,method:c,bodyHeaders:S,retryCount:n});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:c,headers:T},u.signal&&{signal:u.signal}),globalThis.ReadableStream&&b instanceof globalThis.ReadableStream&&{duplex:"half"}),b&&{body:b}),(r=this.fetchOptions)!==null&&r!==void 0?r:{}),(a=u.fetchOptions)!==null&&a!==void 0?a:{}),url:y,timeout:u.timeout}}async buildHeaders({options:e,method:n,bodyHeaders:i,retryCount:r}){let a={};this.idempotencyHeader&&n!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),a[this.idempotencyHeader]=e.idempotencyKey);const u=wg([a,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(r)},e.timeout?{"X-Stainless-Timeout":String(Math.trunc(e.timeout/1e3))}:{}),Dq()),await this.authHeaders(e),this._options.defaultHeaders,i,e.headers]);return this.validateHeaders(u),u.values}buildBody({options:{body:e,headers:n}}){if(!e)return{bodyHeaders:void 0,body:void 0};const i=wg([n]);return ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof DataView||typeof e=="string"&&i.values.has("content-type")||globalThis.Blob&&e instanceof globalThis.Blob||e instanceof FormData||e instanceof URLSearchParams||globalThis.ReadableStream&&e instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:e}:typeof e=="object"&&(Symbol.asyncIterator in e||Symbol.iterator in e&&"next"in e&&typeof e.next=="function")?{bodyHeaders:void 0,body:Pq(e)}:this.encoder({body:e,headers:i})}}mh.DEFAULT_TIMEOUT=6e4;class Tt extends mh{constructor(){super(...arguments),this.interactions=new JM(this)}}jM=Tt;Tt.GeminiNextGenAPIClient=jM;Tt.GeminiNextGenAPIClientError=Jn;Tt.APIError=Kn;Tt.APIConnectionError=hh;Tt.APIConnectionTimeoutError=NM;Tt.APIUserAbortError=Rv;Tt.NotFoundError=PM;Tt.ConflictError=kM;Tt.RateLimitError=UM;Tt.BadRequestError=IM;Tt.AuthenticationError=DM;Tt.InternalServerError=BM;Tt.PermissionDeniedError=OM;Tt.UnprocessableEntityError=LM;Tt.toFile=Hq;Tt.Interactions=JM;function n3(t,e){const n={},i=p(t,["name"]);return i!=null&&g(n,["_url","name"],i),n}function i3(t,e){const n={},i=p(t,["name"]);return i!=null&&g(n,["_url","name"],i),n}function o3(t,e){const n={},i=p(t,["sdkHttpResponse"]);return i!=null&&g(n,["sdkHttpResponse"],i),n}function r3(t,e){const n={},i=p(t,["sdkHttpResponse"]);return i!=null&&g(n,["sdkHttpResponse"],i),n}function s3(t,e,n){const i={};if(p(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const r=p(t,["tunedModelDisplayName"]);if(e!==void 0&&r!=null&&g(e,["displayName"],r),p(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const a=p(t,["epochCount"]);e!==void 0&&a!=null&&g(e,["tuningTask","hyperparameters","epochCount"],a);const u=p(t,["learningRateMultiplier"]);if(u!=null&&g(i,["tuningTask","hyperparameters","learningRateMultiplier"],u),p(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(p(t,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(p(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const c=p(t,["batchSize"]);e!==void 0&&c!=null&&g(e,["tuningTask","hyperparameters","batchSize"],c);const h=p(t,["learningRate"]);if(e!==void 0&&h!=null&&g(e,["tuningTask","hyperparameters","learningRate"],h),p(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(p(t,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return i}function a3(t,e,n){const i={};let r=p(n,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){const b=p(t,["validationDataset"]);e!==void 0&&b!=null&&g(e,["supervisedTuningSpec"],ST(b))}else if(r==="PREFERENCE_TUNING"){const b=p(t,["validationDataset"]);e!==void 0&&b!=null&&g(e,["preferenceOptimizationSpec"],ST(b))}const a=p(t,["tunedModelDisplayName"]);e!==void 0&&a!=null&&g(e,["tunedModelDisplayName"],a);const u=p(t,["description"]);e!==void 0&&u!=null&&g(e,["description"],u);let c=p(n,["config","method"]);if(c===void 0&&(c="SUPERVISED_FINE_TUNING"),c==="SUPERVISED_FINE_TUNING"){const b=p(t,["epochCount"]);e!==void 0&&b!=null&&g(e,["supervisedTuningSpec","hyperParameters","epochCount"],b)}else if(c==="PREFERENCE_TUNING"){const b=p(t,["epochCount"]);e!==void 0&&b!=null&&g(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],b)}let h=p(n,["config","method"]);if(h===void 0&&(h="SUPERVISED_FINE_TUNING"),h==="SUPERVISED_FINE_TUNING"){const b=p(t,["learningRateMultiplier"]);e!==void 0&&b!=null&&g(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],b)}else if(h==="PREFERENCE_TUNING"){const b=p(t,["learningRateMultiplier"]);e!==void 0&&b!=null&&g(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],b)}let d=p(n,["config","method"]);if(d===void 0&&(d="SUPERVISED_FINE_TUNING"),d==="SUPERVISED_FINE_TUNING"){const b=p(t,["exportLastCheckpointOnly"]);e!==void 0&&b!=null&&g(e,["supervisedTuningSpec","exportLastCheckpointOnly"],b)}else if(d==="PREFERENCE_TUNING"){const b=p(t,["exportLastCheckpointOnly"]);e!==void 0&&b!=null&&g(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],b)}let m=p(n,["config","method"]);if(m===void 0&&(m="SUPERVISED_FINE_TUNING"),m==="SUPERVISED_FINE_TUNING"){const b=p(t,["adapterSize"]);e!==void 0&&b!=null&&g(e,["supervisedTuningSpec","hyperParameters","adapterSize"],b)}else if(m==="PREFERENCE_TUNING"){const b=p(t,["adapterSize"]);e!==void 0&&b!=null&&g(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],b)}if(p(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(p(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const y=p(t,["labels"]);e!==void 0&&y!=null&&g(e,["labels"],y);const S=p(t,["beta"]);return e!==void 0&&S!=null&&g(e,["preferenceOptimizationSpec","hyperParameters","beta"],S),i}function l3(t,e){const n={},i=p(t,["baseModel"]);i!=null&&g(n,["baseModel"],i);const r=p(t,["preTunedModel"]);r!=null&&g(n,["preTunedModel"],r);const a=p(t,["trainingDataset"]);a!=null&&_3(a);const u=p(t,["config"]);return u!=null&&s3(u,n),n}function u3(t,e){const n={},i=p(t,["baseModel"]);i!=null&&g(n,["baseModel"],i);const r=p(t,["preTunedModel"]);r!=null&&g(n,["preTunedModel"],r);const a=p(t,["trainingDataset"]);a!=null&&S3(a,n,e);const u=p(t,["config"]);return u!=null&&a3(u,n,e),n}function c3(t,e){const n={},i=p(t,["name"]);return i!=null&&g(n,["_url","name"],i),n}function f3(t,e){const n={},i=p(t,["name"]);return i!=null&&g(n,["_url","name"],i),n}function d3(t,e,n){const i={},r=p(t,["pageSize"]);e!==void 0&&r!=null&&g(e,["_query","pageSize"],r);const a=p(t,["pageToken"]);e!==void 0&&a!=null&&g(e,["_query","pageToken"],a);const u=p(t,["filter"]);return e!==void 0&&u!=null&&g(e,["_query","filter"],u),i}function h3(t,e,n){const i={},r=p(t,["pageSize"]);e!==void 0&&r!=null&&g(e,["_query","pageSize"],r);const a=p(t,["pageToken"]);e!==void 0&&a!=null&&g(e,["_query","pageToken"],a);const u=p(t,["filter"]);return e!==void 0&&u!=null&&g(e,["_query","filter"],u),i}function p3(t,e){const n={},i=p(t,["config"]);return i!=null&&d3(i,n),n}function m3(t,e){const n={},i=p(t,["config"]);return i!=null&&h3(i,n),n}function g3(t,e){const n={},i=p(t,["sdkHttpResponse"]);i!=null&&g(n,["sdkHttpResponse"],i);const r=p(t,["nextPageToken"]);r!=null&&g(n,["nextPageToken"],r);const a=p(t,["tunedModels"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(c=>XM(c))),g(n,["tuningJobs"],u)}return n}function v3(t,e){const n={},i=p(t,["sdkHttpResponse"]);i!=null&&g(n,["sdkHttpResponse"],i);const r=p(t,["nextPageToken"]);r!=null&&g(n,["nextPageToken"],r);const a=p(t,["tuningJobs"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(c=>Iv(c))),g(n,["tuningJobs"],u)}return n}function y3(t,e){const n={},i=p(t,["name"]);i!=null&&g(n,["model"],i);const r=p(t,["name"]);return r!=null&&g(n,["endpoint"],r),n}function _3(t,e){const n={};if(p(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(p(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const i=p(t,["examples"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(a=>a)),g(n,["examples","examples"],r)}return n}function S3(t,e,n){const i={};let r=p(n,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){const u=p(t,["gcsUri"]);e!==void 0&&u!=null&&g(e,["supervisedTuningSpec","trainingDatasetUri"],u)}else if(r==="PREFERENCE_TUNING"){const u=p(t,["gcsUri"]);e!==void 0&&u!=null&&g(e,["preferenceOptimizationSpec","trainingDatasetUri"],u)}let a=p(n,["config","method"]);if(a===void 0&&(a="SUPERVISED_FINE_TUNING"),a==="SUPERVISED_FINE_TUNING"){const u=p(t,["vertexDatasetResource"]);e!==void 0&&u!=null&&g(e,["supervisedTuningSpec","trainingDatasetUri"],u)}else if(a==="PREFERENCE_TUNING"){const u=p(t,["vertexDatasetResource"]);e!==void 0&&u!=null&&g(e,["preferenceOptimizationSpec","trainingDatasetUri"],u)}if(p(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return i}function XM(t,e){const n={},i=p(t,["sdkHttpResponse"]);i!=null&&g(n,["sdkHttpResponse"],i);const r=p(t,["name"]);r!=null&&g(n,["name"],r);const a=p(t,["state"]);a!=null&&g(n,["state"],uM(a));const u=p(t,["createTime"]);u!=null&&g(n,["createTime"],u);const c=p(t,["tuningTask","startTime"]);c!=null&&g(n,["startTime"],c);const h=p(t,["tuningTask","completeTime"]);h!=null&&g(n,["endTime"],h);const d=p(t,["updateTime"]);d!=null&&g(n,["updateTime"],d);const m=p(t,["description"]);m!=null&&g(n,["description"],m);const y=p(t,["baseModel"]);y!=null&&g(n,["baseModel"],y);const S=p(t,["_self"]);return S!=null&&g(n,["tunedModel"],y3(S)),n}function Iv(t,e){const n={},i=p(t,["sdkHttpResponse"]);i!=null&&g(n,["sdkHttpResponse"],i);const r=p(t,["name"]);r!=null&&g(n,["name"],r);const a=p(t,["state"]);a!=null&&g(n,["state"],uM(a));const u=p(t,["createTime"]);u!=null&&g(n,["createTime"],u);const c=p(t,["startTime"]);c!=null&&g(n,["startTime"],c);const h=p(t,["endTime"]);h!=null&&g(n,["endTime"],h);const d=p(t,["updateTime"]);d!=null&&g(n,["updateTime"],d);const m=p(t,["error"]);m!=null&&g(n,["error"],m);const y=p(t,["description"]);y!=null&&g(n,["description"],y);const S=p(t,["baseModel"]);S!=null&&g(n,["baseModel"],S);const b=p(t,["tunedModel"]);b!=null&&g(n,["tunedModel"],b);const T=p(t,["preTunedModel"]);T!=null&&g(n,["preTunedModel"],T);const A=p(t,["supervisedTuningSpec"]);A!=null&&g(n,["supervisedTuningSpec"],A);const x=p(t,["preferenceOptimizationSpec"]);x!=null&&g(n,["preferenceOptimizationSpec"],x);const M=p(t,["tuningDataStats"]);M!=null&&g(n,["tuningDataStats"],M);const I=p(t,["encryptionSpec"]);I!=null&&g(n,["encryptionSpec"],I);const N=p(t,["partnerModelTuningSpec"]);N!=null&&g(n,["partnerModelTuningSpec"],N);const D=p(t,["customBaseModel"]);D!=null&&g(n,["customBaseModel"],D);const L=p(t,["experiment"]);L!=null&&g(n,["experiment"],L);const U=p(t,["labels"]);U!=null&&g(n,["labels"],U);const O=p(t,["outputUri"]);O!=null&&g(n,["outputUri"],O);const q=p(t,["pipelineJob"]);q!=null&&g(n,["pipelineJob"],q);const J=p(t,["serviceAccount"]);J!=null&&g(n,["serviceAccount"],J);const j=p(t,["tunedModelDisplayName"]);j!=null&&g(n,["tunedModelDisplayName"],j);const W=p(t,["veoTuningSpec"]);return W!=null&&g(n,["veoTuningSpec"],W),n}function b3(t,e){const n={},i=p(t,["sdkHttpResponse"]);i!=null&&g(n,["sdkHttpResponse"],i);const r=p(t,["name"]);r!=null&&g(n,["name"],r);const a=p(t,["metadata"]);a!=null&&g(n,["metadata"],a);const u=p(t,["done"]);u!=null&&g(n,["done"],u);const c=p(t,["error"]);return c!=null&&g(n,["error"],c),n}function ST(t,e){const n={},i=p(t,["gcsUri"]);i!=null&&g(n,["validationDatasetUri"],i);const r=p(t,["vertexDatasetResource"]);return r!=null&&g(n,["validationDatasetUri"],r),n}class E3 extends _o{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new os(mo.PAGED_ITEM_TUNING_JOBS,i=>this.listInternal(i),await this.listInternal(n),n),this.get=async n=>await this.getInternal(n),this.tune=async n=>{var i;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const r={tunedModelName:n.baseModel};!((i=n.config)===null||i===void 0)&&i.preTunedModelCheckpointId&&(r.checkpointId=n.config.preTunedModelCheckpointId);const a=Object.assign(Object.assign({},n),{preTunedModel:r});return a.baseModel=void 0,await this.tuneInternal(a)}else{const r=Object.assign({},n);return await this.tuneInternal(r)}else{const r=Object.assign({},n),a=await this.tuneMldevInternal(r);let u="";return a.metadata!==void 0&&a.metadata.tunedModel!==void 0?u=a.metadata.tunedModel:a.name!==void 0&&a.name.includes("/operations/")&&(u=a.name.split("/operations/")[0]),{name:u,state:yv.JOB_STATE_QUEUED}}}}async getInternal(e){var n,i,r,a;let u,c="",h={};if(this.apiClient.isVertexAI()){const d=f3(e);return c=fe("{name}",d._url),h=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json().then(y=>{const S=y;return S.sdkHttpResponse={headers:m.headers},S})),u.then(m=>Iv(m))}else{const d=c3(e);return c=fe("{name}",d._url),h=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json().then(y=>{const S=y;return S.sdkHttpResponse={headers:m.headers},S})),u.then(m=>XM(m))}}async listInternal(e){var n,i,r,a;let u,c="",h={};if(this.apiClient.isVertexAI()){const d=m3(e);return c=fe("tuningJobs",d._url),h=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json().then(y=>{const S=y;return S.sdkHttpResponse={headers:m.headers},S})),u.then(m=>{const y=v3(m),S=new JC;return Object.assign(S,y),S})}else{const d=p3(e);return c=fe("tunedModels",d._url),h=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json().then(y=>{const S=y;return S.sdkHttpResponse={headers:m.headers},S})),u.then(m=>{const y=g3(m),S=new JC;return Object.assign(S,y),S})}}async cancel(e){var n,i,r,a;let u,c="",h={};if(this.apiClient.isVertexAI()){const d=i3(e);return c=fe("{name}:cancel",d._url),h=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json().then(y=>{const S=y;return S.sdkHttpResponse={headers:m.headers},S})),u.then(m=>{const y=r3(m),S=new KC;return Object.assign(S,y),S})}else{const d=n3(e);return c=fe("{name}:cancel",d._url),h=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json().then(y=>{const S=y;return S.sdkHttpResponse={headers:m.headers},S})),u.then(m=>{const y=o3(m),S=new KC;return Object.assign(S,y),S})}}async tuneInternal(e){var n,i;let r,a="",u={};if(this.apiClient.isVertexAI()){const c=u3(e,e);return a=fe("tuningJobs",c._url),u=c._query,delete c._url,delete c._query,r=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json().then(d=>{const m=d;return m.sdkHttpResponse={headers:h.headers},m})),r.then(h=>Iv(h))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,i;let r,a="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=l3(e);return a=fe("tunedModels",c._url),u=c._query,delete c._url,delete c._query,r=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json().then(d=>{const m=d;return m.sdkHttpResponse={headers:h.headers},m})),r.then(h=>b3(h))}}}class w3{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const C3=1024*1024*8,T3=3,A3=1e3,x3=2,xd="x-goog-upload-status";async function R3(t,e,n){var i;const r=await WM(t,e,n),a=await r?.json();if(((i=r?.headers)===null||i===void 0?void 0:i[xd])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return a.file}async function M3(t,e,n){var i;const r=await WM(t,e,n),a=await r?.json();if(((i=r?.headers)===null||i===void 0?void 0:i[xd])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const u=iM(a),c=new Uy;return Object.assign(c,u),c}async function WM(t,e,n){var i,r;let a=0,u=0,c=new _v(new Response),h="upload";for(a=t.size;u<a;){const d=Math.min(C3,a-u),m=t.slice(u,u+d);u+d>=a&&(h+=", finalize");let y=0,S=A3;for(;y<T3&&(c=await n.request({path:"",body:m,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":h,"X-Goog-Upload-Offset":String(u),"Content-Length":String(d)}}}),!(!((i=c?.headers)===null||i===void 0)&&i[xd]));)y++,await I3(S),S=S*x3;if(u+=d,((r=c?.headers)===null||r===void 0?void 0:r[xd])!=="active")break;if(a<=u)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return c}async function N3(t){return{size:t.size,type:t.type}}function I3(t){return new Promise(e=>setTimeout(e,t))}class D3{async upload(e,n,i){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await R3(e,n,i)}async uploadToFileSearchStore(e,n,i){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await M3(e,n,i)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await N3(e)}}class O3{create(e,n,i){return new P3(e,n,i)}}class P3{constructor(e,n,i){this.url=e,this.headers=n,this.callbacks=i}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}const bT="x-goog-api-key";class k3{constructor(e){this.apiKey=e}async addAuthHeaders(e,n){if(e.get(bT)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(bT,this.apiKey)}}}const L3="gl-node/";class U3{get interactions(){if(this._interactions!==void 0)return this._interactions;if(console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions."),this.vertexai)throw new Error("This version of the GenAI SDK does not support Vertex AI API for interactions.");const e=this.httpOptions;e?.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const n=new Tt({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:e?.timeout});return this._interactions=n.interactions,this._interactions}constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;const i=MF(e.httpOptions,e.vertexai,void 0,void 0);i&&(e.httpOptions?e.httpOptions.baseUrl=i:e.httpOptions={baseUrl:i}),this.apiVersion=e.apiVersion,this.httpOptions=e.httpOptions;const r=new k3(this.apiKey);this.apiClient=new Rz({auth:r,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:L3+"web",uploader:new D3,downloader:new w3}),this.models=new Kz(this.apiClient),this.live=new Hz(this.apiClient,r,new O3),this.batches=new oH(this.apiClient),this.chats=new FH(this.models,this.apiClient),this.caches=new LH(this.apiClient),this.files=new jH(this.apiClient),this.operations=new Yz(this.apiClient),this.authTokens=new cq(this.apiClient),this.tunings=new E3(this.apiClient),this.fileSearchStores=new yq(this.apiClient)}}let Tg=class extends Error{};const QM=["gemini-2.5-flash-image","gemini-3-pro-image-preview"];class co{static options={img_models:{flash_image:"gemini-2.5-flash-image",pro_image:"gemini-3-pro-image-preview"}};static getApiKey=null;static setApiKey=null;static getGenAI(){const e=this.getApiKey?.()||"";if(console.log(e),!e)throw new Tg("No Google API key set");return new U3({apiKey:e})}static async txt2txt(e){try{const n=this.getGenAI(),i={},r=await n.models.generateContent({model:"gemini-2.5-flash",contents:e,config:i});return console.log("RES TEXT",r.text),r.text}catch(n){console.error("Goo Err Response",n);const i=n?.message||"";if(i.includes("API key not valid")||i.includes("API_KEY_INVALID")||n instanceof Tg)return this.showKeyPromptWindow(),null;throw n}}static async img2img(e,n=QM[0],i){try{const r=this.getGenAI(),a=[{text:e}];if(i?.length)for(const m of i)!m?.rawBase64||!m?.mime||(m.description&&a.push({text:m.description}),a.push({inlineData:{data:m.rawBase64,mimeType:m.mime}}));const u={model:n,contents:a,config:{imageConfig:{aspectRatio:"9:16",response_modalities:["Image"]}}};console.log("Gemini Payload",u);const c=await r.models.generateContent(u);console.log("GEMINI RES",c);const d=(c?.candidates??[])[0]?.content?.parts??[];for(const m of d)if(m.inlineData){const y=m.inlineData.data,S=m.inlineData.mimeType||"image/png";return{base64Obj:{rawBase64:y,mime:S},id:c.responseId}}return null}catch(r){const a=r?.message||"";if(a.includes("API key not valid")||a.includes("API_KEY_INVALID")||r instanceof Tg)return this.showKeyPromptWindow(),null;throw console.error("img2img error",r),r}}static showKeyPromptWindow(){const e=window.prompt("Your Google API key is missing or invalid. Please enter a valid key:");e?this.setApiKey?.(e):console.warn("User did not provide a valid API key.")}static async saveResultImage(e,n){return e&&e.base64Obj?.rawBase64?(console.log(e.base64Obj.mime.split("/")[1]),await Mi.fromBase64({rawBase64:e.base64Obj.rawBase64,mime:e.base64Obj.mime},n,`${e.id}.${e.base64Obj.mime.split("/")[1]}`)):(console.warn("No valid image returned from GoogleAI.img2img"),null)}}async function B3(t,e){const n=Math.floor(Date.now()/1e3),i={alg:"HS256",typ:"JWT"},r={iss:t,exp:n+1800,nbf:n-5},a=Ag(JSON.stringify(i)),u=Ag(JSON.stringify(r)),c=`${a}.${u}`,h=await crypto.subtle.importKey("raw",new TextEncoder().encode(e),{name:"HMAC",hash:"SHA-256"},!1,["sign"]),d=await crypto.subtle.sign("HMAC",h,new TextEncoder().encode(c));return`${c}.${Ag(d)}`}function Ag(t){let e;typeof t=="string"?e=new TextEncoder().encode(t):e=new Uint8Array(t);let n="";for(let i=0;i<e.length;i++)n+=String.fromCharCode(e[i]);return btoa(n).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}class je{static getKeysDict=null;static videoModels=["kling-v1","kling-v1-5","kling-v1-6","kling-v2-master","kling-v2-1","kling-v2-1-master","kling-v2-5-turbo","kling-v2-6"];static options={img2video:{duration:{five:"5",ten:"10"},mode:{std:"std",pro:"pro"},model:{v1:"kling-v1",v1_5:"kling-v1-5",v1_6:"kling-v1-6",v2_0m:"kling-v2-master",v2_1:"kling-v2-1",v2_1m:"kling-v2-1-master",v2_5:"kling-v2-5-turbo",v2_6:"kling-v2-6"}},motion_control:{mode:{std:"std",pro:"pro"},character_orientation:{image:"image",video:"video"},keep_original_sound:{yes:"yes",no:"no"}},omni_video:{model:{o1:"kling-video-o1"},mode:{std:"std",pro:"pro"},aspect_ratio:{landscape:"16:9",portrait:"9:16",square:"1:1"},duration:{three:"3",four:"4",five:"5",six:"6",seven:"7",eight:"8",nine:"9",ten:"10"},video:{refer_type:{base:"base",feature:"feature"},keep_original_sound:{yes:"yes",no:"no"}},image:{type:{first_frame:"first_frame",end_frame:"end_frame"}}}};static async getToken(){const e=this.getKeysDict?.();if(!e)throw new Error("No Kling API keys provided or getKeysDict not set");return await B3(e.accessKey,e.secretKey)}static async postToKling(e,n){const r=`http://localhost:4000/proxy/${encodeURIComponent(e)}`,a=await this.getToken();console.log(`Kling API request to ${e}:`,n);const u=await fetch(r,{method:"POST",headers:{Authorization:`Bearer ${a}`,"Content-Type":"application/json"},body:JSON.stringify(n)});if(!u.ok){const h=await u.text();throw new Error(`Kling API request failed: ${h}`)}const c=await u.json();return console.log(`Kling API response from ${e}:`,c),c}static async txt2video(e,n="kling-v1"){const i={model_name:n,mode:"std",duration:"5",prompt:e,cfg_scale:.5};return{id:(await this.postToKling("https://api-singapore.klingai.com/v1/videos/text2video",i)).data.task_id,workflow:"text2video"}}static async img2video(e){const{image:n,prompt:i,model:r=je.options.img2video.model.v2_6,duration:a=je.options.img2video.duration,mode:u=je.options.img2video.mode.std,cfg_scale:c=.5,static_mask:h,dynamic_masks:d,image_tail:m,camera_control:y,voice_list:S,sound:b="off",negative_prompt:T,callback_url:A,external_task_id:x}=e,M={model_name:r,image:n,prompt:i,duration:a,mode:u,cfg_scale:c,sound:b};return h&&(M.static_mask=h),d&&(M.dynamic_masks=d),m&&(M.image_tail=m),y&&(M.camera_control=y),S&&(M.voice_list=S),T&&(M.negative_prompt=T),A&&(M.callback_url=A),x&&(M.external_task_id=x),{id:(await this.postToKling("https://api-singapore.klingai.com/v1/videos/image2video",M)).data.task_id,workflow:"image2video"}}static async motionControl(e){const{image:n,video_url:i,prompt:r,mode:a=je.options.motion_control.mode.std,character_orientation:u,keep_original_sound:c=je.options.motion_control.keep_original_sound.yes,callback_url:h,external_task_id:d}=e,m={image_url:n,video_url:i,character_orientation:u,mode:a,keep_original_sound:c};return r&&(m.prompt=r),h&&(m.callback_url=h),d&&(m.external_task_id=d),{id:(await this.postToKling("https://api-singapore.klingai.com/v1/videos/motion-control",m)).data.task_id,workflow:"motion-control"}}static async getStatus(e,n="text2video"){const i=`https://api-singapore.klingai.com/v1/videos/${n}/${e}`,a=`http://localhost:4000/proxy/${encodeURIComponent(i)}`,u=await this.getToken();console.log("KLING_AI Get Status sent");const c=await fetch(a,{method:"GET",headers:{Authorization:`Bearer ${u}`,"Content-Type":"application/json"}});if(!c.ok){const d=await c.text();throw new Error(`Task status request failed: ${d}`)}if((c.headers.get("content-type")||"").includes("application/json")){const d=await c.json();return console.log("KLING check status:",d),{status:d?.data?.task_status||"unknown",status_msg:d?.data?.task_status_msg||"",url:d?.data?.task_result?.videos?.[0]?.url||null}}}static async omniVideo(e){const{prompt:n,model:i="kling-video-o1",mode:r="pro",aspect_ratio:a,duration:u="5",image_list:c,element_list:h,video_list:d,callback_url:m,external_task_id:y}=e;if(!n)throw new Error("OmniVideo requires a prompt");const S={model_name:i,prompt:n,mode:r,duration:u};return a&&(S.aspect_ratio=a),c&&(S.image_list=c),h&&(S.element_list=h),d&&(S.video_list=d),m&&(S.callback_url=m),y&&(S.external_task_id=y),{id:(await this.postToKling("https://api-singapore.klingai.com/v1/videos/omni-video",S)).data.task_id,workflow:"omni-video"}}}const Rd={KLING:"kling",GPT:"gpt",GOOGLE:"google"};class ET{shot;id;is_checking_status=!1;_status_log="";constructor(e,n){this.shot=e,this.id=n,Oi(this)}update(e){const i={...this.data||{},...e};this.shot.shotJson?.updateField(`tasks/${this.id}`,i)}log(){console.log({task:ir(this),data:ir(this.data)})}delete(){this.shot.removeTask(this)}get data(){return this.shot.shotJson?.getField(`tasks/${this.id}`)}finish_checking(){Ae(()=>{this.is_checking_status=!1}),this._status_log=""}async check_status(e=30,n=5e3){if(this.data.provider===Rd.KLING){Ae(()=>{this.is_checking_status=!0,this._status_log="start checking"}),console.log("started checking status");for(let i=0;i<=e;i++){try{console.log("new attempt");const r=await je.getStatus(this.id,this.data.workflow);if(console.log("status",r),this.update(r),r?.status==="succeed"&&r.url){await this.downloadResults(),this.finish_checking();return}if(r?.status==="failed"){console.warn(`Task ${this.id} failed.`),this.finish_checking();return}}catch(r){console.error("Status check failed:",r)}i<e&&(Ae(()=>{this._status_log=`(attempt ${i+1}/${e})`}),await new Promise(r=>setTimeout(r,n)))}console.warn(`Task ${this.id} did not finish after ${e} retries.`),this.finish_checking()}}async downloadResults(){const e=this.data?.url;this.shot.MediaFolder_genVideo?.downloadFromUrl(e)}}async function F3(t){try{console.log("[tmpfiles] Uploading:",t.name);const e=new FormData;e.append("file",t);const n=await fetch("https://tmpfiles.org/api/v1/upload",{method:"POST",body:e});if(!n.ok)throw new Error(`HTTP ${n.status}`);const i=await n.json();console.log("[tmpfiles] Response:",i);const r=i?.data?.url;if(!r)throw new Error("No URL returned");return r.replace("tmpfiles.org/","tmpfiles.org/dl/")}catch(e){throw console.error("[tmpfiles] Upload failed:",e),e}}async function $3(t,e){try{if(e&&((r,a)=>{const u=r.name.toLowerCase(),c=decodeURIComponent(a.split("/").pop()||"").toLowerCase();return u===c})(t,e))return console.log("[ensureUploaded] Existing URL is valid:",e),e;console.log("[ensureUploaded] Uploading file because URL is missing or invalid:",t.name);const i=await F3(t);return console.log("[ensureUploaded] Uploaded URL:",i),i}catch(n){throw console.error("[ensureUploaded] Error ensuring file upload:",n),n}}class wa{handle;parent;urlObject=null;web_url="";path="";constructor(e,n,i=""){this.handle=e,this.parent=n,this.path=i+"/"+e.name}async getUrlObject(){if(!this.urlObject)try{const e=await this.handle.getFile();this.urlObject=URL.createObjectURL(e)}catch(e){console.error("Failed to create object URL for video:",e),this.urlObject=""}return this.urlObject}revokeUrl(){this.urlObject&&(URL.revokeObjectURL(this.urlObject),this.urlObject=null)}static async fromUrl(e,n){try{const i=await fetch(e);if(!i.ok)throw new Error(`Failed to fetch video: ${i.statusText}`);const r=await i.blob(),a=e.split("/"),u=a[a.length-1].split("?")[0],c=await n.getFileHandle(u,{create:!0}),h=await c.createWritable();return await h.write(r),await h.close(),new wa(c,n)}catch(i){throw console.error("Failed to create LocalVideo from URL:",i),i}}async delete(){try{this.revokeUrl(),await this.parent.removeEntry(this.handle.name)}catch(e){throw console.error("Failed to delete video file:",e),e}}static async fromBase64(e,n,i){try{const r=atob(e),a=r.length,u=new Uint8Array(a);for(let d=0;d<a;d++)u[d]=r.charCodeAt(d);const c=await n.getFileHandle(i,{create:!0}),h=await c.createWritable();return await h.write(u),await h.close(),new wa(c,n)}catch(r){throw console.error("Failed to create LocalVideo from Base64:",r),r}}async getWebUrl(){return console.log("web_url",this.web_url),this.web_url=await $3(await this.handle.getFile(),this.web_url),this.web_url}}class xg{parentFolder;folderName;folder=null;media=[];path="";pickedMedia=null;selectedMedia=null;named_media={};tags=["picked","start_frame","end_frame","motion_ref"];storage_json=null;shot=null;onPicked;onSelected;onNamedMediaUpdate;constructor(e,n,i="",r=null,a=null){this.parentFolder=e,this.folderName=n,this.path=i?`${i}/${n}`:n,this.storage_json=r,this.shot=a,Oi(this)}async load(){try{this.folder=await this.parentFolder.getDirectoryHandle(this.folderName,{create:!0});for await(const[,e]of this.folder.entries())e.kind==="file"&&this.loadFile(e);this.storage_json&&this.setNamedMediaJson(this.storage_json.getField("MediaFolder_"+this.folderName))}catch(e){console.error(`Failed to load MediaFolder '${this.folderName}':`,e),Ae(()=>{this.folder=null,this.media=[]})}}async deleteMedia(e,n=!0){if(!this.folder)throw new Error("Folder not loaded");if(!(n&&!window.confirm(`Delete this ${e instanceof Mi?"image":"video"}?`)))try{await e.delete(),Ae(()=>{this.media=this.media.filter(i=>i!==e);for(const i of Object.keys(this.named_media))this.named_media[i]===e&&delete this.named_media[i]})}catch(i){console.error("Failed to delete media:",i),alert(`Failed to delete ${e instanceof Mi?"image":"video"}.`)}}setSelectedMedia(e){this.selectedMedia!==e&&(Ae(()=>{this.selectedMedia=e}),this.onSelected?.(e))}log(){console.log(ir(this))}async downloadFromUrl(e){if(!this.folder)throw new Error("MediaFolder not loaded");try{const n=await fetch(e);if(!n.ok)throw new Error(`Failed to fetch: ${n.statusText}`);const i=await n.blob();let a=new URL(e).pathname.split("/").pop()||"download";if(!a.includes(".")){const d=i.type.split("/")[1];d&&(a+=`.${d}`)}const u=await this.folder.getFileHandle(a,{create:!0}),c=await u.createWritable();return await c.write(i),await c.close(),this.loadFile(u)}catch(n){throw console.error("Failed to download media from URL:",n),n}}loadFile(e){const n=e.name;let i=null;return n.match(/\.(png|jpe?g|gif|webp)$/i)?i=new Mi(e,this.folder,this.path):n.match(/\.(mp4|mov|webm|avi)$/i)&&(i=new wa(e,this.folder,this.path)),i?(Ae(()=>{this.media.push(i)}),i):null}async saveFiles(e){if(!this.folder)throw new Error("MediaFolder not loaded");for(const n of e)try{const i=await this.folder.getFileHandle(n.name,{create:!0}),r=await i.createWritable();await r.write(n),await r.close(),this.loadFile(i)}catch(i){console.error(`Failed to save file '${n.name}':`,i)}}async copyFromClipboard(){if(!this.folder)throw new Error("MediaFolder not loaded");if(!navigator.clipboard||!navigator.clipboard.read){console.warn("Clipboard API not supported");return}const e=[];try{const n=await navigator.clipboard.read();console.log(n);for(const i of n)for(const r of i.types){if(!r.startsWith("image/")&&!r.startsWith("video/"))continue;const a=await i.getType(r),u=a.name||`clipboard-${Date.now()}.${r.split("/")[1]}`;e.push(a instanceof File?a:new File([a],u,{type:r}))}if(e.length===0){console.info("Clipboard does not contain files");return}await this.saveFiles(e)}catch(n){console.error("Failed to read from clipboard:",n);return}}setNamedMedia(e,n){Ae(()=>{n===null||this.named_media[e]==n?delete this.named_media[e]:this.named_media[e]=n,this.onNamedMediaUpdate?.(),this.storage_json&&this.storage_json.updateField("MediaFolder_"+this.folderName,this.namedMediaJson)})}getNamedMedia(e){return this.named_media[e]??null}getMediaTags(e){return Object.entries(this.named_media).filter(([,n])=>n===e).map(([n])=>n)}getMediaByFilename(e){return this.media.find(n=>n.path.endsWith(e))??null}get namedMediaJson(){const e={};for(const[n,i]of Object.entries(this.named_media))e[n]=i.handle.name;return e}setNamedMediaJson(e){Ae(()=>{if(this.named_media={},e!=null)for(const[n,i]of Object.entries(e)){const r=this.media.find(a=>a.handle.name===i);r?this.named_media[n]=r:console.warn(`namedMediaJson: media file '${i}' not found for tag '${n}'`)}})}}class wT{folder;path="";scene;shotJson=null;tasks=[];is_submitting_video=!1;is_generating=!1;MediaFolder_results=null;MediaFolder_genVideo=null;MediaFolder_refVideo=null;constructor(e,n){this.folder=e,this.scene=n,this.path=n.path+"/"+e.name,Oi(this)}get srcImage(){return this.MediaFolder_results.getNamedMedia("start_frame")}get end_frame(){return this.MediaFolder_results.getNamedMedia("end_frame")}get kling_motion_video(){return this.MediaFolder_refVideo.getNamedMedia("motion_ref")}get outVideo(){return this.MediaFolder_genVideo.getNamedMedia("picked")}async load(){try{this.shotJson=await Xr.create(this.folder,"shotinfo.json"),this.MediaFolder_results=new xg(this.folder,"results",this.path,this.shotJson,this),this.MediaFolder_results.tags=["start_frame","end_frame"],await this.MediaFolder_results.load(),this.MediaFolder_genVideo=new xg(this.folder,"genVideo",this.path,this.shotJson,this),this.MediaFolder_genVideo.tags=["picked"],await this.MediaFolder_genVideo.load(),this.MediaFolder_refVideo=new xg(this.folder,"refVideo",this.path,this.shotJson,this),this.MediaFolder_refVideo.tags=["motion_ref"],await this.MediaFolder_refVideo.load(),this.loadTasks()}catch(e){console.error("Error loading shot:",this.folder.name,e),this.shotJson=null}}loadTasks(){const e=this.shotJson?.getField("tasks");Ae(()=>{if(this.tasks=[],!(!e||typeof e!="object"))for(const n of Object.keys(e))this.tasks.push(new ET(this,n))})}addTask(e,n){const i=new ET(this,e);return Ae(()=>{this.tasks.push(i)}),i.update(n),i}removeTask(e){Ae(()=>{this.tasks=this.tasks.filter(i=>i!==e)});const n=this.shotJson?.getField("tasks")??{};delete n[e.id],this.shotJson?.updateField("tasks",n)}async delete(){if(!this.scene?.folder){console.error("Cannot delete shot: scene folder not set");return}try{await this.scene.folder.removeEntry(this.folder.name,{recursive:!0}),Ae(()=>{this.scene.shots=this.scene.shots.filter(e=>e!==this)})}catch(e){console.error("Failed to delete shot:",e)}}async GenerateVideo(){Ae(()=>{this.is_submitting_video=!0});let e=this.shotJson?.data.video_prompt||"";try{const n=this.scene.project.workflows.generate_video_kling;if(this.srcImage){const i=(await this.srcImage.getBase64()).rawBase64,r=(await this.end_frame?.getBase64())?.rawBase64,a=await je.img2video({image:i,image_tail:r,prompt:e,model:n.model,mode:n.mode,duration:n.duration}),u=this.addTask(a.id,{provider:Rd.KLING,workflow:a.workflow});await new Promise(c=>setTimeout(c,100)),console.log("created_task"),u.check_status()}}catch(n){console.error("Submitting Video Generation Failed:",n)}finally{Ae(()=>{this.is_submitting_video=!1})}}async GenerateVideo_KlingMotionControl(){Ae(()=>{this.is_submitting_video=!0});let e=this.shotJson?.data.video_prompt||"";try{const n=this.scene.project.workflows.kling_motion_control;if(this.srcImage&&this.kling_motion_video){const i=(await this.srcImage.getBase64()).rawBase64,r=await this.kling_motion_video.getWebUrl(),a=await je.motionControl({image:i,video_url:r,prompt:e,mode:n.mode,character_orientation:n.character_orientation,keep_original_sound:n.keep_original_sound}),u=this.addTask(a.id,{provider:Rd.KLING,workflow:a.workflow});await new Promise(c=>setTimeout(c,100)),u.check_status(),await new Promise(c=>setTimeout(c,2e3))}}catch(n){console.error("Submitting Video Generation Failed:",n)}finally{Ae(()=>{this.is_submitting_video=!1})}}async GenerateImage(){Ae(()=>{this.is_generating=!0});const e=this.getSkippedTags(),n=[];for(const r of this.scene.getTags())if(!e.includes(r.path))try{const a=await r.image.getBase64();n.push({rawBase64:a.rawBase64,mime:a.mime,description:r.path})}catch(a){console.warn("Failed to load tag image:",r.path,a)}let i=this.shotJson?.data.prompt||"";try{const r=await co.img2img(i||"",this.scene.project.workflows.generate_shot_image.model,n),a=await co.saveResultImage(r,this.MediaFolder_results?.folder);a&&this.MediaFolder_results?.loadFile(a.handle)}catch(r){console.error("GenerateImage failed:",r)}finally{Ae(()=>{this.is_generating=!1})}}async saveGoogleResultImage(e,n=!1){const i=await co.saveResultImage(e,this.MediaFolder_results?.folder);if(i){const r=this.MediaFolder_results.loadFile(i.handle);n&&this.MediaFolder_results?.setNamedMedia("selected",r)}}getSkippedTags(){return this.shotJson?.data?.skippedTags||[]}setTagSkipped(e,n){this.shotJson?.data&&(Array.isArray(this.shotJson.data.skippedTags)||(this.shotJson.data.skippedTags=[]),Ae(()=>{const i=this.shotJson.data.skippedTags;n?i.includes(e)||i.push(e):this.shotJson.data.skippedTags=i.filter(r=>r!==e)}),this.shotJson.save())}log(){console.log(ir(this))}}function Ce(t,e,n,i,r){if(typeof e=="function"?t!==e||!0:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,n),n}function V(t,e,n,i){if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?i:n==="a"?i.call(t):i?i.value:e.get(t)}let ZM=function(){const{crypto:t}=globalThis;if(t?.randomUUID)return ZM=t.randomUUID.bind(t),t.randomUUID();const e=new Uint8Array(1),n=t?()=>t.getRandomValues(e)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,i=>(+i^n()&15>>+i/4).toString(16))};function Dv(t){return typeof t=="object"&&t!==null&&("name"in t&&t.name==="AbortError"||"message"in t&&String(t.message).includes("FetchRequestCanceledException"))}const Ov=t=>{if(t instanceof Error)return t;if(typeof t=="object"&&t!==null){try{if(Object.prototype.toString.call(t)==="[object Error]"){const e=new Error(t.message,t.cause?{cause:t.cause}:{});return t.stack&&(e.stack=t.stack),t.cause&&!e.cause&&(e.cause=t.cause),t.name&&(e.name=t.name),e}}catch{}try{return new Error(JSON.stringify(t))}catch{}}return new Error(t)};class Se extends Error{}class Pt extends Se{constructor(e,n,i,r){super(`${Pt.makeMessage(e,n,i)}`),this.status=e,this.headers=r,this.requestID=r?.get("x-request-id"),this.error=n;const a=n;this.code=a?.code,this.param=a?.param,this.type=a?.type}static makeMessage(e,n,i){const r=n?.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):i;return e&&r?`${e} ${r}`:e?`${e} status code (no body)`:r||"(no status code or body)"}static generate(e,n,i,r){if(!e||!r)return new gh({message:i,cause:Ov(n)});const a=n?.error;return e===400?new eN(e,a,i,r):e===401?new tN(e,a,i,r):e===403?new nN(e,a,i,r):e===404?new iN(e,a,i,r):e===409?new oN(e,a,i,r):e===422?new rN(e,a,i,r):e===429?new sN(e,a,i,r):e>=500?new aN(e,a,i,r):new Pt(e,a,i,r)}}class $n extends Pt{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}}class gh extends Pt{constructor({message:e,cause:n}){super(void 0,void 0,e||"Connection error.",void 0),n&&(this.cause=n)}}class zy extends gh{constructor({message:e}={}){super({message:e??"Request timed out."})}}class eN extends Pt{}class tN extends Pt{}class nN extends Pt{}class iN extends Pt{}class oN extends Pt{}class rN extends Pt{}class sN extends Pt{}class aN extends Pt{}class lN extends Se{constructor(){super("Could not parse response content as the length limit was reached")}}class uN extends Se{constructor(){super("Could not parse response content as the request was rejected by the content filter")}}class Gl extends Error{constructor(e){super(e)}}const H3=/^[a-z][a-z0-9+.-]*:/i,G3=t=>H3.test(t);let en=t=>(en=Array.isArray,en(t)),CT=en;function cN(t){return typeof t!="object"?{}:t??{}}function V3(t){if(!t)return!0;for(const e in t)return!1;return!0}function z3(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Rg(t){return t!=null&&typeof t=="object"&&!Array.isArray(t)}const q3=(t,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new Se(`${t} must be an integer`);if(e<0)throw new Se(`${t} must be a positive integer`);return e},J3=t=>{try{return JSON.parse(t)}catch{return}},Lu=t=>new Promise(e=>setTimeout(e,t)),na="6.10.0",K3=()=>typeof window<"u"&&typeof window.document<"u"&&typeof navigator<"u";function Y3(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const j3=()=>{const t=Y3();if(t==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":na,"X-Stainless-OS":AT(Deno.build.os),"X-Stainless-Arch":TT(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:Deno.version?.deno??"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":na,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(t==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":na,"X-Stainless-OS":AT(globalThis.process.platform??"unknown"),"X-Stainless-Arch":TT(globalThis.process.arch??"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":globalThis.process.version??"unknown"};const e=X3();return e?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":na,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${e.browser}`,"X-Stainless-Runtime-Version":e.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":na,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function X3(){if(typeof navigator>"u"||!navigator)return null;const t=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:n}of t){const i=n.exec(navigator.userAgent);if(i){const r=i[1]||0,a=i[2]||0,u=i[3]||0;return{browser:e,version:`${r}.${a}.${u}`}}}return null}const TT=t=>t==="x32"?"x32":t==="x86_64"||t==="x64"?"x64":t==="arm"?"arm":t==="aarch64"||t==="arm64"?"arm64":t?`other:${t}`:"unknown",AT=t=>(t=t.toLowerCase(),t.includes("ios")?"iOS":t==="android"?"Android":t==="darwin"?"MacOS":t==="win32"?"Windows":t==="freebsd"?"FreeBSD":t==="openbsd"?"OpenBSD":t==="linux"?"Linux":t?`Other:${t}`:"Unknown");let xT;const W3=()=>xT??(xT=j3());function Q3(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new OpenAI({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function fN(...t){const e=globalThis.ReadableStream;if(typeof e>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new e(...t)}function dN(t){let e=Symbol.asyncIterator in t?t[Symbol.asyncIterator]():t[Symbol.iterator]();return fN({start(){},async pull(n){const{done:i,value:r}=await e.next();i?n.close():n.enqueue(r)},async cancel(){await e.return?.()}})}function hN(t){if(t[Symbol.asyncIterator])return t;const e=t.getReader();return{async next(){try{const n=await e.read();return n?.done&&e.releaseLock(),n}catch(n){throw e.releaseLock(),n}},async return(){const n=e.cancel();return e.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function Z3(t){if(t===null||typeof t!="object")return;if(t[Symbol.asyncIterator]){await t[Symbol.asyncIterator]().return?.();return}const e=t.getReader(),n=e.cancel();e.releaseLock(),await n}const e4=({headers:t,body:e})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(e)}),pN="RFC3986",mN=t=>String(t),RT={RFC1738:t=>String(t).replace(/%20/g,"+"),RFC3986:mN},t4="RFC1738";let Pv=(t,e)=>(Pv=Object.hasOwn??Function.prototype.call.bind(Object.prototype.hasOwnProperty),Pv(t,e));const vi=(()=>{const t=[];for(let e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t})(),Mg=1024,n4=(t,e,n,i,r)=>{if(t.length===0)return t;let a=t;if(typeof t=="symbol"?a=Symbol.prototype.toString.call(t):typeof t!="string"&&(a=String(t)),n==="iso-8859-1")return escape(a).replace(/%u[0-9a-f]{4}/gi,function(c){return"%26%23"+parseInt(c.slice(2),16)+"%3B"});let u="";for(let c=0;c<a.length;c+=Mg){const h=a.length>=Mg?a.slice(c,c+Mg):a,d=[];for(let m=0;m<h.length;++m){let y=h.charCodeAt(m);if(y===45||y===46||y===95||y===126||y>=48&&y<=57||y>=65&&y<=90||y>=97&&y<=122||r===t4&&(y===40||y===41)){d[d.length]=h.charAt(m);continue}if(y<128){d[d.length]=vi[y];continue}if(y<2048){d[d.length]=vi[192|y>>6]+vi[128|y&63];continue}if(y<55296||y>=57344){d[d.length]=vi[224|y>>12]+vi[128|y>>6&63]+vi[128|y&63];continue}m+=1,y=65536+((y&1023)<<10|h.charCodeAt(m)&1023),d[d.length]=vi[240|y>>18]+vi[128|y>>12&63]+vi[128|y>>6&63]+vi[128|y&63]}u+=d.join("")}return u};function i4(t){return!t||typeof t!="object"?!1:!!(t.constructor&&t.constructor.isBuffer&&t.constructor.isBuffer(t))}function MT(t,e){if(en(t)){const n=[];for(let i=0;i<t.length;i+=1)n.push(e(t[i]));return n}return e(t)}const gN={brackets(t){return String(t)+"[]"},comma:"comma",indices(t,e){return String(t)+"["+e+"]"},repeat(t){return String(t)}},vN=function(t,e){Array.prototype.push.apply(t,en(e)?e:[e])};let NT;const St={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:n4,encodeValuesOnly:!1,format:pN,formatter:mN,indices:!1,serializeDate(t){return(NT??(NT=Function.prototype.call.bind(Date.prototype.toISOString)))(t)},skipNulls:!1,strictNullHandling:!1};function o4(t){return typeof t=="string"||typeof t=="number"||typeof t=="boolean"||typeof t=="symbol"||typeof t=="bigint"}const Ng={};function yN(t,e,n,i,r,a,u,c,h,d,m,y,S,b,T,A,x,M){let I=t,N=M,D=0,L=!1;for(;(N=N.get(Ng))!==void 0&&!L;){const j=N.get(t);if(D+=1,typeof j<"u"){if(j===D)throw new RangeError("Cyclic object value");L=!0}typeof N.get(Ng)>"u"&&(D=0)}if(typeof d=="function"?I=d(e,I):I instanceof Date?I=S?.(I):n==="comma"&&en(I)&&(I=MT(I,function(j){return j instanceof Date?S?.(j):j})),I===null){if(a)return h&&!A?h(e,St.encoder,x,"key",b):e;I=""}if(o4(I)||i4(I)){if(h){const j=A?e:h(e,St.encoder,x,"key",b);return[T?.(j)+"="+T?.(h(I,St.encoder,x,"value",b))]}return[T?.(e)+"="+T?.(String(I))]}const U=[];if(typeof I>"u")return U;let O;if(n==="comma"&&en(I))A&&h&&(I=MT(I,h)),O=[{value:I.length>0?I.join(",")||null:void 0}];else if(en(d))O=d;else{const j=Object.keys(I);O=m?j.sort(m):j}const q=c?String(e).replace(/\./g,"%2E"):String(e),J=i&&en(I)&&I.length===1?q+"[]":q;if(r&&en(I)&&I.length===0)return J+"[]";for(let j=0;j<O.length;++j){const W=O[j],re=typeof W=="object"&&typeof W.value<"u"?W.value:I[W];if(u&&re===null)continue;const ie=y&&c?W.replace(/\./g,"%2E"):W,ae=en(I)?typeof n=="function"?n(J,ie):J:J+(y?"."+ie:"["+ie+"]");M.set(t,D);const de=new WeakMap;de.set(Ng,M),vN(U,yN(re,ae,n,i,r,a,u,c,n==="comma"&&A&&en(I)?null:h,d,m,y,S,b,T,A,x,de))}return U}function r4(t=St){if(typeof t.allowEmptyArrays<"u"&&typeof t.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof t.encodeDotInKeys<"u"&&typeof t.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(t.encoder!==null&&typeof t.encoder<"u"&&typeof t.encoder!="function")throw new TypeError("Encoder has to be a function.");const e=t.charset||St.charset;if(typeof t.charset<"u"&&t.charset!=="utf-8"&&t.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");let n=pN;if(typeof t.format<"u"){if(!Pv(RT,t.format))throw new TypeError("Unknown format option provided.");n=t.format}const i=RT[n];let r=St.filter;(typeof t.filter=="function"||en(t.filter))&&(r=t.filter);let a;if(t.arrayFormat&&t.arrayFormat in gN?a=t.arrayFormat:"indices"in t?a=t.indices?"indices":"repeat":a=St.arrayFormat,"commaRoundTrip"in t&&typeof t.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");const u=typeof t.allowDots>"u"?t.encodeDotInKeys?!0:St.allowDots:!!t.allowDots;return{addQueryPrefix:typeof t.addQueryPrefix=="boolean"?t.addQueryPrefix:St.addQueryPrefix,allowDots:u,allowEmptyArrays:typeof t.allowEmptyArrays=="boolean"?!!t.allowEmptyArrays:St.allowEmptyArrays,arrayFormat:a,charset:e,charsetSentinel:typeof t.charsetSentinel=="boolean"?t.charsetSentinel:St.charsetSentinel,commaRoundTrip:!!t.commaRoundTrip,delimiter:typeof t.delimiter>"u"?St.delimiter:t.delimiter,encode:typeof t.encode=="boolean"?t.encode:St.encode,encodeDotInKeys:typeof t.encodeDotInKeys=="boolean"?t.encodeDotInKeys:St.encodeDotInKeys,encoder:typeof t.encoder=="function"?t.encoder:St.encoder,encodeValuesOnly:typeof t.encodeValuesOnly=="boolean"?t.encodeValuesOnly:St.encodeValuesOnly,filter:r,format:n,formatter:i,serializeDate:typeof t.serializeDate=="function"?t.serializeDate:St.serializeDate,skipNulls:typeof t.skipNulls=="boolean"?t.skipNulls:St.skipNulls,sort:typeof t.sort=="function"?t.sort:null,strictNullHandling:typeof t.strictNullHandling=="boolean"?t.strictNullHandling:St.strictNullHandling}}function s4(t,e={}){let n=t;const i=r4(e);let r,a;typeof i.filter=="function"?(a=i.filter,n=a("",n)):en(i.filter)&&(a=i.filter,r=a);const u=[];if(typeof n!="object"||n===null)return"";const c=gN[i.arrayFormat],h=c==="comma"&&i.commaRoundTrip;r||(r=Object.keys(n)),i.sort&&r.sort(i.sort);const d=new WeakMap;for(let S=0;S<r.length;++S){const b=r[S];i.skipNulls&&n[b]===null||vN(u,yN(n[b],b,c,h,i.allowEmptyArrays,i.strictNullHandling,i.skipNulls,i.encodeDotInKeys,i.encode?i.encoder:null,i.filter,i.sort,i.allowDots,i.serializeDate,i.format,i.formatter,i.encodeValuesOnly,i.charset,d))}const m=u.join(i.delimiter);let y=i.addQueryPrefix===!0?"?":"";return i.charsetSentinel&&(i.charset==="iso-8859-1"?y+="utf8=%26%2310003%3B&":y+="utf8=%E2%9C%93&"),m.length>0?y+m:""}function a4(t){let e=0;for(const r of t)e+=r.length;const n=new Uint8Array(e);let i=0;for(const r of t)n.set(r,i),i+=r.length;return n}let IT;function qy(t){let e;return(IT??(e=new globalThis.TextEncoder,IT=e.encode.bind(e)))(t)}let DT;function OT(t){let e;return(DT??(e=new globalThis.TextDecoder,DT=e.decode.bind(e)))(t)}var mn,gn;class vh{constructor(){mn.set(this,void 0),gn.set(this,void 0),Ce(this,mn,new Uint8Array),Ce(this,gn,null)}decode(e){if(e==null)return[];const n=e instanceof ArrayBuffer?new Uint8Array(e):typeof e=="string"?qy(e):e;Ce(this,mn,a4([V(this,mn,"f"),n]));const i=[];let r;for(;(r=l4(V(this,mn,"f"),V(this,gn,"f")))!=null;){if(r.carriage&&V(this,gn,"f")==null){Ce(this,gn,r.index);continue}if(V(this,gn,"f")!=null&&(r.index!==V(this,gn,"f")+1||r.carriage)){i.push(OT(V(this,mn,"f").subarray(0,V(this,gn,"f")-1))),Ce(this,mn,V(this,mn,"f").subarray(V(this,gn,"f"))),Ce(this,gn,null);continue}const a=V(this,gn,"f")!==null?r.preceding-1:r.preceding,u=OT(V(this,mn,"f").subarray(0,a));i.push(u),Ce(this,mn,V(this,mn,"f").subarray(r.index)),Ce(this,gn,null)}return i}flush(){return V(this,mn,"f").length?this.decode(`
`):[]}}mn=new WeakMap,gn=new WeakMap;vh.NEWLINE_CHARS=new Set([`
`,"\r"]);vh.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function l4(t,e){for(let r=e??0;r<t.length;r++){if(t[r]===10)return{preceding:r,index:r+1,carriage:!1};if(t[r]===13)return{preceding:r,index:r+1,carriage:!0}}return null}function u4(t){for(let i=0;i<t.length-1;i++){if(t[i]===10&&t[i+1]===10||t[i]===13&&t[i+1]===13)return i+2;if(t[i]===13&&t[i+1]===10&&i+3<t.length&&t[i+2]===13&&t[i+3]===10)return i+4}return-1}const Md={off:0,error:200,warn:300,info:400,debug:500},PT=(t,e,n)=>{if(t){if(z3(Md,t))return t;Dt(n).warn(`${e} was set to ${JSON.stringify(t)}, expected one of ${JSON.stringify(Object.keys(Md))}`)}};function Vl(){}function Mf(t,e,n){return!e||Md[t]>Md[n]?Vl:e[t].bind(e)}const c4={error:Vl,warn:Vl,info:Vl,debug:Vl};let kT=new WeakMap;function Dt(t){const e=t.logger,n=t.logLevel??"off";if(!e)return c4;const i=kT.get(e);if(i&&i[0]===n)return i[1];const r={error:Mf("error",e,n),warn:Mf("warn",e,n),info:Mf("info",e,n),debug:Mf("debug",e,n)};return kT.set(e,[n,r]),r}const Lr=t=>(t.options&&(t.options={...t.options},delete t.options.headers),t.headers&&(t.headers=Object.fromEntries((t.headers instanceof Headers?[...t.headers]:Object.entries(t.headers)).map(([e,n])=>[e,e.toLowerCase()==="authorization"||e.toLowerCase()==="cookie"||e.toLowerCase()==="set-cookie"?"***":n]))),"retryOfRequestLogID"in t&&(t.retryOfRequestLogID&&(t.retryOf=t.retryOfRequestLogID),delete t.retryOfRequestLogID),t);var Bl;class Ei{constructor(e,n,i){this.iterator=e,Bl.set(this,void 0),this.controller=n,Ce(this,Bl,i)}static fromSSEResponse(e,n,i){let r=!1;const a=i?Dt(i):console;async function*u(){if(r)throw new Se("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let c=!1;try{for await(const h of f4(e,n))if(!c){if(h.data.startsWith("[DONE]")){c=!0;continue}if(h.event===null||!h.event.startsWith("thread.")){let d;try{d=JSON.parse(h.data)}catch(m){throw a.error("Could not parse message into JSON:",h.data),a.error("From chunk:",h.raw),m}if(d&&d.error)throw new Pt(void 0,d.error,void 0,e.headers);yield d}else{let d;try{d=JSON.parse(h.data)}catch(m){throw console.error("Could not parse message into JSON:",h.data),console.error("From chunk:",h.raw),m}if(h.event=="error")throw new Pt(void 0,d.error,d.message,void 0);yield{event:h.event,data:d}}}c=!0}catch(h){if(Dv(h))return;throw h}finally{c||n.abort()}}return new Ei(u,n,i)}static fromReadableStream(e,n,i){let r=!1;async function*a(){const c=new vh,h=hN(e);for await(const d of h)for(const m of c.decode(d))yield m;for(const d of c.flush())yield d}async function*u(){if(r)throw new Se("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let c=!1;try{for await(const h of a())c||h&&(yield JSON.parse(h));c=!0}catch(h){if(Dv(h))return;throw h}finally{c||n.abort()}}return new Ei(u,n,i)}[(Bl=new WeakMap,Symbol.asyncIterator)](){return this.iterator()}tee(){const e=[],n=[],i=this.iterator(),r=a=>({next:()=>{if(a.length===0){const u=i.next();e.push(u),n.push(u)}return a.shift()}});return[new Ei(()=>r(e),this.controller,V(this,Bl,"f")),new Ei(()=>r(n),this.controller,V(this,Bl,"f"))]}toReadableStream(){const e=this;let n;return fN({async start(){n=e[Symbol.asyncIterator]()},async pull(i){try{const{value:r,done:a}=await n.next();if(a)return i.close();const u=qy(JSON.stringify(r)+`
`);i.enqueue(u)}catch(r){i.error(r)}},async cancel(){await n.return?.()}})}}async function*f4(t,e){if(!t.body)throw e.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new Se("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new Se("Attempted to iterate over a response with no body");const n=new h4,i=new vh,r=hN(t.body);for await(const a of d4(r))for(const u of i.decode(a)){const c=n.decode(u);c&&(yield c)}for(const a of i.flush()){const u=n.decode(a);u&&(yield u)}}async function*d4(t){let e=new Uint8Array;for await(const n of t){if(n==null)continue;const i=n instanceof ArrayBuffer?new Uint8Array(n):typeof n=="string"?qy(n):n;let r=new Uint8Array(e.length+i.length);r.set(e),r.set(i,e.length),e=r;let a;for(;(a=u4(e))!==-1;)yield e.slice(0,a),e=e.slice(a)}e.length>0&&(yield e)}class h4{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const a={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],a}if(this.chunks.push(e),e.startsWith(":"))return null;let[n,i,r]=p4(e,":");return r.startsWith(" ")&&(r=r.substring(1)),n==="event"?this.event=r:n==="data"&&this.data.push(r),null}}function p4(t,e){const n=t.indexOf(e);return n!==-1?[t.substring(0,n),e,t.substring(n+e.length)]:[t,"",""]}async function _N(t,e){const{response:n,requestLogID:i,retryOfRequestLogID:r,startTime:a}=e,u=await(async()=>{if(e.options.stream)return Dt(t).debug("response",n.status,n.url,n.headers,n.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(n,e.controller,t):Ei.fromSSEResponse(n,e.controller,t);if(n.status===204)return null;if(e.options.__binaryResponse)return n;const h=n.headers.get("content-type")?.split(";")[0]?.trim();if(h?.includes("application/json")||h?.endsWith("+json")){const y=await n.json();return SN(y,n)}return await n.text()})();return Dt(t).debug(`[${i}] response parsed`,Lr({retryOfRequestLogID:r,url:n.url,status:n.status,body:u,durationMs:Date.now()-a})),u}function SN(t,e){return!t||typeof t!="object"||Array.isArray(t)?t:Object.defineProperty(t,"_request_id",{value:e.headers.get("x-request-id"),enumerable:!1})}var zl;class yh extends Promise{constructor(e,n,i=_N){super(r=>{r(null)}),this.responsePromise=n,this.parseResponse=i,zl.set(this,void 0),Ce(this,zl,e)}_thenUnwrap(e){return new yh(V(this,zl,"f"),this.responsePromise,async(n,i)=>SN(e(await this.parseResponse(n,i),i),i.response))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:n,request_id:n.headers.get("x-request-id")}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(e=>this.parseResponse(V(this,zl,"f"),e))),this.parsedPromise}then(e,n){return this.parse().then(e,n)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}zl=new WeakMap;var Nf;class Jy{constructor(e,n,i,r){Nf.set(this,void 0),Ce(this,Nf,e),this.options=r,this.response=n,this.body=i}hasNextPage(){return this.getPaginatedItems().length?this.nextPageRequestOptions()!=null:!1}async getNextPage(){const e=this.nextPageRequestOptions();if(!e)throw new Se("No next page expected; please check `.hasNextPage()` before calling `.getNextPage()`.");return await V(this,Nf,"f").requestAPIList(this.constructor,e)}async*iterPages(){let e=this;for(yield e;e.hasNextPage();)e=await e.getNextPage(),yield e}async*[(Nf=new WeakMap,Symbol.asyncIterator)](){for await(const e of this.iterPages())for(const n of e.getPaginatedItems())yield n}}class m4 extends yh{constructor(e,n,i){super(e,n,async(r,a)=>new i(r,a.response,await _N(r,a),a.options))}async*[Symbol.asyncIterator](){const e=await this;for await(const n of e)yield n}}class _h extends Jy{constructor(e,n,i,r){super(e,n,i,r),this.data=i.data||[],this.object=i.object}getPaginatedItems(){return this.data??[]}nextPageRequestOptions(){return null}}class vt extends Jy{constructor(e,n,i,r){super(e,n,i,r),this.data=i.data||[],this.has_more=i.has_more||!1}getPaginatedItems(){return this.data??[]}hasNextPage(){return this.has_more===!1?!1:super.hasNextPage()}nextPageRequestOptions(){const e=this.getPaginatedItems(),n=e[e.length-1]?.id;return n?{...this.options,query:{...cN(this.options.query),after:n}}:null}}class Nd extends Jy{constructor(e,n,i,r){super(e,n,i,r),this.data=i.data||[],this.has_more=i.has_more||!1,this.last_id=i.last_id||""}getPaginatedItems(){return this.data??[]}hasNextPage(){return this.has_more===!1?!1:super.hasNextPage()}nextPageRequestOptions(){const e=this.last_id;return e?{...this.options,query:{...cN(this.options.query),after:e}}:null}}const bN=()=>{if(typeof File>"u"){const{process:t}=globalThis,e=typeof t?.versions?.node=="string"&&parseInt(t.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(e?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function iu(t,e,n){return bN(),new File(t,e??"unknown_file",n)}function Qf(t){return(typeof t=="object"&&t!==null&&("name"in t&&t.name&&String(t.name)||"url"in t&&t.url&&String(t.url)||"filename"in t&&t.filename&&String(t.filename)||"path"in t&&t.path&&String(t.path))||"").split(/[\\/]/).pop()||void 0}const Ky=t=>t!=null&&typeof t=="object"&&typeof t[Symbol.asyncIterator]=="function",LT=async(t,e)=>kv(t.body)?{...t,body:await EN(t.body,e)}:t,Wr=async(t,e)=>({...t,body:await EN(t.body,e)}),UT=new WeakMap;function g4(t){const e=typeof t=="function"?t:t.fetch,n=UT.get(e);if(n)return n;const i=(async()=>{try{const r="Response"in e?e.Response:(await e("data:,")).constructor,a=new FormData;return a.toString()!==await new r(a).text()}catch{return!0}})();return UT.set(e,i),i}const EN=async(t,e)=>{if(!await g4(e))throw new TypeError("The provided fetch function does not support file uploads with the current global FormData class.");const n=new FormData;return await Promise.all(Object.entries(t||{}).map(([i,r])=>Lv(n,i,r))),n},wN=t=>t instanceof Blob&&"name"in t,v4=t=>typeof t=="object"&&t!==null&&(t instanceof Response||Ky(t)||wN(t)),kv=t=>{if(v4(t))return!0;if(Array.isArray(t))return t.some(kv);if(t&&typeof t=="object"){for(const e in t)if(kv(t[e]))return!0}return!1},Lv=async(t,e,n)=>{if(n!==void 0){if(n==null)throw new TypeError(`Received null for "${e}"; to pass null in FormData, you must use the string 'null'`);if(typeof n=="string"||typeof n=="number"||typeof n=="boolean")t.append(e,String(n));else if(n instanceof Response)t.append(e,iu([await n.blob()],Qf(n)));else if(Ky(n))t.append(e,iu([await new Response(dN(n)).blob()],Qf(n)));else if(wN(n))t.append(e,n,Qf(n));else if(Array.isArray(n))await Promise.all(n.map(i=>Lv(t,e+"[]",i)));else if(typeof n=="object")await Promise.all(Object.entries(n).map(([i,r])=>Lv(t,`${e}[${i}]`,r)));else throw new TypeError(`Invalid value given to form, expected a string, number, boolean, object, Array, File or Blob but got ${n} instead`)}},CN=t=>t!=null&&typeof t=="object"&&typeof t.size=="number"&&typeof t.type=="string"&&typeof t.text=="function"&&typeof t.slice=="function"&&typeof t.arrayBuffer=="function",y4=t=>t!=null&&typeof t=="object"&&typeof t.name=="string"&&typeof t.lastModified=="number"&&CN(t),_4=t=>t!=null&&typeof t=="object"&&typeof t.url=="string"&&typeof t.blob=="function";async function S4(t,e,n){if(bN(),t=await t,y4(t))return t instanceof File?t:iu([await t.arrayBuffer()],t.name);if(_4(t)){const r=await t.blob();return e||(e=new URL(t.url).pathname.split(/[\\/]/).pop()),iu(await Uv(r),e,n)}const i=await Uv(t);if(e||(e=Qf(t)),!n?.type){const r=i.find(a=>typeof a=="object"&&"type"in a&&a.type);typeof r=="string"&&(n={...n,type:r})}return iu(i,e,n)}async function Uv(t){let e=[];if(typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer)e.push(t);else if(CN(t))e.push(t instanceof Blob?t:await t.arrayBuffer());else if(Ky(t))for await(const n of t)e.push(...await Uv(n));else{const n=t?.constructor?.name;throw new Error(`Unexpected data type: ${typeof t}${n?`; constructor: ${n}`:""}${b4(t)}`)}return e}function b4(t){return typeof t!="object"||t===null?"":`; props: [${Object.getOwnPropertyNames(t).map(n=>`"${n}"`).join(", ")}]`}class ye{constructor(e){this._client=e}}function TN(t){return t.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const BT=Object.freeze(Object.create(null)),E4=(t=TN)=>function(n,...i){if(n.length===1)return n[0];let r=!1;const a=[],u=n.reduce((m,y,S)=>{/[?#]/.test(y)&&(r=!0);const b=i[S];let T=(r?encodeURIComponent:t)(""+b);return S!==i.length&&(b==null||typeof b=="object"&&b.toString===Object.getPrototypeOf(Object.getPrototypeOf(b.hasOwnProperty??BT)??BT)?.toString)&&(T=b+"",a.push({start:m.length+y.length,length:T.length,error:`Value of type ${Object.prototype.toString.call(b).slice(8,-1)} is not a valid path parameter`})),m+y+(S===i.length?"":T)},""),c=u.split(/[?#]/,1)[0],h=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let d;for(;(d=h.exec(c))!==null;)a.push({start:d.index,length:d[0].length,error:`Value "${d[0]}" can't be safely passed as a path parameter`});if(a.sort((m,y)=>m.start-y.start),a.length>0){let m=0;const y=a.reduce((S,b)=>{const T=" ".repeat(b.start-m),A="^".repeat(b.length);return m=b.start+b.length,S+T+A},"");throw new Se(`Path parameters result in path with invalid segments:
${a.map(S=>S.error).join(`
`)}
${u}
${y}`)}return u},oe=E4(TN);let AN=class extends ye{list(e,n={},i){return this._client.getAPIList(oe`/chat/completions/${e}/messages`,vt,{query:n,...i})}};function Id(t){return t!==void 0&&"function"in t&&t.function!==void 0}function Yy(t){return t?.$brand==="auto-parseable-response-format"}function Uu(t){return t?.$brand==="auto-parseable-tool"}function w4(t,e){return!e||!xN(e)?{...t,choices:t.choices.map(n=>(RN(n.message.tool_calls),{...n,message:{...n.message,parsed:null,...n.message.tool_calls?{tool_calls:n.message.tool_calls}:void 0}}))}:jy(t,e)}function jy(t,e){const n=t.choices.map(i=>{if(i.finish_reason==="length")throw new lN;if(i.finish_reason==="content_filter")throw new uN;return RN(i.message.tool_calls),{...i,message:{...i.message,...i.message.tool_calls?{tool_calls:i.message.tool_calls?.map(r=>T4(e,r))??void 0}:void 0,parsed:i.message.content&&!i.message.refusal?C4(e,i.message.content):null}}});return{...t,choices:n}}function C4(t,e){return t.response_format?.type!=="json_schema"?null:t.response_format?.type==="json_schema"?"$parseRaw"in t.response_format?t.response_format.$parseRaw(e):JSON.parse(e):null}function T4(t,e){const n=t.tools?.find(i=>Id(i)&&i.function?.name===e.function.name);return{...e,function:{...e.function,parsed_arguments:Uu(n)?n.$parseRaw(e.function.arguments):n?.function.strict?JSON.parse(e.function.arguments):null}}}function A4(t,e){if(!t||!("tools"in t)||!t.tools)return!1;const n=t.tools?.find(i=>Id(i)&&i.function?.name===e.function.name);return Id(n)&&(Uu(n)||n?.function.strict||!1)}function xN(t){return Yy(t.response_format)?!0:t.tools?.some(e=>Uu(e)||e.type==="function"&&e.function.strict===!0)??!1}function RN(t){for(const e of t||[])if(e.type!=="function")throw new Se(`Currently only \`function\` tool calls are supported; Received \`${e.type}\``)}function x4(t){for(const e of t??[]){if(e.type!=="function")throw new Se(`Currently only \`function\` tool types support auto-parsing; Received \`${e.type}\``);if(e.function.strict!==!0)throw new Se(`The \`${e.function.name}\` tool is not marked with \`strict: true\`. Only strict function tools can be auto-parsed`)}}const Dd=t=>t?.role==="assistant",MN=t=>t?.role==="tool";var Bv,Zf,ed,ql,Jl,td,Kl,no,Yl,Od,Pd,ia,NN;class Xy{constructor(){Bv.add(this),this.controller=new AbortController,Zf.set(this,void 0),ed.set(this,()=>{}),ql.set(this,()=>{}),Jl.set(this,void 0),td.set(this,()=>{}),Kl.set(this,()=>{}),no.set(this,{}),Yl.set(this,!1),Od.set(this,!1),Pd.set(this,!1),ia.set(this,!1),Ce(this,Zf,new Promise((e,n)=>{Ce(this,ed,e,"f"),Ce(this,ql,n,"f")})),Ce(this,Jl,new Promise((e,n)=>{Ce(this,td,e,"f"),Ce(this,Kl,n,"f")})),V(this,Zf,"f").catch(()=>{}),V(this,Jl,"f").catch(()=>{})}_run(e){setTimeout(()=>{e().then(()=>{this._emitFinal(),this._emit("end")},V(this,Bv,"m",NN).bind(this))},0)}_connected(){this.ended||(V(this,ed,"f").call(this),this._emit("connect"))}get ended(){return V(this,Yl,"f")}get errored(){return V(this,Od,"f")}get aborted(){return V(this,Pd,"f")}abort(){this.controller.abort()}on(e,n){return(V(this,no,"f")[e]||(V(this,no,"f")[e]=[])).push({listener:n}),this}off(e,n){const i=V(this,no,"f")[e];if(!i)return this;const r=i.findIndex(a=>a.listener===n);return r>=0&&i.splice(r,1),this}once(e,n){return(V(this,no,"f")[e]||(V(this,no,"f")[e]=[])).push({listener:n,once:!0}),this}emitted(e){return new Promise((n,i)=>{Ce(this,ia,!0),e!=="error"&&this.once("error",i),this.once(e,n)})}async done(){Ce(this,ia,!0),await V(this,Jl,"f")}_emit(e,...n){if(V(this,Yl,"f"))return;e==="end"&&(Ce(this,Yl,!0),V(this,td,"f").call(this));const i=V(this,no,"f")[e];if(i&&(V(this,no,"f")[e]=i.filter(r=>!r.once),i.forEach(({listener:r})=>r(...n))),e==="abort"){const r=n[0];!V(this,ia,"f")&&!i?.length&&Promise.reject(r),V(this,ql,"f").call(this,r),V(this,Kl,"f").call(this,r),this._emit("end");return}if(e==="error"){const r=n[0];!V(this,ia,"f")&&!i?.length&&Promise.reject(r),V(this,ql,"f").call(this,r),V(this,Kl,"f").call(this,r),this._emit("end")}}_emitFinal(){}}Zf=new WeakMap,ed=new WeakMap,ql=new WeakMap,Jl=new WeakMap,td=new WeakMap,Kl=new WeakMap,no=new WeakMap,Yl=new WeakMap,Od=new WeakMap,Pd=new WeakMap,ia=new WeakMap,Bv=new WeakSet,NN=function(e){if(Ce(this,Od,!0),e instanceof Error&&e.name==="AbortError"&&(e=new $n),e instanceof $n)return Ce(this,Pd,!0),this._emit("abort",e);if(e instanceof Se)return this._emit("error",e);if(e instanceof Error){const n=new Se(e.message);return n.cause=e,this._emit("error",n)}return this._emit("error",new Se(String(e)))};function R4(t){return typeof t.parse=="function"}var $t,Fv,kd,$v,Hv,Gv,IN,DN;const M4=10;class ON extends Xy{constructor(){super(...arguments),$t.add(this),this._chatCompletions=[],this.messages=[]}_addChatCompletion(e){this._chatCompletions.push(e),this._emit("chatCompletion",e);const n=e.choices[0]?.message;return n&&this._addMessage(n),e}_addMessage(e,n=!0){if("content"in e||(e.content=null),this.messages.push(e),n){if(this._emit("message",e),MN(e)&&e.content)this._emit("functionToolCallResult",e.content);else if(Dd(e)&&e.tool_calls)for(const i of e.tool_calls)i.type==="function"&&this._emit("functionToolCall",i.function)}}async finalChatCompletion(){await this.done();const e=this._chatCompletions[this._chatCompletions.length-1];if(!e)throw new Se("stream ended without producing a ChatCompletion");return e}async finalContent(){return await this.done(),V(this,$t,"m",Fv).call(this)}async finalMessage(){return await this.done(),V(this,$t,"m",kd).call(this)}async finalFunctionToolCall(){return await this.done(),V(this,$t,"m",$v).call(this)}async finalFunctionToolCallResult(){return await this.done(),V(this,$t,"m",Hv).call(this)}async totalUsage(){return await this.done(),V(this,$t,"m",Gv).call(this)}allChatCompletions(){return[...this._chatCompletions]}_emitFinal(){const e=this._chatCompletions[this._chatCompletions.length-1];e&&this._emit("finalChatCompletion",e);const n=V(this,$t,"m",kd).call(this);n&&this._emit("finalMessage",n);const i=V(this,$t,"m",Fv).call(this);i&&this._emit("finalContent",i);const r=V(this,$t,"m",$v).call(this);r&&this._emit("finalFunctionToolCall",r);const a=V(this,$t,"m",Hv).call(this);a!=null&&this._emit("finalFunctionToolCallResult",a),this._chatCompletions.some(u=>u.usage)&&this._emit("totalUsage",V(this,$t,"m",Gv).call(this))}async _createChatCompletion(e,n,i){const r=i?.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",()=>this.controller.abort())),V(this,$t,"m",IN).call(this,n);const a=await e.chat.completions.create({...n,stream:!1},{...i,signal:this.controller.signal});return this._connected(),this._addChatCompletion(jy(a,n))}async _runChatCompletion(e,n,i){for(const r of n.messages)this._addMessage(r,!1);return await this._createChatCompletion(e,n,i)}async _runTools(e,n,i){const r="tool",{tool_choice:a="auto",stream:u,...c}=n,h=typeof a!="string"&&a.type==="function"&&a?.function?.name,{maxChatCompletions:d=M4}=i||{},m=n.tools.map(b=>{if(Uu(b)){if(!b.$callback)throw new Se("Tool given to `.runTools()` that does not have an associated function");return{type:"function",function:{function:b.$callback,name:b.function.name,description:b.function.description||"",parameters:b.function.parameters,parse:b.$parseRaw,strict:!0}}}return b}),y={};for(const b of m)b.type==="function"&&(y[b.function.name||b.function.function.name]=b.function);const S="tools"in n?m.map(b=>b.type==="function"?{type:"function",function:{name:b.function.name||b.function.function.name,parameters:b.function.parameters,description:b.function.description,strict:b.function.strict}}:b):void 0;for(const b of n.messages)this._addMessage(b,!1);for(let b=0;b<d;++b){const A=(await this._createChatCompletion(e,{...c,tool_choice:a,tools:S,messages:[...this.messages]},i)).choices[0]?.message;if(!A)throw new Se("missing message in ChatCompletion response");if(!A.tool_calls?.length)return;for(const x of A.tool_calls){if(x.type!=="function")continue;const M=x.id,{name:I,arguments:N}=x.function,D=y[I];if(D){if(h&&h!==I){const q=`Invalid tool_call: ${JSON.stringify(I)}. ${JSON.stringify(h)} requested. Please try again`;this._addMessage({role:r,tool_call_id:M,content:q});continue}}else{const q=`Invalid tool_call: ${JSON.stringify(I)}. Available options are: ${Object.keys(y).map(J=>JSON.stringify(J)).join(", ")}. Please try again`;this._addMessage({role:r,tool_call_id:M,content:q});continue}let L;try{L=R4(D)?await D.parse(N):N}catch(q){const J=q instanceof Error?q.message:String(q);this._addMessage({role:r,tool_call_id:M,content:J});continue}const U=await D.function(L,this),O=V(this,$t,"m",DN).call(this,U);if(this._addMessage({role:r,tool_call_id:M,content:O}),h)return}}}}$t=new WeakSet,Fv=function(){return V(this,$t,"m",kd).call(this).content??null},kd=function(){let e=this.messages.length;for(;e-- >0;){const n=this.messages[e];if(Dd(n))return{...n,content:n.content??null,refusal:n.refusal??null}}throw new Se("stream ended without producing a ChatCompletionMessage with role=assistant")},$v=function(){for(let e=this.messages.length-1;e>=0;e--){const n=this.messages[e];if(Dd(n)&&n?.tool_calls?.length)return n.tool_calls.filter(i=>i.type==="function").at(-1)?.function}},Hv=function(){for(let e=this.messages.length-1;e>=0;e--){const n=this.messages[e];if(MN(n)&&n.content!=null&&typeof n.content=="string"&&this.messages.some(i=>i.role==="assistant"&&i.tool_calls?.some(r=>r.type==="function"&&r.id===n.tool_call_id)))return n.content}},Gv=function(){const e={completion_tokens:0,prompt_tokens:0,total_tokens:0};for(const{usage:n}of this._chatCompletions)n&&(e.completion_tokens+=n.completion_tokens,e.prompt_tokens+=n.prompt_tokens,e.total_tokens+=n.total_tokens);return e},IN=function(e){if(e.n!=null&&e.n>1)throw new Se("ChatCompletion convenience helpers only support n=1 at this time. To use n>1, please use chat.completions.create() directly.")},DN=function(e){return typeof e=="string"?e:e===void 0?"undefined":JSON.stringify(e)};class Wy extends ON{static runTools(e,n,i){const r=new Wy,a={...i,headers:{...i?.headers,"X-Stainless-Helper-Method":"runTools"}};return r._run(()=>r._runTools(e,n,a)),r}_addMessage(e,n=!0){super._addMessage(e,n),Dd(e)&&e.content&&this._emit("content",e.content)}}const PN=1,kN=2,LN=4,UN=8,BN=16,FN=32,$N=64,HN=128,GN=256,VN=HN|GN,zN=BN|FN|VN|$N,qN=PN|kN|zN,JN=LN|UN,N4=qN|JN,wt={STR:PN,NUM:kN,ARR:LN,OBJ:UN,NULL:BN,BOOL:FN,NAN:$N,INFINITY:HN,MINUS_INFINITY:GN,INF:VN,SPECIAL:zN,ATOM:qN,COLLECTION:JN,ALL:N4};class I4 extends Error{}class D4 extends Error{}function O4(t,e=wt.ALL){if(typeof t!="string")throw new TypeError(`expecting str, got ${typeof t}`);if(!t.trim())throw new Error(`${t} is empty`);return P4(t.trim(),e)}const P4=(t,e)=>{const n=t.length;let i=0;const r=S=>{throw new I4(`${S} at position ${i}`)},a=S=>{throw new D4(`${S} at position ${i}`)},u=()=>(y(),i>=n&&r("Unexpected end of input"),t[i]==='"'?c():t[i]==="{"?h():t[i]==="["?d():t.substring(i,i+4)==="null"||wt.NULL&e&&n-i<4&&"null".startsWith(t.substring(i))?(i+=4,null):t.substring(i,i+4)==="true"||wt.BOOL&e&&n-i<4&&"true".startsWith(t.substring(i))?(i+=4,!0):t.substring(i,i+5)==="false"||wt.BOOL&e&&n-i<5&&"false".startsWith(t.substring(i))?(i+=5,!1):t.substring(i,i+8)==="Infinity"||wt.INFINITY&e&&n-i<8&&"Infinity".startsWith(t.substring(i))?(i+=8,1/0):t.substring(i,i+9)==="-Infinity"||wt.MINUS_INFINITY&e&&1<n-i&&n-i<9&&"-Infinity".startsWith(t.substring(i))?(i+=9,-1/0):t.substring(i,i+3)==="NaN"||wt.NAN&e&&n-i<3&&"NaN".startsWith(t.substring(i))?(i+=3,NaN):m()),c=()=>{const S=i;let b=!1;for(i++;i<n&&(t[i]!=='"'||b&&t[i-1]==="\\");)b=t[i]==="\\"?!b:!1,i++;if(t.charAt(i)=='"')try{return JSON.parse(t.substring(S,++i-Number(b)))}catch(T){a(String(T))}else if(wt.STR&e)try{return JSON.parse(t.substring(S,i-Number(b))+'"')}catch{return JSON.parse(t.substring(S,t.lastIndexOf("\\"))+'"')}r("Unterminated string literal")},h=()=>{i++,y();const S={};try{for(;t[i]!=="}";){if(y(),i>=n&&wt.OBJ&e)return S;const b=c();y(),i++;try{const T=u();Object.defineProperty(S,b,{value:T,writable:!0,enumerable:!0,configurable:!0})}catch(T){if(wt.OBJ&e)return S;throw T}y(),t[i]===","&&i++}}catch{if(wt.OBJ&e)return S;r("Expected '}' at end of object")}return i++,S},d=()=>{i++;const S=[];try{for(;t[i]!=="]";)S.push(u()),y(),t[i]===","&&i++}catch{if(wt.ARR&e)return S;r("Expected ']' at end of array")}return i++,S},m=()=>{if(i===0){t==="-"&&wt.NUM&e&&r("Not sure what '-' is");try{return JSON.parse(t)}catch(b){if(wt.NUM&e)try{return t[t.length-1]==="."?JSON.parse(t.substring(0,t.lastIndexOf("."))):JSON.parse(t.substring(0,t.lastIndexOf("e")))}catch{}a(String(b))}}const S=i;for(t[i]==="-"&&i++;t[i]&&!",]}".includes(t[i]);)i++;i==n&&!(wt.NUM&e)&&r("Unterminated number literal");try{return JSON.parse(t.substring(S,i))}catch{t.substring(S,i)==="-"&&wt.NUM&e&&r("Not sure what '-' is");try{return JSON.parse(t.substring(S,t.lastIndexOf("e")))}catch(T){a(String(T))}}},y=()=>{for(;i<n&&` 
\r	`.includes(t[i]);)i++};return u()},FT=t=>O4(t,wt.ALL^wt.NUM);var _t,to,Ys,Yo,Ig,If,Dg,Og,Pg,Df,kg,$T;class du extends ON{constructor(e){super(),_t.add(this),to.set(this,void 0),Ys.set(this,void 0),Yo.set(this,void 0),Ce(this,to,e),Ce(this,Ys,[])}get currentChatCompletionSnapshot(){return V(this,Yo,"f")}static fromReadableStream(e){const n=new du(null);return n._run(()=>n._fromReadableStream(e)),n}static createChatCompletion(e,n,i){const r=new du(n);return r._run(()=>r._runChatCompletion(e,{...n,stream:!0},{...i,headers:{...i?.headers,"X-Stainless-Helper-Method":"stream"}})),r}async _createChatCompletion(e,n,i){super._createChatCompletion;const r=i?.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",()=>this.controller.abort())),V(this,_t,"m",Ig).call(this);const a=await e.chat.completions.create({...n,stream:!0},{...i,signal:this.controller.signal});this._connected();for await(const u of a)V(this,_t,"m",Dg).call(this,u);if(a.controller.signal?.aborted)throw new $n;return this._addChatCompletion(V(this,_t,"m",Df).call(this))}async _fromReadableStream(e,n){const i=n?.signal;i&&(i.aborted&&this.controller.abort(),i.addEventListener("abort",()=>this.controller.abort())),V(this,_t,"m",Ig).call(this),this._connected();const r=Ei.fromReadableStream(e,this.controller);let a;for await(const u of r)a&&a!==u.id&&this._addChatCompletion(V(this,_t,"m",Df).call(this)),V(this,_t,"m",Dg).call(this,u),a=u.id;if(r.controller.signal?.aborted)throw new $n;return this._addChatCompletion(V(this,_t,"m",Df).call(this))}[(to=new WeakMap,Ys=new WeakMap,Yo=new WeakMap,_t=new WeakSet,Ig=function(){this.ended||Ce(this,Yo,void 0)},If=function(n){let i=V(this,Ys,"f")[n.index];return i||(i={content_done:!1,refusal_done:!1,logprobs_content_done:!1,logprobs_refusal_done:!1,done_tool_calls:new Set,current_tool_call_index:null},V(this,Ys,"f")[n.index]=i,i)},Dg=function(n){if(this.ended)return;const i=V(this,_t,"m",$T).call(this,n);this._emit("chunk",n,i);for(const r of n.choices){const a=i.choices[r.index];r.delta.content!=null&&a.message?.role==="assistant"&&a.message?.content&&(this._emit("content",r.delta.content,a.message.content),this._emit("content.delta",{delta:r.delta.content,snapshot:a.message.content,parsed:a.message.parsed})),r.delta.refusal!=null&&a.message?.role==="assistant"&&a.message?.refusal&&this._emit("refusal.delta",{delta:r.delta.refusal,snapshot:a.message.refusal}),r.logprobs?.content!=null&&a.message?.role==="assistant"&&this._emit("logprobs.content.delta",{content:r.logprobs?.content,snapshot:a.logprobs?.content??[]}),r.logprobs?.refusal!=null&&a.message?.role==="assistant"&&this._emit("logprobs.refusal.delta",{refusal:r.logprobs?.refusal,snapshot:a.logprobs?.refusal??[]});const u=V(this,_t,"m",If).call(this,a);a.finish_reason&&(V(this,_t,"m",Pg).call(this,a),u.current_tool_call_index!=null&&V(this,_t,"m",Og).call(this,a,u.current_tool_call_index));for(const c of r.delta.tool_calls??[])u.current_tool_call_index!==c.index&&(V(this,_t,"m",Pg).call(this,a),u.current_tool_call_index!=null&&V(this,_t,"m",Og).call(this,a,u.current_tool_call_index)),u.current_tool_call_index=c.index;for(const c of r.delta.tool_calls??[]){const h=a.message.tool_calls?.[c.index];h?.type&&(h?.type==="function"?this._emit("tool_calls.function.arguments.delta",{name:h.function?.name,index:c.index,arguments:h.function.arguments,parsed_arguments:h.function.parsed_arguments,arguments_delta:c.function?.arguments??""}):(h?.type,void 0))}}},Og=function(n,i){if(V(this,_t,"m",If).call(this,n).done_tool_calls.has(i))return;const a=n.message.tool_calls?.[i];if(!a)throw new Error("no tool call snapshot");if(!a.type)throw new Error("tool call snapshot missing `type`");if(a.type==="function"){const u=V(this,to,"f")?.tools?.find(c=>Id(c)&&c.function.name===a.function.name);this._emit("tool_calls.function.arguments.done",{name:a.function.name,index:i,arguments:a.function.arguments,parsed_arguments:Uu(u)?u.$parseRaw(a.function.arguments):u?.function.strict?JSON.parse(a.function.arguments):null})}else a.type},Pg=function(n){const i=V(this,_t,"m",If).call(this,n);if(n.message.content&&!i.content_done){i.content_done=!0;const r=V(this,_t,"m",kg).call(this);this._emit("content.done",{content:n.message.content,parsed:r?r.$parseRaw(n.message.content):null})}n.message.refusal&&!i.refusal_done&&(i.refusal_done=!0,this._emit("refusal.done",{refusal:n.message.refusal})),n.logprobs?.content&&!i.logprobs_content_done&&(i.logprobs_content_done=!0,this._emit("logprobs.content.done",{content:n.logprobs.content})),n.logprobs?.refusal&&!i.logprobs_refusal_done&&(i.logprobs_refusal_done=!0,this._emit("logprobs.refusal.done",{refusal:n.logprobs.refusal}))},Df=function(){if(this.ended)throw new Se("stream has ended, this shouldn't happen");const n=V(this,Yo,"f");if(!n)throw new Se("request ended without sending any chunks");return Ce(this,Yo,void 0),Ce(this,Ys,[]),k4(n,V(this,to,"f"))},kg=function(){const n=V(this,to,"f")?.response_format;return Yy(n)?n:null},$T=function(n){var i,r,a,u;let c=V(this,Yo,"f");const{choices:h,...d}=n;c?Object.assign(c,d):c=Ce(this,Yo,{...d,choices:[]});for(const{delta:m,finish_reason:y,index:S,logprobs:b=null,...T}of n.choices){let A=c.choices[S];if(A||(A=c.choices[S]={finish_reason:y,index:S,message:{},logprobs:b,...T}),b)if(!A.logprobs)A.logprobs=Object.assign({},b);else{const{content:U,refusal:O,...q}=b;Object.assign(A.logprobs,q),U&&((i=A.logprobs).content??(i.content=[]),A.logprobs.content.push(...U)),O&&((r=A.logprobs).refusal??(r.refusal=[]),A.logprobs.refusal.push(...O))}if(y&&(A.finish_reason=y,V(this,to,"f")&&xN(V(this,to,"f")))){if(y==="length")throw new lN;if(y==="content_filter")throw new uN}if(Object.assign(A,T),!m)continue;const{content:x,refusal:M,function_call:I,role:N,tool_calls:D,...L}=m;if(Object.assign(A.message,L),M&&(A.message.refusal=(A.message.refusal||"")+M),N&&(A.message.role=N),I&&(A.message.function_call?(I.name&&(A.message.function_call.name=I.name),I.arguments&&((a=A.message.function_call).arguments??(a.arguments=""),A.message.function_call.arguments+=I.arguments)):A.message.function_call=I),x&&(A.message.content=(A.message.content||"")+x,!A.message.refusal&&V(this,_t,"m",kg).call(this)&&(A.message.parsed=FT(A.message.content))),D){A.message.tool_calls||(A.message.tool_calls=[]);for(const{index:U,id:O,type:q,function:J,...j}of D){const W=(u=A.message.tool_calls)[U]??(u[U]={});Object.assign(W,j),O&&(W.id=O),q&&(W.type=q),J&&(W.function??(W.function={name:J.name??"",arguments:""})),J?.name&&(W.function.name=J.name),J?.arguments&&(W.function.arguments+=J.arguments,A4(V(this,to,"f"),W)&&(W.function.parsed_arguments=FT(W.function.arguments)))}}}return c},Symbol.asyncIterator)](){const e=[],n=[];let i=!1;return this.on("chunk",r=>{const a=n.shift();a?a.resolve(r):e.push(r)}),this.on("end",()=>{i=!0;for(const r of n)r.resolve(void 0);n.length=0}),this.on("abort",r=>{i=!0;for(const a of n)a.reject(r);n.length=0}),this.on("error",r=>{i=!0;for(const a of n)a.reject(r);n.length=0}),{next:async()=>e.length?{value:e.shift(),done:!1}:i?{value:void 0,done:!0}:new Promise((a,u)=>n.push({resolve:a,reject:u})).then(a=>a?{value:a,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}toReadableStream(){return new Ei(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}}function k4(t,e){const{id:n,choices:i,created:r,model:a,system_fingerprint:u,...c}=t,h={...c,id:n,choices:i.map(({message:d,finish_reason:m,index:y,logprobs:S,...b})=>{if(!m)throw new Se(`missing finish_reason for choice ${y}`);const{content:T=null,function_call:A,tool_calls:x,...M}=d,I=d.role;if(!I)throw new Se(`missing role for choice ${y}`);if(A){const{arguments:N,name:D}=A;if(N==null)throw new Se(`missing function_call.arguments for choice ${y}`);if(!D)throw new Se(`missing function_call.name for choice ${y}`);return{...b,message:{content:T,function_call:{arguments:N,name:D},role:I,refusal:d.refusal??null},finish_reason:m,index:y,logprobs:S}}return x?{...b,index:y,finish_reason:m,logprobs:S,message:{...M,role:I,content:T,refusal:d.refusal??null,tool_calls:x.map((N,D)=>{const{function:L,type:U,id:O,...q}=N,{arguments:J,name:j,...W}=L||{};if(O==null)throw new Se(`missing choices[${y}].tool_calls[${D}].id
${Of(t)}`);if(U==null)throw new Se(`missing choices[${y}].tool_calls[${D}].type
${Of(t)}`);if(j==null)throw new Se(`missing choices[${y}].tool_calls[${D}].function.name
${Of(t)}`);if(J==null)throw new Se(`missing choices[${y}].tool_calls[${D}].function.arguments
${Of(t)}`);return{...q,id:O,type:U,function:{...W,name:j,arguments:J}}})}}:{...b,message:{...M,content:T,role:I,refusal:d.refusal??null},finish_reason:m,index:y,logprobs:S}}),created:r,model:a,object:"chat.completion",...u?{system_fingerprint:u}:{}};return w4(h,e)}function Of(t){return JSON.stringify(t)}class Ld extends du{static fromReadableStream(e){const n=new Ld(null);return n._run(()=>n._fromReadableStream(e)),n}static runTools(e,n,i){const r=new Ld(n),a={...i,headers:{...i?.headers,"X-Stainless-Helper-Method":"runTools"}};return r._run(()=>r._runTools(e,n,a)),r}}let Qy=class extends ye{constructor(){super(...arguments),this.messages=new AN(this._client)}create(e,n){return this._client.post("/chat/completions",{body:e,...n,stream:e.stream??!1})}retrieve(e,n){return this._client.get(oe`/chat/completions/${e}`,n)}update(e,n,i){return this._client.post(oe`/chat/completions/${e}`,{body:n,...i})}list(e={},n){return this._client.getAPIList("/chat/completions",vt,{query:e,...n})}delete(e,n){return this._client.delete(oe`/chat/completions/${e}`,n)}parse(e,n){return x4(e.tools),this._client.chat.completions.create(e,{...n,headers:{...n?.headers,"X-Stainless-Helper-Method":"chat.completions.parse"}})._thenUnwrap(i=>jy(i,e))}runTools(e,n){return e.stream?Ld.runTools(this._client,e,n):Wy.runTools(this._client,e,n)}stream(e,n){return du.createChatCompletion(this._client,e,n)}};Qy.Messages=AN;class Zy extends ye{constructor(){super(...arguments),this.completions=new Qy(this._client)}}Zy.Completions=Qy;const KN=Symbol("brand.privateNullableHeaders");function*L4(t){if(!t)return;if(KN in t){const{values:i,nulls:r}=t;yield*i.entries();for(const a of r)yield[a,null];return}let e=!1,n;t instanceof Headers?n=t.entries():CT(t)?n=t:(e=!0,n=Object.entries(t??{}));for(let i of n){const r=i[0];if(typeof r!="string")throw new TypeError("expected header name to be a string");const a=CT(i[1])?i[1]:[i[1]];let u=!1;for(const c of a)c!==void 0&&(e&&!u&&(u=!0,yield[r,null]),yield[r,c])}}const pe=t=>{const e=new Headers,n=new Set;for(const i of t){const r=new Set;for(const[a,u]of L4(i)){const c=a.toLowerCase();r.has(c)||(e.delete(a),r.add(c)),u===null?(e.delete(a),n.add(c)):(e.append(a,u),n.delete(c))}}return{[KN]:!0,values:e,nulls:n}};class YN extends ye{create(e,n){return this._client.post("/audio/speech",{body:e,...n,headers:pe([{Accept:"application/octet-stream"},n?.headers]),__binaryResponse:!0})}}class jN extends ye{create(e,n){return this._client.post("/audio/transcriptions",Wr({body:e,...n,stream:e.stream??!1,__metadata:{model:e.model}},this._client))}}class XN extends ye{create(e,n){return this._client.post("/audio/translations",Wr({body:e,...n,__metadata:{model:e.model}},this._client))}}class Bu extends ye{constructor(){super(...arguments),this.transcriptions=new jN(this._client),this.translations=new XN(this._client),this.speech=new YN(this._client)}}Bu.Transcriptions=jN;Bu.Translations=XN;Bu.Speech=YN;class WN extends ye{create(e,n){return this._client.post("/batches",{body:e,...n})}retrieve(e,n){return this._client.get(oe`/batches/${e}`,n)}list(e={},n){return this._client.getAPIList("/batches",vt,{query:e,...n})}cancel(e,n){return this._client.post(oe`/batches/${e}/cancel`,n)}}class QN extends ye{create(e,n){return this._client.post("/assistants",{body:e,...n,headers:pe([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}retrieve(e,n){return this._client.get(oe`/assistants/${e}`,{...n,headers:pe([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}update(e,n,i){return this._client.post(oe`/assistants/${e}`,{body:n,...i,headers:pe([{"OpenAI-Beta":"assistants=v2"},i?.headers])})}list(e={},n){return this._client.getAPIList("/assistants",vt,{query:e,...n,headers:pe([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}delete(e,n){return this._client.delete(oe`/assistants/${e}`,{...n,headers:pe([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}}let ZN=class extends ye{create(e,n){return this._client.post("/realtime/sessions",{body:e,...n,headers:pe([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}};class eI extends ye{create(e,n){return this._client.post("/realtime/transcription_sessions",{body:e,...n,headers:pe([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}}let Sh=class extends ye{constructor(){super(...arguments),this.sessions=new ZN(this._client),this.transcriptionSessions=new eI(this._client)}};Sh.Sessions=ZN;Sh.TranscriptionSessions=eI;class tI extends ye{create(e,n){return this._client.post("/chatkit/sessions",{body:e,...n,headers:pe([{"OpenAI-Beta":"chatkit_beta=v1"},n?.headers])})}cancel(e,n){return this._client.post(oe`/chatkit/sessions/${e}/cancel`,{...n,headers:pe([{"OpenAI-Beta":"chatkit_beta=v1"},n?.headers])})}}let nI=class extends ye{retrieve(e,n){return this._client.get(oe`/chatkit/threads/${e}`,{...n,headers:pe([{"OpenAI-Beta":"chatkit_beta=v1"},n?.headers])})}list(e={},n){return this._client.getAPIList("/chatkit/threads",Nd,{query:e,...n,headers:pe([{"OpenAI-Beta":"chatkit_beta=v1"},n?.headers])})}delete(e,n){return this._client.delete(oe`/chatkit/threads/${e}`,{...n,headers:pe([{"OpenAI-Beta":"chatkit_beta=v1"},n?.headers])})}listItems(e,n={},i){return this._client.getAPIList(oe`/chatkit/threads/${e}/items`,Nd,{query:n,...i,headers:pe([{"OpenAI-Beta":"chatkit_beta=v1"},i?.headers])})}};class bh extends ye{constructor(){super(...arguments),this.sessions=new tI(this._client),this.threads=new nI(this._client)}}bh.Sessions=tI;bh.Threads=nI;class iI extends ye{create(e,n,i){return this._client.post(oe`/threads/${e}/messages`,{body:n,...i,headers:pe([{"OpenAI-Beta":"assistants=v2"},i?.headers])})}retrieve(e,n,i){const{thread_id:r}=n;return this._client.get(oe`/threads/${r}/messages/${e}`,{...i,headers:pe([{"OpenAI-Beta":"assistants=v2"},i?.headers])})}update(e,n,i){const{thread_id:r,...a}=n;return this._client.post(oe`/threads/${r}/messages/${e}`,{body:a,...i,headers:pe([{"OpenAI-Beta":"assistants=v2"},i?.headers])})}list(e,n={},i){return this._client.getAPIList(oe`/threads/${e}/messages`,vt,{query:n,...i,headers:pe([{"OpenAI-Beta":"assistants=v2"},i?.headers])})}delete(e,n,i){const{thread_id:r}=n;return this._client.delete(oe`/threads/${r}/messages/${e}`,{...i,headers:pe([{"OpenAI-Beta":"assistants=v2"},i?.headers])})}}class oI extends ye{retrieve(e,n,i){const{thread_id:r,run_id:a,...u}=n;return this._client.get(oe`/threads/${r}/runs/${a}/steps/${e}`,{query:u,...i,headers:pe([{"OpenAI-Beta":"assistants=v2"},i?.headers])})}list(e,n,i){const{thread_id:r,...a}=n;return this._client.getAPIList(oe`/threads/${r}/runs/${e}/steps`,vt,{query:a,...i,headers:pe([{"OpenAI-Beta":"assistants=v2"},i?.headers])})}}const U4=t=>{if(typeof Buffer<"u"){const e=Buffer.from(t,"base64");return Array.from(new Float32Array(e.buffer,e.byteOffset,e.length/Float32Array.BYTES_PER_ELEMENT))}else{const e=atob(t),n=e.length,i=new Uint8Array(n);for(let r=0;r<n;r++)i[r]=e.charCodeAt(r);return Array.from(new Float32Array(i.buffer))}};var B4={};const js=t=>{if(typeof globalThis.process<"u")return B4?.[t]?.trim()??void 0;if(typeof globalThis.Deno<"u")return globalThis.Deno.env?.get?.(t)?.trim()};var Ot,Fr,Vv,_i,nd,Qn,$r,ua,Ur,Ud,vn,id,od,ou,jl,Xl,HT,GT,VT,zT,qT,JT,KT;class ru extends Xy{constructor(){super(...arguments),Ot.add(this),Vv.set(this,[]),_i.set(this,{}),nd.set(this,{}),Qn.set(this,void 0),$r.set(this,void 0),ua.set(this,void 0),Ur.set(this,void 0),Ud.set(this,void 0),vn.set(this,void 0),id.set(this,void 0),od.set(this,void 0),ou.set(this,void 0)}[(Vv=new WeakMap,_i=new WeakMap,nd=new WeakMap,Qn=new WeakMap,$r=new WeakMap,ua=new WeakMap,Ur=new WeakMap,Ud=new WeakMap,vn=new WeakMap,id=new WeakMap,od=new WeakMap,ou=new WeakMap,Ot=new WeakSet,Symbol.asyncIterator)](){const e=[],n=[];let i=!1;return this.on("event",r=>{const a=n.shift();a?a.resolve(r):e.push(r)}),this.on("end",()=>{i=!0;for(const r of n)r.resolve(void 0);n.length=0}),this.on("abort",r=>{i=!0;for(const a of n)a.reject(r);n.length=0}),this.on("error",r=>{i=!0;for(const a of n)a.reject(r);n.length=0}),{next:async()=>e.length?{value:e.shift(),done:!1}:i?{value:void 0,done:!0}:new Promise((a,u)=>n.push({resolve:a,reject:u})).then(a=>a?{value:a,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}static fromReadableStream(e){const n=new Fr;return n._run(()=>n._fromReadableStream(e)),n}async _fromReadableStream(e,n){const i=n?.signal;i&&(i.aborted&&this.controller.abort(),i.addEventListener("abort",()=>this.controller.abort())),this._connected();const r=Ei.fromReadableStream(e,this.controller);for await(const a of r)V(this,Ot,"m",jl).call(this,a);if(r.controller.signal?.aborted)throw new $n;return this._addRun(V(this,Ot,"m",Xl).call(this))}toReadableStream(){return new Ei(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}static createToolAssistantStream(e,n,i,r){const a=new Fr;return a._run(()=>a._runToolAssistantStream(e,n,i,{...r,headers:{...r?.headers,"X-Stainless-Helper-Method":"stream"}})),a}async _createToolAssistantStream(e,n,i,r){const a=r?.signal;a&&(a.aborted&&this.controller.abort(),a.addEventListener("abort",()=>this.controller.abort()));const u={...i,stream:!0},c=await e.submitToolOutputs(n,u,{...r,signal:this.controller.signal});this._connected();for await(const h of c)V(this,Ot,"m",jl).call(this,h);if(c.controller.signal?.aborted)throw new $n;return this._addRun(V(this,Ot,"m",Xl).call(this))}static createThreadAssistantStream(e,n,i){const r=new Fr;return r._run(()=>r._threadAssistantStream(e,n,{...i,headers:{...i?.headers,"X-Stainless-Helper-Method":"stream"}})),r}static createAssistantStream(e,n,i,r){const a=new Fr;return a._run(()=>a._runAssistantStream(e,n,i,{...r,headers:{...r?.headers,"X-Stainless-Helper-Method":"stream"}})),a}currentEvent(){return V(this,id,"f")}currentRun(){return V(this,od,"f")}currentMessageSnapshot(){return V(this,Qn,"f")}currentRunStepSnapshot(){return V(this,ou,"f")}async finalRunSteps(){return await this.done(),Object.values(V(this,_i,"f"))}async finalMessages(){return await this.done(),Object.values(V(this,nd,"f"))}async finalRun(){if(await this.done(),!V(this,$r,"f"))throw Error("Final run was not received.");return V(this,$r,"f")}async _createThreadAssistantStream(e,n,i){const r=i?.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",()=>this.controller.abort()));const a={...n,stream:!0},u=await e.createAndRun(a,{...i,signal:this.controller.signal});this._connected();for await(const c of u)V(this,Ot,"m",jl).call(this,c);if(u.controller.signal?.aborted)throw new $n;return this._addRun(V(this,Ot,"m",Xl).call(this))}async _createAssistantStream(e,n,i,r){const a=r?.signal;a&&(a.aborted&&this.controller.abort(),a.addEventListener("abort",()=>this.controller.abort()));const u={...i,stream:!0},c=await e.create(n,u,{...r,signal:this.controller.signal});this._connected();for await(const h of c)V(this,Ot,"m",jl).call(this,h);if(c.controller.signal?.aborted)throw new $n;return this._addRun(V(this,Ot,"m",Xl).call(this))}static accumulateDelta(e,n){for(const[i,r]of Object.entries(n)){if(!e.hasOwnProperty(i)){e[i]=r;continue}let a=e[i];if(a==null){e[i]=r;continue}if(i==="index"||i==="type"){e[i]=r;continue}if(typeof a=="string"&&typeof r=="string")a+=r;else if(typeof a=="number"&&typeof r=="number")a+=r;else if(Rg(a)&&Rg(r))a=this.accumulateDelta(a,r);else if(Array.isArray(a)&&Array.isArray(r)){if(a.every(u=>typeof u=="string"||typeof u=="number")){a.push(...r);continue}for(const u of r){if(!Rg(u))throw new Error(`Expected array delta entry to be an object but got: ${u}`);const c=u.index;if(c==null)throw console.error(u),new Error("Expected array delta entry to have an `index` property");if(typeof c!="number")throw new Error(`Expected array delta entry \`index\` property to be a number but got ${c}`);const h=a[c];h==null?a.push(u):a[c]=this.accumulateDelta(h,u)}continue}else throw Error(`Unhandled record type: ${i}, deltaValue: ${r}, accValue: ${a}`);e[i]=a}return e}_addRun(e){return e}async _threadAssistantStream(e,n,i){return await this._createThreadAssistantStream(n,e,i)}async _runAssistantStream(e,n,i,r){return await this._createAssistantStream(n,e,i,r)}async _runToolAssistantStream(e,n,i,r){return await this._createToolAssistantStream(n,e,i,r)}}Fr=ru,jl=function(e){if(!this.ended)switch(Ce(this,id,e),V(this,Ot,"m",VT).call(this,e),e.event){case"thread.created":break;case"thread.run.created":case"thread.run.queued":case"thread.run.in_progress":case"thread.run.requires_action":case"thread.run.completed":case"thread.run.incomplete":case"thread.run.failed":case"thread.run.cancelling":case"thread.run.cancelled":case"thread.run.expired":V(this,Ot,"m",KT).call(this,e);break;case"thread.run.step.created":case"thread.run.step.in_progress":case"thread.run.step.delta":case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":V(this,Ot,"m",GT).call(this,e);break;case"thread.message.created":case"thread.message.in_progress":case"thread.message.delta":case"thread.message.completed":case"thread.message.incomplete":V(this,Ot,"m",HT).call(this,e);break;case"error":throw new Error("Encountered an error event in event processing - errors should be processed earlier")}},Xl=function(){if(this.ended)throw new Se("stream has ended, this shouldn't happen");if(!V(this,$r,"f"))throw Error("Final run has not been received");return V(this,$r,"f")},HT=function(e){const[n,i]=V(this,Ot,"m",qT).call(this,e,V(this,Qn,"f"));Ce(this,Qn,n),V(this,nd,"f")[n.id]=n;for(const r of i){const a=n.content[r.index];a?.type=="text"&&this._emit("textCreated",a.text)}switch(e.event){case"thread.message.created":this._emit("messageCreated",e.data);break;case"thread.message.in_progress":break;case"thread.message.delta":if(this._emit("messageDelta",e.data.delta,n),e.data.delta.content)for(const r of e.data.delta.content){if(r.type=="text"&&r.text){let a=r.text,u=n.content[r.index];if(u&&u.type=="text")this._emit("textDelta",a,u.text);else throw Error("The snapshot associated with this text delta is not text or missing")}if(r.index!=V(this,ua,"f")){if(V(this,Ur,"f"))switch(V(this,Ur,"f").type){case"text":this._emit("textDone",V(this,Ur,"f").text,V(this,Qn,"f"));break;case"image_file":this._emit("imageFileDone",V(this,Ur,"f").image_file,V(this,Qn,"f"));break}Ce(this,ua,r.index)}Ce(this,Ur,n.content[r.index])}break;case"thread.message.completed":case"thread.message.incomplete":if(V(this,ua,"f")!==void 0){const r=e.data.content[V(this,ua,"f")];if(r)switch(r.type){case"image_file":this._emit("imageFileDone",r.image_file,V(this,Qn,"f"));break;case"text":this._emit("textDone",r.text,V(this,Qn,"f"));break}}V(this,Qn,"f")&&this._emit("messageDone",e.data),Ce(this,Qn,void 0)}},GT=function(e){const n=V(this,Ot,"m",zT).call(this,e);switch(Ce(this,ou,n),e.event){case"thread.run.step.created":this._emit("runStepCreated",e.data);break;case"thread.run.step.delta":const i=e.data.delta;if(i.step_details&&i.step_details.type=="tool_calls"&&i.step_details.tool_calls&&n.step_details.type=="tool_calls")for(const a of i.step_details.tool_calls)a.index==V(this,Ud,"f")?this._emit("toolCallDelta",a,n.step_details.tool_calls[a.index]):(V(this,vn,"f")&&this._emit("toolCallDone",V(this,vn,"f")),Ce(this,Ud,a.index),Ce(this,vn,n.step_details.tool_calls[a.index]),V(this,vn,"f")&&this._emit("toolCallCreated",V(this,vn,"f")));this._emit("runStepDelta",e.data.delta,n);break;case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":Ce(this,ou,void 0),e.data.step_details.type=="tool_calls"&&V(this,vn,"f")&&(this._emit("toolCallDone",V(this,vn,"f")),Ce(this,vn,void 0)),this._emit("runStepDone",e.data,n);break}},VT=function(e){V(this,Vv,"f").push(e),this._emit("event",e)},zT=function(e){switch(e.event){case"thread.run.step.created":return V(this,_i,"f")[e.data.id]=e.data,e.data;case"thread.run.step.delta":let n=V(this,_i,"f")[e.data.id];if(!n)throw Error("Received a RunStepDelta before creation of a snapshot");let i=e.data;if(i.delta){const r=Fr.accumulateDelta(n,i.delta);V(this,_i,"f")[e.data.id]=r}return V(this,_i,"f")[e.data.id];case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":case"thread.run.step.in_progress":V(this,_i,"f")[e.data.id]=e.data;break}if(V(this,_i,"f")[e.data.id])return V(this,_i,"f")[e.data.id];throw new Error("No snapshot available")},qT=function(e,n){let i=[];switch(e.event){case"thread.message.created":return[e.data,i];case"thread.message.delta":if(!n)throw Error("Received a delta with no existing snapshot (there should be one from message creation)");let r=e.data;if(r.delta.content)for(const a of r.delta.content)if(a.index in n.content){let u=n.content[a.index];n.content[a.index]=V(this,Ot,"m",JT).call(this,a,u)}else n.content[a.index]=a,i.push(a);return[n,i];case"thread.message.in_progress":case"thread.message.completed":case"thread.message.incomplete":if(n)return[n,i];throw Error("Received thread message event with no existing snapshot")}throw Error("Tried to accumulate a non-message event")},JT=function(e,n){return Fr.accumulateDelta(n,e)},KT=function(e){switch(Ce(this,od,e.data),e.event){case"thread.run.created":break;case"thread.run.queued":break;case"thread.run.in_progress":break;case"thread.run.requires_action":case"thread.run.cancelled":case"thread.run.failed":case"thread.run.completed":case"thread.run.expired":case"thread.run.incomplete":Ce(this,$r,e.data),V(this,vn,"f")&&(this._emit("toolCallDone",V(this,vn,"f")),Ce(this,vn,void 0));break}};let e_=class extends ye{constructor(){super(...arguments),this.steps=new oI(this._client)}create(e,n,i){const{include:r,...a}=n;return this._client.post(oe`/threads/${e}/runs`,{query:{include:r},body:a,...i,headers:pe([{"OpenAI-Beta":"assistants=v2"},i?.headers]),stream:n.stream??!1})}retrieve(e,n,i){const{thread_id:r}=n;return this._client.get(oe`/threads/${r}/runs/${e}`,{...i,headers:pe([{"OpenAI-Beta":"assistants=v2"},i?.headers])})}update(e,n,i){const{thread_id:r,...a}=n;return this._client.post(oe`/threads/${r}/runs/${e}`,{body:a,...i,headers:pe([{"OpenAI-Beta":"assistants=v2"},i?.headers])})}list(e,n={},i){return this._client.getAPIList(oe`/threads/${e}/runs`,vt,{query:n,...i,headers:pe([{"OpenAI-Beta":"assistants=v2"},i?.headers])})}cancel(e,n,i){const{thread_id:r}=n;return this._client.post(oe`/threads/${r}/runs/${e}/cancel`,{...i,headers:pe([{"OpenAI-Beta":"assistants=v2"},i?.headers])})}async createAndPoll(e,n,i){const r=await this.create(e,n,i);return await this.poll(r.id,{thread_id:e},i)}createAndStream(e,n,i){return ru.createAssistantStream(e,this._client.beta.threads.runs,n,i)}async poll(e,n,i){const r=pe([i?.headers,{"X-Stainless-Poll-Helper":"true","X-Stainless-Custom-Poll-Interval":i?.pollIntervalMs?.toString()??void 0}]);for(;;){const{data:a,response:u}=await this.retrieve(e,n,{...i,headers:{...i?.headers,...r}}).withResponse();switch(a.status){case"queued":case"in_progress":case"cancelling":let c=5e3;if(i?.pollIntervalMs)c=i.pollIntervalMs;else{const h=u.headers.get("openai-poll-after-ms");if(h){const d=parseInt(h);isNaN(d)||(c=d)}}await Lu(c);break;case"requires_action":case"incomplete":case"cancelled":case"completed":case"failed":case"expired":return a}}}stream(e,n,i){return ru.createAssistantStream(e,this._client.beta.threads.runs,n,i)}submitToolOutputs(e,n,i){const{thread_id:r,...a}=n;return this._client.post(oe`/threads/${r}/runs/${e}/submit_tool_outputs`,{body:a,...i,headers:pe([{"OpenAI-Beta":"assistants=v2"},i?.headers]),stream:n.stream??!1})}async submitToolOutputsAndPoll(e,n,i){const r=await this.submitToolOutputs(e,n,i);return await this.poll(r.id,n,i)}submitToolOutputsStream(e,n,i){return ru.createToolAssistantStream(e,this._client.beta.threads.runs,n,i)}};e_.Steps=oI;class Eh extends ye{constructor(){super(...arguments),this.runs=new e_(this._client),this.messages=new iI(this._client)}create(e={},n){return this._client.post("/threads",{body:e,...n,headers:pe([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}retrieve(e,n){return this._client.get(oe`/threads/${e}`,{...n,headers:pe([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}update(e,n,i){return this._client.post(oe`/threads/${e}`,{body:n,...i,headers:pe([{"OpenAI-Beta":"assistants=v2"},i?.headers])})}delete(e,n){return this._client.delete(oe`/threads/${e}`,{...n,headers:pe([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}createAndRun(e,n){return this._client.post("/threads/runs",{body:e,...n,headers:pe([{"OpenAI-Beta":"assistants=v2"},n?.headers]),stream:e.stream??!1})}async createAndRunPoll(e,n){const i=await this.createAndRun(e,n);return await this.runs.poll(i.id,{thread_id:i.thread_id},n)}createAndRunStream(e,n){return ru.createThreadAssistantStream(e,this._client.beta.threads,n)}}Eh.Runs=e_;Eh.Messages=iI;class Oa extends ye{constructor(){super(...arguments),this.realtime=new Sh(this._client),this.chatkit=new bh(this._client),this.assistants=new QN(this._client),this.threads=new Eh(this._client)}}Oa.Realtime=Sh;Oa.ChatKit=bh;Oa.Assistants=QN;Oa.Threads=Eh;class rI extends ye{create(e,n){return this._client.post("/completions",{body:e,...n,stream:e.stream??!1})}}let sI=class extends ye{retrieve(e,n,i){const{container_id:r}=n;return this._client.get(oe`/containers/${r}/files/${e}/content`,{...i,headers:pe([{Accept:"application/binary"},i?.headers]),__binaryResponse:!0})}},t_=class extends ye{constructor(){super(...arguments),this.content=new sI(this._client)}create(e,n,i){return this._client.post(oe`/containers/${e}/files`,Wr({body:n,...i},this._client))}retrieve(e,n,i){const{container_id:r}=n;return this._client.get(oe`/containers/${r}/files/${e}`,i)}list(e,n={},i){return this._client.getAPIList(oe`/containers/${e}/files`,vt,{query:n,...i})}delete(e,n,i){const{container_id:r}=n;return this._client.delete(oe`/containers/${r}/files/${e}`,{...i,headers:pe([{Accept:"*/*"},i?.headers])})}};t_.Content=sI;class n_ extends ye{constructor(){super(...arguments),this.files=new t_(this._client)}create(e,n){return this._client.post("/containers",{body:e,...n})}retrieve(e,n){return this._client.get(oe`/containers/${e}`,n)}list(e={},n){return this._client.getAPIList("/containers",vt,{query:e,...n})}delete(e,n){return this._client.delete(oe`/containers/${e}`,{...n,headers:pe([{Accept:"*/*"},n?.headers])})}}n_.Files=t_;class aI extends ye{create(e,n,i){const{include:r,...a}=n;return this._client.post(oe`/conversations/${e}/items`,{query:{include:r},body:a,...i})}retrieve(e,n,i){const{conversation_id:r,...a}=n;return this._client.get(oe`/conversations/${r}/items/${e}`,{query:a,...i})}list(e,n={},i){return this._client.getAPIList(oe`/conversations/${e}/items`,Nd,{query:n,...i})}delete(e,n,i){const{conversation_id:r}=n;return this._client.delete(oe`/conversations/${r}/items/${e}`,i)}}class i_ extends ye{constructor(){super(...arguments),this.items=new aI(this._client)}create(e={},n){return this._client.post("/conversations",{body:e,...n})}retrieve(e,n){return this._client.get(oe`/conversations/${e}`,n)}update(e,n,i){return this._client.post(oe`/conversations/${e}`,{body:n,...i})}delete(e,n){return this._client.delete(oe`/conversations/${e}`,n)}}i_.Items=aI;class lI extends ye{create(e,n){const i=!!e.encoding_format;let r=i?e.encoding_format:"base64";i&&Dt(this._client).debug("embeddings/user defined encoding_format:",e.encoding_format);const a=this._client.post("/embeddings",{body:{...e,encoding_format:r},...n});return i?a:(Dt(this._client).debug("embeddings/decoding base64 embeddings from base64"),a._thenUnwrap(u=>(u&&u.data&&u.data.forEach(c=>{const h=c.embedding;c.embedding=U4(h)}),u)))}}class uI extends ye{retrieve(e,n,i){const{eval_id:r,run_id:a}=n;return this._client.get(oe`/evals/${r}/runs/${a}/output_items/${e}`,i)}list(e,n,i){const{eval_id:r,...a}=n;return this._client.getAPIList(oe`/evals/${r}/runs/${e}/output_items`,vt,{query:a,...i})}}class o_ extends ye{constructor(){super(...arguments),this.outputItems=new uI(this._client)}create(e,n,i){return this._client.post(oe`/evals/${e}/runs`,{body:n,...i})}retrieve(e,n,i){const{eval_id:r}=n;return this._client.get(oe`/evals/${r}/runs/${e}`,i)}list(e,n={},i){return this._client.getAPIList(oe`/evals/${e}/runs`,vt,{query:n,...i})}delete(e,n,i){const{eval_id:r}=n;return this._client.delete(oe`/evals/${r}/runs/${e}`,i)}cancel(e,n,i){const{eval_id:r}=n;return this._client.post(oe`/evals/${r}/runs/${e}`,i)}}o_.OutputItems=uI;class r_ extends ye{constructor(){super(...arguments),this.runs=new o_(this._client)}create(e,n){return this._client.post("/evals",{body:e,...n})}retrieve(e,n){return this._client.get(oe`/evals/${e}`,n)}update(e,n,i){return this._client.post(oe`/evals/${e}`,{body:n,...i})}list(e={},n){return this._client.getAPIList("/evals",vt,{query:e,...n})}delete(e,n){return this._client.delete(oe`/evals/${e}`,n)}}r_.Runs=o_;let cI=class extends ye{create(e,n){return this._client.post("/files",Wr({body:e,...n},this._client))}retrieve(e,n){return this._client.get(oe`/files/${e}`,n)}list(e={},n){return this._client.getAPIList("/files",vt,{query:e,...n})}delete(e,n){return this._client.delete(oe`/files/${e}`,n)}content(e,n){return this._client.get(oe`/files/${e}/content`,{...n,headers:pe([{Accept:"application/binary"},n?.headers]),__binaryResponse:!0})}async waitForProcessing(e,{pollInterval:n=5e3,maxWait:i=1800*1e3}={}){const r=new Set(["processed","error","deleted"]),a=Date.now();let u=await this.retrieve(e);for(;!u.status||!r.has(u.status);)if(await Lu(n),u=await this.retrieve(e),Date.now()-a>i)throw new zy({message:`Giving up on waiting for file ${e} to finish processing after ${i} milliseconds.`});return u}};class fI extends ye{}let dI=class extends ye{run(e,n){return this._client.post("/fine_tuning/alpha/graders/run",{body:e,...n})}validate(e,n){return this._client.post("/fine_tuning/alpha/graders/validate",{body:e,...n})}};class s_ extends ye{constructor(){super(...arguments),this.graders=new dI(this._client)}}s_.Graders=dI;class hI extends ye{create(e,n,i){return this._client.getAPIList(oe`/fine_tuning/checkpoints/${e}/permissions`,_h,{body:n,method:"post",...i})}retrieve(e,n={},i){return this._client.get(oe`/fine_tuning/checkpoints/${e}/permissions`,{query:n,...i})}delete(e,n,i){const{fine_tuned_model_checkpoint:r}=n;return this._client.delete(oe`/fine_tuning/checkpoints/${r}/permissions/${e}`,i)}}let a_=class extends ye{constructor(){super(...arguments),this.permissions=new hI(this._client)}};a_.Permissions=hI;class pI extends ye{list(e,n={},i){return this._client.getAPIList(oe`/fine_tuning/jobs/${e}/checkpoints`,vt,{query:n,...i})}}class l_ extends ye{constructor(){super(...arguments),this.checkpoints=new pI(this._client)}create(e,n){return this._client.post("/fine_tuning/jobs",{body:e,...n})}retrieve(e,n){return this._client.get(oe`/fine_tuning/jobs/${e}`,n)}list(e={},n){return this._client.getAPIList("/fine_tuning/jobs",vt,{query:e,...n})}cancel(e,n){return this._client.post(oe`/fine_tuning/jobs/${e}/cancel`,n)}listEvents(e,n={},i){return this._client.getAPIList(oe`/fine_tuning/jobs/${e}/events`,vt,{query:n,...i})}pause(e,n){return this._client.post(oe`/fine_tuning/jobs/${e}/pause`,n)}resume(e,n){return this._client.post(oe`/fine_tuning/jobs/${e}/resume`,n)}}l_.Checkpoints=pI;class Pa extends ye{constructor(){super(...arguments),this.methods=new fI(this._client),this.jobs=new l_(this._client),this.checkpoints=new a_(this._client),this.alpha=new s_(this._client)}}Pa.Methods=fI;Pa.Jobs=l_;Pa.Checkpoints=a_;Pa.Alpha=s_;class mI extends ye{}class u_ extends ye{constructor(){super(...arguments),this.graderModels=new mI(this._client)}}u_.GraderModels=mI;class gI extends ye{createVariation(e,n){return this._client.post("/images/variations",Wr({body:e,...n},this._client))}edit(e,n){return this._client.post("/images/edits",Wr({body:e,...n,stream:e.stream??!1},this._client))}generate(e,n){return this._client.post("/images/generations",{body:e,...n,stream:e.stream??!1})}}class vI extends ye{retrieve(e,n){return this._client.get(oe`/models/${e}`,n)}list(e){return this._client.getAPIList("/models",_h,e)}delete(e,n){return this._client.delete(oe`/models/${e}`,n)}}class yI extends ye{create(e,n){return this._client.post("/moderations",{body:e,...n})}}class _I extends ye{accept(e,n,i){return this._client.post(oe`/realtime/calls/${e}/accept`,{body:n,...i,headers:pe([{Accept:"*/*"},i?.headers])})}hangup(e,n){return this._client.post(oe`/realtime/calls/${e}/hangup`,{...n,headers:pe([{Accept:"*/*"},n?.headers])})}refer(e,n,i){return this._client.post(oe`/realtime/calls/${e}/refer`,{body:n,...i,headers:pe([{Accept:"*/*"},i?.headers])})}reject(e,n={},i){return this._client.post(oe`/realtime/calls/${e}/reject`,{body:n,...i,headers:pe([{Accept:"*/*"},i?.headers])})}}class SI extends ye{create(e,n){return this._client.post("/realtime/client_secrets",{body:e,...n})}}class wh extends ye{constructor(){super(...arguments),this.clientSecrets=new SI(this._client),this.calls=new _I(this._client)}}wh.ClientSecrets=SI;wh.Calls=_I;function F4(t,e){return!e||!H4(e)?{...t,output_parsed:null,output:t.output.map(n=>n.type==="function_call"?{...n,parsed_arguments:null}:n.type==="message"?{...n,content:n.content.map(i=>({...i,parsed:null}))}:n)}:bI(t,e)}function bI(t,e){const n=t.output.map(r=>{if(r.type==="function_call")return{...r,parsed_arguments:z4(e,r)};if(r.type==="message"){const a=r.content.map(u=>u.type==="output_text"?{...u,parsed:$4(e,u.text)}:u);return{...r,content:a}}return r}),i=Object.assign({},t,{output:n});return Object.getOwnPropertyDescriptor(t,"output_text")||zv(i),Object.defineProperty(i,"output_parsed",{enumerable:!0,get(){for(const r of i.output)if(r.type==="message"){for(const a of r.content)if(a.type==="output_text"&&a.parsed!==null)return a.parsed}return null}}),i}function $4(t,e){return t.text?.format?.type!=="json_schema"?null:"$parseRaw"in t.text?.format?(t.text?.format).$parseRaw(e):JSON.parse(e)}function H4(t){return!!Yy(t.text?.format)}function G4(t){return t?.$brand==="auto-parseable-tool"}function V4(t,e){return t.find(n=>n.type==="function"&&n.name===e)}function z4(t,e){const n=V4(t.tools??[],e.name);return{...e,...e,parsed_arguments:G4(n)?n.$parseRaw(e.arguments):n?.strict?JSON.parse(e.arguments):null}}function zv(t){const e=[];for(const n of t.output)if(n.type==="message")for(const i of n.content)i.type==="output_text"&&e.push(i.text);t.output_text=e.join("")}var Xs,Pf,jo,kf,YT,jT,XT,WT;class c_ extends Xy{constructor(e){super(),Xs.add(this),Pf.set(this,void 0),jo.set(this,void 0),kf.set(this,void 0),Ce(this,Pf,e)}static createResponse(e,n,i){const r=new c_(n);return r._run(()=>r._createOrRetrieveResponse(e,n,{...i,headers:{...i?.headers,"X-Stainless-Helper-Method":"stream"}})),r}async _createOrRetrieveResponse(e,n,i){const r=i?.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",()=>this.controller.abort())),V(this,Xs,"m",YT).call(this);let a,u=null;"response_id"in n?(a=await e.responses.retrieve(n.response_id,{stream:!0},{...i,signal:this.controller.signal,stream:!0}),u=n.starting_after??null):a=await e.responses.create({...n,stream:!0},{...i,signal:this.controller.signal}),this._connected();for await(const c of a)V(this,Xs,"m",jT).call(this,c,u);if(a.controller.signal?.aborted)throw new $n;return V(this,Xs,"m",XT).call(this)}[(Pf=new WeakMap,jo=new WeakMap,kf=new WeakMap,Xs=new WeakSet,YT=function(){this.ended||Ce(this,jo,void 0)},jT=function(n,i){if(this.ended)return;const r=(u,c)=>{(i==null||c.sequence_number>i)&&this._emit(u,c)},a=V(this,Xs,"m",WT).call(this,n);switch(r("event",n),n.type){case"response.output_text.delta":{const u=a.output[n.output_index];if(!u)throw new Se(`missing output at index ${n.output_index}`);if(u.type==="message"){const c=u.content[n.content_index];if(!c)throw new Se(`missing content at index ${n.content_index}`);if(c.type!=="output_text")throw new Se(`expected content to be 'output_text', got ${c.type}`);r("response.output_text.delta",{...n,snapshot:c.text})}break}case"response.function_call_arguments.delta":{const u=a.output[n.output_index];if(!u)throw new Se(`missing output at index ${n.output_index}`);u.type==="function_call"&&r("response.function_call_arguments.delta",{...n,snapshot:u.arguments});break}default:r(n.type,n);break}},XT=function(){if(this.ended)throw new Se("stream has ended, this shouldn't happen");const n=V(this,jo,"f");if(!n)throw new Se("request ended without sending any events");Ce(this,jo,void 0);const i=q4(n,V(this,Pf,"f"));return Ce(this,kf,i),i},WT=function(n){let i=V(this,jo,"f");if(!i){if(n.type!=="response.created")throw new Se(`When snapshot hasn't been set yet, expected 'response.created' event, got ${n.type}`);return i=Ce(this,jo,n.response),i}switch(n.type){case"response.output_item.added":{i.output.push(n.item);break}case"response.content_part.added":{const r=i.output[n.output_index];if(!r)throw new Se(`missing output at index ${n.output_index}`);const a=r.type,u=n.part;a==="message"&&u.type!=="reasoning_text"?r.content.push(u):a==="reasoning"&&u.type==="reasoning_text"&&(r.content||(r.content=[]),r.content.push(u));break}case"response.output_text.delta":{const r=i.output[n.output_index];if(!r)throw new Se(`missing output at index ${n.output_index}`);if(r.type==="message"){const a=r.content[n.content_index];if(!a)throw new Se(`missing content at index ${n.content_index}`);if(a.type!=="output_text")throw new Se(`expected content to be 'output_text', got ${a.type}`);a.text+=n.delta}break}case"response.function_call_arguments.delta":{const r=i.output[n.output_index];if(!r)throw new Se(`missing output at index ${n.output_index}`);r.type==="function_call"&&(r.arguments+=n.delta);break}case"response.reasoning_text.delta":{const r=i.output[n.output_index];if(!r)throw new Se(`missing output at index ${n.output_index}`);if(r.type==="reasoning"){const a=r.content?.[n.content_index];if(!a)throw new Se(`missing content at index ${n.content_index}`);if(a.type!=="reasoning_text")throw new Se(`expected content to be 'reasoning_text', got ${a.type}`);a.text+=n.delta}break}case"response.completed":{Ce(this,jo,n.response);break}}return i},Symbol.asyncIterator)](){const e=[],n=[];let i=!1;return this.on("event",r=>{const a=n.shift();a?a.resolve(r):e.push(r)}),this.on("end",()=>{i=!0;for(const r of n)r.resolve(void 0);n.length=0}),this.on("abort",r=>{i=!0;for(const a of n)a.reject(r);n.length=0}),this.on("error",r=>{i=!0;for(const a of n)a.reject(r);n.length=0}),{next:async()=>e.length?{value:e.shift(),done:!1}:i?{value:void 0,done:!0}:new Promise((a,u)=>n.push({resolve:a,reject:u})).then(a=>a?{value:a,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}async finalResponse(){await this.done();const e=V(this,kf,"f");if(!e)throw new Se("stream ended without producing a ChatCompletion");return e}}function q4(t,e){return F4(t,e)}class EI extends ye{list(e,n={},i){return this._client.getAPIList(oe`/responses/${e}/input_items`,vt,{query:n,...i})}}class wI extends ye{count(e={},n){return this._client.post("/responses/input_tokens",{body:e,...n})}}class Ch extends ye{constructor(){super(...arguments),this.inputItems=new EI(this._client),this.inputTokens=new wI(this._client)}create(e,n){return this._client.post("/responses",{body:e,...n,stream:e.stream??!1})._thenUnwrap(i=>("object"in i&&i.object==="response"&&zv(i),i))}retrieve(e,n={},i){return this._client.get(oe`/responses/${e}`,{query:n,...i,stream:n?.stream??!1})._thenUnwrap(r=>("object"in r&&r.object==="response"&&zv(r),r))}delete(e,n){return this._client.delete(oe`/responses/${e}`,{...n,headers:pe([{Accept:"*/*"},n?.headers])})}parse(e,n){return this._client.responses.create(e,n)._thenUnwrap(i=>bI(i,e))}stream(e,n){return c_.createResponse(this._client,e,n)}cancel(e,n){return this._client.post(oe`/responses/${e}/cancel`,n)}compact(e={},n){return this._client.post("/responses/compact",{body:e,...n})}}Ch.InputItems=EI;Ch.InputTokens=wI;class CI extends ye{create(e,n,i){return this._client.post(oe`/uploads/${e}/parts`,Wr({body:n,...i},this._client))}}class f_ extends ye{constructor(){super(...arguments),this.parts=new CI(this._client)}create(e,n){return this._client.post("/uploads",{body:e,...n})}cancel(e,n){return this._client.post(oe`/uploads/${e}/cancel`,n)}complete(e,n,i){return this._client.post(oe`/uploads/${e}/complete`,{body:n,...i})}}f_.Parts=CI;const J4=async t=>{const e=await Promise.allSettled(t),n=e.filter(r=>r.status==="rejected");if(n.length){for(const r of n)console.error(r.reason);throw new Error(`${n.length} promise(s) failed - see the above errors`)}const i=[];for(const r of e)r.status==="fulfilled"&&i.push(r.value);return i};class TI extends ye{create(e,n,i){return this._client.post(oe`/vector_stores/${e}/file_batches`,{body:n,...i,headers:pe([{"OpenAI-Beta":"assistants=v2"},i?.headers])})}retrieve(e,n,i){const{vector_store_id:r}=n;return this._client.get(oe`/vector_stores/${r}/file_batches/${e}`,{...i,headers:pe([{"OpenAI-Beta":"assistants=v2"},i?.headers])})}cancel(e,n,i){const{vector_store_id:r}=n;return this._client.post(oe`/vector_stores/${r}/file_batches/${e}/cancel`,{...i,headers:pe([{"OpenAI-Beta":"assistants=v2"},i?.headers])})}async createAndPoll(e,n,i){const r=await this.create(e,n);return await this.poll(e,r.id,i)}listFiles(e,n,i){const{vector_store_id:r,...a}=n;return this._client.getAPIList(oe`/vector_stores/${r}/file_batches/${e}/files`,vt,{query:a,...i,headers:pe([{"OpenAI-Beta":"assistants=v2"},i?.headers])})}async poll(e,n,i){const r=pe([i?.headers,{"X-Stainless-Poll-Helper":"true","X-Stainless-Custom-Poll-Interval":i?.pollIntervalMs?.toString()??void 0}]);for(;;){const{data:a,response:u}=await this.retrieve(n,{vector_store_id:e},{...i,headers:r}).withResponse();switch(a.status){case"in_progress":let c=5e3;if(i?.pollIntervalMs)c=i.pollIntervalMs;else{const h=u.headers.get("openai-poll-after-ms");if(h){const d=parseInt(h);isNaN(d)||(c=d)}}await Lu(c);break;case"failed":case"cancelled":case"completed":return a}}}async uploadAndPoll(e,{files:n,fileIds:i=[]},r){if(n==null||n.length==0)throw new Error("No `files` provided to process. If you've already uploaded files you should use `.createAndPoll()` instead");const a=r?.maxConcurrency??5,u=Math.min(a,n.length),c=this._client,h=n.values(),d=[...i];async function m(S){for(let b of S){const T=await c.files.create({file:b,purpose:"assistants"},r);d.push(T.id)}}const y=Array(u).fill(h).map(m);return await J4(y),await this.createAndPoll(e,{file_ids:d})}}class AI extends ye{create(e,n,i){return this._client.post(oe`/vector_stores/${e}/files`,{body:n,...i,headers:pe([{"OpenAI-Beta":"assistants=v2"},i?.headers])})}retrieve(e,n,i){const{vector_store_id:r}=n;return this._client.get(oe`/vector_stores/${r}/files/${e}`,{...i,headers:pe([{"OpenAI-Beta":"assistants=v2"},i?.headers])})}update(e,n,i){const{vector_store_id:r,...a}=n;return this._client.post(oe`/vector_stores/${r}/files/${e}`,{body:a,...i,headers:pe([{"OpenAI-Beta":"assistants=v2"},i?.headers])})}list(e,n={},i){return this._client.getAPIList(oe`/vector_stores/${e}/files`,vt,{query:n,...i,headers:pe([{"OpenAI-Beta":"assistants=v2"},i?.headers])})}delete(e,n,i){const{vector_store_id:r}=n;return this._client.delete(oe`/vector_stores/${r}/files/${e}`,{...i,headers:pe([{"OpenAI-Beta":"assistants=v2"},i?.headers])})}async createAndPoll(e,n,i){const r=await this.create(e,n,i);return await this.poll(e,r.id,i)}async poll(e,n,i){const r=pe([i?.headers,{"X-Stainless-Poll-Helper":"true","X-Stainless-Custom-Poll-Interval":i?.pollIntervalMs?.toString()??void 0}]);for(;;){const a=await this.retrieve(n,{vector_store_id:e},{...i,headers:r}).withResponse(),u=a.data;switch(u.status){case"in_progress":let c=5e3;if(i?.pollIntervalMs)c=i.pollIntervalMs;else{const h=a.response.headers.get("openai-poll-after-ms");if(h){const d=parseInt(h);isNaN(d)||(c=d)}}await Lu(c);break;case"failed":case"completed":return u}}}async upload(e,n,i){const r=await this._client.files.create({file:n,purpose:"assistants"},i);return this.create(e,{file_id:r.id},i)}async uploadAndPoll(e,n,i){const r=await this.upload(e,n,i);return await this.poll(e,r.id,i)}content(e,n,i){const{vector_store_id:r}=n;return this._client.getAPIList(oe`/vector_stores/${r}/files/${e}/content`,_h,{...i,headers:pe([{"OpenAI-Beta":"assistants=v2"},i?.headers])})}}class Th extends ye{constructor(){super(...arguments),this.files=new AI(this._client),this.fileBatches=new TI(this._client)}create(e,n){return this._client.post("/vector_stores",{body:e,...n,headers:pe([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}retrieve(e,n){return this._client.get(oe`/vector_stores/${e}`,{...n,headers:pe([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}update(e,n,i){return this._client.post(oe`/vector_stores/${e}`,{body:n,...i,headers:pe([{"OpenAI-Beta":"assistants=v2"},i?.headers])})}list(e={},n){return this._client.getAPIList("/vector_stores",vt,{query:e,...n,headers:pe([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}delete(e,n){return this._client.delete(oe`/vector_stores/${e}`,{...n,headers:pe([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}search(e,n,i){return this._client.getAPIList(oe`/vector_stores/${e}/search`,_h,{body:n,method:"post",...i,headers:pe([{"OpenAI-Beta":"assistants=v2"},i?.headers])})}}Th.Files=AI;Th.FileBatches=TI;class xI extends ye{create(e,n){return this._client.post("/videos",LT({body:e,...n},this._client))}retrieve(e,n){return this._client.get(oe`/videos/${e}`,n)}list(e={},n){return this._client.getAPIList("/videos",Nd,{query:e,...n})}delete(e,n){return this._client.delete(oe`/videos/${e}`,n)}downloadContent(e,n={},i){return this._client.get(oe`/videos/${e}/content`,{query:n,...i,headers:pe([{Accept:"application/binary"},i?.headers]),__binaryResponse:!0})}remix(e,n,i){return this._client.post(oe`/videos/${e}/remix`,LT({body:n,...i},this._client))}}var oa,RI,rd;class MI extends ye{constructor(){super(...arguments),oa.add(this)}async unwrap(e,n,i=this._client.webhookSecret,r=300){return await this.verifySignature(e,n,i,r),JSON.parse(e)}async verifySignature(e,n,i=this._client.webhookSecret,r=300){if(typeof crypto>"u"||typeof crypto.subtle.importKey!="function"||typeof crypto.subtle.verify!="function")throw new Error("Webhook signature verification is only supported when the `crypto` global is defined");V(this,oa,"m",RI).call(this,i);const a=pe([n]).values,u=V(this,oa,"m",rd).call(this,a,"webhook-signature"),c=V(this,oa,"m",rd).call(this,a,"webhook-timestamp"),h=V(this,oa,"m",rd).call(this,a,"webhook-id"),d=parseInt(c,10);if(isNaN(d))throw new Gl("Invalid webhook timestamp format");const m=Math.floor(Date.now()/1e3);if(m-d>r)throw new Gl("Webhook timestamp is too old");if(d>m+r)throw new Gl("Webhook timestamp is too new");const y=u.split(" ").map(A=>A.startsWith("v1,")?A.substring(3):A),S=i.startsWith("whsec_")?Buffer.from(i.replace("whsec_",""),"base64"):Buffer.from(i,"utf-8"),b=h?`${h}.${c}.${e}`:`${c}.${e}`,T=await crypto.subtle.importKey("raw",S,{name:"HMAC",hash:"SHA-256"},!1,["verify"]);for(const A of y)try{const x=Buffer.from(A,"base64");if(await crypto.subtle.verify("HMAC",T,x,new TextEncoder().encode(b)))return}catch{continue}throw new Gl("The given webhook signature does not match the expected signature")}}oa=new WeakSet,RI=function(e){if(typeof e!="string"||e.length===0)throw new Error("The webhook secret must either be set using the env var, OPENAI_WEBHOOK_SECRET, on the client class, OpenAI({ webhookSecret: '123' }), or passed to this function")},rd=function(e,n){if(!e)throw new Error("Headers are required");const i=e.get(n);if(i==null)throw new Error(`Missing required header: ${n}`);return i};var qv,d_,sd,NI;class Ie{constructor({baseURL:e=js("OPENAI_BASE_URL"),apiKey:n=js("OPENAI_API_KEY"),organization:i=js("OPENAI_ORG_ID")??null,project:r=js("OPENAI_PROJECT_ID")??null,webhookSecret:a=js("OPENAI_WEBHOOK_SECRET")??null,...u}={}){if(qv.add(this),sd.set(this,void 0),this.completions=new rI(this),this.chat=new Zy(this),this.embeddings=new lI(this),this.files=new cI(this),this.images=new gI(this),this.audio=new Bu(this),this.moderations=new yI(this),this.models=new vI(this),this.fineTuning=new Pa(this),this.graders=new u_(this),this.vectorStores=new Th(this),this.webhooks=new MI(this),this.beta=new Oa(this),this.batches=new WN(this),this.uploads=new f_(this),this.responses=new Ch(this),this.realtime=new wh(this),this.conversations=new i_(this),this.evals=new r_(this),this.containers=new n_(this),this.videos=new xI(this),n===void 0)throw new Se("Missing credentials. Please pass an `apiKey`, or set the `OPENAI_API_KEY` environment variable.");const c={apiKey:n,organization:i,project:r,webhookSecret:a,...u,baseURL:e||"https://api.openai.com/v1"};if(!c.dangerouslyAllowBrowser&&K3())throw new Se(`It looks like you're running in a browser-like environment.

This is disabled by default, as it risks exposing your secret API credentials to attackers.
If you understand the risks and have appropriate mitigations in place,
you can set the \`dangerouslyAllowBrowser\` option to \`true\`, e.g.,

new OpenAI({ apiKey, dangerouslyAllowBrowser: true });

https://help.openai.com/en/articles/5112595-best-practices-for-api-key-safety
`);this.baseURL=c.baseURL,this.timeout=c.timeout??d_.DEFAULT_TIMEOUT,this.logger=c.logger??console;const h="warn";this.logLevel=h,this.logLevel=PT(c.logLevel,"ClientOptions.logLevel",this)??PT(js("OPENAI_LOG"),"process.env['OPENAI_LOG']",this)??h,this.fetchOptions=c.fetchOptions,this.maxRetries=c.maxRetries??2,this.fetch=c.fetch??Q3(),Ce(this,sd,e4),this._options=c,this.apiKey=typeof n=="string"?n:"Missing Key",this.organization=i,this.project=r,this.webhookSecret=a}withOptions(e){return new this.constructor({...this._options,baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,organization:this.organization,project:this.project,webhookSecret:this.webhookSecret,...e})}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:e,nulls:n}){}async authHeaders(e){return pe([{Authorization:`Bearer ${this.apiKey}`}])}stringifyQuery(e){return s4(e,{arrayFormat:"brackets"})}getUserAgent(){return`${this.constructor.name}/JS ${na}`}defaultIdempotencyKey(){return`stainless-node-retry-${ZM()}`}makeStatusError(e,n,i,r){return Pt.generate(e,n,i,r)}async _callApiKey(){const e=this._options.apiKey;if(typeof e!="function")return!1;let n;try{n=await e()}catch(i){throw i instanceof Se?i:new Se(`Failed to get token from 'apiKey' function: ${i.message}`,{cause:i})}if(typeof n!="string"||!n)throw new Se(`Expected 'apiKey' function argument to return a string but it returned ${n}`);return this.apiKey=n,!0}buildURL(e,n,i){const r=!V(this,qv,"m",NI).call(this)&&i||this.baseURL,a=G3(e)?new URL(e):new URL(r+(r.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),u=this.defaultQuery();return V3(u)||(n={...u,...n}),typeof n=="object"&&n&&!Array.isArray(n)&&(a.search=this.stringifyQuery(n)),a.toString()}async prepareOptions(e){await this._callApiKey()}async prepareRequest(e,{url:n,options:i}){}get(e,n){return this.methodRequest("get",e,n)}post(e,n){return this.methodRequest("post",e,n)}patch(e,n){return this.methodRequest("patch",e,n)}put(e,n){return this.methodRequest("put",e,n)}delete(e,n){return this.methodRequest("delete",e,n)}methodRequest(e,n,i){return this.request(Promise.resolve(i).then(r=>({method:e,path:n,...r})))}request(e,n=null){return new yh(this,this.makeRequest(e,n,void 0))}async makeRequest(e,n,i){const r=await e,a=r.maxRetries??this.maxRetries;n==null&&(n=a),await this.prepareOptions(r);const{req:u,url:c,timeout:h}=await this.buildRequest(r,{retryCount:a-n});await this.prepareRequest(u,{url:c,options:r});const d="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),m=i===void 0?"":`, retryOf: ${i}`,y=Date.now();if(Dt(this).debug(`[${d}] sending request`,Lr({retryOfRequestLogID:i,method:r.method,url:c,options:r,headers:u.headers})),r.signal?.aborted)throw new $n;const S=new AbortController,b=await this.fetchWithTimeout(c,u,h,S).catch(Ov),T=Date.now();if(b instanceof globalThis.Error){const M=`retrying, ${n} attempts remaining`;if(r.signal?.aborted)throw new $n;const I=Dv(b)||/timed? ?out/i.test(String(b)+("cause"in b?String(b.cause):""));if(n)return Dt(this).info(`[${d}] connection ${I?"timed out":"failed"} - ${M}`),Dt(this).debug(`[${d}] connection ${I?"timed out":"failed"} (${M})`,Lr({retryOfRequestLogID:i,url:c,durationMs:T-y,message:b.message})),this.retryRequest(r,n,i??d);throw Dt(this).info(`[${d}] connection ${I?"timed out":"failed"} - error; no more retries left`),Dt(this).debug(`[${d}] connection ${I?"timed out":"failed"} (error; no more retries left)`,Lr({retryOfRequestLogID:i,url:c,durationMs:T-y,message:b.message})),I?new zy:new gh({cause:b})}const A=[...b.headers.entries()].filter(([M])=>M==="x-request-id").map(([M,I])=>", "+M+": "+JSON.stringify(I)).join(""),x=`[${d}${m}${A}] ${u.method} ${c} ${b.ok?"succeeded":"failed"} with status ${b.status} in ${T-y}ms`;if(!b.ok){const M=await this.shouldRetry(b);if(n&&M){const O=`retrying, ${n} attempts remaining`;return await Z3(b.body),Dt(this).info(`${x} - ${O}`),Dt(this).debug(`[${d}] response error (${O})`,Lr({retryOfRequestLogID:i,url:b.url,status:b.status,headers:b.headers,durationMs:T-y})),this.retryRequest(r,n,i??d,b.headers)}const I=M?"error; no more retries left":"error; not retryable";Dt(this).info(`${x} - ${I}`);const N=await b.text().catch(O=>Ov(O).message),D=J3(N),L=D?void 0:N;throw Dt(this).debug(`[${d}] response error (${I})`,Lr({retryOfRequestLogID:i,url:b.url,status:b.status,headers:b.headers,message:L,durationMs:Date.now()-y})),this.makeStatusError(b.status,D,L,b.headers)}return Dt(this).info(x),Dt(this).debug(`[${d}] response start`,Lr({retryOfRequestLogID:i,url:b.url,status:b.status,headers:b.headers,durationMs:T-y})),{response:b,options:r,controller:S,requestLogID:d,retryOfRequestLogID:i,startTime:y}}getAPIList(e,n,i){return this.requestAPIList(n,{method:"get",path:e,...i})}requestAPIList(e,n){const i=this.makeRequest(n,null,void 0);return new m4(this,i,e)}async fetchWithTimeout(e,n,i,r){const{signal:a,method:u,...c}=n||{};a&&a.addEventListener("abort",()=>r.abort());const h=setTimeout(()=>r.abort(),i),d=globalThis.ReadableStream&&c.body instanceof globalThis.ReadableStream||typeof c.body=="object"&&c.body!==null&&Symbol.asyncIterator in c.body,m={signal:r.signal,...d?{duplex:"half"}:{},method:"GET",...c};u&&(m.method=u.toUpperCase());try{return await this.fetch.call(void 0,e,m)}finally{clearTimeout(h)}}async shouldRetry(e){const n=e.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,n,i,r){let a;const u=r?.get("retry-after-ms");if(u){const h=parseFloat(u);Number.isNaN(h)||(a=h)}const c=r?.get("retry-after");if(c&&!a){const h=parseFloat(c);Number.isNaN(h)?a=Date.parse(c)-Date.now():a=h*1e3}if(!(a&&0<=a&&a<60*1e3)){const h=e.maxRetries??this.maxRetries;a=this.calculateDefaultRetryTimeoutMillis(n,h)}return await Lu(a),this.makeRequest(e,n-1,i)}calculateDefaultRetryTimeoutMillis(e,n){const a=n-e,u=Math.min(.5*Math.pow(2,a),8),c=1-Math.random()*.25;return u*c*1e3}async buildRequest(e,{retryCount:n=0}={}){const i={...e},{method:r,path:a,query:u,defaultBaseURL:c}=i,h=this.buildURL(a,u,c);"timeout"in i&&q3("timeout",i.timeout),i.timeout=i.timeout??this.timeout;const{bodyHeaders:d,body:m}=this.buildBody({options:i}),y=await this.buildHeaders({options:e,method:r,bodyHeaders:d,retryCount:n});return{req:{method:r,headers:y,...i.signal&&{signal:i.signal},...globalThis.ReadableStream&&m instanceof globalThis.ReadableStream&&{duplex:"half"},...m&&{body:m},...this.fetchOptions??{},...i.fetchOptions??{}},url:h,timeout:i.timeout}}async buildHeaders({options:e,method:n,bodyHeaders:i,retryCount:r}){let a={};this.idempotencyHeader&&n!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),a[this.idempotencyHeader]=e.idempotencyKey);const u=pe([a,{Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(r),...e.timeout?{"X-Stainless-Timeout":String(Math.trunc(e.timeout/1e3))}:{},...W3(),"OpenAI-Organization":this.organization,"OpenAI-Project":this.project},await this.authHeaders(e),this._options.defaultHeaders,i,e.headers]);return this.validateHeaders(u),u.values}buildBody({options:{body:e,headers:n}}){if(!e)return{bodyHeaders:void 0,body:void 0};const i=pe([n]);return ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof DataView||typeof e=="string"&&i.values.has("content-type")||globalThis.Blob&&e instanceof globalThis.Blob||e instanceof FormData||e instanceof URLSearchParams||globalThis.ReadableStream&&e instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:e}:typeof e=="object"&&(Symbol.asyncIterator in e||Symbol.iterator in e&&"next"in e&&typeof e.next=="function")?{bodyHeaders:void 0,body:dN(e)}:V(this,sd,"f").call(this,{body:e,headers:i})}}d_=Ie,sd=new WeakMap,qv=new WeakSet,NI=function(){return this.baseURL!=="https://api.openai.com/v1"};Ie.OpenAI=d_;Ie.DEFAULT_TIMEOUT=6e5;Ie.OpenAIError=Se;Ie.APIError=Pt;Ie.APIConnectionError=gh;Ie.APIConnectionTimeoutError=zy;Ie.APIUserAbortError=$n;Ie.NotFoundError=iN;Ie.ConflictError=oN;Ie.RateLimitError=sN;Ie.BadRequestError=eN;Ie.AuthenticationError=tN;Ie.InternalServerError=aN;Ie.PermissionDeniedError=nN;Ie.UnprocessableEntityError=rN;Ie.InvalidWebhookSignatureError=Gl;Ie.toFile=S4;Ie.Completions=rI;Ie.Chat=Zy;Ie.Embeddings=lI;Ie.Files=cI;Ie.Images=gI;Ie.Audio=Bu;Ie.Moderations=yI;Ie.Models=vI;Ie.FineTuning=Pa;Ie.Graders=u_;Ie.VectorStores=Th;Ie.Webhooks=MI;Ie.Beta=Oa;Ie.Batches=WN;Ie.Uploads=f_;Ie.Responses=Ch;Ie.Realtime=wh;Ie.Conversations=i_;Ie.Evals=r_;Ie.Containers=n_;Ie.Videos=xI;class QT extends Error{}const II=["gpt-4o-mini","gpt-5.1","gpt-5-mini","gpt-5-nano","gpt-5"];class Bd{static getApiKey=null;static setApiKey=null;static getClient(){const e=this.getApiKey?.()||"";if(!e)throw new QT("No OpenAI API key set");return new Ie({apiKey:e,dangerouslyAllowBrowser:!0})}static async txt2txt(e,n,i="gpt-4o-mini",r){try{const a=this.getClient(),u=[];n&&u.push({role:"system",content:n}),e&&u.push({role:"user",content:[{type:"input_text",text:e}]}),r&&console.log(r);const c={model:i,input:u};console.log("GPT Payload:",c);const d=(await a.responses.create(c)).output_text;return console.log("GPT Response TEXT:",{text:d}),d}catch(a){if(console.error("ChatGPT Error:",a),(a?.message||"").includes("Incorrect API key provided")||a instanceof QT){const c=window.prompt("Your OpenAI API key is missing or invalid. Please enter a valid key:");return c?this.setApiKey?.(c):console.warn("User did not provide a valid API key."),null}throw a}}}class K4{rootHandle=null;project=null;data={};constructor(e=null,n=null){this.rootHandle=e,this.project=n,Oi(this)}async load(){if(this.rootHandle)try{const e={};for await(const n of this.rootHandle.values()){if(n.kind!=="directory")continue;const i=n.name,r=n,a={};for await(const u of r.values()){if(u.kind!=="directory")continue;const c=u.name,h=u,d=[];for await(const m of h.values()){if(m.kind!=="file"||!m.name.match(/\.(png|jpg|jpeg|webp|gif)$/i))continue;const y=m,S=`${i}/${c}/${y.name}`;d.push(new Y4(y,h,S,this))}a[c]=d}e[i]=a}Ae(()=>{this.data=e})}catch(e){console.error("Error loading artbook:",e),Ae(()=>{this.data={}})}}getTag(e){if(!e)return null;const n=e.split("/");if(n.length<3)return null;const[i,r,a]=n,u=this.data[i];if(!u)return null;const c=u[r];return c&&c.find(d=>d.handle.name===a)||null}log(){console.log(ir(this))}getJson(){const e={};for(const[n,i]of Object.entries(this.data)){e[n]={};for(const[r,a]of Object.entries(i))e[n][r]=a.map(u=>u.handle.name)}return e}}class Y4{handle;folder;image;artInfo=null;path;artbook;constructor(e,n,i,r=null){this.handle=e,this.folder=n,this.image=new Mi(e,this.folder),this.path=i,this.artbook=r,Oi(this)}async getArtInfo(){if(this.artInfo)return this.artInfo;try{const e=await Xr.create(this.folder,this.handle.name+".json");Ae(()=>{this.artInfo=e})}catch(e){console.warn("Unable to load art info for:",this.handle.name,e)}return this.artInfo}}const Lg=24;class j4{doc;fcpxml;resources;project;spine;timelineName;constructor(e="Test RESOLVE",n=1e4){this.timelineName=e,this.doc=document.implementation.createDocument("","",null),this.fcpxml=this.doc.createElement("fcpxml"),this.fcpxml.setAttribute("version","1.10"),this.doc.appendChild(this.fcpxml),this.resources=this.doc.createElement("resources"),this.fcpxml.appendChild(this.resources);const i=this.doc.createElement("format");i.setAttribute("id","r0"),i.setAttribute("name",`FFVideoFormat1080p${Lg}`),i.setAttribute("frameDuration",`1/${Lg}s`),i.setAttribute("width","1080"),i.setAttribute("height","1920"),this.resources.appendChild(i);const r=this.doc.createElement("library");this.fcpxml.appendChild(r);const a=this.doc.createElement("event");a.setAttribute("name","Auto Import"),r.appendChild(a),this.project=this.doc.createElement("project"),this.project.setAttribute("name",this.timelineName),a.appendChild(this.project);const u=this.doc.createElement("sequence");u.setAttribute("format","r0"),u.setAttribute("duration",`${n}/${Lg}s`),u.setAttribute("tcStart","0/1s"),u.setAttribute("tcFormat","NDF"),this.project.appendChild(u),this.spine=this.doc.createElement("spine"),u.appendChild(this.spine);const c=this.doc.createElement("effect");c.setAttribute("uid",".../Generators.localized/Solids.localized/Vivid.localized/Vivid.motn"),c.setAttribute("name","Vivid"),c.setAttribute("id","r1"),this.resources.appendChild(c);const h=this.doc.createElement("effect");h.setAttribute("uid",".../Titles.localized/Lower Thirds.localized/Basic Lower Third.localized/Basic Lower Third.moti"),h.setAttribute("name","Basic Title"),h.setAttribute("id","r2"),this.resources.appendChild(h)}addAsset(e,n){const i=this.doc.createElement("asset");i.setAttribute("src",`file://localhost/${e.replace(/\\/g,"/")}`),i.setAttribute("name",n);const a=this.resources.children.length;return i.setAttribute("id",`r${a}`),this.resources.appendChild(i),i.getAttribute("id")}appendClip(e,n,i,r,a=0){const u=this.doc.createElement("video");u.setAttribute("start","1/24s"),u.setAttribute("ref",e),u.setAttribute("name",n),u.setAttribute("enabled","1"),u.setAttribute("lane",a.toString()),u.setAttribute("duration",`${i}/1s`),u.setAttribute("offset",`${r}/1s`),this.spine.appendChild(u)}appendText(e,n,i,r=3,a="Rich"){const u=this.doc.createElement("title");u.setAttribute("start","1/24s"),u.setAttribute("ref","r2"),u.setAttribute("name",a),u.setAttribute("lane",r.toString()),u.setAttribute("offset",`${i}/1s`),u.setAttribute("duration",`${n}/1s`),u.setAttribute("enabled","1");const c=this.doc.createElement("text");c.setAttribute("roll-up-height","0");const h=this.doc.createElement("text-style");h.setAttribute("ref","ts0"),h.textContent=e,c.appendChild(h),u.appendChild(c);const d=this.doc.createElement("text-style-def");d.setAttribute("id","ts0");const m=this.doc.createElement("text-style");m.setAttribute("fontSize","32"),m.setAttribute("italic","0"),m.setAttribute("fontColor","1 1 1 1"),m.setAttribute("bold","1"),m.setAttribute("lineSpacing","0"),m.setAttribute("font","Open Sans"),m.setAttribute("alignment","center"),m.setAttribute("strokeWidth","0"),m.setAttribute("strokeColor","0 0 0 1"),d.appendChild(m),u.appendChild(d);const y=this.doc.createElement("adjust-transform");y.setAttribute("scale","1 1"),y.setAttribute("anchor","0 0"),y.setAttribute("position","0 1"),u.appendChild(y),this.spine.appendChild(u)}getXmlString(){let n=new XMLSerializer().serializeToString(this.doc);return n=`<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE fcpxml>
`+n,n}log(){const n=/(>)(<)(\/*)/g;let i=this.getXmlString().replace(n,`$1\r
$2$3`),r=0;const a=i.split(`\r
`).map(u=>{let c="";u.match(/<\/\w/)&&(r-=1);for(let h=0;h<r;h++)c+="  ";return u.match(/<[^!?].*>[^<]*$/)&&(r+=1),c+u}).join(`\r
`);console.log(a)}async save(e){try{const i=await(await e.getFileHandle(this.timelineName+".xml",{create:!0})).createWritable();await i.write(this.getXmlString()),await i.close()}catch(n){console.error("Failed to save file",n)}}}const X4={tags:[],shotsjson:"",script:"",split_shots_prompt:{preset:"split_shots"}};class ZT{folder;sceneJson=null;shots=[];project;is_generating_shotsjson=!1;is_generating_tags=!1;is_generating_all_shot_images=!1;split_shots_prompt=null;path="";constructor(e,n){this.folder=e,this.project=n,this.path="/SCENES/"+e.name,Oi(this)}async load(){try{this.sceneJson=await Xr.create(this.folder,"sceneinfo.json",X4),this.shots=[];for await(const e of this.folder.values())if(e.kind==="directory"){const n=new wT(e,this);await n.load(),this.shots.push(n)}}catch(e){console.error("Error loading scene:",e),this.sceneJson=null,this.shots=[]}}removeTag(e){this.sceneJson?.data?.tags&&(this.sceneJson.data.tags=this.sceneJson.data.tags.filter(n=>n!==e),this.sceneJson.save())}async delete(){if(!this.project?.rootDirHandle){console.error("Cannot delete scene: project root not set");return}try{await(await this.project.rootDirHandle.getDirectoryHandle("SCENES")).removeEntry(this.folder.name,{recursive:!0}),Ae(()=>{this.project&&(this.project.scenes=this.project.scenes.filter(n=>n!==this))})}catch(e){console.error("Failed to delete scene:",e)}}async createShot(e){if(!this.folder)return console.error("No scene folder available"),null;const n=this.shots.find(i=>i.folder.name===e);if(n)return n;try{const i=await this.folder.getDirectoryHandle(e,{create:!0}),r=new wT(i,this);return await r.load(),Ae(()=>{const a=this.shots.findIndex(u=>u.folder.name.localeCompare(e)>0);a===-1?this.shots.push(r):this.shots.splice(a,0,r)}),r}catch(i){return console.error("Failed to create shot:",i),null}}get finishedShotsNum(){return this.shots.filter(e=>e.shotJson?.data?.finished).length}async generateShotsJson(){if(!this.sceneJson?.data?.script)return null;Ae(()=>{this.is_generating_shotsjson=!0});const e=this.sceneJson.data.script,n=`
${this.project.workflows.split_scene_into_shots.prompt}

${this.sceneJson.data.split_prompt}

SCRIPT:
${e}
`,i=this.project.projinfo?.getField("workflows/split_scene_into_shots/system_message");try{return await Bd.txt2txt(n,i,this.project?.projinfo?.getField("workflows/split_scene_into_shots/model"))}catch(r){return console.error("Error generating shots JSON:",r),null}finally{Ae(()=>{this.is_generating_shotsjson=!1})}}async createShotsFromShotsJson(){if(!this.sceneJson?.data?.shotsjson){console.warn("No shots JSON found in scene.");return}let e;try{e=JSON.parse(this.sceneJson.data.shotsjson)}catch(n){console.error("Invalid shots JSON:",n),alert("Error: The shots JSON is invalid. Please check the format.");return}for(const n of Object.keys(e)){const i=e[n];if(!i||typeof i!="object"){console.warn(`Skipping invalid shot data for key: ${n}`);continue}try{const r=await this.createShot(n);if(!r){console.error(`Failed to create shot ${n}`);continue}r.shotJson&&(Object.assign(r.shotJson.data,i),await r.shotJson.save())}catch(r){console.error(`Error creating shot ${n}:`,r)}}}log(){console.log(ir(this))}getTags(){if(!this.sceneJson?.data?.tags||!this.project?.artbook)return[];const e=[];for(const n of this.sceneJson.data.tags){const i=this.project.artbook.getTag(n);i&&e.push(i)}return e}get tags(){return this.getTags()}async generateTags(){Ae(()=>{this.is_generating_tags=!0});const e=`
${this.project?.projinfo?.data?.generate_tags_prompt}

SCRIPT:
${this.sceneJson?.data.script}

SHOTS JSON:
${this.sceneJson?.data.shotsjson}

REFS DICTIONARY:
${JSON.stringify(this.project?.artbook?.getJson(),null,2)}

`,n="You are a helpful assistant. Do not write explanations. ";try{const i=await Bd.txt2txt(e,n,this.project?.projinfo?.data.gpt_model);for(const r of i?.split(`
`)||[]){const a=r.trim();a&&(console.log("Adding Tag: ",a),this.addTag(a))}return i}catch(i){return console.error("Error generating tags:",i),null}finally{Ae(()=>{this.is_generating_tags=!1})}}addTag(e){Ae(()=>{this.sceneJson?.data.tags.includes(e)||(this.project?.artbook?.getTag(e)?(this.sceneJson?.data.tags.push(e),this.sceneJson?.save()):console.log("Tag not found: ",e))})}async generateAllShotImages(){Ae(()=>{this.is_generating_all_shot_images=!0});const e=this.shots.filter(n=>!n.srcImage).map(n=>n.GenerateImage());await Promise.all(e),Ae(()=>{this.is_generating_all_shot_images=!1})}async createResolveXML(){const e=new j4(this.folder.name);let n=1e3;for(const i of this.shots){let r="r1";if(i.srcImage){const u=this.project.projinfo?.getField("project_path")+i.srcImage.path;r=e.addAsset(u,i.folder.name)}if(i.outVideo){const u=this.project.projinfo?.getField("project_path")+i.outVideo.path,c=e.addAsset(u,i.folder.name);e.appendClip(c,i.folder.name,5,n,1)}e.appendClip(r,i.folder.name,5,n),e.appendText(this.folder.name+" "+i.folder.name,5,n),n+=5}e.log(),e.save(this.project.timelinesDirHandle)}}const Jv=(t,e)=>e.some(n=>t instanceof n);let eA,tA;function W4(){return eA||(eA=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Q4(){return tA||(tA=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Kv=new WeakMap,Ug=new WeakMap,Ah=new WeakMap;function Z4(t){const e=new Promise((n,i)=>{const r=()=>{t.removeEventListener("success",a),t.removeEventListener("error",u)},a=()=>{n(Gr(t.result)),r()},u=()=>{i(t.error),r()};t.addEventListener("success",a),t.addEventListener("error",u)});return Ah.set(e,t),e}function e6(t){if(Kv.has(t))return;const e=new Promise((n,i)=>{const r=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",u),t.removeEventListener("abort",u)},a=()=>{n(),r()},u=()=>{i(t.error||new DOMException("AbortError","AbortError")),r()};t.addEventListener("complete",a),t.addEventListener("error",u),t.addEventListener("abort",u)});Kv.set(t,e)}let Yv={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Kv.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Gr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function DI(t){Yv=t(Yv)}function t6(t){return Q4().includes(t)?function(...e){return t.apply(jv(this),e),Gr(this.request)}:function(...e){return Gr(t.apply(jv(this),e))}}function n6(t){return typeof t=="function"?t6(t):(t instanceof IDBTransaction&&e6(t),Jv(t,W4())?new Proxy(t,Yv):t)}function Gr(t){if(t instanceof IDBRequest)return Z4(t);if(Ug.has(t))return Ug.get(t);const e=n6(t);return e!==t&&(Ug.set(t,e),Ah.set(e,t)),e}const jv=t=>Ah.get(t);function i6(t,e,{blocked:n,upgrade:i,blocking:r,terminated:a}={}){const u=indexedDB.open(t,e),c=Gr(u);return i&&u.addEventListener("upgradeneeded",h=>{i(Gr(u.result),h.oldVersion,h.newVersion,Gr(u.transaction),h)}),n&&u.addEventListener("blocked",h=>n(h.oldVersion,h.newVersion,h)),c.then(h=>{a&&h.addEventListener("close",()=>a()),r&&h.addEventListener("versionchange",d=>r(d.oldVersion,d.newVersion,d))}).catch(()=>{}),c}const o6=["get","getKey","getAll","getAllKeys","count"],r6=["put","add","delete","clear"],Bg=new Map;function nA(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Bg.get(e))return Bg.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,r=r6.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(r||o6.includes(n)))return;const a=async function(u,...c){const h=this.transaction(u,r?"readwrite":"readonly");let d=h.store;return i&&(d=d.index(c.shift())),(await Promise.all([d[n](...c),r&&h.done]))[0]};return Bg.set(e,a),a}DI(t=>({...t,get:(e,n,i)=>nA(e,n)||t.get(e,n,i),has:(e,n)=>!!nA(e,n)||t.has(e,n)}));const s6=["continue","continuePrimaryKey","advance"],iA={},Xv=new WeakMap,OI=new WeakMap,a6={get(t,e){if(!s6.includes(e))return t[e];let n=iA[e];return n||(n=iA[e]=function(...i){Xv.set(this,OI.get(this)[e](...i))}),n}};async function*l6(...t){let e=this;if(e instanceof IDBCursor||(e=await e.openCursor(...t)),!e)return;e=e;const n=new Proxy(e,a6);for(OI.set(n,e),Ah.set(n,jv(e));e;)yield n,e=await(Xv.get(n)||e.continue()),Xv.delete(n)}function oA(t,e){return e===Symbol.asyncIterator&&Jv(t,[IDBIndex,IDBObjectStore,IDBCursor])||e==="iterate"&&Jv(t,[IDBIndex,IDBObjectStore])}DI(t=>({...t,get(e,n,i){return oA(e,n)?l6:t.get(e,n,i)},has(e,n){return oA(e,n)||t.has(e,n)}}));const u6="ShotMasterRE",Lf="settings";class c6{db=null;data={id:"settings",lastOpenedFolder:null,recentFolders:[],api_keys:{}};constructor(){Oi(this.data)}async getDB(){return this.db?this.db:(this.db=await i6(u6,1,{upgrade(e){e.objectStoreNames.contains(Lf)||e.createObjectStore(Lf,{keyPath:"id"})}}),this.db)}async load(){const n=await(await this.getDB()).get(Lf,"settings");return n&&Ae(()=>{Object.assign(this.data,n)}),this.data}async save(){const e=await this.getDB(),n=ir(this.data);await e.put(Lf,n)}async update(e){Ae(()=>e(this.data)),await this.save()}}class f6{fileHandle;text="";scenes=new Map;project=null;constructor(e,n=null){this.fileHandle=e,this.project=n,Oi(this,{},{autoBind:!0})}async load(){const e=await this.fileHandle.getFile();this.text=(await e.text()).replace(/\r\n/g,`
`),this.splitIntoScenes()}async save(){const e=await this.fileHandle.createWritable();await e.write(this.text),await e.close()}setText(e){this.text=e,this.splitIntoScenes()}splitIntoScenes(){this.scenes.clear();const e=/^SC_[^\n]{1,32}$/gm,n=[...this.text.matchAll(e)];if(n.length===0){this.scenes.set("",this.text);return}for(let i=0;i<n.length;i++){const r=n[i][0],a=n[i].index;if(i===0&&a>0){const h=this.text.slice(0,a);this.scenes.set("",h)}const u=i+1<n.length?n[i+1].index:this.text.length,c=this.text.slice(a,u);this.scenes.set(r,c)}}get sortedSceneKeys(){return Array.from(this.scenes.keys()).sort((e,n)=>e.localeCompare(n))}joinScenes(){let e="";for(const n of this.sortedSceneKeys)e+=this.scenes.get(n);return e}setSceneText(e,n){this.scenes.set(e,n),this.text=this.joinScenes(),this.splitIntoScenes()}async createScenes(){if(!this.project){console.error("Script has no project reference");return}for(const e of this.sortedSceneKeys){if(e==="")continue;const n=this.scenes.get(e)??"";try{const i=await this.project.createScene(e);if(!i){console.error(`Failed to create scene ${e}`);continue}i.sceneJson&&(i.sceneJson.data.script=n,await i.sceneJson.save())}catch(i){console.error(`Error creating scene ${e}:`,i)}}}}const d6={gpt_model:"gpt-4o-mini",describe_prompt:"        . ",generate_tags_prompt:`
     (SCRIPT)     (SHOTS JSON)        REFS DICTIONARY     .

     ,        ,      :
  ENV/ROOM1/Night.png
  CHAR/VICTOR/Portrait.png


  `,split_shot_prompt:`
       ,            json,     json   :
{
  "SHOT_010" : 
    {
    "prompt" : "     ", 
    "camera" : "focal length, shot type", 
    "action_description" : "     ", 
    },

}`,prompt_presets:{split_shots:{model:"gpt-4o",prompt:`
       ,            json,     json   :
{
  "SHOT_010" : 
    {
    "prompt" : "     ", 
    "camera" : "focal length, shot type", 
    "action_description" : "     ", 
    },

}`,system_message:"You are a helpful assistant. Always respond using ONLY valid JSON. Do not write explanations. Do not wrap the JSON in backticks. The entire response must be a valid JSON object."},generate_tags:{model:"gpt-4o",prompt:"Generate Tags ",system_message:"You are a tagger "}},workflows:{generate_shot_image:{model:"gemini-2.5-flash-image"},split_scene_into_shots:{model:"gpt-4o-mini",prompt:`
       ,            json,     json   :
{
  "SHOT_010" : 
    {
    "prompt" : "     ", 
    "camera" : "focal length, shot type", 
    "action_description" : "     ", 
    },

}`,system_message:"You are a helpful assistant. Always respond using ONLY valid JSON. Do not write explanations. Do not wrap the JSON in backticks. The entire response must be a valid JSON object."},generate_video_kling:{model:je.options.img2video.model.v2_6,mode:je.options.img2video.mode.std,duration:je.options.img2video.duration.five},kling_motion_control:{mode:je.options.motion_control.mode.std,character_orientation:je.options.motion_control.character_orientation.image,keep_original_sound:je.options.motion_control.keep_original_sound.no}}};class h6{rootDirHandle=null;scenes=[];artbook=null;script=null;userSettingsDB=new c6;projinfo=null;currentView={type:"none"};selectedScene=null;timelinesDirHandle=null;constructor(e=null){this.rootDirHandle=e,Oi(this)}async loadFromFolder(e){e&&(this.rootDirHandle=e,this.timelinesDirHandle=await this.rootDirHandle.getDirectoryHandle("Timelines",{create:!0}),Ae(async()=>{this.userSettingsDB.data.lastOpenedFolder=e,(await Promise.all(this.userSettingsDB.data.recentFolders.map(async i=>{try{return await i.isSameEntry(e)}catch{return!1}}))).includes(!0)||(this.userSettingsDB.data.recentFolders.push(e),this.userSettingsDB.data.recentFolders=this.userSettingsDB.data.recentFolders.slice(-5)),await this.userSettingsDB.save(),this.projinfo=await Xr.create(this.rootDirHandle,"projinfo.json",d6)}),await Promise.all([this.loadScenes(),this.loadArtbook(),this.loadScript()]))}async loadScenes(){if(this.rootDirHandle)try{const e=await this.rootDirHandle.getDirectoryHandle("SCENES",{create:!0}),n=[];for await(const i of e.values())if(i.kind==="directory"){const r=new ZT(i,this);await r.load(),n.push(r)}Ae(()=>{this.scenes=n})}catch(e){console.error("Error loading scenes:",e),Ae(()=>{this.scenes=[]})}}async loadArtbook(){if(this.rootDirHandle)try{const e=await this.rootDirHandle.getDirectoryHandle("REFS",{create:!0}),n=new K4(e,this);await n.load(),Ae(()=>{this.artbook=n})}catch(e){console.error("Error loading artbook:",e),Ae(()=>{this.artbook=null})}}async loadScript(){if(this.rootDirHandle)try{const e=await this.rootDirHandle.getFileHandle("script.txt",{create:!0}),n=new f6(e,this);await n.load(),Ae(()=>{this.script=n})}catch(e){console.error("Error loading script:",e),Ae(()=>{this.script=null})}}async loadDB(){await this.userSettingsDB.load(),co.getApiKey=()=>this.userSettingsDB.data.api_keys.Google_API_KEY||null,co.setApiKey=async e=>{await this.userSettingsDB.update(n=>{n.api_keys.Google_API_KEY=e})},Bd.getApiKey=()=>this.userSettingsDB.data.api_keys.GPT_API_KEY||null,Bd.setApiKey=async e=>{await this.userSettingsDB.update(n=>{n.api_keys.GPT_API_KEY=e})},je.getKeysDict=()=>({accessKey:this.userSettingsDB.data.api_keys.Kling_Acess_Key,secretKey:this.userSettingsDB.data.api_keys.Kling_Secret_Key})}async createScene(e){if(!this.rootDirHandle)return console.error("No project folder open"),null;const n=this.scenes.find(i=>i.folder.name===e);if(n)return n;try{const r=await(await this.rootDirHandle.getDirectoryHandle("SCENES",{create:!0})).getDirectoryHandle(e,{create:!0}),a=new ZT(r,this);return await a.load(),Ae(()=>{const u=this.scenes.findIndex(c=>c.folder.name.localeCompare(a.folder.name)>0);u===-1?this.scenes.push(a):this.scenes.splice(u,0,a)}),a}catch(i){return console.error("Failed to create scene:",i),null}}log(){console.log(ir(this))}setView(e,n=null){this.currentView=e,this.selectedScene=n}get promptPresets(){return this.projinfo?this.projinfo.data.prompt_presets:{}}savePromptPreset(e){Ae(()=>{this.projinfo&&(this.projinfo.data.prompt_presets[e.preset]=e,this.projinfo?.save())})}get workflows(){return this.projinfo?.data.workflows}updateWorkflow(e,n,i){Ae(()=>{this.workflows[e][n]=i,this.projinfo?.save()})}download_asset(e,n){const i=document.createElement("a");i.href=e,i.download=n,document.body.appendChild(i),i.click(),document.body.removeChild(i)}}const p6=({onOpenFolder:t,recentFolders:e,onOpenRecent:n,project:i})=>{const r=[{name:"Open",onClick:t},{name:"Recent",subItems:e.length?e.map(c=>({name:c.name,onClick:()=>n(c)})):[{name:"No Recent"}]}],a=[{name:"Undo"},{name:"Redo"}],u=[{name:"About"}];return E.jsx(Gw,{expand:!0,children:E.jsxs(tR,{fluid:!0,children:[E.jsx(Gw.Brand,{children:"ShotMasterRT"}),E.jsxs(mF,{className:"me-auto",style:{userSelect:"none"},children:[E.jsx(Ks,{title:"File",items:r}),E.jsx(Ks,{title:"Edit",items:a}),E.jsx(Ks,{title:"Help",items:u}),E.jsx(Ks,{title:"Settings",onClick:()=>i.setView({type:"settings"})}),E.jsx(Ks,{title:"Script",onClick:()=>i.setView({type:"script"})}),E.jsx(Ks,{title:"Artbook",onClick:()=>i.setView({type:"artbook"})})]})]})})},m6=ct(({scene:t})=>{const e=()=>{!t||!t.sceneJson||t.project?.setView({type:"scene"},t)},n=t.project?.selectedScene===t;return E.jsxs("li",{className:"d-flex justify-content-between align-items-center py-1 px-2",style:{cursor:"pointer"},onClick:e,children:[E.jsx("span",{className:n?"text-success":void 0,children:t.folder.name}),E.jsxs("span",{className:"text-muted",children:[t.finishedShotsNum," / ",t.shots.length]})]})}),ut=({onClick:t,label:e="Click",className:n=""})=>E.jsx("button",{className:`btn btn-sm btn-outline-secondary ${n}`,onClick:t,children:e}),g6=ct(({project:t})=>{if(!t)return E.jsx("div",{children:"No Project Opened"});const e=async()=>{const i=prompt("Enter new scene name");i&&await t.createScene(i)},n=t.rootDirHandle?.name||"No Project Opened";return E.jsxs("div",{style:{width:"200px",minWidth:"200px",borderRight:"1px solid #ced4da",padding:"10px",display:"flex",flexDirection:"column"},children:[E.jsx("h5",{style:{flexShrink:0,marginBottom:8},children:n}),E.jsx(ut,{label:"+ Add Scene",onClick:e,className:"mb-2"}),E.jsx("ul",{className:"list-unstyled",style:{margin:0,padding:0,overflowY:"auto",maxHeight:"calc(100vh - 100px)"},children:t.scenes.map((i,r)=>E.jsx(m6,{scene:i},r))})]})});class Uf extends w.Component{constructor(e){super(e),this.state={value:e.value}}handleChange=e=>{const n=e.target.value;this.setState({value:n}),this.props.onChange(n)};render(){const{label:e}=this.props,{value:n}=this.state;return E.jsxs("div",{style:{display:"flex",alignItems:"center",marginBottom:12},children:[E.jsx("label",{style:{marginRight:8,minWidth:120},children:e}),E.jsx("input",{type:"text",value:n,onChange:this.handleChange,style:{flexGrow:1,padding:6}})]})}}const Fu=({label:t="Section",children:e,defaultCollapsed:n=!1,className:i="",headerExtra:r})=>{const[a,u]=w.useState(n);return E.jsxs("div",{className:`border rounded p-2 mb-2 ${i}`,children:[E.jsxs("div",{className:"d-flex align-items-center justify-content-between mb-0",children:[E.jsxs("div",{className:"d-flex align-items-center",children:[E.jsx("button",{className:"btn btn-sm ",onClick:()=>u(!a),children:a?"":""}),E.jsx("strong",{children:t})]}),r&&!a&&E.jsx("div",{children:r})]}),!a&&E.jsx("div",{className:"mt-2",children:e})]})},Wv=({label:t,initialText:e,onSave:n,onEdit:i,fitHeight:r=!1,headerExtra:a})=>{const[u,c]=w.useState(e),[h,d]=w.useState(e),[m,y]=w.useState(!1),[S,b]=w.useState(!1),T=w.useRef(null);w.useEffect(()=>{c(e),d(e),r&&T.current&&(T.current.style.height="auto",T.current.style.height=`${T.current.scrollHeight}px`)},[e,r]);const A=u!==h,x=N=>{c(N),i&&i(N)},M=async()=>{n&&(b(!0),await n(u),d(u),b(!1))};w.useEffect(()=>{if(!m||!A)return;const N=setTimeout(()=>M(),1e3);return()=>clearTimeout(N)},[u,m,A]),w.useEffect(()=>{r&&T.current&&(T.current.style.height="auto",T.current.style.height=`${T.current.scrollHeight}px`)},[u,r]);const I=E.jsxs("div",{className:"d-flex align-items-center gap-2",children:[a&&E.jsx(E.Fragment,{children:a}),E.jsx("button",{className:"btn btn-primary btn-sm",disabled:S||!A||!n,onClick:M,children:S?"Saving...":A?"Save*":"Save"}),E.jsxs("label",{className:"d-flex align-items-center gap-1 mb-0",children:[E.jsx("input",{type:"checkbox",checked:m,onChange:N=>y(N.target.checked)}),"Auto-save"]})]});return E.jsx(Fu,{label:t,headerExtra:I,children:E.jsx("textarea",{ref:T,className:"form-control",style:{fontFamily:"monospace",overflowY:"auto",maxHeight:"800px"},value:u,onChange:N=>x(N.target.value)})})},Vt=ct(({localJson:t,field:e,fitHeight:n=!1,headerExtra:i})=>{if(!t)return;const r=async a=>{await t.updateField(e,a)};return E.jsx(Wv,{label:e,initialText:t.getField(e)??"",onSave:r,fitHeight:n,headerExtra:i})}),Ca=({tabs:t})=>{const e=Object.keys(t),[n,i]=w.useState(e[0]);return E.jsxs("div",{children:[E.jsx("ul",{className:"nav nav-tabs",children:e.map(r=>E.jsx("li",{className:"nav-item",children:E.jsx("button",{className:`nav-link ${n===r?"active":""}`,onClick:()=>i(r),children:r})},r))}),E.jsx("div",{className:"tab-content p-3 border border-top-0",children:E.jsx("div",{className:"tab-pane fade show active",children:t[n]})})]})};function PI({items:t,currentItem:e,onPicked:n,labelRenderer:i,className:r=""}){return E.jsxs(wf,{className:r,children:[E.jsx(wf.Toggle,{variant:"outline-secondary",size:"sm",children:i?i(e):String(e)}),E.jsx(wf.Menu,{children:t.map((a,u)=>E.jsx(wf.Item,{onClick:()=>n(a),children:i?i(a):String(a)},u))})]})}const v6=ct(({project:t})=>{const{userSettingsDB:e}=t;if(!e)return null;const n=t.projinfo?{"  ":E.jsx(Vt,{localJson:t.projinfo,field:"split_shot_prompt",fitHeight:!0})," ":E.jsx(Vt,{localJson:t.projinfo,field:"generate_tags_prompt",fitHeight:!0})}:{};return E.jsxs("div",{style:{padding:20},children:[E.jsx("h3",{children:"API Keys"}),E.jsx(ut,{onClick:()=>{t.log()},label:"LOG Project"}),E.jsx(ut,{onClick:()=>{t.download_asset("assets/server.exe","server.exe")},label:"Download Server"}),E.jsx(Vt,{localJson:t.projinfo,field:"project_path",fitHeight:!0}),E.jsx(Uf,{label:"GPT API Key",value:e.data.api_keys.GPT_API_KEY||"",onChange:async i=>{await e.update(r=>{r.api_keys.GPT_API_KEY=i})}}),E.jsx(Uf,{label:"Google API Key",value:e.data.api_keys.Google_API_KEY||"",onChange:async i=>{await e.update(r=>{r.api_keys.Google_API_KEY=i})}}),E.jsx(Uf,{label:"Kling Acess Key",value:e.data.api_keys.Kling_Acess_Key||"",onChange:async i=>{await e.update(r=>{r.api_keys.Kling_Acess_Key=i})}}),E.jsx(Uf,{label:"Kling Secret Key",value:e.data.api_keys.Kling_Secret_Key||"",onChange:async i=>{await e.update(r=>{r.api_keys.Kling_Secret_Key=i})}}),E.jsx("div",{children:E.jsx(PI,{items:II,currentItem:t.projinfo?.data.gpt_model,onPicked:i=>{t.projinfo?.updateField("gpt_model",i)}})}),E.jsx("h2",{children:"Prompts"}),Object.keys(n).length>0&&E.jsx(Ca,{tabs:n})]})}),y6=ct(({project:t})=>{if(!t.script)return E.jsx("div",{children:"No script loaded in project."});const e=async r=>{t.script.setText(r),await t.script.save()},n={};for(const r of t.script.sortedSceneKeys)n[r||"Intro"]=E.jsx(Wv,{label:r||"Intro",initialText:t.script.scenes.get(r),onSave:async a=>{t.script.setSceneText(r,a),await t.script.save()},fitHeight:!0});const i=async()=>{try{await t.script.createScenes(),alert("Scenes created successfully!")}catch(r){console.error("Error creating scenes:",r),alert("Failed to create scenes. See console for details.")}};return E.jsxs("div",{style:{padding:"1rem"},children:[E.jsx("h4",{children:"Script"}),E.jsx(ut,{label:"Create Scenes from Script",onClick:i,className:"mb-2"}),E.jsx(Ca,{tabs:{"Full Script":E.jsx(Wv,{label:"Full Script",initialText:t.script.text,onSave:e,fitHeight:!0}),Scenes:E.jsx(Ca,{tabs:n})}})]})}),_6=ct(({art:t,onClose:e})=>{const[n,i]=w.useState(null),[r,a]=w.useState(!0);w.useEffect(()=>{let c=!0,h=t;a(!0),i(null);async function d(){const m=await h.image.getUrlObject();if(!c||t!==h)return;i(m);const y=await h.getArtInfo();!c||t!==h||(h.artInfo=y,a(!1))}return d(),()=>{c=!1}},[t]);const u=t.handle.name;return r?E.jsx("div",{children:"Loading art info..."}):E.jsxs("div",{className:"art-info-card",style:{border:"1px solid #ccc",padding:"1rem",borderRadius:"8px"},children:[E.jsxs("div",{className:"card-header",style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[E.jsx("strong",{children:u}),E.jsx("button",{onClick:e,style:{cursor:"pointer",border:"none",background:"transparent",fontSize:"1.2rem"},children:""})]}),n?E.jsx("img",{src:n,className:"preview-img",style:{maxWidth:"1000px",width:"auto",maxHeight:"1000px",objectFit:"contain",borderRadius:"4px",display:"block",marginBottom:"1rem"}}):E.jsx("div",{style:{padding:"4rem",textAlign:"center"},children:E.jsx("span",{children:"Loading image..."})}),t.artInfo&&E.jsx(Vt,{localJson:t.artInfo,field:"prompt",fitHeight:!0})]})}),S6=ct(({artbook:t})=>{const[e,n]=w.useState(null);if(!Object.keys(t.data).length)return E.jsx("div",{children:"No Artbook content found."});const i=({art:c})=>{const[h,d]=w.useState(null);return w.useEffect(()=>{let m=!0;return c.image.getUrlObject().then(y=>{m&&d(y)}),()=>{m=!1}},[c]),E.jsx(eR,{xs:6,md:3,lg:2,style:{marginBottom:"1rem"},children:E.jsxs(bf,{onClick:()=>n(c),style:{cursor:"pointer"},children:[h?E.jsx(bf.Img,{variant:"top",src:h}):E.jsx("div",{style:{padding:"2rem",textAlign:"center"},children:E.jsx(tM,{animation:"border"})}),E.jsx(bf.Body,{children:E.jsx(bf.Text,{style:{fontSize:"0.8rem"},children:c.handle.name})})]})})},r=(c,h)=>E.jsxs("div",{style:{marginBottom:"2rem"},children:[E.jsx("h5",{children:c}),E.jsx(eM,{children:h.map(d=>E.jsx(i,{art:d},d.handle.name))}),e&&h.includes(e)&&E.jsx("div",{style:{marginTop:"1rem"},children:E.jsx(_6,{art:e,onClose:()=>n(null)})})]},c),a=c=>E.jsxs("div",{style:{padding:"1rem"},children:[Object.entries(c).map(([h,d])=>r(h,d)),E.jsx("div",{style:{height:"500px"}})]}),u={};for(const c in t.data)u[c]=a(t.data[c]);return E.jsxs("div",{style:{padding:"1rem"},children:[E.jsx("h2",{className:"mb-3",children:"Artbook"}),E.jsx(Ca,{tabs:u})]})}),b6=ct(({art:t,scene:e})=>{const[n,i]=w.useState(null);if(w.useEffect(()=>{t.getArtInfo();let a=!0;return(async()=>{const c=await t.image.getUrlObject();a&&i(c||null)})(),()=>{a=!1,t.image.revokeUrl()}},[t]),!n)return null;const r=()=>{e.removeTag(t.path)};return E.jsxs("div",{className:"d-flex align-items-center justify-content-between",children:[E.jsxs("div",{className:"d-flex align-items-center",children:[E.jsx("img",{src:n,alt:t.handle.name,style:{width:40,height:40,objectFit:"cover",marginRight:8}}),E.jsxs("div",{children:[E.jsx("div",{children:t.handle.name}),E.jsx("small",{className:"text-muted",children:t.path}),t.artInfo&&E.jsx("div",{children:E.jsx("small",{children:t.artInfo.data?.description||""})})]})]}),E.jsx(ut,{onClick:r,label:"X"})]})}),E6=({art:t,onClick:e})=>{const[n,i]=w.useState("");return w.useEffect(()=>{let r=!0;return t.image.getUrlObject().then(a=>{r&&i(a)}),()=>{r=!1,t.image.revokeUrl()}},[t]),E.jsxs("div",{className:"px-2 py-1 hover-bg-light d-flex align-items-center",style:{cursor:"pointer",gap:6},onClick:e,children:[n&&E.jsx("img",{src:n,alt:t.handle.name,style:{width:36,height:36,objectFit:"cover",borderRadius:2}}),E.jsx("span",{children:t.handle.name})]})},xh=({onClick:t,label:e="Click",className:n="",is_loading:i=!1})=>E.jsx(ut,{onClick:t,className:`${n} ${i?"disabled":""}`,label:E.jsxs("span",{className:"d-flex align-items-center justify-content-center",children:[E.jsx("span",{className:"spinner-border spinner-border-sm me-2",role:"status","aria-hidden":"true",style:{animation:i?void 0:"none",borderColor:i?void 0:"#6c757d"}}),E.jsx("span",{children:e})]})});function Fe(t,e,{checkForDefaultPrevented:n=!0}={}){return function(r){if(t?.(r),n===!1||!r.defaultPrevented)return e?.(r)}}function rA(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function Rh(...t){return e=>{let n=!1;const i=t.map(r=>{const a=rA(r,e);return!n&&typeof a=="function"&&(n=!0),a});if(n)return()=>{for(let r=0;r<i.length;r++){const a=i[r];typeof a=="function"?a():rA(t[r],null)}}}}function on(...t){return w.useCallback(Rh(...t),t)}function $u(t,e=[]){let n=[];function i(a,u){const c=w.createContext(u),h=n.length;n=[...n,u];const d=y=>{const{scope:S,children:b,...T}=y,A=S?.[t]?.[h]||c,x=w.useMemo(()=>T,Object.values(T));return E.jsx(A.Provider,{value:x,children:b})};d.displayName=a+"Provider";function m(y,S){const b=S?.[t]?.[h]||c,T=w.useContext(b);if(T)return T;if(u!==void 0)return u;throw new Error(`\`${y}\` must be used within \`${a}\``)}return[d,m]}const r=()=>{const a=n.map(u=>w.createContext(u));return function(c){const h=c?.[t]||a;return w.useMemo(()=>({[`__scope${t}`]:{...c,[t]:h}}),[c,h])}};return r.scopeName=t,[i,w6(r,...e)]}function w6(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const i=t.map(r=>({useScope:r(),scopeName:r.scopeName}));return function(a){const u=i.reduce((c,{useScope:h,scopeName:d})=>{const y=h(a)[`__scope${d}`];return{...c,...y}},{});return w.useMemo(()=>({[`__scope${e.scopeName}`]:u}),[u])}};return n.scopeName=e.scopeName,n}var rr=globalThis?.document?w.useLayoutEffect:()=>{},C6=$A[" useInsertionEffect ".trim().toString()]||rr;function h_({prop:t,defaultProp:e,onChange:n=()=>{},caller:i}){const[r,a,u]=T6({defaultProp:e,onChange:n}),c=t!==void 0,h=c?t:r;{const m=w.useRef(t!==void 0);w.useEffect(()=>{const y=m.current;y!==c&&console.warn(`${i} is changing from ${y?"controlled":"uncontrolled"} to ${c?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),m.current=c},[c,i])}const d=w.useCallback(m=>{if(c){const y=A6(m)?m(t):m;y!==t&&u.current?.(y)}else a(m)},[c,t,a,u]);return[h,d]}function T6({defaultProp:t,onChange:e}){const[n,i]=w.useState(t),r=w.useRef(n),a=w.useRef(e);return C6(()=>{a.current=e},[e]),w.useEffect(()=>{r.current!==n&&(a.current?.(n),r.current=n)},[n,r]),[n,i,a]}function A6(t){return typeof t=="function"}function Fd(t){const e=x6(t),n=w.forwardRef((i,r)=>{const{children:a,...u}=i,c=w.Children.toArray(a),h=c.find(M6);if(h){const d=h.props.children,m=c.map(y=>y===h?w.Children.count(d)>1?w.Children.only(null):w.isValidElement(d)?d.props.children:null:y);return E.jsx(e,{...u,ref:r,children:w.isValidElement(d)?w.cloneElement(d,void 0,m):null})}return E.jsx(e,{...u,ref:r,children:a})});return n.displayName=`${t}.Slot`,n}function x6(t){const e=w.forwardRef((n,i)=>{const{children:r,...a}=n;if(w.isValidElement(r)){const u=I6(r),c=N6(a,r.props);return r.type!==w.Fragment&&(c.ref=i?Rh(i,u):u),w.cloneElement(r,c)}return w.Children.count(r)>1?w.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var R6=Symbol("radix.slottable");function M6(t){return w.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===R6}function N6(t,e){const n={...e};for(const i in e){const r=t[i],a=e[i];/^on[A-Z]/.test(i)?r&&a?n[i]=(...c)=>{const h=a(...c);return r(...c),h}:r&&(n[i]=r):i==="style"?n[i]={...r,...a}:i==="className"&&(n[i]=[r,a].filter(Boolean).join(" "))}return{...t,...n}}function I6(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var D6=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],zt=D6.reduce((t,e)=>{const n=Fd(`Primitive.${e}`),i=w.forwardRef((r,a)=>{const{asChild:u,...c}=r,h=u?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),E.jsx(h,{...c,ref:a})});return i.displayName=`Primitive.${e}`,{...t,[e]:i}},{});function kI(t,e){t&&eh.flushSync(()=>t.dispatchEvent(e))}function LI(t){const e=t+"CollectionProvider",[n,i]=$u(e),[r,a]=n(e,{collectionRef:{current:null},itemMap:new Map}),u=A=>{const{scope:x,children:M}=A,I=tt.useRef(null),N=tt.useRef(new Map).current;return E.jsx(r,{scope:x,itemMap:N,collectionRef:I,children:M})};u.displayName=e;const c=t+"CollectionSlot",h=Fd(c),d=tt.forwardRef((A,x)=>{const{scope:M,children:I}=A,N=a(c,M),D=on(x,N.collectionRef);return E.jsx(h,{ref:D,children:I})});d.displayName=c;const m=t+"CollectionItemSlot",y="data-radix-collection-item",S=Fd(m),b=tt.forwardRef((A,x)=>{const{scope:M,children:I,...N}=A,D=tt.useRef(null),L=on(x,D),U=a(m,M);return tt.useEffect(()=>(U.itemMap.set(D,{ref:D,...N}),()=>void U.itemMap.delete(D))),E.jsx(S,{[y]:"",ref:L,children:I})});b.displayName=m;function T(A){const x=a(t+"CollectionConsumer",A);return tt.useCallback(()=>{const I=x.collectionRef.current;if(!I)return[];const N=Array.from(I.querySelectorAll(`[${y}]`));return Array.from(x.itemMap.values()).sort((U,O)=>N.indexOf(U.ref.current)-N.indexOf(O.ref.current))},[x.collectionRef,x.itemMap])}return[{Provider:u,Slot:d,ItemSlot:b},T,i]}var O6=w.createContext(void 0);function UI(t){const e=w.useContext(O6);return t||e||"ltr"}function Ii(t){const e=w.useRef(t);return w.useEffect(()=>{e.current=t}),w.useMemo(()=>(...n)=>e.current?.(...n),[])}function P6(t,e=globalThis?.document){const n=Ii(t);w.useEffect(()=>{const i=r=>{r.key==="Escape"&&n(r)};return e.addEventListener("keydown",i,{capture:!0}),()=>e.removeEventListener("keydown",i,{capture:!0})},[n,e])}var k6="DismissableLayer",Qv="dismissableLayer.update",L6="dismissableLayer.pointerDownOutside",U6="dismissableLayer.focusOutside",sA,BI=w.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),FI=w.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:i,onPointerDownOutside:r,onFocusOutside:a,onInteractOutside:u,onDismiss:c,...h}=t,d=w.useContext(BI),[m,y]=w.useState(null),S=m?.ownerDocument??globalThis?.document,[,b]=w.useState({}),T=on(e,O=>y(O)),A=Array.from(d.layers),[x]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),M=A.indexOf(x),I=m?A.indexOf(m):-1,N=d.layersWithOutsidePointerEventsDisabled.size>0,D=I>=M,L=$6(O=>{const q=O.target,J=[...d.branches].some(j=>j.contains(q));!D||J||(r?.(O),u?.(O),O.defaultPrevented||c?.())},S),U=H6(O=>{const q=O.target;[...d.branches].some(j=>j.contains(q))||(a?.(O),u?.(O),O.defaultPrevented||c?.())},S);return P6(O=>{I===d.layers.size-1&&(i?.(O),!O.defaultPrevented&&c&&(O.preventDefault(),c()))},S),w.useEffect(()=>{if(m)return n&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(sA=S.body.style.pointerEvents,S.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(m)),d.layers.add(m),aA(),()=>{n&&d.layersWithOutsidePointerEventsDisabled.size===1&&(S.body.style.pointerEvents=sA)}},[m,S,n,d]),w.useEffect(()=>()=>{m&&(d.layers.delete(m),d.layersWithOutsidePointerEventsDisabled.delete(m),aA())},[m,d]),w.useEffect(()=>{const O=()=>b({});return document.addEventListener(Qv,O),()=>document.removeEventListener(Qv,O)},[]),E.jsx(zt.div,{...h,ref:T,style:{pointerEvents:N?D?"auto":"none":void 0,...t.style},onFocusCapture:Fe(t.onFocusCapture,U.onFocusCapture),onBlurCapture:Fe(t.onBlurCapture,U.onBlurCapture),onPointerDownCapture:Fe(t.onPointerDownCapture,L.onPointerDownCapture)})});FI.displayName=k6;var B6="DismissableLayerBranch",F6=w.forwardRef((t,e)=>{const n=w.useContext(BI),i=w.useRef(null),r=on(e,i);return w.useEffect(()=>{const a=i.current;if(a)return n.branches.add(a),()=>{n.branches.delete(a)}},[n.branches]),E.jsx(zt.div,{...t,ref:r})});F6.displayName=B6;function $6(t,e=globalThis?.document){const n=Ii(t),i=w.useRef(!1),r=w.useRef(()=>{});return w.useEffect(()=>{const a=c=>{if(c.target&&!i.current){let h=function(){$I(L6,n,d,{discrete:!0})};const d={originalEvent:c};c.pointerType==="touch"?(e.removeEventListener("click",r.current),r.current=h,e.addEventListener("click",r.current,{once:!0})):h()}else e.removeEventListener("click",r.current);i.current=!1},u=window.setTimeout(()=>{e.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(u),e.removeEventListener("pointerdown",a),e.removeEventListener("click",r.current)}},[e,n]),{onPointerDownCapture:()=>i.current=!0}}function H6(t,e=globalThis?.document){const n=Ii(t),i=w.useRef(!1);return w.useEffect(()=>{const r=a=>{a.target&&!i.current&&$I(U6,n,{originalEvent:a},{discrete:!1})};return e.addEventListener("focusin",r),()=>e.removeEventListener("focusin",r)},[e,n]),{onFocusCapture:()=>i.current=!0,onBlurCapture:()=>i.current=!1}}function aA(){const t=new CustomEvent(Qv);document.dispatchEvent(t)}function $I(t,e,n,{discrete:i}){const r=n.originalEvent.target,a=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&r.addEventListener(t,e,{once:!0}),i?kI(r,a):r.dispatchEvent(a)}var Fg=0;function G6(){w.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??lA()),document.body.insertAdjacentElement("beforeend",t[1]??lA()),Fg++,()=>{Fg===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Fg--}},[])}function lA(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var $g="focusScope.autoFocusOnMount",Hg="focusScope.autoFocusOnUnmount",uA={bubbles:!1,cancelable:!0},V6="FocusScope",HI=w.forwardRef((t,e)=>{const{loop:n=!1,trapped:i=!1,onMountAutoFocus:r,onUnmountAutoFocus:a,...u}=t,[c,h]=w.useState(null),d=Ii(r),m=Ii(a),y=w.useRef(null),S=on(e,A=>h(A)),b=w.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;w.useEffect(()=>{if(i){let A=function(N){if(b.paused||!c)return;const D=N.target;c.contains(D)?y.current=D:Xo(y.current,{select:!0})},x=function(N){if(b.paused||!c)return;const D=N.relatedTarget;D!==null&&(c.contains(D)||Xo(y.current,{select:!0}))},M=function(N){if(document.activeElement===document.body)for(const L of N)L.removedNodes.length>0&&Xo(c)};document.addEventListener("focusin",A),document.addEventListener("focusout",x);const I=new MutationObserver(M);return c&&I.observe(c,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",A),document.removeEventListener("focusout",x),I.disconnect()}}},[i,c,b.paused]),w.useEffect(()=>{if(c){fA.add(b);const A=document.activeElement;if(!c.contains(A)){const M=new CustomEvent($g,uA);c.addEventListener($g,d),c.dispatchEvent(M),M.defaultPrevented||(z6(j6(GI(c)),{select:!0}),document.activeElement===A&&Xo(c))}return()=>{c.removeEventListener($g,d),setTimeout(()=>{const M=new CustomEvent(Hg,uA);c.addEventListener(Hg,m),c.dispatchEvent(M),M.defaultPrevented||Xo(A??document.body,{select:!0}),c.removeEventListener(Hg,m),fA.remove(b)},0)}}},[c,d,m,b]);const T=w.useCallback(A=>{if(!n&&!i||b.paused)return;const x=A.key==="Tab"&&!A.altKey&&!A.ctrlKey&&!A.metaKey,M=document.activeElement;if(x&&M){const I=A.currentTarget,[N,D]=q6(I);N&&D?!A.shiftKey&&M===D?(A.preventDefault(),n&&Xo(N,{select:!0})):A.shiftKey&&M===N&&(A.preventDefault(),n&&Xo(D,{select:!0})):M===I&&A.preventDefault()}},[n,i,b.paused]);return E.jsx(zt.div,{tabIndex:-1,...u,ref:S,onKeyDown:T})});HI.displayName=V6;function z6(t,{select:e=!1}={}){const n=document.activeElement;for(const i of t)if(Xo(i,{select:e}),document.activeElement!==n)return}function q6(t){const e=GI(t),n=cA(e,t),i=cA(e.reverse(),t);return[n,i]}function GI(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:i=>{const r=i.tagName==="INPUT"&&i.type==="hidden";return i.disabled||i.hidden||r?NodeFilter.FILTER_SKIP:i.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function cA(t,e){for(const n of t)if(!J6(n,{upTo:e}))return n}function J6(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function K6(t){return t instanceof HTMLInputElement&&"select"in t}function Xo(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&K6(t)&&e&&t.select()}}var fA=Y6();function Y6(){let t=[];return{add(e){const n=t[0];e!==n&&n?.pause(),t=dA(t,e),t.unshift(e)},remove(e){t=dA(t,e),t[0]?.resume()}}}function dA(t,e){const n=[...t],i=n.indexOf(e);return i!==-1&&n.splice(i,1),n}function j6(t){return t.filter(e=>e.tagName!=="A")}var X6=$A[" useId ".trim().toString()]||(()=>{}),W6=0;function hu(t){const[e,n]=w.useState(X6());return rr(()=>{n(i=>i??String(W6++))},[t]),t||(e?`radix-${e}`:"")}const Q6=["top","right","bottom","left"],sr=Math.min,yn=Math.max,$d=Math.round,Bf=Math.floor,Ni=t=>({x:t,y:t}),Z6={left:"right",right:"left",bottom:"top",top:"bottom"},e5={start:"end",end:"start"};function Zv(t,e,n){return yn(t,sr(e,n))}function go(t,e){return typeof t=="function"?t(e):t}function vo(t){return t.split("-")[0]}function ka(t){return t.split("-")[1]}function p_(t){return t==="x"?"y":"x"}function m_(t){return t==="y"?"height":"width"}const t5=new Set(["top","bottom"]);function wi(t){return t5.has(vo(t))?"y":"x"}function g_(t){return p_(wi(t))}function n5(t,e,n){n===void 0&&(n=!1);const i=ka(t),r=g_(t),a=m_(r);let u=r==="x"?i===(n?"end":"start")?"right":"left":i==="start"?"bottom":"top";return e.reference[a]>e.floating[a]&&(u=Hd(u)),[u,Hd(u)]}function i5(t){const e=Hd(t);return[ey(t),e,ey(e)]}function ey(t){return t.replace(/start|end/g,e=>e5[e])}const hA=["left","right"],pA=["right","left"],o5=["top","bottom"],r5=["bottom","top"];function s5(t,e,n){switch(t){case"top":case"bottom":return n?e?pA:hA:e?hA:pA;case"left":case"right":return e?o5:r5;default:return[]}}function a5(t,e,n,i){const r=ka(t);let a=s5(vo(t),n==="start",i);return r&&(a=a.map(u=>u+"-"+r),e&&(a=a.concat(a.map(ey)))),a}function Hd(t){return t.replace(/left|right|bottom|top/g,e=>Z6[e])}function l5(t){return{top:0,right:0,bottom:0,left:0,...t}}function VI(t){return typeof t!="number"?l5(t):{top:t,right:t,bottom:t,left:t}}function Gd(t){const{x:e,y:n,width:i,height:r}=t;return{width:i,height:r,top:n,left:e,right:e+i,bottom:n+r,x:e,y:n}}function mA(t,e,n){let{reference:i,floating:r}=t;const a=wi(e),u=g_(e),c=m_(u),h=vo(e),d=a==="y",m=i.x+i.width/2-r.width/2,y=i.y+i.height/2-r.height/2,S=i[c]/2-r[c]/2;let b;switch(h){case"top":b={x:m,y:i.y-r.height};break;case"bottom":b={x:m,y:i.y+i.height};break;case"right":b={x:i.x+i.width,y};break;case"left":b={x:i.x-r.width,y};break;default:b={x:i.x,y:i.y}}switch(ka(e)){case"start":b[u]-=S*(n&&d?-1:1);break;case"end":b[u]+=S*(n&&d?-1:1);break}return b}const u5=async(t,e,n)=>{const{placement:i="bottom",strategy:r="absolute",middleware:a=[],platform:u}=n,c=a.filter(Boolean),h=await(u.isRTL==null?void 0:u.isRTL(e));let d=await u.getElementRects({reference:t,floating:e,strategy:r}),{x:m,y}=mA(d,i,h),S=i,b={},T=0;for(let A=0;A<c.length;A++){const{name:x,fn:M}=c[A],{x:I,y:N,data:D,reset:L}=await M({x:m,y,initialPlacement:i,placement:S,strategy:r,middlewareData:b,rects:d,platform:u,elements:{reference:t,floating:e}});m=I??m,y=N??y,b={...b,[x]:{...b[x],...D}},L&&T<=50&&(T++,typeof L=="object"&&(L.placement&&(S=L.placement),L.rects&&(d=L.rects===!0?await u.getElementRects({reference:t,floating:e,strategy:r}):L.rects),{x:m,y}=mA(d,S,h)),A=-1)}return{x:m,y,placement:S,strategy:r,middlewareData:b}};async function pu(t,e){var n;e===void 0&&(e={});const{x:i,y:r,platform:a,rects:u,elements:c,strategy:h}=t,{boundary:d="clippingAncestors",rootBoundary:m="viewport",elementContext:y="floating",altBoundary:S=!1,padding:b=0}=go(e,t),T=VI(b),x=c[S?y==="floating"?"reference":"floating":y],M=Gd(await a.getClippingRect({element:(n=await(a.isElement==null?void 0:a.isElement(x)))==null||n?x:x.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(c.floating)),boundary:d,rootBoundary:m,strategy:h})),I=y==="floating"?{x:i,y:r,width:u.floating.width,height:u.floating.height}:u.reference,N=await(a.getOffsetParent==null?void 0:a.getOffsetParent(c.floating)),D=await(a.isElement==null?void 0:a.isElement(N))?await(a.getScale==null?void 0:a.getScale(N))||{x:1,y:1}:{x:1,y:1},L=Gd(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:I,offsetParent:N,strategy:h}):I);return{top:(M.top-L.top+T.top)/D.y,bottom:(L.bottom-M.bottom+T.bottom)/D.y,left:(M.left-L.left+T.left)/D.x,right:(L.right-M.right+T.right)/D.x}}const c5=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:i,placement:r,rects:a,platform:u,elements:c,middlewareData:h}=e,{element:d,padding:m=0}=go(t,e)||{};if(d==null)return{};const y=VI(m),S={x:n,y:i},b=g_(r),T=m_(b),A=await u.getDimensions(d),x=b==="y",M=x?"top":"left",I=x?"bottom":"right",N=x?"clientHeight":"clientWidth",D=a.reference[T]+a.reference[b]-S[b]-a.floating[T],L=S[b]-a.reference[b],U=await(u.getOffsetParent==null?void 0:u.getOffsetParent(d));let O=U?U[N]:0;(!O||!await(u.isElement==null?void 0:u.isElement(U)))&&(O=c.floating[N]||a.floating[T]);const q=D/2-L/2,J=O/2-A[T]/2-1,j=sr(y[M],J),W=sr(y[I],J),re=j,ie=O-A[T]-W,ae=O/2-A[T]/2+q,de=Zv(re,ae,ie),F=!h.arrow&&ka(r)!=null&&ae!==de&&a.reference[T]/2-(ae<re?j:W)-A[T]/2<0,Q=F?ae<re?ae-re:ae-ie:0;return{[b]:S[b]+Q,data:{[b]:de,centerOffset:ae-de-Q,...F&&{alignmentOffset:Q}},reset:F}}}),f5=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,i;const{placement:r,middlewareData:a,rects:u,initialPlacement:c,platform:h,elements:d}=e,{mainAxis:m=!0,crossAxis:y=!0,fallbackPlacements:S,fallbackStrategy:b="bestFit",fallbackAxisSideDirection:T="none",flipAlignment:A=!0,...x}=go(t,e);if((n=a.arrow)!=null&&n.alignmentOffset)return{};const M=vo(r),I=wi(c),N=vo(c)===c,D=await(h.isRTL==null?void 0:h.isRTL(d.floating)),L=S||(N||!A?[Hd(c)]:i5(c)),U=T!=="none";!S&&U&&L.push(...a5(c,A,T,D));const O=[c,...L],q=await pu(e,x),J=[];let j=((i=a.flip)==null?void 0:i.overflows)||[];if(m&&J.push(q[M]),y){const ae=n5(r,u,D);J.push(q[ae[0]],q[ae[1]])}if(j=[...j,{placement:r,overflows:J}],!J.every(ae=>ae<=0)){var W,re;const ae=(((W=a.flip)==null?void 0:W.index)||0)+1,de=O[ae];if(de&&(!(y==="alignment"?I!==wi(de):!1)||j.every(ee=>wi(ee.placement)===I?ee.overflows[0]>0:!0)))return{data:{index:ae,overflows:j},reset:{placement:de}};let F=(re=j.filter(Q=>Q.overflows[0]<=0).sort((Q,ee)=>Q.overflows[1]-ee.overflows[1])[0])==null?void 0:re.placement;if(!F)switch(b){case"bestFit":{var ie;const Q=(ie=j.filter(ee=>{if(U){const ne=wi(ee.placement);return ne===I||ne==="y"}return!0}).map(ee=>[ee.placement,ee.overflows.filter(ne=>ne>0).reduce((ne,ce)=>ne+ce,0)]).sort((ee,ne)=>ee[1]-ne[1])[0])==null?void 0:ie[0];Q&&(F=Q);break}case"initialPlacement":F=c;break}if(r!==F)return{reset:{placement:F}}}return{}}}};function gA(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function vA(t){return Q6.some(e=>t[e]>=0)}const d5=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:i="referenceHidden",...r}=go(t,e);switch(i){case"referenceHidden":{const a=await pu(e,{...r,elementContext:"reference"}),u=gA(a,n.reference);return{data:{referenceHiddenOffsets:u,referenceHidden:vA(u)}}}case"escaped":{const a=await pu(e,{...r,altBoundary:!0}),u=gA(a,n.floating);return{data:{escapedOffsets:u,escaped:vA(u)}}}default:return{}}}}},zI=new Set(["left","top"]);async function h5(t,e){const{placement:n,platform:i,elements:r}=t,a=await(i.isRTL==null?void 0:i.isRTL(r.floating)),u=vo(n),c=ka(n),h=wi(n)==="y",d=zI.has(u)?-1:1,m=a&&h?-1:1,y=go(e,t);let{mainAxis:S,crossAxis:b,alignmentAxis:T}=typeof y=="number"?{mainAxis:y,crossAxis:0,alignmentAxis:null}:{mainAxis:y.mainAxis||0,crossAxis:y.crossAxis||0,alignmentAxis:y.alignmentAxis};return c&&typeof T=="number"&&(b=c==="end"?T*-1:T),h?{x:b*m,y:S*d}:{x:S*d,y:b*m}}const p5=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,i;const{x:r,y:a,placement:u,middlewareData:c}=e,h=await h5(e,t);return u===((n=c.offset)==null?void 0:n.placement)&&(i=c.arrow)!=null&&i.alignmentOffset?{}:{x:r+h.x,y:a+h.y,data:{...h,placement:u}}}}},m5=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:i,placement:r}=e,{mainAxis:a=!0,crossAxis:u=!1,limiter:c={fn:x=>{let{x:M,y:I}=x;return{x:M,y:I}}},...h}=go(t,e),d={x:n,y:i},m=await pu(e,h),y=wi(vo(r)),S=p_(y);let b=d[S],T=d[y];if(a){const x=S==="y"?"top":"left",M=S==="y"?"bottom":"right",I=b+m[x],N=b-m[M];b=Zv(I,b,N)}if(u){const x=y==="y"?"top":"left",M=y==="y"?"bottom":"right",I=T+m[x],N=T-m[M];T=Zv(I,T,N)}const A=c.fn({...e,[S]:b,[y]:T});return{...A,data:{x:A.x-n,y:A.y-i,enabled:{[S]:a,[y]:u}}}}}},g5=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:i,placement:r,rects:a,middlewareData:u}=e,{offset:c=0,mainAxis:h=!0,crossAxis:d=!0}=go(t,e),m={x:n,y:i},y=wi(r),S=p_(y);let b=m[S],T=m[y];const A=go(c,e),x=typeof A=="number"?{mainAxis:A,crossAxis:0}:{mainAxis:0,crossAxis:0,...A};if(h){const N=S==="y"?"height":"width",D=a.reference[S]-a.floating[N]+x.mainAxis,L=a.reference[S]+a.reference[N]-x.mainAxis;b<D?b=D:b>L&&(b=L)}if(d){var M,I;const N=S==="y"?"width":"height",D=zI.has(vo(r)),L=a.reference[y]-a.floating[N]+(D&&((M=u.offset)==null?void 0:M[y])||0)+(D?0:x.crossAxis),U=a.reference[y]+a.reference[N]+(D?0:((I=u.offset)==null?void 0:I[y])||0)-(D?x.crossAxis:0);T<L?T=L:T>U&&(T=U)}return{[S]:b,[y]:T}}}},v5=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,i;const{placement:r,rects:a,platform:u,elements:c}=e,{apply:h=()=>{},...d}=go(t,e),m=await pu(e,d),y=vo(r),S=ka(r),b=wi(r)==="y",{width:T,height:A}=a.floating;let x,M;y==="top"||y==="bottom"?(x=y,M=S===(await(u.isRTL==null?void 0:u.isRTL(c.floating))?"start":"end")?"left":"right"):(M=y,x=S==="end"?"top":"bottom");const I=A-m.top-m.bottom,N=T-m.left-m.right,D=sr(A-m[x],I),L=sr(T-m[M],N),U=!e.middlewareData.shift;let O=D,q=L;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(q=N),(i=e.middlewareData.shift)!=null&&i.enabled.y&&(O=I),U&&!S){const j=yn(m.left,0),W=yn(m.right,0),re=yn(m.top,0),ie=yn(m.bottom,0);b?q=T-2*(j!==0||W!==0?j+W:yn(m.left,m.right)):O=A-2*(re!==0||ie!==0?re+ie:yn(m.top,m.bottom))}await h({...e,availableWidth:q,availableHeight:O});const J=await u.getDimensions(c.floating);return T!==J.width||A!==J.height?{reset:{rects:!0}}:{}}}};function Mh(){return typeof window<"u"}function La(t){return qI(t)?(t.nodeName||"").toLowerCase():"#document"}function bn(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Pi(t){var e;return(e=(qI(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function qI(t){return Mh()?t instanceof Node||t instanceof bn(t).Node:!1}function li(t){return Mh()?t instanceof Element||t instanceof bn(t).Element:!1}function Di(t){return Mh()?t instanceof HTMLElement||t instanceof bn(t).HTMLElement:!1}function yA(t){return!Mh()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof bn(t).ShadowRoot}const y5=new Set(["inline","contents"]);function Hu(t){const{overflow:e,overflowX:n,overflowY:i,display:r}=ui(t);return/auto|scroll|overlay|hidden|clip/.test(e+i+n)&&!y5.has(r)}const _5=new Set(["table","td","th"]);function S5(t){return _5.has(La(t))}const b5=[":popover-open",":modal"];function Nh(t){return b5.some(e=>{try{return t.matches(e)}catch{return!1}})}const E5=["transform","translate","scale","rotate","perspective"],w5=["transform","translate","scale","rotate","perspective","filter"],C5=["paint","layout","strict","content"];function v_(t){const e=y_(),n=li(t)?ui(t):t;return E5.some(i=>n[i]?n[i]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||w5.some(i=>(n.willChange||"").includes(i))||C5.some(i=>(n.contain||"").includes(i))}function T5(t){let e=ar(t);for(;Di(e)&&!Ta(e);){if(v_(e))return e;if(Nh(e))return null;e=ar(e)}return null}function y_(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const A5=new Set(["html","body","#document"]);function Ta(t){return A5.has(La(t))}function ui(t){return bn(t).getComputedStyle(t)}function Ih(t){return li(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function ar(t){if(La(t)==="html")return t;const e=t.assignedSlot||t.parentNode||yA(t)&&t.host||Pi(t);return yA(e)?e.host:e}function JI(t){const e=ar(t);return Ta(e)?t.ownerDocument?t.ownerDocument.body:t.body:Di(e)&&Hu(e)?e:JI(e)}function mu(t,e,n){var i;e===void 0&&(e=[]),n===void 0&&(n=!0);const r=JI(t),a=r===((i=t.ownerDocument)==null?void 0:i.body),u=bn(r);if(a){const c=ty(u);return e.concat(u,u.visualViewport||[],Hu(r)?r:[],c&&n?mu(c):[])}return e.concat(r,mu(r,[],n))}function ty(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function KI(t){const e=ui(t);let n=parseFloat(e.width)||0,i=parseFloat(e.height)||0;const r=Di(t),a=r?t.offsetWidth:n,u=r?t.offsetHeight:i,c=$d(n)!==a||$d(i)!==u;return c&&(n=a,i=u),{width:n,height:i,$:c}}function __(t){return li(t)?t:t.contextElement}function ha(t){const e=__(t);if(!Di(e))return Ni(1);const n=e.getBoundingClientRect(),{width:i,height:r,$:a}=KI(e);let u=(a?$d(n.width):n.width)/i,c=(a?$d(n.height):n.height)/r;return(!u||!Number.isFinite(u))&&(u=1),(!c||!Number.isFinite(c))&&(c=1),{x:u,y:c}}const x5=Ni(0);function YI(t){const e=bn(t);return!y_()||!e.visualViewport?x5:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function R5(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==bn(t)?!1:e}function Qr(t,e,n,i){e===void 0&&(e=!1),n===void 0&&(n=!1);const r=t.getBoundingClientRect(),a=__(t);let u=Ni(1);e&&(i?li(i)&&(u=ha(i)):u=ha(t));const c=R5(a,n,i)?YI(a):Ni(0);let h=(r.left+c.x)/u.x,d=(r.top+c.y)/u.y,m=r.width/u.x,y=r.height/u.y;if(a){const S=bn(a),b=i&&li(i)?bn(i):i;let T=S,A=ty(T);for(;A&&i&&b!==T;){const x=ha(A),M=A.getBoundingClientRect(),I=ui(A),N=M.left+(A.clientLeft+parseFloat(I.paddingLeft))*x.x,D=M.top+(A.clientTop+parseFloat(I.paddingTop))*x.y;h*=x.x,d*=x.y,m*=x.x,y*=x.y,h+=N,d+=D,T=bn(A),A=ty(T)}}return Gd({width:m,height:y,x:h,y:d})}function Dh(t,e){const n=Ih(t).scrollLeft;return e?e.left+n:Qr(Pi(t)).left+n}function jI(t,e){const n=t.getBoundingClientRect(),i=n.left+e.scrollLeft-Dh(t,n),r=n.top+e.scrollTop;return{x:i,y:r}}function M5(t){let{elements:e,rect:n,offsetParent:i,strategy:r}=t;const a=r==="fixed",u=Pi(i),c=e?Nh(e.floating):!1;if(i===u||c&&a)return n;let h={scrollLeft:0,scrollTop:0},d=Ni(1);const m=Ni(0),y=Di(i);if((y||!y&&!a)&&((La(i)!=="body"||Hu(u))&&(h=Ih(i)),Di(i))){const b=Qr(i);d=ha(i),m.x=b.x+i.clientLeft,m.y=b.y+i.clientTop}const S=u&&!y&&!a?jI(u,h):Ni(0);return{width:n.width*d.x,height:n.height*d.y,x:n.x*d.x-h.scrollLeft*d.x+m.x+S.x,y:n.y*d.y-h.scrollTop*d.y+m.y+S.y}}function N5(t){return Array.from(t.getClientRects())}function I5(t){const e=Pi(t),n=Ih(t),i=t.ownerDocument.body,r=yn(e.scrollWidth,e.clientWidth,i.scrollWidth,i.clientWidth),a=yn(e.scrollHeight,e.clientHeight,i.scrollHeight,i.clientHeight);let u=-n.scrollLeft+Dh(t);const c=-n.scrollTop;return ui(i).direction==="rtl"&&(u+=yn(e.clientWidth,i.clientWidth)-r),{width:r,height:a,x:u,y:c}}const _A=25;function D5(t,e){const n=bn(t),i=Pi(t),r=n.visualViewport;let a=i.clientWidth,u=i.clientHeight,c=0,h=0;if(r){a=r.width,u=r.height;const m=y_();(!m||m&&e==="fixed")&&(c=r.offsetLeft,h=r.offsetTop)}const d=Dh(i);if(d<=0){const m=i.ownerDocument,y=m.body,S=getComputedStyle(y),b=m.compatMode==="CSS1Compat"&&parseFloat(S.marginLeft)+parseFloat(S.marginRight)||0,T=Math.abs(i.clientWidth-y.clientWidth-b);T<=_A&&(a-=T)}else d<=_A&&(a+=d);return{width:a,height:u,x:c,y:h}}const O5=new Set(["absolute","fixed"]);function P5(t,e){const n=Qr(t,!0,e==="fixed"),i=n.top+t.clientTop,r=n.left+t.clientLeft,a=Di(t)?ha(t):Ni(1),u=t.clientWidth*a.x,c=t.clientHeight*a.y,h=r*a.x,d=i*a.y;return{width:u,height:c,x:h,y:d}}function SA(t,e,n){let i;if(e==="viewport")i=D5(t,n);else if(e==="document")i=I5(Pi(t));else if(li(e))i=P5(e,n);else{const r=YI(t);i={x:e.x-r.x,y:e.y-r.y,width:e.width,height:e.height}}return Gd(i)}function XI(t,e){const n=ar(t);return n===e||!li(n)||Ta(n)?!1:ui(n).position==="fixed"||XI(n,e)}function k5(t,e){const n=e.get(t);if(n)return n;let i=mu(t,[],!1).filter(c=>li(c)&&La(c)!=="body"),r=null;const a=ui(t).position==="fixed";let u=a?ar(t):t;for(;li(u)&&!Ta(u);){const c=ui(u),h=v_(u);!h&&c.position==="fixed"&&(r=null),(a?!h&&!r:!h&&c.position==="static"&&!!r&&O5.has(r.position)||Hu(u)&&!h&&XI(t,u))?i=i.filter(m=>m!==u):r=c,u=ar(u)}return e.set(t,i),i}function L5(t){let{element:e,boundary:n,rootBoundary:i,strategy:r}=t;const u=[...n==="clippingAncestors"?Nh(e)?[]:k5(e,this._c):[].concat(n),i],c=u[0],h=u.reduce((d,m)=>{const y=SA(e,m,r);return d.top=yn(y.top,d.top),d.right=sr(y.right,d.right),d.bottom=sr(y.bottom,d.bottom),d.left=yn(y.left,d.left),d},SA(e,c,r));return{width:h.right-h.left,height:h.bottom-h.top,x:h.left,y:h.top}}function U5(t){const{width:e,height:n}=KI(t);return{width:e,height:n}}function B5(t,e,n){const i=Di(e),r=Pi(e),a=n==="fixed",u=Qr(t,!0,a,e);let c={scrollLeft:0,scrollTop:0};const h=Ni(0);function d(){h.x=Dh(r)}if(i||!i&&!a)if((La(e)!=="body"||Hu(r))&&(c=Ih(e)),i){const b=Qr(e,!0,a,e);h.x=b.x+e.clientLeft,h.y=b.y+e.clientTop}else r&&d();a&&!i&&r&&d();const m=r&&!i&&!a?jI(r,c):Ni(0),y=u.left+c.scrollLeft-h.x-m.x,S=u.top+c.scrollTop-h.y-m.y;return{x:y,y:S,width:u.width,height:u.height}}function Gg(t){return ui(t).position==="static"}function bA(t,e){if(!Di(t)||ui(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Pi(t)===n&&(n=n.ownerDocument.body),n}function WI(t,e){const n=bn(t);if(Nh(t))return n;if(!Di(t)){let r=ar(t);for(;r&&!Ta(r);){if(li(r)&&!Gg(r))return r;r=ar(r)}return n}let i=bA(t,e);for(;i&&S5(i)&&Gg(i);)i=bA(i,e);return i&&Ta(i)&&Gg(i)&&!v_(i)?n:i||T5(t)||n}const F5=async function(t){const e=this.getOffsetParent||WI,n=this.getDimensions,i=await n(t.floating);return{reference:B5(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:i.width,height:i.height}}};function $5(t){return ui(t).direction==="rtl"}const H5={convertOffsetParentRelativeRectToViewportRelativeRect:M5,getDocumentElement:Pi,getClippingRect:L5,getOffsetParent:WI,getElementRects:F5,getClientRects:N5,getDimensions:U5,getScale:ha,isElement:li,isRTL:$5};function QI(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function G5(t,e){let n=null,i;const r=Pi(t);function a(){var c;clearTimeout(i),(c=n)==null||c.disconnect(),n=null}function u(c,h){c===void 0&&(c=!1),h===void 0&&(h=1),a();const d=t.getBoundingClientRect(),{left:m,top:y,width:S,height:b}=d;if(c||e(),!S||!b)return;const T=Bf(y),A=Bf(r.clientWidth-(m+S)),x=Bf(r.clientHeight-(y+b)),M=Bf(m),N={rootMargin:-T+"px "+-A+"px "+-x+"px "+-M+"px",threshold:yn(0,sr(1,h))||1};let D=!0;function L(U){const O=U[0].intersectionRatio;if(O!==h){if(!D)return u();O?u(!1,O):i=setTimeout(()=>{u(!1,1e-7)},1e3)}O===1&&!QI(d,t.getBoundingClientRect())&&u(),D=!1}try{n=new IntersectionObserver(L,{...N,root:r.ownerDocument})}catch{n=new IntersectionObserver(L,N)}n.observe(t)}return u(!0),a}function V5(t,e,n,i){i===void 0&&(i={});const{ancestorScroll:r=!0,ancestorResize:a=!0,elementResize:u=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:h=!1}=i,d=__(t),m=r||a?[...d?mu(d):[],...mu(e)]:[];m.forEach(M=>{r&&M.addEventListener("scroll",n,{passive:!0}),a&&M.addEventListener("resize",n)});const y=d&&c?G5(d,n):null;let S=-1,b=null;u&&(b=new ResizeObserver(M=>{let[I]=M;I&&I.target===d&&b&&(b.unobserve(e),cancelAnimationFrame(S),S=requestAnimationFrame(()=>{var N;(N=b)==null||N.observe(e)})),n()}),d&&!h&&b.observe(d),b.observe(e));let T,A=h?Qr(t):null;h&&x();function x(){const M=Qr(t);A&&!QI(A,M)&&n(),A=M,T=requestAnimationFrame(x)}return n(),()=>{var M;m.forEach(I=>{r&&I.removeEventListener("scroll",n),a&&I.removeEventListener("resize",n)}),y?.(),(M=b)==null||M.disconnect(),b=null,h&&cancelAnimationFrame(T)}}const z5=p5,q5=m5,J5=f5,K5=v5,Y5=d5,EA=c5,j5=g5,X5=(t,e,n)=>{const i=new Map,r={platform:H5,...n},a={...r.platform,_c:i};return u5(t,e,{...r,platform:a})};var W5=typeof document<"u",Q5=function(){},ad=W5?w.useLayoutEffect:Q5;function Vd(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,i,r;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(i=n;i--!==0;)if(!Vd(t[i],e[i]))return!1;return!0}if(r=Object.keys(t),n=r.length,n!==Object.keys(e).length)return!1;for(i=n;i--!==0;)if(!{}.hasOwnProperty.call(e,r[i]))return!1;for(i=n;i--!==0;){const a=r[i];if(!(a==="_owner"&&t.$$typeof)&&!Vd(t[a],e[a]))return!1}return!0}return t!==t&&e!==e}function ZI(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function wA(t,e){const n=ZI(t);return Math.round(e*n)/n}function Vg(t){const e=w.useRef(t);return ad(()=>{e.current=t}),e}function Z5(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:i=[],platform:r,elements:{reference:a,floating:u}={},transform:c=!0,whileElementsMounted:h,open:d}=t,[m,y]=w.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[S,b]=w.useState(i);Vd(S,i)||b(i);const[T,A]=w.useState(null),[x,M]=w.useState(null),I=w.useCallback(ee=>{ee!==U.current&&(U.current=ee,A(ee))},[]),N=w.useCallback(ee=>{ee!==O.current&&(O.current=ee,M(ee))},[]),D=a||T,L=u||x,U=w.useRef(null),O=w.useRef(null),q=w.useRef(m),J=h!=null,j=Vg(h),W=Vg(r),re=Vg(d),ie=w.useCallback(()=>{if(!U.current||!O.current)return;const ee={placement:e,strategy:n,middleware:S};W.current&&(ee.platform=W.current),X5(U.current,O.current,ee).then(ne=>{const ce={...ne,isPositioned:re.current!==!1};ae.current&&!Vd(q.current,ce)&&(q.current=ce,eh.flushSync(()=>{y(ce)}))})},[S,e,n,W,re]);ad(()=>{d===!1&&q.current.isPositioned&&(q.current.isPositioned=!1,y(ee=>({...ee,isPositioned:!1})))},[d]);const ae=w.useRef(!1);ad(()=>(ae.current=!0,()=>{ae.current=!1}),[]),ad(()=>{if(D&&(U.current=D),L&&(O.current=L),D&&L){if(j.current)return j.current(D,L,ie);ie()}},[D,L,ie,j,J]);const de=w.useMemo(()=>({reference:U,floating:O,setReference:I,setFloating:N}),[I,N]),F=w.useMemo(()=>({reference:D,floating:L}),[D,L]),Q=w.useMemo(()=>{const ee={position:n,left:0,top:0};if(!F.floating)return ee;const ne=wA(F.floating,m.x),ce=wA(F.floating,m.y);return c?{...ee,transform:"translate("+ne+"px, "+ce+"px)",...ZI(F.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:ne,top:ce}},[n,c,F.floating,m.x,m.y]);return w.useMemo(()=>({...m,update:ie,refs:de,elements:F,floatingStyles:Q}),[m,ie,de,F,Q])}const e8=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:i,padding:r}=typeof t=="function"?t(n):t;return i&&e(i)?i.current!=null?EA({element:i.current,padding:r}).fn(n):{}:i?EA({element:i,padding:r}).fn(n):{}}}},t8=(t,e)=>({...z5(t),options:[t,e]}),n8=(t,e)=>({...q5(t),options:[t,e]}),i8=(t,e)=>({...j5(t),options:[t,e]}),o8=(t,e)=>({...J5(t),options:[t,e]}),r8=(t,e)=>({...K5(t),options:[t,e]}),s8=(t,e)=>({...Y5(t),options:[t,e]}),a8=(t,e)=>({...e8(t),options:[t,e]});var l8="Arrow",eD=w.forwardRef((t,e)=>{const{children:n,width:i=10,height:r=5,...a}=t;return E.jsx(zt.svg,{...a,ref:e,width:i,height:r,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:E.jsx("polygon",{points:"0,0 30,0 15,10"})})});eD.displayName=l8;var u8=eD;function c8(t){const[e,n]=w.useState(void 0);return rr(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const i=new ResizeObserver(r=>{if(!Array.isArray(r)||!r.length)return;const a=r[0];let u,c;if("borderBoxSize"in a){const h=a.borderBoxSize,d=Array.isArray(h)?h[0]:h;u=d.inlineSize,c=d.blockSize}else u=t.offsetWidth,c=t.offsetHeight;n({width:u,height:c})});return i.observe(t,{box:"border-box"}),()=>i.unobserve(t)}else n(void 0)},[t]),e}var S_="Popper",[tD,nD]=$u(S_),[f8,iD]=tD(S_),oD=t=>{const{__scopePopper:e,children:n}=t,[i,r]=w.useState(null);return E.jsx(f8,{scope:e,anchor:i,onAnchorChange:r,children:n})};oD.displayName=S_;var rD="PopperAnchor",sD=w.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:i,...r}=t,a=iD(rD,n),u=w.useRef(null),c=on(e,u),h=w.useRef(null);return w.useEffect(()=>{const d=h.current;h.current=i?.current||u.current,d!==h.current&&a.onAnchorChange(h.current)}),i?null:E.jsx(zt.div,{...r,ref:c})});sD.displayName=rD;var b_="PopperContent",[d8,h8]=tD(b_),aD=w.forwardRef((t,e)=>{const{__scopePopper:n,side:i="bottom",sideOffset:r=0,align:a="center",alignOffset:u=0,arrowPadding:c=0,avoidCollisions:h=!0,collisionBoundary:d=[],collisionPadding:m=0,sticky:y="partial",hideWhenDetached:S=!1,updatePositionStrategy:b="optimized",onPlaced:T,...A}=t,x=iD(b_,n),[M,I]=w.useState(null),N=on(e,ve=>I(ve)),[D,L]=w.useState(null),U=c8(D),O=U?.width??0,q=U?.height??0,J=i+(a!=="center"?"-"+a:""),j=typeof m=="number"?m:{top:0,right:0,bottom:0,left:0,...m},W=Array.isArray(d)?d:[d],re=W.length>0,ie={padding:j,boundary:W.filter(m8),altBoundary:re},{refs:ae,floatingStyles:de,placement:F,isPositioned:Q,middlewareData:ee}=Z5({strategy:"fixed",placement:J,whileElementsMounted:(...ve)=>V5(...ve,{animationFrame:b==="always"}),elements:{reference:x.anchor},middleware:[t8({mainAxis:r+q,alignmentAxis:u}),h&&n8({mainAxis:!0,crossAxis:!1,limiter:y==="partial"?i8():void 0,...ie}),h&&o8({...ie}),r8({...ie,apply:({elements:ve,rects:ze,availableWidth:qe,availableHeight:rn})=>{const{width:Cn,height:di}=ze.reference,qt=ve.floating.style;qt.setProperty("--radix-popper-available-width",`${qe}px`),qt.setProperty("--radix-popper-available-height",`${rn}px`),qt.setProperty("--radix-popper-anchor-width",`${Cn}px`),qt.setProperty("--radix-popper-anchor-height",`${di}px`)}}),D&&a8({element:D,padding:c}),g8({arrowWidth:O,arrowHeight:q}),S&&s8({strategy:"referenceHidden",...ie})]}),[ne,ce]=cD(F),k=Ii(T);rr(()=>{Q&&k?.()},[Q,k]);const Y=ee.arrow?.x,se=ee.arrow?.y,le=ee.arrow?.centerOffset!==0,[me,be]=w.useState();return rr(()=>{M&&be(window.getComputedStyle(M).zIndex)},[M]),E.jsx("div",{ref:ae.setFloating,"data-radix-popper-content-wrapper":"",style:{...de,transform:Q?de.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:me,"--radix-popper-transform-origin":[ee.transformOrigin?.x,ee.transformOrigin?.y].join(" "),...ee.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:E.jsx(d8,{scope:n,placedSide:ne,onArrowChange:L,arrowX:Y,arrowY:se,shouldHideArrow:le,children:E.jsx(zt.div,{"data-side":ne,"data-align":ce,...A,ref:N,style:{...A.style,animation:Q?void 0:"none"}})})})});aD.displayName=b_;var lD="PopperArrow",p8={top:"bottom",right:"left",bottom:"top",left:"right"},uD=w.forwardRef(function(e,n){const{__scopePopper:i,...r}=e,a=h8(lD,i),u=p8[a.placedSide];return E.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[u]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:E.jsx(u8,{...r,ref:n,style:{...r.style,display:"block"}})})});uD.displayName=lD;function m8(t){return t!==null}var g8=t=>({name:"transformOrigin",options:t,fn(e){const{placement:n,rects:i,middlewareData:r}=e,u=r.arrow?.centerOffset!==0,c=u?0:t.arrowWidth,h=u?0:t.arrowHeight,[d,m]=cD(n),y={start:"0%",center:"50%",end:"100%"}[m],S=(r.arrow?.x??0)+c/2,b=(r.arrow?.y??0)+h/2;let T="",A="";return d==="bottom"?(T=u?y:`${S}px`,A=`${-h}px`):d==="top"?(T=u?y:`${S}px`,A=`${i.floating.height+h}px`):d==="right"?(T=`${-h}px`,A=u?y:`${b}px`):d==="left"&&(T=`${i.floating.width+h}px`,A=u?y:`${b}px`),{data:{x:T,y:A}}}});function cD(t){const[e,n="center"]=t.split("-");return[e,n]}var fD=oD,v8=sD,y8=aD,_8=uD,S8="Portal",dD=w.forwardRef((t,e)=>{const{container:n,...i}=t,[r,a]=w.useState(!1);rr(()=>a(!0),[]);const u=n||r&&globalThis?.document?.body;return u?Br.createPortal(E.jsx(zt.div,{...i,ref:e}),u):null});dD.displayName=S8;function b8(t,e){return w.useReducer((n,i)=>e[n][i]??n,t)}var Gu=t=>{const{present:e,children:n}=t,i=E8(e),r=typeof n=="function"?n({present:i.isPresent}):w.Children.only(n),a=on(i.ref,w8(r));return typeof n=="function"||i.isPresent?w.cloneElement(r,{ref:a}):null};Gu.displayName="Presence";function E8(t){const[e,n]=w.useState(),i=w.useRef(null),r=w.useRef(t),a=w.useRef("none"),u=t?"mounted":"unmounted",[c,h]=b8(u,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return w.useEffect(()=>{const d=Ff(i.current);a.current=c==="mounted"?d:"none"},[c]),rr(()=>{const d=i.current,m=r.current;if(m!==t){const S=a.current,b=Ff(d);t?h("MOUNT"):b==="none"||d?.display==="none"?h("UNMOUNT"):h(m&&S!==b?"ANIMATION_OUT":"UNMOUNT"),r.current=t}},[t,h]),rr(()=>{if(e){let d;const m=e.ownerDocument.defaultView??window,y=b=>{const A=Ff(i.current).includes(CSS.escape(b.animationName));if(b.target===e&&A&&(h("ANIMATION_END"),!r.current)){const x=e.style.animationFillMode;e.style.animationFillMode="forwards",d=m.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=x)})}},S=b=>{b.target===e&&(a.current=Ff(i.current))};return e.addEventListener("animationstart",S),e.addEventListener("animationcancel",y),e.addEventListener("animationend",y),()=>{m.clearTimeout(d),e.removeEventListener("animationstart",S),e.removeEventListener("animationcancel",y),e.removeEventListener("animationend",y)}}else h("ANIMATION_END")},[e,h]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:w.useCallback(d=>{i.current=d?getComputedStyle(d):null,n(d)},[])}}function Ff(t){return t?.animationName||"none"}function w8(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var zg="rovingFocusGroup.onEntryFocus",C8={bubbles:!1,cancelable:!0},Vu="RovingFocusGroup",[ny,hD,T8]=LI(Vu),[A8,pD]=$u(Vu,[T8]),[x8,R8]=A8(Vu),mD=w.forwardRef((t,e)=>E.jsx(ny.Provider,{scope:t.__scopeRovingFocusGroup,children:E.jsx(ny.Slot,{scope:t.__scopeRovingFocusGroup,children:E.jsx(M8,{...t,ref:e})})}));mD.displayName=Vu;var M8=w.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:i,loop:r=!1,dir:a,currentTabStopId:u,defaultCurrentTabStopId:c,onCurrentTabStopIdChange:h,onEntryFocus:d,preventScrollOnEntryFocus:m=!1,...y}=t,S=w.useRef(null),b=on(e,S),T=UI(a),[A,x]=h_({prop:u,defaultProp:c??null,onChange:h,caller:Vu}),[M,I]=w.useState(!1),N=Ii(d),D=hD(n),L=w.useRef(!1),[U,O]=w.useState(0);return w.useEffect(()=>{const q=S.current;if(q)return q.addEventListener(zg,N),()=>q.removeEventListener(zg,N)},[N]),E.jsx(x8,{scope:n,orientation:i,dir:T,loop:r,currentTabStopId:A,onItemFocus:w.useCallback(q=>x(q),[x]),onItemShiftTab:w.useCallback(()=>I(!0),[]),onFocusableItemAdd:w.useCallback(()=>O(q=>q+1),[]),onFocusableItemRemove:w.useCallback(()=>O(q=>q-1),[]),children:E.jsx(zt.div,{tabIndex:M||U===0?-1:0,"data-orientation":i,...y,ref:b,style:{outline:"none",...t.style},onMouseDown:Fe(t.onMouseDown,()=>{L.current=!0}),onFocus:Fe(t.onFocus,q=>{const J=!L.current;if(q.target===q.currentTarget&&J&&!M){const j=new CustomEvent(zg,C8);if(q.currentTarget.dispatchEvent(j),!j.defaultPrevented){const W=D().filter(F=>F.focusable),re=W.find(F=>F.active),ie=W.find(F=>F.id===A),de=[re,ie,...W].filter(Boolean).map(F=>F.ref.current);yD(de,m)}}L.current=!1}),onBlur:Fe(t.onBlur,()=>I(!1))})})}),gD="RovingFocusGroupItem",vD=w.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:i=!0,active:r=!1,tabStopId:a,children:u,...c}=t,h=hu(),d=a||h,m=R8(gD,n),y=m.currentTabStopId===d,S=hD(n),{onFocusableItemAdd:b,onFocusableItemRemove:T,currentTabStopId:A}=m;return w.useEffect(()=>{if(i)return b(),()=>T()},[i,b,T]),E.jsx(ny.ItemSlot,{scope:n,id:d,focusable:i,active:r,children:E.jsx(zt.span,{tabIndex:y?0:-1,"data-orientation":m.orientation,...c,ref:e,onMouseDown:Fe(t.onMouseDown,x=>{i?m.onItemFocus(d):x.preventDefault()}),onFocus:Fe(t.onFocus,()=>m.onItemFocus(d)),onKeyDown:Fe(t.onKeyDown,x=>{if(x.key==="Tab"&&x.shiftKey){m.onItemShiftTab();return}if(x.target!==x.currentTarget)return;const M=D8(x,m.orientation,m.dir);if(M!==void 0){if(x.metaKey||x.ctrlKey||x.altKey||x.shiftKey)return;x.preventDefault();let N=S().filter(D=>D.focusable).map(D=>D.ref.current);if(M==="last")N.reverse();else if(M==="prev"||M==="next"){M==="prev"&&N.reverse();const D=N.indexOf(x.currentTarget);N=m.loop?O8(N,D+1):N.slice(D+1)}setTimeout(()=>yD(N))}}),children:typeof u=="function"?u({isCurrentTabStop:y,hasTabStop:A!=null}):u})})});vD.displayName=gD;var N8={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function I8(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function D8(t,e,n){const i=I8(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(i))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(i)))return N8[i]}function yD(t,e=!1){const n=document.activeElement;for(const i of t)if(i===n||(i.focus({preventScroll:e}),document.activeElement!==n))return}function O8(t,e){return t.map((n,i)=>t[(e+i)%t.length])}var P8=mD,k8=vD,L8=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Ws=new WeakMap,$f=new WeakMap,Hf={},qg=0,_D=function(t){return t&&(t.host||_D(t.parentNode))},U8=function(t,e){return e.map(function(n){if(t.contains(n))return n;var i=_D(n);return i&&t.contains(i)?i:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},B8=function(t,e,n,i){var r=U8(e,Array.isArray(t)?t:[t]);Hf[n]||(Hf[n]=new WeakMap);var a=Hf[n],u=[],c=new Set,h=new Set(r),d=function(y){!y||c.has(y)||(c.add(y),d(y.parentNode))};r.forEach(d);var m=function(y){!y||h.has(y)||Array.prototype.forEach.call(y.children,function(S){if(c.has(S))m(S);else try{var b=S.getAttribute(i),T=b!==null&&b!=="false",A=(Ws.get(S)||0)+1,x=(a.get(S)||0)+1;Ws.set(S,A),a.set(S,x),u.push(S),A===1&&T&&$f.set(S,!0),x===1&&S.setAttribute(n,"true"),T||S.setAttribute(i,"true")}catch(M){console.error("aria-hidden: cannot operate on ",S,M)}})};return m(e),c.clear(),qg++,function(){u.forEach(function(y){var S=Ws.get(y)-1,b=a.get(y)-1;Ws.set(y,S),a.set(y,b),S||($f.has(y)||y.removeAttribute(i),$f.delete(y)),b||y.removeAttribute(n)}),qg--,qg||(Ws=new WeakMap,Ws=new WeakMap,$f=new WeakMap,Hf={})}},F8=function(t,e,n){n===void 0&&(n="data-aria-hidden");var i=Array.from(Array.isArray(t)?t:[t]),r=L8(t);return r?(i.push.apply(i,Array.from(r.querySelectorAll("[aria-live], script"))),B8(i,r,n,"aria-hidden")):function(){return null}},Si=function(){return Si=Object.assign||function(e){for(var n,i=1,r=arguments.length;i<r;i++){n=arguments[i];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Si.apply(this,arguments)};function SD(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]]);return n}function $8(t,e,n){if(n||arguments.length===2)for(var i=0,r=e.length,a;i<r;i++)(a||!(i in e))&&(a||(a=Array.prototype.slice.call(e,0,i)),a[i]=e[i]);return t.concat(a||Array.prototype.slice.call(e))}var ld="right-scroll-bar-position",ud="width-before-scroll-bar",H8="with-scroll-bars-hidden",G8="--removed-body-scroll-bar-size";function Jg(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function V8(t,e){var n=w.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(i){var r=n.value;r!==i&&(n.value=i,n.callback(i,r))}}}})[0];return n.callback=e,n.facade}var z8=typeof window<"u"?w.useLayoutEffect:w.useEffect,CA=new WeakMap;function q8(t,e){var n=V8(null,function(i){return t.forEach(function(r){return Jg(r,i)})});return z8(function(){var i=CA.get(n);if(i){var r=new Set(i),a=new Set(t),u=n.current;r.forEach(function(c){a.has(c)||Jg(c,null)}),a.forEach(function(c){r.has(c)||Jg(c,u)})}CA.set(n,t)},[t]),n}function J8(t){return t}function K8(t,e){e===void 0&&(e=J8);var n=[],i=!1,r={read:function(){if(i)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(a){var u=e(a,i);return n.push(u),function(){n=n.filter(function(c){return c!==u})}},assignSyncMedium:function(a){for(i=!0;n.length;){var u=n;n=[],u.forEach(a)}n={push:function(c){return a(c)},filter:function(){return n}}},assignMedium:function(a){i=!0;var u=[];if(n.length){var c=n;n=[],c.forEach(a),u=n}var h=function(){var m=u;u=[],m.forEach(a)},d=function(){return Promise.resolve().then(h)};d(),n={push:function(m){u.push(m),d()},filter:function(m){return u=u.filter(m),n}}}};return r}function Y8(t){t===void 0&&(t={});var e=K8(null);return e.options=Si({async:!0,ssr:!1},t),e}var bD=function(t){var e=t.sideCar,n=SD(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var i=e.read();if(!i)throw new Error("Sidecar medium not found");return w.createElement(i,Si({},n))};bD.isSideCarExport=!0;function j8(t,e){return t.useMedium(e),bD}var ED=Y8(),Kg=function(){},Oh=w.forwardRef(function(t,e){var n=w.useRef(null),i=w.useState({onScrollCapture:Kg,onWheelCapture:Kg,onTouchMoveCapture:Kg}),r=i[0],a=i[1],u=t.forwardProps,c=t.children,h=t.className,d=t.removeScrollBar,m=t.enabled,y=t.shards,S=t.sideCar,b=t.noRelative,T=t.noIsolation,A=t.inert,x=t.allowPinchZoom,M=t.as,I=M===void 0?"div":M,N=t.gapMode,D=SD(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),L=S,U=q8([n,e]),O=Si(Si({},D),r);return w.createElement(w.Fragment,null,m&&w.createElement(L,{sideCar:ED,removeScrollBar:d,shards:y,noRelative:b,noIsolation:T,inert:A,setCallbacks:a,allowPinchZoom:!!x,lockRef:n,gapMode:N}),u?w.cloneElement(w.Children.only(c),Si(Si({},O),{ref:U})):w.createElement(I,Si({},O,{className:h,ref:U}),c))});Oh.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Oh.classNames={fullWidth:ud,zeroRight:ld};var X8=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function W8(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=X8();return e&&t.setAttribute("nonce",e),t}function Q8(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function Z8(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var eJ=function(){var t=0,e=null;return{add:function(n){t==0&&(e=W8())&&(Q8(e,n),Z8(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},tJ=function(){var t=eJ();return function(e,n){w.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},wD=function(){var t=tJ(),e=function(n){var i=n.styles,r=n.dynamic;return t(i,r),null};return e},nJ={left:0,top:0,right:0,gap:0},Yg=function(t){return parseInt(t||"",10)||0},iJ=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],i=e[t==="padding"?"paddingTop":"marginTop"],r=e[t==="padding"?"paddingRight":"marginRight"];return[Yg(n),Yg(i),Yg(r)]},oJ=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return nJ;var e=iJ(t),n=document.documentElement.clientWidth,i=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,i-n+e[2]-e[0])}},rJ=wD(),pa="data-scroll-locked",sJ=function(t,e,n,i){var r=t.left,a=t.top,u=t.right,c=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(H8,` {
   overflow: hidden `).concat(i,`;
   padding-right: `).concat(c,"px ").concat(i,`;
  }
  body[`).concat(pa,`] {
    overflow: hidden `).concat(i,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(i,";"),n==="margin"&&`
    padding-left: `.concat(r,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(u,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(c,"px ").concat(i,`;
    `),n==="padding"&&"padding-right: ".concat(c,"px ").concat(i,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(ld,` {
    right: `).concat(c,"px ").concat(i,`;
  }
  
  .`).concat(ud,` {
    margin-right: `).concat(c,"px ").concat(i,`;
  }
  
  .`).concat(ld," .").concat(ld,` {
    right: 0 `).concat(i,`;
  }
  
  .`).concat(ud," .").concat(ud,` {
    margin-right: 0 `).concat(i,`;
  }
  
  body[`).concat(pa,`] {
    `).concat(G8,": ").concat(c,`px;
  }
`)},TA=function(){var t=parseInt(document.body.getAttribute(pa)||"0",10);return isFinite(t)?t:0},aJ=function(){w.useEffect(function(){return document.body.setAttribute(pa,(TA()+1).toString()),function(){var t=TA()-1;t<=0?document.body.removeAttribute(pa):document.body.setAttribute(pa,t.toString())}},[])},lJ=function(t){var e=t.noRelative,n=t.noImportant,i=t.gapMode,r=i===void 0?"margin":i;aJ();var a=w.useMemo(function(){return oJ(r)},[r]);return w.createElement(rJ,{styles:sJ(a,!e,r,n?"":"!important")})},iy=!1;if(typeof window<"u")try{var Gf=Object.defineProperty({},"passive",{get:function(){return iy=!0,!0}});window.addEventListener("test",Gf,Gf),window.removeEventListener("test",Gf,Gf)}catch{iy=!1}var Qs=iy?{passive:!1}:!1,uJ=function(t){return t.tagName==="TEXTAREA"},CD=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!uJ(t)&&n[e]==="visible")},cJ=function(t){return CD(t,"overflowY")},fJ=function(t){return CD(t,"overflowX")},AA=function(t,e){var n=e.ownerDocument,i=e;do{typeof ShadowRoot<"u"&&i instanceof ShadowRoot&&(i=i.host);var r=TD(t,i);if(r){var a=AD(t,i),u=a[1],c=a[2];if(u>c)return!0}i=i.parentNode}while(i&&i!==n.body);return!1},dJ=function(t){var e=t.scrollTop,n=t.scrollHeight,i=t.clientHeight;return[e,n,i]},hJ=function(t){var e=t.scrollLeft,n=t.scrollWidth,i=t.clientWidth;return[e,n,i]},TD=function(t,e){return t==="v"?cJ(e):fJ(e)},AD=function(t,e){return t==="v"?dJ(e):hJ(e)},pJ=function(t,e){return t==="h"&&e==="rtl"?-1:1},mJ=function(t,e,n,i,r){var a=pJ(t,window.getComputedStyle(e).direction),u=a*i,c=n.target,h=e.contains(c),d=!1,m=u>0,y=0,S=0;do{if(!c)break;var b=AD(t,c),T=b[0],A=b[1],x=b[2],M=A-x-a*T;(T||M)&&TD(t,c)&&(y+=M,S+=T);var I=c.parentNode;c=I&&I.nodeType===Node.DOCUMENT_FRAGMENT_NODE?I.host:I}while(!h&&c!==document.body||h&&(e.contains(c)||e===c));return(m&&Math.abs(y)<1||!m&&Math.abs(S)<1)&&(d=!0),d},Vf=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},xA=function(t){return[t.deltaX,t.deltaY]},RA=function(t){return t&&"current"in t?t.current:t},gJ=function(t,e){return t[0]===e[0]&&t[1]===e[1]},vJ=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},yJ=0,Zs=[];function _J(t){var e=w.useRef([]),n=w.useRef([0,0]),i=w.useRef(),r=w.useState(yJ++)[0],a=w.useState(wD)[0],u=w.useRef(t);w.useEffect(function(){u.current=t},[t]),w.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(r));var A=$8([t.lockRef.current],(t.shards||[]).map(RA),!0).filter(Boolean);return A.forEach(function(x){return x.classList.add("allow-interactivity-".concat(r))}),function(){document.body.classList.remove("block-interactivity-".concat(r)),A.forEach(function(x){return x.classList.remove("allow-interactivity-".concat(r))})}}},[t.inert,t.lockRef.current,t.shards]);var c=w.useCallback(function(A,x){if("touches"in A&&A.touches.length===2||A.type==="wheel"&&A.ctrlKey)return!u.current.allowPinchZoom;var M=Vf(A),I=n.current,N="deltaX"in A?A.deltaX:I[0]-M[0],D="deltaY"in A?A.deltaY:I[1]-M[1],L,U=A.target,O=Math.abs(N)>Math.abs(D)?"h":"v";if("touches"in A&&O==="h"&&U.type==="range")return!1;var q=window.getSelection(),J=q&&q.anchorNode,j=J?J===U||J.contains(U):!1;if(j)return!1;var W=AA(O,U);if(!W)return!0;if(W?L=O:(L=O==="v"?"h":"v",W=AA(O,U)),!W)return!1;if(!i.current&&"changedTouches"in A&&(N||D)&&(i.current=L),!L)return!0;var re=i.current||L;return mJ(re,x,A,re==="h"?N:D)},[]),h=w.useCallback(function(A){var x=A;if(!(!Zs.length||Zs[Zs.length-1]!==a)){var M="deltaY"in x?xA(x):Vf(x),I=e.current.filter(function(L){return L.name===x.type&&(L.target===x.target||x.target===L.shadowParent)&&gJ(L.delta,M)})[0];if(I&&I.should){x.cancelable&&x.preventDefault();return}if(!I){var N=(u.current.shards||[]).map(RA).filter(Boolean).filter(function(L){return L.contains(x.target)}),D=N.length>0?c(x,N[0]):!u.current.noIsolation;D&&x.cancelable&&x.preventDefault()}}},[]),d=w.useCallback(function(A,x,M,I){var N={name:A,delta:x,target:M,should:I,shadowParent:SJ(M)};e.current.push(N),setTimeout(function(){e.current=e.current.filter(function(D){return D!==N})},1)},[]),m=w.useCallback(function(A){n.current=Vf(A),i.current=void 0},[]),y=w.useCallback(function(A){d(A.type,xA(A),A.target,c(A,t.lockRef.current))},[]),S=w.useCallback(function(A){d(A.type,Vf(A),A.target,c(A,t.lockRef.current))},[]);w.useEffect(function(){return Zs.push(a),t.setCallbacks({onScrollCapture:y,onWheelCapture:y,onTouchMoveCapture:S}),document.addEventListener("wheel",h,Qs),document.addEventListener("touchmove",h,Qs),document.addEventListener("touchstart",m,Qs),function(){Zs=Zs.filter(function(A){return A!==a}),document.removeEventListener("wheel",h,Qs),document.removeEventListener("touchmove",h,Qs),document.removeEventListener("touchstart",m,Qs)}},[]);var b=t.removeScrollBar,T=t.inert;return w.createElement(w.Fragment,null,T?w.createElement(a,{styles:vJ(r)}):null,b?w.createElement(lJ,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function SJ(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const bJ=j8(ED,_J);var xD=w.forwardRef(function(t,e){return w.createElement(Oh,Si({},t,{ref:e,sideCar:bJ}))});xD.classNames=Oh.classNames;var oy=["Enter"," "],EJ=["ArrowDown","PageUp","Home"],RD=["ArrowUp","PageDown","End"],wJ=[...EJ,...RD],CJ={ltr:[...oy,"ArrowRight"],rtl:[...oy,"ArrowLeft"]},TJ={ltr:["ArrowLeft"],rtl:["ArrowRight"]},zu="Menu",[gu,AJ,xJ]=LI(zu),[rs,MD]=$u(zu,[xJ,nD,pD]),qu=nD(),ND=pD(),[ID,pr]=rs(zu),[RJ,Ju]=rs(zu),DD=t=>{const{__scopeMenu:e,open:n=!1,children:i,dir:r,onOpenChange:a,modal:u=!0}=t,c=qu(e),[h,d]=w.useState(null),m=w.useRef(!1),y=Ii(a),S=UI(r);return w.useEffect(()=>{const b=()=>{m.current=!0,document.addEventListener("pointerdown",T,{capture:!0,once:!0}),document.addEventListener("pointermove",T,{capture:!0,once:!0})},T=()=>m.current=!1;return document.addEventListener("keydown",b,{capture:!0}),()=>{document.removeEventListener("keydown",b,{capture:!0}),document.removeEventListener("pointerdown",T,{capture:!0}),document.removeEventListener("pointermove",T,{capture:!0})}},[]),E.jsx(fD,{...c,children:E.jsx(ID,{scope:e,open:n,onOpenChange:y,content:h,onContentChange:d,children:E.jsx(RJ,{scope:e,onClose:w.useCallback(()=>y(!1),[y]),isUsingKeyboardRef:m,dir:S,modal:u,children:i})})})};DD.displayName=zu;var MJ="MenuAnchor",E_=w.forwardRef((t,e)=>{const{__scopeMenu:n,...i}=t,r=qu(n);return E.jsx(v8,{...r,...i,ref:e})});E_.displayName=MJ;var w_="MenuPortal",[NJ,OD]=rs(w_,{forceMount:void 0}),PD=t=>{const{__scopeMenu:e,forceMount:n,children:i,container:r}=t,a=pr(w_,e);return E.jsx(NJ,{scope:e,forceMount:n,children:E.jsx(Gu,{present:n||a.open,children:E.jsx(dD,{asChild:!0,container:r,children:i})})})};PD.displayName=w_;var Gn="MenuContent",[IJ,C_]=rs(Gn),kD=w.forwardRef((t,e)=>{const n=OD(Gn,t.__scopeMenu),{forceMount:i=n.forceMount,...r}=t,a=pr(Gn,t.__scopeMenu),u=Ju(Gn,t.__scopeMenu);return E.jsx(gu.Provider,{scope:t.__scopeMenu,children:E.jsx(Gu,{present:i||a.open,children:E.jsx(gu.Slot,{scope:t.__scopeMenu,children:u.modal?E.jsx(DJ,{...r,ref:e}):E.jsx(OJ,{...r,ref:e})})})})}),DJ=w.forwardRef((t,e)=>{const n=pr(Gn,t.__scopeMenu),i=w.useRef(null),r=on(e,i);return w.useEffect(()=>{const a=i.current;if(a)return F8(a)},[]),E.jsx(T_,{...t,ref:r,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:Fe(t.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),OJ=w.forwardRef((t,e)=>{const n=pr(Gn,t.__scopeMenu);return E.jsx(T_,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),PJ=Fd("MenuContent.ScrollLock"),T_=w.forwardRef((t,e)=>{const{__scopeMenu:n,loop:i=!1,trapFocus:r,onOpenAutoFocus:a,onCloseAutoFocus:u,disableOutsidePointerEvents:c,onEntryFocus:h,onEscapeKeyDown:d,onPointerDownOutside:m,onFocusOutside:y,onInteractOutside:S,onDismiss:b,disableOutsideScroll:T,...A}=t,x=pr(Gn,n),M=Ju(Gn,n),I=qu(n),N=ND(n),D=AJ(n),[L,U]=w.useState(null),O=w.useRef(null),q=on(e,O,x.onContentChange),J=w.useRef(0),j=w.useRef(""),W=w.useRef(0),re=w.useRef(null),ie=w.useRef("right"),ae=w.useRef(0),de=T?xD:w.Fragment,F=T?{as:PJ,allowPinchZoom:!0}:void 0,Q=ne=>{const ce=j.current+ne,k=D().filter(ve=>!ve.disabled),Y=document.activeElement,se=k.find(ve=>ve.ref.current===Y)?.textValue,le=k.map(ve=>ve.textValue),me=JJ(le,ce,se),be=k.find(ve=>ve.textValue===me)?.ref.current;(function ve(ze){j.current=ze,window.clearTimeout(J.current),ze!==""&&(J.current=window.setTimeout(()=>ve(""),1e3))})(ce),be&&setTimeout(()=>be.focus())};w.useEffect(()=>()=>window.clearTimeout(J.current),[]),G6();const ee=w.useCallback(ne=>ie.current===re.current?.side&&YJ(ne,re.current?.area),[]);return E.jsx(IJ,{scope:n,searchRef:j,onItemEnter:w.useCallback(ne=>{ee(ne)&&ne.preventDefault()},[ee]),onItemLeave:w.useCallback(ne=>{ee(ne)||(O.current?.focus(),U(null))},[ee]),onTriggerLeave:w.useCallback(ne=>{ee(ne)&&ne.preventDefault()},[ee]),pointerGraceTimerRef:W,onPointerGraceIntentChange:w.useCallback(ne=>{re.current=ne},[]),children:E.jsx(de,{...F,children:E.jsx(HI,{asChild:!0,trapped:r,onMountAutoFocus:Fe(a,ne=>{ne.preventDefault(),O.current?.focus({preventScroll:!0})}),onUnmountAutoFocus:u,children:E.jsx(FI,{asChild:!0,disableOutsidePointerEvents:c,onEscapeKeyDown:d,onPointerDownOutside:m,onFocusOutside:y,onInteractOutside:S,onDismiss:b,children:E.jsx(P8,{asChild:!0,...N,dir:M.dir,orientation:"vertical",loop:i,currentTabStopId:L,onCurrentTabStopIdChange:U,onEntryFocus:Fe(h,ne=>{M.isUsingKeyboardRef.current||ne.preventDefault()}),preventScrollOnEntryFocus:!0,children:E.jsx(y8,{role:"menu","aria-orientation":"vertical","data-state":QD(x.open),"data-radix-menu-content":"",dir:M.dir,...I,...A,ref:q,style:{outline:"none",...A.style},onKeyDown:Fe(A.onKeyDown,ne=>{const k=ne.target.closest("[data-radix-menu-content]")===ne.currentTarget,Y=ne.ctrlKey||ne.altKey||ne.metaKey,se=ne.key.length===1;k&&(ne.key==="Tab"&&ne.preventDefault(),!Y&&se&&Q(ne.key));const le=O.current;if(ne.target!==le||!wJ.includes(ne.key))return;ne.preventDefault();const be=D().filter(ve=>!ve.disabled).map(ve=>ve.ref.current);RD.includes(ne.key)&&be.reverse(),zJ(be)}),onBlur:Fe(t.onBlur,ne=>{ne.currentTarget.contains(ne.target)||(window.clearTimeout(J.current),j.current="")}),onPointerMove:Fe(t.onPointerMove,vu(ne=>{const ce=ne.target,k=ae.current!==ne.clientX;if(ne.currentTarget.contains(ce)&&k){const Y=ne.clientX>ae.current?"right":"left";ie.current=Y,ae.current=ne.clientX}}))})})})})})})});kD.displayName=Gn;var kJ="MenuGroup",A_=w.forwardRef((t,e)=>{const{__scopeMenu:n,...i}=t;return E.jsx(zt.div,{role:"group",...i,ref:e})});A_.displayName=kJ;var LJ="MenuLabel",LD=w.forwardRef((t,e)=>{const{__scopeMenu:n,...i}=t;return E.jsx(zt.div,{...i,ref:e})});LD.displayName=LJ;var zd="MenuItem",MA="menu.itemSelect",Ph=w.forwardRef((t,e)=>{const{disabled:n=!1,onSelect:i,...r}=t,a=w.useRef(null),u=Ju(zd,t.__scopeMenu),c=C_(zd,t.__scopeMenu),h=on(e,a),d=w.useRef(!1),m=()=>{const y=a.current;if(!n&&y){const S=new CustomEvent(MA,{bubbles:!0,cancelable:!0});y.addEventListener(MA,b=>i?.(b),{once:!0}),kI(y,S),S.defaultPrevented?d.current=!1:u.onClose()}};return E.jsx(UD,{...r,ref:h,disabled:n,onClick:Fe(t.onClick,m),onPointerDown:y=>{t.onPointerDown?.(y),d.current=!0},onPointerUp:Fe(t.onPointerUp,y=>{d.current||y.currentTarget?.click()}),onKeyDown:Fe(t.onKeyDown,y=>{const S=c.searchRef.current!=="";n||S&&y.key===" "||oy.includes(y.key)&&(y.currentTarget.click(),y.preventDefault())})})});Ph.displayName=zd;var UD=w.forwardRef((t,e)=>{const{__scopeMenu:n,disabled:i=!1,textValue:r,...a}=t,u=C_(zd,n),c=ND(n),h=w.useRef(null),d=on(e,h),[m,y]=w.useState(!1),[S,b]=w.useState("");return w.useEffect(()=>{const T=h.current;T&&b((T.textContent??"").trim())},[a.children]),E.jsx(gu.ItemSlot,{scope:n,disabled:i,textValue:r??S,children:E.jsx(k8,{asChild:!0,...c,focusable:!i,children:E.jsx(zt.div,{role:"menuitem","data-highlighted":m?"":void 0,"aria-disabled":i||void 0,"data-disabled":i?"":void 0,...a,ref:d,onPointerMove:Fe(t.onPointerMove,vu(T=>{i?u.onItemLeave(T):(u.onItemEnter(T),T.defaultPrevented||T.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Fe(t.onPointerLeave,vu(T=>u.onItemLeave(T))),onFocus:Fe(t.onFocus,()=>y(!0)),onBlur:Fe(t.onBlur,()=>y(!1))})})})}),UJ="MenuCheckboxItem",BD=w.forwardRef((t,e)=>{const{checked:n=!1,onCheckedChange:i,...r}=t;return E.jsx(VD,{scope:t.__scopeMenu,checked:n,children:E.jsx(Ph,{role:"menuitemcheckbox","aria-checked":qd(n)?"mixed":n,...r,ref:e,"data-state":M_(n),onSelect:Fe(r.onSelect,()=>i?.(qd(n)?!0:!n),{checkForDefaultPrevented:!1})})})});BD.displayName=UJ;var FD="MenuRadioGroup",[BJ,FJ]=rs(FD,{value:void 0,onValueChange:()=>{}}),$D=w.forwardRef((t,e)=>{const{value:n,onValueChange:i,...r}=t,a=Ii(i);return E.jsx(BJ,{scope:t.__scopeMenu,value:n,onValueChange:a,children:E.jsx(A_,{...r,ref:e})})});$D.displayName=FD;var HD="MenuRadioItem",GD=w.forwardRef((t,e)=>{const{value:n,...i}=t,r=FJ(HD,t.__scopeMenu),a=n===r.value;return E.jsx(VD,{scope:t.__scopeMenu,checked:a,children:E.jsx(Ph,{role:"menuitemradio","aria-checked":a,...i,ref:e,"data-state":M_(a),onSelect:Fe(i.onSelect,()=>r.onValueChange?.(n),{checkForDefaultPrevented:!1})})})});GD.displayName=HD;var x_="MenuItemIndicator",[VD,$J]=rs(x_,{checked:!1}),zD=w.forwardRef((t,e)=>{const{__scopeMenu:n,forceMount:i,...r}=t,a=$J(x_,n);return E.jsx(Gu,{present:i||qd(a.checked)||a.checked===!0,children:E.jsx(zt.span,{...r,ref:e,"data-state":M_(a.checked)})})});zD.displayName=x_;var HJ="MenuSeparator",qD=w.forwardRef((t,e)=>{const{__scopeMenu:n,...i}=t;return E.jsx(zt.div,{role:"separator","aria-orientation":"horizontal",...i,ref:e})});qD.displayName=HJ;var GJ="MenuArrow",JD=w.forwardRef((t,e)=>{const{__scopeMenu:n,...i}=t,r=qu(n);return E.jsx(_8,{...r,...i,ref:e})});JD.displayName=GJ;var R_="MenuSub",[VJ,KD]=rs(R_),YD=t=>{const{__scopeMenu:e,children:n,open:i=!1,onOpenChange:r}=t,a=pr(R_,e),u=qu(e),[c,h]=w.useState(null),[d,m]=w.useState(null),y=Ii(r);return w.useEffect(()=>(a.open===!1&&y(!1),()=>y(!1)),[a.open,y]),E.jsx(fD,{...u,children:E.jsx(ID,{scope:e,open:i,onOpenChange:y,content:d,onContentChange:m,children:E.jsx(VJ,{scope:e,contentId:hu(),triggerId:hu(),trigger:c,onTriggerChange:h,children:n})})})};YD.displayName=R_;var Wl="MenuSubTrigger",jD=w.forwardRef((t,e)=>{const n=pr(Wl,t.__scopeMenu),i=Ju(Wl,t.__scopeMenu),r=KD(Wl,t.__scopeMenu),a=C_(Wl,t.__scopeMenu),u=w.useRef(null),{pointerGraceTimerRef:c,onPointerGraceIntentChange:h}=a,d={__scopeMenu:t.__scopeMenu},m=w.useCallback(()=>{u.current&&window.clearTimeout(u.current),u.current=null},[]);return w.useEffect(()=>m,[m]),w.useEffect(()=>{const y=c.current;return()=>{window.clearTimeout(y),h(null)}},[c,h]),E.jsx(E_,{asChild:!0,...d,children:E.jsx(UD,{id:r.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":r.contentId,"data-state":QD(n.open),...t,ref:Rh(e,r.onTriggerChange),onClick:y=>{t.onClick?.(y),!(t.disabled||y.defaultPrevented)&&(y.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:Fe(t.onPointerMove,vu(y=>{a.onItemEnter(y),!y.defaultPrevented&&!t.disabled&&!n.open&&!u.current&&(a.onPointerGraceIntentChange(null),u.current=window.setTimeout(()=>{n.onOpenChange(!0),m()},100))})),onPointerLeave:Fe(t.onPointerLeave,vu(y=>{m();const S=n.content?.getBoundingClientRect();if(S){const b=n.content?.dataset.side,T=b==="right",A=T?-5:5,x=S[T?"left":"right"],M=S[T?"right":"left"];a.onPointerGraceIntentChange({area:[{x:y.clientX+A,y:y.clientY},{x,y:S.top},{x:M,y:S.top},{x:M,y:S.bottom},{x,y:S.bottom}],side:b}),window.clearTimeout(c.current),c.current=window.setTimeout(()=>a.onPointerGraceIntentChange(null),300)}else{if(a.onTriggerLeave(y),y.defaultPrevented)return;a.onPointerGraceIntentChange(null)}})),onKeyDown:Fe(t.onKeyDown,y=>{const S=a.searchRef.current!=="";t.disabled||S&&y.key===" "||CJ[i.dir].includes(y.key)&&(n.onOpenChange(!0),n.content?.focus(),y.preventDefault())})})})});jD.displayName=Wl;var XD="MenuSubContent",WD=w.forwardRef((t,e)=>{const n=OD(Gn,t.__scopeMenu),{forceMount:i=n.forceMount,...r}=t,a=pr(Gn,t.__scopeMenu),u=Ju(Gn,t.__scopeMenu),c=KD(XD,t.__scopeMenu),h=w.useRef(null),d=on(e,h);return E.jsx(gu.Provider,{scope:t.__scopeMenu,children:E.jsx(Gu,{present:i||a.open,children:E.jsx(gu.Slot,{scope:t.__scopeMenu,children:E.jsx(T_,{id:c.contentId,"aria-labelledby":c.triggerId,...r,ref:d,align:"start",side:u.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:m=>{u.isUsingKeyboardRef.current&&h.current?.focus(),m.preventDefault()},onCloseAutoFocus:m=>m.preventDefault(),onFocusOutside:Fe(t.onFocusOutside,m=>{m.target!==c.trigger&&a.onOpenChange(!1)}),onEscapeKeyDown:Fe(t.onEscapeKeyDown,m=>{u.onClose(),m.preventDefault()}),onKeyDown:Fe(t.onKeyDown,m=>{const y=m.currentTarget.contains(m.target),S=TJ[u.dir].includes(m.key);y&&S&&(a.onOpenChange(!1),c.trigger?.focus(),m.preventDefault())})})})})})});WD.displayName=XD;function QD(t){return t?"open":"closed"}function qd(t){return t==="indeterminate"}function M_(t){return qd(t)?"indeterminate":t?"checked":"unchecked"}function zJ(t){const e=document.activeElement;for(const n of t)if(n===e||(n.focus(),document.activeElement!==e))return}function qJ(t,e){return t.map((n,i)=>t[(e+i)%t.length])}function JJ(t,e,n){const r=e.length>1&&Array.from(e).every(d=>d===e[0])?e[0]:e,a=n?t.indexOf(n):-1;let u=qJ(t,Math.max(a,0));r.length===1&&(u=u.filter(d=>d!==n));const h=u.find(d=>d.toLowerCase().startsWith(r.toLowerCase()));return h!==n?h:void 0}function KJ(t,e){const{x:n,y:i}=t;let r=!1;for(let a=0,u=e.length-1;a<e.length;u=a++){const c=e[a],h=e[u],d=c.x,m=c.y,y=h.x,S=h.y;m>i!=S>i&&n<(y-d)*(i-m)/(S-m)+d&&(r=!r)}return r}function YJ(t,e){if(!e)return!1;const n={x:t.clientX,y:t.clientY};return KJ(n,e)}function vu(t){return e=>e.pointerType==="mouse"?t(e):void 0}var jJ=DD,XJ=E_,WJ=PD,QJ=kD,ZJ=A_,eK=LD,tK=Ph,nK=BD,iK=$D,oK=GD,rK=zD,sK=qD,aK=JD,lK=YD,uK=jD,cK=WD,kh="DropdownMenu",[fK]=$u(kh,[MD]),Bt=MD(),[dK,ZD]=fK(kh),eO=t=>{const{__scopeDropdownMenu:e,children:n,dir:i,open:r,defaultOpen:a,onOpenChange:u,modal:c=!0}=t,h=Bt(e),d=w.useRef(null),[m,y]=h_({prop:r,defaultProp:a??!1,onChange:u,caller:kh});return E.jsx(dK,{scope:e,triggerId:hu(),triggerRef:d,contentId:hu(),open:m,onOpenChange:y,onOpenToggle:w.useCallback(()=>y(S=>!S),[y]),modal:c,children:E.jsx(jJ,{...h,open:m,onOpenChange:y,dir:i,modal:c,children:n})})};eO.displayName=kh;var tO="DropdownMenuTrigger",nO=w.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,disabled:i=!1,...r}=t,a=ZD(tO,n),u=Bt(n);return E.jsx(XJ,{asChild:!0,...u,children:E.jsx(zt.button,{type:"button",id:a.triggerId,"aria-haspopup":"menu","aria-expanded":a.open,"aria-controls":a.open?a.contentId:void 0,"data-state":a.open?"open":"closed","data-disabled":i?"":void 0,disabled:i,...r,ref:Rh(e,a.triggerRef),onPointerDown:Fe(t.onPointerDown,c=>{!i&&c.button===0&&c.ctrlKey===!1&&(a.onOpenToggle(),a.open||c.preventDefault())}),onKeyDown:Fe(t.onKeyDown,c=>{i||(["Enter"," "].includes(c.key)&&a.onOpenToggle(),c.key==="ArrowDown"&&a.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(c.key)&&c.preventDefault())})})})});nO.displayName=tO;var hK="DropdownMenuPortal",iO=t=>{const{__scopeDropdownMenu:e,...n}=t,i=Bt(e);return E.jsx(WJ,{...i,...n})};iO.displayName=hK;var oO="DropdownMenuContent",rO=w.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...i}=t,r=ZD(oO,n),a=Bt(n),u=w.useRef(!1);return E.jsx(QJ,{id:r.contentId,"aria-labelledby":r.triggerId,...a,...i,ref:e,onCloseAutoFocus:Fe(t.onCloseAutoFocus,c=>{u.current||r.triggerRef.current?.focus(),u.current=!1,c.preventDefault()}),onInteractOutside:Fe(t.onInteractOutside,c=>{const h=c.detail.originalEvent,d=h.button===0&&h.ctrlKey===!0,m=h.button===2||d;(!r.modal||m)&&(u.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});rO.displayName=oO;var pK="DropdownMenuGroup",mK=w.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...i}=t,r=Bt(n);return E.jsx(ZJ,{...r,...i,ref:e})});mK.displayName=pK;var gK="DropdownMenuLabel",vK=w.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...i}=t,r=Bt(n);return E.jsx(eK,{...r,...i,ref:e})});vK.displayName=gK;var yK="DropdownMenuItem",_K=w.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...i}=t,r=Bt(n);return E.jsx(tK,{...r,...i,ref:e})});_K.displayName=yK;var SK="DropdownMenuCheckboxItem",bK=w.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...i}=t,r=Bt(n);return E.jsx(nK,{...r,...i,ref:e})});bK.displayName=SK;var EK="DropdownMenuRadioGroup",wK=w.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...i}=t,r=Bt(n);return E.jsx(iK,{...r,...i,ref:e})});wK.displayName=EK;var CK="DropdownMenuRadioItem",TK=w.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...i}=t,r=Bt(n);return E.jsx(oK,{...r,...i,ref:e})});TK.displayName=CK;var AK="DropdownMenuItemIndicator",xK=w.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...i}=t,r=Bt(n);return E.jsx(rK,{...r,...i,ref:e})});xK.displayName=AK;var RK="DropdownMenuSeparator",MK=w.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...i}=t,r=Bt(n);return E.jsx(sK,{...r,...i,ref:e})});MK.displayName=RK;var NK="DropdownMenuArrow",IK=w.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...i}=t,r=Bt(n);return E.jsx(aK,{...r,...i,ref:e})});IK.displayName=NK;var DK=t=>{const{__scopeDropdownMenu:e,children:n,open:i,onOpenChange:r,defaultOpen:a}=t,u=Bt(e),[c,h]=h_({prop:i,defaultProp:a??!1,onChange:r,caller:"DropdownMenuSub"});return E.jsx(lK,{...u,open:c,onOpenChange:h,children:n})},OK="DropdownMenuSubTrigger",sO=w.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...i}=t,r=Bt(n);return E.jsx(uK,{...r,...i,ref:e})});sO.displayName=OK;var PK="DropdownMenuSubContent",aO=w.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...i}=t,r=Bt(n);return E.jsx(cK,{...r,...i,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});aO.displayName=PK;var kK=eO,LK=nO,UK=iO,BK=rO,NA=DK,IA=sO,DA=aO;const FK=ct(({scene:t})=>{if(!t.sceneJson||!t.sceneJson.data)return null;const e=t.sceneJson.data.tags,n=t.project?.artbook,i=a=>{t.addTag(a)};if(!n)return null;const r=a=>E.jsxs(kK,{children:[E.jsx(LK,{className:"dropdown-trigger",children:"Add Tag"}),E.jsx(UK,{children:E.jsx(BK,{className:"dropdown-content",align:"start",children:Object.entries(a).map(([u,c])=>E.jsxs(NA,{children:[E.jsx(IA,{className:"submenu-trigger",children:u}),E.jsx(DA,{className:"dropdown-content",children:Object.entries(c).map(([h,d])=>E.jsxs(NA,{children:[E.jsx(IA,{className:"submenu-trigger",children:h}),E.jsx(DA,{className:"dropdown-content",children:d.map(m=>E.jsx(E6,{art:m,onClick:()=>i(m.path)},m.path))})]},h))})]},u))})})]});return E.jsx(Fu,{label:"Tags",headerExtra:E.jsxs("div",{className:"d-flex align-items-center gap-2",children:[r(n.data),E.jsx(xh,{onClick:()=>{t.generateTags()},className:"btn-outline-success",label:"Generate Tags",is_loading:t.is_generating_tags}),E.jsx(ut,{onClick:()=>t.project?.artbook?.log(),label:"Log"})]}),children:e.length?E.jsx("ul",{className:"list-group list-group-flush",children:e.map((a,u)=>{const c=n.getTag(a);return c?E.jsx("li",{className:"list-group-item",children:E.jsx(b6,{art:c,scene:t})},u):null})}):E.jsx("div",{children:"No tags yet."})})}),Zr=({value:t,options:e,onChange:n,label:i,className:r=""})=>E.jsxs("div",{className:"btn-group",role:"group",children:[i&&E.jsx("span",{className:"btn btn-sm btn-outline-secondary disabled",children:i}),E.jsx("div",{className:`btn btn-sm btn-outline-secondary p-0 ${r}`,children:E.jsx("select",{className:"form-select form-select-sm border-0 rounded-0",value:t,onChange:a=>n?.(a.target.value),children:e.map(a=>E.jsx("option",{value:a,children:a},a))})})]}),Ku=({isLoading:t,className:e="",asButton:n=!1})=>{const i=E.jsx("span",{className:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true",style:{animation:t?void 0:"none",borderColor:t?void 0:"#6c757d"}});return n?E.jsx("button",{type:"button",className:`btn btn-sm btn-outline-secondary disabled d-flex align-items-center justify-content-center ${e}`,tabIndex:-1,style:{pointerEvents:"none"},children:i}):E.jsx("span",{className:e,children:i})},N_=({buttons:t,content:e,className:n=""})=>{const[i,r]=w.useState(!1);return E.jsxs("div",{className:`w-100 ${n}`,style:{display:"inline-block"},children:[E.jsxs("div",{className:"btn-group",role:"group",children:[t,E.jsx("button",{className:"btn btn-sm btn-outline-secondary",onClick:()=>r(a=>!a),"aria-label":"Toggle settings",type:"button",style:{borderBottomRightRadius:i?0:void 0},children:""})]}),i&&E.jsx("div",{className:"w-100 border p-2",style:{borderTopLeftRadius:0,borderTopRightRadius:5,borderBottomLeftRadius:5,borderBottomRightRadius:5,backgroundColor:"#383838ff",marginTop:0},children:e})]})},$K=ct(({scene:t})=>{if(!t.sceneJson)return E.jsx("div",{children:"No scene data available."});const e=async()=>{window.confirm(`Are you sure you want to delete scene "${t.folder.name}"?`)&&await t.delete()},n=async()=>{t.createShotsFromShotsJson()};return E.jsxs("div",{children:[E.jsxs("div",{style:{marginBottom:"10px"},children:[E.jsx(ut,{onClick:e,label:"Delete Scene",className:"btn-outline-danger"}),E.jsx(ut,{onClick:()=>t.log(),label:"LOG"})]}),E.jsx(N_,{className:"mb-2",buttons:E.jsxs(E.Fragment,{children:[E.jsx("button",{className:"btn btn-sm btn-outline-success",onClick:async()=>{const i=await t.generateShotsJson();t.sceneJson?.updateField("shotsjson",i)},children:" Split Into Shots "}),E.jsx(Zr,{value:t.project.workflows.split_scene_into_shots.model,options:II,onChange:i=>{t.project.updateWorkflow("split_scene_into_shots","model",i)}}),E.jsx(Ku,{isLoading:t.is_generating_shotsjson,asButton:!0})]}),content:E.jsxs(E.Fragment,{children:[E.jsx(Vt,{localJson:t.sceneJson,field:"split_prompt",fitHeight:!0}),E.jsx(Vt,{localJson:t.project.projinfo,field:"workflows/split_scene_into_shots/system_message",fitHeight:!0}),E.jsx(Vt,{localJson:t.project.projinfo,field:"workflows/split_scene_into_shots/prompt",fitHeight:!0})]})}),E.jsx(Vt,{localJson:t.sceneJson,field:"script",fitHeight:!0}),E.jsx(Vt,{localJson:t.sceneJson,field:"shotsjson",fitHeight:!0,headerExtra:E.jsx(ut,{onClick:n,label:"Create Shots"})}),E.jsx(FK,{scene:t}),E.jsx("div",{style:{height:"500px"}})]})}),lO=({label:t,value:e,onToggle:n,useIndicator:i=!1})=>i?E.jsx("div",{onClick:()=>n(!e),style:{width:"16px",height:"16px",borderRadius:"50%",backgroundColor:e?"green":"transparent",border:"2px solid green",cursor:"pointer"}}):E.jsx("button",{className:`btn btn-sm ${e?"btn-success":"btn-outline-secondary"}`,onClick:()=>n(!e),children:t}),jg="https://cdn.pixabay.com/photo/2021/05/09/06/07/dog-6240043_1280.jpg",HK=ct(({shot:t,isSelected:e,onClick:n})=>{const[i,r]=w.useState(jg);return w.useEffect(()=>{let a=!1;return(async()=>{if(t.srcImage)try{const c=await t.srcImage.getUrlObject();!a&&c&&r(c)}catch(c){console.error("Failed to load srcImage URL:",c),a||r(jg)}else r(jg)})(),()=>{a=!0}},[t.srcImage]),E.jsxs("div",{className:"flex-shrink-0 position-relative d-flex align-items-center justify-content-center",style:{height:"100%",cursor:"pointer",borderWidth:e?2:0,borderColor:e?"#04914a":"#dee2e6",borderStyle:"solid"},onClick:()=>n(t),children:[E.jsx("img",{src:i,alt:t.folder.name,className:"img-fluid",style:{height:"100%",width:"auto",objectFit:"contain",display:"block"}}),E.jsx("div",{className:"position-absolute text-white px-1",style:{bottom:0,left:0,backgroundColor:"rgba(0,0,0,0.5)",fontSize:"0.75rem",borderTopRightRadius:"4px"},children:t.folder.name}),E.jsx("div",{className:"position-absolute",style:{top:2,right:2},onClick:a=>a.stopPropagation(),children:E.jsx(lO,{label:"Finished",value:!!t.shotJson?.data?.finished,useIndicator:!0,onToggle:a=>{t.shotJson&&t.shotJson.updateField("finished",a)}})})]})}),GK=({initialHeight:t=80,minHeight:e=30,children:n})=>{const[i,r]=w.useState(t),a=w.useRef(null),u=w.useRef(!1),c=y=>{u.current=!0,y.preventDefault()},h=y=>{if(!u.current||!a.current)return;const S=a.current.getBoundingClientRect(),b=y.clientY-S.top;b>e&&r(b)},d=()=>{u.current=!1};w.useEffect(()=>(window.addEventListener("mousemove",h),window.addEventListener("mouseup",d),()=>{window.removeEventListener("mousemove",h),window.removeEventListener("mouseup",d)}),[]);const m=6;return E.jsxs("div",{ref:a,className:"position-relative",style:{height:`${i}px`},children:[E.jsx("div",{style:{height:"100%",paddingBottom:`${m}px`,boxSizing:"border-box"},children:n}),E.jsx("div",{style:{position:"absolute",bottom:0,left:0,right:0,height:`${m}px`,cursor:"ns-resize",zIndex:10,backgroundColor:"#0d6efd",opacity:.5},onMouseDown:c})]})},VK=ct(({shot:t})=>{const e=t.scene;if(!e.sceneJson||!e.sceneJson.data)return null;const n=e.sceneJson.data.tags,i=e.project?.artbook;return i?E.jsx(Fu,{label:"Tags",children:n.length?E.jsx("ul",{className:"list-group list-group-flush",children:n.map((r,a)=>{const u=i.getTag(r);if(!u)return null;const c=!t.getSkippedTags().includes(u.path);return E.jsxs("li",{className:"list-group-item p-0 border-0 d-flex align-items-center gap-2",children:[E.jsx("input",{type:"checkbox",className:"form-check-input m-0",checked:c,onChange:h=>{t.setTagSkipped(u.path,!h.target.checked)}}),E.jsx("span",{className:c?"":"text-muted",children:u.path})]},a)})}):E.jsx("div",{children:"No tags."})}):null}),zK={submitted:"gray",processing:"orange",succeed:"green",failed:"red"},qK=ct(({task:t})=>{const n=t.data?.status??"submitted",i=zK[n]??"gray";return E.jsx("div",{className:"card mb-0",children:E.jsxs("div",{className:"card-body d-flex align-items-center justify-content-between py-0",children:[E.jsxs("div",{className:"d-flex align-items-center gap-2",children:[E.jsx("div",{style:{width:12,height:12,borderRadius:"50%",backgroundColor:i}}),E.jsx("span",{className:"fw-bold",children:t.id}),E.jsx("span",{className:"text-muted",children:n})]}),E.jsxs("div",{className:"d-flex gap-0",children:[E.jsx("span",{className:"text-muted me-2",children:t._status_log}),E.jsx(ut,{label:"Check Status",className:"btn-outline-primary btn-sm rounded-0",onClick:()=>{t.check_status()}}),E.jsx(ut,{label:"Delete",className:"btn-outline-danger btn-sm rounded-0",onClick:()=>{window.confirm(`Delete task ${t.id}?`)&&t.delete()}}),E.jsx(ut,{label:"Log",className:"btn-outline-secondary btn-sm rounded-0",onClick:()=>{t.log()}}),E.jsx(Ku,{isLoading:t.is_checking_status,asButton:!0})]})]})})}),JK=ct(({shot:t})=>!t.tasks||t.tasks.length===0?E.jsx("div",{className:"mt-2 text-muted",children:"No tasks"}):E.jsx(Fu,{label:`Tasks (${t.tasks.length})`,defaultCollapsed:!1,className:"mt-2 mb-2",children:E.jsx("div",{className:"d-flex flex-column gap-0",children:t.tasks.map(e=>E.jsx(qK,{task:e},e.id))})})),KK=({label:t="Media Gallery",children:e,defaultCollapsed:n=!1,className:i="",headerExtra:r,editWindow:a})=>E.jsxs(Fu,{label:t,defaultCollapsed:n,className:i,headerExtra:r,children:[E.jsx("div",{className:"d-flex flex-wrap gap-2",children:e}),a&&E.jsx("div",{className:"mb-3",children:a})]}),YK=({localImage:t,height:e=150,topRightExtra:n,onClick:i,isSelected:r=!1,isPicked:a=!1})=>{const[u,c]=w.useState(null),[h,d]=w.useState(!1);return w.useEffect(()=>{let m=!0;return(async()=>{try{const S=await t.getUrlObject();m&&S&&c(S)}catch(S){console.error("Error loading LocalImage",S)}})(),()=>{m=!1}},[t]),u?E.jsxs("div",{className:"position-relative d-inline-block",style:{height:`${e}px`,cursor:"pointer",outline:a?"3px solid #085db7":"none",outlineOffset:-3},onMouseEnter:()=>d(!0),onMouseLeave:()=>d(!1),children:[r&&E.jsx("div",{style:{position:"absolute",top:5,left:5,width:20,height:20,borderRadius:"50%",backgroundColor:"limegreen",border:"2px solid white",zIndex:20}}),E.jsx("img",{src:u,alt:"Media",className:"img-fluid",onClick:i,style:{height:`${e}px`,width:"auto",objectFit:"contain",display:"block"}}),n&&h&&E.jsx("div",{className:"position-absolute",style:{top:"5px",right:"5px",zIndex:10,display:"flex",gap:"5px"},children:n})]}):E.jsx("div",{className:"d-flex align-items-center justify-content-center border rounded p-2",style:{height:`${e}px`,width:"auto"},children:"Loading..."})},I_=({localVideo:t,height:e=250,fillParent:n=!1,topRightExtra:i,onClick:r,autoPlay:a=!0,loop:u=!0,muted:c=!0,isSelected:h=!1,isPicked:d=!1})=>{const[m,y]=w.useState(null),[S,b]=w.useState(!1);return w.useEffect(()=>{let T=!0;return(async()=>{try{const x=await t.getUrlObject();T&&x&&y(x)}catch(x){console.error("Error loading LocalVideo",x)}})(),()=>{T=!1,t.revokeUrl()}},[t]),m?E.jsxs("div",{className:"position-relative d-inline-block",style:{height:n?"100%":`${e}px`,width:n?"100%":"auto",cursor:"pointer",outline:d?"3px solid #085db7":"none",outlineOffset:-3},onMouseEnter:()=>b(!0),onMouseLeave:()=>b(!1),children:[h&&E.jsx("div",{style:{position:"absolute",top:5,left:5,width:20,height:20,borderRadius:"50%",backgroundColor:"limegreen",border:"2px solid white",zIndex:20}}),E.jsx("video",{src:m,onClick:r,autoPlay:a,loop:u,muted:c,style:{height:n?"100%":`${e}px`,width:n?"100%":"auto",objectFit:"contain",display:"block"}}),i&&S&&E.jsx("div",{className:"position-absolute",style:{top:"5px",right:"5px",zIndex:10,display:"flex",gap:"5px"},children:i})]}):E.jsx("div",{className:"d-flex align-items-center justify-content-center border rounded p-2",style:{height:`${e}px`,width:"auto"},children:"Loading..."})},Jd=({mediaItem:t,height:e=300,onSelectMedia:n,topRightExtra:i,isSelected:r=!1,isPicked:a=!1,label:u=""})=>t instanceof Mi?E.jsxs("div",{className:"position-relative d-inline-block",children:[E.jsx(YK,{localImage:t,height:e,onClick:()=>n?.(t),topRightExtra:i,isSelected:r,isPicked:a},t.path),u&&E.jsx("div",{className:"position-absolute bottom-0 start-50 translate-middle-x bg-dark text-white px-2 py-1 rounded small text-nowrap opacity-75 pe-none mb-1",children:u})]}):t instanceof wa?E.jsx(I_,{localVideo:t,height:e,topRightExtra:i,isSelected:r,isPicked:a,onClick:()=>n?.(t)},t.path):null,jK=({width:t=400,height:e=200,onDrop:n,children:i})=>{const[r,a]=w.useState(!1),u=d=>{d.preventDefault(),a(!0)},c=()=>{a(!1)},h=d=>{d.preventDefault(),a(!1);const m=Array.from(d.dataTransfer.files);m.length>0&&n(m)};return E.jsx("div",{className:`drop-area ${r?"dragging":""}`,style:{width:t,height:e,border:r?"2px solid #42a5f5":"2px dashed #606060",borderRadius:"8px",display:"flex",justifyContent:"center",alignItems:"center",cursor:"pointer",backgroundColor:r?"#294457":"#2a2a31",boxShadow:r?"0 0 10px rgba(66,165,245,0.5)":"none",transition:"all 0.2s ease-in-out"},onDragOver:u,onDragLeave:c,onDrop:h,children:i||E.jsx("span",{style:{display:"block",textAlign:"center",width:"100%",color:"#5e727e"},children:"Drag and Drop Here"})})};function rt(t,e="Assertion error"){if(!t)throw Error(e)}function ry(t,e){return e.sort(t==="horizontal"?XK:WK)}function XK(t,e){const n=t.element.offsetLeft-e.element.offsetLeft;return n!==0?n:t.element.offsetWidth-e.element.offsetWidth}function WK(t,e){const n=t.element.offsetTop-e.element.offsetTop;return n!==0?n:t.element.offsetHeight-e.element.offsetHeight}function Lh({group:t}){const{orientation:e,panels:n}=t;return n.reduce((i,r)=>(i+=e==="horizontal"?r.element.offsetWidth:r.element.offsetHeight,i),0)}function uO(t){const{element:e,orientation:n,panels:i,separators:r}=t,a=ry(n,Array.from(e.children).filter(d=>d instanceof HTMLElement).map(d=>({element:d}))).map(({element:d})=>d),u=[];let c,h;for(const d of a){const m=i.find(y=>y.element===d);if(m){if(c){const y=c.element.getBoundingClientRect(),S=d.getBoundingClientRect();u.push({group:t,groupSize:Lh({group:t}),panels:[c,m],separator:h,rect:n==="horizontal"?new DOMRect(y.right,S.top,S.left-y.right,S.height):new DOMRect(S.left,y.bottom,S.width,S.top-y.bottom)})}c=m,h=void 0}else{const y=r.find(S=>S.element===d);y?h=y:(c=void 0,h=void 0)}}return u}function QK(t,e){const n=getComputedStyle(t),i=parseFloat(n.fontSize);return e*i}function ZK(t,e){const n=getComputedStyle(t.ownerDocument.body),i=parseFloat(n.fontSize);return e*i}function eY(t){return t/100*window.innerHeight}function tY(t){return t/100*window.innerWidth}function nY(t){switch(typeof t){case"number":return[t,"px"];case"string":{const e=parseFloat(t);return t.endsWith("%")?[e,"%"]:t.endsWith("px")?[e,"px"]:t.endsWith("rem")?[e,"rem"]:t.endsWith("em")?[e,"em"]:t.endsWith("vh")?[e,"vh"]:t.endsWith("vw")?[e,"vw"]:[e,"%"]}}}function zf({groupSize:t,panelElement:e,styleProp:n}){let i;const[r,a]=nY(n);switch(a){case"%":{i=r/100*t;break}case"px":{i=r;break}case"rem":{i=ZK(e,r);break}case"em":{i=QK(e,r);break}case"vh":{i=eY(r);break}case"vw":{i=tY(r);break}}return i}function ti(t){return parseFloat(t.toFixed(3))}function OA(t){const{panels:e}=t,n=Lh({group:t});return e.map(i=>{const{element:r,panelConstraints:a}=i;let u=0;if(a.collapsedSize){const m=zf({groupSize:n,panelElement:r,styleProp:a.collapsedSize});u=ti(m/n*100)}let c;if(a.defaultSize){const m=zf({groupSize:n,panelElement:r,styleProp:a.defaultSize});c=ti(m/n*100)}let h=0;if(a.minSize){const m=zf({groupSize:n,panelElement:r,styleProp:a.minSize});h=ti(m/n*100)}let d=100;if(a.maxSize){const m=zf({groupSize:n,panelElement:r,styleProp:a.maxSize});d=ti(m/n*100)}return{collapsedSize:u,collapsible:a.collapsible===!0,defaultSize:c,minSize:h,maxSize:d,panelId:i.id}})}class iY{#e={};addListener(e,n){const i=this.#e[e];return i===void 0?this.#e[e]=[n]:i.includes(n)||i.push(n),()=>{this.removeListener(e,n)}}emit(e,n){const i=this.#e[e];if(i!==void 0)if(i.length===1)i[0].call(null,n);else{let r=!1,a=null;const u=Array.from(i);for(let c=0;c<u.length;c++){const h=u[c];try{h.call(null,n)}catch(d){a===null&&(r=!0,a=d)}}if(r)throw a}}removeAllListeners(){this.#e={}}removeListener(e,n){const i=this.#e[e];if(i!==void 0){const r=i.indexOf(n);r>=0&&i.splice(r,1)}}}function Gt(t,e,n=0){return Math.abs(ti(t)-ti(e))<=n}let kn={cursorFlags:0,interactionState:{state:"inactive"},mountedGroups:new Map};const Vr=new iY;function ki(){return kn}function Vn(t){const e=typeof t=="function"?t(kn):t;if(kn===e)return kn;const n=kn;return kn={...kn,...e},e.cursorFlags!==void 0&&Vr.emit("cursorFlagsChange",kn.cursorFlags),e.interactionState!==void 0&&Vr.emit("interactionStateChange",kn.interactionState),e.mountedGroups!==void 0&&(kn.mountedGroups.forEach((i,r)=>{i.derivedPanelConstraints.forEach(a=>{if(a.collapsible){const{layout:u}=n.mountedGroups.get(r)??{};if(u){const c=Gt(a.collapsedSize,i.layout[a.panelId]),h=Gt(a.collapsedSize,u[a.panelId]);c&&!h&&(r.inMemoryLastExpandedPanelSizes[a.panelId]=u[a.panelId])}}})}),Vr.emit("mountedGroupsChange",kn.mountedGroups)),kn}const oY=t=>t,Xg=()=>{},cO=1,fO=2,dO=4,hO=8,PA={coarse:10,precise:5};function rY({cursorFlags:t,groups:e,state:n}){let i=0,r=0;switch(n){case"active":case"hover":e.forEach(a=>{if(!a.disableCursor)switch(a.orientation){case"horizontal":{i++;break}case"vertical":{r++;break}}})}if(i===0&&r===0)return null;switch(n){case"active":{const a=(t&cO)!==0,u=(t&fO)!==0,c=(t&dO)!==0,h=(t&hO)!==0;if(t){if(a)return c?"se-resize":h?"ne-resize":"e-resize";if(u)return c?"sw-resize":h?"nw-resize":"w-resize";if(c)return"s-resize";if(h)return"n-resize"}break}}return i>0&&r>0?"move":i>0?"ew-resize":"ns-resize"}let Wg,yi;function D_(){yi===void 0&&(yi=new CSSStyleSheet,document.adoptedStyleSheets=[yi]);const{cursorFlags:t,interactionState:e}=ki();switch(e.state){case"active":case"hover":{const n=rY({cursorFlags:t,groups:e.hitRegions.map(r=>r.group),state:e.state}),i=`*{cursor: ${n} !important; ${e.state==="active"?"touch-action: none;":""} }`;if(Wg===i)return;Wg=i,n?yi.cssRules.length===0?yi.insertRule(i):yi.replaceSync(i):yi.cssRules.length===1&&yi.deleteRule(0);break}case"inactive":{Wg=void 0,yi.cssRules.length===1&&yi.deleteRule(0);break}}}function sY(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!=e[n])return!1;return!0}function yu(t,e){return Gt(t,e)?0:t>e?1:-1}function ca({panelConstraints:t,size:e}){const{collapsedSize:n=0,collapsible:i,maxSize:r=100,minSize:a=0}=t;if(yu(e,a)<0)if(i){const u=(n+a)/2;yu(e,u)<0?e=n:e=a}else e=a;return e=Math.min(r,e),e=ti(e),e}function _u({delta:t,initialLayout:e,panelConstraints:n,pivotIndices:i,prevLayout:r,trigger:a}){if(Gt(t,0))return e;const u=Object.values(e),c=Object.values(r),h=[...u],[d,m]=i;rt(d!=null,"Invalid first pivot index"),rt(m!=null,"Invalid second pivot index");let y=0;if(a==="keyboard"){{const T=t<0?m:d,A=n[T];rt(A,`Panel constraints not found for index ${T}`);const{collapsedSize:x=0,collapsible:M,minSize:I=0}=A;if(M){const N=u[T];if(rt(N!=null,`Previous layout not found for panel index ${T}`),Gt(N,x)){const D=I-N;yu(D,Math.abs(t))>0&&(t=t<0?0-D:D)}}}{const T=t<0?d:m,A=n[T];rt(A,`No panel constraints found for index ${T}`);const{collapsedSize:x=0,collapsible:M,minSize:I=0}=A;if(M){const N=u[T];if(rt(N!=null,`Previous layout not found for panel index ${T}`),Gt(N,I)){const D=N-x;yu(D,Math.abs(t))>0&&(t=t<0?0-D:D)}}}}{const T=t<0?1:-1;let A=t<0?m:d,x=0;for(;;){const I=u[A];rt(I!=null,`Previous layout not found for panel index ${A}`);const N=ca({panelConstraints:n[A],size:100})-I;if(x+=N,A+=T,A<0||A>=n.length)break}const M=Math.min(Math.abs(t),Math.abs(x));t=t<0?0-M:M}{let T=t<0?d:m;for(;T>=0&&T<n.length;){const A=Math.abs(t)-Math.abs(y),x=u[T];rt(x!=null,`Previous layout not found for panel index ${T}`);const M=x-A,I=ca({panelConstraints:n[T],size:M});if(!Gt(x,I)&&(y+=x-I,h[T]=I,y.toFixed(3).localeCompare(Math.abs(t).toFixed(3),void 0,{numeric:!0})>=0))break;t<0?T--:T++}}if(sY(c,h))return r;{const T=t<0?m:d,A=u[T];rt(A!=null,`Previous layout not found for panel index ${T}`);const x=A+y,M=ca({panelConstraints:n[T],size:x});if(h[T]=M,!Gt(M,x)){let I=x-M,N=t<0?m:d;for(;N>=0&&N<n.length;){const D=h[N];rt(D!=null,`Previous layout not found for panel index ${N}`);const L=D+I,U=ca({panelConstraints:n[N],size:L});if(Gt(D,U)||(I-=U-D,h[N]=U),Gt(I,0))break;t>0?N--:N++}}}const S=Object.values(h).reduce((T,A)=>A+T,0);if(!Gt(S,100,.1))return r;const b=Object.keys(r);return h.reduce((T,A,x)=>(T[b[x]]=A,T),{})}function Yu(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(yu(t[n],e[n])!==0)return!1;return!0}function pO({event:t,hitRegions:e,initialLayoutMap:n,mountedGroups:i,pointerDownAtPoint:r}){let a=0;const u=new Map(i);e.forEach(c=>{const{group:h,groupSize:d}=c,{disableCursor:m,orientation:y,panels:S}=h;let b=0;r?y==="horizontal"?b=(t.clientX-r.x)/d*100:b=(t.clientY-r.y)/d*100:y==="horizontal"?b=t.clientX<0?-100:100:b=t.clientY<0?-100:100;const T=n.get(h),{derivedPanelConstraints:A,layout:x,separatorToPanels:M}=i.get(h)??{};if(A&&T&&x&&M){const I=_u({delta:b,initialLayout:T,panelConstraints:A,pivotIndices:c.panels.map(N=>S.indexOf(N)),prevLayout:x,trigger:"mouse-or-touch"});if(Yu(I,x)){if(b!==0&&!m)switch(y){case"horizontal":{a|=b<0?cO:fO;break}case"vertical":{a|=b<0?dO:hO;break}}}else{u.set(c.group,{derivedPanelConstraints:A,layout:I,separatorToPanels:M});const N=c.group.panels.map(({id:D})=>D).join(",");c.group.inMemoryLayouts[N]=I}}}),Vn({cursorFlags:a,mountedGroups:u}),D_()}function kA(t){if(t.defaultPrevented||t.relatedTarget!==null||t.clientX===0&&t.clientY===0)return;const{interactionState:e,mountedGroups:n}=ki();switch(e.state){case"active":e.hitRegions.forEach(i=>{t.currentTarget===i.group.element&&pO({event:t,hitRegions:e.hitRegions,initialLayoutMap:e.initialLayoutMap,mountedGroups:n})})}}function cd(t){const e=t.parentElement;rt(e,"Parent group element not found");const{mountedGroups:n}=ki();for(const[i]of n)if(i.element===e)return i;throw Error("Could not find parent Group for separator element")}function es({layout:t,panelConstraints:e}){const n=[...Object.values(t)],i=n.reduce((u,c)=>u+c,0);if(n.length!==e.length)throw Error(`Invalid ${e.length} panel layout: ${n.map(u=>`${u}%`).join(", ")}`);if(!Gt(i,100)&&n.length>0)for(let u=0;u<e.length;u++){const c=n[u];rt(c!=null,`No layout data found for index ${u}`);const h=100/i*c;n[u]=h}let r=0;for(let u=0;u<e.length;u++){const c=n[u];rt(c!=null,`No layout data found for index ${u}`);const h=ca({panelConstraints:e[u],size:c});c!=h&&(r+=c-h,n[u]=h)}if(!Gt(r,0))for(let u=0;u<e.length;u++){const c=n[u];rt(c!=null,`No layout data found for index ${u}`);const h=c+r,d=ca({panelConstraints:e[u],size:h});if(c!==d&&(r-=d-c,n[u]=d,Gt(r,0)))break}const a=Object.keys(t);return n.reduce((u,c,h)=>(u[a[h]]=c,u),{})}function mO({groupId:t}){const e=()=>{const{mountedGroups:n}=ki();for(const[i,r]of n)if(i.id===t)return{group:i,...r};throw Error(`Group ${t} not found`)};return{getLayout(){const{layout:n}=e();return n},setLayout(n){const{derivedPanelConstraints:i,group:r,layout:a,separatorToPanels:u}=e(),c=es({layout:n,panelConstraints:i});return Yu(a,c)||Vn(h=>({mountedGroups:new Map(h.mountedGroups).set(r,{derivedPanelConstraints:i,layout:c,separatorToPanels:u})})),c}}}function gO(t){const{mountedGroups:e}=ki(),n=e.get(t);return rt(n,`Mounted Group ${t.id} not found`),n}function Pr(t,e){const n=cd(t),i=gO(n),r=n.separators.find(m=>m.element===t);rt(r,"Matching separator not found");const a=i.separatorToPanels.get(r);rt(a,"Matching panels not found");const u=a.map(m=>n.panels.indexOf(m)),c=mO({groupId:n.id}).getLayout(),h=_u({delta:e,initialLayout:c,panelConstraints:i.derivedPanelConstraints,pivotIndices:u,prevLayout:c,trigger:"keyboard"}),d=es({layout:h,panelConstraints:i.derivedPanelConstraints});Yu(c,d)||Vn(m=>({mountedGroups:new Map(m.mountedGroups).set(n,{derivedPanelConstraints:i.derivedPanelConstraints,layout:d,separatorToPanels:i.separatorToPanels})}))}function LA(t){if(t.defaultPrevented)return;const e=t.currentTarget,n=cd(e);if(!n.disabled)switch(t.key){case"ArrowDown":{t.preventDefault(),n.orientation==="vertical"&&Pr(e,5);break}case"ArrowLeft":{t.preventDefault(),n.orientation==="horizontal"&&Pr(e,-5);break}case"ArrowRight":{t.preventDefault(),n.orientation==="horizontal"&&Pr(e,5);break}case"ArrowUp":{t.preventDefault(),n.orientation==="vertical"&&Pr(e,-5);break}case"End":{t.preventDefault(),Pr(e,100);break}case"Enter":{t.preventDefault();const i=cd(e),{derivedPanelConstraints:r,layout:a,separatorToPanels:u}=gO(i),c=i.separators.find(y=>y.element===e);rt(c,"Matching separator not found");const h=u.get(c);rt(h,"Matching panels not found");const d=h[0],m=r.find(y=>y.panelId===d.id);if(rt(m,"Panel metadata not found"),m.collapsible){const y=a[d.id],S=m.collapsedSize===y?i.inMemoryLastExpandedPanelSizes[d.id]??m.minSize:m.collapsedSize;Pr(e,S-y)}break}case"F6":{t.preventDefault();const i=cd(e).separators.map(u=>u.element),r=Array.from(i).findIndex(u=>u===t.currentTarget);rt(r!==null,"Index not found");const a=t.shiftKey?r>0?r-1:i.length-1:r+1<i.length?r+1:0;i[a].focus();break}case"Home":{t.preventDefault(),Pr(e,-100);break}}}function aY(t,e){return{x:t.x>=e.left&&t.x<=e.right?0:Math.min(Math.abs(t.x-e.left),Math.abs(t.x-e.right)),y:t.y>=e.top&&t.y<=e.bottom?0:Math.min(Math.abs(t.y-e.top),Math.abs(t.y-e.bottom))}}function lY(t,e,n){let i,r={x:1/0,y:1/0};for(const a of e){const u=aY(n,a.rect);switch(t){case"horizontal":{u.x<=r.x&&(i=a,r=u);break}case"vertical":{u.y<=r.y&&(i=a,r=u);break}}}return i?{distance:r,hitRegion:i}:void 0}let qf;function uY(){return qf===void 0&&(typeof matchMedia=="function"?qf=!!matchMedia("(pointer:coarse)").matches:qf=!1),qf}function vO(t,e){const n=[];return e.forEach((i,r)=>{if(r.disabled)return;const a=uY()?PA.coarse:PA.precise,u=uO(r),c=lY(r.orientation,u,{x:t.clientX,y:t.clientY});c&&c.distance.x<=a&&c.distance.y<=a&&n.push(c.hitRegion)}),n}function UA(t){if(t.defaultPrevented)return;const{mountedGroups:e}=ki(),n=vO(t,e),i=new Set,r=new Set,a=new Set,u=new Map;let c=!1;n.forEach(h=>{i.add(h.group),h.panels.forEach(m=>{r.add(m)}),h.separator&&(a.add(h.separator),c||(c=!0,h.separator.element.focus()));const d=e.get(h.group);d&&u.set(h.group,d.layout)}),Vn({interactionState:{hitRegions:n,initialLayoutMap:u,pointerDownAtPoint:{x:t.clientX,y:t.clientY},state:"active"}}),n.length&&t.preventDefault()}function BA(t){if(t.defaultPrevented)return;const{interactionState:e,mountedGroups:n}=ki();switch(e.state){case"active":{if(t.type!=="pointerleave"&&t.buttons===0){Vn(i=>i.interactionState.state==="inactive"?i:{cursorFlags:0,interactionState:{state:"inactive"}});return}pO({event:t,hitRegions:e.hitRegions,initialLayoutMap:e.initialLayoutMap,mountedGroups:n,pointerDownAtPoint:e.pointerDownAtPoint});break}default:{const i=vO(t,n);i.length===0?e.state!=="inactive"&&Vn({interactionState:{state:"inactive"}}):Vn({interactionState:{hitRegions:i,state:"hover"}}),D_();break}}}function FA(t){if(t.defaultPrevented)return;t.preventDefault();const{interactionState:e}=ki();switch(e.state){case"active":Vn({cursorFlags:0,interactionState:{state:"inactive"}}),D_()}}function cY(t){let e=0,n=0;const i={};for(const a of t)if(a.defaultSize!==void 0){e++;const u=ti(a.defaultSize);n+=u,i[a.panelId]=u}else i[a.panelId]=void 0;const r=t.length-e;if(r!==0){const a=ti((100-n)/r);for(const u of t)u.defaultSize===void 0&&(i[u.panelId]=a)}return i}function fY(t,e,n){const i=n[0];if(!i)return;const r=t.panels.find(u=>u.element===e);if(!r||!r.onResize)return;const a=Lh({group:t});r.onResize({asPercentage:ti(i.inlineSize/a*100),inPixels:i.inlineSize},r.id)}function dY(t){let e=!0;rt(t.separators.length===0||t.separators.length<t.panels.length,"Invalid Group configuration; too many Separator components");const n=new Set,i=new Set,r=new ResizeObserver(y=>{for(const S of y){const{borderBoxSize:b,target:T}=S;T===t.element?e&&Vn(A=>{const x=A.mountedGroups.get(t);if(x){const M=OA(t),I=x.layout,N=es({layout:I,panelConstraints:M});return{mountedGroups:new Map(A.mountedGroups).set(t,{derivedPanelConstraints:M,layout:N,separatorToPanels:x.separatorToPanels})}}return A}):fY(t,T,b)}});r.observe(t.element),t.panels.forEach(y=>{rt(!n.has(y.id),`Panel ids must be unique; id "${y.id}" was used more than once`),n.add(y.id),y.onResize&&r.observe(y.element)});const a=OA(t),u=t.panels.map(({id:y})=>y).join(","),c=t.inMemoryLayouts[u]??t.defaultLayout??cY(a),h=es({layout:c,panelConstraints:a}),d=uO(t),m=Vn(y=>({mountedGroups:new Map(y.mountedGroups).set(t,{derivedPanelConstraints:a,layout:h,separatorToPanels:new Map(d.filter(S=>S.separator).map(S=>[S.separator,S.panels]))})}));return t.element.addEventListener("pointerleave",kA),t.separators.forEach(y=>{rt(!i.has(y.id),`Separator ids must be unique; id "${y.id}" was used more than once`),i.add(y.id),y.element.addEventListener("keydown",LA)}),m.mountedGroups.size===1&&(window.addEventListener("pointerdown",UA),window.addEventListener("pointermove",BA),window.addEventListener("pointerup",FA)),function(){e=!1;const y=Vn(S=>{const b=new Map(S.mountedGroups);return b.delete(t),{mountedGroups:b}});t.element.removeEventListener("pointerleave",kA),t.separators.forEach(S=>{S.element.removeEventListener("keydown",LA)}),y.mountedGroups.size===0&&(window.removeEventListener("pointerdown",UA),window.removeEventListener("pointermove",BA),window.removeEventListener("pointerup",FA)),r.disconnect()}}function O_(t){const e=w.useId();return`${t??e}`}const Ua=typeof window<"u"?w.useLayoutEffect:w.useEffect;function P_(t){const e=w.useRef(t);return Ua(()=>{e.current=t},[t]),w.useCallback(n=>e.current?.(n),[e])}function k_(...t){return P_(e=>{t.forEach(n=>{if(n)switch(typeof n){case"function":{n(e);break}case"object":{n.current=e;break}}})})}const yO="--react-resizable-panels--panel--pointer-events";function _O(t,e){const n=t.replace(/[^a-zA-Z0-9\-_]/g,""),i=e.replace(/[^a-zA-Z0-9\-_]/g,"");return`--react-resizable-panels--${n}--${i}`}const SO=w.createContext(null);function hY(t,e){const n=w.useRef({getLayout:()=>({}),setLayout:oY});w.useImperativeHandle(e,()=>n.current,[]),Ua(()=>{Object.assign(n.current,mO({groupId:t}))})}function bO({children:t,className:e,defaultLayout:n,disableCursor:i,disabled:r,elementRef:a,groupRef:u,id:c,onLayoutChange:h,orientation:d="horizontal",style:m,...y}){const S=w.useRef({}),b=P_(ae=>{Yu(S.current,ae)||(S.current=ae,h?.(ae))}),T=O_(c),[A,x]=w.useState(!1),[M,I]=w.useState(null),[N,D]=w.useState(n??{}),[L,U]=w.useState([]),[O,q]=w.useState([]),J=w.useRef({}),j=w.useRef({}),W=k_(I,a);hY(T,u);const re=w.useMemo(()=>({id:T,orientation:d,registerPanel:ae=>(U(de=>ry(d,[...de,ae])),()=>{U(de=>de.filter(F=>F!==ae))}),registerSeparator:ae=>(q(de=>ry(d,[...de,ae])),()=>{q(de=>de.filter(F=>F!==ae))})}),[T,d]);Ua(()=>{if(M!==null&&L.length>0){const ae={defaultLayout:n,disableCursor:!!i,disabled:!!r,element:M,id:T,inMemoryLastExpandedPanelSizes:J.current,inMemoryLayouts:j.current,orientation:d,panels:L,separators:O},de=dY(ae),F=ki().mountedGroups.get(ae);F&&(D(F.layout),b?.(F.layout));const Q=Vr.addListener("interactionStateChange",ne=>{switch(ne.state){case"active":case"hover":{x(ne.hitRegions.some(ce=>ce.group===ae));break}}}),ee=Vr.addListener("mountedGroupsChange",ne=>{const ce=ne.get(ae);ce&&ce.derivedPanelConstraints.length>0&&(D(ce.layout),b?.(ce.layout))});return()=>{de(),Q(),ee()}}},[n,i,r,M,T,b,d,L,O]);const ie={[yO]:A?"none":void 0};for(const ae in N){const de=_O(T,ae),F=N[ae];ie[de]=F}return E.jsx(SO.Provider,{value:re,children:E.jsx("div",{...y,"aria-orientation":d,className:e,"data-group":!0,"data-testid":T,id:T,ref:W,style:{...m,...ie,display:"flex",flexDirection:d==="horizontal"?"row":"column",flexWrap:"nowrap"},children:t})})}function L_(){const t=w.useContext(SO);return rt(t,"Group Context not found; did you render a Panel or Separator outside of a Group?"),t}function pY({groupId:t,panelId:e}){const n=()=>{const{mountedGroups:c}=ki();for(const[h,{derivedPanelConstraints:d,layout:m,separatorToPanels:y}]of c)if(h.id===t)return{derivedPanelConstraints:d,group:h,layout:m,separatorToPanels:y};throw Error(`Group ${t} not found`)},i=()=>{const c=n().derivedPanelConstraints.find(h=>h.panelId===e);if(c!==void 0)return c;throw Error(`Panel constraints not found for Panel ${e}`)},r=()=>{const c=n().group.panels.find(h=>h.id===e);if(c!==void 0)return c;throw Error(`Layout not found for Panel ${e}`)},a=()=>{const c=n().layout[e];if(c!==void 0)return c;throw Error(`Layout not found for Panel ${e}`)},u=c=>{const h=a();if(c===h)return;const{derivedPanelConstraints:d,group:m,layout:y,separatorToPanels:S}=n(),b=m.panels.findIndex(M=>M.id===e),T=b===m.panels.length-1,A=_u({delta:T?h-c:c-h,initialLayout:y,panelConstraints:d,pivotIndices:T?[b-1,b]:[b,b+1],prevLayout:y,trigger:"imperative-api"}),x=es({layout:A,panelConstraints:d});Yu(y,x)||Vn(M=>({mountedGroups:new Map(M.mountedGroups).set(m,{derivedPanelConstraints:d,layout:x,separatorToPanels:S})}))};return{collapse:()=>{const{collapsible:c,collapsedSize:h}=i(),d=a();c&&d!==h&&u(h)},expand:()=>{const{collapsible:c,collapsedSize:h,minSize:d}=i(),m=a();c&&m===h&&u(d)},getSize:()=>{const{group:c}=n(),h=a(),{element:d}=r(),m=c.orientation==="horizontal"?d.offsetWidth:d.offsetHeight;return{asPercentage:h,inPixels:m}},isCollapsed:()=>{const{collapsible:c,collapsedSize:h}=i(),d=a();return c&&Gt(h,d)},resize:c=>{if(a()!==c){let h;switch(typeof c){case"number":{const{group:d}=n(),m=Lh({group:d});h=ti(c/m*100);break}case"string":{h=parseFloat(c);break}}u(h)}}}}function mY(t,e){const{id:n}=L_(),i=w.useRef({collapse:Xg,expand:Xg,getSize:()=>({asPercentage:0,inPixels:0}),isCollapsed:()=>!1,resize:Xg});w.useImperativeHandle(e,()=>i.current,[]),Ua(()=>{Object.assign(i.current,pY({groupId:n,panelId:t}))})}function Kd({children:t,className:e,collapsedSize:n="0%",collapsible:i=!1,defaultSize:r,elementRef:a,id:u,maxSize:c="100%",minSize:h="0%",onResize:d,panelRef:m,style:y,...S}){const b=!!u,T=O_(u),[A,x]=w.useState(null),M=k_(x,a),{id:I,registerPanel:N}=L_(),D=d!==null,L=P_(O=>{d?.(O,u)});Ua(()=>{if(A!==null)return N({element:A,id:T,idIsStable:b,onResize:D?L:void 0,panelConstraints:{collapsedSize:n,collapsible:i,defaultSize:r,maxSize:c,minSize:h}})},[n,i,r,A,D,T,b,c,h,L,N]),mY(T,m);const U=_O(I,T);return E.jsx("div",{...S,"data-panel":!0,"data-testid":T,id:T,ref:M,style:{...gY,flexBasis:0,flexGrow:`var(${U}, 1)`,flexShrink:1,overflow:"hidden",pointerEvents:`var(${yO})`},children:E.jsx("div",{className:e,style:{width:"100%",height:"100%",...y},children:t})})}const gY={minHeight:"unset",maxHeight:"unset",height:"unset",minWidth:"unset",maxWidth:"unset",width:"unset",flex:"unset",flexBasis:"unset",flexShrink:"unset",flexGrow:"unset",border:"unset",borderWidth:"unset",padding:"unset",margin:"unset"};function vY({layout:t,panelConstraints:e,panelId:n,panelIndex:i}){let r,a;const u=t[n],c=e.find(h=>h.panelId===n);if(c){const h=c.maxSize,d=a=c.collapsible?c.collapsedSize:c.minSize,m=[i,i+1];a=es({layout:_u({delta:d-u,initialLayout:t,panelConstraints:e,pivotIndices:m,prevLayout:t,trigger:"keyboard"}),panelConstraints:e})[n],r=es({layout:_u({delta:h-u,initialLayout:t,panelConstraints:e,pivotIndices:m,prevLayout:t,trigger:"keyboard"}),panelConstraints:e})[n]}return{valueControls:n,valueMax:r,valueMin:a,valueNow:u}}function EO({children:t,className:e,elementRef:n,id:i,style:r,...a}){const u=O_(i),[c,h]=w.useState({}),[d,m]=w.useState("inactive"),[y,S]=w.useState(null),b=k_(S,n),{id:T,orientation:A,registerSeparator:x}=L_(),M=A==="horizontal"?"vertical":"horizontal";return Ua(()=>{if(y!==null){const I={element:y,id:u},N=x(I),D=Vr.addListener("interactionStateChange",U=>{m(U.state!=="inactive"&&U.hitRegions.some(O=>O.separator===I)?U.state:"inactive")}),L=Vr.addListener("mountedGroupsChange",U=>{U.forEach(({derivedPanelConstraints:O,layout:q,separatorToPanels:J},j)=>{if(j.id===T){const W=J.get(I);if(W){const re=W[0],ie=j.panels.indexOf(re);h(vY({layout:q,panelConstraints:O,panelId:re.id,panelIndex:ie}))}}})});return()=>{D(),L(),N()}}},[y,T,u,x]),E.jsx("div",{...a,"aria-controls":c.valueControls,"aria-orientation":M,"aria-valuemax":c.valueMax,"aria-valuemin":c.valueMin,"aria-valuenow":c.valueNow,children:t,className:e,"data-separator":d,"data-testid":u,id:u,ref:b,role:"separator",style:{flexBasis:"auto",...r,flexGrow:0,flexShrink:0},tabIndex:0})}const yY=({localImage:t,initialText:e="",onImageGenerated:n,onClose:i})=>{const[r,a]=w.useState(null),[u,c]=w.useState(e),[h,d]=w.useState(!1),[m,y]=w.useState(co.options.img_models.flash_image);w.useEffect(()=>{let b=!0;return t.getUrlObject().then(T=>{b&&a(T)}),()=>{b=!1}},[t]);const S=async()=>{d(!0);try{const b=await t.getBase64(),T=await co.img2img(u||"",m,[{rawBase64:b.rawBase64,mime:b.mime,description:""}]);n&&n(T)}catch(b){console.error("GenerateImage failed:",b)}finally{d(!1)}};return E.jsx("div",{className:"border d-flex flex-column",style:{height:"700px"},children:E.jsxs(bO,{orientation:"horizontal",style:{height:"100%"},children:[E.jsx(Kd,{defaultSize:500,minSize:10,children:E.jsx("div",{className:"d-flex align-items-center justify-content-center overflow-hidden",style:{height:"100%"},children:r?E.jsx("img",{src:r,alt:"Preview",className:"img-fluid",style:{objectFit:"contain",maxHeight:"100%",maxWidth:"100%"}}):E.jsx("div",{children:"Loading image"})})}),E.jsx(EO,{style:{cursor:"ew-resize",backgroundColor:"#8f8f8fff",width:"10px"}}),E.jsx(Kd,{minSize:10,children:E.jsxs("div",{className:"d-flex flex-column h-100 p-3",style:{height:"100%"},children:[E.jsx("div",{className:"d-flex justify-content-end mb-2",children:i&&E.jsx("button",{type:"button",onClick:i,style:{cursor:"pointer"},children:""})}),E.jsxs("div",{className:"flex-grow-1 d-flex flex-column",children:[E.jsx("textarea",{value:u,onChange:b=>c(b.target.value),placeholder:"Edit This Image:",style:{flexGrow:1,resize:"none",padding:"8px",fontSize:"14px"}}),E.jsx(Zr,{value:m,options:Object.values(co.options.img_models),label:"Model:",onChange:b=>{y(b)}}),E.jsx(xh,{onClick:S,label:"Generate",is_loading:h})]})]})})]})})},_Y=({localVideo:t,initialText:e="",onVideoTaskCreated:n,onClose:i})=>{const[r,a]=w.useState(e),[u,c]=w.useState(!1),[h,d]=w.useState(je.options.omni_video.mode.pro),[m,y]=w.useState(je.options.omni_video.video.keep_original_sound.yes),S=async()=>{c(!0);try{const b=await t.getWebUrl(),T=await je.omniVideo({prompt:r,model:je.options.omni_video.model.o1,mode:h,video_list:[{video_url:b,refer_type:je.options.omni_video.video.refer_type.base,keep_original_sound:m}]});n?.(T)}catch(b){console.error("GenerateVideoEdit failed:",b)}finally{c(!1)}};return E.jsx("div",{className:"border d-flex flex-column",style:{height:"700px"},children:E.jsxs(bO,{orientation:"horizontal",style:{height:"100%"},children:[E.jsx(Kd,{defaultSize:500,minSize:10,children:E.jsx("div",{className:"d-flex align-items-center justify-content-center h-100",children:E.jsx(I_,{localVideo:t,fillParent:!0})})}),E.jsx(EO,{style:{cursor:"ew-resize",backgroundColor:"#8f8f8fff",width:"10px"}}),E.jsx(Kd,{minSize:10,children:E.jsxs("div",{className:"d-flex flex-column h-100 p-3",children:[E.jsx("div",{className:"d-flex justify-content-end mb-2",children:i&&E.jsx("button",{type:"button",onClick:i,children:""})}),E.jsxs("div",{className:"flex-grow-1 d-flex flex-column",children:[E.jsx("textarea",{value:r,onChange:b=>a(b.target.value),placeholder:"[@Video] make the character smile",style:{flexGrow:1,resize:"none",padding:"8px",fontSize:"14px"}}),E.jsx(Zr,{label:"Mode:",value:h,options:Object.values(je.options.omni_video.mode),onChange:b=>d(b)}),E.jsx(Zr,{label:"Keep Original Sound:",value:m,options:Object.values(je.options.omni_video.video.keep_original_sound),onChange:b=>y(b)}),E.jsx(xh,{onClick:S,label:"Generate",is_loading:u})]})]})})]})})},Qo=ct(({mediaFolder:t,label:e=null,itemHeight:n=300})=>!t||!t.folder?null:(e=e||t.folderName,E.jsx(E.Fragment,{children:E.jsxs(KK,{label:e,headerExtra:E.jsxs(E.Fragment,{children:[E.jsx(ut,{label:"Log",className:"btn-outline-secondary btn-sm",onClick:()=>{t.log()}}),E.jsx(ut,{label:"Import URL",className:"btn-outline-secondary btn-sm",onClick:async()=>{try{const i=await navigator.clipboard.readText();i&&(i.startsWith("http://")||i.startsWith("https://"))?(console.log("Importing URL from clipboard:",i),t.downloadFromUrl(i)):alert("Clipboard does not contain a valid URL.")}catch(i){console.error("Failed to read clipboard:",i),alert("Failed to access clipboard.")}}}),E.jsx(ut,{label:"Paste",className:"btn-outline-secondary btn-sm",onClick:()=>{t.copyFromClipboard()}})]}),editWindow:E.jsxs(E.Fragment,{children:[t.selectedMedia instanceof Mi?E.jsx(yY,{localImage:t.selectedMedia,initialText:"Notes for this image",onImageGenerated:async i=>{console.log("Image generated:",i);const r=await co.saveResultImage(i,t.folder);r&&t.loadFile(r?.handle)},onClose:()=>t.setSelectedMedia(null)}):null,t.selectedMedia instanceof wa?E.jsx(E.Fragment,{children:E.jsx(_Y,{localVideo:t.selectedMedia,initialText:"Notes for this video",onVideoTaskCreated:async i=>{console.log("Video task created:",i);const a=t.shot.addTask(i.id,{provider:Rd.KLING,workflow:i.workflow});await new Promise(u=>setTimeout(u,100)),console.log("created_task"),a.check_status()},onClose:()=>t.setSelectedMedia(null)})}):null]}),children:[t.media.map(i=>E.jsx(Jd,{mediaItem:i,height:n,onSelectMedia:r=>{t.setSelectedMedia(r)},isSelected:t.getMediaTags(i).length>0,isPicked:t.selectedMedia==i,label:t.getMediaTags(i).join(","),topRightExtra:E.jsxs(E.Fragment,{children:[E.jsx(ut,{label:"Delete",className:"btn-outline-danger btn-sm",onClick:async()=>{await t.deleteMedia(i)}}),E.jsx(PI,{items:t.tags,currentItem:"TAG",onPicked:r=>{t.setNamedMedia(r,i)}})]})},i.path)),E.jsx(jK,{width:100,height:n,onDrop:async i=>{await t.saveFiles(i)}})]})}))),ma=ct(function({workflowName:e,project:n,optionName:i,label:r,values:a}){const u=n?.workflows?.[e]?.[i];return E.jsx(Zr,{value:u,options:a,label:r,onChange:c=>{n.updateWorkflow(e,i,c)}})}),SY=ct(({shot:t})=>{const e=t.scene.project;return E.jsx(N_,{className:"mb-2",buttons:E.jsxs(E.Fragment,{children:[E.jsx("button",{className:"btn btn-sm btn-outline-success",onClick:async()=>{t.GenerateVideo()},children:"Generate Video"}),E.jsx(ma,{project:e,workflowName:"generate_video_kling",optionName:"model",values:Object.values(je.options.img2video.model)}),E.jsx(ma,{project:e,workflowName:"generate_video_kling",optionName:"mode",label:"mode:",values:Object.values(je.options.img2video.mode)}),E.jsx(ma,{project:e,workflowName:"generate_video_kling",optionName:"duration",label:"Duration:",values:Object.values(je.options.img2video.duration)}),E.jsx(Ku,{isLoading:t.is_submitting_video,asButton:!0})]}),content:E.jsxs(E.Fragment,{children:[E.jsx(Vt,{localJson:t.shotJson,field:"video_prompt",fitHeight:!0}),E.jsx(Jd,{mediaItem:t.srcImage,height:400}),E.jsx(Jd,{mediaItem:t.MediaFolder_results?.getNamedMedia("end_frame"),height:400}),E.jsx(Qo,{mediaFolder:t.MediaFolder_results,label:"Source Image",itemHeight:300})]})})}),bY=ct(({shot:t})=>{const e=t.scene.project;return E.jsx(N_,{className:"mb-2",buttons:E.jsxs(E.Fragment,{children:[E.jsx("button",{className:"btn btn-sm btn-outline-success",onClick:async()=>{t.GenerateVideo_KlingMotionControl()},children:"Gen Motion Control Video"}),E.jsx(ma,{project:e,workflowName:"kling_motion_control",optionName:"character_orientation",label:"Orient:",values:Object.values(je.options.motion_control.character_orientation)}),E.jsx(ma,{project:e,workflowName:"kling_motion_control",optionName:"mode",label:"mode:",values:Object.values(je.options.motion_control.mode)}),E.jsx(ma,{project:e,workflowName:"kling_motion_control",optionName:"keep_original_sound",label:"Sound:",values:Object.values(je.options.motion_control.keep_original_sound)}),E.jsx(Ku,{isLoading:t.is_submitting_video,asButton:!0})]}),content:E.jsxs(E.Fragment,{children:[E.jsx(Vt,{localJson:t.shotJson,field:"video_prompt",fitHeight:!0}),E.jsx(Jd,{mediaItem:t.srcImage,height:400}),t.kling_motion_video&&E.jsx(I_,{localVideo:t.kling_motion_video,height:400,topRightExtra:E.jsx(E.Fragment,{})}),E.jsx(Qo,{mediaFolder:t.MediaFolder_results,label:"Source Image",itemHeight:300}),E.jsx(Qo,{mediaFolder:t.MediaFolder_refVideo,label:"Motion Video",itemHeight:300})]})})}),EY=ct(({shot:t})=>{if(!t.shotJson)return E.jsx("div",{children:"Loading shot info..."});const e=async()=>{window.confirm(`Are you sure you want to delete shot "${t.folder.name}"?`)&&await t.delete()};return E.jsxs(E.Fragment,{children:[E.jsxs("div",{className:"d-flex align-items-center justify-content-between mb-0",children:[E.jsx("strong",{children:t.folder.name}),E.jsxs("div",{className:"d-flex gap-2",children:[E.jsx(Zr,{value:t.shotJson.getField("shot_type")||"shot_type",options:["simple shot","actor shot"],onChange:n=>{t.shotJson?.updateField("shot_type",n)}}),E.jsx(lO,{label:"Finished",value:!!t.shotJson.data?.finished,onToggle:n=>{t.shotJson&&t.shotJson.updateField("finished",n)}}),E.jsx(ut,{onClick:()=>{t.log()},label:"Log Shot"}),E.jsx(ut,{onClick:e,label:"Delete Shot",className:"btn-outline-danger"})]})]}),E.jsx(Ca,{tabs:{Generate_Image:E.jsx("div",{className:"card mb-2",children:E.jsxs("div",{className:"card-body",children:[E.jsx("div",{className:"mb-0",children:E.jsxs("div",{className:"btn-group mb-2",role:"group",children:[E.jsx("button",{className:"btn btn-sm btn-outline-success",onClick:async()=>{t.GenerateImage()},children:" Generate Image "}),E.jsx(Zr,{value:t.scene.project.workflows.generate_shot_image.model,options:QM,onChange:n=>{t.scene.project.updateWorkflow("generate_shot_image","model",n)}}),E.jsx(Ku,{isLoading:t.is_generating,asButton:!0})]})}),E.jsx(Vt,{localJson:t.shotJson,field:"prompt",fitHeight:!0}),E.jsx(Vt,{localJson:t.shotJson,field:"video_prompt",fitHeight:!0}),E.jsx(Vt,{localJson:t.shotJson,field:"camera",fitHeight:!0}),E.jsx(Vt,{localJson:t.shotJson,field:"action_description",fitHeight:!0}),E.jsx(VK,{shot:t}),E.jsx(Qo,{mediaFolder:t.MediaFolder_results})]})}),Generate_VIDEO:E.jsxs(E.Fragment,{children:[E.jsx(SY,{shot:t}),E.jsx(bY,{shot:t}),E.jsx(JK,{shot:t}),E.jsx(Qo,{mediaFolder:t.MediaFolder_genVideo})]}),Output:E.jsxs(E.Fragment,{children:[E.jsx(Qo,{mediaFolder:t.MediaFolder_genVideo}),E.jsx(Qo,{mediaFolder:t.MediaFolder_results}),E.jsx(Qo,{mediaFolder:t.MediaFolder_refVideo})]})}})]})}),wY=ct(({scene:t})=>{const[e,n]=w.useState(null);w.useEffect(()=>{n(null)},[t]);const i=async()=>{const r=prompt("Enter new shot name:");if(!r)return;const a=await t.createShot(r);a&&n(a)};return E.jsxs("div",{className:"d-flex flex-column gap-3",children:[E.jsx(GK,{initialHeight:200,children:E.jsxs("div",{className:"d-flex overflow-auto gap-2 h-100",children:[t.shots.map(r=>E.jsx(HK,{shot:r,isSelected:e===r,onClick:n},r.folder.name)),E.jsx("div",{className:"mt-2",children:E.jsx(ut,{label:"+ Add Shot",onClick:i})})]})}),E.jsxs("div",{children:[E.jsx(xh,{onClick:()=>{t.generateAllShotImages()},label:"Generate ALL",is_loading:t.is_generating_all_shot_images}),E.jsx(ut,{label:"+ Add Shot",onClick:i}),E.jsx(ut,{label:"Export Resolve XML",onClick:()=>{t.createResolveXML()}})]}),e&&E.jsx(EY,{shot:e})]})}),CY=ct(({project:t})=>{switch(t.currentView.type){case"settings":return E.jsx(v6,{project:t});case"script":return E.jsx(y6,{project:t});case"artbook":return t.artbook?E.jsx(S6,{artbook:t.artbook}):E.jsx("div",{children:"No Artbook found."});case"scene":if(!t.selectedScene)return null;const e=t.selectedScene;return E.jsxs("div",{children:[E.jsx("h2",{children:e.folder.name}),E.jsx(Ca,{tabs:{Scene:E.jsx($K,{scene:e}),Shots:E.jsx(wY,{scene:e})}})]});default:return null}}),TY=ct(()=>{const[t]=w.useState(()=>new h6(null)),e=async()=>{try{const i=await window.showDirectoryPicker();await t.loadFromFolder(i)}catch(i){console.error(i)}},n=async i=>{let r=await i.queryPermission({mode:"readwrite"});r!=="granted"&&(r=await i.requestPermission({mode:"readwrite"})),r==="granted"&&await t.loadFromFolder(i)};return w.useEffect(()=>{(async()=>{if(await t.loadDB(),t.userSettingsDB.data.lastOpenedFolder){const r=t.userSettingsDB.data.lastOpenedFolder;let a=await r.queryPermission({mode:"readwrite"});a!=="granted"&&(a=await r.requestPermission({mode:"readwrite"})),a==="granted"&&await t.loadFromFolder(r)}})()},[]),E.jsxs("div",{style:{minHeight:"100vh"},children:[E.jsx(p6,{onOpenFolder:e,recentFolders:t.userSettingsDB.data.recentFolders,onOpenRecent:n,project:t}),E.jsxs("div",{className:"d-flex",style:{height:"calc(100vh - 56px)",overflow:"hidden"},children:[E.jsx(g6,{project:t}),E.jsx("div",{className:"flex-grow-1 d-flex flex-column overflow-hidden",children:E.jsx("div",{className:"flex-grow-1 overflow-auto p-3",children:E.jsx(CY,{project:t})})})]})]})}),AY=w.createContext(void 0),xY=({children:t})=>{const[e,n]=w.useState(null);return E.jsx(AY.Provider,{value:{contentArea:e,setContentArea:n},children:t})};WP.createRoot(document.getElementById("root")).render(E.jsx(w.StrictMode,{children:E.jsx(xY,{children:E.jsx(TY,{})})}));
