function $P(t,e){for(var n=0;n<e.length;n++){const i=e[n];if(typeof i!="string"&&!Array.isArray(i)){for(const r in i)if(r!=="default"&&!(r in t)){const a=Object.getOwnPropertyDescriptor(i,r);a&&Object.defineProperty(t,r,a.get?a:{enumerable:!0,get:()=>i[r]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const a of r)if(a.type==="childList")for(const u of a.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function n(r){const a={};return r.integrity&&(a.integrity=r.integrity),r.referrerPolicy&&(a.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?a.credentials="include":r.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(r){if(r.ep)return;r.ep=!0;const a=n(r);fetch(r.href,a)}})();function Su(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Jm={exports:{}},Il={};var DE;function HP(){if(DE)return Il;DE=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(i,r,a){var u=null;if(a!==void 0&&(u=""+a),r.key!==void 0&&(u=""+r.key),"key"in r){a={};for(var c in r)c!=="key"&&(a[c]=r[c])}else a=r;return r=a.ref,{$$typeof:t,type:i,key:u,ref:r!==void 0?r:null,props:a}}return Il.Fragment=e,Il.jsx=n,Il.jsxs=n,Il}var OE;function GP(){return OE||(OE=1,Jm.exports=HP()),Jm.exports}var E=GP(),Km={exports:{}},xe={};var PE;function VP(){if(PE)return xe;PE=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),u=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),y=Symbol.for("react.activity"),S=Symbol.iterator;function b(k){return k===null||typeof k!="object"?null:(k=S&&k[S]||k["@@iterator"],typeof k=="function"?k:null)}var T={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,x={};function M(k,Y,se){this.props=k,this.context=Y,this.refs=x,this.updater=se||T}M.prototype.isReactComponent={},M.prototype.setState=function(k,Y){if(typeof k!="object"&&typeof k!="function"&&k!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,k,Y,"setState")},M.prototype.forceUpdate=function(k){this.updater.enqueueForceUpdate(this,k,"forceUpdate")};function I(){}I.prototype=M.prototype;function N(k,Y,se){this.props=k,this.context=Y,this.refs=x,this.updater=se||T}var D=N.prototype=new I;D.constructor=N,A(D,M.prototype),D.isPureReactComponent=!0;var L=Array.isArray;function U(){}var O={H:null,A:null,T:null,S:null},q=Object.prototype.hasOwnProperty;function J(k,Y,se){var le=se.ref;return{$$typeof:t,type:k,key:Y,ref:le!==void 0?le:null,props:se}}function j(k,Y){return J(k.type,Y,k.props)}function W(k){return typeof k=="object"&&k!==null&&k.$$typeof===t}function re(k){var Y={"=":"=0",":":"=2"};return"$"+k.replace(/[=:]/g,function(se){return Y[se]})}var ie=/\/+/g;function ae(k,Y){return typeof k=="object"&&k!==null&&k.key!=null?re(""+k.key):Y.toString(36)}function de(k){switch(k.status){case"fulfilled":return k.value;case"rejected":throw k.reason;default:switch(typeof k.status=="string"?k.then(U,U):(k.status="pending",k.then(function(Y){k.status==="pending"&&(k.status="fulfilled",k.value=Y)},function(Y){k.status==="pending"&&(k.status="rejected",k.reason=Y)})),k.status){case"fulfilled":return k.value;case"rejected":throw k.reason}}throw k}function F(k,Y,se,le,me){var be=typeof k;(be==="undefined"||be==="boolean")&&(k=null);var ve=!1;if(k===null)ve=!0;else switch(be){case"bigint":case"string":case"number":ve=!0;break;case"object":switch(k.$$typeof){case t:case e:ve=!0;break;case m:return ve=k._init,F(ve(k._payload),Y,se,le,me)}}if(ve)return me=me(k),ve=le===""?"."+ae(k,0):le,L(me)?(se="",ve!=null&&(se=ve.replace(ie,"$&/")+"/"),F(me,Y,se,"",function(rn){return rn})):me!=null&&(W(me)&&(me=j(me,se+(me.key==null||k&&k.key===me.key?"":(""+me.key).replace(ie,"$&/")+"/")+ve)),Y.push(me)),1;ve=0;var ze=le===""?".":le+":";if(L(k))for(var qe=0;qe<k.length;qe++)le=k[qe],be=ze+ae(le,qe),ve+=F(le,Y,se,be,me);else if(qe=b(k),typeof qe=="function")for(k=qe.call(k),qe=0;!(le=k.next()).done;)le=le.value,be=ze+ae(le,qe++),ve+=F(le,Y,se,be,me);else if(be==="object"){if(typeof k.then=="function")return F(de(k),Y,se,le,me);throw Y=String(k),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(k).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return ve}function Q(k,Y,se){if(k==null)return k;var le=[],me=0;return F(k,le,"","",function(be){return Y.call(se,be,me++)}),le}function ee(k){if(k._status===-1){var Y=k._result;Y=Y(),Y.then(function(se){(k._status===0||k._status===-1)&&(k._status=1,k._result=se)},function(se){(k._status===0||k._status===-1)&&(k._status=2,k._result=se)}),k._status===-1&&(k._status=0,k._result=Y)}if(k._status===1)return k._result.default;throw k._result}var ne=typeof reportError=="function"?reportError:function(k){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof k=="object"&&k!==null&&typeof k.message=="string"?String(k.message):String(k),error:k});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",k);return}console.error(k)},ce={map:Q,forEach:function(k,Y,se){Q(k,function(){Y.apply(this,arguments)},se)},count:function(k){var Y=0;return Q(k,function(){Y++}),Y},toArray:function(k){return Q(k,function(Y){return Y})||[]},only:function(k){if(!W(k))throw Error("React.Children.only expected to receive a single React element child.");return k}};return xe.Activity=y,xe.Children=ce,xe.Component=M,xe.Fragment=n,xe.Profiler=r,xe.PureComponent=N,xe.StrictMode=i,xe.Suspense=h,xe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=O,xe.__COMPILER_RUNTIME={__proto__:null,c:function(k){return O.H.useMemoCache(k)}},xe.cache=function(k){return function(){return k.apply(null,arguments)}},xe.cacheSignal=function(){return null},xe.cloneElement=function(k,Y,se){if(k==null)throw Error("The argument must be a React element, but you passed "+k+".");var le=A({},k.props),me=k.key;if(Y!=null)for(be in Y.key!==void 0&&(me=""+Y.key),Y)!q.call(Y,be)||be==="key"||be==="__self"||be==="__source"||be==="ref"&&Y.ref===void 0||(le[be]=Y[be]);var be=arguments.length-2;if(be===1)le.children=se;else if(1<be){for(var ve=Array(be),ze=0;ze<be;ze++)ve[ze]=arguments[ze+2];le.children=ve}return J(k.type,me,le)},xe.createContext=function(k){return k={$$typeof:u,_currentValue:k,_currentValue2:k,_threadCount:0,Provider:null,Consumer:null},k.Provider=k,k.Consumer={$$typeof:a,_context:k},k},xe.createElement=function(k,Y,se){var le,me={},be=null;if(Y!=null)for(le in Y.key!==void 0&&(be=""+Y.key),Y)q.call(Y,le)&&le!=="key"&&le!=="__self"&&le!=="__source"&&(me[le]=Y[le]);var ve=arguments.length-2;if(ve===1)me.children=se;else if(1<ve){for(var ze=Array(ve),qe=0;qe<ve;qe++)ze[qe]=arguments[qe+2];me.children=ze}if(k&&k.defaultProps)for(le in ve=k.defaultProps,ve)me[le]===void 0&&(me[le]=ve[le]);return J(k,be,me)},xe.createRef=function(){return{current:null}},xe.forwardRef=function(k){return{$$typeof:c,render:k}},xe.isValidElement=W,xe.lazy=function(k){return{$$typeof:m,_payload:{_status:-1,_result:k},_init:ee}},xe.memo=function(k,Y){return{$$typeof:d,type:k,compare:Y===void 0?null:Y}},xe.startTransition=function(k){var Y=O.T,se={};O.T=se;try{var le=k(),me=O.S;me!==null&&me(se,le),typeof le=="object"&&le!==null&&typeof le.then=="function"&&le.then(U,ne)}catch(be){ne(be)}finally{Y!==null&&se.types!==null&&(Y.types=se.types),O.T=Y}},xe.unstable_useCacheRefresh=function(){return O.H.useCacheRefresh()},xe.use=function(k){return O.H.use(k)},xe.useActionState=function(k,Y,se){return O.H.useActionState(k,Y,se)},xe.useCallback=function(k,Y){return O.H.useCallback(k,Y)},xe.useContext=function(k){return O.H.useContext(k)},xe.useDebugValue=function(){},xe.useDeferredValue=function(k,Y){return O.H.useDeferredValue(k,Y)},xe.useEffect=function(k,Y){return O.H.useEffect(k,Y)},xe.useEffectEvent=function(k){return O.H.useEffectEvent(k)},xe.useId=function(){return O.H.useId()},xe.useImperativeHandle=function(k,Y,se){return O.H.useImperativeHandle(k,Y,se)},xe.useInsertionEffect=function(k,Y){return O.H.useInsertionEffect(k,Y)},xe.useLayoutEffect=function(k,Y){return O.H.useLayoutEffect(k,Y)},xe.useMemo=function(k,Y){return O.H.useMemo(k,Y)},xe.useOptimistic=function(k,Y){return O.H.useOptimistic(k,Y)},xe.useReducer=function(k,Y,se){return O.H.useReducer(k,Y,se)},xe.useRef=function(k){return O.H.useRef(k)},xe.useState=function(k){return O.H.useState(k)},xe.useSyncExternalStore=function(k,Y,se){return O.H.useSyncExternalStore(k,Y,se)},xe.useTransition=function(){return O.H.useTransition()},xe.version="19.2.1",xe}var kE;function Jd(){return kE||(kE=1,Km.exports=VP()),Km.exports}var C=Jd();const et=Su(C),FA=$P({__proto__:null,default:et},[C]);var Ym={exports:{}},Dl={},jm={exports:{}},Xm={};var LE;function zP(){return LE||(LE=1,(function(t){function e(F,Q){var ee=F.length;F.push(Q);e:for(;0<ee;){var ne=ee-1>>>1,ce=F[ne];if(0<r(ce,Q))F[ne]=Q,F[ee]=ce,ee=ne;else break e}}function n(F){return F.length===0?null:F[0]}function i(F){if(F.length===0)return null;var Q=F[0],ee=F.pop();if(ee!==Q){F[0]=ee;e:for(var ne=0,ce=F.length,k=ce>>>1;ne<k;){var Y=2*(ne+1)-1,se=F[Y],le=Y+1,me=F[le];if(0>r(se,ee))le<ce&&0>r(me,se)?(F[ne]=me,F[le]=ee,ne=le):(F[ne]=se,F[Y]=ee,ne=Y);else if(le<ce&&0>r(me,ee))F[ne]=me,F[le]=ee,ne=le;else break e}}return Q}function r(F,Q){var ee=F.sortIndex-Q.sortIndex;return ee!==0?ee:F.id-Q.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var u=Date,c=u.now();t.unstable_now=function(){return u.now()-c}}var h=[],d=[],m=1,y=null,S=3,b=!1,T=!1,A=!1,x=!1,M=typeof setTimeout=="function"?setTimeout:null,I=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;function D(F){for(var Q=n(d);Q!==null;){if(Q.callback===null)i(d);else if(Q.startTime<=F)i(d),Q.sortIndex=Q.expirationTime,e(h,Q);else break;Q=n(d)}}function L(F){if(A=!1,D(F),!T)if(n(h)!==null)T=!0,U||(U=!0,re());else{var Q=n(d);Q!==null&&de(L,Q.startTime-F)}}var U=!1,O=-1,q=5,J=-1;function j(){return x?!0:!(t.unstable_now()-J<q)}function W(){if(x=!1,U){var F=t.unstable_now();J=F;var Q=!0;try{e:{T=!1,A&&(A=!1,I(O),O=-1),b=!0;var ee=S;try{t:{for(D(F),y=n(h);y!==null&&!(y.expirationTime>F&&j());){var ne=y.callback;if(typeof ne=="function"){y.callback=null,S=y.priorityLevel;var ce=ne(y.expirationTime<=F);if(F=t.unstable_now(),typeof ce=="function"){y.callback=ce,D(F),Q=!0;break t}y===n(h)&&i(h),D(F)}else i(h);y=n(h)}if(y!==null)Q=!0;else{var k=n(d);k!==null&&de(L,k.startTime-F),Q=!1}}break e}finally{y=null,S=ee,b=!1}Q=void 0}}finally{Q?re():U=!1}}}var re;if(typeof N=="function")re=function(){N(W)};else if(typeof MessageChannel<"u"){var ie=new MessageChannel,ae=ie.port2;ie.port1.onmessage=W,re=function(){ae.postMessage(null)}}else re=function(){M(W,0)};function de(F,Q){O=M(function(){F(t.unstable_now())},Q)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(F){F.callback=null},t.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):q=0<F?Math.floor(1e3/F):5},t.unstable_getCurrentPriorityLevel=function(){return S},t.unstable_next=function(F){switch(S){case 1:case 2:case 3:var Q=3;break;default:Q=S}var ee=S;S=Q;try{return F()}finally{S=ee}},t.unstable_requestPaint=function(){x=!0},t.unstable_runWithPriority=function(F,Q){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var ee=S;S=F;try{return Q()}finally{S=ee}},t.unstable_scheduleCallback=function(F,Q,ee){var ne=t.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?ne+ee:ne):ee=ne,F){case 1:var ce=-1;break;case 2:ce=250;break;case 5:ce=1073741823;break;case 4:ce=1e4;break;default:ce=5e3}return ce=ee+ce,F={id:m++,callback:Q,priorityLevel:F,startTime:ee,expirationTime:ce,sortIndex:-1},ee>ne?(F.sortIndex=ee,e(d,F),n(h)===null&&F===n(d)&&(A?(I(O),O=-1):A=!0,de(L,ee-ne))):(F.sortIndex=ce,e(h,F),T||b||(T=!0,U||(U=!0,re()))),F},t.unstable_shouldYield=j,t.unstable_wrapCallback=function(F){var Q=S;return function(){var ee=S;S=Q;try{return F.apply(this,arguments)}finally{S=ee}}}})(Xm)),Xm}var UE;function qP(){return UE||(UE=1,jm.exports=zP()),jm.exports}var Wm={exports:{}},kt={};var BE;function JP(){if(BE)return kt;BE=1;var t=Jd();function e(h){var d="https://react.dev/errors/"+h;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)d+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+h+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},r=Symbol.for("react.portal");function a(h,d,m){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:y==null?null:""+y,children:h,containerInfo:d,implementation:m}}var u=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(h,d){if(h==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return kt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,kt.createPortal=function(h,d){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(e(299));return a(h,d,null,m)},kt.flushSync=function(h){var d=u.T,m=i.p;try{if(u.T=null,i.p=2,h)return h()}finally{u.T=d,i.p=m,i.d.f()}},kt.preconnect=function(h,d){typeof h=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,i.d.C(h,d))},kt.prefetchDNS=function(h){typeof h=="string"&&i.d.D(h)},kt.preinit=function(h,d){if(typeof h=="string"&&d&&typeof d.as=="string"){var m=d.as,y=c(m,d.crossOrigin),S=typeof d.integrity=="string"?d.integrity:void 0,b=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;m==="style"?i.d.S(h,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:y,integrity:S,fetchPriority:b}):m==="script"&&i.d.X(h,{crossOrigin:y,integrity:S,fetchPriority:b,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},kt.preinitModule=function(h,d){if(typeof h=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var m=c(d.as,d.crossOrigin);i.d.M(h,{crossOrigin:m,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&i.d.M(h)},kt.preload=function(h,d){if(typeof h=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var m=d.as,y=c(m,d.crossOrigin);i.d.L(h,m,{crossOrigin:y,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},kt.preloadModule=function(h,d){if(typeof h=="string")if(d){var m=c(d.as,d.crossOrigin);i.d.m(h,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:m,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else i.d.m(h)},kt.requestFormReset=function(h){i.d.r(h)},kt.unstable_batchedUpdates=function(h,d){return h(d)},kt.useFormState=function(h,d,m){return u.H.useFormState(h,d,m)},kt.useFormStatus=function(){return u.H.useHostTransitionStatus()},kt.version="19.2.1",kt}var FE;function $A(){if(FE)return Wm.exports;FE=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Wm.exports=JP(),Wm.exports}var $E;function KP(){if($E)return Dl;$E=1;var t=qP(),e=Jd(),n=$A();function i(o){var s="https://react.dev/errors/"+o;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)s+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+o+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function a(o){var s=o,l=o;if(o.alternate)for(;s.return;)s=s.return;else{o=s;do s=o,(s.flags&4098)!==0&&(l=s.return),o=s.return;while(o)}return s.tag===3?l:null}function u(o){if(o.tag===13){var s=o.memoizedState;if(s===null&&(o=o.alternate,o!==null&&(s=o.memoizedState)),s!==null)return s.dehydrated}return null}function c(o){if(o.tag===31){var s=o.memoizedState;if(s===null&&(o=o.alternate,o!==null&&(s=o.memoizedState)),s!==null)return s.dehydrated}return null}function h(o){if(a(o)!==o)throw Error(i(188))}function d(o){var s=o.alternate;if(!s){if(s=a(o),s===null)throw Error(i(188));return s!==o?null:o}for(var l=o,f=s;;){var v=l.return;if(v===null)break;var _=v.alternate;if(_===null){if(f=v.return,f!==null){l=f;continue}break}if(v.child===_.child){for(_=v.child;_;){if(_===l)return h(v),o;if(_===f)return h(v),s;_=_.sibling}throw Error(i(188))}if(l.return!==f.return)l=v,f=_;else{for(var w=!1,R=v.child;R;){if(R===l){w=!0,l=v,f=_;break}if(R===f){w=!0,f=v,l=_;break}R=R.sibling}if(!w){for(R=_.child;R;){if(R===l){w=!0,l=_,f=v;break}if(R===f){w=!0,f=_,l=v;break}R=R.sibling}if(!w)throw Error(i(189))}}if(l.alternate!==f)throw Error(i(190))}if(l.tag!==3)throw Error(i(188));return l.stateNode.current===l?o:s}function m(o){var s=o.tag;if(s===5||s===26||s===27||s===6)return o;for(o=o.child;o!==null;){if(s=m(o),s!==null)return s;o=o.sibling}return null}var y=Object.assign,S=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),T=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),x=Symbol.for("react.strict_mode"),M=Symbol.for("react.profiler"),I=Symbol.for("react.consumer"),N=Symbol.for("react.context"),D=Symbol.for("react.forward_ref"),L=Symbol.for("react.suspense"),U=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),q=Symbol.for("react.lazy"),J=Symbol.for("react.activity"),j=Symbol.for("react.memo_cache_sentinel"),W=Symbol.iterator;function re(o){return o===null||typeof o!="object"?null:(o=W&&o[W]||o["@@iterator"],typeof o=="function"?o:null)}var ie=Symbol.for("react.client.reference");function ae(o){if(o==null)return null;if(typeof o=="function")return o.$$typeof===ie?null:o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case A:return"Fragment";case M:return"Profiler";case x:return"StrictMode";case L:return"Suspense";case U:return"SuspenseList";case J:return"Activity"}if(typeof o=="object")switch(o.$$typeof){case T:return"Portal";case N:return o.displayName||"Context";case I:return(o._context.displayName||"Context")+".Consumer";case D:var s=o.render;return o=o.displayName,o||(o=s.displayName||s.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case O:return s=o.displayName||null,s!==null?s:ae(o.type)||"Memo";case q:s=o._payload,o=o._init;try{return ae(o(s))}catch{}}return null}var de=Array.isArray,F=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Q=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ee={pending:!1,data:null,method:null,action:null},ne=[],ce=-1;function k(o){return{current:o}}function Y(o){0>ce||(o.current=ne[ce],ne[ce]=null,ce--)}function se(o,s){ce++,ne[ce]=o.current,o.current=s}var le=k(null),me=k(null),be=k(null),ve=k(null);function ze(o,s){switch(se(be,s),se(me,o),se(le,null),s.nodeType){case 9:case 11:o=(o=s.documentElement)&&(o=o.namespaceURI)?tE(o):0;break;default:if(o=s.tagName,s=s.namespaceURI)s=tE(s),o=nE(s,o);else switch(o){case"svg":o=1;break;case"math":o=2;break;default:o=0}}Y(le),se(le,o)}function qe(){Y(le),Y(me),Y(be)}function rn(o){o.memoizedState!==null&&se(ve,o);var s=le.current,l=nE(s,o.type);s!==l&&(se(me,o),se(le,l))}function Cn(o){me.current===o&&(Y(le),Y(me)),ve.current===o&&(Y(ve),xl._currentValue=ee)}var di,qt;function Jt(o){if(di===void 0)try{throw Error()}catch(l){var s=l.stack.trim().match(/\n( *(at )?)/);di=s&&s[1]||"",qt=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+di+o+qt}var Qe=!1;function Li(o,s){if(!o||Qe)return"";Qe=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var f={DetermineComponentFrameRoot:function(){try{if(s){var te=function(){throw Error()};if(Object.defineProperty(te.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(te,[])}catch(K){var z=K}Reflect.construct(o,[],te)}else{try{te.call()}catch(K){z=K}o.call(te.prototype)}}else{try{throw Error()}catch(K){z=K}(te=o())&&typeof te.catch=="function"&&te.catch(function(){})}}catch(K){if(K&&z&&typeof K.stack=="string")return[K.stack,z.stack]}return[null,null]}};f.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var v=Object.getOwnPropertyDescriptor(f.DetermineComponentFrameRoot,"name");v&&v.configurable&&Object.defineProperty(f.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var _=f.DetermineComponentFrameRoot(),w=_[0],R=_[1];if(w&&R){var P=w.split(`
`),G=R.split(`
`);for(v=f=0;f<P.length&&!P[f].includes("DetermineComponentFrameRoot");)f++;for(;v<G.length&&!G[v].includes("DetermineComponentFrameRoot");)v++;if(f===P.length||v===G.length)for(f=P.length-1,v=G.length-1;1<=f&&0<=v&&P[f]!==G[v];)v--;for(;1<=f&&0<=v;f--,v--)if(P[f]!==G[v]){if(f!==1||v!==1)do if(f--,v--,0>v||P[f]!==G[v]){var X=`
`+P[f].replace(" at new "," at ");return o.displayName&&X.includes("<anonymous>")&&(X=X.replace("<anonymous>",o.displayName)),X}while(1<=f&&0<=v);break}}}finally{Qe=!1,Error.prepareStackTrace=l}return(l=o?o.displayName||o.name:"")?Jt(l):""}function bo(o,s){switch(o.tag){case 26:case 27:case 5:return Jt(o.type);case 16:return Jt("Lazy");case 13:return o.child!==s&&s!==null?Jt("Suspense Fallback"):Jt("Suspense");case 19:return Jt("SuspenseList");case 0:case 15:return Li(o.type,!1);case 11:return Li(o.type.render,!1);case 1:return Li(o.type,!0);case 31:return Jt("Activity");default:return""}}function ju(o){try{var s="",l=null;do s+=bo(o,l),l=o,o=o.return;while(o);return s}catch(f){return`
Error generating stack: `+f.message+`
`+f.stack}}var La=Object.prototype.hasOwnProperty,Yn=t.unstable_scheduleCallback,Eo=t.unstable_cancelCallback,Xu=t.unstable_shouldYield,Wu=t.unstable_requestPaint,At=t.unstable_now,Qu=t.unstable_getCurrentPriorityLevel,Ua=t.unstable_ImmediatePriority,Ba=t.unstable_UserBlockingPriority,mr=t.unstable_NormalPriority,bO=t.unstable_LowPriority,k_=t.unstable_IdlePriority,EO=t.log,wO=t.unstable_setDisableYieldValue,Fa=null,sn=null;function wo(o){if(typeof EO=="function"&&wO(o),sn&&typeof sn.setStrictMode=="function")try{sn.setStrictMode(Fa,o)}catch{}}var an=Math.clz32?Math.clz32:AO,CO=Math.log,TO=Math.LN2;function AO(o){return o>>>=0,o===0?32:31-(CO(o)/TO|0)|0}var Zu=256,ec=262144,tc=4194304;function gr(o){var s=o&42;if(s!==0)return s;switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return o&261888;case 262144:case 524288:case 1048576:case 2097152:return o&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return o&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return o}}function nc(o,s,l){var f=o.pendingLanes;if(f===0)return 0;var v=0,_=o.suspendedLanes,w=o.pingedLanes;o=o.warmLanes;var R=f&134217727;return R!==0?(f=R&~_,f!==0?v=gr(f):(w&=R,w!==0?v=gr(w):l||(l=R&~o,l!==0&&(v=gr(l))))):(R=f&~_,R!==0?v=gr(R):w!==0?v=gr(w):l||(l=f&~o,l!==0&&(v=gr(l)))),v===0?0:s!==0&&s!==v&&(s&_)===0&&(_=v&-v,l=s&-s,_>=l||_===32&&(l&4194048)!==0)?s:v}function $a(o,s){return(o.pendingLanes&~(o.suspendedLanes&~o.pingedLanes)&s)===0}function xO(o,s){switch(o){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function L_(){var o=tc;return tc<<=1,(tc&62914560)===0&&(tc=4194304),o}function Ph(o){for(var s=[],l=0;31>l;l++)s.push(o);return s}function Ha(o,s){o.pendingLanes|=s,s!==268435456&&(o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0)}function RO(o,s,l,f,v,_){var w=o.pendingLanes;o.pendingLanes=l,o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0,o.expiredLanes&=l,o.entangledLanes&=l,o.errorRecoveryDisabledLanes&=l,o.shellSuspendCounter=0;var R=o.entanglements,P=o.expirationTimes,G=o.hiddenUpdates;for(l=w&~l;0<l;){var X=31-an(l),te=1<<X;R[X]=0,P[X]=-1;var z=G[X];if(z!==null)for(G[X]=null,X=0;X<z.length;X++){var K=z[X];K!==null&&(K.lane&=-536870913)}l&=~te}f!==0&&U_(o,f,0),_!==0&&v===0&&o.tag!==0&&(o.suspendedLanes|=_&~(w&~s))}function U_(o,s,l){o.pendingLanes|=s,o.suspendedLanes&=~s;var f=31-an(s);o.entangledLanes|=s,o.entanglements[f]=o.entanglements[f]|1073741824|l&261930}function B_(o,s){var l=o.entangledLanes|=s;for(o=o.entanglements;l;){var f=31-an(l),v=1<<f;v&s|o[f]&s&&(o[f]|=s),l&=~v}}function F_(o,s){var l=s&-s;return l=(l&42)!==0?1:kh(l),(l&(o.suspendedLanes|s))!==0?0:l}function kh(o){switch(o){case 2:o=1;break;case 8:o=4;break;case 32:o=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:o=128;break;case 268435456:o=134217728;break;default:o=0}return o}function Lh(o){return o&=-o,2<o?8<o?(o&134217727)!==0?32:268435456:8:2}function $_(){var o=Q.p;return o!==0?o:(o=window.event,o===void 0?32:TE(o.type))}function H_(o,s){var l=Q.p;try{return Q.p=o,s()}finally{Q.p=l}}var Co=Math.random().toString(36).slice(2),xt="__reactFiber$"+Co,Kt="__reactProps$"+Co,rs="__reactContainer$"+Co,Uh="__reactEvents$"+Co,MO="__reactListeners$"+Co,NO="__reactHandles$"+Co,G_="__reactResources$"+Co,Ga="__reactMarker$"+Co;function Bh(o){delete o[xt],delete o[Kt],delete o[Uh],delete o[MO],delete o[NO]}function ss(o){var s=o[xt];if(s)return s;for(var l=o.parentNode;l;){if(s=l[rs]||l[xt]){if(l=s.alternate,s.child!==null||l!==null&&l.child!==null)for(o=uE(o);o!==null;){if(l=o[xt])return l;o=uE(o)}return s}o=l,l=o.parentNode}return null}function as(o){if(o=o[xt]||o[rs]){var s=o.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return o}return null}function Va(o){var s=o.tag;if(s===5||s===26||s===27||s===6)return o.stateNode;throw Error(i(33))}function ls(o){var s=o[G_];return s||(s=o[G_]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function bt(o){o[Ga]=!0}var V_=new Set,z_={};function vr(o,s){us(o,s),us(o+"Capture",s)}function us(o,s){for(z_[o]=s,o=0;o<s.length;o++)V_.add(s[o])}var IO=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),q_={},J_={};function DO(o){return La.call(J_,o)?!0:La.call(q_,o)?!1:IO.test(o)?J_[o]=!0:(q_[o]=!0,!1)}function ic(o,s,l){if(DO(s))if(l===null)o.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":o.removeAttribute(s);return;case"boolean":var f=s.toLowerCase().slice(0,5);if(f!=="data-"&&f!=="aria-"){o.removeAttribute(s);return}}o.setAttribute(s,""+l)}}function oc(o,s,l){if(l===null)o.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(s);return}o.setAttribute(s,""+l)}}function Ui(o,s,l,f){if(f===null)o.removeAttribute(l);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(l);return}o.setAttributeNS(s,l,""+f)}}function Tn(o){switch(typeof o){case"bigint":case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function K_(o){var s=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function OO(o,s,l){var f=Object.getOwnPropertyDescriptor(o.constructor.prototype,s);if(!o.hasOwnProperty(s)&&typeof f<"u"&&typeof f.get=="function"&&typeof f.set=="function"){var v=f.get,_=f.set;return Object.defineProperty(o,s,{configurable:!0,get:function(){return v.call(this)},set:function(w){l=""+w,_.call(this,w)}}),Object.defineProperty(o,s,{enumerable:f.enumerable}),{getValue:function(){return l},setValue:function(w){l=""+w},stopTracking:function(){o._valueTracker=null,delete o[s]}}}}function Fh(o){if(!o._valueTracker){var s=K_(o)?"checked":"value";o._valueTracker=OO(o,s,""+o[s])}}function Y_(o){if(!o)return!1;var s=o._valueTracker;if(!s)return!0;var l=s.getValue(),f="";return o&&(f=K_(o)?o.checked?"true":"false":o.value),o=f,o!==l?(s.setValue(o),!0):!1}function rc(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}var PO=/[\n"\\]/g;function An(o){return o.replace(PO,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function $h(o,s,l,f,v,_,w,R){o.name="",w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?o.type=w:o.removeAttribute("type"),s!=null?w==="number"?(s===0&&o.value===""||o.value!=s)&&(o.value=""+Tn(s)):o.value!==""+Tn(s)&&(o.value=""+Tn(s)):w!=="submit"&&w!=="reset"||o.removeAttribute("value"),s!=null?Hh(o,w,Tn(s)):l!=null?Hh(o,w,Tn(l)):f!=null&&o.removeAttribute("value"),v==null&&_!=null&&(o.defaultChecked=!!_),v!=null&&(o.checked=v&&typeof v!="function"&&typeof v!="symbol"),R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"?o.name=""+Tn(R):o.removeAttribute("name")}function j_(o,s,l,f,v,_,w,R){if(_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(o.type=_),s!=null||l!=null){if(!(_!=="submit"&&_!=="reset"||s!=null)){Fh(o);return}l=l!=null?""+Tn(l):"",s=s!=null?""+Tn(s):l,R||s===o.value||(o.value=s),o.defaultValue=s}f=f??v,f=typeof f!="function"&&typeof f!="symbol"&&!!f,o.checked=R?o.checked:!!f,o.defaultChecked=!!f,w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(o.name=w),Fh(o)}function Hh(o,s,l){s==="number"&&rc(o.ownerDocument)===o||o.defaultValue===""+l||(o.defaultValue=""+l)}function cs(o,s,l,f){if(o=o.options,s){s={};for(var v=0;v<l.length;v++)s["$"+l[v]]=!0;for(l=0;l<o.length;l++)v=s.hasOwnProperty("$"+o[l].value),o[l].selected!==v&&(o[l].selected=v),v&&f&&(o[l].defaultSelected=!0)}else{for(l=""+Tn(l),s=null,v=0;v<o.length;v++){if(o[v].value===l){o[v].selected=!0,f&&(o[v].defaultSelected=!0);return}s!==null||o[v].disabled||(s=o[v])}s!==null&&(s.selected=!0)}}function X_(o,s,l){if(s!=null&&(s=""+Tn(s),s!==o.value&&(o.value=s),l==null)){o.defaultValue!==s&&(o.defaultValue=s);return}o.defaultValue=l!=null?""+Tn(l):""}function W_(o,s,l,f){if(s==null){if(f!=null){if(l!=null)throw Error(i(92));if(de(f)){if(1<f.length)throw Error(i(93));f=f[0]}l=f}l==null&&(l=""),s=l}l=Tn(s),o.defaultValue=l,f=o.textContent,f===l&&f!==""&&f!==null&&(o.value=f),Fh(o)}function fs(o,s){if(s){var l=o.firstChild;if(l&&l===o.lastChild&&l.nodeType===3){l.nodeValue=s;return}}o.textContent=s}var kO=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Q_(o,s,l){var f=s.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?f?o.setProperty(s,""):s==="float"?o.cssFloat="":o[s]="":f?o.setProperty(s,l):typeof l!="number"||l===0||kO.has(s)?s==="float"?o.cssFloat=l:o[s]=(""+l).trim():o[s]=l+"px"}function Z_(o,s,l){if(s!=null&&typeof s!="object")throw Error(i(62));if(o=o.style,l!=null){for(var f in l)!l.hasOwnProperty(f)||s!=null&&s.hasOwnProperty(f)||(f.indexOf("--")===0?o.setProperty(f,""):f==="float"?o.cssFloat="":o[f]="");for(var v in s)f=s[v],s.hasOwnProperty(v)&&l[v]!==f&&Q_(o,v,f)}else for(var _ in s)s.hasOwnProperty(_)&&Q_(o,_,s[_])}function Gh(o){if(o.indexOf("-")===-1)return!1;switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var LO=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),UO=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function sc(o){return UO.test(""+o)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":o}function Bi(){}var Vh=null;function zh(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var ds=null,hs=null;function e0(o){var s=as(o);if(s&&(o=s.stateNode)){var l=o[Kt]||null;e:switch(o=s.stateNode,s.type){case"input":if($h(o,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),s=l.name,l.type==="radio"&&s!=null){for(l=o;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+An(""+s)+'"][type="radio"]'),s=0;s<l.length;s++){var f=l[s];if(f!==o&&f.form===o.form){var v=f[Kt]||null;if(!v)throw Error(i(90));$h(f,v.value,v.defaultValue,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name)}}for(s=0;s<l.length;s++)f=l[s],f.form===o.form&&Y_(f)}break e;case"textarea":X_(o,l.value,l.defaultValue);break e;case"select":s=l.value,s!=null&&cs(o,!!l.multiple,s,!1)}}}var qh=!1;function t0(o,s,l){if(qh)return o(s,l);qh=!0;try{var f=o(s);return f}finally{if(qh=!1,(ds!==null||hs!==null)&&(Kc(),ds&&(s=ds,o=hs,hs=ds=null,e0(s),o)))for(s=0;s<o.length;s++)e0(o[s])}}function za(o,s){var l=o.stateNode;if(l===null)return null;var f=l[Kt]||null;if(f===null)return null;l=f[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(o=o.type,f=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!f;break e;default:o=!1}if(o)return null;if(l&&typeof l!="function")throw Error(i(231,s,typeof l));return l}var Fi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Jh=!1;if(Fi)try{var qa={};Object.defineProperty(qa,"passive",{get:function(){Jh=!0}}),window.addEventListener("test",qa,qa),window.removeEventListener("test",qa,qa)}catch{Jh=!1}var To=null,Kh=null,ac=null;function n0(){if(ac)return ac;var o,s=Kh,l=s.length,f,v="value"in To?To.value:To.textContent,_=v.length;for(o=0;o<l&&s[o]===v[o];o++);var w=l-o;for(f=1;f<=w&&s[l-f]===v[_-f];f++);return ac=v.slice(o,1<f?1-f:void 0)}function lc(o){var s=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&s===13&&(o=13)):o=s,o===10&&(o=13),32<=o||o===13?o:0}function uc(){return!0}function i0(){return!1}function Yt(o){function s(l,f,v,_,w){this._reactName=l,this._targetInst=v,this.type=f,this.nativeEvent=_,this.target=w,this.currentTarget=null;for(var R in o)o.hasOwnProperty(R)&&(l=o[R],this[R]=l?l(_):_[R]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?uc:i0,this.isPropagationStopped=i0,this}return y(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=uc)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=uc)},persist:function(){},isPersistent:uc}),s}var yr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cc=Yt(yr),Ja=y({},yr,{view:0,detail:0}),BO=Yt(Ja),Yh,jh,Ka,fc=y({},Ja,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Wh,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==Ka&&(Ka&&o.type==="mousemove"?(Yh=o.screenX-Ka.screenX,jh=o.screenY-Ka.screenY):jh=Yh=0,Ka=o),Yh)},movementY:function(o){return"movementY"in o?o.movementY:jh}}),o0=Yt(fc),FO=y({},fc,{dataTransfer:0}),$O=Yt(FO),HO=y({},Ja,{relatedTarget:0}),Xh=Yt(HO),GO=y({},yr,{animationName:0,elapsedTime:0,pseudoElement:0}),VO=Yt(GO),zO=y({},yr,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),qO=Yt(zO),JO=y({},yr,{data:0}),r0=Yt(JO),KO={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},YO={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},jO={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function XO(o){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(o):(o=jO[o])?!!s[o]:!1}function Wh(){return XO}var WO=y({},Ja,{key:function(o){if(o.key){var s=KO[o.key]||o.key;if(s!=="Unidentified")return s}return o.type==="keypress"?(o=lc(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?YO[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Wh,charCode:function(o){return o.type==="keypress"?lc(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?lc(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),QO=Yt(WO),ZO=y({},fc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),s0=Yt(ZO),e1=y({},Ja,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Wh}),t1=Yt(e1),n1=y({},yr,{propertyName:0,elapsedTime:0,pseudoElement:0}),i1=Yt(n1),o1=y({},fc,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),r1=Yt(o1),s1=y({},yr,{newState:0,oldState:0}),a1=Yt(s1),l1=[9,13,27,32],Qh=Fi&&"CompositionEvent"in window,Ya=null;Fi&&"documentMode"in document&&(Ya=document.documentMode);var u1=Fi&&"TextEvent"in window&&!Ya,a0=Fi&&(!Qh||Ya&&8<Ya&&11>=Ya),l0=" ",u0=!1;function c0(o,s){switch(o){case"keyup":return l1.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function f0(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var ps=!1;function c1(o,s){switch(o){case"compositionend":return f0(s);case"keypress":return s.which!==32?null:(u0=!0,l0);case"textInput":return o=s.data,o===l0&&u0?null:o;default:return null}}function f1(o,s){if(ps)return o==="compositionend"||!Qh&&c0(o,s)?(o=n0(),ac=Kh=To=null,ps=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return a0&&s.locale!=="ko"?null:s.data;default:return null}}var d1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function d0(o){var s=o&&o.nodeName&&o.nodeName.toLowerCase();return s==="input"?!!d1[o.type]:s==="textarea"}function h0(o,s,l,f){ds?hs?hs.push(f):hs=[f]:ds=f,s=ef(s,"onChange"),0<s.length&&(l=new cc("onChange","change",null,l,f),o.push({event:l,listeners:s}))}var ja=null,Xa=null;function h1(o){jb(o,0)}function dc(o){var s=Va(o);if(Y_(s))return o}function p0(o,s){if(o==="change")return s}var m0=!1;if(Fi){var Zh;if(Fi){var ep="oninput"in document;if(!ep){var g0=document.createElement("div");g0.setAttribute("oninput","return;"),ep=typeof g0.oninput=="function"}Zh=ep}else Zh=!1;m0=Zh&&(!document.documentMode||9<document.documentMode)}function v0(){ja&&(ja.detachEvent("onpropertychange",y0),Xa=ja=null)}function y0(o){if(o.propertyName==="value"&&dc(Xa)){var s=[];h0(s,Xa,o,zh(o)),t0(h1,s)}}function p1(o,s,l){o==="focusin"?(v0(),ja=s,Xa=l,ja.attachEvent("onpropertychange",y0)):o==="focusout"&&v0()}function m1(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return dc(Xa)}function g1(o,s){if(o==="click")return dc(s)}function v1(o,s){if(o==="input"||o==="change")return dc(s)}function y1(o,s){return o===s&&(o!==0||1/o===1/s)||o!==o&&s!==s}var ln=typeof Object.is=="function"?Object.is:y1;function Wa(o,s){if(ln(o,s))return!0;if(typeof o!="object"||o===null||typeof s!="object"||s===null)return!1;var l=Object.keys(o),f=Object.keys(s);if(l.length!==f.length)return!1;for(f=0;f<l.length;f++){var v=l[f];if(!La.call(s,v)||!ln(o[v],s[v]))return!1}return!0}function _0(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function S0(o,s){var l=_0(o);o=0;for(var f;l;){if(l.nodeType===3){if(f=o+l.textContent.length,o<=s&&f>=s)return{node:l,offset:s-o};o=f}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=_0(l)}}function b0(o,s){return o&&s?o===s?!0:o&&o.nodeType===3?!1:s&&s.nodeType===3?b0(o,s.parentNode):"contains"in o?o.contains(s):o.compareDocumentPosition?!!(o.compareDocumentPosition(s)&16):!1:!1}function E0(o){o=o!=null&&o.ownerDocument!=null&&o.ownerDocument.defaultView!=null?o.ownerDocument.defaultView:window;for(var s=rc(o.document);s instanceof o.HTMLIFrameElement;){try{var l=typeof s.contentWindow.location.href=="string"}catch{l=!1}if(l)o=s.contentWindow;else break;s=rc(o.document)}return s}function tp(o){var s=o&&o.nodeName&&o.nodeName.toLowerCase();return s&&(s==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||s==="textarea"||o.contentEditable==="true")}var _1=Fi&&"documentMode"in document&&11>=document.documentMode,ms=null,np=null,Qa=null,ip=!1;function w0(o,s,l){var f=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;ip||ms==null||ms!==rc(f)||(f=ms,"selectionStart"in f&&tp(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),Qa&&Wa(Qa,f)||(Qa=f,f=ef(np,"onSelect"),0<f.length&&(s=new cc("onSelect","select",null,s,l),o.push({event:s,listeners:f}),s.target=ms)))}function _r(o,s){var l={};return l[o.toLowerCase()]=s.toLowerCase(),l["Webkit"+o]="webkit"+s,l["Moz"+o]="moz"+s,l}var gs={animationend:_r("Animation","AnimationEnd"),animationiteration:_r("Animation","AnimationIteration"),animationstart:_r("Animation","AnimationStart"),transitionrun:_r("Transition","TransitionRun"),transitionstart:_r("Transition","TransitionStart"),transitioncancel:_r("Transition","TransitionCancel"),transitionend:_r("Transition","TransitionEnd")},op={},C0={};Fi&&(C0=document.createElement("div").style,"AnimationEvent"in window||(delete gs.animationend.animation,delete gs.animationiteration.animation,delete gs.animationstart.animation),"TransitionEvent"in window||delete gs.transitionend.transition);function Sr(o){if(op[o])return op[o];if(!gs[o])return o;var s=gs[o],l;for(l in s)if(s.hasOwnProperty(l)&&l in C0)return op[o]=s[l];return o}var T0=Sr("animationend"),A0=Sr("animationiteration"),x0=Sr("animationstart"),S1=Sr("transitionrun"),b1=Sr("transitionstart"),E1=Sr("transitioncancel"),R0=Sr("transitionend"),M0=new Map,rp="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");rp.push("scrollEnd");function jn(o,s){M0.set(o,s),vr(s,[o])}var hc=typeof reportError=="function"?reportError:function(o){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof o=="object"&&o!==null&&typeof o.message=="string"?String(o.message):String(o),error:o});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",o);return}console.error(o)},xn=[],vs=0,sp=0;function pc(){for(var o=vs,s=sp=vs=0;s<o;){var l=xn[s];xn[s++]=null;var f=xn[s];xn[s++]=null;var v=xn[s];xn[s++]=null;var _=xn[s];if(xn[s++]=null,f!==null&&v!==null){var w=f.pending;w===null?v.next=v:(v.next=w.next,w.next=v),f.pending=v}_!==0&&N0(l,v,_)}}function mc(o,s,l,f){xn[vs++]=o,xn[vs++]=s,xn[vs++]=l,xn[vs++]=f,sp|=f,o.lanes|=f,o=o.alternate,o!==null&&(o.lanes|=f)}function ap(o,s,l,f){return mc(o,s,l,f),gc(o)}function br(o,s){return mc(o,null,null,s),gc(o)}function N0(o,s,l){o.lanes|=l;var f=o.alternate;f!==null&&(f.lanes|=l);for(var v=!1,_=o.return;_!==null;)_.childLanes|=l,f=_.alternate,f!==null&&(f.childLanes|=l),_.tag===22&&(o=_.stateNode,o===null||o._visibility&1||(v=!0)),o=_,_=_.return;return o.tag===3?(_=o.stateNode,v&&s!==null&&(v=31-an(l),o=_.hiddenUpdates,f=o[v],f===null?o[v]=[s]:f.push(s),s.lane=l|536870912),_):null}function gc(o){if(50<Sl)throw Sl=0,gm=null,Error(i(185));for(var s=o.return;s!==null;)o=s,s=o.return;return o.tag===3?o.stateNode:null}var ys={};function w1(o,s,l,f){this.tag=o,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function un(o,s,l,f){return new w1(o,s,l,f)}function lp(o){return o=o.prototype,!(!o||!o.isReactComponent)}function $i(o,s){var l=o.alternate;return l===null?(l=un(o.tag,s,o.key,o.mode),l.elementType=o.elementType,l.type=o.type,l.stateNode=o.stateNode,l.alternate=o,o.alternate=l):(l.pendingProps=s,l.type=o.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=o.flags&65011712,l.childLanes=o.childLanes,l.lanes=o.lanes,l.child=o.child,l.memoizedProps=o.memoizedProps,l.memoizedState=o.memoizedState,l.updateQueue=o.updateQueue,s=o.dependencies,l.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},l.sibling=o.sibling,l.index=o.index,l.ref=o.ref,l.refCleanup=o.refCleanup,l}function I0(o,s){o.flags&=65011714;var l=o.alternate;return l===null?(o.childLanes=0,o.lanes=s,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=l.childLanes,o.lanes=l.lanes,o.child=l.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=l.memoizedProps,o.memoizedState=l.memoizedState,o.updateQueue=l.updateQueue,o.type=l.type,s=l.dependencies,o.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),o}function vc(o,s,l,f,v,_){var w=0;if(f=o,typeof o=="function")lp(o)&&(w=1);else if(typeof o=="string")w=RP(o,l,le.current)?26:o==="html"||o==="head"||o==="body"?27:5;else e:switch(o){case J:return o=un(31,l,s,v),o.elementType=J,o.lanes=_,o;case A:return Er(l.children,v,_,s);case x:w=8,v|=24;break;case M:return o=un(12,l,s,v|2),o.elementType=M,o.lanes=_,o;case L:return o=un(13,l,s,v),o.elementType=L,o.lanes=_,o;case U:return o=un(19,l,s,v),o.elementType=U,o.lanes=_,o;default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case N:w=10;break e;case I:w=9;break e;case D:w=11;break e;case O:w=14;break e;case q:w=16,f=null;break e}w=29,l=Error(i(130,o===null?"null":typeof o,"")),f=null}return s=un(w,l,s,v),s.elementType=o,s.type=f,s.lanes=_,s}function Er(o,s,l,f){return o=un(7,o,f,s),o.lanes=l,o}function up(o,s,l){return o=un(6,o,null,s),o.lanes=l,o}function D0(o){var s=un(18,null,null,0);return s.stateNode=o,s}function cp(o,s,l){return s=un(4,o.children!==null?o.children:[],o.key,s),s.lanes=l,s.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},s}var O0=new WeakMap;function Rn(o,s){if(typeof o=="object"&&o!==null){var l=O0.get(o);return l!==void 0?l:(s={value:o,source:s,stack:ju(s)},O0.set(o,s),s)}return{value:o,source:s,stack:ju(s)}}var _s=[],Ss=0,yc=null,Za=0,Mn=[],Nn=0,Ao=null,hi=1,pi="";function Hi(o,s){_s[Ss++]=Za,_s[Ss++]=yc,yc=o,Za=s}function P0(o,s,l){Mn[Nn++]=hi,Mn[Nn++]=pi,Mn[Nn++]=Ao,Ao=o;var f=hi;o=pi;var v=32-an(f)-1;f&=~(1<<v),l+=1;var _=32-an(s)+v;if(30<_){var w=v-v%5;_=(f&(1<<w)-1).toString(32),f>>=w,v-=w,hi=1<<32-an(s)+v|l<<v|f,pi=_+o}else hi=1<<_|l<<v|f,pi=o}function fp(o){o.return!==null&&(Hi(o,1),P0(o,1,0))}function dp(o){for(;o===yc;)yc=_s[--Ss],_s[Ss]=null,Za=_s[--Ss],_s[Ss]=null;for(;o===Ao;)Ao=Mn[--Nn],Mn[Nn]=null,pi=Mn[--Nn],Mn[Nn]=null,hi=Mn[--Nn],Mn[Nn]=null}function k0(o,s){Mn[Nn++]=hi,Mn[Nn++]=pi,Mn[Nn++]=Ao,hi=s.id,pi=s.overflow,Ao=o}var Rt=null,nt=null,Le=!1,xo=null,In=!1,hp=Error(i(519));function Ro(o){var s=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw el(Rn(s,o)),hp}function L0(o){var s=o.stateNode,l=o.type,f=o.memoizedProps;switch(s[xt]=o,s[Kt]=f,l){case"dialog":Oe("cancel",s),Oe("close",s);break;case"iframe":case"object":case"embed":Oe("load",s);break;case"video":case"audio":for(l=0;l<El.length;l++)Oe(El[l],s);break;case"source":Oe("error",s);break;case"img":case"image":case"link":Oe("error",s),Oe("load",s);break;case"details":Oe("toggle",s);break;case"input":Oe("invalid",s),j_(s,f.value,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name,!0);break;case"select":Oe("invalid",s);break;case"textarea":Oe("invalid",s),W_(s,f.value,f.defaultValue,f.children)}l=f.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||s.textContent===""+l||f.suppressHydrationWarning===!0||Zb(s.textContent,l)?(f.popover!=null&&(Oe("beforetoggle",s),Oe("toggle",s)),f.onScroll!=null&&Oe("scroll",s),f.onScrollEnd!=null&&Oe("scrollend",s),f.onClick!=null&&(s.onclick=Bi),s=!0):s=!1,s||Ro(o,!0)}function U0(o){for(Rt=o.return;Rt;)switch(Rt.tag){case 5:case 31:case 13:In=!1;return;case 27:case 3:In=!0;return;default:Rt=Rt.return}}function bs(o){if(o!==Rt)return!1;if(!Le)return U0(o),Le=!0,!1;var s=o.tag,l;if((l=s!==3&&s!==27)&&((l=s===5)&&(l=o.type,l=!(l!=="form"&&l!=="button")||Im(o.type,o.memoizedProps)),l=!l),l&&nt&&Ro(o),U0(o),s===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(i(317));nt=lE(o)}else if(s===31){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(i(317));nt=lE(o)}else s===27?(s=nt,Go(o.type)?(o=Lm,Lm=null,nt=o):nt=s):nt=Rt?On(o.stateNode.nextSibling):null;return!0}function wr(){nt=Rt=null,Le=!1}function pp(){var o=xo;return o!==null&&(Qt===null?Qt=o:Qt.push.apply(Qt,o),xo=null),o}function el(o){xo===null?xo=[o]:xo.push(o)}var mp=k(null),Cr=null,Gi=null;function Mo(o,s,l){se(mp,s._currentValue),s._currentValue=l}function Vi(o){o._currentValue=mp.current,Y(mp)}function gp(o,s,l){for(;o!==null;){var f=o.alternate;if((o.childLanes&s)!==s?(o.childLanes|=s,f!==null&&(f.childLanes|=s)):f!==null&&(f.childLanes&s)!==s&&(f.childLanes|=s),o===l)break;o=o.return}}function vp(o,s,l,f){var v=o.child;for(v!==null&&(v.return=o);v!==null;){var _=v.dependencies;if(_!==null){var w=v.child;_=_.firstContext;e:for(;_!==null;){var R=_;_=v;for(var P=0;P<s.length;P++)if(R.context===s[P]){_.lanes|=l,R=_.alternate,R!==null&&(R.lanes|=l),gp(_.return,l,o),f||(w=null);break e}_=R.next}}else if(v.tag===18){if(w=v.return,w===null)throw Error(i(341));w.lanes|=l,_=w.alternate,_!==null&&(_.lanes|=l),gp(w,l,o),w=null}else w=v.child;if(w!==null)w.return=v;else for(w=v;w!==null;){if(w===o){w=null;break}if(v=w.sibling,v!==null){v.return=w.return,w=v;break}w=w.return}v=w}}function Es(o,s,l,f){o=null;for(var v=s,_=!1;v!==null;){if(!_){if((v.flags&524288)!==0)_=!0;else if((v.flags&262144)!==0)break}if(v.tag===10){var w=v.alternate;if(w===null)throw Error(i(387));if(w=w.memoizedProps,w!==null){var R=v.type;ln(v.pendingProps.value,w.value)||(o!==null?o.push(R):o=[R])}}else if(v===ve.current){if(w=v.alternate,w===null)throw Error(i(387));w.memoizedState.memoizedState!==v.memoizedState.memoizedState&&(o!==null?o.push(xl):o=[xl])}v=v.return}o!==null&&vp(s,o,l,f),s.flags|=262144}function _c(o){for(o=o.firstContext;o!==null;){if(!ln(o.context._currentValue,o.memoizedValue))return!0;o=o.next}return!1}function Tr(o){Cr=o,Gi=null,o=o.dependencies,o!==null&&(o.firstContext=null)}function Mt(o){return B0(Cr,o)}function Sc(o,s){return Cr===null&&Tr(o),B0(o,s)}function B0(o,s){var l=s._currentValue;if(s={context:s,memoizedValue:l,next:null},Gi===null){if(o===null)throw Error(i(308));Gi=s,o.dependencies={lanes:0,firstContext:s},o.flags|=524288}else Gi=Gi.next=s;return l}var C1=typeof AbortController<"u"?AbortController:function(){var o=[],s=this.signal={aborted:!1,addEventListener:function(l,f){o.push(f)}};this.abort=function(){s.aborted=!0,o.forEach(function(l){return l()})}},T1=t.unstable_scheduleCallback,A1=t.unstable_NormalPriority,ht={$$typeof:N,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function yp(){return{controller:new C1,data:new Map,refCount:0}}function tl(o){o.refCount--,o.refCount===0&&T1(A1,function(){o.controller.abort()})}var nl=null,_p=0,ws=0,Cs=null;function x1(o,s){if(nl===null){var l=nl=[];_p=0,ws=Em(),Cs={status:"pending",value:void 0,then:function(f){l.push(f)}}}return _p++,s.then(F0,F0),s}function F0(){if(--_p===0&&nl!==null){Cs!==null&&(Cs.status="fulfilled");var o=nl;nl=null,ws=0,Cs=null;for(var s=0;s<o.length;s++)(0,o[s])()}}function R1(o,s){var l=[],f={status:"pending",value:null,reason:null,then:function(v){l.push(v)}};return o.then(function(){f.status="fulfilled",f.value=s;for(var v=0;v<l.length;v++)(0,l[v])(s)},function(v){for(f.status="rejected",f.reason=v,v=0;v<l.length;v++)(0,l[v])(void 0)}),f}var $0=F.S;F.S=function(o,s){wb=At(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&x1(o,s),$0!==null&&$0(o,s)};var Ar=k(null);function Sp(){var o=Ar.current;return o!==null?o:Ze.pooledCache}function bc(o,s){s===null?se(Ar,Ar.current):se(Ar,s.pool)}function H0(){var o=Sp();return o===null?null:{parent:ht._currentValue,pool:o}}var Ts=Error(i(460)),bp=Error(i(474)),Ec=Error(i(542)),wc={then:function(){}};function G0(o){return o=o.status,o==="fulfilled"||o==="rejected"}function V0(o,s,l){switch(l=o[l],l===void 0?o.push(s):l!==s&&(s.then(Bi,Bi),s=l),s.status){case"fulfilled":return s.value;case"rejected":throw o=s.reason,q0(o),o;default:if(typeof s.status=="string")s.then(Bi,Bi);else{if(o=Ze,o!==null&&100<o.shellSuspendCounter)throw Error(i(482));o=s,o.status="pending",o.then(function(f){if(s.status==="pending"){var v=s;v.status="fulfilled",v.value=f}},function(f){if(s.status==="pending"){var v=s;v.status="rejected",v.reason=f}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw o=s.reason,q0(o),o}throw Rr=s,Ts}}function xr(o){try{var s=o._init;return s(o._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(Rr=l,Ts):l}}var Rr=null;function z0(){if(Rr===null)throw Error(i(459));var o=Rr;return Rr=null,o}function q0(o){if(o===Ts||o===Ec)throw Error(i(483))}var As=null,il=0;function Cc(o){var s=il;return il+=1,As===null&&(As=[]),V0(As,o,s)}function ol(o,s){s=s.props.ref,o.ref=s!==void 0?s:null}function Tc(o,s){throw s.$$typeof===S?Error(i(525)):(o=Object.prototype.toString.call(s),Error(i(31,o==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":o)))}function J0(o){function s($,B){if(o){var H=$.deletions;H===null?($.deletions=[B],$.flags|=16):H.push(B)}}function l($,B){if(!o)return null;for(;B!==null;)s($,B),B=B.sibling;return null}function f($){for(var B=new Map;$!==null;)$.key!==null?B.set($.key,$):B.set($.index,$),$=$.sibling;return B}function v($,B){return $=$i($,B),$.index=0,$.sibling=null,$}function _($,B,H){return $.index=H,o?(H=$.alternate,H!==null?(H=H.index,H<B?($.flags|=67108866,B):H):($.flags|=67108866,B)):($.flags|=1048576,B)}function w($){return o&&$.alternate===null&&($.flags|=67108866),$}function R($,B,H,Z){return B===null||B.tag!==6?(B=up(H,$.mode,Z),B.return=$,B):(B=v(B,H),B.return=$,B)}function P($,B,H,Z){var _e=H.type;return _e===A?X($,B,H.props.children,Z,H.key):B!==null&&(B.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===q&&xr(_e)===B.type)?(B=v(B,H.props),ol(B,H),B.return=$,B):(B=vc(H.type,H.key,H.props,null,$.mode,Z),ol(B,H),B.return=$,B)}function G($,B,H,Z){return B===null||B.tag!==4||B.stateNode.containerInfo!==H.containerInfo||B.stateNode.implementation!==H.implementation?(B=cp(H,$.mode,Z),B.return=$,B):(B=v(B,H.children||[]),B.return=$,B)}function X($,B,H,Z,_e){return B===null||B.tag!==7?(B=Er(H,$.mode,Z,_e),B.return=$,B):(B=v(B,H),B.return=$,B)}function te($,B,H){if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return B=up(""+B,$.mode,H),B.return=$,B;if(typeof B=="object"&&B!==null){switch(B.$$typeof){case b:return H=vc(B.type,B.key,B.props,null,$.mode,H),ol(H,B),H.return=$,H;case T:return B=cp(B,$.mode,H),B.return=$,B;case q:return B=xr(B),te($,B,H)}if(de(B)||re(B))return B=Er(B,$.mode,H,null),B.return=$,B;if(typeof B.then=="function")return te($,Cc(B),H);if(B.$$typeof===N)return te($,Sc($,B),H);Tc($,B)}return null}function z($,B,H,Z){var _e=B!==null?B.key:null;if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return _e!==null?null:R($,B,""+H,Z);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case b:return H.key===_e?P($,B,H,Z):null;case T:return H.key===_e?G($,B,H,Z):null;case q:return H=xr(H),z($,B,H,Z)}if(de(H)||re(H))return _e!==null?null:X($,B,H,Z,null);if(typeof H.then=="function")return z($,B,Cc(H),Z);if(H.$$typeof===N)return z($,B,Sc($,H),Z);Tc($,H)}return null}function K($,B,H,Z,_e){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return $=$.get(H)||null,R(B,$,""+Z,_e);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case b:return $=$.get(Z.key===null?H:Z.key)||null,P(B,$,Z,_e);case T:return $=$.get(Z.key===null?H:Z.key)||null,G(B,$,Z,_e);case q:return Z=xr(Z),K($,B,H,Z,_e)}if(de(Z)||re(Z))return $=$.get(H)||null,X(B,$,Z,_e,null);if(typeof Z.then=="function")return K($,B,H,Cc(Z),_e);if(Z.$$typeof===N)return K($,B,H,Sc(B,Z),_e);Tc(B,Z)}return null}function he($,B,H,Z){for(var _e=null,$e=null,ge=B,Me=B=0,ke=null;ge!==null&&Me<H.length;Me++){ge.index>Me?(ke=ge,ge=null):ke=ge.sibling;var He=z($,ge,H[Me],Z);if(He===null){ge===null&&(ge=ke);break}o&&ge&&He.alternate===null&&s($,ge),B=_(He,B,Me),$e===null?_e=He:$e.sibling=He,$e=He,ge=ke}if(Me===H.length)return l($,ge),Le&&Hi($,Me),_e;if(ge===null){for(;Me<H.length;Me++)ge=te($,H[Me],Z),ge!==null&&(B=_(ge,B,Me),$e===null?_e=ge:$e.sibling=ge,$e=ge);return Le&&Hi($,Me),_e}for(ge=f(ge);Me<H.length;Me++)ke=K(ge,$,Me,H[Me],Z),ke!==null&&(o&&ke.alternate!==null&&ge.delete(ke.key===null?Me:ke.key),B=_(ke,B,Me),$e===null?_e=ke:$e.sibling=ke,$e=ke);return o&&ge.forEach(function(Ko){return s($,Ko)}),Le&&Hi($,Me),_e}function Ee($,B,H,Z){if(H==null)throw Error(i(151));for(var _e=null,$e=null,ge=B,Me=B=0,ke=null,He=H.next();ge!==null&&!He.done;Me++,He=H.next()){ge.index>Me?(ke=ge,ge=null):ke=ge.sibling;var Ko=z($,ge,He.value,Z);if(Ko===null){ge===null&&(ge=ke);break}o&&ge&&Ko.alternate===null&&s($,ge),B=_(Ko,B,Me),$e===null?_e=Ko:$e.sibling=Ko,$e=Ko,ge=ke}if(He.done)return l($,ge),Le&&Hi($,Me),_e;if(ge===null){for(;!He.done;Me++,He=H.next())He=te($,He.value,Z),He!==null&&(B=_(He,B,Me),$e===null?_e=He:$e.sibling=He,$e=He);return Le&&Hi($,Me),_e}for(ge=f(ge);!He.done;Me++,He=H.next())He=K(ge,$,Me,He.value,Z),He!==null&&(o&&He.alternate!==null&&ge.delete(He.key===null?Me:He.key),B=_(He,B,Me),$e===null?_e=He:$e.sibling=He,$e=He);return o&&ge.forEach(function(FP){return s($,FP)}),Le&&Hi($,Me),_e}function We($,B,H,Z){if(typeof H=="object"&&H!==null&&H.type===A&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case b:e:{for(var _e=H.key;B!==null;){if(B.key===_e){if(_e=H.type,_e===A){if(B.tag===7){l($,B.sibling),Z=v(B,H.props.children),Z.return=$,$=Z;break e}}else if(B.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===q&&xr(_e)===B.type){l($,B.sibling),Z=v(B,H.props),ol(Z,H),Z.return=$,$=Z;break e}l($,B);break}else s($,B);B=B.sibling}H.type===A?(Z=Er(H.props.children,$.mode,Z,H.key),Z.return=$,$=Z):(Z=vc(H.type,H.key,H.props,null,$.mode,Z),ol(Z,H),Z.return=$,$=Z)}return w($);case T:e:{for(_e=H.key;B!==null;){if(B.key===_e)if(B.tag===4&&B.stateNode.containerInfo===H.containerInfo&&B.stateNode.implementation===H.implementation){l($,B.sibling),Z=v(B,H.children||[]),Z.return=$,$=Z;break e}else{l($,B);break}else s($,B);B=B.sibling}Z=cp(H,$.mode,Z),Z.return=$,$=Z}return w($);case q:return H=xr(H),We($,B,H,Z)}if(de(H))return he($,B,H,Z);if(re(H)){if(_e=re(H),typeof _e!="function")throw Error(i(150));return H=_e.call(H),Ee($,B,H,Z)}if(typeof H.then=="function")return We($,B,Cc(H),Z);if(H.$$typeof===N)return We($,B,Sc($,H),Z);Tc($,H)}return typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint"?(H=""+H,B!==null&&B.tag===6?(l($,B.sibling),Z=v(B,H),Z.return=$,$=Z):(l($,B),Z=up(H,$.mode,Z),Z.return=$,$=Z),w($)):l($,B)}return function($,B,H,Z){try{il=0;var _e=We($,B,H,Z);return As=null,_e}catch(ge){if(ge===Ts||ge===Ec)throw ge;var $e=un(29,ge,null,$.mode);return $e.lanes=Z,$e.return=$,$e}finally{}}}var Mr=J0(!0),K0=J0(!1),No=!1;function Ep(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function wp(o,s){o=o.updateQueue,s.updateQueue===o&&(s.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,callbacks:null})}function Io(o){return{lane:o,tag:0,payload:null,callback:null,next:null}}function Do(o,s,l){var f=o.updateQueue;if(f===null)return null;if(f=f.shared,(Je&2)!==0){var v=f.pending;return v===null?s.next=s:(s.next=v.next,v.next=s),f.pending=s,s=gc(o),N0(o,null,l),s}return mc(o,f,s,l),gc(o)}function rl(o,s,l){if(s=s.updateQueue,s!==null&&(s=s.shared,(l&4194048)!==0)){var f=s.lanes;f&=o.pendingLanes,l|=f,s.lanes=l,B_(o,l)}}function Cp(o,s){var l=o.updateQueue,f=o.alternate;if(f!==null&&(f=f.updateQueue,l===f)){var v=null,_=null;if(l=l.firstBaseUpdate,l!==null){do{var w={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};_===null?v=_=w:_=_.next=w,l=l.next}while(l!==null);_===null?v=_=s:_=_.next=s}else v=_=s;l={baseState:f.baseState,firstBaseUpdate:v,lastBaseUpdate:_,shared:f.shared,callbacks:f.callbacks},o.updateQueue=l;return}o=l.lastBaseUpdate,o===null?l.firstBaseUpdate=s:o.next=s,l.lastBaseUpdate=s}var Tp=!1;function sl(){if(Tp){var o=Cs;if(o!==null)throw o}}function al(o,s,l,f){Tp=!1;var v=o.updateQueue;No=!1;var _=v.firstBaseUpdate,w=v.lastBaseUpdate,R=v.shared.pending;if(R!==null){v.shared.pending=null;var P=R,G=P.next;P.next=null,w===null?_=G:w.next=G,w=P;var X=o.alternate;X!==null&&(X=X.updateQueue,R=X.lastBaseUpdate,R!==w&&(R===null?X.firstBaseUpdate=G:R.next=G,X.lastBaseUpdate=P))}if(_!==null){var te=v.baseState;w=0,X=G=P=null,R=_;do{var z=R.lane&-536870913,K=z!==R.lane;if(K?(Pe&z)===z:(f&z)===z){z!==0&&z===ws&&(Tp=!0),X!==null&&(X=X.next={lane:0,tag:R.tag,payload:R.payload,callback:null,next:null});e:{var he=o,Ee=R;z=s;var We=l;switch(Ee.tag){case 1:if(he=Ee.payload,typeof he=="function"){te=he.call(We,te,z);break e}te=he;break e;case 3:he.flags=he.flags&-65537|128;case 0:if(he=Ee.payload,z=typeof he=="function"?he.call(We,te,z):he,z==null)break e;te=y({},te,z);break e;case 2:No=!0}}z=R.callback,z!==null&&(o.flags|=64,K&&(o.flags|=8192),K=v.callbacks,K===null?v.callbacks=[z]:K.push(z))}else K={lane:z,tag:R.tag,payload:R.payload,callback:R.callback,next:null},X===null?(G=X=K,P=te):X=X.next=K,w|=z;if(R=R.next,R===null){if(R=v.shared.pending,R===null)break;K=R,R=K.next,K.next=null,v.lastBaseUpdate=K,v.shared.pending=null}}while(!0);X===null&&(P=te),v.baseState=P,v.firstBaseUpdate=G,v.lastBaseUpdate=X,_===null&&(v.shared.lanes=0),Uo|=w,o.lanes=w,o.memoizedState=te}}function Y0(o,s){if(typeof o!="function")throw Error(i(191,o));o.call(s)}function j0(o,s){var l=o.callbacks;if(l!==null)for(o.callbacks=null,o=0;o<l.length;o++)Y0(l[o],s)}var xs=k(null),Ac=k(0);function X0(o,s){o=Qi,se(Ac,o),se(xs,s),Qi=o|s.baseLanes}function Ap(){se(Ac,Qi),se(xs,xs.current)}function xp(){Qi=Ac.current,Y(xs),Y(Ac)}var cn=k(null),Dn=null;function Oo(o){var s=o.alternate;se(ft,ft.current&1),se(cn,o),Dn===null&&(s===null||xs.current!==null||s.memoizedState!==null)&&(Dn=o)}function Rp(o){se(ft,ft.current),se(cn,o),Dn===null&&(Dn=o)}function W0(o){o.tag===22?(se(ft,ft.current),se(cn,o),Dn===null&&(Dn=o)):Po()}function Po(){se(ft,ft.current),se(cn,cn.current)}function fn(o){Y(cn),Dn===o&&(Dn=null),Y(ft)}var ft=k(0);function xc(o){for(var s=o;s!==null;){if(s.tag===13){var l=s.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||Pm(l)||km(l)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===o)break;for(;s.sibling===null;){if(s.return===null||s.return===o)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var zi=0,Re=null,je=null,pt=null,Rc=!1,Rs=!1,Nr=!1,Mc=0,ll=0,Ms=null,M1=0;function st(){throw Error(i(321))}function Mp(o,s){if(s===null)return!1;for(var l=0;l<s.length&&l<o.length;l++)if(!ln(o[l],s[l]))return!1;return!0}function Np(o,s,l,f,v,_){return zi=_,Re=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,F.H=o===null||o.memoizedState===null?PS:qp,Nr=!1,_=l(f,v),Nr=!1,Rs&&(_=Z0(s,l,f,v)),Q0(o),_}function Q0(o){F.H=fl;var s=je!==null&&je.next!==null;if(zi=0,pt=je=Re=null,Rc=!1,ll=0,Ms=null,s)throw Error(i(300));o===null||mt||(o=o.dependencies,o!==null&&_c(o)&&(mt=!0))}function Z0(o,s,l,f){Re=o;var v=0;do{if(Rs&&(Ms=null),ll=0,Rs=!1,25<=v)throw Error(i(301));if(v+=1,pt=je=null,o.updateQueue!=null){var _=o.updateQueue;_.lastEffect=null,_.events=null,_.stores=null,_.memoCache!=null&&(_.memoCache.index=0)}F.H=kS,_=s(l,f)}while(Rs);return _}function N1(){var o=F.H,s=o.useState()[0];return s=typeof s.then=="function"?ul(s):s,o=o.useState()[0],(je!==null?je.memoizedState:null)!==o&&(Re.flags|=1024),s}function Ip(){var o=Mc!==0;return Mc=0,o}function Dp(o,s,l){s.updateQueue=o.updateQueue,s.flags&=-2053,o.lanes&=~l}function Op(o){if(Rc){for(o=o.memoizedState;o!==null;){var s=o.queue;s!==null&&(s.pending=null),o=o.next}Rc=!1}zi=0,pt=je=Re=null,Rs=!1,ll=Mc=0,Ms=null}function Ft(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return pt===null?Re.memoizedState=pt=o:pt=pt.next=o,pt}function dt(){if(je===null){var o=Re.alternate;o=o!==null?o.memoizedState:null}else o=je.next;var s=pt===null?Re.memoizedState:pt.next;if(s!==null)pt=s,je=o;else{if(o===null)throw Re.alternate===null?Error(i(467)):Error(i(310));je=o,o={memoizedState:je.memoizedState,baseState:je.baseState,baseQueue:je.baseQueue,queue:je.queue,next:null},pt===null?Re.memoizedState=pt=o:pt=pt.next=o}return pt}function Nc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ul(o){var s=ll;return ll+=1,Ms===null&&(Ms=[]),o=V0(Ms,o,s),s=Re,(pt===null?s.memoizedState:pt.next)===null&&(s=s.alternate,F.H=s===null||s.memoizedState===null?PS:qp),o}function Ic(o){if(o!==null&&typeof o=="object"){if(typeof o.then=="function")return ul(o);if(o.$$typeof===N)return Mt(o)}throw Error(i(438,String(o)))}function Pp(o){var s=null,l=Re.updateQueue;if(l!==null&&(s=l.memoCache),s==null){var f=Re.alternate;f!==null&&(f=f.updateQueue,f!==null&&(f=f.memoCache,f!=null&&(s={data:f.data.map(function(v){return v.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),l===null&&(l=Nc(),Re.updateQueue=l),l.memoCache=s,l=s.data[s.index],l===void 0)for(l=s.data[s.index]=Array(o),f=0;f<o;f++)l[f]=j;return s.index++,l}function qi(o,s){return typeof s=="function"?s(o):s}function Dc(o){var s=dt();return kp(s,je,o)}function kp(o,s,l){var f=o.queue;if(f===null)throw Error(i(311));f.lastRenderedReducer=l;var v=o.baseQueue,_=f.pending;if(_!==null){if(v!==null){var w=v.next;v.next=_.next,_.next=w}s.baseQueue=v=_,f.pending=null}if(_=o.baseState,v===null)o.memoizedState=_;else{s=v.next;var R=w=null,P=null,G=s,X=!1;do{var te=G.lane&-536870913;if(te!==G.lane?(Pe&te)===te:(zi&te)===te){var z=G.revertLane;if(z===0)P!==null&&(P=P.next={lane:0,revertLane:0,gesture:null,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null}),te===ws&&(X=!0);else if((zi&z)===z){G=G.next,z===ws&&(X=!0);continue}else te={lane:0,revertLane:G.revertLane,gesture:null,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},P===null?(R=P=te,w=_):P=P.next=te,Re.lanes|=z,Uo|=z;te=G.action,Nr&&l(_,te),_=G.hasEagerState?G.eagerState:l(_,te)}else z={lane:te,revertLane:G.revertLane,gesture:G.gesture,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},P===null?(R=P=z,w=_):P=P.next=z,Re.lanes|=te,Uo|=te;G=G.next}while(G!==null&&G!==s);if(P===null?w=_:P.next=R,!ln(_,o.memoizedState)&&(mt=!0,X&&(l=Cs,l!==null)))throw l;o.memoizedState=_,o.baseState=w,o.baseQueue=P,f.lastRenderedState=_}return v===null&&(f.lanes=0),[o.memoizedState,f.dispatch]}function Lp(o){var s=dt(),l=s.queue;if(l===null)throw Error(i(311));l.lastRenderedReducer=o;var f=l.dispatch,v=l.pending,_=s.memoizedState;if(v!==null){l.pending=null;var w=v=v.next;do _=o(_,w.action),w=w.next;while(w!==v);ln(_,s.memoizedState)||(mt=!0),s.memoizedState=_,s.baseQueue===null&&(s.baseState=_),l.lastRenderedState=_}return[_,f]}function eS(o,s,l){var f=Re,v=dt(),_=Le;if(_){if(l===void 0)throw Error(i(407));l=l()}else l=s();var w=!ln((je||v).memoizedState,l);if(w&&(v.memoizedState=l,mt=!0),v=v.queue,Fp(iS.bind(null,f,v,o),[o]),v.getSnapshot!==s||w||pt!==null&&pt.memoizedState.tag&1){if(f.flags|=2048,Ns(9,{destroy:void 0},nS.bind(null,f,v,l,s),null),Ze===null)throw Error(i(349));_||(zi&127)!==0||tS(f,s,l)}return l}function tS(o,s,l){o.flags|=16384,o={getSnapshot:s,value:l},s=Re.updateQueue,s===null?(s=Nc(),Re.updateQueue=s,s.stores=[o]):(l=s.stores,l===null?s.stores=[o]:l.push(o))}function nS(o,s,l,f){s.value=l,s.getSnapshot=f,oS(s)&&rS(o)}function iS(o,s,l){return l(function(){oS(s)&&rS(o)})}function oS(o){var s=o.getSnapshot;o=o.value;try{var l=s();return!ln(o,l)}catch{return!0}}function rS(o){var s=br(o,2);s!==null&&Zt(s,o,2)}function Up(o){var s=Ft();if(typeof o=="function"){var l=o;if(o=l(),Nr){wo(!0);try{l()}finally{wo(!1)}}}return s.memoizedState=s.baseState=o,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:qi,lastRenderedState:o},s}function sS(o,s,l,f){return o.baseState=l,kp(o,je,typeof f=="function"?f:qi)}function I1(o,s,l,f,v){if(kc(o))throw Error(i(485));if(o=s.action,o!==null){var _={payload:v,action:o,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(w){_.listeners.push(w)}};F.T!==null?l(!0):_.isTransition=!1,f(_),l=s.pending,l===null?(_.next=s.pending=_,aS(s,_)):(_.next=l.next,s.pending=l.next=_)}}function aS(o,s){var l=s.action,f=s.payload,v=o.state;if(s.isTransition){var _=F.T,w={};F.T=w;try{var R=l(v,f),P=F.S;P!==null&&P(w,R),lS(o,s,R)}catch(G){Bp(o,s,G)}finally{_!==null&&w.types!==null&&(_.types=w.types),F.T=_}}else try{_=l(v,f),lS(o,s,_)}catch(G){Bp(o,s,G)}}function lS(o,s,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(f){uS(o,s,f)},function(f){return Bp(o,s,f)}):uS(o,s,l)}function uS(o,s,l){s.status="fulfilled",s.value=l,cS(s),o.state=l,s=o.pending,s!==null&&(l=s.next,l===s?o.pending=null:(l=l.next,s.next=l,aS(o,l)))}function Bp(o,s,l){var f=o.pending;if(o.pending=null,f!==null){f=f.next;do s.status="rejected",s.reason=l,cS(s),s=s.next;while(s!==f)}o.action=null}function cS(o){o=o.listeners;for(var s=0;s<o.length;s++)(0,o[s])()}function fS(o,s){return s}function dS(o,s){if(Le){var l=Ze.formState;if(l!==null){e:{var f=Re;if(Le){if(nt){t:{for(var v=nt,_=In;v.nodeType!==8;){if(!_){v=null;break t}if(v=On(v.nextSibling),v===null){v=null;break t}}_=v.data,v=_==="F!"||_==="F"?v:null}if(v){nt=On(v.nextSibling),f=v.data==="F!";break e}}Ro(f)}f=!1}f&&(s=l[0])}}return l=Ft(),l.memoizedState=l.baseState=s,f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:fS,lastRenderedState:s},l.queue=f,l=IS.bind(null,Re,f),f.dispatch=l,f=Up(!1),_=zp.bind(null,Re,!1,f.queue),f=Ft(),v={state:s,dispatch:null,action:o,pending:null},f.queue=v,l=I1.bind(null,Re,v,_,l),v.dispatch=l,f.memoizedState=o,[s,l,!1]}function hS(o){var s=dt();return pS(s,je,o)}function pS(o,s,l){if(s=kp(o,s,fS)[0],o=Dc(qi)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var f=ul(s)}catch(w){throw w===Ts?Ec:w}else f=s;s=dt();var v=s.queue,_=v.dispatch;return l!==s.memoizedState&&(Re.flags|=2048,Ns(9,{destroy:void 0},D1.bind(null,v,l),null)),[f,_,o]}function D1(o,s){o.action=s}function mS(o){var s=dt(),l=je;if(l!==null)return pS(s,l,o);dt(),s=s.memoizedState,l=dt();var f=l.queue.dispatch;return l.memoizedState=o,[s,f,!1]}function Ns(o,s,l,f){return o={tag:o,create:l,deps:f,inst:s,next:null},s=Re.updateQueue,s===null&&(s=Nc(),Re.updateQueue=s),l=s.lastEffect,l===null?s.lastEffect=o.next=o:(f=l.next,l.next=o,o.next=f,s.lastEffect=o),o}function gS(){return dt().memoizedState}function Oc(o,s,l,f){var v=Ft();Re.flags|=o,v.memoizedState=Ns(1|s,{destroy:void 0},l,f===void 0?null:f)}function Pc(o,s,l,f){var v=dt();f=f===void 0?null:f;var _=v.memoizedState.inst;je!==null&&f!==null&&Mp(f,je.memoizedState.deps)?v.memoizedState=Ns(s,_,l,f):(Re.flags|=o,v.memoizedState=Ns(1|s,_,l,f))}function vS(o,s){Oc(8390656,8,o,s)}function Fp(o,s){Pc(2048,8,o,s)}function O1(o){Re.flags|=4;var s=Re.updateQueue;if(s===null)s=Nc(),Re.updateQueue=s,s.events=[o];else{var l=s.events;l===null?s.events=[o]:l.push(o)}}function yS(o){var s=dt().memoizedState;return O1({ref:s,nextImpl:o}),function(){if((Je&2)!==0)throw Error(i(440));return s.impl.apply(void 0,arguments)}}function _S(o,s){return Pc(4,2,o,s)}function SS(o,s){return Pc(4,4,o,s)}function bS(o,s){if(typeof s=="function"){o=o();var l=s(o);return function(){typeof l=="function"?l():s(null)}}if(s!=null)return o=o(),s.current=o,function(){s.current=null}}function ES(o,s,l){l=l!=null?l.concat([o]):null,Pc(4,4,bS.bind(null,s,o),l)}function $p(){}function wS(o,s){var l=dt();s=s===void 0?null:s;var f=l.memoizedState;return s!==null&&Mp(s,f[1])?f[0]:(l.memoizedState=[o,s],o)}function CS(o,s){var l=dt();s=s===void 0?null:s;var f=l.memoizedState;if(s!==null&&Mp(s,f[1]))return f[0];if(f=o(),Nr){wo(!0);try{o()}finally{wo(!1)}}return l.memoizedState=[f,s],f}function Hp(o,s,l){return l===void 0||(zi&1073741824)!==0&&(Pe&261930)===0?o.memoizedState=s:(o.memoizedState=l,o=Tb(),Re.lanes|=o,Uo|=o,l)}function TS(o,s,l,f){return ln(l,s)?l:xs.current!==null?(o=Hp(o,l,f),ln(o,s)||(mt=!0),o):(zi&42)===0||(zi&1073741824)!==0&&(Pe&261930)===0?(mt=!0,o.memoizedState=l):(o=Tb(),Re.lanes|=o,Uo|=o,s)}function AS(o,s,l,f,v){var _=Q.p;Q.p=_!==0&&8>_?_:8;var w=F.T,R={};F.T=R,zp(o,!1,s,l);try{var P=v(),G=F.S;if(G!==null&&G(R,P),P!==null&&typeof P=="object"&&typeof P.then=="function"){var X=R1(P,f);cl(o,s,X,pn(o))}else cl(o,s,f,pn(o))}catch(te){cl(o,s,{then:function(){},status:"rejected",reason:te},pn())}finally{Q.p=_,w!==null&&R.types!==null&&(w.types=R.types),F.T=w}}function P1(){}function Gp(o,s,l,f){if(o.tag!==5)throw Error(i(476));var v=xS(o).queue;AS(o,v,s,ee,l===null?P1:function(){return RS(o),l(f)})}function xS(o){var s=o.memoizedState;if(s!==null)return s;s={memoizedState:ee,baseState:ee,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:qi,lastRenderedState:ee},next:null};var l={};return s.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:qi,lastRenderedState:l},next:null},o.memoizedState=s,o=o.alternate,o!==null&&(o.memoizedState=s),s}function RS(o){var s=xS(o);s.next===null&&(s=o.alternate.memoizedState),cl(o,s.next.queue,{},pn())}function Vp(){return Mt(xl)}function MS(){return dt().memoizedState}function NS(){return dt().memoizedState}function k1(o){for(var s=o.return;s!==null;){switch(s.tag){case 24:case 3:var l=pn();o=Io(l);var f=Do(s,o,l);f!==null&&(Zt(f,s,l),rl(f,s,l)),s={cache:yp()},o.payload=s;return}s=s.return}}function L1(o,s,l){var f=pn();l={lane:f,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},kc(o)?DS(s,l):(l=ap(o,s,l,f),l!==null&&(Zt(l,o,f),OS(l,s,f)))}function IS(o,s,l){var f=pn();cl(o,s,l,f)}function cl(o,s,l,f){var v={lane:f,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(kc(o))DS(s,v);else{var _=o.alternate;if(o.lanes===0&&(_===null||_.lanes===0)&&(_=s.lastRenderedReducer,_!==null))try{var w=s.lastRenderedState,R=_(w,l);if(v.hasEagerState=!0,v.eagerState=R,ln(R,w))return mc(o,s,v,0),Ze===null&&pc(),!1}catch{}finally{}if(l=ap(o,s,v,f),l!==null)return Zt(l,o,f),OS(l,s,f),!0}return!1}function zp(o,s,l,f){if(f={lane:2,revertLane:Em(),gesture:null,action:f,hasEagerState:!1,eagerState:null,next:null},kc(o)){if(s)throw Error(i(479))}else s=ap(o,l,f,2),s!==null&&Zt(s,o,2)}function kc(o){var s=o.alternate;return o===Re||s!==null&&s===Re}function DS(o,s){Rs=Rc=!0;var l=o.pending;l===null?s.next=s:(s.next=l.next,l.next=s),o.pending=s}function OS(o,s,l){if((l&4194048)!==0){var f=s.lanes;f&=o.pendingLanes,l|=f,s.lanes=l,B_(o,l)}}var fl={readContext:Mt,use:Ic,useCallback:st,useContext:st,useEffect:st,useImperativeHandle:st,useLayoutEffect:st,useInsertionEffect:st,useMemo:st,useReducer:st,useRef:st,useState:st,useDebugValue:st,useDeferredValue:st,useTransition:st,useSyncExternalStore:st,useId:st,useHostTransitionStatus:st,useFormState:st,useActionState:st,useOptimistic:st,useMemoCache:st,useCacheRefresh:st};fl.useEffectEvent=st;var PS={readContext:Mt,use:Ic,useCallback:function(o,s){return Ft().memoizedState=[o,s===void 0?null:s],o},useContext:Mt,useEffect:vS,useImperativeHandle:function(o,s,l){l=l!=null?l.concat([o]):null,Oc(4194308,4,bS.bind(null,s,o),l)},useLayoutEffect:function(o,s){return Oc(4194308,4,o,s)},useInsertionEffect:function(o,s){Oc(4,2,o,s)},useMemo:function(o,s){var l=Ft();s=s===void 0?null:s;var f=o();if(Nr){wo(!0);try{o()}finally{wo(!1)}}return l.memoizedState=[f,s],f},useReducer:function(o,s,l){var f=Ft();if(l!==void 0){var v=l(s);if(Nr){wo(!0);try{l(s)}finally{wo(!1)}}}else v=s;return f.memoizedState=f.baseState=v,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:v},f.queue=o,o=o.dispatch=L1.bind(null,Re,o),[f.memoizedState,o]},useRef:function(o){var s=Ft();return o={current:o},s.memoizedState=o},useState:function(o){o=Up(o);var s=o.queue,l=IS.bind(null,Re,s);return s.dispatch=l,[o.memoizedState,l]},useDebugValue:$p,useDeferredValue:function(o,s){var l=Ft();return Hp(l,o,s)},useTransition:function(){var o=Up(!1);return o=AS.bind(null,Re,o.queue,!0,!1),Ft().memoizedState=o,[!1,o]},useSyncExternalStore:function(o,s,l){var f=Re,v=Ft();if(Le){if(l===void 0)throw Error(i(407));l=l()}else{if(l=s(),Ze===null)throw Error(i(349));(Pe&127)!==0||tS(f,s,l)}v.memoizedState=l;var _={value:l,getSnapshot:s};return v.queue=_,vS(iS.bind(null,f,_,o),[o]),f.flags|=2048,Ns(9,{destroy:void 0},nS.bind(null,f,_,l,s),null),l},useId:function(){var o=Ft(),s=Ze.identifierPrefix;if(Le){var l=pi,f=hi;l=(f&~(1<<32-an(f)-1)).toString(32)+l,s="_"+s+"R_"+l,l=Mc++,0<l&&(s+="H"+l.toString(32)),s+="_"}else l=M1++,s="_"+s+"r_"+l.toString(32)+"_";return o.memoizedState=s},useHostTransitionStatus:Vp,useFormState:dS,useActionState:dS,useOptimistic:function(o){var s=Ft();s.memoizedState=s.baseState=o;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=l,s=zp.bind(null,Re,!0,l),l.dispatch=s,[o,s]},useMemoCache:Pp,useCacheRefresh:function(){return Ft().memoizedState=k1.bind(null,Re)},useEffectEvent:function(o){var s=Ft(),l={impl:o};return s.memoizedState=l,function(){if((Je&2)!==0)throw Error(i(440));return l.impl.apply(void 0,arguments)}}},qp={readContext:Mt,use:Ic,useCallback:wS,useContext:Mt,useEffect:Fp,useImperativeHandle:ES,useInsertionEffect:_S,useLayoutEffect:SS,useMemo:CS,useReducer:Dc,useRef:gS,useState:function(){return Dc(qi)},useDebugValue:$p,useDeferredValue:function(o,s){var l=dt();return TS(l,je.memoizedState,o,s)},useTransition:function(){var o=Dc(qi)[0],s=dt().memoizedState;return[typeof o=="boolean"?o:ul(o),s]},useSyncExternalStore:eS,useId:MS,useHostTransitionStatus:Vp,useFormState:hS,useActionState:hS,useOptimistic:function(o,s){var l=dt();return sS(l,je,o,s)},useMemoCache:Pp,useCacheRefresh:NS};qp.useEffectEvent=yS;var kS={readContext:Mt,use:Ic,useCallback:wS,useContext:Mt,useEffect:Fp,useImperativeHandle:ES,useInsertionEffect:_S,useLayoutEffect:SS,useMemo:CS,useReducer:Lp,useRef:gS,useState:function(){return Lp(qi)},useDebugValue:$p,useDeferredValue:function(o,s){var l=dt();return je===null?Hp(l,o,s):TS(l,je.memoizedState,o,s)},useTransition:function(){var o=Lp(qi)[0],s=dt().memoizedState;return[typeof o=="boolean"?o:ul(o),s]},useSyncExternalStore:eS,useId:MS,useHostTransitionStatus:Vp,useFormState:mS,useActionState:mS,useOptimistic:function(o,s){var l=dt();return je!==null?sS(l,je,o,s):(l.baseState=o,[o,l.queue.dispatch])},useMemoCache:Pp,useCacheRefresh:NS};kS.useEffectEvent=yS;function Jp(o,s,l,f){s=o.memoizedState,l=l(f,s),l=l==null?s:y({},s,l),o.memoizedState=l,o.lanes===0&&(o.updateQueue.baseState=l)}var Kp={enqueueSetState:function(o,s,l){o=o._reactInternals;var f=pn(),v=Io(f);v.payload=s,l!=null&&(v.callback=l),s=Do(o,v,f),s!==null&&(Zt(s,o,f),rl(s,o,f))},enqueueReplaceState:function(o,s,l){o=o._reactInternals;var f=pn(),v=Io(f);v.tag=1,v.payload=s,l!=null&&(v.callback=l),s=Do(o,v,f),s!==null&&(Zt(s,o,f),rl(s,o,f))},enqueueForceUpdate:function(o,s){o=o._reactInternals;var l=pn(),f=Io(l);f.tag=2,s!=null&&(f.callback=s),s=Do(o,f,l),s!==null&&(Zt(s,o,l),rl(s,o,l))}};function LS(o,s,l,f,v,_,w){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(f,_,w):s.prototype&&s.prototype.isPureReactComponent?!Wa(l,f)||!Wa(v,_):!0}function US(o,s,l,f){o=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(l,f),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(l,f),s.state!==o&&Kp.enqueueReplaceState(s,s.state,null)}function Ir(o,s){var l=s;if("ref"in s){l={};for(var f in s)f!=="ref"&&(l[f]=s[f])}if(o=o.defaultProps){l===s&&(l=y({},l));for(var v in o)l[v]===void 0&&(l[v]=o[v])}return l}function BS(o){hc(o)}function FS(o){console.error(o)}function $S(o){hc(o)}function Lc(o,s){try{var l=o.onUncaughtError;l(s.value,{componentStack:s.stack})}catch(f){setTimeout(function(){throw f})}}function HS(o,s,l){try{var f=o.onCaughtError;f(l.value,{componentStack:l.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(v){setTimeout(function(){throw v})}}function Yp(o,s,l){return l=Io(l),l.tag=3,l.payload={element:null},l.callback=function(){Lc(o,s)},l}function GS(o){return o=Io(o),o.tag=3,o}function VS(o,s,l,f){var v=l.type.getDerivedStateFromError;if(typeof v=="function"){var _=f.value;o.payload=function(){return v(_)},o.callback=function(){HS(s,l,f)}}var w=l.stateNode;w!==null&&typeof w.componentDidCatch=="function"&&(o.callback=function(){HS(s,l,f),typeof v!="function"&&(Bo===null?Bo=new Set([this]):Bo.add(this));var R=f.stack;this.componentDidCatch(f.value,{componentStack:R!==null?R:""})})}function U1(o,s,l,f,v){if(l.flags|=32768,f!==null&&typeof f=="object"&&typeof f.then=="function"){if(s=l.alternate,s!==null&&Es(s,l,v,!0),l=cn.current,l!==null){switch(l.tag){case 31:case 13:return Dn===null?Yc():l.alternate===null&&at===0&&(at=3),l.flags&=-257,l.flags|=65536,l.lanes=v,f===wc?l.flags|=16384:(s=l.updateQueue,s===null?l.updateQueue=new Set([f]):s.add(f),_m(o,f,v)),!1;case 22:return l.flags|=65536,f===wc?l.flags|=16384:(s=l.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([f])},l.updateQueue=s):(l=s.retryQueue,l===null?s.retryQueue=new Set([f]):l.add(f)),_m(o,f,v)),!1}throw Error(i(435,l.tag))}return _m(o,f,v),Yc(),!1}if(Le)return s=cn.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=v,f!==hp&&(o=Error(i(422),{cause:f}),el(Rn(o,l)))):(f!==hp&&(s=Error(i(423),{cause:f}),el(Rn(s,l))),o=o.current.alternate,o.flags|=65536,v&=-v,o.lanes|=v,f=Rn(f,l),v=Yp(o.stateNode,f,v),Cp(o,v),at!==4&&(at=2)),!1;var _=Error(i(520),{cause:f});if(_=Rn(_,l),_l===null?_l=[_]:_l.push(_),at!==4&&(at=2),s===null)return!0;f=Rn(f,l),l=s;do{switch(l.tag){case 3:return l.flags|=65536,o=v&-v,l.lanes|=o,o=Yp(l.stateNode,f,o),Cp(l,o),!1;case 1:if(s=l.type,_=l.stateNode,(l.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(Bo===null||!Bo.has(_))))return l.flags|=65536,v&=-v,l.lanes|=v,v=GS(v),VS(v,o,l,f),Cp(l,v),!1}l=l.return}while(l!==null);return!1}var jp=Error(i(461)),mt=!1;function Nt(o,s,l,f){s.child=o===null?K0(s,null,l,f):Mr(s,o.child,l,f)}function zS(o,s,l,f,v){l=l.render;var _=s.ref;if("ref"in f){var w={};for(var R in f)R!=="ref"&&(w[R]=f[R])}else w=f;return Tr(s),f=Np(o,s,l,w,_,v),R=Ip(),o!==null&&!mt?(Dp(o,s,v),Ji(o,s,v)):(Le&&R&&fp(s),s.flags|=1,Nt(o,s,f,v),s.child)}function qS(o,s,l,f,v){if(o===null){var _=l.type;return typeof _=="function"&&!lp(_)&&_.defaultProps===void 0&&l.compare===null?(s.tag=15,s.type=_,JS(o,s,_,f,v)):(o=vc(l.type,null,f,s,s.mode,v),o.ref=s.ref,o.return=s,s.child=o)}if(_=o.child,!im(o,v)){var w=_.memoizedProps;if(l=l.compare,l=l!==null?l:Wa,l(w,f)&&o.ref===s.ref)return Ji(o,s,v)}return s.flags|=1,o=$i(_,f),o.ref=s.ref,o.return=s,s.child=o}function JS(o,s,l,f,v){if(o!==null){var _=o.memoizedProps;if(Wa(_,f)&&o.ref===s.ref)if(mt=!1,s.pendingProps=f=_,im(o,v))(o.flags&131072)!==0&&(mt=!0);else return s.lanes=o.lanes,Ji(o,s,v)}return Xp(o,s,l,f,v)}function KS(o,s,l,f){var v=f.children,_=o!==null?o.memoizedState:null;if(o===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),f.mode==="hidden"){if((s.flags&128)!==0){if(_=_!==null?_.baseLanes|l:l,o!==null){for(f=s.child=o.child,v=0;f!==null;)v=v|f.lanes|f.childLanes,f=f.sibling;f=v&~_}else f=0,s.child=null;return YS(o,s,_,l,f)}if((l&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},o!==null&&bc(s,_!==null?_.cachePool:null),_!==null?X0(s,_):Ap(),W0(s);else return f=s.lanes=536870912,YS(o,s,_!==null?_.baseLanes|l:l,l,f)}else _!==null?(bc(s,_.cachePool),X0(s,_),Po(),s.memoizedState=null):(o!==null&&bc(s,null),Ap(),Po());return Nt(o,s,v,l),s.child}function dl(o,s){return o!==null&&o.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function YS(o,s,l,f,v){var _=Sp();return _=_===null?null:{parent:ht._currentValue,pool:_},s.memoizedState={baseLanes:l,cachePool:_},o!==null&&bc(s,null),Ap(),W0(s),o!==null&&Es(o,s,f,!0),s.childLanes=v,null}function Uc(o,s){return s=Fc({mode:s.mode,children:s.children},o.mode),s.ref=o.ref,o.child=s,s.return=o,s}function jS(o,s,l){return Mr(s,o.child,null,l),o=Uc(s,s.pendingProps),o.flags|=2,fn(s),s.memoizedState=null,o}function B1(o,s,l){var f=s.pendingProps,v=(s.flags&128)!==0;if(s.flags&=-129,o===null){if(Le){if(f.mode==="hidden")return o=Uc(s,f),s.lanes=536870912,dl(null,o);if(Rp(s),(o=nt)?(o=aE(o,In),o=o!==null&&o.data==="&"?o:null,o!==null&&(s.memoizedState={dehydrated:o,treeContext:Ao!==null?{id:hi,overflow:pi}:null,retryLane:536870912,hydrationErrors:null},l=D0(o),l.return=s,s.child=l,Rt=s,nt=null)):o=null,o===null)throw Ro(s);return s.lanes=536870912,null}return Uc(s,f)}var _=o.memoizedState;if(_!==null){var w=_.dehydrated;if(Rp(s),v)if(s.flags&256)s.flags&=-257,s=jS(o,s,l);else if(s.memoizedState!==null)s.child=o.child,s.flags|=128,s=null;else throw Error(i(558));else if(mt||Es(o,s,l,!1),v=(l&o.childLanes)!==0,mt||v){if(f=Ze,f!==null&&(w=F_(f,l),w!==0&&w!==_.retryLane))throw _.retryLane=w,br(o,w),Zt(f,o,w),jp;Yc(),s=jS(o,s,l)}else o=_.treeContext,nt=On(w.nextSibling),Rt=s,Le=!0,xo=null,In=!1,o!==null&&k0(s,o),s=Uc(s,f),s.flags|=4096;return s}return o=$i(o.child,{mode:f.mode,children:f.children}),o.ref=s.ref,s.child=o,o.return=s,o}function Bc(o,s){var l=s.ref;if(l===null)o!==null&&o.ref!==null&&(s.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(i(284));(o===null||o.ref!==l)&&(s.flags|=4194816)}}function Xp(o,s,l,f,v){return Tr(s),l=Np(o,s,l,f,void 0,v),f=Ip(),o!==null&&!mt?(Dp(o,s,v),Ji(o,s,v)):(Le&&f&&fp(s),s.flags|=1,Nt(o,s,l,v),s.child)}function XS(o,s,l,f,v,_){return Tr(s),s.updateQueue=null,l=Z0(s,f,l,v),Q0(o),f=Ip(),o!==null&&!mt?(Dp(o,s,_),Ji(o,s,_)):(Le&&f&&fp(s),s.flags|=1,Nt(o,s,l,_),s.child)}function WS(o,s,l,f,v){if(Tr(s),s.stateNode===null){var _=ys,w=l.contextType;typeof w=="object"&&w!==null&&(_=Mt(w)),_=new l(f,_),s.memoizedState=_.state!==null&&_.state!==void 0?_.state:null,_.updater=Kp,s.stateNode=_,_._reactInternals=s,_=s.stateNode,_.props=f,_.state=s.memoizedState,_.refs={},Ep(s),w=l.contextType,_.context=typeof w=="object"&&w!==null?Mt(w):ys,_.state=s.memoizedState,w=l.getDerivedStateFromProps,typeof w=="function"&&(Jp(s,l,w,f),_.state=s.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof _.getSnapshotBeforeUpdate=="function"||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(w=_.state,typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount(),w!==_.state&&Kp.enqueueReplaceState(_,_.state,null),al(s,f,_,v),sl(),_.state=s.memoizedState),typeof _.componentDidMount=="function"&&(s.flags|=4194308),f=!0}else if(o===null){_=s.stateNode;var R=s.memoizedProps,P=Ir(l,R);_.props=P;var G=_.context,X=l.contextType;w=ys,typeof X=="object"&&X!==null&&(w=Mt(X));var te=l.getDerivedStateFromProps;X=typeof te=="function"||typeof _.getSnapshotBeforeUpdate=="function",R=s.pendingProps!==R,X||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(R||G!==w)&&US(s,_,f,w),No=!1;var z=s.memoizedState;_.state=z,al(s,f,_,v),sl(),G=s.memoizedState,R||z!==G||No?(typeof te=="function"&&(Jp(s,l,te,f),G=s.memoizedState),(P=No||LS(s,l,P,f,z,G,w))?(X||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(s.flags|=4194308)):(typeof _.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=f,s.memoizedState=G),_.props=f,_.state=G,_.context=w,f=P):(typeof _.componentDidMount=="function"&&(s.flags|=4194308),f=!1)}else{_=s.stateNode,wp(o,s),w=s.memoizedProps,X=Ir(l,w),_.props=X,te=s.pendingProps,z=_.context,G=l.contextType,P=ys,typeof G=="object"&&G!==null&&(P=Mt(G)),R=l.getDerivedStateFromProps,(G=typeof R=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(w!==te||z!==P)&&US(s,_,f,P),No=!1,z=s.memoizedState,_.state=z,al(s,f,_,v),sl();var K=s.memoizedState;w!==te||z!==K||No||o!==null&&o.dependencies!==null&&_c(o.dependencies)?(typeof R=="function"&&(Jp(s,l,R,f),K=s.memoizedState),(X=No||LS(s,l,X,f,z,K,P)||o!==null&&o.dependencies!==null&&_c(o.dependencies))?(G||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(f,K,P),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(f,K,P)),typeof _.componentDidUpdate=="function"&&(s.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof _.componentDidUpdate!="function"||w===o.memoizedProps&&z===o.memoizedState||(s.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||w===o.memoizedProps&&z===o.memoizedState||(s.flags|=1024),s.memoizedProps=f,s.memoizedState=K),_.props=f,_.state=K,_.context=P,f=X):(typeof _.componentDidUpdate!="function"||w===o.memoizedProps&&z===o.memoizedState||(s.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||w===o.memoizedProps&&z===o.memoizedState||(s.flags|=1024),f=!1)}return _=f,Bc(o,s),f=(s.flags&128)!==0,_||f?(_=s.stateNode,l=f&&typeof l.getDerivedStateFromError!="function"?null:_.render(),s.flags|=1,o!==null&&f?(s.child=Mr(s,o.child,null,v),s.child=Mr(s,null,l,v)):Nt(o,s,l,v),s.memoizedState=_.state,o=s.child):o=Ji(o,s,v),o}function QS(o,s,l,f){return wr(),s.flags|=256,Nt(o,s,l,f),s.child}var Wp={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Qp(o){return{baseLanes:o,cachePool:H0()}}function Zp(o,s,l){return o=o!==null?o.childLanes&~l:0,s&&(o|=hn),o}function ZS(o,s,l){var f=s.pendingProps,v=!1,_=(s.flags&128)!==0,w;if((w=_)||(w=o!==null&&o.memoizedState===null?!1:(ft.current&2)!==0),w&&(v=!0,s.flags&=-129),w=(s.flags&32)!==0,s.flags&=-33,o===null){if(Le){if(v?Oo(s):Po(),(o=nt)?(o=aE(o,In),o=o!==null&&o.data!=="&"?o:null,o!==null&&(s.memoizedState={dehydrated:o,treeContext:Ao!==null?{id:hi,overflow:pi}:null,retryLane:536870912,hydrationErrors:null},l=D0(o),l.return=s,s.child=l,Rt=s,nt=null)):o=null,o===null)throw Ro(s);return km(o)?s.lanes=32:s.lanes=536870912,null}var R=f.children;return f=f.fallback,v?(Po(),v=s.mode,R=Fc({mode:"hidden",children:R},v),f=Er(f,v,l,null),R.return=s,f.return=s,R.sibling=f,s.child=R,f=s.child,f.memoizedState=Qp(l),f.childLanes=Zp(o,w,l),s.memoizedState=Wp,dl(null,f)):(Oo(s),em(s,R))}var P=o.memoizedState;if(P!==null&&(R=P.dehydrated,R!==null)){if(_)s.flags&256?(Oo(s),s.flags&=-257,s=tm(o,s,l)):s.memoizedState!==null?(Po(),s.child=o.child,s.flags|=128,s=null):(Po(),R=f.fallback,v=s.mode,f=Fc({mode:"visible",children:f.children},v),R=Er(R,v,l,null),R.flags|=2,f.return=s,R.return=s,f.sibling=R,s.child=f,Mr(s,o.child,null,l),f=s.child,f.memoizedState=Qp(l),f.childLanes=Zp(o,w,l),s.memoizedState=Wp,s=dl(null,f));else if(Oo(s),km(R)){if(w=R.nextSibling&&R.nextSibling.dataset,w)var G=w.dgst;w=G,f=Error(i(419)),f.stack="",f.digest=w,el({value:f,source:null,stack:null}),s=tm(o,s,l)}else if(mt||Es(o,s,l,!1),w=(l&o.childLanes)!==0,mt||w){if(w=Ze,w!==null&&(f=F_(w,l),f!==0&&f!==P.retryLane))throw P.retryLane=f,br(o,f),Zt(w,o,f),jp;Pm(R)||Yc(),s=tm(o,s,l)}else Pm(R)?(s.flags|=192,s.child=o.child,s=null):(o=P.treeContext,nt=On(R.nextSibling),Rt=s,Le=!0,xo=null,In=!1,o!==null&&k0(s,o),s=em(s,f.children),s.flags|=4096);return s}return v?(Po(),R=f.fallback,v=s.mode,P=o.child,G=P.sibling,f=$i(P,{mode:"hidden",children:f.children}),f.subtreeFlags=P.subtreeFlags&65011712,G!==null?R=$i(G,R):(R=Er(R,v,l,null),R.flags|=2),R.return=s,f.return=s,f.sibling=R,s.child=f,dl(null,f),f=s.child,R=o.child.memoizedState,R===null?R=Qp(l):(v=R.cachePool,v!==null?(P=ht._currentValue,v=v.parent!==P?{parent:P,pool:P}:v):v=H0(),R={baseLanes:R.baseLanes|l,cachePool:v}),f.memoizedState=R,f.childLanes=Zp(o,w,l),s.memoizedState=Wp,dl(o.child,f)):(Oo(s),l=o.child,o=l.sibling,l=$i(l,{mode:"visible",children:f.children}),l.return=s,l.sibling=null,o!==null&&(w=s.deletions,w===null?(s.deletions=[o],s.flags|=16):w.push(o)),s.child=l,s.memoizedState=null,l)}function em(o,s){return s=Fc({mode:"visible",children:s},o.mode),s.return=o,o.child=s}function Fc(o,s){return o=un(22,o,null,s),o.lanes=0,o}function tm(o,s,l){return Mr(s,o.child,null,l),o=em(s,s.pendingProps.children),o.flags|=2,s.memoizedState=null,o}function eb(o,s,l){o.lanes|=s;var f=o.alternate;f!==null&&(f.lanes|=s),gp(o.return,s,l)}function nm(o,s,l,f,v,_){var w=o.memoizedState;w===null?o.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:f,tail:l,tailMode:v,treeForkCount:_}:(w.isBackwards=s,w.rendering=null,w.renderingStartTime=0,w.last=f,w.tail=l,w.tailMode=v,w.treeForkCount=_)}function tb(o,s,l){var f=s.pendingProps,v=f.revealOrder,_=f.tail;f=f.children;var w=ft.current,R=(w&2)!==0;if(R?(w=w&1|2,s.flags|=128):w&=1,se(ft,w),Nt(o,s,f,l),f=Le?Za:0,!R&&o!==null&&(o.flags&128)!==0)e:for(o=s.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&eb(o,l,s);else if(o.tag===19)eb(o,l,s);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break e;for(;o.sibling===null;){if(o.return===null||o.return===s)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}switch(v){case"forwards":for(l=s.child,v=null;l!==null;)o=l.alternate,o!==null&&xc(o)===null&&(v=l),l=l.sibling;l=v,l===null?(v=s.child,s.child=null):(v=l.sibling,l.sibling=null),nm(s,!1,v,l,_,f);break;case"backwards":case"unstable_legacy-backwards":for(l=null,v=s.child,s.child=null;v!==null;){if(o=v.alternate,o!==null&&xc(o)===null){s.child=v;break}o=v.sibling,v.sibling=l,l=v,v=o}nm(s,!0,l,null,_,f);break;case"together":nm(s,!1,null,null,void 0,f);break;default:s.memoizedState=null}return s.child}function Ji(o,s,l){if(o!==null&&(s.dependencies=o.dependencies),Uo|=s.lanes,(l&s.childLanes)===0)if(o!==null){if(Es(o,s,l,!1),(l&s.childLanes)===0)return null}else return null;if(o!==null&&s.child!==o.child)throw Error(i(153));if(s.child!==null){for(o=s.child,l=$i(o,o.pendingProps),s.child=l,l.return=s;o.sibling!==null;)o=o.sibling,l=l.sibling=$i(o,o.pendingProps),l.return=s;l.sibling=null}return s.child}function im(o,s){return(o.lanes&s)!==0?!0:(o=o.dependencies,!!(o!==null&&_c(o)))}function F1(o,s,l){switch(s.tag){case 3:ze(s,s.stateNode.containerInfo),Mo(s,ht,o.memoizedState.cache),wr();break;case 27:case 5:rn(s);break;case 4:ze(s,s.stateNode.containerInfo);break;case 10:Mo(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,Rp(s),null;break;case 13:var f=s.memoizedState;if(f!==null)return f.dehydrated!==null?(Oo(s),s.flags|=128,null):(l&s.child.childLanes)!==0?ZS(o,s,l):(Oo(s),o=Ji(o,s,l),o!==null?o.sibling:null);Oo(s);break;case 19:var v=(o.flags&128)!==0;if(f=(l&s.childLanes)!==0,f||(Es(o,s,l,!1),f=(l&s.childLanes)!==0),v){if(f)return tb(o,s,l);s.flags|=128}if(v=s.memoizedState,v!==null&&(v.rendering=null,v.tail=null,v.lastEffect=null),se(ft,ft.current),f)break;return null;case 22:return s.lanes=0,KS(o,s,l,s.pendingProps);case 24:Mo(s,ht,o.memoizedState.cache)}return Ji(o,s,l)}function nb(o,s,l){if(o!==null)if(o.memoizedProps!==s.pendingProps)mt=!0;else{if(!im(o,l)&&(s.flags&128)===0)return mt=!1,F1(o,s,l);mt=(o.flags&131072)!==0}else mt=!1,Le&&(s.flags&1048576)!==0&&P0(s,Za,s.index);switch(s.lanes=0,s.tag){case 16:e:{var f=s.pendingProps;if(o=xr(s.elementType),s.type=o,typeof o=="function")lp(o)?(f=Ir(o,f),s.tag=1,s=WS(null,s,o,f,l)):(s.tag=0,s=Xp(null,s,o,f,l));else{if(o!=null){var v=o.$$typeof;if(v===D){s.tag=11,s=zS(null,s,o,f,l);break e}else if(v===O){s.tag=14,s=qS(null,s,o,f,l);break e}}throw s=ae(o)||o,Error(i(306,s,""))}}return s;case 0:return Xp(o,s,s.type,s.pendingProps,l);case 1:return f=s.type,v=Ir(f,s.pendingProps),WS(o,s,f,v,l);case 3:e:{if(ze(s,s.stateNode.containerInfo),o===null)throw Error(i(387));f=s.pendingProps;var _=s.memoizedState;v=_.element,wp(o,s),al(s,f,null,l);var w=s.memoizedState;if(f=w.cache,Mo(s,ht,f),f!==_.cache&&vp(s,[ht],l,!0),sl(),f=w.element,_.isDehydrated)if(_={element:f,isDehydrated:!1,cache:w.cache},s.updateQueue.baseState=_,s.memoizedState=_,s.flags&256){s=QS(o,s,f,l);break e}else if(f!==v){v=Rn(Error(i(424)),s),el(v),s=QS(o,s,f,l);break e}else{switch(o=s.stateNode.containerInfo,o.nodeType){case 9:o=o.body;break;default:o=o.nodeName==="HTML"?o.ownerDocument.body:o}for(nt=On(o.firstChild),Rt=s,Le=!0,xo=null,In=!0,l=K0(s,null,f,l),s.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(wr(),f===v){s=Ji(o,s,l);break e}Nt(o,s,f,l)}s=s.child}return s;case 26:return Bc(o,s),o===null?(l=hE(s.type,null,s.pendingProps,null))?s.memoizedState=l:Le||(l=s.type,o=s.pendingProps,f=tf(be.current).createElement(l),f[xt]=s,f[Kt]=o,It(f,l,o),bt(f),s.stateNode=f):s.memoizedState=hE(s.type,o.memoizedProps,s.pendingProps,o.memoizedState),null;case 27:return rn(s),o===null&&Le&&(f=s.stateNode=cE(s.type,s.pendingProps,be.current),Rt=s,In=!0,v=nt,Go(s.type)?(Lm=v,nt=On(f.firstChild)):nt=v),Nt(o,s,s.pendingProps.children,l),Bc(o,s),o===null&&(s.flags|=4194304),s.child;case 5:return o===null&&Le&&((v=f=nt)&&(f=mP(f,s.type,s.pendingProps,In),f!==null?(s.stateNode=f,Rt=s,nt=On(f.firstChild),In=!1,v=!0):v=!1),v||Ro(s)),rn(s),v=s.type,_=s.pendingProps,w=o!==null?o.memoizedProps:null,f=_.children,Im(v,_)?f=null:w!==null&&Im(v,w)&&(s.flags|=32),s.memoizedState!==null&&(v=Np(o,s,N1,null,null,l),xl._currentValue=v),Bc(o,s),Nt(o,s,f,l),s.child;case 6:return o===null&&Le&&((o=l=nt)&&(l=gP(l,s.pendingProps,In),l!==null?(s.stateNode=l,Rt=s,nt=null,o=!0):o=!1),o||Ro(s)),null;case 13:return ZS(o,s,l);case 4:return ze(s,s.stateNode.containerInfo),f=s.pendingProps,o===null?s.child=Mr(s,null,f,l):Nt(o,s,f,l),s.child;case 11:return zS(o,s,s.type,s.pendingProps,l);case 7:return Nt(o,s,s.pendingProps,l),s.child;case 8:return Nt(o,s,s.pendingProps.children,l),s.child;case 12:return Nt(o,s,s.pendingProps.children,l),s.child;case 10:return f=s.pendingProps,Mo(s,s.type,f.value),Nt(o,s,f.children,l),s.child;case 9:return v=s.type._context,f=s.pendingProps.children,Tr(s),v=Mt(v),f=f(v),s.flags|=1,Nt(o,s,f,l),s.child;case 14:return qS(o,s,s.type,s.pendingProps,l);case 15:return JS(o,s,s.type,s.pendingProps,l);case 19:return tb(o,s,l);case 31:return B1(o,s,l);case 22:return KS(o,s,l,s.pendingProps);case 24:return Tr(s),f=Mt(ht),o===null?(v=Sp(),v===null&&(v=Ze,_=yp(),v.pooledCache=_,_.refCount++,_!==null&&(v.pooledCacheLanes|=l),v=_),s.memoizedState={parent:f,cache:v},Ep(s),Mo(s,ht,v)):((o.lanes&l)!==0&&(wp(o,s),al(s,null,null,l),sl()),v=o.memoizedState,_=s.memoizedState,v.parent!==f?(v={parent:f,cache:f},s.memoizedState=v,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=v),Mo(s,ht,f)):(f=_.cache,Mo(s,ht,f),f!==v.cache&&vp(s,[ht],l,!0))),Nt(o,s,s.pendingProps.children,l),s.child;case 29:throw s.pendingProps}throw Error(i(156,s.tag))}function Ki(o){o.flags|=4}function om(o,s,l,f,v){if((s=(o.mode&32)!==0)&&(s=!1),s){if(o.flags|=16777216,(v&335544128)===v)if(o.stateNode.complete)o.flags|=8192;else if(Mb())o.flags|=8192;else throw Rr=wc,bp}else o.flags&=-16777217}function ib(o,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)o.flags&=-16777217;else if(o.flags|=16777216,!yE(s))if(Mb())o.flags|=8192;else throw Rr=wc,bp}function $c(o,s){s!==null&&(o.flags|=4),o.flags&16384&&(s=o.tag!==22?L_():536870912,o.lanes|=s,Ps|=s)}function hl(o,s){if(!Le)switch(o.tailMode){case"hidden":s=o.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?o.tail=null:l.sibling=null;break;case"collapsed":l=o.tail;for(var f=null;l!==null;)l.alternate!==null&&(f=l),l=l.sibling;f===null?s||o.tail===null?o.tail=null:o.tail.sibling=null:f.sibling=null}}function it(o){var s=o.alternate!==null&&o.alternate.child===o.child,l=0,f=0;if(s)for(var v=o.child;v!==null;)l|=v.lanes|v.childLanes,f|=v.subtreeFlags&65011712,f|=v.flags&65011712,v.return=o,v=v.sibling;else for(v=o.child;v!==null;)l|=v.lanes|v.childLanes,f|=v.subtreeFlags,f|=v.flags,v.return=o,v=v.sibling;return o.subtreeFlags|=f,o.childLanes=l,s}function $1(o,s,l){var f=s.pendingProps;switch(dp(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return it(s),null;case 1:return it(s),null;case 3:return l=s.stateNode,f=null,o!==null&&(f=o.memoizedState.cache),s.memoizedState.cache!==f&&(s.flags|=2048),Vi(ht),qe(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(o===null||o.child===null)&&(bs(s)?Ki(s):o===null||o.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,pp())),it(s),null;case 26:var v=s.type,_=s.memoizedState;return o===null?(Ki(s),_!==null?(it(s),ib(s,_)):(it(s),om(s,v,null,f,l))):_?_!==o.memoizedState?(Ki(s),it(s),ib(s,_)):(it(s),s.flags&=-16777217):(o=o.memoizedProps,o!==f&&Ki(s),it(s),om(s,v,o,f,l)),null;case 27:if(Cn(s),l=be.current,v=s.type,o!==null&&s.stateNode!=null)o.memoizedProps!==f&&Ki(s);else{if(!f){if(s.stateNode===null)throw Error(i(166));return it(s),null}o=le.current,bs(s)?L0(s):(o=cE(v,f,l),s.stateNode=o,Ki(s))}return it(s),null;case 5:if(Cn(s),v=s.type,o!==null&&s.stateNode!=null)o.memoizedProps!==f&&Ki(s);else{if(!f){if(s.stateNode===null)throw Error(i(166));return it(s),null}if(_=le.current,bs(s))L0(s);else{var w=tf(be.current);switch(_){case 1:_=w.createElementNS("http://www.w3.org/2000/svg",v);break;case 2:_=w.createElementNS("http://www.w3.org/1998/Math/MathML",v);break;default:switch(v){case"svg":_=w.createElementNS("http://www.w3.org/2000/svg",v);break;case"math":_=w.createElementNS("http://www.w3.org/1998/Math/MathML",v);break;case"script":_=w.createElement("div"),_.innerHTML="<script><\/script>",_=_.removeChild(_.firstChild);break;case"select":_=typeof f.is=="string"?w.createElement("select",{is:f.is}):w.createElement("select"),f.multiple?_.multiple=!0:f.size&&(_.size=f.size);break;default:_=typeof f.is=="string"?w.createElement(v,{is:f.is}):w.createElement(v)}}_[xt]=s,_[Kt]=f;e:for(w=s.child;w!==null;){if(w.tag===5||w.tag===6)_.appendChild(w.stateNode);else if(w.tag!==4&&w.tag!==27&&w.child!==null){w.child.return=w,w=w.child;continue}if(w===s)break e;for(;w.sibling===null;){if(w.return===null||w.return===s)break e;w=w.return}w.sibling.return=w.return,w=w.sibling}s.stateNode=_;e:switch(It(_,v,f),v){case"button":case"input":case"select":case"textarea":f=!!f.autoFocus;break e;case"img":f=!0;break e;default:f=!1}f&&Ki(s)}}return it(s),om(s,s.type,o===null?null:o.memoizedProps,s.pendingProps,l),null;case 6:if(o&&s.stateNode!=null)o.memoizedProps!==f&&Ki(s);else{if(typeof f!="string"&&s.stateNode===null)throw Error(i(166));if(o=be.current,bs(s)){if(o=s.stateNode,l=s.memoizedProps,f=null,v=Rt,v!==null)switch(v.tag){case 27:case 5:f=v.memoizedProps}o[xt]=s,o=!!(o.nodeValue===l||f!==null&&f.suppressHydrationWarning===!0||Zb(o.nodeValue,l)),o||Ro(s,!0)}else o=tf(o).createTextNode(f),o[xt]=s,s.stateNode=o}return it(s),null;case 31:if(l=s.memoizedState,o===null||o.memoizedState!==null){if(f=bs(s),l!==null){if(o===null){if(!f)throw Error(i(318));if(o=s.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(i(557));o[xt]=s}else wr(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;it(s),o=!1}else l=pp(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=l),o=!0;if(!o)return s.flags&256?(fn(s),s):(fn(s),null);if((s.flags&128)!==0)throw Error(i(558))}return it(s),null;case 13:if(f=s.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(v=bs(s),f!==null&&f.dehydrated!==null){if(o===null){if(!v)throw Error(i(318));if(v=s.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(i(317));v[xt]=s}else wr(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;it(s),v=!1}else v=pp(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=v),v=!0;if(!v)return s.flags&256?(fn(s),s):(fn(s),null)}return fn(s),(s.flags&128)!==0?(s.lanes=l,s):(l=f!==null,o=o!==null&&o.memoizedState!==null,l&&(f=s.child,v=null,f.alternate!==null&&f.alternate.memoizedState!==null&&f.alternate.memoizedState.cachePool!==null&&(v=f.alternate.memoizedState.cachePool.pool),_=null,f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(_=f.memoizedState.cachePool.pool),_!==v&&(f.flags|=2048)),l!==o&&l&&(s.child.flags|=8192),$c(s,s.updateQueue),it(s),null);case 4:return qe(),o===null&&Am(s.stateNode.containerInfo),it(s),null;case 10:return Vi(s.type),it(s),null;case 19:if(Y(ft),f=s.memoizedState,f===null)return it(s),null;if(v=(s.flags&128)!==0,_=f.rendering,_===null)if(v)hl(f,!1);else{if(at!==0||o!==null&&(o.flags&128)!==0)for(o=s.child;o!==null;){if(_=xc(o),_!==null){for(s.flags|=128,hl(f,!1),o=_.updateQueue,s.updateQueue=o,$c(s,o),s.subtreeFlags=0,o=l,l=s.child;l!==null;)I0(l,o),l=l.sibling;return se(ft,ft.current&1|2),Le&&Hi(s,f.treeForkCount),s.child}o=o.sibling}f.tail!==null&&At()>qc&&(s.flags|=128,v=!0,hl(f,!1),s.lanes=4194304)}else{if(!v)if(o=xc(_),o!==null){if(s.flags|=128,v=!0,o=o.updateQueue,s.updateQueue=o,$c(s,o),hl(f,!0),f.tail===null&&f.tailMode==="hidden"&&!_.alternate&&!Le)return it(s),null}else 2*At()-f.renderingStartTime>qc&&l!==536870912&&(s.flags|=128,v=!0,hl(f,!1),s.lanes=4194304);f.isBackwards?(_.sibling=s.child,s.child=_):(o=f.last,o!==null?o.sibling=_:s.child=_,f.last=_)}return f.tail!==null?(o=f.tail,f.rendering=o,f.tail=o.sibling,f.renderingStartTime=At(),o.sibling=null,l=ft.current,se(ft,v?l&1|2:l&1),Le&&Hi(s,f.treeForkCount),o):(it(s),null);case 22:case 23:return fn(s),xp(),f=s.memoizedState!==null,o!==null?o.memoizedState!==null!==f&&(s.flags|=8192):f&&(s.flags|=8192),f?(l&536870912)!==0&&(s.flags&128)===0&&(it(s),s.subtreeFlags&6&&(s.flags|=8192)):it(s),l=s.updateQueue,l!==null&&$c(s,l.retryQueue),l=null,o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(l=o.memoizedState.cachePool.pool),f=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(f=s.memoizedState.cachePool.pool),f!==l&&(s.flags|=2048),o!==null&&Y(Ar),null;case 24:return l=null,o!==null&&(l=o.memoizedState.cache),s.memoizedState.cache!==l&&(s.flags|=2048),Vi(ht),it(s),null;case 25:return null;case 30:return null}throw Error(i(156,s.tag))}function H1(o,s){switch(dp(s),s.tag){case 1:return o=s.flags,o&65536?(s.flags=o&-65537|128,s):null;case 3:return Vi(ht),qe(),o=s.flags,(o&65536)!==0&&(o&128)===0?(s.flags=o&-65537|128,s):null;case 26:case 27:case 5:return Cn(s),null;case 31:if(s.memoizedState!==null){if(fn(s),s.alternate===null)throw Error(i(340));wr()}return o=s.flags,o&65536?(s.flags=o&-65537|128,s):null;case 13:if(fn(s),o=s.memoizedState,o!==null&&o.dehydrated!==null){if(s.alternate===null)throw Error(i(340));wr()}return o=s.flags,o&65536?(s.flags=o&-65537|128,s):null;case 19:return Y(ft),null;case 4:return qe(),null;case 10:return Vi(s.type),null;case 22:case 23:return fn(s),xp(),o!==null&&Y(Ar),o=s.flags,o&65536?(s.flags=o&-65537|128,s):null;case 24:return Vi(ht),null;case 25:return null;default:return null}}function ob(o,s){switch(dp(s),s.tag){case 3:Vi(ht),qe();break;case 26:case 27:case 5:Cn(s);break;case 4:qe();break;case 31:s.memoizedState!==null&&fn(s);break;case 13:fn(s);break;case 19:Y(ft);break;case 10:Vi(s.type);break;case 22:case 23:fn(s),xp(),o!==null&&Y(Ar);break;case 24:Vi(ht)}}function pl(o,s){try{var l=s.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var v=f.next;l=v;do{if((l.tag&o)===o){f=void 0;var _=l.create,w=l.inst;f=_(),w.destroy=f}l=l.next}while(l!==v)}}catch(R){Ye(s,s.return,R)}}function ko(o,s,l){try{var f=s.updateQueue,v=f!==null?f.lastEffect:null;if(v!==null){var _=v.next;f=_;do{if((f.tag&o)===o){var w=f.inst,R=w.destroy;if(R!==void 0){w.destroy=void 0,v=s;var P=l,G=R;try{G()}catch(X){Ye(v,P,X)}}}f=f.next}while(f!==_)}}catch(X){Ye(s,s.return,X)}}function rb(o){var s=o.updateQueue;if(s!==null){var l=o.stateNode;try{j0(s,l)}catch(f){Ye(o,o.return,f)}}}function sb(o,s,l){l.props=Ir(o.type,o.memoizedProps),l.state=o.memoizedState;try{l.componentWillUnmount()}catch(f){Ye(o,s,f)}}function ml(o,s){try{var l=o.ref;if(l!==null){switch(o.tag){case 26:case 27:case 5:var f=o.stateNode;break;case 30:f=o.stateNode;break;default:f=o.stateNode}typeof l=="function"?o.refCleanup=l(f):l.current=f}}catch(v){Ye(o,s,v)}}function mi(o,s){var l=o.ref,f=o.refCleanup;if(l!==null)if(typeof f=="function")try{f()}catch(v){Ye(o,s,v)}finally{o.refCleanup=null,o=o.alternate,o!=null&&(o.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(v){Ye(o,s,v)}else l.current=null}function ab(o){var s=o.type,l=o.memoizedProps,f=o.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":l.autoFocus&&f.focus();break e;case"img":l.src?f.src=l.src:l.srcSet&&(f.srcset=l.srcSet)}}catch(v){Ye(o,o.return,v)}}function rm(o,s,l){try{var f=o.stateNode;uP(f,o.type,l,s),f[Kt]=s}catch(v){Ye(o,o.return,v)}}function lb(o){return o.tag===5||o.tag===3||o.tag===26||o.tag===27&&Go(o.type)||o.tag===4}function sm(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||lb(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.tag===27&&Go(o.type)||o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function am(o,s,l){var f=o.tag;if(f===5||f===6)o=o.stateNode,s?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(o,s):(s=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,s.appendChild(o),l=l._reactRootContainer,l!=null||s.onclick!==null||(s.onclick=Bi));else if(f!==4&&(f===27&&Go(o.type)&&(l=o.stateNode,s=null),o=o.child,o!==null))for(am(o,s,l),o=o.sibling;o!==null;)am(o,s,l),o=o.sibling}function Hc(o,s,l){var f=o.tag;if(f===5||f===6)o=o.stateNode,s?l.insertBefore(o,s):l.appendChild(o);else if(f!==4&&(f===27&&Go(o.type)&&(l=o.stateNode),o=o.child,o!==null))for(Hc(o,s,l),o=o.sibling;o!==null;)Hc(o,s,l),o=o.sibling}function ub(o){var s=o.stateNode,l=o.memoizedProps;try{for(var f=o.type,v=s.attributes;v.length;)s.removeAttributeNode(v[0]);It(s,f,l),s[xt]=o,s[Kt]=l}catch(_){Ye(o,o.return,_)}}var Yi=!1,gt=!1,lm=!1,cb=typeof WeakSet=="function"?WeakSet:Set,Et=null;function G1(o,s){if(o=o.containerInfo,Mm=uf,o=E0(o),tp(o)){if("selectionStart"in o)var l={start:o.selectionStart,end:o.selectionEnd};else e:{l=(l=o.ownerDocument)&&l.defaultView||window;var f=l.getSelection&&l.getSelection();if(f&&f.rangeCount!==0){l=f.anchorNode;var v=f.anchorOffset,_=f.focusNode;f=f.focusOffset;try{l.nodeType,_.nodeType}catch{l=null;break e}var w=0,R=-1,P=-1,G=0,X=0,te=o,z=null;t:for(;;){for(var K;te!==l||v!==0&&te.nodeType!==3||(R=w+v),te!==_||f!==0&&te.nodeType!==3||(P=w+f),te.nodeType===3&&(w+=te.nodeValue.length),(K=te.firstChild)!==null;)z=te,te=K;for(;;){if(te===o)break t;if(z===l&&++G===v&&(R=w),z===_&&++X===f&&(P=w),(K=te.nextSibling)!==null)break;te=z,z=te.parentNode}te=K}l=R===-1||P===-1?null:{start:R,end:P}}else l=null}l=l||{start:0,end:0}}else l=null;for(Nm={focusedElem:o,selectionRange:l},uf=!1,Et=s;Et!==null;)if(s=Et,o=s.child,(s.subtreeFlags&1028)!==0&&o!==null)o.return=s,Et=o;else for(;Et!==null;){switch(s=Et,_=s.alternate,o=s.flags,s.tag){case 0:if((o&4)!==0&&(o=s.updateQueue,o=o!==null?o.events:null,o!==null))for(l=0;l<o.length;l++)v=o[l],v.ref.impl=v.nextImpl;break;case 11:case 15:break;case 1:if((o&1024)!==0&&_!==null){o=void 0,l=s,v=_.memoizedProps,_=_.memoizedState,f=l.stateNode;try{var he=Ir(l.type,v);o=f.getSnapshotBeforeUpdate(he,_),f.__reactInternalSnapshotBeforeUpdate=o}catch(Ee){Ye(l,l.return,Ee)}}break;case 3:if((o&1024)!==0){if(o=s.stateNode.containerInfo,l=o.nodeType,l===9)Om(o);else if(l===1)switch(o.nodeName){case"HEAD":case"HTML":case"BODY":Om(o);break;default:o.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((o&1024)!==0)throw Error(i(163))}if(o=s.sibling,o!==null){o.return=s.return,Et=o;break}Et=s.return}}function fb(o,s,l){var f=l.flags;switch(l.tag){case 0:case 11:case 15:Xi(o,l),f&4&&pl(5,l);break;case 1:if(Xi(o,l),f&4)if(o=l.stateNode,s===null)try{o.componentDidMount()}catch(w){Ye(l,l.return,w)}else{var v=Ir(l.type,s.memoizedProps);s=s.memoizedState;try{o.componentDidUpdate(v,s,o.__reactInternalSnapshotBeforeUpdate)}catch(w){Ye(l,l.return,w)}}f&64&&rb(l),f&512&&ml(l,l.return);break;case 3:if(Xi(o,l),f&64&&(o=l.updateQueue,o!==null)){if(s=null,l.child!==null)switch(l.child.tag){case 27:case 5:s=l.child.stateNode;break;case 1:s=l.child.stateNode}try{j0(o,s)}catch(w){Ye(l,l.return,w)}}break;case 27:s===null&&f&4&&ub(l);case 26:case 5:Xi(o,l),s===null&&f&4&&ab(l),f&512&&ml(l,l.return);break;case 12:Xi(o,l);break;case 31:Xi(o,l),f&4&&pb(o,l);break;case 13:Xi(o,l),f&4&&mb(o,l),f&64&&(o=l.memoizedState,o!==null&&(o=o.dehydrated,o!==null&&(l=W1.bind(null,l),vP(o,l))));break;case 22:if(f=l.memoizedState!==null||Yi,!f){s=s!==null&&s.memoizedState!==null||gt,v=Yi;var _=gt;Yi=f,(gt=s)&&!_?Wi(o,l,(l.subtreeFlags&8772)!==0):Xi(o,l),Yi=v,gt=_}break;case 30:break;default:Xi(o,l)}}function db(o){var s=o.alternate;s!==null&&(o.alternate=null,db(s)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(s=o.stateNode,s!==null&&Bh(s)),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}var rt=null,jt=!1;function ji(o,s,l){for(l=l.child;l!==null;)hb(o,s,l),l=l.sibling}function hb(o,s,l){if(sn&&typeof sn.onCommitFiberUnmount=="function")try{sn.onCommitFiberUnmount(Fa,l)}catch{}switch(l.tag){case 26:gt||mi(l,s),ji(o,s,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:gt||mi(l,s);var f=rt,v=jt;Go(l.type)&&(rt=l.stateNode,jt=!1),ji(o,s,l),Cl(l.stateNode),rt=f,jt=v;break;case 5:gt||mi(l,s);case 6:if(f=rt,v=jt,rt=null,ji(o,s,l),rt=f,jt=v,rt!==null)if(jt)try{(rt.nodeType===9?rt.body:rt.nodeName==="HTML"?rt.ownerDocument.body:rt).removeChild(l.stateNode)}catch(_){Ye(l,s,_)}else try{rt.removeChild(l.stateNode)}catch(_){Ye(l,s,_)}break;case 18:rt!==null&&(jt?(o=rt,rE(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,l.stateNode),Gs(o)):rE(rt,l.stateNode));break;case 4:f=rt,v=jt,rt=l.stateNode.containerInfo,jt=!0,ji(o,s,l),rt=f,jt=v;break;case 0:case 11:case 14:case 15:ko(2,l,s),gt||ko(4,l,s),ji(o,s,l);break;case 1:gt||(mi(l,s),f=l.stateNode,typeof f.componentWillUnmount=="function"&&sb(l,s,f)),ji(o,s,l);break;case 21:ji(o,s,l);break;case 22:gt=(f=gt)||l.memoizedState!==null,ji(o,s,l),gt=f;break;default:ji(o,s,l)}}function pb(o,s){if(s.memoizedState===null&&(o=s.alternate,o!==null&&(o=o.memoizedState,o!==null))){o=o.dehydrated;try{Gs(o)}catch(l){Ye(s,s.return,l)}}}function mb(o,s){if(s.memoizedState===null&&(o=s.alternate,o!==null&&(o=o.memoizedState,o!==null&&(o=o.dehydrated,o!==null))))try{Gs(o)}catch(l){Ye(s,s.return,l)}}function V1(o){switch(o.tag){case 31:case 13:case 19:var s=o.stateNode;return s===null&&(s=o.stateNode=new cb),s;case 22:return o=o.stateNode,s=o._retryCache,s===null&&(s=o._retryCache=new cb),s;default:throw Error(i(435,o.tag))}}function Gc(o,s){var l=V1(o);s.forEach(function(f){if(!l.has(f)){l.add(f);var v=Q1.bind(null,o,f);f.then(v,v)}})}function Xt(o,s){var l=s.deletions;if(l!==null)for(var f=0;f<l.length;f++){var v=l[f],_=o,w=s,R=w;e:for(;R!==null;){switch(R.tag){case 27:if(Go(R.type)){rt=R.stateNode,jt=!1;break e}break;case 5:rt=R.stateNode,jt=!1;break e;case 3:case 4:rt=R.stateNode.containerInfo,jt=!0;break e}R=R.return}if(rt===null)throw Error(i(160));hb(_,w,v),rt=null,jt=!1,_=v.alternate,_!==null&&(_.return=null),v.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)gb(s,o),s=s.sibling}var Xn=null;function gb(o,s){var l=o.alternate,f=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:Xt(s,o),Wt(o),f&4&&(ko(3,o,o.return),pl(3,o),ko(5,o,o.return));break;case 1:Xt(s,o),Wt(o),f&512&&(gt||l===null||mi(l,l.return)),f&64&&Yi&&(o=o.updateQueue,o!==null&&(f=o.callbacks,f!==null&&(l=o.shared.hiddenCallbacks,o.shared.hiddenCallbacks=l===null?f:l.concat(f))));break;case 26:var v=Xn;if(Xt(s,o),Wt(o),f&512&&(gt||l===null||mi(l,l.return)),f&4){var _=l!==null?l.memoizedState:null;if(f=o.memoizedState,l===null)if(f===null)if(o.stateNode===null){e:{f=o.type,l=o.memoizedProps,v=v.ownerDocument||v;t:switch(f){case"title":_=v.getElementsByTagName("title")[0],(!_||_[Ga]||_[xt]||_.namespaceURI==="http://www.w3.org/2000/svg"||_.hasAttribute("itemprop"))&&(_=v.createElement(f),v.head.insertBefore(_,v.querySelector("head > title"))),It(_,f,l),_[xt]=o,bt(_),f=_;break e;case"link":var w=gE("link","href",v).get(f+(l.href||""));if(w){for(var R=0;R<w.length;R++)if(_=w[R],_.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&_.getAttribute("rel")===(l.rel==null?null:l.rel)&&_.getAttribute("title")===(l.title==null?null:l.title)&&_.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){w.splice(R,1);break t}}_=v.createElement(f),It(_,f,l),v.head.appendChild(_);break;case"meta":if(w=gE("meta","content",v).get(f+(l.content||""))){for(R=0;R<w.length;R++)if(_=w[R],_.getAttribute("content")===(l.content==null?null:""+l.content)&&_.getAttribute("name")===(l.name==null?null:l.name)&&_.getAttribute("property")===(l.property==null?null:l.property)&&_.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&_.getAttribute("charset")===(l.charSet==null?null:l.charSet)){w.splice(R,1);break t}}_=v.createElement(f),It(_,f,l),v.head.appendChild(_);break;default:throw Error(i(468,f))}_[xt]=o,bt(_),f=_}o.stateNode=f}else vE(v,o.type,o.stateNode);else o.stateNode=mE(v,f,o.memoizedProps);else _!==f?(_===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):_.count--,f===null?vE(v,o.type,o.stateNode):mE(v,f,o.memoizedProps)):f===null&&o.stateNode!==null&&rm(o,o.memoizedProps,l.memoizedProps)}break;case 27:Xt(s,o),Wt(o),f&512&&(gt||l===null||mi(l,l.return)),l!==null&&f&4&&rm(o,o.memoizedProps,l.memoizedProps);break;case 5:if(Xt(s,o),Wt(o),f&512&&(gt||l===null||mi(l,l.return)),o.flags&32){v=o.stateNode;try{fs(v,"")}catch(he){Ye(o,o.return,he)}}f&4&&o.stateNode!=null&&(v=o.memoizedProps,rm(o,v,l!==null?l.memoizedProps:v)),f&1024&&(lm=!0);break;case 6:if(Xt(s,o),Wt(o),f&4){if(o.stateNode===null)throw Error(i(162));f=o.memoizedProps,l=o.stateNode;try{l.nodeValue=f}catch(he){Ye(o,o.return,he)}}break;case 3:if(rf=null,v=Xn,Xn=nf(s.containerInfo),Xt(s,o),Xn=v,Wt(o),f&4&&l!==null&&l.memoizedState.isDehydrated)try{Gs(s.containerInfo)}catch(he){Ye(o,o.return,he)}lm&&(lm=!1,vb(o));break;case 4:f=Xn,Xn=nf(o.stateNode.containerInfo),Xt(s,o),Wt(o),Xn=f;break;case 12:Xt(s,o),Wt(o);break;case 31:Xt(s,o),Wt(o),f&4&&(f=o.updateQueue,f!==null&&(o.updateQueue=null,Gc(o,f)));break;case 13:Xt(s,o),Wt(o),o.child.flags&8192&&o.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(zc=At()),f&4&&(f=o.updateQueue,f!==null&&(o.updateQueue=null,Gc(o,f)));break;case 22:v=o.memoizedState!==null;var P=l!==null&&l.memoizedState!==null,G=Yi,X=gt;if(Yi=G||v,gt=X||P,Xt(s,o),gt=X,Yi=G,Wt(o),f&8192)e:for(s=o.stateNode,s._visibility=v?s._visibility&-2:s._visibility|1,v&&(l===null||P||Yi||gt||Dr(o)),l=null,s=o;;){if(s.tag===5||s.tag===26){if(l===null){P=l=s;try{if(_=P.stateNode,v)w=_.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none";else{R=P.stateNode;var te=P.memoizedProps.style,z=te!=null&&te.hasOwnProperty("display")?te.display:null;R.style.display=z==null||typeof z=="boolean"?"":(""+z).trim()}}catch(he){Ye(P,P.return,he)}}}else if(s.tag===6){if(l===null){P=s;try{P.stateNode.nodeValue=v?"":P.memoizedProps}catch(he){Ye(P,P.return,he)}}}else if(s.tag===18){if(l===null){P=s;try{var K=P.stateNode;v?sE(K,!0):sE(P.stateNode,!1)}catch(he){Ye(P,P.return,he)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===o)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===o)break e;for(;s.sibling===null;){if(s.return===null||s.return===o)break e;l===s&&(l=null),s=s.return}l===s&&(l=null),s.sibling.return=s.return,s=s.sibling}f&4&&(f=o.updateQueue,f!==null&&(l=f.retryQueue,l!==null&&(f.retryQueue=null,Gc(o,l))));break;case 19:Xt(s,o),Wt(o),f&4&&(f=o.updateQueue,f!==null&&(o.updateQueue=null,Gc(o,f)));break;case 30:break;case 21:break;default:Xt(s,o),Wt(o)}}function Wt(o){var s=o.flags;if(s&2){try{for(var l,f=o.return;f!==null;){if(lb(f)){l=f;break}f=f.return}if(l==null)throw Error(i(160));switch(l.tag){case 27:var v=l.stateNode,_=sm(o);Hc(o,_,v);break;case 5:var w=l.stateNode;l.flags&32&&(fs(w,""),l.flags&=-33);var R=sm(o);Hc(o,R,w);break;case 3:case 4:var P=l.stateNode.containerInfo,G=sm(o);am(o,G,P);break;default:throw Error(i(161))}}catch(X){Ye(o,o.return,X)}o.flags&=-3}s&4096&&(o.flags&=-4097)}function vb(o){if(o.subtreeFlags&1024)for(o=o.child;o!==null;){var s=o;vb(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),o=o.sibling}}function Xi(o,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)fb(o,s.alternate,s),s=s.sibling}function Dr(o){for(o=o.child;o!==null;){var s=o;switch(s.tag){case 0:case 11:case 14:case 15:ko(4,s,s.return),Dr(s);break;case 1:mi(s,s.return);var l=s.stateNode;typeof l.componentWillUnmount=="function"&&sb(s,s.return,l),Dr(s);break;case 27:Cl(s.stateNode);case 26:case 5:mi(s,s.return),Dr(s);break;case 22:s.memoizedState===null&&Dr(s);break;case 30:Dr(s);break;default:Dr(s)}o=o.sibling}}function Wi(o,s,l){for(l=l&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var f=s.alternate,v=o,_=s,w=_.flags;switch(_.tag){case 0:case 11:case 15:Wi(v,_,l),pl(4,_);break;case 1:if(Wi(v,_,l),f=_,v=f.stateNode,typeof v.componentDidMount=="function")try{v.componentDidMount()}catch(G){Ye(f,f.return,G)}if(f=_,v=f.updateQueue,v!==null){var R=f.stateNode;try{var P=v.shared.hiddenCallbacks;if(P!==null)for(v.shared.hiddenCallbacks=null,v=0;v<P.length;v++)Y0(P[v],R)}catch(G){Ye(f,f.return,G)}}l&&w&64&&rb(_),ml(_,_.return);break;case 27:ub(_);case 26:case 5:Wi(v,_,l),l&&f===null&&w&4&&ab(_),ml(_,_.return);break;case 12:Wi(v,_,l);break;case 31:Wi(v,_,l),l&&w&4&&pb(v,_);break;case 13:Wi(v,_,l),l&&w&4&&mb(v,_);break;case 22:_.memoizedState===null&&Wi(v,_,l),ml(_,_.return);break;case 30:break;default:Wi(v,_,l)}s=s.sibling}}function um(o,s){var l=null;o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(l=o.memoizedState.cachePool.pool),o=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(o=s.memoizedState.cachePool.pool),o!==l&&(o!=null&&o.refCount++,l!=null&&tl(l))}function cm(o,s){o=null,s.alternate!==null&&(o=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==o&&(s.refCount++,o!=null&&tl(o))}function Wn(o,s,l,f){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)yb(o,s,l,f),s=s.sibling}function yb(o,s,l,f){var v=s.flags;switch(s.tag){case 0:case 11:case 15:Wn(o,s,l,f),v&2048&&pl(9,s);break;case 1:Wn(o,s,l,f);break;case 3:Wn(o,s,l,f),v&2048&&(o=null,s.alternate!==null&&(o=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==o&&(s.refCount++,o!=null&&tl(o)));break;case 12:if(v&2048){Wn(o,s,l,f),o=s.stateNode;try{var _=s.memoizedProps,w=_.id,R=_.onPostCommit;typeof R=="function"&&R(w,s.alternate===null?"mount":"update",o.passiveEffectDuration,-0)}catch(P){Ye(s,s.return,P)}}else Wn(o,s,l,f);break;case 31:Wn(o,s,l,f);break;case 13:Wn(o,s,l,f);break;case 23:break;case 22:_=s.stateNode,w=s.alternate,s.memoizedState!==null?_._visibility&2?Wn(o,s,l,f):gl(o,s):_._visibility&2?Wn(o,s,l,f):(_._visibility|=2,Is(o,s,l,f,(s.subtreeFlags&10256)!==0||!1)),v&2048&&um(w,s);break;case 24:Wn(o,s,l,f),v&2048&&cm(s.alternate,s);break;default:Wn(o,s,l,f)}}function Is(o,s,l,f,v){for(v=v&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var _=o,w=s,R=l,P=f,G=w.flags;switch(w.tag){case 0:case 11:case 15:Is(_,w,R,P,v),pl(8,w);break;case 23:break;case 22:var X=w.stateNode;w.memoizedState!==null?X._visibility&2?Is(_,w,R,P,v):gl(_,w):(X._visibility|=2,Is(_,w,R,P,v)),v&&G&2048&&um(w.alternate,w);break;case 24:Is(_,w,R,P,v),v&&G&2048&&cm(w.alternate,w);break;default:Is(_,w,R,P,v)}s=s.sibling}}function gl(o,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var l=o,f=s,v=f.flags;switch(f.tag){case 22:gl(l,f),v&2048&&um(f.alternate,f);break;case 24:gl(l,f),v&2048&&cm(f.alternate,f);break;default:gl(l,f)}s=s.sibling}}var vl=8192;function Ds(o,s,l){if(o.subtreeFlags&vl)for(o=o.child;o!==null;)_b(o,s,l),o=o.sibling}function _b(o,s,l){switch(o.tag){case 26:Ds(o,s,l),o.flags&vl&&o.memoizedState!==null&&MP(l,Xn,o.memoizedState,o.memoizedProps);break;case 5:Ds(o,s,l);break;case 3:case 4:var f=Xn;Xn=nf(o.stateNode.containerInfo),Ds(o,s,l),Xn=f;break;case 22:o.memoizedState===null&&(f=o.alternate,f!==null&&f.memoizedState!==null?(f=vl,vl=16777216,Ds(o,s,l),vl=f):Ds(o,s,l));break;default:Ds(o,s,l)}}function Sb(o){var s=o.alternate;if(s!==null&&(o=s.child,o!==null)){s.child=null;do s=o.sibling,o.sibling=null,o=s;while(o!==null)}}function yl(o){var s=o.deletions;if((o.flags&16)!==0){if(s!==null)for(var l=0;l<s.length;l++){var f=s[l];Et=f,Eb(f,o)}Sb(o)}if(o.subtreeFlags&10256)for(o=o.child;o!==null;)bb(o),o=o.sibling}function bb(o){switch(o.tag){case 0:case 11:case 15:yl(o),o.flags&2048&&ko(9,o,o.return);break;case 3:yl(o);break;case 12:yl(o);break;case 22:var s=o.stateNode;o.memoizedState!==null&&s._visibility&2&&(o.return===null||o.return.tag!==13)?(s._visibility&=-3,Vc(o)):yl(o);break;default:yl(o)}}function Vc(o){var s=o.deletions;if((o.flags&16)!==0){if(s!==null)for(var l=0;l<s.length;l++){var f=s[l];Et=f,Eb(f,o)}Sb(o)}for(o=o.child;o!==null;){switch(s=o,s.tag){case 0:case 11:case 15:ko(8,s,s.return),Vc(s);break;case 22:l=s.stateNode,l._visibility&2&&(l._visibility&=-3,Vc(s));break;default:Vc(s)}o=o.sibling}}function Eb(o,s){for(;Et!==null;){var l=Et;switch(l.tag){case 0:case 11:case 15:ko(8,l,s);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var f=l.memoizedState.cachePool.pool;f!=null&&f.refCount++}break;case 24:tl(l.memoizedState.cache)}if(f=l.child,f!==null)f.return=l,Et=f;else e:for(l=o;Et!==null;){f=Et;var v=f.sibling,_=f.return;if(db(f),f===l){Et=null;break e}if(v!==null){v.return=_,Et=v;break e}Et=_}}}var z1={getCacheForType:function(o){var s=Mt(ht),l=s.data.get(o);return l===void 0&&(l=o(),s.data.set(o,l)),l},cacheSignal:function(){return Mt(ht).controller.signal}},q1=typeof WeakMap=="function"?WeakMap:Map,Je=0,Ze=null,De=null,Pe=0,Ke=0,dn=null,Lo=!1,Os=!1,fm=!1,Qi=0,at=0,Uo=0,Or=0,dm=0,hn=0,Ps=0,_l=null,Qt=null,hm=!1,zc=0,wb=0,qc=1/0,Jc=null,Bo=null,yt=0,Fo=null,ks=null,Zi=0,pm=0,mm=null,Cb=null,Sl=0,gm=null;function pn(){return(Je&2)!==0&&Pe!==0?Pe&-Pe:F.T!==null?Em():$_()}function Tb(){if(hn===0)if((Pe&536870912)===0||Le){var o=ec;ec<<=1,(ec&3932160)===0&&(ec=262144),hn=o}else hn=536870912;return o=cn.current,o!==null&&(o.flags|=32),hn}function Zt(o,s,l){(o===Ze&&(Ke===2||Ke===9)||o.cancelPendingCommit!==null)&&(Ls(o,0),$o(o,Pe,hn,!1)),Ha(o,l),((Je&2)===0||o!==Ze)&&(o===Ze&&((Je&2)===0&&(Or|=l),at===4&&$o(o,Pe,hn,!1)),gi(o))}function Ab(o,s,l){if((Je&6)!==0)throw Error(i(327));var f=!l&&(s&127)===0&&(s&o.expiredLanes)===0||$a(o,s),v=f?Y1(o,s):ym(o,s,!0),_=f;do{if(v===0){Os&&!f&&$o(o,s,0,!1);break}else{if(l=o.current.alternate,_&&!J1(l)){v=ym(o,s,!1),_=!1;continue}if(v===2){if(_=s,o.errorRecoveryDisabledLanes&_)var w=0;else w=o.pendingLanes&-536870913,w=w!==0?w:w&536870912?536870912:0;if(w!==0){s=w;e:{var R=o;v=_l;var P=R.current.memoizedState.isDehydrated;if(P&&(Ls(R,w).flags|=256),w=ym(R,w,!1),w!==2){if(fm&&!P){R.errorRecoveryDisabledLanes|=_,Or|=_,v=4;break e}_=Qt,Qt=v,_!==null&&(Qt===null?Qt=_:Qt.push.apply(Qt,_))}v=w}if(_=!1,v!==2)continue}}if(v===1){Ls(o,0),$o(o,s,0,!0);break}e:{switch(f=o,_=v,_){case 0:case 1:throw Error(i(345));case 4:if((s&4194048)!==s)break;case 6:$o(f,s,hn,!Lo);break e;case 2:Qt=null;break;case 3:case 5:break;default:throw Error(i(329))}if((s&62914560)===s&&(v=zc+300-At(),10<v)){if($o(f,s,hn,!Lo),nc(f,0,!0)!==0)break e;Zi=s,f.timeoutHandle=iE(xb.bind(null,f,l,Qt,Jc,hm,s,hn,Or,Ps,Lo,_,"Throttled",-0,0),v);break e}xb(f,l,Qt,Jc,hm,s,hn,Or,Ps,Lo,_,null,-0,0)}}break}while(!0);gi(o)}function xb(o,s,l,f,v,_,w,R,P,G,X,te,z,K){if(o.timeoutHandle=-1,te=s.subtreeFlags,te&8192||(te&16785408)===16785408){te={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Bi},_b(s,_,te);var he=(_&62914560)===_?zc-At():(_&4194048)===_?wb-At():0;if(he=NP(te,he),he!==null){Zi=_,o.cancelPendingCommit=he(kb.bind(null,o,s,_,l,f,v,w,R,P,X,te,null,z,K)),$o(o,_,w,!G);return}}kb(o,s,_,l,f,v,w,R,P)}function J1(o){for(var s=o;;){var l=s.tag;if((l===0||l===11||l===15)&&s.flags&16384&&(l=s.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var f=0;f<l.length;f++){var v=l[f],_=v.getSnapshot;v=v.value;try{if(!ln(_(),v))return!1}catch{return!1}}if(l=s.child,s.subtreeFlags&16384&&l!==null)l.return=s,s=l;else{if(s===o)break;for(;s.sibling===null;){if(s.return===null||s.return===o)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function $o(o,s,l,f){s&=~dm,s&=~Or,o.suspendedLanes|=s,o.pingedLanes&=~s,f&&(o.warmLanes|=s),f=o.expirationTimes;for(var v=s;0<v;){var _=31-an(v),w=1<<_;f[_]=-1,v&=~w}l!==0&&U_(o,l,s)}function Kc(){return(Je&6)===0?(bl(0),!1):!0}function vm(){if(De!==null){if(Ke===0)var o=De.return;else o=De,Gi=Cr=null,Op(o),As=null,il=0,o=De;for(;o!==null;)ob(o.alternate,o),o=o.return;De=null}}function Ls(o,s){var l=o.timeoutHandle;l!==-1&&(o.timeoutHandle=-1,dP(l)),l=o.cancelPendingCommit,l!==null&&(o.cancelPendingCommit=null,l()),Zi=0,vm(),Ze=o,De=l=$i(o.current,null),Pe=s,Ke=0,dn=null,Lo=!1,Os=$a(o,s),fm=!1,Ps=hn=dm=Or=Uo=at=0,Qt=_l=null,hm=!1,(s&8)!==0&&(s|=s&32);var f=o.entangledLanes;if(f!==0)for(o=o.entanglements,f&=s;0<f;){var v=31-an(f),_=1<<v;s|=o[v],f&=~_}return Qi=s,pc(),l}function Rb(o,s){Re=null,F.H=fl,s===Ts||s===Ec?(s=z0(),Ke=3):s===bp?(s=z0(),Ke=4):Ke=s===jp?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,dn=s,De===null&&(at=1,Lc(o,Rn(s,o.current)))}function Mb(){var o=cn.current;return o===null?!0:(Pe&4194048)===Pe?Dn===null:(Pe&62914560)===Pe||(Pe&536870912)!==0?o===Dn:!1}function Nb(){var o=F.H;return F.H=fl,o===null?fl:o}function Ib(){var o=F.A;return F.A=z1,o}function Yc(){at=4,Lo||(Pe&4194048)!==Pe&&cn.current!==null||(Os=!0),(Uo&134217727)===0&&(Or&134217727)===0||Ze===null||$o(Ze,Pe,hn,!1)}function ym(o,s,l){var f=Je;Je|=2;var v=Nb(),_=Ib();(Ze!==o||Pe!==s)&&(Jc=null,Ls(o,s)),s=!1;var w=at;e:do try{if(Ke!==0&&De!==null){var R=De,P=dn;switch(Ke){case 8:vm(),w=6;break e;case 3:case 2:case 9:case 6:cn.current===null&&(s=!0);var G=Ke;if(Ke=0,dn=null,Us(o,R,P,G),l&&Os){w=0;break e}break;default:G=Ke,Ke=0,dn=null,Us(o,R,P,G)}}K1(),w=at;break}catch(X){Rb(o,X)}while(!0);return s&&o.shellSuspendCounter++,Gi=Cr=null,Je=f,F.H=v,F.A=_,De===null&&(Ze=null,Pe=0,pc()),w}function K1(){for(;De!==null;)Db(De)}function Y1(o,s){var l=Je;Je|=2;var f=Nb(),v=Ib();Ze!==o||Pe!==s?(Jc=null,qc=At()+500,Ls(o,s)):Os=$a(o,s);e:do try{if(Ke!==0&&De!==null){s=De;var _=dn;t:switch(Ke){case 1:Ke=0,dn=null,Us(o,s,_,1);break;case 2:case 9:if(G0(_)){Ke=0,dn=null,Ob(s);break}s=function(){Ke!==2&&Ke!==9||Ze!==o||(Ke=7),gi(o)},_.then(s,s);break e;case 3:Ke=7;break e;case 4:Ke=5;break e;case 7:G0(_)?(Ke=0,dn=null,Ob(s)):(Ke=0,dn=null,Us(o,s,_,7));break;case 5:var w=null;switch(De.tag){case 26:w=De.memoizedState;case 5:case 27:var R=De;if(w?yE(w):R.stateNode.complete){Ke=0,dn=null;var P=R.sibling;if(P!==null)De=P;else{var G=R.return;G!==null?(De=G,jc(G)):De=null}break t}}Ke=0,dn=null,Us(o,s,_,5);break;case 6:Ke=0,dn=null,Us(o,s,_,6);break;case 8:vm(),at=6;break e;default:throw Error(i(462))}}j1();break}catch(X){Rb(o,X)}while(!0);return Gi=Cr=null,F.H=f,F.A=v,Je=l,De!==null?0:(Ze=null,Pe=0,pc(),at)}function j1(){for(;De!==null&&!Xu();)Db(De)}function Db(o){var s=nb(o.alternate,o,Qi);o.memoizedProps=o.pendingProps,s===null?jc(o):De=s}function Ob(o){var s=o,l=s.alternate;switch(s.tag){case 15:case 0:s=XS(l,s,s.pendingProps,s.type,void 0,Pe);break;case 11:s=XS(l,s,s.pendingProps,s.type.render,s.ref,Pe);break;case 5:Op(s);default:ob(l,s),s=De=I0(s,Qi),s=nb(l,s,Qi)}o.memoizedProps=o.pendingProps,s===null?jc(o):De=s}function Us(o,s,l,f){Gi=Cr=null,Op(s),As=null,il=0;var v=s.return;try{if(U1(o,v,s,l,Pe)){at=1,Lc(o,Rn(l,o.current)),De=null;return}}catch(_){if(v!==null)throw De=v,_;at=1,Lc(o,Rn(l,o.current)),De=null;return}s.flags&32768?(Le||f===1?o=!0:Os||(Pe&536870912)!==0?o=!1:(Lo=o=!0,(f===2||f===9||f===3||f===6)&&(f=cn.current,f!==null&&f.tag===13&&(f.flags|=16384))),Pb(s,o)):jc(s)}function jc(o){var s=o;do{if((s.flags&32768)!==0){Pb(s,Lo);return}o=s.return;var l=$1(s.alternate,s,Qi);if(l!==null){De=l;return}if(s=s.sibling,s!==null){De=s;return}De=s=o}while(s!==null);at===0&&(at=5)}function Pb(o,s){do{var l=H1(o.alternate,o);if(l!==null){l.flags&=32767,De=l;return}if(l=o.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!s&&(o=o.sibling,o!==null)){De=o;return}De=o=l}while(o!==null);at=6,De=null}function kb(o,s,l,f,v,_,w,R,P){o.cancelPendingCommit=null;do Xc();while(yt!==0);if((Je&6)!==0)throw Error(i(327));if(s!==null){if(s===o.current)throw Error(i(177));if(_=s.lanes|s.childLanes,_|=sp,RO(o,l,_,w,R,P),o===Ze&&(De=Ze=null,Pe=0),ks=s,Fo=o,Zi=l,pm=_,mm=v,Cb=f,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(o.callbackNode=null,o.callbackPriority=0,Z1(mr,function(){return $b(),null})):(o.callbackNode=null,o.callbackPriority=0),f=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||f){f=F.T,F.T=null,v=Q.p,Q.p=2,w=Je,Je|=4;try{G1(o,s,l)}finally{Je=w,Q.p=v,F.T=f}}yt=1,Lb(),Ub(),Bb()}}function Lb(){if(yt===1){yt=0;var o=Fo,s=ks,l=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||l){l=F.T,F.T=null;var f=Q.p;Q.p=2;var v=Je;Je|=4;try{gb(s,o);var _=Nm,w=E0(o.containerInfo),R=_.focusedElem,P=_.selectionRange;if(w!==R&&R&&R.ownerDocument&&b0(R.ownerDocument.documentElement,R)){if(P!==null&&tp(R)){var G=P.start,X=P.end;if(X===void 0&&(X=G),"selectionStart"in R)R.selectionStart=G,R.selectionEnd=Math.min(X,R.value.length);else{var te=R.ownerDocument||document,z=te&&te.defaultView||window;if(z.getSelection){var K=z.getSelection(),he=R.textContent.length,Ee=Math.min(P.start,he),We=P.end===void 0?Ee:Math.min(P.end,he);!K.extend&&Ee>We&&(w=We,We=Ee,Ee=w);var $=S0(R,Ee),B=S0(R,We);if($&&B&&(K.rangeCount!==1||K.anchorNode!==$.node||K.anchorOffset!==$.offset||K.focusNode!==B.node||K.focusOffset!==B.offset)){var H=te.createRange();H.setStart($.node,$.offset),K.removeAllRanges(),Ee>We?(K.addRange(H),K.extend(B.node,B.offset)):(H.setEnd(B.node,B.offset),K.addRange(H))}}}}for(te=[],K=R;K=K.parentNode;)K.nodeType===1&&te.push({element:K,left:K.scrollLeft,top:K.scrollTop});for(typeof R.focus=="function"&&R.focus(),R=0;R<te.length;R++){var Z=te[R];Z.element.scrollLeft=Z.left,Z.element.scrollTop=Z.top}}uf=!!Mm,Nm=Mm=null}finally{Je=v,Q.p=f,F.T=l}}o.current=s,yt=2}}function Ub(){if(yt===2){yt=0;var o=Fo,s=ks,l=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||l){l=F.T,F.T=null;var f=Q.p;Q.p=2;var v=Je;Je|=4;try{fb(o,s.alternate,s)}finally{Je=v,Q.p=f,F.T=l}}yt=3}}function Bb(){if(yt===4||yt===3){yt=0,Wu();var o=Fo,s=ks,l=Zi,f=Cb;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?yt=5:(yt=0,ks=Fo=null,Fb(o,o.pendingLanes));var v=o.pendingLanes;if(v===0&&(Bo=null),Lh(l),s=s.stateNode,sn&&typeof sn.onCommitFiberRoot=="function")try{sn.onCommitFiberRoot(Fa,s,void 0,(s.current.flags&128)===128)}catch{}if(f!==null){s=F.T,v=Q.p,Q.p=2,F.T=null;try{for(var _=o.onRecoverableError,w=0;w<f.length;w++){var R=f[w];_(R.value,{componentStack:R.stack})}}finally{F.T=s,Q.p=v}}(Zi&3)!==0&&Xc(),gi(o),v=o.pendingLanes,(l&261930)!==0&&(v&42)!==0?o===gm?Sl++:(Sl=0,gm=o):Sl=0,bl(0)}}function Fb(o,s){(o.pooledCacheLanes&=s)===0&&(s=o.pooledCache,s!=null&&(o.pooledCache=null,tl(s)))}function Xc(){return Lb(),Ub(),Bb(),$b()}function $b(){if(yt!==5)return!1;var o=Fo,s=pm;pm=0;var l=Lh(Zi),f=F.T,v=Q.p;try{Q.p=32>l?32:l,F.T=null,l=mm,mm=null;var _=Fo,w=Zi;if(yt=0,ks=Fo=null,Zi=0,(Je&6)!==0)throw Error(i(331));var R=Je;if(Je|=4,bb(_.current),yb(_,_.current,w,l),Je=R,bl(0,!1),sn&&typeof sn.onPostCommitFiberRoot=="function")try{sn.onPostCommitFiberRoot(Fa,_)}catch{}return!0}finally{Q.p=v,F.T=f,Fb(o,s)}}function Hb(o,s,l){s=Rn(l,s),s=Yp(o.stateNode,s,2),o=Do(o,s,2),o!==null&&(Ha(o,2),gi(o))}function Ye(o,s,l){if(o.tag===3)Hb(o,o,l);else for(;s!==null;){if(s.tag===3){Hb(s,o,l);break}else if(s.tag===1){var f=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(Bo===null||!Bo.has(f))){o=Rn(l,o),l=GS(2),f=Do(s,l,2),f!==null&&(VS(l,f,s,o),Ha(f,2),gi(f));break}}s=s.return}}function _m(o,s,l){var f=o.pingCache;if(f===null){f=o.pingCache=new q1;var v=new Set;f.set(s,v)}else v=f.get(s),v===void 0&&(v=new Set,f.set(s,v));v.has(l)||(fm=!0,v.add(l),o=X1.bind(null,o,s,l),s.then(o,o))}function X1(o,s,l){var f=o.pingCache;f!==null&&f.delete(s),o.pingedLanes|=o.suspendedLanes&l,o.warmLanes&=~l,Ze===o&&(Pe&l)===l&&(at===4||at===3&&(Pe&62914560)===Pe&&300>At()-zc?(Je&2)===0&&Ls(o,0):dm|=l,Ps===Pe&&(Ps=0)),gi(o)}function Gb(o,s){s===0&&(s=L_()),o=br(o,s),o!==null&&(Ha(o,s),gi(o))}function W1(o){var s=o.memoizedState,l=0;s!==null&&(l=s.retryLane),Gb(o,l)}function Q1(o,s){var l=0;switch(o.tag){case 31:case 13:var f=o.stateNode,v=o.memoizedState;v!==null&&(l=v.retryLane);break;case 19:f=o.stateNode;break;case 22:f=o.stateNode._retryCache;break;default:throw Error(i(314))}f!==null&&f.delete(s),Gb(o,l)}function Z1(o,s){return Yn(o,s)}var Wc=null,Bs=null,Sm=!1,Qc=!1,bm=!1,Ho=0;function gi(o){o!==Bs&&o.next===null&&(Bs===null?Wc=Bs=o:Bs=Bs.next=o),Qc=!0,Sm||(Sm=!0,tP())}function bl(o,s){if(!bm&&Qc){bm=!0;do for(var l=!1,f=Wc;f!==null;){if(o!==0){var v=f.pendingLanes;if(v===0)var _=0;else{var w=f.suspendedLanes,R=f.pingedLanes;_=(1<<31-an(42|o)+1)-1,_&=v&~(w&~R),_=_&201326741?_&201326741|1:_?_|2:0}_!==0&&(l=!0,Jb(f,_))}else _=Pe,_=nc(f,f===Ze?_:0,f.cancelPendingCommit!==null||f.timeoutHandle!==-1),(_&3)===0||$a(f,_)||(l=!0,Jb(f,_));f=f.next}while(l);bm=!1}}function eP(){Vb()}function Vb(){Qc=Sm=!1;var o=0;Ho!==0&&fP()&&(o=Ho);for(var s=At(),l=null,f=Wc;f!==null;){var v=f.next,_=zb(f,s);_===0?(f.next=null,l===null?Wc=v:l.next=v,v===null&&(Bs=l)):(l=f,(o!==0||(_&3)!==0)&&(Qc=!0)),f=v}yt!==0&&yt!==5||bl(o),Ho!==0&&(Ho=0)}function zb(o,s){for(var l=o.suspendedLanes,f=o.pingedLanes,v=o.expirationTimes,_=o.pendingLanes&-62914561;0<_;){var w=31-an(_),R=1<<w,P=v[w];P===-1?((R&l)===0||(R&f)!==0)&&(v[w]=xO(R,s)):P<=s&&(o.expiredLanes|=R),_&=~R}if(s=Ze,l=Pe,l=nc(o,o===s?l:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),f=o.callbackNode,l===0||o===s&&(Ke===2||Ke===9)||o.cancelPendingCommit!==null)return f!==null&&f!==null&&Eo(f),o.callbackNode=null,o.callbackPriority=0;if((l&3)===0||$a(o,l)){if(s=l&-l,s===o.callbackPriority)return s;switch(f!==null&&Eo(f),Lh(l)){case 2:case 8:l=Ba;break;case 32:l=mr;break;case 268435456:l=k_;break;default:l=mr}return f=qb.bind(null,o),l=Yn(l,f),o.callbackPriority=s,o.callbackNode=l,s}return f!==null&&f!==null&&Eo(f),o.callbackPriority=2,o.callbackNode=null,2}function qb(o,s){if(yt!==0&&yt!==5)return o.callbackNode=null,o.callbackPriority=0,null;var l=o.callbackNode;if(Xc()&&o.callbackNode!==l)return null;var f=Pe;return f=nc(o,o===Ze?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),f===0?null:(Ab(o,f,s),zb(o,At()),o.callbackNode!=null&&o.callbackNode===l?qb.bind(null,o):null)}function Jb(o,s){if(Xc())return null;Ab(o,s,!0)}function tP(){hP(function(){(Je&6)!==0?Yn(Ua,eP):Vb()})}function Em(){if(Ho===0){var o=ws;o===0&&(o=Zu,Zu<<=1,(Zu&261888)===0&&(Zu=256)),Ho=o}return Ho}function Kb(o){return o==null||typeof o=="symbol"||typeof o=="boolean"?null:typeof o=="function"?o:sc(""+o)}function Yb(o,s){var l=s.ownerDocument.createElement("input");return l.name=s.name,l.value=s.value,o.id&&l.setAttribute("form",o.id),s.parentNode.insertBefore(l,s),o=new FormData(o),l.parentNode.removeChild(l),o}function nP(o,s,l,f,v){if(s==="submit"&&l&&l.stateNode===v){var _=Kb((v[Kt]||null).action),w=f.submitter;w&&(s=(s=w[Kt]||null)?Kb(s.formAction):w.getAttribute("formAction"),s!==null&&(_=s,w=null));var R=new cc("action","action",null,f,v);o.push({event:R,listeners:[{instance:null,listener:function(){if(f.defaultPrevented){if(Ho!==0){var P=w?Yb(v,w):new FormData(v);Gp(l,{pending:!0,data:P,method:v.method,action:_},null,P)}}else typeof _=="function"&&(R.preventDefault(),P=w?Yb(v,w):new FormData(v),Gp(l,{pending:!0,data:P,method:v.method,action:_},_,P))},currentTarget:v}]})}}for(var wm=0;wm<rp.length;wm++){var Cm=rp[wm],iP=Cm.toLowerCase(),oP=Cm[0].toUpperCase()+Cm.slice(1);jn(iP,"on"+oP)}jn(T0,"onAnimationEnd"),jn(A0,"onAnimationIteration"),jn(x0,"onAnimationStart"),jn("dblclick","onDoubleClick"),jn("focusin","onFocus"),jn("focusout","onBlur"),jn(S1,"onTransitionRun"),jn(b1,"onTransitionStart"),jn(E1,"onTransitionCancel"),jn(R0,"onTransitionEnd"),us("onMouseEnter",["mouseout","mouseover"]),us("onMouseLeave",["mouseout","mouseover"]),us("onPointerEnter",["pointerout","pointerover"]),us("onPointerLeave",["pointerout","pointerover"]),vr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),vr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),vr("onBeforeInput",["compositionend","keypress","textInput","paste"]),vr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),vr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),vr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var El="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),rP=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(El));function jb(o,s){s=(s&4)!==0;for(var l=0;l<o.length;l++){var f=o[l],v=f.event;f=f.listeners;e:{var _=void 0;if(s)for(var w=f.length-1;0<=w;w--){var R=f[w],P=R.instance,G=R.currentTarget;if(R=R.listener,P!==_&&v.isPropagationStopped())break e;_=R,v.currentTarget=G;try{_(v)}catch(X){hc(X)}v.currentTarget=null,_=P}else for(w=0;w<f.length;w++){if(R=f[w],P=R.instance,G=R.currentTarget,R=R.listener,P!==_&&v.isPropagationStopped())break e;_=R,v.currentTarget=G;try{_(v)}catch(X){hc(X)}v.currentTarget=null,_=P}}}}function Oe(o,s){var l=s[Uh];l===void 0&&(l=s[Uh]=new Set);var f=o+"__bubble";l.has(f)||(Xb(s,o,2,!1),l.add(f))}function Tm(o,s,l){var f=0;s&&(f|=4),Xb(l,o,f,s)}var Zc="_reactListening"+Math.random().toString(36).slice(2);function Am(o){if(!o[Zc]){o[Zc]=!0,V_.forEach(function(l){l!=="selectionchange"&&(rP.has(l)||Tm(l,!1,o),Tm(l,!0,o))});var s=o.nodeType===9?o:o.ownerDocument;s===null||s[Zc]||(s[Zc]=!0,Tm("selectionchange",!1,s))}}function Xb(o,s,l,f){switch(TE(s)){case 2:var v=OP;break;case 8:v=PP;break;default:v=Hm}l=v.bind(null,s,l,o),v=void 0,!Jh||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(v=!0),f?v!==void 0?o.addEventListener(s,l,{capture:!0,passive:v}):o.addEventListener(s,l,!0):v!==void 0?o.addEventListener(s,l,{passive:v}):o.addEventListener(s,l,!1)}function xm(o,s,l,f,v){var _=f;if((s&1)===0&&(s&2)===0&&f!==null)e:for(;;){if(f===null)return;var w=f.tag;if(w===3||w===4){var R=f.stateNode.containerInfo;if(R===v)break;if(w===4)for(w=f.return;w!==null;){var P=w.tag;if((P===3||P===4)&&w.stateNode.containerInfo===v)return;w=w.return}for(;R!==null;){if(w=ss(R),w===null)return;if(P=w.tag,P===5||P===6||P===26||P===27){f=_=w;continue e}R=R.parentNode}}f=f.return}t0(function(){var G=_,X=zh(l),te=[];e:{var z=M0.get(o);if(z!==void 0){var K=cc,he=o;switch(o){case"keypress":if(lc(l)===0)break e;case"keydown":case"keyup":K=QO;break;case"focusin":he="focus",K=Xh;break;case"focusout":he="blur",K=Xh;break;case"beforeblur":case"afterblur":K=Xh;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":K=o0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":K=$O;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":K=t1;break;case T0:case A0:case x0:K=VO;break;case R0:K=i1;break;case"scroll":case"scrollend":K=BO;break;case"wheel":K=r1;break;case"copy":case"cut":case"paste":K=qO;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":K=s0;break;case"toggle":case"beforetoggle":K=a1}var Ee=(s&4)!==0,We=!Ee&&(o==="scroll"||o==="scrollend"),$=Ee?z!==null?z+"Capture":null:z;Ee=[];for(var B=G,H;B!==null;){var Z=B;if(H=Z.stateNode,Z=Z.tag,Z!==5&&Z!==26&&Z!==27||H===null||$===null||(Z=za(B,$),Z!=null&&Ee.push(wl(B,Z,H))),We)break;B=B.return}0<Ee.length&&(z=new K(z,he,null,l,X),te.push({event:z,listeners:Ee}))}}if((s&7)===0){e:{if(z=o==="mouseover"||o==="pointerover",K=o==="mouseout"||o==="pointerout",z&&l!==Vh&&(he=l.relatedTarget||l.fromElement)&&(ss(he)||he[rs]))break e;if((K||z)&&(z=X.window===X?X:(z=X.ownerDocument)?z.defaultView||z.parentWindow:window,K?(he=l.relatedTarget||l.toElement,K=G,he=he?ss(he):null,he!==null&&(We=a(he),Ee=he.tag,he!==We||Ee!==5&&Ee!==27&&Ee!==6)&&(he=null)):(K=null,he=G),K!==he)){if(Ee=o0,Z="onMouseLeave",$="onMouseEnter",B="mouse",(o==="pointerout"||o==="pointerover")&&(Ee=s0,Z="onPointerLeave",$="onPointerEnter",B="pointer"),We=K==null?z:Va(K),H=he==null?z:Va(he),z=new Ee(Z,B+"leave",K,l,X),z.target=We,z.relatedTarget=H,Z=null,ss(X)===G&&(Ee=new Ee($,B+"enter",he,l,X),Ee.target=H,Ee.relatedTarget=We,Z=Ee),We=Z,K&&he)t:{for(Ee=sP,$=K,B=he,H=0,Z=$;Z;Z=Ee(Z))H++;Z=0;for(var _e=B;_e;_e=Ee(_e))Z++;for(;0<H-Z;)$=Ee($),H--;for(;0<Z-H;)B=Ee(B),Z--;for(;H--;){if($===B||B!==null&&$===B.alternate){Ee=$;break t}$=Ee($),B=Ee(B)}Ee=null}else Ee=null;K!==null&&Wb(te,z,K,Ee,!1),he!==null&&We!==null&&Wb(te,We,he,Ee,!0)}}e:{if(z=G?Va(G):window,K=z.nodeName&&z.nodeName.toLowerCase(),K==="select"||K==="input"&&z.type==="file")var $e=p0;else if(d0(z))if(m0)$e=v1;else{$e=m1;var ge=p1}else K=z.nodeName,!K||K.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?G&&Gh(G.elementType)&&($e=p0):$e=g1;if($e&&($e=$e(o,G))){h0(te,$e,l,X);break e}ge&&ge(o,z,G),o==="focusout"&&G&&z.type==="number"&&G.memoizedProps.value!=null&&Hh(z,"number",z.value)}switch(ge=G?Va(G):window,o){case"focusin":(d0(ge)||ge.contentEditable==="true")&&(ms=ge,np=G,Qa=null);break;case"focusout":Qa=np=ms=null;break;case"mousedown":ip=!0;break;case"contextmenu":case"mouseup":case"dragend":ip=!1,w0(te,l,X);break;case"selectionchange":if(_1)break;case"keydown":case"keyup":w0(te,l,X)}var Me;if(Qh)e:{switch(o){case"compositionstart":var ke="onCompositionStart";break e;case"compositionend":ke="onCompositionEnd";break e;case"compositionupdate":ke="onCompositionUpdate";break e}ke=void 0}else ps?c0(o,l)&&(ke="onCompositionEnd"):o==="keydown"&&l.keyCode===229&&(ke="onCompositionStart");ke&&(a0&&l.locale!=="ko"&&(ps||ke!=="onCompositionStart"?ke==="onCompositionEnd"&&ps&&(Me=n0()):(To=X,Kh="value"in To?To.value:To.textContent,ps=!0)),ge=ef(G,ke),0<ge.length&&(ke=new r0(ke,o,null,l,X),te.push({event:ke,listeners:ge}),Me?ke.data=Me:(Me=f0(l),Me!==null&&(ke.data=Me)))),(Me=u1?c1(o,l):f1(o,l))&&(ke=ef(G,"onBeforeInput"),0<ke.length&&(ge=new r0("onBeforeInput","beforeinput",null,l,X),te.push({event:ge,listeners:ke}),ge.data=Me)),nP(te,o,G,l,X)}jb(te,s)})}function wl(o,s,l){return{instance:o,listener:s,currentTarget:l}}function ef(o,s){for(var l=s+"Capture",f=[];o!==null;){var v=o,_=v.stateNode;if(v=v.tag,v!==5&&v!==26&&v!==27||_===null||(v=za(o,l),v!=null&&f.unshift(wl(o,v,_)),v=za(o,s),v!=null&&f.push(wl(o,v,_))),o.tag===3)return f;o=o.return}return[]}function sP(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5&&o.tag!==27);return o||null}function Wb(o,s,l,f,v){for(var _=s._reactName,w=[];l!==null&&l!==f;){var R=l,P=R.alternate,G=R.stateNode;if(R=R.tag,P!==null&&P===f)break;R!==5&&R!==26&&R!==27||G===null||(P=G,v?(G=za(l,_),G!=null&&w.unshift(wl(l,G,P))):v||(G=za(l,_),G!=null&&w.push(wl(l,G,P)))),l=l.return}w.length!==0&&o.push({event:s,listeners:w})}var aP=/\r\n?/g,lP=/\u0000|\uFFFD/g;function Qb(o){return(typeof o=="string"?o:""+o).replace(aP,`
`).replace(lP,"")}function Zb(o,s){return s=Qb(s),Qb(o)===s}function Xe(o,s,l,f,v,_){switch(l){case"children":typeof f=="string"?s==="body"||s==="textarea"&&f===""||fs(o,f):(typeof f=="number"||typeof f=="bigint")&&s!=="body"&&fs(o,""+f);break;case"className":oc(o,"class",f);break;case"tabIndex":oc(o,"tabindex",f);break;case"dir":case"role":case"viewBox":case"width":case"height":oc(o,l,f);break;case"style":Z_(o,f,_);break;case"data":if(s!=="object"){oc(o,"data",f);break}case"src":case"href":if(f===""&&(s!=="a"||l!=="href")){o.removeAttribute(l);break}if(f==null||typeof f=="function"||typeof f=="symbol"||typeof f=="boolean"){o.removeAttribute(l);break}f=sc(""+f),o.setAttribute(l,f);break;case"action":case"formAction":if(typeof f=="function"){o.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof _=="function"&&(l==="formAction"?(s!=="input"&&Xe(o,s,"name",v.name,v,null),Xe(o,s,"formEncType",v.formEncType,v,null),Xe(o,s,"formMethod",v.formMethod,v,null),Xe(o,s,"formTarget",v.formTarget,v,null)):(Xe(o,s,"encType",v.encType,v,null),Xe(o,s,"method",v.method,v,null),Xe(o,s,"target",v.target,v,null)));if(f==null||typeof f=="symbol"||typeof f=="boolean"){o.removeAttribute(l);break}f=sc(""+f),o.setAttribute(l,f);break;case"onClick":f!=null&&(o.onclick=Bi);break;case"onScroll":f!=null&&Oe("scroll",o);break;case"onScrollEnd":f!=null&&Oe("scrollend",o);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(i(61));if(l=f.__html,l!=null){if(v.children!=null)throw Error(i(60));o.innerHTML=l}}break;case"multiple":o.multiple=f&&typeof f!="function"&&typeof f!="symbol";break;case"muted":o.muted=f&&typeof f!="function"&&typeof f!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(f==null||typeof f=="function"||typeof f=="boolean"||typeof f=="symbol"){o.removeAttribute("xlink:href");break}l=sc(""+f),o.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":f!=null&&typeof f!="function"&&typeof f!="symbol"?o.setAttribute(l,""+f):o.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":f&&typeof f!="function"&&typeof f!="symbol"?o.setAttribute(l,""):o.removeAttribute(l);break;case"capture":case"download":f===!0?o.setAttribute(l,""):f!==!1&&f!=null&&typeof f!="function"&&typeof f!="symbol"?o.setAttribute(l,f):o.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":f!=null&&typeof f!="function"&&typeof f!="symbol"&&!isNaN(f)&&1<=f?o.setAttribute(l,f):o.removeAttribute(l);break;case"rowSpan":case"start":f==null||typeof f=="function"||typeof f=="symbol"||isNaN(f)?o.removeAttribute(l):o.setAttribute(l,f);break;case"popover":Oe("beforetoggle",o),Oe("toggle",o),ic(o,"popover",f);break;case"xlinkActuate":Ui(o,"http://www.w3.org/1999/xlink","xlink:actuate",f);break;case"xlinkArcrole":Ui(o,"http://www.w3.org/1999/xlink","xlink:arcrole",f);break;case"xlinkRole":Ui(o,"http://www.w3.org/1999/xlink","xlink:role",f);break;case"xlinkShow":Ui(o,"http://www.w3.org/1999/xlink","xlink:show",f);break;case"xlinkTitle":Ui(o,"http://www.w3.org/1999/xlink","xlink:title",f);break;case"xlinkType":Ui(o,"http://www.w3.org/1999/xlink","xlink:type",f);break;case"xmlBase":Ui(o,"http://www.w3.org/XML/1998/namespace","xml:base",f);break;case"xmlLang":Ui(o,"http://www.w3.org/XML/1998/namespace","xml:lang",f);break;case"xmlSpace":Ui(o,"http://www.w3.org/XML/1998/namespace","xml:space",f);break;case"is":ic(o,"is",f);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=LO.get(l)||l,ic(o,l,f))}}function Rm(o,s,l,f,v,_){switch(l){case"style":Z_(o,f,_);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(i(61));if(l=f.__html,l!=null){if(v.children!=null)throw Error(i(60));o.innerHTML=l}}break;case"children":typeof f=="string"?fs(o,f):(typeof f=="number"||typeof f=="bigint")&&fs(o,""+f);break;case"onScroll":f!=null&&Oe("scroll",o);break;case"onScrollEnd":f!=null&&Oe("scrollend",o);break;case"onClick":f!=null&&(o.onclick=Bi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!z_.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(v=l.endsWith("Capture"),s=l.slice(2,v?l.length-7:void 0),_=o[Kt]||null,_=_!=null?_[l]:null,typeof _=="function"&&o.removeEventListener(s,_,v),typeof f=="function")){typeof _!="function"&&_!==null&&(l in o?o[l]=null:o.hasAttribute(l)&&o.removeAttribute(l)),o.addEventListener(s,f,v);break e}l in o?o[l]=f:f===!0?o.setAttribute(l,""):ic(o,l,f)}}}function It(o,s,l){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Oe("error",o),Oe("load",o);var f=!1,v=!1,_;for(_ in l)if(l.hasOwnProperty(_)){var w=l[_];if(w!=null)switch(_){case"src":f=!0;break;case"srcSet":v=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:Xe(o,s,_,w,l,null)}}v&&Xe(o,s,"srcSet",l.srcSet,l,null),f&&Xe(o,s,"src",l.src,l,null);return;case"input":Oe("invalid",o);var R=_=w=v=null,P=null,G=null;for(f in l)if(l.hasOwnProperty(f)){var X=l[f];if(X!=null)switch(f){case"name":v=X;break;case"type":w=X;break;case"checked":P=X;break;case"defaultChecked":G=X;break;case"value":_=X;break;case"defaultValue":R=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(i(137,s));break;default:Xe(o,s,f,X,l,null)}}j_(o,_,R,P,G,w,v,!1);return;case"select":Oe("invalid",o),f=w=_=null;for(v in l)if(l.hasOwnProperty(v)&&(R=l[v],R!=null))switch(v){case"value":_=R;break;case"defaultValue":w=R;break;case"multiple":f=R;default:Xe(o,s,v,R,l,null)}s=_,l=w,o.multiple=!!f,s!=null?cs(o,!!f,s,!1):l!=null&&cs(o,!!f,l,!0);return;case"textarea":Oe("invalid",o),_=v=f=null;for(w in l)if(l.hasOwnProperty(w)&&(R=l[w],R!=null))switch(w){case"value":f=R;break;case"defaultValue":v=R;break;case"children":_=R;break;case"dangerouslySetInnerHTML":if(R!=null)throw Error(i(91));break;default:Xe(o,s,w,R,l,null)}W_(o,f,v,_);return;case"option":for(P in l)if(l.hasOwnProperty(P)&&(f=l[P],f!=null))switch(P){case"selected":o.selected=f&&typeof f!="function"&&typeof f!="symbol";break;default:Xe(o,s,P,f,l,null)}return;case"dialog":Oe("beforetoggle",o),Oe("toggle",o),Oe("cancel",o),Oe("close",o);break;case"iframe":case"object":Oe("load",o);break;case"video":case"audio":for(f=0;f<El.length;f++)Oe(El[f],o);break;case"image":Oe("error",o),Oe("load",o);break;case"details":Oe("toggle",o);break;case"embed":case"source":case"link":Oe("error",o),Oe("load",o);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(G in l)if(l.hasOwnProperty(G)&&(f=l[G],f!=null))switch(G){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:Xe(o,s,G,f,l,null)}return;default:if(Gh(s)){for(X in l)l.hasOwnProperty(X)&&(f=l[X],f!==void 0&&Rm(o,s,X,f,l,void 0));return}}for(R in l)l.hasOwnProperty(R)&&(f=l[R],f!=null&&Xe(o,s,R,f,l,null))}function uP(o,s,l,f){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var v=null,_=null,w=null,R=null,P=null,G=null,X=null;for(K in l){var te=l[K];if(l.hasOwnProperty(K)&&te!=null)switch(K){case"checked":break;case"value":break;case"defaultValue":P=te;default:f.hasOwnProperty(K)||Xe(o,s,K,null,f,te)}}for(var z in f){var K=f[z];if(te=l[z],f.hasOwnProperty(z)&&(K!=null||te!=null))switch(z){case"type":_=K;break;case"name":v=K;break;case"checked":G=K;break;case"defaultChecked":X=K;break;case"value":w=K;break;case"defaultValue":R=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(i(137,s));break;default:K!==te&&Xe(o,s,z,K,f,te)}}$h(o,w,R,P,G,X,_,v);return;case"select":K=w=R=z=null;for(_ in l)if(P=l[_],l.hasOwnProperty(_)&&P!=null)switch(_){case"value":break;case"multiple":K=P;default:f.hasOwnProperty(_)||Xe(o,s,_,null,f,P)}for(v in f)if(_=f[v],P=l[v],f.hasOwnProperty(v)&&(_!=null||P!=null))switch(v){case"value":z=_;break;case"defaultValue":R=_;break;case"multiple":w=_;default:_!==P&&Xe(o,s,v,_,f,P)}s=R,l=w,f=K,z!=null?cs(o,!!l,z,!1):!!f!=!!l&&(s!=null?cs(o,!!l,s,!0):cs(o,!!l,l?[]:"",!1));return;case"textarea":K=z=null;for(R in l)if(v=l[R],l.hasOwnProperty(R)&&v!=null&&!f.hasOwnProperty(R))switch(R){case"value":break;case"children":break;default:Xe(o,s,R,null,f,v)}for(w in f)if(v=f[w],_=l[w],f.hasOwnProperty(w)&&(v!=null||_!=null))switch(w){case"value":z=v;break;case"defaultValue":K=v;break;case"children":break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(i(91));break;default:v!==_&&Xe(o,s,w,v,f,_)}X_(o,z,K);return;case"option":for(var he in l)if(z=l[he],l.hasOwnProperty(he)&&z!=null&&!f.hasOwnProperty(he))switch(he){case"selected":o.selected=!1;break;default:Xe(o,s,he,null,f,z)}for(P in f)if(z=f[P],K=l[P],f.hasOwnProperty(P)&&z!==K&&(z!=null||K!=null))switch(P){case"selected":o.selected=z&&typeof z!="function"&&typeof z!="symbol";break;default:Xe(o,s,P,z,f,K)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ee in l)z=l[Ee],l.hasOwnProperty(Ee)&&z!=null&&!f.hasOwnProperty(Ee)&&Xe(o,s,Ee,null,f,z);for(G in f)if(z=f[G],K=l[G],f.hasOwnProperty(G)&&z!==K&&(z!=null||K!=null))switch(G){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(i(137,s));break;default:Xe(o,s,G,z,f,K)}return;default:if(Gh(s)){for(var We in l)z=l[We],l.hasOwnProperty(We)&&z!==void 0&&!f.hasOwnProperty(We)&&Rm(o,s,We,void 0,f,z);for(X in f)z=f[X],K=l[X],!f.hasOwnProperty(X)||z===K||z===void 0&&K===void 0||Rm(o,s,X,z,f,K);return}}for(var $ in l)z=l[$],l.hasOwnProperty($)&&z!=null&&!f.hasOwnProperty($)&&Xe(o,s,$,null,f,z);for(te in f)z=f[te],K=l[te],!f.hasOwnProperty(te)||z===K||z==null&&K==null||Xe(o,s,te,z,f,K)}function eE(o){switch(o){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function cP(){if(typeof performance.getEntriesByType=="function"){for(var o=0,s=0,l=performance.getEntriesByType("resource"),f=0;f<l.length;f++){var v=l[f],_=v.transferSize,w=v.initiatorType,R=v.duration;if(_&&R&&eE(w)){for(w=0,R=v.responseEnd,f+=1;f<l.length;f++){var P=l[f],G=P.startTime;if(G>R)break;var X=P.transferSize,te=P.initiatorType;X&&eE(te)&&(P=P.responseEnd,w+=X*(P<R?1:(R-G)/(P-G)))}if(--f,s+=8*(_+w)/(v.duration/1e3),o++,10<o)break}}if(0<o)return s/o/1e6}return navigator.connection&&(o=navigator.connection.downlink,typeof o=="number")?o:5}var Mm=null,Nm=null;function tf(o){return o.nodeType===9?o:o.ownerDocument}function tE(o){switch(o){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function nE(o,s){if(o===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return o===1&&s==="foreignObject"?0:o}function Im(o,s){return o==="textarea"||o==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Dm=null;function fP(){var o=window.event;return o&&o.type==="popstate"?o===Dm?!1:(Dm=o,!0):(Dm=null,!1)}var iE=typeof setTimeout=="function"?setTimeout:void 0,dP=typeof clearTimeout=="function"?clearTimeout:void 0,oE=typeof Promise=="function"?Promise:void 0,hP=typeof queueMicrotask=="function"?queueMicrotask:typeof oE<"u"?function(o){return oE.resolve(null).then(o).catch(pP)}:iE;function pP(o){setTimeout(function(){throw o})}function Go(o){return o==="head"}function rE(o,s){var l=s,f=0;do{var v=l.nextSibling;if(o.removeChild(l),v&&v.nodeType===8)if(l=v.data,l==="/$"||l==="/&"){if(f===0){o.removeChild(v),Gs(s);return}f--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")f++;else if(l==="html")Cl(o.ownerDocument.documentElement);else if(l==="head"){l=o.ownerDocument.head,Cl(l);for(var _=l.firstChild;_;){var w=_.nextSibling,R=_.nodeName;_[Ga]||R==="SCRIPT"||R==="STYLE"||R==="LINK"&&_.rel.toLowerCase()==="stylesheet"||l.removeChild(_),_=w}}else l==="body"&&Cl(o.ownerDocument.body);l=v}while(l);Gs(s)}function sE(o,s){var l=o;o=0;do{var f=l.nextSibling;if(l.nodeType===1?s?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(s?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),f&&f.nodeType===8)if(l=f.data,l==="/$"){if(o===0)break;o--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||o++;l=f}while(l)}function Om(o){var s=o.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var l=s;switch(s=s.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":Om(l),Bh(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}o.removeChild(l)}}function mP(o,s,l,f){for(;o.nodeType===1;){var v=l;if(o.nodeName.toLowerCase()!==s.toLowerCase()){if(!f&&(o.nodeName!=="INPUT"||o.type!=="hidden"))break}else if(f){if(!o[Ga])switch(s){case"meta":if(!o.hasAttribute("itemprop"))break;return o;case"link":if(_=o.getAttribute("rel"),_==="stylesheet"&&o.hasAttribute("data-precedence"))break;if(_!==v.rel||o.getAttribute("href")!==(v.href==null||v.href===""?null:v.href)||o.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin)||o.getAttribute("title")!==(v.title==null?null:v.title))break;return o;case"style":if(o.hasAttribute("data-precedence"))break;return o;case"script":if(_=o.getAttribute("src"),(_!==(v.src==null?null:v.src)||o.getAttribute("type")!==(v.type==null?null:v.type)||o.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin))&&_&&o.hasAttribute("async")&&!o.hasAttribute("itemprop"))break;return o;default:return o}}else if(s==="input"&&o.type==="hidden"){var _=v.name==null?null:""+v.name;if(v.type==="hidden"&&o.getAttribute("name")===_)return o}else return o;if(o=On(o.nextSibling),o===null)break}return null}function gP(o,s,l){if(s==="")return null;for(;o.nodeType!==3;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!l||(o=On(o.nextSibling),o===null))return null;return o}function aE(o,s){for(;o.nodeType!==8;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!s||(o=On(o.nextSibling),o===null))return null;return o}function Pm(o){return o.data==="$?"||o.data==="$~"}function km(o){return o.data==="$!"||o.data==="$?"&&o.ownerDocument.readyState!=="loading"}function vP(o,s){var l=o.ownerDocument;if(o.data==="$~")o._reactRetry=s;else if(o.data!=="$?"||l.readyState!=="loading")s();else{var f=function(){s(),l.removeEventListener("DOMContentLoaded",f)};l.addEventListener("DOMContentLoaded",f),o._reactRetry=f}}function On(o){for(;o!=null;o=o.nextSibling){var s=o.nodeType;if(s===1||s===3)break;if(s===8){if(s=o.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return o}var Lm=null;function lE(o){o=o.nextSibling;for(var s=0;o;){if(o.nodeType===8){var l=o.data;if(l==="/$"||l==="/&"){if(s===0)return On(o.nextSibling);s--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||s++}o=o.nextSibling}return null}function uE(o){o=o.previousSibling;for(var s=0;o;){if(o.nodeType===8){var l=o.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(s===0)return o;s--}else l!=="/$"&&l!=="/&"||s++}o=o.previousSibling}return null}function cE(o,s,l){switch(s=tf(l),o){case"html":if(o=s.documentElement,!o)throw Error(i(452));return o;case"head":if(o=s.head,!o)throw Error(i(453));return o;case"body":if(o=s.body,!o)throw Error(i(454));return o;default:throw Error(i(451))}}function Cl(o){for(var s=o.attributes;s.length;)o.removeAttributeNode(s[0]);Bh(o)}var Pn=new Map,fE=new Set;function nf(o){return typeof o.getRootNode=="function"?o.getRootNode():o.nodeType===9?o:o.ownerDocument}var eo=Q.d;Q.d={f:yP,r:_P,D:SP,C:bP,L:EP,m:wP,X:TP,S:CP,M:AP};function yP(){var o=eo.f(),s=Kc();return o||s}function _P(o){var s=as(o);s!==null&&s.tag===5&&s.type==="form"?RS(s):eo.r(o)}var Fs=typeof document>"u"?null:document;function dE(o,s,l){var f=Fs;if(f&&typeof s=="string"&&s){var v=An(s);v='link[rel="'+o+'"][href="'+v+'"]',typeof l=="string"&&(v+='[crossorigin="'+l+'"]'),fE.has(v)||(fE.add(v),o={rel:o,crossOrigin:l,href:s},f.querySelector(v)===null&&(s=f.createElement("link"),It(s,"link",o),bt(s),f.head.appendChild(s)))}}function SP(o){eo.D(o),dE("dns-prefetch",o,null)}function bP(o,s){eo.C(o,s),dE("preconnect",o,s)}function EP(o,s,l){eo.L(o,s,l);var f=Fs;if(f&&o&&s){var v='link[rel="preload"][as="'+An(s)+'"]';s==="image"&&l&&l.imageSrcSet?(v+='[imagesrcset="'+An(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(v+='[imagesizes="'+An(l.imageSizes)+'"]')):v+='[href="'+An(o)+'"]';var _=v;switch(s){case"style":_=$s(o);break;case"script":_=Hs(o)}Pn.has(_)||(o=y({rel:"preload",href:s==="image"&&l&&l.imageSrcSet?void 0:o,as:s},l),Pn.set(_,o),f.querySelector(v)!==null||s==="style"&&f.querySelector(Tl(_))||s==="script"&&f.querySelector(Al(_))||(s=f.createElement("link"),It(s,"link",o),bt(s),f.head.appendChild(s)))}}function wP(o,s){eo.m(o,s);var l=Fs;if(l&&o){var f=s&&typeof s.as=="string"?s.as:"script",v='link[rel="modulepreload"][as="'+An(f)+'"][href="'+An(o)+'"]',_=v;switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":_=Hs(o)}if(!Pn.has(_)&&(o=y({rel:"modulepreload",href:o},s),Pn.set(_,o),l.querySelector(v)===null)){switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(Al(_)))return}f=l.createElement("link"),It(f,"link",o),bt(f),l.head.appendChild(f)}}}function CP(o,s,l){eo.S(o,s,l);var f=Fs;if(f&&o){var v=ls(f).hoistableStyles,_=$s(o);s=s||"default";var w=v.get(_);if(!w){var R={loading:0,preload:null};if(w=f.querySelector(Tl(_)))R.loading=5;else{o=y({rel:"stylesheet",href:o,"data-precedence":s},l),(l=Pn.get(_))&&Um(o,l);var P=w=f.createElement("link");bt(P),It(P,"link",o),P._p=new Promise(function(G,X){P.onload=G,P.onerror=X}),P.addEventListener("load",function(){R.loading|=1}),P.addEventListener("error",function(){R.loading|=2}),R.loading|=4,of(w,s,f)}w={type:"stylesheet",instance:w,count:1,state:R},v.set(_,w)}}}function TP(o,s){eo.X(o,s);var l=Fs;if(l&&o){var f=ls(l).hoistableScripts,v=Hs(o),_=f.get(v);_||(_=l.querySelector(Al(v)),_||(o=y({src:o,async:!0},s),(s=Pn.get(v))&&Bm(o,s),_=l.createElement("script"),bt(_),It(_,"link",o),l.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},f.set(v,_))}}function AP(o,s){eo.M(o,s);var l=Fs;if(l&&o){var f=ls(l).hoistableScripts,v=Hs(o),_=f.get(v);_||(_=l.querySelector(Al(v)),_||(o=y({src:o,async:!0,type:"module"},s),(s=Pn.get(v))&&Bm(o,s),_=l.createElement("script"),bt(_),It(_,"link",o),l.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},f.set(v,_))}}function hE(o,s,l,f){var v=(v=be.current)?nf(v):null;if(!v)throw Error(i(446));switch(o){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(s=$s(l.href),l=ls(v).hoistableStyles,f=l.get(s),f||(f={type:"style",instance:null,count:0,state:null},l.set(s,f)),f):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){o=$s(l.href);var _=ls(v).hoistableStyles,w=_.get(o);if(w||(v=v.ownerDocument||v,w={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},_.set(o,w),(_=v.querySelector(Tl(o)))&&!_._p&&(w.instance=_,w.state.loading=5),Pn.has(o)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},Pn.set(o,l),_||xP(v,o,l,w.state))),s&&f===null)throw Error(i(528,""));return w}if(s&&f!==null)throw Error(i(529,""));return null;case"script":return s=l.async,l=l.src,typeof l=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Hs(l),l=ls(v).hoistableScripts,f=l.get(s),f||(f={type:"script",instance:null,count:0,state:null},l.set(s,f)),f):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,o))}}function $s(o){return'href="'+An(o)+'"'}function Tl(o){return'link[rel="stylesheet"]['+o+"]"}function pE(o){return y({},o,{"data-precedence":o.precedence,precedence:null})}function xP(o,s,l,f){o.querySelector('link[rel="preload"][as="style"]['+s+"]")?f.loading=1:(s=o.createElement("link"),f.preload=s,s.addEventListener("load",function(){return f.loading|=1}),s.addEventListener("error",function(){return f.loading|=2}),It(s,"link",l),bt(s),o.head.appendChild(s))}function Hs(o){return'[src="'+An(o)+'"]'}function Al(o){return"script[async]"+o}function mE(o,s,l){if(s.count++,s.instance===null)switch(s.type){case"style":var f=o.querySelector('style[data-href~="'+An(l.href)+'"]');if(f)return s.instance=f,bt(f),f;var v=y({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return f=(o.ownerDocument||o).createElement("style"),bt(f),It(f,"style",v),of(f,l.precedence,o),s.instance=f;case"stylesheet":v=$s(l.href);var _=o.querySelector(Tl(v));if(_)return s.state.loading|=4,s.instance=_,bt(_),_;f=pE(l),(v=Pn.get(v))&&Um(f,v),_=(o.ownerDocument||o).createElement("link"),bt(_);var w=_;return w._p=new Promise(function(R,P){w.onload=R,w.onerror=P}),It(_,"link",f),s.state.loading|=4,of(_,l.precedence,o),s.instance=_;case"script":return _=Hs(l.src),(v=o.querySelector(Al(_)))?(s.instance=v,bt(v),v):(f=l,(v=Pn.get(_))&&(f=y({},l),Bm(f,v)),o=o.ownerDocument||o,v=o.createElement("script"),bt(v),It(v,"link",f),o.head.appendChild(v),s.instance=v);case"void":return null;default:throw Error(i(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(f=s.instance,s.state.loading|=4,of(f,l.precedence,o));return s.instance}function of(o,s,l){for(var f=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),v=f.length?f[f.length-1]:null,_=v,w=0;w<f.length;w++){var R=f[w];if(R.dataset.precedence===s)_=R;else if(_!==v)break}_?_.parentNode.insertBefore(o,_.nextSibling):(s=l.nodeType===9?l.head:l,s.insertBefore(o,s.firstChild))}function Um(o,s){o.crossOrigin==null&&(o.crossOrigin=s.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=s.referrerPolicy),o.title==null&&(o.title=s.title)}function Bm(o,s){o.crossOrigin==null&&(o.crossOrigin=s.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=s.referrerPolicy),o.integrity==null&&(o.integrity=s.integrity)}var rf=null;function gE(o,s,l){if(rf===null){var f=new Map,v=rf=new Map;v.set(l,f)}else v=rf,f=v.get(l),f||(f=new Map,v.set(l,f));if(f.has(o))return f;for(f.set(o,null),l=l.getElementsByTagName(o),v=0;v<l.length;v++){var _=l[v];if(!(_[Ga]||_[xt]||o==="link"&&_.getAttribute("rel")==="stylesheet")&&_.namespaceURI!=="http://www.w3.org/2000/svg"){var w=_.getAttribute(s)||"";w=o+w;var R=f.get(w);R?R.push(_):f.set(w,[_])}}return f}function vE(o,s,l){o=o.ownerDocument||o,o.head.insertBefore(l,s==="title"?o.querySelector("head > title"):null)}function RP(o,s,l){if(l===1||s.itemProp!=null)return!1;switch(o){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return o=s.disabled,typeof s.precedence=="string"&&o==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function yE(o){return!(o.type==="stylesheet"&&(o.state.loading&3)===0)}function MP(o,s,l,f){if(l.type==="stylesheet"&&(typeof f.media!="string"||matchMedia(f.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var v=$s(f.href),_=s.querySelector(Tl(v));if(_){s=_._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(o.count++,o=sf.bind(o),s.then(o,o)),l.state.loading|=4,l.instance=_,bt(_);return}_=s.ownerDocument||s,f=pE(f),(v=Pn.get(v))&&Um(f,v),_=_.createElement("link"),bt(_);var w=_;w._p=new Promise(function(R,P){w.onload=R,w.onerror=P}),It(_,"link",f),l.instance=_}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(l,s),(s=l.state.preload)&&(l.state.loading&3)===0&&(o.count++,l=sf.bind(o),s.addEventListener("load",l),s.addEventListener("error",l))}}var Fm=0;function NP(o,s){return o.stylesheets&&o.count===0&&lf(o,o.stylesheets),0<o.count||0<o.imgCount?function(l){var f=setTimeout(function(){if(o.stylesheets&&lf(o,o.stylesheets),o.unsuspend){var _=o.unsuspend;o.unsuspend=null,_()}},6e4+s);0<o.imgBytes&&Fm===0&&(Fm=62500*cP());var v=setTimeout(function(){if(o.waitingForImages=!1,o.count===0&&(o.stylesheets&&lf(o,o.stylesheets),o.unsuspend)){var _=o.unsuspend;o.unsuspend=null,_()}},(o.imgBytes>Fm?50:800)+s);return o.unsuspend=l,function(){o.unsuspend=null,clearTimeout(f),clearTimeout(v)}}:null}function sf(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)lf(this,this.stylesheets);else if(this.unsuspend){var o=this.unsuspend;this.unsuspend=null,o()}}}var af=null;function lf(o,s){o.stylesheets=null,o.unsuspend!==null&&(o.count++,af=new Map,s.forEach(IP,o),af=null,sf.call(o))}function IP(o,s){if(!(s.state.loading&4)){var l=af.get(o);if(l)var f=l.get(null);else{l=new Map,af.set(o,l);for(var v=o.querySelectorAll("link[data-precedence],style[data-precedence]"),_=0;_<v.length;_++){var w=v[_];(w.nodeName==="LINK"||w.getAttribute("media")!=="not all")&&(l.set(w.dataset.precedence,w),f=w)}f&&l.set(null,f)}v=s.instance,w=v.getAttribute("data-precedence"),_=l.get(w)||f,_===f&&l.set(null,v),l.set(w,v),this.count++,f=sf.bind(this),v.addEventListener("load",f),v.addEventListener("error",f),_?_.parentNode.insertBefore(v,_.nextSibling):(o=o.nodeType===9?o.head:o,o.insertBefore(v,o.firstChild)),s.state.loading|=4}}var xl={$$typeof:N,Provider:null,Consumer:null,_currentValue:ee,_currentValue2:ee,_threadCount:0};function DP(o,s,l,f,v,_,w,R,P){this.tag=1,this.containerInfo=o,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ph(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ph(0),this.hiddenUpdates=Ph(null),this.identifierPrefix=f,this.onUncaughtError=v,this.onCaughtError=_,this.onRecoverableError=w,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=P,this.incompleteTransitions=new Map}function _E(o,s,l,f,v,_,w,R,P,G,X,te){return o=new DP(o,s,l,w,P,G,X,te,R),s=1,_===!0&&(s|=24),_=un(3,null,null,s),o.current=_,_.stateNode=o,s=yp(),s.refCount++,o.pooledCache=s,s.refCount++,_.memoizedState={element:f,isDehydrated:l,cache:s},Ep(_),o}function SE(o){return o?(o=ys,o):ys}function bE(o,s,l,f,v,_){v=SE(v),f.context===null?f.context=v:f.pendingContext=v,f=Io(s),f.payload={element:l},_=_===void 0?null:_,_!==null&&(f.callback=_),l=Do(o,f,s),l!==null&&(Zt(l,o,s),rl(l,o,s))}function EE(o,s){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var l=o.retryLane;o.retryLane=l!==0&&l<s?l:s}}function $m(o,s){EE(o,s),(o=o.alternate)&&EE(o,s)}function wE(o){if(o.tag===13||o.tag===31){var s=br(o,67108864);s!==null&&Zt(s,o,67108864),$m(o,67108864)}}function CE(o){if(o.tag===13||o.tag===31){var s=pn();s=kh(s);var l=br(o,s);l!==null&&Zt(l,o,s),$m(o,s)}}var uf=!0;function OP(o,s,l,f){var v=F.T;F.T=null;var _=Q.p;try{Q.p=2,Hm(o,s,l,f)}finally{Q.p=_,F.T=v}}function PP(o,s,l,f){var v=F.T;F.T=null;var _=Q.p;try{Q.p=8,Hm(o,s,l,f)}finally{Q.p=_,F.T=v}}function Hm(o,s,l,f){if(uf){var v=Gm(f);if(v===null)xm(o,s,f,cf,l),AE(o,f);else if(LP(v,o,s,l,f))f.stopPropagation();else if(AE(o,f),s&4&&-1<kP.indexOf(o)){for(;v!==null;){var _=as(v);if(_!==null)switch(_.tag){case 3:if(_=_.stateNode,_.current.memoizedState.isDehydrated){var w=gr(_.pendingLanes);if(w!==0){var R=_;for(R.pendingLanes|=2,R.entangledLanes|=2;w;){var P=1<<31-an(w);R.entanglements[1]|=P,w&=~P}gi(_),(Je&6)===0&&(qc=At()+500,bl(0))}}break;case 31:case 13:R=br(_,2),R!==null&&Zt(R,_,2),Kc(),$m(_,2)}if(_=Gm(f),_===null&&xm(o,s,f,cf,l),_===v)break;v=_}v!==null&&f.stopPropagation()}else xm(o,s,f,null,l)}}function Gm(o){return o=zh(o),Vm(o)}var cf=null;function Vm(o){if(cf=null,o=ss(o),o!==null){var s=a(o);if(s===null)o=null;else{var l=s.tag;if(l===13){if(o=u(s),o!==null)return o;o=null}else if(l===31){if(o=c(s),o!==null)return o;o=null}else if(l===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;o=null}else s!==o&&(o=null)}}return cf=o,null}function TE(o){switch(o){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Qu()){case Ua:return 2;case Ba:return 8;case mr:case bO:return 32;case k_:return 268435456;default:return 32}default:return 32}}var zm=!1,Vo=null,zo=null,qo=null,Rl=new Map,Ml=new Map,Jo=[],kP="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function AE(o,s){switch(o){case"focusin":case"focusout":Vo=null;break;case"dragenter":case"dragleave":zo=null;break;case"mouseover":case"mouseout":qo=null;break;case"pointerover":case"pointerout":Rl.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ml.delete(s.pointerId)}}function Nl(o,s,l,f,v,_){return o===null||o.nativeEvent!==_?(o={blockedOn:s,domEventName:l,eventSystemFlags:f,nativeEvent:_,targetContainers:[v]},s!==null&&(s=as(s),s!==null&&wE(s)),o):(o.eventSystemFlags|=f,s=o.targetContainers,v!==null&&s.indexOf(v)===-1&&s.push(v),o)}function LP(o,s,l,f,v){switch(s){case"focusin":return Vo=Nl(Vo,o,s,l,f,v),!0;case"dragenter":return zo=Nl(zo,o,s,l,f,v),!0;case"mouseover":return qo=Nl(qo,o,s,l,f,v),!0;case"pointerover":var _=v.pointerId;return Rl.set(_,Nl(Rl.get(_)||null,o,s,l,f,v)),!0;case"gotpointercapture":return _=v.pointerId,Ml.set(_,Nl(Ml.get(_)||null,o,s,l,f,v)),!0}return!1}function xE(o){var s=ss(o.target);if(s!==null){var l=a(s);if(l!==null){if(s=l.tag,s===13){if(s=u(l),s!==null){o.blockedOn=s,H_(o.priority,function(){CE(l)});return}}else if(s===31){if(s=c(l),s!==null){o.blockedOn=s,H_(o.priority,function(){CE(l)});return}}else if(s===3&&l.stateNode.current.memoizedState.isDehydrated){o.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}o.blockedOn=null}function ff(o){if(o.blockedOn!==null)return!1;for(var s=o.targetContainers;0<s.length;){var l=Gm(o.nativeEvent);if(l===null){l=o.nativeEvent;var f=new l.constructor(l.type,l);Vh=f,l.target.dispatchEvent(f),Vh=null}else return s=as(l),s!==null&&wE(s),o.blockedOn=l,!1;s.shift()}return!0}function RE(o,s,l){ff(o)&&l.delete(s)}function UP(){zm=!1,Vo!==null&&ff(Vo)&&(Vo=null),zo!==null&&ff(zo)&&(zo=null),qo!==null&&ff(qo)&&(qo=null),Rl.forEach(RE),Ml.forEach(RE)}function df(o,s){o.blockedOn===s&&(o.blockedOn=null,zm||(zm=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,UP)))}var hf=null;function ME(o){hf!==o&&(hf=o,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){hf===o&&(hf=null);for(var s=0;s<o.length;s+=3){var l=o[s],f=o[s+1],v=o[s+2];if(typeof f!="function"){if(Vm(f||l)===null)continue;break}var _=as(l);_!==null&&(o.splice(s,3),s-=3,Gp(_,{pending:!0,data:v,method:l.method,action:f},f,v))}}))}function Gs(o){function s(P){return df(P,o)}Vo!==null&&df(Vo,o),zo!==null&&df(zo,o),qo!==null&&df(qo,o),Rl.forEach(s),Ml.forEach(s);for(var l=0;l<Jo.length;l++){var f=Jo[l];f.blockedOn===o&&(f.blockedOn=null)}for(;0<Jo.length&&(l=Jo[0],l.blockedOn===null);)xE(l),l.blockedOn===null&&Jo.shift();if(l=(o.ownerDocument||o).$$reactFormReplay,l!=null)for(f=0;f<l.length;f+=3){var v=l[f],_=l[f+1],w=v[Kt]||null;if(typeof _=="function")w||ME(l);else if(w){var R=null;if(_&&_.hasAttribute("formAction")){if(v=_,w=_[Kt]||null)R=w.formAction;else if(Vm(v)!==null)continue}else R=w.action;typeof R=="function"?l[f+1]=R:(l.splice(f,3),f-=3),ME(l)}}}function NE(){function o(_){_.canIntercept&&_.info==="react-transition"&&_.intercept({handler:function(){return new Promise(function(w){return v=w})},focusReset:"manual",scroll:"manual"})}function s(){v!==null&&(v(),v=null),f||setTimeout(l,20)}function l(){if(!f&&!navigation.transition){var _=navigation.currentEntry;_&&_.url!=null&&navigation.navigate(_.url,{state:_.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var f=!1,v=null;return navigation.addEventListener("navigate",o),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(l,100),function(){f=!0,navigation.removeEventListener("navigate",o),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),v!==null&&(v(),v=null)}}}function qm(o){this._internalRoot=o}pf.prototype.render=qm.prototype.render=function(o){var s=this._internalRoot;if(s===null)throw Error(i(409));var l=s.current,f=pn();bE(l,f,o,s,null,null)},pf.prototype.unmount=qm.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var s=o.containerInfo;bE(o.current,2,null,o,null,null),Kc(),s[rs]=null}};function pf(o){this._internalRoot=o}pf.prototype.unstable_scheduleHydration=function(o){if(o){var s=$_();o={blockedOn:null,target:o,priority:s};for(var l=0;l<Jo.length&&s!==0&&s<Jo[l].priority;l++);Jo.splice(l,0,o),l===0&&xE(o)}};var IE=e.version;if(IE!=="19.2.1")throw Error(i(527,IE,"19.2.1"));Q.findDOMNode=function(o){var s=o._reactInternals;if(s===void 0)throw typeof o.render=="function"?Error(i(188)):(o=Object.keys(o).join(","),Error(i(268,o)));return o=d(s),o=o!==null?m(o):null,o=o===null?null:o.stateNode,o};var BP={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:F,reconcilerVersion:"19.2.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var mf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!mf.isDisabled&&mf.supportsFiber)try{Fa=mf.inject(BP),sn=mf}catch{}}return Dl.createRoot=function(o,s){if(!r(o))throw Error(i(299));var l=!1,f="",v=BS,_=FS,w=$S;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(f=s.identifierPrefix),s.onUncaughtError!==void 0&&(v=s.onUncaughtError),s.onCaughtError!==void 0&&(_=s.onCaughtError),s.onRecoverableError!==void 0&&(w=s.onRecoverableError)),s=_E(o,1,!1,null,null,l,f,null,v,_,w,NE),o[rs]=s.current,Am(o),new qm(s)},Dl.hydrateRoot=function(o,s,l){if(!r(o))throw Error(i(299));var f=!1,v="",_=BS,w=FS,R=$S,P=null;return l!=null&&(l.unstable_strictMode===!0&&(f=!0),l.identifierPrefix!==void 0&&(v=l.identifierPrefix),l.onUncaughtError!==void 0&&(_=l.onUncaughtError),l.onCaughtError!==void 0&&(w=l.onCaughtError),l.onRecoverableError!==void 0&&(R=l.onRecoverableError),l.formState!==void 0&&(P=l.formState)),s=_E(o,1,!0,s,l??null,f,v,P,_,w,R,NE),s.context=SE(null),l=s.current,f=pn(),f=kh(f),v=Io(f),v.callback=null,Do(l,v,f),l=f,s.current.lanes=l,Ha(s,l),gi(s),o[rs]=s.current,Am(o),new pf(s)},Dl.version="19.2.1",Dl}var HE;function YP(){if(HE)return Ym.exports;HE=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Ym.exports=KP(),Ym.exports}var jP=YP();function Be(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];throw new Error(typeof t=="number"?"[MobX] minified error nr: "+t+(n.length?" "+n.map(String).join(","):"")+". Find the full error at: https://github.com/mobxjs/mobx/blob/main/packages/mobx/src/errors.ts":"[MobX] "+t)}var XP={};function Kd(){return typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:XP}var HA=Object.assign,fd=Object.getOwnPropertyDescriptor,Ci=Object.defineProperty,bu=Object.prototype,jg=[];Object.freeze(jg);var GA={};Object.freeze(GA);var WP=typeof Proxy<"u",QP=Object.toString();function VA(){WP||Be("Proxy not available")}function zA(t){var e=!1;return function(){if(!e)return e=!0,t.apply(this,arguments)}}var oa=function(){};function si(t){return typeof t=="function"}function zr(t){var e=typeof t;switch(e){case"string":case"symbol":case"number":return!0}return!1}function Yd(t){return t!==null&&typeof t=="object"}function fo(t){if(!Yd(t))return!1;var e=Object.getPrototypeOf(t);if(e==null)return!0;var n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n.toString()===QP}function qA(t){var e=t?.constructor;return e?e.name==="GeneratorFunction"||e.displayName==="GeneratorFunction":!1}function Eu(t,e,n){Ci(t,e,{enumerable:!1,writable:!0,configurable:!0,value:n})}function JA(t,e,n){Ci(t,e,{enumerable:!1,writable:!1,configurable:!0,value:n})}function lr(t,e){var n="isMobX"+t;return e.prototype[n]=!0,function(i){return Yd(i)&&i[n]===!0}}function Ca(t){return t!=null&&Object.prototype.toString.call(t)==="[object Map]"}function ZP(t){var e=Object.getPrototypeOf(t),n=Object.getPrototypeOf(e),i=Object.getPrototypeOf(n);return i===null}function oo(t){return t!=null&&Object.prototype.toString.call(t)==="[object Set]"}var KA=typeof Object.getOwnPropertySymbols<"u";function ek(t){var e=Object.keys(t);if(!KA)return e;var n=Object.getOwnPropertySymbols(t);return n.length?[].concat(e,n.filter(function(i){return bu.propertyIsEnumerable.call(t,i)})):e}var ma=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:KA?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:Object.getOwnPropertyNames;function YA(t){return t===null?null:typeof t=="object"?""+t:t}function ao(t,e){return bu.hasOwnProperty.call(t,e)}var tk=Object.getOwnPropertyDescriptors||function(e){var n={};return ma(e).forEach(function(i){n[i]=fd(e,i)}),n};function _n(t,e){return!!(t&e)}function Sn(t,e,n){return n?t|=e:t&=~e,t}function GE(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,i=Array(e);n<e;n++)i[n]=t[n];return i}function nk(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,ok(i.key),i)}}function Ta(t,e,n){return e&&nk(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function ra(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n)return(n=n.call(t)).next.bind(n);if(Array.isArray(t)||(n=rk(t))||e){n&&(t=n);var i=0;return function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qr(){return qr=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},qr.apply(null,arguments)}function jA(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,Xg(t,e)}function Xg(t,e){return Xg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Xg(t,e)}function ik(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function ok(t){var e=ik(t,"string");return typeof e=="symbol"?e:e+""}function rk(t,e){if(t){if(typeof t=="string")return GE(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?GE(t,e):void 0}}var bi=Symbol("mobx-stored-annotations");function Ti(t){function e(n,i){if(Cu(i))return t.decorate_20223_(n,i);wu(n,i,t)}return Object.assign(e,t)}function wu(t,e,n){ao(t,bi)||Eu(t,bi,qr({},t[bi])),dk(n)||(t[bi][e]=n)}function sk(t){return ao(t,bi)||Eu(t,bi,qr({},t[bi])),t[bi]}function Cu(t){return typeof t=="object"&&typeof t.kind=="string"}var we=Symbol("mobx administration"),ur=(function(){function t(n){n===void 0&&(n="Atom"),this.name_=void 0,this.flags_=0,this.observers_=new Set,this.lastAccessedBy_=0,this.lowestObserverState_=Ge.NOT_TRACKING_,this.onBOL=void 0,this.onBUOL=void 0,this.name_=n}var e=t.prototype;return e.onBO=function(){this.onBOL&&this.onBOL.forEach(function(i){return i()})},e.onBUO=function(){this.onBUOL&&this.onBUOL.forEach(function(i){return i()})},e.reportObserved=function(){return dx(this)},e.reportChanged=function(){Bn(),hx(this),Fn()},e.toString=function(){return this.name_},Ta(t,[{key:"isBeingObserved",get:function(){return _n(this.flags_,t.isBeingObservedMask_)},set:function(i){this.flags_=Sn(this.flags_,t.isBeingObservedMask_,i)}},{key:"isPendingUnobservation",get:function(){return _n(this.flags_,t.isPendingUnobservationMask_)},set:function(i){this.flags_=Sn(this.flags_,t.isPendingUnobservationMask_,i)}},{key:"diffValue",get:function(){return _n(this.flags_,t.diffValueMask_)?1:0},set:function(i){this.flags_=Sn(this.flags_,t.diffValueMask_,i===1)}}])})();ur.isBeingObservedMask_=1;ur.isPendingUnobservationMask_=2;ur.diffValueMask_=4;var oy=lr("Atom",ur);function XA(t,e,n){e===void 0&&(e=oa),n===void 0&&(n=oa);var i=new ur(t);return e!==oa&&mL(i,e),n!==oa&&_x(i,n),i}function ak(t,e){return Ix(t,e)}function lk(t,e){return Object.is?Object.is(t,e):t===e?t!==0||1/t===1/e:t!==t&&e!==e}var dd={structural:ak,default:lk};function Jr(t,e,n){return uy(t)?t:Array.isArray(t)?Ct.array(t,{name:n}):fo(t)?Ct.object(t,void 0,{name:n}):Ca(t)?Ct.map(t,{name:n}):oo(t)?Ct.set(t,{name:n}):typeof t=="function"&&!ga(t)&&!ru(t)?qA(t)?va(t):ou(n,t):t}function uk(t,e,n){if(t==null||Nu(t)||Mu(t)||cr(t)||ei(t))return t;if(Array.isArray(t))return Ct.array(t,{name:n,deep:!1});if(fo(t))return Ct.object(t,void 0,{name:n,deep:!1});if(Ca(t))return Ct.map(t,{name:n,deep:!1});if(oo(t))return Ct.set(t,{name:n,deep:!1})}function jd(t){return t}function ck(t,e){return Ix(t,e)?e:t}var fk="override";function dk(t){return t.annotationType_===fk}function Tu(t,e){return{annotationType_:t,options_:e,make_:hk,extend_:pk,decorate_20223_:mk}}function hk(t,e,n,i){var r;if((r=this.options_)!=null&&r.bound)return this.extend_(t,e,n,!1)===null?0:1;if(i===t.target_)return this.extend_(t,e,n,!1)===null?0:2;if(ga(n.value))return 1;var a=WA(t,this,e,n,!1);return Ci(i,e,a),2}function pk(t,e,n,i){var r=WA(t,this,e,n);return t.defineProperty_(e,r,i)}function mk(t,e){var n=e.kind,i=e.name,r=e.addInitializer,a=this,u=function(d){var m,y,S,b;return Kr((m=(y=a.options_)==null?void 0:y.name)!=null?m:i.toString(),d,(S=(b=a.options_)==null?void 0:b.autoAction)!=null?S:!1)};if(n=="field")return function(h){var d,m=h;return ga(m)||(m=u(m)),(d=a.options_)!=null&&d.bound&&(m=m.bind(this),m.isMobxAction=!0),m};if(n=="method"){var c;return ga(t)||(t=u(t)),(c=this.options_)!=null&&c.bound&&r(function(){var h=this,d=h[i].bind(h);d.isMobxAction=!0,h[i]=d}),t}Be("Cannot apply '"+a.annotationType_+"' to '"+String(i)+"' (kind: "+n+"):"+(`
'`+a.annotationType_+"' can only be used on properties with a function value."))}function gk(t,e,n,i){e.annotationType_,i.value}function WA(t,e,n,i,r){var a,u,c,h,d,m,y;r===void 0&&(r=ue.safeDescriptors),gk(t,e,n,i);var S=i.value;if((a=e.options_)!=null&&a.bound){var b;S=S.bind((b=t.proxy_)!=null?b:t.target_)}return{value:Kr((u=(c=e.options_)==null?void 0:c.name)!=null?u:n.toString(),S,(h=(d=e.options_)==null?void 0:d.autoAction)!=null?h:!1,(m=e.options_)!=null&&m.bound?(y=t.proxy_)!=null?y:t.target_:void 0),configurable:r?t.isPlainObject_:!0,enumerable:!1,writable:!r}}function QA(t,e){return{annotationType_:t,options_:e,make_:vk,extend_:yk,decorate_20223_:_k}}function vk(t,e,n,i){var r;if(i===t.target_)return this.extend_(t,e,n,!1)===null?0:2;if((r=this.options_)!=null&&r.bound&&(!ao(t.target_,e)||!ru(t.target_[e]))&&this.extend_(t,e,n,!1)===null)return 0;if(ru(n.value))return 1;var a=ZA(t,this,e,n,!1,!1);return Ci(i,e,a),2}function yk(t,e,n,i){var r,a=ZA(t,this,e,n,(r=this.options_)==null?void 0:r.bound);return t.defineProperty_(e,a,i)}function _k(t,e){var n,i=e.name,r=e.addInitializer;return ru(t)||(t=va(t)),(n=this.options_)!=null&&n.bound&&r(function(){var a=this,u=a[i].bind(a);u.isMobXFlow=!0,a[i]=u}),t}function Sk(t,e,n,i){e.annotationType_,i.value}function ZA(t,e,n,i,r,a){a===void 0&&(a=ue.safeDescriptors),Sk(t,e,n,i);var u=i.value;if(ru(u)||(u=va(u)),r){var c;u=u.bind((c=t.proxy_)!=null?c:t.target_),u.isMobXFlow=!0}return{value:u,configurable:a?t.isPlainObject_:!0,enumerable:!1,writable:!a}}function ry(t,e){return{annotationType_:t,options_:e,make_:bk,extend_:Ek,decorate_20223_:wk}}function bk(t,e,n){return this.extend_(t,e,n,!1)===null?0:1}function Ek(t,e,n,i){return Ck(t,this,e,n),t.defineComputedProperty_(e,qr({},this.options_,{get:n.get,set:n.set}),i)}function wk(t,e){var n=this,i=e.name,r=e.addInitializer;return r(function(){var a=ts(this)[we],u=qr({},n.options_,{get:t,context:this});u.name||(u.name="ObservableObject."+i.toString()),a.values_.set(i,new ai(u))}),function(){return this[we].getObservablePropValue_(i)}}function Ck(t,e,n,i){e.annotationType_,i.get}function Xd(t,e){return{annotationType_:t,options_:e,make_:Tk,extend_:Ak,decorate_20223_:xk}}function Tk(t,e,n){return this.extend_(t,e,n,!1)===null?0:1}function Ak(t,e,n,i){var r,a;return Rk(t,this),t.defineObservableProperty_(e,n.value,(r=(a=this.options_)==null?void 0:a.enhancer)!=null?r:Jr,i)}function xk(t,e){var n=this,i=e.kind,r=e.name,a=new WeakSet;function u(c,h){var d,m,y=ts(c)[we],S=new nr(h,(d=(m=n.options_)==null?void 0:m.enhancer)!=null?d:Jr,"ObservableObject."+r.toString(),!1);y.values_.set(r,S),a.add(c)}if(i=="accessor")return{get:function(){return a.has(this)||u(this,t.get.call(this)),this[we].getObservablePropValue_(r)},set:function(h){return a.has(this)||u(this,h),this[we].setObservablePropValue_(r,h)},init:function(h){return a.has(this)||u(this,h),h}}}function Rk(t,e,n,i){e.annotationType_}var Mk="true",Nk=ex();function ex(t){return{annotationType_:Mk,options_:t,make_:Ik,extend_:Dk,decorate_20223_:Ok}}function Ik(t,e,n,i){var r,a;if(n.get)return Wd.make_(t,e,n,i);if(n.set){var u=ga(n.set)?n.set:Kr(e.toString(),n.set);return i===t.target_?t.defineProperty_(e,{configurable:ue.safeDescriptors?t.isPlainObject_:!0,set:u})===null?0:2:(Ci(i,e,{configurable:!0,set:u}),2)}if(i!==t.target_&&typeof n.value=="function"){var c;if(qA(n.value)){var h,d=(h=this.options_)!=null&&h.autoBind?va.bound:va;return d.make_(t,e,n,i)}var m=(c=this.options_)!=null&&c.autoBind?ou.bound:ou;return m.make_(t,e,n,i)}var y=((r=this.options_)==null?void 0:r.deep)===!1?Ct.ref:Ct;if(typeof n.value=="function"&&(a=this.options_)!=null&&a.autoBind){var S;n.value=n.value.bind((S=t.proxy_)!=null?S:t.target_)}return y.make_(t,e,n,i)}function Dk(t,e,n,i){var r,a;if(n.get)return Wd.extend_(t,e,n,i);if(n.set)return t.defineProperty_(e,{configurable:ue.safeDescriptors?t.isPlainObject_:!0,set:Kr(e.toString(),n.set)},i);if(typeof n.value=="function"&&(r=this.options_)!=null&&r.autoBind){var u;n.value=n.value.bind((u=t.proxy_)!=null?u:t.target_)}var c=((a=this.options_)==null?void 0:a.deep)===!1?Ct.ref:Ct;return c.extend_(t,e,n,i)}function Ok(t,e){Be("'"+this.annotationType_+"' cannot be used as a decorator")}var Pk="observable",kk="observable.ref",Lk="observable.shallow",Uk="observable.struct",tx={deep:!0,name:void 0,defaultDecorator:void 0,proxy:!0};Object.freeze(tx);function gf(t){return t||tx}var Wg=Xd(Pk),Bk=Xd(kk,{enhancer:jd}),Fk=Xd(Lk,{enhancer:uk}),$k=Xd(Uk,{enhancer:ck}),nx=Ti(Wg);function vf(t){return t.deep===!0?Jr:t.deep===!1?jd:Gk(t.defaultDecorator)}function Hk(t){var e;return t?(e=t.defaultDecorator)!=null?e:ex(t):void 0}function Gk(t){var e,n;return t&&(e=(n=t.options_)==null?void 0:n.enhancer)!=null?e:Jr}function ix(t,e,n){if(Cu(e))return Wg.decorate_20223_(t,e);if(zr(e)){wu(t,e,Wg);return}return uy(t)?t:fo(t)?Ct.object(t,e,n):Array.isArray(t)?Ct.array(t,e):Ca(t)?Ct.map(t,e):oo(t)?Ct.set(t,e):typeof t=="object"&&t!==null?t:Ct.box(t,e)}HA(ix,nx);var Vk={box:function(e,n){var i=gf(n);return new nr(e,vf(i),i.name,!0,i.equals)},array:function(e,n){var i=gf(n);return(ue.useProxies===!1||i.proxy===!1?$L:NL)(e,vf(i),i.name)},map:function(e,n){var i=gf(n);return new Tx(e,vf(i),i.name)},set:function(e,n){var i=gf(n);return new Ax(e,vf(i),i.name)},object:function(e,n,i){return fr(function(){return bx(ue.useProxies===!1||i?.proxy===!1?ts({},i):AL({},i),e,n)})},ref:Ti(Bk),shallow:Ti(Fk),deep:nx,struct:Ti($k)},Ct=HA(ix,Vk),ox="computed",zk="computed.struct",Qg=ry(ox),qk=ry(zk,{equals:dd.structural}),Wd=function(e,n){if(Cu(n))return Qg.decorate_20223_(e,n);if(zr(n))return wu(e,n,Qg);if(fo(e))return Ti(ry(ox,e));var i=fo(n)?n:{};return i.get=e,i.name||(i.name=e.name||""),new ai(i)};Object.assign(Wd,Qg);Wd.struct=Ti(qk);var VE,zE,hd=0,Jk=1,Kk=(VE=(zE=fd(function(){},"name"))==null?void 0:zE.configurable)!=null?VE:!1,qE={value:"action",configurable:!0,writable:!1,enumerable:!1};function Kr(t,e,n,i){n===void 0&&(n=!1);function r(){return rx(t,n,e,i||this,arguments)}return r.isMobxAction=!0,r.toString=function(){return e.toString()},Kk&&(qE.value=t,Ci(r,"name",qE)),r}function rx(t,e,n,i,r){var a=Yk(t,e);try{return n.apply(i,r)}catch(u){throw a.error_=u,u}finally{jk(a)}}function Yk(t,e,n,i){var r=!1,a=0,u=ue.trackingDerivation,c=!e||!u;Bn();var h=ue.allowStateChanges;c&&(es(),h=sy(!0));var d=ly(!0),m={runAsAction_:c,prevDerivation_:u,prevAllowStateChanges_:h,prevAllowStateReads_:d,notifySpy_:r,startTime_:a,actionId_:Jk++,parentActionId_:hd};return hd=m.actionId_,m}function jk(t){hd!==t.actionId_&&Be(30),hd=t.parentActionId_,t.error_!==void 0&&(ue.suppressReactionErrors=!0),ay(t.prevAllowStateChanges_),Xl(t.prevAllowStateReads_),Fn(),t.runAsAction_&&lo(t.prevDerivation_),ue.suppressReactionErrors=!1}function sy(t){var e=ue.allowStateChanges;return ue.allowStateChanges=t,e}function ay(t){ue.allowStateChanges=t}var nr=(function(t){function e(i,r,a,u,c){var h;return a===void 0&&(a="ObservableValue"),c===void 0&&(c=dd.default),h=t.call(this,a)||this,h.enhancer=void 0,h.name_=void 0,h.equals=void 0,h.hasUnreportedChange_=!1,h.interceptors_=void 0,h.changeListeners_=void 0,h.value_=void 0,h.dehancer=void 0,h.enhancer=r,h.name_=a,h.equals=c,h.value_=r(i,void 0,a),h}jA(e,t);var n=e.prototype;return n.dehanceValue=function(r){return this.dehancer!==void 0?this.dehancer(r):r},n.set=function(r){this.value_,r=this.prepareNewValue_(r),r!==ue.UNCHANGED&&this.setNewValue_(r)},n.prepareNewValue_=function(r){if(Ln(this)){var a=Un(this,{object:this,type:Ai,newValue:r});if(!a)return ue.UNCHANGED;r=a.newValue}return r=this.enhancer(r,this.value_,this.name_),this.equals(this.value_,r)?ue.UNCHANGED:r},n.setNewValue_=function(r){var a=this.value_;this.value_=r,this.reportChanged(),ni(this)&&ii(this,{type:Ai,object:this,newValue:r,oldValue:a})},n.get=function(){return this.reportObserved(),this.dehanceValue(this.value_)},n.intercept_=function(r){return xu(this,r)},n.observe_=function(r,a){return a&&r({observableKind:"value",debugObjectName:this.name_,object:this,type:Ai,newValue:this.value_,oldValue:void 0}),Ru(this,r)},n.raw=function(){return this.value_},n.toJSON=function(){return this.get()},n.toString=function(){return this.name_+"["+this.value_+"]"},n.valueOf=function(){return YA(this.get())},n[Symbol.toPrimitive]=function(){return this.valueOf()},e})(ur),Xk=lr("ObservableValue",nr),ai=(function(){function t(n){this.dependenciesState_=Ge.NOT_TRACKING_,this.observing_=[],this.newObserving_=null,this.observers_=new Set,this.runId_=0,this.lastAccessedBy_=0,this.lowestObserverState_=Ge.UP_TO_DATE_,this.unboundDepsCount_=0,this.value_=new md(null),this.name_=void 0,this.triggeredBy_=void 0,this.flags_=0,this.derivation=void 0,this.setter_=void 0,this.isTracing_=pd.NONE,this.scope_=void 0,this.equals_=void 0,this.requiresReaction_=void 0,this.keepAlive_=void 0,this.onBOL=void 0,this.onBUOL=void 0,n.get||Be(31),this.derivation=n.get,this.name_=n.name||"ComputedValue",n.set&&(this.setter_=Kr("ComputedValue-setter",n.set)),this.equals_=n.equals||(n.compareStructural||n.struct?dd.structural:dd.default),this.scope_=n.context,this.requiresReaction_=n.requiresReaction,this.keepAlive_=!!n.keepAlive}var e=t.prototype;return e.onBecomeStale_=function(){tL(this)},e.onBO=function(){this.onBOL&&this.onBOL.forEach(function(i){return i()})},e.onBUO=function(){this.onBUOL&&this.onBUOL.forEach(function(i){return i()})},e.get=function(){if(this.isComputing&&Be(32,this.name_,this.derivation),ue.inBatch===0&&this.observers_.size===0&&!this.keepAlive_)Zg(this)&&(this.warnAboutUntrackedRead_(),Bn(),this.value_=this.computeValue_(!1),Fn());else if(dx(this),Zg(this)){var i=ue.trackingContext;this.keepAlive_&&!i&&(ue.trackingContext=this),this.trackAndCompute()&&eL(this),ue.trackingContext=i}var r=this.value_;if(Jf(r))throw r.cause;return r},e.set=function(i){if(this.setter_){this.isRunningSetter&&Be(33,this.name_),this.isRunningSetter=!0;try{this.setter_.call(this.scope_,i)}finally{this.isRunningSetter=!1}}else Be(34,this.name_)},e.trackAndCompute=function(){var i=this.value_,r=this.dependenciesState_===Ge.NOT_TRACKING_,a=this.computeValue_(!0),u=r||Jf(i)||Jf(a)||!this.equals_(i,a);return u&&(this.value_=a),u},e.computeValue_=function(i){this.isComputing=!0;var r=sy(!1),a;if(i)a=sx(this,this.derivation,this.scope_);else if(ue.disableErrorBoundaries===!0)a=this.derivation.call(this.scope_);else try{a=this.derivation.call(this.scope_)}catch(u){a=new md(u)}return ay(r),this.isComputing=!1,a},e.suspend_=function(){this.keepAlive_||(ev(this),this.value_=void 0)},e.observe_=function(i,r){var a=this,u=!0,c=void 0;return cL(function(){var h=a.get();if(!u||r){var d=es();i({observableKind:"computed",debugObjectName:a.name_,type:Ai,object:a,newValue:h,oldValue:c}),lo(d)}u=!1,c=h})},e.warnAboutUntrackedRead_=function(){},e.toString=function(){return this.name_+"["+this.derivation.toString()+"]"},e.valueOf=function(){return YA(this.get())},e[Symbol.toPrimitive]=function(){return this.valueOf()},Ta(t,[{key:"isComputing",get:function(){return _n(this.flags_,t.isComputingMask_)},set:function(i){this.flags_=Sn(this.flags_,t.isComputingMask_,i)}},{key:"isRunningSetter",get:function(){return _n(this.flags_,t.isRunningSetterMask_)},set:function(i){this.flags_=Sn(this.flags_,t.isRunningSetterMask_,i)}},{key:"isBeingObserved",get:function(){return _n(this.flags_,t.isBeingObservedMask_)},set:function(i){this.flags_=Sn(this.flags_,t.isBeingObservedMask_,i)}},{key:"isPendingUnobservation",get:function(){return _n(this.flags_,t.isPendingUnobservationMask_)},set:function(i){this.flags_=Sn(this.flags_,t.isPendingUnobservationMask_,i)}},{key:"diffValue",get:function(){return _n(this.flags_,t.diffValueMask_)?1:0},set:function(i){this.flags_=Sn(this.flags_,t.diffValueMask_,i===1)}}])})();ai.isComputingMask_=1;ai.isRunningSetterMask_=2;ai.isBeingObservedMask_=4;ai.isPendingUnobservationMask_=8;ai.diffValueMask_=16;var Au=lr("ComputedValue",ai),Ge;(function(t){t[t.NOT_TRACKING_=-1]="NOT_TRACKING_",t[t.UP_TO_DATE_=0]="UP_TO_DATE_",t[t.POSSIBLY_STALE_=1]="POSSIBLY_STALE_",t[t.STALE_=2]="STALE_"})(Ge||(Ge={}));var pd;(function(t){t[t.NONE=0]="NONE",t[t.LOG=1]="LOG",t[t.BREAK=2]="BREAK"})(pd||(pd={}));var md=function(e){this.cause=void 0,this.cause=e};function Jf(t){return t instanceof md}function Zg(t){switch(t.dependenciesState_){case Ge.UP_TO_DATE_:return!1;case Ge.NOT_TRACKING_:case Ge.STALE_:return!0;case Ge.POSSIBLY_STALE_:{for(var e=ly(!0),n=es(),i=t.observing_,r=i.length,a=0;a<r;a++){var u=i[a];if(Au(u)){if(ue.disableErrorBoundaries)u.get();else try{u.get()}catch{return lo(n),Xl(e),!0}if(t.dependenciesState_===Ge.STALE_)return lo(n),Xl(e),!0}}return lx(t),lo(n),Xl(e),!1}}}function sx(t,e,n){var i=ly(!0);lx(t),t.newObserving_=new Array(t.runId_===0?100:t.observing_.length),t.unboundDepsCount_=0,t.runId_=++ue.runId;var r=ue.trackingDerivation;ue.trackingDerivation=t,ue.inBatch++;var a;if(ue.disableErrorBoundaries===!0)a=e.call(n);else try{a=e.call(n)}catch(u){a=new md(u)}return ue.inBatch--,ue.trackingDerivation=r,Wk(t),Xl(i),a}function Wk(t){for(var e=t.observing_,n=t.observing_=t.newObserving_,i=Ge.UP_TO_DATE_,r=0,a=t.unboundDepsCount_,u=0;u<a;u++){var c=n[u];c.diffValue===0&&(c.diffValue=1,r!==u&&(n[r]=c),r++),c.dependenciesState_>i&&(i=c.dependenciesState_)}for(n.length=r,t.newObserving_=null,a=e.length;a--;){var h=e[a];h.diffValue===0&&cx(h,t),h.diffValue=0}for(;r--;){var d=n[r];d.diffValue===1&&(d.diffValue=0,Zk(d,t))}i!==Ge.UP_TO_DATE_&&(t.dependenciesState_=i,t.onBecomeStale_())}function ev(t){var e=t.observing_;t.observing_=[];for(var n=e.length;n--;)cx(e[n],t);t.dependenciesState_=Ge.NOT_TRACKING_}function ax(t){var e=es();try{return t()}finally{lo(e)}}function es(){var t=ue.trackingDerivation;return ue.trackingDerivation=null,t}function lo(t){ue.trackingDerivation=t}function ly(t){var e=ue.allowStateReads;return ue.allowStateReads=t,e}function Xl(t){ue.allowStateReads=t}function lx(t){if(t.dependenciesState_!==Ge.UP_TO_DATE_){t.dependenciesState_=Ge.UP_TO_DATE_;for(var e=t.observing_,n=e.length;n--;)e[n].lowestObserverState_=Ge.UP_TO_DATE_}}var Kf=function(){this.version=6,this.UNCHANGED={},this.trackingDerivation=null,this.trackingContext=null,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!1,this.allowStateReads=!0,this.enforceActions=!0,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1,this.useProxies=!0,this.verifyProxies=!1,this.safeDescriptors=!0},Yf=!0,ux=!1,ue=(function(){var t=Kd();return t.__mobxInstanceCount>0&&!t.__mobxGlobals&&(Yf=!1),t.__mobxGlobals&&t.__mobxGlobals.version!==new Kf().version&&(Yf=!1),Yf?t.__mobxGlobals?(t.__mobxInstanceCount+=1,t.__mobxGlobals.UNCHANGED||(t.__mobxGlobals.UNCHANGED={}),t.__mobxGlobals):(t.__mobxInstanceCount=1,t.__mobxGlobals=new Kf):(setTimeout(function(){ux||Be(35)},1),new Kf)})();function Qk(){if((ue.pendingReactions.length||ue.inBatch||ue.isRunningReactions)&&Be(36),ux=!0,Yf){var t=Kd();--t.__mobxInstanceCount===0&&(t.__mobxGlobals=void 0),ue=new Kf}}function Zk(t,e){t.observers_.add(e),t.lowestObserverState_>e.dependenciesState_&&(t.lowestObserverState_=e.dependenciesState_)}function cx(t,e){t.observers_.delete(e),t.observers_.size===0&&fx(t)}function fx(t){t.isPendingUnobservation===!1&&(t.isPendingUnobservation=!0,ue.pendingUnobservations.push(t))}function Bn(){ue.inBatch++}function Fn(){if(--ue.inBatch===0){px();for(var t=ue.pendingUnobservations,e=0;e<t.length;e++){var n=t[e];n.isPendingUnobservation=!1,n.observers_.size===0&&(n.isBeingObserved&&(n.isBeingObserved=!1,n.onBUO()),n instanceof ai&&n.suspend_())}ue.pendingUnobservations=[]}}function dx(t){var e=ue.trackingDerivation;return e!==null?(e.runId_!==t.lastAccessedBy_&&(t.lastAccessedBy_=e.runId_,e.newObserving_[e.unboundDepsCount_++]=t,!t.isBeingObserved&&ue.trackingContext&&(t.isBeingObserved=!0,t.onBO())),t.isBeingObserved):(t.observers_.size===0&&ue.inBatch>0&&fx(t),!1)}function hx(t){t.lowestObserverState_!==Ge.STALE_&&(t.lowestObserverState_=Ge.STALE_,t.observers_.forEach(function(e){e.dependenciesState_===Ge.UP_TO_DATE_&&e.onBecomeStale_(),e.dependenciesState_=Ge.STALE_}))}function eL(t){t.lowestObserverState_!==Ge.STALE_&&(t.lowestObserverState_=Ge.STALE_,t.observers_.forEach(function(e){e.dependenciesState_===Ge.POSSIBLY_STALE_?e.dependenciesState_=Ge.STALE_:e.dependenciesState_===Ge.UP_TO_DATE_&&(t.lowestObserverState_=Ge.UP_TO_DATE_)}))}function tL(t){t.lowestObserverState_===Ge.UP_TO_DATE_&&(t.lowestObserverState_=Ge.POSSIBLY_STALE_,t.observers_.forEach(function(e){e.dependenciesState_===Ge.UP_TO_DATE_&&(e.dependenciesState_=Ge.POSSIBLY_STALE_,e.onBecomeStale_())}))}var ho=(function(){function t(n,i,r,a){n===void 0&&(n="Reaction"),this.name_=void 0,this.onInvalidate_=void 0,this.errorHandler_=void 0,this.requiresObservable_=void 0,this.observing_=[],this.newObserving_=[],this.dependenciesState_=Ge.NOT_TRACKING_,this.runId_=0,this.unboundDepsCount_=0,this.flags_=0,this.isTracing_=pd.NONE,this.name_=n,this.onInvalidate_=i,this.errorHandler_=r,this.requiresObservable_=a}var e=t.prototype;return e.onBecomeStale_=function(){this.schedule_()},e.schedule_=function(){this.isScheduled||(this.isScheduled=!0,ue.pendingReactions.push(this),px())},e.runReaction_=function(){if(!this.isDisposed){Bn(),this.isScheduled=!1;var i=ue.trackingContext;if(ue.trackingContext=this,Zg(this)){this.isTrackPending=!0;try{this.onInvalidate_()}catch(r){this.reportExceptionInDerivation_(r)}}ue.trackingContext=i,Fn()}},e.track=function(i){if(!this.isDisposed){Bn(),this.isRunning=!0;var r=ue.trackingContext;ue.trackingContext=this;var a=sx(this,i,void 0);ue.trackingContext=r,this.isRunning=!1,this.isTrackPending=!1,this.isDisposed&&ev(this),Jf(a)&&this.reportExceptionInDerivation_(a.cause),Fn()}},e.reportExceptionInDerivation_=function(i){var r=this;if(this.errorHandler_){this.errorHandler_(i,this);return}if(ue.disableErrorBoundaries)throw i;var a="[mobx] uncaught error in '"+this+"'";ue.suppressReactionErrors||console.error(a,i),ue.globalReactionErrorHandlers.forEach(function(u){return u(i,r)})},e.dispose=function(){this.isDisposed||(this.isDisposed=!0,this.isRunning||(Bn(),ev(this),Fn()))},e.getDisposer_=function(i){var r=this,a=function u(){r.dispose(),i==null||i.removeEventListener==null||i.removeEventListener("abort",u)};return i==null||i.addEventListener==null||i.addEventListener("abort",a),a[we]=this,"dispose"in Symbol&&typeof Symbol.dispose=="symbol"&&(a[Symbol.dispose]=a),a},e.toString=function(){return"Reaction["+this.name_+"]"},e.trace=function(i){},Ta(t,[{key:"isDisposed",get:function(){return _n(this.flags_,t.isDisposedMask_)},set:function(i){this.flags_=Sn(this.flags_,t.isDisposedMask_,i)}},{key:"isScheduled",get:function(){return _n(this.flags_,t.isScheduledMask_)},set:function(i){this.flags_=Sn(this.flags_,t.isScheduledMask_,i)}},{key:"isTrackPending",get:function(){return _n(this.flags_,t.isTrackPendingMask_)},set:function(i){this.flags_=Sn(this.flags_,t.isTrackPendingMask_,i)}},{key:"isRunning",get:function(){return _n(this.flags_,t.isRunningMask_)},set:function(i){this.flags_=Sn(this.flags_,t.isRunningMask_,i)}},{key:"diffValue",get:function(){return _n(this.flags_,t.diffValueMask_)?1:0},set:function(i){this.flags_=Sn(this.flags_,t.diffValueMask_,i===1)}}])})();ho.isDisposedMask_=1;ho.isScheduledMask_=2;ho.isTrackPendingMask_=4;ho.isRunningMask_=8;ho.diffValueMask_=16;var nL=100,tv=function(e){return e()};function px(){ue.inBatch>0||ue.isRunningReactions||tv(iL)}function iL(){ue.isRunningReactions=!0;for(var t=ue.pendingReactions,e=0;t.length>0;){++e===nL&&(console.error("[mobx] cycle in reaction: "+t[0]),t.splice(0));for(var n=t.splice(0),i=0,r=n.length;i<r;i++)n[i].runReaction_()}ue.isRunningReactions=!1}var gd=lr("Reaction",ho);function oL(t){var e=tv;tv=function(i){return t(function(){return e(i)})}}function Wl(){return!1}function rL(t){return console.warn("[mobx.spy] Is a no-op in production builds"),function(){}}var mx="action",sL="action.bound",gx="autoAction",aL="autoAction.bound",vx="<unnamed action>",nv=Tu(mx),lL=Tu(sL,{bound:!0}),iv=Tu(gx,{autoAction:!0}),uL=Tu(aL,{autoAction:!0,bound:!0});function yx(t){var e=function(i,r){if(si(i))return Kr(i.name||vx,i,t);if(si(r))return Kr(i,r,t);if(Cu(r))return(t?iv:nv).decorate_20223_(i,r);if(zr(r))return wu(i,r,t?iv:nv);if(zr(i))return Ti(Tu(t?gx:mx,{name:i,autoAction:t}))};return e}var sa=yx(!1);Object.assign(sa,nv);var ou=yx(!0);Object.assign(ou,iv);sa.bound=Ti(lL);ou.bound=Ti(uL);function Ae(t){return rx(t.name||vx,!1,t,this,void 0)}function ga(t){return si(t)&&t.isMobxAction===!0}function cL(t,e){var n,i,r,a;e===void 0&&(e=GA);var u=(n=(i=e)==null?void 0:i.name)!=null?n:"Autorun",c=!e.scheduler&&!e.delay,h;if(c)h=new ho(u,function(){this.track(y)},e.onError,e.requiresObservable);else{var d=dL(e),m=!1;h=new ho(u,function(){m||(m=!0,d(function(){m=!1,h.isDisposed||h.track(y)}))},e.onError,e.requiresObservable)}function y(){t(h)}return(r=e)!=null&&(r=r.signal)!=null&&r.aborted||h.schedule_(),h.getDisposer_((a=e)==null?void 0:a.signal)}var fL=function(e){return e()};function dL(t){return t.scheduler?t.scheduler:t.delay?function(e){return setTimeout(e,t.delay)}:fL}var hL="onBO",pL="onBUO";function mL(t,e,n){return Sx(hL,t,e,n)}function _x(t,e,n){return Sx(pL,t,e,n)}function Sx(t,e,n,i){var r=_d(e),a=si(i)?i:n,u=t+"L";return r[u]?r[u].add(a):r[u]=new Set([a]),function(){var c=r[u];c&&(c.delete(a),c.size===0&&delete r[u])}}var gL="never",yf="always",vL="observed";function yL(t){t.isolateGlobalState===!0&&Qk();var e=t.useProxies,n=t.enforceActions;if(e!==void 0&&(ue.useProxies=e===yf?!0:e===gL?!1:typeof Proxy<"u"),e==="ifavailable"&&(ue.verifyProxies=!0),n!==void 0){var i=n===yf?yf:n===vL;ue.enforceActions=i,ue.allowStateChanges=!(i===!0||i===yf)}["computedRequiresReaction","reactionRequiresObservable","observableRequiresReaction","disableErrorBoundaries","safeDescriptors"].forEach(function(r){r in t&&(ue[r]=!!t[r])}),ue.allowStateReads=!ue.observableRequiresReaction,t.reactionScheduler&&oL(t.reactionScheduler)}function bx(t,e,n,i){var r=tk(e);return fr(function(){var a=ts(t,i)[we];ma(r).forEach(function(u){a.extend_(u,r[u],n&&u in n?n[u]:!0)})}),t}function _L(t,e){return Ex(_d(t,e))}function Ex(t){var e={name:t.name_};return t.observing_&&t.observing_.length>0&&(e.dependencies=SL(t.observing_).map(Ex)),e}function SL(t){return Array.from(new Set(t))}var bL=0;function wx(){this.message="FLOW_CANCELLED"}wx.prototype=Object.create(Error.prototype);var Qm=QA("flow"),EL=QA("flow.bound",{bound:!0}),va=Object.assign(function(e,n){if(Cu(n))return Qm.decorate_20223_(e,n);if(zr(n))return wu(e,n,Qm);var i=e,r=i.name||"<unnamed flow>",a=function(){var c=this,h=arguments,d=++bL,m=sa(r+" - runid: "+d+" - init",i).apply(c,h),y,S=void 0,b=new Promise(function(T,A){var x=0;y=A;function M(D){S=void 0;var L;try{L=sa(r+" - runid: "+d+" - yield "+x++,m.next).call(m,D)}catch(U){return A(U)}N(L)}function I(D){S=void 0;var L;try{L=sa(r+" - runid: "+d+" - yield "+x++,m.throw).call(m,D)}catch(U){return A(U)}N(L)}function N(D){if(si(D?.then)){D.then(N,A);return}return D.done?T(D.value):(S=Promise.resolve(D.value),S.then(M,I))}M(void 0)});return b.cancel=sa(r+" - runid: "+d+" - cancel",function(){try{S&&JE(S);var T=m.return(void 0),A=Promise.resolve(T.value);A.then(oa,oa),JE(A),y(new wx)}catch(x){y(x)}}),b};return a.isMobXFlow=!0,a},Qm);va.bound=Ti(EL);function JE(t){si(t.cancel)&&t.cancel()}function ru(t){return t?.isMobXFlow===!0}function wL(t,e){return t?Nu(t)||!!t[we]||oy(t)||gd(t)||Au(t):!1}function uy(t){return wL(t)}function CL(t){if(Nu(t))return t[we].ownKeys_();Be(38)}function _f(t,e,n){return t.set(e,n),n}function Zs(t,e){if(t==null||typeof t!="object"||t instanceof Date||!uy(t))return t;if(Xk(t)||Au(t))return Zs(t.get(),e);if(e.has(t))return e.get(t);if(Mu(t)){var n=_f(e,t,new Array(t.length));return t.forEach(function(u,c){n[c]=Zs(u,e)}),n}if(ei(t)){var i=_f(e,t,new Set);return t.forEach(function(u){i.add(Zs(u,e))}),i}if(cr(t)){var r=_f(e,t,new Map);return t.forEach(function(u,c){r.set(c,Zs(u,e))}),r}else{var a=_f(e,t,{});return CL(t).forEach(function(u){bu.propertyIsEnumerable.call(t,u)&&(a[u]=Zs(t[u],e))}),a}}function ir(t,e){return Zs(t,new Map)}function ro(t,e){e===void 0&&(e=void 0),Bn();try{return t.apply(e)}finally{Fn()}}function Vs(t){return t[we]}var TL={has:function(e,n){return Vs(e).has_(n)},get:function(e,n){return Vs(e).get_(n)},set:function(e,n,i){var r;return zr(n)?(r=Vs(e).set_(n,i,!0))!=null?r:!0:!1},deleteProperty:function(e,n){var i;return zr(n)?(i=Vs(e).delete_(n,!0))!=null?i:!0:!1},defineProperty:function(e,n,i){var r;return(r=Vs(e).defineProperty_(n,i))!=null?r:!0},ownKeys:function(e){return Vs(e).ownKeys_()},preventExtensions:function(e){Be(13)}};function AL(t,e){var n,i;return VA(),t=ts(t,e),(i=(n=t[we]).proxy_)!=null?i:n.proxy_=new Proxy(t,TL)}function Ln(t){return t.interceptors_!==void 0&&t.interceptors_.length>0}function xu(t,e){var n=t.interceptors_||(t.interceptors_=[]);return n.push(e),zA(function(){var i=n.indexOf(e);i!==-1&&n.splice(i,1)})}function Un(t,e){var n=es();try{for(var i=[].concat(t.interceptors_||[]),r=0,a=i.length;r<a&&(e=i[r](e),e&&!e.type&&Be(14),!!e);r++);return e}finally{lo(n)}}function ni(t){return t.changeListeners_!==void 0&&t.changeListeners_.length>0}function Ru(t,e){var n=t.changeListeners_||(t.changeListeners_=[]);return n.push(e),zA(function(){var i=n.indexOf(e);i!==-1&&n.splice(i,1)})}function ii(t,e){var n=es(),i=t.changeListeners_;if(i){i=i.slice();for(var r=0,a=i.length;r<a;r++)i[r](e);lo(n)}}function xL(t,e,n){return fr(function(){var i,r=ts(t,n)[we];(i=e)!=null||(e=sk(t)),ma(e).forEach(function(a){return r.make_(a,e[a])})}),t}var Zm=Symbol("mobx-keys");function Oi(t,e,n){return fo(t)?bx(t,t,e,n):(fr(function(){var i=ts(t,n)[we];if(!t[Zm]){var r=Object.getPrototypeOf(t),a=new Set([].concat(ma(t),ma(r)));a.delete("constructor"),a.delete(we),Eu(r,Zm,a)}t[Zm].forEach(function(u){return i.make_(u,e&&u in e?e[u]:!0)})}),t)}var KE="splice",Ai="update",RL=1e4,ML={get:function(e,n){var i=e[we];return n===we?i:n==="length"?i.getArrayLength_():typeof n=="string"&&!isNaN(n)?i.get_(parseInt(n)):ao(vd,n)?vd[n]:e[n]},set:function(e,n,i){var r=e[we];return n==="length"&&r.setArrayLength_(i),typeof n=="symbol"||isNaN(n)?e[n]=i:r.set_(parseInt(n),i),!0},preventExtensions:function(){Be(15)}},cy=(function(){function t(n,i,r,a){n===void 0&&(n="ObservableArray"),this.owned_=void 0,this.legacyMode_=void 0,this.atom_=void 0,this.values_=[],this.interceptors_=void 0,this.changeListeners_=void 0,this.enhancer_=void 0,this.dehancer=void 0,this.proxy_=void 0,this.lastKnownLength_=0,this.owned_=r,this.legacyMode_=a,this.atom_=new ur(n),this.enhancer_=function(u,c){return i(u,c,"ObservableArray[..]")}}var e=t.prototype;return e.dehanceValue_=function(i){return this.dehancer!==void 0?this.dehancer(i):i},e.dehanceValues_=function(i){return this.dehancer!==void 0&&i.length>0?i.map(this.dehancer):i},e.intercept_=function(i){return xu(this,i)},e.observe_=function(i,r){return r===void 0&&(r=!1),r&&i({observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:"splice",index:0,added:this.values_.slice(),addedCount:this.values_.length,removed:[],removedCount:0}),Ru(this,i)},e.getArrayLength_=function(){return this.atom_.reportObserved(),this.values_.length},e.setArrayLength_=function(i){(typeof i!="number"||isNaN(i)||i<0)&&Be("Out of range: "+i);var r=this.values_.length;if(i!==r)if(i>r){for(var a=new Array(i-r),u=0;u<i-r;u++)a[u]=void 0;this.spliceWithArray_(r,0,a)}else this.spliceWithArray_(i,r-i)},e.updateArrayLength_=function(i,r){i!==this.lastKnownLength_&&Be(16),this.lastKnownLength_+=r,this.legacyMode_&&r>0&&Nx(i+r+1)},e.spliceWithArray_=function(i,r,a){var u=this;this.atom_;var c=this.values_.length;if(i===void 0?i=0:i>c?i=c:i<0&&(i=Math.max(0,c+i)),arguments.length===1?r=c-i:r==null?r=0:r=Math.max(0,Math.min(r,c-i)),a===void 0&&(a=jg),Ln(this)){var h=Un(this,{object:this.proxy_,type:KE,index:i,removedCount:r,added:a});if(!h)return jg;r=h.removedCount,a=h.added}if(a=a.length===0?a:a.map(function(y){return u.enhancer_(y,void 0)}),this.legacyMode_){var d=a.length-r;this.updateArrayLength_(c,d)}var m=this.spliceItemsIntoValues_(i,r,a);return(r!==0||a.length!==0)&&this.notifyArraySplice_(i,a,m),this.dehanceValues_(m)},e.spliceItemsIntoValues_=function(i,r,a){if(a.length<RL){var u;return(u=this.values_).splice.apply(u,[i,r].concat(a))}else{var c=this.values_.slice(i,i+r),h=this.values_.slice(i+r);this.values_.length+=a.length-r;for(var d=0;d<a.length;d++)this.values_[i+d]=a[d];for(var m=0;m<h.length;m++)this.values_[i+a.length+m]=h[m];return c}},e.notifyArrayChildUpdate_=function(i,r,a){var u=!this.owned_&&Wl(),c=ni(this),h=c||u?{observableKind:"array",object:this.proxy_,type:Ai,debugObjectName:this.atom_.name_,index:i,newValue:r,oldValue:a}:null;this.atom_.reportChanged(),c&&ii(this,h)},e.notifyArraySplice_=function(i,r,a){var u=!this.owned_&&Wl(),c=ni(this),h=c||u?{observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:KE,index:i,removed:a,added:r,removedCount:a.length,addedCount:r.length}:null;this.atom_.reportChanged(),c&&ii(this,h)},e.get_=function(i){if(this.legacyMode_&&i>=this.values_.length){console.warn("[mobx] Out of bounds read: "+i);return}return this.atom_.reportObserved(),this.dehanceValue_(this.values_[i])},e.set_=function(i,r){var a=this.values_;if(this.legacyMode_&&i>a.length&&Be(17,i,a.length),i<a.length){this.atom_;var u=a[i];if(Ln(this)){var c=Un(this,{type:Ai,object:this.proxy_,index:i,newValue:r});if(!c)return;r=c.newValue}r=this.enhancer_(r,u);var h=r!==u;h&&(a[i]=r,this.notifyArrayChildUpdate_(i,r,u))}else{for(var d=new Array(i+1-a.length),m=0;m<d.length-1;m++)d[m]=void 0;d[d.length-1]=r,this.spliceWithArray_(a.length,0,d)}},t})();function NL(t,e,n,i){return n===void 0&&(n="ObservableArray"),i===void 0&&(i=!1),VA(),fr(function(){var r=new cy(n,e,i,!1);JA(r.values_,we,r);var a=new Proxy(r.values_,ML);return r.proxy_=a,t&&t.length&&r.spliceWithArray_(0,0,t),a})}var vd={clear:function(){return this.splice(0)},replace:function(e){var n=this[we];return n.spliceWithArray_(0,n.values_.length,e)},toJSON:function(){return this.slice()},splice:function(e,n){for(var i=arguments.length,r=new Array(i>2?i-2:0),a=2;a<i;a++)r[a-2]=arguments[a];var u=this[we];switch(arguments.length){case 0:return[];case 1:return u.spliceWithArray_(e);case 2:return u.spliceWithArray_(e,n)}return u.spliceWithArray_(e,n,r)},spliceWithArray:function(e,n,i){return this[we].spliceWithArray_(e,n,i)},push:function(){for(var e=this[we],n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return e.spliceWithArray_(e.values_.length,0,i),e.values_.length},pop:function(){return this.splice(Math.max(this[we].values_.length-1,0),1)[0]},shift:function(){return this.splice(0,1)[0]},unshift:function(){for(var e=this[we],n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return e.spliceWithArray_(0,0,i),e.values_.length},reverse:function(){return ue.trackingDerivation&&Be(37,"reverse"),this.replace(this.slice().reverse()),this},sort:function(){ue.trackingDerivation&&Be(37,"sort");var e=this.slice();return e.sort.apply(e,arguments),this.replace(e),this},remove:function(e){var n=this[we],i=n.dehanceValues_(n.values_).indexOf(e);return i>-1?(this.splice(i,1),!0):!1}};tt("at",wn);tt("concat",wn);tt("flat",wn);tt("includes",wn);tt("indexOf",wn);tt("join",wn);tt("lastIndexOf",wn);tt("slice",wn);tt("toString",wn);tt("toLocaleString",wn);tt("toSorted",wn);tt("toSpliced",wn);tt("with",wn);tt("every",ci);tt("filter",ci);tt("find",ci);tt("findIndex",ci);tt("findLast",ci);tt("findLastIndex",ci);tt("flatMap",ci);tt("forEach",ci);tt("map",ci);tt("some",ci);tt("toReversed",ci);tt("reduce",Cx);tt("reduceRight",Cx);function tt(t,e){typeof Array.prototype[t]=="function"&&(vd[t]=e(t))}function wn(t){return function(){var e=this[we];e.atom_.reportObserved();var n=e.dehanceValues_(e.values_);return n[t].apply(n,arguments)}}function ci(t){return function(e,n){var i=this,r=this[we];r.atom_.reportObserved();var a=r.dehanceValues_(r.values_);return a[t](function(u,c){return e.call(n,u,c,i)})}}function Cx(t){return function(){var e=this,n=this[we];n.atom_.reportObserved();var i=n.dehanceValues_(n.values_),r=arguments[0];return arguments[0]=function(a,u,c){return r(a,u,c,e)},i[t].apply(i,arguments)}}var IL=lr("ObservableArrayAdministration",cy);function Mu(t){return Yd(t)&&IL(t[we])}var DL={},Zo="add",yd="delete",Tx=(function(){function t(n,i,r){var a=this;i===void 0&&(i=Jr),r===void 0&&(r="ObservableMap"),this.enhancer_=void 0,this.name_=void 0,this[we]=DL,this.data_=void 0,this.hasMap_=void 0,this.keysAtom_=void 0,this.interceptors_=void 0,this.changeListeners_=void 0,this.dehancer=void 0,this.enhancer_=i,this.name_=r,si(Map)||Be(18),fr(function(){a.keysAtom_=XA("ObservableMap.keys()"),a.data_=new Map,a.hasMap_=new Map,n&&a.merge(n)})}var e=t.prototype;return e.has_=function(i){return this.data_.has(i)},e.has=function(i){var r=this;if(!ue.trackingDerivation)return this.has_(i);var a=this.hasMap_.get(i);if(!a){var u=a=new nr(this.has_(i),jd,"ObservableMap.key?",!1);this.hasMap_.set(i,u),_x(u,function(){return r.hasMap_.delete(i)})}return a.get()},e.set=function(i,r){var a=this.has_(i);if(Ln(this)){var u=Un(this,{type:a?Ai:Zo,object:this,newValue:r,name:i});if(!u)return this;r=u.newValue}return a?this.updateValue_(i,r):this.addValue_(i,r),this},e.delete=function(i){var r=this;if(this.keysAtom_,Ln(this)){var a=Un(this,{type:yd,object:this,name:i});if(!a)return!1}if(this.has_(i)){var u=Wl(),c=ni(this),h=c||u?{observableKind:"map",debugObjectName:this.name_,type:yd,object:this,oldValue:this.data_.get(i).value_,name:i}:null;return ro(function(){var d;r.keysAtom_.reportChanged(),(d=r.hasMap_.get(i))==null||d.setNewValue_(!1);var m=r.data_.get(i);m.setNewValue_(void 0),r.data_.delete(i)}),c&&ii(this,h),!0}return!1},e.updateValue_=function(i,r){var a=this.data_.get(i);if(r=a.prepareNewValue_(r),r!==ue.UNCHANGED){var u=Wl(),c=ni(this),h=c||u?{observableKind:"map",debugObjectName:this.name_,type:Ai,object:this,oldValue:a.value_,name:i,newValue:r}:null;a.setNewValue_(r),c&&ii(this,h)}},e.addValue_=function(i,r){var a=this;this.keysAtom_,ro(function(){var d,m=new nr(r,a.enhancer_,"ObservableMap.key",!1);a.data_.set(i,m),r=m.value_,(d=a.hasMap_.get(i))==null||d.setNewValue_(!0),a.keysAtom_.reportChanged()});var u=Wl(),c=ni(this),h=c||u?{observableKind:"map",debugObjectName:this.name_,type:Zo,object:this,name:i,newValue:r}:null;c&&ii(this,h)},e.get=function(i){return this.has(i)?this.dehanceValue_(this.data_.get(i).get()):this.dehanceValue_(void 0)},e.dehanceValue_=function(i){return this.dehancer!==void 0?this.dehancer(i):i},e.keys=function(){return this.keysAtom_.reportObserved(),this.data_.keys()},e.values=function(){var i=this,r=this.keys();return YE({next:function(){var u=r.next(),c=u.done,h=u.value;return{done:c,value:c?void 0:i.get(h)}}})},e.entries=function(){var i=this,r=this.keys();return YE({next:function(){var u=r.next(),c=u.done,h=u.value;return{done:c,value:c?void 0:[h,i.get(h)]}}})},e[Symbol.iterator]=function(){return this.entries()},e.forEach=function(i,r){for(var a=ra(this),u;!(u=a()).done;){var c=u.value,h=c[0],d=c[1];i.call(r,d,h,this)}},e.merge=function(i){var r=this;return cr(i)&&(i=new Map(i)),ro(function(){fo(i)?ek(i).forEach(function(a){return r.set(a,i[a])}):Array.isArray(i)?i.forEach(function(a){var u=a[0],c=a[1];return r.set(u,c)}):Ca(i)?(ZP(i)||Be(19,i),i.forEach(function(a,u){return r.set(u,a)})):i!=null&&Be(20,i)}),this},e.clear=function(){var i=this;ro(function(){ax(function(){for(var r=ra(i.keys()),a;!(a=r()).done;){var u=a.value;i.delete(u)}})})},e.replace=function(i){var r=this;return ro(function(){for(var a=OL(i),u=new Map,c=!1,h=ra(r.data_.keys()),d;!(d=h()).done;){var m=d.value;if(!a.has(m)){var y=r.delete(m);if(y)c=!0;else{var S=r.data_.get(m);u.set(m,S)}}}for(var b=ra(a.entries()),T;!(T=b()).done;){var A=T.value,x=A[0],M=A[1],I=r.data_.has(x);if(r.set(x,M),r.data_.has(x)){var N=r.data_.get(x);u.set(x,N),I||(c=!0)}}if(!c)if(r.data_.size!==u.size)r.keysAtom_.reportChanged();else for(var D=r.data_.keys(),L=u.keys(),U=D.next(),O=L.next();!U.done;){if(U.value!==O.value){r.keysAtom_.reportChanged();break}U=D.next(),O=L.next()}r.data_=u}),this},e.toString=function(){return"[object ObservableMap]"},e.toJSON=function(){return Array.from(this)},e.observe_=function(i,r){return Ru(this,i)},e.intercept_=function(i){return xu(this,i)},Ta(t,[{key:"size",get:function(){return this.keysAtom_.reportObserved(),this.data_.size}},{key:Symbol.toStringTag,get:function(){return"Map"}}])})(),cr=lr("ObservableMap",Tx);function YE(t){return t[Symbol.toStringTag]="MapIterator",dy(t)}function OL(t){if(Ca(t)||cr(t))return t;if(Array.isArray(t))return new Map(t);if(fo(t)){var e=new Map;for(var n in t)e.set(n,t[n]);return e}else return Be(21,t)}var PL={},Ax=(function(){function t(n,i,r){var a=this;i===void 0&&(i=Jr),r===void 0&&(r="ObservableSet"),this.name_=void 0,this[we]=PL,this.data_=new Set,this.atom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.dehancer=void 0,this.enhancer_=void 0,this.name_=r,si(Set)||Be(22),this.enhancer_=function(u,c){return i(u,c,r)},fr(function(){a.atom_=XA(a.name_),n&&a.replace(n)})}var e=t.prototype;return e.dehanceValue_=function(i){return this.dehancer!==void 0?this.dehancer(i):i},e.clear=function(){var i=this;ro(function(){ax(function(){for(var r=ra(i.data_.values()),a;!(a=r()).done;){var u=a.value;i.delete(u)}})})},e.forEach=function(i,r){for(var a=ra(this),u;!(u=a()).done;){var c=u.value;i.call(r,c,c,this)}},e.add=function(i){var r=this;if(this.atom_,Ln(this)){var a=Un(this,{type:Zo,object:this,newValue:i});if(!a)return this;i=a.newValue}if(!this.has(i)){ro(function(){r.data_.add(r.enhancer_(i,void 0)),r.atom_.reportChanged()});var u=!1,c=ni(this),h=c||u?{observableKind:"set",debugObjectName:this.name_,type:Zo,object:this,newValue:i}:null;c&&ii(this,h)}return this},e.delete=function(i){var r=this;if(Ln(this)){var a=Un(this,{type:yd,object:this,oldValue:i});if(!a)return!1}if(this.has(i)){var u=!1,c=ni(this),h=c||u?{observableKind:"set",debugObjectName:this.name_,type:yd,object:this,oldValue:i}:null;return ro(function(){r.atom_.reportChanged(),r.data_.delete(i)}),c&&ii(this,h),!0}return!1},e.has=function(i){return this.atom_.reportObserved(),this.data_.has(this.dehanceValue_(i))},e.entries=function(){var i=this.values();return jE({next:function(){var a=i.next(),u=a.value,c=a.done;return c?{value:void 0,done:c}:{value:[u,u],done:c}}})},e.keys=function(){return this.values()},e.values=function(){this.atom_.reportObserved();var i=this,r=this.data_.values();return jE({next:function(){var u=r.next(),c=u.value,h=u.done;return h?{value:void 0,done:h}:{value:i.dehanceValue_(c),done:h}}})},e.intersection=function(i){if(oo(i)&&!ei(i))return i.intersection(this);var r=new Set(this);return r.intersection(i)},e.union=function(i){if(oo(i)&&!ei(i))return i.union(this);var r=new Set(this);return r.union(i)},e.difference=function(i){return new Set(this).difference(i)},e.symmetricDifference=function(i){if(oo(i)&&!ei(i))return i.symmetricDifference(this);var r=new Set(this);return r.symmetricDifference(i)},e.isSubsetOf=function(i){return new Set(this).isSubsetOf(i)},e.isSupersetOf=function(i){return new Set(this).isSupersetOf(i)},e.isDisjointFrom=function(i){if(oo(i)&&!ei(i))return i.isDisjointFrom(this);var r=new Set(this);return r.isDisjointFrom(i)},e.replace=function(i){var r=this;return ei(i)&&(i=new Set(i)),ro(function(){Array.isArray(i)?(r.clear(),i.forEach(function(a){return r.add(a)})):oo(i)?(r.clear(),i.forEach(function(a){return r.add(a)})):i!=null&&Be("Cannot initialize set from "+i)}),this},e.observe_=function(i,r){return Ru(this,i)},e.intercept_=function(i){return xu(this,i)},e.toJSON=function(){return Array.from(this)},e.toString=function(){return"[object ObservableSet]"},e[Symbol.iterator]=function(){return this.values()},Ta(t,[{key:"size",get:function(){return this.atom_.reportObserved(),this.data_.size}},{key:Symbol.toStringTag,get:function(){return"Set"}}])})(),ei=lr("ObservableSet",Ax);function jE(t){return t[Symbol.toStringTag]="SetIterator",dy(t)}var XE=Object.create(null),WE="remove",xx=(function(){function t(n,i,r,a){i===void 0&&(i=new Map),a===void 0&&(a=Nk),this.target_=void 0,this.values_=void 0,this.name_=void 0,this.defaultAnnotation_=void 0,this.keysAtom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.proxy_=void 0,this.isPlainObject_=void 0,this.appliedAnnotations_=void 0,this.pendingKeys_=void 0,this.target_=n,this.values_=i,this.name_=r,this.defaultAnnotation_=a,this.keysAtom_=new ur("ObservableObject.keys"),this.isPlainObject_=fo(this.target_)}var e=t.prototype;return e.getObservablePropValue_=function(i){return this.values_.get(i).get()},e.setObservablePropValue_=function(i,r){var a=this.values_.get(i);if(a instanceof ai)return a.set(r),!0;if(Ln(this)){var u=Un(this,{type:Ai,object:this.proxy_||this.target_,name:i,newValue:r});if(!u)return null;r=u.newValue}if(r=a.prepareNewValue_(r),r!==ue.UNCHANGED){var c=ni(this),h=!1,d=c||h?{type:Ai,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,oldValue:a.value_,name:i,newValue:r}:null;a.setNewValue_(r),c&&ii(this,d)}return!0},e.get_=function(i){return ue.trackingDerivation&&!ao(this.target_,i)&&this.has_(i),this.target_[i]},e.set_=function(i,r,a){return a===void 0&&(a=!1),ao(this.target_,i)?this.values_.has(i)?this.setObservablePropValue_(i,r):a?Reflect.set(this.target_,i,r):(this.target_[i]=r,!0):this.extend_(i,{value:r,enumerable:!0,writable:!0,configurable:!0},this.defaultAnnotation_,a)},e.has_=function(i){if(!ue.trackingDerivation)return i in this.target_;this.pendingKeys_||(this.pendingKeys_=new Map);var r=this.pendingKeys_.get(i);return r||(r=new nr(i in this.target_,jd,"ObservableObject.key?",!1),this.pendingKeys_.set(i,r)),r.get()},e.make_=function(i,r){if(r===!0&&(r=this.defaultAnnotation_),r!==!1){if(!(i in this.target_)){var a;if((a=this.target_[bi])!=null&&a[i])return;Be(1,r.annotationType_,this.name_+"."+i.toString())}for(var u=this.target_;u&&u!==bu;){var c=fd(u,i);if(c){var h=r.make_(this,i,c,u);if(h===0)return;if(h===1)break}u=Object.getPrototypeOf(u)}ZE(this,r,i)}},e.extend_=function(i,r,a,u){if(u===void 0&&(u=!1),a===!0&&(a=this.defaultAnnotation_),a===!1)return this.defineProperty_(i,r,u);var c=a.extend_(this,i,r,u);return c&&ZE(this,a,i),c},e.defineProperty_=function(i,r,a){a===void 0&&(a=!1),this.keysAtom_;try{Bn();var u=this.delete_(i);if(!u)return u;if(Ln(this)){var c=Un(this,{object:this.proxy_||this.target_,name:i,type:Zo,newValue:r.value});if(!c)return null;var h=c.newValue;r.value!==h&&(r=qr({},r,{value:h}))}if(a){if(!Reflect.defineProperty(this.target_,i,r))return!1}else Ci(this.target_,i,r);this.notifyPropertyAddition_(i,r.value)}finally{Fn()}return!0},e.defineObservableProperty_=function(i,r,a,u){u===void 0&&(u=!1),this.keysAtom_;try{Bn();var c=this.delete_(i);if(!c)return c;if(Ln(this)){var h=Un(this,{object:this.proxy_||this.target_,name:i,type:Zo,newValue:r});if(!h)return null;r=h.newValue}var d=QE(i),m={configurable:ue.safeDescriptors?this.isPlainObject_:!0,enumerable:!0,get:d.get,set:d.set};if(u){if(!Reflect.defineProperty(this.target_,i,m))return!1}else Ci(this.target_,i,m);var y=new nr(r,a,"ObservableObject.key",!1);this.values_.set(i,y),this.notifyPropertyAddition_(i,y.value_)}finally{Fn()}return!0},e.defineComputedProperty_=function(i,r,a){a===void 0&&(a=!1),this.keysAtom_;try{Bn();var u=this.delete_(i);if(!u)return u;if(Ln(this)){var c=Un(this,{object:this.proxy_||this.target_,name:i,type:Zo,newValue:void 0});if(!c)return null}r.name||(r.name="ObservableObject.key"),r.context=this.proxy_||this.target_;var h=QE(i),d={configurable:ue.safeDescriptors?this.isPlainObject_:!0,enumerable:!1,get:h.get,set:h.set};if(a){if(!Reflect.defineProperty(this.target_,i,d))return!1}else Ci(this.target_,i,d);this.values_.set(i,new ai(r)),this.notifyPropertyAddition_(i,void 0)}finally{Fn()}return!0},e.delete_=function(i,r){if(r===void 0&&(r=!1),this.keysAtom_,!ao(this.target_,i))return!0;if(Ln(this)){var a=Un(this,{object:this.proxy_||this.target_,name:i,type:WE});if(!a)return null}try{var u;Bn();var c=ni(this),h=!1,d=this.values_.get(i),m=void 0;if(!d&&(c||h)){var y;m=(y=fd(this.target_,i))==null?void 0:y.value}if(r){if(!Reflect.deleteProperty(this.target_,i))return!1}else delete this.target_[i];if(d&&(this.values_.delete(i),d instanceof nr&&(m=d.value_),hx(d)),this.keysAtom_.reportChanged(),(u=this.pendingKeys_)==null||(u=u.get(i))==null||u.set(i in this.target_),c||h){var S={type:WE,observableKind:"object",object:this.proxy_||this.target_,debugObjectName:this.name_,oldValue:m,name:i};c&&ii(this,S)}}finally{Fn()}return!0},e.observe_=function(i,r){return Ru(this,i)},e.intercept_=function(i){return xu(this,i)},e.notifyPropertyAddition_=function(i,r){var a,u=ni(this),c=!1;if(u||c){var h=u||c?{type:Zo,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,name:i,newValue:r}:null;u&&ii(this,h)}(a=this.pendingKeys_)==null||(a=a.get(i))==null||a.set(!0),this.keysAtom_.reportChanged()},e.ownKeys_=function(){return this.keysAtom_.reportObserved(),ma(this.target_)},e.keys_=function(){return this.keysAtom_.reportObserved(),Object.keys(this.target_)},t})();function ts(t,e){var n;if(ao(t,we))return t;var i=(n=e?.name)!=null?n:"ObservableObject",r=new xx(t,new Map,String(i),Hk(e));return Eu(t,we,r),t}var kL=lr("ObservableObjectAdministration",xx);function QE(t){return XE[t]||(XE[t]={get:function(){return this[we].getObservablePropValue_(t)},set:function(n){return this[we].setObservablePropValue_(t,n)}})}function Nu(t){return Yd(t)?kL(t[we]):!1}function ZE(t,e,n){var i;(i=t.target_[bi])==null||delete i[n]}var LL=Mx(0),UL=(function(){var t=!1,e={};return Object.defineProperty(e,"0",{set:function(){t=!0}}),Object.create(e)[0]=1,t===!1})(),eg=0,Rx=function(){};function BL(t,e){Object.setPrototypeOf?Object.setPrototypeOf(t.prototype,e):t.prototype.__proto__!==void 0?t.prototype.__proto__=e:t.prototype=e}BL(Rx,Array.prototype);var fy=(function(t){function e(i,r,a,u){var c;return a===void 0&&(a="ObservableArray"),u===void 0&&(u=!1),c=t.call(this)||this,fr(function(){var h=new cy(a,r,u,!0);h.proxy_=c,JA(c,we,h),i&&i.length&&c.spliceWithArray(0,0,i),UL&&Object.defineProperty(c,"0",LL)}),c}jA(e,t);var n=e.prototype;return n.concat=function(){this[we].atom_.reportObserved();for(var r=arguments.length,a=new Array(r),u=0;u<r;u++)a[u]=arguments[u];return Array.prototype.concat.apply(this.slice(),a.map(function(c){return Mu(c)?c.slice():c}))},n[Symbol.iterator]=function(){var i=this,r=0;return dy({next:function(){return r<i.length?{value:i[r++],done:!1}:{done:!0,value:void 0}}})},Ta(e,[{key:"length",get:function(){return this[we].getArrayLength_()},set:function(r){this[we].setArrayLength_(r)}},{key:Symbol.toStringTag,get:function(){return"Array"}}])})(Rx);Object.entries(vd).forEach(function(t){var e=t[0],n=t[1];e!=="concat"&&Eu(fy.prototype,e,n)});function Mx(t){return{enumerable:!1,configurable:!0,get:function(){return this[we].get_(t)},set:function(n){this[we].set_(t,n)}}}function FL(t){Ci(fy.prototype,""+t,Mx(t))}function Nx(t){if(t>eg){for(var e=eg;e<t+100;e++)FL(e);eg=t}}Nx(1e3);function $L(t,e,n){return new fy(t,e,n)}function _d(t,e){if(typeof t=="object"&&t!==null){if(Mu(t))return e!==void 0&&Be(23),t[we].atom_;if(ei(t))return t.atom_;if(cr(t)){if(e===void 0)return t.keysAtom_;var n=t.data_.get(e)||t.hasMap_.get(e);return n||Be(25,e,ov(t)),n}if(Nu(t)){if(!e)return Be(26);var i=t[we].values_.get(e);return i||Be(27,e,ov(t)),i}if(oy(t)||Au(t)||gd(t))return t}else if(si(t)&&gd(t[we]))return t[we];Be(28)}function HL(t,e){if(t||Be(29),oy(t)||Au(t)||gd(t)||cr(t)||ei(t))return t;if(t[we])return t[we];Be(24,t)}function ov(t,e){var n;if(e!==void 0)n=_d(t,e);else{if(ga(t))return t.name;Nu(t)||cr(t)||ei(t)?n=HL(t):n=_d(t)}return n.name_}function fr(t){var e=es(),n=sy(!0);Bn();try{return t()}finally{Fn(),ay(n),lo(e)}}var ew=bu.toString;function Ix(t,e,n){return n===void 0&&(n=-1),rv(t,e,n)}function rv(t,e,n,i,r){if(t===e)return t!==0||1/t===1/e;if(t==null||e==null)return!1;if(t!==t)return e!==e;var a=typeof t;if(a!=="function"&&a!=="object"&&typeof e!="object")return!1;var u=ew.call(t);if(u!==ew.call(e))return!1;switch(u){case"[object RegExp]":case"[object String]":return""+t==""+e;case"[object Number]":return+t!=+t?+e!=+e:+t==0?1/+t===1/e:+t==+e;case"[object Date]":case"[object Boolean]":return+t==+e;case"[object Symbol]":return typeof Symbol<"u"&&Symbol.valueOf.call(t)===Symbol.valueOf.call(e);case"[object Map]":case"[object Set]":n>=0&&n++;break}t=tw(t),e=tw(e);var c=u==="[object Array]";if(!c){if(typeof t!="object"||typeof e!="object")return!1;var h=t.constructor,d=e.constructor;if(h!==d&&!(si(h)&&h instanceof h&&si(d)&&d instanceof d)&&"constructor"in t&&"constructor"in e)return!1}if(n===0)return!1;n<0&&(n=-1),i=i||[],r=r||[];for(var m=i.length;m--;)if(i[m]===t)return r[m]===e;if(i.push(t),r.push(e),c){if(m=t.length,m!==e.length)return!1;for(;m--;)if(!rv(t[m],e[m],n-1,i,r))return!1}else{var y=Object.keys(t),S=y.length;if(Object.keys(e).length!==S)return!1;for(var b=0;b<S;b++){var T=y[b];if(!(ao(e,T)&&rv(t[T],e[T],n-1,i,r)))return!1}}return i.pop(),r.pop(),!0}function tw(t){return Mu(t)?t.slice():Ca(t)||cr(t)||oo(t)||ei(t)?Array.from(t.entries()):t}var nw,GL=((nw=Kd().Iterator)==null?void 0:nw.prototype)||{};function dy(t){return t[Symbol.iterator]=VL,Object.assign(Object.create(GL),t)}function VL(){return this}["Symbol","Map","Set"].forEach(function(t){var e=Kd();typeof e[t]>"u"&&Be("MobX requires global '"+t+"' to be available or polyfilled")});typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__=="object"&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:rL,extras:{getDebugName:ov},$mobx:we});if(!C.useState)throw new Error("mobx-react-lite requires React with Hooks support");if(!xL)throw new Error("mobx-react-lite@3 requires mobx at least version 6 to be available");var Qd=$A();const Br=Su(Qd);function zL(t){t()}function qL(t){t||(t=zL),yL({reactionScheduler:t})}function JL(t){return _L(t)}var KL=1e4,YL=1e4,jL=(function(){function t(e){var n=this;Object.defineProperty(this,"finalize",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"registrations",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),Object.defineProperty(this,"sweepTimeout",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sweep",{enumerable:!0,configurable:!0,writable:!0,value:function(i){i===void 0&&(i=KL),clearTimeout(n.sweepTimeout),n.sweepTimeout=void 0;var r=Date.now();n.registrations.forEach(function(a,u){r-a.registeredAt>=i&&(n.finalize(a.value),n.registrations.delete(u))}),n.registrations.size>0&&n.scheduleSweep()}}),Object.defineProperty(this,"finalizeAllImmediately",{enumerable:!0,configurable:!0,writable:!0,value:function(){n.sweep(0)}})}return Object.defineProperty(t.prototype,"register",{enumerable:!1,configurable:!0,writable:!0,value:function(e,n,i){this.registrations.set(i,{value:n,registeredAt:Date.now()}),this.scheduleSweep()}}),Object.defineProperty(t.prototype,"unregister",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this.registrations.delete(e)}}),Object.defineProperty(t.prototype,"scheduleSweep",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.sweepTimeout===void 0&&(this.sweepTimeout=setTimeout(this.sweep,YL))}}),t})(),XL=typeof FinalizationRegistry<"u"?FinalizationRegistry:jL,sv=new XL(function(t){var e;(e=t.reaction)===null||e===void 0||e.dispose(),t.reaction=null}),tg={exports:{}},ng={};var iw;function WL(){if(iw)return ng;iw=1;var t=Jd();function e(y,S){return y===S&&(y!==0||1/y===1/S)||y!==y&&S!==S}var n=typeof Object.is=="function"?Object.is:e,i=t.useState,r=t.useEffect,a=t.useLayoutEffect,u=t.useDebugValue;function c(y,S){var b=S(),T=i({inst:{value:b,getSnapshot:S}}),A=T[0].inst,x=T[1];return a(function(){A.value=b,A.getSnapshot=S,h(A)&&x({inst:A})},[y,b,S]),r(function(){return h(A)&&x({inst:A}),y(function(){h(A)&&x({inst:A})})},[y]),u(b),b}function h(y){var S=y.getSnapshot;y=y.value;try{var b=S();return!n(y,b)}catch{return!0}}function d(y,S){return S()}var m=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?d:c;return ng.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:m,ng}var ow;function QL(){return ow||(ow=1,tg.exports=WL()),tg.exports}var ZL=QL();function rw(t){t.reaction=new ho("observer".concat(t.name),function(){var e;t.stateVersion=Symbol(),(e=t.onStoreChange)===null||e===void 0||e.call(t)})}function eU(t,e){e===void 0&&(e="observed");var n=et.useRef(null);if(!n.current){var i={reaction:null,onStoreChange:null,stateVersion:Symbol(),name:e,subscribe:function(c){return sv.unregister(i),i.onStoreChange=c,i.reaction||(rw(i),i.stateVersion=Symbol()),function(){var h;i.onStoreChange=null,(h=i.reaction)===null||h===void 0||h.dispose(),i.reaction=null}},getSnapshot:function(){return i.stateVersion}};n.current=i}var r=n.current;r.reaction||(rw(r),sv.register(n,r,r)),et.useDebugValue(r.reaction,JL),ZL.useSyncExternalStore(r.subscribe,r.getSnapshot,r.getSnapshot);var a,u;if(r.reaction.track(function(){try{a=t()}catch(c){u=c}}),u)throw u;return a}var ig,og,Dx=typeof Symbol=="function"&&Symbol.for,tU=(og=(ig=Object.getOwnPropertyDescriptor(function(){},"name"))===null||ig===void 0?void 0:ig.configurable)!==null&&og!==void 0?og:!1,sw=Dx?Symbol.for("react.forward_ref"):typeof C.forwardRef=="function"&&C.forwardRef(function(t){return null}).$$typeof,aw=Dx?Symbol.for("react.memo"):typeof C.memo=="function"&&C.memo(function(t){return null}).$$typeof;function ct(t,e){var n;if(aw&&t.$$typeof===aw)throw new Error("[mobx-react-lite] You are trying to use `observer` on a function component wrapped in either another `observer` or `React.memo`. The observer already applies 'React.memo' for you.");var i=(n=void 0)!==null&&n!==void 0?n:!1,r=t,a=t.displayName||t.name;if(sw&&t.$$typeof===sw&&(i=!0,r=t.render,typeof r!="function"))throw new Error("[mobx-react-lite] `render` property of ForwardRef was not a function");var u=function(c,h){return eU(function(){return r(c,h)},a)};return u.displayName=t.displayName,tU&&Object.defineProperty(u,"name",{value:t.name,writable:!0,configurable:!0}),t.contextTypes&&(u.contextTypes=t.contextTypes),i&&(u=C.forwardRef(u)),u=C.memo(u),iU(t,u),u}var nU={$$typeof:!0,render:!0,compare:!0,type:!0,displayName:!0};function iU(t,e){Object.keys(t).forEach(function(n){nU[n]||Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}var rg;qL(Qd.unstable_batchedUpdates);rg=sv.finalizeAllImmediately;var sg={exports:{}};var lw;function oU(){return lw||(lw=1,(function(t){(function(){var e={}.hasOwnProperty;function n(){for(var a="",u=0;u<arguments.length;u++){var c=arguments[u];c&&(a=r(a,i(c)))}return a}function i(a){if(typeof a=="string"||typeof a=="number")return a;if(typeof a!="object")return"";if(Array.isArray(a))return n.apply(null,a);if(a.toString!==Object.prototype.toString&&!a.toString.toString().includes("[native code]"))return a.toString();var u="";for(var c in a)e.call(a,c)&&a[c]&&(u=r(u,c));return u}function r(a,u){return u?a?a+" "+u:a+u:a}t.exports?(n.default=n,t.exports=n):window.classNames=n})()})(sg)),sg.exports}var rU=oU();const Ne=Su(rU);function av(){return av=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},av.apply(null,arguments)}function Ox(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)!==-1)continue;n[i]=t[i]}return n}function uw(t){return"default"+t.charAt(0).toUpperCase()+t.substr(1)}function sU(t){var e=aU(t,"string");return typeof e=="symbol"?e:String(e)}function aU(t,e){if(typeof t!="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function lU(t,e,n){var i=C.useRef(t!==void 0),r=C.useState(e),a=r[0],u=r[1],c=t!==void 0,h=i.current;return i.current=c,!c&&h&&a!==e&&u(e),[c?t:a,C.useCallback(function(d){for(var m=arguments.length,y=new Array(m>1?m-1:0),S=1;S<m;S++)y[S-1]=arguments[S];n&&n.apply(void 0,[d].concat(y)),u(d)},[n])]}function hy(t,e){return Object.keys(e).reduce(function(n,i){var r,a=n,u=a[uw(i)],c=a[i],h=Ox(a,[uw(i),i].map(sU)),d=e[i],m=lU(c,u,t[d]),y=m[0],S=m[1];return av({},h,(r={},r[i]=y,r[d]=S,r))},t)}function lv(t,e){return lv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},lv(t,e)}function uU(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,lv(t,e)}const cU=["xxl","xl","lg","md","sm","xs"],fU="xs",Iu=C.createContext({prefixes:{},breakpoints:cU,minBreakpoint:fU}),{Consumer:xY,Provider:RY}=Iu;function Ue(t,e){const{prefixes:n}=C.useContext(Iu);return t||n[e]||e}function Px(){const{breakpoints:t}=C.useContext(Iu);return t}function kx(){const{minBreakpoint:t}=C.useContext(Iu);return t}function dU(){const{dir:t}=C.useContext(Iu);return t==="rtl"}function Zd(t){return t&&t.ownerDocument||document}function hU(t){var e=Zd(t);return e&&e.defaultView||window}function pU(t,e){return hU(t).getComputedStyle(t,e)}var mU=/([A-Z])/g;function gU(t){return t.replace(mU,"-$1").toLowerCase()}var vU=/^ms-/;function Sf(t){return gU(t).replace(vU,"-ms-")}var yU=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function _U(t){return!!(t&&yU.test(t))}function uo(t,e){var n="",i="";if(typeof e=="string")return t.style.getPropertyValue(Sf(e))||pU(t).getPropertyValue(Sf(e));Object.keys(e).forEach(function(r){var a=e[r];!a&&a!==0?t.style.removeProperty(Sf(r)):_U(r)?i+=r+"("+a+") ":n+=Sf(r)+": "+a+";"}),i&&(n+="transform: "+i+";"),t.style.cssText+=";"+n}var ag={exports:{}},lg,cw;function SU(){if(cw)return lg;cw=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return lg=t,lg}var ug,fw;function bU(){if(fw)return ug;fw=1;var t=SU();function e(){}function n(){}return n.resetWarningCache=e,ug=function(){function i(u,c,h,d,m,y){if(y!==t){var S=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw S.name="Invariant Violation",S}}i.isRequired=i;function r(){return i}var a={array:i,bigint:i,bool:i,func:i,number:i,object:i,string:i,symbol:i,any:i,arrayOf:r,element:i,elementType:i,instanceOf:r,node:i,objectOf:r,oneOf:r,oneOfType:r,shape:r,exact:r,checkPropTypes:n,resetWarningCache:e};return a.PropTypes=a,a},ug}var dw;function EU(){return dw||(dw=1,ag.exports=bU()()),ag.exports}var wU=EU();const cg=Su(wU),hw={disabled:!1},Lx=et.createContext(null);var CU=function(e){return e.scrollTop},Ul="unmounted",Wo="exited",Zn="entering",so="entered",su="exiting",yo=(function(t){uU(e,t);function e(i,r){var a;a=t.call(this,i,r)||this;var u=r,c=u&&!u.isMounting?i.enter:i.appear,h;return a.appearStatus=null,i.in?c?(h=Wo,a.appearStatus=Zn):h=so:i.unmountOnExit||i.mountOnEnter?h=Ul:h=Wo,a.state={status:h},a.nextCallback=null,a}e.getDerivedStateFromProps=function(r,a){var u=r.in;return u&&a.status===Ul?{status:Wo}:null};var n=e.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(r){var a=null;if(r!==this.props){var u=this.state.status;this.props.in?u!==Zn&&u!==so&&(a=Zn):(u===Zn||u===so)&&(a=su)}this.updateStatus(!1,a)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var r=this.props.timeout,a,u,c;return a=u=c=r,r!=null&&typeof r!="number"&&(a=r.exit,u=r.enter,c=r.appear!==void 0?r.appear:u),{exit:a,enter:u,appear:c}},n.updateStatus=function(r,a){if(r===void 0&&(r=!1),a!==null)if(this.cancelNextCallback(),a===Zn){if(this.props.unmountOnExit||this.props.mountOnEnter){var u=this.props.nodeRef?this.props.nodeRef.current:Br.findDOMNode(this);u&&CU(u)}this.performEnter(r)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Wo&&this.setState({status:Ul})},n.performEnter=function(r){var a=this,u=this.props.enter,c=this.context?this.context.isMounting:r,h=this.props.nodeRef?[c]:[Br.findDOMNode(this),c],d=h[0],m=h[1],y=this.getTimeouts(),S=c?y.appear:y.enter;if(!r&&!u||hw.disabled){this.safeSetState({status:so},function(){a.props.onEntered(d)});return}this.props.onEnter(d,m),this.safeSetState({status:Zn},function(){a.props.onEntering(d,m),a.onTransitionEnd(S,function(){a.safeSetState({status:so},function(){a.props.onEntered(d,m)})})})},n.performExit=function(){var r=this,a=this.props.exit,u=this.getTimeouts(),c=this.props.nodeRef?void 0:Br.findDOMNode(this);if(!a||hw.disabled){this.safeSetState({status:Wo},function(){r.props.onExited(c)});return}this.props.onExit(c),this.safeSetState({status:su},function(){r.props.onExiting(c),r.onTransitionEnd(u.exit,function(){r.safeSetState({status:Wo},function(){r.props.onExited(c)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(r,a){a=this.setNextCallback(a),this.setState(r,a)},n.setNextCallback=function(r){var a=this,u=!0;return this.nextCallback=function(c){u&&(u=!1,a.nextCallback=null,r(c))},this.nextCallback.cancel=function(){u=!1},this.nextCallback},n.onTransitionEnd=function(r,a){this.setNextCallback(a);var u=this.props.nodeRef?this.props.nodeRef.current:Br.findDOMNode(this),c=r==null&&!this.props.addEndListener;if(!u||c){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var h=this.props.nodeRef?[this.nextCallback]:[u,this.nextCallback],d=h[0],m=h[1];this.props.addEndListener(d,m)}r!=null&&setTimeout(this.nextCallback,r)},n.render=function(){var r=this.state.status;if(r===Ul)return null;var a=this.props,u=a.children;a.in,a.mountOnEnter,a.unmountOnExit,a.appear,a.enter,a.exit,a.timeout,a.addEndListener,a.onEnter,a.onEntering,a.onEntered,a.onExit,a.onExiting,a.onExited,a.nodeRef;var c=Ox(a,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return et.createElement(Lx.Provider,{value:null},typeof u=="function"?u(r,c):et.cloneElement(et.Children.only(u),c))},e})(et.Component);yo.contextType=Lx;yo.propTypes={};function zs(){}yo.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:zs,onEntering:zs,onEntered:zs,onExit:zs,onExiting:zs,onExited:zs};yo.UNMOUNTED=Ul;yo.EXITED=Wo;yo.ENTERING=Zn;yo.ENTERED=so;yo.EXITING=su;function TU(t){return t.code==="Escape"||t.keyCode===27}function AU(){const t=C.version.split(".");return{major:+t[0],minor:+t[1],patch:+t[2]}}function Aa(t){if(!t||typeof t=="function")return null;const{major:e}=AU();return e>=19?t.props.ref:t.ref}const eh=!!(typeof window<"u"&&window.document&&window.document.createElement);var uv=!1,cv=!1;try{var fg={get passive(){return uv=!0},get once(){return cv=uv=!0}};eh&&(window.addEventListener("test",fg,fg),window.removeEventListener("test",fg,!0))}catch{}function Ux(t,e,n,i){if(i&&typeof i!="boolean"&&!cv){var r=i.once,a=i.capture,u=n;!cv&&r&&(u=n.__once||function c(h){this.removeEventListener(e,c,a),n.call(this,h)},n.__once=u),t.addEventListener(e,u,uv?i:a)}t.addEventListener(e,n,i)}function xU(t,e,n,i){var r=i&&typeof i!="boolean"?i.capture:i;t.removeEventListener(e,n,r),n.__once&&t.removeEventListener(e,n.__once,r)}function er(t,e,n,i){return Ux(t,e,n,i),function(){xU(t,e,n,i)}}function RU(t,e,n,i){if(i===void 0&&(i=!0),t){var r=document.createEvent("HTMLEvents");r.initEvent(e,n,i),t.dispatchEvent(r)}}function MU(t){var e=uo(t,"transitionDuration")||"",n=e.indexOf("ms")===-1?1e3:1;return parseFloat(e)*n}function NU(t,e,n){n===void 0&&(n=5);var i=!1,r=setTimeout(function(){i||RU(t,"transitionend",!0)},e+n),a=er(t,"transitionend",function(){i=!0},{once:!0});return function(){clearTimeout(r),a()}}function IU(t,e,n,i){n==null&&(n=MU(t)||0);var r=NU(t,n,i),a=er(t,"transitionend",e);return function(){r(),a()}}function pw(t,e){const n=uo(t,e)||"",i=n.indexOf("ms")===-1?1e3:1;return parseFloat(n)*i}function py(t,e){const n=pw(t,"transitionDuration"),i=pw(t,"transitionDelay"),r=IU(t,a=>{a.target===t&&(r(),e(a))},n+i)}function Ol(...t){return t.filter(e=>e!=null).reduce((e,n)=>{if(typeof n!="function")throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return e===null?n:function(...r){e.apply(this,r),n.apply(this,r)}},null)}function Bx(t){t.offsetHeight}const mw=t=>!t||typeof t=="function"?t:e=>{t.current=e};function DU(t,e){const n=mw(t),i=mw(e);return r=>{n&&n(r),i&&i(r)}}function my(t,e){return C.useMemo(()=>DU(t,e),[t,e])}function OU(t){return t&&"setState"in t?Br.findDOMNode(t):t??null}const th=et.forwardRef(({onEnter:t,onEntering:e,onEntered:n,onExit:i,onExiting:r,onExited:a,addEndListener:u,children:c,childRef:h,...d},m)=>{const y=C.useRef(null),S=my(y,h),b=U=>{S(OU(U))},T=U=>O=>{U&&y.current&&U(y.current,O)},A=C.useCallback(T(t),[t]),x=C.useCallback(T(e),[e]),M=C.useCallback(T(n),[n]),I=C.useCallback(T(i),[i]),N=C.useCallback(T(r),[r]),D=C.useCallback(T(a),[a]),L=C.useCallback(T(u),[u]);return E.jsx(yo,{ref:m,...d,onEnter:A,onEntered:M,onEntering:x,onExit:I,onExited:D,onExiting:N,addEndListener:L,nodeRef:y,children:typeof c=="function"?(U,O)=>c(U,{...O,ref:b}):et.cloneElement(c,{ref:b})})});th.displayName="TransitionWrapper";const PU={height:["marginTop","marginBottom"],width:["marginLeft","marginRight"]};function kU(t,e){const n=`offset${t[0].toUpperCase()}${t.slice(1)}`,i=e[n],r=PU[t];return i+parseInt(uo(e,r[0]),10)+parseInt(uo(e,r[1]),10)}const LU={[Wo]:"collapse",[su]:"collapsing",[Zn]:"collapsing",[so]:"collapse show"},Fx=et.forwardRef(({onEnter:t,onEntering:e,onEntered:n,onExit:i,onExiting:r,className:a,children:u,dimension:c="height",in:h=!1,timeout:d=300,mountOnEnter:m=!1,unmountOnExit:y=!1,appear:S=!1,getDimensionValue:b=kU,...T},A)=>{const x=typeof c=="function"?c():c,M=C.useMemo(()=>Ol(U=>{U.style[x]="0"},t),[x,t]),I=C.useMemo(()=>Ol(U=>{const O=`scroll${x[0].toUpperCase()}${x.slice(1)}`;U.style[x]=`${U[O]}px`},e),[x,e]),N=C.useMemo(()=>Ol(U=>{U.style[x]=null},n),[x,n]),D=C.useMemo(()=>Ol(U=>{U.style[x]=`${b(x,U)}px`,Bx(U)},i),[i,b,x]),L=C.useMemo(()=>Ol(U=>{U.style[x]=null},r),[x,r]);return E.jsx(th,{ref:A,addEndListener:py,...T,"aria-expanded":T.role?h:null,onEnter:M,onEntering:I,onEntered:N,onExit:D,onExiting:L,childRef:Aa(u),in:h,timeout:d,mountOnEnter:m,unmountOnExit:y,appear:S,children:(U,O)=>et.cloneElement(u,{...O,className:Ne(a,u.props.className,LU[U],x==="width"&&"collapse-horizontal")})})});Fx.displayName="Collapse";function UU(t){const e=C.useRef(t);return C.useEffect(()=>{e.current=t},[t]),e}function Du(t){const e=UU(t);return C.useCallback(function(...n){return e.current&&e.current(...n)},[e])}const gy=(t=>C.forwardRef((e,n)=>E.jsx("div",{...e,ref:n,className:Ne(e.className,t)})));function BU(){return C.useState(null)}function FU(t){const e=C.useRef(t);return C.useEffect(()=>{e.current=t},[t]),e}function Lt(t){const e=FU(t);return C.useCallback(function(...n){return e.current&&e.current(...n)},[e])}function $U(t,e,n,i=!1){const r=Lt(n);C.useEffect(()=>{const a=typeof t=="function"?t():t;return a.addEventListener(e,r,i),()=>a.removeEventListener(e,r,i)},[t])}function $x(){const t=C.useRef(!0),e=C.useRef(()=>t.current);return C.useEffect(()=>(t.current=!0,()=>{t.current=!1}),[]),e.current}function Hx(t){const e=C.useRef(null);return C.useEffect(()=>{e.current=t}),e.current}const HU=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",GU=typeof document<"u",gw=GU||HU?C.useLayoutEffect:C.useEffect,VU=["as","disabled"];function zU(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)>=0)continue;n[i]=t[i]}return n}function qU(t){return!t||t.trim()==="#"}function vy({tagName:t,disabled:e,href:n,target:i,rel:r,role:a,onClick:u,tabIndex:c=0,type:h}){t||(n!=null||i!=null||r!=null?t="a":t="button");const d={tagName:t};if(t==="button")return[{type:h||"button",disabled:e},d];const m=S=>{if((e||t==="a"&&qU(n))&&S.preventDefault(),e){S.stopPropagation();return}u?.(S)},y=S=>{S.key===" "&&(S.preventDefault(),m(S))};return t==="a"&&(n||(n="#"),e&&(n=void 0)),[{role:a??"button",disabled:void 0,tabIndex:e?void 0:c,href:n,target:t==="a"?i:void 0,"aria-disabled":e||void 0,rel:t==="a"?r:void 0,onClick:m,onKeyDown:y},d]}const yy=C.forwardRef((t,e)=>{let{as:n,disabled:i}=t,r=zU(t,VU);const[a,{tagName:u}]=vy(Object.assign({tagName:n,disabled:i},r));return E.jsx(u,Object.assign({},r,a,{ref:e}))});yy.displayName="Button";const JU=["onKeyDown"];function KU(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)>=0)continue;n[i]=t[i]}return n}function YU(t){return!t||t.trim()==="#"}const _y=C.forwardRef((t,e)=>{let{onKeyDown:n}=t,i=KU(t,JU);const[r]=vy(Object.assign({tagName:"a"},i)),a=Lt(u=>{r.onKeyDown(u),n?.(u)});return YU(i.href)||i.role==="button"?E.jsx("a",Object.assign({ref:e},i,r,{onKeyDown:a})):E.jsx("a",Object.assign({ref:e},i,{onKeyDown:n}))});_y.displayName="Anchor";const jU={[Zn]:"show",[so]:"show"},Gx=C.forwardRef(({className:t,children:e,transitionClasses:n={},onEnter:i,...r},a)=>{const u={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,...r},c=C.useCallback((h,d)=>{Bx(h),i?.(h,d)},[i]);return E.jsx(th,{ref:a,addEndListener:py,...u,onEnter:c,childRef:Aa(e),children:(h,d)=>C.cloneElement(e,{...d,className:Ne("fade",t,e.props.className,jU[h],n[h])})})});Gx.displayName="Fade";const XU={"aria-label":cg.string,onClick:cg.func,variant:cg.oneOf(["white"])},Sy=C.forwardRef(({className:t,variant:e,"aria-label":n="Close",...i},r)=>E.jsx("button",{ref:r,type:"button",className:Ne("btn-close",e&&`btn-close-${e}`,t),"aria-label":n,...i}));Sy.displayName="CloseButton";Sy.propTypes=XU;const Vx=C.forwardRef(({as:t,bsPrefix:e,variant:n="primary",size:i,active:r=!1,disabled:a=!1,className:u,...c},h)=>{const d=Ue(e,"btn"),[m,{tagName:y}]=vy({tagName:t,disabled:a,...c}),S=y;return E.jsx(S,{...m,...c,ref:h,disabled:a,className:Ne(u,d,r&&"active",n&&`${d}-${n}`,i&&`${d}-${i}`,c.href&&a&&"disabled")})});Vx.displayName="Button";const by=C.forwardRef(({className:t,bsPrefix:e,as:n="div",...i},r)=>(e=Ue(e,"card-body"),E.jsx(n,{ref:r,className:Ne(t,e),...i})));by.displayName="CardBody";const zx=C.forwardRef(({className:t,bsPrefix:e,as:n="div",...i},r)=>(e=Ue(e,"card-footer"),E.jsx(n,{ref:r,className:Ne(t,e),...i})));zx.displayName="CardFooter";const Ey=C.createContext(null);Ey.displayName="CardHeaderContext";const qx=C.forwardRef(({bsPrefix:t,className:e,as:n="div",...i},r)=>{const a=Ue(t,"card-header"),u=C.useMemo(()=>({cardHeaderBsPrefix:a}),[a]);return E.jsx(Ey.Provider,{value:u,children:E.jsx(n,{ref:r,...i,className:Ne(e,a)})})});qx.displayName="CardHeader";const Jx=C.forwardRef(({bsPrefix:t,className:e,variant:n,as:i="img",...r},a)=>{const u=Ue(t,"card-img");return E.jsx(i,{ref:a,className:Ne(n?`${u}-${n}`:u,e),...r})});Jx.displayName="CardImg";const Kx=C.forwardRef(({className:t,bsPrefix:e,as:n="div",...i},r)=>(e=Ue(e,"card-img-overlay"),E.jsx(n,{ref:r,className:Ne(t,e),...i})));Kx.displayName="CardImgOverlay";const Yx=C.forwardRef(({className:t,bsPrefix:e,as:n="a",...i},r)=>(e=Ue(e,"card-link"),E.jsx(n,{ref:r,className:Ne(t,e),...i})));Yx.displayName="CardLink";const WU=gy("h6"),jx=C.forwardRef(({className:t,bsPrefix:e,as:n=WU,...i},r)=>(e=Ue(e,"card-subtitle"),E.jsx(n,{ref:r,className:Ne(t,e),...i})));jx.displayName="CardSubtitle";const Xx=C.forwardRef(({className:t,bsPrefix:e,as:n="p",...i},r)=>(e=Ue(e,"card-text"),E.jsx(n,{ref:r,className:Ne(t,e),...i})));Xx.displayName="CardText";const QU=gy("h5"),Wx=C.forwardRef(({className:t,bsPrefix:e,as:n=QU,...i},r)=>(e=Ue(e,"card-title"),E.jsx(n,{ref:r,className:Ne(t,e),...i})));Wx.displayName="CardTitle";const Qx=C.forwardRef(({bsPrefix:t,className:e,bg:n,text:i,border:r,body:a=!1,children:u,as:c="div",...h},d)=>{const m=Ue(t,"card");return E.jsx(c,{ref:d,...h,className:Ne(e,m,n&&`bg-${n}`,i&&`text-${i}`,r&&`border-${r}`),children:a?E.jsx(by,{children:u}):u})});Qx.displayName="Card";const bf=Object.assign(Qx,{Img:Jx,Title:Wx,Subtitle:jx,Body:by,Link:Yx,Text:Xx,Header:qx,Footer:zx,ImgOverlay:Kx});function ZU({as:t,bsPrefix:e,className:n,...i}){e=Ue(e,"col");const r=Px(),a=kx(),u=[],c=[];return r.forEach(h=>{const d=i[h];delete i[h];let m,y,S;typeof d=="object"&&d!=null?{span:m,offset:y,order:S}=d:m=d;const b=h!==a?`-${h}`:"";m&&u.push(m===!0?`${e}${b}`:`${e}${b}-${m}`),S!=null&&c.push(`order${b}-${S}`),y!=null&&c.push(`offset${b}-${y}`)}),[{...i,className:Ne(n,...u,...c)},{as:t,bsPrefix:e,spans:u}]}const Zx=C.forwardRef((t,e)=>{const[{className:n,...i},{as:r="div",bsPrefix:a,spans:u}]=ZU(t);return E.jsx(r,{...i,ref:e,className:Ne(n,!u.length&&a)})});Zx.displayName="Col";const eR=C.forwardRef(({bsPrefix:t,fluid:e=!1,as:n="div",className:i,...r},a)=>{const u=Ue(t,"container"),c=typeof e=="string"?`-${e}`:"-fluid";return E.jsx(n,{ref:a,...r,className:Ne(i,e?`${u}${c}`:u)})});eR.displayName="Container";var eB=Function.prototype.bind.call(Function.prototype.call,[].slice);function io(t,e){return eB(t.querySelectorAll(e))}function tB(t,e,n){const i=C.useRef(t!==void 0),[r,a]=C.useState(e),u=t!==void 0,c=i.current;return i.current=u,!u&&c&&r!==e&&a(e),[u?t:r,C.useCallback((...h)=>{const[d,...m]=h;let y=n?.(d,...m);return a(d),y},[n])]}function tR(){const[,t]=C.useReducer(e=>e+1,0);return t}const nh=C.createContext(null);var vw=Object.prototype.hasOwnProperty;function yw(t,e,n){for(n of t.keys())if(Ql(n,e))return n}function Ql(t,e){var n,i,r;if(t===e)return!0;if(t&&e&&(n=t.constructor)===e.constructor){if(n===Date)return t.getTime()===e.getTime();if(n===RegExp)return t.toString()===e.toString();if(n===Array){if((i=t.length)===e.length)for(;i--&&Ql(t[i],e[i]););return i===-1}if(n===Set){if(t.size!==e.size)return!1;for(i of t)if(r=i,r&&typeof r=="object"&&(r=yw(e,r),!r)||!e.has(r))return!1;return!0}if(n===Map){if(t.size!==e.size)return!1;for(i of t)if(r=i[0],r&&typeof r=="object"&&(r=yw(e,r),!r)||!Ql(i[1],e.get(r)))return!1;return!0}if(n===ArrayBuffer)t=new Uint8Array(t),e=new Uint8Array(e);else if(n===DataView){if((i=t.byteLength)===e.byteLength)for(;i--&&t.getInt8(i)===e.getInt8(i););return i===-1}if(ArrayBuffer.isView(t)){if((i=t.byteLength)===e.byteLength)for(;i--&&t[i]===e[i];);return i===-1}if(!n||typeof t=="object"){i=0;for(n in t)if(vw.call(t,n)&&++i&&!vw.call(e,n)||!(n in e)||!Ql(t[n],e[n]))return!1;return Object.keys(e).length===i}}return t!==t&&e!==e}function nB(t){const e=$x();return[t[0],C.useCallback(n=>{if(e())return t[1](n)},[e,t[1]])]}var tn="top",zn="bottom",qn="right",nn="left",wy="auto",Ou=[tn,zn,qn,nn],ya="start",au="end",iB="clippingParents",nR="viewport",Pl="popper",oB="reference",_w=Ou.reduce(function(t,e){return t.concat([e+"-"+ya,e+"-"+au])},[]),iR=[].concat(Ou,[wy]).reduce(function(t,e){return t.concat([e,e+"-"+ya,e+"-"+au])},[]),rB="beforeRead",sB="read",aB="afterRead",lB="beforeMain",uB="main",cB="afterMain",fB="beforeWrite",dB="write",hB="afterWrite",pB=[rB,sB,aB,lB,uB,cB,fB,dB,hB];function xi(t){return t.split("-")[0]}function En(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function Yr(t){var e=En(t).Element;return t instanceof e||t instanceof Element}function Ri(t){var e=En(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function Cy(t){if(typeof ShadowRoot>"u")return!1;var e=En(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}var Hr=Math.max,Sd=Math.min,_a=Math.round;function fv(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function oR(){return!/^((?!chrome|android).)*safari/i.test(fv())}function Sa(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!1);var i=t.getBoundingClientRect(),r=1,a=1;e&&Ri(t)&&(r=t.offsetWidth>0&&_a(i.width)/t.offsetWidth||1,a=t.offsetHeight>0&&_a(i.height)/t.offsetHeight||1);var u=Yr(t)?En(t):window,c=u.visualViewport,h=!oR()&&n,d=(i.left+(h&&c?c.offsetLeft:0))/r,m=(i.top+(h&&c?c.offsetTop:0))/a,y=i.width/r,S=i.height/a;return{width:y,height:S,top:m,right:d+y,bottom:m+S,left:d,x:d,y:m}}function Ty(t){var e=Sa(t),n=t.offsetWidth,i=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-i)<=1&&(i=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:i}}function rR(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&Cy(n)){var i=e;do{if(i&&t.isSameNode(i))return!0;i=i.parentNode||i.host}while(i)}return!1}function or(t){return t?(t.nodeName||"").toLowerCase():null}function po(t){return En(t).getComputedStyle(t)}function mB(t){return["table","td","th"].indexOf(or(t))>=0}function dr(t){return((Yr(t)?t.ownerDocument:t.document)||window.document).documentElement}function ih(t){return or(t)==="html"?t:t.assignedSlot||t.parentNode||(Cy(t)?t.host:null)||dr(t)}function Sw(t){return!Ri(t)||po(t).position==="fixed"?null:t.offsetParent}function gB(t){var e=/firefox/i.test(fv()),n=/Trident/i.test(fv());if(n&&Ri(t)){var i=po(t);if(i.position==="fixed")return null}var r=ih(t);for(Cy(r)&&(r=r.host);Ri(r)&&["html","body"].indexOf(or(r))<0;){var a=po(r);if(a.transform!=="none"||a.perspective!=="none"||a.contain==="paint"||["transform","perspective"].indexOf(a.willChange)!==-1||e&&a.willChange==="filter"||e&&a.filter&&a.filter!=="none")return r;r=r.parentNode}return null}function Pu(t){for(var e=En(t),n=Sw(t);n&&mB(n)&&po(n).position==="static";)n=Sw(n);return n&&(or(n)==="html"||or(n)==="body"&&po(n).position==="static")?e:n||gB(t)||e}function Ay(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function Zl(t,e,n){return Hr(t,Sd(e,n))}function vB(t,e,n){var i=Zl(t,e,n);return i>n?n:i}function sR(){return{top:0,right:0,bottom:0,left:0}}function aR(t){return Object.assign({},sR(),t)}function lR(t,e){return e.reduce(function(n,i){return n[i]=t,n},{})}var yB=function(e,n){return e=typeof e=="function"?e(Object.assign({},n.rects,{placement:n.placement})):e,aR(typeof e!="number"?e:lR(e,Ou))};function _B(t){var e,n=t.state,i=t.name,r=t.options,a=n.elements.arrow,u=n.modifiersData.popperOffsets,c=xi(n.placement),h=Ay(c),d=[nn,qn].indexOf(c)>=0,m=d?"height":"width";if(!(!a||!u)){var y=yB(r.padding,n),S=Ty(a),b=h==="y"?tn:nn,T=h==="y"?zn:qn,A=n.rects.reference[m]+n.rects.reference[h]-u[h]-n.rects.popper[m],x=u[h]-n.rects.reference[h],M=Pu(a),I=M?h==="y"?M.clientHeight||0:M.clientWidth||0:0,N=A/2-x/2,D=y[b],L=I-S[m]-y[T],U=I/2-S[m]/2+N,O=Zl(D,U,L),q=h;n.modifiersData[i]=(e={},e[q]=O,e.centerOffset=O-U,e)}}function SB(t){var e=t.state,n=t.options,i=n.element,r=i===void 0?"[data-popper-arrow]":i;r!=null&&(typeof r=="string"&&(r=e.elements.popper.querySelector(r),!r)||rR(e.elements.popper,r)&&(e.elements.arrow=r))}const bB={name:"arrow",enabled:!0,phase:"main",fn:_B,effect:SB,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function ba(t){return t.split("-")[1]}var EB={top:"auto",right:"auto",bottom:"auto",left:"auto"};function wB(t,e){var n=t.x,i=t.y,r=e.devicePixelRatio||1;return{x:_a(n*r)/r||0,y:_a(i*r)/r||0}}function bw(t){var e,n=t.popper,i=t.popperRect,r=t.placement,a=t.variation,u=t.offsets,c=t.position,h=t.gpuAcceleration,d=t.adaptive,m=t.roundOffsets,y=t.isFixed,S=u.x,b=S===void 0?0:S,T=u.y,A=T===void 0?0:T,x=typeof m=="function"?m({x:b,y:A}):{x:b,y:A};b=x.x,A=x.y;var M=u.hasOwnProperty("x"),I=u.hasOwnProperty("y"),N=nn,D=tn,L=window;if(d){var U=Pu(n),O="clientHeight",q="clientWidth";if(U===En(n)&&(U=dr(n),po(U).position!=="static"&&c==="absolute"&&(O="scrollHeight",q="scrollWidth")),U=U,r===tn||(r===nn||r===qn)&&a===au){D=zn;var J=y&&U===L&&L.visualViewport?L.visualViewport.height:U[O];A-=J-i.height,A*=h?1:-1}if(r===nn||(r===tn||r===zn)&&a===au){N=qn;var j=y&&U===L&&L.visualViewport?L.visualViewport.width:U[q];b-=j-i.width,b*=h?1:-1}}var W=Object.assign({position:c},d&&EB),re=m===!0?wB({x:b,y:A},En(n)):{x:b,y:A};if(b=re.x,A=re.y,h){var ie;return Object.assign({},W,(ie={},ie[D]=I?"0":"",ie[N]=M?"0":"",ie.transform=(L.devicePixelRatio||1)<=1?"translate("+b+"px, "+A+"px)":"translate3d("+b+"px, "+A+"px, 0)",ie))}return Object.assign({},W,(e={},e[D]=I?A+"px":"",e[N]=M?b+"px":"",e.transform="",e))}function CB(t){var e=t.state,n=t.options,i=n.gpuAcceleration,r=i===void 0?!0:i,a=n.adaptive,u=a===void 0?!0:a,c=n.roundOffsets,h=c===void 0?!0:c,d={placement:xi(e.placement),variation:ba(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:r,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,bw(Object.assign({},d,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:u,roundOffsets:h})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,bw(Object.assign({},d,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:h})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const TB={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:CB,data:{}};var Ef={passive:!0};function AB(t){var e=t.state,n=t.instance,i=t.options,r=i.scroll,a=r===void 0?!0:r,u=i.resize,c=u===void 0?!0:u,h=En(e.elements.popper),d=[].concat(e.scrollParents.reference,e.scrollParents.popper);return a&&d.forEach(function(m){m.addEventListener("scroll",n.update,Ef)}),c&&h.addEventListener("resize",n.update,Ef),function(){a&&d.forEach(function(m){m.removeEventListener("scroll",n.update,Ef)}),c&&h.removeEventListener("resize",n.update,Ef)}}const xB={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:AB,data:{}};var RB={left:"right",right:"left",bottom:"top",top:"bottom"};function jf(t){return t.replace(/left|right|bottom|top/g,function(e){return RB[e]})}var MB={start:"end",end:"start"};function Ew(t){return t.replace(/start|end/g,function(e){return MB[e]})}function xy(t){var e=En(t),n=e.pageXOffset,i=e.pageYOffset;return{scrollLeft:n,scrollTop:i}}function Ry(t){return Sa(dr(t)).left+xy(t).scrollLeft}function NB(t,e){var n=En(t),i=dr(t),r=n.visualViewport,a=i.clientWidth,u=i.clientHeight,c=0,h=0;if(r){a=r.width,u=r.height;var d=oR();(d||!d&&e==="fixed")&&(c=r.offsetLeft,h=r.offsetTop)}return{width:a,height:u,x:c+Ry(t),y:h}}function IB(t){var e,n=dr(t),i=xy(t),r=(e=t.ownerDocument)==null?void 0:e.body,a=Hr(n.scrollWidth,n.clientWidth,r?r.scrollWidth:0,r?r.clientWidth:0),u=Hr(n.scrollHeight,n.clientHeight,r?r.scrollHeight:0,r?r.clientHeight:0),c=-i.scrollLeft+Ry(t),h=-i.scrollTop;return po(r||n).direction==="rtl"&&(c+=Hr(n.clientWidth,r?r.clientWidth:0)-a),{width:a,height:u,x:c,y:h}}function My(t){var e=po(t),n=e.overflow,i=e.overflowX,r=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+r+i)}function uR(t){return["html","body","#document"].indexOf(or(t))>=0?t.ownerDocument.body:Ri(t)&&My(t)?t:uR(ih(t))}function eu(t,e){var n;e===void 0&&(e=[]);var i=uR(t),r=i===((n=t.ownerDocument)==null?void 0:n.body),a=En(i),u=r?[a].concat(a.visualViewport||[],My(i)?i:[]):i,c=e.concat(u);return r?c:c.concat(eu(ih(u)))}function dv(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function DB(t,e){var n=Sa(t,!1,e==="fixed");return n.top=n.top+t.clientTop,n.left=n.left+t.clientLeft,n.bottom=n.top+t.clientHeight,n.right=n.left+t.clientWidth,n.width=t.clientWidth,n.height=t.clientHeight,n.x=n.left,n.y=n.top,n}function ww(t,e,n){return e===nR?dv(NB(t,n)):Yr(e)?DB(e,n):dv(IB(dr(t)))}function OB(t){var e=eu(ih(t)),n=["absolute","fixed"].indexOf(po(t).position)>=0,i=n&&Ri(t)?Pu(t):t;return Yr(i)?e.filter(function(r){return Yr(r)&&rR(r,i)&&or(r)!=="body"}):[]}function PB(t,e,n,i){var r=e==="clippingParents"?OB(t):[].concat(e),a=[].concat(r,[n]),u=a[0],c=a.reduce(function(h,d){var m=ww(t,d,i);return h.top=Hr(m.top,h.top),h.right=Sd(m.right,h.right),h.bottom=Sd(m.bottom,h.bottom),h.left=Hr(m.left,h.left),h},ww(t,u,i));return c.width=c.right-c.left,c.height=c.bottom-c.top,c.x=c.left,c.y=c.top,c}function cR(t){var e=t.reference,n=t.element,i=t.placement,r=i?xi(i):null,a=i?ba(i):null,u=e.x+e.width/2-n.width/2,c=e.y+e.height/2-n.height/2,h;switch(r){case tn:h={x:u,y:e.y-n.height};break;case zn:h={x:u,y:e.y+e.height};break;case qn:h={x:e.x+e.width,y:c};break;case nn:h={x:e.x-n.width,y:c};break;default:h={x:e.x,y:e.y}}var d=r?Ay(r):null;if(d!=null){var m=d==="y"?"height":"width";switch(a){case ya:h[d]=h[d]-(e[m]/2-n[m]/2);break;case au:h[d]=h[d]+(e[m]/2-n[m]/2);break}}return h}function lu(t,e){e===void 0&&(e={});var n=e,i=n.placement,r=i===void 0?t.placement:i,a=n.strategy,u=a===void 0?t.strategy:a,c=n.boundary,h=c===void 0?iB:c,d=n.rootBoundary,m=d===void 0?nR:d,y=n.elementContext,S=y===void 0?Pl:y,b=n.altBoundary,T=b===void 0?!1:b,A=n.padding,x=A===void 0?0:A,M=aR(typeof x!="number"?x:lR(x,Ou)),I=S===Pl?oB:Pl,N=t.rects.popper,D=t.elements[T?I:S],L=PB(Yr(D)?D:D.contextElement||dr(t.elements.popper),h,m,u),U=Sa(t.elements.reference),O=cR({reference:U,element:N,placement:r}),q=dv(Object.assign({},N,O)),J=S===Pl?q:U,j={top:L.top-J.top+M.top,bottom:J.bottom-L.bottom+M.bottom,left:L.left-J.left+M.left,right:J.right-L.right+M.right},W=t.modifiersData.offset;if(S===Pl&&W){var re=W[r];Object.keys(j).forEach(function(ie){var ae=[qn,zn].indexOf(ie)>=0?1:-1,de=[tn,zn].indexOf(ie)>=0?"y":"x";j[ie]+=re[de]*ae})}return j}function kB(t,e){e===void 0&&(e={});var n=e,i=n.placement,r=n.boundary,a=n.rootBoundary,u=n.padding,c=n.flipVariations,h=n.allowedAutoPlacements,d=h===void 0?iR:h,m=ba(i),y=m?c?_w:_w.filter(function(T){return ba(T)===m}):Ou,S=y.filter(function(T){return d.indexOf(T)>=0});S.length===0&&(S=y);var b=S.reduce(function(T,A){return T[A]=lu(t,{placement:A,boundary:r,rootBoundary:a,padding:u})[xi(A)],T},{});return Object.keys(b).sort(function(T,A){return b[T]-b[A]})}function LB(t){if(xi(t)===wy)return[];var e=jf(t);return[Ew(t),e,Ew(e)]}function UB(t){var e=t.state,n=t.options,i=t.name;if(!e.modifiersData[i]._skip){for(var r=n.mainAxis,a=r===void 0?!0:r,u=n.altAxis,c=u===void 0?!0:u,h=n.fallbackPlacements,d=n.padding,m=n.boundary,y=n.rootBoundary,S=n.altBoundary,b=n.flipVariations,T=b===void 0?!0:b,A=n.allowedAutoPlacements,x=e.options.placement,M=xi(x),I=M===x,N=h||(I||!T?[jf(x)]:LB(x)),D=[x].concat(N).reduce(function(le,me){return le.concat(xi(me)===wy?kB(e,{placement:me,boundary:m,rootBoundary:y,padding:d,flipVariations:T,allowedAutoPlacements:A}):me)},[]),L=e.rects.reference,U=e.rects.popper,O=new Map,q=!0,J=D[0],j=0;j<D.length;j++){var W=D[j],re=xi(W),ie=ba(W)===ya,ae=[tn,zn].indexOf(re)>=0,de=ae?"width":"height",F=lu(e,{placement:W,boundary:m,rootBoundary:y,altBoundary:S,padding:d}),Q=ae?ie?qn:nn:ie?zn:tn;L[de]>U[de]&&(Q=jf(Q));var ee=jf(Q),ne=[];if(a&&ne.push(F[re]<=0),c&&ne.push(F[Q]<=0,F[ee]<=0),ne.every(function(le){return le})){J=W,q=!1;break}O.set(W,ne)}if(q)for(var ce=T?3:1,k=function(me){var be=D.find(function(ve){var ze=O.get(ve);if(ze)return ze.slice(0,me).every(function(qe){return qe})});if(be)return J=be,"break"},Y=ce;Y>0;Y--){var se=k(Y);if(se==="break")break}e.placement!==J&&(e.modifiersData[i]._skip=!0,e.placement=J,e.reset=!0)}}const BB={name:"flip",enabled:!0,phase:"main",fn:UB,requiresIfExists:["offset"],data:{_skip:!1}};function Cw(t,e,n){return n===void 0&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function Tw(t){return[tn,qn,zn,nn].some(function(e){return t[e]>=0})}function FB(t){var e=t.state,n=t.name,i=e.rects.reference,r=e.rects.popper,a=e.modifiersData.preventOverflow,u=lu(e,{elementContext:"reference"}),c=lu(e,{altBoundary:!0}),h=Cw(u,i),d=Cw(c,r,a),m=Tw(h),y=Tw(d);e.modifiersData[n]={referenceClippingOffsets:h,popperEscapeOffsets:d,isReferenceHidden:m,hasPopperEscaped:y},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":m,"data-popper-escaped":y})}const $B={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:FB};function HB(t,e,n){var i=xi(t),r=[nn,tn].indexOf(i)>=0?-1:1,a=typeof n=="function"?n(Object.assign({},e,{placement:t})):n,u=a[0],c=a[1];return u=u||0,c=(c||0)*r,[nn,qn].indexOf(i)>=0?{x:c,y:u}:{x:u,y:c}}function GB(t){var e=t.state,n=t.options,i=t.name,r=n.offset,a=r===void 0?[0,0]:r,u=iR.reduce(function(m,y){return m[y]=HB(y,e.rects,a),m},{}),c=u[e.placement],h=c.x,d=c.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=h,e.modifiersData.popperOffsets.y+=d),e.modifiersData[i]=u}const VB={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:GB};function zB(t){var e=t.state,n=t.name;e.modifiersData[n]=cR({reference:e.rects.reference,element:e.rects.popper,placement:e.placement})}const qB={name:"popperOffsets",enabled:!0,phase:"read",fn:zB,data:{}};function JB(t){return t==="x"?"y":"x"}function KB(t){var e=t.state,n=t.options,i=t.name,r=n.mainAxis,a=r===void 0?!0:r,u=n.altAxis,c=u===void 0?!1:u,h=n.boundary,d=n.rootBoundary,m=n.altBoundary,y=n.padding,S=n.tether,b=S===void 0?!0:S,T=n.tetherOffset,A=T===void 0?0:T,x=lu(e,{boundary:h,rootBoundary:d,padding:y,altBoundary:m}),M=xi(e.placement),I=ba(e.placement),N=!I,D=Ay(M),L=JB(D),U=e.modifiersData.popperOffsets,O=e.rects.reference,q=e.rects.popper,J=typeof A=="function"?A(Object.assign({},e.rects,{placement:e.placement})):A,j=typeof J=="number"?{mainAxis:J,altAxis:J}:Object.assign({mainAxis:0,altAxis:0},J),W=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,re={x:0,y:0};if(U){if(a){var ie,ae=D==="y"?tn:nn,de=D==="y"?zn:qn,F=D==="y"?"height":"width",Q=U[D],ee=Q+x[ae],ne=Q-x[de],ce=b?-q[F]/2:0,k=I===ya?O[F]:q[F],Y=I===ya?-q[F]:-O[F],se=e.elements.arrow,le=b&&se?Ty(se):{width:0,height:0},me=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:sR(),be=me[ae],ve=me[de],ze=Zl(0,O[F],le[F]),qe=N?O[F]/2-ce-ze-be-j.mainAxis:k-ze-be-j.mainAxis,rn=N?-O[F]/2+ce+ze+ve+j.mainAxis:Y+ze+ve+j.mainAxis,Cn=e.elements.arrow&&Pu(e.elements.arrow),di=Cn?D==="y"?Cn.clientTop||0:Cn.clientLeft||0:0,qt=(ie=W?.[D])!=null?ie:0,Jt=Q+qe-qt-di,Qe=Q+rn-qt,Li=Zl(b?Sd(ee,Jt):ee,Q,b?Hr(ne,Qe):ne);U[D]=Li,re[D]=Li-Q}if(c){var bo,ju=D==="x"?tn:nn,La=D==="x"?zn:qn,Yn=U[L],Eo=L==="y"?"height":"width",Xu=Yn+x[ju],Wu=Yn-x[La],At=[tn,nn].indexOf(M)!==-1,Qu=(bo=W?.[L])!=null?bo:0,Ua=At?Xu:Yn-O[Eo]-q[Eo]-Qu+j.altAxis,Ba=At?Yn+O[Eo]+q[Eo]-Qu-j.altAxis:Wu,mr=b&&At?vB(Ua,Yn,Ba):Zl(b?Ua:Xu,Yn,b?Ba:Wu);U[L]=mr,re[L]=mr-Yn}e.modifiersData[i]=re}}const YB={name:"preventOverflow",enabled:!0,phase:"main",fn:KB,requiresIfExists:["offset"]};function jB(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function XB(t){return t===En(t)||!Ri(t)?xy(t):jB(t)}function WB(t){var e=t.getBoundingClientRect(),n=_a(e.width)/t.offsetWidth||1,i=_a(e.height)/t.offsetHeight||1;return n!==1||i!==1}function QB(t,e,n){n===void 0&&(n=!1);var i=Ri(e),r=Ri(e)&&WB(e),a=dr(e),u=Sa(t,r,n),c={scrollLeft:0,scrollTop:0},h={x:0,y:0};return(i||!i&&!n)&&((or(e)!=="body"||My(a))&&(c=XB(e)),Ri(e)?(h=Sa(e,!0),h.x+=e.clientLeft,h.y+=e.clientTop):a&&(h.x=Ry(a))),{x:u.left+c.scrollLeft-h.x,y:u.top+c.scrollTop-h.y,width:u.width,height:u.height}}function ZB(t){var e=new Map,n=new Set,i=[];t.forEach(function(a){e.set(a.name,a)});function r(a){n.add(a.name);var u=[].concat(a.requires||[],a.requiresIfExists||[]);u.forEach(function(c){if(!n.has(c)){var h=e.get(c);h&&r(h)}}),i.push(a)}return t.forEach(function(a){n.has(a.name)||r(a)}),i}function e2(t){var e=ZB(t);return pB.reduce(function(n,i){return n.concat(e.filter(function(r){return r.phase===i}))},[])}function t2(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}function n2(t){var e=t.reduce(function(n,i){var r=n[i.name];return n[i.name]=r?Object.assign({},r,i,{options:Object.assign({},r.options,i.options),data:Object.assign({},r.data,i.data)}):i,n},{});return Object.keys(e).map(function(n){return e[n]})}var Aw={placement:"bottom",modifiers:[],strategy:"absolute"};function xw(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(i){return!(i&&typeof i.getBoundingClientRect=="function")})}function i2(t){t===void 0&&(t={});var e=t,n=e.defaultModifiers,i=n===void 0?[]:n,r=e.defaultOptions,a=r===void 0?Aw:r;return function(c,h,d){d===void 0&&(d=a);var m={placement:"bottom",orderedModifiers:[],options:Object.assign({},Aw,a),modifiersData:{},elements:{reference:c,popper:h},attributes:{},styles:{}},y=[],S=!1,b={state:m,setOptions:function(M){var I=typeof M=="function"?M(m.options):M;A(),m.options=Object.assign({},a,m.options,I),m.scrollParents={reference:Yr(c)?eu(c):c.contextElement?eu(c.contextElement):[],popper:eu(h)};var N=e2(n2([].concat(i,m.options.modifiers)));return m.orderedModifiers=N.filter(function(D){return D.enabled}),T(),b.update()},forceUpdate:function(){if(!S){var M=m.elements,I=M.reference,N=M.popper;if(xw(I,N)){m.rects={reference:QB(I,Pu(N),m.options.strategy==="fixed"),popper:Ty(N)},m.reset=!1,m.placement=m.options.placement,m.orderedModifiers.forEach(function(j){return m.modifiersData[j.name]=Object.assign({},j.data)});for(var D=0;D<m.orderedModifiers.length;D++){if(m.reset===!0){m.reset=!1,D=-1;continue}var L=m.orderedModifiers[D],U=L.fn,O=L.options,q=O===void 0?{}:O,J=L.name;typeof U=="function"&&(m=U({state:m,options:q,name:J,instance:b})||m)}}}},update:t2(function(){return new Promise(function(x){b.forceUpdate(),x(m)})}),destroy:function(){A(),S=!0}};if(!xw(c,h))return b;b.setOptions(d).then(function(x){!S&&d.onFirstUpdate&&d.onFirstUpdate(x)});function T(){m.orderedModifiers.forEach(function(x){var M=x.name,I=x.options,N=I===void 0?{}:I,D=x.effect;if(typeof D=="function"){var L=D({state:m,name:M,instance:b,options:N}),U=function(){};y.push(L||U)}})}function A(){y.forEach(function(x){return x()}),y=[]}return b}}const o2=i2({defaultModifiers:[$B,qB,TB,xB,VB,BB,YB,bB]}),r2=["enabled","placement","strategy","modifiers"];function s2(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)>=0)continue;n[i]=t[i]}return n}const a2={name:"applyStyles",enabled:!1,phase:"afterWrite",fn:()=>{}},l2={name:"ariaDescribedBy",enabled:!0,phase:"afterWrite",effect:({state:t})=>()=>{const{reference:e,popper:n}=t.elements;if("removeAttribute"in e){const i=(e.getAttribute("aria-describedby")||"").split(",").filter(r=>r.trim()!==n.id);i.length?e.setAttribute("aria-describedby",i.join(",")):e.removeAttribute("aria-describedby")}},fn:({state:t})=>{var e;const{popper:n,reference:i}=t.elements,r=(e=n.getAttribute("role"))==null?void 0:e.toLowerCase();if(n.id&&r==="tooltip"&&"setAttribute"in i){const a=i.getAttribute("aria-describedby");if(a&&a.split(",").indexOf(n.id)!==-1)return;i.setAttribute("aria-describedby",a?`${a},${n.id}`:n.id)}}},u2=[];function c2(t,e,n={}){let{enabled:i=!0,placement:r="bottom",strategy:a="absolute",modifiers:u=u2}=n,c=s2(n,r2);const h=C.useRef(u),d=C.useRef(),m=C.useCallback(()=>{var x;(x=d.current)==null||x.update()},[]),y=C.useCallback(()=>{var x;(x=d.current)==null||x.forceUpdate()},[]),[S,b]=nB(C.useState({placement:r,update:m,forceUpdate:y,attributes:{},styles:{popper:{},arrow:{}}})),T=C.useMemo(()=>({name:"updateStateModifier",enabled:!0,phase:"write",requires:["computeStyles"],fn:({state:x})=>{const M={},I={};Object.keys(x.elements).forEach(N=>{M[N]=x.styles[N],I[N]=x.attributes[N]}),b({state:x,styles:M,attributes:I,update:m,forceUpdate:y,placement:x.placement})}}),[m,y,b]),A=C.useMemo(()=>(Ql(h.current,u)||(h.current=u),h.current),[u]);return C.useEffect(()=>{!d.current||!i||d.current.setOptions({placement:r,strategy:a,modifiers:[...A,T,a2]})},[a,r,T,i,A]),C.useEffect(()=>{if(!(!i||t==null||e==null))return d.current=o2(t,e,Object.assign({},c,{placement:r,strategy:a,modifiers:[...A,l2,T]})),()=>{d.current!=null&&(d.current.destroy(),d.current=void 0,b(x=>Object.assign({},x,{attributes:{},styles:{popper:{}}})))}},[i,t,e]),S}function bd(t,e){if(t.contains)return t.contains(e);if(t.compareDocumentPosition)return t===e||!!(t.compareDocumentPosition(e)&16)}var dg,Rw;function f2(){if(Rw)return dg;Rw=1;var t=function(){};return dg=t,dg}var d2=f2();const h2=Su(d2),Mw=()=>{};function p2(t){return t.button===0}function m2(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}const hg=t=>t&&("current"in t?t.current:t),Nw={click:"mousedown",mouseup:"mousedown",pointerup:"pointerdown"};function g2(t,e=Mw,{disabled:n,clickTrigger:i="click"}={}){const r=C.useRef(!1),a=C.useRef(!1),u=C.useCallback(d=>{const m=hg(t);h2(!!m,"ClickOutside captured a close event but does not have a ref to compare it to. useClickOutside(), should be passed a ref that resolves to a DOM node"),r.current=!m||m2(d)||!p2(d)||!!bd(m,d.target)||a.current,a.current=!1},[t]),c=Lt(d=>{const m=hg(t);m&&bd(m,d.target)?a.current=!0:a.current=!1}),h=Lt(d=>{r.current||e(d)});C.useEffect(()=>{var d,m;if(n||t==null)return;const y=Zd(hg(t)),S=y.defaultView||window;let b=(d=S.event)!=null?d:(m=S.parent)==null?void 0:m.event,T=null;Nw[i]&&(T=er(y,Nw[i],c,!0));const A=er(y,i,u,!0),x=er(y,i,I=>{if(I===b){b=void 0;return}h(I)});let M=[];return"ontouchstart"in y.documentElement&&(M=[].slice.call(y.body.children).map(I=>er(I,"mousemove",Mw))),()=>{T?.(),A(),x(),M.forEach(I=>I())}},[t,n,i,u,c,h])}function v2(t){const e={};return Array.isArray(t)?(t?.forEach(n=>{e[n.name]=n}),e):t||e}function y2(t={}){return Array.isArray(t)?t:Object.keys(t).map(e=>(t[e].name=e,t[e]))}function _2({enabled:t,enableEvents:e,placement:n,flip:i,offset:r,fixed:a,containerPadding:u,arrowElement:c,popperConfig:h={}}){var d,m,y,S,b;const T=v2(h.modifiers);return Object.assign({},h,{placement:n,enabled:t,strategy:a?"fixed":h.strategy,modifiers:y2(Object.assign({},T,{eventListeners:{enabled:e,options:(d=T.eventListeners)==null?void 0:d.options},preventOverflow:Object.assign({},T.preventOverflow,{options:u?Object.assign({padding:u},(m=T.preventOverflow)==null?void 0:m.options):(y=T.preventOverflow)==null?void 0:y.options}),offset:{options:Object.assign({offset:r},(S=T.offset)==null?void 0:S.options)},arrow:Object.assign({},T.arrow,{enabled:!!c,options:Object.assign({},(b=T.arrow)==null?void 0:b.options,{element:c})}),flip:Object.assign({enabled:!!i},T.flip)}))})}const S2=["children","usePopper"];function b2(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)>=0)continue;n[i]=t[i]}return n}const E2=()=>{};function fR(t={}){const e=C.useContext(nh),[n,i]=BU(),r=C.useRef(!1),{flip:a,offset:u,rootCloseEvent:c,fixed:h=!1,placement:d,popperConfig:m={},enableEventListeners:y=!0,usePopper:S=!!e}=t,b=e?.show==null?!!t.show:e.show;b&&!r.current&&(r.current=!0);const T=U=>{e?.toggle(!1,U)},{placement:A,setMenu:x,menuElement:M,toggleElement:I}=e||{},N=c2(I,M,_2({placement:d||A||"bottom-start",enabled:S,enableEvents:y??b,offset:u,flip:a,fixed:h,arrowElement:n,popperConfig:m})),D=Object.assign({ref:x||E2,"aria-labelledby":I?.id},N.attributes.popper,{style:N.styles.popper}),L={show:b,placement:A,hasShown:r.current,toggle:e?.toggle,popper:S?N:null,arrowProps:S?Object.assign({ref:i},N.attributes.arrow,{style:N.styles.arrow}):{}};return g2(M,T,{clickTrigger:c,disabled:!b}),[D,L]}function dR(t){let{children:e,usePopper:n=!0}=t,i=b2(t,S2);const[r,a]=fR(Object.assign({},i,{usePopper:n}));return E.jsx(E.Fragment,{children:e(r,a)})}dR.displayName="DropdownMenu";const hR={prefix:String(Math.round(Math.random()*1e10)),current:0},pR=et.createContext(hR),w2=et.createContext(!1);let pg=new WeakMap;function C2(t=!1){let e=C.useContext(pR),n=C.useRef(null);if(n.current===null&&!t){var i,r;let a=(r=et.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED)===null||r===void 0||(i=r.ReactCurrentOwner)===null||i===void 0?void 0:i.current;if(a){let u=pg.get(a);u==null?pg.set(a,{id:e.current,state:a.memoizedState}):a.memoizedState!==u.state&&(e.current=u.id,pg.delete(a))}n.current=++e.current}return n.current}function T2(t){let e=C.useContext(pR),n=C2(!!t),i=`react-aria${e.prefix}`;return t||`${i}-${n}`}function A2(t){let e=et.useId(),[n]=C.useState(I2()),i=n?"react-aria":`react-aria${hR.prefix}`;return t||`${i}-${e}`}const x2=typeof et.useId=="function"?A2:T2;function R2(){return!1}function M2(){return!0}function N2(t){return()=>{}}function I2(){return typeof et.useSyncExternalStore=="function"?et.useSyncExternalStore(N2,R2,M2):C.useContext(w2)}const mR=t=>{var e;return((e=t.getAttribute("role"))==null?void 0:e.toLowerCase())==="menu"},Iw=()=>{};function gR(){const t=x2(),{show:e=!1,toggle:n=Iw,setToggle:i,menuElement:r}=C.useContext(nh)||{},a=C.useCallback(c=>{n(!e,c)},[e,n]),u={id:t,ref:i||Iw,onClick:a,"aria-expanded":!!e};return r&&mR(r)&&(u["aria-haspopup"]=!0),[u,{show:e,toggle:n}]}function vR({children:t}){const[e,n]=gR();return E.jsx(E.Fragment,{children:t(e,n)})}vR.displayName="DropdownToggle";const jr=C.createContext(null),uu=(t,e=null)=>t!=null?String(t):e||null,oh=C.createContext(null);oh.displayName="NavContext";const D2="data-rr-ui-",O2="rrUi";function xa(t){return`${D2}${t}`}function P2(t){return`${O2}${t}`}const k2=["eventKey","disabled","onClick","active","as"];function L2(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)>=0)continue;n[i]=t[i]}return n}function yR({key:t,href:e,active:n,disabled:i,onClick:r}){const a=C.useContext(jr),u=C.useContext(oh),{activeKey:c}=u||{},h=uu(t,e),d=n==null&&t!=null?uu(c)===h:n;return[{onClick:Lt(y=>{i||(r?.(y),a&&!y.isPropagationStopped()&&a(h,y))}),"aria-disabled":i||void 0,"aria-selected":d,[xa("dropdown-item")]:""},{isActive:d}]}const _R=C.forwardRef((t,e)=>{let{eventKey:n,disabled:i,onClick:r,active:a,as:u=yy}=t,c=L2(t,k2);const[h]=yR({key:n,href:c.href,disabled:i,onClick:r,active:a});return E.jsx(u,Object.assign({},c,{ref:e},h))});_R.displayName="DropdownItem";const SR=C.createContext(eh?window:void 0);SR.Provider;function rh(){return C.useContext(SR)}function Dw(){const t=tR(),e=C.useRef(null),n=C.useCallback(i=>{e.current=i,t()},[t]);return[e,n]}function ku({defaultShow:t,show:e,onSelect:n,onToggle:i,itemSelector:r=`* [${xa("dropdown-item")}]`,focusFirstItemOnShow:a,placement:u="bottom-start",children:c}){const h=rh(),[d,m]=tB(e,t,i),[y,S]=Dw(),b=y.current,[T,A]=Dw(),x=T.current,M=Hx(d),I=C.useRef(null),N=C.useRef(!1),D=C.useContext(jr),L=C.useCallback((W,re,ie=re?.type)=>{m(W,{originalEvent:re,source:ie})},[m]),U=Lt((W,re)=>{n?.(W,re),L(!1,re,"select"),re.isPropagationStopped()||D?.(W,re)}),O=C.useMemo(()=>({toggle:L,placement:u,show:d,menuElement:b,toggleElement:x,setMenu:S,setToggle:A}),[L,u,d,b,x,S,A]);b&&M&&!d&&(N.current=b.contains(b.ownerDocument.activeElement));const q=Lt(()=>{x&&x.focus&&x.focus()}),J=Lt(()=>{const W=I.current;let re=a;if(re==null&&(re=y.current&&mR(y.current)?"keyboard":!1),re===!1||re==="keyboard"&&!/^key.+$/.test(W))return;const ie=io(y.current,r)[0];ie&&ie.focus&&ie.focus()});C.useEffect(()=>{d?J():N.current&&(N.current=!1,q())},[d,N,q,J]),C.useEffect(()=>{I.current=null});const j=(W,re)=>{if(!y.current)return null;const ie=io(y.current,r);let ae=ie.indexOf(W)+re;return ae=Math.max(0,Math.min(ae,ie.length)),ie[ae]};return $U(C.useCallback(()=>h.document,[h]),"keydown",W=>{var re,ie;const{key:ae}=W,de=W.target,F=(re=y.current)==null?void 0:re.contains(de),Q=(ie=T.current)==null?void 0:ie.contains(de);if(/input|textarea/i.test(de.tagName)&&(ae===" "||ae!=="Escape"&&F||ae==="Escape"&&de.type==="search")||!F&&!Q||ae==="Tab"&&(!y.current||!d))return;I.current=W.type;const ne={originalEvent:W,source:W.type};switch(ae){case"ArrowUp":{const ce=j(de,-1);ce&&ce.focus&&ce.focus(),W.preventDefault();return}case"ArrowDown":if(W.preventDefault(),!d)m(!0,ne);else{const ce=j(de,1);ce&&ce.focus&&ce.focus()}return;case"Tab":Ux(de.ownerDocument,"keyup",ce=>{var k;(ce.key==="Tab"&&!ce.target||!((k=y.current)!=null&&k.contains(ce.target)))&&m(!1,ne)},{once:!0});break;case"Escape":ae==="Escape"&&(W.preventDefault(),W.stopPropagation()),m(!1,ne);break}}),E.jsx(jr.Provider,{value:U,children:E.jsx(nh.Provider,{value:O,children:c})})}ku.displayName="Dropdown";ku.Menu=dR;ku.Toggle=vR;ku.Item=_R;const Ny=C.createContext({});Ny.displayName="DropdownContext";const bR=C.forwardRef(({className:t,bsPrefix:e,as:n="hr",role:i="separator",...r},a)=>(e=Ue(e,"dropdown-divider"),E.jsx(n,{ref:a,className:Ne(t,e),role:i,...r})));bR.displayName="DropdownDivider";const ER=C.forwardRef(({className:t,bsPrefix:e,as:n="div",role:i="heading",...r},a)=>(e=Ue(e,"dropdown-header"),E.jsx(n,{ref:a,className:Ne(t,e),role:i,...r})));ER.displayName="DropdownHeader";const wR=C.forwardRef(({bsPrefix:t,className:e,eventKey:n,disabled:i=!1,onClick:r,active:a,as:u=_y,...c},h)=>{const d=Ue(t,"dropdown-item"),[m,y]=yR({key:n,href:c.href,disabled:i,onClick:r,active:a});return E.jsx(u,{...c,...m,ref:h,className:Ne(e,d,y.isActive&&"active",i&&"disabled")})});wR.displayName="DropdownItem";const CR=C.forwardRef(({className:t,bsPrefix:e,as:n="span",...i},r)=>(e=Ue(e,"dropdown-item-text"),E.jsx(n,{ref:r,className:Ne(t,e),...i})));CR.displayName="DropdownItemText";const U2=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",B2=typeof document<"u",TR=B2||U2?C.useLayoutEffect:C.useEffect,Iy=C.createContext(null);Iy.displayName="InputGroupContext";const ns=C.createContext(null);ns.displayName="NavbarContext";function AR(t,e){return t}function xR(t,e,n){const i=n?"top-end":"top-start",r=n?"top-start":"top-end",a=n?"bottom-end":"bottom-start",u=n?"bottom-start":"bottom-end",c=n?"right-start":"left-start",h=n?"right-end":"left-end",d=n?"left-start":"right-start",m=n?"left-end":"right-end";let y=t?u:a;return e==="up"?y=t?r:i:e==="end"?y=t?m:d:e==="start"?y=t?h:c:e==="down-centered"?y="bottom":e==="up-centered"&&(y="top"),y}const RR=C.forwardRef(({bsPrefix:t,className:e,align:n,rootCloseEvent:i,flip:r=!0,show:a,renderOnMount:u,as:c="div",popperConfig:h,variant:d,...m},y)=>{let S=!1;const b=C.useContext(ns),T=Ue(t,"dropdown-menu"),{align:A,drop:x,isRTL:M}=C.useContext(Ny);n=n||A;const I=C.useContext(Iy),N=[];if(n)if(typeof n=="object"){const W=Object.keys(n);if(W.length){const re=W[0],ie=n[re];S=ie==="start",N.push(`${T}-${re}-${ie}`)}}else n==="end"&&(S=!0);const D=xR(S,x,M),[L,{hasShown:U,popper:O,show:q,toggle:J}]=fR({flip:r,rootCloseEvent:i,show:a,usePopper:!b&&N.length===0,offset:[0,2],popperConfig:h,placement:D});if(L.ref=my(AR(y),L.ref),TR(()=>{q&&O?.update()},[q]),!U&&!u&&!I)return null;typeof c!="string"&&(L.show=q,L.close=()=>J?.(!1),L.align=n);let j=m.style;return O!=null&&O.placement&&(j={...m.style,...L.style},m["x-placement"]=O.placement),E.jsx(c,{...m,...L,style:j,...(N.length||b)&&{"data-bs-popper":"static"},className:Ne(e,T,q&&"show",S&&`${T}-end`,d&&`${T}-${d}`,...N)})});RR.displayName="DropdownMenu";const MR=C.forwardRef(({bsPrefix:t,split:e,className:n,childBsPrefix:i,as:r=Vx,...a},u)=>{const c=Ue(t,"dropdown-toggle"),h=C.useContext(nh);i!==void 0&&(a.bsPrefix=i);const[d]=gR();return d.ref=my(d.ref,AR(u)),E.jsx(r,{className:Ne(n,c,e&&`${c}-split`,h?.show&&"show"),...d,...a})});MR.displayName="DropdownToggle";const NR=C.forwardRef((t,e)=>{const{bsPrefix:n,drop:i="down",show:r,className:a,align:u="start",onSelect:c,onToggle:h,focusFirstItemOnShow:d,as:m="div",navbar:y,autoClose:S=!0,...b}=hy(t,{show:"onToggle"}),T=C.useContext(Iy),A=Ue(n,"dropdown"),x=dU(),M=O=>S===!1?O==="click":S==="inside"?O!=="rootClose":S==="outside"?O!=="select":!0,I=Du((O,q)=>{var J;!((J=q.originalEvent)==null||(J=J.target)==null)&&J.classList.contains("dropdown-toggle")&&q.source==="mousedown"||(q.originalEvent.currentTarget===document&&(q.source!=="keydown"||q.originalEvent.key==="Escape")&&(q.source="rootClose"),M(q.source)&&h?.(O,q))}),D=xR(u==="end",i,x),L=C.useMemo(()=>({align:u,drop:i,isRTL:x}),[u,i,x]),U={down:A,"down-centered":`${A}-center`,up:"dropup","up-centered":"dropup-center dropup",end:"dropend",start:"dropstart"};return E.jsx(Ny.Provider,{value:L,children:E.jsx(ku,{placement:D,show:r,onSelect:c,onToggle:I,focusFirstItemOnShow:d,itemSelector:`.${A}-item:not(.disabled):not(:disabled)`,children:T?b.children:E.jsx(m,{...b,ref:e,className:Ne(a,r&&"show",U[i])})})})});NR.displayName="Dropdown";const wf=Object.assign(NR,{Toggle:MR,Menu:RR,Item:wR,ItemText:CR,Divider:bR,Header:ER}),Ow=t=>!t||typeof t=="function"?t:e=>{t.current=e};function F2(t,e){const n=Ow(t),i=Ow(e);return r=>{n&&n(r),i&&i(r)}}function sh(t,e){return C.useMemo(()=>F2(t,e),[t,e])}const IR=C.createContext(null),$2=["as","active","eventKey"];function H2(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)>=0)continue;n[i]=t[i]}return n}function DR({key:t,onClick:e,active:n,id:i,role:r,disabled:a}){const u=C.useContext(jr),c=C.useContext(oh),h=C.useContext(IR);let d=n;const m={role:r};if(c){!r&&c.role==="tablist"&&(m.role="tab");const y=c.getControllerId(t??null),S=c.getControlledId(t??null);m[xa("event-key")]=t,m.id=y||i,d=n==null&&t!=null?c.activeKey===t:n,(d||!(h!=null&&h.unmountOnExit)&&!(h!=null&&h.mountOnEnter))&&(m["aria-controls"]=S)}return m.role==="tab"&&(m["aria-selected"]=d,d||(m.tabIndex=-1),a&&(m.tabIndex=-1,m["aria-disabled"]=!0)),m.onClick=Lt(y=>{a||(e?.(y),t!=null&&u&&!y.isPropagationStopped()&&u(t,y))}),[m,{isActive:d}]}const OR=C.forwardRef((t,e)=>{let{as:n=yy,active:i,eventKey:r}=t,a=H2(t,$2);const[u,c]=DR(Object.assign({key:uu(r,a.href),active:i},a));return u[xa("active")]=c.isActive,E.jsx(n,Object.assign({},a,u,{ref:e}))});OR.displayName="NavItem";const G2=["as","onSelect","activeKey","role","onKeyDown"];function V2(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)>=0)continue;n[i]=t[i]}return n}const Pw=()=>{},kw=xa("event-key"),PR=C.forwardRef((t,e)=>{let{as:n="div",onSelect:i,activeKey:r,role:a,onKeyDown:u}=t,c=V2(t,G2);const h=tR(),d=C.useRef(!1),m=C.useContext(jr),y=C.useContext(IR);let S,b;y&&(a=a||"tablist",r=y.activeKey,S=y.getControlledId,b=y.getControllerId);const T=C.useRef(null),A=N=>{const D=T.current;if(!D)return null;const L=io(D,`[${kw}]:not([aria-disabled=true])`),U=D.querySelector("[aria-selected=true]");if(!U||U!==document.activeElement)return null;const O=L.indexOf(U);if(O===-1)return null;let q=O+N;return q>=L.length&&(q=0),q<0&&(q=L.length-1),L[q]},x=(N,D)=>{N!=null&&(i?.(N,D),m?.(N,D))},M=N=>{if(u?.(N),!y)return;let D;switch(N.key){case"ArrowLeft":case"ArrowUp":D=A(-1);break;case"ArrowRight":case"ArrowDown":D=A(1);break;default:return}D&&(N.preventDefault(),x(D.dataset[P2("EventKey")]||null,N),d.current=!0,h())};C.useEffect(()=>{if(T.current&&d.current){const N=T.current.querySelector(`[${kw}][aria-selected=true]`);N?.focus()}d.current=!1});const I=sh(e,T);return E.jsx(jr.Provider,{value:x,children:E.jsx(oh.Provider,{value:{role:a,activeKey:uu(r),getControlledId:S||Pw,getControllerId:b||Pw},children:E.jsx(n,Object.assign({},c,{onKeyDown:M,ref:I,role:a}))})})});PR.displayName="Nav";const z2=Object.assign(PR,{Item:OR});function mg(t){t===void 0&&(t=Zd());try{var e=t.activeElement;return!e||!e.nodeName?null:e}catch{return t.body}}function q2(t){const e=C.useRef(t);return e.current=t,e}function J2(t){const e=q2(t);C.useEffect(()=>()=>e.current(),[])}function K2(t=document){const e=t.defaultView;return Math.abs(e.innerWidth-t.documentElement.clientWidth)}const Lw=xa("modal-open");class Dy{constructor({ownerDocument:e,handleContainerOverflow:n=!0,isRTL:i=!1}={}){this.handleContainerOverflow=n,this.isRTL=i,this.modals=[],this.ownerDocument=e}getScrollbarWidth(){return K2(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes(e){}removeModalAttributes(e){}setContainerStyle(e){const n={overflow:"hidden"},i=this.isRTL?"paddingLeft":"paddingRight",r=this.getElement();e.style={overflow:r.style.overflow,[i]:r.style[i]},e.scrollBarWidth&&(n[i]=`${parseInt(uo(r,i)||"0",10)+e.scrollBarWidth}px`),r.setAttribute(Lw,""),uo(r,n)}reset(){[...this.modals].forEach(e=>this.remove(e))}removeContainerStyle(e){const n=this.getElement();n.removeAttribute(Lw),Object.assign(n.style,e.style)}add(e){let n=this.modals.indexOf(e);return n!==-1||(n=this.modals.length,this.modals.push(e),this.setModalAttributes(e),n!==0)||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),n}remove(e){const n=this.modals.indexOf(e);n!==-1&&(this.modals.splice(n,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(e))}isTopModal(e){return!!this.modals.length&&this.modals[this.modals.length-1]===e}}const gg=(t,e)=>eh?t==null?(e||Zd()).body:(typeof t=="function"&&(t=t()),t&&"current"in t&&(t=t.current),t&&("nodeType"in t||t.getBoundingClientRect)?t:null):null;function Y2(t,e){const n=rh(),[i,r]=C.useState(()=>gg(t,n?.document));if(!i){const a=gg(t);a&&r(a)}return C.useEffect(()=>{},[e,i]),C.useEffect(()=>{const a=gg(t);a!==i&&r(a)},[t,i]),i}function j2({children:t,in:e,onExited:n,mountOnEnter:i,unmountOnExit:r}){const a=C.useRef(null),u=C.useRef(e),c=Lt(n);C.useEffect(()=>{e?u.current=!0:c(a.current)},[e,c]);const h=sh(a,Aa(t)),d=C.cloneElement(t,{ref:h});return e?d:r||!u.current&&i?null:d}const X2=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children"];function W2(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)>=0)continue;n[i]=t[i]}return n}function Q2(t){let{onEnter:e,onEntering:n,onEntered:i,onExit:r,onExiting:a,onExited:u,addEndListener:c,children:h}=t,d=W2(t,X2);const m=C.useRef(null),y=sh(m,Aa(h)),S=D=>L=>{D&&m.current&&D(m.current,L)},b=C.useCallback(S(e),[e]),T=C.useCallback(S(n),[n]),A=C.useCallback(S(i),[i]),x=C.useCallback(S(r),[r]),M=C.useCallback(S(a),[a]),I=C.useCallback(S(u),[u]),N=C.useCallback(S(c),[c]);return Object.assign({},d,{nodeRef:m},e&&{onEnter:b},n&&{onEntering:T},i&&{onEntered:A},r&&{onExit:x},a&&{onExiting:M},u&&{onExited:I},c&&{addEndListener:N},{children:typeof h=="function"?(D,L)=>h(D,Object.assign({},L,{ref:y})):C.cloneElement(h,{ref:y})})}const Z2=["component"];function eF(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)>=0)continue;n[i]=t[i]}return n}const tF=C.forwardRef((t,e)=>{let{component:n}=t,i=eF(t,Z2);const r=Q2(i);return E.jsx(n,Object.assign({ref:e},r))});function nF({in:t,onTransition:e}){const n=C.useRef(null),i=C.useRef(!0),r=Lt(e);return gw(()=>{if(!n.current)return;let a=!1;return r({in:t,element:n.current,initial:i.current,isStale:()=>a}),()=>{a=!0}},[t,r]),gw(()=>(i.current=!1,()=>{i.current=!0}),[]),n}function iF({children:t,in:e,onExited:n,onEntered:i,transition:r}){const[a,u]=C.useState(!e);e&&a&&u(!1);const c=nF({in:!!e,onTransition:d=>{const m=()=>{d.isStale()||(d.in?i?.(d.element,d.initial):(u(!0),n?.(d.element)))};Promise.resolve(r(d)).then(m,y=>{throw d.in||u(!0),y})}}),h=sh(c,Aa(t));return a&&!e?null:C.cloneElement(t,{ref:h})}function Uw(t,e,n){return t?E.jsx(tF,Object.assign({},n,{component:t})):e?E.jsx(iF,Object.assign({},n,{transition:e})):E.jsx(j2,Object.assign({},n))}const oF=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];function rF(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)>=0)continue;n[i]=t[i]}return n}let vg;function sF(t){return vg||(vg=new Dy({ownerDocument:t?.document})),vg}function aF(t){const e=rh(),n=t||sF(e),i=C.useRef({dialog:null,backdrop:null});return Object.assign(i.current,{add:()=>n.add(i.current),remove:()=>n.remove(i.current),isTopModal:()=>n.isTopModal(i.current),setDialogRef:C.useCallback(r=>{i.current.dialog=r},[]),setBackdropRef:C.useCallback(r=>{i.current.backdrop=r},[])})}const kR=C.forwardRef((t,e)=>{let{show:n=!1,role:i="dialog",className:r,style:a,children:u,backdrop:c=!0,keyboard:h=!0,onBackdropClick:d,onEscapeKeyDown:m,transition:y,runTransition:S,backdropTransition:b,runBackdropTransition:T,autoFocus:A=!0,enforceFocus:x=!0,restoreFocus:M=!0,restoreFocusOptions:I,renderDialog:N,renderBackdrop:D=Qe=>E.jsx("div",Object.assign({},Qe)),manager:L,container:U,onShow:O,onHide:q=()=>{},onExit:J,onExited:j,onExiting:W,onEnter:re,onEntering:ie,onEntered:ae}=t,de=rF(t,oF);const F=rh(),Q=Y2(U),ee=aF(L),ne=$x(),ce=Hx(n),[k,Y]=C.useState(!n),se=C.useRef(null);C.useImperativeHandle(e,()=>ee,[ee]),eh&&!ce&&n&&(se.current=mg(F?.document)),n&&k&&Y(!1);const le=Lt(()=>{if(ee.add(),rn.current=er(document,"keydown",ze),qe.current=er(document,"focus",()=>setTimeout(be),!0),O&&O(),A){var Qe,Li;const bo=mg((Qe=(Li=ee.dialog)==null?void 0:Li.ownerDocument)!=null?Qe:F?.document);ee.dialog&&bo&&!bd(ee.dialog,bo)&&(se.current=bo,ee.dialog.focus())}}),me=Lt(()=>{if(ee.remove(),rn.current==null||rn.current(),qe.current==null||qe.current(),M){var Qe;(Qe=se.current)==null||Qe.focus==null||Qe.focus(I),se.current=null}});C.useEffect(()=>{!n||!Q||le()},[n,Q,le]),C.useEffect(()=>{k&&me()},[k,me]),J2(()=>{me()});const be=Lt(()=>{if(!x||!ne()||!ee.isTopModal())return;const Qe=mg(F?.document);ee.dialog&&Qe&&!bd(ee.dialog,Qe)&&ee.dialog.focus()}),ve=Lt(Qe=>{Qe.target===Qe.currentTarget&&(d?.(Qe),c===!0&&q())}),ze=Lt(Qe=>{h&&TU(Qe)&&ee.isTopModal()&&(m?.(Qe),Qe.defaultPrevented||q())}),qe=C.useRef(),rn=C.useRef(),Cn=(...Qe)=>{Y(!0),j?.(...Qe)};if(!Q)return null;const di=Object.assign({role:i,ref:ee.setDialogRef,"aria-modal":i==="dialog"?!0:void 0},de,{style:a,className:r,tabIndex:-1});let qt=N?N(di):E.jsx("div",Object.assign({},di,{children:C.cloneElement(u,{role:"document"})}));qt=Uw(y,S,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!n,onExit:J,onExiting:W,onExited:Cn,onEnter:re,onEntering:ie,onEntered:ae,children:qt});let Jt=null;return c&&(Jt=D({ref:ee.setBackdropRef,onClick:ve}),Jt=Uw(b,T,{in:!!n,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:Jt})),E.jsx(E.Fragment,{children:Br.createPortal(E.jsxs(E.Fragment,{children:[Jt,qt]}),Q)})});kR.displayName="Modal";const lF=Object.assign(kR,{Manager:Dy});function uF(t,e){return t.classList?t.classList.contains(e):(" "+(t.className.baseVal||t.className)+" ").indexOf(" "+e+" ")!==-1}function cF(t,e){t.classList?t.classList.add(e):uF(t,e)||(typeof t.className=="string"?t.className=t.className+" "+e:t.setAttribute("class",(t.className&&t.className.baseVal||"")+" "+e))}function Bw(t,e){return t.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function fF(t,e){t.classList?t.classList.remove(e):typeof t.className=="string"?t.className=Bw(t.className,e):t.setAttribute("class",Bw(t.className&&t.className.baseVal||"",e))}const qs={FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top",NAVBAR_TOGGLER:".navbar-toggler"};class LR extends Dy{adjustAndStore(e,n,i){const r=n.style[e];n.dataset[e]=r,uo(n,{[e]:`${parseFloat(uo(n,e))+i}px`})}restore(e,n){const i=n.dataset[e];i!==void 0&&(delete n.dataset[e],uo(n,{[e]:i}))}setContainerStyle(e){super.setContainerStyle(e);const n=this.getElement();if(cF(n,"modal-open"),!e.scrollBarWidth)return;const i=this.isRTL?"paddingLeft":"paddingRight",r=this.isRTL?"marginLeft":"marginRight";io(n,qs.FIXED_CONTENT).forEach(a=>this.adjustAndStore(i,a,e.scrollBarWidth)),io(n,qs.STICKY_CONTENT).forEach(a=>this.adjustAndStore(r,a,-e.scrollBarWidth)),io(n,qs.NAVBAR_TOGGLER).forEach(a=>this.adjustAndStore(r,a,e.scrollBarWidth))}removeContainerStyle(e){super.removeContainerStyle(e);const n=this.getElement();fF(n,"modal-open");const i=this.isRTL?"paddingLeft":"paddingRight",r=this.isRTL?"marginLeft":"marginRight";io(n,qs.FIXED_CONTENT).forEach(a=>this.restore(i,a)),io(n,qs.STICKY_CONTENT).forEach(a=>this.restore(r,a)),io(n,qs.NAVBAR_TOGGLER).forEach(a=>this.restore(r,a))}}let yg;function dF(t){return yg||(yg=new LR(t)),yg}const UR=C.createContext({onHide(){}}),BR=C.forwardRef(({closeLabel:t="Close",closeVariant:e,closeButton:n=!1,onHide:i,children:r,...a},u)=>{const c=C.useContext(UR),h=Du(()=>{c?.onHide(),i?.()});return E.jsxs("div",{ref:u,...a,children:[r,n&&E.jsx(Sy,{"aria-label":t,variant:e,onClick:h})]})});BR.displayName="AbstractModalHeader";const FR=C.forwardRef(({className:t,bsPrefix:e,as:n="div",...i},r)=>(e=Ue(e,"nav-item"),E.jsx(n,{ref:r,className:Ne(t,e),...i})));FR.displayName="NavItem";const $R=C.forwardRef(({bsPrefix:t,className:e,as:n=_y,active:i,eventKey:r,disabled:a=!1,...u},c)=>{t=Ue(t,"nav-link");const[h,d]=DR({key:uu(r,u.href),active:i,disabled:a,...u});return E.jsx(n,{...u,...h,ref:c,disabled:a,className:Ne(e,t,a&&"disabled",d.isActive&&"active")})});$R.displayName="NavLink";const HR=C.forwardRef((t,e)=>{const{as:n="div",bsPrefix:i,variant:r,fill:a=!1,justify:u=!1,navbar:c,navbarScroll:h,className:d,activeKey:m,...y}=hy(t,{activeKey:"onSelect"}),S=Ue(i,"nav");let b,T,A=!1;const x=C.useContext(ns),M=C.useContext(Ey);return x?(b=x.bsPrefix,A=c??!0):M&&({cardHeaderBsPrefix:T}=M),E.jsx(z2,{as:n,ref:e,activeKey:m,className:Ne(d,{[S]:!A,[`${b}-nav`]:A,[`${b}-nav-scroll`]:A&&h,[`${T}-${r}`]:!!T,[`${S}-${r}`]:!!r,[`${S}-fill`]:a,[`${S}-justified`]:u}),...y})});HR.displayName="Nav";const hF=Object.assign(HR,{Item:FR,Link:$R}),GR=C.forwardRef(({bsPrefix:t,className:e,as:n,...i},r)=>{t=Ue(t,"navbar-brand");const a=n||(i.href?"a":"span");return E.jsx(a,{...i,ref:r,className:Ne(e,t)})});GR.displayName="NavbarBrand";const VR=C.forwardRef(({children:t,bsPrefix:e,...n},i)=>{e=Ue(e,"navbar-collapse");const r=C.useContext(ns);return E.jsx(Fx,{in:!!(r&&r.expanded),...n,children:E.jsx("div",{ref:i,className:e,children:t})})});VR.displayName="NavbarCollapse";const zR=C.forwardRef(({bsPrefix:t,className:e,children:n,label:i="Toggle navigation",as:r="button",onClick:a,...u},c)=>{t=Ue(t,"navbar-toggler");const{onToggle:h,expanded:d}=C.useContext(ns)||{},m=Du(y=>{a&&a(y),h&&h()});return r==="button"&&(u.type="button"),E.jsx(r,{...u,ref:c,onClick:m,"aria-label":i,className:Ne(e,t,!d&&"collapsed"),children:n||E.jsx("span",{className:`${t}-icon`})})});zR.displayName="NavbarToggle";const hv=new WeakMap,Fw=(t,e)=>{if(!t||!e)return;const n=hv.get(e)||new Map;hv.set(e,n);let i=n.get(t);return i||(i=e.matchMedia(t),i.refCount=0,n.set(i.media,i)),i};function pF(t,e=typeof window>"u"?void 0:window){const n=Fw(t,e),[i,r]=C.useState(()=>n?n.matches:!1);return TR(()=>{let a=Fw(t,e);if(!a)return r(!1);let u=hv.get(e);const c=()=>{r(a.matches)};return a.refCount++,a.addListener(c),c(),()=>{a.removeListener(c),a.refCount--,a.refCount<=0&&u?.delete(a.media),a=void 0}},[t]),i}function mF(t){const e=Object.keys(t);function n(c,h){return c===h?h:c?`${c} and ${h}`:h}function i(c){return e[Math.min(e.indexOf(c)+1,e.length-1)]}function r(c){const h=i(c);let d=t[h];return typeof d=="number"?d=`${d-.2}px`:d=`calc(${d} - 0.2px)`,`(max-width: ${d})`}function a(c){let h=t[c];return typeof h=="number"&&(h=`${h}px`),`(min-width: ${h})`}function u(c,h,d){let m;typeof c=="object"?(m=c,d=h,h=!0):(h=h||!0,m={[c]:h});let y=C.useMemo(()=>Object.entries(m).reduce((S,[b,T])=>((T==="up"||T===!0)&&(S=n(S,a(b))),(T==="down"||T===!0)&&(S=n(S,r(b))),S),""),[JSON.stringify(m)]);return pF(y,d)}return u}const gF=mF({xs:0,sm:576,md:768,lg:992,xl:1200,xxl:1400}),qR=C.forwardRef(({className:t,bsPrefix:e,as:n="div",...i},r)=>(e=Ue(e,"offcanvas-body"),E.jsx(n,{ref:r,className:Ne(t,e),...i})));qR.displayName="OffcanvasBody";const vF={[Zn]:"show",[so]:"show"},JR=C.forwardRef(({bsPrefix:t,className:e,children:n,in:i=!1,mountOnEnter:r=!1,unmountOnExit:a=!1,appear:u=!1,...c},h)=>(t=Ue(t,"offcanvas"),E.jsx(th,{ref:h,addEndListener:py,in:i,mountOnEnter:r,unmountOnExit:a,appear:u,...c,childRef:Aa(n),children:(d,m)=>C.cloneElement(n,{...m,className:Ne(e,n.props.className,(d===Zn||d===su)&&`${t}-toggling`,vF[d])})})));JR.displayName="OffcanvasToggling";const KR=C.forwardRef(({bsPrefix:t,className:e,closeLabel:n="Close",closeButton:i=!1,...r},a)=>(t=Ue(t,"offcanvas-header"),E.jsx(BR,{ref:a,...r,className:Ne(e,t),closeLabel:n,closeButton:i})));KR.displayName="OffcanvasHeader";const yF=gy("h5"),YR=C.forwardRef(({className:t,bsPrefix:e,as:n=yF,...i},r)=>(e=Ue(e,"offcanvas-title"),E.jsx(n,{ref:r,className:Ne(t,e),...i})));YR.displayName="OffcanvasTitle";function _F(t){return E.jsx(JR,{...t})}function SF(t){return E.jsx(Gx,{...t})}const jR=C.forwardRef(({bsPrefix:t,className:e,children:n,"aria-labelledby":i,placement:r="start",responsive:a,show:u=!1,backdrop:c=!0,keyboard:h=!0,scroll:d=!1,onEscapeKeyDown:m,onShow:y,onHide:S,container:b,autoFocus:T=!0,enforceFocus:A=!0,restoreFocus:x=!0,restoreFocusOptions:M,onEntered:I,onExit:N,onExiting:D,onEnter:L,onEntering:U,onExited:O,backdropClassName:q,manager:J,renderStaticNode:j=!1,...W},re)=>{const ie=C.useRef();t=Ue(t,"offcanvas");const[ae,de]=C.useState(!1),F=Du(S),Q=gF(a||"xs","up");C.useEffect(()=>{de(a?u&&!Q:u)},[u,a,Q]);const ee=C.useMemo(()=>({onHide:F}),[F]);function ne(){return J||(d?(ie.current||(ie.current=new LR({handleContainerOverflow:!1})),ie.current):dF())}const ce=(le,...me)=>{le&&(le.style.visibility="visible"),L?.(le,...me)},k=(le,...me)=>{le&&(le.style.visibility=""),O?.(...me)},Y=C.useCallback(le=>E.jsx("div",{...le,className:Ne(`${t}-backdrop`,q)}),[q,t]),se=le=>E.jsx("div",{...le,...W,className:Ne(e,a?`${t}-${a}`:t,`${t}-${r}`),"aria-labelledby":i,children:n});return E.jsxs(E.Fragment,{children:[!ae&&(a||j)&&se({}),E.jsx(UR.Provider,{value:ee,children:E.jsx(lF,{show:ae,ref:re,backdrop:c,container:b,keyboard:h,autoFocus:T,enforceFocus:A&&!d,restoreFocus:x,restoreFocusOptions:M,onEscapeKeyDown:m,onShow:y,onHide:F,onEnter:ce,onEntering:U,onEntered:I,onExit:N,onExiting:D,onExited:k,manager:ne(),transition:_F,backdropTransition:SF,renderBackdrop:Y,renderDialog:se})})]})});jR.displayName="Offcanvas";const bF=Object.assign(jR,{Body:qR,Header:KR,Title:YR}),XR=C.forwardRef(({onHide:t,...e},n)=>{const i=C.useContext(ns),r=Du(()=>{i==null||i.onToggle==null||i.onToggle(),t?.()});return E.jsx(bF,{ref:n,show:!!(i!=null&&i.expanded),...e,renderStaticNode:!0,onHide:r})});XR.displayName="NavbarOffcanvas";const WR=C.forwardRef(({className:t,bsPrefix:e,as:n="span",...i},r)=>(e=Ue(e,"navbar-text"),E.jsx(n,{ref:r,className:Ne(t,e),...i})));WR.displayName="NavbarText";const QR=C.forwardRef((t,e)=>{const{bsPrefix:n,expand:i=!0,variant:r="light",bg:a,fixed:u,sticky:c,className:h,as:d="nav",expanded:m,onToggle:y,onSelect:S,collapseOnSelect:b=!1,...T}=hy(t,{expanded:"onToggle"}),A=Ue(n,"navbar"),x=C.useCallback((...N)=>{S?.(...N),b&&m&&y?.(!1)},[S,b,m,y]);T.role===void 0&&d!=="nav"&&(T.role="navigation");let M=`${A}-expand`;typeof i=="string"&&(M=`${M}-${i}`);const I=C.useMemo(()=>({onToggle:()=>y?.(!m),bsPrefix:A,expanded:!!m,expand:i}),[A,m,i,y]);return E.jsx(ns.Provider,{value:I,children:E.jsx(jr.Provider,{value:x,children:E.jsx(d,{ref:e,...T,className:Ne(h,A,i&&M,r&&`${A}-${r}`,a&&`bg-${a}`,c&&`sticky-${c}`,u&&`fixed-${u}`)})})})});QR.displayName="Navbar";const $w=Object.assign(QR,{Brand:GR,Collapse:VR,Offcanvas:XR,Text:WR,Toggle:zR}),ZR=C.forwardRef(({bsPrefix:t,className:e,as:n="div",...i},r)=>{const a=Ue(t,"row"),u=Px(),c=kx(),h=`${a}-cols`,d=[];return u.forEach(m=>{const y=i[m];delete i[m];let S;y!=null&&typeof y=="object"?{cols:S}=y:S=y;const b=m!==c?`-${m}`:"";S!=null&&d.push(`${h}${b}-${S}`)}),E.jsx(n,{ref:r,...i,className:Ne(e,a,...d)})});ZR.displayName="Row";const eM=C.forwardRef(({bsPrefix:t,variant:e,animation:n="border",size:i,as:r="div",className:a,...u},c)=>{t=Ue(t,"spinner");const h=`${t}-${n}`;return E.jsx(r,{ref:c,...u,className:Ne(a,h,i&&`${h}-${i}`,e&&`text-${e}`)})});eM.displayName="Spinner";const tM=({name:t,onClick:e,subItems:n})=>{const[i,r]=C.useState(!1);return E.jsxs("div",{onMouseEnter:()=>r(!0),onMouseLeave:()=>r(!1),style:{position:"relative"},children:[E.jsxs("div",{className:"dropdown-item d-flex justify-content-between",style:{cursor:"pointer"},onClick:e,children:[t," ",n?E.jsx("span",{children:""}):null]}),n&&i&&E.jsx("div",{className:"dropdown-menu show",style:{position:"absolute",top:0,left:"100%",minWidth:"180px",zIndex:1e3},children:n.map((a,u)=>E.jsx(tM,{name:a.name,onClick:a.onClick,subItems:a.subItems},u))})]})},Js=({title:t,items:e,onClick:n})=>{const[i,r]=C.useState(!1),a=e&&e.length>0;return E.jsxs("div",{className:"nav-item dropdown",onMouseEnter:()=>r(!0),onMouseLeave:()=>r(!1),style:{position:"relative"},children:[E.jsx("span",{className:"nav-link dropdown-toggle",style:{cursor:a||n?"pointer":"default"},onClick:()=>{n&&n()},children:t}),i&&a&&E.jsx("div",{className:"dropdown-menu show",style:{minWidth:"180px"},children:e.map((u,c)=>E.jsx(tM,{...u},c))})]})};class Xr{fileHandle;data;constructor(e,n){this.fileHandle=e,this.data=Ct(n),Oi(this)}static async create(e,n,i={}){try{const r=await e.getFileHandle(n,{create:!0}),u=await(await r.getFile()).text(),c=u.trim()===""?{...i}:{...i,...JSON.parse(u)};return new Xr(r,c)}catch(r){console.error("Error loading JSON:",r);const a=await e.getFileHandle(n,{create:!0});return new Xr(a,{...i})}}async save(){try{let e=await this.fileHandle.queryPermission({mode:"readwrite"});if(e!=="granted"&&(e=await this.fileHandle.requestPermission({mode:"readwrite"})),e!=="granted")throw new Error("No permission to write file");const n=await this.fileHandle.createWritable();await n.write(JSON.stringify(this.data,null,2)),await n.close()}catch(e){console.error("Error saving JSON:",e)}}async updateField(e,n,i=!0){Ae(()=>{const r=e.split("/").filter(Boolean);let a=this.data;for(let u=0;u<r.length;u++){const c=r[u];u===r.length-1?a[c]=n:((a[c]===void 0||a[c]===null||typeof a[c]!="object")&&(a[c]={}),a=a[c])}}),i&&await this.save()}getField(e){const n=e.split("/").filter(Boolean);let i=this.data;for(const r of n){if(i==null||typeof i!="object")return;i=i[r]}return i}}class Mi{handle;parent;urlObject=null;base64Data=null;path="";constructor(e,n,i=""){this.handle=e,this.parent=n,this.path=i+"/"+e.name}async getUrlObject(){if(!this.urlObject)try{const e=await this.handle.getFile();this.urlObject=URL.createObjectURL(e)}catch(e){console.error("Failed to create object URL for file:",e),this.urlObject=""}return this.urlObject}revokeUrl(){this.urlObject&&(URL.revokeObjectURL(this.urlObject),this.urlObject=null)}static async fromUrl(e,n){try{const i=await fetch(e);if(!i.ok)throw new Error(`Failed to fetch image: ${i.statusText}`);const r=await i.blob(),a=e.split("/");let u=a[a.length-1];const c=await n.getFileHandle(u,{create:!0}),h=await c.createWritable();return await h.write(r),await h.close(),new Mi(c,n)}catch(i){throw console.error("Failed to create LocalImage from URL:",i),i}}async delete(){try{this.revokeUrl(),await this.parent.removeEntry(this.handle.name)}catch(e){throw console.error("Failed to delete image file:",e),e}}async getBase64(){if(this.base64Data)return this.base64Data;try{const e=await this.handle.getFile(),n=await e.arrayBuffer(),i=e.type||"image/png",r=EF(n);return this.base64Data={rawBase64:r,mime:i},this.base64Data}catch(e){return console.error("Failed to create Base64 from file:",e),{rawBase64:"",mime:"image/png"}}}static async fromBase64(e,n,i){try{let r=e.rawBase64;const a=`data:${e.mime};base64,`;r.startsWith(a)&&(r=r.slice(a.length));const u=atob(r),c=u.length,h=new Uint8Array(c);for(let S=0;S<c;S++)h[S]=u.charCodeAt(S);const d=await n.getFileHandle(i,{create:!0}),m=await d.createWritable();await m.write(h),await m.close();const y=new Mi(d,n);return y.base64Data=e,y}catch(r){throw console.error("Failed to create LocalImage from Base64:",r),r}}}function EF(t){let e="";const n=new Uint8Array(t),i=n.byteLength;for(let r=0;r<i;r++)e+=String.fromCharCode(n[r]);return btoa(e)}var wF={};let CF,TF;function AF(){return{geminiUrl:CF,vertexUrl:TF}}function xF(t,e,n,i){var r,a;if(!t?.baseUrl){const u=AF();return e?(r=u.vertexUrl)!==null&&r!==void 0?r:n:(a=u.geminiUrl)!==null&&a!==void 0?a:i}return t.baseUrl}class _o{}function fe(t,e){const n=/\{([^}]+)\}/g;return t.replace(n,(i,r)=>{if(Object.prototype.hasOwnProperty.call(e,r)){const a=e[r];return a!=null?String(a):""}else throw new Error(`Key '${r}' not found in valueMap.`)})}function g(t,e,n){for(let a=0;a<e.length-1;a++){const u=e[a];if(u.endsWith("[]")){const c=u.slice(0,-2);if(!(c in t))if(Array.isArray(n))t[c]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${u}`);if(Array.isArray(t[c])){const h=t[c];if(Array.isArray(n))for(let d=0;d<h.length;d++){const m=h[d];g(m,e.slice(a+1),n[d])}else for(const d of h)g(d,e.slice(a+1),n)}return}else if(u.endsWith("[0]")){const c=u.slice(0,-3);c in t||(t[c]=[{}]);const h=t[c];g(h[0],e.slice(a+1),n);return}(!t[u]||typeof t[u]!="object")&&(t[u]={}),t=t[u]}const i=e[e.length-1],r=t[i];if(r!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===r)return;if(typeof r=="object"&&typeof n=="object"&&r!==null&&n!==null)Object.assign(r,n);else throw new Error(`Cannot set value for an existing key. Key: ${i}`)}else i==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(t,n):t[i]=n}function p(t,e,n=void 0){try{if(e.length===1&&e[0]==="_self")return t;for(let i=0;i<e.length;i++){if(typeof t!="object"||t===null)return n;const r=e[i];if(r.endsWith("[]")){const a=r.slice(0,-2);if(a in t){const u=t[a];return Array.isArray(u)?u.map(c=>p(c,e.slice(i+1),n)):n}else return n}else t=t[r]}return t}catch(i){if(i instanceof TypeError)return n;throw i}}function RF(t,e){for(const[n,i]of Object.entries(e)){const r=n.split("."),a=i.split("."),u=new Set;let c=-1;for(let h=0;h<r.length;h++)if(r[h]==="*"){c=h;break}if(c!==-1&&a.length>c)for(let h=c;h<a.length;h++){const d=a[h];d!=="*"&&!d.endsWith("[]")&&!d.endsWith("[0]")&&u.add(d)}pv(t,r,a,0,u)}}function pv(t,e,n,i,r){if(i>=e.length||typeof t!="object"||t===null)return;const a=e[i];if(a.endsWith("[]")){const u=a.slice(0,-2),c=t;if(u in c&&Array.isArray(c[u]))for(const h of c[u])pv(h,e,n,i+1,r)}else if(a==="*"){if(typeof t=="object"&&t!==null&&!Array.isArray(t)){const u=t,c=Object.keys(u).filter(d=>!d.startsWith("_")&&!r.has(d)),h={};for(const d of c)h[d]=u[d];for(const[d,m]of Object.entries(h)){const y=[];for(const S of n.slice(i))S==="*"?y.push(d):y.push(S);g(u,y,m)}for(const d of c)delete u[d]}}else{const u=t;a in u&&pv(u[a],e,n,i+1,r)}}function Oy(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}function MF(t){const e={},n=p(t,["operationName"]);n!=null&&g(e,["operationName"],n);const i=p(t,["resourceName"]);return i!=null&&g(e,["_url","resourceName"],i),e}function NF(t){const e={},n=p(t,["name"]);n!=null&&g(e,["name"],n);const i=p(t,["metadata"]);i!=null&&g(e,["metadata"],i);const r=p(t,["done"]);r!=null&&g(e,["done"],r);const a=p(t,["error"]);a!=null&&g(e,["error"],a);const u=p(t,["response","generateVideoResponse"]);return u!=null&&g(e,["response"],DF(u)),e}function IF(t){const e={},n=p(t,["name"]);n!=null&&g(e,["name"],n);const i=p(t,["metadata"]);i!=null&&g(e,["metadata"],i);const r=p(t,["done"]);r!=null&&g(e,["done"],r);const a=p(t,["error"]);a!=null&&g(e,["error"],a);const u=p(t,["response"]);return u!=null&&g(e,["response"],OF(u)),e}function DF(t){const e={},n=p(t,["generatedSamples"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(u=>PF(u))),g(e,["generatedVideos"],a)}const i=p(t,["raiMediaFilteredCount"]);i!=null&&g(e,["raiMediaFilteredCount"],i);const r=p(t,["raiMediaFilteredReasons"]);return r!=null&&g(e,["raiMediaFilteredReasons"],r),e}function OF(t){const e={},n=p(t,["videos"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(u=>kF(u))),g(e,["generatedVideos"],a)}const i=p(t,["raiMediaFilteredCount"]);i!=null&&g(e,["raiMediaFilteredCount"],i);const r=p(t,["raiMediaFilteredReasons"]);return r!=null&&g(e,["raiMediaFilteredReasons"],r),e}function PF(t){const e={},n=p(t,["video"]);return n!=null&&g(e,["video"],HF(n)),e}function kF(t){const e={},n=p(t,["_self"]);return n!=null&&g(e,["video"],GF(n)),e}function LF(t){const e={},n=p(t,["operationName"]);return n!=null&&g(e,["_url","operationName"],n),e}function UF(t){const e={},n=p(t,["operationName"]);return n!=null&&g(e,["_url","operationName"],n),e}function BF(t){const e={},n=p(t,["name"]);n!=null&&g(e,["name"],n);const i=p(t,["metadata"]);i!=null&&g(e,["metadata"],i);const r=p(t,["done"]);r!=null&&g(e,["done"],r);const a=p(t,["error"]);a!=null&&g(e,["error"],a);const u=p(t,["response"]);return u!=null&&g(e,["response"],FF(u)),e}function FF(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const i=p(t,["parent"]);i!=null&&g(e,["parent"],i);const r=p(t,["documentName"]);return r!=null&&g(e,["documentName"],r),e}function nM(t){const e={},n=p(t,["name"]);n!=null&&g(e,["name"],n);const i=p(t,["metadata"]);i!=null&&g(e,["metadata"],i);const r=p(t,["done"]);r!=null&&g(e,["done"],r);const a=p(t,["error"]);a!=null&&g(e,["error"],a);const u=p(t,["response"]);return u!=null&&g(e,["response"],$F(u)),e}function $F(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const i=p(t,["parent"]);i!=null&&g(e,["parent"],i);const r=p(t,["documentName"]);return r!=null&&g(e,["documentName"],r),e}function HF(t){const e={},n=p(t,["uri"]);n!=null&&g(e,["uri"],n);const i=p(t,["encodedVideo"]);i!=null&&g(e,["videoBytes"],Oy(i));const r=p(t,["encoding"]);return r!=null&&g(e,["mimeType"],r),e}function GF(t){const e={},n=p(t,["gcsUri"]);n!=null&&g(e,["uri"],n);const i=p(t,["bytesBase64Encoded"]);i!=null&&g(e,["videoBytes"],Oy(i));const r=p(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}var Hw;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(Hw||(Hw={}));var Gw;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(Gw||(Gw={}));var Vw;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(Vw||(Vw={}));var tr;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(tr||(tr={}));var zw;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(zw||(zw={}));var qw;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(qw||(qw={}));var Jw;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(Jw||(Jw={}));var Kw;(function(t){t.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",t.HTTP_IN_QUERY="HTTP_IN_QUERY",t.HTTP_IN_HEADER="HTTP_IN_HEADER",t.HTTP_IN_PATH="HTTP_IN_PATH",t.HTTP_IN_BODY="HTTP_IN_BODY",t.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(Kw||(Kw={}));var Yw;(function(t){t.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",t.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",t.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",t.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(Yw||(Yw={}));var jw;(function(t){t.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",t.LOW="LOW",t.HIGH="HIGH"})(jw||(jw={}));var Xw;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(Xw||(Xw={}));var Ww;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(Ww||(Ww={}));var Qw;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(Qw||(Qw={}));var Zw;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",t.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",t.NO_IMAGE="NO_IMAGE",t.IMAGE_RECITATION="IMAGE_RECITATION",t.IMAGE_OTHER="IMAGE_OTHER"})(Zw||(Zw={}));var eC;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(eC||(eC={}));var tC;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(tC||(tC={}));var nC;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",t.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",t.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(nC||(nC={}));var iC;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY",t.MODEL_ARMOR="MODEL_ARMOR",t.JAILBREAK="JAILBREAK"})(iC||(iC={}));var oC;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(oC||(oC={}));var Ed;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(Ed||(Ed={}));var rC;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(rC||(rC={}));var sC;(function(t){t.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",t.TUNING_MODE_FULL="TUNING_MODE_FULL",t.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(sC||(sC={}));var aC;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(aC||(aC={}));var mv;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(mv||(mv={}));var lC;(function(t){t.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",t.TUNING_TASK_I2V="TUNING_TASK_I2V",t.TUNING_TASK_T2V="TUNING_TASK_T2V",t.TUNING_TASK_R2V="TUNING_TASK_R2V"})(lC||(lC={}));var uC;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(uC||(uC={}));var cC;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(cC||(cC={}));var fC;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(fC||(fC={}));var dC;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(dC||(dC={}));var hC;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(hC||(hC={}));var pC;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE",t.VALIDATED="VALIDATED"})(pC||(pC={}));var mC;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(mC||(mC={}));var gC;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(gC||(gC={}));var vC;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(vC||(vC={}));var yC;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(yC||(yC={}));var _C;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(_C||(_C={}));var SC;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(SC||(SC={}));var bC;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(bC||(bC={}));var EC;(function(t){t.FOREGROUND="FOREGROUND",t.BACKGROUND="BACKGROUND",t.PROMPT="PROMPT",t.SEMANTIC="SEMANTIC",t.INTERACTIVE="INTERACTIVE"})(EC||(EC={}));var wC;(function(t){t.ASSET="ASSET",t.STYLE="STYLE"})(wC||(wC={}));var CC;(function(t){t.INSERT="INSERT",t.REMOVE="REMOVE",t.REMOVE_STATIC="REMOVE_STATIC",t.OUTPAINT="OUTPAINT"})(CC||(CC={}));var TC;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(TC||(TC={}));var AC;(function(t){t.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",t.PREFERENCE_TUNING="PREFERENCE_TUNING"})(AC||(AC={}));var xC;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.STATE_PENDING="STATE_PENDING",t.STATE_ACTIVE="STATE_ACTIVE",t.STATE_FAILED="STATE_FAILED"})(xC||(xC={}));var RC;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(RC||(RC={}));var MC;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED"})(MC||(MC={}));var NC;(function(t){t.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.RESPONSE_REJECTED="RESPONSE_REJECTED",t.NEED_MORE_INPUT="NEED_MORE_INPUT"})(NC||(NC={}));var IC;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(IC||(IC={}));var DC;(function(t){t.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",t.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",t.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(DC||(DC={}));var OC;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(OC||(OC={}));var PC;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(PC||(PC={}));var kC;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(kC||(kC={}));var LC;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(LC||(LC={}));var UC;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(UC||(UC={}));var BC;(function(t){t.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",t.QUALITY="QUALITY",t.DIVERSITY="DIVERSITY",t.VOCALIZATION="VOCALIZATION"})(BC||(BC={}));var aa;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(aa||(aa={}));class gv{constructor(e){const n={};for(const i of e.headers.entries())n[i[0]]=i[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class kl{get text(){var e,n,i,r,a,u,c,h;if(((r=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let d="",m=!1;const y=[];for(const S of(h=(c=(u=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||u===void 0?void 0:u.content)===null||c===void 0?void 0:c.parts)!==null&&h!==void 0?h:[]){for(const[b,T]of Object.entries(S))b!=="text"&&b!=="thought"&&b!=="thoughtSignature"&&(T!==null||T!==void 0)&&y.push(b);if(typeof S.text=="string"){if(typeof S.thought=="boolean"&&S.thought)continue;m=!0,d+=S.text}}return y.length>0&&console.warn(`there are non-text parts ${y} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),m?d:void 0}get data(){var e,n,i,r,a,u,c,h;if(((r=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let d="";const m=[];for(const y of(h=(c=(u=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||u===void 0?void 0:u.content)===null||c===void 0?void 0:c.parts)!==null&&h!==void 0?h:[]){for(const[S,b]of Object.entries(y))S!=="inlineData"&&(b!==null||b!==void 0)&&m.push(S);y.inlineData&&typeof y.inlineData.data=="string"&&(d+=atob(y.inlineData.data))}return m.length>0&&console.warn(`there are non-data parts ${m} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),d.length>0?btoa(d):void 0}get functionCalls(){var e,n,i,r,a,u,c,h;if(((r=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const d=(h=(c=(u=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||u===void 0?void 0:u.content)===null||c===void 0?void 0:c.parts)===null||h===void 0?void 0:h.filter(m=>m.functionCall).map(m=>m.functionCall).filter(m=>m!==void 0);if(d?.length!==0)return d}get executableCode(){var e,n,i,r,a,u,c,h,d;if(((r=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const m=(h=(c=(u=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||u===void 0?void 0:u.content)===null||c===void 0?void 0:c.parts)===null||h===void 0?void 0:h.filter(y=>y.executableCode).map(y=>y.executableCode).filter(y=>y!==void 0);if(m?.length!==0)return(d=m?.[0])===null||d===void 0?void 0:d.code}get codeExecutionResult(){var e,n,i,r,a,u,c,h,d;if(((r=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const m=(h=(c=(u=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||u===void 0?void 0:u.content)===null||c===void 0?void 0:c.parts)===null||h===void 0?void 0:h.filter(y=>y.codeExecutionResult).map(y=>y.codeExecutionResult).filter(y=>y!==void 0);if(m?.length!==0)return(d=m?.[0])===null||d===void 0?void 0:d.output}}class FC{}class $C{}class VF{}class zF{}class qF{}class JF{}class HC{}class GC{}class VC{}class KF{}class wd{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const i=new wd;let r;const a=e;return n?r=IF(a):r=NF(a),Object.assign(i,r),i}}class zC{}class qC{}class JC{}class KC{}class YF{}class jF{}class XF{}class Py{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const i=new Py,a=BF(e);return Object.assign(i,a),i}}class WF{}class QF{}class ZF{}class YC{}class e${get text(){var e,n,i;let r="",a=!1;const u=[];for(const c of(i=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&i!==void 0?i:[]){for(const[h,d]of Object.entries(c))h!=="text"&&h!=="thought"&&d!==null&&u.push(h);if(typeof c.text=="string"){if(typeof c.thought=="boolean"&&c.thought)continue;a=!0,r+=c.text}}return u.length>0&&console.warn(`there are non-text parts ${u} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),a?r:void 0}get data(){var e,n,i;let r="";const a=[];for(const u of(i=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&i!==void 0?i:[]){for(const[c,h]of Object.entries(u))c!=="inlineData"&&h!==null&&a.push(c);u.inlineData&&typeof u.inlineData.data=="string"&&(r+=atob(u.inlineData.data))}return a.length>0&&console.warn(`there are non-data parts ${a} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),r.length>0?btoa(r):void 0}}class t${get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class ky{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const i=new ky,a=nM(e);return Object.assign(i,a),i}}function Ve(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function iM(t,e){const n=Ve(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function oM(t){return Array.isArray(t)?t.map(e=>Cd(e)):[Cd(t)]}function Cd(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function rM(t){const e=Cd(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function sM(t){const e=Cd(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function jC(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function aM(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>jC(e)):[jC(t)]}function vv(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function XC(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function WC(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function Ut(t){if(t==null)throw new Error("ContentUnion is required");return vv(t)?t:{role:"user",parts:aM(t)}}function Ly(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{const i=Ut(n);return i.parts&&i.parts.length>0&&i.parts[0].text!==void 0?[i.parts[0].text]:[]});if(t.isVertexAI()){const n=Ut(e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>Ut(n)):[Ut(e)]}function Hn(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(XC(t)||WC(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[Ut(t)]}const e=[],n=[],i=vv(t[0]);for(const r of t){const a=vv(r);if(a!=i)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(a)e.push(r);else{if(XC(r)||WC(r))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(r)}}return i||e.push({role:"user",parts:aM(n)}),e}function n$(t,e){t.includes("null")&&(e.nullable=!0);const n=t.filter(i=>i!=="null");if(n.length===1)e.type=Object.values(tr).includes(n[0].toUpperCase())?n[0].toUpperCase():tr.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const i of n)e.anyOf.push({type:Object.values(tr).includes(i.toUpperCase())?i.toUpperCase():tr.TYPE_UNSPECIFIED})}}function ca(t){const e={},n=["items"],i=["anyOf"],r=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const a=t.anyOf;a!=null&&a.length==2&&(a[0].type==="null"?(e.nullable=!0,t=a[1]):a[1].type==="null"&&(e.nullable=!0,t=a[0])),t.type instanceof Array&&n$(t.type,e);for(const[u,c]of Object.entries(t))if(c!=null)if(u=="type"){if(c==="null")throw new Error("type: null can not be the only possible type for the field.");if(c instanceof Array)continue;e.type=Object.values(tr).includes(c.toUpperCase())?c.toUpperCase():tr.TYPE_UNSPECIFIED}else if(n.includes(u))e[u]=ca(c);else if(i.includes(u)){const h=[];for(const d of c){if(d.type=="null"){e.nullable=!0;continue}h.push(ca(d))}e[u]=h}else if(r.includes(u)){const h={};for(const[d,m]of Object.entries(c))h[d]=ca(m);e[u]=h}else{if(u==="additionalProperties")continue;e[u]=c}return e}function Uy(t){return ca(t)}function By(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function Fy(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function Ra(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=ca(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=ca(e.response));return t}function Ma(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const n of t)e.push(n);return e}function i$(t,e,n,i=1){const r=!e.startsWith(`${n}/`)&&e.split("/").length===i;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:r?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:r?`${n}/${e}`:e}function So(t,e){if(typeof e!="string")throw new Error("name must be a string");return i$(t,e,"cachedContents")}function lM(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function hr(t){return Oy(t)}function o$(t){return t!=null&&typeof t=="object"&&"name"in t}function r$(t){return t!=null&&typeof t=="object"&&"video"in t}function s$(t){return t!=null&&typeof t=="object"&&"uri"in t}function uM(t){var e;let n;if(o$(t)&&(n=t.name),!(s$(t)&&(n=t.uri,n===void 0))&&!(r$(t)&&(n=(e=t.video)===null||e===void 0?void 0:e.uri,n===void 0))){if(typeof t=="string"&&(n=t),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const r=n.split("files/")[1].match(/[a-z0-9]+/);if(r===null)throw new Error(`Could not extract file name from URI ${n}`);n=r[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function cM(t,e){let n;return t.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function fM(t){for(const e of["models","tunedModels","publisherModels"])if(a$(t,e))return t[e];return[]}function a$(t,e){return t!==null&&typeof t=="object"&&e in t}function l$(t,e={}){const n=t,i={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(i.responseJsonSchema=n.outputSchema),e.behavior&&(i.behavior=e.behavior),{functionDeclarations:[i]}}function u$(t,e={}){const n=[],i=new Set;for(const r of t){const a=r.name;if(i.has(a))throw new Error(`Duplicate function name ${a} found in MCP tools. Please ensure function names are unique.`);i.add(a);const u=l$(r,e);u.functionDeclarations&&n.push(...u.functionDeclarations)}return{functionDeclarations:n}}function dM(t,e){let n;if(typeof e=="string")if(t.isVertexAI())if(e.startsWith("gs://"))n={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))n={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))n={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(t.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:e}}else n=e;const i=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,r=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(t.isVertexAI()){if(r>0||i!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(i>0||r!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function c$(t){if(typeof t!="string")return t;const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function hM(t){if(typeof t!="object"||t===null)return{};const e=t,n=e.inlinedResponses;if(typeof n!="object"||n===null)return t;const r=n.inlinedResponses;if(!Array.isArray(r)||r.length===0)return t;let a=!1;for(const u of r){if(typeof u!="object"||u===null)continue;const h=u.response;if(typeof h!="object"||h===null)continue;if(h.embedding!==void 0){a=!0;break}}return a&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),t}function Na(t,e){const n=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function pM(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}function f$(t){const e={},n=p(t,["responsesFile"]);n!=null&&g(e,["fileName"],n);const i=p(t,["inlinedResponses","inlinedResponses"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(u=>q$(u))),g(e,["inlinedResponses"],a)}const r=p(t,["inlinedEmbedContentResponses","inlinedResponses"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(u=>u)),g(e,["inlinedEmbedContentResponses"],a)}return e}function d$(t){const e={},n=p(t,["predictionsFormat"]);n!=null&&g(e,["format"],n);const i=p(t,["gcsDestination","outputUriPrefix"]);i!=null&&g(e,["gcsUri"],i);const r=p(t,["bigqueryDestination","outputUri"]);return r!=null&&g(e,["bigqueryUri"],r),e}function h$(t){const e={},n=p(t,["format"]);n!=null&&g(e,["predictionsFormat"],n);const i=p(t,["gcsUri"]);i!=null&&g(e,["gcsDestination","outputUriPrefix"],i);const r=p(t,["bigqueryUri"]);if(r!=null&&g(e,["bigqueryDestination","outputUri"],r),p(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(p(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(p(t,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function Xf(t){const e={},n=p(t,["name"]);n!=null&&g(e,["name"],n);const i=p(t,["metadata","displayName"]);i!=null&&g(e,["displayName"],i);const r=p(t,["metadata","state"]);r!=null&&g(e,["state"],pM(r));const a=p(t,["metadata","createTime"]);a!=null&&g(e,["createTime"],a);const u=p(t,["metadata","endTime"]);u!=null&&g(e,["endTime"],u);const c=p(t,["metadata","updateTime"]);c!=null&&g(e,["updateTime"],c);const h=p(t,["metadata","model"]);h!=null&&g(e,["model"],h);const d=p(t,["metadata","output"]);return d!=null&&g(e,["dest"],f$(hM(d))),e}function yv(t){const e={},n=p(t,["name"]);n!=null&&g(e,["name"],n);const i=p(t,["displayName"]);i!=null&&g(e,["displayName"],i);const r=p(t,["state"]);r!=null&&g(e,["state"],pM(r));const a=p(t,["error"]);a!=null&&g(e,["error"],a);const u=p(t,["createTime"]);u!=null&&g(e,["createTime"],u);const c=p(t,["startTime"]);c!=null&&g(e,["startTime"],c);const h=p(t,["endTime"]);h!=null&&g(e,["endTime"],h);const d=p(t,["updateTime"]);d!=null&&g(e,["updateTime"],d);const m=p(t,["model"]);m!=null&&g(e,["model"],m);const y=p(t,["inputConfig"]);y!=null&&g(e,["src"],p$(y));const S=p(t,["outputConfig"]);S!=null&&g(e,["dest"],d$(hM(S)));const b=p(t,["completionStats"]);return b!=null&&g(e,["completionStats"],b),e}function p$(t){const e={},n=p(t,["instancesFormat"]);n!=null&&g(e,["format"],n);const i=p(t,["gcsSource","uris"]);i!=null&&g(e,["gcsUri"],i);const r=p(t,["bigquerySource","inputUri"]);return r!=null&&g(e,["bigqueryUri"],r),e}function m$(t,e){const n={};if(p(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(p(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(p(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const i=p(e,["fileName"]);i!=null&&g(n,["fileName"],i);const r=p(e,["inlinedRequests"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(u=>z$(t,u))),g(n,["requests","requests"],a)}return n}function g$(t){const e={},n=p(t,["format"]);n!=null&&g(e,["instancesFormat"],n);const i=p(t,["gcsUri"]);i!=null&&g(e,["gcsSource","uris"],i);const r=p(t,["bigqueryUri"]);if(r!=null&&g(e,["bigquerySource","inputUri"],r),p(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(p(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function v$(t){const e={},n=p(t,["data"]);if(n!=null&&g(e,["data"],n),p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=p(t,["mimeType"]);return i!=null&&g(e,["mimeType"],i),e}function y$(t,e){const n={},i=p(e,["name"]);return i!=null&&g(n,["_url","name"],Na(t,i)),n}function _$(t,e){const n={},i=p(e,["name"]);return i!=null&&g(n,["_url","name"],Na(t,i)),n}function S$(t){const e={},n=p(t,["content"]);n!=null&&g(e,["content"],n);const i=p(t,["citationMetadata"]);i!=null&&g(e,["citationMetadata"],b$(i));const r=p(t,["tokenCount"]);r!=null&&g(e,["tokenCount"],r);const a=p(t,["finishReason"]);a!=null&&g(e,["finishReason"],a);const u=p(t,["avgLogprobs"]);u!=null&&g(e,["avgLogprobs"],u);const c=p(t,["groundingMetadata"]);c!=null&&g(e,["groundingMetadata"],c);const h=p(t,["index"]);h!=null&&g(e,["index"],h);const d=p(t,["logprobsResult"]);d!=null&&g(e,["logprobsResult"],d);const m=p(t,["safetyRatings"]);if(m!=null){let S=m;Array.isArray(S)&&(S=S.map(b=>b)),g(e,["safetyRatings"],S)}const y=p(t,["urlContextMetadata"]);return y!=null&&g(e,["urlContextMetadata"],y),e}function b$(t){const e={},n=p(t,["citationSources"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(r=>r)),g(e,["citations"],i)}return e}function mM(t){const e={},n=p(t,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(a=>Q$(a))),g(e,["parts"],r)}const i=p(t,["role"]);return i!=null&&g(e,["role"],i),e}function E$(t,e){const n={},i=p(t,["displayName"]);if(e!==void 0&&i!=null&&g(e,["batch","displayName"],i),p(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function w$(t,e){const n={},i=p(t,["displayName"]);e!==void 0&&i!=null&&g(e,["displayName"],i);const r=p(t,["dest"]);return e!==void 0&&r!=null&&g(e,["outputConfig"],h$(c$(r))),n}function QC(t,e){const n={},i=p(e,["model"]);i!=null&&g(n,["_url","model"],Ve(t,i));const r=p(e,["src"]);r!=null&&g(n,["batch","inputConfig"],m$(t,dM(t,r)));const a=p(e,["config"]);return a!=null&&E$(a,n),n}function C$(t,e){const n={},i=p(e,["model"]);i!=null&&g(n,["model"],Ve(t,i));const r=p(e,["src"]);r!=null&&g(n,["inputConfig"],g$(dM(t,r)));const a=p(e,["config"]);return a!=null&&w$(a,n),n}function T$(t,e){const n={},i=p(t,["displayName"]);return e!==void 0&&i!=null&&g(e,["batch","displayName"],i),n}function A$(t,e){const n={},i=p(e,["model"]);i!=null&&g(n,["_url","model"],Ve(t,i));const r=p(e,["src"]);r!=null&&g(n,["batch","inputConfig"],O$(t,r));const a=p(e,["config"]);return a!=null&&T$(a,n),n}function x$(t,e){const n={},i=p(e,["name"]);return i!=null&&g(n,["_url","name"],Na(t,i)),n}function R$(t,e){const n={},i=p(e,["name"]);return i!=null&&g(n,["_url","name"],Na(t,i)),n}function M$(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const i=p(t,["name"]);i!=null&&g(e,["name"],i);const r=p(t,["done"]);r!=null&&g(e,["done"],r);const a=p(t,["error"]);return a!=null&&g(e,["error"],a),e}function N$(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const i=p(t,["name"]);i!=null&&g(e,["name"],i);const r=p(t,["done"]);r!=null&&g(e,["done"],r);const a=p(t,["error"]);return a!=null&&g(e,["error"],a),e}function I$(t,e){const n={},i=p(e,["contents"]);if(i!=null){let a=Ly(t,i);Array.isArray(a)&&(a=a.map(u=>u)),g(n,["requests[]","request","content"],a)}const r=p(e,["config"]);return r!=null&&(g(n,["_self"],D$(r,n)),RF(n,{"requests[].*":"requests[].request.*"})),n}function D$(t,e){const n={},i=p(t,["taskType"]);e!==void 0&&i!=null&&g(e,["requests[]","taskType"],i);const r=p(t,["title"]);e!==void 0&&r!=null&&g(e,["requests[]","title"],r);const a=p(t,["outputDimensionality"]);if(e!==void 0&&a!=null&&g(e,["requests[]","outputDimensionality"],a),p(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(p(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function O$(t,e){const n={},i=p(e,["fileName"]);i!=null&&g(n,["file_name"],i);const r=p(e,["inlinedRequests"]);return r!=null&&g(n,["requests"],I$(t,r)),n}function P$(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=p(t,["fileUri"]);n!=null&&g(e,["fileUri"],n);const i=p(t,["mimeType"]);return i!=null&&g(e,["mimeType"],i),e}function k$(t){const e={},n=p(t,["id"]);n!=null&&g(e,["id"],n);const i=p(t,["args"]);i!=null&&g(e,["args"],i);const r=p(t,["name"]);if(r!=null&&g(e,["name"],r),p(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(p(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function L$(t){const e={},n=p(t,["mode"]);n!=null&&g(e,["mode"],n);const i=p(t,["allowedFunctionNames"]);if(i!=null&&g(e,["allowedFunctionNames"],i),p(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function U$(t,e,n){const i={},r=p(e,["systemInstruction"]);n!==void 0&&r!=null&&g(n,["systemInstruction"],mM(Ut(r)));const a=p(e,["temperature"]);a!=null&&g(i,["temperature"],a);const u=p(e,["topP"]);u!=null&&g(i,["topP"],u);const c=p(e,["topK"]);c!=null&&g(i,["topK"],c);const h=p(e,["candidateCount"]);h!=null&&g(i,["candidateCount"],h);const d=p(e,["maxOutputTokens"]);d!=null&&g(i,["maxOutputTokens"],d);const m=p(e,["stopSequences"]);m!=null&&g(i,["stopSequences"],m);const y=p(e,["responseLogprobs"]);y!=null&&g(i,["responseLogprobs"],y);const S=p(e,["logprobs"]);S!=null&&g(i,["logprobs"],S);const b=p(e,["presencePenalty"]);b!=null&&g(i,["presencePenalty"],b);const T=p(e,["frequencyPenalty"]);T!=null&&g(i,["frequencyPenalty"],T);const A=p(e,["seed"]);A!=null&&g(i,["seed"],A);const x=p(e,["responseMimeType"]);x!=null&&g(i,["responseMimeType"],x);const M=p(e,["responseSchema"]);M!=null&&g(i,["responseSchema"],Uy(M));const I=p(e,["responseJsonSchema"]);if(I!=null&&g(i,["responseJsonSchema"],I),p(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(p(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const N=p(e,["safetySettings"]);if(n!==void 0&&N!=null){let ie=N;Array.isArray(ie)&&(ie=ie.map(ae=>Z$(ae))),g(n,["safetySettings"],ie)}const D=p(e,["tools"]);if(n!==void 0&&D!=null){let ie=Ma(D);Array.isArray(ie)&&(ie=ie.map(ae=>tH(Ra(ae)))),g(n,["tools"],ie)}const L=p(e,["toolConfig"]);if(n!==void 0&&L!=null&&g(n,["toolConfig"],eH(L)),p(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const U=p(e,["cachedContent"]);n!==void 0&&U!=null&&g(n,["cachedContent"],So(t,U));const O=p(e,["responseModalities"]);O!=null&&g(i,["responseModalities"],O);const q=p(e,["mediaResolution"]);q!=null&&g(i,["mediaResolution"],q);const J=p(e,["speechConfig"]);if(J!=null&&g(i,["speechConfig"],By(J)),p(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const j=p(e,["thinkingConfig"]);j!=null&&g(i,["thinkingConfig"],j);const W=p(e,["imageConfig"]);W!=null&&g(i,["imageConfig"],V$(W));const re=p(e,["enableEnhancedCivicAnswers"]);return re!=null&&g(i,["enableEnhancedCivicAnswers"],re),i}function B$(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const i=p(t,["candidates"]);if(i!=null){let h=i;Array.isArray(h)&&(h=h.map(d=>S$(d))),g(e,["candidates"],h)}const r=p(t,["modelVersion"]);r!=null&&g(e,["modelVersion"],r);const a=p(t,["promptFeedback"]);a!=null&&g(e,["promptFeedback"],a);const u=p(t,["responseId"]);u!=null&&g(e,["responseId"],u);const c=p(t,["usageMetadata"]);return c!=null&&g(e,["usageMetadata"],c),e}function F$(t,e){const n={},i=p(e,["name"]);return i!=null&&g(n,["_url","name"],Na(t,i)),n}function $$(t,e){const n={},i=p(e,["name"]);return i!=null&&g(n,["_url","name"],Na(t,i)),n}function H$(t){const e={};if(p(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=p(t,["enableWidget"]);return n!=null&&g(e,["enableWidget"],n),e}function G$(t){const e={};if(p(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(p(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=p(t,["timeRangeFilter"]);return n!=null&&g(e,["timeRangeFilter"],n),e}function V$(t){const e={},n=p(t,["aspectRatio"]);n!=null&&g(e,["aspectRatio"],n);const i=p(t,["imageSize"]);if(i!=null&&g(e,["imageSize"],i),p(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(p(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function z$(t,e){const n={},i=p(e,["model"]);i!=null&&g(n,["request","model"],Ve(t,i));const r=p(e,["contents"]);if(r!=null){let c=Hn(r);Array.isArray(c)&&(c=c.map(h=>mM(h))),g(n,["request","contents"],c)}const a=p(e,["metadata"]);a!=null&&g(n,["metadata"],a);const u=p(e,["config"]);return u!=null&&g(n,["request","generationConfig"],U$(t,u,p(n,["request"],{}))),n}function q$(t){const e={},n=p(t,["response"]);n!=null&&g(e,["response"],B$(n));const i=p(t,["error"]);return i!=null&&g(e,["error"],i),e}function J$(t,e){const n={},i=p(t,["pageSize"]);e!==void 0&&i!=null&&g(e,["_query","pageSize"],i);const r=p(t,["pageToken"]);if(e!==void 0&&r!=null&&g(e,["_query","pageToken"],r),p(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function K$(t,e){const n={},i=p(t,["pageSize"]);e!==void 0&&i!=null&&g(e,["_query","pageSize"],i);const r=p(t,["pageToken"]);e!==void 0&&r!=null&&g(e,["_query","pageToken"],r);const a=p(t,["filter"]);return e!==void 0&&a!=null&&g(e,["_query","filter"],a),n}function Y$(t){const e={},n=p(t,["config"]);return n!=null&&J$(n,e),e}function j$(t){const e={},n=p(t,["config"]);return n!=null&&K$(n,e),e}function X$(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const i=p(t,["nextPageToken"]);i!=null&&g(e,["nextPageToken"],i);const r=p(t,["operations"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(u=>Xf(u))),g(e,["batchJobs"],a)}return e}function W$(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const i=p(t,["nextPageToken"]);i!=null&&g(e,["nextPageToken"],i);const r=p(t,["batchPredictionJobs"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(u=>yv(u))),g(e,["batchJobs"],a)}return e}function Q$(t){const e={},n=p(t,["mediaResolution"]);n!=null&&g(e,["mediaResolution"],n);const i=p(t,["codeExecutionResult"]);i!=null&&g(e,["codeExecutionResult"],i);const r=p(t,["executableCode"]);r!=null&&g(e,["executableCode"],r);const a=p(t,["fileData"]);a!=null&&g(e,["fileData"],P$(a));const u=p(t,["functionCall"]);u!=null&&g(e,["functionCall"],k$(u));const c=p(t,["functionResponse"]);c!=null&&g(e,["functionResponse"],c);const h=p(t,["inlineData"]);h!=null&&g(e,["inlineData"],v$(h));const d=p(t,["text"]);d!=null&&g(e,["text"],d);const m=p(t,["thought"]);m!=null&&g(e,["thought"],m);const y=p(t,["thoughtSignature"]);y!=null&&g(e,["thoughtSignature"],y);const S=p(t,["videoMetadata"]);return S!=null&&g(e,["videoMetadata"],S),e}function Z$(t){const e={},n=p(t,["category"]);if(n!=null&&g(e,["category"],n),p(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const i=p(t,["threshold"]);return i!=null&&g(e,["threshold"],i),e}function eH(t){const e={},n=p(t,["functionCallingConfig"]);n!=null&&g(e,["functionCallingConfig"],L$(n));const i=p(t,["retrievalConfig"]);return i!=null&&g(e,["retrievalConfig"],i),e}function tH(t){const e={},n=p(t,["functionDeclarations"]);if(n!=null){let m=n;Array.isArray(m)&&(m=m.map(y=>y)),g(e,["functionDeclarations"],m)}if(p(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=p(t,["googleSearchRetrieval"]);i!=null&&g(e,["googleSearchRetrieval"],i);const r=p(t,["computerUse"]);r!=null&&g(e,["computerUse"],r);const a=p(t,["fileSearch"]);a!=null&&g(e,["fileSearch"],a);const u=p(t,["codeExecution"]);if(u!=null&&g(e,["codeExecution"],u),p(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const c=p(t,["googleMaps"]);c!=null&&g(e,["googleMaps"],H$(c));const h=p(t,["googleSearch"]);h!=null&&g(e,["googleSearch"],G$(h));const d=p(t,["urlContext"]);return d!=null&&g(e,["urlContext"],d),e}var mo;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents",t.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",t.PAGED_ITEM_DOCUMENTS="documents"})(mo||(mo={}));class is{constructor(e,n,i,r){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,i,r)}init(e,n,i){var r,a;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n?.sdkHttpResponse,this.idxInternal=0;let u={config:{}};!i||Object.keys(i).length===0?u={config:{}}:typeof i=="object"?u=Object.assign({},i):u=i,u.config&&(u.config.pageToken=n.nextPageToken),this.paramsInternal=u,this.pageInternalSize=(a=(r=u.config)===null||r===void 0?void 0:r.pageSize)!==null&&a!==void 0?a:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}let nH=class extends _o{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new is(mo.PAGED_ITEM_BATCH_JOBS,i=>this.listInternal(i),await this.listInternal(n),n),this.create=async n=>(this.apiClient.isVertexAI()&&(n.config=this.formatDestination(n.src,n.config)),this.createInternal(n)),this.createEmbeddings=async n=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(n)}}createInlinedGenerateContentRequest(e){const n=QC(this.apiClient,e),i=n._url,r=fe("{model}:batchGenerateContent",i),c=n.batch.inputConfig.requests,h=c.requests,d=[];for(const m of h){const y=Object.assign({},m);if(y.systemInstruction){const S=y.systemInstruction;delete y.systemInstruction;const b=y.request;b.systemInstruction=S,y.request=b}d.push(y)}return c.requests=d,delete n.config,delete n._url,delete n._query,{path:r,body:n}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,n){const i=n?Object.assign({},n):{},r=Date.now().toString();if(i.displayName||(i.displayName=`genaiBatchJob_${r}`),i.dest===void 0){const a=this.getGcsUri(e),u=this.getBigqueryUri(e);if(a)a.endsWith(".jsonl")?i.dest=`${a.slice(0,-6)}/dest`:i.dest=`${a}_dest_${r}`;else if(u)i.dest=`${u}_dest_${r}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return i}async createInternal(e){var n,i,r,a;let u,c="",h={};if(this.apiClient.isVertexAI()){const d=C$(this.apiClient,e);return c=fe("batchPredictionJobs",d._url),h=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json()),u.then(m=>yv(m))}else{const d=QC(this.apiClient,e);return c=fe("{model}:batchGenerateContent",d._url),h=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json()),u.then(m=>Xf(m))}}async createEmbeddingsInternal(e){var n,i;let r,a="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=A$(this.apiClient,e);return a=fe("{model}:asyncBatchEmbedContent",c._url),u=c._query,delete c._url,delete c._query,r=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),r.then(h=>Xf(h))}}async get(e){var n,i,r,a;let u,c="",h={};if(this.apiClient.isVertexAI()){const d=$$(this.apiClient,e);return c=fe("batchPredictionJobs/{name}",d._url),h=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json()),u.then(m=>yv(m))}else{const d=F$(this.apiClient,e);return c=fe("batches/{name}",d._url),h=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json()),u.then(m=>Xf(m))}}async cancel(e){var n,i,r,a;let u="",c={};if(this.apiClient.isVertexAI()){const h=_$(this.apiClient,e);u=fe("batchPredictionJobs/{name}:cancel",h._url),c=h._query,delete h._url,delete h._query,await this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal})}else{const h=y$(this.apiClient,e);u=fe("batches/{name}:cancel",h._url),c=h._query,delete h._url,delete h._query,await this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal})}}async listInternal(e){var n,i,r,a;let u,c="",h={};if(this.apiClient.isVertexAI()){const d=j$(e);return c=fe("batchPredictionJobs",d._url),h=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json().then(y=>{const S=y;return S.sdkHttpResponse={headers:m.headers},S})),u.then(m=>{const y=W$(m),S=new YC;return Object.assign(S,y),S})}else{const d=Y$(e);return c=fe("batches",d._url),h=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json().then(y=>{const S=y;return S.sdkHttpResponse={headers:m.headers},S})),u.then(m=>{const y=X$(m),S=new YC;return Object.assign(S,y),S})}}async delete(e){var n,i,r,a;let u,c="",h={};if(this.apiClient.isVertexAI()){const d=R$(this.apiClient,e);return c=fe("batchPredictionJobs/{name}",d._url),h=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json().then(y=>{const S=y;return S.sdkHttpResponse={headers:m.headers},S})),u.then(m=>N$(m))}else{const d=x$(this.apiClient,e);return c=fe("batches/{name}",d._url),h=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json().then(y=>{const S=y;return S.sdkHttpResponse={headers:m.headers},S})),u.then(m=>M$(m))}}};function iH(t){const e={},n=p(t,["data"]);if(n!=null&&g(e,["data"],n),p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=p(t,["mimeType"]);return i!=null&&g(e,["mimeType"],i),e}function ZC(t){const e={},n=p(t,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(a=>AH(a))),g(e,["parts"],r)}const i=p(t,["role"]);return i!=null&&g(e,["role"],i),e}function oH(t,e){const n={},i=p(t,["ttl"]);e!==void 0&&i!=null&&g(e,["ttl"],i);const r=p(t,["expireTime"]);e!==void 0&&r!=null&&g(e,["expireTime"],r);const a=p(t,["displayName"]);e!==void 0&&a!=null&&g(e,["displayName"],a);const u=p(t,["contents"]);if(e!==void 0&&u!=null){let m=Hn(u);Array.isArray(m)&&(m=m.map(y=>ZC(y))),g(e,["contents"],m)}const c=p(t,["systemInstruction"]);e!==void 0&&c!=null&&g(e,["systemInstruction"],ZC(Ut(c)));const h=p(t,["tools"]);if(e!==void 0&&h!=null){let m=h;Array.isArray(m)&&(m=m.map(y=>RH(y))),g(e,["tools"],m)}const d=p(t,["toolConfig"]);if(e!==void 0&&d!=null&&g(e,["toolConfig"],xH(d)),p(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function rH(t,e){const n={},i=p(t,["ttl"]);e!==void 0&&i!=null&&g(e,["ttl"],i);const r=p(t,["expireTime"]);e!==void 0&&r!=null&&g(e,["expireTime"],r);const a=p(t,["displayName"]);e!==void 0&&a!=null&&g(e,["displayName"],a);const u=p(t,["contents"]);if(e!==void 0&&u!=null){let y=Hn(u);Array.isArray(y)&&(y=y.map(S=>S)),g(e,["contents"],y)}const c=p(t,["systemInstruction"]);e!==void 0&&c!=null&&g(e,["systemInstruction"],Ut(c));const h=p(t,["tools"]);if(e!==void 0&&h!=null){let y=h;Array.isArray(y)&&(y=y.map(S=>MH(S))),g(e,["tools"],y)}const d=p(t,["toolConfig"]);e!==void 0&&d!=null&&g(e,["toolConfig"],d);const m=p(t,["kmsKeyName"]);return e!==void 0&&m!=null&&g(e,["encryption_spec","kmsKeyName"],m),n}function sH(t,e){const n={},i=p(e,["model"]);i!=null&&g(n,["model"],iM(t,i));const r=p(e,["config"]);return r!=null&&oH(r,n),n}function aH(t,e){const n={},i=p(e,["model"]);i!=null&&g(n,["model"],iM(t,i));const r=p(e,["config"]);return r!=null&&rH(r,n),n}function lH(t,e){const n={},i=p(e,["name"]);return i!=null&&g(n,["_url","name"],So(t,i)),n}function uH(t,e){const n={},i=p(e,["name"]);return i!=null&&g(n,["_url","name"],So(t,i)),n}function cH(t){const e={},n=p(t,["sdkHttpResponse"]);return n!=null&&g(e,["sdkHttpResponse"],n),e}function fH(t){const e={},n=p(t,["sdkHttpResponse"]);return n!=null&&g(e,["sdkHttpResponse"],n),e}function dH(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=p(t,["fileUri"]);n!=null&&g(e,["fileUri"],n);const i=p(t,["mimeType"]);return i!=null&&g(e,["mimeType"],i),e}function hH(t){const e={},n=p(t,["id"]);n!=null&&g(e,["id"],n);const i=p(t,["args"]);i!=null&&g(e,["args"],i);const r=p(t,["name"]);if(r!=null&&g(e,["name"],r),p(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(p(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function pH(t){const e={},n=p(t,["mode"]);n!=null&&g(e,["mode"],n);const i=p(t,["allowedFunctionNames"]);if(i!=null&&g(e,["allowedFunctionNames"],i),p(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function mH(t){const e={};if(p(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=p(t,["description"]);n!=null&&g(e,["description"],n);const i=p(t,["name"]);i!=null&&g(e,["name"],i);const r=p(t,["parameters"]);r!=null&&g(e,["parameters"],r);const a=p(t,["parametersJsonSchema"]);a!=null&&g(e,["parametersJsonSchema"],a);const u=p(t,["response"]);u!=null&&g(e,["response"],u);const c=p(t,["responseJsonSchema"]);return c!=null&&g(e,["responseJsonSchema"],c),e}function gH(t,e){const n={},i=p(e,["name"]);return i!=null&&g(n,["_url","name"],So(t,i)),n}function vH(t,e){const n={},i=p(e,["name"]);return i!=null&&g(n,["_url","name"],So(t,i)),n}function yH(t){const e={};if(p(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=p(t,["enableWidget"]);return n!=null&&g(e,["enableWidget"],n),e}function _H(t){const e={};if(p(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(p(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=p(t,["timeRangeFilter"]);return n!=null&&g(e,["timeRangeFilter"],n),e}function SH(t,e){const n={},i=p(t,["pageSize"]);e!==void 0&&i!=null&&g(e,["_query","pageSize"],i);const r=p(t,["pageToken"]);return e!==void 0&&r!=null&&g(e,["_query","pageToken"],r),n}function bH(t,e){const n={},i=p(t,["pageSize"]);e!==void 0&&i!=null&&g(e,["_query","pageSize"],i);const r=p(t,["pageToken"]);return e!==void 0&&r!=null&&g(e,["_query","pageToken"],r),n}function EH(t){const e={},n=p(t,["config"]);return n!=null&&SH(n,e),e}function wH(t){const e={},n=p(t,["config"]);return n!=null&&bH(n,e),e}function CH(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const i=p(t,["nextPageToken"]);i!=null&&g(e,["nextPageToken"],i);const r=p(t,["cachedContents"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(u=>u)),g(e,["cachedContents"],a)}return e}function TH(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const i=p(t,["nextPageToken"]);i!=null&&g(e,["nextPageToken"],i);const r=p(t,["cachedContents"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(u=>u)),g(e,["cachedContents"],a)}return e}function AH(t){const e={},n=p(t,["mediaResolution"]);n!=null&&g(e,["mediaResolution"],n);const i=p(t,["codeExecutionResult"]);i!=null&&g(e,["codeExecutionResult"],i);const r=p(t,["executableCode"]);r!=null&&g(e,["executableCode"],r);const a=p(t,["fileData"]);a!=null&&g(e,["fileData"],dH(a));const u=p(t,["functionCall"]);u!=null&&g(e,["functionCall"],hH(u));const c=p(t,["functionResponse"]);c!=null&&g(e,["functionResponse"],c);const h=p(t,["inlineData"]);h!=null&&g(e,["inlineData"],iH(h));const d=p(t,["text"]);d!=null&&g(e,["text"],d);const m=p(t,["thought"]);m!=null&&g(e,["thought"],m);const y=p(t,["thoughtSignature"]);y!=null&&g(e,["thoughtSignature"],y);const S=p(t,["videoMetadata"]);return S!=null&&g(e,["videoMetadata"],S),e}function xH(t){const e={},n=p(t,["functionCallingConfig"]);n!=null&&g(e,["functionCallingConfig"],pH(n));const i=p(t,["retrievalConfig"]);return i!=null&&g(e,["retrievalConfig"],i),e}function RH(t){const e={},n=p(t,["functionDeclarations"]);if(n!=null){let m=n;Array.isArray(m)&&(m=m.map(y=>y)),g(e,["functionDeclarations"],m)}if(p(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=p(t,["googleSearchRetrieval"]);i!=null&&g(e,["googleSearchRetrieval"],i);const r=p(t,["computerUse"]);r!=null&&g(e,["computerUse"],r);const a=p(t,["fileSearch"]);a!=null&&g(e,["fileSearch"],a);const u=p(t,["codeExecution"]);if(u!=null&&g(e,["codeExecution"],u),p(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const c=p(t,["googleMaps"]);c!=null&&g(e,["googleMaps"],yH(c));const h=p(t,["googleSearch"]);h!=null&&g(e,["googleSearch"],_H(h));const d=p(t,["urlContext"]);return d!=null&&g(e,["urlContext"],d),e}function MH(t){const e={},n=p(t,["functionDeclarations"]);if(n!=null){let y=n;Array.isArray(y)&&(y=y.map(S=>mH(S))),g(e,["functionDeclarations"],y)}const i=p(t,["retrieval"]);i!=null&&g(e,["retrieval"],i);const r=p(t,["googleSearchRetrieval"]);r!=null&&g(e,["googleSearchRetrieval"],r);const a=p(t,["computerUse"]);if(a!=null&&g(e,["computerUse"],a),p(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const u=p(t,["codeExecution"]);u!=null&&g(e,["codeExecution"],u);const c=p(t,["enterpriseWebSearch"]);c!=null&&g(e,["enterpriseWebSearch"],c);const h=p(t,["googleMaps"]);h!=null&&g(e,["googleMaps"],h);const d=p(t,["googleSearch"]);d!=null&&g(e,["googleSearch"],d);const m=p(t,["urlContext"]);return m!=null&&g(e,["urlContext"],m),e}function NH(t,e){const n={},i=p(t,["ttl"]);e!==void 0&&i!=null&&g(e,["ttl"],i);const r=p(t,["expireTime"]);return e!==void 0&&r!=null&&g(e,["expireTime"],r),n}function IH(t,e){const n={},i=p(t,["ttl"]);e!==void 0&&i!=null&&g(e,["ttl"],i);const r=p(t,["expireTime"]);return e!==void 0&&r!=null&&g(e,["expireTime"],r),n}function DH(t,e){const n={},i=p(e,["name"]);i!=null&&g(n,["_url","name"],So(t,i));const r=p(e,["config"]);return r!=null&&NH(r,n),n}function OH(t,e){const n={},i=p(e,["name"]);i!=null&&g(n,["_url","name"],So(t,i));const r=p(e,["config"]);return r!=null&&IH(r,n),n}class PH extends _o{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new is(mo.PAGED_ITEM_CACHED_CONTENTS,i=>this.listInternal(i),await this.listInternal(n),n)}async create(e){var n,i,r,a;let u,c="",h={};if(this.apiClient.isVertexAI()){const d=aH(this.apiClient,e);return c=fe("cachedContents",d._url),h=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json()),u.then(m=>m)}else{const d=sH(this.apiClient,e);return c=fe("cachedContents",d._url),h=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json()),u.then(m=>m)}}async get(e){var n,i,r,a;let u,c="",h={};if(this.apiClient.isVertexAI()){const d=vH(this.apiClient,e);return c=fe("{name}",d._url),h=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json()),u.then(m=>m)}else{const d=gH(this.apiClient,e);return c=fe("{name}",d._url),h=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json()),u.then(m=>m)}}async delete(e){var n,i,r,a;let u,c="",h={};if(this.apiClient.isVertexAI()){const d=uH(this.apiClient,e);return c=fe("{name}",d._url),h=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json().then(y=>{const S=y;return S.sdkHttpResponse={headers:m.headers},S})),u.then(m=>{const y=fH(m),S=new JC;return Object.assign(S,y),S})}else{const d=lH(this.apiClient,e);return c=fe("{name}",d._url),h=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json().then(y=>{const S=y;return S.sdkHttpResponse={headers:m.headers},S})),u.then(m=>{const y=cH(m),S=new JC;return Object.assign(S,y),S})}}async update(e){var n,i,r,a;let u,c="",h={};if(this.apiClient.isVertexAI()){const d=OH(this.apiClient,e);return c=fe("{name}",d._url),h=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json()),u.then(m=>m)}else{const d=DH(this.apiClient,e);return c=fe("{name}",d._url),h=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json()),u.then(m=>m)}}async listInternal(e){var n,i,r,a;let u,c="",h={};if(this.apiClient.isVertexAI()){const d=wH(e);return c=fe("cachedContents",d._url),h=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json().then(y=>{const S=y;return S.sdkHttpResponse={headers:m.headers},S})),u.then(m=>{const y=TH(m),S=new KC;return Object.assign(S,y),S})}else{const d=EH(e);return c=fe("cachedContents",d._url),h=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json().then(y=>{const S=y;return S.sdkHttpResponse={headers:m.headers},S})),u.then(m=>{const y=CH(m),S=new KC;return Object.assign(S,y),S})}}}function Td(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]]);return n}function eT(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Te(t){return this instanceof Te?(this.v=t,this):new Te(t)}function oi(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=n.apply(t,e||[]),r,a=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),c("next"),c("throw"),c("return",u),r[Symbol.asyncIterator]=function(){return this},r;function u(b){return function(T){return Promise.resolve(T).then(b,y)}}function c(b,T){i[b]&&(r[b]=function(A){return new Promise(function(x,M){a.push([b,A,x,M])>1||h(b,A)})},T&&(r[b]=T(r[b])))}function h(b,T){try{d(i[b](T))}catch(A){S(a[0][3],A)}}function d(b){b.value instanceof Te?Promise.resolve(b.value.v).then(m,y):S(a[0][2],b)}function m(b){h("next",b)}function y(b){h("throw",b)}function S(b,T){b(T),a.shift(),a.length&&h(a[0][0],a[0][1])}}function ri(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof eT=="function"?eT(t):t[Symbol.iterator](),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(a){n[a]=t[a]&&function(u){return new Promise(function(c,h){u=t[a](u),r(c,h,u.done,u.value)})}}function r(a,u,c,h){Promise.resolve(h).then(function(d){a({value:d,done:c})},u)}}function kH(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:gM(n)}function gM(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function LH(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function tT(t){if(t===void 0||t.length===0)return[];const e=[],n=t.length;let i=0;for(;i<n;)if(t[i].role==="user")e.push(t[i]),i++;else{const r=[];let a=!0;for(;i<n&&t[i].role==="model";)r.push(t[i]),a&&!gM(t[i])&&(a=!1),i++;a?e.push(...r):e.pop()}return e}class UH{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new BH(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}let BH=class{constructor(e,n,i,r={},a=[]){this.apiClient=e,this.modelsModule=n,this.model=i,this.config=r,this.history=a,this.sendPromise=Promise.resolve(),LH(a)}async sendMessage(e){var n;await this.sendPromise;const i=Ut(e.message),r=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(i),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var a,u,c;const h=await r,d=(u=(a=h.candidates)===null||a===void 0?void 0:a[0])===null||u===void 0?void 0:u.content,m=h.automaticFunctionCallingHistory,y=this.getHistory(!0).length;let S=[];m!=null&&(S=(c=m.slice(y))!==null&&c!==void 0?c:[]);const b=d?[d]:[];this.recordHistory(i,b,S)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),r}async sendMessageStream(e){var n;await this.sendPromise;const i=Ut(e.message),r=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(i),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=r.then(()=>{}).catch(()=>{});const a=await r;return this.processStreamResponse(a,i)}getHistory(e=!1){const n=e?tT(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){return oi(this,arguments,function*(){var r,a,u,c,h,d;const m=[];try{for(var y=!0,S=ri(e),b;b=yield Te(S.next()),r=b.done,!r;y=!0){c=b.value,y=!1;const T=c;if(kH(T)){const A=(d=(h=T.candidates)===null||h===void 0?void 0:h[0])===null||d===void 0?void 0:d.content;A!==void 0&&m.push(A)}yield yield Te(T)}}catch(T){a={error:T}}finally{try{!y&&!r&&(u=S.return)&&(yield Te(u.call(S)))}finally{if(a)throw a.error}}this.recordHistory(n,m)})}recordHistory(e,n,i){let r=[];n.length>0&&n.every(a=>a.role!==void 0)?r=n:r.push({role:"model",parts:[]}),i&&i.length>0?this.history.push(...tT(i)):this.history.push(e),this.history.push(...r)}};class ah extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,ah.prototype)}}function FH(t){const e={},n=p(t,["file"]);return n!=null&&g(e,["file"],n),e}function $H(t){const e={},n=p(t,["sdkHttpResponse"]);return n!=null&&g(e,["sdkHttpResponse"],n),e}function HH(t){const e={},n=p(t,["name"]);return n!=null&&g(e,["_url","file"],uM(n)),e}function GH(t){const e={},n=p(t,["sdkHttpResponse"]);return n!=null&&g(e,["sdkHttpResponse"],n),e}function VH(t){const e={},n=p(t,["name"]);return n!=null&&g(e,["_url","file"],uM(n)),e}function zH(t,e){const n={},i=p(t,["pageSize"]);e!==void 0&&i!=null&&g(e,["_query","pageSize"],i);const r=p(t,["pageToken"]);return e!==void 0&&r!=null&&g(e,["_query","pageToken"],r),n}function qH(t){const e={},n=p(t,["config"]);return n!=null&&zH(n,e),e}function JH(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const i=p(t,["nextPageToken"]);i!=null&&g(e,["nextPageToken"],i);const r=p(t,["files"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(u=>u)),g(e,["files"],a)}return e}let KH=class extends _o{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new is(mo.PAGED_ITEM_FILES,i=>this.listInternal(i),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>n)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var n,i;let r,a="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=qH(e);return a=fe("files",c._url),u=c._query,delete c._url,delete c._query,r=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json().then(d=>{const m=d;return m.sdkHttpResponse={headers:h.headers},m})),r.then(h=>{const d=JH(h),m=new WF;return Object.assign(m,d),m})}}async createInternal(e){var n,i;let r,a="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=FH(e);return a=fe("upload/v1beta/files",c._url),u=c._query,delete c._url,delete c._query,r=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),r.then(h=>{const d=$H(h),m=new QF;return Object.assign(m,d),m})}}async get(e){var n,i;let r,a="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=VH(e);return a=fe("files/{file}",c._url),u=c._query,delete c._url,delete c._query,r=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),r.then(h=>h)}}async delete(e){var n,i;let r,a="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=HH(e);return a=fe("files/{file}",c._url),u=c._query,delete c._url,delete c._query,r=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json().then(d=>{const m=d;return m.sdkHttpResponse={headers:h.headers},m})),r.then(h=>{const d=GH(h),m=new ZF;return Object.assign(m,d),m})}}};function Wf(t){const e={},n=p(t,["data"]);if(n!=null&&g(e,["data"],n),p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=p(t,["mimeType"]);return i!=null&&g(e,["mimeType"],i),e}function YH(t){const e={},n=p(t,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(a=>cG(a))),g(e,["parts"],r)}const i=p(t,["role"]);return i!=null&&g(e,["role"],i),e}function jH(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=p(t,["fileUri"]);n!=null&&g(e,["fileUri"],n);const i=p(t,["mimeType"]);return i!=null&&g(e,["mimeType"],i),e}function XH(t){const e={},n=p(t,["id"]);n!=null&&g(e,["id"],n);const i=p(t,["args"]);i!=null&&g(e,["args"],i);const r=p(t,["name"]);if(r!=null&&g(e,["name"],r),p(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(p(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function WH(t){const e={};if(p(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=p(t,["description"]);n!=null&&g(e,["description"],n);const i=p(t,["name"]);i!=null&&g(e,["name"],i);const r=p(t,["parameters"]);r!=null&&g(e,["parameters"],r);const a=p(t,["parametersJsonSchema"]);a!=null&&g(e,["parametersJsonSchema"],a);const u=p(t,["response"]);u!=null&&g(e,["response"],u);const c=p(t,["responseJsonSchema"]);return c!=null&&g(e,["responseJsonSchema"],c),e}function QH(t){const e={},n=p(t,["modelSelectionConfig"]);n!=null&&g(e,["modelConfig"],n);const i=p(t,["responseJsonSchema"]);i!=null&&g(e,["responseJsonSchema"],i);const r=p(t,["audioTimestamp"]);r!=null&&g(e,["audioTimestamp"],r);const a=p(t,["candidateCount"]);a!=null&&g(e,["candidateCount"],a);const u=p(t,["enableAffectiveDialog"]);u!=null&&g(e,["enableAffectiveDialog"],u);const c=p(t,["frequencyPenalty"]);c!=null&&g(e,["frequencyPenalty"],c);const h=p(t,["logprobs"]);h!=null&&g(e,["logprobs"],h);const d=p(t,["maxOutputTokens"]);d!=null&&g(e,["maxOutputTokens"],d);const m=p(t,["mediaResolution"]);m!=null&&g(e,["mediaResolution"],m);const y=p(t,["presencePenalty"]);y!=null&&g(e,["presencePenalty"],y);const S=p(t,["responseLogprobs"]);S!=null&&g(e,["responseLogprobs"],S);const b=p(t,["responseMimeType"]);b!=null&&g(e,["responseMimeType"],b);const T=p(t,["responseModalities"]);T!=null&&g(e,["responseModalities"],T);const A=p(t,["responseSchema"]);A!=null&&g(e,["responseSchema"],A);const x=p(t,["routingConfig"]);x!=null&&g(e,["routingConfig"],x);const M=p(t,["seed"]);M!=null&&g(e,["seed"],M);const I=p(t,["speechConfig"]);I!=null&&g(e,["speechConfig"],vM(I));const N=p(t,["stopSequences"]);N!=null&&g(e,["stopSequences"],N);const D=p(t,["temperature"]);D!=null&&g(e,["temperature"],D);const L=p(t,["thinkingConfig"]);L!=null&&g(e,["thinkingConfig"],L);const U=p(t,["topK"]);U!=null&&g(e,["topK"],U);const O=p(t,["topP"]);if(O!=null&&g(e,["topP"],O),p(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function ZH(t){const e={};if(p(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=p(t,["enableWidget"]);return n!=null&&g(e,["enableWidget"],n),e}function eG(t){const e={};if(p(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(p(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=p(t,["timeRangeFilter"]);return n!=null&&g(e,["timeRangeFilter"],n),e}function tG(t,e){const n={},i=p(t,["generationConfig"]);e!==void 0&&i!=null&&g(e,["setup","generationConfig"],i);const r=p(t,["responseModalities"]);e!==void 0&&r!=null&&g(e,["setup","generationConfig","responseModalities"],r);const a=p(t,["temperature"]);e!==void 0&&a!=null&&g(e,["setup","generationConfig","temperature"],a);const u=p(t,["topP"]);e!==void 0&&u!=null&&g(e,["setup","generationConfig","topP"],u);const c=p(t,["topK"]);e!==void 0&&c!=null&&g(e,["setup","generationConfig","topK"],c);const h=p(t,["maxOutputTokens"]);e!==void 0&&h!=null&&g(e,["setup","generationConfig","maxOutputTokens"],h);const d=p(t,["mediaResolution"]);e!==void 0&&d!=null&&g(e,["setup","generationConfig","mediaResolution"],d);const m=p(t,["seed"]);e!==void 0&&m!=null&&g(e,["setup","generationConfig","seed"],m);const y=p(t,["speechConfig"]);e!==void 0&&y!=null&&g(e,["setup","generationConfig","speechConfig"],Fy(y));const S=p(t,["thinkingConfig"]);e!==void 0&&S!=null&&g(e,["setup","generationConfig","thinkingConfig"],S);const b=p(t,["enableAffectiveDialog"]);e!==void 0&&b!=null&&g(e,["setup","generationConfig","enableAffectiveDialog"],b);const T=p(t,["systemInstruction"]);e!==void 0&&T!=null&&g(e,["setup","systemInstruction"],YH(Ut(T)));const A=p(t,["tools"]);if(e!==void 0&&A!=null){let U=Ma(A);Array.isArray(U)&&(U=U.map(O=>dG(Ra(O)))),g(e,["setup","tools"],U)}const x=p(t,["sessionResumption"]);e!==void 0&&x!=null&&g(e,["setup","sessionResumption"],fG(x));const M=p(t,["inputAudioTranscription"]);e!==void 0&&M!=null&&g(e,["setup","inputAudioTranscription"],M);const I=p(t,["outputAudioTranscription"]);e!==void 0&&I!=null&&g(e,["setup","outputAudioTranscription"],I);const N=p(t,["realtimeInputConfig"]);e!==void 0&&N!=null&&g(e,["setup","realtimeInputConfig"],N);const D=p(t,["contextWindowCompression"]);e!==void 0&&D!=null&&g(e,["setup","contextWindowCompression"],D);const L=p(t,["proactivity"]);if(e!==void 0&&L!=null&&g(e,["setup","proactivity"],L),p(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function nG(t,e){const n={},i=p(t,["generationConfig"]);e!==void 0&&i!=null&&g(e,["setup","generationConfig"],QH(i));const r=p(t,["responseModalities"]);e!==void 0&&r!=null&&g(e,["setup","generationConfig","responseModalities"],r);const a=p(t,["temperature"]);e!==void 0&&a!=null&&g(e,["setup","generationConfig","temperature"],a);const u=p(t,["topP"]);e!==void 0&&u!=null&&g(e,["setup","generationConfig","topP"],u);const c=p(t,["topK"]);e!==void 0&&c!=null&&g(e,["setup","generationConfig","topK"],c);const h=p(t,["maxOutputTokens"]);e!==void 0&&h!=null&&g(e,["setup","generationConfig","maxOutputTokens"],h);const d=p(t,["mediaResolution"]);e!==void 0&&d!=null&&g(e,["setup","generationConfig","mediaResolution"],d);const m=p(t,["seed"]);e!==void 0&&m!=null&&g(e,["setup","generationConfig","seed"],m);const y=p(t,["speechConfig"]);e!==void 0&&y!=null&&g(e,["setup","generationConfig","speechConfig"],vM(Fy(y)));const S=p(t,["thinkingConfig"]);e!==void 0&&S!=null&&g(e,["setup","generationConfig","thinkingConfig"],S);const b=p(t,["enableAffectiveDialog"]);e!==void 0&&b!=null&&g(e,["setup","generationConfig","enableAffectiveDialog"],b);const T=p(t,["systemInstruction"]);e!==void 0&&T!=null&&g(e,["setup","systemInstruction"],Ut(T));const A=p(t,["tools"]);if(e!==void 0&&A!=null){let O=Ma(A);Array.isArray(O)&&(O=O.map(q=>hG(Ra(q)))),g(e,["setup","tools"],O)}const x=p(t,["sessionResumption"]);e!==void 0&&x!=null&&g(e,["setup","sessionResumption"],x);const M=p(t,["inputAudioTranscription"]);e!==void 0&&M!=null&&g(e,["setup","inputAudioTranscription"],M);const I=p(t,["outputAudioTranscription"]);e!==void 0&&I!=null&&g(e,["setup","outputAudioTranscription"],I);const N=p(t,["realtimeInputConfig"]);e!==void 0&&N!=null&&g(e,["setup","realtimeInputConfig"],N);const D=p(t,["contextWindowCompression"]);e!==void 0&&D!=null&&g(e,["setup","contextWindowCompression"],D);const L=p(t,["proactivity"]);e!==void 0&&L!=null&&g(e,["setup","proactivity"],L);const U=p(t,["explicitVadSignal"]);return e!==void 0&&U!=null&&g(e,["setup","explicitVadSignal"],U),n}function iG(t,e){const n={},i=p(e,["model"]);i!=null&&g(n,["setup","model"],Ve(t,i));const r=p(e,["config"]);return r!=null&&g(n,["config"],tG(r,n)),n}function oG(t,e){const n={},i=p(e,["model"]);i!=null&&g(n,["setup","model"],Ve(t,i));const r=p(e,["config"]);return r!=null&&g(n,["config"],nG(r,n)),n}function rG(t){const e={},n=p(t,["musicGenerationConfig"]);return n!=null&&g(e,["musicGenerationConfig"],n),e}function sG(t){const e={},n=p(t,["weightedPrompts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(r=>r)),g(e,["weightedPrompts"],i)}return e}function aG(t){const e={},n=p(t,["media"]);if(n!=null){let d=oM(n);Array.isArray(d)&&(d=d.map(m=>Wf(m))),g(e,["mediaChunks"],d)}const i=p(t,["audio"]);i!=null&&g(e,["audio"],Wf(sM(i)));const r=p(t,["audioStreamEnd"]);r!=null&&g(e,["audioStreamEnd"],r);const a=p(t,["video"]);a!=null&&g(e,["video"],Wf(rM(a)));const u=p(t,["text"]);u!=null&&g(e,["text"],u);const c=p(t,["activityStart"]);c!=null&&g(e,["activityStart"],c);const h=p(t,["activityEnd"]);return h!=null&&g(e,["activityEnd"],h),e}function lG(t){const e={},n=p(t,["media"]);if(n!=null){let d=oM(n);Array.isArray(d)&&(d=d.map(m=>m)),g(e,["mediaChunks"],d)}const i=p(t,["audio"]);i!=null&&g(e,["audio"],sM(i));const r=p(t,["audioStreamEnd"]);r!=null&&g(e,["audioStreamEnd"],r);const a=p(t,["video"]);a!=null&&g(e,["video"],rM(a));const u=p(t,["text"]);u!=null&&g(e,["text"],u);const c=p(t,["activityStart"]);c!=null&&g(e,["activityStart"],c);const h=p(t,["activityEnd"]);return h!=null&&g(e,["activityEnd"],h),e}function uG(t){const e={},n=p(t,["setupComplete"]);n!=null&&g(e,["setupComplete"],n);const i=p(t,["serverContent"]);i!=null&&g(e,["serverContent"],i);const r=p(t,["toolCall"]);r!=null&&g(e,["toolCall"],r);const a=p(t,["toolCallCancellation"]);a!=null&&g(e,["toolCallCancellation"],a);const u=p(t,["usageMetadata"]);u!=null&&g(e,["usageMetadata"],pG(u));const c=p(t,["goAway"]);c!=null&&g(e,["goAway"],c);const h=p(t,["sessionResumptionUpdate"]);h!=null&&g(e,["sessionResumptionUpdate"],h);const d=p(t,["voiceActivityDetectionSignal"]);return d!=null&&g(e,["voiceActivityDetectionSignal"],d),e}function cG(t){const e={},n=p(t,["mediaResolution"]);n!=null&&g(e,["mediaResolution"],n);const i=p(t,["codeExecutionResult"]);i!=null&&g(e,["codeExecutionResult"],i);const r=p(t,["executableCode"]);r!=null&&g(e,["executableCode"],r);const a=p(t,["fileData"]);a!=null&&g(e,["fileData"],jH(a));const u=p(t,["functionCall"]);u!=null&&g(e,["functionCall"],XH(u));const c=p(t,["functionResponse"]);c!=null&&g(e,["functionResponse"],c);const h=p(t,["inlineData"]);h!=null&&g(e,["inlineData"],Wf(h));const d=p(t,["text"]);d!=null&&g(e,["text"],d);const m=p(t,["thought"]);m!=null&&g(e,["thought"],m);const y=p(t,["thoughtSignature"]);y!=null&&g(e,["thoughtSignature"],y);const S=p(t,["videoMetadata"]);return S!=null&&g(e,["videoMetadata"],S),e}function fG(t){const e={},n=p(t,["handle"]);if(n!=null&&g(e,["handle"],n),p(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function vM(t){const e={},n=p(t,["voiceConfig"]);n!=null&&g(e,["voiceConfig"],n);const i=p(t,["languageCode"]);if(i!=null&&g(e,["languageCode"],i),p(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return e}function dG(t){const e={},n=p(t,["functionDeclarations"]);if(n!=null){let m=n;Array.isArray(m)&&(m=m.map(y=>y)),g(e,["functionDeclarations"],m)}if(p(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=p(t,["googleSearchRetrieval"]);i!=null&&g(e,["googleSearchRetrieval"],i);const r=p(t,["computerUse"]);r!=null&&g(e,["computerUse"],r);const a=p(t,["fileSearch"]);a!=null&&g(e,["fileSearch"],a);const u=p(t,["codeExecution"]);if(u!=null&&g(e,["codeExecution"],u),p(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const c=p(t,["googleMaps"]);c!=null&&g(e,["googleMaps"],ZH(c));const h=p(t,["googleSearch"]);h!=null&&g(e,["googleSearch"],eG(h));const d=p(t,["urlContext"]);return d!=null&&g(e,["urlContext"],d),e}function hG(t){const e={},n=p(t,["functionDeclarations"]);if(n!=null){let y=n;Array.isArray(y)&&(y=y.map(S=>WH(S))),g(e,["functionDeclarations"],y)}const i=p(t,["retrieval"]);i!=null&&g(e,["retrieval"],i);const r=p(t,["googleSearchRetrieval"]);r!=null&&g(e,["googleSearchRetrieval"],r);const a=p(t,["computerUse"]);if(a!=null&&g(e,["computerUse"],a),p(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const u=p(t,["codeExecution"]);u!=null&&g(e,["codeExecution"],u);const c=p(t,["enterpriseWebSearch"]);c!=null&&g(e,["enterpriseWebSearch"],c);const h=p(t,["googleMaps"]);h!=null&&g(e,["googleMaps"],h);const d=p(t,["googleSearch"]);d!=null&&g(e,["googleSearch"],d);const m=p(t,["urlContext"]);return m!=null&&g(e,["urlContext"],m),e}function pG(t){const e={},n=p(t,["promptTokenCount"]);n!=null&&g(e,["promptTokenCount"],n);const i=p(t,["cachedContentTokenCount"]);i!=null&&g(e,["cachedContentTokenCount"],i);const r=p(t,["candidatesTokenCount"]);r!=null&&g(e,["responseTokenCount"],r);const a=p(t,["toolUsePromptTokenCount"]);a!=null&&g(e,["toolUsePromptTokenCount"],a);const u=p(t,["thoughtsTokenCount"]);u!=null&&g(e,["thoughtsTokenCount"],u);const c=p(t,["totalTokenCount"]);c!=null&&g(e,["totalTokenCount"],c);const h=p(t,["promptTokensDetails"]);if(h!=null){let b=h;Array.isArray(b)&&(b=b.map(T=>T)),g(e,["promptTokensDetails"],b)}const d=p(t,["cacheTokensDetails"]);if(d!=null){let b=d;Array.isArray(b)&&(b=b.map(T=>T)),g(e,["cacheTokensDetails"],b)}const m=p(t,["candidatesTokensDetails"]);if(m!=null){let b=m;Array.isArray(b)&&(b=b.map(T=>T)),g(e,["responseTokensDetails"],b)}const y=p(t,["toolUsePromptTokensDetails"]);if(y!=null){let b=y;Array.isArray(b)&&(b=b.map(T=>T)),g(e,["toolUsePromptTokensDetails"],b)}const S=p(t,["trafficType"]);return S!=null&&g(e,["trafficType"],S),e}function mG(t){const e={},n=p(t,["data"]);if(n!=null&&g(e,["data"],n),p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=p(t,["mimeType"]);return i!=null&&g(e,["mimeType"],i),e}function gG(t){const e={},n=p(t,["content"]);n!=null&&g(e,["content"],n);const i=p(t,["citationMetadata"]);i!=null&&g(e,["citationMetadata"],vG(i));const r=p(t,["tokenCount"]);r!=null&&g(e,["tokenCount"],r);const a=p(t,["finishReason"]);a!=null&&g(e,["finishReason"],a);const u=p(t,["avgLogprobs"]);u!=null&&g(e,["avgLogprobs"],u);const c=p(t,["groundingMetadata"]);c!=null&&g(e,["groundingMetadata"],c);const h=p(t,["index"]);h!=null&&g(e,["index"],h);const d=p(t,["logprobsResult"]);d!=null&&g(e,["logprobsResult"],d);const m=p(t,["safetyRatings"]);if(m!=null){let S=m;Array.isArray(S)&&(S=S.map(b=>b)),g(e,["safetyRatings"],S)}const y=p(t,["urlContextMetadata"]);return y!=null&&g(e,["urlContextMetadata"],y),e}function vG(t){const e={},n=p(t,["citationSources"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(r=>r)),g(e,["citations"],i)}return e}function yG(t,e){const n={},i=p(e,["model"]);i!=null&&g(n,["_url","model"],Ve(t,i));const r=p(e,["contents"]);if(r!=null){let a=Hn(r);Array.isArray(a)&&(a=a.map(u=>u)),g(n,["contents"],a)}return n}function _G(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const i=p(t,["tokensInfo"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(a=>a)),g(e,["tokensInfo"],r)}return e}function SG(t){const e={},n=p(t,["values"]);n!=null&&g(e,["values"],n);const i=p(t,["statistics"]);return i!=null&&g(e,["statistics"],bG(i)),e}function bG(t){const e={},n=p(t,["truncated"]);n!=null&&g(e,["truncated"],n);const i=p(t,["token_count"]);return i!=null&&g(e,["tokenCount"],i),e}function lh(t){const e={},n=p(t,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(a=>NV(a))),g(e,["parts"],r)}const i=p(t,["role"]);return i!=null&&g(e,["role"],i),e}function EG(t){const e={},n=p(t,["controlType"]);n!=null&&g(e,["controlType"],n);const i=p(t,["enableControlImageComputation"]);return i!=null&&g(e,["computeControl"],i),e}function wG(t){const e={};if(p(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(p(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(p(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function CG(t,e){const n={},i=p(t,["systemInstruction"]);e!==void 0&&i!=null&&g(e,["systemInstruction"],Ut(i));const r=p(t,["tools"]);if(e!==void 0&&r!=null){let u=r;Array.isArray(u)&&(u=u.map(c=>EM(c))),g(e,["tools"],u)}const a=p(t,["generationConfig"]);return e!==void 0&&a!=null&&g(e,["generationConfig"],mV(a)),n}function TG(t,e){const n={},i=p(e,["model"]);i!=null&&g(n,["_url","model"],Ve(t,i));const r=p(e,["contents"]);if(r!=null){let u=Hn(r);Array.isArray(u)&&(u=u.map(c=>lh(c))),g(n,["contents"],u)}const a=p(e,["config"]);return a!=null&&wG(a),n}function AG(t,e){const n={},i=p(e,["model"]);i!=null&&g(n,["_url","model"],Ve(t,i));const r=p(e,["contents"]);if(r!=null){let u=Hn(r);Array.isArray(u)&&(u=u.map(c=>c)),g(n,["contents"],u)}const a=p(e,["config"]);return a!=null&&CG(a,n),n}function xG(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const i=p(t,["totalTokens"]);i!=null&&g(e,["totalTokens"],i);const r=p(t,["cachedContentTokenCount"]);return r!=null&&g(e,["cachedContentTokenCount"],r),e}function RG(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const i=p(t,["totalTokens"]);return i!=null&&g(e,["totalTokens"],i),e}function MG(t,e){const n={},i=p(e,["model"]);return i!=null&&g(n,["_url","name"],Ve(t,i)),n}function NG(t,e){const n={},i=p(e,["model"]);return i!=null&&g(n,["_url","name"],Ve(t,i)),n}function IG(t){const e={},n=p(t,["sdkHttpResponse"]);return n!=null&&g(e,["sdkHttpResponse"],n),e}function DG(t){const e={},n=p(t,["sdkHttpResponse"]);return n!=null&&g(e,["sdkHttpResponse"],n),e}function OG(t,e){const n={},i=p(t,["outputGcsUri"]);e!==void 0&&i!=null&&g(e,["parameters","storageUri"],i);const r=p(t,["negativePrompt"]);e!==void 0&&r!=null&&g(e,["parameters","negativePrompt"],r);const a=p(t,["numberOfImages"]);e!==void 0&&a!=null&&g(e,["parameters","sampleCount"],a);const u=p(t,["aspectRatio"]);e!==void 0&&u!=null&&g(e,["parameters","aspectRatio"],u);const c=p(t,["guidanceScale"]);e!==void 0&&c!=null&&g(e,["parameters","guidanceScale"],c);const h=p(t,["seed"]);e!==void 0&&h!=null&&g(e,["parameters","seed"],h);const d=p(t,["safetyFilterLevel"]);e!==void 0&&d!=null&&g(e,["parameters","safetySetting"],d);const m=p(t,["personGeneration"]);e!==void 0&&m!=null&&g(e,["parameters","personGeneration"],m);const y=p(t,["includeSafetyAttributes"]);e!==void 0&&y!=null&&g(e,["parameters","includeSafetyAttributes"],y);const S=p(t,["includeRaiReason"]);e!==void 0&&S!=null&&g(e,["parameters","includeRaiReason"],S);const b=p(t,["language"]);e!==void 0&&b!=null&&g(e,["parameters","language"],b);const T=p(t,["outputMimeType"]);e!==void 0&&T!=null&&g(e,["parameters","outputOptions","mimeType"],T);const A=p(t,["outputCompressionQuality"]);e!==void 0&&A!=null&&g(e,["parameters","outputOptions","compressionQuality"],A);const x=p(t,["addWatermark"]);e!==void 0&&x!=null&&g(e,["parameters","addWatermark"],x);const M=p(t,["labels"]);e!==void 0&&M!=null&&g(e,["labels"],M);const I=p(t,["editMode"]);e!==void 0&&I!=null&&g(e,["parameters","editMode"],I);const N=p(t,["baseSteps"]);return e!==void 0&&N!=null&&g(e,["parameters","editConfig","baseSteps"],N),n}function PG(t,e){const n={},i=p(e,["model"]);i!=null&&g(n,["_url","model"],Ve(t,i));const r=p(e,["prompt"]);r!=null&&g(n,["instances[0]","prompt"],r);const a=p(e,["referenceImages"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(h=>LV(h))),g(n,["instances[0]","referenceImages"],c)}const u=p(e,["config"]);return u!=null&&OG(u,n),n}function kG(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const i=p(t,["predictions"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(a=>uh(a))),g(e,["generatedImages"],r)}return e}function LG(t,e){const n={},i=p(t,["taskType"]);e!==void 0&&i!=null&&g(e,["requests[]","taskType"],i);const r=p(t,["title"]);e!==void 0&&r!=null&&g(e,["requests[]","title"],r);const a=p(t,["outputDimensionality"]);if(e!==void 0&&a!=null&&g(e,["requests[]","outputDimensionality"],a),p(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(p(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function UG(t,e){const n={},i=p(t,["taskType"]);e!==void 0&&i!=null&&g(e,["instances[]","task_type"],i);const r=p(t,["title"]);e!==void 0&&r!=null&&g(e,["instances[]","title"],r);const a=p(t,["outputDimensionality"]);e!==void 0&&a!=null&&g(e,["parameters","outputDimensionality"],a);const u=p(t,["mimeType"]);e!==void 0&&u!=null&&g(e,["instances[]","mimeType"],u);const c=p(t,["autoTruncate"]);return e!==void 0&&c!=null&&g(e,["parameters","autoTruncate"],c),n}function BG(t,e){const n={},i=p(e,["model"]);i!=null&&g(n,["_url","model"],Ve(t,i));const r=p(e,["contents"]);if(r!=null){let c=Ly(t,r);Array.isArray(c)&&(c=c.map(h=>h)),g(n,["requests[]","content"],c)}const a=p(e,["config"]);a!=null&&LG(a,n);const u=p(e,["model"]);return u!==void 0&&g(n,["requests[]","model"],Ve(t,u)),n}function FG(t,e){const n={},i=p(e,["model"]);i!=null&&g(n,["_url","model"],Ve(t,i));const r=p(e,["contents"]);if(r!=null){let u=Ly(t,r);Array.isArray(u)&&(u=u.map(c=>c)),g(n,["instances[]","content"],u)}const a=p(e,["config"]);return a!=null&&UG(a,n),n}function $G(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const i=p(t,["embeddings"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(u=>u)),g(e,["embeddings"],a)}const r=p(t,["metadata"]);return r!=null&&g(e,["metadata"],r),e}function HG(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const i=p(t,["predictions[]","embeddings"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(u=>SG(u))),g(e,["embeddings"],a)}const r=p(t,["metadata"]);return r!=null&&g(e,["metadata"],r),e}function GG(t){const e={},n=p(t,["endpoint"]);n!=null&&g(e,["name"],n);const i=p(t,["deployedModelId"]);return i!=null&&g(e,["deployedModelId"],i),e}function VG(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=p(t,["fileUri"]);n!=null&&g(e,["fileUri"],n);const i=p(t,["mimeType"]);return i!=null&&g(e,["mimeType"],i),e}function zG(t){const e={},n=p(t,["id"]);n!=null&&g(e,["id"],n);const i=p(t,["args"]);i!=null&&g(e,["args"],i);const r=p(t,["name"]);if(r!=null&&g(e,["name"],r),p(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(p(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function qG(t){const e={},n=p(t,["mode"]);n!=null&&g(e,["mode"],n);const i=p(t,["allowedFunctionNames"]);if(i!=null&&g(e,["allowedFunctionNames"],i),p(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function JG(t){const e={};if(p(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=p(t,["description"]);n!=null&&g(e,["description"],n);const i=p(t,["name"]);i!=null&&g(e,["name"],i);const r=p(t,["parameters"]);r!=null&&g(e,["parameters"],r);const a=p(t,["parametersJsonSchema"]);a!=null&&g(e,["parametersJsonSchema"],a);const u=p(t,["response"]);u!=null&&g(e,["response"],u);const c=p(t,["responseJsonSchema"]);return c!=null&&g(e,["responseJsonSchema"],c),e}function KG(t,e,n){const i={},r=p(e,["systemInstruction"]);n!==void 0&&r!=null&&g(n,["systemInstruction"],lh(Ut(r)));const a=p(e,["temperature"]);a!=null&&g(i,["temperature"],a);const u=p(e,["topP"]);u!=null&&g(i,["topP"],u);const c=p(e,["topK"]);c!=null&&g(i,["topK"],c);const h=p(e,["candidateCount"]);h!=null&&g(i,["candidateCount"],h);const d=p(e,["maxOutputTokens"]);d!=null&&g(i,["maxOutputTokens"],d);const m=p(e,["stopSequences"]);m!=null&&g(i,["stopSequences"],m);const y=p(e,["responseLogprobs"]);y!=null&&g(i,["responseLogprobs"],y);const S=p(e,["logprobs"]);S!=null&&g(i,["logprobs"],S);const b=p(e,["presencePenalty"]);b!=null&&g(i,["presencePenalty"],b);const T=p(e,["frequencyPenalty"]);T!=null&&g(i,["frequencyPenalty"],T);const A=p(e,["seed"]);A!=null&&g(i,["seed"],A);const x=p(e,["responseMimeType"]);x!=null&&g(i,["responseMimeType"],x);const M=p(e,["responseSchema"]);M!=null&&g(i,["responseSchema"],Uy(M));const I=p(e,["responseJsonSchema"]);if(I!=null&&g(i,["responseJsonSchema"],I),p(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(p(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const N=p(e,["safetySettings"]);if(n!==void 0&&N!=null){let ie=N;Array.isArray(ie)&&(ie=ie.map(ae=>UV(ae))),g(n,["safetySettings"],ie)}const D=p(e,["tools"]);if(n!==void 0&&D!=null){let ie=Ma(D);Array.isArray(ie)&&(ie=ie.map(ae=>zV(Ra(ae)))),g(n,["tools"],ie)}const L=p(e,["toolConfig"]);if(n!==void 0&&L!=null&&g(n,["toolConfig"],VV(L)),p(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const U=p(e,["cachedContent"]);n!==void 0&&U!=null&&g(n,["cachedContent"],So(t,U));const O=p(e,["responseModalities"]);O!=null&&g(i,["responseModalities"],O);const q=p(e,["mediaResolution"]);q!=null&&g(i,["mediaResolution"],q);const J=p(e,["speechConfig"]);if(J!=null&&g(i,["speechConfig"],By(J)),p(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const j=p(e,["thinkingConfig"]);j!=null&&g(i,["thinkingConfig"],j);const W=p(e,["imageConfig"]);W!=null&&g(i,["imageConfig"],SV(W));const re=p(e,["enableEnhancedCivicAnswers"]);return re!=null&&g(i,["enableEnhancedCivicAnswers"],re),i}function YG(t,e,n){const i={},r=p(e,["systemInstruction"]);n!==void 0&&r!=null&&g(n,["systemInstruction"],Ut(r));const a=p(e,["temperature"]);a!=null&&g(i,["temperature"],a);const u=p(e,["topP"]);u!=null&&g(i,["topP"],u);const c=p(e,["topK"]);c!=null&&g(i,["topK"],c);const h=p(e,["candidateCount"]);h!=null&&g(i,["candidateCount"],h);const d=p(e,["maxOutputTokens"]);d!=null&&g(i,["maxOutputTokens"],d);const m=p(e,["stopSequences"]);m!=null&&g(i,["stopSequences"],m);const y=p(e,["responseLogprobs"]);y!=null&&g(i,["responseLogprobs"],y);const S=p(e,["logprobs"]);S!=null&&g(i,["logprobs"],S);const b=p(e,["presencePenalty"]);b!=null&&g(i,["presencePenalty"],b);const T=p(e,["frequencyPenalty"]);T!=null&&g(i,["frequencyPenalty"],T);const A=p(e,["seed"]);A!=null&&g(i,["seed"],A);const x=p(e,["responseMimeType"]);x!=null&&g(i,["responseMimeType"],x);const M=p(e,["responseSchema"]);M!=null&&g(i,["responseSchema"],Uy(M));const I=p(e,["responseJsonSchema"]);I!=null&&g(i,["responseJsonSchema"],I);const N=p(e,["routingConfig"]);N!=null&&g(i,["routingConfig"],N);const D=p(e,["modelSelectionConfig"]);D!=null&&g(i,["modelConfig"],D);const L=p(e,["safetySettings"]);if(n!==void 0&&L!=null){let F=L;Array.isArray(F)&&(F=F.map(Q=>Q)),g(n,["safetySettings"],F)}const U=p(e,["tools"]);if(n!==void 0&&U!=null){let F=Ma(U);Array.isArray(F)&&(F=F.map(Q=>EM(Ra(Q)))),g(n,["tools"],F)}const O=p(e,["toolConfig"]);n!==void 0&&O!=null&&g(n,["toolConfig"],O);const q=p(e,["labels"]);n!==void 0&&q!=null&&g(n,["labels"],q);const J=p(e,["cachedContent"]);n!==void 0&&J!=null&&g(n,["cachedContent"],So(t,J));const j=p(e,["responseModalities"]);j!=null&&g(i,["responseModalities"],j);const W=p(e,["mediaResolution"]);W!=null&&g(i,["mediaResolution"],W);const re=p(e,["speechConfig"]);re!=null&&g(i,["speechConfig"],bM(By(re)));const ie=p(e,["audioTimestamp"]);ie!=null&&g(i,["audioTimestamp"],ie);const ae=p(e,["thinkingConfig"]);ae!=null&&g(i,["thinkingConfig"],ae);const de=p(e,["imageConfig"]);if(de!=null&&g(i,["imageConfig"],bV(de)),p(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return i}function nT(t,e){const n={},i=p(e,["model"]);i!=null&&g(n,["_url","model"],Ve(t,i));const r=p(e,["contents"]);if(r!=null){let u=Hn(r);Array.isArray(u)&&(u=u.map(c=>lh(c))),g(n,["contents"],u)}const a=p(e,["config"]);return a!=null&&g(n,["generationConfig"],KG(t,a,n)),n}function iT(t,e){const n={},i=p(e,["model"]);i!=null&&g(n,["_url","model"],Ve(t,i));const r=p(e,["contents"]);if(r!=null){let u=Hn(r);Array.isArray(u)&&(u=u.map(c=>c)),g(n,["contents"],u)}const a=p(e,["config"]);return a!=null&&g(n,["generationConfig"],YG(t,a,n)),n}function oT(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const i=p(t,["candidates"]);if(i!=null){let h=i;Array.isArray(h)&&(h=h.map(d=>gG(d))),g(e,["candidates"],h)}const r=p(t,["modelVersion"]);r!=null&&g(e,["modelVersion"],r);const a=p(t,["promptFeedback"]);a!=null&&g(e,["promptFeedback"],a);const u=p(t,["responseId"]);u!=null&&g(e,["responseId"],u);const c=p(t,["usageMetadata"]);return c!=null&&g(e,["usageMetadata"],c),e}function rT(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const i=p(t,["candidates"]);if(i!=null){let d=i;Array.isArray(d)&&(d=d.map(m=>m)),g(e,["candidates"],d)}const r=p(t,["createTime"]);r!=null&&g(e,["createTime"],r);const a=p(t,["modelVersion"]);a!=null&&g(e,["modelVersion"],a);const u=p(t,["promptFeedback"]);u!=null&&g(e,["promptFeedback"],u);const c=p(t,["responseId"]);c!=null&&g(e,["responseId"],c);const h=p(t,["usageMetadata"]);return h!=null&&g(e,["usageMetadata"],h),e}function jG(t,e){const n={};if(p(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(p(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const i=p(t,["numberOfImages"]);e!==void 0&&i!=null&&g(e,["parameters","sampleCount"],i);const r=p(t,["aspectRatio"]);e!==void 0&&r!=null&&g(e,["parameters","aspectRatio"],r);const a=p(t,["guidanceScale"]);if(e!==void 0&&a!=null&&g(e,["parameters","guidanceScale"],a),p(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const u=p(t,["safetyFilterLevel"]);e!==void 0&&u!=null&&g(e,["parameters","safetySetting"],u);const c=p(t,["personGeneration"]);e!==void 0&&c!=null&&g(e,["parameters","personGeneration"],c);const h=p(t,["includeSafetyAttributes"]);e!==void 0&&h!=null&&g(e,["parameters","includeSafetyAttributes"],h);const d=p(t,["includeRaiReason"]);e!==void 0&&d!=null&&g(e,["parameters","includeRaiReason"],d);const m=p(t,["language"]);e!==void 0&&m!=null&&g(e,["parameters","language"],m);const y=p(t,["outputMimeType"]);e!==void 0&&y!=null&&g(e,["parameters","outputOptions","mimeType"],y);const S=p(t,["outputCompressionQuality"]);if(e!==void 0&&S!=null&&g(e,["parameters","outputOptions","compressionQuality"],S),p(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(p(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const b=p(t,["imageSize"]);if(e!==void 0&&b!=null&&g(e,["parameters","sampleImageSize"],b),p(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function XG(t,e){const n={},i=p(t,["outputGcsUri"]);e!==void 0&&i!=null&&g(e,["parameters","storageUri"],i);const r=p(t,["negativePrompt"]);e!==void 0&&r!=null&&g(e,["parameters","negativePrompt"],r);const a=p(t,["numberOfImages"]);e!==void 0&&a!=null&&g(e,["parameters","sampleCount"],a);const u=p(t,["aspectRatio"]);e!==void 0&&u!=null&&g(e,["parameters","aspectRatio"],u);const c=p(t,["guidanceScale"]);e!==void 0&&c!=null&&g(e,["parameters","guidanceScale"],c);const h=p(t,["seed"]);e!==void 0&&h!=null&&g(e,["parameters","seed"],h);const d=p(t,["safetyFilterLevel"]);e!==void 0&&d!=null&&g(e,["parameters","safetySetting"],d);const m=p(t,["personGeneration"]);e!==void 0&&m!=null&&g(e,["parameters","personGeneration"],m);const y=p(t,["includeSafetyAttributes"]);e!==void 0&&y!=null&&g(e,["parameters","includeSafetyAttributes"],y);const S=p(t,["includeRaiReason"]);e!==void 0&&S!=null&&g(e,["parameters","includeRaiReason"],S);const b=p(t,["language"]);e!==void 0&&b!=null&&g(e,["parameters","language"],b);const T=p(t,["outputMimeType"]);e!==void 0&&T!=null&&g(e,["parameters","outputOptions","mimeType"],T);const A=p(t,["outputCompressionQuality"]);e!==void 0&&A!=null&&g(e,["parameters","outputOptions","compressionQuality"],A);const x=p(t,["addWatermark"]);e!==void 0&&x!=null&&g(e,["parameters","addWatermark"],x);const M=p(t,["labels"]);e!==void 0&&M!=null&&g(e,["labels"],M);const I=p(t,["imageSize"]);e!==void 0&&I!=null&&g(e,["parameters","sampleImageSize"],I);const N=p(t,["enhancePrompt"]);return e!==void 0&&N!=null&&g(e,["parameters","enhancePrompt"],N),n}function WG(t,e){const n={},i=p(e,["model"]);i!=null&&g(n,["_url","model"],Ve(t,i));const r=p(e,["prompt"]);r!=null&&g(n,["instances[0]","prompt"],r);const a=p(e,["config"]);return a!=null&&jG(a,n),n}function QG(t,e){const n={},i=p(e,["model"]);i!=null&&g(n,["_url","model"],Ve(t,i));const r=p(e,["prompt"]);r!=null&&g(n,["instances[0]","prompt"],r);const a=p(e,["config"]);return a!=null&&XG(a,n),n}function ZG(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const i=p(t,["predictions"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(u=>fV(u))),g(e,["generatedImages"],a)}const r=p(t,["positivePromptSafetyAttributes"]);return r!=null&&g(e,["positivePromptSafetyAttributes"],_M(r)),e}function eV(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const i=p(t,["predictions"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(u=>uh(u))),g(e,["generatedImages"],a)}const r=p(t,["positivePromptSafetyAttributes"]);return r!=null&&g(e,["positivePromptSafetyAttributes"],SM(r)),e}function tV(t,e){const n={},i=p(t,["numberOfVideos"]);if(e!==void 0&&i!=null&&g(e,["parameters","sampleCount"],i),p(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(p(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const r=p(t,["durationSeconds"]);if(e!==void 0&&r!=null&&g(e,["parameters","durationSeconds"],r),p(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const a=p(t,["aspectRatio"]);e!==void 0&&a!=null&&g(e,["parameters","aspectRatio"],a);const u=p(t,["resolution"]);e!==void 0&&u!=null&&g(e,["parameters","resolution"],u);const c=p(t,["personGeneration"]);if(e!==void 0&&c!=null&&g(e,["parameters","personGeneration"],c),p(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const h=p(t,["negativePrompt"]);e!==void 0&&h!=null&&g(e,["parameters","negativePrompt"],h);const d=p(t,["enhancePrompt"]);if(e!==void 0&&d!=null&&g(e,["parameters","enhancePrompt"],d),p(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const m=p(t,["lastFrame"]);e!==void 0&&m!=null&&g(e,["instances[0]","lastFrame"],ch(m));const y=p(t,["referenceImages"]);if(e!==void 0&&y!=null){let S=y;Array.isArray(S)&&(S=S.map(b=>iz(b))),g(e,["instances[0]","referenceImages"],S)}if(p(t,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(p(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function nV(t,e){const n={},i=p(t,["numberOfVideos"]);e!==void 0&&i!=null&&g(e,["parameters","sampleCount"],i);const r=p(t,["outputGcsUri"]);e!==void 0&&r!=null&&g(e,["parameters","storageUri"],r);const a=p(t,["fps"]);e!==void 0&&a!=null&&g(e,["parameters","fps"],a);const u=p(t,["durationSeconds"]);e!==void 0&&u!=null&&g(e,["parameters","durationSeconds"],u);const c=p(t,["seed"]);e!==void 0&&c!=null&&g(e,["parameters","seed"],c);const h=p(t,["aspectRatio"]);e!==void 0&&h!=null&&g(e,["parameters","aspectRatio"],h);const d=p(t,["resolution"]);e!==void 0&&d!=null&&g(e,["parameters","resolution"],d);const m=p(t,["personGeneration"]);e!==void 0&&m!=null&&g(e,["parameters","personGeneration"],m);const y=p(t,["pubsubTopic"]);e!==void 0&&y!=null&&g(e,["parameters","pubsubTopic"],y);const S=p(t,["negativePrompt"]);e!==void 0&&S!=null&&g(e,["parameters","negativePrompt"],S);const b=p(t,["enhancePrompt"]);e!==void 0&&b!=null&&g(e,["parameters","enhancePrompt"],b);const T=p(t,["generateAudio"]);e!==void 0&&T!=null&&g(e,["parameters","generateAudio"],T);const A=p(t,["lastFrame"]);e!==void 0&&A!=null&&g(e,["instances[0]","lastFrame"],fi(A));const x=p(t,["referenceImages"]);if(e!==void 0&&x!=null){let N=x;Array.isArray(N)&&(N=N.map(D=>oz(D))),g(e,["instances[0]","referenceImages"],N)}const M=p(t,["mask"]);e!==void 0&&M!=null&&g(e,["instances[0]","mask"],nz(M));const I=p(t,["compressionQuality"]);return e!==void 0&&I!=null&&g(e,["parameters","compressionQuality"],I),n}function iV(t){const e={},n=p(t,["name"]);n!=null&&g(e,["name"],n);const i=p(t,["metadata"]);i!=null&&g(e,["metadata"],i);const r=p(t,["done"]);r!=null&&g(e,["done"],r);const a=p(t,["error"]);a!=null&&g(e,["error"],a);const u=p(t,["response","generateVideoResponse"]);return u!=null&&g(e,["response"],aV(u)),e}function oV(t){const e={},n=p(t,["name"]);n!=null&&g(e,["name"],n);const i=p(t,["metadata"]);i!=null&&g(e,["metadata"],i);const r=p(t,["done"]);r!=null&&g(e,["done"],r);const a=p(t,["error"]);a!=null&&g(e,["error"],a);const u=p(t,["response"]);return u!=null&&g(e,["response"],lV(u)),e}function rV(t,e){const n={},i=p(e,["model"]);i!=null&&g(n,["_url","model"],Ve(t,i));const r=p(e,["prompt"]);r!=null&&g(n,["instances[0]","prompt"],r);const a=p(e,["image"]);a!=null&&g(n,["instances[0]","image"],ch(a));const u=p(e,["video"]);u!=null&&g(n,["instances[0]","video"],wM(u));const c=p(e,["source"]);c!=null&&uV(c,n);const h=p(e,["config"]);return h!=null&&tV(h,n),n}function sV(t,e){const n={},i=p(e,["model"]);i!=null&&g(n,["_url","model"],Ve(t,i));const r=p(e,["prompt"]);r!=null&&g(n,["instances[0]","prompt"],r);const a=p(e,["image"]);a!=null&&g(n,["instances[0]","image"],fi(a));const u=p(e,["video"]);u!=null&&g(n,["instances[0]","video"],CM(u));const c=p(e,["source"]);c!=null&&cV(c,n);const h=p(e,["config"]);return h!=null&&nV(h,n),n}function aV(t){const e={},n=p(t,["generatedSamples"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(u=>hV(u))),g(e,["generatedVideos"],a)}const i=p(t,["raiMediaFilteredCount"]);i!=null&&g(e,["raiMediaFilteredCount"],i);const r=p(t,["raiMediaFilteredReasons"]);return r!=null&&g(e,["raiMediaFilteredReasons"],r),e}function lV(t){const e={},n=p(t,["videos"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(u=>pV(u))),g(e,["generatedVideos"],a)}const i=p(t,["raiMediaFilteredCount"]);i!=null&&g(e,["raiMediaFilteredCount"],i);const r=p(t,["raiMediaFilteredReasons"]);return r!=null&&g(e,["raiMediaFilteredReasons"],r),e}function uV(t,e){const n={},i=p(t,["prompt"]);e!==void 0&&i!=null&&g(e,["instances[0]","prompt"],i);const r=p(t,["image"]);e!==void 0&&r!=null&&g(e,["instances[0]","image"],ch(r));const a=p(t,["video"]);return e!==void 0&&a!=null&&g(e,["instances[0]","video"],wM(a)),n}function cV(t,e){const n={},i=p(t,["prompt"]);e!==void 0&&i!=null&&g(e,["instances[0]","prompt"],i);const r=p(t,["image"]);e!==void 0&&r!=null&&g(e,["instances[0]","image"],fi(r));const a=p(t,["video"]);return e!==void 0&&a!=null&&g(e,["instances[0]","video"],CM(a)),n}function fV(t){const e={},n=p(t,["_self"]);n!=null&&g(e,["image"],EV(n));const i=p(t,["raiFilteredReason"]);i!=null&&g(e,["raiFilteredReason"],i);const r=p(t,["_self"]);return r!=null&&g(e,["safetyAttributes"],_M(r)),e}function uh(t){const e={},n=p(t,["_self"]);n!=null&&g(e,["image"],yM(n));const i=p(t,["raiFilteredReason"]);i!=null&&g(e,["raiFilteredReason"],i);const r=p(t,["_self"]);r!=null&&g(e,["safetyAttributes"],SM(r));const a=p(t,["prompt"]);return a!=null&&g(e,["enhancedPrompt"],a),e}function dV(t){const e={},n=p(t,["_self"]);n!=null&&g(e,["mask"],yM(n));const i=p(t,["labels"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(a=>a)),g(e,["labels"],r)}return e}function hV(t){const e={},n=p(t,["video"]);return n!=null&&g(e,["video"],ez(n)),e}function pV(t){const e={},n=p(t,["_self"]);return n!=null&&g(e,["video"],tz(n)),e}function mV(t){const e={},n=p(t,["modelSelectionConfig"]);n!=null&&g(e,["modelConfig"],n);const i=p(t,["responseJsonSchema"]);i!=null&&g(e,["responseJsonSchema"],i);const r=p(t,["audioTimestamp"]);r!=null&&g(e,["audioTimestamp"],r);const a=p(t,["candidateCount"]);a!=null&&g(e,["candidateCount"],a);const u=p(t,["enableAffectiveDialog"]);u!=null&&g(e,["enableAffectiveDialog"],u);const c=p(t,["frequencyPenalty"]);c!=null&&g(e,["frequencyPenalty"],c);const h=p(t,["logprobs"]);h!=null&&g(e,["logprobs"],h);const d=p(t,["maxOutputTokens"]);d!=null&&g(e,["maxOutputTokens"],d);const m=p(t,["mediaResolution"]);m!=null&&g(e,["mediaResolution"],m);const y=p(t,["presencePenalty"]);y!=null&&g(e,["presencePenalty"],y);const S=p(t,["responseLogprobs"]);S!=null&&g(e,["responseLogprobs"],S);const b=p(t,["responseMimeType"]);b!=null&&g(e,["responseMimeType"],b);const T=p(t,["responseModalities"]);T!=null&&g(e,["responseModalities"],T);const A=p(t,["responseSchema"]);A!=null&&g(e,["responseSchema"],A);const x=p(t,["routingConfig"]);x!=null&&g(e,["routingConfig"],x);const M=p(t,["seed"]);M!=null&&g(e,["seed"],M);const I=p(t,["speechConfig"]);I!=null&&g(e,["speechConfig"],bM(I));const N=p(t,["stopSequences"]);N!=null&&g(e,["stopSequences"],N);const D=p(t,["temperature"]);D!=null&&g(e,["temperature"],D);const L=p(t,["thinkingConfig"]);L!=null&&g(e,["thinkingConfig"],L);const U=p(t,["topK"]);U!=null&&g(e,["topK"],U);const O=p(t,["topP"]);if(O!=null&&g(e,["topP"],O),p(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function gV(t,e){const n={},i=p(e,["model"]);return i!=null&&g(n,["_url","name"],Ve(t,i)),n}function vV(t,e){const n={},i=p(e,["model"]);return i!=null&&g(n,["_url","name"],Ve(t,i)),n}function yV(t){const e={};if(p(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=p(t,["enableWidget"]);return n!=null&&g(e,["enableWidget"],n),e}function _V(t){const e={};if(p(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(p(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=p(t,["timeRangeFilter"]);return n!=null&&g(e,["timeRangeFilter"],n),e}function SV(t){const e={},n=p(t,["aspectRatio"]);n!=null&&g(e,["aspectRatio"],n);const i=p(t,["imageSize"]);if(i!=null&&g(e,["imageSize"],i),p(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(p(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function bV(t){const e={},n=p(t,["aspectRatio"]);n!=null&&g(e,["aspectRatio"],n);const i=p(t,["imageSize"]);i!=null&&g(e,["imageSize"],i);const r=p(t,["outputMimeType"]);r!=null&&g(e,["imageOutputOptions","mimeType"],r);const a=p(t,["outputCompressionQuality"]);return a!=null&&g(e,["imageOutputOptions","compressionQuality"],a),e}function EV(t){const e={},n=p(t,["bytesBase64Encoded"]);n!=null&&g(e,["imageBytes"],hr(n));const i=p(t,["mimeType"]);return i!=null&&g(e,["mimeType"],i),e}function yM(t){const e={},n=p(t,["gcsUri"]);n!=null&&g(e,["gcsUri"],n);const i=p(t,["bytesBase64Encoded"]);i!=null&&g(e,["imageBytes"],hr(i));const r=p(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function ch(t){const e={};if(p(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=p(t,["imageBytes"]);n!=null&&g(e,["bytesBase64Encoded"],hr(n));const i=p(t,["mimeType"]);return i!=null&&g(e,["mimeType"],i),e}function fi(t){const e={},n=p(t,["gcsUri"]);n!=null&&g(e,["gcsUri"],n);const i=p(t,["imageBytes"]);i!=null&&g(e,["bytesBase64Encoded"],hr(i));const r=p(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function wV(t,e,n){const i={},r=p(e,["pageSize"]);n!==void 0&&r!=null&&g(n,["_query","pageSize"],r);const a=p(e,["pageToken"]);n!==void 0&&a!=null&&g(n,["_query","pageToken"],a);const u=p(e,["filter"]);n!==void 0&&u!=null&&g(n,["_query","filter"],u);const c=p(e,["queryBase"]);return n!==void 0&&c!=null&&g(n,["_url","models_url"],cM(t,c)),i}function CV(t,e,n){const i={},r=p(e,["pageSize"]);n!==void 0&&r!=null&&g(n,["_query","pageSize"],r);const a=p(e,["pageToken"]);n!==void 0&&a!=null&&g(n,["_query","pageToken"],a);const u=p(e,["filter"]);n!==void 0&&u!=null&&g(n,["_query","filter"],u);const c=p(e,["queryBase"]);return n!==void 0&&c!=null&&g(n,["_url","models_url"],cM(t,c)),i}function TV(t,e){const n={},i=p(e,["config"]);return i!=null&&wV(t,i,n),n}function AV(t,e){const n={},i=p(e,["config"]);return i!=null&&CV(t,i,n),n}function xV(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const i=p(t,["nextPageToken"]);i!=null&&g(e,["nextPageToken"],i);const r=p(t,["_self"]);if(r!=null){let a=fM(r);Array.isArray(a)&&(a=a.map(u=>_v(u))),g(e,["models"],a)}return e}function RV(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const i=p(t,["nextPageToken"]);i!=null&&g(e,["nextPageToken"],i);const r=p(t,["_self"]);if(r!=null){let a=fM(r);Array.isArray(a)&&(a=a.map(u=>Sv(u))),g(e,["models"],a)}return e}function MV(t){const e={},n=p(t,["maskMode"]);n!=null&&g(e,["maskMode"],n);const i=p(t,["segmentationClasses"]);i!=null&&g(e,["maskClasses"],i);const r=p(t,["maskDilation"]);return r!=null&&g(e,["dilation"],r),e}function _v(t){const e={},n=p(t,["name"]);n!=null&&g(e,["name"],n);const i=p(t,["displayName"]);i!=null&&g(e,["displayName"],i);const r=p(t,["description"]);r!=null&&g(e,["description"],r);const a=p(t,["version"]);a!=null&&g(e,["version"],a);const u=p(t,["_self"]);u!=null&&g(e,["tunedModelInfo"],qV(u));const c=p(t,["inputTokenLimit"]);c!=null&&g(e,["inputTokenLimit"],c);const h=p(t,["outputTokenLimit"]);h!=null&&g(e,["outputTokenLimit"],h);const d=p(t,["supportedGenerationMethods"]);d!=null&&g(e,["supportedActions"],d);const m=p(t,["temperature"]);m!=null&&g(e,["temperature"],m);const y=p(t,["maxTemperature"]);y!=null&&g(e,["maxTemperature"],y);const S=p(t,["topP"]);S!=null&&g(e,["topP"],S);const b=p(t,["topK"]);b!=null&&g(e,["topK"],b);const T=p(t,["thinking"]);return T!=null&&g(e,["thinking"],T),e}function Sv(t){const e={},n=p(t,["name"]);n!=null&&g(e,["name"],n);const i=p(t,["displayName"]);i!=null&&g(e,["displayName"],i);const r=p(t,["description"]);r!=null&&g(e,["description"],r);const a=p(t,["versionId"]);a!=null&&g(e,["version"],a);const u=p(t,["deployedModels"]);if(u!=null){let y=u;Array.isArray(y)&&(y=y.map(S=>GG(S))),g(e,["endpoints"],y)}const c=p(t,["labels"]);c!=null&&g(e,["labels"],c);const h=p(t,["_self"]);h!=null&&g(e,["tunedModelInfo"],JV(h));const d=p(t,["defaultCheckpointId"]);d!=null&&g(e,["defaultCheckpointId"],d);const m=p(t,["checkpoints"]);if(m!=null){let y=m;Array.isArray(y)&&(y=y.map(S=>S)),g(e,["checkpoints"],y)}return e}function NV(t){const e={},n=p(t,["mediaResolution"]);n!=null&&g(e,["mediaResolution"],n);const i=p(t,["codeExecutionResult"]);i!=null&&g(e,["codeExecutionResult"],i);const r=p(t,["executableCode"]);r!=null&&g(e,["executableCode"],r);const a=p(t,["fileData"]);a!=null&&g(e,["fileData"],VG(a));const u=p(t,["functionCall"]);u!=null&&g(e,["functionCall"],zG(u));const c=p(t,["functionResponse"]);c!=null&&g(e,["functionResponse"],c);const h=p(t,["inlineData"]);h!=null&&g(e,["inlineData"],mG(h));const d=p(t,["text"]);d!=null&&g(e,["text"],d);const m=p(t,["thought"]);m!=null&&g(e,["thought"],m);const y=p(t,["thoughtSignature"]);y!=null&&g(e,["thoughtSignature"],y);const S=p(t,["videoMetadata"]);return S!=null&&g(e,["videoMetadata"],S),e}function IV(t){const e={},n=p(t,["productImage"]);return n!=null&&g(e,["image"],fi(n)),e}function DV(t,e){const n={},i=p(t,["numberOfImages"]);e!==void 0&&i!=null&&g(e,["parameters","sampleCount"],i);const r=p(t,["baseSteps"]);e!==void 0&&r!=null&&g(e,["parameters","baseSteps"],r);const a=p(t,["outputGcsUri"]);e!==void 0&&a!=null&&g(e,["parameters","storageUri"],a);const u=p(t,["seed"]);e!==void 0&&u!=null&&g(e,["parameters","seed"],u);const c=p(t,["safetyFilterLevel"]);e!==void 0&&c!=null&&g(e,["parameters","safetySetting"],c);const h=p(t,["personGeneration"]);e!==void 0&&h!=null&&g(e,["parameters","personGeneration"],h);const d=p(t,["addWatermark"]);e!==void 0&&d!=null&&g(e,["parameters","addWatermark"],d);const m=p(t,["outputMimeType"]);e!==void 0&&m!=null&&g(e,["parameters","outputOptions","mimeType"],m);const y=p(t,["outputCompressionQuality"]);e!==void 0&&y!=null&&g(e,["parameters","outputOptions","compressionQuality"],y);const S=p(t,["enhancePrompt"]);e!==void 0&&S!=null&&g(e,["parameters","enhancePrompt"],S);const b=p(t,["labels"]);return e!==void 0&&b!=null&&g(e,["labels"],b),n}function OV(t,e){const n={},i=p(e,["model"]);i!=null&&g(n,["_url","model"],Ve(t,i));const r=p(e,["source"]);r!=null&&kV(r,n);const a=p(e,["config"]);return a!=null&&DV(a,n),n}function PV(t){const e={},n=p(t,["predictions"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(r=>uh(r))),g(e,["generatedImages"],i)}return e}function kV(t,e){const n={},i=p(t,["prompt"]);e!==void 0&&i!=null&&g(e,["instances[0]","prompt"],i);const r=p(t,["personImage"]);e!==void 0&&r!=null&&g(e,["instances[0]","personImage","image"],fi(r));const a=p(t,["productImages"]);if(e!==void 0&&a!=null){let u=a;Array.isArray(u)&&(u=u.map(c=>IV(c))),g(e,["instances[0]","productImages"],u)}return n}function LV(t){const e={},n=p(t,["referenceImage"]);n!=null&&g(e,["referenceImage"],fi(n));const i=p(t,["referenceId"]);i!=null&&g(e,["referenceId"],i);const r=p(t,["referenceType"]);r!=null&&g(e,["referenceType"],r);const a=p(t,["maskImageConfig"]);a!=null&&g(e,["maskImageConfig"],MV(a));const u=p(t,["controlImageConfig"]);u!=null&&g(e,["controlImageConfig"],EG(u));const c=p(t,["styleImageConfig"]);c!=null&&g(e,["styleImageConfig"],c);const h=p(t,["subjectImageConfig"]);return h!=null&&g(e,["subjectImageConfig"],h),e}function _M(t){const e={},n=p(t,["safetyAttributes","categories"]);n!=null&&g(e,["categories"],n);const i=p(t,["safetyAttributes","scores"]);i!=null&&g(e,["scores"],i);const r=p(t,["contentType"]);return r!=null&&g(e,["contentType"],r),e}function SM(t){const e={},n=p(t,["safetyAttributes","categories"]);n!=null&&g(e,["categories"],n);const i=p(t,["safetyAttributes","scores"]);i!=null&&g(e,["scores"],i);const r=p(t,["contentType"]);return r!=null&&g(e,["contentType"],r),e}function UV(t){const e={},n=p(t,["category"]);if(n!=null&&g(e,["category"],n),p(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const i=p(t,["threshold"]);return i!=null&&g(e,["threshold"],i),e}function BV(t){const e={},n=p(t,["image"]);return n!=null&&g(e,["image"],fi(n)),e}function FV(t,e){const n={},i=p(t,["mode"]);e!==void 0&&i!=null&&g(e,["parameters","mode"],i);const r=p(t,["maxPredictions"]);e!==void 0&&r!=null&&g(e,["parameters","maxPredictions"],r);const a=p(t,["confidenceThreshold"]);e!==void 0&&a!=null&&g(e,["parameters","confidenceThreshold"],a);const u=p(t,["maskDilation"]);e!==void 0&&u!=null&&g(e,["parameters","maskDilation"],u);const c=p(t,["binaryColorThreshold"]);e!==void 0&&c!=null&&g(e,["parameters","binaryColorThreshold"],c);const h=p(t,["labels"]);return e!==void 0&&h!=null&&g(e,["labels"],h),n}function $V(t,e){const n={},i=p(e,["model"]);i!=null&&g(n,["_url","model"],Ve(t,i));const r=p(e,["source"]);r!=null&&GV(r,n);const a=p(e,["config"]);return a!=null&&FV(a,n),n}function HV(t){const e={},n=p(t,["predictions"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(r=>dV(r))),g(e,["generatedMasks"],i)}return e}function GV(t,e){const n={},i=p(t,["prompt"]);e!==void 0&&i!=null&&g(e,["instances[0]","prompt"],i);const r=p(t,["image"]);e!==void 0&&r!=null&&g(e,["instances[0]","image"],fi(r));const a=p(t,["scribbleImage"]);return e!==void 0&&a!=null&&g(e,["instances[0]","scribble"],BV(a)),n}function bM(t){const e={},n=p(t,["voiceConfig"]);n!=null&&g(e,["voiceConfig"],n);const i=p(t,["languageCode"]);if(i!=null&&g(e,["languageCode"],i),p(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return e}function VV(t){const e={},n=p(t,["functionCallingConfig"]);n!=null&&g(e,["functionCallingConfig"],qG(n));const i=p(t,["retrievalConfig"]);return i!=null&&g(e,["retrievalConfig"],i),e}function zV(t){const e={},n=p(t,["functionDeclarations"]);if(n!=null){let m=n;Array.isArray(m)&&(m=m.map(y=>y)),g(e,["functionDeclarations"],m)}if(p(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=p(t,["googleSearchRetrieval"]);i!=null&&g(e,["googleSearchRetrieval"],i);const r=p(t,["computerUse"]);r!=null&&g(e,["computerUse"],r);const a=p(t,["fileSearch"]);a!=null&&g(e,["fileSearch"],a);const u=p(t,["codeExecution"]);if(u!=null&&g(e,["codeExecution"],u),p(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const c=p(t,["googleMaps"]);c!=null&&g(e,["googleMaps"],yV(c));const h=p(t,["googleSearch"]);h!=null&&g(e,["googleSearch"],_V(h));const d=p(t,["urlContext"]);return d!=null&&g(e,["urlContext"],d),e}function EM(t){const e={},n=p(t,["functionDeclarations"]);if(n!=null){let y=n;Array.isArray(y)&&(y=y.map(S=>JG(S))),g(e,["functionDeclarations"],y)}const i=p(t,["retrieval"]);i!=null&&g(e,["retrieval"],i);const r=p(t,["googleSearchRetrieval"]);r!=null&&g(e,["googleSearchRetrieval"],r);const a=p(t,["computerUse"]);if(a!=null&&g(e,["computerUse"],a),p(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const u=p(t,["codeExecution"]);u!=null&&g(e,["codeExecution"],u);const c=p(t,["enterpriseWebSearch"]);c!=null&&g(e,["enterpriseWebSearch"],c);const h=p(t,["googleMaps"]);h!=null&&g(e,["googleMaps"],h);const d=p(t,["googleSearch"]);d!=null&&g(e,["googleSearch"],d);const m=p(t,["urlContext"]);return m!=null&&g(e,["urlContext"],m),e}function qV(t){const e={},n=p(t,["baseModel"]);n!=null&&g(e,["baseModel"],n);const i=p(t,["createTime"]);i!=null&&g(e,["createTime"],i);const r=p(t,["updateTime"]);return r!=null&&g(e,["updateTime"],r),e}function JV(t){const e={},n=p(t,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&g(e,["baseModel"],n);const i=p(t,["createTime"]);i!=null&&g(e,["createTime"],i);const r=p(t,["updateTime"]);return r!=null&&g(e,["updateTime"],r),e}function KV(t,e){const n={},i=p(t,["displayName"]);e!==void 0&&i!=null&&g(e,["displayName"],i);const r=p(t,["description"]);e!==void 0&&r!=null&&g(e,["description"],r);const a=p(t,["defaultCheckpointId"]);return e!==void 0&&a!=null&&g(e,["defaultCheckpointId"],a),n}function YV(t,e){const n={},i=p(t,["displayName"]);e!==void 0&&i!=null&&g(e,["displayName"],i);const r=p(t,["description"]);e!==void 0&&r!=null&&g(e,["description"],r);const a=p(t,["defaultCheckpointId"]);return e!==void 0&&a!=null&&g(e,["defaultCheckpointId"],a),n}function jV(t,e){const n={},i=p(e,["model"]);i!=null&&g(n,["_url","name"],Ve(t,i));const r=p(e,["config"]);return r!=null&&KV(r,n),n}function XV(t,e){const n={},i=p(e,["model"]);i!=null&&g(n,["_url","model"],Ve(t,i));const r=p(e,["config"]);return r!=null&&YV(r,n),n}function WV(t,e){const n={},i=p(t,["outputGcsUri"]);e!==void 0&&i!=null&&g(e,["parameters","storageUri"],i);const r=p(t,["safetyFilterLevel"]);e!==void 0&&r!=null&&g(e,["parameters","safetySetting"],r);const a=p(t,["personGeneration"]);e!==void 0&&a!=null&&g(e,["parameters","personGeneration"],a);const u=p(t,["includeRaiReason"]);e!==void 0&&u!=null&&g(e,["parameters","includeRaiReason"],u);const c=p(t,["outputMimeType"]);e!==void 0&&c!=null&&g(e,["parameters","outputOptions","mimeType"],c);const h=p(t,["outputCompressionQuality"]);e!==void 0&&h!=null&&g(e,["parameters","outputOptions","compressionQuality"],h);const d=p(t,["enhanceInputImage"]);e!==void 0&&d!=null&&g(e,["parameters","upscaleConfig","enhanceInputImage"],d);const m=p(t,["imagePreservationFactor"]);e!==void 0&&m!=null&&g(e,["parameters","upscaleConfig","imagePreservationFactor"],m);const y=p(t,["labels"]);e!==void 0&&y!=null&&g(e,["labels"],y);const S=p(t,["numberOfImages"]);e!==void 0&&S!=null&&g(e,["parameters","sampleCount"],S);const b=p(t,["mode"]);return e!==void 0&&b!=null&&g(e,["parameters","mode"],b),n}function QV(t,e){const n={},i=p(e,["model"]);i!=null&&g(n,["_url","model"],Ve(t,i));const r=p(e,["image"]);r!=null&&g(n,["instances[0]","image"],fi(r));const a=p(e,["upscaleFactor"]);a!=null&&g(n,["parameters","upscaleConfig","upscaleFactor"],a);const u=p(e,["config"]);return u!=null&&WV(u,n),n}function ZV(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const i=p(t,["predictions"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(a=>uh(a))),g(e,["generatedImages"],r)}return e}function ez(t){const e={},n=p(t,["uri"]);n!=null&&g(e,["uri"],n);const i=p(t,["encodedVideo"]);i!=null&&g(e,["videoBytes"],hr(i));const r=p(t,["encoding"]);return r!=null&&g(e,["mimeType"],r),e}function tz(t){const e={},n=p(t,["gcsUri"]);n!=null&&g(e,["uri"],n);const i=p(t,["bytesBase64Encoded"]);i!=null&&g(e,["videoBytes"],hr(i));const r=p(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function nz(t){const e={},n=p(t,["image"]);n!=null&&g(e,["_self"],fi(n));const i=p(t,["maskMode"]);return i!=null&&g(e,["maskMode"],i),e}function iz(t){const e={},n=p(t,["image"]);n!=null&&g(e,["image"],ch(n));const i=p(t,["referenceType"]);return i!=null&&g(e,["referenceType"],i),e}function oz(t){const e={},n=p(t,["image"]);n!=null&&g(e,["image"],fi(n));const i=p(t,["referenceType"]);return i!=null&&g(e,["referenceType"],i),e}function wM(t){const e={},n=p(t,["uri"]);n!=null&&g(e,["uri"],n);const i=p(t,["videoBytes"]);i!=null&&g(e,["encodedVideo"],hr(i));const r=p(t,["mimeType"]);return r!=null&&g(e,["encoding"],r),e}function CM(t){const e={},n=p(t,["uri"]);n!=null&&g(e,["gcsUri"],n);const i=p(t,["videoBytes"]);i!=null&&g(e,["bytesBase64Encoded"],hr(i));const r=p(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function rz(t,e){const n={},i=p(t,["displayName"]);return e!==void 0&&i!=null&&g(e,["displayName"],i),n}function sz(t){const e={},n=p(t,["config"]);return n!=null&&rz(n,e),e}function az(t,e){const n={},i=p(t,["force"]);return e!==void 0&&i!=null&&g(e,["_query","force"],i),n}function lz(t){const e={},n=p(t,["name"]);n!=null&&g(e,["_url","name"],n);const i=p(t,["config"]);return i!=null&&az(i,e),e}function uz(t){const e={},n=p(t,["name"]);return n!=null&&g(e,["_url","name"],n),e}function cz(t,e){const n={},i=p(t,["customMetadata"]);if(e!==void 0&&i!=null){let a=i;Array.isArray(a)&&(a=a.map(u=>u)),g(e,["customMetadata"],a)}const r=p(t,["chunkingConfig"]);return e!==void 0&&r!=null&&g(e,["chunkingConfig"],r),n}function fz(t){const e={},n=p(t,["name"]);n!=null&&g(e,["name"],n);const i=p(t,["metadata"]);i!=null&&g(e,["metadata"],i);const r=p(t,["done"]);r!=null&&g(e,["done"],r);const a=p(t,["error"]);a!=null&&g(e,["error"],a);const u=p(t,["response"]);return u!=null&&g(e,["response"],hz(u)),e}function dz(t){const e={},n=p(t,["fileSearchStoreName"]);n!=null&&g(e,["_url","file_search_store_name"],n);const i=p(t,["fileName"]);i!=null&&g(e,["fileName"],i);const r=p(t,["config"]);return r!=null&&cz(r,e),e}function hz(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const i=p(t,["parent"]);i!=null&&g(e,["parent"],i);const r=p(t,["documentName"]);return r!=null&&g(e,["documentName"],r),e}function pz(t,e){const n={},i=p(t,["pageSize"]);e!==void 0&&i!=null&&g(e,["_query","pageSize"],i);const r=p(t,["pageToken"]);return e!==void 0&&r!=null&&g(e,["_query","pageToken"],r),n}function mz(t){const e={},n=p(t,["config"]);return n!=null&&pz(n,e),e}function gz(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const i=p(t,["nextPageToken"]);i!=null&&g(e,["nextPageToken"],i);const r=p(t,["fileSearchStores"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(u=>u)),g(e,["fileSearchStores"],a)}return e}function TM(t,e){const n={},i=p(t,["mimeType"]);e!==void 0&&i!=null&&g(e,["mimeType"],i);const r=p(t,["displayName"]);e!==void 0&&r!=null&&g(e,["displayName"],r);const a=p(t,["customMetadata"]);if(e!==void 0&&a!=null){let c=a;Array.isArray(c)&&(c=c.map(h=>h)),g(e,["customMetadata"],c)}const u=p(t,["chunkingConfig"]);return e!==void 0&&u!=null&&g(e,["chunkingConfig"],u),n}function vz(t){const e={},n=p(t,["fileSearchStoreName"]);n!=null&&g(e,["_url","file_search_store_name"],n);const i=p(t,["config"]);return i!=null&&TM(i,e),e}function yz(t){const e={},n=p(t,["sdkHttpResponse"]);return n!=null&&g(e,["sdkHttpResponse"],n),e}const _z="Content-Type",Sz="X-Server-Timeout",bz="User-Agent",bv="x-goog-api-client",Ez="1.33.0",wz=`google-genai-sdk/${Ez}`,Cz="v1beta1",Tz="v1beta";class Az{constructor(e){var n,i;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const r={};this.clientOptions.vertexai?(r.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:Cz,r.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(r.apiVersion=(i=this.clientOptions.apiVersion)!==null&&i!==void 0?i:Tz,r.baseUrl="https://generativelanguage.googleapis.com/"),r.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=r,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(r,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const i=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&i.push(e.apiVersion),i.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,i){const r=[this.getRequestUrlInternal(n)];return i&&r.push(this.getBaseResourcePath()),e!==""&&r.push(e),new URL(`${r.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const i=this.shouldPrependVertexProjectPath(e),r=this.constructUrl(e.path,n,i);if(e.queryParams)for(const[u,c]of Object.entries(e.queryParams))r.searchParams.append(u,String(c));let a={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else a.body=e.body;return a=await this.includeExtraHttpOptionsToRequestInit(a,n,r.toString(),e.abortSignal),this.unaryApiCall(r,a,e.httpMethod)}patchHttpOptions(e,n){const i=JSON.parse(JSON.stringify(e));for(const[r,a]of Object.entries(n))typeof a=="object"?i[r]=Object.assign(Object.assign({},i[r]),a):a!==void 0&&(i[r]=a);return i}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const i=this.shouldPrependVertexProjectPath(e),r=this.constructUrl(e.path,n,i);(!r.searchParams.has("alt")||r.searchParams.get("alt")!=="sse")&&r.searchParams.set("alt","sse");let a={};return a.body=e.body,a=await this.includeExtraHttpOptionsToRequestInit(a,n,r.toString(),e.abortSignal),this.streamApiCall(r,a,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,i,r){if(n&&n.timeout||r){const a=new AbortController,u=a.signal;if(n.timeout&&n?.timeout>0){const c=setTimeout(()=>a.abort(),n.timeout);c&&typeof c.unref=="function"&&c.unref()}r&&r.addEventListener("abort",()=>{a.abort()}),e.signal=u}return n&&n.extraBody!==null&&xz(e,n.extraBody),e.headers=await this.getHeadersInternal(n,i),e}async unaryApiCall(e,n,i){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:i})).then(async r=>(await sT(r),new gv(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}async streamApiCall(e,n,i){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:i})).then(async r=>(await sT(r),this.processStreamResponse(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}processStreamResponse(e){return oi(this,arguments,function*(){var i;const r=(i=e?.body)===null||i===void 0?void 0:i.getReader(),a=new TextDecoder("utf-8");if(!r)throw new Error("Response body is empty");try{let u="";const c="data:",h=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:d,value:m}=yield Te(r.read());if(d){if(u.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const y=a.decode(m,{stream:!0});try{const T=JSON.parse(y);if("error"in T){const A=JSON.parse(JSON.stringify(T.error)),x=A.status,M=A.code,I=`got status: ${x}. ${JSON.stringify(T)}`;if(M>=400&&M<600)throw new ah({message:I,status:M})}}catch(T){if(T.name==="ApiError")throw T}u+=y;let S=-1,b=0;for(;;){S=-1,b=0;for(const x of h){const M=u.indexOf(x);M!==-1&&(S===-1||M<S)&&(S=M,b=x.length)}if(S===-1)break;const T=u.substring(0,S);u=u.substring(S+b);const A=T.trim();if(A.startsWith(c)){const x=A.substring(c.length).trim();try{const M=new Response(x,{headers:e?.headers,status:e?.status,statusText:e?.statusText});yield yield Te(new gv(M))}catch(M){throw new Error(`exception parsing stream chunk ${x}. ${M}`)}}}}}finally{r.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(i=>{throw new Error(`exception ${i} sending request`)})}getDefaultHeaders(){const e={},n=wz+" "+this.clientOptions.userAgentExtra;return e[bz]=n,e[bv]=n,e[_z]="application/json",e}async getHeadersInternal(e,n){const i=new Headers;if(e&&e.headers){for(const[r,a]of Object.entries(e.headers))i.append(r,a);e.timeout&&e.timeout>0&&i.append(Sz,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(i,n),i}getFileName(e){var n;let i="";return typeof e=="string"&&(i=e.replace(/[/\\]+$/,""),i=(n=i.split(/[/\\]/).pop())!==null&&n!==void 0?n:""),i}async uploadFile(e,n){var i;const r={};n!=null&&(r.mimeType=n.mimeType,r.name=n.name,r.displayName=n.displayName),r.name&&!r.name.startsWith("files/")&&(r.name=`files/${r.name}`);const a=this.clientOptions.uploader,u=await a.stat(e);r.sizeBytes=String(u.size);const c=(i=n?.mimeType)!==null&&i!==void 0?i:u.type;if(c===void 0||c==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");r.mimeType=c;const h={file:r},d=this.getFileName(e),m=fe("upload/v1beta/files",h._url),y=await this.fetchUploadUrl(m,r.sizeBytes,r.mimeType,d,h,n?.httpOptions);return a.upload(e,y,this)}async uploadFileToFileSearchStore(e,n,i){var r;const a=this.clientOptions.uploader,u=await a.stat(n),c=String(u.size),h=(r=i?.mimeType)!==null&&r!==void 0?r:u.type;if(h===void 0||h==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const d=`upload/v1beta/${e}:uploadToFileSearchStore`,m=this.getFileName(n),y={};i!=null&&TM(i,y);const S=await this.fetchUploadUrl(d,c,h,m,y,i?.httpOptions);return a.uploadToFileSearchStore(n,S,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n,i,r,a,u){var c;let h={};u?h=u:h={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n}`,"X-Goog-Upload-Header-Content-Type":`${i}`},r?{"X-Goog-Upload-File-Name":r}:{})};const d=await this.request({path:e,body:JSON.stringify(a),httpMethod:"POST",httpOptions:h});if(!d||!d?.headers)throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const m=(c=d?.headers)===null||c===void 0?void 0:c["x-goog-upload-url"];if(m===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return m}}async function sT(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const n=t.status;let i;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?i=await t.json():i={error:{message:await t.text(),code:t.status,status:t.statusText}};const r=JSON.stringify(i);throw n>=400&&n<600?new ah({message:r,status:n}):new Error(r)}}function xz(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof t.body=="string"&&t.body.length>0)try{const a=JSON.parse(t.body);if(typeof a=="object"&&a!==null&&!Array.isArray(a))n=a;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function i(a,u){const c=Object.assign({},a);for(const h in u)if(Object.prototype.hasOwnProperty.call(u,h)){const d=u[h],m=c[h];d&&typeof d=="object"&&!Array.isArray(d)&&m&&typeof m=="object"&&!Array.isArray(m)?c[h]=i(m,d):(m&&d&&typeof m!=typeof d&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${h}". Original type: ${typeof m}, New type: ${typeof d}. Overwriting.`),c[h]=d)}return c}const r=i(n,e);t.body=JSON.stringify(r)}const Rz="mcp_used/unknown";let Mz=!1;function AM(t){for(const e of t)if(Nz(e)||typeof e=="object"&&"inputSchema"in e)return!0;return Mz}function xM(t){var e;const n=(e=t[bv])!==null&&e!==void 0?e:"";t[bv]=(n+` ${Rz}`).trimStart()}function Nz(t){return t!==null&&typeof t=="object"&&t instanceof $y}function Iz(t){return oi(this,arguments,function*(n,i=100){let r,a=0;for(;a<i;){const u=yield Te(n.listTools({cursor:r}));for(const c of u.tools)yield yield Te(c),a++;if(!u.nextCursor)break;r=u.nextCursor}})}class $y{constructor(e=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=n}static create(e,n){return new $y(e,n)}async initialize(){var e,n,i,r;if(this.mcpTools.length>0)return;const a={},u=[];for(const m of this.mcpClients)try{for(var c=!0,h=(n=void 0,ri(Iz(m))),d;d=await h.next(),e=d.done,!e;c=!0){r=d.value,c=!1;const y=r;u.push(y);const S=y.name;if(a[S])throw new Error(`Duplicate function name ${S} found in MCP tools. Please ensure function names are unique.`);a[S]=m}}catch(y){n={error:y}}finally{try{!c&&!e&&(i=h.return)&&await i.call(h)}finally{if(n)throw n.error}}this.mcpTools=u,this.functionNameToMcpClient=a}async tool(){return await this.initialize(),u$(this.mcpTools,this.config)}async callTool(e){await this.initialize();const n=[];for(const i of e)if(i.name in this.functionNameToMcpClient){const r=this.functionNameToMcpClient[i.name];let a;this.config.timeout&&(a={timeout:this.config.timeout});const u=await r.callTool({name:i.name,arguments:i.args},void 0,a);n.push({functionResponse:{name:i.name,response:u.isError?{error:u}:u}})}return n}}async function Dz(t,e,n){const i=new t$;let r;n.data instanceof Blob?r=JSON.parse(await n.data.text()):r=JSON.parse(n.data),Object.assign(i,r),e(i)}class Oz{constructor(e,n,i){this.apiClient=e,this.auth=n,this.webSocketFactory=i}async connect(e){var n,i;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const r=this.apiClient.getWebsocketBaseUrl(),a=this.apiClient.getApiVersion(),u=Lz(this.apiClient.getDefaultHeaders()),c=this.apiClient.getApiKey(),h=`${r}/ws/google.ai.generativelanguage.${a}.GenerativeService.BidiGenerateMusic?key=${c}`;let d=()=>{};const m=new Promise(N=>{d=N}),y=e.callbacks,S=function(){d({})},b=this.apiClient,T={onopen:S,onmessage:N=>{Dz(b,y.onmessage,N)},onerror:(n=y?.onerror)!==null&&n!==void 0?n:function(N){},onclose:(i=y?.onclose)!==null&&i!==void 0?i:function(N){}},A=this.webSocketFactory.create(h,kz(u),T);A.connect(),await m;const I={setup:{model:Ve(this.apiClient,e.model)}};return A.send(JSON.stringify(I)),new Pz(A,this.apiClient)}}class Pz{constructor(e,n){this.conn=e,this.apiClient=n}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=sG(e);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const n=rG(e);this.conn.send(JSON.stringify(n))}sendPlaybackControl(e){const n={playbackControl:e};this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(aa.PLAY)}pause(){this.sendPlaybackControl(aa.PAUSE)}stop(){this.sendPlaybackControl(aa.STOP)}resetContext(){this.sendPlaybackControl(aa.RESET_CONTEXT)}close(){this.conn.close()}}function kz(t){const e={};return t.forEach((n,i)=>{e[i]=n}),e}function Lz(t){const e=new Headers;for(const[n,i]of Object.entries(t))e.append(n,i);return e}const Uz="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function Bz(t,e,n){const i=new e$;let r;n.data instanceof Blob?r=await n.data.text():n.data instanceof ArrayBuffer?r=new TextDecoder().decode(n.data):r=n.data;const a=JSON.parse(r);if(t.isVertexAI()){const u=uG(a);Object.assign(i,u)}else Object.assign(i,a);e(i)}class Fz{constructor(e,n,i){this.apiClient=e,this.auth=n,this.webSocketFactory=i,this.music=new Oz(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,i,r,a,u,c;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const h=this.apiClient.getWebsocketBaseUrl(),d=this.apiClient.getApiVersion();let m;const y=this.apiClient.getHeaders();e.config&&e.config.tools&&AM(e.config.tools)&&xM(y);const S=Vz(y);if(this.apiClient.isVertexAI())m=`${h}/ws/google.cloud.aiplatform.${d}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(S,m);else{const J=this.apiClient.getApiKey();let j="BidiGenerateContent",W="key";J?.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),d!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),j="BidiGenerateContentConstrained",W="access_token"),m=`${h}/ws/google.ai.generativelanguage.${d}.GenerativeService.${j}?${W}=${J}`}let b=()=>{};const T=new Promise(J=>{b=J}),A=e.callbacks,x=function(){var J;(J=A?.onopen)===null||J===void 0||J.call(A),b({})},M=this.apiClient,I={onopen:x,onmessage:J=>{Bz(M,A.onmessage,J)},onerror:(n=A?.onerror)!==null&&n!==void 0?n:function(J){},onclose:(i=A?.onclose)!==null&&i!==void 0?i:function(J){}},N=this.webSocketFactory.create(m,Gz(S),I);N.connect(),await T;let D=Ve(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&D.startsWith("publishers/")){const J=this.apiClient.getProject(),j=this.apiClient.getLocation();D=`projects/${J}/locations/${j}/`+D}let L={};this.apiClient.isVertexAI()&&((r=e.config)===null||r===void 0?void 0:r.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[Ed.AUDIO]}:e.config.responseModalities=[Ed.AUDIO]),!((a=e.config)===null||a===void 0)&&a.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const U=(c=(u=e.config)===null||u===void 0?void 0:u.tools)!==null&&c!==void 0?c:[],O=[];for(const J of U)if(this.isCallableTool(J)){const j=J;O.push(await j.tool())}else O.push(J);O.length>0&&(e.config.tools=O);const q={model:D,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?L=oG(this.apiClient,q):L=iG(this.apiClient,q),delete L.config,N.send(JSON.stringify(L)),new Hz(N,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const $z={turnComplete:!0};class Hz{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let i=[];try{i=Hn(n.turns),e.isVertexAI()||(i=i.map(r=>lh(r)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:i,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let i=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?i=n.functionResponses:i=[n.functionResponses],i.length===0)throw new Error("functionResponses is required.");for(const a of i){if(typeof a!="object"||a===null||!("name"in a)||!("response"in a))throw new Error(`Could not parse function response, type '${typeof a}'.`);if(!e.isVertexAI()&&!("id"in a))throw new Error(Uz)}return{toolResponse:{functionResponses:i}}}sendClientContent(e){e=Object.assign(Object.assign({},$z),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:lG(e)}:n={realtimeInput:aG(e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function Gz(t){const e={};return t.forEach((n,i)=>{e[i]=n}),e}function Vz(t){const e=new Headers;for(const[n,i]of Object.entries(t))e.append(n,i);return e}const aT=10;function lT(t){var e,n,i;if(!((e=t?.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let r=!1;for(const u of(n=t?.tools)!==null&&n!==void 0?n:[])if(fa(u)){r=!0;break}if(!r)return!0;const a=(i=t?.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls;return a&&(a<0||!Number.isInteger(a))||a==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",a),!0):!1}function fa(t){return"callTool"in t&&typeof t.callTool=="function"}function zz(t){var e,n,i;return(i=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(r=>fa(r)))!==null&&i!==void 0?i:!1}function uT(t){var e;const n=[];return!((e=t?.config)===null||e===void 0)&&e.tools&&t.config.tools.forEach((i,r)=>{if(fa(i))return;const a=i;a.functionDeclarations&&a.functionDeclarations.length>0&&n.push(r)}),n}function cT(t){var e;return!(!((e=t?.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}let qz=class extends _o{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>{var i,r,a,u,c;const h=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!zz(n)||lT(n.config))return await this.generateContentInternal(h);const d=uT(n);if(d.length>0){const A=d.map(x=>`tools[${x}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${A}.`)}let m,y;const S=Hn(h.contents),b=(a=(r=(i=h.config)===null||i===void 0?void 0:i.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&a!==void 0?a:aT;let T=0;for(;T<b&&(m=await this.generateContentInternal(h),!(!m.functionCalls||m.functionCalls.length===0));){const A=m.candidates[0].content,x=[];for(const M of(c=(u=n.config)===null||u===void 0?void 0:u.tools)!==null&&c!==void 0?c:[])if(fa(M)){const N=await M.callTool(m.functionCalls);x.push(...N)}T++,y={role:"user",parts:x},h.contents=Hn(h.contents),h.contents.push(A),h.contents.push(y),cT(h.config)&&(S.push(A),S.push(y))}return cT(h.config)&&(m.automaticFunctionCallingHistory=S),m},this.generateContentStream=async n=>{var i,r,a,u,c;if(this.maybeMoveToResponseJsonSchem(n),lT(n.config)){const y=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(y)}const h=uT(n);if(h.length>0){const y=h.map(S=>`tools[${S}]`).join(", ");throw new Error(`Incompatible tools found at ${y}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const d=(a=(r=(i=n?.config)===null||i===void 0?void 0:i.toolConfig)===null||r===void 0?void 0:r.functionCallingConfig)===null||a===void 0?void 0:a.streamFunctionCallArguments,m=(c=(u=n?.config)===null||u===void 0?void 0:u.automaticFunctionCalling)===null||c===void 0?void 0:c.disable;if(d&&!m)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(i=>{var r;let a;const u=[];if(i?.generatedImages)for(const h of i.generatedImages)h&&h?.safetyAttributes&&((r=h?.safetyAttributes)===null||r===void 0?void 0:r.contentType)==="Positive Prompt"?a=h?.safetyAttributes:u.push(h);let c;return a?c={generatedImages:u,positivePromptSafetyAttributes:a,sdkHttpResponse:i.sdkHttpResponse}:c={generatedImages:u,sdkHttpResponse:i.sdkHttpResponse},c}),this.list=async n=>{var i;const u={config:Object.assign(Object.assign({},{queryBase:!0}),n?.config)};if(this.apiClient.isVertexAI()&&!u.config.queryBase){if(!((i=u.config)===null||i===void 0)&&i.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");u.config.filter="labels.tune-type:*"}return new is(mo.PAGED_ITEM_MODELS,c=>this.listInternal(c),await this.listInternal(u),u)},this.editImage=async n=>{const i={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(i.referenceImages=n.referenceImages.map(r=>r.toReferenceImageAPI())),await this.editImageInternal(i)},this.upscaleImage=async n=>{let i={numberOfImages:1,mode:"upscale"};n.config&&(i=Object.assign(Object.assign({},i),n.config));const r={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:i};return await this.upscaleImageInternal(r)},this.generateVideos=async n=>{var i,r,a,u,c,h;if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((i=n.video)===null||i===void 0)&&i.uri&&(!((r=n.video)===null||r===void 0)&&r.videoBytes)?n.video={uri:n.video.uri,mimeType:n.video.mimeType}:!((u=(a=n.source)===null||a===void 0?void 0:a.video)===null||u===void 0)&&u.uri&&(!((h=(c=n.source)===null||c===void 0?void 0:c.video)===null||h===void 0)&&h.videoBytes)&&(n.source.video={uri:n.source.video.uri,mimeType:n.source.video.mimeType})),await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var n,i,r;const a=(n=e.config)===null||n===void 0?void 0:n.tools;if(!a)return e;const u=await Promise.all(a.map(async h=>fa(h)?await h.tool():h)),c={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:u})};if(c.config.tools=u,e.config&&e.config.tools&&AM(e.config.tools)){const h=(r=(i=e.config.httpOptions)===null||i===void 0?void 0:i.headers)!==null&&r!==void 0?r:{};let d=Object.assign({},h);Object.keys(d).length===0&&(d=this.apiClient.getDefaultHeaders()),xM(d),c.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:d})}return c}async initAfcToolsMap(e){var n,i,r;const a=new Map;for(const u of(i=(n=e.config)===null||n===void 0?void 0:n.tools)!==null&&i!==void 0?i:[])if(fa(u)){const c=u,h=await c.tool();for(const d of(r=h.functionDeclarations)!==null&&r!==void 0?r:[]){if(!d.name)throw new Error("Function declaration name is required.");if(a.has(d.name))throw new Error(`Duplicate tool declaration name: ${d.name}`);a.set(d.name,c)}}return a}async processAfcStream(e){var n,i,r;const a=(r=(i=(n=e.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&r!==void 0?r:aT;let u=!1,c=0;const h=await this.initAfcToolsMap(e);return(function(d,m,y){return oi(this,arguments,function*(){for(var S,b,T,A,x,M;c<a;){u&&(c++,u=!1);const L=yield Te(d.processParamsMaybeAddMcpUsage(y)),U=yield Te(d.generateContentStreamInternal(L)),O=[],q=[];try{for(var I=!0,N=(b=void 0,ri(U)),D;D=yield Te(N.next()),S=D.done,!S;I=!0){A=D.value,I=!1;const J=A;if(yield yield Te(J),J.candidates&&(!((x=J.candidates[0])===null||x===void 0)&&x.content)){q.push(J.candidates[0].content);for(const j of(M=J.candidates[0].content.parts)!==null&&M!==void 0?M:[])if(c<a&&j.functionCall){if(!j.functionCall.name)throw new Error("Function call name was not returned by the model.");if(m.has(j.functionCall.name)){const W=yield Te(m.get(j.functionCall.name).callTool([j.functionCall]));O.push(...W)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${m.keys()}, mising tool: ${j.functionCall.name}`)}}}}catch(J){b={error:J}}finally{try{!I&&!S&&(T=N.return)&&(yield Te(T.call(N)))}finally{if(b)throw b.error}}if(O.length>0){u=!0;const J=new kl;J.candidates=[{content:{role:"user",parts:O}}],yield yield Te(J);const j=[];j.push(...q),j.push({role:"user",parts:O});const W=Hn(y.contents).concat(j);y.contents=W}else break}})})(this,h,e)}async generateContentInternal(e){var n,i,r,a;let u,c="",h={};if(this.apiClient.isVertexAI()){const d=iT(this.apiClient,e);return c=fe("{model}:generateContent",d._url),h=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json().then(y=>{const S=y;return S.sdkHttpResponse={headers:m.headers},S})),u.then(m=>{const y=rT(m),S=new kl;return Object.assign(S,y),S})}else{const d=nT(this.apiClient,e);return c=fe("{model}:generateContent",d._url),h=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json().then(y=>{const S=y;return S.sdkHttpResponse={headers:m.headers},S})),u.then(m=>{const y=oT(m),S=new kl;return Object.assign(S,y),S})}}async generateContentStreamInternal(e){var n,i,r,a;let u,c="",h={};if(this.apiClient.isVertexAI()){const d=iT(this.apiClient,e);return c=fe("{model}:streamGenerateContent?alt=sse",d._url),h=d._query,delete d._url,delete d._query,u=this.apiClient.requestStream({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}),u.then(function(y){return oi(this,arguments,function*(){var S,b,T,A;try{for(var x=!0,M=ri(y),I;I=yield Te(M.next()),S=I.done,!S;x=!0){A=I.value,x=!1;const N=A,D=rT(yield Te(N.json()));D.sdkHttpResponse={headers:N.headers};const L=new kl;Object.assign(L,D),yield yield Te(L)}}catch(N){b={error:N}}finally{try{!x&&!S&&(T=M.return)&&(yield Te(T.call(M)))}finally{if(b)throw b.error}}})})}else{const d=nT(this.apiClient,e);return c=fe("{model}:streamGenerateContent?alt=sse",d._url),h=d._query,delete d._url,delete d._query,u=this.apiClient.requestStream({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}),u.then(function(y){return oi(this,arguments,function*(){var S,b,T,A;try{for(var x=!0,M=ri(y),I;I=yield Te(M.next()),S=I.done,!S;x=!0){A=I.value,x=!1;const N=A,D=oT(yield Te(N.json()));D.sdkHttpResponse={headers:N.headers};const L=new kl;Object.assign(L,D),yield yield Te(L)}}catch(N){b={error:N}}finally{try{!x&&!S&&(T=M.return)&&(yield Te(T.call(M)))}finally{if(b)throw b.error}}})})}}async embedContent(e){var n,i,r,a;let u,c="",h={};if(this.apiClient.isVertexAI()){const d=FG(this.apiClient,e);return c=fe("{model}:predict",d._url),h=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json().then(y=>{const S=y;return S.sdkHttpResponse={headers:m.headers},S})),u.then(m=>{const y=HG(m),S=new FC;return Object.assign(S,y),S})}else{const d=BG(this.apiClient,e);return c=fe("{model}:batchEmbedContents",d._url),h=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json().then(y=>{const S=y;return S.sdkHttpResponse={headers:m.headers},S})),u.then(m=>{const y=$G(m),S=new FC;return Object.assign(S,y),S})}}async generateImagesInternal(e){var n,i,r,a;let u,c="",h={};if(this.apiClient.isVertexAI()){const d=QG(this.apiClient,e);return c=fe("{model}:predict",d._url),h=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json().then(y=>{const S=y;return S.sdkHttpResponse={headers:m.headers},S})),u.then(m=>{const y=eV(m),S=new $C;return Object.assign(S,y),S})}else{const d=WG(this.apiClient,e);return c=fe("{model}:predict",d._url),h=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json().then(y=>{const S=y;return S.sdkHttpResponse={headers:m.headers},S})),u.then(m=>{const y=ZG(m),S=new $C;return Object.assign(S,y),S})}}async editImageInternal(e){var n,i;let r,a="",u={};if(this.apiClient.isVertexAI()){const c=PG(this.apiClient,e);return a=fe("{model}:predict",c._url),u=c._query,delete c._url,delete c._query,r=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json().then(d=>{const m=d;return m.sdkHttpResponse={headers:h.headers},m})),r.then(h=>{const d=kG(h),m=new VF;return Object.assign(m,d),m})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,i;let r,a="",u={};if(this.apiClient.isVertexAI()){const c=QV(this.apiClient,e);return a=fe("{model}:predict",c._url),u=c._query,delete c._url,delete c._query,r=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json().then(d=>{const m=d;return m.sdkHttpResponse={headers:h.headers},m})),r.then(h=>{const d=ZV(h),m=new zF;return Object.assign(m,d),m})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var n,i;let r,a="",u={};if(this.apiClient.isVertexAI()){const c=OV(this.apiClient,e);return a=fe("{model}:predict",c._url),u=c._query,delete c._url,delete c._query,r=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),r.then(h=>{const d=PV(h),m=new qF;return Object.assign(m,d),m})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var n,i;let r,a="",u={};if(this.apiClient.isVertexAI()){const c=$V(this.apiClient,e);return a=fe("{model}:predict",c._url),u=c._query,delete c._url,delete c._query,r=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),r.then(h=>{const d=HV(h),m=new JF;return Object.assign(m,d),m})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,i,r,a;let u,c="",h={};if(this.apiClient.isVertexAI()){const d=vV(this.apiClient,e);return c=fe("{name}",d._url),h=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json()),u.then(m=>Sv(m))}else{const d=gV(this.apiClient,e);return c=fe("{name}",d._url),h=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json()),u.then(m=>_v(m))}}async listInternal(e){var n,i,r,a;let u,c="",h={};if(this.apiClient.isVertexAI()){const d=AV(this.apiClient,e);return c=fe("{models_url}",d._url),h=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json().then(y=>{const S=y;return S.sdkHttpResponse={headers:m.headers},S})),u.then(m=>{const y=RV(m),S=new HC;return Object.assign(S,y),S})}else{const d=TV(this.apiClient,e);return c=fe("{models_url}",d._url),h=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json().then(y=>{const S=y;return S.sdkHttpResponse={headers:m.headers},S})),u.then(m=>{const y=xV(m),S=new HC;return Object.assign(S,y),S})}}async update(e){var n,i,r,a;let u,c="",h={};if(this.apiClient.isVertexAI()){const d=XV(this.apiClient,e);return c=fe("{model}",d._url),h=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json()),u.then(m=>Sv(m))}else{const d=jV(this.apiClient,e);return c=fe("{name}",d._url),h=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json()),u.then(m=>_v(m))}}async delete(e){var n,i,r,a;let u,c="",h={};if(this.apiClient.isVertexAI()){const d=NG(this.apiClient,e);return c=fe("{name}",d._url),h=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json().then(y=>{const S=y;return S.sdkHttpResponse={headers:m.headers},S})),u.then(m=>{const y=DG(m),S=new GC;return Object.assign(S,y),S})}else{const d=MG(this.apiClient,e);return c=fe("{name}",d._url),h=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json().then(y=>{const S=y;return S.sdkHttpResponse={headers:m.headers},S})),u.then(m=>{const y=IG(m),S=new GC;return Object.assign(S,y),S})}}async countTokens(e){var n,i,r,a;let u,c="",h={};if(this.apiClient.isVertexAI()){const d=AG(this.apiClient,e);return c=fe("{model}:countTokens",d._url),h=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json().then(y=>{const S=y;return S.sdkHttpResponse={headers:m.headers},S})),u.then(m=>{const y=RG(m),S=new VC;return Object.assign(S,y),S})}else{const d=TG(this.apiClient,e);return c=fe("{model}:countTokens",d._url),h=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json().then(y=>{const S=y;return S.sdkHttpResponse={headers:m.headers},S})),u.then(m=>{const y=xG(m),S=new VC;return Object.assign(S,y),S})}}async computeTokens(e){var n,i;let r,a="",u={};if(this.apiClient.isVertexAI()){const c=yG(this.apiClient,e);return a=fe("{model}:computeTokens",c._url),u=c._query,delete c._url,delete c._query,r=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json().then(d=>{const m=d;return m.sdkHttpResponse={headers:h.headers},m})),r.then(h=>{const d=_G(h),m=new KF;return Object.assign(m,d),m})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var n,i,r,a;let u,c="",h={};if(this.apiClient.isVertexAI()){const d=sV(this.apiClient,e);return c=fe("{model}:predictLongRunning",d._url),h=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json()),u.then(m=>{const y=oV(m),S=new wd;return Object.assign(S,y),S})}else{const d=rV(this.apiClient,e);return c=fe("{model}:predictLongRunning",d._url),h=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json()),u.then(m=>{const y=iV(m),S=new wd;return Object.assign(S,y),S})}}};class Jz extends _o{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const n=e.operation,i=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=n.name.split("/operations/")[0];let a;i&&"httpOptions"in i&&(a=i.httpOptions);const u=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:r,config:{httpOptions:a}});return n._fromAPIResponse({apiResponse:u,_isVertexAI:!0})}else{const r=await this.getVideosOperationInternal({operationName:n.name,config:i});return n._fromAPIResponse({apiResponse:r,_isVertexAI:!1})}}async get(e){const n=e.operation,i=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=n.name.split("/operations/")[0];let a;i&&"httpOptions"in i&&(a=i.httpOptions);const u=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:r,config:{httpOptions:a}});return n._fromAPIResponse({apiResponse:u,_isVertexAI:!0})}else{const r=await this.getVideosOperationInternal({operationName:n.name,config:i});return n._fromAPIResponse({apiResponse:r,_isVertexAI:!1})}}async getVideosOperationInternal(e){var n,i,r,a;let u,c="",h={};if(this.apiClient.isVertexAI()){const d=UF(e);return c=fe("{operationName}",d._url),h=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json()),u}else{const d=LF(e);return c=fe("{operationName}",d._url),h=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json()),u}}async fetchPredictVideosOperationInternal(e){var n,i;let r,a="",u={};if(this.apiClient.isVertexAI()){const c=MF(e);return a=fe("{resourceName}:fetchPredictOperation",c._url),u=c._query,delete c._url,delete c._query,r=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),r}else throw new Error("This method is only supported by the Vertex AI.")}}function Kz(t){const e={},n=p(t,["data"]);if(n!=null&&g(e,["data"],n),p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=p(t,["mimeType"]);return i!=null&&g(e,["mimeType"],i),e}function Yz(t){const e={},n=p(t,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(a=>iq(a))),g(e,["parts"],r)}const i=p(t,["role"]);return i!=null&&g(e,["role"],i),e}function jz(t,e,n){const i={},r=p(e,["expireTime"]);n!==void 0&&r!=null&&g(n,["expireTime"],r);const a=p(e,["newSessionExpireTime"]);n!==void 0&&a!=null&&g(n,["newSessionExpireTime"],a);const u=p(e,["uses"]);n!==void 0&&u!=null&&g(n,["uses"],u);const c=p(e,["liveConnectConstraints"]);n!==void 0&&c!=null&&g(n,["bidiGenerateContentSetup"],nq(t,c));const h=p(e,["lockAdditionalFields"]);return n!==void 0&&h!=null&&g(n,["fieldMask"],h),i}function Xz(t,e){const n={},i=p(e,["config"]);return i!=null&&g(n,["config"],jz(t,i,n)),n}function Wz(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=p(t,["fileUri"]);n!=null&&g(e,["fileUri"],n);const i=p(t,["mimeType"]);return i!=null&&g(e,["mimeType"],i),e}function Qz(t){const e={},n=p(t,["id"]);n!=null&&g(e,["id"],n);const i=p(t,["args"]);i!=null&&g(e,["args"],i);const r=p(t,["name"]);if(r!=null&&g(e,["name"],r),p(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(p(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Zz(t){const e={};if(p(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=p(t,["enableWidget"]);return n!=null&&g(e,["enableWidget"],n),e}function eq(t){const e={};if(p(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(p(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=p(t,["timeRangeFilter"]);return n!=null&&g(e,["timeRangeFilter"],n),e}function tq(t,e){const n={},i=p(t,["generationConfig"]);e!==void 0&&i!=null&&g(e,["setup","generationConfig"],i);const r=p(t,["responseModalities"]);e!==void 0&&r!=null&&g(e,["setup","generationConfig","responseModalities"],r);const a=p(t,["temperature"]);e!==void 0&&a!=null&&g(e,["setup","generationConfig","temperature"],a);const u=p(t,["topP"]);e!==void 0&&u!=null&&g(e,["setup","generationConfig","topP"],u);const c=p(t,["topK"]);e!==void 0&&c!=null&&g(e,["setup","generationConfig","topK"],c);const h=p(t,["maxOutputTokens"]);e!==void 0&&h!=null&&g(e,["setup","generationConfig","maxOutputTokens"],h);const d=p(t,["mediaResolution"]);e!==void 0&&d!=null&&g(e,["setup","generationConfig","mediaResolution"],d);const m=p(t,["seed"]);e!==void 0&&m!=null&&g(e,["setup","generationConfig","seed"],m);const y=p(t,["speechConfig"]);e!==void 0&&y!=null&&g(e,["setup","generationConfig","speechConfig"],Fy(y));const S=p(t,["thinkingConfig"]);e!==void 0&&S!=null&&g(e,["setup","generationConfig","thinkingConfig"],S);const b=p(t,["enableAffectiveDialog"]);e!==void 0&&b!=null&&g(e,["setup","generationConfig","enableAffectiveDialog"],b);const T=p(t,["systemInstruction"]);e!==void 0&&T!=null&&g(e,["setup","systemInstruction"],Yz(Ut(T)));const A=p(t,["tools"]);if(e!==void 0&&A!=null){let U=Ma(A);Array.isArray(U)&&(U=U.map(O=>rq(Ra(O)))),g(e,["setup","tools"],U)}const x=p(t,["sessionResumption"]);e!==void 0&&x!=null&&g(e,["setup","sessionResumption"],oq(x));const M=p(t,["inputAudioTranscription"]);e!==void 0&&M!=null&&g(e,["setup","inputAudioTranscription"],M);const I=p(t,["outputAudioTranscription"]);e!==void 0&&I!=null&&g(e,["setup","outputAudioTranscription"],I);const N=p(t,["realtimeInputConfig"]);e!==void 0&&N!=null&&g(e,["setup","realtimeInputConfig"],N);const D=p(t,["contextWindowCompression"]);e!==void 0&&D!=null&&g(e,["setup","contextWindowCompression"],D);const L=p(t,["proactivity"]);if(e!==void 0&&L!=null&&g(e,["setup","proactivity"],L),p(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function nq(t,e){const n={},i=p(e,["model"]);i!=null&&g(n,["setup","model"],Ve(t,i));const r=p(e,["config"]);return r!=null&&g(n,["config"],tq(r,n)),n}function iq(t){const e={},n=p(t,["mediaResolution"]);n!=null&&g(e,["mediaResolution"],n);const i=p(t,["codeExecutionResult"]);i!=null&&g(e,["codeExecutionResult"],i);const r=p(t,["executableCode"]);r!=null&&g(e,["executableCode"],r);const a=p(t,["fileData"]);a!=null&&g(e,["fileData"],Wz(a));const u=p(t,["functionCall"]);u!=null&&g(e,["functionCall"],Qz(u));const c=p(t,["functionResponse"]);c!=null&&g(e,["functionResponse"],c);const h=p(t,["inlineData"]);h!=null&&g(e,["inlineData"],Kz(h));const d=p(t,["text"]);d!=null&&g(e,["text"],d);const m=p(t,["thought"]);m!=null&&g(e,["thought"],m);const y=p(t,["thoughtSignature"]);y!=null&&g(e,["thoughtSignature"],y);const S=p(t,["videoMetadata"]);return S!=null&&g(e,["videoMetadata"],S),e}function oq(t){const e={},n=p(t,["handle"]);if(n!=null&&g(e,["handle"],n),p(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function rq(t){const e={},n=p(t,["functionDeclarations"]);if(n!=null){let m=n;Array.isArray(m)&&(m=m.map(y=>y)),g(e,["functionDeclarations"],m)}if(p(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=p(t,["googleSearchRetrieval"]);i!=null&&g(e,["googleSearchRetrieval"],i);const r=p(t,["computerUse"]);r!=null&&g(e,["computerUse"],r);const a=p(t,["fileSearch"]);a!=null&&g(e,["fileSearch"],a);const u=p(t,["codeExecution"]);if(u!=null&&g(e,["codeExecution"],u),p(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const c=p(t,["googleMaps"]);c!=null&&g(e,["googleMaps"],Zz(c));const h=p(t,["googleSearch"]);h!=null&&g(e,["googleSearch"],eq(h));const d=p(t,["urlContext"]);return d!=null&&g(e,["urlContext"],d),e}function sq(t){const e=[];for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const i=t[n];if(typeof i=="object"&&i!=null&&Object.keys(i).length>0){const r=Object.keys(i).map(a=>`${n}.${a}`);e.push(...r)}else e.push(n)}return e.join(",")}function aq(t,e){let n=null;const i=t.bidiGenerateContentSetup;if(typeof i=="object"&&i!==null&&"setup"in i){const a=i.setup;typeof a=="object"&&a!==null?(t.bidiGenerateContentSetup=a,n=a):delete t.bidiGenerateContentSetup}else i!==void 0&&delete t.bidiGenerateContentSetup;const r=t.fieldMask;if(n){const a=sq(n);if(Array.isArray(e?.lockAdditionalFields)&&e?.lockAdditionalFields.length===0)a?t.fieldMask=a:delete t.fieldMask;else if(e?.lockAdditionalFields&&e.lockAdditionalFields.length>0&&r!==null&&Array.isArray(r)&&r.length>0){const u=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let c=[];r.length>0&&(c=r.map(d=>u.includes(d)?`generationConfig.${d}`:d));const h=[];a&&h.push(a),c.length>0&&h.push(...c),h.length>0?t.fieldMask=h.join(","):delete t.fieldMask}else delete t.fieldMask}else r!==null&&Array.isArray(r)&&r.length>0?t.fieldMask=r.join(","):delete t.fieldMask;return t}class lq extends _o{constructor(e){super(),this.apiClient=e}async create(e){var n,i;let r,a="",u={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const c=Xz(this.apiClient,e);a=fe("auth_tokens",c._url),u=c._query,delete c.config,delete c._url,delete c._query;const h=aq(c,e.config);return r=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),r.then(d=>d)}}}function uq(t,e){const n={},i=p(t,["force"]);return e!==void 0&&i!=null&&g(e,["_query","force"],i),n}function cq(t){const e={},n=p(t,["name"]);n!=null&&g(e,["_url","name"],n);const i=p(t,["config"]);return i!=null&&uq(i,e),e}function fq(t){const e={},n=p(t,["name"]);return n!=null&&g(e,["_url","name"],n),e}function dq(t,e){const n={},i=p(t,["pageSize"]);e!==void 0&&i!=null&&g(e,["_query","pageSize"],i);const r=p(t,["pageToken"]);return e!==void 0&&r!=null&&g(e,["_query","pageToken"],r),n}function hq(t){const e={},n=p(t,["parent"]);n!=null&&g(e,["_url","parent"],n);const i=p(t,["config"]);return i!=null&&dq(i,e),e}function pq(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const i=p(t,["nextPageToken"]);i!=null&&g(e,["nextPageToken"],i);const r=p(t,["documents"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(u=>u)),g(e,["documents"],a)}return e}class mq extends _o{constructor(e){super(),this.apiClient=e,this.list=async n=>new is(mo.PAGED_ITEM_DOCUMENTS,i=>this.listInternal({parent:n.parent,config:i.config}),await this.listInternal(n),n)}async get(e){var n,i;let r,a="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=fq(e);return a=fe("{name}",c._url),u=c._query,delete c._url,delete c._query,r=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),r.then(h=>h)}}async delete(e){var n,i;let r="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=cq(e);r=fe("{name}",u._url),a=u._query,delete u._url,delete u._query,await this.apiClient.request({path:r,queryParams:a,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal})}}async listInternal(e){var n,i;let r,a="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=hq(e);return a=fe("{parent}/documents",c._url),u=c._query,delete c._url,delete c._query,r=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),r.then(h=>{const d=pq(h),m=new YF;return Object.assign(m,d),m})}}}class gq extends _o{constructor(e,n=new mq(e)){super(),this.apiClient=e,this.documents=n,this.list=async(i={})=>new is(mo.PAGED_ITEM_FILE_SEARCH_STORES,r=>this.listInternal(r),await this.listInternal(i),i)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var n,i;let r,a="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=sz(e);return a=fe("fileSearchStores",c._url),u=c._query,delete c._url,delete c._query,r=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),r.then(h=>h)}}async get(e){var n,i;let r,a="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=uz(e);return a=fe("{name}",c._url),u=c._query,delete c._url,delete c._query,r=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),r.then(h=>h)}}async delete(e){var n,i;let r="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=lz(e);r=fe("{name}",u._url),a=u._query,delete u._url,delete u._query,await this.apiClient.request({path:r,queryParams:a,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal})}}async listInternal(e){var n,i;let r,a="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=mz(e);return a=fe("fileSearchStores",c._url),u=c._query,delete c._url,delete c._query,r=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),r.then(h=>{const d=gz(h),m=new jF;return Object.assign(m,d),m})}}async uploadToFileSearchStoreInternal(e){var n,i;let r,a="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=vz(e);return a=fe("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",c._url),u=c._query,delete c._url,delete c._query,r=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),r.then(h=>{const d=yz(h),m=new XF;return Object.assign(m,d),m})}}async importFile(e){var n,i;let r,a="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=dz(e);return a=fe("{file_search_store_name}:importFile",c._url),u=c._query,delete c._url,delete c._query,r=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),r.then(h=>{const d=fz(h),m=new Py;return Object.assign(m,d),m})}}}let RM=function(){const{crypto:t}=globalThis;if(t?.randomUUID)return RM=t.randomUUID.bind(t),t.randomUUID();const e=new Uint8Array(1),n=t?()=>t.getRandomValues(e)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,i=>(+i^n()&15>>+i/4).toString(16))};const vq=()=>RM();function Ev(t){return typeof t=="object"&&t!==null&&("name"in t&&t.name==="AbortError"||"message"in t&&String(t.message).includes("FetchRequestCanceledException"))}const wv=t=>{if(t instanceof Error)return t;if(typeof t=="object"&&t!==null){try{if(Object.prototype.toString.call(t)==="[object Error]"){const e=new Error(t.message,t.cause?{cause:t.cause}:{});return t.stack&&(e.stack=t.stack),t.cause&&!e.cause&&(e.cause=t.cause),t.name&&(e.name=t.name),e}}catch{}try{return new Error(JSON.stringify(t))}catch{}}return new Error(t)};class Jn extends Error{}let Kn=class Cv extends Jn{constructor(e,n,i,r){super(`${Cv.makeMessage(e,n,i)}`),this.status=e,this.headers=r,this.error=n}static makeMessage(e,n,i){const r=n?.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):i;return e&&r?`${e} ${r}`:e?`${e} status code (no body)`:r||"(no status code or body)"}static generate(e,n,i,r){if(!e||!r)return new fh({message:i,cause:wv(n)});const a=n;return e===400?new NM(e,a,i,r):e===401?new IM(e,a,i,r):e===403?new DM(e,a,i,r):e===404?new OM(e,a,i,r):e===409?new PM(e,a,i,r):e===422?new kM(e,a,i,r):e===429?new LM(e,a,i,r):e>=500?new UM(e,a,i,r):new Cv(e,a,i,r)}},Tv=class extends Kn{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}},fh=class extends Kn{constructor({message:e,cause:n}){super(void 0,void 0,e||"Connection error.",void 0),n&&(this.cause=n)}},MM=class extends fh{constructor({message:e}={}){super({message:e??"Request timed out."})}},NM=class extends Kn{},IM=class extends Kn{},DM=class extends Kn{},OM=class extends Kn{},PM=class extends Kn{},kM=class extends Kn{},LM=class extends Kn{},UM=class extends Kn{};const yq=/^[a-z][a-z0-9+.-]*:/i,_q=t=>yq.test(t);let Av=t=>(Av=Array.isArray,Av(t));const Sq=Av;let bq=Sq;const fT=bq;function Eq(t){if(!t)return!0;for(const e in t)return!1;return!0}function wq(t,e){return Object.prototype.hasOwnProperty.call(t,e)}const Cq=(t,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new Jn(`${t} must be an integer`);if(e<0)throw new Jn(`${t} must be a positive integer`);return e},Tq=t=>{try{return JSON.parse(t)}catch{return}};const Aq=t=>new Promise(e=>setTimeout(e,t));const ea="0.0.1";function xq(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const Rq=()=>{var t,e,n,i,r;const a=xq();if(a==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ea,"X-Stainless-OS":hT(Deno.build.os),"X-Stainless-Arch":dT(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(e=(t=Deno.version)===null||t===void 0?void 0:t.deno)!==null&&e!==void 0?e:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ea,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(a==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ea,"X-Stainless-OS":hT((n=globalThis.process.platform)!==null&&n!==void 0?n:"unknown"),"X-Stainless-Arch":dT((i=globalThis.process.arch)!==null&&i!==void 0?i:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(r=globalThis.process.version)!==null&&r!==void 0?r:"unknown"};const u=Mq();return u?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ea,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${u.browser}`,"X-Stainless-Runtime-Version":u.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ea,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function Mq(){if(typeof navigator>"u"||!navigator)return null;const t=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:n}of t){const i=n.exec(navigator.userAgent);if(i){const r=i[1]||0,a=i[2]||0,u=i[3]||0;return{browser:e,version:`${r}.${a}.${u}`}}}return null}const dT=t=>t==="x32"?"x32":t==="x86_64"||t==="x64"?"x64":t==="arm"?"arm":t==="aarch64"||t==="arm64"?"arm64":t?`other:${t}`:"unknown",hT=t=>(t=t.toLowerCase(),t.includes("ios")?"iOS":t==="android"?"Android":t==="darwin"?"MacOS":t==="win32"?"Windows":t==="freebsd"?"FreeBSD":t==="openbsd"?"OpenBSD":t==="linux"?"Linux":t?`Other:${t}`:"Unknown");let Cf;const Nq=()=>Cf??(Cf=Rq());function Iq(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function BM(...t){const e=globalThis.ReadableStream;if(typeof e>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new e(...t)}function Dq(t){let e=Symbol.asyncIterator in t?t[Symbol.asyncIterator]():t[Symbol.iterator]();return BM({start(){},async pull(n){const{done:i,value:r}=await e.next();i?n.close():n.enqueue(r)},async cancel(){var n;await((n=e.return)===null||n===void 0?void 0:n.call(e))}})}function FM(t){if(t[Symbol.asyncIterator])return t;const e=t.getReader();return{async next(){try{const n=await e.read();return n?.done&&e.releaseLock(),n}catch(n){throw e.releaseLock(),n}},async return(){const n=e.cancel();return e.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function Oq(t){var e,n;if(t===null||typeof t!="object")return;if(t[Symbol.asyncIterator]){await((n=(e=t[Symbol.asyncIterator]()).return)===null||n===void 0?void 0:n.call(e));return}const i=t.getReader(),r=i.cancel();i.releaseLock(),await r}const Pq=({headers:t,body:e})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(e)});const $M=()=>{var t;if(typeof File>"u"){const{process:e}=globalThis,n=typeof((t=e?.versions)===null||t===void 0?void 0:t.node)=="string"&&parseInt(e.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(n?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function _g(t,e,n){return $M(),new File(t,e??"unknown_file",n)}function kq(t){return(typeof t=="object"&&t!==null&&("name"in t&&t.name&&String(t.name)||"url"in t&&t.url&&String(t.url)||"filename"in t&&t.filename&&String(t.filename)||"path"in t&&t.path&&String(t.path))||"").split(/[\\/]/).pop()||void 0}const Lq=t=>t!=null&&typeof t=="object"&&typeof t[Symbol.asyncIterator]=="function";const HM=t=>t!=null&&typeof t=="object"&&typeof t.size=="number"&&typeof t.type=="string"&&typeof t.text=="function"&&typeof t.slice=="function"&&typeof t.arrayBuffer=="function",Uq=t=>t!=null&&typeof t=="object"&&typeof t.name=="string"&&typeof t.lastModified=="number"&&HM(t),Bq=t=>t!=null&&typeof t=="object"&&typeof t.url=="string"&&typeof t.blob=="function";async function Fq(t,e,n){if($M(),t=await t,Uq(t))return t instanceof File?t:_g([await t.arrayBuffer()],t.name);if(Bq(t)){const r=await t.blob();return e||(e=new URL(t.url).pathname.split(/[\\/]/).pop()),_g(await xv(r),e,n)}const i=await xv(t);if(e||(e=kq(t)),!n?.type){const r=i.find(a=>typeof a=="object"&&"type"in a&&a.type);typeof r=="string"&&(n=Object.assign(Object.assign({},n),{type:r}))}return _g(i,e,n)}async function xv(t){var e,n,i,r,a;let u=[];if(typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer)u.push(t);else if(HM(t))u.push(t instanceof Blob?t:await t.arrayBuffer());else if(Lq(t))try{for(var c=!0,h=ri(t),d;d=await h.next(),e=d.done,!e;c=!0){r=d.value,c=!1;const m=r;u.push(...await xv(m))}}catch(m){n={error:m}}finally{try{!c&&!e&&(i=h.return)&&await i.call(h)}finally{if(n)throw n.error}}else{const m=(a=t?.constructor)===null||a===void 0?void 0:a.name;throw new Error(`Unexpected data type: ${typeof t}${m?`; constructor: ${m}`:""}${$q(t)}`)}return u}function $q(t){return typeof t!="object"||t===null?"":`; props: [${Object.getOwnPropertyNames(t).map(n=>`"${n}"`).join(", ")}]`}let GM=class{constructor(e){this._client=e}};GM._key=[];function VM(t){return t.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const pT=Object.freeze(Object.create(null)),Hq=(t=VM)=>(function(n,...i){if(n.length===1)return n[0];let r=!1;const a=[],u=n.reduce((m,y,S)=>{var b,T,A;/[?#]/.test(y)&&(r=!0);const x=i[S];let M=(r?encodeURIComponent:t)(""+x);return S!==i.length&&(x==null||typeof x=="object"&&x.toString===((A=Object.getPrototypeOf((T=Object.getPrototypeOf((b=x.hasOwnProperty)!==null&&b!==void 0?b:pT))!==null&&T!==void 0?T:pT))===null||A===void 0?void 0:A.toString))&&(M=x+"",a.push({start:m.length+y.length,length:M.length,error:`Value of type ${Object.prototype.toString.call(x).slice(8,-1)} is not a valid path parameter`})),m+y+(S===i.length?"":M)},""),c=u.split(/[?#]/,1)[0],h=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let d;for(;(d=h.exec(c))!==null;)a.push({start:d.index,length:d[0].length,error:`Value "${d[0]}" can't be safely passed as a path parameter`});if(a.sort((m,y)=>m.start-y.start),a.length>0){let m=0;const y=a.reduce((S,b)=>{const T=" ".repeat(b.start-m),A="^".repeat(b.length);return m=b.start+b.length,S+T+A},"");throw new Jn(`Path parameters result in path with invalid segments:
${a.map(S=>S.error).join(`
`)}
${u}
${y}`)}return u}),Tf=Hq(VM);class zM extends GM{create(e,n){var i;const{api_version:r=this._client.apiVersion}=e,a=Td(e,["api_version"]);if("model"in a&&"agent_config"in a)throw new Jn("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in a&&"generation_config"in a)throw new Jn("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(Tf`/${r}/interactions`,Object.assign(Object.assign({body:a},n),{stream:(i=e.stream)!==null&&i!==void 0?i:!1}))}delete(e,n={},i){const{api_version:r=this._client.apiVersion}=n??{};return this._client.delete(Tf`/${r}/interactions/${e}`,i)}cancel(e,n={},i){const{api_version:r=this._client.apiVersion}=n??{};return this._client.post(Tf`/${r}/interactions/${e}/cancel`,i)}get(e,n={},i){var r;const a=n??{},{api_version:u=this._client.apiVersion}=a,c=Td(a,["api_version"]);return this._client.get(Tf`/${u}/interactions/${e}`,Object.assign(Object.assign({query:c},i),{stream:(r=n?.stream)!==null&&r!==void 0?r:!1}))}}zM._key=Object.freeze(["interactions"]);class qM extends zM{}function Gq(t){let e=0;for(const r of t)e+=r.length;const n=new Uint8Array(e);let i=0;for(const r of t)n.set(r,i),i+=r.length;return n}let Af;function Hy(t){let e;return(Af??(e=new globalThis.TextEncoder,Af=e.encode.bind(e)))(t)}let xf;function mT(t){let e;return(xf??(e=new globalThis.TextDecoder,xf=e.decode.bind(e)))(t)}let dh=class{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(e){if(e==null)return[];const n=e instanceof ArrayBuffer?new Uint8Array(e):typeof e=="string"?Hy(e):e;this.buffer=Gq([this.buffer,n]);const i=[];let r;for(;(r=Vq(this.buffer,this.carriageReturnIndex))!=null;){if(r.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=r.index;continue}if(this.carriageReturnIndex!=null&&(r.index!==this.carriageReturnIndex+1||r.carriage)){i.push(mT(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const a=this.carriageReturnIndex!==null?r.preceding-1:r.preceding,u=mT(this.buffer.subarray(0,a));i.push(u),this.buffer=this.buffer.subarray(r.index),this.carriageReturnIndex=null}return i}flush(){return this.buffer.length?this.decode(`
`):[]}};dh.NEWLINE_CHARS=new Set([`
`,"\r"]);dh.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function Vq(t,e){for(let r=e??0;r<t.length;r++){if(t[r]===10)return{preceding:r,index:r+1,carriage:!1};if(t[r]===13)return{preceding:r,index:r+1,carriage:!0}}return null}function zq(t){for(let i=0;i<t.length-1;i++){if(t[i]===10&&t[i+1]===10||t[i]===13&&t[i+1]===13)return i+2;if(t[i]===13&&t[i+1]===10&&i+3<t.length&&t[i+2]===13&&t[i+3]===10)return i+4}return-1}const Ad={off:0,error:200,warn:300,info:400,debug:500},gT=(t,e,n)=>{if(t){if(wq(Ad,t))return t;Ht(n).warn(`${e} was set to ${JSON.stringify(t)}, expected one of ${JSON.stringify(Object.keys(Ad))}`)}};function Bl(){}function Rf(t,e,n){return!e||Ad[t]>Ad[n]?Bl:e[t].bind(e)}const qq={error:Bl,warn:Bl,info:Bl,debug:Bl};let vT=new WeakMap;function Ht(t){var e;const n=t.logger,i=(e=t.logLevel)!==null&&e!==void 0?e:"off";if(!n)return qq;const r=vT.get(n);if(r&&r[0]===i)return r[1];const a={error:Rf("error",n,i),warn:Rf("warn",n,i),info:Rf("info",n,i),debug:Rf("debug",n,i)};return vT.set(n,[i,a]),a}const kr=t=>(t.options&&(t.options=Object.assign({},t.options),delete t.options.headers),t.headers&&(t.headers=Object.fromEntries((t.headers instanceof Headers?[...t.headers]:Object.entries(t.headers)).map(([e,n])=>[e,e.toLowerCase()==="x-goog-api-key"||e.toLowerCase()==="authorization"||e.toLowerCase()==="cookie"||e.toLowerCase()==="set-cookie"?"***":n]))),"retryOfRequestLogID"in t&&(t.retryOfRequestLogID&&(t.retryOf=t.retryOfRequestLogID),delete t.retryOfRequestLogID),t);let Jq=class Fl{constructor(e,n,i){this.iterator=e,this.controller=n,this.client=i}static fromSSEResponse(e,n,i){let r=!1;const a=i?Ht(i):console;function u(){return oi(this,arguments,function*(){var h,d,m,y;if(r)throw new Jn("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let S=!1;try{try{for(var b=!0,T=ri(Kq(e,n)),A;A=yield Te(T.next()),h=A.done,!h;b=!0){y=A.value,b=!1;const x=y;if(!S)if(x.data.startsWith("[DONE]")){S=!0;continue}else try{yield yield Te(JSON.parse(x.data))}catch(M){throw a.error("Could not parse message into JSON:",x.data),a.error("From chunk:",x.raw),M}}}catch(x){d={error:x}}finally{try{!b&&!h&&(m=T.return)&&(yield Te(m.call(T)))}finally{if(d)throw d.error}}S=!0}catch(x){if(Ev(x))return yield Te(void 0);throw x}finally{S||n.abort()}})}return new Fl(u,n,i)}static fromReadableStream(e,n,i){let r=!1;function a(){return oi(this,arguments,function*(){var h,d,m,y;const S=new dh,b=FM(e);try{for(var T=!0,A=ri(b),x;x=yield Te(A.next()),h=x.done,!h;T=!0){y=x.value,T=!1;const M=y;for(const I of S.decode(M))yield yield Te(I)}}catch(M){d={error:M}}finally{try{!T&&!h&&(m=A.return)&&(yield Te(m.call(A)))}finally{if(d)throw d.error}}for(const M of S.flush())yield yield Te(M)})}function u(){return oi(this,arguments,function*(){var h,d,m,y;if(r)throw new Jn("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let S=!1;try{try{for(var b=!0,T=ri(a()),A;A=yield Te(T.next()),h=A.done,!h;b=!0){y=A.value,b=!1;const x=y;S||x&&(yield yield Te(JSON.parse(x)))}}catch(x){d={error:x}}finally{try{!b&&!h&&(m=T.return)&&(yield Te(m.call(T)))}finally{if(d)throw d.error}}S=!0}catch(x){if(Ev(x))return yield Te(void 0);throw x}finally{S||n.abort()}})}return new Fl(u,n,i)}[Symbol.asyncIterator](){return this.iterator()}tee(){const e=[],n=[],i=this.iterator(),r=a=>({next:()=>{if(a.length===0){const u=i.next();e.push(u),n.push(u)}return a.shift()}});return[new Fl(()=>r(e),this.controller,this.client),new Fl(()=>r(n),this.controller,this.client)]}toReadableStream(){const e=this;let n;return BM({async start(){n=e[Symbol.asyncIterator]()},async pull(i){try{const{value:r,done:a}=await n.next();if(a)return i.close();const u=Hy(JSON.stringify(r)+`
`);i.enqueue(u)}catch(r){i.error(r)}},async cancel(){var i;await((i=n.return)===null||i===void 0?void 0:i.call(n))}})}};function Kq(t,e){return oi(this,arguments,function*(){var i,r,a,u;if(!t.body)throw e.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new Jn("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new Jn("Attempted to iterate over a response with no body");const c=new jq,h=new dh,d=FM(t.body);try{for(var m=!0,y=ri(Yq(d)),S;S=yield Te(y.next()),i=S.done,!i;m=!0){u=S.value,m=!1;const b=u;for(const T of h.decode(b)){const A=c.decode(T);A&&(yield yield Te(A))}}}catch(b){r={error:b}}finally{try{!m&&!i&&(a=y.return)&&(yield Te(a.call(y)))}finally{if(r)throw r.error}}for(const b of h.flush()){const T=c.decode(b);T&&(yield yield Te(T))}})}function Yq(t){return oi(this,arguments,function*(){var n,i,r,a;let u=new Uint8Array;try{for(var c=!0,h=ri(t),d;d=yield Te(h.next()),n=d.done,!n;c=!0){a=d.value,c=!1;const m=a;if(m==null)continue;const y=m instanceof ArrayBuffer?new Uint8Array(m):typeof m=="string"?Hy(m):m;let S=new Uint8Array(u.length+y.length);S.set(u),S.set(y,u.length),u=S;let b;for(;(b=zq(u))!==-1;)yield yield Te(u.slice(0,b)),u=u.slice(b)}}catch(m){i={error:m}}finally{try{!c&&!n&&(r=h.return)&&(yield Te(r.call(h)))}finally{if(i)throw i.error}}u.length>0&&(yield yield Te(u))})}let jq=class{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const a={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],a}if(this.chunks.push(e),e.startsWith(":"))return null;let[n,i,r]=Xq(e,":");return r.startsWith(" ")&&(r=r.substring(1)),n==="event"?this.event=r:n==="data"&&this.data.push(r),null}};function Xq(t,e){const n=t.indexOf(e);return n!==-1?[t.substring(0,n),e,t.substring(n+e.length)]:[t,"",""]}async function Wq(t,e){const{response:n,requestLogID:i,retryOfRequestLogID:r,startTime:a}=e,u=await(async()=>{var c;if(e.options.stream)return Ht(t).debug("response",n.status,n.url,n.headers,n.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(n,e.controller,t):Jq.fromSSEResponse(n,e.controller,t);if(n.status===204)return null;if(e.options.__binaryResponse)return n;const h=n.headers.get("content-type"),d=(c=h?.split(";")[0])===null||c===void 0?void 0:c.trim();return d?.includes("application/json")||d?.endsWith("+json")?await n.json():await n.text()})();return Ht(t).debug(`[${i}] response parsed`,kr({retryOfRequestLogID:r,url:n.url,status:n.status,body:u,durationMs:Date.now()-a})),u}let Qq=class JM extends Promise{constructor(e,n,i=Wq){super(r=>{r(null)}),this.responsePromise=n,this.parseResponse=i,this.client=e}_thenUnwrap(e){return new JM(this.client,this.responsePromise,async(n,i)=>e(await this.parseResponse(n,i),i))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:n}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(e=>this.parseResponse(this.client,e))),this.parsedPromise}then(e,n){return this.parse().then(e,n)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}};const KM=Symbol("brand.privateNullableHeaders");function*Zq(t){if(!t)return;if(KM in t){const{values:i,nulls:r}=t;yield*i.entries();for(const a of r)yield[a,null];return}let e=!1,n;t instanceof Headers?n=t.entries():fT(t)?n=t:(e=!0,n=Object.entries(t??{}));for(let i of n){const r=i[0];if(typeof r!="string")throw new TypeError("expected header name to be a string");const a=fT(i[1])?i[1]:[i[1]];let u=!1;for(const c of a)c!==void 0&&(e&&!u&&(u=!0,yield[r,null]),yield[r,c])}}const Sg=t=>{const e=new Headers,n=new Set;for(const i of t){const r=new Set;for(const[a,u]of Zq(i)){const c=a.toLowerCase();r.has(c)||(e.delete(a),r.add(c)),u===null?(e.delete(a),n.add(c)):(e.append(a,u),n.delete(c))}}return{[KM]:!0,values:e,nulls:n}};const bg=t=>{var e,n,i,r,a,u;if(typeof globalThis.process<"u")return(i=(n=(e=wF)===null||e===void 0?void 0:e[t])===null||n===void 0?void 0:n.trim())!==null&&i!==void 0?i:void 0;if(typeof globalThis.Deno<"u")return(u=(a=(r=globalThis.Deno.env)===null||r===void 0?void 0:r.get)===null||a===void 0?void 0:a.call(r,t))===null||u===void 0?void 0:u.trim()};var YM;class hh{constructor(e){var n,i,r,a,u,c,h,d=e===void 0?{}:e,{baseURL:m=bg("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:y=(n=bg("GEMINI_API_KEY"))!==null&&n!==void 0?n:null,apiVersion:S="v1beta"}=d,b=Td(d,["baseURL","apiKey","apiVersion"]);const T=Object.assign(Object.assign({apiKey:y,apiVersion:S},b),{baseURL:m||"https://generativelanguage.googleapis.com"});this.baseURL=T.baseURL,this.timeout=(i=T.timeout)!==null&&i!==void 0?i:hh.DEFAULT_TIMEOUT,this.logger=(r=T.logger)!==null&&r!==void 0?r:console;const A="warn";this.logLevel=A,this.logLevel=(u=(a=gT(T.logLevel,"ClientOptions.logLevel",this))!==null&&a!==void 0?a:gT(bg("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&u!==void 0?u:A,this.fetchOptions=T.fetchOptions,this.maxRetries=(c=T.maxRetries)!==null&&c!==void 0?c:2,this.fetch=(h=T.fetch)!==null&&h!==void 0?h:Iq(),this.encoder=Pq,this._options=T,this.apiKey=y,this.apiVersion=S}withOptions(e){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),e))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:e,nulls:n}){if(!(this.apiKey&&e.get("x-goog-api-key"))&&!n.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(e){if(this.apiKey!=null)return Sg([{"x-goog-api-key":this.apiKey}])}stringifyQuery(e){return Object.entries(e).filter(([n,i])=>typeof i<"u").map(([n,i])=>{if(typeof i=="string"||typeof i=="number"||typeof i=="boolean")return`${encodeURIComponent(n)}=${encodeURIComponent(i)}`;if(i===null)return`${encodeURIComponent(n)}=`;throw new Jn(`Cannot stringify type ${typeof i}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${ea}`}defaultIdempotencyKey(){return`stainless-node-retry-${vq()}`}makeStatusError(e,n,i,r){return Kn.generate(e,n,i,r)}buildURL(e,n,i){const r=!this.baseURLOverridden()&&i||this.baseURL,a=_q(e)?new URL(e):new URL(r+(r.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),u=this.defaultQuery();return Eq(u)||(n=Object.assign(Object.assign({},u),n)),typeof n=="object"&&n&&!Array.isArray(n)&&(a.search=this.stringifyQuery(n)),a.toString()}async prepareOptions(e){}async prepareRequest(e,{url:n,options:i}){}get(e,n){return this.methodRequest("get",e,n)}post(e,n){return this.methodRequest("post",e,n)}patch(e,n){return this.methodRequest("patch",e,n)}put(e,n){return this.methodRequest("put",e,n)}delete(e,n){return this.methodRequest("delete",e,n)}methodRequest(e,n,i){return this.request(Promise.resolve(i).then(r=>Object.assign({method:e,path:n},r)))}request(e,n=null){return new Qq(this,this.makeRequest(e,n,void 0))}async makeRequest(e,n,i){var r,a,u;const c=await e,h=(r=c.maxRetries)!==null&&r!==void 0?r:this.maxRetries;n==null&&(n=h),await this.prepareOptions(c);const{req:d,url:m,timeout:y}=await this.buildRequest(c,{retryCount:h-n});await this.prepareRequest(d,{url:m,options:c});const S="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),b=i===void 0?"":`, retryOf: ${i}`,T=Date.now();if(Ht(this).debug(`[${S}] sending request`,kr({retryOfRequestLogID:i,method:c.method,url:m,options:c,headers:d.headers})),!((a=c.signal)===null||a===void 0)&&a.aborted)throw new Tv;const A=new AbortController,x=await this.fetchWithTimeout(m,d,y,A).catch(wv),M=Date.now();if(x instanceof globalThis.Error){const N=`retrying, ${n} attempts remaining`;if(!((u=c.signal)===null||u===void 0)&&u.aborted)throw new Tv;const D=Ev(x)||/timed? ?out/i.test(String(x)+("cause"in x?String(x.cause):""));if(n)return Ht(this).info(`[${S}] connection ${D?"timed out":"failed"} - ${N}`),Ht(this).debug(`[${S}] connection ${D?"timed out":"failed"} (${N})`,kr({retryOfRequestLogID:i,url:m,durationMs:M-T,message:x.message})),this.retryRequest(c,n,i??S);throw Ht(this).info(`[${S}] connection ${D?"timed out":"failed"} - error; no more retries left`),Ht(this).debug(`[${S}] connection ${D?"timed out":"failed"} (error; no more retries left)`,kr({retryOfRequestLogID:i,url:m,durationMs:M-T,message:x.message})),D?new MM:new fh({cause:x})}const I=`[${S}${b}] ${d.method} ${m} ${x.ok?"succeeded":"failed"} with status ${x.status} in ${M-T}ms`;if(!x.ok){const N=await this.shouldRetry(x);if(n&&N){const J=`retrying, ${n} attempts remaining`;return await Oq(x.body),Ht(this).info(`${I} - ${J}`),Ht(this).debug(`[${S}] response error (${J})`,kr({retryOfRequestLogID:i,url:x.url,status:x.status,headers:x.headers,durationMs:M-T})),this.retryRequest(c,n,i??S,x.headers)}const D=N?"error; no more retries left":"error; not retryable";Ht(this).info(`${I} - ${D}`);const L=await x.text().catch(J=>wv(J).message),U=Tq(L),O=U?void 0:L;throw Ht(this).debug(`[${S}] response error (${D})`,kr({retryOfRequestLogID:i,url:x.url,status:x.status,headers:x.headers,message:O,durationMs:Date.now()-T})),this.makeStatusError(x.status,U,O,x.headers)}return Ht(this).info(I),Ht(this).debug(`[${S}] response start`,kr({retryOfRequestLogID:i,url:x.url,status:x.status,headers:x.headers,durationMs:M-T})),{response:x,options:c,controller:A,requestLogID:S,retryOfRequestLogID:i,startTime:T}}async fetchWithTimeout(e,n,i,r){const a=n||{},{signal:u,method:c}=a,h=Td(a,["signal","method"]);u&&u.addEventListener("abort",()=>r.abort());const d=setTimeout(()=>r.abort(),i),m=globalThis.ReadableStream&&h.body instanceof globalThis.ReadableStream||typeof h.body=="object"&&h.body!==null&&Symbol.asyncIterator in h.body,y=Object.assign(Object.assign(Object.assign({signal:r.signal},m?{duplex:"half"}:{}),{method:"GET"}),h);c&&(y.method=c.toUpperCase());try{return await this.fetch.call(void 0,e,y)}finally{clearTimeout(d)}}async shouldRetry(e){const n=e.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,n,i,r){var a;let u;const c=r?.get("retry-after-ms");if(c){const d=parseFloat(c);Number.isNaN(d)||(u=d)}const h=r?.get("retry-after");if(h&&!u){const d=parseFloat(h);Number.isNaN(d)?u=Date.parse(h)-Date.now():u=d*1e3}if(!(u&&0<=u&&u<60*1e3)){const d=(a=e.maxRetries)!==null&&a!==void 0?a:this.maxRetries;u=this.calculateDefaultRetryTimeoutMillis(n,d)}return await Aq(u),this.makeRequest(e,n-1,i)}calculateDefaultRetryTimeoutMillis(e,n){const a=n-e,u=Math.min(.5*Math.pow(2,a),8),c=1-Math.random()*.25;return u*c*1e3}async buildRequest(e,{retryCount:n=0}={}){var i,r,a;const u=Object.assign({},e),{method:c,path:h,query:d,defaultBaseURL:m}=u,y=this.buildURL(h,d,m);"timeout"in u&&Cq("timeout",u.timeout),u.timeout=(i=u.timeout)!==null&&i!==void 0?i:this.timeout;const{bodyHeaders:S,body:b}=this.buildBody({options:u}),T=await this.buildHeaders({options:e,method:c,bodyHeaders:S,retryCount:n});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:c,headers:T},u.signal&&{signal:u.signal}),globalThis.ReadableStream&&b instanceof globalThis.ReadableStream&&{duplex:"half"}),b&&{body:b}),(r=this.fetchOptions)!==null&&r!==void 0?r:{}),(a=u.fetchOptions)!==null&&a!==void 0?a:{}),url:y,timeout:u.timeout}}async buildHeaders({options:e,method:n,bodyHeaders:i,retryCount:r}){let a={};this.idempotencyHeader&&n!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),a[this.idempotencyHeader]=e.idempotencyKey);const u=Sg([a,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(r)},e.timeout?{"X-Stainless-Timeout":String(Math.trunc(e.timeout/1e3))}:{}),Nq()),await this.authHeaders(e),this._options.defaultHeaders,i,e.headers]);return this.validateHeaders(u),u.values}buildBody({options:{body:e,headers:n}}){if(!e)return{bodyHeaders:void 0,body:void 0};const i=Sg([n]);return ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof DataView||typeof e=="string"&&i.values.has("content-type")||globalThis.Blob&&e instanceof globalThis.Blob||e instanceof FormData||e instanceof URLSearchParams||globalThis.ReadableStream&&e instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:e}:typeof e=="object"&&(Symbol.asyncIterator in e||Symbol.iterator in e&&"next"in e&&typeof e.next=="function")?{bodyHeaders:void 0,body:Dq(e)}:this.encoder({body:e,headers:i})}}hh.DEFAULT_TIMEOUT=6e4;class Tt extends hh{constructor(){super(...arguments),this.interactions=new qM(this)}}YM=Tt;Tt.GeminiNextGenAPIClient=YM;Tt.GeminiNextGenAPIClientError=Jn;Tt.APIError=Kn;Tt.APIConnectionError=fh;Tt.APIConnectionTimeoutError=MM;Tt.APIUserAbortError=Tv;Tt.NotFoundError=OM;Tt.ConflictError=PM;Tt.RateLimitError=LM;Tt.BadRequestError=NM;Tt.AuthenticationError=IM;Tt.InternalServerError=UM;Tt.PermissionDeniedError=DM;Tt.UnprocessableEntityError=kM;Tt.toFile=Fq;Tt.Interactions=qM;function e3(t,e){const n={},i=p(t,["name"]);return i!=null&&g(n,["_url","name"],i),n}function t3(t,e){const n={},i=p(t,["name"]);return i!=null&&g(n,["_url","name"],i),n}function n3(t,e){const n={},i=p(t,["sdkHttpResponse"]);return i!=null&&g(n,["sdkHttpResponse"],i),n}function i3(t,e){const n={},i=p(t,["sdkHttpResponse"]);return i!=null&&g(n,["sdkHttpResponse"],i),n}function o3(t,e,n){const i={};if(p(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const r=p(t,["tunedModelDisplayName"]);if(e!==void 0&&r!=null&&g(e,["displayName"],r),p(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const a=p(t,["epochCount"]);e!==void 0&&a!=null&&g(e,["tuningTask","hyperparameters","epochCount"],a);const u=p(t,["learningRateMultiplier"]);if(u!=null&&g(i,["tuningTask","hyperparameters","learningRateMultiplier"],u),p(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(p(t,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(p(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const c=p(t,["batchSize"]);e!==void 0&&c!=null&&g(e,["tuningTask","hyperparameters","batchSize"],c);const h=p(t,["learningRate"]);if(e!==void 0&&h!=null&&g(e,["tuningTask","hyperparameters","learningRate"],h),p(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(p(t,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return i}function r3(t,e,n){const i={};let r=p(n,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){const b=p(t,["validationDataset"]);e!==void 0&&b!=null&&g(e,["supervisedTuningSpec"],yT(b))}else if(r==="PREFERENCE_TUNING"){const b=p(t,["validationDataset"]);e!==void 0&&b!=null&&g(e,["preferenceOptimizationSpec"],yT(b))}const a=p(t,["tunedModelDisplayName"]);e!==void 0&&a!=null&&g(e,["tunedModelDisplayName"],a);const u=p(t,["description"]);e!==void 0&&u!=null&&g(e,["description"],u);let c=p(n,["config","method"]);if(c===void 0&&(c="SUPERVISED_FINE_TUNING"),c==="SUPERVISED_FINE_TUNING"){const b=p(t,["epochCount"]);e!==void 0&&b!=null&&g(e,["supervisedTuningSpec","hyperParameters","epochCount"],b)}else if(c==="PREFERENCE_TUNING"){const b=p(t,["epochCount"]);e!==void 0&&b!=null&&g(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],b)}let h=p(n,["config","method"]);if(h===void 0&&(h="SUPERVISED_FINE_TUNING"),h==="SUPERVISED_FINE_TUNING"){const b=p(t,["learningRateMultiplier"]);e!==void 0&&b!=null&&g(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],b)}else if(h==="PREFERENCE_TUNING"){const b=p(t,["learningRateMultiplier"]);e!==void 0&&b!=null&&g(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],b)}let d=p(n,["config","method"]);if(d===void 0&&(d="SUPERVISED_FINE_TUNING"),d==="SUPERVISED_FINE_TUNING"){const b=p(t,["exportLastCheckpointOnly"]);e!==void 0&&b!=null&&g(e,["supervisedTuningSpec","exportLastCheckpointOnly"],b)}else if(d==="PREFERENCE_TUNING"){const b=p(t,["exportLastCheckpointOnly"]);e!==void 0&&b!=null&&g(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],b)}let m=p(n,["config","method"]);if(m===void 0&&(m="SUPERVISED_FINE_TUNING"),m==="SUPERVISED_FINE_TUNING"){const b=p(t,["adapterSize"]);e!==void 0&&b!=null&&g(e,["supervisedTuningSpec","hyperParameters","adapterSize"],b)}else if(m==="PREFERENCE_TUNING"){const b=p(t,["adapterSize"]);e!==void 0&&b!=null&&g(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],b)}if(p(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(p(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const y=p(t,["labels"]);e!==void 0&&y!=null&&g(e,["labels"],y);const S=p(t,["beta"]);return e!==void 0&&S!=null&&g(e,["preferenceOptimizationSpec","hyperParameters","beta"],S),i}function s3(t,e){const n={},i=p(t,["baseModel"]);i!=null&&g(n,["baseModel"],i);const r=p(t,["preTunedModel"]);r!=null&&g(n,["preTunedModel"],r);const a=p(t,["trainingDataset"]);a!=null&&v3(a);const u=p(t,["config"]);return u!=null&&o3(u,n),n}function a3(t,e){const n={},i=p(t,["baseModel"]);i!=null&&g(n,["baseModel"],i);const r=p(t,["preTunedModel"]);r!=null&&g(n,["preTunedModel"],r);const a=p(t,["trainingDataset"]);a!=null&&y3(a,n,e);const u=p(t,["config"]);return u!=null&&r3(u,n,e),n}function l3(t,e){const n={},i=p(t,["name"]);return i!=null&&g(n,["_url","name"],i),n}function u3(t,e){const n={},i=p(t,["name"]);return i!=null&&g(n,["_url","name"],i),n}function c3(t,e,n){const i={},r=p(t,["pageSize"]);e!==void 0&&r!=null&&g(e,["_query","pageSize"],r);const a=p(t,["pageToken"]);e!==void 0&&a!=null&&g(e,["_query","pageToken"],a);const u=p(t,["filter"]);return e!==void 0&&u!=null&&g(e,["_query","filter"],u),i}function f3(t,e,n){const i={},r=p(t,["pageSize"]);e!==void 0&&r!=null&&g(e,["_query","pageSize"],r);const a=p(t,["pageToken"]);e!==void 0&&a!=null&&g(e,["_query","pageToken"],a);const u=p(t,["filter"]);return e!==void 0&&u!=null&&g(e,["_query","filter"],u),i}function d3(t,e){const n={},i=p(t,["config"]);return i!=null&&c3(i,n),n}function h3(t,e){const n={},i=p(t,["config"]);return i!=null&&f3(i,n),n}function p3(t,e){const n={},i=p(t,["sdkHttpResponse"]);i!=null&&g(n,["sdkHttpResponse"],i);const r=p(t,["nextPageToken"]);r!=null&&g(n,["nextPageToken"],r);const a=p(t,["tunedModels"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(c=>jM(c))),g(n,["tuningJobs"],u)}return n}function m3(t,e){const n={},i=p(t,["sdkHttpResponse"]);i!=null&&g(n,["sdkHttpResponse"],i);const r=p(t,["nextPageToken"]);r!=null&&g(n,["nextPageToken"],r);const a=p(t,["tuningJobs"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(c=>Rv(c))),g(n,["tuningJobs"],u)}return n}function g3(t,e){const n={},i=p(t,["name"]);i!=null&&g(n,["model"],i);const r=p(t,["name"]);return r!=null&&g(n,["endpoint"],r),n}function v3(t,e){const n={};if(p(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(p(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const i=p(t,["examples"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(a=>a)),g(n,["examples","examples"],r)}return n}function y3(t,e,n){const i={};let r=p(n,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){const u=p(t,["gcsUri"]);e!==void 0&&u!=null&&g(e,["supervisedTuningSpec","trainingDatasetUri"],u)}else if(r==="PREFERENCE_TUNING"){const u=p(t,["gcsUri"]);e!==void 0&&u!=null&&g(e,["preferenceOptimizationSpec","trainingDatasetUri"],u)}let a=p(n,["config","method"]);if(a===void 0&&(a="SUPERVISED_FINE_TUNING"),a==="SUPERVISED_FINE_TUNING"){const u=p(t,["vertexDatasetResource"]);e!==void 0&&u!=null&&g(e,["supervisedTuningSpec","trainingDatasetUri"],u)}else if(a==="PREFERENCE_TUNING"){const u=p(t,["vertexDatasetResource"]);e!==void 0&&u!=null&&g(e,["preferenceOptimizationSpec","trainingDatasetUri"],u)}if(p(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return i}function jM(t,e){const n={},i=p(t,["sdkHttpResponse"]);i!=null&&g(n,["sdkHttpResponse"],i);const r=p(t,["name"]);r!=null&&g(n,["name"],r);const a=p(t,["state"]);a!=null&&g(n,["state"],lM(a));const u=p(t,["createTime"]);u!=null&&g(n,["createTime"],u);const c=p(t,["tuningTask","startTime"]);c!=null&&g(n,["startTime"],c);const h=p(t,["tuningTask","completeTime"]);h!=null&&g(n,["endTime"],h);const d=p(t,["updateTime"]);d!=null&&g(n,["updateTime"],d);const m=p(t,["description"]);m!=null&&g(n,["description"],m);const y=p(t,["baseModel"]);y!=null&&g(n,["baseModel"],y);const S=p(t,["_self"]);return S!=null&&g(n,["tunedModel"],g3(S)),n}function Rv(t,e){const n={},i=p(t,["sdkHttpResponse"]);i!=null&&g(n,["sdkHttpResponse"],i);const r=p(t,["name"]);r!=null&&g(n,["name"],r);const a=p(t,["state"]);a!=null&&g(n,["state"],lM(a));const u=p(t,["createTime"]);u!=null&&g(n,["createTime"],u);const c=p(t,["startTime"]);c!=null&&g(n,["startTime"],c);const h=p(t,["endTime"]);h!=null&&g(n,["endTime"],h);const d=p(t,["updateTime"]);d!=null&&g(n,["updateTime"],d);const m=p(t,["error"]);m!=null&&g(n,["error"],m);const y=p(t,["description"]);y!=null&&g(n,["description"],y);const S=p(t,["baseModel"]);S!=null&&g(n,["baseModel"],S);const b=p(t,["tunedModel"]);b!=null&&g(n,["tunedModel"],b);const T=p(t,["preTunedModel"]);T!=null&&g(n,["preTunedModel"],T);const A=p(t,["supervisedTuningSpec"]);A!=null&&g(n,["supervisedTuningSpec"],A);const x=p(t,["preferenceOptimizationSpec"]);x!=null&&g(n,["preferenceOptimizationSpec"],x);const M=p(t,["tuningDataStats"]);M!=null&&g(n,["tuningDataStats"],M);const I=p(t,["encryptionSpec"]);I!=null&&g(n,["encryptionSpec"],I);const N=p(t,["partnerModelTuningSpec"]);N!=null&&g(n,["partnerModelTuningSpec"],N);const D=p(t,["customBaseModel"]);D!=null&&g(n,["customBaseModel"],D);const L=p(t,["experiment"]);L!=null&&g(n,["experiment"],L);const U=p(t,["labels"]);U!=null&&g(n,["labels"],U);const O=p(t,["outputUri"]);O!=null&&g(n,["outputUri"],O);const q=p(t,["pipelineJob"]);q!=null&&g(n,["pipelineJob"],q);const J=p(t,["serviceAccount"]);J!=null&&g(n,["serviceAccount"],J);const j=p(t,["tunedModelDisplayName"]);j!=null&&g(n,["tunedModelDisplayName"],j);const W=p(t,["veoTuningSpec"]);return W!=null&&g(n,["veoTuningSpec"],W),n}function _3(t,e){const n={},i=p(t,["sdkHttpResponse"]);i!=null&&g(n,["sdkHttpResponse"],i);const r=p(t,["name"]);r!=null&&g(n,["name"],r);const a=p(t,["metadata"]);a!=null&&g(n,["metadata"],a);const u=p(t,["done"]);u!=null&&g(n,["done"],u);const c=p(t,["error"]);return c!=null&&g(n,["error"],c),n}function yT(t,e){const n={},i=p(t,["gcsUri"]);i!=null&&g(n,["validationDatasetUri"],i);const r=p(t,["vertexDatasetResource"]);return r!=null&&g(n,["validationDatasetUri"],r),n}class S3 extends _o{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new is(mo.PAGED_ITEM_TUNING_JOBS,i=>this.listInternal(i),await this.listInternal(n),n),this.get=async n=>await this.getInternal(n),this.tune=async n=>{var i;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const r={tunedModelName:n.baseModel};!((i=n.config)===null||i===void 0)&&i.preTunedModelCheckpointId&&(r.checkpointId=n.config.preTunedModelCheckpointId);const a=Object.assign(Object.assign({},n),{preTunedModel:r});return a.baseModel=void 0,await this.tuneInternal(a)}else{const r=Object.assign({},n);return await this.tuneInternal(r)}else{const r=Object.assign({},n),a=await this.tuneMldevInternal(r);let u="";return a.metadata!==void 0&&a.metadata.tunedModel!==void 0?u=a.metadata.tunedModel:a.name!==void 0&&a.name.includes("/operations/")&&(u=a.name.split("/operations/")[0]),{name:u,state:mv.JOB_STATE_QUEUED}}}}async getInternal(e){var n,i,r,a;let u,c="",h={};if(this.apiClient.isVertexAI()){const d=u3(e);return c=fe("{name}",d._url),h=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json().then(y=>{const S=y;return S.sdkHttpResponse={headers:m.headers},S})),u.then(m=>Rv(m))}else{const d=l3(e);return c=fe("{name}",d._url),h=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json().then(y=>{const S=y;return S.sdkHttpResponse={headers:m.headers},S})),u.then(m=>jM(m))}}async listInternal(e){var n,i,r,a;let u,c="",h={};if(this.apiClient.isVertexAI()){const d=h3(e);return c=fe("tuningJobs",d._url),h=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json().then(y=>{const S=y;return S.sdkHttpResponse={headers:m.headers},S})),u.then(m=>{const y=m3(m),S=new zC;return Object.assign(S,y),S})}else{const d=d3(e);return c=fe("tunedModels",d._url),h=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json().then(y=>{const S=y;return S.sdkHttpResponse={headers:m.headers},S})),u.then(m=>{const y=p3(m),S=new zC;return Object.assign(S,y),S})}}async cancel(e){var n,i,r,a;let u,c="",h={};if(this.apiClient.isVertexAI()){const d=t3(e);return c=fe("{name}:cancel",d._url),h=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json().then(y=>{const S=y;return S.sdkHttpResponse={headers:m.headers},S})),u.then(m=>{const y=i3(m),S=new qC;return Object.assign(S,y),S})}else{const d=e3(e);return c=fe("{name}:cancel",d._url),h=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json().then(y=>{const S=y;return S.sdkHttpResponse={headers:m.headers},S})),u.then(m=>{const y=n3(m),S=new qC;return Object.assign(S,y),S})}}async tuneInternal(e){var n,i;let r,a="",u={};if(this.apiClient.isVertexAI()){const c=a3(e,e);return a=fe("tuningJobs",c._url),u=c._query,delete c._url,delete c._query,r=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json().then(d=>{const m=d;return m.sdkHttpResponse={headers:h.headers},m})),r.then(h=>Rv(h))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,i;let r,a="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=s3(e);return a=fe("tunedModels",c._url),u=c._query,delete c._url,delete c._query,r=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json().then(d=>{const m=d;return m.sdkHttpResponse={headers:h.headers},m})),r.then(h=>_3(h))}}}class b3{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const E3=1024*1024*8,w3=3,C3=1e3,T3=2,xd="x-goog-upload-status";async function A3(t,e,n){var i;const r=await XM(t,e,n),a=await r?.json();if(((i=r?.headers)===null||i===void 0?void 0:i[xd])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return a.file}async function x3(t,e,n){var i;const r=await XM(t,e,n),a=await r?.json();if(((i=r?.headers)===null||i===void 0?void 0:i[xd])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const u=nM(a),c=new ky;return Object.assign(c,u),c}async function XM(t,e,n){var i,r;let a=0,u=0,c=new gv(new Response),h="upload";for(a=t.size;u<a;){const d=Math.min(E3,a-u),m=t.slice(u,u+d);u+d>=a&&(h+=", finalize");let y=0,S=C3;for(;y<w3&&(c=await n.request({path:"",body:m,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":h,"X-Goog-Upload-Offset":String(u),"Content-Length":String(d)}}}),!(!((i=c?.headers)===null||i===void 0)&&i[xd]));)y++,await M3(S),S=S*T3;if(u+=d,((r=c?.headers)===null||r===void 0?void 0:r[xd])!=="active")break;if(a<=u)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return c}async function R3(t){return{size:t.size,type:t.type}}function M3(t){return new Promise(e=>setTimeout(e,t))}class N3{async upload(e,n,i){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await A3(e,n,i)}async uploadToFileSearchStore(e,n,i){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await x3(e,n,i)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await R3(e)}}class I3{create(e,n,i){return new D3(e,n,i)}}class D3{constructor(e,n,i){this.url=e,this.headers=n,this.callbacks=i}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}const _T="x-goog-api-key";class O3{constructor(e){this.apiKey=e}async addAuthHeaders(e,n){if(e.get(_T)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(_T,this.apiKey)}}}const P3="gl-node/";class k3{get interactions(){if(this._interactions!==void 0)return this._interactions;if(console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions."),this.vertexai)throw new Error("This version of the GenAI SDK does not support Vertex AI API for interactions.");const e=this.httpOptions;e?.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const n=new Tt({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:e?.timeout});return this._interactions=n.interactions,this._interactions}constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;const i=xF(e.httpOptions,e.vertexai,void 0,void 0);i&&(e.httpOptions?e.httpOptions.baseUrl=i:e.httpOptions={baseUrl:i}),this.apiVersion=e.apiVersion,this.httpOptions=e.httpOptions;const r=new O3(this.apiKey);this.apiClient=new Az({auth:r,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:P3+"web",uploader:new N3,downloader:new b3}),this.models=new qz(this.apiClient),this.live=new Fz(this.apiClient,r,new I3),this.batches=new nH(this.apiClient),this.chats=new UH(this.models,this.apiClient),this.caches=new PH(this.apiClient),this.files=new KH(this.apiClient),this.operations=new Jz(this.apiClient),this.authTokens=new lq(this.apiClient),this.tunings=new S3(this.apiClient),this.fileSearchStores=new gq(this.apiClient)}}let Eg=class extends Error{};const WM=["gemini-2.5-flash-image","gemini-3-pro-image-preview"];class co{static options={img_models:{flash_image:"gemini-2.5-flash-image",pro_image:"gemini-3-pro-image-preview"}};static getApiKey=null;static setApiKey=null;static getGenAI(){const e=this.getApiKey?.()||"";if(console.log(e),!e)throw new Eg("No Google API key set");return new k3({apiKey:e})}static async txt2txt(e){try{const n=this.getGenAI(),i={},r=await n.models.generateContent({model:"gemini-2.5-flash",contents:e,config:i});return console.log("RES TEXT",r.text),r.text}catch(n){console.error("Goo Err Response",n);const i=n?.message||"";if(i.includes("API key not valid")||i.includes("API_KEY_INVALID")||n instanceof Eg)return this.showKeyPromptWindow(),null;throw n}}static async img2img(e,n=WM[0],i){try{const r=this.getGenAI(),a=[{text:e}];if(i?.length)for(const m of i)!m?.rawBase64||!m?.mime||(m.description&&a.push({text:m.description}),a.push({inlineData:{data:m.rawBase64,mimeType:m.mime}}));const u={model:n,contents:a,config:{imageConfig:{aspectRatio:"9:16",response_modalities:["Image"]}}};console.log("Gemini Payload",u);const c=await r.models.generateContent(u);console.log("GEMINI RES",c);const d=(c?.candidates??[])[0]?.content?.parts??[];for(const m of d)if(m.inlineData){const y=m.inlineData.data,S=m.inlineData.mimeType||"image/png";return{base64Obj:{rawBase64:y,mime:S},id:c.responseId}}return null}catch(r){const a=r?.message||"";if(a.includes("API key not valid")||a.includes("API_KEY_INVALID")||r instanceof Eg)return this.showKeyPromptWindow(),null;throw console.error("img2img error",r),r}}static showKeyPromptWindow(){const e=window.prompt("Your Google API key is missing or invalid. Please enter a valid key:");e?this.setApiKey?.(e):console.warn("User did not provide a valid API key.")}static async saveResultImage(e,n){return e&&e.base64Obj?.rawBase64?(console.log(e.base64Obj.mime.split("/")[1]),await Mi.fromBase64({rawBase64:e.base64Obj.rawBase64,mime:e.base64Obj.mime},n,`${e.id}.${e.base64Obj.mime.split("/")[1]}`)):(console.warn("No valid image returned from GoogleAI.img2img"),null)}}async function L3(t,e){const n=Math.floor(Date.now()/1e3),i={alg:"HS256",typ:"JWT"},r={iss:t,exp:n+1800,nbf:n-5},a=wg(JSON.stringify(i)),u=wg(JSON.stringify(r)),c=`${a}.${u}`,h=await crypto.subtle.importKey("raw",new TextEncoder().encode(e),{name:"HMAC",hash:"SHA-256"},!1,["sign"]),d=await crypto.subtle.sign("HMAC",h,new TextEncoder().encode(c));return`${c}.${wg(d)}`}function wg(t){let e;typeof t=="string"?e=new TextEncoder().encode(t):e=new Uint8Array(t);let n="";for(let i=0;i<e.length;i++)n+=String.fromCharCode(e[i]);return btoa(n).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}class lt{static getKeysDict=null;static videoModels=["kling-v1","kling-v1-5","kling-v1-6","kling-v2-master","kling-v2-1","kling-v2-1-master","kling-v2-5-turbo","kling-v2-6"];static options={img2video:{duration:{five:"5",ten:"10"},mode:{std:"std",pro:"pro"},model:{v1:"kling-v1",v1_5:"kling-v1-5",v1_6:"kling-v1-6",v2_0m:"kling-v2-master",v2_1:"kling-v2-1",v2_1m:"kling-v2-1-master",v2_5:"kling-v2-5-turbo",v2_6:"kling-v2-6"}},motion_control:{mode:{std:"std",pro:"pro"},character_orientation:{image:"image",video:"video"},keep_original_sound:{yes:"yes",no:"no"}}};static async getToken(){const e=this.getKeysDict?.();if(!e)throw new Error("No Kling API keys provided or getKeysDict not set");return await L3(e.accessKey,e.secretKey)}static async postToKling(e,n){const r=`http://localhost:4000/proxy/${encodeURIComponent(e)}`,a=await this.getToken();console.log(`Kling API request to ${e}:`,n);const u=await fetch(r,{method:"POST",headers:{Authorization:`Bearer ${a}`,"Content-Type":"application/json"},body:JSON.stringify(n)});if(!u.ok){const h=await u.text();throw new Error(`Kling API request failed: ${h}`)}const c=await u.json();return console.log(`Kling API response from ${e}:`,c),c}static async txt2video(e,n="kling-v1"){const i={model_name:n,mode:"std",duration:"5",prompt:e,cfg_scale:.5};return{id:(await this.postToKling("https://api-singapore.klingai.com/v1/videos/text2video",i)).data.task_id,workflow:"text2video"}}static async img2video(e){const{image:n,prompt:i,model:r=lt.options.img2video.model.v2_6,duration:a=lt.options.img2video.duration,mode:u=lt.options.img2video.mode.std,cfg_scale:c=.5,static_mask:h,dynamic_masks:d,image_tail:m,camera_control:y,voice_list:S,sound:b="off",negative_prompt:T,callback_url:A,external_task_id:x}=e,M={model_name:r,image:n,prompt:i,duration:a,mode:u,cfg_scale:c,sound:b};return h&&(M.static_mask=h),d&&(M.dynamic_masks=d),m&&(M.image_tail=m),y&&(M.camera_control=y),S&&(M.voice_list=S),T&&(M.negative_prompt=T),A&&(M.callback_url=A),x&&(M.external_task_id=x),{id:(await this.postToKling("https://api-singapore.klingai.com/v1/videos/image2video",M)).data.task_id,workflow:"image2video"}}static async motionControl(e){const{image:n,video_url:i,prompt:r,mode:a=lt.options.motion_control.mode.std,character_orientation:u,keep_original_sound:c=lt.options.motion_control.keep_original_sound.yes,callback_url:h,external_task_id:d}=e,m={image_url:n,video_url:i,character_orientation:u,mode:a,keep_original_sound:c};return r&&(m.prompt=r),h&&(m.callback_url=h),d&&(m.external_task_id=d),{id:(await this.postToKling("https://api-singapore.klingai.com/v1/videos/motion-control",m)).data.task_id,workflow:"motion-control"}}static async getStatus(e,n="text2video"){const i=`https://api-singapore.klingai.com/v1/videos/${n}/${e}`,a=`http://localhost:4000/proxy/${encodeURIComponent(i)}`,u=await this.getToken();console.log("KLING_AI Get Status sent");const c=await fetch(a,{method:"GET",headers:{Authorization:`Bearer ${u}`,"Content-Type":"application/json"}});if(!c.ok){const d=await c.text();throw new Error(`Task status request failed: ${d}`)}if((c.headers.get("content-type")||"").includes("application/json")){const d=await c.json();return console.log("KLING check status:",d),{status:d?.data?.task_status||"unknown",status_msg:d?.data?.task_status_msg||"",url:d?.data?.task_result?.videos?.[0]?.url||null}}}}const Mv={KLING:"kling",GPT:"gpt",GOOGLE:"google"};class ST{shot;id;is_checking_status=!1;_status_log="";constructor(e,n){this.shot=e,this.id=n,Oi(this)}update(e){const i={...this.data||{},...e};this.shot.shotJson?.updateField(`tasks/${this.id}`,i)}log(){console.log({task:ir(this),data:ir(this.data)})}delete(){this.shot.removeTask(this)}get data(){return this.shot.shotJson?.getField(`tasks/${this.id}`)}finish_checking(){Ae(()=>{this.is_checking_status=!1}),this._status_log=""}async check_status(e=30,n=5e3){if(this.data.provider===Mv.KLING){Ae(()=>{this.is_checking_status=!0,this._status_log="start checking"}),console.log("started checking status");for(let i=0;i<=e;i++){try{console.log("new attempt");const r=await lt.getStatus(this.id,this.data.workflow);if(console.log("status",r),this.update(r),r?.status==="succeed"&&r.url){await this.downloadResults(),this.finish_checking();return}if(r?.status==="failed"){console.warn(`Task ${this.id} failed.`),this.finish_checking();return}}catch(r){console.error("Status check failed:",r)}i<e&&(Ae(()=>{this._status_log=`(attempt ${i+1}/${e})`}),await new Promise(r=>setTimeout(r,n)))}console.warn(`Task ${this.id} did not finish after ${e} retries.`),this.finish_checking()}}async downloadResults(){const e=this.data?.url;this.shot.MediaFolder_genVideo?.downloadFromUrl(e)}}async function U3(t){try{console.log("[tmpfiles] Uploading:",t.name);const e=new FormData;e.append("file",t);const n=await fetch("https://tmpfiles.org/api/v1/upload",{method:"POST",body:e});if(!n.ok)throw new Error(`HTTP ${n.status}`);const i=await n.json();console.log("[tmpfiles] Response:",i);const r=i?.data?.url;if(!r)throw new Error("No URL returned");return r.replace("tmpfiles.org/","tmpfiles.org/dl/")}catch(e){throw console.error("[tmpfiles] Upload failed:",e),e}}async function B3(t,e){try{if(e&&((r,a)=>{const u=r.name.toLowerCase(),c=decodeURIComponent(a.split("/").pop()||"").toLowerCase();return u===c})(t,e))return console.log("[ensureUploaded] Existing URL is valid:",e),e;console.log("[ensureUploaded] Uploading file because URL is missing or invalid:",t.name);const i=await U3(t);return console.log("[ensureUploaded] Uploaded URL:",i),i}catch(n){throw console.error("[ensureUploaded] Error ensuring file upload:",n),n}}class cu{handle;parent;urlObject=null;web_url="";path="";constructor(e,n,i=""){this.handle=e,this.parent=n,this.path=i+"/"+e.name}async getUrlObject(){if(!this.urlObject)try{const e=await this.handle.getFile();this.urlObject=URL.createObjectURL(e)}catch(e){console.error("Failed to create object URL for video:",e),this.urlObject=""}return this.urlObject}revokeUrl(){this.urlObject&&(URL.revokeObjectURL(this.urlObject),this.urlObject=null)}static async fromUrl(e,n){try{const i=await fetch(e);if(!i.ok)throw new Error(`Failed to fetch video: ${i.statusText}`);const r=await i.blob(),a=e.split("/"),u=a[a.length-1].split("?")[0],c=await n.getFileHandle(u,{create:!0}),h=await c.createWritable();return await h.write(r),await h.close(),new cu(c,n)}catch(i){throw console.error("Failed to create LocalVideo from URL:",i),i}}async delete(){try{this.revokeUrl(),await this.parent.removeEntry(this.handle.name)}catch(e){throw console.error("Failed to delete video file:",e),e}}static async fromBase64(e,n,i){try{const r=atob(e),a=r.length,u=new Uint8Array(a);for(let d=0;d<a;d++)u[d]=r.charCodeAt(d);const c=await n.getFileHandle(i,{create:!0}),h=await c.createWritable();return await h.write(u),await h.close(),new cu(c,n)}catch(r){throw console.error("Failed to create LocalVideo from Base64:",r),r}}async getWebUrl(){return console.log("web_url",this.web_url),this.web_url=await B3(await this.handle.getFile(),this.web_url),this.web_url}}class Cg{parentFolder;folderName;folder=null;media=[];path="";pickedMedia=null;selectedMedia=null;named_media={};tags=["picked","start_frame","end_frame","motion_ref"];storage_json=null;onPicked;onSelected;onNamedMediaUpdate;constructor(e,n,i="",r=null){this.parentFolder=e,this.folderName=n,this.path=i?`${i}/${n}`:n,this.storage_json=r,Oi(this)}async load(){try{this.folder=await this.parentFolder.getDirectoryHandle(this.folderName,{create:!0});for await(const[,e]of this.folder.entries())e.kind==="file"&&this.loadFile(e);this.storage_json&&this.setNamedMediaJson(this.storage_json.getField("MediaFolder_"+this.folderName))}catch(e){console.error(`Failed to load MediaFolder '${this.folderName}':`,e),Ae(()=>{this.folder=null,this.media=[]})}}async deleteMedia(e,n=!0){if(!this.folder)throw new Error("Folder not loaded");if(!(n&&!window.confirm(`Delete this ${e instanceof Mi?"image":"video"}?`)))try{await e.delete(),Ae(()=>{this.media=this.media.filter(i=>i!==e);for(const i of Object.keys(this.named_media))this.named_media[i]===e&&delete this.named_media[i]})}catch(i){console.error("Failed to delete media:",i),alert(`Failed to delete ${e instanceof Mi?"image":"video"}.`)}}setSelectedMedia(e){this.selectedMedia!==e&&(Ae(()=>{this.selectedMedia=e}),this.onSelected?.(e))}log(){console.log(ir(this))}async downloadFromUrl(e){if(!this.folder)throw new Error("MediaFolder not loaded");try{const n=await fetch(e);if(!n.ok)throw new Error(`Failed to fetch: ${n.statusText}`);const i=await n.blob();let a=new URL(e).pathname.split("/").pop()||"download";if(!a.includes(".")){const d=i.type.split("/")[1];d&&(a+=`.${d}`)}const u=await this.folder.getFileHandle(a,{create:!0}),c=await u.createWritable();return await c.write(i),await c.close(),this.loadFile(u)}catch(n){throw console.error("Failed to download media from URL:",n),n}}loadFile(e){const n=e.name;let i=null;return n.match(/\.(png|jpe?g|gif|webp)$/i)?i=new Mi(e,this.folder,this.path):n.match(/\.(mp4|mov|webm|avi)$/i)&&(i=new cu(e,this.folder,this.path)),i?(Ae(()=>{this.media.push(i)}),i):null}async saveFiles(e){if(!this.folder)throw new Error("MediaFolder not loaded");for(const n of e)try{const i=await this.folder.getFileHandle(n.name,{create:!0}),r=await i.createWritable();await r.write(n),await r.close(),this.loadFile(i)}catch(i){console.error(`Failed to save file '${n.name}':`,i)}}async copyFromClipboard(){if(!this.folder)throw new Error("MediaFolder not loaded");if(!navigator.clipboard||!navigator.clipboard.read){console.warn("Clipboard API not supported");return}const e=[];try{const n=await navigator.clipboard.read();console.log(n);for(const i of n)for(const r of i.types){if(!r.startsWith("image/")&&!r.startsWith("video/"))continue;const a=await i.getType(r),u=a.name||`clipboard-${Date.now()}.${r.split("/")[1]}`;e.push(a instanceof File?a:new File([a],u,{type:r}))}if(e.length===0){console.info("Clipboard does not contain files");return}await this.saveFiles(e)}catch(n){console.error("Failed to read from clipboard:",n);return}}setNamedMedia(e,n){Ae(()=>{n===null||this.named_media[e]==n?delete this.named_media[e]:this.named_media[e]=n,this.onNamedMediaUpdate?.(),this.storage_json&&this.storage_json.updateField("MediaFolder_"+this.folderName,this.namedMediaJson)})}getNamedMedia(e){return this.named_media[e]??null}getMediaTags(e){return Object.entries(this.named_media).filter(([,n])=>n===e).map(([n])=>n)}getMediaByFilename(e){return this.media.find(n=>n.path.endsWith(e))??null}get namedMediaJson(){const e={};for(const[n,i]of Object.entries(this.named_media))e[n]=i.handle.name;return e}setNamedMediaJson(e){Ae(()=>{if(this.named_media={},e!=null)for(const[n,i]of Object.entries(e)){const r=this.media.find(a=>a.handle.name===i);r?this.named_media[n]=r:console.warn(`namedMediaJson: media file '${i}' not found for tag '${n}'`)}})}}class bT{folder;path="";scene;shotJson=null;tasks=[];is_submitting_video=!1;is_generating=!1;MediaFolder_results=null;MediaFolder_genVideo=null;MediaFolder_refVideo=null;constructor(e,n){this.folder=e,this.scene=n,this.path=n.path+"/"+e.name,Oi(this)}get srcImage(){return this.MediaFolder_results.getNamedMedia("start_frame")}get end_frame(){return this.MediaFolder_results.getNamedMedia("end_frame")}get kling_motion_video(){return this.MediaFolder_refVideo.getNamedMedia("motion_ref")}get outVideo(){return this.MediaFolder_genVideo.getNamedMedia("picked")}async load(){try{this.shotJson=await Xr.create(this.folder,"shotinfo.json"),this.MediaFolder_results=new Cg(this.folder,"results",this.path,this.shotJson),this.MediaFolder_results.tags=["start_frame","end_frame"],await this.MediaFolder_results.load(),this.MediaFolder_genVideo=new Cg(this.folder,"genVideo",this.path,this.shotJson),this.MediaFolder_genVideo.tags=["picked"],await this.MediaFolder_genVideo.load(),this.MediaFolder_refVideo=new Cg(this.folder,"refVideo",this.path,this.shotJson),this.MediaFolder_refVideo.tags=["motion_ref"],await this.MediaFolder_refVideo.load(),this.loadTasks()}catch(e){console.error("Error loading shot:",this.folder.name,e),this.shotJson=null}}loadTasks(){const e=this.shotJson?.getField("tasks");Ae(()=>{if(this.tasks=[],!(!e||typeof e!="object"))for(const n of Object.keys(e))this.tasks.push(new ST(this,n))})}addTask(e,n){const i=new ST(this,e);return Ae(()=>{this.tasks.push(i)}),i.update(n),i}removeTask(e){Ae(()=>{this.tasks=this.tasks.filter(i=>i!==e)});const n=this.shotJson?.getField("tasks")??{};delete n[e.id],this.shotJson?.updateField("tasks",n)}async delete(){if(!this.scene?.folder){console.error("Cannot delete shot: scene folder not set");return}try{await this.scene.folder.removeEntry(this.folder.name,{recursive:!0}),Ae(()=>{this.scene.shots=this.scene.shots.filter(e=>e!==this)})}catch(e){console.error("Failed to delete shot:",e)}}async GenerateVideo(){Ae(()=>{this.is_submitting_video=!0});let e=this.shotJson?.data.video_prompt||"";try{const n=this.scene.project.workflows.generate_video_kling;if(this.srcImage){const i=(await this.srcImage.getBase64()).rawBase64,r=(await this.end_frame?.getBase64())?.rawBase64,a=await lt.img2video({image:i,image_tail:r,prompt:e,model:n.model,mode:n.mode,duration:n.duration}),u=this.addTask(a.id,{provider:Mv.KLING,workflow:a.workflow});await new Promise(c=>setTimeout(c,100)),console.log("created_task"),u.check_status()}}catch(n){console.error("Submitting Video Generation Failed:",n)}finally{Ae(()=>{this.is_submitting_video=!1})}}async GenerateVideo_KlingMotionControl(){Ae(()=>{this.is_submitting_video=!0});let e=this.shotJson?.data.video_prompt||"";try{const n=this.scene.project.workflows.kling_motion_control;if(this.srcImage&&this.kling_motion_video){const i=(await this.srcImage.getBase64()).rawBase64,r=await this.kling_motion_video.getWebUrl(),a=await lt.motionControl({image:i,video_url:r,prompt:e,mode:n.mode,character_orientation:n.character_orientation,keep_original_sound:n.keep_original_sound}),u=this.addTask(a.id,{provider:Mv.KLING,workflow:a.workflow});await new Promise(c=>setTimeout(c,100)),u.check_status(),await new Promise(c=>setTimeout(c,2e3))}}catch(n){console.error("Submitting Video Generation Failed:",n)}finally{Ae(()=>{this.is_submitting_video=!1})}}async GenerateImage(){Ae(()=>{this.is_generating=!0});const e=this.getSkippedTags(),n=[];for(const r of this.scene.getTags())if(!e.includes(r.path))try{const a=await r.image.getBase64();n.push({rawBase64:a.rawBase64,mime:a.mime,description:r.path})}catch(a){console.warn("Failed to load tag image:",r.path,a)}let i=this.shotJson?.data.prompt||"";try{const r=await co.img2img(i||"",this.scene.project.workflows.generate_shot_image.model,n),a=await co.saveResultImage(r,this.MediaFolder_results?.folder);a&&this.MediaFolder_results?.loadFile(a.handle)}catch(r){console.error("GenerateImage failed:",r)}finally{Ae(()=>{this.is_generating=!1})}}async saveGoogleResultImage(e,n=!1){const i=await co.saveResultImage(e,this.MediaFolder_results?.folder);if(i){const r=this.MediaFolder_results.loadFile(i.handle);n&&this.MediaFolder_results?.setNamedMedia("selected",r)}}getSkippedTags(){return this.shotJson?.data?.skippedTags||[]}setTagSkipped(e,n){this.shotJson?.data&&(Array.isArray(this.shotJson.data.skippedTags)||(this.shotJson.data.skippedTags=[]),Ae(()=>{const i=this.shotJson.data.skippedTags;n?i.includes(e)||i.push(e):this.shotJson.data.skippedTags=i.filter(r=>r!==e)}),this.shotJson.save())}log(){console.log(ir(this))}}function Ce(t,e,n,i,r){if(typeof e=="function"?t!==e||!0:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,n),n}function V(t,e,n,i){if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?i:n==="a"?i.call(t):i?i.value:e.get(t)}let QM=function(){const{crypto:t}=globalThis;if(t?.randomUUID)return QM=t.randomUUID.bind(t),t.randomUUID();const e=new Uint8Array(1),n=t?()=>t.getRandomValues(e)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,i=>(+i^n()&15>>+i/4).toString(16))};function Nv(t){return typeof t=="object"&&t!==null&&("name"in t&&t.name==="AbortError"||"message"in t&&String(t.message).includes("FetchRequestCanceledException"))}const Iv=t=>{if(t instanceof Error)return t;if(typeof t=="object"&&t!==null){try{if(Object.prototype.toString.call(t)==="[object Error]"){const e=new Error(t.message,t.cause?{cause:t.cause}:{});return t.stack&&(e.stack=t.stack),t.cause&&!e.cause&&(e.cause=t.cause),t.name&&(e.name=t.name),e}}catch{}try{return new Error(JSON.stringify(t))}catch{}}return new Error(t)};class Se extends Error{}class Pt extends Se{constructor(e,n,i,r){super(`${Pt.makeMessage(e,n,i)}`),this.status=e,this.headers=r,this.requestID=r?.get("x-request-id"),this.error=n;const a=n;this.code=a?.code,this.param=a?.param,this.type=a?.type}static makeMessage(e,n,i){const r=n?.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):i;return e&&r?`${e} ${r}`:e?`${e} status code (no body)`:r||"(no status code or body)"}static generate(e,n,i,r){if(!e||!r)return new ph({message:i,cause:Iv(n)});const a=n?.error;return e===400?new ZM(e,a,i,r):e===401?new eN(e,a,i,r):e===403?new tN(e,a,i,r):e===404?new nN(e,a,i,r):e===409?new iN(e,a,i,r):e===422?new oN(e,a,i,r):e===429?new rN(e,a,i,r):e>=500?new sN(e,a,i,r):new Pt(e,a,i,r)}}class $n extends Pt{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}}class ph extends Pt{constructor({message:e,cause:n}){super(void 0,void 0,e||"Connection error.",void 0),n&&(this.cause=n)}}class Gy extends ph{constructor({message:e}={}){super({message:e??"Request timed out."})}}class ZM extends Pt{}class eN extends Pt{}class tN extends Pt{}class nN extends Pt{}class iN extends Pt{}class oN extends Pt{}class rN extends Pt{}class sN extends Pt{}class aN extends Se{constructor(){super("Could not parse response content as the length limit was reached")}}class lN extends Se{constructor(){super("Could not parse response content as the request was rejected by the content filter")}}class $l extends Error{constructor(e){super(e)}}const F3=/^[a-z][a-z0-9+.-]*:/i,$3=t=>F3.test(t);let en=t=>(en=Array.isArray,en(t)),ET=en;function uN(t){return typeof t!="object"?{}:t??{}}function H3(t){if(!t)return!0;for(const e in t)return!1;return!0}function G3(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Tg(t){return t!=null&&typeof t=="object"&&!Array.isArray(t)}const V3=(t,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new Se(`${t} must be an integer`);if(e<0)throw new Se(`${t} must be a positive integer`);return e},z3=t=>{try{return JSON.parse(t)}catch{return}},Lu=t=>new Promise(e=>setTimeout(e,t)),ta="6.10.0",q3=()=>typeof window<"u"&&typeof window.document<"u"&&typeof navigator<"u";function J3(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const K3=()=>{const t=J3();if(t==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ta,"X-Stainless-OS":CT(Deno.build.os),"X-Stainless-Arch":wT(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:Deno.version?.deno??"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ta,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(t==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ta,"X-Stainless-OS":CT(globalThis.process.platform??"unknown"),"X-Stainless-Arch":wT(globalThis.process.arch??"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":globalThis.process.version??"unknown"};const e=Y3();return e?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ta,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${e.browser}`,"X-Stainless-Runtime-Version":e.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ta,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function Y3(){if(typeof navigator>"u"||!navigator)return null;const t=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:n}of t){const i=n.exec(navigator.userAgent);if(i){const r=i[1]||0,a=i[2]||0,u=i[3]||0;return{browser:e,version:`${r}.${a}.${u}`}}}return null}const wT=t=>t==="x32"?"x32":t==="x86_64"||t==="x64"?"x64":t==="arm"?"arm":t==="aarch64"||t==="arm64"?"arm64":t?`other:${t}`:"unknown",CT=t=>(t=t.toLowerCase(),t.includes("ios")?"iOS":t==="android"?"Android":t==="darwin"?"MacOS":t==="win32"?"Windows":t==="freebsd"?"FreeBSD":t==="openbsd"?"OpenBSD":t==="linux"?"Linux":t?`Other:${t}`:"Unknown");let TT;const j3=()=>TT??(TT=K3());function X3(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new OpenAI({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function cN(...t){const e=globalThis.ReadableStream;if(typeof e>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new e(...t)}function fN(t){let e=Symbol.asyncIterator in t?t[Symbol.asyncIterator]():t[Symbol.iterator]();return cN({start(){},async pull(n){const{done:i,value:r}=await e.next();i?n.close():n.enqueue(r)},async cancel(){await e.return?.()}})}function dN(t){if(t[Symbol.asyncIterator])return t;const e=t.getReader();return{async next(){try{const n=await e.read();return n?.done&&e.releaseLock(),n}catch(n){throw e.releaseLock(),n}},async return(){const n=e.cancel();return e.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function W3(t){if(t===null||typeof t!="object")return;if(t[Symbol.asyncIterator]){await t[Symbol.asyncIterator]().return?.();return}const e=t.getReader(),n=e.cancel();e.releaseLock(),await n}const Q3=({headers:t,body:e})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(e)}),hN="RFC3986",pN=t=>String(t),AT={RFC1738:t=>String(t).replace(/%20/g,"+"),RFC3986:pN},Z3="RFC1738";let Dv=(t,e)=>(Dv=Object.hasOwn??Function.prototype.call.bind(Object.prototype.hasOwnProperty),Dv(t,e));const vi=(()=>{const t=[];for(let e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t})(),Ag=1024,e4=(t,e,n,i,r)=>{if(t.length===0)return t;let a=t;if(typeof t=="symbol"?a=Symbol.prototype.toString.call(t):typeof t!="string"&&(a=String(t)),n==="iso-8859-1")return escape(a).replace(/%u[0-9a-f]{4}/gi,function(c){return"%26%23"+parseInt(c.slice(2),16)+"%3B"});let u="";for(let c=0;c<a.length;c+=Ag){const h=a.length>=Ag?a.slice(c,c+Ag):a,d=[];for(let m=0;m<h.length;++m){let y=h.charCodeAt(m);if(y===45||y===46||y===95||y===126||y>=48&&y<=57||y>=65&&y<=90||y>=97&&y<=122||r===Z3&&(y===40||y===41)){d[d.length]=h.charAt(m);continue}if(y<128){d[d.length]=vi[y];continue}if(y<2048){d[d.length]=vi[192|y>>6]+vi[128|y&63];continue}if(y<55296||y>=57344){d[d.length]=vi[224|y>>12]+vi[128|y>>6&63]+vi[128|y&63];continue}m+=1,y=65536+((y&1023)<<10|h.charCodeAt(m)&1023),d[d.length]=vi[240|y>>18]+vi[128|y>>12&63]+vi[128|y>>6&63]+vi[128|y&63]}u+=d.join("")}return u};function t4(t){return!t||typeof t!="object"?!1:!!(t.constructor&&t.constructor.isBuffer&&t.constructor.isBuffer(t))}function xT(t,e){if(en(t)){const n=[];for(let i=0;i<t.length;i+=1)n.push(e(t[i]));return n}return e(t)}const mN={brackets(t){return String(t)+"[]"},comma:"comma",indices(t,e){return String(t)+"["+e+"]"},repeat(t){return String(t)}},gN=function(t,e){Array.prototype.push.apply(t,en(e)?e:[e])};let RT;const St={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:e4,encodeValuesOnly:!1,format:hN,formatter:pN,indices:!1,serializeDate(t){return(RT??(RT=Function.prototype.call.bind(Date.prototype.toISOString)))(t)},skipNulls:!1,strictNullHandling:!1};function n4(t){return typeof t=="string"||typeof t=="number"||typeof t=="boolean"||typeof t=="symbol"||typeof t=="bigint"}const xg={};function vN(t,e,n,i,r,a,u,c,h,d,m,y,S,b,T,A,x,M){let I=t,N=M,D=0,L=!1;for(;(N=N.get(xg))!==void 0&&!L;){const j=N.get(t);if(D+=1,typeof j<"u"){if(j===D)throw new RangeError("Cyclic object value");L=!0}typeof N.get(xg)>"u"&&(D=0)}if(typeof d=="function"?I=d(e,I):I instanceof Date?I=S?.(I):n==="comma"&&en(I)&&(I=xT(I,function(j){return j instanceof Date?S?.(j):j})),I===null){if(a)return h&&!A?h(e,St.encoder,x,"key",b):e;I=""}if(n4(I)||t4(I)){if(h){const j=A?e:h(e,St.encoder,x,"key",b);return[T?.(j)+"="+T?.(h(I,St.encoder,x,"value",b))]}return[T?.(e)+"="+T?.(String(I))]}const U=[];if(typeof I>"u")return U;let O;if(n==="comma"&&en(I))A&&h&&(I=xT(I,h)),O=[{value:I.length>0?I.join(",")||null:void 0}];else if(en(d))O=d;else{const j=Object.keys(I);O=m?j.sort(m):j}const q=c?String(e).replace(/\./g,"%2E"):String(e),J=i&&en(I)&&I.length===1?q+"[]":q;if(r&&en(I)&&I.length===0)return J+"[]";for(let j=0;j<O.length;++j){const W=O[j],re=typeof W=="object"&&typeof W.value<"u"?W.value:I[W];if(u&&re===null)continue;const ie=y&&c?W.replace(/\./g,"%2E"):W,ae=en(I)?typeof n=="function"?n(J,ie):J:J+(y?"."+ie:"["+ie+"]");M.set(t,D);const de=new WeakMap;de.set(xg,M),gN(U,vN(re,ae,n,i,r,a,u,c,n==="comma"&&A&&en(I)?null:h,d,m,y,S,b,T,A,x,de))}return U}function i4(t=St){if(typeof t.allowEmptyArrays<"u"&&typeof t.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof t.encodeDotInKeys<"u"&&typeof t.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(t.encoder!==null&&typeof t.encoder<"u"&&typeof t.encoder!="function")throw new TypeError("Encoder has to be a function.");const e=t.charset||St.charset;if(typeof t.charset<"u"&&t.charset!=="utf-8"&&t.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");let n=hN;if(typeof t.format<"u"){if(!Dv(AT,t.format))throw new TypeError("Unknown format option provided.");n=t.format}const i=AT[n];let r=St.filter;(typeof t.filter=="function"||en(t.filter))&&(r=t.filter);let a;if(t.arrayFormat&&t.arrayFormat in mN?a=t.arrayFormat:"indices"in t?a=t.indices?"indices":"repeat":a=St.arrayFormat,"commaRoundTrip"in t&&typeof t.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");const u=typeof t.allowDots>"u"?t.encodeDotInKeys?!0:St.allowDots:!!t.allowDots;return{addQueryPrefix:typeof t.addQueryPrefix=="boolean"?t.addQueryPrefix:St.addQueryPrefix,allowDots:u,allowEmptyArrays:typeof t.allowEmptyArrays=="boolean"?!!t.allowEmptyArrays:St.allowEmptyArrays,arrayFormat:a,charset:e,charsetSentinel:typeof t.charsetSentinel=="boolean"?t.charsetSentinel:St.charsetSentinel,commaRoundTrip:!!t.commaRoundTrip,delimiter:typeof t.delimiter>"u"?St.delimiter:t.delimiter,encode:typeof t.encode=="boolean"?t.encode:St.encode,encodeDotInKeys:typeof t.encodeDotInKeys=="boolean"?t.encodeDotInKeys:St.encodeDotInKeys,encoder:typeof t.encoder=="function"?t.encoder:St.encoder,encodeValuesOnly:typeof t.encodeValuesOnly=="boolean"?t.encodeValuesOnly:St.encodeValuesOnly,filter:r,format:n,formatter:i,serializeDate:typeof t.serializeDate=="function"?t.serializeDate:St.serializeDate,skipNulls:typeof t.skipNulls=="boolean"?t.skipNulls:St.skipNulls,sort:typeof t.sort=="function"?t.sort:null,strictNullHandling:typeof t.strictNullHandling=="boolean"?t.strictNullHandling:St.strictNullHandling}}function o4(t,e={}){let n=t;const i=i4(e);let r,a;typeof i.filter=="function"?(a=i.filter,n=a("",n)):en(i.filter)&&(a=i.filter,r=a);const u=[];if(typeof n!="object"||n===null)return"";const c=mN[i.arrayFormat],h=c==="comma"&&i.commaRoundTrip;r||(r=Object.keys(n)),i.sort&&r.sort(i.sort);const d=new WeakMap;for(let S=0;S<r.length;++S){const b=r[S];i.skipNulls&&n[b]===null||gN(u,vN(n[b],b,c,h,i.allowEmptyArrays,i.strictNullHandling,i.skipNulls,i.encodeDotInKeys,i.encode?i.encoder:null,i.filter,i.sort,i.allowDots,i.serializeDate,i.format,i.formatter,i.encodeValuesOnly,i.charset,d))}const m=u.join(i.delimiter);let y=i.addQueryPrefix===!0?"?":"";return i.charsetSentinel&&(i.charset==="iso-8859-1"?y+="utf8=%26%2310003%3B&":y+="utf8=%E2%9C%93&"),m.length>0?y+m:""}function r4(t){let e=0;for(const r of t)e+=r.length;const n=new Uint8Array(e);let i=0;for(const r of t)n.set(r,i),i+=r.length;return n}let MT;function Vy(t){let e;return(MT??(e=new globalThis.TextEncoder,MT=e.encode.bind(e)))(t)}let NT;function IT(t){let e;return(NT??(e=new globalThis.TextDecoder,NT=e.decode.bind(e)))(t)}var mn,gn;class mh{constructor(){mn.set(this,void 0),gn.set(this,void 0),Ce(this,mn,new Uint8Array),Ce(this,gn,null)}decode(e){if(e==null)return[];const n=e instanceof ArrayBuffer?new Uint8Array(e):typeof e=="string"?Vy(e):e;Ce(this,mn,r4([V(this,mn,"f"),n]));const i=[];let r;for(;(r=s4(V(this,mn,"f"),V(this,gn,"f")))!=null;){if(r.carriage&&V(this,gn,"f")==null){Ce(this,gn,r.index);continue}if(V(this,gn,"f")!=null&&(r.index!==V(this,gn,"f")+1||r.carriage)){i.push(IT(V(this,mn,"f").subarray(0,V(this,gn,"f")-1))),Ce(this,mn,V(this,mn,"f").subarray(V(this,gn,"f"))),Ce(this,gn,null);continue}const a=V(this,gn,"f")!==null?r.preceding-1:r.preceding,u=IT(V(this,mn,"f").subarray(0,a));i.push(u),Ce(this,mn,V(this,mn,"f").subarray(r.index)),Ce(this,gn,null)}return i}flush(){return V(this,mn,"f").length?this.decode(`
`):[]}}mn=new WeakMap,gn=new WeakMap;mh.NEWLINE_CHARS=new Set([`
`,"\r"]);mh.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function s4(t,e){for(let r=e??0;r<t.length;r++){if(t[r]===10)return{preceding:r,index:r+1,carriage:!1};if(t[r]===13)return{preceding:r,index:r+1,carriage:!0}}return null}function a4(t){for(let i=0;i<t.length-1;i++){if(t[i]===10&&t[i+1]===10||t[i]===13&&t[i+1]===13)return i+2;if(t[i]===13&&t[i+1]===10&&i+3<t.length&&t[i+2]===13&&t[i+3]===10)return i+4}return-1}const Rd={off:0,error:200,warn:300,info:400,debug:500},DT=(t,e,n)=>{if(t){if(G3(Rd,t))return t;Dt(n).warn(`${e} was set to ${JSON.stringify(t)}, expected one of ${JSON.stringify(Object.keys(Rd))}`)}};function Hl(){}function Mf(t,e,n){return!e||Rd[t]>Rd[n]?Hl:e[t].bind(e)}const l4={error:Hl,warn:Hl,info:Hl,debug:Hl};let OT=new WeakMap;function Dt(t){const e=t.logger,n=t.logLevel??"off";if(!e)return l4;const i=OT.get(e);if(i&&i[0]===n)return i[1];const r={error:Mf("error",e,n),warn:Mf("warn",e,n),info:Mf("info",e,n),debug:Mf("debug",e,n)};return OT.set(e,[n,r]),r}const Lr=t=>(t.options&&(t.options={...t.options},delete t.options.headers),t.headers&&(t.headers=Object.fromEntries((t.headers instanceof Headers?[...t.headers]:Object.entries(t.headers)).map(([e,n])=>[e,e.toLowerCase()==="authorization"||e.toLowerCase()==="cookie"||e.toLowerCase()==="set-cookie"?"***":n]))),"retryOfRequestLogID"in t&&(t.retryOfRequestLogID&&(t.retryOf=t.retryOfRequestLogID),delete t.retryOfRequestLogID),t);var Ll;class Ei{constructor(e,n,i){this.iterator=e,Ll.set(this,void 0),this.controller=n,Ce(this,Ll,i)}static fromSSEResponse(e,n,i){let r=!1;const a=i?Dt(i):console;async function*u(){if(r)throw new Se("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let c=!1;try{for await(const h of u4(e,n))if(!c){if(h.data.startsWith("[DONE]")){c=!0;continue}if(h.event===null||!h.event.startsWith("thread.")){let d;try{d=JSON.parse(h.data)}catch(m){throw a.error("Could not parse message into JSON:",h.data),a.error("From chunk:",h.raw),m}if(d&&d.error)throw new Pt(void 0,d.error,void 0,e.headers);yield d}else{let d;try{d=JSON.parse(h.data)}catch(m){throw console.error("Could not parse message into JSON:",h.data),console.error("From chunk:",h.raw),m}if(h.event=="error")throw new Pt(void 0,d.error,d.message,void 0);yield{event:h.event,data:d}}}c=!0}catch(h){if(Nv(h))return;throw h}finally{c||n.abort()}}return new Ei(u,n,i)}static fromReadableStream(e,n,i){let r=!1;async function*a(){const c=new mh,h=dN(e);for await(const d of h)for(const m of c.decode(d))yield m;for(const d of c.flush())yield d}async function*u(){if(r)throw new Se("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let c=!1;try{for await(const h of a())c||h&&(yield JSON.parse(h));c=!0}catch(h){if(Nv(h))return;throw h}finally{c||n.abort()}}return new Ei(u,n,i)}[(Ll=new WeakMap,Symbol.asyncIterator)](){return this.iterator()}tee(){const e=[],n=[],i=this.iterator(),r=a=>({next:()=>{if(a.length===0){const u=i.next();e.push(u),n.push(u)}return a.shift()}});return[new Ei(()=>r(e),this.controller,V(this,Ll,"f")),new Ei(()=>r(n),this.controller,V(this,Ll,"f"))]}toReadableStream(){const e=this;let n;return cN({async start(){n=e[Symbol.asyncIterator]()},async pull(i){try{const{value:r,done:a}=await n.next();if(a)return i.close();const u=Vy(JSON.stringify(r)+`
`);i.enqueue(u)}catch(r){i.error(r)}},async cancel(){await n.return?.()}})}}async function*u4(t,e){if(!t.body)throw e.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new Se("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new Se("Attempted to iterate over a response with no body");const n=new f4,i=new mh,r=dN(t.body);for await(const a of c4(r))for(const u of i.decode(a)){const c=n.decode(u);c&&(yield c)}for(const a of i.flush()){const u=n.decode(a);u&&(yield u)}}async function*c4(t){let e=new Uint8Array;for await(const n of t){if(n==null)continue;const i=n instanceof ArrayBuffer?new Uint8Array(n):typeof n=="string"?Vy(n):n;let r=new Uint8Array(e.length+i.length);r.set(e),r.set(i,e.length),e=r;let a;for(;(a=a4(e))!==-1;)yield e.slice(0,a),e=e.slice(a)}e.length>0&&(yield e)}class f4{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const a={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],a}if(this.chunks.push(e),e.startsWith(":"))return null;let[n,i,r]=d4(e,":");return r.startsWith(" ")&&(r=r.substring(1)),n==="event"?this.event=r:n==="data"&&this.data.push(r),null}}function d4(t,e){const n=t.indexOf(e);return n!==-1?[t.substring(0,n),e,t.substring(n+e.length)]:[t,"",""]}async function yN(t,e){const{response:n,requestLogID:i,retryOfRequestLogID:r,startTime:a}=e,u=await(async()=>{if(e.options.stream)return Dt(t).debug("response",n.status,n.url,n.headers,n.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(n,e.controller,t):Ei.fromSSEResponse(n,e.controller,t);if(n.status===204)return null;if(e.options.__binaryResponse)return n;const h=n.headers.get("content-type")?.split(";")[0]?.trim();if(h?.includes("application/json")||h?.endsWith("+json")){const y=await n.json();return _N(y,n)}return await n.text()})();return Dt(t).debug(`[${i}] response parsed`,Lr({retryOfRequestLogID:r,url:n.url,status:n.status,body:u,durationMs:Date.now()-a})),u}function _N(t,e){return!t||typeof t!="object"||Array.isArray(t)?t:Object.defineProperty(t,"_request_id",{value:e.headers.get("x-request-id"),enumerable:!1})}var Gl;class gh extends Promise{constructor(e,n,i=yN){super(r=>{r(null)}),this.responsePromise=n,this.parseResponse=i,Gl.set(this,void 0),Ce(this,Gl,e)}_thenUnwrap(e){return new gh(V(this,Gl,"f"),this.responsePromise,async(n,i)=>_N(e(await this.parseResponse(n,i),i),i.response))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:n,request_id:n.headers.get("x-request-id")}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(e=>this.parseResponse(V(this,Gl,"f"),e))),this.parsedPromise}then(e,n){return this.parse().then(e,n)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}Gl=new WeakMap;var Nf;class zy{constructor(e,n,i,r){Nf.set(this,void 0),Ce(this,Nf,e),this.options=r,this.response=n,this.body=i}hasNextPage(){return this.getPaginatedItems().length?this.nextPageRequestOptions()!=null:!1}async getNextPage(){const e=this.nextPageRequestOptions();if(!e)throw new Se("No next page expected; please check `.hasNextPage()` before calling `.getNextPage()`.");return await V(this,Nf,"f").requestAPIList(this.constructor,e)}async*iterPages(){let e=this;for(yield e;e.hasNextPage();)e=await e.getNextPage(),yield e}async*[(Nf=new WeakMap,Symbol.asyncIterator)](){for await(const e of this.iterPages())for(const n of e.getPaginatedItems())yield n}}class h4 extends gh{constructor(e,n,i){super(e,n,async(r,a)=>new i(r,a.response,await yN(r,a),a.options))}async*[Symbol.asyncIterator](){const e=await this;for await(const n of e)yield n}}class vh extends zy{constructor(e,n,i,r){super(e,n,i,r),this.data=i.data||[],this.object=i.object}getPaginatedItems(){return this.data??[]}nextPageRequestOptions(){return null}}class vt extends zy{constructor(e,n,i,r){super(e,n,i,r),this.data=i.data||[],this.has_more=i.has_more||!1}getPaginatedItems(){return this.data??[]}hasNextPage(){return this.has_more===!1?!1:super.hasNextPage()}nextPageRequestOptions(){const e=this.getPaginatedItems(),n=e[e.length-1]?.id;return n?{...this.options,query:{...uN(this.options.query),after:n}}:null}}class Md extends zy{constructor(e,n,i,r){super(e,n,i,r),this.data=i.data||[],this.has_more=i.has_more||!1,this.last_id=i.last_id||""}getPaginatedItems(){return this.data??[]}hasNextPage(){return this.has_more===!1?!1:super.hasNextPage()}nextPageRequestOptions(){const e=this.last_id;return e?{...this.options,query:{...uN(this.options.query),after:e}}:null}}const SN=()=>{if(typeof File>"u"){const{process:t}=globalThis,e=typeof t?.versions?.node=="string"&&parseInt(t.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(e?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function tu(t,e,n){return SN(),new File(t,e??"unknown_file",n)}function Qf(t){return(typeof t=="object"&&t!==null&&("name"in t&&t.name&&String(t.name)||"url"in t&&t.url&&String(t.url)||"filename"in t&&t.filename&&String(t.filename)||"path"in t&&t.path&&String(t.path))||"").split(/[\\/]/).pop()||void 0}const qy=t=>t!=null&&typeof t=="object"&&typeof t[Symbol.asyncIterator]=="function",PT=async(t,e)=>Ov(t.body)?{...t,body:await bN(t.body,e)}:t,Wr=async(t,e)=>({...t,body:await bN(t.body,e)}),kT=new WeakMap;function p4(t){const e=typeof t=="function"?t:t.fetch,n=kT.get(e);if(n)return n;const i=(async()=>{try{const r="Response"in e?e.Response:(await e("data:,")).constructor,a=new FormData;return a.toString()!==await new r(a).text()}catch{return!0}})();return kT.set(e,i),i}const bN=async(t,e)=>{if(!await p4(e))throw new TypeError("The provided fetch function does not support file uploads with the current global FormData class.");const n=new FormData;return await Promise.all(Object.entries(t||{}).map(([i,r])=>Pv(n,i,r))),n},EN=t=>t instanceof Blob&&"name"in t,m4=t=>typeof t=="object"&&t!==null&&(t instanceof Response||qy(t)||EN(t)),Ov=t=>{if(m4(t))return!0;if(Array.isArray(t))return t.some(Ov);if(t&&typeof t=="object"){for(const e in t)if(Ov(t[e]))return!0}return!1},Pv=async(t,e,n)=>{if(n!==void 0){if(n==null)throw new TypeError(`Received null for "${e}"; to pass null in FormData, you must use the string 'null'`);if(typeof n=="string"||typeof n=="number"||typeof n=="boolean")t.append(e,String(n));else if(n instanceof Response)t.append(e,tu([await n.blob()],Qf(n)));else if(qy(n))t.append(e,tu([await new Response(fN(n)).blob()],Qf(n)));else if(EN(n))t.append(e,n,Qf(n));else if(Array.isArray(n))await Promise.all(n.map(i=>Pv(t,e+"[]",i)));else if(typeof n=="object")await Promise.all(Object.entries(n).map(([i,r])=>Pv(t,`${e}[${i}]`,r)));else throw new TypeError(`Invalid value given to form, expected a string, number, boolean, object, Array, File or Blob but got ${n} instead`)}},wN=t=>t!=null&&typeof t=="object"&&typeof t.size=="number"&&typeof t.type=="string"&&typeof t.text=="function"&&typeof t.slice=="function"&&typeof t.arrayBuffer=="function",g4=t=>t!=null&&typeof t=="object"&&typeof t.name=="string"&&typeof t.lastModified=="number"&&wN(t),v4=t=>t!=null&&typeof t=="object"&&typeof t.url=="string"&&typeof t.blob=="function";async function y4(t,e,n){if(SN(),t=await t,g4(t))return t instanceof File?t:tu([await t.arrayBuffer()],t.name);if(v4(t)){const r=await t.blob();return e||(e=new URL(t.url).pathname.split(/[\\/]/).pop()),tu(await kv(r),e,n)}const i=await kv(t);if(e||(e=Qf(t)),!n?.type){const r=i.find(a=>typeof a=="object"&&"type"in a&&a.type);typeof r=="string"&&(n={...n,type:r})}return tu(i,e,n)}async function kv(t){let e=[];if(typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer)e.push(t);else if(wN(t))e.push(t instanceof Blob?t:await t.arrayBuffer());else if(qy(t))for await(const n of t)e.push(...await kv(n));else{const n=t?.constructor?.name;throw new Error(`Unexpected data type: ${typeof t}${n?`; constructor: ${n}`:""}${_4(t)}`)}return e}function _4(t){return typeof t!="object"||t===null?"":`; props: [${Object.getOwnPropertyNames(t).map(n=>`"${n}"`).join(", ")}]`}class ye{constructor(e){this._client=e}}function CN(t){return t.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const LT=Object.freeze(Object.create(null)),S4=(t=CN)=>function(n,...i){if(n.length===1)return n[0];let r=!1;const a=[],u=n.reduce((m,y,S)=>{/[?#]/.test(y)&&(r=!0);const b=i[S];let T=(r?encodeURIComponent:t)(""+b);return S!==i.length&&(b==null||typeof b=="object"&&b.toString===Object.getPrototypeOf(Object.getPrototypeOf(b.hasOwnProperty??LT)??LT)?.toString)&&(T=b+"",a.push({start:m.length+y.length,length:T.length,error:`Value of type ${Object.prototype.toString.call(b).slice(8,-1)} is not a valid path parameter`})),m+y+(S===i.length?"":T)},""),c=u.split(/[?#]/,1)[0],h=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let d;for(;(d=h.exec(c))!==null;)a.push({start:d.index,length:d[0].length,error:`Value "${d[0]}" can't be safely passed as a path parameter`});if(a.sort((m,y)=>m.start-y.start),a.length>0){let m=0;const y=a.reduce((S,b)=>{const T=" ".repeat(b.start-m),A="^".repeat(b.length);return m=b.start+b.length,S+T+A},"");throw new Se(`Path parameters result in path with invalid segments:
${a.map(S=>S.error).join(`
`)}
${u}
${y}`)}return u},oe=S4(CN);let TN=class extends ye{list(e,n={},i){return this._client.getAPIList(oe`/chat/completions/${e}/messages`,vt,{query:n,...i})}};function Nd(t){return t!==void 0&&"function"in t&&t.function!==void 0}function Jy(t){return t?.$brand==="auto-parseable-response-format"}function Uu(t){return t?.$brand==="auto-parseable-tool"}function b4(t,e){return!e||!AN(e)?{...t,choices:t.choices.map(n=>(xN(n.message.tool_calls),{...n,message:{...n.message,parsed:null,...n.message.tool_calls?{tool_calls:n.message.tool_calls}:void 0}}))}:Ky(t,e)}function Ky(t,e){const n=t.choices.map(i=>{if(i.finish_reason==="length")throw new aN;if(i.finish_reason==="content_filter")throw new lN;return xN(i.message.tool_calls),{...i,message:{...i.message,...i.message.tool_calls?{tool_calls:i.message.tool_calls?.map(r=>w4(e,r))??void 0}:void 0,parsed:i.message.content&&!i.message.refusal?E4(e,i.message.content):null}}});return{...t,choices:n}}function E4(t,e){return t.response_format?.type!=="json_schema"?null:t.response_format?.type==="json_schema"?"$parseRaw"in t.response_format?t.response_format.$parseRaw(e):JSON.parse(e):null}function w4(t,e){const n=t.tools?.find(i=>Nd(i)&&i.function?.name===e.function.name);return{...e,function:{...e.function,parsed_arguments:Uu(n)?n.$parseRaw(e.function.arguments):n?.function.strict?JSON.parse(e.function.arguments):null}}}function C4(t,e){if(!t||!("tools"in t)||!t.tools)return!1;const n=t.tools?.find(i=>Nd(i)&&i.function?.name===e.function.name);return Nd(n)&&(Uu(n)||n?.function.strict||!1)}function AN(t){return Jy(t.response_format)?!0:t.tools?.some(e=>Uu(e)||e.type==="function"&&e.function.strict===!0)??!1}function xN(t){for(const e of t||[])if(e.type!=="function")throw new Se(`Currently only \`function\` tool calls are supported; Received \`${e.type}\``)}function T4(t){for(const e of t??[]){if(e.type!=="function")throw new Se(`Currently only \`function\` tool types support auto-parsing; Received \`${e.type}\``);if(e.function.strict!==!0)throw new Se(`The \`${e.function.name}\` tool is not marked with \`strict: true\`. Only strict function tools can be auto-parsed`)}}const Id=t=>t?.role==="assistant",RN=t=>t?.role==="tool";var Lv,Zf,ed,Vl,zl,td,ql,no,Jl,Dd,Od,na,MN;class Yy{constructor(){Lv.add(this),this.controller=new AbortController,Zf.set(this,void 0),ed.set(this,()=>{}),Vl.set(this,()=>{}),zl.set(this,void 0),td.set(this,()=>{}),ql.set(this,()=>{}),no.set(this,{}),Jl.set(this,!1),Dd.set(this,!1),Od.set(this,!1),na.set(this,!1),Ce(this,Zf,new Promise((e,n)=>{Ce(this,ed,e,"f"),Ce(this,Vl,n,"f")})),Ce(this,zl,new Promise((e,n)=>{Ce(this,td,e,"f"),Ce(this,ql,n,"f")})),V(this,Zf,"f").catch(()=>{}),V(this,zl,"f").catch(()=>{})}_run(e){setTimeout(()=>{e().then(()=>{this._emitFinal(),this._emit("end")},V(this,Lv,"m",MN).bind(this))},0)}_connected(){this.ended||(V(this,ed,"f").call(this),this._emit("connect"))}get ended(){return V(this,Jl,"f")}get errored(){return V(this,Dd,"f")}get aborted(){return V(this,Od,"f")}abort(){this.controller.abort()}on(e,n){return(V(this,no,"f")[e]||(V(this,no,"f")[e]=[])).push({listener:n}),this}off(e,n){const i=V(this,no,"f")[e];if(!i)return this;const r=i.findIndex(a=>a.listener===n);return r>=0&&i.splice(r,1),this}once(e,n){return(V(this,no,"f")[e]||(V(this,no,"f")[e]=[])).push({listener:n,once:!0}),this}emitted(e){return new Promise((n,i)=>{Ce(this,na,!0),e!=="error"&&this.once("error",i),this.once(e,n)})}async done(){Ce(this,na,!0),await V(this,zl,"f")}_emit(e,...n){if(V(this,Jl,"f"))return;e==="end"&&(Ce(this,Jl,!0),V(this,td,"f").call(this));const i=V(this,no,"f")[e];if(i&&(V(this,no,"f")[e]=i.filter(r=>!r.once),i.forEach(({listener:r})=>r(...n))),e==="abort"){const r=n[0];!V(this,na,"f")&&!i?.length&&Promise.reject(r),V(this,Vl,"f").call(this,r),V(this,ql,"f").call(this,r),this._emit("end");return}if(e==="error"){const r=n[0];!V(this,na,"f")&&!i?.length&&Promise.reject(r),V(this,Vl,"f").call(this,r),V(this,ql,"f").call(this,r),this._emit("end")}}_emitFinal(){}}Zf=new WeakMap,ed=new WeakMap,Vl=new WeakMap,zl=new WeakMap,td=new WeakMap,ql=new WeakMap,no=new WeakMap,Jl=new WeakMap,Dd=new WeakMap,Od=new WeakMap,na=new WeakMap,Lv=new WeakSet,MN=function(e){if(Ce(this,Dd,!0),e instanceof Error&&e.name==="AbortError"&&(e=new $n),e instanceof $n)return Ce(this,Od,!0),this._emit("abort",e);if(e instanceof Se)return this._emit("error",e);if(e instanceof Error){const n=new Se(e.message);return n.cause=e,this._emit("error",n)}return this._emit("error",new Se(String(e)))};function A4(t){return typeof t.parse=="function"}var $t,Uv,Pd,Bv,Fv,$v,NN,IN;const x4=10;class DN extends Yy{constructor(){super(...arguments),$t.add(this),this._chatCompletions=[],this.messages=[]}_addChatCompletion(e){this._chatCompletions.push(e),this._emit("chatCompletion",e);const n=e.choices[0]?.message;return n&&this._addMessage(n),e}_addMessage(e,n=!0){if("content"in e||(e.content=null),this.messages.push(e),n){if(this._emit("message",e),RN(e)&&e.content)this._emit("functionToolCallResult",e.content);else if(Id(e)&&e.tool_calls)for(const i of e.tool_calls)i.type==="function"&&this._emit("functionToolCall",i.function)}}async finalChatCompletion(){await this.done();const e=this._chatCompletions[this._chatCompletions.length-1];if(!e)throw new Se("stream ended without producing a ChatCompletion");return e}async finalContent(){return await this.done(),V(this,$t,"m",Uv).call(this)}async finalMessage(){return await this.done(),V(this,$t,"m",Pd).call(this)}async finalFunctionToolCall(){return await this.done(),V(this,$t,"m",Bv).call(this)}async finalFunctionToolCallResult(){return await this.done(),V(this,$t,"m",Fv).call(this)}async totalUsage(){return await this.done(),V(this,$t,"m",$v).call(this)}allChatCompletions(){return[...this._chatCompletions]}_emitFinal(){const e=this._chatCompletions[this._chatCompletions.length-1];e&&this._emit("finalChatCompletion",e);const n=V(this,$t,"m",Pd).call(this);n&&this._emit("finalMessage",n);const i=V(this,$t,"m",Uv).call(this);i&&this._emit("finalContent",i);const r=V(this,$t,"m",Bv).call(this);r&&this._emit("finalFunctionToolCall",r);const a=V(this,$t,"m",Fv).call(this);a!=null&&this._emit("finalFunctionToolCallResult",a),this._chatCompletions.some(u=>u.usage)&&this._emit("totalUsage",V(this,$t,"m",$v).call(this))}async _createChatCompletion(e,n,i){const r=i?.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",()=>this.controller.abort())),V(this,$t,"m",NN).call(this,n);const a=await e.chat.completions.create({...n,stream:!1},{...i,signal:this.controller.signal});return this._connected(),this._addChatCompletion(Ky(a,n))}async _runChatCompletion(e,n,i){for(const r of n.messages)this._addMessage(r,!1);return await this._createChatCompletion(e,n,i)}async _runTools(e,n,i){const r="tool",{tool_choice:a="auto",stream:u,...c}=n,h=typeof a!="string"&&a.type==="function"&&a?.function?.name,{maxChatCompletions:d=x4}=i||{},m=n.tools.map(b=>{if(Uu(b)){if(!b.$callback)throw new Se("Tool given to `.runTools()` that does not have an associated function");return{type:"function",function:{function:b.$callback,name:b.function.name,description:b.function.description||"",parameters:b.function.parameters,parse:b.$parseRaw,strict:!0}}}return b}),y={};for(const b of m)b.type==="function"&&(y[b.function.name||b.function.function.name]=b.function);const S="tools"in n?m.map(b=>b.type==="function"?{type:"function",function:{name:b.function.name||b.function.function.name,parameters:b.function.parameters,description:b.function.description,strict:b.function.strict}}:b):void 0;for(const b of n.messages)this._addMessage(b,!1);for(let b=0;b<d;++b){const A=(await this._createChatCompletion(e,{...c,tool_choice:a,tools:S,messages:[...this.messages]},i)).choices[0]?.message;if(!A)throw new Se("missing message in ChatCompletion response");if(!A.tool_calls?.length)return;for(const x of A.tool_calls){if(x.type!=="function")continue;const M=x.id,{name:I,arguments:N}=x.function,D=y[I];if(D){if(h&&h!==I){const q=`Invalid tool_call: ${JSON.stringify(I)}. ${JSON.stringify(h)} requested. Please try again`;this._addMessage({role:r,tool_call_id:M,content:q});continue}}else{const q=`Invalid tool_call: ${JSON.stringify(I)}. Available options are: ${Object.keys(y).map(J=>JSON.stringify(J)).join(", ")}. Please try again`;this._addMessage({role:r,tool_call_id:M,content:q});continue}let L;try{L=A4(D)?await D.parse(N):N}catch(q){const J=q instanceof Error?q.message:String(q);this._addMessage({role:r,tool_call_id:M,content:J});continue}const U=await D.function(L,this),O=V(this,$t,"m",IN).call(this,U);if(this._addMessage({role:r,tool_call_id:M,content:O}),h)return}}}}$t=new WeakSet,Uv=function(){return V(this,$t,"m",Pd).call(this).content??null},Pd=function(){let e=this.messages.length;for(;e-- >0;){const n=this.messages[e];if(Id(n))return{...n,content:n.content??null,refusal:n.refusal??null}}throw new Se("stream ended without producing a ChatCompletionMessage with role=assistant")},Bv=function(){for(let e=this.messages.length-1;e>=0;e--){const n=this.messages[e];if(Id(n)&&n?.tool_calls?.length)return n.tool_calls.filter(i=>i.type==="function").at(-1)?.function}},Fv=function(){for(let e=this.messages.length-1;e>=0;e--){const n=this.messages[e];if(RN(n)&&n.content!=null&&typeof n.content=="string"&&this.messages.some(i=>i.role==="assistant"&&i.tool_calls?.some(r=>r.type==="function"&&r.id===n.tool_call_id)))return n.content}},$v=function(){const e={completion_tokens:0,prompt_tokens:0,total_tokens:0};for(const{usage:n}of this._chatCompletions)n&&(e.completion_tokens+=n.completion_tokens,e.prompt_tokens+=n.prompt_tokens,e.total_tokens+=n.total_tokens);return e},NN=function(e){if(e.n!=null&&e.n>1)throw new Se("ChatCompletion convenience helpers only support n=1 at this time. To use n>1, please use chat.completions.create() directly.")},IN=function(e){return typeof e=="string"?e:e===void 0?"undefined":JSON.stringify(e)};class jy extends DN{static runTools(e,n,i){const r=new jy,a={...i,headers:{...i?.headers,"X-Stainless-Helper-Method":"runTools"}};return r._run(()=>r._runTools(e,n,a)),r}_addMessage(e,n=!0){super._addMessage(e,n),Id(e)&&e.content&&this._emit("content",e.content)}}const ON=1,PN=2,kN=4,LN=8,UN=16,BN=32,FN=64,$N=128,HN=256,GN=$N|HN,VN=UN|BN|GN|FN,zN=ON|PN|VN,qN=kN|LN,R4=zN|qN,wt={STR:ON,NUM:PN,ARR:kN,OBJ:LN,NULL:UN,BOOL:BN,NAN:FN,INFINITY:$N,MINUS_INFINITY:HN,INF:GN,SPECIAL:VN,ATOM:zN,COLLECTION:qN,ALL:R4};class M4 extends Error{}class N4 extends Error{}function I4(t,e=wt.ALL){if(typeof t!="string")throw new TypeError(`expecting str, got ${typeof t}`);if(!t.trim())throw new Error(`${t} is empty`);return D4(t.trim(),e)}const D4=(t,e)=>{const n=t.length;let i=0;const r=S=>{throw new M4(`${S} at position ${i}`)},a=S=>{throw new N4(`${S} at position ${i}`)},u=()=>(y(),i>=n&&r("Unexpected end of input"),t[i]==='"'?c():t[i]==="{"?h():t[i]==="["?d():t.substring(i,i+4)==="null"||wt.NULL&e&&n-i<4&&"null".startsWith(t.substring(i))?(i+=4,null):t.substring(i,i+4)==="true"||wt.BOOL&e&&n-i<4&&"true".startsWith(t.substring(i))?(i+=4,!0):t.substring(i,i+5)==="false"||wt.BOOL&e&&n-i<5&&"false".startsWith(t.substring(i))?(i+=5,!1):t.substring(i,i+8)==="Infinity"||wt.INFINITY&e&&n-i<8&&"Infinity".startsWith(t.substring(i))?(i+=8,1/0):t.substring(i,i+9)==="-Infinity"||wt.MINUS_INFINITY&e&&1<n-i&&n-i<9&&"-Infinity".startsWith(t.substring(i))?(i+=9,-1/0):t.substring(i,i+3)==="NaN"||wt.NAN&e&&n-i<3&&"NaN".startsWith(t.substring(i))?(i+=3,NaN):m()),c=()=>{const S=i;let b=!1;for(i++;i<n&&(t[i]!=='"'||b&&t[i-1]==="\\");)b=t[i]==="\\"?!b:!1,i++;if(t.charAt(i)=='"')try{return JSON.parse(t.substring(S,++i-Number(b)))}catch(T){a(String(T))}else if(wt.STR&e)try{return JSON.parse(t.substring(S,i-Number(b))+'"')}catch{return JSON.parse(t.substring(S,t.lastIndexOf("\\"))+'"')}r("Unterminated string literal")},h=()=>{i++,y();const S={};try{for(;t[i]!=="}";){if(y(),i>=n&&wt.OBJ&e)return S;const b=c();y(),i++;try{const T=u();Object.defineProperty(S,b,{value:T,writable:!0,enumerable:!0,configurable:!0})}catch(T){if(wt.OBJ&e)return S;throw T}y(),t[i]===","&&i++}}catch{if(wt.OBJ&e)return S;r("Expected '}' at end of object")}return i++,S},d=()=>{i++;const S=[];try{for(;t[i]!=="]";)S.push(u()),y(),t[i]===","&&i++}catch{if(wt.ARR&e)return S;r("Expected ']' at end of array")}return i++,S},m=()=>{if(i===0){t==="-"&&wt.NUM&e&&r("Not sure what '-' is");try{return JSON.parse(t)}catch(b){if(wt.NUM&e)try{return t[t.length-1]==="."?JSON.parse(t.substring(0,t.lastIndexOf("."))):JSON.parse(t.substring(0,t.lastIndexOf("e")))}catch{}a(String(b))}}const S=i;for(t[i]==="-"&&i++;t[i]&&!",]}".includes(t[i]);)i++;i==n&&!(wt.NUM&e)&&r("Unterminated number literal");try{return JSON.parse(t.substring(S,i))}catch{t.substring(S,i)==="-"&&wt.NUM&e&&r("Not sure what '-' is");try{return JSON.parse(t.substring(S,t.lastIndexOf("e")))}catch(T){a(String(T))}}},y=()=>{for(;i<n&&` 
\r	`.includes(t[i]);)i++};return u()},UT=t=>I4(t,wt.ALL^wt.NUM);var _t,to,Ks,Yo,Rg,If,Mg,Ng,Ig,Df,Dg,BT;class fu extends DN{constructor(e){super(),_t.add(this),to.set(this,void 0),Ks.set(this,void 0),Yo.set(this,void 0),Ce(this,to,e),Ce(this,Ks,[])}get currentChatCompletionSnapshot(){return V(this,Yo,"f")}static fromReadableStream(e){const n=new fu(null);return n._run(()=>n._fromReadableStream(e)),n}static createChatCompletion(e,n,i){const r=new fu(n);return r._run(()=>r._runChatCompletion(e,{...n,stream:!0},{...i,headers:{...i?.headers,"X-Stainless-Helper-Method":"stream"}})),r}async _createChatCompletion(e,n,i){super._createChatCompletion;const r=i?.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",()=>this.controller.abort())),V(this,_t,"m",Rg).call(this);const a=await e.chat.completions.create({...n,stream:!0},{...i,signal:this.controller.signal});this._connected();for await(const u of a)V(this,_t,"m",Mg).call(this,u);if(a.controller.signal?.aborted)throw new $n;return this._addChatCompletion(V(this,_t,"m",Df).call(this))}async _fromReadableStream(e,n){const i=n?.signal;i&&(i.aborted&&this.controller.abort(),i.addEventListener("abort",()=>this.controller.abort())),V(this,_t,"m",Rg).call(this),this._connected();const r=Ei.fromReadableStream(e,this.controller);let a;for await(const u of r)a&&a!==u.id&&this._addChatCompletion(V(this,_t,"m",Df).call(this)),V(this,_t,"m",Mg).call(this,u),a=u.id;if(r.controller.signal?.aborted)throw new $n;return this._addChatCompletion(V(this,_t,"m",Df).call(this))}[(to=new WeakMap,Ks=new WeakMap,Yo=new WeakMap,_t=new WeakSet,Rg=function(){this.ended||Ce(this,Yo,void 0)},If=function(n){let i=V(this,Ks,"f")[n.index];return i||(i={content_done:!1,refusal_done:!1,logprobs_content_done:!1,logprobs_refusal_done:!1,done_tool_calls:new Set,current_tool_call_index:null},V(this,Ks,"f")[n.index]=i,i)},Mg=function(n){if(this.ended)return;const i=V(this,_t,"m",BT).call(this,n);this._emit("chunk",n,i);for(const r of n.choices){const a=i.choices[r.index];r.delta.content!=null&&a.message?.role==="assistant"&&a.message?.content&&(this._emit("content",r.delta.content,a.message.content),this._emit("content.delta",{delta:r.delta.content,snapshot:a.message.content,parsed:a.message.parsed})),r.delta.refusal!=null&&a.message?.role==="assistant"&&a.message?.refusal&&this._emit("refusal.delta",{delta:r.delta.refusal,snapshot:a.message.refusal}),r.logprobs?.content!=null&&a.message?.role==="assistant"&&this._emit("logprobs.content.delta",{content:r.logprobs?.content,snapshot:a.logprobs?.content??[]}),r.logprobs?.refusal!=null&&a.message?.role==="assistant"&&this._emit("logprobs.refusal.delta",{refusal:r.logprobs?.refusal,snapshot:a.logprobs?.refusal??[]});const u=V(this,_t,"m",If).call(this,a);a.finish_reason&&(V(this,_t,"m",Ig).call(this,a),u.current_tool_call_index!=null&&V(this,_t,"m",Ng).call(this,a,u.current_tool_call_index));for(const c of r.delta.tool_calls??[])u.current_tool_call_index!==c.index&&(V(this,_t,"m",Ig).call(this,a),u.current_tool_call_index!=null&&V(this,_t,"m",Ng).call(this,a,u.current_tool_call_index)),u.current_tool_call_index=c.index;for(const c of r.delta.tool_calls??[]){const h=a.message.tool_calls?.[c.index];h?.type&&(h?.type==="function"?this._emit("tool_calls.function.arguments.delta",{name:h.function?.name,index:c.index,arguments:h.function.arguments,parsed_arguments:h.function.parsed_arguments,arguments_delta:c.function?.arguments??""}):(h?.type,void 0))}}},Ng=function(n,i){if(V(this,_t,"m",If).call(this,n).done_tool_calls.has(i))return;const a=n.message.tool_calls?.[i];if(!a)throw new Error("no tool call snapshot");if(!a.type)throw new Error("tool call snapshot missing `type`");if(a.type==="function"){const u=V(this,to,"f")?.tools?.find(c=>Nd(c)&&c.function.name===a.function.name);this._emit("tool_calls.function.arguments.done",{name:a.function.name,index:i,arguments:a.function.arguments,parsed_arguments:Uu(u)?u.$parseRaw(a.function.arguments):u?.function.strict?JSON.parse(a.function.arguments):null})}else a.type},Ig=function(n){const i=V(this,_t,"m",If).call(this,n);if(n.message.content&&!i.content_done){i.content_done=!0;const r=V(this,_t,"m",Dg).call(this);this._emit("content.done",{content:n.message.content,parsed:r?r.$parseRaw(n.message.content):null})}n.message.refusal&&!i.refusal_done&&(i.refusal_done=!0,this._emit("refusal.done",{refusal:n.message.refusal})),n.logprobs?.content&&!i.logprobs_content_done&&(i.logprobs_content_done=!0,this._emit("logprobs.content.done",{content:n.logprobs.content})),n.logprobs?.refusal&&!i.logprobs_refusal_done&&(i.logprobs_refusal_done=!0,this._emit("logprobs.refusal.done",{refusal:n.logprobs.refusal}))},Df=function(){if(this.ended)throw new Se("stream has ended, this shouldn't happen");const n=V(this,Yo,"f");if(!n)throw new Se("request ended without sending any chunks");return Ce(this,Yo,void 0),Ce(this,Ks,[]),O4(n,V(this,to,"f"))},Dg=function(){const n=V(this,to,"f")?.response_format;return Jy(n)?n:null},BT=function(n){var i,r,a,u;let c=V(this,Yo,"f");const{choices:h,...d}=n;c?Object.assign(c,d):c=Ce(this,Yo,{...d,choices:[]});for(const{delta:m,finish_reason:y,index:S,logprobs:b=null,...T}of n.choices){let A=c.choices[S];if(A||(A=c.choices[S]={finish_reason:y,index:S,message:{},logprobs:b,...T}),b)if(!A.logprobs)A.logprobs=Object.assign({},b);else{const{content:U,refusal:O,...q}=b;Object.assign(A.logprobs,q),U&&((i=A.logprobs).content??(i.content=[]),A.logprobs.content.push(...U)),O&&((r=A.logprobs).refusal??(r.refusal=[]),A.logprobs.refusal.push(...O))}if(y&&(A.finish_reason=y,V(this,to,"f")&&AN(V(this,to,"f")))){if(y==="length")throw new aN;if(y==="content_filter")throw new lN}if(Object.assign(A,T),!m)continue;const{content:x,refusal:M,function_call:I,role:N,tool_calls:D,...L}=m;if(Object.assign(A.message,L),M&&(A.message.refusal=(A.message.refusal||"")+M),N&&(A.message.role=N),I&&(A.message.function_call?(I.name&&(A.message.function_call.name=I.name),I.arguments&&((a=A.message.function_call).arguments??(a.arguments=""),A.message.function_call.arguments+=I.arguments)):A.message.function_call=I),x&&(A.message.content=(A.message.content||"")+x,!A.message.refusal&&V(this,_t,"m",Dg).call(this)&&(A.message.parsed=UT(A.message.content))),D){A.message.tool_calls||(A.message.tool_calls=[]);for(const{index:U,id:O,type:q,function:J,...j}of D){const W=(u=A.message.tool_calls)[U]??(u[U]={});Object.assign(W,j),O&&(W.id=O),q&&(W.type=q),J&&(W.function??(W.function={name:J.name??"",arguments:""})),J?.name&&(W.function.name=J.name),J?.arguments&&(W.function.arguments+=J.arguments,C4(V(this,to,"f"),W)&&(W.function.parsed_arguments=UT(W.function.arguments)))}}}return c},Symbol.asyncIterator)](){const e=[],n=[];let i=!1;return this.on("chunk",r=>{const a=n.shift();a?a.resolve(r):e.push(r)}),this.on("end",()=>{i=!0;for(const r of n)r.resolve(void 0);n.length=0}),this.on("abort",r=>{i=!0;for(const a of n)a.reject(r);n.length=0}),this.on("error",r=>{i=!0;for(const a of n)a.reject(r);n.length=0}),{next:async()=>e.length?{value:e.shift(),done:!1}:i?{value:void 0,done:!0}:new Promise((a,u)=>n.push({resolve:a,reject:u})).then(a=>a?{value:a,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}toReadableStream(){return new Ei(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}}function O4(t,e){const{id:n,choices:i,created:r,model:a,system_fingerprint:u,...c}=t,h={...c,id:n,choices:i.map(({message:d,finish_reason:m,index:y,logprobs:S,...b})=>{if(!m)throw new Se(`missing finish_reason for choice ${y}`);const{content:T=null,function_call:A,tool_calls:x,...M}=d,I=d.role;if(!I)throw new Se(`missing role for choice ${y}`);if(A){const{arguments:N,name:D}=A;if(N==null)throw new Se(`missing function_call.arguments for choice ${y}`);if(!D)throw new Se(`missing function_call.name for choice ${y}`);return{...b,message:{content:T,function_call:{arguments:N,name:D},role:I,refusal:d.refusal??null},finish_reason:m,index:y,logprobs:S}}return x?{...b,index:y,finish_reason:m,logprobs:S,message:{...M,role:I,content:T,refusal:d.refusal??null,tool_calls:x.map((N,D)=>{const{function:L,type:U,id:O,...q}=N,{arguments:J,name:j,...W}=L||{};if(O==null)throw new Se(`missing choices[${y}].tool_calls[${D}].id
${Of(t)}`);if(U==null)throw new Se(`missing choices[${y}].tool_calls[${D}].type
${Of(t)}`);if(j==null)throw new Se(`missing choices[${y}].tool_calls[${D}].function.name
${Of(t)}`);if(J==null)throw new Se(`missing choices[${y}].tool_calls[${D}].function.arguments
${Of(t)}`);return{...q,id:O,type:U,function:{...W,name:j,arguments:J}}})}}:{...b,message:{...M,content:T,role:I,refusal:d.refusal??null},finish_reason:m,index:y,logprobs:S}}),created:r,model:a,object:"chat.completion",...u?{system_fingerprint:u}:{}};return b4(h,e)}function Of(t){return JSON.stringify(t)}class kd extends fu{static fromReadableStream(e){const n=new kd(null);return n._run(()=>n._fromReadableStream(e)),n}static runTools(e,n,i){const r=new kd(n),a={...i,headers:{...i?.headers,"X-Stainless-Helper-Method":"runTools"}};return r._run(()=>r._runTools(e,n,a)),r}}let Xy=class extends ye{constructor(){super(...arguments),this.messages=new TN(this._client)}create(e,n){return this._client.post("/chat/completions",{body:e,...n,stream:e.stream??!1})}retrieve(e,n){return this._client.get(oe`/chat/completions/${e}`,n)}update(e,n,i){return this._client.post(oe`/chat/completions/${e}`,{body:n,...i})}list(e={},n){return this._client.getAPIList("/chat/completions",vt,{query:e,...n})}delete(e,n){return this._client.delete(oe`/chat/completions/${e}`,n)}parse(e,n){return T4(e.tools),this._client.chat.completions.create(e,{...n,headers:{...n?.headers,"X-Stainless-Helper-Method":"chat.completions.parse"}})._thenUnwrap(i=>Ky(i,e))}runTools(e,n){return e.stream?kd.runTools(this._client,e,n):jy.runTools(this._client,e,n)}stream(e,n){return fu.createChatCompletion(this._client,e,n)}};Xy.Messages=TN;class Wy extends ye{constructor(){super(...arguments),this.completions=new Xy(this._client)}}Wy.Completions=Xy;const JN=Symbol("brand.privateNullableHeaders");function*P4(t){if(!t)return;if(JN in t){const{values:i,nulls:r}=t;yield*i.entries();for(const a of r)yield[a,null];return}let e=!1,n;t instanceof Headers?n=t.entries():ET(t)?n=t:(e=!0,n=Object.entries(t??{}));for(let i of n){const r=i[0];if(typeof r!="string")throw new TypeError("expected header name to be a string");const a=ET(i[1])?i[1]:[i[1]];let u=!1;for(const c of a)c!==void 0&&(e&&!u&&(u=!0,yield[r,null]),yield[r,c])}}const pe=t=>{const e=new Headers,n=new Set;for(const i of t){const r=new Set;for(const[a,u]of P4(i)){const c=a.toLowerCase();r.has(c)||(e.delete(a),r.add(c)),u===null?(e.delete(a),n.add(c)):(e.append(a,u),n.delete(c))}}return{[JN]:!0,values:e,nulls:n}};class KN extends ye{create(e,n){return this._client.post("/audio/speech",{body:e,...n,headers:pe([{Accept:"application/octet-stream"},n?.headers]),__binaryResponse:!0})}}class YN extends ye{create(e,n){return this._client.post("/audio/transcriptions",Wr({body:e,...n,stream:e.stream??!1,__metadata:{model:e.model}},this._client))}}class jN extends ye{create(e,n){return this._client.post("/audio/translations",Wr({body:e,...n,__metadata:{model:e.model}},this._client))}}class Bu extends ye{constructor(){super(...arguments),this.transcriptions=new YN(this._client),this.translations=new jN(this._client),this.speech=new KN(this._client)}}Bu.Transcriptions=YN;Bu.Translations=jN;Bu.Speech=KN;class XN extends ye{create(e,n){return this._client.post("/batches",{body:e,...n})}retrieve(e,n){return this._client.get(oe`/batches/${e}`,n)}list(e={},n){return this._client.getAPIList("/batches",vt,{query:e,...n})}cancel(e,n){return this._client.post(oe`/batches/${e}/cancel`,n)}}class WN extends ye{create(e,n){return this._client.post("/assistants",{body:e,...n,headers:pe([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}retrieve(e,n){return this._client.get(oe`/assistants/${e}`,{...n,headers:pe([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}update(e,n,i){return this._client.post(oe`/assistants/${e}`,{body:n,...i,headers:pe([{"OpenAI-Beta":"assistants=v2"},i?.headers])})}list(e={},n){return this._client.getAPIList("/assistants",vt,{query:e,...n,headers:pe([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}delete(e,n){return this._client.delete(oe`/assistants/${e}`,{...n,headers:pe([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}}let QN=class extends ye{create(e,n){return this._client.post("/realtime/sessions",{body:e,...n,headers:pe([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}};class ZN extends ye{create(e,n){return this._client.post("/realtime/transcription_sessions",{body:e,...n,headers:pe([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}}let yh=class extends ye{constructor(){super(...arguments),this.sessions=new QN(this._client),this.transcriptionSessions=new ZN(this._client)}};yh.Sessions=QN;yh.TranscriptionSessions=ZN;class eI extends ye{create(e,n){return this._client.post("/chatkit/sessions",{body:e,...n,headers:pe([{"OpenAI-Beta":"chatkit_beta=v1"},n?.headers])})}cancel(e,n){return this._client.post(oe`/chatkit/sessions/${e}/cancel`,{...n,headers:pe([{"OpenAI-Beta":"chatkit_beta=v1"},n?.headers])})}}let tI=class extends ye{retrieve(e,n){return this._client.get(oe`/chatkit/threads/${e}`,{...n,headers:pe([{"OpenAI-Beta":"chatkit_beta=v1"},n?.headers])})}list(e={},n){return this._client.getAPIList("/chatkit/threads",Md,{query:e,...n,headers:pe([{"OpenAI-Beta":"chatkit_beta=v1"},n?.headers])})}delete(e,n){return this._client.delete(oe`/chatkit/threads/${e}`,{...n,headers:pe([{"OpenAI-Beta":"chatkit_beta=v1"},n?.headers])})}listItems(e,n={},i){return this._client.getAPIList(oe`/chatkit/threads/${e}/items`,Md,{query:n,...i,headers:pe([{"OpenAI-Beta":"chatkit_beta=v1"},i?.headers])})}};class _h extends ye{constructor(){super(...arguments),this.sessions=new eI(this._client),this.threads=new tI(this._client)}}_h.Sessions=eI;_h.Threads=tI;class nI extends ye{create(e,n,i){return this._client.post(oe`/threads/${e}/messages`,{body:n,...i,headers:pe([{"OpenAI-Beta":"assistants=v2"},i?.headers])})}retrieve(e,n,i){const{thread_id:r}=n;return this._client.get(oe`/threads/${r}/messages/${e}`,{...i,headers:pe([{"OpenAI-Beta":"assistants=v2"},i?.headers])})}update(e,n,i){const{thread_id:r,...a}=n;return this._client.post(oe`/threads/${r}/messages/${e}`,{body:a,...i,headers:pe([{"OpenAI-Beta":"assistants=v2"},i?.headers])})}list(e,n={},i){return this._client.getAPIList(oe`/threads/${e}/messages`,vt,{query:n,...i,headers:pe([{"OpenAI-Beta":"assistants=v2"},i?.headers])})}delete(e,n,i){const{thread_id:r}=n;return this._client.delete(oe`/threads/${r}/messages/${e}`,{...i,headers:pe([{"OpenAI-Beta":"assistants=v2"},i?.headers])})}}class iI extends ye{retrieve(e,n,i){const{thread_id:r,run_id:a,...u}=n;return this._client.get(oe`/threads/${r}/runs/${a}/steps/${e}`,{query:u,...i,headers:pe([{"OpenAI-Beta":"assistants=v2"},i?.headers])})}list(e,n,i){const{thread_id:r,...a}=n;return this._client.getAPIList(oe`/threads/${r}/runs/${e}/steps`,vt,{query:a,...i,headers:pe([{"OpenAI-Beta":"assistants=v2"},i?.headers])})}}const k4=t=>{if(typeof Buffer<"u"){const e=Buffer.from(t,"base64");return Array.from(new Float32Array(e.buffer,e.byteOffset,e.length/Float32Array.BYTES_PER_ELEMENT))}else{const e=atob(t),n=e.length,i=new Uint8Array(n);for(let r=0;r<n;r++)i[r]=e.charCodeAt(r);return Array.from(new Float32Array(i.buffer))}};var L4={};const Ys=t=>{if(typeof globalThis.process<"u")return L4?.[t]?.trim()??void 0;if(typeof globalThis.Deno<"u")return globalThis.Deno.env?.get?.(t)?.trim()};var Ot,Fr,Hv,_i,nd,Qn,$r,la,Ur,Ld,vn,id,od,nu,Kl,Yl,FT,$T,HT,GT,VT,zT,qT;class iu extends Yy{constructor(){super(...arguments),Ot.add(this),Hv.set(this,[]),_i.set(this,{}),nd.set(this,{}),Qn.set(this,void 0),$r.set(this,void 0),la.set(this,void 0),Ur.set(this,void 0),Ld.set(this,void 0),vn.set(this,void 0),id.set(this,void 0),od.set(this,void 0),nu.set(this,void 0)}[(Hv=new WeakMap,_i=new WeakMap,nd=new WeakMap,Qn=new WeakMap,$r=new WeakMap,la=new WeakMap,Ur=new WeakMap,Ld=new WeakMap,vn=new WeakMap,id=new WeakMap,od=new WeakMap,nu=new WeakMap,Ot=new WeakSet,Symbol.asyncIterator)](){const e=[],n=[];let i=!1;return this.on("event",r=>{const a=n.shift();a?a.resolve(r):e.push(r)}),this.on("end",()=>{i=!0;for(const r of n)r.resolve(void 0);n.length=0}),this.on("abort",r=>{i=!0;for(const a of n)a.reject(r);n.length=0}),this.on("error",r=>{i=!0;for(const a of n)a.reject(r);n.length=0}),{next:async()=>e.length?{value:e.shift(),done:!1}:i?{value:void 0,done:!0}:new Promise((a,u)=>n.push({resolve:a,reject:u})).then(a=>a?{value:a,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}static fromReadableStream(e){const n=new Fr;return n._run(()=>n._fromReadableStream(e)),n}async _fromReadableStream(e,n){const i=n?.signal;i&&(i.aborted&&this.controller.abort(),i.addEventListener("abort",()=>this.controller.abort())),this._connected();const r=Ei.fromReadableStream(e,this.controller);for await(const a of r)V(this,Ot,"m",Kl).call(this,a);if(r.controller.signal?.aborted)throw new $n;return this._addRun(V(this,Ot,"m",Yl).call(this))}toReadableStream(){return new Ei(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}static createToolAssistantStream(e,n,i,r){const a=new Fr;return a._run(()=>a._runToolAssistantStream(e,n,i,{...r,headers:{...r?.headers,"X-Stainless-Helper-Method":"stream"}})),a}async _createToolAssistantStream(e,n,i,r){const a=r?.signal;a&&(a.aborted&&this.controller.abort(),a.addEventListener("abort",()=>this.controller.abort()));const u={...i,stream:!0},c=await e.submitToolOutputs(n,u,{...r,signal:this.controller.signal});this._connected();for await(const h of c)V(this,Ot,"m",Kl).call(this,h);if(c.controller.signal?.aborted)throw new $n;return this._addRun(V(this,Ot,"m",Yl).call(this))}static createThreadAssistantStream(e,n,i){const r=new Fr;return r._run(()=>r._threadAssistantStream(e,n,{...i,headers:{...i?.headers,"X-Stainless-Helper-Method":"stream"}})),r}static createAssistantStream(e,n,i,r){const a=new Fr;return a._run(()=>a._runAssistantStream(e,n,i,{...r,headers:{...r?.headers,"X-Stainless-Helper-Method":"stream"}})),a}currentEvent(){return V(this,id,"f")}currentRun(){return V(this,od,"f")}currentMessageSnapshot(){return V(this,Qn,"f")}currentRunStepSnapshot(){return V(this,nu,"f")}async finalRunSteps(){return await this.done(),Object.values(V(this,_i,"f"))}async finalMessages(){return await this.done(),Object.values(V(this,nd,"f"))}async finalRun(){if(await this.done(),!V(this,$r,"f"))throw Error("Final run was not received.");return V(this,$r,"f")}async _createThreadAssistantStream(e,n,i){const r=i?.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",()=>this.controller.abort()));const a={...n,stream:!0},u=await e.createAndRun(a,{...i,signal:this.controller.signal});this._connected();for await(const c of u)V(this,Ot,"m",Kl).call(this,c);if(u.controller.signal?.aborted)throw new $n;return this._addRun(V(this,Ot,"m",Yl).call(this))}async _createAssistantStream(e,n,i,r){const a=r?.signal;a&&(a.aborted&&this.controller.abort(),a.addEventListener("abort",()=>this.controller.abort()));const u={...i,stream:!0},c=await e.create(n,u,{...r,signal:this.controller.signal});this._connected();for await(const h of c)V(this,Ot,"m",Kl).call(this,h);if(c.controller.signal?.aborted)throw new $n;return this._addRun(V(this,Ot,"m",Yl).call(this))}static accumulateDelta(e,n){for(const[i,r]of Object.entries(n)){if(!e.hasOwnProperty(i)){e[i]=r;continue}let a=e[i];if(a==null){e[i]=r;continue}if(i==="index"||i==="type"){e[i]=r;continue}if(typeof a=="string"&&typeof r=="string")a+=r;else if(typeof a=="number"&&typeof r=="number")a+=r;else if(Tg(a)&&Tg(r))a=this.accumulateDelta(a,r);else if(Array.isArray(a)&&Array.isArray(r)){if(a.every(u=>typeof u=="string"||typeof u=="number")){a.push(...r);continue}for(const u of r){if(!Tg(u))throw new Error(`Expected array delta entry to be an object but got: ${u}`);const c=u.index;if(c==null)throw console.error(u),new Error("Expected array delta entry to have an `index` property");if(typeof c!="number")throw new Error(`Expected array delta entry \`index\` property to be a number but got ${c}`);const h=a[c];h==null?a.push(u):a[c]=this.accumulateDelta(h,u)}continue}else throw Error(`Unhandled record type: ${i}, deltaValue: ${r}, accValue: ${a}`);e[i]=a}return e}_addRun(e){return e}async _threadAssistantStream(e,n,i){return await this._createThreadAssistantStream(n,e,i)}async _runAssistantStream(e,n,i,r){return await this._createAssistantStream(n,e,i,r)}async _runToolAssistantStream(e,n,i,r){return await this._createToolAssistantStream(n,e,i,r)}}Fr=iu,Kl=function(e){if(!this.ended)switch(Ce(this,id,e),V(this,Ot,"m",HT).call(this,e),e.event){case"thread.created":break;case"thread.run.created":case"thread.run.queued":case"thread.run.in_progress":case"thread.run.requires_action":case"thread.run.completed":case"thread.run.incomplete":case"thread.run.failed":case"thread.run.cancelling":case"thread.run.cancelled":case"thread.run.expired":V(this,Ot,"m",qT).call(this,e);break;case"thread.run.step.created":case"thread.run.step.in_progress":case"thread.run.step.delta":case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":V(this,Ot,"m",$T).call(this,e);break;case"thread.message.created":case"thread.message.in_progress":case"thread.message.delta":case"thread.message.completed":case"thread.message.incomplete":V(this,Ot,"m",FT).call(this,e);break;case"error":throw new Error("Encountered an error event in event processing - errors should be processed earlier")}},Yl=function(){if(this.ended)throw new Se("stream has ended, this shouldn't happen");if(!V(this,$r,"f"))throw Error("Final run has not been received");return V(this,$r,"f")},FT=function(e){const[n,i]=V(this,Ot,"m",VT).call(this,e,V(this,Qn,"f"));Ce(this,Qn,n),V(this,nd,"f")[n.id]=n;for(const r of i){const a=n.content[r.index];a?.type=="text"&&this._emit("textCreated",a.text)}switch(e.event){case"thread.message.created":this._emit("messageCreated",e.data);break;case"thread.message.in_progress":break;case"thread.message.delta":if(this._emit("messageDelta",e.data.delta,n),e.data.delta.content)for(const r of e.data.delta.content){if(r.type=="text"&&r.text){let a=r.text,u=n.content[r.index];if(u&&u.type=="text")this._emit("textDelta",a,u.text);else throw Error("The snapshot associated with this text delta is not text or missing")}if(r.index!=V(this,la,"f")){if(V(this,Ur,"f"))switch(V(this,Ur,"f").type){case"text":this._emit("textDone",V(this,Ur,"f").text,V(this,Qn,"f"));break;case"image_file":this._emit("imageFileDone",V(this,Ur,"f").image_file,V(this,Qn,"f"));break}Ce(this,la,r.index)}Ce(this,Ur,n.content[r.index])}break;case"thread.message.completed":case"thread.message.incomplete":if(V(this,la,"f")!==void 0){const r=e.data.content[V(this,la,"f")];if(r)switch(r.type){case"image_file":this._emit("imageFileDone",r.image_file,V(this,Qn,"f"));break;case"text":this._emit("textDone",r.text,V(this,Qn,"f"));break}}V(this,Qn,"f")&&this._emit("messageDone",e.data),Ce(this,Qn,void 0)}},$T=function(e){const n=V(this,Ot,"m",GT).call(this,e);switch(Ce(this,nu,n),e.event){case"thread.run.step.created":this._emit("runStepCreated",e.data);break;case"thread.run.step.delta":const i=e.data.delta;if(i.step_details&&i.step_details.type=="tool_calls"&&i.step_details.tool_calls&&n.step_details.type=="tool_calls")for(const a of i.step_details.tool_calls)a.index==V(this,Ld,"f")?this._emit("toolCallDelta",a,n.step_details.tool_calls[a.index]):(V(this,vn,"f")&&this._emit("toolCallDone",V(this,vn,"f")),Ce(this,Ld,a.index),Ce(this,vn,n.step_details.tool_calls[a.index]),V(this,vn,"f")&&this._emit("toolCallCreated",V(this,vn,"f")));this._emit("runStepDelta",e.data.delta,n);break;case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":Ce(this,nu,void 0),e.data.step_details.type=="tool_calls"&&V(this,vn,"f")&&(this._emit("toolCallDone",V(this,vn,"f")),Ce(this,vn,void 0)),this._emit("runStepDone",e.data,n);break}},HT=function(e){V(this,Hv,"f").push(e),this._emit("event",e)},GT=function(e){switch(e.event){case"thread.run.step.created":return V(this,_i,"f")[e.data.id]=e.data,e.data;case"thread.run.step.delta":let n=V(this,_i,"f")[e.data.id];if(!n)throw Error("Received a RunStepDelta before creation of a snapshot");let i=e.data;if(i.delta){const r=Fr.accumulateDelta(n,i.delta);V(this,_i,"f")[e.data.id]=r}return V(this,_i,"f")[e.data.id];case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":case"thread.run.step.in_progress":V(this,_i,"f")[e.data.id]=e.data;break}if(V(this,_i,"f")[e.data.id])return V(this,_i,"f")[e.data.id];throw new Error("No snapshot available")},VT=function(e,n){let i=[];switch(e.event){case"thread.message.created":return[e.data,i];case"thread.message.delta":if(!n)throw Error("Received a delta with no existing snapshot (there should be one from message creation)");let r=e.data;if(r.delta.content)for(const a of r.delta.content)if(a.index in n.content){let u=n.content[a.index];n.content[a.index]=V(this,Ot,"m",zT).call(this,a,u)}else n.content[a.index]=a,i.push(a);return[n,i];case"thread.message.in_progress":case"thread.message.completed":case"thread.message.incomplete":if(n)return[n,i];throw Error("Received thread message event with no existing snapshot")}throw Error("Tried to accumulate a non-message event")},zT=function(e,n){return Fr.accumulateDelta(n,e)},qT=function(e){switch(Ce(this,od,e.data),e.event){case"thread.run.created":break;case"thread.run.queued":break;case"thread.run.in_progress":break;case"thread.run.requires_action":case"thread.run.cancelled":case"thread.run.failed":case"thread.run.completed":case"thread.run.expired":case"thread.run.incomplete":Ce(this,$r,e.data),V(this,vn,"f")&&(this._emit("toolCallDone",V(this,vn,"f")),Ce(this,vn,void 0));break}};let Qy=class extends ye{constructor(){super(...arguments),this.steps=new iI(this._client)}create(e,n,i){const{include:r,...a}=n;return this._client.post(oe`/threads/${e}/runs`,{query:{include:r},body:a,...i,headers:pe([{"OpenAI-Beta":"assistants=v2"},i?.headers]),stream:n.stream??!1})}retrieve(e,n,i){const{thread_id:r}=n;return this._client.get(oe`/threads/${r}/runs/${e}`,{...i,headers:pe([{"OpenAI-Beta":"assistants=v2"},i?.headers])})}update(e,n,i){const{thread_id:r,...a}=n;return this._client.post(oe`/threads/${r}/runs/${e}`,{body:a,...i,headers:pe([{"OpenAI-Beta":"assistants=v2"},i?.headers])})}list(e,n={},i){return this._client.getAPIList(oe`/threads/${e}/runs`,vt,{query:n,...i,headers:pe([{"OpenAI-Beta":"assistants=v2"},i?.headers])})}cancel(e,n,i){const{thread_id:r}=n;return this._client.post(oe`/threads/${r}/runs/${e}/cancel`,{...i,headers:pe([{"OpenAI-Beta":"assistants=v2"},i?.headers])})}async createAndPoll(e,n,i){const r=await this.create(e,n,i);return await this.poll(r.id,{thread_id:e},i)}createAndStream(e,n,i){return iu.createAssistantStream(e,this._client.beta.threads.runs,n,i)}async poll(e,n,i){const r=pe([i?.headers,{"X-Stainless-Poll-Helper":"true","X-Stainless-Custom-Poll-Interval":i?.pollIntervalMs?.toString()??void 0}]);for(;;){const{data:a,response:u}=await this.retrieve(e,n,{...i,headers:{...i?.headers,...r}}).withResponse();switch(a.status){case"queued":case"in_progress":case"cancelling":let c=5e3;if(i?.pollIntervalMs)c=i.pollIntervalMs;else{const h=u.headers.get("openai-poll-after-ms");if(h){const d=parseInt(h);isNaN(d)||(c=d)}}await Lu(c);break;case"requires_action":case"incomplete":case"cancelled":case"completed":case"failed":case"expired":return a}}}stream(e,n,i){return iu.createAssistantStream(e,this._client.beta.threads.runs,n,i)}submitToolOutputs(e,n,i){const{thread_id:r,...a}=n;return this._client.post(oe`/threads/${r}/runs/${e}/submit_tool_outputs`,{body:a,...i,headers:pe([{"OpenAI-Beta":"assistants=v2"},i?.headers]),stream:n.stream??!1})}async submitToolOutputsAndPoll(e,n,i){const r=await this.submitToolOutputs(e,n,i);return await this.poll(r.id,n,i)}submitToolOutputsStream(e,n,i){return iu.createToolAssistantStream(e,this._client.beta.threads.runs,n,i)}};Qy.Steps=iI;class Sh extends ye{constructor(){super(...arguments),this.runs=new Qy(this._client),this.messages=new nI(this._client)}create(e={},n){return this._client.post("/threads",{body:e,...n,headers:pe([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}retrieve(e,n){return this._client.get(oe`/threads/${e}`,{...n,headers:pe([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}update(e,n,i){return this._client.post(oe`/threads/${e}`,{body:n,...i,headers:pe([{"OpenAI-Beta":"assistants=v2"},i?.headers])})}delete(e,n){return this._client.delete(oe`/threads/${e}`,{...n,headers:pe([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}createAndRun(e,n){return this._client.post("/threads/runs",{body:e,...n,headers:pe([{"OpenAI-Beta":"assistants=v2"},n?.headers]),stream:e.stream??!1})}async createAndRunPoll(e,n){const i=await this.createAndRun(e,n);return await this.runs.poll(i.id,{thread_id:i.thread_id},n)}createAndRunStream(e,n){return iu.createThreadAssistantStream(e,this._client.beta.threads,n)}}Sh.Runs=Qy;Sh.Messages=nI;class Ia extends ye{constructor(){super(...arguments),this.realtime=new yh(this._client),this.chatkit=new _h(this._client),this.assistants=new WN(this._client),this.threads=new Sh(this._client)}}Ia.Realtime=yh;Ia.ChatKit=_h;Ia.Assistants=WN;Ia.Threads=Sh;class oI extends ye{create(e,n){return this._client.post("/completions",{body:e,...n,stream:e.stream??!1})}}let rI=class extends ye{retrieve(e,n,i){const{container_id:r}=n;return this._client.get(oe`/containers/${r}/files/${e}/content`,{...i,headers:pe([{Accept:"application/binary"},i?.headers]),__binaryResponse:!0})}},Zy=class extends ye{constructor(){super(...arguments),this.content=new rI(this._client)}create(e,n,i){return this._client.post(oe`/containers/${e}/files`,Wr({body:n,...i},this._client))}retrieve(e,n,i){const{container_id:r}=n;return this._client.get(oe`/containers/${r}/files/${e}`,i)}list(e,n={},i){return this._client.getAPIList(oe`/containers/${e}/files`,vt,{query:n,...i})}delete(e,n,i){const{container_id:r}=n;return this._client.delete(oe`/containers/${r}/files/${e}`,{...i,headers:pe([{Accept:"*/*"},i?.headers])})}};Zy.Content=rI;class e_ extends ye{constructor(){super(...arguments),this.files=new Zy(this._client)}create(e,n){return this._client.post("/containers",{body:e,...n})}retrieve(e,n){return this._client.get(oe`/containers/${e}`,n)}list(e={},n){return this._client.getAPIList("/containers",vt,{query:e,...n})}delete(e,n){return this._client.delete(oe`/containers/${e}`,{...n,headers:pe([{Accept:"*/*"},n?.headers])})}}e_.Files=Zy;class sI extends ye{create(e,n,i){const{include:r,...a}=n;return this._client.post(oe`/conversations/${e}/items`,{query:{include:r},body:a,...i})}retrieve(e,n,i){const{conversation_id:r,...a}=n;return this._client.get(oe`/conversations/${r}/items/${e}`,{query:a,...i})}list(e,n={},i){return this._client.getAPIList(oe`/conversations/${e}/items`,Md,{query:n,...i})}delete(e,n,i){const{conversation_id:r}=n;return this._client.delete(oe`/conversations/${r}/items/${e}`,i)}}class t_ extends ye{constructor(){super(...arguments),this.items=new sI(this._client)}create(e={},n){return this._client.post("/conversations",{body:e,...n})}retrieve(e,n){return this._client.get(oe`/conversations/${e}`,n)}update(e,n,i){return this._client.post(oe`/conversations/${e}`,{body:n,...i})}delete(e,n){return this._client.delete(oe`/conversations/${e}`,n)}}t_.Items=sI;class aI extends ye{create(e,n){const i=!!e.encoding_format;let r=i?e.encoding_format:"base64";i&&Dt(this._client).debug("embeddings/user defined encoding_format:",e.encoding_format);const a=this._client.post("/embeddings",{body:{...e,encoding_format:r},...n});return i?a:(Dt(this._client).debug("embeddings/decoding base64 embeddings from base64"),a._thenUnwrap(u=>(u&&u.data&&u.data.forEach(c=>{const h=c.embedding;c.embedding=k4(h)}),u)))}}class lI extends ye{retrieve(e,n,i){const{eval_id:r,run_id:a}=n;return this._client.get(oe`/evals/${r}/runs/${a}/output_items/${e}`,i)}list(e,n,i){const{eval_id:r,...a}=n;return this._client.getAPIList(oe`/evals/${r}/runs/${e}/output_items`,vt,{query:a,...i})}}class n_ extends ye{constructor(){super(...arguments),this.outputItems=new lI(this._client)}create(e,n,i){return this._client.post(oe`/evals/${e}/runs`,{body:n,...i})}retrieve(e,n,i){const{eval_id:r}=n;return this._client.get(oe`/evals/${r}/runs/${e}`,i)}list(e,n={},i){return this._client.getAPIList(oe`/evals/${e}/runs`,vt,{query:n,...i})}delete(e,n,i){const{eval_id:r}=n;return this._client.delete(oe`/evals/${r}/runs/${e}`,i)}cancel(e,n,i){const{eval_id:r}=n;return this._client.post(oe`/evals/${r}/runs/${e}`,i)}}n_.OutputItems=lI;class i_ extends ye{constructor(){super(...arguments),this.runs=new n_(this._client)}create(e,n){return this._client.post("/evals",{body:e,...n})}retrieve(e,n){return this._client.get(oe`/evals/${e}`,n)}update(e,n,i){return this._client.post(oe`/evals/${e}`,{body:n,...i})}list(e={},n){return this._client.getAPIList("/evals",vt,{query:e,...n})}delete(e,n){return this._client.delete(oe`/evals/${e}`,n)}}i_.Runs=n_;let uI=class extends ye{create(e,n){return this._client.post("/files",Wr({body:e,...n},this._client))}retrieve(e,n){return this._client.get(oe`/files/${e}`,n)}list(e={},n){return this._client.getAPIList("/files",vt,{query:e,...n})}delete(e,n){return this._client.delete(oe`/files/${e}`,n)}content(e,n){return this._client.get(oe`/files/${e}/content`,{...n,headers:pe([{Accept:"application/binary"},n?.headers]),__binaryResponse:!0})}async waitForProcessing(e,{pollInterval:n=5e3,maxWait:i=1800*1e3}={}){const r=new Set(["processed","error","deleted"]),a=Date.now();let u=await this.retrieve(e);for(;!u.status||!r.has(u.status);)if(await Lu(n),u=await this.retrieve(e),Date.now()-a>i)throw new Gy({message:`Giving up on waiting for file ${e} to finish processing after ${i} milliseconds.`});return u}};class cI extends ye{}let fI=class extends ye{run(e,n){return this._client.post("/fine_tuning/alpha/graders/run",{body:e,...n})}validate(e,n){return this._client.post("/fine_tuning/alpha/graders/validate",{body:e,...n})}};class o_ extends ye{constructor(){super(...arguments),this.graders=new fI(this._client)}}o_.Graders=fI;class dI extends ye{create(e,n,i){return this._client.getAPIList(oe`/fine_tuning/checkpoints/${e}/permissions`,vh,{body:n,method:"post",...i})}retrieve(e,n={},i){return this._client.get(oe`/fine_tuning/checkpoints/${e}/permissions`,{query:n,...i})}delete(e,n,i){const{fine_tuned_model_checkpoint:r}=n;return this._client.delete(oe`/fine_tuning/checkpoints/${r}/permissions/${e}`,i)}}let r_=class extends ye{constructor(){super(...arguments),this.permissions=new dI(this._client)}};r_.Permissions=dI;class hI extends ye{list(e,n={},i){return this._client.getAPIList(oe`/fine_tuning/jobs/${e}/checkpoints`,vt,{query:n,...i})}}class s_ extends ye{constructor(){super(...arguments),this.checkpoints=new hI(this._client)}create(e,n){return this._client.post("/fine_tuning/jobs",{body:e,...n})}retrieve(e,n){return this._client.get(oe`/fine_tuning/jobs/${e}`,n)}list(e={},n){return this._client.getAPIList("/fine_tuning/jobs",vt,{query:e,...n})}cancel(e,n){return this._client.post(oe`/fine_tuning/jobs/${e}/cancel`,n)}listEvents(e,n={},i){return this._client.getAPIList(oe`/fine_tuning/jobs/${e}/events`,vt,{query:n,...i})}pause(e,n){return this._client.post(oe`/fine_tuning/jobs/${e}/pause`,n)}resume(e,n){return this._client.post(oe`/fine_tuning/jobs/${e}/resume`,n)}}s_.Checkpoints=hI;class Da extends ye{constructor(){super(...arguments),this.methods=new cI(this._client),this.jobs=new s_(this._client),this.checkpoints=new r_(this._client),this.alpha=new o_(this._client)}}Da.Methods=cI;Da.Jobs=s_;Da.Checkpoints=r_;Da.Alpha=o_;class pI extends ye{}class a_ extends ye{constructor(){super(...arguments),this.graderModels=new pI(this._client)}}a_.GraderModels=pI;class mI extends ye{createVariation(e,n){return this._client.post("/images/variations",Wr({body:e,...n},this._client))}edit(e,n){return this._client.post("/images/edits",Wr({body:e,...n,stream:e.stream??!1},this._client))}generate(e,n){return this._client.post("/images/generations",{body:e,...n,stream:e.stream??!1})}}class gI extends ye{retrieve(e,n){return this._client.get(oe`/models/${e}`,n)}list(e){return this._client.getAPIList("/models",vh,e)}delete(e,n){return this._client.delete(oe`/models/${e}`,n)}}class vI extends ye{create(e,n){return this._client.post("/moderations",{body:e,...n})}}class yI extends ye{accept(e,n,i){return this._client.post(oe`/realtime/calls/${e}/accept`,{body:n,...i,headers:pe([{Accept:"*/*"},i?.headers])})}hangup(e,n){return this._client.post(oe`/realtime/calls/${e}/hangup`,{...n,headers:pe([{Accept:"*/*"},n?.headers])})}refer(e,n,i){return this._client.post(oe`/realtime/calls/${e}/refer`,{body:n,...i,headers:pe([{Accept:"*/*"},i?.headers])})}reject(e,n={},i){return this._client.post(oe`/realtime/calls/${e}/reject`,{body:n,...i,headers:pe([{Accept:"*/*"},i?.headers])})}}class _I extends ye{create(e,n){return this._client.post("/realtime/client_secrets",{body:e,...n})}}class bh extends ye{constructor(){super(...arguments),this.clientSecrets=new _I(this._client),this.calls=new yI(this._client)}}bh.ClientSecrets=_I;bh.Calls=yI;function U4(t,e){return!e||!F4(e)?{...t,output_parsed:null,output:t.output.map(n=>n.type==="function_call"?{...n,parsed_arguments:null}:n.type==="message"?{...n,content:n.content.map(i=>({...i,parsed:null}))}:n)}:SI(t,e)}function SI(t,e){const n=t.output.map(r=>{if(r.type==="function_call")return{...r,parsed_arguments:G4(e,r)};if(r.type==="message"){const a=r.content.map(u=>u.type==="output_text"?{...u,parsed:B4(e,u.text)}:u);return{...r,content:a}}return r}),i=Object.assign({},t,{output:n});return Object.getOwnPropertyDescriptor(t,"output_text")||Gv(i),Object.defineProperty(i,"output_parsed",{enumerable:!0,get(){for(const r of i.output)if(r.type==="message"){for(const a of r.content)if(a.type==="output_text"&&a.parsed!==null)return a.parsed}return null}}),i}function B4(t,e){return t.text?.format?.type!=="json_schema"?null:"$parseRaw"in t.text?.format?(t.text?.format).$parseRaw(e):JSON.parse(e)}function F4(t){return!!Jy(t.text?.format)}function $4(t){return t?.$brand==="auto-parseable-tool"}function H4(t,e){return t.find(n=>n.type==="function"&&n.name===e)}function G4(t,e){const n=H4(t.tools??[],e.name);return{...e,...e,parsed_arguments:$4(n)?n.$parseRaw(e.arguments):n?.strict?JSON.parse(e.arguments):null}}function Gv(t){const e=[];for(const n of t.output)if(n.type==="message")for(const i of n.content)i.type==="output_text"&&e.push(i.text);t.output_text=e.join("")}var js,Pf,jo,kf,JT,KT,YT,jT;class l_ extends Yy{constructor(e){super(),js.add(this),Pf.set(this,void 0),jo.set(this,void 0),kf.set(this,void 0),Ce(this,Pf,e)}static createResponse(e,n,i){const r=new l_(n);return r._run(()=>r._createOrRetrieveResponse(e,n,{...i,headers:{...i?.headers,"X-Stainless-Helper-Method":"stream"}})),r}async _createOrRetrieveResponse(e,n,i){const r=i?.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",()=>this.controller.abort())),V(this,js,"m",JT).call(this);let a,u=null;"response_id"in n?(a=await e.responses.retrieve(n.response_id,{stream:!0},{...i,signal:this.controller.signal,stream:!0}),u=n.starting_after??null):a=await e.responses.create({...n,stream:!0},{...i,signal:this.controller.signal}),this._connected();for await(const c of a)V(this,js,"m",KT).call(this,c,u);if(a.controller.signal?.aborted)throw new $n;return V(this,js,"m",YT).call(this)}[(Pf=new WeakMap,jo=new WeakMap,kf=new WeakMap,js=new WeakSet,JT=function(){this.ended||Ce(this,jo,void 0)},KT=function(n,i){if(this.ended)return;const r=(u,c)=>{(i==null||c.sequence_number>i)&&this._emit(u,c)},a=V(this,js,"m",jT).call(this,n);switch(r("event",n),n.type){case"response.output_text.delta":{const u=a.output[n.output_index];if(!u)throw new Se(`missing output at index ${n.output_index}`);if(u.type==="message"){const c=u.content[n.content_index];if(!c)throw new Se(`missing content at index ${n.content_index}`);if(c.type!=="output_text")throw new Se(`expected content to be 'output_text', got ${c.type}`);r("response.output_text.delta",{...n,snapshot:c.text})}break}case"response.function_call_arguments.delta":{const u=a.output[n.output_index];if(!u)throw new Se(`missing output at index ${n.output_index}`);u.type==="function_call"&&r("response.function_call_arguments.delta",{...n,snapshot:u.arguments});break}default:r(n.type,n);break}},YT=function(){if(this.ended)throw new Se("stream has ended, this shouldn't happen");const n=V(this,jo,"f");if(!n)throw new Se("request ended without sending any events");Ce(this,jo,void 0);const i=V4(n,V(this,Pf,"f"));return Ce(this,kf,i),i},jT=function(n){let i=V(this,jo,"f");if(!i){if(n.type!=="response.created")throw new Se(`When snapshot hasn't been set yet, expected 'response.created' event, got ${n.type}`);return i=Ce(this,jo,n.response),i}switch(n.type){case"response.output_item.added":{i.output.push(n.item);break}case"response.content_part.added":{const r=i.output[n.output_index];if(!r)throw new Se(`missing output at index ${n.output_index}`);const a=r.type,u=n.part;a==="message"&&u.type!=="reasoning_text"?r.content.push(u):a==="reasoning"&&u.type==="reasoning_text"&&(r.content||(r.content=[]),r.content.push(u));break}case"response.output_text.delta":{const r=i.output[n.output_index];if(!r)throw new Se(`missing output at index ${n.output_index}`);if(r.type==="message"){const a=r.content[n.content_index];if(!a)throw new Se(`missing content at index ${n.content_index}`);if(a.type!=="output_text")throw new Se(`expected content to be 'output_text', got ${a.type}`);a.text+=n.delta}break}case"response.function_call_arguments.delta":{const r=i.output[n.output_index];if(!r)throw new Se(`missing output at index ${n.output_index}`);r.type==="function_call"&&(r.arguments+=n.delta);break}case"response.reasoning_text.delta":{const r=i.output[n.output_index];if(!r)throw new Se(`missing output at index ${n.output_index}`);if(r.type==="reasoning"){const a=r.content?.[n.content_index];if(!a)throw new Se(`missing content at index ${n.content_index}`);if(a.type!=="reasoning_text")throw new Se(`expected content to be 'reasoning_text', got ${a.type}`);a.text+=n.delta}break}case"response.completed":{Ce(this,jo,n.response);break}}return i},Symbol.asyncIterator)](){const e=[],n=[];let i=!1;return this.on("event",r=>{const a=n.shift();a?a.resolve(r):e.push(r)}),this.on("end",()=>{i=!0;for(const r of n)r.resolve(void 0);n.length=0}),this.on("abort",r=>{i=!0;for(const a of n)a.reject(r);n.length=0}),this.on("error",r=>{i=!0;for(const a of n)a.reject(r);n.length=0}),{next:async()=>e.length?{value:e.shift(),done:!1}:i?{value:void 0,done:!0}:new Promise((a,u)=>n.push({resolve:a,reject:u})).then(a=>a?{value:a,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}async finalResponse(){await this.done();const e=V(this,kf,"f");if(!e)throw new Se("stream ended without producing a ChatCompletion");return e}}function V4(t,e){return U4(t,e)}class bI extends ye{list(e,n={},i){return this._client.getAPIList(oe`/responses/${e}/input_items`,vt,{query:n,...i})}}class EI extends ye{count(e={},n){return this._client.post("/responses/input_tokens",{body:e,...n})}}class Eh extends ye{constructor(){super(...arguments),this.inputItems=new bI(this._client),this.inputTokens=new EI(this._client)}create(e,n){return this._client.post("/responses",{body:e,...n,stream:e.stream??!1})._thenUnwrap(i=>("object"in i&&i.object==="response"&&Gv(i),i))}retrieve(e,n={},i){return this._client.get(oe`/responses/${e}`,{query:n,...i,stream:n?.stream??!1})._thenUnwrap(r=>("object"in r&&r.object==="response"&&Gv(r),r))}delete(e,n){return this._client.delete(oe`/responses/${e}`,{...n,headers:pe([{Accept:"*/*"},n?.headers])})}parse(e,n){return this._client.responses.create(e,n)._thenUnwrap(i=>SI(i,e))}stream(e,n){return l_.createResponse(this._client,e,n)}cancel(e,n){return this._client.post(oe`/responses/${e}/cancel`,n)}compact(e={},n){return this._client.post("/responses/compact",{body:e,...n})}}Eh.InputItems=bI;Eh.InputTokens=EI;class wI extends ye{create(e,n,i){return this._client.post(oe`/uploads/${e}/parts`,Wr({body:n,...i},this._client))}}class u_ extends ye{constructor(){super(...arguments),this.parts=new wI(this._client)}create(e,n){return this._client.post("/uploads",{body:e,...n})}cancel(e,n){return this._client.post(oe`/uploads/${e}/cancel`,n)}complete(e,n,i){return this._client.post(oe`/uploads/${e}/complete`,{body:n,...i})}}u_.Parts=wI;const z4=async t=>{const e=await Promise.allSettled(t),n=e.filter(r=>r.status==="rejected");if(n.length){for(const r of n)console.error(r.reason);throw new Error(`${n.length} promise(s) failed - see the above errors`)}const i=[];for(const r of e)r.status==="fulfilled"&&i.push(r.value);return i};class CI extends ye{create(e,n,i){return this._client.post(oe`/vector_stores/${e}/file_batches`,{body:n,...i,headers:pe([{"OpenAI-Beta":"assistants=v2"},i?.headers])})}retrieve(e,n,i){const{vector_store_id:r}=n;return this._client.get(oe`/vector_stores/${r}/file_batches/${e}`,{...i,headers:pe([{"OpenAI-Beta":"assistants=v2"},i?.headers])})}cancel(e,n,i){const{vector_store_id:r}=n;return this._client.post(oe`/vector_stores/${r}/file_batches/${e}/cancel`,{...i,headers:pe([{"OpenAI-Beta":"assistants=v2"},i?.headers])})}async createAndPoll(e,n,i){const r=await this.create(e,n);return await this.poll(e,r.id,i)}listFiles(e,n,i){const{vector_store_id:r,...a}=n;return this._client.getAPIList(oe`/vector_stores/${r}/file_batches/${e}/files`,vt,{query:a,...i,headers:pe([{"OpenAI-Beta":"assistants=v2"},i?.headers])})}async poll(e,n,i){const r=pe([i?.headers,{"X-Stainless-Poll-Helper":"true","X-Stainless-Custom-Poll-Interval":i?.pollIntervalMs?.toString()??void 0}]);for(;;){const{data:a,response:u}=await this.retrieve(n,{vector_store_id:e},{...i,headers:r}).withResponse();switch(a.status){case"in_progress":let c=5e3;if(i?.pollIntervalMs)c=i.pollIntervalMs;else{const h=u.headers.get("openai-poll-after-ms");if(h){const d=parseInt(h);isNaN(d)||(c=d)}}await Lu(c);break;case"failed":case"cancelled":case"completed":return a}}}async uploadAndPoll(e,{files:n,fileIds:i=[]},r){if(n==null||n.length==0)throw new Error("No `files` provided to process. If you've already uploaded files you should use `.createAndPoll()` instead");const a=r?.maxConcurrency??5,u=Math.min(a,n.length),c=this._client,h=n.values(),d=[...i];async function m(S){for(let b of S){const T=await c.files.create({file:b,purpose:"assistants"},r);d.push(T.id)}}const y=Array(u).fill(h).map(m);return await z4(y),await this.createAndPoll(e,{file_ids:d})}}class TI extends ye{create(e,n,i){return this._client.post(oe`/vector_stores/${e}/files`,{body:n,...i,headers:pe([{"OpenAI-Beta":"assistants=v2"},i?.headers])})}retrieve(e,n,i){const{vector_store_id:r}=n;return this._client.get(oe`/vector_stores/${r}/files/${e}`,{...i,headers:pe([{"OpenAI-Beta":"assistants=v2"},i?.headers])})}update(e,n,i){const{vector_store_id:r,...a}=n;return this._client.post(oe`/vector_stores/${r}/files/${e}`,{body:a,...i,headers:pe([{"OpenAI-Beta":"assistants=v2"},i?.headers])})}list(e,n={},i){return this._client.getAPIList(oe`/vector_stores/${e}/files`,vt,{query:n,...i,headers:pe([{"OpenAI-Beta":"assistants=v2"},i?.headers])})}delete(e,n,i){const{vector_store_id:r}=n;return this._client.delete(oe`/vector_stores/${r}/files/${e}`,{...i,headers:pe([{"OpenAI-Beta":"assistants=v2"},i?.headers])})}async createAndPoll(e,n,i){const r=await this.create(e,n,i);return await this.poll(e,r.id,i)}async poll(e,n,i){const r=pe([i?.headers,{"X-Stainless-Poll-Helper":"true","X-Stainless-Custom-Poll-Interval":i?.pollIntervalMs?.toString()??void 0}]);for(;;){const a=await this.retrieve(n,{vector_store_id:e},{...i,headers:r}).withResponse(),u=a.data;switch(u.status){case"in_progress":let c=5e3;if(i?.pollIntervalMs)c=i.pollIntervalMs;else{const h=a.response.headers.get("openai-poll-after-ms");if(h){const d=parseInt(h);isNaN(d)||(c=d)}}await Lu(c);break;case"failed":case"completed":return u}}}async upload(e,n,i){const r=await this._client.files.create({file:n,purpose:"assistants"},i);return this.create(e,{file_id:r.id},i)}async uploadAndPoll(e,n,i){const r=await this.upload(e,n,i);return await this.poll(e,r.id,i)}content(e,n,i){const{vector_store_id:r}=n;return this._client.getAPIList(oe`/vector_stores/${r}/files/${e}/content`,vh,{...i,headers:pe([{"OpenAI-Beta":"assistants=v2"},i?.headers])})}}class wh extends ye{constructor(){super(...arguments),this.files=new TI(this._client),this.fileBatches=new CI(this._client)}create(e,n){return this._client.post("/vector_stores",{body:e,...n,headers:pe([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}retrieve(e,n){return this._client.get(oe`/vector_stores/${e}`,{...n,headers:pe([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}update(e,n,i){return this._client.post(oe`/vector_stores/${e}`,{body:n,...i,headers:pe([{"OpenAI-Beta":"assistants=v2"},i?.headers])})}list(e={},n){return this._client.getAPIList("/vector_stores",vt,{query:e,...n,headers:pe([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}delete(e,n){return this._client.delete(oe`/vector_stores/${e}`,{...n,headers:pe([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}search(e,n,i){return this._client.getAPIList(oe`/vector_stores/${e}/search`,vh,{body:n,method:"post",...i,headers:pe([{"OpenAI-Beta":"assistants=v2"},i?.headers])})}}wh.Files=TI;wh.FileBatches=CI;class AI extends ye{create(e,n){return this._client.post("/videos",PT({body:e,...n},this._client))}retrieve(e,n){return this._client.get(oe`/videos/${e}`,n)}list(e={},n){return this._client.getAPIList("/videos",Md,{query:e,...n})}delete(e,n){return this._client.delete(oe`/videos/${e}`,n)}downloadContent(e,n={},i){return this._client.get(oe`/videos/${e}/content`,{query:n,...i,headers:pe([{Accept:"application/binary"},i?.headers]),__binaryResponse:!0})}remix(e,n,i){return this._client.post(oe`/videos/${e}/remix`,PT({body:n,...i},this._client))}}var ia,xI,rd;class RI extends ye{constructor(){super(...arguments),ia.add(this)}async unwrap(e,n,i=this._client.webhookSecret,r=300){return await this.verifySignature(e,n,i,r),JSON.parse(e)}async verifySignature(e,n,i=this._client.webhookSecret,r=300){if(typeof crypto>"u"||typeof crypto.subtle.importKey!="function"||typeof crypto.subtle.verify!="function")throw new Error("Webhook signature verification is only supported when the `crypto` global is defined");V(this,ia,"m",xI).call(this,i);const a=pe([n]).values,u=V(this,ia,"m",rd).call(this,a,"webhook-signature"),c=V(this,ia,"m",rd).call(this,a,"webhook-timestamp"),h=V(this,ia,"m",rd).call(this,a,"webhook-id"),d=parseInt(c,10);if(isNaN(d))throw new $l("Invalid webhook timestamp format");const m=Math.floor(Date.now()/1e3);if(m-d>r)throw new $l("Webhook timestamp is too old");if(d>m+r)throw new $l("Webhook timestamp is too new");const y=u.split(" ").map(A=>A.startsWith("v1,")?A.substring(3):A),S=i.startsWith("whsec_")?Buffer.from(i.replace("whsec_",""),"base64"):Buffer.from(i,"utf-8"),b=h?`${h}.${c}.${e}`:`${c}.${e}`,T=await crypto.subtle.importKey("raw",S,{name:"HMAC",hash:"SHA-256"},!1,["verify"]);for(const A of y)try{const x=Buffer.from(A,"base64");if(await crypto.subtle.verify("HMAC",T,x,new TextEncoder().encode(b)))return}catch{continue}throw new $l("The given webhook signature does not match the expected signature")}}ia=new WeakSet,xI=function(e){if(typeof e!="string"||e.length===0)throw new Error("The webhook secret must either be set using the env var, OPENAI_WEBHOOK_SECRET, on the client class, OpenAI({ webhookSecret: '123' }), or passed to this function")},rd=function(e,n){if(!e)throw new Error("Headers are required");const i=e.get(n);if(i==null)throw new Error(`Missing required header: ${n}`);return i};var Vv,c_,sd,MI;class Ie{constructor({baseURL:e=Ys("OPENAI_BASE_URL"),apiKey:n=Ys("OPENAI_API_KEY"),organization:i=Ys("OPENAI_ORG_ID")??null,project:r=Ys("OPENAI_PROJECT_ID")??null,webhookSecret:a=Ys("OPENAI_WEBHOOK_SECRET")??null,...u}={}){if(Vv.add(this),sd.set(this,void 0),this.completions=new oI(this),this.chat=new Wy(this),this.embeddings=new aI(this),this.files=new uI(this),this.images=new mI(this),this.audio=new Bu(this),this.moderations=new vI(this),this.models=new gI(this),this.fineTuning=new Da(this),this.graders=new a_(this),this.vectorStores=new wh(this),this.webhooks=new RI(this),this.beta=new Ia(this),this.batches=new XN(this),this.uploads=new u_(this),this.responses=new Eh(this),this.realtime=new bh(this),this.conversations=new t_(this),this.evals=new i_(this),this.containers=new e_(this),this.videos=new AI(this),n===void 0)throw new Se("Missing credentials. Please pass an `apiKey`, or set the `OPENAI_API_KEY` environment variable.");const c={apiKey:n,organization:i,project:r,webhookSecret:a,...u,baseURL:e||"https://api.openai.com/v1"};if(!c.dangerouslyAllowBrowser&&q3())throw new Se(`It looks like you're running in a browser-like environment.

This is disabled by default, as it risks exposing your secret API credentials to attackers.
If you understand the risks and have appropriate mitigations in place,
you can set the \`dangerouslyAllowBrowser\` option to \`true\`, e.g.,

new OpenAI({ apiKey, dangerouslyAllowBrowser: true });

https://help.openai.com/en/articles/5112595-best-practices-for-api-key-safety
`);this.baseURL=c.baseURL,this.timeout=c.timeout??c_.DEFAULT_TIMEOUT,this.logger=c.logger??console;const h="warn";this.logLevel=h,this.logLevel=DT(c.logLevel,"ClientOptions.logLevel",this)??DT(Ys("OPENAI_LOG"),"process.env['OPENAI_LOG']",this)??h,this.fetchOptions=c.fetchOptions,this.maxRetries=c.maxRetries??2,this.fetch=c.fetch??X3(),Ce(this,sd,Q3),this._options=c,this.apiKey=typeof n=="string"?n:"Missing Key",this.organization=i,this.project=r,this.webhookSecret=a}withOptions(e){return new this.constructor({...this._options,baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,organization:this.organization,project:this.project,webhookSecret:this.webhookSecret,...e})}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:e,nulls:n}){}async authHeaders(e){return pe([{Authorization:`Bearer ${this.apiKey}`}])}stringifyQuery(e){return o4(e,{arrayFormat:"brackets"})}getUserAgent(){return`${this.constructor.name}/JS ${ta}`}defaultIdempotencyKey(){return`stainless-node-retry-${QM()}`}makeStatusError(e,n,i,r){return Pt.generate(e,n,i,r)}async _callApiKey(){const e=this._options.apiKey;if(typeof e!="function")return!1;let n;try{n=await e()}catch(i){throw i instanceof Se?i:new Se(`Failed to get token from 'apiKey' function: ${i.message}`,{cause:i})}if(typeof n!="string"||!n)throw new Se(`Expected 'apiKey' function argument to return a string but it returned ${n}`);return this.apiKey=n,!0}buildURL(e,n,i){const r=!V(this,Vv,"m",MI).call(this)&&i||this.baseURL,a=$3(e)?new URL(e):new URL(r+(r.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),u=this.defaultQuery();return H3(u)||(n={...u,...n}),typeof n=="object"&&n&&!Array.isArray(n)&&(a.search=this.stringifyQuery(n)),a.toString()}async prepareOptions(e){await this._callApiKey()}async prepareRequest(e,{url:n,options:i}){}get(e,n){return this.methodRequest("get",e,n)}post(e,n){return this.methodRequest("post",e,n)}patch(e,n){return this.methodRequest("patch",e,n)}put(e,n){return this.methodRequest("put",e,n)}delete(e,n){return this.methodRequest("delete",e,n)}methodRequest(e,n,i){return this.request(Promise.resolve(i).then(r=>({method:e,path:n,...r})))}request(e,n=null){return new gh(this,this.makeRequest(e,n,void 0))}async makeRequest(e,n,i){const r=await e,a=r.maxRetries??this.maxRetries;n==null&&(n=a),await this.prepareOptions(r);const{req:u,url:c,timeout:h}=await this.buildRequest(r,{retryCount:a-n});await this.prepareRequest(u,{url:c,options:r});const d="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),m=i===void 0?"":`, retryOf: ${i}`,y=Date.now();if(Dt(this).debug(`[${d}] sending request`,Lr({retryOfRequestLogID:i,method:r.method,url:c,options:r,headers:u.headers})),r.signal?.aborted)throw new $n;const S=new AbortController,b=await this.fetchWithTimeout(c,u,h,S).catch(Iv),T=Date.now();if(b instanceof globalThis.Error){const M=`retrying, ${n} attempts remaining`;if(r.signal?.aborted)throw new $n;const I=Nv(b)||/timed? ?out/i.test(String(b)+("cause"in b?String(b.cause):""));if(n)return Dt(this).info(`[${d}] connection ${I?"timed out":"failed"} - ${M}`),Dt(this).debug(`[${d}] connection ${I?"timed out":"failed"} (${M})`,Lr({retryOfRequestLogID:i,url:c,durationMs:T-y,message:b.message})),this.retryRequest(r,n,i??d);throw Dt(this).info(`[${d}] connection ${I?"timed out":"failed"} - error; no more retries left`),Dt(this).debug(`[${d}] connection ${I?"timed out":"failed"} (error; no more retries left)`,Lr({retryOfRequestLogID:i,url:c,durationMs:T-y,message:b.message})),I?new Gy:new ph({cause:b})}const A=[...b.headers.entries()].filter(([M])=>M==="x-request-id").map(([M,I])=>", "+M+": "+JSON.stringify(I)).join(""),x=`[${d}${m}${A}] ${u.method} ${c} ${b.ok?"succeeded":"failed"} with status ${b.status} in ${T-y}ms`;if(!b.ok){const M=await this.shouldRetry(b);if(n&&M){const O=`retrying, ${n} attempts remaining`;return await W3(b.body),Dt(this).info(`${x} - ${O}`),Dt(this).debug(`[${d}] response error (${O})`,Lr({retryOfRequestLogID:i,url:b.url,status:b.status,headers:b.headers,durationMs:T-y})),this.retryRequest(r,n,i??d,b.headers)}const I=M?"error; no more retries left":"error; not retryable";Dt(this).info(`${x} - ${I}`);const N=await b.text().catch(O=>Iv(O).message),D=z3(N),L=D?void 0:N;throw Dt(this).debug(`[${d}] response error (${I})`,Lr({retryOfRequestLogID:i,url:b.url,status:b.status,headers:b.headers,message:L,durationMs:Date.now()-y})),this.makeStatusError(b.status,D,L,b.headers)}return Dt(this).info(x),Dt(this).debug(`[${d}] response start`,Lr({retryOfRequestLogID:i,url:b.url,status:b.status,headers:b.headers,durationMs:T-y})),{response:b,options:r,controller:S,requestLogID:d,retryOfRequestLogID:i,startTime:y}}getAPIList(e,n,i){return this.requestAPIList(n,{method:"get",path:e,...i})}requestAPIList(e,n){const i=this.makeRequest(n,null,void 0);return new h4(this,i,e)}async fetchWithTimeout(e,n,i,r){const{signal:a,method:u,...c}=n||{};a&&a.addEventListener("abort",()=>r.abort());const h=setTimeout(()=>r.abort(),i),d=globalThis.ReadableStream&&c.body instanceof globalThis.ReadableStream||typeof c.body=="object"&&c.body!==null&&Symbol.asyncIterator in c.body,m={signal:r.signal,...d?{duplex:"half"}:{},method:"GET",...c};u&&(m.method=u.toUpperCase());try{return await this.fetch.call(void 0,e,m)}finally{clearTimeout(h)}}async shouldRetry(e){const n=e.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,n,i,r){let a;const u=r?.get("retry-after-ms");if(u){const h=parseFloat(u);Number.isNaN(h)||(a=h)}const c=r?.get("retry-after");if(c&&!a){const h=parseFloat(c);Number.isNaN(h)?a=Date.parse(c)-Date.now():a=h*1e3}if(!(a&&0<=a&&a<60*1e3)){const h=e.maxRetries??this.maxRetries;a=this.calculateDefaultRetryTimeoutMillis(n,h)}return await Lu(a),this.makeRequest(e,n-1,i)}calculateDefaultRetryTimeoutMillis(e,n){const a=n-e,u=Math.min(.5*Math.pow(2,a),8),c=1-Math.random()*.25;return u*c*1e3}async buildRequest(e,{retryCount:n=0}={}){const i={...e},{method:r,path:a,query:u,defaultBaseURL:c}=i,h=this.buildURL(a,u,c);"timeout"in i&&V3("timeout",i.timeout),i.timeout=i.timeout??this.timeout;const{bodyHeaders:d,body:m}=this.buildBody({options:i}),y=await this.buildHeaders({options:e,method:r,bodyHeaders:d,retryCount:n});return{req:{method:r,headers:y,...i.signal&&{signal:i.signal},...globalThis.ReadableStream&&m instanceof globalThis.ReadableStream&&{duplex:"half"},...m&&{body:m},...this.fetchOptions??{},...i.fetchOptions??{}},url:h,timeout:i.timeout}}async buildHeaders({options:e,method:n,bodyHeaders:i,retryCount:r}){let a={};this.idempotencyHeader&&n!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),a[this.idempotencyHeader]=e.idempotencyKey);const u=pe([a,{Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(r),...e.timeout?{"X-Stainless-Timeout":String(Math.trunc(e.timeout/1e3))}:{},...j3(),"OpenAI-Organization":this.organization,"OpenAI-Project":this.project},await this.authHeaders(e),this._options.defaultHeaders,i,e.headers]);return this.validateHeaders(u),u.values}buildBody({options:{body:e,headers:n}}){if(!e)return{bodyHeaders:void 0,body:void 0};const i=pe([n]);return ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof DataView||typeof e=="string"&&i.values.has("content-type")||globalThis.Blob&&e instanceof globalThis.Blob||e instanceof FormData||e instanceof URLSearchParams||globalThis.ReadableStream&&e instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:e}:typeof e=="object"&&(Symbol.asyncIterator in e||Symbol.iterator in e&&"next"in e&&typeof e.next=="function")?{bodyHeaders:void 0,body:fN(e)}:V(this,sd,"f").call(this,{body:e,headers:i})}}c_=Ie,sd=new WeakMap,Vv=new WeakSet,MI=function(){return this.baseURL!=="https://api.openai.com/v1"};Ie.OpenAI=c_;Ie.DEFAULT_TIMEOUT=6e5;Ie.OpenAIError=Se;Ie.APIError=Pt;Ie.APIConnectionError=ph;Ie.APIConnectionTimeoutError=Gy;Ie.APIUserAbortError=$n;Ie.NotFoundError=nN;Ie.ConflictError=iN;Ie.RateLimitError=rN;Ie.BadRequestError=ZM;Ie.AuthenticationError=eN;Ie.InternalServerError=sN;Ie.PermissionDeniedError=tN;Ie.UnprocessableEntityError=oN;Ie.InvalidWebhookSignatureError=$l;Ie.toFile=y4;Ie.Completions=oI;Ie.Chat=Wy;Ie.Embeddings=aI;Ie.Files=uI;Ie.Images=mI;Ie.Audio=Bu;Ie.Moderations=vI;Ie.Models=gI;Ie.FineTuning=Da;Ie.Graders=a_;Ie.VectorStores=wh;Ie.Webhooks=RI;Ie.Beta=Ia;Ie.Batches=XN;Ie.Uploads=u_;Ie.Responses=Eh;Ie.Realtime=bh;Ie.Conversations=t_;Ie.Evals=i_;Ie.Containers=e_;Ie.Videos=AI;class XT extends Error{}const NI=["gpt-4o-mini","gpt-5.1","gpt-5-mini","gpt-5-nano","gpt-5"];class Ud{static getApiKey=null;static setApiKey=null;static getClient(){const e=this.getApiKey?.()||"";if(!e)throw new XT("No OpenAI API key set");return new Ie({apiKey:e,dangerouslyAllowBrowser:!0})}static async txt2txt(e,n,i="gpt-4o-mini",r){try{const a=this.getClient(),u=[];n&&u.push({role:"system",content:n}),e&&u.push({role:"user",content:[{type:"input_text",text:e}]}),r&&console.log(r);const c={model:i,input:u};console.log("GPT Payload:",c);const d=(await a.responses.create(c)).output_text;return console.log("GPT Response TEXT:",{text:d}),d}catch(a){if(console.error("ChatGPT Error:",a),(a?.message||"").includes("Incorrect API key provided")||a instanceof XT){const c=window.prompt("Your OpenAI API key is missing or invalid. Please enter a valid key:");return c?this.setApiKey?.(c):console.warn("User did not provide a valid API key."),null}throw a}}}class q4{rootHandle=null;project=null;data={};constructor(e=null,n=null){this.rootHandle=e,this.project=n,Oi(this)}async load(){if(this.rootHandle)try{const e={};for await(const n of this.rootHandle.values()){if(n.kind!=="directory")continue;const i=n.name,r=n,a={};for await(const u of r.values()){if(u.kind!=="directory")continue;const c=u.name,h=u,d=[];for await(const m of h.values()){if(m.kind!=="file"||!m.name.match(/\.(png|jpg|jpeg|webp|gif)$/i))continue;const y=m,S=`${i}/${c}/${y.name}`;d.push(new J4(y,h,S,this))}a[c]=d}e[i]=a}Ae(()=>{this.data=e})}catch(e){console.error("Error loading artbook:",e),Ae(()=>{this.data={}})}}getTag(e){if(!e)return null;const n=e.split("/");if(n.length<3)return null;const[i,r,a]=n,u=this.data[i];if(!u)return null;const c=u[r];return c&&c.find(d=>d.handle.name===a)||null}log(){console.log(ir(this))}getJson(){const e={};for(const[n,i]of Object.entries(this.data)){e[n]={};for(const[r,a]of Object.entries(i))e[n][r]=a.map(u=>u.handle.name)}return e}}class J4{handle;folder;image;artInfo=null;path;artbook;constructor(e,n,i,r=null){this.handle=e,this.folder=n,this.image=new Mi(e,this.folder),this.path=i,this.artbook=r,Oi(this)}async getArtInfo(){if(this.artInfo)return this.artInfo;try{const e=await Xr.create(this.folder,this.handle.name+".json");Ae(()=>{this.artInfo=e})}catch(e){console.warn("Unable to load art info for:",this.handle.name,e)}return this.artInfo}}const Og=24;class K4{doc;fcpxml;resources;project;spine;timelineName;constructor(e="Test RESOLVE",n=1e4){this.timelineName=e,this.doc=document.implementation.createDocument("","",null),this.fcpxml=this.doc.createElement("fcpxml"),this.fcpxml.setAttribute("version","1.10"),this.doc.appendChild(this.fcpxml),this.resources=this.doc.createElement("resources"),this.fcpxml.appendChild(this.resources);const i=this.doc.createElement("format");i.setAttribute("id","r0"),i.setAttribute("name",`FFVideoFormat1080p${Og}`),i.setAttribute("frameDuration",`1/${Og}s`),i.setAttribute("width","1080"),i.setAttribute("height","1920"),this.resources.appendChild(i);const r=this.doc.createElement("library");this.fcpxml.appendChild(r);const a=this.doc.createElement("event");a.setAttribute("name","Auto Import"),r.appendChild(a),this.project=this.doc.createElement("project"),this.project.setAttribute("name",this.timelineName),a.appendChild(this.project);const u=this.doc.createElement("sequence");u.setAttribute("format","r0"),u.setAttribute("duration",`${n}/${Og}s`),u.setAttribute("tcStart","0/1s"),u.setAttribute("tcFormat","NDF"),this.project.appendChild(u),this.spine=this.doc.createElement("spine"),u.appendChild(this.spine);const c=this.doc.createElement("effect");c.setAttribute("uid",".../Generators.localized/Solids.localized/Vivid.localized/Vivid.motn"),c.setAttribute("name","Vivid"),c.setAttribute("id","r1"),this.resources.appendChild(c);const h=this.doc.createElement("effect");h.setAttribute("uid",".../Titles.localized/Lower Thirds.localized/Basic Lower Third.localized/Basic Lower Third.moti"),h.setAttribute("name","Basic Title"),h.setAttribute("id","r2"),this.resources.appendChild(h)}addAsset(e,n){const i=this.doc.createElement("asset");i.setAttribute("src",`file://localhost/${e.replace(/\\/g,"/")}`),i.setAttribute("name",n);const a=this.resources.children.length;return i.setAttribute("id",`r${a}`),this.resources.appendChild(i),i.getAttribute("id")}appendClip(e,n,i,r,a=0){const u=this.doc.createElement("video");u.setAttribute("start","1/24s"),u.setAttribute("ref",e),u.setAttribute("name",n),u.setAttribute("enabled","1"),u.setAttribute("lane",a.toString()),u.setAttribute("duration",`${i}/1s`),u.setAttribute("offset",`${r}/1s`),this.spine.appendChild(u)}appendText(e,n,i,r=3,a="Rich"){const u=this.doc.createElement("title");u.setAttribute("start","1/24s"),u.setAttribute("ref","r2"),u.setAttribute("name",a),u.setAttribute("lane",r.toString()),u.setAttribute("offset",`${i}/1s`),u.setAttribute("duration",`${n}/1s`),u.setAttribute("enabled","1");const c=this.doc.createElement("text");c.setAttribute("roll-up-height","0");const h=this.doc.createElement("text-style");h.setAttribute("ref","ts0"),h.textContent=e,c.appendChild(h),u.appendChild(c);const d=this.doc.createElement("text-style-def");d.setAttribute("id","ts0");const m=this.doc.createElement("text-style");m.setAttribute("fontSize","32"),m.setAttribute("italic","0"),m.setAttribute("fontColor","1 1 1 1"),m.setAttribute("bold","1"),m.setAttribute("lineSpacing","0"),m.setAttribute("font","Open Sans"),m.setAttribute("alignment","center"),m.setAttribute("strokeWidth","0"),m.setAttribute("strokeColor","0 0 0 1"),d.appendChild(m),u.appendChild(d);const y=this.doc.createElement("adjust-transform");y.setAttribute("scale","1 1"),y.setAttribute("anchor","0 0"),y.setAttribute("position","0 1"),u.appendChild(y),this.spine.appendChild(u)}getXmlString(){let n=new XMLSerializer().serializeToString(this.doc);return n=`<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE fcpxml>
`+n,n}log(){const n=/(>)(<)(\/*)/g;let i=this.getXmlString().replace(n,`$1\r
$2$3`),r=0;const a=i.split(`\r
`).map(u=>{let c="";u.match(/<\/\w/)&&(r-=1);for(let h=0;h<r;h++)c+="  ";return u.match(/<[^!?].*>[^<]*$/)&&(r+=1),c+u}).join(`\r
`);console.log(a)}async save(e){try{const i=await(await e.getFileHandle(this.timelineName+".xml",{create:!0})).createWritable();await i.write(this.getXmlString()),await i.close()}catch(n){console.error("Failed to save file",n)}}}const Y4={tags:[],shotsjson:"",script:"",split_shots_prompt:{preset:"split_shots"}};class WT{folder;sceneJson=null;shots=[];project;is_generating_shotsjson=!1;is_generating_tags=!1;is_generating_all_shot_images=!1;split_shots_prompt=null;path="";constructor(e,n){this.folder=e,this.project=n,this.path="/SCENES/"+e.name,Oi(this)}async load(){try{this.sceneJson=await Xr.create(this.folder,"sceneinfo.json",Y4),this.shots=[];for await(const e of this.folder.values())if(e.kind==="directory"){const n=new bT(e,this);await n.load(),this.shots.push(n)}}catch(e){console.error("Error loading scene:",e),this.sceneJson=null,this.shots=[]}}removeTag(e){this.sceneJson?.data?.tags&&(this.sceneJson.data.tags=this.sceneJson.data.tags.filter(n=>n!==e),this.sceneJson.save())}async delete(){if(!this.project?.rootDirHandle){console.error("Cannot delete scene: project root not set");return}try{await(await this.project.rootDirHandle.getDirectoryHandle("SCENES")).removeEntry(this.folder.name,{recursive:!0}),Ae(()=>{this.project&&(this.project.scenes=this.project.scenes.filter(n=>n!==this))})}catch(e){console.error("Failed to delete scene:",e)}}async createShot(e){if(!this.folder)return console.error("No scene folder available"),null;const n=this.shots.find(i=>i.folder.name===e);if(n)return n;try{const i=await this.folder.getDirectoryHandle(e,{create:!0}),r=new bT(i,this);return await r.load(),Ae(()=>{const a=this.shots.findIndex(u=>u.folder.name.localeCompare(e)>0);a===-1?this.shots.push(r):this.shots.splice(a,0,r)}),r}catch(i){return console.error("Failed to create shot:",i),null}}get finishedShotsNum(){return this.shots.filter(e=>e.shotJson?.data?.finished).length}async generateShotsJson(){if(!this.sceneJson?.data?.script)return null;Ae(()=>{this.is_generating_shotsjson=!0});const e=this.sceneJson.data.script,n=`
${this.project.workflows.split_scene_into_shots.prompt}

${this.sceneJson.data.split_prompt}

SCRIPT:
${e}
`,i=this.project.projinfo?.getField("workflows/split_scene_into_shots/system_message");try{return await Ud.txt2txt(n,i,this.project?.projinfo?.getField("workflows/split_scene_into_shots/model"))}catch(r){return console.error("Error generating shots JSON:",r),null}finally{Ae(()=>{this.is_generating_shotsjson=!1})}}async createShotsFromShotsJson(){if(!this.sceneJson?.data?.shotsjson){console.warn("No shots JSON found in scene.");return}let e;try{e=JSON.parse(this.sceneJson.data.shotsjson)}catch(n){console.error("Invalid shots JSON:",n),alert("Error: The shots JSON is invalid. Please check the format.");return}for(const n of Object.keys(e)){const i=e[n];if(!i||typeof i!="object"){console.warn(`Skipping invalid shot data for key: ${n}`);continue}try{const r=await this.createShot(n);if(!r){console.error(`Failed to create shot ${n}`);continue}r.shotJson&&(Object.assign(r.shotJson.data,i),await r.shotJson.save())}catch(r){console.error(`Error creating shot ${n}:`,r)}}}log(){console.log(ir(this))}getTags(){if(!this.sceneJson?.data?.tags||!this.project?.artbook)return[];const e=[];for(const n of this.sceneJson.data.tags){const i=this.project.artbook.getTag(n);i&&e.push(i)}return e}get tags(){return this.getTags()}async generateTags(){Ae(()=>{this.is_generating_tags=!0});const e=`
${this.project?.projinfo?.data?.generate_tags_prompt}

SCRIPT:
${this.sceneJson?.data.script}

SHOTS JSON:
${this.sceneJson?.data.shotsjson}

REFS DICTIONARY:
${JSON.stringify(this.project?.artbook?.getJson(),null,2)}

`,n="You are a helpful assistant. Do not write explanations. ";try{const i=await Ud.txt2txt(e,n,this.project?.projinfo?.data.gpt_model);for(const r of i?.split(`
`)||[]){const a=r.trim();a&&(console.log("Adding Tag: ",a),this.addTag(a))}return i}catch(i){return console.error("Error generating tags:",i),null}finally{Ae(()=>{this.is_generating_tags=!1})}}addTag(e){Ae(()=>{this.sceneJson?.data.tags.includes(e)||(this.project?.artbook?.getTag(e)?(this.sceneJson?.data.tags.push(e),this.sceneJson?.save()):console.log("Tag not found: ",e))})}async generateAllShotImages(){Ae(()=>{this.is_generating_all_shot_images=!0});const e=this.shots.filter(n=>!n.srcImage).map(n=>n.GenerateImage());await Promise.all(e),Ae(()=>{this.is_generating_all_shot_images=!1})}async createResolveXML(){const e=new K4(this.folder.name);let n=1e3;for(const i of this.shots){let r="r1";if(i.srcImage){const u=this.project.projinfo?.getField("project_path")+i.srcImage.path;r=e.addAsset(u,i.folder.name)}if(i.outVideo){const u=this.project.projinfo?.getField("project_path")+i.outVideo.path,c=e.addAsset(u,i.folder.name);e.appendClip(c,i.folder.name,5,n,1)}e.appendClip(r,i.folder.name,5,n),e.appendText(this.folder.name+" "+i.folder.name,5,n),n+=5}e.log(),e.save(this.project.timelinesDirHandle)}}const zv=(t,e)=>e.some(n=>t instanceof n);let QT,ZT;function j4(){return QT||(QT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function X4(){return ZT||(ZT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const qv=new WeakMap,Pg=new WeakMap,Ch=new WeakMap;function W4(t){const e=new Promise((n,i)=>{const r=()=>{t.removeEventListener("success",a),t.removeEventListener("error",u)},a=()=>{n(Gr(t.result)),r()},u=()=>{i(t.error),r()};t.addEventListener("success",a),t.addEventListener("error",u)});return Ch.set(e,t),e}function Q4(t){if(qv.has(t))return;const e=new Promise((n,i)=>{const r=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",u),t.removeEventListener("abort",u)},a=()=>{n(),r()},u=()=>{i(t.error||new DOMException("AbortError","AbortError")),r()};t.addEventListener("complete",a),t.addEventListener("error",u),t.addEventListener("abort",u)});qv.set(t,e)}let Jv={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return qv.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Gr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function II(t){Jv=t(Jv)}function Z4(t){return X4().includes(t)?function(...e){return t.apply(Kv(this),e),Gr(this.request)}:function(...e){return Gr(t.apply(Kv(this),e))}}function e6(t){return typeof t=="function"?Z4(t):(t instanceof IDBTransaction&&Q4(t),zv(t,j4())?new Proxy(t,Jv):t)}function Gr(t){if(t instanceof IDBRequest)return W4(t);if(Pg.has(t))return Pg.get(t);const e=e6(t);return e!==t&&(Pg.set(t,e),Ch.set(e,t)),e}const Kv=t=>Ch.get(t);function t6(t,e,{blocked:n,upgrade:i,blocking:r,terminated:a}={}){const u=indexedDB.open(t,e),c=Gr(u);return i&&u.addEventListener("upgradeneeded",h=>{i(Gr(u.result),h.oldVersion,h.newVersion,Gr(u.transaction),h)}),n&&u.addEventListener("blocked",h=>n(h.oldVersion,h.newVersion,h)),c.then(h=>{a&&h.addEventListener("close",()=>a()),r&&h.addEventListener("versionchange",d=>r(d.oldVersion,d.newVersion,d))}).catch(()=>{}),c}const n6=["get","getKey","getAll","getAllKeys","count"],i6=["put","add","delete","clear"],kg=new Map;function eA(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(kg.get(e))return kg.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,r=i6.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(r||n6.includes(n)))return;const a=async function(u,...c){const h=this.transaction(u,r?"readwrite":"readonly");let d=h.store;return i&&(d=d.index(c.shift())),(await Promise.all([d[n](...c),r&&h.done]))[0]};return kg.set(e,a),a}II(t=>({...t,get:(e,n,i)=>eA(e,n)||t.get(e,n,i),has:(e,n)=>!!eA(e,n)||t.has(e,n)}));const o6=["continue","continuePrimaryKey","advance"],tA={},Yv=new WeakMap,DI=new WeakMap,r6={get(t,e){if(!o6.includes(e))return t[e];let n=tA[e];return n||(n=tA[e]=function(...i){Yv.set(this,DI.get(this)[e](...i))}),n}};async function*s6(...t){let e=this;if(e instanceof IDBCursor||(e=await e.openCursor(...t)),!e)return;e=e;const n=new Proxy(e,r6);for(DI.set(n,e),Ch.set(n,Kv(e));e;)yield n,e=await(Yv.get(n)||e.continue()),Yv.delete(n)}function nA(t,e){return e===Symbol.asyncIterator&&zv(t,[IDBIndex,IDBObjectStore,IDBCursor])||e==="iterate"&&zv(t,[IDBIndex,IDBObjectStore])}II(t=>({...t,get(e,n,i){return nA(e,n)?s6:t.get(e,n,i)},has(e,n){return nA(e,n)||t.has(e,n)}}));const a6="ShotMasterRE",Lf="settings";class l6{db=null;data={id:"settings",lastOpenedFolder:null,recentFolders:[],api_keys:{}};constructor(){Oi(this.data)}async getDB(){return this.db?this.db:(this.db=await t6(a6,1,{upgrade(e){e.objectStoreNames.contains(Lf)||e.createObjectStore(Lf,{keyPath:"id"})}}),this.db)}async load(){const n=await(await this.getDB()).get(Lf,"settings");return n&&Ae(()=>{Object.assign(this.data,n)}),this.data}async save(){const e=await this.getDB(),n=ir(this.data);await e.put(Lf,n)}async update(e){Ae(()=>e(this.data)),await this.save()}}class u6{fileHandle;text="";scenes=new Map;project=null;constructor(e,n=null){this.fileHandle=e,this.project=n,Oi(this,{},{autoBind:!0})}async load(){const e=await this.fileHandle.getFile();this.text=(await e.text()).replace(/\r\n/g,`
`),this.splitIntoScenes()}async save(){const e=await this.fileHandle.createWritable();await e.write(this.text),await e.close()}setText(e){this.text=e,this.splitIntoScenes()}splitIntoScenes(){this.scenes.clear();const e=/^SC_[^\n]{1,32}$/gm,n=[...this.text.matchAll(e)];if(n.length===0){this.scenes.set("",this.text);return}for(let i=0;i<n.length;i++){const r=n[i][0],a=n[i].index;if(i===0&&a>0){const h=this.text.slice(0,a);this.scenes.set("",h)}const u=i+1<n.length?n[i+1].index:this.text.length,c=this.text.slice(a,u);this.scenes.set(r,c)}}get sortedSceneKeys(){return Array.from(this.scenes.keys()).sort((e,n)=>e.localeCompare(n))}joinScenes(){let e="";for(const n of this.sortedSceneKeys)e+=this.scenes.get(n);return e}setSceneText(e,n){this.scenes.set(e,n),this.text=this.joinScenes(),this.splitIntoScenes()}async createScenes(){if(!this.project){console.error("Script has no project reference");return}for(const e of this.sortedSceneKeys){if(e==="")continue;const n=this.scenes.get(e)??"";try{const i=await this.project.createScene(e);if(!i){console.error(`Failed to create scene ${e}`);continue}i.sceneJson&&(i.sceneJson.data.script=n,await i.sceneJson.save())}catch(i){console.error(`Error creating scene ${e}:`,i)}}}}const c6={gpt_model:"gpt-4o-mini",describe_prompt:"        . ",generate_tags_prompt:`
     (SCRIPT)     (SHOTS JSON)        REFS DICTIONARY     .

     ,        ,      :
  ENV/ROOM1/Night.png
  CHAR/VICTOR/Portrait.png


  `,split_shot_prompt:`
       ,            json,     json   :
{
  "SHOT_010" : 
    {
    "prompt" : "     ", 
    "camera" : "focal length, shot type", 
    "action_description" : "     ", 
    },

}`,prompt_presets:{split_shots:{model:"gpt-4o",prompt:`
       ,            json,     json   :
{
  "SHOT_010" : 
    {
    "prompt" : "     ", 
    "camera" : "focal length, shot type", 
    "action_description" : "     ", 
    },

}`,system_message:"You are a helpful assistant. Always respond using ONLY valid JSON. Do not write explanations. Do not wrap the JSON in backticks. The entire response must be a valid JSON object."},generate_tags:{model:"gpt-4o",prompt:"Generate Tags ",system_message:"You are a tagger "}},workflows:{generate_shot_image:{model:"gemini-2.5-flash-image"},split_scene_into_shots:{model:"gpt-4o-mini",prompt:`
       ,            json,     json   :
{
  "SHOT_010" : 
    {
    "prompt" : "     ", 
    "camera" : "focal length, shot type", 
    "action_description" : "     ", 
    },

}`,system_message:"You are a helpful assistant. Always respond using ONLY valid JSON. Do not write explanations. Do not wrap the JSON in backticks. The entire response must be a valid JSON object."},generate_video_kling:{model:lt.options.img2video.model.v2_6,mode:lt.options.img2video.mode.std,duration:lt.options.img2video.duration.five},kling_motion_control:{mode:lt.options.motion_control.mode.std,character_orientation:lt.options.motion_control.character_orientation.image,keep_original_sound:lt.options.motion_control.keep_original_sound.no}}};class f6{rootDirHandle=null;scenes=[];artbook=null;script=null;userSettingsDB=new l6;projinfo=null;currentView={type:"none"};selectedScene=null;timelinesDirHandle=null;constructor(e=null){this.rootDirHandle=e,Oi(this)}async loadFromFolder(e){e&&(this.rootDirHandle=e,this.timelinesDirHandle=await this.rootDirHandle.getDirectoryHandle("Timelines",{create:!0}),Ae(async()=>{this.userSettingsDB.data.lastOpenedFolder=e,(await Promise.all(this.userSettingsDB.data.recentFolders.map(async i=>{try{return await i.isSameEntry(e)}catch{return!1}}))).includes(!0)||(this.userSettingsDB.data.recentFolders.push(e),this.userSettingsDB.data.recentFolders=this.userSettingsDB.data.recentFolders.slice(-5)),await this.userSettingsDB.save(),this.projinfo=await Xr.create(this.rootDirHandle,"projinfo.json",c6)}),await Promise.all([this.loadScenes(),this.loadArtbook(),this.loadScript()]))}async loadScenes(){if(this.rootDirHandle)try{const e=await this.rootDirHandle.getDirectoryHandle("SCENES",{create:!0}),n=[];for await(const i of e.values())if(i.kind==="directory"){const r=new WT(i,this);await r.load(),n.push(r)}Ae(()=>{this.scenes=n})}catch(e){console.error("Error loading scenes:",e),Ae(()=>{this.scenes=[]})}}async loadArtbook(){if(this.rootDirHandle)try{const e=await this.rootDirHandle.getDirectoryHandle("REFS",{create:!0}),n=new q4(e,this);await n.load(),Ae(()=>{this.artbook=n})}catch(e){console.error("Error loading artbook:",e),Ae(()=>{this.artbook=null})}}async loadScript(){if(this.rootDirHandle)try{const e=await this.rootDirHandle.getFileHandle("script.txt",{create:!0}),n=new u6(e,this);await n.load(),Ae(()=>{this.script=n})}catch(e){console.error("Error loading script:",e),Ae(()=>{this.script=null})}}async loadDB(){await this.userSettingsDB.load(),co.getApiKey=()=>this.userSettingsDB.data.api_keys.Google_API_KEY||null,co.setApiKey=async e=>{await this.userSettingsDB.update(n=>{n.api_keys.Google_API_KEY=e})},Ud.getApiKey=()=>this.userSettingsDB.data.api_keys.GPT_API_KEY||null,Ud.setApiKey=async e=>{await this.userSettingsDB.update(n=>{n.api_keys.GPT_API_KEY=e})},lt.getKeysDict=()=>({accessKey:this.userSettingsDB.data.api_keys.Kling_Acess_Key,secretKey:this.userSettingsDB.data.api_keys.Kling_Secret_Key})}async createScene(e){if(!this.rootDirHandle)return console.error("No project folder open"),null;const n=this.scenes.find(i=>i.folder.name===e);if(n)return n;try{const r=await(await this.rootDirHandle.getDirectoryHandle("SCENES",{create:!0})).getDirectoryHandle(e,{create:!0}),a=new WT(r,this);return await a.load(),Ae(()=>{const u=this.scenes.findIndex(c=>c.folder.name.localeCompare(a.folder.name)>0);u===-1?this.scenes.push(a):this.scenes.splice(u,0,a)}),a}catch(i){return console.error("Failed to create scene:",i),null}}log(){console.log(ir(this))}setView(e,n=null){this.currentView=e,this.selectedScene=n}get promptPresets(){return this.projinfo?this.projinfo.data.prompt_presets:{}}savePromptPreset(e){Ae(()=>{this.projinfo&&(this.projinfo.data.prompt_presets[e.preset]=e,this.projinfo?.save())})}get workflows(){return this.projinfo?.data.workflows}updateWorkflow(e,n,i){Ae(()=>{this.workflows[e][n]=i,this.projinfo?.save()})}download_asset(e,n){const i=document.createElement("a");i.href=e,i.download=n,document.body.appendChild(i),i.click(),document.body.removeChild(i)}}const d6=({onOpenFolder:t,recentFolders:e,onOpenRecent:n,project:i})=>{const r=[{name:"Open",onClick:t},{name:"Recent",subItems:e.length?e.map(c=>({name:c.name,onClick:()=>n(c)})):[{name:"No Recent"}]}],a=[{name:"Undo"},{name:"Redo"}],u=[{name:"About"}];return E.jsx($w,{expand:!0,children:E.jsxs(eR,{fluid:!0,children:[E.jsx($w.Brand,{children:"ShotMasterRT"}),E.jsxs(hF,{className:"me-auto",style:{userSelect:"none"},children:[E.jsx(Js,{title:"File",items:r}),E.jsx(Js,{title:"Edit",items:a}),E.jsx(Js,{title:"Help",items:u}),E.jsx(Js,{title:"Settings",onClick:()=>i.setView({type:"settings"})}),E.jsx(Js,{title:"Script",onClick:()=>i.setView({type:"script"})}),E.jsx(Js,{title:"Artbook",onClick:()=>i.setView({type:"artbook"})})]})]})})},h6=ct(({scene:t})=>{const e=()=>{!t||!t.sceneJson||t.project?.setView({type:"scene"},t)},n=t.project?.selectedScene===t;return E.jsxs("li",{className:"d-flex justify-content-between align-items-center py-1 px-2",style:{cursor:"pointer"},onClick:e,children:[E.jsx("span",{className:n?"text-success":void 0,children:t.folder.name}),E.jsxs("span",{className:"text-muted",children:[t.finishedShotsNum," / ",t.shots.length]})]})}),ut=({onClick:t,label:e="Click",className:n=""})=>E.jsx("button",{className:`btn btn-sm btn-outline-secondary ${n}`,onClick:t,children:e}),p6=ct(({project:t})=>{if(!t)return E.jsx("div",{children:"No Project Opened"});const e=async()=>{const i=prompt("Enter new scene name");i&&await t.createScene(i)},n=t.rootDirHandle?.name||"No Project Opened";return E.jsxs("div",{style:{width:"200px",minWidth:"200px",borderRight:"1px solid #ced4da",padding:"10px",display:"flex",flexDirection:"column"},children:[E.jsx("h5",{style:{flexShrink:0,marginBottom:8},children:n}),E.jsx(ut,{label:"+ Add Scene",onClick:e,className:"mb-2"}),E.jsx("ul",{className:"list-unstyled",style:{margin:0,padding:0,overflowY:"auto",maxHeight:"calc(100vh - 100px)"},children:t.scenes.map((i,r)=>E.jsx(h6,{scene:i},r))})]})});class Uf extends C.Component{constructor(e){super(e),this.state={value:e.value}}handleChange=e=>{const n=e.target.value;this.setState({value:n}),this.props.onChange(n)};render(){const{label:e}=this.props,{value:n}=this.state;return E.jsxs("div",{style:{display:"flex",alignItems:"center",marginBottom:12},children:[E.jsx("label",{style:{marginRight:8,minWidth:120},children:e}),E.jsx("input",{type:"text",value:n,onChange:this.handleChange,style:{flexGrow:1,padding:6}})]})}}const Fu=({label:t="Section",children:e,defaultCollapsed:n=!1,className:i="",headerExtra:r})=>{const[a,u]=C.useState(n);return E.jsxs("div",{className:`border rounded p-2 mb-2 ${i}`,children:[E.jsxs("div",{className:"d-flex align-items-center justify-content-between mb-0",children:[E.jsxs("div",{className:"d-flex align-items-center",children:[E.jsx("button",{className:"btn btn-sm ",onClick:()=>u(!a),children:a?"":""}),E.jsx("strong",{children:t})]}),r&&!a&&E.jsx("div",{children:r})]}),!a&&E.jsx("div",{className:"mt-2",children:e})]})},jv=({label:t,initialText:e,onSave:n,onEdit:i,fitHeight:r=!1,headerExtra:a})=>{const[u,c]=C.useState(e),[h,d]=C.useState(e),[m,y]=C.useState(!1),[S,b]=C.useState(!1),T=C.useRef(null);C.useEffect(()=>{c(e),d(e),r&&T.current&&(T.current.style.height="auto",T.current.style.height=`${T.current.scrollHeight}px`)},[e,r]);const A=u!==h,x=N=>{c(N),i&&i(N)},M=async()=>{n&&(b(!0),await n(u),d(u),b(!1))};C.useEffect(()=>{if(!m||!A)return;const N=setTimeout(()=>M(),1e3);return()=>clearTimeout(N)},[u,m,A]),C.useEffect(()=>{r&&T.current&&(T.current.style.height="auto",T.current.style.height=`${T.current.scrollHeight}px`)},[u,r]);const I=E.jsxs("div",{className:"d-flex align-items-center gap-2",children:[a&&E.jsx(E.Fragment,{children:a}),E.jsx("button",{className:"btn btn-primary btn-sm",disabled:S||!A||!n,onClick:M,children:S?"Saving...":A?"Save*":"Save"}),E.jsxs("label",{className:"d-flex align-items-center gap-1 mb-0",children:[E.jsx("input",{type:"checkbox",checked:m,onChange:N=>y(N.target.checked)}),"Auto-save"]})]});return E.jsx(Fu,{label:t,headerExtra:I,children:E.jsx("textarea",{ref:T,className:"form-control",style:{fontFamily:"monospace",overflowY:"auto",maxHeight:"800px"},value:u,onChange:N=>x(N.target.value)})})},Vt=ct(({localJson:t,field:e,fitHeight:n=!1,headerExtra:i})=>{if(!t)return;const r=async a=>{await t.updateField(e,a)};return E.jsx(jv,{label:e,initialText:t.getField(e)??"",onSave:r,fitHeight:n,headerExtra:i})}),Ea=({tabs:t})=>{const e=Object.keys(t),[n,i]=C.useState(e[0]);return E.jsxs("div",{children:[E.jsx("ul",{className:"nav nav-tabs",children:e.map(r=>E.jsx("li",{className:"nav-item",children:E.jsx("button",{className:`nav-link ${n===r?"active":""}`,onClick:()=>i(r),children:r})},r))}),E.jsx("div",{className:"tab-content p-3 border border-top-0",children:E.jsx("div",{className:"tab-pane fade show active",children:t[n]})})]})};function OI({items:t,currentItem:e,onPicked:n,labelRenderer:i,className:r=""}){return E.jsxs(wf,{className:r,children:[E.jsx(wf.Toggle,{variant:"outline-secondary",size:"sm",children:i?i(e):String(e)}),E.jsx(wf.Menu,{children:t.map((a,u)=>E.jsx(wf.Item,{onClick:()=>n(a),children:i?i(a):String(a)},u))})]})}const m6=ct(({project:t})=>{const{userSettingsDB:e}=t;if(!e)return null;const n=t.projinfo?{"  ":E.jsx(Vt,{localJson:t.projinfo,field:"split_shot_prompt",fitHeight:!0})," ":E.jsx(Vt,{localJson:t.projinfo,field:"generate_tags_prompt",fitHeight:!0})}:{};return E.jsxs("div",{style:{padding:20},children:[E.jsx("h3",{children:"API Keys"}),E.jsx(ut,{onClick:()=>{t.log()},label:"LOG Project"}),E.jsx(ut,{onClick:()=>{t.download_asset("assets/server.exe","server.exe")},label:"Download Server"}),E.jsx(Vt,{localJson:t.projinfo,field:"project_path",fitHeight:!0}),E.jsx(Uf,{label:"GPT API Key",value:e.data.api_keys.GPT_API_KEY||"",onChange:async i=>{await e.update(r=>{r.api_keys.GPT_API_KEY=i})}}),E.jsx(Uf,{label:"Google API Key",value:e.data.api_keys.Google_API_KEY||"",onChange:async i=>{await e.update(r=>{r.api_keys.Google_API_KEY=i})}}),E.jsx(Uf,{label:"Kling Acess Key",value:e.data.api_keys.Kling_Acess_Key||"",onChange:async i=>{await e.update(r=>{r.api_keys.Kling_Acess_Key=i})}}),E.jsx(Uf,{label:"Kling Secret Key",value:e.data.api_keys.Kling_Secret_Key||"",onChange:async i=>{await e.update(r=>{r.api_keys.Kling_Secret_Key=i})}}),E.jsx("div",{children:E.jsx(OI,{items:NI,currentItem:t.projinfo?.data.gpt_model,onPicked:i=>{t.projinfo?.updateField("gpt_model",i)}})}),E.jsx("h2",{children:"Prompts"}),Object.keys(n).length>0&&E.jsx(Ea,{tabs:n})]})}),g6=ct(({project:t})=>{if(!t.script)return E.jsx("div",{children:"No script loaded in project."});const e=async r=>{t.script.setText(r),await t.script.save()},n={};for(const r of t.script.sortedSceneKeys)n[r||"Intro"]=E.jsx(jv,{label:r||"Intro",initialText:t.script.scenes.get(r),onSave:async a=>{t.script.setSceneText(r,a),await t.script.save()},fitHeight:!0});const i=async()=>{try{await t.script.createScenes(),alert("Scenes created successfully!")}catch(r){console.error("Error creating scenes:",r),alert("Failed to create scenes. See console for details.")}};return E.jsxs("div",{style:{padding:"1rem"},children:[E.jsx("h4",{children:"Script"}),E.jsx(ut,{label:"Create Scenes from Script",onClick:i,className:"mb-2"}),E.jsx(Ea,{tabs:{"Full Script":E.jsx(jv,{label:"Full Script",initialText:t.script.text,onSave:e,fitHeight:!0}),Scenes:E.jsx(Ea,{tabs:n})}})]})}),v6=ct(({art:t,onClose:e})=>{const[n,i]=C.useState(null),[r,a]=C.useState(!0);C.useEffect(()=>{let c=!0,h=t;a(!0),i(null);async function d(){const m=await h.image.getUrlObject();if(!c||t!==h)return;i(m);const y=await h.getArtInfo();!c||t!==h||(h.artInfo=y,a(!1))}return d(),()=>{c=!1}},[t]);const u=t.handle.name;return r?E.jsx("div",{children:"Loading art info..."}):E.jsxs("div",{className:"art-info-card",style:{border:"1px solid #ccc",padding:"1rem",borderRadius:"8px"},children:[E.jsxs("div",{className:"card-header",style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[E.jsx("strong",{children:u}),E.jsx("button",{onClick:e,style:{cursor:"pointer",border:"none",background:"transparent",fontSize:"1.2rem"},children:""})]}),n?E.jsx("img",{src:n,className:"preview-img",style:{maxWidth:"1000px",width:"auto",maxHeight:"1000px",objectFit:"contain",borderRadius:"4px",display:"block",marginBottom:"1rem"}}):E.jsx("div",{style:{padding:"4rem",textAlign:"center"},children:E.jsx("span",{children:"Loading image..."})}),t.artInfo&&E.jsx(Vt,{localJson:t.artInfo,field:"prompt",fitHeight:!0})]})}),y6=ct(({artbook:t})=>{const[e,n]=C.useState(null);if(!Object.keys(t.data).length)return E.jsx("div",{children:"No Artbook content found."});const i=({art:c})=>{const[h,d]=C.useState(null);return C.useEffect(()=>{let m=!0;return c.image.getUrlObject().then(y=>{m&&d(y)}),()=>{m=!1}},[c]),E.jsx(Zx,{xs:6,md:3,lg:2,style:{marginBottom:"1rem"},children:E.jsxs(bf,{onClick:()=>n(c),style:{cursor:"pointer"},children:[h?E.jsx(bf.Img,{variant:"top",src:h}):E.jsx("div",{style:{padding:"2rem",textAlign:"center"},children:E.jsx(eM,{animation:"border"})}),E.jsx(bf.Body,{children:E.jsx(bf.Text,{style:{fontSize:"0.8rem"},children:c.handle.name})})]})})},r=(c,h)=>E.jsxs("div",{style:{marginBottom:"2rem"},children:[E.jsx("h5",{children:c}),E.jsx(ZR,{children:h.map(d=>E.jsx(i,{art:d},d.handle.name))}),e&&h.includes(e)&&E.jsx("div",{style:{marginTop:"1rem"},children:E.jsx(v6,{art:e,onClose:()=>n(null)})})]},c),a=c=>E.jsxs("div",{style:{padding:"1rem"},children:[Object.entries(c).map(([h,d])=>r(h,d)),E.jsx("div",{style:{height:"500px"}})]}),u={};for(const c in t.data)u[c]=a(t.data[c]);return E.jsxs("div",{style:{padding:"1rem"},children:[E.jsx("h2",{className:"mb-3",children:"Artbook"}),E.jsx(Ea,{tabs:u})]})}),_6=ct(({art:t,scene:e})=>{const[n,i]=C.useState(null);if(C.useEffect(()=>{t.getArtInfo();let a=!0;return(async()=>{const c=await t.image.getUrlObject();a&&i(c||null)})(),()=>{a=!1,t.image.revokeUrl()}},[t]),!n)return null;const r=()=>{e.removeTag(t.path)};return E.jsxs("div",{className:"d-flex align-items-center justify-content-between",children:[E.jsxs("div",{className:"d-flex align-items-center",children:[E.jsx("img",{src:n,alt:t.handle.name,style:{width:40,height:40,objectFit:"cover",marginRight:8}}),E.jsxs("div",{children:[E.jsx("div",{children:t.handle.name}),E.jsx("small",{className:"text-muted",children:t.path}),t.artInfo&&E.jsx("div",{children:E.jsx("small",{children:t.artInfo.data?.description||""})})]})]}),E.jsx(ut,{onClick:r,label:"X"})]})}),S6=({art:t,onClick:e})=>{const[n,i]=C.useState("");return C.useEffect(()=>{let r=!0;return t.image.getUrlObject().then(a=>{r&&i(a)}),()=>{r=!1,t.image.revokeUrl()}},[t]),E.jsxs("div",{className:"px-2 py-1 hover-bg-light d-flex align-items-center",style:{cursor:"pointer",gap:6},onClick:e,children:[n&&E.jsx("img",{src:n,alt:t.handle.name,style:{width:36,height:36,objectFit:"cover",borderRadius:2}}),E.jsx("span",{children:t.handle.name})]})},f_=({onClick:t,label:e="Click",className:n="",is_loading:i=!1})=>E.jsx(ut,{onClick:t,className:`${n} ${i?"disabled":""}`,label:E.jsxs("span",{className:"d-flex align-items-center justify-content-center",children:[E.jsx("span",{className:"spinner-border spinner-border-sm me-2",role:"status","aria-hidden":"true",style:{animation:i?void 0:"none",borderColor:i?void 0:"#6c757d"}}),E.jsx("span",{children:e})]})});function Fe(t,e,{checkForDefaultPrevented:n=!0}={}){return function(r){if(t?.(r),n===!1||!r.defaultPrevented)return e?.(r)}}function iA(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function Th(...t){return e=>{let n=!1;const i=t.map(r=>{const a=iA(r,e);return!n&&typeof a=="function"&&(n=!0),a});if(n)return()=>{for(let r=0;r<i.length;r++){const a=i[r];typeof a=="function"?a():iA(t[r],null)}}}}function on(...t){return C.useCallback(Th(...t),t)}function $u(t,e=[]){let n=[];function i(a,u){const c=C.createContext(u),h=n.length;n=[...n,u];const d=y=>{const{scope:S,children:b,...T}=y,A=S?.[t]?.[h]||c,x=C.useMemo(()=>T,Object.values(T));return E.jsx(A.Provider,{value:x,children:b})};d.displayName=a+"Provider";function m(y,S){const b=S?.[t]?.[h]||c,T=C.useContext(b);if(T)return T;if(u!==void 0)return u;throw new Error(`\`${y}\` must be used within \`${a}\``)}return[d,m]}const r=()=>{const a=n.map(u=>C.createContext(u));return function(c){const h=c?.[t]||a;return C.useMemo(()=>({[`__scope${t}`]:{...c,[t]:h}}),[c,h])}};return r.scopeName=t,[i,b6(r,...e)]}function b6(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const i=t.map(r=>({useScope:r(),scopeName:r.scopeName}));return function(a){const u=i.reduce((c,{useScope:h,scopeName:d})=>{const y=h(a)[`__scope${d}`];return{...c,...y}},{});return C.useMemo(()=>({[`__scope${e.scopeName}`]:u}),[u])}};return n.scopeName=e.scopeName,n}var rr=globalThis?.document?C.useLayoutEffect:()=>{},E6=FA[" useInsertionEffect ".trim().toString()]||rr;function d_({prop:t,defaultProp:e,onChange:n=()=>{},caller:i}){const[r,a,u]=w6({defaultProp:e,onChange:n}),c=t!==void 0,h=c?t:r;{const m=C.useRef(t!==void 0);C.useEffect(()=>{const y=m.current;y!==c&&console.warn(`${i} is changing from ${y?"controlled":"uncontrolled"} to ${c?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),m.current=c},[c,i])}const d=C.useCallback(m=>{if(c){const y=C6(m)?m(t):m;y!==t&&u.current?.(y)}else a(m)},[c,t,a,u]);return[h,d]}function w6({defaultProp:t,onChange:e}){const[n,i]=C.useState(t),r=C.useRef(n),a=C.useRef(e);return E6(()=>{a.current=e},[e]),C.useEffect(()=>{r.current!==n&&(a.current?.(n),r.current=n)},[n,r]),[n,i,a]}function C6(t){return typeof t=="function"}function Bd(t){const e=T6(t),n=C.forwardRef((i,r)=>{const{children:a,...u}=i,c=C.Children.toArray(a),h=c.find(x6);if(h){const d=h.props.children,m=c.map(y=>y===h?C.Children.count(d)>1?C.Children.only(null):C.isValidElement(d)?d.props.children:null:y);return E.jsx(e,{...u,ref:r,children:C.isValidElement(d)?C.cloneElement(d,void 0,m):null})}return E.jsx(e,{...u,ref:r,children:a})});return n.displayName=`${t}.Slot`,n}function T6(t){const e=C.forwardRef((n,i)=>{const{children:r,...a}=n;if(C.isValidElement(r)){const u=M6(r),c=R6(a,r.props);return r.type!==C.Fragment&&(c.ref=i?Th(i,u):u),C.cloneElement(r,c)}return C.Children.count(r)>1?C.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var A6=Symbol("radix.slottable");function x6(t){return C.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===A6}function R6(t,e){const n={...e};for(const i in e){const r=t[i],a=e[i];/^on[A-Z]/.test(i)?r&&a?n[i]=(...c)=>{const h=a(...c);return r(...c),h}:r&&(n[i]=r):i==="style"?n[i]={...r,...a}:i==="className"&&(n[i]=[r,a].filter(Boolean).join(" "))}return{...t,...n}}function M6(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var N6=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],zt=N6.reduce((t,e)=>{const n=Bd(`Primitive.${e}`),i=C.forwardRef((r,a)=>{const{asChild:u,...c}=r,h=u?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),E.jsx(h,{...c,ref:a})});return i.displayName=`Primitive.${e}`,{...t,[e]:i}},{});function PI(t,e){t&&Qd.flushSync(()=>t.dispatchEvent(e))}function kI(t){const e=t+"CollectionProvider",[n,i]=$u(e),[r,a]=n(e,{collectionRef:{current:null},itemMap:new Map}),u=A=>{const{scope:x,children:M}=A,I=et.useRef(null),N=et.useRef(new Map).current;return E.jsx(r,{scope:x,itemMap:N,collectionRef:I,children:M})};u.displayName=e;const c=t+"CollectionSlot",h=Bd(c),d=et.forwardRef((A,x)=>{const{scope:M,children:I}=A,N=a(c,M),D=on(x,N.collectionRef);return E.jsx(h,{ref:D,children:I})});d.displayName=c;const m=t+"CollectionItemSlot",y="data-radix-collection-item",S=Bd(m),b=et.forwardRef((A,x)=>{const{scope:M,children:I,...N}=A,D=et.useRef(null),L=on(x,D),U=a(m,M);return et.useEffect(()=>(U.itemMap.set(D,{ref:D,...N}),()=>void U.itemMap.delete(D))),E.jsx(S,{[y]:"",ref:L,children:I})});b.displayName=m;function T(A){const x=a(t+"CollectionConsumer",A);return et.useCallback(()=>{const I=x.collectionRef.current;if(!I)return[];const N=Array.from(I.querySelectorAll(`[${y}]`));return Array.from(x.itemMap.values()).sort((U,O)=>N.indexOf(U.ref.current)-N.indexOf(O.ref.current))},[x.collectionRef,x.itemMap])}return[{Provider:u,Slot:d,ItemSlot:b},T,i]}var I6=C.createContext(void 0);function LI(t){const e=C.useContext(I6);return t||e||"ltr"}function Ii(t){const e=C.useRef(t);return C.useEffect(()=>{e.current=t}),C.useMemo(()=>(...n)=>e.current?.(...n),[])}function D6(t,e=globalThis?.document){const n=Ii(t);C.useEffect(()=>{const i=r=>{r.key==="Escape"&&n(r)};return e.addEventListener("keydown",i,{capture:!0}),()=>e.removeEventListener("keydown",i,{capture:!0})},[n,e])}var O6="DismissableLayer",Xv="dismissableLayer.update",P6="dismissableLayer.pointerDownOutside",k6="dismissableLayer.focusOutside",oA,UI=C.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),BI=C.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:i,onPointerDownOutside:r,onFocusOutside:a,onInteractOutside:u,onDismiss:c,...h}=t,d=C.useContext(UI),[m,y]=C.useState(null),S=m?.ownerDocument??globalThis?.document,[,b]=C.useState({}),T=on(e,O=>y(O)),A=Array.from(d.layers),[x]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),M=A.indexOf(x),I=m?A.indexOf(m):-1,N=d.layersWithOutsidePointerEventsDisabled.size>0,D=I>=M,L=B6(O=>{const q=O.target,J=[...d.branches].some(j=>j.contains(q));!D||J||(r?.(O),u?.(O),O.defaultPrevented||c?.())},S),U=F6(O=>{const q=O.target;[...d.branches].some(j=>j.contains(q))||(a?.(O),u?.(O),O.defaultPrevented||c?.())},S);return D6(O=>{I===d.layers.size-1&&(i?.(O),!O.defaultPrevented&&c&&(O.preventDefault(),c()))},S),C.useEffect(()=>{if(m)return n&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(oA=S.body.style.pointerEvents,S.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(m)),d.layers.add(m),rA(),()=>{n&&d.layersWithOutsidePointerEventsDisabled.size===1&&(S.body.style.pointerEvents=oA)}},[m,S,n,d]),C.useEffect(()=>()=>{m&&(d.layers.delete(m),d.layersWithOutsidePointerEventsDisabled.delete(m),rA())},[m,d]),C.useEffect(()=>{const O=()=>b({});return document.addEventListener(Xv,O),()=>document.removeEventListener(Xv,O)},[]),E.jsx(zt.div,{...h,ref:T,style:{pointerEvents:N?D?"auto":"none":void 0,...t.style},onFocusCapture:Fe(t.onFocusCapture,U.onFocusCapture),onBlurCapture:Fe(t.onBlurCapture,U.onBlurCapture),onPointerDownCapture:Fe(t.onPointerDownCapture,L.onPointerDownCapture)})});BI.displayName=O6;var L6="DismissableLayerBranch",U6=C.forwardRef((t,e)=>{const n=C.useContext(UI),i=C.useRef(null),r=on(e,i);return C.useEffect(()=>{const a=i.current;if(a)return n.branches.add(a),()=>{n.branches.delete(a)}},[n.branches]),E.jsx(zt.div,{...t,ref:r})});U6.displayName=L6;function B6(t,e=globalThis?.document){const n=Ii(t),i=C.useRef(!1),r=C.useRef(()=>{});return C.useEffect(()=>{const a=c=>{if(c.target&&!i.current){let h=function(){FI(P6,n,d,{discrete:!0})};const d={originalEvent:c};c.pointerType==="touch"?(e.removeEventListener("click",r.current),r.current=h,e.addEventListener("click",r.current,{once:!0})):h()}else e.removeEventListener("click",r.current);i.current=!1},u=window.setTimeout(()=>{e.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(u),e.removeEventListener("pointerdown",a),e.removeEventListener("click",r.current)}},[e,n]),{onPointerDownCapture:()=>i.current=!0}}function F6(t,e=globalThis?.document){const n=Ii(t),i=C.useRef(!1);return C.useEffect(()=>{const r=a=>{a.target&&!i.current&&FI(k6,n,{originalEvent:a},{discrete:!1})};return e.addEventListener("focusin",r),()=>e.removeEventListener("focusin",r)},[e,n]),{onFocusCapture:()=>i.current=!0,onBlurCapture:()=>i.current=!1}}function rA(){const t=new CustomEvent(Xv);document.dispatchEvent(t)}function FI(t,e,n,{discrete:i}){const r=n.originalEvent.target,a=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&r.addEventListener(t,e,{once:!0}),i?PI(r,a):r.dispatchEvent(a)}var Lg=0;function $6(){C.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??sA()),document.body.insertAdjacentElement("beforeend",t[1]??sA()),Lg++,()=>{Lg===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Lg--}},[])}function sA(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Ug="focusScope.autoFocusOnMount",Bg="focusScope.autoFocusOnUnmount",aA={bubbles:!1,cancelable:!0},H6="FocusScope",$I=C.forwardRef((t,e)=>{const{loop:n=!1,trapped:i=!1,onMountAutoFocus:r,onUnmountAutoFocus:a,...u}=t,[c,h]=C.useState(null),d=Ii(r),m=Ii(a),y=C.useRef(null),S=on(e,A=>h(A)),b=C.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;C.useEffect(()=>{if(i){let A=function(N){if(b.paused||!c)return;const D=N.target;c.contains(D)?y.current=D:Xo(y.current,{select:!0})},x=function(N){if(b.paused||!c)return;const D=N.relatedTarget;D!==null&&(c.contains(D)||Xo(y.current,{select:!0}))},M=function(N){if(document.activeElement===document.body)for(const L of N)L.removedNodes.length>0&&Xo(c)};document.addEventListener("focusin",A),document.addEventListener("focusout",x);const I=new MutationObserver(M);return c&&I.observe(c,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",A),document.removeEventListener("focusout",x),I.disconnect()}}},[i,c,b.paused]),C.useEffect(()=>{if(c){uA.add(b);const A=document.activeElement;if(!c.contains(A)){const M=new CustomEvent(Ug,aA);c.addEventListener(Ug,d),c.dispatchEvent(M),M.defaultPrevented||(G6(K6(HI(c)),{select:!0}),document.activeElement===A&&Xo(c))}return()=>{c.removeEventListener(Ug,d),setTimeout(()=>{const M=new CustomEvent(Bg,aA);c.addEventListener(Bg,m),c.dispatchEvent(M),M.defaultPrevented||Xo(A??document.body,{select:!0}),c.removeEventListener(Bg,m),uA.remove(b)},0)}}},[c,d,m,b]);const T=C.useCallback(A=>{if(!n&&!i||b.paused)return;const x=A.key==="Tab"&&!A.altKey&&!A.ctrlKey&&!A.metaKey,M=document.activeElement;if(x&&M){const I=A.currentTarget,[N,D]=V6(I);N&&D?!A.shiftKey&&M===D?(A.preventDefault(),n&&Xo(N,{select:!0})):A.shiftKey&&M===N&&(A.preventDefault(),n&&Xo(D,{select:!0})):M===I&&A.preventDefault()}},[n,i,b.paused]);return E.jsx(zt.div,{tabIndex:-1,...u,ref:S,onKeyDown:T})});$I.displayName=H6;function G6(t,{select:e=!1}={}){const n=document.activeElement;for(const i of t)if(Xo(i,{select:e}),document.activeElement!==n)return}function V6(t){const e=HI(t),n=lA(e,t),i=lA(e.reverse(),t);return[n,i]}function HI(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:i=>{const r=i.tagName==="INPUT"&&i.type==="hidden";return i.disabled||i.hidden||r?NodeFilter.FILTER_SKIP:i.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function lA(t,e){for(const n of t)if(!z6(n,{upTo:e}))return n}function z6(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function q6(t){return t instanceof HTMLInputElement&&"select"in t}function Xo(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&q6(t)&&e&&t.select()}}var uA=J6();function J6(){let t=[];return{add(e){const n=t[0];e!==n&&n?.pause(),t=cA(t,e),t.unshift(e)},remove(e){t=cA(t,e),t[0]?.resume()}}}function cA(t,e){const n=[...t],i=n.indexOf(e);return i!==-1&&n.splice(i,1),n}function K6(t){return t.filter(e=>e.tagName!=="A")}var Y6=FA[" useId ".trim().toString()]||(()=>{}),j6=0;function du(t){const[e,n]=C.useState(Y6());return rr(()=>{n(i=>i??String(j6++))},[t]),t||(e?`radix-${e}`:"")}const X6=["top","right","bottom","left"],sr=Math.min,yn=Math.max,Fd=Math.round,Bf=Math.floor,Ni=t=>({x:t,y:t}),W6={left:"right",right:"left",bottom:"top",top:"bottom"},Q6={start:"end",end:"start"};function Wv(t,e,n){return yn(t,sr(e,n))}function go(t,e){return typeof t=="function"?t(e):t}function vo(t){return t.split("-")[0]}function Oa(t){return t.split("-")[1]}function h_(t){return t==="x"?"y":"x"}function p_(t){return t==="y"?"height":"width"}const Z6=new Set(["top","bottom"]);function wi(t){return Z6.has(vo(t))?"y":"x"}function m_(t){return h_(wi(t))}function e5(t,e,n){n===void 0&&(n=!1);const i=Oa(t),r=m_(t),a=p_(r);let u=r==="x"?i===(n?"end":"start")?"right":"left":i==="start"?"bottom":"top";return e.reference[a]>e.floating[a]&&(u=$d(u)),[u,$d(u)]}function t5(t){const e=$d(t);return[Qv(t),e,Qv(e)]}function Qv(t){return t.replace(/start|end/g,e=>Q6[e])}const fA=["left","right"],dA=["right","left"],n5=["top","bottom"],i5=["bottom","top"];function o5(t,e,n){switch(t){case"top":case"bottom":return n?e?dA:fA:e?fA:dA;case"left":case"right":return e?n5:i5;default:return[]}}function r5(t,e,n,i){const r=Oa(t);let a=o5(vo(t),n==="start",i);return r&&(a=a.map(u=>u+"-"+r),e&&(a=a.concat(a.map(Qv)))),a}function $d(t){return t.replace(/left|right|bottom|top/g,e=>W6[e])}function s5(t){return{top:0,right:0,bottom:0,left:0,...t}}function GI(t){return typeof t!="number"?s5(t):{top:t,right:t,bottom:t,left:t}}function Hd(t){const{x:e,y:n,width:i,height:r}=t;return{width:i,height:r,top:n,left:e,right:e+i,bottom:n+r,x:e,y:n}}function hA(t,e,n){let{reference:i,floating:r}=t;const a=wi(e),u=m_(e),c=p_(u),h=vo(e),d=a==="y",m=i.x+i.width/2-r.width/2,y=i.y+i.height/2-r.height/2,S=i[c]/2-r[c]/2;let b;switch(h){case"top":b={x:m,y:i.y-r.height};break;case"bottom":b={x:m,y:i.y+i.height};break;case"right":b={x:i.x+i.width,y};break;case"left":b={x:i.x-r.width,y};break;default:b={x:i.x,y:i.y}}switch(Oa(e)){case"start":b[u]-=S*(n&&d?-1:1);break;case"end":b[u]+=S*(n&&d?-1:1);break}return b}const a5=async(t,e,n)=>{const{placement:i="bottom",strategy:r="absolute",middleware:a=[],platform:u}=n,c=a.filter(Boolean),h=await(u.isRTL==null?void 0:u.isRTL(e));let d=await u.getElementRects({reference:t,floating:e,strategy:r}),{x:m,y}=hA(d,i,h),S=i,b={},T=0;for(let A=0;A<c.length;A++){const{name:x,fn:M}=c[A],{x:I,y:N,data:D,reset:L}=await M({x:m,y,initialPlacement:i,placement:S,strategy:r,middlewareData:b,rects:d,platform:u,elements:{reference:t,floating:e}});m=I??m,y=N??y,b={...b,[x]:{...b[x],...D}},L&&T<=50&&(T++,typeof L=="object"&&(L.placement&&(S=L.placement),L.rects&&(d=L.rects===!0?await u.getElementRects({reference:t,floating:e,strategy:r}):L.rects),{x:m,y}=hA(d,S,h)),A=-1)}return{x:m,y,placement:S,strategy:r,middlewareData:b}};async function hu(t,e){var n;e===void 0&&(e={});const{x:i,y:r,platform:a,rects:u,elements:c,strategy:h}=t,{boundary:d="clippingAncestors",rootBoundary:m="viewport",elementContext:y="floating",altBoundary:S=!1,padding:b=0}=go(e,t),T=GI(b),x=c[S?y==="floating"?"reference":"floating":y],M=Hd(await a.getClippingRect({element:(n=await(a.isElement==null?void 0:a.isElement(x)))==null||n?x:x.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(c.floating)),boundary:d,rootBoundary:m,strategy:h})),I=y==="floating"?{x:i,y:r,width:u.floating.width,height:u.floating.height}:u.reference,N=await(a.getOffsetParent==null?void 0:a.getOffsetParent(c.floating)),D=await(a.isElement==null?void 0:a.isElement(N))?await(a.getScale==null?void 0:a.getScale(N))||{x:1,y:1}:{x:1,y:1},L=Hd(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:I,offsetParent:N,strategy:h}):I);return{top:(M.top-L.top+T.top)/D.y,bottom:(L.bottom-M.bottom+T.bottom)/D.y,left:(M.left-L.left+T.left)/D.x,right:(L.right-M.right+T.right)/D.x}}const l5=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:i,placement:r,rects:a,platform:u,elements:c,middlewareData:h}=e,{element:d,padding:m=0}=go(t,e)||{};if(d==null)return{};const y=GI(m),S={x:n,y:i},b=m_(r),T=p_(b),A=await u.getDimensions(d),x=b==="y",M=x?"top":"left",I=x?"bottom":"right",N=x?"clientHeight":"clientWidth",D=a.reference[T]+a.reference[b]-S[b]-a.floating[T],L=S[b]-a.reference[b],U=await(u.getOffsetParent==null?void 0:u.getOffsetParent(d));let O=U?U[N]:0;(!O||!await(u.isElement==null?void 0:u.isElement(U)))&&(O=c.floating[N]||a.floating[T]);const q=D/2-L/2,J=O/2-A[T]/2-1,j=sr(y[M],J),W=sr(y[I],J),re=j,ie=O-A[T]-W,ae=O/2-A[T]/2+q,de=Wv(re,ae,ie),F=!h.arrow&&Oa(r)!=null&&ae!==de&&a.reference[T]/2-(ae<re?j:W)-A[T]/2<0,Q=F?ae<re?ae-re:ae-ie:0;return{[b]:S[b]+Q,data:{[b]:de,centerOffset:ae-de-Q,...F&&{alignmentOffset:Q}},reset:F}}}),u5=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,i;const{placement:r,middlewareData:a,rects:u,initialPlacement:c,platform:h,elements:d}=e,{mainAxis:m=!0,crossAxis:y=!0,fallbackPlacements:S,fallbackStrategy:b="bestFit",fallbackAxisSideDirection:T="none",flipAlignment:A=!0,...x}=go(t,e);if((n=a.arrow)!=null&&n.alignmentOffset)return{};const M=vo(r),I=wi(c),N=vo(c)===c,D=await(h.isRTL==null?void 0:h.isRTL(d.floating)),L=S||(N||!A?[$d(c)]:t5(c)),U=T!=="none";!S&&U&&L.push(...r5(c,A,T,D));const O=[c,...L],q=await hu(e,x),J=[];let j=((i=a.flip)==null?void 0:i.overflows)||[];if(m&&J.push(q[M]),y){const ae=e5(r,u,D);J.push(q[ae[0]],q[ae[1]])}if(j=[...j,{placement:r,overflows:J}],!J.every(ae=>ae<=0)){var W,re;const ae=(((W=a.flip)==null?void 0:W.index)||0)+1,de=O[ae];if(de&&(!(y==="alignment"?I!==wi(de):!1)||j.every(ee=>wi(ee.placement)===I?ee.overflows[0]>0:!0)))return{data:{index:ae,overflows:j},reset:{placement:de}};let F=(re=j.filter(Q=>Q.overflows[0]<=0).sort((Q,ee)=>Q.overflows[1]-ee.overflows[1])[0])==null?void 0:re.placement;if(!F)switch(b){case"bestFit":{var ie;const Q=(ie=j.filter(ee=>{if(U){const ne=wi(ee.placement);return ne===I||ne==="y"}return!0}).map(ee=>[ee.placement,ee.overflows.filter(ne=>ne>0).reduce((ne,ce)=>ne+ce,0)]).sort((ee,ne)=>ee[1]-ne[1])[0])==null?void 0:ie[0];Q&&(F=Q);break}case"initialPlacement":F=c;break}if(r!==F)return{reset:{placement:F}}}return{}}}};function pA(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function mA(t){return X6.some(e=>t[e]>=0)}const c5=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:i="referenceHidden",...r}=go(t,e);switch(i){case"referenceHidden":{const a=await hu(e,{...r,elementContext:"reference"}),u=pA(a,n.reference);return{data:{referenceHiddenOffsets:u,referenceHidden:mA(u)}}}case"escaped":{const a=await hu(e,{...r,altBoundary:!0}),u=pA(a,n.floating);return{data:{escapedOffsets:u,escaped:mA(u)}}}default:return{}}}}},VI=new Set(["left","top"]);async function f5(t,e){const{placement:n,platform:i,elements:r}=t,a=await(i.isRTL==null?void 0:i.isRTL(r.floating)),u=vo(n),c=Oa(n),h=wi(n)==="y",d=VI.has(u)?-1:1,m=a&&h?-1:1,y=go(e,t);let{mainAxis:S,crossAxis:b,alignmentAxis:T}=typeof y=="number"?{mainAxis:y,crossAxis:0,alignmentAxis:null}:{mainAxis:y.mainAxis||0,crossAxis:y.crossAxis||0,alignmentAxis:y.alignmentAxis};return c&&typeof T=="number"&&(b=c==="end"?T*-1:T),h?{x:b*m,y:S*d}:{x:S*d,y:b*m}}const d5=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,i;const{x:r,y:a,placement:u,middlewareData:c}=e,h=await f5(e,t);return u===((n=c.offset)==null?void 0:n.placement)&&(i=c.arrow)!=null&&i.alignmentOffset?{}:{x:r+h.x,y:a+h.y,data:{...h,placement:u}}}}},h5=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:i,placement:r}=e,{mainAxis:a=!0,crossAxis:u=!1,limiter:c={fn:x=>{let{x:M,y:I}=x;return{x:M,y:I}}},...h}=go(t,e),d={x:n,y:i},m=await hu(e,h),y=wi(vo(r)),S=h_(y);let b=d[S],T=d[y];if(a){const x=S==="y"?"top":"left",M=S==="y"?"bottom":"right",I=b+m[x],N=b-m[M];b=Wv(I,b,N)}if(u){const x=y==="y"?"top":"left",M=y==="y"?"bottom":"right",I=T+m[x],N=T-m[M];T=Wv(I,T,N)}const A=c.fn({...e,[S]:b,[y]:T});return{...A,data:{x:A.x-n,y:A.y-i,enabled:{[S]:a,[y]:u}}}}}},p5=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:i,placement:r,rects:a,middlewareData:u}=e,{offset:c=0,mainAxis:h=!0,crossAxis:d=!0}=go(t,e),m={x:n,y:i},y=wi(r),S=h_(y);let b=m[S],T=m[y];const A=go(c,e),x=typeof A=="number"?{mainAxis:A,crossAxis:0}:{mainAxis:0,crossAxis:0,...A};if(h){const N=S==="y"?"height":"width",D=a.reference[S]-a.floating[N]+x.mainAxis,L=a.reference[S]+a.reference[N]-x.mainAxis;b<D?b=D:b>L&&(b=L)}if(d){var M,I;const N=S==="y"?"width":"height",D=VI.has(vo(r)),L=a.reference[y]-a.floating[N]+(D&&((M=u.offset)==null?void 0:M[y])||0)+(D?0:x.crossAxis),U=a.reference[y]+a.reference[N]+(D?0:((I=u.offset)==null?void 0:I[y])||0)-(D?x.crossAxis:0);T<L?T=L:T>U&&(T=U)}return{[S]:b,[y]:T}}}},m5=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,i;const{placement:r,rects:a,platform:u,elements:c}=e,{apply:h=()=>{},...d}=go(t,e),m=await hu(e,d),y=vo(r),S=Oa(r),b=wi(r)==="y",{width:T,height:A}=a.floating;let x,M;y==="top"||y==="bottom"?(x=y,M=S===(await(u.isRTL==null?void 0:u.isRTL(c.floating))?"start":"end")?"left":"right"):(M=y,x=S==="end"?"top":"bottom");const I=A-m.top-m.bottom,N=T-m.left-m.right,D=sr(A-m[x],I),L=sr(T-m[M],N),U=!e.middlewareData.shift;let O=D,q=L;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(q=N),(i=e.middlewareData.shift)!=null&&i.enabled.y&&(O=I),U&&!S){const j=yn(m.left,0),W=yn(m.right,0),re=yn(m.top,0),ie=yn(m.bottom,0);b?q=T-2*(j!==0||W!==0?j+W:yn(m.left,m.right)):O=A-2*(re!==0||ie!==0?re+ie:yn(m.top,m.bottom))}await h({...e,availableWidth:q,availableHeight:O});const J=await u.getDimensions(c.floating);return T!==J.width||A!==J.height?{reset:{rects:!0}}:{}}}};function Ah(){return typeof window<"u"}function Pa(t){return zI(t)?(t.nodeName||"").toLowerCase():"#document"}function bn(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Pi(t){var e;return(e=(zI(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function zI(t){return Ah()?t instanceof Node||t instanceof bn(t).Node:!1}function li(t){return Ah()?t instanceof Element||t instanceof bn(t).Element:!1}function Di(t){return Ah()?t instanceof HTMLElement||t instanceof bn(t).HTMLElement:!1}function gA(t){return!Ah()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof bn(t).ShadowRoot}const g5=new Set(["inline","contents"]);function Hu(t){const{overflow:e,overflowX:n,overflowY:i,display:r}=ui(t);return/auto|scroll|overlay|hidden|clip/.test(e+i+n)&&!g5.has(r)}const v5=new Set(["table","td","th"]);function y5(t){return v5.has(Pa(t))}const _5=[":popover-open",":modal"];function xh(t){return _5.some(e=>{try{return t.matches(e)}catch{return!1}})}const S5=["transform","translate","scale","rotate","perspective"],b5=["transform","translate","scale","rotate","perspective","filter"],E5=["paint","layout","strict","content"];function g_(t){const e=v_(),n=li(t)?ui(t):t;return S5.some(i=>n[i]?n[i]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||b5.some(i=>(n.willChange||"").includes(i))||E5.some(i=>(n.contain||"").includes(i))}function w5(t){let e=ar(t);for(;Di(e)&&!wa(e);){if(g_(e))return e;if(xh(e))return null;e=ar(e)}return null}function v_(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const C5=new Set(["html","body","#document"]);function wa(t){return C5.has(Pa(t))}function ui(t){return bn(t).getComputedStyle(t)}function Rh(t){return li(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function ar(t){if(Pa(t)==="html")return t;const e=t.assignedSlot||t.parentNode||gA(t)&&t.host||Pi(t);return gA(e)?e.host:e}function qI(t){const e=ar(t);return wa(e)?t.ownerDocument?t.ownerDocument.body:t.body:Di(e)&&Hu(e)?e:qI(e)}function pu(t,e,n){var i;e===void 0&&(e=[]),n===void 0&&(n=!0);const r=qI(t),a=r===((i=t.ownerDocument)==null?void 0:i.body),u=bn(r);if(a){const c=Zv(u);return e.concat(u,u.visualViewport||[],Hu(r)?r:[],c&&n?pu(c):[])}return e.concat(r,pu(r,[],n))}function Zv(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function JI(t){const e=ui(t);let n=parseFloat(e.width)||0,i=parseFloat(e.height)||0;const r=Di(t),a=r?t.offsetWidth:n,u=r?t.offsetHeight:i,c=Fd(n)!==a||Fd(i)!==u;return c&&(n=a,i=u),{width:n,height:i,$:c}}function y_(t){return li(t)?t:t.contextElement}function da(t){const e=y_(t);if(!Di(e))return Ni(1);const n=e.getBoundingClientRect(),{width:i,height:r,$:a}=JI(e);let u=(a?Fd(n.width):n.width)/i,c=(a?Fd(n.height):n.height)/r;return(!u||!Number.isFinite(u))&&(u=1),(!c||!Number.isFinite(c))&&(c=1),{x:u,y:c}}const T5=Ni(0);function KI(t){const e=bn(t);return!v_()||!e.visualViewport?T5:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function A5(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==bn(t)?!1:e}function Qr(t,e,n,i){e===void 0&&(e=!1),n===void 0&&(n=!1);const r=t.getBoundingClientRect(),a=y_(t);let u=Ni(1);e&&(i?li(i)&&(u=da(i)):u=da(t));const c=A5(a,n,i)?KI(a):Ni(0);let h=(r.left+c.x)/u.x,d=(r.top+c.y)/u.y,m=r.width/u.x,y=r.height/u.y;if(a){const S=bn(a),b=i&&li(i)?bn(i):i;let T=S,A=Zv(T);for(;A&&i&&b!==T;){const x=da(A),M=A.getBoundingClientRect(),I=ui(A),N=M.left+(A.clientLeft+parseFloat(I.paddingLeft))*x.x,D=M.top+(A.clientTop+parseFloat(I.paddingTop))*x.y;h*=x.x,d*=x.y,m*=x.x,y*=x.y,h+=N,d+=D,T=bn(A),A=Zv(T)}}return Hd({width:m,height:y,x:h,y:d})}function Mh(t,e){const n=Rh(t).scrollLeft;return e?e.left+n:Qr(Pi(t)).left+n}function YI(t,e){const n=t.getBoundingClientRect(),i=n.left+e.scrollLeft-Mh(t,n),r=n.top+e.scrollTop;return{x:i,y:r}}function x5(t){let{elements:e,rect:n,offsetParent:i,strategy:r}=t;const a=r==="fixed",u=Pi(i),c=e?xh(e.floating):!1;if(i===u||c&&a)return n;let h={scrollLeft:0,scrollTop:0},d=Ni(1);const m=Ni(0),y=Di(i);if((y||!y&&!a)&&((Pa(i)!=="body"||Hu(u))&&(h=Rh(i)),Di(i))){const b=Qr(i);d=da(i),m.x=b.x+i.clientLeft,m.y=b.y+i.clientTop}const S=u&&!y&&!a?YI(u,h):Ni(0);return{width:n.width*d.x,height:n.height*d.y,x:n.x*d.x-h.scrollLeft*d.x+m.x+S.x,y:n.y*d.y-h.scrollTop*d.y+m.y+S.y}}function R5(t){return Array.from(t.getClientRects())}function M5(t){const e=Pi(t),n=Rh(t),i=t.ownerDocument.body,r=yn(e.scrollWidth,e.clientWidth,i.scrollWidth,i.clientWidth),a=yn(e.scrollHeight,e.clientHeight,i.scrollHeight,i.clientHeight);let u=-n.scrollLeft+Mh(t);const c=-n.scrollTop;return ui(i).direction==="rtl"&&(u+=yn(e.clientWidth,i.clientWidth)-r),{width:r,height:a,x:u,y:c}}const vA=25;function N5(t,e){const n=bn(t),i=Pi(t),r=n.visualViewport;let a=i.clientWidth,u=i.clientHeight,c=0,h=0;if(r){a=r.width,u=r.height;const m=v_();(!m||m&&e==="fixed")&&(c=r.offsetLeft,h=r.offsetTop)}const d=Mh(i);if(d<=0){const m=i.ownerDocument,y=m.body,S=getComputedStyle(y),b=m.compatMode==="CSS1Compat"&&parseFloat(S.marginLeft)+parseFloat(S.marginRight)||0,T=Math.abs(i.clientWidth-y.clientWidth-b);T<=vA&&(a-=T)}else d<=vA&&(a+=d);return{width:a,height:u,x:c,y:h}}const I5=new Set(["absolute","fixed"]);function D5(t,e){const n=Qr(t,!0,e==="fixed"),i=n.top+t.clientTop,r=n.left+t.clientLeft,a=Di(t)?da(t):Ni(1),u=t.clientWidth*a.x,c=t.clientHeight*a.y,h=r*a.x,d=i*a.y;return{width:u,height:c,x:h,y:d}}function yA(t,e,n){let i;if(e==="viewport")i=N5(t,n);else if(e==="document")i=M5(Pi(t));else if(li(e))i=D5(e,n);else{const r=KI(t);i={x:e.x-r.x,y:e.y-r.y,width:e.width,height:e.height}}return Hd(i)}function jI(t,e){const n=ar(t);return n===e||!li(n)||wa(n)?!1:ui(n).position==="fixed"||jI(n,e)}function O5(t,e){const n=e.get(t);if(n)return n;let i=pu(t,[],!1).filter(c=>li(c)&&Pa(c)!=="body"),r=null;const a=ui(t).position==="fixed";let u=a?ar(t):t;for(;li(u)&&!wa(u);){const c=ui(u),h=g_(u);!h&&c.position==="fixed"&&(r=null),(a?!h&&!r:!h&&c.position==="static"&&!!r&&I5.has(r.position)||Hu(u)&&!h&&jI(t,u))?i=i.filter(m=>m!==u):r=c,u=ar(u)}return e.set(t,i),i}function P5(t){let{element:e,boundary:n,rootBoundary:i,strategy:r}=t;const u=[...n==="clippingAncestors"?xh(e)?[]:O5(e,this._c):[].concat(n),i],c=u[0],h=u.reduce((d,m)=>{const y=yA(e,m,r);return d.top=yn(y.top,d.top),d.right=sr(y.right,d.right),d.bottom=sr(y.bottom,d.bottom),d.left=yn(y.left,d.left),d},yA(e,c,r));return{width:h.right-h.left,height:h.bottom-h.top,x:h.left,y:h.top}}function k5(t){const{width:e,height:n}=JI(t);return{width:e,height:n}}function L5(t,e,n){const i=Di(e),r=Pi(e),a=n==="fixed",u=Qr(t,!0,a,e);let c={scrollLeft:0,scrollTop:0};const h=Ni(0);function d(){h.x=Mh(r)}if(i||!i&&!a)if((Pa(e)!=="body"||Hu(r))&&(c=Rh(e)),i){const b=Qr(e,!0,a,e);h.x=b.x+e.clientLeft,h.y=b.y+e.clientTop}else r&&d();a&&!i&&r&&d();const m=r&&!i&&!a?YI(r,c):Ni(0),y=u.left+c.scrollLeft-h.x-m.x,S=u.top+c.scrollTop-h.y-m.y;return{x:y,y:S,width:u.width,height:u.height}}function Fg(t){return ui(t).position==="static"}function _A(t,e){if(!Di(t)||ui(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Pi(t)===n&&(n=n.ownerDocument.body),n}function XI(t,e){const n=bn(t);if(xh(t))return n;if(!Di(t)){let r=ar(t);for(;r&&!wa(r);){if(li(r)&&!Fg(r))return r;r=ar(r)}return n}let i=_A(t,e);for(;i&&y5(i)&&Fg(i);)i=_A(i,e);return i&&wa(i)&&Fg(i)&&!g_(i)?n:i||w5(t)||n}const U5=async function(t){const e=this.getOffsetParent||XI,n=this.getDimensions,i=await n(t.floating);return{reference:L5(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:i.width,height:i.height}}};function B5(t){return ui(t).direction==="rtl"}const F5={convertOffsetParentRelativeRectToViewportRelativeRect:x5,getDocumentElement:Pi,getClippingRect:P5,getOffsetParent:XI,getElementRects:U5,getClientRects:R5,getDimensions:k5,getScale:da,isElement:li,isRTL:B5};function WI(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function $5(t,e){let n=null,i;const r=Pi(t);function a(){var c;clearTimeout(i),(c=n)==null||c.disconnect(),n=null}function u(c,h){c===void 0&&(c=!1),h===void 0&&(h=1),a();const d=t.getBoundingClientRect(),{left:m,top:y,width:S,height:b}=d;if(c||e(),!S||!b)return;const T=Bf(y),A=Bf(r.clientWidth-(m+S)),x=Bf(r.clientHeight-(y+b)),M=Bf(m),N={rootMargin:-T+"px "+-A+"px "+-x+"px "+-M+"px",threshold:yn(0,sr(1,h))||1};let D=!0;function L(U){const O=U[0].intersectionRatio;if(O!==h){if(!D)return u();O?u(!1,O):i=setTimeout(()=>{u(!1,1e-7)},1e3)}O===1&&!WI(d,t.getBoundingClientRect())&&u(),D=!1}try{n=new IntersectionObserver(L,{...N,root:r.ownerDocument})}catch{n=new IntersectionObserver(L,N)}n.observe(t)}return u(!0),a}function H5(t,e,n,i){i===void 0&&(i={});const{ancestorScroll:r=!0,ancestorResize:a=!0,elementResize:u=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:h=!1}=i,d=y_(t),m=r||a?[...d?pu(d):[],...pu(e)]:[];m.forEach(M=>{r&&M.addEventListener("scroll",n,{passive:!0}),a&&M.addEventListener("resize",n)});const y=d&&c?$5(d,n):null;let S=-1,b=null;u&&(b=new ResizeObserver(M=>{let[I]=M;I&&I.target===d&&b&&(b.unobserve(e),cancelAnimationFrame(S),S=requestAnimationFrame(()=>{var N;(N=b)==null||N.observe(e)})),n()}),d&&!h&&b.observe(d),b.observe(e));let T,A=h?Qr(t):null;h&&x();function x(){const M=Qr(t);A&&!WI(A,M)&&n(),A=M,T=requestAnimationFrame(x)}return n(),()=>{var M;m.forEach(I=>{r&&I.removeEventListener("scroll",n),a&&I.removeEventListener("resize",n)}),y?.(),(M=b)==null||M.disconnect(),b=null,h&&cancelAnimationFrame(T)}}const G5=d5,V5=h5,z5=u5,q5=m5,J5=c5,SA=l5,K5=p5,Y5=(t,e,n)=>{const i=new Map,r={platform:F5,...n},a={...r.platform,_c:i};return a5(t,e,{...r,platform:a})};var j5=typeof document<"u",X5=function(){},ad=j5?C.useLayoutEffect:X5;function Gd(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,i,r;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(i=n;i--!==0;)if(!Gd(t[i],e[i]))return!1;return!0}if(r=Object.keys(t),n=r.length,n!==Object.keys(e).length)return!1;for(i=n;i--!==0;)if(!{}.hasOwnProperty.call(e,r[i]))return!1;for(i=n;i--!==0;){const a=r[i];if(!(a==="_owner"&&t.$$typeof)&&!Gd(t[a],e[a]))return!1}return!0}return t!==t&&e!==e}function QI(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function bA(t,e){const n=QI(t);return Math.round(e*n)/n}function $g(t){const e=C.useRef(t);return ad(()=>{e.current=t}),e}function W5(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:i=[],platform:r,elements:{reference:a,floating:u}={},transform:c=!0,whileElementsMounted:h,open:d}=t,[m,y]=C.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[S,b]=C.useState(i);Gd(S,i)||b(i);const[T,A]=C.useState(null),[x,M]=C.useState(null),I=C.useCallback(ee=>{ee!==U.current&&(U.current=ee,A(ee))},[]),N=C.useCallback(ee=>{ee!==O.current&&(O.current=ee,M(ee))},[]),D=a||T,L=u||x,U=C.useRef(null),O=C.useRef(null),q=C.useRef(m),J=h!=null,j=$g(h),W=$g(r),re=$g(d),ie=C.useCallback(()=>{if(!U.current||!O.current)return;const ee={placement:e,strategy:n,middleware:S};W.current&&(ee.platform=W.current),Y5(U.current,O.current,ee).then(ne=>{const ce={...ne,isPositioned:re.current!==!1};ae.current&&!Gd(q.current,ce)&&(q.current=ce,Qd.flushSync(()=>{y(ce)}))})},[S,e,n,W,re]);ad(()=>{d===!1&&q.current.isPositioned&&(q.current.isPositioned=!1,y(ee=>({...ee,isPositioned:!1})))},[d]);const ae=C.useRef(!1);ad(()=>(ae.current=!0,()=>{ae.current=!1}),[]),ad(()=>{if(D&&(U.current=D),L&&(O.current=L),D&&L){if(j.current)return j.current(D,L,ie);ie()}},[D,L,ie,j,J]);const de=C.useMemo(()=>({reference:U,floating:O,setReference:I,setFloating:N}),[I,N]),F=C.useMemo(()=>({reference:D,floating:L}),[D,L]),Q=C.useMemo(()=>{const ee={position:n,left:0,top:0};if(!F.floating)return ee;const ne=bA(F.floating,m.x),ce=bA(F.floating,m.y);return c?{...ee,transform:"translate("+ne+"px, "+ce+"px)",...QI(F.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:ne,top:ce}},[n,c,F.floating,m.x,m.y]);return C.useMemo(()=>({...m,update:ie,refs:de,elements:F,floatingStyles:Q}),[m,ie,de,F,Q])}const Q5=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:i,padding:r}=typeof t=="function"?t(n):t;return i&&e(i)?i.current!=null?SA({element:i.current,padding:r}).fn(n):{}:i?SA({element:i,padding:r}).fn(n):{}}}},Z5=(t,e)=>({...G5(t),options:[t,e]}),e8=(t,e)=>({...V5(t),options:[t,e]}),t8=(t,e)=>({...K5(t),options:[t,e]}),n8=(t,e)=>({...z5(t),options:[t,e]}),i8=(t,e)=>({...q5(t),options:[t,e]}),o8=(t,e)=>({...J5(t),options:[t,e]}),r8=(t,e)=>({...Q5(t),options:[t,e]});var s8="Arrow",ZI=C.forwardRef((t,e)=>{const{children:n,width:i=10,height:r=5,...a}=t;return E.jsx(zt.svg,{...a,ref:e,width:i,height:r,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:E.jsx("polygon",{points:"0,0 30,0 15,10"})})});ZI.displayName=s8;var a8=ZI;function l8(t){const[e,n]=C.useState(void 0);return rr(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const i=new ResizeObserver(r=>{if(!Array.isArray(r)||!r.length)return;const a=r[0];let u,c;if("borderBoxSize"in a){const h=a.borderBoxSize,d=Array.isArray(h)?h[0]:h;u=d.inlineSize,c=d.blockSize}else u=t.offsetWidth,c=t.offsetHeight;n({width:u,height:c})});return i.observe(t,{box:"border-box"}),()=>i.unobserve(t)}else n(void 0)},[t]),e}var __="Popper",[eD,tD]=$u(__),[u8,nD]=eD(__),iD=t=>{const{__scopePopper:e,children:n}=t,[i,r]=C.useState(null);return E.jsx(u8,{scope:e,anchor:i,onAnchorChange:r,children:n})};iD.displayName=__;var oD="PopperAnchor",rD=C.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:i,...r}=t,a=nD(oD,n),u=C.useRef(null),c=on(e,u),h=C.useRef(null);return C.useEffect(()=>{const d=h.current;h.current=i?.current||u.current,d!==h.current&&a.onAnchorChange(h.current)}),i?null:E.jsx(zt.div,{...r,ref:c})});rD.displayName=oD;var S_="PopperContent",[c8,f8]=eD(S_),sD=C.forwardRef((t,e)=>{const{__scopePopper:n,side:i="bottom",sideOffset:r=0,align:a="center",alignOffset:u=0,arrowPadding:c=0,avoidCollisions:h=!0,collisionBoundary:d=[],collisionPadding:m=0,sticky:y="partial",hideWhenDetached:S=!1,updatePositionStrategy:b="optimized",onPlaced:T,...A}=t,x=nD(S_,n),[M,I]=C.useState(null),N=on(e,ve=>I(ve)),[D,L]=C.useState(null),U=l8(D),O=U?.width??0,q=U?.height??0,J=i+(a!=="center"?"-"+a:""),j=typeof m=="number"?m:{top:0,right:0,bottom:0,left:0,...m},W=Array.isArray(d)?d:[d],re=W.length>0,ie={padding:j,boundary:W.filter(h8),altBoundary:re},{refs:ae,floatingStyles:de,placement:F,isPositioned:Q,middlewareData:ee}=W5({strategy:"fixed",placement:J,whileElementsMounted:(...ve)=>H5(...ve,{animationFrame:b==="always"}),elements:{reference:x.anchor},middleware:[Z5({mainAxis:r+q,alignmentAxis:u}),h&&e8({mainAxis:!0,crossAxis:!1,limiter:y==="partial"?t8():void 0,...ie}),h&&n8({...ie}),i8({...ie,apply:({elements:ve,rects:ze,availableWidth:qe,availableHeight:rn})=>{const{width:Cn,height:di}=ze.reference,qt=ve.floating.style;qt.setProperty("--radix-popper-available-width",`${qe}px`),qt.setProperty("--radix-popper-available-height",`${rn}px`),qt.setProperty("--radix-popper-anchor-width",`${Cn}px`),qt.setProperty("--radix-popper-anchor-height",`${di}px`)}}),D&&r8({element:D,padding:c}),p8({arrowWidth:O,arrowHeight:q}),S&&o8({strategy:"referenceHidden",...ie})]}),[ne,ce]=uD(F),k=Ii(T);rr(()=>{Q&&k?.()},[Q,k]);const Y=ee.arrow?.x,se=ee.arrow?.y,le=ee.arrow?.centerOffset!==0,[me,be]=C.useState();return rr(()=>{M&&be(window.getComputedStyle(M).zIndex)},[M]),E.jsx("div",{ref:ae.setFloating,"data-radix-popper-content-wrapper":"",style:{...de,transform:Q?de.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:me,"--radix-popper-transform-origin":[ee.transformOrigin?.x,ee.transformOrigin?.y].join(" "),...ee.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:E.jsx(c8,{scope:n,placedSide:ne,onArrowChange:L,arrowX:Y,arrowY:se,shouldHideArrow:le,children:E.jsx(zt.div,{"data-side":ne,"data-align":ce,...A,ref:N,style:{...A.style,animation:Q?void 0:"none"}})})})});sD.displayName=S_;var aD="PopperArrow",d8={top:"bottom",right:"left",bottom:"top",left:"right"},lD=C.forwardRef(function(e,n){const{__scopePopper:i,...r}=e,a=f8(aD,i),u=d8[a.placedSide];return E.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[u]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:E.jsx(a8,{...r,ref:n,style:{...r.style,display:"block"}})})});lD.displayName=aD;function h8(t){return t!==null}var p8=t=>({name:"transformOrigin",options:t,fn(e){const{placement:n,rects:i,middlewareData:r}=e,u=r.arrow?.centerOffset!==0,c=u?0:t.arrowWidth,h=u?0:t.arrowHeight,[d,m]=uD(n),y={start:"0%",center:"50%",end:"100%"}[m],S=(r.arrow?.x??0)+c/2,b=(r.arrow?.y??0)+h/2;let T="",A="";return d==="bottom"?(T=u?y:`${S}px`,A=`${-h}px`):d==="top"?(T=u?y:`${S}px`,A=`${i.floating.height+h}px`):d==="right"?(T=`${-h}px`,A=u?y:`${b}px`):d==="left"&&(T=`${i.floating.width+h}px`,A=u?y:`${b}px`),{data:{x:T,y:A}}}});function uD(t){const[e,n="center"]=t.split("-");return[e,n]}var cD=iD,m8=rD,g8=sD,v8=lD,y8="Portal",fD=C.forwardRef((t,e)=>{const{container:n,...i}=t,[r,a]=C.useState(!1);rr(()=>a(!0),[]);const u=n||r&&globalThis?.document?.body;return u?Br.createPortal(E.jsx(zt.div,{...i,ref:e}),u):null});fD.displayName=y8;function _8(t,e){return C.useReducer((n,i)=>e[n][i]??n,t)}var Gu=t=>{const{present:e,children:n}=t,i=S8(e),r=typeof n=="function"?n({present:i.isPresent}):C.Children.only(n),a=on(i.ref,b8(r));return typeof n=="function"||i.isPresent?C.cloneElement(r,{ref:a}):null};Gu.displayName="Presence";function S8(t){const[e,n]=C.useState(),i=C.useRef(null),r=C.useRef(t),a=C.useRef("none"),u=t?"mounted":"unmounted",[c,h]=_8(u,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return C.useEffect(()=>{const d=Ff(i.current);a.current=c==="mounted"?d:"none"},[c]),rr(()=>{const d=i.current,m=r.current;if(m!==t){const S=a.current,b=Ff(d);t?h("MOUNT"):b==="none"||d?.display==="none"?h("UNMOUNT"):h(m&&S!==b?"ANIMATION_OUT":"UNMOUNT"),r.current=t}},[t,h]),rr(()=>{if(e){let d;const m=e.ownerDocument.defaultView??window,y=b=>{const A=Ff(i.current).includes(CSS.escape(b.animationName));if(b.target===e&&A&&(h("ANIMATION_END"),!r.current)){const x=e.style.animationFillMode;e.style.animationFillMode="forwards",d=m.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=x)})}},S=b=>{b.target===e&&(a.current=Ff(i.current))};return e.addEventListener("animationstart",S),e.addEventListener("animationcancel",y),e.addEventListener("animationend",y),()=>{m.clearTimeout(d),e.removeEventListener("animationstart",S),e.removeEventListener("animationcancel",y),e.removeEventListener("animationend",y)}}else h("ANIMATION_END")},[e,h]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:C.useCallback(d=>{i.current=d?getComputedStyle(d):null,n(d)},[])}}function Ff(t){return t?.animationName||"none"}function b8(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var Hg="rovingFocusGroup.onEntryFocus",E8={bubbles:!1,cancelable:!0},Vu="RovingFocusGroup",[ey,dD,w8]=kI(Vu),[C8,hD]=$u(Vu,[w8]),[T8,A8]=C8(Vu),pD=C.forwardRef((t,e)=>E.jsx(ey.Provider,{scope:t.__scopeRovingFocusGroup,children:E.jsx(ey.Slot,{scope:t.__scopeRovingFocusGroup,children:E.jsx(x8,{...t,ref:e})})}));pD.displayName=Vu;var x8=C.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:i,loop:r=!1,dir:a,currentTabStopId:u,defaultCurrentTabStopId:c,onCurrentTabStopIdChange:h,onEntryFocus:d,preventScrollOnEntryFocus:m=!1,...y}=t,S=C.useRef(null),b=on(e,S),T=LI(a),[A,x]=d_({prop:u,defaultProp:c??null,onChange:h,caller:Vu}),[M,I]=C.useState(!1),N=Ii(d),D=dD(n),L=C.useRef(!1),[U,O]=C.useState(0);return C.useEffect(()=>{const q=S.current;if(q)return q.addEventListener(Hg,N),()=>q.removeEventListener(Hg,N)},[N]),E.jsx(T8,{scope:n,orientation:i,dir:T,loop:r,currentTabStopId:A,onItemFocus:C.useCallback(q=>x(q),[x]),onItemShiftTab:C.useCallback(()=>I(!0),[]),onFocusableItemAdd:C.useCallback(()=>O(q=>q+1),[]),onFocusableItemRemove:C.useCallback(()=>O(q=>q-1),[]),children:E.jsx(zt.div,{tabIndex:M||U===0?-1:0,"data-orientation":i,...y,ref:b,style:{outline:"none",...t.style},onMouseDown:Fe(t.onMouseDown,()=>{L.current=!0}),onFocus:Fe(t.onFocus,q=>{const J=!L.current;if(q.target===q.currentTarget&&J&&!M){const j=new CustomEvent(Hg,E8);if(q.currentTarget.dispatchEvent(j),!j.defaultPrevented){const W=D().filter(F=>F.focusable),re=W.find(F=>F.active),ie=W.find(F=>F.id===A),de=[re,ie,...W].filter(Boolean).map(F=>F.ref.current);vD(de,m)}}L.current=!1}),onBlur:Fe(t.onBlur,()=>I(!1))})})}),mD="RovingFocusGroupItem",gD=C.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:i=!0,active:r=!1,tabStopId:a,children:u,...c}=t,h=du(),d=a||h,m=A8(mD,n),y=m.currentTabStopId===d,S=dD(n),{onFocusableItemAdd:b,onFocusableItemRemove:T,currentTabStopId:A}=m;return C.useEffect(()=>{if(i)return b(),()=>T()},[i,b,T]),E.jsx(ey.ItemSlot,{scope:n,id:d,focusable:i,active:r,children:E.jsx(zt.span,{tabIndex:y?0:-1,"data-orientation":m.orientation,...c,ref:e,onMouseDown:Fe(t.onMouseDown,x=>{i?m.onItemFocus(d):x.preventDefault()}),onFocus:Fe(t.onFocus,()=>m.onItemFocus(d)),onKeyDown:Fe(t.onKeyDown,x=>{if(x.key==="Tab"&&x.shiftKey){m.onItemShiftTab();return}if(x.target!==x.currentTarget)return;const M=N8(x,m.orientation,m.dir);if(M!==void 0){if(x.metaKey||x.ctrlKey||x.altKey||x.shiftKey)return;x.preventDefault();let N=S().filter(D=>D.focusable).map(D=>D.ref.current);if(M==="last")N.reverse();else if(M==="prev"||M==="next"){M==="prev"&&N.reverse();const D=N.indexOf(x.currentTarget);N=m.loop?I8(N,D+1):N.slice(D+1)}setTimeout(()=>vD(N))}}),children:typeof u=="function"?u({isCurrentTabStop:y,hasTabStop:A!=null}):u})})});gD.displayName=mD;var R8={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function M8(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function N8(t,e,n){const i=M8(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(i))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(i)))return R8[i]}function vD(t,e=!1){const n=document.activeElement;for(const i of t)if(i===n||(i.focus({preventScroll:e}),document.activeElement!==n))return}function I8(t,e){return t.map((n,i)=>t[(e+i)%t.length])}var D8=pD,O8=gD,P8=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Xs=new WeakMap,$f=new WeakMap,Hf={},Gg=0,yD=function(t){return t&&(t.host||yD(t.parentNode))},k8=function(t,e){return e.map(function(n){if(t.contains(n))return n;var i=yD(n);return i&&t.contains(i)?i:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},L8=function(t,e,n,i){var r=k8(e,Array.isArray(t)?t:[t]);Hf[n]||(Hf[n]=new WeakMap);var a=Hf[n],u=[],c=new Set,h=new Set(r),d=function(y){!y||c.has(y)||(c.add(y),d(y.parentNode))};r.forEach(d);var m=function(y){!y||h.has(y)||Array.prototype.forEach.call(y.children,function(S){if(c.has(S))m(S);else try{var b=S.getAttribute(i),T=b!==null&&b!=="false",A=(Xs.get(S)||0)+1,x=(a.get(S)||0)+1;Xs.set(S,A),a.set(S,x),u.push(S),A===1&&T&&$f.set(S,!0),x===1&&S.setAttribute(n,"true"),T||S.setAttribute(i,"true")}catch(M){console.error("aria-hidden: cannot operate on ",S,M)}})};return m(e),c.clear(),Gg++,function(){u.forEach(function(y){var S=Xs.get(y)-1,b=a.get(y)-1;Xs.set(y,S),a.set(y,b),S||($f.has(y)||y.removeAttribute(i),$f.delete(y)),b||y.removeAttribute(n)}),Gg--,Gg||(Xs=new WeakMap,Xs=new WeakMap,$f=new WeakMap,Hf={})}},U8=function(t,e,n){n===void 0&&(n="data-aria-hidden");var i=Array.from(Array.isArray(t)?t:[t]),r=P8(t);return r?(i.push.apply(i,Array.from(r.querySelectorAll("[aria-live], script"))),L8(i,r,n,"aria-hidden")):function(){return null}},Si=function(){return Si=Object.assign||function(e){for(var n,i=1,r=arguments.length;i<r;i++){n=arguments[i];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Si.apply(this,arguments)};function _D(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]]);return n}function B8(t,e,n){if(n||arguments.length===2)for(var i=0,r=e.length,a;i<r;i++)(a||!(i in e))&&(a||(a=Array.prototype.slice.call(e,0,i)),a[i]=e[i]);return t.concat(a||Array.prototype.slice.call(e))}var ld="right-scroll-bar-position",ud="width-before-scroll-bar",F8="with-scroll-bars-hidden",$8="--removed-body-scroll-bar-size";function Vg(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function H8(t,e){var n=C.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(i){var r=n.value;r!==i&&(n.value=i,n.callback(i,r))}}}})[0];return n.callback=e,n.facade}var G8=typeof window<"u"?C.useLayoutEffect:C.useEffect,EA=new WeakMap;function V8(t,e){var n=H8(null,function(i){return t.forEach(function(r){return Vg(r,i)})});return G8(function(){var i=EA.get(n);if(i){var r=new Set(i),a=new Set(t),u=n.current;r.forEach(function(c){a.has(c)||Vg(c,null)}),a.forEach(function(c){r.has(c)||Vg(c,u)})}EA.set(n,t)},[t]),n}function z8(t){return t}function q8(t,e){e===void 0&&(e=z8);var n=[],i=!1,r={read:function(){if(i)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(a){var u=e(a,i);return n.push(u),function(){n=n.filter(function(c){return c!==u})}},assignSyncMedium:function(a){for(i=!0;n.length;){var u=n;n=[],u.forEach(a)}n={push:function(c){return a(c)},filter:function(){return n}}},assignMedium:function(a){i=!0;var u=[];if(n.length){var c=n;n=[],c.forEach(a),u=n}var h=function(){var m=u;u=[],m.forEach(a)},d=function(){return Promise.resolve().then(h)};d(),n={push:function(m){u.push(m),d()},filter:function(m){return u=u.filter(m),n}}}};return r}function J8(t){t===void 0&&(t={});var e=q8(null);return e.options=Si({async:!0,ssr:!1},t),e}var SD=function(t){var e=t.sideCar,n=_D(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var i=e.read();if(!i)throw new Error("Sidecar medium not found");return C.createElement(i,Si({},n))};SD.isSideCarExport=!0;function K8(t,e){return t.useMedium(e),SD}var bD=J8(),zg=function(){},Nh=C.forwardRef(function(t,e){var n=C.useRef(null),i=C.useState({onScrollCapture:zg,onWheelCapture:zg,onTouchMoveCapture:zg}),r=i[0],a=i[1],u=t.forwardProps,c=t.children,h=t.className,d=t.removeScrollBar,m=t.enabled,y=t.shards,S=t.sideCar,b=t.noRelative,T=t.noIsolation,A=t.inert,x=t.allowPinchZoom,M=t.as,I=M===void 0?"div":M,N=t.gapMode,D=_D(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),L=S,U=V8([n,e]),O=Si(Si({},D),r);return C.createElement(C.Fragment,null,m&&C.createElement(L,{sideCar:bD,removeScrollBar:d,shards:y,noRelative:b,noIsolation:T,inert:A,setCallbacks:a,allowPinchZoom:!!x,lockRef:n,gapMode:N}),u?C.cloneElement(C.Children.only(c),Si(Si({},O),{ref:U})):C.createElement(I,Si({},O,{className:h,ref:U}),c))});Nh.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Nh.classNames={fullWidth:ud,zeroRight:ld};var Y8=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function j8(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=Y8();return e&&t.setAttribute("nonce",e),t}function X8(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function W8(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var Q8=function(){var t=0,e=null;return{add:function(n){t==0&&(e=j8())&&(X8(e,n),W8(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},Z8=function(){var t=Q8();return function(e,n){C.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},ED=function(){var t=Z8(),e=function(n){var i=n.styles,r=n.dynamic;return t(i,r),null};return e},eJ={left:0,top:0,right:0,gap:0},qg=function(t){return parseInt(t||"",10)||0},tJ=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],i=e[t==="padding"?"paddingTop":"marginTop"],r=e[t==="padding"?"paddingRight":"marginRight"];return[qg(n),qg(i),qg(r)]},nJ=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return eJ;var e=tJ(t),n=document.documentElement.clientWidth,i=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,i-n+e[2]-e[0])}},iJ=ED(),ha="data-scroll-locked",oJ=function(t,e,n,i){var r=t.left,a=t.top,u=t.right,c=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(F8,` {
   overflow: hidden `).concat(i,`;
   padding-right: `).concat(c,"px ").concat(i,`;
  }
  body[`).concat(ha,`] {
    overflow: hidden `).concat(i,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(i,";"),n==="margin"&&`
    padding-left: `.concat(r,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(u,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(c,"px ").concat(i,`;
    `),n==="padding"&&"padding-right: ".concat(c,"px ").concat(i,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(ld,` {
    right: `).concat(c,"px ").concat(i,`;
  }
  
  .`).concat(ud,` {
    margin-right: `).concat(c,"px ").concat(i,`;
  }
  
  .`).concat(ld," .").concat(ld,` {
    right: 0 `).concat(i,`;
  }
  
  .`).concat(ud," .").concat(ud,` {
    margin-right: 0 `).concat(i,`;
  }
  
  body[`).concat(ha,`] {
    `).concat($8,": ").concat(c,`px;
  }
`)},wA=function(){var t=parseInt(document.body.getAttribute(ha)||"0",10);return isFinite(t)?t:0},rJ=function(){C.useEffect(function(){return document.body.setAttribute(ha,(wA()+1).toString()),function(){var t=wA()-1;t<=0?document.body.removeAttribute(ha):document.body.setAttribute(ha,t.toString())}},[])},sJ=function(t){var e=t.noRelative,n=t.noImportant,i=t.gapMode,r=i===void 0?"margin":i;rJ();var a=C.useMemo(function(){return nJ(r)},[r]);return C.createElement(iJ,{styles:oJ(a,!e,r,n?"":"!important")})},ty=!1;if(typeof window<"u")try{var Gf=Object.defineProperty({},"passive",{get:function(){return ty=!0,!0}});window.addEventListener("test",Gf,Gf),window.removeEventListener("test",Gf,Gf)}catch{ty=!1}var Ws=ty?{passive:!1}:!1,aJ=function(t){return t.tagName==="TEXTAREA"},wD=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!aJ(t)&&n[e]==="visible")},lJ=function(t){return wD(t,"overflowY")},uJ=function(t){return wD(t,"overflowX")},CA=function(t,e){var n=e.ownerDocument,i=e;do{typeof ShadowRoot<"u"&&i instanceof ShadowRoot&&(i=i.host);var r=CD(t,i);if(r){var a=TD(t,i),u=a[1],c=a[2];if(u>c)return!0}i=i.parentNode}while(i&&i!==n.body);return!1},cJ=function(t){var e=t.scrollTop,n=t.scrollHeight,i=t.clientHeight;return[e,n,i]},fJ=function(t){var e=t.scrollLeft,n=t.scrollWidth,i=t.clientWidth;return[e,n,i]},CD=function(t,e){return t==="v"?lJ(e):uJ(e)},TD=function(t,e){return t==="v"?cJ(e):fJ(e)},dJ=function(t,e){return t==="h"&&e==="rtl"?-1:1},hJ=function(t,e,n,i,r){var a=dJ(t,window.getComputedStyle(e).direction),u=a*i,c=n.target,h=e.contains(c),d=!1,m=u>0,y=0,S=0;do{if(!c)break;var b=TD(t,c),T=b[0],A=b[1],x=b[2],M=A-x-a*T;(T||M)&&CD(t,c)&&(y+=M,S+=T);var I=c.parentNode;c=I&&I.nodeType===Node.DOCUMENT_FRAGMENT_NODE?I.host:I}while(!h&&c!==document.body||h&&(e.contains(c)||e===c));return(m&&Math.abs(y)<1||!m&&Math.abs(S)<1)&&(d=!0),d},Vf=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},TA=function(t){return[t.deltaX,t.deltaY]},AA=function(t){return t&&"current"in t?t.current:t},pJ=function(t,e){return t[0]===e[0]&&t[1]===e[1]},mJ=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},gJ=0,Qs=[];function vJ(t){var e=C.useRef([]),n=C.useRef([0,0]),i=C.useRef(),r=C.useState(gJ++)[0],a=C.useState(ED)[0],u=C.useRef(t);C.useEffect(function(){u.current=t},[t]),C.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(r));var A=B8([t.lockRef.current],(t.shards||[]).map(AA),!0).filter(Boolean);return A.forEach(function(x){return x.classList.add("allow-interactivity-".concat(r))}),function(){document.body.classList.remove("block-interactivity-".concat(r)),A.forEach(function(x){return x.classList.remove("allow-interactivity-".concat(r))})}}},[t.inert,t.lockRef.current,t.shards]);var c=C.useCallback(function(A,x){if("touches"in A&&A.touches.length===2||A.type==="wheel"&&A.ctrlKey)return!u.current.allowPinchZoom;var M=Vf(A),I=n.current,N="deltaX"in A?A.deltaX:I[0]-M[0],D="deltaY"in A?A.deltaY:I[1]-M[1],L,U=A.target,O=Math.abs(N)>Math.abs(D)?"h":"v";if("touches"in A&&O==="h"&&U.type==="range")return!1;var q=window.getSelection(),J=q&&q.anchorNode,j=J?J===U||J.contains(U):!1;if(j)return!1;var W=CA(O,U);if(!W)return!0;if(W?L=O:(L=O==="v"?"h":"v",W=CA(O,U)),!W)return!1;if(!i.current&&"changedTouches"in A&&(N||D)&&(i.current=L),!L)return!0;var re=i.current||L;return hJ(re,x,A,re==="h"?N:D)},[]),h=C.useCallback(function(A){var x=A;if(!(!Qs.length||Qs[Qs.length-1]!==a)){var M="deltaY"in x?TA(x):Vf(x),I=e.current.filter(function(L){return L.name===x.type&&(L.target===x.target||x.target===L.shadowParent)&&pJ(L.delta,M)})[0];if(I&&I.should){x.cancelable&&x.preventDefault();return}if(!I){var N=(u.current.shards||[]).map(AA).filter(Boolean).filter(function(L){return L.contains(x.target)}),D=N.length>0?c(x,N[0]):!u.current.noIsolation;D&&x.cancelable&&x.preventDefault()}}},[]),d=C.useCallback(function(A,x,M,I){var N={name:A,delta:x,target:M,should:I,shadowParent:yJ(M)};e.current.push(N),setTimeout(function(){e.current=e.current.filter(function(D){return D!==N})},1)},[]),m=C.useCallback(function(A){n.current=Vf(A),i.current=void 0},[]),y=C.useCallback(function(A){d(A.type,TA(A),A.target,c(A,t.lockRef.current))},[]),S=C.useCallback(function(A){d(A.type,Vf(A),A.target,c(A,t.lockRef.current))},[]);C.useEffect(function(){return Qs.push(a),t.setCallbacks({onScrollCapture:y,onWheelCapture:y,onTouchMoveCapture:S}),document.addEventListener("wheel",h,Ws),document.addEventListener("touchmove",h,Ws),document.addEventListener("touchstart",m,Ws),function(){Qs=Qs.filter(function(A){return A!==a}),document.removeEventListener("wheel",h,Ws),document.removeEventListener("touchmove",h,Ws),document.removeEventListener("touchstart",m,Ws)}},[]);var b=t.removeScrollBar,T=t.inert;return C.createElement(C.Fragment,null,T?C.createElement(a,{styles:mJ(r)}):null,b?C.createElement(sJ,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function yJ(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const _J=K8(bD,vJ);var AD=C.forwardRef(function(t,e){return C.createElement(Nh,Si({},t,{ref:e,sideCar:_J}))});AD.classNames=Nh.classNames;var ny=["Enter"," "],SJ=["ArrowDown","PageUp","Home"],xD=["ArrowUp","PageDown","End"],bJ=[...SJ,...xD],EJ={ltr:[...ny,"ArrowRight"],rtl:[...ny,"ArrowLeft"]},wJ={ltr:["ArrowLeft"],rtl:["ArrowRight"]},zu="Menu",[mu,CJ,TJ]=kI(zu),[os,RD]=$u(zu,[TJ,tD,hD]),qu=tD(),MD=hD(),[ND,pr]=os(zu),[AJ,Ju]=os(zu),ID=t=>{const{__scopeMenu:e,open:n=!1,children:i,dir:r,onOpenChange:a,modal:u=!0}=t,c=qu(e),[h,d]=C.useState(null),m=C.useRef(!1),y=Ii(a),S=LI(r);return C.useEffect(()=>{const b=()=>{m.current=!0,document.addEventListener("pointerdown",T,{capture:!0,once:!0}),document.addEventListener("pointermove",T,{capture:!0,once:!0})},T=()=>m.current=!1;return document.addEventListener("keydown",b,{capture:!0}),()=>{document.removeEventListener("keydown",b,{capture:!0}),document.removeEventListener("pointerdown",T,{capture:!0}),document.removeEventListener("pointermove",T,{capture:!0})}},[]),E.jsx(cD,{...c,children:E.jsx(ND,{scope:e,open:n,onOpenChange:y,content:h,onContentChange:d,children:E.jsx(AJ,{scope:e,onClose:C.useCallback(()=>y(!1),[y]),isUsingKeyboardRef:m,dir:S,modal:u,children:i})})})};ID.displayName=zu;var xJ="MenuAnchor",b_=C.forwardRef((t,e)=>{const{__scopeMenu:n,...i}=t,r=qu(n);return E.jsx(m8,{...r,...i,ref:e})});b_.displayName=xJ;var E_="MenuPortal",[RJ,DD]=os(E_,{forceMount:void 0}),OD=t=>{const{__scopeMenu:e,forceMount:n,children:i,container:r}=t,a=pr(E_,e);return E.jsx(RJ,{scope:e,forceMount:n,children:E.jsx(Gu,{present:n||a.open,children:E.jsx(fD,{asChild:!0,container:r,children:i})})})};OD.displayName=E_;var Gn="MenuContent",[MJ,w_]=os(Gn),PD=C.forwardRef((t,e)=>{const n=DD(Gn,t.__scopeMenu),{forceMount:i=n.forceMount,...r}=t,a=pr(Gn,t.__scopeMenu),u=Ju(Gn,t.__scopeMenu);return E.jsx(mu.Provider,{scope:t.__scopeMenu,children:E.jsx(Gu,{present:i||a.open,children:E.jsx(mu.Slot,{scope:t.__scopeMenu,children:u.modal?E.jsx(NJ,{...r,ref:e}):E.jsx(IJ,{...r,ref:e})})})})}),NJ=C.forwardRef((t,e)=>{const n=pr(Gn,t.__scopeMenu),i=C.useRef(null),r=on(e,i);return C.useEffect(()=>{const a=i.current;if(a)return U8(a)},[]),E.jsx(C_,{...t,ref:r,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:Fe(t.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),IJ=C.forwardRef((t,e)=>{const n=pr(Gn,t.__scopeMenu);return E.jsx(C_,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),DJ=Bd("MenuContent.ScrollLock"),C_=C.forwardRef((t,e)=>{const{__scopeMenu:n,loop:i=!1,trapFocus:r,onOpenAutoFocus:a,onCloseAutoFocus:u,disableOutsidePointerEvents:c,onEntryFocus:h,onEscapeKeyDown:d,onPointerDownOutside:m,onFocusOutside:y,onInteractOutside:S,onDismiss:b,disableOutsideScroll:T,...A}=t,x=pr(Gn,n),M=Ju(Gn,n),I=qu(n),N=MD(n),D=CJ(n),[L,U]=C.useState(null),O=C.useRef(null),q=on(e,O,x.onContentChange),J=C.useRef(0),j=C.useRef(""),W=C.useRef(0),re=C.useRef(null),ie=C.useRef("right"),ae=C.useRef(0),de=T?AD:C.Fragment,F=T?{as:DJ,allowPinchZoom:!0}:void 0,Q=ne=>{const ce=j.current+ne,k=D().filter(ve=>!ve.disabled),Y=document.activeElement,se=k.find(ve=>ve.ref.current===Y)?.textValue,le=k.map(ve=>ve.textValue),me=zJ(le,ce,se),be=k.find(ve=>ve.textValue===me)?.ref.current;(function ve(ze){j.current=ze,window.clearTimeout(J.current),ze!==""&&(J.current=window.setTimeout(()=>ve(""),1e3))})(ce),be&&setTimeout(()=>be.focus())};C.useEffect(()=>()=>window.clearTimeout(J.current),[]),$6();const ee=C.useCallback(ne=>ie.current===re.current?.side&&JJ(ne,re.current?.area),[]);return E.jsx(MJ,{scope:n,searchRef:j,onItemEnter:C.useCallback(ne=>{ee(ne)&&ne.preventDefault()},[ee]),onItemLeave:C.useCallback(ne=>{ee(ne)||(O.current?.focus(),U(null))},[ee]),onTriggerLeave:C.useCallback(ne=>{ee(ne)&&ne.preventDefault()},[ee]),pointerGraceTimerRef:W,onPointerGraceIntentChange:C.useCallback(ne=>{re.current=ne},[]),children:E.jsx(de,{...F,children:E.jsx($I,{asChild:!0,trapped:r,onMountAutoFocus:Fe(a,ne=>{ne.preventDefault(),O.current?.focus({preventScroll:!0})}),onUnmountAutoFocus:u,children:E.jsx(BI,{asChild:!0,disableOutsidePointerEvents:c,onEscapeKeyDown:d,onPointerDownOutside:m,onFocusOutside:y,onInteractOutside:S,onDismiss:b,children:E.jsx(D8,{asChild:!0,...N,dir:M.dir,orientation:"vertical",loop:i,currentTabStopId:L,onCurrentTabStopIdChange:U,onEntryFocus:Fe(h,ne=>{M.isUsingKeyboardRef.current||ne.preventDefault()}),preventScrollOnEntryFocus:!0,children:E.jsx(g8,{role:"menu","aria-orientation":"vertical","data-state":WD(x.open),"data-radix-menu-content":"",dir:M.dir,...I,...A,ref:q,style:{outline:"none",...A.style},onKeyDown:Fe(A.onKeyDown,ne=>{const k=ne.target.closest("[data-radix-menu-content]")===ne.currentTarget,Y=ne.ctrlKey||ne.altKey||ne.metaKey,se=ne.key.length===1;k&&(ne.key==="Tab"&&ne.preventDefault(),!Y&&se&&Q(ne.key));const le=O.current;if(ne.target!==le||!bJ.includes(ne.key))return;ne.preventDefault();const be=D().filter(ve=>!ve.disabled).map(ve=>ve.ref.current);xD.includes(ne.key)&&be.reverse(),GJ(be)}),onBlur:Fe(t.onBlur,ne=>{ne.currentTarget.contains(ne.target)||(window.clearTimeout(J.current),j.current="")}),onPointerMove:Fe(t.onPointerMove,gu(ne=>{const ce=ne.target,k=ae.current!==ne.clientX;if(ne.currentTarget.contains(ce)&&k){const Y=ne.clientX>ae.current?"right":"left";ie.current=Y,ae.current=ne.clientX}}))})})})})})})});PD.displayName=Gn;var OJ="MenuGroup",T_=C.forwardRef((t,e)=>{const{__scopeMenu:n,...i}=t;return E.jsx(zt.div,{role:"group",...i,ref:e})});T_.displayName=OJ;var PJ="MenuLabel",kD=C.forwardRef((t,e)=>{const{__scopeMenu:n,...i}=t;return E.jsx(zt.div,{...i,ref:e})});kD.displayName=PJ;var Vd="MenuItem",xA="menu.itemSelect",Ih=C.forwardRef((t,e)=>{const{disabled:n=!1,onSelect:i,...r}=t,a=C.useRef(null),u=Ju(Vd,t.__scopeMenu),c=w_(Vd,t.__scopeMenu),h=on(e,a),d=C.useRef(!1),m=()=>{const y=a.current;if(!n&&y){const S=new CustomEvent(xA,{bubbles:!0,cancelable:!0});y.addEventListener(xA,b=>i?.(b),{once:!0}),PI(y,S),S.defaultPrevented?d.current=!1:u.onClose()}};return E.jsx(LD,{...r,ref:h,disabled:n,onClick:Fe(t.onClick,m),onPointerDown:y=>{t.onPointerDown?.(y),d.current=!0},onPointerUp:Fe(t.onPointerUp,y=>{d.current||y.currentTarget?.click()}),onKeyDown:Fe(t.onKeyDown,y=>{const S=c.searchRef.current!=="";n||S&&y.key===" "||ny.includes(y.key)&&(y.currentTarget.click(),y.preventDefault())})})});Ih.displayName=Vd;var LD=C.forwardRef((t,e)=>{const{__scopeMenu:n,disabled:i=!1,textValue:r,...a}=t,u=w_(Vd,n),c=MD(n),h=C.useRef(null),d=on(e,h),[m,y]=C.useState(!1),[S,b]=C.useState("");return C.useEffect(()=>{const T=h.current;T&&b((T.textContent??"").trim())},[a.children]),E.jsx(mu.ItemSlot,{scope:n,disabled:i,textValue:r??S,children:E.jsx(O8,{asChild:!0,...c,focusable:!i,children:E.jsx(zt.div,{role:"menuitem","data-highlighted":m?"":void 0,"aria-disabled":i||void 0,"data-disabled":i?"":void 0,...a,ref:d,onPointerMove:Fe(t.onPointerMove,gu(T=>{i?u.onItemLeave(T):(u.onItemEnter(T),T.defaultPrevented||T.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Fe(t.onPointerLeave,gu(T=>u.onItemLeave(T))),onFocus:Fe(t.onFocus,()=>y(!0)),onBlur:Fe(t.onBlur,()=>y(!1))})})})}),kJ="MenuCheckboxItem",UD=C.forwardRef((t,e)=>{const{checked:n=!1,onCheckedChange:i,...r}=t;return E.jsx(GD,{scope:t.__scopeMenu,checked:n,children:E.jsx(Ih,{role:"menuitemcheckbox","aria-checked":zd(n)?"mixed":n,...r,ref:e,"data-state":R_(n),onSelect:Fe(r.onSelect,()=>i?.(zd(n)?!0:!n),{checkForDefaultPrevented:!1})})})});UD.displayName=kJ;var BD="MenuRadioGroup",[LJ,UJ]=os(BD,{value:void 0,onValueChange:()=>{}}),FD=C.forwardRef((t,e)=>{const{value:n,onValueChange:i,...r}=t,a=Ii(i);return E.jsx(LJ,{scope:t.__scopeMenu,value:n,onValueChange:a,children:E.jsx(T_,{...r,ref:e})})});FD.displayName=BD;var $D="MenuRadioItem",HD=C.forwardRef((t,e)=>{const{value:n,...i}=t,r=UJ($D,t.__scopeMenu),a=n===r.value;return E.jsx(GD,{scope:t.__scopeMenu,checked:a,children:E.jsx(Ih,{role:"menuitemradio","aria-checked":a,...i,ref:e,"data-state":R_(a),onSelect:Fe(i.onSelect,()=>r.onValueChange?.(n),{checkForDefaultPrevented:!1})})})});HD.displayName=$D;var A_="MenuItemIndicator",[GD,BJ]=os(A_,{checked:!1}),VD=C.forwardRef((t,e)=>{const{__scopeMenu:n,forceMount:i,...r}=t,a=BJ(A_,n);return E.jsx(Gu,{present:i||zd(a.checked)||a.checked===!0,children:E.jsx(zt.span,{...r,ref:e,"data-state":R_(a.checked)})})});VD.displayName=A_;var FJ="MenuSeparator",zD=C.forwardRef((t,e)=>{const{__scopeMenu:n,...i}=t;return E.jsx(zt.div,{role:"separator","aria-orientation":"horizontal",...i,ref:e})});zD.displayName=FJ;var $J="MenuArrow",qD=C.forwardRef((t,e)=>{const{__scopeMenu:n,...i}=t,r=qu(n);return E.jsx(v8,{...r,...i,ref:e})});qD.displayName=$J;var x_="MenuSub",[HJ,JD]=os(x_),KD=t=>{const{__scopeMenu:e,children:n,open:i=!1,onOpenChange:r}=t,a=pr(x_,e),u=qu(e),[c,h]=C.useState(null),[d,m]=C.useState(null),y=Ii(r);return C.useEffect(()=>(a.open===!1&&y(!1),()=>y(!1)),[a.open,y]),E.jsx(cD,{...u,children:E.jsx(ND,{scope:e,open:i,onOpenChange:y,content:d,onContentChange:m,children:E.jsx(HJ,{scope:e,contentId:du(),triggerId:du(),trigger:c,onTriggerChange:h,children:n})})})};KD.displayName=x_;var jl="MenuSubTrigger",YD=C.forwardRef((t,e)=>{const n=pr(jl,t.__scopeMenu),i=Ju(jl,t.__scopeMenu),r=JD(jl,t.__scopeMenu),a=w_(jl,t.__scopeMenu),u=C.useRef(null),{pointerGraceTimerRef:c,onPointerGraceIntentChange:h}=a,d={__scopeMenu:t.__scopeMenu},m=C.useCallback(()=>{u.current&&window.clearTimeout(u.current),u.current=null},[]);return C.useEffect(()=>m,[m]),C.useEffect(()=>{const y=c.current;return()=>{window.clearTimeout(y),h(null)}},[c,h]),E.jsx(b_,{asChild:!0,...d,children:E.jsx(LD,{id:r.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":r.contentId,"data-state":WD(n.open),...t,ref:Th(e,r.onTriggerChange),onClick:y=>{t.onClick?.(y),!(t.disabled||y.defaultPrevented)&&(y.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:Fe(t.onPointerMove,gu(y=>{a.onItemEnter(y),!y.defaultPrevented&&!t.disabled&&!n.open&&!u.current&&(a.onPointerGraceIntentChange(null),u.current=window.setTimeout(()=>{n.onOpenChange(!0),m()},100))})),onPointerLeave:Fe(t.onPointerLeave,gu(y=>{m();const S=n.content?.getBoundingClientRect();if(S){const b=n.content?.dataset.side,T=b==="right",A=T?-5:5,x=S[T?"left":"right"],M=S[T?"right":"left"];a.onPointerGraceIntentChange({area:[{x:y.clientX+A,y:y.clientY},{x,y:S.top},{x:M,y:S.top},{x:M,y:S.bottom},{x,y:S.bottom}],side:b}),window.clearTimeout(c.current),c.current=window.setTimeout(()=>a.onPointerGraceIntentChange(null),300)}else{if(a.onTriggerLeave(y),y.defaultPrevented)return;a.onPointerGraceIntentChange(null)}})),onKeyDown:Fe(t.onKeyDown,y=>{const S=a.searchRef.current!=="";t.disabled||S&&y.key===" "||EJ[i.dir].includes(y.key)&&(n.onOpenChange(!0),n.content?.focus(),y.preventDefault())})})})});YD.displayName=jl;var jD="MenuSubContent",XD=C.forwardRef((t,e)=>{const n=DD(Gn,t.__scopeMenu),{forceMount:i=n.forceMount,...r}=t,a=pr(Gn,t.__scopeMenu),u=Ju(Gn,t.__scopeMenu),c=JD(jD,t.__scopeMenu),h=C.useRef(null),d=on(e,h);return E.jsx(mu.Provider,{scope:t.__scopeMenu,children:E.jsx(Gu,{present:i||a.open,children:E.jsx(mu.Slot,{scope:t.__scopeMenu,children:E.jsx(C_,{id:c.contentId,"aria-labelledby":c.triggerId,...r,ref:d,align:"start",side:u.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:m=>{u.isUsingKeyboardRef.current&&h.current?.focus(),m.preventDefault()},onCloseAutoFocus:m=>m.preventDefault(),onFocusOutside:Fe(t.onFocusOutside,m=>{m.target!==c.trigger&&a.onOpenChange(!1)}),onEscapeKeyDown:Fe(t.onEscapeKeyDown,m=>{u.onClose(),m.preventDefault()}),onKeyDown:Fe(t.onKeyDown,m=>{const y=m.currentTarget.contains(m.target),S=wJ[u.dir].includes(m.key);y&&S&&(a.onOpenChange(!1),c.trigger?.focus(),m.preventDefault())})})})})})});XD.displayName=jD;function WD(t){return t?"open":"closed"}function zd(t){return t==="indeterminate"}function R_(t){return zd(t)?"indeterminate":t?"checked":"unchecked"}function GJ(t){const e=document.activeElement;for(const n of t)if(n===e||(n.focus(),document.activeElement!==e))return}function VJ(t,e){return t.map((n,i)=>t[(e+i)%t.length])}function zJ(t,e,n){const r=e.length>1&&Array.from(e).every(d=>d===e[0])?e[0]:e,a=n?t.indexOf(n):-1;let u=VJ(t,Math.max(a,0));r.length===1&&(u=u.filter(d=>d!==n));const h=u.find(d=>d.toLowerCase().startsWith(r.toLowerCase()));return h!==n?h:void 0}function qJ(t,e){const{x:n,y:i}=t;let r=!1;for(let a=0,u=e.length-1;a<e.length;u=a++){const c=e[a],h=e[u],d=c.x,m=c.y,y=h.x,S=h.y;m>i!=S>i&&n<(y-d)*(i-m)/(S-m)+d&&(r=!r)}return r}function JJ(t,e){if(!e)return!1;const n={x:t.clientX,y:t.clientY};return qJ(n,e)}function gu(t){return e=>e.pointerType==="mouse"?t(e):void 0}var KJ=ID,YJ=b_,jJ=OD,XJ=PD,WJ=T_,QJ=kD,ZJ=Ih,eK=UD,tK=FD,nK=HD,iK=VD,oK=zD,rK=qD,sK=KD,aK=YD,lK=XD,Dh="DropdownMenu",[uK]=$u(Dh,[RD]),Bt=RD(),[cK,QD]=uK(Dh),ZD=t=>{const{__scopeDropdownMenu:e,children:n,dir:i,open:r,defaultOpen:a,onOpenChange:u,modal:c=!0}=t,h=Bt(e),d=C.useRef(null),[m,y]=d_({prop:r,defaultProp:a??!1,onChange:u,caller:Dh});return E.jsx(cK,{scope:e,triggerId:du(),triggerRef:d,contentId:du(),open:m,onOpenChange:y,onOpenToggle:C.useCallback(()=>y(S=>!S),[y]),modal:c,children:E.jsx(KJ,{...h,open:m,onOpenChange:y,dir:i,modal:c,children:n})})};ZD.displayName=Dh;var eO="DropdownMenuTrigger",tO=C.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,disabled:i=!1,...r}=t,a=QD(eO,n),u=Bt(n);return E.jsx(YJ,{asChild:!0,...u,children:E.jsx(zt.button,{type:"button",id:a.triggerId,"aria-haspopup":"menu","aria-expanded":a.open,"aria-controls":a.open?a.contentId:void 0,"data-state":a.open?"open":"closed","data-disabled":i?"":void 0,disabled:i,...r,ref:Th(e,a.triggerRef),onPointerDown:Fe(t.onPointerDown,c=>{!i&&c.button===0&&c.ctrlKey===!1&&(a.onOpenToggle(),a.open||c.preventDefault())}),onKeyDown:Fe(t.onKeyDown,c=>{i||(["Enter"," "].includes(c.key)&&a.onOpenToggle(),c.key==="ArrowDown"&&a.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(c.key)&&c.preventDefault())})})})});tO.displayName=eO;var fK="DropdownMenuPortal",nO=t=>{const{__scopeDropdownMenu:e,...n}=t,i=Bt(e);return E.jsx(jJ,{...i,...n})};nO.displayName=fK;var iO="DropdownMenuContent",oO=C.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...i}=t,r=QD(iO,n),a=Bt(n),u=C.useRef(!1);return E.jsx(XJ,{id:r.contentId,"aria-labelledby":r.triggerId,...a,...i,ref:e,onCloseAutoFocus:Fe(t.onCloseAutoFocus,c=>{u.current||r.triggerRef.current?.focus(),u.current=!1,c.preventDefault()}),onInteractOutside:Fe(t.onInteractOutside,c=>{const h=c.detail.originalEvent,d=h.button===0&&h.ctrlKey===!0,m=h.button===2||d;(!r.modal||m)&&(u.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});oO.displayName=iO;var dK="DropdownMenuGroup",hK=C.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...i}=t,r=Bt(n);return E.jsx(WJ,{...r,...i,ref:e})});hK.displayName=dK;var pK="DropdownMenuLabel",mK=C.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...i}=t,r=Bt(n);return E.jsx(QJ,{...r,...i,ref:e})});mK.displayName=pK;var gK="DropdownMenuItem",vK=C.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...i}=t,r=Bt(n);return E.jsx(ZJ,{...r,...i,ref:e})});vK.displayName=gK;var yK="DropdownMenuCheckboxItem",_K=C.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...i}=t,r=Bt(n);return E.jsx(eK,{...r,...i,ref:e})});_K.displayName=yK;var SK="DropdownMenuRadioGroup",bK=C.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...i}=t,r=Bt(n);return E.jsx(tK,{...r,...i,ref:e})});bK.displayName=SK;var EK="DropdownMenuRadioItem",wK=C.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...i}=t,r=Bt(n);return E.jsx(nK,{...r,...i,ref:e})});wK.displayName=EK;var CK="DropdownMenuItemIndicator",TK=C.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...i}=t,r=Bt(n);return E.jsx(iK,{...r,...i,ref:e})});TK.displayName=CK;var AK="DropdownMenuSeparator",xK=C.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...i}=t,r=Bt(n);return E.jsx(oK,{...r,...i,ref:e})});xK.displayName=AK;var RK="DropdownMenuArrow",MK=C.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...i}=t,r=Bt(n);return E.jsx(rK,{...r,...i,ref:e})});MK.displayName=RK;var NK=t=>{const{__scopeDropdownMenu:e,children:n,open:i,onOpenChange:r,defaultOpen:a}=t,u=Bt(e),[c,h]=d_({prop:i,defaultProp:a??!1,onChange:r,caller:"DropdownMenuSub"});return E.jsx(sK,{...u,open:c,onOpenChange:h,children:n})},IK="DropdownMenuSubTrigger",rO=C.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...i}=t,r=Bt(n);return E.jsx(aK,{...r,...i,ref:e})});rO.displayName=IK;var DK="DropdownMenuSubContent",sO=C.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...i}=t,r=Bt(n);return E.jsx(lK,{...r,...i,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});sO.displayName=DK;var OK=ZD,PK=tO,kK=nO,LK=oO,RA=NK,MA=rO,NA=sO;const UK=ct(({scene:t})=>{if(!t.sceneJson||!t.sceneJson.data)return null;const e=t.sceneJson.data.tags,n=t.project?.artbook,i=a=>{t.addTag(a)};if(!n)return null;const r=a=>E.jsxs(OK,{children:[E.jsx(PK,{className:"dropdown-trigger",children:"Add Tag"}),E.jsx(kK,{children:E.jsx(LK,{className:"dropdown-content",align:"start",children:Object.entries(a).map(([u,c])=>E.jsxs(RA,{children:[E.jsx(MA,{className:"submenu-trigger",children:u}),E.jsx(NA,{className:"dropdown-content",children:Object.entries(c).map(([h,d])=>E.jsxs(RA,{children:[E.jsx(MA,{className:"submenu-trigger",children:h}),E.jsx(NA,{className:"dropdown-content",children:d.map(m=>E.jsx(S6,{art:m,onClick:()=>i(m.path)},m.path))})]},h))})]},u))})})]});return E.jsx(Fu,{label:"Tags",headerExtra:E.jsxs("div",{className:"d-flex align-items-center gap-2",children:[r(n.data),E.jsx(f_,{onClick:()=>{t.generateTags()},className:"btn-outline-success",label:"Generate Tags",is_loading:t.is_generating_tags}),E.jsx(ut,{onClick:()=>t.project?.artbook?.log(),label:"Log"})]}),children:e.length?E.jsx("ul",{className:"list-group list-group-flush",children:e.map((a,u)=>{const c=n.getTag(a);return c?E.jsx("li",{className:"list-group-item",children:E.jsx(_6,{art:c,scene:t})},u):null})}):E.jsx("div",{children:"No tags yet."})})}),vu=({value:t,options:e,onChange:n,label:i,className:r=""})=>E.jsxs("div",{className:"btn-group",role:"group",children:[i&&E.jsx("span",{className:"btn btn-sm btn-outline-secondary disabled",children:i}),E.jsx("div",{className:`btn btn-sm btn-outline-secondary p-0 ${r}`,children:E.jsx("select",{className:"form-select form-select-sm border-0 rounded-0",value:t,onChange:a=>n?.(a.target.value),children:e.map(a=>E.jsx("option",{value:a,children:a},a))})})]}),Ku=({isLoading:t,className:e="",asButton:n=!1})=>{const i=E.jsx("span",{className:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true",style:{animation:t?void 0:"none",borderColor:t?void 0:"#6c757d"}});return n?E.jsx("button",{type:"button",className:`btn btn-sm btn-outline-secondary disabled d-flex align-items-center justify-content-center ${e}`,tabIndex:-1,style:{pointerEvents:"none"},children:i}):E.jsx("span",{className:e,children:i})},M_=({buttons:t,content:e,className:n=""})=>{const[i,r]=C.useState(!1);return E.jsxs("div",{className:`w-100 ${n}`,style:{display:"inline-block"},children:[E.jsxs("div",{className:"btn-group",role:"group",children:[t,E.jsx("button",{className:"btn btn-sm btn-outline-secondary",onClick:()=>r(a=>!a),"aria-label":"Toggle settings",type:"button",style:{borderBottomRightRadius:i?0:void 0},children:""})]}),i&&E.jsx("div",{className:"w-100 border p-2",style:{borderTopLeftRadius:0,borderTopRightRadius:5,borderBottomLeftRadius:5,borderBottomRightRadius:5,backgroundColor:"#383838ff",marginTop:0},children:e})]})},BK=ct(({scene:t})=>{if(!t.sceneJson)return E.jsx("div",{children:"No scene data available."});const e=async()=>{window.confirm(`Are you sure you want to delete scene "${t.folder.name}"?`)&&await t.delete()},n=async()=>{t.createShotsFromShotsJson()};return E.jsxs("div",{children:[E.jsxs("div",{style:{marginBottom:"10px"},children:[E.jsx(ut,{onClick:e,label:"Delete Scene",className:"btn-outline-danger"}),E.jsx(ut,{onClick:()=>t.log(),label:"LOG"})]}),E.jsx(M_,{className:"mb-2",buttons:E.jsxs(E.Fragment,{children:[E.jsx("button",{className:"btn btn-sm btn-outline-success",onClick:async()=>{const i=await t.generateShotsJson();t.sceneJson?.updateField("shotsjson",i)},children:" Split Into Shots "}),E.jsx(vu,{value:t.project.workflows.split_scene_into_shots.model,options:NI,onChange:i=>{t.project.updateWorkflow("split_scene_into_shots","model",i)}}),E.jsx(Ku,{isLoading:t.is_generating_shotsjson,asButton:!0})]}),content:E.jsxs(E.Fragment,{children:[E.jsx(Vt,{localJson:t.sceneJson,field:"split_prompt",fitHeight:!0}),E.jsx(Vt,{localJson:t.project.projinfo,field:"workflows/split_scene_into_shots/system_message",fitHeight:!0}),E.jsx(Vt,{localJson:t.project.projinfo,field:"workflows/split_scene_into_shots/prompt",fitHeight:!0})]})}),E.jsx(Vt,{localJson:t.sceneJson,field:"script",fitHeight:!0}),E.jsx(Vt,{localJson:t.sceneJson,field:"shotsjson",fitHeight:!0,headerExtra:E.jsx(ut,{onClick:n,label:"Create Shots"})}),E.jsx(UK,{scene:t}),E.jsx("div",{style:{height:"500px"}})]})}),aO=({label:t,value:e,onToggle:n,useIndicator:i=!1})=>i?E.jsx("div",{onClick:()=>n(!e),style:{width:"16px",height:"16px",borderRadius:"50%",backgroundColor:e?"green":"transparent",border:"2px solid green",cursor:"pointer"}}):E.jsx("button",{className:`btn btn-sm ${e?"btn-success":"btn-outline-secondary"}`,onClick:()=>n(!e),children:t}),Jg="https://cdn.pixabay.com/photo/2021/05/09/06/07/dog-6240043_1280.jpg",FK=ct(({shot:t,isSelected:e,onClick:n})=>{const[i,r]=C.useState(Jg);return C.useEffect(()=>{let a=!1;return(async()=>{if(t.srcImage)try{const c=await t.srcImage.getUrlObject();!a&&c&&r(c)}catch(c){console.error("Failed to load srcImage URL:",c),a||r(Jg)}else r(Jg)})(),()=>{a=!0}},[t.srcImage]),E.jsxs("div",{className:"flex-shrink-0 position-relative d-flex align-items-center justify-content-center",style:{height:"100%",cursor:"pointer",borderWidth:e?2:0,borderColor:e?"#04914a":"#dee2e6",borderStyle:"solid"},onClick:()=>n(t),children:[E.jsx("img",{src:i,alt:t.folder.name,className:"img-fluid",style:{height:"100%",width:"auto",objectFit:"contain",display:"block"}}),E.jsx("div",{className:"position-absolute text-white px-1",style:{bottom:0,left:0,backgroundColor:"rgba(0,0,0,0.5)",fontSize:"0.75rem",borderTopRightRadius:"4px"},children:t.folder.name}),E.jsx("div",{className:"position-absolute",style:{top:2,right:2},onClick:a=>a.stopPropagation(),children:E.jsx(aO,{label:"Finished",value:!!t.shotJson?.data?.finished,useIndicator:!0,onToggle:a=>{t.shotJson&&t.shotJson.updateField("finished",a)}})})]})}),$K=({initialHeight:t=80,minHeight:e=30,children:n})=>{const[i,r]=C.useState(t),a=C.useRef(null),u=C.useRef(!1),c=y=>{u.current=!0,y.preventDefault()},h=y=>{if(!u.current||!a.current)return;const S=a.current.getBoundingClientRect(),b=y.clientY-S.top;b>e&&r(b)},d=()=>{u.current=!1};C.useEffect(()=>(window.addEventListener("mousemove",h),window.addEventListener("mouseup",d),()=>{window.removeEventListener("mousemove",h),window.removeEventListener("mouseup",d)}),[]);const m=6;return E.jsxs("div",{ref:a,className:"position-relative",style:{height:`${i}px`},children:[E.jsx("div",{style:{height:"100%",paddingBottom:`${m}px`,boxSizing:"border-box"},children:n}),E.jsx("div",{style:{position:"absolute",bottom:0,left:0,right:0,height:`${m}px`,cursor:"ns-resize",zIndex:10,backgroundColor:"#0d6efd",opacity:.5},onMouseDown:c})]})},HK=ct(({shot:t})=>{const e=t.scene;if(!e.sceneJson||!e.sceneJson.data)return null;const n=e.sceneJson.data.tags,i=e.project?.artbook;return i?E.jsx(Fu,{label:"Tags",children:n.length?E.jsx("ul",{className:"list-group list-group-flush",children:n.map((r,a)=>{const u=i.getTag(r);if(!u)return null;const c=!t.getSkippedTags().includes(u.path);return E.jsxs("li",{className:"list-group-item p-0 border-0 d-flex align-items-center gap-2",children:[E.jsx("input",{type:"checkbox",className:"form-check-input m-0",checked:c,onChange:h=>{t.setTagSkipped(u.path,!h.target.checked)}}),E.jsx("span",{className:c?"":"text-muted",children:u.path})]},a)})}):E.jsx("div",{children:"No tags."})}):null}),GK={submitted:"gray",processing:"orange",succeed:"green",failed:"red"},VK=ct(({task:t})=>{const n=t.data?.status??"submitted",i=GK[n]??"gray";return E.jsx("div",{className:"card mb-0",children:E.jsxs("div",{className:"card-body d-flex align-items-center justify-content-between py-0",children:[E.jsxs("div",{className:"d-flex align-items-center gap-2",children:[E.jsx("div",{style:{width:12,height:12,borderRadius:"50%",backgroundColor:i}}),E.jsx("span",{className:"fw-bold",children:t.id}),E.jsx("span",{className:"text-muted",children:n})]}),E.jsxs("div",{className:"d-flex gap-0",children:[E.jsx("span",{className:"text-muted me-2",children:t._status_log}),E.jsx(ut,{label:"Check Status",className:"btn-outline-primary btn-sm rounded-0",onClick:()=>{t.check_status()}}),E.jsx(ut,{label:"Delete",className:"btn-outline-danger btn-sm rounded-0",onClick:()=>{window.confirm(`Delete task ${t.id}?`)&&t.delete()}}),E.jsx(ut,{label:"Log",className:"btn-outline-secondary btn-sm rounded-0",onClick:()=>{t.log()}}),E.jsx(Ku,{isLoading:t.is_checking_status,asButton:!0})]})]})})}),zK=ct(({shot:t})=>!t.tasks||t.tasks.length===0?E.jsx("div",{className:"mt-2 text-muted",children:"No tasks"}):E.jsx(Fu,{label:`Tasks (${t.tasks.length})`,defaultCollapsed:!1,className:"mt-2 mb-2",children:E.jsx("div",{className:"d-flex flex-column gap-0",children:t.tasks.map(e=>E.jsx(VK,{task:e},e.id))})})),qK=({label:t="Media Gallery",children:e,defaultCollapsed:n=!1,className:i="",headerExtra:r,editWindow:a})=>E.jsxs(Fu,{label:t,defaultCollapsed:n,className:i,headerExtra:r,children:[a&&E.jsx("div",{className:"mb-3",children:a}),E.jsx("div",{className:"d-flex flex-wrap gap-2",children:e})]}),JK=({localImage:t,height:e=150,topRightExtra:n,onClick:i,isSelected:r=!1,isPicked:a=!1})=>{const[u,c]=C.useState(null),[h,d]=C.useState(!1);return C.useEffect(()=>{let m=!0;return(async()=>{try{const S=await t.getUrlObject();m&&S&&c(S)}catch(S){console.error("Error loading LocalImage",S)}})(),()=>{m=!1}},[t]),u?E.jsxs("div",{className:"position-relative d-inline-block",style:{height:`${e}px`,cursor:"pointer",outline:a?"3px solid #085db7":"none",outlineOffset:-3},onMouseEnter:()=>d(!0),onMouseLeave:()=>d(!1),children:[r&&E.jsx("div",{style:{position:"absolute",top:5,left:5,width:20,height:20,borderRadius:"50%",backgroundColor:"limegreen",border:"2px solid white",zIndex:20}}),E.jsx("img",{src:u,alt:"Media",className:"img-fluid",onClick:i,style:{height:`${e}px`,width:"auto",objectFit:"contain",display:"block"}}),n&&h&&E.jsx("div",{className:"position-absolute",style:{top:"5px",right:"5px",zIndex:10,display:"flex",gap:"5px"},children:n})]}):E.jsx("div",{className:"d-flex align-items-center justify-content-center border rounded p-2",style:{height:`${e}px`,width:"auto"},children:"Loading..."})},lO=({localVideo:t,height:e=250,topRightExtra:n,onClick:i,autoPlay:r=!0,loop:a=!0,muted:u=!0,isSelected:c=!1,isPicked:h=!1})=>{const[d,m]=C.useState(null),[y,S]=C.useState(!1);return C.useEffect(()=>{let b=!0;return(async()=>{try{const A=await t.getUrlObject();b&&A&&m(A)}catch(A){console.error("Error loading LocalVideo",A)}})(),()=>{b=!1,t.revokeUrl()}},[t]),d?E.jsxs("div",{className:"position-relative d-inline-block",style:{height:`${e}px`,cursor:"pointer",outline:h?"3px solid #085db7":"none",outlineOffset:-3},onMouseEnter:()=>S(!0),onMouseLeave:()=>S(!1),children:[c&&E.jsx("div",{style:{position:"absolute",top:5,left:5,width:20,height:20,borderRadius:"50%",backgroundColor:"limegreen",border:"2px solid white",zIndex:20}}),E.jsx("video",{src:d,height:e,onClick:i,autoPlay:r,loop:a,muted:u,style:{height:`${e}px`,width:"auto",objectFit:"contain",display:"block"}}),n&&y&&E.jsx("div",{className:"position-absolute",style:{top:"5px",right:"5px",zIndex:10,display:"flex",gap:"5px"},children:n})]}):E.jsx("div",{className:"d-flex align-items-center justify-content-center border rounded p-2",style:{height:`${e}px`,width:"auto"},children:"Loading..."})},qd=({mediaItem:t,height:e=300,onSelectMedia:n,topRightExtra:i,isSelected:r=!1,isPicked:a=!1,label:u=""})=>t instanceof Mi?E.jsxs("div",{className:"position-relative d-inline-block",children:[E.jsx(JK,{localImage:t,height:e,onClick:()=>n?.(t),topRightExtra:i,isSelected:r,isPicked:a},t.path),u&&E.jsx("div",{className:"position-absolute bottom-0 start-50 translate-middle-x bg-dark text-white px-2 py-1 rounded small text-nowrap opacity-75 pe-none mb-1",children:u})]}):t instanceof cu?E.jsx(lO,{localVideo:t,height:e,topRightExtra:i,isSelected:r,isPicked:a,onClick:()=>n?.(t)},t.path):null,KK=({width:t=400,height:e=200,onDrop:n,children:i})=>{const[r,a]=C.useState(!1),u=d=>{d.preventDefault(),a(!0)},c=()=>{a(!1)},h=d=>{d.preventDefault(),a(!1);const m=Array.from(d.dataTransfer.files);m.length>0&&n(m)};return E.jsx("div",{className:`drop-area ${r?"dragging":""}`,style:{width:t,height:e,border:r?"2px solid #42a5f5":"2px dashed #606060",borderRadius:"8px",display:"flex",justifyContent:"center",alignItems:"center",cursor:"pointer",backgroundColor:r?"#294457":"#2a2a31",boxShadow:r?"0 0 10px rgba(66,165,245,0.5)":"none",transition:"all 0.2s ease-in-out"},onDragOver:u,onDragLeave:c,onDrop:h,children:i||E.jsx("span",{style:{display:"block",textAlign:"center",width:"100%",color:"#5e727e"},children:"Drag and Drop Here"})})};function ot(t,e="Assertion error"){if(!t)throw Error(e)}function iy(t,e){return e.sort(t==="horizontal"?YK:jK)}function YK(t,e){const n=t.element.offsetLeft-e.element.offsetLeft;return n!==0?n:t.element.offsetWidth-e.element.offsetWidth}function jK(t,e){const n=t.element.offsetTop-e.element.offsetTop;return n!==0?n:t.element.offsetHeight-e.element.offsetHeight}function Oh({group:t}){const{orientation:e,panels:n}=t;return n.reduce((i,r)=>(i+=e==="horizontal"?r.element.offsetWidth:r.element.offsetHeight,i),0)}function uO(t){const{element:e,orientation:n,panels:i,separators:r}=t,a=iy(n,Array.from(e.children).filter(d=>d instanceof HTMLElement).map(d=>({element:d}))).map(({element:d})=>d),u=[];let c,h;for(const d of a){const m=i.find(y=>y.element===d);if(m){if(c){const y=c.element.getBoundingClientRect(),S=d.getBoundingClientRect();u.push({group:t,groupSize:Oh({group:t}),panels:[c,m],separator:h,rect:n==="horizontal"?new DOMRect(y.right,S.top,S.left-y.right,S.height):new DOMRect(S.left,y.bottom,S.width,S.top-y.bottom)})}c=m,h=void 0}else{const y=r.find(S=>S.element===d);y?h=y:(c=void 0,h=void 0)}}return u}function XK(t,e){const n=getComputedStyle(t),i=parseFloat(n.fontSize);return e*i}function WK(t,e){const n=getComputedStyle(t.ownerDocument.body),i=parseFloat(n.fontSize);return e*i}function QK(t){return t/100*window.innerHeight}function ZK(t){return t/100*window.innerWidth}function eY(t){switch(typeof t){case"number":return[t,"px"];case"string":{const e=parseFloat(t);return t.endsWith("%")?[e,"%"]:t.endsWith("px")?[e,"px"]:t.endsWith("rem")?[e,"rem"]:t.endsWith("em")?[e,"em"]:t.endsWith("vh")?[e,"vh"]:t.endsWith("vw")?[e,"vw"]:[e,"%"]}}}function zf({groupSize:t,panelElement:e,styleProp:n}){let i;const[r,a]=eY(n);switch(a){case"%":{i=r/100*t;break}case"px":{i=r;break}case"rem":{i=WK(e,r);break}case"em":{i=XK(e,r);break}case"vh":{i=QK(r);break}case"vw":{i=ZK(r);break}}return i}function ti(t){return parseFloat(t.toFixed(3))}function IA(t){const{panels:e}=t,n=Oh({group:t});return e.map(i=>{const{element:r,panelConstraints:a}=i;let u=0;if(a.collapsedSize){const m=zf({groupSize:n,panelElement:r,styleProp:a.collapsedSize});u=ti(m/n*100)}let c;if(a.defaultSize){const m=zf({groupSize:n,panelElement:r,styleProp:a.defaultSize});c=ti(m/n*100)}let h=0;if(a.minSize){const m=zf({groupSize:n,panelElement:r,styleProp:a.minSize});h=ti(m/n*100)}let d=100;if(a.maxSize){const m=zf({groupSize:n,panelElement:r,styleProp:a.maxSize});d=ti(m/n*100)}return{collapsedSize:u,collapsible:a.collapsible===!0,defaultSize:c,minSize:h,maxSize:d,panelId:i.id}})}class tY{#e={};addListener(e,n){const i=this.#e[e];return i===void 0?this.#e[e]=[n]:i.includes(n)||i.push(n),()=>{this.removeListener(e,n)}}emit(e,n){const i=this.#e[e];if(i!==void 0)if(i.length===1)i[0].call(null,n);else{let r=!1,a=null;const u=Array.from(i);for(let c=0;c<u.length;c++){const h=u[c];try{h.call(null,n)}catch(d){a===null&&(r=!0,a=d)}}if(r)throw a}}removeAllListeners(){this.#e={}}removeListener(e,n){const i=this.#e[e];if(i!==void 0){const r=i.indexOf(n);r>=0&&i.splice(r,1)}}}function Gt(t,e,n=0){return Math.abs(ti(t)-ti(e))<=n}let kn={cursorFlags:0,interactionState:{state:"inactive"},mountedGroups:new Map};const Vr=new tY;function ki(){return kn}function Vn(t){const e=typeof t=="function"?t(kn):t;if(kn===e)return kn;const n=kn;return kn={...kn,...e},e.cursorFlags!==void 0&&Vr.emit("cursorFlagsChange",kn.cursorFlags),e.interactionState!==void 0&&Vr.emit("interactionStateChange",kn.interactionState),e.mountedGroups!==void 0&&(kn.mountedGroups.forEach((i,r)=>{i.derivedPanelConstraints.forEach(a=>{if(a.collapsible){const{layout:u}=n.mountedGroups.get(r)??{};if(u){const c=Gt(a.collapsedSize,i.layout[a.panelId]),h=Gt(a.collapsedSize,u[a.panelId]);c&&!h&&(r.inMemoryLastExpandedPanelSizes[a.panelId]=u[a.panelId])}}})}),Vr.emit("mountedGroupsChange",kn.mountedGroups)),kn}const nY=t=>t,Kg=()=>{},cO=1,fO=2,dO=4,hO=8,DA={coarse:10,precise:5};function iY({cursorFlags:t,groups:e,state:n}){let i=0,r=0;switch(n){case"active":case"hover":e.forEach(a=>{if(!a.disableCursor)switch(a.orientation){case"horizontal":{i++;break}case"vertical":{r++;break}}})}if(i===0&&r===0)return null;switch(n){case"active":{const a=(t&cO)!==0,u=(t&fO)!==0,c=(t&dO)!==0,h=(t&hO)!==0;if(t){if(a)return c?"se-resize":h?"ne-resize":"e-resize";if(u)return c?"sw-resize":h?"nw-resize":"w-resize";if(c)return"s-resize";if(h)return"n-resize"}break}}return i>0&&r>0?"move":i>0?"ew-resize":"ns-resize"}let Yg,yi;function N_(){yi===void 0&&(yi=new CSSStyleSheet,document.adoptedStyleSheets=[yi]);const{cursorFlags:t,interactionState:e}=ki();switch(e.state){case"active":case"hover":{const n=iY({cursorFlags:t,groups:e.hitRegions.map(r=>r.group),state:e.state}),i=`*{cursor: ${n} !important; ${e.state==="active"?"touch-action: none;":""} }`;if(Yg===i)return;Yg=i,n?yi.cssRules.length===0?yi.insertRule(i):yi.replaceSync(i):yi.cssRules.length===1&&yi.deleteRule(0);break}case"inactive":{Yg=void 0,yi.cssRules.length===1&&yi.deleteRule(0);break}}}function oY(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!=e[n])return!1;return!0}function yu(t,e){return Gt(t,e)?0:t>e?1:-1}function ua({panelConstraints:t,size:e}){const{collapsedSize:n=0,collapsible:i,maxSize:r=100,minSize:a=0}=t;if(yu(e,a)<0)if(i){const u=(n+a)/2;yu(e,u)<0?e=n:e=a}else e=a;return e=Math.min(r,e),e=ti(e),e}function _u({delta:t,initialLayout:e,panelConstraints:n,pivotIndices:i,prevLayout:r,trigger:a}){if(Gt(t,0))return e;const u=Object.values(e),c=Object.values(r),h=[...u],[d,m]=i;ot(d!=null,"Invalid first pivot index"),ot(m!=null,"Invalid second pivot index");let y=0;if(a==="keyboard"){{const T=t<0?m:d,A=n[T];ot(A,`Panel constraints not found for index ${T}`);const{collapsedSize:x=0,collapsible:M,minSize:I=0}=A;if(M){const N=u[T];if(ot(N!=null,`Previous layout not found for panel index ${T}`),Gt(N,x)){const D=I-N;yu(D,Math.abs(t))>0&&(t=t<0?0-D:D)}}}{const T=t<0?d:m,A=n[T];ot(A,`No panel constraints found for index ${T}`);const{collapsedSize:x=0,collapsible:M,minSize:I=0}=A;if(M){const N=u[T];if(ot(N!=null,`Previous layout not found for panel index ${T}`),Gt(N,I)){const D=N-x;yu(D,Math.abs(t))>0&&(t=t<0?0-D:D)}}}}{const T=t<0?1:-1;let A=t<0?m:d,x=0;for(;;){const I=u[A];ot(I!=null,`Previous layout not found for panel index ${A}`);const N=ua({panelConstraints:n[A],size:100})-I;if(x+=N,A+=T,A<0||A>=n.length)break}const M=Math.min(Math.abs(t),Math.abs(x));t=t<0?0-M:M}{let T=t<0?d:m;for(;T>=0&&T<n.length;){const A=Math.abs(t)-Math.abs(y),x=u[T];ot(x!=null,`Previous layout not found for panel index ${T}`);const M=x-A,I=ua({panelConstraints:n[T],size:M});if(!Gt(x,I)&&(y+=x-I,h[T]=I,y.toFixed(3).localeCompare(Math.abs(t).toFixed(3),void 0,{numeric:!0})>=0))break;t<0?T--:T++}}if(oY(c,h))return r;{const T=t<0?m:d,A=u[T];ot(A!=null,`Previous layout not found for panel index ${T}`);const x=A+y,M=ua({panelConstraints:n[T],size:x});if(h[T]=M,!Gt(M,x)){let I=x-M,N=t<0?m:d;for(;N>=0&&N<n.length;){const D=h[N];ot(D!=null,`Previous layout not found for panel index ${N}`);const L=D+I,U=ua({panelConstraints:n[N],size:L});if(Gt(D,U)||(I-=U-D,h[N]=U),Gt(I,0))break;t>0?N--:N++}}}const S=Object.values(h).reduce((T,A)=>A+T,0);if(!Gt(S,100,.1))return r;const b=Object.keys(r);return h.reduce((T,A,x)=>(T[b[x]]=A,T),{})}function Yu(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(yu(t[n],e[n])!==0)return!1;return!0}function pO({event:t,hitRegions:e,initialLayoutMap:n,mountedGroups:i,pointerDownAtPoint:r}){let a=0;const u=new Map(i);e.forEach(c=>{const{group:h,groupSize:d}=c,{disableCursor:m,orientation:y,panels:S}=h;let b=0;r?y==="horizontal"?b=(t.clientX-r.x)/d*100:b=(t.clientY-r.y)/d*100:y==="horizontal"?b=t.clientX<0?-100:100:b=t.clientY<0?-100:100;const T=n.get(h),{derivedPanelConstraints:A,layout:x,separatorToPanels:M}=i.get(h)??{};if(A&&T&&x&&M){const I=_u({delta:b,initialLayout:T,panelConstraints:A,pivotIndices:c.panels.map(N=>S.indexOf(N)),prevLayout:x,trigger:"mouse-or-touch"});if(Yu(I,x)){if(b!==0&&!m)switch(y){case"horizontal":{a|=b<0?cO:fO;break}case"vertical":{a|=b<0?dO:hO;break}}}else{u.set(c.group,{derivedPanelConstraints:A,layout:I,separatorToPanels:M});const N=c.group.panels.map(({id:D})=>D).join(",");c.group.inMemoryLayouts[N]=I}}}),Vn({cursorFlags:a,mountedGroups:u}),N_()}function OA(t){if(t.defaultPrevented||t.relatedTarget!==null||t.clientX===0&&t.clientY===0)return;const{interactionState:e,mountedGroups:n}=ki();switch(e.state){case"active":e.hitRegions.forEach(i=>{t.currentTarget===i.group.element&&pO({event:t,hitRegions:e.hitRegions,initialLayoutMap:e.initialLayoutMap,mountedGroups:n})})}}function cd(t){const e=t.parentElement;ot(e,"Parent group element not found");const{mountedGroups:n}=ki();for(const[i]of n)if(i.element===e)return i;throw Error("Could not find parent Group for separator element")}function Zr({layout:t,panelConstraints:e}){const n=[...Object.values(t)],i=n.reduce((u,c)=>u+c,0);if(n.length!==e.length)throw Error(`Invalid ${e.length} panel layout: ${n.map(u=>`${u}%`).join(", ")}`);if(!Gt(i,100)&&n.length>0)for(let u=0;u<e.length;u++){const c=n[u];ot(c!=null,`No layout data found for index ${u}`);const h=100/i*c;n[u]=h}let r=0;for(let u=0;u<e.length;u++){const c=n[u];ot(c!=null,`No layout data found for index ${u}`);const h=ua({panelConstraints:e[u],size:c});c!=h&&(r+=c-h,n[u]=h)}if(!Gt(r,0))for(let u=0;u<e.length;u++){const c=n[u];ot(c!=null,`No layout data found for index ${u}`);const h=c+r,d=ua({panelConstraints:e[u],size:h});if(c!==d&&(r-=d-c,n[u]=d,Gt(r,0)))break}const a=Object.keys(t);return n.reduce((u,c,h)=>(u[a[h]]=c,u),{})}function mO({groupId:t}){const e=()=>{const{mountedGroups:n}=ki();for(const[i,r]of n)if(i.id===t)return{group:i,...r};throw Error(`Group ${t} not found`)};return{getLayout(){const{layout:n}=e();return n},setLayout(n){const{derivedPanelConstraints:i,group:r,layout:a,separatorToPanels:u}=e(),c=Zr({layout:n,panelConstraints:i});return Yu(a,c)||Vn(h=>({mountedGroups:new Map(h.mountedGroups).set(r,{derivedPanelConstraints:i,layout:c,separatorToPanels:u})})),c}}}function gO(t){const{mountedGroups:e}=ki(),n=e.get(t);return ot(n,`Mounted Group ${t.id} not found`),n}function Pr(t,e){const n=cd(t),i=gO(n),r=n.separators.find(m=>m.element===t);ot(r,"Matching separator not found");const a=i.separatorToPanels.get(r);ot(a,"Matching panels not found");const u=a.map(m=>n.panels.indexOf(m)),c=mO({groupId:n.id}).getLayout(),h=_u({delta:e,initialLayout:c,panelConstraints:i.derivedPanelConstraints,pivotIndices:u,prevLayout:c,trigger:"keyboard"}),d=Zr({layout:h,panelConstraints:i.derivedPanelConstraints});Yu(c,d)||Vn(m=>({mountedGroups:new Map(m.mountedGroups).set(n,{derivedPanelConstraints:i.derivedPanelConstraints,layout:d,separatorToPanels:i.separatorToPanels})}))}function PA(t){if(t.defaultPrevented)return;const e=t.currentTarget,n=cd(e);if(!n.disabled)switch(t.key){case"ArrowDown":{t.preventDefault(),n.orientation==="vertical"&&Pr(e,5);break}case"ArrowLeft":{t.preventDefault(),n.orientation==="horizontal"&&Pr(e,-5);break}case"ArrowRight":{t.preventDefault(),n.orientation==="horizontal"&&Pr(e,5);break}case"ArrowUp":{t.preventDefault(),n.orientation==="vertical"&&Pr(e,-5);break}case"End":{t.preventDefault(),Pr(e,100);break}case"Enter":{t.preventDefault();const i=cd(e),{derivedPanelConstraints:r,layout:a,separatorToPanels:u}=gO(i),c=i.separators.find(y=>y.element===e);ot(c,"Matching separator not found");const h=u.get(c);ot(h,"Matching panels not found");const d=h[0],m=r.find(y=>y.panelId===d.id);if(ot(m,"Panel metadata not found"),m.collapsible){const y=a[d.id],S=m.collapsedSize===y?i.inMemoryLastExpandedPanelSizes[d.id]??m.minSize:m.collapsedSize;Pr(e,S-y)}break}case"F6":{t.preventDefault();const i=cd(e).separators.map(u=>u.element),r=Array.from(i).findIndex(u=>u===t.currentTarget);ot(r!==null,"Index not found");const a=t.shiftKey?r>0?r-1:i.length-1:r+1<i.length?r+1:0;i[a].focus();break}case"Home":{t.preventDefault(),Pr(e,-100);break}}}function rY(t,e){return{x:t.x>=e.left&&t.x<=e.right?0:Math.min(Math.abs(t.x-e.left),Math.abs(t.x-e.right)),y:t.y>=e.top&&t.y<=e.bottom?0:Math.min(Math.abs(t.y-e.top),Math.abs(t.y-e.bottom))}}function sY(t,e,n){let i,r={x:1/0,y:1/0};for(const a of e){const u=rY(n,a.rect);switch(t){case"horizontal":{u.x<=r.x&&(i=a,r=u);break}case"vertical":{u.y<=r.y&&(i=a,r=u);break}}}return i?{distance:r,hitRegion:i}:void 0}let qf;function aY(){return qf===void 0&&(typeof matchMedia=="function"?qf=!!matchMedia("(pointer:coarse)").matches:qf=!1),qf}function vO(t,e){const n=[];return e.forEach((i,r)=>{if(r.disabled)return;const a=aY()?DA.coarse:DA.precise,u=uO(r),c=sY(r.orientation,u,{x:t.clientX,y:t.clientY});c&&c.distance.x<=a&&c.distance.y<=a&&n.push(c.hitRegion)}),n}function kA(t){if(t.defaultPrevented)return;const{mountedGroups:e}=ki(),n=vO(t,e),i=new Set,r=new Set,a=new Set,u=new Map;let c=!1;n.forEach(h=>{i.add(h.group),h.panels.forEach(m=>{r.add(m)}),h.separator&&(a.add(h.separator),c||(c=!0,h.separator.element.focus()));const d=e.get(h.group);d&&u.set(h.group,d.layout)}),Vn({interactionState:{hitRegions:n,initialLayoutMap:u,pointerDownAtPoint:{x:t.clientX,y:t.clientY},state:"active"}}),n.length&&t.preventDefault()}function LA(t){if(t.defaultPrevented)return;const{interactionState:e,mountedGroups:n}=ki();switch(e.state){case"active":{if(t.type!=="pointerleave"&&t.buttons===0){Vn(i=>i.interactionState.state==="inactive"?i:{cursorFlags:0,interactionState:{state:"inactive"}});return}pO({event:t,hitRegions:e.hitRegions,initialLayoutMap:e.initialLayoutMap,mountedGroups:n,pointerDownAtPoint:e.pointerDownAtPoint});break}default:{const i=vO(t,n);i.length===0?e.state!=="inactive"&&Vn({interactionState:{state:"inactive"}}):Vn({interactionState:{hitRegions:i,state:"hover"}}),N_();break}}}function UA(t){if(t.defaultPrevented)return;t.preventDefault();const{interactionState:e}=ki();switch(e.state){case"active":Vn({cursorFlags:0,interactionState:{state:"inactive"}}),N_()}}function lY(t){let e=0,n=0;const i={};for(const a of t)if(a.defaultSize!==void 0){e++;const u=ti(a.defaultSize);n+=u,i[a.panelId]=u}else i[a.panelId]=void 0;const r=t.length-e;if(r!==0){const a=ti((100-n)/r);for(const u of t)u.defaultSize===void 0&&(i[u.panelId]=a)}return i}function uY(t,e,n){const i=n[0];if(!i)return;const r=t.panels.find(u=>u.element===e);if(!r||!r.onResize)return;const a=Oh({group:t});r.onResize({asPercentage:ti(i.inlineSize/a*100),inPixels:i.inlineSize},r.id)}function cY(t){let e=!0;ot(t.separators.length===0||t.separators.length<t.panels.length,"Invalid Group configuration; too many Separator components");const n=new Set,i=new Set,r=new ResizeObserver(y=>{for(const S of y){const{borderBoxSize:b,target:T}=S;T===t.element?e&&Vn(A=>{const x=A.mountedGroups.get(t);if(x){const M=IA(t),I=x.layout,N=Zr({layout:I,panelConstraints:M});return{mountedGroups:new Map(A.mountedGroups).set(t,{derivedPanelConstraints:M,layout:N,separatorToPanels:x.separatorToPanels})}}return A}):uY(t,T,b)}});r.observe(t.element),t.panels.forEach(y=>{ot(!n.has(y.id),`Panel ids must be unique; id "${y.id}" was used more than once`),n.add(y.id),y.onResize&&r.observe(y.element)});const a=IA(t),u=t.panels.map(({id:y})=>y).join(","),c=t.inMemoryLayouts[u]??t.defaultLayout??lY(a),h=Zr({layout:c,panelConstraints:a}),d=uO(t),m=Vn(y=>({mountedGroups:new Map(y.mountedGroups).set(t,{derivedPanelConstraints:a,layout:h,separatorToPanels:new Map(d.filter(S=>S.separator).map(S=>[S.separator,S.panels]))})}));return t.element.addEventListener("pointerleave",OA),t.separators.forEach(y=>{ot(!i.has(y.id),`Separator ids must be unique; id "${y.id}" was used more than once`),i.add(y.id),y.element.addEventListener("keydown",PA)}),m.mountedGroups.size===1&&(window.addEventListener("pointerdown",kA),window.addEventListener("pointermove",LA),window.addEventListener("pointerup",UA)),function(){e=!1;const y=Vn(S=>{const b=new Map(S.mountedGroups);return b.delete(t),{mountedGroups:b}});t.element.removeEventListener("pointerleave",OA),t.separators.forEach(S=>{S.element.removeEventListener("keydown",PA)}),y.mountedGroups.size===0&&(window.removeEventListener("pointerdown",kA),window.removeEventListener("pointermove",LA),window.removeEventListener("pointerup",UA)),r.disconnect()}}function I_(t){const e=C.useId();return`${t??e}`}const ka=typeof window<"u"?C.useLayoutEffect:C.useEffect;function D_(t){const e=C.useRef(t);return ka(()=>{e.current=t},[t]),C.useCallback(n=>e.current?.(n),[e])}function O_(...t){return D_(e=>{t.forEach(n=>{if(n)switch(typeof n){case"function":{n(e);break}case"object":{n.current=e;break}}})})}const yO="--react-resizable-panels--panel--pointer-events";function _O(t,e){const n=t.replace(/[^a-zA-Z0-9\-_]/g,""),i=e.replace(/[^a-zA-Z0-9\-_]/g,"");return`--react-resizable-panels--${n}--${i}`}const SO=C.createContext(null);function fY(t,e){const n=C.useRef({getLayout:()=>({}),setLayout:nY});C.useImperativeHandle(e,()=>n.current,[]),ka(()=>{Object.assign(n.current,mO({groupId:t}))})}function dY({children:t,className:e,defaultLayout:n,disableCursor:i,disabled:r,elementRef:a,groupRef:u,id:c,onLayoutChange:h,orientation:d="horizontal",style:m,...y}){const S=C.useRef({}),b=D_(ae=>{Yu(S.current,ae)||(S.current=ae,h?.(ae))}),T=I_(c),[A,x]=C.useState(!1),[M,I]=C.useState(null),[N,D]=C.useState(n??{}),[L,U]=C.useState([]),[O,q]=C.useState([]),J=C.useRef({}),j=C.useRef({}),W=O_(I,a);fY(T,u);const re=C.useMemo(()=>({id:T,orientation:d,registerPanel:ae=>(U(de=>iy(d,[...de,ae])),()=>{U(de=>de.filter(F=>F!==ae))}),registerSeparator:ae=>(q(de=>iy(d,[...de,ae])),()=>{q(de=>de.filter(F=>F!==ae))})}),[T,d]);ka(()=>{if(M!==null&&L.length>0){const ae={defaultLayout:n,disableCursor:!!i,disabled:!!r,element:M,id:T,inMemoryLastExpandedPanelSizes:J.current,inMemoryLayouts:j.current,orientation:d,panels:L,separators:O},de=cY(ae),F=ki().mountedGroups.get(ae);F&&(D(F.layout),b?.(F.layout));const Q=Vr.addListener("interactionStateChange",ne=>{switch(ne.state){case"active":case"hover":{x(ne.hitRegions.some(ce=>ce.group===ae));break}}}),ee=Vr.addListener("mountedGroupsChange",ne=>{const ce=ne.get(ae);ce&&ce.derivedPanelConstraints.length>0&&(D(ce.layout),b?.(ce.layout))});return()=>{de(),Q(),ee()}}},[n,i,r,M,T,b,d,L,O]);const ie={[yO]:A?"none":void 0};for(const ae in N){const de=_O(T,ae),F=N[ae];ie[de]=F}return E.jsx(SO.Provider,{value:re,children:E.jsx("div",{...y,"aria-orientation":d,className:e,"data-group":!0,"data-testid":T,id:T,ref:W,style:{...m,...ie,display:"flex",flexDirection:d==="horizontal"?"row":"column",flexWrap:"nowrap"},children:t})})}function P_(){const t=C.useContext(SO);return ot(t,"Group Context not found; did you render a Panel or Separator outside of a Group?"),t}function hY({groupId:t,panelId:e}){const n=()=>{const{mountedGroups:c}=ki();for(const[h,{derivedPanelConstraints:d,layout:m,separatorToPanels:y}]of c)if(h.id===t)return{derivedPanelConstraints:d,group:h,layout:m,separatorToPanels:y};throw Error(`Group ${t} not found`)},i=()=>{const c=n().derivedPanelConstraints.find(h=>h.panelId===e);if(c!==void 0)return c;throw Error(`Panel constraints not found for Panel ${e}`)},r=()=>{const c=n().group.panels.find(h=>h.id===e);if(c!==void 0)return c;throw Error(`Layout not found for Panel ${e}`)},a=()=>{const c=n().layout[e];if(c!==void 0)return c;throw Error(`Layout not found for Panel ${e}`)},u=c=>{const h=a();if(c===h)return;const{derivedPanelConstraints:d,group:m,layout:y,separatorToPanels:S}=n(),b=m.panels.findIndex(M=>M.id===e),T=b===m.panels.length-1,A=_u({delta:T?h-c:c-h,initialLayout:y,panelConstraints:d,pivotIndices:T?[b-1,b]:[b,b+1],prevLayout:y,trigger:"imperative-api"}),x=Zr({layout:A,panelConstraints:d});Yu(y,x)||Vn(M=>({mountedGroups:new Map(M.mountedGroups).set(m,{derivedPanelConstraints:d,layout:x,separatorToPanels:S})}))};return{collapse:()=>{const{collapsible:c,collapsedSize:h}=i(),d=a();c&&d!==h&&u(h)},expand:()=>{const{collapsible:c,collapsedSize:h,minSize:d}=i(),m=a();c&&m===h&&u(d)},getSize:()=>{const{group:c}=n(),h=a(),{element:d}=r(),m=c.orientation==="horizontal"?d.offsetWidth:d.offsetHeight;return{asPercentage:h,inPixels:m}},isCollapsed:()=>{const{collapsible:c,collapsedSize:h}=i(),d=a();return c&&Gt(h,d)},resize:c=>{if(a()!==c){let h;switch(typeof c){case"number":{const{group:d}=n(),m=Oh({group:d});h=ti(c/m*100);break}case"string":{h=parseFloat(c);break}}u(h)}}}}function pY(t,e){const{id:n}=P_(),i=C.useRef({collapse:Kg,expand:Kg,getSize:()=>({asPercentage:0,inPixels:0}),isCollapsed:()=>!1,resize:Kg});C.useImperativeHandle(e,()=>i.current,[]),ka(()=>{Object.assign(i.current,hY({groupId:n,panelId:t}))})}function BA({children:t,className:e,collapsedSize:n="0%",collapsible:i=!1,defaultSize:r,elementRef:a,id:u,maxSize:c="100%",minSize:h="0%",onResize:d,panelRef:m,style:y,...S}){const b=!!u,T=I_(u),[A,x]=C.useState(null),M=O_(x,a),{id:I,registerPanel:N}=P_(),D=d!==null,L=D_(O=>{d?.(O,u)});ka(()=>{if(A!==null)return N({element:A,id:T,idIsStable:b,onResize:D?L:void 0,panelConstraints:{collapsedSize:n,collapsible:i,defaultSize:r,maxSize:c,minSize:h}})},[n,i,r,A,D,T,b,c,h,L,N]),pY(T,m);const U=_O(I,T);return E.jsx("div",{...S,"data-panel":!0,"data-testid":T,id:T,ref:M,style:{...mY,flexBasis:0,flexGrow:`var(${U}, 1)`,flexShrink:1,overflow:"hidden",pointerEvents:`var(${yO})`},children:E.jsx("div",{className:e,style:{width:"100%",height:"100%",...y},children:t})})}const mY={minHeight:"unset",maxHeight:"unset",height:"unset",minWidth:"unset",maxWidth:"unset",width:"unset",flex:"unset",flexBasis:"unset",flexShrink:"unset",flexGrow:"unset",border:"unset",borderWidth:"unset",padding:"unset",margin:"unset"};function gY({layout:t,panelConstraints:e,panelId:n,panelIndex:i}){let r,a;const u=t[n],c=e.find(h=>h.panelId===n);if(c){const h=c.maxSize,d=a=c.collapsible?c.collapsedSize:c.minSize,m=[i,i+1];a=Zr({layout:_u({delta:d-u,initialLayout:t,panelConstraints:e,pivotIndices:m,prevLayout:t,trigger:"keyboard"}),panelConstraints:e})[n],r=Zr({layout:_u({delta:h-u,initialLayout:t,panelConstraints:e,pivotIndices:m,prevLayout:t,trigger:"keyboard"}),panelConstraints:e})[n]}return{valueControls:n,valueMax:r,valueMin:a,valueNow:u}}function vY({children:t,className:e,elementRef:n,id:i,style:r,...a}){const u=I_(i),[c,h]=C.useState({}),[d,m]=C.useState("inactive"),[y,S]=C.useState(null),b=O_(S,n),{id:T,orientation:A,registerSeparator:x}=P_(),M=A==="horizontal"?"vertical":"horizontal";return ka(()=>{if(y!==null){const I={element:y,id:u},N=x(I),D=Vr.addListener("interactionStateChange",U=>{m(U.state!=="inactive"&&U.hitRegions.some(O=>O.separator===I)?U.state:"inactive")}),L=Vr.addListener("mountedGroupsChange",U=>{U.forEach(({derivedPanelConstraints:O,layout:q,separatorToPanels:J},j)=>{if(j.id===T){const W=J.get(I);if(W){const re=W[0],ie=j.panels.indexOf(re);h(gY({layout:q,panelConstraints:O,panelId:re.id,panelIndex:ie}))}}})});return()=>{D(),L(),N()}}},[y,T,u,x]),E.jsx("div",{...a,"aria-controls":c.valueControls,"aria-orientation":M,"aria-valuemax":c.valueMax,"aria-valuemin":c.valueMin,"aria-valuenow":c.valueNow,children:t,className:e,"data-separator":d,"data-testid":u,id:u,ref:b,role:"separator",style:{flexBasis:"auto",...r,flexGrow:0,flexShrink:0},tabIndex:0})}const yY=({localImage:t,initialText:e="",onImageGenerated:n,onClose:i})=>{const[r,a]=C.useState(null),[u,c]=C.useState(e),[h,d]=C.useState(!1),[m,y]=C.useState(co.options.img_models.flash_image);C.useEffect(()=>{let b=!0;return t.getUrlObject().then(T=>{b&&a(T)}),()=>{b=!1}},[t]);const S=async()=>{d(!0);try{const b=await t.getBase64(),T=await co.img2img(u||"",m,[{rawBase64:b.rawBase64,mime:b.mime,description:""}]);n&&n(T)}catch(b){console.error("GenerateImage failed:",b)}finally{d(!1)}};return E.jsx("div",{className:"border d-flex flex-column",style:{height:"700px"},children:E.jsxs(dY,{orientation:"horizontal",style:{height:"100%"},children:[E.jsx(BA,{defaultSize:500,minSize:10,children:E.jsx("div",{className:"d-flex align-items-center justify-content-center overflow-hidden",style:{height:"100%"},children:r?E.jsx("img",{src:r,alt:"Preview",className:"img-fluid",style:{objectFit:"contain",maxHeight:"100%",maxWidth:"100%"}}):E.jsx("div",{children:"Loading image"})})}),E.jsx(vY,{style:{cursor:"ew-resize",backgroundColor:"#8f8f8fff",width:"10px"}}),E.jsx(BA,{minSize:10,children:E.jsxs("div",{className:"d-flex flex-column h-100 p-3",style:{height:"100%"},children:[E.jsx("div",{className:"d-flex justify-content-end mb-2",children:i&&E.jsx("button",{type:"button",onClick:i,style:{cursor:"pointer"},children:""})}),E.jsxs("div",{className:"flex-grow-1 d-flex flex-column",children:[E.jsx("textarea",{value:u,onChange:b=>c(b.target.value),placeholder:"Edit This Image:",style:{flexGrow:1,resize:"none",padding:"8px",fontSize:"14px"}}),E.jsx(vu,{value:m,options:Object.values(co.options.img_models),label:"Model:",onChange:b=>{y(b)}}),E.jsx(f_,{onClick:S,label:"Generate",is_loading:h})]})]})})]})})},Qo=ct(({mediaFolder:t,label:e=null,itemHeight:n=300})=>!t||!t.folder?null:(e=e||t.folderName,E.jsx(E.Fragment,{children:E.jsxs(qK,{label:e,headerExtra:E.jsxs(E.Fragment,{children:[E.jsx(ut,{label:"Log",className:"btn-outline-secondary btn-sm",onClick:()=>{t.log()}}),E.jsx(ut,{label:"Import URL",className:"btn-outline-secondary btn-sm",onClick:async()=>{try{const i=await navigator.clipboard.readText();i&&(i.startsWith("http://")||i.startsWith("https://"))?(console.log("Importing URL from clipboard:",i),t.downloadFromUrl(i)):alert("Clipboard does not contain a valid URL.")}catch(i){console.error("Failed to read clipboard:",i),alert("Failed to access clipboard.")}}}),E.jsx(ut,{label:"Paste",className:"btn-outline-secondary btn-sm",onClick:()=>{t.copyFromClipboard()}})]}),editWindow:t.selectedMedia instanceof Mi?E.jsx(yY,{localImage:t.selectedMedia,initialText:"Notes for this image",onImageGenerated:async i=>{console.log("Image generated:",i);const r=await co.saveResultImage(i,t.folder);r&&t.loadFile(r?.handle)},onClose:()=>t.setSelectedMedia(null)}):null,children:[t.media.map(i=>E.jsx(qd,{mediaItem:i,height:n,onSelectMedia:r=>{t.setSelectedMedia(r)},isSelected:t.getMediaTags(i).length>0,isPicked:t.selectedMedia==i,label:t.getMediaTags(i).join(","),topRightExtra:E.jsxs(E.Fragment,{children:[E.jsx(ut,{label:"Delete",className:"btn-outline-danger btn-sm",onClick:async()=>{await t.deleteMedia(i)}}),E.jsx(OI,{items:t.tags,currentItem:"TAG",onPicked:r=>{t.setNamedMedia(r,i)}})]})},i.path)),E.jsx(KK,{width:100,height:n,onDrop:async i=>{await t.saveFiles(i)}})]})}))),pa=ct(function({workflowName:e,project:n,optionName:i,label:r,values:a}){const u=n?.workflows?.[e]?.[i];return E.jsx(vu,{value:u,options:a,label:r,onChange:c=>{n.updateWorkflow(e,i,c)}})}),_Y=ct(({shot:t})=>{const e=t.scene.project;return E.jsx(M_,{className:"mb-2",buttons:E.jsxs(E.Fragment,{children:[E.jsx("button",{className:"btn btn-sm btn-outline-success",onClick:async()=>{t.GenerateVideo()},children:"Generate Video"}),E.jsx(pa,{project:e,workflowName:"generate_video_kling",optionName:"model",values:Object.values(lt.options.img2video.model)}),E.jsx(pa,{project:e,workflowName:"generate_video_kling",optionName:"mode",label:"mode:",values:Object.values(lt.options.img2video.mode)}),E.jsx(pa,{project:e,workflowName:"generate_video_kling",optionName:"duration",label:"Duration:",values:Object.values(lt.options.img2video.duration)}),E.jsx(Ku,{isLoading:t.is_submitting_video,asButton:!0})]}),content:E.jsxs(E.Fragment,{children:[E.jsx(Vt,{localJson:t.shotJson,field:"video_prompt",fitHeight:!0}),E.jsx(qd,{mediaItem:t.srcImage,height:400}),E.jsx(qd,{mediaItem:t.MediaFolder_results?.getNamedMedia("end_frame"),height:400}),E.jsx(Qo,{mediaFolder:t.MediaFolder_results,label:"Source Image",itemHeight:300})]})})}),SY=ct(({shot:t})=>{const e=t.scene.project;return E.jsx(M_,{className:"mb-2",buttons:E.jsxs(E.Fragment,{children:[E.jsx("button",{className:"btn btn-sm btn-outline-success",onClick:async()=>{t.GenerateVideo_KlingMotionControl()},children:"Gen Motion Control Video"}),E.jsx(pa,{project:e,workflowName:"kling_motion_control",optionName:"character_orientation",label:"Orient:",values:Object.values(lt.options.motion_control.character_orientation)}),E.jsx(pa,{project:e,workflowName:"kling_motion_control",optionName:"mode",label:"mode:",values:Object.values(lt.options.motion_control.mode)}),E.jsx(pa,{project:e,workflowName:"kling_motion_control",optionName:"keep_original_sound",label:"Sound:",values:Object.values(lt.options.motion_control.keep_original_sound)}),E.jsx(Ku,{isLoading:t.is_submitting_video,asButton:!0})]}),content:E.jsxs(E.Fragment,{children:[E.jsx(Vt,{localJson:t.shotJson,field:"video_prompt",fitHeight:!0}),E.jsx(qd,{mediaItem:t.srcImage,height:400}),t.kling_motion_video&&E.jsx(lO,{localVideo:t.kling_motion_video,height:400,topRightExtra:E.jsx(E.Fragment,{})}),E.jsx(Qo,{mediaFolder:t.MediaFolder_results,label:"Source Image",itemHeight:300}),E.jsx(Qo,{mediaFolder:t.MediaFolder_refVideo,label:"Motion Video",itemHeight:300})]})})}),bY=ct(({shot:t})=>{if(!t.shotJson)return E.jsx("div",{children:"Loading shot info..."});const e=async()=>{window.confirm(`Are you sure you want to delete shot "${t.folder.name}"?`)&&await t.delete()};return E.jsxs(E.Fragment,{children:[E.jsxs("div",{className:"d-flex align-items-center justify-content-between mb-0",children:[E.jsx("strong",{children:t.folder.name}),E.jsxs("div",{className:"d-flex gap-2",children:[E.jsx(vu,{value:t.shotJson.getField("shot_type")||"shot_type",options:["simple shot","actor shot"],onChange:n=>{t.shotJson?.updateField("shot_type",n)}}),E.jsx(aO,{label:"Finished",value:!!t.shotJson.data?.finished,onToggle:n=>{t.shotJson&&t.shotJson.updateField("finished",n)}}),E.jsx(ut,{onClick:()=>{t.log()},label:"Log Shot"}),E.jsx(ut,{onClick:e,label:"Delete Shot",className:"btn-outline-danger"})]})]}),E.jsx(Ea,{tabs:{Generate_Image:E.jsx("div",{className:"card mb-2",children:E.jsxs("div",{className:"card-body",children:[E.jsx("div",{className:"mb-0",children:E.jsxs("div",{className:"btn-group mb-2",role:"group",children:[E.jsx("button",{className:"btn btn-sm btn-outline-success",onClick:async()=>{t.GenerateImage()},children:" Generate Image "}),E.jsx(vu,{value:t.scene.project.workflows.generate_shot_image.model,options:WM,onChange:n=>{t.scene.project.updateWorkflow("generate_shot_image","model",n)}}),E.jsx(Ku,{isLoading:t.is_generating,asButton:!0})]})}),E.jsx(Vt,{localJson:t.shotJson,field:"prompt",fitHeight:!0}),E.jsx(Vt,{localJson:t.shotJson,field:"video_prompt",fitHeight:!0}),E.jsx(Vt,{localJson:t.shotJson,field:"camera",fitHeight:!0}),E.jsx(Vt,{localJson:t.shotJson,field:"action_description",fitHeight:!0}),E.jsx(HK,{shot:t}),E.jsx(Qo,{mediaFolder:t.MediaFolder_results})]})}),Generate_VIDEO:E.jsxs(E.Fragment,{children:[E.jsx(_Y,{shot:t}),E.jsx(SY,{shot:t}),E.jsx(zK,{shot:t}),E.jsx(Qo,{mediaFolder:t.MediaFolder_genVideo})]}),Output:E.jsxs(E.Fragment,{children:[E.jsx(Qo,{mediaFolder:t.MediaFolder_genVideo}),E.jsx(Qo,{mediaFolder:t.MediaFolder_results}),E.jsx(Qo,{mediaFolder:t.MediaFolder_refVideo})]})}})]})}),EY=ct(({scene:t})=>{const[e,n]=C.useState(null);C.useEffect(()=>{n(null)},[t]);const i=async()=>{const r=prompt("Enter new shot name:");if(!r)return;const a=await t.createShot(r);a&&n(a)};return E.jsxs("div",{className:"d-flex flex-column gap-3",children:[E.jsx($K,{initialHeight:200,children:E.jsxs("div",{className:"d-flex overflow-auto gap-2 h-100",children:[t.shots.map(r=>E.jsx(FK,{shot:r,isSelected:e===r,onClick:n},r.folder.name)),E.jsx("div",{className:"mt-2",children:E.jsx(ut,{label:"+ Add Shot",onClick:i})})]})}),E.jsxs("div",{children:[E.jsx(f_,{onClick:()=>{t.generateAllShotImages()},label:"Generate ALL",is_loading:t.is_generating_all_shot_images}),E.jsx(ut,{label:"+ Add Shot",onClick:i}),E.jsx(ut,{label:"Export Resolve XML",onClick:()=>{t.createResolveXML()}})]}),e&&E.jsx(bY,{shot:e})]})}),wY=ct(({project:t})=>{switch(t.currentView.type){case"settings":return E.jsx(m6,{project:t});case"script":return E.jsx(g6,{project:t});case"artbook":return t.artbook?E.jsx(y6,{artbook:t.artbook}):E.jsx("div",{children:"No Artbook found."});case"scene":if(!t.selectedScene)return null;const e=t.selectedScene;return E.jsxs("div",{children:[E.jsx("h2",{children:e.folder.name}),E.jsx(Ea,{tabs:{Scene:E.jsx(BK,{scene:e}),Shots:E.jsx(EY,{scene:e})}})]});default:return null}}),CY=ct(()=>{const[t]=C.useState(()=>new f6(null)),e=async()=>{try{const i=await window.showDirectoryPicker();await t.loadFromFolder(i)}catch(i){console.error(i)}},n=async i=>{let r=await i.queryPermission({mode:"readwrite"});r!=="granted"&&(r=await i.requestPermission({mode:"readwrite"})),r==="granted"&&await t.loadFromFolder(i)};return C.useEffect(()=>{(async()=>{if(await t.loadDB(),t.userSettingsDB.data.lastOpenedFolder){const r=t.userSettingsDB.data.lastOpenedFolder;let a=await r.queryPermission({mode:"readwrite"});a!=="granted"&&(a=await r.requestPermission({mode:"readwrite"})),a==="granted"&&await t.loadFromFolder(r)}})()},[]),E.jsxs("div",{style:{minHeight:"100vh"},children:[E.jsx(d6,{onOpenFolder:e,recentFolders:t.userSettingsDB.data.recentFolders,onOpenRecent:n,project:t}),E.jsxs("div",{className:"d-flex",style:{height:"calc(100vh - 56px)",overflow:"hidden"},children:[E.jsx(p6,{project:t}),E.jsx("div",{className:"flex-grow-1 d-flex flex-column overflow-hidden",children:E.jsx("div",{className:"flex-grow-1 overflow-auto p-3",children:E.jsx(wY,{project:t})})})]})]})}),TY=C.createContext(void 0),AY=({children:t})=>{const[e,n]=C.useState(null);return E.jsx(TY.Provider,{value:{contentArea:e,setContentArea:n},children:t})};jP.createRoot(document.getElementById("root")).render(E.jsx(C.StrictMode,{children:E.jsx(AY,{children:E.jsx(CY,{})})}));
